!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=126)}([function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);t.Promise="undefined"!=typeof window&&window.Promise?window.Promise:void 0!==e&&e.Promise?e.Promise:r.Promise,t._assign=function(e){return e?JSON.parse(JSON.stringify(e)):null},t.fastCHAIN=function(e,n){return new t.Promise(function(t,o){if(e&&e.length){var i=[],a=function(){i.length<e.length?n(e[i.length],i.length,function(e){i.push(e),r.setFast(a)}):t(i)};a()}else t([])})},t.fastRACE=function(e,n){return new t.Promise(function(t,r){if(e&&e.length){var o=!1,i=0,a=function(){i<e.length&&(n(e[i],i,function(e){o||(o=!0,t([e]))}),i++,a())};a()}else t([])})},t.fastALL=function(e,n){return t.Promise.all((e||[]).map(function(e,r){return new t.Promise(function(t,o){n(e,r,function(e){t(e)})})}))};var o="undefined"==typeof window?"":navigator.userAgent||"";t.isSafari=0!==o.length&&(/^((?!chrome|android).)*safari/i.test(o)||/iPad|iPhone|iPod/.test(o)&&!window.MSStream),t.isMSBrowser=0!==o.length&&(o.indexOf("MSIE ")>0||o.indexOf("Trident/")>0||o.indexOf("Edge/")>0),t.isAndroid=/Android/.test(o),t.random16Bits=function(){if("undefined"==typeof crypto)return Math.round(Math.random()*Math.pow(2,16));if(crypto.getRandomValues){var t=new Uint16Array(1);return crypto.getRandomValues(t),t[0]}return void 0!==e&&e._crypto.randomBytes?e._crypto.randomBytes(2).reduce(function(e,t){return t*e}):Math.round(Math.random()*Math.pow(2,16))},t.timeid=function(e){for(var n=Math.round((new Date).getTime()/(e?1:1e3)).toString();n.length<(e?13:10);)n="0"+n;return n+"-"+(t.random16Bits()+t.random16Bits()).toString(16)},t.intersect=function(e,t){return!(!e||!t)&&(!(!e.length||!t.length)&&(e||[]).filter(function(e){return-1!==(t||[]).indexOf(e)}).length>0)},t.uuid=function(){var e,n,r="";return[r,r,r,r,r,r,r,r].reduce(function(o,i,a){for(e=t.random16Bits(),n=3===a?4:4===a?(e%16&3|8).toString(16):r,e=e.toString(16);e.length<4;)e="0"+e;return o+([2,3,4,5].indexOf(a)>-1?"-":r)+(n+e).slice(0,4)},r)};var i={int:function(e){return e},uuid:t.uuid,timeId:function(){return t.timeid()},timeIdms:function(){return t.timeid(!0)}};t.hash=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString(16)},t.generateID=function(e,t){return i[e]?i[e](t||1):""},t.cleanArgs=function(e,n){for(var r={},o=e.length;o--;){var i=e[o].split(":");i.length>1?r[i[0]]=t.cast(i[1],n[i[0]]||void 0):r[i[0]]=n[i[0]]||void 0}return r},t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.cast=function(e,n){if("any"===e||"blob"===e)return n;var r=typeof n;if("undefined"===r||null===n)return n;var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},i=function(e,n){switch(e){case"safestr":return i("string",n).replace(/[&<>"'`=\/]/gim,function(e){return o[e]});case"int":return"number"!==r||n%1!=0?parseInt(n||0):n;case"number":case"float":return"number"!==r?parseFloat(n||0):n;case"any[]":case"array":return Array.isArray(n)?n:[];case"uuid":case"timeId":case"timeIdms":case"string":return"string"!==r?String(n):n;case"object":case"obj":case"map":return t.isObject(n)?n:{};case"boolean":case"bool":return!0===n}return n},a=i(String(e||"").toLowerCase(),n);if(-1!==e.indexOf("[]")){var s=e.slice(0,e.lastIndexOf("[]"));return(n||[]).map(function(e){return t.cast(s,e)})}return void 0!==a?["int","float","number"].indexOf(e)>-1&&isNaN(a)?0:a:void 0},t.sortedInsert=function(e,n,r,o){return e.length?(e.splice(t.binarySearch(e,n),0,n),e):(e.push(n),e)},t.binarySearch=function(e,n,r,o){var i=e.length,a=r||0,s=void 0!==o?o:i-1;if(0===i)return 0;if(n>e[s])return s+1;if(n<e[a])return a;if(a>=s)return 0;var u=a+Math.floor((s-a)/2);return n<e[u]?t.binarySearch(e,n,a,u-1):n>e[u]?t.binarySearch(e,n,u+1,s):0},t.removeDuplicates=function(e){if(!e.length)return[];for(var t=[e[0]],n=1;n<e.length;n++)e[n]!==e[n-1]&&t.push(e[n]);return t},t.deepFreeze=function(e){return Object.getOwnPropertyNames(e||{}).forEach(function(n){var r=e[n];"object"==typeof r&&null!==r&&(e[n]=t.deepFreeze(r))}),Object.freeze(e)};var a={};t.objQuery=function(e,t,n){var r=function(e,t,n){return e[t]&&n?r(e,t+1,n[e[t]]):n},o=e+(n?"1":"0");if(a[o])return r(a[o],0,t);var i=[];if(i=e.indexOf("[")>-1?[].concat.apply([],e.split(".").map(function(e){return e.match(/([^\[]+)|\[([^\]]+)\]\[/gim)||e})).map(function(e){return e.replace(/\[|\]/gim,"")}):e.split("."),n){var s=i.shift()+"."+i.shift();i.unshift(s)}return a[o]=i,r(a[o],0,t)}}).call(this,n(33))},function(e,t){var n=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(12)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(13),o=n(46),i=n(29),a=Object.defineProperty;t.f=n(3)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(30)("wks"),o=n(16),i=n(2).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){var r=n(79),o=n(32);e.exports=function(e){return r(o(e))}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(4),o=n(15);e.exports=n(3)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(2),o=n(1),i=n(47),a=n(9),s=n(5),u=function(e,t,n){var l,c,f,d=e&u.F,p=e&u.G,h=e&u.S,y=e&u.P,m=e&u.B,v=e&u.W,g=p?o:o[t]||(o[t]={}),b=g.prototype,_=p?r:h?r[t]:(r[t]||{}).prototype;for(l in p&&(n=t),n)(c=!d&&_&&void 0!==_[l])&&s(g,l)||(f=c?_[l]:n[l],g[l]=p&&"function"!=typeof _[l]?n[l]:m&&c?i(f,r):v&&_[l]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):y&&"function"==typeof f?i(Function.call,f):f,y&&((g.virtual||(g.virtual={}))[l]=f,e&u.R&&b&&!b[l]&&a(b,l,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=0,r={},o=Array.prototype.slice,i="undefined"!=typeof window&&window.setImmediate?window.setImmediate:!(void 0===e||!e.setImmediate)&&e.setImmediate,a="undefined"!=typeof window&&window.postMessage&&window.addEventListener,s="undefined"!=typeof window&&window.Promise?window.Promise:!(void 0===e||!e.Promise)&&e.Promise,u=function(e){return e[0].apply(null,o.call(e,1))};a&&window.addEventListener("message",function(e){var t,n=e.data;"string"==typeof n&&0===n.indexOf("setMsg")&&(t=r[n])&&(delete r[n],u(t))});var l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=n++,i="setMsg"+o;return r[i]=e,window.postMessage(i,"*"),o};t.setFast=i?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i(function(){u(e)})}:s?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];s.resolve().then(function(){u(e)})}:a?l:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];setTimeout(function(){u(e)},0)};var c=function(){},f=["R"],d=["F"],p=["P"],h=function(){function t(e){this._state=p,this._queue=[],this._outcome=void 0,e!==c&&b(this,e)}return t.doPolyFill=function(){void 0!==e&&(e.Promise||(e.Promise=this)),"undefined"!=typeof window&&(window.Promise||(window.Promise=this))},t.prototype.catch=function(e){return this.then(function(){},e)},t.prototype.then=function(e,n){if("function"!=typeof e&&this._state===d||"function"!=typeof n&&this._state===f)return this;var r=new t(c);this._state!==p?m(r,this._state===d?e:n,this._outcome):this._queue.push(new y(r,e,n));return r},t.resolve=function(e){return e instanceof this?e:v._resolve(new t(c),e)},t.reject=function(e){return v._reject(new t(c),e)},t.all=function(e){return new t(function(t,n){var r=[];if(e.length)for(var o=function(n,o,i){void 0!==i?r.push(i):r.push(o),r.length==e.length&&t(r)},i=function(t){e[t].then(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o(0,e,void 0)}).catch(function(e){o(0,void 0,e)})},a=0;a<e.length;a++)i(a);else t([])})},t.race=function(e){var n,r=this,o=e.length,i=!1,a=-1,s=new t(c);if(!1!==Array.isArray(e))return this.reject(new TypeError);if(!o)return this.resolve([]);for(;++a<o;)n=e[a],r.resolve(n).then(function(e){i||(i=!0,v._resolve(s,e))},function(e){i||(i=!0,v._reject(s,e))});return s},t}();t.Promise=h;var y=function(){function e(e,t,n){this._promise=e,"function"==typeof t&&(this._onFulfilled=t,this._callFulfilled=this._otherCallFulfilled),"function"==typeof n&&(this._onRejected=n,this._callRejected=this._otherCallRejected)}return e.prototype._callFulfilled=function(e){v._resolve(this._promise,e)},e.prototype._otherCallFulfilled=function(e){m(this._promise,this._onFulfilled,e)},e.prototype._callRejected=function(e){v._reject(this._promise,e)},e.prototype._otherCallRejected=function(e){m(this._promise,this._onRejected,e)},e}();function m(e,n,r){t.setFast(function(){var t;try{t=n.apply(null,r)}catch(t){return v._reject(e,t)}return t===e?v._reject(e,new TypeError):v._resolve(e,t),null})}t._QueueItem=y;var v=function(){function e(){}return e._resolve=function(t,n){var r=_(g,n),o=r._value,i=-1,a=t._queue.length;if("error"===r._status)return e._reject(t,r._value);if(o)b(t,o);else for(t._state=d,t._outcome=n;++i<a;)t._queue[i]._callFulfilled(n);return t},e._reject=function(e,t){e._state=f,e._outcome=t;for(var n=-1,r=e._queue.length;++n<r;)e._queue[n]._callRejected(t);return e},e}();function g(e){var t=e&&e.then;return!e||"object"!=typeof e&&"function"!=typeof e||"function"!=typeof t?null:function(){t.apply(e,arguments)}}function b(e,t){var n=!1;function r(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];n||(n=!0,v._reject(e,t))}function o(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];n||(n=!0,v._resolve(e,t))}var i=_(function(){t(o,r)});"error"===i._status&&r(i._value)}function _(e,t){var n={_status:null,_value:null};try{n._value=e(t),n._status="success"}catch(e){n._status="error",n._value=e}return n}}).call(this,n(33))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(8);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";e.exports=n(125)},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(){function e(){this._sorted=[],this._indexOf={},this.ai=1,this.doAI=!1}return e.prototype.set=function(e){var t=this;if(this._sorted=e||[],this._indexOf={},this._sorted.forEach(function(e,n){t._indexOf[String(e)]=n}),this.doAI&&this._sorted.length){var n=this._sorted.length;this.ai=this._sorted[n-1]+1}},e.prototype.getLocation=function(e){var t=this.indexOf(e);return-1!==t?t:r.binarySearch(this._sorted,e)},e.prototype.add=function(e){if(this.doAI)parseInt(e)>=this.ai&&this.ai++,this._indexOf[String(e)]=this._sorted.length,this._sorted.push(e);else{var t=r.binarySearch(this._sorted,e);this._sorted.splice(t,0,e),this._indexOf[String(e)]=t;for(var n=t+1;n<this._sorted.length;n++)this._indexOf[String(this._sorted[n])]++}},e.prototype.keys=function(){return this._sorted},e.prototype.indexOf=function(e){return void 0!==this._indexOf[String(e)]?this._indexOf[String(e)]:-1},e.prototype.remove=function(e){var t=this._indexOf[String(e)];if(void 0!==t){delete this._indexOf[String(e)],this._sorted.splice(t,1);for(var n=t;n<this._sorted.length;n++)this._indexOf[String(this._sorted[n])]--}},e}();t.DatabaseIndex=o},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),i=n(110),a=n(109),s=n(108),u=n(0),l=n(107),c=n(99),f=1.41,d=["_util"],p=function(){function e(){this.version=f,this._onConnectedCallBacks=[];var e=this;e._actions={},e._views={},e.dataModels={},e._events=["*","change","delete","upsert","drop","select","error"],e._hasEvents={},e.tableNames=[],e.plugins=[],e.hasPK={},e.skipPurge={},e.toRowFns={},e.tablePKs={},e.toColFns={},e.toColRules={},e._randoms=[],e._randomPtr=0,e.hasAnyEvents=!1;for(var t=0;t<200;t++)e._randoms.push(u.random16Bits().toString(16));e._callbacks={},e._callbacks["*"]=new s.ReallySmallEvents,e.iB=new l.NanoSQLDefaultBackend;var n={models:{},actions:{},views:{},config:{},parent:this};e.iB.willConnect&&e.iB.willConnect(n,function(){e.iB.didConnect&&e.iB.didConnect(n,function(){})})}return e.prototype.toColumn=function(e){return this.toColFns[this.sTable]||(this.toColFns[this.sTable]={}),this.toColFns[this.sTable]=e,this},e.prototype.toRow=function(e){return this.toRowFns[this.sTable]||(this.toRowFns[this.sTable]={}),this.toRowFns[this.sTable]=e,this},e.prototype.fastRand=function(){return this._randomPtr++,this._randomPtr>=this._randoms.length&&(this._randomPtr=0),this._randoms[this._randomPtr]},e.prototype.table=function(e){return e&&(this.sTable=e),this},e.prototype.connect=function(){var e=this,t=this;return new u.Promise(function(n,r){var o={models:t.dataModels,actions:t._actions,views:t._views,config:t._config,parent:e};o.models[d[0]]=[{key:"key",type:"string",props:["pk()","ai()"]},{key:"value",type:"any"}],t._config&&t._config.history&&e.use(new c._NanoSQLHistoryPlugin(t._config.historyMode)),t._config&&!1===t._config.mode||e.use(new l.NanoSQLDefaultBackend),u.fastCHAIN(e.plugins,function(e,t,n){e.willConnect?e.willConnect(o,function(e){o=e,n()}):n()}).then(function(){e.dataModels=o.models,e._actions=o.actions,e._views=o.views,e._config=o.config,Object.keys(e.dataModels).forEach(function(t){var n=!1;e.dataModels[t]=e.dataModels[t].filter(function(e){return"*"!==e.key||"*"!==e.type||(n=!0,!1)}),e.skipPurge[t]=n}),e.plugins.forEach(function(t){t.didExec&&(e.pluginHasDidExec=!0)}),t.tableNames=Object.keys(e.dataModels);var r=function(){u.fastALL(e.plugins,function(e,t,n){e.didConnect?e.didConnect(o,function(){n()}):n()}).then(function(){e.isConnected=!0,e._onConnectedCallBacks.length&&e._onConnectedCallBacks.forEach(function(e){return e()}),n(t.tableNames)})},i=function(t){e.query("upsert",{key:"version",value:e.version}).manualExec({table:"_util"}).then(function(){t?e.extend("rebuild_idx").then(function(){r()}):r()})};e.query("select").where(["key","=","version"]).manualExec({table:"_util"}).then(function(e){e.length?e[0].value<=1.21?i(!0):e[0].value<f?i(!1):r():i(!0)})})})},e.prototype.getActions=function(e){return this._actions[e].map(function(e){return{name:e.name,args:e.args}})},e.prototype.getViews=function(e){return this._views[e].map(function(e){return{name:e.name,args:e.args}})},e.prototype.getConfig=function(){return this._config},e.prototype.avFilter=function(e){return this._AVMod=e,this},e.prototype.use=function(e){return this.plugins.push(e),this},e.prototype.on=function(e,t){var n=this,r=n.sTable,o=n._events.length,i=e.split(" ");if(Array.isArray(r))return this;for(n._callbacks[r]||(n._callbacks[r]=new s.ReallySmallEvents),o=i.length;o--;)-1!==n._events.indexOf(i[o])&&n._callbacks[r].on(i[o],t);return n._refreshEventChecker()},e.prototype.off=function(e,t){var n=this,r=e.split(" "),o=r.length,i=n.sTable;if(Array.isArray(i))return this;for(;o--;)-1!==n._events.indexOf(r[o])&&n._callbacks[i].off(r[o],t);return n._refreshEventChecker()},e.prototype._refreshEventChecker=function(){var e=this;return this._hasEvents={},Object.keys(this._callbacks).concat(["*"]).forEach(function(t){e._hasEvents[t]=e._events.reduce(function(n,r){return n+(e._callbacks[t]&&e._callbacks[t].eventListeners[r]?e._callbacks[t].eventListeners[r].length:0)},0)>0}),this.hasAnyEvents=!1,Object.keys(this._hasEvents).forEach(function(t){e.hasAnyEvents=e.hasAnyEvents||e._hasEvents[t]}),this},e.prototype.model=function(e,t,n){var r=this,o=this,i=o.sTable;if(Array.isArray(i))return this;o._callbacks[i]||(o._callbacks[i]=new s.ReallySmallEvents);var a=!1;if(!n){if(-1!==["string","safestr","timeId","timeIdms","uuid","int","float","number","array","map","bool","blob","any"].indexOf(i.replace(/\W/gim,""))||0===i.indexOf("_")||null!==i.match(/[\(\)\]\[\.]/g))throw Error("Invalid Table Name! https://docs.nanosql.io/setup/data-models");(e||[]).forEach(function(e){if(null!==e.key.match(/[\(\)\]\[\.]/g)||0===e.key.indexOf("_"))throw Error("Invalid Data Model! https://docs.nanosql.io/setup/data-models")})}return o.toColRules[i]={},(e||[]).forEach(function(e){e.props&&e.props.forEach(function(t){if(-1!==t.indexOf("from=>")&&-1!==t.indexOf("(")){var n=t.replace("from=>","").split("(").shift(),r=t.replace("from=>","").split("(").pop().replace(")","").split(",").map(function(e){return e.trim()});o.toColRules[i][e.key]=[n].concat(r)}if(0===t.indexOf("toColumn.")){n=t.replace(/toColumn\.(.*)\(.*\)/gim,"$1"),r=t.replace(/toColumn\..*\((.*)\)/gim,"$1").split(",").map(function(e){return e.trim()});o.toColRules[i][e.key]=[n].concat(r)}}),e.props&&u.intersect(["pk","pk()"],e.props)&&(r.tablePKs[i]=e.key,a=!0)}),this.hasPK[i]=a,a||(this.tablePKs[i]="_id_",e.unshift({key:"_id_",type:"uuid",props:["pk()"]})),o.dataModels[i]=e,o._views[i]=[],o._actions[i]=[],o},e.prototype.views=function(e){return Array.isArray(this.sTable)?this:(this._views[this.sTable]=e,this)},e.prototype.getView=function(e,t){return void 0===t&&(t={}),Array.isArray(this.sTable)?new u.Promise(function(e,t){return t()}):this._doAV("View",this._views[this.sTable],e,t)},e.prototype.actions=function(e){return Array.isArray(this.sTable)?this:(this._actions[this.sTable]=e,this)},e.prototype.doAction=function(e,t){return Array.isArray(this.sTable)?new u.Promise(function(e,t){return t()}):this._doAV("Action",this._actions[this.sTable],e,t)},e.prototype.queryFilter=function(e){return this.queryMod=e,this},e.prototype._doAV=function(e,t,n,r){var o=this,i=this,a=t.reduce(function(e,t){return t.name===n?t:e},null);return a?(i._activeAV=n,i._AVMod?new u.Promise(function(t,n){i._AVMod(o.sTable,e,i._activeAV||"",r,function(e){a.call(a.args?u.cleanArgs(a.args,e):{},i).then(t).catch(n)},function(e){n(e)})}):a.call(a.args?u.cleanArgs(a.args,r):{},i)):new u.Promise(function(e,t){return t("Action/View Not Found!")})},e.prototype.query=function(e,t){var n=this._activeAV;return this._activeAV=void 0,new i._NanoSQLQuery(this,this.sTable,e,t,n)},e.prototype.onConnected=function(e){this.isConnected?e():this._onConnectedCallBacks.push(e)},e.prototype.triggerEvent=function(e){var t=this;if(t._hasEvents["*"]||t._hasEvents[e.table]){if("*"===e.table)return this;o.setFast(function(){e.types.forEach(function(n){t._callbacks["*"].trigger(n,e,t),t._callbacks["*"].trigger("*",e,t),e.table&&t._callbacks[e.table]&&t._callbacks[e.table].trigger(n,e,t)})})}return t},e.prototype.default=function(e){var t={},n=this;return Array.isArray(n.sTable)?{}:(n.dataModels[n.sTable].forEach(function(n){t[n.key]=e&&e[n.key]?e[n.key]:n.default,void 0===t[n.key]&&(t[n.key]=u.cast(n.type,null))}),t)},e.prototype.rawDump=function(e){var t=this;return new u.Promise(function(n,o){var i={};u.fastCHAIN(t.plugins,function(t,n,o){t.dumpTables?t.dumpTables(e).then(function(e){i=r({},i,e),o(i)}):o()}).then(function(){n(i)})})},e.prototype.rawImport=function(e){var t=this;return new u.Promise(function(n,r){u.fastCHAIN(t.plugins,function(t,n,r){t.importTables?t.importTables(e).then(r):r()}).then(function(){n()})})},e.prototype.disconnect=function(){return u.fastCHAIN(this.plugins,function(e,t,n){e.willDisconnect?e.willDisconnect(n):n()})},e.prototype.doTransaction=function(e){var t=this,n=this,o=[],i=u.random16Bits().toString(16);return new u.Promise(function(s,l){n.plugins.length?u.fastCHAIN(n.plugins,function(e,t,n){e.transactionBegin?e.transactionBegin(i,n):n()}).then(function(){Array.isArray(n.sTable)||e(function(e){var t=e||n.sTable;return{query:function(e,n){return new a._NanoSQLTransactionQuery(e,n,t,o,i)}}},function(){var e=[];u.fastCHAIN(o,function(t,o,a){e.push(t.table),n.query(t.action,t.actionArgs).manualExec(r({},t,{table:t.table,transaction:!0,queryID:i})).then(a)}).then(function(r){u.fastCHAIN(t.plugins,function(e,t,n){e.transactionEnd?e.transactionEnd(i,n):n()}).then(function(){e.filter(function(e,t,n){return n.indexOf(e)===t}).forEach(function(e){0!==e.indexOf("_")&&n.triggerEvent({query:o[0],table:e,time:(new Date).getTime(),result:r,types:["transaction"],actionOrView:"",notes:[],transactionID:i,affectedRowPKS:[],affectedRows:[]})}),s(r)})})})}):l("Nothing to do, no plugins!")})},e.prototype.config=function(e){return this._config=e,this},e.prototype.extend=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;return new u.Promise(function(t,r){if(n.plugins.length){var o=e,i=[];u.fastCHAIN(n.plugins,function(e,t,n){e.extend?e.extend(function(e,t){o=e,i=t,n()},o,i):n()}).then(function(){t(i)})}else r("No plugins!")})},e.prototype.loadJS=function(e,t,n,r){var o=this;return n?this.doTransaction(function(n,r){t.forEach(function(t){n(e).query("upsert",t).exec()}),r()}):new u.Promise(function(n,i){u.fastCHAIN(t,function(n,i,a){r&&r(Math.round((i+1)/t.length*1e4)/100),o.query("upsert",n).manualExec({table:e}).then(a)}).then(function(e){n(e.map(function(e){return e.shift()}))})})},e.prototype.loadCSV=function(e,t,n,r,o){var i=this,a=[],s=t.split("\n").map(function(e,t){if(0!==t){var n={},o=e.match(/(,)|(["|\[|\{].*?["|\]|\}]|[^",\s]+)(?=\s*,|\s*$)/g)||[],i=!1;","===o[0]&&o.unshift("");for(var s=function(){var e=!1;if(o.forEach(function(t,n){e||","===t&&(void 0!==o[n+1]&&","!==o[n+1]||(e=!0,o.splice(n+1,0,"")))}),e)return"break";i=!0};!i;){if("break"===s())break}o=o.filter(function(e,t){return t%2==0});for(var u=a.length;u--;)1===o[u].indexOf("{")||1===o[u].indexOf("[")?o[u]=JSON.parse(o[u].slice(1,o[u].length-1).replace(/'/gm,'"')):0===o[u].indexOf('"')&&(o[u]=o[u].slice(1,o[u].length-1)),n[a[u]]=o[u];return r?r(n):n}a=e.split(",")}).filter(function(e){return e});return n?this.doTransaction(function(t,n){s.forEach(function(n){t(e).query("upsert",n).exec()}),n()}):new u.Promise(function(t,n){u.fastCHAIN(s,function(t,n,r){o&&o(Math.round((n+1)/s.length*1e4)/100),i.query("upsert",t).manualExec({table:e}).then(r)}).then(function(e){t(e.map(function(e){return e.shift()}))})})},e}();t.NanoSQLInstance=p,p.functions={COUNT:{type:"A",call:function(e,t,n){t(n&&"*"!==n?e.filter(function(e){return u.objQuery(n,e)}).length:e.length)}},MAX:{type:"A",call:function(e,t,n){if(e.length){var r=u.objQuery(n,e[0])||0;e.forEach(function(e){u.objQuery(n,e);u.objQuery(n,e)>r&&(r=u.objQuery(n,e))}),t(r)}else t(0)}},MIN:{type:"A",call:function(e,t,n){if(e.length){var r=u.objQuery(n,e[0])||0;e.forEach(function(e){var t=u.objQuery(n,e);t<r&&(r=t)}),t(r)}else t(0)}},AVG:{type:"A",call:function(e,t,n){t(e.reduce(function(e,t){return e+(u.objQuery(n,t)||0)},0)/e.length)}},SUM:{type:"A",call:function(e,t,n){t(e.reduce(function(e,t){return e+(u.objQuery(n,t)||0)},0))}},LOWER:{type:"S",call:function(e,t,n){t(e.map(function(e){return String(u.objQuery(n,e)).toLowerCase()}))}},UPPER:{type:"S",call:function(e,t,n){t(e.map(function(e){return String(u.objQuery(n,e)).toUpperCase()}))}},CAST:{type:"S",call:function(e,t,n,r){t(e.map(function(e){return u.cast(r,u.objQuery(n,e))}))}},ABS:{type:"S",call:function(e,t,n){t(e.map(function(e){return Math.abs(u.objQuery(n,e))}))}},CEIL:{type:"S",call:function(e,t,n){t(e.map(function(e){return Math.ceil(u.objQuery(n,e))}))}},POW:{type:"S",call:function(e,t,n,r){t(e.map(function(e){return Math.pow(u.objQuery(n,e),parseInt(r))}))}},ROUND:{type:"S",call:function(e,t,n){t(e.map(function(e){return Math.round(u.objQuery(n,e))}))}},SQRT:{type:"S",call:function(e,t,n){t(e.map(function(e){return Math.sqrt(u.objQuery(n,e))}))}}};var h=new p;t.nSQL=function(e){return h.table(e)},"undefined"!=typeof window&&(window["nano-sql"]={nSQL:t.nSQL,NanoSQLInstance:p})},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(2),o=n(1),i=n(27),a=n(21),s=n(4).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){t.f=n(6)},function(e,t,n){var r=n(4).f,o=n(5),i=n(6)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(41),o=n(23);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(13),o=n(80),i=n(23),a=n(31)("IE_PROTO"),s=function(){},u=function(){var e,t=n(45)("iframe"),r=i.length;for(t.style.display="none",n(75).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[i[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:o(n,t)}},function(e,t){e.exports={}},function(e,t){e.exports=!0},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(8);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(2),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){var r=n(30)("keys"),o=n(16);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";var r=n(34);r=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i="Warning: "+e.replace(/%s/g,function(){return n[o++]});"undefined"!=typeof console&&console.error(i);try{throw new Error(i)}catch(e){}}).apply(void 0,[t].concat(r))}},e.exports=r},function(e,t,n){"use strict";var r=function(e){};r=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")},e.exports=function(e,t,n,o,i,a,s,u){if(r(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,i,a,s,u],f=0;(l=new Error(t.replace(/%s/g,function(){return c[f++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){var r=n(19),o=n(15),i=n(7),a=n(29),s=n(5),u=n(46),l=Object.getOwnPropertyDescriptor;t.f=n(3)?l:function(e,t){if(e=i(e),t=a(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(41),o=n(23).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(5),o=n(7),i=n(78)(!1),a=n(31)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~i(l,n)||l.push(n));return l}},function(e,t,n){e.exports=n(9)},function(e,t,n){"use strict";var r=n(27),o=n(10),i=n(42),a=n(9),s=n(26),u=n(81),l=n(22),c=n(48),f=n(6)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,h,y,m,v){u(n,t,h);var g,b,_,w=function(e){if(!d&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",k="values"==y,C=!1,S=e.prototype,T=S[f]||S["@@iterator"]||y&&S[y],E=T||w(y),I=y?k?w("entries"):E:void 0,O="Array"==t&&S.entries||T;if(O&&(_=c(O.call(new e)))!==Object.prototype&&_.next&&(l(_,x,!0),r||"function"==typeof _[f]||a(_,f,p)),k&&T&&"values"!==T.name&&(C=!0,E=function(){return T.call(this)}),r&&!v||!d&&!C&&S[f]||a(S,f,E),s[t]=E,s[x]=p,y)if(g={values:k?E:w("values"),keys:m?E:w("keys"),entries:I},v)for(b in g)b in S||i(S,b,g[b]);else o(o.P+o.F*(d||C),t,g);return g}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(85)),o=a(n(70)),i="function"==typeof o.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof o.default&&"symbol"===i(r.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":i(e)}},function(e,t,n){var r=n(8),o=n(2).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){e.exports=!n(3)&&!n(12)(function(){return 7!=Object.defineProperty(n(45)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(92);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(5),o=n(49),i=n(31)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(32);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var r=n(36),o=n(35),i=n(124),a={};e.exports=function(e,t,n,s,u){for(var l in e)if(e.hasOwnProperty(l)){var c;try{r("function"==typeof e[l],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",s||"React class",n,l,typeof e[l]),c=e[l](t,l,s,n,null,i)}catch(e){c=e}if(o(!c||c instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",s||"React class",n,l,typeof c),c instanceof Error&&!(c.message in a)){a[c.message]=!0;var f=u?u():"";o(!1,"Failed %s type: %s%s",n,c.message,null!=f?f:"")}}}},function(e,t,n){"use strict";var r={};Object.freeze(r),e.exports=r},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))o.call(n,l)&&(s[l]=n[l]);if(r){a=r(n);for(var c=0;c<a.length;c++)i.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},function(e,t,n){var r=n(10);r(r.S,"Object",{create:n(25)})},function(e,t,n){n(53);var r=n(1).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){e.exports={default:n(54),__esModule:!0}},function(e,t,n){var r=n(8),o=n(13),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(47)(Function.call,n(37).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){var r=n(10);r(r.S,"Object",{setPrototypeOf:n(56).set})},function(e,t,n){n(57),e.exports=n(1).Object.setPrototypeOf},function(e,t,n){e.exports={default:n(58),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(59)),o=a(n(55)),i=a(n(44));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){n(20)("observable")},function(e,t,n){n(20)("asyncIterator")},function(e,t){},function(e,t,n){var r=n(7),o=n(38).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,t,n){var r=n(40);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(24),o=n(39),i=n(19);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,s=n(e),u=i.f,l=0;s.length>l;)u.call(e,a=s[l++])&&t.push(a);return t}},function(e,t,n){var r=n(16)("meta"),o=n(8),i=n(5),a=n(4).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(12)(function(){return u(Object.preventExtensions({}))}),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return l&&f.NEED&&u(e)&&!i(e,r)&&c(e),e}}},function(e,t,n){"use strict";var r=n(2),o=n(5),i=n(3),a=n(10),s=n(42),u=n(67).KEY,l=n(12),c=n(30),f=n(22),d=n(16),p=n(6),h=n(21),y=n(20),m=n(66),v=n(65),g=n(13),b=n(8),_=n(7),w=n(29),x=n(15),k=n(25),C=n(64),S=n(37),T=n(4),E=n(24),I=S.f,O=T.f,P=C.f,R=r.Symbol,A=r.JSON,N=A&&A.stringify,M=p("_hidden"),L=p("toPrimitive"),q={}.propertyIsEnumerable,j=c("symbol-registry"),D=c("symbols"),F=c("op-symbols"),U=Object.prototype,W="function"==typeof R,B=r.QObject,H=!B||!B.prototype||!B.prototype.findChild,z=i&&l(function(){return 7!=k(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=I(U,t);r&&delete U[t],O(e,t,n),r&&e!==U&&O(U,t,r)}:O,V=function(e){var t=D[e]=k(R.prototype);return t._k=e,t},K=W&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},Q=function(e,t,n){return e===U&&Q(F,t,n),g(e),t=w(t,!0),g(n),o(D,t)?(n.enumerable?(o(e,M)&&e[M][t]&&(e[M][t]=!1),n=k(n,{enumerable:x(0,!1)})):(o(e,M)||O(e,M,x(1,{})),e[M][t]=!0),z(e,t,n)):O(e,t,n)},$=function(e,t){g(e);for(var n,r=m(t=_(t)),o=0,i=r.length;i>o;)Q(e,n=r[o++],t[n]);return e},Y=function(e){var t=q.call(this,e=w(e,!0));return!(this===U&&o(D,e)&&!o(F,e))&&(!(t||!o(this,e)||!o(D,e)||o(this,M)&&this[M][e])||t)},J=function(e,t){if(e=_(e),t=w(t,!0),e!==U||!o(D,t)||o(F,t)){var n=I(e,t);return!n||!o(D,t)||o(e,M)&&e[M][t]||(n.enumerable=!0),n}},G=function(e){for(var t,n=P(_(e)),r=[],i=0;n.length>i;)o(D,t=n[i++])||t==M||t==u||r.push(t);return r},X=function(e){for(var t,n=e===U,r=P(n?F:_(e)),i=[],a=0;r.length>a;)!o(D,t=r[a++])||n&&!o(U,t)||i.push(D[t]);return i};W||(s((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===U&&t.call(F,n),o(this,M)&&o(this[M],e)&&(this[M][e]=!1),z(this,e,x(1,n))};return i&&H&&z(U,e,{configurable:!0,set:t}),V(e)}).prototype,"toString",function(){return this._k}),S.f=J,T.f=Q,n(38).f=C.f=G,n(19).f=Y,n(39).f=X,i&&!n(27)&&s(U,"propertyIsEnumerable",Y,!0),h.f=function(e){return V(p(e))}),a(a.G+a.W+a.F*!W,{Symbol:R});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)p(Z[ee++]);for(var te=E(p.store),ne=0;te.length>ne;)y(te[ne++]);a(a.S+a.F*!W,"Symbol",{for:function(e){return o(j,e+="")?j[e]:j[e]=R(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!W,"Object",{create:function(e,t){return void 0===t?k(e):$(k(e),t)},defineProperty:Q,defineProperties:$,getOwnPropertyDescriptor:J,getOwnPropertyNames:G,getOwnPropertySymbols:X}),A&&a(a.S+a.F*(!W||l(function(){var e=R();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(b(t)||void 0!==e)&&!K(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!K(t))return t}),r[1]=t,N.apply(A,r)}}),R.prototype[L]||n(9)(R.prototype,L,R.prototype.valueOf),f(R,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){n(68),n(63),n(62),n(61),e.exports=n(1).Symbol},function(e,t,n){e.exports={default:n(69),__esModule:!0}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";var r=n(72),o=n(71),i=n(26),a=n(7);e.exports=n(43)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){n(73);for(var r=n(2),o=n(9),i=n(26),a=n(6)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var l=s[u],c=r[l],f=c&&c.prototype;f&&!f[a]&&o(f,a,l),i[l]=i.Array}},function(e,t,n){var r=n(2).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(28),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(28),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(7),o=n(77),i=n(76);e.exports=function(e){return function(t,n,a){var s,u=r(t),l=o(u.length),c=i(a,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(40);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(4),o=n(13),i=n(24);e.exports=n(3)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){"use strict";var r=n(25),o=n(15),i=n(22),a={};n(9)(a,n(6)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(28),o=n(32);e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),u=r(n),l=s.length;return u<0||u>=l?e?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):i:e?s.slice(u,u+2):a-56320+(i-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(82)(!0);n(43)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){n(83),n(74),e.exports=n(21).f("iterator")},function(e,t,n){e.exports={default:n(84),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(44),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){var r=n(10);r(r.S+r.F*!n(3),"Object",{defineProperty:n(4).f})},function(e,t,n){n(87);var r=n(1).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){e.exports={default:n(88),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(89),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(10),o=n(1),i=n(12);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(49),o=n(48);n(93)("getPrototypeOf",function(){return function(e){return o(r(e))}})},function(e,t,n){n(94),e.exports=n(1).Object.getPrototypeOf},function(e,t,n){e.exports={default:n(95),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(96)),o=c(n(91)),i=c(n(90)),a=c(n(86)),s=c(n(60)),u=n(14),l=c(u);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){return l.default.createElement("div",null,"Account balance ",this.props.nSQLdata)}}],[{key:"tables",value:function(){return["balance"]}},{key:"onChange",value:function(e,t){console.log("account status changed event",e),e.notes.includes("mount")||t(e.affectedRows[0].balance)}}]),t}(u.PureComponent);t.default=f},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=n(18);t.bindNSQL=function(e,t){return function(n){function r(e){var t=n.call(this,e)||this;return t.state={data:void 0,isLoading:!0},t.updateState=t.updateState.bind(t),t}return o(r,n),r.prototype.componentWillMount=function(){if(t&&t.tables&&t.tables.length)this.tables=t.tables;else{if(!e.tables)throw Error("Need tables for nanoSQL HOC!");this.tables=e.tables()}if(t&&t.onChange)this.onChange=t.onChange;else{if(!e.onChange)throw Error("Need tables for nanoSQL HOC!");this.onChange=e.onChange}t&&t.store?this.store=t.store:this.store=s.nSQL();for(var n=this.store.sTable,r=this.tables.length;r--;)this.store.table(this.tables[r]).on("change",this.updateState),this.updateState({table:this.tables[r],query:{table:this.tables[r],action:null,actionArgs:null,state:"complete",result:[],comments:[]},time:Date.now(),notes:["mount"],result:[],types:["change"],actionOrView:"",affectedRows:[]});this.store.table(n)},r.prototype.componentWillUnmount=function(){for(var e=this.store.sTable,t=this.tables.length;t--;)this.store.table(this.tables[t]).off("change",this.updateState);this.store.table(e)},r.prototype.updateState=function(e){var t=this;this.setState({isLoading:!0},function(){t.onChange(e,function(e){t.setState({isLoading:!1,data:e})})})},r.prototype.render=function(){return a.createElement(e,i({nSQLloading:this.state.isLoading,nSQLdata:this.state.data},this.props))},r}(a.Component)}},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=["_hist","_hist_ptr","_id"],a=function(){function e(e){this.historyModeArgs=e,this._tablePkKeys={},this._tablePkTypes={},this._tableKeys={}}return e.prototype.willConnect=function(e,t){var n=this;this.parent=e.parent;var a={};Object.keys(e.models).forEach(function(t){if(0!==t.indexOf("_")){var r=o._assign(e.models[t]).map(function(e){return e.props&&o.intersect(["pk","pk()"],e.props)&&(n._tablePkKeys[t]=e.key,n._tablePkTypes[t]=e.type,n._tableKeys[t]={}),delete e.props,delete e.default,e});r.unshift({key:"_id",type:"timeIdms",props:["pk()"]}),a["_"+t+"__hist_rows"]=r,a["_"+t+"__hist_idx"]=[{key:"id",type:n._tablePkTypes[t],props:["pk()"]},{key:"histRows",type:"timeIdms[]"},{key:"histPtr",type:"number"}]}});var s="string"!=typeof this.historyModeArgs,u=[{key:"id",type:"timeIdms",props:["pk()"]},{key:"table",type:"string"},{key:"keys",type:"any[]"}],l=[{key:"id",type:"timeIdms",props:["pk()"]},{key:"ptr",type:"int"}];"database"!==this.historyModeArgs&&this.historyModeArgs?("database"!==this.historyModeArgs||s)&&(this.historyModes={},s?this.historyModes=o._assign(this.historyModeArgs):Object.keys(this._tablePkKeys).forEach(function(e){n.historyModes[e]=n.historyModeArgs}),Object.keys(this.historyModes).forEach(function(e){"table"===n.historyModes[e]&&(a["_"+e+"__hist"]=u,a["_"+e+"__hist_ptr"]=l)})):(a[i[0]]=u,a[i[1]]=l),e.models=r({},e.models,a),t(e)},e.prototype._histTable=function(e){return e?this.historyModes?"table"===this.historyModes[e]?"_"+e+"__hist":null:"_hist":"__null"},e.prototype._generateHistoryPointers=function(e,t){var n=this,r=this._histTable(e);r?this.parent.query("select").manualExec({table:r+"_ptr"}).then(function(i){i.length?t():n.parent.query("upsert",{id:o.timeid(!0),table:e,ptr:0}).manualExec({table:r+"_ptr"}).then(t)}):t()},e.prototype.didConnect=function(e,t){var n=this,r=function(){o.fastALL(Object.keys(n._tableKeys),function(e,t,r){n.parent.extend("idx","_"+e+"__hist_idx").then(function(t){t.forEach(function(t){n._tableKeys[e][t]=!0}),n.historyModes?n._generateHistoryPointers(e,r):r()})}).then(t)};this.historyModes?r():this.parent.query("select").manualExec({table:"_hist_ptr"}).then(function(e){e.length?r():n.parent.query("upsert",{id:o.timeid(!0),table:"",ptr:0}).manualExec({table:"_hist_ptr"}).then(r)})},e.prototype._purgeRowHistory=function(e,t,n,r){var i=this,a="_"+e+"__hist_rows",s="_"+e+"__hist_idx";o.fastALL(t,function(t,n,u){i.parent.query("select").where(["id","=",t]).manualExec({table:s}).then(function(n){if(n.length){var l=Object.isFrozen(n[0])?o._assign(n[0]):n[0],c=[];if(r)c=c.concat(l.histRows.filter(function(e){return-1!==e})),l.histPtr=0,l.histRows=[];else{for(;l.histPtr--;)c.push(l.histRows.shift());l.histPtr=0}c.length?i.parent.query("upsert",l).comment("History Purge").where(["id","=",t]).manualExec({table:s}).then(function(){i.parent.query("delete").comment("History Purge").where(["_id","IN",c]).manualExec({table:a}).then(function(){r?i.parent.query("select").where([i._tablePkKeys[e],"=",t]).manualExec({table:e}).then(function(n){i._unshiftSingleRow(e,["change"],t,n[0],!1,u)}):u()})}):u()}else u()})}).then(n)},e.prototype._purgeTableHistory=function(e,t,n){var r=this;this.parent.query("select").manualExec({table:e+"_ptr"}).then(function(i){var a=Object.isFrozen(i[0])?o._assign(i[0]):i[0];if(n||a.ptr>0){var s=r.parent.query("select");n||s.range(-1*a.ptr,0),s.manualExec({table:e}).then(function(i){if(i.length){var s={};i.forEach(function(e){s[e.table]||(s[e.table]=[]),s[e.table]=s[e.table].concat(e.keys)}),o.fastALL(Object.keys(s),function(e,t,o){r._purgeRowHistory(e,s[e],o,n)}).then(function(){r.parent.query("delete").comment("History Purge").where(["id","IN",i.map(function(e){return e.id})]).manualExec({table:e}).then(function(){a.ptr=0,r.parent.query("upsert",a).comment("History Purge").where(["id","=",a.id]).manualExec({table:e+"_ptr"}).then(t)})})}else t()})}else t()})},e.prototype._purgeParentHistory=function(e,t,n){if(this.historyModes){var r=this._histTable(e);r?this._purgeTableHistory(r,n):this._purgeRowHistory(e,t,n)}else this._purgeTableHistory("_hist",n)},e.prototype._purgeAllHistory=function(e,t,n){if(this.historyModes){var r=this._histTable(e);r?this._purgeTableHistory(r,n,!0):this._purgeRowHistory(e,[t],n,!0)}else this._purgeTableHistory("_hist",n,!0)},e.prototype.didExec=function(e,t){var n=this;e.table&&0!==e.table.indexOf("_")&&e.types.indexOf("change")>-1&&-1===e.query.comments.indexOf("History Write")?this._purgeParentHistory(e.table,e.affectedRowPKS,function(){o.fastALL(e.affectedRows,function(t,r,o){var i=t[n._tablePkKeys[e.table]];n._tableKeys[e.table][i]?n._unshiftSingleRow(e.table,e.types,i,t,!1,function(e){o(i)}):(n._tableKeys[e.table][i]=!0,n._unshiftSingleRow(e.table,e.types,i,t,!0,function(t){n.parent.query("upsert",{id:i,histRows:[t,-1],histPtr:0}).manualExec({table:"_"+e.table+"__hist_idx"}).then(function(){o(i)})}))}).then(function(r){n._unshiftParent(e,r,t)})}):t(e)},e.prototype._unshiftParent=function(e,t,n){var r=this._histTable(e.table);r?this.parent.query("upsert",{id:o.timeid(!0),table:e.table,keys:t}).manualExec({table:r}).then(function(){n(e)}):n(e)},e.prototype._unshiftSingleRow=function(e,t,n,i,a,s){var u=this,l="_"+e+"__hist_idx",c=o.timeid(!0),f=function(e){u.parent.query("select").where(["id","=",n]).manualExec({table:l}).then(function(t){var r=Object.isFrozen(t[0])?o._assign(t[0]):t[0];r.histRows.unshift(e),u.parent.query("upsert",r).where(["id","=",n]).manualExec({table:l}).then(function(){s(e)})})};t.indexOf("delete")>-1||t.indexOf("drop")>-1?f(-1):this.parent.query("upsert",r({_id:c},i)).manualExec({table:"_"+e+"__hist_rows"}).then(function(){a?s(c):f(c)})},e.prototype.extend=function(e,t,n){if("hist"===t[0]){var r=t[1],o=t[2],i=t[3];switch(r){case"<":case">":this._shiftHistory(r,o,i,function(n){e(t,[n])});break;case"?":this._queryHistory(o,i,function(n){e(t,n)});break;case"rev":this._getRevisionHistory(o,i,function(n){e(t,n)});break;case"clear":this._purgeAllHistory(o,i,function(){e(t,n)})}}else e(t,n)},e.prototype._getRevisionHistory=function(e,t,n){var r=this,a="_"+e+"__hist_idx";this.parent.query("select").where(["id","=",t]).manualExec({table:a}).then(function(t){var a=t[0].histRows.filter(function(e){return-1!==e});r.parent.query("select").where(["_id","IN",a]).manualExec({table:"_"+e+"__hist_rows"}).then(function(e){var r={};e.forEach(function(e){r[e[i[2]]]=Object.isFrozen(e)?o._assign(e):e,delete r[e[i[2]]][i[2]]}),n([{pointer:t[0].histRows.length-t[0].histPtr-1,revisions:t[0].histRows.reverse().map(function(e){return-1===e?null:r[e]})}])})})},e.prototype._getTableHistory=function(e,t){var n=this;this.parent.extend("idx.length",e).then(function(r){n.parent.query("select").manualExec({table:e+"_ptr"}).then(function(e){e.length?t([r,r-e[0].ptr]):t([0,0])})})},e.prototype._queryHistory=function(e,t,n){if(this.historyModes){var r=this._histTable(e);if(r){if(!e)throw Error("Need a table to query this history!");this._getTableHistory(r,n)}else{if(!t)throw Error("Need a row primary key to query this history!");var o="_"+e+"__hist_idx";this.parent.query("select").where(["id","=",t]).manualExec({table:o}).then(function(e){var t=e[0];n([t.histRows.length,t.histRows.length-t.histPtr-1])})}}else this._getTableHistory("_hist",function(e){n(e)})},e.prototype._shiftTableHistory=function(e,t,n){var r=this;this.parent.query("select").manualExec({table:t+"_ptr"}).then(function(i){var a=o._assign(i[0]);a.ptr+="<"===e?1:-1,a.ptr<0&&(a.ptr=0),r.parent.extend("idx.length",t).then(function(s){a.ptr>s&&(a.ptr=s),i[0].ptr!==a.ptr?r.parent.query("select").range(-1,"<"===e?i[0].ptr:a.ptr).manualExec({table:t}).then(function(i){r.parent.query("upsert",a).manualExec({table:t+"_ptr"}).then(function(){o.fastALL(i[0].keys,function(t,n,o){r._shiftRowHistory(e,i[0].table,t,o)}).then(function(e){n(e.indexOf(!0)>-1)})})}):n(!1)})})},e.prototype._shiftRowHistory=function(e,t,n,r){var i=this,a=function(e){i.parent.query("upsert",e).where([i._tablePkKeys[t],"=",n]).manualExec({table:"_"+t+"__hist_idx"}).then(function(){r(!0)})};this.parent.query("select").where([this._tablePkKeys[t],"=",n]).manualExec({table:"_"+t+"__hist_idx"}).then(function(s){var u=o._assign(s[0]);if(u.histPtr+="<"===e?1:-1,u.histPtr<0&&(u.histPtr=0),u.histPtr>u.histRows.length-1&&(u.histPtr=u.histRows.length-1),u.histPtr!==s[0].histPtr){var l=u.histRows[u.histPtr];-1===l?i.parent.query("delete").comment("History Write").where([i._tablePkKeys[t],"=",n]).manualExec({table:t}).then(function(){a(u)}):i.parent.query("select").where(["_id","=",l]).manualExec({table:"_"+t+"__hist_rows"}).then(function(e){i.parent.query("upsert",e[0]).comment("History Write").manualExec({table:t}).then(function(){a(u)})})}else r(!1)})},e.prototype._shiftHistory=function(e,t,n,r){if(this.historyModes){var o=this._histTable(t);if(o){if(!t)throw Error("Need a table to change this history!");this._shiftTableHistory(e,o,r)}else{if(!n)throw Error("Need a row primary key to change this history!");this._shiftRowHistory(e,t,n,r)}}else this._shiftTableHistory(e,"_hist",r)},e}();t._NanoSQLHistoryPlugin=a},function(e,t,n){(function(e){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),i=n(0),a=n(17),s=function(t){e._fs.existsSync(t)&&(e._fs.readdirSync(t).forEach(function(n){var r=t+"/"+n;e._fs.statSync(r).isDirectory()?s(r):e._fs.unlinkSync(r)}),e._fs.rmdirSync(t))},u=function(){function t(e,t,n){this.path=e,this.writeCache=t,this.readCache=n,this._pkKey={},this._pkType={},this._dbIndex={},this._levelDBs={},this._isPKnum={}}return t.prototype.connect=function(t){var n=this;i.fastALL(Object.keys(this._dbIndex),function(t,r,o){var i=[];n._levelDBs[t].createKeyStream().on("data",function(r){i.push(n._isPKnum[t]?new e._Int64BE(r).toNumber():r)}).on("end",function(){i.length&&n._dbIndex[t].set(i),o()})}).then(t)},t.prototype.disconnect=function(e){var t=this;i.fastALL(Object.keys(this._dbIndex),function(e,n,r){t._levelDBs[e].close(r)}).then(function(){e()})},t.prototype.setID=function(t){this._id=t,this._path=(this.path||".")+"/db_"+this._id,e._fs.existsSync(this._path)||e._fs.mkdirSync(this._path)},t.prototype.makeTable=function(t,n){var r=this;this._dbIndex[t]=new a.DatabaseIndex,this._levelDBs[t]=e._levelup(e._leveldown(e._path.join(this._path,t)),{cacheSize:1024*(this.readCache||32)*1024,writeBufferSize:1024*(this.writeCache||32)*1024}),n.forEach(function(e){e.props&&i.intersect(["pk","pk()"],e.props)&&(r._pkType[t]=e.type,r._pkKey[t]=e.key,r._isPKnum[t]=-1!==["int","number","float"].indexOf(e.type)),e.props&&i.intersect(["ai","ai()"],e.props)&&i.intersect(["pk","pk()"],e.props)&&"int"===e.type&&(r._dbIndex[t].doAI=!0)})},t.prototype.write=function(t,n,o,a){if(!(n=n||i.generateID(this._pkType[t],this._dbIndex[t].ai)))throw Error("Can't add a row without a primary key!");-1===this._dbIndex[t].indexOf(n)&&this._dbIndex[t].add(n);var s,u=r({},o,((s={})[this._pkKey[t]]=n,s));this._levelDBs[t].put(this._isPKnum[t]?new e._Int64BE(n).toBuffer():n,JSON.stringify(u),function(e){if(e)throw Error(e);a(u)})},t.prototype.delete=function(t,n,r){-1!==this._dbIndex[t].indexOf(n)&&this._dbIndex[t].remove(n),this._levelDBs[t].del(this._isPKnum[t]?new e._Int64BE(n).toBuffer():n,function(e){if(e)throw Error(e);r()})},t.prototype.read=function(t,n,r){-1!==this._dbIndex[t].indexOf(n)?this._levelDBs[t].get(this._isPKnum[t]?new e._Int64BE(n).toBuffer():n,function(e,t){if(e)throw Error(e);r(JSON.parse(t))}):r(null)},t.prototype.rangeRead=function(t,n,r,i,a,s){var u=this._dbIndex[t].keys(),l=-1===[typeof i,typeof a].indexOf("undefined"),c=l?[i,a]:[0,u.length-1],f=[],d=s&&l?i:u[c[0]],p=s&&l?a:u[c[1]];this._levelDBs[t].createValueStream({gte:this._isPKnum[t]?new e._Int64BE(d).toBuffer():d,lte:this._isPKnum[t]?new e._Int64BE(p).toBuffer():p}).on("data",function(e){f.push(JSON.parse(e))}).on("end",function(){var e=c[0]||0,t=0,i=function(){t<f.length?n(f[t],e,function(){e++,++t%500==0?o.setFast(i):i()}):r()};i()})},t.prototype.drop=function(e,t){var n=this;i.fastALL(this._dbIndex[e].keys(),function(t,r,o){n._levelDBs[e].del(t,o)}).then(function(){var r=new a.DatabaseIndex;r.doAI=n._dbIndex[e].doAI,n._dbIndex[e]=r,t()})},t.prototype.getIndex=function(e,t,n){n(t?this._dbIndex[e].keys().length:this._dbIndex[e].keys())},t.prototype.destroy=function(e){var t=this;i.fastALL(Object.keys(this._dbIndex),function(e,n,r){t.drop(e,function(){t._levelDBs[e].close(r)})}).then(function(){s(t._path),e()})},t}();t._LevelStore=u}).call(this,n(33))},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),i=n(0),a=n(17),s=function(){function e(e){this._pkKey={},this._pkType={},this._dbIndex={},this._size=1e3*(e||0)*1e3}return e.prototype.setID=function(e){this._id=e},e.prototype.connect=function(e){var t=this;this._db=window.openDatabase(this._id,"1.0",this._id,this._size||i.isAndroid?5e6:1),i.fastALL(Object.keys(this._pkKey),function(e,n,r){t._sql(!0,"CREATE TABLE IF NOT EXISTS "+e+" (id BLOB PRIMARY KEY UNIQUE, data TEXT)",[],function(){t._sql(!1,"SELECT id FROM "+e,[],function(n){for(var o=[],i=0;i<n.rows.length;i++)o.push(n.rows.item(i).id);o=o.sort(),t._dbIndex[e].set(o),r()})})}).then(e)},e.prototype._chkTable=function(e){if(-1===Object.keys(this._pkType).indexOf(e))throw Error("No table "+e+" found!");return e},e.prototype.makeTable=function(e,t){var n=this;this._dbIndex[e]=new a.DatabaseIndex,t.forEach(function(t){t.props&&t.props.indexOf("pk")>-1&&(n._pkType[e]=t.type,n._pkKey[e]=t.key),t.props&&t.props.indexOf("ai")>-1&&t.props.indexOf("pk")>-1&&"int"===t.type&&(n._dbIndex[e].doAI=!0)})},e.prototype._sql=function(e,t,n,r){var o=function(e){e.executeSql(t,n,function(e,t){r(t)},function(e,r){return console.error(t,n,r),!1})};e?this._db.transaction(o):this._db.readTransaction(o)},e.prototype.write=function(e,t,n,o){if(!(t=t||i.generateID(this._pkType[e],this._dbIndex[e].ai)))throw new Error("Can't add a row without a primary key!");var a,s,u=!1;if(-1===this._dbIndex[e].indexOf(t)&&(u=!0,this._dbIndex[e].add(t)),u){var l=r({},n,((a={})[this._pkKey[e]]=t,a));this._sql(!0,"INSERT into "+this._chkTable(e)+" (id, data) VALUES (?, ?)",[t,JSON.stringify(l)],function(e){o(l)})}else{var c=r({},n,((s={})[this._pkKey[e]]=t,s));this._sql(!0,"UPDATE "+this._chkTable(e)+" SET data = ? WHERE id = ?",[JSON.stringify(c),t],function(){o(c)})}},e.prototype.delete=function(e,t,n){-1!==this._dbIndex[e].indexOf(t)&&this._dbIndex[e].remove(t),this._sql(!0,"DELETE FROM "+this._chkTable(e)+" WHERE id = ?",[t],function(){n()})},e.prototype.read=function(e,t,n){this._sql(!1,"SELECT data FROM "+this._chkTable(e)+" WHERE id = ?",[t],function(e){e.rows.length?n(JSON.parse(e.rows.item(0).data)):n(void 0)})},e.prototype.batchRead=function(e,t,n){this._sql(!1,"SELECT data from "+this._chkTable(e)+" WHERE id IN ("+t.map(function(e){return"?"}).join(", ")+") ORDER BY id",t,function(e){for(var t=e.rows.length,r=[];t--;)r.unshift(JSON.parse(e.rows.item(t).data));n(r)})},e.prototype.rangeRead=function(e,t,n,r,i,a){var s=this,u=this._dbIndex[e].keys(),l=-1===[typeof r,typeof i].indexOf("undefined"),c=l?[r,i]:[];if(u.length){a&&l&&(c=c.map(function(t){return s._dbIndex[e].getLocation(t)}));var f=c[0]||0,d=[],p=c[0],h="SELECT data from "+this._chkTable(e);if(c.length){for(u[p];p<=c[1];)d.push(u[p]),p++;h+=" WHERE id IN ("+d.map(function(e){return"?"}).join(", ")+")"}h+=" ORDER BY id",this._sql(!1,h,d,function(e){var r=0,i=function(){e.rows.length>r?t(JSON.parse(e.rows.item(r).data),f,function(){f++,++r%500==0?o.setFast(i):i()}):n()};i()})}else n()},e.prototype.drop=function(e,t){var n=new a.DatabaseIndex;n.doAI=this._dbIndex[e].doAI,this._dbIndex[e]=n,this._sql(!0,"DELETE FROM "+this._chkTable(e),[],function(e){t()})},e.prototype.getIndex=function(e,t,n){n(t?this._dbIndex[e].keys().length:this._dbIndex[e].keys())},e.prototype.destroy=function(e){var t=this;i.fastALL(Object.keys(this._dbIndex),function(e,n,r){t.drop(e,r)}).then(e)},e}();t._WebSQLStore=s},function(module,exports,__webpack_require__){var __assign=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(exports,"__esModule",{value:!0});var lie_ts_1=__webpack_require__(11),utilities_1=__webpack_require__(0),db_idx_1=__webpack_require__(17),_evalContext=function(source,context){var compiled=eval("(function("+Object.keys(context).join(", ")+") {"+source+"})");return compiled.apply(context,Object.keys(context).map(function(e){return context[e]}))},_IndexedDBStore=function(){function e(e){this._worker='function o(r){this.go=function(t){var o=0;r&&r.length||t([]),r.forEach(function(e,n){e(function(){++o===r.length&&t([])})})}}var s={db:null,store:function(e,n,t){var o=s.db.transaction(e,n);t(o,o.objectStore(e),function(e,n){return function(){postMessage({do:e,args:n})}})},init:function(){addEventListener("message",function(e){var n=e.data;s[n.do]&&s[n.do](n.args)},!1)},setup:function(n){var e=indexedDB.open(n.id,1),t=!1,a={};e.onupgradeneeded=function(e){t=!0,s.db=e.target.result,Object.keys(n.pkKeys).forEach(function(e){s.db.createObjectStore(e,{keyPath:n.pkKeys[e]}),a[e]=[]})},e.onsuccess=function(e){if(s.db=e.target.result,t)postMessage({do:"rdy",args:a});else{new o(Object.keys(n.pkKeys).map(function(t){return function(n){var e,o,r;e=t,o=function(e){a[t]=e,n()},r=[],s.store(e,"readonly",function(e,n,t){n.openCursor().onsuccess=function(e){var n=e.target.result;n&&(r.push(n.key),n.continue())},e.oncomplete=function(){o(r)}})}})).go(function(){postMessage({do:"rdy",args:a})})}}},write:function(o){s.store(o.table,"readwrite",function(e,n,t){n.put(o.row),e.oncomplete=t("write_"+o.id,null)})},read:function(r){s.store(r.table,"readonly",function(e,n,t){var o=n.get(r.pk);o.onsuccess=function(){postMessage({do:"read_"+r.id,args:o.result})}})},readRange:function(a){s.store(a.table,"readonly",function(e,n,t){var o=[],r=-1===a.range.indexOf(void 0)?n.openCursor(IDBKeyRange.bound(a.range[0],a.range[1])):n.openCursor();e.oncomplete=t("readRange_"+a.id+"_done",o),r.onsuccess=function(e){var n=e.target.result;n&&(o.push(n.value),n.continue())}})},delete:function(o){s.store(o.table,"readwrite",function(e,n,t){e.oncomplete=t("delete_"+o.id,!0),e.onerror=t("delete_"+o.id,!1),"_clear_"===o.pk?n.clear():n.delete(o.pk)})}};s.init();',this._pkKey={},this._pkType={},this._dbIndex={},this._waitingCBs={},this._useWorker=e}return e.prototype.connect=function(e){var t=this;if(this._useWorker)this._w=new Worker(window.URL.createObjectURL(new Blob([this._worker]))),this._w.addEventListener("message",function(e){t._handleWWMessage(e.data.do,e.data.args)});else{var n=[];_evalContext(this._worker,{postMessage:function(e){t._handleWWMessage(e.do,e.args)},addEventListener:function(e,t){n.push(t)}}),this._w={addEventListener:null,postMessage:function(e,t){n.forEach(function(t){t({data:e})})}}}this._waitingCBs.rdy=function(n){Object.keys(n).forEach(function(e){t._dbIndex[e].set(n[e])}),e()},this._w.postMessage({do:"setup",args:{pkKeys:this._pkKey,id:this._id}})},e.prototype.setID=function(e){this._id=e},e.prototype._handleWWMessage=function(e,t){this._waitingCBs[e]&&(this._waitingCBs[e](t),delete this._waitingCBs[e])},e.prototype.makeTable=function(e,t){var n=this;this._dbIndex[e]=new db_idx_1.DatabaseIndex,t.forEach(function(t){t.props&&utilities_1.intersect(["pk","pk()"],t.props)&&(n._pkType[e]=t.type,n._pkKey[e]=t.key,t.props&&utilities_1.intersect(["ai","ai()"],t.props)&&("int"===t.type||"number"===t.type)&&(n._dbIndex[e].doAI=!0))})},e.prototype.write=function(e,t,n,r){if(!(t=t||utilities_1.generateID(this._pkType[e],this._dbIndex[e].ai)))throw new Error("Can't add a row without a primary key!");-1===this._dbIndex[e].indexOf(t)&&this._dbIndex[e].add(t);var o,i=utilities_1.uuid(),a=__assign({},n,((o={})[this._pkKey[e]]=t,o));this._waitingCBs["write_"+i]=function(e){r(a)},this._w.postMessage({do:"write",args:{table:e,id:i,row:a}})},e.prototype.delete=function(e,t,n){-1!==this._dbIndex[e].indexOf(t)&&this._dbIndex[e].remove(t);var r=utilities_1.uuid();this._waitingCBs["delete_"+r]=function(e){n()},this._w.postMessage({do:"delete",args:{table:e,id:r,pk:t}})},e.prototype.read=function(e,t,n){var r=utilities_1.uuid();-1!==this._dbIndex[e].indexOf(t)?(this._waitingCBs["read_"+r]=function(e){n(e)},this._w.postMessage({do:"read",args:{table:e,id:r,pk:t}})):n(null)},e.prototype.rangeRead=function(e,t,n,r,o,i){var a=this,s=this._dbIndex[e].keys(),u=-1===[typeof r,typeof o].indexOf("undefined"),l=u?[r,o]:[0,s.length-1];if(s.length){var c=utilities_1.uuid(),f=[],d=l[0],p=0;this._waitingCBs["readRange_"+c+"_done"]=function(e){delete a._waitingCBs["readRange_"+c],f=e;var r=function(){d<=l[1]?t(f[p],d,function(){d++,++p%500==0?lie_ts_1.setFast(r):r()}):n()};r()},this._w.postMessage({do:"readRange",args:{table:e,id:c,range:i&&u?l:l.map(function(e){return s[e]})}})}else n()},e.prototype.drop=function(e,t){var n=new db_idx_1.DatabaseIndex;n.doAI=this._dbIndex[e].doAI,this._dbIndex[e]=n;var r=utilities_1.uuid();this._waitingCBs["delete_"+r]=function(e){t()},this._w.postMessage({do:"delete",args:{table:e,id:r,pk:"_clear_"}})},e.prototype.getIndex=function(e,t,n){n(t?this._dbIndex[e].keys().length:this._dbIndex[e].keys())},e.prototype.destroy=function(e){var t=this;utilities_1.fastALL(Object.keys(this._dbIndex),function(e,n,r){t.drop(e,r)}).then(e)},e}();exports._IndexedDBStore=_IndexedDBStore},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),i=n(0),a=n(17),s=function(){function e(e){this._pkKey={},this._pkType={},this._rows={},this._dbIndex={},this._ls=e||!1}return e.prototype.connect=function(e){e()},e.prototype.setID=function(e){this._id=e},e.prototype.makeTable=function(e,t){var n=this;this._rows[e]={},this._dbIndex[e]=new a.DatabaseIndex,t.forEach(function(t){if(t.props&&i.intersect(["pk","pk()"],t.props)&&(n._pkType[e]=t.type,n._pkKey[e]=t.key),t.props&&i.intersect(["pk","pk()"],t.props)&&i.intersect(["ai","ai()"],t.props)&&"int"===t.type&&(n._dbIndex[e].doAI=!0),n._ls){var r=localStorage.getItem(n._id+"*"+e+"_idx");r&&n._dbIndex[e].set(JSON.parse(r))}})},e.prototype.write=function(e,t,n,o){if(!(t=t||i.generateID(this._pkType[e],this._dbIndex[e].ai)))throw new Error("Can't add a row without a primary key!");if(-1===this._dbIndex[e].indexOf(t)&&(this._dbIndex[e].add(t),this._ls&&localStorage.setItem(this._id+"*"+e+"_idx",JSON.stringify(this._dbIndex[e].keys()))),this._ls){var a=r({},n,((s={})[this._pkKey[e]]=t,s));localStorage.setItem(this._id+"*"+e+"__"+t,JSON.stringify(a)),o(a)}else{a=r({},n,((u={})[this._pkKey[e]]=t,u));this._rows[e][t]=i.deepFreeze(a),o(a)}var s,u},e.prototype.delete=function(e,t,n){-1!==this._dbIndex[e].indexOf(t)&&(this._dbIndex[e].remove(t),this._ls&&localStorage.setItem(this._id+"*"+e+"_idx",JSON.stringify(this._dbIndex[e].keys()))),this._ls?localStorage.removeItem(this._id+"*"+e+"__"+t):delete this._rows[e][t],n()},e.prototype.read=function(e,t,n){if(this._ls){var r=localStorage.getItem(this._id+"*"+e+"__"+t);n(r?JSON.parse(r):void 0)}else n(this._rows[e][t])},e.prototype.rangeRead=function(e,t,n,r,i,a){var s=this,u=this._dbIndex[e].keys(),l=-1===[typeof r,typeof i].indexOf("undefined"),c=l?[r,i]:[0,u.length-1];if(u.length){a&&l&&(c=c.map(function(t){return s._dbIndex[e].getLocation(t)}));var f=c[0],d=0,p=function(){f++,++d%500==0?o.setFast(h):h()},h=function(){if(f<=c[1])if(s._ls){var r=localStorage.getItem(s._id+"*"+e+"__"+u[f]);t(r?JSON.parse(r):void 0,f,p)}else t(s._rows[e][u[f]],f,p);else n()};h()}else n()},e.prototype.drop=function(e,t){var n=this;this._ls?(localStorage.setItem(this._id+"*"+e+"_idx",JSON.stringify([])),this._dbIndex[e].keys().forEach(function(t){localStorage.removeItem(n._id+"*"+e+"__"+t)})):this._rows[e]={};var r=new a.DatabaseIndex;r.doAI=this._dbIndex[e].doAI,this._dbIndex[e]=r,t()},e.prototype.getIndex=function(e,t,n){n(t?this._dbIndex[e].keys().length:this._dbIndex[e].keys())},e.prototype.destroy=function(e){var t=this;i.fastALL(Object.keys(this._dbIndex),function(e,n,r){t.drop(e,r)}).then(e)},e}();t._SyncStore=s},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="$",r=function(){function e(t){this._trie=e._create(t)}return e.prototype.getIndex=function(){return this._trie},e.prototype.setIndex=function(e){this._trie=e},e.prototype.addWord=function(t){return t.toLowerCase().split("").reduce(function(t,n,r,o){return e._append(t,n,r,o)},this._trie),this},e.prototype.removeWord=function(t){var r=e._checkPrefix(this._trie,t),o=r.prefixFound,i=r.prefixNode;return o&&delete i[n],this},e.prototype.getWords=function(){return e._recursePrefix(this._trie,"")},e.prototype.getPrefix=function(t){if(t=t.toLowerCase(),!this._isPrefix(t))return[];var n=e._checkPrefix(this._trie,t).prefixNode;return e._recursePrefix(n,t)},e.prototype._isPrefix=function(t){return e._checkPrefix(this._trie,t).prefixFound},e._append=function(e,t,r,o){return e[t]=e[t]||{},e=e[t],r===o.length-1&&(e[n]=1),e},e._checkPrefix=function(e,t){return{prefixFound:t.toLowerCase().split("").every(function(t,n){return!!e[t]&&(e=e[t])}),prefixNode:e}},e._create=function(t){return(t||[]).reduce(function(t,n){return n.toLowerCase().split("").reduce(e._append,t),t},{})},e._recursePrefix=function(t,r,o){void 0===o&&(o=[]);var i=r;for(var a in t)a===n&&(o.push(i),i=""),e._recursePrefix(t[a],r+a,o);return o.sort()},e}();t.Trie=r},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(104),i=n(0),a=n(103),s=n(102),u=n(101),l=n(100),c=function(){function e(e,t){if(this._tableNames=[],this._nsql=e,this._mode=t.persistent?"PERM":t.mode||"TEMP",this._id=t.id,this._size=t.size||5,this.adapters=[],this.models={},this.tableInfo={},this._trieIndexes={},this._tableNames=[],this._doCache=t.cache||!0,this._cache={},this._cacheKeys={},this.adapters[0]={adapter:null,waitForWrites:!0},"string"==typeof this._mode)switch("PERM"===this._mode&&(this._mode=this._detectStorageMethod()||this._mode),this._mode){case"IDB":this.adapters[0].adapter=new s._IndexedDBStore(!1);break;case"IDB_WW":this.adapters[0].adapter=new s._IndexedDBStore(!0);break;case"WSQL":this.adapters[0].adapter=new u._WebSQLStore(this._size);break;case"LS":this.adapters[0].adapter=new a._SyncStore(!0);break;case"LVL":this.adapters[0].adapter=new l._LevelStore(t.dbPath,t.writeCache,t.readCache);break;case"TEMP":this.adapters[0].adapter=new a._SyncStore(!1)}else this.adapters[0].adapter=this._mode}return e.prototype.init=function(e,t){var n=this;this._id||(this._id=i.hash(JSON.stringify(e)).toString()),this.models=this._createSecondaryIndexTables(e),this._tableNames=Object.keys(this.models),this.adapters.forEach(function(e){e.adapter.setID(n._id)}),this._tableNames.forEach(function(t){n._newTable(t,e[t])}),this._relFromTable={},this._relToTable={},this._relationColumns={},this._columnsAreTables={},this._tableNames.forEach(function(e){n.tableInfo[e]._viewTables=Object.keys(n.tableInfo).reduce(function(t,r){return r===e?t:(-1!==Object.keys(n.tableInfo[r]._views).indexOf(e)&&t.push({table:r,column:n.tableInfo[r]._views[e].pkColumn}),t)},[]);var t=n.models[e].length;n._relFromTable[e]={},n._relationColumns[e]=[],n._relToTable[e]=[],n._columnsAreTables[e]={};for(var r=function(){var r=n.models[e][t];if(-1!==n._tableNames.indexOf(r.type.replace("[]",""))){var o="";n._columnsAreTables[e][r.key]={_toTable:r.type.replace("[]",""),_thisType:-1===r.type.indexOf("[]")?"single":"array"},r.props&&(r.props.forEach(function(e){-1!==e.indexOf("ref=>")&&(o=e.replace("ref=>","")),0===e.indexOf("orm(")&&(o=e.replace(/orm\((.*)\)/gim,"$1"))}),o&&(n._hasORM=!0,n._relationColumns[e].push(r.key),n._relFromTable[e][r.key]={_toTable:r.type.replace("[]",""),_toColumn:o.replace("[]",""),_toType:-1===o.indexOf("[]")?"single":"array",_thisType:-1===r.type.indexOf("[]")?"single":"array"}))}};t--;)r()}),Object.keys(this._relFromTable).forEach(function(e){Object.keys(n._relFromTable[e]).forEach(function(t){var r=n._relFromTable[e][t];n._relToTable[r._toTable].push({_thisColumn:r._toColumn,_thisType:r._toType,_fromTable:e,_fromColumn:t,_fromType:r._thisType})})}),i.fastALL(this.adapters,function(e,t,r){e.adapter.connect(function(){e.adapter.setNSQL&&e.adapter.setNSQL(n._nsql),r()})}).then(function(){i.fastALL(Object.keys(n._trieIndexes),function(e,t,r){var o=n._trieIndexes[e];Object.keys(o).length?i.fastALL(Object.keys(o),function(t,r,o){var i="_"+e+"_idx_"+t;n.adapters[0].adapter.getIndex(i,!1,function(r){r.forEach(function(r){n._trieIndexes[e][t].addWord(String(r))}),o()})}).then(r):r()}).then(function(){t(n.models)})})},e.prototype._invalidateCache=function(e,t){var n=this;this._doCache&&Object.keys(this._cacheKeys[e]).forEach(function(r){for(var o=t.length,i=!0;o--&&i;)n._cacheKeys[e][r][t[o]]&&(delete n._cache[e][r],delete n._cacheKeys[e][r],i=!1)})},e.prototype.rebuildIndexes=function(e,t){var n=this,r=(new Date).getTime();i.fastALL(Object.keys(this.tableInfo),function(t,r,o){if("_ALL_"!==e&&e!==t||0===t.indexOf("_"))o();else{var a=n.tableInfo[t]._secondaryIndexes;i.fastALL(a,function(e,r,o){var i="_"+t+"_idx_"+e;n._drop(i,o)}).then(function(){var e=n.tableInfo[t]._pk,r={};a.forEach(function(e){r[e]={}}),n._read(t,function(t,n,o){t[e]?(a.forEach(function(n){t[n]&&(r[n][t[n]]||(r[n][t[n]]=[]),r[n][t[n]].push(t[e]))}),o(!1)):o(!1)},function(){i.fastALL(a,function(e,o,a){var s="_"+t+"_idx_"+e;i.fastALL(Object.keys(r[e]),function(t,o,i){n.adapterWrite(s,t,{id:t,rows:r[e][t].sort()},i)}).then(a)}).then(function(){o()})})})}}).then(function(){t((new Date).getTime()-r)})},e.prototype._secondaryIndexKey=function(e){return i.isObject(e)||Array.isArray(e)?JSON.stringify(e).substr(0,12):"number"==typeof e?e:String(e).substr(0,32)},e.prototype._detectStorageMethod=function(){if("undefined"==typeof window)return"LVL";if(i.isSafari)return"WSQL";if(i.isMSBrowser)return"undefined"!=typeof indexedDB?"IDB":"LS";if(-1===[typeof Worker,typeof Blob,typeof indexedDB].indexOf("undefined")&&window.URL&&window.URL.createObjectURL)try{var e=new Worker(window.URL.createObjectURL(new Blob(["var t = 't';"])));e.postMessage(""),e.terminate();return indexedDB.open("1234",1),indexedDB.deleteDatabase("1234"),"IDB_WW"}catch(e){if("undefined"!=typeof indexedDB)return"IDB"}return"LS"},e.prototype._secondaryIndexRead=function(e,t,n,r){var o=this;this.adapters[0].adapter.read("_"+e+"_idx_"+t,this._secondaryIndexKey(n),function(t){void 0!==t&&null!==t?o._read(e,t.rows||[],r):r([])})},e.prototype._rangeRead=function(e,t,n,r,o){var i=[];this.adapters[0].adapter.rangeRead(e,function(e,t,n){i.push(e),n()},function(){o(i)},t,n,r)},e.prototype._read=function(e,t,n){var r=this;if(Array.isArray(t)){var o=this.adapters[0].adapter.batchRead;o?o.apply(this.adapters[0].adapter,[e,t,n]):i.fastALL(t,function(t,n,o){r.adapters[0].adapter.read(e,t,o)}).then(function(e){n(e.filter(function(e){return e}))})}else{var a=[];"function"!=typeof t||this.adapters[0].adapter.rangeRead(e,function(e,n,r){t(e,n,function(t){t&&a.push(e),r()})},function(){n(a)})}},e.prototype._trieRead=function(e,t,n,r){var o=this,a=this._trieIndexes[e][t].getPrefix(n);i.fastALL(a,function(n,r,i){o._secondaryIndexRead(e,t,n,i)}).then(function(e){r([].concat.apply([],e))})},e.prototype._clearSecondaryIndexes=function(e,t,n,r,o){var a=this;i.fastALL(this.tableInfo[e]._secondaryIndexes.filter(function(e){return-1===r.indexOf(e)}),function(r,o,s){var u=a._secondaryIndexKey(n[r]),l="_"+e+"_idx_"+r;a.adapters[0].adapter.read(l,u,function(e){if(e){var n=e.rows.indexOf(t);if(-1!==n){var r=e?Object.isFrozen(e)?i._assign(e):e:{id:null,rows:[]};r.rows.splice(n,1),r.rows.sort(),r.rows=i.removeDuplicates(r.rows),a.adapterWrite(l,r.id,r,s)}else s()}else s()})}).then(o)},e.prototype._setSecondaryIndexes=function(e,t,n,r,o){var a=this;i.fastALL(this.tableInfo[e]._secondaryIndexes.filter(function(e){return-1===r.indexOf(e)}),function(r,o,s){var u=a._secondaryIndexKey(n[r]);if(u){a._trieIndexes[e][r]&&a._trieIndexes[e][r].addWord(String(n[r]));var l="_"+e+"_idx_"+r;a.adapters[0].adapter.read(l,u,function(e){var n=e?Object.isFrozen(e)?i._assign(e):e:{id:u,rows:[]};n.rows.push(t),n.rows.sort(),n.rows=i.removeDuplicates(n.rows),a.adapterWrite(l,u,n,s)})}else s()}).then(o)},e.prototype._write=function(e,t,n,o,i){var a,s=this;if(n){var u=r({},n,o,((a={})[this.tableInfo[e]._pk]=t,a)),l=Object.keys(u).filter(function(e){return u[e]===n[e]});this.tableInfo[e]._secondaryIndexes.length?this._clearSecondaryIndexes(e,t,n,l,function(){s._setSecondaryIndexes(e,t,u,l,function(){s.adapterWrite(e,t,u,i)})}):this.adapterWrite(e,t,u,i)}else this.adapterWrite(e,t,o,function(t){s.tableInfo[e]._secondaryIndexes.length?s._setSecondaryIndexes(e,t[s.tableInfo[e]._pk],o,[],function(){i(t)}):i(t)})},e.prototype._delete=function(e,t,n){var r=this;if(!t)throw new Error("Can't delete without a primary key!");this.adapters[0].adapter.read(e,t,function(o){r._clearSecondaryIndexes(e,t,o,[],function(){r.adapterDelete(e,t,function(){n(o)})})})},e.prototype._drop=function(e,t){var n=this;i.fastALL(this.tableInfo[e]._secondaryIndexes,function(t,r,o){n.adapterDrop("_"+e+"_idx_"+t,o)}).then(function(){n._trieIndexes[e]={},n.tableInfo[e]._trieColumns.forEach(function(t){n._trieIndexes[e][t]=new o.Trie([])}),n.adapterDrop(e,t)})},e.prototype._createSecondaryIndexTables=function(e){return Object.keys(e).forEach(function(t){var n=!1,r=!1;if(e[t].forEach(function(o){o.props&&i.intersect(["pk","pk()"],o.props)&&(n=!0),o.props&&i.intersect(["trie","idx","idx()","trie()"],o.props)&&(r=!0,e["_"+t+"_idx_"+o.key]=[{key:"id",type:-1!==["number","float","int"].indexOf(o.type)?o.type:"string",props:["pk"]},{key:"rows",type:"any[]"}])}),r&&!n)throw new Error("Tables with secondary indexes must have a primary key!")}),e},e.prototype._newTable=function(e,t){var n=this;this.tableInfo[e]={_pk:"",_pkType:"",_keys:[],_defaults:[],_secondaryIndexes:[],_trieColumns:[],_name:e,_views:{},_viewTables:[]},this._cache[e]={},this._cacheKeys[e]={},this._trieIndexes[e]={},this.adapters.forEach(function(n){n.adapter.makeTable(e,t)});for(var r=this.models[e].length,a=function(){var t=s.models[e][r];if(s.tableInfo[e]._keys.unshift(t.key),s.tableInfo[e]._defaults[r]=t.default,t.props&&t.props.length){var a=!1;t.props.forEach(function(r){if(-1!==r.indexOf("from=>")){n._hasViews=!0;var o=t.type;"from=>GHOST"!==r&&"from=>LIVE"!==r&&(o=r.replace("from=>","").split(".").shift()),n.tableInfo[e]._views[o]||(n.tableInfo[e]._views[o]={pkColumn:"",mode:"",columns:[]}),"from=>GHOST"===r||"from=>LIVE"===r?(a=!0,n.tableInfo[e]._views[o].pkColumn=t.key,n.tableInfo[e]._views[o].mode=r.replace("from=>","")):n.tableInfo[e]._views[o].columns.push({thisColumn:t.key,otherColumn:r.replace("from=>","").split(".").pop()})}}),i.intersect(["pk","pk()"],t.props)&&(s.tableInfo[e]._pk=t.key,s.tableInfo[e]._pkType=t.type),(i.intersect(["trie","idx","idx()","trie()"],t.props)||a)&&s.tableInfo[e]._secondaryIndexes.push(t.key),i.intersect(["trie","trie()"],t.props)&&(s.tableInfo[e]._trieColumns.push(t.key),s._trieIndexes[e][t.key]=new o.Trie([]))}},s=this;r--;)a();return e},e.prototype.adapterWrite=function(e,t,n,r,o){var a;i.fastALL(this.adapters,function(r,o,i){r.waitForWrites?r.adapter.write(e,t,n,function(e){a=e,i()}):(i(),r.adapter.write(e,t,n,function(e){}))}).then(function(){r(a)}).catch(function(e){o&&o(e)})},e.prototype.adapterDelete=function(e,t,n,r){i.fastALL(this.adapters,function(n,r,o){n.waitForWrites?n.adapter.delete(e,t,function(){o()}):(o(),n.adapter.delete(e,t,function(){}))}).then(function(){n()}).catch(function(e){r&&r(e)})},e.prototype.adapterDrop=function(e,t,n){i.fastALL(this.adapters,function(t,n,r){t.waitForWrites?t.adapter.drop(e,function(){r()}):(r(),t.adapter.drop(e,function(){}))}).then(function(){t()}).catch(function(e){n&&n(e)})},e}();t._NanoSQLStorage=c},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),i=n(0),a={select:function(e,t){e._select(t)},upsert:function(e,t){e._upsert(t)},delete:function(e,t){e._delete(t)},drop:function(e,t){e._drop(t)},"show tables":function(e,t){e._query.result=Object.keys(e._store.tableInfo),t(e._query)},describe:function(e,t){"string"==typeof e._query.table?(e._query.result=i._assign(e._store.models[e._query.table]),t(e._query)):t(e._query)}},s=function(){function e(e){this._store=e}return e.prototype.doQuery=function(e,t){this._query=e,this._isInstanceTable=Array.isArray(e.table),a[e.action](this,t)},e.prototype._getRows=function(e){this._isInstanceTable?new c(this._query).getRows(e):new l(this._query,this._store,function(t){e(t.filter(function(e){return e}))})},e.prototype._setCache=function(e){var t=this;this._store._cache[this._query.table][this._hash]=e,this._store._cacheKeys[this._query.table][this._hash]={},e.forEach(function(e){t._store._cacheKeys[t._query.table][t._hash][e[t._store.tableInfo[t._query.table]._pk]]=!0})},e.prototype._select=function(e){var t=this;this._hash=i.hash(JSON.stringify(r({},this._query,{queryID:null})));var n=!this._query.join&&!this._query.orm&&this._store._doCache&&!Array.isArray(this._query.table);this._getRows(function(r){["having","orderBy","offset","limit","actionArgs","groupBy","orm","join"].filter(function(e){return t._query[e]}).length?new u(t._query,t._store)._executeQueryArguments(r,function(o){n&&t._setCache(r),t._query.result=o,e(t._query)}):(n&&t._setCache(r),t._query.result=r,e(t._query))})},e.prototype._updateORMRows=function(e,t,n,r,o){var a=this;this._store.tableInfo[e._fromTable]._pk;this._store._read(e._fromTable,t,function(t){i.fastALL(t,function(t,o,s){var u=Object.isFrozen(t)?i._assign(t):t;if("array"===e._fromType){u[e._fromColumn]=u[e._fromColumn]||[];var l=u[e._fromColumn].indexOf(r);n?-1===l?u[e._fromColumn].push(r):s():-1!==l?u[e._fromColumn].splice(l,1):s(),u[e._fromColumn].sort()}else u[e._fromColumn]=n?r:null;a._store._nsql.query("upsert",u).comment("_orm_skip").manualExec({table:e._fromTable}).then(s)}).then(o)})},e.prototype._syncORM=function(e,t,n,r){var o=this;if(this._store._hasORM){var a=this._store._relToTable[this._query.table];if(-1===this._query.comments.indexOf("_orm_skip"))if(a&&a.length){for(var s=Math.max(t.length,n.length),u=[];s--;)u.push(" ");i.fastCHAIN(u,function(r,s,u){i.fastALL(a,function(r,a,u){var l,c;switch(e){case"del":var f=t[s][o._store.tableInfo[o._query.table]._pk],d="array"===r._thisType?t[s][r._thisColumn]||[]:[t[s][r._thisColumn]].filter(function(e){return e});o._updateORMRows(r,d,!1,f,u);break;case"add":var p=n[s][o._store.tableInfo[o._query.table]._pk];if(t[s])if(l=t[s][r._thisColumn],c=n[s][r._thisColumn],Array.isArray(l)&&Array.isArray(c)?l.length===c.length&&l.filter(function(e,t){return e!==c[t]}).length>0:l===c)u();else if("array"===r._thisType){var h=(n[s][r._thisColumn]||[]).filter(function(e){return-1===(t[s][r._thisColumn]||[]).indexOf(e)}),y=(t[s][r._thisColumn]||[]).filter(function(e){return-1===(n[s][r._thisColumn]||[]).indexOf(e)});i.fastALL([h,y],function(e,t,n){o._updateORMRows(r,e,0===t,p,n)}).then(u)}else{var m=function(){null!==n[s][r._thisColumn]&&void 0!==n[s][r._thisColumn]?o._updateORMRows(r,[n[s][r._thisColumn]],!0,p,u):u()};null!==t[s][r._thisColumn]&&void 0!==t[s][r._thisColumn]?o._updateORMRows(r,[t[s][r._thisColumn]],!1,p,m):m()}else{var v="array"===r._thisType?n[s][r._thisColumn]||[]:[n[s][r._thisColumn]].filter(function(e){return e});v&&v.length?o._updateORMRows(r,v,!0,p,u):u()}}}).then(u)}).then(r)}else r();else r()}else r()},e.prototype._updateRowViews=function(e,t,n){var r=this;this._store._hasViews?null!==e&&void 0!==e?i.fastALL(Object.keys(this._store.tableInfo[this._query.table]._views),function(n,o,i){var a=r._store.tableInfo[r._query.table]._views[n].pkColumn;if(void 0!==e[a]){if(e[a]!==t[a])return null===e[a]?(r._store.tableInfo[r._query.table]._views[n].columns.forEach(function(t){e[t.thisColumn]=null}),void i()):void r._store._read(n,[e[a]],function(t){if(!t.length&&"LIVE"===r._store.tableInfo[r._query.table]._views[n].mode)return r._store.tableInfo[r._query.table]._views[n].columns.forEach(function(t){e[t.thisColumn]=null}),void i();r._store.tableInfo[r._query.table]._views[n].columns.forEach(function(n){e[n.thisColumn]=t[0][n.otherColumn]}),i()});i()}else i()}).then(function(){n(e)}):n(e||{}):n(e)},e.prototype._updateRemoteViews=function(e,t,n){var r=this,o=this._store.tableInfo[this._query.table]._pk;i.fastALL(e,function(e,n,a){i.fastALL(r._store.tableInfo[r._query.table]._viewTables,function(n,a,s){t&&"GHOST"===r._store.tableInfo[n.table]._views[r._query.table].mode?s():r._store._secondaryIndexRead(n.table,n.column,e[o],function(o){if(o.length){var a=r._store.tableInfo[n.table]._views[r._query.table].columns,u=r._store.tableInfo[n.table]._views[r._query.table].pkColumn;i.fastALL(o,function(o,i,s){var l=a.length,c=!1;if(t){if("LIVE"===r._store.tableInfo[n.table]._views[r._query.table].mode)for(c=!0,o[u]=null;l--;)o[a[l].otherColumn]=null}else for(;l--;)o[a[l].otherColumn]!==e[a[l].thisColumn]&&(o[a[l].otherColumn]=e[a[l].thisColumn],c=!0);if(c){var f=r._store.tableInfo[n.table]._pk;r._store.adapterWrite(n.table,o[f],o,s)}else s()}).then(s)}else s()})}).then(a)}).then(n)},e.prototype._doAfterQuery=function(e,t,n){var r=this;this._store._hasViews&&this._store.tableInfo[this._query.table]._viewTables.length?this._updateRemoteViews(e,t,function(){n(r._query)}):n(this._query)},e.prototype._upsert=function(e){var t=this,n=this._store.tableInfo[this._query.table]._pk;if(this._isInstanceTable)this._getRows(function(n){t._query.result=t._query.table.map(function(e){return-1===n.indexOf(e)?e:r({},t._query.actionArgs,e)}),e(t._query)});else if(this._query.where)this._getRows(function(r){r.length?i.fastCHAIN(r,function(e,r,o){t._updateRowViews(t._query.actionArgs||{},e,function(r){t._store._write(t._query.table,e[n],e,r,o)})}).then(function(o){var i=o.map(function(e){return e[n]});t._store._invalidateCache(t._query.table,i),t._query.result=[{msg:o.length+" row(s) modfied.",affectedRowPKS:i,affectedRows:o}],t._syncORM("add",r,o,function(){t._doAfterQuery(o,!1,e)})}):(t._query.result=[{msg:"0 row(s) modfied.",affectedRowPKS:[],affectedRows:[]}],e(t._query))});else{var o=this._query.actionArgs||{};this._store._cache[this._query.table]={};var a=function(r){t._updateRowViews(o,r,function(i){t._store._write(t._query.table,o[n],r,i,function(o){t._query.result=[{msg:"1 row inserted.",affectedRowPKS:[o[n]],affectedRows:[o]}],t._store._hasORM?t._syncORM("add",[r].filter(function(e){return e}),[o],function(){t._doAfterQuery([o],!1,e)}):t._doAfterQuery([o],!1,e)})})};void 0!==o[n]?this._store._read(this._query.table,[o[n]],function(e){e.length?a(e[0]):a(null)}):a(null)}},e.prototype._delete=function(e){var t=this;this._isInstanceTable?this._query.where?this._getRows(function(n){t._query.result=t._query.table.filter(function(e){return-1===n.indexOf(e)}),e(t._query)}):(this._query.result=[],e(this._query)):this._query.where?this._getRows(function(n){(n=n.filter(function(e){return e})).length?i.fastALL(n,function(e,n,r){t._store._delete(t._query.table,e[t._store.tableInfo[t._query.table]._pk],r)}).then(function(r){t._store._cache[t._query.table]={};var o=n.map(function(e){return e[t._store.tableInfo[t._query.table]._pk]});t._store._invalidateCache(t._query.table,o),t._query.result=[{msg:n.length+" row(s) deleted.",affectedRowPKS:o,affectedRows:n}],t._syncORM("del",n,[],function(){t._doAfterQuery(n,!0,e)})}):(t._query.result=[{msg:"0 row(s) deleted.",affectedRowPKS:[],affectedRows:[]}],e(t._query))}):this._drop(e)},e.prototype._drop=function(e){var t=this;if(this._isInstanceTable)return this._query.result=[],void e(this._query);this._store._rangeRead(this._query.table,void 0,void 0,!1,function(n){t._store._cache[t._query.table]={},t._store._cacheKeys[t._query.table]={},t._store._drop(t._query.table,function(){t._query.result=[{msg:"'"+t._query.table+"' table dropped.",affectedRowPKS:n.map(function(e){return e[t._store.tableInfo[t._query.table]._pk]}),affectedRows:n}],t._syncORM("del",n,[],function(){t._doAfterQuery(n,!0,e)})})})},e}();t._NanoSQLStorageQuery=s;var u=function(){function e(e,t){this.q=e,this.s=t,this._groupByColumns=[]}return e.prototype._join=function(e,t){var n=this;if(this.q.join){var r={};"cross"!==this.q.join.type&&this.q.join.where&&(r={_left:this.q.join.where[0],_check:this.q.join.where[1],_right:this.q.join.where[2]});var o=this.q.table,i=this.q.join.table;this._doJoin(this.q.join.type,o,i,r,function(e){n.q.where?t(e.filter(function(e,t){return Array.isArray(n.q.where)?f(e,n.q.where||[],t,!0):n.q.where(e,t)})):n.q.range?t(e.filter(function(e,t){return n.q.range&&n.q.range[0]>=t&&n.q.range[1]<=t})):t(e)})}else t(e)},e.prototype._groupByKey=function(e,t){return e.reduce(function(e,n){return-1!==n.indexOf(".length")?e+"."+String((t[n.replace(".length","")]||[]).length):e+"."+String(t[n])},"").slice(1)},e.prototype._groupBy=function(e){var t=this,n=this.q.groupBy||{},r=e.sort(function(e,r){return t._sortObj(e,r,n,!0)});return r.forEach(function(e,r){var o=Object.keys(n).map(function(t){return String(e[t])||""}).join(".");t._sortGroups||(t._sortGroups={}),t._sortGroups[o]||(t._sortGroups[o]=[]),t._sortGroups[o].push(r)}),r},e.prototype._having=function(e){var t=this;return e.filter(function(e,n){return Array.isArray(t.q.having)?f(e,t.q.having||[],n,!0):t.q.having(e,n)})},e.prototype._orderBy=function(e){var t=this;return e.sort(function(e,n){return t._sortObj(e,n,t.q.orderBy||{},!1)})},e.prototype._offset=function(e){var t=this;return e.filter(function(e,n){return!t.q.offset||n>=t.q.offset})},e.prototype._limit=function(e){var t=this;return e.filter(function(e,n){return!t.q.limit||n<t.q.limit})},e.prototype._orm=function(e,t){var n=this,r=this.q.orm?this.q.orm.map(function(e){return"string"==typeof e?{key:e,limit:5}:e}):[];i.fastALL(e,function(e,t,a){e=Object.isFrozen(e)?i._assign(e):e,i.fastALL(r,function(t,r,i){if(e[t.key]&&e[t.key].length){var a=n.s._columnsAreTables[n.q.table][t.key];a?n.s._nsql.query("select").where([n.s.tableInfo[a._toTable]._pk,"array"===a._thisType?"IN":"=",e[t.key]]).manualExec({table:a._toTable}).then(function(n){var r=o.nSQL().query("select",t.select);t.where&&r.where(t.where),void 0!==t.limit&&r.limit(t.limit),void 0!==t.offset&&r.offset(t.offset),t.orderBy&&r.orderBy(t.orderBy),t.groupBy&&r.groupBy(t.groupBy),r.manualExec({table:n}).then(function(r){n.filter(function(e){return e}).length?e[t.key]="array"===a._thisType?r:r[0]:e[t.key]="array"===a._thisType?[]:void 0,i()})}):i()}else i()}).then(function(){a(e)})}).then(t)},e.prototype._doJoin=function(e,t,n,r,o){var i="left",a="right",s="outer",u=this,l=u.s.tableInfo[e===a?n:t],c=u.s.tableInfo[e===a?t:n],d=function(e,t){return[l,c].reduce(function(n,r,o){return r._keys.forEach(function(i){n[r._name+"."+i]=((0===o?e:t)||{})[i]}),n},{})},p=[],h=r&&r._right&&r._right.split(".").pop()||"",y={},m=[];u.s._read(l._name,function(t,n,o){var v=!1;u.s._read(c._name,function(n,o,i){var u;r&&"cross"!==e?f(((u={})[l._name]=t,u[c._name]=n,u),[r._left,r._check,e===a?t[h]:n[h]],0)?(e===s&&(y[o]=!0),p.push(d(t,n)),v=!0):e===s&&(m[o]=n):(p.push(d(t,n)),v=!0);i(!1)},function(){!v&&[i,a,s].indexOf(e)>-1&&p.push(d(t,null)),o(!1)})},function(){if(e===s){for(var t=m.filter(function(e,t){return!y[t]}),n=0;n<t.length;)p.push(d(null,t[n])),n++;o(p)}else o(p)})},e.prototype._sortObj=function(e,t,n,r){return Object.keys(n).reduce(function(o,a){var s=r?i.objQuery(a,e):e[a],u=r?i.objQuery(a,t):t[a];return o||(s===u?0:(s>u?1:-1)*("desc"===n[a]?-1:1))},0)},e.prototype._mutateRows=function(e,t){var n=this,r=this.q.actionArgs,a={},s={};if(r&&r.length){var u=!1,l={};r.forEach(function(e){if(-1!==e.indexOf("(")){var t=(e.match(/^.*\(/g)||[""])[0].replace(/\(|\)/g,"").toUpperCase(),n=o.NanoSQLInstance.functions[t],r=1===e.split(" AS ").length?t:(e.split(" AS ").pop()||"").trim();if(!n)throw new Error("'"+t+"' is not a valid function!");"A"===n.type&&(u=!0),l[e]={fn:n,key:r}}}),i.fastALL(r,function(t,r,o){if(t.indexOf("(")>-1){var c=(t.match(/\(.*\)/g)||[""])[0].replace(/\(|\)/g,"").split(",").map(function(e){return e.trim()});n._sortGroups&&u?i.fastALL(Object.keys(n._sortGroups),function(r,o,i){var a;s[r]||(s[r]={}),(a=l[t].fn).call.apply(a,[e.filter(function(e,t){return n._sortGroups[r].indexOf(t)>-1}),function(e){s[r][l[t].key]=e,i()}].concat(c))}).then(o):(f=l[t].fn).call.apply(f,[e,function(e){a[l[t].key]=e,o()}].concat(c))}else o();var f}).then(function(){var o=function(e,t,o){var a={};return r.forEach(function(r){var s=r.indexOf("(")>-1,u=s?l[r].fn.type:"";if(r.indexOf(" AS ")>-1){var c=r.split(" AS "),f=s?l[r].key:c[0].trim();a[c[1]]=s?"A"===u?o[f]:o[f][t]:i.objQuery(f,e,void 0!==n.q.join)}else{f=s?l[r].key:r;a[r]=s?"A"===u?o[f]:o[f][t]:i.objQuery(f,e,void 0!==n.q.join)}}),a};if(!e.length&&u){var c=[{}];return Object.keys(l).forEach(function(e){void 0!==a[l[e].key]&&(c[0][e]=a[l[e].key])}),void t(c)}if(n._sortGroups&&u){var f=[];Object.keys(n._sortGroups).forEach(function(t){var r=e.filter(function(e,r){return n._sortGroups[t].indexOf(r)>-1}).filter(function(e,t){return t<1});r&&r.length&&f.push(o(r[0],0,s[t]))}),t(f)}else t(u?e.filter(function(e,t){return t<1}).map(function(e,t){return o(e,t,a)}):e.map(function(e,t){return o(e,t,a)}))})}else t(e)},e.prototype._executeQueryArguments=function(e,t){var n=this,r=function(){n.q.having&&(e=n._having(e)),n.q.orderBy&&(e=n._orderBy(e)),n.q.offset&&(e=n._offset(e)),n.q.limit&&(e=n._limit(e)),t(e)},o=function(){n.q.actionArgs&&n.q.actionArgs.length?n._mutateRows(e,function(t){e=t,r()}):r()},i=function(){n.q.groupBy&&(e=n._groupBy(e)),n.q.orm?n._orm(e,function(t){e=t,o()}):o()};this.q.join?this._join(e,function(t){e=t,i()}):i()},e}();t._MutateSelection=u;var l=function(){function e(e,t,n){var r=this;if(this.q=e,this.s=t,this.q.join&&this.q.orm)throw new Error("Cannot do a JOIN and ORM command at the same time!");if([this.q.where,this.q.range,this.q.trie].filter(function(e){return e}).length>1)throw new Error("Can only have ONE of Trie, Range or Where!");if(this.q.join)n([]);else if(this.q.trie&&this.q.trie.column&&this.q.trie.search)this._selectByTrie(n);else if(this.q.range&&this.q.range.length)this._selectByRange(n);else if(this.q.where&&this.q.where.length&&Array.isArray(this.q.where)){if("string"==typeof this.q.where[0]?0===this._isOptimizedWhere(this.q.where):0===(this.q.where||[]).reduce(function(e,t,n){return n%2==1?e:e+r._isOptimizedWhere(t)},0))this._selectByKeys(this.q.where,n);else{var o=this._isSubOptimizedWhere(this.q.where);if(o>0){var i=this.q.where.slice(0,o),a=this.q.where.slice(o+1);this._selectByKeys(i,function(e){n(e.filter(function(e,t){return f(e,a,t)}))})}else this._fullTableScan(n)}}else this._fullTableScan(n)}return e.prototype._selectByKeys=function(e,t){var n=this;if(e&&"string"==typeof e[0])this._selectRowsByIndex(e,t);else if(e){var r=[],o="";i.fastCHAIN(e,function(e,t,i){if("string"==typeof e)return o=e,void i();n._selectRowsByIndex(e,function(e){if("AND"===o){for(var t={},a=e.length;a--;)t[e[a][n.s.tableInfo[n.q.table]._pk]]=!0;r=r.filter(function(e){return t[e[n.s.tableInfo[n.q.table]._pk]]})}else r=r.concat(e);i()})}).then(function(){t(r)})}},e.prototype._selectRowsByIndex=function(e,t){var n=this;if("BETWEEN"!==e[1]){var r=[];switch(e[1]){case"IN":r=e[2];break;case"=":r=[e[2]]}e[0]===this.s.tableInfo[this.q.table]._pk?this.s._read(this.q.table,r,t):i.fastALL(r,function(t,r,o){n.s._secondaryIndexRead(n.q.table,e[0],t,o)}).then(function(e){t([].concat.apply([],e))})}else{var o=e[0]===this.s.tableInfo[this.q.table]._pk?"":e[0];if(o){var a="_"+this.q.table+"_idx_"+o;this.s._rangeRead(a,e[2][0],e[2][1],!0,function(e){for(var r=[],o=e.length;o--;)r=r.concat(e[o].rows);n.s._read(n.q.table,r,t)})}else this.s._rangeRead(this.q.table,e[2][0],e[2][1],!0,function(e){t(e)})}},e.prototype._selectByRange=function(e){var t=this;if(this.q.range){var n=this.q.range;n[0]>0?this.s._rangeRead(this.q.table,n[1],n[1]+n[0],!1,e):this.s.adapters[0].adapter.getIndex(this.q.table,!0,function(r){for(var o=n[0]>0?n[1]:r+n[0]-n[1],i=o,a=Math.abs(n[0])-1;a--;)i++;t.s._rangeRead(t.q.table,o,i,!1,e)})}else e([])},e.prototype._selectByTrie=function(e){this.q.trie?this.s._trieRead(this.q.table,this.q.trie.column,this.q.trie.search,e):e([])},e.prototype._fullTableScan=function(e){var t=this,n=void 0!==this.q.where,r=n&&Array.isArray(this.q.where);this.s._read(this.q.table,function(e,o,i){i(!n||(r?f(e,t.q.where,o):t.q.where(e,o)))},e)},e.prototype._isSubOptimizedWhere=function(e){var t=this;if("string"==typeof e[0])return 0;if(0===this._isOptimizedWhere(e[0])){var n=0;return e.forEach(function(r,o){o%2==0&&0===t._isOptimizedWhere(r)&&e[o+1]&&(n=o+1)}),"AND"!==e[n]?0:n}return 0},e.prototype._isOptimizedWhere=function(e){var t=this.s.tableInfo[this.q.table];return["=","IN","BETWEEN"].indexOf(e[1])>-1&&(e[0]===t._pk||t._secondaryIndexes.indexOf(e[0])>-1)?0:1},e}();t._RowSelection=l;var c=function(){function e(e){this.q=e}return e.prototype.getRows=function(e){var t=this;if(this.q.join||this.q.orm||this.q.trie)throw new Error("Cannot do a JOIN, ORM or TRIE command with instance table!");if(this.q.range&&this.q.range.length){var n,r,o=this.q.range;n=o[0]<0?this.q.table.length+o[0]-o[1]:o[1];var i=Math.abs(o[0])-1;for(r=n;i--;)r++;e(this.q.table.filter(function(e,t){return t>=n&&t<=r}))}else e(this.q.table.filter(function(e,n){return!t.q.where||(Array.isArray(t.q.where)?f(e,t.q.where||[],n):t.q.where(e,n))}))},e}();t.InstanceSelection=c;var f=function(e,t,n,r){var o=["AND","OR"];if("string"!=typeof t[0]){var a=t.map(function(t,n){return-1!==o.indexOf(t)?("AND"===t&&!0,t):0===d(t[2],t[1],i.objQuery(t[0],e,r))});return a.forEach(function(e,t){"OR"===e&&(a[t]=a[t-1]||a[t+1],a[t-1]=void 0,a[t+1]=void 0)}),-1===a.indexOf(!1)}return 0===d(t[2],t[1],i.objQuery(t[0],e,r))},d=function(e,t,n){var r=function(e){return["LIKE","NOT LIKE"].indexOf(t)>-1?String(e||"").toLowerCase():e},o=r(n),i=r(e);if("NULL"===e||"NOT NULL"===e){var a="="===t||"LIKE"===t;return("NULL"===e?null===n||void 0===n:null!==n&&void 0!==n)?a?0:1:a?1:0}switch(t){case"=":return o===i?0:1;case"!=":return o!==i?0:1;case">":return o>i?0:1;case"<":return o<i?0:1;case"<=":return o<=i?0:1;case">=":return o>=i?0:1;case"IN":return(i||[]).indexOf(o)<0?1:0;case"NOT IN":return(i||[]).indexOf(o)<0?0:1;case"REGEX":return o.match(i).length?0:1;case"LIKE":return o.indexOf(i)<0?1:0;case"NOT LIKE":return o.indexOf(i)>=0?1:0;case"BETWEEN":return i[0]<=o&&i[1]>=o?0:1;case"HAVE":return(o||[]).indexOf(i)<0?1:0;case"NOT HAVE":return(o||[]).indexOf(i)<0?0:1;case"INTERSECT":return(o||[]).filter(function(e){return(i||[]).indexOf(e)>-1}).length>0?0:1;case"NOT INTERSECT":return 0===(o||[]).filter(function(e){return(i||[]).indexOf(e)>-1}).length?0:1;default:return 1}}},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),i=n(106),a=n(0),s=n(105),u=function(){function e(){this._queryPool=[],this._queryPtr=0}return e.prototype.willConnect=function(e,t){this.parent=e.parent,this._store=new s._NanoSQLStorage(e.parent,r({},e.config)),this._store.init(e.models,function(n){e.models=r({},e.models,n),t(e)})},e.prototype.doExec=function(e,t){e.state="complete",new i._NanoSQLStorageQuery(this._store).doQuery(e,t)},e.prototype.dumpTables=function(e){var t=this;return new a.Promise(function(n,r){var o={},i=e&&e.length?e:Object.keys(t._store.tableInfo);a.fastALL(i,function(e,n,r){o[e]=[],t._store.adapters[0].adapter.rangeRead(e,function(t,n,r){o[e].push(t),r()},r)}).then(function(){n(o)})})},e.prototype.importTables=function(e){var t=this;return new a.Promise(function(n,r){a.fastALL(Object.keys(e),function(n,r,o){var i=t._store.tableInfo[n]._pk;a.fastALL(e[n],function(e,r,o){e[i]?t._store.adapters[0].adapter.write(n,e[i],e,o):o()}).then(o)}).then(function(){n()})})},e.prototype.willDisconnect=function(e){a.fastALL(this._store.adapters||[],function(e,t,n){e.disconnect?e.disconnect(n):n()}).then(e)},e.prototype.extend=function(e,t,n){var r=this;switch(t[0]){case"clone":var i=new o.NanoSQLInstance;Object.keys(this.parent.dataModels).forEach(function(e){i.table(e).model(r.parent.dataModels[e],[],!0)}),i.config({id:this._store._id,mode:t[1]}).connect().then(function(){a.fastCHAIN(Object.keys(r.parent.dataModels),function(e,t,n){console.log("Importing "+e+"..."),r.parent.rawDump([e]).then(function(e){return i.rawImport(e)}).then(n)}).then(function(){e(t,[])})});break;case"flush":var s=[];s=t[1]?[t[1]]:this.parent.tableNames,a.fastCHAIN(s,function(e,t,n){r._store._drop(e,n)}).then(function(){e(t,s)});break;case"get_adapter":t[1]?e(t,[this._store.adapters[t[1]].adapter]):e(t,[this._store.adapters[0].adapter]);break;case"idx.length":case"idx":var u=t[1];Object.keys(this._store.tableInfo).indexOf(u)>-1?this._store.adapters[0].adapter.getIndex(u,"idx"!==t[0],function(n){e(t,n)}):e(t,[]);break;case"rebuild_idx":t[1]?this._store.rebuildIndexes(t[1],function(n){e(t,[n])}):a.fastALL(Object.keys(this._store.tableInfo),function(e,t,n){r._store.rebuildIndexes(e,n)}).then(function(n){e(t,n)});break;case"clear_cache":t[1]&&t[2]?this._store._invalidateCache(t[1],t[2]):t[1]?(this._store._cache[t[1]]={},this._store._cacheKeys[t[1]]={}):Object.keys(this._store.tableInfo).forEach(function(e){r._store._cache[e]={},r._store._cacheKeys[e]={}}),e(t,t[1]||Object.keys(this._store.tableInfo));break;default:e(t,n)}},e}();t.NanoSQLDefaultBackend=u},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.eventListeners={}}return e.prototype.on=function(e,t){this.eventListeners[e]||(this.eventListeners[e]=[]),this.eventListeners[e].push(t)},e.prototype.off=function(e,t){var n=this;this.eventListeners[e]&&this.eventListeners[e].length&&this.eventListeners[e].forEach(function(r,o){r===t&&n.eventListeners[e].splice(o,1)})},e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.eventListeners[e]&&this.eventListeners[e].forEach(function(e){return e.apply(void 0,t)})},e}();t.ReallySmallEvents=n,t.RSE=new n},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n,r,o){this.thisQ={state:"pending",table:n,action:e,actionArgs:t,queryID:o,transaction:!0,result:[],comments:[]},this._queries=r}return e.prototype.where=function(e){return this.thisQ.where=e,this},e.prototype.exec=function(){this._queries.push(this.thisQ)},e}();t._NanoSQLTransactionQuery=n},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i={affectedRowPKS:[],affectedRows:[]},a=function(e,t){1!==e._db.plugins.length||e._db.hasAnyEvents?o.fastCHAIN(e._db.plugins,function(t,n,r){t.doExec?t.doExec(e._query,function(t){e._query=t||e._query,r()}):r()}).then(function(){if(e._db.hasPK[e._query.table]?t(e._query.result):t(e._query.result.map(function(e){return r({},e,{_id_:void 0})})),e._db.hasAnyEvents||e._db.pluginHasDidExec){var n=function(){switch(e._query.action){case"select":return[e._query.action];case"delete":case"upsert":case"drop":return[e._query.action,"change"];default:return[]}}(),a=e._query.result&&e._query.result.length,s={table:e._query.table,query:e._query,time:Date.now(),result:e._query.result,notes:[],types:n,actionOrView:e._AV,transactionID:e._query.transaction?e._query.queryID:void 0,affectedRowPKS:a?(e._query.result[0]||i).affectedRowPKS:[],affectedRows:a?(e._query.result[0]||i).affectedRows:[]};o.fastCHAIN(e._db.plugins,function(e,t,n){e.didExec?e.didExec(s,function(e){s=e,n()}):n()}).then(function(){e._db.triggerEvent(s)})}}):e._db.plugins[0].doExec(e._query,function(n){e._query=n,e._db.hasPK[e._query.table]?t(e._query.result):t(e._query.result.map(function(e){return r({},e,{_id_:void 0})}))})},s={},u=function(){function e(e,t,n,r,o){this._db=e,this._AV=o||"",this._query={table:t,comments:[],state:"pending",queryID:Date.now()+"."+this._db.fastRand(),action:n,actionArgs:r,result:[]}}return e.prototype.where=function(e){return this._query.where=e,this},e.prototype.range=function(e,t){return this._query.range=[e,t],this},e.prototype.on=function(e){return this._query.on=e,this},e.prototype.debounce=function(e){return this._query.debounce=e||250,this},e.prototype.orm=function(e){return this._query.orm=e,this},e.prototype.orderBy=function(e){return this._query.orderBy=e,this},e.prototype.groupBy=function(e){return this._query.groupBy=e,this},e.prototype.having=function(e){return e.length&&Array.isArray(e)||(this._error="Having condition requires an array!"),this._query.having=e,this},e.prototype.join=function(e){if(Array.isArray(this._query.table))throw Error("Can't JOIN with instance table!");return e.table&&e.type||(this._error="Join command requires table and type arguments!"),this._query.join=e,this},e.prototype.limit=function(e){return this._query.limit=e,this},e.prototype.trieSearch=function(e,t){return this._query.trie={column:e,search:t},this},e.prototype.comment=function(e){return this._query.comments.push(e),this},e.prototype.extend=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._query.extend=e,this},e.prototype.offset=function(e){return this._query.offset=e,this},e.prototype.toCSV=function(e){var t=this;return new o.Promise(function(n,r){t.exec().then(function(r){var o=[];r.length||n("",t),e&&o.push(Object.keys(r[0]).join(",")),r.forEach(function(e){o.push(Object.keys(e).map(function(t){return null===e[t]||void 0===e[t]?"":"object"==typeof e[t]?'"'+JSON.stringify(e[t]).replace(/\"/g,"'")+'"':e[t]}).join(","))}),n(o.join("\n"),t)})})},e.prototype.manualExec=function(e){return this._query=r({},this._query,e),this.exec()},e.prototype.denormalizationQuery=function(e){var t=this;return new o.Promise(function(n,r){switch(e){case"tocolumn":var i={};t._query.actionArgs&&t._query.actionArgs.length?Object.keys(t._db.toColRules[t._query.table]).filter(function(e){return-1!==t._query.actionArgs.indexOf(e)}).forEach(function(e){i[e]=t._db.toColRules[t._query.table][e]}):i=t._db.toColRules[t._query.table],t._query.action="select",t._query.actionArgs=void 0;var s=Object.keys(i);a(t,function(e){o.fastCHAIN(e,function(e,n,r){Object.isFrozen(e)&&(e=o._assign(e)),o.fastALL(s,function(n,r,o){var a=t._db.toColFns[t._query.table][i[n][0]];a?a.apply(null,[e[n],function(t){e[n]=t,o()}].concat(i[n].filter(function(e,t){return t>0}).map(function(t){return e[t]}))):o()}).then(function(){t._db.query("upsert",e).manualExec({table:t._query.table}).then(r).catch(r)})}).then(function(){n({msg:e.length+" rows modified"})})});break;case"torow":var u=(t._query.actionArgs||"").replace("()","");if(!t._db.toRowFns[t._query.table]||!t._db.toRowFns[t._query.table][u])return void r("No function "+t._query.actionArgs+" found to perform updates!");var l=t._db.toRowFns[t._query.table][u],c=t._db.tablePKs[t._query.table];if(t._query.on&&t._query.on.length)return void o.fastALL(t._query.on,function(e,n,r){l(e,{},function(n){n[c]=e,t._db.query("upsert",n).manualExec({table:t._query.table}).then(r).catch(r)})}).then(function(){n([{msg:(t._query.on||[]).length+" rows modified or added."}])});t._query.action="select",t._query.actionArgs=void 0,a(t,function(e){o.fastALL(e,function(e,n,r){Object.isFrozen(e)&&(e=o._assign(e)),l(e[c],e,function(n){n[c]=e[c],t._db.query("upsert",n).manualExec({table:t._query.table}).then(r).catch(r)})}).then(function(){n({msg:e.length+" rows modified"})})})}})},e.prototype.exec=function(){var e=this;if("*"!==this._query.table){var t=this,n=this._query.action.toLowerCase();if(["tocolumn","torow"].indexOf(n)>-1){if(this._query.debounce){var r=o.hash(JSON.stringify([this._query.table,n,this._query.actionArgs,this._query.on,this._query.where].filter(function(e){return e})));return new o.Promise(function(t,o){s[r]&&clearTimeout(s[r]),s[r]=setTimeout(function(){e.denormalizationQuery(n).then(t)},e._query.debounce)})}return this.denormalizationQuery(n)}if(!(["select","upsert","delete","drop","show tables","describe"].indexOf(n)>-1))throw Error("No valid database action!");var i=this._query.actionArgs||("select"===n||"delete"===n?[]:{});if("upsert"===n){for(var u={},l=this._db.dataModels[this._query.table],c=0;c<l.length;)void 0!==i[l[c].key]&&(u[l[c].key]=o.cast(l[c].type,i[l[c].key])),c++;if(this._db.skipPurge[this._query.table]){var f=l.map(function(e){return e.key});Object.keys(i).filter(function(e){return-1===f.indexOf(e)}).forEach(function(e){u[e]=i[e]})}i=u}return this._query.action=n,this._query.actionArgs=this._query.actionArgs?i:void 0,new o.Promise(function(n,r){Array.isArray(e._query.table)?e._db.iB.doExec&&e._db.iB.doExec(e._query,function(e){n(e.result)}):(t._db.plugins.length||(t._error="No plugins, nothing to do!"),t._error?r(t._error,e._db):e._db.queryMod?e._db.queryMod(e._query,function(t){e._query=t,a(e,n)}):a(e,n))})}},e}();t._NanoSQLQuery=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccountStatus=void 0;var r,o=n(18),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(14)),n(98)),a=n(97),s=(r=a)&&r.__esModule?r:{default:r};(0,o.nSQL)("balance").model([{key:"id",type:"int",props:["pk","ai"]},{key:"userId",type:"string"},{key:"balance",type:"int"}]).config({mode:"TEMP"}).connect().then(function(e){return(0,o.nSQL)().query("upsert",{userId:"anton",balance:20}).exec()});var u=(0,i.bindNSQL)(s.default);t.AccountStatus=u},function(e,t,n){"use strict";var r=/-(.)/g;e.exports=function(e){return e.replace(r,function(e,t){return t.toUpperCase()})}},function(e,t,n){"use strict";var r=n(112),o=/^-ms-/;e.exports=function(e){return r(e.replace(o,"ms-"))}},function(e,t,n){"use strict";var r=/([A-Z])/g;e.exports=function(e){return e.replace(r,"-$1").toLowerCase()}},function(e,t,n){"use strict";var r=n(114),o=/^ms-/;e.exports=function(e){return r(e).replace(o,"-ms-")}},function(e,t,n){"use strict";e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}},function(e,t,n){"use strict";var r=n(116);e.exports=function(e){return r(e)&&3==e.nodeType}},function(e,t,n){"use strict";var r=n(117);e.exports=function e(t,n){return!(!t||!n)&&(t===n||!r(t)&&(r(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(o(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!r.call(t,n[a])||!o(e[n[a]],t[n[a]]))return!1;return!0}},function(e,t,n){"use strict";e.exports=function(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=o},function(e,t,n){"use strict";
/** @license React v16.3.1
 * react-dom.development.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var t=n(14),r=n(36),o=n(35),i=n(121),a=n(52),s=n(34),u=n(50),l=n(120),c=n(119),f=n(118),d=n(51),p=n(115),h=n(113);t||r(!1,"ReactDOM was loaded before React. Make sure you load the React package before loading ReactDOM.");var y=function(e,t,n,r,o,i,a,s,u){this._hasCaughtError=!1,this._caughtError=null;var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this._caughtError=e,this._hasCaughtError=!0}};if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var m=document.createElement("react");y=function(e,t,n,o,i,a,s,u,l){"undefined"==typeof document&&r(!1,"The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var c=document.createEvent("Event"),f=!0,d=Array.prototype.slice.call(arguments,3);var p=void 0,h=!1,y=!1;function v(e){p=e.error,h=!0,null===p&&0===e.colno&&0===e.lineno&&(y=!0)}var g="react-"+(e||"invokeguardedcallback");window.addEventListener("error",v),m.addEventListener(g,function e(){m.removeEventListener(g,e,!1),t.apply(n,d),f=!1},!1),c.initEvent(g,!1,!1),m.dispatchEvent(c),f?(h?y&&(p=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://fb.me/react-crossorigin-error for more information.")):p=new Error("An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the \"Pause on exceptions\" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue."),this._hasCaughtError=!0,this._caughtError=p):(this._hasCaughtError=!1,this._caughtError=null),window.removeEventListener("error",v)}}var v=y,g={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(e,t,n,r,o,i,a,s,u){v.apply(g,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,n,r,o,i,a,s,u){if(g.invokeGuardedCallback.apply(this,arguments),g.hasCaughtError()){var l=g.clearCaughtError();g._hasRethrowError||(g._hasRethrowError=!0,g._rethrowError=l)}},rethrowCaughtError:function(){return b.apply(g,arguments)},hasCaughtError:function(){return g._hasCaughtError},clearCaughtError:function(){if(g._hasCaughtError){var e=g._caughtError;return g._caughtError=null,g._hasCaughtError=!1,e}r(!1,"clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}},b=function(){if(g._hasRethrowError){var e=g._rethrowError;throw g._rethrowError=null,g._hasRethrowError=!1,e}},_=null,w={};function x(){if(_)for(var e in w){var t=w[e],n=_.indexOf(e);if(n>-1||r(!1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",e),!S[n]){t.extractEvents||r(!1,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",e),S[n]=t;var o=t.eventTypes;for(var i in o)k(o[i],t,i)||r(!1,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",i,e)}}}function k(e,t,n){T.hasOwnProperty(n)&&r(!1,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",n),T[n]=e;var o=e.phasedRegistrationNames;if(o){for(var i in o){if(o.hasOwnProperty(i))C(o[i],t,n)}return!0}return!!e.registrationName&&(C(e.registrationName,t,n),!0)}function C(e,t,n){E[e]&&r(!1,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",e),E[e]=t,I[e]=t.eventTypes[n].dependencies;var o=e.toLowerCase();O[o]=e,"onDoubleClick"===e&&(O.ondblclick=e)}var S=[],T={},E={},I={},O={};function P(e){_&&r(!1,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."),_=Array.prototype.slice.call(e),x()}function R(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];w.hasOwnProperty(n)&&w[n]===o||(w[n]&&r(!1,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",n),w[n]=o,t=!0)}t&&x()}var A=Object.freeze({plugins:S,eventNameDispatchConfigs:T,registrationNameModules:E,registrationNameDependencies:I,possibleRegistrationNames:O,injectEventPluginOrder:P,injectEventPluginsByName:R}),N=null,M=null,L=null,q=function(e){N=e.getFiberCurrentPropsFromNode,M=e.getInstanceFromNode,L=e.getNodeFromInstance,o(L&&M,"EventPluginUtils.injection.injectComponentTree(...): Injected module is missing getNodeFromInstance or getInstanceFromNode.")},j=void 0;function D(e,t,n,r){var o=e.type||"unknown-event";e.currentTarget=L(r),g.invokeGuardedCallbackAndCatchFirstError(o,n,void 0,e),e.currentTarget=null}function F(e,t){return null==t&&r(!1,"accumulateInto(...): Accumulated items must not be null or undefined."),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function U(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}j=function(e){var t=e._dispatchListeners,n=e._dispatchInstances,r=Array.isArray(t),i=r?t.length:t?1:0,a=Array.isArray(n),s=a?n.length:n?1:0;o(a===r&&s===i,"EventPluginUtils: Invalid `event`.")};var W=null,B=function(e,t){e&&(!function(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(j(e),Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)D(e,0,n[o],r[o]);else n&&D(e,0,n,r);e._dispatchListeners=null,e._dispatchInstances=null}(e),e.isPersistent()||e.constructor.release(e))},H=function(e){return B(e)},z=function(e){return B(e)};var V={injectEventPluginOrder:P,injectEventPluginsByName:R};function K(e,t){var n,o=e.stateNode;if(!o)return null;var i=N(o);return i?(n=i[t],function(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||(r=t,"button"!==r&&"input"!==r&&"select"!==r&&"textarea"!==r));default:return!1}var r}(t,e.type,i)?null:(n&&"function"!=typeof n&&r(!1,"Expected `%s` listener to be a function, instead got a value of `%s` type.",t,typeof n),n)):null}function Q(e,t){null!==e&&(W=F(W,e));var n=W;W=null,n&&(U(n,t?H:z),W&&r(!1,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."),g.rethrowCaughtError())}function $(e,t,n,r){Q(function(e,t,n,r){for(var o=null,i=0;i<S.length;i++){var a=S[i];if(a){var s=a.extractEvents(e,t,n,r);s&&(o=F(o,s))}}return o}(e,t,n,r),!1)}var Y=Object.freeze({injection:V,getListener:K,runEventsInBatch:Q,runExtractedEventsInBatch:$}),J=0,G=1,X=2,Z=3,ee=4,te=5,ne=6,re=7,oe=8,ie=9,ae=10,se=11,ue=12,le=13,ce=14,fe=Math.random().toString(36).slice(2),de="__reactInternalInstance$"+fe,pe="__reactEventHandlers$"+fe;function he(e,t){t[de]=e}function ye(e){if(e[de])return e[de];for(;!e[de];){if(!e.parentNode)return null;e=e.parentNode}var t=e[de];return t.tag===te||t.tag===ne?t:null}function me(e){var t=e[de];return t&&(t.tag===te||t.tag===ne)?t:null}function ve(e){if(e.tag===te||e.tag===ne)return e.stateNode;r(!1,"getNodeFromInstance: Invalid argument.")}function ge(e){return e[pe]||null}function be(e,t){e[pe]=t}var _e=Object.freeze({precacheFiberNode:he,getClosestInstanceFromNode:ye,getInstanceFromNode:me,getNodeFromInstance:ve,getFiberCurrentPropsFromNode:ge,updateFiberProps:be});function we(e){do{e=e.return}while(e&&e.tag!==te);return e||null}function xe(e,t,n){for(var r=[];e;)r.push(e),e=we(e);var o=void 0;for(o=r.length;o-- >0;)t(r[o],"captured",n);for(o=0;o<r.length;o++)t(r[o],"bubbled",n)}function ke(e,t,n,r,o){for(var i=e&&t?function(e,t){for(var n=0,r=e;r;r=we(r))n++;for(var o=0,i=t;i;i=we(i))o++;for(;n-o>0;)e=we(e),n--;for(;o-n>0;)t=we(t),o--;for(var a=n;a--;){if(e===t||e===t.alternate)return e;e=we(e),t=we(t)}return null}(e,t):null,a=[];e&&e!==i;){var s=e.alternate;if(null!==s&&s===i)break;a.push(e),e=we(e)}for(var u=[];t&&t!==i;){var l=t.alternate;if(null!==l&&l===i)break;u.push(t),t=we(t)}for(var c=0;c<a.length;c++)n(a[c],"bubbled",r);for(var f=u.length;f-- >0;)n(u[f],"captured",o)}function Ce(e,t,n){o(e,"Dispatching inst must not be null");var r=function(e,t,n){return K(e,t.dispatchConfig.phasedRegistrationNames[n])}(e,n,t);r&&(n._dispatchListeners=F(n._dispatchListeners,r),n._dispatchInstances=F(n._dispatchInstances,e))}function Se(e){e&&e.dispatchConfig.phasedRegistrationNames&&xe(e._targetInst,Ce,e)}function Te(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;xe(t?we(t):null,Ce,e)}}function Ee(e,t,n){if(e&&n&&n.dispatchConfig.registrationName){var r=K(e,n.dispatchConfig.registrationName);r&&(n._dispatchListeners=F(n._dispatchListeners,r),n._dispatchInstances=F(n._dispatchInstances,e))}}function Ie(e){e&&e.dispatchConfig.registrationName&&Ee(e._targetInst,0,e)}function Oe(e){U(e,Se)}function Pe(e,t,n,r){ke(n,r,Ee,e,t)}var Re=Object.freeze({accumulateTwoPhaseDispatches:Oe,accumulateTwoPhaseDispatchesSkipTarget:function(e){U(e,Te)},accumulateEnterLeaveDispatches:Pe,accumulateDirectDispatches:function(e){U(e,Ie)}}),Ae=null;function Ne(){return!Ae&&i.canUseDOM&&(Ae="textContent"in document.documentElement?"textContent":"innerText"),Ae}var Me={_root:null,_startText:null,_fallbackText:null};function Le(){if(Me._fallbackText)return Me._fallbackText;var e=void 0,t=Me._startText,n=t.length,r=void 0,o=qe(),i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===o[i-r];r++);var s=r>1?1-r:void 0;return Me._fallbackText=o.slice(e,s),Me._fallbackText}function qe(){return"value"in Me._root?Me._root.value:Me._root[Ne()]}var je=!1,De=10,Fe=["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"],Ue={type:null,target:null,currentTarget:s.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function We(e,t,n,r){delete this.nativeEvent,delete this.preventDefault,delete this.stopPropagation,this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var o=this.constructor.Interface;for(var i in o)if(o.hasOwnProperty(i)){delete this[i];var a=o[i];a?this[i]=a(n):"target"===i?this.target=r:this[i]=n[i]}var u=null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue;return this.isDefaultPrevented=u?s.thatReturnsTrue:s.thatReturnsFalse,this.isPropagationStopped=s.thatReturnsFalse,this}function Be(e,t){var n="function"==typeof t;return{configurable:!0,set:function(e){return r(n?"setting the method":"setting the property","This is effectively a no-op"),e},get:function(){return r(n?"accessing the method":"accessing the property",n?"This is a no-op function":"This is set to null"),t}};function r(t,n){o(!1,"This synthetic event is reused for performance reasons. If you're seeing this, you're %s `%s` on a released/nullified synthetic event. %s. If you must keep the original synthetic event around, use event.persist(). See https://fb.me/react-event-pooling for more information.",t,e,n)}}function He(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function ze(e){e instanceof this||r(!1,"Trying to release an event instance  into a pool of a different type."),e.destructor(),this.eventPool.length<De&&this.eventPool.push(e)}function Ve(e){e.eventPool=[],e.getPooled=He,e.release=ze}a(We.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=s.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=s.thatReturnsTrue)},persist:function(){this.isPersistent=s.thatReturnsTrue},isPersistent:s.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)Object.defineProperty(this,t,Be(t,e[t]));for(var n=0;n<Fe.length;n++)this[Fe[n]]=null;Object.defineProperty(this,"nativeEvent",Be("nativeEvent",null)),Object.defineProperty(this,"preventDefault",Be("preventDefault",s)),Object.defineProperty(this,"stopPropagation",Be("stopPropagation",s))}}),We.Interface=Ue,We.extend=function(e){var t=this,n=function(){};n.prototype=t.prototype;var r=new n;function o(){return t.apply(this,arguments)}return a(r,o.prototype),o.prototype=r,o.prototype.constructor=o,o.Interface=a({},t.Interface,e),o.extend=t.extend,Ve(o),o},"function"==typeof Proxy&&!Object.isSealed(new Proxy({},{}))&&(We=new Proxy(We,{construct:function(e,t){return this.apply(e,Object.create(e.prototype),t)},apply:function(e,t,n){return new Proxy(e.apply(t,n),{set:function(e,t,n){return"isPersistent"===t||e.constructor.Interface.hasOwnProperty(t)||-1!==Fe.indexOf(t)||(o(je||e.isPersistent(),"This synthetic event is reused for performance reasons. If you're seeing this, you're adding a new property in the synthetic event object. The property is never released. See https://fb.me/react-event-pooling for more information."),je=!0),e[t]=n,!0}})}})),Ve(We);var Ke=We,Qe=Ke.extend({data:null}),$e=Ke.extend({data:null}),Ye=[9,13,27,32],Je=229,Ge=i.canUseDOM&&"CompositionEvent"in window,Xe=null;i.canUseDOM&&"documentMode"in document&&(Xe=document.documentMode);var Ze=i.canUseDOM&&"TextEvent"in window&&!Xe,et=i.canUseDOM&&(!Ge||Xe&&Xe>8&&Xe<=11),tt=32,nt=String.fromCharCode(tt),rt={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},ot=!1;function it(e,t){switch(e){case"topKeyUp":return-1!==Ye.indexOf(t.keyCode);case"topKeyDown":return t.keyCode!==Je;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function at(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}var st=!1;function ut(e,t,n,r){var o=void 0,i=void 0;if(Ge?o=function(e){switch(e){case"topCompositionStart":return rt.compositionStart;case"topCompositionEnd":return rt.compositionEnd;case"topCompositionUpdate":return rt.compositionUpdate}}(e):st?it(e,n)&&(o=rt.compositionEnd):function(e,t){return"topKeyDown"===e&&t.keyCode===Je}(e,n)&&(o=rt.compositionStart),!o)return null;et&&(st||o!==rt.compositionStart?o===rt.compositionEnd&&st&&(i=Le()):st=function(e){return Me._root=e,Me._startText=qe(),!0}(r));var a=Qe.getPooled(o,t,n,r);if(i)a.data=i;else{var s=at(n);null!==s&&(a.data=s)}return Oe(a),a}function lt(e,t){if(st){if("topCompositionEnd"===e||!Ge&&it(e,t)){var n=Le();return Me._root=null,Me._startText=null,Me._fallbackText=null,st=!1,n}return null}switch(e){case"topPaste":return null;case"topKeyPress":if(!function(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}(t)){if(t.char&&t.char.length>1)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"topCompositionEnd":return et?null:t.data;default:return null}}function ct(e,t,n,r){var o=void 0;if(!(o=Ze?function(e,t){switch(e){case"topCompositionEnd":return at(t);case"topKeyPress":return t.which!==tt?null:(ot=!0,nt);case"topTextInput":var n=t.data;return n===nt&&ot?null:n;default:return null}}(e,n):lt(e,n)))return null;var i=$e.getPooled(rt.beforeInput,t,n,r);return i.data=o,Oe(i),i}var ft={eventTypes:rt,extractEvents:function(e,t,n,r){var o=ut(e,t,n,r),i=ct(e,t,n,r);return null===o?i:null===i?o:[o,i]}},dt=null,pt=null,ht=null;function yt(e){var t=M(e);if(t){dt&&"function"==typeof dt.restoreControlledState||r(!1,"Fiber needs to be injected to handle a fiber target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var n=N(t.stateNode);dt.restoreControlledState(t.stateNode,t.type,n)}}var mt={injectFiberControlledHostComponent:function(e){dt=e}};function vt(e){pt?ht?ht.push(e):ht=[e]:pt=e}function gt(){return null!==pt||null!==ht}function bt(){if(pt){var e=pt,t=ht;if(pt=null,ht=null,yt(e),t)for(var n=0;n<t.length;n++)yt(t[n])}}var _t=Object.freeze({injection:mt,enqueueStateRestore:vt,needsStateRestore:gt,restoreStateIfNeeded:bt}),wt=function(e,t){return e(t)},xt=function(e,t,n){return e(t,n)},kt=function(){},Ct=!1;function St(e,t){if(Ct)return e(t);Ct=!0;try{return wt(e,t)}finally{Ct=!1,gt()&&(kt(),bt())}}var Tt=function(e){wt=e.batchedUpdates,xt=e.interactiveUpdates,kt=e.flushInteractiveUpdates},Et={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function It(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Et[e.type]:"textarea"===t}var Ot=1,Pt=3,Rt=8,At=9,Nt=11;function Mt(e){var t=e.target||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===Pt?t.parentNode:t}
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Lt(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var o=document.createElement("div");o.setAttribute(n,"return;"),r="function"==typeof o[n]}return r}function qt(e){var t=e.type,n=e.nodeName;return n&&"input"===n.toLowerCase()&&("checkbox"===t||"radio"===t)}function jt(e){return e._valueTracker}function Dt(e){jt(e)||(e._valueTracker=function(e){var t=qt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"function"==typeof n.get&&"function"==typeof n.set)return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.get.call(this)},set:function(e){r=""+e,n.set.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){!function(e){e._valueTracker=null}(e),delete e[t]}}}(e))}function Ft(e){if(!e)return!1;var t=jt(e);if(!t)return!0;var n=t.getValue(),r=function(e){var t="";return e?t=qt(e)?e.checked?"true":"false":e.value:t}(e);return r!==n&&(t.setValue(r),!0)}var Ut=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wt=Ut.ReactCurrentOwner,Bt=Ut.ReactDebugCurrentFrame,Ht=function(e,t,n){return"\n    in "+(e||"Unknown")+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")},zt="function"==typeof Symbol&&Symbol.for,Vt=zt?Symbol.for("react.element"):60103,Kt=zt?Symbol.for("react.call"):60104,Qt=zt?Symbol.for("react.return"):60105,$t=zt?Symbol.for("react.portal"):60106,Yt=zt?Symbol.for("react.fragment"):60107,Jt=zt?Symbol.for("react.strict_mode"):60108,Gt=zt?Symbol.for("react.provider"):60109,Xt=zt?Symbol.for("react.context"):60110,Zt=zt?Symbol.for("react.async_mode"):60111,en=zt?Symbol.for("react.forward_ref"):60112,tn="function"==typeof Symbol&&Symbol.iterator,nn="@@iterator";function rn(e){if(null===e||void 0===e)return null;var t=tn&&e[tn]||e[nn];return"function"==typeof t?t:null}function on(e){var t=e.type;if("function"==typeof t)return t.displayName||t.name;if("string"==typeof t)return t;switch(t){case Yt:return"ReactFragment";case $t:return"ReactPortal";case Kt:return"ReactCall";case Qt:return"ReactReturn"}return null}function an(e){switch(e.tag){case J:case G:case X:case te:var t=e._debugOwner,n=e._debugSource,r=on(e),o=null;return t&&(o=on(t)),Ht(r,n,o);default:return""}}function sn(e){var t="",n=e;do{t+=an(n),n=n.return}while(n);return t}function un(){var e=ln.current;return null===e?null:sn(e)}var ln={current:null,phase:null,resetCurrentFiber:function(){Bt.getCurrentStack=null,ln.current=null,ln.phase=null},setCurrentFiber:function(e){Bt.getCurrentStack=un,ln.current=e,ln.phase=null},setCurrentPhase:function(e){ln.phase=e},getCurrentFiberOwnerName:function(){var e=ln.current;if(null===e)return null;var t=e._debugOwner;return null!==t&&void 0!==t?on(t):null},getCurrentFiberStackAddendum:un},cn=0,fn=2,dn=3,pn=4,hn=5,yn=6,mn=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",vn=mn+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",gn="data-reactroot",bn=new RegExp("^["+mn+"]["+vn+"]*$"),_n={},wn={};function xn(e){return!!wn.hasOwnProperty(e)||!_n.hasOwnProperty(e)&&(bn.test(e)?(wn[e]=!0,!0):(_n[e]=!0,o(!1,"Invalid attribute name: `%s`",e),!1))}function kn(e,t,n){return null!==t?t.type===cn:!n&&(e.length>2&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))}function Cn(e,t,n,r){if(null!==n&&n.type===cn)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(r)return!1;if(null!==n)return!n.acceptsBooleans;var o=e.toLowerCase().slice(0,5);return"data-"!==o&&"aria-"!==o;default:return!1}}function Sn(e,t,n,r){if(null===t||void 0===t)return!0;if(Cn(e,t,n,r))return!0;if(null!==n)switch(n.type){case dn:return!t;case pn:return!1===t;case hn:return isNaN(t);case yn:return isNaN(t)||t<1}return!1}function Tn(e){return In.hasOwnProperty(e)?In[e]:null}function En(e,t,n,r,o){this.acceptsBooleans=t===fn||t===dn||t===pn,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t}var In={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(function(e){In[e]=new En(e,cn,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0],n=e[1];In[t]=new En(t,1,!1,n,null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){In[e]=new En(e,fn,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(e){In[e]=new En(e,fn,!1,e,null)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(e){In[e]=new En(e,dn,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){In[e]=new En(e,dn,!0,e.toLowerCase(),null)}),["capture","download"].forEach(function(e){In[e]=new En(e,pn,!1,e.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(e){In[e]=new En(e,yn,!1,e.toLowerCase(),null)}),["rowSpan","start"].forEach(function(e){In[e]=new En(e,hn,!1,e.toLowerCase(),null)});var On=/[\-\:]([a-z])/g,Pn=function(e){return e[1].toUpperCase()};function Rn(e,t,n,r){if(r.mustUseProperty)return e[r.propertyName];var o=r.attributeName,i=null;if(r.type===pn){if(e.hasAttribute(o)){var a=e.getAttribute(o);return""===a||(Sn(t,n,r,!1)?a:a===""+n?n:a)}}else if(e.hasAttribute(o)){if(Sn(t,n,r,!1))return e.getAttribute(o);if(r.type===dn)return n;i=e.getAttribute(o)}return Sn(t,n,r,!1)?null===i?n:i:i===""+n?n:i}function An(e,t,n){if(xn(t)){if(!e.hasAttribute(t))return void 0===n?void 0:null;var r=e.getAttribute(t);return r===""+n?n:r}}function Nn(e,t,n,r){var o=Tn(t);if(!kn(t,o,r))if(Sn(t,n,o,r)&&(n=null),r||null===o){if(xn(t)){var i=t;null===n?e.removeAttribute(i):e.setAttribute(i,""+n)}}else if(o.mustUseProperty){var a=o.propertyName;if(null===n){var s=o.type;e[a]=s!==dn&&""}else e[a]=n}else{var u=o.attributeName,l=o.attributeNamespace;if(null===n)e.removeAttribute(u);else{var c=o.type,f=void 0;f=c===dn||c===pn&&!0===n?"":""+n,l?e.setAttributeNS(l,u,f):e.setAttribute(u,f)}}}["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(e){var t=e.replace(On,Pn);In[t]=new En(t,1,!1,e,null)}),["xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(e){var t=e.replace(On,Pn);In[t]=new En(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(On,Pn);In[t]=new En(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),In.tabIndex=new En("tabIndex",1,!1,"tabindex",null);var Mn={checkPropTypes:null},Ln={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},qn={value:function(e,t,n){return!e[t]||Ln[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}};Mn.checkPropTypes=function(e,t,n){u(qn,t,"prop",e,n)};var jn=ln.getCurrentFiberOwnerName,Dn=ln.getCurrentFiberStackAddendum,Fn=!1,Un=!1,Wn=!1,Bn=!1;function Hn(e){return"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}function zn(e,t){var n=e,r=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:n._wrapperState.initialChecked})}function Vn(e,t){Mn.checkPropTypes("input",t,Dn),void 0===t.checked||void 0===t.defaultChecked||Un||(o(!1,"%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://fb.me/react-controlled-components",jn()||"A component",t.type),Un=!0),void 0===t.value||void 0===t.defaultValue||Fn||(o(!1,"%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://fb.me/react-controlled-components",jn()||"A component",t.type),Fn=!0);var n=e,r=null==t.defaultValue?"":t.defaultValue;n._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:Gn(null!=t.value?t.value:r),controlled:Hn(t)}}function Kn(e,t){var n=e,r=t.checked;null!=r&&Nn(n,"checked",r,!1)}function Qn(e,t){var n=e,r=Hn(t);n._wrapperState.controlled||!r||Bn||(o(!1,"A component is changing an uncontrolled input of type %s to be controlled. Input elements should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://fb.me/react-controlled-components%s",t.type,Dn()),Bn=!0),!n._wrapperState.controlled||r||Wn||(o(!1,"A component is changing a controlled input of type %s to be uncontrolled. Input elements should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://fb.me/react-controlled-components%s",t.type,Dn()),Wn=!0),Kn(e,t);var i=Gn(t.value);null!=i&&("number"===t.type?(0===i&&""===n.value||n.value!=i)&&(n.value=""+i):n.value!==""+i&&(n.value=""+i)),t.hasOwnProperty("value")?Jn(n,t.type,i):t.hasOwnProperty("defaultValue")&&Jn(n,t.type,Gn(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(n.defaultChecked=!!t.defaultChecked)}function $n(e,t){var n=e;(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue"))&&(""===n.value&&(n.value=""+n._wrapperState.initialValue),n.defaultValue=""+n._wrapperState.initialValue);var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}function Yn(e,t){var n=e;Qn(n,t),function(e,t){var n=t.name;if("radio"===t.type&&null!=n){for(var o=e;o.parentNode;)o=o.parentNode;for(var i=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),a=0;a<i.length;a++){var s=i[a];if(s!==e&&s.form===e.form){var u=ge(s);u||r(!1,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported."),Ft(s),Qn(s,u)}}}}(n,t)}function Jn(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Gn(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}var Xn={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}};function Zn(e,t,n){var r=Ke.getPooled(Xn.change,e,t,n);return r.type="change",vt(n),Oe(r),r}var er=null,tr=null;function nr(e){Q(e,!1)}function rr(e){if(Ft(ve(e)))return e}function or(e,t){if("topChange"===e)return t}var ir=!1;function ar(){er&&(er.detachEvent("onpropertychange",sr),er=null,tr=null)}function sr(e){"value"===e.propertyName&&rr(tr)&&function(e){St(nr,Zn(tr,e,Mt(e)))}(e)}function ur(e,t,n){"topFocus"===e?(ar(),function(e,t){tr=t,(er=e).attachEvent("onpropertychange",sr)}(t,n)):"topBlur"===e&&ar()}function lr(e,t){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return rr(tr)}function cr(e,t){if("topClick"===e)return rr(t)}function fr(e,t){if("topInput"===e||"topChange"===e)return rr(t)}i.canUseDOM&&(ir=Lt("input")&&(!document.documentMode||document.documentMode>9));var dr={eventTypes:Xn,_isInputEventSupported:ir,extractEvents:function(e,t,n,r){var o,i,a=t?ve(t):window,s=void 0,u=void 0;if("select"===(i=(o=a).nodeName&&o.nodeName.toLowerCase())||"input"===i&&"file"===o.type?s=or:It(a)?ir?s=fr:(s=lr,u=ur):function(e){var t=e.nodeName;return t&&"input"===t.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}(a)&&(s=cr),s){var l=s(e,t);if(l)return Zn(l,n,r)}u&&u(e,a,t),"topBlur"===e&&function(e,t){if(null!=e){var n=e._wrapperState||t._wrapperState;n&&n.controlled&&"number"===t.type&&Jn(t,"number",t.value)}}(t,a)}},pr=Ke.extend({view:null,detail:null}),hr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yr(e){var t=this.nativeEvent;if(t.getModifierState)return t.getModifierState(e);var n=hr[e];return!!n&&!!t[n]}function mr(e){return yr}var vr=pr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:mr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}}),gr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},br={eventTypes:gr,extractEvents:function(e,t,n,r){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement))return null;if("topMouseOut"!==e&&"topMouseOver"!==e)return null;var o=void 0;if(r.window===r)o=r;else{var i=r.ownerDocument;o=i?i.defaultView||i.parentWindow:window}var a=void 0,s=void 0;if("topMouseOut"===e){a=t;var u=n.relatedTarget||n.toElement;s=u?ye(u):null}else a=null,s=t;if(a===s)return null;var l=null==a?o:ve(a),c=null==s?o:ve(s),f=vr.getPooled(gr.mouseLeave,a,n,r);f.type="mouseleave",f.target=l,f.relatedTarget=c;var d=vr.getPooled(gr.mouseEnter,s,n,r);return d.type="mouseenter",d.target=c,d.relatedTarget=l,Pe(f,d,a,s),[f,d]}};function _r(e){return e._reactInternalFiber}var wr=0,xr=1,kr=2,Cr=4,Sr=6,Tr=8,Er=16,Ir=32,Or=64,Pr=128,Rr=256,Ar=2048,Nr=2559,Mr=512,Lr=1024,qr=1,jr=2,Dr=3;function Fr(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if((t.effectTag&kr)!==wr)return qr;for(;t.return;)if(((t=t.return).effectTag&kr)!==wr)return qr}return t.tag===Z?jr:Dr}function Ur(e){return Fr(e)===jr}function Wr(e){var t=Wt.current;if(null!==t&&t.tag===X){var n=t,r=n.stateNode;o(r._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",on(n)||"A component"),r._warnedAboutRefsInRender=!0}var i=_r(e);return!!i&&Fr(i)===jr}function Br(e){Fr(e)!==jr&&r(!1,"Unable to find node on an unmounted component.")}function Hr(e){var t=e.alternate;if(!t){var n=Fr(e);return n===Dr&&r(!1,"Unable to find node on an unmounted component."),n===qr?null:e}for(var o=e,i=t;;){var a=o.return,s=a?a.alternate:null;if(!a||!s)break;if(a.child===s.child){for(var u=a.child;u;){if(u===o)return Br(a),e;if(u===i)return Br(a),t;u=u.sibling}r(!1,"Unable to find node on an unmounted component.")}if(o.return!==i.return)o=a,i=s;else{for(var l=!1,c=a.child;c;){if(c===o){l=!0,o=a,i=s;break}if(c===i){l=!0,i=a,o=s;break}c=c.sibling}if(!l){for(c=s.child;c;){if(c===o){l=!0,o=s,i=a;break}if(c===i){l=!0,i=s,o=a;break}c=c.sibling}l||r(!1,"Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}o.alternate!==i&&r(!1,"Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}return o.tag!==Z&&r(!1,"Unable to find node on an unmounted component."),o.stateNode.current===o?e:t}var zr=Ke.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Vr=Ke.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kr=pr.extend({relatedTarget:null});function Qr(e){var t=void 0,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,10===t&&(t=13),t>=32||13===t?t:0}var $r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};var Jr=pr.extend({key:function(e){if(e.key){var t=$r[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=Qr(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?Yr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:mr,charCode:function(e){return"keypress"===e.type?Qr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Gr=vr.extend({dataTransfer:null}),Xr=pr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:mr}),Zr=Ke.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),eo=vr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),to={},no={};function ro(e,t){var n=e[0].toUpperCase()+e.slice(1),r="on"+n,o="top"+n,i={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[o],isInteractive:t};to[e]=i,no[o]=i}["blur","cancel","click","close","contextMenu","copy","cut","doubleClick","dragEnd","dragStart","drop","focus","input","invalid","keyDown","keyPress","keyUp","mouseDown","mouseUp","paste","pause","play","rateChange","reset","seeked","submit","touchCancel","touchEnd","touchStart","volumeChange"].forEach(function(e){ro(e,!0)}),["abort","animationEnd","animationIteration","animationStart","canPlay","canPlayThrough","drag","dragEnter","dragExit","dragLeave","dragOver","durationChange","emptied","encrypted","ended","error","load","loadedData","loadedMetadata","loadStart","mouseMove","mouseOut","mouseOver","playing","progress","scroll","seeking","stalled","suspend","timeUpdate","toggle","touchMove","transitionEnd","waiting","wheel"].forEach(function(e){ro(e,!1)});var oo=["topAbort","topCancel","topCanPlay","topCanPlayThrough","topClose","topDurationChange","topEmptied","topEncrypted","topEnded","topError","topInput","topInvalid","topLoad","topLoadedData","topLoadedMetadata","topLoadStart","topPause","topPlay","topPlaying","topProgress","topRateChange","topReset","topSeeked","topSeeking","topStalled","topSubmit","topSuspend","topTimeUpdate","topToggle","topVolumeChange","topWaiting"],io={eventTypes:to,isInteractiveTopLevelEventType:function(e){var t=no[e];return void 0!==t&&!0===t.isInteractive},extractEvents:function(e,t,n,r){var i=no[e];if(!i)return null;var a=void 0;switch(e){case"topKeyPress":if(0===Qr(n))return null;case"topKeyDown":case"topKeyUp":a=Jr;break;case"topBlur":case"topFocus":a=Kr;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":a=vr;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":a=Gr;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":a=Xr;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":a=zr;break;case"topTransitionEnd":a=Zr;break;case"topScroll":a=pr;break;case"topWheel":a=eo;break;case"topCopy":case"topCut":case"topPaste":a=Vr;break;default:-1===oo.indexOf(e)&&o(!1,"SimpleEventPlugin: Unhandled event type, `%s`. This warning is likely caused by a bug in React. Please file an issue.",e),a=Ke}var s=a.getPooled(i,t,n,r);return Oe(s),s}},ao=io.isInteractiveTopLevelEventType,so=10,uo=[];function lo(e){for(;e.return;)e=e.return;return e.tag!==Z?null:e.stateNode.containerInfo}function co(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=lo(n);if(!r)break;e.ancestors.push(n),n=ye(r)}while(n);for(var o=0;o<e.ancestors.length;o++)t=e.ancestors[o],$(e.topLevelType,t,e.nativeEvent,Mt(e.nativeEvent))}var fo=!0;function po(e){fo=!!e}function ho(){return fo}function yo(e,t,n){if(!n)return null;!function(e,t,n){e.addEventListener(t,n,!1)}(n,t,(ao(e)?vo:go).bind(null,e))}function mo(e,t,n){if(!n)return null;!function(e,t,n){e.addEventListener(t,n,!0)}(n,t,(ao(e)?vo:go).bind(null,e))}function vo(e,t){xt(go,e,t)}function go(e,t){if(fo){var n=ye(Mt(t));null===n||"number"!=typeof n.tag||Ur(n)||(n=null);var r,o=function(e,t,n){if(uo.length){var r=uo.pop();return r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,r}return{topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]}}(e,t,n);try{St(co,o)}finally{(r=o).topLevelType=null,r.nativeEvent=null,r.targetInst=null,r.ancestors.length=0,uo.length<so&&uo.push(r)}}}var bo=Object.freeze({get _enabled(){return fo},setEnabled:po,isEnabled:ho,trapBubbledEvent:yo,trapCapturedEvent:mo,dispatchEvent:go});function _o(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}var wo={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionend:_o("Transition","TransitionEnd")},xo={},ko={};function Co(e){if(xo[e])return xo[e];if(!wo[e])return e;var t=wo[e];for(var n in t)if(t.hasOwnProperty(n)&&n in ko)return xo[e]=t[n];return e}i.canUseDOM&&(ko=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);var So={topAnimationEnd:Co("animationend"),topAnimationIteration:Co("animationiteration"),topAnimationStart:Co("animationstart"),topBlur:"blur",topCancel:"cancel",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoad:"load",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:Co("transitionend"),topWheel:"wheel"},To={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Eo={},Io=0,Oo="_reactListenersID"+(""+Math.random()).slice(2);function Po(e){return Object.prototype.hasOwnProperty.call(e,Oo)||(e[Oo]=Io++,Eo[e[Oo]]={}),Eo[e[Oo]]}function Ro(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ao(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function No(e,t){for(var n=Ro(e),r=0,o=0;n;){if(n.nodeType===Pt){if(o=r+n.textContent.length,r<=t&&o>=t)return{node:n,offset:t-r};r=o}n=Ro(Ao(n))}}function Mo(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,r=t.anchorOffset,o=t.focusNode,i=t.focusOffset;try{n.nodeType,o.nodeType}catch(e){return null}return function(e,t,n,r,o){var i=0,a=-1,s=-1,u=0,l=0,c=e,f=null;e:for(;;){for(var d=null;c!==t||0!==n&&c.nodeType!==Pt||(a=i+n),c!==r||0!==o&&c.nodeType!==Pt||(s=i+o),c.nodeType===Pt&&(i+=c.nodeValue.length),null!==(d=c.firstChild);)f=c,c=d;for(;;){if(c===e)break e;if(f===t&&++u===n&&(a=i),f===r&&++l===o&&(s=i),null!==(d=c.nextSibling))break;f=(c=f).parentNode}c=d}if(-1===a||-1===s)return null;return{start:a,end:s}}(e,n,r,o,i)}function Lo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)}function qo(){var e=l();return{focusedElem:e,selectionRange:Lo(e)?function(e){var t=void 0;t="selectionStart"in e?{start:e.selectionStart,end:e.selectionEnd}:Mo(e);return t||{start:0,end:0}}(e):null}}function jo(e){var t,n=l(),r=e.focusedElem,o=e.selectionRange;if(n!==r&&(t=r,f(document.documentElement,t))){Lo(r)&&function(e,t){var n=t.start,r=t.end;void 0===r&&(r=n);"selectionStart"in e?(e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length)):function(e,t){if(window.getSelection){var n=window.getSelection(),r=e[Ne()].length,o=Math.min(t.start,r),i=void 0===t.end?o:Math.min(t.end,r);if(!n.extend&&o>i){var a=i;i=o,o=a}var s=No(e,o),u=No(e,i);if(s&&u){if(1===n.rangeCount&&n.anchorNode===s.node&&n.anchorOffset===s.offset&&n.focusNode===u.node&&n.focusOffset===u.offset)return;var l=document.createRange();l.setStart(s.node,s.offset),n.removeAllRanges(),o>i?(n.addRange(l),n.extend(u.node,u.offset)):(l.setEnd(u.node,u.offset),n.addRange(l))}}}(e,t)}(r,o);for(var i=[],a=r;a=a.parentNode;)a.nodeType===Ot&&i.push({element:a,left:a.scrollLeft,top:a.scrollTop});r.focus();for(var s=0;s<i.length;s++){var u=i[s];u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}}var Do=i.canUseDOM&&"documentMode"in document&&document.documentMode<=11,Fo={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},Uo=null,Wo=null,Bo=null,Ho=!1;function zo(e,t){if(Ho||null==Uo||Uo!==l())return null;var n=function(e){if("selectionStart"in e&&Lo(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}}(Uo);if(!Bo||!c(Bo,n)){Bo=n;var r=Ke.getPooled(Fo.select,Wo,e,t);return r.type="select",r.target=Uo,Oe(r),r}return null}var Vo={eventTypes:Fo,extractEvents:function(e,t,n,r){var o=r.window===r?r.document:r.nodeType===At?r:r.ownerDocument;if(!o||!function(e,t){for(var n=Po(t),r=I[e],o=0;o<r.length;o++){var i=r[o];if(!n.hasOwnProperty(i)||!n[i])return!1}return!0}("onSelect",o))return null;var i=t?ve(t):window;switch(e){case"topFocus":(It(i)||"true"===i.contentEditable)&&(Uo=i,Wo=t,Bo=null);break;case"topBlur":Uo=null,Wo=null,Bo=null;break;case"topMouseDown":Ho=!0;break;case"topContextMenu":case"topMouseUp":return Ho=!1,zo(n,r);case"topSelectionChange":if(Do)break;case"topKeyDown":case"topKeyUp":return zo(n,r)}return null}};V.injectEventPluginOrder(["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"]),q(_e),V.injectEventPluginsByName({SimpleEventPlugin:io,EnterLeaveEventPlugin:br,ChangeEventPlugin:dr,SelectEventPlugin:Vo,BeforeInputEventPlugin:ft});var Ko=1073741823,Qo=0,$o=1,Yo=Ko,Jo=10,Go=2;function Xo(e){return(e/Jo|0)+Go}function Zo(e){return(e-Go)*Jo}function ei(e,t,n){return(1+((e+t/Jo)/(r=n/Jo)|0))*r;var r}var ti=0,ni=1,ri=2,oi=void 0;oi=!1;try{var ii=Object.preventExtensions({}),ai=new Map([[ii,null]]),si=new Set([ii]);ai.set(0,0),si.add(0)}catch(e){oi=!0}var ui=void 0;ui=1;var li=function(e,t,n,r){return new function(e,t,n,r){this.tag=e,this.key=n,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.mode=r,this.effectTag=wr,this.nextEffect=null,this.firstEffect=null,this.lastEffect=null,this.expirationTime=Qo,this.alternate=null,this._debugID=ui++,this._debugSource=null,this._debugOwner=null,this._debugIsCurrentlyTiming=!1,oi||"function"!=typeof Object.preventExtensions||Object.preventExtensions(this)}(e,t,n,r)};function ci(e,t,n){var r=e.alternate;return null===r?((r=li(e.tag,t,e.key,e.mode)).type=e.type,r.stateNode=e.stateNode,r._debugID=e._debugID,r._debugSource=e._debugSource,r._debugOwner=e._debugOwner,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=wr,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function fi(e,t,n){var r;r=e._owner;var o,i=void 0,a=e.type,s=e.key,u=e.props,l=void 0;if("function"==typeof a)l=(o=a).prototype&&o.prototype.isReactComponent?X:J;else if("string"==typeof a)l=te;else switch(a){case Yt:return pi(u.children,t,n,s);case Zt:l=se,t|=ni|ri;break;case Jt:l=se,t|=ri;break;case Kt:l=re;break;case Qt:l=ie;break;default:if("object"==typeof a&&null!==a)switch(a.$$typeof){case Gt:l=le;break;case Xt:l=ue;break;case en:l=ce;break;default:if("number"==typeof a.tag)return(i=a).pendingProps=u,i.expirationTime=n,i;di(a,r)}else di(a,r)}return(i=li(l,u,s,t)).type=a,i.expirationTime=n,i._debugSource=e._source,i._debugOwner=e._owner,i}function di(e,t){var n="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(n+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var o=t?on(t):null;o&&(n+="\n\nCheck the render method of `"+o+"`."),r(!1,"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",null==e?e:typeof e,n)}function pi(e,t,n,r){var o=li(ae,e,r,t);return o.expirationTime=n,o}function hi(e,t,n){var r=li(ne,e,null,t);return r.expirationTime=n,r}function yi(e,t,n){var r=null!==e.children?e.children:[],o=li(ee,r,e.key,t);return o.expirationTime=n,o.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},o}function mi(e,t){return null===e&&(e=li(J,null,null,ti)),e.tag=t.tag,e.key=t.key,e.type=t.type,e.stateNode=t.stateNode,e.return=t.return,e.child=t.child,e.sibling=t.sibling,e.index=t.index,e.ref=t.ref,e.pendingProps=t.pendingProps,e.memoizedProps=t.memoizedProps,e.updateQueue=t.updateQueue,e.memoizedState=t.memoizedState,e.mode=t.mode,e.effectTag=t.effectTag,e.nextEffect=t.nextEffect,e.firstEffect=t.firstEffect,e.lastEffect=t.lastEffect,e.expirationTime=t.expirationTime,e.alternate=t.alternate,e._debugID=t._debugID,e._debugSource=t._debugSource,e._debugOwner=t._debugOwner,e._debugIsCurrentlyTiming=t._debugIsCurrentlyTiming,e}function vi(e,t,n){var r=function(e){return li(Z,null,null,e?ni|ri:ti)}(t),o={current:r,containerInfo:e,pendingChildren:null,pendingCommitExpirationTime:Qo,finishedWork:null,context:null,pendingContext:null,hydrate:n,remainingExpirationTime:Qo,firstBatch:null,nextScheduledRoot:null};return r.stateNode=o,o}var gi=null,bi=null,_i=!1;function wi(e){return function(t){try{return e(t)}catch(e){_i||(_i=!0,o(!1,"React DevTools encountered an error: %s",e))}}}function xi(e){"function"==typeof gi&&gi(e)}function ki(e){"function"==typeof bi&&bi(e)}var Ci=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(!e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i="Warning: "+e.replace(/%s/g,function(){return n[o++]});"undefined"!=typeof console&&console.warn(i);try{throw new Error(i)}catch(e){}}).apply(void 0,[t].concat(r))}},Si={discardPendingWarnings:function(){},flushPendingDeprecationWarnings:function(){},flushPendingUnsafeLifecycleWarnings:function(){},recordDeprecationWarnings:function(e,t){},recordUnsafeLifecycleWarnings:function(e,t){}},Ti={UNSAFE_componentWillMount:"componentDidMount",UNSAFE_componentWillReceiveProps:"static getDerivedStateFromProps",UNSAFE_componentWillUpdate:"componentDidUpdate"},Ei=[],Ii=[],Oi=[],Pi=new Map,Ri=new Set,Ai=new Set;Si.discardPendingWarnings=function(){Ei=[],Ii=[],Oi=[],Pi=new Map},Si.flushPendingUnsafeLifecycleWarnings=function(){Pi.forEach(function(e,t){var n=[];if(Object.keys(e).forEach(function(t){var r=e[t];if(r.length>0){var o=new Set;r.forEach(function(e){o.add(on(e)||"Component"),Ai.add(e.type)});var i=t.replace("UNSAFE_",""),a=Ti[t],s=Array.from(o).sort().join(", ");n.push(i+": Please update the following components to use "+a+" instead: "+s)}}),n.length>0){var r=sn(t);o(!1,"Unsafe lifecycle methods were found within a strict-mode tree:%s\n\n%s\n\nLearn more about this warning here:\nhttps://fb.me/react-strict-mode-warnings",r,n.join("\n\n"))}}),Pi=new Map};Si.flushPendingDeprecationWarnings=function(){if(Ei.length>0){var e=new Set;Ei.forEach(function(t){e.add(on(t)||"Component"),Ri.add(t.type)});var t=Array.from(e).sort().join(", ");Ci(!1,"componentWillMount is deprecated and will be removed in the next major version. Use componentDidMount instead. As a temporary workaround, you can rename to UNSAFE_componentWillMount.\n\nPlease update the following components: %s\n\nLearn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks",t),Ei=[]}if(Ii.length>0){var n=new Set;Ii.forEach(function(e){n.add(on(e)||"Component"),Ri.add(e.type)});var r=Array.from(n).sort().join(", ");Ci(!1,"componentWillReceiveProps is deprecated and will be removed in the next major version. Use static getDerivedStateFromProps instead.\n\nPlease update the following components: %s\n\nLearn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks",r),Ii=[]}if(Oi.length>0){var o=new Set;Oi.forEach(function(e){o.add(on(e)||"Component"),Ri.add(e.type)});var i=Array.from(o).sort().join(", ");Ci(!1,"componentWillUpdate is deprecated and will be removed in the next major version. Use componentDidUpdate instead. As a temporary workaround, you can rename to UNSAFE_componentWillUpdate.\n\nPlease update the following components: %s\n\nLearn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks",i),Oi=[]}},Si.recordDeprecationWarnings=function(e,t){Ri.has(e.type)||("function"==typeof t.componentWillMount&&!0!==t.componentWillMount.__suppressDeprecationWarning&&Ei.push(e),"function"==typeof t.componentWillReceiveProps&&!0!==t.componentWillReceiveProps.__suppressDeprecationWarning&&Ii.push(e),"function"==typeof t.componentWillUpdate&&!0!==t.componentWillUpdate.__suppressDeprecationWarning&&Oi.push(e))},Si.recordUnsafeLifecycleWarnings=function(e,t){var n=function(e){for(var t=null;null!==e;)e.mode&ri&&(t=e),e=e.return;return t}(e);if(!Ai.has(e.type)&&("function"!=typeof t.componentWillMount||!0!==t.componentWillMount.__suppressDeprecationWarning)){var r=void 0;Pi.has(n)?r=Pi.get(n):(r={UNSAFE_componentWillMount:[],UNSAFE_componentWillReceiveProps:[],UNSAFE_componentWillUpdate:[]},Pi.set(n,r));var o=[];"function"!=typeof t.componentWillMount&&"function"!=typeof t.UNSAFE_componentWillMount||o.push("UNSAFE_componentWillMount"),"function"!=typeof t.componentWillReceiveProps&&"function"!=typeof t.UNSAFE_componentWillReceiveProps||o.push("UNSAFE_componentWillReceiveProps"),"function"!=typeof t.componentWillUpdate&&"function"!=typeof t.UNSAFE_componentWillUpdate||o.push("UNSAFE_componentWillUpdate"),o.length>0&&o.forEach(function(t){r[t].push(e)})}};var Ni=!0,Mi=!0,Li=!1,qi=!1,ji=!1,Di=!0,Fi=!0,Ui=!1,Wi="undefined"!=typeof performance&&"function"==typeof performance.mark&&"function"==typeof performance.clearMarks&&"function"==typeof performance.measure&&"function"==typeof performance.clearMeasures,Bi=null,Hi=null,zi=null,Vi=!1,Ki=!1,Qi=!1,$i=0,Yi=0,Ji=!1,Gi=new Set,Xi=function(e){return" "+e},Zi=function(e){performance.mark(Xi(e))},ea=function(e,t,n){var r=Xi(t),o=function(e,t){return(t?" ":" ")+e+(t?" Warning: "+t:"")}(e,n);try{performance.measure(o,r)}catch(e){}performance.clearMarks(r),performance.clearMeasures(o)},ta=function(e,t){return e+" (#"+t+")"},na=function(e,t,n){return null===n?e+" ["+(t?"update":"mount")+"]":e+"."+n},ra=function(e,t){var n=on(e)||"Unknown",r=e._debugID,o=null!==e.alternate,i=na(n,o,t);if(Vi&&Gi.has(i))return!1;Gi.add(i);var a=ta(i,r);return Zi(a),!0},oa=function(e,t){var n=on(e)||"Unknown",r=e._debugID,o=null!==e.alternate,i=na(n,o,t);!function(e){performance.clearMarks(Xi(e))}(ta(i,r))},ia=function(e,t,n){var r=on(e)||"Unknown",o=e._debugID,i=null!==e.alternate,a=na(r,i,t),s=ta(a,o);ea(a,s,n)},aa=function(e){switch(e.tag){case Z:case te:case ne:case ee:case re:case ie:case ae:case le:case ue:return!0;default:return!1}},sa=function(){null!==Hi&&null!==zi&&oa(zi,Hi),zi=null,Hi=null,Qi=!1},ua=function(){for(var e=Bi;e;)e._debugIsCurrentlyTiming&&ia(e,null,null),e=e.return},la=function(e){null!==e.return&&la(e.return),e._debugIsCurrentlyTiming&&ra(e,null)},ca=function(){null!==Bi&&la(Bi)};function fa(){Ni&&Yi++}function da(){Ni&&(Vi&&(Ki=!0),null!==Hi&&"componentWillMount"!==Hi&&"componentWillReceiveProps"!==Hi&&(Qi=!0))}function pa(e){if(Ni){if(!Wi||aa(e))return;e._debugIsCurrentlyTiming=!1,oa(e,null)}}function ha(e){if(Ni){if(!Wi||aa(e))return;if(Bi=e.return,!e._debugIsCurrentlyTiming)return;e._debugIsCurrentlyTiming=!1,ia(e,null,null)}}function ya(e){if(Ni){if(!Wi||aa(e))return;if(Bi=e.return,!e._debugIsCurrentlyTiming)return;e._debugIsCurrentlyTiming=!1;ia(e,null,"An error was thrown inside this error boundary")}}function ma(e,t){if(Ni){if(!Wi)return;if(sa(),!ra(e,t))return;zi=e,Hi=t}}function va(){if(Ni){if(!Wi)return;if(null!==Hi&&null!==zi)ia(zi,Hi,Qi?"Scheduled a cascading update":null);Hi=null,zi=null}}function ga(e,t){if(Ni){if(!Wi)return;var n=null;if(null!==e)if(e.tag===Z)n="A top-level update interrupted the previous render";else n="An update to "+(on(e)||"Unknown")+" interrupted the previous render";else $i>1&&(n="There were cascading updates");$i=0;var r=t?"(React Tree Reconciliation: Completed Root)":"(React Tree Reconciliation: Yielded)";ua(),ea(r,"(React Tree Reconciliation)",n)}}function ba(){if(Ni){if(!Wi)return;Vi=!0,Ki=!1,Gi.clear(),Zi("(Committing Changes)")}}function _a(){if(Ni){if(!Wi)return;var e=null;Ki?e="Lifecycle hook scheduled a cascading update":$i>0&&(e="Caused by a cascading update in earlier commit"),Ki=!1,$i++,Vi=!1,Gi.clear(),ea("(Committing Changes)","(Committing Changes)",e)}}var wa=void 0;function xa(e){var t={baseState:e,expirationTime:Qo,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1,capturedValues:null,isProcessing:!1};return t}function ka(e,t){null===e.last?e.first=e.last=t:(e.last.next=t,e.last=t),(e.expirationTime===Qo||e.expirationTime>t.expirationTime)&&(e.expirationTime=t.expirationTime)}wa=!1;var Ca=void 0,Sa=void 0;function Ta(e){Ca=Sa=null;var t=e.alternate,n=e.updateQueue;null===n&&(n=e.updateQueue=xa(null));var r=void 0;null!==t?null===(r=t.updateQueue)&&(r=t.updateQueue=xa(null)):r=null,Ca=n,Sa=r=r!==n?r:null}function Ea(e,t){Ta(e);var n=Ca,r=Sa;if((n.isProcessing||null!==r&&r.isProcessing)&&!wa&&(o(!1,"An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),wa=!0),null!==r){if(null===n.last||null===r.last)return ka(n,t),void ka(r,t);ka(n,t),r.last=t}else ka(n,t)}function Ia(e,t,n,r){var o=e.partialState;return"function"==typeof o?o.call(t,n,r):o}function Oa(e,t,n,r,o,i){if(null!==e&&e.updateQueue===n){var s=n;n=t.updateQueue={baseState:s.baseState,expirationTime:s.expirationTime,first:s.first,last:s.last,isInitialized:s.isInitialized,capturedValues:s.capturedValues,callbackList:null,hasForceUpdate:!1}}n.isProcessing=!0,n.expirationTime=Qo;var u=void 0;n.isInitialized?u=n.baseState:(u=n.baseState=t.memoizedState,n.isInitialized=!0);for(var l=!0,c=n.first,f=!1;null!==c;){var d=c.expirationTime;if(d>i){var p=n.expirationTime;(p===Qo||p>d)&&(n.expirationTime=d),f||(f=!0,n.baseState=u),c=c.next}else{f||(n.first=c.next,null===n.first&&(n.last=null)),(ji||Di&&t.mode&ri)&&Ia(c,r,u,o);var h=void 0;if(c.isReplace?(u=Ia(c,r,u,o),l=!0):(h=Ia(c,r,u,o))&&(u=l?a({},u,h):a(u,h),l=!1),c.isForced&&(n.hasForceUpdate=!0),null!==c.callback){var y=n.callbackList;null===y&&(y=n.callbackList=[]),y.push(c)}if(null!==c.capturedValue){var m=n.capturedValues;null===m?n.capturedValues=[c.capturedValue]:m.push(c.capturedValue)}c=c.next}}return null!==n.callbackList?t.effectTag|=Ir:null!==n.first||n.hasForceUpdate||null!==n.capturedValues||(t.updateQueue=null),f||(f=!0,n.baseState=u),n.isProcessing=!1,u}function Pa(e,t){var n=e.callbackList;if(null!==n){e.callbackList=null;for(var o=0;o<n.length;o++){var i=n[o],a=i.callback;i.callback=null,"function"!=typeof a&&r(!1,"Invalid argument passed as callback. Expected a function. Instead received: %s",a),a.call(t)}}}var Ra,Aa={},Na=Array.isArray,Ma=void 0,La=void 0,qa=void 0,ja=void 0,Da=void 0;Ma=new Set,La=new Set,qa=new Set,ja=new Set,Da=new Set;var Fa=new Set;function Ua(e,t){for(var n={},r=0;r<t.length;r++){var o=t[r].value,i=e.getDerivedStateFromCatch.call(null,o);null!==i&&void 0!==i&&a(n,i)}return n}Ra=function(e,t){if(null!==e&&"function"!=typeof e){var n=t+"_"+e;Fa.has(n)||(Fa.add(n),o(!1,"%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",t,e))}},Object.defineProperty(Aa,"_processChildContext",{enumerable:!1,value:function(){r(!1,"_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(Aa);var Wa=function(e,t,n,r,i){var s=e.cacheContext,u=e.getMaskedContext,l=e.getUnmaskedContext,f=e.isContextConsumer,p=e.hasContextChanged,h={isMounted:Wr,enqueueSetState:function(e,r,o){var i=_r(e);Ra(o=void 0===o?null:o,"setState");var a=n(i);Ea(i,{expirationTime:a,partialState:r,callback:o,isReplace:!1,isForced:!1,capturedValue:null,next:null}),t(i,a)},enqueueReplaceState:function(e,r,o){var i=_r(e);Ra(o=void 0===o?null:o,"replaceState");var a=n(i);Ea(i,{expirationTime:a,partialState:r,callback:o,isReplace:!0,isForced:!1,capturedValue:null,next:null}),t(i,a)},enqueueForceUpdate:function(e,r){var o=_r(e);Ra(r=void 0===r?null:r,"forceUpdate");var i=n(o);Ea(o,{expirationTime:i,partialState:null,callback:r,isReplace:!1,isForced:!0,capturedValue:null,next:null}),t(o,i)}};function y(e,t,n,r,i,a){if(null===t||null!==e.updateQueue&&e.updateQueue.hasForceUpdate)return!0;var s=e.stateNode,u=e.type;if("function"==typeof s.shouldComponentUpdate){ma(e,"shouldComponentUpdate");var l=s.shouldComponentUpdate(n,i,a);return va(),o(void 0!==l,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",on(e)||"Component"),l}return!u.prototype||!u.prototype.isPureReactComponent||(!c(t,n)||!c(r,i))}function m(e,t){t.props=e.memoizedProps,t.state=e.memoizedState}function v(e,t){var n;t.updater=h,e.stateNode=t,n=e,t._reactInternalFiber=n,t._reactInternalInstance=Aa}function g(e,t,n,r){var i=t.state;if(ma(e,"componentWillReceiveProps"),"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),va(),t.state!==i){var a=on(e)||"Component";Ma.has(a)||(Ma.add(a),o(!1,"%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",a)),h.enqueueReplaceState(t,t.state,null)}}function b(e,t,n,r){var i=e.type;if("function"==typeof i.getDerivedStateFromProps){(ji||Di&&e.mode&ri)&&i.getDerivedStateFromProps.call(null,n,r);var a=i.getDerivedStateFromProps.call(null,n,r);if(void 0===a){var s=on(e)||"Component";La.has(s)||(La.add(s),o(!1,"%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",s))}return a}}return{adoptClassInstance:v,callGetDerivedStateFromProps:b,constructClassInstance:function(e,t){var n=e.type,r=l(e),i=f(e),c=i?u(e,r):d;(ji||Di&&e.mode&ri)&&new n(t,c);var p=new n(t,c),h=null!==p.state&&void 0!==p.state?p.state:null;if(v(e,p),"function"==typeof n.getDerivedStateFromProps&&null===h){var y=on(e)||"Component";qa.has(y)||(qa.add(y),o(!1,"%s: Did not properly initialize state during construction. Expected state to be an object, but it was %s.",y,null===p.state?"null":"undefined"))}if("function"==typeof n.getDerivedStateFromProps||"function"==typeof p.getSnapshotBeforeUpdate){var m=null,g=null,_=null;if("function"==typeof p.componentWillMount&&!0!==p.componentWillMount.__suppressDeprecationWarning?m="componentWillMount":"function"==typeof p.UNSAFE_componentWillMount&&(m="UNSAFE_componentWillMount"),"function"==typeof p.componentWillReceiveProps&&!0!==p.componentWillReceiveProps.__suppressDeprecationWarning?g="componentWillReceiveProps":"function"==typeof p.UNSAFE_componentWillReceiveProps&&(g="UNSAFE_componentWillReceiveProps"),"function"==typeof p.componentWillUpdate&&!0!==p.componentWillUpdate.__suppressDeprecationWarning?_="componentWillUpdate":"function"==typeof p.UNSAFE_componentWillUpdate&&(_="UNSAFE_componentWillUpdate"),null!==m||null!==g||null!==_){var w=on(e)||"Component",x="function"==typeof n.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";Da.has(w)||(Da.add(w),o(!1,"Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n%s uses %s but also contains the following legacy lifecycles:%s%s%s\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks",w,x,null!==m?"\n  "+m:"",null!==g?"\n  "+g:"",null!==_?"\n  "+_:""))}}e.memoizedState=h;var k=b(e,0,t,h);return null!==k&&void 0!==k&&(e.memoizedState=a({},e.memoizedState,k)),i&&s(e,r,c),p},mountClassInstance:function(e,t){var n=e.type,r=e.alternate;!function(e){var t=e.stateNode,n=e.type,r=on(e)||"Component";t.render||(n.prototype&&"function"==typeof n.prototype.render?o(!1,"%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",r):o(!1,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",r));var i=!t.getInitialState||t.getInitialState.isReactClassApproved||t.state;o(i,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",r);var a=!t.getDefaultProps||t.getDefaultProps.isReactClassApproved;o(a,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",r);var s=!t.propTypes;o(s,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",r);var u=!t.contextTypes;o(u,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",r);var l="function"!=typeof t.componentShouldUpdate;o(l,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",r),n.prototype&&n.prototype.isPureReactComponent&&void 0!==t.shouldComponentUpdate&&o(!1,"%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",on(e)||"A pure component");var c="function"!=typeof t.componentDidUnmount;o(c,"%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",r);var f="function"!=typeof t.componentDidReceiveProps;o(f,"%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",r);var d="function"!=typeof t.componentWillRecieveProps;o(d,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",r);var p="function"!=typeof t.UNSAFE_componentWillRecieveProps;o(p,"%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",r);var h=t.props!==e.pendingProps;o(void 0===t.props||!h,"%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",r,r);var y=!t.defaultProps;o(y,"Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",r,r),"function"!=typeof t.getSnapshotBeforeUpdate||"function"==typeof t.componentDidUpdate||"function"==typeof t.componentDidUpdate||ja.has(n)||(ja.add(n),o(!1,"%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",on(e)));var m="function"!=typeof t.getDerivedStateFromProps;o(m,"%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",r);var v="function"!=typeof t.getDerivedStateFromCatch;o(v,"%s: getDerivedStateFromCatch() is defined as an instance method and will be ignored. Instead, declare it as a static method.",r);var g="function"!=typeof n.getSnapshotBeforeUpdate;o(g,"%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",r);var b=t.state;b&&("object"!=typeof b||Na(b))&&o(!1,"%s.state: must be set to an object or null",r),"function"==typeof t.getChildContext&&o("object"==typeof n.childContextTypes,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",r)}(e);var i=e.stateNode,a=e.pendingProps,s=l(e);if(i.props=a,i.state=e.memoizedState,i.refs=d,i.context=u(e,s),e.mode&ri&&Si.recordUnsafeLifecycleWarnings(e,i),Ui&&Si.recordDeprecationWarnings(e,i),"function"!=typeof n.getDerivedStateFromProps&&"function"!=typeof i.getSnapshotBeforeUpdate&&("function"==typeof i.UNSAFE_componentWillMount||"function"==typeof i.componentWillMount)){!function(e,t){ma(e,"componentWillMount");var n=t.state;"function"==typeof t.componentWillMount&&t.componentWillMount(),"function"==typeof t.UNSAFE_componentWillMount&&t.UNSAFE_componentWillMount(),va(),n!==t.state&&(o(!1,"%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",on(e)||"Component"),h.enqueueReplaceState(t,t.state,null))}(e,i);var c=e.updateQueue;null!==c&&(i.state=Oa(r,e,c,i,a,t))}"function"==typeof i.componentDidMount&&(e.effectTag|=Cr)},resumeMountClassInstance:function(e,t){var n=e.type,o=e.stateNode;m(e,o);var s=e.memoizedProps,c=e.pendingProps,f=o.context,d=l(e),h=u(e,d),v="function"==typeof n.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate;v||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||s===c&&f===h||g(e,o,c,h);var _=e.memoizedState,w=void 0,x=void 0;if(null!==e.updateQueue){w=Oa(null,e,e.updateQueue,o,c,t);var k=e.updateQueue;null!==k&&null!==k.capturedValues&&qi&&"function"==typeof n.getDerivedStateFromCatch&&(x=Ua(n,k.capturedValues))}else w=_;var C=void 0;if(s!==c&&(C=b(e,0,c,w)),null!==C&&void 0!==C){w=null===w||void 0===w?C:a({},w,C);var S=e.updateQueue;null!==S&&(S.baseState=a({},S.baseState,C))}if(null!==x&&void 0!==x){w=null===w||void 0===w?x:a({},w,x);var T=e.updateQueue;null!==T&&(T.baseState=a({},T.baseState,x))}if(!(s!==c||_!==w||p()||null!==e.updateQueue&&e.updateQueue.hasForceUpdate))return"function"==typeof o.componentDidMount&&(e.effectTag|=Cr),!1;var E=y(e,s,c,_,w,h);return E?(v||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(ma(e,"componentWillMount"),"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),va()),"function"==typeof o.componentDidMount&&(e.effectTag|=Cr)):("function"==typeof o.componentDidMount&&(e.effectTag|=Cr),r(e,c),i(e,w)),o.props=c,o.state=w,o.context=h,E},updateClassInstance:function(e,t,n){var o=t.type,s=t.stateNode;m(t,s);var c=t.memoizedProps,f=t.pendingProps,d=s.context,h=l(t),v=u(t,h),_="function"==typeof o.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate;_||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||c===f&&d===v||g(t,s,f,v);var w=t.memoizedState,x=void 0,k=void 0;if(null!==t.updateQueue){x=Oa(e,t,t.updateQueue,s,f,n);var C=t.updateQueue;null!==C&&null!==C.capturedValues&&qi&&"function"==typeof o.getDerivedStateFromCatch&&(k=Ua(o,C.capturedValues))}else x=w;var S=void 0;if(c!==f&&(S=b(t,0,f,x)),null!==S&&void 0!==S){x=null===x||void 0===x?S:a({},x,S);var T=t.updateQueue;null!==T&&(T.baseState=a({},T.baseState,S))}if(null!==k&&void 0!==k){x=null===x||void 0===x?k:a({},x,k);var E=t.updateQueue;null!==E&&(E.baseState=a({},E.baseState,k))}if(!(c!==f||w!==x||p()||null!==t.updateQueue&&t.updateQueue.hasForceUpdate))return"function"==typeof s.componentDidUpdate&&(c===e.memoizedProps&&w===e.memoizedState||(t.effectTag|=Cr)),"function"==typeof s.getSnapshotBeforeUpdate&&(c===e.memoizedProps&&w===e.memoizedState||(t.effectTag|=Ar)),!1;var I=y(t,c,f,w,x,v);return I?(_||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||(ma(t,"componentWillUpdate"),"function"==typeof s.componentWillUpdate&&s.componentWillUpdate(f,x,v),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(f,x,v),va()),"function"==typeof s.componentDidUpdate&&(t.effectTag|=Cr),"function"==typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=Ar)):("function"==typeof s.componentDidUpdate&&(c===e.memoizedProps&&w===e.memoizedState||(t.effectTag|=Cr)),"function"==typeof s.getSnapshotBeforeUpdate&&(c===e.memoizedProps&&w===e.memoizedState||(t.effectTag|=Ar)),r(t,f),i(t,x)),s.props=f,s.state=x,s.context=v,I}}},Ba=ln.getCurrentFiberStackAddendum,Ha=void 0,za=void 0,Va=void 0,Ka=void 0,Qa=function(e){};Ha=!1,za={},Va={},Ka={},Qa=function(e){if(null!==e&&"object"==typeof e&&e._store&&!e._store.validated&&null==e.key){"object"!=typeof e._store&&r(!1,"React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue."),e._store.validated=!0;var t='Each child in an array or iterator should have a unique "key" prop. See https://fb.me/react-warning-keys for more information.'+(Ba()||"");Va[t]||(Va[t]=!0,o(!1,'Each child in an array or iterator should have a unique "key" prop. See https://fb.me/react-warning-keys for more information.%s',Ba()))}};var $a=Array.isArray;function Ya(e,t,n){var i=n.ref;if(null!==i&&"function"!=typeof i&&"object"!=typeof i){if(e.mode&ri){var a=on(e)||"Component";za[a]||(o(!1,'A string ref, "%s",has been found within a strict mode tree. String refs are a source of potential bugs and should be avoided. We recommend using createRef() instead.\n%s\n\nLearn more about using refs safely here:\nhttps://fb.me/react-strict-mode-string-ref',i,sn(e)),za[a]=!0)}if(n._owner){var s=n._owner,u=void 0;if(s){var l=s;l.tag!==X&&r(!1,"Stateless function components cannot have refs."),u=l.stateNode}u||r(!1,"Missing owner for string ref %s. This error is likely caused by a bug in React. Please file an issue.",i);var c=""+i;if(null!==t&&null!==t.ref&&t.ref._stringRef===c)return t.ref;var f=function(e){var t=u.refs===d?u.refs={}:u.refs;null===e?delete t[c]:t[c]=e};return f._stringRef=c,f}"string"!=typeof i&&r(!1,"Expected ref to be a function or a string."),n._owner||r(!1,"Element ref was specified as a string (%s) but no owner was set. This could happen for one of the following reasons:\n1. You may be adding a ref to a functional component\n2. You may be adding a ref to a component that was not created inside a component's render method\n3. You have multiple copies of React loaded\nSee https://fb.me/react-refs-must-have-owner for more information.",i)}return i}function Ja(e,t){if("textarea"!==e.type){var n;n=" If you meant to render a collection of children, use an array instead."+(Ba()||""),r(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,n)}}function Ga(){var e="Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it."+(Ba()||"");Ka[e]||(Ka[e]=!0,o(!1,"Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.%s",Ba()||""))}function Xa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=Tr}}function n(n,r){if(!e)return null;for(var o=r;null!==o;)t(n,o),o=o.sibling;return null}function i(e,t){for(var n=new Map,r=t;null!==r;)null!==r.key?n.set(r.key,r):n.set(r.index,r),r=r.sibling;return n}function a(e,t,n){var r=ci(e,t,n);return r.index=0,r.sibling=null,r}function s(t,n,r){if(t.index=r,!e)return n;var o=t.alternate;if(null!==o){var i=o.index;return i<n?(t.effectTag=kr,n):i}return t.effectTag=kr,n}function u(t){return e&&null===t.alternate&&(t.effectTag=kr),t}function l(e,t,n,r){if(null===t||t.tag!==ne){var o=hi(n,e.mode,r);return o.return=e,o}var i=a(t,n,r);return i.return=e,i}function c(e,t,n,r){if(null!==t&&t.type===n.type){var o=a(t,n.props,r);return o.ref=Ya(e,t,n),o.return=e,o._debugSource=n._source,o._debugOwner=n._owner,o}var i=fi(n,e.mode,r);return i.ref=Ya(e,t,n),i.return=e,i}function f(e,t,n,r){if(null===t||t.tag!==ee||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation){var o=yi(n,e.mode,r);return o.return=e,o}var i=a(t,n.children||[],r);return i.return=e,i}function d(e,t,n,r,o){if(null===t||t.tag!==ae){var i=pi(n,e.mode,r,o);return i.return=e,i}var s=a(t,n,r);return s.return=e,s}function p(e,t,n){if("string"==typeof t||"number"==typeof t){var r=hi(""+t,e.mode,n);return r.return=e,r}if("object"==typeof t&&null!==t){switch(t.$$typeof){case Vt:var o=fi(t,e.mode,n);return o.ref=Ya(e,null,t),o.return=e,o;case $t:var i=yi(t,e.mode,n);return i.return=e,i}if($a(t)||rn(t)){var a=pi(t,e.mode,n,null);return a.return=e,a}Ja(e,t)}return"function"==typeof t&&Ga(),null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Vt:return n.key===o?n.type===Yt?d(e,t,n.props.children,r,o):c(e,t,n,r):null;case $t:return n.key===o?f(e,t,n,r):null}if($a(n)||rn(n))return null!==o?null:d(e,t,n,r,null);Ja(e,n)}return"function"==typeof n&&Ga(),null}function y(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return l(t,e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Vt:var i=e.get(null===r.key?n:r.key)||null;return r.type===Yt?d(t,i,r.props.children,o,r.key):c(t,i,r,o);case $t:return f(t,e.get(null===r.key?n:r.key)||null,r,o)}if($a(r)||rn(r))return d(t,e.get(n)||null,r,o,null);Ja(t,r)}return"function"==typeof r&&Ga(),null}function m(e,t){if("object"!=typeof e||null===e)return t;switch(e.$$typeof){case Vt:case $t:Qa(e);var n=e.key;if("string"!=typeof n)break;if(null===t){(t=new Set).add(n);break}if(!t.has(n)){t.add(n);break}o(!1,"Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.%s",n,Ba())}return t}return function(l,c,f,d){"object"==typeof f&&null!==f&&f.type===Yt&&null===f.key&&(f=f.props.children);var v="object"==typeof f&&null!==f;if(v)switch(f.$$typeof){case Vt:return u(function(e,r,o,i){for(var s=o.key,u=r;null!==u;){if(u.key===s){if(u.tag===ae?o.type===Yt:u.type===o.type){n(e,u.sibling);var l=a(u,o.type===Yt?o.props.children:o.props,i);return l.ref=Ya(e,u,o),l.return=e,l._debugSource=o._source,l._debugOwner=o._owner,l}n(e,u);break}t(e,u),u=u.sibling}if(o.type===Yt){var c=pi(o.props.children,e.mode,i,o.key);return c.return=e,c}var f=fi(o,e.mode,i);return f.ref=Ya(e,r,o),f.return=e,f}(l,c,f,d));case $t:return u(function(e,r,o,i){for(var s=o.key,u=r;null!==u;){if(u.key===s){if(u.tag===ee&&u.stateNode.containerInfo===o.containerInfo&&u.stateNode.implementation===o.implementation){n(e,u.sibling);var l=a(u,o.children||[],i);return l.return=e,l}n(e,u);break}t(e,u),u=u.sibling}var c=yi(o,e.mode,i);return c.return=e,c}(l,c,f,d))}if("string"==typeof f||"number"==typeof f)return u(function(e,t,r,o){if(null!==t&&t.tag===ne){n(e,t.sibling);var i=a(t,r,o);return i.return=e,i}n(e,t);var s=hi(r,e.mode,o);return s.return=e,s}(l,c,""+f,d));if($a(f))return function(r,o,a,u){for(var l=null,c=0;c<a.length;c++)l=m(a[c],l);for(var f=null,d=null,v=o,g=0,b=0,_=null;null!==v&&b<a.length;b++){v.index>b?(_=v,v=null):_=v.sibling;var w=h(r,v,a[b],u);if(null===w){null===v&&(v=_);break}e&&v&&null===w.alternate&&t(r,v),g=s(w,g,b),null===d?f=w:d.sibling=w,d=w,v=_}if(b===a.length)return n(r,v),f;if(null===v){for(;b<a.length;b++){var x=p(r,a[b],u);x&&(g=s(x,g,b),null===d?f=x:d.sibling=x,d=x)}return f}for(var k=i(0,v);b<a.length;b++){var C=y(k,r,b,a[b],u);C&&(e&&null!==C.alternate&&k.delete(null===C.key?b:C.key),g=s(C,g,b),null===d?f=C:d.sibling=C,d=C)}return e&&k.forEach(function(e){return t(r,e)}),f}(l,c,f,d);if(rn(f))return function(a,u,l,c){var f=rn(l);"function"!=typeof f&&r(!1,"An object is not an iterable. This error is likely caused by a bug in React. Please file an issue."),"function"==typeof l.entries&&l.entries===f&&(o(Ha,"Using Maps as children is unsupported and will likely yield unexpected results. Convert it to a sequence/iterable of keyed ReactElements instead.%s",Ba()),Ha=!0);var d=f.call(l);if(d)for(var v=null,g=d.next();!g.done;g=d.next())v=m(g.value,v);var b=f.call(l);null==b&&r(!1,"An iterable object provided no iterator.");for(var _=null,w=null,x=u,k=0,C=0,S=null,T=b.next();null!==x&&!T.done;C++,T=b.next()){x.index>C?(S=x,x=null):S=x.sibling;var E=h(a,x,T.value,c);if(null===E){x||(x=S);break}e&&x&&null===E.alternate&&t(a,x),k=s(E,k,C),null===w?_=E:w.sibling=E,w=E,x=S}if(T.done)return n(a,x),_;if(null===x){for(;!T.done;C++,T=b.next()){var I=p(a,T.value,c);null!==I&&(k=s(I,k,C),null===w?_=I:w.sibling=I,w=I)}return _}for(var O=i(0,x);!T.done;C++,T=b.next()){var P=y(O,a,C,T.value,c);null!==P&&(e&&null!==P.alternate&&O.delete(null===P.key?C:P.key),k=s(P,k,C),null===w?_=P:w.sibling=P,w=P)}return e&&O.forEach(function(e){return t(a,e)}),_}(l,c,f,d);if(v&&Ja(l,f),"function"==typeof f&&Ga(),void 0===f)switch(l.tag){case X:if(l.stateNode.render._isMockFunction)break;case G:var g=l.type;r(!1,"%s(...): Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null.",g.displayName||g.name||"Component")}return n(l,c)}}var Za=Xa(!0),es=Xa(!1);var ts=void 0,ns=void 0,rs=void 0;ts={},ns={},rs={};var os=function(e,t,n,i,s,u,l){var c=e.shouldSetTextContent,f=e.shouldDeprioritizeSubtree,d=t.pushHostContext,p=t.pushHostContainer,h=i.pushProvider,y=n.getMaskedContext,m=n.getUnmaskedContext,v=n.hasContextChanged,g=n.pushContextProvider,b=n.pushTopLevelContextObject,_=n.invalidateContextProvider,w=s.enterHydrationState,x=s.resetHydrationState,k=s.tryToClaimNextHydratableInstance,C=Wa(n,u,l,D,F),S=C.adoptClassInstance,T=C.callGetDerivedStateFromProps,E=C.constructClassInstance,I=C.mountClassInstance,O=C.resumeMountClassInstance,P=C.updateClassInstance;function R(e,t,n){A(e,t,n,t.expirationTime)}function A(e,t,n,r){t.child=null===e?es(t,null,n,r):Za(t,e.child,n,r)}function N(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=Pr)}function M(e,t,n,r,o,i){if(N(e,t),!n&&!o)return r&&_(t,!1),j(e,t);var a=t.type,s=t.stateNode;Wt.current=t;var u=void 0;return!o||qi&&"function"==typeof a.getDerivedStateFromCatch?(ln.setCurrentPhase("render"),u=s.render(),(ji||Di&&t.mode&ri)&&s.render(),ln.setCurrentPhase(null)):u=null,t.effectTag|=xr,o&&(A(e,t,null,i),t.child=null),A(e,t,u,i),F(t,s.state),D(t,s.props),r&&_(t,!0),t.child}function L(e){var t=e.stateNode;t.pendingContext?b(e,t.pendingContext,t.pendingContext!==t.context):t.context&&b(e,t.context,!1),p(e,t.containerInfo)}function q(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var i=void 0;switch(o.tag){case ue:var a=0|o.stateNode;if(o.type===t&&0!=(a&n)){for(var s=o;null!==s;){var u=s.alternate;if(s.expirationTime===Qo||s.expirationTime>r)s.expirationTime=r,null!==u&&(u.expirationTime===Qo||u.expirationTime>r)&&(u.expirationTime=r);else{if(null===u||!(u.expirationTime===Qo||u.expirationTime>r))break;u.expirationTime=r}s=s.return}i=null}else i=o.child;break;case le:i=o.type===e.type?null:o.child;break;default:i=o.child}if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===e){i=null;break}var l=i.sibling;if(null!==l){i=l;break}i=i.return}o=i}}function j(e,t){return pa(t),function(e,t){if(null!==e&&t.child!==e.child&&r(!1,"Resuming work not yet implemented."),null!==t.child){var n=t.child,o=ci(n,n.pendingProps,n.expirationTime);for(t.child=o,o.return=t;null!==n.sibling;)n=n.sibling,(o=o.sibling=ci(n,n.pendingProps,n.expirationTime)).return=t;o.sibling=null}}(e,t),t.child}function D(e,t){e.memoizedProps=t}function F(e,t){e.memoizedState=t}return{beginWork:function(e,t,n){if(t.expirationTime===Qo||t.expirationTime>n)return function(e,t){switch(pa(t),t.tag){case Z:L(t);break;case X:g(t);break;case ee:p(t,t.stateNode.containerInfo);break;case le:h(t)}return null}(0,t);switch(t.tag){case J:return function(e,t,n){null!==e&&r(!1,"An indeterminate component should never have mounted. This error is likely caused by a bug in React. Please file an issue.");var i,s=t.type,u=t.pendingProps,l=m(t),c=y(t,l);if(s.prototype&&"function"==typeof s.prototype.render){var f=on(t)||"Unknown";ts[f]||(o(!1,"The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",f,f),ts[f]=!0)}if(Wt.current=t,i=s(u,c),t.effectTag|=xr,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){var d=t.type;if(t.tag=X,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,"function"==typeof d.getDerivedStateFromProps){var p=T(t,i,u,t.memoizedState);null!==p&&void 0!==p&&(t.memoizedState=a({},t.memoizedState,p))}var h=g(t);return S(t,i),I(t,n),M(e,t,!0,h,!1,n)}t.tag=G;var v=t.type;if(v&&o(!v.childContextTypes,"%s(...): childContextTypes cannot be defined on a functional component.",v.displayName||v.name||"Component"),null!==t.ref){var b="",_=ln.getCurrentFiberOwnerName();_&&(b+="\n\nCheck the render method of `"+_+"`.");var w=_||t._debugID||"",x=t._debugSource;x&&(w=x.fileName+":"+x.lineNumber),rs[w]||(rs[w]=!0,o(!1,"Stateless function components cannot be given refs. Attempts to access this ref will fail.%s%s",b,ln.getCurrentFiberStackAddendum()))}if("function"==typeof s.getDerivedStateFromProps){var k=on(t)||"Unknown";ns[k]||(o(!1,"%s: Stateless functional components do not support getDerivedStateFromProps.",k),ns[k]=!0)}return R(e,t,i),D(t,u),t.child}(e,t,n);case G:return function(e,t){var n=t.type,r=t.pendingProps;if(v());else if(t.memoizedProps===r)return j(e,t);var o,i=m(t),a=y(t,i);return Wt.current=t,ln.setCurrentPhase("render"),o=n(r,a),ln.setCurrentPhase(null),t.effectTag|=xr,R(e,t,o),D(t,r),t.child}(e,t);case X:return function(e,t,n){var r=g(t),o=void 0;null===e?null===t.stateNode?(E(t,t.pendingProps),I(t,n),o=!0):o=O(t,n):o=P(e,t,n);var i=!1,a=t.updateQueue;return null!==a&&null!==a.capturedValues&&(o=!0,i=!0),M(e,t,o,r,i,n)}(e,t,n);case Z:return function(e,t,n){L(t);var r=t.updateQueue;if(null!==r){var o=t.memoizedState,i=Oa(e,t,r,null,null,n);F(t,i);var a=void 0;if(null!==(r=t.updateQueue)&&null!==r.capturedValues)a=null;else{if(o===i)return x(),j(e,t);a=i.element}var s=t.stateNode;return(null===e||null===e.child)&&s.hydrate&&w(t)?(t.effectTag|=kr,t.child=es(t,null,a,n)):(x(),R(e,t,a)),F(t,i),t.child}return x(),j(e,t)}(e,t,n);case te:return function(e,t,n){d(t),null===e&&k(t);var r=t.type,o=t.memoizedProps,i=t.pendingProps,a=null!==e?e.memoizedProps:null;if(v());else if(o===i){var s=t.mode&ni&&f(r,i);if(s&&(t.expirationTime=Yo),!s||n!==Yo)return j(e,t)}var u=i.children;return c(r,i)?u=null:a&&c(r,a)&&(t.effectTag|=Er),N(e,t),n!==Yo&&t.mode&ni&&f(r,i)?(t.expirationTime=Yo,t.memoizedProps=i,null):(R(e,t,u),D(t,i),t.child)}(e,t,n);case ne:return function(e,t){return null===e&&k(t),D(t,t.pendingProps),null}(e,t);case oe:t.tag=re;case re:return function(e,t,n){var r=t.pendingProps;v()||t.memoizedProps===r&&(r=t.memoizedProps);var o=r.children;return t.stateNode=null===e?es(t,t.stateNode,o,n):Za(t,e.stateNode,o,n),D(t,r),t.stateNode}(e,t,n);case ie:return null;case ee:return function(e,t,n){p(t,t.stateNode.containerInfo);var r=t.pendingProps;if(v());else if(t.memoizedProps===r)return j(e,t);return null===e?(t.child=Za(t,null,r,n),D(t,r)):(R(e,t,r),D(t,r)),t.child}(e,t,n);case ce:return function(e,t){var n=(0,t.type.render)(t.pendingProps,t.ref);return R(e,t,n),D(t,n),t.child}(e,t);case ae:return function(e,t){var n=t.pendingProps;if(v());else if(t.memoizedProps===n)return j(e,t);return R(e,t,n),D(t,n),t.child}(e,t);case se:return function(e,t){var n=t.pendingProps.children;if(v());else if(null===n||t.memoizedProps===n)return j(e,t);return R(e,t,n),D(t,n),t.child}(e,t);case le:return function(e,t,n){var r=t.type._context,i=t.pendingProps,a=t.memoizedProps;if(v());else if(a===i)return t.stateNode=0,h(t),j(e,t);var s=i.value;t.memoizedProps=i;var u=void 0;if(null===a)u=Ko;else if(a.value===i.value){if(a.children===i.children)return t.stateNode=0,h(t),j(e,t);u=0}else{var l=a.value;if(l===s&&(0!==l||1/l==1/s)||l!=l&&s!=s){if(a.children===i.children)return t.stateNode=0,h(t),j(e,t);u=0}else if(u="function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,s):Ko,o((u&Ko)===u,"calculateChangedBits: Expected the return value to be a 31-bit integer. Instead received: %s",u),0==(u|=0)){if(a.children===i.children)return t.stateNode=0,h(t),j(e,t)}else q(t,r,u,n)}return t.stateNode=u,h(t),R(e,t,i.children),t.child}(e,t,n);case ue:return function(e,t,n){var r=t.type,i=t.pendingProps,a=t.memoizedProps,s=r._currentValue,u=r._changedBits;if(v());else if(0===u&&a===i)return j(e,t);t.memoizedProps=i;var l=i.unstable_observedBits;void 0!==l&&null!==l||(l=Ko),t.stateNode=l,0!=(u&l)&&q(t,r,u,n);var c=i.children;return o("function"==typeof c,"A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),R(e,t,c(s)),t.child}(e,t,n);default:r(!1,"Unknown unit of work tag. This error is likely caused by a bug in React. Please file an issue.")}}}},is=function(e,t,n,o,i){var a=e.createInstance,s=e.createTextInstance,u=e.appendInitialChild,l=e.finalizeInitialChildren,c=e.prepareUpdate,f=e.mutation,d=e.persistence,p=t.getRootHostContainer,h=t.popHostContext,y=t.getHostContext,m=t.popHostContainer,v=n.popContextProvider,g=n.popTopLevelContextObject,b=o.popProvider,_=i.prepareToHydrateHostInstance,w=i.prepareToHydrateHostTextInstance,x=i.popHydrationState;function k(e){e.effectTag|=Cr}function C(e){e.effectTag|=Pr}function S(e,t,n){var o=t.memoizedProps;o||r(!1,"Should be resolved by now. This error is likely caused by a bug in React. Please file an issue."),t.tag=oe;var i=[];!function(e,t){var n=t.stateNode;for(n&&(n.return=t);null!==n;){if(n.tag===te||n.tag===ne||n.tag===ee)r(!1,"A call cannot have host component children.");else if(n.tag===ie)e.push(n.pendingProps.value);else if(null!==n.child){n.child.return=n,n=n.child;continue}for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(i,t);var a=(0,o.handler)(o.props,i),s=null!==e?e.child:null;return t.child=Za(t,s,a,n),t.child}function T(e,t){for(var n=t.child;null!==n;){if(n.tag===te||n.tag===ne)u(e,n.stateNode);else if(n.tag===ee);else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)return;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}var E=void 0,I=void 0,O=void 0;if(f)Mi?(E=function(e){},I=function(e,t,n,r,o,i,a,s){t.updateQueue=n,n&&k(t)},O=function(e,t,n,r){n!==r&&k(t)}):r(!1,"Mutating reconciler is disabled.");else if(d)if(Li){var P=d.cloneInstance,R=d.createContainerChildSet,A=d.appendChildToContainerChildSet,N=d.finalizeContainerChildren;E=function(e){var t=e.stateNode;if(null===e.firstEffect);else{var n=t.containerInfo,r=R(n);!function(e,t){for(var n=t.child;null!==n;){if(n.tag===te||n.tag===ne)A(e,n.stateNode);else if(n.tag===ee);else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)return;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(r,e),t.pendingChildren=r,k(e),N(n,r)}},I=function(e,t,n,r,o,i,a,s){var u=null===t.firstEffect,c=e.stateNode;if(u&&null===n)t.stateNode=c;else{var f=t.stateNode,d=P(c,n,r,o,i,t,u,f);l(d,r,i,a,s)&&k(t),t.stateNode=d,u?k(t):T(d,t)}},O=function(e,t,n,r){if(n!==r){var o=p(),i=y();t.stateNode=s(r,o,i,t),k(t)}}}else r(!1,"Persistent reconciler is disabled.");else r(!1,"Noop reconciler is disabled.");return{completeWork:function(e,t,n){var o=t.pendingProps;switch(t.tag){case G:return null;case X:v(t);var i=t.stateNode,u=t.updateQueue;return null!==u&&null!==u.capturedValues&&(t.effectTag&=~Or,"function"==typeof i.componentDidCatch?t.effectTag|=Rr:u.capturedValues=null),null;case Z:m(t),g(t);var f=t.stateNode;f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),null!==e&&null!==e.child||(x(t),t.effectTag&=~kr),E(t);var d=t.updateQueue;return null!==d&&null!==d.capturedValues&&(t.effectTag|=Rr),null;case te:h(t);var P=p(),R=t.type;if(null!==e&&null!=t.stateNode){var A=e.memoizedProps,N=t.stateNode,M=y(),L=c(N,R,A,o,P,M);I(e,t,L,R,A,o,P,M),e.ref!==t.ref&&C(t)}else{if(!o)return null===t.stateNode&&r(!1,"We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue."),null;var q=y();if(x(t))_(t,P,q)&&k(t);else{var j=a(R,o,P,q,t);T(j,t),l(j,R,o,P,q)&&k(t),t.stateNode=j}null!==t.ref&&C(t)}return null;case ne:var D=o;if(e&&null!=t.stateNode){var F=e.memoizedProps;O(e,t,F,D)}else{if("string"!=typeof D)return null===t.stateNode&&r(!1,"We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue."),null;var U=p(),W=y();x(t)?w(t)&&k(t):t.stateNode=s(D,U,W,t)}return null;case re:return S(e,t,n);case oe:return t.tag=re,null;case ie:case ce:case ae:case se:return null;case ee:return m(t),E(t),null;case le:return b(t),null;case ue:return null;case J:r(!1,"An indeterminate component should have become determinate before completing. This error is likely caused by a bug in React. Please file an issue.");default:r(!1,"Unknown unit of work tag. This error is likely caused by a bug in React. Please file an issue.")}}}};function as(e,t){return{value:e,source:t,stack:sn(t)}}var ss=g.invokeGuardedCallback,us=g.hasCaughtError,ls=g.clearCaughtError,cs=null;function fs(e,t){var n=t.source,r=t.stack;null===r&&(r=sn(n));var o={componentName:null!==n?on(n):null,componentStack:null!==r?r:"",error:t.value,errorBoundary:null,errorBoundaryName:null,errorBoundaryFound:!1,willRetry:!1};null!==e&&e.tag===X&&(o.errorBoundary=e.stateNode,o.errorBoundaryName=on(e),o.errorBoundaryFound=!0,o.willRetry=!0);try{!function(e){var t=e.error;if(!t||!t.suppressReactErrorLogging){var n=e.componentName,r=e.componentStack,o=e.errorBoundaryName,i=e.errorBoundaryFound,a=e.willRetry,s=(n?"The above error occurred in the <"+n+"> component:":"The above error occurred in one of your React components:")+r+"\n\n"+(i&&o?a?"React will try to recreate this component tree from scratch using the error boundary you provided, "+o+".":"This error was initially handled by the error boundary "+o+".\nRecreating the tree from scratch failed so React will unmount the tree.":"Consider adding an error boundary to your tree to customize error handling behavior.\nVisit https://fb.me/react-error-boundaries to learn more about error boundaries.");console.error(s)}}(o)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}}cs=new Set;var ds=function(e,t,n,i,a,s){var u=e.getPublicInstance,l=e.mutation,c=e.persistence,f=function(e,t){ma(e,"componentWillUnmount"),t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount(),va()};function d(e){var n=e.ref;if(null!==n)if("function"==typeof n){if(ss(null,n,null,null),us()){var r=ls();t(e,r)}}else n.current=null}function p(e,t){switch(t.tag){case X:if(t.effectTag&Ar&&null!==e){var n=e.memoizedProps,i=e.memoizedState;ma(t,"getSnapshotBeforeUpdate");var a=t.stateNode;a.props=t.memoizedProps,a.state=t.memoizedState;var s=a.getSnapshotBeforeUpdate(n,i),u=cs;void 0!==s||u.has(t.type)||(u.add(t.type),o(!1,"%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",on(t))),a.__reactInternalSnapshotBeforeUpdate=s,va()}return;case Z:case te:case ne:case ee:return;default:r(!1,"This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}}function h(e,t,n,o,i){switch(n.tag){case X:var a=n.stateNode;if(n.effectTag&Cr)if(null===t)ma(n,"componentDidMount"),a.props=n.memoizedProps,a.state=n.memoizedState,a.componentDidMount(),va();else{var s=t.memoizedProps,l=t.memoizedState;ma(n,"componentDidUpdate"),a.props=n.memoizedProps,a.state=n.memoizedState,a.componentDidUpdate(s,l,a.__reactInternalSnapshotBeforeUpdate),va()}var c=n.updateQueue;return void(null!==c&&Pa(c,a));case Z:var f=n.updateQueue;if(null!==f){var d=null;if(null!==n.child)switch(n.child.tag){case te:d=u(n.child.stateNode);break;case X:d=n.child.stateNode}Pa(f,d)}return;case te:var p=n.stateNode;if(null===t&&n.effectTag&Cr){var h=n.type,y=n.memoizedProps;S(p,h,y,n)}return;case ne:case ee:return;default:r(!1,"This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}}function y(e,t){switch(e.tag){case X:var n=e.type,o=e.stateNode,i=e.updateQueue;(null===i||null===i.capturedValues)&&r(!1,"An error logging effect should not have been scheduled if no errors were captured. This error is likely caused by a bug in React. Please file an issue.");var s=i.capturedValues;i.capturedValues=null,"function"!=typeof n.getDerivedStateFromCatch&&a(o),o.props=e.memoizedProps,o.state=e.memoizedState;for(var u=0;u<s.length;u++){var l=s[u],c=l.value,f=l.stack;fs(e,l),o.componentDidCatch(c,{componentStack:null!==f?f:""})}break;case Z:var d=e.updateQueue;(null===d||null===d.capturedValues)&&r(!1,"An error logging effect should not have been scheduled if no errors were captured. This error is likely caused by a bug in React. Please file an issue.");var p=d.capturedValues;d.capturedValues=null;for(var h=0;h<p.length;h++){var y=p[h];fs(e,y),t(y.value)}break;default:r(!1,"This unit of work tag cannot capture errors.  This error is likely caused by a bug in React. Please file an issue.")}}function m(e){var t=e.ref;if(null!==t){var n=e.stateNode,r=void 0;switch(e.tag){case te:r=u(n);break;default:r=n}"function"==typeof t?t(r):(t.hasOwnProperty("current")||o(!1,"Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().%s",on(e),sn(e)),t.current=r)}}function v(e){var t=e.ref;null!==t&&("function"==typeof t?t(null):t.current=null)}function g(e){switch(ki(e),e.tag){case X:d(e);var n=e.stateNode;return void("function"==typeof n.componentWillUnmount&&function(e,n){if(ss(null,f,null,e,n),us()){var r=ls();t(e,r)}}(e,n));case te:return void d(e);case re:return void b(e.stateNode);case ee:return void(Mi&&l?q(e):Li&&c&&w(e))}}function b(e){for(var t=e;;)if(g(t),null===t.child||l&&t.tag===ee){if(t===e)return;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}else t.child.return=t,t=t.child}function _(e){e.return=null,e.child=null,e.alternate&&(e.alternate.child=null,e.alternate.return=null)}var w=void 0;if(!l){var x=void 0;if(c){var k=c.replaceContainerChildren,C=c.createContainerChildSet;w=function(e){var t=e.stateNode.containerInfo,n=C(t);k(t,n)},x=function(e){switch(e.tag){case X:case te:case ne:return;case Z:case ee:var t=e.stateNode,n=t.containerInfo,o=t.pendingChildren;return void k(n,o);default:r(!1,"This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}}}else x=function(e){};if(Li)return{commitResetTextContent:function(e){},commitPlacement:function(e){},commitDeletion:function(e){b(e),_(e)},commitWork:function(e,t){x(t)},commitLifeCycles:h,commitBeforeMutationLifeCycles:p,commitErrorLogging:y,commitAttachRef:m,commitDetachRef:v};r(!1,c?"Persistent reconciler is disabled.":"Noop reconciler is disabled.")}var S=l.commitMount,T=l.commitUpdate,E=l.resetTextContent,I=l.commitTextUpdate,O=l.appendChild,P=l.appendChildToContainer,R=l.insertBefore,A=l.insertInContainerBefore,N=l.removeChild,M=l.removeChildFromContainer;function L(e){return e.tag===te||e.tag===Z||e.tag===ee}function q(e){for(var t=e,n=!1,o=void 0,i=void 0;;){if(!n){var a=t.return;e:for(;;){switch(null===a&&r(!1,"Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue."),a.tag){case te:o=a.stateNode,i=!1;break e;case Z:case ee:o=a.stateNode.containerInfo,i=!0;break e}a=a.return}n=!0}if(t.tag===te||t.tag===ne)b(t),i?M(o,t.stateNode):N(o,t.stateNode);else if(t.tag===ee){if(o=t.stateNode.containerInfo,null!==t.child){t.child.return=t,t=t.child;continue}}else if(g(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)return;for(;null===t.sibling;){if(null===t.return||t.return===e)return;(t=t.return).tag===ee&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}if(Mi)return{commitBeforeMutationLifeCycles:p,commitResetTextContent:function(e){E(e.stateNode)},commitPlacement:function(e){var t=function(e){for(var t=e.return;null!==t;){if(L(t))return t;t=t.return}r(!1,"Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}(e),n=void 0,o=void 0;switch(t.tag){case te:n=t.stateNode,o=!1;break;case Z:case ee:n=t.stateNode.containerInfo,o=!0;break;default:r(!1,"Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}t.effectTag&Er&&(E(n),t.effectTag&=~Er);for(var i=function(e){var t=e;e:for(;;){for(;null===t.sibling;){if(null===t.return||L(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==te&&t.tag!==ne;){if(t.effectTag&kr)continue e;if(null===t.child||t.tag===ee)continue e;t.child.return=t,t=t.child}if(!(t.effectTag&kr))return t.stateNode}}(e),a=e;;){if(a.tag===te||a.tag===ne)i?o?A(n,a.stateNode,i):R(n,a.stateNode,i):o?P(n,a.stateNode):O(n,a.stateNode);else if(a.tag===ee);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)return;for(;null===a.sibling;){if(null===a.return||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},commitDeletion:function(e){q(e),_(e)},commitWork:function(e,t){switch(t.tag){case X:return;case te:var n=t.stateNode;if(null!=n){var o=t.memoizedProps,i=null!==e?e.memoizedProps:o,a=t.type,s=t.updateQueue;t.updateQueue=null,null!==s&&T(n,s,a,i,o,t)}return;case ne:null===t.stateNode&&r(!1,"This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var u=t.stateNode,l=t.memoizedProps,c=null!==e?e.memoizedProps:l;return void I(u,c,l);case Z:return;default:r(!1,"This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}},commitLifeCycles:h,commitErrorLogging:y,commitAttachRef:m,commitDetachRef:v};r(!1,"Mutating reconciler is disabled.")},ps={},hs=function(e){var t=e.shouldSetTextContent,n=e.hydration;if(!n)return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){r(!1,"Expected prepareToHydrateHostInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.")},prepareToHydrateHostTextInstance:function(){r(!1,"Expected prepareToHydrateHostTextInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.")},popHydrationState:function(e){return!1}};var o=n.canHydrateInstance,i=n.canHydrateTextInstance,a=n.getNextHydratableSibling,s=n.getFirstHydratableChild,u=n.hydrateInstance,l=n.hydrateTextInstance,c=n.didNotMatchHydratedContainerTextInstance,f=n.didNotMatchHydratedTextInstance,d=n.didNotHydrateContainerInstance,p=n.didNotHydrateInstance,h=n.didNotFindHydratableContainerInstance,y=n.didNotFindHydratableContainerTextInstance,m=n.didNotFindHydratableInstance,v=n.didNotFindHydratableTextInstance,g=null,b=null,_=!1;function w(e,t){switch(e.tag){case Z:d(e.stateNode.containerInfo,t);break;case te:p(e.type,e.memoizedProps,e.stateNode,t)}var n,r=((n=li(te,null,null,ti)).type="DELETED",n);r.stateNode=t,r.return=e,r.effectTag=Tr,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function x(e,t){switch(t.effectTag|=kr,e.tag){case Z:var n=e.stateNode.containerInfo;switch(t.tag){case te:var r=t.type,o=t.pendingProps;h(n,r,o);break;case ne:var i=t.pendingProps;y(n,i)}break;case te:var a=e.type,s=e.memoizedProps,u=e.stateNode;switch(t.tag){case te:var l=t.type,c=t.pendingProps;m(a,s,u,l,c);break;case ne:var f=t.pendingProps;v(a,s,u,f)}break;default:return}}function k(e,t){switch(e.tag){case te:var n=e.type,r=e.pendingProps,a=o(t,n,r);return null!==a&&(e.stateNode=a,!0);case ne:var s=e.pendingProps,u=i(t,s);return null!==u&&(e.stateNode=u,!0);default:return!1}}function C(e){for(var t=e.return;null!==t&&t.tag!==te&&t.tag!==Z;)t=t.return;g=t}return{enterHydrationState:function(e){var t=e.stateNode.containerInfo;return b=s(t),g=e,_=!0,!0},resetHydrationState:function(){g=null,b=null,_=!1},tryToClaimNextHydratableInstance:function(e){if(_){var t=b;if(!t)return x(g,e),_=!1,void(g=e);if(!k(e,t)){if(!(t=a(t))||!k(e,t))return x(g,e),_=!1,void(g=e);w(g,b)}g=e,b=s(t)}},prepareToHydrateHostInstance:function(e,t,n){var r=e.stateNode,o=u(r,e.type,e.memoizedProps,t,n,e);return e.updateQueue=o,null!==o},prepareToHydrateHostTextInstance:function(e){var t=e.stateNode,n=e.memoizedProps,r=l(t,n,e);if(r){var o=g;if(null!==o)switch(o.tag){case Z:var i=o.stateNode.containerInfo;c(i,t,n);break;case te:var a=o.type,s=o.memoizedProps,u=o.stateNode;f(a,s,u,t,n)}}return r},popHydrationState:function(e){if(e!==g)return!1;if(!_)return C(e),_=!0,!1;var n=e.type;if(e.tag!==te||"head"!==n&&"body"!==n&&!t(n,e.memoizedProps))for(var r=b;r;)w(e,r),r=a(r);return C(e),b=g?a(e.stateNode):null,!0}}},ys={debugTool:null},ms=void 0;ms={};var vs=g.invokeGuardedCallback,gs=g.hasCaughtError,bs=g.clearCaughtError,_s=void 0,ws=void 0,xs=void 0,ks=void 0;_s=!1,ws=!1;var Cs={};xs=function(e){var t=on(e)||"ReactClass";Cs[t]||(o(!1,"Can't call setState (or forceUpdate) on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.%s",sn(e)),Cs[t]=!0)},ks=function(e){switch(ln.phase){case"getChildContext":if(ws)return;o(!1,"setState(...): Cannot call setState() inside getChildContext()"),ws=!0;break;case"render":if(_s)return;o(!1,"Cannot update during an existing state transition (such as within `render` or another component's constructor). Render methods should be a pure function of props and state; constructor side-effects are an anti-pattern, but can be moved to `componentWillMount`."),_s=!0}};var Ss=function(e){var t=function(){var e=[],t=void 0;t=[];var n=-1;return{createCursor:function(e){return{current:e}},isEmpty:function(){return-1===n},pop:function(r,i){n<0?o(!1,"Unexpected pop."):(i!==t[n]&&o(!1,"Unexpected Fiber popped."),r.current=e[n],e[n]=null,t[n]=null,n--)},push:function(r,o,i){e[++n]=r.current,t[n]=i,r.current=o},checkThatStackIsEmpty:function(){-1!==n&&o(!1,"Expected an empty stack. Something was not reset properly.")},resetStackAfterFatalErrorInDev:function(){n=-1,e.length=0,t.length=0}}}(),n=function(e,t){var n=e.getChildHostContext,o=e.getRootHostContext,i=t.createCursor,a=t.push,s=t.pop,u=i(ps),l=i(ps),c=i(ps);function f(e){return e===ps&&r(!1,"Expected host context to exist. This error is likely caused by a bug in React. Please file an issue."),e}return{getHostContext:function(){return f(u.current)},getRootHostContainer:function(){return f(c.current)},popHostContainer:function(e){s(u,e),s(l,e),s(c,e)},popHostContext:function(e){l.current===e&&(s(u,e),s(l,e))},pushHostContainer:function(e,t){a(c,t,e),a(l,e,e),a(u,ps,e);var n=o(t);s(u,e),a(u,n,e)},pushHostContext:function(e){var t=f(c.current),r=f(u.current),o=n(r,e.type,t);r!==o&&(a(l,e,e),a(u,o,e))}}}(e,t),i=function(e){var t=e.createCursor,n=e.push,i=e.pop,s=t(d),l=t(!1),c=d;function f(e,t,n){var r=e.stateNode;r.__reactInternalMemoizedUnmaskedChildContext=t,r.__reactInternalMemoizedMaskedChildContext=n}function p(e){return e.tag===X&&null!=e.type.childContextTypes}function h(e,t){var n,i=e.stateNode,s=e.type.childContextTypes;if("function"!=typeof i.getChildContext){var l=on(e)||"Unknown";return ms[l]||(ms[l]=!0,o(!1,"%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",l,l)),t}for(var c in ln.setCurrentPhase("getChildContext"),ma(e,"getChildContext"),n=i.getChildContext(),va(),ln.setCurrentPhase(null),n)c in s||r(!1,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',on(e)||"Unknown",c);var f=on(e)||"Unknown";return u(s,n,"child context",f,ln.getCurrentFiberStackAddendum),a({},t,n)}return{getUnmaskedContext:function(e){return p(e)?c:s.current},cacheContext:f,getMaskedContext:function(e,t){var n=e.type.contextTypes;if(!n)return d;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={};for(var i in n)o[i]=t[i];var a=on(e)||"Unknown";return u(n,o,"context",a,ln.getCurrentFiberStackAddendum),r&&f(e,t,o),o},hasContextChanged:function(){return l.current},isContextConsumer:function(e){return e.tag===X&&null!=e.type.contextTypes},isContextProvider:p,popContextProvider:function(e){p(e)&&(i(l,e),i(s,e))},popTopLevelContextObject:function(e){i(l,e),i(s,e)},pushTopLevelContextObject:function(e,t,o){null!=s.cursor&&r(!1,"Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue."),n(s,t,e),n(l,o,e)},processChildContext:h,pushContextProvider:function(e){if(!p(e))return!1;var t=e.stateNode,r=t&&t.__reactInternalMemoizedMergedChildContext||d;return c=s.current,n(s,r,e),n(l,l.current,e),!0},invalidateContextProvider:function(e,t){var o=e.stateNode;if(o||r(!1,"Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue."),t){var a=h(e,c);o.__reactInternalMemoizedMergedChildContext=a,i(l,e),i(s,e),n(s,a,e),n(l,t,e)}else i(l,e),n(l,t,e)},findCurrentUnmaskedContext:function(e){Ur(e)&&e.tag===X||r(!1,"Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");for(var t=e;t.tag!==Z;){if(p(t))return t.stateNode.__reactInternalMemoizedMergedChildContext;var n=t.return;n||r(!1,"Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue."),t=n}return t.stateNode.context}}}(t),s=function(e){var t=e.createCursor,n=e.push,r=e.pop,i=t(null),a=t(null),s=t(0),u=void 0;return u={},{pushProvider:function(e){var t=e.type._context;n(s,t._changedBits,e),n(a,t._currentValue,e),n(i,e,e),t._currentValue=e.pendingProps.value,t._changedBits=e.stateNode,o(null===t._currentRenderer||t._currentRenderer===u,"Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),t._currentRenderer=u},popProvider:function(e){var t=s.current,n=a.current;r(i,e),r(a,e),r(s,e);var o=e.type._context;o._currentValue=n,o._changedBits=t}}}(t),l=n.popHostContext,c=n.popHostContainer,f=i.popTopLevelContextObject,p=i.popContextProvider,h=s.popProvider,y=hs(e),m=os(e,n,i,s,y,we,_e).beginWork,v=is(e,n,i,s,y).completeWork,g=function(e,t,n,r,o){var i=e.popHostContainer,a=e.popHostContext,s=t.popContextProvider,u=t.popTopLevelContextObject,l=n.popProvider;return{throwException:function(e,t,n){t.effectTag|=Mr,t.firstEffect=t.lastEffect=null;var r=as(n,t),i=e;do{switch(i.tag){case Z:var a=r;return Ta(i),i.updateQueue.capturedValues=[a],void(i.effectTag|=Lr);case X:var s=i.type,u=i.stateNode;if((i.effectTag&Or)===wr&&("function"==typeof s.getDerivedStateFromCatch&&qi||null!==u&&"function"==typeof u.componentDidCatch&&!o(u))){Ta(i);var l=i.updateQueue,c=l.capturedValues;return null===c?l.capturedValues=[r]:c.push(r),void(i.effectTag|=Lr)}}i=i.return}while(null!==i)},unwindWork:function(e){switch(e.tag){case X:s(e);var t=e.effectTag;return t&Lr?(e.effectTag=t&~Lr|Or,e):null;case Z:i(e),u(e);var n=e.effectTag;return n&Lr?(e.effectTag=n&~Lr|Or,e):null;case te:return a(e),null;case ee:return i(e),null;case le:return l(e),null;default:return null}},unwindInterruptedWork:function(e){switch(e.tag){case X:s(e);break;case Z:i(e),u(e);break;case te:a(e);break;case ee:i(e);break;case le:l(e)}}}}(n,i,s,0,ce),b=g.throwException,_=g.unwindWork,w=g.unwindInterruptedWork,x=ds(e,ge,0,0,function(e){null===$?$=new Set([e]):$.add(e)}),k=x.commitBeforeMutationLifeCycles,C=x.commitResetTextContent,S=x.commitPlacement,T=x.commitDeletion,E=x.commitWork,I=x.commitLifeCycles,O=x.commitErrorLogging,P=x.commitAttachRef,R=x.commitDetachRef,A=e.now,N=e.scheduleDeferredCallback,M=e.cancelDeferredCallback,L=e.prepareForCommit,q=e.resetAfterCommit,j=A(),D=(Xo(0),j),F=0,U=Qo,W=!1,B=null,H=null,z=Qo,V=null,K=!1,Q=!1,$=null,Y=null,J=void 0,G=void 0,ne=void 0,re=void 0,oe=void 0;function ie(){if(null!==B)for(var e=B.return;null!==e;)w(e),e=e.return;Si.discardPendingWarnings(),t.checkThatStackIsEmpty(),H=null,z=Qo,B=null,Q=!1}function ae(){for(;null!==V;){ln.setCurrentFiber(V),fa();var e=V.effectTag;if(e&Er&&C(V),e&Pr){var t=V.alternate;null!==t&&R(t)}switch(e&(kr|Cr|Tr)){case kr:S(V),V.effectTag&=~kr;break;case Sr:S(V),V.effectTag&=~kr;var n=V.alternate;E(n,V);break;case Cr:var r=V.alternate;E(r,V);break;case Tr:T(V)}V=V.nextEffect}ln.resetCurrentFiber()}function se(){for(;null!==V;){if(V.effectTag&Ar){fa();var e=V.alternate;k(e,V)}V=V.nextEffect}}function ue(e,t,n){for(Si.flushPendingUnsafeLifecycleWarnings(),Ui&&Si.flushPendingDeprecationWarnings();null!==V;){var r=V.effectTag;if(r&(Cr|Ir)){fa();var o=V.alternate;I(e,o,V,t,n)}r&Rr&&O(V,Ze),r&Pr&&(fa(),P(V));var i=V.nextEffect;V.nextEffect=null,V=i}}function ce(e){return null!==$&&$.has(e)}function fe(e){W=!0,K=!0,ba();var t=e.stateNode;t.current===e&&r(!1,"Cannot commit the same tree as before. This is probably a bug related to the return field. This error is likely caused by a bug in React. Please file an issue.");var n=t.pendingCommitExpirationTime;n===Qo&&r(!1,"Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue."),t.pendingCommitExpirationTime=Qo;var o=xe();Wt.current=null;var i=void 0;for(e.effectTag>xr?null!==e.lastEffect?(e.lastEffect.nextEffect=e,i=e.firstEffect):i=e:i=e.firstEffect,L(t.containerInfo),V=i,function(){if(Ni){if(!Wi)return;Yi=0,Zi("(Committing Snapshot Effects)")}}();null!==V;){var a=!1,s=void 0;vs(null,se,null),gs()&&(a=!0,s=bs()),a&&(null===V&&r(!1,"Should have next effect. This error is likely caused by a bug in React. Please file an issue."),ge(V,s),null!==V&&(V=V.nextEffect))}for(!function(){if(Ni){if(!Wi)return;var e=Yi;Yi=0,ea("(Committing Snapshot Effects: "+e+" Total)","(Committing Snapshot Effects)",null)}}(),V=i,function(){if(Ni){if(!Wi)return;Yi=0,Zi("(Committing Host Effects)")}}();null!==V;){var u=!1,l=void 0;vs(null,ae,null),gs()&&(u=!0,l=bs()),u&&(null===V&&r(!1,"Should have next effect. This error is likely caused by a bug in React. Please file an issue."),ge(V,l),null!==V&&(V=V.nextEffect))}for(!function(){if(Ni){if(!Wi)return;var e=Yi;Yi=0,ea("(Committing Host Effects: "+e+" Total)","(Committing Host Effects)",null)}}(),q(t.containerInfo),t.current=e,V=i,function(){if(Ni){if(!Wi)return;Yi=0,Zi("(Calling Lifecycle Methods)")}}();null!==V;){var c=!1,f=void 0;vs(null,ue,null,t,o,n),gs()&&(c=!0,f=bs()),c&&(null===V&&r(!1,"Should have next effect. This error is likely caused by a bug in React. Please file an issue."),ge(V,f),null!==V&&(V=V.nextEffect))}K=!1,W=!1,function(){if(Ni){if(!Wi)return;var e=Yi;Yi=0,ea("(Calling Lifecycle Methods: "+e+" Total)","(Calling Lifecycle Methods)",null)}}(),_a(),xi(e.stateNode),ys.debugTool&&ys.debugTool.onCommitWork(e);var d=t.current.expirationTime;return d===Qo&&($=null),d}function de(e,t){if(t===Yo||e.expirationTime!==Yo){for(var n=function(e){switch(e.tag){case Z:case X:var t=e.updateQueue;return null===t?Qo:t.expirationTime;default:return Qo}}(e),r=e.child;null!==r;)r.expirationTime!==Qo&&(n===Qo||n>r.expirationTime)&&(n=r.expirationTime),r=r.sibling;e.expirationTime=n}}function pe(e){for(;;){var t=e.alternate;ln.setCurrentFiber(e);var n=e.return,r=e.sibling;if((e.effectTag&Mr)===wr){var o=v(t,e,z);if(ha(e),de(e,z),ln.resetCurrentFiber(),null!==o)return ha(e),ys.debugTool&&ys.debugTool.onCompleteWork(e),o;if(null!==n&&(n.effectTag&Mr)===wr)null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),e.effectTag>xr&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e);if(ys.debugTool&&ys.debugTool.onCompleteWork(e),null!==r)return r;if(null!==n){e=n;continue}return Q=!0,null}var i=_(e);if(e.effectTag&Or?ya(e):ha(e),ln.resetCurrentFiber(),null!==i)return ha(e),ys.debugTool&&ys.debugTool.onCompleteWork(e),i.effectTag&=Nr,i;if(null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=Mr),ys.debugTool&&ys.debugTool.onCompleteWork(e),null!==r)return r;if(null===n)return null;e=n}return null}function he(e){var t=e.alternate;!function(e){if(Ni){if(!Wi||aa(e))return;if(Bi=e,!ra(e,null))return;e._debugIsCurrentlyTiming=!0}}(e),ln.setCurrentFiber(e),Fi&&(J=mi(J,e));var n=m(t,e,z);return ln.resetCurrentFiber(),ne&&oe(),ys.debugTool&&ys.debugTool.onBeginWork(e),null===n&&(n=pe(e)),Wt.current=null,n}function ye(e){if(e)for(;null!==B&&!Xe();)B=he(B);else for(;null!==B;)B=he(B)}function me(e,n,o){W&&r(!1,"renderRoot was called recursively. This error is likely caused by a bug in React. Please file an issue."),W=!0,n===z&&e===H&&null!==B||(ie(),z=n,B=ci((H=e).current,null,z),e.pendingCommitExpirationTime=Qo);var i=!1;for(!function(e){if(Ni){if(Bi=e,!Wi)return;$i=0,Zi("(React Tree Reconciliation)"),ca()}}(B);;){try{ye(o)}catch(e){if(null===B){i=!0,Ze(e);break}if(Fi)G(B,e,o);var a=B,s=a.return;if(null===s){i=!0,Ze(e);break}b(s,a,e),B=pe(a)}break}var u=!1;return W=!1,i?(ga(Y,u),Y=null,t.resetStackAfterFatalErrorInDev(),null):null!==B?(ga(Y,u),Y=null,null):Q?(ga(Y,u=!0),Y=null,e.pendingCommitExpirationTime=n,e.current.alternate):(ga(Y,u),Y=null,void r(!1,"Expired work should have completed. This error is likely caused by a bug in React. Please file an issue."))}function ve(e,t,n,r){Ea(t,{expirationTime:r,partialState:null,callback:null,isReplace:!1,isForced:!1,capturedValue:as(n,e),next:null}),we(t,r)}function ge(e,t){return function(e,t,n){W&&!K&&r(!1,"dispatch: Cannot dispatch during the render phase.");for(var o=e.return;null!==o;){switch(o.tag){case X:var i=o.type,a=o.stateNode;if("function"==typeof i.getDerivedStateFromCatch||"function"==typeof a.componentDidCatch&&!ce(a))return void ve(e,o,t,n);break;case Z:return void ve(e,o,t,n)}o=o.return}e.tag===Z&&ve(e,e,t,n)}(e,t,$o)}function be(e){return ei(e,5e3,250)}function _e(e){var t=void 0;if(U!==Qo)t=U;else if(W)t=K?$o:z;else{if(e.mode&ni)if(De)t=function(e){return ei(e,500,100)}(xe());else t=be(xe());else t=$o}return De&&(Re===Qo||t>Re)&&(Re=t),t}function we(e,t){return function(e,t,n){if(da(),!n&&e.tag===X){var o=e.stateNode;ks(o)}var i=e;for(;null!==i;){if((i.expirationTime===Qo||i.expirationTime>t)&&(i.expirationTime=t),null!==i.alternate&&(i.alternate.expirationTime===Qo||i.alternate.expirationTime>t)&&(i.alternate.expirationTime=t),null===i.return){if(i.tag!==Z)return void(n||e.tag!==X||xs(e));var a=i.stateNode;!W&&z!==Qo&&t<z&&(Y=e,ie()),W&&!K&&H===a||ze(a,t),We>Ue&&r(!1,"Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.")}i=i.return}}(e,t,!1)}function xe(){return D=A()-j,Xo(D)}function ke(e,t,n,r,o){var i=U;U=$o;try{return e(t,n,r,o)}finally{U=i}}Fi&&(J=null,ne=!1,re=null,G=function(e,t,n){switch(mi(e,J),e.tag){case Z:c(e),f(e);break;case te:l(e);break;case X:p(e);break;case ee:c(e);break;case le:h(e)}ne=!0,re=t,vs(null,ye,null,n),ne=!1,re=null,gs()?bs():B=e},oe=function(){throw re});var Ce=null,Se=null,Te=Qo,Ee=-1,Ie=!1,Oe=null,Pe=Qo,Re=Qo,Ae=!1,Ne=!1,Me=null,Le=null,qe=!1,je=!1,De=!1,Fe=null,Ue=1e3,We=0,Be=1;function He(e){if(Te!==Qo){if(e>Te)return;M(Ee)}else Ni&&Wi&&!Ji&&(Ji=!0,Zi("(Waiting for async callback...)"));var t=A()-j,n=Zo(e);Te=e,Ee=N(Ke,{timeout:n-t})}function ze(e,t){!function(e,t){if(null===e.nextScheduledRoot)e.remainingExpirationTime=t,null===Se?(Ce=Se=e,e.nextScheduledRoot=e):(Se.nextScheduledRoot=e,(Se=e).nextScheduledRoot=Ce);else{var n=e.remainingExpirationTime;(n===Qo||t<n)&&(e.remainingExpirationTime=t)}}(e,t),Ie||(qe?je&&(Oe=e,Pe=$o,Je(e,$o,!1)):t===$o?Qe():He(t))}function Ve(){var e=Qo,t=null;if(null!==Se)for(var n=Se,o=Ce;null!==o;){var i=o.remainingExpirationTime;if(i===Qo){if((null===n||null===Se)&&r(!1,"Should have a previous and last root. This error is likely caused by a bug in React. Please file an issue."),o===o.nextScheduledRoot){o.nextScheduledRoot=null,Ce=Se=null;break}if(o===Ce){var a=o.nextScheduledRoot;Ce=a,Se.nextScheduledRoot=a,o.nextScheduledRoot=null}else{if(o===Se){(Se=n).nextScheduledRoot=Ce,o.nextScheduledRoot=null;break}n.nextScheduledRoot=o.nextScheduledRoot,o.nextScheduledRoot=null}o=n.nextScheduledRoot}else{if((e===Qo||i<e)&&(e=i,t=o),o===Se)break;n=o,o=o.nextScheduledRoot}}null!==Oe&&Oe===t&&e===$o?We++:We=0,Oe=t,Pe=e}function Ke(e){$e(Qo,!0,e)}function Qe(){$e($o,!1,null)}function $e(e,t,n){(Le=n,Ve(),Ni&&null!==Le)&&function(e,t){Ni&&Wi&&(Ji=!1,ea("(Waiting for async callback... will force flush in "+t+" ms)","(Waiting for async callback...)",e?"React was blocked by main thread":null))}(Pe<xe(),Zo(Pe));if(t)for(;null!==Oe&&Pe!==Qo&&(e===Qo||e>=Pe)&&(!Ae||xe()>=Pe);)Je(Oe,Pe,!Ae),Ve();else for(;null!==Oe&&Pe!==Qo&&(e===Qo||e>=Pe);)Je(Oe,Pe,!1),Ve();null!==Le&&(Te=Qo,Ee=-1),Pe!==Qo&&He(Pe),Le=null,Ae=!1,Ye()}function Ye(){if(We=0,null!==Fe){var e=Fe;Fe=null;for(var t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(r){Ne||(Ne=!0,Me=r)}}}if(Ne){var r=Me;throw Me=null,Ne=!1,r}}function Je(e,t,n){if(Ie&&r(!1,"performWorkOnRoot was called recursively. This error is likely caused by a bug in React. Please file an issue."),Ie=!0,n){var o=e.finishedWork;null!==o?Ge(e,o,t):(e.finishedWork=null,null!==(o=me(e,t,!0))&&(Xe()?e.finishedWork=o:Ge(e,o,t)))}else{var i=e.finishedWork;null!==i?Ge(e,i,t):(e.finishedWork=null,null!==(i=me(e,t,!1))&&Ge(e,i,t))}Ie=!1}function Ge(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime<=n&&(null===Fe?Fe=[r]:Fe.push(r),r._defer))return e.finishedWork=t,void(e.remainingExpirationTime=Qo);e.finishedWork=null,e.remainingExpirationTime=fe(t)}function Xe(){return null!==Le&&(!(Le.timeRemaining()>Be)&&(Ae=!0,!0))}function Ze(e){null===Oe&&r(!1,"Should be working on a root. This error is likely caused by a bug in React. Please file an issue."),Oe.remainingExpirationTime=Qo,Ne||(Ne=!0,Me=e)}return{recalculateCurrentTime:xe,computeExpirationForFiber:_e,scheduleWork:we,requestWork:ze,flushRoot:function(e,t){Ie&&r(!1,"work.commit(): Cannot commit while already rendering. This likely means you attempted to commit from inside a lifecycle method."),Oe=e,Pe=t,Je(e,t,!1),Qe(),Ye()},batchedUpdates:function(e,t){var n=qe;qe=!0;try{return e(t)}finally{(qe=n)||Ie||Qe()}},unbatchedUpdates:function(e,t){if(qe&&!je){je=!0;try{return e(t)}finally{je=!1}}return e(t)},flushSync:function(e,t){Ie&&r(!1,"flushSync was called from inside a lifecycle method. It cannot be called when React is already rendering.");var n=qe;qe=!0;try{return ke(e,t)}finally{qe=n,Qe()}},flushControlled:function(e){var t=qe;qe=!0;try{ke(e)}finally{(qe=t)||Ie||$e($o,!1,null)}},deferredUpdates:function(e){var t=U,n=xe();U=be(n);try{return e()}finally{U=t}},syncUpdates:ke,interactiveUpdates:function(e,t,n){if(De)return e(t,n);qe||Ie||Re===Qo||($e(Re,!1,null),Re=Qo);var r=De,o=qe;De=!0,qe=!0;try{return e(t,n)}finally{De=r,(qe=o)||Ie||Qe()}},flushInteractiveUpdates:function(){Ie||Re===Qo||($e(Re,!1,null),Re=Qo)},computeUniqueAsyncExpiration:function(){var e=be(xe());return e<=F&&(e=F+1),F=e},legacyContext:i}},Ts=void 0;Ts=!1;var Es=function(e){var t=e.getPublicInstance,n=Ss(e),r=n.computeUniqueAsyncExpiration,i=n.recalculateCurrentTime,s=n.computeExpirationForFiber,u=n.scheduleWork,l=n.requestWork,c=n.flushRoot,f=n.batchedUpdates,p=n.unbatchedUpdates,h=n.flushSync,y=n.flushControlled,m=n.deferredUpdates,v=n.syncUpdates,g=n.interactiveUpdates,b=n.flushInteractiveUpdates,_=n.legacyContext,w=_.findCurrentUnmaskedContext,x=_.isContextProvider,k=_.processChildContext;function C(e,t,n,r,i,a){var s=t.current;ys.debugTool&&(null===s.alternate?ys.debugTool.onMountContainer(t):null===e?ys.debugTool.onUnmountContainer(t):ys.debugTool.onUpdateContainer(t));var l=function(e){if(!e)return d;var t=_r(e),n=w(t);return x(t)?k(t,n):n}(n);return null===t.context?t.context=l:t.pendingContext=l,function(e,t,n,r,i){return"render"!==ln.phase||null===ln.current||Ts||(Ts=!0,o(!1,"Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.\n\nCheck the render method of %s.",on(ln.current)||"Unknown")),o(null===(i=void 0===i?null:i)||"function"==typeof i,"render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",i),Ea(e,{expirationTime:r,partialState:{element:t},callback:i,isReplace:!1,isForced:!1,capturedValue:null,next:null}),u(e,r),r}(s,e,0,i,a)}function S(e){var t=function(e){var t=Hr(e);if(!t)return null;for(var n=t;;){if(n.tag===te||n.tag===ne)return n;if(n.child)n.child.return=n,n=n.child;else{if(n===t)return null;for(;!n.sibling;){if(!n.return||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}(e);return null===t?null:t.stateNode}return{createContainer:function(e,t,n){return vi(e,t,n)},updateContainer:function(e,t,n,r){var o=t.current;i();return C(e,t,n,0,s(o),r)},updateContainerAtExpirationTime:function(e,t,n,r,o){i();return C(e,t,n,0,r,o)},flushRoot:c,requestWork:l,computeUniqueAsyncExpiration:r,batchedUpdates:f,unbatchedUpdates:p,deferredUpdates:m,syncUpdates:v,interactiveUpdates:g,flushInteractiveUpdates:b,flushControlled:y,flushSync:h,getPublicRootInstance:function(e){var n=e.current;if(!n.child)return null;switch(n.child.tag){case te:return t(n.child.stateNode);default:return n.child.stateNode}},findHostInstance:S,findHostInstanceWithNoPortals:function(e){var t=function(e){var t=Hr(e);if(!t)return null;for(var n=t;;){if(n.tag===te||n.tag===ne)return n;if(n.child&&n.tag!==ee)n.child.return=n,n=n.child;else{if(n===t)return null;for(;!n.sibling;){if(!n.return||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}(e);return null===t?null:t.stateNode},injectIntoDevTools:function(e){var t=e.findFiberByHostInstance;return function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled)return!0;if(!t.supportsFiber)return o(!1,"The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://fb.me/react-devtools"),!0;try{var n=t.inject(e);gi=wi(function(e){return t.onCommitFiberRoot(n,e)}),bi=wi(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){o(!1,"React DevTools encountered an error: %s.",e)}return!0}(a({},e,{findHostInstanceByFiber:function(e){return S(e)},findFiberByHostInstance:function(e){return t?t(e):null}}))}}},Is=Object.freeze({default:Es}),Os=Is&&Es||Is,Ps=Os.default?Os.default:Os;i.canUseDOM&&"function"!=typeof requestAnimationFrame&&o(!1,"React depends on requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills");var Rs="object"==typeof performance&&"function"==typeof performance.now,As=void 0;As=Rs?function(){return performance.now()}:function(){return Date.now()};var Ns=void 0,Ms=void 0;if(i.canUseDOM)if("function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback){var Ls=null,qs=!1,js=-1,Ds=!1,Fs=0,Us=33,Ws=33,Bs=void 0;Bs=Rs?{didTimeout:!1,timeRemaining:function(){var e=Fs-performance.now();return e>0?e:0}}:{didTimeout:!1,timeRemaining:function(){var e=Fs-Date.now();return e>0?e:0}};var Hs="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===Hs){qs=!1;var t=As();if(Fs-t<=0){if(!(-1!==js&&js<=t))return void(Ds||(Ds=!0,requestAnimationFrame(zs)));Bs.didTimeout=!0}else Bs.didTimeout=!1;js=-1;var n=Ls;Ls=null,null!==n&&n(Bs)}},!1);var zs=function(e){Ds=!1;var t=e-Fs+Ws;t<Ws&&Us<Ws?(t<8&&(t=8),Ws=t<Us?Us:t):Us=t,Fs=e+Ws,qs||(qs=!0,window.postMessage(Hs,"*"))};Ns=function(e,t){return Ls=e,null!=t&&"number"==typeof t.timeout&&(js=As()+t.timeout),Ds||(Ds=!0,requestAnimationFrame(zs)),0},Ms=function(){Ls=null,qs=!1,js=-1}}else Ns=window.requestIdleCallback,Ms=window.cancelIdleCallback;else Ns=function(e){return setTimeout(function(){e({timeRemaining:function(){return 1/0},didTimeout:!1})})},Ms=function(e){clearTimeout(e)};var Vs=!1;function Ks(e,t){null==t.selected||Vs||(o(!1,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),Vs=!0)}function Qs(e,n){var r=a({children:void 0},n),o=function(e){var n="";return t.Children.forEach(e,function(e){null!=e&&("string"!=typeof e&&"number"!=typeof e||(n+=e))}),n}(n.children);return o&&(r.children=o),r}var $s=ln.getCurrentFiberOwnerName,Ys=ln.getCurrentFiberStackAddendum,Js=void 0;function Gs(){var e=$s();return e?"\n\nCheck the render method of `"+e+"`.":""}Js=!1;var Xs=["value","defaultValue"];function Zs(e,t,n,r){var o=e.options;if(t){for(var i=n,a={},s=0;s<i.length;s++)a["$"+i[s]]=!0;for(var u=0;u<o.length;u++){var l=a.hasOwnProperty("$"+o[u].value);o[u].selected!==l&&(o[u].selected=l),l&&r&&(o[u].defaultSelected=!0)}}else{for(var c=""+n,f=null,d=0;d<o.length;d++){if(o[d].value===c)return o[d].selected=!0,void(r&&(o[d].defaultSelected=!0));null!==f||o[d].disabled||(f=o[d])}null!==f&&(f.selected=!0)}}function eu(e,t){return a({},t,{value:void 0})}function tu(e,t){var n=e;!function(e){Mn.checkPropTypes("select",e,Ys);for(var t=0;t<Xs.length;t++){var n=Xs[t];if(null!=e[n]){var r=Array.isArray(e[n]);e.multiple&&!r?o(!1,"The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",n,Gs()):!e.multiple&&r&&o(!1,"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",n,Gs())}}}(t);var r=t.value;n._wrapperState={initialValue:null!=r?r:t.defaultValue,wasMultiple:!!t.multiple},void 0===t.value||void 0===t.defaultValue||Js||(o(!1,"Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://fb.me/react-controlled-components"),Js=!0)}var nu=ln.getCurrentFiberStackAddendum,ru=!1;function ou(e,t){var n=e;return null!=t.dangerouslySetInnerHTML&&r(!1,"`dangerouslySetInnerHTML` does not make sense on <textarea>."),a({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function iu(e,t){var n=e;Mn.checkPropTypes("textarea",t,nu),void 0===t.value||void 0===t.defaultValue||ru||(o(!1,"Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://fb.me/react-controlled-components"),ru=!0);var i=t.value;if(null==i){var a=t.defaultValue,s=t.children;null!=s&&(o(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."),null!=a&&r(!1,"If you supply `defaultValue` on a <textarea>, do not pass children."),Array.isArray(s)&&(s.length<=1||r(!1,"<textarea> can only have at most one child."),s=s[0]),a=""+s),null==a&&(a=""),i=a}n._wrapperState={initialValue:""+i}}function au(e,t){var n=e,r=t.value;if(null!=r){var o=""+r;o!==n.value&&(n.value=o),null==t.defaultValue&&(n.defaultValue=o)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)}function su(e,t){var n=e,r=n.textContent;r===n._wrapperState.initialValue&&(n.value=r)}var uu="http://www.w3.org/1999/xhtml",lu="http://www.w3.org/1998/Math/MathML",cu="http://www.w3.org/2000/svg",fu={html:uu,mathml:lu,svg:cu};function du(e){switch(e){case"svg":return cu;case"math":return lu;default:return uu}}function pu(e,t){return null==e||e===uu?du(t):e===cu&&"foreignObject"===t?uu:e}var hu,yu=void 0,mu=(hu=function(e,t){if(e.namespaceURI!==fu.svg||"innerHTML"in e)e.innerHTML=t;else{(yu=yu||document.createElement("div")).innerHTML="<svg>"+t+"</svg>";for(var n=yu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return hu(e,t,n,r)})}:hu),vu=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===Pt)return void(n.nodeValue=t)}e.textContent=t},gu={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};var bu=["Webkit","ms","Moz","O"];function _u(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||gu.hasOwnProperty(e)&&gu[e]?(""+t).trim():t+"px"}Object.keys(gu).forEach(function(e){bu.forEach(function(t){gu[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=gu[e]})});var wu=/^(?:webkit|moz|o)[A-Z]/,xu=/;\s*$/,ku={},Cu={},Su=!1,Tu=!1,Eu=function(e,t,n){e.indexOf("-")>-1?function(e,t){ku.hasOwnProperty(e)&&ku[e]||(ku[e]=!0,o(!1,"Unsupported style property %s. Did you mean %s?%s",e,h(e),t()))}(e,n):wu.test(e)?function(e,t){ku.hasOwnProperty(e)&&ku[e]||(ku[e]=!0,o(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?%s",e,e.charAt(0).toUpperCase()+e.slice(1),t()))}(e,n):xu.test(t)&&function(e,t,n){Cu.hasOwnProperty(t)&&Cu[t]||(Cu[t]=!0,o(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.%s',e,t.replace(xu,""),n()))}(e,t,n),"number"==typeof t&&(isNaN(t)?function(e,t,n){Su||(Su=!0,o(!1,"`NaN` is an invalid value for the `%s` css style property.%s",e,n()))}(e,0,n):isFinite(t)||function(e,t,n){Tu||(Tu=!0,o(!1,"`Infinity` is an invalid value for the `%s` css style property.%s",e,n()))}(e,0,n))};function Iu(e){var t="",n="";for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];if(null!=o){var i=0===r.indexOf("--");t+=n+p(r)+":",t+=_u(r,o,i),n=";"}}return t||null}function Ou(e,t,n){var r=e.style;for(var o in t)if(t.hasOwnProperty(o)){var i=0===o.indexOf("--");i||Eu(o,t[o],n);var a=_u(o,t[o],i);"float"===o&&(o="cssFloat"),i?r.setProperty(o,a):r[o]=a}}var Pu=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Ru="__html";function Au(e,t,n){t&&(Pu[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&r(!1,"%s is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.%s",e,n()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&r(!1,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."),"object"==typeof t.dangerouslySetInnerHTML&&Ru in t.dangerouslySetInnerHTML||r(!1,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information.")),o(t.suppressContentEditableWarning||!t.contentEditable||null==t.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional.%s",n()),null!=t.style&&"object"!=typeof t.style&&r(!1,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",n()))}function Nu(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",download:"download",draggable:"draggable",enctype:"encType",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},Lu={"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},qu={},ju=new RegExp("^(aria)-["+vn+"]*$"),Du=new RegExp("^(aria)[A-Z]["+vn+"]*$"),Fu=Object.prototype.hasOwnProperty;function Uu(){var e=Bt.getStackAddendum();return null!=e?e:""}function Wu(e,t){if(Fu.call(qu,t)&&qu[t])return!0;if(Du.test(t)){var n="aria-"+t.slice(4).toLowerCase(),r=Lu.hasOwnProperty(n)?n:null;if(null==r)return o(!1,"Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.%s",t,Uu()),qu[t]=!0,!0;if(t!==r)return o(!1,"Invalid ARIA attribute `%s`. Did you mean `%s`?%s",t,r,Uu()),qu[t]=!0,!0}if(ju.test(t)){var i=t.toLowerCase(),a=Lu.hasOwnProperty(i)?i:null;if(null==a)return qu[t]=!0,!1;if(t!==a)return o(!1,"Unknown ARIA attribute `%s`. Did you mean `%s`?%s",t,a,Uu()),qu[t]=!0,!0}return!0}function Bu(e,t){Nu(e,t)||function(e,t){var n=[];for(var r in t)Wu(0,r)||n.push(r);var i=n.map(function(e){return"`"+e+"`"}).join(", ");1===n.length?o(!1,"Invalid aria prop %s on <%s> tag. For details, see https://fb.me/invalid-aria-prop%s",i,e,Uu()):n.length>1&&o(!1,"Invalid aria props %s on <%s> tag. For details, see https://fb.me/invalid-aria-prop%s",i,e,Uu())}(e,t)}var Hu=!1;function zu(){var e=Bt.getStackAddendum();return null!=e?e:""}function Vu(){var e=Bt.getStackAddendum();return null!=e?e:""}var Ku,Qu={},$u=Object.prototype.hasOwnProperty,Yu=/^on./,Ju=/^on[^A-Z]/,Gu=new RegExp("^(aria)-["+vn+"]*$"),Xu=new RegExp("^(aria)[A-Z]["+vn+"]*$");Ku=function(e,t,n,r){if($u.call(Qu,t)&&Qu[t])return!0;var i=t.toLowerCase();if("onfocusin"===i||"onfocusout"===i)return o(!1,"React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),Qu[t]=!0,!0;if(r){if(E.hasOwnProperty(t))return!0;var a=O.hasOwnProperty(i)?O[i]:null;if(null!=a)return o(!1,"Invalid event handler property `%s`. Did you mean `%s`?%s",t,a,Vu()),Qu[t]=!0,!0;if(Yu.test(t))return o(!1,"Unknown event handler property `%s`. It will be ignored.%s",t,Vu()),Qu[t]=!0,!0}else if(Yu.test(t))return Ju.test(t)&&o(!1,"Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.%s",t,Vu()),Qu[t]=!0,!0;if(Gu.test(t)||Xu.test(t))return!0;if("innerhtml"===i)return o(!1,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),Qu[t]=!0,!0;if("aria"===i)return o(!1,"The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),Qu[t]=!0,!0;if("is"===i&&null!==n&&void 0!==n&&"string"!=typeof n)return o(!1,"Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.%s",typeof n,Vu()),Qu[t]=!0,!0;if("number"==typeof n&&isNaN(n))return o(!1,"Received NaN for the `%s` attribute. If this is expected, cast the value to a string.%s",t,Vu()),Qu[t]=!0,!0;var s=Tn(t),u=null!==s&&s.type===cn;if(Mu.hasOwnProperty(i)){var l=Mu[i];if(l!==t)return o(!1,"Invalid DOM property `%s`. Did you mean `%s`?%s",t,l,Vu()),Qu[t]=!0,!0}else if(!u&&t!==i)return o(!1,"React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.%s",t,i,Vu()),Qu[t]=!0,!0;return"boolean"==typeof n&&Cn(t,n,s,!1)?(n?o(!1,'Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.%s',n,t,t,n,t,Vu()):o(!1,'Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.%s',n,t,t,n,t,t,t,Vu()),Qu[t]=!0,!0):!!u||(!Cn(t,n,s,!1)||(Qu[t]=!0,!1))};var Zu=function(e,t,n){var r=[];for(var i in t){Ku(0,i,t[i],n)||r.push(i)}var a=r.map(function(e){return"`"+e+"`"}).join(", ");1===r.length?o(!1,"Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://fb.me/react-attribute-behavior%s",a,e,Vu()):r.length>1&&o(!1,"Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://fb.me/react-attribute-behavior%s",a,e,Vu())};var el,tl=ln.getCurrentFiberOwnerName,nl=ln.getCurrentFiberStackAddendum,rl=!1,ol=!1,il="dangerouslySetInnerHTML",al="suppressContentEditableWarning",sl="suppressHydrationWarning",ul="autoFocus",ll="children",cl="style",fl="__html",dl=fu.html,pl=s.thatReturns(""),hl=void 0,yl=void 0,ml=void 0,vl=void 0,gl=void 0,bl=void 0,_l=void 0,wl=void 0;pl=nl,hl={time:!0,dialog:!0},ml=function(e,t){Bu(e,t),function(e,t){"input"!==e&&"textarea"!==e&&"select"!==e||null==t||null!==t.value||Hu||(Hu=!0,"select"===e&&t.multiple?o(!1,"`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.%s",e,zu()):o(!1,"`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.%s",e,zu()))}(e,t),function(e,t,n){Nu(e,t)||Zu(e,t,n)}(e,t,!0)};var xl=/\r\n?/g,kl=/\u0000|\uFFFD/g;function Cl(e,t){!function(e,t){for(var n=t,r=Po(n),o=I[e],i=0;i<o.length;i++){var a=o[i];r.hasOwnProperty(a)&&r[a]||("topScroll"===a?mo("topScroll","scroll",n):"topFocus"===a||"topBlur"===a?(mo("topFocus","focus",n),mo("topBlur","blur",n),r.topBlur=!0,r.topFocus=!0):"topCancel"===a?(Lt("cancel",!0)&&mo("topCancel","cancel",n),r.topCancel=!0):"topClose"===a?(Lt("close",!0)&&mo("topClose","close",n),r.topClose=!0):So.hasOwnProperty(a)&&yo(a,So[a],n),r[a]=!0)}}(t,e.nodeType===At||e.nodeType===Nt?e:e.ownerDocument)}function Sl(e){return e.nodeType===At?e:e.ownerDocument}function Tl(e){e.onclick=s}function El(e,t,n,r){var i=void 0,a=Sl(n),s=void 0,u=r;if(u===dl&&(u=du(e)),u===dl)if(i=Nu(e,t),o(i||e===e.toLowerCase(),"<%s /> is using uppercase HTML. Always use lowercase HTML tags in React.",e),"script"===e){var l=a.createElement("div");l.innerHTML="<script><\/script>";var c=l.firstChild;s=l.removeChild(c)}else s="string"==typeof t.is?a.createElement(e,{is:t.is}):a.createElement(e);else s=a.createElementNS(u,e);return u===dl&&(i||"[object HTMLUnknownElement]"!==Object.prototype.toString.call(s)||Object.prototype.hasOwnProperty.call(hl,e)||(hl[e]=!0,o(!1,"The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",e))),s}function Il(e,t){return Sl(t).createTextNode(e)}function Ol(e,t,n,r){var i=Nu(t,n);ml(t,n),i&&!ol&&e.shadyRoot&&(o(!1,"%s is using shady DOM. Using shady DOM with React can cause things to break subtly.",tl()||"A component"),ol=!0);var a=void 0;switch(t){case"iframe":case"object":yo("topLoad","load",e),a=n;break;case"video":case"audio":for(var s in To)To.hasOwnProperty(s)&&yo(s,To[s],e);a=n;break;case"source":yo("topError","error",e),a=n;break;case"img":case"image":case"link":yo("topError","error",e),yo("topLoad","load",e),a=n;break;case"form":yo("topReset","reset",e),yo("topSubmit","submit",e),a=n;break;case"details":yo("topToggle","toggle",e),a=n;break;case"input":Vn(e,n),a=zn(e,n),yo("topInvalid","invalid",e),Cl(r,"onChange");break;case"option":Ks(0,n),a=Qs(0,n);break;case"select":tu(e,n),a=eu(0,n),yo("topInvalid","invalid",e),Cl(r,"onChange");break;case"textarea":iu(e,n),a=ou(e,n),yo("topInvalid","invalid",e),Cl(r,"onChange");break;default:a=n}switch(Au(t,a,pl),function(e,t,n,r,o){for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];if(i===cl)a&&Object.freeze(a),Ou(t,a,pl);else if(i===il){var s=a?a[fl]:void 0;null!=s&&mu(t,s)}else i===ll?"string"==typeof a?("textarea"!==e||""!==a)&&vu(t,a):"number"==typeof a&&vu(t,""+a):i===al||i===sl||i===ul||(E.hasOwnProperty(i)?null!=a&&("function"!=typeof a&&_l(i,a),Cl(n,i)):null!=a&&Nn(t,i,a,o))}}(t,e,r,a,i),t){case"input":Dt(e),$n(e,n);break;case"textarea":Dt(e),su(e);break;case"option":!function(e,t){null!=t.value&&e.setAttribute("value",t.value)}(e,n);break;case"select":!function(e,t){var n=e;n.multiple=!!t.multiple;var r=t.value;null!=r?Zs(n,!!t.multiple,r,!1):null!=t.defaultValue&&Zs(n,!!t.multiple,t.defaultValue,!0)}(e,n);break;default:"function"==typeof a.onClick&&Tl(e)}}function Pl(e,t,n,r,o){ml(t,r);var i=null,a=void 0,s=void 0;switch(t){case"input":a=zn(e,n),s=zn(e,r),i=[];break;case"option":a=Qs(0,n),s=Qs(0,r),i=[];break;case"select":a=eu(0,n),s=eu(0,r),i=[];break;case"textarea":a=ou(e,n),s=ou(e,r),i=[];break;default:s=r,"function"!=typeof(a=n).onClick&&"function"==typeof s.onClick&&Tl(e)}Au(t,s,pl);var u=void 0,l=void 0,c=null;for(u in a)if(!s.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if(u===cl){var f=a[u];for(l in f)f.hasOwnProperty(l)&&(c||(c={}),c[l]="")}else u===il||u===ll||u===al||u===sl||u===ul||(E.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var d=s[u],p=null!=a?a[u]:void 0;if(s.hasOwnProperty(u)&&d!==p&&(null!=d||null!=p))if(u===cl)if(d&&Object.freeze(d),p){for(l in p)!p.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(c||(c={}),c[l]="");for(l in d)d.hasOwnProperty(l)&&p[l]!==d[l]&&(c||(c={}),c[l]=d[l])}else c||(i||(i=[]),i.push(u,c)),c=d;else if(u===il){var h=d?d[fl]:void 0,y=p?p[fl]:void 0;null!=h&&y!==h&&(i=i||[]).push(u,""+h)}else u===ll?p===d||"string"!=typeof d&&"number"!=typeof d||(i=i||[]).push(u,""+d):u===al||u===sl||(E.hasOwnProperty(u)?(null!=d&&("function"!=typeof d&&_l(u,d),Cl(o,u)),i||p===d||(i=[])):(i=i||[]).push(u,d))}return c&&(i=i||[]).push(cl,c),i}function Rl(e,t,n,r,o){"input"===n&&"radio"===o.type&&null!=o.name&&Kn(e,o);Nu(n,r);switch(function(e,t,n,r){for(var o=0;o<t.length;o+=2){var i=t[o],a=t[o+1];i===cl?Ou(e,a,pl):i===il?mu(e,a):i===ll?vu(e,a):Nn(e,i,a,r)}}(e,t,0,Nu(n,o)),n){case"input":Qn(e,o);break;case"textarea":au(e,o);break;case"select":!function(e,t){var n=e;n._wrapperState.initialValue=void 0;var r=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!t.multiple;var o=t.value;null!=o?Zs(n,!!t.multiple,o,!1):r!==!!t.multiple&&(null!=t.defaultValue?Zs(n,!!t.multiple,t.defaultValue,!0):Zs(n,!!t.multiple,t.multiple?[]:"",!1))}(e,o)}}function Al(e,t,n,r,i){var a,s=void 0;switch(yl=!0===n[sl],a=Nu(t,n),ml(t,n),a&&!ol&&e.shadyRoot&&(o(!1,"%s is using shady DOM. Using shady DOM with React can cause things to break subtly.",tl()||"A component"),ol=!0),t){case"iframe":case"object":yo("topLoad","load",e);break;case"video":case"audio":for(var u in To)To.hasOwnProperty(u)&&yo(u,To[u],e);break;case"source":yo("topError","error",e);break;case"img":case"image":case"link":yo("topError","error",e),yo("topLoad","load",e);break;case"form":yo("topReset","reset",e),yo("topSubmit","submit",e);break;case"details":yo("topToggle","toggle",e);break;case"input":Vn(e,n),yo("topInvalid","invalid",e),Cl(i,"onChange");break;case"option":Ks(0,n);break;case"select":tu(e,n),yo("topInvalid","invalid",e),Cl(i,"onChange");break;case"textarea":iu(e,n),yo("topInvalid","invalid",e),Cl(i,"onChange")}Au(t,n,pl),s=new Set;for(var l=e.attributes,c=0;c<l.length;c++){switch(l[c].name.toLowerCase()){case"data-reactroot":case"value":case"checked":case"selected":break;default:s.add(l[c].name)}}var f,d=null;for(var p in n)if(n.hasOwnProperty(p)){var h=n[p];if(p===ll)"string"==typeof h?e.textContent!==h&&(yl||vl(e.textContent,h),d=[ll,h]):"number"==typeof h&&e.textContent!==""+h&&(yl||vl(e.textContent,h),d=[ll,""+h]);else if(E.hasOwnProperty(p))null!=h&&("function"!=typeof h&&_l(p,h),Cl(i,p));else if("boolean"==typeof a){var y=void 0,m=Tn(p);if(yl);else if(p===al||p===sl||"value"===p||"checked"===p||"selected"===p);else if(p===il){var v=h&&h[fl]||"",g=e.innerHTML,b=wl(e,v);b!==g&&gl(p,g,b)}else if(p===cl){s.delete(p);var _=Iu(h);_!==(y=e.getAttribute("style"))&&gl(p,y,_)}else if(a)s.delete(p.toLowerCase()),h!==(y=An(e,p,h))&&gl(p,y,h);else if(!kn(p,m,a)&&!Sn(p,h,m,a)){var w=!1;if(null!==m)s.delete(m.attributeName),y=Rn(e,p,h,m);else{var x=r;if(x===dl&&(x=du(t)),x===dl)s.delete(p.toLowerCase());else{var k=(void 0,f=p.toLowerCase(),Mu.hasOwnProperty(f)&&Mu[f]||null);null!==k&&k!==p&&(w=!0,s.delete(k)),s.delete(p)}y=An(e,p,h)}h===y||w||gl(p,y,h)}}}switch(s.size>0&&!yl&&bl(s),t){case"input":Dt(e),$n(e,n);break;case"textarea":Dt(e),su(e);break;case"select":case"option":break;default:"function"==typeof n.onClick&&Tl(e)}return d}function Nl(e,t){return e.nodeValue!==t}function Ml(e,t){vl(e.nodeValue,t)}function Ll(e,t){rl||(rl=!0,o(!1,"Did not expect server HTML to contain a <%s> in <%s>.",t.nodeName.toLowerCase(),e.nodeName.toLowerCase()))}function ql(e,t){rl||(rl=!0,o(!1,'Did not expect server HTML to contain the text node "%s" in <%s>.',t.nodeValue,e.nodeName.toLowerCase()))}function jl(e,t,n){rl||(rl=!0,o(!1,"Expected server HTML to contain a matching <%s> in <%s>.",t,e.nodeName.toLowerCase()))}function Dl(e,t){""!==t&&(rl||(rl=!0,o(!1,'Expected server HTML to contain a matching text node for "%s" in <%s>.',t,e.nodeName.toLowerCase())))}el=function(e){return("string"==typeof e?e:""+e).replace(xl,"\n").replace(kl,"")},vl=function(e,t){if(!rl){var n=el(t),r=el(e);r!==n&&(rl=!0,o(!1,'Text content did not match. Server: "%s" Client: "%s"',r,n))}},gl=function(e,t,n){if(!rl){var r=el(n),i=el(t);i!==r&&(rl=!0,o(!1,"Prop `%s` did not match. Server: %s Client: %s",e,JSON.stringify(i),JSON.stringify(r)))}},bl=function(e){if(!rl){rl=!0;var t=[];e.forEach(function(e){t.push(e)}),o(!1,"Extra attributes from the server: %s",t)}},_l=function(e,t){!1===t?o(!1,"Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.%s",e,e,e,nl()):o(!1,"Expected `%s` listener to be a function, instead got a value of `%s` type.%s",e,typeof t,nl())},wl=function(e,t){var n=e.namespaceURI===dl?e.ownerDocument.createElement(e.tagName):e.ownerDocument.createElementNS(e.namespaceURI,e.tagName);return n.innerHTML=t,n.innerHTML};var Fl,Ul=Object.freeze({createElement:El,createTextNode:Il,setInitialProperties:Ol,diffProperties:Pl,updateProperties:Rl,diffHydratedProperties:Al,diffHydratedText:Nl,warnForUnmatchedText:Ml,warnForDeletedHydratableElement:Ll,warnForDeletedHydratableText:ql,warnForInsertedHydratedElement:jl,warnForInsertedHydratedText:Dl,restoreControlledState:function(e,t,n){switch(t){case"input":return void Yn(e,n);case"textarea":return void function(e,t){au(e,t)}(e,n);case"select":return void function(e,t){var n=e,r=t.value;null!=r&&Zs(n,!!t.multiple,r,!1)}(e,n)}}}),Wl=ln.getCurrentFiberStackAddendum,Bl=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],Hl=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],zl=Hl.concat(["button"]),Vl=["dd","dt","li","option","optgroup","p","rp","rt"],Kl={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null},Ql={};(Fl=function(e,t,n){var r=(n=n||Kl).current,i=r&&r.tag;null!=t&&(o(null==e,"validateDOMNesting: when childText is passed, childTag should be null"),e="#text");var a=function(e,t){switch(t){case"select":return"option"===e||"optgroup"===e||"#text"===e;case"optgroup":return"option"===e||"#text"===e;case"option":return"#text"===e;case"tr":return"th"===e||"td"===e||"style"===e||"script"===e||"template"===e;case"tbody":case"thead":case"tfoot":return"tr"===e||"style"===e||"script"===e||"template"===e;case"colgroup":return"col"===e||"template"===e;case"table":return"caption"===e||"colgroup"===e||"tbody"===e||"tfoot"===e||"thead"===e||"style"===e||"script"===e||"template"===e;case"head":return"base"===e||"basefont"===e||"bgsound"===e||"link"===e||"meta"===e||"title"===e||"noscript"===e||"noframes"===e||"style"===e||"script"===e||"template"===e;case"html":return"head"===e||"body"===e;case"#document":return"html"===e}switch(e){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t;case"rp":case"rt":return-1===Vl.indexOf(t);case"body":case"caption":case"col":case"colgroup":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==t}return!0}(e,i)?null:r,s=a?null:function(e,t){switch(e){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null}(e,n),u=a||s;if(u){var l=u.tag,c=Wl(),f=!!a+"|"+e+"|"+l+"|"+c;if(!Ql[f]){Ql[f]=!0;var d=e,p="";if("#text"===e?/\S/.test(t)?d="Text nodes":(d="Whitespace text nodes",p=" Make sure you don't have any extra whitespace between tags on each line of your source code."):d="<"+e+">",a){var h="";"table"===l&&"tr"===e&&(h+=" Add a <tbody> to your code to match the DOM tree generated by the browser."),o(!1,"validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s%s",d,l,p,h,c)}else o(!1,"validateDOMNesting(...): %s cannot appear as a descendant of <%s>.%s",d,l,c)}}}).updatedAncestorInfo=function(e,t,n){var r=a({},e||Kl),o={tag:t,instance:n};return-1!==Hl.indexOf(t)&&(r.aTagInScope=null,r.buttonTagInScope=null,r.nobrTagInScope=null),-1!==zl.indexOf(t)&&(r.pTagInButtonScope=null),-1!==Bl.indexOf(t)&&"address"!==t&&"div"!==t&&"p"!==t&&(r.listItemTagAutoclosing=null,r.dlItemTagAutoclosing=null),r.current=o,"form"===t&&(r.formTag=o),"a"===t&&(r.aTagInScope=o),"button"===t&&(r.buttonTagInScope=o),"nobr"===t&&(r.nobrTagInScope=o),"p"===t&&(r.pTagInButtonScope=o),"li"===t&&(r.listItemTagAutoclosing=o),"dd"!==t&&"dt"!==t||(r.dlItemTagAutoclosing=o),r};var $l,Yl=Fl,Jl=El,Gl=Il,Xl=Ol,Zl=Pl,ec=Rl,tc=Al,nc=Nl,rc=Ml,oc=Ll,ic=ql,ac=jl,sc=Dl,uc=Yl.updatedAncestorInfo,lc=he,cc=be,fc=void 0,dc=!1;"function"==typeof Map&&null!=Map.prototype&&"function"==typeof Map.prototype.forEach&&"function"==typeof Set&&null!=Set.prototype&&"function"==typeof Set.prototype.clear&&"function"==typeof Set.prototype.forEach||o(!1,"React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),fc=function(e){if(e._reactRootContainer&&e.nodeType!==Rt){var t=wc.findHostInstanceWithNoPortals(e._reactRootContainer._internalRoot.current);t&&o(t.parentNode===e,"render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var n=!!e._reactRootContainer,r=bc(e),i=!(!r||!me(r));o(!i||n,"render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),o(e.nodeType!==Ot||!e.tagName||"BODY"!==e.tagName.toUpperCase(),"render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")},$l=function(e,t){o(null===e||"function"==typeof e,"%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",t,e)},mt.injectFiberControlledHostComponent(Ul);var pc=null,hc=null;function yc(e){var t=wc.computeUniqueAsyncExpiration();this._expirationTime=t,this._root=e,this._next=null,this._callbacks=null,this._didComplete=!1,this._hasChildren=!1,this._children=null,this._defer=!0}function mc(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function vc(e,t,n){var r=wc.createContainer(e,t,n);this._internalRoot=r}function gc(e){return!(!e||e.nodeType!==Ot&&e.nodeType!==At&&e.nodeType!==Nt&&(e.nodeType!==Rt||" react-mount-point-unstable "!==e.nodeValue))}function bc(e){return e?e.nodeType===At?e.documentElement:e.firstChild:null}function _c(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}yc.prototype.render=function(e){this._defer||r(!1,"batch.render: Cannot render a batch that already committed."),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,o=new mc;return wc.updateContainerAtExpirationTime(e,t,null,n,o._onCommit),o},yc.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},yc.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||r(!1,"batch.commit: Cannot commit a batch multiple times."),!this._hasChildren)return this._next=null,void(this._defer=!1);var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var o=null,i=t;i!==this;)o=i,i=i._next;null===o&&r(!1,"batch.commit: Cannot commit a batch multiple times."),o._next=i._next,this._next=t,t=e.firstBatch=this}this._defer=!1,wc.flushRoot(e,n);var a=this._next;this._next=null,null!==(t=e.firstBatch=a)&&t._hasChildren&&t.render(t._children)},yc.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){(0,e[t])()}}},mc.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},mc.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&r(!1,"Invalid argument passed as callback. Expected a function. Instead received: %s",n),n()}}},vc.prototype.render=function(e,t){var n=this._internalRoot,r=new mc;return $l(t=void 0===t?null:t,"render"),null!==t&&r.then(t),wc.updateContainer(e,n,null,r._onCommit),r},vc.prototype.unmount=function(e){var t=this._internalRoot,n=new mc;return $l(e=void 0===e?null:e,"render"),null!==e&&n.then(e),wc.updateContainer(null,t,null,n._onCommit),n},vc.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,o=new mc;return $l(n=void 0===n?null:n,"render"),null!==n&&o.then(n),wc.updateContainer(t,r,e,o._onCommit),o},vc.prototype.createBatch=function(){var e=new yc(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(var o=null,i=r;null!==i&&i._expirationTime<=t;)o=i,i=i._next;e._next=i,null!==o&&(o._next=e)}return e};var wc=Ps({getRootHostContext:function(e){var t=void 0,n=void 0,r=e.nodeType;switch(r){case At:case Nt:t=r===At?"#document":"#fragment";var o=e.documentElement;n=o?o.namespaceURI:pu(null,"");break;default:var i=r===Rt?e.parentNode:e;n=pu(i.namespaceURI||null,t=i.tagName)}var a=t.toLowerCase();return{namespace:n,ancestorInfo:uc(null,a,null)}},getChildHostContext:function(e,t){var n=e;return{namespace:pu(n.namespace,t),ancestorInfo:uc(n.ancestorInfo,t,null)}},getPublicInstance:function(e){return e},prepareForCommit:function(){pc=ho(),hc=qo(),po(!1)},resetAfterCommit:function(){jo(hc),hc=null,po(pc),pc=null},createInstance:function(e,t,n,r,o){var i,a=r;if(Yl(e,null,a.ancestorInfo),"string"==typeof t.children||"number"==typeof t.children){var s=""+t.children,u=uc(a.ancestorInfo,e,null);Yl(null,s,u)}i=a.namespace;var l=Jl(e,t,n,i);return lc(o,l),cc(l,t),l},appendInitialChild:function(e,t){e.appendChild(t)},finalizeInitialChildren:function(e,t,n,r){return Xl(e,t,n,r),_c(t,n)},prepareUpdate:function(e,t,n,r,o,i){var a=i;if(typeof r.children!=typeof n.children&&("string"==typeof r.children||"number"==typeof r.children)){var s=""+r.children,u=uc(a.ancestorInfo,t,null);Yl(null,s,u)}return Zl(e,t,n,r,o)},shouldSetTextContent:function(e,t){return"textarea"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"==typeof t.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(e,t){return!!t.hidden},createTextInstance:function(e,t,n,r){Yl(null,e,n.ancestorInfo);var o=Gl(e,t);return lc(r,o),o},now:As,mutation:{commitMount:function(e,t,n,r){_c(t,n)&&e.focus()},commitUpdate:function(e,t,n,r,o,i){cc(e,o),ec(e,t,n,r,o)},resetTextContent:function(e){vu(e,"")},commitTextUpdate:function(e,t,n){e.nodeValue=n},appendChild:function(e,t){e.appendChild(t)},appendChildToContainer:function(e,t){e.nodeType===Rt?e.parentNode.insertBefore(t,e):e.appendChild(t)},insertBefore:function(e,t,n){e.insertBefore(t,n)},insertInContainerBefore:function(e,t,n){e.nodeType===Rt?e.parentNode.insertBefore(t,n):e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},removeChildFromContainer:function(e,t){e.nodeType===Rt?e.parentNode.removeChild(t):e.removeChild(t)}},hydration:{canHydrateInstance:function(e,t,n){return e.nodeType!==Ot||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e},canHydrateTextInstance:function(e,t){return""===t||e.nodeType!==Pt?null:e},getNextHydratableSibling:function(e){for(var t=e.nextSibling;t&&t.nodeType!==Ot&&t.nodeType!==Pt;)t=t.nextSibling;return t},getFirstHydratableChild:function(e){for(var t=e.firstChild;t&&t.nodeType!==Ot&&t.nodeType!==Pt;)t=t.nextSibling;return t},hydrateInstance:function(e,t,n,r,o,i){lc(i,e),cc(e,n);var a;return a=o.namespace,tc(e,t,n,a,r)},hydrateTextInstance:function(e,t,n){return lc(n,e),nc(e,t)},didNotMatchHydratedContainerTextInstance:function(e,t,n){rc(t,n)},didNotMatchHydratedTextInstance:function(e,t,n,r,o){!0!==t.suppressHydrationWarning&&rc(r,o)},didNotHydrateContainerInstance:function(e,t){1===t.nodeType?oc(e,t):ic(e,t)},didNotHydrateInstance:function(e,t,n,r){!0!==t.suppressHydrationWarning&&(1===r.nodeType?oc(n,r):ic(n,r))},didNotFindHydratableContainerInstance:function(e,t,n){ac(e,t,n)},didNotFindHydratableContainerTextInstance:function(e,t){sc(e,t)},didNotFindHydratableInstance:function(e,t,n,r,o){!0!==t.suppressHydrationWarning&&ac(n,r,o)},didNotFindHydratableTextInstance:function(e,t,n,r){!0!==t.suppressHydrationWarning&&sc(n,r)}},scheduleDeferredCallback:Ns,cancelDeferredCallback:Ms});Tt(wc);var xc=!1;function kc(e,t){var n=t||function(e){var t=bc(e);return!(!t||t.nodeType!==Ot||!t.hasAttribute(gn))}(e);if(!n)for(var r=!1,i=void 0;i=e.lastChild;)!r&&i.nodeType===Ot&&i.hasAttribute(gn)&&(r=!0,o(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup.")),e.removeChild(i);!n||t||xc||(xc=!0,Ci(!1,"render(): Calling ReactDOM.render() to hydrate server-rendered markup will stop working in React v17. Replace the ReactDOM.render() call with ReactDOM.hydrate() if you want React to attach to the server HTML."));return new vc(e,!1,n)}function Cc(e,t,n,o,i){gc(n)||r(!1,"Target container is not a DOM element."),fc(n);var a=n._reactRootContainer;if(a){if("function"==typeof i){var s=i;i=function(){var e=wc.getPublicRootInstance(a._internalRoot);s.call(e)}}null!=e?a.legacy_renderSubtreeIntoContainer(e,t,i):a.render(t,i)}else{if(a=n._reactRootContainer=kc(n,o),"function"==typeof i){var u=i;i=function(){var e=wc.getPublicRootInstance(a._internalRoot);u.call(e)}}wc.unbatchedUpdates(function(){null!=e?a.legacy_renderSubtreeIntoContainer(e,t,i):a.render(t,i)})}return wc.getPublicRootInstance(a._internalRoot)}function Sc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return gc(t)||r(!1,"Target container is not a DOM element."),function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:$t,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}var Tc={createPortal:Sc,findDOMNode:function(e){var t=Wt.current;if(null!==t&&null!==t.stateNode){var n=t.stateNode._warnedAboutRefsInRender;o(n,"%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",on(t)||"A component"),t.stateNode._warnedAboutRefsInRender=!0}if(null==e)return null;if(e.nodeType===Ot)return e;var i=_r(e);if(i)return wc.findHostInstance(i);"function"==typeof e.render?r(!1,"Unable to find node on an unmounted component."):r(!1,"Element appears to be neither ReactComponent nor DOMNode. Keys: %s",Object.keys(e))},hydrate:function(e,t,n){return Cc(null,e,t,!0,n)},render:function(e,t,n){return Cc(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,o){return(null==e||void 0===e._reactInternalFiber)&&r(!1,"parentComponent must be a valid React Component"),Cc(e,t,n,!1,o)},unmountComponentAtNode:function(e){if(gc(e)||r(!1,"unmountComponentAtNode(...): Target container is not a DOM element."),e._reactRootContainer){var t=bc(e),n=t&&!me(t);return o(!n,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React."),wc.unbatchedUpdates(function(){Cc(null,null,e,!1,function(){e._reactRootContainer=null})}),!0}var i=bc(e),a=!(!i||!me(i)),s=1===e.nodeType&&gc(e.parentNode)&&!!e.parentNode._reactRootContainer;return o(!a,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",s?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."),!1},unstable_createPortal:function(){return dc||(dc=!0,Ci(!1,'The ReactDOM.unstable_createPortal() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactDOM.createPortal() instead. It has the exact same API, but without the "unstable_" prefix.')),Sc.apply(void 0,arguments)},unstable_batchedUpdates:wc.batchedUpdates,unstable_deferredUpdates:wc.deferredUpdates,flushSync:wc.flushSync,unstable_flushControlled:wc.flushControlled,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:Y,EventPluginRegistry:A,EventPropagators:Re,ReactControlledComponent:_t,ReactDOMComponentTree:_e,ReactDOMEventListener:bo},unstable_createRoot:function(e,t){return new vc(e,!0,null!=t&&!0===t.hydrate)}};if(!wc.injectIntoDevTools({findFiberByHostInstance:ye,bundleType:1,version:"16.3.1",rendererPackageName:"react-dom"})&&i.canUseDOM&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&-1===navigator.userAgent.indexOf("Edge")||navigator.userAgent.indexOf("Firefox")>-1)){var Ec=window.location.protocol;/^(https?|file):$/.test(Ec)&&console.info("%cDownload the React DevTools for a better development experience: https://fb.me/react-devtools"+("file:"===Ec?"\nYou might need to use a local HTTP server (instead of file://): https://fb.me/react-devtools-faq":""),"font-weight:bold")}var Ic=Object.freeze({default:Tc}),Oc=Ic&&Tc||Ic,Pc=Oc.default?Oc.default:Oc;e.exports=Pc})()},function(e,t,n){"use strict";e.exports=n(122)},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";
/** @license React v16.3.1
 * react.development.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var t=n(52),r=n(51),o=n(36),i=n(35),a=n(34),s=n(50),u="function"==typeof Symbol&&Symbol.for,l=u?Symbol.for("react.element"):60103,c=u?Symbol.for("react.call"):60104,f=u?Symbol.for("react.return"):60105,d=u?Symbol.for("react.portal"):60106,p=u?Symbol.for("react.fragment"):60107,h=u?Symbol.for("react.strict_mode"):60108,y=u?Symbol.for("react.provider"):60109,m=u?Symbol.for("react.context"):60110,v=u?Symbol.for("react.async_mode"):60111,g=u?Symbol.for("react.forward_ref"):60112,b="function"==typeof Symbol&&Symbol.iterator,_="@@iterator";function w(e){if(null===e||void 0===e)return null;var t=b&&e[b]||e[_];return"function"==typeof t?t:null}var x=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(!e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i="Warning: "+e.replace(/%s/g,function(){return n[o++]});"undefined"!=typeof console&&console.warn(i);try{throw new Error(i)}catch(e){}}).apply(void 0,[t].concat(r))}},k={};function C(e,t){var n=e.constructor,r=n&&(n.displayName||n.name)||"ReactClass",o=r+"."+t;k[o]||(i(!1,"Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",t,r),k[o]=!0)}var S={isMounted:function(e){return!1},enqueueForceUpdate:function(e,t,n){C(e,"forceUpdate")},enqueueReplaceState:function(e,t,n,r){C(e,"replaceState")},enqueueSetState:function(e,t,n,r){C(e,"setState")}};function T(e,t,n){this.props=e,this.context=t,this.refs=r,this.updater=n||S}T.prototype.isReactComponent={},T.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&o(!1,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."),this.updater.enqueueSetState(this,e,t,"setState")},T.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};var E={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},I=function(e,t){Object.defineProperty(T.prototype,e,{get:function(){x(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1])}})};for(var O in E)E.hasOwnProperty(O)&&I(O,E[O]);function P(){}function R(e,t,n){this.props=e,this.context=t,this.refs=r,this.updater=n||S}P.prototype=T.prototype;var A=R.prototype=new P;A.constructor=R,t(A,T.prototype),A.isPureReactComponent=!0;var N={current:null},M=Object.prototype.hasOwnProperty,L={key:!0,ref:!0,__self:!0,__source:!0},q=void 0,j=void 0;function D(e){if(M.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}function F(e){if(M.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}var U=function(e,t,n,r,o,i,a){var s={$$typeof:l,type:e,key:t,ref:n,props:a,_owner:i,_store:{}};return Object.defineProperty(s._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(s,"_self",{configurable:!1,enumerable:!1,writable:!1,value:r}),Object.defineProperty(s,"_source",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.freeze&&(Object.freeze(s.props),Object.freeze(s)),s};function W(e,t,n){var r=void 0,o={},a=null,s=null,u=null,c=null;if(null!=t)for(r in D(t)&&(s=t.ref),F(t)&&(a=""+t.key),u=void 0===t.__self?null:t.__self,c=void 0===t.__source?null:t.__source,t)M.call(t,r)&&!L.hasOwnProperty(r)&&(o[r]=t[r]);var f=arguments.length-2;if(1===f)o.children=n;else if(f>1){for(var d=Array(f),p=0;p<f;p++)d[p]=arguments[p+2];Object.freeze&&Object.freeze(d),o.children=d}if(e&&e.defaultProps){var h=e.defaultProps;for(r in h)void 0===o[r]&&(o[r]=h[r])}if((a||s)&&(void 0===o.$$typeof||o.$$typeof!==l)){var y="function"==typeof e?e.displayName||e.name||"Unknown":e;a&&function(e,t){var n=function(){q||(q=!0,i(!1,"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"key",{get:n,configurable:!0})}(o,y),s&&function(e,t){var n=function(){j||(j=!0,i(!1,"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"ref",{get:n,configurable:!0})}(o,y)}return U(e,a,s,u,c,N.current,o)}function B(e){return"object"==typeof e&&null!==e&&e.$$typeof===l}var H={getCurrentStack:null,getStackAddendum:function(){var e=H.getCurrentStack;return e?e():null}},z=".",V=":";var K=!1,Q=/\/+/g;function $(e){return(""+e).replace(Q,"$&/")}var Y=10,J=[];function G(e,t,n,r){if(J.length){var o=J.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function X(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,J.length<Y&&J.push(e)}function Z(e,t,n){return null==e?0:function e(t,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case l:case d:u=!0}}if(u)return r(a,t,""===n?z+ee(t,0):n),1;var c=void 0,f=0,p=""===n?z:n+V;if(Array.isArray(t))for(var h=0;h<t.length;h++)f+=e(c=t[h],p+ee(c,h),r,a);else{var y=w(t);if("function"==typeof y){y===t.entries&&(i(K,"Using Maps as children is unsupported and will likely yield unexpected results. Convert it to a sequence/iterable of keyed ReactElements instead.%s",H.getStackAddendum()),K=!0);for(var m=y.call(t),v=void 0,g=0;!(v=m.next()).done;)f+=e(c=v.value,p+ee(c,g++),r,a)}else if("object"===s){var b;b=" If you meant to render a collection of children, use an array instead."+H.getStackAddendum();var _=""+t;o(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===_?"object with keys {"+Object.keys(t).join(", ")+"}":_,b)}}return f}(e,"",t,n)}function ee(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=e.key,r={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function te(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function ne(e,t,n){var r,o,i=e.result,s=e.keyPrefix,u=e.func,l=e.context,c=u.call(l,t,e.count++);Array.isArray(c)?re(c,i,n,a.thatReturnsArgument):null!=c&&(B(c)&&(r=c,o=s+(!c.key||t&&t.key===c.key?"":$(c.key)+"/")+n,c=U(r.type,o,r.ref,r._self,r._source,r._owner,r.props)),i.push(c))}function re(e,t,n,r,o){var i="";null!=n&&(i=$(n)+"/");var a=G(t,i,r,o);Z(e,ne,a),X(a)}function oe(e){var t=e.type;if("function"==typeof t)return t.displayName||t.name;if("string"==typeof t)return t;switch(t){case p:return"ReactFragment";case d:return"ReactPortal";case c:return"ReactCall";case f:return"ReactReturn"}return null}var ie,ae=void 0,se=void 0,ue=function(){};function le(){if(N.current){var e=oe(N.current);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}ae=null,se=!1,ie=function(e){return null==e?"#empty":"string"==typeof e||"number"==typeof e?"#text":"string"==typeof e.type?e.type:e.type===p?"React.Fragment":e.type.displayName||e.type.name||"Unknown"},ue=function(){var e="";if(ae){var t=ie(ae),n=ae._owner;e+=function(e,t,n){return"\n    in "+(e||"Unknown")+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")}(t,ae._source,n&&oe(n))}return e+=H.getStackAddendum()||""};var ce={};function fe(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var n=function(e){var t=le();if(!t){var n="string"==typeof e?e:e.displayName||e.name;n&&(t="\n\nCheck the top-level render call using <"+n+">.")}return t}(t);if(!ce[n]){ce[n]=!0;var r="";e&&e._owner&&e._owner!==N.current&&(r=" It was passed a child from "+oe(e._owner)+"."),ae=e,i(!1,'Each child in an array or iterator should have a unique "key" prop.%s%s See https://fb.me/react-warning-keys for more information.%s',n,r,ue()),ae=null}}}function de(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];B(r)&&fe(r,t)}else if(B(e))e._store&&(e._store.validated=!0);else if(e){var o=w(e);if("function"==typeof o&&o!==e.entries)for(var i=o.call(e),a=void 0;!(a=i.next()).done;)B(a.value)&&fe(a.value,t)}}function pe(e){var t=e.type;if("function"==typeof t){var n=t.displayName||t.name,r=t.propTypes;r?(ae=e,s(r,e.props,"prop",n,ue),ae=null):void 0===t.PropTypes||se||(se=!0,i(!1,"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",n||"Unknown")),"function"==typeof t.getDefaultProps&&i(t.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function he(e,t,n){var r=function(e){return"string"==typeof e||"function"==typeof e||e===p||e===v||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===g)}(e);if(!r){var o="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(o+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var a=function(e){if(null!==e&&void 0!==e&&void 0!==e.__source){var t=e.__source;return"\n\nCheck your code at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+"."}return""}(t);o+=a||le(),o+=ue()||"";var s=void 0;s=null===e?"null":Array.isArray(e)?"array":typeof e,i(!1,"React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",s,o)}var u=W.apply(this,arguments);if(null==u)return u;if(r)for(var l=2;l<arguments.length;l++)de(arguments[l],e);return e===p?function(e){ae=e;for(var t=Object.keys(e.props),n=0;n<t.length;n++){var r=t[n];if("children"!==r&&"key"!==r){i(!1,"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.%s",r,ue());break}}null!==e.ref&&i(!1,"Invalid attribute `ref` supplied to `React.Fragment`.%s",ue()),ae=null}(u):pe(u),u}var ye={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return re(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;var r=G(null,null,t,n);Z(e,te,r),X(r)},count:function(e,t){return Z(e,a.thatReturnsNull,null)},toArray:function(e){var t=[];return re(e,t,null,a.thatReturnsArgument),t},only:function(e){return B(e)||o(!1,"React.Children.only expected to receive a single React element child."),e}},createRef:function(){var e={current:null};return Object.seal(e),e},Component:T,PureComponent:R,createContext:function(e,t){void 0===t?t=null:i(null===t||"function"==typeof t,"createContext: Expected the optional second argument to be a function. Instead received: %s",t);var n={$$typeof:m,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_changedBits:0,Provider:null,Consumer:null};return n.Provider={$$typeof:y,_context:n},n.Consumer=n,n._currentRenderer=null,n},forwardRef:function(e){return i("function"==typeof e,"forwardRef requires a render function but was given %s.",null===e?"null":typeof e),{$$typeof:g,render:e}},Fragment:p,StrictMode:h,unstable_AsyncMode:v,createElement:he,cloneElement:function(e,n,r){for(var o=function(e,n,r){var o=void 0,i=t({},e.props),a=e.key,s=e.ref,u=e._self,l=e._source,c=e._owner;if(null!=n){D(n)&&(s=n.ref,c=N.current),F(n)&&(a=""+n.key);var f=void 0;for(o in e.type&&e.type.defaultProps&&(f=e.type.defaultProps),n)M.call(n,o)&&!L.hasOwnProperty(o)&&(void 0===n[o]&&void 0!==f?i[o]=f[o]:i[o]=n[o])}var d=arguments.length-2;if(1===d)i.children=r;else if(d>1){for(var p=Array(d),h=0;h<d;h++)p[h]=arguments[h+2];i.children=p}return U(e.type,a,s,u,l,c,i)}.apply(this,arguments),i=2;i<arguments.length;i++)de(arguments[i],o.type);return pe(o),o},createFactory:function(e){var t=he.bind(null,e);return t.type=e,Object.defineProperty(t,"type",{enumerable:!1,get:function(){return x(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:e}),e}}),t},isValidElement:B,version:"16.3.1",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:N,assign:t}};t(ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,{ReactDebugCurrentFrame:H,ReactComponentTreeHook:{}});var me=Object.freeze({default:ye}),ve=me&&ye||me,ge=ve.default?ve.default:ve;e.exports=ge})()},function(e,t,n){"use strict";var r=a(n(14)),o=a(n(123)),i=n(111);function a(e){return e&&e.__esModule?e:{default:e}}o.default.render(r.default.createElement(i.AccountStatus,null),document.getElementById("root"))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25hbm8tc3FsL2xpYi91dGlsaXRpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb3JlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZGVzY3JpcHRvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oYXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pb2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtb2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGlkZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2V4cG9ydC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGllLXRzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZmFpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcHJvcGVydHktZGVzYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3VpZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFuby1zcWwvbGliL2RhdGFiYXNlL2RiLWlkeC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFuby1zcWwvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXBpZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZXh0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXRvLXN0cmluZy10YWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWJ1Zy1rZXlzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtY3JlYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlcmF0b3JzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbGlicmFyeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWludGVnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1wcmltaXRpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQta2V5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZGVmaW5lZC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9lbXB0eUZ1bmN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi93YXJuaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9pbnZhcmlhbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy1pbnRlcm5hbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3JlZGVmaW5lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kb20tY3JlYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faWU4LWRvbS1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jdHguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ3BvLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tb2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2NoZWNrUHJvcFR5cGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9lbXB0eU9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2JqZWN0LWFzc2lnbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC1wcm90by5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wbi1leHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0ta2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX21ldGEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zeW1ib2wuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLXN0ZXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hZGQtdG8tdW5zY29wYWJsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2h0bWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1hYnNvbHV0ZS1pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWxlbmd0aC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FycmF5LWluY2x1ZGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1kcHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWNyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3N0cmluZy1hdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYS1mdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1zYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQWNjb3VudFN0YXR1cy9BY2NvdW50U3RhdHVzLmpzeCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFuby1zcWwtcmVhY3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25hbm8tc3FsL2xpYi9oaXN0b3J5LXBsdWdpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFuby1zcWwvbGliL2RhdGFiYXNlL2FkYXB0ZXItbGV2ZWxEQi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFuby1zcWwvbGliL2RhdGFiYXNlL2FkYXB0ZXItd2Vic3FsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9uYW5vLXNxbC9saWIvZGF0YWJhc2UvYWRhcHRlci1pbmRleGVkREIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25hbm8tc3FsL2xpYi9kYXRhYmFzZS9hZGFwdGVyLXN5bmMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3ByZWZpeC10cmllLXRzL25vZGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25hbm8tc3FsL2xpYi9kYXRhYmFzZS9zdG9yYWdlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9uYW5vLXNxbC9saWIvZGF0YWJhc2UvcXVlcnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25hbm8tc3FsL2xpYi9kYXRhYmFzZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhbGx5LXNtYWxsLWV2ZW50cy9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25hbm8tc3FsL2xpYi9xdWVyeS90cmFuc2FjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFuby1zcWwvbGliL3F1ZXJ5L3N0ZC1xdWVyeS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanN4Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9jYW1lbGl6ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvY2FtZWxpemVTdHlsZU5hbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2h5cGhlbmF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvaHlwaGVuYXRlU3R5bGVOYW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9pc05vZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2lzVGV4dE5vZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2NvbnRhaW5zTm9kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvc2hhbGxvd0VxdWFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9nZXRBY3RpdmVFbGVtZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9FeGVjdXRpb25FbnZpcm9ubWVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG9tL2Nqcy9yZWFjdC1kb20uZGV2ZWxvcG1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRvbS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC5kZXZlbG9wbWVudC5qcyIsIndlYnBhY2s6Ly8vLi90ZXN0L3Zpc3VhbFRlc3RzLmpzeCJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJ2YWx1ZSIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZ2xvYmFsIiwibGllX3RzXzEiLCJQcm9taXNlIiwid2luZG93IiwiX2Fzc2lnbiIsIm9iaiIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImZhc3RDSEFJTiIsIml0ZW1zIiwiY2FsbGJhY2siLCJyZXMiLCJyZWoiLCJsZW5ndGgiLCJyZXN1bHRzIiwic3RlcCIsInJlc3VsdCIsInB1c2giLCJzZXRGYXN0IiwiZmFzdFJBQ0UiLCJyZXNvbHZlZCIsImNvdW50ZXIiLCJmYXN0QUxMIiwiYWxsIiwibWFwIiwiaXRlbSIsInVhIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaXNTYWZhcmkiLCJ0ZXN0IiwiaXNNU0Jyb3dzZXIiLCJpbmRleE9mIiwiaXNBbmRyb2lkIiwicmFuZG9tMTZCaXRzIiwiY3J5cHRvIiwiTWF0aCIsInJvdW5kIiwicmFuZG9tIiwicG93IiwiZ2V0UmFuZG9tVmFsdWVzIiwiYnVmIiwiVWludDE2QXJyYXkiLCJfY3J5cHRvIiwicmFuZG9tQnl0ZXMiLCJyZWR1Y2UiLCJwcmV2IiwiY3VyIiwidGltZWlkIiwibXMiLCJ0aW1lIiwiRGF0ZSIsImdldFRpbWUiLCJ0b1N0cmluZyIsImludGVyc2VjdCIsImFycjEiLCJhcnIyIiwiZmlsdGVyIiwidXVpZCIsImIiLCJzbGljZSIsImlkVHlwZXMiLCJpbnQiLCJ0aW1lSWQiLCJ0aW1lSWRtcyIsImhhc2giLCJzdHIiLCJjaGFyQ29kZUF0IiwiZ2VuZXJhdGVJRCIsInByaW1hcnlLZXlUeXBlIiwiaW5jcmltZW50VmFsdWUiLCJjbGVhbkFyZ3MiLCJhcmdEZWNsYXJhdGlvbnMiLCJhcmdzIiwiYSIsImsyIiwic3BsaXQiLCJjYXN0IiwidW5kZWZpbmVkIiwiaXNPYmplY3QiLCJ2YWwiLCJ0eXBlIiwidCIsImVudGl0eU1hcCIsIiYiLCI8IiwiPiIsIlwiIiwiJyIsIi8iLCJgIiwiPSIsInR5cGVzIiwicmVwbGFjZSIsInBhcnNlSW50IiwicGFyc2VGbG9hdCIsIkFycmF5IiwiaXNBcnJheSIsIlN0cmluZyIsIm5ld1ZhbCIsInRvTG93ZXJDYXNlIiwiYXJyYXlPZl8xIiwibGFzdEluZGV4T2YiLCJ2IiwiaXNOYU4iLCJzb3J0ZWRJbnNlcnQiLCJhcnIiLCJzdGFydFZhbCIsImVuZFZhbCIsInNwbGljZSIsImJpbmFyeVNlYXJjaCIsInN0YXJ0IiwiZW5kIiwiZmxvb3IiLCJyZW1vdmVEdXBsaWNhdGVzIiwibmV3YXJyIiwiZGVlcEZyZWV6ZSIsImdldE93blByb3BlcnR5TmFtZXMiLCJmb3JFYWNoIiwicHJvcCIsImZyZWV6ZSIsIm9iamVjdFBhdGhDYWNoZSIsIm9ialF1ZXJ5IiwicGF0aFF1ZXJ5IiwiaWdub3JlRmlyc3RQYXRoIiwic2FmZUdldCIsImdldFBhdGgiLCJwYXRoSWR4IiwiY2FjaGVLZXkiLCJwYXRoIiwiY29uY2F0IiwiYXBwbHkiLCJtYXRjaCIsImZpcnN0UGF0aCIsInNoaWZ0IiwidW5zaGlmdCIsImNvcmUiLCJ2ZXJzaW9uIiwiX19lIiwic2VsZiIsIkZ1bmN0aW9uIiwiX19nIiwiYW5PYmplY3QiLCJJRThfRE9NX0RFRklORSIsInRvUHJpbWl0aXZlIiwiZFAiLCJmIiwiTyIsIlAiLCJBdHRyaWJ1dGVzIiwiZSIsIlR5cGVFcnJvciIsIml0Iiwia2V5Iiwic3RvcmUiLCJ1aWQiLCJTeW1ib2wiLCJVU0VfU1lNQk9MIiwiSU9iamVjdCIsImRlZmluZWQiLCJjcmVhdGVEZXNjIiwiY3R4IiwiaGlkZSIsImhhcyIsIiRleHBvcnQiLCJzb3VyY2UiLCJvd24iLCJvdXQiLCJJU19GT1JDRUQiLCJGIiwiSVNfR0xPQkFMIiwiRyIsIklTX1NUQVRJQyIsIlMiLCJJU19QUk9UTyIsIklTX0JJTkQiLCJCIiwiSVNfV1JBUCIsIlciLCJleHBQcm90byIsInRhcmdldCIsIkMiLCJ0aGlzIiwiYXJndW1lbnRzIiwidmlydHVhbCIsIlIiLCJVIiwic3RvcmFnZSIsImNhblNldEltbWVkaWF0ZSIsImNhblBvc3QiLCJwb3N0TWVzc2FnZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjYW5Qcm9taXNlIiwiZmFzdEFwcGx5IiwiZXZlbnQiLCJkYXRhIiwic2V0SW1tZWRpYXRlUG9seWZpbGwiLCJfaSIsImlkIiwicmVzb2x2ZSIsInRoZW4iLCJzZXRUaW1lb3V0IiwiX0lOVEVSTkFMIiwiX1JFSkVDVEVEIiwiX0ZVTEZJTExFRCIsIl9QRU5ESU5HIiwicmVzb2x2ZXIiLCJfc3RhdGUiLCJfcXVldWUiLCJfb3V0Y29tZSIsIl9zYWZlbHlSZXNvbHZlVGhlbmFibGUiLCJkb1BvbHlGaWxsIiwiY2F0Y2giLCJvblJlamVjdGVkIiwib25GdWxmaWxsZWQiLCJwcm9taXNlIiwiX3Vud3JhcCIsIl9RdWV1ZUl0ZW0iLCJfaGFuZGxlcnMiLCJfcmVzb2x2ZSIsInJlamVjdCIsInJlYXNvbiIsIl9yZWplY3QiLCJpdGVyYWJsZSIsIm1heWJlUmV0dXJuIiwiaW5kZXgiLCJzdWNjZXNzIiwiZmFpbHVyZSIsIl9sb29wXzEiLCJyYWNlIiwibGVuIiwiY2FsbGVkIiwicmVzcG9uc2UiLCJlcnJvciIsIl9wcm9taXNlIiwiX29uRnVsZmlsbGVkIiwiX2NhbGxGdWxmaWxsZWQiLCJfb3RoZXJDYWxsRnVsZmlsbGVkIiwiX29uUmVqZWN0ZWQiLCJfY2FsbFJlamVjdGVkIiwiX290aGVyQ2FsbFJlamVjdGVkIiwiZnVuYyIsInJldHVyblZhbHVlIiwiX3RyeUNhdGNoIiwiX2dldFRoZW4iLCJ0aGVuYWJsZSIsIl92YWx1ZSIsIl9zdGF0dXMiLCJvbkVycm9yIiwib25TdWNjZXNzIiwidmFsdWVzIiwiZXhlYyIsImJpdG1hcCIsIndyaXRhYmxlIiwicHgiLCJ1dGlsaXRpZXNfMSIsIkRhdGFiYXNlSW5kZXgiLCJfc29ydGVkIiwiX2luZGV4T2YiLCJhaSIsImRvQUkiLCJzZXQiLCJfdGhpcyIsImdldExvY2F0aW9uIiwiaWR4IiwiYWRkIiwia2V5cyIsInJlbW92ZSIsIl9fYXNzaWduIiwiYXNzaWduIiwic3RkX3F1ZXJ5XzEiLCJ0cmFuc2FjdGlvbl8xIiwicmVhbGx5X3NtYWxsX2V2ZW50c18xIiwiaW5kZXhfMSIsImhpc3RvcnlfcGx1Z2luXzEiLCJWRVJTSU9OIiwiTmFub1NRTEluc3RhbmNlIiwiX29uQ29ubmVjdGVkQ2FsbEJhY2tzIiwiX2FjdGlvbnMiLCJfdmlld3MiLCJkYXRhTW9kZWxzIiwiX2V2ZW50cyIsIl9oYXNFdmVudHMiLCJ0YWJsZU5hbWVzIiwicGx1Z2lucyIsImhhc1BLIiwic2tpcFB1cmdlIiwidG9Sb3dGbnMiLCJ0YWJsZVBLcyIsInRvQ29sRm5zIiwidG9Db2xSdWxlcyIsIl9yYW5kb21zIiwiX3JhbmRvbVB0ciIsImhhc0FueUV2ZW50cyIsIl9jYWxsYmFja3MiLCJSZWFsbHlTbWFsbEV2ZW50cyIsImlCIiwiTmFub1NRTERlZmF1bHRCYWNrZW5kIiwiaW5zdGFuY2VDb25uZWN0QXJncyIsIm1vZGVscyIsImFjdGlvbnMiLCJ2aWV3cyIsImNvbmZpZyIsInBhcmVudCIsIndpbGxDb25uZWN0IiwiZGlkQ29ubmVjdCIsInRvQ29sdW1uIiwiY29sdW1uRm5zIiwic1RhYmxlIiwidG9Sb3ciLCJmYXN0UmFuZCIsInRhYmxlIiwiY29ubmVjdCIsImNvbm5lY3RBcmdzIiwiX2NvbmZpZyIsInByb3BzIiwiaGlzdG9yeSIsInVzZSIsIl9OYW5vU1FMSGlzdG9yeVBsdWdpbiIsImhpc3RvcnlNb2RlIiwibW9kZSIsIm5leHRQIiwibmV3QXJncyIsImhhc1dpbGQiLCJtb2RlbCIsInBsdWdpbiIsImRpZEV4ZWMiLCJwbHVnaW5IYXNEaWRFeGVjIiwiY29tcGxldGVDb25uZWN0IiwiaXNDb25uZWN0ZWQiLCJjYiIsInVwZGF0ZVZlcnNpb24iLCJyZWJ1aWxkSURYIiwicXVlcnkiLCJtYW51YWxFeGVjIiwiZXh0ZW5kIiwid2hlcmUiLCJyb3dzIiwiZ2V0QWN0aW9ucyIsImdldFZpZXdzIiwiZ2V0Q29uZmlnIiwiYXZGaWx0ZXIiLCJmaWx0ZXJGdW5jIiwiX0FWTW9kIiwib24iLCJjYWxsQmFjayIsIl9yZWZyZXNoRXZlbnRDaGVja2VyIiwib2ZmIiwiZXZlbnRMaXN0ZW5lcnMiLCJkYXRhTW9kZWwiLCJpZ25vcmVTYW5pdHlDaGVjayIsIkVycm9yIiwiZm5OYW1lIiwiZm5BcmdzIiwicG9wIiwidHJpbSIsInZpZXdBcnJheSIsImdldFZpZXciLCJ2aWV3TmFtZSIsInZpZXdBcmdzIiwiX2RvQVYiLCJhY3Rpb25BcnJheSIsImRvQWN0aW9uIiwiYWN0aW9uTmFtZSIsImFjdGlvbkFyZ3MiLCJxdWVyeUZpbHRlciIsInF1ZXJ5TW9kIiwiQVZUeXBlIiwiQVZMaXN0IiwiQVZOYW1lIiwiQVZhcmdzIiwic2VsQVYiLCJfYWN0aXZlQVYiLCJlcnIiLCJhY3Rpb24iLCJhdiIsIl9OYW5vU1FMUXVlcnkiLCJvbkNvbm5lY3RlZCIsInRyaWdnZXJFdmVudCIsImV2ZW50RGF0YSIsInRyaWdnZXIiLCJkZWZhdWx0IiwicmVwbGFjZU9iaiIsIm5ld09iaiIsInJhd0R1bXAiLCJ0YWJsZXMiLCJuZXh0IiwiZHVtcFRhYmxlcyIsInJhd0ltcG9ydCIsImltcG9ydFRhYmxlcyIsImRpc2Nvbm5lY3QiLCJ3aWxsRGlzY29ubmVjdCIsImRvVHJhbnNhY3Rpb24iLCJpbml0VHJhbnNhY3Rpb24iLCJxdWVyaWVzIiwidHJhbnNhY3Rpb25JRCIsInRyYW5zYWN0aW9uQmVnaW4iLCJ0YSIsIl9OYW5vU1FMVHJhbnNhY3Rpb25RdWVyeSIsInF1ZXIiLCJuZXh0UXVlcnkiLCJ0cmFuc2FjdGlvbiIsInF1ZXJ5SUQiLCJ0cmFuc2FjdGlvbkVuZCIsImFjdGlvbk9yVmlldyIsIm5vdGVzIiwiYWZmZWN0ZWRSb3dQS1MiLCJhZmZlY3RlZFJvd3MiLCJuZXdBcmdzXzEiLCJyZXN1bHRfMSIsIm5BcmdzIiwibmV3UmVzdWx0IiwibG9hZEpTIiwidXNlVHJhbnNhY3Rpb24iLCJvblByb2dyZXNzIiwiZGIiLCJjb21wbGV0ZSIsInJvdyIsIm5leHRSb3ciLCJsb2FkQ1NWIiwiY3N2Iiwicm93RmlsdGVyIiwiZmllbGRzIiwicm93RGF0YSIsImsiLCJyZWNvcmQiLCJyb3dfMSIsImZpdHMiLCJkb0JyZWFrIiwiZnVuY3Rpb25zIiwiQ09VTlQiLCJjb2x1bW4iLCJNQVgiLCJtYXhfMSIsIk1JTiIsIm1pbl8xIiwiQVZHIiwiU1VNIiwiTE9XRVIiLCJVUFBFUiIsInRvVXBwZXJDYXNlIiwiQ0FTVCIsIkFCUyIsImFicyIsIkNFSUwiLCJjZWlsIiwiUE9XIiwicG93ZXIiLCJST1VORCIsIlNRUlQiLCJzcXJ0IiwiX05hbm9TUUxTdGF0aWMiLCJuU1FMIiwic2V0VGFibGVQb2ludGVyIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJMSUJSQVJZIiwid2tzRXh0IiwiJFN5bWJvbCIsImNoYXJBdCIsImRlZiIsIlRBRyIsInRhZyIsInN0YXQiLCIka2V5cyIsImVudW1CdWdLZXlzIiwiZFBzIiwiSUVfUFJPVE8iLCJFbXB0eSIsImNyZWF0ZURpY3QiLCJpZnJhbWVEb2N1bWVudCIsImlmcmFtZSIsInN0eWxlIiwiZGlzcGxheSIsImFwcGVuZENoaWxkIiwic3JjIiwiY29udGVudFdpbmRvdyIsImRvY3VtZW50Iiwib3BlbiIsIndyaXRlIiwibHQiLCJjbG9zZSIsImNyZWF0ZSIsIlByb3BlcnRpZXMiLCJmbiIsInZhbHVlT2YiLCJzaGFyZWQiLCJnIiwiZXZhbCIsIm1ha2VFbXB0eUZ1bmN0aW9uIiwiYXJnIiwiZW1wdHlGdW5jdGlvbiIsInRoYXRSZXR1cm5zIiwidGhhdFJldHVybnNGYWxzZSIsInRoYXRSZXR1cm5zVHJ1ZSIsInRoYXRSZXR1cm5zTnVsbCIsInRoYXRSZXR1cm5zVGhpcyIsInRoYXRSZXR1cm5zQXJndW1lbnQiLCJ3YXJuaW5nIiwiY29uZGl0aW9uIiwiZm9ybWF0IiwiX2xlbjIiLCJfa2V5MiIsIl9sZW4iLCJfa2V5IiwiYXJnSW5kZXgiLCJtZXNzYWdlIiwiY29uc29sZSIsIngiLCJ2YWxpZGF0ZUZvcm1hdCIsImZyYW1lc1RvUG9wIiwicElFIiwidG9JT2JqZWN0IiwiZ09QRCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImhpZGRlbktleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJhcnJheUluZGV4T2YiLCJuYW1lcyIsInJlZGVmaW5lIiwiSXRlcmF0b3JzIiwiJGl0ZXJDcmVhdGUiLCJzZXRUb1N0cmluZ1RhZyIsImdldFByb3RvdHlwZU9mIiwiSVRFUkFUT1IiLCJCVUdHWSIsInJldHVyblRoaXMiLCJCYXNlIiwiTkFNRSIsIkNvbnN0cnVjdG9yIiwiREVGQVVMVCIsIklTX1NFVCIsIkZPUkNFRCIsIm1ldGhvZHMiLCJJdGVyYXRvclByb3RvdHlwZSIsImdldE1ldGhvZCIsImtpbmQiLCJwcm90byIsIkRFRl9WQUxVRVMiLCJWQUxVRVNfQlVHIiwiJG5hdGl2ZSIsIiRkZWZhdWx0IiwiJGVudHJpZXMiLCIkYW55TmF0aXZlIiwiZW50cmllcyIsIl9pdGVyYXRvcjIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX3N5bWJvbDIiLCJfdHlwZW9mIiwiY29uc3RydWN0b3IiLCJpcyIsImNyZWF0ZUVsZW1lbnQiLCJhRnVuY3Rpb24iLCJ0aGF0IiwidG9PYmplY3QiLCJPYmplY3RQcm90byIsImludmFyaWFudCIsIlJlYWN0UHJvcFR5cGVzU2VjcmV0IiwibG9nZ2VkVHlwZUZhaWx1cmVzIiwidHlwZVNwZWNzIiwibG9jYXRpb24iLCJjb21wb25lbnROYW1lIiwiZ2V0U3RhY2siLCJ0eXBlU3BlY05hbWUiLCJleCIsInN0YWNrIiwiZW1wdHlPYmplY3QiLCJwcm9wSXNFbnVtZXJhYmxlIiwidGVzdDEiLCJ0ZXN0MiIsImZyb21DaGFyQ29kZSIsImpvaW4iLCJ0ZXN0MyIsImxldHRlciIsInNob3VsZFVzZU5hdGl2ZSIsImZyb20iLCJzeW1ib2xzIiwidG8iLCIkT2JqZWN0IiwiRCIsImNoZWNrIiwic2V0UHJvdG90eXBlT2YiLCJidWdneSIsIl9fcHJvdG9fXyIsIl9zZXRQcm90b3R5cGVPZjIiLCJfY3JlYXRlMiIsIl90eXBlb2YzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiZ09QTiIsIndpbmRvd05hbWVzIiwiZ2V0V2luZG93TmFtZXMiLCJjb2YiLCJnZXRLZXlzIiwiZ09QUyIsImdldFN5bWJvbHMiLCJpc0VudW0iLCJNRVRBIiwic2V0RGVzYyIsImlzRXh0ZW5zaWJsZSIsIkZSRUVaRSIsInByZXZlbnRFeHRlbnNpb25zIiwic2V0TWV0YSIsInciLCJtZXRhIiwiS0VZIiwiTkVFRCIsImZhc3RLZXkiLCJnZXRXZWFrIiwib25GcmVlemUiLCJERVNDUklQVE9SUyIsIiRmYWlscyIsIndrcyIsIndrc0RlZmluZSIsImVudW1LZXlzIiwiX2NyZWF0ZSIsImdPUE5FeHQiLCIkR09QRCIsIiREUCIsIiRKU09OIiwiX3N0cmluZ2lmeSIsIkhJRERFTiIsIlRPX1BSSU1JVElWRSIsIlN5bWJvbFJlZ2lzdHJ5IiwiQWxsU3ltYm9scyIsIk9QU3ltYm9scyIsIlVTRV9OQVRJVkUiLCJRT2JqZWN0Iiwic2V0dGVyIiwiZmluZENoaWxkIiwic2V0U3ltYm9sRGVzYyIsInByb3RvRGVzYyIsIndyYXAiLCJzeW0iLCJfayIsImlzU3ltYm9sIiwiaXRlcmF0b3IiLCIkZGVmaW5lUHJvcGVydHkiLCIkZGVmaW5lUHJvcGVydGllcyIsIiRwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIkUiLCIkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiJGdldE93blByb3BlcnR5TmFtZXMiLCIkZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiSVNfT1AiLCIkc2V0IiwiZXM2U3ltYm9scyIsImoiLCJ3ZWxsS25vd25TeW1ib2xzIiwiZm9yIiwia2V5Rm9yIiwidXNlU2V0dGVyIiwidXNlU2ltcGxlIiwiZGVmaW5lUHJvcGVydGllcyIsInJlcGxhY2VyIiwiJHJlcGxhY2VyIiwiZG9uZSIsImFkZFRvVW5zY29wYWJsZXMiLCJpdGVyYXRlZCIsIl90IiwiQXJndW1lbnRzIiwiVE9fU1RSSU5HX1RBRyIsIkRPTUl0ZXJhYmxlcyIsIkNvbGxlY3Rpb24iLCJkb2N1bWVudEVsZW1lbnQiLCJ0b0ludGVnZXIiLCJtYXgiLCJtaW4iLCJ0b0xlbmd0aCIsInRvQWJzb2x1dGVJbmRleCIsIklTX0lOQ0xVREVTIiwiJHRoaXMiLCJlbCIsImZyb21JbmRleCIsImRlc2NyaXB0b3IiLCJUT19TVFJJTkciLCJwb3MiLCIkYXQiLCJwb2ludCIsIl90eXBlb2YyIiwiUmVmZXJlbmNlRXJyb3IiLCJkZXNjIiwiX2RlZmluZVByb3BlcnR5IiwiX2RlZmluZVByb3BlcnR5MiIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsImluc3RhbmNlIiwiZmFpbHMiLCJleHAiLCIkZ2V0UHJvdG90eXBlT2YiLCJfcmVhY3QiLCJBY2NvdW50U3RhdHVzIiwiX3JlYWN0MiIsIm5TUUxkYXRhIiwibG9nIiwiaW5jbHVkZXMiLCJiYWxhbmNlIiwiZXh0ZW5kU3RhdGljcyIsIl9fZXh0ZW5kcyIsIl9fIiwiUmVhY3QiLCJuYW5vX3NxbF8xIiwiYmluZE5TUUwiLCJDb21wIiwiX3N1cGVyIiwiY2xhc3NfMSIsInN0YXRlIiwiaXNMb2FkaW5nIiwidXBkYXRlU3RhdGUiLCJiaW5kIiwiY29tcG9uZW50V2lsbE1vdW50Iiwib25DaGFuZ2UiLCJwcmV2VGFibGUiLCJjb21tZW50cyIsIm5vdyIsImNvbXBvbmVudFdpbGxVbm1vdW50Iiwic2V0U3RhdGUiLCJyZW5kZXIiLCJuU1FMbG9hZGluZyIsIkNvbXBvbmVudCIsInN0cnMiLCJoaXN0b3J5TW9kZUFyZ3MiLCJfdGFibGVQa0tleXMiLCJfdGFibGVQa1R5cGVzIiwiX3RhYmxlS2V5cyIsImhpc3RvcnlUYWJsZXMiLCJoaXN0TW9kZWwiLCJpc05vdFN0cmluZyIsImhpc3RvcnlUYWJsZSIsImhpc3RvcnlUYWJsZVBvaW50ZXIiLCJoaXN0b3J5TW9kZXMiLCJfaGlzdFRhYmxlIiwiX2dlbmVyYXRlSGlzdG9yeVBvaW50ZXJzIiwiaGlzdFRhYmxlIiwicHRyIiwiZmluaXNoU2V0dXAiLCJ0YWJsZURvbmUiLCJfcHVyZ2VSb3dIaXN0b3J5Iiwicm93UEtzIiwiY2xlYXJBbGwiLCJyb3dIaXN0VGFibGUiLCJyb3dJRFhUYWJsZSIsInBrIiwicm93RG9uZSIsImhpc3RSb3dJRFgiLCJpc0Zyb3plbiIsImRlbElEcyIsImhpc3RSb3dzIiwiaGlzdFB0ciIsImNvbW1lbnQiLCJleGlzdGluZ1JvdyIsIl91bnNoaWZ0U2luZ2xlUm93IiwiX3B1cmdlVGFibGVIaXN0b3J5IiwiaGlzdFEiLCJyYW5nZSIsImhpc3RUYWJsZVJvd3MiLCJwdXJnZVJvd3MiLCJfcHVyZ2VQYXJlbnRIaXN0b3J5IiwiX3B1cmdlQWxsSGlzdG9yeSIsInJvd1BLIiwicm93SURzIiwiX3Vuc2hpZnRQYXJlbnQiLCJoaXN0Um93SURzIiwiZXZlbnRUeXBlcyIsInNraXBJRFgiLCJhZGp1c3RIaXN0b3J5SURYIiwiYXBwZW5kSUQiLCJfaWQiLCJfc2hpZnRIaXN0b3J5IiwiZGlkQW55dGhpbmciLCJfcXVlcnlIaXN0b3J5IiwicVJlc3VsdCIsIl9nZXRSZXZpc2lvbkhpc3RvcnkiLCJnZXRSb3dzIiwicmVzdWx0Um93cyIsInJPYmoiLCJwb2ludGVyIiwicmV2aXNpb25zIiwicmV2ZXJzZSIsIl9nZXRUYWJsZUhpc3RvcnkiLCJfc2hpZnRUYWJsZUhpc3RvcnkiLCJkaXJlY3Rpb24iLCJyb3dQdHIiLCJfc2hpZnRSb3dIaXN0b3J5IiwiUEsiLCJ1cGRhdGVJRFgiLCJyb3dJRFgiLCJoaXN0b3J5UEsiLCJkYl9pZHhfMSIsImRlbGV0ZUZvbGRlclJlY3Vyc2l2ZSIsIl9mcyIsImV4aXN0c1N5bmMiLCJyZWFkZGlyU3luYyIsImZpbGUiLCJjdXJQYXRoIiwic3RhdFN5bmMiLCJpc0RpcmVjdG9yeSIsInVubGlua1N5bmMiLCJybWRpclN5bmMiLCJfTGV2ZWxTdG9yZSIsIndyaXRlQ2FjaGUiLCJyZWFkQ2FjaGUiLCJfcGtLZXkiLCJfcGtUeXBlIiwiX2RiSW5kZXgiLCJfbGV2ZWxEQnMiLCJfaXNQS251bSIsInBrcyIsImNyZWF0ZUtleVN0cmVhbSIsIl9JbnQ2NEJFIiwidG9OdW1iZXIiLCJzZXRJRCIsIl9wYXRoIiwibWtkaXJTeW5jIiwibWFrZVRhYmxlIiwidGFibGVOYW1lIiwiX2xldmVsdXAiLCJfbGV2ZWxkb3duIiwiY2FjaGVTaXplIiwid3JpdGVCdWZmZXJTaXplIiwiX2EiLCJwdXQiLCJ0b0J1ZmZlciIsImRlbGV0ZSIsImRlbCIsInJlYWQiLCJyYW5nZVJlYWQiLCJyb3dDYWxsYmFjayIsInVzZVBLIiwidXNlZnVsVmFsdWVzIiwicmFuZ2VzIiwibG93ZXIiLCJoaWdoZXIiLCJjcmVhdGVWYWx1ZVN0cmVhbSIsImd0ZSIsImx0ZSIsImdldFJvdyIsImRyb3AiLCJnZXRJbmRleCIsImdldExlbmd0aCIsImRlc3Ryb3kiLCJfV2ViU1FMU3RvcmUiLCJzaXplIiwiX3NpemUiLCJfZGIiLCJvcGVuRGF0YWJhc2UiLCJuZXh0S2V5IiwiX3NxbCIsImlfMSIsInNvcnQiLCJfY2hrVGFibGUiLCJhbGxvd1dyaXRlIiwic3FsIiwidHgiLCJleGVjdXRlU3FsIiwidHgyIiwicmVhZFRyYW5zYWN0aW9uIiwiX2IiLCJuZXdSb3ciLCJyXzEiLCJyXzIiLCJiYXRjaFJlYWQiLCJzdGFydElEWCIsInN0bW50IiwiX2V2YWxDb250ZXh0IiwiY29udGV4dCIsImNvbXBpbGVkIiwiX0luZGV4ZWREQlN0b3JlIiwidXNlV29ya2VyIiwiX3dvcmtlciIsIl93YWl0aW5nQ0JzIiwiX3VzZVdvcmtlciIsIl93IiwiV29ya2VyIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiQmxvYiIsIl9oYW5kbGVXV01lc3NhZ2UiLCJkbyIsImxpc3RlbmVyc18xIiwibXNnIiwibGlzdGVuZXIiLCJ0cmFuc2ZlciIsInBrS2V5cyIsIl9TeW5jU3RvcmUiLCJ1c2VMb2NhbFN0b3JhZ2UiLCJfcm93cyIsIl9scyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsIlRyaWUiLCJpbnB1dCIsIl90cmllIiwic2V0SW5kZXgiLCJ0cmllIiwiYWRkV29yZCIsIndvcmQiLCJwcmV2aW91c1ZhbHVlIiwiY3VycmVudFZhbHVlIiwiY3VycmVudEluZGV4IiwiYXJyYXkiLCJfYXBwZW5kIiwicmVtb3ZlV29yZCIsIl9jaGVja1ByZWZpeCIsInByZWZpeEZvdW5kIiwicHJlZml4Tm9kZSIsImdldFdvcmRzIiwiX3JlY3Vyc2VQcmVmaXgiLCJnZXRQcmVmaXgiLCJzdHJQcmVmaXgiLCJfaXNQcmVmaXgiLCJwcmVmaXgiLCJldmVyeSIsImFjY3VtdWxhdG9yIiwibm9kZSIsInByZWZpeGVzIiwiYnJhbmNoIiwicHJlZml4X3RyaWVfdHNfMSIsImFkYXB0ZXJfc3luY18xIiwiYWRhcHRlcl9pbmRleGVkREJfMSIsImFkYXB0ZXJfd2Vic3FsXzEiLCJhZGFwdGVyX2xldmVsREJfMSIsIl9OYW5vU1FMU3RvcmFnZSIsIl90YWJsZU5hbWVzIiwiX25zcWwiLCJfbW9kZSIsInBlcnNpc3RlbnQiLCJhZGFwdGVycyIsInRhYmxlSW5mbyIsIl90cmllSW5kZXhlcyIsIl9kb0NhY2hlIiwiY2FjaGUiLCJfY2FjaGUiLCJfY2FjaGVLZXlzIiwiYWRhcHRlciIsIndhaXRGb3JXcml0ZXMiLCJfZGV0ZWN0U3RvcmFnZU1ldGhvZCIsImRiUGF0aCIsImluaXQiLCJfY3JlYXRlU2Vjb25kYXJ5SW5kZXhUYWJsZXMiLCJfbmV3VGFibGUiLCJfcmVsRnJvbVRhYmxlIiwiX3JlbFRvVGFibGUiLCJfcmVsYXRpb25Db2x1bW5zIiwiX2NvbHVtbnNBcmVUYWJsZXMiLCJfdmlld1RhYmxlcyIsInBrQ29sdW1uIiwibWFwVG9fMSIsIl90b1RhYmxlIiwiX3RoaXNUeXBlIiwiX2hhc09STSIsIl90b0NvbHVtbiIsIl90b1R5cGUiLCJyZWwiLCJfdGhpc0NvbHVtbiIsIl9mcm9tVGFibGUiLCJfZnJvbUNvbHVtbiIsIl9mcm9tVHlwZSIsInNldE5TUUwiLCJ0cmllQ29sdW1ucyIsImlpIiwibmV4dENvbHVtbiIsImlkeFRhYmxlIiwiX2ludmFsaWRhdGVDYWNoZSIsInZhbGlkIiwicmVidWlsZEluZGV4ZXMiLCJzZWNvbmRJbmRleGVzIiwiX3NlY29uZGFyeUluZGV4ZXMiLCJpZHhEb25lIiwiX2Ryb3AiLCJfcGsiLCJpbmRleEdyb3VwcyIsIl9yZWFkIiwicm93S2V5IiwiYWRhcHRlcldyaXRlIiwiX3NlY29uZGFyeUluZGV4S2V5Iiwic3Vic3RyIiwiaW5kZXhlZERCIiwidGVybWluYXRlIiwiZGVsZXRlRGF0YWJhc2UiLCJfc2Vjb25kYXJ5SW5kZXhSZWFkIiwic2VhcmNoIiwiX3JhbmdlUmVhZCIsInVzZVBLcyIsInEiLCJrZWVwIiwiX3RyaWVSZWFkIiwid29yZHMiLCJhcnJheU9mUm93cyIsIl9jbGVhclNlY29uZGFyeUluZGV4ZXMiLCJza2lwQ29sdW1ucyIsIl9zZXRTZWNvbmRhcnlJbmRleGVzIiwiaW5kZXhSb3ciLCJfd3JpdGUiLCJvbGRSb3ciLCJzZXRSb3dfMSIsInNhbWVLZXlzXzEiLCJfZGVsZXRlIiwiYWRhcHRlckRlbGV0ZSIsImFkYXB0ZXJEcm9wIiwiX3RyaWVDb2x1bW5zIiwiY28iLCJoYXNJRFgiLCJfa2V5cyIsIl9kZWZhdWx0cyIsIl9uYW1lIiwiX2xvb3BfMiIsInRoaXNfMSIsImlzMm5kSW5kZXhfMSIsIl9oYXNWaWV3cyIsImNvbHVtbnMiLCJ0aGlzQ29sdW1uIiwib3RoZXJDb2x1bW4iLCJxdWVyeU9iaiIsInNlbGVjdCIsIl9zZWxlY3QiLCJ1cHNlcnQiLCJfdXBzZXJ0Iiwic2hvdyB0YWJsZXMiLCJfcXVlcnkiLCJfc3RvcmUiLCJkZXNjcmliZSIsIl9OYW5vU1FMU3RvcmFnZVF1ZXJ5IiwiZG9RdWVyeSIsIl9pc0luc3RhbmNlVGFibGUiLCJfZ2V0Um93cyIsIkluc3RhbmNlU2VsZWN0aW9uIiwiX1Jvd1NlbGVjdGlvbiIsIl9zZXRDYWNoZSIsIl9oYXNoIiwiY2FuQ2FjaGUiLCJvcm0iLCJfTXV0YXRlU2VsZWN0aW9uIiwiX2V4ZWN1dGVRdWVyeUFyZ3VtZW50cyIsIl91cGRhdGVPUk1Sb3dzIiwicmVsYXRpb24iLCJmcm9tUEtzIiwicHJpbWFyeUtleSIsImlkeE9mIiwiX3N5bmNPUk0iLCJvbGRSb3dzIiwibmV3Um93cyIsInVzZVJlbGF0aW9ucyIsImNudCIsImFycmEiLCJyZWxhdGlvbkRvbmUiLCJ2YWwxIiwidmFsMiIsImRlbFByaW1hcnlrZXkiLCJ1cGRhdGVJRHMiLCJwcmltYXJ5S2V5XzEiLCJhZGRJZHMiLCJyZW1vdmVJZHMiLCJsaXN0IiwiYWRkUmVsYXRpb24iLCJ2YWx1ZXNUb0FkZCIsIl91cGRhdGVSb3dWaWV3cyIsIm5ld1Jvd0RhdGEiLCJjb2wiLCJyZWZSb3dzIiwiX3VwZGF0ZVJlbW90ZVZpZXdzIiwidXBkYXRlZFJvd3MiLCJkb0RlbCIsInZpZXciLCJyZWxhdGVkUm93cyIsInJlbFBLIiwiclJvdyIsInJEb25lIiwiZG9VcGRhdGUiLCJyUGsiLCJfZG9BZnRlclF1ZXJ5IiwidXBkYXRlZENvbHVtbnMiLCJ3cml0ZV8xIiwiX2dyb3VwQnlDb2x1bW5zIiwiX2pvaW4iLCJqb2luQ29uZGl0aW9ucyIsIl9sZWZ0IiwiX2NoZWNrIiwiX3JpZ2h0IiwibGVmdFRhYmxlIiwicmlnaHRUYWJsZSIsIl9kb0pvaW4iLCJqb2luZWRSb3dzIiwiX3doZXJlIiwiX2dyb3VwQnlLZXkiLCJfZ3JvdXBCeSIsImdyb3VwQnkiLCJzb3J0ZWRSb3dzIiwiX3NvcnRPYmoiLCJncm91cEJ5S2V5IiwiX3NvcnRHcm91cHMiLCJfaGF2aW5nIiwiaGF2aW5nIiwiX29yZGVyQnkiLCJvcmRlckJ5IiwiX29mZnNldCIsIm9mZnNldCIsIl9saW1pdCIsImxpbWl0IiwiX29ybSIsIm9ybVF1ZXJpZXMiLCJyb3dSZXN1bHQiLCJvcm1SZXN1bHQiLCJyZWxhdGVEYXRhIiwiTCIsImZpcnN0VGFibGVEYXRhIiwic2Vjb25UYWJsZURhdGEiLCJkb0pvaW5Sb3dzIiwibGVmdFJvdyIsInJpZ2h0Um93Iiwiam9pblRhYmxlIiwicmlnaHRLZXkiLCJ1c2VkU2Vjb25kVGFibGVSb3dzIiwic2Vjb25kUm93Q2FjaGUiLCJmaXJzdFJvdyIsImhhc09uZVJlbGF0aW9uIiwic2Vjb25kUm93IiwiaWR4MiIsImtlZXAyIiwiYWRkUm93cyIsIm9iakEiLCJvYmpCIiwicmVzb2x2ZVBhdGhzIiwiQSIsIl9tdXRhdGVSb3dzIiwiY29sdW1uU2VsZWN0aW9uIiwiZnVuY3Rpb25SZXN1bHRzIiwiZm5Hcm91cEJ5UmVzdWx0cyIsImhhc0FnZ3JlZ2F0ZUZ1bl8xIiwiY29sdW1uRGF0YV8xIiwiY29sdW1uRG9uZSIsImZuQXJnc18xIiwiZm5Eb25lIiwiZG9NdWF0ZVJvd3MiLCJmblJlc3VsdHMiLCJoYXNGdW5jIiwiYWxpYXMiLCJvbmVSb3dfMSIsIm5ld1Jvd3NfMSIsInRoaXNSb3ciLCJpbnB1dFJvd3MiLCJhZnRlck11dGF0ZSIsImFmdGVyT1JNIiwiYWZ0ZXJKb2luIiwiX3NlbGVjdEJ5VHJpZSIsIl9zZWxlY3RCeVJhbmdlIiwiX2lzT3B0aW1pemVkV2hlcmUiLCJfc2VsZWN0QnlLZXlzIiwid2hlcmVTbGljZSIsIl9pc1N1Yk9wdGltaXplZFdoZXJlIiwiZmFzdFdoZXJlIiwic2xvd1doZXJlXzEiLCJfZnVsbFRhYmxlU2NhbiIsIl9zZWxlY3RSb3dzQnlJbmRleCIsInJlc3VsdFJvd3NfMSIsImxhc3RDb21tYW5kXzEiLCJ3QXJnIiwibmV4dFdBcmciLCJpZHhfMSIsInNlY29uZGFyeUluZGV4S2V5IiwiY291bnQiLCJmcm9tSWR4IiwidG9JZHgiLCJoYXNXaGVyZSIsImFycldoZXJlIiwid0FyZ3MiLCJsYXN0Q2hlY2tfMSIsInRhYmxlRGF0YSIsImZyb21fMSIsInRvXzEiLCJzaW5nbGVSb3ciLCJjb21tYW5kcyIsImNoZWNrV2hlcmVfMSIsIl9jb21wYXJlIiwiY29tcGFyZSIsInNldFZhbHVlIiwiY29sdW1uVmFsdWUiLCJnaXZlblZhbHVlIiwicXVlcnlfMSIsInN0b3JhZ2VfMSIsIl9xdWVyeVBvb2wiLCJfcXVlcnlQdHIiLCJuZXdNb2RlbHMiLCJkb0V4ZWMiLCJleGVjQXJncyIsImR1bXAiLCJleHBvcnRUYWJsZXMiLCJwa0tleSIsIm5TUUxpXzEiLCJ0YWJsZXNfMSIsInRpbWVzIiwiUlNFIiwidGhpc1EiLCJfcXVlcmllcyIsImJsYW5rUm93IiwicnVuUXVlcnkiLCJuZXdRIiwiX2lkXyIsImhhc0xlbmd0aCIsImV2ZW50XzEiLCJfQVYiLCJuZXdFIiwiZGVib3VuY2VUaW1lcnMiLCJxdWVyeUFjdGlvbiIsInF1ZXJ5QXJncyIsInByaW1hcnlLZXlzIiwiZGVib3VuY2UiLCJvcm1BcmdzIiwiX2Vycm9yIiwidHJpZVNlYXJjaCIsInN0cmluZ1RvU2VhcmNoIiwidG9DU1YiLCJoZWFkZXJzIiwianNvbiIsImRlbm9ybWFsaXphdGlvblF1ZXJ5IiwiZm5zVG9SdW5fMSIsImNvbHVtbnNfMSIsIm5ld1ZhbHVlIiwiZm5LZXkiLCJmbl8xIiwiUEtfMSIsImRlbm9ybWFsaXphdGlvbktleV8xIiwiY2xlYXJUaW1lb3V0IiwiaW5wdXRBcmdzXzEiLCJtb2RlbENvbHVtbnNfMSIsIl9uYW5vU3FsIiwiX25hbm9TcWxSZWFjdCIsIl9BY2NvdW50U3RhdHVzIiwidXNlcklkIiwiYXNuc3FsIiwiX0FjY291bnRTdGF0dXMyIiwiX2h5cGhlblBhdHRlcm4iLCJzdHJpbmciLCJfIiwiY2hhcmFjdGVyIiwiY2FtZWxpemUiLCJtc1BhdHRlcm4iLCJfdXBwZXJjYXNlUGF0dGVybiIsImh5cGhlbmF0ZSIsImRlZmF1bHRWaWV3Iiwib3duZXJEb2N1bWVudCIsIk5vZGUiLCJub2RlVHlwZSIsIm5vZGVOYW1lIiwiaXNOb2RlIiwiaXNUZXh0Tm9kZSIsImNvbnRhaW5zTm9kZSIsIm91dGVyTm9kZSIsImlubmVyTm9kZSIsInBhcmVudE5vZGUiLCJjb250YWlucyIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwieSIsImtleXNBIiwia2V5c0IiLCJkb2MiLCJhY3RpdmVFbGVtZW50IiwiYm9keSIsImNhblVzZURPTSIsIkV4ZWN1dGlvbkVudmlyb25tZW50IiwiY2FuVXNlV29ya2VycyIsImNhblVzZUV2ZW50TGlzdGVuZXJzIiwiYXR0YWNoRXZlbnQiLCJjYW5Vc2VWaWV3cG9ydCIsInNjcmVlbiIsImlzSW5Xb3JrZXIiLCJjaGVja1Byb3BUeXBlcyIsImdldEFjdGl2ZUVsZW1lbnQiLCJzaGFsbG93RXF1YWwiLCJoeXBoZW5hdGVTdHlsZU5hbWUiLCJjYW1lbGl6ZVN0eWxlTmFtZSIsImludm9rZUd1YXJkZWRDYWxsYmFjayIsIl9oYXNDYXVnaHRFcnJvciIsIl9jYXVnaHRFcnJvciIsImZ1bmNBcmdzIiwiZGlzcGF0Y2hFdmVudCIsImNyZWF0ZUV2ZW50IiwiZmFrZU5vZGUiLCJldnQiLCJkaWRFcnJvciIsImRpZFNldEVycm9yIiwiaXNDcm9zc09yaWdpbkVycm9yIiwiY29sbm8iLCJsaW5lbm8iLCJldnRUeXBlIiwiY2FsbENhbGxiYWNrIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImluaXRFdmVudCIsImludm9rZUd1YXJkZWRDYWxsYmFjayQxIiwiUmVhY3RFcnJvclV0aWxzIiwiX3JldGhyb3dFcnJvciIsIl9oYXNSZXRocm93RXJyb3IiLCJpbnZva2VHdWFyZGVkQ2FsbGJhY2tBbmRDYXRjaEZpcnN0RXJyb3IiLCJoYXNDYXVnaHRFcnJvciIsImNsZWFyQ2F1Z2h0RXJyb3IiLCJyZXRocm93Q2F1Z2h0RXJyb3IiLCJldmVudFBsdWdpbk9yZGVyIiwibmFtZXNUb1BsdWdpbnMiLCJyZWNvbXB1dGVQbHVnaW5PcmRlcmluZyIsInBsdWdpbk5hbWUiLCJwbHVnaW5Nb2R1bGUiLCJwbHVnaW5JbmRleCIsImV4dHJhY3RFdmVudHMiLCJwdWJsaXNoZWRFdmVudHMiLCJldmVudE5hbWUiLCJwdWJsaXNoRXZlbnRGb3JQbHVnaW4iLCJkaXNwYXRjaENvbmZpZyIsImV2ZW50TmFtZURpc3BhdGNoQ29uZmlncyIsInBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzIiwicGhhc2VOYW1lIiwicHVibGlzaFJlZ2lzdHJhdGlvbk5hbWUiLCJyZWdpc3RyYXRpb25OYW1lIiwicmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMiLCJyZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzIiwiZGVwZW5kZW5jaWVzIiwibG93ZXJDYXNlZE5hbWUiLCJwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzIiwib25kYmxjbGljayIsImluamVjdEV2ZW50UGx1Z2luT3JkZXIiLCJpbmplY3RlZEV2ZW50UGx1Z2luT3JkZXIiLCJpbmplY3RFdmVudFBsdWdpbnNCeU5hbWUiLCJpbmplY3RlZE5hbWVzVG9QbHVnaW5zIiwiaXNPcmRlcmluZ0RpcnR5IiwiRXZlbnRQbHVnaW5SZWdpc3RyeSIsImdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGUiLCJnZXRJbnN0YW5jZUZyb21Ob2RlIiwiZ2V0Tm9kZUZyb21JbnN0YW5jZSIsImluamVjdGlvbiQxIiwiSW5qZWN0ZWQiLCJ2YWxpZGF0ZUV2ZW50RGlzcGF0Y2hlcyIsImV4ZWN1dGVEaXNwYXRjaCIsInNpbXVsYXRlZCIsImluc3QiLCJjdXJyZW50VGFyZ2V0IiwiYWNjdW11bGF0ZUludG8iLCJjdXJyZW50IiwiZm9yRWFjaEFjY3VtdWxhdGVkIiwic2NvcGUiLCJkaXNwYXRjaExpc3RlbmVycyIsIl9kaXNwYXRjaExpc3RlbmVycyIsImRpc3BhdGNoSW5zdGFuY2VzIiwiX2Rpc3BhdGNoSW5zdGFuY2VzIiwibGlzdGVuZXJzSXNBcnIiLCJsaXN0ZW5lcnNMZW4iLCJpbnN0YW5jZXNJc0FyciIsImluc3RhbmNlc0xlbiIsImV2ZW50UXVldWUiLCJleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2UiLCJpc1Byb3BhZ2F0aW9uU3RvcHBlZCIsImV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlciIsImlzUGVyc2lzdGVudCIsInJlbGVhc2UiLCJleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2VTaW11bGF0ZWQiLCJleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2VUb3BMZXZlbCIsImluamVjdGlvbiIsImdldExpc3RlbmVyIiwic3RhdGVOb2RlIiwiZGlzYWJsZWQiLCJzaG91bGRQcmV2ZW50TW91c2VFdmVudCIsInJ1bkV2ZW50c0luQmF0Y2giLCJldmVudHMiLCJwcm9jZXNzaW5nRXZlbnRRdWV1ZSIsInJ1bkV4dHJhY3RlZEV2ZW50c0luQmF0Y2giLCJ0b3BMZXZlbFR5cGUiLCJ0YXJnZXRJbnN0IiwibmF0aXZlRXZlbnQiLCJuYXRpdmVFdmVudFRhcmdldCIsInBvc3NpYmxlUGx1Z2luIiwiZXh0cmFjdGVkRXZlbnRzIiwiRXZlbnRQbHVnaW5IdWIiLCJJbmRldGVybWluYXRlQ29tcG9uZW50IiwiRnVuY3Rpb25hbENvbXBvbmVudCIsIkNsYXNzQ29tcG9uZW50IiwiSG9zdFJvb3QiLCJIb3N0UG9ydGFsIiwiSG9zdENvbXBvbmVudCIsIkhvc3RUZXh0IiwiQ2FsbENvbXBvbmVudCIsIkNhbGxIYW5kbGVyUGhhc2UiLCJSZXR1cm5Db21wb25lbnQiLCJGcmFnbWVudCIsIk1vZGUiLCJDb250ZXh0Q29uc3VtZXIiLCJDb250ZXh0UHJvdmlkZXIiLCJGb3J3YXJkUmVmIiwicmFuZG9tS2V5IiwiaW50ZXJuYWxJbnN0YW5jZUtleSIsImludGVybmFsRXZlbnRIYW5kbGVyc0tleSIsInByZWNhY2hlRmliZXJOb2RlJDEiLCJob3N0SW5zdCIsImdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlIiwiZ2V0SW5zdGFuY2VGcm9tTm9kZSQxIiwiZ2V0Tm9kZUZyb21JbnN0YW5jZSQxIiwiZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZSQxIiwidXBkYXRlRmliZXJQcm9wcyQxIiwiUmVhY3RET01Db21wb25lbnRUcmVlIiwicHJlY2FjaGVGaWJlck5vZGUiLCJ1cGRhdGVGaWJlclByb3BzIiwiZ2V0UGFyZW50IiwidHJhdmVyc2VUd29QaGFzZSIsInRyYXZlcnNlRW50ZXJMZWF2ZSIsImFyZ0Zyb20iLCJhcmdUbyIsImNvbW1vbiIsImluc3RBIiwiaW5zdEIiLCJkZXB0aEEiLCJ0ZW1wQSIsImRlcHRoQiIsInRlbXBCIiwiZGVwdGgiLCJhbHRlcm5hdGUiLCJnZXRMb3dlc3RDb21tb25BbmNlc3RvciIsInBhdGhGcm9tIiwicGF0aFRvIiwiX2FsdGVybmF0ZSIsImFjY3VtdWxhdGVEaXJlY3Rpb25hbERpc3BhdGNoZXMiLCJwaGFzZSIsInByb3BhZ2F0aW9uUGhhc2UiLCJsaXN0ZW5lckF0UGhhc2UiLCJhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlIiwiX3RhcmdldEluc3QiLCJhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlU2tpcFRhcmdldCIsImFjY3VtdWxhdGVEaXNwYXRjaGVzIiwiaWdub3JlZERpcmVjdGlvbiIsImFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzU2luZ2xlIiwiYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyIsImFjY3VtdWxhdGVFbnRlckxlYXZlRGlzcGF0Y2hlcyIsImxlYXZlIiwiZW50ZXIiLCJFdmVudFByb3BhZ2F0b3JzIiwiYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NraXBUYXJnZXQiLCJhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlcyIsImNvbnRlbnRLZXkiLCJnZXRUZXh0Q29udGVudEFjY2Vzc29yIiwiY29tcG9zaXRpb25TdGF0ZSIsIl9yb290IiwiX3N0YXJ0VGV4dCIsIl9mYWxsYmFja1RleHQiLCJnZXREYXRhIiwic3RhcnRWYWx1ZSIsInN0YXJ0TGVuZ3RoIiwiZW5kVmFsdWUiLCJnZXRUZXh0IiwiZW5kTGVuZ3RoIiwibWluRW5kIiwic2xpY2VUYWlsIiwiZGlkV2FybkZvckFkZGVkTmV3UHJvcGVydHkiLCJFVkVOVF9QT09MX1NJWkUiLCJzaG91bGRCZVJlbGVhc2VkUHJvcGVydGllcyIsIkV2ZW50SW50ZXJmYWNlIiwiZXZlbnRQaGFzZSIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwidGltZVN0YW1wIiwiZGVmYXVsdFByZXZlbnRlZCIsImlzVHJ1c3RlZCIsIlN5bnRoZXRpY0V2ZW50IiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJJbnRlcmZhY2UiLCJwcm9wTmFtZSIsIm5vcm1hbGl6ZSIsImlzRGVmYXVsdFByZXZlbnRlZCIsImdldFBvb2xlZFdhcm5pbmdQcm9wZXJ0eURlZmluaXRpb24iLCJnZXRWYWwiLCJpc0Z1bmN0aW9uIiwid2FybiIsImdldFBvb2xlZEV2ZW50IiwibmF0aXZlSW5zdCIsImV2ZW50UG9vbCIsInJlbGVhc2VQb29sZWRFdmVudCIsImRlc3RydWN0b3IiLCJhZGRFdmVudFBvb2xpbmdUbyIsIkV2ZW50Q29uc3RydWN0b3IiLCJnZXRQb29sZWQiLCJjYW5jZWxCdWJibGUiLCJwZXJzaXN0IiwiU3VwZXIiLCJDbGFzcyIsIlByb3h5IiwiaXNTZWFsZWQiLCJjb25zdHJ1Y3QiLCJTeW50aGV0aWNFdmVudCQxIiwiU3ludGhldGljQ29tcG9zaXRpb25FdmVudCIsIlN5bnRoZXRpY0lucHV0RXZlbnQiLCJFTkRfS0VZQ09ERVMiLCJTVEFSVF9LRVlDT0RFIiwiY2FuVXNlQ29tcG9zaXRpb25FdmVudCIsImRvY3VtZW50TW9kZSIsImNhblVzZVRleHRJbnB1dEV2ZW50IiwidXNlRmFsbGJhY2tDb21wb3NpdGlvbkRhdGEiLCJTUEFDRUJBUl9DT0RFIiwiU1BBQ0VCQVJfQ0hBUiIsImJlZm9yZUlucHV0IiwiYnViYmxlZCIsImNhcHR1cmVkIiwiY29tcG9zaXRpb25FbmQiLCJjb21wb3NpdGlvblN0YXJ0IiwiY29tcG9zaXRpb25VcGRhdGUiLCJoYXNTcGFjZUtleXByZXNzIiwiaXNGYWxsYmFja0NvbXBvc2l0aW9uRW5kIiwia2V5Q29kZSIsImdldERhdGFGcm9tQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJpc0NvbXBvc2luZyIsImV4dHJhY3RDb21wb3NpdGlvbkV2ZW50IiwiZXZlbnRUeXBlIiwiZmFsbGJhY2tEYXRhIiwiZ2V0Q29tcG9zaXRpb25FdmVudFR5cGUiLCJpc0ZhbGxiYWNrQ29tcG9zaXRpb25TdGFydCIsImluaXRpYWxpemUiLCJjdXN0b21EYXRhIiwiZ2V0RmFsbGJhY2tCZWZvcmVJbnB1dENoYXJzIiwiY2hhcnMiLCJjdHJsS2V5IiwiYWx0S2V5IiwibWV0YUtleSIsImlzS2V5cHJlc3NDb21tYW5kIiwiY2hhciIsIndoaWNoIiwiZXh0cmFjdEJlZm9yZUlucHV0RXZlbnQiLCJnZXROYXRpdmVCZWZvcmVJbnB1dENoYXJzIiwiQmVmb3JlSW5wdXRFdmVudFBsdWdpbiIsImNvbXBvc2l0aW9uIiwiZmliZXJIb3N0Q29tcG9uZW50IiwicmVzdG9yZVRhcmdldCIsInJlc3RvcmVRdWV1ZSIsInJlc3RvcmVTdGF0ZU9mVGFyZ2V0IiwiaW50ZXJuYWxJbnN0YW5jZSIsInJlc3RvcmVDb250cm9sbGVkU3RhdGUiLCJpbmplY3Rpb24kMiIsImluamVjdEZpYmVyQ29udHJvbGxlZEhvc3RDb21wb25lbnQiLCJob3N0Q29tcG9uZW50SW1wbCIsImVucXVldWVTdGF0ZVJlc3RvcmUiLCJuZWVkc1N0YXRlUmVzdG9yZSIsInJlc3RvcmVTdGF0ZUlmTmVlZGVkIiwicXVldWVkVGFyZ2V0cyIsIlJlYWN0Q29udHJvbGxlZENvbXBvbmVudCIsIl9iYXRjaGVkVXBkYXRlcyIsImJvb2trZWVwaW5nIiwiX2ludGVyYWN0aXZlVXBkYXRlcyIsIl9mbHVzaEludGVyYWN0aXZlVXBkYXRlcyIsImlzQmF0Y2hpbmciLCJiYXRjaGVkVXBkYXRlcyIsImluamVjdGlvbiQzIiwicmVuZGVyZXIiLCJpbnRlcmFjdGl2ZVVwZGF0ZXMiLCJmbHVzaEludGVyYWN0aXZlVXBkYXRlcyIsInN1cHBvcnRlZElucHV0VHlwZXMiLCJjb2xvciIsImRhdGUiLCJkYXRldGltZSIsImRhdGV0aW1lLWxvY2FsIiwiZW1haWwiLCJtb250aCIsIm51bWJlciIsInBhc3N3b3JkIiwidGVsIiwidGV4dCIsInVybCIsIndlZWsiLCJpc1RleHRJbnB1dEVsZW1lbnQiLCJlbGVtIiwiRUxFTUVOVF9OT0RFIiwiVEVYVF9OT0RFIiwiQ09NTUVOVF9OT0RFIiwiRE9DVU1FTlRfTk9ERSIsIkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUiLCJnZXRFdmVudFRhcmdldCIsImNvcnJlc3BvbmRpbmdVc2VFbGVtZW50IiwiaXNFdmVudFN1cHBvcnRlZCIsImV2ZW50TmFtZVN1ZmZpeCIsImNhcHR1cmUiLCJpc1N1cHBvcnRlZCIsImVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJpc0NoZWNrYWJsZSIsImdldFRyYWNrZXIiLCJfdmFsdWVUcmFja2VyIiwidHJhY2siLCJ2YWx1ZUZpZWxkIiwiZ2V0VmFsdWUiLCJzdG9wVHJhY2tpbmciLCJkZXRhY2hUcmFja2VyIiwidHJhY2tWYWx1ZU9uTm9kZSIsInVwZGF0ZVZhbHVlSWZDaGFuZ2VkIiwidHJhY2tlciIsImxhc3RWYWx1ZSIsIm5leHRWYWx1ZSIsImNoZWNrZWQiLCJnZXRWYWx1ZUZyb21Ob2RlIiwiUmVhY3RJbnRlcm5hbHMiLCJfX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRCIsIlJlYWN0Q3VycmVudE93bmVyIiwiUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSIsImRlc2NyaWJlQ29tcG9uZW50RnJhbWUiLCJvd25lck5hbWUiLCJmaWxlTmFtZSIsImxpbmVOdW1iZXIiLCJoYXNTeW1ib2wiLCJSRUFDVF9FTEVNRU5UX1RZUEUiLCJSRUFDVF9DQUxMX1RZUEUiLCJSRUFDVF9SRVRVUk5fVFlQRSIsIlJFQUNUX1BPUlRBTF9UWVBFIiwiUkVBQ1RfRlJBR01FTlRfVFlQRSIsIlJFQUNUX1NUUklDVF9NT0RFX1RZUEUiLCJSRUFDVF9QUk9WSURFUl9UWVBFIiwiUkVBQ1RfQ09OVEVYVF9UWVBFIiwiUkVBQ1RfQVNZTkNfTU9ERV9UWVBFIiwiUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSIsIk1BWUJFX0lURVJBVE9SX1NZTUJPTCIsIkZBVVhfSVRFUkFUT1JfU1lNQk9MIiwiZ2V0SXRlcmF0b3JGbiIsIm1heWJlSXRlcmFibGUiLCJtYXliZUl0ZXJhdG9yIiwiZ2V0Q29tcG9uZW50TmFtZSIsImZpYmVyIiwiZGlzcGxheU5hbWUiLCJkZXNjcmliZUZpYmVyIiwib3duZXIiLCJfZGVidWdPd25lciIsIl9kZWJ1Z1NvdXJjZSIsImdldFN0YWNrQWRkZW5kdW1CeVdvcmtJblByb2dyZXNzRmliZXIiLCJ3b3JrSW5Qcm9ncmVzcyIsImluZm8iLCJnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDEiLCJSZWFjdERlYnVnQ3VycmVudEZpYmVyIiwicmVzZXRDdXJyZW50RmliZXIiLCJnZXRDdXJyZW50U3RhY2siLCJzZXRDdXJyZW50RmliZXIiLCJzZXRDdXJyZW50UGhhc2UiLCJnZXRDdXJyZW50RmliZXJPd25lck5hbWUiLCJnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtIiwiUkVTRVJWRUQiLCJCT09MRUFOSVNIX1NUUklORyIsIkJPT0xFQU4iLCJPVkVSTE9BREVEX0JPT0xFQU4iLCJOVU1FUklDIiwiUE9TSVRJVkVfTlVNRVJJQyIsIkFUVFJJQlVURV9OQU1FX1NUQVJUX0NIQVIiLCJBVFRSSUJVVEVfTkFNRV9DSEFSIiwiUk9PVF9BVFRSSUJVVEVfTkFNRSIsIlZBTElEX0FUVFJJQlVURV9OQU1FX1JFR0VYIiwiUmVnRXhwIiwiaWxsZWdhbEF0dHJpYnV0ZU5hbWVDYWNoZSIsInZhbGlkYXRlZEF0dHJpYnV0ZU5hbWVDYWNoZSIsImlzQXR0cmlidXRlTmFtZVNhZmUiLCJhdHRyaWJ1dGVOYW1lIiwic2hvdWxkSWdub3JlQXR0cmlidXRlIiwicHJvcGVydHlJbmZvIiwiaXNDdXN0b21Db21wb25lbnRUYWciLCJzaG91bGRSZW1vdmVBdHRyaWJ1dGVXaXRoV2FybmluZyIsImFjY2VwdHNCb29sZWFucyIsInNob3VsZFJlbW92ZUF0dHJpYnV0ZSIsImdldFByb3BlcnR5SW5mbyIsInByb3BlcnRpZXMiLCJQcm9wZXJ0eUluZm9SZWNvcmQiLCJtdXN0VXNlUHJvcGVydHkiLCJhdHRyaWJ1dGVOYW1lc3BhY2UiLCJwcm9wZXJ0eU5hbWUiLCJfcmVmIiwiQ0FNRUxJWkUiLCJjYXBpdGFsaXplIiwidG9rZW4iLCJnZXRWYWx1ZUZvclByb3BlcnR5IiwiZXhwZWN0ZWQiLCJzdHJpbmdWYWx1ZSIsImhhc0F0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZSIsImdldFZhbHVlRm9yQXR0cmlidXRlIiwic2V0VmFsdWVGb3JQcm9wZXJ0eSIsIl9hdHRyaWJ1dGVOYW1lIiwicmVtb3ZlQXR0cmlidXRlIiwiX3R5cGUiLCJhdHRyaWJ1dGVWYWx1ZSIsInNldEF0dHJpYnV0ZU5TIiwidGFiSW5kZXgiLCJSZWFjdENvbnRyb2xsZWRWYWx1ZVByb3BUeXBlcyIsImhhc1JlYWRPbmx5VmFsdWUiLCJidXR0b24iLCJjaGVja2JveCIsImltYWdlIiwiaGlkZGVuIiwicmFkaW8iLCJyZXNldCIsInN1Ym1pdCIsInByb3BUeXBlcyIsInJlYWRPbmx5IiwidGFnTmFtZSIsImRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSIsImRpZFdhcm5DaGVja2VkRGVmYXVsdENoZWNrZWQiLCJkaWRXYXJuQ29udHJvbGxlZFRvVW5jb250cm9sbGVkIiwiZGlkV2FyblVuY29udHJvbGxlZFRvQ29udHJvbGxlZCIsImlzQ29udHJvbGxlZCIsImdldEhvc3RQcm9wcyIsImRlZmF1bHRDaGVja2VkIiwiZGVmYXVsdFZhbHVlIiwiX3dyYXBwZXJTdGF0ZSIsImluaXRpYWxDaGVja2VkIiwiaW5pdFdyYXBwZXJTdGF0ZSIsImluaXRpYWxWYWx1ZSIsImdldFNhZmVWYWx1ZSIsImNvbnRyb2xsZWQiLCJ1cGRhdGVDaGVja2VkIiwidXBkYXRlV3JhcHBlciIsIl9jb250cm9sbGVkIiwic2V0RGVmYXVsdFZhbHVlIiwicG9zdE1vdW50V3JhcHBlciIsInJvb3ROb2RlIiwicXVlcnlSb290IiwiZ3JvdXAiLCJxdWVyeVNlbGVjdG9yQWxsIiwib3RoZXJOb2RlIiwiZm9ybSIsIm90aGVyUHJvcHMiLCJ1cGRhdGVOYW1lZENvdXNpbnMiLCJldmVudFR5cGVzJDEiLCJjaGFuZ2UiLCJjcmVhdGVBbmRBY2N1bXVsYXRlQ2hhbmdlRXZlbnQiLCJhY3RpdmVFbGVtZW50SW5zdCIsInJ1bkV2ZW50SW5CYXRjaCIsImdldEluc3RJZlZhbHVlQ2hhbmdlZCIsImdldFRhcmdldEluc3RGb3JDaGFuZ2VFdmVudCIsImlzSW5wdXRFdmVudFN1cHBvcnRlZCIsInN0b3BXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlIiwiZGV0YWNoRXZlbnQiLCJoYW5kbGVQcm9wZXJ0eUNoYW5nZSIsIm1hbnVhbERpc3BhdGNoQ2hhbmdlRXZlbnQiLCJoYW5kbGVFdmVudHNGb3JJbnB1dEV2ZW50UG9seWZpbGwiLCJzdGFydFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UiLCJnZXRUYXJnZXRJbnN0Rm9ySW5wdXRFdmVudFBvbHlmaWxsIiwiZ2V0VGFyZ2V0SW5zdEZvckNsaWNrRXZlbnQiLCJnZXRUYXJnZXRJbnN0Rm9ySW5wdXRPckNoYW5nZUV2ZW50IiwiQ2hhbmdlRXZlbnRQbHVnaW4iLCJfaXNJbnB1dEV2ZW50U3VwcG9ydGVkIiwidGFyZ2V0Tm9kZSIsImdldFRhcmdldEluc3RGdW5jIiwiaGFuZGxlRXZlbnRGdW5jIiwic2hvdWxkVXNlQ2xpY2tFdmVudCIsImhhbmRsZUNvbnRyb2xsZWRJbnB1dEJsdXIiLCJTeW50aGV0aWNVSUV2ZW50IiwibW9kaWZpZXJLZXlUb1Byb3AiLCJBbHQiLCJDb250cm9sIiwiTWV0YSIsIlNoaWZ0IiwibW9kaWZpZXJTdGF0ZUdldHRlciIsImtleUFyZyIsImdldE1vZGlmaWVyU3RhdGUiLCJrZXlQcm9wIiwiZ2V0RXZlbnRNb2RpZmllclN0YXRlIiwiU3ludGhldGljTW91c2VFdmVudCIsInNjcmVlblgiLCJzY3JlZW5ZIiwiY2xpZW50WCIsImNsaWVudFkiLCJwYWdlWCIsInBhZ2VZIiwic2hpZnRLZXkiLCJidXR0b25zIiwicmVsYXRlZFRhcmdldCIsImZyb21FbGVtZW50Iiwic3JjRWxlbWVudCIsInRvRWxlbWVudCIsImV2ZW50VHlwZXMkMiIsIm1vdXNlRW50ZXIiLCJtb3VzZUxlYXZlIiwiRW50ZXJMZWF2ZUV2ZW50UGx1Z2luIiwid2luIiwicGFyZW50V2luZG93IiwicmVsYXRlZCIsImZyb21Ob2RlIiwidG9Ob2RlIiwiX3JlYWN0SW50ZXJuYWxGaWJlciIsIk5vRWZmZWN0IiwiUGVyZm9ybWVkV29yayIsIlBsYWNlbWVudCIsIlVwZGF0ZSIsIlBsYWNlbWVudEFuZFVwZGF0ZSIsIkRlbGV0aW9uIiwiQ29udGVudFJlc2V0IiwiQ2FsbGJhY2siLCJEaWRDYXB0dXJlIiwiUmVmIiwiRXJyTG9nIiwiU25hcHNob3QiLCJIb3N0RWZmZWN0TWFzayIsIkluY29tcGxldGUiLCJTaG91bGRDYXB0dXJlIiwiTU9VTlRJTkciLCJNT1VOVEVEIiwiVU5NT1VOVEVEIiwiaXNGaWJlck1vdW50ZWRJbXBsIiwiZWZmZWN0VGFnIiwiaXNGaWJlck1vdW50ZWQiLCJpc01vdW50ZWQiLCJjb21wb25lbnQiLCJvd25lckZpYmVyIiwiX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyIiwiYXNzZXJ0SXNNb3VudGVkIiwiZmluZEN1cnJlbnRGaWJlclVzaW5nU2xvd1BhdGgiLCJwYXJlbnRBIiwicGFyZW50QiIsImNoaWxkIiwic2libGluZyIsImRpZEZpbmRDaGlsZCIsIl9jaGlsZCIsIlN5bnRoZXRpY0FuaW1hdGlvbkV2ZW50IiwiYW5pbWF0aW9uTmFtZSIsImVsYXBzZWRUaW1lIiwicHNldWRvRWxlbWVudCIsIlN5bnRoZXRpY0NsaXBib2FyZEV2ZW50IiwiY2xpcGJvYXJkRGF0YSIsIlN5bnRoZXRpY0ZvY3VzRXZlbnQiLCJnZXRFdmVudENoYXJDb2RlIiwiY2hhckNvZGUiLCJub3JtYWxpemVLZXkiLCJFc2MiLCJTcGFjZWJhciIsIkxlZnQiLCJVcCIsIlJpZ2h0IiwiRG93biIsIkRlbCIsIldpbiIsIk1lbnUiLCJBcHBzIiwiU2Nyb2xsIiwiTW96UHJpbnRhYmxlS2V5IiwidHJhbnNsYXRlVG9LZXkiLCI4IiwiOSIsIjEyIiwiMTMiLCIxNiIsIjE3IiwiMTgiLCIxOSIsIjIwIiwiMjciLCIzMiIsIjMzIiwiMzQiLCIzNSIsIjM2IiwiMzciLCIzOCIsIjM5IiwiNDAiLCI0NSIsIjQ2IiwiMTEyIiwiMTEzIiwiMTE0IiwiMTE1IiwiMTE2IiwiMTE3IiwiMTE4IiwiMTE5IiwiMTIwIiwiMTIxIiwiMTIyIiwiMTIzIiwiMTQ0IiwiMTQ1IiwiMjI0IiwiU3ludGhldGljS2V5Ym9hcmRFdmVudCIsInJlcGVhdCIsImxvY2FsZSIsIlN5bnRoZXRpY0RyYWdFdmVudCIsImRhdGFUcmFuc2ZlciIsIlN5bnRoZXRpY1RvdWNoRXZlbnQiLCJ0b3VjaGVzIiwidGFyZ2V0VG91Y2hlcyIsImNoYW5nZWRUb3VjaGVzIiwiU3ludGhldGljVHJhbnNpdGlvbkV2ZW50IiwiU3ludGhldGljV2hlZWxFdmVudCIsImRlbHRhWCIsIndoZWVsRGVsdGFYIiwiZGVsdGFZIiwid2hlZWxEZWx0YVkiLCJ3aGVlbERlbHRhIiwiZGVsdGFaIiwiZGVsdGFNb2RlIiwiZXZlbnRUeXBlcyQ0IiwidG9wTGV2ZWxFdmVudHNUb0Rpc3BhdGNoQ29uZmlnIiwiYWRkRXZlbnRUeXBlTmFtZVRvQ29uZmlnIiwiaXNJbnRlcmFjdGl2ZSIsImNhcGl0YWxpemVkRXZlbnQiLCJvbkV2ZW50IiwidG9wRXZlbnQiLCJldmVudFR5cGVOYW1lIiwia25vd25IVE1MVG9wTGV2ZWxUeXBlcyIsIlNpbXBsZUV2ZW50UGx1Z2luIiwiaXNJbnRlcmFjdGl2ZVRvcExldmVsRXZlbnRUeXBlIiwiQ0FMTEJBQ0tfQk9PS0tFRVBJTkdfUE9PTF9TSVpFIiwiY2FsbGJhY2tCb29ra2VlcGluZ1Bvb2wiLCJmaW5kUm9vdENvbnRhaW5lck5vZGUiLCJjb250YWluZXJJbmZvIiwiaGFuZGxlVG9wTGV2ZWwiLCJib29rS2VlcGluZyIsImFuY2VzdG9yIiwiYW5jZXN0b3JzIiwicm9vdCIsIl9lbmFibGVkIiwic2V0RW5hYmxlZCIsImVuYWJsZWQiLCJpc0VuYWJsZWQiLCJ0cmFwQnViYmxlZEV2ZW50IiwiaGFuZGxlckJhc2VOYW1lIiwiYWRkRXZlbnRCdWJibGVMaXN0ZW5lciIsImRpc3BhdGNoSW50ZXJhY3RpdmVFdmVudCIsInRyYXBDYXB0dXJlZEV2ZW50IiwiYWRkRXZlbnRDYXB0dXJlTGlzdGVuZXIiLCJnZXRUb3BMZXZlbENhbGxiYWNrQm9va0tlZXBpbmciLCJSZWFjdERPTUV2ZW50TGlzdGVuZXIiLCJtYWtlUHJlZml4TWFwIiwic3R5bGVQcm9wIiwidmVuZG9yUHJlZml4ZXMiLCJhbmltYXRpb25lbmQiLCJhbmltYXRpb25pdGVyYXRpb24iLCJhbmltYXRpb25zdGFydCIsInRyYW5zaXRpb25lbmQiLCJwcmVmaXhlZEV2ZW50TmFtZXMiLCJnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZSIsInByZWZpeE1hcCIsImFuaW1hdGlvbiIsInRyYW5zaXRpb24iLCJ0b3BMZXZlbFR5cGVzIiwidG9wQW5pbWF0aW9uRW5kIiwidG9wQW5pbWF0aW9uSXRlcmF0aW9uIiwidG9wQW5pbWF0aW9uU3RhcnQiLCJ0b3BCbHVyIiwidG9wQ2FuY2VsIiwidG9wQ2hhbmdlIiwidG9wQ2xpY2siLCJ0b3BDbG9zZSIsInRvcENvbXBvc2l0aW9uRW5kIiwidG9wQ29tcG9zaXRpb25TdGFydCIsInRvcENvbXBvc2l0aW9uVXBkYXRlIiwidG9wQ29udGV4dE1lbnUiLCJ0b3BDb3B5IiwidG9wQ3V0IiwidG9wRG91YmxlQ2xpY2siLCJ0b3BEcmFnIiwidG9wRHJhZ0VuZCIsInRvcERyYWdFbnRlciIsInRvcERyYWdFeGl0IiwidG9wRHJhZ0xlYXZlIiwidG9wRHJhZ092ZXIiLCJ0b3BEcmFnU3RhcnQiLCJ0b3BEcm9wIiwidG9wRm9jdXMiLCJ0b3BJbnB1dCIsInRvcEtleURvd24iLCJ0b3BLZXlQcmVzcyIsInRvcEtleVVwIiwidG9wTG9hZCIsInRvcExvYWRTdGFydCIsInRvcE1vdXNlRG93biIsInRvcE1vdXNlTW92ZSIsInRvcE1vdXNlT3V0IiwidG9wTW91c2VPdmVyIiwidG9wTW91c2VVcCIsInRvcFBhc3RlIiwidG9wU2Nyb2xsIiwidG9wU2VsZWN0aW9uQ2hhbmdlIiwidG9wVGV4dElucHV0IiwidG9wVG9nZ2xlIiwidG9wVG91Y2hDYW5jZWwiLCJ0b3BUb3VjaEVuZCIsInRvcFRvdWNoTW92ZSIsInRvcFRvdWNoU3RhcnQiLCJ0b3BUcmFuc2l0aW9uRW5kIiwidG9wV2hlZWwiLCJtZWRpYUV2ZW50VHlwZXMiLCJ0b3BBYm9ydCIsInRvcENhblBsYXkiLCJ0b3BDYW5QbGF5VGhyb3VnaCIsInRvcER1cmF0aW9uQ2hhbmdlIiwidG9wRW1wdGllZCIsInRvcEVuY3J5cHRlZCIsInRvcEVuZGVkIiwidG9wRXJyb3IiLCJ0b3BMb2FkZWREYXRhIiwidG9wTG9hZGVkTWV0YWRhdGEiLCJ0b3BQYXVzZSIsInRvcFBsYXkiLCJ0b3BQbGF5aW5nIiwidG9wUHJvZ3Jlc3MiLCJ0b3BSYXRlQ2hhbmdlIiwidG9wU2Vla2VkIiwidG9wU2Vla2luZyIsInRvcFN0YWxsZWQiLCJ0b3BTdXNwZW5kIiwidG9wVGltZVVwZGF0ZSIsInRvcFZvbHVtZUNoYW5nZSIsInRvcFdhaXRpbmciLCJhbHJlYWR5TGlzdGVuaW5nVG8iLCJyZWFjdFRvcExpc3RlbmVyc0NvdW50ZXIiLCJ0b3BMaXN0ZW5lcnNJREtleSIsImdldExpc3RlbmluZ0ZvckRvY3VtZW50IiwibW91bnRBdCIsImdldExlYWZOb2RlIiwiZmlyc3RDaGlsZCIsImdldFNpYmxpbmdOb2RlIiwibmV4dFNpYmxpbmciLCJnZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0Iiwibm9kZVN0YXJ0Iiwibm9kZUVuZCIsInRleHRDb250ZW50IiwiZ2V0T2Zmc2V0cyIsInNlbGVjdGlvbiIsImdldFNlbGVjdGlvbiIsInJhbmdlQ291bnQiLCJhbmNob3JOb2RlIiwiYW5jaG9yT2Zmc2V0IiwiZm9jdXNOb2RlIiwiZm9jdXNPZmZzZXQiLCJpbmRleFdpdGhpbkFuY2hvciIsImluZGV4V2l0aGluRm9jdXMiLCJvdXRlciIsIm5vZGVWYWx1ZSIsImdldE1vZGVybk9mZnNldHNGcm9tUG9pbnRzIiwiaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzIiwiY29udGVudEVkaXRhYmxlIiwiZ2V0U2VsZWN0aW9uSW5mb3JtYXRpb24iLCJmb2N1c2VkRWxlbSIsInNlbGVjdGlvblJhbmdlIiwic2VsZWN0aW9uU3RhcnQiLCJzZWxlY3Rpb25FbmQiLCJnZXRTZWxlY3Rpb24kMSIsInJlc3RvcmVTZWxlY3Rpb24iLCJwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uIiwiY3VyRm9jdXNlZEVsZW0iLCJwcmlvckZvY3VzZWRFbGVtIiwicHJpb3JTZWxlY3Rpb25SYW5nZSIsIm9mZnNldHMiLCJ0ZW1wIiwic3RhcnRNYXJrZXIiLCJlbmRNYXJrZXIiLCJjcmVhdGVSYW5nZSIsInNldFN0YXJ0IiwicmVtb3ZlQWxsUmFuZ2VzIiwiYWRkUmFuZ2UiLCJzZXRFbmQiLCJzZXRPZmZzZXRzIiwic2V0U2VsZWN0aW9uIiwibGVmdCIsInNjcm9sbExlZnQiLCJ0b3AiLCJzY3JvbGxUb3AiLCJmb2N1cyIsInNraXBTZWxlY3Rpb25DaGFuZ2VFdmVudCIsImV2ZW50VHlwZXMkMyIsImFjdGl2ZUVsZW1lbnQkMSIsImFjdGl2ZUVsZW1lbnRJbnN0JDEiLCJsYXN0U2VsZWN0aW9uIiwibW91c2VEb3duIiwiY29uc3RydWN0U2VsZWN0RXZlbnQiLCJjdXJyZW50U2VsZWN0aW9uIiwic3ludGhldGljRXZlbnQiLCJTZWxlY3RFdmVudFBsdWdpbiIsImlzTGlzdGVuaW5nIiwiZGVwZW5kZW5jeSIsImlzTGlzdGVuaW5nVG9BbGxEZXBlbmRlbmNpZXMiLCJNQVhfU0lHTkVEXzMxX0JJVF9JTlQiLCJOb1dvcmsiLCJTeW5jIiwiTmV2ZXIiLCJVTklUX1NJWkUiLCJNQUdJQ19OVU1CRVJfT0ZGU0VUIiwibXNUb0V4cGlyYXRpb25UaW1lIiwiZXhwaXJhdGlvblRpbWVUb01zIiwiZXhwaXJhdGlvblRpbWUiLCJjb21wdXRlRXhwaXJhdGlvbkJ1Y2tldCIsImN1cnJlbnRUaW1lIiwiZXhwaXJhdGlvbkluTXMiLCJidWNrZXRTaXplTXMiLCJwcmVjaXNpb24iLCJOb0NvbnRleHQiLCJBc3luY01vZGUiLCJTdHJpY3RNb2RlIiwiaGFzQmFkTWFwUG9seWZpbGwiLCJub25FeHRlbnNpYmxlT2JqZWN0IiwidGVzdE1hcCIsIk1hcCIsInRlc3RTZXQiLCJTZXQiLCJkZWJ1Z0NvdW50ZXIiLCJjcmVhdGVGaWJlciIsInBlbmRpbmdQcm9wcyIsInJlZiIsIm1lbW9pemVkUHJvcHMiLCJ1cGRhdGVRdWV1ZSIsIm1lbW9pemVkU3RhdGUiLCJuZXh0RWZmZWN0IiwiZmlyc3RFZmZlY3QiLCJsYXN0RWZmZWN0IiwiX2RlYnVnSUQiLCJfZGVidWdJc0N1cnJlbnRseVRpbWluZyIsImNyZWF0ZVdvcmtJblByb2dyZXNzIiwiY3JlYXRlRmliZXJGcm9tRWxlbWVudCIsIl9vd25lciIsImZpYmVyVGFnIiwiaXNSZWFjdENvbXBvbmVudCIsImNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50IiwiY2hpbGRyZW4iLCIkJHR5cGVvZiIsInRocm93T25JbnZhbGlkRWxlbWVudFR5cGUiLCJfc291cmNlIiwiZWxlbWVudHMiLCJjcmVhdGVGaWJlckZyb21UZXh0IiwiY29udGVudCIsImNyZWF0ZUZpYmVyRnJvbVBvcnRhbCIsInBvcnRhbCIsInBlbmRpbmdDaGlsZHJlbiIsImltcGxlbWVudGF0aW9uIiwiYXNzaWduRmliZXJQcm9wZXJ0aWVzSW5ERVYiLCJjcmVhdGVGaWJlclJvb3QiLCJpc0FzeW5jIiwiaHlkcmF0ZSIsInVuaW5pdGlhbGl6ZWRGaWJlciIsImNyZWF0ZUhvc3RSb290RmliZXIiLCJwZW5kaW5nQ29tbWl0RXhwaXJhdGlvblRpbWUiLCJmaW5pc2hlZFdvcmsiLCJwZW5kaW5nQ29udGV4dCIsInJlbWFpbmluZ0V4cGlyYXRpb25UaW1lIiwiZmlyc3RCYXRjaCIsIm5leHRTY2hlZHVsZWRSb290Iiwib25Db21taXRGaWJlclJvb3QiLCJvbkNvbW1pdEZpYmVyVW5tb3VudCIsImhhc0xvZ2dlZEVycm9yIiwiY2F0Y2hFcnJvcnMiLCJvbkNvbW1pdFJvb3QiLCJvbkNvbW1pdFVubW91bnQiLCJsb3dQcmlvcml0eVdhcm5pbmckMSIsIlJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzIiwiZGlzY2FyZFBlbmRpbmdXYXJuaW5ncyIsImZsdXNoUGVuZGluZ0RlcHJlY2F0aW9uV2FybmluZ3MiLCJmbHVzaFBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyIsInJlY29yZERlcHJlY2F0aW9uV2FybmluZ3MiLCJyZWNvcmRVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyIsIkxJRkVDWUNMRV9TVUdHRVNUSU9OUyIsIlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQiLCJVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlIiwicGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzIiwicGVuZGluZ0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncyIsInBlbmRpbmdDb21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MiLCJwZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MiLCJkaWRXYXJuQWJvdXREZXByZWNhdGVkTGlmZWN5Y2xlcyIsImRpZFdhcm5BYm91dFVuc2FmZUxpZmVjeWNsZXMiLCJsaWZlY3ljbGVXYXJuaW5nc01hcCIsInN0cmljdFJvb3QiLCJsaWZlY3ljbGVzV2FybmluZ01lc2FnZXMiLCJsaWZlY3ljbGUiLCJsaWZlY3ljbGVXYXJuaW5ncyIsImNvbXBvbmVudE5hbWVzIiwiZm9ybWF0dGVkIiwic3VnZ2VzdGlvbiIsInNvcnRlZENvbXBvbmVudE5hbWVzIiwic3RyaWN0Um9vdENvbXBvbmVudFN0YWNrIiwidW5pcXVlTmFtZXMiLCJzb3J0ZWROYW1lcyIsIl91bmlxdWVOYW1lcyIsIl9zb3J0ZWROYW1lcyIsIl91bmlxdWVOYW1lczIiLCJfc29ydGVkTmFtZXMyIiwiX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJjb21wb25lbnRXaWxsVXBkYXRlIiwibWF5YmVTdHJpY3RSb290IiwiZ2V0U3RyaWN0Um9vdCIsIndhcm5pbmdzRm9yUm9vdCIsInVuc2FmZUxpZmVjeWNsZXMiLCJlbmFibGVVc2VyVGltaW5nQVBJIiwiZW5hYmxlTXV0YXRpbmdSZWNvbmNpbGVyIiwiZW5hYmxlUGVyc2lzdGVudFJlY29uY2lsZXIiLCJlbmFibGVHZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2giLCJkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHMiLCJkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHNGb3JTdHJpY3RNb2RlIiwicmVwbGF5RmFpbGVkVW5pdE9mV29ya1dpdGhJbnZva2VHdWFyZGVkQ2FsbGJhY2siLCJ3YXJuQWJvdXREZXByZWNhdGVkTGlmZWN5Y2xlcyIsInN1cHBvcnRzVXNlclRpbWluZyIsInBlcmZvcm1hbmNlIiwibWFyayIsImNsZWFyTWFya3MiLCJtZWFzdXJlIiwiY2xlYXJNZWFzdXJlcyIsImN1cnJlbnRGaWJlciIsImN1cnJlbnRQaGFzZSIsImN1cnJlbnRQaGFzZUZpYmVyIiwiaXNDb21taXR0aW5nIiwiaGFzU2NoZWR1bGVkVXBkYXRlSW5DdXJyZW50Q29tbWl0IiwiaGFzU2NoZWR1bGVkVXBkYXRlSW5DdXJyZW50UGhhc2UiLCJjb21taXRDb3VudEluQ3VycmVudFdvcmtMb29wIiwiZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQiLCJpc1dhaXRpbmdGb3JDYWxsYmFjayIsImxhYmVsc0luQ3VycmVudENvbW1pdCIsImZvcm1hdE1hcmtOYW1lIiwibWFya05hbWUiLCJyZWFjdEVtb2ppIiwiYmVnaW5NYXJrIiwiZW5kTWFyayIsImxhYmVsIiwid2FybmluZyQkMSIsImZvcm1hdHRlZE1hcmtOYW1lIiwiZm9ybWF0dGVkTGFiZWwiLCJ3YXJuaW5nRW1vamkiLCJmb3JtYXRMYWJlbCIsImdldEZpYmVyTWFya05hbWUiLCJkZWJ1Z0lEIiwiZ2V0RmliZXJMYWJlbCIsImJlZ2luRmliZXJNYXJrIiwiY2xlYXJGaWJlck1hcmsiLCJjbGVhck1hcmsiLCJlbmRGaWJlck1hcmsiLCJzaG91bGRJZ25vcmVGaWJlciIsImNsZWFyUGVuZGluZ1BoYXNlTWVhc3VyZW1lbnQiLCJwYXVzZVRpbWVycyIsInJlc3VtZVRpbWVyc1JlY3Vyc2l2ZWx5IiwicmVzdW1lVGltZXJzIiwicmVjb3JkRWZmZWN0IiwicmVjb3JkU2NoZWR1bGVVcGRhdGUiLCJjYW5jZWxXb3JrVGltZXIiLCJzdG9wV29ya1RpbWVyIiwic3RvcEZhaWxlZFdvcmtUaW1lciIsInN0YXJ0UGhhc2VUaW1lciIsInN0b3BQaGFzZVRpbWVyIiwic3RvcFdvcmtMb29wVGltZXIiLCJpbnRlcnJ1cHRlZEJ5IiwiZGlkQ29tcGxldGVSb290Iiwic3RhcnRDb21taXRUaW1lciIsImNsZWFyIiwic3RvcENvbW1pdFRpbWVyIiwiZGlkV2FyblVwZGF0ZUluc2lkZVVwZGF0ZSIsImNyZWF0ZVVwZGF0ZVF1ZXVlIiwiYmFzZVN0YXRlIiwicXVldWUiLCJmaXJzdCIsImxhc3QiLCJjYWxsYmFja0xpc3QiLCJoYXNGb3JjZVVwZGF0ZSIsImlzSW5pdGlhbGl6ZWQiLCJjYXB0dXJlZFZhbHVlcyIsImlzUHJvY2Vzc2luZyIsImluc2VydFVwZGF0ZUludG9RdWV1ZSIsInVwZGF0ZSIsInExIiwicTIiLCJlbnN1cmVVcGRhdGVRdWV1ZXMiLCJhbHRlcm5hdGVGaWJlciIsInF1ZXVlMSIsInF1ZXVlMiIsImluc2VydFVwZGF0ZUludG9GaWJlciIsImdldFN0YXRlRnJvbVVwZGF0ZSIsInByZXZTdGF0ZSIsInBhcnRpYWxTdGF0ZSIsInByb2Nlc3NVcGRhdGVRdWV1ZSIsInJlbmRlckV4cGlyYXRpb25UaW1lIiwiY3VycmVudFF1ZXVlIiwiZG9udE11dGF0ZVByZXZTdGF0ZSIsImRpZFNraXAiLCJ1cGRhdGVFeHBpcmF0aW9uVGltZSIsIl9wYXJ0aWFsU3RhdGUiLCJpc1JlcGxhY2UiLCJpc0ZvcmNlZCIsIl9jYWxsYmFja0xpc3QiLCJjYXB0dXJlZFZhbHVlIiwiX2NhcHR1cmVkVmFsdWVzIiwiY29tbWl0Q2FsbGJhY2tzIiwiX2NhbGxiYWNrIiwid2Fybk9uSW52YWxpZENhbGxiYWNrJDEiLCJmYWtlSW50ZXJuYWxJbnN0YW5jZSIsImRpZFdhcm5BYm91dFN0YXRlQXNzaWdubWVudEZvckNvbXBvbmVudCIsImRpZFdhcm5BYm91dFVuZGVmaW5lZERlcml2ZWRTdGF0ZSIsImRpZFdhcm5BYm91dFVuaW5pdGlhbGl6ZWRTdGF0ZSIsImRpZFdhcm5BYm91dEdldFNuYXBzaG90QmVmb3JlVXBkYXRlV2l0aG91dERpZFVwZGF0ZSIsImRpZFdhcm5BYm91dExlZ2FjeUxpZmVjeWNsZXNBbmREZXJpdmVkU3RhdGUiLCJkaWRXYXJuT25JbnZhbGlkQ2FsbGJhY2siLCJjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoIiwiY3RvciIsInJlc3VsdFN0YXRlIiwiZ2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoIiwiY2FsbGVyTmFtZSIsIlJlYWN0RmliZXJDbGFzc0NvbXBvbmVudCIsImxlZ2FjeUNvbnRleHQiLCJzY2hlZHVsZVdvcmsiLCJjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyIiwibWVtb2l6ZVByb3BzIiwibWVtb2l6ZVN0YXRlIiwiY2FjaGVDb250ZXh0IiwiZ2V0TWFza2VkQ29udGV4dCIsImdldFVubWFza2VkQ29udGV4dCIsImlzQ29udGV4dENvbnN1bWVyIiwiaGFzQ29udGV4dENoYW5nZWQiLCJ1cGRhdGVyIiwiZW5xdWV1ZVNldFN0YXRlIiwiZW5xdWV1ZVJlcGxhY2VTdGF0ZSIsImVucXVldWVGb3JjZVVwZGF0ZSIsImNoZWNrU2hvdWxkQ29tcG9uZW50VXBkYXRlIiwib2xkUHJvcHMiLCJuZXdQcm9wcyIsIm9sZFN0YXRlIiwibmV3U3RhdGUiLCJuZXdDb250ZXh0Iiwic2hvdWxkQ29tcG9uZW50VXBkYXRlIiwic2hvdWxkVXBkYXRlIiwiaXNQdXJlUmVhY3RDb21wb25lbnQiLCJyZXNldElucHV0UG9pbnRlcnMiLCJhZG9wdENsYXNzSW5zdGFuY2UiLCJfcmVhY3RJbnRlcm5hbEluc3RhbmNlIiwiY2FsbENvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIiwibmV4dFByb3BzIiwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIiwiY29uc3RydWN0Q2xhc3NJbnN0YW5jZSIsInVubWFza2VkQ29udGV4dCIsIm5lZWRzQ29udGV4dCIsImdldFNuYXBzaG90QmVmb3JlVXBkYXRlIiwiZm91bmRXaWxsTW91bnROYW1lIiwiZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZSIsImZvdW5kV2lsbFVwZGF0ZU5hbWUiLCJfY29tcG9uZW50TmFtZSIsIm5ld0FwaU5hbWUiLCJtb3VudENsYXNzSW5zdGFuY2UiLCJub0dldEluaXRpYWxTdGF0ZU9uRVM2IiwiZ2V0SW5pdGlhbFN0YXRlIiwiaXNSZWFjdENsYXNzQXBwcm92ZWQiLCJub0dldERlZmF1bHRQcm9wc09uRVM2IiwiZ2V0RGVmYXVsdFByb3BzIiwibm9JbnN0YW5jZVByb3BUeXBlcyIsIm5vSW5zdGFuY2VDb250ZXh0VHlwZXMiLCJjb250ZXh0VHlwZXMiLCJub0NvbXBvbmVudFNob3VsZFVwZGF0ZSIsImNvbXBvbmVudFNob3VsZFVwZGF0ZSIsIm5vQ29tcG9uZW50RGlkVW5tb3VudCIsImNvbXBvbmVudERpZFVubW91bnQiLCJub0NvbXBvbmVudERpZFJlY2VpdmVQcm9wcyIsImNvbXBvbmVudERpZFJlY2VpdmVQcm9wcyIsIm5vQ29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyIsImNvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMiLCJub1Vuc2FmZUNvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMiLCJVTlNBRkVfY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyIsImhhc011dGF0ZWRQcm9wcyIsIm5vSW5zdGFuY2VEZWZhdWx0UHJvcHMiLCJkZWZhdWx0UHJvcHMiLCJjb21wb25lbnREaWRVcGRhdGUiLCJub0luc3RhbmNlR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIiwibm9JbnN0YW5jZUdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCIsIm5vU3RhdGljR2V0U25hcHNob3RCZWZvcmVVcGRhdGUiLCJnZXRDaGlsZENvbnRleHQiLCJjaGlsZENvbnRleHRUeXBlcyIsImNoZWNrQ2xhc3NJbnN0YW5jZSIsInJlZnMiLCJjYWxsQ29tcG9uZW50V2lsbE1vdW50IiwiY29tcG9uZW50RGlkTW91bnQiLCJyZXN1bWVNb3VudENsYXNzSW5zdGFuY2UiLCJvbGRDb250ZXh0IiwibmV3VW5tYXNrZWRDb250ZXh0IiwiaGFzTmV3TGlmZWN5Y2xlcyIsImRlcml2ZWRTdGF0ZUZyb21DYXRjaCIsImRlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsIl91cGRhdGVRdWV1ZSIsIl91cGRhdGVRdWV1ZTIiLCJ1cGRhdGVDbGFzc0luc3RhbmNlIiwiX3VwZGF0ZVF1ZXVlMyIsIl91cGRhdGVRdWV1ZTQiLCJnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDIiLCJkaWRXYXJuQWJvdXRNYXBzIiwiZGlkV2FybkFib3V0U3RyaW5nUmVmSW5TdHJpY3RNb2RlIiwib3duZXJIYXNLZXlVc2VXYXJuaW5nIiwib3duZXJIYXNGdW5jdGlvblR5cGVXYXJuaW5nIiwid2FybkZvck1pc3NpbmdLZXkiLCJ2YWxpZGF0ZWQiLCJjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvIiwiaXNBcnJheSQxIiwiY29lcmNlUmVmIiwicmV0dXJuRmliZXIiLCJtaXhlZFJlZiIsInN0cmluZ1JlZiIsIl9zdHJpbmdSZWYiLCJ0aHJvd09uSW52YWxpZE9iamVjdFR5cGUiLCJuZXdDaGlsZCIsImFkZGVuZHVtIiwid2Fybk9uRnVuY3Rpb25UeXBlIiwiQ2hpbGRSZWNvbmNpbGVyIiwic2hvdWxkVHJhY2tTaWRlRWZmZWN0cyIsImRlbGV0ZUNoaWxkIiwiY2hpbGRUb0RlbGV0ZSIsImRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuIiwiY3VycmVudEZpcnN0Q2hpbGQiLCJtYXBSZW1haW5pbmdDaGlsZHJlbiIsImV4aXN0aW5nQ2hpbGRyZW4iLCJleGlzdGluZ0NoaWxkIiwidXNlRmliZXIiLCJjbG9uZSIsInBsYWNlQ2hpbGQiLCJuZXdGaWJlciIsImxhc3RQbGFjZWRJbmRleCIsIm5ld0luZGV4Iiwib2xkSW5kZXgiLCJwbGFjZVNpbmdsZUNoaWxkIiwidXBkYXRlVGV4dE5vZGUiLCJjcmVhdGVkIiwiZXhpc3RpbmciLCJ1cGRhdGVFbGVtZW50IiwidXBkYXRlUG9ydGFsIiwidXBkYXRlRnJhZ21lbnQiLCJmcmFnbWVudCIsImNyZWF0ZUNoaWxkIiwiX2NyZWF0ZWQiLCJfY3JlYXRlZDIiLCJfY3JlYXRlZDMiLCJ1cGRhdGVTbG90Iiwib2xkRmliZXIiLCJ1cGRhdGVGcm9tTWFwIiwibmV3SWR4IiwiX21hdGNoZWRGaWJlciIsIndhcm5PbkludmFsaWRLZXkiLCJrbm93bktleXMiLCJfY3JlYXRlZDQiLCJyZWNvbmNpbGVTaW5nbGVFbGVtZW50IiwicmVjb25jaWxlU2luZ2xlUG9ydGFsIiwicmVjb25jaWxlU2luZ2xlVGV4dE5vZGUiLCJuZXdDaGlsZHJlbiIsInJlc3VsdGluZ0ZpcnN0Q2hpbGQiLCJwcmV2aW91c05ld0ZpYmVyIiwibmV4dE9sZEZpYmVyIiwiX25ld0ZpYmVyIiwiX25ld0ZpYmVyMiIsInJlY29uY2lsZUNoaWxkcmVuQXJyYXkiLCJuZXdDaGlsZHJlbkl0ZXJhYmxlIiwiaXRlcmF0b3JGbiIsIl9uZXdDaGlsZHJlbiIsIl9zdGVwIiwiX25ld0ZpYmVyMyIsIl9uZXdGaWJlcjQiLCJyZWNvbmNpbGVDaGlsZHJlbkl0ZXJhdG9yIiwiX2lzTW9ja0Z1bmN0aW9uIiwicmVjb25jaWxlQ2hpbGRGaWJlcnMiLCJtb3VudENoaWxkRmliZXJzIiwiZGlkV2FybkFib3V0QmFkQ2xhc3MiLCJkaWRXYXJuQWJvdXRHZXREZXJpdmVkU3RhdGVPbkZ1bmN0aW9uYWxDb21wb25lbnQiLCJkaWRXYXJuQWJvdXRTdGF0ZWxlc3NSZWZzIiwiUmVhY3RGaWJlckJlZ2luV29yayIsImhvc3RDb250ZXh0IiwiaHlkcmF0aW9uQ29udGV4dCIsInNob3VsZFNldFRleHRDb250ZW50Iiwic2hvdWxkRGVwcmlvcml0aXplU3VidHJlZSIsInB1c2hIb3N0Q29udGV4dCIsInB1c2hIb3N0Q29udGFpbmVyIiwicHVzaFByb3ZpZGVyIiwiaGFzTGVnYWN5Q29udGV4dENoYW5nZWQiLCJwdXNoTGVnYWN5Q29udGV4dFByb3ZpZGVyIiwicHVzaENvbnRleHRQcm92aWRlciIsInB1c2hUb3BMZXZlbENvbnRleHRPYmplY3QiLCJpbnZhbGlkYXRlQ29udGV4dFByb3ZpZGVyIiwiZW50ZXJIeWRyYXRpb25TdGF0ZSIsInJlc2V0SHlkcmF0aW9uU3RhdGUiLCJ0cnlUb0NsYWltTmV4dEh5ZHJhdGFibGVJbnN0YW5jZSIsIl9SZWFjdEZpYmVyQ2xhc3NDb21wbyIsInJlY29uY2lsZUNoaWxkcmVuIiwibmV4dENoaWxkcmVuIiwicmVjb25jaWxlQ2hpbGRyZW5BdEV4cGlyYXRpb25UaW1lIiwibWFya1JlZiIsImZpbmlzaENsYXNzQ29tcG9uZW50IiwiaGFzQ29udGV4dCIsImRpZENhcHR1cmVFcnJvciIsImJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsiLCJwdXNoSG9zdFJvb3RDb250ZXh0IiwicHJvcGFnYXRlQ29udGV4dENoYW5nZSIsImNoYW5nZWRCaXRzIiwibmV4dEZpYmVyIiwib2JzZXJ2ZWRCaXRzIiwiY3VycmVudENoaWxkIiwiY2xvbmVDaGlsZEZpYmVycyIsIm5leHRTdGF0ZSIsImJlZ2luV29yayIsImJhaWxvdXRPbkxvd1ByaW9yaXR5IiwiX0NvbXBvbmVudCIsIndhcm5pbmdLZXkiLCJkZWJ1Z1NvdXJjZSIsIm1vdW50SW5kZXRlcm1pbmF0ZUNvbXBvbmVudCIsInVwZGF0ZUZ1bmN0aW9uYWxDb21wb25lbnQiLCJ1cGRhdGVDbGFzc0NvbXBvbmVudCIsInVwZGF0ZUhvc3RSb290IiwicHJldlByb3BzIiwiaXNIaWRkZW4iLCJ1cGRhdGVIb3N0Q29tcG9uZW50IiwidXBkYXRlSG9zdFRleHQiLCJ1cGRhdGVDYWxsQ29tcG9uZW50IiwidXBkYXRlUG9ydGFsQ29tcG9uZW50IiwidXBkYXRlRm9yd2FyZFJlZiIsInVwZGF0ZU1vZGUiLCJfY29udGV4dCIsIm9sZFZhbHVlIiwiX2NhbGN1bGF0ZUNoYW5nZWRCaXRzIiwidXBkYXRlQ29udGV4dFByb3ZpZGVyIiwiX2N1cnJlbnRWYWx1ZSIsIl9jaGFuZ2VkQml0cyIsInVuc3RhYmxlX29ic2VydmVkQml0cyIsInVwZGF0ZUNvbnRleHRDb25zdW1lciIsIlJlYWN0RmliZXJDb21wbGV0ZVdvcmsiLCJjcmVhdGVJbnN0YW5jZSIsImNyZWF0ZVRleHRJbnN0YW5jZSIsImFwcGVuZEluaXRpYWxDaGlsZCIsImZpbmFsaXplSW5pdGlhbENoaWxkcmVuIiwicHJlcGFyZVVwZGF0ZSIsIm11dGF0aW9uIiwicGVyc2lzdGVuY2UiLCJnZXRSb290SG9zdENvbnRhaW5lciIsInBvcEhvc3RDb250ZXh0IiwiZ2V0SG9zdENvbnRleHQiLCJwb3BIb3N0Q29udGFpbmVyIiwicG9wTGVnYWN5Q29udGV4dFByb3ZpZGVyIiwicG9wQ29udGV4dFByb3ZpZGVyIiwicG9wVG9wTGV2ZWxMZWdhY3lDb250ZXh0T2JqZWN0IiwicG9wVG9wTGV2ZWxDb250ZXh0T2JqZWN0IiwicG9wUHJvdmlkZXIiLCJwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlIiwicHJlcGFyZVRvSHlkcmF0ZUhvc3RUZXh0SW5zdGFuY2UiLCJwb3BIeWRyYXRpb25TdGF0ZSIsIm1hcmtVcGRhdGUiLCJtb3ZlQ2FsbFRvSGFuZGxlclBoYXNlIiwicmV0dXJucyIsImFwcGVuZEFsbFJldHVybnMiLCJoYW5kbGVyIiwiYXBwZW5kQWxsQ2hpbGRyZW4iLCJ1cGRhdGVIb3N0Q29udGFpbmVyIiwidXBkYXRlUGF5bG9hZCIsInJvb3RDb250YWluZXJJbnN0YW5jZSIsImN1cnJlbnRIb3N0Q29udGV4dCIsIm9sZFRleHQiLCJuZXdUZXh0IiwiY2xvbmVJbnN0YW5jZSIsImNyZWF0ZUNvbnRhaW5lckNoaWxkU2V0IiwiYXBwZW5kQ2hpbGRUb0NvbnRhaW5lckNoaWxkU2V0IiwiZmluYWxpemVDb250YWluZXJDaGlsZHJlbiIsInBvcnRhbE9yUm9vdCIsImNvbnRhaW5lciIsIm5ld0NoaWxkU2V0IiwiY29udGFpbmVyQ2hpbGRTZXQiLCJhcHBlbmRBbGxDaGlsZHJlblRvQ29udGFpbmVyIiwiY2hpbGRyZW5VbmNoYW5nZWQiLCJjdXJyZW50SW5zdGFuY2UiLCJyZWN5Y2xhYmxlSW5zdGFuY2UiLCJuZXdJbnN0YW5jZSIsImNvbXBsZXRlV29yayIsImNvbXBvbmVudERpZENhdGNoIiwiZmliZXJSb290IiwiX2luc3RhbmNlIiwiX2N1cnJlbnRIb3N0Q29udGV4dCIsIl9pbnN0YW5jZTIiLCJfcm9vdENvbnRhaW5lckluc3RhbmNlIiwiX2N1cnJlbnRIb3N0Q29udGV4dDIiLCJjcmVhdGVDYXB0dXJlZFZhbHVlIiwiaW52b2tlR3VhcmRlZENhbGxiYWNrJDMiLCJoYXNDYXVnaHRFcnJvciQxIiwiY2xlYXJDYXVnaHRFcnJvciQxIiwiZGlkV2FybkFib3V0VW5kZWZpbmVkU25hcHNob3RCZWZvcmVVcGRhdGUiLCJsb2dFcnJvciIsImJvdW5kYXJ5IiwiZXJyb3JJbmZvIiwiY2FwdHVyZWRFcnJvciIsImNvbXBvbmVudFN0YWNrIiwiZXJyb3JCb3VuZGFyeSIsImVycm9yQm91bmRhcnlOYW1lIiwiZXJyb3JCb3VuZGFyeUZvdW5kIiwid2lsbFJldHJ5Iiwic3VwcHJlc3NSZWFjdEVycm9yTG9nZ2luZyIsImNvbWJpbmVkTWVzc2FnZSIsImxvZ0NhcHR1cmVkRXJyb3IiLCJSZWFjdEZpYmVyQ29tbWl0V29yayIsImNhcHR1cmVFcnJvciIsIm1hcmtMZWdhY3lFcnJvckJvdW5kYXJ5QXNGYWlsZWQiLCJyZWNhbGN1bGF0ZUN1cnJlbnRUaW1lIiwiZ2V0UHVibGljSW5zdGFuY2UiLCJjYWxsQ29tcG9uZW50V2lsbFVubW91bnRXaXRoVGltZXIiLCJzYWZlbHlEZXRhY2hSZWYiLCJyZWZFcnJvciIsImNvbW1pdEJlZm9yZU11dGF0aW9uTGlmZUN5Y2xlcyIsInNuYXBzaG90IiwiZGlkV2FyblNldCIsIl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90QmVmb3JlVXBkYXRlIiwiY29tbWl0TGlmZUN5Y2xlcyIsImZpbmlzaGVkUm9vdCIsImNvbW1pdHRlZEV4cGlyYXRpb25UaW1lIiwiX2luc3RhbmNlMyIsIl9pbnN0YW5jZTQiLCJjb21taXRNb3VudCIsImNvbW1pdEVycm9yTG9nZ2luZyIsIm9uVW5jYXVnaHRFcnJvciIsIl9pbnN0YW5jZTUiLCJjYXB0dXJlZEVycm9ycyIsIl9jYXB0dXJlZEVycm9ycyIsIl9lcnJvckluZm8iLCJjb21taXRBdHRhY2hSZWYiLCJfaW5zdGFuY2U2IiwiaW5zdGFuY2VUb1VzZSIsImNvbW1pdERldGFjaFJlZiIsImN1cnJlbnRSZWYiLCJjb21taXRVbm1vdW50IiwiX2luc3RhbmNlNyIsInVubW91bnRFcnJvciIsInNhZmVseUNhbGxDb21wb25lbnRXaWxsVW5tb3VudCIsImNvbW1pdE5lc3RlZFVubW91bnRzIiwidW5tb3VudEhvc3RDb21wb25lbnRzIiwiZW1wdHlQb3J0YWxDb250YWluZXIiLCJkZXRhY2hGaWJlciIsImNvbW1pdENvbnRhaW5lciIsInJlcGxhY2VDb250YWluZXJDaGlsZHJlbiIsImVtcHR5Q2hpbGRTZXQiLCJfcGVuZGluZ0NoaWxkcmVuIiwiY29tbWl0UmVzZXRUZXh0Q29udGVudCIsImNvbW1pdFBsYWNlbWVudCIsImNvbW1pdERlbGV0aW9uIiwiY29tbWl0V29yayIsImNvbW1pdFVwZGF0ZSIsInJlc2V0VGV4dENvbnRlbnQiLCJjb21taXRUZXh0VXBkYXRlIiwiYXBwZW5kQ2hpbGRUb0NvbnRhaW5lciIsImluc2VydEJlZm9yZSIsImluc2VydEluQ29udGFpbmVyQmVmb3JlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVDaGlsZEZyb21Db250YWluZXIiLCJpc0hvc3RQYXJlbnQiLCJjdXJyZW50UGFyZW50SXNWYWxpZCIsImN1cnJlbnRQYXJlbnQiLCJjdXJyZW50UGFyZW50SXNDb250YWluZXIiLCJmaW5kUGFyZW50IiwicGFyZW50RmliZXIiLCJnZXRIb3N0UGFyZW50RmliZXIiLCJpc0NvbnRhaW5lciIsImJlZm9yZSIsInNpYmxpbmdzIiwiZ2V0SG9zdFNpYmxpbmciLCJfaW5zdGFuY2U4IiwidGV4dEluc3RhbmNlIiwiTk9fQ09OVEVYVCIsIlJlYWN0RmliZXJIeWRyYXRpb25Db250ZXh0IiwiaHlkcmF0aW9uIiwiY2FuSHlkcmF0ZUluc3RhbmNlIiwiY2FuSHlkcmF0ZVRleHRJbnN0YW5jZSIsImdldE5leHRIeWRyYXRhYmxlU2libGluZyIsImdldEZpcnN0SHlkcmF0YWJsZUNoaWxkIiwiaHlkcmF0ZUluc3RhbmNlIiwiaHlkcmF0ZVRleHRJbnN0YW5jZSIsImRpZE5vdE1hdGNoSHlkcmF0ZWRDb250YWluZXJUZXh0SW5zdGFuY2UiLCJkaWROb3RNYXRjaEh5ZHJhdGVkVGV4dEluc3RhbmNlIiwiZGlkTm90SHlkcmF0ZUNvbnRhaW5lckluc3RhbmNlIiwiZGlkTm90SHlkcmF0ZUluc3RhbmNlIiwiZGlkTm90RmluZEh5ZHJhdGFibGVDb250YWluZXJJbnN0YW5jZSIsImRpZE5vdEZpbmRIeWRyYXRhYmxlQ29udGFpbmVyVGV4dEluc3RhbmNlIiwiZGlkTm90RmluZEh5ZHJhdGFibGVJbnN0YW5jZSIsImRpZE5vdEZpbmRIeWRyYXRhYmxlVGV4dEluc3RhbmNlIiwiaHlkcmF0aW9uUGFyZW50RmliZXIiLCJuZXh0SHlkcmF0YWJsZUluc3RhbmNlIiwiaXNIeWRyYXRpbmciLCJkZWxldGVIeWRyYXRhYmxlSW5zdGFuY2UiLCJpbnNlcnROb25IeWRyYXRlZEluc3RhbmNlIiwicGFyZW50Q29udGFpbmVyIiwicGFyZW50VHlwZSIsInBhcmVudFByb3BzIiwicGFyZW50SW5zdGFuY2UiLCJfcHJvcHMiLCJfdGV4dCIsInRyeUh5ZHJhdGUiLCJuZXh0SW5zdGFuY2UiLCJwb3BUb05leHRIb3N0UGFyZW50IiwiUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xIiwiZGVidWdUb29sIiwid2FybmVkQWJvdXRNaXNzaW5nR2V0Q2hpbGRDb250ZXh0IiwiaW52b2tlR3VhcmRlZENhbGxiYWNrJDIiLCJkaWRXYXJuQWJvdXRTdGF0ZVRyYW5zaXRpb24iLCJkaWRXYXJuU2V0U3RhdGVDaGlsZENvbnRleHQiLCJ3YXJuQWJvdXRVcGRhdGVPblVubW91bnRlZCIsIndhcm5BYm91dEludmFsaWRVcGRhdGVzIiwiZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50IiwiUmVhY3RGaWJlclNjaGVkdWxlciIsInZhbHVlU3RhY2siLCJmaWJlclN0YWNrIiwiY3JlYXRlQ3Vyc29yIiwiaXNFbXB0eSIsImN1cnNvciIsImNoZWNrVGhhdFN0YWNrSXNFbXB0eSIsInJlc2V0U3RhY2tBZnRlckZhdGFsRXJyb3JJbkRldiIsIlJlYWN0RmliZXJTdGFjayIsImdldENoaWxkSG9zdENvbnRleHQiLCJnZXRSb290SG9zdENvbnRleHQiLCJjb250ZXh0U3RhY2tDdXJzb3IiLCJjb250ZXh0RmliZXJTdGFja0N1cnNvciIsInJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yIiwicmVxdWlyZWRDb250ZXh0IiwibmV4dFJvb3RJbnN0YW5jZSIsIm5leHRSb290Q29udGV4dCIsInJvb3RJbnN0YW5jZSIsIm5leHRDb250ZXh0IiwiUmVhY3RGaWJlckhvc3RDb250ZXh0IiwiZGlkUGVyZm9ybVdvcmtTdGFja0N1cnNvciIsInByZXZpb3VzQ29udGV4dCIsIm1hc2tlZENvbnRleHQiLCJfX3JlYWN0SW50ZXJuYWxNZW1vaXplZFVubWFza2VkQ2hpbGRDb250ZXh0IiwiX19yZWFjdEludGVybmFsTWVtb2l6ZWRNYXNrZWRDaGlsZENvbnRleHQiLCJpc0NvbnRleHRQcm92aWRlciIsInByb2Nlc3NDaGlsZENvbnRleHQiLCJwYXJlbnRDb250ZXh0IiwiY2hpbGRDb250ZXh0IiwiY29udGV4dEtleSIsImRpZENoYW5nZSIsIm1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0IiwiX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQiLCJtZXJnZWRDb250ZXh0IiwiZmluZEN1cnJlbnRVbm1hc2tlZENvbnRleHQiLCJSZWFjdEZpYmVyTGVnYWN5Q29udGV4dCIsInByb3ZpZGVyQ3Vyc29yIiwidmFsdWVDdXJzb3IiLCJjaGFuZ2VkQml0c0N1cnNvciIsInJlbmRlcmVyU2lnaWwiLCJwcm92aWRlckZpYmVyIiwiX2N1cnJlbnRSZW5kZXJlciIsIlJlYWN0RmliZXJOZXdDb250ZXh0IiwiX1JlYWN0RmliZXJVbndpbmRXb3JrIiwiaXNBbHJlYWR5RmFpbGVkTGVnYWN5RXJyb3JCb3VuZGFyeSIsInRocm93RXhjZXB0aW9uIiwic291cmNlRmliZXIiLCJyYXdWYWx1ZSIsInVud2luZFdvcmsiLCJfZWZmZWN0VGFnIiwidW53aW5kSW50ZXJydXB0ZWRXb3JrIiwiaW50ZXJydXB0ZWRXb3JrIiwiUmVhY3RGaWJlclVud2luZFdvcmsiLCJfUmVhY3RGaWJlckNvbW1pdFdvcmsiLCJvbkNvbW1pdFBoYXNlRXJyb3IiLCJsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZCIsInNjaGVkdWxlRGVmZXJyZWRDYWxsYmFjayIsImNhbmNlbERlZmVycmVkQ2FsbGJhY2siLCJwcmVwYXJlRm9yQ29tbWl0IiwicmVzZXRBZnRlckNvbW1pdCIsIm9yaWdpbmFsU3RhcnRUaW1lTXMiLCJtb3N0UmVjZW50Q3VycmVudFRpbWVNcyIsImxhc3RVbmlxdWVBc3luY0V4cGlyYXRpb24iLCJleHBpcmF0aW9uQ29udGV4dCIsImlzV29ya2luZyIsIm5leHRVbml0T2ZXb3JrIiwibmV4dFJvb3QiLCJuZXh0UmVuZGVyRXhwaXJhdGlvblRpbWUiLCJpc1Jvb3RSZWFkeUZvckNvbW1pdCIsInN0YXNoZWRXb3JrSW5Qcm9ncmVzc1Byb3BlcnRpZXMiLCJyZXBsYXlVbml0T2ZXb3JrIiwiaXNSZXBsYXlpbmdGYWlsZWRVbml0T2ZXb3JrIiwib3JpZ2luYWxSZXBsYXlFcnJvciIsInJldGhyb3dPcmlnaW5hbEVycm9yIiwicmVzZXRTdGFjayIsImNvbW1pdEFsbEhvc3RFZmZlY3RzIiwiX2N1cnJlbnQiLCJfY3VycmVudDIiLCJjb21taXRCZWZvcmVNdXRhdGlvbkxpZmVjeWNsZXMiLCJjb21taXRBbGxMaWZlQ3ljbGVzIiwiY29tbWl0Um9vdCIsInN0YXJ0Q29tbWl0U25hcHNob3RFZmZlY3RzVGltZXIiLCJzdG9wQ29tbWl0U25hcHNob3RFZmZlY3RzVGltZXIiLCJzdGFydENvbW1pdEhvc3RFZmZlY3RzVGltZXIiLCJfZGlkRXJyb3IiLCJzdG9wQ29tbWl0SG9zdEVmZmVjdHNUaW1lciIsInN0YXJ0Q29tbWl0TGlmZUN5Y2xlc1RpbWVyIiwiX2RpZEVycm9yMiIsIl9lcnJvcjIiLCJzdG9wQ29tbWl0TGlmZUN5Y2xlc1RpbWVyIiwib25Db21taXRXb3JrIiwicmVtYWluaW5nVGltZSIsInJlc2V0RXhwaXJhdGlvblRpbWUiLCJyZW5kZXJUaW1lIiwibmV3RXhwaXJhdGlvblRpbWUiLCJnZXRVcGRhdGVFeHBpcmF0aW9uVGltZSIsImNvbXBsZXRlVW5pdE9mV29yayIsInNpYmxpbmdGaWJlciIsIm9uQ29tcGxldGVXb3JrIiwiX25leHQiLCJwZXJmb3JtVW5pdE9mV29yayIsInN0YXJ0V29ya1RpbWVyIiwib25CZWdpbldvcmsiLCJ3b3JrTG9vcCIsInNob3VsZFlpZWxkIiwicmVuZGVyUm9vdCIsImRpZEZhdGFsIiwic3RhcnRXb3JrTG9vcFRpbWVyIiwidGhyb3duVmFsdWUiLCJzY2hlZHVsZUNhcHR1cmUiLCJib3VuZGFyeUZpYmVyIiwiZGlzcGF0Y2giLCJjb21wdXRlQXN5bmNFeHBpcmF0aW9uIiwiaXNCYXRjaGluZ0ludGVyYWN0aXZlVXBkYXRlcyIsImNvbXB1dGVJbnRlcmFjdGl2ZUV4cGlyYXRpb24iLCJsb3dlc3RQZW5kaW5nSW50ZXJhY3RpdmVFeHBpcmF0aW9uVGltZSIsImlzRXJyb3JSZWNvdmVyeSIsInJlcXVlc3RXb3JrIiwibmVzdGVkVXBkYXRlQ291bnQiLCJORVNURURfVVBEQVRFX0xJTUlUIiwic2NoZWR1bGVXb3JrSW1wbCIsInN5bmNVcGRhdGVzIiwicHJldmlvdXNFeHBpcmF0aW9uQ29udGV4dCIsImZhaWxlZFVuaXRPZldvcmsiLCJmaXJzdFNjaGVkdWxlZFJvb3QiLCJsYXN0U2NoZWR1bGVkUm9vdCIsImNhbGxiYWNrRXhwaXJhdGlvblRpbWUiLCJjYWxsYmFja0lEIiwiaXNSZW5kZXJpbmciLCJuZXh0Rmx1c2hlZFJvb3QiLCJuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lIiwiZGVhZGxpbmVEaWRFeHBpcmUiLCJoYXNVbmhhbmRsZWRFcnJvciIsInVuaGFuZGxlZEVycm9yIiwiZGVhZGxpbmUiLCJpc0JhdGNoaW5nVXBkYXRlcyIsImlzVW5iYXRjaGluZ1VwZGF0ZXMiLCJjb21wbGV0ZWRCYXRjaGVzIiwidGltZUhldXJpc3RpY0ZvclVuaXRPZldvcmsiLCJzY2hlZHVsZUNhbGxiYWNrV2l0aEV4cGlyYXRpb24iLCJjdXJyZW50TXMiLCJleHBpcmF0aW9uTXMiLCJwZXJmb3JtQXN5bmNXb3JrIiwidGltZW91dCIsImFkZFJvb3RUb1NjaGVkdWxlIiwicGVyZm9ybVdvcmtPblJvb3QiLCJwZXJmb3JtU3luY1dvcmsiLCJmaW5kSGlnaGVzdFByaW9yaXR5Um9vdCIsImhpZ2hlc3RQcmlvcml0eVdvcmsiLCJoaWdoZXN0UHJpb3JpdHlSb290IiwicHJldmlvdXNTY2hlZHVsZWRSb290IiwiZGwiLCJwZXJmb3JtV29yayIsIm1pbkV4cGlyYXRpb25UaW1lIiwiZGlkRXhwaXJlIiwic3RvcFJlcXVlc3RDYWxsYmFja1RpbWVyIiwiZmluaXNoUmVuZGVyaW5nIiwiYmF0Y2hlcyIsImJhdGNoIiwiX29uQ29tcGxldGUiLCJfZmluaXNoZWRXb3JrIiwiY29tcGxldGVSb290IiwiX2V4cGlyYXRpb25UaW1lIiwiX2RlZmVyIiwidGltZVJlbWFpbmluZyIsImZsdXNoUm9vdCIsInByZXZpb3VzSXNCYXRjaGluZ1VwZGF0ZXMiLCJ1bmJhdGNoZWRVcGRhdGVzIiwiZmx1c2hTeW5jIiwiZmx1c2hDb250cm9sbGVkIiwiZGVmZXJyZWRVcGRhdGVzIiwicHJldmlvdXNJc0JhdGNoaW5nSW50ZXJhY3RpdmVVcGRhdGVzIiwiY29tcHV0ZVVuaXF1ZUFzeW5jRXhwaXJhdGlvbiIsImRpZFdhcm5BYm91dE5lc3RlZFVwZGF0ZXMiLCJSZWFjdEZpYmVyUmVjb25jaWxlciQxIiwiX1JlYWN0RmliZXJTY2hlZHVsZXIiLCJ1cGRhdGVDb250YWluZXJBdEV4cGlyYXRpb25UaW1lIiwicGFyZW50Q29tcG9uZW50Iiwib25Nb3VudENvbnRhaW5lciIsIm9uVW5tb3VudENvbnRhaW5lciIsIm9uVXBkYXRlQ29udGFpbmVyIiwiZ2V0Q29udGV4dEZvclN1YnRyZWUiLCJzY2hlZHVsZVJvb3RVcGRhdGUiLCJmaW5kSG9zdEluc3RhbmNlIiwiaG9zdEZpYmVyIiwiZmluZEN1cnJlbnRIb3N0RmliZXIiLCJjcmVhdGVDb250YWluZXIiLCJ1cGRhdGVDb250YWluZXIiLCJnZXRQdWJsaWNSb290SW5zdGFuY2UiLCJjb250YWluZXJGaWJlciIsImZpbmRIb3N0SW5zdGFuY2VXaXRoTm9Qb3J0YWxzIiwiZmluZEN1cnJlbnRIb3N0RmliZXJXaXRoTm9Qb3J0YWxzIiwiaW5qZWN0SW50b0RldlRvb2xzIiwiZGV2VG9vbHNDb25maWciLCJmaW5kRmliZXJCeUhvc3RJbnN0YW5jZSIsImludGVybmFscyIsIl9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyIsImhvb2siLCJpc0Rpc2FibGVkIiwic3VwcG9ydHNGaWJlciIsInJlbmRlcmVySUQiLCJpbmplY3QiLCJpbmplY3RJbnRlcm5hbHMiLCJmaW5kSG9zdEluc3RhbmNlQnlGaWJlciIsIlJlYWN0RmliZXJSZWNvbmNpbGVyJDIiLCJSZWFjdEZpYmVyUmVjb25jaWxlciQzIiwicmVhY3RSZWNvbmNpbGVyIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiaGFzTmF0aXZlUGVyZm9ybWFuY2VOb3ciLCJySUMiLCJjSUMiLCJyZXF1ZXN0SWRsZUNhbGxiYWNrIiwiY2FuY2VsSWRsZUNhbGxiYWNrIiwic2NoZWR1bGVkUklDQ2FsbGJhY2siLCJpc0lkbGVTY2hlZHVsZWQiLCJ0aW1lb3V0VGltZSIsImlzQW5pbWF0aW9uRnJhbWVTY2hlZHVsZWQiLCJmcmFtZURlYWRsaW5lIiwicHJldmlvdXNGcmFtZVRpbWUiLCJhY3RpdmVGcmFtZVRpbWUiLCJmcmFtZURlYWRsaW5lT2JqZWN0IiwiZGlkVGltZW91dCIsInJlbWFpbmluZyIsIm1lc3NhZ2VLZXkiLCJhbmltYXRpb25UaWNrIiwicmFmVGltZSIsIm5leHRGcmFtZVRpbWUiLCJvcHRpb25zIiwiZnJhbWVDYWxsYmFjayIsIkluZmluaXR5IiwidGltZW91dElEIiwiZGlkV2FyblNlbGVjdGVkU2V0T25PcHRpb24iLCJ2YWxpZGF0ZVByb3BzIiwic2VsZWN0ZWQiLCJnZXRIb3N0UHJvcHMkMSIsImhvc3RQcm9wcyIsIkNoaWxkcmVuIiwiZmxhdHRlbkNoaWxkcmVuIiwiZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lJDMiLCJnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDQiLCJkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUkMSIsImdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSIsInZhbHVlUHJvcE5hbWVzIiwidXBkYXRlT3B0aW9ucyIsIm11bHRpcGxlIiwicHJvcFZhbHVlIiwic2V0RGVmYXVsdFNlbGVjdGVkIiwic2VsZWN0ZWRWYWx1ZXMiLCJzZWxlY3RlZFZhbHVlIiwiZGVmYXVsdFNlbGVjdGVkIiwiX3NlbGVjdGVkVmFsdWUiLCJfaTIiLCJnZXRIb3N0UHJvcHMkMiIsImluaXRXcmFwcGVyU3RhdGUkMSIsImNoZWNrU2VsZWN0UHJvcFR5cGVzIiwid2FzTXVsdGlwbGUiLCJnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDUiLCJkaWRXYXJuVmFsRGVmYXVsdFZhbCIsImdldEhvc3RQcm9wcyQzIiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJpbml0V3JhcHBlclN0YXRlJDIiLCJ1cGRhdGVXcmFwcGVyJDEiLCJwb3N0TW91bnRXcmFwcGVyJDMiLCJIVE1MX05BTUVTUEFDRSQxIiwiTUFUSF9OQU1FU1BBQ0UiLCJTVkdfTkFNRVNQQUNFIiwiTmFtZXNwYWNlcyIsImh0bWwiLCJtYXRobWwiLCJzdmciLCJnZXRJbnRyaW5zaWNOYW1lc3BhY2UiLCJnZXRDaGlsZE5hbWVzcGFjZSIsInBhcmVudE5hbWVzcGFjZSIsInJldXNhYmxlU1ZHQ29udGFpbmVyIiwic2V0SW5uZXJIVE1MIiwibmFtZXNwYWNlVVJJIiwiaW5uZXJIVE1MIiwic3ZnTm9kZSIsIk1TQXBwIiwiZXhlY1Vuc2FmZUxvY2FsRnVuY3Rpb24iLCJhcmcwIiwiYXJnMSIsImFyZzIiLCJhcmczIiwic2V0VGV4dENvbnRlbnQiLCJsYXN0Q2hpbGQiLCJpc1VuaXRsZXNzTnVtYmVyIiwiYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQiLCJib3JkZXJJbWFnZU91dHNldCIsImJvcmRlckltYWdlU2xpY2UiLCJib3JkZXJJbWFnZVdpZHRoIiwiYm94RmxleCIsImJveEZsZXhHcm91cCIsImJveE9yZGluYWxHcm91cCIsImNvbHVtbkNvdW50IiwiZmxleCIsImZsZXhHcm93IiwiZmxleFBvc2l0aXZlIiwiZmxleFNocmluayIsImZsZXhOZWdhdGl2ZSIsImZsZXhPcmRlciIsImdyaWRSb3ciLCJncmlkUm93RW5kIiwiZ3JpZFJvd1NwYW4iLCJncmlkUm93U3RhcnQiLCJncmlkQ29sdW1uIiwiZ3JpZENvbHVtbkVuZCIsImdyaWRDb2x1bW5TcGFuIiwiZ3JpZENvbHVtblN0YXJ0IiwiZm9udFdlaWdodCIsImxpbmVDbGFtcCIsImxpbmVIZWlnaHQiLCJvcGFjaXR5Iiwib3JkZXIiLCJvcnBoYW5zIiwidGFiU2l6ZSIsIndpZG93cyIsInpJbmRleCIsInpvb20iLCJmaWxsT3BhY2l0eSIsImZsb29kT3BhY2l0eSIsInN0b3BPcGFjaXR5Iiwic3Ryb2tlRGFzaGFycmF5Iiwic3Ryb2tlRGFzaG9mZnNldCIsInN0cm9rZU1pdGVybGltaXQiLCJzdHJva2VPcGFjaXR5Iiwic3Ryb2tlV2lkdGgiLCJkYW5nZXJvdXNTdHlsZVZhbHVlIiwiaXNDdXN0b21Qcm9wZXJ0eSIsInN1YnN0cmluZyIsInByZWZpeEtleSIsImJhZFZlbmRvcmVkU3R5bGVOYW1lUGF0dGVybiIsImJhZFN0eWxlVmFsdWVXaXRoU2VtaWNvbG9uUGF0dGVybiIsIndhcm5lZFN0eWxlTmFtZXMiLCJ3YXJuZWRTdHlsZVZhbHVlcyIsIndhcm5lZEZvck5hTlZhbHVlIiwid2FybmVkRm9ySW5maW5pdHlWYWx1ZSIsIndhcm5WYWxpZFN0eWxlJDEiLCJ3YXJuSHlwaGVuYXRlZFN0eWxlTmFtZSIsIndhcm5CYWRWZW5kb3JlZFN0eWxlTmFtZSIsIndhcm5TdHlsZVZhbHVlV2l0aFNlbWljb2xvbiIsIndhcm5TdHlsZVZhbHVlSXNOYU4iLCJpc0Zpbml0ZSIsIndhcm5TdHlsZVZhbHVlSXNJbmZpbml0eSIsImNyZWF0ZURhbmdlcm91c1N0cmluZ0ZvclN0eWxlcyIsInN0eWxlcyIsInNlcmlhbGl6ZWQiLCJkZWxpbWl0ZXIiLCJzdHlsZU5hbWUiLCJzdHlsZVZhbHVlIiwic2V0VmFsdWVGb3JTdHlsZXMiLCJzZXRQcm9wZXJ0eSIsInZvaWRFbGVtZW50VGFncyIsIm1lbnVpdGVtIiwiYXJlYSIsImJhc2UiLCJiciIsImVtYmVkIiwiaHIiLCJpbWciLCJrZXlnZW4iLCJsaW5rIiwicGFyYW0iLCJ3YnIiLCJIVE1MJDEiLCJhc3NlcnRWYWxpZFByb3BzIiwic3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nIiwiaXNDdXN0b21Db21wb25lbnQiLCJwb3NzaWJsZVN0YW5kYXJkTmFtZXMiLCJhY2NlcHQiLCJhY2NlcHRjaGFyc2V0IiwiYWNjZXB0LWNoYXJzZXQiLCJhY2Nlc3NrZXkiLCJhbGxvd2Z1bGxzY3JlZW4iLCJhbHQiLCJhcyIsImFzeW5jIiwiYXV0b2NhcGl0YWxpemUiLCJhdXRvY29tcGxldGUiLCJhdXRvY29ycmVjdCIsImF1dG9mb2N1cyIsImF1dG9wbGF5IiwiYXV0b3NhdmUiLCJjZWxscGFkZGluZyIsImNlbGxzcGFjaW5nIiwiY2hhbGxlbmdlIiwiY2hhcnNldCIsImNpdGUiLCJjbGFzcyIsImNsYXNzaWQiLCJjbGFzc25hbWUiLCJjb2xzIiwiY29sc3BhbiIsImNvbnRlbnRlZGl0YWJsZSIsImNvbnRleHRtZW51IiwiY29udHJvbHMiLCJjb250cm9sc2xpc3QiLCJjb29yZHMiLCJjcm9zc29yaWdpbiIsImRhbmdlcm91c2x5c2V0aW5uZXJodG1sIiwiZGVmYXVsdGNoZWNrZWQiLCJkZWZhdWx0dmFsdWUiLCJkZWZlciIsImRpciIsImRvd25sb2FkIiwiZHJhZ2dhYmxlIiwiZW5jdHlwZSIsImZvcm1tZXRob2QiLCJmb3JtYWN0aW9uIiwiZm9ybWVuY3R5cGUiLCJmb3Jtbm92YWxpZGF0ZSIsImZvcm10YXJnZXQiLCJmcmFtZWJvcmRlciIsImhlaWdodCIsImhpZ2giLCJocmVmIiwiaHJlZmxhbmciLCJodG1sZm9yIiwiaHR0cGVxdWl2IiwiaHR0cC1lcXVpdiIsImljb24iLCJpbm5lcmh0bWwiLCJpbnB1dG1vZGUiLCJpbnRlZ3JpdHkiLCJpdGVtaWQiLCJpdGVtcHJvcCIsIml0ZW1yZWYiLCJpdGVtc2NvcGUiLCJpdGVtdHlwZSIsImtleXBhcmFtcyIsImtleXR5cGUiLCJsYW5nIiwibG9vcCIsImxvdyIsIm1hbmlmZXN0IiwibWFyZ2lud2lkdGgiLCJtYXJnaW5oZWlnaHQiLCJtYXhsZW5ndGgiLCJtZWRpYSIsIm1lZGlhZ3JvdXAiLCJtZXRob2QiLCJtaW5sZW5ndGgiLCJtdXRlZCIsIm5vbW9kdWxlIiwibm9uY2UiLCJub3ZhbGlkYXRlIiwib3B0aW11bSIsInBhdHRlcm4iLCJwbGFjZWhvbGRlciIsInBsYXlzaW5saW5lIiwicG9zdGVyIiwicHJlbG9hZCIsInByb2ZpbGUiLCJyYWRpb2dyb3VwIiwicmVhZG9ubHkiLCJyZWZlcnJlcnBvbGljeSIsInJlcXVpcmVkIiwicmV2ZXJzZWQiLCJyb2xlIiwicm93c3BhbiIsInNhbmRib3giLCJzY29wZWQiLCJzY3JvbGxpbmciLCJzZWFtbGVzcyIsInNoYXBlIiwic2l6ZXMiLCJzcGFuIiwic3BlbGxjaGVjayIsInNyY2RvYyIsInNyY2xhbmciLCJzcmNzZXQiLCJzdW1tYXJ5IiwidGFiaW5kZXgiLCJ0aXRsZSIsInVzZW1hcCIsIndpZHRoIiwid21vZGUiLCJhYm91dCIsImFjY2VudGhlaWdodCIsImFjY2VudC1oZWlnaHQiLCJhY2N1bXVsYXRlIiwiYWRkaXRpdmUiLCJhbGlnbm1lbnRiYXNlbGluZSIsImFsaWdubWVudC1iYXNlbGluZSIsImFsbG93cmVvcmRlciIsImFscGhhYmV0aWMiLCJhbXBsaXR1ZGUiLCJhcmFiaWNmb3JtIiwiYXJhYmljLWZvcm0iLCJhc2NlbnQiLCJhdHRyaWJ1dGVuYW1lIiwiYXR0cmlidXRldHlwZSIsImF1dG9yZXZlcnNlIiwiYXppbXV0aCIsImJhc2VmcmVxdWVuY3kiLCJiYXNlbGluZXNoaWZ0IiwiYmFzZWxpbmUtc2hpZnQiLCJiYXNlcHJvZmlsZSIsImJib3giLCJiZWdpbiIsImJpYXMiLCJieSIsImNhbGNtb2RlIiwiY2FwaGVpZ2h0IiwiY2FwLWhlaWdodCIsImNsaXAiLCJjbGlwcGF0aCIsImNsaXAtcGF0aCIsImNsaXBwYXRodW5pdHMiLCJjbGlwcnVsZSIsImNsaXAtcnVsZSIsImNvbG9yaW50ZXJwb2xhdGlvbiIsImNvbG9yLWludGVycG9sYXRpb24iLCJjb2xvcmludGVycG9sYXRpb25maWx0ZXJzIiwiY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzIiwiY29sb3Jwcm9maWxlIiwiY29sb3ItcHJvZmlsZSIsImNvbG9ycmVuZGVyaW5nIiwiY29sb3ItcmVuZGVyaW5nIiwiY29udGVudHNjcmlwdHR5cGUiLCJjb250ZW50c3R5bGV0eXBlIiwiY3giLCJjeSIsImRhdGF0eXBlIiwiZGVjZWxlcmF0ZSIsImRlc2NlbnQiLCJkaWZmdXNlY29uc3RhbnQiLCJkaXZpc29yIiwiZG9taW5hbnRiYXNlbGluZSIsImRvbWluYW50LWJhc2VsaW5lIiwiZHVyIiwiZHgiLCJkeSIsImVkZ2Vtb2RlIiwiZWxldmF0aW9uIiwiZW5hYmxlYmFja2dyb3VuZCIsImVuYWJsZS1iYWNrZ3JvdW5kIiwiZXhwb25lbnQiLCJleHRlcm5hbHJlc291cmNlc3JlcXVpcmVkIiwiZmlsbCIsImZpbGxvcGFjaXR5IiwiZmlsbC1vcGFjaXR5IiwiZmlsbHJ1bGUiLCJmaWxsLXJ1bGUiLCJmaWx0ZXJyZXMiLCJmaWx0ZXJ1bml0cyIsImZsb29kb3BhY2l0eSIsImZsb29kLW9wYWNpdHkiLCJmbG9vZGNvbG9yIiwiZmxvb2QtY29sb3IiLCJmb2N1c2FibGUiLCJmb250ZmFtaWx5IiwiZm9udC1mYW1pbHkiLCJmb250c2l6ZSIsImZvbnQtc2l6ZSIsImZvbnRzaXplYWRqdXN0IiwiZm9udC1zaXplLWFkanVzdCIsImZvbnRzdHJldGNoIiwiZm9udC1zdHJldGNoIiwiZm9udHN0eWxlIiwiZm9udC1zdHlsZSIsImZvbnR2YXJpYW50IiwiZm9udC12YXJpYW50IiwiZm9udHdlaWdodCIsImZvbnQtd2VpZ2h0IiwiZngiLCJmeSIsImcxIiwiZzIiLCJnbHlwaG5hbWUiLCJnbHlwaC1uYW1lIiwiZ2x5cGhvcmllbnRhdGlvbmhvcml6b250YWwiLCJnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsIiwiZ2x5cGhvcmllbnRhdGlvbnZlcnRpY2FsIiwiZ2x5cGgtb3JpZW50YXRpb24tdmVydGljYWwiLCJnbHlwaHJlZiIsImdyYWRpZW50dHJhbnNmb3JtIiwiZ3JhZGllbnR1bml0cyIsImhhbmdpbmciLCJob3JpemFkdngiLCJob3Jpei1hZHYteCIsImhvcml6b3JpZ2lueCIsImhvcml6LW9yaWdpbi14IiwiaWRlb2dyYXBoaWMiLCJpbWFnZXJlbmRlcmluZyIsImltYWdlLXJlbmRlcmluZyIsImluMiIsImluIiwiaW5saXN0IiwiaW50ZXJjZXB0IiwiazEiLCJrMyIsIms0Iiwia2VybmVsbWF0cml4Iiwia2VybmVsdW5pdGxlbmd0aCIsImtlcm5pbmciLCJrZXlwb2ludHMiLCJrZXlzcGxpbmVzIiwia2V5dGltZXMiLCJsZW5ndGhhZGp1c3QiLCJsZXR0ZXJzcGFjaW5nIiwibGV0dGVyLXNwYWNpbmciLCJsaWdodGluZ2NvbG9yIiwibGlnaHRpbmctY29sb3IiLCJsaW1pdGluZ2NvbmVhbmdsZSIsImxvY2FsIiwibWFya2VyZW5kIiwibWFya2VyLWVuZCIsIm1hcmtlcmhlaWdodCIsIm1hcmtlcm1pZCIsIm1hcmtlci1taWQiLCJtYXJrZXJzdGFydCIsIm1hcmtlci1zdGFydCIsIm1hcmtlcnVuaXRzIiwibWFya2Vyd2lkdGgiLCJtYXNrIiwibWFza2NvbnRlbnR1bml0cyIsIm1hc2t1bml0cyIsIm1hdGhlbWF0aWNhbCIsIm51bW9jdGF2ZXMiLCJvcGVyYXRvciIsIm9yaWVudCIsIm9yaWVudGF0aW9uIiwib3JpZ2luIiwib3ZlcmZsb3ciLCJvdmVybGluZXBvc2l0aW9uIiwib3ZlcmxpbmUtcG9zaXRpb24iLCJvdmVybGluZXRoaWNrbmVzcyIsIm92ZXJsaW5lLXRoaWNrbmVzcyIsInBhaW50b3JkZXIiLCJwYWludC1vcmRlciIsInBhbm9zZTEiLCJwYW5vc2UtMSIsInBhdGhsZW5ndGgiLCJwYXR0ZXJuY29udGVudHVuaXRzIiwicGF0dGVybnRyYW5zZm9ybSIsInBhdHRlcm51bml0cyIsInBvaW50ZXJldmVudHMiLCJwb2ludGVyLWV2ZW50cyIsInBvaW50cyIsInBvaW50c2F0eCIsInBvaW50c2F0eSIsInBvaW50c2F0eiIsInByZXNlcnZlYWxwaGEiLCJwcmVzZXJ2ZWFzcGVjdHJhdGlvIiwicHJpbWl0aXZldW5pdHMiLCJyYWRpdXMiLCJyZWZ4IiwicmVmeSIsInJlbmRlcmluZ2ludGVudCIsInJlbmRlcmluZy1pbnRlbnQiLCJyZXBlYXRjb3VudCIsInJlcGVhdGR1ciIsInJlcXVpcmVkZXh0ZW5zaW9ucyIsInJlcXVpcmVkZmVhdHVyZXMiLCJyZXNvdXJjZSIsInJlc3RhcnQiLCJyb3RhdGUiLCJyeCIsInJ5Iiwic2NhbGUiLCJzZWN1cml0eSIsInNlZWQiLCJzaGFwZXJlbmRlcmluZyIsInNoYXBlLXJlbmRlcmluZyIsInNsb3BlIiwic3BhY2luZyIsInNwZWN1bGFyY29uc3RhbnQiLCJzcGVjdWxhcmV4cG9uZW50Iiwic3BlZWQiLCJzcHJlYWRtZXRob2QiLCJzdGFydG9mZnNldCIsInN0ZGRldmlhdGlvbiIsInN0ZW1oIiwic3RlbXYiLCJzdGl0Y2h0aWxlcyIsInN0b3Bjb2xvciIsInN0b3AtY29sb3IiLCJzdG9wb3BhY2l0eSIsInN0b3Atb3BhY2l0eSIsInN0cmlrZXRocm91Z2hwb3NpdGlvbiIsInN0cmlrZXRocm91Z2gtcG9zaXRpb24iLCJzdHJpa2V0aHJvdWdodGhpY2tuZXNzIiwic3RyaWtldGhyb3VnaC10aGlja25lc3MiLCJzdHJva2UiLCJzdHJva2VkYXNoYXJyYXkiLCJzdHJva2UtZGFzaGFycmF5Iiwic3Ryb2tlZGFzaG9mZnNldCIsInN0cm9rZS1kYXNob2Zmc2V0Iiwic3Ryb2tlbGluZWNhcCIsInN0cm9rZS1saW5lY2FwIiwic3Ryb2tlbGluZWpvaW4iLCJzdHJva2UtbGluZWpvaW4iLCJzdHJva2VtaXRlcmxpbWl0Iiwic3Ryb2tlLW1pdGVybGltaXQiLCJzdHJva2V3aWR0aCIsInN0cm9rZS13aWR0aCIsInN0cm9rZW9wYWNpdHkiLCJzdHJva2Utb3BhY2l0eSIsInN1cHByZXNzY29udGVudGVkaXRhYmxld2FybmluZyIsInN1cHByZXNzaHlkcmF0aW9ud2FybmluZyIsInN1cmZhY2VzY2FsZSIsInN5c3RlbWxhbmd1YWdlIiwidGFibGV2YWx1ZXMiLCJ0YXJnZXR4IiwidGFyZ2V0eSIsInRleHRhbmNob3IiLCJ0ZXh0LWFuY2hvciIsInRleHRkZWNvcmF0aW9uIiwidGV4dC1kZWNvcmF0aW9uIiwidGV4dGxlbmd0aCIsInRleHRyZW5kZXJpbmciLCJ0ZXh0LXJlbmRlcmluZyIsInRyYW5zZm9ybSIsInR5cGVvZiIsInUxIiwidTIiLCJ1bmRlcmxpbmVwb3NpdGlvbiIsInVuZGVybGluZS1wb3NpdGlvbiIsInVuZGVybGluZXRoaWNrbmVzcyIsInVuZGVybGluZS10aGlja25lc3MiLCJ1bmljb2RlIiwidW5pY29kZWJpZGkiLCJ1bmljb2RlLWJpZGkiLCJ1bmljb2RlcmFuZ2UiLCJ1bmljb2RlLXJhbmdlIiwidW5pdHNwZXJlbSIsInVuaXRzLXBlci1lbSIsInVuc2VsZWN0YWJsZSIsInZhbHBoYWJldGljIiwidi1hbHBoYWJldGljIiwidmVjdG9yZWZmZWN0IiwidmVjdG9yLWVmZmVjdCIsInZlcnRhZHZ5IiwidmVydC1hZHYteSIsInZlcnRvcmlnaW54IiwidmVydC1vcmlnaW4teCIsInZlcnRvcmlnaW55IiwidmVydC1vcmlnaW4teSIsInZoYW5naW5nIiwidi1oYW5naW5nIiwidmlkZW9ncmFwaGljIiwidi1pZGVvZ3JhcGhpYyIsInZpZXdib3giLCJ2aWV3dGFyZ2V0IiwidmlzaWJpbGl0eSIsInZtYXRoZW1hdGljYWwiLCJ2LW1hdGhlbWF0aWNhbCIsInZvY2FiIiwid2lkdGhzIiwid29yZHNwYWNpbmciLCJ3b3JkLXNwYWNpbmciLCJ3cml0aW5nbW9kZSIsIndyaXRpbmctbW9kZSIsIngxIiwieDIiLCJ4Y2hhbm5lbHNlbGVjdG9yIiwieGhlaWdodCIsIngtaGVpZ2h0IiwieGxpbmthY3R1YXRlIiwieGxpbms6YWN0dWF0ZSIsInhsaW5rYXJjcm9sZSIsInhsaW5rOmFyY3JvbGUiLCJ4bGlua2hyZWYiLCJ4bGluazpocmVmIiwieGxpbmtyb2xlIiwieGxpbms6cm9sZSIsInhsaW5rc2hvdyIsInhsaW5rOnNob3ciLCJ4bGlua3RpdGxlIiwieGxpbms6dGl0bGUiLCJ4bGlua3R5cGUiLCJ4bGluazp0eXBlIiwieG1sYmFzZSIsInhtbDpiYXNlIiwieG1sbGFuZyIsInhtbDpsYW5nIiwieG1sbnMiLCJ4bWw6c3BhY2UiLCJ4bWxuc3hsaW5rIiwieG1sbnM6eGxpbmsiLCJ4bWxzcGFjZSIsInkxIiwieTIiLCJ5Y2hhbm5lbHNlbGVjdG9yIiwieiIsInpvb21hbmRwYW4iLCJhcmlhUHJvcGVydGllcyIsImFyaWEtY3VycmVudCIsImFyaWEtZGV0YWlscyIsImFyaWEtZGlzYWJsZWQiLCJhcmlhLWhpZGRlbiIsImFyaWEtaW52YWxpZCIsImFyaWEta2V5c2hvcnRjdXRzIiwiYXJpYS1sYWJlbCIsImFyaWEtcm9sZWRlc2NyaXB0aW9uIiwiYXJpYS1hdXRvY29tcGxldGUiLCJhcmlhLWNoZWNrZWQiLCJhcmlhLWV4cGFuZGVkIiwiYXJpYS1oYXNwb3B1cCIsImFyaWEtbGV2ZWwiLCJhcmlhLW1vZGFsIiwiYXJpYS1tdWx0aWxpbmUiLCJhcmlhLW11bHRpc2VsZWN0YWJsZSIsImFyaWEtb3JpZW50YXRpb24iLCJhcmlhLXBsYWNlaG9sZGVyIiwiYXJpYS1wcmVzc2VkIiwiYXJpYS1yZWFkb25seSIsImFyaWEtcmVxdWlyZWQiLCJhcmlhLXNlbGVjdGVkIiwiYXJpYS1zb3J0IiwiYXJpYS12YWx1ZW1heCIsImFyaWEtdmFsdWVtaW4iLCJhcmlhLXZhbHVlbm93IiwiYXJpYS12YWx1ZXRleHQiLCJhcmlhLWF0b21pYyIsImFyaWEtYnVzeSIsImFyaWEtbGl2ZSIsImFyaWEtcmVsZXZhbnQiLCJhcmlhLWRyb3BlZmZlY3QiLCJhcmlhLWdyYWJiZWQiLCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiLCJhcmlhLWNvbGNvdW50IiwiYXJpYS1jb2xpbmRleCIsImFyaWEtY29sc3BhbiIsImFyaWEtY29udHJvbHMiLCJhcmlhLWRlc2NyaWJlZGJ5IiwiYXJpYS1lcnJvcm1lc3NhZ2UiLCJhcmlhLWZsb3d0byIsImFyaWEtbGFiZWxsZWRieSIsImFyaWEtb3ducyIsImFyaWEtcG9zaW5zZXQiLCJhcmlhLXJvd2NvdW50IiwiYXJpYS1yb3dpbmRleCIsImFyaWEtcm93c3BhbiIsImFyaWEtc2V0c2l6ZSIsIndhcm5lZFByb3BlcnRpZXMiLCJyQVJJQSIsInJBUklBQ2FtZWwiLCJnZXRTdGFja0FkZGVuZHVtIiwidmFsaWRhdGVQcm9wZXJ0eSIsImFyaWFOYW1lIiwiY29ycmVjdE5hbWUiLCJzdGFuZGFyZE5hbWUiLCJ2YWxpZGF0ZVByb3BlcnRpZXMiLCJpbnZhbGlkUHJvcHMiLCJ1bmtub3duUHJvcFN0cmluZyIsIndhcm5JbnZhbGlkQVJJQVByb3BzIiwiZGlkV2FyblZhbHVlTnVsbCIsImdldFN0YWNrQWRkZW5kdW0kMSIsImdldFN0YWNrQWRkZW5kdW0kMiIsInZhbGlkYXRlUHJvcGVydHkkMSIsIndhcm5lZFByb3BlcnRpZXMkMSIsIl9oYXNPd25Qcm9wZXJ0eSIsIkVWRU5UX05BTUVfUkVHRVgiLCJJTlZBTElEX0VWRU5UX05BTUVfUkVHRVgiLCJyQVJJQSQxIiwickFSSUFDYW1lbCQxIiwiY2FuVXNlRXZlbnRTeXN0ZW0iLCJpc1Jlc2VydmVkIiwid2FyblVua25vd25Qcm9wZXJ0aWVzIiwidW5rbm93blByb3BzIiwibm9ybWFsaXplTWFya3VwRm9yVGV4dE9yQXR0cmlidXRlIiwiZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lJDIiLCJnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDMiLCJkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbiIsImRpZFdhcm5TaGFkeURPTSIsIkRBTkdFUk9VU0xZX1NFVF9JTk5FUl9IVE1MIiwiU1VQUFJFU1NfQ09OVEVOVF9FRElUQUJMRV9XQVJOSU5HIiwiU1VQUFJFU1NfSFlEUkFUSU9OX1dBUk5JTkckMSIsIkFVVE9GT0NVUyIsIkNISUxEUkVOIiwiU1RZTEUiLCJIVE1MIiwiSFRNTF9OQU1FU1BBQ0UiLCJ3YXJuZWRVbmtub3duVGFncyIsInN1cHByZXNzSHlkcmF0aW9uV2FybmluZyIsInZhbGlkYXRlUHJvcGVydGllc0luRGV2ZWxvcG1lbnQiLCJ3YXJuRm9yVGV4dERpZmZlcmVuY2UiLCJ3YXJuRm9yUHJvcERpZmZlcmVuY2UiLCJ3YXJuRm9yRXh0cmFBdHRyaWJ1dGVzIiwid2FybkZvckludmFsaWRFdmVudExpc3RlbmVyIiwibm9ybWFsaXplSFRNTCIsImRpYWxvZyIsInZhbGlkYXRlUHJvcGVydGllcyQxIiwidmFsaWRhdGVQcm9wZXJ0aWVzJDIiLCJOT1JNQUxJWkVfTkVXTElORVNfUkVHRVgiLCJOT1JNQUxJWkVfTlVMTF9BTkRfUkVQTEFDRU1FTlRfUkVHRVgiLCJlbnN1cmVMaXN0ZW5pbmdUbyIsInJvb3RDb250YWluZXJFbGVtZW50IiwiY29udGVudERvY3VtZW50SGFuZGxlIiwibGlzdGVuVG8iLCJnZXRPd25lckRvY3VtZW50RnJvbVJvb3RDb250YWluZXIiLCJ0cmFwQ2xpY2tPbk5vbkludGVyYWN0aXZlRWxlbWVudCIsIm9uY2xpY2siLCJjcmVhdGVFbGVtZW50JDEiLCJkb21FbGVtZW50IiwiZGl2IiwiY3JlYXRlRWxlbWVudE5TIiwiY3JlYXRlVGV4dE5vZGUkMSIsImNyZWF0ZVRleHROb2RlIiwic2V0SW5pdGlhbFByb3BlcnRpZXMkMSIsInJhd1Byb3BzIiwic2hhZHlSb290IiwicHJvcEtleSIsIm5leHRQcm9wIiwibmV4dEh0bWwiLCJzZXRJbml0aWFsRE9NUHJvcGVydGllcyIsInBvc3RNb3VudFdyYXBwZXIkMSIsInBvc3RNb3VudFdyYXBwZXIkMiIsIm9uQ2xpY2siLCJkaWZmUHJvcGVydGllcyQxIiwibGFzdFJhd1Byb3BzIiwibmV4dFJhd1Byb3BzIiwibGFzdFByb3BzIiwic3R5bGVVcGRhdGVzIiwibGFzdFN0eWxlIiwibGFzdFByb3AiLCJsYXN0SHRtbCIsInVwZGF0ZVByb3BlcnRpZXMkMSIsIndhc0N1c3RvbUNvbXBvbmVudFRhZyIsInVwZGF0ZURPTVByb3BlcnRpZXMiLCJwb3N0VXBkYXRlV3JhcHBlciIsImRpZmZIeWRyYXRlZFByb3BlcnRpZXMkMSIsImV4dHJhQXR0cmlidXRlTmFtZXMiLCJhdHRyaWJ1dGVzIiwic2VydmVyVmFsdWUiLCJyYXdIdG1sIiwic2VydmVySFRNTCIsImV4cGVjdGVkSFRNTCIsImV4cGVjdGVkU3R5bGUiLCJpc01pc21hdGNoRHVlVG9CYWRDYXNpbmciLCJvd25OYW1lc3BhY2UiLCJkaWZmSHlkcmF0ZWRUZXh0JDEiLCJ0ZXh0Tm9kZSIsIndhcm5Gb3JVbm1hdGNoZWRUZXh0JDEiLCJ3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVFbGVtZW50JDEiLCJ3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVUZXh0JDEiLCJ3YXJuRm9ySW5zZXJ0ZWRIeWRyYXRlZEVsZW1lbnQkMSIsIndhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkVGV4dCQxIiwibWFya3VwIiwic2VydmVyVGV4dCIsImNsaWVudFRleHQiLCJub3JtYWxpemVkQ2xpZW50VGV4dCIsIm5vcm1hbGl6ZWRTZXJ2ZXJUZXh0IiwiY2xpZW50VmFsdWUiLCJub3JtYWxpemVkQ2xpZW50VmFsdWUiLCJub3JtYWxpemVkU2VydmVyVmFsdWUiLCJhdHRyaWJ1dGVOYW1lcyIsInRlc3RFbGVtZW50IiwidmFsaWRhdGVET01OZXN0aW5nIiwiUmVhY3RET01GaWJlckNvbXBvbmVudCIsInNldEluaXRpYWxQcm9wZXJ0aWVzIiwiZGlmZlByb3BlcnRpZXMiLCJ1cGRhdGVQcm9wZXJ0aWVzIiwiZGlmZkh5ZHJhdGVkUHJvcGVydGllcyIsImRpZmZIeWRyYXRlZFRleHQiLCJ3YXJuRm9yVW5tYXRjaGVkVGV4dCIsIndhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZUVsZW1lbnQiLCJ3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVUZXh0Iiwid2FybkZvckluc2VydGVkSHlkcmF0ZWRFbGVtZW50Iiwid2FybkZvckluc2VydGVkSHlkcmF0ZWRUZXh0IiwicmVzdG9yZUNvbnRyb2xsZWRTdGF0ZSQzIiwicmVzdG9yZUNvbnRyb2xsZWRTdGF0ZSQyIiwiZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQ2Iiwic3BlY2lhbFRhZ3MiLCJpblNjb3BlVGFncyIsImJ1dHRvblNjb3BlVGFncyIsImltcGxpZWRFbmRUYWdzIiwiZW1wdHlBbmNlc3RvckluZm8iLCJmb3JtVGFnIiwiYVRhZ0luU2NvcGUiLCJidXR0b25UYWdJblNjb3BlIiwibm9iclRhZ0luU2NvcGUiLCJwVGFnSW5CdXR0b25TY29wZSIsImxpc3RJdGVtVGFnQXV0b2Nsb3NpbmciLCJkbEl0ZW1UYWdBdXRvY2xvc2luZyIsImRpZFdhcm4iLCJjaGlsZFRhZyIsImNoaWxkVGV4dCIsImFuY2VzdG9ySW5mbyIsInBhcmVudEluZm8iLCJwYXJlbnRUYWciLCJpbnZhbGlkUGFyZW50IiwiaXNUYWdWYWxpZFdpdGhQYXJlbnQiLCJpbnZhbGlkQW5jZXN0b3IiLCJmaW5kSW52YWxpZEFuY2VzdG9yRm9yVGFnIiwiaW52YWxpZFBhcmVudE9yQW5jZXN0b3IiLCJhbmNlc3RvclRhZyIsIndhcm5LZXkiLCJ0YWdEaXNwbGF5TmFtZSIsIndoaXRlc3BhY2VJbmZvIiwidXBkYXRlZEFuY2VzdG9ySW5mbyIsIm9sZEluZm8iLCJ3YXJuT25JbnZhbGlkQ2FsbGJhY2siLCJ2YWxpZGF0ZURPTU5lc3RpbmckMSIsInRvcExldmVsVXBkYXRlV2FybmluZ3MiLCJkaWRXYXJuQWJvdXRVbnN0YWJsZUNyZWF0ZVBvcnRhbCIsIl9yZWFjdFJvb3RDb250YWluZXIiLCJob3N0SW5zdGFuY2UiLCJET01SZW5kZXJlciIsIl9pbnRlcm5hbFJvb3QiLCJpc1Jvb3RSZW5kZXJlZEJ5U29tZVJlYWN0Iiwicm9vdEVsIiwiZ2V0UmVhY3RSb290RWxlbWVudEluQ29udGFpbmVyIiwiaGFzTm9uUm9vdFJlYWN0Q2hpbGQiLCJldmVudHNFbmFibGVkIiwic2VsZWN0aW9uSW5mb3JtYXRpb24iLCJSZWFjdEJhdGNoIiwiX2RpZENvbXBsZXRlIiwiX2hhc0NoaWxkcmVuIiwiX2NoaWxkcmVuIiwiUmVhY3RXb3JrIiwiX2RpZENvbW1pdCIsIl9vbkNvbW1pdCIsIlJlYWN0Um9vdCIsImlzVmFsaWRDb250YWluZXIiLCJzaG91bGRBdXRvRm9jdXNIb3N0Q29tcG9uZW50IiwiYXV0b0ZvY3VzIiwiaW50ZXJuYWxSb290Iiwid29yayIsIm9uQ29tcGxldGUiLCJjYWxsYmFja3MiLCJjb21taXQiLCJwcmV2aW91cyIsIm9uQ29tbWl0IiwiX2NhbGxiYWNrMiIsInVubW91bnQiLCJsZWdhY3lfcmVuZGVyU3VidHJlZUludG9Db250YWluZXIiLCJjcmVhdGVCYXRjaCIsImluc2VydEFmdGVyIiwibmFtZXNwYWNlIiwidmFsaWRhdGVkVGFnIiwicGFyZW50SG9zdENvbnRleHQiLCJwYXJlbnRIb3N0Q29udGV4dERldiIsImludGVybmFsSW5zdGFuY2VIYW5kbGUiLCJob3N0Q29udGV4dERldiIsIm93bkFuY2VzdG9ySW5mbyIsIl9faHRtbCIsImJlZm9yZUNoaWxkIiwid2FybmVkQWJvdXRIeWRyYXRlQVBJIiwibGVnYWN5Q3JlYXRlUm9vdEZyb21ET01Db250YWluZXIiLCJmb3JjZUh5ZHJhdGUiLCJzaG91bGRIeWRyYXRlIiwicm9vdEVsZW1lbnQiLCJzaG91bGRIeWRyYXRlRHVlVG9MZWdhY3lIZXVyaXN0aWMiLCJ3YXJuZWQiLCJyb290U2libGluZyIsImxlZ2FjeVJlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyIiwiX29yaWdpbmFsQ2FsbGJhY2siLCJvcmlnaW5hbENhbGxiYWNrIiwiY3JlYXRlUG9ydGFsIiwiY3JlYXRlUG9ydGFsJDEiLCJSZWFjdERPTSIsImZpbmRET01Ob2RlIiwiY29tcG9uZW50T3JFbGVtZW50Iiwid2FybmVkQWJvdXRSZWZzSW5SZW5kZXIiLCJ1bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lciIsImNvbnRhaW5lck5vZGUiLCJ1bm1vdW50Q29tcG9uZW50QXROb2RlIiwicmVuZGVyZWRCeURpZmZlcmVudFJlYWN0IiwiX3Jvb3RFbCIsImlzQ29udGFpbmVyUmVhY3RSb290IiwidW5zdGFibGVfY3JlYXRlUG9ydGFsIiwidW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMiLCJ1bnN0YWJsZV9kZWZlcnJlZFVwZGF0ZXMiLCJ1bnN0YWJsZV9mbHVzaENvbnRyb2xsZWQiLCJ1bnN0YWJsZV9jcmVhdGVSb290IiwiYnVuZGxlVHlwZSIsInJlbmRlcmVyUGFja2FnZU5hbWUiLCJwcm90b2NvbCIsIlJlYWN0RE9NJDIiLCJSZWFjdERPTSQzIiwicmVhY3REb20iLCJ3YXJuTm9vcCIsInB1YmxpY0luc3RhbmNlIiwiX2NvbnN0cnVjdG9yIiwiUmVhY3ROb29wVXBkYXRlUXVldWUiLCJjb21wbGV0ZVN0YXRlIiwiZm9yY2VVcGRhdGUiLCJkZXByZWNhdGVkQVBJcyIsInJlcGxhY2VTdGF0ZSIsImRlZmluZURlcHJlY2F0aW9uV2FybmluZyIsIm1ldGhvZE5hbWUiLCJDb21wb25lbnREdW1teSIsIlB1cmVDb21wb25lbnQiLCJwdXJlQ29tcG9uZW50UHJvdG90eXBlIiwiUkVTRVJWRURfUFJPUFMiLCJfX3NlbGYiLCJfX3NvdXJjZSIsInNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duIiwic3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd24iLCJoYXNWYWxpZFJlZiIsImlzUmVhY3RXYXJuaW5nIiwiaGFzVmFsaWRLZXkiLCJSZWFjdEVsZW1lbnQiLCJjaGlsZHJlbkxlbmd0aCIsImNoaWxkQXJyYXkiLCJ3YXJuQWJvdXRBY2Nlc3NpbmdLZXkiLCJkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlciIsIndhcm5BYm91dEFjY2Vzc2luZ1JlZiIsImRlZmluZVJlZlByb3BXYXJuaW5nR2V0dGVyIiwiaXNWYWxpZEVsZW1lbnQiLCJpbXBsIiwiU0VQQVJBVE9SIiwiU1VCU0VQQVJBVE9SIiwidXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXgiLCJlc2NhcGVVc2VyUHJvdmlkZWRLZXkiLCJQT09MX1NJWkUiLCJ0cmF2ZXJzZUNvbnRleHRQb29sIiwiZ2V0UG9vbGVkVHJhdmVyc2VDb250ZXh0IiwibWFwUmVzdWx0Iiwia2V5UHJlZml4IiwibWFwRnVuY3Rpb24iLCJtYXBDb250ZXh0IiwidHJhdmVyc2VDb250ZXh0IiwicmVsZWFzZVRyYXZlcnNlQ29udGV4dCIsInRyYXZlcnNlQWxsQ2hpbGRyZW4iLCJ0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbCIsIm5hbWVTb0ZhciIsImludm9rZUNhbGxiYWNrIiwiZ2V0Q29tcG9uZW50S2V5Iiwic3VidHJlZUNvdW50IiwibmV4dE5hbWVQcmVmaXgiLCJjaGlsZHJlblN0cmluZyIsImVzY2FwZXJMb29rdXAiLCI6IiwiZm9yRWFjaFNpbmdsZUNoaWxkIiwibWFwU2luZ2xlQ2hpbGRJbnRvQ29udGV4dCIsImNoaWxkS2V5Iiwib2xkRWxlbWVudCIsIm5ld0tleSIsIm1hcHBlZENoaWxkIiwibWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbCIsIl9zZWxmIiwiZXNjYXBlZFByZWZpeCIsImdldERpc3BsYXlOYW1lIiwiY3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQiLCJwcm9wVHlwZXNNaXNzcGVsbFdhcm5pbmdTaG93biIsInZhbGlkYXRlRXhwbGljaXRLZXkiLCJwYXJlbnROYW1lIiwiZ2V0Q3VycmVudENvbXBvbmVudEVycm9ySW5mbyIsImNoaWxkT3duZXIiLCJ2YWxpZGF0ZUNoaWxkS2V5cyIsInZhbGlkYXRlUHJvcFR5cGVzIiwiY29tcG9uZW50Q2xhc3MiLCJQcm9wVHlwZXMiLCJjcmVhdGVFbGVtZW50V2l0aFZhbGlkYXRpb24iLCJ2YWxpZFR5cGUiLCJpc1ZhbGlkRWxlbWVudFR5cGUiLCJzb3VyY2VJbmZvIiwiZWxlbWVudFByb3BzIiwiZ2V0U291cmNlSW5mb0Vycm9yQWRkZW5kdW0iLCJ0eXBlU3RyaW5nIiwidmFsaWRhdGVGcmFnbWVudFByb3BzIiwiZm9yRWFjaEZ1bmMiLCJmb3JFYWNoQ29udGV4dCIsInRvQXJyYXkiLCJvbmx5IiwiY3JlYXRlUmVmIiwicmVmT2JqZWN0Iiwic2VhbCIsImNyZWF0ZUNvbnRleHQiLCJjYWxjdWxhdGVDaGFuZ2VkQml0cyIsIl9kZWZhdWx0VmFsdWUiLCJQcm92aWRlciIsIkNvbnN1bWVyIiwiZm9yd2FyZFJlZiIsInVuc3RhYmxlX0FzeW5jTW9kZSIsImNsb25lRWxlbWVudCIsIm5ld0VsZW1lbnQiLCJjcmVhdGVGYWN0b3J5IiwidmFsaWRhdGVkRmFjdG9yeSIsIlJlYWN0Q29tcG9uZW50VHJlZUhvb2siLCJSZWFjdCQyIiwiUmVhY3QkMyIsInJlYWN0IiwiX2luZGV4IiwiX3JlYWN0RG9tMiIsImdldEVsZW1lbnRCeUlkIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FDQUssY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLElBQUFOLEtBTUFaLEVBQUFtQixFQUFBLFNBQUFqQixHQUNBWSxPQUFBQyxlQUFBYixFQUFBLGNBQWlEa0IsT0FBQSxLQUlqRHBCLEVBQUFxQixFQUFBLFNBQUFsQixHQUNBLElBQUFTLEVBQUFULEtBQUFtQixXQUNBLFdBQTJCLE9BQUFuQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFILEVBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxTQUFBVSxFQUFBQyxHQUFzRCxPQUFBVixPQUFBVyxVQUFBQyxlQUFBbkIsS0FBQWdCLEVBQUFDLElBR3REeEIsRUFBQTJCLEVBQUEsR0FJQTNCLElBQUE0QixFQUFBLHdCQ25FQSxTQUFBQyxHQUFBZixPQUFBQyxlQUFBYixFQUFBLGNBQThDa0IsT0FBQSxJQUM5QyxJQUFBVSxFQUFBOUIsRUFBQSxJQUNBRSxFQUFBNkIsUUFDQSxvQkFBQUMsZUFBQSxRQUFBQSxPQUFBLGlCQUFBSCxLQUFBLFFBQUFBLEVBQUEsUUFBQUMsRUFBQUMsUUFRQTdCLEVBQUErQixRQUFBLFNBQUFDLEdBQ0EsT0FBQUEsRUFBQUMsS0FBQUMsTUFBQUQsS0FBQUUsVUFBQUgsSUFBQSxNQVNBaEMsRUFBQW9DLFVBQUEsU0FBQUMsRUFBQUMsR0FDQSxXQUFBdEMsRUFBQTZCLFFBQUEsU0FBQVUsRUFBQUMsR0FDQSxHQUFBSCxLQUFBSSxPQUFBLENBSUEsSUFBQUMsS0FDQUMsRUFBQSxXQUNBRCxFQUFBRCxPQUFBSixFQUFBSSxPQUNBSCxFQUFBRCxFQUFBSyxFQUFBRCxRQUFBQyxFQUFBRCxPQUFBLFNBQUFHLEdBQ0FGLEVBQUFHLEtBQUFELEdBQ0FoQixFQUFBa0IsUUFBQUgsS0FJQUosRUFBQUcsSUFHQUMsU0FmQUosU0F5QkF2QyxFQUFBK0MsU0FBQSxTQUFBVixFQUFBQyxHQUNBLFdBQUF0QyxFQUFBNkIsUUFBQSxTQUFBVSxFQUFBQyxHQUNBLEdBQUFILEtBQUFJLE9BQUEsQ0FJQSxJQUFBTyxHQUFBLEVBQ0FDLEVBQUEsRUFDQU4sRUFBQSxXQUNBTSxFQUFBWixFQUFBSSxTQUNBSCxFQUFBRCxFQUFBWSxLQUFBLFNBQUFMLEdBQ0FJLElBQ0FBLEdBQUEsRUFDQVQsR0FBQUssT0FHQUssSUFDQU4sTUFHQUEsU0FqQkFKLFNBMkJBdkMsRUFBQWtELFFBQUEsU0FBQWIsRUFBQUMsR0FDQSxPQUFBdEMsRUFBQTZCLFFBQUFzQixLQUFBZCxPQUFBZSxJQUFBLFNBQUFDLEVBQUFuRCxHQUNBLFdBQUFGLEVBQUE2QixRQUFBLFNBQUFVLEVBQUFDLEdBQ0FGLEVBQUFlLEVBQUFuRCxFQUFBLFNBQUEwQyxHQUNBTCxFQUFBSyxXQUtBLElBQUFVLEVBQUEsb0JBQUF4QixPQUFBLEdBQUF5QixVQUFBQyxXQUFBLEdBRUF4RCxFQUFBeUQsU0FBQSxJQUFBSCxFQUFBYixTQUFBLGlDQUFBaUIsS0FBQUosSUFBQSxtQkFBQUksS0FBQUosS0FBQXhCLE9BQUEsVUFFQTlCLEVBQUEyRCxZQUFBLElBQUFMLEVBQUFiLFNBQUFhLEVBQUFNLFFBQUEsWUFBQU4sRUFBQU0sUUFBQSxlQUFBTixFQUFBTSxRQUFBLFlBRUE1RCxFQUFBNkQsVUFBQSxVQUFBSCxLQUFBSixHQU1BdEQsRUFBQThELGFBQUEsV0FDQSx1QkFBQUMsT0FDQSxPQUFBQyxLQUFBQyxNQUFBRCxLQUFBRSxTQUFBRixLQUFBRyxJQUFBLE9BR0EsR0FBQUosT0FBQUssZ0JBQUEsQ0FDQSxJQUFBQyxFQUFBLElBQUFDLFlBQUEsR0FFQSxPQURBUCxPQUFBSyxnQkFBQUMsR0FDQUEsRUFBQSxHQUVBLGdCQUFBMUMsS0FBQTRDLFFBQUFDLFlBQ0E3QyxFQUFBNEMsUUFBQUMsWUFBQSxHQUFBQyxPQUFBLFNBQUFDLEVBQUFDLEdBQThFLE9BQUFBLEVBQUFELElBRzlFVixLQUFBQyxNQUFBRCxLQUFBRSxTQUFBRixLQUFBRyxJQUFBLFFBVUFuRSxFQUFBNEUsT0FBQSxTQUFBQyxHQUVBLElBREEsSUFBQUMsRUFBQWQsS0FBQUMsT0FBQSxJQUFBYyxNQUFBQyxXQUFBSCxFQUFBLFFBQUFJLFdBQ0FILEVBQUFyQyxRQUFBb0MsRUFBQSxRQUNBQyxFQUFBLElBQUFBLEVBRUEsT0FBQUEsRUFBQSxLQUFBOUUsRUFBQThELGVBQUE5RCxFQUFBOEQsZ0JBQUFtQixTQUFBLEtBU0FqRixFQUFBa0YsVUFBQSxTQUFBQyxFQUFBQyxHQUNBLFNBQUFELElBQUFDLFFBRUFELEVBQUExQyxTQUFBMkMsRUFBQTNDLFVBRUEwQyxPQUFBRSxPQUFBLFNBQUFoQyxHQUFnRCxZQUFBK0IsT0FBQXhCLFFBQUFQLEtBQTRDWixPQUFBLElBTzVGekMsRUFBQXNGLEtBQUEsV0FDQSxJQUFBckUsRUFBQVMsRUFBQTZELEVBQUEsR0FDQSxPQUFBQSxpQkFBQWQsT0FBQSxTQUFBQyxFQUFBQyxFQUFBekUsR0FJQSxJQUhBZSxFQUFBakIsRUFBQThELGVBQ0FwQyxFQUFBLElBQUF4QixFQUFBLE1BQUFBLEdBQUFlLEVBQUEsUUFBQWdFLFNBQUEsSUFBQU0sRUFDQXRFLElBQUFnRSxTQUFBLElBQ0FoRSxFQUFBd0IsT0FBQSxHQUNBeEIsRUFBQSxJQUFBQSxFQUNBLE9BQUF5RCxJQUFBLFNBQUFkLFFBQUExRCxJQUFBLE1BQUFxRixJQUFBN0QsRUFBQVQsR0FBQXVFLE1BQUEsTUFDS0QsSUFFTCxJQUFBRSxHQUNBQyxJQUFBLFNBQUF4RSxHQUE2QixPQUFBQSxHQUM3Qm9FLEtBQUF0RixFQUFBc0YsS0FDQUssT0FBQSxXQUEyQixPQUFBM0YsRUFBQTRFLFVBQzNCZ0IsU0FBQSxXQUE2QixPQUFBNUYsRUFBQTRFLFFBQUEsS0FTN0I1RSxFQUFBNkYsS0FBQSxTQUFBQyxHQUVBLElBREEsSUFBQUQsRUFBQSxLQUFBM0YsRUFBQTRGLEVBQUFyRCxPQUNBdkMsR0FDQTJGLEVBQUEsR0FBQUEsRUFBQUMsRUFBQUMsYUFBQTdGLEdBRUEsT0FBQTJGLElBQUEsR0FBQVosU0FBQSxLQVNBakYsRUFBQWdHLFdBQUEsU0FBQUMsRUFBQUMsR0FDQSxPQUFBVCxFQUFBUSxHQUFBUixFQUFBUSxHQUFBQyxHQUFBLE9BU0FsRyxFQUFBbUcsVUFBQSxTQUFBQyxFQUFBQyxHQUdBLElBRkEsSUFBQUMsS0FDQXBHLEVBQUFrRyxFQUFBM0QsT0FDQXZDLEtBQUEsQ0FDQSxJQUFBcUcsRUFBQUgsRUFBQWxHLEdBQUFzRyxNQUFBLEtBQ0FELEVBQUE5RCxPQUFBLEVBQ0E2RCxFQUFBQyxFQUFBLElBQUF2RyxFQUFBeUcsS0FBQUYsRUFBQSxHQUFBRixFQUFBRSxFQUFBLFVBQUFHLEdBR0FKLEVBQUFDLEVBQUEsSUFBQUYsRUFBQUUsRUFBQSxVQUFBRyxFQUdBLE9BQUFKLEdBUUF0RyxFQUFBMkcsU0FBQSxTQUFBQyxHQUNBLDBCQUFBaEcsT0FBQVcsVUFBQTBELFNBQUE1RSxLQUFBdUcsSUFTQTVHLEVBQUF5RyxLQUFBLFNBQUFJLEVBQUFELEdBQ0EsV0FBQUMsR0FBQSxTQUFBQSxFQUNBLE9BQUFELEVBQ0EsSUFBQUUsU0FBQUYsRUFDQSxpQkFBQUUsR0FBQSxPQUFBRixFQUNBLE9BQUFBLEVBRUEsSUFBQUcsR0FDQUMsSUFBQSxRQUNBQyxJQUFBLE9BQ0FDLElBQUEsT0FDQUMsSUFBQSxTQUNBQyxJQUFBLFFBQ0FDLElBQUEsU0FDQUMsSUFBQSxTQUNBQyxJQUFBLFVBRUFDLEVBQUEsU0FBQVgsRUFBQUQsR0FDQSxPQUFBQyxHQUNBLHFCQUFBVyxFQUFBLFNBQUFaLEdBQUFhLFFBQUEsMEJBQUEvRixHQUFnRyxPQUFBcUYsRUFBQXJGLEtBQ2hHLDJCQUFBb0YsR0FBQUYsRUFBQSxLQUFBYyxTQUFBZCxHQUFBLEdBQUFBLEVBQ0EsYUFDQSw2QkFBQUUsRUFBQWEsV0FBQWYsR0FBQSxHQUFBQSxFQUNBLFlBQ0EsbUJBQUFnQixNQUFBQyxRQUFBakIsUUFDQSxXQUNBLGFBQ0EsZUFDQSw4QkFBQUUsRUFBQWdCLE9BQUFsQixLQUNBLGFBQ0EsVUFDQSxpQkFBQTVHLEVBQUEyRyxTQUFBQyxRQUNBLGNBQ0Esc0JBQUFBLEVBRUEsT0FBQUEsR0FFQW1CLEVBQUFQLEVBQUFNLE9BQUFqQixHQUFBLElBQUFtQixjQUFBcEIsR0FDQSxRQUFBQyxFQUFBakQsUUFBQSxPQUNBLElBQUFxRSxFQUFBcEIsRUFBQXJCLE1BQUEsRUFBQXFCLEVBQUFxQixZQUFBLE9BQ0EsT0FBQXRCLE9BQUF4RCxJQUFBLFNBQUErRSxHQUNBLE9BQUFuSSxFQUFBeUcsS0FBQXdCLEVBQUFFLEtBR0EsWUFBQXpCLElBQUFxQixHQUNBLHdCQUFBbkUsUUFBQWlELElBQUEsR0FDQXVCLE1BQUFMLEdBQUEsRUFHQUEsT0FMQSxHQW1CQS9ILEVBQUFxSSxhQUFBLFNBQUFDLEVBQUFwSCxFQUFBcUgsRUFBQUMsR0FDQSxPQUFBRixFQUFBN0YsUUFDQTZGLEVBQUFHLE9BQUF6SSxFQUFBMEksYUFBQUosRUFBQXBILEdBQUEsRUFBQUEsR0FDQW9ILElBR0FBLEVBQUF6RixLQUFBM0IsR0FDQW9ILElBWUF0SSxFQUFBMEksYUFBQSxTQUFBSixFQUFBcEgsRUFBQXFILEVBQUFDLEdBQ0EsSUFBQS9GLEVBQUE2RixFQUFBN0YsT0FDQWtHLEVBQUFKLEdBQUEsRUFDQUssT0FBQWxDLElBQUE4QixJQUFBL0YsRUFBQSxFQUNBLE9BQUFBLEVBQ0EsU0FFQSxHQUFBdkIsRUFBQW9ILEVBQUFNLEdBQ0EsT0FBQUEsRUFBQSxFQUVBLEdBQUExSCxFQUFBb0gsRUFBQUssR0FDQSxPQUFBQSxFQUVBLEdBQUFBLEdBQUFDLEVBQ0EsU0FFQSxJQUFBdEksRUFBQXFJLEVBQUEzRSxLQUFBNkUsT0FBQUQsRUFBQUQsR0FBQSxHQUNBLE9BQUF6SCxFQUFBb0gsRUFBQWhJLEdBQ0FOLEVBQUEwSSxhQUFBSixFQUFBcEgsRUFBQXlILEVBQUFySSxFQUFBLEdBRUFZLEVBQUFvSCxFQUFBaEksR0FDQU4sRUFBQTBJLGFBQUFKLEVBQUFwSCxFQUFBWixFQUFBLEVBQUFzSSxHQUVBLEdBUUE1SSxFQUFBOEksaUJBQUEsU0FBQVIsR0FDQSxJQUFBQSxFQUFBN0YsT0FDQSxTQUVBLElBREEsSUFBQXNHLEdBQUFULEVBQUEsSUFDQXBJLEVBQUEsRUFBbUJBLEVBQUFvSSxFQUFBN0YsT0FBZ0J2QyxJQUNuQ29JLEVBQUFwSSxLQUFBb0ksRUFBQXBJLEVBQUEsSUFDQTZJLEVBQUFsRyxLQUFBeUYsRUFBQXBJLElBRUEsT0FBQTZJLEdBUUEvSSxFQUFBZ0osV0FBQSxTQUFBaEgsR0FRQSxPQVBBcEIsT0FBQXFJLG9CQUFBakgsT0FBd0NrSCxRQUFBLFNBQUF6SSxHQUN4QyxJQUFBMEksRUFBQW5ILEVBQUF2QixHQUNBLGlCQUFBMEksR0FBQSxPQUFBQSxJQUNBbkgsRUFBQXZCLEdBQUFULEVBQUFnSixXQUFBRyxNQUlBdkksT0FBQXdJLE9BQUFwSCxJQUVBLElBQUFxSCxLQVNBckosRUFBQXNKLFNBQUEsU0FBQUMsRUFBQWxJLEVBQUFtSSxHQUNBLElBQ0FDLEVBQUEsU0FBQUMsRUFBQUMsRUFBQXRJLEdBQ0EsT0FBQXFJLEVBQUFDLElBQUF0SSxFQUVBb0ksRUFBQUMsRUFBQUMsRUFBQSxFQUFBdEksRUFBQXFJLEVBQUFDLEtBREF0SSxHQUdBdUksRUFBQUwsR0FBQUMsRUFBQSxTQUVBLEdBQUFILEVBQUFPLEdBQ0EsT0FBQUgsRUFBQUosRUFBQU8sR0FBQSxFQUFBdkksR0FFQSxJQUFBd0ksS0FRQSxHQU5BQSxFQUFBTixFQUFBM0YsUUFBQSxXQUVBa0csT0FBQUMsU0FBQVIsRUFBQS9DLE1BQUEsS0FBQXBELElBQUEsU0FBQStFLEdBQW1FLE9BQUFBLEVBQUE2QixNQUFBLCtCQUFBN0IsS0FBcUQvRSxJQUFBLFNBQUErRSxHQUFxQixPQUFBQSxFQUFBVixRQUFBLGlCQUU3SThCLEVBQUEvQyxNQUFBLEtBRUFnRCxFQUFBLENBQ0EsSUFBQVMsRUFBQUosRUFBQUssUUFBQSxJQUFBTCxFQUFBSyxRQUNBTCxFQUFBTSxRQUFBRixHQUdBLE9BREFaLEVBQUFPLEdBQUFDLEVBQ0FKLEVBQUFKLEVBQUFPLEdBQUEsRUFBQXZJLHNDQ2paQSxJQUFBK0ksRUFBQW5LLEVBQUFELFNBQTZCcUssUUFBQSxTQUM3QixpQkFBQUMsVUFBQUYsa0JDQUEsSUFBQXpJLEVBQUExQixFQUFBRCxRQUFBLG9CQUFBOEIsZUFBQWtDLFdBQ0FsQyxPQUFBLG9CQUFBeUksV0FBQXZHLFdBQUF1RyxLQUVBQyxTQUFBLGNBQUFBLEdBQ0EsaUJBQUFDLFVBQUE5SSxvQkNKQTFCLEVBQUFELFNBQUFGLEVBQUEsR0FBQUEsQ0FBQSxXQUNBLE9BQTBFLEdBQTFFYyxPQUFBQyxrQkFBaUMsS0FBUUcsSUFBQSxXQUFtQixZQUFjc0YscUJDRjFFLElBQUFvRSxFQUFBNUssRUFBQSxJQUNBNkssRUFBQTdLLEVBQUEsSUFDQThLLEVBQUE5SyxFQUFBLElBQ0ErSyxFQUFBakssT0FBQUMsZUFFQWIsRUFBQThLLEVBQUFoTCxFQUFBLEdBQUFjLE9BQUFDLGVBQUEsU0FBQWtLLEVBQUFDLEVBQUFDLEdBSUEsR0FIQVAsRUFBQUssR0FDQUMsRUFBQUosRUFBQUksR0FBQSxHQUNBTixFQUFBTyxHQUNBTixFQUFBLElBQ0EsT0FBQUUsRUFBQUUsRUFBQUMsRUFBQUMsR0FDRyxNQUFBQyxJQUNILFdBQUFELEdBQUEsUUFBQUEsRUFBQSxNQUFBRSxVQUFBLDRCQUVBLE1BREEsVUFBQUYsSUFBQUYsRUFBQUMsR0FBQUMsRUFBQS9KLE9BQ0E2SixrQkNkQSxJQUFBdkosS0FBdUJBLGVBQ3ZCdkIsRUFBQUQsUUFBQSxTQUFBb0wsRUFBQUMsR0FDQSxPQUFBN0osRUFBQW5CLEtBQUErSyxFQUFBQyxxQkNGQSxJQUFBQyxFQUFBeEwsRUFBQSxHQUFBQSxDQUFBLE9BQ0F5TCxFQUFBekwsRUFBQSxJQUNBMEwsRUFBQTFMLEVBQUEsR0FBQTBMLE9BQ0FDLEVBQUEsbUJBQUFELEdBRUF2TCxFQUFBRCxRQUFBLFNBQUFTLEdBQ0EsT0FBQTZLLEVBQUE3SyxLQUFBNkssRUFBQTdLLEdBQ0FnTCxHQUFBRCxFQUFBL0ssS0FBQWdMLEVBQUFELEVBQUFELEdBQUEsVUFBQTlLLE1BR0E2Syx5QkNUQSxJQUFBSSxFQUFBNUwsRUFBQSxJQUNBNkwsRUFBQTdMLEVBQUEsSUFDQUcsRUFBQUQsUUFBQSxTQUFBb0wsR0FDQSxPQUFBTSxFQUFBQyxFQUFBUCxvQkNKQW5MLEVBQUFELFFBQUEsU0FBQW9MLEdBQ0EsdUJBQUFBLEVBQUEsT0FBQUEsRUFBQSxtQkFBQUEsb0JDREEsSUFBQVAsRUFBQS9LLEVBQUEsR0FDQThMLEVBQUE5TCxFQUFBLElBQ0FHLEVBQUFELFFBQUFGLEVBQUEsWUFBQXVCLEVBQUFnSyxFQUFBbkssR0FDQSxPQUFBMkosRUFBQUMsRUFBQXpKLEVBQUFnSyxFQUFBTyxFQUFBLEVBQUExSyxLQUNDLFNBQUFHLEVBQUFnSyxFQUFBbkssR0FFRCxPQURBRyxFQUFBZ0ssR0FBQW5LLEVBQ0FHLG9CQ05BLElBQUFNLEVBQUE3QixFQUFBLEdBQ0FzSyxFQUFBdEssRUFBQSxHQUNBK0wsRUFBQS9MLEVBQUEsSUFDQWdNLEVBQUFoTSxFQUFBLEdBQ0FpTSxFQUFBak0sRUFBQSxHQUdBa00sRUFBQSxTQUFBbkYsRUFBQXBHLEVBQUF3TCxHQUNBLElBU0FaLEVBQUFhLEVBQUFDLEVBVEFDLEVBQUF2RixFQUFBbUYsRUFBQUssRUFDQUMsRUFBQXpGLEVBQUFtRixFQUFBTyxFQUNBQyxFQUFBM0YsRUFBQW1GLEVBQUFTLEVBQ0FDLEVBQUE3RixFQUFBbUYsRUFBQWhCLEVBQ0EyQixFQUFBOUYsRUFBQW1GLEVBQUFZLEVBQ0FDLEVBQUFoRyxFQUFBbUYsRUFBQWMsRUFDQTlNLEVBQUFzTSxFQUFBbEMsSUFBQTNKLEtBQUEySixFQUFBM0osT0FDQXNNLEVBQUEvTSxFQUFBLFVBQ0FnTixFQUFBVixFQUFBM0ssRUFBQTZLLEVBQUE3SyxFQUFBbEIsSUFBQWtCLEVBQUFsQixRQUFrRixVQUdsRixJQUFBNEssS0FEQWlCLElBQUFMLEVBQUF4TCxHQUNBd0wsR0FFQUMsR0FBQUUsR0FBQVksUUFBQXRHLElBQUFzRyxFQUFBM0IsS0FDQVUsRUFBQS9MLEVBQUFxTCxLQUVBYyxFQUFBRCxFQUFBYyxFQUFBM0IsR0FBQVksRUFBQVosR0FFQXJMLEVBQUFxTCxHQUFBaUIsR0FBQSxtQkFBQVUsRUFBQTNCLEdBQUFZLEVBQUFaLEdBRUFzQixHQUFBVCxFQUFBTCxFQUFBTSxFQUFBeEssR0FFQWtMLEdBQUFHLEVBQUEzQixJQUFBYyxFQUFBLFNBQUFjLEdBQ0EsSUFBQVosRUFBQSxTQUFBL0YsRUFBQWYsRUFBQWhGLEdBQ0EsR0FBQTJNLGdCQUFBRCxFQUFBLENBQ0EsT0FBQUUsVUFBQTFLLFFBQ0Esa0JBQUF3SyxFQUNBLGtCQUFBQSxFQUFBM0csR0FDQSxrQkFBQTJHLEVBQUEzRyxFQUFBZixHQUNXLFdBQUEwSCxFQUFBM0csRUFBQWYsRUFBQWhGLEdBQ0YsT0FBQTBNLEVBQUFsRCxNQUFBbUQsS0FBQUMsWUFHVCxPQURBZCxFQUFBLFVBQUFZLEVBQUEsVUFDQVosRUFYQSxDQWFLRixHQUFBTyxHQUFBLG1CQUFBUCxFQUFBTixFQUFBckIsU0FBQW5LLEtBQUE4TCxLQUVMTyxLQUNBMU0sRUFBQW9OLFVBQUFwTixFQUFBb04sYUFBK0MvQixHQUFBYyxFQUUvQ3RGLEVBQUFtRixFQUFBcUIsR0FBQU4sTUFBQTFCLElBQUFTLEVBQUFpQixFQUFBMUIsRUFBQWMsTUFLQUgsRUFBQUssRUFBQSxFQUNBTCxFQUFBTyxFQUFBLEVBQ0FQLEVBQUFTLEVBQUEsRUFDQVQsRUFBQWhCLEVBQUEsRUFDQWdCLEVBQUFZLEVBQUEsR0FDQVosRUFBQWMsRUFBQSxHQUNBZCxFQUFBc0IsRUFBQSxHQUNBdEIsRUFBQXFCLEVBQUEsSUFDQXBOLEVBQUFELFFBQUFnTSw2Q0M1REFwTCxPQUFBQyxlQUFBYixFQUFBLGNBQThDa0IsT0FBQSxJQUc5QyxJQUFBcUssRUFBQSxFQUNBZ0MsS0FDQS9ILEVBQUFvQyxNQUFBckcsVUFBQWlFLE1BR0FnSSxFQUFBLG9CQUFBMUwsZUFBQSxhQUFBQSxPQUFBLHdCQUFBSCxNQUFBLGVBQUFBLEVBQUEsYUFDQThMLEVBQUEsb0JBQUEzTCxlQUFBNEwsYUFBQTVMLE9BQUE2TCxpQkFDQUMsRUFBQSxvQkFBQTlMLGVBQUEsUUFBQUEsT0FBQSxtQkFBQUgsTUFBQSxVQUFBQSxFQUFBLFFBQ0FrTSxFQUFBLFNBQUF4SCxHQUNBLE9BQUFBLEVBQUEsR0FBQTBELE1BQUEsS0FBQXZFLEVBQUFuRixLQUFBZ0csRUFBQSxLQWFBb0gsR0FDQTNMLE9BQUE2TCxpQkFBQSxVQVpBLFNBQUFHLEdBQ0EsSUFDQUMsRUFEQTFDLEVBQUF5QyxFQUFBQyxLQUVBLGlCQUFBMUMsR0FBQSxJQUFBQSxFQUFBekgsUUFYQSxZQVlBbUssRUFBQVIsRUFBQWxDLGFBRUFrQyxFQUFBbEMsR0FDQXdDLEVBQUFFLE1BT0EsSUFBQUMsRUFBQSxXQUVBLElBREEsSUFBQTNILEtBQ0E0SCxFQUFBLEVBQW9CQSxFQUFBZCxVQUFBMUssT0FBdUJ3TCxJQUMzQzVILEVBQUE0SCxHQUFBZCxVQUFBYyxHQUVBLElBQUFDLEVBQUEzQyxJQUNBRixFQTVCQSxTQTRCQTZDLEVBR0EsT0FGQVgsRUFBQWxDLEdBQUFoRixFQUNBdkUsT0FBQTRMLFlBQUFyQyxFQUFBLEtBQ0E2QyxHQUVBbE8sRUFBQThDLFFBQ0EwSyxFQUFBLFdBRUEsSUFEQSxJQUFBbkgsS0FDQTRILEVBQUEsRUFBd0JBLEVBQUFkLFVBQUExSyxPQUF1QndMLElBQy9DNUgsRUFBQTRILEdBQUFkLFVBQUFjLEdBRUFULEVBQUEsV0FDQUssRUFBQXhILE1BRUt1SCxFQUFBLFdBRUwsSUFEQSxJQUFBdkgsS0FDQTRILEVBQUEsRUFBd0JBLEVBQUFkLFVBQUExSyxPQUF1QndMLElBQy9DNUgsRUFBQTRILEdBQUFkLFVBQUFjLEdBRUFMLEVBQUFPLFVBQUFDLEtBQUEsV0FDQVAsRUFBQXhILE1BRUtvSCxFQUFBTyxFQUNMLFdBRUEsSUFEQSxJQUFBM0gsS0FDQTRILEVBQUEsRUFBNEJBLEVBQUFkLFVBQUExSyxPQUF1QndMLElBQ25ENUgsRUFBQTRILEdBQUFkLFVBQUFjLEdBRUFJLFdBQUEsV0FDQVIsRUFBQXhILElBQ2EsSUFHYixJQUFBaUksRUFBQSxhQUNBQyxHQUFBLEtBQ0FDLEdBQUEsS0FDQUMsR0FBQSxLQUNBNU0sRUFBQSxXQUNBLFNBQUFBLEVBQUE2TSxHQUNBeEIsS0FBQXlCLE9BQUFGLEVBQ0F2QixLQUFBMEIsVUFDQTFCLEtBQUEyQixjQUFBLEVBQ0FILElBQUFKLEdBQ0FRLEVBQUE1QixLQUFBd0IsR0EwSEEsT0F2SEE3TSxFQUFBa04sV0FBQSxnQkFDQSxJQUFBcE4sSUFDQUEsRUFBQSxVQUNBQSxFQUFBLFFBQUF1TCxPQUdBLG9CQUFBcEwsU0FDQUEsT0FBQSxVQUNBQSxPQUFBLFFBQUFvTCxRQUlBckwsRUFBQU4sVUFBQXlOLE1BQUEsU0FBQUMsR0FDQSxPQUFBL0IsS0FBQWtCLEtBQUEsYUFBd0NhLElBRXhDcE4sRUFBQU4sVUFBQTZNLEtBQUEsU0FBQWMsRUFBQUQsR0FDQSxzQkFBQUMsR0FBQWhDLEtBQUF5QixTQUFBSCxHQUNBLG1CQUFBUyxHQUFBL0IsS0FBQXlCLFNBQUFKLEVBQ0EsT0FBQXJCLEtBRUEsSUFBQWlDLEVBQUEsSUFBQXROLEVBQUF5TSxHQUNBcEIsS0FBQXlCLFNBQUFGLEVBRUFXLEVBQUFELEVBREFqQyxLQUFBeUIsU0FBQUgsRUFBQVUsRUFBQUQsRUFDQS9CLEtBQUEyQixVQUdBM0IsS0FBQTBCLE9BQUEvTCxLQUFBLElBQUF3TSxFQUFBRixFQUFBRCxFQUFBRCxJQUVBLE9BQUFFLEdBVUF0TixFQUFBc00sUUFBQSxTQUFBak4sR0FDQSxPQUFBQSxhQUFBZ00sS0FDQWhNLEVBQ0FvTyxFQUFBQyxTQUFBLElBQUExTixFQUFBeU0sR0FBQXBOLElBVUFXLEVBQUEyTixPQUFBLFNBQUFDLEdBQ0EsT0FBQUgsRUFBQUksUUFBQSxJQUFBN04sRUFBQXlNLEdBQUFtQixJQUVBNU4sRUFBQXNCLElBQUEsU0FBQXdNLEdBRUEsV0FBQTlOLEVBQUEsU0FBQXNNLEVBQUFxQixHQUNBLElBQUE5TSxLQUNBLEdBQUFpTixFQUFBbE4sT0EwQkEsSUF0QkEsSUFBQW1OLEVBQUEsU0FBQUMsRUFBQUMsRUFBQUMsUUFDQXJKLElBQUFxSixFQUNBck4sRUFBQUcsS0FBQWtOLEdBR0FyTixFQUFBRyxLQUFBaU4sR0FFQXBOLEVBQUFELFFBQUFrTixFQUFBbE4sUUFDQTBMLEVBQUF6TCxJQUdBc04sRUFBQSxTQUFBOVAsR0FDQXlQLEVBQUF6UCxHQUFBa08sS0FBQSxXQUVBLElBREEsSUFBQTdMLEtBQ0EwTCxFQUFBLEVBQW9DQSxFQUFBZCxVQUFBMUssT0FBdUJ3TCxJQUMzRDFMLEVBQUEwTCxHQUFBZCxVQUFBYyxHQUVBMkIsRUFBQTFQLEVBQUFxQyxPQUFBbUUsS0FDaUJzSSxNQUFBLFNBQUE5RCxHQUNqQjBFLEVBQUExUCxPQUFBd0csRUFBQXdFLE1BR0FoTCxFQUFBLEVBQTJCQSxFQUFBeVAsRUFBQWxOLE9BQXFCdkMsSUFDaEQ4UCxFQUFBOVAsUUExQkFpTyxTQThCQXRNLEVBQUFvTyxLQUFBLFNBQUFOLEdBQ0EsSUFRQXpPLEVBUkFxSixFQUFBMkMsS0FDQWdELEVBQUFQLEVBQUFsTixPQUNBME4sR0FBQSxFQUNBalEsR0FBQSxFQUNBaVAsRUFBQSxJQUFBdE4sRUFBQXlNLEdBQ0EsUUFBQTFHLE1BQUFDLFFBQUE4SCxHQUNBLE9BQUF6QyxLQUFBc0MsT0FBQSxJQUFBckUsV0FlQSxJQUFBK0UsRUFDQSxPQUFBaEQsS0FBQWlCLFlBRUEsT0FBQWpPLEVBQUFnUSxHQWhCQWhQLEVBaUJBeU8sRUFBQXpQLEdBaEJBcUssRUFBQTRELFFBQUFqTixHQUFBa04sS0FBQSxTQUFBZ0MsR0FDQUQsSUFDQUEsR0FBQSxFQUNBYixFQUFBQyxTQUFBSixFQUFBaUIsS0FFYSxTQUFBQyxHQUNiRixJQUNBQSxHQUFBLEVBQ0FiLEVBQUFJLFFBQUFQLEVBQUFrQixNQVVBLE9BQUFsQixHQUVBdE4sRUFoSUEsR0FrSUE3QixFQUFBNkIsVUFPQSxJQUFBd04sRUFBQSxXQUNBLFNBQUFBLEVBQUFGLEVBQUFELEVBQUFELEdBQ0EvQixLQUFBb0QsU0FBQW5CLEVBQ0EsbUJBQUFELElBQ0FoQyxLQUFBcUQsYUFBQXJCLEVBQ0FoQyxLQUFBc0QsZUFBQXRELEtBQUF1RCxxQkFFQSxtQkFBQXhCLElBQ0EvQixLQUFBd0QsWUFBQXpCLEVBQ0EvQixLQUFBeUQsY0FBQXpELEtBQUEwRCxvQkFtQkEsT0FoQkF2QixFQUFBOU4sVUFBQWlQLGVBQUEsU0FBQXRQLEdBQ0FvTyxFQUFBQyxTQUFBckMsS0FBQW9ELFNBQUFwUCxJQUdBbU8sRUFBQTlOLFVBQUFrUCxvQkFBQSxTQUFBdlAsR0FDQWtPLEVBQUFsQyxLQUFBb0QsU0FBQXBELEtBQUFxRCxhQUFBclAsSUFHQW1PLEVBQUE5TixVQUFBb1AsY0FBQSxTQUFBelAsR0FDQW9PLEVBQUFJLFFBQUF4QyxLQUFBb0QsU0FBQXBQLElBR0FtTyxFQUFBOU4sVUFBQXFQLG1CQUFBLFNBQUExUCxHQUNBa08sRUFBQWxDLEtBQUFvRCxTQUFBcEQsS0FBQXdELFlBQUF4UCxJQUdBbU8sRUE1QkEsR0FzQ0EsU0FBQUQsRUFBQUQsRUFBQTBCLEVBQUEzUCxHQUNBbEIsRUFBQThDLFFBQUEsV0FDQSxJQUFBZ08sRUFDQSxJQUNBQSxFQUFBRCxFQUFBOUcsTUFBQSxLQUFBN0ksR0FFQSxNQUFBZ0ssR0FDQSxPQUFBb0UsRUFBQUksUUFBQVAsRUFBQWpFLEdBUUEsT0FOQTRGLElBQUEzQixFQUNBRyxFQUFBSSxRQUFBUCxFQUFBLElBQUFoRSxXQUdBbUUsRUFBQUMsU0FBQUosRUFBQTJCLEdBRUEsT0F2QkE5USxFQUFBcVAsYUErQkEsSUFBQUMsRUFBQSxXQUNBLFNBQUFBLEtBa0NBLE9BaENBQSxFQUFBQyxTQUFBLFNBQUFoRixFQUFBckosR0FDQSxJQUFBMEIsRUFBQW1PLEVBQUFDLEVBQUE5UCxHQUNBK1AsRUFBQXJPLEVBQUFzTyxPQUNBaFIsR0FBQSxFQUNBZ1EsRUFBQTNGLEVBQUFxRSxPQUFBbk0sT0FDQSxhQUFBRyxFQUFBdU8sUUFDQSxPQUFBN0IsRUFBQUksUUFBQW5GLEVBQUEzSCxFQUFBc08sUUFFQSxHQUFBRCxFQUNBbkMsRUFBQXZFLEVBQUEwRyxRQUtBLElBRkExRyxFQUFBb0UsT0FBQUgsRUFDQWpFLEVBQUFzRSxTQUFBM04sSUFDQWhCLEVBQUFnUSxHQUNBM0YsRUFBQXFFLE9BQUExTyxHQUFBc1EsZUFBQXRQLEdBR0EsT0FBQXFKLEdBR0ErRSxFQUFBSSxRQUFBLFNBQUFuRixFQUFBOEYsR0FDQTlGLEVBQUFvRSxPQUFBSixFQUNBaEUsRUFBQXNFLFNBQUF3QixFQUdBLElBRkEsSUFBQW5RLEdBQUEsRUFDQWdRLEVBQUEzRixFQUFBcUUsT0FBQW5NLFNBQ0F2QyxFQUFBZ1EsR0FDQTNGLEVBQUFxRSxPQUFBMU8sR0FBQXlRLGNBQUFOLEdBRUEsT0FBQTlGLEdBR0ErRSxFQW5DQSxHQTJDQSxTQUFBMEIsRUFBQWhQLEdBRUEsSUFBQW9NLEVBQUFwTSxLQUFBb00sS0FDQSxPQUFBcE0sR0FBQSxpQkFBQUEsR0FBQSxtQkFBQUEsR0FBQSxtQkFBQW9NLEVBTUEsS0FMQSxXQUNBQSxFQUFBckUsTUFBQS9ILEVBQUFtTCxZQWFBLFNBQUEyQixFQUFBdkUsRUFBQTBHLEdBRUEsSUFBQWQsR0FBQSxFQUNBLFNBQUFpQixJQUVBLElBREEsSUFBQWxRLEtBQ0ErTSxFQUFBLEVBQXdCQSxFQUFBZCxVQUFBMUssT0FBdUJ3TCxJQUMvQy9NLEVBQUErTSxHQUFBZCxVQUFBYyxHQUVBa0MsSUFHQUEsR0FBQSxFQUNBYixFQUFBSSxRQUFBbkYsRUFBQXJKLElBRUEsU0FBQW1RLElBRUEsSUFEQSxJQUFBblEsS0FDQStNLEVBQUEsRUFBd0JBLEVBQUFkLFVBQUExSyxPQUF1QndMLElBQy9DL00sRUFBQStNLEdBQUFkLFVBQUFjLEdBRUFrQyxJQUdBQSxHQUFBLEVBQ0FiLEVBQUFDLFNBQUFoRixFQUFBckosSUFLQSxJQUFBMEIsRUFBQW1PLEVBSEEsV0FDQUUsRUFBQUksRUFBQUQsS0FHQSxVQUFBeE8sRUFBQXVPLFNBQ0FDLEVBQUF4TyxFQUFBc08sUUFVQSxTQUFBSCxFQUFBRixFQUFBUyxHQUNBLElBQUFuRixHQUFlZ0YsUUFBQSxLQUFBRCxPQUFBLE1BQ2YsSUFDQS9FLEVBQUErRSxPQUFBTCxFQUFBUyxHQUNBbkYsRUFBQWdGLFFBQUEsVUFFQSxNQUFBakcsR0FDQWlCLEVBQUFnRixRQUFBLFFBQ0FoRixFQUFBK0UsT0FBQWhHLEVBRUEsT0FBQWlCLHFDQzdYQWxNLEVBQUFELFFBQUEsU0FBQXVSLEdBQ0EsSUFDQSxRQUFBQSxJQUNHLE1BQUFyRyxHQUNILDRCQ0pBLElBQUF2RSxFQUFBN0csRUFBQSxHQUNBRyxFQUFBRCxRQUFBLFNBQUFvTCxHQUNBLElBQUF6RSxFQUFBeUUsR0FBQSxNQUFBRCxVQUFBQyxFQUFBLHNCQUNBLE9BQUFBLGlDQ0VBbkwsRUFBQUQsUUFBQUYsRUFBQSxvQkNMQUcsRUFBQUQsUUFBQSxTQUFBd1IsRUFBQXRRLEdBQ0EsT0FDQUgsYUFBQSxFQUFBeVEsR0FDQTFRLGVBQUEsRUFBQTBRLEdBQ0FDLFdBQUEsRUFBQUQsR0FDQXRRLHlCQ0xBLElBQUFnTixFQUFBLEVBQ0F3RCxFQUFBMU4sS0FBQUUsU0FDQWpFLEVBQUFELFFBQUEsU0FBQXFMLEdBQ0EsZ0JBQUF2QixZQUFBcEQsSUFBQTJFLEVBQUEsR0FBQUEsRUFBQSxRQUFBNkMsRUFBQXdELEdBQUF6TSxTQUFBLHVCQ0hBckUsT0FBQUMsZUFBQWIsRUFBQSxjQUE4Q2tCLE9BQUEsSUFDOUMsSUFBQXlRLEVBQUE3UixFQUFBLEdBU0E4UixFQUFBLFdBQ0EsU0FBQUEsSUFDQTFFLEtBQUEyRSxXQUNBM0UsS0FBQTRFLFlBQ0E1RSxLQUFBNkUsR0FBQSxFQUNBN0UsS0FBQThFLE1BQUEsRUFzREEsT0FwREFKLEVBQUFyUSxVQUFBMFEsSUFBQSxTQUFBcEMsR0FDQSxJQUFBcUMsRUFBQWhGLEtBTUEsR0FMQUEsS0FBQTJFLFFBQUFoQyxNQUNBM0MsS0FBQTRFLFlBQ0E1RSxLQUFBMkUsUUFBQTNJLFFBQUEsU0FBQXhILEVBQUF4QixHQUNBZ1MsRUFBQUosU0FBQWhLLE9BQUFwRyxJQUFBeEIsSUFFQWdOLEtBQUE4RSxNQUFBOUUsS0FBQTJFLFFBQUFwUCxPQUFBLENBQ0EsSUFBQXRDLEVBQUErTSxLQUFBMkUsUUFBQXBQLE9BQ0F5SyxLQUFBNkUsR0FBQTdFLEtBQUEyRSxRQUFBMVIsRUFBQSxPQUdBeVIsRUFBQXJRLFVBQUE0USxZQUFBLFNBQUE5RyxHQUNBLElBQUErRyxFQUFBbEYsS0FBQXRKLFFBQUF5SCxHQUNBLFdBQUErRyxFQUNBQSxFQUVBVCxFQUFBakosYUFBQXdFLEtBQUEyRSxRQUFBeEcsSUFFQXVHLEVBQUFyUSxVQUFBOFEsSUFBQSxTQUFBaEgsR0FDQSxHQUFBNkIsS0FBQThFLEtBU0F0SyxTQUFBMkQsSUFBQTZCLEtBQUE2RSxJQUNBN0UsS0FBQTZFLEtBRUE3RSxLQUFBNEUsU0FBQWhLLE9BQUF1RCxJQUFBNkIsS0FBQTJFLFFBQUFwUCxPQUNBeUssS0FBQTJFLFFBQUFoUCxLQUFBd0ksT0FiQSxDQUNBLElBQUErRyxFQUFBVCxFQUFBakosYUFBQXdFLEtBQUEyRSxRQUFBeEcsR0FDQTZCLEtBQUEyRSxRQUFBcEosT0FBQTJKLEVBQUEsRUFBQS9HLEdBQ0E2QixLQUFBNEUsU0FBQWhLLE9BQUF1RCxJQUFBK0csRUFDQSxRQUFBbFMsRUFBQWtTLEVBQUEsRUFBaUNsUyxFQUFBZ04sS0FBQTJFLFFBQUFwUCxPQUF5QnZDLElBQzFEZ04sS0FBQTRFLFNBQUFoSyxPQUFBb0YsS0FBQTJFLFFBQUEzUixTQVdBMFIsRUFBQXJRLFVBQUErUSxLQUFBLFdBQ0EsT0FBQXBGLEtBQUEyRSxTQUVBRCxFQUFBclEsVUFBQXFDLFFBQUEsU0FBQXlILEdBQ0EsWUFBQTNFLElBQUF3RyxLQUFBNEUsU0FBQWhLLE9BQUF1RCxJQUFBNkIsS0FBQTRFLFNBQUFoSyxPQUFBdUQsS0FBQSxHQUVBdUcsRUFBQXJRLFVBQUFnUixPQUFBLFNBQUFsSCxHQUNBLElBQUErRyxFQUFBbEYsS0FBQTRFLFNBQUFoSyxPQUFBdUQsSUFDQSxRQUFBM0UsSUFBQTBMLEVBQUEsUUFDQWxGLEtBQUE0RSxTQUFBaEssT0FBQXVELElBQ0E2QixLQUFBMkUsUUFBQXBKLE9BQUEySixFQUFBLEdBQ0EsUUFBQWxTLEVBQUFrUyxFQUE2QmxTLEVBQUFnTixLQUFBMkUsUUFBQXBQLE9BQXlCdkMsSUFDdERnTixLQUFBNEUsU0FBQWhLLE9BQUFvRixLQUFBMkUsUUFBQTNSLFNBSUEwUixFQTNEQSxHQTZEQTVSLEVBQUE0UixpQ0N2RUEsSUFBQVksRUFBQXRGLFdBQUFzRixVQUFBNVIsT0FBQTZSLFFBQUEsU0FBQTNMLEdBQ0EsUUFBQXBGLEVBQUF4QixFQUFBLEVBQUFpQixFQUFBZ00sVUFBQTFLLE9BQTRDdkMsRUFBQWlCLEVBQU9qQixJQUVuRCxRQUFBdUIsS0FEQUMsRUFBQXlMLFVBQUFqTixHQUNBVSxPQUFBVyxVQUFBQyxlQUFBbkIsS0FBQXFCLEVBQUFELEtBQ0FxRixFQUFBckYsR0FBQUMsRUFBQUQsSUFFQSxPQUFBcUYsR0FFQWxHLE9BQUFDLGVBQUFiLEVBQUEsY0FBOENrQixPQUFBLElBQzlDLElBQUFVLEVBQUE5QixFQUFBLElBQ0E0UyxFQUFBNVMsRUFBQSxLQUNBNlMsRUFBQTdTLEVBQUEsS0FDQThTLEVBQUE5UyxFQUFBLEtBQ0E2UixFQUFBN1IsRUFBQSxHQUNBK1MsRUFBQS9TLEVBQUEsS0FDQWdULEVBQUFoVCxFQUFBLElBQ0FpVCxFQUFBLEtBRUFqTixHQUFBLFNBUUFrTixFQUFBLFdBQ0EsU0FBQUEsSUFDQTlGLEtBQUE3QyxRQUFBMEksRUFDQTdGLEtBQUErRix5QkFDQSxJQUFBbk0sRUFBQW9HLEtBQ0FwRyxFQUFBb00sWUFDQXBNLEVBQUFxTSxVQUNBck0sRUFBQXNNLGNBQ0F0TSxFQUFBdU0sU0FBQSx3REFDQXZNLEVBQUF3TSxjQUNBeE0sRUFBQXlNLGNBQ0F6TSxFQUFBME0sV0FDQTFNLEVBQUEyTSxTQUNBM00sRUFBQTRNLGFBQ0E1TSxFQUFBNk0sWUFDQTdNLEVBQUE4TSxZQUNBOU0sRUFBQStNLFlBQ0EvTSxFQUFBZ04sY0FDQWhOLEVBQUFpTixZQUdBak4sRUFBQWtOLFdBQUEsRUFDQWxOLEVBQUFtTixjQUFBLEVBQ0EsUUFBQS9ULEVBQUEsRUFBdUJBLEVBQUEsSUFBU0EsSUFDaEM0RyxFQUFBaU4sU0FBQWxSLEtBQUE4TyxFQUFBN04sZUFBQW1CLFNBQUEsS0FHQTZCLEVBQUFvTixjQUNBcE4sRUFBQW9OLFdBQUEsU0FBQXRCLEVBQUF1QixrQkFDQXJOLEVBQUFzTixHQUFBLElBQUF2QixFQUFBd0Isc0JBQ0EsSUFBQUMsR0FDQUMsVUFDQUMsV0FDQUMsU0FDQUMsVUFDQUMsT0FBQXpILE1BRUFwRyxFQUFBc04sR0FBQVEsYUFDQTlOLEVBQUFzTixHQUFBUSxZQUFBTixFQUFBLFdBQ0F4TixFQUFBc04sR0FBQVMsWUFDQS9OLEVBQUFzTixHQUFBUyxXQUFBUCxFQUFBLGdCQWtnQ0EsT0E1L0JBdEIsRUFBQXpSLFVBQUF1VCxTQUFBLFNBQUFDLEdBS0EsT0FKQTdILEtBQUEyRyxTQUFBM0csS0FBQThILFVBQ0E5SCxLQUFBMkcsU0FBQTNHLEtBQUE4SCxZQUVBOUgsS0FBQTJHLFNBQUEzRyxLQUFBOEgsUUFBQUQsRUFDQTdILE1BRUE4RixFQUFBelIsVUFBQTBULE1BQUEsU0FBQUYsR0FLQSxPQUpBN0gsS0FBQXlHLFNBQUF6RyxLQUFBOEgsVUFDQTlILEtBQUF5RyxTQUFBekcsS0FBQThILFlBRUE5SCxLQUFBeUcsU0FBQXpHLEtBQUE4SCxRQUFBRCxFQUNBN0gsTUFVQThGLEVBQUF6UixVQUFBMlQsU0FBQSxXQUtBLE9BSkFoSSxLQUFBOEcsYUFDQTlHLEtBQUE4RyxZQUFBOUcsS0FBQTZHLFNBQUF0UixTQUNBeUssS0FBQThHLFdBQUEsR0FFQTlHLEtBQUE2RyxTQUFBN0csS0FBQThHLGFBVUFoQixFQUFBelIsVUFBQTRULE1BQUEsU0FBQUEsR0FHQSxPQUZBQSxJQUNBakksS0FBQThILE9BQUFHLEdBQ0FqSSxNQVlBOEYsRUFBQXpSLFVBQUE2VCxRQUFBLFdBQ0EsSUFBQWxELEVBQUFoRixLQUNBcEcsRUFBQW9HLEtBQ0EsV0FBQXlFLEVBQUE5UCxRQUFBLFNBQUFVLEVBQUFDLEdBQ0EsSUFBQTZTLEdBQ0FkLE9BQUF6TixFQUFBc00sV0FDQW9CLFFBQUExTixFQUFBb00sU0FDQXVCLE1BQUEzTixFQUFBcU0sT0FDQXVCLE9BQUE1TixFQUFBd08sUUFDQVgsT0FBQXpDLEdBRUFtRCxFQUFBZCxPQUFBek8sRUFBQSxNQUNpQnVGLElBQUEsTUFBQXhFLEtBQUEsU0FBQTBPLE9BQUEsaUJBQ0FsSyxJQUFBLFFBQUF4RSxLQUFBLFFBR2pCQyxFQUFBd08sU0FBQXhPLEVBQUF3TyxRQUFBRSxTQUNBdEQsRUFBQXVELElBQUEsSUFBQTNDLEVBQUE0QyxzQkFBQTVPLEVBQUF3TyxRQUFBSyxjQUdBN08sRUFBQXdPLFVBQUEsSUFBQXhPLEVBQUF3TyxRQUFBTSxNQUNBMUQsRUFBQXVELElBQUEsSUFBQTVDLEVBQUF3Qix1QkFFQTFDLEVBQUF2UCxVQUFBOFAsRUFBQXNCLFFBQUEsU0FBQS9SLEVBQUF2QixFQUFBMlYsR0FDQXBVLEVBQUFtVCxZQUNBblQsRUFBQW1ULFlBQUFTLEVBQUEsU0FBQVMsR0FDQVQsRUFBQVMsRUFDQUQsTUFJQUEsTUFFYXpILEtBQUEsV0FDYjhELEVBQUFrQixXQUFBaUMsRUFBQWQsT0FDQXJDLEVBQUFnQixTQUFBbUMsRUFBQWIsUUFDQXRDLEVBQUFpQixPQUFBa0MsRUFBQVosTUFDQXZDLEVBQUFvRCxRQUFBRCxFQUFBWCxPQUNBOVQsT0FBQTBSLEtBQUFKLEVBQUFrQixZQUFBbEssUUFBQSxTQUFBaU0sR0FDQSxJQUFBWSxHQUFBLEVBQ0E3RCxFQUFBa0IsV0FBQStCLEdBQUFqRCxFQUFBa0IsV0FBQStCLEdBQUE5UCxPQUFBLFNBQUEyUSxHQUNBLFlBQUFBLEVBQUEzSyxLQUFBLE1BQUEySyxFQUFBblAsT0FDQWtQLEdBQUEsR0FDQSxLQUlBN0QsRUFBQXdCLFVBQUF5QixHQUFBWSxJQUVBN0QsRUFBQXNCLFFBQUF0SyxRQUFBLFNBQUErTSxHQUNBQSxFQUFBQyxVQUNBaEUsRUFBQWlFLGtCQUFBLEtBR0FyUCxFQUFBeU0sV0FBQTNTLE9BQUEwUixLQUFBSixFQUFBa0IsWUFDQSxJQUFBZ0QsRUFBQSxXQUNBekUsRUFBQXpPLFFBQUFnUCxFQUFBc0IsUUFBQSxTQUFBL1IsRUFBQXZCLEVBQUEyVixHQUNBcFUsRUFBQW9ULFdBQ0FwVCxFQUFBb1QsV0FBQVEsRUFBQSxXQUNBUSxNQUlBQSxNQUVxQnpILEtBQUEsV0FDckI4RCxFQUFBbUUsYUFBQSxFQUNBbkUsRUFBQWUsc0JBQUF4USxRQUNBeVAsRUFBQWUsc0JBQUEvSixRQUFBLFNBQUFvTixHQUErRSxPQUFBQSxNQUUvRS9ULEVBQUF1RSxFQUFBeU0sZUFHQWdELEVBQUEsU0FBQUMsR0FDQXRFLEVBQUF1RSxNQUFBLFVBQTJDcEwsSUFBQSxVQUFBbkssTUFBQWdSLEVBQUE3SCxVQUF1Q3FNLFlBQWN2QixNQUFBLFVBQWlCL0csS0FBQSxXQUNqSG9JLEVBQ0F0RSxFQUFBeUUsT0FBQSxlQUFBdkksS0FBQSxXQUNBZ0ksTUFJQUEsT0FJQWxFLEVBQUF1RSxNQUFBLFVBQUFHLE9BQUEsc0JBQUFGLFlBQWlGdkIsTUFBQSxVQUFpQi9HLEtBQUEsU0FBQXlJLEdBQ2xHQSxFQUFBcFUsT0FLQW9VLEVBQUEsR0FBQTNWLE9BQUEsS0FDQXFWLEdBQUEsR0FFQU0sRUFBQSxHQUFBM1YsTUFBQTZSLEVBQ0F3RCxHQUFBLEdBR0FILElBVkFHLEdBQUEsVUF3QkF2RCxFQUFBelIsVUFBQXVWLFdBQUEsU0FBQTNCLEdBQ0EsT0FBQWpJLEtBQUFnRyxTQUFBaUMsR0FBQS9SLElBQUEsU0FBQWtELEdBQ0EsT0FDQTdGLEtBQUE2RixFQUFBN0YsS0FDQTRGLEtBQUFDLEVBQUFELFNBV0EyTSxFQUFBelIsVUFBQXdWLFNBQUEsU0FBQTVCLEdBQ0EsT0FBQWpJLEtBQUFpRyxPQUFBZ0MsR0FBQS9SLElBQUEsU0FBQWtELEdBQ0EsT0FDQTdGLEtBQUE2RixFQUFBN0YsS0FDQTRGLEtBQUFDLEVBQUFELFNBVUEyTSxFQUFBelIsVUFBQXlWLFVBQUEsV0FDQSxPQUFBOUosS0FBQW9JLFNBVUF0QyxFQUFBelIsVUFBQTBWLFNBQUEsU0FBQUMsR0FFQSxPQURBaEssS0FBQWlLLE9BQUFELEVBQ0FoSyxNQUVBOEYsRUFBQXpSLFVBQUFrVSxJQUFBLFNBQUFRLEdBQ0EsT0FBQS9JLEtBQUFzRyxRQUFBM1EsS0FBQW9ULEdBQUEvSSxNQVdBOEYsRUFBQXpSLFVBQUE2VixHQUFBLFNBQUE1QyxFQUFBNkMsR0FDQSxJQUFBdlEsRUFBQW9HLEtBQ0EvTSxFQUFBMkcsRUFBQWtPLE9BQ0E5VSxFQUFBNEcsRUFBQXVNLFFBQUE1USxPQUNBNkQsRUFBQWtPLEVBQUFoTyxNQUFBLEtBQ0EsR0FBQW9CLE1BQUFDLFFBQUExSCxHQUNBLE9BQUErTSxLQUtBLElBSkFwRyxFQUFBb04sV0FBQS9ULEtBQ0EyRyxFQUFBb04sV0FBQS9ULEdBQUEsSUFBQXlTLEVBQUF1QixtQkFFQWpVLEVBQUFvRyxFQUFBN0QsT0FDQXZDLE1BQ0EsSUFBQTRHLEVBQUF1TSxRQUFBelAsUUFBQTBDLEVBQUFwRyxLQUNBNEcsRUFBQW9OLFdBQUEvVCxHQUFBaVgsR0FBQTlRLEVBQUFwRyxHQUFBbVgsR0FHQSxPQUFBdlEsRUFBQXdRLHdCQVVBdEUsRUFBQXpSLFVBQUFnVyxJQUFBLFNBQUEvQyxFQUFBNkMsR0FDQSxJQUFBdlEsRUFBQW9HLEtBQ0E1RyxFQUFBa08sRUFBQWhPLE1BQUEsS0FDQXRHLEVBQUFvRyxFQUFBN0QsT0FDQXRDLEVBQUEyRyxFQUFBa08sT0FDQSxHQUFBcE4sTUFBQUMsUUFBQTFILEdBQ0EsT0FBQStNLEtBQ0EsS0FBQWhOLE1BQ0EsSUFBQTRHLEVBQUF1TSxRQUFBelAsUUFBQTBDLEVBQUFwRyxLQUNBNEcsRUFBQW9OLFdBQUEvVCxHQUFBb1gsSUFBQWpSLEVBQUFwRyxHQUFBbVgsR0FHQSxPQUFBdlEsRUFBQXdRLHdCQUVBdEUsRUFBQXpSLFVBQUErVixxQkFBQSxXQUNBLElBQUFwRixFQUFBaEYsS0FXQSxPQVZBQSxLQUFBb0csY0FDQTFTLE9BQUEwUixLQUFBcEYsS0FBQWdILFlBQUFwSyxRQUFBLE1BQUFaLFFBQUEsU0FBQWlNLEdBQ0FqRCxFQUFBb0IsV0FBQTZCLEdBQUFqRCxFQUFBbUIsUUFBQTVPLE9BQUEsU0FBQUMsRUFBQUMsR0FDQSxPQUFBRCxHQUFBd04sRUFBQWdDLFdBQUFpQixJQUFBakQsRUFBQWdDLFdBQUFpQixHQUFBcUMsZUFBQTdTLEdBQUF1TixFQUFBZ0MsV0FBQWlCLEdBQUFxQyxlQUFBN1MsR0FBQWxDLE9BQUEsSUFDYSxPQUVieUssS0FBQStHLGNBQUEsRUFDQXJULE9BQUEwUixLQUFBcEYsS0FBQW9HLFlBQUFwSyxRQUFBLFNBQUFtQyxHQUNBNkcsRUFBQStCLGFBQUEvQixFQUFBK0IsY0FBQS9CLEVBQUFvQixXQUFBakksS0FFQTZCLE1BbUJBOEYsRUFBQXpSLFVBQUF5VSxNQUFBLFNBQUF5QixFQUFBbEMsRUFBQW1DLEdBQ0EsSUFBQXhGLEVBQUFoRixLQUNBcEcsRUFBQW9HLEtBQ0EvTSxFQUFBMkcsRUFBQWtPLE9BQ0EsR0FBQXBOLE1BQUFDLFFBQUExSCxHQUNBLE9BQUErTSxLQUNBcEcsRUFBQW9OLFdBQUEvVCxLQUNBMkcsRUFBQW9OLFdBQUEvVCxHQUFBLElBQUF5UyxFQUFBdUIsbUJBRUEsSUFBQVYsR0FBQSxFQUNBLElBQUFpRSxFQUFBLENBR0EsU0FEQSx3R0FDQTlULFFBQUF6RCxFQUFBc0gsUUFBQSxrQkFBQXRILEVBQUF5RCxRQUFBLGFBQUF6RCxFQUFBNkosTUFBQSxpQkFDQSxNQUFBMk4sTUFBQSxrRUFFQUYsT0FBQXZPLFFBQUEsU0FBQThNLEdBQ0EsVUFBQUEsRUFBQTNLLElBQUFyQixNQUFBLHNCQUFBZ00sRUFBQTNLLElBQUF6SCxRQUFBLEtBQ0EsTUFBQStULE1BQUEsbUVBbUNBLE9BL0JBN1EsRUFBQWdOLFdBQUEzVCxPQUNBc1gsT0FBQXZPLFFBQUEsU0FBQThNLEdBQ0FBLEVBQUFULE9BQ0FTLEVBQUFULE1BQUFyTSxRQUFBLFNBQUFDLEdBRUEsUUFBQUEsRUFBQXZGLFFBQUEsZ0JBQUF1RixFQUFBdkYsUUFBQSxNQUNBLElBQUFnVSxFQUFBek8sRUFBQTFCLFFBQUEsYUFBQWpCLE1BQUEsS0FBQTBELFFBQ0EyTixFQUFBMU8sRUFBQTFCLFFBQUEsYUFBQWpCLE1BQUEsS0FBQXNSLE1BQUFyUSxRQUFBLFFBQUFqQixNQUFBLEtBQUFwRCxJQUFBLFNBQUE3QyxHQUErSCxPQUFBQSxFQUFBd1gsU0FDL0hqUixFQUFBZ04sV0FBQTNULEdBQUE2VixFQUFBM0ssTUFBQXVNLEdBQUE5TixPQUFBK04sR0FHQSxPQUFBMU8sRUFBQXZGLFFBQUEsY0FDQWdVLEVBQUF6TyxFQUFBMUIsUUFBQSxnQ0FDQW9RLEVBQUExTyxFQUFBMUIsUUFBQSxnQ0FBQWpCLE1BQUEsS0FBQXBELElBQUEsU0FBQTdDLEdBQWdILE9BQUFBLEVBQUF3WCxTQUNoSGpSLEVBQUFnTixXQUFBM1QsR0FBQTZWLEVBQUEzSyxNQUFBdU0sR0FBQTlOLE9BQUErTixNQUlBN0IsRUFBQVQsT0FBQTVELEVBQUF6TSxXQUFBLGFBQUE4USxFQUFBVCxTQUNBckQsRUFBQTBCLFNBQUF6VCxHQUFBNlYsRUFBQTNLLElBQ0FvSSxHQUFBLEtBR0F2RyxLQUFBdUcsTUFBQXRULEdBQUFzVCxFQUNBQSxJQUNBdkcsS0FBQTBHLFNBQUF6VCxHQUFBLE9BQ0FzWCxFQUFBdE4sU0FBK0JrQixJQUFBLE9BQUF4RSxLQUFBLE9BQUEwTyxPQUFBLFdBRS9Cek8sRUFBQXNNLFdBQUFqVCxHQUFBc1gsRUFDQTNRLEVBQUFxTSxPQUFBaFQsTUFDQTJHLEVBQUFvTSxTQUFBL1MsTUFDQTJHLEdBc0RBa00sRUFBQXpSLFVBQUFrVCxNQUFBLFNBQUF1RCxHQUNBLE9BQUFwUSxNQUFBQyxRQUFBcUYsS0FBQThILFFBQ0E5SCxNQUNBQSxLQUFBaUcsT0FBQWpHLEtBQUE4SCxRQUFBZ0QsRUFBQTlLLE9Ba0JBOEYsRUFBQXpSLFVBQUEwVyxRQUFBLFNBQUFDLEVBQUFDLEdBRUEsWUFEQSxJQUFBQSxJQUFrQ0EsTUFDbEN2USxNQUFBQyxRQUFBcUYsS0FBQThILFFBQ0EsSUFBQXJELEVBQUE5UCxRQUFBLFNBQUFVLEVBQUFDLEdBQWdFLE9BQUFBLE1BQ2hFMEssS0FBQWtMLE1BQUEsT0FBQWxMLEtBQUFpRyxPQUFBakcsS0FBQThILFFBQUFrRCxFQUFBQyxJQW9EQW5GLEVBQUF6UixVQUFBaVQsUUFBQSxTQUFBNkQsR0FDQSxPQUFBelEsTUFBQUMsUUFBQXFGLEtBQUE4SCxRQUNBOUgsTUFDQUEsS0FBQWdHLFNBQUFoRyxLQUFBOEgsUUFBQXFELEVBQUFuTCxPQWtCQThGLEVBQUF6UixVQUFBK1csU0FBQSxTQUFBQyxFQUFBQyxHQUNBLE9BQUE1USxNQUFBQyxRQUFBcUYsS0FBQThILFFBQ0EsSUFBQXJELEVBQUE5UCxRQUFBLFNBQUFVLEVBQUFDLEdBQWdFLE9BQUFBLE1BQ2hFMEssS0FBQWtMLE1BQUEsU0FBQWxMLEtBQUFnRyxTQUFBaEcsS0FBQThILFFBQUF1RCxFQUFBQyxJQVNBeEYsRUFBQXpSLFVBQUFrWCxZQUFBLFNBQUFwQixHQUVBLE9BREFuSyxLQUFBd0wsU0FBQXJCLEVBQ0FuSyxNQWNBOEYsRUFBQXpSLFVBQUE2VyxNQUFBLFNBQUFPLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsSUFBQTVHLEVBQUFoRixLQUNBcEcsRUFBQW9HLEtBQ0E2TCxFQUFBSCxFQUFBblUsT0FBQSxTQUFBQyxFQUFBQyxHQUNBLE9BQUFBLEVBQUFsRSxPQUFBb1ksRUFDQWxVLEVBQ0FELEdBQ1MsTUFDVCxPQUFBcVUsR0FHQWpTLEVBQUFrUyxVQUFBSCxFQUNBL1IsRUFBQXFRLE9BQ0EsSUFBQXhGLEVBQUE5UCxRQUFBLFNBQUFVLEVBQUFDLEdBQ0FzRSxFQUFBcVEsT0FBQWpGLEVBQUE4QyxPQUFBMkQsRUFBQTdSLEVBQUFrUyxXQUFBLEdBQUFGLEVBQUEsU0FBQXpTLEdBQ0EwUyxFQUFBMVksS0FBQTBZLEVBQUExUyxLQUFBc0wsRUFBQXhMLFVBQUE0UyxFQUFBMVMsV0FBd0ZTLEdBQUFzSCxLQUFBN0wsR0FBQXlNLE1BQUF4TSxJQUN2RSxTQUFBeVcsR0FDakJ6VyxFQUFBeVcsT0FLQUYsRUFBQTFZLEtBQUEwWSxFQUFBMVMsS0FBQXNMLEVBQUF4TCxVQUFBNFMsRUFBQTFTLEtBQUF5UyxNQUF5RmhTLElBYnpGLElBQUE2SyxFQUFBOVAsUUFBQSxTQUFBVSxFQUFBQyxHQUFnRSxPQUFBQSxFQUFBLDZCQTJFaEV3USxFQUFBelIsVUFBQWtWLE1BQUEsU0FBQXlDLEVBQUE3UyxHQVNBLElBQ0E4UyxFQURBak0sS0FDQThMLFVBRUEsT0FIQTlMLEtBRUE4TCxlQUFBdFMsRUFDQSxJQUFBZ00sRUFBQTBHLGNBQUFsTSxVQUFBOEgsT0FBQWtFLEVBQUE3UyxFQUFBOFMsSUFFQW5HLEVBQUF6UixVQUFBOFgsWUFBQSxTQUFBL1csR0FDQTRLLEtBQUFtSixZQUNBL1QsSUFHQTRLLEtBQUErRixzQkFBQXBRLEtBQUFQLElBVUEwUSxFQUFBelIsVUFBQStYLGFBQUEsU0FBQUMsR0FDQSxJQUFBelMsRUFBQW9HLEtBQ0EsR0FBQXBHLEVBQUF3TSxXQUFBLE1BQUF4TSxFQUFBd00sV0FBQWlHLEVBQUFwRSxPQUFBLENBQ0EsU0FBQW9FLEVBQUFwRSxNQUNBLE9BQUFqSSxLQUNBdEwsRUFBQWtCLFFBQUEsV0FFQXlXLEVBQUEvUixNQUFBMEIsUUFBQSxTQUFBckMsR0FFQUMsRUFBQW9OLFdBQUEsS0FBQXNGLFFBQUEzUyxFQUFBMFMsRUFBQXpTLEdBQ0FBLEVBQUFvTixXQUFBLEtBQUFzRixRQUFBLElBQUFELEVBQUF6UyxHQUVBeVMsRUFBQXBFLE9BQUFyTyxFQUFBb04sV0FBQXFGLEVBQUFwRSxRQUNBck8sRUFBQW9OLFdBQUFxRixFQUFBcEUsT0FBQXFFLFFBQUEzUyxFQUFBMFMsRUFBQXpTLE9BS0EsT0FBQUEsR0F3QkFrTSxFQUFBelIsVUFBQWtZLFFBQUEsU0FBQUMsR0FDQSxJQUFBQyxLQUNBN1MsRUFBQW9HLEtBQ0EsT0FBQXRGLE1BQUFDLFFBQUFmLEVBQUFrTyxZQUVBbE8sRUFBQXNNLFdBQUF0TSxFQUFBa08sUUFBQTlMLFFBQUEsU0FBQTVJLEdBRUFxWixFQUFBclosRUFBQStLLEtBQUFxTyxLQUFBcFosRUFBQStLLEtBQUFxTyxFQUFBcFosRUFBQStLLEtBQUEvSyxFQUFBbVosYUFFQS9TLElBQUFpVCxFQUFBclosRUFBQStLLE9BQ0FzTyxFQUFBclosRUFBQStLLEtBQUFzRyxFQUFBbEwsS0FBQW5HLEVBQUF1RyxLQUFBLFNBR0E4UyxJQVVBM0csRUFBQXpSLFVBQUFxWSxRQUFBLFNBQUFDLEdBQ0EsSUFBQTNILEVBQUFoRixLQUNBLFdBQUF5RSxFQUFBOVAsUUFBQSxTQUFBVSxFQUFBQyxHQUNBLElBQUFJLEtBQ0ErTyxFQUFBdlAsVUFBQThQLEVBQUFzQixRQUFBLFNBQUF5QyxFQUFBL1YsRUFBQTRaLEdBQ0E3RCxFQUFBOEQsV0FDQTlELEVBQUE4RCxXQUFBRixHQUFBekwsS0FBQSxTQUFBeUwsR0FDQWpYLEVBQUE0UCxLQUE0QzVQLEVBQUFpWCxHQUM1Q0MsRUFBQWxYLEtBSUFrWCxNQUVhMUwsS0FBQSxXQUNiN0wsRUFBQUssUUFZQW9RLEVBQUF6UixVQUFBeVksVUFBQSxTQUFBSCxHQUNBLElBQUEzSCxFQUFBaEYsS0FDQSxXQUFBeUUsRUFBQTlQLFFBQUEsU0FBQVUsRUFBQUMsR0FDQW1QLEVBQUF2UCxVQUFBOFAsRUFBQXNCLFFBQUEsU0FBQXlDLEVBQUEvVixFQUFBNFosR0FDQTdELEVBQUFnRSxhQUNBaEUsRUFBQWdFLGFBQUFKLEdBQUF6TCxLQUFBMEwsR0FHQUEsTUFFYTFMLEtBQUEsV0FDYjdMLFNBVUF5USxFQUFBelIsVUFBQTJZLFdBQUEsV0FDQSxPQUFBdkksRUFBQXZQLFVBQUE4SyxLQUFBc0csUUFBQSxTQUFBeUMsRUFBQS9WLEVBQUE0WixHQUNBN0QsRUFBQWtFLGVBQ0FsRSxFQUFBa0UsZUFBQUwsR0FHQUEsT0FnQkE5RyxFQUFBelIsVUFBQTZZLGNBQUEsU0FBQUMsR0FDQSxJQUFBbkksRUFBQWhGLEtBQ0FwRyxFQUFBb0csS0FDQW9OLEtBQ0FDLEVBQUE1SSxFQUFBN04sZUFBQW1CLFNBQUEsSUFDQSxXQUFBME0sRUFBQTlQLFFBQUEsU0FBQXNNLEVBQUFxQixHQUNBMUksRUFBQTBNLFFBQUEvUSxPQUlBa1AsRUFBQXZQLFVBQUEwRSxFQUFBME0sUUFBQSxTQUFBL1IsRUFBQXZCLEVBQUEyVixHQUNBcFUsRUFBQStZLGlCQUNBL1ksRUFBQStZLGlCQUFBRCxFQUFBMUUsR0FHQUEsTUFFYXpILEtBQUEsV0FDYnhHLE1BQUFDLFFBQUFmLEVBQUFrTyxTQUVBcUYsRUFBQSxTQUFBbEYsR0FDQSxJQUFBc0YsRUFBQXRGLEdBQUFyTyxFQUFBa08sT0FDQSxPQUNBeUIsTUFBQSxTQUFBeUMsRUFBQTdTLEdBQ0EsV0FBQXNNLEVBQUErSCx5QkFBQXhCLEVBQUE3UyxFQUFBb1UsRUFBQUgsRUFBQUMsTUFHaUIsV0FDakIsSUFBQVYsS0FDQWxJLEVBQUF2UCxVQUFBa1ksRUFBQSxTQUFBSyxFQUFBemEsRUFBQTBhLEdBQ0FmLEVBQUFoWCxLQUFBOFgsRUFBQXhGLE9BQ0FyTyxFQUFBMlAsTUFBQWtFLEVBQUF6QixPQUFBeUIsRUFBQW5DLFlBQUE5QixXQUFBbEUsS0FBb0ZtSSxHQUFTeEYsTUFBQXdGLEVBQUF4RixNQUFBMEYsYUFBQSxFQUFBQyxRQUFBUCxLQUErRG5NLEtBQUF3TSxLQUN2SXhNLEtBQUEsU0FBQTFMLEdBQ3JCaVAsRUFBQXZQLFVBQUE4UCxFQUFBc0IsUUFBQSxTQUFBL1IsRUFBQXZCLEVBQUEyVixHQUNBcFUsRUFBQXNaLGVBQ0F0WixFQUFBc1osZUFBQVIsRUFBQTFFLEdBR0FBLE1BRXlCekgsS0FBQSxXQUN6QnlMLEVBQUF4VSxPQUFBLFNBQUF1QixFQUFBd0wsRUFBQTdILEdBQ0EsT0FBQUEsRUFBQTNHLFFBQUFnRCxLQUFBd0wsSUFDNkJsSixRQUFBLFNBQUFpTSxHQUM3QixJQUFBQSxFQUFBdlIsUUFBQSxNQUNBa0QsRUFBQXdTLGNBQ0E3QyxNQUFBNkQsRUFBQSxHQUNBbkYsUUFDQXJRLE1BQUEsSUFBQUMsTUFBQUMsVUFDQXBDLE9BQUFGLEVBQ0E4RSxPQUFBLGVBQ0F3VCxhQUFBLEdBQ0FDLFNBQ0FWLGdCQUNBVyxrQkFDQUMsb0JBSUFoTixFQUFBekwsV0FwREE4TSxFQUFBLGlDQW1FQXdELEVBQUF6UixVQUFBbVQsT0FBQSxTQUFBck8sR0FFQSxPQURBNkcsS0FBQW9JLFFBQUFqUCxFQUNBNkcsTUFVQThGLEVBQUF6UixVQUFBb1YsT0FBQSxXQUVBLElBREEsSUFBQXRRLEtBQ0E0SCxFQUFBLEVBQXdCQSxFQUFBZCxVQUFBMUssT0FBdUJ3TCxJQUMvQzVILEVBQUE0SCxHQUFBZCxVQUFBYyxHQUVBLElBQUFuSCxFQUFBb0csS0FDQSxXQUFBeUUsRUFBQTlQLFFBQUEsU0FBQVUsRUFBQUMsR0FDQSxHQUFBc0UsRUFBQTBNLFFBQUEvUSxPQUFBLENBQ0EsSUFBQTJZLEVBQUEvVSxFQUNBZ1YsS0FDQTFKLEVBQUF2UCxVQUFBMEUsRUFBQTBNLFFBQUEsU0FBQS9SLEVBQUF2QixFQUFBMlYsR0FDQXBVLEVBQUFrVixPQUNBbFYsRUFBQWtWLE9BQUEsU0FBQTJFLEVBQUFDLEdBQ0FILEVBQUFFLEVBQ0FELEVBQUFFLEVBQ0ExRixLQUN5QnVGLEVBQUFDLEdBR3pCeEYsTUFFaUJ6SCxLQUFBLFdBQ2pCN0wsRUFBQThZLFVBSUE3WSxFQUFBLGtCQXNCQXdRLEVBQUF6UixVQUFBaWEsT0FBQSxTQUFBckcsRUFBQTBCLEVBQUE0RSxFQUFBQyxHQUNBLElBQUF4SixFQUFBaEYsS0FFQSxPQUFBdU8sRUFEQXZPLEtBRUFrTixjQUFBLFNBQUF1QixFQUFBQyxHQUNBL0UsRUFBQTNOLFFBQUEsU0FBQTJTLEdBQ0FGLEVBQUF4RyxHQUFBc0IsTUFBQSxTQUFBb0YsR0FBQXRLLFNBRUFxSyxNQUlBLElBQUFqSyxFQUFBOVAsUUFBQSxTQUFBVSxFQUFBQyxHQUNBbVAsRUFBQXZQLFVBQUF5VSxFQUFBLFNBQUFnRixFQUFBM2IsRUFBQTRiLEdBQ0FKLEdBQ0FBLEVBQUExWCxLQUFBQyxPQUFBL0QsRUFBQSxHQUFBMlcsRUFBQXBVLE9BQUEsVUFDQXlQLEVBQUF1RSxNQUFBLFNBQUFvRixHQUFBbkYsWUFBMkR2QixVQUFlL0csS0FBQTBOLEtBQ3pEMU4sS0FBQSxTQUFBeUksR0FDakJ0VSxFQUFBc1UsRUFBQXpULElBQUEsU0FBQW5DLEdBQStDLE9BQUFBLEVBQUFpSixnQkFpQi9DOEksRUFBQXpSLFVBQUF3YSxRQUFBLFNBQUE1RyxFQUFBNkcsRUFBQVAsRUFBQVEsRUFBQVAsR0FDQSxJQUFBeEosRUFBQWhGLEtBRUFnUCxLQUNBQyxFQUFBSCxFQUFBeFYsTUFBQSxNQUFBcEQsSUFBQSxTQUFBK0UsRUFBQWlVLEdBQ0EsT0FBQUEsRUFBQSxDQUtBLElBQUFDLEtBQ0FDLEVBQUFuVSxFQUFBNkIsTUFBQSwwREFDQXVTLEdBQUEsRUFDQSxNQUFBRCxFQUFBLElBQ0FBLEVBQUFuUyxRQUFBLElBcUJBLElBbkJBLElBQUE2RixFQUFBLFdBQ0EsSUFBQXdNLEdBQUEsRUFXQSxHQVZBRixFQUFBcFQsUUFBQSxTQUFBdEMsRUFBQTFHLEdBQ0FzYyxHQUVBLE1BQUE1VixTQUNBLElBQUEwVixFQUFBcGMsRUFBQSxVQUFBb2MsRUFBQXBjLEVBQUEsS0FDQXNjLEdBQUEsRUFDQUYsRUFBQTdULE9BQUF2SSxFQUFBLFlBSUFzYyxFQUlBLGNBSEFELEdBQUEsSUFNQUEsR0FBQSxDQUVBLGFBREF2TSxJQUVBLE1BRUFzTSxJQUFBalgsT0FBQSxTQUFBOEMsRUFBQWpJLEdBQXNELE9BQUFBLEVBQUEsT0FFdEQsSUFEQSxJQUFBQSxFQUFBZ2MsRUFBQXpaLE9BQ0F2QyxLQUMyQyxJQUEzQ29jLEVBQUFwYyxHQUFBMEQsUUFBQSxNQUEyQyxJQUFBMFksRUFBQXBjLEdBQUEwRCxRQUFBLEtBRTNDMFksRUFBQXBjLEdBQUErQixLQUFBQyxNQUFBb2EsRUFBQXBjLEdBQUFzRixNQUFBLEVBQUE4VyxFQUFBcGMsR0FBQXVDLE9BQUEsR0FBQWdGLFFBQUEsWUFHQSxJQUFBNlUsRUFBQXBjLEdBQUEwRCxRQUFBLE9BQ0EwWSxFQUFBcGMsR0FBQW9jLEVBQUFwYyxHQUFBc0YsTUFBQSxFQUFBOFcsRUFBQXBjLEdBQUF1QyxPQUFBLElBRUE0WixFQUFBSCxFQUFBaGMsSUFBQW9jLEVBQUFwYyxHQUVBLE9BQUErYixFQUNBQSxFQUFBSSxHQUVBQSxFQWxEQUgsRUFBQS9ULEVBQUEzQixNQUFBLE9Bb0RTbkIsT0FBQSxTQUFBcEUsR0FBdUIsT0FBQUEsSUFDaEMsT0FBQXdhLEVBekRBdk8sS0EwREFrTixjQUFBLFNBQUF1QixFQUFBQyxHQUNBTyxFQUFBalQsUUFBQSxTQUFBMlMsR0FDQUYsRUFBQXhHLEdBQUFzQixNQUFBLFNBQUFvRixHQUFBdEssU0FFQXFLLE1BSUEsSUFBQWpLLEVBQUE5UCxRQUFBLFNBQUFVLEVBQUFDLEdBQ0FtUCxFQUFBdlAsVUFBQStaLEVBQUEsU0FBQU4sRUFBQTNiLEVBQUE0YixHQUNBSixHQUNBQSxFQUFBMVgsS0FBQUMsT0FBQS9ELEVBQUEsR0FBQWljLEVBQUExWixPQUFBLFVBQ0F5UCxFQUFBdUUsTUFBQSxTQUFBb0YsR0FBQW5GLFlBQTJEdkIsVUFBZS9HLEtBQUEwTixLQUN6RDFOLEtBQUEsU0FBQXlJLEdBQ2pCdFUsRUFBQXNVLEVBQUF6VCxJQUFBLFNBQUFuQyxHQUErQyxPQUFBQSxFQUFBaUosZ0JBSy9DOEksRUExaUNBLEdBNGlDQWhULEVBQUFnVCxrQkFDQUEsRUFBQXlKLFdBQ0FDLE9BQ0E3VixLQUFBLElBQ0F4RyxLQUFBLFNBQUF3VyxFQUFBK0UsRUFBQWUsR0FFQWYsRUFEQWUsR0FBQSxNQUFBQSxFQUNBOUYsRUFBQXhSLE9BQUEsU0FBQXBFLEdBQW1ELE9BQUEwUSxFQUFBckksU0FBQXFULEVBQUExYixLQUEwQ3dCLE9BRzdGb1UsRUFBQXBVLFVBSUFtYSxLQUNBL1YsS0FBQSxJQUNBeEcsS0FBQSxTQUFBd1csRUFBQStFLEVBQUFlLEdBQ0EsR0FBQTlGLEVBQUFwVSxPQUFBLENBQ0EsSUFBQW9hLEVBQUFsTCxFQUFBckksU0FBQXFULEVBQUE5RixFQUFBLE9BQ0FBLEVBQUEzTixRQUFBLFNBQUFqSSxHQUNBMFEsRUFBQXJJLFNBQUFxVCxFQUFBMWIsR0FDQTBRLEVBQUFySSxTQUFBcVQsRUFBQTFiLEdBQUE0YixJQUNBQSxFQUFBbEwsRUFBQXJJLFNBQUFxVCxFQUFBMWIsTUFHQTJhLEVBQUFpQixRQUdBakIsRUFBQSxLQUlBa0IsS0FDQWpXLEtBQUEsSUFDQXhHLEtBQUEsU0FBQXdXLEVBQUErRSxFQUFBZSxHQUNBLEdBQUE5RixFQUFBcFUsT0FBQSxDQUNBLElBQUFzYSxFQUFBcEwsRUFBQXJJLFNBQUFxVCxFQUFBOUYsRUFBQSxPQUNBQSxFQUFBM04sUUFBQSxTQUFBakksR0FDQSxJQUFBa0gsRUFBQXdKLEVBQUFySSxTQUFBcVQsRUFBQTFiLEdBQ0FrSCxFQUFBNFUsSUFDQUEsRUFBQTVVLEtBR0F5VCxFQUFBbUIsUUFHQW5CLEVBQUEsS0FJQW9CLEtBQ0FuVyxLQUFBLElBQ0F4RyxLQUFBLFNBQUF3VyxFQUFBK0UsRUFBQWUsR0FDQWYsRUFBQS9FLEVBQUFwUyxPQUFBLFNBQUFDLEVBQUFDLEdBQXVELE9BQUFELEdBQUFpTixFQUFBckksU0FBQXFULEVBQUFoWSxJQUFBLElBQTBELEdBQUFrUyxFQUFBcFUsVUFHakh3YSxLQUNBcFcsS0FBQSxJQUNBeEcsS0FBQSxTQUFBd1csRUFBQStFLEVBQUFlLEdBQ0FmLEVBQUEvRSxFQUFBcFMsT0FBQSxTQUFBQyxFQUFBQyxHQUF1RCxPQUFBRCxHQUFBaU4sRUFBQXJJLFNBQUFxVCxFQUFBaFksSUFBQSxJQUEwRCxNQUdqSHVZLE9BQ0FyVyxLQUFBLElBQ0F4RyxLQUFBLFNBQUF3VyxFQUFBK0UsRUFBQWUsR0FDQWYsRUFBQS9FLEVBQUF6VCxJQUFBLFNBQUFuQyxHQUNBLE9BQUE2RyxPQUFBNkosRUFBQXJJLFNBQUFxVCxFQUFBMWIsSUFBQStHLG1CQUlBbVYsT0FDQXRXLEtBQUEsSUFDQXhHLEtBQUEsU0FBQXdXLEVBQUErRSxFQUFBZSxHQUNBZixFQUFBL0UsRUFBQXpULElBQUEsU0FBQW5DLEdBQ0EsT0FBQTZHLE9BQUE2SixFQUFBckksU0FBQXFULEVBQUExYixJQUFBbWMsbUJBSUFDLE1BQ0F4VyxLQUFBLElBQ0F4RyxLQUFBLFNBQUF3VyxFQUFBK0UsRUFBQWUsRUFBQTlWLEdBQ0ErVSxFQUFBL0UsRUFBQXpULElBQUEsU0FBQW5DLEdBQ0EsT0FBQTBRLEVBQUFsTCxLQUFBSSxFQUFBOEssRUFBQXJJLFNBQUFxVCxFQUFBMWIsU0FJQXFjLEtBQ0F6VyxLQUFBLElBQ0F4RyxLQUFBLFNBQUF3VyxFQUFBK0UsRUFBQWUsR0FDQWYsRUFBQS9FLEVBQUF6VCxJQUFBLFNBQUFuQyxHQUNBLE9BQUErQyxLQUFBdVosSUFBQTVMLEVBQUFySSxTQUFBcVQsRUFBQTFiLFNBSUF1YyxNQUNBM1csS0FBQSxJQUNBeEcsS0FBQSxTQUFBd1csRUFBQStFLEVBQUFlLEdBQ0FmLEVBQUEvRSxFQUFBelQsSUFBQSxTQUFBbkMsR0FDQSxPQUFBK0MsS0FBQXlaLEtBQUE5TCxFQUFBckksU0FBQXFULEVBQUExYixTQUlBeWMsS0FDQTdXLEtBQUEsSUFDQXhHLEtBQUEsU0FBQXdXLEVBQUErRSxFQUFBZSxFQUFBZ0IsR0FDQS9CLEVBQUEvRSxFQUFBelQsSUFBQSxTQUFBbkMsR0FDQSxPQUFBK0MsS0FBQUcsSUFBQXdOLEVBQUFySSxTQUFBcVQsRUFBQTFiLEdBQUF5RyxTQUFBaVcsU0FJQUMsT0FDQS9XLEtBQUEsSUFDQXhHLEtBQUEsU0FBQXdXLEVBQUErRSxFQUFBZSxHQUNBZixFQUFBL0UsRUFBQXpULElBQUEsU0FBQW5DLEdBQ0EsT0FBQStDLEtBQUFDLE1BQUEwTixFQUFBckksU0FBQXFULEVBQUExYixTQUlBNGMsTUFDQWhYLEtBQUEsSUFDQXhHLEtBQUEsU0FBQXdXLEVBQUErRSxFQUFBZSxHQUNBZixFQUFBL0UsRUFBQXpULElBQUEsU0FBQW5DLEdBQ0EsT0FBQStDLEtBQUE4WixLQUFBbk0sRUFBQXJJLFNBQUFxVCxFQUFBMWIsVUFRQSxJQUFBOGMsRUFBQSxJQUFBL0ssRUFDQWhULEVBQUFnZSxLQUFBLFNBQUFDLEdBQ0EsT0FBQUYsRUFBQTVJLE1BQUE4SSxJQUVBLG9CQUFBbmMsU0FDQUEsT0FBQSxhQUNBa2MsS0FBQWhlLEVBQUFnZSxLQUNBaEwsbUNDOXNDQWhULEVBQUE4SyxLQUFjb1Qsc0NDQWQsSUFBQXZjLEVBQUE3QixFQUFBLEdBQ0FzSyxFQUFBdEssRUFBQSxHQUNBcWUsRUFBQXJlLEVBQUEsSUFDQXNlLEVBQUF0ZSxFQUFBLElBQ0FlLEVBQUFmLEVBQUEsR0FBQWdMLEVBQ0E3SyxFQUFBRCxRQUFBLFNBQUFTLEdBQ0EsSUFBQTRkLEVBQUFqVSxFQUFBb0IsU0FBQXBCLEVBQUFvQixPQUFBMlMsS0FBMER4YyxFQUFBNkosWUFDMUQsS0FBQS9LLEVBQUE2ZCxPQUFBLElBQUE3ZCxLQUFBNGQsR0FBQXhkLEVBQUF3ZCxFQUFBNWQsR0FBa0ZTLE1BQUFrZCxFQUFBdFQsRUFBQXJLLHVCQ1BsRlQsRUFBQThLLEVBQUFoTCxFQUFBLG9CQ0FBLElBQUF5ZSxFQUFBemUsRUFBQSxHQUFBZ0wsRUFDQWlCLEVBQUFqTSxFQUFBLEdBQ0EwZSxFQUFBMWUsRUFBQSxFQUFBQSxDQUFBLGVBRUFHLEVBQUFELFFBQUEsU0FBQW9MLEVBQUFxVCxFQUFBQyxHQUNBdFQsSUFBQVcsRUFBQVgsRUFBQXNULEVBQUF0VCxJQUFBN0osVUFBQWlkLElBQUFELEVBQUFuVCxFQUFBb1QsR0FBb0UxZCxjQUFBLEVBQUFJLE1BQUF1ZCxvQkNKcEV4ZSxFQUFBRCxRQUFBLGdHQUVBd0csTUFBQSxzQkNGQSxJQUFBbVksRUFBQTdlLEVBQUEsSUFDQThlLEVBQUE5ZSxFQUFBLElBRUFHLEVBQUFELFFBQUFZLE9BQUEwUixNQUFBLFNBQUF2SCxHQUNBLE9BQUE0VCxFQUFBNVQsRUFBQTZULHFCQ0pBLElBQUFsVSxFQUFBNUssRUFBQSxJQUNBK2UsRUFBQS9lLEVBQUEsSUFDQThlLEVBQUE5ZSxFQUFBLElBQ0FnZixFQUFBaGYsRUFBQSxHQUFBQSxDQUFBLFlBQ0FpZixFQUFBLGFBSUFDLEVBQUEsV0FFQSxJQUlBQyxFQUpBQyxFQUFBcGYsRUFBQSxHQUFBQSxDQUFBLFVBQ0FJLEVBQUEwZSxFQUFBbmMsT0FjQSxJQVZBeWMsRUFBQUMsTUFBQUMsUUFBQSxPQUNBdGYsRUFBQSxJQUFBdWYsWUFBQUgsR0FDQUEsRUFBQUksSUFBQSxlQUdBTCxFQUFBQyxFQUFBSyxjQUFBQyxVQUNBQyxPQUNBUixFQUFBUyxNQUFBQyx1Q0FDQVYsRUFBQVcsUUFDQVosRUFBQUMsRUFBQTVTLEVBQ0FuTSxZQUFBOGUsRUFBQSxVQUFBSixFQUFBMWUsSUFDQSxPQUFBOGUsS0FHQS9lLEVBQUFELFFBQUFZLE9BQUFpZixRQUFBLFNBQUE5VSxFQUFBK1UsR0FDQSxJQUFBbGQsRUFRQSxPQVBBLE9BQUFtSSxHQUNBZ1UsRUFBQSxVQUFBclUsRUFBQUssR0FDQW5JLEVBQUEsSUFBQW1jLEVBQ0FBLEVBQUEsZUFFQW5jLEVBQUFrYyxHQUFBL1QsR0FDR25JLEVBQUFvYyxTQUNIdFksSUFBQW9aLEVBQUFsZCxFQUFBaWMsRUFBQWpjLEVBQUFrZCxtQkN2Q0E3ZixFQUFBRCwwQkNBQUMsRUFBQUQsU0FBQSxpQkNDQSxJQUFBeWQsRUFBQXpaLEtBQUF5WixLQUNBNVUsRUFBQTdFLEtBQUE2RSxNQUNBNUksRUFBQUQsUUFBQSxTQUFBb0wsR0FDQSxPQUFBaEQsTUFBQWdELE1BQUEsR0FBQUEsRUFBQSxFQUFBdkMsRUFBQTRVLEdBQUFyUyxxQkNIQSxJQUFBekUsRUFBQTdHLEVBQUEsR0FHQUcsRUFBQUQsUUFBQSxTQUFBb0wsRUFBQXFCLEdBQ0EsSUFBQTlGLEVBQUF5RSxHQUFBLE9BQUFBLEVBQ0EsSUFBQTJVLEVBQUFuWixFQUNBLEdBQUE2RixHQUFBLG1CQUFBc1QsRUFBQTNVLEVBQUFuRyxZQUFBMEIsRUFBQUMsRUFBQW1aLEVBQUExZixLQUFBK0ssSUFBQSxPQUFBeEUsRUFDQSxzQkFBQW1aLEVBQUEzVSxFQUFBNFUsV0FBQXJaLEVBQUFDLEVBQUFtWixFQUFBMWYsS0FBQStLLElBQUEsT0FBQXhFLEVBQ0EsSUFBQTZGLEdBQUEsbUJBQUFzVCxFQUFBM1UsRUFBQW5HLFlBQUEwQixFQUFBQyxFQUFBbVosRUFBQTFmLEtBQUErSyxJQUFBLE9BQUF4RSxFQUNBLE1BQUF1RSxVQUFBLDZEQ1ZBLElBQUF4SixFQUFBN0IsRUFBQSxHQUVBd0wsRUFBQTNKLEVBREEsd0JBQ0FBLEVBREEsMEJBRUExQixFQUFBRCxRQUFBLFNBQUFxTCxHQUNBLE9BQUFDLEVBQUFELEtBQUFDLEVBQUFELHlCQ0pBLElBQUE0VSxFQUFBbmdCLEVBQUEsR0FBQUEsQ0FBQSxRQUNBeUwsRUFBQXpMLEVBQUEsSUFDQUcsRUFBQUQsUUFBQSxTQUFBcUwsR0FDQSxPQUFBNFUsRUFBQTVVLEtBQUE0VSxFQUFBNVUsR0FBQUUsRUFBQUYsb0JDRkFwTCxFQUFBRCxRQUFBLFNBQUFvTCxHQUNBLFFBQUExRSxHQUFBMEUsRUFBQSxNQUFBRCxVQUFBLHlCQUFBQyxHQUNBLE9BQUFBLGtCQ0hBLElBQUE4VSxFQUdBQSxFQUFBLFdBQ0EsT0FBQWhULEtBREEsR0FJQSxJQUVBZ1QsS0FBQTFWLFNBQUEsY0FBQUEsS0FBQSxFQUFBMlYsTUFBQSxRQUNDLE1BQUFqVixHQUVELGlCQUFBcEosU0FBQW9lLEVBQUFwZSxRQU9BN0IsRUFBQUQsUUFBQWtnQixnQ0NSQSxTQUFBRSxFQUFBQyxHQUNBLGtCQUNBLE9BQUFBLEdBU0EsSUFBQUMsRUFBQSxhQUVBQSxFQUFBQyxZQUFBSCxFQUNBRSxFQUFBRSxpQkFBQUosR0FBQSxHQUNBRSxFQUFBRyxnQkFBQUwsR0FBQSxHQUNBRSxFQUFBSSxnQkFBQU4sRUFBQSxNQUNBRSxFQUFBSyxnQkFBQSxXQUNBLE9BQUF6VCxNQUVBb1QsRUFBQU0sb0JBQUEsU0FBQVAsR0FDQSxPQUFBQSxHQUdBcGdCLEVBQUFELFFBQUFzZ0IsZ0NDekJBLElBU0FPLEVBVEEvZ0IsRUFBQSxJQWdDQStnQixFQUFBLFNBQUFDLEVBQUFDLEdBQ0EsUUFBQXJhLElBQUFxYSxFQUNBLFVBQUFwSixNQUFBLDZFQUdBLE9BQUFvSixFQUFBbmQsUUFBQSxpQ0FJQWtkLEVBQUEsQ0FDQSxRQUFBRSxFQUFBN1QsVUFBQTFLLE9BQUE0RCxFQUFBdUIsTUFBQW9aLEVBQUEsRUFBQUEsRUFBQSxLQUFBQyxFQUFBLEVBQTRGQSxFQUFBRCxFQUFlQyxJQUMzRzVhLEVBQUE0YSxFQUFBLEdBQUE5VCxVQUFBOFQsSUEvQkEsU0FBQUYsR0FDQSxRQUFBRyxFQUFBL1QsVUFBQTFLLE9BQUE0RCxFQUFBdUIsTUFBQXNaLEVBQUEsRUFBQUEsRUFBQSxLQUFBQyxFQUFBLEVBQXNGQSxFQUFBRCxFQUFhQyxJQUNuRzlhLEVBQUE4YSxFQUFBLEdBQUFoVSxVQUFBZ1UsR0FHQSxJQUFBQyxFQUFBLEVBQ0FDLEVBQUEsWUFBQU4sRUFBQXRaLFFBQUEsaUJBQ0EsT0FBQXBCLEVBQUErYSxPQUVBLG9CQUFBRSxTQUNBQSxRQUFBalIsTUFBQWdSLEdBRUEsSUFJQSxVQUFBMUosTUFBQTBKLEdBQ0ssTUFBQUUsT0FpQkx4WCxXQUFBckQsR0FBQXFhLEdBQUFqWCxPQUFBekQsTUFLQXBHLEVBQUFELFFBQUE2Z0IsZ0NDeENBLElBQUFXLEVBQUEsU0FBQVQsS0FHQVMsRUFBQSxTQUFBVCxHQUNBLFFBQUFyYSxJQUFBcWEsRUFDQSxVQUFBcEosTUFBQSxpREEwQkExWCxFQUFBRCxRQXJCQSxTQUFBOGdCLEVBQUFDLEVBQUF6YSxFQUFBZixFQUFBaEYsRUFBQUMsRUFBQTBLLEVBQUFKLEdBR0EsR0FGQTBXLEVBQUFULElBRUFELEVBQUEsQ0FDQSxJQUFBelEsRUFDQSxRQUFBM0osSUFBQXFhLEVBQ0ExUSxFQUFBLElBQUFzSCxNQUFBLHFJQUNLLENBQ0wsSUFBQXRSLEdBQUFDLEVBQUFmLEVBQUFoRixFQUFBQyxFQUFBMEssRUFBQUosR0FDQXNXLEVBQUEsR0FDQS9RLEVBQUEsSUFBQXNILE1BQUFvSixFQUFBdFosUUFBQSxpQkFDQSxPQUFBcEIsRUFBQSthLFNBRUEzZ0IsS0FBQSxzQkFJQSxNQURBNFAsRUFBQW9SLFlBQUEsRUFDQXBSLHFCQ2hEQSxJQUFBcVIsRUFBQTVoQixFQUFBLElBQ0E4TCxFQUFBOUwsRUFBQSxJQUNBNmhCLEVBQUE3aEIsRUFBQSxHQUNBOEssRUFBQTlLLEVBQUEsSUFDQWlNLEVBQUFqTSxFQUFBLEdBQ0E2SyxFQUFBN0ssRUFBQSxJQUNBOGhCLEVBQUFoaEIsT0FBQWloQix5QkFFQTdoQixFQUFBOEssRUFBQWhMLEVBQUEsR0FBQThoQixFQUFBLFNBQUE3VyxFQUFBQyxHQUdBLEdBRkFELEVBQUE0VyxFQUFBNVcsR0FDQUMsRUFBQUosRUFBQUksR0FBQSxHQUNBTCxFQUFBLElBQ0EsT0FBQWlYLEVBQUE3VyxFQUFBQyxHQUNHLE1BQUFFLElBQ0gsR0FBQWEsRUFBQWhCLEVBQUFDLEdBQUEsT0FBQVksR0FBQThWLEVBQUE1VyxFQUFBekssS0FBQTBLLEVBQUFDLEdBQUFELEVBQUFDLHNCQ2JBLElBQUEyVCxFQUFBN2UsRUFBQSxJQUNBZ2lCLEVBQUFoaUIsRUFBQSxJQUFBZ0ssT0FBQSxzQkFFQTlKLEVBQUE4SyxFQUFBbEssT0FBQXFJLHFCQUFBLFNBQUE4QixHQUNBLE9BQUE0VCxFQUFBNVQsRUFBQStXLG1CQ0xBOWhCLEVBQUE4SyxFQUFBbEssT0FBQW1oQixxQ0NBQSxJQUFBOWMsS0FBaUJBLFNBRWpCaEYsRUFBQUQsUUFBQSxTQUFBb0wsR0FDQSxPQUFBbkcsRUFBQTVFLEtBQUErSyxHQUFBNUYsTUFBQSx3QkNIQSxJQUFBdUcsRUFBQWpNLEVBQUEsR0FDQTZoQixFQUFBN2hCLEVBQUEsR0FDQWtpQixFQUFBbGlCLEVBQUEsR0FBQUEsRUFBQSxHQUNBZ2YsRUFBQWhmLEVBQUEsR0FBQUEsQ0FBQSxZQUVBRyxFQUFBRCxRQUFBLFNBQUFxQixFQUFBNGdCLEdBQ0EsSUFHQTVXLEVBSEFOLEVBQUE0VyxFQUFBdGdCLEdBQ0FuQixFQUFBLEVBQ0EwQyxLQUVBLElBQUF5SSxLQUFBTixFQUFBTSxHQUFBeVQsR0FBQS9TLEVBQUFoQixFQUFBTSxJQUFBekksRUFBQUMsS0FBQXdJLEdBRUEsS0FBQTRXLEVBQUF4ZixPQUFBdkMsR0FBQTZMLEVBQUFoQixFQUFBTSxFQUFBNFcsRUFBQS9oQixTQUNBOGhCLEVBQUFwZixFQUFBeUksSUFBQXpJLEVBQUFDLEtBQUF3SSxJQUVBLE9BQUF6SSxvQkNmQTNDLEVBQUFELFFBQUFGLEVBQUEsaUNDQ0EsSUFBQXFlLEVBQUFyZSxFQUFBLElBQ0FrTSxFQUFBbE0sRUFBQSxJQUNBb2lCLEVBQUFwaUIsRUFBQSxJQUNBZ00sRUFBQWhNLEVBQUEsR0FDQXFpQixFQUFBcmlCLEVBQUEsSUFDQXNpQixFQUFBdGlCLEVBQUEsSUFDQXVpQixFQUFBdmlCLEVBQUEsSUFDQXdpQixFQUFBeGlCLEVBQUEsSUFDQXlpQixFQUFBemlCLEVBQUEsRUFBQUEsQ0FBQSxZQUNBMGlCLE9BQUFsUSxNQUFBLFdBQUFBLFFBS0FtUSxFQUFBLFdBQThCLE9BQUF2VixNQUU5QmpOLEVBQUFELFFBQUEsU0FBQTBpQixFQUFBQyxFQUFBQyxFQUFBOUksRUFBQStJLEVBQUFDLEVBQUFDLEdBQ0FYLEVBQUFRLEVBQUFELEVBQUE3SSxHQUNBLElBZUFrSixFQUFBM1gsRUFBQTRYLEVBZkFDLEVBQUEsU0FBQUMsR0FDQSxJQUFBWCxHQUFBVyxLQUFBQyxFQUFBLE9BQUFBLEVBQUFELEdBQ0EsT0FBQUEsR0FDQSxJQVZBLE9BV0EsSUFWQSxTQVVBLGtCQUE2QyxXQUFBUCxFQUFBMVYsS0FBQWlXLElBQ3hDLGtCQUE0QixXQUFBUCxFQUFBMVYsS0FBQWlXLEtBRWpDM0UsRUFBQW1FLEVBQUEsWUFDQVUsRUFkQSxVQWNBUixFQUNBUyxHQUFBLEVBQ0FGLEVBQUFWLEVBQUFuaEIsVUFDQWdpQixFQUFBSCxFQUFBYixJQUFBYSxFQW5CQSxlQW1CQVAsR0FBQU8sRUFBQVAsR0FDQVcsRUFBQUQsR0FBQUwsRUFBQUwsR0FDQVksRUFBQVosRUFBQVEsRUFBQUgsRUFBQSxXQUFBTSxPQUFBOWMsRUFDQWdkLEVBQUEsU0FBQWYsR0FBQVMsRUFBQU8sU0FBQUosRUF3QkEsR0FyQkFHLElBQ0FULEVBQUFYLEVBQUFvQixFQUFBcmpCLEtBQUEsSUFBQXFpQixPQUNBOWhCLE9BQUFXLFdBQUEwaEIsRUFBQW5KLE9BRUF1SSxFQUFBWSxFQUFBekUsR0FBQSxHQUVBTCxHQUFBLG1CQUFBOEUsRUFBQVYsSUFBQXpXLEVBQUFtWCxFQUFBVixFQUFBRSxJQUlBWSxHQUFBRSxHQWpDQSxXQWlDQUEsRUFBQTlpQixPQUNBNmlCLEdBQUEsRUFDQUUsRUFBQSxXQUFrQyxPQUFBRCxFQUFBbGpCLEtBQUE2TSxRQUdsQ2lSLElBQUE0RSxJQUFBUCxJQUFBYyxHQUFBRixFQUFBYixJQUNBelcsRUFBQXNYLEVBQUFiLEVBQUFpQixHQUdBckIsRUFBQVEsR0FBQWEsRUFDQXJCLEVBQUEzRCxHQUFBaUUsRUFDQUksRUFNQSxHQUxBRyxHQUNBMVIsT0FBQStSLEVBQUFHLEVBQUFOLEVBOUNBLFVBK0NBNVEsS0FBQXdRLEVBQUFVLEVBQUFOLEVBaERBLFFBaURBUyxRQUFBRixHQUVBVixFQUFBLElBQUExWCxLQUFBMlgsRUFDQTNYLEtBQUErWCxHQUFBbEIsRUFBQWtCLEVBQUEvWCxFQUFBMlgsRUFBQTNYLFNBQ0tXLElBQUFoQixFQUFBZ0IsRUFBQUssR0FBQW1XLEdBQUFjLEdBQUFYLEVBQUFLLEdBRUwsT0FBQUEsaUNDakVBaGpCLEVBQUFvQixZQUFBLEVBRUEsSUFFQXdpQixFQUFBQyxFQUZBL2pCLEVBQUEsS0FNQWdrQixFQUFBRCxFQUZBL2pCLEVBQUEsS0FJQWlrQixFQUFBLG1CQUFBRCxFQUFBckssU0FBQSxpQkFBQW1LLEVBQUFuSyxRQUFBLFNBQUF6WCxHQUFpSCxjQUFBQSxHQUFxQixTQUFBQSxHQUFtQixPQUFBQSxHQUFBLG1CQUFBOGhCLEVBQUFySyxTQUFBelgsRUFBQWdpQixjQUFBRixFQUFBckssU0FBQXpYLElBQUE4aEIsRUFBQXJLLFFBQUFsWSxVQUFBLGdCQUFBUyxHQUV6SixTQUFBNmhCLEVBQUE3aEIsR0FBc0MsT0FBQUEsS0FBQVosV0FBQVksR0FBdUN5WCxRQUFBelgsR0FFN0VoQyxFQUFBeVosUUFBQSxtQkFBQXFLLEVBQUFySyxTQUFBLFdBQUFzSyxFQUFBSCxFQUFBbkssU0FBQSxTQUFBelgsR0FDQSxnQkFBQUEsRUFBQSxZQUFBK2hCLEVBQUEvaEIsSUFDQyxTQUFBQSxHQUNELE9BQUFBLEdBQUEsbUJBQUE4aEIsRUFBQXJLLFNBQUF6WCxFQUFBZ2lCLGNBQUFGLEVBQUFySyxTQUFBelgsSUFBQThoQixFQUFBckssUUFBQWxZLFVBQUEsa0JBQUFTLEVBQUEsWUFBQStoQixFQUFBL2hCLHFCQ25CQSxJQUFBMkUsRUFBQTdHLEVBQUEsR0FDQTBmLEVBQUExZixFQUFBLEdBQUEwZixTQUVBeUUsRUFBQXRkLEVBQUE2WSxJQUFBN1ksRUFBQTZZLEVBQUEwRSxlQUNBamtCLEVBQUFELFFBQUEsU0FBQW9MLEdBQ0EsT0FBQTZZLEVBQUF6RSxFQUFBMEUsY0FBQTlZLHdCQ0xBbkwsRUFBQUQsU0FBQUYsRUFBQSxLQUFBQSxFQUFBLEdBQUFBLENBQUEsV0FDQSxPQUF1RyxHQUF2R2MsT0FBQUMsZUFBQWYsRUFBQSxHQUFBQSxDQUFBLFlBQXNFa0IsSUFBQSxXQUFtQixZQUFjc0YscUJDQXZHLElBQUE2ZCxFQUFBcmtCLEVBQUEsSUFDQUcsRUFBQUQsUUFBQSxTQUFBK2YsRUFBQXFFLEVBQUEzaEIsR0FFQSxHQURBMGhCLEVBQUFwRSxRQUNBclosSUFBQTBkLEVBQUEsT0FBQXJFLEVBQ0EsT0FBQXRkLEdBQ0EsdUJBQUE2RCxHQUNBLE9BQUF5WixFQUFBMWYsS0FBQStqQixFQUFBOWQsSUFFQSx1QkFBQUEsRUFBQWYsR0FDQSxPQUFBd2EsRUFBQTFmLEtBQUErakIsRUFBQTlkLEVBQUFmLElBRUEsdUJBQUFlLEVBQUFmLEVBQUFoRixHQUNBLE9BQUF3ZixFQUFBMWYsS0FBQStqQixFQUFBOWQsRUFBQWYsRUFBQWhGLElBR0Esa0JBQ0EsT0FBQXdmLEVBQUFoVyxNQUFBcWEsRUFBQWpYLDhCQ2hCQSxJQUFBcEIsRUFBQWpNLEVBQUEsR0FDQXVrQixFQUFBdmtCLEVBQUEsSUFDQWdmLEVBQUFoZixFQUFBLEdBQUFBLENBQUEsWUFDQXdrQixFQUFBMWpCLE9BQUFXLFVBRUF0QixFQUFBRCxRQUFBWSxPQUFBMGhCLGdCQUFBLFNBQUF2WCxHQUVBLE9BREFBLEVBQUFzWixFQUFBdFosR0FDQWdCLEVBQUFoQixFQUFBK1QsR0FBQS9ULEVBQUErVCxHQUNBLG1CQUFBL1QsRUFBQWlaLGFBQUFqWixlQUFBaVosWUFDQWpaLEVBQUFpWixZQUFBemlCLFVBQ0d3SixhQUFBbkssT0FBQTBqQixFQUFBLHVCQ1ZILElBQUEzWSxFQUFBN0wsRUFBQSxJQUNBRyxFQUFBRCxRQUFBLFNBQUFvTCxHQUNBLE9BQUF4SyxPQUFBK0ssRUFBQVAsbUNDT0EsSUFBQW1aLEVBQUF6a0IsRUFBQSxJQUNBK2dCLEVBQUEvZ0IsRUFBQSxJQUNBMGtCLEVBQUExa0IsRUFBQSxLQUNBMmtCLEtBNkNBeGtCLEVBQUFELFFBL0JBLFNBQUEwa0IsRUFBQXBULEVBQUFxVCxFQUFBQyxFQUFBQyxHQUVBLFFBQUFDLEtBQUFKLEVBQ0EsR0FBQUEsRUFBQWxqQixlQUFBc2pCLEdBQUEsQ0FDQSxJQUFBelUsRUFJQSxJQUdBa1UsRUFBQSxtQkFBQUcsRUFBQUksR0FBQSxnSEFBZ0dGLEdBQUEsY0FBQUQsRUFBQUcsU0FBQUosRUFBQUksSUFDaEd6VSxFQUFBcVUsRUFBQUksR0FBQXhULEVBQUF3VCxFQUFBRixFQUFBRCxFQUFBLEtBQUFILEdBQ1MsTUFBQU8sR0FDVDFVLEVBQUEwVSxFQUdBLEdBREFsRSxHQUFBeFEsZ0JBQUFzSCxNQUFBLDJSQUFnR2lOLEdBQUEsY0FBQUQsRUFBQUcsU0FBQXpVLEdBQ2hHQSxhQUFBc0gsU0FBQXRILEVBQUFnUixXQUFBb0QsR0FBQSxDQUdBQSxFQUFBcFUsRUFBQWdSLFVBQUEsRUFFQSxJQUFBMkQsRUFBQUgsTUFBQSxHQUVBaEUsR0FBQSx5QkFBQThELEVBQUF0VSxFQUFBZ1IsUUFBQSxNQUFBMkQsSUFBQSxxQ0N6Q0EsSUFBQUMsS0FHQXJrQixPQUFBd0ksT0FBQTZiLEdBR0FobEIsRUFBQUQsUUFBQWlsQjs7Ozs7RUNSQSxJQUFBbEQsRUFBQW5oQixPQUFBbWhCLHNCQUNBdmdCLEVBQUFaLE9BQUFXLFVBQUFDLGVBQ0EwakIsRUFBQXRrQixPQUFBVyxVQUFBMmMscUJBc0RBamUsRUFBQUQsUUE1Q0EsV0FDQSxJQUNBLElBQUFZLE9BQUE2UixPQUNBLFNBTUEsSUFBQTBTLEVBQUEsSUFBQXJkLE9BQUEsT0FFQSxHQURBcWQsRUFBQSxRQUNBLE1BQUF2a0IsT0FBQXFJLG9CQUFBa2MsR0FBQSxHQUNBLFNBS0EsSUFEQSxJQUFBQyxLQUNBbGxCLEVBQUEsRUFBaUJBLEVBQUEsR0FBUUEsSUFDekJrbEIsRUFBQSxJQUFBdGQsT0FBQXVkLGFBQUFubEIsTUFLQSxrQkFIQVUsT0FBQXFJLG9CQUFBbWMsR0FBQWhpQixJQUFBLFNBQUFqQyxHQUNBLE9BQUFpa0IsRUFBQWprQixLQUVBbWtCLEtBQUEsSUFDQSxTQUlBLElBQUFDLEtBSUEsTUFIQSx1QkFBQS9lLE1BQUEsSUFBQTBDLFFBQUEsU0FBQXNjLEdBQ0FELEVBQUFDLE9BR0EseUJBREE1a0IsT0FBQTBSLEtBQUExUixPQUFBNlIsVUFBa0M4UyxJQUFBRCxLQUFBLElBTWhDLE1BQUFyTSxHQUVGLFVBSUF3TSxHQUFBN2tCLE9BQUE2UixPQUFBLFNBQUF6RixFQUFBZixHQUtBLElBSkEsSUFBQXlaLEVBRUFDLEVBREFDLEVBdERBLFNBQUFoZixHQUNBLFVBQUFBLFFBQUFGLElBQUFFLEVBQ0EsVUFBQXVFLFVBQUEseURBR0EsT0FBQXZLLE9BQUFnRyxHQWlEQXlkLENBQUFyWCxHQUdBdEwsRUFBQSxFQUFnQkEsRUFBQXlMLFVBQUExSyxPQUFzQmYsSUFBQSxDQUd0QyxRQUFBMkosS0FGQXFhLEVBQUE5a0IsT0FBQXVNLFVBQUF6TCxJQUdBRixFQUFBbkIsS0FBQXFsQixFQUFBcmEsS0FDQXVhLEVBQUF2YSxHQUFBcWEsRUFBQXJhLElBSUEsR0FBQTBXLEVBQUEsQ0FDQTRELEVBQUE1RCxFQUFBMkQsR0FDQSxRQUFBeGxCLEVBQUEsRUFBa0JBLEVBQUF5bEIsRUFBQWxqQixPQUFvQnZDLElBQ3RDZ2xCLEVBQUE3a0IsS0FBQXFsQixFQUFBQyxFQUFBemxCLE1BQ0EwbEIsRUFBQUQsRUFBQXpsQixJQUFBd2xCLEVBQUFDLEVBQUF6bEIsTUFNQSxPQUFBMGxCLG9CQ3hGQSxJQUFBNVosRUFBQWxNLEVBQUEsSUFFQWtNLElBQUFTLEVBQUEsVUFBOEJvVCxPQUFBL2YsRUFBQSx1QkNGOUJBLEVBQUEsSUFDQSxJQUFBK2xCLEVBQUEvbEIsRUFBQSxHQUFBYyxPQUNBWCxFQUFBRCxRQUFBLFNBQUFnTCxFQUFBOGEsR0FDQSxPQUFBRCxFQUFBaEcsT0FBQTdVLEVBQUE4YSxxQkNIQTdsQixFQUFBRCxTQUFrQnlaLFFBQUEzWixFQUFBLElBQUFzQixZQUFBLG9CQ0VsQixJQUFBdUYsRUFBQTdHLEVBQUEsR0FDQTRLLEVBQUE1SyxFQUFBLElBQ0FpbUIsRUFBQSxTQUFBaGIsRUFBQXFZLEdBRUEsR0FEQTFZLEVBQUFLLElBQ0FwRSxFQUFBeWMsSUFBQSxPQUFBQSxFQUFBLE1BQUFqWSxVQUFBaVksRUFBQSw4QkFFQW5qQixFQUFBRCxTQUNBaVMsSUFBQXJSLE9BQUFvbEIsaUJBQUEsZ0JBQ0EsU0FBQXRpQixFQUFBdWlCLEVBQUFoVSxHQUNBLEtBQ0FBLEVBQUFuUyxFQUFBLEdBQUFBLENBQUEwSyxTQUFBbkssS0FBQVAsRUFBQSxJQUFBZ0wsRUFBQWxLLE9BQUFXLFVBQUEsYUFBQTBRLElBQUEsSUFDQXZPLE1BQ0F1aUIsSUFBQXZpQixhQUFBa0UsT0FDTyxNQUFBc0QsR0FBWSthLEdBQUEsRUFDbkIsZ0JBQUFsYixFQUFBcVksR0FJQSxPQUhBMkMsRUFBQWhiLEVBQUFxWSxHQUNBNkMsRUFBQWxiLEVBQUFtYixVQUFBOUMsRUFDQW5SLEVBQUFsSCxFQUFBcVksR0FDQXJZLEdBVkEsS0FZUSxRQUFBckUsR0FDUnFmLDBCQ3RCQSxJQUFBL1osRUFBQWxNLEVBQUEsSUFDQWtNLElBQUFTLEVBQUEsVUFBOEJ1WixlQUFBbG1CLEVBQUEsSUFBQW1TLHVCQ0Y5Qm5TLEVBQUEsSUFDQUcsRUFBQUQsUUFBQUYsRUFBQSxHQUFBYyxPQUFBb2xCLGdDQ0RBL2xCLEVBQUFELFNBQWtCeVosUUFBQTNaLEVBQUEsSUFBQXNCLFlBQUEsaUNDRWxCcEIsRUFBQW9CLFlBQUEsRUFFQSxJQUVBK2tCLEVBQUF0QyxFQUZBL2pCLEVBQUEsS0FNQXNtQixFQUFBdkMsRUFGQS9qQixFQUFBLEtBTUF1bUIsRUFBQXhDLEVBRkEvakIsRUFBQSxLQUlBLFNBQUErakIsRUFBQTdoQixHQUFzQyxPQUFBQSxLQUFBWixXQUFBWSxHQUF1Q3lYLFFBQUF6WCxHQUU3RWhDLEVBQUF5WixRQUFBLFNBQUE2TSxFQUFBQyxHQUNBLHNCQUFBQSxHQUFBLE9BQUFBLEVBQ0EsVUFBQXBiLFVBQUEscUVBQUFvYixFQUFBLGVBQUFGLEVBQUE1TSxTQUFBOE0sS0FHQUQsRUFBQS9rQixXQUFBLEVBQUE2a0IsRUFBQTNNLFNBQUE4TSxLQUFBaGxCLFdBQ0F5aUIsYUFDQTlpQixNQUFBb2xCLEVBQ0F2bEIsWUFBQSxFQUNBMFEsVUFBQSxFQUNBM1EsY0FBQSxLQUdBeWxCLElBQUFKLEVBQUExTSxTQUFBLEVBQUEwTSxFQUFBMU0sU0FBQTZNLEVBQUFDLEdBQUFELEVBQUFKLFVBQUFLLHFCQy9CQXptQixFQUFBLEdBQUFBLENBQUEsK0JDQUFBLEVBQUEsR0FBQUEsQ0FBQSxrRENDQSxJQUFBNmhCLEVBQUE3aEIsRUFBQSxHQUNBMG1CLEVBQUExbUIsRUFBQSxJQUFBZ0wsRUFDQTdGLEtBQWlCQSxTQUVqQndoQixFQUFBLGlCQUFBM2tCLGdCQUFBbEIsT0FBQXFJLG9CQUNBckksT0FBQXFJLG9CQUFBbkgsV0FVQTdCLEVBQUFELFFBQUE4SyxFQUFBLFNBQUFNLEdBQ0EsT0FBQXFiLEdBQUEsbUJBQUF4aEIsRUFBQTVFLEtBQUErSyxHQVRBLFNBQUFBLEdBQ0EsSUFDQSxPQUFBb2IsRUFBQXBiLEdBQ0csTUFBQUYsR0FDSCxPQUFBdWIsRUFBQWpoQixTQUtBa2hCLENBQUF0YixHQUFBb2IsRUFBQTdFLEVBQUF2VyxzQkNoQkEsSUFBQXViLEVBQUE3bUIsRUFBQSxJQUNBRyxFQUFBRCxRQUFBNEgsTUFBQUMsU0FBQSxTQUFBd1ksR0FDQSxlQUFBc0csRUFBQXRHLHFCQ0ZBLElBQUF1RyxFQUFBOW1CLEVBQUEsSUFDQSttQixFQUFBL21CLEVBQUEsSUFDQTRoQixFQUFBNWhCLEVBQUEsSUFDQUcsRUFBQUQsUUFBQSxTQUFBb0wsR0FDQSxJQUFBeEksRUFBQWdrQixFQUFBeGIsR0FDQTBiLEVBQUFELEVBQUEvYixFQUNBLEdBQUFnYyxFQUtBLElBSkEsSUFHQXpiLEVBSEFzYSxFQUFBbUIsRUFBQTFiLEdBQ0EyYixFQUFBckYsRUFBQTVXLEVBQ0E1SyxFQUFBLEVBRUF5bEIsRUFBQWxqQixPQUFBdkMsR0FBQTZtQixFQUFBMW1CLEtBQUErSyxFQUFBQyxFQUFBc2EsRUFBQXpsQixPQUFBMEMsRUFBQUMsS0FBQXdJLEdBQ0csT0FBQXpJLG9CQ2JILElBQUFva0IsRUFBQWxuQixFQUFBLEdBQUFBLENBQUEsUUFDQTZHLEVBQUE3RyxFQUFBLEdBQ0FpTSxFQUFBak0sRUFBQSxHQUNBbW5CLEVBQUFubkIsRUFBQSxHQUFBZ0wsRUFDQW9ELEVBQUEsRUFDQWdaLEVBQUF0bUIsT0FBQXNtQixjQUFBLFdBQ0EsVUFFQUMsR0FBQXJuQixFQUFBLEdBQUFBLENBQUEsV0FDQSxPQUFBb25CLEVBQUF0bUIsT0FBQXdtQix5QkFFQUMsRUFBQSxTQUFBamMsR0FDQTZiLEVBQUE3YixFQUFBNGIsR0FBcUI5bEIsT0FDckJoQixFQUFBLE9BQUFnTyxFQUNBb1osU0FnQ0FDLEVBQUF0bkIsRUFBQUQsU0FDQXduQixJQUFBUixFQUNBUyxNQUFBLEVBQ0FDLFFBaENBLFNBQUF0YyxFQUFBeVUsR0FFQSxJQUFBbFosRUFBQXlFLEdBQUEsdUJBQUFBLEtBQUEsaUJBQUFBLEVBQUEsU0FBQUEsRUFDQSxJQUFBVyxFQUFBWCxFQUFBNGIsR0FBQSxDQUVBLElBQUFFLEVBQUE5YixHQUFBLFVBRUEsSUFBQXlVLEVBQUEsVUFFQXdILEVBQUFqYyxHQUVHLE9BQUFBLEVBQUE0YixHQUFBOW1CLEdBc0JIeW5CLFFBcEJBLFNBQUF2YyxFQUFBeVUsR0FDQSxJQUFBOVQsRUFBQVgsRUFBQTRiLEdBQUEsQ0FFQSxJQUFBRSxFQUFBOWIsR0FBQSxTQUVBLElBQUF5VSxFQUFBLFNBRUF3SCxFQUFBamMsR0FFRyxPQUFBQSxFQUFBNGIsR0FBQU0sR0FZSE0sU0FUQSxTQUFBeGMsR0FFQSxPQURBK2IsR0FBQUksRUFBQUUsTUFBQVAsRUFBQTliLEtBQUFXLEVBQUFYLEVBQUE0YixJQUFBSyxFQUFBamMsR0FDQUEsa0NDMUNBLElBQUF6SixFQUFBN0IsRUFBQSxHQUNBaU0sRUFBQWpNLEVBQUEsR0FDQStuQixFQUFBL25CLEVBQUEsR0FDQWtNLEVBQUFsTSxFQUFBLElBQ0FvaUIsRUFBQXBpQixFQUFBLElBQ0FrbkIsRUFBQWxuQixFQUFBLElBQUEwbkIsSUFDQU0sRUFBQWhvQixFQUFBLElBQ0FtZ0IsRUFBQW5nQixFQUFBLElBQ0F1aUIsRUFBQXZpQixFQUFBLElBQ0F5TCxFQUFBekwsRUFBQSxJQUNBaW9CLEVBQUFqb0IsRUFBQSxHQUNBc2UsRUFBQXRlLEVBQUEsSUFDQWtvQixFQUFBbG9CLEVBQUEsSUFDQW1vQixFQUFBbm9CLEVBQUEsSUFDQStILEVBQUEvSCxFQUFBLElBQ0E0SyxFQUFBNUssRUFBQSxJQUNBNkcsRUFBQTdHLEVBQUEsR0FDQTZoQixFQUFBN2hCLEVBQUEsR0FDQThLLEVBQUE5SyxFQUFBLElBQ0E4TCxFQUFBOUwsRUFBQSxJQUNBb29CLEVBQUFwb0IsRUFBQSxJQUNBcW9CLEVBQUFyb0IsRUFBQSxJQUNBc29CLEVBQUF0b0IsRUFBQSxJQUNBdW9CLEVBQUF2b0IsRUFBQSxHQUNBNmUsRUFBQTdlLEVBQUEsSUFDQThoQixFQUFBd0csRUFBQXRkLEVBQ0FELEVBQUF3ZCxFQUFBdmQsRUFDQTBiLEVBQUEyQixFQUFBcmQsRUFDQXVULEVBQUExYyxFQUFBNkosT0FDQThjLEVBQUEzbUIsRUFBQU0sS0FDQXNtQixFQUFBRCxLQUFBbm1CLFVBRUFxbUIsRUFBQVQsRUFBQSxXQUNBVSxFQUFBVixFQUFBLGVBQ0FoQixLQUFlN0kscUJBQ2Z3SyxFQUFBekksRUFBQSxtQkFDQTBJLEVBQUExSSxFQUFBLFdBQ0EySSxFQUFBM0ksRUFBQSxjQUNBcUUsRUFBQTFqQixPQUFBLFVBQ0Fpb0IsRUFBQSxtQkFBQXhLLEVBQ0F5SyxFQUFBbm5CLEVBQUFtbkIsUUFFQUMsR0FBQUQsTUFBQSxZQUFBQSxFQUFBLFVBQUFFLFVBR0FDLEVBQUFwQixHQUFBQyxFQUFBLFdBQ0EsT0FFRyxHQUZISSxFQUFBcmQsS0FBc0IsS0FDdEI3SixJQUFBLFdBQXNCLE9BQUE2SixFQUFBcUMsS0FBQSxLQUF1QmhNLE1BQUEsSUFBV29GLE1BQ3JEQSxJQUNGLFNBQUE4RSxFQUFBQyxFQUFBeWEsR0FDRCxJQUFBb0QsRUFBQXRILEVBQUEwQyxFQUFBalosR0FDQTZkLFVBQUE1RSxFQUFBalosR0FDQVIsRUFBQU8sRUFBQUMsRUFBQXlhLEdBQ0FvRCxHQUFBOWQsSUFBQWtaLEdBQUF6WixFQUFBeVosRUFBQWpaLEVBQUE2ZCxJQUNDcmUsRUFFRHNlLEVBQUEsU0FBQTFLLEdBQ0EsSUFBQTJLLEVBQUFULEVBQUFsSyxHQUFBeUosRUFBQTdKLEVBQUEsV0FFQSxPQURBK0ssRUFBQUMsR0FBQTVLLEVBQ0EySyxHQUdBRSxFQUFBVCxHQUFBLGlCQUFBeEssRUFBQWtMLFNBQUEsU0FBQW5lLEdBQ0EsdUJBQUFBLEdBQ0MsU0FBQUEsR0FDRCxPQUFBQSxhQUFBaVQsR0FHQW1MLEVBQUEsU0FBQXBlLEVBQUFDLEVBQUF5YSxHQUtBLE9BSkExYSxJQUFBa1osR0FBQWtGLEVBQUFaLEVBQUF2ZCxFQUFBeWEsR0FDQXBiLEVBQUFVLEdBQ0FDLEVBQUFULEVBQUFTLEdBQUEsR0FDQVgsRUFBQW9iLEdBQ0EvWixFQUFBNGMsRUFBQXRkLElBQ0F5YSxFQUFBL2tCLFlBSUFnTCxFQUFBWCxFQUFBb2QsSUFBQXBkLEVBQUFvZCxHQUFBbmQsS0FBQUQsRUFBQW9kLEdBQUFuZCxJQUFBLEdBQ0F5YSxFQUFBb0MsRUFBQXBDLEdBQXNCL2tCLFdBQUE2SyxFQUFBLFVBSnRCRyxFQUFBWCxFQUFBb2QsSUFBQTNkLEVBQUFPLEVBQUFvZCxFQUFBNWMsRUFBQSxPQUNBUixFQUFBb2QsR0FBQW5kLElBQUEsR0FJSzRkLEVBQUE3ZCxFQUFBQyxFQUFBeWEsSUFDRmpiLEVBQUFPLEVBQUFDLEVBQUF5YSxJQUVIMkQsRUFBQSxTQUFBcmUsRUFBQUosR0FDQU4sRUFBQVUsR0FLQSxJQUpBLElBR0FDLEVBSEFpSCxFQUFBMlYsRUFBQWpkLEVBQUEyVyxFQUFBM1csSUFDQTlLLEVBQUEsRUFDQUMsRUFBQW1TLEVBQUE3UCxPQUVBdEMsRUFBQUQsR0FBQXNwQixFQUFBcGUsRUFBQUMsRUFBQWlILEVBQUFwUyxLQUFBOEssRUFBQUssSUFDQSxPQUFBRCxHQUtBc2UsRUFBQSxTQUFBcmUsR0FDQSxJQUFBc2UsRUFBQTVDLEVBQUExbUIsS0FBQTZNLEtBQUE3QixFQUFBVCxFQUFBUyxHQUFBLElBQ0EsUUFBQTZCLE9BQUFvWCxHQUFBdlksRUFBQTRjLEVBQUF0ZCxLQUFBVSxFQUFBNmMsRUFBQXZkLFFBQ0FzZSxJQUFBNWQsRUFBQW1CLEtBQUE3QixLQUFBVSxFQUFBNGMsRUFBQXRkLElBQUFVLEVBQUFtQixLQUFBc2IsSUFBQXRiLEtBQUFzYixHQUFBbmQsS0FBQXNlLElBRUFDLEVBQUEsU0FBQXhlLEVBQUFDLEdBR0EsR0FGQUQsRUFBQXVXLEVBQUF2VyxHQUNBQyxFQUFBVCxFQUFBUyxHQUFBLEdBQ0FELElBQUFrWixJQUFBdlksRUFBQTRjLEVBQUF0ZCxJQUFBVSxFQUFBNmMsRUFBQXZkLEdBQUEsQ0FDQSxJQUFBeWEsRUFBQWxFLEVBQUF4VyxFQUFBQyxHQUVBLE9BREF5YSxJQUFBL1osRUFBQTRjLEVBQUF0ZCxJQUFBVSxFQUFBWCxFQUFBb2QsSUFBQXBkLEVBQUFvZCxHQUFBbmQsS0FBQXlhLEVBQUEva0IsWUFBQSxHQUNBK2tCLElBRUErRCxFQUFBLFNBQUF6ZSxHQUtBLElBSkEsSUFHQUMsRUFIQTRXLEVBQUF1RSxFQUFBN0UsRUFBQXZXLElBQ0F4SSxLQUNBMUMsRUFBQSxFQUVBK2hCLEVBQUF4ZixPQUFBdkMsR0FDQTZMLEVBQUE0YyxFQUFBdGQsRUFBQTRXLEVBQUEvaEIsT0FBQW1MLEdBQUFtZCxHQUFBbmQsR0FBQTJiLEdBQUFwa0IsRUFBQUMsS0FBQXdJLEdBQ0csT0FBQXpJLEdBRUhrbkIsRUFBQSxTQUFBMWUsR0FNQSxJQUxBLElBSUFDLEVBSkEwZSxFQUFBM2UsSUFBQWtaLEVBQ0FyQyxFQUFBdUUsRUFBQXVELEVBQUFuQixFQUFBakgsRUFBQXZXLElBQ0F4SSxLQUNBMUMsRUFBQSxFQUVBK2hCLEVBQUF4ZixPQUFBdkMsSUFDQTZMLEVBQUE0YyxFQUFBdGQsRUFBQTRXLEVBQUEvaEIsT0FBQTZwQixJQUFBaGUsRUFBQXVZLEVBQUFqWixJQUFBekksRUFBQUMsS0FBQThsQixFQUFBdGQsSUFDRyxPQUFBekksR0FJSGltQixJQVlBM0csR0FYQTdELEVBQUEsV0FDQSxHQUFBblIsZ0JBQUFtUixFQUFBLE1BQUFsVCxVQUFBLGdDQUNBLElBQUFzVCxFQUFBbFQsRUFBQTRCLFVBQUExSyxPQUFBLEVBQUEwSyxVQUFBLFFBQUF6RyxHQUNBc2pCLEVBQUEsU0FBQTlvQixHQUNBZ00sT0FBQW9YLEdBQUEwRixFQUFBM3BCLEtBQUF1b0IsRUFBQTFuQixHQUNBNkssRUFBQW1CLEtBQUFzYixJQUFBemMsRUFBQW1CLEtBQUFzYixHQUFBL0osS0FBQXZSLEtBQUFzYixHQUFBL0osSUFBQSxHQUNBd0ssRUFBQS9iLEtBQUF1UixFQUFBN1MsRUFBQSxFQUFBMUssS0FHQSxPQURBMm1CLEdBQUFrQixHQUFBRSxFQUFBM0UsRUFBQTdGLEdBQWdFM2QsY0FBQSxFQUFBbVIsSUFBQStYLElBQ2hFYixFQUFBMUssS0FFQSxnQ0FDQSxPQUFBdlIsS0FBQW1jLEtBR0FqQixFQUFBdGQsRUFBQThlLEVBQ0F2QixFQUFBdmQsRUFBQTBlLEVBQ0ExcEIsRUFBQSxJQUFBZ0wsRUFBQXFkLEVBQUFyZCxFQUFBK2UsRUFDQS9wQixFQUFBLElBQUFnTCxFQUFBNGUsRUFDQTVwQixFQUFBLElBQUFnTCxFQUFBZ2YsRUFFQWpDLElBQUEvbkIsRUFBQSxLQUNBb2lCLEVBQUFvQyxFQUFBLHVCQUFBb0YsR0FBQSxHQUdBdEwsRUFBQXRULEVBQUEsU0FBQXJLLEdBQ0EsT0FBQTBvQixFQUFBcEIsRUFBQXRuQixNQUlBdUwsSUFBQU8sRUFBQVAsRUFBQWMsRUFBQWQsRUFBQUssR0FBQXdjLEdBQTBEcmQsT0FBQTZTLElBRTFELFFBQUE0TCxFQUFBLGlIQUdBempCLE1BQUEsS0FBQTBqQixHQUFBLEVBQW9CRCxFQUFBeG5CLE9BQUF5bkIsSUFBdUJuQyxFQUFBa0MsRUFBQUMsT0FFM0MsUUFBQUMsR0FBQXhMLEVBQUFvSixFQUFBemMsT0FBQThRLEdBQUEsRUFBb0QrTixHQUFBMW5CLE9BQUEyWixJQUE2QjRMLEVBQUFtQyxHQUFBL04sT0FFakZwUSxJQUFBUyxFQUFBVCxFQUFBSyxHQUFBd2MsRUFBQSxVQUVBdUIsSUFBQSxTQUFBL2UsR0FDQSxPQUFBVSxFQUFBMmMsRUFBQXJkLEdBQUEsSUFDQXFkLEVBQUFyZCxHQUNBcWQsRUFBQXJkLEdBQUFnVCxFQUFBaFQsSUFHQWdmLE9BQUEsU0FBQWpCLEdBQ0EsSUFBQUUsRUFBQUYsR0FBQSxNQUFBamUsVUFBQWllLEVBQUEscUJBQ0EsUUFBQS9kLEtBQUFxZCxFQUFBLEdBQUFBLEVBQUFyZCxLQUFBK2QsRUFBQSxPQUFBL2QsR0FFQWlmLFVBQUEsV0FBMEJ2QixHQUFBLEdBQzFCd0IsVUFBQSxXQUEwQnhCLEdBQUEsS0FHMUIvYyxJQUFBUyxFQUFBVCxFQUFBSyxHQUFBd2MsRUFBQSxVQUVBaEosT0EvRkEsU0FBQXpVLEVBQUFKLEdBQ0EsWUFBQXRFLElBQUFzRSxFQUFBa2QsRUFBQTljLEdBQUFxZSxFQUFBdkIsRUFBQTljLEdBQUFKLElBZ0dBbkssZUFBQTJvQixFQUVBZ0IsaUJBQUFmLEVBRUE1SCx5QkFBQStILEVBRUEzZ0Isb0JBQUE0Z0IsRUFFQTlILHNCQUFBK0gsSUFJQXhCLEdBQUF0YyxJQUFBUyxFQUFBVCxFQUFBSyxJQUFBd2MsR0FBQWYsRUFBQSxXQUNBLElBQUFyYixFQUFBNFIsSUFJQSxnQkFBQWtLLEdBQUE5YixLQUEyRCxNQUEzRDhiLEdBQW9EamlCLEVBQUFtRyxLQUFlLE1BQUE4YixFQUFBM25CLE9BQUE2TCxPQUNsRSxRQUNEdEssVUFBQSxTQUFBaUosR0FJQSxJQUhBLElBRUFxZixFQUFBQyxFQUZBcmtCLEdBQUErRSxHQUNBbEwsRUFBQSxFQUVBaU4sVUFBQTFLLE9BQUF2QyxHQUFBbUcsRUFBQXhELEtBQUFzSyxVQUFBak4sTUFFQSxHQURBd3FCLEVBQUFELEVBQUFwa0IsRUFBQSxJQUNBTSxFQUFBOGpCLFNBQUEvakIsSUFBQTBFLEtBQUFrZSxFQUFBbGUsR0FNQSxPQUxBdkQsRUFBQTRpQixPQUFBLFNBQUFwZixFQUFBbkssR0FFQSxHQURBLG1CQUFBd3BCLElBQUF4cEIsRUFBQXdwQixFQUFBcnFCLEtBQUE2TSxLQUFBN0IsRUFBQW5LLEtBQ0Fvb0IsRUFBQXBvQixHQUFBLE9BQUFBLElBRUFtRixFQUFBLEdBQUFva0IsRUFDQWxDLEVBQUF4ZSxNQUFBdWUsRUFBQWppQixNQUtBZ1ksRUFBQSxVQUFBb0ssSUFBQTNvQixFQUFBLEVBQUFBLENBQUF1ZSxFQUFBLFVBQUFvSyxFQUFBcEssRUFBQSxVQUFBMkIsU0FFQXFDLEVBQUFoRSxFQUFBLFVBRUFnRSxFQUFBcmUsS0FBQSxXQUVBcWUsRUFBQTFnQixFQUFBTSxLQUFBLDRCQ3pPQW5DLEVBQUEsSUFDQUEsRUFBQSxJQUNBQSxFQUFBLElBQ0FBLEVBQUEsSUFDQUcsRUFBQUQsUUFBQUYsRUFBQSxHQUFBMEwsd0JDSkF2TCxFQUFBRCxTQUFrQnlaLFFBQUEzWixFQUFBLElBQUFzQixZQUFBLGtCQ0FsQm5CLEVBQUFELFFBQUEsU0FBQTJxQixFQUFBenBCLEdBQ0EsT0FBVUEsUUFBQXlwQiwwQkNEVjFxQixFQUFBRCxRQUFBLDJDQ0NBLElBQUE0cUIsRUFBQTlxQixFQUFBLElBQ0E2QyxFQUFBN0MsRUFBQSxJQUNBcWlCLEVBQUFyaUIsRUFBQSxJQUNBNmhCLEVBQUE3aEIsRUFBQSxHQU1BRyxFQUFBRCxRQUFBRixFQUFBLEdBQUFBLENBQUE4SCxNQUFBLGlCQUFBaWpCLEVBQUExSCxHQUNBalcsS0FBQTRkLEdBQUFuSixFQUFBa0osR0FDQTNkLEtBQUFlLEdBQUEsRUFDQWYsS0FBQW1jLEdBQUFsRyxHQUVDLFdBQ0QsSUFBQXBZLEVBQUFtQyxLQUFBNGQsR0FDQTNILEVBQUFqVyxLQUFBbWMsR0FDQXhaLEVBQUEzQyxLQUFBZSxLQUNBLE9BQUFsRCxHQUFBOEUsR0FBQTlFLEVBQUF0SSxRQUNBeUssS0FBQTRkLFFBQUFwa0IsRUFDQS9ELEVBQUEsSUFFQUEsRUFBQSxVQUFBd2dCLEVBQUF0VCxFQUNBLFVBQUFzVCxFQUFBcFksRUFBQThFLElBQ0FBLEVBQUE5RSxFQUFBOEUsTUFDQyxVQUdEc1MsRUFBQTRJLFVBQUE1SSxFQUFBdmEsTUFFQWdqQixFQUFBLFFBQ0FBLEVBQUEsVUFDQUEsRUFBQSw0QkNqQ0E5cUIsRUFBQSxJQVlBLElBWEEsSUFBQTZCLEVBQUE3QixFQUFBLEdBQ0FnTSxFQUFBaE0sRUFBQSxHQUNBcWlCLEVBQUFyaUIsRUFBQSxJQUNBa3JCLEVBQUFsckIsRUFBQSxFQUFBQSxDQUFBLGVBRUFtckIsRUFBQSx3YkFJQXprQixNQUFBLEtBRUF0RyxFQUFBLEVBQWVBLEVBQUErcUIsRUFBQXhvQixPQUF5QnZDLElBQUEsQ0FDeEMsSUFBQXlpQixFQUFBc0ksRUFBQS9xQixHQUNBZ3JCLEVBQUF2cEIsRUFBQWdoQixHQUNBUyxFQUFBOEgsS0FBQTNwQixVQUNBNmhCLE1BQUE0SCxJQUFBbGYsRUFBQXNYLEVBQUE0SCxFQUFBckksR0FDQVIsRUFBQVEsR0FBQVIsRUFBQXZhLHdCQ2pCQSxJQUFBNFgsRUFBQTFmLEVBQUEsR0FBQTBmLFNBQ0F2ZixFQUFBRCxRQUFBd2YsS0FBQTJMLGlDQ0RBLElBQUFDLEVBQUF0ckIsRUFBQSxJQUNBdXJCLEVBQUFybkIsS0FBQXFuQixJQUNBQyxFQUFBdG5CLEtBQUFzbkIsSUFDQXJyQixFQUFBRCxRQUFBLFNBQUE2UCxFQUFBcE4sR0FFQSxPQURBb04sRUFBQXViLEVBQUF2YixJQUNBLEVBQUF3YixFQUFBeGIsRUFBQXBOLEVBQUEsR0FBQTZvQixFQUFBemIsRUFBQXBOLHFCQ0pBLElBQUEyb0IsRUFBQXRyQixFQUFBLElBQ0F3ckIsRUFBQXRuQixLQUFBc25CLElBQ0FyckIsRUFBQUQsUUFBQSxTQUFBb0wsR0FDQSxPQUFBQSxFQUFBLEVBQUFrZ0IsRUFBQUYsRUFBQWhnQixHQUFBLHNDQ0ZBLElBQUF1VyxFQUFBN2hCLEVBQUEsR0FDQXlyQixFQUFBenJCLEVBQUEsSUFDQTByQixFQUFBMXJCLEVBQUEsSUFDQUcsRUFBQUQsUUFBQSxTQUFBeXJCLEdBQ0EsZ0JBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsSUFHQTFxQixFQUhBNkosRUFBQTRXLEVBQUErSixHQUNBanBCLEVBQUE4b0IsRUFBQXhnQixFQUFBdEksUUFDQW9OLEVBQUEyYixFQUFBSSxFQUFBbnBCLEdBSUEsR0FBQWdwQixHQUFBRSxNQUFBLEtBQUFscEIsRUFBQW9OLEdBR0EsSUFGQTNPLEVBQUE2SixFQUFBOEUsT0FFQTNPLEVBQUEsY0FFSyxLQUFZdUIsRUFBQW9OLEVBQWVBLElBQUEsSUFBQTRiLEdBQUE1YixLQUFBOUUsSUFDaENBLEVBQUE4RSxLQUFBOGIsRUFBQSxPQUFBRixHQUFBNWIsR0FBQSxFQUNLLE9BQUE0YixJQUFBLHFCQ25CTCxJQUFBOUUsRUFBQTdtQixFQUFBLElBRUFHLEVBQUFELFFBQUFZLE9BQUEsS0FBQXNkLHFCQUFBLEdBQUF0ZCxPQUFBLFNBQUF3SyxHQUNBLGdCQUFBdWIsRUFBQXZiLEtBQUE1RSxNQUFBLElBQUE1RixPQUFBd0sscUJDSkEsSUFBQVAsRUFBQS9LLEVBQUEsR0FDQTRLLEVBQUE1SyxFQUFBLElBQ0E4bUIsRUFBQTltQixFQUFBLElBRUFHLEVBQUFELFFBQUFGLEVBQUEsR0FBQWMsT0FBQTRwQixpQkFBQSxTQUFBemYsRUFBQStVLEdBQ0FwVixFQUFBSyxHQUtBLElBSkEsSUFHQUMsRUFIQXNILEVBQUFzVSxFQUFBOUcsR0FDQXJkLEVBQUE2UCxFQUFBN1AsT0FDQXZDLEVBQUEsRUFFQXVDLEVBQUF2QyxHQUFBMkssRUFBQUMsRUFBQUMsRUFBQUMsRUFBQXNILEVBQUFwUyxLQUFBNGYsRUFBQTlVLElBQ0EsT0FBQUQsaUNDVkEsSUFBQThVLEVBQUEvZixFQUFBLElBQ0ErckIsRUFBQS9yQixFQUFBLElBQ0F1aUIsRUFBQXZpQixFQUFBLElBQ0FtakIsS0FHQW5qQixFQUFBLEVBQUFBLENBQUFtakIsRUFBQW5qQixFQUFBLEVBQUFBLENBQUEsdUJBQWtGLE9BQUFvTixPQUVsRmpOLEVBQUFELFFBQUEsU0FBQTRpQixFQUFBRCxFQUFBN0ksR0FDQThJLEVBQUFyaEIsVUFBQXNlLEVBQUFvRCxHQUFxRG5KLEtBQUErUixFQUFBLEVBQUEvUixLQUNyRHVJLEVBQUFPLEVBQUFELEVBQUEsK0JDWEEsSUFBQXlJLEVBQUF0ckIsRUFBQSxJQUNBNkwsRUFBQTdMLEVBQUEsSUFHQUcsRUFBQUQsUUFBQSxTQUFBOHJCLEdBQ0EsZ0JBQUExSCxFQUFBMkgsR0FDQSxJQUdBemxCLEVBQUFmLEVBSEE3RCxFQUFBb0csT0FBQTZELEVBQUF5WSxJQUNBbGtCLEVBQUFrckIsRUFBQVcsR0FDQTVyQixFQUFBdUIsRUFBQWUsT0FFQSxPQUFBdkMsRUFBQSxHQUFBQSxHQUFBQyxFQUFBMnJCLEVBQUEsUUFBQXBsQixHQUNBSixFQUFBNUUsRUFBQXFFLFdBQUE3RixJQUNBLE9BQUFvRyxFQUFBLE9BQUFwRyxFQUFBLElBQUFDLElBQUFvRixFQUFBN0QsRUFBQXFFLFdBQUE3RixFQUFBLFdBQUFxRixFQUFBLE1BQ0F1bUIsRUFBQXBxQixFQUFBNGMsT0FBQXBlLEdBQUFvRyxFQUNBd2xCLEVBQUFwcUIsRUFBQThELE1BQUF0RixJQUFBLEdBQUFxRixFQUFBLE9BQUFlLEVBQUEsaURDYkEsSUFBQTBsQixFQUFBbHNCLEVBQUEsR0FBQUEsRUFBQSxHQUdBQSxFQUFBLEdBQUFBLENBQUFnSSxPQUFBLGtCQUFBK2lCLEdBQ0EzZCxLQUFBNGQsR0FBQWhqQixPQUFBK2lCLEdBQ0EzZCxLQUFBZSxHQUFBLEdBRUMsV0FDRCxJQUVBZ2UsRUFGQWxoQixFQUFBbUMsS0FBQTRkLEdBQ0FqYixFQUFBM0MsS0FBQWUsR0FFQSxPQUFBNEIsR0FBQTlFLEVBQUF0SSxRQUFpQ3ZCLFdBQUF3RixFQUFBaWtCLE1BQUEsSUFDakNzQixFQUFBRCxFQUFBamhCLEVBQUE4RSxHQUNBM0MsS0FBQWUsSUFBQWdlLEVBQUF4cEIsUUFDVXZCLE1BQUErcUIsRUFBQXRCLE1BQUEsdUJDZlY3cUIsRUFBQSxJQUNBQSxFQUFBLElBQ0FHLEVBQUFELFFBQUFGLEVBQUEsSUFBQWdMLEVBQUEsNkJDRkE3SyxFQUFBRCxTQUFrQnlaLFFBQUEzWixFQUFBLElBQUFzQixZQUFBLGlDQ0VsQnBCLEVBQUFvQixZQUFBLEVBRUEsSUFJQVksRUFKQWtxQixFQUFBcHNCLEVBQUEsSUFFQXVtQixHQUVBcmtCLEVBRkFrcUIsSUFFc0NscUIsRUFBQVosV0FBQVksR0FBdUN5WCxRQUFBelgsR0FFN0VoQyxFQUFBeVosUUFBQSxTQUFBbFAsRUFBQWxLLEdBQ0EsSUFBQWtLLEVBQ0EsVUFBQTRoQixlQUFBLDZEQUdBLE9BQUE5ckIsR0FBQSxxQkFBQUEsRUFBQSxlQUFBZ21CLEVBQUE1TSxTQUFBcFosS0FBQSxtQkFBQUEsRUFBQWtLLEVBQUFsSyxvQkNmQSxJQUFBMkwsRUFBQWxNLEVBQUEsSUFFQWtNLElBQUFTLEVBQUFULEVBQUFLLEdBQUF2TSxFQUFBLGFBQXVFZSxlQUFBZixFQUFBLEdBQUFnTCxxQkNGdkVoTCxFQUFBLElBQ0EsSUFBQStsQixFQUFBL2xCLEVBQUEsR0FBQWMsT0FDQVgsRUFBQUQsUUFBQSxTQUFBb0wsRUFBQUMsRUFBQStnQixHQUNBLE9BQUF2RyxFQUFBaGxCLGVBQUF1SyxFQUFBQyxFQUFBK2dCLHFCQ0hBbnNCLEVBQUFELFNBQWtCeVosUUFBQTNaLEVBQUEsSUFBQXNCLFlBQUEsaUNDRWxCcEIsRUFBQW9CLFlBQUEsRUFFQSxJQUlBWSxFQUpBcXFCLEVBQUF2c0IsRUFBQSxJQUVBd3NCLEdBRUF0cUIsRUFGQXFxQixJQUVzQ3JxQixFQUFBWixXQUFBWSxHQUF1Q3lYLFFBQUF6WCxHQUU3RWhDLEVBQUF5WixRQUFBLFdBQ0EsU0FBQStRLEVBQUF4ZCxFQUFBdUksR0FDQSxRQUFBclYsRUFBQSxFQUFtQkEsRUFBQXFWLEVBQUE5UyxPQUFrQnZDLElBQUEsQ0FDckMsSUFBQTJyQixFQUFBdFcsRUFBQXJWLEdBQ0EyckIsRUFBQTlxQixXQUFBOHFCLEVBQUE5cUIsYUFBQSxFQUNBOHFCLEVBQUEvcUIsY0FBQSxFQUNBLFVBQUErcUIsTUFBQXBhLFVBQUEsSUFDQSxFQUFBNmEsRUFBQTdTLFNBQUF6TSxFQUFBNmUsRUFBQXhnQixJQUFBd2dCLElBSUEsZ0JBQUFqSixFQUFBMkosRUFBQUMsR0FHQSxPQUZBRCxHQUFBL0IsRUFBQTVILEVBQUFyaEIsVUFBQWdyQixHQUNBQyxHQUFBaEMsRUFBQTVILEVBQUE0SixHQUNBNUosR0FkQSxpQ0NSQTVpQixFQUFBb0IsWUFBQSxFQUVBcEIsRUFBQXlaLFFBQUEsU0FBQWdULEVBQUE3SixHQUNBLEtBQUE2SixhQUFBN0osR0FDQSxVQUFBelgsVUFBQSxxRENOQWxMLEVBQUFELFFBQUEsU0FBQW9MLEdBQ0Esc0JBQUFBLEVBQUEsTUFBQUQsVUFBQUMsRUFBQSx1QkFDQSxPQUFBQSxvQkNEQSxJQUFBWSxFQUFBbE0sRUFBQSxJQUNBc0ssRUFBQXRLLEVBQUEsR0FDQTRzQixFQUFBNXNCLEVBQUEsSUFDQUcsRUFBQUQsUUFBQSxTQUFBd25CLEVBQUFqVyxHQUNBLElBQUF3TyxHQUFBM1YsRUFBQXhKLFlBQTZCNG1CLElBQUE1bUIsT0FBQTRtQixHQUM3Qm1GLEtBQ0FBLEVBQUFuRixHQUFBalcsRUFBQXdPLEdBQ0EvVCxJQUFBUyxFQUFBVCxFQUFBSyxFQUFBcWdCLEVBQUEsV0FBcUQzTSxFQUFBLEtBQVMsU0FBQTRNLHFCQ1A5RCxJQUFBdEksRUFBQXZrQixFQUFBLElBQ0E4c0IsRUFBQTlzQixFQUFBLElBRUFBLEVBQUEsR0FBQUEsQ0FBQSw0QkFDQSxnQkFBQXNMLEdBQ0EsT0FBQXdoQixFQUFBdkksRUFBQWpaLHdCQ05BdEwsRUFBQSxJQUNBRyxFQUFBRCxRQUFBRixFQUFBLEdBQUFjLE9BQUEwaEIsZ0NDREFyaUIsRUFBQUQsU0FBa0J5WixRQUFBM1osRUFBQSxJQUFBc0IsWUFBQSw2SUNBbEJ5ckIsRUFBQS9zQixFQUFBLGtFQUlNZ3RCLDBNQWVGLE9BQU9DLEVBQUF0VCxRQUFBeUssY0FBQSw4QkFDa0JoWCxLQUFLcUksTUFBTXlYLDZDQWRwQyxPQUFRLDRDQUdPbGYsRUFBTzhOLEdBQ3RCMEYsUUFBUTJMLElBQUksK0JBQWdDbmYsR0FHdkNBLEVBQU1tTixNQUFNaVMsU0FBUyxVQUN4QnRSLEVBQVM5TixFQUFNcU4sYUFBYSxHQUFHZ1MsMkNBV3RCTCxnQ0N4QmYsSUFDQU0sRUFEQUMsRUFBQW5nQixXQUFBbWdCLFlBQ0FELEVBQUF4c0IsT0FBQW9sQixpQkFDVUUsd0JBQWdCdGUsT0FBQSxTQUFBcEgsRUFBQStFLEdBQXNDL0UsRUFBQTBsQixVQUFBM2dCLElBQ2hFLFNBQUEvRSxFQUFBK0UsR0FBeUIsUUFBQTlELEtBQUE4RCxJQUFBL0QsZUFBQUMsS0FBQWpCLEVBQUFpQixHQUFBOEQsRUFBQTlELEtBQ3pCLFNBQUFqQixFQUFBK0UsR0FFQSxTQUFBK25CLElBQXVCcGdCLEtBQUE4VyxZQUFBeGpCLEVBRHZCNHNCLEVBQUE1c0IsRUFBQStFLEdBRUEvRSxFQUFBZSxVQUFBLE9BQUFnRSxFQUFBM0UsT0FBQWlmLE9BQUF0YSxJQUFBK25CLEVBQUEvckIsVUFBQWdFLEVBQUFoRSxVQUFBLElBQUErckIsS0FHQTlhLEVBQUF0RixXQUFBc0YsVUFBQTVSLE9BQUE2UixRQUFBLFNBQUEzTCxHQUNBLFFBQUFwRixFQUFBeEIsRUFBQSxFQUFBaUIsRUFBQWdNLFVBQUExSyxPQUE0Q3ZDLEVBQUFpQixFQUFPakIsSUFFbkQsUUFBQXVCLEtBREFDLEVBQUF5TCxVQUFBak4sR0FDQVUsT0FBQVcsVUFBQUMsZUFBQW5CLEtBQUFxQixFQUFBRCxLQUNBcUYsRUFBQXJGLEdBQUFDLEVBQUFELElBRUEsT0FBQXFGLEdBRUFsRyxPQUFBQyxlQUFBYixFQUFBLGNBQThDa0IsT0FBQSxJQUM5QyxJQUFBcXNCLEVBQUF6dEIsRUFBQSxJQUNBMHRCLEVBQUExdEIsRUFBQSxJQWlGQUUsRUFBQXl0QixTQWhGQSxTQUFBQyxFQUFBblksR0FDQSxnQkFBQW9ZLEdBRUEsU0FBQUMsRUFBQW5zQixHQUNBLElBQUF5USxFQUFBeWIsRUFBQXR0QixLQUFBNk0sS0FBQXpMLElBQUF5TCxLQUdBLE9BRkFnRixFQUFBMmIsT0FBMkI5ZixVQUFBckgsRUFBQW9uQixXQUFBLEdBQzNCNWIsRUFBQTZiLFlBQUE3YixFQUFBNmIsWUFBQUMsS0FBQTliLEdBQ0FBLEVBc0VBLE9BM0VBbWIsRUFBQU8sRUFBQUQsR0FPQUMsRUFBQXJzQixVQUFBMHNCLG1CQUFBLFdBQ0EsR0FBQTFZLEtBQUFzRSxRQUFBdEUsRUFBQXNFLE9BQUFwWCxPQUNBeUssS0FBQTJNLE9BQUF0RSxFQUFBc0UsV0FFQSxLQUFBNlQsRUFBQTdULE9BSUEsTUFBQWxDLE1BQUEsZ0NBSEF6SyxLQUFBMk0sT0FBQTZULEVBQUE3VCxTQUtBLEdBQUF0RSxLQUFBMlksU0FDQWhoQixLQUFBZ2hCLFNBQUEzWSxFQUFBMlksYUFFQSxLQUFBUixFQUFBUSxTQUlBLE1BQUF2VyxNQUFBLGdDQUhBekssS0FBQWdoQixTQUFBUixFQUFBUSxTQUtBM1ksS0FBQWpLLE1BQ0E0QixLQUFBNUIsTUFBQWlLLEVBQUFqSyxNQUdBNEIsS0FBQTVCLE1BQUFraUIsRUFBQXhQLE9BSUEsSUFGQSxJQUFBbVEsRUFBQWpoQixLQUFBNUIsTUFBQTBKLE9BQ0FvSCxFQUFBbFAsS0FBQTJNLE9BQUFwWCxPQUNBMlosS0FDQWxQLEtBQUE1QixNQUFBNkosTUFBQWpJLEtBQUEyTSxPQUFBdUMsSUFBQWhGLEdBQUEsU0FBQWxLLEtBQUE2Z0IsYUFDQTdnQixLQUFBNmdCLGFBQ0E1WSxNQUFBakksS0FBQTJNLE9BQUF1QyxHQUNBM0YsT0FDQXRCLE1BQUFqSSxLQUFBMk0sT0FBQXVDLEdBQ0FsRCxPQUFBLEtBQ0FWLFdBQUEsS0FDQXFWLE1BQUEsV0FDQWpyQixVQUNBd3JCLGFBRUF0cEIsS0FBQUMsS0FBQXNwQixNQUNBcFQsT0FBQSxTQUNBclksVUFDQTRFLE9BQUEsVUFDQXdULGFBQUEsR0FDQUcsa0JBR0FqTyxLQUFBNUIsTUFBQTZKLE1BQUFnWixJQUVBUCxFQUFBcnNCLFVBQUErc0IscUJBQUEsV0FHQSxJQUZBLElBQUFILEVBQUFqaEIsS0FBQTVCLE1BQUEwSixPQUNBb0gsRUFBQWxQLEtBQUEyTSxPQUFBcFgsT0FDQTJaLEtBQ0FsUCxLQUFBNUIsTUFBQTZKLE1BQUFqSSxLQUFBMk0sT0FBQXVDLElBQUE3RSxJQUFBLFNBQUFySyxLQUFBNmdCLGFBRUE3Z0IsS0FBQTVCLE1BQUE2SixNQUFBZ1osSUFFQVAsRUFBQXJzQixVQUFBd3NCLFlBQUEsU0FBQTdpQixHQUNBLElBQUFnSCxFQUFBaEYsS0FDQUEsS0FBQXFoQixVQUEyQlQsV0FBQSxHQUFrQixXQUM3QzViLEVBQUFnYyxTQUFBaGpCLEVBQUEsU0FBQTZDLEdBQ0FtRSxFQUFBcWMsVUFBb0NULFdBQUEsRUFBQS9mLGNBSXBDNmYsRUFBQXJzQixVQUFBaXRCLE9BQUEsV0FDQSxPQUFBakIsRUFBQXJKLGNBQUF3SixFQUFBbGIsR0FBdURpYyxZQUFBdmhCLEtBQUEyZ0IsTUFBQUMsVUFBQWQsU0FBQTlmLEtBQUEyZ0IsTUFBQTlmLE1BQStEYixLQUFBcUksU0FFdEhxWSxFQTVFQSxDQTZFS0wsRUFBQW1CLDZCQ3BHTCxJQUFBbGMsRUFBQXRGLFdBQUFzRixVQUFBNVIsT0FBQTZSLFFBQUEsU0FBQTNMLEdBQ0EsUUFBQXBGLEVBQUF4QixFQUFBLEVBQUFpQixFQUFBZ00sVUFBQTFLLE9BQTRDdkMsRUFBQWlCLEVBQU9qQixJQUVuRCxRQUFBdUIsS0FEQUMsRUFBQXlMLFVBQUFqTixHQUNBVSxPQUFBVyxVQUFBQyxlQUFBbkIsS0FBQXFCLEVBQUFELEtBQ0FxRixFQUFBckYsR0FBQUMsRUFBQUQsSUFFQSxPQUFBcUYsR0FFQWxHLE9BQUFDLGVBQUFiLEVBQUEsY0FBOENrQixPQUFBLElBQzlDLElBQUF5USxFQUFBN1IsRUFBQSxHQUVBNnVCLEdBQUEsMkJBYUFqWixFQUFBLFdBQ0EsU0FBQUEsRUFBQWtaLEdBQ0ExaEIsS0FBQTBoQixrQkFDQTFoQixLQUFBMmhCLGdCQUNBM2hCLEtBQUE0aEIsaUJBQ0E1aEIsS0FBQTZoQixjQThmQSxPQTVmQXJaLEVBQUFuVSxVQUFBcVQsWUFBQSxTQUFBUyxFQUFBeUUsR0FDQSxJQUFBNUgsRUFBQWhGLEtBQ0FBLEtBQUF5SCxPQUFBVSxFQUFBVixPQUNBLElBQUFxYSxLQUVBcHVCLE9BQUEwUixLQUFBK0MsRUFBQWQsUUFBQXJMLFFBQUEsU0FBQWlNLEdBRUEsT0FBQUEsRUFBQXZSLFFBQUEsTUFDQSxJQUFBcXJCLEVBQUF0ZCxFQUFBNVAsUUFBQXNULEVBQUFkLE9BQUFZLElBQUEvUixJQUFBLFNBQUE0UyxHQVFBLE9BUEFBLEVBQUFULE9BQUE1RCxFQUFBek0sV0FBQSxhQUFBOFEsRUFBQVQsU0FDQXJELEVBQUEyYyxhQUFBMVosR0FBQWEsRUFBQTNLLElBQ0E2RyxFQUFBNGMsY0FBQTNaLEdBQUFhLEVBQUFuUCxLQUNBcUwsRUFBQTZjLFdBQUE1WixjQUVBYSxFQUFBVCxhQUNBUyxFQUFBeUQsUUFDQXpELElBR0FpWixFQUFBOWtCLFNBQW1Da0IsSUFBQSxNQUFBeEUsS0FBQSxXQUFBME8sT0FBQSxVQUVuQ3laLEVBQUEsSUFBQTdaLEVBQUEsZUFBQThaLEVBRUFELEVBQUEsSUFBQTdaLEVBQUEsZ0JBQ3FCOUosSUFBQSxLQUFBeEUsS0FBQXFMLEVBQUE0YyxjQUFBM1osR0FBQUksT0FBQSxVQUNBbEssSUFBQSxXQUFBeEUsS0FBQSxlQUNBd0UsSUFBQSxVQUFBeEUsS0FBQSxjQUlyQixJQUFBcW9CLEVBQUEsaUJBQUFoaUIsS0FBQTBoQixnQkFDQU8sSUFDYTlqQixJQUFBLEtBQUF4RSxLQUFBLFdBQUEwTyxPQUFBLFVBQ0FsSyxJQUFBLFFBQUF4RSxLQUFBLFdBQ0F3RSxJQUFBLE9BQUF4RSxLQUFBLFVBRWJ1b0IsSUFDYS9qQixJQUFBLEtBQUF4RSxLQUFBLFdBQUEwTyxPQUFBLFVBQ0FsSyxJQUFBLE1BQUF4RSxLQUFBLFFBR2IsYUFBQXFHLEtBQUEwaEIsaUJBQUExaEIsS0FBQTBoQixpQkFLQSxhQUFBMWhCLEtBQUEwaEIsaUJBQUFNLEtBQ0FoaUIsS0FBQW1pQixnQkFDQUgsRUFNQWhpQixLQUFBbWlCLGFBQUExZCxFQUFBNVAsUUFBQW1MLEtBQUEwaEIsaUJBTEFodUIsT0FBQTBSLEtBQUFwRixLQUFBMmhCLGNBQUEzbEIsUUFBQSxTQUFBaU0sR0FDQWpELEVBQUFtZCxhQUFBbGEsR0FBQWpELEVBQUEwYyxrQkFPQWh1QixPQUFBMFIsS0FBQXBGLEtBQUFtaUIsY0FBQW5tQixRQUFBLFNBQUFpTSxHQUNBLFVBQUFqRCxFQUFBbWQsYUFBQWxhLEtBQ0E2WixFQUFBLElBQUE3WixFQUFBLFVBQUFnYSxFQUNBSCxFQUFBLElBQUE3WixFQUFBLGNBQUFpYSxPQWxCQUosRUFBQUwsRUFBQSxJQUFBUSxFQUNBSCxFQUFBTCxFQUFBLElBQUFTLEdBcUJBL1osRUFBQWQsT0FBQS9CLEtBQXdDNkMsRUFBQWQsT0FBQXlhLEdBQ3hDbFYsRUFBQXpFLElBRUFLLEVBQUFuVSxVQUFBK3RCLFdBQUEsU0FBQW5hLEdBQ0EsT0FBQUEsRUFFQWpJLEtBQUFtaUIsYUFBQSxVQUFBbmlCLEtBQUFtaUIsYUFBQWxhLEdBQUEsSUFBQUEsRUFBQSxzQkFEQSxVQUdBTyxFQUFBblUsVUFBQWd1Qix5QkFBQSxTQUFBcGEsRUFBQXlHLEdBQ0EsSUFBQTFKLEVBQUFoRixLQUNBc2lCLEVBQUF0aUIsS0FBQW9pQixXQUFBbmEsR0FDQXFhLEVBSUF0aUIsS0FBQXlILE9BQUE4QixNQUFBLFVBQUFDLFlBQ0F2QixNQUFBcWEsRUFBQSxTQUNhcGhCLEtBQUEsU0FBQXlJLEdBQ2JBLEVBQUFwVSxPQUNBbVosSUFHQTFKLEVBQUF5QyxPQUFBOEIsTUFBQSxVQUNBdkksR0FBQXlELEVBQUEvTSxRQUFBLEdBQ0F1USxRQUNBc2EsSUFBQSxJQUNxQi9ZLFlBQWN2QixNQUFBcWEsRUFBQSxTQUE0QnBoQixLQUFBd04sS0FkL0RBLEtBbUJBbEcsRUFBQW5VLFVBQUFzVCxXQUFBLFNBQUFRLEVBQUF5RSxHQUNBLElBQUE1SCxFQUFBaEYsS0FDQXdpQixFQUFBLFdBRUEvZCxFQUFBek8sUUFBQXRDLE9BQUEwUixLQUFBSixFQUFBNmMsWUFBQSxTQUFBNVosRUFBQWlILEVBQUF1VCxHQUNBemQsRUFBQXlDLE9BQUFnQyxPQUFBLFVBQUF4QixFQUFBLGNBQUEvRyxLQUFBLFNBQUF5QixHQUNBQSxFQUFBM0csUUFBQSxTQUFBN0YsR0FDQTZPLEVBQUE2YyxXQUFBNVosR0FBQTlSLElBQUEsSUFFQTZPLEVBQUFtZCxhQUNBbmQsRUFBQXFkLHlCQUFBcGEsRUFBQXdhLEdBR0FBLFFBR2F2aEIsS0FBQTBMLElBRWI1TSxLQUFBbWlCLGFBaUJBSyxJQWhCQXhpQixLQUFBeUgsT0FBQThCLE1BQUEsVUFBQUMsWUFDQXZCLE1BQUEsY0FDYS9HLEtBQUEsU0FBQXlJLEdBQ2JBLEVBQUFwVSxPQUNBaXRCLElBR0F4ZCxFQUFBeUMsT0FBQThCLE1BQUEsVUFDQXZJLEdBQUF5RCxFQUFBL00sUUFBQSxHQUNBdVEsTUFBQSxHQUNBc2EsSUFBQSxJQUNxQi9ZLFlBQWN2QixNQUFBLGNBQXFCL0csS0FBQXNoQixNQWlCeERoYSxFQUFBblUsVUFBQXF1QixpQkFBQSxTQUFBemEsRUFBQTBhLEVBQUFqVSxFQUFBa1UsR0FDQSxJQUFBNWQsRUFBQWhGLEtBQ0E2aUIsRUFBQSxJQUFBNWEsRUFBQSxjQUNBNmEsRUFBQSxJQUFBN2EsRUFBQSxhQUNBeEQsRUFBQXpPLFFBQUEyc0IsRUFBQSxTQUFBSSxFQUFBOXZCLEVBQUErdkIsR0FDQWhlLEVBQUF5QyxPQUFBOEIsTUFBQSxVQUFBRyxPQUFBLFNBQUFxWixJQUFBdlosWUFBNEV2QixNQUFBNmEsSUFBcUI1aEIsS0FBQSxTQUFBeUksR0FDakcsR0FBQUEsRUFBQXBVLE9BQUEsQ0FJQSxJQUFBMHRCLEVBQUF2dkIsT0FBQXd2QixTQUFBdlosRUFBQSxJQUFBbEYsRUFBQTVQLFFBQUE4VSxFQUFBLElBQUFBLEVBQUEsR0FDQXdaLEtBQ0EsR0FBQVAsRUFDQU8sSUFBQXZtQixPQUFBcW1CLEVBQUFHLFNBQUFqckIsT0FBQSxTQUFBcEUsR0FBb0YsV0FBQUEsS0FDcEZrdkIsRUFBQUksUUFBQSxFQUNBSixFQUFBRyxnQkFFQSxDQUNBLEtBQUFILEVBQUFJLFdBQ0FGLEVBQUF4dEIsS0FBQXN0QixFQUFBRyxTQUFBcG1CLFNBRUFpbUIsRUFBQUksUUFBQSxFQUVBRixFQUFBNXRCLE9BSUF5UCxFQUFBeUMsT0FBQThCLE1BQUEsU0FBQTBaLEdBQUFLLFFBQUEsaUJBQUE1WixPQUFBLFNBQUFxWixJQUFBdlosWUFBcUh2QixNQUFBNmEsSUFBcUI1aEIsS0FBQSxXQUMxSThELEVBQUF5QyxPQUFBOEIsTUFBQSxVQUFBK1osUUFBQSxpQkFBQTVaLE9BQUEsV0FBQXlaLElBQUEzWixZQUFtSHZCLE1BQUE0YSxJQUFzQjNoQixLQUFBLFdBQ3pJMGhCLEVBQ0E1ZCxFQUFBeUMsT0FBQThCLE1BQUEsVUFBQUcsT0FBQTFFLEVBQUEyYyxhQUFBMVosR0FBQSxJQUFBOGEsSUFBQXZaLFlBQWlIdkIsVUFBZS9HLEtBQUEsU0FBQXFpQixHQUNoSXZlLEVBQUF3ZSxrQkFBQXZiLEdBQUEsVUFBQThhLEVBQUFRLEVBQUEsTUFBQVAsS0FJQUEsUUFYQUEsU0FqQkFBLFFBaUNTOWhCLEtBQUF3TixJQUVUbEcsRUFBQW5VLFVBQUFvdkIsbUJBQUEsU0FBQXhiLEVBQUF5RyxFQUFBa1UsR0FDQSxJQUFBNWQsRUFBQWhGLEtBQ0FBLEtBQUF5SCxPQUFBOEIsTUFBQSxVQUFBQyxZQUFnRHZCLFFBQUEsU0FBd0IvRyxLQUFBLFNBQUF5SSxHQUN4RSxJQUFBZ0YsRUFBQWpiLE9BQUF3dkIsU0FBQXZaLEVBQUEsSUFBQWxGLEVBQUE1UCxRQUFBOFUsRUFBQSxJQUFBQSxFQUFBLEdBQ0EsR0FBQWlaLEdBQUFqVSxFQUFBNFQsSUFBQSxHQUNBLElBQUFtQixFQUFBMWUsRUFBQXlDLE9BQUE4QixNQUFBLFVBQ0FxWixHQUNBYyxFQUFBQyxPQUFBLEVBQUFoVixFQUFBNFQsSUFBQSxHQUVBbUIsRUFBQWxhLFlBQWtDdkIsVUFBZS9HLEtBQUEsU0FBQTBpQixHQUNqRCxHQUFBQSxFQUFBcnVCLE9BQUEsQ0FJQSxJQUFBc3VCLEtBQ0FELEVBQUE1bkIsUUFBQSxTQUFBMlMsR0FDQWtWLEVBQUFsVixFQUFBMUcsU0FDQTRiLEVBQUFsVixFQUFBMUcsV0FDQTRiLEVBQUFsVixFQUFBMUcsT0FBQTRiLEVBQUFsVixFQUFBMUcsT0FBQXJMLE9BQUErUixFQUFBdkosUUFFQVgsRUFBQXpPLFFBQUF0QyxPQUFBMFIsS0FBQXllLEdBQUEsU0FBQXRXLEVBQUF5UCxFQUFBeUYsR0FDQXpkLEVBQUEwZCxpQkFBQW5WLEVBQUFzVyxFQUFBdFcsR0FBQWtWLEVBQUFHLEtBQ3FCMWhCLEtBQUEsV0FDckI4RCxFQUFBeUMsT0FBQThCLE1BQUEsVUFBQStaLFFBQUEsaUJBQUE1WixPQUFBLFVBQUFrYSxFQUFBMXRCLElBQUEsU0FBQW5DLEdBQWlJLE9BQUFBLEVBQUFpTixPQUFld0ksWUFBZ0J2QixVQUFlL0csS0FBQSxXQUMvS3lOLEVBQUE0VCxJQUFBLEVBQ0F2ZCxFQUFBeUMsT0FBQThCLE1BQUEsU0FBQW9GLEdBQUEyVSxRQUFBLGlCQUFBNVosT0FBQSxTQUFBaUYsRUFBQTNOLEtBQUF3SSxZQUE4SHZCLFFBQUEsU0FBd0IvRyxLQUFBd04sWUFkdEpBLFdBb0JBQSxPQWNBbEcsRUFBQW5VLFVBQUF5dkIsb0JBQUEsU0FBQTdiLEVBQUEwYSxFQUFBalUsR0FDQSxHQUFBMU8sS0FBQW1pQixhQUFBLENBSUEsSUFBQUcsRUFBQXRpQixLQUFBb2lCLFdBQUFuYSxHQUNBcWEsRUFJQXRpQixLQUFBeWpCLG1CQUFBbkIsRUFBQTVULEdBSEExTyxLQUFBMGlCLGlCQUFBemEsRUFBQTBhLEVBQUFqVSxRQUxBMU8sS0FBQXlqQixtQkFBQSxRQUFBL1UsSUFXQWxHLEVBQUFuVSxVQUFBMHZCLGlCQUFBLFNBQUE5YixFQUFBK2IsRUFBQXRWLEdBQ0EsR0FBQTFPLEtBQUFtaUIsYUFBQSxDQUlBLElBQUFHLEVBQUF0aUIsS0FBQW9pQixXQUFBbmEsR0FDQXFhLEVBSUF0aUIsS0FBQXlqQixtQkFBQW5CLEVBQUE1VCxHQUFBLEdBSEExTyxLQUFBMGlCLGlCQUFBemEsR0FBQStiLEdBQUF0VixHQUFBLFFBTEExTyxLQUFBeWpCLG1CQUFBLFFBQUEvVSxHQUFBLElBV0FsRyxFQUFBblUsVUFBQTJVLFFBQUEsU0FBQXBJLEVBQUFnTSxHQUdBLElBQUE1SCxFQUFBaEYsS0FDQVksRUFBQXFILE9BQUEsSUFBQXJILEVBQUFxSCxNQUFBdlIsUUFBQSxNQUFBa0ssRUFBQXRHLE1BQUE1RCxRQUFBLG1CQUFBa0ssRUFBQTJJLE1BQUEyWCxTQUFBeHFCLFFBQUEsaUJBQ0FzSixLQUFBOGpCLG9CQUFBbGpCLEVBQUFxSCxNQUFBckgsRUFBQW9OLGVBQUEsV0FDQXZKLEVBQUF6TyxRQUFBNEssRUFBQXFOLGFBQUEsU0FBQVUsRUFBQU8sRUFBQThULEdBQ0EsSUFBQUQsRUFBQXBVLEVBQUEzSixFQUFBMmMsYUFBQS9nQixFQUFBcUgsUUFDQWpELEVBQUE2YyxXQUFBamhCLEVBQUFxSCxPQUFBOGEsR0FDQS9kLEVBQUF3ZSxrQkFBQTVpQixFQUFBcUgsTUFBQXJILEVBQUF0RyxNQUFBeW9CLEVBQUFwVSxHQUFBLFdBQUEzTixHQUNBZ2lCLEVBQUFELE1BSUEvZCxFQUFBNmMsV0FBQWpoQixFQUFBcUgsT0FBQThhLElBQUEsRUFDQS9kLEVBQUF3ZSxrQkFBQTVpQixFQUFBcUgsTUFBQXJILEVBQUF0RyxNQUFBeW9CLEVBQUFwVSxHQUFBLFdBQUEzTixHQUNBZ0UsRUFBQXlDLE9BQUE4QixNQUFBLFVBQ0F2SSxHQUFBK2hCLEVBQ0FLLFVBQUFwaUIsR0FBQSxHQUNBcWlCLFFBQUEsSUFDNkI3WixZQUFjdkIsTUFBQSxJQUFBckgsRUFBQXFILE1BQUEsZUFBMEMvRyxLQUFBLFdBQ3JGOGhCLEVBQUFELFVBSWlCN2hCLEtBQUEsU0FBQStpQixHQUNqQmpmLEVBQUFrZixlQUFBdGpCLEVBQUFxakIsRUFBQXJYLE9BS0FBLEVBQUFoTSxJQUdBNEgsRUFBQW5VLFVBQUE2dkIsZUFBQSxTQUFBdGpCLEVBQUF1akIsRUFBQXpWLEdBRUEsSUFBQTRULEVBQUF0aUIsS0FBQW9pQixXQUFBeGhCLEVBQUFxSCxPQUNBcWEsRUFJQXRpQixLQUFBeUgsT0FBQThCLE1BQUEsVUFDQXZJLEdBQUF5RCxFQUFBL00sUUFBQSxHQUNBdVEsTUFBQXJILEVBQUFxSCxNQUNBN0MsS0FBQStlLElBQ2EzYSxZQUFjdkIsTUFBQXFhLElBQW1CcGhCLEtBQUEsV0FDOUN3TixFQUFBOU4sS0FSQThOLEVBQUE5TixJQVlBNEgsRUFBQW5VLFVBQUFtdkIsa0JBQUEsU0FBQXZiLEVBQUFtYyxFQUFBSixFQUFBclYsRUFBQTBWLEVBQUEzVixHQUNBLElBQUExSixFQUFBaEYsS0FDQTZpQixFQUFBLElBQUE1YSxFQUFBLGFBQ0FqSCxFQUFBeUQsRUFBQS9NLFFBQUEsR0FDQTRzQixFQUFBLFNBQUFDLEdBRUF2ZixFQUFBeUMsT0FBQThCLE1BQUEsVUFBQUcsT0FBQSxTQUFBc2EsSUFBQXhhLFlBQStFdkIsTUFBQTRhLElBQXNCM2hCLEtBQUEsU0FBQXlJLEdBQ3JHLElBQUFzWixFQUFBdnZCLE9BQUF3dkIsU0FBQXZaLEVBQUEsSUFBQWxGLEVBQUE1UCxRQUFBOFUsRUFBQSxJQUFBQSxFQUFBLEdBQ0FzWixFQUFBRyxTQUFBbm1CLFFBQUFzbkIsR0FDQXZmLEVBQUF5QyxPQUFBOEIsTUFBQSxTQUFBMFosR0FBQXZaLE9BQUEsU0FBQXNhLElBQUF4YSxZQUErRnZCLE1BQUE0YSxJQUFzQjNoQixLQUFBLFdBQ3JId04sRUFBQTZWLFFBSUFILEVBQUExdEIsUUFBQSxjQUFBMHRCLEVBQUExdEIsUUFBQSxXQUVBNHRCLEdBQUEsR0FJQXRrQixLQUFBeUgsT0FBQThCLE1BQUEsU0FBQWpFLEdBQWtEa2YsSUFBQXhqQixHQUFVMk4sSUFBQW5GLFlBQW9CdkIsTUFBQSxJQUFBQSxFQUFBLGdCQUFxQy9HLEtBQUEsV0FDckhtakIsRUFDQTNWLEVBQUExTixHQUdBc2pCLEVBQUF0akIsTUFJQXdILEVBQUFuVSxVQUFBb1YsT0FBQSxTQUFBbUQsRUFBQXpULEVBQUF6RCxHQUNBLFlBQUF5RCxFQUFBLElBQ0EsSUFBQW9RLEVBQUFwUSxFQUFBLEdBQ0E4TyxFQUFBOU8sRUFBQSxHQUNBNnFCLEVBQUE3cUIsRUFBQSxHQUNBLE9BQUFvUSxHQUVBLFFBQ0EsUUFDQXZKLEtBQUF5a0IsY0FBQWxiLEVBQUF0QixFQUFBK2IsRUFBQSxTQUFBVSxHQUNBOVgsRUFBQXpULEdBQUF1ckIsTUFFQSxNQUVBLFFBQ0Exa0IsS0FBQTJrQixjQUFBMWMsRUFBQStiLEVBQUEsU0FBQVksR0FDQWhZLEVBQUF6VCxFQUFBeXJCLEtBRUEsTUFFQSxVQUNBNWtCLEtBQUE2a0Isb0JBQUE1YyxFQUFBK2IsRUFBQSxTQUFBWSxHQUNBaFksRUFBQXpULEVBQUF5ckIsS0FFQSxNQUVBLFlBQ0E1a0IsS0FBQStqQixpQkFBQTliLEVBQUErYixFQUFBLFdBQ0FwWCxFQUFBelQsRUFBQXpELFdBTUFrWCxFQUFBelQsRUFBQXpELElBSUE4UyxFQUFBblUsVUFBQXd3QixvQkFBQSxTQUFBNWMsRUFBQStiLEVBQUF0VixHQUNBLElBQUExSixFQUFBaEYsS0FDQTZpQixFQUFBLElBQUE1YSxFQUFBLGFBQ0FqSSxLQUFBeUgsT0FBQThCLE1BQUEsVUFBQUcsT0FBQSxTQUFBc2EsSUFBQXhhLFlBQTBFdkIsTUFBQTRhLElBQXNCM2hCLEtBQUEsU0FBQXlJLEdBQ2hHLElBQUFtYixFQUFBbmIsRUFBQSxHQUFBeVosU0FBQWpyQixPQUFBLFNBQUE2SSxHQUFpRSxXQUFBQSxJQUNqRWdFLEVBQUF5QyxPQUFBOEIsTUFBQSxVQUFBRyxPQUFBLFdBQUFvYixJQUFBdGIsWUFBbUZ2QixNQUFBLElBQUFBLEVBQUEsZ0JBQXFDL0csS0FBQSxTQUFBNmpCLEdBQ3hILElBQUFDLEtBQ0FELEVBQUEvb0IsUUFBQSxTQUFBMlMsR0FDQXFXLEVBQUFyVyxFQUFBOFMsRUFBQSxLQUFBL3RCLE9BQUF3dkIsU0FBQXZVLEdBQUFsSyxFQUFBNVAsUUFBQThaLFlBQ0FxVyxFQUFBclcsRUFBQThTLEVBQUEsS0FBQUEsRUFBQSxNQUVBL1MsSUFDQXVXLFFBQUF0YixFQUFBLEdBQUF5WixTQUFBN3RCLE9BQUFvVSxFQUFBLEdBQUEwWixRQUFBLEVBQ0E2QixVQUFBdmIsRUFBQSxHQUFBeVosU0FBQStCLFVBQUFqdkIsSUFBQSxTQUFBbkMsR0FBZ0YsV0FBQUEsRUFBQSxLQUFBaXhCLEVBQUFqeEIsYUFLaEZ5VSxFQUFBblUsVUFBQSt3QixpQkFBQSxTQUFBbmQsRUFBQXlHLEdBQ0EsSUFBQTFKLEVBQUFoRixLQUNBQSxLQUFBeUgsT0FBQWdDLE9BQUEsYUFBQXhCLEdBQUEvRyxLQUFBLFNBQUE4QixHQUNBZ0MsRUFBQXlDLE9BQUE4QixNQUFBLFVBQUFDLFlBQXFEdkIsUUFBQSxTQUF3Qi9HLEtBQUEsU0FBQXlJLEdBQzdFQSxFQUFBcFUsT0FJQW1aLEdBQUExTCxJQUFBMkcsRUFBQSxHQUFBNFksTUFIQTdULEdBQUEsV0FPQWxHLEVBQUFuVSxVQUFBc3dCLGNBQUEsU0FBQTFjLEVBQUErYixFQUFBdFYsR0FDQSxHQUFBMU8sS0FBQW1pQixhQUFBLENBTUEsSUFBQUcsRUFBQXRpQixLQUFBb2lCLFdBQUFuYSxHQUNBLEdBQUFxYSxFQVVBLENBQ0EsSUFBQXJhLEVBQ0EsTUFBQXdDLE1BQUEsdUNBRUF6SyxLQUFBb2xCLGlCQUFBOUMsRUFBQTVULE9BZEEsQ0FDQSxJQUFBc1YsRUFDQSxNQUFBdlosTUFBQSxpREFFQSxJQUFBb1ksRUFBQSxJQUFBNWEsRUFBQSxhQUNBakksS0FBQXlILE9BQUE4QixNQUFBLFVBQUFHLE9BQUEsU0FBQXNhLElBQUF4YSxZQUE4RXZCLE1BQUE0YSxJQUFzQjNoQixLQUFBLFNBQUF5SSxHQUNwRyxJQUFBc1osRUFBQXRaLEVBQUEsR0FDQStFLEdBQUF1VSxFQUFBRyxTQUFBN3RCLE9BQUEwdEIsRUFBQUcsU0FBQTd0QixPQUFBMHRCLEVBQUFJLFFBQUEsWUFiQXJqQixLQUFBb2xCLGlCQUFBLGlCQUFBMXZCLEdBQ0FnWixFQUFBaFosTUFzQkE4UyxFQUFBblUsVUFBQWd4QixtQkFBQSxTQUFBQyxFQUFBcmQsRUFBQXlHLEdBQ0EsSUFBQTFKLEVBQUFoRixLQUNBQSxLQUFBeUgsT0FBQThCLE1BQUEsVUFBQUMsWUFBZ0R2QixRQUFBLFNBQXdCL0csS0FBQSxTQUFBeUksR0FDeEUsSUFBQTRiLEVBQUE5Z0IsRUFBQTVQLFFBQUE4VSxFQUFBLElBQ0E0YixFQUFBaEQsS0FBQSxNQUFBK0MsRUFBQSxLQUNBQyxFQUFBaEQsSUFBQSxJQUNBZ0QsRUFBQWhELElBQUEsR0FDQXZkLEVBQUF5QyxPQUFBZ0MsT0FBQSxhQUFBeEIsR0FBQS9HLEtBQUEsU0FBQThCLEdBQ0F1aUIsRUFBQWhELElBQUF2ZixJQUNBdWlCLEVBQUFoRCxJQUFBdmYsR0FFQTJHLEVBQUEsR0FBQTRZLE1BQUFnRCxFQUFBaEQsSUFJQXZkLEVBQUF5QyxPQUFBOEIsTUFBQSxVQUFBb2EsT0FBQSxRQUFBMkIsRUFBQTNiLEVBQUEsR0FBQTRZLElBQUFnRCxFQUFBaEQsS0FBQS9ZLFlBQWlIdkIsVUFBZS9HLEtBQUEsU0FBQXlJLEdBQ2hJM0UsRUFBQXlDLE9BQUE4QixNQUFBLFNBQUFnYyxHQUFBL2IsWUFBcUV2QixRQUFBLFNBQXdCL0csS0FBQSxXQUM3RnVELEVBQUF6TyxRQUFBMlQsRUFBQSxHQUFBdkUsS0FBQSxTQUFBMmQsRUFBQS92QixFQUFBNGIsR0FDQTVKLEVBQUF3Z0IsaUJBQUFGLEVBQUEzYixFQUFBLEdBQUExQixNQUFBOGEsRUFBQW5VLEtBQ3lCMU4sS0FBQSxTQUFBd2pCLEdBQ3pCaFcsRUFBQWdXLEVBQUFodUIsU0FBQSxhQVJBZ1ksR0FBQSxRQWVBbEcsRUFBQW5VLFVBQUFteEIsaUJBQUEsU0FBQUYsRUFBQXJkLEVBQUF3ZCxFQUFBL1csR0FDQSxJQUFBMUosRUFBQWhGLEtBQ0EwbEIsRUFBQSxTQUFBckwsR0FDQXJWLEVBQUF5QyxPQUFBOEIsTUFBQSxTQUFBOFEsR0FBQTNRLE9BQUExRSxFQUFBMmMsYUFBQTFaLEdBQUEsSUFBQXdkLElBQUFqYyxZQUF1R3ZCLE1BQUEsSUFBQUEsRUFBQSxlQUFvQy9HLEtBQUEsV0FDM0l3TixHQUFBLE1BR0ExTyxLQUFBeUgsT0FBQThCLE1BQUEsVUFBQUcsT0FBQTFKLEtBQUEyaEIsYUFBQTFaLEdBQUEsSUFBQXdkLElBQUFqYyxZQUEyRnZCLE1BQUEsSUFBQUEsRUFBQSxlQUFvQy9HLEtBQUEsU0FBQXlJLEdBQy9ILElBQUFnYyxFQUFBbGhCLEVBQUE1UCxRQUFBOFUsRUFBQSxJQU1BLEdBTEFnYyxFQUFBdEMsU0FBQSxNQUFBaUMsRUFBQSxLQUNBSyxFQUFBdEMsUUFBQSxJQUNBc0MsRUFBQXRDLFFBQUEsR0FDQXNDLEVBQUF0QyxRQUFBc0MsRUFBQXZDLFNBQUE3dEIsT0FBQSxJQUNBb3dCLEVBQUF0QyxRQUFBc0MsRUFBQXZDLFNBQUE3dEIsT0FBQSxHQUNBb3dCLEVBQUF0QyxVQUFBMVosRUFBQSxHQUFBMFosUUFBQSxDQUlBLElBQUF1QyxFQUFBRCxFQUFBdkMsU0FBQXVDLEVBQUF0QyxVQUNBLElBQUF1QyxFQUNBNWdCLEVBQUF5QyxPQUFBOEIsTUFBQSxVQUFBK1osUUFBQSxpQkFBQTVaLE9BQUExRSxFQUFBMmMsYUFBQTFaLEdBQUEsSUFBQXdkLElBQUFqYyxZQUE4SHZCLFVBQWUvRyxLQUFBLFdBQzdJd2tCLEVBQUFDLEtBS0EzZ0IsRUFBQXlDLE9BQUE4QixNQUFBLFVBQUFHLE9BQUEsVUFBQWtjLElBQUFwYyxZQUF3RnZCLE1BQUEsSUFBQUEsRUFBQSxnQkFBcUMvRyxLQUFBLFNBQUF5SSxHQUU3SDNFLEVBQUF5QyxPQUFBOEIsTUFBQSxTQUFBSSxFQUFBLElBQUEyWixRQUFBLGlCQUFBOVosWUFBK0Z2QixVQUFlL0csS0FBQSxXQUM5R3drQixFQUFBQyxZQWRBalgsR0FBQSxNQW9CQWxHLEVBQUFuVSxVQUFBb3dCLGNBQUEsU0FBQWEsRUFBQXJkLEVBQUErYixFQUFBdFYsR0FDQSxHQUFBMU8sS0FBQW1pQixhQUFBLENBSUEsSUFBQUcsRUFBQXRpQixLQUFBb2lCLFdBQUFuYSxHQUNBLEdBQUFxYSxFQU1BLENBQ0EsSUFBQXJhLEVBQ0EsTUFBQXdDLE1BQUEsd0NBRUF6SyxLQUFBcWxCLG1CQUFBQyxFQUFBaEQsRUFBQTVULE9BVkEsQ0FDQSxJQUFBc1YsRUFDQSxNQUFBdlosTUFBQSxrREFFQXpLLEtBQUF3bEIsaUJBQUFGLEVBQUFyZCxFQUFBK2IsRUFBQXRWLFNBUkExTyxLQUFBcWxCLG1CQUFBQyxFQUFBLFFBQUE1VyxJQWlCQWxHLEVBbmdCQSxHQXFnQkExVixFQUFBMFYsMENDN2hCQSxTQUFBL1QsR0FBQSxJQUFBNlEsRUFBQXRGLFdBQUFzRixVQUFBNVIsT0FBQTZSLFFBQUEsU0FBQTNMLEdBQ0EsUUFBQXBGLEVBQUF4QixFQUFBLEVBQUFpQixFQUFBZ00sVUFBQTFLLE9BQTRDdkMsRUFBQWlCLEVBQU9qQixJQUVuRCxRQUFBdUIsS0FEQUMsRUFBQXlMLFVBQUFqTixHQUNBVSxPQUFBVyxVQUFBQyxlQUFBbkIsS0FBQXFCLEVBQUFELEtBQ0FxRixFQUFBckYsR0FBQUMsRUFBQUQsSUFFQSxPQUFBcUYsR0FFQWxHLE9BQUFDLGVBQUFiLEVBQUEsY0FBOENrQixPQUFBLElBQzlDLElBQUFVLEVBQUE5QixFQUFBLElBQ0E2UixFQUFBN1IsRUFBQSxHQUNBaXpCLEVBQUFqekIsRUFBQSxJQUNBa3pCLEVBQUEsU0FBQW5wQixHQUNBbEksRUFBQXN4QixJQUFBQyxXQUFBcnBCLEtBQ0FsSSxFQUFBc3hCLElBQUFFLFlBQUF0cEIsR0FBQVgsUUFBQSxTQUFBa3FCLEdBQ0EsSUFBQUMsRUFBQXhwQixFQUFBLElBQUF1cEIsRUFDQXp4QixFQUFBc3hCLElBQUFLLFNBQUFELEdBQUFFLGNBQ0FQLEVBQUFLLEdBR0ExeEIsRUFBQXN4QixJQUFBTyxXQUFBSCxLQUdBMXhCLEVBQUFzeEIsSUFBQVEsVUFBQTVwQixLQVdBNnBCLEVBQUEsV0FDQSxTQUFBQSxFQUFBN3BCLEVBQUE4cEIsRUFBQUMsR0FDQTFtQixLQUFBckQsT0FDQXFELEtBQUF5bUIsYUFDQXptQixLQUFBMG1CLFlBQ0ExbUIsS0FBQTJtQixVQUNBM21CLEtBQUE0bUIsV0FDQTVtQixLQUFBNm1CLFlBQ0E3bUIsS0FBQThtQixhQUNBOW1CLEtBQUErbUIsWUE0SkEsT0ExSkFQLEVBQUFueUIsVUFBQTZULFFBQUEsU0FBQXdHLEdBQ0EsSUFBQTFKLEVBQUFoRixLQUNBeUUsRUFBQXpPLFFBQUF0QyxPQUFBMFIsS0FBQXBGLEtBQUE2bUIsVUFBQSxTQUFBNWUsRUFBQWpWLEVBQUF5cUIsR0FDQSxJQUFBdUosS0FDQWhpQixFQUFBOGhCLFVBQUE3ZSxHQUFBZ2Ysa0JBQ0EvYyxHQUFBLGdCQUFBckosR0FDQW1tQixFQUFBcnhCLEtBQUFxUCxFQUFBK2hCLFNBQUE5ZSxHQUFBLElBQUF4VCxFQUFBeXlCLFNBQUFybUIsR0FBQXNtQixXQUFBdG1CLEtBRUFxSixHQUFBLGlCQUNBOGMsRUFBQXp4QixRQUNBeVAsRUFBQTZoQixTQUFBNWUsR0FBQWxELElBQUFpaUIsR0FFQXZKLFFBRVN2YyxLQUFBd04sSUFFVDhYLEVBQUFueUIsVUFBQTJZLFdBQUEsU0FBQTBCLEdBQ0EsSUFBQTFKLEVBQUFoRixLQUNBeUUsRUFBQXpPLFFBQUF0QyxPQUFBMFIsS0FBQXBGLEtBQUE2bUIsVUFBQSxTQUFBNWUsRUFBQWpWLEVBQUF5cUIsR0FDQXpZLEVBQUE4aEIsVUFBQTdlLEdBQUF5SyxNQUFBK0ssS0FDU3ZjLEtBQUEsV0FDVHdOLE9BR0E4WCxFQUFBbnlCLFVBQUEreUIsTUFBQSxTQUFBcG1CLEdBQ0FoQixLQUFBd2tCLElBQUF4akIsRUFDQWhCLEtBQUFxbkIsT0FBQXJuQixLQUFBckQsTUFBQSxZQUFBcUQsS0FBQXdrQixJQUNBL3ZCLEVBQUFzeEIsSUFBQUMsV0FBQWhtQixLQUFBcW5CLFFBQ0E1eUIsRUFBQXN4QixJQUFBdUIsVUFBQXRuQixLQUFBcW5CLFFBR0FiLEVBQUFueUIsVUFBQWt6QixVQUFBLFNBQUFDLEVBQUF0aEIsR0FDQSxJQUFBbEIsRUFBQWhGLEtBQ0FBLEtBQUE2bUIsU0FBQVcsR0FBQSxJQUFBM0IsRUFBQW5oQixjQUNBMUUsS0FBQThtQixVQUFBVSxHQUFBL3lCLEVBQUFnekIsU0FBQWh6QixFQUFBaXpCLFdBQUFqekIsRUFBQTR5QixNQUFBalAsS0FBQXBZLEtBQUFxbkIsTUFBQUcsS0FDQUcsVUFBQSxNQUFBM25CLEtBQUEwbUIsV0FBQSxTQUNBa0IsZ0JBQUEsTUFBQTVuQixLQUFBeW1CLFlBQUEsV0FFQXZnQixFQUFBbEssUUFBQSxTQUFBMUksR0FDQUEsRUFBQStVLE9BQUE1RCxFQUFBek0sV0FBQSxhQUFBMUUsRUFBQStVLFNBQ0FyRCxFQUFBNGhCLFFBQUFZLEdBQUFsMEIsRUFBQXFHLEtBQ0FxTCxFQUFBMmhCLE9BQUFhLEdBQUFsMEIsRUFBQTZLLElBQ0E2RyxFQUFBK2hCLFNBQUFTLElBQUEsNkJBQUE5d0IsUUFBQXBELEVBQUFxRyxPQUVBckcsRUFBQStVLE9BQUE1RCxFQUFBek0sV0FBQSxhQUFBMUUsRUFBQStVLFFBQUE1RCxFQUFBek0sV0FBQSxhQUFBMUUsRUFBQStVLFFBQUEsUUFBQS9VLEVBQUFxRyxPQUNBcUwsRUFBQTZoQixTQUFBVyxHQUFBMWlCLE1BQUEsTUFJQTBoQixFQUFBbnlCLFVBQUFtZSxNQUFBLFNBQUF2SyxFQUFBOGEsRUFBQWxpQixFQUFBNk4sR0FFQSxLQURBcVUsS0FBQXRlLEVBQUEzTCxXQUFBa0gsS0FBQTRtQixRQUFBM2UsR0FBQWpJLEtBQUE2bUIsU0FBQTVlLEdBQUFwRCxLQUVBLE1BQUE0RixNQUFBLDJDQUVBLElBQUF6SyxLQUFBNm1CLFNBQUE1ZSxHQUFBdlIsUUFBQXFzQixJQUNBL2lCLEtBQUE2bUIsU0FBQTVlLEdBQUE5QyxJQUFBNGQsR0FFQSxJQVNBOEUsRUFUQTl6QixFQUFBdVIsS0FBMkJ6RSxJQUFBZ25CLE1BQWdCN25CLEtBQUEybUIsT0FBQTFlLElBQUE4YSxFQUFBOEUsSUFDM0M3bkIsS0FBQThtQixVQUFBN2UsR0FBQTZmLElBQUE5bkIsS0FBQSttQixTQUFBOWUsR0FBQSxJQUFBeFQsRUFBQXl5QixTQUFBbkUsR0FBQWdGLFdBQUFoRixFQUFBaHVCLEtBQUFFLFVBQUFsQixHQUFBLFNBQUFnWSxHQUNBLEdBQUFBLEVBQ0EsTUFBQXRCLE1BQUFzQixHQUdBMkMsRUFBQTNhLE1BS0F5eUIsRUFBQW55QixVQUFBMnpCLE9BQUEsU0FBQS9mLEVBQUE4YSxFQUFBclUsSUFFQSxJQURBMU8sS0FBQTZtQixTQUFBNWUsR0FBQXZSLFFBQUFxc0IsSUFFQS9pQixLQUFBNm1CLFNBQUE1ZSxHQUFBNUMsT0FBQTBkLEdBRUEvaUIsS0FBQThtQixVQUFBN2UsR0FBQWdnQixJQUFBam9CLEtBQUErbUIsU0FBQTllLEdBQUEsSUFBQXhULEVBQUF5eUIsU0FBQW5FLEdBQUFnRixXQUFBaEYsRUFBQSxTQUFBaFgsR0FDQSxHQUFBQSxFQUNBLE1BQUF0QixNQUFBc0IsR0FHQTJDLE9BSUE4WCxFQUFBbnlCLFVBQUE2ekIsS0FBQSxTQUFBamdCLEVBQUE4YSxFQUFBM3RCLElBQ0EsSUFBQTRLLEtBQUE2bUIsU0FBQTVlLEdBQUF2UixRQUFBcXNCLEdBSUEvaUIsS0FBQThtQixVQUFBN2UsR0FBQW5VLElBQUFrTSxLQUFBK21CLFNBQUE5ZSxHQUFBLElBQUF4VCxFQUFBeXlCLFNBQUFuRSxHQUFBZ0YsV0FBQWhGLEVBQUEsU0FBQWhYLEVBQUE0QyxHQUNBLEdBQUE1QyxFQUNBLE1BQUF0QixNQUFBc0IsR0FHQTNXLEVBQUFMLEtBQUFDLE1BQUEyWixNQVJBdlosRUFBQSxPQVlBb3hCLEVBQUFueUIsVUFBQTh6QixVQUFBLFNBQUFsZ0IsRUFBQW1nQixFQUFBMVosRUFBQThKLEVBQUFFLEVBQUEyUCxHQUNBLElBQUFqakIsRUFBQXBGLEtBQUE2bUIsU0FBQTVlLEdBQUE3QyxPQUNBa2pCLEdBQUEsWUFBQTlQLFNBQUFFLEdBQUFoaUIsUUFBQSxhQUNBNnhCLEVBQUFELEdBQUE5UCxFQUFBRSxJQUFBLEVBQUF0VCxFQUFBN1AsT0FBQSxHQUNBb1UsS0FDQTZlLEVBQUFILEdBQUFDLEVBQUE5UCxFQUFBcFQsRUFBQW1qQixFQUFBLElBQ0FFLEVBQUFKLEdBQUFDLEVBQUE1UCxFQUFBdFQsRUFBQW1qQixFQUFBLElBQ0F2b0IsS0FBQThtQixVQUFBN2UsR0FDQXlnQixtQkFDQUMsSUFBQTNvQixLQUFBK21CLFNBQUE5ZSxHQUFBLElBQUF4VCxFQUFBeXlCLFNBQUFzQixHQUFBVCxXQUFBUyxFQUNBSSxJQUFBNW9CLEtBQUErbUIsU0FBQTllLEdBQUEsSUFBQXhULEVBQUF5eUIsU0FBQXVCLEdBQUFWLFdBQUFVLElBRUF2ZSxHQUFBLGdCQUFBckosR0FDQThJLEVBQUFoVSxLQUFBWixLQUFBQyxNQUFBNkwsTUFFQXFKLEdBQUEsaUJBQ0EsSUFBQWhGLEVBQUFxakIsRUFBQSxNQUNBdjFCLEVBQUEsRUFDQTYxQixFQUFBLFdBQ0E3MUIsRUFBQTJXLEVBQUFwVSxPQUNBNnlCLEVBQUF6ZSxFQUFBM1csR0FBQWtTLEVBQUEsV0FDQUEsTUFDQWxTLEVBQ0EsT0FBQTBCLEVBQUFrQixRQUFBaXpCLFNBSUFuYSxLQUdBbWEsT0FHQXJDLEVBQUFueUIsVUFBQXkwQixLQUFBLFNBQUE3Z0IsRUFBQTdTLEdBQ0EsSUFBQTRQLEVBQUFoRixLQUNBeUUsRUFBQXpPLFFBQUFnSyxLQUFBNm1CLFNBQUE1ZSxHQUFBN0MsT0FBQSxTQUFBMmQsRUFBQS92QixFQUFBeXFCLEdBQ0F6WSxFQUFBOGhCLFVBQUE3ZSxHQUFBZ2dCLElBQUFsRixFQUFBdEYsS0FDU3ZjLEtBQUEsV0FDVCxJQUFBZ0UsRUFBQSxJQUFBMmdCLEVBQUFuaEIsY0FDQVEsRUFBQUosS0FBQUUsRUFBQTZoQixTQUFBNWUsR0FBQW5ELEtBQ0FFLEVBQUE2aEIsU0FBQTVlLEdBQUEvQyxFQUNBOVAsT0FHQW94QixFQUFBbnlCLFVBQUEwMEIsU0FBQSxTQUFBOWdCLEVBQUErZ0IsRUFBQXRhLEdBQ0FBLEVBQUFzYSxFQUFBaHBCLEtBQUE2bUIsU0FBQTVlLEdBQUE3QyxPQUFBN1AsT0FBQXlLLEtBQUE2bUIsU0FBQTVlLEdBQUE3QyxTQUVBb2hCLEVBQUFueUIsVUFBQTQwQixRQUFBLFNBQUF2YSxHQUNBLElBQUExSixFQUFBaEYsS0FDQXlFLEVBQUF6TyxRQUFBdEMsT0FBQTBSLEtBQUFwRixLQUFBNm1CLFVBQUEsU0FBQTVlLEVBQUFqVixFQUFBeXFCLEdBQ0F6WSxFQUFBOGpCLEtBQUE3Z0IsRUFBQSxXQUNBakQsRUFBQThoQixVQUFBN2UsR0FBQXlLLE1BQUErSyxPQUVTdmMsS0FBQSxXQUNUNGtCLEVBQUE5Z0IsRUFBQXFpQixPQUNBM1ksT0FHQThYLEVBcktBLEdBdUtBMXpCLEVBQUEwekIsa0RDek1BLElBQUFsaEIsRUFBQXRGLFdBQUFzRixVQUFBNVIsT0FBQTZSLFFBQUEsU0FBQTNMLEdBQ0EsUUFBQXBGLEVBQUF4QixFQUFBLEVBQUFpQixFQUFBZ00sVUFBQTFLLE9BQTRDdkMsRUFBQWlCLEVBQU9qQixJQUVuRCxRQUFBdUIsS0FEQUMsRUFBQXlMLFVBQUFqTixHQUNBVSxPQUFBVyxVQUFBQyxlQUFBbkIsS0FBQXFCLEVBQUFELEtBQ0FxRixFQUFBckYsR0FBQUMsRUFBQUQsSUFFQSxPQUFBcUYsR0FFQWxHLE9BQUFDLGVBQUFiLEVBQUEsY0FBOENrQixPQUFBLElBQzlDLElBQUFVLEVBQUE5QixFQUFBLElBQ0E2UixFQUFBN1IsRUFBQSxHQUNBaXpCLEVBQUFqekIsRUFBQSxJQVNBczJCLEVBQUEsV0FDQSxTQUFBQSxFQUFBQyxHQUNBbnBCLEtBQUEybUIsVUFDQTNtQixLQUFBNG1CLFdBQ0E1bUIsS0FBQTZtQixZQUNBN21CLEtBQUFvcEIsTUFBQSxLQUFBRCxHQUFBLE9Bd0xBLE9BdExBRCxFQUFBNzBCLFVBQUEreUIsTUFBQSxTQUFBcG1CLEdBQ0FoQixLQUFBd2tCLElBQUF4akIsR0FFQWtvQixFQUFBNzBCLFVBQUE2VCxRQUFBLFNBQUF3RyxHQUNBLElBQUExSixFQUFBaEYsS0FDQUEsS0FBQXFwQixJQUFBejBCLE9BQUEwMEIsYUFBQXRwQixLQUFBd2tCLElBQUEsTUFBQXhrQixLQUFBd2tCLElBQUF4a0IsS0FBQW9wQixPQUFBM2tCLEVBQUE5TixVQUFBLE9BQ0E4TixFQUFBek8sUUFBQXRDLE9BQUEwUixLQUFBcEYsS0FBQTJtQixRQUFBLFNBQUExZSxFQUFBalYsRUFBQXUyQixHQUNBdmtCLEVBQUF3a0IsTUFBQSxnQ0FBQXZoQixFQUFBLHlEQUNBakQsRUFBQXdrQixNQUFBLG9CQUFBdmhCLEtBQUEsU0FBQXZTLEdBRUEsSUFEQSxJQUFBd1AsS0FDQXVrQixFQUFBLEVBQXFDQSxFQUFBL3pCLEVBQUFpVSxLQUFBcFUsT0FBMEJrMEIsSUFDL0R2a0IsRUFBQXZQLEtBQUFELEVBQUFpVSxLQUFBeFQsS0FBQXN6QixHQUFBem9CLElBR0FrRSxJQUFBd2tCLE9BQ0Exa0IsRUFBQTZoQixTQUFBNWUsR0FBQWxELElBQUFHLEdBQ0Fxa0IsVUFHU3JvQixLQUFBd04sSUFXVHdhLEVBQUE3MEIsVUFBQXMxQixVQUFBLFNBQUExaEIsR0FDQSxRQUFBdlUsT0FBQTBSLEtBQUFwRixLQUFBNG1CLFNBQUFsd0IsUUFBQXVSLEdBQ0EsTUFBQXdDLE1BQUEsWUFBQXhDLEVBQUEsV0FHQSxPQUFBQSxHQUdBaWhCLEVBQUE3MEIsVUFBQWt6QixVQUFBLFNBQUFDLEVBQUF0aEIsR0FDQSxJQUFBbEIsRUFBQWhGLEtBQ0FBLEtBQUE2bUIsU0FBQVcsR0FBQSxJQUFBM0IsRUFBQW5oQixjQUNBd0IsRUFBQWxLLFFBQUEsU0FBQTFJLEdBQ0FBLEVBQUErVSxPQUFBL1UsRUFBQStVLE1BQUEzUixRQUFBLFdBQ0FzTyxFQUFBNGhCLFFBQUFZLEdBQUFsMEIsRUFBQXFHLEtBQ0FxTCxFQUFBMmhCLE9BQUFhLEdBQUFsMEIsRUFBQTZLLEtBRUE3SyxFQUFBK1UsT0FBQS9VLEVBQUErVSxNQUFBM1IsUUFBQSxVQUFBcEQsRUFBQStVLE1BQUEzUixRQUFBLGtCQUFBcEQsRUFBQXFHLE9BQ0FxTCxFQUFBNmhCLFNBQUFXLEdBQUExaUIsTUFBQSxNQUlBb2tCLEVBQUE3MEIsVUFBQW0xQixLQUFBLFNBQUFJLEVBQUFDLEVBQUExd0IsRUFBQXVWLEdBQ0EsSUFBQXhCLEVBQUEsU0FBQTRjLEdBQ0FBLEVBQUFDLFdBQUFGLEVBQUExd0IsRUFBQSxTQUFBNndCLEVBQUF0MEIsR0FDQWdaLEVBQUFoWixJQUNhLFNBQUFvMEIsRUFBQS9kLEdBRWIsT0FEQXFJLFFBQUFqUixNQUFBMG1CLEVBQUExd0IsRUFBQTRTLElBQ0EsS0FHQTZkLEVBQ0E1cEIsS0FBQXFwQixJQUFBMWIsWUFBQVQsR0FHQWxOLEtBQUFxcEIsSUFBQVksZ0JBQUEvYyxJQUdBZ2MsRUFBQTcwQixVQUFBbWUsTUFBQSxTQUFBdkssRUFBQThhLEVBQUFsaUIsRUFBQTZOLEdBRUEsS0FEQXFVLEtBQUF0ZSxFQUFBM0wsV0FBQWtILEtBQUE0bUIsUUFBQTNlLEdBQUFqSSxLQUFBNm1CLFNBQUE1ZSxHQUFBcEQsS0FFQSxVQUFBNEYsTUFBQSwwQ0FFQSxJQWlCQW9kLEVBQUFxQyxFQWpCQUMsR0FBQSxFQUtBLElBSkEsSUFBQW5xQixLQUFBNm1CLFNBQUE1ZSxHQUFBdlIsUUFBQXFzQixLQUNBb0gsR0FBQSxFQUNBbnFCLEtBQUE2bUIsU0FBQTVlLEdBQUE5QyxJQUFBNGQsSUFFQW9ILEVBQUEsQ0FDQSxJQUFBQyxFQUFBOWtCLEtBQWlDekUsSUFBQWduQixNQUFnQjduQixLQUFBMm1CLE9BQUExZSxJQUFBOGEsRUFBQThFLElBQ2pEN25CLEtBQUF3cEIsTUFBQSxpQkFBQXhwQixLQUFBMnBCLFVBQUExaEIsR0FBQSw2QkFBQThhLEVBQUFodUIsS0FBQUUsVUFBQW0xQixJQUFBLFNBQUExMEIsR0FDQWdaLEVBQUEwYixTQUdBLENBQ0EsSUFBQUMsRUFBQS9rQixLQUFpQ3pFLElBQUFxcEIsTUFBZ0JscUIsS0FBQTJtQixPQUFBMWUsSUFBQThhLEVBQUFtSCxJQUNqRGxxQixLQUFBd3BCLE1BQUEsWUFBQXhwQixLQUFBMnBCLFVBQUExaEIsR0FBQSw4QkFBQWxULEtBQUFFLFVBQUFvMUIsR0FBQXRILEdBQUEsV0FDQXJVLEVBQUEyYixPQUtBbkIsRUFBQTcwQixVQUFBMnpCLE9BQUEsU0FBQS9mLEVBQUE4YSxFQUFBclUsSUFFQSxJQURBMU8sS0FBQTZtQixTQUFBNWUsR0FBQXZSLFFBQUFxc0IsSUFFQS9pQixLQUFBNm1CLFNBQUE1ZSxHQUFBNUMsT0FBQTBkLEdBRUEvaUIsS0FBQXdwQixNQUFBLGlCQUFBeHBCLEtBQUEycEIsVUFBQTFoQixHQUFBLGlCQUFBOGEsR0FBQSxXQUNBclUsT0FHQXdhLEVBQUE3MEIsVUFBQTZ6QixLQUFBLFNBQUFqZ0IsRUFBQThhLEVBQUEzdEIsR0FDQTRLLEtBQUF3cEIsTUFBQSxzQkFBQXhwQixLQUFBMnBCLFVBQUExaEIsR0FBQSxpQkFBQThhLEdBQUEsU0FBQXJ0QixHQUNBQSxFQUFBaVUsS0FBQXBVLE9BQ0FILEVBQUFMLEtBQUFDLE1BQUFVLEVBQUFpVSxLQUFBeFQsS0FBQSxHQUFBMEssT0FHQXpMLE9BQUFvRSxNQUlBMHZCLEVBQUE3MEIsVUFBQWkyQixVQUFBLFNBQUFyaUIsRUFBQStlLEVBQUE1eEIsR0FDQTRLLEtBQUF3cEIsTUFBQSxzQkFBQXhwQixLQUFBMnBCLFVBQUExaEIsR0FBQSxpQkFBQStlLEVBQUE5d0IsSUFBQSxTQUFBM0IsR0FBZ0gsWUFBYzZqQixLQUFBLHNCQUFBNE8sRUFBQSxTQUFBdHhCLEdBRzlILElBRkEsSUFBQTFDLEVBQUEwQyxFQUFBaVUsS0FBQXBVLE9BQ0FvVSxLQUNBM1csS0FDQTJXLEVBQUExTSxRQUFBbEksS0FBQUMsTUFBQVUsRUFBQWlVLEtBQUF4VCxLQUFBbkQsR0FBQTZOLE9BRUF6TCxFQUFBdVUsTUFHQXVmLEVBQUE3MEIsVUFBQTh6QixVQUFBLFNBQUFsZ0IsRUFBQW1nQixFQUFBMVosRUFBQThKLEVBQUFFLEVBQUEyUCxHQUNBLElBQUFyakIsRUFBQWhGLEtBQ0FvRixFQUFBcEYsS0FBQTZtQixTQUFBNWUsR0FBQTdDLE9BQ0FrakIsR0FBQSxZQUFBOVAsU0FBQUUsR0FBQWhpQixRQUFBLGFBQ0E2eEIsRUFBQUQsR0FBQTlQLEVBQUFFLE1BQ0EsR0FBQXRULEVBQUE3UCxPQUFBLENBSUE4eUIsR0FBQUMsSUFDQUMsSUFBQXJ5QixJQUFBLFNBQUFuQyxHQUE4QyxPQUFBaVIsRUFBQTZoQixTQUFBNWUsR0FBQWhELFlBQUFsUixNQUU5QyxJQUFBbVIsRUFBQXFqQixFQUFBLE1BQ0E3TyxLQUNBNlEsRUFBQWhDLEVBQUEsR0FDQWlDLEVBQUEsb0JBQUF4cUIsS0FBQTJwQixVQUFBMWhCLEdBSUEsR0FBQXNnQixFQUFBaHpCLE9BQUEsQ0FFQSxJQURBNlAsRUFBQW1sQixHQUNBQSxHQUFBaEMsRUFBQSxJQUNBN08sRUFBQS9qQixLQUFBeVAsRUFBQW1sQixJQUNBQSxJQUVBQyxHQUFBLGlCQUFBOVEsRUFBQXhqQixJQUFBLFNBQUFnWixHQUFrRSxZQUFja0osS0FBQSxVQUVoRm9TLEdBQUEsZUFDQXhxQixLQUFBd3BCLE1BQUEsRUFBQWdCLEVBQUE5USxFQUFBLFNBQUFoa0IsR0FDQSxJQUFBMUMsRUFBQSxFQUNBNjFCLEVBQUEsV0FDQW56QixFQUFBaVUsS0FBQXBVLE9BQUF2QyxFQUNBbzFCLEVBQUFyekIsS0FBQUMsTUFBQVUsRUFBQWlVLEtBQUF4VCxLQUFBbkQsR0FBQTZOLE1BQUFxRSxFQUFBLFdBQ0FBLE1BQ0FsUyxFQUNBLE9BQUEwQixFQUFBa0IsUUFBQWl6QixTQUlBbmEsS0FHQW1hLFdBcENBbmEsS0F1Q0F3YSxFQUFBNzBCLFVBQUF5MEIsS0FBQSxTQUFBN2dCLEVBQUE3UyxHQUNBLElBQUE4UCxFQUFBLElBQUEyZ0IsRUFBQW5oQixjQUNBUSxFQUFBSixLQUFBOUUsS0FBQTZtQixTQUFBNWUsR0FBQW5ELEtBQ0E5RSxLQUFBNm1CLFNBQUE1ZSxHQUFBL0MsRUFDQWxGLEtBQUF3cEIsTUFBQSxpQkFBQXhwQixLQUFBMnBCLFVBQUExaEIsTUFBQSxTQUFBMEIsR0FDQXZVLE9BR0E4ekIsRUFBQTcwQixVQUFBMDBCLFNBQUEsU0FBQTlnQixFQUFBK2dCLEVBQUF0YSxHQUNBQSxFQUFBc2EsRUFBQWhwQixLQUFBNm1CLFNBQUE1ZSxHQUFBN0MsT0FBQTdQLE9BQUF5SyxLQUFBNm1CLFNBQUE1ZSxHQUFBN0MsU0FFQThqQixFQUFBNzBCLFVBQUE0MEIsUUFBQSxTQUFBdmEsR0FDQSxJQUFBMUosRUFBQWhGLEtBQ0F5RSxFQUFBek8sUUFBQXRDLE9BQUEwUixLQUFBcEYsS0FBQTZtQixVQUFBLFNBQUE1ZSxFQUFBalYsRUFBQXlxQixHQUNBelksRUFBQThqQixLQUFBN2dCLEVBQUF3VixLQUNTdmMsS0FBQXdOLElBRVR3YSxFQTdMQSxHQStMQXAyQixFQUFBbzJCLDZEQ25OQSxJQUFBNWpCLFNBQUF0RixXQUFBc0YsVUFBQTVSLE9BQUE2UixRQUFBLFNBQUEzTCxHQUNBLFFBQUFwRixFQUFBeEIsRUFBQSxFQUFBaUIsRUFBQWdNLFVBQUExSyxPQUE0Q3ZDLEVBQUFpQixFQUFPakIsSUFFbkQsUUFBQXVCLEtBREFDLEVBQUF5TCxVQUFBak4sR0FDQVUsT0FBQVcsVUFBQUMsZUFBQW5CLEtBQUFxQixFQUFBRCxLQUNBcUYsRUFBQXJGLEdBQUFDLEVBQUFELElBRUEsT0FBQXFGLEdBRUFsRyxPQUFBQyxlQUFBYixRQUFBLGNBQThDa0IsT0FBQSxJQUM5QyxJQUFBVSxTQUFBOUIsb0JBQUEsSUFDQTZSLFlBQUE3UixvQkFBQSxHQUNBaXpCLFNBQUFqekIsb0JBQUEsSUFDQTYzQixhQUFBLFNBQUExckIsT0FBQTJyQixTQUNBLElBQUFDLFNBQUExWCxLQUFBLGFBQUF2ZixPQUFBMFIsS0FBQXNsQixTQUFBdFMsS0FBQSxZQUE2RXJaLE9BQUEsTUFDN0UsT0FBQTRyQixTQUFBOXRCLE1BQUE2dEIsUUFBQWgzQixPQUFBMFIsS0FBQXNsQixTQUFBeDBCLElBQUEsU0FBQTdDLEdBQTBFLE9BQUFxM0IsUUFBQXIzQixPQVcxRXUzQixnQkFBQSxXQUNBLFNBQUFBLEVBQUFDLEdBQ0E3cUIsS0FBQThxQixRQUFBLG90REFDQTlxQixLQUFBMm1CLFVBQ0EzbUIsS0FBQTRtQixXQUNBNW1CLEtBQUE2bUIsWUFDQTdtQixLQUFBK3FCLGVBQ0EvcUIsS0FBQWdyQixXQUFBSCxFQXVNQSxPQXJNQUQsRUFBQXYyQixVQUFBNlQsUUFBQSxTQUFBd0csR0FDQSxJQUFBMUosRUFBQWhGLEtBQ0EsR0FBQUEsS0FBQWdyQixXQUdBaHJCLEtBQUFpckIsR0FBQSxJQUFBQyxPQUFBdDJCLE9BQUF1MkIsSUFBQUMsZ0JBQUEsSUFBQUMsTUFBQXJyQixLQUFBOHFCLFlBQ0E5cUIsS0FBQWlyQixHQUFBeHFCLGlCQUFBLG1CQUFBekMsR0FDQWdILEVBQUFzbUIsaUJBQUF0dEIsRUFBQTZDLEtBQUEwcUIsR0FBQXZ0QixFQUFBNkMsS0FBQTFILFlBR0EsQ0FHQSxJQUFBcXlCLEtBRUFmLGFBQUF6cUIsS0FBQThxQixTQUNBdHFCLFlBQUEsU0FBQWlyQixHQUNBem1CLEVBQUFzbUIsaUJBQUFHLEVBQUFGLEdBQUFFLEVBQUF0eUIsT0FFQXNILGlCQUFBLFNBQUE5RyxFQUFBK3hCLEdBQ0FGLEVBQUE3MUIsS0FBQSsxQixNQUlBMXJCLEtBQUFpckIsSUFDQXhxQixpQkFBQSxLQUNBRCxZQUFBLFNBQUEyVCxFQUFBd1gsR0FDQUgsRUFBQXh2QixRQUFBLFNBQUEvSSxHQUNBQSxHQUEyQjROLEtBQUFzVCxRQU0zQm5VLEtBQUErcUIsWUFBQSxhQUFBNXhCLEdBQ0F6RixPQUFBMFIsS0FBQWpNLEdBQUE2QyxRQUFBLFNBQUFpTSxHQUNBakQsRUFBQTZoQixTQUFBNWUsR0FBQWxELElBQUE1TCxFQUFBOE8sTUFFQXlHLEtBRUExTyxLQUFBaXJCLEdBQUF6cUIsYUFDQStxQixHQUFBLFFBQUFweUIsTUFDQXl5QixPQUFBNXJCLEtBQUEybUIsT0FDQTNsQixHQUFBaEIsS0FBQXdrQixRQUlBb0csRUFBQXYyQixVQUFBK3lCLE1BQUEsU0FBQXBtQixHQUNBaEIsS0FBQXdrQixJQUFBeGpCLEdBRUE0cEIsRUFBQXYyQixVQUFBaTNCLGlCQUFBLFNBQUF0ZixFQUFBN1MsR0FDQTZHLEtBQUErcUIsWUFBQS9lLEtBQ0FoTSxLQUFBK3FCLFlBQUEvZSxHQUFBN1MsVUFDQTZHLEtBQUErcUIsWUFBQS9lLEtBR0E0ZSxFQUFBdjJCLFVBQUFrekIsVUFBQSxTQUFBQyxFQUFBdGhCLEdBQ0EsSUFBQWxCLEVBQUFoRixLQUNBQSxLQUFBNm1CLFNBQUFXLEdBQUEsSUFBQTNCLFNBQUFuaEIsY0FDQXdCLEVBQUFsSyxRQUFBLFNBQUExSSxHQUNBQSxFQUFBK1UsT0FBQTVELFlBQUF6TSxXQUFBLGFBQUExRSxFQUFBK1UsU0FDQXJELEVBQUE0aEIsUUFBQVksR0FBQWwwQixFQUFBcUcsS0FDQXFMLEVBQUEyaEIsT0FBQWEsR0FBQWwwQixFQUFBNkssSUFDQTdLLEVBQUErVSxPQUFBNUQsWUFBQXpNLFdBQUEsYUFBQTFFLEVBQUErVSxTQUFBLFFBQUEvVSxFQUFBcUcsTUFBQSxXQUFBckcsRUFBQXFHLFFBQ0FxTCxFQUFBNmhCLFNBQUFXLEdBQUExaUIsTUFBQSxPQUtBOGxCLEVBQUF2MkIsVUFBQW1lLE1BQUEsU0FBQXZLLEVBQUE4YSxFQUFBbGlCLEVBQUE2TixHQUVBLEtBREFxVSxLQUFBdGUsWUFBQTNMLFdBQUFrSCxLQUFBNG1CLFFBQUEzZSxHQUFBakksS0FBQTZtQixTQUFBNWUsR0FBQXBELEtBRUEsVUFBQTRGLE1BQUEsMkNBRUEsSUFBQXpLLEtBQUE2bUIsU0FBQTVlLEdBQUF2UixRQUFBcXNCLElBQ0EvaUIsS0FBQTZtQixTQUFBNWUsR0FBQTlDLElBQUE0ZCxHQUVBLElBYUE4RSxFQWJBamEsRUFBQW5KLFlBQUFyTSxPQUNBckUsRUFBQXVSLFlBQTJCekUsSUFBQWduQixNQUFnQjduQixLQUFBMm1CLE9BQUExZSxJQUFBOGEsRUFBQThFLElBQzNDN25CLEtBQUErcUIsWUFBQSxTQUFBbmQsR0FBQSxTQUFBelUsR0FDQXVWLEVBQUEzYSxJQUVBaU0sS0FBQWlyQixHQUFBenFCLGFBQ0ErcUIsR0FBQSxRQUNBcHlCLE1BQ0E4TyxRQUNBakgsR0FBQTRNLEVBQ0FlLElBQUE1YSxNQUtBNjJCLEVBQUF2MkIsVUFBQTJ6QixPQUFBLFNBQUEvZixFQUFBOGEsRUFBQXJVLElBRUEsSUFEQTFPLEtBQUE2bUIsU0FBQTVlLEdBQUF2UixRQUFBcXNCLElBRUEvaUIsS0FBQTZtQixTQUFBNWUsR0FBQTVDLE9BQUEwZCxHQUVBLElBQUFuVixFQUFBbkosWUFBQXJNLE9BQ0E0SCxLQUFBK3FCLFlBQUEsVUFBQW5kLEdBQUEsU0FBQXpVLEdBQ0F1VixLQUVBMU8sS0FBQWlyQixHQUFBenFCLGFBQ0ErcUIsR0FBQSxTQUFBcHlCLE1BQ0E4TyxRQUNBakgsR0FBQTRNLEVBQ0FtVixTQUlBNkgsRUFBQXYyQixVQUFBNnpCLEtBQUEsU0FBQWpnQixFQUFBOGEsRUFBQTN0QixHQUNBLElBQUF3WSxFQUFBbkosWUFBQXJNLFFBQ0EsSUFBQTRILEtBQUE2bUIsU0FBQTVlLEdBQUF2UixRQUFBcXNCLElBSUEvaUIsS0FBQStxQixZQUFBLFFBQUFuZCxHQUFBLFNBQUF6VSxHQUNBL0QsRUFBQStELElBRUE2RyxLQUFBaXJCLEdBQUF6cUIsYUFDQStxQixHQUFBLE9BQUFweUIsTUFDQThPLFFBQ0FqSCxHQUFBNE0sRUFDQW1WLFNBVkEzdEIsRUFBQSxPQWNBdzFCLEVBQUF2MkIsVUFBQTh6QixVQUFBLFNBQUFsZ0IsRUFBQW1nQixFQUFBMVosRUFBQThKLEVBQUFFLEVBQUEyUCxHQUNBLElBQUFyakIsRUFBQWhGLEtBQ0FvRixFQUFBcEYsS0FBQTZtQixTQUFBNWUsR0FBQTdDLE9BQ0FrakIsR0FBQSxZQUFBOVAsU0FBQUUsR0FBQWhpQixRQUFBLGFBQ0E2eEIsRUFBQUQsR0FBQTlQLEVBQUFFLElBQUEsRUFBQXRULEVBQUE3UCxPQUFBLEdBQ0EsR0FBQTZQLEVBQUE3UCxPQUFBLENBSUEsSUFBQXFZLEVBQUFuSixZQUFBck0sT0FDQXVSLEtBQ0F6RSxFQUFBcWpCLEVBQUEsR0FDQXYxQixFQUFBLEVBQ0FnTixLQUFBK3FCLFlBQUEsYUFBQW5kLEVBQUEsa0JBQUF6VSxVQUNBNkwsRUFBQStsQixZQUFBLGFBQUFuZCxHQUNBakUsRUFBQXhRLEVBQ0EsSUFBQTB2QixFQUFBLFdBQ0EzakIsR0FBQXFqQixFQUFBLEdBQ0FILEVBQUF6ZSxFQUFBM1csR0FBQWtTLEVBQUEsV0FDQUEsTUFDQWxTLEVBQ0EsT0FBQTBCLFNBQUFrQixRQUFBaXpCLFNBSUFuYSxLQUdBbWEsS0FTQTdvQixLQUFBaXJCLEdBQUF6cUIsYUFDQStxQixHQUFBLFlBQ0FweUIsTUFDQThPLFFBQ0FqSCxHQUFBNE0sRUFDQStWLE1BQUEwRSxHQUFBQyxFQUFBQyxJQUFBcnlCLElBQUEsU0FBQW5DLEdBQWlGLE9BQUFxUixFQUFBclIsYUFwQ2pGMmEsS0F3Q0FrYyxFQUFBdjJCLFVBQUF5MEIsS0FBQSxTQUFBN2dCLEVBQUE3UyxHQUNBLElBQUE4UCxFQUFBLElBQUEyZ0IsU0FBQW5oQixjQUNBUSxFQUFBSixLQUFBOUUsS0FBQTZtQixTQUFBNWUsR0FBQW5ELEtBQ0E5RSxLQUFBNm1CLFNBQUE1ZSxHQUFBL0MsRUFDQSxJQUFBMEksRUFBQW5KLFlBQUFyTSxPQUNBNEgsS0FBQStxQixZQUFBLFVBQUFuZCxHQUFBLFNBQUF6VSxHQUNBL0QsS0FFQTRLLEtBQUFpckIsR0FBQXpxQixhQUNBK3FCLEdBQUEsU0FBQXB5QixNQUNBOE8sUUFDQWpILEdBQUE0TSxFQUNBbVYsR0FBQSxjQUlBNkgsRUFBQXYyQixVQUFBMDBCLFNBQUEsU0FBQTlnQixFQUFBK2dCLEVBQUF0YSxHQUNBQSxFQUFBc2EsRUFBQWhwQixLQUFBNm1CLFNBQUE1ZSxHQUFBN0MsT0FBQTdQLE9BQUF5SyxLQUFBNm1CLFNBQUE1ZSxHQUFBN0MsU0FFQXdsQixFQUFBdjJCLFVBQUE0MEIsUUFBQSxTQUFBdmEsR0FDQSxJQUFBMUosRUFBQWhGLEtBQ0F5RSxZQUFBek8sUUFBQXRDLE9BQUEwUixLQUFBcEYsS0FBQTZtQixVQUFBLFNBQUE1ZSxFQUFBalYsRUFBQXlxQixHQUNBelksRUFBQThqQixLQUFBN2dCLEVBQUF3VixLQUNTdmMsS0FBQXdOLElBRVRrYyxFQTlNQSxHQWdOQTkzQixRQUFBODNCLGlEQ3pPQSxJQUFBdGxCLEVBQUF0RixXQUFBc0YsVUFBQTVSLE9BQUE2UixRQUFBLFNBQUEzTCxHQUNBLFFBQUFwRixFQUFBeEIsRUFBQSxFQUFBaUIsRUFBQWdNLFVBQUExSyxPQUE0Q3ZDLEVBQUFpQixFQUFPakIsSUFFbkQsUUFBQXVCLEtBREFDLEVBQUF5TCxVQUFBak4sR0FDQVUsT0FBQVcsVUFBQUMsZUFBQW5CLEtBQUFxQixFQUFBRCxLQUNBcUYsRUFBQXJGLEdBQUFDLEVBQUFELElBRUEsT0FBQXFGLEdBRUFsRyxPQUFBQyxlQUFBYixFQUFBLGNBQThDa0IsT0FBQSxJQUM5QyxJQUFBVSxFQUFBOUIsRUFBQSxJQUNBNlIsRUFBQTdSLEVBQUEsR0FDQWl6QixFQUFBanpCLEVBQUEsSUFTQWk1QixFQUFBLFdBQ0EsU0FBQUEsRUFBQUMsR0FDQTlyQixLQUFBMm1CLFVBQ0EzbUIsS0FBQTRtQixXQUNBNW1CLEtBQUErckIsU0FDQS9yQixLQUFBNm1CLFlBQ0E3bUIsS0FBQWdzQixJQUFBRixJQUFBLEVBd0lBLE9BdElBRCxFQUFBeDNCLFVBQUE2VCxRQUFBLFNBQUF3RyxHQUNBQSxLQUVBbWQsRUFBQXgzQixVQUFBK3lCLE1BQUEsU0FBQXBtQixHQUNBaEIsS0FBQXdrQixJQUFBeGpCLEdBRUE2cUIsRUFBQXgzQixVQUFBa3pCLFVBQUEsU0FBQUMsRUFBQXRoQixHQUNBLElBQUFsQixFQUFBaEYsS0FDQUEsS0FBQStyQixNQUFBdkUsTUFDQXhuQixLQUFBNm1CLFNBQUFXLEdBQUEsSUFBQTNCLEVBQUFuaEIsY0FDQXdCLEVBQUFsSyxRQUFBLFNBQUExSSxHQVFBLEdBUEFBLEVBQUErVSxPQUFBNUQsRUFBQXpNLFdBQUEsYUFBQTFFLEVBQUErVSxTQUNBckQsRUFBQTRoQixRQUFBWSxHQUFBbDBCLEVBQUFxRyxLQUNBcUwsRUFBQTJoQixPQUFBYSxHQUFBbDBCLEVBQUE2SyxLQUVBN0ssRUFBQStVLE9BQUE1RCxFQUFBek0sV0FBQSxhQUFBMUUsRUFBQStVLFFBQUE1RCxFQUFBek0sV0FBQSxhQUFBMUUsRUFBQStVLFFBQUEsUUFBQS9VLEVBQUFxRyxPQUNBcUwsRUFBQTZoQixTQUFBVyxHQUFBMWlCLE1BQUEsR0FFQUUsRUFBQWduQixJQUFBLENBQ0EsSUFBQXJwQixFQUFBc3BCLGFBQUFDLFFBQUFsbkIsRUFBQXdmLElBQUEsSUFBQWdELEVBQUEsUUFDQTdrQixHQUNBcUMsRUFBQTZoQixTQUFBVyxHQUFBemlCLElBQUFoUSxLQUFBQyxNQUFBMk4sUUFLQWtwQixFQUFBeDNCLFVBQUFtZSxNQUFBLFNBQUF2SyxFQUFBOGEsRUFBQWxpQixFQUFBNk4sR0FFQSxLQURBcVUsS0FBQXRlLEVBQUEzTCxXQUFBa0gsS0FBQTRtQixRQUFBM2UsR0FBQWpJLEtBQUE2bUIsU0FBQTVlLEdBQUFwRCxLQUVBLFVBQUE0RixNQUFBLDBDQVFBLElBTkEsSUFBQXpLLEtBQUE2bUIsU0FBQTVlLEdBQUF2UixRQUFBcXNCLEtBQ0EvaUIsS0FBQTZtQixTQUFBNWUsR0FBQTlDLElBQUE0ZCxHQUNBL2lCLEtBQUFnc0IsS0FDQUMsYUFBQUUsUUFBQW5zQixLQUFBd2tCLElBQUEsSUFBQXZjLEVBQUEsT0FBQWxULEtBQUFFLFVBQUErSyxLQUFBNm1CLFNBQUE1ZSxHQUFBN0MsVUFHQXBGLEtBQUFnc0IsSUFBQSxDQUNBLElBQUFqNEIsRUFBQXVSLEtBQStCekUsSUFBQWduQixNQUFnQjduQixLQUFBMm1CLE9BQUExZSxJQUFBOGEsRUFBQThFLElBQy9Db0UsYUFBQUUsUUFBQW5zQixLQUFBd2tCLElBQUEsSUFBQXZjLEVBQUEsS0FBQThhLEVBQUFodUIsS0FBQUUsVUFBQWxCLElBQ0EyYSxFQUFBM2EsT0FFQSxDQUNBQSxFQUFBdVIsS0FBK0J6RSxJQUFBcXBCLE1BQWdCbHFCLEtBQUEybUIsT0FBQTFlLElBQUE4YSxFQUFBbUgsSUFDL0NscUIsS0FBQStyQixNQUFBOWpCLEdBQUE4YSxHQUFBdGUsRUFBQTNJLFdBQUEvSCxHQUNBMmEsRUFBQTNhLEdBRUEsSUFBQTh6QixFQUFBcUMsR0FFQTJCLEVBQUF4M0IsVUFBQTJ6QixPQUFBLFNBQUEvZixFQUFBOGEsRUFBQXJVLElBRUEsSUFEQTFPLEtBQUE2bUIsU0FBQTVlLEdBQUF2UixRQUFBcXNCLEtBRUEvaUIsS0FBQTZtQixTQUFBNWUsR0FBQTVDLE9BQUEwZCxHQUNBL2lCLEtBQUFnc0IsS0FDQUMsYUFBQUUsUUFBQW5zQixLQUFBd2tCLElBQUEsSUFBQXZjLEVBQUEsT0FBQWxULEtBQUFFLFVBQUErSyxLQUFBNm1CLFNBQUE1ZSxHQUFBN0MsVUFHQXBGLEtBQUFnc0IsSUFDQUMsYUFBQUcsV0FBQXBzQixLQUFBd2tCLElBQUEsSUFBQXZjLEVBQUEsS0FBQThhLFVBR0EvaUIsS0FBQStyQixNQUFBOWpCLEdBQUE4YSxHQUVBclUsS0FFQW1kLEVBQUF4M0IsVUFBQTZ6QixLQUFBLFNBQUFqZ0IsRUFBQThhLEVBQUEzdEIsR0FDQSxHQUFBNEssS0FBQWdzQixJQUFBLENBQ0EsSUFBQWo0QixFQUFBazRCLGFBQUFDLFFBQUFsc0IsS0FBQXdrQixJQUFBLElBQUF2YyxFQUFBLEtBQUE4YSxHQUNBM3RCLEVBQUFyQixFQUFBZ0IsS0FBQUMsTUFBQWpCLFFBQUF5RixRQUdBcEUsRUFBQTRLLEtBQUErckIsTUFBQTlqQixHQUFBOGEsS0FHQThJLEVBQUF4M0IsVUFBQTh6QixVQUFBLFNBQUFsZ0IsRUFBQW1nQixFQUFBMVosRUFBQThKLEVBQUFFLEVBQUEyUCxHQUNBLElBQUFyakIsRUFBQWhGLEtBQ0FvRixFQUFBcEYsS0FBQTZtQixTQUFBNWUsR0FBQTdDLE9BQ0FrakIsR0FBQSxZQUFBOVAsU0FBQUUsR0FBQWhpQixRQUFBLGFBQ0E2eEIsRUFBQUQsR0FBQTlQLEVBQUFFLElBQUEsRUFBQXRULEVBQUE3UCxPQUFBLEdBQ0EsR0FBQTZQLEVBQUE3UCxPQUFBLENBSUE4eUIsR0FBQUMsSUFDQUMsSUFBQXJ5QixJQUFBLFNBQUFuQyxHQUE4QyxPQUFBaVIsRUFBQTZoQixTQUFBNWUsR0FBQWhELFlBQUFsUixNQUU5QyxJQUFBbVIsRUFBQXFqQixFQUFBLEdBQ0F2MUIsRUFBQSxFQUNBZ3dCLEVBQUEsV0FDQTlkLE1BQ0FsUyxFQUNBLE9BQUEwQixFQUFBa0IsUUFBQWl6QixRQUVBQSxFQUFBLFdBQ0EsR0FBQTNqQixHQUFBcWpCLEVBQUEsR0FDQSxHQUFBdmpCLEVBQUFnbkIsSUFBQSxDQUNBLElBQUFqNEIsRUFBQWs0QixhQUFBQyxRQUFBbG5CLEVBQUF3ZixJQUFBLElBQUF2YyxFQUFBLEtBQUE3QyxFQUFBRixJQUNBa2pCLEVBQUFyMEIsRUFBQWdCLEtBQUFDLE1BQUFqQixRQUFBeUYsRUFBQTBMLEVBQUE4ZCxRQUdBb0YsRUFBQXBqQixFQUFBK21CLE1BQUE5akIsR0FBQTdDLEVBQUFGLE1BQUE4ZCxRQUlBdFUsS0FHQW1hLFNBM0JBbmEsS0E2QkFtZCxFQUFBeDNCLFVBQUF5MEIsS0FBQSxTQUFBN2dCLEVBQUE3UyxHQUNBLElBQUE0UCxFQUFBaEYsS0FDQUEsS0FBQWdzQixLQUNBQyxhQUFBRSxRQUFBbnNCLEtBQUF3a0IsSUFBQSxJQUFBdmMsRUFBQSxPQUFBbFQsS0FBQUUsZUFDQStLLEtBQUE2bUIsU0FBQTVlLEdBQUE3QyxPQUFBcEosUUFBQSxTQUFBbUMsR0FDQTh0QixhQUFBRyxXQUFBcG5CLEVBQUF3ZixJQUFBLElBQUF2YyxFQUFBLEtBQUE5SixNQUlBNkIsS0FBQStyQixNQUFBOWpCLE1BRUEsSUFBQS9DLEVBQUEsSUFBQTJnQixFQUFBbmhCLGNBQ0FRLEVBQUFKLEtBQUE5RSxLQUFBNm1CLFNBQUE1ZSxHQUFBbkQsS0FDQTlFLEtBQUE2bUIsU0FBQTVlLEdBQUEvQyxFQUNBOVAsS0FFQXkyQixFQUFBeDNCLFVBQUEwMEIsU0FBQSxTQUFBOWdCLEVBQUErZ0IsRUFBQXRhLEdBQ0FBLEVBQUFzYSxFQUFBaHBCLEtBQUE2bUIsU0FBQTVlLEdBQUE3QyxPQUFBN1AsT0FBQXlLLEtBQUE2bUIsU0FBQTVlLEdBQUE3QyxTQUVBeW1CLEVBQUF4M0IsVUFBQTQwQixRQUFBLFNBQUF2YSxHQUNBLElBQUExSixFQUFBaEYsS0FDQXlFLEVBQUF6TyxRQUFBdEMsT0FBQTBSLEtBQUFwRixLQUFBNm1CLFVBQUEsU0FBQTVlLEVBQUFqVixFQUFBeXFCLEdBQ0F6WSxFQUFBOGpCLEtBQUE3Z0IsRUFBQXdWLEtBQ1N2YyxLQUFBd04sSUFFVG1kLEVBOUlBLEdBZ0pBLzRCLEVBQUErNEIsNEJDcEtBbjRCLE9BQUFDLGVBQUFiLEVBQUEsY0FBOENrQixPQUFBLElBQzlDLElBQUF3VCxFQUNBLElBR0E2a0IsRUFBQSxXQUNBLFNBQUFBLEVBQUFDLEdBQ0F0c0IsS0FBQXVzQixNQUFBRixFQUFBclIsUUFBQXNSLEdBaUZBLE9BL0VBRCxFQUFBaDRCLFVBQUEwMEIsU0FBQSxXQUNBLE9BQUEvb0IsS0FBQXVzQixPQUVBRixFQUFBaDRCLFVBQUFtNEIsU0FBQSxTQUFBQyxHQUNBenNCLEtBQUF1c0IsTUFBQUUsR0FFQUosRUFBQWg0QixVQUFBcTRCLFFBQUEsU0FBQUMsR0FNQSxPQUZBQSxFQUFBN3hCLGNBQUF4QixNQUFBLElBQ0EvQixPQUpBLFNBQUFxMUIsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQSxPQUFBVixFQUFBVyxRQUFBSixFQUFBQyxFQUFBQyxFQUFBQyxJQUdBL3NCLEtBQUF1c0IsT0FDQXZzQixNQUVBcXNCLEVBQUFoNEIsVUFBQTQ0QixXQUFBLFNBQUFOLEdBQ0EsSUFBQTlFLEVBQUF3RSxFQUFBYSxhQUFBbHRCLEtBQUF1c0IsTUFBQUksR0FBQVEsRUFBQXRGLEVBQUFzRixZQUFBQyxFQUFBdkYsRUFBQXVGLFdBSUEsT0FIQUQsVUFDQUMsRUFBQTVsQixHQUVBeEgsTUFFQXFzQixFQUFBaDRCLFVBQUFnNUIsU0FBQSxXQUNBLE9BQUFoQixFQUFBaUIsZUFBQXR0QixLQUFBdXNCLE1BQUEsS0FFQUYsRUFBQWg0QixVQUFBazVCLFVBQUEsU0FBQUMsR0FFQSxHQURBQSxJQUFBMXlCLGVBQ0FrRixLQUFBeXRCLFVBQUFELEdBQ0EsU0FFQSxJQUFBSixFQUFBZixFQUFBYSxhQUFBbHRCLEtBQUF1c0IsTUFBQWlCLEdBQUFKLFdBQ0EsT0FBQWYsRUFBQWlCLGVBQUFGLEVBQUFJLElBRUFuQixFQUFBaDRCLFVBQUFvNUIsVUFBQSxTQUFBQyxHQUVBLE9BREFyQixFQUFBYSxhQUFBbHRCLEtBQUF1c0IsTUFBQW1CLEdBQUFQLGFBR0FkLEVBQUFXLFFBQUEsU0FBQVAsRUFBQW5VLEVBQUEzVixFQUFBb3FCLEdBTUEsT0FMQU4sRUFBQW5VLEdBQUFtVSxFQUFBblUsT0FDQW1VLElBQUFuVSxHQUNBM1YsSUFBQW9xQixFQUFBeDNCLE9BQUEsSUFDQWszQixFQUFBamxCLEdBQUEsR0FFQWlsQixHQUVBSixFQUFBYSxhQUFBLFNBQUFFLEVBQUFNLEdBUUEsT0FDQVAsWUFSQU8sRUFBQTV5QixjQUFBeEIsTUFBQSxJQUNBcTBCLE1BQUEsU0FBQXJWLEVBQUEzVixHQUNBLFFBQUF5cUIsRUFBQTlVLEtBR0E4VSxJQUFBOVUsTUFJQThVLGVBR0FmLEVBQUFyUixRQUFBLFNBQUFzUixHQVFBLE9BUEFBLE9BQUEvMEIsT0FBQSxTQUFBcTJCLEVBQUF6M0IsR0FLQSxPQUpBQSxFQUNBMkUsY0FDQXhCLE1BQUEsSUFDQS9CLE9BQUE4MEIsRUFBQVcsUUFBQVksR0FDQUEsUUFJQXZCLEVBQUFpQixlQUFBLFNBQUFPLEVBQUFILEVBQUFJLFFBQ0EsSUFBQUEsSUFBa0NBLE1BQ2xDLElBQUFuQixFQUFBZSxFQUNBLFFBQUFLLEtBQUFGLEVBQ0FFLElBQUF2bUIsSUFDQXNtQixFQUFBbjRCLEtBQUFnM0IsR0FDQUEsRUFBQSxJQUVBTixFQUFBaUIsZUFBQU8sRUFBQUUsR0FBQUwsRUFBQUssRUFBQUQsR0FFQSxPQUFBQSxFQUFBcEUsUUFFQTJDLEVBbkZBLEdBcUZBdjVCLEVBQUF1NUIsd0JDMUZBLElBQUEvbUIsRUFBQXRGLFdBQUFzRixVQUFBNVIsT0FBQTZSLFFBQUEsU0FBQTNMLEdBQ0EsUUFBQXBGLEVBQUF4QixFQUFBLEVBQUFpQixFQUFBZ00sVUFBQTFLLE9BQTRDdkMsRUFBQWlCLEVBQU9qQixJQUVuRCxRQUFBdUIsS0FEQUMsRUFBQXlMLFVBQUFqTixHQUNBVSxPQUFBVyxVQUFBQyxlQUFBbkIsS0FBQXFCLEVBQUFELEtBQ0FxRixFQUFBckYsR0FBQUMsRUFBQUQsSUFFQSxPQUFBcUYsR0FFQWxHLE9BQUFDLGVBQUFiLEVBQUEsY0FBOENrQixPQUFBLElBQzlDLElBQUFnNkIsRUFBQXA3QixFQUFBLEtBQ0E2UixFQUFBN1IsRUFBQSxHQUNBcTdCLEVBQUFyN0IsRUFBQSxLQUNBczdCLEVBQUF0N0IsRUFBQSxLQUNBdTdCLEVBQUF2N0IsRUFBQSxLQUVBdzdCLEVBQUF4N0IsRUFBQSxLQVNBeTdCLEVBQUEsV0FDQSxTQUFBQSxFQUFBNW1CLEVBQUF0TyxHQXlCQSxHQWpCQTZHLEtBQUFzdUIsZUFDQXR1QixLQUFBdXVCLE1BQUE5bUIsRUFDQXpILEtBQUF3dUIsTUFBQXIxQixFQUFBczFCLFdBQUEsT0FBQXQxQixFQUFBdVAsTUFBQSxPQUNBMUksS0FBQXdrQixJQUFBcnJCLEVBQUE2SCxHQUNBaEIsS0FBQW9wQixNQUFBandCLEVBQUFnd0IsTUFBQSxFQUNBbnBCLEtBQUEwdUIsWUFDQTF1QixLQUFBcUgsVUFDQXJILEtBQUEydUIsYUFDQTN1QixLQUFBNHVCLGdCQUNBNXVCLEtBQUFzdUIsZUFDQXR1QixLQUFBNnVCLFNBQUExMUIsRUFBQTIxQixRQUFBLEVBQ0E5dUIsS0FBQSt1QixVQUNBL3VCLEtBQUFndkIsY0FDQWh2QixLQUFBMHVCLFNBQUEsSUFDQU8sUUFBQSxLQUNBQyxlQUFBLEdBRUEsaUJBQUFsdkIsS0FBQXd1QixNQVdBLE9BVkEsU0FBQXh1QixLQUFBd3VCLFFBUUF4dUIsS0FBQXd1QixNQUFBeHVCLEtBQUFtdkIsd0JBQUFudkIsS0FBQXd1QixPQUVBeHVCLEtBQUF3dUIsT0FDQSxVQUNBeHVCLEtBQUEwdUIsU0FBQSxHQUFBTyxRQUFBLElBQUFmLEVBQUF0RCxpQkFBQSxHQUNBLE1BQ0EsYUFDQTVxQixLQUFBMHVCLFNBQUEsR0FBQU8sUUFBQSxJQUFBZixFQUFBdEQsaUJBQUEsR0FDQSxNQUNBLFdBQ0E1cUIsS0FBQTB1QixTQUFBLEdBQUFPLFFBQUEsSUFBQWQsRUFBQWpGLGFBQUFscEIsS0FBQW9wQixPQUNBLE1BQ0EsU0FDQXBwQixLQUFBMHVCLFNBQUEsR0FBQU8sUUFBQSxJQUFBaEIsRUFBQXBDLFlBQUEsR0FDQSxNQUVBLFVBQ0E3ckIsS0FBQTB1QixTQUFBLEdBQUFPLFFBQUEsSUFBQWIsRUFBQTVILFlBQUFydEIsRUFBQWkyQixPQUFBajJCLEVBQUFzdEIsV0FBQXR0QixFQUFBdXRCLFdBQ0EsTUFFQSxXQUNBMW1CLEtBQUEwdUIsU0FBQSxHQUFBTyxRQUFBLElBQUFoQixFQUFBcEMsWUFBQSxRQUtBN3JCLEtBQUEwdUIsU0FBQSxHQUFBTyxRQUFBanZCLEtBQUF3dUIsTUE0ckJBLE9BbHFCQUgsRUFBQWg2QixVQUFBZzdCLEtBQUEsU0FBQW5wQixFQUFBd0ksR0FDQSxJQUFBMUosRUFBQWhGLEtBQ0FBLEtBQUF3a0IsTUFDQXhrQixLQUFBd2tCLElBQUEvZixFQUFBOUwsS0FBQTVELEtBQUFFLFVBQUFpUixJQUFBbk8sWUFFQWlJLEtBQUFxSCxPQUFBckgsS0FBQXN2Qiw0QkFBQXBwQixHQUNBbEcsS0FBQXN1QixZQUFBNTZCLE9BQUEwUixLQUFBcEYsS0FBQXFILFFBQ0FySCxLQUFBMHVCLFNBQUExeUIsUUFBQSxTQUFBNUMsR0FDQUEsRUFBQTYxQixRQUFBN0gsTUFBQXBpQixFQUFBd2YsT0FFQXhrQixLQUFBc3VCLFlBQUF0eUIsUUFBQSxTQUFBaU0sR0FDQWpELEVBQUF1cUIsVUFBQXRuQixFQUFBL0IsRUFBQStCLE1BRUFqSSxLQUFBd3ZCLGlCQUNBeHZCLEtBQUF5dkIsZUFDQXp2QixLQUFBMHZCLG9CQUNBMXZCLEtBQUEydkIscUJBQ0EzdkIsS0FBQXN1QixZQUFBdHlCLFFBQUEsU0FBQWlNLEdBR0FqRCxFQUFBMnBCLFVBQUExbUIsR0FBQTJuQixZQUFBbDhCLE9BQUEwUixLQUFBSixFQUFBMnBCLFdBQUFwM0IsT0FBQSxTQUFBQyxFQUFBQyxHQUNBLE9BQUFBLElBQUF3USxFQUNBelEsSUFFQSxJQURBOUQsT0FBQTBSLEtBQUFKLEVBQUEycEIsVUFBQWwzQixHQUFBd08sUUFDQXZQLFFBQUF1UixJQUNBelEsRUFBQTdCLE1BQStCc1MsTUFBQXhRLEVBQUFnWSxPQUFBekssRUFBQTJwQixVQUFBbDNCLEdBQUF3TyxPQUFBZ0MsR0FBQTRuQixXQUUvQnI0QixRQUdBLElBQUF4RSxFQUFBZ1MsRUFBQXFDLE9BQUFZLEdBQUExUyxPQUNBeVAsRUFBQXdxQixjQUFBdm5CLE1BQ0FqRCxFQUFBMHFCLGlCQUFBem5CLE1BQ0FqRCxFQUFBeXFCLFlBQUF4bkIsTUFDQWpELEVBQUEycUIsa0JBQUExbkIsTUFrQ0EsSUFqQ0EsSUFBQW5GLEVBQUEsV0FDQSxJQUFBdk8sRUFBQXlRLEVBQUFxQyxPQUFBWSxHQUFBalYsR0FFQSxRQUFBZ1MsRUFBQXNwQixZQUFBNTNCLFFBQUFuQyxFQUFBb0YsS0FBQVksUUFBQSxXQUNBLElBQUF1MUIsRUFBQSxHQUNBOXFCLEVBQUEycUIsa0JBQUExbkIsR0FBQTFULEVBQUE0SixNQUNBNHhCLFNBQUF4N0IsRUFBQW9GLEtBQUFZLFFBQUEsU0FDQXkxQixXQUFBLElBQUF6N0IsRUFBQW9GLEtBQUFqRCxRQUFBLHdCQUVBbkMsRUFBQThULFFBQ0E5VCxFQUFBOFQsTUFBQXJNLFFBQUEsU0FBQXpILElBRUEsSUFBQUEsRUFBQW1DLFFBQUEsV0FDQW81QixFQUFBdjdCLEVBQUFnRyxRQUFBLGFBR0EsSUFBQWhHLEVBQUFtQyxRQUFBLFVBQ0FvNUIsRUFBQXY3QixFQUFBZ0csUUFBQSwwQkFHQXUxQixJQUNBOXFCLEVBQUFpckIsU0FBQSxFQUNBanJCLEVBQUEwcUIsaUJBQUF6bkIsR0FBQXRTLEtBQUFwQixFQUFBNEosS0FDQTZHLEVBQUF3cUIsY0FBQXZuQixHQUFBMVQsRUFBQTRKLE1BQ0E0eEIsU0FBQXg3QixFQUFBb0YsS0FBQVksUUFBQSxTQUNBMjFCLFVBQUFKLEVBQUF2MUIsUUFBQSxTQUNBNDFCLFNBQUEsSUFBQUwsRUFBQXA1QixRQUFBLHVCQUNBczVCLFdBQUEsSUFBQXo3QixFQUFBb0YsS0FBQWpELFFBQUEsNEJBTUExRCxLQUNBOFAsTUFHQXBQLE9BQUEwUixLQUFBcEYsS0FBQXd2QixlQUFBeHpCLFFBQUEsU0FBQWlNLEdBQ0F2VSxPQUFBMFIsS0FBQUosRUFBQXdxQixjQUFBdm5CLElBQUFqTSxRQUFBLFNBQUF5VCxHQUNBLElBQUEyZ0IsRUFBQXByQixFQUFBd3FCLGNBQUF2bkIsR0FBQXdILEdBQ0F6SyxFQUFBeXFCLFlBQUFXLEVBQUFMLFVBQUFwNkIsTUFDQTA2QixZQUFBRCxFQUFBRixVQUNBRixVQUFBSSxFQUFBRCxRQUNBRyxXQUFBcm9CLEVBQ0Fzb0IsWUFBQTlnQixFQUNBK2dCLFVBQUFKLEVBQUFKLGdCQUlBdnJCLEVBQUF6TyxRQUFBZ0ssS0FBQTB1QixTQUFBLFNBQUF0MUIsRUFBQXBHLEVBQUF5cUIsR0FDQXJrQixFQUFBNjFCLFFBQUEvbUIsUUFBQSxXQUNBOU8sRUFBQTYxQixRQUFBd0IsU0FDQXIzQixFQUFBNjFCLFFBQUF3QixRQUFBenJCLEVBQUF1cEIsT0FFQTlRLFFBRVN2YyxLQUFBLFdBRVR1RCxFQUFBek8sUUFBQXRDLE9BQUEwUixLQUFBSixFQUFBNHBCLGNBQUEsU0FBQTNtQixFQUFBalYsRUFBQXl2QixHQUNBLElBQUFpTyxFQUFBMXJCLEVBQUE0cEIsYUFBQTNtQixHQUNBdlUsT0FBQTBSLEtBQUFzckIsR0FBQW43QixPQUNBa1AsRUFBQXpPLFFBQUF0QyxPQUFBMFIsS0FBQXNyQixHQUFBLFNBQUFqaEIsRUFBQWtoQixFQUFBQyxHQUNBLElBQUFDLEVBQUEsSUFBQTVvQixFQUFBLFFBQUF3SCxFQUNBekssRUFBQTBwQixTQUFBLEdBQUFPLFFBQUFsRyxTQUFBOEgsR0FBQSxXQUFBbHVCLEdBQ0FBLEVBQUEzRyxRQUFBLFNBQUFoSSxHQUNBZ1IsRUFBQTRwQixhQUFBM21CLEdBQUF3SCxHQUFBaWQsUUFBQTl4QixPQUFBNUcsTUFFQTQ4QixRQUVxQjF2QixLQUFBdWhCLEdBR3JCQSxNQUVhdmhCLEtBQUEsV0FDYndOLEVBQUExSixFQUFBcUMsYUFJQWduQixFQUFBaDZCLFVBQUF5OEIsaUJBQUEsU0FBQTdvQixFQUFBK2UsR0FDQSxJQUFBaGlCLEVBQUFoRixLQUNBQSxLQUFBNnVCLFVBR0FuN0IsT0FBQTBSLEtBQUFwRixLQUFBZ3ZCLFdBQUEvbUIsSUFBQWpNLFFBQUEsU0FBQXJELEdBR0EsSUFGQSxJQUFBM0YsRUFBQWcwQixFQUFBenhCLE9BQ0F3N0IsR0FBQSxFQUNBLzlCLEtBQUErOUIsR0FDQS9yQixFQUFBZ3FCLFdBQUEvbUIsR0FBQXRQLEdBQUFxdUIsRUFBQWgwQixhQUNBZ1MsRUFBQStwQixPQUFBOW1CLEdBQUF0UCxVQUNBcU0sRUFBQWdxQixXQUFBL21CLEdBQUF0UCxHQUNBbzRCLEdBQUEsTUFZQTFDLEVBQUFoNkIsVUFBQTI4QixlQUFBLFNBQUEvb0IsRUFBQXlHLEdBQ0EsSUFBQTFKLEVBQUFoRixLQUNBdkUsR0FBQSxJQUFBNUQsTUFBQUMsVUFDQTJNLEVBQUF6TyxRQUFBdEMsT0FBQTBSLEtBQUFwRixLQUFBMnVCLFdBQUEsU0FBQXBoQixFQUFBMkIsRUFBQXVULEdBQ0EsYUFBQXhhLE9BQUFzRixHQUFBLElBQUFBLEVBQUE3VyxRQUFBLEtBQ0ErckIsUUFEQSxDQUlBLElBQUF3TyxFQUFBanNCLEVBQUEycEIsVUFBQXBoQixHQUFBMmpCLGtCQUNBenNCLEVBQUF6TyxRQUFBaTdCLEVBQUEsU0FBQXhoQixFQUFBdU4sRUFBQW1VLEdBQ0EsSUFBQU4sRUFBQSxJQUFBdGpCLEVBQUEsUUFBQWtDLEVBQ0F6SyxFQUFBb3NCLE1BQUFQLEVBQUFNLEtBQ2Fqd0IsS0FBQSxXQUNiLElBQUE2aEIsRUFBQS9kLEVBQUEycEIsVUFBQXBoQixHQUFBOGpCLElBQ0FDLEtBQ0FMLEVBQUFqMUIsUUFBQSxTQUFBeVQsR0FDQTZoQixFQUFBN2hCLFFBRUF6SyxFQUFBdXNCLE1BQUFoa0IsRUFBQSxTQUFBb0IsRUFBQXpKLEVBQUF1WSxHQUNBOU8sRUFBQW9VLElBSUFrTyxFQUFBajFCLFFBQUEsU0FBQXlULEdBQ0FkLEVBQUFjLEtBR0E2aEIsRUFBQTdoQixHQUFBZCxFQUFBYyxNQUNBNmhCLEVBQUE3aEIsR0FBQWQsRUFBQWMsUUFFQTZoQixFQUFBN2hCLEdBQUFkLEVBQUFjLElBQUE5WixLQUFBZ1osRUFBQW9VLE9BRUF0RixHQUFBLElBWkFBLEdBQUEsSUFnQmlCLFdBQ2pCaFosRUFBQXpPLFFBQUFpN0IsRUFBQSxTQUFBOTZCLEVBQUFuRCxFQUFBeXFCLEdBQ0EsSUFBQW9ULEVBQUEsSUFBQXRqQixFQUFBLFFBQUFwWCxFQUNBc08sRUFBQXpPLFFBQUF0QyxPQUFBMFIsS0FBQWtzQixFQUFBbjdCLElBQUEsU0FBQXE3QixFQUFBeCtCLEVBQUE0WixHQUNBNUgsRUFBQXlzQixhQUFBWixFQUFBVyxHQUNBeHdCLEdBQUF3d0IsRUFDQTduQixLQUFBMm5CLEVBQUFuN0IsR0FBQXE3QixHQUFBOUgsUUFDNkI5YyxLQUNKMUwsS0FBQXVjLEtBQ0p2YyxLQUFBLFdBQ3JCdWhCLGFBSVN2aEIsS0FBQSxXQUNUd04sR0FBQSxJQUFBN1csTUFBQUMsVUFBQTJELE1BV0E0eUIsRUFBQWg2QixVQUFBcTlCLG1CQUFBLFNBQUExOUIsR0FDQSxPQUFBeVEsRUFBQWhMLFNBQUF6RixJQUFBMEcsTUFBQUMsUUFBQTNHLEdBQ0FlLEtBQUFFLFVBQUFqQixHQUFBMjlCLE9BQUEsTUFFQSxpQkFBQTM5QixFQUNBQSxFQUVBNEcsT0FBQTVHLEdBQUEyOUIsT0FBQSxPQVFBdEQsRUFBQWg2QixVQUFBODZCLHFCQUFBLFdBRUEsdUJBQUF2NkIsT0FDQSxZQUlBLEdBQUE2UCxFQUFBbE8sU0FDQSxhQUdBLEdBQUFrTyxFQUFBaE8sWUFDQSwwQkFBQW03QixVQUFBLFdBSUEsZ0JBQUExRyxjQUFBRyxZQUFBdUcsV0FBQWw3QixRQUFBLGNBQUE5QixPQUFBdTJCLEtBQUF2MkIsT0FBQXUyQixJQUFBQyxnQkFDQSxJQUNBLElBQUFoUixFQUFBLElBQUE4USxPQUFBdDJCLE9BQUF1MkIsSUFBQUMsZ0JBQUEsSUFBQUMsTUFBQSxtQkFDQWpSLEVBQUE1WixZQUFBLElBQ0E0WixFQUFBeVgsWUFJQSxPQUZBRCxVQUFBcmYsS0FEQSxPQUNBLEdBQ0FxZixVQUFBRSxlQUZBLFFBR0EsU0FFQSxNQUFBOXpCLEdBQ0EsdUJBQUE0ekIsVUFDQSxZQUtBLFlBV0F2RCxFQUFBaDZCLFVBQUEwOUIsb0JBQUEsU0FBQTlwQixFQUFBd0gsRUFBQXVpQixFQUFBNThCLEdBQ0EsSUFBQTRQLEVBQUFoRixLQUNBQSxLQUFBMHVCLFNBQUEsR0FBQU8sUUFBQS9HLEtBQUEsSUFBQWpnQixFQUFBLFFBQUF3SCxFQUFBelAsS0FBQTB4QixtQkFBQU0sR0FBQSxTQUFBcmpCLFFBQ0FuVixJQUFBbVYsR0FBQSxPQUFBQSxFQUNBM0osRUFBQXVzQixNQUFBdHBCLEVBQUEwRyxFQUFBLFNBQUF2WixHQUdBQSxTQWVBaTVCLEVBQUFoNkIsVUFBQTQ5QixXQUFBLFNBQUFocUIsRUFBQXVRLEVBQUFFLEVBQUF3WixFQUFBeGpCLEdBQ0EsSUFBQS9FLEtBQ0EzSixLQUFBMHVCLFNBQUEsR0FBQU8sUUFBQTlHLFVBQUFsZ0IsRUFBQSxTQUFBMEcsRUFBQXpKLEVBQUEwSCxHQUNBakQsRUFBQWhVLEtBQUFnWixHQUNBL0IsS0FDUyxXQUNUOEIsRUFBQS9FLElBQ1M2TyxFQUFBRSxFQUFBd1osSUFXVDdELEVBQUFoNkIsVUFBQWs5QixNQUFBLFNBQUF0cEIsRUFBQXNCLEVBQUFuVSxHQUNBLElBQUE0UCxFQUFBaEYsS0FDQSxHQUFBdEYsTUFBQUMsUUFBQTRPLEdBQUEsQ0FDQSxJQUFBK2dCLEVBQUF0cUIsS0FBQTB1QixTQUFBLEdBQUFPLFFBQUEzRSxVQUNBQSxFQUNBQSxFQUFBenRCLE1BQUFtRCxLQUFBMHVCLFNBQUEsR0FBQU8sU0FBQWhuQixFQUFBc0IsRUFBQW5VLElBSUFxUCxFQUFBek8sUUFBQXVULEVBQUEsU0FBQTRvQixFQUFBbi9CLEVBQUEwQyxHQUNBc1AsRUFBQTBwQixTQUFBLEdBQUFPLFFBQUEvRyxLQUFBamdCLEVBQUFrcUIsRUFBQXo4QixLQUNpQndMLEtBQUEsU0FBQXlJLEdBQ2pCdlUsRUFBQXVVLEVBQUF4UixPQUFBLFNBQUFwRSxHQUF1RCxPQUFBQSxXQVZ2RCxDQWVBLElBQUE0VixLQUVBLG1CQUFBSixHQUNBdkosS0FBQTB1QixTQUFBLEdBQUFPLFFBQUE5RyxVQUFBbGdCLEVBQUEsU0FBQTBHLEVBQUF6SixFQUFBMEosR0FDQXJGLEVBQUFvRixFQUFBekosRUFBQSxTQUFBa3RCLEdBQ0FBLEdBQ0F6b0IsRUFBQWhVLEtBQUFnWixHQUVBQyxPQUVhLFdBQ2J4WixFQUFBdVUsT0FjQTBrQixFQUFBaDZCLFVBQUFnK0IsVUFBQSxTQUFBcHFCLEVBQUF3SCxFQUFBdWlCLEVBQUE1OEIsR0FDQSxJQUFBNFAsRUFBQWhGLEtBQ0FzeUIsRUFBQXR5QixLQUFBNHVCLGFBQUEzbUIsR0FBQXdILEdBQUE4ZCxVQUFBeUUsR0FDQXZ0QixFQUFBek8sUUFBQXM4QixFQUFBLFNBQUFsWSxFQUFBcG5CLEVBQUEwQyxHQUNBc1AsRUFBQStzQixvQkFBQTlwQixFQUFBd0gsRUFBQTJLLEVBQUExa0IsS0FDU3dMLEtBQUEsU0FBQXF4QixHQUNUbjlCLEtBQUF3SCxPQUFBQyxTQUFBMDFCLE9BY0FsRSxFQUFBaDZCLFVBQUFtK0IsdUJBQUEsU0FBQXZxQixFQUFBOGEsRUFBQTlULEVBQUF3akIsRUFBQS9qQixHQUNBLElBQUExSixFQUFBaEYsS0FDQXlFLEVBQUF6TyxRQUFBZ0ssS0FBQTJ1QixVQUFBMW1CLEdBQUFpcEIsa0JBQUEvNEIsT0FBQSxTQUFBK00sR0FBMkYsV0FBQXV0QixFQUFBLzdCLFFBQUF3TyxLQUEwQyxTQUFBQSxFQUFBZ0ssRUFBQXVPLEdBQ3JJLElBQUFoTyxFQUFBekssRUFBQTBzQixtQkFBQXppQixFQUFBL0osSUFDQTJyQixFQUFBLElBQUE1b0IsRUFBQSxRQUFBL0MsRUFDQUYsRUFBQTBwQixTQUFBLEdBQUFPLFFBQUEvRyxLQUFBMkksRUFBQXBoQixFQUFBLFNBQUFkLEdBQ0EsR0FBQUEsRUFBQSxDQUlBLElBQUEzYixFQUFBMmIsRUFBQWhGLEtBQUFqVCxRQUFBcXNCLEdBQ0EsUUFBQS92QixFQUFBLENBSUEsSUFBQW0zQixFQUFBeGIsRUFBQWpiLE9BQUF3dkIsU0FBQXZVLEdBQUFsSyxFQUFBNVAsUUFBQThaLE1BQTRGM04sR0FBQSxLQUFBMkksU0FDNUZ3Z0IsRUFBQXhnQixLQUFBcE8sT0FBQXZJLEVBQUEsR0FDQW0zQixFQUFBeGdCLEtBQUErZixPQUNBUyxFQUFBeGdCLEtBQUFsRixFQUFBN0ksaUJBQUF1dUIsRUFBQXhnQixNQUNBM0UsRUFBQXlzQixhQUFBWixFQUFBMUcsRUFBQW5wQixHQUFBbXBCLEVBQUExTSxRQVBBQSxTQUxBQSxRQWNTdmMsS0FBQXdOLElBYVQyZixFQUFBaDZCLFVBQUFxK0IscUJBQUEsU0FBQXpxQixFQUFBOGEsRUFBQTlULEVBQUF3akIsRUFBQS9qQixHQUNBLElBQUExSixFQUFBaEYsS0FDQXlFLEVBQUF6TyxRQUFBZ0ssS0FBQTJ1QixVQUFBMW1CLEdBQUFpcEIsa0JBQUEvNEIsT0FBQSxTQUFBK00sR0FBMkYsV0FBQXV0QixFQUFBLzdCLFFBQUF3TyxLQUEwQyxTQUFBQSxFQUFBbFMsRUFBQXlxQixHQUNySSxJQUFBaE8sRUFBQXpLLEVBQUEwc0IsbUJBQUF6aUIsRUFBQS9KLElBQ0EsR0FBQXVLLEVBQUEsQ0FJQXpLLEVBQUE0cEIsYUFBQTNtQixHQUFBL0MsSUFDQUYsRUFBQTRwQixhQUFBM21CLEdBQUEvQyxHQUFBd25CLFFBQUE5eEIsT0FBQXFVLEVBQUEvSixLQUVBLElBQUEyckIsRUFBQSxJQUFBNW9CLEVBQUEsUUFBQS9DLEVBQ0FGLEVBQUEwcEIsU0FBQSxHQUFBTyxRQUFBL0csS0FBQTJJLEVBQUFwaEIsRUFBQSxTQUFBZCxHQUNBLElBQUFna0IsRUFBQWhrQixFQUFBamIsT0FBQXd2QixTQUFBdlUsR0FBQWxLLEVBQUE1UCxRQUFBOFosTUFBZ0czTixHQUFBeU8sRUFBQTlGLFNBQ2hHZ3BCLEVBQUFocEIsS0FBQWhVLEtBQUFvdEIsR0FDQTRQLEVBQUFocEIsS0FBQStmLE9BQ0FpSixFQUFBaHBCLEtBQUFsRixFQUFBN0ksaUJBQUErMkIsRUFBQWhwQixNQUNBM0UsRUFBQXlzQixhQUFBWixFQUFBcGhCLEVBQUFrakIsRUFBQWxWLFVBWkFBLE1BY1N2YyxLQUFBd04sSUFZVDJmLEVBQUFoNkIsVUFBQXUrQixPQUFBLFNBQUEzcUIsRUFBQThhLEVBQUE4UCxFQUFBMUksRUFBQXpiLEdBQ0EsSUE2QkFtWixFQTdCQTdpQixFQUFBaEYsS0FDQSxHQUFBNnlCLEVBWUEsQ0FDQSxJQUFBQyxFQUFBeHRCLEtBQXNDdXRCLEVBQUExSSxJQUFBdEMsTUFBMEI3bkIsS0FBQTJ1QixVQUFBMW1CLEdBQUFvcEIsS0FBQXRPLEVBQUE4RSxJQUNoRWtMLEVBQUFyL0IsT0FBQTBSLEtBQUEwdEIsR0FBQTM2QixPQUFBLFNBQUFnRyxHQUNBLE9BQUEyMEIsRUFBQTMwQixLQUFBMDBCLEVBQUExMEIsS0FFQTZCLEtBQUEydUIsVUFBQTFtQixHQUFBaXBCLGtCQUFBMzdCLE9BQ0F5SyxLQUFBd3lCLHVCQUFBdnFCLEVBQUE4YSxFQUFBOFAsRUFBQUUsRUFBQSxXQUNBL3RCLEVBQUEwdEIscUJBQUF6cUIsRUFBQThhLEVBQUErUCxFQUFBQyxFQUFBLFdBQ0EvdEIsRUFBQXlzQixhQUFBeHBCLEVBQUE4YSxFQUFBK1AsRUFBQXBrQixPQUtBMU8sS0FBQXl4QixhQUFBeHBCLEVBQUE4YSxFQUFBK1AsRUFBQXBrQixRQXhCQTFPLEtBQUF5eEIsYUFBQXhwQixFQUFBOGEsRUFBQW9ILEVBQUEsU0FBQXhiLEdBQ0EzSixFQUFBMnBCLFVBQUExbUIsR0FBQWlwQixrQkFBQTM3QixPQUNBeVAsRUFBQTB0QixxQkFBQXpxQixFQUFBMEcsRUFBQTNKLEVBQUEycEIsVUFBQTFtQixHQUFBb3BCLEtBQUFsSCxLQUFBLFdBQ0F6YixFQUFBQyxLQUlBRCxFQUFBQyxNQThCQTBmLEVBQUFoNkIsVUFBQTIrQixRQUFBLFNBQUEvcUIsRUFBQThhLEVBQUFyVSxHQUNBLElBQUExSixFQUFBaEYsS0FDQSxJQUFBK2lCLEVBQ0EsVUFBQXRZLE1BQUEsdUNBSUF6SyxLQUFBMHVCLFNBQUEsR0FBQU8sUUFBQS9HLEtBQUFqZ0IsRUFBQThhLEVBQUEsU0FBQXBVLEdBQ0EzSixFQUFBd3RCLHVCQUFBdnFCLEVBQUE4YSxFQUFBcFUsS0FBQSxXQUVBM0osRUFBQWl1QixjQUFBaHJCLEVBQUE4YSxFQUFBLFdBQ0FyVSxFQUFBQyxVQWFBMGYsRUFBQWg2QixVQUFBKzhCLE1BQUEsU0FBQW5wQixFQUFBeUcsR0FDQSxJQUFBMUosRUFBQWhGLEtBQ0F5RSxFQUFBek8sUUFBQWdLLEtBQUEydUIsVUFBQTFtQixHQUFBaXBCLGtCQUFBLFNBQUFoc0IsRUFBQWxTLEVBQUF5cUIsR0FDQXpZLEVBQUFrdUIsWUFBQSxJQUFBanJCLEVBQUEsUUFBQS9DLEVBQUF1WSxLQUNTdmMsS0FBQSxXQUNUOEQsRUFBQTRwQixhQUFBM21CLE1BQ0FqRCxFQUFBMnBCLFVBQUExbUIsR0FBQWtyQixhQUFBbjNCLFFBQUEsU0FBQW8zQixHQUNBcHVCLEVBQUE0cEIsYUFBQTNtQixHQUFBbXJCLEdBQUEsSUFBQXBGLEVBQUEzQixXQUVBcm5CLEVBQUFrdUIsWUFBQWpyQixFQUFBeUcsTUFXQTJmLEVBQUFoNkIsVUFBQWk3Qiw0QkFBQSxTQUFBcHBCLEdBb0JBLE9BbkJBeFMsT0FBQTBSLEtBQUFjLEdBQUFsSyxRQUFBLFNBQUFpTSxHQUNBLElBQUExQixHQUFBLEVBQ0E4c0IsR0FBQSxFQWFBLEdBWkFudEIsRUFBQStCLEdBQUFqTSxRQUFBLFNBQUE4TSxHQUNBQSxFQUFBVCxPQUFBNUQsRUFBQXpNLFdBQUEsYUFBQThRLEVBQUFULFNBQ0E5QixHQUFBLEdBRUF1QyxFQUFBVCxPQUFBNUQsRUFBQXpNLFdBQUEsK0JBQUE4USxFQUFBVCxTQUNBZ3JCLEdBQUEsRUFDQW50QixFQUFBLElBQUErQixFQUFBLFFBQUFhLEVBQUEzSyxPQUN5QkEsSUFBQSxLQUFBeEUsTUFBQSw2QkFBQWpELFFBQUFvUyxFQUFBblAsTUFBQW1QLEVBQUFuUCxLQUFBLFNBQUEwTyxPQUFBLFFBQ0FsSyxJQUFBLE9BQUF4RSxLQUFBLGFBSXpCMDVCLElBQUE5c0IsRUFDQSxVQUFBa0UsTUFBQSw0REFHQXZFLEdBV0Ftb0IsRUFBQWg2QixVQUFBazdCLFVBQUEsU0FBQS9ILEVBQUF0aEIsR0FDQSxJQUFBbEIsRUFBQWhGLEtBQ0FBLEtBQUEydUIsVUFBQW5ILElBQ0E2SixJQUFBLEdBQ0F6SyxRQUFBLEdBQ0EwTSxTQUNBQyxhQUNBckMscUJBQ0FpQyxnQkFDQUssTUFBQWhNLEVBQ0F2aEIsVUFDQTJwQixnQkFFQTV2QixLQUFBK3VCLE9BQUF2SCxNQUNBeG5CLEtBQUFndkIsV0FBQXhILE1BQ0F4bkIsS0FBQTR1QixhQUFBcEgsTUFDQXhuQixLQUFBMHVCLFNBQUExeUIsUUFBQSxTQUFBNUMsR0FDQUEsRUFBQTYxQixRQUFBMUgsVUFBQUMsRUFBQXRoQixLQXVEQSxJQXBEQSxJQUFBbFQsRUFBQWdOLEtBQUFxSCxPQUFBbWdCLEdBQUFqeUIsT0FDQWsrQixFQUFBLFdBQ0EsSUFBQWwvQixFQUFBbS9CLEVBQUFyc0IsT0FBQW1nQixHQUFBeDBCLEdBR0EsR0FGQTBnQyxFQUFBL0UsVUFBQW5ILEdBQUE4TCxNQUFBcjJCLFFBQUExSSxFQUFBNEosS0FDQXUxQixFQUFBL0UsVUFBQW5ILEdBQUErTCxVQUFBdmdDLEdBQUF1QixFQUFBZ1ksUUFDQWhZLEVBQUE4VCxPQUFBOVQsRUFBQThULE1BQUE5UyxPQUFBLENBQ0EsSUFBQW8rQixHQUFBLEVBQ0FwL0IsRUFBQThULE1BQUFyTSxRQUFBLFNBQUFDLEdBQ0EsUUFBQUEsRUFBQXZGLFFBQUEsV0FDQXNPLEVBQUE0dUIsV0FBQSxFQUNBLElBQUEzckIsRUFBQTFULEVBQUFvRixLQUNBLGdCQUFBc0MsR0FBQSxlQUFBQSxJQUVBZ00sRUFBQWhNLEVBQUExQixRQUFBLGFBQUFqQixNQUFBLEtBQUEwRCxTQUVBZ0ksRUFBQTJwQixVQUFBbkgsR0FBQXZoQixPQUFBZ0MsS0FDQWpELEVBQUEycEIsVUFBQW5ILEdBQUF2aEIsT0FBQWdDLElBQ0E0bkIsU0FBQSxHQUNBbm5CLEtBQUEsR0FDQW1yQixhQUdBLGdCQUFBNTNCLEdBQUEsZUFBQUEsR0FDQTAzQixHQUFBLEVBQ0EzdUIsRUFBQTJwQixVQUFBbkgsR0FBQXZoQixPQUFBZ0MsR0FBQTRuQixTQUFBdDdCLEVBQUE0SixJQUNBNkcsRUFBQTJwQixVQUFBbkgsR0FBQXZoQixPQUFBZ0MsR0FBQVMsS0FBQXpNLEVBQUExQixRQUFBLGNBR0F5SyxFQUFBMnBCLFVBQUFuSCxHQUFBdmhCLE9BQUFnQyxHQUFBNHJCLFFBQUFsK0IsTUFDQW0rQixXQUFBdi9CLEVBQUE0SixJQUNBNDFCLFlBQUE5M0IsRUFBQTFCLFFBQUEsYUFBQWpCLE1BQUEsS0FBQXNSLFdBTUFuRyxFQUFBek0sV0FBQSxhQUFBekQsRUFBQThULFNBQ0FxckIsRUFBQS9FLFVBQUFuSCxHQUFBNkosSUFBQTk4QixFQUFBNEosSUFDQXUxQixFQUFBL0UsVUFBQW5ILEdBQUFaLFFBQUFyeUIsRUFBQW9GLE9BR0E4SyxFQUFBek0sV0FBQSwrQkFBQXpELEVBQUE4VCxRQUFBc3JCLElBQ0FELEVBQUEvRSxVQUFBbkgsR0FBQTBKLGtCQUFBdjdCLEtBQUFwQixFQUFBNEosS0FHQXNHLEVBQUF6TSxXQUFBLGlCQUFBekQsRUFBQThULFNBQ0FxckIsRUFBQS9FLFVBQUFuSCxHQUFBMkwsYUFBQXg5QixLQUFBcEIsRUFBQTRKLEtBQ0F1MUIsRUFBQTlFLGFBQUFwSCxHQUFBanpCLEVBQUE0SixLQUFBLElBQUE2dkIsRUFBQTNCLFlBSUFxSCxFQUFBMXpCLEtBQ0FoTixLQUNBeWdDLElBRUEsT0FBQWpNLEdBRUE2RyxFQUFBaDZCLFVBQUFvOUIsYUFBQSxTQUFBeHBCLEVBQUE4YSxFQUFBbGlCLEVBQUE2TixFQUFBdkwsR0FDQSxJQUFBek4sRUFDQStPLEVBQUF6TyxRQUFBZ0ssS0FBQTB1QixTQUFBLFNBQUF0MUIsRUFBQXBHLEVBQUF5cUIsR0FDQXJrQixFQUFBODFCLGNBQ0E5MUIsRUFBQTYxQixRQUFBemMsTUFBQXZLLEVBQUE4YSxFQUFBbGlCLEVBQUEsU0FBQThOLEdBQ0FqWixFQUFBaVosRUFDQThPLE9BSUFBLElBQ0Fya0IsRUFBQTYxQixRQUFBemMsTUFBQXZLLEVBQUE4YSxFQUFBbGlCLEVBQUEsU0FBQThOLFNBRVN6TixLQUFBLFdBQ1R3TixFQUFBaFosS0FDU29NLE1BQUEsU0FBQWlLLEdBQ1Q1SSxHQUNBQSxFQUFBNEksTUFHQXNpQixFQUFBaDZCLFVBQUE0K0IsY0FBQSxTQUFBaHJCLEVBQUE4YSxFQUFBclUsRUFBQXZMLEdBQ0FzQixFQUFBek8sUUFBQWdLLEtBQUEwdUIsU0FBQSxTQUFBdDFCLEVBQUFwRyxFQUFBeXFCLEdBQ0Fya0IsRUFBQTgxQixjQUNBOTFCLEVBQUE2MUIsUUFBQWpILE9BQUEvZixFQUFBOGEsRUFBQSxXQUNBdEYsT0FJQUEsSUFDQXJrQixFQUFBNjFCLFFBQUFqSCxPQUFBL2YsRUFBQThhLEVBQUEsaUJBRVM3aEIsS0FBQSxXQUNUd04sTUFDUzVNLE1BQUEsU0FBQWlLLEdBQ1Q1SSxHQUNBQSxFQUFBNEksTUFHQXNpQixFQUFBaDZCLFVBQUE2K0IsWUFBQSxTQUFBanJCLEVBQUF5RyxFQUFBdkwsR0FDQXNCLEVBQUF6TyxRQUFBZ0ssS0FBQTB1QixTQUFBLFNBQUF0MUIsRUFBQXBHLEVBQUF5cUIsR0FDQXJrQixFQUFBODFCLGNBQ0E5MUIsRUFBQTYxQixRQUFBbkcsS0FBQTdnQixFQUFBLFdBQ0F3VixPQUlBQSxJQUNBcmtCLEVBQUE2MUIsUUFBQW5HLEtBQUE3Z0IsRUFBQSxpQkFFUy9HLEtBQUEsV0FDVHdOLE1BQ1M1TSxNQUFBLFNBQUFpSyxHQUNUNUksR0FDQUEsRUFBQTRJLE1BR0FzaUIsRUF6dkJBLEdBMnZCQXY3QixFQUFBdTdCLG1DQ254QkEsSUFBQS9vQixFQUFBdEYsV0FBQXNGLFVBQUE1UixPQUFBNlIsUUFBQSxTQUFBM0wsR0FDQSxRQUFBcEYsRUFBQXhCLEVBQUEsRUFBQWlCLEVBQUFnTSxVQUFBMUssT0FBNEN2QyxFQUFBaUIsRUFBT2pCLElBRW5ELFFBQUF1QixLQURBQyxFQUFBeUwsVUFBQWpOLEdBQ0FVLE9BQUFXLFVBQUFDLGVBQUFuQixLQUFBcUIsRUFBQUQsS0FDQXFGLEVBQUFyRixHQUFBQyxFQUFBRCxJQUVBLE9BQUFxRixHQUVBbEcsT0FBQUMsZUFBQWIsRUFBQSxjQUE4Q2tCLE9BQUEsSUFDOUMsSUFBQTJSLEVBQUEvUyxFQUFBLElBQ0E2UixFQUFBN1IsRUFBQSxHQUNBb2hDLEdBQ0FDLE9BQUEsU0FBQTUyQixFQUFBdVAsR0FDQXZQLEVBQUE2MkIsUUFBQXRuQixJQUVBdW5CLE9BQUEsU0FBQTkyQixFQUFBdVAsR0FDQXZQLEVBQUErMkIsUUFBQXhuQixJQUVBb2IsT0FBQSxTQUFBM3FCLEVBQUF1UCxHQUNBdlAsRUFBQTIxQixRQUFBcG1CLElBRUFrYyxLQUFBLFNBQUF6ckIsRUFBQXVQLEdBQ0F2UCxFQUFBK3pCLE1BQUF4a0IsSUFFQXluQixjQUFBLFNBQUFoM0IsRUFBQXVQLEdBQ0F2UCxFQUFBaTNCLE9BQUE1K0IsT0FBQWhDLE9BQUEwUixLQUFBL0gsRUFBQWszQixPQUFBNUYsV0FDQS9oQixFQUFBdlAsRUFBQWkzQixTQUVBRSxTQUFBLFNBQUFuM0IsRUFBQXVQLEdBQ0EsaUJBQUF2UCxFQUFBaTNCLE9BQUFyc0IsT0FJQTVLLEVBQUFpM0IsT0FBQTUrQixPQUFBK08sRUFBQTVQLFFBQUF3SSxFQUFBazNCLE9BQUFsdEIsT0FBQWhLLEVBQUFpM0IsT0FBQXJzQixRQUNBMkUsRUFBQXZQLEVBQUFpM0IsU0FKQTFuQixFQUFBdlAsRUFBQWkzQixVQWVBRyxFQUFBLFdBQ0EsU0FBQUEsRUFBQUYsR0FDQXYwQixLQUFBdTBCLFNBaWZBLE9BdmVBRSxFQUFBcGdDLFVBQUFxZ0MsUUFBQSxTQUFBbnJCLEVBQUFxRCxHQUNBNU0sS0FBQXMwQixPQUFBL3FCLEVBQ0F2SixLQUFBMjBCLGlCQUFBajZCLE1BQUFDLFFBQUE0TyxFQUFBdEIsT0FDQStyQixFQUFBenFCLEVBQUF5QyxRQUFBaE0sS0FBQTRNLElBU0E2bkIsRUFBQXBnQyxVQUFBdWdDLFNBQUEsU0FBQWxtQixHQUNBMU8sS0FBQTIwQixpQkFDQSxJQUFBRSxFQUFBNzBCLEtBQUFzMEIsUUFBQXhQLFFBQUFwVyxHQUdBLElBQUFvbUIsRUFBQTkwQixLQUFBczBCLE9BQUF0MEIsS0FBQXUwQixPQUFBLFNBQUE1cUIsR0FDQStFLEVBQUEvRSxFQUFBeFIsT0FBQSxTQUFBcEUsR0FBbUQsT0FBQUEsUUFJbkQwZ0MsRUFBQXBnQyxVQUFBMGdDLFVBQUEsU0FBQXByQixHQUNBLElBQUEzRSxFQUFBaEYsS0FDQUEsS0FBQXUwQixPQUFBeEYsT0FBQS91QixLQUFBczBCLE9BQUFyc0IsT0FBQWpJLEtBQUFnMUIsT0FBQXJyQixFQUVBM0osS0FBQXUwQixPQUFBdkYsV0FBQWh2QixLQUFBczBCLE9BQUFyc0IsT0FBQWpJLEtBQUFnMUIsVUFDQXJyQixFQUFBM04sUUFBQSxTQUFBakksR0FDQWlSLEVBQUF1dkIsT0FBQXZGLFdBQUFocUIsRUFBQXN2QixPQUFBcnNCLE9BQUFqRCxFQUFBZ3dCLE9BQUFqaEMsRUFBQWlSLEVBQUF1dkIsT0FBQTVGLFVBQUEzcEIsRUFBQXN2QixPQUFBcnNCLE9BQUFvcEIsT0FBQSxLQVdBb0QsRUFBQXBnQyxVQUFBNi9CLFFBQUEsU0FBQXRuQixHQUNBLElBQUE1SCxFQUFBaEYsS0FDQUEsS0FBQWcxQixNQUFBdndCLEVBQUE5TCxLQUFBNUQsS0FBQUUsVUFBQXFRLEtBQWdFdEYsS0FBQXMwQixRQUFnQjFtQixRQUFBLFNBQ2hGLElBQUFxbkIsR0FBQWoxQixLQUFBczBCLE9BQUFsYyxPQUFBcFksS0FBQXMwQixPQUFBWSxLQUFBbDFCLEtBQUF1MEIsT0FBQTFGLFdBQUFuMEIsTUFBQUMsUUFBQXFGLEtBQUFzMEIsT0FBQXJzQixPQU9BakksS0FBQTQwQixTQUFBLFNBQUFqckIsSUFFQSx5RUFBQXhSLE9BQUEsU0FBQStXLEdBQXVILE9BQUFsSyxFQUFBc3ZCLE9BQUFwbEIsS0FBMEIzWixPQU9qSixJQUFBNC9CLEVBQUFud0IsRUFBQXN2QixPQUFBdHZCLEVBQUF1dkIsUUFBQWEsdUJBQUF6ckIsRUFBQSxTQUFBb2IsR0FDQWtRLEdBQ0Fqd0IsRUFBQSt2QixVQUFBcHJCLEdBQ0EzRSxFQUFBc3ZCLE9BQUE1K0IsT0FBQXF2QixFQUNBblksRUFBQTVILEVBQUFzdkIsV0FWQVcsR0FDQWp3QixFQUFBK3ZCLFVBQUFwckIsR0FDQTNFLEVBQUFzdkIsT0FBQTUrQixPQUFBaVUsRUFDQWlELEVBQUE1SCxFQUFBc3ZCLFlBWUFHLEVBQUFwZ0MsVUFBQWdoQyxlQUFBLFNBQUFDLEVBQUFDLEVBQUFwd0IsRUFBQXF3QixFQUFBOW1CLEdBQ0EsSUFBQTFKLEVBQUFoRixLQUNBQSxLQUFBdTBCLE9BQUE1RixVQUFBMkcsRUFBQWhGLFlBQUFlLElBQ0FyeEIsS0FBQXUwQixPQUFBaEQsTUFBQStELEVBQUFoRixXQUFBaUYsRUFBQSxTQUFBNXJCLEdBQ0FsRixFQUFBek8sUUFBQTJULEVBQUEsU0FBQWdGLEVBQUEzYixFQUFBZ3dCLEdBQ0EsSUFBQW1ILEVBQUF6MkIsT0FBQXd2QixTQUFBdlUsR0FBQWxLLEVBQUE1UCxRQUFBOFosS0FDQSxhQUFBMm1CLEVBQUE5RSxVQUFBLENBQ0FyRyxFQUFBbUwsRUFBQS9FLGFBQUFwRyxFQUFBbUwsRUFBQS9FLGlCQUNBLElBQUFrRixFQUFBdEwsRUFBQW1MLEVBQUEvRSxhQUFBNzVCLFFBQUE4K0IsR0FDQXJ3QixHQUNBLElBQUFzd0IsRUFDQXRMLEVBQUFtTCxFQUFBL0UsYUFBQTU2QixLQUFBNi9CLEdBR0F4UyxLQUlBLElBQUF5UyxFQUNBdEwsRUFBQW1MLEVBQUEvRSxhQUFBaDFCLE9BQUFrNkIsRUFBQSxHQUdBelMsSUFHQW1ILEVBQUFtTCxFQUFBL0UsYUFBQTdHLFlBSUFTLEVBQUFtTCxFQUFBL0UsYUFEQXByQixFQUNBcXdCLEVBR0EsS0FHQXh3QixFQUFBdXZCLE9BQUFoRyxNQUFBaGxCLE1BQUEsU0FBQTRnQixHQUFBN0csUUFBQSxhQUFBOVosWUFBNEZ2QixNQUFBcXRCLEVBQUFoRixhQUE2QnB2QixLQUFBOGhCLEtBQzVHOWhCLEtBQUF3TixNQUdiK2xCLEVBQUFwZ0MsVUFBQXFoQyxTQUFBLFNBQUEvN0IsRUFBQWc4QixFQUFBQyxFQUFBbG5CLEdBQ0EsSUFBQTFKLEVBQUFoRixLQUNBLEdBQUFBLEtBQUF1MEIsT0FBQXRFLFFBQUEsQ0FJQSxJQUFBNEYsRUFBQTcxQixLQUFBdTBCLE9BQUE5RSxZQUFBenZCLEtBQUFzMEIsT0FBQXJzQixPQUNBLFFBQUFqSSxLQUFBczBCLE9BQUFwVCxTQUFBeHFCLFFBQUEsYUFJQSxHQUFBbS9CLEtBQUF0Z0MsT0FBQSxDQU9BLElBRkEsSUFBQXVnQyxFQUFBaC9CLEtBQUFxbkIsSUFBQXdYLEVBQUFwZ0MsT0FBQXFnQyxFQUFBcmdDLFFBQ0F3Z0MsS0FDQUQsS0FDQUMsRUFBQXBnQyxLQUFBLEtBQ0E4TyxFQUFBdlAsVUFBQTZnQyxFQUFBLFNBQUE5NkIsRUFBQWlLLEVBQUE4ZCxHQUNBdmUsRUFBQXpPLFFBQUE2L0IsRUFBQSxTQUFBUCxFQUFBcG1CLEVBQUE4bUIsR0FDQSxJQUFBQyxFQUFBQyxFQVdBLE9BQUF2OEIsR0FDQSxVQUNBLElBQUF3OEIsRUFBQVIsRUFBQXp3QixHQUFBRixFQUFBdXZCLE9BQUE1RixVQUFBM3BCLEVBQUFzdkIsT0FBQXJzQixPQUFBb3BCLEtBQ0ErRSxFQUFBLFVBQUFkLEVBQUF0RixVQUFBMkYsRUFBQXp3QixHQUFBb3dCLEVBQUFqRixrQkFBQXNGLEVBQUF6d0IsR0FBQW93QixFQUFBakYsY0FBQWw0QixPQUFBLFNBQUE4QyxHQUFpTCxPQUFBQSxJQUNqTCtKLEVBQUFxd0IsZUFBQUMsRUFBQWMsR0FBQSxFQUFBRCxFQUFBSCxHQUNBLE1BQ0EsVUFDQSxJQUFBSyxFQUFBVCxFQUFBMXdCLEdBQUFGLEVBQUF1dkIsT0FBQTVGLFVBQUEzcEIsRUFBQXN2QixPQUFBcnNCLE9BQUFvcEIsS0FHQSxHQUFBc0UsRUFBQXp3QixHQUVBLEdBdkJBK3dCLEVBdUJBTixFQUFBendCLEdBQUFvd0IsRUFBQWpGLGFBdkJBNkYsRUF1QkFOLEVBQUExd0IsR0FBQW93QixFQUFBakYsYUF0QkEzMUIsTUFBQUMsUUFBQXM3QixJQUFBdjdCLE1BQUFDLFFBQUF1N0IsR0FDQUQsRUFBQTFnQyxTQUFBMmdDLEVBQUEzZ0MsUUFHQTBnQyxFQUFBOTlCLE9BQUEsU0FBQThDLEVBQUFqSSxHQUE0RCxPQUFBaUksSUFBQWk3QixFQUFBbGpDLEtBQXdCdUMsT0FBQSxFQUdwRjBnQyxJQUFBQyxFQWlCQUYsU0FHQSxhQUFBVixFQUFBdEYsVUFBQSxDQUNBLElBQUFzRyxHQUFBVixFQUFBMXdCLEdBQUFvd0IsRUFBQWpGLGtCQUFBbDRCLE9BQUEsU0FBQThDLEdBQWlILFlBQUEwNkIsRUFBQXp3QixHQUFBb3dCLEVBQUFqRixrQkFBQTM1QixRQUFBdUUsS0FDakhzN0IsR0FBQVosRUFBQXp3QixHQUFBb3dCLEVBQUFqRixrQkFBQWw0QixPQUFBLFNBQUE4QyxHQUFvSCxZQUFBMjZCLEVBQUExd0IsR0FBQW93QixFQUFBakYsa0JBQUEzNUIsUUFBQXVFLEtBQ3BId0osRUFBQXpPLFNBQUFzZ0MsRUFBQUMsR0FBQSxTQUFBQyxFQUFBeGpDLEVBQUF5cUIsR0FDQXpZLEVBQUFxd0IsZUFBQUMsRUFBQWtCLEVBQUEsSUFBQXhqQyxFQUFBcWpDLEVBQUE1WSxLQUNxQ3ZjLEtBQUE4MEIsT0FFckMsQ0FDQSxJQUFBUyxFQUFBLFdBRUEsT0FBQWIsRUFBQTF3QixHQUFBb3dCLEVBQUFqRixtQkFBQTcyQixJQUFBbzhCLEVBQUExd0IsR0FBQW93QixFQUFBakYsYUFDQXJyQixFQUFBcXdCLGVBQUFDLEdBQUFNLEVBQUExd0IsR0FBQW93QixFQUFBakYsZUFBQSxFQUFBZ0csRUFBQUwsR0FJQUEsS0FJQSxPQUFBTCxFQUFBendCLEdBQUFvd0IsRUFBQWpGLG1CQUFBNzJCLElBQUFtOEIsRUFBQXp3QixHQUFBb3dCLEVBQUFqRixhQUNBcnJCLEVBQUFxd0IsZUFBQUMsR0FBQUssRUFBQXp3QixHQUFBb3dCLEVBQUFqRixlQUFBLEVBQUFnRyxFQUFBSSxHQUlBQSxRQUtBLENBQ0EsSUFBQUMsRUFBQSxVQUFBcEIsRUFBQXRGLFVBQUE0RixFQUFBMXdCLEdBQUFvd0IsRUFBQWpGLGtCQUFBdUYsRUFBQTF3QixHQUFBb3dCLEVBQUFqRixjQUFBbDRCLE9BQUEsU0FBQThDLEdBQXVMLE9BQUFBLElBQ3ZMeTdCLEtBQUFuaEMsT0FDQXlQLEVBQUFxd0IsZUFBQUMsRUFBQW9CLEdBQUEsRUFBQUwsRUFBQUwsR0FHQUEsUUFLYTkwQixLQUFBOGhCLEtBQ0o5aEIsS0FBQXdOLFFBL0VUQSxTQUpBQSxTQUxBQSxLQW1HQStsQixFQUFBcGdDLFVBQUFzaUMsZ0JBQUEsU0FBQUMsRUFBQXJULEVBQUE3VSxHQUNBLElBQUExSixFQUFBaEYsS0FDQUEsS0FBQXUwQixPQUFBWCxVQUtBLE9BQUFnRCxRQUFBcDlCLElBQUFvOUIsRUFJQW55QixFQUFBek8sUUFBQXRDLE9BQUEwUixLQUFBcEYsS0FBQXUwQixPQUFBNUYsVUFBQTN1QixLQUFBczBCLE9BQUFyc0IsT0FBQWhDLFFBQUEsU0FBQWdDLEVBQUFqVixFQUFBeXFCLEdBQ0EsSUFBQXNGLEVBQUEvZCxFQUFBdXZCLE9BQUE1RixVQUFBM3BCLEVBQUFzdkIsT0FBQXJzQixPQUFBaEMsT0FBQWdDLEdBQUE0bkIsU0FFQSxRQUFBcjJCLElBQUFvOUIsRUFBQTdULEdBQUEsQ0FLQSxHQUFBNlQsRUFBQTdULEtBQUFRLEVBQUFSLEdBS0EsY0FBQTZULEVBQUE3VCxJQUNBL2QsRUFBQXV2QixPQUFBNUYsVUFBQTNwQixFQUFBc3ZCLE9BQUFyc0IsT0FBQWhDLE9BQUFnQyxHQUFBNHJCLFFBQUE3M0IsUUFBQSxTQUFBNjZCLEdBQ0FELEVBQUFDLEVBQUEvQyxZQUFBLFlBRUFyVyxVQUlBelksRUFBQXV2QixPQUFBaEQsTUFBQXRwQixHQUFBMnVCLEVBQUE3VCxJQUFBLFNBQUErVCxHQUVBLElBQUFBLEVBQUF2aEMsUUFBQSxTQUFBeVAsRUFBQXV2QixPQUFBNUYsVUFBQTNwQixFQUFBc3ZCLE9BQUFyc0IsT0FBQWhDLE9BQUFnQyxHQUFBUyxLQUtBLE9BSkExRCxFQUFBdXZCLE9BQUE1RixVQUFBM3BCLEVBQUFzdkIsT0FBQXJzQixPQUFBaEMsT0FBQWdDLEdBQUE0ckIsUUFBQTczQixRQUFBLFNBQUE2NkIsR0FDQUQsRUFBQUMsRUFBQS9DLFlBQUEsWUFFQXJXLElBSUF6WSxFQUFBdXZCLE9BQUE1RixVQUFBM3BCLEVBQUFzdkIsT0FBQXJzQixPQUFBaEMsT0FBQWdDLEdBQUE0ckIsUUFBQTczQixRQUFBLFNBQUE2NkIsR0FDQUQsRUFBQUMsRUFBQS9DLFlBQUFnRCxFQUFBLEdBQUFELEVBQUE5QyxlQUVBdFcsTUF6QkFBLFNBTEFBLE1BZ0NTdmMsS0FBQSxXQUNUd04sRUFBQWtvQixLQXhDQWxvQixFQUFBa29CLE9BTEFsb0IsRUFBQWtvQixJQXdEQW5DLEVBQUFwZ0MsVUFBQTBpQyxtQkFBQSxTQUFBQyxFQUFBQyxFQUFBdm9CLEdBQ0EsSUFBQTFKLEVBQUFoRixLQUNBK2lCLEVBQUEvaUIsS0FBQXUwQixPQUFBNUYsVUFBQTN1QixLQUFBczBCLE9BQUFyc0IsT0FBQW9wQixJQUVBNXNCLEVBQUF6TyxRQUFBZ2hDLEVBQUEsU0FBQXJvQixFQUFBM2IsRUFBQXlxQixHQUVBaFosRUFBQXpPLFFBQUFnUCxFQUFBdXZCLE9BQUE1RixVQUFBM3BCLEVBQUFzdkIsT0FBQXJzQixPQUFBMm5CLFlBQUEsU0FBQXNILEVBQUFsa0MsRUFBQWd3QixHQUVBaVUsR0FBQSxVQUFBanlCLEVBQUF1dkIsT0FBQTVGLFVBQUF1SSxFQUFBanZCLE9BQUFoQyxPQUFBakIsRUFBQXN2QixPQUFBcnNCLE9BQUFTLEtBQ0FzYSxJQUdBaGUsRUFBQXV2QixPQUFBeEMsb0JBQUFtRixFQUFBanZCLE1BQUFpdkIsRUFBQXpuQixPQUFBZCxFQUFBb1UsR0FBQSxTQUFBb1UsR0FFQSxHQUFBQSxFQUFBNWhDLE9BQUEsQ0FJQSxJQUFBcytCLEVBQUE3dUIsRUFBQXV2QixPQUFBNUYsVUFBQXVJLEVBQUFqdkIsT0FBQWhDLE9BQUFqQixFQUFBc3ZCLE9BQUFyc0IsT0FBQTRyQixRQUNBdUQsRUFBQXB5QixFQUFBdXZCLE9BQUE1RixVQUFBdUksRUFBQWp2QixPQUFBaEMsT0FBQWpCLEVBQUFzdkIsT0FBQXJzQixPQUFBNG5CLFNBRUFwckIsRUFBQXpPLFFBQUFtaEMsRUFBQSxTQUFBRSxFQUFBcmEsRUFBQXNhLEdBQ0EsSUFBQXRrQyxFQUFBNmdDLEVBQUF0K0IsT0FDQWdpQyxHQUFBLEVBQ0EsR0FBQU4sR0FDQSxZQUFBanlCLEVBQUF1dkIsT0FBQTVGLFVBQUF1SSxFQUFBanZCLE9BQUFoQyxPQUFBakIsRUFBQXN2QixPQUFBcnNCLE9BQUFTLEtBR0EsSUFGQTZ1QixHQUFBLEVBQ0FGLEVBQUFELEdBQUEsS0FDQXBrQyxLQUNBcWtDLEVBQUF4RCxFQUFBN2dDLEdBQUErZ0MsYUFBQSxVQUtBLEtBQUEvZ0MsS0FDQXFrQyxFQUFBeEQsRUFBQTdnQyxHQUFBK2dDLGVBQUFwbEIsRUFBQWtsQixFQUFBN2dDLEdBQUE4Z0MsY0FDQXVELEVBQUF4RCxFQUFBN2dDLEdBQUErZ0MsYUFBQXBsQixFQUFBa2xCLEVBQUE3Z0MsR0FBQThnQyxZQUNBeUQsR0FBQSxHQUlBLEdBQUFBLEVBQUEsQ0FJQSxJQUFBQyxFQUFBeHlCLEVBQUF1dkIsT0FBQTVGLFVBQUF1SSxFQUFBanZCLE9BQUFvcEIsSUFDQXJzQixFQUFBdXZCLE9BQUE5QyxhQUFBeUYsRUFBQWp2QixNQUFBb3ZCLEVBQUFHLEdBQUFILEVBQUFDLFFBSkFBLE1BS3FCcDJCLEtBQUE4aEIsUUFoQ3JCQSxRQWtDYTloQixLQUFBdWMsS0FDSnZjLEtBQUF3TixJQUVUK2xCLEVBQUFwZ0MsVUFBQW9qQyxjQUFBLFNBQUE3QixFQUFBcUIsRUFBQXJxQixHQUNBLElBQUE1SCxFQUFBaEYsS0FFQUEsS0FBQXUwQixPQUFBWCxXQUFBNXpCLEtBQUF1MEIsT0FBQTVGLFVBQUEzdUIsS0FBQXMwQixPQUFBcnNCLE9BQUEybkIsWUFBQXI2QixPQUlBeUssS0FBQSsyQixtQkFBQW5CLEVBQUFxQixFQUFBLFdBQ0FycUIsRUFBQTVILEVBQUFzdkIsVUFKQTFuQixFQUFBNU0sS0FBQXMwQixTQWVBRyxFQUFBcGdDLFVBQUErL0IsUUFBQSxTQUFBeG5CLEdBQ0EsSUFBQTVILEVBQUFoRixLQUNBK2lCLEVBQUEvaUIsS0FBQXUwQixPQUFBNUYsVUFBQTN1QixLQUFBczBCLE9BQUFyc0IsT0FBQW9wQixJQUNBLEdBQUFyeEIsS0FBQTIwQixpQkFDQTMwQixLQUFBNDBCLFNBQUEsU0FBQWpyQixHQUNBM0UsRUFBQXN2QixPQUFBNStCLE9BQUFzUCxFQUFBc3ZCLE9BQUFyc0IsTUFBQS9SLElBQUEsU0FBQW5DLEdBQ0EsV0FBQTRWLEVBQUFqVCxRQUFBM0MsR0FDQUEsRUFFQXVSLEtBQXNDTixFQUFBc3ZCLE9BQUFocEIsV0FBQXZYLEtBRXRDNlksRUFBQTVILEVBQUFzdkIsZUFJQSxHQUFBdDBCLEtBQUFzMEIsT0FBQTVxQixNQUNBMUosS0FBQTQwQixTQUFBLFNBQUFqckIsR0FDQUEsRUFBQXBVLE9BQ0FrUCxFQUFBdlAsVUFBQXlVLEVBQUEsU0FBQTVWLEVBQUFmLEVBQUFnd0IsR0FDQWhlLEVBQUEyeEIsZ0JBQUEzeEIsRUFBQXN2QixPQUFBaHBCLGVBQTJFdlgsRUFBQSxTQUFBMmpDLEdBQzNFMXlCLEVBQUF1dkIsT0FBQTNCLE9BQUE1dEIsRUFBQXN2QixPQUFBcnNCLE1BQUFsVSxFQUFBZ3ZCLEdBQUFodkIsRUFBQTJqQyxFQUFBMVUsT0FFcUI5aEIsS0FBQSxTQUFBMDBCLEdBRXJCLElBQUE1TyxFQUFBNE8sRUFBQTEvQixJQUFBLFNBQUFuQyxHQUE0RCxPQUFBQSxFQUFBZ3ZCLEtBQzVEL2QsRUFBQXV2QixPQUFBekQsaUJBQUE5ckIsRUFBQXN2QixPQUFBcnNCLE1BQUErZSxHQUNBaGlCLEVBQUFzdkIsT0FBQTUrQixTQUFnRCsxQixJQUFBbUssRUFBQXJnQyxPQUFBLG1CQUFBeVksZUFBQWdaLEVBQUEvWSxhQUFBMm5CLElBQ2hENXdCLEVBQUEwd0IsU0FBQSxNQUFBL3JCLEVBQUFpc0IsRUFBQSxXQUNBNXdCLEVBQUF5eUIsY0FBQTdCLEdBQUEsRUFBQWhwQixRQUtBNUgsRUFBQXN2QixPQUFBNStCLFNBQTRDKzFCLElBQUEsb0JBQUF6ZCxrQkFBQUMsa0JBQzVDckIsRUFBQTVILEVBQUFzdkIsZUFJQSxDQUNBLElBQUFsbEIsRUFBQXBQLEtBQUFzMEIsT0FBQWhwQixlQUNBdEwsS0FBQXUwQixPQUFBeEYsT0FBQS91QixLQUFBczBCLE9BQUFyc0IsVUFDQSxJQUFBMHZCLEVBQUEsU0FBQTlFLEdBQ0E3dEIsRUFBQTJ4QixnQkFBQXZuQixFQUFBeWpCLEVBQUEsU0FBQTZFLEdBQ0ExeUIsRUFBQXV2QixPQUFBM0IsT0FBQTV0QixFQUFBc3ZCLE9BQUFyc0IsTUFBQW1ILEVBQUEyVCxHQUFBOFAsRUFBQTZFLEVBQUEsU0FBQWhpQyxHQUNBc1AsRUFBQXN2QixPQUFBNStCLFNBQWdEKzFCLElBQUEsa0JBQUF6ZCxnQkFBQXRZLEVBQUFxdEIsSUFBQTlVLGNBQUF2WSxLQUNoRHNQLEVBQUF1dkIsT0FBQXRFLFFBQ0FqckIsRUFBQTB3QixTQUFBLE9BQUE3QyxHQUFBMTZCLE9BQUEsU0FBQXBFLEdBQWdGLE9BQUFBLEtBQVkyQixHQUFBLFdBQzVGc1AsRUFBQXl5QixlQUFBL2hDLElBQUEsRUFBQWtYLEtBSUE1SCxFQUFBeXlCLGVBQUEvaEMsSUFBQSxFQUFBa1gsYUFLQXBULElBQUE0VixFQUFBMlQsR0FDQS9pQixLQUFBdTBCLE9BQUFoRCxNQUFBdnhCLEtBQUFzMEIsT0FBQXJzQixPQUFBbUgsRUFBQTJULElBQUEsU0FBQXBaLEdBQ0FBLEVBQUFwVSxPQUNBb2lDLEVBQUFodUIsRUFBQSxJQUdBZ3VCLEVBQUEsUUFLQUEsRUFBQSxRQVlBbEQsRUFBQXBnQyxVQUFBMitCLFFBQUEsU0FBQXBtQixHQUNBLElBQUE1SCxFQUFBaEYsS0FDQUEsS0FBQTIwQixpQkFDQTMwQixLQUFBczBCLE9BQUE1cUIsTUFDQTFKLEtBQUE0MEIsU0FBQSxTQUFBanJCLEdBQ0EzRSxFQUFBc3ZCLE9BQUE1K0IsT0FBQXNQLEVBQUFzdkIsT0FBQXJzQixNQUFBOVAsT0FBQSxTQUFBd1csR0FDQSxXQUFBaEYsRUFBQWpULFFBQUFpWSxLQUVBL0IsRUFBQTVILEVBQUFzdkIsV0FJQXQwQixLQUFBczBCLE9BQUE1K0IsVUFDQWtYLEVBQUE1TSxLQUFBczBCLFNBSUF0MEIsS0FBQXMwQixPQUFBNXFCLE1BQ0ExSixLQUFBNDBCLFNBQUEsU0FBQWpyQixJQUNBQSxJQUFBeFIsT0FBQSxTQUFBcEUsR0FBaUQsT0FBQUEsS0FDakR3QixPQUNBa1AsRUFBQXpPLFFBQUEyVCxFQUFBLFNBQUE1VixFQUFBZixFQUFBeXFCLEdBQ0F6WSxFQUFBdXZCLE9BQUF2QixRQUFBaHVCLEVBQUFzdkIsT0FBQXJzQixNQUFBbFUsRUFBQWlSLEVBQUF1dkIsT0FBQTVGLFVBQUEzcEIsRUFBQXN2QixPQUFBcnNCLE9BQUFvcEIsS0FBQTVULEtBQ3FCdmMsS0FBQSxTQUFBK00sR0FFckJqSixFQUFBdXZCLE9BQUF4RixPQUFBL3BCLEVBQUFzdkIsT0FBQXJzQixVQUNBLElBQUErZSxFQUFBcmQsRUFBQXpULElBQUEsU0FBQW5DLEdBQXlELE9BQUFBLEVBQUFpUixFQUFBdXZCLE9BQUE1RixVQUFBM3BCLEVBQUFzdkIsT0FBQXJzQixPQUFBb3BCLE9BQ3pEcnNCLEVBQUF1dkIsT0FBQXpELGlCQUFBOXJCLEVBQUFzdkIsT0FBQXJzQixNQUFBK2UsR0FDQWhpQixFQUFBc3ZCLE9BQUE1K0IsU0FBZ0QrMUIsSUFBQTloQixFQUFBcFUsT0FBQSxtQkFBQXlZLGVBQUFnWixFQUFBL1ksYUFBQXRFLElBQ2hEM0UsRUFBQTB3QixTQUFBLE1BQUEvckIsS0FBQSxXQUNBM0UsRUFBQXl5QixjQUFBOXRCLEdBQUEsRUFBQWlELFFBS0E1SCxFQUFBc3ZCLE9BQUE1K0IsU0FBNEMrMUIsSUFBQSxvQkFBQXpkLGtCQUFBQyxrQkFDNUNyQixFQUFBNUgsRUFBQXN2QixXQUtBdDBCLEtBQUFveEIsTUFBQXhrQixJQVdBNm5CLEVBQUFwZ0MsVUFBQSs4QixNQUFBLFNBQUF4a0IsR0FDQSxJQUFBNUgsRUFBQWhGLEtBQ0EsR0FBQUEsS0FBQTIwQixpQkFHQSxPQUZBMzBCLEtBQUFzMEIsT0FBQTUrQixlQUNBa1gsRUFBQTVNLEtBQUFzMEIsUUFHQXQwQixLQUFBdTBCLE9BQUF0QyxXQUFBanlCLEtBQUFzMEIsT0FBQXJzQixXQUFBek8sVUFBQSxXQUFBbVEsR0FDQTNFLEVBQUF1dkIsT0FBQXhGLE9BQUEvcEIsRUFBQXN2QixPQUFBcnNCLFVBQ0FqRCxFQUFBdXZCLE9BQUF2RixXQUFBaHFCLEVBQUFzdkIsT0FBQXJzQixVQUNBakQsRUFBQXV2QixPQUFBbkQsTUFBQXBzQixFQUFBc3ZCLE9BQUFyc0IsTUFBQSxXQUNBakQsRUFBQXN2QixPQUFBNStCLFNBQXdDKzFCLElBQUEsSUFBQXptQixFQUFBc3ZCLE9BQUFyc0IsTUFBQSxtQkFBQStGLGVBQUFyRSxFQUFBelQsSUFBQSxTQUFBbkMsR0FBNEYsT0FBQUEsRUFBQWlSLEVBQUF1dkIsT0FBQTVGLFVBQUEzcEIsRUFBQXN2QixPQUFBcnNCLE9BQUFvcEIsT0FBNERwakIsYUFBQXRFLElBQ2hNM0UsRUFBQTB3QixTQUFBLE1BQUEvckIsS0FBQSxXQUNBM0UsRUFBQXl5QixjQUFBOXRCLEdBQUEsRUFBQWlELFVBS0E2bkIsRUFuZkEsR0FxZkEzaEMsRUFBQTJoQyx1QkFTQSxJQUFBVSxFQUFBLFdBQ0EsU0FBQUEsRUFBQWhELEVBQUEzOUIsR0FDQXdMLEtBQUFteUIsSUFDQW55QixLQUFBeEwsSUFDQXdMLEtBQUE0M0IsbUJBdWVBLE9BNWRBekMsRUFBQTlnQyxVQUFBd2pDLE1BQUEsU0FBQWx1QixFQUFBK0UsR0FDQSxJQUFBMUosRUFBQWhGLEtBQ0EsR0FBQUEsS0FBQW15QixFQUFBL1osS0FBQSxDQUlBLElBQUEwZixLQUNBLFVBQUE5M0IsS0FBQW15QixFQUFBL1osS0FBQXplLE1BQUFxRyxLQUFBbXlCLEVBQUEvWixLQUFBMU8sUUFDQW91QixHQUNBQyxNQUFBLzNCLEtBQUFteUIsRUFBQS9aLEtBQUExTyxNQUFBLEdBQ0FzdUIsT0FBQWg0QixLQUFBbXlCLEVBQUEvWixLQUFBMU8sTUFBQSxHQUNBdXVCLE9BQUFqNEIsS0FBQW15QixFQUFBL1osS0FBQTFPLE1BQUEsS0FHQSxJQUFBd3VCLEVBQUFsNEIsS0FBQW15QixFQUFBbHFCLE1BQ0Frd0IsRUFBQW40QixLQUFBbXlCLEVBQUEvWixLQUFBblEsTUFDQWpJLEtBQUFvNEIsUUFBQXA0QixLQUFBbXlCLEVBQUEvWixLQUFBemUsS0FBQXUrQixFQUFBQyxFQUFBTCxFQUFBLFNBQUFPLEdBQ0FyekIsRUFBQW10QixFQUFBem9CLE1BQ0FnRixFQUFBMnBCLEVBQUFsZ0MsT0FBQSxTQUFBd1csRUFBQXpKLEdBQ0EsT0FBQXhLLE1BQUFDLFFBQUFxSyxFQUFBbXRCLEVBQUF6b0IsT0FBQTR1QixFQUFBM3BCLEVBQUEzSixFQUFBbXRCLEVBQUF6b0IsVUFBQXhFLEdBQUEsR0FBQUYsRUFBQW10QixFQUFBem9CLE1BQUFpRixFQUFBekosTUFHQUYsRUFBQW10QixFQUFBeE8sTUFDQWpWLEVBQUEycEIsRUFBQWxnQyxPQUFBLFNBQUF3VyxFQUFBekosR0FDQSxPQUFBRixFQUFBbXRCLEVBQUF4TyxPQUFBM2UsRUFBQW10QixFQUFBeE8sTUFBQSxJQUFBemUsR0FBQUYsRUFBQW10QixFQUFBeE8sTUFBQSxJQUFBemUsS0FJQXdKLEVBQUEycEIsVUF6QkEzcEIsRUFBQS9FLElBc0NBd3JCLEVBQUE5Z0MsVUFBQWtrQyxZQUFBLFNBQUExRSxFQUFBbGxCLEdBQ0EsT0FBQWtsQixFQUFBdDhCLE9BQUEsU0FBQWhELEVBQUFsQixHQUVBLFdBQUFBLEVBQUFxRCxRQUFBLFdBQ0FuQyxFQUFBLElBQUFxRyxRQUFBK1QsRUFBQXRiLEVBQUFrSCxRQUFBLG9CQUFBaEYsUUFHQWhCLEVBQUEsSUFBQXFHLE9BQUErVCxFQUFBdGIsS0FFUyxJQUFBaUYsTUFBQSxJQVVUNjhCLEVBQUE5Z0MsVUFBQW1rQyxTQUFBLFNBQUE3dUIsR0FDQSxJQUFBM0UsRUFBQWhGLEtBQ0E2ekIsRUFBQTd6QixLQUFBbXlCLEVBQUFzRyxZQUNBQyxFQUFBL3VCLEVBQUErZixLQUFBLFNBQUF0d0IsRUFBQWYsR0FDQSxPQUFBMk0sRUFBQTJ6QixTQUFBdi9CLEVBQUFmLEVBQUF3N0IsR0FBQSxLQVlBLE9BVkE2RSxFQUFBMThCLFFBQUEsU0FBQXRDLEVBQUF3TCxHQUNBLElBQUEwekIsRUFBQWxsQyxPQUFBMFIsS0FBQXl1QixHQUFBMzlCLElBQUEsU0FBQWdaLEdBQW9FLE9BQUF0VSxPQUFBbEIsRUFBQXdWLEtBQUEsS0FBK0JrSixLQUFBLEtBQ25HcFQsRUFBQTZ6QixjQUNBN3pCLEVBQUE2ekIsZ0JBRUE3ekIsRUFBQTZ6QixZQUFBRCxLQUNBNXpCLEVBQUE2ekIsWUFBQUQsT0FFQTV6QixFQUFBNnpCLFlBQUFELEdBQUFqakMsS0FBQXVQLEtBRUF3ekIsR0FVQXZELEVBQUE5Z0MsVUFBQXlrQyxRQUFBLFNBQUFudkIsR0FDQSxJQUFBM0UsRUFBQWhGLEtBQ0EsT0FBQTJKLEVBQUF4UixPQUFBLFNBQUF3VyxFQUFBekosR0FDQSxPQUFBeEssTUFBQUMsUUFBQXFLLEVBQUFtdEIsRUFBQTRHLFFBQUFULEVBQUEzcEIsRUFBQTNKLEVBQUFtdEIsRUFBQTRHLFdBQUE3ekIsR0FBQSxHQUFBRixFQUFBbXRCLEVBQUE0RyxPQUFBcHFCLEVBQUF6SixNQVdBaXdCLEVBQUE5Z0MsVUFBQTJrQyxTQUFBLFNBQUFydkIsR0FDQSxJQUFBM0UsRUFBQWhGLEtBQ0EsT0FBQTJKLEVBQUErZixLQUFBLFNBQUF0d0IsRUFBQWYsR0FDQSxPQUFBMk0sRUFBQTJ6QixTQUFBdi9CLEVBQUFmLEVBQUEyTSxFQUFBbXRCLEVBQUE4RyxhQUE2RCxNQVc3RDlELEVBQUE5Z0MsVUFBQTZrQyxRQUFBLFNBQUF2dkIsR0FDQSxJQUFBM0UsRUFBQWhGLEtBQ0EsT0FBQTJKLEVBQUF4UixPQUFBLFNBQUF3VyxFQUFBaE0sR0FDQSxPQUFBcUMsRUFBQW10QixFQUFBZ0gsUUFBQXgyQixHQUFBcUMsRUFBQW10QixFQUFBZ0gsVUFXQWhFLEVBQUE5Z0MsVUFBQStrQyxPQUFBLFNBQUF6dkIsR0FDQSxJQUFBM0UsRUFBQWhGLEtBQ0EsT0FBQTJKLEVBQUF4UixPQUFBLFNBQUF3VyxFQUFBaE0sR0FDQSxPQUFBcUMsRUFBQW10QixFQUFBa0gsT0FBQTEyQixFQUFBcUMsRUFBQW10QixFQUFBa0gsU0FXQWxFLEVBQUE5Z0MsVUFBQWlsQyxLQUFBLFNBQUEzdkIsRUFBQStFLEdBQ0EsSUFBQTFKLEVBQUFoRixLQUNBdTVCLEVBQUF2NUIsS0FBQW15QixFQUFBK0MsSUFBQWwxQixLQUFBbXlCLEVBQUErQyxJQUFBaC9CLElBQUEsU0FBQXpDLEdBQ0EsdUJBQUFBLEdBRUEwSyxJQUFBMUssRUFDQTRsQyxNQUFBLEdBR0E1bEMsT0FFQWdSLEVBQUF6TyxRQUFBMlQsRUFBQSxTQUFBZ0YsRUFBQTNiLEVBQUF3bUMsR0FDQTdxQixFQUFBamIsT0FBQXd2QixTQUFBdlUsR0FBQWxLLEVBQUE1UCxRQUFBOFosS0FDQWxLLEVBQUF6TyxRQUFBdWpDLEVBQUEsU0FBQXJFLEVBQUFobUIsRUFBQXVxQixHQUNBLEdBQUE5cUIsRUFBQXVtQixFQUFBLzJCLE1BQUF3USxFQUFBdW1CLEVBQUEvMkIsS0FBQTVJLE9BQUEsQ0FJQSxJQUFBbWtDLEVBQUExMEIsRUFBQXhRLEVBQUFtN0Isa0JBQUEzcUIsRUFBQW10QixFQUFBbHFCLE9BQUFpdEIsRUFBQS8yQixLQUNBdTdCLEVBQ0ExMEIsRUFBQXhRLEVBQUErNUIsTUFBQWhsQixNQUFBLFVBQUFHLE9BQUExRSxFQUFBeFEsRUFBQW02QixVQUFBK0ssRUFBQTNKLFVBQUFzQixJQUFBLFVBQUFxSSxFQUFBMUosVUFBQSxTQUFBcmhCLEVBQUF1bUIsRUFBQS8yQixPQUFBcUwsWUFBK0t2QixNQUFBeXhCLEVBQUEzSixXQUE2Qjd1QixLQUFBLFNBQUF5SSxHQUM1TSxJQUFBd29CLEVBQUF4c0IsRUFBQW1MLE9BQUF2SCxNQUFBLFNBQUEyckIsRUFBQWpCLFFBQ0FpQixFQUFBeHJCLE9BQ0F5b0IsRUFBQXpvQixNQUFBd3JCLEVBQUF4ckIsWUFFQWxRLElBQUEwN0IsRUFBQW1FLE9BQ0FsSCxFQUFBa0gsTUFBQW5FLEVBQUFtRSxZQUVBNy9CLElBQUEwN0IsRUFBQWlFLFFBQ0FoSCxFQUFBZ0gsT0FBQWpFLEVBQUFpRSxRQUVBakUsRUFBQStELFNBQ0E5RyxFQUFBOEcsUUFBQS9ELEVBQUErRCxTQUVBL0QsRUFBQXVELFNBQ0F0RyxFQUFBc0csUUFBQXZELEVBQUF1RCxTQUVBdEcsRUFBQTNvQixZQUFzQ3ZCLE1BQUEwQixJQUFjekksS0FBQSxTQUFBeEwsR0FDcERpVSxFQUFBeFIsT0FBQSxTQUFBcEUsR0FBMkQsT0FBQUEsSUFBWXdCLE9BSXZFb1osRUFBQXVtQixFQUFBLzJCLEtBQUEsVUFBQXU3QixFQUFBMUosVUFBQXQ2QixJQUFBLEdBSEFpWixFQUFBdW1CLEVBQUEvMkIsS0FBQSxVQUFBdTdCLEVBQUExSixrQkFBQXgyQixFQUtBaWdDLFFBS0FBLFNBbENBQSxNQW9DYXY0QixLQUFBLFdBQ2JzNEIsRUFBQTdxQixPQUVTek4sS0FBQXdOLElBYVR5bUIsRUFBQTlnQyxVQUFBK2pDLFFBQUEsU0FBQXorQixFQUFBdStCLEVBQUFDLEVBQUFMLEVBQUFwcEIsR0FDQSxJQUFBaXJCLEVBQUEsT0FDQXg1QixFQUFBLFFBQ0F0QyxFQUFBLFFBRUFqRSxFQUFBb0csS0FDQTQ1QixFQUFBaGdDLEVBQUFwRixFQUFBbTZCLFVBQUFoMUIsSUFBQXdHLEVBQUFnNEIsRUFBQUQsR0FDQTJCLEVBQUFqZ0MsRUFBQXBGLEVBQUFtNkIsVUFBQWgxQixJQUFBd0csRUFBQSszQixFQUFBQyxHQUNBMkIsRUFBQSxTQUFBQyxFQUFBQyxHQUNBLE9BQUFKLEVBQUFDLEdBQUF0aUMsT0FBQSxTQUFBQyxFQUFBQyxFQUFBekUsR0FJQSxPQUhBeUUsRUFBQTY3QixNQUFBdDNCLFFBQUEsU0FBQWtULEdBQ0ExWCxFQUFBQyxFQUFBKzdCLE1BQUEsSUFBQXRrQixLQUFBLElBQUFsYyxFQUFBK21DLEVBQUFDLFFBQXFGOXFCLEtBRXJGMVgsUUFHQXlpQyxLQUNBQyxFQUFBcEMsS0FBQUcsUUFBQUgsRUFBQUcsT0FBQTMrQixNQUFBLEtBQUFzUixPQUFBLEdBQ0F1dkIsS0FDQUMsS0FFQXhnQyxFQUFBcEYsRUFBQSs4QixNQUFBcUksRUFBQXBHLE1BQUEsU0FBQTZHLEVBQUFuMUIsRUFBQWt0QixHQUNBLElBQUFrSSxHQUFBLEVBQ0ExZ0MsRUFBQXBGLEVBQUErOEIsTUFBQXNJLEVBQUFyRyxNQUFBLFNBQUErRyxFQUFBQyxFQUFBQyxHQU1BLElBZ0JBNVMsRUFyQkFpUSxHQXBCQSxVQW9CQW4rQixFQUtBMitCLElBQUF6USxNQUNBK1IsRUFBQXBHLE9BQUE2RyxFQUNBeFMsRUFBQWdTLEVBQUFyRyxPQUFBK0csRUFDQTFTLElBQUFpUSxFQUFBQyxNQUFBRCxFQUFBRSxPQUFBcitCLElBQUF3RyxFQUFBazZCLEVBQUFILEdBQUFLLEVBQUFMLElBQUEsSUFFQXZnQyxJQUFBa0UsSUFDQXM4QixFQUFBSyxJQUFBLEdBQ0FQLEVBQUF0a0MsS0FBQW1rQyxFQUFBTyxFQUFBRSxJQUNBRCxHQUFBLEdBR0EzZ0MsSUFBQWtFLElBQ0F1OEIsRUFBQUksR0FBQUQsSUFoQkFOLEVBQUF0a0MsS0FBQW1rQyxFQUFBTyxFQUFBRSxJQUNBRCxHQUFBLEdBa0JBRyxHQUFBLElBRWEsWUFFYkgsSUFBQVgsRUFBQXg1QixFQUFBdEMsR0FBQW5ILFFBQUFpRCxJQUFBLEdBQ0FzZ0MsRUFBQXRrQyxLQUFBbWtDLEVBQUFPLEVBQUEsT0FFQWpJLEdBQUEsTUFFUyxXQUVULEdBQUF6NEIsSUFBQWtFLEVBQUEsQ0FHQSxJQUZBLElBQUE2OEIsRUFBQU4sRUFBQWppQyxPQUFBLFNBQUF1QixFQUFBMUcsR0FBdUUsT0FBQW1uQyxFQUFBbm5DLEtBQ3ZFQSxFQUFBLEVBQ0FBLEVBQUEwbkMsRUFBQW5sQyxRQUNBMGtDLEVBQUF0a0MsS0FBQW1rQyxFQUFBLEtBQUFZLEVBQUExbkMsS0FDQUEsSUFFQTBiLEVBQUF1ckIsUUFHQXZyQixFQUFBdXJCLE1BZUE5RSxFQUFBOWdDLFVBQUFza0MsU0FBQSxTQUFBZ0MsRUFBQUMsRUFBQS9HLEVBQUFnSCxHQUNBLE9BQUFubkMsT0FBQTBSLEtBQUF5dUIsR0FBQXQ4QixPQUFBLFNBQUFDLEVBQUFDLEdBQ0EsSUFBQXFqQyxFQUFBRCxFQUFBcDJCLEVBQUFySSxTQUFBM0UsRUFBQWtqQyxLQUFBbGpDLEdBQ0FpSSxFQUFBbTdCLEVBQUFwMkIsRUFBQXJJLFNBQUEzRSxFQUFBbWpDLEtBQUFuakMsR0FDQSxPQUFBRCxJQUNBc2pDLElBQUFwN0IsRUFDQSxHQUNBbzdCLEVBQUFwN0IsRUFBQSxnQkFBQW0wQixFQUFBcDhCLElBQUEsT0FLUyxJQVVUMDlCLEVBQUE5Z0MsVUFBQTBtQyxZQUFBLFNBQUFweEIsRUFBQStFLEdBQ0EsSUFBQTFKLEVBQUFoRixLQUNBZzdCLEVBQUFoN0IsS0FBQW15QixFQUFBN21CLFdBQ0EydkIsS0FDQUMsS0FDQSxHQUFBRixLQUFBemxDLE9BQUEsQ0FFQSxJQUFBNGxDLEdBQUEsRUFDQUMsS0FDQUosRUFBQWgvQixRQUFBLFNBQUF5VCxHQUNBLFFBQUFBLEVBQUEvWSxRQUFBLE1BR0EsSUFBQWdVLEdBQUErRSxFQUFBM1MsTUFBQSxvQkFBQXZDLFFBQUEsYUFBQTJWLGNBQ0EyQyxFQUFBbE4sRUFBQUcsZ0JBQUF5SixVQUFBN0UsR0FDQXZNLEVBQUEsSUFBQXNSLEVBQUFuVyxNQUFBLFFBQUEvRCxPQUFBbVYsR0FBQStFLEVBQUFuVyxNQUFBLFFBQUFzUixPQUFBLElBQUFDLE9BQ0EsSUFBQWdJLEVBQ0EsVUFBQXBJLE1BQUEsSUFBQUMsRUFBQSw4QkFFQSxNQUFBbUksRUFBQWxaLE9BQ0F3aEMsR0FBQSxHQUVBQyxFQUFBM3JCLElBQ0FvRCxLQUNBMVUsVUFHQXNHLEVBQUF6TyxRQUFBZ2xDLEVBQUEsU0FBQXZyQixFQUFBdU4sRUFBQXFlLEdBQ0EsR0FBQTVyQixFQUFBL1ksUUFBQSxTQUNBLElBQUE0a0MsR0FBQTdyQixFQUFBM1MsTUFBQSxxQkFBQXZDLFFBQUEsYUFBQWpCLE1BQUEsS0FBQXBELElBQUEsU0FBQStFLEdBQTJILE9BQUFBLEVBQUE0UCxTQUMzSDdGLEVBQUE2ekIsYUFBQXNDLEVBQ0ExMkIsRUFBQXpPLFFBQUF0QyxPQUFBMFIsS0FBQUosRUFBQTZ6QixhQUFBLFNBQUEzcEIsRUFBQWpjLEVBQUFzb0MsR0FRQSxJQUFBMVQsRUFQQXFULEVBQUFoc0IsS0FDQWdzQixFQUFBaHNCLFFBRUEyWSxFQUFBdVQsRUFBQTNyQixHQUFBb0QsSUFBQTFmLEtBQUEwSixNQUFBZ3JCLEdBQUFsZSxFQUFBeFIsT0FBQSxTQUFBcEUsRUFBQWYsR0FBd0csT0FBQWdTLEVBQUE2ekIsWUFBQTNwQixHQUFBeFksUUFBQTFELElBQUEsSUFBK0MsU0FBQTBDLEdBQ3ZKd2xDLEVBQUFoc0IsR0FBQWtzQixFQUFBM3JCLEdBQUF0UixLQUFBekksRUFDQTZsQyxNQUNpQzMrQixPQUFBMCtCLE1BRVJwNkIsS0FBQW02QixJQUd6QnhULEVBQUF1VCxFQUFBM3JCLEdBQUFvRCxJQUFBMWYsS0FBQTBKLE1BQUFnckIsR0FBQWxlLEVBQUEsU0FBQWpVLEdBQ0F1bEMsRUFBQUcsRUFBQTNyQixHQUFBdFIsS0FBQXpJLEVBQ0EybEMsTUFDNkJ6K0IsT0FBQTArQixTQUk3QkQsSUFFQSxJQUFBeFQsSUFDYTNtQixLQUFBLFdBRWIsSUFBQXM2QixFQUFBLFNBQUE3c0IsRUFBQXpKLEVBQUF1MkIsR0FDQSxJQUFBdFIsS0FlQSxPQWJBNlEsRUFBQWgvQixRQUFBLFNBQUF5VCxHQUNBLElBQUFpc0IsRUFBQWpzQixFQUFBL1ksUUFBQSxRQUNBaUQsRUFBQStoQyxFQUFBTixFQUFBM3JCLEdBQUFvRCxHQUFBbFosS0FBQSxHQUNBLEdBQUE4VixFQUFBL1ksUUFBQSxZQUNBLElBQUFpbEMsRUFBQWxzQixFQUFBblcsTUFBQSxRQUNBNkUsRUFBQXU5QixFQUFBTixFQUFBM3JCLEdBQUF0UixJQUFBdzlCLEVBQUEsR0FBQTl3QixPQUNBc2YsRUFBQXdSLEVBQUEsSUFBQUQsRUFBQSxNQUFBL2hDLEVBQUE4aEMsRUFBQXQ5QixHQUFBczlCLEVBQUF0OUIsR0FBQStHLEdBQUFULEVBQUFySSxTQUFBK0IsRUFBQXdRLE9BQUFuVixJQUFBd0wsRUFBQW10QixFQUFBL1osVUFFQSxDQUNBamEsRUFBQXU5QixFQUFBTixFQUFBM3JCLEdBQUF0UixJQUFBc1IsRUFDQTBhLEVBQUExYSxHQUFBaXNCLEVBQUEsTUFBQS9oQyxFQUFBOGhDLEVBQUF0OUIsR0FBQXM5QixFQUFBdDlCLEdBQUErRyxHQUFBVCxFQUFBckksU0FBQStCLEVBQUF3USxPQUFBblYsSUFBQXdMLEVBQUFtdEIsRUFBQS9aLFNBR0ErUixHQUVBLElBQUF4Z0IsRUFBQXBVLFFBQUE0bEMsRUFBQSxDQUNBLElBQUFTLE9BT0EsT0FOQWxvQyxPQUFBMFIsS0FBQWcyQixHQUFBcC9CLFFBQUEsU0FBQTBPLFFBQ0EsSUFBQXV3QixFQUFBRyxFQUFBMXdCLEdBQUF2TSxPQUNBeTlCLEVBQUEsR0FBQWx4QixHQUFBdXdCLEVBQUFHLEVBQUExd0IsR0FBQXZNLGFBR0F1USxFQUFBa3RCLEdBR0EsR0FBQTUyQixFQUFBNnpCLGFBQUFzQyxFQUFBLENBQ0EsSUFBQVUsS0FDQW5vQyxPQUFBMFIsS0FBQUosRUFBQTZ6QixhQUFBNzhCLFFBQUEsU0FBQWtULEdBQ0EsSUFBQTRzQixFQUFBbnlCLEVBQUF4UixPQUFBLFNBQUFwRSxFQUFBZixHQUFtRSxPQUFBZ1MsRUFBQTZ6QixZQUFBM3BCLEdBQUF4WSxRQUFBMUQsSUFBQSxJQUErQ21GLE9BQUEsU0FBQThDLEVBQUFqSSxHQUEwQixPQUFBQSxFQUFBLElBQzVJOG9DLEtBQUF2bUMsUUFDQXNtQyxFQUFBbG1DLEtBQUE2bEMsRUFBQU0sRUFBQSxLQUFBWixFQUFBaHNCLE9BR0FSLEVBQUFtdEIsUUFHQW50QixFQURBeXNCLEVBQ0F4eEIsRUFBQXhSLE9BQUEsU0FBQThDLEVBQUFqSSxHQUEwRCxPQUFBQSxFQUFBLElBQWdCa0QsSUFBQSxTQUFBK0UsRUFBQWpJLEdBQXVCLE9BQUF3b0MsRUFBQXZnQyxFQUFBakksRUFBQWlvQyxLQUdqR3R4QixFQUFBelQsSUFBQSxTQUFBK0UsRUFBQWpJLEdBQXVELE9BQUF3b0MsRUFBQXZnQyxFQUFBakksRUFBQWlvQyxhQU12RHZzQixFQUFBL0UsSUFVQXdyQixFQUFBOWdDLFVBQUErZ0MsdUJBQUEsU0FBQTJHLEVBQUEzbUMsR0FDQSxJQUFBNFAsRUFBQWhGLEtBQ0FnOEIsRUFBQSxXQUNBaDNCLEVBQUFtdEIsRUFBQTRHLFNBQ0FnRCxFQUFBLzJCLEVBQUE4ekIsUUFBQWlELElBRUEvMkIsRUFBQW10QixFQUFBOEcsVUFDQThDLEVBQUEvMkIsRUFBQWcwQixTQUFBK0MsSUFFQS8yQixFQUFBbXRCLEVBQUFnSCxTQUNBNEMsRUFBQS8yQixFQUFBazBCLFFBQUE2QyxJQUVBLzJCLEVBQUFtdEIsRUFBQWtILFFBQ0EwQyxFQUFBLzJCLEVBQUFvMEIsT0FBQTJDLElBRUEzbUMsRUFBQTJtQyxJQUVBRSxFQUFBLFdBQ0FqM0IsRUFBQW10QixFQUFBN21CLFlBQUF0RyxFQUFBbXRCLEVBQUE3bUIsV0FBQS9WLE9BQ0F5UCxFQUFBKzFCLFlBQUFnQixFQUFBLFNBQUFuRyxHQUNBbUcsRUFBQW5HLEVBQ0FvRyxNQUlBQSxLQUdBRSxFQUFBLFdBQ0FsM0IsRUFBQW10QixFQUFBc0csVUFDQXNELEVBQUEvMkIsRUFBQXd6QixTQUFBdUQsSUFFQS8yQixFQUFBbXRCLEVBQUErQyxJQUNBbHdCLEVBQUFzMEIsS0FBQXlDLEVBQUEsU0FBQW5HLEdBQ0FtRyxFQUFBbkcsRUFDQXFHLE1BSUFBLEtBR0FqOEIsS0FBQW15QixFQUFBL1osS0FDQXBZLEtBQUE2M0IsTUFBQWtFLEVBQUEsU0FBQXB5QixHQUNBb3lCLEVBQUFweUIsRUFDQXV5QixNQUlBQSxLQUdBL0csRUEzZUEsR0E2ZUFyaUMsRUFBQXFpQyxtQkFTQSxJQUFBTCxFQUFBLFdBQ0EsU0FBQUEsRUFBQTNDLEVBQUEzOUIsRUFBQVksR0FDQSxJQUFBNFAsRUFBQWhGLEtBR0EsR0FGQUEsS0FBQW15QixJQUNBbnlCLEtBQUF4TCxJQUNBd0wsS0FBQW15QixFQUFBL1osTUFBQXBZLEtBQUFteUIsRUFBQStDLElBQ0EsVUFBQXpxQixNQUFBLHNEQUVBLElBQUF6SyxLQUFBbXlCLEVBQUF6b0IsTUFBQTFKLEtBQUFteUIsRUFBQXhPLE1BQUEzakIsS0FBQW15QixFQUFBMUYsTUFBQXQwQixPQUFBLFNBQUFuRixHQUEyRSxPQUFBQSxJQUFZdUMsT0FBQSxFQUN2RixVQUFBa1YsTUFBQSw4Q0FHQSxHQUFBekssS0FBQW15QixFQUFBL1osS0FDQWhqQixXQUlBLEdBQUE0SyxLQUFBbXlCLEVBQUExRixNQUFBenNCLEtBQUFteUIsRUFBQTFGLEtBQUFoZCxRQUFBelAsS0FBQW15QixFQUFBMUYsS0FBQXVGLE9BQ0FoeUIsS0FBQW04QixjQUFBL21DLFFBSUEsR0FBQTRLLEtBQUFteUIsRUFBQXhPLE9BQUEzakIsS0FBQW15QixFQUFBeE8sTUFBQXB1QixPQUNBeUssS0FBQW84QixlQUFBaG5DLFFBTUEsR0FBQTRLLEtBQUFteUIsRUFBQXpvQixPQUFBMUosS0FBQW15QixFQUFBem9CLE1BQUFuVSxRQUFBbUYsTUFBQUMsUUFBQXFGLEtBQUFteUIsRUFBQXpvQixPQUFBLENBZ0JBLEdBVkEsaUJBQUExSixLQUFBbXlCLEVBQUF6b0IsTUFBQSxHQUNBLElBQUExSixLQUFBcThCLGtCQUFBcjhCLEtBQUFteUIsRUFBQXpvQixPQU9hLEtBSmIxSixLQUFBbXlCLEVBQUF6b0IsV0FBQW5TLE9BQUEsU0FBQUMsRUFBQUMsRUFBQXpFLEdBQ0EsT0FBQUEsRUFBQSxLQUNBd0UsRUFDQUEsRUFBQXdOLEVBQUFxM0Isa0JBQUE1a0MsSUFDYSxHQUdidUksS0FBQXM4QixjQUFBdDhCLEtBQUFteUIsRUFBQXpvQixNQUFBdFUsT0FEQSxDQU1BLElBQUFtbkMsRUFBQXY4QixLQUFBdzhCLHFCQUFBeDhCLEtBQUFteUIsRUFBQXpvQixPQUNBLEdBQUE2eUIsRUFBQSxHQUNBLElBQUFFLEVBQUF6OEIsS0FBQW15QixFQUFBem9CLE1BQUFwUixNQUFBLEVBQUFpa0MsR0FDQUcsRUFBQTE4QixLQUFBbXlCLEVBQUF6b0IsTUFBQXBSLE1BQUFpa0MsRUFBQSxHQUNBdjhCLEtBQUFzOEIsY0FBQUcsRUFBQSxTQUFBOXlCLEdBQ0F2VSxFQUFBdVUsRUFBQXhSLE9BQUEsU0FBQXBFLEVBQUFmLEdBQXNELE9BQUFzbEMsRUFBQXZrQyxFQUFBMm9DLEVBQUExcEMsYUFLdERnTixLQUFBMjhCLGVBQUF2bkMsU0EvQkE0SyxLQUFBMjhCLGVBQUF2bkMsR0ErUEEsT0FyTkEwL0IsRUFBQXpnQyxVQUFBaW9DLGNBQUEsU0FBQTV5QixFQUFBdFUsR0FDQSxJQUFBNFAsRUFBQWhGLEtBQ0EsR0FBQTBKLEdBQUEsaUJBQUFBLEVBQUEsR0FDQTFKLEtBQUE0OEIsbUJBQUFsekIsRUFBQXRVLFFBRUEsR0FBQXNVLEVBQUEsQ0FDQSxJQUFBbXpCLEtBQ0FDLEVBQUEsR0FDQXI0QixFQUFBdlAsVUFBQXdVLEVBQUEsU0FBQXF6QixFQUFBL3BDLEVBQUFncUMsR0FDQSxvQkFBQUQsRUFHQSxPQUZBRCxFQUFBQyxPQUNBQyxJQUdBaDRCLEVBQUE0M0IsbUJBQUFHLEVBQUEsU0FBQXB6QixHQUNBLFdBQUFtekIsRUFBQSxDQUdBLElBRkEsSUFBQUcsS0FDQXhULEVBQUE5ZixFQUFBcFUsT0FDQWswQixLQUNBd1QsRUFBQXR6QixFQUFBOGYsR0FBQXprQixFQUFBeFEsRUFBQW02QixVQUFBM3BCLEVBQUFtdEIsRUFBQWxxQixPQUFBb3BCLE9BQUEsRUFFQXdMLElBQUExa0MsT0FBQSxTQUFBd1csR0FDQSxPQUFBc3VCLEVBQUF0dUIsRUFBQTNKLEVBQUF4USxFQUFBbTZCLFVBQUEzcEIsRUFBQW10QixFQUFBbHFCLE9BQUFvcEIsYUFJQXdMLElBQUFqZ0MsT0FBQStNLEdBRUFxekIsUUFFYTk3QixLQUFBLFdBQ2I5TCxFQUFBeW5DLE9BY0EvSCxFQUFBemdDLFVBQUF1b0MsbUJBQUEsU0FBQWx6QixFQUFBdFUsR0FDQSxJQUFBNFAsRUFBQWhGLEtBQ0EsZUFBQTBKLEVBQUEsSUFvQkEsSUFBQXRFLEtBQ0EsT0FBQXNFLEVBQUEsSUFDQSxTQUNBdEUsRUFBQXNFLEVBQUEsR0FDQSxNQUNBLFFBQ0F0RSxHQUFBc0UsRUFBQSxJQUdBQSxFQUFBLEtBQUExSixLQUFBeEwsRUFBQW02QixVQUFBM3VCLEtBQUFteUIsRUFBQWxxQixPQUFBb3BCLElBQ0FyeEIsS0FBQXhMLEVBQUErOEIsTUFBQXZ4QixLQUFBbXlCLEVBQUFscUIsTUFBQTdDLEVBQUFoUSxHQUdBcVAsRUFBQXpPLFFBQUFvUCxFQUFBLFNBQUFGLEVBQUFsUyxFQUFBMGIsR0FDQTFKLEVBQUF4USxFQUFBdTlCLG9CQUFBL3NCLEVBQUFtdEIsRUFBQWxxQixNQUFBeUIsRUFBQSxHQUFBeEUsRUFBQXdKLEtBQ2F4TixLQUFBLFNBQUF5SSxHQUNidlUsS0FBQXdILE9BQUFDLFNBQUE4TSxVQXBDQSxDQUNBLElBQUF1ekIsRUFBQXh6QixFQUFBLEtBQUExSixLQUFBeEwsRUFBQW02QixVQUFBM3VCLEtBQUFteUIsRUFBQWxxQixPQUFBb3BCLElBQUEsR0FBQTNuQixFQUFBLEdBQ0EsR0FBQXd6QixFQUFBLENBQ0EsSUFBQXJNLEVBQUEsSUFBQTd3QixLQUFBbXlCLEVBQUFscUIsTUFBQSxRQUFBaTFCLEVBQ0FsOUIsS0FBQXhMLEVBQUF5OUIsV0FBQXBCLEVBQUFubkIsRUFBQSxNQUFBQSxFQUFBLGtCQUFBQyxHQUdBLElBRkEsSUFBQXZFLEtBQ0FwUyxFQUFBMlcsRUFBQXBVLE9BQ0F2QyxLQUNBb1MsSUFBQXhJLE9BQUErTSxFQUFBM1csR0FBQTJXLE1BRUEzRSxFQUFBeFEsRUFBQSs4QixNQUFBdnNCLEVBQUFtdEIsRUFBQWxxQixNQUFBN0MsRUFBQWhRLFVBSUE0SyxLQUFBeEwsRUFBQXk5QixXQUFBanlCLEtBQUFteUIsRUFBQWxxQixNQUFBeUIsRUFBQSxNQUFBQSxFQUFBLGtCQUFBQyxHQUNBdlUsRUFBQXVVLE9Ba0NBbXJCLEVBQUF6Z0MsVUFBQStuQyxlQUFBLFNBQUFobkMsR0FDQSxJQUFBNFAsRUFBQWhGLEtBQ0EsR0FBQUEsS0FBQW15QixFQUFBeE8sTUFBQSxDQUNBLElBQUF5RyxFQUFBcHFCLEtBQUFteUIsRUFBQXhPLE1BQ0F5RyxFQUFBLEtBQ0FwcUIsS0FBQXhMLEVBQUF5OUIsV0FBQWp5QixLQUFBbXlCLEVBQUFscUIsTUFBQW1pQixFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxNQUFBaDFCLEdBR0E0SyxLQUFBeEwsRUFBQWs2QixTQUFBLEdBQUFPLFFBQUFsRyxTQUFBL29CLEtBQUFteUIsRUFBQWxxQixPQUFBLFdBQUFrMUIsR0FJQSxJQUhBLElBQUFDLEVBQUFoVCxFQUFBLEtBQUFBLEVBQUEsR0FBQStTLEVBQUEvUyxFQUFBLEdBQUFBLEVBQUEsR0FDQWlULEVBQUFELEVBQ0FybkMsRUFBQWUsS0FBQXVaLElBQUErWixFQUFBLE1BQ0FyMEIsS0FDQXNuQyxJQUVBcjRCLEVBQUF4USxFQUFBeTlCLFdBQUFqdEIsRUFBQW10QixFQUFBbHFCLE1BQUFtMUIsRUFBQUMsR0FBQSxFQUFBam9DLFVBS0FBLE9BVUEwL0IsRUFBQXpnQyxVQUFBOG5DLGNBQUEsU0FBQS9tQyxHQUNBNEssS0FBQW15QixFQUFBMUYsS0FDQXpzQixLQUFBeEwsRUFBQTY5QixVQUFBcnlCLEtBQUFteUIsRUFBQWxxQixNQUFBakksS0FBQW15QixFQUFBMUYsS0FBQWhkLE9BQUF6UCxLQUFBbXlCLEVBQUExRixLQUFBdUYsT0FBQTU4QixHQUdBQSxPQVVBMC9CLEVBQUF6Z0MsVUFBQXNvQyxlQUFBLFNBQUF2bkMsR0FDQSxJQUFBNFAsRUFBQWhGLEtBQ0FzOUIsT0FBQTlqQyxJQUFBd0csS0FBQW15QixFQUFBem9CLE1BQ0E2ekIsRUFBQUQsR0FBQTVpQyxNQUFBQyxRQUFBcUYsS0FBQW15QixFQUFBem9CLE9BQ0ExSixLQUFBeEwsRUFBQSs4QixNQUFBdnhCLEtBQUFteUIsRUFBQWxxQixNQUFBLFNBQUEwRyxFQUFBM2IsRUFBQW8vQixHQU1BQSxHQUxBa0wsSUFJQUMsRUFDQWpGLEVBQUEzcEIsRUFBQTNKLEVBQUFtdEIsRUFBQXpvQixNQUFBMVcsR0FHQWdTLEVBQUFtdEIsRUFBQXpvQixNQUFBaUYsRUFBQTNiLE1BRVNvQyxJQWdCVDAvQixFQUFBemdDLFVBQUFtb0MscUJBQUEsU0FBQWdCLEdBQ0EsSUFBQXg0QixFQUFBaEYsS0FDQSxvQkFBQXc5QixFQUFBLEdBQ0EsU0FFQSxPQUFBeDlCLEtBQUFxOEIsa0JBQUFtQixFQUFBLEtBRUEsSUFBQUMsRUFBQSxFQVNBLE9BUkFELEVBQUF4aEMsUUFBQSxTQUFBK2dDLEVBQUEvcEMsR0FDQUEsRUFBQSxNQUNBLElBQUFnUyxFQUFBcTNCLGtCQUFBVSxJQUFBUyxFQUFBeHFDLEVBQUEsS0FDQXlxQyxFQUFBenFDLEVBQUEsS0FLQSxRQUFBd3FDLEVBQUFDLEdBQ0EsRUFDQUEsRUFFQSxVQVdBM0ksRUFBQXpnQyxVQUFBZ29DLGtCQUFBLFNBQUFtQixHQUNBLElBQUFFLEVBQUExOUIsS0FBQXhMLEVBQUFtNkIsVUFBQTN1QixLQUFBbXlCLEVBQUFscUIsT0FDQSwyQkFBQXZSLFFBQUE4bUMsRUFBQSxTQUVBQSxFQUFBLEtBQUFFLEVBQUFyTSxLQUFBcU0sRUFBQXhNLGtCQUFBeDZCLFFBQUE4bUMsRUFBQSxRQUNBLEVBR0EsR0FFQTFJLEVBN1JBLEdBK1JBaGlDLEVBQUFnaUMsZ0JBT0EsSUFBQUQsRUFBQSxXQUNBLFNBQUFBLEVBQUExQyxHQUNBbnlCLEtBQUFteUIsSUFnQ0EsT0E5QkEwQyxFQUFBeGdDLFVBQUF5d0IsUUFBQSxTQUFBMXZCLEdBQ0EsSUFBQTRQLEVBQUFoRixLQUNBLEdBQUFBLEtBQUFteUIsRUFBQS9aLE1BQUFwWSxLQUFBbXlCLEVBQUErQyxLQUFBbDFCLEtBQUFteUIsRUFBQTFGLEtBQ0EsVUFBQWhpQixNQUFBLDhEQUVBLEdBQUF6SyxLQUFBbXlCLEVBQUF4TyxPQUFBM2pCLEtBQUFteUIsRUFBQXhPLE1BQUFwdUIsT0FBQSxDQUNBLElBQUFvb0MsRUFBQUMsRUFBQWphLEVBQUEzakIsS0FBQW15QixFQUFBeE8sTUFFQWdhLEVBREFoYSxFQUFBLEtBQ0EzakIsS0FBQW15QixFQUFBbHFCLE1BQUEsT0FBQTBiLEVBQUEsR0FBQUEsRUFBQSxHQUdBQSxFQUFBLEdBRUEsSUFBQW1TLEVBQUFoL0IsS0FBQXVaLElBQUFzVCxFQUFBLE1BRUEsSUFEQWlhLEVBQUFELEVBQ0E3SCxLQUNBOEgsSUFFQXhvQyxFQUFBNEssS0FBQW15QixFQUFBbHFCLE1BQUE5UCxPQUFBLFNBQUF1QixFQUFBd0wsR0FDQSxPQUFBQSxHQUFBeTRCLEdBQUF6NEIsR0FBQTA0QixVQUlBeG9DLEVBQUE0SyxLQUFBbXlCLEVBQUFscUIsTUFBQTlQLE9BQUEsU0FBQXdXLEVBQUEzYixHQUNBLE9BQUFnUyxFQUFBbXRCLEVBQUF6b0IsUUFDQWhQLE1BQUFDLFFBQUFxSyxFQUFBbXRCLEVBQUF6b0IsT0FBQTR1QixFQUFBM3BCLEVBQUEzSixFQUFBbXRCLEVBQUF6b0IsVUFBQTFXLEdBQUFnUyxFQUFBbXRCLEVBQUF6b0IsTUFBQWlGLEVBQUEzYixRQUtBNmhDLEVBbENBLEdBb0NBL2hDLEVBQUEraEMsb0JBV0EsSUFBQXlELEVBQUEsU0FBQXVGLEVBQUFuMEIsRUFBQWljLEVBQUFycEIsR0FDQSxJQUFBd2hDLEdBQUEsWUFDQSxvQkFBQXAwQixFQUFBLElBQ0EsSUFHQXEwQixFQUFBcjBCLEVBQUF4VCxJQUFBLFNBQUE2bUMsRUFBQTczQixHQUNBLFdBQUE0NEIsRUFBQXBuQyxRQUFBcW1DLElBQ0EsUUFBQUEsSUFDQSxFQUNBQSxHQUdBLElBQUFpQixFQUFBakIsRUFBQSxHQUFBQSxFQUFBLEdBQUF0NEIsRUFBQXJJLFNBQUEyZ0MsRUFBQSxHQUFBYyxFQUFBdmhDLE1BaUJBLE9BWEF5aEMsRUFBQS9oQyxRQUFBLFNBQUErZ0MsRUFBQTczQixHQUNBLE9BQUE2M0IsSUFDQWdCLEVBQUE3NEIsR0FBQTY0QixFQUFBNzRCLEVBQUEsSUFBQTY0QixFQUFBNzRCLEVBQUEsR0FDQTY0QixFQUFBNzRCLEVBQUEsUUFBQTFMLEVBQ0F1a0MsRUFBQTc0QixFQUFBLFFBQUExTCxNQU9BLElBQUF1a0MsRUFBQXJuQyxTQUFBLEdBaUNBLFdBQUFzbkMsRUFBQXQwQixFQUFBLEdBQUFBLEVBQUEsR0FBQWpGLEVBQUFySSxTQUFBc04sRUFBQSxHQUFBbTBCLEVBQUF2aEMsS0FXQTBoQyxFQUFBLFNBQUEvSCxFQUFBZ0ksRUFBQS9ILEdBQ0EsSUFBQWdJLEVBQUEsU0FBQXhrQyxHQUNBLDBCQUFBaEQsUUFBQXVuQyxJQUFBLEVBQUFyakMsT0FBQWxCLEdBQUEsSUFBQW9CLGNBQUFwQixHQUVBeWtDLEVBQUFELEVBQUFoSSxHQUNBa0ksRUFBQUYsRUFBQWpJLEdBQ0EsWUFBQUEsR0FBQSxhQUFBQSxFQUFBLENBQ0EsSUFBQXBYLEVBQUEsTUFBQW9mLEdBQUEsU0FBQUEsRUFDQSxnQkFBQWhJLEVBQ0EsT0FBQUMsUUFBQTE4QixJQUFBMDhCLEVBQ0EsT0FBQUEsUUFBQTE4QixJQUFBMDhCLEdBQ0FyWCxFQUFBLElBQUFBLEVBQUEsSUFFQSxPQUFBb2YsR0FFQSxlQUFBRSxJQUFBQyxFQUFBLElBRUEsZ0JBQUFELElBQUFDLEVBQUEsSUFFQSxlQUFBRCxFQUFBQyxFQUFBLElBRUEsZUFBQUQsRUFBQUMsRUFBQSxJQUVBLGdCQUFBRCxHQUFBQyxFQUFBLElBRUEsZ0JBQUFELEdBQUFDLEVBQUEsSUFFQSxnQkFBQUEsT0FBQTFuQyxRQUFBeW5DLEdBQUEsTUFFQSxvQkFBQUMsT0FBQTFuQyxRQUFBeW5DLEdBQUEsTUFFQSxtQkFBQUEsRUFBQXJoQyxNQUFBc2hDLEdBQUE3b0MsT0FBQSxJQUVBLGtCQUFBNG9DLEVBQUF6bkMsUUFBQTBuQyxHQUFBLE1BRUEsc0JBQUFELEVBQUF6bkMsUUFBQTBuQyxJQUFBLE1BRUEscUJBQUFBLEVBQUEsSUFBQUQsR0FBQUMsRUFBQSxJQUFBRCxFQUFBLElBRUEsa0JBQUFBLE9BQUF6bkMsUUFBQTBuQyxHQUFBLE1BRUEsc0JBQUFELE9BQUF6bkMsUUFBQTBuQyxHQUFBLE1BRUEsdUJBQUFELE9BQUFobUMsT0FBQSxTQUFBbEYsR0FBMEUsT0FBQW1yQyxPQUFBMW5DLFFBQUF6RCxJQUFBLElBQTZDc0MsT0FBQSxNQUV2SCwyQkFBMkgsS0FBM0g0b0MsT0FBQWhtQyxPQUFBLFNBQUFsRixHQUE4RSxPQUFBbXJDLE9BQUExbkMsUUFBQXpELElBQUEsSUFBNkNzQyxPQUFBLElBQzNILG9DQzkrQ0EsSUFBQStQLEVBQUF0RixXQUFBc0YsVUFBQTVSLE9BQUE2UixRQUFBLFNBQUEzTCxHQUNBLFFBQUFwRixFQUFBeEIsRUFBQSxFQUFBaUIsRUFBQWdNLFVBQUExSyxPQUE0Q3ZDLEVBQUFpQixFQUFPakIsSUFFbkQsUUFBQXVCLEtBREFDLEVBQUF5TCxVQUFBak4sR0FDQVUsT0FBQVcsVUFBQUMsZUFBQW5CLEtBQUFxQixFQUFBRCxLQUNBcUYsRUFBQXJGLEdBQUFDLEVBQUFELElBRUEsT0FBQXFGLEdBRUFsRyxPQUFBQyxlQUFBYixFQUFBLGNBQThDa0IsT0FBQSxJQUM5QyxJQUFBMlIsRUFBQS9TLEVBQUEsSUFDQXlyQyxFQUFBenJDLEVBQUEsS0FDQTZSLEVBQUE3UixFQUFBLEdBQ0EwckMsRUFBQTFyQyxFQUFBLEtBQ0F1VSxFQUFBLFdBQ0EsU0FBQUEsSUFDQW5ILEtBQUF1K0IsY0FDQXYrQixLQUFBdytCLFVBQUEsRUF3S0EsT0F0S0FyM0IsRUFBQTlTLFVBQUFxVCxZQUFBLFNBQUFTLEVBQUF5RSxHQUNBNU0sS0FBQXlILE9BQUFVLEVBQUFWLE9BQ0F6SCxLQUFBdTBCLE9BQUEsSUFBQStKLEVBQUFqUSxnQkFBQWxtQixFQUFBVixPQUFBbkMsS0FBbUY2QyxFQUFBWCxTQUluRnhILEtBQUF1MEIsT0FBQWxGLEtBQUFsbkIsRUFBQWQsT0FBQSxTQUFBbzNCLEdBQ0F0MkIsRUFBQWQsT0FBQS9CLEtBQTRDNkMsRUFBQWQsT0FBQW8zQixHQUM1Qzd4QixFQUFBekUsTUFHQWhCLEVBQUE5UyxVQUFBcXFDLE9BQUEsU0FBQUMsRUFBQS94QixHQUNBK3hCLEVBQUFoZSxNQUFBLFdBS0EsSUFBQTBkLEVBQUE1SixxQkFBQXowQixLQUFBdTBCLFFBQUFHLFFBQUFpSyxFQUFBL3hCLElBVUF6RixFQUFBOVMsVUFBQXdZLFdBQUEsU0FBQUYsR0FDQSxJQUFBM0gsRUFBQWhGLEtBQ0EsV0FBQXlFLEVBQUE5UCxRQUFBLFNBQUFVLEVBQUFDLEdBQ0EsSUFBQXNwQyxLQUNBQyxFQUFBbHlCLEtBQUFwWCxPQUFBb1gsRUFBQWpaLE9BQUEwUixLQUFBSixFQUFBdXZCLE9BQUE1RixXQUNBbHFCLEVBQUF6TyxRQUFBNm9DLEVBQUEsU0FBQTUyQixFQUFBalYsRUFBQXlxQixHQUNBbWhCLEVBQUEzMkIsTUFDQWpELEVBQUF1dkIsT0FBQTdGLFNBQUEsR0FBQU8sUUFBQTlHLFVBQUFsZ0IsRUFBQSxTQUFBbFUsRUFBQW1SLEVBQUE4ZCxHQUNBNGIsRUFBQTMyQixHQUFBdFMsS0FBQTVCLEdBQ0FpdkIsS0FDaUJ2RixLQUNKdmMsS0FBQSxXQUNiN0wsRUFBQXVwQyxRQUlBejNCLEVBQUE5UyxVQUFBMFksYUFBQSxTQUFBSixHQUNBLElBQUEzSCxFQUFBaEYsS0FDQSxXQUFBeUUsRUFBQTlQLFFBQUEsU0FBQVUsRUFBQUMsR0FDQW1QLEVBQUF6TyxRQUFBdEMsT0FBQTBSLEtBQUF1SCxHQUFBLFNBQUE2YSxFQUFBeDBCLEVBQUF5cUIsR0FDQSxJQUFBcWhCLEVBQUE5NUIsRUFBQXV2QixPQUFBNUYsVUFBQW5ILEdBQUE2SixJQUNBNXNCLEVBQUF6TyxRQUFBMlcsRUFBQTZhLEdBQUEsU0FBQTdZLEVBQUEzYixFQUFBeXFCLEdBQ0E5TyxFQUFBbXdCLEdBQ0E5NUIsRUFBQXV2QixPQUFBN0YsU0FBQSxHQUFBTyxRQUFBemMsTUFBQWdWLEVBQUE3WSxFQUFBbXdCLEdBQUFud0IsRUFBQThPLEdBR0FBLE1BRWlCdmMsS0FBQXVjLEtBQ0p2YyxLQUFBLFdBQ2I3TCxTQUlBOFIsRUFBQTlTLFVBQUE0WSxlQUFBLFNBQUFMLEdBQ0FuSSxFQUFBek8sUUFBQWdLLEtBQUF1MEIsT0FBQTdGLGFBQUEsU0FBQU8sRUFBQWo4QixFQUFBeXFCLEdBQ0F3UixFQUFBamlCLFdBQ0FpaUIsRUFBQWppQixXQUFBeVEsR0FHQUEsTUFFU3ZjLEtBQUEwTCxJQUVUekYsRUFBQTlTLFVBQUFvVixPQUFBLFNBQUFtRCxFQUFBelQsRUFBQXpELEdBQ0EsSUFBQXNQLEVBQUFoRixLQUNBLE9BQUE3RyxFQUFBLElBQ0EsWUFDQSxJQUFBNGxDLEVBQUEsSUFBQXA1QixFQUFBRyxnQkFDQXBTLE9BQUEwUixLQUFBcEYsS0FBQXlILE9BQUF2QixZQUFBbEssUUFBQSxTQUFBaU0sR0FDQTgyQixFQUFBOTJCLFNBQUFhLE1BQUE5RCxFQUFBeUMsT0FBQXZCLFdBQUErQixPQUFBLEtBRUE4MkIsRUFDQXYzQixRQUNBeEcsR0FBQWhCLEtBQUF1MEIsT0FBQS9QLElBQ0E5YixLQUFBdlAsRUFBQSxLQUVBK08sVUFBQWhILEtBQUEsV0FFQXVELEVBQUF2UCxVQUFBeEIsT0FBQTBSLEtBQUFKLEVBQUF5QyxPQUFBdkIsWUFBQSxTQUFBK0IsRUFBQWpWLEVBQUF5cUIsR0FDQXJKLFFBQUEyTCxJQUFBLGFBQUE5WCxFQUFBLE9BQ0FqRCxFQUFBeUMsT0FBQWlGLFNBQUF6RSxJQUNBL0csS0FBQSxTQUFBTCxHQUNBLE9BQUFrK0IsRUFBQWp5QixVQUFBak0sS0FFQUssS0FBQXVjLEtBQ3FCdmMsS0FBQSxXQUNyQjBMLEVBQUF6VCxVQUdBLE1BQ0EsWUFDQSxJQUFBNmxDLEtBS0FBLEVBSkE3bEMsRUFBQSxJQUlBQSxFQUFBLElBSEE2RyxLQUFBeUgsT0FBQXBCLFdBS0E1QixFQUFBdlAsVUFBQThwQyxFQUFBLFNBQUEvMkIsRUFBQWpWLEVBQUE0WixHQUNBNUgsRUFBQXV2QixPQUFBbkQsTUFBQW5wQixFQUFBMkUsS0FDaUIxTCxLQUFBLFdBQ2pCMEwsRUFBQXpULEVBQUE2bEMsS0FFQSxNQUNBLGtCQUNBN2xDLEVBQUEsR0FJQXlULEVBQUF6VCxHQUFBNkcsS0FBQXUwQixPQUFBN0YsU0FBQXYxQixFQUFBLElBQUE4MUIsVUFIQXJpQixFQUFBelQsR0FBQTZHLEtBQUF1MEIsT0FBQTdGLFNBQUEsR0FBQU8sVUFLQSxNQUNBLGlCQUNBLFVBQ0EsSUFBQWhuQixFQUFBOU8sRUFBQSxHQUNBekYsT0FBQTBSLEtBQUFwRixLQUFBdTBCLE9BQUE1RixXQUFBajRCLFFBQUF1UixJQUFBLEVBQ0FqSSxLQUFBdTBCLE9BQUE3RixTQUFBLEdBQUFPLFFBQUFsRyxTQUFBOWdCLEVBQUEsUUFBQTlPLEVBQUEsWUFBQStMLEdBQ0EwSCxFQUFBelQsRUFBQStMLEtBSUEwSCxFQUFBelQsTUFFQSxNQUNBLGtCQUNBQSxFQUFBLEdBQ0E2RyxLQUFBdTBCLE9BQUF2RCxlQUFBNzNCLEVBQUEsWUFBQXZCLEdBQ0FnVixFQUFBelQsR0FBQXZCLE1BSUE2TSxFQUFBek8sUUFBQXRDLE9BQUEwUixLQUFBcEYsS0FBQXUwQixPQUFBNUYsV0FBQSxTQUFBMW1CLEVBQUFqVixFQUFBeXFCLEdBQ0F6WSxFQUFBdXZCLE9BQUF2RCxlQUFBL29CLEVBQUF3VixLQUNxQnZjLEtBQUEsU0FBQSs5QixHQUNyQnJ5QixFQUFBelQsRUFBQThsQyxLQUdBLE1BQ0Esa0JBQ0E5bEMsRUFBQSxJQUFBQSxFQUFBLEdBQ0E2RyxLQUFBdTBCLE9BQUF6RCxpQkFBQTMzQixFQUFBLEdBQUFBLEVBQUEsSUFFQUEsRUFBQSxJQUNBNkcsS0FBQXUwQixPQUFBeEYsT0FBQTUxQixFQUFBLE9BQ0E2RyxLQUFBdTBCLE9BQUF2RixXQUFBNzFCLEVBQUEsUUFHQXpGLE9BQUEwUixLQUFBcEYsS0FBQXUwQixPQUFBNUYsV0FBQTN5QixRQUFBLFNBQUFpTSxHQUNBakQsRUFBQXV2QixPQUFBeEYsT0FBQTltQixNQUNBakQsRUFBQXV2QixPQUFBdkYsV0FBQS9tQixRQUdBMkUsRUFBQXpULElBQUEsSUFBQXpGLE9BQUEwUixLQUFBcEYsS0FBQXUwQixPQUFBNUYsWUFDQSxNQUNBLFFBQ0EvaEIsRUFBQXpULEVBQUF6RCxLQUdBeVIsRUEzS0EsR0E2S0FyVSxFQUFBcVUsdUNDMUxBelQsT0FBQUMsZUFBQWIsRUFBQSxjQUE4Q2tCLE9BQUEsSUFDOUMsSUFBQWlULEVBQUEsV0FDQSxTQUFBQSxJQUNBakgsS0FBQXNLLGtCQTJCQSxPQXpCQXJELEVBQUE1UyxVQUFBNlYsR0FBQSxTQUFBdEosRUFBQXhMLEdBQ0E0SyxLQUFBc0ssZUFBQTFKLEtBQ0FaLEtBQUFzSyxlQUFBMUosT0FFQVosS0FBQXNLLGVBQUExSixHQUFBakwsS0FBQVAsSUFFQTZSLEVBQUE1UyxVQUFBZ1csSUFBQSxTQUFBekosRUFBQXhMLEdBQ0EsSUFBQTRQLEVBQUFoRixLQUNBQSxLQUFBc0ssZUFBQTFKLElBQUFaLEtBQUFzSyxlQUFBMUosR0FBQXJMLFFBQ0F5SyxLQUFBc0ssZUFBQTFKLEdBQUE1RSxRQUFBLFNBQUFvTixFQUFBbEUsR0FDQWtFLElBQUFoVSxHQUNBNFAsRUFBQXNGLGVBQUExSixHQUFBckYsT0FBQTJKLEVBQUEsTUFLQStCLEVBQUE1UyxVQUFBaVksUUFBQSxTQUFBMUwsR0FFQSxJQURBLElBQUF6SCxLQUNBNEgsRUFBQSxFQUF3QkEsRUFBQWQsVUFBQTFLLE9BQXVCd0wsSUFDL0M1SCxFQUFBNEgsRUFBQSxHQUFBZCxVQUFBYyxHQUVBZixLQUFBc0ssZUFBQTFKLElBQ0FaLEtBQUFzSyxlQUFBMUosR0FBQTVFLFFBQUEsU0FBQW9OLEdBQThELE9BQUFBLEVBQUF2TSxXQUFBLEVBQUExRCxNQUc5RDhOLEVBN0JBLEdBK0JBblUsRUFBQW1VLG9CQUNBblUsRUFBQW9zQyxJQUFBLElBQUFqNEIsaUJDakNBdlQsT0FBQUMsZUFBQWIsRUFBQSxjQUE4Q2tCLE9BQUEsSUFFOUMsSUFBQXdaLEVBQUEsV0FDQSxTQUFBQSxFQUFBeEIsRUFBQTdTLEVBQUE4TyxFQUFBbUYsRUFBQUMsR0FDQXJOLEtBQUFtL0IsT0FDQXhlLE1BQUEsVUFDQTFZLFFBQ0ErRCxTQUNBVixXQUFBblMsRUFDQXlVLFFBQUFQLEVBQ0FNLGFBQUEsRUFDQWpZLFVBQ0F3ckIsYUFFQWxoQixLQUFBby9CLFNBQUFoeUIsRUFTQSxPQVBBSSxFQUFBblosVUFBQXFWLE1BQUEsU0FBQXZRLEdBRUEsT0FEQTZHLEtBQUFtL0IsTUFBQXoxQixNQUFBdlEsRUFDQTZHLE1BRUF3TixFQUFBblosVUFBQWdRLEtBQUEsV0FDQXJFLEtBQUFvL0IsU0FBQXpwQyxLQUFBcUssS0FBQW0vQixRQUVBM3hCLEVBckJBLEdBdUJBMWEsRUFBQTBhLDRDQ3pCQSxJQUFBbEksRUFBQXRGLFdBQUFzRixVQUFBNVIsT0FBQTZSLFFBQUEsU0FBQTNMLEdBQ0EsUUFBQXBGLEVBQUF4QixFQUFBLEVBQUFpQixFQUFBZ00sVUFBQTFLLE9BQTRDdkMsRUFBQWlCLEVBQU9qQixJQUVuRCxRQUFBdUIsS0FEQUMsRUFBQXlMLFVBQUFqTixHQUNBVSxPQUFBVyxVQUFBQyxlQUFBbkIsS0FBQXFCLEVBQUFELEtBQ0FxRixFQUFBckYsR0FBQUMsRUFBQUQsSUFFQSxPQUFBcUYsR0FFQWxHLE9BQUFDLGVBQUFiLEVBQUEsY0FBOENrQixPQUFBLElBQzlDLElBQUF5USxFQUFBN1IsRUFBQSxHQUNBeXNDLEdBQWdCcnhCLGtCQUFBQyxpQkFDaEJxeEIsRUFBQSxTQUFBamlDLEVBQUFxUixHQUNBLElBQUFyUixFQUFBZ3NCLElBQUEvaUIsUUFBQS9RLFFBQUE4SCxFQUFBZ3NCLElBQUF0aUIsYUFhQXRDLEVBQUF2UCxVQUFBbUksRUFBQWdzQixJQUFBL2lCLFFBQUEsU0FBQS9SLEVBQUF2QixFQUFBMlYsR0FDQXBVLEVBQUFtcUMsT0FDQW5xQyxFQUFBbXFDLE9BQUFyaEMsRUFBQWkzQixPQUFBLFNBQUFpTCxHQUNBbGlDLEVBQUFpM0IsT0FBQWlMLEdBQUFsaUMsRUFBQWkzQixPQUNBM3JCLE1BSUFBLE1BRVN6SCxLQUFBLFdBT1QsR0FOQTdELEVBQUFnc0IsSUFBQTlpQixNQUFBbEosRUFBQWkzQixPQUFBcnNCLE9BQ0F5RyxFQUFBclIsRUFBQWkzQixPQUFBNStCLFFBR0FnWixFQUFBclIsRUFBQWkzQixPQUFBNStCLE9BQUFRLElBQUEsU0FBQW5DLEdBQThELE9BQUF1UixLQUFvQnZSLEdBQU15ckMsVUFBQWhtQyxPQUV4RjZELEVBQUFnc0IsSUFBQXRpQixjQUFBMUosRUFBQWdzQixJQUFBcGdCLGlCQUFBLENBQ0EsSUFBQW1iLEVBQUEsV0FDQSxPQUFBL21CLEVBQUFpM0IsT0FBQXRvQixRQUNBLG9CQUFBM08sRUFBQWkzQixPQUFBdG9CLFFBQ0EsYUFDQSxhQUNBLGtCQUFBM08sRUFBQWkzQixPQUFBdG9CLE9BQUEsVUFDQSxrQkFOQSxHQVNBeXpCLEVBQUFwaUMsRUFBQWkzQixPQUFBNStCLFFBQUEySCxFQUFBaTNCLE9BQUE1K0IsT0FBQUgsT0FDQW1xQyxHQUNBejNCLE1BQUE1SyxFQUFBaTNCLE9BQUFyc0IsTUFDQXNCLE1BQUFsTSxFQUFBaTNCLE9BQ0ExOEIsS0FBQUMsS0FBQXNwQixNQUNBenJCLE9BQUEySCxFQUFBaTNCLE9BQUE1K0IsT0FDQXFZLFNBQ0F6VCxNQUFBOHBCLEVBQ0F0VyxhQUFBelEsRUFBQXNpQyxJQUNBdHlCLGNBQUFoUSxFQUFBaTNCLE9BQUEzbUIsWUFBQXRRLEVBQUFpM0IsT0FBQTFtQixhQUFBcFUsRUFDQXdVLGVBQUF5eEIsR0FBQXBpQyxFQUFBaTNCLE9BQUE1K0IsT0FBQSxJQUFBMnBDLEdBQUFyeEIsa0JBQ0FDLGFBQUF3eEIsR0FBQXBpQyxFQUFBaTNCLE9BQUE1K0IsT0FBQSxJQUFBMnBDLEdBQUFweEIsaUJBRUF4SixFQUFBdlAsVUFBQW1JLEVBQUFnc0IsSUFBQS9pQixRQUFBLFNBQUEvUixFQUFBdkIsRUFBQTJWLEdBQ0FwVSxFQUFBeVUsUUFDQXpVLEVBQUF5VSxRQUFBMDJCLEVBQUEsU0FBQUUsR0FDQUYsRUFBQUUsRUFDQWozQixNQUlBQSxNQUVpQnpILEtBQUEsV0FDakI3RCxFQUFBZ3NCLElBQUFqZCxhQUFBc3pCLFFBOURBcmlDLEVBQUFnc0IsSUFBQS9pQixRQUFBLEdBQUFvNEIsT0FBQXJoQyxFQUFBaTNCLE9BQUEsU0FBQWlMLEdBQ0FsaUMsRUFBQWkzQixPQUFBaUwsRUFDQWxpQyxFQUFBZ3NCLElBQUE5aUIsTUFBQWxKLEVBQUFpM0IsT0FBQXJzQixPQUNBeUcsRUFBQXJSLEVBQUFpM0IsT0FBQTUrQixRQUdBZ1osRUFBQXJSLEVBQUFpM0IsT0FBQTUrQixPQUFBUSxJQUFBLFNBQUFuQyxHQUE4RCxPQUFBdVIsS0FBb0J2UixHQUFNeXJDLFVBQUFobUMsVUE4RHhGcW1DLEtBRUEzekIsRUFBQSxXQUNBLFNBQUFBLEVBQUF1QyxFQUFBeEcsRUFBQTYzQixFQUFBQyxFQUFBanlCLEdBQ0E5TixLQUFBcXBCLElBQUE1YSxFQUNBek8sS0FBQTIvQixJQUFBN3hCLEdBQUEsR0FDQTlOLEtBQUFzMEIsUUFDQXJzQixRQUNBaVosWUFDQVAsTUFBQSxVQUNBL1MsUUFBQS9WLEtBQUFzcEIsTUFBQSxJQUFBbmhCLEtBQUFxcEIsSUFBQXJoQixXQUNBZ0UsT0FBQTh6QixFQUNBeDBCLFdBQUF5MEIsRUFDQXJxQyxXQW9kQSxPQTdiQXdXLEVBQUE3WCxVQUFBcVYsTUFBQSxTQUFBdlEsR0FFQSxPQURBNkcsS0FBQXMwQixPQUFBNXFCLE1BQUF2USxFQUNBNkcsTUFXQWtNLEVBQUE3WCxVQUFBc3ZCLE1BQUEsU0FBQTBWLEVBQUFGLEdBRUEsT0FEQW41QixLQUFBczBCLE9BQUEzUSxPQUFBMFYsRUFBQUYsR0FDQW41QixNQVNBa00sRUFBQTdYLFVBQUE2VixHQUFBLFNBQUE4MUIsR0FFQSxPQURBaGdDLEtBQUFzMEIsT0FBQXBxQixHQUFBODFCLEVBQ0FoZ0MsTUFRQWtNLEVBQUE3WCxVQUFBNHJDLFNBQUEsU0FBQXRvQyxHQUVBLE9BREFxSSxLQUFBczBCLE9BQUEyTCxTQUFBdG9DLEdBQUEsSUFDQXFJLE1BVUFrTSxFQUFBN1gsVUFBQTZnQyxJQUFBLFNBQUFnTCxHQUVBLE9BREFsZ0MsS0FBQXMwQixPQUFBWSxJQUFBZ0wsRUFDQWxnQyxNQWlCQWtNLEVBQUE3WCxVQUFBNGtDLFFBQUEsU0FBQTkvQixHQUVBLE9BREE2RyxLQUFBczBCLE9BQUEyRSxRQUFBOS9CLEVBQ0E2RyxNQWtCQWtNLEVBQUE3WCxVQUFBb2tDLFFBQUEsU0FBQTVFLEdBRUEsT0FEQTd6QixLQUFBczBCLE9BQUFtRSxRQUFBNUUsRUFDQTd6QixNQVNBa00sRUFBQTdYLFVBQUEwa0MsT0FBQSxTQUFBNS9CLEdBS0EsT0FKQUEsRUFBQTVELFFBQUFtRixNQUFBQyxRQUFBeEIsS0FDQTZHLEtBQUFtZ0MsT0FBQSx1Q0FFQW5nQyxLQUFBczBCLE9BQUF5RSxPQUFBNS9CLEVBQ0E2RyxNQStCQWtNLEVBQUE3WCxVQUFBK2pCLEtBQUEsU0FBQWpmLEdBQ0EsR0FBQXVCLE1BQUFDLFFBQUFxRixLQUFBczBCLE9BQUFyc0IsT0FDQSxNQUFBd0MsTUFBQSxtQ0FNQSxPQUpBdFIsRUFBQThPLE9BQUE5TyxFQUFBUSxPQUNBcUcsS0FBQW1nQyxPQUFBLG1EQUVBbmdDLEtBQUFzMEIsT0FBQWxjLEtBQUFqZixFQUNBNkcsTUFjQWtNLEVBQUE3WCxVQUFBZ2xDLE1BQUEsU0FBQWxnQyxHQUVBLE9BREE2RyxLQUFBczBCLE9BQUErRSxNQUFBbGdDLEVBQ0E2RyxNQVVBa00sRUFBQTdYLFVBQUErckMsV0FBQSxTQUFBM3dCLEVBQUE0d0IsR0FFQSxPQURBcmdDLEtBQUFzMEIsT0FBQTdILE1BQTRCaGQsU0FBQXVpQixPQUFBcU8sR0FDNUJyZ0MsTUFVQWtNLEVBQUE3WCxVQUFBaXZCLFFBQUEsU0FBQUEsR0FFQSxPQURBdGpCLEtBQUFzMEIsT0FBQXBULFNBQUF2ckIsS0FBQTJ0QixHQUNBdGpCLE1BU0FrTSxFQUFBN1gsVUFBQW9WLE9BQUEsV0FFQSxJQURBLElBQUF0USxLQUNBNEgsRUFBQSxFQUF3QkEsRUFBQWQsVUFBQTFLLE9BQXVCd0wsSUFDL0M1SCxFQUFBNEgsR0FBQWQsVUFBQWMsR0FHQSxPQURBZixLQUFBczBCLE9BQUE3cUIsT0FBQXRRLEVBQ0E2RyxNQWNBa00sRUFBQTdYLFVBQUE4a0MsT0FBQSxTQUFBaGdDLEdBRUEsT0FEQTZHLEtBQUFzMEIsT0FBQTZFLE9BQUFoZ0MsRUFDQTZHLE1BbUJBa00sRUFBQTdYLFVBQUFpc0MsTUFBQSxTQUFBQyxHQUNBLElBQUEzbUMsRUFBQW9HLEtBQ0EsV0FBQXlFLEVBQUE5UCxRQUFBLFNBQUFVLEVBQUFDLEdBQ0FzRSxFQUFBeUssT0FBQW5ELEtBQUEsU0FBQXMvQixHQUNBLElBQUExeEIsS0FDQTB4QixFQUFBanJDLFFBQ0FGLEVBQUEsR0FBQXVFLEdBRUEybUMsR0FDQXp4QixFQUFBblosS0FBQWpDLE9BQUEwUixLQUFBbzdCLEVBQUEsSUFBQXBvQixLQUFBLE1BRUFvb0IsRUFBQXhrQyxRQUFBLFNBQUEyUyxHQUNBRyxFQUFBblosS0FBQWpDLE9BQUEwUixLQUFBdUosR0FBQXpZLElBQUEsU0FBQWdaLEdBQ0EsY0FBQVAsRUFBQU8sU0FBQTFWLElBQUFtVixFQUFBTyxHQUNBLEdBR0EsaUJBQUFQLEVBQUFPLEdBQUEsSUFBQW5hLEtBQUFFLFVBQUEwWixFQUFBTyxJQUFBM1UsUUFBQSxlQUFBb1UsRUFBQU8sS0FDcUJrSixLQUFBLFFBRXJCL2lCLEVBQUF5WixFQUFBc0osS0FBQSxNQUFBeGUsUUFZQXNTLEVBQUE3WCxVQUFBbVYsV0FBQSxTQUFBRCxHQUVBLE9BREF2SixLQUFBczBCLE9BQUFodkIsS0FBaUN0RixLQUFBczBCLE9BQUEvcUIsR0FDakN2SixLQUFBcUUsUUFTQTZILEVBQUE3WCxVQUFBb3NDLHFCQUFBLFNBQUF6MEIsR0FDQSxJQUFBaEgsRUFBQWhGLEtBQ0EsV0FBQXlFLEVBQUE5UCxRQUFBLFNBQUFVLEVBQUFDLEdBQ0EsT0FBQTBXLEdBQ0EsZUFDQSxJQUFBMDBCLEtBQ0ExN0IsRUFBQXN2QixPQUFBaHBCLFlBQUF0RyxFQUFBc3ZCLE9BQUFocEIsV0FBQS9WLE9BQ0E3QixPQUFBMFIsS0FBQUosRUFBQXFrQixJQUFBemlCLFdBQUE1QixFQUFBc3ZCLE9BQUFyc0IsUUFBQTlQLE9BQUEsU0FBQTlFLEdBQW1HLFdBQUEyUixFQUFBc3ZCLE9BQUFocEIsV0FBQTVVLFFBQUFyRCxLQUFvRDJJLFFBQUEsU0FBQTY2QixHQUN2SjZKLEVBQUE3SixHQUFBN3hCLEVBQUFxa0IsSUFBQXppQixXQUFBNUIsRUFBQXN2QixPQUFBcnNCLE9BQUE0dUIsS0FJQTZKLEVBQUExN0IsRUFBQXFrQixJQUFBemlCLFdBQUE1QixFQUFBc3ZCLE9BQUFyc0IsT0FFQWpELEVBQUFzdkIsT0FBQXRvQixPQUFBLFNBQ0FoSCxFQUFBc3ZCLE9BQUFocEIsZ0JBQUE5UixFQUNBLElBQUFtbkMsRUFBQWp0QyxPQUFBMFIsS0FBQXM3QixHQUNBcEIsRUFBQXQ2QixFQUFBLFNBQUEyRSxHQUNBbEYsRUFBQXZQLFVBQUF5VSxFQUFBLFNBQUFnRixFQUFBM2IsRUFBQXlxQixHQUNBL3BCLE9BQUF3dkIsU0FBQXZVLEtBQ0FBLEVBQUFsSyxFQUFBNVAsUUFBQThaLElBRUFsSyxFQUFBek8sUUFBQTJxQyxFQUFBLFNBQUE5SixFQUFBN2pDLEVBQUE0WixHQUNBLElBQUFpRyxFQUFBN04sRUFBQXFrQixJQUFBMWlCLFNBQUEzQixFQUFBc3ZCLE9BQUFyc0IsT0FBQXk0QixFQUFBN0osR0FBQSxJQUNBaGtCLEVBSUFBLEVBQUFoVyxNQUFBLE1BQUE4UixFQUFBa29CLEdBQUEsU0FBQStKLEdBQ0FqeUIsRUFBQWtvQixHQUFBK0osRUFDQWgwQixNQUNxQ2hRLE9BQUE4akMsRUFBQTdKLEdBQUExK0IsT0FBQSxTQUFBOEMsRUFBQWpJLEdBQWlELE9BQUFBLEVBQUEsSUFBZ0JrRCxJQUFBLFNBQUE3QyxHQUFvQixPQUFBc2IsRUFBQXRiLE9BTjFIdVosTUFPNkIxTCxLQUFBLFdBQzdCOEQsRUFBQXFrQixJQUFBOWYsTUFBQSxTQUFBb0YsR0FBQW5GLFlBQTJFdkIsTUFBQWpELEVBQUFzdkIsT0FBQXJzQixRQUE0Qi9HLEtBQUF1YyxHQUFBM2IsTUFBQTJiLE9BRTlFdmMsS0FBQSxXQUN6QjdMLEdBQWlDbzJCLElBQUE5aEIsRUFBQXBVLE9BQUEsdUJBR2pDLE1BQ0EsWUFDQSxJQUFBc3JDLEdBQUE3N0IsRUFBQXN2QixPQUFBaHBCLFlBQUEsSUFBQS9RLFFBQUEsU0FDQSxJQUFBeUssRUFBQXFrQixJQUFBNWlCLFNBQUF6QixFQUFBc3ZCLE9BQUFyc0IsU0FBQWpELEVBQUFxa0IsSUFBQTVpQixTQUFBekIsRUFBQXN2QixPQUFBcnNCLE9BQUE0NEIsR0FnQ0EsWUFEQXZyQyxFQUFBLGVBQUEwUCxFQUFBc3ZCLE9BQUFocEIsV0FBQSw4QkE5QkEsSUFBQXcxQixFQUFBOTdCLEVBQUFxa0IsSUFBQTVpQixTQUFBekIsRUFBQXN2QixPQUFBcnNCLE9BQUE0NEIsR0FDQUUsRUFBQS83QixFQUFBcWtCLElBQUEzaUIsU0FBQTFCLEVBQUFzdkIsT0FBQXJzQixPQUNBLEdBQUFqRCxFQUFBc3ZCLE9BQUFwcUIsSUFBQWxGLEVBQUFzdkIsT0FBQXBxQixHQUFBM1UsT0FTQSxZQVJBa1AsRUFBQXpPLFFBQUFnUCxFQUFBc3ZCLE9BQUFwcUIsR0FBQSxTQUFBNlksRUFBQS92QixFQUFBeXFCLEdBQ0FxakIsRUFBQS9kLEtBQTJDLFNBQUFvSCxHQUMzQ0EsRUFBQTRXLEdBQUFoZSxFQUNBL2QsRUFBQXFrQixJQUFBOWYsTUFBQSxTQUFBNGdCLEdBQUEzZ0IsWUFBa0Z2QixNQUFBakQsRUFBQXN2QixPQUFBcnNCLFFBQTRCL0csS0FBQXVjLEdBQUEzYixNQUFBMmIsT0FFakZ2YyxLQUFBLFdBQzdCN0wsSUFBc0NvMkIsS0FBQXptQixFQUFBc3ZCLE9BQUFwcUIsUUFBQTNVLE9BQUEsZ0NBSXRDeVAsRUFBQXN2QixPQUFBdG9CLE9BQUEsU0FDQWhILEVBQUFzdkIsT0FBQWhwQixnQkFBQTlSLEVBQ0E4bEMsRUFBQXQ2QixFQUFBLFNBQUEyRSxHQUNBbEYsRUFBQXpPLFFBQUEyVCxFQUFBLFNBQUFnRixFQUFBM2IsRUFBQXlxQixHQUNBL3BCLE9BQUF3dkIsU0FBQXZVLEtBQ0FBLEVBQUFsSyxFQUFBNVAsUUFBQThaLElBRUFteUIsRUFBQW55QixFQUFBb3lCLEdBQUFweUIsRUFBQSxTQUFBd2IsR0FDQUEsRUFBQTRXLEdBQUFweUIsRUFBQW95QixHQUNBLzdCLEVBQUFxa0IsSUFBQTlmLE1BQUEsU0FBQTRnQixHQUFBM2dCLFlBQWtGdkIsTUFBQWpELEVBQUFzdkIsT0FBQXJzQixRQUE0Qi9HLEtBQUF1YyxHQUFBM2IsTUFBQTJiLE9BRWpGdmMsS0FBQSxXQUM3QjdMLEdBQXFDbzJCLElBQUE5aEIsRUFBQXBVLE9BQUEsMkJBMkJyQzJXLEVBQUE3WCxVQUFBZ1EsS0FBQSxXQUNBLElBQUFXLEVBQUFoRixLQUNBLFNBQUFBLEtBQUFzMEIsT0FBQXJzQixNQUFBLENBRUEsSUFBQXJPLEVBQUFvRyxLQUNBNUcsRUFBQTRHLEtBQUFzMEIsT0FBQXRvQixPQUFBbFIsY0FDQSx3QkFBQXBFLFFBQUEwQyxJQUFBLEdBQ0EsR0FBQTRHLEtBQUFzMEIsT0FBQTJMLFNBQUEsQ0FDQSxJQUFBZSxFQUFBdjhCLEVBQUE5TCxLQUFBNUQsS0FBQUUsV0FBQStLLEtBQUFzMEIsT0FBQXJzQixNQUFBN08sRUFBQTRHLEtBQUFzMEIsT0FBQWhwQixXQUFBdEwsS0FBQXMwQixPQUFBcHFCLEdBQUFsSyxLQUFBczBCLE9BQUE1cUIsT0FBQXZSLE9BQUEsU0FBQXBFLEdBQWtMLE9BQUFBLE1BQ2xMLFdBQUEwUSxFQUFBOVAsUUFBQSxTQUFBVSxFQUFBQyxHQUNBdXFDLEVBQUFtQixJQUNBQyxhQUFBcEIsRUFBQW1CLElBRUFuQixFQUFBbUIsR0FBQTcvQixXQUFBLFdBQ0E2RCxFQUFBeTdCLHFCQUFBcm5DLEdBQUE4SCxLQUFBN0wsSUFDcUIyUCxFQUFBc3ZCLE9BQUEyTCxZQUdyQixPQUFBamdDLEtBQUF5Z0MscUJBQUFybkMsR0FFQSxrRUFBQTFDLFFBQUEwQyxJQUFBLEdBMkJBLE1BQUFxUixNQUFBLDZCQTFCQSxJQUFBeUQsRUFBQWxPLEtBQUFzMEIsT0FBQWhwQixhQUFBLFdBQUFsUyxHQUFBLFdBQUFBLFNBQ0EsY0FBQUEsRUFBQSxDQUtBLElBSEEsSUFBQThuQyxLQUNBNzVCLEVBQUFySCxLQUFBcXBCLElBQUFuakIsV0FBQWxHLEtBQUFzMEIsT0FBQXJzQixPQUNBaUgsRUFBQSxFQUNBQSxFQUFBN0gsRUFBQTlSLGFBQ0FpRSxJQUFBMFUsRUFBQTdHLEVBQUE2SCxHQUFBL1EsT0FDQStpQyxFQUFBNzVCLEVBQUE2SCxHQUFBL1EsS0FBQXNHLEVBQUFsTCxLQUFBOE4sRUFBQTZILEdBQUF2VixLQUFBdVUsRUFBQTdHLEVBQUE2SCxHQUFBL1EsT0FFQStRLElBR0EsR0FBQWxQLEtBQUFxcEIsSUFBQTdpQixVQUFBeEcsS0FBQXMwQixPQUFBcnNCLE9BQUEsQ0FDQSxJQUFBazVCLEVBQUE5NUIsRUFBQW5SLElBQUEsU0FBQTlDLEdBQWtFLE9BQUFBLEVBQUErSyxNQUNsRXpLLE9BQUEwUixLQUFBOEksR0FBQS9WLE9BQUEsU0FBQTlFLEdBQThFLFdBQUE4dEMsRUFBQXpxQyxRQUFBckQsS0FDOUUySSxRQUFBLFNBQUE2NkIsR0FDQXFLLEVBQUFySyxHQUFBM29CLEVBQUEyb0IsS0FHQTNvQixFQUFBZ3pCLEVBUUEsT0FOQWxoQyxLQUFBczBCLE9BQUF0b0IsT0FBQTVTLEVBQ0E0RyxLQUFBczBCLE9BQUFocEIsV0FBQXRMLEtBQUFzMEIsT0FBQWhwQixXQUFBNEMsT0FBQTFVLEVBS0EsSUFBQWlMLEVBQUE5UCxRQUFBLFNBQUFVLEVBQUFDLEdBRUFvRixNQUFBQyxRQUFBcUssRUFBQXN2QixPQUFBcnNCLE9BQ0FqRCxFQUFBcWtCLElBQUFuaUIsR0FBQXczQixRQUNBMTVCLEVBQUFxa0IsSUFBQW5pQixHQUFBdzNCLE9BQUExNUIsRUFBQXN2QixPQUFBLFNBQUFuQyxHQUNBOThCLEVBQUE4OEIsRUFBQXo4QixXQUtBa0UsRUFBQXl2QixJQUFBL2lCLFFBQUEvUSxTQUNBcUUsRUFBQXVtQyxPQUFBLDhCQUVBdm1DLEVBQUF1bUMsT0FDQTdxQyxFQUFBc0UsRUFBQXVtQyxPQUFBbjdCLEVBQUFxa0IsS0FHQXJrQixFQUFBcWtCLElBQUE3ZCxTQUNBeEcsRUFBQXFrQixJQUFBN2QsU0FBQXhHLEVBQUFzdkIsT0FBQSxTQUFBaUwsR0FDQXY2QixFQUFBc3ZCLE9BQUFpTCxFQUNBRCxFQUFBdDZCLEVBQUEzUCxLQUlBaXFDLEVBQUF0NkIsRUFBQTNQLFFBSUE2VyxFQS9kQSxHQWllQXBaLEVBQUFvWixzSENyakJBLE1BQUFrMUIsRUFBQXh1QyxFQUFBLElBR0F5dUMsa0pBRkF6dUMsRUFBQSxLQUVBQSxFQUFBLEtBRUEwdUMsRUFBQTF1QyxFQUFBLHlDQUltQixFQUFBd3VDLEVBQUF0d0IsTUFBSyxXQUFXaEksUUFDaEMzSyxJQUFLLEtBQU14RSxLQUFNLE1BQU8wTyxPQUFRLEtBQU0sUUFDdENsSyxJQUFLLFNBQVV4RSxLQUFNLFdBQ3JCd0UsSUFBSyxVQUFXeEUsS0FBTSxTQUN0QjZOLFFBQVFrQixLQUFNLFNBRUpSLFVBQVVoSCxLQUFLLFNBQUM3TCxHQUMzQixPQUFPLEVBQUErckMsRUFBQXR3QixRQUFPdkgsTUFBTSxVQUNsQmc0QixPQUFRLFFBQVN0aEIsUUFBUyxLQUN6QjViLFNBR0wsSUFBTW05QixHQUFTLEVBQUFILEVBQUE5Z0IsVUFBQWtoQixFQUFBbDFCLFdBQ0dxVCxjQUFWNGhCLGdDQ1hSLElBQUFFLEVBQUEsUUFpQkEzdUMsRUFBQUQsUUFOQSxTQUFBNnVDLEdBQ0EsT0FBQUEsRUFBQXBuQyxRQUFBbW5DLEVBQUEsU0FBQUUsRUFBQUMsR0FDQSxPQUFBQSxFQUFBM3hCLCtDQ2JBLElBQUE0eEIsRUFBQWx2QyxFQUFBLEtBRUFtdkMsRUFBQSxRQXVCQWh2QyxFQUFBRCxRQUpBLFNBQUE2dUMsR0FDQSxPQUFBRyxFQUFBSCxFQUFBcG5DLFFBQUF3bkMsRUFBQSx1Q0N0QkEsSUFBQUMsRUFBQSxXQWtCQWp2QyxFQUFBRCxRQUpBLFNBQUE2dUMsR0FDQSxPQUFBQSxFQUFBcG5DLFFBQUF5bkMsRUFBQSxPQUFBbG5DLDZDQ2ZBLElBQUFtbkMsRUFBQXJ2QyxFQUFBLEtBRUFtdkMsRUFBQSxPQXNCQWh2QyxFQUFBRCxRQUpBLFNBQUE2dUMsR0FDQSxPQUFBTSxFQUFBTixHQUFBcG5DLFFBQUF3bkMsRUFBQSx1Q0NYQWh2QyxFQUFBRCxRQU5BLFNBQUFxQixHQUNBLElBQ0ErdEMsR0FEQS90QyxJQUFBZ3VDLGVBQUFodUMsRUFBQW1lLFVBQ0E0dkIsYUFBQXR0QyxPQUNBLFNBQUFULEtBQUEsbUJBQUErdEMsRUFBQUUsS0FBQWp1QyxhQUFBK3RDLEVBQUFFLEtBQUEsaUJBQUFqdUMsR0FBQSxpQkFBQUEsRUFBQWt1QyxVQUFBLGlCQUFBbHVDLEVBQUFtdUMsMENDUEEsSUFBQUMsRUFBQTN2QyxFQUFBLEtBVUFHLEVBQUFELFFBSkEsU0FBQXFCLEdBQ0EsT0FBQW91QyxFQUFBcHVDLElBQUEsR0FBQUEsRUFBQWt1Qyx3Q0NQQSxJQUFBRyxFQUFBNXZDLEVBQUEsS0F5QkFHLEVBQUFELFFBbEJBLFNBQUEydkMsRUFBQUMsRUFBQUMsR0FDQSxTQUFBRCxJQUFBQyxLQUVHRCxJQUFBQyxJQUVBSCxFQUFBRSxLQUVBRixFQUFBRyxHQUNIRixFQUFBQyxFQUFBQyxFQUFBQyxZQUNHLGFBQUFGLEVBQ0hBLEVBQUFHLFNBQUFGLEtBQ0dELEVBQUFJLDRCQUNILEdBQUFKLEVBQUFJLHdCQUFBSCxxQ0NoQkEsSUFBQXJ1QyxFQUFBWixPQUFBVyxVQUFBQyxlQU1BLFNBQUF5aUIsRUFBQTFDLEVBQUEwdUIsR0FFQSxPQUFBMXVCLElBQUEwdUIsRUFJQSxJQUFBMXVCLEdBQUEsSUFBQTB1QixHQUFBLEVBQUExdUIsR0FBQSxFQUFBMHVCLEVBR0ExdUIsTUFBQTB1QixLQW1DQWh3QyxFQUFBRCxRQTFCQSxTQUFBNm5DLEVBQUFDLEdBQ0EsR0FBQTdqQixFQUFBNGpCLEVBQUFDLEdBQ0EsU0FHQSxvQkFBQUQsR0FBQSxPQUFBQSxHQUFBLGlCQUFBQyxHQUFBLE9BQUFBLEVBQ0EsU0FHQSxJQUFBb0ksRUFBQXR2QyxPQUFBMFIsS0FBQXUxQixHQUNBc0ksRUFBQXZ2QyxPQUFBMFIsS0FBQXcxQixHQUVBLEdBQUFvSSxFQUFBenRDLFNBQUEwdEMsRUFBQTF0QyxPQUNBLFNBSUEsUUFBQXZDLEVBQUEsRUFBaUJBLEVBQUFnd0MsRUFBQXp0QyxPQUFrQnZDLElBQ25DLElBQUFzQixFQUFBbkIsS0FBQXluQyxFQUFBb0ksRUFBQWh3QyxNQUFBK2pCLEVBQUE0akIsRUFBQXFJLEVBQUFod0MsSUFBQTRuQyxFQUFBb0ksRUFBQWh3QyxLQUNBLFNBSUEsd0NDMUJBRCxFQUFBRCxRQVpBLFNBQUFvd0MsR0FFQSxhQURBQSxNQUFBLG9CQUFBNXdCLHVCQUFBOVksSUFFQSxZQUVBLElBQ0EsT0FBQTBwQyxFQUFBQyxlQUFBRCxFQUFBRSxLQUNHLE1BQUFwbEMsR0FDSCxPQUFBa2xDLEVBQUFFLHFDQ3JCQSxJQUFBQyxJQUFBLG9CQUFBenVDLGdCQUFBMGQsV0FBQTFkLE9BQUEwZCxTQUFBMEUsZUFRQXNzQixHQUVBRCxZQUVBRSxjQUFBLG9CQUFBclksT0FFQXNZLHFCQUFBSCxNQUFBenVDLE9BQUE2TCxtQkFBQTdMLE9BQUE2dUMsYUFFQUMsZUFBQUwsS0FBQXp1QyxPQUFBK3VDLE9BRUFDLFlBQUFQLEdBSUF0d0MsRUFBQUQsUUFBQXd3Qzs7Ozs7Ozs7SUNsQkEsV0FHQSxJQUFBampCLEVBQUF6dEIsRUFBQSxJQUNBeWtCLEVBQUF6a0IsRUFBQSxJQUNBK2dCLEVBQUEvZ0IsRUFBQSxJQUNBMHdDLEVBQUExd0MsRUFBQSxLQUNBaUMsRUFBQWpDLEVBQUEsSUFDQXdnQixFQUFBeGdCLEVBQUEsSUFDQWl4QyxFQUFBanhDLEVBQUEsSUFDQWt4QyxFQUFBbHhDLEVBQUEsS0FDQW14QyxFQUFBbnhDLEVBQUEsS0FDQTZ2QyxFQUFBN3ZDLEVBQUEsS0FDQW1sQixFQUFBbmxCLEVBQUEsSUFDQW94QyxFQUFBcHhDLEVBQUEsS0FDQXF4QyxFQUFBcnhDLEVBQUEsS0FTQXl0QixHQUFBaEosR0FBQSxxR0FFQSxJQUFBNnNCLEVBQUEsU0FBQTN3QyxFQUFBb1EsRUFBQSttQixFQUFBdHhCLEVBQUFmLEVBQUFoRixFQUFBQyxFQUFBMEssRUFBQUosR0FDQW9DLEtBQUFta0MsaUJBQUEsRUFDQW5rQyxLQUFBb2tDLGFBQUEsS0FDQSxJQUFBQyxFQUFBM3BDLE1BQUFyRyxVQUFBaUUsTUFBQW5GLEtBQUE4TSxVQUFBLEdBQ0EsSUFDQTBELEVBQUE5RyxNQUFBNnRCLEVBQUEyWixHQUNHLE1BQUFsaEMsR0FDSG5ELEtBQUFva0MsYUFBQWpoQyxFQUNBbkQsS0FBQW1rQyxpQkFBQSxJQTBCQSx1QkFBQXZ2QyxRQUFBLG1CQUFBQSxPQUFBMHZDLGVBQUEsb0JBQUFoeUIsVUFBQSxtQkFBQUEsU0FBQWl5QixZQUFBLENBQ0EsSUFBQUMsRUFBQWx5QixTQUFBMEUsY0FBQSxTQXNGQWt0QixFQXBGQSxTQUFBM3dDLEVBQUFvUSxFQUFBK21CLEVBQUF0eEIsRUFBQWYsRUFBQWhGLEVBQUFDLEVBQUEwSyxFQUFBSixHQUtBLG9CQUFBMFUsVUFBQStFLEdBQUEsMGNBQ0EsSUFBQW90QixFQUFBbnlCLFNBQUFpeUIsWUFBQSxTQVFBRyxHQUFBLEVBS0FMLEVBQUEzcEMsTUFBQXJHLFVBQUFpRSxNQUFBbkYsS0FBQThNLFVBQUEsR0FzQkEsSUFBQWtELE9BQUEsRUFFQXdoQyxHQUFBLEVBQ0FDLEdBQUEsRUFFQSxTQUFBMWdDLEVBQUF0RCxHQUNBdUMsRUFBQXZDLEVBQUF1QyxNQUNBd2hDLEdBQUEsRUFDQSxPQUFBeGhDLEdBQUEsSUFBQXZDLEVBQUFpa0MsT0FBQSxJQUFBamtDLEVBQUFra0MsU0FDQUYsR0FBQSxHQUtBLElBQUFHLEVBQUEsVUFBQXh4QyxHQUFBLHlCQUdBcUIsT0FBQTZMLGlCQUFBLFFBQUF5RCxHQUNBc2dDLEVBQUEvakMsaUJBQUFza0MsRUF2Q0EsU0FBQUMsSUFLQVIsRUFBQVMsb0JBQUFGLEVBQUFDLEdBQUEsR0FDQXJoQyxFQUFBOUcsTUFBQTZ0QixFQUFBMlosR0FDQUssR0FBQSxJQWdDQSxHQUlBRCxFQUFBUyxVQUFBSCxHQUFBLE1BQ0FQLEVBQUFGLGNBQUFHLEdBRUFDLEdBQ0FDLEVBR1NDLElBQ1R6aEMsRUFBQSxJQUFBc0gsTUFBQSwwS0FGQXRILEVBQUEsSUFBQXNILE1BQUEsdWRBSUF6SyxLQUFBbWtDLGlCQUFBLEVBQ0Fua0MsS0FBQW9rQyxhQUFBamhDLElBRUFuRCxLQUFBbWtDLGlCQUFBLEVBQ0Fua0MsS0FBQW9rQyxhQUFBLE1BSUF4dkMsT0FBQXF3QyxvQkFBQSxRQUFBL2dDLElBT0EsSUFBQWloQyxFQUFBakIsRUFFQWtCLEdBRUFoQixhQUFBLEtBQ0FELGlCQUFBLEVBR0FrQixjQUFBLEtBQ0FDLGtCQUFBLEVBZUFwQixzQkFBQSxTQUFBM3dDLEVBQUFvUSxFQUFBK21CLEVBQUF0eEIsRUFBQWYsRUFBQWhGLEVBQUFDLEVBQUEwSyxFQUFBSixHQUNBdW5DLEVBQUF0b0MsTUFBQXVvQyxFQUFBbmxDLFlBYUFzbEMsd0NBQUEsU0FBQWh5QyxFQUFBb1EsRUFBQSttQixFQUFBdHhCLEVBQUFmLEVBQUFoRixFQUFBQyxFQUFBMEssRUFBQUosR0FFQSxHQURBd25DLEVBQUFsQixzQkFBQXJuQyxNQUFBbUQsS0FBQUMsV0FDQW1sQyxFQUFBSSxpQkFBQSxDQUNBLElBQUFyaUMsRUFBQWlpQyxFQUFBSyxtQkFDQUwsRUFBQUUsbUJBQ0FGLEVBQUFFLGtCQUFBLEVBQ0FGLEVBQUFDLGNBQUFsaUMsS0FTQXVpQyxtQkFBQSxXQUNBLE9BQUFBLEVBQUE3b0MsTUFBQXVvQyxFQUFBbmxDLFlBR0F1bEMsZUFBQSxXQUNBLE9BQUFKLEVBQUFqQixpQkFHQXNCLGlCQUFBLFdBQ0EsR0FBQUwsRUFBQWpCLGdCQUFBLENBQ0EsSUFBQWhoQyxFQUFBaWlDLEVBQUFoQixhQUdBLE9BRkFnQixFQUFBaEIsYUFBQSxLQUNBZ0IsRUFBQWpCLGlCQUFBLEVBQ0FoaEMsRUFFQWtVLEdBQUEsbUlBS0FxdUIsRUFBQSxXQUNBLEdBQUFOLEVBQUFFLGlCQUFBLENBQ0EsSUFBQW5pQyxFQUFBaWlDLEVBQUFDLGNBR0EsTUFGQUQsRUFBQUMsY0FBQSxLQUNBRCxFQUFBRSxrQkFBQSxFQUNBbmlDLElBT0F3aUMsRUFBQSxLQUtBQyxLQU9BLFNBQUFDLElBQ0EsR0FBQUYsRUFJQSxRQUFBRyxLQUFBRixFQUFBLENBQ0EsSUFBQUcsRUFBQUgsRUFBQUUsR0FDQUUsRUFBQUwsRUFBQWp2QyxRQUFBb3ZDLEdBRUEsR0FEQUUsR0FBQSxHQUFBM3VCLEdBQUEscUdBQUF5dUIsSUFDQXgvQixFQUFBMC9CLEdBQUEsQ0FHQUQsRUFBQUUsZUFBQTV1QixHQUFBLG9HQUFBeXVCLEdBQ0F4L0IsRUFBQTAvQixHQUFBRCxFQUNBLElBQUFHLEVBQUFILEVBQUEzaEIsV0FDQSxRQUFBK2hCLEtBQUFELEVBQ0FFLEVBQUFGLEVBQUFDLEdBQUFKLEVBQUFJLElBQUE5dUIsR0FBQSx1RUFBQTh1QixFQUFBTCxLQWFBLFNBQUFNLEVBQUFDLEVBQUFOLEVBQUFJLEdBQ0FHLEVBQUFoeUMsZUFBQTZ4QyxJQUFBOXVCLEdBQUEseUZBQUE4dUIsR0FDQUcsRUFBQUgsR0FBQUUsRUFFQSxJQUFBRSxFQUFBRixFQUFBRSx3QkFDQSxHQUFBQSxFQUFBLENBQ0EsUUFBQUMsS0FBQUQsRUFBQSxDQUNBLEdBQUFBLEVBQUFqeUMsZUFBQWt5QyxHQUVBQyxFQURBRixFQUFBQyxHQUNBVCxFQUFBSSxHQUdBLFNBQ0csUUFBQUUsRUFBQUssbUJBQ0hELEVBQUFKLEVBQUFLLGlCQUFBWCxFQUFBSSxJQUNBLEdBWUEsU0FBQU0sRUFBQUMsRUFBQVgsRUFBQUksR0FDQVEsRUFBQUQsSUFBQXJ2QixHQUFBLGdHQUFBcXZCLEdBQ0FDLEVBQUFELEdBQUFYLEVBQ0FhLEVBQUFGLEdBQUFYLEVBQUEzaEIsV0FBQStoQixHQUFBVSxhQUdBLElBQUFDLEVBQUFKLEVBQUE1ckMsY0FDQWlzQyxFQUFBRCxHQUFBSixFQUVBLGtCQUFBQSxJQUNBSyxFQUFBQyxXQUFBTixHQWNBLElBQUFwZ0MsS0FLQWdnQyxLQUtBSyxLQUtBQyxLQVFBRyxLQVlBLFNBQUFFLEVBQUFDLEdBQ0F2QixHQUFBdHVCLEdBQUEseUlBRUFzdUIsRUFBQWpyQyxNQUFBckcsVUFBQWlFLE1BQUFuRixLQUFBK3pDLEdBQ0FyQixJQWFBLFNBQUFzQixFQUFBQyxHQUNBLElBQUFDLEdBQUEsRUFDQSxRQUFBdkIsS0FBQXNCLEVBQ0EsR0FBQUEsRUFBQTl5QyxlQUFBd3hDLEdBQUEsQ0FHQSxJQUFBQyxFQUFBcUIsRUFBQXRCLEdBQ0FGLEVBQUF0eEMsZUFBQXd4QyxJQUFBRixFQUFBRSxLQUFBQyxJQUNBSCxFQUFBRSxJQUFBenVCLEdBQUEsOEZBQUF5dUIsR0FDQUYsRUFBQUUsR0FBQUMsRUFDQXNCLEdBQUEsR0FHQUEsR0FDQXhCLElBSUEsSUFBQXlCLEVBQUE1ekMsT0FBQXdJLFFBQ0FvSyxVQUNBZ2dDLDJCQUNBSywwQkFDQUMsK0JBQ0FHLDRCQUNBRSx5QkFDQUUsNkJBR0FJLEVBQUEsS0FDQUMsRUFBQSxLQUNBQyxFQUFBLEtBRUFDLEVBQ0EsU0FBQUMsR0FDQUosRUFBQUksRUFBQUosNkJBQ0FDLEVBQUFHLEVBQUFILG9CQUNBQyxFQUFBRSxFQUFBRixvQkFHQTl6QixFQUFBOHpCLEdBQUFELEVBQUEsZ0lBVUFJLE9BQUEsRUF1QkEsU0FBQUMsRUFBQWpuQyxFQUFBa25DLEVBQUFwYyxFQUFBcWMsR0FDQSxJQUFBcHVDLEVBQUFpSCxFQUFBakgsTUFBQSxnQkFDQWlILEVBQUFvbkMsY0FBQVAsRUFBQU0sR0FDQTNDLEVBQUFHLHdDQUFBNXJDLEVBQUEreEIsT0FBQWx5QixFQUFBb0gsR0FDQUEsRUFBQW9uQyxjQUFBLEtBNkRBLFNBQUFDLEVBQUFDLEVBQUF0N0IsR0FHQSxPQUZBLE1BQUFBLEdBQUF5SyxHQUFBLDJFQUVBLE1BQUE2d0IsRUFDQXQ3QixFQUtBbFMsTUFBQUMsUUFBQXV0QyxHQUNBeHRDLE1BQUFDLFFBQUFpUyxJQUNBczdCLEVBQUF2eUMsS0FBQWtILE1BQUFxckMsRUFBQXQ3QixHQUNBczdCLElBRUFBLEVBQUF2eUMsS0FBQWlYLEdBQ0FzN0IsR0FHQXh0QyxNQUFBQyxRQUFBaVMsSUFFQXM3QixHQUFBdHJDLE9BQUFnUSxJQUdBczdCLEVBQUF0N0IsR0FZQSxTQUFBdTdCLEVBQUEvc0MsRUFBQWdPLEVBQUFnL0IsR0FDQTF0QyxNQUFBQyxRQUFBUyxHQUNBQSxFQUFBWSxRQUFBb04sRUFBQWcvQixHQUNHaHRDLEdBQ0hnTyxFQUFBalcsS0FBQWkxQyxFQUFBaHRDLEdBN0hBd3NDLEVBQUEsU0FBQWhuQyxHQUNBLElBQUF5bkMsRUFBQXpuQyxFQUFBMG5DLG1CQUNBQyxFQUFBM25DLEVBQUE0bkMsbUJBRUFDLEVBQUEvdEMsTUFBQUMsUUFBQTB0QyxHQUNBSyxFQUFBRCxFQUFBSixFQUFBOXlDLE9BQUE4eUMsRUFBQSxJQUVBTSxFQUFBanVDLE1BQUFDLFFBQUE0dEMsR0FDQUssRUFBQUQsRUFBQUosRUFBQWh6QyxPQUFBZ3pDLEVBQUEsSUFFQTUwQixFQUFBZzFCLElBQUFGLEdBQUFHLElBQUFGLEVBQUEsdUNBMkhBLElBQUFHLEVBQUEsS0FTQUMsRUFBQSxTQUFBbG9DLEVBQUFrbkMsR0FDQWxuQyxLQWhIQSxTQUFBQSxFQUFBa25DLEdBQ0EsSUFBQU8sRUFBQXpuQyxFQUFBMG5DLG1CQUNBQyxFQUFBM25DLEVBQUE0bkMsbUJBSUEsR0FGQVosRUFBQWhuQyxHQUVBbEcsTUFBQUMsUUFBQTB0QyxHQUNBLFFBQUFyMUMsRUFBQSxFQUFtQkEsRUFBQXExQyxFQUFBOXlDLFNBQ25CcUwsRUFBQW1vQyx1QkFEaUQvMUMsSUFLakQ2MEMsRUFBQWpuQyxFQUFBa25DLEVBQUFPLEVBQUFyMUMsR0FBQXUxQyxFQUFBdjFDLFNBRUdxMUMsR0FDSFIsRUFBQWpuQyxFQUFBa25DLEVBQUFPLEVBQUFFLEdBRUEzbkMsRUFBQTBuQyxtQkFBQSxLQUNBMW5DLEVBQUE0bkMsbUJBQUEsS0ErRkFRLENBQUFwb0MsR0FFQUEsRUFBQXFvQyxnQkFDQXJvQyxFQUFBa1csWUFBQW95QixRQUFBdG9DLEtBSUF1b0MsRUFBQSxTQUFBbnJDLEdBQ0EsT0FBQThxQyxFQUFBOXFDLElBRUFvckMsRUFBQSxTQUFBcHJDLEdBQ0EsT0FBQThxQyxFQUFBOXFDLElBbURBLElBQUFxckMsR0FLQXBDLHlCQUtBRSw0QkFRQSxTQUFBbUMsRUFBQXZCLEVBQUFyQixHQUNBLElBQUFoYixFQUlBNmQsRUFBQXhCLEVBQUF3QixVQUNBLElBQUFBLEVBRUEsWUFFQSxJQUFBbGhDLEVBQUFrL0IsRUFBQWdDLEdBQ0EsT0FBQWxoQyxHQUlBcWpCLEVBQUFyakIsRUFBQXErQixHQTdFQSxTQUFBbnpDLEVBQUFvRyxFQUFBME8sR0FDQSxPQUFBOVUsR0FDQSxjQUNBLHFCQUNBLG9CQUNBLDJCQUNBLGtCQUNBLHlCQUNBLGtCQUNBLHlCQUNBLGdCQUNBLHVCQUNBLFNBQUE4VSxFQUFBbWhDLFdBaEJBajRCLEVBZ0JBNVgsRUFmQSxXQUFBNFgsR0FBQSxVQUFBQSxHQUFBLFdBQUFBLEdBQUEsYUFBQUEsSUFnQkEsUUFDQSxTQWxCQSxJQUFBQSxFQWtGQWs0QixDQUFBL0MsRUFBQXFCLEVBQUFwdUMsS0FBQTBPLEdBQ0EsTUFFQXFqQixHQUFBLG1CQUFBQSxHQUFBclUsR0FBQSwrRUFBQXF2QixTQUFBaGIsR0FDQUEsSUFQQSxLQWdDQSxTQUFBZ2UsRUFBQUMsRUFBQTdCLEdBQ0EsT0FBQTZCLElBQ0FkLEVBQUFaLEVBQUFZLEVBQUFjLElBS0EsSUFBQUMsRUFBQWYsRUFDQUEsRUFBQSxLQUVBZSxJQUtBekIsRUFBQXlCLEVBREE5QixFQUNBcUIsRUFFQUMsR0FFQVAsR0FBQXh4QixHQUFBLDBJQUVBK3RCLEVBQUFNLHNCQUdBLFNBQUFtRSxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUVBUCxFQXpDQSxTQUFBSSxFQUFBQyxFQUFBQyxFQUFBQyxHQUVBLElBREEsSUFBQU4sRUFBQSxLQUNBMzJDLEVBQUEsRUFBaUJBLEVBQUFzVCxFQUFBL1EsT0FBb0J2QyxJQUFBLENBRXJDLElBQUFrM0MsRUFBQTVqQyxFQUFBdFQsR0FDQSxHQUFBazNDLEVBQUEsQ0FDQSxJQUFBQyxFQUFBRCxFQUFBakUsY0FBQTZELEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0FFLElBQ0FSLEVBQUExQixFQUFBMEIsRUFBQVEsS0FJQSxPQUFBUixFQTRCQTFELENBQUE2RCxFQUFBQyxFQUFBQyxFQUFBQyxJQUNBLEdBR0EsSUFBQUcsRUFBQTEyQyxPQUFBd0ksUUFDQW10QyxZQUNBQyxjQUNBSSxtQkFDQUcsOEJBR0FRLEVBQUEsRUFDQUMsRUFBQSxFQUNBQyxFQUFBLEVBQ0FDLEVBQUEsRUFDQUMsR0FBQSxFQUNBQyxHQUFBLEVBQ0FDLEdBQUEsRUFDQUMsR0FBQSxFQUNBQyxHQUFBLEVBQ0FDLEdBQUEsRUFDQUMsR0FBQSxHQUNBQyxHQUFBLEdBQ0FDLEdBQUEsR0FDQUMsR0FBQSxHQUNBQyxHQUFBLEdBRUFDLEdBQUF0MEMsS0FBQUUsU0FBQWUsU0FBQSxJQUFBTyxNQUFBLEdBQ0EreUMsR0FBQSwyQkFBQUQsR0FDQUUsR0FBQSx3QkFBQUYsR0FFQSxTQUFBRyxHQUFBQyxFQUFBM2QsR0FDQUEsRUFBQXdkLElBQUFHLEVBT0EsU0FBQUMsR0FBQTVkLEdBQ0EsR0FBQUEsRUFBQXdkLElBQ0EsT0FBQXhkLEVBQUF3ZCxJQUdBLE1BQUF4ZCxFQUFBd2QsS0FBQSxDQUNBLElBQUF4ZCxFQUFBK1UsV0FLQSxZQUpBL1UsSUFBQStVLFdBUUEsSUFBQW1GLEVBQUFsYSxFQUFBd2QsSUFDQSxPQUFBdEQsRUFBQXgyQixNQUFBbTVCLElBQUEzQyxFQUFBeDJCLE1BQUFvNUIsR0FFQTVDLEVBR0EsS0FPQSxTQUFBMkQsR0FBQTdkLEdBQ0EsSUFBQWthLEVBQUFsYSxFQUFBd2QsSUFDQSxPQUFBdEQsSUFDQUEsRUFBQXgyQixNQUFBbTVCLElBQUEzQyxFQUFBeDJCLE1BQUFvNUIsSUFDQTVDLEVBS0EsS0FPQSxTQUFBNEQsR0FBQTVELEdBQ0EsR0FBQUEsRUFBQXgyQixNQUFBbTVCLElBQUEzQyxFQUFBeDJCLE1BQUFvNUIsR0FHQSxPQUFBNUMsRUFBQXdCLFVBS0FseUIsR0FBQSw0Q0FHQSxTQUFBdTBCLEdBQUEvZCxHQUNBLE9BQUFBLEVBQUF5ZCxLQUFBLEtBR0EsU0FBQU8sR0FBQWhlLEVBQUF4bEIsR0FDQXdsQixFQUFBeWQsSUFBQWpqQyxFQUdBLElBQUF5akMsR0FBQXA0QyxPQUFBd0ksUUFDQTZ2QyxrQkFBQVIsR0FDQUUsOEJBQ0FqRSxvQkFBQWtFLEdBQ0FqRSxvQkFBQWtFLEdBQ0FwRSw2QkFBQXFFLEdBQ0FJLGlCQUFBSCxLQUdBLFNBQUFJLEdBQUFsRSxHQUNBLEdBQ0FBLElBQUEsYUFNR0EsS0FBQXgyQixNQUFBbTVCLElBQ0gsT0FBQTNDLEdBR0EsS0F3REEsU0FBQW1FLEdBQUFuRSxFQUFBbDFCLEVBQUFNLEdBRUEsSUFEQSxJQUFBeFcsS0FDQW9yQyxHQUNBcHJDLEVBQUFoSCxLQUFBb3lDLEdBQ0FBLEVBQUFrRSxHQUFBbEUsR0FFQSxJQUFBLzBDLE9BQUEsRUFDQSxJQUFBQSxFQUFBMkosRUFBQXBILE9BQXVCdkMsS0FBQSxHQUN2QjZmLEVBQUFsVyxFQUFBM0osR0FBQSxXQUFBbWdCLEdBRUEsSUFBQW5nQixFQUFBLEVBQWFBLEVBQUEySixFQUFBcEgsT0FBaUJ2QyxJQUM5QjZmLEVBQUFsVyxFQUFBM0osR0FBQSxVQUFBbWdCLEdBV0EsU0FBQWc1QixHQUFBM3pCLEVBQUFFLEVBQUE3RixFQUFBdTVCLEVBQUFDLEdBR0EsSUFGQSxJQUFBQyxFQUFBOXpCLEdBQUFFLEVBeEVBLFNBQUE2ekIsRUFBQUMsR0FFQSxJQURBLElBQUFDLEVBQUEsRUFDQUMsRUFBQUgsRUFBeUJHLEVBQU9BLEVBQUFULEdBQUFTLEdBQ2hDRCxJQUdBLElBREEsSUFBQUUsRUFBQSxFQUNBQyxFQUFBSixFQUF5QkksRUFBT0EsRUFBQVgsR0FBQVcsR0FDaENELElBSUEsS0FBQUYsRUFBQUUsRUFBQSxHQUNBSixFQUFBTixHQUFBTSxHQUNBRSxJQUlBLEtBQUFFLEVBQUFGLEVBQUEsR0FDQUQsRUFBQVAsR0FBQU8sR0FDQUcsSUFLQSxJQURBLElBQUFFLEVBQUFKLEVBQ0FJLEtBQUEsQ0FDQSxHQUFBTixJQUFBQyxHQUFBRCxJQUFBQyxFQUFBTSxVQUNBLE9BQUFQLEVBRUFBLEVBQUFOLEdBQUFNLEdBQ0FDLEVBQUFQLEdBQUFPLEdBRUEsWUF5Q0FPLENBQUF2MEIsRUFBQUUsR0FBQSxLQUNBczBCLEtBRUF4MEIsR0FHQUEsSUFBQTh6QixHQUpBLENBT0EsSUFBQVEsRUFBQXQwQixFQUFBczBCLFVBQ0EsVUFBQUEsT0FBQVIsRUFDQSxNQUVBVSxFQUFBcjNDLEtBQUE2aUIsR0FDQUEsRUFBQXl6QixHQUFBenpCLEdBR0EsSUFEQSxJQUFBeTBCLEtBRUF2MEIsR0FHQUEsSUFBQTR6QixHQUpBLENBT0EsSUFBQVksRUFBQXgwQixFQUFBbzBCLFVBQ0EsVUFBQUksT0FBQVosRUFDQSxNQUVBVyxFQUFBdDNDLEtBQUEraUIsR0FDQUEsRUFBQXV6QixHQUFBdnpCLEdBRUEsUUFBQTFsQixFQUFBLEVBQWlCQSxFQUFBZzZDLEVBQUF6M0MsT0FBcUJ2QyxJQUN0QzZmLEVBQUFtNkIsRUFBQWg2QyxHQUFBLFVBQUFvNUMsR0FFQSxRQUFBcnJDLEVBQUFrc0MsRUFBQTEzQyxPQUE4QndMLEtBQUEsR0FDOUI4UixFQUFBbzZCLEVBQUFsc0MsR0FBQSxXQUFBc3JDLEdBNkJBLFNBQUFjLEdBQUFwRixFQUFBcUYsRUFBQXhzQyxHQUVBK1MsRUFBQW8wQixFQUFBLHFDQUVBLElBQUFyYyxFQXpCQSxTQUFBcWMsRUFBQW5uQyxFQUFBeXNDLEdBRUEsT0FBQS9ELEVBQUF2QixFQURBbm5DLEVBQUF5bEMsZUFBQUUsd0JBQUE4RyxJQXdCQUMsQ0FBQXZGLEVBQUFubkMsRUFBQXdzQyxHQUNBMWhCLElBQ0E5cUIsRUFBQTBuQyxtQkFBQUwsRUFBQXJuQyxFQUFBMG5DLG1CQUFBNWMsR0FDQTlxQixFQUFBNG5DLG1CQUFBUCxFQUFBcm5DLEVBQUE0bkMsbUJBQUFULElBV0EsU0FBQXdGLEdBQUEzc0MsR0FDQUEsS0FBQXlsQyxlQUFBRSx5QkFDQTJGLEdBQUF0ckMsRUFBQTRzQyxZQUFBTCxHQUFBdnNDLEdBT0EsU0FBQTZzQyxHQUFBN3NDLEdBQ0EsR0FBQUEsS0FBQXlsQyxlQUFBRSx3QkFBQSxDQUNBLElBQUF3RCxFQUFBbnBDLEVBQUE0c0MsWUFFQXRCLEdBREFuQyxFQTNIQWtDLEdBMkhBbEMsR0FBQSxLQUNBb0QsR0FBQXZzQyxJQVNBLFNBQUE4c0MsR0FBQTNGLEVBQUE0RixFQUFBL3NDLEdBQ0EsR0FBQW1uQyxHQUFBbm5DLEtBQUF5bEMsZUFBQUssaUJBQUEsQ0FDQSxJQUNBaGIsRUFBQTRkLEVBQUF2QixFQURBbm5DLEVBQUF5bEMsZUFBQUssa0JBRUFoYixJQUNBOXFCLEVBQUEwbkMsbUJBQUFMLEVBQUFybkMsRUFBQTBuQyxtQkFBQTVjLEdBQ0E5cUIsRUFBQTRuQyxtQkFBQVAsRUFBQXJuQyxFQUFBNG5DLG1CQUFBVCxLQVVBLFNBQUE2RixHQUFBaHRDLEdBQ0FBLEtBQUF5bEMsZUFBQUssa0JBQ0FnSCxHQUFBOXNDLEVBQUE0c0MsWUFBQSxFQUFBNXNDLEdBSUEsU0FBQWl0QyxHQUFBbEUsR0FDQXhCLEVBQUF3QixFQUFBNEQsSUFPQSxTQUFBTyxHQUFBQyxFQUFBQyxFQUFBeDFCLEVBQUFFLEdBQ0F5ekIsR0FBQTN6QixFQUFBRSxFQUFBZzFCLEdBQUFLLEVBQUFDLEdBT0EsSUFBQUMsR0FBQXY2QyxPQUFBd0ksUUFDQTJ4QyxnQ0FDQUssdUNBZEEsU0FBQXZFLEdBQ0F4QixFQUFBd0IsRUFBQThELEtBY0FLLGtDQUNBSywyQkFSQSxTQUFBeEUsR0FDQXhCLEVBQUF3QixFQUFBaUUsT0FVQVEsR0FBQSxLQVFBLFNBQUFDLEtBTUEsT0FMQUQsSUFBQTlLLEVBQUFELFlBR0ErSyxHQUFBLGdCQUFBOTdCLFNBQUEyTCxnQkFBQSwyQkFFQW13QixHQWNBLElBQUFFLElBQ0FDLE1BQUEsS0FDQUMsV0FBQSxLQUNBQyxjQUFBLE1BZUEsU0FBQUMsS0FDQSxHQUFBSixHQUFBRyxjQUNBLE9BQUFILEdBQUFHLGNBR0EsSUFBQWh6QyxPQUFBLEVBQ0FrekMsRUFBQUwsR0FBQUUsV0FDQUksRUFBQUQsRUFBQXA1QyxPQUNBbUcsT0FBQSxFQUNBbXpDLEVBQUFDLEtBQ0FDLEVBQUFGLEVBQUF0NUMsT0FFQSxJQUFBa0csRUFBQSxFQUFpQkEsRUFBQW16QyxHQUNqQkQsRUFBQWx6QyxLQUFBb3pDLEVBQUFwekMsR0FEc0NBLEtBTXRDLElBQUF1ekMsRUFBQUosRUFBQW56QyxFQUNBLElBQUFDLEVBQUEsRUFBZUEsR0FBQXN6QyxHQUNmTCxFQUFBQyxFQUFBbHpDLEtBQUFtekMsRUFBQUUsRUFBQXJ6QyxHQUQ4QkEsS0FNOUIsSUFBQXV6QyxFQUFBdnpDLEVBQUEsSUFBQUEsT0FBQWxDLEVBRUEsT0FEQTgwQyxHQUFBRyxjQUFBSSxFQUFBdjJDLE1BQUFtRCxFQUFBd3pDLEdBQ0FYLEdBQUFHLGNBR0EsU0FBQUssS0FDQSxnQkFBQVIsR0FBQUMsTUFDQUQsR0FBQUMsTUFBQXY2QyxNQUVBczZDLEdBQUFDLE1BQUFGLE1BS0EsSUFBQWEsSUFBQSxFQUNBQyxHQUFBLEdBRUFDLElBQUEsb0lBTUFDLElBQ0ExMUMsS0FBQSxLQUNBbUcsT0FBQSxLQUVBa29DLGNBQUE1MEIsRUFBQUksZ0JBQ0E4N0IsV0FBQSxLQUNBQyxRQUFBLEtBQ0FDLFdBQUEsS0FDQUMsVUFBQSxTQUFBN3VDLEdBQ0EsT0FBQUEsRUFBQTZ1QyxXQUFBNTNDLEtBQUFzcEIsT0FFQXV1QixpQkFBQSxLQUNBQyxVQUFBLE1BcUJBLFNBQUFDLEdBQUF2SixFQUFBMEQsRUFBQUMsRUFBQUMsVUFHQWpxQyxLQUFBZ3FDLG1CQUNBaHFDLEtBQUE2dkMsc0JBQ0E3dkMsS0FBQTh2QyxnQkFHQTl2QyxLQUFBcW1DLGlCQUNBcm1DLEtBQUF3dEMsWUFBQXpELEVBQ0EvcEMsS0FBQWdxQyxjQUVBLElBQUErRixFQUFBL3ZDLEtBQUE4VyxZQUFBaTVCLFVBQ0EsUUFBQUMsS0FBQUQsRUFDQSxHQUFBQSxFQUFBejdDLGVBQUEwN0MsR0FBQSxRQUlBaHdDLEtBQUFnd0MsR0FFQSxJQUFBQyxFQUFBRixFQUFBQyxHQUNBQyxFQUNBandDLEtBQUFnd0MsR0FBQUMsRUFBQWpHLEdBRUEsV0FBQWdHLEVBQ0Fod0MsS0FBQUYsT0FBQW1xQyxFQUVBanFDLEtBQUFnd0MsR0FBQWhHLEVBQUFnRyxHQUtBLElBQUFOLEVBQUEsTUFBQTFGLEVBQUEwRixpQkFBQTFGLEVBQUEwRixrQkFBQSxJQUFBMUYsRUFBQXBtQyxZQU9BLE9BTEE1RCxLQUFBa3dDLG1CQURBUixFQUNBdDhCLEVBQUFHLGdCQUVBSCxFQUFBRSxpQkFFQXRULEtBQUErb0MscUJBQUEzMUIsRUFBQUUsaUJBQ0F0VCxLQStJQSxTQUFBbXdDLEdBQUFILEVBQUFJLEdBQ0EsSUFBQUMsRUFBQSxtQkFBQUQsRUFDQSxPQUNBeDhDLGNBQUEsRUFDQW1SLElBSUEsU0FBQXJMLEdBR0EsT0FEQTQyQyxFQURBRCxFQUFBLDRDQUNBLCtCQUNBMzJDLEdBTkE1RixJQVNBLFdBSUEsT0FEQXc4QyxFQUZBRCxFQUFBLGdEQUNBQSxFQUFBLGtEQUVBRCxJQUdBLFNBQUFFLEVBQUF0a0MsRUFBQXRXLEdBRUFpZSxHQURBLEVBQ0Esb1JBQUEzSCxFQUFBZ2tDLEVBQUF0NkMsSUFJQSxTQUFBNjZDLEdBQUFsSyxFQUFBMEQsRUFBQUMsRUFBQXdHLEdBRUEsR0FEQXh3QyxLQUNBeXdDLFVBQUFsN0MsT0FBQSxDQUNBLElBQUFncUIsRUFGQXZmLEtBRUF5d0MsVUFBQTdsQyxNQUVBLE9BSkE1SyxLQUdBN00sS0FBQW9zQixFQUFBOG1CLEVBQUEwRCxFQUFBQyxFQUFBd0csR0FDQWp4QixFQUVBLFdBTkF2ZixLQU1BcW1DLEVBQUEwRCxFQUFBQyxFQUFBd0csR0FHQSxTQUFBRSxHQUFBOXZDLEdBRUFBLGFBREFaLE1BQ0FxWCxHQUFBLDJFQUNBelcsRUFBQSt2QyxhQUZBM3dDLEtBR0F5d0MsVUFBQWw3QyxPQUFBNDVDLElBSEFudkMsS0FJQXl3QyxVQUFBOTZDLEtBQUFpTCxHQUlBLFNBQUFnd0MsR0FBQUMsR0FDQUEsRUFBQUosYUFDQUksRUFBQUMsVUFBQVAsR0FDQU0sRUFBQTNILFFBQUF3SCxHQTdMQTc3QyxFQUFBKzZDLEdBQUF2N0MsV0FDQXc3QyxlQUFBLFdBQ0E3dkMsS0FBQTB2QyxrQkFBQSxFQUNBLElBQUE5dUMsRUFBQVosS0FBQWdxQyxZQUNBcHBDLElBSUFBLEVBQUFpdkMsZUFDQWp2QyxFQUFBaXZDLGlCQUNLLGtCQUFBanZDLEVBQUFnRCxjQUNMaEQsRUFBQWdELGFBQUEsR0FFQTVELEtBQUFrd0MsbUJBQUE5OEIsRUFBQUcsa0JBR0F1OEIsZ0JBQUEsV0FDQSxJQUFBbHZDLEVBQUFaLEtBQUFncUMsWUFDQXBwQyxJQUlBQSxFQUFBa3ZDLGdCQUNBbHZDLEVBQUFrdkMsa0JBQ0ssa0JBQUFsdkMsRUFBQW13QyxlQU1MbndDLEVBQUFtd0MsY0FBQSxHQUdBL3dDLEtBQUErb0MscUJBQUEzMUIsRUFBQUcsa0JBUUF5OUIsUUFBQSxXQUNBaHhDLEtBQUFpcEMsYUFBQTcxQixFQUFBRyxpQkFRQTAxQixhQUFBNzFCLEVBQUFFLGlCQUtBcTlCLFdBQUEsV0FDQSxJQUFBWixFQUFBL3ZDLEtBQUE4VyxZQUFBaTVCLFVBQ0EsUUFBQUMsS0FBQUQsRUFFQXI4QyxPQUFBQyxlQUFBcU0sS0FBQWd3QyxFQUFBRyxHQUFBSCxFQUFBRCxFQUFBQyxLQUdBLFFBQUFoOUMsRUFBQSxFQUFtQkEsRUFBQW84QyxHQUFBNzVDLE9BQXVDdkMsSUFDMURnTixLQUFBb3ZDLEdBQUFwOEMsSUFBQSxLQUdBVSxPQUFBQyxlQUFBcU0sS0FBQSxjQUFBbXdDLEdBQUEscUJBQ0F6OEMsT0FBQUMsZUFBQXFNLEtBQUEsaUJBQUFtd0MsR0FBQSxpQkFBQS84QixJQUNBMWYsT0FBQUMsZUFBQXFNLEtBQUEsa0JBQUFtd0MsR0FBQSxrQkFBQS84QixPQUtBdzhCLEdBQUFHLFVBQUFWLEdBS0FPLEdBQUFubUMsT0FBQSxTQUFBc21DLEdBQ0EsSUFBQWtCLEVBQUFqeEMsS0FFQXljLEVBQUEsYUFDQUEsRUFBQXBvQixVQUFBNDhDLEVBQUE1OEMsVUFDQSxJQUFBQSxFQUFBLElBQUFvb0IsRUFFQSxTQUFBeTBCLElBQ0EsT0FBQUQsRUFBQXAwQyxNQUFBbUQsS0FBQUMsV0FVQSxPQVJBcEwsRUFBQVIsRUFBQTY4QyxFQUFBNzhDLFdBQ0E2OEMsRUFBQTc4QyxZQUNBNjhDLEVBQUE3OEMsVUFBQXlpQixZQUFBbzZCLEVBRUFBLEVBQUFuQixVQUFBbDdDLEtBQThCbzhDLEVBQUFsQixhQUM5Qm1CLEVBQUF6bkMsT0FBQXduQyxFQUFBeG5DLE9BQ0FtbkMsR0FBQU0sR0FFQUEsR0FRQSxtQkFBQUMsUUFFQXo5QyxPQUFBMDlDLFNBQUEsSUFBQUQsZ0JBSUF2QixHQUFBLElBQUF1QixNQUFBdkIsSUFDQXlCLFVBQUEsU0FBQXZ4QyxFQUFBM0csR0FDQSxPQUFBNkcsS0FBQW5ELE1BQUFpRCxFQUFBcE0sT0FBQWlmLE9BQUE3UyxFQUFBekwsV0FBQThFLElBRUEwRCxNQUFBLFNBQUFpYSxFQUFBSSxFQUFBL2QsR0FDQSxXQUFBZzRDLE1BQUFyNkIsRUFBQWphLE1BQUFxYSxFQUFBL2QsSUFDQTRMLElBQUEsU0FBQWpGLEVBQUE3RCxFQUFBakksR0FNQSxNQUxBLGlCQUFBaUksR0FBQTZELEVBQUFnWCxZQUFBaTVCLFVBQUF6N0MsZUFBQTJILEtBQUEsSUFBQW16QyxHQUFBMTRDLFFBQUF1RixLQUNBMFgsRUFBQXU3QixJQUFBcHZDLEVBQUFtcEMsZUFBQSwwT0FDQWlHLElBQUEsR0FFQXB2QyxFQUFBN0QsR0FBQWpJLEdBQ0EsU0FTQTQ4QyxHQUFBaEIsSUE2REEsSUFBQTBCLEdBQUExQixHQU1BMkIsR0FBQUQsR0FBQTduQyxRQUNBNUksS0FBQSxPQVFBMndDLEdBQUFGLEdBQUE3bkMsUUFDQTVJLEtBQUEsT0FHQTR3QyxJQUFBLFlBQ0FDLEdBQUEsSUFFQUMsR0FBQXJPLEVBQUFELFdBQUEscUJBQUF6dUMsT0FFQWc5QyxHQUFBLEtBQ0F0TyxFQUFBRCxXQUFBLGlCQUFBL3dCLFdBQ0FzL0IsR0FBQXQvQixTQUFBcy9CLGNBTUEsSUFBQUMsR0FBQXZPLEVBQUFELFdBQUEsY0FBQXp1QyxTQUFBZzlDLEdBS0FFLEdBQUF4TyxFQUFBRCxhQUFBc08sSUFBQUMsT0FBQSxHQUFBQSxJQUFBLElBRUFHLEdBQUEsR0FDQUMsR0FBQXAzQyxPQUFBdWQsYUFBQTQ1QixJQUdBM3RCLElBQ0E2dEIsYUFDQTFMLHlCQUNBMkwsUUFBQSxnQkFDQUMsU0FBQSx3QkFFQXRMLGNBQUEsOERBRUF1TCxnQkFDQTdMLHlCQUNBMkwsUUFBQSxtQkFDQUMsU0FBQSwyQkFFQXRMLGNBQUEscUZBRUF3TCxrQkFDQTlMLHlCQUNBMkwsUUFBQSxxQkFDQUMsU0FBQSw2QkFFQXRMLGNBQUEsdUZBRUF5TCxtQkFDQS9MLHlCQUNBMkwsUUFBQSxzQkFDQUMsU0FBQSw4QkFFQXRMLGNBQUEseUZBS0EwTCxJQUFBLEVBaURBLFNBQUFDLEdBQUExSSxFQUFBRSxHQUNBLE9BQUFGLEdBQ0EsZUFFQSxXQUFBMkgsR0FBQS82QyxRQUFBc3pDLEVBQUF5SSxTQUNBLGlCQUdBLE9BQUF6SSxFQUFBeUksVUFBQWYsR0FDQSxrQkFDQSxtQkFDQSxjQUVBLFNBQ0EsUUFDQSxVQWFBLFNBQUFnQixHQUFBMUksR0FDQSxJQUFBMkksRUFBQTNJLEVBQUEySSxPQUNBLHVCQUFBQSxHQUFBLFNBQUFBLEVBQ0FBLEVBQUE5eEMsS0FFQSxLQUlBLElBQUEreEMsSUFBQSxFQUtBLFNBQUFDLEdBQUEvSSxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBLElBQUE2SSxPQUFBLEVBQ0FDLE9BQUEsRUFZQSxHQVZBcEIsR0FDQW1CLEVBN0VBLFNBQUFoSixHQUNBLE9BQUFBLEdBQ0EsMEJBQ0EsT0FBQTFsQixHQUFBaXVCLGlCQUNBLHdCQUNBLE9BQUFqdUIsR0FBQWd1QixlQUNBLDJCQUNBLE9BQUFodUIsR0FBQWt1QixtQkFzRUFVLENBQUFsSixHQUNHOEksR0FJQUosR0FBQTFJLEVBQUFFLEtBQ0g4SSxFQUFBMXVCLEdBQUFndUIsZ0JBaEVBLFNBQUF0SSxFQUFBRSxHQUNBLHFCQUFBRixHQUFBRSxFQUFBeUksVUFBQWYsR0EyREF1QixDQUFBbkosRUFBQUUsS0FDQThJLEVBQUExdUIsR0FBQWl1QixtQkFNQVMsRUFDQSxZQUdBaEIsS0FHQWMsSUFBQUUsSUFBQTF1QixHQUFBaXVCLGlCQUVLUyxJQUFBMXVCLEdBQUFndUIsZ0JBQ0xRLEtBQ0FHLEVBQUFyRSxNQUhBa0UsR0FuZ0JBLFNBQUEzSSxHQUdBLE9BRkFxRSxHQUFBQyxNQUFBdEUsRUFDQXFFLEdBQUFFLFdBQUFNLE1BQ0EsRUFnZ0JBb0UsQ0FBQWpKLElBUUEsSUFBQXJwQyxFQUFBMndDLEdBQUFULFVBQUFnQyxFQUFBL0ksRUFBQUMsRUFBQUMsR0FFQSxHQUFBOEksRUFHQW55QyxFQUFBQyxLQUFBa3lDLE1BQ0csQ0FDSCxJQUFBSSxFQUFBVCxHQUFBMUksR0FDQSxPQUFBbUosSUFDQXZ5QyxFQUFBQyxLQUFBc3lDLEdBS0EsT0FEQXRGLEdBQUFqdEMsR0FDQUEsRUE4REEsU0FBQXd5QyxHQUFBdEosRUFBQUUsR0FLQSxHQUFBNEksR0FBQSxDQUNBLHlCQUFBOUksSUFBQTZILElBQUFhLEdBQUExSSxFQUFBRSxHQUFBLENBQ0EsSUFBQXFKLEVBQUEzRSxLQUdBLE9BMWxCQUosR0FBQUMsTUFBQSxLQUNBRCxHQUFBRSxXQUFBLEtBQ0FGLEdBQUFHLGNBQUEsS0F1bEJBbUUsSUFBQSxFQUNBUyxFQUVBLFlBR0EsT0FBQXZKLEdBQ0EsZUFHQSxZQUNBLGtCQWlCQSxJQW5PQSxTQUFBRSxHQUNBLE9BQUFBLEVBQUFzSixTQUFBdEosRUFBQXVKLFFBQUF2SixFQUFBd0osWUFFQXhKLEVBQUFzSixTQUFBdEosRUFBQXVKLFFBZ09BRSxDQUFBekosR0FBQSxDQU9BLEdBQUFBLEVBQUEwSixNQUFBMUosRUFBQTBKLEtBQUFuK0MsT0FBQSxFQUNBLE9BQUF5MEMsRUFBQTBKLEtBQ1MsR0FBQTFKLEVBQUEySixNQUNULE9BQUEvNEMsT0FBQXVkLGFBQUE2eEIsRUFBQTJKLE9BR0EsWUFDQSx3QkFDQSxPQUFBN0IsR0FBQSxLQUFBOUgsRUFBQW5wQyxLQUNBLFFBQ0EsYUFVQSxTQUFBK3lDLEdBQUE5SixFQUFBQyxFQUFBQyxFQUFBQyxHQUNBLElBQUFvSixPQUFBLEVBVUEsS0FQQUEsRUFEQXhCLEdBekhBLFNBQUEvSCxFQUFBRSxHQUNBLE9BQUFGLEdBQ0Esd0JBQ0EsT0FBQTRJLEdBQUExSSxHQUNBLGtCQWdCQSxPQURBQSxFQUFBMkosUUFDQTVCLEdBQ0EsTUFHQVEsSUFBQSxFQUNBUCxJQUVBLG1CQUVBLElBQUFxQixFQUFBckosRUFBQW5wQyxLQUtBLE9BQUF3eUMsSUFBQXJCLElBQUFPLEdBQ0EsS0FHQWMsRUFFQSxRQUVBLGFBZ0ZBUSxDQUFBL0osRUFBQUUsR0FFQW9KLEdBQUF0SixFQUFBRSxJQU1BLFlBR0EsSUFBQXBwQyxFQUFBNHdDLEdBQUFWLFVBQUExc0IsR0FBQTZ0QixZQUFBbEksRUFBQUMsRUFBQUMsR0FJQSxPQUZBcnBDLEVBQUFDLEtBQUF3eUMsRUFDQXhGLEdBQUFqdEMsR0FDQUEsRUFxQkEsSUFBQWt6QyxJQUNBMXZCLGNBRUE2aEIsY0FBQSxTQUFBNkQsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQSxJQUFBOEosRUFBQWxCLEdBQUEvSSxFQUFBQyxFQUFBQyxFQUFBQyxHQUVBZ0ksRUFBQTJCLEdBQUE5SixFQUFBQyxFQUFBQyxFQUFBQyxHQUVBLGNBQUE4SixFQUNBOUIsRUFHQSxPQUFBQSxFQUNBOEIsR0FHQUEsRUFBQTlCLEtBTUErQixHQUFBLEtBVUFDLEdBQUEsS0FDQUMsR0FBQSxLQUVBLFNBQUFDLEdBQUFyMEMsR0FHQSxJQUFBczBDLEVBQUE1TSxFQUFBMW5DLEdBQ0EsR0FBQXMwQyxFQUFBLENBSUFKLElBQUEsbUJBQUFBLEdBQUFLLHdCQUFBaDlCLEdBQUEscUpBQ0EsSUFBQWhQLEVBQUFrL0IsRUFBQTZNLEVBQUE3SyxXQUNBeUssR0FBQUssdUJBQUFELEVBQUE3SyxVQUFBNkssRUFBQXo2QyxLQUFBME8sSUFHQSxJQUFBaXNDLElBdkJBQyxtQ0FBQSxTQUFBQyxHQUdBUixHQUFBUSxJQXNCQSxTQUFBQyxHQUFBMzBDLEdBQ0FtMEMsR0FDQUMsR0FDQUEsR0FBQXYrQyxLQUFBbUssR0FFQW8wQyxJQUFBcDBDLEdBR0FtMEMsR0FBQW4wQyxFQUlBLFNBQUE0MEMsS0FDQSxjQUFBVCxJQUFBLE9BQUFDLEdBR0EsU0FBQVMsS0FDQSxHQUFBVixHQUFBLENBR0EsSUFBQW4wQyxFQUFBbTBDLEdBQ0FXLEVBQUFWLEdBS0EsR0FKQUQsR0FBQSxLQUNBQyxHQUFBLEtBRUFDLEdBQUFyMEMsR0FDQTgwQyxFQUNBLFFBQUE1aEQsRUFBQSxFQUFtQkEsRUFBQTRoRCxFQUFBci9DLE9BQTBCdkMsSUFDN0NtaEQsR0FBQVMsRUFBQTVoRCxLQUtBLElBQUE2aEQsR0FBQW5oRCxPQUFBd0ksUUFDQW10QyxVQUFBaUwsR0FDQUcsdUJBQ0FDLHFCQUNBQywwQkFVQUcsR0FBQSxTQUFBamlDLEVBQUFraUMsR0FDQSxPQUFBbGlDLEVBQUFraUMsSUFFQUMsR0FBQSxTQUFBbmlDLEVBQUF6WixFQUFBZixHQUNBLE9BQUF3YSxFQUFBelosRUFBQWYsSUFFQTQ4QyxHQUFBLGFBRUFDLElBQUEsRUFDQSxTQUFBQyxHQUFBdGlDLEVBQUFraUMsR0FDQSxHQUFBRyxHQUdBLE9BQUFyaUMsRUFBQWtpQyxHQUVBRyxJQUFBLEVBQ0EsSUFDQSxPQUFBSixHQUFBamlDLEVBQUFraUMsR0FDRyxRQUtIRyxJQUFBLEVBQ0FSLE9BS0FPLEtBQ0FOLE9BV0EsSUFBQVMsR0FDQSxTQUFBQyxHQUNBUCxHQUFBTyxFQUFBRixlQUNBSCxHQUFBSyxFQUFBQyxtQkFDQUwsR0FBQUksRUFBQUUseUJBT0FDLElBQ0FDLE9BQUEsRUFDQUMsTUFBQSxFQUNBQyxVQUFBLEVBQ0FDLGtCQUFBLEVBQ0FDLE9BQUEsRUFDQUMsT0FBQSxFQUNBQyxRQUFBLEVBQ0FDLFVBQUEsRUFDQXJ5QixPQUFBLEVBQ0FxTyxRQUFBLEVBQ0Fpa0IsS0FBQSxFQUNBQyxNQUFBLEVBQ0F0K0MsTUFBQSxFQUNBdStDLEtBQUEsRUFDQUMsTUFBQSxHQUdBLFNBQUFDLEdBQUFDLEdBQ0EsSUFBQWhVLEVBQUFnVSxLQUFBaFUsVUFBQWdVLEVBQUFoVSxTQUFBeG5DLGNBRUEsZ0JBQUF3bkMsSUFDQWtULEdBQUFjLEVBQUEzOEMsTUFHQSxhQUFBMm9DLEVBV0EsSUFBQWlVLEdBQUEsRUFDQUMsR0FBQSxFQUNBQyxHQUFBLEVBQ0FDLEdBQUEsRUFDQUMsR0FBQSxHQVNBLFNBQUFDLEdBQUE1TSxHQUNBLElBQUFscUMsRUFBQWtxQyxFQUFBbHFDLFFBQUFsTCxPQVNBLE9BTkFrTCxFQUFBKzJDLDBCQUNBLzJDLElBQUErMkMseUJBS0EvMkMsRUFBQXVpQyxXQUFBbVUsR0FBQTEyQyxFQUFBOGlDLFdBQUE5aUM7Ozs7Ozs7Ozs7Ozs7O0dBaUJBLFNBQUFnM0MsR0FBQUMsRUFBQUMsR0FDQSxJQUFBMVQsRUFBQUQsV0FBQTJULEtBQUEscUJBQUExa0MsVUFDQSxTQUdBLElBQUE2ekIsRUFBQSxLQUFBNFEsRUFDQUUsRUFBQTlRLEtBQUE3ekIsU0FFQSxJQUFBMmtDLEVBQUEsQ0FDQSxJQUFBQyxFQUFBNWtDLFNBQUEwRSxjQUFBLE9BQ0FrZ0MsRUFBQUMsYUFBQWhSLEVBQUEsV0FDQThRLEVBQUEsbUJBQUFDLEVBQUEvUSxHQUdBLE9BQUE4USxFQUdBLFNBQUFHLEdBQUFkLEdBQ0EsSUFBQTM4QyxFQUFBMjhDLEVBQUEzOEMsS0FDQTJvQyxFQUFBZ1UsRUFBQWhVLFNBQ0EsT0FBQUEsR0FBQSxVQUFBQSxFQUFBeG5DLGdCQUFBLGFBQUFuQixHQUFBLFVBQUFBLEdBR0EsU0FBQTA5QyxHQUFBeHBCLEdBQ0EsT0FBQUEsRUFBQXlwQixjQXFFQSxTQUFBQyxHQUFBMXBCLEdBQ0F3cEIsR0FBQXhwQixLQUtBQSxFQUFBeXBCLGNBckRBLFNBQUF6cEIsR0FDQSxJQUFBMnBCLEVBQUFKLEdBQUF2cEIsR0FBQSxrQkFDQWxQLEVBQUFqckIsT0FBQWloQix5QkFBQWtaLEVBQUEvVyxZQUFBemlCLFVBQUFtakQsR0FFQTNxQixFQUFBLEdBQUFnQixFQUFBMnBCLEdBTUEsSUFBQTNwQixFQUFBdjVCLGVBQUFrakQsSUFBQSxtQkFBQTc0QixFQUFBN3FCLEtBQUEsbUJBQUE2cUIsRUFBQTVaLElBa0NBLE9BOUJBclIsT0FBQUMsZUFBQWs2QixFQUFBMnBCLEdBQ0E1akQsY0FBQSxFQUNBRSxJQUFBLFdBQ0EsT0FBQTZxQixFQUFBN3FCLElBQUFYLEtBQUE2TSxPQUVBK0UsSUFBQSxTQUFBL1EsR0FDQTY0QixFQUFBLEdBQUE3NEIsRUFDQTJxQixFQUFBNVosSUFBQTVSLEtBQUE2TSxLQUFBaE0sTUFPQU4sT0FBQUMsZUFBQWs2QixFQUFBMnBCLEdBQ0EzakQsV0FBQThxQixFQUFBOXFCLGNBSUE0akQsU0FBQSxXQUNBLE9BQUE1cUIsR0FFQXFSLFNBQUEsU0FBQWxxQyxHQUNBNjRCLEVBQUEsR0FBQTc0QixHQUVBMGpELGFBQUEsWUExREEsU0FBQTdwQixHQUNBQSxFQUFBeXBCLGNBQUEsS0EwREFLLENBQUE5cEIsVUFDQUEsRUFBQTJwQixLQVlBSSxDQUFBL3BCLElBR0EsU0FBQWdxQixHQUFBaHFCLEdBQ0EsSUFBQUEsRUFDQSxTQUdBLElBQUFpcUIsRUFBQVQsR0FBQXhwQixHQUdBLElBQUFpcUIsRUFDQSxTQUdBLElBQUFDLEVBQUFELEVBQUFMLFdBQ0FPLEVBcEZBLFNBQUFucUIsR0FDQSxJQUFBNzVCLEVBQUEsR0FDQSxPQUFBNjVCLEVBS0E3NUIsRUFEQW9qRCxHQUFBdnBCLEdBQ0FBLEVBQUFvcUIsUUFBQSxlQUVBcHFCLEVBQUE3NUIsTUFOQUEsRUFpRkFra0QsQ0FBQXJxQixHQUNBLE9BQUFtcUIsSUFBQUQsSUFDQUQsRUFBQTVaLFNBQUE4WixJQUNBLEdBS0EsSUFBQUcsR0FBQTkzQixFQUFBKzNCLG1EQUVBQyxHQUFBRixHQUFBRSxrQkFDQUMsR0FBQUgsR0FBQUcsdUJBRUFDLEdBQUEsU0FBQWhsRCxFQUFBd0wsRUFBQXk1QyxHQUNBLG1CQUFBamxELEdBQUEsWUFBQXdMLEVBQUEsUUFBQUEsRUFBQTA1QyxTQUFBbCtDLFFBQUEsb0JBQUF3RSxFQUFBMjVDLFdBQUEsSUFBQUYsRUFBQSxnQkFBQUEsRUFBQSxTQUtBRyxHQUFBLG1CQUFBcjZDLGVBQUEsSUFFQXM2QyxHQUFBRCxHQUFBcjZDLE9BQUEsMkJBQ0F1NkMsR0FBQUYsR0FBQXI2QyxPQUFBLHdCQUNBdzZDLEdBQUFILEdBQUFyNkMsT0FBQSwwQkFDQXk2QyxHQUFBSixHQUFBcjZDLE9BQUEsMEJBQ0EwNkMsR0FBQUwsR0FBQXI2QyxPQUFBLDRCQUNBMjZDLEdBQUFOLEdBQUFyNkMsT0FBQSwrQkFDQTQ2QyxHQUFBUCxHQUFBcjZDLE9BQUEsNEJBQ0E2NkMsR0FBQVIsR0FBQXI2QyxPQUFBLDJCQUNBODZDLEdBQUFULEdBQUFyNkMsT0FBQSw4QkFDQSs2QyxHQUFBVixHQUFBcjZDLE9BQUEsK0JBRUFnN0MsR0FBQSxtQkFBQWg3QyxlQUFBK2QsU0FDQWs5QixHQUFBLGFBRUEsU0FBQUMsR0FBQUMsR0FDQSxVQUFBQSxRQUFBLElBQUFBLEVBQ0EsWUFFQSxJQUFBQyxFQUFBSixJQUFBRyxFQUFBSCxLQUFBRyxFQUFBRixJQUNBLHlCQUFBRyxFQUNBQSxFQUVBLEtBR0EsU0FBQUMsR0FBQUMsR0FDQSxJQUFBamdELEVBQUFpZ0QsRUFBQWpnRCxLQUVBLHNCQUFBQSxFQUNBLE9BQUFBLEVBQUFrZ0QsYUFBQWxnRCxFQUFBcEcsS0FFQSxvQkFBQW9HLEVBQ0EsT0FBQUEsRUFFQSxPQUFBQSxHQUNBLEtBQUFxL0MsR0FDQSxzQkFDQSxLQUFBRCxHQUNBLG9CQUNBLEtBQUFGLEdBQ0Esa0JBQ0EsS0FBQUMsR0FDQSxvQkFFQSxZQUdBLFNBQUFnQixHQUFBRixHQUNBLE9BQUFBLEVBQUFyb0MsS0FDQSxLQUFBODRCLEVBQ0EsS0FBQUMsRUFDQSxLQUFBQyxFQUNBLEtBQUFHLEdBQ0EsSUFBQXFQLEVBQUFILEVBQUFJLFlBQ0FqN0MsRUFBQTY2QyxFQUFBSyxhQUNBMW1ELEVBQUFvbUQsR0FBQUMsR0FDQXBCLEVBQUEsS0FJQSxPQUhBdUIsSUFDQXZCLEVBQUFtQixHQUFBSSxJQUVBeEIsR0FBQWhsRCxFQUFBd0wsRUFBQXk1QyxHQUNBLFFBQ0EsVUFPQSxTQUFBMEIsR0FBQUMsR0FDQSxJQUFBQyxFQUFBLEdBQ0F2c0IsRUFBQXNzQixFQUNBLEdBQ0FDLEdBQUFOLEdBQUFqc0IsR0FFQUEsSUFBQSxhQUNHQSxHQUNILE9BQUF1c0IsRUFpQkEsU0FBQUMsS0FFQSxJQUFBVCxFQUFBVSxHQUFBcFMsUUFDQSxjQUFBMFIsRUFDQSxLQUlBTSxHQUFBTixHQXFCQSxJQUFBVSxJQUNBcFMsUUFBQSxLQUNBa0YsTUFBQSxLQUNBbU4sa0JBbkJBLFdBQ0FqQyxHQUFBa0MsZ0JBQUEsS0FDQUYsR0FBQXBTLFFBQUEsS0FDQW9TLEdBQUFsTixNQUFBLE1BaUJBcU4sZ0JBZEEsU0FBQWIsR0FDQXRCLEdBQUFrQyxnQkFBQUgsR0FDQUMsR0FBQXBTLFFBQUEwUixFQUNBVSxHQUFBbE4sTUFBQSxNQVlBc04sZ0JBVEEsU0FBQXROLEdBQ0FrTixHQUFBbE4sU0FTQXVOLHlCQWpEQSxXQUVBLElBQUFmLEVBQUFVLEdBQUFwUyxRQUNBLFVBQUEwUixFQUNBLFlBRUEsSUFBQUcsRUFBQUgsRUFBQUksWUFDQSxjQUFBRCxRQUFBLElBQUFBLEVBQ0FKLEdBQUFJLEdBR0EsTUF1Q0FhLDZCQUFBUCxJQUtBUSxHQUFBLEVBVUFDLEdBQUEsRUFLQUMsR0FBQSxFQU1BQyxHQUFBLEVBSUFDLEdBQUEsRUFJQUMsR0FBQSxFQUdBQyxHQUFBLGdMQUVBQyxHQUFBRCxHQUFBLCtDQUdBRSxHQUFBLGlCQUNBQyxHQUFBLElBQUFDLE9BQUEsS0FBQUosR0FBQSxLQUFBQyxHQUFBLE9BRUFJLE1BQ0FDLE1BRUEsU0FBQUMsR0FBQUMsR0FDQSxRQUFBRixHQUFBbm5ELGVBQUFxbkQsS0FHQUgsR0FBQWxuRCxlQUFBcW5ELEtBR0FMLEdBQUE5a0QsS0FBQW1sRCxJQUNBRixHQUFBRSxJQUFBLEdBQ0EsSUFFQUgsR0FBQUcsSUFBQSxFQUVBaG9DLEdBQUEsaUNBQUFnb0MsSUFFQSxJQUdBLFNBQUFDLEdBQUFyb0QsRUFBQXNvRCxFQUFBQyxHQUNBLGNBQUFELEVBQ0FBLEVBQUFsaUQsT0FBQWtoRCxJQUVBaUIsSUFHQXZvRCxFQUFBZ0MsT0FBQSxVQUFBaEMsRUFBQSxVQUFBQSxFQUFBLFlBQUFBLEVBQUEsVUFBQUEsRUFBQSxLQU1BLFNBQUF3b0QsR0FBQXhvRCxFQUFBUyxFQUFBNm5ELEVBQUFDLEdBQ0EsVUFBQUQsS0FBQWxpRCxPQUFBa2hELEdBQ0EsU0FFQSxjQUFBN21ELEdBQ0EsZUFFQSxhQUVBLFNBQ0EsY0FFQSxHQUFBOG5ELEVBQ0EsU0FFQSxVQUFBRCxFQUNBLE9BQUFBLEVBQUFHLGdCQUVBLElBQUF0dUIsRUFBQW42QixFQUFBdUgsY0FBQXhDLE1BQUEsS0FDQSxnQkFBQW8xQixHQUFBLFVBQUFBLEVBR0EsUUFDQSxVQUlBLFNBQUF1dUIsR0FBQTFvRCxFQUFBUyxFQUFBNm5ELEVBQUFDLEdBQ0EsVUFBQTluRCxRQUFBLElBQUFBLEVBQ0EsU0FFQSxHQUFBK25ELEdBQUF4b0QsRUFBQVMsRUFBQTZuRCxFQUFBQyxHQUNBLFNBRUEsVUFBQUQsRUFDQSxPQUFBQSxFQUFBbGlELE1BQ0EsS0FBQW9oRCxHQUNBLE9BQUEvbUQsRUFDQSxLQUFBZ25ELEdBQ0EsV0FBQWhuRCxFQUNBLEtBQUFpbkQsR0FDQSxPQUFBLy9DLE1BQUFsSCxHQUNBLEtBQUFrbkQsR0FDQSxPQUFBaGdELE1BQUFsSCxNQUFBLEVBR0EsU0FHQSxTQUFBa29ELEdBQUEzb0QsR0FDQSxPQUFBNG9ELEdBQUE3bkQsZUFBQWYsR0FBQTRvRCxHQUFBNW9ELEdBQUEsS0FHQSxTQUFBNm9ELEdBQUE3b0QsRUFBQW9HLEVBQUEwaUQsRUFBQVYsRUFBQVcsR0FDQXQ4QyxLQUFBZzhDLGdCQUFBcmlELElBQUFtaEQsSUFBQW5oRCxJQUFBb2hELElBQUFwaEQsSUFBQXFoRCxHQUNBaDdDLEtBQUEyN0MsZ0JBQ0EzN0MsS0FBQXM4QyxxQkFDQXQ4QyxLQUFBcThDLGtCQUNBcjhDLEtBQUF1OEMsYUFBQWhwRCxFQUNBeU0sS0FBQXJHLE9BTUEsSUFBQXdpRCxPQUdBLHFDQUlBLGlIQUFBbmdELFFBQUEsU0FBQXpJLEdBQ0E0b0QsR0FBQTVvRCxHQUFBLElBQUE2b0QsR0FBQTdvRCxFQUFBc25ELElBQUEsRUFDQXRuRCxFQUNBLFVBS0Esc0dBQUF5SSxRQUFBLFNBQUF3Z0QsR0FDQSxJQUFBanBELEVBQUFpcEQsRUFBQSxHQUNBYixFQUFBYSxFQUFBLEdBRUFMLEdBQUE1b0QsR0FBQSxJQUFBNm9ELEdBQUE3b0QsRUExSkEsR0EwSkEsRUFDQW9vRCxFQUNBLFNBTUEsb0RBQUEzL0MsUUFBQSxTQUFBekksR0FDQTRvRCxHQUFBNW9ELEdBQUEsSUFBQTZvRCxHQUFBN29ELEVBQUF1bkQsSUFBQSxFQUNBdm5ELEVBQUF1SCxjQUNBLFNBT0EsMkRBQUFrQixRQUFBLFNBQUF6SSxHQUNBNG9ELEdBQUE1b0QsR0FBQSxJQUFBNm9ELEdBQUE3b0QsRUFBQXVuRCxJQUFBLEVBQ0F2bkQsRUFDQSxTQUlBLDBCQUdBLGtNQUVBLGFBQUF5SSxRQUFBLFNBQUF6SSxHQUNBNG9ELEdBQUE1b0QsR0FBQSxJQUFBNm9ELEdBQUE3b0QsRUFBQXduRCxJQUFBLEVBQ0F4bkQsRUFBQXVILGNBQ0EsU0FLQSxVQUdBLCtCQUFBa0IsUUFBQSxTQUFBekksR0FDQTRvRCxHQUFBNW9ELEdBQUEsSUFBQTZvRCxHQUFBN29ELEVBQUF3bkQsSUFBQSxFQUNBeG5ELEVBQUF1SCxjQUNBLFNBS0Esc0JBQUFrQixRQUFBLFNBQUF6SSxHQUNBNG9ELEdBQUE1b0QsR0FBQSxJQUFBNm9ELEdBQUE3b0QsRUFBQXluRCxJQUFBLEVBQ0F6bkQsRUFBQXVILGNBQ0EsU0FJQSw2QkFBQWtCLFFBQUEsU0FBQXpJLEdBQ0E0b0QsR0FBQTVvRCxHQUFBLElBQUE2b0QsR0FBQTdvRCxFQUFBMm5ELElBQUEsRUFDQTNuRCxFQUFBdUgsY0FDQSxTQUlBLG1CQUFBa0IsUUFBQSxTQUFBekksR0FDQTRvRCxHQUFBNW9ELEdBQUEsSUFBQTZvRCxHQUFBN29ELEVBQUEwbkQsSUFBQSxFQUNBMW5ELEVBQUF1SCxjQUNBLFFBR0EsSUFBQTJoRCxHQUFBLGlCQUNBQyxHQUFBLFNBQUFDLEdBQ0EsT0FBQUEsRUFBQSxHQUFBenNDLGVBd0NBLFNBQUEwc0MsR0FBQS91QixFQUFBdDZCLEVBQUFzcEQsRUFBQWhCLEdBRUEsR0FBQUEsRUFBQVEsZ0JBR0EsT0FBQXh1QixFQUZBZ3VCLEVBQUFVLGNBSUEsSUFBQVosRUFBQUUsRUFBQUYsY0FFQW1CLEVBQUEsS0FFQSxHQUFBakIsRUFBQWxpRCxPQUFBcWhELElBQ0EsR0FBQW50QixFQUFBa3ZCLGFBQUFwQixHQUFBLENBQ0EsSUFBQTNuRCxFQUFBNjVCLEVBQUFtdkIsYUFBQXJCLEdBQ0EsV0FBQTNuRCxJQUdBaW9ELEdBQUExb0QsRUFBQXNwRCxFQUFBaEIsR0FBQSxHQUNBN25ELEVBRUFBLElBQUEsR0FBQTZvRCxFQUNBQSxFQUVBN29ELFNBRU8sR0FBQTY1QixFQUFBa3ZCLGFBQUFwQixHQUFBLENBQ1AsR0FBQU0sR0FBQTFvRCxFQUFBc3BELEVBQUFoQixHQUFBLEdBR0EsT0FBQWh1QixFQUFBbXZCLGFBQUFyQixHQUVBLEdBQUFFLEVBQUFsaUQsT0FBQW9oRCxHQUdBLE9BQUE4QixFQU1BQyxFQUFBanZCLEVBQUFtdkIsYUFBQXJCLEdBR0EsT0FBQU0sR0FBQTFvRCxFQUFBc3BELEVBQUFoQixHQUFBLEdBQ0EsT0FBQWlCLEVBQUFELEVBQUFDLEVBQ09BLElBQUEsR0FBQUQsRUFDUEEsRUFFQUMsRUFXQSxTQUFBRyxHQUFBcHZCLEVBQUF0NkIsRUFBQXNwRCxHQUVBLEdBQUFuQixHQUFBbm9ELEdBQUEsQ0FHQSxJQUFBczZCLEVBQUFrdkIsYUFBQXhwRCxHQUNBLFlBQUFpRyxJQUFBcWpELE9BQUFyakQsRUFBQSxLQUVBLElBQUF4RixFQUFBNjVCLEVBQUFtdkIsYUFBQXpwRCxHQUNBLE9BQUFTLElBQUEsR0FBQTZvRCxFQUNBQSxFQUVBN29ELEdBV0EsU0FBQWtwRCxHQUFBcnZCLEVBQUF0NkIsRUFBQVMsRUFBQThuRCxHQUNBLElBQUFELEVBQUFLLEdBQUEzb0QsR0FDQSxJQUFBcW9ELEdBQUFyb0QsRUFBQXNvRCxFQUFBQyxHQU9BLEdBSkFHLEdBQUExb0QsRUFBQVMsRUFBQTZuRCxFQUFBQyxLQUNBOW5ELEVBQUEsTUFHQThuRCxHQUFBLE9BQUFELEdBQ0EsR0FBQUgsR0FBQW5vRCxHQUFBLENBQ0EsSUFBQTRwRCxFQUFBNXBELEVBQ0EsT0FBQVMsRUFDQTY1QixFQUFBdXZCLGdCQUFBRCxHQUVBdHZCLEVBQUFzcEIsYUFBQWdHLEVBQUEsR0FBQW5wRCxTQU9BLEdBRkE2bkQsRUFBQVEsZ0JBRUEsQ0FDQSxJQUFBRSxFQUFBVixFQUFBVSxhQUVBLFVBQUF2b0QsRUFBQSxDQUNBLElBQUEyRixFQUFBa2lELEVBQUFsaUQsS0FFQWswQixFQUFBMHVCLEdBQUE1aUQsSUFBQW9oRCxJQUFBLFFBSUFsdEIsRUFBQTB1QixHQUFBdm9ELE1BVkEsQ0FlQSxJQUFBMm5ELEVBQUFFLEVBQUFGLGNBQ0FXLEVBQUFULEVBQUFTLG1CQUVBLFVBQUF0b0QsRUFDQTY1QixFQUFBdXZCLGdCQUFBekIsT0FDRyxDQUNILElBQUEwQixFQUFBeEIsRUFBQWxpRCxLQUVBMmpELE9BQUEsRUFFQUEsRUFEQUQsSUFBQXRDLElBQUFzQyxJQUFBckMsS0FBQSxJQUFBaG5ELEVBQ0EsR0FJQSxHQUFBQSxFQUVBc29ELEVBQ0F6dUIsRUFBQTB2QixlQUFBakIsRUFBQVgsRUFBQTJCLEdBRUF6dkIsRUFBQXNwQixhQUFBd0UsRUFBQTJCLE1BMUtBLDJzQ0FBQXRoRCxRQUFBLFNBQUEyL0MsR0FDQSxJQUFBcG9ELEVBQUFvb0QsRUFBQXBoRCxRQUFBa2lELEdBQUFDLElBQ0FQLEdBQUE1b0QsR0FBQSxJQUFBNm9ELEdBQUE3b0QsRUEzT0EsR0EyT0EsRUFDQW9vRCxFQUFBLFNBSUEsbUdBQUEzL0MsUUFBQSxTQUFBMi9DLEdBQ0EsSUFBQXBvRCxFQUFBb29ELEVBQUFwaEQsUUFBQWtpRCxHQUFBQyxJQUNBUCxHQUFBNW9ELEdBQUEsSUFBQTZvRCxHQUFBN29ELEVBbFBBLEdBa1BBLEVBQ0Fvb0QsRUFBQSxtQ0FJQSxtQ0FBQTMvQyxRQUFBLFNBQUEyL0MsR0FDQSxJQUFBcG9ELEVBQUFvb0QsRUFBQXBoRCxRQUFBa2lELEdBQUFDLElBQ0FQLEdBQUE1b0QsR0FBQSxJQUFBNm9ELEdBQUE3b0QsRUF6UEEsR0F5UEEsRUFDQW9vRCxFQUFBLDBDQU1BUSxHQUFBcUIsU0FBQSxJQUFBcEIsR0FBQSxXQWhRQSxHQWdRQSxFQUNBLFdBQ0EsTUFzSkEsSUFBQXFCLElBQ0E1WixlQUFBLE1BSUE2WixJQUNBQyxRQUFBLEVBQ0FDLFVBQUEsRUFDQUMsT0FBQSxFQUNBQyxRQUFBLEVBQ0FDLE9BQUEsRUFDQUMsT0FBQSxFQUNBQyxRQUFBLEdBR0FDLElBQ0FscUQsTUFBQSxTQUFBcVUsRUFBQTJuQyxFQUFBdDRCLEdBQ0EsT0FBQXJQLEVBQUEybkMsSUFBQTBOLEdBQUFyMUMsRUFBQTFPLE9BQUEwTyxFQUFBMlksVUFBQTNZLEVBQUE4MUMsVUFBQTkxQyxFQUFBbWhDLFNBQ0EsS0FFQSxJQUFBLytCLE1BQUEsc05BRUF3dEMsUUFBQSxTQUFBNXZDLEVBQUEybkMsRUFBQXQ0QixHQUNBLE9BQUFyUCxFQUFBMm5DLElBQUEzbkMsRUFBQTJZLFVBQUEzWSxFQUFBODFDLFVBQUE5MUMsRUFBQW1oQyxTQUNBLEtBRUEsSUFBQS8rQixNQUFBLDJOQVFBZ3pDLEdBQUE1WixlQUFBLFNBQUF1YSxFQUFBLzFDLEVBQUFzUCxHQUNBa3NCLEVBQUFxYSxHQUFBNzFDLEVBQUEsT0FBQSsxQyxFQUFBem1DLElBS0EsSUFBQWdqQyxHQUFBTCxHQUFBSyx5QkFDQUMsR0FBQU4sR0FBQU0sNkJBRUF5RCxJQUFBLEVBQ0FDLElBQUEsRUFDQUMsSUFBQSxFQUNBQyxJQUFBLEVBRUEsU0FBQUMsR0FBQXAyQyxHQUVBLE1BREEsYUFBQUEsRUFBQTFPLE1BQUEsVUFBQTBPLEVBQUExTyxLQUNBLE1BQUEwTyxFQUFBNHZDLFFBQUEsTUFBQTV2QyxFQUFBclUsTUFvQkEsU0FBQTBxRCxHQUFBeEgsRUFBQTd1QyxHQUNBLElBQUF3bEIsRUFBQXFwQixFQUNBZSxFQUFBNXZDLEVBQUE0dkMsUUFTQSxPQVBBcGpELEtBQTRCd1QsR0FDNUJzMkMsb0JBQUFubEQsRUFDQW9sRCxrQkFBQXBsRCxFQUNBeEYsV0FBQXdGLEVBQ0F5K0MsUUFBQSxNQUFBQSxJQUFBcHFCLEVBQUFneEIsY0FBQUMsaUJBTUEsU0FBQUMsR0FBQTdILEVBQUE3dUMsR0FFQW8xQyxHQUFBNVosZUFBQSxRQUFBeDdCLEVBQUF1eUMsU0FFQXBoRCxJQUFBNk8sRUFBQTR2QyxjQUFBeitDLElBQUE2TyxFQUFBczJDLGdCQUFBTCxLQUNBM3FDLEdBQUEsMFdBQUFnbkMsTUFBQSxjQUFBdHlDLEVBQUExTyxNQUNBMmtELElBQUEsUUFFQTlrRCxJQUFBNk8sRUFBQXJVLFlBQUF3RixJQUFBNk8sRUFBQXUyQyxjQUFBUCxLQUNBMXFDLEdBQUEsa1dBQUFnbkMsTUFBQSxjQUFBdHlDLEVBQUExTyxNQUNBMGtELElBQUEsR0FJQSxJQUFBeHdCLEVBQUFxcEIsRUFDQTBILEVBQUEsTUFBQXYyQyxFQUFBdTJDLGFBQUEsR0FBQXYyQyxFQUFBdTJDLGFBRUEvd0IsRUFBQWd4QixlQUNBQyxlQUFBLE1BQUF6MkMsRUFBQTR2QyxRQUFBNXZDLEVBQUE0dkMsUUFBQTV2QyxFQUFBczJDLGVBQ0FLLGFBQUFDLEdBQUEsTUFBQTUyQyxFQUFBclUsTUFBQXFVLEVBQUFyVSxNQUFBNHFELEdBQ0FNLFdBQUFULEdBQUFwMkMsSUFJQSxTQUFBODJDLEdBQUFqSSxFQUFBN3VDLEdBQ0EsSUFBQXdsQixFQUFBcXBCLEVBQ0FlLEVBQUE1dkMsRUFBQTR2QyxRQUNBLE1BQUFBLEdBQ0FpRixHQUFBcnZCLEVBQUEsVUFBQW9xQixHQUFBLEdBSUEsU0FBQW1ILEdBQUFsSSxFQUFBN3VDLEdBQ0EsSUFBQXdsQixFQUFBcXBCLEVBRUFtSSxFQUFBWixHQUFBcDJDLEdBRUF3bEIsRUFBQWd4QixjQUFBSyxhQUFBRyxHQUFBYixLQUNBN3FDLEdBQUEsMlRBQUF0TCxFQUFBMU8sS0FBQWloRCxNQUNBNEQsSUFBQSxJQUVBM3dCLEVBQUFneEIsY0FBQUssWUFBQUcsR0FBQWQsS0FDQTVxQyxHQUFBLDBUQUFBdEwsRUFBQTFPLEtBQUFpaEQsTUFDQTJELElBQUEsR0FJQVksR0FBQWpJLEVBQUE3dUMsR0FFQSxJQUFBclUsRUFBQWlyRCxHQUFBNTJDLEVBQUFyVSxPQUVBLE1BQUFBLElBQ0EsV0FBQXFVLEVBQUExTyxNQUNBLElBQUEzRixHQUFBLEtBQUE2NUIsRUFBQTc1QixPQUVBNjVCLEVBQUE3NUIsWUFDQTY1QixFQUFBNzVCLE1BQUEsR0FBQUEsR0FFSzY1QixFQUFBNzVCLFFBQUEsR0FBQUEsSUFDTDY1QixFQUFBNzVCLE1BQUEsR0FBQUEsSUFJQXFVLEVBQUEvVCxlQUFBLFNBQ0FnckQsR0FBQXp4QixFQUFBeGxCLEVBQUExTyxLQUFBM0YsR0FDR3FVLEVBQUEvVCxlQUFBLGlCQUNIZ3JELEdBQUF6eEIsRUFBQXhsQixFQUFBMU8sS0FBQXNsRCxHQUFBNTJDLEVBQUF1MkMsZUFHQSxNQUFBdjJDLEVBQUE0dkMsU0FBQSxNQUFBNXZDLEVBQUFzMkMsaUJBQ0E5d0IsRUFBQTh3QixpQkFBQXQyQyxFQUFBczJDLGdCQUlBLFNBQUFZLEdBQUFySSxFQUFBN3VDLEdBQ0EsSUFBQXdsQixFQUFBcXBCLEdBRUE3dUMsRUFBQS9ULGVBQUEsVUFBQStULEVBQUEvVCxlQUFBLG1CQUdBLEtBQUF1NUIsRUFBQTc1QixRQUNBNjVCLEVBQUE3NUIsTUFBQSxHQUFBNjVCLEVBQUFneEIsY0FBQUcsY0FNQW54QixFQUFBK3dCLGFBQUEsR0FBQS93QixFQUFBZ3hCLGNBQUFHLGNBUUEsSUFBQXpyRCxFQUFBczZCLEVBQUF0NkIsS0FDQSxLQUFBQSxJQUNBczZCLEVBQUF0NkIsS0FBQSxJQUVBczZCLEVBQUE4d0IsZ0JBQUE5d0IsRUFBQTh3QixlQUNBOXdCLEVBQUE4d0IsZ0JBQUE5d0IsRUFBQTh3QixlQUNBLEtBQUFwckQsSUFDQXM2QixFQUFBdDZCLFFBSUEsU0FBQThnRCxHQUFBNkMsRUFBQTd1QyxHQUNBLElBQUF3bEIsRUFBQXFwQixFQUNBa0ksR0FBQXZ4QixFQUFBeGxCLEdBSUEsU0FBQW0zQyxFQUFBbjNDLEdBQ0EsSUFBQTlVLEVBQUE4VSxFQUFBOVUsS0FDQSxhQUFBOFUsRUFBQTFPLE1BQUEsTUFBQXBHLEVBQUEsQ0FHQSxJQUZBLElBQUFrc0QsRUFBQUQsRUFFQUMsRUFBQTdjLFlBQ0E2YyxJQUFBN2MsV0FZQSxJQUZBLElBQUE4YyxFQUFBRCxFQUFBRSxpQkFBQSxjQUFBNXFELEtBQUFFLFVBQUEsR0FBQTFCLEdBQUEsbUJBRUFQLEVBQUEsRUFBbUJBLEVBQUEwc0QsRUFBQW5xRCxPQUFrQnZDLElBQUEsQ0FDckMsSUFBQTRzRCxFQUFBRixFQUFBMXNELEdBQ0EsR0FBQTRzRCxJQUFBSixHQUFBSSxFQUFBQyxPQUFBTCxFQUFBSyxLQUFBLENBT0EsSUFBQUMsRUFBQWxVLEdBQUFnVSxHQUNBRSxHQUFBem9DLEdBQUEsbUdBSUF3Z0MsR0FBQStILEdBS0FSLEdBQUFRLEVBQUFFLE1BeENBQyxDQUFBbHlCLEVBQUF4bEIsR0FxREEsU0FBQWkzQyxHQUFBenhCLEVBQUFsMEIsRUFBQTNGLEdBR0EsV0FBQTJGLEdBQUFrMEIsRUFBQXNVLGNBQUFnQixnQkFBQXRWLElBQ0EsTUFBQTc1QixFQUNBNjVCLEVBQUErd0IsYUFBQSxHQUFBL3dCLEVBQUFneEIsY0FBQUcsYUFDS254QixFQUFBK3dCLGVBQUEsR0FBQTVxRCxJQUNMNjVCLEVBQUErd0IsYUFBQSxHQUFBNXFELElBS0EsU0FBQWlyRCxHQUFBanJELEdBQ0EsY0FBQUEsR0FDQSxjQUNBLGFBQ0EsYUFDQSxhQUNBLGdCQUNBLE9BQUFBLEVBQ0EsUUFFQSxVQUlBLElBQUFnc0QsSUFDQUMsUUFDQTFaLHlCQUNBMkwsUUFBQSxXQUNBQyxTQUFBLG1CQUVBdEwsY0FBQSx1R0FJQSxTQUFBcVosR0FBQW5ZLEVBQUFpQyxFQUFBbHFDLEdBQ0EsSUFBQWMsRUFBQTB3QyxHQUFBUixVQUFBa1AsR0FBQUMsT0FBQWxZLEVBQUFpQyxFQUFBbHFDLEdBS0EsT0FKQWMsRUFBQWpILEtBQUEsU0FFQTg2QyxHQUFBMzBDLEdBQ0ErdEMsR0FBQWp0QyxHQUNBQSxFQUtBLElBQUF1aUMsR0FBQSxLQUNBZ2QsR0FBQSxLQTJCQSxTQUFBQyxHQUFBeC9DLEdBQ0E4b0MsRUFBQTlvQyxHQUFBLEdBR0EsU0FBQXkvQyxHQUFBdFcsR0FFQSxHQUFBOE4sR0FEQWxNLEdBQUE1QixJQUVBLE9BQUFBLEVBSUEsU0FBQXVXLEdBQUF4VyxFQUFBQyxHQUNBLGlCQUFBRCxFQUNBLE9BQUFDLEVBT0EsSUFBQXdXLElBQUEsRUFzQkEsU0FBQUMsS0FDQXJkLEtBR0FBLEdBQUFzZCxZQUFBLG1CQUFBQyxJQUNBdmQsR0FBQSxLQUNBZ2QsR0FBQSxNQU9BLFNBQUFPLEdBQUExVyxHQUNBLFVBQUFBLEVBQUF1UyxjQUdBOEQsR0FBQUYsS0E1RUEsU0FBQW5XLEdBY0FtTCxHQUFBaUwsR0FiQUYsR0FBQUMsR0FBQW5XLEVBQUE0TSxHQUFBNU0sS0E0RUEyVyxDQUFBM1csR0FJQSxTQUFBNFcsR0FBQTlXLEVBQUFocUMsRUFBQWlxQyxHQUNBLGFBQUFELEdBV0EwVyxLQTVDQSxTQUFBMWdELEVBQUFpcUMsR0FFQW9XLEdBQUFwVyxHQURBNUcsR0FBQXJqQyxHQUVBMmpDLFlBQUEsbUJBQUFpZCxJQTBDQUcsQ0FBQS9nRCxFQUFBaXFDLElBQ0csWUFBQUQsR0FDSDBXLEtBS0EsU0FBQU0sR0FBQWhYLEVBQUFDLEdBQ0EsMEJBQUFELEdBQUEsYUFBQUEsR0FBQSxlQUFBQSxFQVdBLE9BQUF1VyxHQUFBRixJQWVBLFNBQUFZLEdBQUFqWCxFQUFBQyxHQUNBLGdCQUFBRCxFQUNBLE9BQUF1VyxHQUFBdFcsR0FJQSxTQUFBaVgsR0FBQWxYLEVBQUFDLEdBQ0EsZ0JBQUFELEdBQUEsY0FBQUEsRUFDQSxPQUFBdVcsR0FBQXRXLEdBbEdBekcsRUFBQUQsWUFHQWtkLEdBQUF6SixHQUFBLFlBQUF4a0MsU0FBQXMvQixjQUFBdC9CLFNBQUFzL0IsYUFBQSxJQThIQSxJQUFBcVAsSUFDQTc4QixXQUFBNDdCLEdBRUFrQix1QkFBQVgsR0FFQXRhLGNBQUEsU0FBQTZELEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsSUFsTEFxTSxFQUNBaFUsRUFpTEE2ZSxFQUFBcFgsRUFBQTRCLEdBQUE1QixHQUFBbjFDLE9BRUF3c0QsT0FBQSxFQUNBQyxPQUFBLEVBY0EsR0FqTUEsWUFEQS9lLEdBREFnVSxFQXNMQTZLLEdBckxBN2UsVUFBQWdVLEVBQUFoVSxTQUFBeG5DLGdCQUNBLFVBQUF3bkMsR0FBQSxTQUFBZ1UsRUFBQTM4QyxLQXFMQXluRCxFQUFBZCxHQUNLakssR0FBQThLLEdBQ0xaLEdBQ0FhLEVBQUFKLElBRUFJLEVBQUFOLEdBQ0FPLEVBQUFULElBaEVBLFNBQUF0SyxHQUlBLElBQUFoVSxFQUFBZ1UsRUFBQWhVLFNBQ0EsT0FBQUEsR0FBQSxVQUFBQSxFQUFBeG5DLGdCQUFBLGFBQUF3N0MsRUFBQTM4QyxNQUFBLFVBQUEyOEMsRUFBQTM4QyxNQTZESzJuRCxDQUFBSCxLQUNMQyxFQUFBTCxJQUdBSyxFQUFBLENBQ0EsSUFBQXJaLEVBQUFxWixFQUFBdFgsRUFBQUMsR0FDQSxHQUFBaEMsRUFFQSxPQURBbVksR0FBQW5ZLEVBQUFpQyxFQUFBQyxHQUtBb1gsR0FDQUEsRUFBQXZYLEVBQUFxWCxFQUFBcFgsR0FJQSxZQUFBRCxHQS9EQSxTQUFBL0IsRUFBQWxhLEdBRUEsU0FBQWthLEVBQUEsQ0FLQSxJQUFBcG5CLEVBQUFvbkIsRUFBQThXLGVBQUFoeEIsRUFBQWd4QixjQUVBbCtCLEtBQUF1K0IsWUFBQSxXQUFBcnhCLEVBQUFsMEIsTUFLQTJsRCxHQUFBenhCLEVBQUEsU0FBQUEsRUFBQTc1QixRQWtEQXV0RCxDQUFBeFgsRUFBQW9YLEtBZ0JBSyxHQUFBbFEsR0FBQTduQyxRQUNBeXRCLEtBQUEsS0FDQXliLE9BQUEsT0FRQThPLElBQ0FDLElBQUEsU0FDQUMsUUFBQSxVQUNBQyxLQUFBLFVBQ0FDLE1BQUEsWUFNQSxTQUFBQyxHQUFBQyxHQUNBLElBQ0EvWCxFQURBaHFDLEtBQ0FncUMsWUFDQSxHQUFBQSxFQUFBZ1ksaUJBQ0EsT0FBQWhZLEVBQUFnWSxpQkFBQUQsR0FFQSxJQUFBRSxFQUFBUixHQUFBTSxHQUNBLFFBQUFFLEtBQUFqWSxFQUFBaVksR0FHQSxTQUFBQyxHQUFBbFksR0FDQSxPQUFBOFgsR0FPQSxJQUFBSyxHQUFBWCxHQUFBLzNDLFFBQ0EyNEMsUUFBQSxLQUNBQyxRQUFBLEtBQ0FDLFFBQUEsS0FDQUMsUUFBQSxLQUNBQyxNQUFBLEtBQ0FDLE1BQUEsS0FDQW5QLFFBQUEsS0FDQW9QLFNBQUEsS0FDQW5QLE9BQUEsS0FDQUMsUUFBQSxLQUNBd08saUJBQUFFLEdBQ0F2RSxPQUFBLEtBQ0FnRixRQUFBLEtBQ0FDLGNBQUEsU0FBQWhpRCxHQUNBLE9BQUFBLEVBQUFnaUQsZ0JBQUFoaUQsRUFBQWlpRCxjQUFBamlELEVBQUFraUQsV0FBQWxpRCxFQUFBbWlELFVBQUFuaUQsRUFBQWlpRCxnQkFJQUcsSUFDQUMsWUFDQXZjLGlCQUFBLGVBQ0FHLGNBQUEsK0JBRUFxYyxZQUNBeGMsaUJBQUEsZUFDQUcsY0FBQSxnQ0FJQXNjLElBQ0EvK0IsV0FBQTQrQixHQVNBL2MsY0FBQSxTQUFBNkQsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQSxvQkFBQUgsSUFBQUUsRUFBQTRZLGVBQUE1WSxFQUFBNlksYUFDQSxZQUVBLG1CQUFBL1ksR0FBQSxpQkFBQUEsRUFFQSxZQUdBLElBQUFzWixPQUFBLEVBQ0EsR0FBQW5aLEVBQUFyMUMsU0FBQXExQyxFQUVBbVosRUFBQW5aLE1BQ0ssQ0FFTCxJQUFBL0csRUFBQStHLEVBQUE5SCxjQUVBaWhCLEVBREFsZ0IsRUFDQUEsRUFBQWhCLGFBQUFnQixFQUFBbWdCLGFBRUF6dUQsT0FJQSxJQUFBNGpCLE9BQUEsRUFDQUUsT0FBQSxFQUNBLG1CQUFBb3hCLEVBQUEsQ0FDQXR4QixFQUFBdXhCLEVBQ0EsSUFBQXVaLEVBQUF0WixFQUFBNFksZUFBQTVZLEVBQUErWSxVQUNBcnFDLEVBQUE0cUMsRUFBQTdYLEdBQUE2WCxHQUFBLFVBR0E5cUMsRUFBQSxLQUNBRSxFQUFBcXhCLEVBR0EsR0FBQXZ4QixJQUFBRSxFQUVBLFlBR0EsSUFBQTZxQyxFQUFBLE1BQUEvcUMsRUFBQTRxQyxFQUFBelgsR0FBQW56QixHQUNBZ3JDLEVBQUEsTUFBQTlxQyxFQUFBMHFDLEVBQUF6WCxHQUFBanpCLEdBRUFxMUIsRUFBQW9VLEdBQUFyUixVQUFBa1MsR0FBQUUsV0FBQTFxQyxFQUFBd3hCLEVBQUFDLEdBQ0E4RCxFQUFBcDBDLEtBQUEsYUFDQW8wQyxFQUFBanVDLE9BQUF5akQsRUFDQXhWLEVBQUE2VSxjQUFBWSxFQUVBLElBQUF4VixFQUFBbVUsR0FBQXJSLFVBQUFrUyxHQUFBQyxXQUFBdnFDLEVBQUFzeEIsRUFBQUMsR0FPQSxPQU5BK0QsRUFBQXIwQyxLQUFBLGFBQ0FxMEMsRUFBQWx1QyxPQUFBMGpELEVBQ0F4VixFQUFBNFUsY0FBQVcsRUFFQXpWLEdBQUFDLEVBQUFDLEVBQUF4MUIsRUFBQUUsSUFFQXExQixFQUFBQyxLQXFCQSxTQUFBbDZDLEdBQUFxSyxHQUNBLE9BQUFBLEVBQUFzbEQsb0JBWUEsSUFBQUMsR0FBQSxFQUNBQyxHQUFBLEVBR0FDLEdBQUEsRUFDQUMsR0FBQSxFQUNBQyxHQUFBLEVBQ0FDLEdBQUEsRUFDQUMsR0FBQSxHQUNBQyxHQUFBLEdBQ0FDLEdBQUEsR0FDQUMsR0FBQSxJQUNBQyxHQUFBLElBQ0FDLEdBQUEsS0FHQUMsR0FBQSxLQUVBQyxHQUFBLElBQ0FDLEdBQUEsS0FFQUMsR0FBQSxFQUNBQyxHQUFBLEVBQ0FDLEdBQUEsRUFFQSxTQUFBQyxHQUFBaEwsR0FDQSxJQUFBL3JCLEVBQUErckIsRUFDQSxHQUFBQSxFQUFBOU0sVUFhQSxLQUFBamYsRUFBQSxRQUNBQSxJQUFBLFdBZEEsQ0FHQSxJQUFBQSxFQUFBZzNCLFVBQUFqQixNQUFBRixHQUNBLE9BQUFlLEdBRUEsS0FBQTUyQixFQUFBLFFBRUEsS0FEQUEsSUFBQSxRQUNBZzNCLFVBQUFqQixNQUFBRixHQUNBLE9BQUFlLEdBUUEsT0FBQTUyQixFQUFBdGMsTUFBQWk1QixFQUdBa2EsR0FJQUMsR0FHQSxTQUFBRyxHQUFBbEwsR0FDQSxPQUFBZ0wsR0FBQWhMLEtBQUE4SyxHQUdBLFNBQUFLLEdBQUFDLEdBRUEsSUFBQWpMLEVBQUExQixHQUFBblEsUUFDQSxVQUFBNlIsS0FBQXhvQyxNQUFBZzVCLEVBQUEsQ0FDQSxJQUFBMGEsRUFBQWxMLEVBQ0F4NkIsRUFBQTBsQyxFQUFBMWIsVUFDQTUxQixFQUFBNEwsRUFBQTJsQyx5QkFBQSx3UkFBQXZMLEdBQUFzTCxJQUFBLGVBQ0ExbEMsRUFBQTJsQywwQkFBQSxFQUlBLElBQUF0TCxFQUFBOWxELEdBQUFreEQsR0FDQSxRQUFBcEwsR0FHQWdMLEdBQUFoTCxLQUFBOEssR0FHQSxTQUFBUyxHQUFBdkwsR0FDQWdMLEdBQUFoTCxLQUFBOEssSUFBQXJ0QyxHQUFBLG9EQUdBLFNBQUErdEMsR0FBQXhMLEdBQ0EsSUFBQTlNLEVBQUE4TSxFQUFBOU0sVUFDQSxJQUFBQSxFQUFBLENBRUEsSUFBQW5zQixFQUFBaWtDLEdBQUFoTCxHQUVBLE9BREFqNUIsSUFBQWdrQyxJQUFBdHRDLEdBQUEsb0RBQ0FzSixJQUFBOGpDLEdBQ0EsS0FFQTdLLEVBT0EsSUFGQSxJQUFBeGdELEVBQUF3Z0QsRUFDQXZoRCxFQUFBeTBDLElBQ0EsQ0FDQSxJQUFBdVksRUFBQWpzRCxFQUFBLE9BQ0Frc0QsRUFBQUQsSUFBQXZZLFVBQUEsS0FDQSxJQUFBdVksSUFBQUMsRUFFQSxNQU1BLEdBQUFELEVBQUFFLFFBQUFELEVBQUFDLE1BQUEsQ0FFQSxJQURBLElBQUFBLEVBQUFGLEVBQUFFLE1BQ0FBLEdBQUEsQ0FDQSxHQUFBQSxJQUFBbnNELEVBR0EsT0FEQStyRCxHQUFBRSxHQUNBekwsRUFFQSxHQUFBMkwsSUFBQWx0RCxFQUdBLE9BREE4c0QsR0FBQUUsR0FDQXZZLEVBRUF5WSxJQUFBQyxRQUlBbnVDLEdBQUEsb0RBR0EsR0FBQWplLEVBQUEsU0FBQWYsRUFBQSxPQUtBZSxFQUFBaXNELEVBQ0FodEQsRUFBQWl0RCxNQUNLLENBUUwsSUFGQSxJQUFBRyxHQUFBLEVBQ0FDLEVBQUFMLEVBQUFFLE1BQ0FHLEdBQUEsQ0FDQSxHQUFBQSxJQUFBdHNELEVBQUEsQ0FDQXFzRCxHQUFBLEVBQ0Fyc0QsRUFBQWlzRCxFQUNBaHRELEVBQUFpdEQsRUFDQSxNQUVBLEdBQUFJLElBQUFydEQsRUFBQSxDQUNBb3RELEdBQUEsRUFDQXB0RCxFQUFBZ3RELEVBQ0Fqc0QsRUFBQWtzRCxFQUNBLE1BRUFJLElBQUFGLFFBRUEsSUFBQUMsRUFBQSxDQUdBLElBREFDLEVBQUFKLEVBQUFDLE1BQ0FHLEdBQUEsQ0FDQSxHQUFBQSxJQUFBdHNELEVBQUEsQ0FDQXFzRCxHQUFBLEVBQ0Fyc0QsRUFBQWtzRCxFQUNBanRELEVBQUFndEQsRUFDQSxNQUVBLEdBQUFLLElBQUFydEQsRUFBQSxDQUNBb3RELEdBQUEsRUFDQXB0RCxFQUFBaXRELEVBQ0Fsc0QsRUFBQWlzRCxFQUNBLE1BRUFLLElBQUFGLFFBRUFDLEdBQUFwdUMsR0FBQSxtSUFJQWplLEVBQUEwekMsWUFBQXowQyxHQUFBZ2YsR0FBQSxrSUFLQSxPQURBamUsRUFBQW1ZLE1BQUFpNUIsR0FBQW56QixHQUFBLG9EQUNBamUsRUFBQW13QyxVQUFBckIsVUFBQTl1QyxFQUVBd2dELEVBR0E5TSxFQWtGQSxJQUFBNlksR0FBQXJVLEdBQUE3bkMsUUFDQW04QyxjQUFBLEtBQ0FDLFlBQUEsS0FDQUMsY0FBQSxPQU9BQyxHQUFBelUsR0FBQTduQyxRQUNBdThDLGNBQUEsU0FBQXBsRCxHQUNBLHdCQUFBQSxJQUFBb2xELGNBQUFweEQsT0FBQW94RCxpQkFRQUMsR0FBQXpFLEdBQUEvM0MsUUFDQW01QyxjQUFBLE9BYUEsU0FBQXNELEdBQUFsYyxHQUNBLElBQUFtYyxPQUFBLEVBQ0ExVCxFQUFBekksRUFBQXlJLFFBc0JBLE1BcEJBLGFBQUF6SSxFQUlBLEtBSEFtYyxFQUFBbmMsRUFBQW1jLFdBR0EsS0FBQTFULElBQ0EwVCxFQUFBLElBSUFBLEVBQUExVCxFQUtBLEtBQUEwVCxJQUNBQSxFQUFBLElBS0FBLEdBQUEsU0FBQUEsRUFDQUEsRUFHQSxFQU9BLElBQUFDLElBQ0FDLElBQUEsU0FDQUMsU0FBQSxJQUNBQyxLQUFBLFlBQ0FDLEdBQUEsVUFDQUMsTUFBQSxhQUNBQyxLQUFBLFlBQ0FDLElBQUEsU0FDQUMsSUFBQSxLQUNBQyxLQUFBLGNBQ0FDLEtBQUEsY0FDQUMsT0FBQSxhQUNBQyxnQkFBQSxnQkFRQUMsSUFDQUMsRUFBQSxZQUNBQyxFQUFBLE1BQ0FDLEdBQUEsUUFDQUMsR0FBQSxRQUNBQyxHQUFBLFFBQ0FDLEdBQUEsVUFDQUMsR0FBQSxNQUNBQyxHQUFBLFFBQ0FDLEdBQUEsV0FDQUMsR0FBQSxTQUNBQyxHQUFBLElBQ0FDLEdBQUEsU0FDQUMsR0FBQSxXQUNBQyxHQUFBLE1BQ0FDLEdBQUEsT0FDQUMsR0FBQSxZQUNBQyxHQUFBLFVBQ0FDLEdBQUEsYUFDQUMsR0FBQSxZQUNBQyxHQUFBLFNBQ0FDLEdBQUEsU0FDQUMsSUFBQSxLQUNBQyxJQUFBLEtBQ0FDLElBQUEsS0FDQUMsSUFBQSxLQUNBQyxJQUFBLEtBQ0FDLElBQUEsS0FDQUMsSUFBQSxLQUNBQyxJQUFBLEtBQ0FDLElBQUEsS0FDQUMsSUFBQSxNQUNBQyxJQUFBLE1BQ0FDLElBQUEsTUFDQUMsSUFBQSxVQUNBQyxJQUFBLGFBQ0FDLElBQUEsUUF3Q0EsSUFBQUMsR0FBQTlILEdBQUEvM0MsUUFDQXRMLElBbENBLFNBQUE2ckMsR0FDQSxHQUFBQSxFQUFBN3JDLElBQUEsQ0FNQSxJQUFBQSxFQUFBaW9ELEdBQUFwYyxFQUFBN3JDLE1BQUE2ckMsRUFBQTdyQyxJQUNBLG9CQUFBQSxFQUNBLE9BQUFBLEVBS0EsZ0JBQUE2ckMsRUFBQXJ3QyxLQUFBLENBQ0EsSUFBQXdzRCxFQUFBRCxHQUFBbGMsR0FJQSxZQUFBbWMsRUFBQSxRQUFBdnJELE9BQUF1ZCxhQUFBZ3VDLEdBRUEsa0JBQUFuYyxFQUFBcndDLE1BQUEsVUFBQXF3QyxFQUFBcndDLEtBR0FzdEQsR0FBQWpkLEVBQUF5SSxVQUFBLGVBRUEsSUFTQWg3QixTQUFBLEtBQ0E2N0IsUUFBQSxLQUNBb1AsU0FBQSxLQUNBblAsT0FBQSxLQUNBQyxRQUFBLEtBQ0ErVixPQUFBLEtBQ0FDLE9BQUEsS0FDQXhILGlCQUFBRSxHQUVBaUUsU0FBQSxTQUFBdmxELEdBTUEsbUJBQUFBLEVBQUFqSCxLQUNBdXNELEdBQUF0bEQsR0FFQSxHQUVBNnhDLFFBQUEsU0FBQTd4QyxHQVFBLGtCQUFBQSxFQUFBakgsTUFBQSxVQUFBaUgsRUFBQWpILEtBQ0FpSCxFQUFBNnhDLFFBRUEsR0FFQWtCLE1BQUEsU0FBQS95QyxHQUdBLG1CQUFBQSxFQUFBakgsS0FDQXVzRCxHQUFBdGxELEdBRUEsWUFBQUEsRUFBQWpILE1BQUEsVUFBQWlILEVBQUFqSCxLQUNBaUgsRUFBQTZ4QyxRQUVBLEtBUUFnWCxHQUFBdEgsR0FBQTE0QyxRQUNBaWdELGFBQUEsT0FPQUMsR0FBQW5JLEdBQUEvM0MsUUFDQW1nRCxRQUFBLEtBQ0FDLGNBQUEsS0FDQUMsZUFBQSxLQUNBdlcsT0FBQSxLQUNBQyxRQUFBLEtBQ0FGLFFBQUEsS0FDQW9QLFNBQUEsS0FDQVYsaUJBQUFFLEtBUUE2SCxHQUFBelksR0FBQTduQyxRQUNBOHlDLGFBQUEsS0FDQXNKLFlBQUEsS0FDQUMsY0FBQSxPQU9Ba0UsR0FBQTdILEdBQUExNEMsUUFDQXdnRCxPQUFBLFNBQUFycEQsR0FDQSxpQkFBQUEsSUFBQXFwRCxPQUNBLGdCQUFBcnBELEtBQUFzcEQsWUFBQSxHQUVBQyxPQUFBLFNBQUF2cEQsR0FDQSxpQkFBQUEsSUFBQXVwRCxPQUNBLGdCQUFBdnBELEtBQUF3cEQsWUFDQSxlQUFBeHBELEtBQUF5cEQsV0FBQSxHQUdBQyxPQUFBLEtBTUFDLFVBQUEsT0F3QkFDLE1BQ0FDLE1BRUEsU0FBQUMsR0FBQTlwRCxFQUFBK3BELEdBQ0EsSUFBQUMsRUFBQWhxRCxFQUFBLEdBQUFzUCxjQUFBdFAsRUFBQXRJLE1BQUEsR0FDQXV5RCxFQUFBLEtBQUFELEVBQ0FFLEVBQUEsTUFBQUYsRUFFQWp4RCxHQUNBNHNDLHlCQUNBMkwsUUFBQTJZLEVBQ0ExWSxTQUFBMFksRUFBQSxXQUVBaGtCLGNBQUFpa0IsR0FDQUgsaUJBRUFILEdBQUE1cEQsR0FBQWpILEVBQ0E4d0QsR0FBQUssR0FBQW54RCxHQXBCQSx1U0F1QkFxQyxRQUFBLFNBQUErdUQsR0FDQUwsR0FBQUssR0FBQSxNQXZCQSx5WkF5QkEvdUQsUUFBQSxTQUFBK3VELEdBQ0FMLEdBQUFLLEdBQUEsS0FJQSxJQUFBQyxJQUFBLG9hQUVBQyxJQUNBN21DLFdBQUFvbUMsR0FFQVUsK0JBQUEsU0FBQXBoQixHQUNBLElBQUF0aUMsRUFBQWlqRCxHQUFBM2dCLEdBQ0EsWUFBQXR3QyxJQUFBZ08sSUFBQSxJQUFBQSxFQUFBbWpELGVBSUExa0IsY0FBQSxTQUFBNkQsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQSxJQUFBNUQsRUFBQW9rQixHQUFBM2dCLEdBQ0EsSUFBQXpELEVBQ0EsWUFFQSxJQUFBd0ssT0FBQSxFQUNBLE9BQUEvRyxHQUNBLGtCQUlBLE9BQUFvYyxHQUFBbGMsR0FDQSxZQUdBLGlCQUNBLGVBQ0E2RyxFQUFBeVksR0FDQSxNQUNBLGNBQ0EsZUFDQXpZLEVBQUFvVixHQUNBLE1BQ0EsZUFHQSxPQUFBamMsRUFBQTJULE9BQ0EsWUFHQSxxQkFDQSxtQkFDQSxtQkFDQSxpQkFHQSxrQkFDQSxtQkFDQSxxQkFDQTlNLEVBQUFzUixHQUNBLE1BQ0EsY0FDQSxpQkFDQSxtQkFDQSxrQkFDQSxtQkFDQSxrQkFDQSxtQkFDQSxjQUNBdFIsRUFBQTRZLEdBQ0EsTUFDQSxxQkFDQSxrQkFDQSxtQkFDQSxvQkFDQTVZLEVBQUE4WSxHQUNBLE1BQ0Esc0JBQ0EsNEJBQ0Esd0JBQ0E5WSxFQUFBOFUsR0FDQSxNQUNBLHVCQUNBOVUsRUFBQWtaLEdBQ0EsTUFDQSxnQkFDQWxaLEVBQUEyUSxHQUNBLE1BQ0EsZUFDQTNRLEVBQUFtWixHQUNBLE1BQ0EsY0FDQSxhQUNBLGVBQ0FuWixFQUFBa1YsR0FDQSxNQUNBLFNBRUEsSUFBQWlGLEdBQUF0MEQsUUFBQW96QyxJQUNBbjJCLEdBQUEsMEhBQUFtMkIsR0FLQStHLEVBQUFTLEdBR0EsSUFBQTF3QyxFQUFBaXdDLEVBQUFDLFVBQUF6SyxFQUFBMEQsRUFBQUMsRUFBQUMsR0FFQSxPQURBNEQsR0FBQWp0QyxHQUNBQSxJQUlBc3FELEdBQUFELEdBQUFDLCtCQUdBQyxHQUFBLEdBQ0FDLE1BT0EsU0FBQUMsR0FBQXRqQixHQUlBLEtBQUFBLEVBQUEsUUFDQUEsSUFBQSxPQUVBLE9BQUFBLEVBQUF4MkIsTUFBQWk1QixFQUVBLEtBRUF6QyxFQUFBd0IsVUFBQStoQixjQThCQSxTQUFBQyxHQUFBQyxHQUNBLElBQUF6aEIsRUFBQXloQixFQUFBemhCLFdBTUEwaEIsRUFBQTFoQixFQUNBLEdBQ0EsSUFBQTBoQixFQUFBLENBQ0FELEVBQUFFLFVBQUEvMUQsS0FBQTgxRCxHQUNBLE1BRUEsSUFBQUUsRUFBQU4sR0FBQUksR0FDQSxJQUFBRSxFQUNBLE1BRUFILEVBQUFFLFVBQUEvMUQsS0FBQTgxRCxHQUNBQSxFQUFBaGdCLEdBQUFrZ0IsU0FDR0YsR0FFSCxRQUFBejRELEVBQUEsRUFBaUJBLEVBQUF3NEQsRUFBQUUsVUFBQW4yRCxPQUFrQ3ZDLElBQ25EKzJDLEVBQUF5aEIsRUFBQUUsVUFBQTE0RCxHQUNBNjJDLEVBQUEyaEIsRUFBQTFoQixhQUFBQyxFQUFBeWhCLEVBQUF4aEIsWUFBQTRNLEdBQUE0VSxFQUFBeGhCLGNBS0EsSUFBQTRoQixJQUFBLEVBRUEsU0FBQUMsR0FBQUMsR0FDQUYsS0FBQUUsRUFHQSxTQUFBQyxLQUNBLE9BQUFILEdBYUEsU0FBQUksR0FBQWxpQixFQUFBbWlCLEVBQUEvVSxHQUNBLElBQUFBLEVBQ0EsYUEzaEJBLFNBQUFBLEVBQUFwRSxFQUFBcG5CLEdBQ0F3ckIsRUFBQXoyQyxpQkFBQXF5QyxFQUFBcG5CLEdBQUEsR0E4aEJBd2dDLENBQUFoVixFQUFBK1UsR0FGQWYsR0FBQXBoQixHQUFBcWlCLEdBQUE3bkIsSUFJQXhqQixLQUFBLEtBQUFncEIsSUFhQSxTQUFBc2lCLEdBQUF0aUIsRUFBQW1pQixFQUFBL1UsR0FDQSxJQUFBQSxFQUNBLGFBNWlCQSxTQUFBQSxFQUFBcEUsRUFBQXBuQixHQUNBd3JCLEVBQUF6MkMsaUJBQUFxeUMsRUFBQXBuQixHQUFBLEdBK2lCQTJnQyxDQUFBblYsRUFBQStVLEdBRkFmLEdBQUFwaEIsR0FBQXFpQixHQUFBN25CLElBSUF4akIsS0FBQSxLQUFBZ3BCLElBR0EsU0FBQXFpQixHQUFBcmlCLEVBQUFFLEdBcnZFQWdMLEdBc3ZFQTFRLEdBQUF3RixFQUFBRSxHQUdBLFNBQUExRixHQUFBd0YsRUFBQUUsR0FDQSxHQUFBNGhCLEdBQUEsQ0FJQSxJQUNBN2hCLEVBQUEwQixHQURBbUwsR0FBQTVNLElBRUEsT0FBQUQsR0FBQSxpQkFBQUEsRUFBQXg0QixLQUFBdXpDLEdBQUEvYSxLQUtBQSxFQUFBLE1BR0EsSUE3R0F4cUIsRUE2R0Fpc0MsRUE3SEEsU0FBQTFoQixFQUFBRSxFQUFBRCxHQUNBLEdBQUFxaEIsR0FBQTcxRCxPQUFBLENBQ0EsSUFBQWdxQixFQUFBNnJDLEdBQUF4Z0QsTUFJQSxPQUhBMlUsRUFBQXVxQixlQUNBdnFCLEVBQUF5cUIsY0FDQXpxQixFQUFBd3FCLGFBQ0F4cUIsRUFFQSxPQUNBdXFCLGVBQ0FFLGNBQ0FELGFBQ0EyaEIsY0FpSEFZLENBQUF4aUIsRUFBQUUsRUFBQUQsR0FFQSxJQUdBb0wsR0FBQW9XLEdBQUFDLEdBQ0csU0FuSEhqc0MsRUFvSEFpc0MsR0FuSEExaEIsYUFBQSxLQUNBdnFCLEVBQUF5cUIsWUFBQSxLQUNBenFCLEVBQUF3cUIsV0FBQSxLQUNBeHFCLEVBQUFtc0MsVUFBQW4yRCxPQUFBLEVBQ0E2MUQsR0FBQTcxRCxPQUFBNDFELElBQ0FDLEdBQUF6MUQsS0FBQTRwQixLQWtIQSxJQUFBZ3RDLEdBQUE3NEQsT0FBQXdJLFFBQ0EwdkQsZUFBa0IsT0FBQUEsSUFDbEJDLGNBQ0FFLGFBQ0FDLG9CQUNBSSxxQkFDQTluQixtQkFVQSxTQUFBa29CLEdBQUFDLEVBQUF0bUIsR0FDQSxJQUFBclksS0FRQSxPQU5BQSxFQUFBMitCLEVBQUEzeEQsZUFBQXFyQyxFQUFBcnJDLGNBQ0FnekIsRUFBQSxTQUFBMitCLEdBQUEsU0FBQXRtQixFQUNBclksRUFBQSxNQUFBMitCLEdBQUEsTUFBQXRtQixFQUNBclksRUFBQSxLQUFBMitCLEdBQUEsS0FBQXRtQixFQUNBclksRUFBQSxJQUFBMitCLEdBQUEsSUFBQXRtQixFQUFBcnJDLGNBRUFnekIsRUFNQSxJQUFBNCtCLElBQ0FDLGFBQUFILEdBQUEsNEJBQ0FJLG1CQUFBSixHQUFBLGtDQUNBSyxlQUFBTCxHQUFBLDhCQUNBTSxjQUFBTixHQUFBLCtCQU1BTyxNQUtBOTZDLE1BOEJBLFNBQUErNkMsR0FBQTdtQixHQUNBLEdBQUE0bUIsR0FBQTVtQixHQUNBLE9BQUE0bUIsR0FBQTVtQixHQUNHLElBQUF1bUIsR0FBQXZtQixHQUNILE9BQUFBLEVBR0EsSUFBQThtQixFQUFBUCxHQUFBdm1CLEdBRUEsUUFBQXNtQixLQUFBUSxFQUNBLEdBQUFBLEVBQUEzNEQsZUFBQW00RCxTQUFBeDZDLEdBQ0EsT0FBQTg2QyxHQUFBNW1CLEdBQUE4bUIsRUFBQVIsR0FJQSxPQUFBdG1CLEVBeENBN0MsRUFBQUQsWUFDQXB4QixHQUFBSyxTQUFBMEUsY0FBQSxPQUFBL0UsTUFNQSxtQkFBQXJkLGdCQUNBODNELEdBQUFDLGFBQUFPLGlCQUNBUixHQUFBRSxtQkFBQU0saUJBQ0FSLEdBQUFHLGVBQUFLLFdBSUEsb0JBQUF0NEQsZUFDQTgzRCxHQUFBSSxjQUFBSyxZQW1DQSxJQUFBQyxJQUNBQyxnQkFBQUwsR0FBQSxnQkFDQU0sc0JBQUFOLEdBQUEsc0JBQ0FPLGtCQUFBUCxHQUFBLGtCQUNBUSxRQUFBLE9BQ0FDLFVBQUEsU0FDQUMsVUFBQSxTQUNBQyxTQUFBLFFBQ0FDLFNBQUEsUUFDQUMsa0JBQUEsaUJBQ0FDLG9CQUFBLG1CQUNBQyxxQkFBQSxvQkFDQUMsZUFBQSxjQUNBQyxRQUFBLE9BQ0FDLE9BQUEsTUFDQUMsZUFBQSxXQUNBQyxRQUFBLE9BQ0FDLFdBQUEsVUFDQUMsYUFBQSxZQUNBQyxZQUFBLFdBQ0FDLGFBQUEsWUFDQUMsWUFBQSxXQUNBQyxhQUFBLFlBQ0FDLFFBQUEsT0FDQUMsU0FBQSxRQUNBQyxTQUFBLFFBQ0FDLFdBQUEsVUFDQUMsWUFBQSxXQUNBQyxTQUFBLFFBQ0FDLFFBQUEsT0FDQUMsYUFBQSxZQUNBQyxhQUFBLFlBQ0FDLGFBQUEsWUFDQUMsWUFBQSxXQUNBQyxhQUFBLFlBQ0FDLFdBQUEsVUFDQUMsU0FBQSxRQUNBQyxVQUFBLFNBQ0FDLG1CQUFBLGtCQUNBQyxhQUFBLFlBQ0FDLFVBQUEsU0FDQUMsZUFBQSxjQUNBQyxZQUFBLFdBQ0FDLGFBQUEsWUFDQUMsY0FBQSxhQUNBQyxpQkFBQWpELEdBQUEsaUJBQ0FrRCxTQUFBLFNBUUFDLElBQ0FDLFNBQUEsUUFDQUMsV0FBQSxVQUNBQyxrQkFBQSxpQkFDQUMsa0JBQUEsaUJBQ0FDLFdBQUEsVUFDQUMsYUFBQSxZQUNBQyxTQUFBLFFBQ0FDLFNBQUEsUUFDQUMsY0FBQSxhQUNBQyxrQkFBQSxpQkFDQTNCLGFBQUEsWUFDQTRCLFNBQUEsUUFDQUMsUUFBQSxPQUNBQyxXQUFBLFVBQ0FDLFlBQUEsV0FDQUMsY0FBQSxhQUNBQyxVQUFBLFNBQ0FDLFdBQUEsVUFDQUMsV0FBQSxVQUNBQyxXQUFBLFVBQ0FDLGNBQUEsYUFDQUMsZ0JBQUEsZUFDQUMsV0FBQSxXQTJEQUMsTUFDQUMsR0FBQSxFQUtBQyxHQUFBLHdCQUFBOTZELEtBQUFFLFVBQUFzQixNQUFBLEdBRUEsU0FBQXU1RCxHQUFBQyxHQU9BLE9BSkFwK0QsT0FBQVcsVUFBQUMsZUFBQW5CLEtBQUEyK0QsRUFBQUYsTUFDQUUsRUFBQUYsSUFBQUQsS0FDQUQsR0FBQUksRUFBQUYsU0FFQUYsR0FBQUksRUFBQUYsS0E4RUEsU0FBQUcsR0FBQWxrQyxHQUNBLEtBQUFBLEtBQUFta0MsWUFDQW5rQyxJQUFBbWtDLFdBRUEsT0FBQW5rQyxFQVVBLFNBQUFva0MsR0FBQXBrQyxHQUNBLEtBQUFBLEdBQUEsQ0FDQSxHQUFBQSxFQUFBcWtDLFlBQ0EsT0FBQXJrQyxFQUFBcWtDLFlBRUFya0MsSUFBQStVLFlBV0EsU0FBQXV2QixHQUFBeEcsRUFBQXh5QixHQUtBLElBSkEsSUFBQXRMLEVBQUFra0MsR0FBQXBHLEdBQ0F5RyxFQUFBLEVBQ0FDLEVBQUEsRUFFQXhrQyxHQUFBLENBQ0EsR0FBQUEsRUFBQXdVLFdBQUFtVSxHQUFBLENBR0EsR0FGQTZiLEVBQUFELEVBQUF2a0MsRUFBQXlrQyxZQUFBLzhELE9BRUE2OEQsR0FBQWo1QixHQUFBazVCLEdBQUFsNUIsRUFDQSxPQUNBdEwsT0FDQXNMLFNBQUFpNUIsR0FJQUEsRUFBQUMsRUFHQXhrQyxFQUFBa2tDLEdBQUFFLEdBQUFwa0MsS0FRQSxTQUFBMGtDLEdBQUE3dkIsR0FDQSxJQUFBOHZCLEVBQUE1OUQsT0FBQTY5RCxjQUFBNzlELE9BQUE2OUQsZUFFQSxJQUFBRCxHQUFBLElBQUFBLEVBQUFFLFdBQ0EsWUFHQSxJQUFBQyxFQUFBSCxFQUFBRyxXQUNBQyxFQUFBSixFQUFBSSxhQUNBQyxFQUFBTCxFQUFBSyxVQUNBQyxFQUFBTixFQUFBTSxZQVVBLElBRUFILEVBQUF0d0IsU0FDQXd3QixFQUFBeHdCLFNBRUcsTUFBQXJrQyxHQUNILFlBR0EsT0FZQSxTQUFBMGtDLEVBQUFpd0IsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQSxJQUFBdjlELEVBQUEsRUFDQWtHLEdBQUEsRUFDQUMsR0FBQSxFQUNBcTNELEVBQUEsRUFDQUMsRUFBQSxFQUNBbmxDLEVBQUE2VSxFQUNBRSxFQUFBLEtBRUFxd0IsRUFBQSxRQUdBLElBRkEsSUFBQXJtRCxFQUFBLEtBR0FpaEIsSUFBQThrQyxHQUFBLElBQUFDLEdBQUEva0MsRUFBQXdVLFdBQUFtVSxLQUNBLzZDLEVBQUFsRyxFQUFBcTlELEdBRUEva0MsSUFBQWdsQyxHQUFBLElBQUFDLEdBQUFqbEMsRUFBQXdVLFdBQUFtVSxLQUNBOTZDLEVBQUFuRyxFQUFBdTlELEdBR0FqbEMsRUFBQXdVLFdBQUFtVSxLQUNBamhELEdBQUFzNEIsRUFBQXFsQyxVQUFBMzlELFFBR0EsUUFBQXFYLEVBQUFpaEIsRUFBQW1rQyxhQUlBcHZCLEVBQUEvVSxFQUNBQSxFQUFBamhCLEVBR0EsUUFDQSxHQUFBaWhCLElBQUE2VSxFQUtBLE1BQUF1d0IsRUFRQSxHQU5BcndCLElBQUErdkIsS0FBQUksSUFBQUgsSUFDQW4zRCxFQUFBbEcsR0FFQXF0QyxJQUFBaXdCLEtBQUFHLElBQUFGLElBQ0FwM0QsRUFBQW5HLEdBRUEsUUFBQXFYLEVBQUFpaEIsRUFBQXFrQyxhQUNBLE1BR0F0dkIsR0FEQS9VLEVBQUErVSxHQUNBQSxXQUlBL1UsRUFBQWpoQixFQUdBLFFBQUFuUixJQUFBLElBQUFDLEVBR0EsWUFHQSxPQUNBRCxRQUNBQyxPQTdFQXkzRCxDQUFBendCLEVBQUFpd0IsRUFBQUMsRUFBQUMsRUFBQUMsR0ErSUEsU0FBQU0sR0FBQTljLEdBQ0EsSUFBQWhVLEVBQUFnVSxLQUFBaFUsVUFBQWdVLEVBQUFoVSxTQUFBeG5DLGNBQ0EsT0FBQXduQyxJQUFBLFVBQUFBLEdBQUEsU0FBQWdVLEVBQUEzOEMsTUFBQSxhQUFBMm9DLEdBQUEsU0FBQWdVLEVBQUErYyxpQkFHQSxTQUFBQyxLQUNBLElBQUFDLEVBQUF6dkIsSUFDQSxPQUNBeXZCLGNBQ0FDLGVBQUFKLEdBQUFHLEdBK0NBLFNBQUFqbkMsR0FDQSxJQUFBa21DLE9BQUEsRUFJQUEsRUFGQSxtQkFBQWxtQyxHQUdBN3dCLE1BQUE2d0IsRUFBQW1uQyxlQUNBLzNELElBQUE0d0IsRUFBQW9uQyxjQUlBbkIsR0FBQWptQyxHQUdBLE9BQUFrbUMsSUFBdUIvMkQsTUFBQSxFQUFBQyxJQUFBLEdBN0R2Qmk0RCxDQUFBSixHQUFBLE1BU0EsU0FBQUssR0FBQUMsR0FDQSxJQTlCQWhtQyxFQThCQWltQyxFQUFBaHdCLElBQ0Fpd0IsRUFBQUYsRUFBQU4sWUFDQVMsRUFBQUgsRUFBQUwsZUFDQSxHQUFBTSxJQUFBQyxJQWpDQWxtQyxFQWlDQWttQyxFQWhDQXR4QixFQUFBbndCLFNBQUEyTCxnQkFBQTRQLElBZ0NBLENBQ0F1bEMsR0FBQVcsSUF3REEsU0FBQXpuQyxFQUFBMm5DLEdBQ0EsSUFBQXg0RCxFQUFBdzRELEVBQUF4NEQsTUFDQUMsRUFBQXU0RCxFQUFBdjRELFNBRUFsQyxJQUFBa0MsSUFDQUEsRUFBQUQsR0FHQSxtQkFBQTZ3QixHQUNBQSxFQUFBbW5DLGVBQUFoNEQsRUFDQTZ3QixFQUFBb25DLGFBQUE1OEQsS0FBQXNuQixJQUFBMWlCLEVBQUE0d0IsRUFBQXQ0QixNQUFBdUIsU0EzSUEsU0FBQXM0QixFQUFBb21DLEdBQ0EsR0FBQXIvRCxPQUFBNjlELGFBQUEsQ0FJQSxJQUFBRCxFQUFBNTlELE9BQUE2OUQsZUFDQWw5RCxFQUFBczRCLEVBQUF3Z0IsTUFBQTk0QyxPQUNBa0csRUFBQTNFLEtBQUFzbkIsSUFBQTYxQyxFQUFBeDRELE1BQUFsRyxHQUNBbUcsT0FBQWxDLElBQUF5NkQsRUFBQXY0RCxJQUFBRCxFQUFBM0UsS0FBQXNuQixJQUFBNjFDLEVBQUF2NEQsSUFBQW5HLEdBSUEsSUFBQWk5RCxFQUFBL29ELFFBQUFoTyxFQUFBQyxFQUFBLENBQ0EsSUFBQXc0RCxFQUFBeDRELEVBQ0FBLEVBQUFELEVBQ0FBLEVBQUF5NEQsRUFHQSxJQUFBQyxFQUFBaEMsR0FBQXRrQyxFQUFBcHlCLEdBQ0EyNEQsRUFBQWpDLEdBQUF0a0MsRUFBQW55QixHQUVBLEdBQUF5NEQsR0FBQUMsRUFBQSxDQUNBLE9BQUE1QixFQUFBRSxZQUFBRixFQUFBRyxhQUFBd0IsRUFBQXRtQyxNQUFBMmtDLEVBQUFJLGVBQUF1QixFQUFBaDdCLFFBQUFxNUIsRUFBQUssWUFBQXVCLEVBQUF2bUMsTUFBQTJrQyxFQUFBTSxjQUFBc0IsRUFBQWo3QixPQUNBLE9BRUEsSUFBQXhWLEVBQUFyUixTQUFBK2hELGNBQ0Exd0MsRUFBQTJ3QyxTQUFBSCxFQUFBdG1DLEtBQUFzbUMsRUFBQWg3QixRQUNBcTVCLEVBQUErQixrQkFFQTk0RCxFQUFBQyxHQUNBODJELEVBQUFnQyxTQUFBN3dDLEdBQ0E2dUMsRUFBQS9vRCxPQUFBMnFELEVBQUF2bUMsS0FBQXVtQyxFQUFBajdCLFVBRUF4VixFQUFBOHdDLE9BQUFMLEVBQUF2bUMsS0FBQXVtQyxFQUFBajdCLFFBQ0FxNUIsRUFBQWdDLFNBQUE3d0MsTUEyR0Erd0MsQ0FBQXBvQyxFQUFBMm5DLEdBbkVBVSxDQUFBWixFQUFBQyxHQU1BLElBRkEsSUFBQXRJLEtBQ0FELEVBQUFzSSxFQUNBdEksSUFBQTdvQixZQUNBNm9CLEVBQUFwcEIsV0FBQWtVLElBQ0FtVixFQUFBLzFELE1BQ0F1aEQsUUFBQXVVLEVBQ0FtSixLQUFBbkosRUFBQW9KLFdBQ0FDLElBQUFySixFQUFBc0osWUFLQWhCLEVBQUFpQixRQUVBLFFBQUFoaUUsRUFBQSxFQUFtQkEsRUFBQTA0RCxFQUFBbjJELE9BQXNCdkMsSUFBQSxDQUN6QyxJQUFBb25ELEVBQUFzUixFQUFBMTRELEdBQ0FvbkQsRUFBQWxELFFBQUEyZCxXQUFBemEsRUFBQXdhLEtBQ0F4YSxFQUFBbEQsUUFBQTZkLFVBQUEzYSxFQUFBMGEsTUFrREEsSUFBQUcsR0FBQTN4QixFQUFBRCxXQUFBLGlCQUFBL3dCLG1CQUFBcy9CLGNBQUEsR0FFQXNqQixJQUNBamhDLFFBQ0FzUyx5QkFDQTJMLFFBQUEsV0FDQUMsU0FBQSxtQkFFQXRMLGNBQUEsa0hBSUFzdUIsR0FBQSxLQUNBQyxHQUFBLEtBQ0FDLEdBQUEsS0FDQUMsSUFBQSxFQWtDQSxTQUFBQyxHQUFBdnJCLEVBQUFDLEdBS0EsR0FBQXFyQixJQUFBLE1BQUFILFNBQUFyeEIsSUFDQSxZQUlBLElBQUEweEIsRUFqQ0EsU0FBQTNuQyxHQUNBLHNCQUFBQSxHQUFBdWxDLEdBQUF2bEMsR0FDQSxPQUNBcHlCLE1BQUFveUIsRUFBQTRsQyxlQUNBLzNELElBQUFteUIsRUFBQTZsQyxjQUVHLEdBQUE5K0QsT0FBQTY5RCxhQUFBLENBQ0gsSUFBQUQsRUFBQTU5RCxPQUFBNjlELGVBQ0EsT0FDQUUsV0FBQUgsRUFBQUcsV0FDQUMsYUFBQUosRUFBQUksYUFDQUMsVUFBQUwsRUFBQUssVUFDQUMsWUFBQU4sRUFBQU0sY0FxQkFMLENBQUEwQyxJQUNBLElBQUFFLEtBQUF0eEIsRUFBQXN4QixHQUFBRyxHQUFBLENBQ0FILEdBQUFHLEVBRUEsSUFBQUMsRUFBQW5rQixHQUFBUixVQUFBb2tCLEdBQUFqaEMsT0FBQW1oQyxHQUFBcHJCLEVBQUFDLEdBT0EsT0FMQXdyQixFQUFBOTdELEtBQUEsU0FDQTg3RCxFQUFBMzFELE9BQUFxMUQsR0FFQXRuQixHQUFBNG5CLEdBRUFBLEVBR0EsWUFpQkEsSUFBQUMsSUFDQXR4QyxXQUFBOHdDLEdBRUFqdkIsY0FBQSxTQUFBNkQsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQSxJQUFBL0csRUFBQStHLEVBQUFyMUMsU0FBQXExQyxJQUFBMzNCLFNBQUEyM0IsRUFBQTVILFdBQUFxVSxHQUFBek0sSUFBQTlILGNBR0EsSUFBQWUsSUF2YkEsU0FBQXdELEVBQUFvckIsR0FHQSxJQUZBLElBQUE2RCxFQUFBOUQsR0FBQUMsR0FDQWpyQixFQUFBRCxFQUFBRixHQUNBMXpDLEVBQUEsRUFBaUJBLEVBQUE2ekMsRUFBQXR4QyxPQUF5QnZDLElBQUEsQ0FDMUMsSUFBQTRpRSxFQUFBL3VCLEVBQUE3ekMsR0FDQSxJQUFBMmlFLEVBQUFyaEUsZUFBQXNoRSxLQUFBRCxFQUFBQyxHQUNBLFNBR0EsU0E4YUFDLENBQUEsV0FBQTN5QixHQUNBLFlBR0EsSUFBQWllLEVBQUFwWCxFQUFBNEIsR0FBQTVCLEdBQUFuMUMsT0FFQSxPQUFBazFDLEdBRUEsZ0JBQ0F1TSxHQUFBOEssSUFBQSxTQUFBQSxFQUFBa1MsbUJBQ0E4QixHQUFBaFUsRUFDQWlVLEdBQUFyckIsRUFDQXNyQixHQUFBLE1BRUEsTUFDQSxjQUNBRixHQUFBLEtBQ0FDLEdBQUEsS0FDQUMsR0FBQSxLQUNBLE1BR0EsbUJBQ0FDLElBQUEsRUFDQSxNQUNBLHFCQUNBLGlCQUVBLE9BREFBLElBQUEsRUFDQUMsR0FBQXZyQixFQUFBQyxHQVVBLHlCQUNBLEdBQUFnckIsR0FDQSxNQUdBLGlCQUNBLGVBQ0EsT0FBQU0sR0FBQXZyQixFQUFBQyxHQUdBLGNBT0FaLEVBQUFwQyx3QkF4eURBLHVKQXl5REFTLEVBQUFvRSxJQU1BekMsRUFBQWxDLDBCQUNBOGpCLHFCQUNBOUgseUJBQ0FsQyxxQkFDQXlVLHFCQUNBNWhCLDRCQU1BLElBQUFnaUIsR0FBQSxXQUtBQyxHQUFBLEVBQ0FDLEdBQUEsRUFDQUMsR0FBQUgsR0FFQUksR0FBQSxHQUNBQyxHQUFBLEVBR0EsU0FBQUMsR0FBQXorRCxHQUVBLE9BQUFBLEVBQUF1K0QsR0FBQSxHQUFBQyxHQUdBLFNBQUFFLEdBQUFDLEdBQ0EsT0FBQUEsRUFBQUgsSUFBQUQsR0FPQSxTQUFBSyxHQUFBQyxFQUFBQyxFQUFBQyxHQUNBLE9BSkEsSUFJQUYsRUFBQUMsRUFBQVAsS0FMQVMsRUFLQUQsRUFBQVIsSUFKQSxJQUFBUyxFQURBLElBQUFBLEVBUUEsSUFBQUMsR0FBQSxFQUNBQyxHQUFBLEVBQ0FDLEdBQUEsRUFFQUMsUUFBQSxFQUdBQSxJQUFBLEVBQ0EsSUFDQSxJQUFBQyxHQUFBdGpFLE9BQUF3bUIsc0JBQ0ErOEMsR0FBQSxJQUFBQyxNQUFBRixHQUFBLFFBQ0FHLEdBQUEsSUFBQUMsS0FBQUosS0FJQUMsR0FBQWx5RCxJQUFBLEtBQ0FveUQsR0FBQWh5RCxJQUFBLEdBQ0csTUFBQW5ILEdBRUgrNEQsSUFBQSxFQVFBLElBQUFNLFFBQUEsRUFHQUEsR0FBQSxFQTREQSxJQUFBQyxHQUFBLFNBQUEvbEQsRUFBQWdtRCxFQUFBcDVELEVBQUF1SyxHQUVBLFdBM0RBLFNBQUE2SSxFQUFBZ21ELEVBQUFwNUQsRUFBQXVLLEdBRUExSSxLQUFBdVIsTUFDQXZSLEtBQUE3QixNQUNBNkIsS0FBQXJHLEtBQUEsS0FDQXFHLEtBQUF1cEMsVUFBQSxLQUdBdnBDLEtBQUEsWUFDQUEsS0FBQXVsRCxNQUFBLEtBQ0F2bEQsS0FBQXdsRCxRQUFBLEtBQ0F4bEQsS0FBQTJDLE1BQUEsRUFFQTNDLEtBQUF3M0QsSUFBQSxLQUVBeDNELEtBQUF1M0QsZUFDQXYzRCxLQUFBeTNELGNBQUEsS0FDQXozRCxLQUFBMDNELFlBQUEsS0FDQTEzRCxLQUFBMjNELGNBQUEsS0FFQTMzRCxLQUFBMEksT0FHQTFJLEtBQUE2a0QsVUFBQW5CLEdBQ0ExakQsS0FBQTQzRCxXQUFBLEtBRUE1M0QsS0FBQTYzRCxZQUFBLEtBQ0E3M0QsS0FBQTgzRCxXQUFBLEtBRUE5M0QsS0FBQXMyRCxlQUFBUCxHQUVBLzFELEtBQUE4c0MsVUFBQSxLQUdBOXNDLEtBQUErM0QsU0FBQVYsS0FDQXIzRCxLQUFBaTZDLGFBQUEsS0FDQWo2QyxLQUFBZzZDLFlBQUEsS0FDQWg2QyxLQUFBZzRELHlCQUFBLEVBQ0FqQixJQUFBLG1CQUFBcmpFLE9BQUF3bUIsbUJBQ0F4bUIsT0FBQXdtQixrQkFBQWxhLE1Bb0JBLENBQUF1UixFQUFBZ21ELEVBQUFwNUQsRUFBQXVLLElBUUEsU0FBQXV2RCxHQUFBL3ZCLEVBQUFxdkIsRUFBQWpCLEdBQ0EsSUFBQW5jLEVBQUFqUyxFQUFBNEUsVUE2Q0EsT0E1Q0EsT0FBQXFOLElBTUFBLEVBQUFtZCxHQUFBcHZCLEVBQUEzMkIsSUFBQWdtRCxFQUFBcnZCLEVBQUEvcEMsSUFBQStwQyxFQUFBeC9CLE9BQ0EvTyxLQUFBdXVDLEVBQUF2dUMsS0FDQXdnRCxFQUFBNVEsVUFBQXJCLEVBQUFxQixVQUlBNFEsRUFBQTRkLFNBQUE3dkIsRUFBQTZ2QixTQUNBNWQsRUFBQUYsYUFBQS9SLEVBQUErUixhQUNBRSxFQUFBSCxZQUFBOVIsRUFBQThSLFlBR0FHLEVBQUFyTixVQUFBNUUsRUFDQUEsRUFBQTRFLFVBQUFxTixJQUVBQSxFQUFBb2QsZUFJQXBkLEVBQUEwSyxVQUFBbkIsR0FHQXZKLEVBQUF5ZCxXQUFBLEtBQ0F6ZCxFQUFBMGQsWUFBQSxLQUNBMWQsRUFBQTJkLFdBQUEsTUFHQTNkLEVBQUFtYyxpQkFFQW5jLEVBQUFvTCxNQUFBcmQsRUFBQXFkLE1BQ0FwTCxFQUFBc2QsY0FBQXZ2QixFQUFBdXZCLGNBQ0F0ZCxFQUFBd2QsY0FBQXp2QixFQUFBeXZCLGNBQ0F4ZCxFQUFBdWQsWUFBQXh2QixFQUFBd3ZCLFlBR0F2ZCxFQUFBcUwsUUFBQXRkLEVBQUFzZCxRQUNBckwsRUFBQXgzQyxNQUFBdWxDLEVBQUF2bEMsTUFDQXczQyxFQUFBcWQsSUFBQXR2QixFQUFBc3ZCLElBRUFyZCxFQVFBLFNBQUErZCxHQUFBaGhCLEVBQUF4dUMsRUFBQTR0RCxHQUNBLElBQUF2YyxFQUVBQSxFQUFBN0MsRUFBQWloQixPQUdBLElBakVBMzJDLEVBaUVBbzRCLE9BQUEsRUFDQWpnRCxFQUFBdTlDLEVBQUF2OUMsS0FDQXdFLEVBQUErNEMsRUFBQS80QyxJQUNBbzVELEVBQUFyZ0IsRUFBQTd1QyxNQUVBK3ZELE9BQUEsRUFDQSxzQkFBQXorRCxFQUNBeStELEdBeEVBNTJDLEVBd0VBN25CLEdBdkVBdEYsV0FBQW10QixFQUFBbnRCLFVBQUFna0UsaUJBdUVBOXRCLEVBQUFGLE9BQ0csb0JBQUExd0MsRUFDSHkrRCxFQUFBMXRCLFFBRUEsT0FBQS93QyxHQUNBLEtBQUFxL0MsR0FDQSxPQUFBc2YsR0FBQWYsRUFBQWdCLFNBQUE3dkQsRUFBQTR0RCxFQUFBbjRELEdBQ0EsS0FBQWk3QyxHQUNBZ2YsRUFBQXB0QixHQUNBdGlDLEdBQUFtdUQsR0FBQUMsR0FDQSxNQUNBLEtBQUE3ZCxHQUNBbWYsRUFBQXB0QixHQUNBdGlDLEdBQUFvdUQsR0FDQSxNQUNBLEtBQUFqZSxHQUNBdWYsRUFBQXh0QixHQUNBLE1BQ0EsS0FBQWtPLEdBQ0FzZixFQUFBdHRCLEdBQ0EsTUFDQSxRQUVBLG9CQUFBbnhDLEdBQUEsT0FBQUEsRUFDQSxPQUFBQSxFQUFBNitELFVBQ0EsS0FBQXRmLEdBQ0FrZixFQUFBbHRCLEdBQ0EsTUFDQSxLQUFBaU8sR0FFQWlmLEVBQUFudEIsR0FDQSxNQUNBLEtBQUFvTyxHQUNBK2UsRUFBQWp0QixHQUNBLE1BQ0EsUUFDQSxvQkFBQXh4QyxFQUFBNFgsSUFZQSxPQUhBcW9DLEVBQUFqZ0QsR0FDQTQ5RCxlQUNBM2QsRUFBQTBjLGlCQUNBMWMsRUFFQTZlLEdBQUE5K0QsRUFBQW9nRCxRQUtBMGUsR0FBQTkrRCxFQUFBb2dELEdBZUEsT0FUQUgsRUFBQTBkLEdBQUFjLEVBQUFiLEVBQUFwNUQsRUFBQXVLLElBQ0EvTyxPQUNBaWdELEVBQUEwYyxpQkFHQTFjLEVBQUFLLGFBQUEvQyxFQUFBd2hCLFFBQ0E5ZSxFQUFBSSxZQUFBOUMsRUFBQWloQixPQUdBdmUsRUFHQSxTQUFBNmUsR0FBQTkrRCxFQUFBb2dELEdBQ0EsSUFBQUssRUFBQSxTQUVBNWdELElBQUFHLEdBQUEsaUJBQUFBLEdBQUEsT0FBQUEsR0FBQSxJQUFBakcsT0FBQTBSLEtBQUF6TCxHQUFBcEUsVUFDQTZrRCxHQUFBLG9JQUVBLElBQUE1QixFQUFBdUIsRUFBQUosR0FBQUksR0FBQSxLQUNBdkIsSUFDQTRCLEdBQUEsbUNBQUE1QixFQUFBLE1BR0FuaEMsR0FBQSw2SUFBQTFkLGFBQUF5Z0QsR0FHQSxTQUFBa2UsR0FBQUssRUFBQWp3RCxFQUFBNHRELEVBQUFuNEQsR0FDQSxJQUFBeTdDLEVBQUEwZCxHQUFBdnNCLEdBQUE0dEIsRUFBQXg2RCxFQUFBdUssR0FFQSxPQURBa3hDLEVBQUEwYyxpQkFDQTFjLEVBR0EsU0FBQWdmLEdBQUFDLEVBQUFud0QsRUFBQTR0RCxHQUNBLElBQUExYyxFQUFBMGQsR0FBQTNzQixHQUFBa3VCLEVBQUEsS0FBQW53RCxHQUVBLE9BREFreEMsRUFBQTBjLGlCQUNBMWMsRUFTQSxTQUFBa2YsR0FBQUMsRUFBQXJ3RCxFQUFBNHRELEdBQ0EsSUFBQWlCLEVBQUEsT0FBQXdCLEVBQUFSLFNBQUFRLEVBQUFSLFlBQ0EzZSxFQUFBMGQsR0FBQTdzQixHQUFBOHNCLEVBQUF3QixFQUFBNTZELElBQUF1SyxHQU9BLE9BTkFreEMsRUFBQTBjLGlCQUNBMWMsRUFBQXJRLFdBQ0EraEIsY0FBQXlOLEVBQUF6TixjQUNBME4sZ0JBQUEsS0FDQUMsZUFBQUYsRUFBQUUsZ0JBRUFyZixFQUlBLFNBQUFzZixHQUFBcDVELEVBQUFmLEdBcUNBLE9BcENBLE9BQUFlLElBR0FBLEVBQUF3M0QsR0FBQWp0QixFQUFBLFVBQUF1c0IsS0FTQTkyRCxFQUFBeVIsSUFBQXhTLEVBQUF3UyxJQUNBelIsRUFBQTNCLElBQUFZLEVBQUFaLElBQ0EyQixFQUFBbkcsS0FBQW9GLEVBQUFwRixLQUNBbUcsRUFBQXlwQyxVQUFBeHFDLEVBQUF3cUMsVUFDQXpwQyxFQUFBLE9BQUFmLEVBQUEsT0FDQWUsRUFBQXlsRCxNQUFBeG1ELEVBQUF3bUQsTUFDQXpsRCxFQUFBMGxELFFBQUF6bUQsRUFBQXltRCxRQUNBMWxELEVBQUE2QyxNQUFBNUQsRUFBQTRELE1BQ0E3QyxFQUFBMDNELElBQUF6NEQsRUFBQXk0RCxJQUNBMTNELEVBQUF5M0QsYUFBQXg0RCxFQUFBdzRELGFBQ0F6M0QsRUFBQTIzRCxjQUFBMTRELEVBQUEwNEQsY0FDQTMzRCxFQUFBNDNELFlBQUEzNEQsRUFBQTI0RCxZQUNBNTNELEVBQUE2M0QsY0FBQTU0RCxFQUFBNDRELGNBQ0E3M0QsRUFBQTRJLEtBQUEzSixFQUFBMkosS0FDQTVJLEVBQUEra0QsVUFBQTlsRCxFQUFBOGxELFVBQ0Eva0QsRUFBQTgzRCxXQUFBNzRELEVBQUE2NEQsV0FDQTkzRCxFQUFBKzNELFlBQUE5NEQsRUFBQTg0RCxZQUNBLzNELEVBQUFnNEQsV0FBQS80RCxFQUFBKzRELFdBQ0FoNEQsRUFBQXcyRCxlQUFBdjNELEVBQUF1M0QsZUFDQXgyRCxFQUFBZ3RDLFVBQUEvdEMsRUFBQSt0QyxVQUNBaHRDLEVBQUFpNEQsU0FBQWg1RCxFQUFBZzVELFNBQ0FqNEQsRUFBQW02QyxhQUFBbDdDLEVBQUFrN0MsYUFDQW42QyxFQUFBazZDLFlBQUFqN0MsRUFBQWk3QyxZQUNBbDZDLEVBQUFrNEQsd0JBQUFqNUQsRUFBQWk1RCx3QkFDQWw0RCxFQU1BLFNBQUFxNUQsR0FBQTdOLEVBQUE4TixFQUFBQyxHQUdBLElBQUFDLEVBdExBLFNBQUFGLEdBRUEsT0FBQTlCLEdBQUE5c0IsRUFBQSxVQURBNHVCLEVBQUF2QyxHQUFBQyxHQUFBRixJQXFMQTJDLENBQUFILEdBQ0F6TixHQUNBempCLFFBQUFveEIsRUFDQWhPLGdCQUNBME4sZ0JBQUEsS0FDQVEsNEJBQUF6RCxHQUNBMEQsYUFBQSxLQUNBL3VDLFFBQUEsS0FDQWd2QyxlQUFBLEtBQ0FMLFVBQ0FNLHdCQUFBNUQsR0FDQTZELFdBQUEsS0FDQUMsa0JBQUEsTUFHQSxPQURBUCxFQUFBL3ZCLFVBQUFvaUIsRUFDQUEsRUFHQSxJQUFBbU8sR0FBQSxLQUNBQyxHQUFBLEtBQ0FDLElBQUEsRUFFQSxTQUFBQyxHQUFBcG5ELEdBQ0EsZ0JBQUFNLEdBQ0EsSUFDQSxPQUFBTixFQUFBTSxHQUNLLE1BQUFwSCxHQUNMaXVELEtBQ0FBLElBQUEsRUFDQXJtRCxHQUFBLDRDQUFBNUgsTUE0Q0EsU0FBQW11RCxHQUFBdk8sR0FDQSxtQkFBQW1PLElBQ0FBLEdBQUFuTyxHQUlBLFNBQUF3TyxHQUFBdmdCLEdBQ0EsbUJBQUFtZ0IsSUFDQUEsR0FBQW5nQixHQWtCQSxJQXFDQXdnQixHQWRBLFNBQUF4bUQsRUFBQUMsR0FDQSxRQUFBcmEsSUFBQXFhLEVBQ0EsVUFBQXBKLE1BQUEsNkVBRUEsSUFBQW1KLEVBQUEsQ0FDQSxRQUFBRSxFQUFBN1QsVUFBQTFLLE9BQUE0RCxFQUFBdUIsTUFBQW9aLEVBQUEsRUFBQUEsRUFBQSxLQUFBQyxFQUFBLEVBQTRGQSxFQUFBRCxFQUFlQyxJQUMzRzVhLEVBQUE0YSxFQUFBLEdBQUE5VCxVQUFBOFQsSUExQkEsU0FBQUYsR0FDQSxRQUFBRyxFQUFBL1QsVUFBQTFLLE9BQUE0RCxFQUFBdUIsTUFBQXNaLEVBQUEsRUFBQUEsRUFBQSxLQUFBQyxFQUFBLEVBQXNGQSxFQUFBRCxFQUFhQyxJQUNuRzlhLEVBQUE4YSxFQUFBLEdBQUFoVSxVQUFBZ1UsR0FHQSxJQUFBQyxFQUFBLEVBQ0FDLEVBQUEsWUFBQU4sRUFBQXRaLFFBQUEsaUJBQ0EsT0FBQXBCLEVBQUErYSxPQUVBLG9CQUFBRSxTQUNBQSxRQUFBazhCLEtBQUFuOEIsR0FFQSxJQUlBLFVBQUExSixNQUFBMEosR0FDSyxNQUFBRSxPQVlMeFgsV0FBQXJELEdBQUFxYSxHQUFBalgsT0FBQXpELE1BT0FraEUsSUFDQUMsdUJBQUEsYUFDQUMsZ0NBQUEsYUFDQUMsb0NBQUEsYUFDQUMsMEJBQUEsU0FBQTdnQixFQUFBcjZCLEtBQ0FtN0MsOEJBQUEsU0FBQTlnQixFQUFBcjZCLE1BSUFvN0MsSUFDQUMsMEJBQUEsb0JBQ0FDLGlDQUFBLGtDQUNBQywyQkFBQSxzQkFHQUMsTUFDQUMsTUFDQUMsTUFDQUMsR0FBQSxJQUFBaEUsSUFHQWlFLEdBQUEsSUFBQS9ELElBQ0FnRSxHQUFBLElBQUFoRSxJQUVBaUQsR0FBQUMsdUJBQUEsV0FDQVMsTUFDQUMsTUFDQUMsTUFDQUMsR0FBQSxJQUFBaEUsS0FHQW1ELEdBQUFHLG9DQUFBLFdBQ0FVLEdBQUFsL0QsUUFBQSxTQUFBcS9ELEVBQUFDLEdBQ0EsSUFBQUMsS0FtQkEsR0FqQkE3bkUsT0FBQTBSLEtBQUFpMkQsR0FBQXIvRCxRQUFBLFNBQUF3L0QsR0FDQSxJQUFBQyxFQUFBSixFQUFBRyxHQUNBLEdBQUFDLEVBQUFsbUUsT0FBQSxHQUNBLElBQUFtbUUsRUFBQSxJQUFBdEUsSUFDQXFFLEVBQUF6L0QsUUFBQSxTQUFBNDlDLEdBQ0E4aEIsRUFBQXYyRCxJQUFBdzBDLEdBQUFDLElBQUEsYUFDQXdoQixHQUFBajJELElBQUF5MEMsRUFBQWpnRCxRQUdBLElBQUFnaUUsRUFBQUgsRUFBQWpoRSxRQUFBLGNBQ0FxaEUsRUFBQWpCLEdBQUFhLEdBQ0FLLEVBQUFuaEUsTUFBQThkLEtBQUFrakQsR0FBQWh5QyxPQUFBdFIsS0FBQSxNQUVBbWpELEVBQUE1bEUsS0FBQWdtRSxFQUFBLG1EQUFBQyxFQUFBLGFBQUFDLE1BSUFOLEVBQUFobUUsT0FBQSxHQUNBLElBQUF1bUUsRUFBQTVoQixHQUFBb2hCLEdBRUEzbkQsR0FBQSw0SkFBQW1vRCxFQUFBUCxFQUFBbmpELEtBQUEsWUFJQThpRCxHQUFBLElBQUFoRSxLQWlCQW1ELEdBQUFFLGdDQUFBLFdBQ0EsR0FBQVEsR0FBQXhsRSxPQUFBLEdBQ0EsSUFBQXdtRSxFQUFBLElBQUEzRSxJQUNBMkQsR0FBQS8rRCxRQUFBLFNBQUE0OUMsR0FDQW1pQixFQUFBNTJELElBQUF3MEMsR0FBQUMsSUFBQSxhQUNBdWhCLEdBQUFoMkQsSUFBQXkwQyxFQUFBamdELFFBR0EsSUFBQXFpRSxFQUFBdGhFLE1BQUE4ZCxLQUFBdWpELEdBQUFyeUMsT0FBQXRSLEtBQUEsTUFFQWdpRCxJQUFBLHFVQUFBNEIsR0FFQWpCLE1BR0EsR0FBQUMsR0FBQXpsRSxPQUFBLEdBQ0EsSUFBQTBtRSxFQUFBLElBQUE3RSxJQUNBNEQsR0FBQWgvRCxRQUFBLFNBQUE0OUMsR0FDQXFpQixFQUFBOTJELElBQUF3MEMsR0FBQUMsSUFBQSxhQUNBdWhCLEdBQUFoMkQsSUFBQXkwQyxFQUFBamdELFFBR0EsSUFBQXVpRSxFQUFBeGhFLE1BQUE4ZCxLQUFBeWpELEdBQUF2eUMsT0FBQXRSLEtBQUEsTUFFQWdpRCxJQUFBLGtSQUFBOEIsR0FFQWxCLE1BR0EsR0FBQUMsR0FBQTFsRSxPQUFBLEdBQ0EsSUFBQTRtRSxFQUFBLElBQUEvRSxJQUNBNkQsR0FBQWovRCxRQUFBLFNBQUE0OUMsR0FDQXVpQixFQUFBaDNELElBQUF3MEMsR0FBQUMsSUFBQSxhQUNBdWhCLEdBQUFoMkQsSUFBQXkwQyxFQUFBamdELFFBR0EsSUFBQXlpRSxFQUFBMWhFLE1BQUE4ZCxLQUFBMmpELEdBQUF6eUMsT0FBQXRSLEtBQUEsTUFFQWdpRCxJQUFBLHdVQUFBZ0MsR0FFQW5CLFFBSUFaLEdBQUFJLDBCQUFBLFNBQUE3Z0IsRUFBQXI2QixHQUVBNDdDLEdBQUF0OEQsSUFBQSs2QyxFQUFBamdELFFBS0EsbUJBQUE0bEIsRUFBQXdCLHFCQUFBLElBQUF4QixFQUFBd0IsbUJBQUFzN0MsOEJBQ0F0QixHQUFBcGxFLEtBQUFpa0QsR0FFQSxtQkFBQXI2QixFQUFBKzhDLDRCQUFBLElBQUEvOEMsRUFBQSs4QywwQkFBQUQsOEJBQ0FyQixHQUFBcmxFLEtBQUFpa0QsR0FFQSxtQkFBQXI2QixFQUFBZzlDLHNCQUFBLElBQUFoOUMsRUFBQWc5QyxvQkFBQUYsOEJBQ0FwQixHQUFBdGxFLEtBQUFpa0QsS0FJQXlnQixHQUFBSyw4QkFBQSxTQUFBOWdCLEVBQUFyNkIsR0FDQSxJQUFBKzdDLEVBN0VBLFNBQUExaEIsR0FHQSxJQUZBLElBQUE0aUIsRUFBQSxLQUVBLE9BQUE1aUIsR0FDQUEsRUFBQWx4QyxLQUFBb3VELEtBQ0EwRixFQUFBNWlCLEdBR0FBLElBQUEsT0FHQSxPQUFBNGlCLEVBa0VBQyxDQUFBN2lCLEdBT0EsSUFBQXdoQixHQUFBdjhELElBQUErNkMsRUFBQWpnRCxRQU9BLG1CQUFBNGxCLEVBQUF3QixxQkFBQSxJQUFBeEIsRUFBQXdCLG1CQUFBczdDLDhCQUFBLENBSUEsSUFBQUssT0FBQSxFQUNBeEIsR0FBQXI4RCxJQUFBeThELEdBU0FvQixFQUFBeEIsR0FBQXBuRSxJQUFBd25FLElBUkFvQixHQUNBOUIsNkJBQ0FDLG9DQUNBQywrQkFHQUksR0FBQW4yRCxJQUFBdTJELEVBQUFvQixJQUtBLElBQUFDLEtBQ0EsbUJBQUFwOUMsRUFBQXdCLG9CQUFBLG1CQUFBeEIsRUFBQXE3QywyQkFDQStCLEVBQUFobkUsS0FBQSw2QkFFQSxtQkFBQTRwQixFQUFBKzhDLDJCQUFBLG1CQUFBLzhDLEVBQUFzN0Msa0NBQ0E4QixFQUFBaG5FLEtBQUEsb0NBRUEsbUJBQUE0cEIsRUFBQWc5QyxxQkFBQSxtQkFBQWg5QyxFQUFBdTdDLDRCQUNBNkIsRUFBQWhuRSxLQUFBLDhCQUdBZ25FLEVBQUFwbkUsT0FBQSxHQUNBb25FLEVBQUEzZ0UsUUFBQSxTQUFBdy9ELEdBQ0FrQixFQUFBbEIsR0FBQTdsRSxLQUFBaWtELE9BT0EsSUFBQWdqQixJQUFBLEVBR0FDLElBQUEsRUFJQUMsSUFBQSxFQUdBQyxJQUFBLEVBRUFDLElBQUEsRUFNQUMsSUFBQSxFQUlBQyxJQUFBLEVBR0FDLElBQUEsRUFVQUMsR0FBQSxvQkFBQUMsYUFBQSxtQkFBQUEsWUFBQUMsTUFBQSxtQkFBQUQsWUFBQUUsWUFBQSxtQkFBQUYsWUFBQUcsU0FBQSxtQkFBQUgsWUFBQUksY0FJQUMsR0FBQSxLQUtBQyxHQUFBLEtBQ0FDLEdBQUEsS0FJQUMsSUFBQSxFQUNBQyxJQUFBLEVBQ0FDLElBQUEsRUFDQUMsR0FBQSxFQUNBQyxHQUFBLEVBQ0FDLElBQUEsRUFHQUMsR0FBQSxJQUFBL0csSUFFQWdILEdBQUEsU0FBQUMsR0FDQSxNQUFBQyxLQUFBRCxHQVNBRSxHQUFBLFNBQUFGLEdBQ0FoQixZQUFBQyxLQUFBYyxHQUFBQyxLQU9BRyxHQUFBLFNBQUFDLEVBQUFKLEVBQUFLLEdBQ0EsSUFBQUMsRUFBQVAsR0FBQUMsR0FDQU8sRUFoQkEsU0FBQUgsRUFBQUMsR0FHQSxPQUZBQSxFQUFBRyxLQUFBUCxNQUVBRyxHQURBQyxFQUFBLGFBQUFBLEVBQUEsSUFjQUksQ0FBQUwsRUFBQUMsR0FDQSxJQUNBckIsWUFBQUcsUUFBQW9CLEVBQUFELEdBQ0csTUFBQTV5RCxJQU1Ic3hELFlBQUFFLFdBQUFvQixHQUNBdEIsWUFBQUksY0FBQW1CLElBR0FHLEdBQUEsU0FBQU4sRUFBQU8sR0FDQSxPQUFBUCxFQUFBLE1BQUFPLEVBQUEsS0FHQUMsR0FBQSxTQUFBdm5ELEVBQUFxdEMsRUFBQTNYLEdBQ0EsY0FBQUEsRUFFQTExQixFQUFBLE1BQUFxdEMsRUFBQSxzQkFHQXJ0QyxFQUFBLElBQUEwMUIsR0FJQTh4QixHQUFBLFNBQUF0bEIsRUFBQXhNLEdBQ0EsSUFBQTExQixFQUFBaWlDLEdBQUFDLElBQUEsVUFDQW9sQixFQUFBcGxCLEVBQUFtZSxTQUNBaFQsRUFBQSxPQUFBbkwsRUFBQTlNLFVBQ0EyeEIsRUFBQVEsR0FBQXZuRCxFQUFBcXRDLEVBQUEzWCxHQUVBLEdBQUF5d0IsSUFBQU0sR0FBQXQvRCxJQUFBNC9ELEdBSUEsU0FFQU4sR0FBQWg1RCxJQUFBczVELEdBRUEsSUFBQUosRUFBQVUsR0FBQU4sRUFBQU8sR0FFQSxPQURBVCxHQUFBRixJQUNBLEdBR0FjLEdBQUEsU0FBQXZsQixFQUFBeE0sR0FDQSxJQUFBMTFCLEVBQUFpaUMsR0FBQUMsSUFBQSxVQUNBb2xCLEVBQUFwbEIsRUFBQW1lLFNBQ0FoVCxFQUFBLE9BQUFuTCxFQUFBOU0sVUFDQTJ4QixFQUFBUSxHQUFBdm5ELEVBQUFxdEMsRUFBQTNYLElBeERBLFNBQUFpeEIsR0FDQWhCLFlBQUFFLFdBQUFhLEdBQUFDLElBeURBZSxDQURBTCxHQUFBTixFQUFBTyxLQUlBSyxHQUFBLFNBQUF6bEIsRUFBQXhNLEVBQUFzeEIsR0FDQSxJQUFBaG5ELEVBQUFpaUMsR0FBQUMsSUFBQSxVQUNBb2xCLEVBQUFwbEIsRUFBQW1lLFNBQ0FoVCxFQUFBLE9BQUFuTCxFQUFBOU0sVUFDQTJ4QixFQUFBUSxHQUFBdm5ELEVBQUFxdEMsRUFBQTNYLEdBQ0FpeEIsRUFBQVUsR0FBQU4sRUFBQU8sR0FDQVIsR0FBQUMsRUFBQUosRUFBQUssSUFHQVksR0FBQSxTQUFBMWxCLEdBR0EsT0FBQUEsRUFBQXJvQyxLQUNBLEtBQUFpNUIsRUFDQSxLQUFBRSxHQUNBLEtBQUFDLEdBQ0EsS0FBQUYsR0FDQSxLQUFBRyxHQUNBLEtBQUFFLEdBQ0EsS0FBQUMsR0FDQSxLQUFBRyxHQUNBLEtBQUFELEdBQ0EsU0FDQSxRQUNBLFdBSUFzMEIsR0FBQSxXQUNBLE9BQUE1QixJQUFBLE9BQUFDLElBQ0F1QixHQUFBdkIsR0FBQUQsSUFFQUMsR0FBQSxLQUNBRCxHQUFBLEtBQ0FJLElBQUEsR0FHQXlCLEdBQUEsV0FJQSxJQURBLElBQUE1bEIsRUFBQThqQixHQUNBOWpCLEdBQ0FBLEVBQUFvZSx5QkFDQXFILEdBQUF6bEIsRUFBQSxXQUVBQSxJQUFBLFFBSUE2bEIsR0FBQSxTQUFBN2xCLEdBQ0EsT0FBQUEsRUFBQSxRQUNBNmxCLEdBQUE3bEIsRUFBQSxRQUVBQSxFQUFBb2UseUJBQ0FrSCxHQUFBdGxCLEVBQUEsT0FJQThsQixHQUFBLFdBRUEsT0FBQWhDLElBQ0ErQixHQUFBL0IsS0FJQSxTQUFBaUMsS0FDQS9DLElBQ0FxQixLQUlBLFNBQUEyQixLQUNBaEQsS0FDQWlCLEtBQ0FDLElBQUEsR0FFQSxPQUFBSCxJQUFBLHVCQUFBQSxJQUFBLDhCQUFBQSxLQUNBSSxJQUFBLElBc0NBLFNBQUE4QixHQUFBam1CLEdBQ0EsR0FBQWdqQixHQUFBLENBQ0EsSUFBQVEsSUFBQWtDLEdBQUExbEIsR0FDQSxPQUlBQSxFQUFBb2UseUJBQUEsRUFDQW1ILEdBQUF2bEIsRUFBQSxPQUlBLFNBQUFrbUIsR0FBQWxtQixHQUNBLEdBQUFnakIsR0FBQSxDQUNBLElBQUFRLElBQUFrQyxHQUFBMWxCLEdBQ0EsT0FJQSxHQURBOGpCLEdBQUE5akIsRUFBQSxRQUNBQSxFQUFBb2Usd0JBQ0EsT0FFQXBlLEVBQUFvZSx5QkFBQSxFQUNBcUgsR0FBQXpsQixFQUFBLFlBSUEsU0FBQW1tQixHQUFBbm1CLEdBQ0EsR0FBQWdqQixHQUFBLENBQ0EsSUFBQVEsSUFBQWtDLEdBQUExbEIsR0FDQSxPQUlBLEdBREE4akIsR0FBQTlqQixFQUFBLFFBQ0FBLEVBQUFvZSx3QkFDQSxPQUVBcGUsRUFBQW9lLHlCQUFBLEVBRUFxSCxHQUFBemxCLEVBQUEsS0FEQSxtREFLQSxTQUFBb21CLEdBQUFwbUIsRUFBQXhNLEdBQ0EsR0FBQXd2QixHQUFBLENBQ0EsSUFBQVEsR0FDQSxPQUdBLEdBREFtQyxNQUNBTCxHQUFBdGxCLEVBQUF4TSxHQUNBLE9BRUF3d0IsR0FBQWhrQixFQUNBK2pCLEdBQUF2d0IsR0FJQSxTQUFBNnlCLEtBQ0EsR0FBQXJELEdBQUEsQ0FDQSxJQUFBUSxHQUNBLE9BRUEsVUFBQU8sSUFBQSxPQUFBQyxHQUVBeUIsR0FBQXpCLEdBQUFELEdBREFJLEdBQUEscUNBR0FKLEdBQUEsS0FDQUMsR0FBQSxNQW1CQSxTQUFBc0MsR0FBQUMsRUFBQUMsR0FDQSxHQUFBeEQsR0FBQSxDQUNBLElBQUFRLEdBQ0EsT0FFQSxJQUFBc0IsRUFBQSxLQUNBLFVBQUF5QixFQUNBLEdBQUFBLEVBQUE1dUQsTUFBQWk1QixFQUNBazBCLEVBQUEsMERBR0FBLEVBQUEsaUJBREEva0IsR0FBQXdtQixJQUFBLFdBQ0Esd0NBRUtuQyxHQUFBLElBQ0xVLEVBQUEsZ0NBRUFWLEdBQUEsRUFDQSxJQUFBUyxFQUFBMkIsRUFBQSxxRkFFQVosS0FDQWhCLEdBQUFDLEVBQUEsOEJBQUFDLElBSUEsU0FBQTJCLEtBQ0EsR0FBQXpELEdBQUEsQ0FDQSxJQUFBUSxHQUNBLE9BRUFTLElBQUEsRUFDQUMsSUFBQSxFQUNBSyxHQUFBbUMsUUFDQS9CLEdBQUEseUJBSUEsU0FBQWdDLEtBQ0EsR0FBQTNELEdBQUEsQ0FDQSxJQUFBUSxHQUNBLE9BR0EsSUFBQXNCLEVBQUEsS0FDQVosR0FDQVksRUFBQSw4Q0FDS1YsR0FBQSxJQUNMVSxFQUFBLGtEQUVBWixJQUFBLEVBQ0FFLEtBQ0FILElBQUEsRUFDQU0sR0FBQW1DLFFBRUE5QixHQUFBLDhDQUFBRSxJQW1FQSxJQUFBOEIsUUFBQSxFQXNCQSxTQUFBQyxHQUFBQyxHQUNBLElBQUFDLEdBQ0FELFlBQ0FwSyxlQUFBUCxHQUNBNkssTUFBQSxLQUNBQyxLQUFBLEtBQ0FDLGFBQUEsS0FDQUMsZ0JBQUEsRUFDQUMsZUFBQSxFQUNBQyxlQUFBLEtBR0FDLGNBQUEsR0FFQSxPQUFBUCxFQUdBLFNBQUFRLEdBQUFSLEVBQUFTLEdBRUEsT0FBQVQsRUFBQUUsS0FFQUYsRUFBQUMsTUFBQUQsRUFBQUUsS0FBQU8sR0FFQVQsRUFBQUUsS0FBQWowRCxLQUFBdzBELEVBQ0FULEVBQUFFLEtBQUFPLElBRUFULEVBQUFySyxpQkFBQVAsSUFBQTRLLEVBQUFySyxlQUFBOEssRUFBQTlLLGtCQUNBcUssRUFBQXJLLGVBQUE4SyxFQUFBOUssZ0JBOUNBa0ssSUFBQSxFQWtEQSxJQUFBYSxRQUFBLEVBQ0FDLFFBQUEsRUFDQSxTQUFBQyxHQUFBM25CLEdBQ0F5bkIsR0FBQUMsR0FBQSxLQUVBLElBQUFFLEVBQUE1bkIsRUFBQTlNLFVBQ0EyMEIsRUFBQTduQixFQUFBOGQsWUFDQSxPQUFBK0osSUFLQUEsRUFBQTduQixFQUFBOGQsWUFBQStJLEdBQUEsT0FHQSxJQUFBaUIsT0FBQSxFQUNBLE9BQUFGLEVBRUEsUUFEQUUsRUFBQUYsRUFBQTlKLGVBRUFnSyxFQUFBRixFQUFBOUosWUFBQStJLEdBQUEsT0FHQWlCLEVBQUEsS0FLQUwsR0FBQUksRUFDQUgsR0FKQUksTUFBQUQsRUFBQUMsRUFBQSxLQU9BLFNBQUFDLEdBQUEvbkIsRUFBQXduQixHQUNBRyxHQUFBM25CLEdBQ0EsSUFBQTZuQixFQUFBSixHQUNBSyxFQUFBSixHQVdBLElBUEFHLEVBQUFQLGNBQUEsT0FBQVEsS0FBQVIsZ0JBQUFWLEtBQ0E3c0QsR0FBQSxnTkFDQTZzRCxJQUFBLEdBS0EsT0FBQWtCLEVBQUEsQ0FNQSxVQUFBRCxFQUFBWixNQUFBLE9BQUFhLEVBQUFiLEtBR0EsT0FGQU0sR0FBQU0sRUFBQUwsUUFDQUQsR0FBQU8sRUFBQU4sR0FPQUQsR0FBQU0sRUFBQUwsR0FFQU0sRUFBQWIsS0FBQU8sT0FoQkFELEdBQUFNLEVBQUFMLEdBaUNBLFNBQUFRLEdBQUFSLEVBQUE3aEQsRUFBQXNpRCxFQUFBeDVELEdBQ0EsSUFBQXk1RCxFQUFBVixFQUFBVSxhQUNBLHlCQUFBQSxFQUNBQSxFQUFBM3VFLEtBQUFvc0IsRUFBQXNpRCxFQUFBeDVELEdBRUF5NUQsRUFJQSxTQUFBQyxHQUFBNzVCLEVBQUFpUyxFQUFBd21CLEVBQUFwaEQsRUFBQWxYLEVBQUEyNUQsR0FDQSxVQUFBOTVCLEtBQUF3dkIsY0FBQWlKLEVBQUEsQ0FFQSxJQUFBc0IsRUFBQXRCLEVBQ0FBLEVBQUF4bUIsRUFBQXVkLGFBQ0FnSixVQUFBdUIsRUFBQXZCLFVBQ0FwSyxlQUFBMkwsRUFBQTNMLGVBQ0FzSyxNQUFBcUIsRUFBQXJCLE1BQ0FDLEtBQUFvQixFQUFBcEIsS0FDQUcsY0FBQWlCLEVBQUFqQixjQUNBQyxlQUFBZ0IsRUFBQWhCLGVBR0FILGFBQUEsS0FDQUMsZ0JBQUEsR0FPQUosRUFBQU8sY0FBQSxFQUtBUCxFQUFBckssZUFBQVAsR0FNQSxJQUFBcDFDLE9BQUEsRUFDQWdnRCxFQUFBSyxjQUNBcmdELEVBQUFnZ0QsRUFBQUQsV0FFQS8vQyxFQUFBZ2dELEVBQUFELFVBQUF2bUIsRUFBQXdkLGNBQ0FnSixFQUFBSyxlQUFBLEdBS0EsSUFIQSxJQUFBa0IsR0FBQSxFQUNBZCxFQUFBVCxFQUFBQyxNQUNBdUIsR0FBQSxFQUNBLE9BQUFmLEdBQUEsQ0FDQSxJQUFBZ0IsRUFBQWhCLEVBQUE5SyxlQUNBLEdBQUE4TCxFQUFBSixFQUFBLENBRUEsSUFBQXJJLEVBQUFnSCxFQUFBckssZ0JBQ0FxRCxJQUFBNUQsSUFBQTRELEVBQUF5SSxLQUVBekIsRUFBQXJLLGVBQUE4TCxHQUVBRCxJQUNBQSxHQUFBLEVBQ0F4QixFQUFBRCxVQUFBLy9DLEdBR0F5Z0QsSUFBQXgwRCxTQVpBLENBb0JBdTFELElBQ0F4QixFQUFBQyxNQUFBUSxFQUFBeDBELEtBQ0EsT0FBQSt6RCxFQUFBQyxRQUNBRCxFQUFBRSxLQUFBLFFBTUE3RCxJQUFBQyxJQUFBOWlCLEVBQUF6eEMsS0FBQW91RCxLQUNBOEssR0FBQVIsRUFBQTdoRCxFQUFBb0IsRUFBQXRZLEdBSUEsSUFBQWc2RCxPQUFBLEVBbUJBLEdBbEJBakIsRUFBQWtCLFdBQ0EzaEQsRUFBQWloRCxHQUFBUixFQUFBN2hELEVBQUFvQixFQUFBdFksR0FDQTY1RCxHQUFBLElBRUFHLEVBQUFULEdBQUFSLEVBQUE3aEQsRUFBQW9CLEVBQUF0WSxNQUlBc1ksRUFGQXVoRCxFQUVBcnRFLEtBQTRCOHJCLEVBQUEwaEQsR0FFNUJ4dEUsRUFBQThyQixFQUFBMGhELEdBRUFILEdBQUEsR0FHQWQsRUFBQW1CLFdBQ0E1QixFQUFBSSxnQkFBQSxHQUVBLE9BQUFLLEVBQUFoc0UsU0FBQSxDQUVBLElBQUFvdEUsRUFBQTdCLEVBQUFHLGFBQ0EsT0FBQTBCLElBQ0FBLEVBQUE3QixFQUFBRyxpQkFFQTBCLEVBQUE3c0UsS0FBQXlyRSxHQUVBLFVBQUFBLEVBQUFxQixjQUFBLENBQ0EsSUFBQUMsRUFBQS9CLEVBQUFNLGVBQ0EsT0FBQXlCLEVBQ0EvQixFQUFBTSxnQkFBQUcsRUFBQXFCLGVBRUFDLEVBQUEvc0UsS0FBQXlyRSxFQUFBcUIsZUFHQXJCLElBQUF4MEQsTUFvQkEsT0FqQkEsT0FBQSt6RCxFQUFBRyxhQUNBM21CLEVBQUEwSyxXQUFBWixHQUNHLE9BQUEwYyxFQUFBQyxPQUFBRCxFQUFBSSxnQkFBQSxPQUFBSixFQUFBTSxpQkFFSDltQixFQUFBdWQsWUFBQSxNQUdBeUssSUFDQUEsR0FBQSxFQUNBeEIsRUFBQUQsVUFBQS8vQyxHQUtBZ2dELEVBQUFPLGNBQUEsRUFHQXZnRCxFQUdBLFNBQUFnaUQsR0FBQWhDLEVBQUFqMkMsR0FDQSxJQUFBbzJDLEVBQUFILEVBQUFHLGFBQ0EsVUFBQUEsRUFBQSxDQUlBSCxFQUFBRyxhQUFBLEtBQ0EsUUFBQTl0RSxFQUFBLEVBQWlCQSxFQUFBOHRFLEVBQUF2ckUsT0FBeUJ2QyxJQUFBLENBQzFDLElBQUFvdUUsRUFBQU4sRUFBQTl0RSxHQUNBNHZFLEVBQUF4QixFQUFBaHNFLFNBR0Fnc0UsRUFBQWhzRSxTQUFBLEtBQ0EsbUJBQUF3dEUsR0FBQXZyRCxHQUFBLG1GQUFBdXJELEdBQ0FBLEVBQUF6dkUsS0FBQXUzQixLQUlBLElBUUFtNEMsR0FSQUMsTUFDQW5vRSxHQUFBRCxNQUFBQyxRQUVBb29FLFFBQUEsRUFDQUMsUUFBQSxFQUNBQyxRQUFBLEVBQ0FDLFFBQUEsRUFDQUMsUUFBQSxFQUlBSixHQUFBLElBQUEzTCxJQUNBNEwsR0FBQSxJQUFBNUwsSUFDQTZMLEdBQUEsSUFBQTdMLElBQ0E4TCxHQUFBLElBQUE5TCxJQUNBK0wsR0FBQSxJQUFBL0wsSUFFQSxJQUFBZ00sR0FBQSxJQUFBaE0sSUEwQkEsU0FBQWlNLEdBQUFDLEVBQUFyQyxHQUVBLElBREEsSUFBQXNDLEtBQ0F2d0UsRUFBQSxFQUFpQkEsRUFBQWl1RSxFQUFBMXJFLE9BQTJCdkMsSUFBQSxDQUM1QyxJQUNBbVEsRUFEQTg5RCxFQUFBanVFLEdBQ0FnQixNQUNBOHRFLEVBQUF3QixFQUFBRSx5QkFBQXJ3RSxLQUFBLEtBQUFnUSxHQUNBLE9BQUEyK0QsUUFBQXRvRSxJQUFBc29FLEdBQ0FqdEUsRUFBQTB1RSxFQUFBekIsR0FHQSxPQUFBeUIsRUFsQ0FWLEdBQUEsU0FBQXp0RSxFQUFBcXVFLEdBQ0EsVUFBQXJ1RSxHQUFBLG1CQUFBQSxFQUFBLENBR0EsSUFBQStJLEVBQUFzbEUsRUFBQSxJQUFBcnVFLEVBQ0FndUUsR0FBQXZrRSxJQUFBVixLQUNBaWxFLEdBQUFqK0QsSUFBQWhILEdBQ0F3VixHQUFBLG9HQUFBOHZELEVBQUFydUUsTUFTQTFCLE9BQUFDLGVBQUFtdkUsR0FBQSx3QkFDQWp2RSxZQUFBLEVBQ0FHLE1BQUEsV0FDQXFqQixHQUFBLHFWQUdBM2pCLE9BQUF3SSxPQUFBNG1FLElBZUEsSUFBQVksR0FBQSxTQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBLElBQUFDLEVBQUFMLEVBQUFLLGFBQ0FDLEVBQUFOLEVBQUFNLGlCQUNBQyxFQUFBUCxFQUFBTyxtQkFDQUMsRUFBQVIsRUFBQVEsa0JBQ0FDLEVBQUFULEVBQUFTLGtCQUlBQyxHQUNBdGYsYUFDQXVmLGdCQUFBLFNBQUEva0QsRUFBQXVpRCxFQUFBMXNFLEdBQ0EsSUFBQXdrRCxFQUFBOWxELEdBQUF5ckIsR0FHQXNqRCxHQUZBenRFLE9BQUFvRSxJQUFBcEUsRUFBQSxLQUFBQSxFQUVBLFlBRUEsSUFBQWtoRSxFQUFBdU4sRUFBQWpxQixHQVVBK25CLEdBQUEvbkIsR0FSQTBjLGlCQUNBd0wsZUFDQTFzRSxXQUNBa3RFLFdBQUEsRUFDQUMsVUFBQSxFQUNBRSxjQUFBLEtBQ0E3MUQsS0FBQSxPQUdBZzNELEVBQUFocUIsRUFBQTBjLElBRUFpTyxvQkFBQSxTQUFBaGxELEVBQUFvQixFQUFBdnJCLEdBQ0EsSUFBQXdrRCxFQUFBOWxELEdBQUF5ckIsR0FHQXNqRCxHQUZBenRFLE9BQUFvRSxJQUFBcEUsRUFBQSxLQUFBQSxFQUVBLGdCQUVBLElBQUFraEUsRUFBQXVOLEVBQUFqcUIsR0FVQStuQixHQUFBL25CLEdBUkEwYyxpQkFDQXdMLGFBQUFuaEQsRUFDQXZyQixXQUNBa3RFLFdBQUEsRUFDQUMsVUFBQSxFQUNBRSxjQUFBLEtBQ0E3MUQsS0FBQSxPQUdBZzNELEVBQUFocUIsRUFBQTBjLElBRUFrTyxtQkFBQSxTQUFBamxELEVBQUFucUIsR0FDQSxJQUFBd2tELEVBQUE5bEQsR0FBQXlyQixHQUdBc2pELEdBRkF6dEUsT0FBQW9FLElBQUFwRSxFQUFBLEtBQUFBLEVBRUEsZUFFQSxJQUFBa2hFLEVBQUF1TixFQUFBanFCLEdBVUErbkIsR0FBQS9uQixHQVJBMGMsaUJBQ0F3TCxhQUFBLEtBQ0Exc0UsV0FDQWt0RSxXQUFBLEVBQ0FDLFVBQUEsRUFDQUUsY0FBQSxLQUNBNzFELEtBQUEsT0FHQWczRCxFQUFBaHFCLEVBQUEwYyxLQUlBLFNBQUFtTyxFQUFBdHFCLEVBQUF1cUIsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQSxVQUFBSixHQUFBLE9BQUF2cUIsRUFBQXVkLGFBQUF2ZCxFQUFBdWQsWUFBQXFKLGVBRUEsU0FHQSxJQUFBeGhELEVBQUE0NkIsRUFBQTVRLFVBQ0ErNUIsRUFBQW5wQixFQUFBeGdELEtBQ0Esc0JBQUE0bEIsRUFBQXdsRCxzQkFBQSxDQUNBL0UsR0FBQTdsQixFQUFBLHlCQUNBLElBQUE2cUIsRUFBQXpsRCxFQUFBd2xELHNCQUFBSixFQUFBRSxFQUFBQyxHQU9BLE9BTkE3RSxLQUdBdHNELE9BQUFuYSxJQUFBd3JFLEVBQUEsZ0hBQUFyckIsR0FBQVEsSUFBQSxhQUdBNnFCLEVBR0EsT0FBQTFCLEVBQUFqdkUsWUFBQWl2RSxFQUFBanZFLFVBQUE0d0Usd0JBQ0FsaEMsRUFBQTJnQyxFQUFBQyxLQUFBNWdDLEVBQUE2Z0MsRUFBQUMsSUFvRUEsU0FBQUssRUFBQS9xQixFQUFBNTZCLEdBQ0FBLEVBQUFsWCxNQUFBOHhDLEVBQUFzZCxjQUNBbDRDLEVBQUFvQixNQUFBdzVCLEVBQUF3ZCxjQUdBLFNBQUF3TixFQUFBaHJCLEVBQUE1NkIsR0FqeEdBLElBQUF2ckIsRUFreEdBdXJCLEVBQUE4a0QsVUFDQWxxQixFQUFBNVEsVUFBQWhxQixFQW54R0F2ckIsRUFxeEdBbW1ELEVBQUE1NkIsRUFweEdBa2tDLG9CQUFBenZELEVBc3hHQXVyQixFQUFBNmxELHVCQUFBdEMsR0FzR0EsU0FBQXVDLEVBQUFsckIsRUFBQTU2QixFQUFBb2xELEVBQUFHLEdBQ0EsSUFBQUYsRUFBQXJsRCxFQUFBb0IsTUFVQSxHQVRBcS9DLEdBQUE3bEIsRUFBQSw2QkFDQSxtQkFBQTU2QixFQUFBKzhDLDJCQUNBLzhDLEVBQUErOEMsMEJBQUFxSSxFQUFBRyxHQUVBLG1CQUFBdmxELEVBQUFzN0Msa0NBQ0F0N0MsRUFBQXM3QyxpQ0FBQThKLEVBQUFHLEdBRUE3RSxLQUVBMWdELEVBQUFvQixRQUFBaWtELEVBQUEsQ0FFQSxJQUFBbHRELEVBQUFpaUMsR0FBQVEsSUFBQSxZQUNBNG9CLEdBQUFsa0UsSUFBQTZZLEtBQ0FxckQsR0FBQTU5RCxJQUFBdVMsR0FDQS9ELEdBQUEsb0pBQUErRCxJQUdBMnNELEVBQUFFLG9CQUFBaGxELElBQUFvQixNQUFBLE9BSUEsU0FBQTJrRCxFQUFBbnJCLEVBQUE1NkIsRUFBQWdtRCxFQUFBMUQsR0FDQSxJQUFBbG9FLEVBQUF3Z0QsRUFBQXhnRCxLQUdBLHNCQUFBQSxFQUFBNnJFLHlCQUFBLEVBQ0F4SSxJQUFBQyxJQUFBOWlCLEVBQUF6eEMsS0FBQW91RCxLQUVBbjlELEVBQUE2ckUseUJBQUFyeUUsS0FBQSxLQUFBb3lFLEVBQUExRCxHQUdBLElBQUFDLEVBQUFub0UsRUFBQTZyRSx5QkFBQXJ5RSxLQUFBLEtBQUFveUUsRUFBQTFELEdBR0EsUUFBQXJvRSxJQUFBc29FLEVBQUEsQ0FDQSxJQUFBcHFELEVBQUFpaUMsR0FBQVEsSUFBQSxZQUNBNm9CLEdBQUFua0UsSUFBQTZZLEtBQ0FzckQsR0FBQTc5RCxJQUFBdVMsR0FDQS9ELEdBQUEsaUhBQUErRCxJQUtBLE9BQUFvcUQsR0FxVUEsT0FDQXFELHFCQUNBRywrQkFDQUcsdUJBdmRBLFNBQUF0ckIsRUFBQTl4QyxHQUNBLElBQUFpN0QsRUFBQW5wQixFQUFBeGdELEtBQ0ErckUsRUFBQXhCLEVBQUEvcEIsR0FDQXdyQixFQUFBeEIsRUFBQWhxQixHQUNBenZCLEVBQUFpN0MsRUFBQTFCLEVBQUE5cEIsRUFBQXVyQixHQUFBM3RELEdBR0FpbEQsSUFBQUMsSUFBQTlpQixFQUFBenhDLEtBQUFvdUQsS0FDQSxJQUFBd00sRUFBQWo3RCxFQUFBcWlCLEdBR0EsSUFBQW5MLEVBQUEsSUFBQStqRCxFQUFBajdELEVBQUFxaUIsR0FDQS9KLEVBQUEsT0FBQXBCLEVBQUFvQixZQUFBbm5CLElBQUErbEIsRUFBQW9CLE1BQUFwQixFQUFBb0IsTUFBQSxLQUlBLEdBSEF3a0QsRUFBQWhyQixFQUFBNTZCLEdBR0EsbUJBQUErakQsRUFBQWtDLDBCQUFBLE9BQUE3a0QsRUFBQSxDQUNBLElBQUFqSixFQUFBaWlDLEdBQUFRLElBQUEsWUFDQThvQixHQUFBcGtFLElBQUE2WSxLQUNBdXJELEdBQUE5OUQsSUFBQXVTLEdBQ0EvRCxHQUFBLDhHQUFBK0QsRUFBQSxPQUFBNkgsRUFBQW9CLE1BQUEscUJBT0Esc0JBQUEyaUQsRUFBQWtDLDBCQUFBLG1CQUFBam1ELEVBQUFxbUQsd0JBQUEsQ0FDQSxJQUFBQyxFQUFBLEtBQ0FDLEVBQUEsS0FDQUMsRUFBQSxLQWdCQSxHQWZBLG1CQUFBeG1ELEVBQUF3QixxQkFBQSxJQUFBeEIsRUFBQXdCLG1CQUFBczdDLDZCQUNBd0osRUFBQSxxQkFDUyxtQkFBQXRtRCxFQUFBcTdDLDRCQUNUaUwsRUFBQSw2QkFFQSxtQkFBQXRtRCxFQUFBKzhDLDRCQUFBLElBQUEvOEMsRUFBQSs4QywwQkFBQUQsNkJBQ0F5SixFQUFBLDRCQUNTLG1CQUFBdm1ELEVBQUFzN0MsbUNBQ1RpTCxFQUFBLG9DQUVBLG1CQUFBdm1ELEVBQUFnOUMsc0JBQUEsSUFBQWg5QyxFQUFBZzlDLG9CQUFBRiw2QkFDQTBKLEVBQUEsc0JBQ1MsbUJBQUF4bUQsRUFBQXU3Qyw2QkFDVGlMLEVBQUEsOEJBRUEsT0FBQUYsR0FBQSxPQUFBQyxHQUFBLE9BQUFDLEVBQUEsQ0FDQSxJQUFBQyxFQUFBcnNCLEdBQUFRLElBQUEsWUFDQThyQixFQUFBLG1CQUFBM0MsRUFBQWtDLHlCQUFBLHlEQUNBckMsR0FBQXRrRSxJQUFBbW5FLEtBQ0E3QyxHQUFBaCtELElBQUE2Z0UsR0FDQXJ5RCxHQUFBLG9TQUFBcXlELEVBQUFDLEVBQUEsT0FBQUosRUFBQSxPQUFBQSxFQUFBLFVBQUFDLEVBQUEsT0FBQUEsRUFBQSxVQUFBQyxFQUFBLE9BQUFBLEVBQUEsTUFNQTVyQixFQUFBd2QsY0FBQWgzQyxFQUVBLElBQUFtaEQsRUFBQXdELEVBQUFuckIsRUFBQTU2QixFQUFBbFgsRUFBQXNZLEdBZUEsT0FiQSxPQUFBbWhELFFBQUF0b0UsSUFBQXNvRSxJQUlBM25CLEVBQUF3ZCxjQUFBOWlFLEtBQStDc2xELEVBQUF3ZCxjQUFBbUssSUFLL0M2RCxHQUNBM0IsRUFBQTdwQixFQUFBdXJCLEVBQUFoN0MsR0FHQW5MLEdBOFlBMm1ELG1CQXBVQSxTQUFBL3JCLEVBQUE2bkIsR0FDQSxJQUFBc0IsRUFBQW5wQixFQUFBeGdELEtBQ0F1dUMsRUFBQWlTLEVBQUFyTixXQW5PQSxTQUFBcU4sR0FDQSxJQUFBNTZCLEVBQUE0NkIsRUFBQTVRLFVBQ0E1dkMsRUFBQXdnRCxFQUFBeGdELEtBRUFwRyxFQUFBb21ELEdBQUFRLElBQUEsWUFDQTU2QixFQUFBK0IsU0FHQTNuQixFQUFBdEYsV0FBQSxtQkFBQXNGLEVBQUF0RixVQUFBaXRCLE9BQ0EzTixHQUFBLHNJQUFBcGdCLEdBRUFvZ0IsR0FBQSxxSEFBQXBnQixJQUlBLElBQUE0eUUsR0FBQTVtRCxFQUFBNm1ELGlCQUFBN21ELEVBQUE2bUQsZ0JBQUFDLHNCQUFBOW1ELEVBQUFvQixNQUNBaE4sRUFBQXd5RCxFQUFBLG9MQUFBNXlFLEdBQ0EsSUFBQSt5RSxHQUFBL21ELEVBQUFnbkQsaUJBQUFobkQsRUFBQWduRCxnQkFBQUYscUJBQ0ExeUQsRUFBQTJ5RCxFQUFBLHlMQUFBL3lFLEdBQ0EsSUFBQWl6RSxHQUFBam5ELEVBQUEyK0IsVUFDQXZxQyxFQUFBNnlELEVBQUEsMEdBQUFqekUsR0FDQSxJQUFBa3pFLEdBQUFsbkQsRUFBQW1uRCxhQUNBL3lELEVBQUE4eUQsRUFBQSxnSEFBQWx6RSxHQUNBLElBQUFvekUsRUFBQSxtQkFBQXBuRCxFQUFBcW5ELHNCQUNBanpELEVBQUFnekQsRUFBQSw4S0FBQXB6RSxHQUNBb0csRUFBQXRGLFdBQUFzRixFQUFBdEYsVUFBQTR3RSwyQkFBQSxJQUFBMWxELEVBQUF3bEQsdUJBQ0FweEQsR0FBQSxpTUFBQWdtQyxHQUFBUSxJQUFBLG9CQUVBLElBQUEwc0IsRUFBQSxtQkFBQXRuRCxFQUFBdW5ELG9CQUNBbnpELEVBQUFrekQsRUFBQSw0SEFBQXR6RSxHQUNBLElBQUF3ekUsRUFBQSxtQkFBQXhuRCxFQUFBeW5ELHlCQUNBcnpELEVBQUFvekQsRUFBQSxtVEFBQXh6RSxHQUNBLElBQUEwekUsRUFBQSxtQkFBQTFuRCxFQUFBMm5ELDBCQUNBdnpELEVBQUFzekQsRUFBQSxnR0FBQTF6RSxHQUNBLElBQUE0ekUsRUFBQSxtQkFBQTVuRCxFQUFBNm5ELGlDQUNBenpELEVBQUF3ekQsRUFBQSw4R0FBQTV6RSxHQUNBLElBQUE4ekUsRUFBQTluRCxFQUFBbFgsUUFBQTh4QyxFQUFBb2QsYUFDQTVqRCxPQUFBbmEsSUFBQStsQixFQUFBbFgsUUFBQWcvRCxFQUFBLDJIQUFBOXpFLEtBQ0EsSUFBQSt6RSxHQUFBL25ELEVBQUFnb0QsYUFDQTV6RCxFQUFBMnpELEVBQUEsb0pBQUEvekUsS0FFQSxtQkFBQWdzQixFQUFBcW1ELHlCQUFBLG1CQUFBcm1ELEVBQUFpb0Qsb0JBQUEsbUJBQUFqb0QsRUFBQWlvRCxvQkFBQXRFLEdBQUFya0UsSUFBQWxGLEtBQ0F1cEUsR0FBQS85RCxJQUFBeEwsR0FDQWdhLEdBQUEsbUlBQUFnbUMsR0FBQVEsS0FHQSxJQUFBc3RCLEVBQUEsbUJBQUFsb0QsRUFBQWltRCx5QkFDQTd4RCxFQUFBOHpELEVBQUEsK0hBQUFsMEUsR0FDQSxJQUFBbTBFLEVBQUEsbUJBQUFub0QsRUFBQWlrRCx5QkFDQTd2RCxFQUFBK3pELEVBQUEsK0hBQUFuMEUsR0FDQSxJQUFBbzBFLEVBQUEsbUJBQUFodUUsRUFBQWlzRSx3QkFDQWp5RCxFQUFBZzBELEVBQUEsOEhBQUFwMEUsR0FDQSxJQUFBa08sRUFBQThkLEVBQUFvQixNQUNBbGYsSUFBQSxpQkFBQUEsR0FBQTlHLEdBQUE4RyxLQUNBa1MsR0FBQSwrQ0FBQXBnQixHQUVBLG1CQUFBZ3NCLEVBQUFxb0QsaUJBQ0FqMEQsRUFBQSxpQkFBQWhhLEVBQUFrdUUsa0JBQUEsNkZBQUF0MEUsR0E2S0F1MEUsQ0FBQTN0QixHQUdBLElBQUE1NkIsRUFBQTQ2QixFQUFBNVEsVUFDQWxoQyxFQUFBOHhDLEVBQUFvZCxhQUNBbU8sRUFBQXhCLEVBQUEvcEIsR0FtQkEsR0FqQkE1NkIsRUFBQWxYLFFBQ0FrWCxFQUFBb0IsTUFBQXc1QixFQUFBd2QsY0FDQXA0QyxFQUFBd29ELEtBQUFod0QsRUFDQXdILEVBQUFtTCxRQUFBdTVDLEVBQUE5cEIsRUFBQXVyQixHQUdBdnJCLEVBQUF6eEMsS0FBQW91RCxJQUNBdUQsR0FBQUssOEJBQUF2Z0IsRUFBQTU2QixHQUdBNDlDLElBQ0E5QyxHQUFBSSwwQkFBQXRnQixFQUFBNTZCLEdBTUEsbUJBQUErakQsRUFBQWtDLDBCQUFBLG1CQUFBam1ELEVBQUFxbUQsMEJBQUEsbUJBQUFybUQsRUFBQXE3QywyQkFBQSxtQkFBQXI3QyxFQUFBd0Isb0JBQUEsRUFwR0EsU0FBQW81QixFQUFBNTZCLEdBQ0F5Z0QsR0FBQTdsQixFQUFBLHNCQUNBLElBQUF5cUIsRUFBQXJsRCxFQUFBb0IsTUFFQSxtQkFBQXBCLEVBQUF3QixvQkFDQXhCLEVBQUF3QixxQkFFQSxtQkFBQXhCLEVBQUFxN0MsMkJBQ0FyN0MsRUFBQXE3Qyw0QkFHQXFGLEtBRUEyRSxJQUFBcmxELEVBQUFvQixRQUVBaE4sR0FBQSw2SUFBQWdtQyxHQUFBUSxJQUFBLGFBRUFrcUIsRUFBQUUsb0JBQUFobEQsSUFBQW9CLE1BQUEsT0FvRkFxbkQsQ0FBQTd0QixFQUFBNTZCLEdBR0EsSUFBQW00QyxFQUFBdmQsRUFBQXVkLFlBQ0EsT0FBQUEsSUFDQW40QyxFQUFBb0IsTUFBQW9oRCxHQUFBNzVCLEVBQUFpUyxFQUFBdWQsRUFBQW40QyxFQUFBbFgsRUFBQTI1RCxJQUdBLG1CQUFBemlELEVBQUEwb0Qsb0JBQ0E5dEIsRUFBQTBLLFdBQUFoQixLQThSQXFrQix5QkExUkEsU0FBQS90QixFQUFBNm5CLEdBQ0EsSUFBQXNCLEVBQUFucEIsRUFBQXhnRCxLQUNBNGxCLEVBQUE0NkIsRUFBQTVRLFVBQ0EyN0IsRUFBQS9xQixFQUFBNTZCLEdBRUEsSUFBQW1sRCxFQUFBdnFCLEVBQUFzZCxjQUNBa04sRUFBQXhxQixFQUFBb2QsYUFDQTRRLEVBQUE1b0QsRUFBQW1MLFFBQ0EwOUMsRUFBQWxFLEVBQUEvcEIsR0FDQTJxQixFQUFBYixFQUFBOXBCLEVBQUFpdUIsR0FFQUMsRUFBQSxtQkFBQS9FLEVBQUFrQywwQkFBQSxtQkFBQWptRCxFQUFBcW1ELHdCQVFBeUMsR0FBQSxtQkFBQTlvRCxFQUFBczdDLGtDQUFBLG1CQUFBdDdDLEVBQUErOEMsMkJBQ0FvSSxJQUFBQyxHQUFBd0QsSUFBQXJELEdBQ0FPLEVBQUFsckIsRUFBQTU2QixFQUFBb2xELEVBQUFHLEdBS0EsSUFBQUYsRUFBQXpxQixFQUFBd2QsY0FFQWtOLE9BQUEsRUFDQXlELE9BQUEsRUFDQSxVQUFBbnVCLEVBQUF1ZCxZQUFBLENBQ0FtTixFQUFBOUMsR0FBQSxLQUFBNW5CLElBQUF1ZCxZQUFBbjRDLEVBQUFvbEQsRUFBQTNDLEdBRUEsSUFBQXRLLEVBQUF2ZCxFQUFBdWQsWUFDQSxPQUFBQSxHQUFBLE9BQUFBLEVBQUF1SixnQkFBQWxFLElBQUEsbUJBQUF1RyxFQUFBRSwyQkFNQThFLEVBQUFqRixHQUFBQyxFQUxBNUwsRUFBQXVKLHNCQVFBNEQsRUFBQUQsRUFHQSxJQUFBMkQsT0FBQSxFQU9BLEdBTkE3RCxJQUFBQyxJQUdBNEQsRUFBQWpELEVBQUFuckIsRUFBQTU2QixFQUFBb2xELEVBQUFFLElBR0EsT0FBQTBELFFBQUEvdUUsSUFBQSt1RSxFQUFBLENBSUExRCxFQUFBLE9BQUFBLFFBQUFyckUsSUFBQXFyRSxFQUFBMEQsRUFBQTF6RSxLQUFpR2d3RSxFQUFBMEQsR0FJakcsSUFBQUMsRUFBQXJ1QixFQUFBdWQsWUFDQSxPQUFBOFEsSUFDQUEsRUFBQTlILFVBQUE3ckUsS0FBMkMyekUsRUFBQTlILFVBQUE2SCxJQUczQyxVQUFBRCxRQUFBOXVFLElBQUE4dUUsRUFBQSxDQUlBekQsRUFBQSxPQUFBQSxRQUFBcnJFLElBQUFxckUsRUFBQXlELEVBQUF6ekUsS0FBaUdnd0UsRUFBQXlELEdBSWpHLElBQUFHLEVBQUF0dUIsRUFBQXVkLFlBQ0EsT0FBQStRLElBQ0FBLEVBQUEvSCxVQUFBN3JFLEtBQTRDNHpFLEVBQUEvSCxVQUFBNEgsSUFJNUMsS0FBQTVELElBQUFDLEdBQUFDLElBQUFDLEdBQUFULEtBQUEsT0FBQWpxQixFQUFBdWQsYUFBQXZkLEVBQUF1ZCxZQUFBcUosZ0JBTUEsTUFIQSxtQkFBQXhoRCxFQUFBMG9ELG9CQUNBOXRCLEVBQUEwSyxXQUFBaEIsS0FFQSxFQUdBLElBQUFtaEIsRUFBQVAsRUFBQXRxQixFQUFBdXFCLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBcUNBLE9BbkNBRSxHQUdBcUQsR0FBQSxtQkFBQTlvRCxFQUFBcTdDLDJCQUFBLG1CQUFBcjdDLEVBQUF3QixxQkFDQWkvQyxHQUFBN2xCLEVBQUEsc0JBQ0EsbUJBQUE1NkIsRUFBQXdCLG9CQUNBeEIsRUFBQXdCLHFCQUVBLG1CQUFBeEIsRUFBQXE3QywyQkFDQXI3QyxFQUFBcTdDLDRCQUVBcUYsTUFFQSxtQkFBQTFnRCxFQUFBMG9ELG9CQUNBOXRCLEVBQUEwSyxXQUFBaEIsTUFLQSxtQkFBQXRrQyxFQUFBMG9ELG9CQUNBOXRCLEVBQUEwSyxXQUFBaEIsSUFLQWlnQixFQUFBM3BCLEVBQUF3cUIsR0FDQVosRUFBQTVwQixFQUFBMHFCLElBS0F0bEQsRUFBQWxYLE1BQUFzOEQsRUFDQXBsRCxFQUFBb0IsTUFBQWtrRCxFQUNBdGxELEVBQUFtTCxRQUFBbzZDLEVBRUFFLEdBNkpBMEQsb0JBekpBLFNBQUF4Z0MsRUFBQWlTLEVBQUE2bkIsR0FDQSxJQUFBc0IsRUFBQW5wQixFQUFBeGdELEtBQ0E0bEIsRUFBQTQ2QixFQUFBNVEsVUFDQTI3QixFQUFBL3FCLEVBQUE1NkIsR0FFQSxJQUFBbWxELEVBQUF2cUIsRUFBQXNkLGNBQ0FrTixFQUFBeHFCLEVBQUFvZCxhQUNBNFEsRUFBQTVvRCxFQUFBbUwsUUFDQTA5QyxFQUFBbEUsRUFBQS9wQixHQUNBMnFCLEVBQUFiLEVBQUE5cEIsRUFBQWl1QixHQUVBQyxFQUFBLG1CQUFBL0UsRUFBQWtDLDBCQUFBLG1CQUFBam1ELEVBQUFxbUQsd0JBUUF5QyxHQUFBLG1CQUFBOW9ELEVBQUFzN0Msa0NBQUEsbUJBQUF0N0MsRUFBQSs4QywyQkFDQW9JLElBQUFDLEdBQUF3RCxJQUFBckQsR0FDQU8sRUFBQWxyQixFQUFBNTZCLEVBQUFvbEQsRUFBQUcsR0FLQSxJQUFBRixFQUFBenFCLEVBQUF3ZCxjQUVBa04sT0FBQSxFQUNBeUQsT0FBQSxFQUVBLFVBQUFudUIsRUFBQXVkLFlBQUEsQ0FDQW1OLEVBQUE5QyxHQUFBNzVCLEVBQUFpUyxJQUFBdWQsWUFBQW40QyxFQUFBb2xELEVBQUEzQyxHQUVBLElBQUF0SyxFQUFBdmQsRUFBQXVkLFlBQ0EsT0FBQUEsR0FBQSxPQUFBQSxFQUFBdUosZ0JBQUFsRSxJQUFBLG1CQUFBdUcsRUFBQUUsMkJBTUE4RSxFQUFBakYsR0FBQUMsRUFMQTVMLEVBQUF1SixzQkFRQTRELEVBQUFELEVBR0EsSUFBQTJELE9BQUEsRUFPQSxHQU5BN0QsSUFBQUMsSUFHQTRELEVBQUFqRCxFQUFBbnJCLEVBQUE1NkIsRUFBQW9sRCxFQUFBRSxJQUdBLE9BQUEwRCxRQUFBL3VFLElBQUErdUUsRUFBQSxDQUlBMUQsRUFBQSxPQUFBQSxRQUFBcnJFLElBQUFxckUsRUFBQTBELEVBQUExekUsS0FBaUdnd0UsRUFBQTBELEdBSWpHLElBQUFJLEVBQUF4dUIsRUFBQXVkLFlBQ0EsT0FBQWlSLElBQ0FBLEVBQUFqSSxVQUFBN3JFLEtBQTRDOHpFLEVBQUFqSSxVQUFBNkgsSUFHNUMsVUFBQUQsUUFBQTl1RSxJQUFBOHVFLEVBQUEsQ0FJQXpELEVBQUEsT0FBQUEsUUFBQXJyRSxJQUFBcXJFLEVBQUF5RCxFQUFBenpFLEtBQWlHZ3dFLEVBQUF5RCxHQUlqRyxJQUFBTSxFQUFBenVCLEVBQUF1ZCxZQUNBLE9BQUFrUixJQUNBQSxFQUFBbEksVUFBQTdyRSxLQUE0Qyt6RSxFQUFBbEksVUFBQTRILElBSTVDLEtBQUE1RCxJQUFBQyxHQUFBQyxJQUFBQyxHQUFBVCxLQUFBLE9BQUFqcUIsRUFBQXVkLGFBQUF2ZCxFQUFBdWQsWUFBQXFKLGdCQWFBLE1BVkEsbUJBQUF4aEQsRUFBQWlvRCxxQkFDQTlDLElBQUF4OEIsRUFBQXV2QixlQUFBbU4sSUFBQTE4QixFQUFBeXZCLGdCQUNBeGQsRUFBQTBLLFdBQUFoQixLQUdBLG1CQUFBdGtDLEVBQUFxbUQsMEJBQ0FsQixJQUFBeDhCLEVBQUF1dkIsZUFBQW1OLElBQUExOEIsRUFBQXl2QixnQkFDQXhkLEVBQUEwSyxXQUFBUixNQUdBLEVBR0EsSUFBQTJnQixFQUFBUCxFQUFBdHFCLEVBQUF1cUIsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0ErQ0EsT0E3Q0FFLEdBR0FxRCxHQUFBLG1CQUFBOW9ELEVBQUF1N0MsNEJBQUEsbUJBQUF2N0MsRUFBQWc5QyxzQkFDQXlELEdBQUE3bEIsRUFBQSx1QkFDQSxtQkFBQTU2QixFQUFBZzlDLHFCQUNBaDlDLEVBQUFnOUMsb0JBQUFvSSxFQUFBRSxFQUFBQyxHQUVBLG1CQUFBdmxELEVBQUF1N0MsNEJBQ0F2N0MsRUFBQXU3QywyQkFBQTZKLEVBQUFFLEVBQUFDLEdBRUE3RSxNQUVBLG1CQUFBMWdELEVBQUFpb0QscUJBQ0FydEIsRUFBQTBLLFdBQUFoQixJQUVBLG1CQUFBdGtDLEVBQUFxbUQsMEJBQ0F6ckIsRUFBQTBLLFdBQUFSLE1BS0EsbUJBQUE5a0MsRUFBQWlvRCxxQkFDQTlDLElBQUF4OEIsRUFBQXV2QixlQUFBbU4sSUFBQTE4QixFQUFBeXZCLGdCQUNBeGQsRUFBQTBLLFdBQUFoQixLQUdBLG1CQUFBdGtDLEVBQUFxbUQsMEJBQ0FsQixJQUFBeDhCLEVBQUF1dkIsZUFBQW1OLElBQUExOEIsRUFBQXl2QixnQkFDQXhkLEVBQUEwSyxXQUFBUixLQU1BeWYsRUFBQTNwQixFQUFBd3FCLEdBQ0FaLEVBQUE1cEIsRUFBQTBxQixJQUtBdGxELEVBQUFsWCxNQUFBczhELEVBQ0FwbEQsRUFBQW9CLE1BQUFra0QsRUFDQXRsRCxFQUFBbUwsUUFBQW82QyxFQUVBRSxLQWFBNkQsR0FBQXZ1QixHQUFBTSw2QkFHQWt1QixRQUFBLEVBQ0FDLFFBQUEsRUFDQUMsUUFBQSxFQUNBQyxRQUFBLEVBQ0FDLEdBQUEsU0FBQTNqQixLQUdBdWpCLElBQUEsRUFDQUMsTUFPQUMsTUFDQUMsTUFFQUMsR0FBQSxTQUFBM2pCLEdBQ0EsVUFBQUEsR0FBQSxpQkFBQUEsR0FHQUEsRUFBQWh4QixTQUFBZ3hCLEVBQUFoeEIsT0FBQTQwQyxXQUFBLE1BQUE1akIsRUFBQXBuRCxJQUFBLENBR0EsaUJBQUFvbkQsRUFBQWh4QixRQUFBbGQsR0FBQSxxSUFDQWt1QyxFQUFBaHhCLE9BQUE0MEMsV0FBQSxFQUVBLElBQUFDLEVBQUEsa0lBQUFQLE1BQUEsSUFDQUcsR0FBQUksS0FHQUosR0FBQUksSUFBQSxFQUVBejFELEdBQUEscUlBQUFrMUQsU0FJQSxJQUFBUSxHQUFBM3VFLE1BQUFDLFFBRUEsU0FBQTJ1RSxHQUFBQyxFQUFBcmhDLEVBQUFnUCxHQUNBLElBQUFzeUIsRUFBQXR5QixFQUFBc2dCLElBQ0EsVUFBQWdTLEdBQUEsbUJBQUFBLEdBQUEsaUJBQUFBLEVBQUEsQ0FFQSxHQUFBRCxFQUFBN2dFLEtBQUFvdUQsR0FBQSxDQUNBLElBQUFwL0MsRUFBQWlpQyxHQUFBNHZCLElBQUEsWUFDQVIsR0FBQXJ4RCxLQUNBL0QsR0FBQSx3UUFBQTYxRCxFQUFBdHZCLEdBQUFxdkIsSUFDQVIsR0FBQXJ4RCxJQUFBLEdBS0EsR0FBQXcvQixFQUFBaWhCLE9BQUEsQ0FDQSxJQUFBcGUsRUFBQTdDLEVBQUFpaEIsT0FDQXB3QixPQUFBLEVBQ0EsR0FBQWdTLEVBQUEsQ0FDQSxJQUFBa0wsRUFBQWxMLEVBQ0FrTCxFQUFBMXpDLE1BQUFnNUIsR0FBQWx6QixHQUFBLHFEQUNBMHdCLEVBQUFrZCxFQUFBMWIsVUFFQXhCLEdBQUExd0IsR0FBQSwwR0FBQW15RCxHQUNBLElBQUFDLEVBQUEsR0FBQUQsRUFFQSxVQUFBdGhDLEdBQUEsT0FBQUEsRUFBQXN2QixLQUFBdHZCLEVBQUFzdkIsSUFBQWtTLGFBQUFELEVBQ0EsT0FBQXZoQyxFQUFBc3ZCLElBRUEsSUFBQUEsRUFBQSxTQUFBeGpFLEdBQ0EsSUFBQSt6RSxFQUFBaGdDLEVBQUFnZ0MsT0FBQWh3RCxFQUFBZ3dCLEVBQUFnZ0MsUUFBNkRoZ0MsRUFBQWdnQyxLQUM3RCxPQUFBL3pFLFNBQ0ErekUsRUFBQTBCLEdBRUExQixFQUFBMEIsR0FBQXoxRSxHQUlBLE9BREF3akUsRUFBQWtTLFdBQUFELEVBQ0FqUyxFQUVBLGlCQUFBZ1MsR0FBQW55RCxHQUFBLGdEQUNBNi9CLEVBQUFpaEIsUUFBQTlnRCxHQUFBLG1ZQUFBbXlELEdBR0EsT0FBQUEsRUFHQSxTQUFBRyxHQUFBSixFQUFBSyxHQUNBLGdCQUFBTCxFQUFBNXZFLEtBQUEsQ0FDQSxJQUFBa3dFLEVBRUFBLEVBQUEsMkVBQUFoQixNQUFBLElBRUF4eEQsR0FBQSw4RUFBQTNqQixPQUFBVyxVQUFBMEQsU0FBQTVFLEtBQUF5MkUsR0FBQSxxQkFBa0tsMkUsT0FBQTBSLEtBQUF3a0UsR0FBQXh4RCxLQUFBLFVBQXlDd3hELEVBQUFDLElBSTNNLFNBQUFDLEtBQ0EsSUFBQVYsRUFBQSw2TEFBQVAsTUFBQSxJQUVBSSxHQUFBRyxLQUdBSCxHQUFBRyxJQUFBLEVBRUF6MUQsR0FBQSxnTUFBQWsxRCxNQUFBLEtBT0EsU0FBQWtCLEdBQUFDLEdBQ0EsU0FBQUMsRUFBQVYsRUFBQVcsR0FDQSxHQUFBRixFQUFBLENBU0EsSUFBQW5KLEVBQUEwSSxFQUFBelIsV0FDQSxPQUFBK0ksR0FDQUEsRUFBQWpKLFdBQUFzUyxFQUNBWCxFQUFBelIsV0FBQW9TLEdBRUFYLEVBQUExUixZQUFBMFIsRUFBQXpSLFdBQUFvUyxFQUVBQSxFQUFBdFMsV0FBQSxLQUNBc1MsRUFBQXJsQixVQUFBZCxJQUdBLFNBQUFvbUIsRUFBQVosRUFBQWEsR0FDQSxJQUFBSixFQUVBLFlBTUEsSUFEQSxJQUFBRSxFQUFBRSxFQUNBLE9BQUFGLEdBQ0FELEVBQUFWLEVBQUFXLEdBQ0FBLElBQUExa0IsUUFFQSxZQUdBLFNBQUE2a0IsRUFBQWQsRUFBQWEsR0FNQSxJQUhBLElBQUFFLEVBQUEsSUFBQXBULElBRUFxVCxFQUFBSCxFQUNBLE9BQUFHLEdBQ0EsT0FBQUEsRUFBQXBzRSxJQUNBbXNFLEVBQUF2bEUsSUFBQXdsRSxFQUFBcHNFLElBQUFvc0UsR0FFQUQsRUFBQXZsRSxJQUFBd2xFLEVBQUE1bkUsTUFBQTRuRSxHQUVBQSxJQUFBL2tCLFFBRUEsT0FBQThrQixFQUdBLFNBQUFFLEVBQUE1d0IsRUFBQTJkLEVBQUFqQixHQUdBLElBQUFtVSxFQUFBeFMsR0FBQXJlLEVBQUEyZCxFQUFBakIsR0FHQSxPQUZBbVUsRUFBQTluRSxNQUFBLEVBQ0E4bkUsRUFBQWpsQixRQUFBLEtBQ0FpbEIsRUFHQSxTQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUVBLEdBREFGLEVBQUFob0UsTUFBQWtvRSxHQUNBYixFQUVBLE9BQUFZLEVBRUEsSUFBQTFpQyxFQUFBeWlDLEVBQUE3OUIsVUFDQSxVQUFBNUUsRUFBQSxDQUNBLElBQUE0aUMsRUFBQTVpQyxFQUFBdmxDLE1BQ0EsT0FBQW1vRSxFQUFBRixHQUVBRCxFQUFBOWxCLFVBQUFqQixHQUNBZ25CLEdBR0FFLEVBS0EsT0FEQUgsRUFBQTlsQixVQUFBakIsR0FDQWduQixFQUlBLFNBQUFHLEVBQUFKLEdBTUEsT0FIQVgsR0FBQSxPQUFBVyxFQUFBNzlCLFlBQ0E2OUIsRUFBQTlsQixVQUFBakIsSUFFQSttQixFQUdBLFNBQUFLLEVBQUF6QixFQUFBcmhDLEVBQUFvcUIsRUFBQWdFLEdBQ0EsVUFBQXB1QixLQUFBMzJCLE1BQUFvNUIsR0FBQSxDQUVBLElBQUFzZ0MsRUFBQXJTLEdBQUF0RyxFQUFBaVgsRUFBQTdnRSxLQUFBNHRELEdBRUEsT0FEQTJVLEVBQUEsT0FBQTFCLEVBQ0EwQixFQUdBLElBQUFDLEVBQUFWLEVBQUF0aUMsRUFBQW9xQixFQUFBZ0UsR0FFQSxPQURBNFUsRUFBQSxPQUFBM0IsRUFDQTJCLEVBSUEsU0FBQUMsRUFBQTVCLEVBQUFyaEMsRUFBQWdQLEVBQUFvZixHQUNBLFVBQUFwdUIsS0FBQXZ1QyxPQUFBdTlDLEVBQUF2OUMsS0FBQSxDQUVBLElBQUF1eEUsRUFBQVYsRUFBQXRpQyxFQUFBZ1AsRUFBQTd1QyxNQUFBaXVELEdBT0EsT0FOQTRVLEVBQUExVCxJQUFBOFIsR0FBQUMsRUFBQXJoQyxFQUFBZ1AsR0FDQWcwQixFQUFBLE9BQUEzQixFQUVBMkIsRUFBQWp4QixhQUFBL0MsRUFBQXdoQixRQUNBd1MsRUFBQWx4QixZQUFBOUMsRUFBQWloQixPQUVBK1MsRUFHQSxJQUFBRCxFQUFBL1MsR0FBQWhoQixFQUFBcXlCLEVBQUE3Z0UsS0FBQTR0RCxHQUdBLE9BRkEyVSxFQUFBelQsSUFBQThSLEdBQUFDLEVBQUFyaEMsRUFBQWdQLEdBQ0ErekIsRUFBQSxPQUFBMUIsRUFDQTBCLEVBSUEsU0FBQUcsRUFBQTdCLEVBQUFyaEMsRUFBQTZ3QixFQUFBekMsR0FDQSxVQUFBcHVCLEtBQUEzMkIsTUFBQWs1QixJQUFBdkMsRUFBQXFCLFVBQUEraEIsZ0JBQUF5TixFQUFBek4sZUFBQXBqQixFQUFBcUIsVUFBQTB2QixpQkFBQUYsRUFBQUUsZUFBQSxDQUVBLElBQUFnUyxFQUFBblMsR0FBQUMsRUFBQXdRLEVBQUE3Z0UsS0FBQTR0RCxHQUVBLE9BREEyVSxFQUFBLE9BQUExQixFQUNBMEIsRUFHQSxJQUFBQyxFQUFBVixFQUFBdGlDLEVBQUE2d0IsRUFBQVIsYUFBQWpDLEdBRUEsT0FEQTRVLEVBQUEsT0FBQTNCLEVBQ0EyQixFQUlBLFNBQUFHLEVBQUE5QixFQUFBcmhDLEVBQUFvakMsRUFBQWhWLEVBQUFuNEQsR0FDQSxVQUFBK3BDLEtBQUEzMkIsTUFBQXc1QixHQUFBLENBRUEsSUFBQWtnQyxFQUFBM1MsR0FBQWdULEVBQUEvQixFQUFBN2dFLEtBQUE0dEQsRUFBQW40RCxHQUVBLE9BREE4c0UsRUFBQSxPQUFBMUIsRUFDQTBCLEVBR0EsSUFBQUMsRUFBQVYsRUFBQXRpQyxFQUFBb2pDLEVBQUFoVixHQUVBLE9BREE0VSxFQUFBLE9BQUEzQixFQUNBMkIsRUFJQSxTQUFBSyxFQUFBaEMsRUFBQUssRUFBQXRULEdBQ0Esb0JBQUFzVCxHQUFBLGlCQUFBQSxFQUFBLENBSUEsSUFBQXFCLEVBQUFyUyxHQUFBLEdBQUFnUixFQUFBTCxFQUFBN2dFLEtBQUE0dEQsR0FFQSxPQURBMlUsRUFBQSxPQUFBMUIsRUFDQTBCLEVBR0Esb0JBQUFyQixHQUFBLE9BQUFBLEVBQUEsQ0FDQSxPQUFBQSxFQUFBcFIsVUFDQSxLQUFBNWYsR0FFQSxJQUFBNHlCLEVBQUF0VCxHQUFBMFIsRUFBQUwsRUFBQTdnRSxLQUFBNHRELEdBR0EsT0FGQWtWLEVBQUFoVSxJQUFBOFIsR0FBQUMsRUFBQSxLQUFBSyxHQUNBNEIsRUFBQSxPQUFBakMsRUFDQWlDLEVBRUEsS0FBQXp5QixHQUVBLElBQUEweUIsRUFBQTNTLEdBQUE4USxFQUFBTCxFQUFBN2dFLEtBQUE0dEQsR0FFQSxPQURBbVYsRUFBQSxPQUFBbEMsRUFDQWtDLEVBSUEsR0FBQXBDLEdBQUFPLElBQUFwd0IsR0FBQW93QixHQUFBLENBQ0EsSUFBQThCLEVBQUFwVCxHQUFBc1IsRUFBQUwsRUFBQTdnRSxLQUFBNHRELEVBQUEsTUFFQSxPQURBb1YsRUFBQSxPQUFBbkMsRUFDQW1DLEVBR0EvQixHQUFBSixFQUFBSyxHQVNBLE1BTEEsbUJBQUFBLEdBQ0FFLEtBSUEsS0FHQSxTQUFBNkIsRUFBQXBDLEVBQUFxQyxFQUFBaEMsRUFBQXRULEdBR0EsSUFBQW40RCxFQUFBLE9BQUF5dEUsSUFBQXp0RSxJQUFBLEtBRUEsb0JBQUF5ckUsR0FBQSxpQkFBQUEsRUFJQSxjQUFBenJFLEVBQ0EsS0FFQTZzRSxFQUFBekIsRUFBQXFDLEVBQUEsR0FBQWhDLEVBQUF0VCxHQUdBLG9CQUFBc1QsR0FBQSxPQUFBQSxFQUFBLENBQ0EsT0FBQUEsRUFBQXBSLFVBQ0EsS0FBQTVmLEdBRUEsT0FBQWd4QixFQUFBenJFLFFBQ0F5ckUsRUFBQWp3RSxPQUFBcS9DLEdBQ0FxeUIsRUFBQTlCLEVBQUFxQyxFQUFBaEMsRUFBQXZoRSxNQUFBa3dELFNBQUFqQyxFQUFBbjRELEdBRUFndEUsRUFBQTVCLEVBQUFxQyxFQUFBaEMsRUFBQXRULEdBRUEsS0FHQSxLQUFBdmQsR0FFQSxPQUFBNndCLEVBQUF6ckUsUUFDQWl0RSxFQUFBN0IsRUFBQXFDLEVBQUFoQyxFQUFBdFQsR0FFQSxLQUtBLEdBQUErUyxHQUFBTyxJQUFBcHdCLEdBQUFvd0IsR0FDQSxjQUFBenJFLEVBQ0EsS0FHQWt0RSxFQUFBOUIsRUFBQXFDLEVBQUFoQyxFQUFBdFQsRUFBQSxNQUdBcVQsR0FBQUosRUFBQUssR0FTQSxNQUxBLG1CQUFBQSxHQUNBRSxLQUlBLEtBR0EsU0FBQStCLEVBQUF2QixFQUFBZixFQUFBdUMsRUFBQWxDLEVBQUF0VCxHQUNBLG9CQUFBc1QsR0FBQSxpQkFBQUEsRUFJQSxPQUFBb0IsRUFBQXpCLEVBREFlLEVBQUF4MkUsSUFBQWc0RSxJQUFBLEtBQ0EsR0FBQWxDLEVBQUF0VCxHQUdBLG9CQUFBc1QsR0FBQSxPQUFBQSxFQUFBLENBQ0EsT0FBQUEsRUFBQXBSLFVBQ0EsS0FBQTVmLEdBRUEsSUFBQW16QixFQUFBekIsRUFBQXgyRSxJQUFBLE9BQUE4MUUsRUFBQXpyRSxJQUFBMnRFLEVBQUFsQyxFQUFBenJFLE1BQUEsS0FDQSxPQUFBeXJFLEVBQUFqd0UsT0FBQXEvQyxHQUNBcXlCLEVBQUE5QixFQUFBd0MsRUFBQW5DLEVBQUF2aEUsTUFBQWt3RCxTQUFBakMsRUFBQXNULEVBQUF6ckUsS0FFQWd0RSxFQUFBNUIsRUFBQXdDLEVBQUFuQyxFQUFBdFQsR0FFQSxLQUFBdmQsR0FHQSxPQUFBcXlCLEVBQUE3QixFQURBZSxFQUFBeDJFLElBQUEsT0FBQTgxRSxFQUFBenJFLElBQUEydEUsRUFBQWxDLEVBQUF6ckUsTUFBQSxLQUNBeXJFLEVBQUF0VCxHQUlBLEdBQUErUyxHQUFBTyxJQUFBcHdCLEdBQUFvd0IsR0FFQSxPQUFBeUIsRUFBQTlCLEVBREFlLEVBQUF4MkUsSUFBQWc0RSxJQUFBLEtBQ0FsQyxFQUFBdFQsRUFBQSxNQUdBcVQsR0FBQUosRUFBQUssR0FTQSxNQUxBLG1CQUFBQSxHQUNBRSxLQUlBLEtBTUEsU0FBQWtDLEVBQUF6bUIsRUFBQTBtQixHQUVBLG9CQUFBMW1CLEdBQUEsT0FBQUEsRUFDQSxPQUFBMG1CLEVBRUEsT0FBQTFtQixFQUFBaVQsVUFDQSxLQUFBNWYsR0FDQSxLQUFBRyxHQUNBbXdCLEdBQUEzakIsR0FDQSxJQUFBcG5ELEVBQUFvbkQsRUFBQXBuRCxJQUNBLG9CQUFBQSxFQUNBLE1BRUEsVUFBQTh0RSxFQUFBLEVBQ0FBLEVBQUEsSUFBQTdVLEtBQ0FqeUQsSUFBQWhILEdBQ0EsTUFFQSxJQUFBOHRFLEVBQUFwdEUsSUFBQVYsR0FBQSxDQUNBOHRFLEVBQUE5bUUsSUFBQWhILEdBQ0EsTUFFQXdWLEdBQUEsZ1JBQUF4VixFQUFBMHFFLE1BTUEsT0FBQW9ELEVBbWNBLE9BNUVBLFNBQUExQyxFQUFBYSxFQUFBUixFQUFBdFQsR0FTQSxpQkFBQXNULEdBQUEsT0FBQUEsS0FBQWp3RSxPQUFBcS9DLElBQUEsT0FBQTR3QixFQUFBenJFLE1BQ0F5ckUsSUFBQXZoRSxNQUFBa3dELFVBSUEsSUFBQTkrRCxFQUFBLGlCQUFBbXdFLEdBQUEsT0FBQUEsRUFFQSxHQUFBbndFLEVBQ0EsT0FBQW13RSxFQUFBcFIsVUFDQSxLQUFBNWYsR0FDQSxPQUFBbXlCLEVBeEZBLFNBQUF4QixFQUFBYSxFQUFBbHpCLEVBQUFvZixHQUdBLElBRkEsSUFBQW40RCxFQUFBKzRDLEVBQUEvNEMsSUFDQW9uRCxFQUFBNmtCLEVBQ0EsT0FBQTdrQixHQUFBLENBR0EsR0FBQUEsRUFBQXBuRCxRQUFBLENBQ0EsR0FBQW9uRCxFQUFBaDBDLE1BQUF3NUIsR0FBQW1NLEVBQUF2OUMsT0FBQXEvQyxHQUFBdU0sRUFBQTVyRCxPQUFBdTlDLEVBQUF2OUMsS0FBQSxDQUNBd3dFLEVBQUFaLEVBQUFoa0IsRUFBQUMsU0FDQSxJQUFBMGxCLEVBQUFWLEVBQUFqbEIsRUFBQXJPLEVBQUF2OUMsT0FBQXEvQyxHQUFBOUIsRUFBQTd1QyxNQUFBa3dELFNBQUFyaEIsRUFBQTd1QyxNQUFBaXVELEdBT0EsT0FOQTRVLEVBQUExVCxJQUFBOFIsR0FBQUMsRUFBQWhrQixFQUFBck8sR0FDQWcwQixFQUFBLE9BQUEzQixFQUVBMkIsRUFBQWp4QixhQUFBL0MsRUFBQXdoQixRQUNBd1MsRUFBQWx4QixZQUFBOUMsRUFBQWloQixPQUVBK1MsRUFFQWYsRUFBQVosRUFBQWhrQixHQUNBLE1BR0Ewa0IsRUFBQVYsRUFBQWhrQixHQUVBQSxJQUFBQyxRQUdBLEdBQUF0TyxFQUFBdjlDLE9BQUFxL0MsR0FBQSxDQUNBLElBQUFpeUIsRUFBQTNTLEdBQUFwaEIsRUFBQTd1QyxNQUFBa3dELFNBQUFnUixFQUFBN2dFLEtBQUE0dEQsRUFBQXBmLEVBQUEvNEMsS0FFQSxPQURBOHNFLEVBQUEsT0FBQTFCLEVBQ0EwQixFQUVBLElBQUFpQixFQUFBaFUsR0FBQWhoQixFQUFBcXlCLEVBQUE3Z0UsS0FBQTR0RCxHQUdBLE9BRkE0VixFQUFBMVUsSUFBQThSLEdBQUFDLEVBQUFhLEVBQUFsekIsR0FDQWcxQixFQUFBLE9BQUEzQyxFQUNBMkMsRUFxREFDLENBQUE1QyxFQUFBYSxFQUFBUixFQUFBdFQsSUFDQSxLQUFBdmQsR0FDQSxPQUFBZ3lCLEVBbkRBLFNBQUF4QixFQUFBYSxFQUFBclIsRUFBQXpDLEdBR0EsSUFGQSxJQUFBbjRELEVBQUE0NkQsRUFBQTU2RCxJQUNBb25ELEVBQUE2a0IsRUFDQSxPQUFBN2tCLEdBQUEsQ0FHQSxHQUFBQSxFQUFBcG5ELFFBQUEsQ0FDQSxHQUFBb25ELEVBQUFoMEMsTUFBQWs1QixJQUFBOGEsRUFBQWhjLFVBQUEraEIsZ0JBQUF5TixFQUFBek4sZUFBQS9GLEVBQUFoYyxVQUFBMHZCLGlCQUFBRixFQUFBRSxlQUFBLENBQ0FrUixFQUFBWixFQUFBaGtCLEVBQUFDLFNBQ0EsSUFBQTBsQixFQUFBVixFQUFBamxCLEVBQUF3VCxFQUFBUixhQUFBakMsR0FFQSxPQURBNFUsRUFBQSxPQUFBM0IsRUFDQTJCLEVBRUFmLEVBQUFaLEVBQUFoa0IsR0FDQSxNQUdBMGtCLEVBQUFWLEVBQUFoa0IsR0FFQUEsSUFBQUMsUUFHQSxJQUFBeWxCLEVBQUFuUyxHQUFBQyxFQUFBd1EsRUFBQTdnRSxLQUFBNHRELEdBRUEsT0FEQTJVLEVBQUEsT0FBQTFCLEVBQ0EwQixFQTJCQW1CLENBQUE3QyxFQUFBYSxFQUFBUixFQUFBdFQsSUFJQSxvQkFBQXNULEdBQUEsaUJBQUFBLEVBQ0EsT0FBQW1CLEVBbEhBLFNBQUF4QixFQUFBYSxFQUFBOVgsRUFBQWdFLEdBR0EsVUFBQThULEtBQUE3NEQsTUFBQW81QixHQUFBLENBR0F3L0IsRUFBQVosRUFBQWEsRUFBQTVrQixTQUNBLElBQUEwbEIsRUFBQVYsRUFBQUosRUFBQTlYLEVBQUFnRSxHQUVBLE9BREE0VSxFQUFBLE9BQUEzQixFQUNBMkIsRUFJQWYsRUFBQVosRUFBQWEsR0FDQSxJQUFBYSxFQUFBclMsR0FBQXRHLEVBQUFpWCxFQUFBN2dFLEtBQUE0dEQsR0FFQSxPQURBMlUsRUFBQSxPQUFBMUIsRUFDQTBCLEVBa0dBb0IsQ0FBQTlDLEVBQUFhLEVBQUEsR0FBQVIsRUFBQXRULElBR0EsR0FBQStTLEdBQUFPLEdBQ0EsT0FsWkEsU0FBQUwsRUFBQWEsRUFBQWtDLEVBQUFoVyxHQXVCQSxJQURBLElBQUEyVixFQUFBLEtBQ0FqNUUsRUFBQSxFQUFxQkEsRUFBQXM1RSxFQUFBLzJFLE9BQXdCdkMsSUFFN0NpNUUsRUFBQUQsRUFEQU0sRUFBQXQ1RSxHQUNBaTVFLEdBV0EsSUFQQSxJQUFBTSxFQUFBLEtBQ0FDLEVBQUEsS0FFQVosRUFBQXhCLEVBQ0FRLEVBQUEsRUFDQWtCLEVBQUEsRUFDQVcsRUFBQSxLQUNVLE9BQUFiLEdBQUFFLEVBQUFRLEVBQUEvMkUsT0FBa0R1MkUsSUFBQSxDQUM1REYsRUFBQWpwRSxNQUFBbXBFLEdBQ0FXLEVBQUFiLEVBQ0FBLEVBQUEsTUFFQWEsRUFBQWIsRUFBQXBtQixRQUVBLElBQUFtbEIsRUFBQWdCLEVBQUFwQyxFQUFBcUMsRUFBQVUsRUFBQVIsR0FBQXhWLEdBQ0EsVUFBQXFVLEVBQUEsQ0FLQSxPQUFBaUIsSUFDQUEsRUFBQWEsR0FFQSxNQUVBekMsR0FDQTRCLEdBQUEsT0FBQWpCLEVBQUE3OUIsV0FHQW05QixFQUFBVixFQUFBcUMsR0FHQWhCLEVBQUFGLEVBQUFDLEVBQUFDLEVBQUFrQixHQUNBLE9BQUFVLEVBRUFELEVBQUE1QixFQU1BNkIsRUFBQWhuQixRQUFBbWxCLEVBRUE2QixFQUFBN0IsRUFDQWlCLEVBQUFhLEVBR0EsR0FBQVgsSUFBQVEsRUFBQS8yRSxPQUdBLE9BREE0MEUsRUFBQVosRUFBQXFDLEdBQ0FXLEVBR0EsVUFBQVgsRUFBQSxDQUdBLEtBQVlFLEVBQUFRLEVBQUEvMkUsT0FBNkJ1MkUsSUFBQSxDQUN6QyxJQUFBWSxFQUFBbkIsRUFBQWhDLEVBQUErQyxFQUFBUixHQUFBeFYsR0FDQW9XLElBR0E5QixFQUFBRixFQUFBZ0MsRUFBQTlCLEVBQUFrQixHQUNBLE9BQUFVLEVBRUFELEVBQUFHLEVBRUFGLEVBQUFobkIsUUFBQWtuQixFQUVBRixFQUFBRSxHQUVBLE9BQUFILEVBT0EsSUFIQSxJQUFBakMsRUFBQUQsRUFBQWQsRUFBQXFDLEdBR1VFLEVBQUFRLEVBQUEvMkUsT0FBNkJ1MkUsSUFBQSxDQUN2QyxJQUFBYSxFQUFBZCxFQUFBdkIsRUFBQWYsRUFBQXVDLEVBQUFRLEVBQUFSLEdBQUF4VixHQUNBcVcsSUFDQTNDLEdBQ0EsT0FBQTJDLEVBQUE3L0IsV0FLQXc5QixFQUFBLGNBQUFxQyxFQUFBeHVFLElBQUEydEUsRUFBQWEsRUFBQXh1RSxLQUdBeXNFLEVBQUFGLEVBQUFpQyxFQUFBL0IsRUFBQWtCLEdBQ0EsT0FBQVUsRUFDQUQsRUFBQUksRUFFQUgsRUFBQWhuQixRQUFBbW5CLEVBRUFILEVBQUFHLEdBWUEsT0FSQTNDLEdBR0FNLEVBQUF0dUUsUUFBQSxTQUFBdXBELEdBQ0EsT0FBQTBrQixFQUFBVixFQUFBaGtCLEtBSUFnbkIsRUEwUUFLLENBQUFyRCxFQUFBYSxFQUFBUixFQUFBdFQsR0FHQSxHQUFBOWMsR0FBQW93QixHQUNBLE9BM1FBLFNBQUFMLEVBQUFhLEVBQUF5QyxFQUFBdlcsR0FJQSxJQUFBd1csRUFBQXR6QixHQUFBcXpCLEdBQ0EsbUJBQUFDLEdBQUF6MUQsR0FBQSx3R0FJQSxtQkFBQXcxRCxFQUFBcDJELFNBQ0FvMkQsRUFDQXAyRCxVQUFBcTJELElBQ0FuNUQsRUFBQW0xRCxHQUFBLHNKQUFBRCxNQUNBQyxJQUFBLEdBTUEsSUFBQWlFLEVBQUFELEVBQUEzNUUsS0FBQTA1RSxHQUNBLEdBQUFFLEVBR0EsSUFGQSxJQUFBZCxFQUFBLEtBQ0FlLEVBQUFELEVBQUFuZ0UsUUFDY29nRSxFQUFBdnZELEtBQWF1dkQsRUFBQUQsRUFBQW5nRSxPQUUzQnEvRCxFQUFBRCxFQURBZ0IsRUFBQWg1RSxNQUNBaTRFLEdBS0EsSUFBQUssRUFBQVEsRUFBQTM1RSxLQUFBMDVFLEdBQ0EsTUFBQVAsR0FBQWoxRCxHQUFBLDhDQVdBLElBVEEsSUFBQWsxRCxFQUFBLEtBQ0FDLEVBQUEsS0FFQVosRUFBQXhCLEVBQ0FRLEVBQUEsRUFDQWtCLEVBQUEsRUFDQVcsRUFBQSxLQUVBaDNFLEVBQUE2MkUsRUFBQTEvRCxPQUNVLE9BQUFnL0QsSUFBQW4yRSxFQUFBZ29CLEtBQWlDcXVELElBQUFyMkUsRUFBQTYyRSxFQUFBMS9ELE9BQUEsQ0FDM0NnL0QsRUFBQWpwRSxNQUFBbXBFLEdBQ0FXLEVBQUFiLEVBQ0FBLEVBQUEsTUFFQWEsRUFBQWIsRUFBQXBtQixRQUVBLElBQUFtbEIsRUFBQWdCLEVBQUFwQyxFQUFBcUMsRUFBQW4yRSxFQUFBekIsTUFBQXNpRSxHQUNBLFVBQUFxVSxFQUFBLENBS0FpQixJQUNBQSxFQUFBYSxHQUVBLE1BRUF6QyxHQUNBNEIsR0FBQSxPQUFBakIsRUFBQTc5QixXQUdBbTlCLEVBQUFWLEVBQUFxQyxHQUdBaEIsRUFBQUYsRUFBQUMsRUFBQUMsRUFBQWtCLEdBQ0EsT0FBQVUsRUFFQUQsRUFBQTVCLEVBTUE2QixFQUFBaG5CLFFBQUFtbEIsRUFFQTZCLEVBQUE3QixFQUNBaUIsRUFBQWEsRUFHQSxHQUFBaDNFLEVBQUFnb0IsS0FHQSxPQURBMHNELEVBQUFaLEVBQUFxQyxHQUNBVyxFQUdBLFVBQUFYLEVBQUEsQ0FHQSxNQUFZbjJFLEVBQUFnb0IsS0FBWXF1RCxJQUFBcjJFLEVBQUE2MkUsRUFBQTEvRCxPQUFBLENBQ3hCLElBQUFxZ0UsRUFBQTFCLEVBQUFoQyxFQUFBOXpFLEVBQUF6QixNQUFBc2lFLEdBQ0EsT0FBQTJXLElBR0FyQyxFQUFBRixFQUFBdUMsRUFBQXJDLEVBQUFrQixHQUNBLE9BQUFVLEVBRUFELEVBQUFVLEVBRUFULEVBQUFobkIsUUFBQXluQixFQUVBVCxFQUFBUyxHQUVBLE9BQUFWLEVBT0EsSUFIQSxJQUFBakMsRUFBQUQsRUFBQWQsRUFBQXFDLElBR1VuMkUsRUFBQWdvQixLQUFZcXVELElBQUFyMkUsRUFBQTYyRSxFQUFBMS9ELE9BQUEsQ0FDdEIsSUFBQXNnRSxFQUFBckIsRUFBQXZCLEVBQUFmLEVBQUF1QyxFQUFBcjJFLEVBQUF6QixNQUFBc2lFLEdBQ0EsT0FBQTRXLElBQ0FsRCxHQUNBLE9BQUFrRCxFQUFBcGdDLFdBS0F3OUIsRUFBQSxjQUFBNEMsRUFBQS91RSxJQUFBMnRFLEVBQUFvQixFQUFBL3VFLEtBR0F5c0UsRUFBQUYsRUFBQXdDLEVBQUF0QyxFQUFBa0IsR0FDQSxPQUFBVSxFQUNBRCxFQUFBVyxFQUVBVixFQUFBaG5CLFFBQUEwbkIsRUFFQVYsRUFBQVUsR0FZQSxPQVJBbEQsR0FHQU0sRUFBQXR1RSxRQUFBLFNBQUF1cEQsR0FDQSxPQUFBMGtCLEVBQUFWLEVBQUFoa0IsS0FJQWduQixFQTZIQVksQ0FBQTVELEVBQUFhLEVBQUFSLEVBQUF0VCxHQVlBLEdBVEE3OEQsR0FDQWt3RSxHQUFBSixFQUFBSyxHQUlBLG1CQUFBQSxHQUNBRSxVQUdBLElBQUFGLEVBSUEsT0FBQUwsRUFBQWg0RCxLQUNBLEtBQUFnNUIsRUFJQSxHQURBZy9CLEVBQUFoZ0MsVUFDQWpvQixPQUFBOHJELGdCQUVBLE1BT0EsS0FBQTlpQyxFQUVBLElBQUE5b0IsRUFBQStuRCxFQUFBNXZFLEtBQ0EwZCxHQUFBLHFJQUFBbUssRUFBQXE0QixhQUFBcjRCLEVBQUFqdUIsTUFBQSxhQU1BLE9BQUE0MkUsRUFBQVosRUFBQWEsSUFNQSxJQUFBaUQsR0FBQXRELElBQUEsR0FDQXVELEdBQUF2RCxJQUFBLEdBc0JBLElBQUF3RCxRQUFBLEVBQ0FDLFFBQUEsRUFDQUMsUUFBQSxFQUdBRixNQUNBQyxNQUNBQyxNQUdBLElBQUFDLEdBQUEsU0FBQWxtRSxFQUFBbW1FLEVBQUFoSyxFQUFBbUIsRUFBQThJLEVBQUFoSyxFQUFBQyxHQUNBLElBQUFnSyxFQUFBcm1FLEVBQUFxbUUscUJBQ0FDLEVBQUF0bUUsRUFBQXNtRSwwQkFDQUMsRUFBQUosRUFBQUksZ0JBQ0FDLEVBQUFMLEVBQUFLLGtCQUNBQyxFQUFBbkosRUFBQW1KLGFBQ0FoSyxFQUFBTixFQUFBTSxpQkFDQUMsRUFBQVAsRUFBQU8sbUJBQ0FnSyxFQUFBdkssRUFBQVMsa0JBQ0ErSixFQUFBeEssRUFBQXlLLG9CQUNBQyxFQUFBMUssRUFBQTBLLDBCQUNBQyxFQUFBM0ssRUFBQTJLLDBCQUNBQyxFQUFBWCxFQUFBVyxvQkFDQUMsRUFBQVosRUFBQVksb0JBQ0FDLEVBQUFiLEVBQUFhLGlDQUVBQyxFQUFBaEwsR0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQW9CLEVBQUF1SixFQUFBdkosbUJBQ0FHLEVBQUFvSixFQUFBcEosNkJBQ0FHLEVBQUFpSixFQUFBakosdUJBQ0FTLEVBQUF3SSxFQUFBeEksbUJBQ0FnQyxFQUFBd0csRUFBQXhHLHlCQUNBUSxFQUFBZ0csRUFBQWhHLG9CQUtBLFNBQUFpRyxFQUFBem1DLEVBQUFpUyxFQUFBeTBCLEdBQ0FDLEVBQUEzbUMsRUFBQWlTLEVBQUF5MEIsRUFBQXowQixFQUFBbWMsZ0JBR0EsU0FBQXVZLEVBQUEzbUMsRUFBQWlTLEVBQUF5MEIsRUFBQTVNLEdBTUE3bkIsRUFBQW9MLE1BTEEsT0FBQXJkLEVBS0FvbEMsR0FBQW56QixFQUFBLEtBQUF5MEIsRUFBQTVNLEdBUUFxTCxHQUFBbHpCLEVBQUFqUyxFQUFBcWQsTUFBQXFwQixFQUFBNU0sR0FzQ0EsU0FBQThNLEVBQUE1bUMsRUFBQWlTLEdBQ0EsSUFBQXFkLEVBQUFyZCxFQUFBcWQsS0FDQSxPQUFBdHZCLEdBQUEsT0FBQXN2QixHQUFBLE9BQUF0dkIsS0FBQXN2QixXQUVBcmQsRUFBQTBLLFdBQUFWLElBc0VBLFNBQUE0cUIsRUFBQTdtQyxFQUFBaVMsRUFBQTZxQixFQUFBZ0ssRUFBQUMsRUFBQWpOLEdBSUEsR0FGQThNLEVBQUE1bUMsRUFBQWlTLElBRUE2cUIsSUFBQWlLLEVBTUEsT0FKQUQsR0FDQVYsRUFBQW4wQixHQUFBLEdBR0ErMEIsRUFBQWhuQyxFQUFBaVMsR0FHQSxJQUFBbXBCLEVBQUFucEIsRUFBQXhnRCxLQUNBNGxCLEVBQUE0NkIsRUFBQTVRLFVBR0E4TyxHQUFBblEsUUFBQWlTLEVBQ0EsSUFBQXkwQixPQUFBLEVBeUNBLE9BeENBSyxHQUFBbFMsSUFBQSxtQkFBQXVHLEVBQUFFLDBCQVNBbHBCLEdBQUFJLGdCQUFBLFVBQ0FrMEIsRUFBQXJ2RCxFQUFBK0IsVUFDQTA3QyxJQUFBQyxJQUFBOWlCLEVBQUF6eEMsS0FBQW91RCxLQUNBdjNDLEVBQUErQixTQUVBZzVCLEdBQUFJLGdCQUFBLE9BUkFrMEIsRUFBQSxLQWFBejBCLEVBQUEwSyxXQUFBbEIsR0FDQXNyQixJQUdBSixFQUFBM21DLEVBQUFpUyxFQUFBLEtBQUE2bkIsR0FDQTduQixFQUFBb0wsTUFBQSxNQUtBc3BCLEVBQUEzbUMsRUFBQWlTLEVBQUF5MEIsRUFBQTVNLEdBR0ErQixFQUFBNXBCLEVBQUE1NkIsRUFBQW9CLE9BQ0FtakQsRUFBQTNwQixFQUFBNTZCLEVBQUFsWCxPQUdBMm1FLEdBQ0FWLEVBQUFuMEIsR0FBQSxHQUdBQSxFQUFBb0wsTUFHQSxTQUFBNHBCLEVBQUFoMUIsR0FDQSxJQUFBd1IsRUFBQXhSLEVBQUE1USxVQUNBb2lCLEVBQUErTixlQUNBMlUsRUFBQWwwQixFQUFBd1IsRUFBQStOLGVBQUEvTixFQUFBK04saUJBQUEvTixFQUFBamhDLFNBQ0tpaEMsRUFBQWpoQyxTQUVMMmpELEVBQUFsMEIsRUFBQXdSLEVBQUFqaEMsU0FBQSxHQUVBc2pELEVBQUE3ekIsRUFBQXdSLEVBQUFMLGVBMlFBLFNBQUE4akIsRUFBQWoxQixFQUFBenZCLEVBQUEya0QsRUFBQXJOLEdBQ0EsSUFBQXBvQixFQUFBTyxFQUFBb0wsTUFLQSxJQUpBLE9BQUEzTCxJQUVBQSxFQUFBLE9BQUFPLEdBRUEsT0FBQVAsR0FBQSxDQUNBLElBQUEwMUIsT0FBQSxFQUVBLE9BQUExMUIsRUFBQXJvQyxLQUNBLEtBQUEwNUIsR0FFQSxJQUFBc2tDLEVBQUEsRUFBQTMxQixFQUFBclEsVUFDQSxHQUFBcVEsRUFBQWpnRCxPQUFBK3dCLEdBQUEsSUFBQTZrRCxFQUFBRixHQUFBLENBSUEsSUFEQSxJQUFBeGhELEVBQUErckIsRUFDQSxPQUFBL3JCLEdBQUEsQ0FDQSxJQUFBaWYsRUFBQWpmLEVBQUFpZixVQUNBLEdBQUFqZixFQUFBeW9DLGlCQUFBUCxJQUFBbG9DLEVBQUF5b0MsZUFBQTBMLEVBQ0FuMEMsRUFBQXlvQyxlQUFBMEwsRUFDQSxPQUFBbDFCLE1BQUF3cEIsaUJBQUFQLElBQUFqcEIsRUFBQXdwQixlQUFBMEwsS0FDQWwxQixFQUFBd3BCLGVBQUEwTCxPQUVlLFdBQUFsMUIsT0FBQXdwQixpQkFBQVAsSUFBQWpwQixFQUFBd3BCLGVBQUEwTCxHQUtmLE1BSkFsMUIsRUFBQXdwQixlQUFBMEwsRUFNQW4wQyxJQUFBLE9BS0F5aEQsRUFBQSxVQUdBQSxFQUFBMTFCLEVBQUEyTCxNQUVBLE1BQ0EsS0FBQXJhLEdBRUFva0MsRUFBQTExQixFQUFBamdELE9BQUF3Z0QsRUFBQXhnRCxLQUFBLEtBQUFpZ0QsRUFBQTJMLE1BQ0EsTUFDQSxRQUVBK3BCLEVBQUExMUIsRUFBQTJMLE1BR0EsVUFBQStwQixFQUVBQSxFQUFBLE9BQUExMUIsT0FJQSxJQURBMDFCLEVBQUExMUIsRUFDQSxPQUFBMDFCLEdBQUEsQ0FDQSxHQUFBQSxJQUFBbjFCLEVBQUEsQ0FFQW0xQixFQUFBLEtBQ0EsTUFFQSxJQUFBOXBCLEVBQUE4cEIsRUFBQTlwQixRQUNBLFVBQUFBLEVBQUEsQ0FDQThwQixFQUFBOXBCLEVBQ0EsTUFHQThwQixJQUFBLE9BR0ExMUIsRUFBQTAxQixHQThJQSxTQUFBSixFQUFBaG5DLEVBQUFpUyxHQWtCQSxPQWpCQTBsQixHQUFBMWxCLEdBbnVCQSxTQUFBalMsRUFBQWlTLEdBR0EsR0FGQSxPQUFBalMsR0FBQWlTLEVBQUFvTCxRQUFBcmQsRUFBQXFkLE9BQUFsdUMsR0FBQSx3Q0FFQSxPQUFBOGlDLEVBQUFvTCxNQUFBLENBSUEsSUFBQWlxQixFQUFBcjFCLEVBQUFvTCxNQUNBcWtCLEVBQUEzUixHQUFBdVgsSUFBQWpZLGFBQUFpWSxFQUFBbFosZ0JBSUEsSUFIQW5jLEVBQUFvTCxNQUFBcWtCLEVBRUFBLEVBQUEsT0FBQXp2QixFQUNBLE9BQUFxMUIsRUFBQWhxQixTQUNBZ3FCLElBQUFocUIsU0FDQW9rQixJQUFBcGtCLFFBQUF5UyxHQUFBdVgsSUFBQWpZLGFBQUFpWSxFQUFBbFosaUJBQ0EsT0FBQW5jLEVBRUF5dkIsRUFBQXBrQixRQUFBLE1Ba3VCQWlxQixDQUFBdm5DLEVBQUFpUyxHQUNBQSxFQUFBb0wsTUE0QkEsU0FBQXVlLEVBQUEzcEIsRUFBQW9yQixHQUNBcHJCLEVBQUFzZCxjQUFBOE4sRUFHQSxTQUFBeEIsRUFBQTVwQixFQUFBdTFCLEdBQ0F2MUIsRUFBQXdkLGNBQUErWCxFQWtEQSxPQUNBQyxVQTlDQSxTQUFBem5DLEVBQUFpUyxFQUFBNm5CLEdBQ0EsR0FBQTduQixFQUFBbWMsaUJBQUFQLElBQUE1YixFQUFBbWMsZUFBQTBMLEVBQ0EsT0FyQ0EsU0FBQTk1QixFQUFBaVMsR0FLQSxPQUpBMGxCLEdBQUExbEIsR0FJQUEsRUFBQTVvQyxLQUNBLEtBQUFpNUIsRUFDQTJrQyxFQUFBaDFCLEdBQ0EsTUFDQSxLQUFBNVAsRUFDQTRqQyxFQUFBaDBCLEdBQ0EsTUFDQSxLQUFBMVAsR0FDQXVqQyxFQUFBN3pCLElBQUE1USxVQUFBK2hCLGVBQ0EsTUFDQSxLQUFBcGdCLEdBQ0EraUMsRUFBQTl6QixHQUtBLFlBZ0JBeTFCLENBQUExbkMsRUFBQWlTLEdBR0EsT0FBQUEsRUFBQTVvQyxLQUNBLEtBQUE4NEIsRUFDQSxPQW5hQSxTQUFBbkMsRUFBQWlTLEVBQUE2bkIsR0FDQSxPQUFBOTVCLEdBQUE3d0IsR0FBQSxnSUFDQSxJQUtBcmpCLEVBTEE2ZSxFQUFBc25DLEVBQUF4Z0QsS0FDQTBPLEVBQUE4eEMsRUFBQW9kLGFBQ0FtTyxFQUFBeEIsRUFBQS9wQixHQUNBenZCLEVBQUF1NUMsRUFBQTlwQixFQUFBdXJCLEdBS0EsR0FBQTd5RCxFQUFBeGUsV0FBQSxtQkFBQXdlLEVBQUF4ZSxVQUFBaXRCLE9BQUEsQ0FDQSxJQUFBNUosRUFBQWlpQyxHQUFBUSxJQUFBLFVBRUFvekIsR0FBQTcxRCxLQUNBL0QsR0FBQSwyS0FBQStELEtBQ0E2MUQsR0FBQTcxRCxJQUFBLEdBU0EsR0FOQTJnQyxHQUFBblEsUUFBQWlTLEVBQ0FubUQsRUFBQTZlLEVBQUF4SyxFQUFBcWlCLEdBR0F5dkIsRUFBQTBLLFdBQUFsQixHQUVBLGlCQUFBM3ZELEdBQUEsT0FBQUEsR0FBQSxtQkFBQUEsRUFBQXN0QixhQUFBOW5CLElBQUF4RixFQUFBd2tFLFNBQUEsQ0FDQSxJQUFBaDNDLEVBQUEyNEIsRUFBQXhnRCxLQU9BLEdBSkF3Z0QsRUFBQTVvQyxJQUFBZzVCLEVBRUE0UCxFQUFBd2QsY0FBQSxPQUFBM2pFLEVBQUEyc0IsWUFBQW5uQixJQUFBeEYsRUFBQTJzQixNQUFBM3NCLEVBQUEyc0IsTUFBQSxLQUVBLG1CQUFBYSxFQUFBZ2tELHlCQUFBLENBQ0EsSUFBQTFELEVBQUF3RCxFQUFBbnJCLEVBQUFubUQsRUFBQXFVLEVBQUE4eEMsRUFBQXdkLGVBRUEsT0FBQW1LLFFBQUF0b0UsSUFBQXNvRSxJQUNBM25CLEVBQUF3ZCxjQUFBOWlFLEtBQW1Ec2xELEVBQUF3ZCxjQUFBbUssSUFPbkQsSUFBQWtOLEVBQUFiLEVBQUFoMEIsR0FHQSxPQUZBZ3JCLEVBQUFockIsRUFBQW5tRCxHQUNBa3lFLEVBQUEvckIsRUFBQTZuQixHQUNBK00sRUFBQTdtQyxFQUFBaVMsR0FBQSxFQUFBNjBCLEdBQUEsRUFBQWhOLEdBR0E3bkIsRUFBQTVvQyxJQUFBKzRCLEVBRUEsSUFBQXVsQyxFQUFBMTFCLEVBQUF4Z0QsS0FLQSxHQUhBazJFLEdBQ0FsOEQsR0FBQWs4RCxFQUFBaEksa0JBQUEsMEVBQUFnSSxFQUFBaDJCLGFBQUFnMkIsRUFBQXQ4RSxNQUFBLGFBRUEsT0FBQTRtRCxFQUFBcWQsSUFBQSxDQUNBLElBQUFwZCxFQUFBLEdBQ0E1QixFQUFBOEIsR0FBQUssMkJBQ0FuQyxJQUNBNEIsR0FBQSxtQ0FBQTVCLEVBQUEsTUFHQSxJQUFBczNCLEVBQUF0M0IsR0FBQTJCLEVBQUE0ZCxVQUFBLEdBQ0FnWSxFQUFBNTFCLEVBQUFGLGFBQ0E4MUIsSUFDQUQsRUFBQUMsRUFBQXQzQixTQUFBLElBQUFzM0IsRUFBQXIzQixZQUVBKzBCLEdBQUFxQyxLQUNBckMsR0FBQXFDLElBQUEsRUFDQW44RCxHQUFBLG1HQUFBeW1DLEVBQUFFLEdBQUFNLGlDQUlBLHNCQUFBL25DLEVBQUEyeUQseUJBQUEsQ0FDQSxJQUFBUSxFQUFBcnNCLEdBQUFRLElBQUEsVUFFQXF6QixHQUFBeEgsS0FDQXJ5RCxHQUFBLGlGQUFBcXlELEdBQ0F3SCxHQUFBeEgsSUFBQSxHQU1BLE9BRkEySSxFQUFBem1DLEVBQUFpUyxFQUFBbm1ELEdBQ0E4dkUsRUFBQTNwQixFQUFBOXhDLEdBQ0E4eEMsRUFBQW9MLE1BOFVBeXFCLENBQUE5bkMsRUFBQWlTLEVBQUE2bkIsR0FDQSxLQUFBMTNCLEVBQ0EsT0ExcUJBLFNBQUFwQyxFQUFBaVMsR0FDQSxJQUFBdG5DLEVBQUFzbkMsRUFBQXhnRCxLQUNBNHJFLEVBQUFwckIsRUFBQW9kLGFBRUEsR0FBQTJXLFVBSUEsR0FBQS96QixFQUFBc2QsZ0JBQUE4TixFQUNBLE9BQUEySixFQUFBaG5DLEVBQUFpUyxHQU1BLElBR0F5MEIsRUFIQWxKLEVBQUF4QixFQUFBL3BCLEdBQ0F6dkIsRUFBQXU1QyxFQUFBOXBCLEVBQUF1ckIsR0FjQSxPQVRBcnRCLEdBQUFuUSxRQUFBaVMsRUFDQUcsR0FBQUksZ0JBQUEsVUFDQWswQixFQUFBLzdELEVBQUEweUQsRUFBQTc2QyxHQUNBNHZCLEdBQUFJLGdCQUFBLE1BR0FQLEVBQUEwSyxXQUFBbEIsR0FDQWdyQixFQUFBem1DLEVBQUFpUyxFQUFBeTBCLEdBQ0E5SyxFQUFBM3BCLEVBQUFvckIsR0FDQXByQixFQUFBb0wsTUE0b0JBMHFCLENBQUEvbkMsRUFBQWlTLEdBQ0EsS0FBQTVQLEVBQ0EsT0Ezb0JBLFNBQUFyQyxFQUFBaVMsRUFBQTZuQixHQUlBLElBQUFnTixFQUFBYixFQUFBaDBCLEdBQ0E2cUIsT0FBQSxFQUNBLE9BQUE5OEIsRUFDQSxPQUFBaVMsRUFBQTVRLFdBRUFrOEIsRUFBQXRyQixJQUFBb2QsY0FDQTJPLEVBQUEvckIsRUFBQTZuQixHQUVBZ0QsR0FBQSxHQUdBQSxFQUFBa0QsRUFBQS90QixFQUFBNm5CLEdBR0FnRCxFQUFBMEQsRUFBQXhnQyxFQUFBaVMsRUFBQTZuQixHQU1BLElBQUFpTixHQUFBLEVBQ0F2WCxFQUFBdmQsRUFBQXVkLFlBS0EsT0FKQSxPQUFBQSxHQUFBLE9BQUFBLEVBQUF1SixpQkFDQStELEdBQUEsRUFDQWlLLEdBQUEsR0FFQUYsRUFBQTdtQyxFQUFBaVMsRUFBQTZxQixFQUFBZ0ssRUFBQUMsRUFBQWpOLEdBNm1CQWtPLENBQUFob0MsRUFBQWlTLEVBQUE2bkIsR0FDQSxLQUFBeDNCLEVBQ0EsT0FuaUJBLFNBQUF0QyxFQUFBaVMsRUFBQTZuQixHQUNBbU4sRUFBQWgxQixHQUNBLElBQUF1ZCxFQUFBdmQsRUFBQXVkLFlBQ0EsVUFBQUEsRUFBQSxDQUNBLElBQUFtSyxFQUFBMW5CLEVBQUF3ZCxjQUNBaDNDLEVBQUFvaEQsR0FBQTc1QixFQUFBaVMsRUFBQXVkLEVBQUEsVUFBQXNLLEdBQ0ErQixFQUFBNXBCLEVBQUF4NUIsR0FHQSxJQUFBdTJCLE9BQUEsRUFDQSxXQUhBd2dCLEVBQUF2ZCxFQUFBdWQsY0FHQSxPQUFBQSxFQUFBdUosZUFFQS9wQixFQUFBLFNBQ08sSUFBQTJxQixJQUFBbGhELEVBSVAsT0FEQTZ0RCxJQUNBVSxFQUFBaG5DLEVBQUFpUyxHQUVBakQsRUFBQXYyQixFQUFBdTJCLFFBRUEsSUFBQXlVLEVBQUF4UixFQUFBNVEsVUF3QkEsT0F2QkEsT0FBQXJCLEdBQUEsT0FBQUEsRUFBQXFkLFFBQUFvRyxFQUFBME4sU0FBQWtWLEVBQUFwMEIsSUFVQUEsRUFBQTBLLFdBQUFqQixHQUtBekosRUFBQW9MLE1BQUErbkIsR0FBQW56QixFQUFBLEtBQUFqRCxFQUFBOHFCLEtBSUF3TSxJQUNBRyxFQUFBem1DLEVBQUFpUyxFQUFBakQsSUFFQTZzQixFQUFBNXBCLEVBQUF4NUIsR0FDQXc1QixFQUFBb0wsTUFJQSxPQUZBaXBCLElBRUFVLEVBQUFobkMsRUFBQWlTLEdBa2ZBZzJCLENBQUFqb0MsRUFBQWlTLEVBQUE2bkIsR0FDQSxLQUFBdDNCLEdBQ0EsT0FqZkEsU0FBQXhDLEVBQUFpUyxFQUFBNm5CLEdBQ0ErTCxFQUFBNXpCLEdBRUEsT0FBQWpTLEdBQ0F1bUMsRUFBQXQwQixHQUdBLElBQUF4Z0QsRUFBQXdnRCxFQUFBeGdELEtBQ0E4OUQsRUFBQXRkLEVBQUFzZCxjQUNBOE4sRUFBQXByQixFQUFBb2QsYUFDQTZZLEVBQUEsT0FBQWxvQyxJQUFBdXZCLGNBQUEsS0FFQSxHQUFBeVcsVUFHSyxHQUFBelcsSUFBQThOLEVBQUEsQ0FDTCxJQUFBOEssRUFBQWwyQixFQUFBenhDLEtBQUFtdUQsSUFBQWlYLEVBQUFuMEUsRUFBQTRyRSxHQUtBLEdBSkE4SyxJQUVBbDJCLEVBQUFtYyxlQUFBTCxLQUVBb2EsR0FBQXJPLElBQUEvTCxHQUNBLE9BQUFpWixFQUFBaG5DLEVBQUFpUyxHQU1BLElBQUF5MEIsRUFBQXJKLEVBQUFoTixTQWtCQSxPQWpCQXNWLEVBQUFsMEUsRUFBQTRyRSxHQU9BcUosRUFBQSxLQUNLd0IsR0FBQXZDLEVBQUFsMEUsRUFBQXkyRSxLQUdMajJCLEVBQUEwSyxXQUFBYixJQUdBOHFCLEVBQUE1bUMsRUFBQWlTLEdBR0E2bkIsSUFBQS9MLElBQUE5YixFQUFBenhDLEtBQUFtdUQsSUFBQWlYLEVBQUFuMEUsRUFBQTRyRSxJQUVBcHJCLEVBQUFtYyxlQUFBTCxHQUVBOWIsRUFBQXNkLGNBQUE4TixFQUNBLE9BR0FvSixFQUFBem1DLEVBQUFpUyxFQUFBeTBCLEdBQ0E5SyxFQUFBM3BCLEVBQUFvckIsR0FDQXByQixFQUFBb0wsT0F5YkErcUIsQ0FBQXBvQyxFQUFBaVMsRUFBQTZuQixHQUNBLEtBQUFyM0IsR0FDQSxPQXhiQSxTQUFBekMsRUFBQWlTLEdBUUEsT0FQQSxPQUFBalMsR0FDQXVtQyxFQUFBdDBCLEdBR0EycEIsRUFBQTNwQixFQURBQSxFQUFBb2QsY0FJQSxLQWdiQWdaLENBQUFyb0MsRUFBQWlTLEdBQ0EsS0FBQXRQLEdBRUFzUCxFQUFBNW9DLElBQUFxNUIsR0FFQSxLQUFBQSxHQUNBLE9BMVZBLFNBQUExQyxFQUFBaVMsRUFBQTZuQixHQUNBLElBQUF1RCxFQUFBcHJCLEVBQUFvZCxhQUNBMlcsS0FHSy96QixFQUFBc2QsZ0JBQUE4TixJQUNMQSxFQUFBcHJCLEVBQUFzZCxlQU1BLElBQUFtWCxFQUFBckosRUFBQWhOLFNBYUEsT0FSQXBlLEVBQUE1USxVQURBLE9BQUFyQixFQUNBb2xDLEdBQUFuekIsSUFBQTVRLFVBQUFxbEMsRUFBQTVNLEdBRUFxTCxHQUFBbHpCLEVBQUFqUyxFQUFBcUIsVUFBQXFsQyxFQUFBNU0sR0FHQThCLEVBQUEzcEIsRUFBQW9yQixHQUdBcHJCLEVBQUE1USxVQWlVQWluQyxDQUFBdG9DLEVBQUFpUyxFQUFBNm5CLEdBQ0EsS0FBQWwzQixHQUdBLFlBQ0EsS0FBQUwsR0FDQSxPQXBVQSxTQUFBdkMsRUFBQWlTLEVBQUE2bkIsR0FDQWdNLEVBQUE3ekIsSUFBQTVRLFVBQUEraEIsZUFDQSxJQUFBc2pCLEVBQUF6MEIsRUFBQW9kLGFBQ0EsR0FBQTJXLFVBR0ssR0FBQS96QixFQUFBc2QsZ0JBQUFtWCxFQUNMLE9BQUFNLEVBQUFobkMsRUFBQWlTLEdBZUEsT0FaQSxPQUFBalMsR0FNQWlTLEVBQUFvTCxNQUFBOG5CLEdBQUFsekIsRUFBQSxLQUFBeTBCLEVBQUE1TSxHQUNBOEIsRUFBQTNwQixFQUFBeTBCLEtBRUFELEVBQUF6bUMsRUFBQWlTLEVBQUF5MEIsR0FDQTlLLEVBQUEzcEIsRUFBQXkwQixJQUVBejBCLEVBQUFvTCxNQThTQWtyQixDQUFBdm9DLEVBQUFpUyxFQUFBNm5CLEdBQ0EsS0FBQTcyQixHQUNBLE9BMXVCQSxTQUFBakQsRUFBQWlTLEdBQ0EsSUFDQXkwQixHQUFBdHRELEVBREE2NEIsRUFBQXhnRCxLQUFBMm5CLFFBQ0E2NEIsRUFBQW9kLGFBQUFwZCxFQUFBcWQsS0FHQSxPQUZBbVgsRUFBQXptQyxFQUFBaVMsRUFBQXkwQixHQUNBOUssRUFBQTNwQixFQUFBeTBCLEdBQ0F6MEIsRUFBQW9MLE1BcXVCQW1yQixDQUFBeG9DLEVBQUFpUyxHQUNBLEtBQUFwUCxHQUNBLE9BcHVCQSxTQUFBN0MsRUFBQWlTLEdBQ0EsSUFBQXkwQixFQUFBejBCLEVBQUFvZCxhQUNBLEdBQUEyVyxVQUdLLEdBQUEvekIsRUFBQXNkLGdCQUFBbVgsRUFDTCxPQUFBTSxFQUFBaG5DLEVBQUFpUyxHQUlBLE9BRkF3MEIsRUFBQXptQyxFQUFBaVMsRUFBQXkwQixHQUNBOUssRUFBQTNwQixFQUFBeTBCLEdBQ0F6MEIsRUFBQW9MLE1BMHRCQThsQixDQUFBbmpDLEVBQUFpUyxHQUNBLEtBQUFuUCxHQUNBLE9BenRCQSxTQUFBOUMsRUFBQWlTLEdBQ0EsSUFBQXkwQixFQUFBejBCLEVBQUFvZCxhQUFBZ0IsU0FDQSxHQUFBMlYsVUFHSyxVQUFBVSxHQUFBejBCLEVBQUFzZCxnQkFBQW1YLEVBQ0wsT0FBQU0sRUFBQWhuQyxFQUFBaVMsR0FJQSxPQUZBdzBCLEVBQUF6bUMsRUFBQWlTLEVBQUF5MEIsR0FDQTlLLEVBQUEzcEIsRUFBQXkwQixHQUNBejBCLEVBQUFvTCxNQStzQkFvckIsQ0FBQXpvQyxFQUFBaVMsR0FDQSxLQUFBalAsR0FDQSxPQXZPQSxTQUFBaEQsRUFBQWlTLEVBQUE2bkIsR0FDQSxJQUNBdDNDLEVBREF5dkIsRUFBQXhnRCxLQUNBaTNFLFNBRUFqTSxFQUFBeHFCLEVBQUFvZCxhQUNBbU4sRUFBQXZxQixFQUFBc2QsY0FFQSxHQUFBeVcsVUFHSyxHQUFBeEosSUFBQUMsRUFHTCxPQUZBeHFCLEVBQUE1USxVQUFBLEVBQ0Ewa0MsRUFBQTl6QixHQUNBKzBCLEVBQUFobkMsRUFBQWlTLEdBR0EsSUFBQXZaLEVBQUErakMsRUFBQTN3RSxNQUNBbW1ELEVBQUFzZCxjQUFBa04sRUFFQSxJQUFBMEssT0FBQSxFQUNBLFVBQUEzSyxFQUVBMkssRUFBQXZaLFFBRUEsR0FBQTRPLEVBQUExd0UsUUFBQTJ3RSxFQUFBM3dFLE1BQUEsQ0FFQSxHQUFBMHdFLEVBQUFuTSxXQUFBb00sRUFBQXBNLFNBR0EsT0FGQXBlLEVBQUE1USxVQUFBLEVBQ0Ewa0MsRUFBQTl6QixHQUNBKzBCLEVBQUFobkMsRUFBQWlTLEdBRUFrMUIsRUFBQSxNQUNPLENBQ1AsSUFBQXdCLEVBQUFuTSxFQUFBMXdFLE1BSUEsR0FBQTY4RSxJQUFBandDLElBQUEsSUFBQWl3QyxHQUFBLEVBQUFBLEdBQUEsRUFBQWp3QyxJQUFBaXdDLE1BQUFqd0MsS0FDQSxDQUVBLEdBQUE4akMsRUFBQW5NLFdBQUFvTSxFQUFBcE0sU0FHQSxPQUZBcGUsRUFBQTVRLFVBQUEsRUFDQTBrQyxFQUFBOXpCLEdBQ0ErMEIsRUFBQWhuQyxFQUFBaVMsR0FFQWsxQixFQUFBLE9BUUEsR0FOQUEsRUFBQSxtQkFBQTNrRCxFQUFBb21ELHNCQUFBcG1ELEVBQUFvbUQsc0JBQUFELEVBQUFqd0MsR0FBQWsxQixHQUVBbmlELEdBQUEwN0QsRUFBQXZaLE1BQUF1WixFQUFBLCtGQUFBQSxHQUlBLElBRkFBLEdBQUEsSUFJQSxHQUFBM0ssRUFBQW5NLFdBQUFvTSxFQUFBcE0sU0FHQSxPQUZBcGUsRUFBQTVRLFVBQUEsRUFDQTBrQyxFQUFBOXpCLEdBQ0ErMEIsRUFBQWhuQyxFQUFBaVMsUUFHQWkxQixFQUFBajFCLEVBQUF6dkIsRUFBQTJrRCxFQUFBck4sR0FXQSxPQUxBN25CLEVBQUE1USxVQUFBOGxDLEVBQ0FwQixFQUFBOXpCLEdBR0F3MEIsRUFBQXptQyxFQUFBaVMsRUFEQXdxQixFQUFBcE0sVUFFQXBlLEVBQUFvTCxNQStKQXdyQixDQUFBN29DLEVBQUFpUyxFQUFBNm5CLEdBQ0EsS0FBQS8yQixHQUNBLE9BOUpBLFNBQUEvQyxFQUFBaVMsRUFBQTZuQixHQUNBLElBQUF0M0MsRUFBQXl2QixFQUFBeGdELEtBQ0FnckUsRUFBQXhxQixFQUFBb2QsYUFDQW1OLEVBQUF2cUIsRUFBQXNkLGNBRUE3MkIsRUFBQWxXLEVBQUFzbUQsY0FDQTNCLEVBQUEza0QsRUFBQXVtRCxhQUVBLEdBQUEvQyxVQUdLLE9BQUFtQixHQUFBM0ssSUFBQUMsRUFDTCxPQUFBdUssRUFBQWhuQyxFQUFBaVMsR0FFQUEsRUFBQXNkLGNBQUFrTixFQUVBLElBQUE0SyxFQUFBNUssRUFBQXVNLDJCQUNBMTNFLElBQUErMUUsR0FBQSxPQUFBQSxJQUVBQSxFQUFBelosSUFHQTNiLEVBQUE1USxVQUFBZ21DLEVBRUEsSUFBQUYsRUFBQUUsSUFHQUgsRUFBQWoxQixFQUFBenZCLEVBQUEya0QsRUFBQXJOLEdBTUEsSUFBQTFnRCxFQUFBcWpELEVBQUFwTSxTQVFBLE9BTEE1a0QsRUFBQSxtQkFBQTJOLEVBQUEsdVBBSUFxdEQsRUFBQXptQyxFQUFBaVMsRUFEQTc0QixFQUFBc2YsSUFFQXVaLEVBQUFvTCxNQXFIQTRyQixDQUFBanBDLEVBQUFpUyxFQUFBNm5CLEdBQ0EsUUFDQTNxRCxHQUFBLHdHQVNBKzVELEdBQUEsU0FBQTVwRSxFQUFBbW1FLEVBQUFoSyxFQUFBbUIsRUFBQThJLEdBQ0EsSUFBQXlELEVBQUE3cEUsRUFBQTZwRSxlQUNBQyxFQUFBOXBFLEVBQUE4cEUsbUJBQ0FDLEVBQUEvcEUsRUFBQStwRSxtQkFDQUMsRUFBQWhxRSxFQUFBZ3FFLHdCQUNBQyxFQUFBanFFLEVBQUFpcUUsY0FDQUMsRUFBQWxxRSxFQUFBa3FFLFNBQ0FDLEVBQUFucUUsRUFBQW1xRSxZQUNBQyxFQUFBakUsRUFBQWlFLHFCQUNBQyxFQUFBbEUsRUFBQWtFLGVBQ0FDLEVBQUFuRSxFQUFBbUUsZUFDQUMsRUFBQXBFLEVBQUFvRSxpQkFDQUMsRUFBQXJPLEVBQUFzTyxtQkFDQUMsRUFBQXZPLEVBQUF3Tyx5QkFDQUMsRUFBQXROLEVBQUFzTixZQUNBQyxFQUFBekUsRUFBQXlFLDZCQUNBQyxFQUFBMUUsRUFBQTBFLGlDQUNBQyxFQUFBM0UsRUFBQTJFLGtCQUdBLFNBQUFDLEVBQUFyNEIsR0FHQUEsRUFBQTBLLFdBQUFoQixHQUdBLFNBQUFpckIsRUFBQTMwQixHQUNBQSxFQUFBMEssV0FBQVYsR0E2QkEsU0FBQXN1QixFQUFBdnFDLEVBQUFpUyxFQUFBNm5CLEdBQ0EsSUFBQTM1RCxFQUFBOHhDLEVBQUFzZCxjQUNBcHZELEdBQUFnUCxHQUFBLHFHQVNBOGlDLEVBQUE1b0MsSUFBQXM1QixHQUlBLElBQUE2bkMsTUF6Q0EsU0FBQUEsRUFBQXY0QixHQUNBLElBQUF0c0IsRUFBQXNzQixFQUFBNVEsVUFJQSxJQUhBMWIsSUFDQUEsRUFBQSxPQUFBc3NCLEdBRUEsT0FBQXRzQixHQUFBLENBQ0EsR0FBQUEsRUFBQXRjLE1BQUFtNUIsSUFBQTdjLEVBQUF0YyxNQUFBbzVCLElBQUE5YyxFQUFBdGMsTUFBQWs1QixHQUNBcHpCLEdBQUEsc0RBQ08sR0FBQXdXLEVBQUF0YyxNQUFBdTVCLEdBQ1A0bkMsRUFBQS84RSxLQUFBazRCLEVBQUEwcEMsYUFBQXZqRSxZQUNPLFVBQUE2NUIsRUFBQTAzQixNQUFBLENBQ1AxM0IsRUFBQTAzQixNQUFBLE9BQUExM0IsRUFDQUEsSUFBQTAzQixNQUNBLFNBRUEsWUFBQTEzQixFQUFBMjNCLFNBQUEsQ0FDQSxVQUFBMzNCLEVBQUEsUUFBQUEsRUFBQSxTQUFBc3NCLEVBQ0EsT0FFQXRzQixJQUFBLE9BRUFBLEVBQUEyM0IsUUFBQSxPQUFBMzNCLEVBQUEsT0FDQUEsSUFBQTIzQixTQW9CQW10QixDQUFBRCxFQUFBdjRCLEdBQ0EsSUFFQXkwQixHQUFBLzdELEVBRkF4SyxFQUFBdXFFLFNBQ0F2cUUsUUFDQXFxRSxHQUVBdEksRUFBQSxPQUFBbGlDLElBQUFxZCxNQUFBLEtBRUEsT0FEQXBMLEVBQUFvTCxNQUFBOG5CLEdBQUFsekIsRUFBQWl3QixFQUFBd0UsRUFBQTVNLEdBQ0E3bkIsRUFBQW9MLE1BR0EsU0FBQXN0QixFQUFBcHJFLEVBQUEweUMsR0FJQSxJQURBLElBQUF0c0IsRUFBQXNzQixFQUFBb0wsTUFDQSxPQUFBMTNCLEdBQUEsQ0FDQSxHQUFBQSxFQUFBdGMsTUFBQW01QixJQUFBN2MsRUFBQXRjLE1BQUFvNUIsR0FDQTRtQyxFQUFBOXBFLEVBQUFvbUIsRUFBQTBiLGdCQUNPLEdBQUExYixFQUFBdGMsTUFBQWs1QixTQUlBLFVBQUE1YyxFQUFBMDNCLE1BQUEsQ0FDUDEzQixFQUFBMDNCLE1BQUEsT0FBQTEzQixFQUNBQSxJQUFBMDNCLE1BQ0EsU0FFQSxHQUFBMTNCLElBQUFzc0IsRUFDQSxPQUVBLFlBQUF0c0IsRUFBQTIzQixTQUFBLENBQ0EsVUFBQTMzQixFQUFBLFFBQUFBLEVBQUEsU0FBQXNzQixFQUNBLE9BRUF0c0IsSUFBQSxPQUVBQSxFQUFBMjNCLFFBQUEsT0FBQTMzQixFQUFBLE9BQ0FBLElBQUEyM0IsU0FJQSxJQUFBc3RCLE9BQUEsRUFDQXhDLE9BQUEsRUFDQUMsT0FBQSxFQUNBLEdBQUFtQixFQUNBN1UsSUFFQWlXLEVBQUEsU0FBQTM0QixLQUdBbTJCLEVBQUEsU0FBQXBvQyxFQUFBaVMsRUFBQTQ0QixFQUFBcDVFLEVBQUErcUUsRUFBQUMsRUFBQXFPLEVBQUFDLEdBRUE5NEIsRUFBQXVkLFlBQUFxYixFQUdBQSxHQUNBUCxFQUFBcjRCLElBR0FvMkIsRUFBQSxTQUFBcm9DLEVBQUFpUyxFQUFBKzRCLEVBQUFDLEdBRUFELElBQUFDLEdBQ0FYLEVBQUFyNEIsS0FJQTlpQyxHQUFBLDJDQUVHLEdBQUFzNkQsRUFDSCxHQUFBN1UsR0FBQSxDQUVBLElBQUFzVyxFQUFBekIsRUFBQXlCLGNBQ0FDLEVBQUExQixFQUFBMEIsd0JBQ0FDLEVBQUEzQixFQUFBMkIsK0JBQ0FDLEVBQUE1QixFQUFBNEIsMEJBaUNBVCxFQUFBLFNBQUEzNEIsR0FDQSxJQUFBcTVCLEVBQUFyNUIsRUFBQTVRLFVBRUEsR0FEQSxPQUFBNFEsRUFBQTBkLGlCQUdTLENBQ1QsSUFBQTRiLEVBQUFELEVBQUFsb0IsY0FDQW9vQixFQUFBTCxFQUFBSSxJQXBDQSxTQUFBRSxFQUFBeDVCLEdBSUEsSUFEQSxJQUFBdHNCLEVBQUFzc0IsRUFBQW9MLE1BQ0EsT0FBQTEzQixHQUFBLENBQ0EsR0FBQUEsRUFBQXRjLE1BQUFtNUIsSUFBQTdjLEVBQUF0YyxNQUFBbzVCLEdBQ0Eyb0MsRUFBQUssRUFBQTlsRCxFQUFBMGIsZ0JBQ1csR0FBQTFiLEVBQUF0YyxNQUFBazVCLFNBSUEsVUFBQTVjLEVBQUEwM0IsTUFBQSxDQUNYMTNCLEVBQUEwM0IsTUFBQSxPQUFBMTNCLEVBQ0FBLElBQUEwM0IsTUFDQSxTQUVBLEdBQUExM0IsSUFBQXNzQixFQUNBLE9BRUEsWUFBQXRzQixFQUFBMjNCLFNBQUEsQ0FDQSxVQUFBMzNCLEVBQUEsUUFBQUEsRUFBQSxTQUFBc3NCLEVBQ0EsT0FFQXRzQixJQUFBLE9BRUFBLEVBQUEyM0IsUUFBQSxPQUFBMzNCLEVBQUEsT0FDQUEsSUFBQTIzQixTQVlBb3VCLENBQUFGLEVBQUF2NUIsR0FDQXE1QixFQUFBeGEsZ0JBQUEwYSxFQUVBbEIsRUFBQXI0QixHQUNBbzVCLEVBQUFFLEVBQUFDLEtBR0FwRCxFQUFBLFNBQUFwb0MsRUFBQWlTLEVBQUE0NEIsRUFBQXA1RSxFQUFBK3FFLEVBQUFDLEVBQUFxTyxFQUFBQyxHQUdBLElBQUFZLEVBQUEsT0FBQTE1QixFQUFBMGQsWUFDQWljLEVBQUE1ckMsRUFBQXFCLFVBQ0EsR0FBQXNxQyxHQUFBLE9BQUFkLEVBR0E1NEIsRUFBQTVRLFVBQUF1cUMsTUFDUyxDQUNULElBQUFDLEVBQUE1NUIsRUFBQTVRLFVBQ0F5cUMsRUFBQVosRUFBQVUsRUFBQWYsRUFBQXA1RSxFQUFBK3FFLEVBQUFDLEVBQUF4cUIsRUFBQTA1QixFQUFBRSxHQUNBdkMsRUFBQXdDLEVBQUFyNkUsRUFBQWdyRSxFQUFBcU8sRUFBQUMsSUFDQVQsRUFBQXI0QixHQUVBQSxFQUFBNVEsVUFBQXlxQyxFQUNBSCxFQUlBckIsRUFBQXI0QixHQUdBMDRCLEVBQUFtQixFQUFBNzVCLEtBSUFvMkIsRUFBQSxTQUFBcm9DLEVBQUFpUyxFQUFBKzRCLEVBQUFDLEdBQ0EsR0FBQUQsSUFBQUMsRUFBQSxDQUVBLElBQUFILEVBQUFwQixJQUNBcUIsRUFBQW5CLElBQ0EzM0IsRUFBQTVRLFVBQUErbkMsRUFBQTZCLEVBQUFILEVBQUFDLEVBQUE5NEIsR0FHQXE0QixFQUFBcjRCLFVBSUE5aUMsR0FBQSw2Q0FlQUEsR0FBQSxrQ0FzTEEsT0FDQTQ4RCxhQW5MQSxTQUFBL3JDLEVBQUFpUyxFQUFBNm5CLEdBQ0EsSUFBQTJDLEVBQUF4cUIsRUFBQW9kLGFBQ0EsT0FBQXBkLEVBQUE1b0MsS0FDQSxLQUFBKzRCLEVBQ0EsWUFDQSxLQUFBQyxFQUdBeW5DLEVBQUE3M0IsR0FHQSxJQUFBNTZCLEVBQUE0NkIsRUFBQTVRLFVBQ0FtdUIsRUFBQXZkLEVBQUF1ZCxZQVdBLE9BVkEsT0FBQUEsR0FBQSxPQUFBQSxFQUFBdUosaUJBQ0E5bUIsRUFBQTBLLFlBQUFYLEdBQ0EsbUJBQUEza0MsRUFBQTIwRCxrQkFDQS81QixFQUFBMEssV0FBQVQsR0FJQXNULEVBQUF1SixlQUFBLE1BR0EsS0FFQSxLQUFBejJCLEVBRUF1bkMsRUFBQTUzQixHQUNBKzNCLEVBQUEvM0IsR0FDQSxJQUFBZzZCLEVBQUFoNkIsRUFBQTVRLFVBQ0E0cUMsRUFBQXphLGlCQUNBeWEsRUFBQXpwRCxRQUFBeXBELEVBQUF6YSxlQUNBeWEsRUFBQXphLGVBQUEsTUFFQSxPQUFBeHhCLEdBQUEsT0FBQUEsRUFBQXFkLFFBR0FndEIsRUFBQXA0QixHQUdBQSxFQUFBMEssWUFBQWpCLElBRUFrdkIsRUFBQTM0QixHQUVBLElBQUFxdUIsRUFBQXJ1QixFQUFBdWQsWUFJQSxPQUhBLE9BQUE4USxHQUFBLE9BQUFBLEVBQUF2SCxpQkFDQTltQixFQUFBMEssV0FBQVQsSUFFQSxLQUVBLEtBQUExWixHQUVBbW5DLEVBQUExM0IsR0FDQSxJQUFBNjRCLEVBQUFwQixJQUNBajRFLEVBQUF3Z0QsRUFBQXhnRCxLQUNBLFVBQUF1dUMsR0FBQSxNQUFBaVMsRUFBQTVRLFVBQUEsQ0FHQSxJQUFBbTdCLEVBQUF4OEIsRUFBQXV2QixjQUtBMmMsRUFBQWo2QixFQUFBNVEsVUFDQTBwQyxFQUFBbkIsSUFJQWlCLEVBQUF0QixFQUFBMkMsRUFBQXo2RSxFQUFBK3FFLEVBQUFDLEVBQUFxTyxFQUFBQyxHQUVBM0MsRUFBQXBvQyxFQUFBaVMsRUFBQTQ0QixFQUFBcDVFLEVBQUErcUUsRUFBQUMsRUFBQXFPLEVBQUFDLEdBRUEvcUMsRUFBQXN2QixNQUFBcmQsRUFBQXFkLEtBQ0FzWCxFQUFBMzBCLE9BRVcsQ0FDWCxJQUFBd3FCLEVBR0EsT0FGQSxPQUFBeHFCLEVBQUE1USxXQUFBbHlCLEdBQUEsaUhBRUEsS0FHQSxJQUFBZzlELEVBQUF2QyxJQU1BLEdBREFTLEVBQUFwNEIsR0FJQWs0QixFQUFBbDRCLEVBQUE2NEIsRUFBQXFCLElBR0E3QixFQUFBcjRCLE9BRWEsQ0FDYixJQUFBbTZCLEVBQUFqRCxFQUFBMTNFLEVBQUFnckUsRUFBQXFPLEVBQUFxQixFQUFBbDZCLEdBRUEwNEIsRUFBQXlCLEVBQUFuNkIsR0FLQXEzQixFQUFBOEMsRUFBQTM2RSxFQUFBZ3JFLEVBQUFxTyxFQUFBcUIsSUFDQTdCLEVBQUFyNEIsR0FFQUEsRUFBQTVRLFVBQUErcUMsRUFHQSxPQUFBbjZCLEVBQUFxZCxLQUVBc1gsRUFBQTMwQixHQUdBLFlBRUEsS0FBQXhQLEdBRUEsSUFBQXdvQyxFQUFBeE8sRUFDQSxHQUFBejhCLEdBQUEsTUFBQWlTLEVBQUE1USxVQUFBLENBQ0EsSUFBQTJwQyxFQUFBaHJDLEVBQUF1dkIsY0FHQThZLEVBQUFyb0MsRUFBQWlTLEVBQUErNEIsRUFBQUMsT0FDVyxDQUNYLG9CQUFBQSxFQUdBLE9BRkEsT0FBQWg1QixFQUFBNVEsV0FBQWx5QixHQUFBLGlIQUVBLEtBRUEsSUFBQWs5RCxFQUFBM0MsSUFDQTRDLEVBQUExQyxJQUNBUyxFQUFBcDRCLEdBRUFtNEIsRUFBQW40QixJQUNBcTRCLEVBQUFyNEIsR0FHQUEsRUFBQTVRLFVBQUErbkMsRUFBQTZCLEVBQUFvQixFQUFBQyxFQUFBcjZCLEdBR0EsWUFFQSxLQUFBdlAsR0FDQSxPQUFBNm5DLEVBQUF2cUMsRUFBQWlTLEVBQUE2bkIsR0FDQSxLQUFBbjNCLEdBR0EsT0FEQXNQLEVBQUE1b0MsSUFBQXE1QixHQUNBLEtBQ0EsS0FBQUUsR0FHQSxLQUFBSyxHQUVBLEtBQUFKLEdBRUEsS0FBQUMsR0FDQSxZQUNBLEtBQUFQLEdBR0EsT0FGQXNuQyxFQUFBNTNCLEdBQ0EyNEIsRUFBQTM0QixHQUNBLEtBQ0EsS0FBQWpQLEdBR0EsT0FEQWtuQyxFQUFBajRCLEdBQ0EsS0FDQSxLQUFBbFAsR0FDQSxZQUVBLEtBQUFaLEVBQ0FoekIsR0FBQSx1SkFFQSxRQUNBQSxHQUFBLHdHQVNBLFNBQUFvOUQsR0FBQXpnRixFQUFBK0ssR0FHQSxPQUNBL0ssUUFDQStLLFNBQ0ErWSxNQUFBb2lDLEdBQUFuN0MsSUF5TEEsSUFBQTIxRSxHQUFBdHZDLEVBQUFsQixzQkFDQXl3QyxHQUFBdnZDLEVBQUFJLGVBQ0FvdkMsR0FBQXh2QyxFQUFBSyxpQkFHQW92QyxHQUFBLEtBS0EsU0FBQUMsR0FBQUMsRUFBQUMsR0FDQSxJQUFBajJFLEVBQUFpMkUsRUFBQWoyRSxPQUNBK1ksRUFBQWs5RCxFQUFBbDlELE1BQ0EsT0FBQUEsSUFDQUEsRUFBQW9pQyxHQUFBbjdDLElBR0EsSUFBQWsyRSxHQUNBdjlELGNBQUEsT0FBQTNZLEVBQUE0NkMsR0FBQTU2QyxHQUFBLEtBQ0FtMkUsZUFBQSxPQUFBcDlELElBQUEsR0FDQTNVLE1BQUE2eEUsRUFBQWhoRixNQUNBbWhGLGNBQUEsS0FDQUMsa0JBQUEsS0FDQUMsb0JBQUEsRUFDQUMsV0FBQSxHQUdBLE9BQUFQLEtBQUF4akUsTUFBQWc1QixJQUNBMHFDLEVBQUFFLGNBQUFKLEVBQUF4ckMsVUFDQTByQyxFQUFBRyxrQkFBQXo3QixHQUFBbzdCLEdBQ0FFLEVBQUFJLG9CQUFBLEVBQ0FKLEVBQUFLLFdBQUEsR0FHQSxLQWhGQSxTQUFBTCxHQVNBLElBQUE5eEUsRUFBQTh4RSxFQUFBOXhFLE1BRUEsSUFEQUEsTUFBQW95RSwwQkFDQSxDQUtBLElBQUE3OUQsRUFBQXU5RCxFQUFBdjlELGNBQ0F3OUQsRUFBQUQsRUFBQUMsZUFDQUUsRUFBQUgsRUFBQUcsa0JBQ0FDLEVBQUFKLEVBQUFJLG1CQUNBQyxFQUFBTCxFQUFBSyxVQWdCQUUsR0FiQTk5RCxFQUFBLG9DQUFBQSxFQUFBLDRFQWFBdzlELEVBQUEsUUFUQUcsR0FBQUQsRUFDQUUsRUFDQSxzR0FBQUYsRUFBQSxJQUVBLDBEQUFBQSxFQUFBLDZFQUdBLDBLQVFBaGhFLFFBQUFqUixNQUFBcXlFLElBdUNBQyxDQUFBUixHQUNHLE1BQUFqM0UsR0FHSEEsS0FBQXUzRSwyQkFFQW5oRSxRQUFBalIsTUFBQW5GLElBbENBNjJFLEdBQUEsSUFBQXpkLElBdUNBLElBQUFzZSxHQUFBLFNBQUFsdUUsRUFBQW11RSxFQUFBL1IsRUFBQUMsRUFBQStSLEVBQUFDLEdBQ0EsSUFBQUMsRUFBQXR1RSxFQUFBc3VFLGtCQUNBcEUsRUFBQWxxRSxFQUFBa3FFLFNBQ0FDLEVBQUFucUUsRUFBQW1xRSxZQUdBb0UsRUFBQSxTQUFBN3RDLEVBQUEzb0IsR0FDQXlnRCxHQUFBOTNCLEVBQUEsd0JBQ0Ezb0IsRUFBQWxYLE1BQUE2L0IsRUFBQXV2QixjQUNBbDRDLEVBQUFvQixNQUFBdW5CLEVBQUF5dkIsY0FDQXA0QyxFQUFBNkIsdUJBQ0E2K0MsTUFjQSxTQUFBK1YsRUFBQTl0QyxHQUNBLElBQUFzdkIsRUFBQXR2QixFQUFBc3ZCLElBQ0EsVUFBQUEsRUFDQSxzQkFBQUEsR0FHQSxHQURBa2QsR0FBQSxLQUFBbGQsRUFBQSxXQUNBbWQsS0FBQSxDQUNBLElBQUFzQixFQUFBckIsS0FDQWUsRUFBQXp0QyxFQUFBK3RDLFNBSUF6ZSxFQUFBdHZCLFFBQUEsS0FLQSxTQUFBZ3VDLEVBQUFodUMsRUFBQXV4QixHQUNBLE9BQUFBLEVBQUFsb0QsS0FDQSxLQUFBZzVCLEVBRUEsR0FBQWt2QixFQUFBNVUsVUFBQVIsSUFDQSxPQUFBbmMsRUFBQSxDQUNBLElBQUFrb0MsRUFBQWxvQyxFQUFBdXZCLGNBQ0FvSyxFQUFBMzVCLEVBQUF5dkIsY0FDQXFJLEdBQUF2RyxFQUFBLDJCQUNBLElBQUEyYSxFQUFBM2EsRUFBQWx3QixVQUNBNnFDLEVBQUEvckUsTUFBQW94RCxFQUFBaEMsY0FDQTJjLEVBQUF6ekQsTUFBQTg0QyxFQUFBOUIsY0FDQSxJQUFBd2UsRUFBQS9CLEVBQUF4Tyx3QkFBQXdLLEVBQUF2TyxHQUVBdVUsRUFBQXZCLFFBQ0FyN0UsSUFBQTI4RSxHQUFBQyxFQUFBdjNFLElBQUE0NkQsRUFBQTkvRCxRQUNBeThFLEVBQUFqeEUsSUFBQXMwRCxFQUFBOS9ELE1BQ0FnYSxHQUFBLDRHQUFBZ21DLEdBQUE4ZixLQUdBMmEsRUFBQWlDLG9DQUFBRixFQUNBbFcsS0FHQSxPQUVBLEtBQUF6MUIsRUFDQSxLQUFBRSxHQUNBLEtBQUFDLEdBQ0EsS0FBQUYsR0FFQSxPQUNBLFFBRUFwekIsR0FBQSwrSEFLQSxTQUFBaS9ELEVBQUFDLEVBQUFydUMsRUFBQXV4QixFQUFBakQsRUFBQWdnQixHQUNBLE9BQUEvYyxFQUFBbG9ELEtBQ0EsS0FBQWc1QixFQUVBLElBQUErcEMsRUFBQTdhLEVBQUFsd0IsVUFDQSxHQUFBa3dCLEVBQUE1VSxVQUFBaEIsR0FDQSxVQUFBM2IsRUFDQTgzQixHQUFBdkcsRUFBQSxxQkFDQTZhLEVBQUFqc0UsTUFBQW94RCxFQUFBaEMsY0FDQTZjLEVBQUEzekQsTUFBQTg0QyxFQUFBOUIsY0FDQTJjLEVBQUFyTSxvQkFDQWhJLFNBQ2EsQ0FDYixJQUFBbVEsRUFBQWxvQyxFQUFBdXZCLGNBQ0FvSyxFQUFBMzVCLEVBQUF5dkIsY0FDQXFJLEdBQUF2RyxFQUFBLHNCQUNBNmEsRUFBQWpzRSxNQUFBb3hELEVBQUFoQyxjQUNBNmMsRUFBQTN6RCxNQUFBODRDLEVBQUE5QixjQUNBMmMsRUFBQTlNLG1CQUFBNEksRUFBQXZPLEVBQUF5UyxFQUFBK0IscUNBQ0FwVyxLQUdBLElBQUF2SSxFQUFBK0IsRUFBQS9CLFlBSUEsWUFIQSxPQUFBQSxHQUNBaUwsR0FBQWpMLEVBQUE0YyxJQUlBLEtBQUE5cEMsRUFFQSxJQUFBZytCLEVBQUEvTyxFQUFBL0IsWUFDQSxVQUFBOFEsRUFBQSxDQUNBLElBQUFpTyxFQUFBLEtBQ0EsVUFBQWhkLEVBQUFsVSxNQUNBLE9BQUFrVSxFQUFBbFUsTUFBQWgwQyxLQUNBLEtBQUFtNUIsR0FDQStyQyxFQUFBWCxFQUFBcmMsRUFBQWxVLE1BQUFoYyxXQUNBLE1BQ0EsS0FBQWdCLEVBQ0Frc0MsRUFBQWhkLEVBQUFsVSxNQUFBaGMsVUFJQW81QixHQUFBNkYsRUFBQWlPLEdBRUEsT0FFQSxLQUFBL3JDLEdBRUEsSUFBQWdzQyxFQUFBamQsRUFBQWx3QixVQU1BLFVBQUFyQixHQUFBdXhCLEVBQUE1VSxVQUFBaEIsR0FBQSxDQUNBLElBQUFscUQsRUFBQTgvRCxFQUFBOS9ELEtBQ0EwTyxFQUFBb3hELEVBQUFoQyxjQUNBa2YsRUFBQUQsRUFBQS84RSxFQUFBME8sRUFBQW94RCxHQUdBLE9BRUEsS0FBQTl1QixHQUtBLEtBQUFGLEdBR0EsT0FFQSxRQUVBcHpCLEdBQUEsK0hBS0EsU0FBQXUvRCxFQUFBbmQsRUFBQW9kLEdBQ0EsT0FBQXBkLEVBQUFsb0QsS0FDQSxLQUFBZzVCLEVBRUEsSUFBQSs0QixFQUFBN0osRUFBQTkvRCxLQUNBbTlFLEVBQUFyZCxFQUFBbHdCLFVBQ0FtdUIsRUFBQStCLEVBQUEvQixhQUNBLE9BQUFBLEdBQUEsT0FBQUEsRUFBQXVKLGlCQUFBNXBELEdBQUEsNkpBQ0EsSUFBQTAvRCxFQUFBcmYsRUFBQXVKLGVBQ0F2SixFQUFBdUosZUFBQSxLQUVBLG1CQUFBcUMsRUFBQUUsMEJBTUFvUyxFQUFBa0IsR0FHQUEsRUFBQXp1RSxNQUFBb3hELEVBQUFoQyxjQUNBcWYsRUFBQW4yRCxNQUFBODRDLEVBQUE5QixjQUNBLFFBQUEza0UsRUFBQSxFQUF5QkEsRUFBQStqRixFQUFBeGhGLE9BQTJCdkMsSUFBQSxDQUNwRCxJQUFBZ2lGLEVBQUErQixFQUFBL2pGLEdBQ0FtdEMsRUFBQTYwQyxFQUFBaGhGLE1BQ0E4akIsRUFBQWs5RCxFQUFBbDlELE1BQ0FnOUQsR0FBQXJiLEVBQUF1YixHQUNBOEIsRUFBQTVDLGtCQUFBL3pDLEdBQ0ErMEMsZUFBQSxPQUFBcDlELElBQUEsS0FJQSxNQUNBLEtBQUEweUIsRUFFQSxJQUFBaStCLEVBQUFoUCxFQUFBL0IsYUFDQSxPQUFBK1EsR0FBQSxPQUFBQSxFQUFBeEgsaUJBQUE1cEQsR0FBQSw2SkFDQSxJQUFBMi9ELEVBQUF2TyxFQUFBeEgsZUFDQXdILEVBQUF4SCxlQUFBLEtBQ0EsUUFBQWxnRSxFQUFBLEVBQTBCQSxFQUFBaTJFLEVBQUF6aEYsT0FBNkJ3TCxJQUFBLENBQ3ZELElBQUFrMkUsRUFBQUQsRUFBQWoyRSxHQUNBK3pFLEdBQUFyYixFQUFBd2QsR0FDQUosRUFBQUksRUFBQWpqRixPQUVBLE1BRUEsUUFDQXFqQixHQUFBLHlIQUlBLFNBQUE2L0QsRUFBQXpkLEdBQ0EsSUFBQWpDLEVBQUFpQyxFQUFBakMsSUFDQSxVQUFBQSxFQUFBLENBQ0EsSUFBQTJmLEVBQUExZCxFQUFBbHdCLFVBQ0E2dEMsT0FBQSxFQUNBLE9BQUEzZCxFQUFBbG9ELEtBQ0EsS0FBQW01QixHQUNBMHNDLEVBQUF0QixFQUFBcUIsR0FDQSxNQUNBLFFBQ0FDLEVBQUFELEVBRUEsbUJBQUEzZixFQUNBQSxFQUFBNGYsSUFHQTVmLEVBQUFsakUsZUFBQSxZQUNBcWYsR0FBQSxvR0FBQWdtQyxHQUFBOGYsR0FBQXZmLEdBQUF1ZixJQUlBakMsRUFBQXR2QixRQUFBa3ZDLElBS0EsU0FBQUMsRUFBQW52QyxHQUNBLElBQUFvdkMsRUFBQXB2QyxFQUFBc3ZCLElBQ0EsT0FBQThmLElBQ0EsbUJBQUFBLEVBQ0FBLEVBQUEsTUFFQUEsRUFBQXB2QyxRQUFBLE1BUUEsU0FBQXF2QyxFQUFBcnZDLEdBS0EsT0FIQWl5QixHQUFBanlCLEdBR0FBLEVBQUEzMkIsS0FDQSxLQUFBZzVCLEVBRUF5ckMsRUFBQTl0QyxHQUNBLElBQUFzdkMsRUFBQXR2QyxFQUFBcUIsVUFJQSxZQUhBLG1CQUFBaXVDLEVBQUFwMkQsc0JBdlBBLFNBQUE4bUIsRUFBQTNvQixHQUdBLEdBREFtMUQsR0FBQSxLQUFBcUIsRUFBQSxLQUFBN3RDLEVBQUEzb0IsR0FDQW8xRCxLQUFBLENBQ0EsSUFBQThDLEVBQUE3QyxLQUNBZSxFQUFBenRDLEVBQUF1dkMsSUFtUEFDLENBQUF4dkMsRUFBQXN2QyxJQUlBLEtBQUE5c0MsR0FHQSxZQURBc3JDLEVBQUE5dEMsR0FHQSxLQUFBMEMsR0FHQSxZQURBK3NDLEVBQUF6dkMsRUFBQXFCLFdBR0EsS0FBQWtCLEdBVUEsWUFMQW95QixJQUFBNlUsRUFDQWtHLEVBQUExdkMsR0FDVzQwQixJQUFBNlUsR0FDWGtHLEVBQUEzdkMsS0FPQSxTQUFBeXZDLEVBQUFoc0IsR0FNQSxJQURBLElBQUE5OUIsRUFBQTg5QixJQUtBLEdBSEE0ckIsRUFBQTFwRCxHQUdBLE9BQUFBLEVBQUEwM0IsT0FHQW1zQixHQUFBN2pELEVBQUF0YyxNQUFBazVCLEdBSEEsQ0FRQSxHQUFBNWMsSUFBQTg5QixFQUNBLE9BRUEsWUFBQTk5QixFQUFBMjNCLFNBQUEsQ0FDQSxVQUFBMzNCLEVBQUEsUUFBQUEsRUFBQSxTQUFBODlCLEVBQ0EsT0FFQTk5QixJQUFBLE9BRUFBLEVBQUEyM0IsUUFBQSxPQUFBMzNCLEVBQUEsT0FDQUEsSUFBQTIzQixhQWRBMzNCLEVBQUEwM0IsTUFBQSxPQUFBMTNCLEVBQ0FBLElBQUEwM0IsTUFpQkEsU0FBQXV5QixFQUFBNXZDLEdBTUFBLEVBQUEsWUFDQUEsRUFBQXFkLE1BQUEsS0FDQXJkLEVBQUE0RSxZQUNBNUUsRUFBQTRFLFVBQUF5WSxNQUFBLEtBQ0FyZCxFQUFBNEUsVUFBQSxhQUlBLElBQUErcUMsT0FBQSxFQUVBLElBQUFuRyxFQUFBLENBQ0EsSUFBQXFHLE9BQUEsRUFDQSxHQUFBcEcsRUFBQSxDQUNBLElBQUFxRyxFQUFBckcsRUFBQXFHLHlCQUNBM0UsRUFBQTFCLEVBQUEwQix3QkFFQXdFLEVBQUEsU0FBQTN2QyxHQUNBLElBQ0FvakIsRUFEQXBqQixFQUFBcUIsVUFDQStoQixjQUVBMnNCLEVBQUE1RSxFQUFBL25CLEdBQ0Ewc0IsRUFBQTFzQixFQUFBMnNCLElBRUFGLEVBQUEsU0FBQXRlLEdBQ0EsT0FBQUEsRUFBQWxvRCxLQUNBLEtBQUFnNUIsRUFJQSxLQUFBRyxHQUlBLEtBQUFDLEdBRUEsT0FFQSxLQUFBSCxFQUNBLEtBQUFDLEdBRUEsSUFBQStvQyxFQUFBL1osRUFBQWx3QixVQUNBK2hCLEVBQUFrb0IsRUFBQWxvQixjQUNBNHNCLEVBQUExRSxFQUFBeGEsZ0JBR0EsWUFEQWdmLEVBQUExc0IsRUFBQTRzQixHQUdBLFFBRUE3Z0UsR0FBQSxxSUFLQTBnRSxFQUFBLFNBQUF0ZSxLQUlBLEdBQUFxRCxHQUNBLE9BQ0FxYix1QkFBQSxTQUFBMWUsS0FDQTJlLGdCQUFBLFNBQUEzZSxLQUNBNGUsZUFBQSxTQUFBbndDLEdBRUF5dkMsRUFBQXp2QyxHQUNBNHZDLEVBQUE1dkMsSUFFQW93QyxXQUFBLFNBQUFwd0MsRUFBQXV4QixHQUNBc2UsRUFBQXRlLElBR0E2YyxtQkFDQUosaUNBQ0FVLHFCQUNBTSxrQkFDQUcsbUJBR0FoZ0UsR0FBQSxFQURLczZELEVBQ0wscUNBRUEsZ0NBR0EsSUFBQWdGLEVBQUFqRixFQUFBaUYsWUFDQTRCLEVBQUE3RyxFQUFBNkcsYUFDQUMsRUFBQTlHLEVBQUE4RyxpQkFDQUMsRUFBQS9HLEVBQUErRyxpQkFDQXRtRSxFQUFBdS9ELEVBQUF2L0QsWUFDQXVtRSxFQUFBaEgsRUFBQWdILHVCQUNBQyxFQUFBakgsRUFBQWlILGFBQ0FDLEVBQUFsSCxFQUFBa0gsd0JBQ0FDLEVBQUFuSCxFQUFBbUgsWUFDQUMsRUFBQXBILEVBQUFvSCx5QkFjQSxTQUFBQyxFQUFBbi9CLEdBQ0EsT0FBQUEsRUFBQXJvQyxNQUFBbTVCLElBQUFrUCxFQUFBcm9DLE1BQUFpNUIsR0FBQW9QLEVBQUFyb0MsTUFBQWs1QixHQWtIQSxTQUFBbXRDLEVBQUExdkMsR0FVQSxJQVJBLElBQUFyYSxFQUFBcWEsRUFJQTh3QyxHQUFBLEVBQ0FDLE9BQUEsRUFDQUMsT0FBQSxJQUVBLENBQ0EsSUFBQUYsRUFBQSxDQUNBLElBQUF2eEUsRUFBQW9tQixFQUFBLE9BQ0FzckQsRUFBQSxRQUVBLE9BREEsT0FBQTF4RSxHQUFBNFAsR0FBQSwwR0FDQTVQLEVBQUE4SixLQUNBLEtBQUFtNUIsR0FDQXV1QyxFQUFBeHhFLEVBQUE4aEMsVUFDQTJ2QyxHQUFBLEVBQ0EsTUFBQUMsRUFDQSxLQUFBM3VDLEVBSUEsS0FBQUMsR0FDQXd1QyxFQUFBeHhFLEVBQUE4aEMsVUFBQStoQixjQUNBNHRCLEdBQUEsRUFDQSxNQUFBQyxFQUVBMXhFLElBQUEsT0FFQXV4RSxHQUFBLEVBR0EsR0FBQW5yRCxFQUFBdGMsTUFBQW01QixJQUFBN2MsRUFBQXRjLE1BQUFvNUIsR0FDQWd0QyxFQUFBOXBELEdBR0FxckQsRUFDQUosRUFBQUcsRUFBQXByRCxFQUFBMGIsV0FFQXN2QyxFQUFBSSxFQUFBcHJELEVBQUEwYixnQkFHTyxHQUFBMWIsRUFBQXRjLE1BQUFrNUIsSUFLUCxHQUZBd3VDLEVBQUFwckQsRUFBQTBiLFVBQUEraEIsY0FFQSxPQUFBejlCLEVBQUEwM0IsTUFBQSxDQUNBMTNCLEVBQUEwM0IsTUFBQSxPQUFBMTNCLEVBQ0FBLElBQUEwM0IsTUFDQSxlQUtBLEdBRkFneUIsRUFBQTFwRCxHQUVBLE9BQUFBLEVBQUEwM0IsTUFBQSxDQUNBMTNCLEVBQUEwM0IsTUFBQSxPQUFBMTNCLEVBQ0FBLElBQUEwM0IsTUFDQSxTQUdBLEdBQUExM0IsSUFBQXFhLEVBQ0EsT0FFQSxZQUFBcmEsRUFBQTIzQixTQUFBLENBQ0EsVUFBQTMzQixFQUFBLFFBQUFBLEVBQUEsU0FBQXFhLEVBQ0EsUUFFQXJhLElBQUEsUUFDQXRjLE1BQUFrNUIsS0FHQXV1QyxHQUFBLEdBR0FuckQsRUFBQTIzQixRQUFBLE9BQUEzM0IsRUFBQSxPQUNBQSxJQUFBMjNCLFNBZ0VBLEdBQUFxWCxHQUNBLE9BQ0FxWixpQ0FDQWlDLHVCQVBBLFNBQUFqd0MsR0FDQXN3QyxFQUFBdHdDLEVBQUFxQixZQU9BNnVDLGdCQXhOQSxTQUFBM2UsR0FFQSxJQUFBMmYsRUExREEsU0FBQXgvQixHQUVBLElBREEsSUFBQW55QyxFQUFBbXlDLEVBQUEsT0FDQSxPQUFBbnlDLEdBQUEsQ0FDQSxHQUFBc3hFLEVBQUF0eEUsR0FDQSxPQUFBQSxFQUVBQSxJQUFBLE9BRUE0UCxHQUFBLDBHQWtEQWdpRSxDQUFBNWYsR0FDQWh5RCxPQUFBLEVBQ0E2eEUsT0FBQSxFQUNBLE9BQUFGLEVBQUE3bkUsS0FDQSxLQUFBbTVCLEdBQ0FqakMsRUFBQTJ4RSxFQUFBN3ZDLFVBQ0ErdkMsR0FBQSxFQUNBLE1BQ0EsS0FBQTl1QyxFQUlBLEtBQUFDLEdBQ0FoakMsRUFBQTJ4RSxFQUFBN3ZDLFVBQUEraEIsY0FDQWd1QixHQUFBLEVBQ0EsTUFDQSxRQUNBamlFLEdBQUEscUdBRUEraEUsRUFBQXYwQixVQUFBYixLQUVBdzBCLEVBQUEvd0UsR0FFQTJ4RSxFQUFBdjBCLFlBQUFiLElBT0EsSUFKQSxJQUFBdTFCLEVBckVBLFNBQUEzL0IsR0FJQSxJQUFBL3JCLEVBQUErckIsRUFDQTQvQixFQUFBLFFBRUEsWUFBQTNyRCxFQUFBMjNCLFNBQUEsQ0FDQSxVQUFBMzNCLEVBQUEsUUFBQWtyRCxFQUFBbHJELEVBQUEsUUFHQSxZQUVBQSxJQUFBLE9BSUEsSUFGQUEsRUFBQTIzQixRQUFBLE9BQUEzM0IsRUFBQSxPQUNBQSxJQUFBMjNCLFFBQ0EzM0IsRUFBQXRjLE1BQUFtNUIsSUFBQTdjLEVBQUF0YyxNQUFBbzVCLElBQUEsQ0FHQSxHQUFBOWMsRUFBQWczQixVQUFBakIsR0FFQSxTQUFBNDFCLEVBSUEsVUFBQTNyRCxFQUFBMDNCLE9BQUExM0IsRUFBQXRjLE1BQUFrNUIsR0FDQSxTQUFBK3VDLEVBRUEzckQsRUFBQTAzQixNQUFBLE9BQUExM0IsRUFDQUEsSUFBQTAzQixNQUlBLEtBQUExM0IsRUFBQWczQixVQUFBakIsSUFFQSxPQUFBLzFCLEVBQUEwYixXQWlDQWt3QyxDQUFBaGdCLEdBR0E1ckMsRUFBQTRyQyxJQUNBLENBQ0EsR0FBQTVyQyxFQUFBdGMsTUFBQW01QixJQUFBN2MsRUFBQXRjLE1BQUFvNUIsR0FDQTR1QyxFQUNBRCxFQUNBVixFQUFBbnhFLEVBQUFvbUIsRUFBQTBiLFVBQUFnd0MsR0FFQVosRUFBQWx4RSxFQUFBb21CLEVBQUEwYixVQUFBZ3dDLEdBR0FELEVBQ0FaLEVBQUFqeEUsRUFBQW9tQixFQUFBMGIsV0FFQXAzQixFQUFBMUssRUFBQW9tQixFQUFBMGIsZ0JBR08sR0FBQTFiLEVBQUF0YyxNQUFBazVCLFNBSUEsVUFBQTVjLEVBQUEwM0IsTUFBQSxDQUNQMTNCLEVBQUEwM0IsTUFBQSxPQUFBMTNCLEVBQ0FBLElBQUEwM0IsTUFDQSxTQUVBLEdBQUExM0IsSUFBQTRyQyxFQUNBLE9BRUEsWUFBQTVyQyxFQUFBMjNCLFNBQUEsQ0FDQSxVQUFBMzNCLEVBQUEsUUFBQUEsRUFBQSxTQUFBNHJDLEVBQ0EsT0FFQTVyQyxJQUFBLE9BRUFBLEVBQUEyM0IsUUFBQSxPQUFBMzNCLEVBQUEsT0FDQUEsSUFBQTIzQixVQXVKQTZ5QixlQWpFQSxTQUFBbndDLEdBR0EwdkMsRUFBQTF2QyxHQUNBNHZDLEVBQUE1dkMsSUE4REFvd0MsV0EzREEsU0FBQXB3QyxFQUFBdXhCLEdBQ0EsT0FBQUEsRUFBQWxvRCxLQUNBLEtBQUFnNUIsRUFFQSxPQUVBLEtBQUFHLEdBRUEsSUFBQWd2QyxFQUFBamdCLEVBQUFsd0IsVUFDQSxTQUFBbXdDLEVBQUEsQ0FFQSxJQUFBL1UsRUFBQWxMLEVBQUFoQyxjQUlBaU4sRUFBQSxPQUFBeDhCLElBQUF1dkIsY0FBQWtOLEVBQ0FockUsRUFBQTgvRCxFQUFBOS9ELEtBRUFvNUUsRUFBQXRaLEVBQUEvQixZQUNBK0IsRUFBQS9CLFlBQUEsS0FDQSxPQUFBcWIsR0FDQXdGLEVBQUFtQixFQUFBM0csRUFBQXA1RSxFQUFBK3FFLEVBQUFDLEVBQUFsTCxHQUdBLE9BRUEsS0FBQTl1QixHQUVBLE9BQUE4dUIsRUFBQWx3QixXQUFBbHlCLEdBQUEsb0hBQ0EsSUFBQXNpRSxFQUFBbGdCLEVBQUFsd0IsVUFDQTRwQyxFQUFBMVosRUFBQWhDLGNBSUF5YixFQUFBLE9BQUFockMsSUFBQXV2QixjQUFBMGIsRUFFQSxZQURBc0YsRUFBQWtCLEVBQUF6RyxFQUFBQyxHQUdBLEtBQUEzb0MsRUFFQSxPQUVBLFFBRUFuekIsR0FBQSxnSUFnQkFpL0QsbUJBQ0FNLHFCQUNBTSxrQkFDQUcsbUJBR0FoZ0UsR0FBQSx1Q0FJQXVpRSxNQTRGQUMsR0FBQSxTQUFBcnlFLEdBQ0EsSUFBQXFtRSxFQUFBcm1FLEVBQUFxbUUscUJBQ0FpTSxFQUFBdHlFLEVBQUFzeUUsVUFJQSxJQUFBQSxFQUNBLE9BQ0F2TCxvQkFBQSxXQUNBLFVBRUFDLG9CQUFBLGFBQ0FDLGlDQUFBLGFBQ0E0RCw2QkFBQSxXQUNBaDdELEdBQUEsdUlBRUFpN0QsaUNBQUEsV0FDQWo3RCxHQUFBLDJJQUVBazdELGtCQUFBLFNBQUEzNEIsR0FDQSxXQUtBLElBQUFtZ0MsRUFBQUQsRUFBQUMsbUJBQ0FDLEVBQUFGLEVBQUFFLHVCQUNBQyxFQUFBSCxFQUFBRyx5QkFDQUMsRUFBQUosRUFBQUksd0JBQ0FDLEVBQUFMLEVBQUFLLGdCQUNBQyxFQUFBTixFQUFBTSxvQkFDQUMsRUFBQVAsRUFBQU8seUNBQ0FDLEVBQUFSLEVBQUFRLGdDQUNBQyxFQUFBVCxFQUFBUywrQkFDQUMsRUFBQVYsRUFBQVUsc0JBQ0FDLEVBQUFYLEVBQUFXLHNDQUNBQyxFQUFBWixFQUFBWSwwQ0FDQUMsRUFBQWIsRUFBQWEsNkJBQ0FDLEVBQUFkLEVBQUFjLGlDQUtBQyxFQUFBLEtBQ0FDLEVBQUEsS0FDQUMsR0FBQSxFQVVBLFNBQUFDLEVBQUF6UixFQUFBaHFELEdBRUEsT0FBQWdxRCxFQUFBaDRELEtBQ0EsS0FBQWk1QixFQUNBK3ZDLEVBQUFoUixFQUFBaGdDLFVBQUEraEIsY0FBQS9yQyxHQUNBLE1BQ0EsS0FBQW1yQixHQUNBOHZDLEVBQUFqUixFQUFBNXZFLEtBQUE0dkUsRUFBQTlSLGNBQUE4UixFQUFBaGdDLFVBQUFocUIsR0FLQSxJQXBoS0FxNkIsRUFvaEtBc3dCLElBcGhLQXR3QixFQUFBMGQsR0FBQTVzQixHQUFBLFVBQUFrc0IsS0FDQWo5RCxLQUFBLFVBQ0FpZ0QsR0FtaEtBc3dCLEVBQUEzZ0MsVUFBQWhxQixFQUNBMnFELEVBQUEsT0FBQVgsRUFDQVcsRUFBQXJsQixVQUFBZCxHQU9BLE9BQUF3bEIsRUFBQXpSLFlBQ0F5UixFQUFBelIsV0FBQUYsV0FBQXNTLEVBQ0FYLEVBQUF6UixXQUFBb1MsR0FFQVgsRUFBQTFSLFlBQUEwUixFQUFBelIsV0FBQW9TLEVBSUEsU0FBQStRLEVBQUExUixFQUFBM3ZCLEdBR0EsT0FGQUEsRUFBQWlMLFdBQUFqQixHQUVBMmxCLEVBQUFoNEQsS0FDQSxLQUFBaTVCLEVBRUEsSUFBQTB3QyxFQUFBM1IsRUFBQWhnQyxVQUFBK2hCLGNBQ0EsT0FBQTFSLEVBQUFyb0MsS0FDQSxLQUFBbTVCLEdBQ0EsSUFBQS93QyxFQUFBaWdELEVBQUFqZ0QsS0FDQTBPLEVBQUF1eEMsRUFBQTJkLGFBQ0FrakIsRUFBQVMsRUFBQXZoRixFQUFBME8sR0FDQSxNQUNBLEtBQUFzaUMsR0FDQSxJQUFBdUwsRUFBQTBELEVBQUEyZCxhQUNBbWpCLEVBQUFRLEVBQUFobEMsR0FHQSxNQUVBLEtBQUF4TCxHQUVBLElBQUF5d0MsRUFBQTVSLEVBQUE1dkUsS0FDQXloRixFQUFBN1IsRUFBQTlSLGNBQ0E0akIsRUFBQTlSLEVBQUFoZ0MsVUFDQSxPQUFBcVEsRUFBQXJvQyxLQUNBLEtBQUFtNUIsR0FDQSxJQUFBMlMsRUFBQXpELEVBQUFqZ0QsS0FDQTJoRixFQUFBMWhDLEVBQUEyZCxhQUNBb2pCLEVBQUFRLEVBQUFDLEVBQUFDLEVBQUFoK0IsRUFBQWkrQixHQUNBLE1BQ0EsS0FBQTN3QyxHQUNBLElBQUE0d0MsRUFBQTNoQyxFQUFBMmQsYUFDQXFqQixFQUFBTyxFQUFBQyxFQUFBQyxFQUFBRSxHQUdBLE1BRUEsUUFDQSxRQUtBLFNBQUFDLEVBQUE1aEMsRUFBQTZoQyxHQUNBLE9BQUE3aEMsRUFBQXJvQyxLQUNBLEtBQUFtNUIsR0FFQSxJQUFBL3dDLEVBQUFpZ0QsRUFBQWpnRCxLQUNBME8sRUFBQXV4QyxFQUFBMmQsYUFDQWg0QyxFQUFBdzZELEVBQUEwQixFQUFBOWhGLEVBQUEwTyxHQUNBLGNBQUFrWCxJQUNBcTZCLEVBQUFyUSxVQUFBaHFCLEdBQ0EsR0FJQSxLQUFBb3JCLEdBRUEsSUFBQXVMLEVBQUEwRCxFQUFBMmQsYUFDQW9pQixFQUFBSyxFQUFBeUIsRUFBQXZsQyxHQUNBLGNBQUF5akMsSUFDQS8vQixFQUFBclEsVUFBQW93QyxHQUNBLEdBSUEsUUFDQSxVQW1GQSxTQUFBK0IsRUFBQTloQyxHQUVBLElBREEsSUFBQW55QyxFQUFBbXlDLEVBQUEsT0FDQSxPQUFBbnlDLEtBQUE4SixNQUFBbTVCLElBQUFqakMsRUFBQThKLE1BQUFpNUIsR0FDQS9pQyxJQUFBLE9BRUFvekUsRUFBQXB6RSxFQTRDQSxPQUNBOG1FLG9CQS9PQSxTQUFBMzBCLEdBQ0EsSUFBQXloQyxFQUFBemhDLEVBQUFyUSxVQUFBK2hCLGNBSUEsT0FIQXd2QixFQUFBWixFQUFBbUIsR0FDQVIsRUFBQWpoQyxFQUNBbWhDLEdBQUEsR0FDQSxHQTJPQXZNLG9CQVJBLFdBQ0FxTSxFQUFBLEtBQ0FDLEVBQUEsS0FDQUMsR0FBQSxHQU1BdE0saUNBbklBLFNBQUE3MEIsR0FDQSxHQUFBbWhDLEVBQUEsQ0FHQSxJQUFBVSxFQUFBWCxFQUNBLElBQUFXLEVBS0EsT0FIQVIsRUFBQUosRUFBQWpoQyxHQUNBbWhDLEdBQUEsT0FDQUYsRUFBQWpoQyxHQUdBLElBQUE0aEMsRUFBQTVoQyxFQUFBNmhDLEdBQUEsQ0FLQSxLQURBQSxFQUFBeEIsRUFBQXdCLE1BQ0FELEVBQUE1aEMsRUFBQTZoQyxHQUtBLE9BSEFSLEVBQUFKLEVBQUFqaEMsR0FDQW1oQyxHQUFBLE9BQ0FGLEVBQUFqaEMsR0FPQW9oQyxFQUFBSCxFQUFBQyxHQUVBRCxFQUFBamhDLEVBQ0FraEMsRUFBQVosRUFBQXVCLEtBcUdBcEosNkJBbEdBLFNBQUF6NEIsRUFBQW81QixFQUFBckYsR0FDQSxJQUFBcHVELEVBQUFxNkIsRUFBQXJRLFVBQ0F3cEMsRUFBQW9ILEVBQUE1NkQsRUFBQXE2QixFQUFBamdELEtBQUFpZ0QsRUFBQTZkLGNBQUF1YixFQUFBckYsRUFBQS96QixHQUtBLE9BSEFBLEVBQUE4ZCxZQUFBcWIsRUFHQSxPQUFBQSxHQTRGQVQsaUNBdEZBLFNBQUExNEIsR0FDQSxJQUFBKy9CLEVBQUEvL0IsRUFBQXJRLFVBQ0Erb0IsRUFBQTFZLEVBQUE2ZCxjQUNBdU4sRUFBQW9WLEVBQUFULEVBQUFybkIsRUFBQTFZLEdBRUEsR0FBQW9yQixFQUFBLENBR0EsSUFBQXVFLEVBQUFzUixFQUNBLFVBQUF0UixFQUNBLE9BQUFBLEVBQUFoNEQsS0FDQSxLQUFBaTVCLEVBRUEsSUFBQTB3QyxFQUFBM1IsRUFBQWhnQyxVQUFBK2hCLGNBQ0ErdUIsRUFBQWEsRUFBQXZCLEVBQUFybkIsR0FDQSxNQUVBLEtBQUE1bkIsR0FFQSxJQUFBeXdDLEVBQUE1UixFQUFBNXZFLEtBQ0F5aEYsRUFBQTdSLEVBQUE5UixjQUNBNGpCLEVBQUE5UixFQUFBaGdDLFVBQ0Erd0MsRUFBQWEsRUFBQUMsRUFBQUMsRUFBQTFCLEVBQUFybkIsSUFPQSxPQUFBMFMsR0EwREF1TixrQkEvQ0EsU0FBQTM0QixHQUNBLEdBQUFBLElBQUFpaEMsRUFHQSxTQUVBLElBQUFFLEVBTUEsT0FGQVcsRUFBQTloQyxHQUNBbWhDLEdBQUEsR0FDQSxFQUdBLElBQUFwaEYsRUFBQWlnRCxFQUFBamdELEtBT0EsR0FBQWlnRCxFQUFBcm9DLE1BQUFtNUIsSUFBQSxTQUFBL3dDLEdBQUEsU0FBQUEsSUFBQWswRSxFQUFBbDBFLEVBQUFpZ0QsRUFBQTZkLGVBRUEsSUFEQSxJQUFBZ2tCLEVBQUFYLEVBQ0FXLEdBQ0FULEVBQUFwaEMsRUFBQTZoQyxHQUNBQSxFQUFBeEIsRUFBQXdCLEdBTUEsT0FGQUMsRUFBQTloQyxHQUNBa2hDLEVBQUFELEVBQUFaLEVBQUFyZ0MsRUFBQXJRLFdBQUEsTUFDQSxLQTJCQW95QyxJQUhBQyxVQUFBLE1BS0FDLFFBQUEsRUFHQUEsTUFHQSxJQXNXQUMsR0FBQTEyQyxFQUFBbEIsc0JBQ0FzQixHQUFBSixFQUFBSSxlQUNBQyxHQUFBTCxFQUFBSyxpQkFHQXMyQyxRQUFBLEVBQ0FDLFFBQUEsRUFDQUMsUUFBQSxFQUNBQyxRQUFBLEVBR0FILElBQUEsRUFDQUMsSUFBQSxFQUNBLElBQUFHLE1BRUFGLEdBQUEsU0FBQXJpQyxHQUdBLElBQUFsaUMsRUFBQWlpQyxHQUFBQyxJQUFBLGFBQ0F1aUMsR0FBQXprRSxLQUdBL0QsR0FBQSx1T0FBQXVtQyxHQUFBTixJQUNBdWlDLEdBQUF6a0UsSUFBQSxJQUdBd2tFLEdBQUEsU0FBQTM4RCxHQUNBLE9BQUErNkIsR0FBQWxOLE9BQ0Esc0JBQ0EsR0FBQTR1QyxHQUNBLE9BRUFyb0UsR0FBQSxvRUFDQXFvRSxJQUFBLEVBQ0EsTUFDQSxhQUNBLEdBQUFELEdBQ0EsT0FFQXBvRSxHQUFBLDBRQUNBb29FLElBQUEsSUFNQSxJQUFBSyxHQUFBLFNBQUE1MEUsR0FDQSxJQUFBc1EsRUFuSUEsV0FDQSxJQUFBdWtFLEtBRUFDLE9BQUEsRUFHQUEsS0FHQSxJQUFBMzVFLEdBQUEsRUFpRUEsT0FDQTQ1RSxhQWhFQSxTQUFBMzlCLEdBQ0EsT0FDQTFXLFFBQUEwVyxJQStEQTQ5QixRQTNEQSxXQUNBLFdBQUE3NUUsR0EyREFpSSxJQXhEQSxTQUFBNnhFLEVBQUE3aUMsR0FDQWozQyxFQUFBLEVBRUFnUixHQUFBLHNCQU1BaW1DLElBQUEwaUMsRUFBQTM1RSxJQUNBZ1IsR0FBQSw4QkFJQThvRSxFQUFBdjBDLFFBQUFtMEMsRUFBQTE1RSxHQUVBMDVFLEVBQUExNUUsR0FBQSxLQUdBMjVFLEVBQUEzNUUsR0FBQSxLQUdBQSxNQW1DQWhOLEtBaENBLFNBQUE4bUYsRUFBQXpvRixFQUFBNGxELEdBR0F5aUMsSUFGQTE1RSxHQUVBODVFLEVBQUF2MEMsUUFHQW8wQyxFQUFBMzVFLEdBQUFpM0MsRUFHQTZpQyxFQUFBdjBDLFFBQUFsMEMsR0F3QkEwb0Ysc0JBckJBLFlBRUEsSUFBQS81RSxHQUNBZ1IsR0FBQSxpRUFtQkFncEUsK0JBZEEsV0FFQWg2RSxHQUFBLEVBQ0EwNUUsRUFBQTltRixPQUFBLEVBQ0ErbUYsRUFBQS9tRixPQUFBLElBNkRBcW5GLEdBQ0FqUCxFQXZ5QkEsU0FBQW5tRSxFQUFBc1EsR0FDQSxJQUFBK2tFLEVBQUFyMUUsRUFBQXExRSxvQkFDQUMsRUFBQXQxRSxFQUFBczFFLG1CQUNBUCxFQUFBemtFLEVBQUF5a0UsYUFDQTVtRixFQUFBbWlCLEVBQUFuaUIsS0FDQWlWLEVBQUFrTixFQUFBbE4sSUFHQW15RSxFQUFBUixFQUFBM0MsSUFDQW9ELEVBQUFULEVBQUEzQyxJQUNBcUQsRUFBQVYsRUFBQTNDLElBRUEsU0FBQXNELEVBQUE3cEYsR0FFQSxPQURBQSxJQUFBdW1GLElBQUF2aUUsR0FBQSwwR0FDQWhrQixFQWtFQSxPQUNBeStFLGVBakNBLFdBRUEsT0FEQW9MLEVBQUFILEVBQUE3MEMsVUFpQ0EwcEMscUJBakVBLFdBRUEsT0FEQXNMLEVBQUFELEVBQUEvMEMsVUFpRUE2cEMsaUJBekNBLFNBQUFuNEIsR0FDQWh2QyxFQUFBbXlFLEVBQUFuakMsR0FDQWh2QyxFQUFBb3lFLEVBQUFwakMsR0FDQWh2QyxFQUFBcXlFLEVBQUFyakMsSUF1Q0FpNEIsZUFmQSxTQUFBajRCLEdBR0FvakMsRUFBQTkwQyxVQUFBMFIsSUFJQWh2QyxFQUFBbXlFLEVBQUFuakMsR0FDQWh2QyxFQUFBb3lFLEVBQUFwakMsS0FRQW8wQixrQkEvREEsU0FBQXAwQixFQUFBdWpDLEdBR0F4bkYsRUFBQXNuRixFQUFBRSxFQUFBdmpDLEdBR0Fqa0QsRUFBQXFuRixFQUFBcGpDLEtBT0Fqa0QsRUFBQW9uRixFQUFBbkQsR0FBQWhnQyxHQUNBLElBQUF3akMsRUFBQU4sRUFBQUssR0FFQXZ5RSxFQUFBbXlFLEVBQUFuakMsR0FDQWprRCxFQUFBb25GLEVBQUFLLEVBQUF4akMsSUErQ0FtMEIsZ0JBakNBLFNBQUFuMEIsR0FDQSxJQUFBeWpDLEVBQUFILEVBQUFELEVBQUEvMEMsU0FDQXhkLEVBQUF3eUQsRUFBQUgsRUFBQTcwQyxTQUNBbzFDLEVBQUFULEVBQUFueUQsRUFBQWt2QixFQUFBamdELEtBQUEwakYsR0FHQTN5RCxJQUFBNHlELElBTUEzbkYsRUFBQXFuRixFQUFBcGpDLEtBQ0Fqa0QsRUFBQW9uRixFQUFBTyxFQUFBMWpDLE1BcXVCQTJqQyxDQUFBLzFFLEVBQUFzUSxHQUNBNnJELEVBdlpBLFNBQUE3ckQsR0FDQSxJQUFBeWtFLEVBQUF6a0UsRUFBQXlrRSxhQUNBNW1GLEVBQUFtaUIsRUFBQW5pQixLQUNBaVYsRUFBQWtOLEVBQUFsTixJQUlBbXlFLEVBQUFSLEVBQUF4a0UsR0FFQXlsRSxFQUFBakIsR0FBQSxHQUlBa0IsRUFBQTFsRSxFQWNBLFNBQUFpc0QsRUFBQTdwQixFQUFBdXJCLEVBQUFnWSxHQUNBLElBQUFuK0QsRUFBQTQ2QixFQUFBNVEsVUFDQWhxQixFQUFBbytELDRDQUFBalksRUFDQW5tRCxFQUFBcStELDBDQUFBRixFQTZDQSxTQUFBRyxFQUFBamtDLEdBQ0EsT0FBQUEsRUFBQXJvQyxNQUFBZzVCLEdBQUEsTUFBQXFQLEVBQUFqZ0QsS0FBQWt1RSxrQkF3QkEsU0FBQWlXLEVBQUFsa0MsRUFBQW1rQyxHQUNBLElBaUJBQyxFQWpCQXorRCxFQUFBcTZCLEVBQUFyUSxVQUNBcytCLEVBQUFqdUIsRUFBQWpnRCxLQUFBa3VFLGtCQUlBLHNCQUFBdG9ELEVBQUFxb0QsZ0JBQUEsQ0FFQSxJQUFBbHdELEVBQUFpaUMsR0FBQUMsSUFBQSxVQU9BLE9BTEFpaUMsR0FBQW5rRSxLQUNBbWtFLEdBQUFua0UsSUFBQSxFQUNBL0QsR0FBQSxtTEFBQStELE1BR0FxbUUsRUFhQSxRQUFBRSxLQVJBM2pDLEdBQUFJLGdCQUFBLG1CQUVBc2xCLEdBQUFwbUIsRUFBQSxtQkFDQW9rQyxFQUFBeitELEVBQUFxb0Qsa0JBQ0EzSCxLQUVBM2xCLEdBQUFJLGdCQUFBLE1BRUFzakMsRUFDQUMsS0FBQXBXLEdBQUF4d0QsR0FBQSx3RUFBQXNpQyxHQUFBQyxJQUFBLFVBQUFxa0MsR0FHQSxJQUFBMXFGLEVBQUFvbUQsR0FBQUMsSUFBQSxVQVVBLE9BVEEvVixFQUFBZ2tDLEVBQUFtVyxFQUFBLGdCQUFBenFGLEVBTUErbUQsR0FBQU0sOEJBR0EvbEQsS0FBcUJrcEYsRUFBQUMsR0FnRXJCLE9BQ0E5WixtQkFoTUEsU0FBQS9wQixHQUVBLE9BREEwakMsRUFBQTFqQyxHQU1Bc2pDLEVBRUFWLEVBQUE3MEMsU0F3TEE4N0IsZUFDQUMsaUJBaExBLFNBQUE5cEIsRUFBQXVyQixHQUNBLElBQ0FnQixFQURBdnNCLEVBQUF4Z0QsS0FDQStzRSxhQUNBLElBQUFBLEVBQ0EsT0FBQTN1RCxFQU1BLElBQUF3SCxFQUFBNDZCLEVBQUE1USxVQUNBLEdBQUFocUIsS0FBQW8rRCw4Q0FBQWpZLEVBQ0EsT0FBQW5tRCxFQUFBcStELDBDQUdBLElBQUFsekQsS0FDQSxRQUFBdnNCLEtBQUF1b0UsRUFDQWg4QyxFQUFBdnNCLEdBQUF1bkUsRUFBQXZuRSxHQUlBLElBQUE1SyxFQUFBb21ELEdBQUFRLElBQUEsVUFVQSxPQVRBdFcsRUFBQTZpQyxFQUFBaDhDLEVBQUEsVUFBQW4zQixFQUFBK21ELEdBQUFNLDhCQUtBcjdCLEdBQ0F5a0QsRUFBQTdwQixFQUFBdXJCLEVBQUFoN0MsR0FHQUEsR0FrSkEwNUMsa0JBL0lBLFdBQ0EsT0FBQW9aLEVBQUF0MUMsU0ErSUFpOEIsa0JBNUlBLFNBQUF2cUIsR0FDQSxPQUFBQSxFQUFBcm9DLE1BQUFnNUIsR0FBQSxNQUFBcVAsRUFBQWpnRCxLQUFBK3NFLGNBNElBbVgsb0JBQ0E1TCxtQkF0SUEsU0FBQXI0QixHQUNBaWtDLEVBQUFqa0MsS0FJQWh2QyxFQUFBNHlFLEVBQUE1akMsR0FDQWh2QyxFQUFBbXlFLEVBQUFuakMsS0FpSUF1NEIseUJBOUhBLFNBQUF2NEIsR0FDQWh2QyxFQUFBNHlFLEVBQUE1akMsR0FDQWh2QyxFQUFBbXlFLEVBQUFuakMsSUE2SEF5MEIsMEJBMUhBLFNBQUF6MEIsRUFBQWx2QixFQUFBd3pELEdBQ0EsTUFBQW5CLEVBQUFOLFFBQUFwbEUsR0FBQSw2R0FFQTFoQixFQUFBb25GLEVBQUFyeUQsRUFBQWt2QixHQUNBamtELEVBQUE2bkYsRUFBQVUsRUFBQXRrQyxJQXVIQWtrQyxzQkFDQTFQLG9CQXhFQSxTQUFBajBCLEdBQ0EsSUFBQTBqQyxFQUFBMWpDLEdBQ0EsU0FHQSxJQUFBNTZCLEVBQUE0NkIsRUFBQTVRLFVBSUE0MEMsRUFBQTUrRCxLQUFBNitELDJDQUFBcm1FLEVBUUEsT0FKQTBsRSxFQUFBVixFQUFBNzBDLFFBQ0F2eUMsRUFBQW9uRixFQUFBb0IsRUFBQWhrQyxHQUNBeGtELEVBQUE2bkYsSUFBQXQxQyxRQUFBaVMsSUFFQSxHQXdEQW0wQiwwQkFyREEsU0FBQW4wQixFQUFBK2pDLEdBQ0EsSUFBQTMrRCxFQUFBNDZCLEVBQUE1USxVQUdBLEdBRkFocUIsR0FBQWxJLEdBQUEsc0hBRUE2bUUsRUFBQSxDQUlBLElBQUFHLEVBQUFQLEVBQUEzakMsRUFBQXNqQyxHQUNBbCtELEVBQUE2K0QsMENBQUFDLEVBSUF6ekUsRUFBQTR5RSxFQUFBcmpDLEdBQ0F2dkMsRUFBQW15RSxFQUFBNWlDLEdBRUF4a0QsRUFBQW9uRixFQUFBc0IsRUFBQWxrQyxHQUNBeGtELEVBQUE2bkYsRUFBQVUsRUFBQS9qQyxRQUVBdnZDLEVBQUE0eUUsRUFBQXJqQyxHQUNBeGtELEVBQUE2bkYsRUFBQVUsRUFBQS9qQyxJQWtDQW1rQywyQkE5QkEsU0FBQTFrQyxHQUdBa0wsR0FBQWxMLE1BQUFyb0MsTUFBQWc1QixHQUFBbHpCLEdBQUEsbUlBR0EsSUFEQSxJQUFBd1csRUFBQStyQixFQUNBL3JCLEVBQUF0YyxNQUFBaTVCLEdBQUEsQ0FDQSxHQUFBcXpDLEVBQUFod0QsR0FDQSxPQUFBQSxFQUFBMGIsVUFBQTYwQywwQ0FFQSxJQUFBMzJFLEVBQUFvbUIsRUFBQSxPQUNBcG1CLEdBQUE0UCxHQUFBLG9IQUNBd1csRUFBQXBtQixFQUVBLE9BQUFvbUIsRUFBQTBiLFVBQUE3ZSxVQTRNQTZ6RCxDQUFBem1FLEdBQ0FndEQsRUF6TEEsU0FBQWh0RCxHQUNBLElBQUF5a0UsRUFBQXprRSxFQUFBeWtFLGFBQ0E1bUYsRUFBQW1pQixFQUFBbmlCLEtBQ0FpVixFQUFBa04sRUFBQWxOLElBR0E0ekUsRUFBQWpDLEVBQUEsTUFDQWtDLEVBQUFsQyxFQUFBLE1BQ0FtQyxFQUFBbkMsRUFBQSxHQUVBb0MsT0FBQSxFQW1DQSxPQWhDQUEsTUFpQ0ExUSxhQTlCQSxTQUFBMlEsR0FDQSxJQUFBbDBELEVBQUFrMEQsRUFBQWpsRixLQUFBaTNFLFNBRUFqN0UsRUFBQStvRixFQUFBaDBELEVBQUF1bUQsYUFBQTJOLEdBQ0FqcEYsRUFBQThvRixFQUFBL3pELEVBQUFzbUQsY0FBQTROLEdBQ0FqcEYsRUFBQTZvRixFQUFBSSxLQUVBbDBELEVBQUFzbUQsY0FBQTROLEVBQUFybkIsYUFBQXZqRSxNQUNBMDJCLEVBQUF1bUQsYUFBQTJOLEVBQUFyMUMsVUFHQTUxQixFQUFBLE9BQUErVyxFQUFBbTBELGtCQUFBbjBELEVBQUFtMEQsbUJBQUFGLEVBQUEsZ0hBQ0FqMEQsRUFBQW0wRCxpQkFBQUYsR0FtQkF2TSxZQWZBLFNBQUF3TSxHQUNBLElBQUF2UCxFQUFBcVAsRUFBQXgyQyxRQUNBcmIsRUFBQTR4RCxFQUFBdjJDLFFBRUF0OUIsRUFBQTR6RSxFQUFBSSxHQUNBaDBFLEVBQUE2ekUsRUFBQUcsR0FDQWgwRSxFQUFBOHpFLEVBQUFFLEdBRUEsSUFBQWwwRCxFQUFBazBELEVBQUFqbEYsS0FBQWkzRSxTQUNBbG1ELEVBQUFzbUQsY0FBQW5rRCxFQUNBbkMsRUFBQXVtRCxhQUFBNUIsSUErSUF5UCxDQUFBaG5FLEdBQ0ErNUQsRUFBQWxFLEVBQUFrRSxlQUNBRSxFQUFBcEUsRUFBQW9FLGlCQUNBRyxFQUFBdk8sRUFBQXdPLHlCQUNBSCxFQUFBck8sRUFBQXNPLG1CQUNBRyxFQUFBdE4sRUFBQXNOLFlBRUF4RSxFQUFBaU0sR0FBQXJ5RSxHQUdBbW9FLEVBREFqQyxHQUFBbG1FLEVBQUFtbUUsRUFBQWhLLEVBQUFtQixFQUFBOEksRUFBQWhLLEdBQUFDLElBQ0E4TCxVQUdBc0UsRUFEQTdDLEdBQUE1cEUsRUFBQW1tRSxFQUFBaEssRUFBQW1CLEVBQUE4SSxHQUNBcUcsYUFFQThLLEVBbnVEQSxTQUFBcFIsRUFBQWhLLEVBQUFtQixFQUFBbEIsRUFBQW9iLEdBQ0EsSUFBQWpOLEVBQUFwRSxFQUFBb0UsaUJBQ0FGLEVBQUFsRSxFQUFBa0UsZUFDQUcsRUFBQXJPLEVBQUFzTyxtQkFDQUMsRUFBQXZPLEVBQUF3Tyx5QkFDQUMsRUFBQXROLEVBQUFzTixZQW9IQSxPQUNBNk0sZUFsSEEsU0FBQTFWLEVBQUEyVixFQUFBQyxHQUVBRCxFQUFBcjZCLFdBQUFOLEdBRUEyNkIsRUFBQXJuQixZQUFBcW5CLEVBQUFwbkIsV0FBQSxLQUVBLElBQUE5akUsRUFBQXlnRixHQUFBMEssRUFBQUQsR0FFQS9rQyxFQUFBb3ZCLEVBQ0EsR0FDQSxPQUFBcHZCLEVBQUE1b0MsS0FDQSxLQUFBaTVCLEVBR0EsSUFBQXdxQyxFQUFBaGhGLEVBS0EsT0FKQXV0RSxHQUFBcG5CLEdBQ0FBLEVBQUF1ZCxZQUNBdUosZ0JBQUErVCxRQUNBNzZCLEVBQUEwSyxXQUFBTCxJQUdBLEtBQUFqYSxFQUVBLElBQUErNEIsRUFBQW5wQixFQUFBeGdELEtBQ0F5NkUsRUFBQWo2QixFQUFBNVEsVUFDQSxJQUFBNFEsRUFBQTBLLFVBQUFYLE1BQUFSLEtBQUEsbUJBQUE0ZixFQUFBRSwwQkFBQXpHLElBQUEsT0FBQXFYLEdBQUEsbUJBQUFBLEVBQUFGLG9CQUFBOEssRUFBQTVLLElBQUEsQ0FDQTdTLEdBQUFwbkIsR0FDQSxJQUFBcXVCLEVBQUFydUIsRUFBQXVkLFlBQ0F1SixFQUFBdUgsRUFBQXZILGVBT0EsT0FOQSxPQUFBQSxFQUNBdUgsRUFBQXZILGdCQUFBanRFLEdBRUFpdEUsRUFBQXRyRSxLQUFBM0IsUUFFQW1tRCxFQUFBMEssV0FBQUwsS0FPQXJLLElBQUEsYUFDSyxPQUFBQSxJQXlFTGlsQyxXQXRFQSxTQUFBamxDLEdBQ0EsT0FBQUEsRUFBQTVvQyxLQUNBLEtBQUFnNUIsRUFFQXluQyxFQUFBNzNCLEdBQ0EsSUFBQTBLLEVBQUExSyxFQUFBMEssVUFDQSxPQUFBQSxFQUFBTCxJQUNBckssRUFBQTBLLGFBQUFMLEdBQUFOLEdBQ0EvSixHQUVBLEtBRUEsS0FBQTNQLEVBRUF1bkMsRUFBQTUzQixHQUNBKzNCLEVBQUEvM0IsR0FDQSxJQUFBa2xDLEVBQUFsbEMsRUFBQTBLLFVBQ0EsT0FBQXc2QixFQUFBNzZCLElBQ0FySyxFQUFBMEssVUFBQXc2QixHQUFBNzZCLEdBQUFOLEdBQ0EvSixHQUVBLEtBRUEsS0FBQXpQLEdBR0EsT0FEQW1uQyxFQUFBMTNCLEdBQ0EsS0FFQSxLQUFBMVAsR0FFQSxPQURBc25DLEVBQUE1M0IsR0FDQSxLQUNBLEtBQUFqUCxHQUVBLE9BREFrbkMsRUFBQWo0QixHQUNBLEtBQ0EsUUFDQSxjQW9DQW1sQyxzQkFoQ0EsU0FBQUMsR0FDQSxPQUFBQSxFQUFBaHVFLEtBQ0EsS0FBQWc1QixFQUVBeW5DLEVBQUF1TixHQUNBLE1BRUEsS0FBQS8wQyxFQUVBdW5DLEVBQUF3TixHQUNBck4sRUFBQXFOLEdBQ0EsTUFFQSxLQUFBNzBDLEdBRUFtbkMsRUFBQTBOLEdBQ0EsTUFFQSxLQUFBOTBDLEdBQ0FzbkMsRUFBQXdOLEdBQ0EsTUFDQSxLQUFBcjBDLEdBQ0FrbkMsRUFBQW1OLE1BaW5EQUMsQ0FBQTdSLEVBQUFoSyxFQUFBbUIsRUFBQWxCLEVBQUFvYixJQUNBQyxFQUFBRixFQUFBRSxlQUNBRyxFQUFBTCxFQUFBSyxXQUNBRSxFQUFBUCxFQUFBTyxzQkFFQUcsRUFBQS9KLEdBQUFsdUUsRUFBQWs0RSxHQUFBOWIsRUFBQUMsRUF5UEEsU0FBQXRrRCxHQUNBLE9BQUFvZ0UsRUFDQUEsRUFBQSxJQUFBdm9CLEtBQUE3M0MsSUFFQW9nRSxFQUFBeDZFLElBQUFvYSxLQTVQQTIyRCxFQUFBdUosRUFBQXZKLCtCQUNBaUMsRUFBQXNILEVBQUF0SCx1QkFDQUMsRUFBQXFILEVBQUFySCxnQkFDQUMsRUFBQW9ILEVBQUFwSCxlQUNBQyxFQUFBbUgsRUFBQW5ILFdBQ0FoQyxFQUFBbUosRUFBQW5KLGlCQUNBTSxFQUFBNkksRUFBQTdJLG1CQUNBTSxFQUFBdUksRUFBQXZJLGdCQUNBRyxFQUFBb0ksRUFBQXBJLGdCQUVBbDJELEVBQUEzWixFQUFBMlosSUFDQXkrRCxFQUFBcDRFLEVBQUFvNEUseUJBQ0FDLEVBQUFyNEUsRUFBQXE0RSx1QkFDQUMsRUFBQXQ0RSxFQUFBczRFLGlCQUNBQyxFQUFBdjRFLEVBQUF1NEUsaUJBSUFDLEVBQUE3K0QsSUFFQTgrRCxHQURBN3BCLEdBQUEsR0FDQTRwQixHQUdBRSxFQUFBLEVBS0FDLEVBQUFwcUIsR0FFQXFxQixHQUFBLEVBR0FDLEVBQUEsS0FDQUMsRUFBQSxLQUVBQyxFQUFBeHFCLEdBR0E2QixFQUFBLEtBRUFpRyxHQUFBLEVBRUEyaUIsR0FBQSxFQUVBYixFQUFBLEtBR0F4ZixFQUFBLEtBRUFzZ0IsT0FBQSxFQUNBQyxPQUFBLEVBQ0FDLFFBQUEsRUFDQUMsUUFBQSxFQUNBQyxRQUFBLEVBNkNBLFNBQUFDLEtBQ0EsVUFBQVQsRUFFQSxJQURBLElBQUFkLEVBQUFjLEVBQUEsT0FDQSxPQUFBZCxHQUNBRCxFQUFBQyxHQUNBQSxJQUFBLE9BS0FsbEIsR0FBQUMseUJBQ0F4aUQsRUFBQTRrRSx3QkFHQTRELEVBQUEsS0FDQUMsRUFBQXhxQixHQUNBc3FCLEVBQUEsS0FFQUcsR0FBQSxFQUdBLFNBQUFPLEtBQ0EsWUFBQW5wQixHQUFBLENBRUF0ZCxHQUFBRyxnQkFBQW1kLEdBRUErSCxLQUVBLElBQUE5YSxFQUFBK1MsRUFBQS9TLFVBTUEsR0FKQUEsRUFBQWIsSUFDQW0wQixFQUFBdmdCLEdBR0EvUyxFQUFBVixHQUFBLENBQ0EsSUFBQWpjLEVBQUEwdkIsRUFBQTlxQixVQUNBLE9BQUE1RSxHQUNBbXZDLEVBQUFudkMsR0FTQSxPQURBMmMsR0FBQWpCLEdBQUFDLEdBQUFFLEtBRUEsS0FBQUgsR0FFQXcwQixFQUFBeGdCLEdBTUFBLEVBQUEvUyxZQUFBakIsR0FDQSxNQUVBLEtBQUFFLEdBR0FzMEIsRUFBQXhnQixHQUdBQSxFQUFBL1MsWUFBQWpCLEdBR0EsSUFBQW85QixFQUFBcHBCLEVBQUE5cUIsVUFDQXdyQyxFQUFBMEksRUFBQXBwQixHQUNBLE1BRUEsS0FBQS9ULEdBRUEsSUFBQW85QixFQUFBcnBCLEVBQUE5cUIsVUFDQXdyQyxFQUFBMkksRUFBQXJwQixHQUNBLE1BRUEsS0FBQTdULEdBRUFzMEIsRUFBQXpnQixHQUlBQSxlQUlBdGQsR0FBQUMsb0JBSUEsU0FBQTJtQyxLQUNBLFlBQUF0cEIsR0FBQSxDQUdBLEdBRkFBLEVBQUEvUyxVQUVBUixHQUFBLENBQ0FzYixLQUNBLElBQUF6M0IsRUFBQTB2QixFQUFBOXFCLFVBQ0FvcEMsRUFBQWh1QyxFQUFBMHZCLEdBS0FBLGdCQUlBLFNBQUF1cEIsR0FBQTVLLEVBQUEvZixFQUFBZ2dCLEdBUUEsSUFOQW5jLEdBQUFHLHNDQUVBMkMsSUFDQTlDLEdBQUFFLGtDQUdBLE9BQUEzQyxHQUFBLENBQ0EsSUFBQS9TLEVBQUErUyxFQUFBL1MsVUFFQSxHQUFBQSxHQUFBaEIsR0FBQUksSUFBQSxDQUNBMGIsS0FDQSxJQUFBejNCLEVBQUEwdkIsRUFBQTlxQixVQUNBd3BDLEVBQUFDLEVBQUFydUMsRUFBQTB2QixFQUFBcEIsRUFBQWdnQixHQUdBM3hCLEVBQUFULElBQ0F3eUIsRUFBQWhmLEVBQUFpZixJQUdBaHlCLEVBQUFWLEtBQ0F3YixLQUNBdVgsRUFBQXRmLElBR0EsSUFBQWhyRCxFQUFBZ3JELGFBS0FBLGFBQUEsS0FHQUEsRUFBQWhyRCxHQUlBLFNBQUFveUUsR0FBQXovRCxHQUNBLGNBQUFvZ0UsS0FBQTlnRixJQUFBMGdCLEdBV0EsU0FBQTZoRSxHQUFBM25CLEdBQ0EybUIsR0FBQSxFQUNBdmlCLEdBQUEsRUFDQXdDLEtBRUEsSUFBQTFVLEVBQUE4TixFQUFBbHdCLFVBQ0FvaUIsRUFBQXpqQixVQUFBdXhCLEdBQUFwaUQsR0FBQSxxS0FDQSxJQUFBbS9ELEVBQUE3cUIsRUFBQTZOLDRCQUNBZ2QsSUFBQXpnQixJQUFBMStDLEdBQUEsNEdBQ0FzMEMsRUFBQTZOLDRCQUFBekQsR0FFQSxJQUFBUyxFQUFBcWYsS0FHQXg5QixHQUFBblEsUUFBQSxLQUVBLElBQUEydkIsT0FBQSxFQXNCQSxJQXJCQTRCLEVBQUE1VSxVQUFBbEIsR0FLQSxPQUFBOFYsRUFBQTNCLFlBQ0EyQixFQUFBM0IsV0FBQUYsV0FBQTZCLEVBQ0E1QixFQUFBNEIsRUFBQTVCLGFBRUFBLEVBQUE0QixFQUlBNUIsRUFBQTRCLEVBQUE1QixZQUdBaW9CLEVBQUFuMEIsRUFBQUwsZUFHQXNNLEVBQUFDLEVBenNLQSxXQUNBLEdBQUErRSxHQUFBLENBQ0EsSUFBQVEsR0FDQSxPQUVBYSxHQUFBLEVBQ0FNLEdBQUEsa0NBb3NLQThpQixHQUNBLE9BQUF6cEIsR0FBQSxDQUNBLElBQUFsekIsR0FBQSxFQUNBdmhDLE9BQUEsRUFFQTI0RSxHQUFBLEtBQUFvRixHQUFBLE1BQ0ExN0MsT0FDQWQsR0FBQSxFQUNBdmhDLEVBQUFzaUMsTUFHQWYsSUFDQSxPQUFBa3pCLEdBQUF2Z0QsR0FBQSxtR0FDQXFvRSxHQUFBOW5CLEVBQUF6MEQsR0FFQSxPQUFBeTBELElBQ0FBLGlCQVdBLEtBM3RLQSxXQUNBLEdBQUFnRixHQUFBLENBQ0EsSUFBQVEsR0FDQSxPQUVBLElBQUFqZ0MsRUFBQThnQyxHQUNBQSxHQUFBLEVBQ0FPLEdBQUEsaUNBQUFyaEMsRUFBQSxpREE2c0tBbWtELEdBS0ExcEIsRUFBQUMsRUE5c0tBLFdBQ0EsR0FBQStFLEdBQUEsQ0FDQSxJQUFBUSxHQUNBLE9BRUFhLEdBQUEsRUFDQU0sR0FBQSw4QkF5c0tBZ2pCLEdBQ0EsT0FBQTNwQixHQUFBLENBQ0EsSUFBQTRwQixHQUFBLEVBQ0FyaEQsT0FBQSxFQUVBMjdDLEdBQUEsS0FBQWlGLEdBQUEsTUFDQXY3QyxPQUNBZzhDLEdBQUEsRUFDQXJoRCxFQUFBc0YsTUFHQSs3QyxJQUNBLE9BQUE1cEIsR0FBQXZnRCxHQUFBLG1HQUNBcW9FLEdBQUE5bkIsRUFBQXozQixHQUVBLE9BQUF5M0IsSUFDQUEsaUJBb0JBLEtBenVLQSxXQUNBLEdBQUFnRixHQUFBLENBQ0EsSUFBQVEsR0FDQSxPQUVBLElBQUFqZ0MsRUFBQThnQyxHQUNBQSxHQUFBLEVBQ0FPLEdBQUEsNkJBQUFyaEMsRUFBQSw2Q0FrdEtBc2tELEdBRUExQixFQUFBcDBCLEVBQUFMLGVBTUFLLEVBQUF6akIsUUFBQXV4QixFQU1BN0IsRUFBQUMsRUE1dEtBLFdBQ0EsR0FBQStFLEdBQUEsQ0FDQSxJQUFBUSxHQUNBLE9BRUFhLEdBQUEsRUFDQU0sR0FBQSxnQ0F1dEtBbWpCLEdBQ0EsT0FBQTlwQixHQUFBLENBQ0EsSUFBQStwQixHQUFBLEVBQ0FDLE9BQUEsRUFFQTlGLEdBQUEsS0FBQXFGLEdBQUEsS0FBQXgxQixFQUFBNkssRUFBQWdnQixHQUNBaHhDLE9BQ0FtOEMsR0FBQSxFQUNBQyxFQUFBbjhDLE1BR0FrOEMsSUFDQSxPQUFBL3BCLEdBQUF2Z0QsR0FBQSxtR0FDQXFvRSxHQUFBOW5CLEVBQUFncUIsR0FDQSxPQUFBaHFCLElBQ0FBLGlCQUtBaUcsR0FBQSxFQUNBdWlCLEdBQUEsRUF4dUtBLFdBQ0EsR0FBQXhqQixHQUFBLENBQ0EsSUFBQVEsR0FDQSxPQUVBLElBQUFqZ0MsRUFBQThnQyxHQUNBQSxHQUFBLEVBQ0FPLEdBQUEsK0JBQUFyaEMsRUFBQSwrQ0FrdUtBMGtELEdBQ0F0aEIsS0FFQXJHLEdBQUFULEVBQUFsd0IsV0FFQW95QyxHQUFBQyxXQUNBRCxHQUFBQyxVQUFBa0csYUFBQXJvQixHQUdBLElBQUFzb0IsRUFBQXAyQixFQUFBempCLFFBQUFvdUIsZUFNQSxPQUxBeXJCLElBQUFoc0IsS0FHQTRwQixFQUFBLE1BRUFvQyxFQUdBLFNBQUFDLEdBQUE3bkMsRUFBQThuQyxHQUNBLEdBQUFBLElBQUFoc0IsSUFBQTliLEVBQUFtYyxpQkFBQUwsR0FBQSxDQWFBLElBTkEsSUFBQWlzQixFQWxvS0EsU0FBQXRvQyxHQUNBLE9BQUFBLEVBQUFyb0MsS0FDQSxLQUFBaTVCLEVBQ0EsS0FBQUQsRUFDQSxJQUFBbXRCLEVBQUE5ZCxFQUFBOGQsWUFDQSxjQUFBQSxFQUNBM0IsR0FFQTJCLEVBQUFwQixlQUNBLFFBQ0EsT0FBQVAsSUF3bktBb3NCLENBQUFob0MsR0FLQW9MLEVBQUFwTCxFQUFBb0wsTUFDQSxPQUFBQSxHQUNBQSxFQUFBK1EsaUJBQUFQLEtBQUFtc0IsSUFBQW5zQixJQUFBbXNCLEVBQUEzOEIsRUFBQStRLGtCQUNBNHJCLEVBQUEzOEIsRUFBQStRLGdCQUVBL1EsSUFBQUMsUUFFQXJMLEVBQUFtYyxlQUFBNHJCLEdBR0EsU0FBQUUsR0FBQWpvQyxHQUlBLFFBS0EsSUFBQWpTLEVBQUFpUyxFQUFBck4sVUFFQXdOLEdBQUFHLGdCQUFBTixHQUdBLElBQUFvdkIsRUFBQXB2QixFQUFBLE9BQ0Frb0MsRUFBQWxvQyxFQUFBcUwsUUFFQSxJQUFBckwsRUFBQTBLLFVBQUFOLE1BQUFiLEdBQUEsQ0FFQSxJQUFBOTJDLEVBQUFxbkUsRUFBQS9yQyxFQUFBaVMsRUFBQW9tQyxHQU9BLEdBTkF6Z0IsR0FBQTNsQixHQUNBNm5DLEdBQUE3bkMsRUFBQW9tQyxHQUVBam1DLEdBQUFDLG9CQUdBLE9BQUEzdEMsRUFPQSxPQU5Ba3pELEdBQUEzbEIsR0FDQXdoQyxHQUFBQyxXQUNBRCxHQUFBQyxVQUFBMEcsZUFBQW5vQyxHQUlBdnRDLEVBR0EsVUFBQTI4RCxJQUVBQSxFQUFBMWtCLFVBQUFOLE1BQUFiLEdBSUEsT0FBQTZsQixFQUFBMVIsY0FDQTBSLEVBQUExUixZQUFBMWQsRUFBQTBkLGFBRUEsT0FBQTFkLEVBQUEyZCxhQUNBLE9BQUF5UixFQUFBelIsYUFDQXlSLEVBQUF6UixXQUFBRixXQUFBemQsRUFBQTBkLGFBRUEwUixFQUFBelIsV0FBQTNkLEVBQUEyZCxZQVNBM2QsRUFBQTBLLFVBR0FsQixLQUNBLE9BQUE0bEIsRUFBQXpSLFdBQ0F5UixFQUFBelIsV0FBQUYsV0FBQXpkLEVBRUFvdkIsRUFBQTFSLFlBQUExZCxFQUVBb3ZCLEVBQUF6UixXQUFBM2QsR0FRQSxHQUpBd2hDLEdBQUFDLFdBQ0FELEdBQUFDLFVBQUEwRyxlQUFBbm9DLEdBR0EsT0FBQWtvQyxFQUVBLE9BQUFBLEVBQ1MsVUFBQTlZLEVBQUEsQ0FFVHB2QixFQUFBb3ZCLEVBQ0EsU0FJQSxPQURBaVgsR0FBQSxFQUNBLEtBTUEsSUFBQStCLEVBQUFuRCxFQUFBamxDLEdBYUEsR0FYQUEsRUFBQTBLLFVBQUFYLEdBRUE2YixHQUFBNWxCLEdBRUEybEIsR0FBQTNsQixHQUlBRyxHQUFBQyxvQkFHQSxPQUFBZ29DLEVBVUEsT0FUQXppQixHQUFBM2xCLEdBQ0F3aEMsR0FBQUMsV0FDQUQsR0FBQUMsVUFBQTBHLGVBQUFub0MsR0FNQW9vQyxFQUFBMTlCLFdBQUFQLEdBQ0FpK0IsRUFhQSxHQVZBLE9BQUFoWixJQUVBQSxFQUFBMVIsWUFBQTBSLEVBQUF6UixXQUFBLEtBQ0F5UixFQUFBMWtCLFdBQUFOLElBR0FvM0IsR0FBQUMsV0FDQUQsR0FBQUMsVUFBQTBHLGVBQUFub0MsR0FHQSxPQUFBa29DLEVBRUEsT0FBQUEsRUFDUyxVQUFBOVksRUFLVCxZQUhBcHZCLEVBQUFvdkIsRUFXQSxZQUdBLFNBQUFpWixHQUFBcm9DLEdBS0EsSUFBQWpTLEVBQUFpUyxFQUFBck4sV0ExbkxBLFNBQUE4TSxHQUNBLEdBQUFnakIsR0FBQSxDQUNBLElBQUFRLElBQUFrQyxHQUFBMWxCLEdBQ0EsT0FJQSxHQURBOGpCLEdBQUE5akIsR0FDQXNsQixHQUFBdGxCLEVBQUEsTUFDQSxPQUVBQSxFQUFBb2UseUJBQUEsR0FtbkxBeXFCLENBQUF0b0MsR0FFQUcsR0FBQUcsZ0JBQUFOLEdBR0EraUIsS0FDQXVqQixFQUFBdm5CLEdBQUF1bkIsRUFBQXRtQyxJQUVBLElBQUF2dEMsRUFBQStpRSxFQUFBem5DLEVBQUFpUyxFQUFBb21DLEdBc0JBLE9BcEJBam1DLEdBQUFDLG9CQUNBb21DLElBS0FFLEtBR0FsRixHQUFBQyxXQUNBRCxHQUFBQyxVQUFBOEcsWUFBQXZvQyxHQUdBLE9BQUF2dEMsSUFFQUEsRUFBQXcxRSxHQUFBam9DLElBR0E5QixHQUFBblEsUUFBQSxLQUVBdDdCLEVBR0EsU0FBQSsxRSxHQUFBdnBCLEdBQ0EsR0FBQUEsRUFPQSxZQUFBaW5CLElBQUF1QyxNQUNBdkMsRUFBQW1DLEdBQUFuQyxRQU5BLFlBQUFBLEdBQ0FBLEVBQUFtQyxHQUFBbkMsR0FVQSxTQUFBd0MsR0FBQWwzQixFQUFBMkssRUFBQThDLEdBQ0FnbkIsR0FBQS9vRSxHQUFBLDZHQUNBK29FLEdBQUEsRUFJQTlwQixJQUFBaXFCLEdBQUE1MEIsSUFBQTIwQixHQUFBLE9BQUFELElBRUFTLEtBRUFQLEVBQUFqcUIsRUFDQStwQixFQUFBcG9CLElBRkFxb0IsRUFBQTMwQixHQUVBempCLFFBQUEsS0FBQXE0QyxHQUNBNTBCLEVBQUE2Tiw0QkFBQXpELElBR0EsSUFBQStzQixHQUFBLEVBSUEsS0ExbUxBLFNBQUF6QyxHQUNBLEdBQUF6akIsR0FBQSxDQUVBLEdBREFjLEdBQUEyaUIsR0FDQWpqQixHQUNBLE9BRUFZLEdBQUEsRUFHQU8sR0FBQSwrQkFFQW1CLE1BNmxMQXFqQixDQUFBMUMsS0FFQSxDQUNBLElBQ0FzQyxHQUFBdnBCLEdBQ08sTUFBQTRwQixHQUNQLFVBQUEzQyxFQUFBLENBRUF5QyxHQUFBLEVBQ0FqTSxHQUFBbU0sR0FDQSxNQUdBLEdBQUE5bEIsR0FFQXdqQixFQURBTCxFQUNBMkMsRUFBQTVwQixHQUdBLElBQUE4bEIsRUFBQW1CLEVBQ0E5VyxFQUFBMlYsRUFBQSxPQUNBLFVBQUEzVixFQUFBLENBT0F1WixHQUFBLEVBQ0FqTSxHQUFBbU0sR0FDQSxNQUVBL0QsRUFBQTFWLEVBQUEyVixFQUFBOEQsR0FDQTNDLEVBQUErQixHQUFBbEQsR0FFQSxNQUlBLElBQUE5ZSxHQUFBLEVBSUEsT0FIQWdnQixHQUFBLEVBR0EwQyxHQUNBNWlCLEdBQUFDLEVBQUFDLEdBQ0FELEVBQUEsS0FHQXJvRCxFQUFBNmtFLGlDQUVBLE1BQ0ssT0FBQTBELEdBaUJMbmdCLEdBQUFDLEVBQUFDLEdBQ0FELEVBQUEsS0FHQSxNQW5CQXFnQixHQUVBdGdCLEdBQUFDLEVBREFDLEdBQUEsR0FFQUQsRUFBQSxLQUVBeFUsRUFBQTZOLDRCQUFBbEQsRUFDQTNLLEVBQUF6akIsUUFBQTRFLFlBSUFvekIsR0FBQUMsRUFBQUMsR0FDQUQsRUFBQSxVQUNBOW9ELEdBQUEsK0dBV0EsU0FBQTRyRSxHQUFBL0QsRUFBQWdFLEVBQUFsdkYsRUFBQXNpRSxHQVlBcUwsR0FBQXVoQixHQVJBNXNCLGlCQUNBd0wsYUFBQSxLQUNBMXNFLFNBQUEsS0FDQWt0RSxXQUFBLEVBQ0FDLFVBQUEsRUFDQUUsY0FQQWdTLEdBQUF6Z0YsRUFBQWtyRixHQVFBdHlFLEtBQUEsT0FHQWczRCxHQUFBc2YsRUFBQTVzQixHQWtDQSxTQUFBb3BCLEdBQUE5bEMsRUFBQXoyQyxHQUNBLE9BaENBLFNBQUErN0UsRUFBQWxyRixFQUFBc2lFLEdBQ0E4cEIsSUFBQXZpQixHQUFBeG1ELEdBQUEsd0RBS0EsSUFEQSxJQUFBdWlDLEVBQUFzbEMsRUFBQSxPQUNBLE9BQUF0bEMsR0FBQSxDQUNBLE9BQUFBLEVBQUFyb0MsS0FDQSxLQUFBZzVCLEVBQ0EsSUFBQSs0QixFQUFBMXBCLEVBQUFqZ0QsS0FDQTRsQixFQUFBcTZCLEVBQUFyUSxVQUNBLHNCQUFBKzVCLEVBQUFFLDBCQUFBLG1CQUFBamtELEVBQUEyMEQsb0JBQUE4SyxHQUFBei9ELEdBRUEsWUFEQTBqRSxHQUFBL0QsRUFBQXRsQyxFQUFBNWxELEVBQUFzaUUsR0FHQSxNQUVBLEtBQUE5ckIsRUFFQSxZQURBeTRDLEdBQUEvRCxFQUFBdGxDLEVBQUE1bEQsRUFBQXNpRSxHQUdBMWMsSUFBQSxPQUdBc2xDLEVBQUEzdEUsTUFBQWk1QixHQUdBeTRDLEdBQUEvRCxJQUFBbHJGLEVBQUFzaUUsR0FLQTZzQixDQUFBdnBDLEVBQUF6MkMsRUFBQTZ5RCxJQUdBLFNBQUFvdEIsR0FBQTVzQixHQU1BLE9BQUFELEdBQUFDLEVBRkEsSUFDQSxLQXlCQSxTQUFBcU4sR0FBQWpxQixHQUNBLElBQUEwYyxPQUFBLEVBQ0EsR0FBQTZwQixJQUFBcHFCLEdBRUFPLEVBQUE2cEIsT0FDSyxHQUFBQyxFQUlMOXBCLEVBSEF1SCxFQUdBN0gsR0FJQXVxQixNQUVLLENBR0wsR0FBQTNtQyxFQUFBbHhDLEtBQUFtdUQsR0FDQSxHQUFBd3NCLEdBR0Evc0IsRUEzQ0EsU0FBQUUsR0FJQSxPQUFBRCxHQUFBQyxFQUZBLElBQ0EsS0F3Q0E4c0IsQ0FEQXpOLFdBS0F2ZixFQUFBOHNCLEdBREF2TixXQUtBdmYsRUFBQU4sR0FXQSxPQVJBcXRCLEtBSUFFLEtBQUF4dEIsSUFBQU8sRUFBQWl0QixNQUNBQSxHQUFBanRCLEdBR0FBLEVBR0EsU0FBQXNOLEdBQUFocUIsRUFBQTBjLEdBQ0EsT0FHQSxTQUFBMWMsRUFBQTBjLEVBQUFrdEIsR0FJQSxHQUhBNWpCLE1BR0E0akIsR0FBQTVwQyxFQUFBcm9DLE1BQUFnNUIsRUFBQSxDQUNBLElBQUFockIsRUFBQXE2QixFQUFBclEsVUFDQTJ5QyxHQUFBMzhELEdBSUEsSUFBQXNPLEVBQUErckIsRUFDQSxZQUFBL3JCLEdBQUEsQ0FXQSxJQVJBQSxFQUFBeW9DLGlCQUFBUCxJQUFBbG9DLEVBQUF5b0Msb0JBQ0F6b0MsRUFBQXlvQyxrQkFFQSxPQUFBem9DLEVBQUFpZixZQUNBamYsRUFBQWlmLFVBQUF3cEIsaUJBQUFQLElBQUFsb0MsRUFBQWlmLFVBQUF3cEIsb0JBQ0F6b0MsRUFBQWlmLFVBQUF3cEIsa0JBR0EsT0FBQXpvQyxFQUFBLFFBQ0EsR0FBQUEsRUFBQXRjLE1BQUFpNUIsRUF5QkEsWUFKQWc1QyxHQUFBNXBDLEVBQUFyb0MsTUFBQWc1QixHQUNBMHhDLEdBQUFyaUMsSUFyQkEsSUFBQStSLEVBQUE5OUIsRUFBQTBiLFdBQ0E2MkMsR0FBQUcsSUFBQXhxQixJQUFBTyxFQUFBaXFCLElBRUFwZ0IsRUFBQXZtQixFQUNBa25DLE1BS0FWLElBQUF2aUIsR0FFQXlpQixJQUFBMzBCLEdBRUE4M0IsR0FBQTkzQixFQUFBMkssR0FFQW90QixHQUFBQyxJQUNBdHNFLEdBQUEsc05BV0F3VyxJQUFBLFFBdERBKzFELENBQUFocUMsRUFBQTBjLEdBQUEsR0EwREEsU0FBQXVmLEtBSUEsT0FGQW9LLEVBQUE5K0QsSUFBQTYrRCxFQUNBNXBCLEdBQUE2cEIsR0FjQSxTQUFBNEQsR0FBQWh4RSxFQUFBelosRUFBQWYsRUFBQWhGLEVBQUFDLEdBQ0EsSUFBQXd3RixFQUFBM0QsRUFDQUEsRUFBQW5xQixHQUNBLElBQ0EsT0FBQW5qRCxFQUFBelosRUFBQWYsRUFBQWhGLEVBQUFDLEdBQ0ssUUFDTDZzRixFQUFBMkQsR0E5MUJBNW1CLEtBQ0F1akIsRUFBQSxLQUNBRSxJQUFBLEVBQ0FDLEdBQUEsS0FDQUYsRUFBQSxTQUFBcUQsRUFBQTVnRixFQUFBaTJELEdBR0EsT0FEQUYsR0FBQTZxQixFQUFBdEQsR0FDQXNELEVBQUF4eUUsS0FDQSxLQUFBaTVCLEVBQ0F1bkMsRUFBQWdTLEdBQ0E3UixFQUFBNlIsR0FDQSxNQUNBLEtBQUFyNUMsR0FDQW1uQyxFQUFBa1MsR0FDQSxNQUNBLEtBQUF4NUMsRUFDQXluQyxFQUFBK1IsR0FDQSxNQUNBLEtBQUF0NUMsR0FDQXNuQyxFQUFBZ1MsR0FDQSxNQUNBLEtBQUE3NEMsR0FDQWtuQyxFQUFBMlIsR0FJQXBELElBQUEsRUFDQUMsR0FBQXo5RSxFQUNBMjRFLEdBQUEsS0FBQTZHLEdBQUEsS0FBQXZwQixHQUNBdW5CLElBQUEsRUFDQUMsR0FBQSxLQUNBcDdDLEtBQ0FDLEtBSUE0NkMsRUFBQTBELEdBR0FsRCxHQUFBLFdBQ0EsTUFBQUQsS0E4ekJBLElBQUFvRCxHQUFBLEtBQ0FDLEdBQUEsS0FFQUMsR0FBQW51QixHQUNBb3VCLElBQUEsRUFDQUMsSUFBQSxFQUNBQyxHQUFBLEtBQ0FDLEdBQUF2dUIsR0FDQXd0QixHQUFBeHRCLEdBQ0F3dUIsSUFBQSxFQUNBQyxJQUFBLEVBQ0FDLEdBQUEsS0FDQUMsR0FBQSxLQUVBQyxJQUFBLEVBQ0FDLElBQUEsRUFDQXZCLElBQUEsRUFFQXdCLEdBQUEsS0FHQWxCLEdBQUEsSUFDQUQsR0FBQSxFQUVBb0IsR0FBQSxFQUVBLFNBQUFDLEdBQUF6dUIsR0FDQSxHQUFBNHRCLEtBQUFudUIsR0FBQSxDQUVBLEdBQUFPLEVBQUE0dEIsR0FFQSxPQUlBckUsRUFBQXNFLFNBcGhNQXZuQixJQUNBUSxLQUFBYyxLQUNBQSxJQUFBLEVBQ0FLLEdBQUEsb0NBeWhNQSxJQUFBeW1CLEVBQUE3akUsSUFBQTYrRCxFQUNBaUYsRUFBQTV1QixHQUFBQyxHQUdBNHRCLEdBQUE1dEIsRUFDQTZ0QixHQUFBdkUsRUFBQXNGLElBQTZEQyxRQUg3REYsRUFBQUQsSUFRQSxTQUFBdkIsR0FBQTkzQixFQUFBMkssSUE2QkEsU0FBQTNLLEVBQUEySyxHQUdBLFVBQUEzSyxFQUFBa08sa0JBRUFsTyxFQUFBZ08sd0JBQUFyRCxFQUNBLE9BQUEydEIsSUFDQUQsR0FBQUMsR0FBQXQ0QixFQUNBQSxFQUFBa08sa0JBQUFsTyxJQUVBczRCLEdBQUFwcUIsa0JBQUFsTyxHQUNBczRCLEdBQUF0NEIsR0FDQWtPLGtCQUFBbXFCLFFBRUssQ0FFTCxJQUFBcnFCLEVBQUFoTyxFQUFBZ08seUJBQ0FBLElBQUE1RCxJQUFBTyxFQUFBcUQsS0FFQWhPLEVBQUFnTyx3QkFBQXJELElBL0NBOHVCLENBQUF6NUIsRUFBQTJLLEdBRUE4dEIsS0FNQU8sR0FFQUMsS0FHQVAsR0FBQTE0QixFQUNBMjRCLEdBQUF0dUIsR0FDQXF2QixHQUFBMTVCLEVBQUFxSyxJQUFBLElBTUFNLElBQUFOLEdBQ0FzdkIsS0FFQVAsR0FBQXp1QixJQTRCQSxTQUFBaXZCLEtBQ0EsSUFBQUMsRUFBQXp2QixHQUNBMHZCLEVBQUEsS0FDQSxVQUFBeEIsR0FHQSxJQUZBLElBQUF5QixFQUFBekIsR0FDQXQ0QixFQUFBcTRCLEdBQ0EsT0FBQXI0QixHQUFBLENBQ0EsSUFBQWdPLEVBQUFoTyxFQUFBZ08sd0JBQ0EsR0FBQUEsSUFBQTVELEdBQUEsQ0FPQSxJQURBLE9BQUEydkIsR0FBQSxPQUFBekIsS0FBQTVzRSxHQUFBLGdIQUNBczBDLE1BQUFrTyxrQkFBQSxDQUVBbE8sRUFBQWtPLGtCQUFBLEtBQ0FtcUIsR0FBQUMsR0FBQSxLQUNBLE1BQ1csR0FBQXQ0QixJQUFBcTRCLEdBQUEsQ0FFWCxJQUFBcDNFLEVBQUErK0MsRUFBQWtPLGtCQUNBbXFCLEdBQUFwM0UsRUFDQXEzRSxHQUFBcHFCLGtCQUFBanRELEVBQ0ErK0MsRUFBQWtPLGtCQUFBLFNBQ1csSUFBQWxPLElBQUFzNEIsR0FBQSxFQUVYQSxHQUFBeUIsR0FDQTdyQixrQkFBQW1xQixHQUNBcjRCLEVBQUFrTyxrQkFBQSxLQUNBLE1BRUE2ckIsRUFBQTdyQixrQkFBQWxPLEVBQUFrTyxrQkFDQWxPLEVBQUFrTyxrQkFBQSxLQUVBbE8sRUFBQSs1QixFQUFBN3JCLHNCQUNTLENBTVQsSUFMQTJyQixJQUFBenZCLElBQUE0RCxFQUFBNnJCLEtBRUFBLEVBQUE3ckIsRUFDQThyQixFQUFBOTVCLEdBRUFBLElBQUFzNEIsR0FDQSxNQUVBeUIsRUFBQS81QixFQUNBQSxJQUFBa08sbUJBUUEsT0FEQXdxQixTQUNBb0IsR0FBQUQsSUFBQXh2QixHQUNBMHRCLEtBR0FBLEdBQUEsRUFFQVcsR0FBQW9CLEVBQ0FuQixHQUFBa0IsRUFHQSxTQUFBTixHQUFBUyxHQUNBQyxHQUFBN3ZCLElBQUEsRUFBQTR2QixHQUdBLFNBQUFMLEtBQ0FNLEdBQUE1dkIsSUFBQSxRQUdBLFNBQUE0dkIsR0FBQUMsRUFBQXpzQixFQUFBdXNCLElBQ0FqQixHQUFBaUIsRUFJQUosS0FFQTNvQixJQUFBLE9BQUE4bkIsS0FucU1BLFNBQUFvQixFQUFBeHZCLEdBQ0FzRyxJQUNBUSxLQUNBYyxJQUFBLEVBRUFNLEdBQUEsc0RBQUFsSSxFQUFBLHlDQURBd3ZCLEVBQUEsMENBa3FNQUMsQ0FGQXpCLEdBQUF6TyxLQUNBeGYsR0FBQWl1QixLQUlBLEdBQUFsckIsRUFDQSxZQUFBaXJCLElBQUFDLEtBQUF2dUIsS0FBQTh2QixJQUFBOXZCLElBQUE4dkIsR0FBQXZCLE9BQUFDLElBQUExTyxNQUFBeU8sS0FDQWUsR0FBQWhCLEdBQUFDLElBQUFDLElBQ0FnQixVQUdBLFlBQUFsQixJQUFBQyxLQUFBdnVCLEtBQUE4dkIsSUFBQTl2QixJQUFBOHZCLEdBQUF2QixLQUNBZSxHQUFBaEIsR0FBQUMsSUFBQSxHQUNBaUIsS0FRQSxPQUFBYixLQUNBUixHQUFBbnVCLEdBQ0FvdUIsSUFBQSxHQUdBRyxLQUFBdnVCLElBQ0FndkIsR0FBQVQsSUFJQUksR0FBQSxLQUNBSCxJQUFBLEVBRUF5QixLQWdCQSxTQUFBQSxLQUdBLEdBRkF0QyxHQUFBLEVBRUEsT0FBQW1CLEdBQUEsQ0FDQSxJQUFBb0IsRUFBQXBCLEdBQ0FBLEdBQUEsS0FDQSxRQUFBN3hGLEVBQUEsRUFBcUJBLEVBQUFpekYsRUFBQTF3RixPQUFvQnZDLElBQUEsQ0FDekMsSUFBQWt6RixFQUFBRCxFQUFBanpGLEdBQ0EsSUFDQWt6RixFQUFBQyxjQUNTLE1BQUFoakYsR0FDVHFoRixLQUNBQSxJQUFBLEVBQ0FDLEdBQUF0aEYsS0FNQSxHQUFBcWhGLEdBQUEsQ0FDQSxJQUFBcmhGLEVBQUFzaEYsR0FHQSxNQUZBQSxHQUFBLEtBQ0FELElBQUEsRUFDQXJoRixHQUlBLFNBQUFraUYsR0FBQTE1QixFQUFBMkssRUFBQThDLEdBTUEsR0FMQWdyQixJQUFBL3NFLEdBQUEsb0hBRUErc0UsSUFBQSxFQUdBaHJCLEVBY0ssQ0FFTCxJQUFBZ3RCLEVBQUF6NkIsRUFBQThOLGFBQ0EsT0FBQTJzQixFQUVBQyxHQUFBMTZCLEVBQUF5NkIsRUFBQTl2QixJQUVBM0ssRUFBQThOLGFBQUEsS0FFQSxRQURBMnNCLEVBQUF2RCxHQUFBbDNCLEVBQUEySyxHQUFBLE1BSUFzc0IsS0FNQWozQixFQUFBOE4sYUFBQTJzQixFQUpBQyxHQUFBMTZCLEVBQUF5NkIsRUFBQTl2QixTQTVCQSxDQUVBLElBQUFtRCxFQUFBOU4sRUFBQThOLGFBQ0EsT0FBQUEsRUFFQTRzQixHQUFBMTZCLEVBQUE4TixFQUFBbkQsSUFFQTNLLEVBQUE4TixhQUFBLEtBRUEsUUFEQUEsRUFBQW9wQixHQUFBbDNCLEVBQUEySyxHQUFBLEtBR0ErdkIsR0FBQTE2QixFQUFBOE4sRUFBQW5ELElBMkJBOHRCLElBQUEsRUFHQSxTQUFBaUMsR0FBQTE2QixFQUFBOE4sRUFBQW5ELEdBRUEsSUFBQXNELEVBQUFqTyxFQUFBaU8sV0FDQSxVQUFBQSxLQUFBMHNCLGlCQUFBaHdCLElBQ0EsT0FBQXV1QixHQUNBQSxJQUFBanJCLEdBRUFpckIsR0FBQWx2RixLQUFBaWtFLEdBRUFBLEVBQUEyc0IsUUFLQSxPQUZBNTZCLEVBQUE4TixvQkFDQTlOLEVBQUFnTyx3QkFBQTVELElBTUFwSyxFQUFBOE4sYUFBQSxLQUNBOU4sRUFBQWdPLHdCQUFBeW5CLEdBQUEzbkIsR0FLQSxTQUFBbXBCLEtBQ0EsY0FBQThCLE9BR0FBLEdBQUE4QixnQkFBQTFCLE1BS0FQLElBQUEsR0FDQSxJQUdBLFNBQUExTixHQUFBMXpFLEdBQ0EsT0FBQWtoRixJQUFBaHRFLEdBQUEsdUdBR0FndEUsR0FBQTFxQix3QkFBQTVELEdBQ0F5dUIsS0FDQUEsSUFBQSxFQUNBQyxHQUFBdGhGLEdBZ0dBLE9BQ0EweUUsMEJBQ0FoUyw2QkFDQUQsZ0JBQ0E2ZixlQUNBZ0QsVUF6T0EsU0FBQTk2QixFQUFBMkssR0FDQTh0QixJQUFBL3NFLEdBQUEscUlBSUFndEUsR0FBQTE0QixFQUNBMjRCLEdBQUFodUIsRUFDQSt1QixHQUFBMTVCLEVBQUEySyxHQUFBLEdBRUFndkIsS0FDQVUsTUFnT0E3d0MsZUFoR0EsU0FBQXRpQyxFQUFBelosR0FDQSxJQUFBc3RGLEVBQUEvQixHQUNBQSxJQUFBLEVBQ0EsSUFDQSxPQUFBOXhFLEVBQUF6WixHQUNLLFNBQ0x1ckYsR0FBQStCLElBQ0F0QyxJQUNBa0IsT0F5RkFxQixpQkFsRkEsU0FBQTl6RSxFQUFBelosR0FDQSxHQUFBdXJGLEtBQUFDLEdBQUEsQ0FDQUEsSUFBQSxFQUNBLElBQ0EsT0FBQS94RSxFQUFBelosR0FDTyxRQUNQd3JGLElBQUEsR0FHQSxPQUFBL3hFLEVBQUF6WixJQTBFQXd0RixVQXJFQSxTQUFBL3pFLEVBQUF6WixHQUNBZ3JGLElBQUEvc0UsR0FBQSwrR0FDQSxJQUFBcXZFLEVBQUEvQixHQUNBQSxJQUFBLEVBQ0EsSUFDQSxPQUFBZCxHQUFBaHhFLEVBQUF6WixHQUNLLFFBQ0x1ckYsR0FBQStCLEVBQ0FwQixPQThEQXVCLGdCQXRCQSxTQUFBaDBFLEdBQ0EsSUFBQTZ6RSxFQUFBL0IsR0FDQUEsSUFBQSxFQUNBLElBQ0FkLEdBQUFoeEUsR0FDSyxTQUNMOHhFLEdBQUErQixJQUNBdEMsSUFDQXdCLEdBQUE1dkIsSUFBQSxVQWVBOHdCLGdCQXRlQSxTQUFBajBFLEdBQ0EsSUFBQWl4RSxFQUFBM0QsRUFDQTNwQixFQUFBcWYsS0FDQXNLLEVBQUFpRCxHQUFBNXNCLEdBQ0EsSUFDQSxPQUFBM2pELElBQ0ssUUFDTHN0RSxFQUFBMkQsSUFnZUFELGVBQ0F2dUMsbUJBN0RBLFNBQUF6aUMsRUFBQXpaLEVBQUFmLEdBQ0EsR0FBQWdyRixHQUNBLE9BQUF4d0UsRUFBQXpaLEVBQUFmLEdBTUFzc0YsSUFBQVAsSUFBQWIsS0FBQXh0QixLQUVBNnZCLEdBQUFyQyxJQUFBLFFBQ0FBLEdBQUF4dEIsSUFFQSxJQUFBZ3hCLEVBQUExRCxHQUNBcUQsRUFBQS9CLEdBQ0F0QixJQUFBLEVBQ0FzQixJQUFBLEVBQ0EsSUFDQSxPQUFBOXhFLEVBQUF6WixFQUFBZixHQUNLLFFBQ0xnckYsR0FBQTBELEdBQ0FwQyxHQUFBK0IsSUFDQXRDLElBQ0FrQixPQXVDQS92Qyx3QkFsQ0EsV0FDQTZ1QyxJQUFBYixLQUFBeHRCLEtBRUE2dkIsR0FBQXJDLElBQUEsUUFDQUEsR0FBQXh0QixLQStCQWl4Qiw2QkFybUJBLFdBQ0EsSUFDQXR4RixFQUFBMHRGLEdBREF2TixNQVNBLE9BUEFuZ0YsR0FBQXdxRixJQUlBeHFGLEVBQUF3cUYsRUFBQSxHQUVBQSxFQUFBeHFGLEdBNmxCQWl1RSxrQkFJQXNqQixRQUFBLEVBR0FBLElBQUEsRUFPQSxJQUFBQyxHQUFBLFNBQUExL0UsR0FDQSxJQUFBc3VFLEVBQUF0dUUsRUFBQXN1RSxrQkFFQXFSLEVBQUEvSyxHQUFBNTBFLEdBQ0F3L0UsRUFBQUcsRUFBQUgsNkJBQ0FuUixFQUFBc1IsRUFBQXRSLHVCQUNBaFMsRUFBQXNqQixFQUFBdGpCLDBCQUNBRCxFQUFBdWpCLEVBQUF2akIsYUFDQTZmLEVBQUEwRCxFQUFBMUQsWUFDQWdELEVBQUFVLEVBQUFWLFVBQ0F0eEMsRUFBQWd5QyxFQUFBaHlDLGVBQ0F3eEMsRUFBQVEsRUFBQVIsaUJBQ0FDLEVBQUFPLEVBQUFQLFVBQ0FDLEVBQUFNLEVBQUFOLGdCQUNBQyxFQUFBSyxFQUFBTCxnQkFDQWpELEVBQUFzRCxFQUFBdEQsWUFDQXZ1QyxFQUFBNnhDLEVBQUE3eEMsbUJBQ0FDLEVBQUE0eEMsRUFBQTV4Qyx3QkFDQW91QixFQUFBd2pCLEVBQUF4akIsY0FFQTJhLEVBQUEzYSxFQUFBMmEsMkJBQ0FULEVBQUFsYSxFQUFBa2Esa0JBQ0FDLEVBQUFuYSxFQUFBbWEsb0JBeUNBLFNBQUFzSixFQUFBbHdDLEVBQUF1OEIsRUFBQTRULEVBQUE3d0IsRUFBQUYsRUFBQWxoRSxHQUVBLElBQUE4eUMsRUFBQXVyQyxFQUFBdnJDLFFBR0F5ekMsR0FBQUMsWUFDQSxPQUFBMXpDLEVBQUE0RSxVQUNBNnVDLEdBQUFDLFVBQUEwTCxpQkFBQTdULEdBQ1MsT0FBQXY4QixFQUNUeWtDLEdBQUFDLFVBQUEyTCxtQkFBQTlULEdBRUFrSSxHQUFBQyxVQUFBNEwsa0JBQUEvVCxJQUtBLElBQUEvb0QsRUF0REEsU0FBQTI4RCxHQUNBLElBQUFBLEVBQ0EsT0FBQXR2RSxFQUdBLElBQUE2aEMsRUFBQTlsRCxHQUFBdXpGLEdBQ0F0SixFQUFBTyxFQUFBMWtDLEdBQ0EsT0FBQWlrQyxFQUFBamtDLEdBQUFra0MsRUFBQWxrQyxFQUFBbWtDLEtBK0NBMEosQ0FBQUosR0FPQSxPQU5BLE9BQUE1VCxFQUFBL29ELFFBQ0Erb0QsRUFBQS9vRCxVQUVBK29ELEVBQUEvWixlQUFBaHZDLEVBaERBLFNBQUF3ZCxFQUFBZ1AsRUFBQXNmLEVBQUFGLEVBQUFsaEUsR0F5QkEsTUF2QkEsV0FBQWtsRCxHQUFBbE4sT0FBQSxPQUFBa04sR0FBQXBTLFNBQUErK0MsS0FDQUEsSUFBQSxFQUNBdHpFLEdBQUEsK05BQW9GZ21DLEdBQUFXLEdBQUFwUyxVQUFBLFlBTXBGdjBCLEVBQUEsUUFGQXZlLE9BQUFvRSxJQUFBcEUsRUFBQSxLQUFBQSxJQUVBLG1CQUFBQSxFQUFBLHNHQUFBQSxHQVlBdXNFLEdBQUF6NUIsR0FSQW91QixpQkFDQXdMLGNBQXFCNXFCLFdBQ3JCOWhELFdBQ0FrdEUsV0FBQSxFQUNBQyxVQUFBLEVBQ0FFLGNBQUEsS0FDQTcxRCxLQUFBLE9BR0FnM0QsRUFBQTE3QixFQUFBb3VCLEdBRUFBLEVBMEJBb3hCLENBQUF4L0MsRUFBQWdQLEVBQUFzZixFQUFBRixFQUFBbGhFLEdBR0EsU0FBQXV5RixFQUFBL3RDLEdBQ0EsSUFBQWd1QyxFQXY0UkEsU0FBQW5nRixHQUNBLElBQUF3eEUsRUFBQTd6QixHQUFBMzlDLEdBQ0EsSUFBQXd4RSxFQUNBLFlBS0EsSUFEQSxJQUFBcHJELEVBQUFvckQsSUFDQSxDQUNBLEdBQUFwckQsRUFBQXRjLE1BQUFtNUIsSUFBQTdjLEVBQUF0YyxNQUFBbzVCLEdBQ0EsT0FBQTljLEVBQ0ssR0FBQUEsRUFBQTAzQixNQUNMMTNCLEVBQUEwM0IsTUFBQSxPQUFBMTNCLEVBQ0FBLElBQUEwM0IsVUFGSyxDQUtMLEdBQUExM0IsSUFBQW9yRCxFQUNBLFlBRUEsTUFBQXByRCxFQUFBMjNCLFNBQUEsQ0FDQSxJQUFBMzNCLEVBQUEsUUFBQUEsRUFBQSxTQUFBb3JELEVBQ0EsWUFFQXByRCxJQUFBLE9BRUFBLEVBQUEyM0IsUUFBQSxPQUFBMzNCLEVBQUEsT0FDQUEsSUFBQTIzQixTQUlBLFlBeTJSQXFpQyxDQUFBanVDLEdBQ0EsY0FBQWd1QyxFQUNBLEtBRUFBLEVBQUFyK0MsVUFHQSxPQUNBdStDLGdCQUFBLFNBQUF4OEIsRUFBQThOLEVBQUFDLEdBQ0EsT0FBQUYsR0FBQTdOLEVBQUE4TixFQUFBQyxJQUVBMHVCLGdCQUFBLFNBQUE3d0MsRUFBQXU4QixFQUFBNFQsRUFBQWp5RixHQUNBLElBQUE4eUMsRUFBQXVyQyxFQUFBdnJDLFFBQ0EydEMsSUFFQSxPQUFBdVIsRUFBQWx3QyxFQUFBdThCLEVBQUE0VCxFQUFBN3dCLEVBREFxTixFQUFBMzdCLEdBQ0E5eUMsSUFFQWd5RixnQ0FBQSxTQUFBbHdDLEVBQUF1OEIsRUFBQTRULEVBQUEvd0IsRUFBQWxoRSxHQUNBeWdGLElBQ0EsT0FBQXVSLEVBQUFsd0MsRUFBQXU4QixFQUFBNFQsRUFBQTd3QixFQUFBRixFQUFBbGhFLElBSUFxeEYsWUFFQWhELGNBRUF1RCwrQkFFQTd4QyxpQkFFQXd4QyxtQkFFQUcsa0JBRUFqRCxjQUVBdnVDLHFCQUVBQywwQkFFQXN4QyxrQkFFQUQsWUFFQW9CLHNCQUFBLFNBQUF2VSxHQUNBLElBQUF3VSxFQUFBeFUsRUFBQXZyQyxRQUNBLElBQUErL0MsRUFBQTFpQyxNQUNBLFlBRUEsT0FBQTBpQyxFQUFBMWlDLE1BQUFoMEMsS0FDQSxLQUFBbTVCLEdBQ0EsT0FBQW9yQyxFQUFBbVMsRUFBQTFpQyxNQUFBaGMsV0FDQSxRQUNBLE9BQUEwK0MsRUFBQTFpQyxNQUFBaGMsWUFLQW8rQyxtQkFFQU8sOEJBQUEsU0FBQXR1QyxHQUNBLElBQUFndUMsRUFwNlJBLFNBQUFuZ0YsR0FDQSxJQUFBd3hFLEVBQUE3ekIsR0FBQTM5QyxHQUNBLElBQUF3eEUsRUFDQSxZQUtBLElBREEsSUFBQXByRCxFQUFBb3JELElBQ0EsQ0FDQSxHQUFBcHJELEVBQUF0YyxNQUFBbTVCLElBQUE3YyxFQUFBdGMsTUFBQW81QixHQUNBLE9BQUE5YyxFQUNLLEdBQUFBLEVBQUEwM0IsT0FBQTEzQixFQUFBdGMsTUFBQWs1QixHQUNMNWMsRUFBQTAzQixNQUFBLE9BQUExM0IsRUFDQUEsSUFBQTAzQixVQUZLLENBS0wsR0FBQTEzQixJQUFBb3JELEVBQ0EsWUFFQSxNQUFBcHJELEVBQUEyM0IsU0FBQSxDQUNBLElBQUEzM0IsRUFBQSxRQUFBQSxFQUFBLFNBQUFvckQsRUFDQSxZQUVBcHJELElBQUEsT0FFQUEsRUFBQTIzQixRQUFBLE9BQUEzM0IsRUFBQSxPQUNBQSxJQUFBMjNCLFNBSUEsWUFzNFJBMmlDLENBQUF2dUMsR0FDQSxjQUFBZ3VDLEVBQ0EsS0FFQUEsRUFBQXIrQyxXQUVBNitDLG1CQUFBLFNBQUFDLEdBQ0EsSUFBQUMsRUFBQUQsRUFBQUMsd0JBRUEsT0Fqbk9BLFNBQUFDLEdBQ0EsdUJBQUFDLCtCQUVBLFNBRUEsSUFBQUMsRUFBQUQsK0JBQ0EsR0FBQUMsRUFBQUMsV0FJQSxTQUVBLElBQUFELEVBQUFFLGNBS0EsT0FIQWgxRSxHQUFBLHlLQUdBLEVBRUEsSUFDQSxJQUFBaTFFLEVBQUFILEVBQUFJLE9BQUFOLEdBRUF6dUIsR0FBQUcsR0FBQSxTQUFBdE8sR0FDQSxPQUFBODhCLEVBQUEzdUIsa0JBQUE4dUIsRUFBQWo5QixLQUVBb08sR0FBQUUsR0FBQSxTQUFBcmdCLEdBQ0EsT0FBQTZ1QyxFQUFBMXVCLHFCQUFBNnVCLEVBQUFodkMsS0FFRyxNQUFBN3RDLEdBR0g0SCxHQUFBLDZDQUFBNUgsR0FJQSxTQThrT0ErOEUsQ0FBQWowRixLQUF1Q3d6RixHQUN2Q1Usd0JBQUEsU0FBQW52QyxHQUNBLE9BQUErdEMsRUFBQS90QyxJQUVBMHVDLHdCQUFBLFNBQUEvb0UsR0FDQSxPQUFBK29FLEVBSUFBLEVBQUEvb0UsR0FGQSxZQVNBeXBFLEdBQUF0MUYsT0FBQXdJLFFBQ0FxUSxRQUFBMjZFLEtBR0ErQixHQUFBRCxJQUFBOUIsSUFBQThCLEdBUUFFLEdBQUFELEdBQUEsUUFBQUEsR0FBQSxRQUFBQSxHQTZCQTNsRCxFQUFBRCxXQUFBLG1CQUFBOGxELHVCQUNBeDFFLEdBQUEsaUlBSUEsSUFBQXkxRSxHQUFBLGlCQUFBL3JCLGFBQUEsbUJBQUFBLFlBQUFsOEMsSUFFQUEsUUFBQSxFQUVBQSxHQURBaW9FLEdBQ0EsV0FDQSxPQUFBL3JCLFlBQUFsOEMsT0FHQSxXQUNBLE9BQUF0cEIsS0FBQXNwQixPQUtBLElBQUFrb0UsUUFBQSxFQUNBQyxRQUFBLEVBRUEsR0FBQWhtRCxFQUFBRCxVQWVDLHNCQUFBa21ELHFCQUFBLG1CQUFBQyxtQkFBQSxDQUdELElBQUFDLEdBQUEsS0FDQUMsSUFBQSxFQUNBQyxJQUFBLEVBRUFDLElBQUEsRUFFQUMsR0FBQSxFQUlBQyxHQUFBLEdBQ0FDLEdBQUEsR0FFQUMsUUFBQSxFQUVBQSxHQURBWixJQUVBYSxZQUFBLEVBQ0F6RCxjQUFBLFdBR0EsSUFBQTBELEVBQUFMLEdBQUF4c0IsWUFBQWw4QyxNQUNBLE9BQUErb0UsRUFBQSxFQUFBQSxFQUFBLEtBS0FELFlBQUEsRUFDQXpELGNBQUEsV0FFQSxJQUFBMEQsRUFBQUwsR0FBQWh5RixLQUFBc3BCLE1BQ0EsT0FBQStvRSxFQUFBLEVBQUFBLEVBQUEsSUFNQSxJQUFBQyxHQUFBLHVCQUFBcnpGLEtBQUFFLFNBQUFlLFNBQUEsSUFBQU8sTUFBQSxHQXdDQTFELE9BQUE2TCxpQkFBQSxVQXZDQSxTQUFBRyxHQUNBLEdBQUFBLEVBQUE3QixTQUFBbkssUUFBQWdNLEVBQUFDLE9BQUFzcEYsR0FBQSxDQUlBVCxJQUFBLEVBRUEsSUFBQWx6QixFQUFBcjFDLEtBQ0EsR0FBQTBvRSxHQUFBcnpCLEdBQUEsR0FHQSxVQUFBbXpCLFFBQUFuekIsR0FZQSxZQU5Bb3pCLEtBRUFBLElBQUEsRUFDQVQsc0JBQUFpQixNQU5BSixHQUFBQyxZQUFBLE9BYUFELEdBQUFDLFlBQUEsRUFHQU4sSUFBQSxFQUNBLElBQUF2MEYsRUFBQXEwRixHQUNBQSxHQUFBLEtBQ0EsT0FBQXIwRixHQUNBQSxFQUFBNDBGLE9BS0EsR0FFQSxJQUFBSSxHQUFBLFNBQUFDLEdBQ0FULElBQUEsRUFDQSxJQUFBVSxFQUFBRCxFQUFBUixHQUFBRSxHQUNBTyxFQUFBUCxJQUFBRCxHQUFBQyxJQUNBTyxFQUFBLElBR0FBLEVBQUEsR0FTQVAsR0FBQU8sRUFBQVIsTUFBQVEsR0FFQVIsR0FBQVEsRUFFQVQsR0FBQVEsRUFBQU4sR0FDQUwsS0FDQUEsSUFBQSxFQUNBOTBGLE9BQUE0TCxZQUFBMnBGLEdBQUEsT0FJQWQsR0FBQSxTQUFBajBGLEVBQUFtMUYsR0FlQSxPQVpBZCxHQUFBcjBGLEVBQ0EsTUFBQW0xRixHQUFBLGlCQUFBQSxFQUFBcEYsVUFDQXdFLEdBQUF4b0UsS0FBQW9wRSxFQUFBcEYsU0FFQXlFLEtBS0FBLElBQUEsRUFDQVQsc0JBQUFpQixLQUVBLEdBR0FkLEdBQUEsV0FDQUcsR0FBQSxLQUNBQyxJQUFBLEVBQ0FDLElBQUEsUUFHQU4sR0FBQXowRixPQUFBMjBGLG9CQUNBRCxHQUFBMTBGLE9BQUE0MEYsd0JBbkpBSCxHQUFBLFNBQUFtQixHQUNBLE9BQUFycEYsV0FBQSxXQUNBcXBGLEdBQ0FoRSxjQUFBLFdBQ0EsT0FBQWlFLEtBR0FSLFlBQUEsT0FJQVgsR0FBQSxTQUFBb0IsR0FDQXpwRCxhQUFBeXBELElBMElBLElBQUFDLElBQUEsRUF5QkEsU0FBQUMsR0FBQTF6QyxFQUFBN3VDLEdBR0EsTUFBQUEsRUFBQXdpRixVQUFBRixLQUNBaDNFLEdBQUEsb0dBQ0FnM0UsSUFBQSxHQVlBLFNBQUFHLEdBQUE1ekMsRUFBQTd1QyxHQUNBLElBQUEwaUYsRUFBQWwyRixHQUEyQjBqRSxjQUFBLytELEdBQXNCNk8sR0FDakR3d0QsRUExQ0EsU0FBQU4sR0FDQSxJQUFBTSxFQUFBLEdBZUEsT0FUQXg0QyxFQUFBMnFFLFNBQUFodkYsUUFBQXU4RCxFQUFBLFNBQUFoVCxHQUNBLE1BQUFBLElBR0EsaUJBQUFBLEdBQUEsaUJBQUFBLElBQ0FzVCxHQUFBdFQsTUFJQXNULEVBMEJBb3lCLENBQUE1aUYsRUFBQWt3RCxVQU1BLE9BSkFNLElBQ0FreUIsRUFBQXh5QixTQUFBTSxHQUdBa3lCLEVBSUEsSUFBQUcsR0FBQTV3QyxHQUFBSyx5QkFDQXd3QyxHQUFBN3dDLEdBQUFNLDZCQUdBd3dDLFFBQUEsRUFNQSxTQUFBQyxLQUNBLElBQUE3eUMsRUFBQTB5QyxLQUNBLE9BQUExeUMsRUFDQSxtQ0FBQUEsRUFBQSxLQUVBLEdBUkE0eUMsSUFBQSxFQVdBLElBQUFFLElBQUEsd0JBc0JBLFNBQUFDLEdBQUExOUQsRUFBQTI5RCxFQUFBQyxFQUFBQyxHQUNBLElBQUFuQixFQUFBMThELEVBQUEwOEQsUUFFQSxHQUFBaUIsRUFBQSxDQUdBLElBRkEsSUFBQUcsRUFBQUYsRUFDQUcsS0FDQTU0RixFQUFBLEVBQW1CQSxFQUFBMjRGLEVBQUFwMkYsT0FBMkJ2QyxJQUU5QzQ0RixFQUFBLElBQUFELEVBQUEzNEYsS0FBQSxFQUVBLFFBQUErTixFQUFBLEVBQW9CQSxFQUFBd3BGLEVBQUFoMUYsT0FBcUJ3TCxJQUFBLENBQ3pDLElBQUE4cEYsRUFBQWUsRUFBQXQzRixlQUFBLElBQUFpMkYsRUFBQXhwRixHQUFBL00sT0FDQXUyRixFQUFBeHBGLEdBQUE4cEYsZUFDQU4sRUFBQXhwRixHQUFBOHBGLFlBRUFBLEdBQUFhLElBQ0FuQixFQUFBeHBGLEdBQUE4cUYsaUJBQUEsUUFHRyxDQUtILElBRkEsSUFBQUMsRUFBQSxHQUFBTCxFQUNBSSxFQUFBLEtBQ0FFLEVBQUEsRUFBcUJBLEVBQUF4QixFQUFBaDFGLE9BQXNCdzJGLElBQUEsQ0FDM0MsR0FBQXhCLEVBQUF3QixHQUFBLzNGLFFBQUE4M0YsRUFLQSxPQUpBdkIsRUFBQXdCLEdBQUFsQixVQUFBLE9BQ0FhLElBQ0FuQixFQUFBd0IsR0FBQUYsaUJBQUEsSUFJQSxPQUFBQSxHQUFBdEIsRUFBQXdCLEdBQUF2aUQsV0FDQXFpRCxFQUFBdEIsRUFBQXdCLElBR0EsT0FBQUYsSUFDQUEsRUFBQWhCLFVBQUEsSUFxQkEsU0FBQW1CLEdBQUE5MEMsRUFBQTd1QyxHQUNBLE9BQUF4VCxLQUFtQndULEdBQ25CclUsV0FBQXdGLElBSUEsU0FBQXl5RixHQUFBLzBDLEVBQUE3dUMsR0FDQSxJQUFBd2xCLEVBQUFxcEIsR0FsRkEsU0FBQTd1QyxHQUNBbzFDLEdBQUE1WixlQUFBLFNBQUF4N0IsRUFBQThpRixJQUVBLFFBQUFuNEYsRUFBQSxFQUFpQkEsRUFBQXM0RixHQUFBLzFGLE9BQTJCdkMsSUFBQSxDQUM1QyxJQUFBZzlDLEVBQUFzN0MsR0FBQXQ0RixHQUNBLFNBQUFxVixFQUFBMm5DLEdBQUEsQ0FHQSxJQUFBcjFDLEVBQUFELE1BQUFDLFFBQUEwTixFQUFBMm5DLElBQ0EzbkMsRUFBQW1qRixXQUFBN3dGLEVBQ0FnWixHQUFBLGlGQUFBcThCLEVBQUFxN0MsT0FDS2hqRixFQUFBbWpGLFVBQUE3d0YsR0FDTGdaLEdBQUEsd0ZBQUFxOEIsRUFBQXE3QyxRQXdFQWEsQ0FBQTdqRixHQUdBLElBQUFyVSxFQUFBcVUsRUFBQXJVLE1BQ0E2NUIsRUFBQWd4QixlQUNBRyxhQUFBLE1BQUFockQsSUFBQXFVLEVBQUF1MkMsYUFDQXV0QyxjQUFBOWpGLEVBQUFtakYsZUFJQWh5RixJQUFBNk8sRUFBQXJVLFlBQUF3RixJQUFBNk8sRUFBQXUyQyxjQUFBd3NDLEtBQ0F6M0UsR0FBQSw2UkFDQXkzRSxJQUFBLEdBaURBLElBQUFnQixHQUFBOXhDLEdBQUFNLDZCQUVBeXhDLElBQUEsRUFrQkEsU0FBQUMsR0FBQXAxQyxFQUFBN3VDLEdBQ0EsSUFBQXdsQixFQUFBcXBCLEVBZUEsT0FkQSxNQUFBN3VDLEVBQUFra0YseUJBQUFsMUUsR0FBQSxrRUFRQXhpQixLQUE0QndULEdBQzVCclUsV0FBQXdGLEVBQ0FvbEQsa0JBQUFwbEQsRUFDQSsrRCxTQUFBLEdBQUExcUMsRUFBQWd4QixjQUFBRyxlQU1BLFNBQUF3dEMsR0FBQXQxQyxFQUFBN3VDLEdBQ0EsSUFBQXdsQixFQUFBcXBCLEVBRUF1RyxHQUFBNVosZUFBQSxXQUFBeDdCLEVBQUErakYsU0FDQTV5RixJQUFBNk8sRUFBQXJVLFlBQUF3RixJQUFBNk8sRUFBQXUyQyxjQUFBeXRDLEtBQ0ExNEUsR0FBQSx5UkFDQTA0RSxJQUFBLEdBSUEsSUFBQXJ0QyxFQUFBMzJDLEVBQUFyVSxNQUdBLFNBQUFnckQsRUFBQSxDQUNBLElBQUFKLEVBQUF2MkMsRUFBQXUyQyxhQUVBMlosRUFBQWx3RCxFQUFBa3dELFNBQ0EsTUFBQUEsSUFFQTVrRCxHQUFBLHdGQUVBLE1BQUFpckMsR0FBQXZuQyxHQUFBLHlFQUNBM2MsTUFBQUMsUUFBQTQ5RCxLQUNBQSxFQUFBaGpFLFFBQUEsR0FBQThoQixHQUFBLGlEQUNBa2hELElBQUEsSUFHQTNaLEVBQUEsR0FBQTJaLEdBRUEsTUFBQTNaLElBQ0FBLEVBQUEsSUFFQUksRUFBQUosRUFHQS93QixFQUFBZ3hCLGVBQ0FHLGFBQUEsR0FBQUEsR0FJQSxTQUFBeXRDLEdBQUF2MUMsRUFBQTd1QyxHQUNBLElBQUF3bEIsRUFBQXFwQixFQUNBbGpELEVBQUFxVSxFQUFBclUsTUFDQSxTQUFBQSxFQUFBLENBR0EsSUFBQTRzQyxFQUFBLEdBQUE1c0MsRUFHQTRzQyxJQUFBL1MsRUFBQTc1QixRQUNBNjVCLEVBQUE3NUIsTUFBQTRzQyxHQUVBLE1BQUF2NEIsRUFBQXUyQyxlQUNBL3dCLEVBQUErd0IsYUFBQWhlLEdBR0EsTUFBQXY0QixFQUFBdTJDLGVBQ0Evd0IsRUFBQSt3QixhQUFBdjJDLEVBQUF1MkMsY0FJQSxTQUFBOHRDLEdBQUF4MUMsRUFBQTd1QyxHQUNBLElBQUF3bEIsRUFBQXFwQixFQUdBb2IsRUFBQXprQyxFQUFBeWtDLFlBTUFBLElBQUF6a0MsRUFBQWd4QixjQUFBRyxlQUNBbnhCLEVBQUE3NUIsTUFBQXMrRCxHQVNBLElBQUFxNkIsR0FBQSwrQkFDQUMsR0FBQSxxQ0FDQUMsR0FBQSw2QkFFQUMsSUFDQUMsS0FBQUosR0FDQUssT0FBQUosR0FDQUssSUFBQUosSUFJQSxTQUFBSyxHQUFBdnpGLEdBQ0EsT0FBQUEsR0FDQSxVQUNBLE9BQUFrekYsR0FDQSxXQUNBLE9BQUFELEdBQ0EsUUFDQSxPQUFBRCxJQUlBLFNBQUFRLEdBQUFDLEVBQUF6ekYsR0FDQSxhQUFBeXpGLE9BQUFULEdBRUFPLEdBQUF2ekYsR0FFQXl6RixJQUFBUCxJQUFBLGtCQUFBbHpGLEVBRUFnekYsR0FHQVMsRUFRQSxJQUFBenBGLEdBYUEwcEYsUUFBQSxFQVNBQyxJQXRCQTNwRixHQXNCQSxTQUFBa3FCLEVBQUFrL0QsR0FLQSxHQUFBbC9ELEVBQUEwL0QsZUFBQVQsR0FBQUcsS0FBQSxjQUFBcC9ELEVBV0FBLEVBQUEyL0QsVUFBQVQsTUFYQSxFQUNBTSxPQUFBLzZFLFNBQUEwRSxjQUFBLFFBQ0F3MkUsVUFBQSxRQUFBVCxFQUFBLFNBRUEsSUFEQSxJQUFBVSxFQUFBSixHQUFBcjdCLFdBQ0Fua0MsRUFBQW1rQyxZQUNBbmtDLEVBQUFnckQsWUFBQWhyRCxFQUFBbWtDLFlBRUEsS0FBQXk3QixFQUFBejdCLFlBQ0Fua0MsRUFBQTFiLFlBQUFzN0UsRUFBQXo3QixjQWxDQSxvQkFBQTA3QixhQUFBQyx3QkFDQSxTQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBTCxNQUFBQyx3QkFBQSxXQUNBLE9BQUFocUYsR0FBQWlxRixFQUFBQyxFQUFBQyxFQUFBQyxNQUlBcHFGLElBMkNBcXFGLEdBQUEsU0FBQW5nRSxFQUFBcW9CLEdBQ0EsR0FBQUEsRUFBQSxDQUNBLElBQUE4YixFQUFBbmtDLEVBQUFta0MsV0FFQSxHQUFBQSxPQUFBbmtDLEVBQUFvZ0UsV0FBQWo4QixFQUFBM3ZCLFdBQUFtVSxHQUVBLFlBREF3YixFQUFBa0IsVUFBQWhkLEdBSUFyb0IsRUFBQXlrQyxZQUFBcGMsR0FNQWc0QyxJQUNBQyx5QkFBQSxFQUNBQyxtQkFBQSxFQUNBQyxrQkFBQSxFQUNBQyxrQkFBQSxFQUNBQyxTQUFBLEVBQ0FDLGNBQUEsRUFDQUMsaUJBQUEsRUFDQUMsYUFBQSxFQUNBNzZELFNBQUEsRUFDQTg2RCxNQUFBLEVBQ0FDLFVBQUEsRUFDQUMsY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLGNBQUEsRUFDQUMsV0FBQSxFQUNBQyxTQUFBLEVBQ0FDLFlBQUEsRUFDQUMsYUFBQSxFQUNBQyxjQUFBLEVBQ0FDLFlBQUEsRUFDQUMsZUFBQSxFQUNBQyxnQkFBQSxFQUNBQyxpQkFBQSxFQUNBQyxZQUFBLEVBQ0FDLFdBQUEsRUFDQUMsWUFBQSxFQUNBQyxTQUFBLEVBQ0FDLE9BQUEsRUFDQUMsU0FBQSxFQUNBQyxTQUFBLEVBQ0FDLFFBQUEsRUFDQUMsUUFBQSxFQUNBQyxNQUFBLEVBR0FDLGFBQUEsRUFDQUMsY0FBQSxFQUNBQyxhQUFBLEVBQ0FDLGlCQUFBLEVBQ0FDLGtCQUFBLEVBQ0FDLGtCQUFBLEVBQ0FDLGVBQUEsRUFDQUMsYUFBQSxHQWlCQSxJQUFBNWlFLElBQUEseUJBbUJBLFNBQUE2aUUsR0FBQXA5RixFQUFBUyxFQUFBNDhGLEdBWUEsT0FEQSxNQUFBNThGLEdBQUEsa0JBQUFBLEdBQUEsS0FBQUEsRUFFQSxHQUdBNDhGLEdBQUEsaUJBQUE1OEYsR0FBQSxJQUFBQSxHQUFBazZGLEdBQUE1NUYsZUFBQWYsSUFBQTI2RixHQUFBMzZGLElBSUEsR0FBQVMsR0FBQTZXLE9BSEE3VyxFQUFBLEtBaENBTixPQUFBMFIsS0FBQThvRixJQUFBbHlGLFFBQUEsU0FBQUMsR0FDQTZ4QixHQUFBOXhCLFFBQUEsU0FBQTB4QixHQUNBd2dFLEdBZEEsU0FBQXhnRSxFQUFBdnZCLEdBQ0EsT0FBQXV2QixFQUFBdnZCLEVBQUFpVCxPQUFBLEdBQUFsQixjQUFBL1IsRUFBQTB5RixVQUFBLEdBYUFDLENBQUFwakUsRUFBQXp4QixJQUFBaXlGLEdBQUFqeUYsT0FvQ0EsSUFJQTgwRixHQUFBLHlCQUdBQyxHQUFBLFFBRUFDLE1BQ0FDLE1BQ0FDLElBQUEsRUFDQUMsSUFBQSxFQWtFQUMsR0FuQkEsU0FBQTk5RixFQUFBUyxFQUFBMmpCLEdBQ0Fwa0IsRUFBQW1ELFFBQUEsUUE5Q0EsU0FBQW5ELEVBQUFva0IsR0FDQXM1RSxHQUFBMzhGLGVBQUFmLElBQUEwOUYsR0FBQTE5RixLQUlBMDlGLEdBQUExOUYsSUFBQSxFQUNBb2dCLEdBQUEsc0RBQUFwZ0IsRUFBQTB3QyxFQUFBMXdDLEdBQUFva0IsTUF5Q0EyNUUsQ0FBQS85RixFQUFBb2tCLEdBQ0tvNUUsR0FBQXY2RixLQUFBakQsR0F2Q0wsU0FBQUEsRUFBQW9rQixHQUNBczVFLEdBQUEzOEYsZUFBQWYsSUFBQTA5RixHQUFBMTlGLEtBSUEwOUYsR0FBQTE5RixJQUFBLEVBQ0FvZ0IsR0FBQSxzRUFBQXBnQixJQUFBNmQsT0FBQSxHQUFBbEIsY0FBQTNjLEVBQUErRSxNQUFBLEdBQUFxZixNQWtDQTQ1RSxDQUFBaCtGLEVBQUFva0IsR0FDS3E1RSxHQUFBeDZGLEtBQUF4QyxJQWhDTCxTQUFBVCxFQUFBUyxFQUFBMmpCLEdBQ0F1NUUsR0FBQTU4RixlQUFBTixJQUFBazlGLEdBQUFsOUYsS0FJQWs5RixHQUFBbDlGLElBQUEsRUFDQTJmLEdBQUEsa0ZBQUFwZ0IsRUFBQVMsRUFBQXVHLFFBQUF5MkYsR0FBQSxJQUFBcjVFLE1BMkJBNjVFLENBQUFqK0YsRUFBQVMsRUFBQTJqQixHQUdBLGlCQUFBM2pCLElBQ0FrSCxNQUFBbEgsR0E1QkEsU0FBQVQsRUFBQVMsRUFBQTJqQixHQUNBdzVFLEtBSUFBLElBQUEsRUFDQXg5RSxHQUFBLGlFQUFBcGdCLEVBQUFva0IsTUF1QkE4NUUsQ0FBQWwrRixFQUFBUyxFQUFBMmpCLEdBQ08rNUUsU0FBQTE5RixJQXJCUCxTQUFBVCxFQUFBUyxFQUFBMmpCLEdBQ0F5NUUsS0FJQUEsSUFBQSxFQUNBejlFLEdBQUEsc0VBQUFwZ0IsRUFBQW9rQixNQWdCQWc2RSxDQUFBcCtGLEVBQUFTLEVBQUEyakIsS0FrQkEsU0FBQWk2RSxHQUFBQyxHQUVBLElBQUFDLEVBQUEsR0FDQUMsRUFBQSxHQUNBLFFBQUFDLEtBQUFILEVBQ0EsR0FBQUEsRUFBQXY5RixlQUFBMDlGLEdBQUEsQ0FHQSxJQUFBQyxFQUFBSixFQUFBRyxHQUNBLFNBQUFDLEVBQUEsQ0FDQSxJQUFBckIsRUFBQSxJQUFBb0IsRUFBQXQ3RixRQUFBLE1BQ0FvN0YsR0FBQUMsRUFBQS90RCxFQUFBZ3VELEdBQUEsSUFDQUYsR0FBQW5CLEdBQUFxQixFQUFBQyxFQUFBckIsR0FFQW1CLEVBQUEsS0FHQSxPQUFBRCxHQUFBLEtBV0EsU0FBQUksR0FBQXJrRSxFQUFBZ2tFLEVBQUFsNkUsR0FDQSxJQUFBMUYsRUFBQTRiLEVBQUE1YixNQUNBLFFBQUErL0UsS0FBQUgsRUFDQSxHQUFBQSxFQUFBdjlGLGVBQUEwOUYsR0FBQSxDQUdBLElBQUFwQixFQUFBLElBQUFvQixFQUFBdDdGLFFBQUEsTUFFQWs2RixHQUNBUyxHQUFBVyxFQUFBSCxFQUFBRyxHQUFBcjZFLEdBR0EsSUFBQXM2RSxFQUFBdEIsR0FBQXFCLEVBQUFILEVBQUFHLEdBQUFwQixHQUNBLFVBQUFvQixJQUNBQSxFQUFBLFlBRUFwQixFQUNBMytFLEVBQUFrZ0YsWUFBQUgsRUFBQUMsR0FFQWhnRixFQUFBKy9FLEdBQUFDLEdBUUEsSUFxQkFHLEdBQUF2OUYsR0FDQXc5RixVQUFBLElBckJBQyxNQUFBLEVBQ0FDLE1BQUEsRUFDQUMsSUFBQSxFQUNBMzdELEtBQUEsRUFDQTQ3RCxPQUFBLEVBQ0FDLElBQUEsRUFDQUMsS0FBQSxFQUNBcm1FLE9BQUEsRUFDQXNtRSxRQUFBLEVBQ0FDLE1BQUEsRUFDQXg0RSxNQUFBLEVBQ0F5NEUsT0FBQSxFQUNBL3pGLFFBQUEsRUFDQXc0QyxPQUFBLEVBQ0F3N0MsS0FBQSxJQVVBQyxHQUFBLFNBRUEsU0FBQUMsR0FBQTFoRixFQUFBbEosRUFBQXNQLEdBQ0F0UCxJQUlBK3BGLEdBQUE3Z0YsS0FDQSxNQUFBbEosRUFBQWt3RCxVQUFBLE1BQUFsd0QsRUFBQWtrRiwwQkFBQWwxRSxHQUFBLG1HQUFBOUYsRUFBQW9HLEtBRUEsTUFBQXRQLEVBQUFra0YsMEJBQ0EsTUFBQWxrRixFQUFBa3dELFVBQUFsaEQsR0FBQSx3RUFDQSxpQkFBQWhQLEVBQUFra0YseUJBQUF5RyxNQUFBM3FGLEVBQUFra0YseUJBQUFsMUUsR0FBQSx1S0FHQTFELEVBQUF0TCxFQUFBNnFGLGlDQUFBN3FGLEVBQUFnckQsaUJBQUEsTUFBQWhyRCxFQUFBa3dELFNBQUEsOE5BQUE1Z0QsS0FFQSxNQUFBdFAsRUFBQTRKLE9BQUEsaUJBQUE1SixFQUFBNEosT0FBQW9GLEdBQUEsMkpBQXNOTSxNQUd0TixTQUFBdzdFLEdBQUEvMEMsRUFBQS8xQyxHQUNBLFFBQUErMUMsRUFBQTFuRCxRQUFBLEtBQ0EsdUJBQUEyUixFQUFBME8sR0FFQSxPQUFBcW5DLEdBS0EscUJBQ0Esb0JBQ0EsZ0JBQ0Esb0JBQ0Esb0JBQ0EsdUJBQ0EscUJBQ0Esb0JBQ0EsU0FDQSxRQUNBLFVBT0EsSUFBQWcxQyxJQUVBQyxPQUFBLFNBQ0FDLGNBQUEsZ0JBQ0FDLGlCQUFBLGdCQUNBQyxVQUFBLFlBQ0F4bkYsT0FBQSxTQUNBeW5GLGdCQUFBLGtCQUNBQyxJQUFBLE1BQ0FDLEdBQUEsS0FDQUMsTUFBQSxRQUNBQyxlQUFBLGlCQUNBQyxhQUFBLGVBQ0FDLFlBQUEsY0FDQUMsVUFBQSxZQUNBQyxTQUFBLFdBQ0FDLFNBQUEsV0FDQWw5QyxRQUFBLFVBQ0FtOUMsWUFBQSxjQUNBQyxZQUFBLGNBQ0FDLFVBQUEsWUFDQUMsUUFBQSxVQUNBcjhDLFFBQUEsVUFDQXNnQixTQUFBLFdBQ0FnOEIsS0FBQSxPQUNBQyxNQUFBLFlBQ0FDLFFBQUEsVUFDQUMsVUFBQSxZQUNBQyxLQUFBLE9BQ0FDLFFBQUEsVUFDQS83QixRQUFBLFVBQ0FnOEIsZ0JBQUEsa0JBQ0FDLFlBQUEsY0FDQUMsU0FBQSxXQUNBQyxhQUFBLGVBQ0FDLE9BQUEsU0FDQUMsWUFBQSxjQUNBQyx3QkFBQSwwQkFDQXQwRixLQUFBLE9BQ0E4MEMsU0FBQSxXQUNBcHBDLFFBQUEsVUFDQTZvRixlQUFBLGlCQUNBQyxhQUFBLGVBQ0FDLE1BQUEsUUFDQUMsSUFBQSxNQUNBL3JELFNBQUEsV0FDQWdzRCxTQUFBLFdBQ0FDLFVBQUEsWUFDQUMsUUFBQSxVQUNBeDRFLElBQUEsVUFDQTJpQyxLQUFBLE9BQ0E4MUMsV0FBQSxhQUNBQyxXQUFBLGFBQ0FDLFlBQUEsY0FDQUMsZUFBQSxpQkFDQUMsV0FBQSxhQUNBQyxZQUFBLGNBQ0F6MUQsUUFBQSxVQUNBMDFELE9BQUEsU0FDQW40QyxPQUFBLFNBQ0FvNEMsS0FBQSxPQUNBQyxLQUFBLE9BQ0FDLFNBQUEsV0FDQUMsUUFBQSxVQUNBQyxVQUFBLFlBQ0FDLGFBQUEsWUFDQUMsS0FBQSxPQUNBeDFGLEdBQUEsS0FDQXkxRixVQUFBLFlBQ0FDLFVBQUEsWUFDQUMsVUFBQSxZQUNBNS9FLEdBQUEsS0FDQTYvRSxPQUFBLFNBQ0FDLFNBQUEsV0FDQUMsUUFBQSxVQUNBQyxVQUFBLFlBQ0FDLFNBQUEsV0FDQUMsVUFBQSxZQUNBQyxRQUFBLFVBQ0FqaEYsS0FBQSxPQUNBd29ELE1BQUEsUUFDQTA0QixLQUFBLE9BQ0EzZ0UsS0FBQSxPQUNBNGdFLEtBQUEsT0FDQUMsSUFBQSxNQUNBQyxTQUFBLFdBQ0FDLFlBQUEsY0FDQUMsYUFBQSxlQUNBcjVFLElBQUEsTUFDQXM1RSxVQUFBLFlBQ0FDLE1BQUEsUUFDQUMsV0FBQSxhQUNBQyxPQUFBLFNBQ0F4NUUsSUFBQSxNQUNBeTVFLFVBQUEsWUFDQXJNLFNBQUEsV0FDQXNNLE1BQUEsUUFDQXZrRyxLQUFBLE9BQ0F3a0csU0FBQSxXQUNBQyxNQUFBLFFBQ0FDLFdBQUEsYUFDQTFsRixLQUFBLE9BQ0EybEYsUUFBQSxVQUNBQyxRQUFBLFVBQ0FDLFlBQUEsY0FDQUMsWUFBQSxjQUNBQyxPQUFBLFNBQ0FDLFFBQUEsVUFDQUMsUUFBQSxVQUNBQyxXQUFBLGFBQ0FDLFNBQUEsV0FDQUMsZUFBQSxpQkFDQXZvRSxJQUFBLE1BQ0F3b0UsU0FBQSxXQUNBQyxTQUFBLFdBQ0FDLEtBQUEsT0FDQW52RixLQUFBLE9BQ0FvdkYsUUFBQSxVQUNBQyxRQUFBLFVBQ0E1d0QsTUFBQSxRQUNBNndELE9BQUEsU0FDQUMsVUFBQSxZQUNBQyxTQUFBLFdBQ0F0TyxTQUFBLFdBQ0F1TyxNQUFBLFFBQ0Fqd0UsS0FBQSxPQUNBa3dFLE1BQUEsUUFDQUMsS0FBQSxPQUNBQyxXQUFBLGFBQ0FubkYsSUFBQSxNQUNBb25GLE9BQUEsU0FDQUMsUUFBQSxVQUNBQyxPQUFBLFNBQ0FqK0YsTUFBQSxRQUNBaEcsS0FBQSxPQUNBd2MsTUFBQSxRQUNBMG5GLFFBQUEsVUFDQUMsU0FBQSxXQUNBOTVGLE9BQUEsU0FDQSs1RixNQUFBLFFBQ0FsZ0csS0FBQSxPQUNBbWdHLE9BQUEsU0FDQTlsRyxNQUFBLFFBQ0ErbEcsTUFBQSxRQUNBQyxNQUFBLFFBQ0EvOUUsS0FBQSxPQUdBZytFLE1BQUEsUUFDQUMsYUFBQSxlQUNBQyxnQkFBQSxlQUNBQyxXQUFBLGFBQ0FDLFNBQUEsV0FDQUMsa0JBQUEsb0JBQ0FDLHFCQUFBLG9CQUNBQyxhQUFBLGVBQ0FDLFdBQUEsYUFDQUMsVUFBQSxZQUNBQyxXQUFBLGFBQ0FDLGNBQUEsYUFDQUMsT0FBQSxTQUNBQyxjQUFBLGdCQUNBQyxjQUFBLGdCQUNBQyxZQUFBLGNBQ0FDLFFBQUEsVUFDQUMsY0FBQSxnQkFDQUMsY0FBQSxnQkFDQUMsaUJBQUEsZ0JBQ0FDLFlBQUEsY0FDQUMsS0FBQSxPQUNBQyxNQUFBLFFBQ0FDLEtBQUEsT0FDQUMsR0FBQSxLQUNBQyxTQUFBLFdBQ0FDLFVBQUEsWUFDQUMsYUFBQSxZQUNBQyxLQUFBLE9BQ0FDLFNBQUEsV0FDQUMsWUFBQSxXQUNBQyxjQUFBLGdCQUNBQyxTQUFBLFdBQ0FDLFlBQUEsV0FDQXptRCxNQUFBLFFBQ0EwbUQsbUJBQUEscUJBQ0FDLHNCQUFBLHFCQUNBQywwQkFBQSw0QkFDQUMsOEJBQUEsNEJBQ0FDLGFBQUEsZUFDQUMsZ0JBQUEsZUFDQUMsZUFBQSxpQkFDQUMsa0JBQUEsaUJBQ0FDLGtCQUFBLG9CQUNBQyxpQkFBQSxtQkFDQW5nQixPQUFBLFNBQ0FvZ0IsR0FBQSxLQUNBQyxHQUFBLEtBQ0F4cEcsRUFBQSxJQUNBeXBHLFNBQUEsV0FDQUMsV0FBQSxhQUNBQyxRQUFBLFVBQ0FDLGdCQUFBLGtCQUNBNTNFLFVBQUEsWUFDQXBULFFBQUEsVUFDQWlyRixRQUFBLFVBQ0FDLGlCQUFBLG1CQUNBQyxvQkFBQSxtQkFDQUMsSUFBQSxNQUNBQyxHQUFBLEtBQ0FDLEdBQUEsS0FDQUMsU0FBQSxXQUNBQyxVQUFBLFlBQ0FDLGlCQUFBLG1CQUNBQyxvQkFBQSxtQkFDQWxpRyxJQUFBLE1BQ0FtaUcsU0FBQSxXQUNBQywwQkFBQSw0QkFDQUMsS0FBQSxPQUNBQyxZQUFBLGNBQ0FDLGVBQUEsY0FDQUMsU0FBQSxXQUNBQyxZQUFBLFdBQ0FobUcsT0FBQSxTQUNBaW1HLFVBQUEsWUFDQUMsWUFBQSxjQUNBQyxhQUFBLGVBQ0FDLGdCQUFBLGVBQ0FDLFdBQUEsYUFDQUMsY0FBQSxhQUNBQyxVQUFBLFlBQ0FDLFdBQUEsYUFDQUMsY0FBQSxhQUNBQyxTQUFBLFdBQ0FDLFlBQUEsV0FDQUMsZUFBQSxpQkFDQUMsbUJBQUEsaUJBQ0FDLFlBQUEsY0FDQUMsZUFBQSxjQUNBQyxVQUFBLFlBQ0FDLGFBQUEsWUFDQUMsWUFBQSxjQUNBQyxlQUFBLGNBQ0FDLFdBQUEsYUFDQUMsY0FBQSxhQUNBM3JGLE9BQUEsU0FDQTJFLEtBQUEsT0FDQWluRixHQUFBLEtBQ0FDLEdBQUEsS0FDQUMsR0FBQSxLQUNBQyxHQUFBLEtBQ0FDLFVBQUEsWUFDQUMsYUFBQSxZQUNBQywyQkFBQSw2QkFDQUMsK0JBQUEsNkJBQ0FDLHlCQUFBLDJCQUNBQyw2QkFBQSwyQkFDQUMsU0FBQSxXQUNBQyxrQkFBQSxvQkFDQUMsY0FBQSxnQkFDQUMsUUFBQSxVQUNBQyxVQUFBLFlBQ0FDLGNBQUEsWUFDQUMsYUFBQSxlQUNBQyxpQkFBQSxlQUNBQyxZQUFBLGNBQ0FDLGVBQUEsaUJBQ0FDLGtCQUFBLGlCQUNBQyxJQUFBLE1BQ0FDLEdBQUEsS0FDQUMsT0FBQSxTQUNBQyxVQUFBLFlBQ0FDLEdBQUEsS0FDQTduRyxHQUFBLEtBQ0E4bkcsR0FBQSxLQUNBQyxHQUFBLEtBQ0FseUYsRUFBQSxJQUNBbXlGLGFBQUEsZUFDQUMsaUJBQUEsbUJBQ0FDLFFBQUEsVUFDQUMsVUFBQSxZQUNBQyxXQUFBLGFBQ0FDLFNBQUEsV0FDQUMsYUFBQSxlQUNBQyxjQUFBLGdCQUNBQyxpQkFBQSxnQkFDQUMsY0FBQSxnQkFDQUMsaUJBQUEsZ0JBQ0FDLGtCQUFBLG9CQUNBQyxNQUFBLFFBQ0FDLFVBQUEsWUFDQUMsYUFBQSxZQUNBQyxhQUFBLGVBQ0FDLFVBQUEsWUFDQUMsYUFBQSxZQUNBQyxZQUFBLGNBQ0FDLGVBQUEsY0FDQUMsWUFBQSxjQUNBQyxZQUFBLGNBQ0FDLEtBQUEsT0FDQUMsaUJBQUEsbUJBQ0FDLFVBQUEsWUFDQUMsYUFBQSxlQUNBcDZGLEtBQUEsT0FDQXE2RixXQUFBLGFBQ0E1cEUsT0FBQSxTQUNBeTJELFFBQUEsVUFDQW9ULFNBQUEsV0FDQW5ULE1BQUEsUUFDQW9ULE9BQUEsU0FDQUMsWUFBQSxjQUNBQyxPQUFBLFNBQ0FDLFNBQUEsV0FDQUMsaUJBQUEsbUJBQ0FDLG9CQUFBLG1CQUNBQyxrQkFBQSxvQkFDQUMscUJBQUEsb0JBQ0FDLFdBQUEsYUFDQUMsY0FBQSxhQUNBQyxRQUFBLFVBQ0FDLFdBQUEsVUFDQUMsV0FBQSxhQUNBQyxvQkFBQSxzQkFDQUMsaUJBQUEsbUJBQ0FDLGFBQUEsZUFDQUMsY0FBQSxnQkFDQUMsaUJBQUEsZ0JBQ0FDLE9BQUEsU0FDQUMsVUFBQSxZQUNBQyxVQUFBLFlBQ0FDLFVBQUEsWUFDQTUyRSxPQUFBLFNBQ0E2MkUsY0FBQSxnQkFDQUMsb0JBQUEsc0JBQ0FDLGVBQUEsaUJBQ0Fyd0csU0FBQSxXQUNBTCxFQUFBLElBQ0Eyd0csT0FBQSxTQUNBQyxLQUFBLE9BQ0FDLEtBQUEsT0FDQUMsZ0JBQUEsa0JBQ0FDLG1CQUFBLGtCQUNBQyxZQUFBLGNBQ0FDLFVBQUEsWUFDQUMsbUJBQUEscUJBQ0FDLGlCQUFBLG1CQUNBQyxTQUFBLFdBQ0FDLFFBQUEsVUFDQTF2RyxPQUFBLFNBQ0FGLFFBQUEsVUFDQTZ2RyxPQUFBLFNBQ0FDLEdBQUEsS0FDQUMsR0FBQSxLQUNBQyxNQUFBLFFBQ0FDLFNBQUEsV0FDQUMsS0FBQSxPQUNBQyxlQUFBLGlCQUNBQyxrQkFBQSxpQkFDQUMsTUFBQSxRQUNBQyxRQUFBLFVBQ0FDLGlCQUFBLG1CQUNBQyxpQkFBQSxtQkFDQUMsTUFBQSxRQUNBQyxhQUFBLGVBQ0FDLFlBQUEsY0FDQUMsYUFBQSxlQUNBQyxNQUFBLFFBQ0FDLE1BQUEsUUFDQUMsWUFBQSxjQUNBQyxVQUFBLFlBQ0FDLGFBQUEsWUFDQUMsWUFBQSxjQUNBQyxlQUFBLGNBQ0FDLHNCQUFBLHdCQUNBQyx5QkFBQSx3QkFDQUMsdUJBQUEseUJBQ0FDLDBCQUFBLHlCQUNBcGxFLE9BQUEsU0FDQXFsRSxPQUFBLFNBQ0FDLGdCQUFBLGtCQUNBQyxtQkFBQSxrQkFDQUMsaUJBQUEsbUJBQ0FDLG9CQUFBLG1CQUNBQyxjQUFBLGdCQUNBQyxpQkFBQSxnQkFDQUMsZUFBQSxpQkFDQUMsa0JBQUEsaUJBQ0FDLGlCQUFBLG1CQUNBQyxvQkFBQSxtQkFDQUMsWUFBQSxjQUNBQyxlQUFBLGNBQ0FDLGNBQUEsZ0JBQ0FDLGlCQUFBLGdCQUNBQywrQkFBQSxpQ0FDQUMseUJBQUEsMkJBQ0FDLGFBQUEsZUFDQUMsZUFBQSxpQkFDQUMsWUFBQSxjQUNBQyxRQUFBLFVBQ0FDLFFBQUEsVUFDQUMsV0FBQSxhQUNBQyxjQUFBLGFBQ0FDLGVBQUEsaUJBQ0FDLGtCQUFBLGlCQUNBQyxXQUFBLGFBQ0FDLGNBQUEsZ0JBQ0FDLGlCQUFBLGdCQUNBbHdGLEdBQUEsS0FDQW13RixVQUFBLFlBQ0FDLE9BQUEsU0FDQUMsR0FBQSxLQUNBQyxHQUFBLEtBQ0FDLGtCQUFBLG9CQUNBQyxxQkFBQSxvQkFDQUMsbUJBQUEscUJBQ0FDLHNCQUFBLHFCQUNBQyxRQUFBLFVBQ0FDLFlBQUEsY0FDQUMsZUFBQSxjQUNBQyxhQUFBLGVBQ0FDLGdCQUFBLGVBQ0FDLFdBQUEsYUFDQUMsZUFBQSxhQUNBQyxhQUFBLGVBQ0FDLFlBQUEsY0FDQUMsZUFBQSxjQUNBMWxHLE9BQUEsU0FDQTJsRyxhQUFBLGVBQ0FDLGdCQUFBLGVBQ0E3c0csUUFBQSxVQUNBOHNHLFNBQUEsV0FDQUMsYUFBQSxXQUNBQyxZQUFBLGNBQ0FDLGdCQUFBLGNBQ0FDLFlBQUEsY0FDQUMsZ0JBQUEsY0FDQUMsU0FBQSxXQUNBQyxZQUFBLFdBQ0FDLGFBQUEsZUFDQUMsZ0JBQUEsZUFDQUMsUUFBQSxVQUNBQyxXQUFBLGFBQ0FDLFdBQUEsYUFDQUMsY0FBQSxnQkFDQUMsaUJBQUEsZ0JBQ0FDLE1BQUEsUUFDQUMsT0FBQSxTQUNBQyxZQUFBLGNBQ0FDLGVBQUEsY0FDQUMsWUFBQSxjQUNBQyxlQUFBLGNBQ0FDLEdBQUEsS0FDQUMsR0FBQSxLQUNBbDNGLEVBQUEsSUFDQW0zRixpQkFBQSxtQkFDQUMsUUFBQSxVQUNBQyxXQUFBLFVBQ0FDLGFBQUEsZUFDQUMsZ0JBQUEsZUFDQUMsYUFBQSxlQUNBQyxnQkFBQSxlQUNBQyxVQUFBLFlBQ0FDLGFBQUEsWUFDQUMsVUFBQSxZQUNBQyxhQUFBLFlBQ0FDLFVBQUEsWUFDQUMsYUFBQSxZQUNBQyxXQUFBLGFBQ0FDLGNBQUEsYUFDQUMsVUFBQSxZQUNBQyxhQUFBLFlBQ0FDLFFBQUEsVUFDQUMsV0FBQSxVQUNBQyxRQUFBLFVBQ0FDLFdBQUEsVUFDQUMsTUFBQSxRQUNBQyxZQUFBLFdBQ0FDLFdBQUEsYUFDQUMsY0FBQSxhQUNBQyxTQUFBLFdBQ0FDLEdBQUEsS0FDQUMsR0FBQSxLQUNBcHFFLEVBQUEsSUFDQXFxRSxpQkFBQSxtQkFDQUMsRUFBQSxJQUNBQyxXQUFBLGNBR0FDLElBQ0FDLGVBQUEsRUFDQUMsZUFBQSxFQUNBQyxnQkFBQSxFQUNBQyxjQUFBLEVBQ0FDLGVBQUEsRUFDQUMsb0JBQUEsRUFDQUMsYUFBQSxFQUNBQyx1QkFBQSxFQUVBQyxvQkFBQSxFQUNBQyxlQUFBLEVBQ0FDLGdCQUFBLEVBQ0FDLGdCQUFBLEVBQ0FDLGFBQUEsRUFDQUMsYUFBQSxFQUNBQyxpQkFBQSxFQUNBQyx1QkFBQSxFQUNBQyxtQkFBQSxFQUNBQyxtQkFBQSxFQUNBQyxlQUFBLEVBQ0FDLGdCQUFBLEVBQ0FDLGdCQUFBLEVBQ0FDLGdCQUFBLEVBQ0FDLFlBQUEsRUFDQUMsZ0JBQUEsRUFDQUMsZ0JBQUEsRUFDQUMsZ0JBQUEsRUFDQUMsaUJBQUEsRUFFQUMsY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLFlBQUEsRUFDQUMsZ0JBQUEsRUFFQUMsa0JBQUEsRUFDQUMsZUFBQSxFQUVBQyx3QkFBQSxFQUNBQyxnQkFBQSxFQUNBQyxnQkFBQSxFQUNBQyxlQUFBLEVBQ0FDLGdCQUFBLEVBQ0FDLG1CQUFBLEVBQ0FDLG9CQUFBLEVBQ0FDLGNBQUEsRUFDQUMsa0JBQUEsRUFDQUMsWUFBQSxFQUNBQyxnQkFBQSxFQUNBQyxnQkFBQSxFQUNBQyxnQkFBQSxFQUNBQyxlQUFBLEVBQ0FDLGVBQUEsR0FHQUMsTUFDQUMsR0FBQSxJQUFBbDFELE9BQUEsWUFBQUgsR0FBQSxPQUNBczFELEdBQUEsSUFBQW4xRCxPQUFBLGdCQUFBSCxHQUFBLE9BRUE5bUQsR0FBQVosT0FBQVcsVUFBQUMsZUFFQSxTQUFBcThHLEtBQ0EsSUFBQTc0RixFQUFBd2dDLEdBQUFxNEQsbUJBQ0EsYUFBQTc0RixJQUFBLEdBR0EsU0FBQTg0RixHQUFBeHlELEVBQUE3cUQsR0FDQSxHQUFBZSxHQUFBbkIsS0FBQXE5RyxHQUFBajlHLElBQUFpOUcsR0FBQWo5RyxHQUNBLFNBR0EsR0FBQW05RyxHQUFBbDZHLEtBQUFqRCxHQUFBLENBQ0EsSUFBQXM5RyxFQUFBLFFBQUF0OUcsRUFBQStFLE1BQUEsR0FBQXdDLGNBQ0FnMkcsRUFBQXZELEdBQUFqNUcsZUFBQXU4RyxLQUFBLEtBSUEsU0FBQUMsRUFHQSxPQUZBbjlGLEdBQUEsb0dBQUFwZ0IsRUFBQW85RyxNQUNBSCxHQUFBajlHLElBQUEsR0FDQSxFQUdBLEdBQUFBLElBQUF1OUcsRUFHQSxPQUZBbjlGLEdBQUEsc0RBQUFwZ0IsRUFBQXU5RyxFQUFBSCxNQUNBSCxHQUFBajlHLElBQUEsR0FDQSxFQUlBLEdBQUFrOUcsR0FBQWo2RyxLQUFBakQsR0FBQSxDQUNBLElBQUF1ekMsRUFBQXZ6QyxFQUFBdUgsY0FDQWkyRyxFQUFBeEQsR0FBQWo1RyxlQUFBd3lDLEtBQUEsS0FJQSxTQUFBaXFFLEVBRUEsT0FEQVAsR0FBQWo5RyxJQUFBLEdBQ0EsRUFHQSxHQUFBQSxJQUFBdzlHLEVBR0EsT0FGQXA5RixHQUFBLHNEQUFBcGdCLEVBQUF3OUcsRUFBQUosTUFDQUgsR0FBQWo5RyxJQUFBLEdBQ0EsRUFJQSxTQXdCQSxTQUFBeTlHLEdBQUFyM0csRUFBQTBPLEdBQ0E4cUYsR0FBQXg1RixFQUFBME8sSUF0QkEsU0FBQTFPLEVBQUEwTyxHQUNBLElBQUE0b0csS0FFQSxRQUFBOXlHLEtBQUFrSyxFQUNBdW9HLEdBQUFqM0csRUFBQXdFLElBRUE4eUcsRUFBQXQ3RyxLQUFBd0ksR0FJQSxJQUFBK3lHLEVBQUFELEVBQUEvNkcsSUFBQSxTQUFBK0YsR0FDQSxVQUFBQSxFQUFBLE1BQ0dtYyxLQUFBLE1BRUgsSUFBQTY0RixFQUFBMTdHLE9BQ0FvZSxHQUFBLHlGQUFBdTlGLEVBQUF2M0csRUFBQWczRyxNQUNHTSxFQUFBMTdHLE9BQUEsR0FDSG9lLEdBQUEsMEZBQUF1OUYsRUFBQXYzRyxFQUFBZzNHLE1BUUFRLENBQUF4M0csRUFBQTBPLEdBR0EsSUFBQStvRyxJQUFBLEVBRUEsU0FBQUMsS0FDQSxJQUFBdjVGLEVBQUF3Z0MsR0FBQXE0RCxtQkFDQSxhQUFBNzRGLElBQUEsR0FrQkEsU0FBQXc1RixLQUNBLElBQUF4NUYsRUFBQXdnQyxHQUFBcTRELG1CQUNBLGFBQUE3NEYsSUFBQSxHQUdBLElBQUF5NUYsR0FHQUMsTUFDQUMsR0FBQS85RyxPQUFBVyxVQUFBQyxlQUNBbzlHLEdBQUEsT0FDQUMsR0FBQSxZQUNBQyxHQUFBLElBQUFyMkQsT0FBQSxZQUFBSCxHQUFBLE9BQ0F5MkQsR0FBQSxJQUFBdDJELE9BQUEsZ0JBQUFILEdBQUEsT0FFQW0yRCxHQUFBLFNBQUFuekQsRUFBQTdxRCxFQUFBUyxFQUFBODlHLEdBQ0EsR0FBQUwsR0FBQXQrRyxLQUFBcStHLEdBQUFqK0csSUFBQWkrRyxHQUFBaitHLEdBQ0EsU0FHQSxJQUFBdXpDLEVBQUF2ekMsRUFBQXVILGNBQ0EsaUJBQUFnc0MsR0FBQSxlQUFBQSxFQUdBLE9BRkFuekIsR0FBQSxrTEFDQTY5RixHQUFBaitHLElBQUEsR0FDQSxFQUlBLEdBQUF1K0csRUFBQSxDQUNBLEdBQUFuckUsRUFBQXJ5QyxlQUFBZixHQUNBLFNBRUEsSUFBQW16QyxFQUFBSyxFQUFBenlDLGVBQUF3eUMsR0FBQUMsRUFBQUQsR0FBQSxLQUNBLFNBQUFKLEVBR0EsT0FGQS95QixHQUFBLDhEQUFBcGdCLEVBQUFtekMsRUFBQTRxRSxNQUNBRSxHQUFBaitHLElBQUEsR0FDQSxFQUVBLEdBQUFtK0csR0FBQWw3RyxLQUFBakQsR0FHQSxPQUZBb2dCLEdBQUEsK0RBQUFwZ0IsRUFBQSs5RyxNQUNBRSxHQUFBaitHLElBQUEsR0FDQSxPQUVLLEdBQUFtK0csR0FBQWw3RyxLQUFBakQsR0FRTCxPQUpBbytHLEdBQUFuN0csS0FBQWpELElBQ0FvZ0IsR0FBQSxvSEFBQXBnQixFQUFBKzlHLE1BRUFFLEdBQUFqK0csSUFBQSxHQUNBLEVBSUEsR0FBQXErRyxHQUFBcDdHLEtBQUFqRCxJQUFBcytHLEdBQUFyN0csS0FBQWpELEdBQ0EsU0FHQSxpQkFBQXV6QyxFQUdBLE9BRkFuekIsR0FBQSxzSUFDQTY5RixHQUFBaitHLElBQUEsR0FDQSxFQUdBLFlBQUF1ekMsRUFHQSxPQUZBbnpCLEdBQUEsMkdBQ0E2OUYsR0FBQWorRyxJQUFBLEdBQ0EsRUFHQSxVQUFBdXpDLEdBQUEsT0FBQTl5QyxRQUFBd0YsSUFBQXhGLEdBQUEsaUJBQUFBLEVBR0EsT0FGQTJmLEdBQUEsMkdBQUEzZixFQUFBczlHLE1BQ0FFLEdBQUFqK0csSUFBQSxHQUNBLEVBR0Esb0JBQUFTLEdBQUFrSCxNQUFBbEgsR0FHQSxPQUZBMmYsR0FBQSw0RkFBQXBnQixFQUFBKzlHLE1BQ0FFLEdBQUFqK0csSUFBQSxHQUNBLEVBR0EsSUFBQXNvRCxFQUFBSyxHQUFBM29ELEdBQ0F3K0csRUFBQSxPQUFBbDJELEtBQUFsaUQsT0FBQWtoRCxHQUdBLEdBQUF1NEMsR0FBQTkrRixlQUFBd3lDLEdBQUEsQ0FDQSxJQUFBaXFFLEVBQUEzZCxHQUFBdHNELEdBQ0EsR0FBQWlxRSxJQUFBeDlHLEVBR0EsT0FGQW9nQixHQUFBLG9EQUFBcGdCLEVBQUF3OUcsRUFBQU8sTUFDQUUsR0FBQWorRyxJQUFBLEdBQ0EsT0FFSyxJQUFBdytHLEdBQUF4K0csSUFBQXV6QyxFQUtMLE9BRkFuekIsR0FBQSxtUUFBQXBnQixFQUFBdXpDLEVBQUF3cUUsTUFDQUUsR0FBQWorRyxJQUFBLEdBQ0EsRUFHQSx3QkFBQVMsR0FBQStuRCxHQUFBeG9ELEVBQUFTLEVBQUE2bkQsR0FBQSxJQUNBN25ELEVBQ0EyZixHQUFBLHNKQUFnTDNmLEVBQUFULElBQUFTLEVBQUFULEVBQUErOUcsTUFFaEwzOUYsR0FBQSw2UUFBeVMzZixFQUFBVCxJQUFBUyxFQUFBVCxNQUFBKzlHLE1BRXpTRSxHQUFBaitHLElBQUEsR0FDQSxLQUtBdytHLEtBS0FoMkQsR0FBQXhvRCxFQUFBUyxFQUFBNm5ELEdBQUEsS0FDQTIxRCxHQUFBaitHLElBQUEsR0FDQSxLQU9BLElBQUF5K0csR0FBQSxTQUFBcjRHLEVBQUEwTyxFQUFBeXBHLEdBQ0EsSUFBQUcsS0FDQSxRQUFBOXpHLEtBQUFrSyxFQUFBLENBQ0FrcEcsR0FBQTUzRyxFQUFBd0UsRUFBQWtLLEVBQUFsSyxHQUFBMnpHLElBRUFHLEVBQUF0OEcsS0FBQXdJLEdBSUEsSUFBQSt5RyxFQUFBZSxFQUFBLzdHLElBQUEsU0FBQStGLEdBQ0EsVUFBQUEsRUFBQSxNQUNHbWMsS0FBQSxNQUNILElBQUE2NUYsRUFBQTE4RyxPQUNBb2UsR0FBQSxnTUFBQXU5RixFQUFBdjNHLEVBQUEyM0csTUFDR1csRUFBQTE4RyxPQUFBLEdBQ0hvZSxHQUFBLHNNQUFBdTlGLEVBQUF2M0csRUFBQTIzRyxPQVlBLElBNEJBWSxHQTVCQUMsR0FBQTczRCxHQUFBSyx5QkFDQXkzRCxHQUFBOTNELEdBQUFNLDZCQUVBeTNELElBQUEsRUFDQUMsSUFBQSxFQUVBQyxHQUFBLDBCQUNBQyxHQUFBLGlDQUNBQyxHQUFBLDJCQUNBQyxHQUFBLFlBQ0FDLEdBQUEsV0FDQUMsR0FBQSxRQUNBQyxHQUFBLFNBRUFDLEdBQUFobUIsR0FBQUMsS0FHQXAxRSxHQUFBdkUsRUFBQUMsWUFBQSxJQUVBMC9GLFFBQUEsRUFDQUMsUUFBQSxFQUVBQyxRQUFBLEVBQ0FDLFFBQUEsRUFDQUMsUUFBQSxFQUNBQyxRQUFBLEVBQ0FDLFFBQUEsRUFHQUMsUUFBQSxFQUdBMzdGLEdBQUF5NkYsR0FFQVcsSUFLQW43RyxNQUFBLEVBRUEyN0csUUFBQSxHQUdBTixHQUFBLFNBQUF0NUcsRUFBQTBPLEdBQ0Eyb0csR0FBQXIzRyxFQUFBME8sR0F2TkEsU0FBQTFPLEVBQUEwTyxHQUNBLFVBQUExTyxHQUFBLGFBQUFBLEdBQUEsV0FBQUEsR0FJQSxNQUFBME8sR0FBQSxPQUFBQSxFQUFBclUsT0FBQW85RyxLQUNBQSxJQUFBLEVBQ0EsV0FBQXozRyxHQUFBME8sRUFBQW1qRixTQUNBNzNFLEdBQUEsaUxBQUFoYSxFQUFBMDNHLE1BRUExOUYsR0FBQSxpSkFBQWhhLEVBQUEwM0csT0E4TUFtQyxDQUFBNzVHLEVBQUEwTyxHQXREQSxTQUFBMU8sRUFBQTBPLEVBQUF5cEcsR0FDQTNlLEdBQUF4NUYsRUFBQTBPLElBR0EycEcsR0FBQXI0RyxFQUFBME8sRUFBQXlwRyxHQW1EQTJCLENBQUE5NUcsRUFBQTBPLEdBQUEsSUFRQSxJQUFBcXJHLEdBQUEsU0FDQUMsR0FBQSxpQkFrRUEsU0FBQUMsR0FBQUMsRUFBQW50RSxJQWo2VEEsU0FBQUEsRUFBQW90RSxHQUtBLElBSkEsSUFBQWhpRCxFQUFBZ2lELEVBQ0FuK0MsRUFBQTlELEdBQUFDLEdBQ0FqckIsRUFBQUQsRUFBQUYsR0FFQTF6QyxFQUFBLEVBQWlCQSxFQUFBNnpDLEVBQUF0eEMsT0FBeUJ2QyxJQUFBLENBQzFDLElBQUE0aUUsRUFBQS91QixFQUFBN3pDLEdBQ0EyaUUsRUFBQXJoRSxlQUFBc2hFLElBQUFELEVBQUFDLEtBQ0EsY0FBQUEsRUFDQXhKLEdBQUEscUJBQUEwRixHQUNPLGFBQUE4RCxHQUFBLFlBQUFBLEdBQ1B4SixHQUFBLG1CQUFBMEYsR0FDQTFGLEdBQUEsaUJBQUEwRixHQUdBNkQsRUFBQW5JLFNBQUEsRUFDQW1JLEVBQUEvRyxVQUFBLEdBQ08sY0FBQWdILEdBQ1A5ZSxHQUFBLGNBQ0FzVixHQUFBLHFCQUFBMEYsR0FFQTZELEVBQUFsSSxXQUFBLEdBQ08sYUFBQW1JLEdBQ1A5ZSxHQUFBLGFBQ0FzVixHQUFBLG1CQUFBMEYsR0FFQTZELEVBQUEvSCxVQUFBLEdBQ09SLEdBQUE5NEQsZUFBQXNoRSxJQUNQNUosR0FBQTRKLEVBQUF4SSxHQUFBd0ksR0FBQTlELEdBR0E2RCxFQUFBQyxJQUFBLElBcTRUQW0rQyxDQUFBcnRFLEVBRkFtdEUsRUFBQXh4RSxXQUFBcVUsSUFBQW05RCxFQUFBeHhFLFdBQUFzVSxHQUNBazlELElBQUExeEUsZUFJQSxTQUFBNnhFLEdBQUFILEdBQ0EsT0FBQUEsRUFBQXh4RSxXQUFBcVUsR0FBQW05RCxJQUFBMXhFLGNBR0EsU0FBQTh4RSxHQUFBcG1GLEdBVUFBLEVBQUFxbUYsUUFBQTlnRyxFQXdFQSxTQUFBK2dHLEdBQUF4NkcsRUFBQTBPLEVBQUF3ckcsRUFBQXptQixHQUNBLElBQUF0eEMsT0FBQSxFQUlBM1osRUFBQTZ4RSxHQUFBSCxHQUNBTyxPQUFBLEVBQ0E3bUIsRUFBQUgsRUFJQSxHQUhBRyxJQUFBdWxCLEtBQ0F2bEIsRUFBQUwsR0FBQXZ6RixJQUVBNHpGLElBQUF1bEIsR0FRQSxHQU5BaDNELEVBQUFxM0MsR0FBQXg1RixFQUFBME8sR0FHQXNMLEVBQUFtb0MsR0FBQW5pRCxNQUFBbUIsY0FBQSwyRUFBQW5CLEdBR0EsV0FBQUEsRUFBQSxDQUdBLElBQUEwNkcsRUFBQWx5RSxFQUFBbnJCLGNBQUEsT0FDQXE5RixFQUFBN21CLFVBQUEscUJBRUEsSUFBQXg3QixFQUFBcWlELEVBQUFyaUQsV0FDQW9pRCxFQUFBQyxFQUFBeDdCLFlBQUE3bUIsUUFHQW9pRCxFQUZLLGlCQUFBL3JHLEVBQUEwTyxHQUVMb3JCLEVBQUFuckIsY0FBQXJkLEdBQXNEb2QsR0FBQTFPLEVBQUEwTyxLQUt0RG9yQixFQUFBbnJCLGNBQUFyZCxRQUdBeTZHLEVBQUFqeUUsRUFBQW15RSxnQkFBQS9tQixFQUFBNXpGLEdBWUEsT0FSQTR6RixJQUFBdWxCLEtBQ0FoM0QsR0FBQSxnQ0FBQXBvRCxPQUFBVyxVQUFBMEQsU0FBQTVFLEtBQUFpaEgsSUFBQTFnSCxPQUFBVyxVQUFBQyxlQUFBbkIsS0FBQTQvRyxHQUFBcDVHLEtBQ0FvNUcsR0FBQXA1RyxJQUFBLEVBQ0FnYSxHQUFBLHFJQUFBaGEsS0FLQXk2RyxFQUdBLFNBQUFHLEdBQUFyK0QsRUFBQTI5RCxHQUNBLE9BQUFHLEdBQUFILEdBQUFXLGVBQUF0K0QsR0FHQSxTQUFBdStELEdBQUFMLEVBQUE3aUcsRUFBQW1qRyxFQUFBYixHQUNBLElBQUEvM0QsRUFBQXEzQyxHQUFBNWhGLEVBQUFtakcsR0FFQXpCLEdBQUExaEcsRUFBQW1qRyxHQUNBNTRELElBQUF3MkQsSUFBQThCLEVBQUFPLFlBQ0FoaEcsR0FBQSx3RkFBQXcrRixNQUFBLGVBQ0FHLElBQUEsR0FLQSxJQUFBanFHLE9BQUEsRUFDQSxPQUFBa0osR0FDQSxhQUNBLGFBQ0F5NkMsR0FBQSxpQkFBQW9vRCxHQUNBL3JHLEVBQUFxc0csRUFDQSxNQUNBLFlBQ0EsWUFFQSxRQUFBOXpHLEtBQUF1dkQsR0FDQUEsR0FBQTc3RCxlQUFBc00sSUFDQW9yRCxHQUFBcHJELEVBQUF1dkQsR0FBQXZ2RCxHQUFBd3pHLEdBR0EvckcsRUFBQXFzRyxFQUNBLE1BQ0EsYUFDQTFvRCxHQUFBLG1CQUFBb29ELEdBQ0EvckcsRUFBQXFzRyxFQUNBLE1BQ0EsVUFDQSxZQUNBLFdBQ0Exb0QsR0FBQSxtQkFBQW9vRCxHQUNBcG9ELEdBQUEsaUJBQUFvb0QsR0FDQS9yRyxFQUFBcXNHLEVBQ0EsTUFDQSxXQUNBMW9ELEdBQUEsbUJBQUFvb0QsR0FDQXBvRCxHQUFBLHFCQUFBb29ELEdBQ0EvckcsRUFBQXFzRyxFQUNBLE1BQ0EsY0FDQTFvRCxHQUFBLHFCQUFBb29ELEdBQ0EvckcsRUFBQXFzRyxFQUNBLE1BQ0EsWUFDQTMxRCxHQUFBcTFELEVBQUFNLEdBQ0Fyc0csRUFBQXEyQyxHQUFBMDFELEVBQUFNLEdBQ0Exb0QsR0FBQSx1QkFBQW9vRCxHQUdBUixHQUFBQyxFQUFBLFlBQ0EsTUFDQSxhQUNBanBCLEdBQUF3cEIsRUFBQU0sR0FDQXJzRyxFQUFBeWlGLEdBQUFzcEIsRUFBQU0sR0FDQSxNQUNBLGFBQ0F6b0IsR0FBQW1vQixFQUFBTSxHQUNBcnNHLEVBQUEyakYsR0FBQW9vQixFQUFBTSxHQUNBMW9ELEdBQUEsdUJBQUFvb0QsR0FHQVIsR0FBQUMsRUFBQSxZQUNBLE1BQ0EsZUFDQXJuQixHQUFBNG5CLEVBQUFNLEdBQ0Fyc0csRUFBQWlrRixHQUFBOG5CLEVBQUFNLEdBQ0Exb0QsR0FBQSx1QkFBQW9vRCxHQUdBUixHQUFBQyxFQUFBLFlBQ0EsTUFDQSxRQUNBeHJHLEVBQUFxc0csRUFPQSxPQUpBemhCLEdBQUExaEYsRUFBQWxKLEVBQUFzUCxJQTdNQSxTQUFBcEcsRUFBQTZpRyxFQUFBUCxFQUFBdHVDLEVBQUF6cEIsR0FDQSxRQUFBODRELEtBQUFydkMsRUFDQSxHQUFBQSxFQUFBanhFLGVBQUFzZ0gsR0FBQSxDQUdBLElBQUFDLEVBQUF0dkMsRUFBQXF2QyxHQUNBLEdBQUFBLElBQUFoQyxHQUVBaUMsR0FHQW5oSCxPQUFBd0ksT0FBQTI0RyxHQUlBM2lCLEdBQUFraUIsRUFBQVMsRUFBQWw5RixTQUNLLEdBQUFpOUYsSUFBQXJDLEdBQUEsQ0FDTCxJQUFBdUMsRUFBQUQsSUFBQWhDLFNBQUFyNUcsRUFDQSxNQUFBczdHLEdBQ0F4bkIsR0FBQThtQixFQUFBVSxRQUVLRixJQUFBakMsR0FDTCxpQkFBQWtDLEdBS0EsYUFBQXRqRyxHQUFBLEtBQUFzakcsSUFFQTdtQixHQUFBb21CLEVBQUFTLEdBRU8saUJBQUFBLEdBQ1A3bUIsR0FBQW9tQixFQUFBLEdBQUFTLEdBRUtELElBQUFwQyxJQUFBb0MsSUFBQW5DLElBRUFtQyxJQUFBbEMsS0FHQS9yRSxFQUFBcnlDLGVBQUFzZ0gsR0FDTCxNQUFBQyxJQUNBLG1CQUFBQSxHQUNBeEIsR0FBQXVCLEVBQUFDLEdBRUFqQixHQUFBQyxFQUFBZSxJQUVLLE1BQUFDLEdBQ0wzM0QsR0FBQWszRCxFQUFBUSxFQUFBQyxFQUFBLzRELEtBZ0tBaTVELENBQUF4akcsRUFBQTZpRyxFQUFBUCxFQUFBeHJHLEVBQUF5ekMsR0FFQXZxQyxHQUNBLFlBR0FnbUMsR0FBQTY4RCxHQUNBNzBELEdBQUE2MEQsRUFBQU0sR0FDQSxNQUNBLGVBR0FuOUQsR0FBQTY4RCxHQUNBMW5CLEdBQUEwbkIsR0FDQSxNQUNBLGNBNTJEQSxTQUFBbDlELEVBQUE3dUMsR0FFQSxNQUFBQSxFQUFBclUsT0FDQWtqRCxFQUFBQyxhQUFBLFFBQUE5dUMsRUFBQXJVLE9BMDJEQWdoSCxDQUFBWixFQUFBTSxHQUNBLE1BQ0EsY0FodURBLFNBQUF4OUQsRUFBQTd1QyxHQUNBLElBQUF3bEIsRUFBQXFwQixFQUNBcnBCLEVBQUEyOUQsV0FBQW5qRixFQUFBbWpGLFNBQ0EsSUFBQXgzRixFQUFBcVUsRUFBQXJVLE1BQ0EsTUFBQUEsRUFDQXUzRixHQUFBMTlELElBQUF4bEIsRUFBQW1qRixTQUFBeDNGLEdBQUEsR0FDRyxNQUFBcVUsRUFBQXUyQyxjQUNIMnNDLEdBQUExOUQsSUFBQXhsQixFQUFBbWpGLFNBQUFuakYsRUFBQXUyQyxjQUFBLEdBMHREQXEyRCxDQUFBYixFQUFBTSxHQUNBLE1BQ0EsUUFDQSxtQkFBQXJzRyxFQUFBNnNHLFNBRUFqQixHQUFBRyxJQU9BLFNBQUFlLEdBQUFmLEVBQUE3aUcsRUFBQTZqRyxFQUFBQyxFQUFBeEIsR0FFQVosR0FBQTFoRyxFQUFBOGpHLEdBR0EsSUFBQXRpQyxFQUFBLEtBRUF1aUMsT0FBQSxFQUNBL3ZDLE9BQUEsRUFDQSxPQUFBaDBELEdBQ0EsWUFDQStqRyxFQUFBNTJELEdBQUEwMUQsRUFBQWdCLEdBQ0E3dkMsRUFBQTdtQixHQUFBMDFELEVBQUFpQixHQUNBdGlDLEtBQ0EsTUFDQSxhQUNBdWlDLEVBQUF4cUIsR0FBQXNwQixFQUFBZ0IsR0FDQTd2QyxFQUFBdWxCLEdBQUFzcEIsRUFBQWlCLEdBQ0F0aUMsS0FDQSxNQUNBLGFBQ0F1aUMsRUFBQXRwQixHQUFBb29CLEVBQUFnQixHQUNBN3ZDLEVBQUF5bUIsR0FBQW9vQixFQUFBaUIsR0FDQXRpQyxLQUNBLE1BQ0EsZUFDQXVpQyxFQUFBaHBCLEdBQUE4bkIsRUFBQWdCLEdBQ0E3dkMsRUFBQSttQixHQUFBOG5CLEVBQUFpQixHQUNBdGlDLEtBQ0EsTUFDQSxRQUVBeE4sRUFBQTh2QyxFQUNBLG1CQUZBQyxFQUFBRixHQUVBRixTQUFBLG1CQUFBM3ZDLEVBQUEydkMsU0FFQWpCLEdBQUFHLEdBS0FuaEIsR0FBQTFoRixFQUFBZzBELEVBQUE1dEQsSUFFQSxJQUFBaTlGLE9BQUEsRUFDQTVpQixPQUFBLEVBQ0F1akIsRUFBQSxLQUNBLElBQUFYLEtBQUFVLEVBQ0EsSUFBQS92QyxFQUFBanhFLGVBQUFzZ0gsSUFBQVUsRUFBQWhoSCxlQUFBc2dILElBQUEsTUFBQVUsRUFBQVYsR0FHQSxHQUFBQSxJQUFBaEMsR0FBQSxDQUNBLElBQUE0QyxFQUFBRixFQUFBVixHQUNBLElBQUE1aUIsS0FBQXdqQixFQUNBQSxFQUFBbGhILGVBQUEwOUYsS0FDQXVqQixJQUNBQSxNQUVBQSxFQUFBdmpCLEdBQUEsU0FHSzRpQixJQUFBckMsSUFBQXFDLElBQUFqQyxJQUVBaUMsSUFBQXBDLElBQUFvQyxJQUFBbkMsSUFFQW1DLElBQUFsQyxLQUVBL3JFLEVBQUFyeUMsZUFBQXNnSCxHQUlMN2hDLElBQ0FBLE9BS0FBLFNBQUFwOUUsS0FBQWkvRyxFQUFBLE9BR0EsSUFBQUEsS0FBQXJ2QyxFQUFBLENBQ0EsSUFBQXN2QyxFQUFBdHZDLEVBQUFxdkMsR0FDQWEsRUFBQSxNQUFBSCxJQUFBVixRQUFBcDdHLEVBQ0EsR0FBQStyRSxFQUFBanhFLGVBQUFzZ0gsSUFBQUMsSUFBQVksSUFBQSxNQUFBWixHQUFBLE1BQUFZLEdBR0EsR0FBQWIsSUFBQWhDLEdBUUEsR0FOQWlDLEdBR0FuaEgsT0FBQXdJLE9BQUEyNEcsR0FHQVksRUFBQSxDQUVBLElBQUF6akIsS0FBQXlqQixHQUNBQSxFQUFBbmhILGVBQUEwOUYsSUFBQTZpQixLQUFBdmdILGVBQUEwOUYsS0FDQXVqQixJQUNBQSxNQUVBQSxFQUFBdmpCLEdBQUEsSUFJQSxJQUFBQSxLQUFBNmlCLEVBQ0FBLEVBQUF2Z0gsZUFBQTA5RixJQUFBeWpCLEVBQUF6akIsS0FBQTZpQixFQUFBN2lCLEtBQ0F1akIsSUFDQUEsTUFFQUEsRUFBQXZqQixHQUFBNmlCLEVBQUE3aUIsU0FLQXVqQixJQUNBeGlDLElBQ0FBLE1BRUFBLEVBQUFwOUUsS0FBQWkvRyxFQUFBVyxJQUVBQSxFQUFBVixPQUVLLEdBQUFELElBQUFyQyxHQUFBLENBQ0wsSUFBQXVDLEVBQUFELElBQUFoQyxTQUFBcjVHLEVBQ0FrOEcsRUFBQUQsSUFBQTVDLFNBQUFyNUcsRUFDQSxNQUFBczdHLEdBQ0FZLElBQUFaLElBQ0EvaEMsU0FBQXA5RSxLQUFBaS9HLEVBQUEsR0FBQUUsUUFNS0YsSUFBQWpDLEdBQ0w4QyxJQUFBWixHQUFBLGlCQUFBQSxHQUFBLGlCQUFBQSxJQUNBOWhDLFNBQUFwOUUsS0FBQWkvRyxFQUFBLEdBQUFDLEdBRUtELElBQUFwQyxJQUFBb0MsSUFBQW5DLEtBRUE5ckUsRUFBQXJ5QyxlQUFBc2dILElBQ0wsTUFBQUMsSUFFQSxtQkFBQUEsR0FDQXhCLEdBQUF1QixFQUFBQyxHQUVBakIsR0FBQUMsRUFBQWUsSUFFQTdoQyxHQUFBMGlDLElBQUFaLElBSUE5aEMsUUFLQUEsU0FBQXA5RSxLQUFBaS9HLEVBQUFDLElBTUEsT0FIQVUsSUFDQXhpQyxTQUFBcDlFLEtBQUFpOUcsR0FBQTJDLEdBRUF4aUMsRUFJQSxTQUFBNGlDLEdBQUF2QixFQUFBcmhDLEVBQUF4aEUsRUFBQTZqRyxFQUFBQyxHQUlBLFVBQUE5akcsR0FBQSxVQUFBOGpHLEVBQUExN0csTUFBQSxNQUFBMDdHLEVBQUE5aEgsTUFDQTRyRCxHQUFBaTFELEVBQUFpQixHQUdBbGlCLEdBQUE1aEYsRUFBQTZqRyxHQU9BLE9BOVdBLFNBQUFoQixFQUFBcmhDLEVBQUE2aUMsRUFBQTk1RCxHQUVBLFFBQUE5b0QsRUFBQSxFQUFpQkEsRUFBQSsvRSxFQUFBeDlFLE9BQTBCdkMsR0FBQSxHQUMzQyxJQUFBNGhILEVBQUE3aEMsRUFBQS8vRSxHQUNBeTRGLEVBQUExWSxFQUFBLy9FLEVBQUEsR0FDQTRoSCxJQUFBaEMsR0FDQTFnQixHQUFBa2lCLEVBQUEzb0IsRUFBQTl6RSxJQUNLaTlGLElBQUFyQyxHQUNMamxCLEdBQUE4bUIsRUFBQTNvQixHQUNLbXBCLElBQUFqQyxHQUNMM2tCLEdBQUFvbUIsRUFBQTNvQixHQUVBdnVDLEdBQUFrM0QsRUFBQVEsRUFBQW5wQixFQUFBM3ZDLElBOFZBKzVELENBQUF6QixFQUFBcmhDLEVBQUE2aUMsRUFGQXppQixHQUFBNWhGLEVBQUE4akcsSUFNQTlqRyxHQUNBLFlBSUE2dEMsR0FBQWcxRCxFQUFBaUIsR0FDQSxNQUNBLGVBQ0E1b0IsR0FBQTJuQixFQUFBaUIsR0FDQSxNQUNBLGNBaDZEQSxTQUFBbitELEVBQUE3dUMsR0FDQSxJQUFBd2xCLEVBQUFxcEIsRUFHQXJwQixFQUFBZ3hCLGNBQUFHLGtCQUFBeGxELEVBRUEsSUFBQTJ5RixFQUFBdCtELEVBQUFneEIsY0FBQXN0QyxZQUNBdCtELEVBQUFneEIsY0FBQXN0QyxjQUFBOWpGLEVBQUFtakYsU0FFQSxJQUFBeDNGLEVBQUFxVSxFQUFBclUsTUFDQSxNQUFBQSxFQUNBdTNGLEdBQUExOUQsSUFBQXhsQixFQUFBbWpGLFNBQUF4M0YsR0FBQSxHQUNHbTRGLE1BQUE5akYsRUFBQW1qRixXQUVILE1BQUFuakYsRUFBQXUyQyxhQUNBMnNDLEdBQUExOUQsSUFBQXhsQixFQUFBbWpGLFNBQUFuakYsRUFBQXUyQyxjQUFBLEdBR0Eyc0MsR0FBQTE5RCxJQUFBeGxCLEVBQUFtakYsU0FBQW5qRixFQUFBbWpGLFlBQUEsUUFpNURBc3FCLENBQUExQixFQUFBaUIsSUFnQkEsU0FBQVUsR0FBQTNCLEVBQUE3aUcsRUFBQW1qRyxFQUFBdG5CLEVBQUF5bUIsR0FDQSxJQUFBLzNELEVBQ0FrNkQsT0FBQSxFQWFBLE9BVkFoRCxJQUFBLElBQUEwQixFQUFBakMsSUFDQTMyRCxFQUFBcTNDLEdBQUE1aEYsRUFBQW1qRyxHQUNBekIsR0FBQTFoRyxFQUFBbWpHLEdBQ0E1NEQsSUFBQXcyRCxJQUFBOEIsRUFBQU8sWUFDQWhoRyxHQUFBLHdGQUFBdytGLE1BQUEsZUFDQUcsSUFBQSxHQUtBL2dHLEdBQ0EsYUFDQSxhQUNBeTZDLEdBQUEsaUJBQUFvb0QsR0FDQSxNQUNBLFlBQ0EsWUFFQSxRQUFBeHpHLEtBQUF1dkQsR0FDQUEsR0FBQTc3RCxlQUFBc00sSUFDQW9yRCxHQUFBcHJELEVBQUF1dkQsR0FBQXZ2RCxHQUFBd3pHLEdBR0EsTUFDQSxhQUNBcG9ELEdBQUEsbUJBQUFvb0QsR0FDQSxNQUNBLFVBQ0EsWUFDQSxXQUNBcG9ELEdBQUEsbUJBQUFvb0QsR0FDQXBvRCxHQUFBLGlCQUFBb29ELEdBQ0EsTUFDQSxXQUNBcG9ELEdBQUEsbUJBQUFvb0QsR0FDQXBvRCxHQUFBLHFCQUFBb29ELEdBQ0EsTUFDQSxjQUNBcG9ELEdBQUEscUJBQUFvb0QsR0FDQSxNQUNBLFlBQ0FyMUQsR0FBQXExRCxFQUFBTSxHQUNBMW9ELEdBQUEsdUJBQUFvb0QsR0FHQVIsR0FBQUMsRUFBQSxZQUNBLE1BQ0EsYUFDQWpwQixHQUFBd3BCLEVBQUFNLEdBQ0EsTUFDQSxhQUNBem9CLEdBQUFtb0IsRUFBQU0sR0FDQTFvRCxHQUFBLHVCQUFBb29ELEdBR0FSLEdBQUFDLEVBQUEsWUFDQSxNQUNBLGVBQ0FybkIsR0FBQTRuQixFQUFBTSxHQUNBMW9ELEdBQUEsdUJBQUFvb0QsR0FHQVIsR0FBQUMsRUFBQSxZQUlBNWdCLEdBQUExaEYsRUFBQW1qRyxFQUFBLzhGLElBR0FxK0YsRUFBQSxJQUFBNStDLElBRUEsSUFEQSxJQUFBNitDLEVBQUE3QixFQUFBNkIsV0FDQWpqSCxFQUFBLEVBQW1CQSxFQUFBaWpILEVBQUExZ0gsT0FBdUJ2QyxJQUFBLENBRTFDLE9BREFpakgsRUFBQWpqSCxHQUFBTyxLQUFBdUgsZUFHQSxxQkFJQSxZQUVBLGNBRUEsZUFDQSxNQUNBLFFBR0FrN0csRUFBQTd3RyxJQUFBOHdHLEVBQUFqakgsR0FBQU8sT0FLQSxJQTNHQXV6QyxFQTJHQWlzQyxFQUFBLEtBQ0EsUUFBQTZoQyxLQUFBRixFQUNBLEdBQUFBLEVBQUFwZ0gsZUFBQXNnSCxHQUFBLENBR0EsSUFBQUMsRUFBQUgsRUFBQUUsR0FDQSxHQUFBQSxJQUFBakMsR0FVQSxpQkFBQWtDLEVBQ0FULEVBQUE5aEQsY0FBQXVpRCxJQUNBN0IsSUFDQUUsR0FBQWtCLEVBQUE5aEQsWUFBQXVpRCxHQUVBOWhDLEdBQUE0L0IsR0FBQWtDLElBRU8saUJBQUFBLEdBQ1BULEVBQUE5aEQsY0FBQSxHQUFBdWlELElBQ0E3QixJQUNBRSxHQUFBa0IsRUFBQTloRCxZQUFBdWlELEdBRUE5aEMsR0FBQTQvQixHQUFBLEdBQUFrQyxTQUdLLEdBQUFsdUUsRUFBQXJ5QyxlQUFBc2dILEdBQ0wsTUFBQUMsSUFDQSxtQkFBQUEsR0FDQXhCLEdBQUF1QixFQUFBQyxHQUVBakIsR0FBQUMsRUFBQWUsU0FFSyxHQUVMLGtCQUFBOTRELEVBQUEsQ0FFQSxJQUFBbzZELE9BQUEsRUFDQXI2RCxFQUFBSyxHQUFBMDRELEdBQ0EsR0FBQTVCLFNBRU8sR0FBQTRCLElBQUFwQyxJQUFBb0MsSUFBQW5DLElBR1AsVUFBQW1DLEdBQUEsWUFBQUEsR0FBQSxhQUFBQSxRQUVPLEdBQUFBLElBQUFyQyxHQUFBLENBQ1AsSUFBQTRELEVBQUF0QixLQUFBaEMsS0FBQSxHQUNBdUQsRUFBQWhDLEVBQUE1bUIsVUFDQTZvQixFQUFBL0MsR0FBQWMsRUFBQStCLEdBQ0FFLElBQUFELEdBQ0FqRCxHQUFBeUIsRUFBQXdCLEVBQUFDLFFBRU8sR0FBQXpCLElBQUFoQyxHQUFBLENBRVBvRCxFQUFBLE9BQUFwQixHQUNBLElBQUEwQixFQUFBMWtCLEdBQUFpakIsR0FFQXlCLEtBREFKLEVBQUE5QixFQUFBcDNELGFBQUEsV0FFQW0yRCxHQUFBeUIsRUFBQXNCLEVBQUFJLFFBRU8sR0FBQXg2RCxFQUVQazZELEVBQUEsT0FBQXBCLEVBQUE5NUcsZUFHQSs1RyxLQUZBcUIsRUFBQWo1RCxHQUFBbTNELEVBQUFRLEVBQUFDLEtBR0ExQixHQUFBeUIsRUFBQXNCLEVBQUFyQixRQUVPLElBQUFqNUQsR0FBQWc1RCxFQUFBLzRELEVBQUFDLEtBQUFHLEdBQUEyNEQsRUFBQUMsRUFBQWg1RCxFQUFBQyxHQUFBLENBQ1AsSUFBQXk2RCxHQUFBLEVBQ0EsVUFBQTE2RCxFQUVBbTZELEVBQUEsT0FBQW42RCxFQUFBRixlQUNBdTZELEVBQUF0NUQsR0FBQXczRCxFQUFBUSxFQUFBQyxFQUFBaDVELE9BQ1MsQ0FDVCxJQUFBMjZELEVBQUFwcEIsRUFJQSxHQUhBb3BCLElBQUExRCxLQUNBMEQsRUFBQXRwQixHQUFBMzdFLElBRUFpbEcsSUFBQTFELEdBRUFrRCxFQUFBLE9BQUFwQixFQUFBOTVHLG1CQUNXLENBQ1gsSUFBQWkyRyxRQXBNQWpxRSxJQW9NQTh0RSxFQXBNQTk1RyxjQUNBczRGLEdBQUE5K0YsZUFBQXd5QyxJQUdBc3NELEdBQUF0c0QsSUFGQSxNQW1NQSxPQUFBaXFFLE9BQUE2RCxJQU1BMkIsR0FBQSxFQUVBUCxFQUFBLE9BQUFqRixJQUdBaUYsRUFBQSxPQUFBcEIsR0FFQXNCLEVBQUFqNUQsR0FBQW0zRCxFQUFBUSxFQUFBQyxHQUdBQSxJQUFBcUIsR0FBQUssR0FDQXBELEdBQUF5QixFQUFBc0IsRUFBQXJCLEtBY0EsT0FOQW1CLEVBQUE3c0YsS0FBQSxJQUFBNnBGLElBRUFJLEdBQUE0QyxHQUlBemtHLEdBQ0EsWUFHQWdtQyxHQUFBNjhELEdBQ0E3MEQsR0FBQTYwRCxFQUFBTSxHQUNBLE1BQ0EsZUFHQW45RCxHQUFBNjhELEdBQ0ExbkIsR0FBQTBuQixHQUNBLE1BQ0EsYUFDQSxhQU1BLE1BQ0EsUUFDQSxtQkFBQU0sRUFBQVEsU0FFQWpCLEdBQUFHLEdBS0EsT0FBQXJoQyxFQUdBLFNBQUEwakMsR0FBQUMsRUFBQXhnRSxHQUVBLE9BREF3Z0UsRUFBQXhqRCxZQUFBaGQsRUFJQSxTQUFBeWdFLEdBQUFELEVBQUF4Z0UsR0FFQWc5RCxHQUFBd0QsRUFBQXhqRCxVQUFBaGQsR0FJQSxTQUFBMGdFLEdBQUFoMEUsRUFBQTJpQixHQUVBOHNELEtBR0FBLElBQUEsRUFDQTErRixHQUFBLDBEQUFBNHhDLEVBQUFqakIsU0FBQXhuQyxjQUFBOG5DLEVBQUFOLFNBQUF4bkMsZ0JBSUEsU0FBQSs3RyxHQUFBajBFLEVBQUEyaUIsR0FFQThzRCxLQUdBQSxJQUFBLEVBQ0ExK0YsR0FBQSxzRUFBQTR4QyxFQUFBMk4sVUFBQXR3QixFQUFBTixTQUFBeG5DLGdCQUlBLFNBQUFnOEcsR0FBQWwwRSxFQUFBcnhCLEVBQUFsSixHQUVBZ3FHLEtBR0FBLElBQUEsRUFDQTErRixHQUFBLDZEQUFBcEMsRUFBQXF4QixFQUFBTixTQUFBeG5DLGdCQUlBLFNBQUFpOEcsR0FBQW4wRSxFQUFBc1QsR0FFQSxLQUFBQSxJQU9BbThELEtBR0FBLElBQUEsRUFDQTErRixHQUFBLDJFQUFBdWlDLEVBQUF0VCxFQUFBTixTQUFBeG5DLGlCQXYwQkFvM0csR0FBQSxTQUFBOEUsR0FFQSxPQURBLGlCQUFBQSxJQUFBLEdBQUFBLEdBQ0F6OEcsUUFBQW01RyxHQUFBLE1BQUFuNUcsUUFBQW81RyxHQUFBLEtBR0FULEdBQUEsU0FBQStELEVBQUFDLEdBQ0EsSUFBQTdFLEdBQUEsQ0FHQSxJQUFBOEUsRUFBQWpGLEdBQUFnRixHQUNBRSxFQUFBbEYsR0FBQStFLEdBQ0FHLElBQUFELElBR0E5RSxJQUFBLEVBQ0ExK0YsR0FBQSwwREFBQXlqRyxFQUFBRCxNQUdBaEUsR0FBQSxTQUFBbmpFLEVBQUFrbUUsRUFBQW1CLEdBQ0EsSUFBQWhGLEdBQUEsQ0FHQSxJQUFBaUYsRUFBQXBGLEdBQUFtRixHQUNBRSxFQUFBckYsR0FBQWdFLEdBQ0FxQixJQUFBRCxJQUdBakYsSUFBQSxFQUNBMStGLEdBQUEsbURBQUFxOEIsRUFBQWo3QyxLQUFBRSxVQUFBc2lILEdBQUF4aUgsS0FBQUUsVUFBQXFpSCxPQUdBbEUsR0FBQSxTQUFBb0UsR0FDQSxJQUFBbkYsR0FBQSxDQUdBQSxJQUFBLEVBQ0EsSUFBQXQ5RixLQUNBeWlHLEVBQUF4N0csUUFBQSxTQUFBekksR0FDQXdoQixFQUFBcGYsS0FBQXBDLEtBRUFvZ0IsR0FBQSx5Q0FBQW9CLEtBR0FzK0YsR0FBQSxTQUFBM3NFLEVBQUFoYixJQUNBLElBQUFBLEVBQ0EvWCxHQUFBLDJMQUEyTSt5QixNQUFBMHJFLE1BRTNNeitGLEdBQUEsaUZBQUEreUIsU0FBQWhiLEVBQUEwbUYsT0FNQWtCLEdBQUEsU0FBQTdyRyxFQUFBc2xGLEdBS0EsSUFBQTBxQixFQUFBaHdHLEVBQUE4bEYsZUFBQXVsQixHQUFBcnJHLEVBQUEwNkIsY0FBQW5yQixjQUFBdlAsRUFBQTIyQyxTQUFBMzJDLEVBQUEwNkIsY0FBQW15RSxnQkFBQTdzRyxFQUFBOGxGLGFBQUE5bEYsRUFBQTIyQyxTQUVBLE9BREFxNUQsRUFBQWpxQixVQUFBVCxFQUNBMHFCLEVBQUFqcUIsV0E2eEJBLElBbUJBa3FCLEdBbkJBQyxHQUFBamtILE9BQUF3SSxRQUNBOGEsY0FBQW05RixHQUNBSyxlQUFBRCxHQUNBcUQscUJBQUFuRCxHQUNBb0QsZUFBQTFDLEdBQ0EyQyxpQkFBQW5DLEdBQ0FvQyx1QkFBQWhDLEdBQ0FpQyxpQkFBQXZCLEdBQ0F3QixxQkFBQXRCLEdBQ0F1QixnQ0FBQXRCLEdBQ0F1Qiw2QkFBQXRCLEdBQ0F1QiwrQkFBQXRCLEdBQ0F1Qiw0QkFBQXRCLEdBQ0ExaUUsdUJBM0JBLFNBQUErL0QsRUFBQTdpRyxFQUFBbEosR0FDQSxPQUFBa0osR0FDQSxZQUVBLFlBREE4aUMsR0FBQSsvRCxFQUFBL3JHLEdBRUEsZUFFQSxZQTNsRUEsU0FBQTZ1QyxFQUFBN3VDLEdBRUFva0YsR0FBQXYxQyxFQUFBN3VDLEdBd2xFQWl3RyxDQUFBbEUsRUFBQS9yRyxHQUVBLGFBRUEsWUEzdEVBLFNBQUE2dUMsRUFBQTd1QyxHQUNBLElBQUF3bEIsRUFBQXFwQixFQUNBbGpELEVBQUFxVSxFQUFBclUsTUFFQSxNQUFBQSxHQUNBdTNGLEdBQUExOUQsSUFBQXhsQixFQUFBbWpGLFNBQUF4M0YsR0FBQSxHQXF0RUF1a0gsQ0FBQW5FLEVBQUEvckcsT0FzQkFtd0csR0FBQWwrRCxHQUFBTSw2QkFpQkE2OUQsSUFBQSxtcEJBR0FDLElBQUEsMEVBS0EsZ0NBR0FDLEdBQUFELEdBQUE5N0csUUFBQSxXQUdBZzhHLElBQUEsa0RBRUFDLElBQ0Ezd0UsUUFBQSxLQUVBNHdFLFFBQUEsS0FDQUMsWUFBQSxLQUNBQyxpQkFBQSxLQUNBQyxlQUFBLEtBQ0FDLGtCQUFBLEtBRUFDLHVCQUFBLEtBQ0FDLHFCQUFBLE1Bd01BQyxPQUVBM0IsR0FBQSxTQUFBNEIsRUFBQUMsRUFBQUMsR0FFQSxJQUFBQyxHQURBRCxLQUFBWCxJQUNBM3dFLFFBQ0F3eEUsRUFBQUQsS0FBQWxvRyxJQUVBLE1BQUFnb0csSUFDQTVsRyxFQUFBLE1BQUEybEcsRUFBQSx5RUFDQUEsRUFBQSxTQUdBLElBQUFLLEVBL0pBLFNBQUFwb0csRUFBQW1vRyxHQUVBLE9BQUFBLEdBRUEsYUFDQSxpQkFBQW5vRyxHQUFBLGFBQUFBLEdBQUEsVUFBQUEsRUFDQSxlQUNBLGlCQUFBQSxHQUFBLFVBQUFBLEVBR0EsYUFDQSxnQkFBQUEsRUFPQSxTQUNBLGFBQUFBLEdBQUEsT0FBQUEsR0FBQSxVQUFBQSxHQUFBLFdBQUFBLEdBQUEsYUFBQUEsRUFFQSxZQUNBLFlBQ0EsWUFDQSxhQUFBQSxHQUFBLFVBQUFBLEdBQUEsV0FBQUEsR0FBQSxhQUFBQSxFQUVBLGVBQ0EsY0FBQUEsR0FBQSxhQUFBQSxFQUVBLFlBQ0Esa0JBQUFBLEdBQUEsYUFBQUEsR0FBQSxVQUFBQSxHQUFBLFVBQUFBLEdBQUEsVUFBQUEsR0FBQSxVQUFBQSxHQUFBLFdBQUFBLEdBQUEsYUFBQUEsRUFFQSxXQUNBLGVBQUFBLEdBQUEsYUFBQUEsR0FBQSxZQUFBQSxHQUFBLFNBQUFBLEdBQUEsU0FBQUEsR0FBQSxVQUFBQSxHQUFBLGFBQUFBLEdBQUEsYUFBQUEsR0FBQSxVQUFBQSxHQUFBLFdBQUFBLEdBQUEsYUFBQUEsRUFFQSxXQUNBLGVBQUFBLEdBQUEsU0FBQUEsRUFDQSxnQkFDQSxlQUFBQSxFQU1BLE9BQUFBLEdBQ0EsU0FDQSxTQUNBLFNBQ0EsU0FDQSxTQUNBLFNBQ0EsYUFBQW1vRyxHQUFBLE9BQUFBLEdBQUEsT0FBQUEsR0FBQSxPQUFBQSxHQUFBLE9BQUFBLEdBQUEsT0FBQUEsRUFFQSxTQUNBLFNBQ0EsV0FBQWQsR0FBQWxpSCxRQUFBZ2pILEdBRUEsV0FDQSxjQUNBLFVBQ0EsZUFDQSxZQUNBLFdBQ0EsV0FDQSxZQUNBLFNBQ0EsWUFDQSxTQUNBLFlBQ0EsU0FLQSxhQUFBQSxFQUdBLFNBa0ZBRSxDQUFBTixFQUFBSSxHQUFBLEtBQUFELEVBQ0FJLEVBQUFGLEVBQUEsS0E3RUEsU0FBQXBvRyxFQUFBaW9HLEdBQ0EsT0FBQWpvRyxHQUNBLGNBQ0EsY0FDQSxZQUNBLGlCQUNBLGFBQ0EsY0FDQSxhQUNBLFVBQ0EsVUFDQSxTQUNBLGVBQ0EsaUJBQ0EsYUFDQSxhQUNBLGFBQ0EsYUFDQSxXQUNBLFdBQ0EsVUFDQSxTQUNBLFFBQ0EsY0FDQSxjQUNBLFNBQ0EsVUFDQSxjQUNBLFlBQ0EsU0FDQSxVQUNBLFNBQ0EsU0FDQSxTQUNBLFNBQ0EsU0FDQSxTQUNBLE9BQUFpb0csRUFBQU4sa0JBRUEsV0FDQSxPQUFBTSxFQUFBVixTQUFBVSxFQUFBTixrQkFFQSxTQUNBLE9BQUFNLEVBQUFMLHVCQUVBLFNBQ0EsU0FDQSxPQUFBSyxFQUFBSixxQkFFQSxhQUNBLE9BQUFJLEVBQUFSLGlCQUVBLFFBR0EsT0FBQVEsRUFBQVQsWUFFQSxXQUNBLE9BQUFTLEVBQUFQLGVBR0EsWUFnQkFhLENBQUFSLEVBQUFFLEdBQ0FPLEVBQUFKLEdBQUFFLEVBQ0EsR0FBQUUsRUFBQSxDQUlBLElBQUFDLEVBQUFELEVBQUF4b0csSUFDQXM0RCxFQUFBMnVDLEtBRUF5QixJQUFBTixFQUFBLElBQUFMLEVBQUEsSUFBQVUsRUFBQSxJQUFBbndDLEVBQ0EsSUFBQXd2QyxHQUFBWSxHQUFBLENBR0FaLEdBQUFZLElBQUEsRUFFQSxJQUFBQyxFQUFBWixFQUNBYSxFQUFBLEdBWUEsR0FYQSxVQUFBYixFQUNBLEtBQUE5aUgsS0FBQStpSCxHQUNBVyxFQUFBLGNBRUFBLEVBQUEsd0JBQ0FDLEVBQUEsaUdBR0FELEVBQUEsSUFBQVosRUFBQSxJQUdBSyxFQUFBLENBQ0EsSUFBQXYvRCxFQUFBLEdBQ0EsVUFBQTQvRCxHQUFBLE9BQUFWLElBQ0FsL0QsR0FBQSwrRUFFQXptQyxHQUFBLHdFQUFBdW1HLEVBQUFGLEVBQUFHLEVBQUEvL0QsRUFBQXl2QixRQUVBbDJELEdBQUEseUVBQUF1bUcsRUFBQUYsRUFBQW53QyxPQUtBdXdDLG9CQTFQQSxTQUFBQyxFQUFBOW9HLEVBQUFnTyxHQUNBLElBQUFpNkYsRUFBQTNrSCxLQUFpQ3dsSCxHQUFBeEIsSUFDakN6K0QsR0FBZ0I3b0MsTUFBQWdPLFlBMENoQixPQXhDQSxJQUFBbTVGLEdBQUFoaUgsUUFBQTZhLEtBQ0Fpb0csRUFBQVQsWUFBQSxLQUNBUyxFQUFBUixpQkFBQSxLQUNBUSxFQUFBUCxlQUFBLE9BRUEsSUFBQU4sR0FBQWppSCxRQUFBNmEsS0FDQWlvRyxFQUFBTixrQkFBQSxPQUtBLElBQUFULEdBQUEvaEgsUUFBQTZhLElBQUEsWUFBQUEsR0FBQSxRQUFBQSxHQUFBLE1BQUFBLElBQ0Fpb0csRUFBQUwsdUJBQUEsS0FDQUssRUFBQUoscUJBQUEsTUFHQUksRUFBQXR4RSxRQUFBa1MsRUFFQSxTQUFBN29DLElBQ0Fpb0csRUFBQVYsUUFBQTErRCxHQUVBLE1BQUE3b0MsSUFDQWlvRyxFQUFBVCxZQUFBMytELEdBRUEsV0FBQTdvQyxJQUNBaW9HLEVBQUFSLGlCQUFBNStELEdBRUEsU0FBQTdvQyxJQUNBaW9HLEVBQUFQLGVBQUE3K0QsR0FFQSxNQUFBN29DLElBQ0Fpb0csRUFBQU4sa0JBQUE5K0QsR0FFQSxPQUFBN29DLElBQ0Fpb0csRUFBQUwsdUJBQUEvK0QsR0FFQSxPQUFBN29DLEdBQUEsT0FBQUEsSUFDQWlvRyxFQUFBSixxQkFBQWgvRCxHQUdBby9ELEdBaU5BLElBeUJBYyxHQXpCQUMsR0FBQTdDLEdBTUExZ0csR0FBQW05RixHQUNBSyxHQUFBRCxHQUNBcUQsR0FBQW5ELEdBQ0FvRCxHQUFBMUMsR0FDQTJDLEdBQUFuQyxHQUNBb0MsR0FBQWhDLEdBQ0FpQyxHQUFBdkIsR0FDQXdCLEdBQUF0QixHQUNBdUIsR0FBQXRCLEdBQ0F1QixHQUFBdEIsR0FDQXVCLEdBQUF0QixHQUNBdUIsR0FBQXRCLEdBQ0FxRCxHQUFBRyxHQUFBSCxvQkFDQXJ1RSxHQUFBUixHQUNBUyxHQUFBSCxHQUlBMnVFLFFBQUEsRUFFQUMsSUFBQSxFQUlBLG1CQUFBdmpELEtBQUEsTUFBQUEsSUFBQTdpRSxXQUFBLG1CQUFBNmlFLElBQUE3aUUsVUFBQTJILFNBQUEsbUJBQUFvN0QsS0FBQSxNQUFBQSxJQUFBL2lFLFdBQUEsbUJBQUEraUUsSUFBQS9pRSxVQUFBaXNFLE9BQUEsbUJBQUFsSixJQUFBL2lFLFVBQUEySCxTQUNBMlgsR0FBQSxzSUFHQTZtRyxHQUFBLFNBQUEvbUMsR0FDQSxHQUFBQSxFQUFBaW5DLHFCQUFBam5DLEVBQUFweEMsV0FBQW9VLEdBQUEsQ0FDQSxJQUFBa2tFLEVBQUFDLEdBQUExeUIsOEJBQUF6VSxFQUFBaW5DLG9CQUFBRyxjQUFBM3lFLFNBQ0F5eUUsR0FDQWhuRyxFQUFBZ25HLEVBQUEvM0UsYUFBQTZ3QyxFQUFBLDZOQUlBLElBQUFxbkMsSUFBQXJuQyxFQUFBaW5DLG9CQUNBSyxFQUFBQyxHQUFBdm5DLEdBQ0F3bkMsS0FBQUYsSUFBQXJ2RSxHQUFBcXZFLElBRUFwbkcsR0FBQXNuRyxHQUFBSCxFQUFBLHFRQUVBbm5HLEVBQUE4L0QsRUFBQXB4QyxXQUFBa1UsS0FBQWs5QixFQUFBcjFCLFNBQUEsU0FBQXExQixFQUFBcjFCLFFBQUFsdUMsY0FBQSxtUkFHQW9xRyxHQUFBLFNBQUFsbEgsRUFBQXF1RSxHQUNBOXZELEVBQUEsT0FBQXZlLEdBQUEsbUJBQUFBLEVBQUEsa0dBQUFxdUUsRUFBQXJ1RSxJQUlBay9DLEdBQUFDLG1DQUFBb2pFLElBRUEsSUFBQXVELEdBQUEsS0FDQUMsR0FBQSxLQUVBLFNBQUFDLEdBQUF6dkQsR0FDQSxJQUFBMkssRUFBQXNrRCxHQUFBNXpCLCtCQUNBaG5GLEtBQUFzbUYsZ0JBQUFod0IsRUFDQXQyRCxLQUFBdXVDLE1BQUFvZCxFQUNBM3JELEtBQUF1aUYsTUFBQSxLQUNBdmlGLEtBQUFnSCxXQUFBLEtBQ0FoSCxLQUFBcTdHLGNBQUEsRUFDQXI3RyxLQUFBczdHLGNBQUEsRUFDQXQ3RyxLQUFBdTdHLFVBQUEsS0FDQXY3RyxLQUFBdW1GLFFBQUEsRUFnR0EsU0FBQWkxQixLQUNBeDdHLEtBQUFnSCxXQUFBLEtBQ0FoSCxLQUFBeTdHLFlBQUEsRUFHQXo3RyxLQUFBMDdHLFVBQUExN0csS0FBQTA3RyxVQUFBNTZGLEtBQUE5Z0IsTUE4QkEsU0FBQTI3RyxHQUFBbG9DLEVBQUFyYSxFQUFBQyxHQUNBLElBQUExTixFQUFBaXZELEdBQUE5eUIsZ0JBQUFyVSxFQUFBcmEsRUFBQUMsR0FDQXI1RCxLQUFBNjZHLGNBQUFsdkQsRUEwRUEsU0FBQWl3RCxHQUFBL3RGLEdBQ0EsU0FBQUEsS0FBQXdVLFdBQUFrVSxJQUFBMW9CLEVBQUF3VSxXQUFBcVUsSUFBQTdvQixFQUFBd1UsV0FBQXNVLEtBQUE5b0IsRUFBQXdVLFdBQUFvVSxJQUFBLGlDQUFBNW9CLEVBQUFxbEMsWUFHQSxTQUFBOG5ELEdBQUF2bkMsR0FDQSxPQUFBQSxFQUlBQSxFQUFBcHhDLFdBQUFxVSxHQUNBKzhCLEVBQUF4MUQsZ0JBRUF3MUQsRUFBQXpoQixXQU5BLEtBZUEsU0FBQTZwRCxHQUFBbGlILEVBQUEwTyxHQUNBLE9BQUExTyxHQUNBLGFBQ0EsWUFDQSxhQUNBLGVBQ0EsUUFBQTBPLEVBQUF5ekcsVUFFQSxTQTFPQVYsR0FBQS9tSCxVQUFBaXRCLE9BQUEsU0FBQWkzQyxHQUNBdjRELEtBQUF1bUYsUUFBQWx2RSxHQUFBLGlFQUNBclgsS0FBQXM3RyxjQUFBLEVBQ0F0N0csS0FBQXU3RyxVQUFBaGpELEVBQ0EsSUFBQXdqRCxFQUFBLzdHLEtBQUF1dUMsTUFBQXNzRSxjQUNBdmtELEVBQUF0MkQsS0FBQXNtRixnQkFDQTAxQixFQUFBLElBQUFSLEdBRUEsT0FEQVosR0FBQXh6QixnQ0FBQTd1QixFQUFBd2pELEVBQUEsS0FBQXpsRCxFQUFBMGxELEVBQUFOLFdBQ0FNLEdBRUFaLEdBQUEvbUgsVUFBQTZNLEtBQUEsU0FBQSs2RyxHQUNBLEdBQUFqOEcsS0FBQXE3RyxhQUNBWSxRQURBLENBSUEsSUFBQUMsRUFBQWw4RyxLQUFBZ0gsV0FDQSxPQUFBazFHLElBQ0FBLEVBQUFsOEcsS0FBQWdILGVBRUFrMUcsRUFBQXZtSCxLQUFBc21ILEtBRUFiLEdBQUEvbUgsVUFBQThuSCxPQUFBLFdBQ0EsSUFBQUosRUFBQS83RyxLQUFBdXVDLE1BQUFzc0UsY0FDQWpoRCxFQUFBbWlELEVBQUFuaUQsV0FHQSxHQUZBNTVELEtBQUF1bUYsUUFBQSxPQUFBM3NCLEdBQUF2aUQsR0FBQSwwREFFQXJYLEtBQUFzN0csYUFJQSxPQUZBdDdHLEtBQUF1aUYsTUFBQSxVQUNBdmlGLEtBQUF1bUYsUUFBQSxHQUlBLElBQUFqd0IsRUFBQXQyRCxLQUFBc21GLGdCQUdBLEdBQUExc0IsSUFBQTU1RCxLQUFBLENBSUFBLEtBQUFzN0csZUFDQWhsRCxFQUFBdDJELEtBQUFzbUYsZ0JBQUExc0IsRUFBQTBzQixnQkFLQXRtRixLQUFBc2hCLE9BQUF0aEIsS0FBQXU3RyxZQU1BLElBRkEsSUFBQWEsRUFBQSxLQUNBbDJCLEVBQUF0c0IsRUFDQXNzQixJQUFBbG1GLE1BQ0FvOEcsRUFBQWwyQixFQUNBQSxJQUFBM0QsTUFFQSxPQUFBNjVCLEdBQUEva0csR0FBQSx5REFDQStrRyxFQUFBNzVCLE1BQUEyRCxFQUFBM0QsTUFHQXZpRixLQUFBdWlGLE1BQUEzb0IsRUFDQUEsRUFBQW1pRCxFQUFBbmlELFdBQUE1NUQsS0FJQUEsS0FBQXVtRixRQUFBLEVBQ0FxMEIsR0FBQW4wQixVQUFBczFCLEVBQUF6bEQsR0FHQSxJQUFBMXBELEVBQUE1TSxLQUFBdWlGLE1BQ0F2aUYsS0FBQXVpRixNQUFBLEtBSUEsUUFIQTNvQixFQUFBbWlELEVBQUFuaUQsV0FBQWh0RCxJQUdBZ3RELEVBQUEwaEQsY0FDQTFoRCxFQUFBdDRDLE9BQUFzNEMsRUFBQTJoRCxZQUdBSCxHQUFBL21ILFVBQUE4eEYsWUFBQSxXQUNBLElBQUFubUYsS0FBQXE3RyxhQUFBLENBR0FyN0csS0FBQXE3RyxjQUFBLEVBQ0EsSUFBQWEsRUFBQWw4RyxLQUFBZ0gsV0FDQSxVQUFBazFHLEVBSUEsUUFBQWxwSCxFQUFBLEVBQWlCQSxFQUFBa3BILEVBQUEzbUgsT0FBc0J2QyxJQUFBLEVBRXZDNHZFLEVBREFzNUMsRUFBQWxwSCxTQVlBd29ILEdBQUFubkgsVUFBQTZNLEtBQUEsU0FBQW03RyxHQUNBLEdBQUFyOEcsS0FBQXk3RyxXQUNBWSxRQURBLENBSUEsSUFBQUgsRUFBQWw4RyxLQUFBZ0gsV0FDQSxPQUFBazFHLElBQ0FBLEVBQUFsOEcsS0FBQWdILGVBRUFrMUcsRUFBQXZtSCxLQUFBMG1ILEtBRUFiLEdBQUFubkgsVUFBQXFuSCxVQUFBLFdBQ0EsSUFBQTE3RyxLQUFBeTdHLFdBQUEsQ0FHQXo3RyxLQUFBeTdHLFlBQUEsRUFDQSxJQUFBUyxFQUFBbDhHLEtBQUFnSCxXQUNBLFVBQUFrMUcsRUFJQSxRQUFBbHBILEVBQUEsRUFBaUJBLEVBQUFrcEgsRUFBQTNtSCxPQUFzQnZDLElBQUEsQ0FDdkMsSUFBQXNwSCxFQUFBSixFQUFBbHBILEdBQ0EsbUJBQUFzcEgsR0FBQWpsRyxHQUFBLG1GQUFBaWxHLEdBQ0FBLE9BUUFYLEdBQUF0bkgsVUFBQWl0QixPQUFBLFNBQUFpM0MsRUFBQW5qRSxHQUNBLElBQUF1MkQsRUFBQTNyRCxLQUFBNjZHLGNBQ0FtQixFQUFBLElBQUFSLEdBU0EsT0FOQWxCLEdBRkFsbEgsT0FBQW9FLElBQUFwRSxFQUFBLEtBQUFBLEVBRUEsVUFFQSxPQUFBQSxHQUNBNG1ILEVBQUE5NkcsS0FBQTlMLEdBRUF3bEgsR0FBQTd5QixnQkFBQXh2QixFQUFBNU0sRUFBQSxLQUFBcXdELEVBQUFOLFdBQ0FNLEdBRUFMLEdBQUF0bkgsVUFBQWtvSCxRQUFBLFNBQUFubkgsR0FDQSxJQUFBdTJELEVBQUEzckQsS0FBQTY2RyxjQUNBbUIsRUFBQSxJQUFBUixHQVNBLE9BTkFsQixHQUZBbGxILE9BQUFvRSxJQUFBcEUsRUFBQSxLQUFBQSxFQUVBLFVBRUEsT0FBQUEsR0FDQTRtSCxFQUFBOTZHLEtBQUE5TCxHQUVBd2xILEdBQUE3eUIsZ0JBQUEsS0FBQXA4QixFQUFBLEtBQUFxd0QsRUFBQU4sV0FDQU0sR0FFQUwsR0FBQXRuSCxVQUFBbW9ILGtDQUFBLFNBQUFuMUIsRUFBQTl1QixFQUFBbmpFLEdBQ0EsSUFBQXUyRCxFQUFBM3JELEtBQUE2NkcsY0FDQW1CLEVBQUEsSUFBQVIsR0FTQSxPQU5BbEIsR0FGQWxsSCxPQUFBb0UsSUFBQXBFLEVBQUEsS0FBQUEsRUFFQSxVQUVBLE9BQUFBLEdBQ0E0bUgsRUFBQTk2RyxLQUFBOUwsR0FFQXdsSCxHQUFBN3lCLGdCQUFBeHZCLEVBQUE1TSxFQUFBMDdCLEVBQUEyMEIsRUFBQU4sV0FDQU0sR0FFQUwsR0FBQXRuSCxVQUFBb29ILFlBQUEsV0FDQSxJQUFBdjJCLEVBQUEsSUFBQWsxQixHQUFBcDdHLE1BQ0FzMkQsRUFBQTR2QixFQUFBSSxnQkFFQXkxQixFQUFBLzdHLEtBQUE2NkcsY0FDQWpoRCxFQUFBbWlELEVBQUFuaUQsV0FDQSxVQUFBQSxFQUNBbWlELEVBQUFuaUQsV0FBQXNzQixFQUNBQSxFQUFBM0QsTUFBQSxTQUNHLENBSUgsSUFGQSxJQUFBbTZCLEVBQUEsS0FDQS9qQyxFQUFBL2UsRUFDQSxPQUFBK2UsS0FBQTJOLGlCQUFBaHdCLEdBQ0FvbUQsRUFBQS9qQyxFQUNBQSxJQUFBNEosTUFFQTJELEVBQUEzRCxNQUFBNUosRUFDQSxPQUFBK2pDLElBQ0FBLEVBQUFuNkIsTUFBQTJELEdBSUEsT0FBQUEsR0EwQ0EsSUFBQTAwQixHQUFBMXhCLElBQ0FwTSxtQkFBQSxTQUFBOUosR0FDQSxJQUFBcjVFLE9BQUEsRUFDQWdqSCxPQUFBLEVBQ0F0NkUsRUFBQTJ3QyxFQUFBM3dDLFNBQ0EsT0FBQUEsR0FDQSxLQUFBcVUsR0FDQSxLQUFBQyxHQUVBaDlDLEVBQUEwb0MsSUFBQXFVLEdBQUEsd0JBQ0EsSUFBQWlWLEVBQUFxbkIsRUFBQS8wRCxnQkFDQTArRixFQUFBaHhELElBQUE0aEMsYUFBQUosR0FBQSxTQUNBLE1BRUEsUUFFQSxJQUFBMVosRUFBQXB4QyxJQUFBb1UsR0FBQXU4QixFQUFBcHdDLFdBQUFvd0MsRUFHQTJwQyxFQUFBeHZCLEdBRkExWixFQUFBOFosY0FBQSxLQUNBNXpGLEVBQUE4NUUsRUFBQXIxQixTQU1BLElBQUF3K0QsRUFBQWpqSCxFQUFBbUIsY0FFQSxPQUFjNmhILFlBQUFuRCxhQURkWSxHQUFBLEtBQUF3QyxFQUFBLFFBS0EvL0Isb0JBQUEsU0FBQWdnQyxFQUFBbGpILEdBRUEsSUFBQW1qSCxFQUFBRCxFQUdBLE9BQWNGLFVBRmR4dkIsR0FBQTJ2QixFQUFBSCxVQUFBaGpILEdBRWM2L0csYUFEZFksR0FBQTBDLEVBQUF0RCxhQUFBNy9HLEVBQUEsUUFNQW04RSxrQkFBQSxTQUFBdjJELEdBQ0EsT0FBQUEsR0FFQXVnRSxpQkFBQSxXQUNBbzdCLEdBQUFudkQsS0FDQW92RCxHQUFBN25ELEtBQ0F6SCxJQUFBLElBRUFrMEIsaUJBQUEsV0FDQW5zQixHQUFBdW5ELElBQ0FBLEdBQUEsS0FDQXR2RCxHQUFBcXZELElBQ0FBLEdBQUEsTUFFQTdwQyxlQUFBLFNBQUExM0UsRUFBQTBPLEVBQUEycUUsRUFBQXJGLEVBQUFvdkMsR0FDQSxJQUFBM3ZCLEVBR0E0dkIsRUFBQXJ2QyxFQUVBLEdBREE0c0MsR0FBQTVnSCxFQUFBLEtBQUFxakgsRUFBQXhELGNBQ0EsaUJBQUFueEcsRUFBQWt3RCxVQUFBLGlCQUFBbHdELEVBQUFrd0QsU0FBQSxDQUNBLElBQUE1MkIsRUFBQSxHQUFBdDVCLEVBQUFrd0QsU0FDQTBrRCxFQUFBN0MsR0FBQTRDLEVBQUF4RCxhQUFBNy9HLEVBQUEsTUFDQTRnSCxHQUFBLEtBQUE1NEUsRUFBQXM3RSxHQUVBN3ZCLEVBQUE0dkIsRUFBQUwsVUFFQSxJQUFBdkksRUFBQXA5RixHQUFBcmQsRUFBQTBPLEVBQUEycUUsRUFBQW9hLEdBR0EsT0FGQXJoRCxHQUFBZ3hFLEVBQUEzSSxHQUNBcG9FLEdBQUFvb0UsRUFBQS9yRyxHQUNBK3JHLEdBRUE3aUMsbUJBQUEsU0FBQThKLEVBQUE5MUIsR0FDQTgxQixFQUFBbHBFLFlBQUFvekMsSUFFQWlzQix3QkFBQSxTQUFBNGlDLEVBQUF6NkcsRUFBQTBPLEVBQUEycUUsR0FFQSxPQURBNGtDLEdBQUF4RCxFQUFBejZHLEVBQUEwTyxFQUFBMnFFLEdBQ0E2b0MsR0FBQWxpSCxFQUFBME8sSUFFQW9wRSxjQUFBLFNBQUEyaUMsRUFBQXo2RyxFQUFBK3FFLEVBQUFDLEVBQUFxTyxFQUFBckYsR0FFQSxJQUFBcXZDLEVBQUFydkMsRUFDQSxVQUFBaEosRUFBQXBNLGlCQUFBbU0sRUFBQW5NLFdBQUEsaUJBQUFvTSxFQUFBcE0sVUFBQSxpQkFBQW9NLEVBQUFwTSxVQUFBLENBQ0EsSUFBQTUyQixFQUFBLEdBQUFnakMsRUFBQXBNLFNBQ0Ewa0QsRUFBQTdDLEdBQUE0QyxFQUFBeEQsYUFBQTcvRyxFQUFBLE1BQ0E0Z0gsR0FBQSxLQUFBNTRFLEVBQUFzN0UsR0FHQSxPQUFBcEYsR0FBQXpELEVBQUF6NkcsRUFBQStxRSxFQUFBQyxFQUFBcU8sSUFFQW5GLHFCQUFBLFNBQUFsMEUsRUFBQTBPLEdBQ0EsbUJBQUExTyxHQUFBLGlCQUFBME8sRUFBQWt3RCxVQUFBLGlCQUFBbHdELEVBQUFrd0QsVUFBQSxpQkFBQWx3RCxFQUFBa2tGLHlCQUFBLE9BQUFsa0YsRUFBQWtrRix5QkFBQSxpQkFBQWxrRixFQUFBa2tGLHdCQUFBMndCLFFBRUFwdkMsMEJBQUEsU0FBQW4wRSxFQUFBME8sR0FDQSxRQUFBQSxFQUFBeTFDLFFBRUF3ekIsbUJBQUEsU0FBQXA3QixFQUFBODhCLEVBQUFyRixFQUFBb3ZDLEdBR0F4QyxHQUFBLEtBQUFya0UsRUFEQXkzQixFQUNBNnJDLGNBRUEsSUFBQTlDLEVBQUFsQyxHQUFBdCtELEVBQUE4OEIsR0FFQSxPQURBam5DLEdBQUFneEUsRUFBQXJHLEdBQ0FBLEdBSUF2MUYsT0FFQXV3RCxVQUNBaUYsWUFBQSxTQUFBeTlCLEVBQUF6NkcsRUFBQWdyRSxFQUFBbzRDLEdBT0FsQixHQUFBbGlILEVBQUFnckUsSUFDQXl2QyxFQUFBcC9DLFNBR0F1akIsYUFBQSxTQUFBNjdCLEVBQUFyaEMsRUFBQXA1RSxFQUFBK3FFLEVBQUFDLEVBQUFvNEMsR0FHQS93RSxHQUFBb29FLEVBQUF6dkMsR0FFQW16QyxHQUFBMUQsRUFBQXJoQyxFQUFBcDVFLEVBQUErcUUsRUFBQUMsSUFFQTZULGlCQUFBLFNBQUE0N0IsR0FDQXBtQixHQUFBb21CLEVBQUEsS0FFQTM3QixpQkFBQSxTQUFBa0IsRUFBQXpHLEVBQUFDLEdBQ0F3RyxFQUFBem1CLFVBQUFpZ0IsR0FFQWhoRSxZQUFBLFNBQUFrcEUsRUFBQTkxQixHQUNBODFCLEVBQUFscEUsWUFBQW96QyxJQUVBbXpCLHVCQUFBLFNBQUFqRixFQUFBbHVCLEdBQ0FrdUIsRUFBQXB4QyxXQUFBb1UsR0FDQWc5QixFQUFBN3dDLFdBQUErMUMsYUFBQXB6QixFQUFBa3VCLEdBRUFBLEVBQUF0aEUsWUFBQW96QyxJQUdBb3pCLGFBQUEsU0FBQTBDLEVBQUE5MUIsRUFBQTQzRCxHQUNBOWhDLEVBQUExQyxhQUFBcHpCLEVBQUE0M0QsSUFFQXZrQyx3QkFBQSxTQUFBbkYsRUFBQWx1QixFQUFBNDNELEdBQ0ExcEMsRUFBQXB4QyxXQUFBb1UsR0FDQWc5QixFQUFBN3dDLFdBQUErMUMsYUFBQXB6QixFQUFBNDNELEdBRUExcEMsRUFBQWtGLGFBQUFwekIsRUFBQTQzRCxJQUdBdGtDLFlBQUEsU0FBQXdDLEVBQUE5MUIsR0FDQTgxQixFQUFBeEMsWUFBQXR6QixJQUVBdXpCLHlCQUFBLFNBQUFyRixFQUFBbHVCLEdBQ0FrdUIsRUFBQXB4QyxXQUFBb1UsR0FDQWc5QixFQUFBN3dDLFdBQUFpMkMsWUFBQXR6QixHQUVBa3VCLEVBQUFvRixZQUFBdHpCLEtBS0F1MEIsV0FDQUMsbUJBQUEsU0FBQXg2RCxFQUFBNWxCLEVBQUEwTyxHQUNBLE9BQUFrWCxFQUFBOGlCLFdBQUFrVSxJQUFBNThDLEVBQUFtQixnQkFBQXlrQixFQUFBK2lCLFNBQUF4bkMsY0FDQSxLQUdBeWtCLEdBRUF5NkQsdUJBQUEsU0FBQXo2RCxFQUFBMjJCLEdBQ0EsV0FBQUEsR0FBQTMyQixFQUFBOGlCLFdBQUFtVSxHQUVBLEtBR0FqM0IsR0FFQTA2RCx5QkFBQSxTQUFBMTZELEdBR0EsSUFGQSxJQUFBc08sRUFBQXRPLEVBQUEyeUMsWUFFQXJrQyxLQUFBd1UsV0FBQWtVLElBQUExb0IsRUFBQXdVLFdBQUFtVSxJQUNBM29CLElBQUFxa0MsWUFFQSxPQUFBcmtDLEdBRUFxc0Qsd0JBQUEsU0FBQW1CLEdBR0EsSUFGQSxJQUFBenVFLEVBQUF5dUUsRUFBQXJwQixXQUVBcGxELEtBQUF5MUIsV0FBQWtVLElBQUEzcEMsRUFBQXkxQixXQUFBbVUsSUFDQTVwQyxJQUFBc2xELFlBRUEsT0FBQXRsRCxHQUVBdXRFLGdCQUFBLFNBQUE1NkQsRUFBQTVsQixFQUFBME8sRUFBQTJxRSxFQUFBckYsRUFBQW92QyxHQUNBaHhFLEdBQUFneEUsRUFBQXg5RixHQUdBeXNCLEdBQUF6c0IsRUFBQWxYLEdBQ0EsSUFBQStrRixFQUtBLE9BRkFBLEVBREF6ZixFQUNBZ3ZDLFVBRUE1RSxHQUFBeDRGLEVBQUE1bEIsRUFBQTBPLEVBQUEra0YsRUFBQXBhLElBRUFvSCxvQkFBQSxTQUFBVCxFQUFBempDLEVBQUE2bUUsR0FFQSxPQURBaHhFLEdBQUFneEUsRUFBQXBqQyxHQUNBcStCLEdBQUFyK0IsRUFBQXpqQyxJQUVBbWtDLHlDQUFBLFNBQUFhLEVBQUF2QixFQUFBempDLEdBRUEraEUsR0FBQXQrQixFQUFBempDLElBR0Fva0MsZ0NBQUEsU0FBQWEsRUFBQUMsRUFBQUMsRUFBQTFCLEVBQUF6akMsSUFDQSxJQUFBa2xDLEVBQUEsMEJBQ0E2OEIsR0FBQXQrQixFQUFBempDLElBR0Fxa0MsK0JBQUEsU0FBQVcsRUFBQTM3RCxHQUVBLElBQUFBLEVBQUE4aUIsU0FDQTYxRSxHQUFBaDlCLEVBQUEzN0QsR0FFQTQ0RixHQUFBajlCLEVBQUEzN0QsSUFJQWk3RCxzQkFBQSxTQUFBVyxFQUFBQyxFQUFBQyxFQUFBOTdELElBQ0EsSUFBQTY3RCxFQUFBLDJCQUNBLElBQUE3N0QsRUFBQThpQixTQUNBNjFFLEdBQUE3OEIsRUFBQTk3RCxHQUVBNDRGLEdBQUE5OEIsRUFBQTk3RCxLQUlBazdELHNDQUFBLFNBQUFTLEVBQUF2aEYsRUFBQTBPLEdBRUErdkcsR0FBQWw5QixFQUFBdmhGLEVBQUEwTyxJQUdBcXlFLDBDQUFBLFNBQUFRLEVBQUFobEMsR0FFQW1pRSxHQUFBbjlCLEVBQUFobEMsSUFHQXlrQyw2QkFBQSxTQUFBUSxFQUFBQyxFQUFBQyxFQUFBMWhGLEVBQUEwTyxJQUNBLElBQUEreUUsRUFBQSwwQkFDQWc5QixHQUFBLzhCLEVBQUExaEYsRUFBQTBPLElBR0F1eUUsaUNBQUEsU0FBQU8sRUFBQUMsRUFBQUMsRUFBQW5sQyxJQUNBLElBQUFrbEMsRUFBQSwwQkFDQWk5QixHQUFBaDlCLEVBQUFubEMsS0FLQTBwQyx5QkFBQXlKLEdBQ0F4Six1QkFBQXlKLEtBR0FsMEMsR0FBQXdsRSxJQUVBLElBQUF3QyxJQUFBLEVBRUEsU0FBQUMsR0FBQTVwQyxFQUFBNnBDLEdBQ0EsSUFBQUMsRUFBQUQsR0FqU0EsU0FBQTdwQyxHQUNBLElBQUErcEMsRUFBQXhDLEdBQUF2bkMsR0FDQSxTQUFBK3BDLEtBQUFuN0UsV0FBQWtVLEtBQUFpbkUsRUFBQXpnRSxhQUFBMUIsS0ErUkFvaUUsQ0FBQWhxQyxHQUVBLElBQUE4cEMsRUFHQSxJQUZBLElBQUFHLEdBQUEsRUFDQUMsT0FBQSxFQUNBQSxFQUFBbHFDLEVBQUF3YSxZQUVBeXZCLEdBQUFDLEVBQUF0N0UsV0FBQWtVLElBQUFvbkUsRUFBQTVnRSxhQUFBMUIsTUFDQXFpRSxHQUFBLEVBQ0EvcEcsR0FBQSxxTEFHQTgvRCxFQUFBb0YsWUFBQThrQyxJQUlBSixHQUFBRCxHQUFBRixLQUNBQSxJQUFBLEVBQ0FoakQsSUFBQSx1TkFLQSxXQUFBdWhELEdBQUFsb0MsR0FEQSxFQUNBOHBDLEdBR0EsU0FBQUssR0FBQXYyQixFQUFBOXVCLEVBQUFrYixFQUFBNnBDLEVBQUFsb0gsR0FFQXdtSCxHQUFBbm9DLElBQUFwOEQsR0FBQSw0Q0FHQW1qRyxHQUFBL21DLEdBS0EsSUFBQTluQixFQUFBOG5CLEVBQUFpbkMsb0JBQ0EsR0FBQS91RCxFQWtCRyxDQUNILHNCQUFBdjJELEVBQUEsQ0FDQSxJQUFBeW9ILEVBQUF6b0gsRUFDQUEsRUFBQSxXQUNBLElBQUFtcUIsRUFBQXE3RixHQUFBNXlCLHNCQUFBcjhCLEVBQUFrdkQsZUFDQWdELEVBQUExcUgsS0FBQW9zQixJQUlBLE1BQUE4bkUsRUFDQTE3QixFQUFBNndELGtDQUFBbjFCLEVBQUE5dUIsRUFBQW5qRSxHQUVBdTJELEVBQUFycUMsT0FBQWkzQyxFQUFBbmpFLE9BOUJBLENBR0EsR0FEQXUyRCxFQUFBOG5CLEVBQUFpbkMsb0JBQUEyQyxHQUFBNXBDLEVBQUE2cEMsR0FDQSxtQkFBQWxvSCxFQUFBLENBQ0EsSUFBQTBvSCxFQUFBMW9ILEVBQ0FBLEVBQUEsV0FDQSxJQUFBbXFCLEVBQUFxN0YsR0FBQTV5QixzQkFBQXI4QixFQUFBa3ZELGVBQ0FpRCxFQUFBM3FILEtBQUFvc0IsSUFJQXE3RixHQUFBajBCLGlCQUFBLFdBQ0EsTUFBQVUsRUFDQTE3QixFQUFBNndELGtDQUFBbjFCLEVBQUE5dUIsRUFBQW5qRSxHQUVBdTJELEVBQUFycUMsT0FBQWkzQyxFQUFBbmpFLEtBa0JBLE9BQUF3bEgsR0FBQTV5QixzQkFBQXI4QixFQUFBa3ZELGVBR0EsU0FBQWtELEdBQUF4bEQsRUFBQWtiLEdBQ0EsSUFBQXQxRSxFQUFBOEIsVUFBQTFLLE9BQUEsUUFBQWlFLElBQUF5RyxVQUFBLEdBQUFBLFVBQUEsUUFJQSxPQUZBMjdHLEdBQUFub0MsSUFBQXA4RCxHQUFBLDRDQXprSEEsU0FBQWtoRCxFQUFBak4sRUFFQTJOLEdBQ0EsSUFBQTk2RCxFQUFBOEIsVUFBQTFLLE9BQUEsUUFBQWlFLElBQUF5RyxVQUFBLEdBQUFBLFVBQUEsUUFFQSxPQUVBdTRELFNBQUF6ZixHQUNBNTZDLElBQUEsTUFBQUEsRUFBQSxRQUFBQSxFQUNBbzZELFdBQ0FqTixnQkFDQTJOLGtCQWdrSEEra0QsQ0FBQXpsRCxFQUFBa2IsRUFBQSxLQUFBdDFFLEdBR0EsSUFBQTgvRyxJQUNBRixnQkFFQUcsWUFBQSxTQUFBQyxHQUVBLElBQUFwa0UsRUFBQTFCLEdBQUFuUSxRQUNBLFVBQUE2UixHQUFBLE9BQUFBLEVBQUF4USxVQUFBLENBQ0EsSUFBQTYwRSxFQUFBcmtFLEVBQUF4USxVQUFBMmIseUJBQ0F2eEMsRUFBQXlxRyxFQUFBLGlSQUFBemtFLEdBQUFJLElBQUEsZUFDQUEsRUFBQXhRLFVBQUEyYiwwQkFBQSxFQUdBLFNBQUFpNUQsRUFDQSxZQUVBLEdBQUFBLEVBQUE5N0UsV0FBQWtVLEdBQ0EsT0FBQTRuRSxFQUdBLElBQUFwMkUsRUFBQWowQyxHQUFBcXFILEdBQ0EsR0FBQXAyRSxFQUNBLE9BQUE2eUUsR0FBQWp6QixpQkFBQTUvQyxHQUdBLG1CQUFBbzJFLEVBQUE3OEYsT0FDQWpLLEdBQUEsb0RBRUFBLEdBQUEsdUVBQUEzakIsT0FBQTBSLEtBQUErNEcsS0FHQTlrRCxRQUFBLFNBQUFuaUIsRUFBQXU4QixFQUFBcitFLEdBRUEsT0FBQXdvSCxHQUFBLEtBQUExbUUsRUFBQXU4QixHQUFBLEVBQUFyK0UsSUFFQWtzQixPQUFBLFNBQUE0MUIsRUFBQXU4QixFQUFBcitFLEdBQ0EsT0FBQXdvSCxHQUFBLEtBQUExbUUsRUFBQXU4QixHQUFBLEVBQUFyK0UsSUFFQWlwSCxvQ0FBQSxTQUFBaDNCLEVBQUFud0MsRUFBQW9uRSxFQUFBbHBILEdBRUEsT0FEQSxNQUFBaXlGLFFBeHlaQTd0RixJQXd5WkE2dEYsRUF4eVpBNWpDLHNCQXd5WkFwc0MsR0FBQSxxREFDQXVtRyxHQUFBdjJCLEVBQUFud0MsRUFBQW9uRSxHQUFBLEVBQUFscEgsSUFFQW1wSCx1QkFBQSxTQUFBOXFDLEdBR0EsR0FGQW1vQyxHQUFBbm9DLElBQUFwOEQsR0FBQSx5RUFFQW84RCxFQUFBaW5DLG9CQUFBLENBRUEsSUFBQUssRUFBQUMsR0FBQXZuQyxHQUNBK3FDLEVBQUF6RCxJQUFBcnZFLEdBQUFxdkUsR0FZQSxPQVhBcG5HLEdBQUE2cUcsRUFBQSwwR0FJQTVELEdBQUFqMEIsaUJBQUEsV0FDQWkzQixHQUFBLFVBQUFucUMsR0FBQSxhQUNBQSxFQUFBaW5DLG9CQUFBLFVBS0EsRUFHQSxJQUFBK0QsRUFBQXpELEdBQUF2bkMsR0FDQXduQyxLQUFBd0QsSUFBQS95RSxHQUFBK3lFLElBR0FDLEVBQUEsSUFBQWpyQyxFQUFBcHhDLFVBQUF1NUUsR0FBQW5vQyxFQUFBN3dDLGVBQUE2d0MsRUFBQTd3QyxXQUFBODNFLG9CQUtBLE9BSEEvbUcsR0FBQXNuRyxFQUFBLDZIQUFBeUQsRUFBQSwwTEFHQSxHQU9BQyxzQkFBQSxXQUtBLE9BSkFsRSxLQUNBQSxJQUFBLEVBQ0FyZ0QsSUFBQSxnT0FFQTJqRCxHQUFBbGhILFdBQUFyRCxFQUFBeUcsWUFJQTIrRyx3QkFBQWhFLEdBQUF6bEUsZUFFQTBwRSx5QkFBQWpFLEdBQUE5ekIsZ0JBRUFGLFVBQUFnMEIsR0FBQWgwQixVQUVBazRCLHlCQUFBbEUsR0FBQS96QixnQkFFQXp1QyxvREFFQWhPLGlCQUVBOUMsc0JBQ0EyRyxvQkFDQTRHLDRCQUNBL0kseUJBQ0F5Z0IsMEJBSUF3eUQsb0JBQUEsU0FBQXRyQyxFQUFBOFcsR0FFQSxXQUFBb3hCLEdBQUFsb0MsR0FBQSxFQURBLE1BQUE4VyxJQUFBLElBQUFBLEVBQUFseEIsV0FZQSxJQVJBdWhELEdBQUF4eUIsb0JBQ0FFLHdCQUFBNzhDLEdBQ0F1ekUsV0FBQSxFQUNBN2hILFFBaHJIQSxTQWlySEE4aEgsb0JBQUEsZUFJQTM3RSxFQUFBRCxXQUFBenVDLE9BQUFrZ0UsTUFBQWxnRSxPQUFBeUksT0FFQWhILFVBQUFDLFVBQUFJLFFBQUEsbUJBQUFMLFVBQUFDLFVBQUFJLFFBQUEsU0FBQUwsVUFBQUMsVUFBQUksUUFBQSxnQkFDQSxJQUFBd29ILEdBQUF0cUgsT0FBQTZpQixTQUFBeW5HLFNBRUEsbUJBQUExb0gsS0FBQTBvSCxLQUNBOXFHLFFBQUFnbUMsS0FBQSw2R0FBQThrRSxHQUFBLDZIQVFBLElBQUFDLEdBQUF6ckgsT0FBQXdJLFFBQ0FxUSxRQUFBMHhHLEtBR0FtQixHQUFBRCxJQUFBbEIsSUFBQWtCLEdBSUFFLEdBQUFELEdBQUEsUUFBQUEsR0FBQSxRQUFBQSxHQUVBcnNILEVBQUFELFFBQUF1c0gsSUEvdGdCQSxpQ0NzQkF0c0gsRUFBQUQsUUFBQUYsRUFBQSxtQ0N6QkFHLEVBQUFELFFBRkE7Ozs7Ozs7O0lDS0EsV0FHQSxJQUFBK0IsRUFBQWpDLEVBQUEsSUFDQW1sQixFQUFBbmxCLEVBQUEsSUFDQXlrQixFQUFBemtCLEVBQUEsSUFDQStnQixFQUFBL2dCLEVBQUEsSUFDQXdnQixFQUFBeGdCLEVBQUEsSUFDQWl4QyxFQUFBanhDLEVBQUEsSUFRQStsRCxFQUFBLG1CQUFBcjZDLGVBQUEsSUFFQXM2QyxFQUFBRCxFQUFBcjZDLE9BQUEsMkJBQ0F1NkMsRUFBQUYsRUFBQXI2QyxPQUFBLHdCQUNBdzZDLEVBQUFILEVBQUFyNkMsT0FBQSwwQkFDQXk2QyxFQUFBSixFQUFBcjZDLE9BQUEsMEJBQ0EwNkMsRUFBQUwsRUFBQXI2QyxPQUFBLDRCQUNBMjZDLEVBQUFOLEVBQUFyNkMsT0FBQSwrQkFDQTQ2QyxFQUFBUCxFQUFBcjZDLE9BQUEsNEJBQ0E2NkMsRUFBQVIsRUFBQXI2QyxPQUFBLDJCQUNBODZDLEVBQUFULEVBQUFyNkMsT0FBQSw4QkFDQSs2QyxFQUFBVixFQUFBcjZDLE9BQUEsK0JBRUFnN0MsRUFBQSxtQkFBQWg3QyxlQUFBK2QsU0FDQWs5QixFQUFBLGFBRUEsU0FBQUMsRUFBQUMsR0FDQSxVQUFBQSxRQUFBLElBQUFBLEVBQ0EsWUFFQSxJQUFBQyxFQUFBSixHQUFBRyxFQUFBSCxJQUFBRyxFQUFBRixHQUNBLHlCQUFBRyxFQUNBQSxFQUVBLEtBd0JBLElBcUNBMGdCLEVBZEEsU0FBQXhtRCxFQUFBQyxHQUNBLFFBQUFyYSxJQUFBcWEsRUFDQSxVQUFBcEosTUFBQSw2RUFFQSxJQUFBbUosRUFBQSxDQUNBLFFBQUFFLEVBQUE3VCxVQUFBMUssT0FBQTRELEVBQUF1QixNQUFBb1osRUFBQSxFQUFBQSxFQUFBLEtBQUFDLEVBQUEsRUFBNEZBLEVBQUFELEVBQWVDLElBQzNHNWEsRUFBQTRhLEVBQUEsR0FBQTlULFVBQUE4VCxJQTFCQSxTQUFBRixHQUNBLFFBQUFHLEVBQUEvVCxVQUFBMUssT0FBQTRELEVBQUF1QixNQUFBc1osRUFBQSxFQUFBQSxFQUFBLEtBQUFDLEVBQUEsRUFBc0ZBLEVBQUFELEVBQWFDLElBQ25HOWEsRUFBQThhLEVBQUEsR0FBQWhVLFVBQUFnVSxHQUdBLElBQUFDLEVBQUEsRUFDQUMsRUFBQSxZQUFBTixFQUFBdFosUUFBQSxpQkFDQSxPQUFBcEIsRUFBQSthLE9BRUEsb0JBQUFFLFNBQ0FBLFFBQUFrOEIsS0FBQW44QixHQUVBLElBSUEsVUFBQTFKLE1BQUEwSixHQUNLLE1BQUFFLE9BWUx4WCxXQUFBckQsR0FBQXFhLEdBQUFqWCxPQUFBekQsTUFPQWdqRixLQUVBLFNBQUFtakMsRUFBQUMsRUFBQTk3QyxHQUVBLElBQUErN0MsRUFBQUQsRUFBQXpvRyxZQUNBWSxFQUFBOG5HLE1BQUEzbEUsYUFBQTJsRSxFQUFBanNILE9BQUEsYUFDQXU4RSxFQUFBcDRELEVBQUEsSUFBQStyRCxFQUNBMFksRUFBQXJNLEtBR0FuOEQsR0FBQSwwUEFBdU44dkQsRUFBQS9yRCxHQUN2TnlrRSxFQUFBck0sSUFBQSxHQU9BLElBQUEydkMsR0FRQTE2RCxVQUFBLFNBQUF3NkQsR0FDQSxVQWtCQS82QyxtQkFBQSxTQUFBKzZDLEVBQUFucUgsRUFBQXF1RSxHQUNBNjdDLEVBQUFDLEVBQUEsZ0JBZ0JBaDdDLG9CQUFBLFNBQUFnN0MsRUFBQUcsRUFBQXRxSCxFQUFBcXVFLEdBQ0E2N0MsRUFBQUMsRUFBQSxpQkFlQWo3QyxnQkFBQSxTQUFBaTdDLEVBQUF6OUMsRUFBQTFzRSxFQUFBcXVFLEdBQ0E2N0MsRUFBQUMsRUFBQSxjQU9BLFNBQUEvOUYsRUFBQW5aLEVBQUFxaUIsRUFBQTI1QyxHQUNBcmtFLEtBQUFxSSxRQUNBckksS0FBQTBxQixVQUNBMXFCLEtBQUErbkUsS0FBQWh3RCxFQUdBL1gsS0FBQXFrRSxXQUFBbzdDLEVBR0FqK0YsRUFBQW50QixVQUFBZ2tFLG9CQTJCQTcyQyxFQUFBbnRCLFVBQUFndEIsU0FBQSxTQUFBeWdELEVBQUExc0UsR0FDQSxpQkFBQTBzRSxHQUFBLG1CQUFBQSxHQUFBLE1BQUFBLEdBQUF6cUQsR0FBQSwySEFDQXJYLEtBQUFxa0UsUUFBQUMsZ0JBQUF0a0UsS0FBQThoRSxFQUFBMXNFLEVBQUEsYUFpQkFvc0IsRUFBQW50QixVQUFBc3JILFlBQUEsU0FBQXZxSCxHQUNBNEssS0FBQXFrRSxRQUFBRyxtQkFBQXhrRSxLQUFBNUssRUFBQSxnQkFTQSxJQUFBd3FILEdBQ0E3NkQsV0FBQSxrSUFDQTg2RCxjQUFBLG1IQUVBQyxFQUFBLFNBQUFDLEVBQUEzbEUsR0FDQTFtRCxPQUFBQyxlQUFBNnRCLEVBQUFudEIsVUFBQTBySCxHQUNBanNILElBQUEsV0FDQXNtRSxHQUFBLGdFQUFBaGdCLEVBQUEsR0FBQUEsRUFBQSxRQUtBLFFBQUExdkMsS0FBQWsxRyxFQUNBQSxFQUFBdHJILGVBQUFvVyxJQUNBbzFHLEVBQUFwMUcsRUFBQWsxRyxFQUFBbDFHLElBS0EsU0FBQXMxRyxLQU1BLFNBQUFDLEVBQUE1M0csRUFBQXFpQixFQUFBMjVDLEdBQ0Fya0UsS0FBQXFJLFFBQ0FySSxLQUFBMHFCLFVBQ0ExcUIsS0FBQStuRSxLQUFBaHdELEVBQ0EvWCxLQUFBcWtFLFdBQUFvN0MsRUFUQU8sRUFBQTNySCxVQUFBbXRCLEVBQUFudEIsVUFZQSxJQUFBNnJILEVBQUFELEVBQUE1ckgsVUFBQSxJQUFBMnJILEVBQ0FFLEVBQUFwcEcsWUFBQW1wRyxFQUVBcHJILEVBQUFxckgsRUFBQTErRixFQUFBbnRCLFdBQ0E2ckgsRUFBQWo3QyxzQkFBQSxFQW1CQSxJQUFBNXNCLEdBS0FuUSxRQUFBLE1BR0E1ekMsRUFBQVosT0FBQVcsVUFBQUMsZUFFQTZySCxHQUNBaGlILEtBQUEsRUFDQXE1RCxLQUFBLEVBQ0E0b0QsUUFBQSxFQUNBQyxVQUFBLEdBR0FDLE9BQUEsRUFDQUMsT0FBQSxFQUVBLFNBQUFDLEVBQUFoNUcsR0FFQSxHQUFBbFQsRUFBQW5CLEtBQUFxVSxFQUFBLFFBQ0EsSUFBQWhVLEVBQUFFLE9BQUFpaEIseUJBQUFuTixFQUFBLE9BQUExVCxJQUNBLEdBQUFOLEtBQUFpdEgsZUFDQSxTQUlBLFlBQUFqbkgsSUFBQWdPLEVBQUFnd0QsSUFHQSxTQUFBa3BELEVBQUFsNUcsR0FFQSxHQUFBbFQsRUFBQW5CLEtBQUFxVSxFQUFBLFFBQ0EsSUFBQWhVLEVBQUFFLE9BQUFpaEIseUJBQUFuTixFQUFBLE9BQUExVCxJQUNBLEdBQUFOLEtBQUFpdEgsZUFDQSxTQUlBLFlBQUFqbkgsSUFBQWdPLEVBQUFySixJQW1EQSxJQUFBd2lILEVBQUEsU0FBQWhuSCxFQUFBd0UsRUFBQXE1RCxFQUFBbjZELEVBQUEwQixFQUFBZzdDLEVBQUExeEMsR0FDQSxJQUFBNnVDLEdBRUFzaEIsU0FBQTVmLEVBR0FqL0MsT0FDQXdFLE1BQ0FxNUQsTUFDQW52RCxRQUdBOHZELE9BQUFwZSxFQVFBeGxCLFdBaUNBLE9BM0JBN2dDLE9BQUFDLGVBQUF1akQsRUFBQTNpQixPQUFBLGFBQ0EzZ0MsY0FBQSxFQUNBQyxZQUFBLEVBQ0EwUSxVQUFBLEVBQ0F2USxPQUFBLElBR0FOLE9BQUFDLGVBQUF1akQsRUFBQSxTQUNBdGpELGNBQUEsRUFDQUMsWUFBQSxFQUNBMFEsVUFBQSxFQUNBdlEsTUFBQXFKLElBSUEzSixPQUFBQyxlQUFBdWpELEVBQUEsV0FDQXRqRCxjQUFBLEVBQ0FDLFlBQUEsRUFDQTBRLFVBQUEsRUFDQXZRLE1BQUErSyxJQUVBckwsT0FBQXdJLFNBQ0F4SSxPQUFBd0ksT0FBQWc3QyxFQUFBN3VDLE9BQ0EzVSxPQUFBd0ksT0FBQWc3QyxJQUlBQSxHQU9BLFNBQUFsZ0MsRUFBQXJkLEVBQUE2TixFQUFBK3dELEdBQ0EsSUFBQXZvQixPQUFBLEVBR0EzbkMsS0FFQWxLLEVBQUEsS0FDQXE1RCxFQUFBLEtBQ0FuNkQsRUFBQSxLQUNBMEIsRUFBQSxLQUVBLFNBQUF5SSxFQVdBLElBQUF3b0MsS0FWQXd3RSxFQUFBaDVHLEtBQ0Fnd0QsRUFBQWh3RCxFQUFBZ3dELEtBRUFrcEQsRUFBQWw1RyxLQUNBckosRUFBQSxHQUFBcUosRUFBQXJKLEtBR0FkLE9BQUE3RCxJQUFBZ08sRUFBQTQ0RyxPQUFBLEtBQUE1NEcsRUFBQTQ0RyxPQUNBcmhILE9BQUF2RixJQUFBZ08sRUFBQTY0RyxTQUFBLEtBQUE3NEcsRUFBQTY0RyxTQUVBNzRHLEVBQ0FsVCxFQUFBbkIsS0FBQXFVLEVBQUF3b0MsS0FBQW13RSxFQUFBN3JILGVBQUEwN0MsS0FDQTNuQyxFQUFBMm5DLEdBQUF4b0MsRUFBQXdvQyxJQU9BLElBQUE0d0UsRUFBQTNnSCxVQUFBMUssT0FBQSxFQUNBLE9BQUFxckgsRUFDQXY0RyxFQUFBa3dELGdCQUNHLEdBQUFxb0QsRUFBQSxHQUVILElBREEsSUFBQUMsRUFBQW5tSCxNQUFBa21ILEdBQ0E1dEgsRUFBQSxFQUFtQkEsRUFBQTR0SCxFQUFvQjV0SCxJQUN2QzZ0SCxFQUFBN3RILEdBQUFpTixVQUFBak4sRUFBQSxHQUdBVSxPQUFBd0ksUUFDQXhJLE9BQUF3SSxPQUFBMmtILEdBR0F4NEcsRUFBQWt3RCxTQUFBc29ELEVBSUEsR0FBQWxuSCxLQUFBNHRFLGFBQUEsQ0FDQSxJQUFBQSxFQUFBNXRFLEVBQUE0dEUsYUFDQSxJQUFBdjNCLEtBQUF1M0IsT0FDQS90RSxJQUFBNk8sRUFBQTJuQyxLQUNBM25DLEVBQUEybkMsR0FBQXUzQixFQUFBdjNCLElBS0EsSUFBQTd4QyxHQUFBcTVELFVBQ0EsSUFBQW52RCxFQUFBbXdELFVBQUFud0QsRUFBQW13RCxXQUFBNWYsR0FBQSxDQUNBLElBQUFpQixFQUFBLG1CQUFBbGdELElBQUFrZ0QsYUFBQWxnRCxFQUFBcEcsTUFBQSxVQUFBb0csRUFDQXdFLEdBeEtBLFNBQUFrSyxFQUFBd3hDLEdBQ0EsSUFBQWluRSxFQUFBLFdBQ0FSLElBQ0FBLEdBQUEsRUFDQTNzRyxHQUFBLHlPQUFBa21DLEtBR0FpbkUsRUFBQUwsZ0JBQUEsRUFDQS9zSCxPQUFBQyxlQUFBMFUsRUFBQSxPQUNBdlUsSUFBQWd0SCxFQUNBbHRILGNBQUEsSUErSkFtdEgsQ0FBQTE0RyxFQUFBd3hDLEdBRUEyZCxHQTdKQSxTQUFBbnZELEVBQUF3eEMsR0FDQSxJQUFBbW5FLEVBQUEsV0FDQVQsSUFDQUEsR0FBQSxFQUNBNXNHLEdBQUEseU9BQUFrbUMsS0FHQW1uRSxFQUFBUCxnQkFBQSxFQUNBL3NILE9BQUFDLGVBQUEwVSxFQUFBLE9BQ0F2VSxJQUFBa3RILEVBQ0FwdEgsY0FBQSxJQW9KQXF0SCxDQUFBNTRHLEVBQUF3eEMsR0FLQSxPQUFBOG1FLEVBQUFobkgsRUFBQXdFLEVBQUFxNUQsRUFBQW42RCxFQUFBMEIsRUFBQXM1QyxFQUFBblEsUUFBQTcvQixHQXdGQSxTQUFBNjRHLEVBQUEvc0gsR0FDQSx1QkFBQUEsR0FBQSxPQUFBQSxLQUFBcWtFLFdBQUE1ZixFQUdBLElBQUFOLEdBSUFrQyxnQkFBQSxLQUVBbTJELGlCQUFBLFdBQ0EsSUFBQXdRLEVBQUE3b0UsRUFBQWtDLGdCQUNBLE9BQUEybUUsRUFDQUEsSUFFQSxPQUlBQyxFQUFBLElBQ0FDLEVBQUEsSUEwQkEsSUFBQXY0QyxHQUFBLEVBRUF3NEMsRUFBQSxPQUNBLFNBQUFDLEVBQUFyckUsR0FDQSxVQUFBQSxHQUFBMzdDLFFBQUErbUgsRUFBQSxPQUdBLElBQUFFLEVBQUEsR0FDQUMsS0FDQSxTQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBLEdBQUFMLEVBQUFsc0gsT0FBQSxDQUNBLElBQUF3c0gsRUFBQU4sRUFBQTcyRyxNQU1BLE9BTEFtM0csRUFBQXJzSCxPQUFBaXNILEVBQ0FJLEVBQUFILFlBQ0FHLEVBQUFwK0csS0FBQWsrRyxFQUNBRSxFQUFBcjNGLFFBQUFvM0YsRUFDQUMsRUFBQTVrRixNQUFBLEVBQ0E0a0YsRUFFQSxPQUNBcnNILE9BQUFpc0gsRUFDQUMsWUFDQWorRyxLQUFBaytHLEVBQ0FuM0YsUUFBQW8zRixFQUNBM2tGLE1BQUEsR0FLQSxTQUFBNmtGLEVBQUFELEdBQ0FBLEVBQUFyc0gsT0FBQSxLQUNBcXNILEVBQUFILFVBQUEsS0FDQUcsRUFBQXArRyxLQUFBLEtBQ0FvK0csRUFBQXIzRixRQUFBLEtBQ0FxM0YsRUFBQTVrRixNQUFBLEVBQ0Fza0YsRUFBQWxzSCxPQUFBaXNILEdBQ0FDLEVBQUE5ckgsS0FBQW9zSCxHQTBHQSxTQUFBRSxFQUFBMXBELEVBQUFuakUsRUFBQTJzSCxHQUNBLGFBQUF4cEQsRUFDQSxFQWhHQSxTQUFBMnBELEVBQUEzcEQsRUFBQTRwRCxFQUFBL3NILEVBQUEyc0gsR0FDQSxJQUFBcG9ILFNBQUE0K0QsRUFFQSxjQUFBNStELEdBQUEsWUFBQUEsSUFFQTQrRCxFQUFBLE1BR0EsSUFBQTZwRCxHQUFBLEVBRUEsVUFBQTdwRCxFQUNBNnBELEdBQUEsT0FFQSxPQUFBem9ILEdBQ0EsYUFDQSxhQUNBeW9ILEdBQUEsRUFDQSxNQUNBLGFBQ0EsT0FBQTdwRCxFQUFBQyxVQUNBLEtBQUE1ZixFQUNBLEtBQUFHLEVBQ0FxcEUsR0FBQSxHQUtBLEdBQUFBLEVBS0EsT0FKQWh0SCxFQUFBMnNILEVBQUF4cEQsRUFHQSxLQUFBNHBELEVBQUFmLEVBQUFpQixHQUFBOXBELEVBQUEsR0FBQTRwRCxHQUNBLEVBR0EsSUFBQTU4RCxPQUFBLEVBRUErOEQsRUFBQSxFQUNBQyxFQUFBLEtBQUFKLEVBQUFmLEVBQUFlLEVBQUFkLEVBRUEsR0FBQTNtSCxNQUFBQyxRQUFBNDlELEdBQ0EsUUFBQXZsRSxFQUFBLEVBQW1CQSxFQUFBdWxFLEVBQUFoakUsT0FBcUJ2QyxJQUd4Q3N2SCxHQUFBSixFQUZBMzhELEVBQUFnVCxFQUFBdmxFLEdBQ0F1dkgsRUFBQUYsR0FBQTk4RCxFQUFBdnlELEdBQ0FvQyxFQUFBMnNILE9BRUcsQ0FDSCxJQUFBajFDLEVBQUF0ekIsRUFBQStlLEdBQ0Esc0JBQUF1VSxFQUFBLENBR0FBLElBQUF2VSxFQUFBOWhELFVBQ0E5QyxFQUFBbTFELEVBQUEsc0pBQUF4d0IsRUFBQXE0RCxvQkFDQTduQyxHQUFBLEdBT0EsSUFIQSxJQUFBenNELEVBQUF5d0QsRUFBQTM1RSxLQUFBb2xFLEdBQ0E5aUUsT0FBQSxFQUNBazdCLEVBQUEsSUFDQWw3QixFQUFBNG1CLEVBQUF6UCxRQUFBNlEsTUFHQTZrRyxHQUFBSixFQUZBMzhELEVBQUE5dkQsRUFBQXpCLE1BQ0F1dUgsRUFBQUYsR0FBQTk4RCxFQUFBNTBCLEtBQ0F2N0IsRUFBQTJzSCxRQUVLLGNBQUFwb0gsRUFBQSxDQUNMLElBQUFrd0UsRUFFQUEsRUFBQSwwRUFBQXZ4QixFQUFBcTRELG1CQUVBLElBQUE2UixFQUFBLEdBQUFqcUQsRUFDQWxoRCxHQUFBLDhFQUFBbXJHLEVBQUEscUJBQTBJOXVILE9BQUEwUixLQUFBbXpELEdBQUFuZ0QsS0FBQSxVQUF5Q29xRyxFQUFBMzRDLElBSW5MLE9BQUF5NEMsRUF3QkFKLENBQUEzcEQsRUFBQSxHQUFBbmpFLEVBQUEyc0gsR0FVQSxTQUFBTSxHQUFBcjlELEVBQUFyaUQsR0FHQSx1QkFBQXFpRCxHQUFBLE9BQUFBLEdBQUEsTUFBQUEsRUFBQTdtRCxLQWxMQUEsRUFvTEE2bUQsRUFBQTdtRCxJQWxMQXNrSCxHQUNBcG9ILElBQUEsS0FDQXFvSCxJQUFBLE1BTUEsS0FKQSxHQUFBdmtILEdBQUE1RCxRQUxBLFFBS0EsU0FBQXVDLEdBQ0EsT0FBQTJsSCxFQUFBM2xILE1BZ0xBNkYsRUFBQTVLLFNBQUEsSUF2TEEsSUFBQW9HLEVBRUFza0gsRUF3TEEsU0FBQUUsR0FBQW4zRCxFQUFBakcsRUFBQWh5RCxHQUNBLElBQUFvUSxFQUFBNm5ELEVBQUE3bkQsS0FDQSttQixFQUFBOGdDLEVBQUE5Z0MsUUFFQS9tQixFQUFBeFEsS0FBQXUzQixFQUFBNjZCLEVBQUFpRyxFQUFBcnVCLFNBd0JBLFNBQUF5bEYsR0FBQXAzRCxFQUFBakcsRUFBQXM5RCxHQUNBLElBbFVBQyxFQUFBQyxFQWtVQXJ0SCxFQUFBODFELEVBQUE5MUQsT0FDQWtzSCxFQUFBcDJELEVBQUFvMkQsVUFDQWorRyxFQUFBNm5ELEVBQUE3bkQsS0FDQSttQixFQUFBOGdDLEVBQUE5Z0MsUUFHQXM0RixFQUFBci9HLEVBQUF4USxLQUFBdTNCLEVBQUE2NkIsRUFBQWlHLEVBQUFydUIsU0FDQXppQyxNQUFBQyxRQUFBcW9ILEdBQ0FDLEdBQUFELEVBQUF0dEgsRUFBQW10SCxFQUFBenZHLEVBQUFNLHFCQUNHLE1BQUFzdkcsSUFDSDlCLEVBQUE4QixLQTVVQUYsRUE2VUFFLEVBN1VBRCxFQWdWQW5CLElBQUFvQixFQUFBN2tILEtBQUFvbkQsS0FBQXBuRCxNQUFBNmtILEVBQUE3a0gsSUFBQSxHQUFBb2pILEVBQUF5QixFQUFBN2tILEtBQUEsS0FBQTBrSCxFQUhBRyxFQTVVQXJDLEVBQUFtQyxFQUFBbnBILEtBQUFvcEgsRUFBQUQsRUFBQXRyRCxJQUFBc3JELEVBQUFJLE1BQUFKLEVBQUFwcUQsUUFBQW9xRCxFQUFBM3FELE9BQUEycUQsRUFBQXo2RyxRQWlWQTNTLEVBQUFDLEtBQUFxdEgsSUFJQSxTQUFBQyxHQUFBMXFELEVBQUF4ckMsRUFBQVcsRUFBQS9wQixFQUFBK21CLEdBQ0EsSUFBQXk0RixFQUFBLEdBQ0EsTUFBQXoxRixJQUNBeTFGLEVBQUE1QixFQUFBN3pGLEdBQUEsS0FFQSxJQUFBcTBGLEVBQUFMLEVBQUEzMEYsRUFBQW8yRixFQUFBeC9HLEVBQUErbUIsR0FDQXUzRixFQUFBMXBELEVBQUFxcUQsR0FBQWIsR0FDQUMsRUFBQUQsR0EySEEsU0FBQXBvRSxHQUFBQyxHQUNBLElBQUFqZ0QsRUFBQWlnRCxFQUFBamdELEtBRUEsc0JBQUFBLEVBQ0EsT0FBQUEsRUFBQWtnRCxhQUFBbGdELEVBQUFwRyxLQUVBLG9CQUFBb0csRUFDQSxPQUFBQSxFQUVBLE9BQUFBLEdBQ0EsS0FBQXEvQyxFQUNBLHNCQUNBLEtBQUFELEVBQ0Esb0JBQ0EsS0FBQUYsRUFDQSxrQkFDQSxLQUFBQyxFQUNBLG9CQUVBLFlBVUEsSUFHQXNxRSxHQUhBQyxRQUFBLEVBQ0FDLFFBQUEsRUFHQTNTLEdBQUEsYUFpQ0EsU0FBQXRsQixLQUNBLEdBQUFoekMsRUFBQW5RLFFBQUEsQ0FDQSxJQUFBMzBDLEVBQUFvbUQsR0FBQXRCLEVBQUFuUSxTQUNBLEdBQUEzMEMsRUFDQSx5Q0FBQUEsRUFBQSxLQUdBLFNBckNBOHZILEdBQUEsS0FFQUMsSUFBQSxFQUVBRixHQUFBLFNBQUFsc0UsR0FDQSxhQUFBQSxFQUNBLFNBQ0ssaUJBQUFBLEdBQUEsaUJBQUFBLEVBQ0wsUUFDSyxpQkFBQUEsRUFBQXY5QyxLQUNMdTlDLEVBQUF2OUMsS0FDS3U5QyxFQUFBdjlDLE9BQUFxL0MsRUFDTCxpQkFFQTlCLEVBQUF2OUMsS0FBQWtnRCxhQUFBM0MsRUFBQXY5QyxLQUFBcEcsTUFBQSxXQUlBbzlHLEdBQUEsV0FDQSxJQUFBNzRGLEVBQUEsR0FDQSxHQUFBdXJHLEdBQUEsQ0FDQSxJQUFBOXZILEVBQUE2dkgsR0FBQUMsSUFDQXRwRSxFQUFBc3BFLEdBQUFsckQsT0FDQXJnRCxHQXJFQSxTQUFBdmtCLEVBQUF3TCxFQUFBeTVDLEdBQ0EsbUJBQUFqbEQsR0FBQSxZQUFBd0wsRUFBQSxRQUFBQSxFQUFBMDVDLFNBQUFsK0MsUUFBQSxvQkFBQXdFLEVBQUEyNUMsV0FBQSxJQUFBRixFQUFBLGdCQUFBQSxFQUFBLFFBb0VBRCxDQUFBaGxELEVBQUE4dkgsR0FBQTNxRCxRQUFBM2UsR0FBQUosR0FBQUksSUFHQSxPQURBamlDLEdBQUF3Z0MsRUFBQXE0RCxvQkFBQSxJQThCQSxJQUFBM25DLE1BeUJBLFNBQUF1NkMsR0FBQXJzRSxFQUFBaWtDLEdBQ0EsR0FBQWprQyxFQUFBM2lCLFNBQUEyaUIsRUFBQTNpQixPQUFBNDBDLFdBQUEsTUFBQWp5QixFQUFBLzRDLElBQUEsQ0FHQSs0QyxFQUFBM2lCLE9BQUE0MEMsV0FBQSxFQUVBLElBQUFDLEVBN0JBLFNBQUErUixHQUNBLElBQUEvZ0MsRUFBQWl4QyxLQUVBLElBQUFqeEMsRUFBQSxDQUNBLElBQUFvcEUsRUFBQSxpQkFBQXJvQyxNQUFBdGhDLGFBQUFzaEMsRUFBQTVuRixLQUNBaXdILElBQ0FwcEUsRUFBQSw4Q0FBQW9wRSxFQUFBLE1BR0EsT0FBQXBwRSxFQW9CQXFwRSxDQUFBdG9DLEdBQ0EsSUFBQW5TLEdBQUFJLEdBQUEsQ0FHQUosR0FBQUksSUFBQSxFQUtBLElBQUFzNkMsRUFBQSxHQUNBeHNFLEtBQUFpaEIsUUFBQWpoQixFQUFBaWhCLFNBQUE5ZixFQUFBblEsVUFFQXc3RSxFQUFBLCtCQUFBL3BFLEdBQUF6QyxFQUFBaWhCLFFBQUEsS0FHQWtyRCxHQUFBbnNFLEVBRUF2akMsR0FBQSx5SUFBQXkxRCxFQUFBczZDLEVBQUEvUyxNQUVBMFMsR0FBQSxPQVlBLFNBQUFNLEdBQUE5MUYsRUFBQXN0RCxHQUNBLG9CQUFBdHRELEVBR0EsR0FBQW56QixNQUFBQyxRQUFBa3pCLEdBQ0EsUUFBQTc2QixFQUFBLEVBQW1CQSxFQUFBNjZCLEVBQUF0NEIsT0FBaUJ2QyxJQUFBLENBQ3BDLElBQUF1eUQsRUFBQTEzQixFQUFBNzZCLEdBQ0FrdUgsRUFBQTM3RCxJQUNBZytELEdBQUFoK0QsRUFBQTQxQixRQUdHLEdBQUErbEMsRUFBQXJ6RixHQUVIQSxFQUFBMEcsU0FDQTFHLEVBQUEwRyxPQUFBNDBDLFdBQUEsUUFFRyxHQUFBdDdDLEVBQUEsQ0FDSCxJQUFBaS9DLEVBQUF0ekIsRUFBQTNyQixHQUNBLHNCQUFBaS9DLEdBR0FBLElBQUFqL0MsRUFBQXBYLFFBR0EsSUFGQSxJQUFBNEYsRUFBQXl3RCxFQUFBMzVFLEtBQUEwNkIsR0FDQXA0QixPQUFBLElBQ0FBLEVBQUE0bUIsRUFBQXpQLFFBQUE2USxNQUNBeWpHLEVBQUF6ckgsRUFBQXpCLFFBQ0F1dkgsR0FBQTl0SCxFQUFBekIsTUFBQW1uRixJQWNBLFNBQUF5b0MsR0FBQTFzRSxHQUNBLElBQUEyc0UsRUFBQTNzRSxFQUFBdjlDLEtBQ0Esc0JBQUFrcUgsRUFBQSxDQUdBLElBQUF0d0gsRUFBQXN3SCxFQUFBaHFFLGFBQUFncUUsRUFBQXR3SCxLQUNBMnFELEVBQUEybEUsRUFBQTNsRSxVQUNBQSxHQUNBbWxFLEdBQUFuc0UsRUFDQXJULEVBQUFxYSxFQUFBaEgsRUFBQTd1QyxNQUFBLE9BQUE5VSxFQUFBbzlHLElBQ0EwUyxHQUFBLFdBQ0c3cEgsSUFBQXFxSCxFQUFBQyxXQUFBUixLQUNIQSxJQUFBLEVBQ0EzdkcsR0FBQSx3R0FBQXBnQixHQUFBLFlBRUEsbUJBQUFzd0gsRUFBQXQ5QyxpQkFDQTV5RCxFQUFBa3dHLEVBQUF0OUMsZ0JBQUFGLHFCQUFBLCtIQTJCQSxTQUFBMDlDLEdBQUFwcUgsRUFBQTBPLEVBQUFrd0QsR0FDQSxJQUFBeXJELEVBblBBLFNBQUFycUgsR0FDQSx1QkFBQUEsR0FBQSxtQkFBQUEsR0FFQUEsSUFBQXEvQyxHQUFBci9DLElBQUF5L0MsR0FBQXovQyxJQUFBcy9DLEdBQUEsaUJBQUF0L0MsR0FBQSxPQUFBQSxNQUFBNitELFdBQUF0ZixHQUFBdi9DLEVBQUE2K0QsV0FBQXJmLEdBQUF4L0MsRUFBQTYrRCxXQUFBbmYsR0FnUEE0cUUsQ0FBQXRxSCxHQUlBLElBQUFxcUgsRUFBQSxDQUNBLElBQUE1cEUsRUFBQSxTQUNBNWdELElBQUFHLEdBQUEsaUJBQUFBLEdBQUEsT0FBQUEsR0FBQSxJQUFBakcsT0FBQTBSLEtBQUF6TCxHQUFBcEUsVUFDQTZrRCxHQUFBLG9JQUdBLElBQUE4cEUsRUEzS0EsU0FBQUMsR0FDQSxVQUFBQSxRQUFBM3FILElBQUEycUgsUUFBQTNxSCxJQUFBMnFILEVBQUE5RCxTQUFBLENBQ0EsSUFBQXRoSCxFQUFBb2xILEVBQUE5RCxTQUdBLGdDQUZBdGhILEVBQUEwNUMsU0FBQWwrQyxRQUFBLGdCQUVBLElBREF3RSxFQUFBMjVDLFdBQ0EsSUFFQSxTQW9LQTByRSxDQUFBLzdHLEdBRUEreEMsR0FEQThwRSxHQUdBNzRCLEtBR0FqeEMsR0FBQXUyRCxNQUFBLEdBRUEsSUFBQTBULE9BQUEsRUFFQUEsRUFEQSxPQUFBMXFILEVBQ0EsT0FDS2UsTUFBQUMsUUFBQWhCLEdBQ0wsZUFFQUEsRUFHQWdhLEdBQUEsc0pBQUEwd0csRUFBQWpxRSxHQUdBLElBQUFsRCxFQUFBbGdDLEVBQUFuYSxNQUFBbUQsS0FBQUMsV0FJQSxTQUFBaTNDLEVBQ0EsT0FBQUEsRUFRQSxHQUFBOHNFLEVBQ0EsUUFBQWh4SCxFQUFBLEVBQW1CQSxFQUFBaU4sVUFBQTFLLE9BQXNCdkMsSUFDekMyd0gsR0FBQTFqSCxVQUFBak4sR0FBQTJHLEdBVUEsT0FOQUEsSUFBQXEvQyxFQXRFQSxTQUFBc3lCLEdBQ0ErM0MsR0FBQS8zQyxFQUdBLElBREEsSUFBQWxtRSxFQUFBMVIsT0FBQTBSLEtBQUFrbUUsRUFBQWpqRSxPQUNBclYsRUFBQSxFQUFpQkEsRUFBQW9TLEVBQUE3UCxPQUFpQnZDLElBQUEsQ0FDbEMsSUFBQW1MLEVBQUFpSCxFQUFBcFMsR0FDQSxnQkFBQW1MLEdBQUEsUUFBQUEsRUFBQSxDQUNBd1YsR0FBQSwrR0FBQXhWLEVBQUF3eUcsTUFDQSxPQUlBLE9BQUFybEMsRUFBQTlULEtBQ0E3akQsR0FBQSw0REFBQWc5RixNQUdBMFMsR0FBQSxLQXVEQWlCLENBQUFwdEUsR0FFQTBzRSxHQUFBMXNFLEdBR0FBLEVBZ0NBLElBQUE3MkIsSUFDQTJxRSxVQUNBOTBGLElBbGJBLFNBQUFxaUUsRUFBQTUwRCxFQUFBK21CLEdBQ0EsU0FBQTZ0QyxFQUNBLE9BQUFBLEVBRUEsSUFBQTdpRSxLQUVBLE9BREF1dEgsR0FBQTFxRCxFQUFBN2lFLEVBQUEsS0FBQWlPLEVBQUErbUIsR0FDQWgxQixHQTZhQXNHLFFBeGVBLFNBQUF1OEQsRUFBQWdzRCxFQUFBQyxHQUNBLFNBQUFqc0QsRUFDQSxPQUFBQSxFQUVBLElBQUF3cEQsRUFBQUwsRUFBQSxVQUFBNkMsRUFBQUMsR0FDQXZDLEVBQUExcEQsRUFBQW9xRCxHQUFBWixHQUNBQyxFQUFBRCxJQW1lQTVrRixNQWxhQSxTQUFBbzdCLEVBQUE3dEMsR0FDQSxPQUFBdTNGLEVBQUExcEQsRUFBQW5sRCxFQUFBSSxnQkFBQSxPQWthQWl4RyxRQXpaQSxTQUFBbHNELEdBQ0EsSUFBQTdpRSxLQUVBLE9BREF1dEgsR0FBQTFxRCxFQUFBN2lFLEVBQUEsS0FBQTBkLEVBQUFNLHFCQUNBaGUsR0F1WkFndkgsS0F0WUEsU0FBQW5zRCxHQUVBLE9BREEyb0QsRUFBQTNvRCxJQUFBbGhELEdBQUEsMkVBQ0FraEQsSUF1WUFvc0QsVUE1aENBLFdBQ0EsSUFBQUMsR0FDQTE4RSxRQUFBLE1BS0EsT0FGQXgwQyxPQUFBbXhILEtBQUFELEdBRUFBLEdBc2hDQXBqRyxZQUNBeStGLGdCQUVBNkUsY0F4WUEsU0FBQWxtRSxFQUFBbW1FLFFBQ0F2ckgsSUFBQXVySCxFQUNBQSxFQUFBLEtBR0FweEcsRUFBQSxPQUFBb3hHLEdBQUEsbUJBQUFBLEVBQUEsOEZBQUFBLEdBSUEsSUFBQXI2RixHQUNBOHRDLFNBQUFyZixFQUNBMjNCLHNCQUFBaTBDLEVBQ0FDLGNBQUFwbUUsRUFDQW95QixjQUFBcHlCLEVBQ0FxeUIsYUFBQSxFQUVBZzBDLFNBQUEsS0FDQUMsU0FBQSxNQWFBLE9BVkF4NkYsRUFBQXU2RixVQUNBenNELFNBQUF0ZixFQUNBMDNCLFNBQUFsbUQsR0FFQUEsRUFBQXc2RixTQUFBeDZGLEVBR0FBLEVBQUFtMEQsaUJBQUEsS0FHQW4wRCxHQTJXQXk2RixXQXhXQSxTQUFBN2pHLEdBS0EsT0FIQTNOLEVBQUEsbUJBQUEyTixFQUFBLGlFQUFBQSxFQUFBLGNBQUFBLElBSUFrM0MsU0FBQW5mLEVBQ0EvM0IsV0FtV0F5cEIsU0FBQWlPLEVBQ0E4ZCxXQUFBN2QsRUFDQW1zRSxtQkFBQWhzRSxFQUVBcGlDLGNBQUErc0csR0FDQXNCLGFBOUJBLFNBQUFudUUsRUFBQTd1QyxFQUFBa3dELEdBRUEsSUFEQSxJQUFBK3NELEVBM3dCQSxTQUFBcHVFLEVBQUExdkMsRUFBQSt3RCxHQUNBLElBQUF2b0IsT0FBQSxFQUdBM25DLEVBQUF4VCxLQUF3QnFpRCxFQUFBN3VDLE9BR3hCbEssRUFBQSs0QyxFQUFBLzRDLElBQ0FxNUQsRUFBQXRnQixFQUFBc2dCLElBRUFuNkQsRUFBQTY1QyxFQUFBZ3NFLE1BSUFua0gsRUFBQW00QyxFQUFBd2hCLFFBR0EzZSxFQUFBN0MsRUFBQWloQixPQUVBLFNBQUEzd0QsRUFBQSxDQUNBZzVHLEVBQUFoNUcsS0FFQWd3RCxFQUFBaHdELEVBQUFnd0QsSUFDQXpkLEVBQUExQixFQUFBblEsU0FFQXc0RSxFQUFBbDVHLEtBQ0FySixFQUFBLEdBQUFxSixFQUFBckosS0FJQSxJQUFBb3BFLE9BQUEsRUFJQSxJQUFBdjNCLEtBSEFrSCxFQUFBdjlDLE1BQUF1OUMsRUFBQXY5QyxLQUFBNHRFLGVBQ0FBLEVBQUFyd0IsRUFBQXY5QyxLQUFBNHRFLGNBRUEvL0QsRUFDQWxULEVBQUFuQixLQUFBcVUsRUFBQXdvQyxLQUFBbXdFLEVBQUE3ckgsZUFBQTA3QyxVQUNBeDJDLElBQUFnTyxFQUFBd29DLFNBQUF4MkMsSUFBQSt0RSxFQUVBbC9ELEVBQUEybkMsR0FBQXUzQixFQUFBdjNCLEdBRUEzbkMsRUFBQTJuQyxHQUFBeG9DLEVBQUF3b0MsSUFRQSxJQUFBNHdFLEVBQUEzZ0gsVUFBQTFLLE9BQUEsRUFDQSxPQUFBcXJILEVBQ0F2NEcsRUFBQWt3RCxnQkFDRyxHQUFBcW9ELEVBQUEsR0FFSCxJQURBLElBQUFDLEVBQUFubUgsTUFBQWttSCxHQUNBNXRILEVBQUEsRUFBbUJBLEVBQUE0dEgsRUFBb0I1dEgsSUFDdkM2dEgsRUFBQTd0SCxHQUFBaU4sVUFBQWpOLEVBQUEsR0FFQXFWLEVBQUFrd0QsU0FBQXNvRCxFQUdBLE9BQUFGLEVBQUF6cEUsRUFBQXY5QyxLQUFBd0UsRUFBQXE1RCxFQUFBbjZELEVBQUEwQixFQUFBZzdDLEVBQUExeEMsSUFndEJBeEwsTUFBQW1ELEtBQUFDLFdBQ0FqTixFQUFBLEVBQWlCQSxFQUFBaU4sVUFBQTFLLE9BQXNCdkMsSUFDdkMyd0gsR0FBQTFqSCxVQUFBak4sR0FBQXN5SCxFQUFBM3JILE1BR0EsT0FEQWlxSCxHQUFBMEIsR0FDQUEsR0F5QkFDLGNBbkRBLFNBQUE1ckgsR0FDQSxJQUFBNnJILEVBQUF6QixHQUFBampHLEtBQUEsS0FBQW5uQixHQWdCQSxPQWZBNnJILEVBQUE3ckgsT0FHQWpHLE9BQUFDLGVBQUE2eEgsRUFBQSxRQUNBM3hILFlBQUEsRUFDQUMsSUFBQSxXQUtBLE9BSkFzbUUsR0FBQSwrRkFDQTFtRSxPQUFBQyxlQUFBcU0sS0FBQSxRQUNBaE0sTUFBQTJGLElBRUFBLEtBS0E2ckgsR0FtQ0F0RSxpQkFFQS9qSCxRQXIwQ0EsU0F1MENBaTdDLG9EQUNBQyxvQkFFQTl5QyxPQUFBMVEsSUFLQUEsRUFBQXdyQixHQUFBKzNCLG9EQUVBRSx5QkFHQW10RSw0QkFNQSxJQUFBQyxHQUFBaHlILE9BQUF3SSxRQUNBcVEsUUFBQThULEtBR0FzbEcsR0FBQUQsSUFBQXJsRyxJQUFBcWxHLEdBSUFFLEdBQUFELEdBQUEsUUFBQUEsR0FBQSxRQUFBQSxHQUVBNXlILEVBQUFELFFBQUE4eUgsSUFoM0NBLGlDQ2RBLFFBQUFoekgsRUFBQSxTQUNBQSxFQUFBLE1BQ0FpekgsRUFBQWp6SCxFQUFBLHdEQUVBa3pILEVBQUF2NUcsUUFBUytVLE9BQ1B6QixFQUFBdFQsUUFBQXlLLGNBQUE2dUcsRUFBQWptRyxjQUFBLE1BQ0F0TixTQUFTeXpHLGVBQWUiLCJmaWxlIjoidmlzdWFsVGVzdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEyNik7XG4iLCJPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBsaWVfdHNfMSA9IHJlcXVpcmUoXCJsaWUtdHNcIik7XHJcbmV4cG9ydHMuUHJvbWlzZSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3dbXCJQcm9taXNlXCJdID8gd2luZG93W1wiUHJvbWlzZVwiXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsW1wiUHJvbWlzZVwiXSA/IGdsb2JhbFtcIlByb21pc2VcIl0gOiBsaWVfdHNfMS5Qcm9taXNlO1xyXG59KSgpO1xyXG4vKipcclxuICogT2JqZWN0LmFzc2lnbiwgYnV0IGJldHRlci5cclxuICpcclxuICogQHBhcmFtIHsqfSBvYmpcclxuICogQHJldHVybnNcclxuICovXHJcbmV4cG9ydHMuX2Fzc2lnbiA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgIHJldHVybiBvYmogPyBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpIDogbnVsbDtcclxufTtcclxuLyoqXHJcbiAqIFF1aWNrbHkgYW5kIGVmZmljaWVudGx5IGZpcmUgYXN5bmNyb3Vub3VzIG9wZXJhdGlvbnMgaW4gc2VxdWVuY2UsIHJldHVybnMgb25jZSBhbGwgb3BlcmF0aW9ucyBjb21wbGV0ZS5cclxuICpcclxuICogQHBhcmFtIHthbnlbXX0gaXRlbXNcclxuICogQHBhcmFtIHsoaXRlbTogYW55LCBpOiBudW1iZXIsIG5leHQ6IChyZXN1bHQ/OiBhbnkpID0+IHZvaWQpID0+IHZvaWR9IGNhbGxiYWNrXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPGFueVtdPn1cclxuICovXHJcbmV4cG9ydHMuZmFzdENIQUlOID0gZnVuY3Rpb24gKGl0ZW1zLCBjYWxsYmFjaykge1xyXG4gICAgcmV0dXJuIG5ldyBleHBvcnRzLlByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XHJcbiAgICAgICAgaWYgKCFpdGVtcyB8fCAhaXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJlcyhbXSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcclxuICAgICAgICB2YXIgc3RlcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoIDwgaXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhpdGVtc1tyZXN1bHRzLmxlbmd0aF0sIHJlc3VsdHMubGVuZ3RoLCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGllX3RzXzEuc2V0RmFzdChzdGVwKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVzKHJlc3VsdHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzdGVwKCk7XHJcbiAgICB9KTtcclxufTtcclxuLyoqXHJcbiAqIFF1aWNrbHkgYW5kIGVmZmljaWVudGx5IGZpcmUgYXN5bmNyb3Vub3VzIG9wZXJhdGlvbnMgaW4gcGFyYWxsZWwsIHJldHVybnMgb25jZSBhbnkgb3BlcmF0aW9uIGNvbXBsZXRlcy5cclxuICpcclxuICogQHBhcmFtIHthbnlbXX0gaXRlbXNcclxuICogQHBhcmFtIHsoaXRlbTogYW55LCBpOiBudW1iZXIsIG5leHQ6IChyZXN1bHQ/OiBhbnkpID0+IHZvaWQpID0+IHZvaWR9IGNhbGxiYWNrXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPGFueVtdPn1cclxuICovXHJcbmV4cG9ydHMuZmFzdFJBQ0UgPSBmdW5jdGlvbiAoaXRlbXMsIGNhbGxiYWNrKSB7XHJcbiAgICByZXR1cm4gbmV3IGV4cG9ydHMuUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcclxuICAgICAgICBpZiAoIWl0ZW1zIHx8ICFpdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmVzKFtdKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmVzb2x2ZWQgPSBmYWxzZTtcclxuICAgICAgICB2YXIgY291bnRlciA9IDA7XHJcbiAgICAgICAgdmFyIHN0ZXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChjb3VudGVyIDwgaXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhpdGVtc1tjb3VudGVyXSwgY291bnRlciwgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVzb2x2ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMoW3Jlc3VsdF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgY291bnRlcisrO1xyXG4gICAgICAgICAgICAgICAgc3RlcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzdGVwKCk7XHJcbiAgICB9KTtcclxufTtcclxuLyoqXHJcbiAqIFF1aWNrbHkgYW5kIGVmZmljaWVudGx5IGZpcmUgYXN5bmNyb3Vub3VzIG9wZXJhdGlvbnMgaW4gcGFyYWxsZWwsIHJldHVybnMgb25jZSBhbGwgb3BlcmF0aW9ucyBhcmUgY29tcGxldGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7YW55W119IGl0ZW1zXHJcbiAqIEBwYXJhbSB7KGl0ZW06IGFueSwgaTogbnVtYmVyLCBkb25lOiAocmVzdWx0PzogYW55KSA9PiB2b2lkKSA9PiB2b2lkfSBjYWxsYmFja1xyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxhbnlbXT59XHJcbiAqL1xyXG5leHBvcnRzLmZhc3RBTEwgPSBmdW5jdGlvbiAoaXRlbXMsIGNhbGxiYWNrKSB7XHJcbiAgICByZXR1cm4gZXhwb3J0cy5Qcm9taXNlLmFsbCgoaXRlbXMgfHwgW10pLm1hcChmdW5jdGlvbiAoaXRlbSwgaSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgZXhwb3J0cy5Qcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikge1xyXG4gICAgICAgICAgICBjYWxsYmFjayhpdGVtLCBpLCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICByZXMocmVzdWx0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KSk7XHJcbn07XHJcbnZhciB1YSA9IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgPyBcIlwiIDogKG5hdmlnYXRvci51c2VyQWdlbnQgfHwgXCJcIik7XHJcbi8vIERldGVjdHMgaU9TIGRldmljZSBPUiBTYWZhcmkgcnVubmluZyBvbiBkZXNrdG9wXHJcbmV4cG9ydHMuaXNTYWZhcmkgPSB1YS5sZW5ndGggPT09IDAgPyBmYWxzZSA6ICgvXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KHVhKSkgfHwgKC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KHVhKSAmJiAhd2luZG93W1wiTVNTdHJlYW1cIl0pO1xyXG4vLyBEZXRlY3QgRWRnZSBvciBJbnRlcm5ldCBFeHBsb3JlclxyXG5leHBvcnRzLmlzTVNCcm93c2VyID0gdWEubGVuZ3RoID09PSAwID8gZmFsc2UgOiB1YS5pbmRleE9mKFwiTVNJRSBcIikgPiAwIHx8IHVhLmluZGV4T2YoXCJUcmlkZW50L1wiKSA+IDAgfHwgdWEuaW5kZXhPZihcIkVkZ2UvXCIpID4gMDtcclxuLy8gRGV0ZWN0IEFuZHJvaWQgRGV2aWNlXHJcbmV4cG9ydHMuaXNBbmRyb2lkID0gL0FuZHJvaWQvLnRlc3QodWEpO1xyXG4vKipcclxuICogR2VuZXJhdGUgYSByYW5kb20gMTYgYml0IG51bWJlciB1c2luZyBzdHJvbmdlc3QgY3J5cHRvIGF2YWlsYWJsZS5cclxuICpcclxuICogQHJldHVybnMge251bWJlcn1cclxuICovXHJcbmV4cG9ydHMucmFuZG9tMTZCaXRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKHR5cGVvZiBjcnlwdG8gPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogTWF0aC5wb3coMiwgMTYpKTsgLy8gTGVzcyByYW5kb20gZmFsbGJhY2suXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoY3J5cHRvLmdldFJhbmRvbVZhbHVlcykgeyAvLyBCcm93c2VyIGNyeXB0b1xyXG4gICAgICAgICAgICB2YXIgYnVmID0gbmV3IFVpbnQxNkFycmF5KDEpO1xyXG4gICAgICAgICAgICBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGJ1Zik7XHJcbiAgICAgICAgICAgIHJldHVybiBidWZbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsLl9jcnlwdG8ucmFuZG9tQnl0ZXMpIHsgLy8gTm9kZUpTIGNyeXB0b1xyXG4gICAgICAgICAgICByZXR1cm4gZ2xvYmFsLl9jcnlwdG8ucmFuZG9tQnl0ZXMoMikucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXIpIHsgcmV0dXJuIGN1ciAqIHByZXY7IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIE1hdGgucG93KDIsIDE2KSk7IC8vIExlc3MgcmFuZG9tIGZhbGxiYWNrLlxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuLyoqXHJcbiAqIEdlbmVyYXRlIGEgVGltZUlEIGZvciB1c2UgaW4gdGhlIGRhdGFiYXNlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFttc11cclxuICogQHJldHVybnMge3N0cmluZ31cclxuICovXHJcbmV4cG9ydHMudGltZWlkID0gZnVuY3Rpb24gKG1zKSB7XHJcbiAgICB2YXIgdGltZSA9IE1hdGgucm91bmQoKG5ldyBEYXRlKCkuZ2V0VGltZSgpKSAvIChtcyA/IDEgOiAxMDAwKSkudG9TdHJpbmcoKTtcclxuICAgIHdoaWxlICh0aW1lLmxlbmd0aCA8IChtcyA/IDEzIDogMTApKSB7XHJcbiAgICAgICAgdGltZSA9IFwiMFwiICsgdGltZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aW1lICsgXCItXCIgKyAoZXhwb3J0cy5yYW5kb20xNkJpdHMoKSArIGV4cG9ydHMucmFuZG9tMTZCaXRzKCkpLnRvU3RyaW5nKDE2KTtcclxufTtcclxuLyoqXHJcbiAqIFNlZSBpZiB0d28gYXJyYXlzIGludGVyc2VjdC5cclxuICpcclxuICogQHBhcmFtIHthbnlbXX0gYXJyMVxyXG4gKiBAcGFyYW0ge2FueVtdfSBhcnIyXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuZXhwb3J0cy5pbnRlcnNlY3QgPSBmdW5jdGlvbiAoYXJyMSwgYXJyMikge1xyXG4gICAgaWYgKCFhcnIxIHx8ICFhcnIyKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIGlmICghYXJyMS5sZW5ndGggfHwgIWFycjIubGVuZ3RoKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIHJldHVybiAoYXJyMSB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiAoYXJyMiB8fCBbXSkuaW5kZXhPZihpdGVtKSAhPT0gLTE7IH0pLmxlbmd0aCA+IDA7XHJcbn07XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSB2YWxpZCBWNCBVVUlEIHVzaW5nIHRoZSBzdHJvbmdlc3QgY3J5cHRvIGF2YWlsYWJsZS5cclxuICpcclxuICogQHJldHVybnMge3N0cmluZ31cclxuICovXHJcbmV4cG9ydHMudXVpZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciByLCBzLCBiID0gXCJcIjtcclxuICAgIHJldHVybiBbYiwgYiwgYiwgYiwgYiwgYiwgYiwgYl0ucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXIsIGkpIHtcclxuICAgICAgICByID0gZXhwb3J0cy5yYW5kb20xNkJpdHMoKTtcclxuICAgICAgICBzID0gKGkgPT09IDMgPyA0IDogKGkgPT09IDQgPyAociAlIDE2ICYgMHgzIHwgMHg4KS50b1N0cmluZygxNikgOiBiKSk7XHJcbiAgICAgICAgciA9IHIudG9TdHJpbmcoMTYpO1xyXG4gICAgICAgIHdoaWxlIChyLmxlbmd0aCA8IDQpXHJcbiAgICAgICAgICAgIHIgPSBcIjBcIiArIHI7XHJcbiAgICAgICAgcmV0dXJuIHByZXYgKyAoWzIsIDMsIDQsIDVdLmluZGV4T2YoaSkgPiAtMSA/IFwiLVwiIDogYikgKyAocyArIHIpLnNsaWNlKDAsIDQpO1xyXG4gICAgfSwgYik7XHJcbn07XHJcbnZhciBpZFR5cGVzID0ge1xyXG4gICAgXCJpbnRcIjogZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfSxcclxuICAgIFwidXVpZFwiOiBleHBvcnRzLnV1aWQsXHJcbiAgICBcInRpbWVJZFwiOiBmdW5jdGlvbiAoKSB7IHJldHVybiBleHBvcnRzLnRpbWVpZCgpOyB9LFxyXG4gICAgXCJ0aW1lSWRtc1wiOiBmdW5jdGlvbiAoKSB7IHJldHVybiBleHBvcnRzLnRpbWVpZCh0cnVlKTsgfVxyXG59O1xyXG4vKipcclxuICogQSBxdWljayBhbmQgZGlydHkgaGFzaGluZyBmdW5jdGlvbiwgdHVybnMgYSBzdHJpbmcgaW50byBhIG1kNSBzdHlsZSBoYXNoLlxyXG4gKiBzdG9sZW4gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZGFya3NreWFwcC9zdHJpbmctaGFzaFxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAqL1xyXG5leHBvcnRzLmhhc2ggPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICB2YXIgaGFzaCA9IDUzODEsIGkgPSBzdHIubGVuZ3RoO1xyXG4gICAgd2hpbGUgKGkpIHtcclxuICAgICAgICBoYXNoID0gKGhhc2ggKiAzMykgXiBzdHIuY2hhckNvZGVBdCgtLWkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIChoYXNoID4+PiAwKS50b1N0cmluZygxNik7XHJcbn07XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSBhIHJvdyBJRCBnaXZlbiB0aGUgcHJpbWFyeSBrZXkgdHlwZS5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHByaW1hcnlLZXlUeXBlXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbaW5jcmltZW50VmFsdWVdXHJcbiAqIEByZXR1cm5zIHsqfVxyXG4gKi9cclxuZXhwb3J0cy5nZW5lcmF0ZUlEID0gZnVuY3Rpb24gKHByaW1hcnlLZXlUeXBlLCBpbmNyaW1lbnRWYWx1ZSkge1xyXG4gICAgcmV0dXJuIGlkVHlwZXNbcHJpbWFyeUtleVR5cGVdID8gaWRUeXBlc1twcmltYXJ5S2V5VHlwZV0oaW5jcmltZW50VmFsdWUgfHwgMSkgOiBcIlwiO1xyXG59O1xyXG4vKipcclxuICogQ2xlYW4gdGhlIGFyZ3VtZW50cyBmcm9tIGFuIG9iamVjdCBnaXZlbiBhbiBhcnJheSBvZiBhcmd1bWVudHMgYW5kIHRoZWlyIHR5cGVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBhcmdEZWNsYXJhdGlvbnNcclxuICogQHBhcmFtIHtTdGRPYmplY3Q8YW55Pn0gYXJnc1xyXG4gKiBAcmV0dXJucyB7U3RkT2JqZWN0PGFueT59XHJcbiAqL1xyXG5leHBvcnRzLmNsZWFuQXJncyA9IGZ1bmN0aW9uIChhcmdEZWNsYXJhdGlvbnMsIGFyZ3MpIHtcclxuICAgIHZhciBhID0ge307XHJcbiAgICB2YXIgaSA9IGFyZ0RlY2xhcmF0aW9ucy5sZW5ndGg7XHJcbiAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgdmFyIGsyID0gYXJnRGVjbGFyYXRpb25zW2ldLnNwbGl0KFwiOlwiKTtcclxuICAgICAgICBpZiAoazIubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICBhW2syWzBdXSA9IGV4cG9ydHMuY2FzdChrMlsxXSwgYXJnc1trMlswXV0gfHwgdW5kZWZpbmVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGFbazJbMF1dID0gYXJnc1trMlswXV0gfHwgdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBhO1xyXG59O1xyXG4vKipcclxuICogRGV0ZXJtaW5lIGlmIGEgZ2l2ZW4gdmFsdWUgaXMgYSBqYXZhc2NyaXB0IG9iamVjdCBvciBub3QuIEV4bHVkZXMgQXJyYXlzLCBGdW5jdGlvbnMsIE51bGwsIFVuZGVmaW5lZCwgZXRjLlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHZhbFxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbmV4cG9ydHMuaXNPYmplY3QgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbCkgPT09IFwiW29iamVjdCBPYmplY3RdXCI7XHJcbn07XHJcbi8qKlxyXG4gKiBDYXN0IGEgamF2YXNjcmlwdCB2YXJpYWJsZSB0byBhIGdpdmVuIHR5cGUuIFN1cHBvcnRzIHR5cGVzY3JpcHQgcHJpbWl0aXZlcyBhbmQgbW9yZSBzcGVjaWZpYyB0eXBlcy5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcclxuICogQHBhcmFtIHsqfSBbdmFsXVxyXG4gKiBAcmV0dXJucyB7Kn1cclxuICovXHJcbmV4cG9ydHMuY2FzdCA9IGZ1bmN0aW9uICh0eXBlLCB2YWwpIHtcclxuICAgIGlmICh0eXBlID09PSBcImFueVwiIHx8IHR5cGUgPT09IFwiYmxvYlwiKVxyXG4gICAgICAgIHJldHVybiB2YWw7XHJcbiAgICB2YXIgdCA9IHR5cGVvZiB2YWw7XHJcbiAgICBpZiAodCA9PT0gXCJ1bmRlZmluZWRcIiB8fCB2YWwgPT09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgfVxyXG4gICAgdmFyIGVudGl0eU1hcCA9IHtcclxuICAgICAgICBcIiZcIjogXCImYW1wO1wiLFxyXG4gICAgICAgIFwiPFwiOiBcIiZsdDtcIixcclxuICAgICAgICBcIj5cIjogXCImZ3Q7XCIsXHJcbiAgICAgICAgXCJcXFwiXCI6IFwiJnF1b3Q7XCIsXHJcbiAgICAgICAgXCInXCI6IFwiJiMzOTtcIixcclxuICAgICAgICBcIi9cIjogXCImI3gyRjtcIixcclxuICAgICAgICBcImBcIjogXCImI3g2MDtcIixcclxuICAgICAgICBcIj1cIjogXCImI3gzRDtcIlxyXG4gICAgfTtcclxuICAgIHZhciB0eXBlcyA9IGZ1bmN0aW9uICh0eXBlLCB2YWwpIHtcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBcInNhZmVzdHJcIjogcmV0dXJuIHR5cGVzKFwic3RyaW5nXCIsIHZhbCkucmVwbGFjZSgvWyY8PlwiJ2A9XFwvXS9nbWksIGZ1bmN0aW9uIChzKSB7IHJldHVybiBlbnRpdHlNYXBbc107IH0pO1xyXG4gICAgICAgICAgICBjYXNlIFwiaW50XCI6IHJldHVybiAodCAhPT0gXCJudW1iZXJcIiB8fCB2YWwgJSAxICE9PSAwKSA/IHBhcnNlSW50KHZhbCB8fCAwKSA6IHZhbDtcclxuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxyXG4gICAgICAgICAgICBjYXNlIFwiZmxvYXRcIjogcmV0dXJuIHQgIT09IFwibnVtYmVyXCIgPyBwYXJzZUZsb2F0KHZhbCB8fCAwKSA6IHZhbDtcclxuICAgICAgICAgICAgY2FzZSBcImFueVtdXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCJhcnJheVwiOiByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWwpID8gdmFsIDogW107XHJcbiAgICAgICAgICAgIGNhc2UgXCJ1dWlkXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCJ0aW1lSWRcIjpcclxuICAgICAgICAgICAgY2FzZSBcInRpbWVJZG1zXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjogcmV0dXJuIHQgIT09IFwic3RyaW5nXCIgPyBTdHJpbmcodmFsKSA6IHZhbDtcclxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxyXG4gICAgICAgICAgICBjYXNlIFwib2JqXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCJtYXBcIjogcmV0dXJuIGV4cG9ydHMuaXNPYmplY3QodmFsKSA/IHZhbCA6IHt9O1xyXG4gICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxyXG4gICAgICAgICAgICBjYXNlIFwiYm9vbFwiOiByZXR1cm4gdmFsID09PSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgfTtcclxuICAgIHZhciBuZXdWYWwgPSB0eXBlcyhTdHJpbmcodHlwZSB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpLCB2YWwpO1xyXG4gICAgaWYgKHR5cGUuaW5kZXhPZihcIltdXCIpICE9PSAtMSkge1xyXG4gICAgICAgIHZhciBhcnJheU9mXzEgPSB0eXBlLnNsaWNlKDAsIHR5cGUubGFzdEluZGV4T2YoXCJbXVwiKSk7XHJcbiAgICAgICAgcmV0dXJuICh2YWwgfHwgW10pLm1hcChmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5jYXN0KGFycmF5T2ZfMSwgdik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChuZXdWYWwgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGlmIChbXCJpbnRcIiwgXCJmbG9hdFwiLCBcIm51bWJlclwiXS5pbmRleE9mKHR5cGUpID4gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlzTmFOKG5ld1ZhbCkgPyAwIDogbmV3VmFsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ld1ZhbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG59O1xyXG4vKipcclxuICogSW5zZXJ0IGEgdmFsdWUgaW50byBhIHNvcnRlZCBhcnJheSwgZWZmaWNpZW50bHkgZ2F1cmFudGVlcyByZWNvcmRzIGFyZSBzb3J0ZWQgb24gaW5zZXJ0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge2FueVtdfSBhcnJcclxuICogQHBhcmFtIHsqfSB2YWx1ZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0VmFsXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW2VuZFZhbF1cclxuICogQHJldHVybnMge2FueVtdfVxyXG4gKi9cclxuZXhwb3J0cy5zb3J0ZWRJbnNlcnQgPSBmdW5jdGlvbiAoYXJyLCB2YWx1ZSwgc3RhcnRWYWwsIGVuZFZhbCkge1xyXG4gICAgaWYgKGFyci5sZW5ndGgpIHtcclxuICAgICAgICBhcnIuc3BsaWNlKGV4cG9ydHMuYmluYXJ5U2VhcmNoKGFyciwgdmFsdWUpLCAwLCB2YWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIGFycjtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGFyci5wdXNoKHZhbHVlKTtcclxuICAgICAgICByZXR1cm4gYXJyO1xyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogR2l2ZW4gYSBzb3J0ZWQgYXJyYXkgYW5kIGEgdmFsdWUsIGZpbmQgd2hlcmUgdGhhdCB2YWx1ZSBmaXRzIGludG8gdGhlIGFycmF5LlxyXG4gKlxyXG4gKiBAcGFyYW0ge2FueVtdfSBhcnJcclxuICogQHBhcmFtIHsqfSB2YWx1ZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0VmFsXVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW2VuZFZhbF1cclxuICogQHJldHVybnMge251bWJlcn1cclxuICovXHJcbmV4cG9ydHMuYmluYXJ5U2VhcmNoID0gZnVuY3Rpb24gKGFyciwgdmFsdWUsIHN0YXJ0VmFsLCBlbmRWYWwpIHtcclxuICAgIHZhciBsZW5ndGggPSBhcnIubGVuZ3RoO1xyXG4gICAgdmFyIHN0YXJ0ID0gc3RhcnRWYWwgfHwgMDtcclxuICAgIHZhciBlbmQgPSBlbmRWYWwgIT09IHVuZGVmaW5lZCA/IGVuZFZhbCA6IGxlbmd0aCAtIDE7XHJcbiAgICBpZiAobGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUgPiBhcnJbZW5kXSkge1xyXG4gICAgICAgIHJldHVybiBlbmQgKyAxO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlIDwgYXJyW3N0YXJ0XSkge1xyXG4gICAgICAgIHJldHVybiBzdGFydDtcclxuICAgIH1cclxuICAgIGlmIChzdGFydCA+PSBlbmQpIHtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuICAgIHZhciBtID0gc3RhcnQgKyBNYXRoLmZsb29yKChlbmQgLSBzdGFydCkgLyAyKTtcclxuICAgIGlmICh2YWx1ZSA8IGFyclttXSkge1xyXG4gICAgICAgIHJldHVybiBleHBvcnRzLmJpbmFyeVNlYXJjaChhcnIsIHZhbHVlLCBzdGFydCwgbSAtIDEpO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlID4gYXJyW21dKSB7XHJcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuYmluYXJ5U2VhcmNoKGFyciwgdmFsdWUsIG0gKyAxLCBlbmQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIDA7XHJcbn07XHJcbi8qKlxyXG4gKiBRdWlja2x5IHJlbW92ZXMgZHVwbGljYXRlcyBmcm9tIGEgc29ydGVkIGFycmF5LlxyXG4gKlxyXG4gKiBAcGFyYW0ge2FueVtdfSBhcnJcclxuICogQHJldHVybnMge2FueVtdfVxyXG4gKi9cclxuZXhwb3J0cy5yZW1vdmVEdXBsaWNhdGVzID0gZnVuY3Rpb24gKGFycikge1xyXG4gICAgaWYgKCFhcnIubGVuZ3RoKVxyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIHZhciBuZXdhcnIgPSBbYXJyWzBdXTtcclxuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGFycltpXSAhPT0gYXJyW2kgLSAxXSlcclxuICAgICAgICAgICAgbmV3YXJyLnB1c2goYXJyW2ldKTtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXdhcnI7XHJcbn07XHJcbi8qKlxyXG4gKiBSZWN1cnNpdmVseSBmcmVlemUgYSBqYXZhc2NyaXB0IG9iamVjdCB0byBwcmV2ZW50IGl0IGZyb20gYmVpbmcgbW9kaWZpZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gb2JqXHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG5leHBvcnRzLmRlZXBGcmVlemUgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmogfHwge30pLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICB2YXIgcHJvcCA9IG9ialtuYW1lXTtcclxuICAgICAgICBpZiAodHlwZW9mIHByb3AgPT09IFwib2JqZWN0XCIgJiYgcHJvcCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBvYmpbbmFtZV0gPSBleHBvcnRzLmRlZXBGcmVlemUocHJvcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvLyBGcmVlemUgc2VsZiAobm8tb3AgaWYgYWxyZWFkeSBmcm96ZW4pXHJcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShvYmopO1xyXG59O1xyXG52YXIgb2JqZWN0UGF0aENhY2hlID0ge307XHJcbi8qKlxyXG4gKiBUYWtlIGFuIG9iamVjdCBhbmQgYSBzdHJpbmcgZGVzY3JpYmluZyBhIHBhdGggbGlrZSBcInZhbHVlLmxlbmd0aFwiIG9yIFwidmFsW2xlbmd0aF1cIiBhbmQgc2FmZWx5IGdldCB0aGF0IHZhbHVlIGluIHRoZSBvYmplY3QuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoUXVlcnlcclxuICogQHBhcmFtIHsqfSBvYmplY3RcclxuICogQHBhcmFtIHtib29sZWFufSBbaWdub3JlRmlyc3RQYXRoXVxyXG4gKiBAcmV0dXJucyB7Kn1cclxuICovXHJcbmV4cG9ydHMub2JqUXVlcnkgPSBmdW5jdGlvbiAocGF0aFF1ZXJ5LCBvYmplY3QsIGlnbm9yZUZpcnN0UGF0aCkge1xyXG4gICAgdmFyIHZhbDtcclxuICAgIHZhciBzYWZlR2V0ID0gZnVuY3Rpb24gKGdldFBhdGgsIHBhdGhJZHgsIG9iamVjdCkge1xyXG4gICAgICAgIGlmICghZ2V0UGF0aFtwYXRoSWR4XSB8fCAhb2JqZWN0KVxyXG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xyXG4gICAgICAgIHJldHVybiBzYWZlR2V0KGdldFBhdGgsIHBhdGhJZHggKyAxLCBvYmplY3RbZ2V0UGF0aFtwYXRoSWR4XV0pO1xyXG4gICAgfTtcclxuICAgIHZhciBjYWNoZUtleSA9IHBhdGhRdWVyeSArIChpZ25vcmVGaXJzdFBhdGggPyBcIjFcIiA6IFwiMFwiKTtcclxuICAgIC8vIGNhY2hlZCBwYXRoIGFycmF5cywgc2tpcHMgc3Vic2VxdWVudCBpZGVudGljYWwgcGF0aCByZXF1ZXN0cy5cclxuICAgIGlmIChvYmplY3RQYXRoQ2FjaGVbY2FjaGVLZXldKSB7XHJcbiAgICAgICAgcmV0dXJuIHNhZmVHZXQob2JqZWN0UGF0aENhY2hlW2NhY2hlS2V5XSwgMCwgb2JqZWN0KTtcclxuICAgIH1cclxuICAgIHZhciBwYXRoID0gW107XHJcbiAgICAvLyBuZWVkIHRvIHR1cm4gcGF0aCBpbnRvIGFycmF5IG9mIHN0cmluZ3MsIGllIHZhbHVlW2hleV1bdGhlcmVdLmxlbmd0aCA9PiBbdmFsdWUsIGhleSwgdGhlcmUsIGxlbmd0aF07XHJcbiAgICBwYXRoID0gcGF0aFF1ZXJ5LmluZGV4T2YoXCJbXCIpID4gLTEgP1xyXG4gICAgICAgIC8vIGhhbmRsZSBjb21wbGV4IG1peCBvZiBkb3RzIGFuZCBicmFja2V0cyBsaWtlIFwidXNlcnMudmFsdWVbbWV0YV1bdmFsdWVdLmxlbmd0aFwiXHJcbiAgICAgICAgW10uY29uY2F0LmFwcGx5KFtdLCBwYXRoUXVlcnkuc3BsaXQoXCIuXCIpLm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gdi5tYXRjaCgvKFteXFxbXSspfFxcWyhbXlxcXV0rKVxcXVxcWy9nbWkpIHx8IHY7IH0pKS5tYXAoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHYucmVwbGFjZSgvXFxbfFxcXS9nbWksIFwiXCIpOyB9KSA6XHJcbiAgICAgICAgLy8gaGFuZGxlIHNpbXBsZSBkb3QgcGF0aHMgbGlrZSBcInVzZXJzLm1ldGEudmFsdWUubGVuZ3RoXCJcclxuICAgICAgICBwYXRoUXVlcnkuc3BsaXQoXCIuXCIpO1xyXG4gICAgLy8gaGFuZGxlIGpvaW5zIHdoZXJlIGVhY2ggcm93IGlzIGRlZmluZWQgYXMgdGFibGUuY29sdW1uXHJcbiAgICBpZiAoaWdub3JlRmlyc3RQYXRoKSB7XHJcbiAgICAgICAgdmFyIGZpcnN0UGF0aCA9IHBhdGguc2hpZnQoKSArIFwiLlwiICsgcGF0aC5zaGlmdCgpO1xyXG4gICAgICAgIHBhdGgudW5zaGlmdChmaXJzdFBhdGgpO1xyXG4gICAgfVxyXG4gICAgb2JqZWN0UGF0aENhY2hlW2NhY2hlS2V5XSA9IHBhdGg7XHJcbiAgICByZXR1cm4gc2FmZUdldChvYmplY3RQYXRoQ2FjaGVbY2FjaGVLZXldLCAwLCBvYmplY3QpO1xyXG59O1xyXG4iLCJ2YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0geyB2ZXJzaW9uOiAnMi41LjUnIH07XG5pZiAodHlwZW9mIF9fZSA9PSAnbnVtYmVyJykgX19lID0gY29yZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuIiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg2I2lzc3VlY29tbWVudC0xMTU3NTkwMjhcbnZhciBnbG9iYWwgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lk1hdGggPT0gTWF0aFxuICA/IHdpbmRvdyA6IHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnICYmIHNlbGYuTWF0aCA9PSBNYXRoID8gc2VsZlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcbiAgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuaWYgKHR5cGVvZiBfX2cgPT0gJ251bWJlcicpIF9fZyA9IGdsb2JhbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuIiwiLy8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxubW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH0gfSkuYSAhPSA3O1xufSk7XG4iLCJ2YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJyk7XG52YXIgdG9QcmltaXRpdmUgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKTtcbnZhciBkUCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gZFAoTywgUCwgQXR0cmlidXRlcyk7XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuICBpZiAoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKSB0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuICBpZiAoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKSBPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcbiAgcmV0dXJuIE87XG59O1xuIiwidmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwga2V5KSB7XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGl0LCBrZXkpO1xufTtcbiIsInZhciBzdG9yZSA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCd3a3MnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuL191aWQnKTtcbnZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5TeW1ib2w7XG52YXIgVVNFX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT0gJ2Z1bmN0aW9uJztcblxudmFyICRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID1cbiAgICBVU0VfU1lNQk9MICYmIFN5bWJvbFtuYW1lXSB8fCAoVVNFX1NZTUJPTCA/IFN5bWJvbCA6IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xufTtcblxuJGV4cG9ydHMuc3RvcmUgPSBzdG9yZTtcbiIsIi8vIHRvIGluZGV4ZWQgb2JqZWN0LCB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xudmFyIElPYmplY3QgPSByZXF1aXJlKCcuL19pb2JqZWN0Jyk7XG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBJT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xufTtcbiIsInZhciBkUCA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xudmFyIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIHJldHVybiBkUC5mKG9iamVjdCwga2V5LCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG59IDogZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICByZXR1cm4gb2JqZWN0O1xufTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIGN0eCA9IHJlcXVpcmUoJy4vX2N0eCcpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG5cbnZhciAkZXhwb3J0ID0gZnVuY3Rpb24gKHR5cGUsIG5hbWUsIHNvdXJjZSkge1xuICB2YXIgSVNfRk9SQ0VEID0gdHlwZSAmICRleHBvcnQuRjtcbiAgdmFyIElTX0dMT0JBTCA9IHR5cGUgJiAkZXhwb3J0Lkc7XG4gIHZhciBJU19TVEFUSUMgPSB0eXBlICYgJGV4cG9ydC5TO1xuICB2YXIgSVNfUFJPVE8gPSB0eXBlICYgJGV4cG9ydC5QO1xuICB2YXIgSVNfQklORCA9IHR5cGUgJiAkZXhwb3J0LkI7XG4gIHZhciBJU19XUkFQID0gdHlwZSAmICRleHBvcnQuVztcbiAgdmFyIGV4cG9ydHMgPSBJU19HTE9CQUwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KTtcbiAgdmFyIGV4cFByb3RvID0gZXhwb3J0c1tQUk9UT1RZUEVdO1xuICB2YXIgdGFyZ2V0ID0gSVNfR0xPQkFMID8gZ2xvYmFsIDogSVNfU1RBVElDID8gZ2xvYmFsW25hbWVdIDogKGdsb2JhbFtuYW1lXSB8fCB7fSlbUFJPVE9UWVBFXTtcbiAgdmFyIGtleSwgb3duLCBvdXQ7XG4gIGlmIChJU19HTE9CQUwpIHNvdXJjZSA9IG5hbWU7XG4gIGZvciAoa2V5IGluIHNvdXJjZSkge1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgaWYgKG93biAmJiBoYXMoZXhwb3J0cywga2V5KSkgY29udGludWU7XG4gICAgLy8gZXhwb3J0IG5hdGl2ZSBvciBwYXNzZWRcbiAgICBvdXQgPSBvd24gPyB0YXJnZXRba2V5XSA6IHNvdXJjZVtrZXldO1xuICAgIC8vIHByZXZlbnQgZ2xvYmFsIHBvbGx1dGlvbiBmb3IgbmFtZXNwYWNlc1xuICAgIGV4cG9ydHNba2V5XSA9IElTX0dMT0JBTCAmJiB0eXBlb2YgdGFyZ2V0W2tleV0gIT0gJ2Z1bmN0aW9uJyA/IHNvdXJjZVtrZXldXG4gICAgLy8gYmluZCB0aW1lcnMgdG8gZ2xvYmFsIGZvciBjYWxsIGZyb20gZXhwb3J0IGNvbnRleHRcbiAgICA6IElTX0JJTkQgJiYgb3duID8gY3R4KG91dCwgZ2xvYmFsKVxuICAgIC8vIHdyYXAgZ2xvYmFsIGNvbnN0cnVjdG9ycyBmb3IgcHJldmVudCBjaGFuZ2UgdGhlbSBpbiBsaWJyYXJ5XG4gICAgOiBJU19XUkFQICYmIHRhcmdldFtrZXldID09IG91dCA/IChmdW5jdGlvbiAoQykge1xuICAgICAgdmFyIEYgPSBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIEMpIHtcbiAgICAgICAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIG5ldyBDKCk7XG4gICAgICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgQyhhKTtcbiAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDKGEsIGIpO1xuICAgICAgICAgIH0gcmV0dXJuIG5ldyBDKGEsIGIsIGMpO1xuICAgICAgICB9IHJldHVybiBDLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgICAgRltQUk9UT1RZUEVdID0gQ1tQUk9UT1RZUEVdO1xuICAgICAgcmV0dXJuIEY7XG4gICAgLy8gbWFrZSBzdGF0aWMgdmVyc2lvbnMgZm9yIHByb3RvdHlwZSBtZXRob2RzXG4gICAgfSkob3V0KSA6IElTX1BST1RPICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IGN0eChGdW5jdGlvbi5jYWxsLCBvdXQpIDogb3V0O1xuICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5tZXRob2RzLiVOQU1FJVxuICAgIGlmIChJU19QUk9UTykge1xuICAgICAgKGV4cG9ydHMudmlydHVhbCB8fCAoZXhwb3J0cy52aXJ0dWFsID0ge30pKVtrZXldID0gb3V0O1xuICAgICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLnByb3RvdHlwZS4lTkFNRSVcbiAgICAgIGlmICh0eXBlICYgJGV4cG9ydC5SICYmIGV4cFByb3RvICYmICFleHBQcm90b1trZXldKSBoaWRlKGV4cFByb3RvLCBrZXksIG91dCk7XG4gICAgfVxuICB9XG59O1xuLy8gdHlwZSBiaXRtYXBcbiRleHBvcnQuRiA9IDE7ICAgLy8gZm9yY2VkXG4kZXhwb3J0LkcgPSAyOyAgIC8vIGdsb2JhbFxuJGV4cG9ydC5TID0gNDsgICAvLyBzdGF0aWNcbiRleHBvcnQuUCA9IDg7ICAgLy8gcHJvdG9cbiRleHBvcnQuQiA9IDE2OyAgLy8gYmluZFxuJGV4cG9ydC5XID0gMzI7ICAvLyB3cmFwXG4kZXhwb3J0LlUgPSA2NDsgIC8vIHNhZmVcbiRleHBvcnQuUiA9IDEyODsgLy8gcmVhbCBwcm90byBtZXRob2QgZm9yIGBsaWJyYXJ5YFxubW9kdWxlLmV4cG9ydHMgPSAkZXhwb3J0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLy8gc3RvbGVuIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL09jdGFuZS9zZXRJbW1lZGlhdGVcclxuLy8gY29udmVydGQgdG8gTm9kZUpTIGZyaWVuZGx5IHN5bnRheFxyXG52YXIgdWlkID0gMDtcclxudmFyIHN0b3JhZ2UgPSB7fTtcclxudmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xyXG52YXIgbWVzc2FnZSA9ICdzZXRNc2cnO1xyXG4vLyBkZWNsYXJlIGNvbnN0IFByb21pc2U6IGFueTtcclxudmFyIGNhblNldEltbWVkaWF0ZSA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvd1tcInNldEltbWVkaWF0ZVwiXSA/IHdpbmRvd1tcInNldEltbWVkaWF0ZVwiXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsW1wic2V0SW1tZWRpYXRlXCJdID8gZ2xvYmFsW1wic2V0SW1tZWRpYXRlXCJdIDogZmFsc2U7XHJcbnZhciBjYW5Qb3N0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnBvc3RNZXNzYWdlICYmIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyO1xyXG52YXIgY2FuUHJvbWlzZSA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvd1tcIlByb21pc2VcIl0gPyB3aW5kb3dbXCJQcm9taXNlXCJdIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWxbXCJQcm9taXNlXCJdID8gZ2xvYmFsW1wiUHJvbWlzZVwiXSA6IGZhbHNlO1xyXG52YXIgZmFzdEFwcGx5ID0gZnVuY3Rpb24gKGFyZ3MpIHtcclxuICAgIHJldHVybiBhcmdzWzBdLmFwcGx5KG51bGwsIHNsaWNlLmNhbGwoYXJncywgMSkpO1xyXG59O1xyXG52YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIHZhciBrZXkgPSBldmVudC5kYXRhO1xyXG4gICAgdmFyIGRhdGE7XHJcbiAgICBpZiAodHlwZW9mIGtleSA9PSAnc3RyaW5nJyAmJiBrZXkuaW5kZXhPZihtZXNzYWdlKSA9PT0gMCkge1xyXG4gICAgICAgIGRhdGEgPSBzdG9yYWdlW2tleV07XHJcbiAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHN0b3JhZ2Vba2V5XTtcclxuICAgICAgICAgICAgZmFzdEFwcGx5KGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuaWYgKGNhblBvc3QpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgY2FsbGJhY2spO1xyXG59XHJcbnZhciBzZXRJbW1lZGlhdGVQb2x5ZmlsbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBhcmdzID0gW107XHJcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgIH1cclxuICAgIHZhciBpZCA9IHVpZCsrO1xyXG4gICAgdmFyIGtleSA9IG1lc3NhZ2UgKyBpZDtcclxuICAgIHN0b3JhZ2Vba2V5XSA9IGFyZ3M7XHJcbiAgICB3aW5kb3cucG9zdE1lc3NhZ2Uoa2V5LCAnKicpO1xyXG4gICAgcmV0dXJuIGlkO1xyXG59O1xyXG5leHBvcnRzLnNldEZhc3QgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIGNhblNldEltbWVkaWF0ZSA/IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FuU2V0SW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZmFzdEFwcGx5KGFyZ3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSA6IGNhblByb21pc2UgPyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhblByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmYXN0QXBwbHkoYXJncyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9IDogY2FuUG9zdCA/IHNldEltbWVkaWF0ZVBvbHlmaWxsIDogLy8gYnVpbHQgaW4gd2luZG93IG1lc3NhZ2luZyAocHJldHR5IGZhc3QsIG5vdCBiYWQpXHJcbiAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZmFzdEFwcGx5KGFyZ3MpO1xyXG4gICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICB9O1xyXG59KSgpO1xyXG52YXIgX0lOVEVSTkFMID0gZnVuY3Rpb24gKCkgeyB9O1xyXG52YXIgX1JFSkVDVEVEID0gWydSJ107XHJcbnZhciBfRlVMRklMTEVEID0gWydGJ107XHJcbnZhciBfUEVORElORyA9IFsnUCddO1xyXG52YXIgUHJvbWlzZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFByb21pc2UocmVzb2x2ZXIpIHtcclxuICAgICAgICB0aGlzLl9zdGF0ZSA9IF9QRU5ESU5HO1xyXG4gICAgICAgIHRoaXMuX3F1ZXVlID0gW107XHJcbiAgICAgICAgdGhpcy5fb3V0Y29tZSA9IHZvaWQgMDtcclxuICAgICAgICBpZiAocmVzb2x2ZXIgIT09IF9JTlRFUk5BTCkge1xyXG4gICAgICAgICAgICBfc2FmZWx5UmVzb2x2ZVRoZW5hYmxlKHRoaXMsIHJlc29sdmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBQcm9taXNlLmRvUG9seUZpbGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgaWYgKCFnbG9iYWxbXCJQcm9taXNlXCJdKSB7XHJcbiAgICAgICAgICAgICAgICBnbG9iYWxbXCJQcm9taXNlXCJdID0gdGhpcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICBpZiAoIXdpbmRvd1tcIlByb21pc2VcIl0pIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvd1tcIlByb21pc2VcIl0gPSB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFByb21pc2UucHJvdG90eXBlLmNhdGNoID0gZnVuY3Rpb24gKG9uUmVqZWN0ZWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uICgpIHsgfSwgb25SZWplY3RlZCk7XHJcbiAgICB9O1xyXG4gICAgUHJvbWlzZS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uIChvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygb25GdWxmaWxsZWQgIT09ICdmdW5jdGlvbicgJiYgdGhpcy5fc3RhdGUgPT09IF9GVUxGSUxMRUQgfHxcclxuICAgICAgICAgICAgdHlwZW9mIG9uUmVqZWN0ZWQgIT09ICdmdW5jdGlvbicgJiYgdGhpcy5fc3RhdGUgPT09IF9SRUpFQ1RFRCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShfSU5URVJOQUwpO1xyXG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSAhPT0gX1BFTkRJTkcpIHtcclxuICAgICAgICAgICAgdmFyIHJlc29sdmVyID0gdGhpcy5fc3RhdGUgPT09IF9GVUxGSUxMRUQgPyBvbkZ1bGZpbGxlZCA6IG9uUmVqZWN0ZWQ7XHJcbiAgICAgICAgICAgIF91bndyYXAocHJvbWlzZSwgcmVzb2x2ZXIsIHRoaXMuX291dGNvbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fcXVldWUucHVzaChuZXcgX1F1ZXVlSXRlbShwcm9taXNlLCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAc3RhdGljXHJcbiAgICAgKiBAcGFyYW0ge2FueX0gdmFsdWVcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIFByb21pc2VcclxuICAgICAqL1xyXG4gICAgUHJvbWlzZS5yZXNvbHZlID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgdGhpcylcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIHJldHVybiBfaGFuZGxlcnMuX3Jlc29sdmUobmV3IFByb21pc2UoX0lOVEVSTkFMKSwgdmFsdWUpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBzdGF0aWNcclxuICAgICAqIEBwYXJhbSB7YW55fSByZWFzb25cclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIFByb21pc2VcclxuICAgICAqL1xyXG4gICAgUHJvbWlzZS5yZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XHJcbiAgICAgICAgcmV0dXJuIF9oYW5kbGVycy5fcmVqZWN0KG5ldyBQcm9taXNlKF9JTlRFUk5BTCksIHJlYXNvbik7XHJcbiAgICB9O1xyXG4gICAgUHJvbWlzZS5hbGwgPSBmdW5jdGlvbiAoaXRlcmFibGUpIHtcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcclxuICAgICAgICAgICAgaWYgKCFpdGVyYWJsZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoW10pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBtYXliZVJldHVybiA9IGZ1bmN0aW9uIChpbmRleCwgc3VjY2VzcywgZmFpbHVyZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZhaWx1cmUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChmYWlsdXJlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChzdWNjZXNzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA9PSBpdGVyYWJsZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVyYWJsZVtpXS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG1heWJlUmV0dXJuKGksIHJlcywgdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF5YmVSZXR1cm4oaSwgdW5kZWZpbmVkLCBlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZXJhYmxlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBfbG9vcF8xKGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgUHJvbWlzZS5yYWNlID0gZnVuY3Rpb24gKGl0ZXJhYmxlKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHZhciBsZW4gPSBpdGVyYWJsZS5sZW5ndGg7XHJcbiAgICAgICAgdmFyIGNhbGxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBpID0gLTE7XHJcbiAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShfSU5URVJOQUwpO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZXJhYmxlKSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVqZWN0KG5ldyBUeXBlRXJyb3IoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmVyKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHNlbGYucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmICghY2FsbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBfaGFuZGxlcnMuX3Jlc29sdmUocHJvbWlzZSwgcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGlmICghY2FsbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBfaGFuZGxlcnMuX3JlamVjdChwcm9taXNlLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWxlbikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXNvbHZlKFtdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2hpbGUgKCsraSA8IGxlbikge1xyXG4gICAgICAgICAgICByZXNvbHZlcihpdGVyYWJsZVtpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQcm9taXNlO1xyXG59KCkpO1xyXG5leHBvcnRzLlByb21pc2UgPSBQcm9taXNlO1xyXG4vKipcclxuICogQGludGVybmFsXHJcbiAqXHJcbiAqIEBleHBvcnRcclxuICogQGNsYXNzIF9RdWV1ZUl0ZW1cclxuICovXHJcbnZhciBfUXVldWVJdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gX1F1ZXVlSXRlbShwcm9taXNlLCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xyXG4gICAgICAgIHRoaXMuX3Byb21pc2UgPSBwcm9taXNlO1xyXG4gICAgICAgIGlmICh0eXBlb2Ygb25GdWxmaWxsZWQgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgdGhpcy5fb25GdWxmaWxsZWQgPSBvbkZ1bGZpbGxlZDtcclxuICAgICAgICAgICAgdGhpcy5fY2FsbEZ1bGZpbGxlZCA9IHRoaXMuX290aGVyQ2FsbEZ1bGZpbGxlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvblJlamVjdGVkID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX29uUmVqZWN0ZWQgPSBvblJlamVjdGVkO1xyXG4gICAgICAgICAgICB0aGlzLl9jYWxsUmVqZWN0ZWQgPSB0aGlzLl9vdGhlckNhbGxSZWplY3RlZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfUXVldWVJdGVtLnByb3RvdHlwZS5fY2FsbEZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIF9oYW5kbGVycy5fcmVzb2x2ZSh0aGlzLl9wcm9taXNlLCB2YWx1ZSk7XHJcbiAgICB9O1xyXG4gICAgO1xyXG4gICAgX1F1ZXVlSXRlbS5wcm90b3R5cGUuX290aGVyQ2FsbEZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIF91bndyYXAodGhpcy5fcHJvbWlzZSwgdGhpcy5fb25GdWxmaWxsZWQsIHZhbHVlKTtcclxuICAgIH07XHJcbiAgICA7XHJcbiAgICBfUXVldWVJdGVtLnByb3RvdHlwZS5fY2FsbFJlamVjdGVkID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgX2hhbmRsZXJzLl9yZWplY3QodGhpcy5fcHJvbWlzZSwgdmFsdWUpO1xyXG4gICAgfTtcclxuICAgIDtcclxuICAgIF9RdWV1ZUl0ZW0ucHJvdG90eXBlLl9vdGhlckNhbGxSZWplY3RlZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIF91bndyYXAodGhpcy5fcHJvbWlzZSwgdGhpcy5fb25SZWplY3RlZCwgdmFsdWUpO1xyXG4gICAgfTtcclxuICAgIDtcclxuICAgIHJldHVybiBfUXVldWVJdGVtO1xyXG59KCkpO1xyXG5leHBvcnRzLl9RdWV1ZUl0ZW0gPSBfUXVldWVJdGVtO1xyXG4vKipcclxuICpcclxuICogQGludGVybmFsXHJcbiAqIEBwYXJhbSB7YW55fSBwcm9taXNlXHJcbiAqIEBwYXJhbSB7YW55fSBmdW5jXHJcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxyXG4gKi9cclxuZnVuY3Rpb24gX3Vud3JhcChwcm9taXNlLCBmdW5jLCB2YWx1ZSkge1xyXG4gICAgZXhwb3J0cy5zZXRGYXN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcmV0dXJuVmFsdWU7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBmdW5jLmFwcGx5KG51bGwsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9oYW5kbGVycy5fcmVqZWN0KHByb21pc2UsIGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmV0dXJuVmFsdWUgPT09IHByb21pc2UpIHtcclxuICAgICAgICAgICAgX2hhbmRsZXJzLl9yZWplY3QocHJvbWlzZSwgbmV3IFR5cGVFcnJvcigpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIF9oYW5kbGVycy5fcmVzb2x2ZShwcm9taXNlLCByZXR1cm5WYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKiBAY2xhc3MgX2hhbmRsZXJzXHJcbiAqL1xyXG52YXIgX2hhbmRsZXJzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gX2hhbmRsZXJzKCkge1xyXG4gICAgfVxyXG4gICAgX2hhbmRsZXJzLl9yZXNvbHZlID0gZnVuY3Rpb24gKHNlbGYsIHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IF90cnlDYXRjaChfZ2V0VGhlbiwgdmFsdWUpO1xyXG4gICAgICAgIHZhciB0aGVuYWJsZSA9IHJlc3VsdC5fdmFsdWU7XHJcbiAgICAgICAgdmFyIGkgPSAtMTtcclxuICAgICAgICB2YXIgbGVuID0gc2VsZi5fcXVldWUubGVuZ3RoO1xyXG4gICAgICAgIGlmIChyZXN1bHQuX3N0YXR1cyA9PT0gJ2Vycm9yJykge1xyXG4gICAgICAgICAgICByZXR1cm4gX2hhbmRsZXJzLl9yZWplY3Qoc2VsZiwgcmVzdWx0Ll92YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGVuYWJsZSkge1xyXG4gICAgICAgICAgICBfc2FmZWx5UmVzb2x2ZVRoZW5hYmxlKHNlbGYsIHRoZW5hYmxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYuX3N0YXRlID0gX0ZVTEZJTExFRDtcclxuICAgICAgICAgICAgc2VsZi5fb3V0Y29tZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB3aGlsZSAoKytpIDwgbGVuKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLl9xdWV1ZVtpXS5fY2FsbEZ1bGZpbGxlZCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9O1xyXG4gICAgO1xyXG4gICAgX2hhbmRsZXJzLl9yZWplY3QgPSBmdW5jdGlvbiAoc2VsZiwgZXJyb3IpIHtcclxuICAgICAgICBzZWxmLl9zdGF0ZSA9IF9SRUpFQ1RFRDtcclxuICAgICAgICBzZWxmLl9vdXRjb21lID0gZXJyb3I7XHJcbiAgICAgICAgdmFyIGkgPSAtMTtcclxuICAgICAgICB2YXIgbGVuID0gc2VsZi5fcXVldWUubGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlICgrK2kgPCBsZW4pIHtcclxuICAgICAgICAgICAgc2VsZi5fcXVldWVbaV0uX2NhbGxSZWplY3RlZChlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfTtcclxuICAgIDtcclxuICAgIHJldHVybiBfaGFuZGxlcnM7XHJcbn0oKSk7XHJcbi8qKlxyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICogQHBhcmFtIHthbnl9IG9ialxyXG4gKiBAcmV0dXJuc1xyXG4gKi9cclxuZnVuY3Rpb24gX2dldFRoZW4ob2JqKSB7XHJcbiAgICAvLyBNYWtlIHN1cmUgd2Ugb25seSBhY2Nlc3MgdGhlIGFjY2Vzc29yIG9uY2UgYXMgcmVxdWlyZWQgYnkgdGhlIHNwZWNcclxuICAgIHZhciB0aGVuID0gb2JqICYmIG9iai50aGVuO1xyXG4gICAgaWYgKG9iaiAmJiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykgJiYgdHlwZW9mIHRoZW4gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gYXBweVRoZW4oKSB7XHJcbiAgICAgICAgICAgIHRoZW4uYXBwbHkob2JqLCBhcmd1bWVudHMpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICpcclxuICogQGludGVybmFsXHJcbiAqIEBwYXJhbSB7UHJvbWlzZTxhbnk+fSBzZWxmXHJcbiAqIEBwYXJhbSB7KG9uU3VjY2VzczooLi4uVCkgPT4gdm9pZCwgb25GYWlsOiguLi5UKSA9PiB2b2lkKSA9PiB2b2lkfSB0aGVuYWJsZVxyXG4gKi9cclxuZnVuY3Rpb24gX3NhZmVseVJlc29sdmVUaGVuYWJsZShzZWxmLCB0aGVuYWJsZSkge1xyXG4gICAgLy8gRWl0aGVyIGZ1bGZpbGwsIHJlamVjdCBvciByZWplY3Qgd2l0aCBlcnJvclxyXG4gICAgdmFyIGNhbGxlZCA9IGZhbHNlO1xyXG4gICAgZnVuY3Rpb24gb25FcnJvcigpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YWx1ZVtfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2FsbGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FsbGVkID0gdHJ1ZTtcclxuICAgICAgICBfaGFuZGxlcnMuX3JlamVjdChzZWxmLCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBvblN1Y2Nlc3MoKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFsdWVbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNhbGxlZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhbGxlZCA9IHRydWU7XHJcbiAgICAgICAgX2hhbmRsZXJzLl9yZXNvbHZlKHNlbGYsIHZhbHVlKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHRyeVRvVW53cmFwKCkge1xyXG4gICAgICAgIHRoZW5hYmxlKG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICB9XHJcbiAgICB2YXIgcmVzdWx0ID0gX3RyeUNhdGNoKHRyeVRvVW53cmFwKTtcclxuICAgIGlmIChyZXN1bHQuX3N0YXR1cyA9PT0gJ2Vycm9yJykge1xyXG4gICAgICAgIG9uRXJyb3IocmVzdWx0Ll92YWx1ZSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKiBAcGFyYW0ge2FueX0gZnVuY1xyXG4gKiBAcGFyYW0geyp9IFt2YWx1ZXNdXHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG5mdW5jdGlvbiBfdHJ5Q2F0Y2goZnVuYywgdmFsdWVzKSB7XHJcbiAgICB2YXIgb3V0ID0geyBfc3RhdHVzOiBudWxsLCBfdmFsdWU6IG51bGwgfTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgb3V0Ll92YWx1ZSA9IGZ1bmModmFsdWVzKTtcclxuICAgICAgICBvdXQuX3N0YXR1cyA9ICdzdWNjZXNzJztcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgb3V0Ll9zdGF0dXMgPSAnZXJyb3InO1xyXG4gICAgICAgIG91dC5fdmFsdWUgPSBlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dDtcclxufVxyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChleGVjKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZXhlYygpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG4iLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmICghaXNPYmplY3QoaXQpKSB0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG4gIHJldHVybiBpdDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGJpdG1hcCwgdmFsdWUpIHtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlOiAhKGJpdG1hcCAmIDEpLFxuICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcbiAgICB3cml0YWJsZTogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZTogdmFsdWVcbiAgfTtcbn07XG4iLCJ2YXIgaWQgPSAwO1xudmFyIHB4ID0gTWF0aC5yYW5kb20oKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xufTtcbiIsIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHV0aWxpdGllc18xID0gcmVxdWlyZShcIi4uL3V0aWxpdGllc1wiKTtcclxuLyoqXHJcbiAqIE9wdGltaXplZCBpbiBtZW1vcnkgaW5kZXggdXNlZCBmb3IgZWFjaCB0YWJsZS5cclxuICogRXZlbiBpZiB5b3UncmUgbm90IHVzaW5nIGF1dG8gaW5jcmltZW50LCB0aGUgaW5kZXggd2lsbCBnYXVyYW50ZWUgdG8gbWFpbnRhaW4gYSBzb3J0ZWQgb3JkZXIgb2Yga2V5cy5cclxuICogRXhjaGFuZ2VzIGEgcmVkdWNlZCB3cml0ZSBwZXJmb3JtYW5jZSBmb3IgaW5jcmVhc2VkIHJlYWQgcGVyZm9ybWFuY2UuXHJcbiAqXHJcbiAqIEBleHBvcnRcclxuICogQGNsYXNzIERhdGFiYXNlSW5kZXhcclxuICovXHJcbnZhciBEYXRhYmFzZUluZGV4ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRGF0YWJhc2VJbmRleCgpIHtcclxuICAgICAgICB0aGlzLl9zb3J0ZWQgPSBbXTtcclxuICAgICAgICB0aGlzLl9pbmRleE9mID0ge307XHJcbiAgICAgICAgdGhpcy5haSA9IDE7XHJcbiAgICAgICAgdGhpcy5kb0FJID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBEYXRhYmFzZUluZGV4LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuX3NvcnRlZCA9IGluZGV4IHx8IFtdO1xyXG4gICAgICAgIHRoaXMuX2luZGV4T2YgPSB7fTtcclxuICAgICAgICB0aGlzLl9zb3J0ZWQuZm9yRWFjaChmdW5jdGlvbiAocywgaSkge1xyXG4gICAgICAgICAgICBfdGhpcy5faW5kZXhPZltTdHJpbmcocyldID0gaTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5kb0FJICYmIHRoaXMuX3NvcnRlZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIGwgPSB0aGlzLl9zb3J0ZWQubGVuZ3RoO1xyXG4gICAgICAgICAgICB0aGlzLmFpID0gdGhpcy5fc29ydGVkW2wgLSAxXSArIDE7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIERhdGFiYXNlSW5kZXgucHJvdG90eXBlLmdldExvY2F0aW9uID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHZhciBpZHggPSB0aGlzLmluZGV4T2Yoa2V5KTtcclxuICAgICAgICBpZiAoaWR4ICE9PSAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaWR4O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdXRpbGl0aWVzXzEuYmluYXJ5U2VhcmNoKHRoaXMuX3NvcnRlZCwga2V5KTtcclxuICAgIH07XHJcbiAgICBEYXRhYmFzZUluZGV4LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmRvQUkpIHtcclxuICAgICAgICAgICAgdmFyIGlkeCA9IHV0aWxpdGllc18xLmJpbmFyeVNlYXJjaCh0aGlzLl9zb3J0ZWQsIGtleSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NvcnRlZC5zcGxpY2UoaWR4LCAwLCBrZXkpO1xyXG4gICAgICAgICAgICB0aGlzLl9pbmRleE9mW1N0cmluZyhrZXkpXSA9IGlkeDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGlkeCArIDE7IGkgPCB0aGlzLl9zb3J0ZWQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4T2ZbU3RyaW5nKHRoaXMuX3NvcnRlZFtpXSldKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChwYXJzZUludChrZXkpID49IHRoaXMuYWkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWkrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9pbmRleE9mW1N0cmluZyhrZXkpXSA9IHRoaXMuX3NvcnRlZC5sZW5ndGg7XHJcbiAgICAgICAgICAgIHRoaXMuX3NvcnRlZC5wdXNoKGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIERhdGFiYXNlSW5kZXgucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NvcnRlZDtcclxuICAgIH07XHJcbiAgICBEYXRhYmFzZUluZGV4LnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRleE9mW1N0cmluZyhrZXkpXSAhPT0gdW5kZWZpbmVkID8gdGhpcy5faW5kZXhPZltTdHJpbmcoa2V5KV0gOiAtMTtcclxuICAgIH07XHJcbiAgICBEYXRhYmFzZUluZGV4LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgdmFyIGlkeCA9IHRoaXMuX2luZGV4T2ZbU3RyaW5nKGtleSldO1xyXG4gICAgICAgIGlmIChpZHggIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5faW5kZXhPZltTdHJpbmcoa2V5KV07XHJcbiAgICAgICAgICAgIHRoaXMuX3NvcnRlZC5zcGxpY2UoaWR4LCAxKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGlkeDsgaSA8IHRoaXMuX3NvcnRlZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faW5kZXhPZltTdHJpbmcodGhpcy5fc29ydGVkW2ldKV0tLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gRGF0YWJhc2VJbmRleDtcclxufSgpKTtcclxuZXhwb3J0cy5EYXRhYmFzZUluZGV4ID0gRGF0YWJhc2VJbmRleDtcclxuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XHJcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcclxuICAgICAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgbGllX3RzXzEgPSByZXF1aXJlKFwibGllLXRzXCIpO1xyXG52YXIgc3RkX3F1ZXJ5XzEgPSByZXF1aXJlKFwiLi9xdWVyeS9zdGQtcXVlcnlcIik7XHJcbnZhciB0cmFuc2FjdGlvbl8xID0gcmVxdWlyZShcIi4vcXVlcnkvdHJhbnNhY3Rpb25cIik7XHJcbnZhciByZWFsbHlfc21hbGxfZXZlbnRzXzEgPSByZXF1aXJlKFwicmVhbGx5LXNtYWxsLWV2ZW50c1wiKTtcclxudmFyIHV0aWxpdGllc18xID0gcmVxdWlyZShcIi4vdXRpbGl0aWVzXCIpO1xyXG52YXIgaW5kZXhfMSA9IHJlcXVpcmUoXCIuL2RhdGFiYXNlL2luZGV4XCIpO1xyXG52YXIgaGlzdG9yeV9wbHVnaW5fMSA9IHJlcXVpcmUoXCIuL2hpc3RvcnktcGx1Z2luXCIpO1xyXG52YXIgVkVSU0lPTiA9IDEuNDE7XHJcbi8vIHVnbGlmeUpTIGZpeFxyXG52YXIgc3RyID0gW1wiX3V0aWxcIl07XHJcbi8qKlxyXG4gKiBUaGUgcHJpbWFyeSBhYnN0cmFjdGlvbiBjbGFzcywgdGhlcmUgaXMgbm8gZGF0YWJhc2UgaW1wbGltaW50YXRpb24gY29kZSBoZXJlLlxyXG4gKiBKdXN0IGV2ZW50cywgcXVyaWVzIGFuZCBmaWx0ZXJzLlxyXG4gKlxyXG4gKiBAZXhwb3J0XHJcbiAqIEBjbGFzcyBOYW5vU1FMSW5zdGFuY2VcclxuICovXHJcbnZhciBOYW5vU1FMSW5zdGFuY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBOYW5vU1FMSW5zdGFuY2UoKSB7XHJcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gVkVSU0lPTjtcclxuICAgICAgICB0aGlzLl9vbkNvbm5lY3RlZENhbGxCYWNrcyA9IFtdO1xyXG4gICAgICAgIHZhciB0ID0gdGhpcztcclxuICAgICAgICB0Ll9hY3Rpb25zID0ge307XHJcbiAgICAgICAgdC5fdmlld3MgPSB7fTtcclxuICAgICAgICB0LmRhdGFNb2RlbHMgPSB7fTtcclxuICAgICAgICB0Ll9ldmVudHMgPSBbXCIqXCIsIFwiY2hhbmdlXCIsIFwiZGVsZXRlXCIsIFwidXBzZXJ0XCIsIFwiZHJvcFwiLCBcInNlbGVjdFwiLCBcImVycm9yXCJdO1xyXG4gICAgICAgIHQuX2hhc0V2ZW50cyA9IHt9O1xyXG4gICAgICAgIHQudGFibGVOYW1lcyA9IFtdO1xyXG4gICAgICAgIHQucGx1Z2lucyA9IFtdO1xyXG4gICAgICAgIHQuaGFzUEsgPSB7fTtcclxuICAgICAgICB0LnNraXBQdXJnZSA9IHt9O1xyXG4gICAgICAgIHQudG9Sb3dGbnMgPSB7fTtcclxuICAgICAgICB0LnRhYmxlUEtzID0ge307XHJcbiAgICAgICAgdC50b0NvbEZucyA9IHt9O1xyXG4gICAgICAgIHQudG9Db2xSdWxlcyA9IHt9O1xyXG4gICAgICAgIHQuX3JhbmRvbXMgPSBbXTtcclxuICAgICAgICAvLyB0Ll9xdWVyeVBvb2wgPSBbXTtcclxuICAgICAgICAvLyB0Ll9xdWVyeVB0ciA9IDA7XHJcbiAgICAgICAgdC5fcmFuZG9tUHRyID0gMDtcclxuICAgICAgICB0Lmhhc0FueUV2ZW50cyA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjAwOyBpKyspIHtcclxuICAgICAgICAgICAgdC5fcmFuZG9tcy5wdXNoKHV0aWxpdGllc18xLnJhbmRvbTE2Qml0cygpLnRvU3RyaW5nKDE2KSk7XHJcbiAgICAgICAgICAgIC8vIHQuX3F1ZXJ5UG9vbC5wdXNoKG5ldyBfTmFub1NRTFF1ZXJ5KHQpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdC5fY2FsbGJhY2tzID0ge307XHJcbiAgICAgICAgdC5fY2FsbGJhY2tzW1wiKlwiXSA9IG5ldyByZWFsbHlfc21hbGxfZXZlbnRzXzEuUmVhbGx5U21hbGxFdmVudHMoKTtcclxuICAgICAgICB0LmlCID0gbmV3IGluZGV4XzEuTmFub1NRTERlZmF1bHRCYWNrZW5kKCk7XHJcbiAgICAgICAgdmFyIGluc3RhbmNlQ29ubmVjdEFyZ3MgPSB7XHJcbiAgICAgICAgICAgIG1vZGVsczoge30sXHJcbiAgICAgICAgICAgIGFjdGlvbnM6IHt9LFxyXG4gICAgICAgICAgICB2aWV3czoge30sXHJcbiAgICAgICAgICAgIGNvbmZpZzoge30sXHJcbiAgICAgICAgICAgIHBhcmVudDogdGhpc1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHQuaUIud2lsbENvbm5lY3QpIHtcclxuICAgICAgICAgICAgdC5pQi53aWxsQ29ubmVjdChpbnN0YW5jZUNvbm5lY3RBcmdzLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodC5pQi5kaWRDb25uZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdC5pQi5kaWRDb25uZWN0KGluc3RhbmNlQ29ubmVjdEFyZ3MsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS50b0NvbHVtbiA9IGZ1bmN0aW9uIChjb2x1bW5GbnMpIHtcclxuICAgICAgICBpZiAoIXRoaXMudG9Db2xGbnNbdGhpcy5zVGFibGVdKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9Db2xGbnNbdGhpcy5zVGFibGVdID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudG9Db2xGbnNbdGhpcy5zVGFibGVdID0gY29sdW1uRm5zO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUudG9Sb3cgPSBmdW5jdGlvbiAoY29sdW1uRm5zKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnRvUm93Rm5zW3RoaXMuc1RhYmxlXSkge1xyXG4gICAgICAgICAgICB0aGlzLnRvUm93Rm5zW3RoaXMuc1RhYmxlXSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRvUm93Rm5zW3RoaXMuc1RhYmxlXSA9IGNvbHVtbkZucztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIG5hbm9TUUwgZ2VuZXJhdGVzIDUwIHJhbmRvbSAxNiBiaXQgc3RyaW5ncyBvbiBldmVyeSBsYXVuY2guXHJcbiAgICAgKiBJZiB5b3UgZG9uJ3QgbmVlZCB0cnVlIHJhbmRvbW5lc3MgeW91IGNhbiB1c2UgdGhpcyBmdW5jdGlvbiB0byBnZXQgYSBwc3Vkb3JhbmRvbSAxNiBiaXQgc3RyaW5nLlxyXG4gICAgICogUGVyZm9ybWFuY2UgaXMgb3JkZXJzIG9mIGEgbWFnbml0dWRlIGZhc3RlciBzaW5jZSBubyByYW5kb20gbnVtYmVyIGdlbmVyYXRvciBpcyBuZWVkZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqIEBtZW1iZXJvZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5mYXN0UmFuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLl9yYW5kb21QdHIrKztcclxuICAgICAgICBpZiAodGhpcy5fcmFuZG9tUHRyID49IHRoaXMuX3JhbmRvbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JhbmRvbVB0ciA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9yYW5kb21zW3RoaXMuX3JhbmRvbVB0cl07XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGFuZ2VzIHRoZSB0YWJsZSBwb2ludGVyIHRvIGEgbmV3IHRhYmxlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFibGVdXHJcbiAgICAgKiBAcmV0dXJucyB7TmFub1NRTEluc3RhbmNlfVxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJPZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS50YWJsZSA9IGZ1bmN0aW9uICh0YWJsZSkge1xyXG4gICAgICAgIGlmICh0YWJsZSlcclxuICAgICAgICAgICAgdGhpcy5zVGFibGUgPSB0YWJsZTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEluaXRzIHRoZSBiYWNrZW5kIGRhdGFiYXNlIGZvciB1c2UuXHJcbiAgICAgKlxyXG4gICAgICogT3B0aW9uYWxseSBpbmNsdWRlIGEgY3VzdG9tIGRhdGFiYXNlIGRyaXZlciwgb3RoZXJ3aXNlIHRoZSBidWlsdCBpbiBtZW1vcnkgZHJpdmVyIHdpbGwgYmUgdXNlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge05hbm9TUUxCYWNrZW5kfSBbYmFja2VuZF1cclxuICAgICAqIEByZXR1cm5zIHsoUHJvbWlzZTxPYmplY3QgfCBzdHJpbmc+KX1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciB0ID0gdGhpcztcclxuICAgICAgICByZXR1cm4gbmV3IHV0aWxpdGllc18xLlByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XHJcbiAgICAgICAgICAgIHZhciBjb25uZWN0QXJncyA9IHtcclxuICAgICAgICAgICAgICAgIG1vZGVsczogdC5kYXRhTW9kZWxzLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uczogdC5fYWN0aW9ucyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB0Ll92aWV3cyxcclxuICAgICAgICAgICAgICAgIGNvbmZpZzogdC5fY29uZmlnLFxyXG4gICAgICAgICAgICAgICAgcGFyZW50OiBfdGhpcyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY29ubmVjdEFyZ3MubW9kZWxzW3N0clswXV0gPSBbXHJcbiAgICAgICAgICAgICAgICB7IGtleTogXCJrZXlcIiwgdHlwZTogXCJzdHJpbmdcIiwgcHJvcHM6IFtcInBrKClcIiwgXCJhaSgpXCJdIH0sXHJcbiAgICAgICAgICAgICAgICB7IGtleTogXCJ2YWx1ZVwiLCB0eXBlOiBcImFueVwiIH1cclxuICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgLy8gaWYgaGlzdG9yeSBpcyBlbmFibGVkLCB0dXJuIG9uIHRoZSBidWlsdCBpbiBoaXN0b3J5IHBsdWdpblxyXG4gICAgICAgICAgICBpZiAodC5fY29uZmlnICYmIHQuX2NvbmZpZy5oaXN0b3J5KSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy51c2UobmV3IGhpc3RvcnlfcGx1Z2luXzEuX05hbm9TUUxIaXN0b3J5UGx1Z2luKHQuX2NvbmZpZy5oaXN0b3J5TW9kZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBkYiBtb2RlIGlzIG5vdCBzZXQgdG8gZGlzYWJsZSwgYWRkIGRlZmF1bHQgc3RvcmUgdG8gdGhlIGVuZCBvZiB0aGUgcGx1Z2luIGNoYWluXHJcbiAgICAgICAgICAgIGlmICghdC5fY29uZmlnIHx8IHQuX2NvbmZpZy5tb2RlICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudXNlKG5ldyBpbmRleF8xLk5hbm9TUUxEZWZhdWx0QmFja2VuZCgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0Q0hBSU4oX3RoaXMucGx1Z2lucywgZnVuY3Rpb24gKHAsIGksIG5leHRQKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocC53aWxsQ29ubmVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHAud2lsbENvbm5lY3QoY29ubmVjdEFyZ3MsIGZ1bmN0aW9uIChuZXdBcmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3RBcmdzID0gbmV3QXJncztcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFAoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRQKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZGF0YU1vZGVscyA9IGNvbm5lY3RBcmdzLm1vZGVscztcclxuICAgICAgICAgICAgICAgIF90aGlzLl9hY3Rpb25zID0gY29ubmVjdEFyZ3MuYWN0aW9ucztcclxuICAgICAgICAgICAgICAgIF90aGlzLl92aWV3cyA9IGNvbm5lY3RBcmdzLnZpZXdzO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX2NvbmZpZyA9IGNvbm5lY3RBcmdzLmNvbmZpZztcclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKF90aGlzLmRhdGFNb2RlbHMpLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhc1dpbGQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kYXRhTW9kZWxzW3RhYmxlXSA9IF90aGlzLmRhdGFNb2RlbHNbdGFibGVdLmZpbHRlcihmdW5jdGlvbiAobW9kZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVsLmtleSA9PT0gXCIqXCIgJiYgbW9kZWwudHlwZSA9PT0gXCIqXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc1dpbGQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNraXBQdXJnZVt0YWJsZV0gPSBoYXNXaWxkO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwbHVnaW4uZGlkRXhlYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wbHVnaW5IYXNEaWRFeGVjID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHQudGFibGVOYW1lcyA9IE9iamVjdC5rZXlzKF90aGlzLmRhdGFNb2RlbHMpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbXBsZXRlQ29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKF90aGlzLnBsdWdpbnMsIGZ1bmN0aW9uIChwLCBpLCBuZXh0UCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocC5kaWRDb25uZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwLmRpZENvbm5lY3QoY29ubmVjdEFyZ3MsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0UCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0UCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmlzQ29ubmVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl9vbkNvbm5lY3RlZENhbGxCYWNrcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9vbkNvbm5lY3RlZENhbGxCYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjYikgeyByZXR1cm4gY2IoKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzKHQudGFibGVOYW1lcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdmFyIHVwZGF0ZVZlcnNpb24gPSBmdW5jdGlvbiAocmVidWlsZElEWCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnF1ZXJ5KFwidXBzZXJ0XCIsIHsga2V5OiBcInZlcnNpb25cIiwgdmFsdWU6IF90aGlzLnZlcnNpb24gfSkubWFudWFsRXhlYyh7IHRhYmxlOiBcIl91dGlsXCIgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWJ1aWxkSURYKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5leHRlbmQoXCJyZWJ1aWxkX2lkeFwiKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZUNvbm5lY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVDb25uZWN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5xdWVyeShcInNlbGVjdFwiKS53aGVyZShbXCJrZXlcIiwgXCI9XCIsIFwidmVyc2lvblwiXSkubWFudWFsRXhlYyh7IHRhYmxlOiBcIl91dGlsXCIgfSkudGhlbihmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmV3IGRhdGFiYXNlIG9yIGFuIG9sZCBvbmUgdGhhdCBuZWVkcyBpbmRleGVzIHJlYnVpbHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlVmVyc2lvbih0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyb3dzWzBdLnZhbHVlIDw9IDEuMjEpIHsgLy8gc2Vjb25kYXJ5IGluZGV4ZXMgbmVlZCB0byBiZSByZWJ1aWx0IGFmdGVyIDEuMjFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVZlcnNpb24odHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocm93c1swXS52YWx1ZSA8IFZFUlNJT04pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVZlcnNpb24oZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVDb25uZWN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYWxsIGFjdGlvbnMgZm9yIGEgZ2l2ZW4gdGFibGVcclxuICAgICAqID1cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZVxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqIEBtZW1iZXJvZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5nZXRBY3Rpb25zID0gZnVuY3Rpb24gKHRhYmxlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGlvbnNbdGFibGVdLm1hcChmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogYS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgYXJnczogYS5hcmdzXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYWxsIHZpZXdzIGZvciBhIGdpdmVuIHRhYmxlXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICogQG1lbWJlcm9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLmdldFZpZXdzID0gZnVuY3Rpb24gKHRhYmxlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZpZXdzW3RhYmxlXS5tYXAoZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IGEubmFtZSxcclxuICAgICAgICAgICAgICAgIGFyZ3M6IGEuYXJnc1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR3JhYiBhIGNvcHkgb2YgdGhlIGRhdGFiYXNlIGNvbmZpZyBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqIEBtZW1iZXJvZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5nZXRDb25maWcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgYWN0aW9uL3ZpZXcgZmlsdGVyIGZ1bmN0aW9uLiAgQ2FsbGVkICpiZWZvcmUqIHRoZSBhY3Rpb24vdmlldyBpcyBzZW50IHRvIHRoZSBkYXRhc3RvcmVcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0lBY3Rpb25WaWV3TW9kfSBmaWx0ZXJGdW5jXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJPZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5hdkZpbHRlciA9IGZ1bmN0aW9uIChmaWx0ZXJGdW5jKSB7XHJcbiAgICAgICAgdGhpcy5fQVZNb2QgPSBmaWx0ZXJGdW5jO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUudXNlID0gZnVuY3Rpb24gKHBsdWdpbikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsdWdpbnMucHVzaChwbHVnaW4pLCB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciB0byB0aGUgc2VsZWN0ZWQgZGF0YWJhc2UgdGFibGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsoXCJjaGFuZ2VcInxcImRlbGV0ZVwifFwidXBzZXJ0XCJ8XCJkcm9wXCJ8XCJzZWxlY3RcInxcImVycm9yXCIpfSBhY3Rpb25zXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsQmFja1xyXG4gICAgICogQHJldHVybnMge05hbm9TUUxJbnN0YW5jZX1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAoYWN0aW9ucywgY2FsbEJhY2spIHtcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGwgPSB0LnNUYWJsZTtcclxuICAgICAgICB2YXIgaSA9IHQuX2V2ZW50cy5sZW5ndGg7XHJcbiAgICAgICAgdmFyIGEgPSBhY3Rpb25zLnNwbGl0KFwiIFwiKTtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsKSlcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgaWYgKCF0Ll9jYWxsYmFja3NbbF0pIHsgLy8gSGFuZGxlIHRoZSBldmVudCBoYW5kbGVyIGJlaW5nIGNhbGxlZCBiZWZvcmUgdGhlIGRhdGFiYXNlIGhhcyBjb25uZWN0ZWRcclxuICAgICAgICAgICAgdC5fY2FsbGJhY2tzW2xdID0gbmV3IHJlYWxseV9zbWFsbF9ldmVudHNfMS5SZWFsbHlTbWFsbEV2ZW50cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpID0gYS5sZW5ndGg7XHJcbiAgICAgICAgd2hpbGUgKGktLSkge1xyXG4gICAgICAgICAgICBpZiAodC5fZXZlbnRzLmluZGV4T2YoYVtpXSkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0Ll9jYWxsYmFja3NbbF0ub24oYVtpXSwgY2FsbEJhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0Ll9yZWZyZXNoRXZlbnRDaGVja2VyKCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgYSBzcGVjaWZpYyBldmVudCBoYW5kbGVyIGZyb20gYmVpbmcgdHJpZ2dlcmVkIGFueW1vcmUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbEJhY2tcclxuICAgICAqIEByZXR1cm5zIHtOYW5vU1FMSW5zdGFuY2V9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uIChhY3Rpb25zLCBjYWxsQmFjaykge1xyXG4gICAgICAgIHZhciB0ID0gdGhpcztcclxuICAgICAgICB2YXIgYSA9IGFjdGlvbnMuc3BsaXQoXCIgXCIpO1xyXG4gICAgICAgIHZhciBpID0gYS5sZW5ndGg7XHJcbiAgICAgICAgdmFyIGwgPSB0LnNUYWJsZTtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsKSlcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgd2hpbGUgKGktLSkge1xyXG4gICAgICAgICAgICBpZiAodC5fZXZlbnRzLmluZGV4T2YoYVtpXSkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0Ll9jYWxsYmFja3NbbF0ub2ZmKGFbaV0sIGNhbGxCYWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdC5fcmVmcmVzaEV2ZW50Q2hlY2tlcigpO1xyXG4gICAgfTtcclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUuX3JlZnJlc2hFdmVudENoZWNrZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLl9oYXNFdmVudHMgPSB7fTtcclxuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9jYWxsYmFja3MpLmNvbmNhdChbXCIqXCJdKS5mb3JFYWNoKGZ1bmN0aW9uICh0YWJsZSkge1xyXG4gICAgICAgICAgICBfdGhpcy5faGFzRXZlbnRzW3RhYmxlXSA9IF90aGlzLl9ldmVudHMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2ICsgKF90aGlzLl9jYWxsYmFja3NbdGFibGVdICYmIF90aGlzLl9jYWxsYmFja3NbdGFibGVdLmV2ZW50TGlzdGVuZXJzW2N1cl0gPyBfdGhpcy5fY2FsbGJhY2tzW3RhYmxlXS5ldmVudExpc3RlbmVyc1tjdXJdLmxlbmd0aCA6IDApO1xyXG4gICAgICAgICAgICB9LCAwKSA+IDA7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5oYXNBbnlFdmVudHMgPSBmYWxzZTtcclxuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9oYXNFdmVudHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICBfdGhpcy5oYXNBbnlFdmVudHMgPSBfdGhpcy5oYXNBbnlFdmVudHMgfHwgX3RoaXMuX2hhc0V2ZW50c1trZXldO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGVjbGFyZSB0aGUgZGF0YSBtb2RlbCBmb3IgdGhlIGN1cnJlbnQgc2VsZWN0ZWQgdGFibGUuXHJcbiAgICAgKlxyXG4gICAgICogUGxlYXNlIHJlZmVyZW5jZSB0aGUgRGF0YU1vZGVsIGludGVyZmFjZSBmb3IgaG93IHRvIGltcGxpbWVudCB0aGlzLCBhIHF1aWNrIGV4YW1wbGU6XHJcbiAgICAgKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqIC5tb2RlbChbXHJcbiAgICAgKiAge2tleTpcImlkXCIsdHlwZTpcImludFwiLHByb3BzOltcImFpXCIsXCJwa1wiXX0gLy9hdXRvIGluY3JpbWVudCBhbmQgcHJpbWFyeSBrZXlcclxuICAgICAqICB7a2V5OlwibmFtZVwiLHR5cGU6XCJzdHJpbmdcIn1cclxuICAgICAqIF0pXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5PERhdGFNb2RlbD59IGRhdGFNb2RlbFxyXG4gICAgICogQHJldHVybnMge05hbm9TUUxJbnN0YW5jZX1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUubW9kZWwgPSBmdW5jdGlvbiAoZGF0YU1vZGVsLCBwcm9wcywgaWdub3JlU2FuaXR5Q2hlY2spIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciB0ID0gdGhpcztcclxuICAgICAgICB2YXIgbCA9IHQuc1RhYmxlO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGwpKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICBpZiAoIXQuX2NhbGxiYWNrc1tsXSkge1xyXG4gICAgICAgICAgICB0Ll9jYWxsYmFja3NbbF0gPSBuZXcgcmVhbGx5X3NtYWxsX2V2ZW50c18xLlJlYWxseVNtYWxsRXZlbnRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBoYXNQSyA9IGZhbHNlO1xyXG4gICAgICAgIGlmICghaWdub3JlU2FuaXR5Q2hlY2spIHtcclxuICAgICAgICAgICAgLy8gdmFsaWRhdGUgdGFibGUgbmFtZSBhbmQgZGF0YSBtb2RlbFxyXG4gICAgICAgICAgICB2YXIgdHlwZXMgPSBbXCJzdHJpbmdcIiwgXCJzYWZlc3RyXCIsIFwidGltZUlkXCIsIFwidGltZUlkbXNcIiwgXCJ1dWlkXCIsIFwiaW50XCIsIFwiZmxvYXRcIiwgXCJudW1iZXJcIiwgXCJhcnJheVwiLCBcIm1hcFwiLCBcImJvb2xcIiwgXCJibG9iXCIsIFwiYW55XCJdO1xyXG4gICAgICAgICAgICBpZiAodHlwZXMuaW5kZXhPZihsLnJlcGxhY2UoL1xcVy9nbWksIFwiXCIpKSAhPT0gLTEgfHwgbC5pbmRleE9mKFwiX1wiKSA9PT0gMCB8fCBsLm1hdGNoKC9bXFwoXFwpXFxdXFxbXFwuXS9nKSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIFRhYmxlIE5hbWUhIGh0dHBzOi8vZG9jcy5uYW5vc3FsLmlvL3NldHVwL2RhdGEtbW9kZWxzXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIChkYXRhTW9kZWwgfHwgW10pLmZvckVhY2goZnVuY3Rpb24gKG1vZGVsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobW9kZWwua2V5Lm1hdGNoKC9bXFwoXFwpXFxdXFxbXFwuXS9nKSAhPT0gbnVsbCB8fCBtb2RlbC5rZXkuaW5kZXhPZihcIl9cIikgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgRGF0YSBNb2RlbCEgaHR0cHM6Ly9kb2NzLm5hbm9zcWwuaW8vc2V0dXAvZGF0YS1tb2RlbHNcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0LnRvQ29sUnVsZXNbbF0gPSB7fTtcclxuICAgICAgICAoZGF0YU1vZGVsIHx8IFtdKS5mb3JFYWNoKGZ1bmN0aW9uIChtb2RlbCkge1xyXG4gICAgICAgICAgICBpZiAobW9kZWwucHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIG1vZGVsLnByb3BzLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBvbGQgZm9ybWF0OiBmcm9tPT5mbihhcmcxLCBhcmcyKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcC5pbmRleE9mKFwiZnJvbT0+XCIpICE9PSAtMSAmJiBwcm9wLmluZGV4T2YoXCIoXCIpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm5OYW1lID0gcHJvcC5yZXBsYWNlKFwiZnJvbT0+XCIsIFwiXCIpLnNwbGl0KFwiKFwiKS5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm5BcmdzID0gcHJvcC5yZXBsYWNlKFwiZnJvbT0+XCIsIFwiXCIpLnNwbGl0KFwiKFwiKS5wb3AoKS5yZXBsYWNlKFwiKVwiLCBcIlwiKS5zcGxpdChcIixcIikubWFwKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnRyaW0oKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHQudG9Db2xSdWxlc1tsXVttb2RlbC5rZXldID0gW2ZuTmFtZV0uY29uY2F0KGZuQXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5ldyBmb3JtYXQ6IHRvQ29sdW1uLmZuKGFyZzEsIGFyZzIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wLmluZGV4T2YoXCJ0b0NvbHVtbi5cIikgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZuTmFtZSA9IHByb3AucmVwbGFjZSgvdG9Db2x1bW5cXC4oLiopXFwoLipcXCkvZ21pLCBcIiQxXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm5BcmdzID0gcHJvcC5yZXBsYWNlKC90b0NvbHVtblxcLi4qXFwoKC4qKVxcKS9nbWksIFwiJDFcIikuc3BsaXQoXCIsXCIpLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gYy50cmltKCk7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0LnRvQ29sUnVsZXNbbF1bbW9kZWwua2V5XSA9IFtmbk5hbWVdLmNvbmNhdChmbkFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChtb2RlbC5wcm9wcyAmJiB1dGlsaXRpZXNfMS5pbnRlcnNlY3QoW1wicGtcIiwgXCJwaygpXCJdLCBtb2RlbC5wcm9wcykpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnRhYmxlUEtzW2xdID0gbW9kZWwua2V5O1xyXG4gICAgICAgICAgICAgICAgaGFzUEsgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5oYXNQS1tsXSA9IGhhc1BLO1xyXG4gICAgICAgIGlmICghaGFzUEspIHtcclxuICAgICAgICAgICAgdGhpcy50YWJsZVBLc1tsXSA9IFwiX2lkX1wiO1xyXG4gICAgICAgICAgICBkYXRhTW9kZWwudW5zaGlmdCh7IGtleTogXCJfaWRfXCIsIHR5cGU6IFwidXVpZFwiLCBwcm9wczogW1wicGsoKVwiXSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdC5kYXRhTW9kZWxzW2xdID0gZGF0YU1vZGVsO1xyXG4gICAgICAgIHQuX3ZpZXdzW2xdID0gW107XHJcbiAgICAgICAgdC5fYWN0aW9uc1tsXSA9IFtdO1xyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGVjbGFyZSB0aGUgdmlld3MgZm9yIHRoZSBjdXJyZW50IHNlbGVjdGVkIHRhYmxlLiAgTXVzdCBiZSBjYWxsZWQgYmVmb3JlIGNvbm5lY3QoKVxyXG4gICAgICpcclxuICAgICAqIFZpZXdzIGFyZSBjcmVhdGVkIGxpa2UgdGhpczpcclxuICAgICAqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogLnZpZXdzKFtcclxuICAgICAqICB7XHJcbiAgICAgKiAgICAgIG5hbWU6XCJ2aWV3LW5hbWVcIixcclxuICAgICAqICAgICAgYXJnczogW1wiYXJyYXlcIixcIm9mXCIsXCJhcmd1bWVudHNcIl0sXHJcbiAgICAgKiAgICAgIGNhbGw6IGZ1bmN0aW9uKGFyZ3MpIHtcclxuICAgICAqICAgICAgICAgIC8vIEJlY2F1c2Ugb2Ygb3VyIFwiYXJnc1wiIGFycmF5IHRoZSBhcmdzIGlucHV0IG9mIHRoaXMgZnVuY3Rpb24gd2lsbCBsb29rIGxpa2UgdGhpczpcclxuICAgICAqICAgICAgICAgIC8vIE5hbm9TUUwgd2lsbCBub3QgbGV0IGFueSBvdGhlciBhcmd1bWVudHMgaW50byB0aGlzIGZ1bmN0aW9uLlxyXG4gICAgICogICAgICAgICAgYXJnczp7XHJcbiAgICAgKiAgICAgICAgICAgICAgYXJyYXk6JycsXHJcbiAgICAgKiAgICAgICAgICAgICAgb2Y6JycsXHJcbiAgICAgKiAgICAgICAgICAgICAgYXJndW1lbnRzOicnXHJcbiAgICAgKiAgICAgICAgICB9XHJcbiAgICAgKiAgICAgICAgICAvL1dlIGNhbiB1c2UgdGhlbSBpbiBvdXIgcXVlcnlcclxuICAgICAqICAgICAgICAgIHJldHVybiB0aGlzLnF1ZXJ5KCdzZWxlY3QnKS53aGVyZShbJ25hbWUnLCdJTicsYXJncy5hcnJheV0pLmV4ZWMoKTtcclxuICAgICAqICAgICAgfVxyXG4gICAgICogIH1cclxuICAgICAqIF0pXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBUaGVuIGxhdGVyIGluIHlvdXIgYXBwLi5cclxuICAgICAqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogTmFub1NRTChcInVzZXJzXCIpLmdldFZpZXcoXCJ2aWV3LW5hbWVcIix7YXJyYXk6Jycsb2Y6XCJcIixhcmd1bWVudHM6XCJcIn0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XHJcbiAgICAgKiAgY29uc29sZS5sb2cocmVzdWx0KSA8PT09IHJlc3VsdCBvZiB5b3VyIHZpZXcgd2lsbCBiZSB0aGVyZS5cclxuICAgICAqIH0pXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBPcHRpb25hbGx5IHlvdSBjYW4gdHlwZSBjYXN0IHRoZSBhcmd1bWVudHMgYXQgcnVuIHRpbWUgdHlwZXNjcmlwdCBzdHlsZSwganVzdCBhZGQgdGhlIHR5cGVzIGFmdGVyIHRoZSBhcmd1bWVudHMgaW4gdGhlIGFycmF5LiAgTGlrZSB0aGlzOlxyXG4gICAgICpcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAudmlld3Nbe1xyXG4gICAgICogICAgICBuYW1lOi4uLlxyXG4gICAgICogICAgICBhcmdzOltcIm5hbWU6c3RyaW5nXCIsXCJiYWxhbmNlOmZsb2F0XCIsXCJhY3RpdmU6Ym9vbFwiXVxyXG4gICAgICogICAgICBjYWxsOi4uLlxyXG4gICAgICogfV1cclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIE5hbm9TUUwgd2lsbCBmb3JjZSB0aGUgYXJndW1lbnRzIHBhc3NlZCBpbnRvIHRoZSBmdW5jdGlvbiB0byB0aG9zZSB0eXBlcy5cclxuICAgICAqXHJcbiAgICAgKiBQb3NzaWJsZSB0eXBlcyBhcmUgc3RyaW5nLCBib29sLCBmbG9hdCwgaW50LCBtYXAsIGFycmF5IGFuZCBib29sLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7QXJyYXk8QWN0aW9uT3JWaWV3Pn0gdmlld0FycmF5XHJcbiAgICAgKiBAcmV0dXJucyB7TmFub1NRTEluc3RhbmNlfVxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJPZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS52aWV3cyA9IGZ1bmN0aW9uICh2aWV3QXJyYXkpIHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnNUYWJsZSkpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92aWV3c1t0aGlzLnNUYWJsZV0gPSB2aWV3QXJyYXksIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBFeGVjdXRlIGEgc3BlY2lmaWMgdmlldy4gIFJlZmVybmVjZSB0aGUgXCJ2aWV3c1wiIGZ1bmN0aW9uIGZvciBtb3JlIGRlc2NyaXB0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEV4YW1wbGU6XHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogTmFub1NRTChcInVzZXJzXCIpLmdldFZpZXcoJ3ZpZXctbmFtZScse2ZvbzpcImJhclwifSkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcclxuICAgICAqICBjb25zb2xlLmxvZyhyZXN1bHQpIDw9PSB2aWV3IHJlc3VsdC5cclxuICAgICAqIH0pXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmlld05hbWVcclxuICAgICAqIEBwYXJhbSB7YW55fSB2aWV3QXJnc1xyXG4gICAgICogQHJldHVybnMgeyhQcm9taXNlPEFycmF5PE9iamVjdD4+KX1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUuZ2V0VmlldyA9IGZ1bmN0aW9uICh2aWV3TmFtZSwgdmlld0FyZ3MpIHtcclxuICAgICAgICBpZiAodmlld0FyZ3MgPT09IHZvaWQgMCkgeyB2aWV3QXJncyA9IHt9OyB9XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5zVGFibGUpKVxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IHV0aWxpdGllc18xLlByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7IHJldHVybiByZWooKTsgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RvQVYoXCJWaWV3XCIsIHRoaXMuX3ZpZXdzW3RoaXMuc1RhYmxlXSwgdmlld05hbWUsIHZpZXdBcmdzKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIERlY2xhcmUgdGhlIGFjdGlvbnMgZm9yIHRoZSBjdXJyZW50IHNlbGVjdGVkIHRhYmxlLiAgTXVzdCBiZSBjYWxsZWQgYmVmb3JlIGNvbm5lY3QoKVxyXG4gICAgICpcclxuICAgICAqIEFjdGlvbnMgYXJlIGNyZWF0ZWQgbGlrZSB0aGlzOlxyXG4gICAgICogYGBgdHNcclxuICAgICAqIC5hY3Rpb25zKFtcclxuICAgICAqICB7XHJcbiAgICAgKiAgICAgIG5hbWU6XCJhY3Rpb24tbmFtZVwiLFxyXG4gICAgICogICAgICBhcmdzOiBbXCJhcnJheVwiLFwib2ZcIixcImFyZ3VtZW50c1wiXSxcclxuICAgICAqICAgICAgY2FsbDogZnVuY3Rpb24oYXJncykge1xyXG4gICAgICogICAgICAgICAgLy8gQmVjYXVzZSBvZiBvdXIgXCJhcmdzXCIgYXJyYXkgdGhlIGFyZ3MgaW5wdXQgb2YgdGhpcyBmdW5jdGlvbiB3aWxsIGxvb2sgbGlrZSB0aGlzOlxyXG4gICAgICogICAgICAgICAgLy8gTmFub1NRTCB3aWxsIG5vdCBsZXQgYW55IG90aGVyIGFyZ3VtZW50cyBpbnRvIHRoaXMgZnVuY3Rpb24uXHJcbiAgICAgKiAgICAgICAgICBhcmdzOntcclxuICAgICAqICAgICAgICAgICAgICBhcnJheTonJyxcclxuICAgICAqICAgICAgICAgICAgICBvZjonJyxcclxuICAgICAqICAgICAgICAgICAgICBhcmd1bWVudHM6JydcclxuICAgICAqICAgICAgICAgIH1cclxuICAgICAqICAgICAgICAgIC8vV2UgY2FuIHVzZSB0aGVtIGluIG91ciBxdWVyeVxyXG4gICAgICogICAgICAgICAgcmV0dXJuIHRoaXMucXVlcnkoXCJ1cHNlcnRcIix7YmFsYW5jZTowfSkud2hlcmUoWyduYW1lJywnSU4nLGFyZ3MuYXJyYXldKS5leGVjKCk7XHJcbiAgICAgKiAgICAgIH1cclxuICAgICAqICB9XHJcbiAgICAgKiBdKVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogVGhlbiBsYXRlciBpbiB5b3VyIGFwcC4uXHJcbiAgICAgKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqIE5hbm9TUUwoXCJ1c2Vyc1wiKS5kb0FjdGlvbihcImFjdGlvbi1uYW1lXCIse2FycmF5OicnLG9mOlwiXCIsYXJndW1lbnRzOlwiXCJ9KS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xyXG4gICAgICogIGNvbnNvbGUubG9nKHJlc3VsdCkgPD09PSByZXN1bHQgb2YgeW91ciB2aWV3IHdpbGwgYmUgdGhlcmUuXHJcbiAgICAgKiB9KVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogT3B0aW9uYWxseSB5b3UgY2FuIHR5cGUgY2FzdCB0aGUgYXJndW1lbnRzIGF0IHJ1biB0aW1lIHR5cGVzY3JpcHQgc3R5bGUsIGp1c3QgYWRkIHRoZSB0eXBlcyBhZnRlciB0aGUgYXJndW1lbnRzIGluIHRoZSBhcnJheS4gIExpa2UgdGhpczpcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAuYWN0aW9uc1t7XHJcbiAgICAgKiAgICAgIG5hbWU6Li4uXHJcbiAgICAgKiAgICAgIGFyZ3M6W1wibmFtZTpzdHJpbmdcIixcImJhbGFuY2U6ZmxvYXRcIixcImFjdGl2ZTpib29sXCJdXHJcbiAgICAgKiAgICAgIGNhbGw6Li4uXHJcbiAgICAgKiB9XVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogTmFub1NRTCB3aWxsIGZvcmNlIHRoZSBhcmd1bWVudHMgcGFzc2VkIGludG8gdGhlIGZ1bmN0aW9uIHRvIHRob3NlIHR5cGVzLlxyXG4gICAgICpcclxuICAgICAqIFBvc3NpYmxlIHR5cGVzIGFyZSBzdHJpbmcsIGJvb2wsIGZsb2F0LCBpbnQsIG1hcCwgYXJyYXkgYW5kIGJvb2wuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtBcnJheTxBY3Rpb25PclZpZXc+fSBhY3Rpb25BcnJheVxyXG4gICAgICogQHJldHVybnMge05hbm9TUUxJbnN0YW5jZX1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUuYWN0aW9ucyA9IGZ1bmN0aW9uIChhY3Rpb25BcnJheSkge1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuc1RhYmxlKSlcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGlvbnNbdGhpcy5zVGFibGVdID0gYWN0aW9uQXJyYXksIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0IGFuIGFjdGlvbiBmb3IgdGhlIGN1cnJlbnQgc2VsZWN0ZWQgdGFibGUuIFJlZmVyZW5jZSB0aGUgXCJhY3Rpb25zXCIgbWV0aG9kIGZvciBtb3JlIGluZm8uXHJcbiAgICAgKlxyXG4gICAgICogRXhhbXBsZTpcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiBOYW5vU1FMKFwidXNlcnNcIikuZG9BY3Rpb24oJ2FjdGlvbi1uYW1lJyx7Zm9vOlwiYmFyXCJ9KS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xyXG4gICAgICogICAgICBjb25zb2xlLmxvZyhyZXN1bHQpIDw9PSByZXN1bHQgb2YgeW91ciBhY3Rpb25cclxuICAgICAqIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvbk5hbWVcclxuICAgICAqIEBwYXJhbSB7YW55fSBhY3Rpb25BcmdzXHJcbiAgICAgKiBAcmV0dXJucyB7KFByb21pc2U8QXJyYXk8T2JqZWN0Pj4pfVxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJPZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5kb0FjdGlvbiA9IGZ1bmN0aW9uIChhY3Rpb25OYW1lLCBhY3Rpb25BcmdzKSB7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5zVGFibGUpKVxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IHV0aWxpdGllc18xLlByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7IHJldHVybiByZWooKTsgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RvQVYoXCJBY3Rpb25cIiwgdGhpcy5fYWN0aW9uc1t0aGlzLnNUYWJsZV0sIGFjdGlvbk5hbWUsIGFjdGlvbkFyZ3MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBhIHF1ZXJ5IGZpbHRlciB0byBldmVyeSByZXF1ZXN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7KGFyZ3M6IERCRXhlYywgY29tcGxldGU6KGFyZ3M6IERCRXhlYykgPT4gdm9pZCkgPT4gdm9pZH0gY2FsbEJhY2tcclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUucXVlcnlGaWx0ZXIgPSBmdW5jdGlvbiAoY2FsbEJhY2spIHtcclxuICAgICAgICB0aGlzLnF1ZXJ5TW9kID0gY2FsbEJhY2s7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbnRlcm5hbCBmdW5jdGlvbiB0byBmaXJlIGFjdGlvbi92aWV3cy5cclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQHBhcmFtIHsoXCJBY3Rpb25cInxcIlZpZXdcIil9IEFWVHlwZVxyXG4gICAgICogQHBhcmFtIHtBY3Rpb25PclZpZXdbXX0gQVZMaXN0XHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gQVZOYW1lXHJcbiAgICAgKiBAcGFyYW0geyp9IEFWYXJnc1xyXG4gICAgICogQHJldHVybnMgeyhQcm9taXNlPEFycmF5PERCUm93PnxOYW5vU1FMSW5zdGFuY2U+KX1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUuX2RvQVYgPSBmdW5jdGlvbiAoQVZUeXBlLCBBVkxpc3QsIEFWTmFtZSwgQVZhcmdzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHNlbEFWID0gQVZMaXN0LnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VyKSB7XHJcbiAgICAgICAgICAgIGlmIChjdXIubmFtZSA9PT0gQVZOYW1lKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cjtcclxuICAgICAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgfSwgbnVsbCk7XHJcbiAgICAgICAgaWYgKCFzZWxBVikge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IHV0aWxpdGllc18xLlByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7IHJldHVybiByZWooXCJBY3Rpb24vVmlldyBOb3QgRm91bmQhXCIpOyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdC5fYWN0aXZlQVYgPSBBVk5hbWU7XHJcbiAgICAgICAgaWYgKHQuX0FWTW9kKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgdXRpbGl0aWVzXzEuUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcclxuICAgICAgICAgICAgICAgIHQuX0FWTW9kKF90aGlzLnNUYWJsZSwgQVZUeXBlLCB0Ll9hY3RpdmVBViB8fCBcIlwiLCBBVmFyZ3MsIGZ1bmN0aW9uIChhcmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsQVYuY2FsbChzZWxBVi5hcmdzID8gdXRpbGl0aWVzXzEuY2xlYW5BcmdzKHNlbEFWLmFyZ3MsIGFyZ3MpIDoge30sIHQpLnRoZW4ocmVzKS5jYXRjaChyZWopO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlaihlcnIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbEFWLmNhbGwoc2VsQVYuYXJncyA/IHV0aWxpdGllc18xLmNsZWFuQXJncyhzZWxBVi5hcmdzLCBBVmFyZ3MpIDoge30sIHQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFN0YXJ0IGEgcXVlcnkgaW50byB0aGUgY3VycmVudCBzZWxlY3RlZCB0YWJsZS5cclxuICAgICAqIFBvc3NpYmwgcXVlcnlzIGFyZSBcInNlbGVjdFwiLCBcInVwc2VydFwiLCBcImRlbGV0ZVwiLCBhbmQgXCJkcm9wXCI7XHJcbiAgICAgKlxyXG4gICAgICogIyMjIFNlbGVjdFxyXG4gICAgICpcclxuICAgICAqIFNlbGVjdCBpcyB1c2VkIHRvIHB1bGwgYSBzZXQgb2Ygcm93cyBvciBvdGhlciBkYXRhIGZyb20gdGhlIHRhYmxlLlxyXG4gICAgICogV2hlbiB5b3UgdXNlIHNlbGVjdCB0aGUgb3B0aW9uYWwgc2Vjb25kIGFyZ3VtZW50IG9mIHRoZSBxdWVyeSBpcyBhbiBhcnJheSBvZiBzdHJpbmdzIHRoYXQgYWxsb3cgeW91IHRvIHNob3cgb25seSBzcGVjaWZpYyBjb2x1bW5zLlxyXG4gICAgICpcclxuICAgICAqIEV4YW1wbGVzOlxyXG4gICAgICogYGBgdHNcclxuICAgICAqIC5xdWVyeShcInNlbGVjdFwiKSAvLyBObyBhcmd1bWVudHMsIHNlbGVjdCBhbGwgY29sdW1uc1xyXG4gICAgICogLnF1ZXJ5KFwic2VsZWN0XCIsWyd1c2VybmFtZSddKSAvLyBvbmx5IGdldCB0aGUgdXNlcm5hbWUgY29sdW1uXHJcbiAgICAgKiAucXVlcnkoXCJzZWxlY3RcIixbXCJ1c2VybmFtZVwiLFwiYmFsYW5jZVwiXSkgLy9HZXQgdHdvIGNvbHVtbnMsIHVzZXJuYW1lIGFuZCBiYWxhbmNlLlxyXG4gICAgICogLnF1ZXJ5KFwic2VsZWN0XCIsW1wiY291bnQoKilcIl0pIC8vR2V0IHRoZSBsZW5ndGggb2YgcmVjb3JkcyBpbiB0aGUgZGF0YWJhc2VcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqICMjIyBVcHNlcnRcclxuICAgICAqXHJcbiAgICAgKiBVcHNlcnQgaXMgdXNlZCB0byBhZGQgb3IgbW9kaWZ5IGRhdGEgaW4gdGhlIGRhdGFiYXNlLlxyXG4gICAgICogSWYgdGhlIHByaW1hcnkga2V5IHJvd3MgYXJlIG51bGwgb3IgdW5kZWZpbmVkLCB0aGUgZGF0YSB3aWxsIGFsd2F5cyBiZSBhZGRlZCBpbiBhIG5ldyByb3cuIE90aGVyd2lzZSwgeW91IG1pZ2h0IGJlIHVwZGF0aW5nIGV4aXN0aW5nIHJvd3MuXHJcbiAgICAgKiBUaGUgc2Vjb25kIGFyZ3VtZW50IG9mIHRoZSBxdWVyeSB3aXRoIHVwc2VydHMgaXMgYWx3YXlzIGFuIE9iamVjdCBvZiB0aGUgZGF0YSB0byB1cHNlcnQuXHJcbiAgICAgKlxyXG4gICAgICogRXhhbXBsZXM6XHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogLnF1ZXJ5KFwidXBzZXJ0XCIse2lkOjEsIHVzZXJuYW1lOlwiU2NvdHRcIn0pIC8vSWYgcm93IElEIDEgZXhpc3RzLCBzZXQgdGhlIHVzZXJuYW1lIHRvIHNjb3R0LCBvdGhlcndpc2UgY3JlYXRlIGEgbmV3IHJvdyB3aXRoIHRoaXMgZGF0YS5cclxuICAgICAqIC5xdWVyeShcInVwc2VydFwiLHt1c2VybmFtZTpcIlNjb3R0XCJ9KSAvL0FkZCBhIG5ldyByb3cgdG8gdGhlIGRiIHdpdGggdGhpcyB1c2VybmFtZSBpbiB0aGUgcm93LlxyXG4gICAgICogLnF1ZXJ5KFwidXBzZXJ0XCIse2JhbGFuY2U6LTM1fSkud2hlcmUoW1wiYmFsYW5jZVwiLFwiPFwiLDBdKSAvLyBJZiB5b3UgdXNlIGEgV0hFUkUgc3RhdGVtZW50IHRoaXMgZGF0YSB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHJvd3MgZm91bmQgd2l0aCB0aGUgd2hlcmUgc3RhdGVtZW50LlxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogIyMjIERlbGV0ZVxyXG4gICAgICpcclxuICAgICAqIERlbGV0ZSBpcyB1c2VkIHRvIHJlbW92ZSBkYXRhIGZyb20gdGhlIGRhdGFiYXNlLlxyXG4gICAgICogSXQgd29ya3MgZXhhY3RseSBsaWtlIHNlbGVjdCwgZXhjZXB0IGl0IHJlbW92ZXMgZGF0YSBpbnN0ZWFkIG9mIHNlbGVjdGluZyBpdC4gIFRoZSBzZWNvbmQgYXJndW1lbnQgaXMgYW4gYXJyYXkgb2YgY29sdW1ucyB0byBjbGVhci4gIElmIG5vIHNlY29uZCBhcmd1bWVudCBpcyBwYXNzZWQsIHRoZSBlbnRpcmUgcm93IGlzIGRlbGV0ZWQuXHJcbiAgICAgKiBJZiBubyB3aGVyZSBhcmd1bWVudCBpcyBwYXNzZWQsIHRoZSBlbnRpcmUgdGFibGUgaXMgZHJvcHBlZFxyXG4gICAgICpcclxuICAgICAqIEV4YW1wbGVzOlxyXG4gICAgICogYGBgdHNcclxuICAgICAqIC5xdWVyeShcImRlbGV0ZVwiLFsnYmFsYW5jZSddKSAvL0NsZWFyIHRoZSBjb250ZW50cyBvZiB0aGUgYmFsYW5jZSBjb2x1bW4gb24gQUxMIHJvd3MuXHJcbiAgICAgKiAucXVlcnkoXCJkZWxldGVcIixbJ2NvbW1lbnRzJ10pLndoZXJlKFtcImFjY291bnRUeXBlXCIsXCI9XCIsXCJzcGFtbWVyXCJdKSAvLyBJZiBhIHdoZXJlIHN0YXRtZW50IGlzIHBhc3NlZCB5b3UnbGwgb25seSBjbGVhciB0aGUgY29sdW1ucyBvZiB0aGUgcm93cyBzZWxlY3RlZCBieSB0aGUgd2hlcmUgc3RhdGVtZW50LlxyXG4gICAgICogLnF1ZXJ5KFwiZGVsZXRlXCIpLndoZXJlKFtcImJhbGFuY2VcIixcIjxcIiwwXSkgLy8gcmVtb3ZlIGFsbCByb3dzIHdpdGggYSBiYWxhbmNlIGxlc3MgdGhhbiB6ZXJvXHJcbiAgICAgKiAucXVlcnkoXCJkZWxldGVcIikgLy8gU2FtZSBhcyBkcm9wIHN0YXRlbWVudFxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogIyMjIERyb3BcclxuICAgICAqXHJcbiAgICAgKiBEcm9wIGlzIHVzZWQgdG8gY29tcGxldGVseSBjbGVhciB0aGUgY29udGVudHMgb2YgYSBkYXRhYmFzZS4gIFRoZXJlIGFyZSBubyBhcmd1bWVudHMuXHJcbiAgICAgKlxyXG4gICAgICogRHJvcCBFeGFtcGxlczpcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAucXVlcnkoXCJkcm9wXCIpXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geyhcInNlbGVjdFwifFwidXBzZXJ0XCJ8XCJkZWxldGVcInxcImRyb3BcIil9IGFjdGlvblxyXG4gICAgICogQHBhcmFtIHthbnl9IFthcmdzXVxyXG4gICAgICogQHJldHVybnMge05hbm9TUUxJbnN0YW5jZX1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUucXVlcnkgPSBmdW5jdGlvbiAoYWN0aW9uLCBhcmdzKSB7XHJcbiAgICAgICAgLypsZXQgdCA9IHRoaXM7XHJcbiAgICAgICAgdC5fcXVlcnlQdHIrKztcclxuICAgICAgICBpZiAodC5fcXVlcnlQdHIgPiB0Ll9xdWVyeVBvb2wubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICB0Ll9xdWVyeVB0ciA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGF2ID0gdC5fYWN0aXZlQVY7XHJcbiAgICAgICAgdC5fYWN0aXZlQVYgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgcmV0dXJuIHQuX3F1ZXJ5UG9vbFt0Ll9xdWVyeVB0cl0uc2V0KHQuc1RhYmxlLCBhY3Rpb24udG9Mb3dlckNhc2UoKSwgYXJncywgYXYpOyovXHJcbiAgICAgICAgdmFyIHQgPSB0aGlzO1xyXG4gICAgICAgIHZhciBhdiA9IHQuX2FjdGl2ZUFWO1xyXG4gICAgICAgIHQuX2FjdGl2ZUFWID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHJldHVybiBuZXcgc3RkX3F1ZXJ5XzEuX05hbm9TUUxRdWVyeSh0aGlzLCB0aGlzLnNUYWJsZSwgYWN0aW9uLCBhcmdzLCBhdik7XHJcbiAgICB9O1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5vbkNvbm5lY3RlZCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIGlmICh0aGlzLmlzQ29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9vbkNvbm5lY3RlZENhbGxCYWNrcy5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUcmlnZ2VyIGEgZGF0YWJhc2UgZXZlbnRcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0RhdGFiYXNlRXZlbnR9IGV2ZW50RGF0YVxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJPZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS50cmlnZ2VyRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnREYXRhKSB7XHJcbiAgICAgICAgdmFyIHQgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0Ll9oYXNFdmVudHNbXCIqXCJdIHx8IHQuX2hhc0V2ZW50c1tldmVudERhdGEudGFibGVdKSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudERhdGEudGFibGUgPT09IFwiKlwiKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIGxpZV90c18xLnNldEZhc3QoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGM7XHJcbiAgICAgICAgICAgICAgICBldmVudERhdGEudHlwZXMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRyaWdnZXIgd2lsZGNhcmRcclxuICAgICAgICAgICAgICAgICAgICB0Ll9jYWxsYmFja3NbXCIqXCJdLnRyaWdnZXIodHlwZSwgZXZlbnREYXRhLCB0KTtcclxuICAgICAgICAgICAgICAgICAgICB0Ll9jYWxsYmFja3NbXCIqXCJdLnRyaWdnZXIoXCIqXCIsIGV2ZW50RGF0YSwgdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdHJpZ2dlciBzcGVjaWZpYyB0YWJsZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudERhdGEudGFibGUgJiYgdC5fY2FsbGJhY2tzW2V2ZW50RGF0YS50YWJsZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdC5fY2FsbGJhY2tzW2V2ZW50RGF0YS50YWJsZV0udHJpZ2dlcih0eXBlLCBldmVudERhdGEsIHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgZGVmYXVsdCBvYmplY3QgZm9yIHRoZSBjdXJyZW50IHRhYmxlJ3MgZGF0YSBtb2RlbCwgdXNlZnVsIGZvciBmb3Jtcy5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgb3B0aW9uYWwgYXJndW1lbnQgbGV0cyB5b3UgcGFzcyBpbiBhbiBvYmplY3QgdG8gb3ZlciB3cml0ZSB0aGUgZGF0YSBtb2RlbCdzIGRlZmF1bHRzIGFzIGRlc2lyZWQuXHJcbiAgICAgKlxyXG4gICAgICogRXhhbXBsZXM6XHJcbiAgICAgKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqIGNvbnNvbGUubG9nKE5hbm9TUUwoXCJ1c2Vyc1wiKS5kZWZhdWx0KCkpIDw9IHt1c2VybmFtZTpcIm5vbmVcIiwgaWQ6dW5kZWZpbmVkLCBhZ2U6IDB9XHJcbiAgICAgKiBjb25zb2xlLmxvZyhOYW5vU1FMKFwidXNlcnNcIikuZGVmYXVsdCh7dXNlcm5hbWU6XCJkZWZhbHRcIn0pKSA8PSB7dXNlcm5hbWU6XCJkZWZhdWx0XCIsIGlkOnVuZGVmaW5lZCwgYWdlOiAwfVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogRE8gTk9UIHVzZSB0aGlzIGluc2lkZSB1cHNlcnQgY29tbWFuZHMgbGlrZSBgLnF1ZXJ5KFwidXBzZXJ0XCIsTmFub1NRTChcInVzZXJzXCIpLmRlZmFsdCh7dXNlck9ian0pKS4uYC5cclxuICAgICAqIFRoZSBkYXRhYmFzZSBkZWZhdWx0cyBhcmUgYWxyZWFkeSBhcHBsaWVkIHRocm91Z2ggdGhlIHVwc2VydCBwYXRoLCB5b3UnbGwgYmUgZG9pbmcgZG91YmxlIHdvcmsuXHJcbiAgICAgKlxyXG4gICAgICogT25seSB1c2UgdGhpcyB0byBwdWxsIGRlZmF1bHQgdmFsdWVzIGludG8gYSBmb3JtIGluIHlvdXIgVUkgb3Igc2ltaWxhciBzaXR1YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsqfSBbcmVwbGFjZU9ial1cclxuICAgICAqIEByZXR1cm5zIHt7W2tleTogc3RyaW5nXTogYW55fX1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUuZGVmYXVsdCA9IGZ1bmN0aW9uIChyZXBsYWNlT2JqKSB7XHJcbiAgICAgICAgdmFyIG5ld09iaiA9IHt9O1xyXG4gICAgICAgIHZhciB0ID0gdGhpcztcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0LnNUYWJsZSkpXHJcbiAgICAgICAgICAgIHJldHVybiB7fTtcclxuICAgICAgICB0LmRhdGFNb2RlbHNbdC5zVGFibGVdLmZvckVhY2goZnVuY3Rpb24gKG0pIHtcclxuICAgICAgICAgICAgLy8gc2V0IGtleSB0byBvYmplY3QgYXJndW1lbnQgb3IgdGhlIGRlZmF1bHQgdmFsdWUgaW4gdGhlIGRhdGEgbW9kZWxcclxuICAgICAgICAgICAgbmV3T2JqW20ua2V5XSA9IChyZXBsYWNlT2JqICYmIHJlcGxhY2VPYmpbbS5rZXldKSA/IHJlcGxhY2VPYmpbbS5rZXldIDogbS5kZWZhdWx0O1xyXG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSBkZWZhdWx0IHZhbHVlIGZyb20gdHlwZSwgZWcgaW50ID0gMCwgc3RyaW5nID0gXCJcIlxyXG4gICAgICAgICAgICBpZiAobmV3T2JqW20ua2V5XSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdPYmpbbS5rZXldID0gdXRpbGl0aWVzXzEuY2FzdChtLnR5cGUsIG51bGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG5ld09iajtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgcmF3IGNvbnRlbnRzIG9mIHRoZSBkYXRhYmFzZSwgcHJvdmlkZXMgYWxsIHRhYmxlcy5cclxuICAgICAqXHJcbiAgICAgKiBPcHRpb25hbGx5IHBhc3MgaW4gdGhlIHRhYmxlcyB0byBleHBvcnQuICBJZiBubyB0YWJsZXMgYXJlIHByb3ZpZGVkIHRoZW4gYWxsIHRhYmxlcyB3aWxsIGJlIGR1bXBlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICogQG1lbWJlcm9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLnJhd0R1bXAgPSBmdW5jdGlvbiAodGFibGVzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gbmV3IHV0aWxpdGllc18xLlByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdENIQUlOKF90aGlzLnBsdWdpbnMsIGZ1bmN0aW9uIChwbHVnaW4sIGksIG5leHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwbHVnaW4uZHVtcFRhYmxlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5kdW1wVGFibGVzKHRhYmxlcykudGhlbihmdW5jdGlvbiAodGFibGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9fYXNzaWduKHt9LCByZXN1bHQsIHRhYmxlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXMocmVzdWx0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbXBvcnQgdGFibGUgZGF0YSBkaXJlY3RseSBpbnRvIHRoZSBkYXRhdGFiYXNlLlxyXG4gICAgICogU2lnbmlmaW5jYXRseSBmYXN0ZXIgdGhhbiAubG9hZEpTIGJ1dCBkb2Vzbid0IGRvIHR5cGUgY2hlY2tpbmcsIGluZGV4aW5nIG9yIGFueXRoaW5nIGVsc2UgZmFuY3kuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHt7W3RhYmxlOiBzdHJpbmddOiBEQlJvd1tdfX0gdGFibGVzXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICogQG1lbWJlcm9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLnJhd0ltcG9ydCA9IGZ1bmN0aW9uICh0YWJsZXMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBuZXcgdXRpbGl0aWVzXzEuUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcclxuICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdENIQUlOKF90aGlzLnBsdWdpbnMsIGZ1bmN0aW9uIChwbHVnaW4sIGksIG5leHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwbHVnaW4uaW1wb3J0VGFibGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLmltcG9ydFRhYmxlcyh0YWJsZXMpLnRoZW4obmV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmVzKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVxdWVzdCBkaXNjb25uZWN0IGZyb20gYWxsIGRhdGFiYXNlcy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICogQG1lbWJlcm9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHV0aWxpdGllc18xLmZhc3RDSEFJTih0aGlzLnBsdWdpbnMsIGZ1bmN0aW9uIChwbHVnaW4sIGksIG5leHQpIHtcclxuICAgICAgICAgICAgaWYgKHBsdWdpbi53aWxsRGlzY29ubmVjdCkge1xyXG4gICAgICAgICAgICAgICAgcGx1Z2luLndpbGxEaXNjb25uZWN0KG5leHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBFeGVjdXRlcyBhIHRyYW5zYWN0aW9uIGFnYWluc3QgdGhlIGRhdGFiYXNlLCBiYXRjaGluZyBhbGwgdGhlIHF1ZXJpZXMgdG9nZXRoZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsoKFxyXG4gICAgICogICAgICAgICBkYjogKHRhYmxlPzogc3RyaW5nKSA9PiB7XHJcbiAgICAgKiAgICAgICAgICAgICBxdWVyeTogKGFjdGlvbjogXCJzZWxlY3RcInxcInVwc2VydFwifFwiZGVsZXRlXCJ8XCJkcm9wXCJ8XCJzaG93IHRhYmxlc1wifFwiZGVzY3JpYmVcIiwgYXJncz86IGFueSkgPT4gX05hbm9TUUxUcmFuc2FjdGlvblF1ZXJ5O1xyXG4gICAgICogICAgICAgICAgICAgdXBkYXRlT1JNOiAoYWN0aW9uOiBcImFkZFwifFwiZGVsZXRlXCJ8XCJkcm9wXCJ8XCJzZXRcIiwgY29sdW1uPzogc3RyaW5nLCByZWxhdGlvbklEcz86IGFueVtdKSA9PiBfTmFub1NRTFRyYW5zYWN0aW9uT1JNUXVlcnl8dW5kZWZpbmVkO1xyXG4gICAgICogICAgICAgICB9LCBjb21wbGV0ZTogKCkgPT4gdm9pZCkgPT4gdm9pZCl9IGluaXRUcmFuc2FjdGlvblxyXG4gICAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyb2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUuZG9UcmFuc2FjdGlvbiA9IGZ1bmN0aW9uIChpbml0VHJhbnNhY3Rpb24pIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciB0ID0gdGhpcztcclxuICAgICAgICB2YXIgcXVlcmllcyA9IFtdO1xyXG4gICAgICAgIHZhciB0cmFuc2FjdGlvbklEID0gdXRpbGl0aWVzXzEucmFuZG9tMTZCaXRzKCkudG9TdHJpbmcoMTYpO1xyXG4gICAgICAgIHJldHVybiBuZXcgdXRpbGl0aWVzXzEuUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIGlmICghdC5wbHVnaW5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KFwiTm90aGluZyB0byBkbywgbm8gcGx1Z2lucyFcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdENIQUlOKHQucGx1Z2lucywgZnVuY3Rpb24gKHAsIGksIG5leHRQKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocC50cmFuc2FjdGlvbkJlZ2luKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcC50cmFuc2FjdGlvbkJlZ2luKHRyYW5zYWN0aW9uSUQsIG5leHRQKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRQKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodC5zVGFibGUpKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGluaXRUcmFuc2FjdGlvbihmdW5jdGlvbiAodGFibGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGEgPSB0YWJsZSB8fCB0LnNUYWJsZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeTogZnVuY3Rpb24gKGFjdGlvbiwgYXJncykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB0cmFuc2FjdGlvbl8xLl9OYW5vU1FMVHJhbnNhY3Rpb25RdWVyeShhY3Rpb24sIGFyZ3MsIHRhLCBxdWVyaWVzLCB0cmFuc2FjdGlvbklEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RDSEFJTihxdWVyaWVzLCBmdW5jdGlvbiAocXVlciwgaSwgbmV4dFF1ZXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlcy5wdXNoKHF1ZXIudGFibGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0LnF1ZXJ5KHF1ZXIuYWN0aW9uLCBxdWVyLmFjdGlvbkFyZ3MpLm1hbnVhbEV4ZWMoX19hc3NpZ24oe30sIHF1ZXIsIHsgdGFibGU6IHF1ZXIudGFibGUsIHRyYW5zYWN0aW9uOiB0cnVlLCBxdWVyeUlEOiB0cmFuc2FjdGlvbklEIH0pKS50aGVuKG5leHRRdWVyeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0Q0hBSU4oX3RoaXMucGx1Z2lucywgZnVuY3Rpb24gKHAsIGksIG5leHRQKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocC50cmFuc2FjdGlvbkVuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAudHJhbnNhY3Rpb25FbmQodHJhbnNhY3Rpb25JRCwgbmV4dFApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZXMuZmlsdGVyKGZ1bmN0aW9uICh2YWwsIGlkeCwgc2VsZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmluZGV4T2YodmFsKSA9PT0gaWR4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAodGFibGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFibGUuaW5kZXhPZihcIl9cIikgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC50cmlnZ2VyRXZlbnQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJpZXNbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZTogdGFibGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogcmVzdWx0cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVzOiBbXCJ0cmFuc2FjdGlvblwiXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbk9yVmlldzogXCJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGVzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSUQ6IHRyYW5zYWN0aW9uSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZmZlY3RlZFJvd1BLUzogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZmZlY3RlZFJvd3M6IFtdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb25maWd1cmUgdGhlIGRhdGFiYXNlIGRyaXZlciwgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIHRoZSBjb25uZWN0KCkgbWV0aG9kLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7YW55fSBhcmdzXHJcbiAgICAgKiBAcmV0dXJucyB7TmFub1NRTEluc3RhbmNlfVxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJPZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5jb25maWcgPSBmdW5jdGlvbiAoYXJncykge1xyXG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGFyZ3M7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJmb3JtIGEgY3VzdG9tIGFjdGlvbiBzdXBwb3J0ZWQgYnkgdGhlIGRhdGFiYXNlIGRyaXZlci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5PGFueT59IGFyZ3NcclxuICAgICAqIEByZXR1cm5zIHsqfVxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJPZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0ID0gdGhpcztcclxuICAgICAgICByZXR1cm4gbmV3IHV0aWxpdGllc18xLlByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XHJcbiAgICAgICAgICAgIGlmICh0LnBsdWdpbnMubGVuZ3RoKSB7IC8vIFF1ZXJ5IE1vZGVcclxuICAgICAgICAgICAgICAgIHZhciBuZXdBcmdzXzEgPSBhcmdzO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdF8xID0gW107XHJcbiAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0Q0hBSU4odC5wbHVnaW5zLCBmdW5jdGlvbiAocCwgaSwgbmV4dFApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocC5leHRlbmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcC5leHRlbmQoZnVuY3Rpb24gKG5BcmdzLCBuZXdSZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0FyZ3NfMSA9IG5BcmdzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0XzEgPSBuZXdSZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0UCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBuZXdBcmdzXzEsIHJlc3VsdF8xKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRQKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzKHJlc3VsdF8xKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVqKFwiTm8gcGx1Z2lucyFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIExvYWQgSlNPTiBkaXJlY3RseSBpbnRvIHRoZSBEQi5cclxuICAgICAqIEpTT04gbXVzdCBiZSBhbiBhcnJheSBvZiBtYXBzLCBsaWtlIHRoaXM6XHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogW1xyXG4gICAgICogIHtcIm5hbWVcIjpcImJpbGx5XCIsXCJhZ2VcIjoyMH0sXHJcbiAgICAgKiAge1wibmFtZVwiOlwiam9obm55XCI6XCJhZ2VcIjozMH1cclxuICAgICAqIF1cclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIFJvd3MgbXVzdCBhbGlnbiB3aXRoIHRoZSBkYXRhIG1vZGVsLiAgUm93IGRhdGEgdGhhdCBpc24ndCBpbiB0aGUgZGF0YSBtb2RlbCB3aWxsIGJlIGlnbm9yZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5PE9iamVjdD59IHJvd3NcclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFycmF5PE9iamVjdD4+fVxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJPZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5sb2FkSlMgPSBmdW5jdGlvbiAodGFibGUsIHJvd3MsIHVzZVRyYW5zYWN0aW9uLCBvblByb2dyZXNzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHVzZVRyYW5zYWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0LmRvVHJhbnNhY3Rpb24oZnVuY3Rpb24gKGRiLCBjb21wbGV0ZSkge1xyXG4gICAgICAgICAgICAgICAgcm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYih0YWJsZSkucXVlcnkoXCJ1cHNlcnRcIiwgcm93KS5leGVjKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyB1dGlsaXRpZXNfMS5Qcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikge1xyXG4gICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdENIQUlOKHJvd3MsIGZ1bmN0aW9uIChyb3csIGksIG5leHRSb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob25Qcm9ncmVzcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Qcm9ncmVzcyhNYXRoLnJvdW5kKCgoaSArIDEpIC8gcm93cy5sZW5ndGgpICogMTAwMDApIC8gMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5xdWVyeShcInVwc2VydFwiLCByb3cpLm1hbnVhbEV4ZWMoeyB0YWJsZTogdGFibGUgfSkudGhlbihuZXh0Um93KTtcclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXMocm93cy5tYXAoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuc2hpZnQoKTsgfSkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIExvYWQgYSBDU1YgZmlsZSBpbnRvIHRoZSBEQi4gIEhlYWRlcnMgbXVzdCBleGlzdCBhbmQgd2lsbCBiZSB1c2VkIHRvIGlkZW50aWZ5IHdoYXQgY29sdW1ucyB0byBhdHRhY2ggdGhlIGRhdGEgdG8uXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiBwZXJmb3JtcyBhIGJ1bmNoIG9mIHVwc2VydHMsIHNvIGV4cGVjdCBhcHByb3ByaWF0ZSBiZWhhdmlvciBiYXNlZCBvbiB0aGUgcHJpbWFyeSBrZXkuXHJcbiAgICAgKlxyXG4gICAgICogUm93cyBtdXN0IGFsaWduIHdpdGggdGhlIGRhdGEgbW9kZWwuICBSb3cgZGF0YSB0aGF0IGlzbid0IGluIHRoZSBkYXRhIG1vZGVsIHdpbGwgYmUgaWdub3JlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY3N2XHJcbiAgICAgKiBAcmV0dXJucyB7KFByb21pc2U8QXJyYXk8T2JqZWN0Pj4pfVxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJPZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5sb2FkQ1NWID0gZnVuY3Rpb24gKHRhYmxlLCBjc3YsIHVzZVRyYW5zYWN0aW9uLCByb3dGaWx0ZXIsIG9uUHJvZ3Jlc3MpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciB0ID0gdGhpcztcclxuICAgICAgICB2YXIgZmllbGRzID0gW107XHJcbiAgICAgICAgdmFyIHJvd0RhdGEgPSBjc3Yuc3BsaXQoXCJcXG5cIikubWFwKGZ1bmN0aW9uICh2LCBrKSB7XHJcbiAgICAgICAgICAgIGlmIChrID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBmaWVsZHMgPSB2LnNwbGl0KFwiLFwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVjb3JkID0ge307XHJcbiAgICAgICAgICAgICAgICB2YXIgcm93XzEgPSB2Lm1hdGNoKC8oLCl8KFtcInxcXFt8XFx7XS4qP1tcInxcXF18XFx9XXxbXlwiLFxcc10rKSg/PVxccyosfFxccyokKS9nKSB8fCBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBmaXRzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAocm93XzFbMF0gPT09IFwiLFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93XzEudW5zaGlmdChcIlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkb0JyZWFrID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93XzEuZm9yRWFjaChmdW5jdGlvbiAodmFsLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb0JyZWFrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsID09PSBcIixcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByb3dfMVtpICsgMV0gPT09IFwidW5kZWZpbmVkXCIgfHwgcm93XzFbaSArIDFdID09PSBcIixcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvQnJlYWsgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd18xLnNwbGljZShpICsgMSwgMCwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRvQnJlYWspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZml0cyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJicmVha1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoIWZpdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGVfMSA9IF9sb29wXzEoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGVfMSA9PT0gXCJicmVha1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJvd18xID0gcm93XzEuZmlsdGVyKGZ1bmN0aW9uICh2LCBpKSB7IHJldHVybiBpICUgMiA9PT0gMDsgfSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaSA9IGZpZWxkcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvd18xW2ldLmluZGV4T2YoXCJ7XCIpID09PSAxIHx8IHJvd18xW2ldLmluZGV4T2YoXCJbXCIpID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dfMVtpXSA9IEpTT04ucGFyc2Uocm93XzFbaV0uc2xpY2UoMSwgcm93XzFbaV0ubGVuZ3RoIC0gMSkucmVwbGFjZSgvJy9nbSwgJ1xcXCInKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyb3dfMVtpXS5pbmRleE9mKCdcIicpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd18xW2ldID0gcm93XzFbaV0uc2xpY2UoMSwgcm93XzFbaV0ubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlY29yZFtmaWVsZHNbaV1dID0gcm93XzFbaV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocm93RmlsdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvd0ZpbHRlcihyZWNvcmQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlY29yZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gcjsgfSk7XHJcbiAgICAgICAgaWYgKHVzZVRyYW5zYWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0LmRvVHJhbnNhY3Rpb24oZnVuY3Rpb24gKGRiLCBjb21wbGV0ZSkge1xyXG4gICAgICAgICAgICAgICAgcm93RGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYih0YWJsZSkucXVlcnkoXCJ1cHNlcnRcIiwgcm93KS5leGVjKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyB1dGlsaXRpZXNfMS5Qcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikge1xyXG4gICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdENIQUlOKHJvd0RhdGEsIGZ1bmN0aW9uIChyb3csIGksIG5leHRSb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob25Qcm9ncmVzcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25Qcm9ncmVzcyhNYXRoLnJvdW5kKCgoaSArIDEpIC8gcm93RGF0YS5sZW5ndGgpICogMTAwMDApIC8gMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5xdWVyeShcInVwc2VydFwiLCByb3cpLm1hbnVhbEV4ZWMoeyB0YWJsZTogdGFibGUgfSkudGhlbihuZXh0Um93KTtcclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXMocm93cy5tYXAoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuc2hpZnQoKTsgfSkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gTmFub1NRTEluc3RhbmNlO1xyXG59KCkpO1xyXG5leHBvcnRzLk5hbm9TUUxJbnN0YW5jZSA9IE5hbm9TUUxJbnN0YW5jZTtcclxuTmFub1NRTEluc3RhbmNlLmZ1bmN0aW9ucyA9IHtcclxuICAgIENPVU5UOiB7XHJcbiAgICAgICAgdHlwZTogXCJBXCIsXHJcbiAgICAgICAgY2FsbDogZnVuY3Rpb24gKHJvd3MsIGNvbXBsZXRlLCBjb2x1bW4pIHtcclxuICAgICAgICAgICAgaWYgKGNvbHVtbiAmJiBjb2x1bW4gIT09IFwiKlwiKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShyb3dzLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gdXRpbGl0aWVzXzEub2JqUXVlcnkoY29sdW1uLCByKTsgfSkubGVuZ3RoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKHJvd3MubGVuZ3RoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBNQVg6IHtcclxuICAgICAgICB0eXBlOiBcIkFcIixcclxuICAgICAgICBjYWxsOiBmdW5jdGlvbiAocm93cywgY29tcGxldGUsIGNvbHVtbikge1xyXG4gICAgICAgICAgICBpZiAocm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXhfMSA9IHV0aWxpdGllc18xLm9ialF1ZXJ5KGNvbHVtbiwgcm93c1swXSkgfHwgMDtcclxuICAgICAgICAgICAgICAgIHJvd3MuZm9yRWFjaChmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2ID0gdXRpbGl0aWVzXzEub2JqUXVlcnkoY29sdW1uLCByKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodXRpbGl0aWVzXzEub2JqUXVlcnkoY29sdW1uLCByKSA+IG1heF8xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heF8xID0gdXRpbGl0aWVzXzEub2JqUXVlcnkoY29sdW1uLCByKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKG1heF8xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIE1JTjoge1xyXG4gICAgICAgIHR5cGU6IFwiQVwiLFxyXG4gICAgICAgIGNhbGw6IGZ1bmN0aW9uIChyb3dzLCBjb21wbGV0ZSwgY29sdW1uKSB7XHJcbiAgICAgICAgICAgIGlmIChyb3dzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1pbl8xID0gdXRpbGl0aWVzXzEub2JqUXVlcnkoY29sdW1uLCByb3dzWzBdKSB8fCAwO1xyXG4gICAgICAgICAgICAgICAgcm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHYgPSB1dGlsaXRpZXNfMS5vYmpRdWVyeShjb2x1bW4sIHIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2IDwgbWluXzEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWluXzEgPSB2O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUobWluXzEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgQVZHOiB7XHJcbiAgICAgICAgdHlwZTogXCJBXCIsXHJcbiAgICAgICAgY2FsbDogZnVuY3Rpb24gKHJvd3MsIGNvbXBsZXRlLCBjb2x1bW4pIHtcclxuICAgICAgICAgICAgY29tcGxldGUocm93cy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGN1cikgeyByZXR1cm4gcHJldiArICh1dGlsaXRpZXNfMS5vYmpRdWVyeShjb2x1bW4sIGN1cikgfHwgMCk7IH0sIDApIC8gcm93cy5sZW5ndGgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBTVU06IHtcclxuICAgICAgICB0eXBlOiBcIkFcIixcclxuICAgICAgICBjYWxsOiBmdW5jdGlvbiAocm93cywgY29tcGxldGUsIGNvbHVtbikge1xyXG4gICAgICAgICAgICBjb21wbGV0ZShyb3dzLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VyKSB7IHJldHVybiBwcmV2ICsgKHV0aWxpdGllc18xLm9ialF1ZXJ5KGNvbHVtbiwgY3VyKSB8fCAwKTsgfSwgMCkpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBMT1dFUjoge1xyXG4gICAgICAgIHR5cGU6IFwiU1wiLFxyXG4gICAgICAgIGNhbGw6IGZ1bmN0aW9uIChyb3dzLCBjb21wbGV0ZSwgY29sdW1uKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKHJvd3MubWFwKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKHV0aWxpdGllc18xLm9ialF1ZXJ5KGNvbHVtbiwgcikpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgVVBQRVI6IHtcclxuICAgICAgICB0eXBlOiBcIlNcIixcclxuICAgICAgICBjYWxsOiBmdW5jdGlvbiAocm93cywgY29tcGxldGUsIGNvbHVtbikge1xyXG4gICAgICAgICAgICBjb21wbGV0ZShyb3dzLm1hcChmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyh1dGlsaXRpZXNfMS5vYmpRdWVyeShjb2x1bW4sIHIpKS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIENBU1Q6IHtcclxuICAgICAgICB0eXBlOiBcIlNcIixcclxuICAgICAgICBjYWxsOiBmdW5jdGlvbiAocm93cywgY29tcGxldGUsIGNvbHVtbiwgdHlwZSkge1xyXG4gICAgICAgICAgICBjb21wbGV0ZShyb3dzLm1hcChmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHV0aWxpdGllc18xLmNhc3QodHlwZSwgdXRpbGl0aWVzXzEub2JqUXVlcnkoY29sdW1uLCByKSk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgQUJTOiB7XHJcbiAgICAgICAgdHlwZTogXCJTXCIsXHJcbiAgICAgICAgY2FsbDogZnVuY3Rpb24gKHJvd3MsIGNvbXBsZXRlLCBjb2x1bW4pIHtcclxuICAgICAgICAgICAgY29tcGxldGUocm93cy5tYXAoZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh1dGlsaXRpZXNfMS5vYmpRdWVyeShjb2x1bW4sIHIpKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBDRUlMOiB7XHJcbiAgICAgICAgdHlwZTogXCJTXCIsXHJcbiAgICAgICAgY2FsbDogZnVuY3Rpb24gKHJvd3MsIGNvbXBsZXRlLCBjb2x1bW4pIHtcclxuICAgICAgICAgICAgY29tcGxldGUocm93cy5tYXAoZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmNlaWwodXRpbGl0aWVzXzEub2JqUXVlcnkoY29sdW1uLCByKSk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgUE9XOiB7XHJcbiAgICAgICAgdHlwZTogXCJTXCIsXHJcbiAgICAgICAgY2FsbDogZnVuY3Rpb24gKHJvd3MsIGNvbXBsZXRlLCBjb2x1bW4sIHBvd2VyKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKHJvd3MubWFwKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5wb3codXRpbGl0aWVzXzEub2JqUXVlcnkoY29sdW1uLCByKSwgcGFyc2VJbnQocG93ZXIpKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBST1VORDoge1xyXG4gICAgICAgIHR5cGU6IFwiU1wiLFxyXG4gICAgICAgIGNhbGw6IGZ1bmN0aW9uIChyb3dzLCBjb21wbGV0ZSwgY29sdW1uKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKHJvd3MubWFwKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCh1dGlsaXRpZXNfMS5vYmpRdWVyeShjb2x1bW4sIHIpKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBTUVJUOiB7XHJcbiAgICAgICAgdHlwZTogXCJTXCIsXHJcbiAgICAgICAgY2FsbDogZnVuY3Rpb24gKHJvd3MsIGNvbXBsZXRlLCBjb2x1bW4pIHtcclxuICAgICAgICAgICAgY29tcGxldGUocm93cy5tYXAoZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnNxcnQodXRpbGl0aWVzXzEub2JqUXVlcnkoY29sdW1uLCByKSk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbnZhciBfTmFub1NRTFN0YXRpYyA9IG5ldyBOYW5vU1FMSW5zdGFuY2UoKTtcclxuZXhwb3J0cy5uU1FMID0gZnVuY3Rpb24gKHNldFRhYmxlUG9pbnRlcikge1xyXG4gICAgcmV0dXJuIF9OYW5vU1FMU3RhdGljLnRhYmxlKHNldFRhYmxlUG9pbnRlcik7XHJcbn07XHJcbmlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICB3aW5kb3dbXCJuYW5vLXNxbFwiXSA9IHtcclxuICAgICAgICBuU1FMOiBleHBvcnRzLm5TUUwsXHJcbiAgICAgICAgTmFub1NRTEluc3RhbmNlOiBOYW5vU1FMSW5zdGFuY2VcclxuICAgIH07XHJcbn1cclxuIiwiZXhwb3J0cy5mID0ge30ucHJvcGVydHlJc0VudW1lcmFibGU7XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBMSUJSQVJZID0gcmVxdWlyZSgnLi9fbGlicmFyeScpO1xudmFyIHdrc0V4dCA9IHJlcXVpcmUoJy4vX3drcy1leHQnKTtcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmY7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIHZhciAkU3ltYm9sID0gY29yZS5TeW1ib2wgfHwgKGNvcmUuU3ltYm9sID0gTElCUkFSWSA/IHt9IDogZ2xvYmFsLlN5bWJvbCB8fCB7fSk7XG4gIGlmIChuYW1lLmNoYXJBdCgwKSAhPSAnXycgJiYgIShuYW1lIGluICRTeW1ib2wpKSBkZWZpbmVQcm9wZXJ0eSgkU3ltYm9sLCBuYW1lLCB7IHZhbHVlOiB3a3NFeHQuZihuYW1lKSB9KTtcbn07XG4iLCJleHBvcnRzLmYgPSByZXF1aXJlKCcuL193a3MnKTtcbiIsInZhciBkZWYgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIFRBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgdGFnLCBzdGF0KSB7XG4gIGlmIChpdCAmJiAhaGFzKGl0ID0gc3RhdCA/IGl0IDogaXQucHJvdG90eXBlLCBUQUcpKSBkZWYoaXQsIFRBRywgeyBjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiB0YWcgfSk7XG59O1xuIiwiLy8gSUUgOC0gZG9uJ3QgZW51bSBidWcga2V5c1xubW9kdWxlLmV4cG9ydHMgPSAoXG4gICdjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2YnXG4pLnNwbGl0KCcsJyk7XG4iLCIvLyAxOS4xLjIuMTQgLyAxNS4yLjMuMTQgT2JqZWN0LmtleXMoTylcbnZhciAka2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJyk7XG52YXIgZW51bUJ1Z0tleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyhPKSB7XG4gIHJldHVybiAka2V5cyhPLCBlbnVtQnVnS2V5cyk7XG59O1xuIiwiLy8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBkUHMgPSByZXF1aXJlKCcuL19vYmplY3QtZHBzJyk7XG52YXIgZW51bUJ1Z0tleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJyk7XG52YXIgSUVfUFJPVE8gPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJyk7XG52YXIgRW1wdHkgPSBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH07XG52YXIgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG5cbi8vIENyZWF0ZSBvYmplY3Qgd2l0aCBmYWtlIGBudWxsYCBwcm90b3R5cGU6IHVzZSBpZnJhbWUgT2JqZWN0IHdpdGggY2xlYXJlZCBwcm90b3R5cGVcbnZhciBjcmVhdGVEaWN0ID0gZnVuY3Rpb24gKCkge1xuICAvLyBUaHJhc2gsIHdhc3RlIGFuZCBzb2RvbXk6IElFIEdDIGJ1Z1xuICB2YXIgaWZyYW1lID0gcmVxdWlyZSgnLi9fZG9tLWNyZWF0ZScpKCdpZnJhbWUnKTtcbiAgdmFyIGkgPSBlbnVtQnVnS2V5cy5sZW5ndGg7XG4gIHZhciBsdCA9ICc8JztcbiAgdmFyIGd0ID0gJz4nO1xuICB2YXIgaWZyYW1lRG9jdW1lbnQ7XG4gIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICByZXF1aXJlKCcuL19odG1sJykuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgaWZyYW1lLnNyYyA9ICdqYXZhc2NyaXB0Oic7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2NyaXB0LXVybFxuICAvLyBjcmVhdGVEaWN0ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuT2JqZWN0O1xuICAvLyBodG1sLnJlbW92ZUNoaWxkKGlmcmFtZSk7XG4gIGlmcmFtZURvY3VtZW50ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG4gIGlmcmFtZURvY3VtZW50Lm9wZW4oKTtcbiAgaWZyYW1lRG9jdW1lbnQud3JpdGUobHQgKyAnc2NyaXB0JyArIGd0ICsgJ2RvY3VtZW50LkY9T2JqZWN0JyArIGx0ICsgJy9zY3JpcHQnICsgZ3QpO1xuICBpZnJhbWVEb2N1bWVudC5jbG9zZSgpO1xuICBjcmVhdGVEaWN0ID0gaWZyYW1lRG9jdW1lbnQuRjtcbiAgd2hpbGUgKGktLSkgZGVsZXRlIGNyZWF0ZURpY3RbUFJPVE9UWVBFXVtlbnVtQnVnS2V5c1tpXV07XG4gIHJldHVybiBjcmVhdGVEaWN0KCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5jcmVhdGUgfHwgZnVuY3Rpb24gY3JlYXRlKE8sIFByb3BlcnRpZXMpIHtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKE8gIT09IG51bGwpIHtcbiAgICBFbXB0eVtQUk9UT1RZUEVdID0gYW5PYmplY3QoTyk7XG4gICAgcmVzdWx0ID0gbmV3IEVtcHR5KCk7XG4gICAgRW1wdHlbUFJPVE9UWVBFXSA9IG51bGw7XG4gICAgLy8gYWRkIFwiX19wcm90b19fXCIgZm9yIE9iamVjdC5nZXRQcm90b3R5cGVPZiBwb2x5ZmlsbFxuICAgIHJlc3VsdFtJRV9QUk9UT10gPSBPO1xuICB9IGVsc2UgcmVzdWx0ID0gY3JlYXRlRGljdCgpO1xuICByZXR1cm4gUHJvcGVydGllcyA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogZFBzKHJlc3VsdCwgUHJvcGVydGllcyk7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7fTtcbiIsIm1vZHVsZS5leHBvcnRzID0gdHJ1ZTtcbiIsIi8vIDcuMS40IFRvSW50ZWdlclxudmFyIGNlaWwgPSBNYXRoLmNlaWw7XG52YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGlzTmFOKGl0ID0gK2l0KSA/IDAgOiAoaXQgPiAwID8gZmxvb3IgOiBjZWlsKShpdCk7XG59O1xuIiwiLy8gNy4xLjEgVG9QcmltaXRpdmUoaW5wdXQgWywgUHJlZmVycmVkVHlwZV0pXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbi8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlXG4vLyBhbmQgdGhlIHNlY29uZCBhcmd1bWVudCAtIGZsYWcgLSBwcmVmZXJyZWQgdHlwZSBpcyBhIHN0cmluZ1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQsIFMpIHtcbiAgaWYgKCFpc09iamVjdChpdCkpIHJldHVybiBpdDtcbiAgdmFyIGZuLCB2YWw7XG4gIGlmIChTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsO1xuICBpZiAodHlwZW9mIChmbiA9IGl0LnZhbHVlT2YpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcbiAgaWYgKCFTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsO1xuICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG59O1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nO1xudmFyIHN0b3JlID0gZ2xvYmFsW1NIQVJFRF0gfHwgKGdsb2JhbFtTSEFSRURdID0ge30pO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0ge30pO1xufTtcbiIsInZhciBzaGFyZWQgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgna2V5cycpO1xudmFyIHVpZCA9IHJlcXVpcmUoJy4vX3VpZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiBzaGFyZWRba2V5XSB8fCAoc2hhcmVkW2tleV0gPSB1aWQoa2V5KSk7XG59O1xuIiwiLy8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudClcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChpdCA9PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcbiIsInZhciBnO1xyXG5cclxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcclxuZyA9IChmdW5jdGlvbigpIHtcclxuXHRyZXR1cm4gdGhpcztcclxufSkoKTtcclxuXHJcbnRyeSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXHJcblx0ZyA9IGcgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpIHx8ICgxLCBldmFsKShcInRoaXNcIik7XHJcbn0gY2F0Y2ggKGUpIHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxyXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xyXG59XHJcblxyXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXHJcbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXHJcbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZztcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogXG4gKi9cblxuZnVuY3Rpb24gbWFrZUVtcHR5RnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGFyZztcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGFjY2VwdHMgYW5kIGRpc2NhcmRzIGlucHV0czsgaXQgaGFzIG5vIHNpZGUgZWZmZWN0cy4gVGhpcyBpc1xuICogcHJpbWFyaWx5IHVzZWZ1bCBpZGlvbWF0aWNhbGx5IGZvciBvdmVycmlkYWJsZSBmdW5jdGlvbiBlbmRwb2ludHMgd2hpY2hcbiAqIGFsd2F5cyBuZWVkIHRvIGJlIGNhbGxhYmxlLCBzaW5jZSBKUyBsYWNrcyBhIG51bGwtY2FsbCBpZGlvbSBhbGEgQ29jb2EuXG4gKi9cbnZhciBlbXB0eUZ1bmN0aW9uID0gZnVuY3Rpb24gZW1wdHlGdW5jdGlvbigpIHt9O1xuXG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zID0gbWFrZUVtcHR5RnVuY3Rpb247XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2UgPSBtYWtlRW1wdHlGdW5jdGlvbihmYWxzZSk7XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKHRydWUpO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGwgPSBtYWtlRW1wdHlGdW5jdGlvbihudWxsKTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUaGlzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zQXJndW1lbnQgPSBmdW5jdGlvbiAoYXJnKSB7XG4gIHJldHVybiBhcmc7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVtcHR5RnVuY3Rpb247IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgZW1wdHlGdW5jdGlvbiA9IHJlcXVpcmUoJy4vZW1wdHlGdW5jdGlvbicpO1xuXG4vKipcbiAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcbiAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXG4gKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cbiAqL1xuXG52YXIgd2FybmluZyA9IGVtcHR5RnVuY3Rpb247XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbiBwcmludFdhcm5pbmcoZm9ybWF0KSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgfSk7XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIC8vIC0tLSBXZWxjb21lIHRvIGRlYnVnZ2luZyBSZWFjdCAtLS1cbiAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoeCkge31cbiAgfTtcblxuICB3YXJuaW5nID0gZnVuY3Rpb24gd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCkge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdgd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICsgJ21lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG5cbiAgICBpZiAoZm9ybWF0LmluZGV4T2YoJ0ZhaWxlZCBDb21wb3NpdGUgcHJvcFR5cGU6ICcpID09PSAwKSB7XG4gICAgICByZXR1cm47IC8vIElnbm9yZSBDb21wb3NpdGVDb21wb25lbnQgcHJvcHR5cGUgY2hlY2suXG4gICAgfVxuXG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yID4gMiA/IF9sZW4yIC0gMiA6IDApLCBfa2V5MiA9IDI7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5MiAtIDJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgcHJpbnRXYXJuaW5nLmFwcGx5KHVuZGVmaW5lZCwgW2Zvcm1hdF0uY29uY2F0KGFyZ3MpKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gd2FybmluZzsiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciB2YWxpZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0KGZvcm1hdCkge307XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhbGlkYXRlRm9ybWF0ID0gZnVuY3Rpb24gdmFsaWRhdGVGb3JtYXQoZm9ybWF0KSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgdmFsaWRhdGVGb3JtYXQoZm9ybWF0KTtcblxuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHZhciBlcnJvcjtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKCdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICsgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgfSkpO1xuICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB9XG5cbiAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7IiwidmFyIHBJRSA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKTtcbnZhciBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIElFOF9ET01fREVGSU5FID0gcmVxdWlyZSgnLi9faWU4LWRvbS1kZWZpbmUnKTtcbnZhciBnT1BEID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGdPUEQgOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCkge1xuICBPID0gdG9JT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gZ09QRChPLCBQKTtcbiAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG4gIGlmIChoYXMoTywgUCkpIHJldHVybiBjcmVhdGVEZXNjKCFwSUUuZi5jYWxsKE8sIFApLCBPW1BdKTtcbn07XG4iLCIvLyAxOS4xLjIuNyAvIDE1LjIuMy40IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG52YXIgJGtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cy1pbnRlcm5hbCcpO1xudmFyIGhpZGRlbktleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJykuY29uY2F0KCdsZW5ndGgnLCAncHJvdG90eXBlJyk7XG5cbmV4cG9ydHMuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHx8IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoTykge1xuICByZXR1cm4gJGtleXMoTywgaGlkZGVuS2V5cyk7XG59O1xuIiwiZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbiIsInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChpdCkuc2xpY2UoOCwgLTEpO1xufTtcbiIsInZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG52YXIgYXJyYXlJbmRleE9mID0gcmVxdWlyZSgnLi9fYXJyYXktaW5jbHVkZXMnKShmYWxzZSk7XG52YXIgSUVfUFJPVE8gPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZXMpIHtcbiAgdmFyIE8gPSB0b0lPYmplY3Qob2JqZWN0KTtcbiAgdmFyIGkgPSAwO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBrZXk7XG4gIGZvciAoa2V5IGluIE8pIGlmIChrZXkgIT0gSUVfUFJPVE8pIGhhcyhPLCBrZXkpICYmIHJlc3VsdC5wdXNoKGtleSk7XG4gIC8vIERvbid0IGVudW0gYnVnICYgaGlkZGVuIGtleXNcbiAgd2hpbGUgKG5hbWVzLmxlbmd0aCA+IGkpIGlmIChoYXMoTywga2V5ID0gbmFtZXNbaSsrXSkpIHtcbiAgICB+YXJyYXlJbmRleE9mKHJlc3VsdCwga2V5KSB8fCByZXN1bHQucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19oaWRlJyk7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKTtcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuL19yZWRlZmluZScpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgJGl0ZXJDcmVhdGUgPSByZXF1aXJlKCcuL19pdGVyLWNyZWF0ZScpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciBnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4vX29iamVjdC1ncG8nKTtcbnZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIEJVR0dZID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpOyAvLyBTYWZhcmkgaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG52YXIgRkZfSVRFUkFUT1IgPSAnQEBpdGVyYXRvcic7XG52YXIgS0VZUyA9ICdrZXlzJztcbnZhciBWQUxVRVMgPSAndmFsdWVzJztcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpIHtcbiAgJGl0ZXJDcmVhdGUoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuICB2YXIgZ2V0TWV0aG9kID0gZnVuY3Rpb24gKGtpbmQpIHtcbiAgICBpZiAoIUJVR0dZICYmIGtpbmQgaW4gcHJvdG8pIHJldHVybiBwcm90b1traW5kXTtcbiAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKSB7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgICBjYXNlIFZBTFVFUzogcmV0dXJuIGZ1bmN0aW9uIHZhbHVlcygpIHsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCkgeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICB9O1xuICB2YXIgVEFHID0gTkFNRSArICcgSXRlcmF0b3InO1xuICB2YXIgREVGX1ZBTFVFUyA9IERFRkFVTFQgPT0gVkFMVUVTO1xuICB2YXIgVkFMVUVTX0JVRyA9IGZhbHNlO1xuICB2YXIgcHJvdG8gPSBCYXNlLnByb3RvdHlwZTtcbiAgdmFyICRuYXRpdmUgPSBwcm90b1tJVEVSQVRPUl0gfHwgcHJvdG9bRkZfSVRFUkFUT1JdIHx8IERFRkFVTFQgJiYgcHJvdG9bREVGQVVMVF07XG4gIHZhciAkZGVmYXVsdCA9ICRuYXRpdmUgfHwgZ2V0TWV0aG9kKERFRkFVTFQpO1xuICB2YXIgJGVudHJpZXMgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkO1xuICB2YXIgJGFueU5hdGl2ZSA9IE5BTUUgPT0gJ0FycmF5JyA/IHByb3RvLmVudHJpZXMgfHwgJG5hdGl2ZSA6ICRuYXRpdmU7XG4gIHZhciBtZXRob2RzLCBrZXksIEl0ZXJhdG9yUHJvdG90eXBlO1xuICAvLyBGaXggbmF0aXZlXG4gIGlmICgkYW55TmF0aXZlKSB7XG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZigkYW55TmF0aXZlLmNhbGwobmV3IEJhc2UoKSkpO1xuICAgIGlmIChJdGVyYXRvclByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBJdGVyYXRvclByb3RvdHlwZS5uZXh0KSB7XG4gICAgICAvLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzXG4gICAgICBzZXRUb1N0cmluZ1RhZyhJdGVyYXRvclByb3RvdHlwZSwgVEFHLCB0cnVlKTtcbiAgICAgIC8vIGZpeCBmb3Igc29tZSBvbGQgZW5naW5lc1xuICAgICAgaWYgKCFMSUJSQVJZICYmIHR5cGVvZiBJdGVyYXRvclByb3RvdHlwZVtJVEVSQVRPUl0gIT0gJ2Z1bmN0aW9uJykgaGlkZShJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuICAgIH1cbiAgfVxuICAvLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGXG4gIGlmIChERUZfVkFMVUVTICYmICRuYXRpdmUgJiYgJG5hdGl2ZS5uYW1lICE9PSBWQUxVRVMpIHtcbiAgICBWQUxVRVNfQlVHID0gdHJ1ZTtcbiAgICAkZGVmYXVsdCA9IGZ1bmN0aW9uIHZhbHVlcygpIHsgcmV0dXJuICRuYXRpdmUuY2FsbCh0aGlzKTsgfTtcbiAgfVxuICAvLyBEZWZpbmUgaXRlcmF0b3JcbiAgaWYgKCghTElCUkFSWSB8fCBGT1JDRUQpICYmIChCVUdHWSB8fCBWQUxVRVNfQlVHIHx8ICFwcm90b1tJVEVSQVRPUl0pKSB7XG4gICAgaGlkZShwcm90bywgSVRFUkFUT1IsICRkZWZhdWx0KTtcbiAgfVxuICAvLyBQbHVnIGZvciBsaWJyYXJ5XG4gIEl0ZXJhdG9yc1tOQU1FXSA9ICRkZWZhdWx0O1xuICBJdGVyYXRvcnNbVEFHXSA9IHJldHVyblRoaXM7XG4gIGlmIChERUZBVUxUKSB7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKFZBTFVFUyksXG4gICAgICBrZXlzOiBJU19TRVQgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChLRVlTKSxcbiAgICAgIGVudHJpZXM6ICRlbnRyaWVzXG4gICAgfTtcbiAgICBpZiAoRk9SQ0VEKSBmb3IgKGtleSBpbiBtZXRob2RzKSB7XG4gICAgICBpZiAoIShrZXkgaW4gcHJvdG8pKSByZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuICAgIH0gZWxzZSAkZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIChCVUdHWSB8fCBWQUxVRVNfQlVHKSwgTkFNRSwgbWV0aG9kcyk7XG4gIH1cbiAgcmV0dXJuIG1ldGhvZHM7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfaXRlcmF0b3IgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9zeW1ib2wvaXRlcmF0b3JcIik7XG5cbnZhciBfaXRlcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlcmF0b3IpO1xuXG52YXIgX3N5bWJvbCA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL3N5bWJvbFwiKTtcblxudmFyIF9zeW1ib2wyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ltYm9sKTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBfaXRlcmF0b3IyLmRlZmF1bHQgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ICYmIG9iaiAhPT0gX3N5bWJvbDIuZGVmYXVsdC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBfdHlwZW9mKF9pdGVyYXRvcjIuZGVmYXVsdCkgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqKTtcbn0gOiBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogJiYgdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9zeW1ib2wyLmRlZmF1bHQgJiYgb2JqICE9PSBfc3ltYm9sMi5kZWZhdWx0LnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqKTtcbn07IiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgZG9jdW1lbnQgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudDtcbi8vIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50IGlzICdvYmplY3QnIGluIG9sZCBJRVxudmFyIGlzID0gaXNPYmplY3QoZG9jdW1lbnQpICYmIGlzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGlzID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpICYmICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2RpdicpLCAnYScsIHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA3OyB9IH0pLmEgIT0gNztcbn0pO1xuIiwiLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG52YXIgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9fYS1mdW5jdGlvbicpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZm4sIHRoYXQsIGxlbmd0aCkge1xuICBhRnVuY3Rpb24oZm4pO1xuICBpZiAodGhhdCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZm47XG4gIHN3aXRjaCAobGVuZ3RoKSB7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgIH07XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIpO1xuICAgIH07XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIsIGMpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uICgvKiAuLi5hcmdzICovKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59O1xuIiwiLy8gMTkuMS4yLjkgLyAxNS4yLjMuMiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpO1xudmFyIElFX1BST1RPID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xudmFyIE9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gKE8pIHtcbiAgTyA9IHRvT2JqZWN0KE8pO1xuICBpZiAoaGFzKE8sIElFX1BST1RPKSkgcmV0dXJuIE9bSUVfUFJPVE9dO1xuICBpZiAodHlwZW9mIE8uY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBPIGluc3RhbmNlb2YgTy5jb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBPLmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgfSByZXR1cm4gTyBpbnN0YW5jZW9mIE9iamVjdCA/IE9iamVjdFByb3RvIDogbnVsbDtcbn07XG4iLCIvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIHZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuICB2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSByZXF1aXJlKCcuL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldCcpO1xuICB2YXIgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XG59XG5cbi8qKlxuICogQXNzZXJ0IHRoYXQgdGhlIHZhbHVlcyBtYXRjaCB3aXRoIHRoZSB0eXBlIHNwZWNzLlxuICogRXJyb3IgbWVzc2FnZXMgYXJlIG1lbW9yaXplZCBhbmQgd2lsbCBvbmx5IGJlIHNob3duIG9uY2UuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHR5cGVTcGVjcyBNYXAgb2YgbmFtZSB0byBhIFJlYWN0UHJvcFR5cGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB2YWx1ZXMgUnVudGltZSB2YWx1ZXMgdGhhdCBuZWVkIHRvIGJlIHR5cGUtY2hlY2tlZFxuICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uIGUuZy4gXCJwcm9wXCIsIFwiY29udGV4dFwiLCBcImNoaWxkIGNvbnRleHRcIlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudE5hbWUgTmFtZSBvZiB0aGUgY29tcG9uZW50IGZvciBlcnJvciBtZXNzYWdlcy5cbiAqIEBwYXJhbSB7P0Z1bmN0aW9ufSBnZXRTdGFjayBSZXR1cm5zIHRoZSBjb21wb25lbnQgc3RhY2suXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjaGVja1Byb3BUeXBlcyh0eXBlU3BlY3MsIHZhbHVlcywgbG9jYXRpb24sIGNvbXBvbmVudE5hbWUsIGdldFN0YWNrKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgZm9yICh2YXIgdHlwZVNwZWNOYW1lIGluIHR5cGVTcGVjcykge1xuICAgICAgaWYgKHR5cGVTcGVjcy5oYXNPd25Qcm9wZXJ0eSh0eXBlU3BlY05hbWUpKSB7XG4gICAgICAgIHZhciBlcnJvcjtcbiAgICAgICAgLy8gUHJvcCB0eXBlIHZhbGlkYXRpb24gbWF5IHRocm93LiBJbiBjYXNlIHRoZXkgZG8sIHdlIGRvbid0IHdhbnQgdG9cbiAgICAgICAgLy8gZmFpbCB0aGUgcmVuZGVyIHBoYXNlIHdoZXJlIGl0IGRpZG4ndCBmYWlsIGJlZm9yZS4gU28gd2UgbG9nIGl0LlxuICAgICAgICAvLyBBZnRlciB0aGVzZSBoYXZlIGJlZW4gY2xlYW5lZCB1cCwgd2UnbGwgbGV0IHRoZW0gdGhyb3cuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbGx5IGFuIGludmFyaWFudCB0aGF0IGdldHMgY2F1Z2h0LiBJdCdzIHRoZSBzYW1lXG4gICAgICAgICAgLy8gYmVoYXZpb3IgYXMgd2l0aG91dCB0aGlzIHN0YXRlbWVudCBleGNlcHQgd2l0aCBhIGJldHRlciBtZXNzYWdlLlxuICAgICAgICAgIGludmFyaWFudCh0eXBlb2YgdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0gPT09ICdmdW5jdGlvbicsICclczogJXMgdHlwZSBgJXNgIGlzIGludmFsaWQ7IGl0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tICcgKyAndGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLCBidXQgcmVjZWl2ZWQgYCVzYC4nLCBjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycsIGxvY2F0aW9uLCB0eXBlU3BlY05hbWUsIHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSk7XG4gICAgICAgICAgZXJyb3IgPSB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSh2YWx1ZXMsIHR5cGVTcGVjTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIG51bGwsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICBlcnJvciA9IGV4O1xuICAgICAgICB9XG4gICAgICAgIHdhcm5pbmcoIWVycm9yIHx8IGVycm9yIGluc3RhbmNlb2YgRXJyb3IsICclczogdHlwZSBzcGVjaWZpY2F0aW9uIG9mICVzIGAlc2AgaXMgaW52YWxpZDsgdGhlIHR5cGUgY2hlY2tlciAnICsgJ2Z1bmN0aW9uIG11c3QgcmV0dXJuIGBudWxsYCBvciBhbiBgRXJyb3JgIGJ1dCByZXR1cm5lZCBhICVzLiAnICsgJ1lvdSBtYXkgaGF2ZSBmb3Jnb3R0ZW4gdG8gcGFzcyBhbiBhcmd1bWVudCB0byB0aGUgdHlwZSBjaGVja2VyICcgKyAnY3JlYXRvciAoYXJyYXlPZiwgaW5zdGFuY2VPZiwgb2JqZWN0T2YsIG9uZU9mLCBvbmVPZlR5cGUsIGFuZCAnICsgJ3NoYXBlIGFsbCByZXF1aXJlIGFuIGFyZ3VtZW50KS4nLCBjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycsIGxvY2F0aW9uLCB0eXBlU3BlY05hbWUsIHR5cGVvZiBlcnJvcik7XG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICEoZXJyb3IubWVzc2FnZSBpbiBsb2dnZWRUeXBlRmFpbHVyZXMpKSB7XG4gICAgICAgICAgLy8gT25seSBtb25pdG9yIHRoaXMgZmFpbHVyZSBvbmNlIGJlY2F1c2UgdGhlcmUgdGVuZHMgdG8gYmUgYSBsb3Qgb2YgdGhlXG4gICAgICAgICAgLy8gc2FtZSBlcnJvci5cbiAgICAgICAgICBsb2dnZWRUeXBlRmFpbHVyZXNbZXJyb3IubWVzc2FnZV0gPSB0cnVlO1xuXG4gICAgICAgICAgdmFyIHN0YWNrID0gZ2V0U3RhY2sgPyBnZXRTdGFjaygpIDogJyc7XG5cbiAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnRmFpbGVkICVzIHR5cGU6ICVzJXMnLCBsb2NhdGlvbiwgZXJyb3IubWVzc2FnZSwgc3RhY2sgIT0gbnVsbCA/IHN0YWNrIDogJycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY2hlY2tQcm9wVHlwZXM7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBlbXB0eU9iamVjdCA9IHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBPYmplY3QuZnJlZXplKGVtcHR5T2JqZWN0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlbXB0eU9iamVjdDsiLCIvKlxub2JqZWN0LWFzc2lnblxuKGMpIFNpbmRyZSBTb3JodXNcbkBsaWNlbnNlIE1JVFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBwcm9wSXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuZnVuY3Rpb24gdG9PYmplY3QodmFsKSB7XG5cdGlmICh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZCcpO1xuXHR9XG5cblx0cmV0dXJuIE9iamVjdCh2YWwpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRVc2VOYXRpdmUoKSB7XG5cdHRyeSB7XG5cdFx0aWYgKCFPYmplY3QuYXNzaWduKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZWN0IGJ1Z2d5IHByb3BlcnR5IGVudW1lcmF0aW9uIG9yZGVyIGluIG9sZGVyIFY4IHZlcnNpb25zLlxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9NDExOFxuXHRcdHZhciB0ZXN0MSA9IG5ldyBTdHJpbmcoJ2FiYycpOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXctd3JhcHBlcnNcblx0XHR0ZXN0MVs1XSA9ICdkZSc7XG5cdFx0aWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QxKVswXSA9PT0gJzUnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MiA9IHt9O1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuXHRcdFx0dGVzdDJbJ18nICsgU3RyaW5nLmZyb21DaGFyQ29kZShpKV0gPSBpO1xuXHRcdH1cblx0XHR2YXIgb3JkZXIyID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDIpLm1hcChmdW5jdGlvbiAobikge1xuXHRcdFx0cmV0dXJuIHRlc3QyW25dO1xuXHRcdH0pO1xuXHRcdGlmIChvcmRlcjIuam9pbignJykgIT09ICcwMTIzNDU2Nzg5Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDMgPSB7fTtcblx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChsZXR0ZXIpIHtcblx0XHRcdHRlc3QzW2xldHRlcl0gPSBsZXR0ZXI7XG5cdFx0fSk7XG5cdFx0aWYgKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIHRlc3QzKSkuam9pbignJykgIT09XG5cdFx0XHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Ly8gV2UgZG9uJ3QgZXhwZWN0IGFueSBvZiB0aGUgYWJvdmUgdG8gdGhyb3csIGJ1dCBiZXR0ZXIgdG8gYmUgc2FmZS5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaG91bGRVc2VOYXRpdmUoKSA/IE9iamVjdC5hc3NpZ24gOiBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UpIHtcblx0dmFyIGZyb207XG5cdHZhciB0byA9IHRvT2JqZWN0KHRhcmdldCk7XG5cdHZhciBzeW1ib2xzO1xuXG5cdGZvciAodmFyIHMgPSAxOyBzIDwgYXJndW1lbnRzLmxlbmd0aDsgcysrKSB7XG5cdFx0ZnJvbSA9IE9iamVjdChhcmd1bWVudHNbc10pO1xuXG5cdFx0Zm9yICh2YXIga2V5IGluIGZyb20pIHtcblx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZyb20sIGtleSkpIHtcblx0XHRcdFx0dG9ba2V5XSA9IGZyb21ba2V5XTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG5cdFx0XHRzeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGZyb20pO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChwcm9wSXNFbnVtZXJhYmxlLmNhbGwoZnJvbSwgc3ltYm9sc1tpXSkpIHtcblx0XHRcdFx0XHR0b1tzeW1ib2xzW2ldXSA9IGZyb21bc3ltYm9sc1tpXV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdG87XG59O1xuIiwidmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbi8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuJGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7IGNyZWF0ZTogcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpIH0pO1xuIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGUoUCwgRCkge1xuICByZXR1cm4gJE9iamVjdC5jcmVhdGUoUCwgRCk7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGVcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCIvLyBXb3JrcyB3aXRoIF9fcHJvdG9fXyBvbmx5LiBPbGQgdjggY2FuJ3Qgd29yayB3aXRoIG51bGwgcHJvdG8gb2JqZWN0cy5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGNoZWNrID0gZnVuY3Rpb24gKE8sIHByb3RvKSB7XG4gIGFuT2JqZWN0KE8pO1xuICBpZiAoIWlzT2JqZWN0KHByb3RvKSAmJiBwcm90byAhPT0gbnVsbCkgdGhyb3cgVHlwZUVycm9yKHByb3RvICsgXCI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhXCIpO1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgZnVuY3Rpb24gKHRlc3QsIGJ1Z2d5LCBzZXQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldCA9IHJlcXVpcmUoJy4vX2N0eCcpKEZ1bmN0aW9uLmNhbGwsIHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJykuZihPYmplY3QucHJvdG90eXBlLCAnX19wcm90b19fJykuc2V0LCAyKTtcbiAgICAgICAgc2V0KHRlc3QsIFtdKTtcbiAgICAgICAgYnVnZ3kgPSAhKHRlc3QgaW5zdGFuY2VvZiBBcnJheSk7XG4gICAgICB9IGNhdGNoIChlKSB7IGJ1Z2d5ID0gdHJ1ZTsgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKE8sIHByb3RvKSB7XG4gICAgICAgIGNoZWNrKE8sIHByb3RvKTtcbiAgICAgICAgaWYgKGJ1Z2d5KSBPLl9fcHJvdG9fXyA9IHByb3RvO1xuICAgICAgICBlbHNlIHNldChPLCBwcm90byk7XG4gICAgICAgIHJldHVybiBPO1xuICAgICAgfTtcbiAgICB9KHt9LCBmYWxzZSkgOiB1bmRlZmluZWQpLFxuICBjaGVjazogY2hlY2tcbn07XG4iLCIvLyAxOS4xLjMuMTkgT2JqZWN0LnNldFByb3RvdHlwZU9mKE8sIHByb3RvKVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbiRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0JywgeyBzZXRQcm90b3R5cGVPZjogcmVxdWlyZSgnLi9fc2V0LXByb3RvJykuc2V0IH0pO1xuIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdC5zZXRQcm90b3R5cGVPZjtcbiIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZlwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3NldFByb3RvdHlwZU9mID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2ZcIik7XG5cbnZhciBfc2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NyZWF0ZSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9jcmVhdGVcIik7XG5cbnZhciBfY3JlYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZSk7XG5cbnZhciBfdHlwZW9mMiA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL3R5cGVvZlwiKTtcblxudmFyIF90eXBlb2YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZW9mMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyAodHlwZW9mIHN1cGVyQ2xhc3MgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogKDAsIF90eXBlb2YzLmRlZmF1bHQpKHN1cGVyQ2xhc3MpKSk7XG4gIH1cblxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSAoMCwgX2NyZWF0ZTIuZGVmYXVsdCkoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZjIuZGVmYXVsdCA/ICgwLCBfc2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG59OyIsInJlcXVpcmUoJy4vX3drcy1kZWZpbmUnKSgnb2JzZXJ2YWJsZScpO1xuIiwicmVxdWlyZSgnLi9fd2tzLWRlZmluZScpKCdhc3luY0l0ZXJhdG9yJyk7XG4iLCIvLyBmYWxsYmFjayBmb3IgSUUxMSBidWdneSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aXRoIGlmcmFtZSBhbmQgd2luZG93XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIGdPUE4gPSByZXF1aXJlKCcuL19vYmplY3QtZ29wbicpLmY7XG52YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxudmFyIHdpbmRvd05hbWVzID0gdHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiB3aW5kb3cgJiYgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcbiAgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpIDogW107XG5cbnZhciBnZXRXaW5kb3dOYW1lcyA9IGZ1bmN0aW9uIChpdCkge1xuICB0cnkge1xuICAgIHJldHVybiBnT1BOKGl0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB3aW5kb3dOYW1lcy5zbGljZSgpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCkge1xuICByZXR1cm4gd2luZG93TmFtZXMgJiYgdG9TdHJpbmcuY2FsbChpdCkgPT0gJ1tvYmplY3QgV2luZG93XScgPyBnZXRXaW5kb3dOYW1lcyhpdCkgOiBnT1BOKHRvSU9iamVjdChpdCkpO1xufTtcbiIsIi8vIDcuMi4yIElzQXJyYXkoYXJndW1lbnQpXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gaXNBcnJheShhcmcpIHtcbiAgcmV0dXJuIGNvZihhcmcpID09ICdBcnJheSc7XG59O1xuIiwiLy8gYWxsIGVudW1lcmFibGUgb2JqZWN0IGtleXMsIGluY2x1ZGVzIHN5bWJvbHNcbnZhciBnZXRLZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcbnZhciBnT1BTID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcHMnKTtcbnZhciBwSUUgPSByZXF1aXJlKCcuL19vYmplY3QtcGllJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgcmVzdWx0ID0gZ2V0S2V5cyhpdCk7XG4gIHZhciBnZXRTeW1ib2xzID0gZ09QUy5mO1xuICBpZiAoZ2V0U3ltYm9scykge1xuICAgIHZhciBzeW1ib2xzID0gZ2V0U3ltYm9scyhpdCk7XG4gICAgdmFyIGlzRW51bSA9IHBJRS5mO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIga2V5O1xuICAgIHdoaWxlIChzeW1ib2xzLmxlbmd0aCA+IGkpIGlmIChpc0VudW0uY2FsbChpdCwga2V5ID0gc3ltYm9sc1tpKytdKSkgcmVzdWx0LnB1c2goa2V5KTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcbiIsInZhciBNRVRBID0gcmVxdWlyZSgnLi9fdWlkJykoJ21ldGEnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIHNldERlc2MgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xudmFyIGlkID0gMDtcbnZhciBpc0V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlIHx8IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRydWU7XG59O1xudmFyIEZSRUVaRSA9ICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGlzRXh0ZW5zaWJsZShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKTtcbn0pO1xudmFyIHNldE1ldGEgPSBmdW5jdGlvbiAoaXQpIHtcbiAgc2V0RGVzYyhpdCwgTUVUQSwgeyB2YWx1ZToge1xuICAgIGk6ICdPJyArICsraWQsIC8vIG9iamVjdCBJRFxuICAgIHc6IHt9ICAgICAgICAgIC8vIHdlYWsgY29sbGVjdGlvbnMgSURzXG4gIH0gfSk7XG59O1xudmFyIGZhc3RLZXkgPSBmdW5jdGlvbiAoaXQsIGNyZWF0ZSkge1xuICAvLyByZXR1cm4gcHJpbWl0aXZlIHdpdGggcHJlZml4XG4gIGlmICghaXNPYmplY3QoaXQpKSByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnID8gaXQgOiAodHlwZW9mIGl0ID09ICdzdHJpbmcnID8gJ1MnIDogJ1AnKSArIGl0O1xuICBpZiAoIWhhcyhpdCwgTUVUQSkpIHtcbiAgICAvLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdFxuICAgIGlmICghaXNFeHRlbnNpYmxlKGl0KSkgcmV0dXJuICdGJztcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmICghY3JlYXRlKSByZXR1cm4gJ0UnO1xuICAgIC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG4gICAgc2V0TWV0YShpdCk7XG4gIC8vIHJldHVybiBvYmplY3QgSURcbiAgfSByZXR1cm4gaXRbTUVUQV0uaTtcbn07XG52YXIgZ2V0V2VhayA9IGZ1bmN0aW9uIChpdCwgY3JlYXRlKSB7XG4gIGlmICghaGFzKGl0LCBNRVRBKSkge1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYgKCFpc0V4dGVuc2libGUoaXQpKSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmICghY3JlYXRlKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhKGl0KTtcbiAgLy8gcmV0dXJuIGhhc2ggd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfSByZXR1cm4gaXRbTUVUQV0udztcbn07XG4vLyBhZGQgbWV0YWRhdGEgb24gZnJlZXplLWZhbWlseSBtZXRob2RzIGNhbGxpbmdcbnZhciBvbkZyZWV6ZSA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoRlJFRVpFICYmIG1ldGEuTkVFRCAmJiBpc0V4dGVuc2libGUoaXQpICYmICFoYXMoaXQsIE1FVEEpKSBzZXRNZXRhKGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcbnZhciBtZXRhID0gbW9kdWxlLmV4cG9ydHMgPSB7XG4gIEtFWTogTUVUQSxcbiAgTkVFRDogZmFsc2UsXG4gIGZhc3RLZXk6IGZhc3RLZXksXG4gIGdldFdlYWs6IGdldFdlYWssXG4gIG9uRnJlZXplOiBvbkZyZWV6ZVxufTtcbiIsIid1c2Ugc3RyaWN0Jztcbi8vIEVDTUFTY3JpcHQgNiBzeW1ib2xzIHNoaW1cbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyk7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIHJlZGVmaW5lID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKTtcbnZhciBNRVRBID0gcmVxdWlyZSgnLi9fbWV0YScpLktFWTtcbnZhciAkZmFpbHMgPSByZXF1aXJlKCcuL19mYWlscycpO1xudmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuL191aWQnKTtcbnZhciB3a3MgPSByZXF1aXJlKCcuL193a3MnKTtcbnZhciB3a3NFeHQgPSByZXF1aXJlKCcuL193a3MtZXh0Jyk7XG52YXIgd2tzRGVmaW5lID0gcmVxdWlyZSgnLi9fd2tzLWRlZmluZScpO1xudmFyIGVudW1LZXlzID0gcmVxdWlyZSgnLi9fZW51bS1rZXlzJyk7XG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJy4vX2lzLWFycmF5Jyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpO1xudmFyIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG52YXIgX2NyZWF0ZSA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKTtcbnZhciBnT1BORXh0ID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4tZXh0Jyk7XG52YXIgJEdPUEQgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpO1xudmFyICREUCA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xudmFyICRrZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcbnZhciBnT1BEID0gJEdPUEQuZjtcbnZhciBkUCA9ICREUC5mO1xudmFyIGdPUE4gPSBnT1BORXh0LmY7XG52YXIgJFN5bWJvbCA9IGdsb2JhbC5TeW1ib2w7XG52YXIgJEpTT04gPSBnbG9iYWwuSlNPTjtcbnZhciBfc3RyaW5naWZ5ID0gJEpTT04gJiYgJEpTT04uc3RyaW5naWZ5O1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xudmFyIEhJRERFTiA9IHdrcygnX2hpZGRlbicpO1xudmFyIFRPX1BSSU1JVElWRSA9IHdrcygndG9QcmltaXRpdmUnKTtcbnZhciBpc0VudW0gPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBTeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXJlZ2lzdHJ5Jyk7XG52YXIgQWxsU3ltYm9scyA9IHNoYXJlZCgnc3ltYm9scycpO1xudmFyIE9QU3ltYm9scyA9IHNoYXJlZCgnb3Atc3ltYm9scycpO1xudmFyIE9iamVjdFByb3RvID0gT2JqZWN0W1BST1RPVFlQRV07XG52YXIgVVNFX05BVElWRSA9IHR5cGVvZiAkU3ltYm9sID09ICdmdW5jdGlvbic7XG52YXIgUU9iamVjdCA9IGdsb2JhbC5RT2JqZWN0O1xuLy8gRG9uJ3QgdXNlIHNldHRlcnMgaW4gUXQgU2NyaXB0LCBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMTczXG52YXIgc2V0dGVyID0gIVFPYmplY3QgfHwgIVFPYmplY3RbUFJPVE9UWVBFXSB8fCAhUU9iamVjdFtQUk9UT1RZUEVdLmZpbmRDaGlsZDtcblxuLy8gZmFsbGJhY2sgZm9yIG9sZCBBbmRyb2lkLCBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9Njg3XG52YXIgc2V0U3ltYm9sRGVzYyA9IERFU0NSSVBUT1JTICYmICRmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBfY3JlYXRlKGRQKHt9LCAnYScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRQKHRoaXMsICdhJywgeyB2YWx1ZTogNyB9KS5hOyB9XG4gIH0pKS5hICE9IDc7XG59KSA/IGZ1bmN0aW9uIChpdCwga2V5LCBEKSB7XG4gIHZhciBwcm90b0Rlc2MgPSBnT1BEKE9iamVjdFByb3RvLCBrZXkpO1xuICBpZiAocHJvdG9EZXNjKSBkZWxldGUgT2JqZWN0UHJvdG9ba2V5XTtcbiAgZFAoaXQsIGtleSwgRCk7XG4gIGlmIChwcm90b0Rlc2MgJiYgaXQgIT09IE9iamVjdFByb3RvKSBkUChPYmplY3RQcm90bywga2V5LCBwcm90b0Rlc2MpO1xufSA6IGRQO1xuXG52YXIgd3JhcCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgdmFyIHN5bSA9IEFsbFN5bWJvbHNbdGFnXSA9IF9jcmVhdGUoJFN5bWJvbFtQUk9UT1RZUEVdKTtcbiAgc3ltLl9rID0gdGFnO1xuICByZXR1cm4gc3ltO1xufTtcblxudmFyIGlzU3ltYm9sID0gVVNFX05BVElWRSAmJiB0eXBlb2YgJFN5bWJvbC5pdGVyYXRvciA9PSAnc3ltYm9sJyA/IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnO1xufSA6IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXQgaW5zdGFuY2VvZiAkU3ltYm9sO1xufTtcblxudmFyICRkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIEQpIHtcbiAgaWYgKGl0ID09PSBPYmplY3RQcm90bykgJGRlZmluZVByb3BlcnR5KE9QU3ltYm9scywga2V5LCBEKTtcbiAgYW5PYmplY3QoaXQpO1xuICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuICBhbk9iamVjdChEKTtcbiAgaWYgKGhhcyhBbGxTeW1ib2xzLCBrZXkpKSB7XG4gICAgaWYgKCFELmVudW1lcmFibGUpIHtcbiAgICAgIGlmICghaGFzKGl0LCBISURERU4pKSBkUChpdCwgSElEREVOLCBjcmVhdGVEZXNjKDEsIHt9KSk7XG4gICAgICBpdFtISURERU5dW2tleV0gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSkgaXRbSElEREVOXVtrZXldID0gZmFsc2U7XG4gICAgICBEID0gX2NyZWF0ZShELCB7IGVudW1lcmFibGU6IGNyZWF0ZURlc2MoMCwgZmFsc2UpIH0pO1xuICAgIH0gcmV0dXJuIHNldFN5bWJvbERlc2MoaXQsIGtleSwgRCk7XG4gIH0gcmV0dXJuIGRQKGl0LCBrZXksIEQpO1xufTtcbnZhciAkZGVmaW5lUHJvcGVydGllcyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoaXQsIFApIHtcbiAgYW5PYmplY3QoaXQpO1xuICB2YXIga2V5cyA9IGVudW1LZXlzKFAgPSB0b0lPYmplY3QoUCkpO1xuICB2YXIgaSA9IDA7XG4gIHZhciBsID0ga2V5cy5sZW5ndGg7XG4gIHZhciBrZXk7XG4gIHdoaWxlIChsID4gaSkgJGRlZmluZVByb3BlcnR5KGl0LCBrZXkgPSBrZXlzW2krK10sIFBba2V5XSk7XG4gIHJldHVybiBpdDtcbn07XG52YXIgJGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpdCwgUCkge1xuICByZXR1cm4gUCA9PT0gdW5kZWZpbmVkID8gX2NyZWF0ZShpdCkgOiAkZGVmaW5lUHJvcGVydGllcyhfY3JlYXRlKGl0KSwgUCk7XG59O1xudmFyICRwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IGZ1bmN0aW9uIHByb3BlcnR5SXNFbnVtZXJhYmxlKGtleSkge1xuICB2YXIgRSA9IGlzRW51bS5jYWxsKHRoaXMsIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSkpO1xuICBpZiAodGhpcyA9PT0gT2JqZWN0UHJvdG8gJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhPUFN5bWJvbHMsIGtleSkpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIEUgfHwgIWhhcyh0aGlzLCBrZXkpIHx8ICFoYXMoQWxsU3ltYm9scywga2V5KSB8fCBoYXModGhpcywgSElEREVOKSAmJiB0aGlzW0hJRERFTl1ba2V5XSA/IEUgOiB0cnVlO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpIHtcbiAgaXQgPSB0b0lPYmplY3QoaXQpO1xuICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuICBpZiAoaXQgPT09IE9iamVjdFByb3RvICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXMoT1BTeW1ib2xzLCBrZXkpKSByZXR1cm47XG4gIHZhciBEID0gZ09QRChpdCwga2V5KTtcbiAgaWYgKEQgJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIShoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKSkgRC5lbnVtZXJhYmxlID0gdHJ1ZTtcbiAgcmV0dXJuIEQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCkge1xuICB2YXIgbmFtZXMgPSBnT1BOKHRvSU9iamVjdChpdCkpO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBpID0gMDtcbiAgdmFyIGtleTtcbiAgd2hpbGUgKG5hbWVzLmxlbmd0aCA+IGkpIHtcbiAgICBpZiAoIWhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSAmJiBrZXkgIT0gSElEREVOICYmIGtleSAhPSBNRVRBKSByZXN1bHQucHVzaChrZXkpO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpIHtcbiAgdmFyIElTX09QID0gaXQgPT09IE9iamVjdFByb3RvO1xuICB2YXIgbmFtZXMgPSBnT1BOKElTX09QID8gT1BTeW1ib2xzIDogdG9JT2JqZWN0KGl0KSk7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgdmFyIGkgPSAwO1xuICB2YXIga2V5O1xuICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkge1xuICAgIGlmIChoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYgKElTX09QID8gaGFzKE9iamVjdFByb3RvLCBrZXkpIDogdHJ1ZSkpIHJlc3VsdC5wdXNoKEFsbFN5bWJvbHNba2V5XSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIDE5LjQuMS4xIFN5bWJvbChbZGVzY3JpcHRpb25dKVxuaWYgKCFVU0VfTkFUSVZFKSB7XG4gICRTeW1ib2wgPSBmdW5jdGlvbiBTeW1ib2woKSB7XG4gICAgaWYgKHRoaXMgaW5zdGFuY2VvZiAkU3ltYm9sKSB0aHJvdyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciEnKTtcbiAgICB2YXIgdGFnID0gdWlkKGFyZ3VtZW50cy5sZW5ndGggPiAwID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkKTtcbiAgICB2YXIgJHNldCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKHRoaXMgPT09IE9iamVjdFByb3RvKSAkc2V0LmNhbGwoT1BTeW1ib2xzLCB2YWx1ZSk7XG4gICAgICBpZiAoaGFzKHRoaXMsIEhJRERFTikgJiYgaGFzKHRoaXNbSElEREVOXSwgdGFnKSkgdGhpc1tISURERU5dW3RhZ10gPSBmYWxzZTtcbiAgICAgIHNldFN5bWJvbERlc2ModGhpcywgdGFnLCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG4gICAgfTtcbiAgICBpZiAoREVTQ1JJUFRPUlMgJiYgc2V0dGVyKSBzZXRTeW1ib2xEZXNjKE9iamVjdFByb3RvLCB0YWcsIHsgY29uZmlndXJhYmxlOiB0cnVlLCBzZXQ6ICRzZXQgfSk7XG4gICAgcmV0dXJuIHdyYXAodGFnKTtcbiAgfTtcbiAgcmVkZWZpbmUoJFN5bWJvbFtQUk9UT1RZUEVdLCAndG9TdHJpbmcnLCBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5faztcbiAgfSk7XG5cbiAgJEdPUEQuZiA9ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG4gICREUC5mID0gJGRlZmluZVByb3BlcnR5O1xuICByZXF1aXJlKCcuL19vYmplY3QtZ29wbicpLmYgPSBnT1BORXh0LmYgPSAkZ2V0T3duUHJvcGVydHlOYW1lcztcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpLmYgPSAkcHJvcGVydHlJc0VudW1lcmFibGU7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJykuZiA9ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cbiAgaWYgKERFU0NSSVBUT1JTICYmICFyZXF1aXJlKCcuL19saWJyYXJ5JykpIHtcbiAgICByZWRlZmluZShPYmplY3RQcm90bywgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJHByb3BlcnR5SXNFbnVtZXJhYmxlLCB0cnVlKTtcbiAgfVxuXG4gIHdrc0V4dC5mID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gd3JhcCh3a3MobmFtZSkpO1xuICB9O1xufVxuXG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCB7IFN5bWJvbDogJFN5bWJvbCB9KTtcblxuZm9yICh2YXIgZXM2U3ltYm9scyA9IChcbiAgLy8gMTkuNC4yLjIsIDE5LjQuMi4zLCAxOS40LjIuNCwgMTkuNC4yLjYsIDE5LjQuMi44LCAxOS40LjIuOSwgMTkuNC4yLjEwLCAxOS40LjIuMTEsIDE5LjQuMi4xMiwgMTkuNC4yLjEzLCAxOS40LjIuMTRcbiAgJ2hhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzJ1xuKS5zcGxpdCgnLCcpLCBqID0gMDsgZXM2U3ltYm9scy5sZW5ndGggPiBqOyl3a3MoZXM2U3ltYm9sc1tqKytdKTtcblxuZm9yICh2YXIgd2VsbEtub3duU3ltYm9scyA9ICRrZXlzKHdrcy5zdG9yZSksIGsgPSAwOyB3ZWxsS25vd25TeW1ib2xzLmxlbmd0aCA+IGs7KSB3a3NEZWZpbmUod2VsbEtub3duU3ltYm9sc1trKytdKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ1N5bWJvbCcsIHtcbiAgLy8gMTkuNC4yLjEgU3ltYm9sLmZvcihrZXkpXG4gICdmb3InOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIGhhcyhTeW1ib2xSZWdpc3RyeSwga2V5ICs9ICcnKVxuICAgICAgPyBTeW1ib2xSZWdpc3RyeVtrZXldXG4gICAgICA6IFN5bWJvbFJlZ2lzdHJ5W2tleV0gPSAkU3ltYm9sKGtleSk7XG4gIH0sXG4gIC8vIDE5LjQuMi41IFN5bWJvbC5rZXlGb3Ioc3ltKVxuICBrZXlGb3I6IGZ1bmN0aW9uIGtleUZvcihzeW0pIHtcbiAgICBpZiAoIWlzU3ltYm9sKHN5bSkpIHRocm93IFR5cGVFcnJvcihzeW0gKyAnIGlzIG5vdCBhIHN5bWJvbCEnKTtcbiAgICBmb3IgKHZhciBrZXkgaW4gU3ltYm9sUmVnaXN0cnkpIGlmIChTeW1ib2xSZWdpc3RyeVtrZXldID09PSBzeW0pIHJldHVybiBrZXk7XG4gIH0sXG4gIHVzZVNldHRlcjogZnVuY3Rpb24gKCkgeyBzZXR0ZXIgPSB0cnVlOyB9LFxuICB1c2VTaW1wbGU6IGZ1bmN0aW9uICgpIHsgc2V0dGVyID0gZmFsc2U7IH1cbn0pO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCAnT2JqZWN0Jywge1xuICAvLyAxOS4xLjIuMiBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG4gIGNyZWF0ZTogJGNyZWF0ZSxcbiAgLy8gMTkuMS4yLjQgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG4gIGRlZmluZVByb3BlcnR5OiAkZGVmaW5lUHJvcGVydHksXG4gIC8vIDE5LjEuMi4zIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpXG4gIGRlZmluZVByb3BlcnRpZXM6ICRkZWZpbmVQcm9wZXJ0aWVzLFxuICAvLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogJGdldE93blByb3BlcnR5RGVzY3JpcHRvcixcbiAgLy8gMTkuMS4yLjcgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbiAgZ2V0T3duUHJvcGVydHlOYW1lczogJGdldE93blByb3BlcnR5TmFtZXMsXG4gIC8vIDE5LjEuMi44IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoTylcbiAgZ2V0T3duUHJvcGVydHlTeW1ib2xzOiAkZ2V0T3duUHJvcGVydHlTeW1ib2xzXG59KTtcblxuLy8gMjQuMy4yIEpTT04uc3RyaW5naWZ5KHZhbHVlIFssIHJlcGxhY2VyIFssIHNwYWNlXV0pXG4kSlNPTiAmJiAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICghVVNFX05BVElWRSB8fCAkZmFpbHMoZnVuY3Rpb24gKCkge1xuICB2YXIgUyA9ICRTeW1ib2woKTtcbiAgLy8gTVMgRWRnZSBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMge31cbiAgLy8gV2ViS2l0IGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyBudWxsXG4gIC8vIFY4IHRocm93cyBvbiBib3hlZCBzeW1ib2xzXG4gIHJldHVybiBfc3RyaW5naWZ5KFtTXSkgIT0gJ1tudWxsXScgfHwgX3N0cmluZ2lmeSh7IGE6IFMgfSkgIT0gJ3t9JyB8fCBfc3RyaW5naWZ5KE9iamVjdChTKSkgIT0gJ3t9Jztcbn0pKSwgJ0pTT04nLCB7XG4gIHN0cmluZ2lmeTogZnVuY3Rpb24gc3RyaW5naWZ5KGl0KSB7XG4gICAgdmFyIGFyZ3MgPSBbaXRdO1xuICAgIHZhciBpID0gMTtcbiAgICB2YXIgcmVwbGFjZXIsICRyZXBsYWNlcjtcbiAgICB3aGlsZSAoYXJndW1lbnRzLmxlbmd0aCA+IGkpIGFyZ3MucHVzaChhcmd1bWVudHNbaSsrXSk7XG4gICAgJHJlcGxhY2VyID0gcmVwbGFjZXIgPSBhcmdzWzFdO1xuICAgIGlmICghaXNPYmplY3QocmVwbGFjZXIpICYmIGl0ID09PSB1bmRlZmluZWQgfHwgaXNTeW1ib2woaXQpKSByZXR1cm47IC8vIElFOCByZXR1cm5zIHN0cmluZyBvbiB1bmRlZmluZWRcbiAgICBpZiAoIWlzQXJyYXkocmVwbGFjZXIpKSByZXBsYWNlciA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mICRyZXBsYWNlciA9PSAnZnVuY3Rpb24nKSB2YWx1ZSA9ICRyZXBsYWNlci5jYWxsKHRoaXMsIGtleSwgdmFsdWUpO1xuICAgICAgaWYgKCFpc1N5bWJvbCh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIGFyZ3NbMV0gPSByZXBsYWNlcjtcbiAgICByZXR1cm4gX3N0cmluZ2lmeS5hcHBseSgkSlNPTiwgYXJncyk7XG4gIH1cbn0pO1xuXG4vLyAxOS40LjMuNCBTeW1ib2wucHJvdG90eXBlW0BAdG9QcmltaXRpdmVdKGhpbnQpXG4kU3ltYm9sW1BST1RPVFlQRV1bVE9fUFJJTUlUSVZFXSB8fCByZXF1aXJlKCcuL19oaWRlJykoJFN5bWJvbFtQUk9UT1RZUEVdLCBUT19QUklNSVRJVkUsICRTeW1ib2xbUFJPVE9UWVBFXS52YWx1ZU9mKTtcbi8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKCRTeW1ib2wsICdTeW1ib2wnKTtcbi8vIDIwLjIuMS45IE1hdGhbQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKE1hdGgsICdNYXRoJywgdHJ1ZSk7XG4vLyAyNC4zLjMgSlNPTltAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoZ2xvYmFsLkpTT04sICdKU09OJywgdHJ1ZSk7XG4iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLlN5bWJvbDtcbiIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2xcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkb25lLCB2YWx1ZSkge1xuICByZXR1cm4geyB2YWx1ZTogdmFsdWUsIGRvbmU6ICEhZG9uZSB9O1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSByZXF1aXJlKCcuL19hZGQtdG8tdW5zY29wYWJsZXMnKTtcbnZhciBzdGVwID0gcmVxdWlyZSgnLi9faXRlci1zdGVwJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xuXG4vLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcygpXG4vLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMoKVxuLy8gMjIuMS4zLjI5IEFycmF5LnByb3RvdHlwZS52YWx1ZXMoKVxuLy8gMjIuMS4zLjMwIEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uIChpdGVyYXRlZCwga2luZCkge1xuICB0aGlzLl90ID0gdG9JT2JqZWN0KGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4gIHRoaXMuX2sgPSBraW5kOyAgICAgICAgICAgICAgICAvLyBraW5kXG4vLyAyMi4xLjUuMi4xICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uICgpIHtcbiAgdmFyIE8gPSB0aGlzLl90O1xuICB2YXIga2luZCA9IHRoaXMuX2s7XG4gIHZhciBpbmRleCA9IHRoaXMuX2krKztcbiAgaWYgKCFPIHx8IGluZGV4ID49IE8ubGVuZ3RoKSB7XG4gICAgdGhpcy5fdCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc3RlcCgxKTtcbiAgfVxuICBpZiAoa2luZCA9PSAna2V5cycpIHJldHVybiBzdGVwKDAsIGluZGV4KTtcbiAgaWYgKGtpbmQgPT0gJ3ZhbHVlcycpIHJldHVybiBzdGVwKDAsIE9baW5kZXhdKTtcbiAgcmV0dXJuIHN0ZXAoMCwgW2luZGV4LCBPW2luZGV4XV0pO1xufSwgJ3ZhbHVlcycpO1xuXG4vLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyUgKDkuNC40LjYsIDkuNC40LjcpXG5JdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuXG5hZGRUb1Vuc2NvcGFibGVzKCdrZXlzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ2VudHJpZXMnKTtcbiIsInJlcXVpcmUoJy4vZXM2LmFycmF5Lml0ZXJhdG9yJyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbnZhciBUT19TVFJJTkdfVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG5cbnZhciBET01JdGVyYWJsZXMgPSAoJ0NTU1J1bGVMaXN0LENTU1N0eWxlRGVjbGFyYXRpb24sQ1NTVmFsdWVMaXN0LENsaWVudFJlY3RMaXN0LERPTVJlY3RMaXN0LERPTVN0cmluZ0xpc3QsJyArXG4gICdET01Ub2tlbkxpc3QsRGF0YVRyYW5zZmVySXRlbUxpc3QsRmlsZUxpc3QsSFRNTEFsbENvbGxlY3Rpb24sSFRNTENvbGxlY3Rpb24sSFRNTEZvcm1FbGVtZW50LEhUTUxTZWxlY3RFbGVtZW50LCcgK1xuICAnTWVkaWFMaXN0LE1pbWVUeXBlQXJyYXksTmFtZWROb2RlTWFwLE5vZGVMaXN0LFBhaW50UmVxdWVzdExpc3QsUGx1Z2luLFBsdWdpbkFycmF5LFNWR0xlbmd0aExpc3QsU1ZHTnVtYmVyTGlzdCwnICtcbiAgJ1NWR1BhdGhTZWdMaXN0LFNWR1BvaW50TGlzdCxTVkdTdHJpbmdMaXN0LFNWR1RyYW5zZm9ybUxpc3QsU291cmNlQnVmZmVyTGlzdCxTdHlsZVNoZWV0TGlzdCxUZXh0VHJhY2tDdWVMaXN0LCcgK1xuICAnVGV4dFRyYWNrTGlzdCxUb3VjaExpc3QnKS5zcGxpdCgnLCcpO1xuXG5mb3IgKHZhciBpID0gMDsgaSA8IERPTUl0ZXJhYmxlcy5sZW5ndGg7IGkrKykge1xuICB2YXIgTkFNRSA9IERPTUl0ZXJhYmxlc1tpXTtcbiAgdmFyIENvbGxlY3Rpb24gPSBnbG9iYWxbTkFNRV07XG4gIHZhciBwcm90byA9IENvbGxlY3Rpb24gJiYgQ29sbGVjdGlvbi5wcm90b3R5cGU7XG4gIGlmIChwcm90byAmJiAhcHJvdG9bVE9fU1RSSU5HX1RBR10pIGhpZGUocHJvdG8sIFRPX1NUUklOR19UQUcsIE5BTUUpO1xuICBJdGVyYXRvcnNbTkFNRV0gPSBJdGVyYXRvcnMuQXJyYXk7XG59XG4iLCJ2YXIgZG9jdW1lbnQgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudDtcbm1vZHVsZS5leHBvcnRzID0gZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuIiwidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKTtcbnZhciBtYXggPSBNYXRoLm1heDtcbnZhciBtaW4gPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGluZGV4LCBsZW5ndGgpIHtcbiAgaW5kZXggPSB0b0ludGVnZXIoaW5kZXgpO1xuICByZXR1cm4gaW5kZXggPCAwID8gbWF4KGluZGV4ICsgbGVuZ3RoLCAwKSA6IG1pbihpbmRleCwgbGVuZ3RoKTtcbn07XG4iLCIvLyA3LjEuMTUgVG9MZW5ndGhcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJyk7XG52YXIgbWluID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxufTtcbiIsIi8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2Zcbi8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzXG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG52YXIgdG9BYnNvbHV0ZUluZGV4ID0gcmVxdWlyZSgnLi9fdG8tYWJzb2x1dGUtaW5kZXgnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKElTX0lOQ0xVREVTKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIGVsLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgTyA9IHRvSU9iamVjdCgkdGhpcyk7XG4gICAgdmFyIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKTtcbiAgICB2YXIgaW5kZXggPSB0b0Fic29sdXRlSW5kZXgoZnJvbUluZGV4LCBsZW5ndGgpO1xuICAgIHZhciB2YWx1ZTtcbiAgICAvLyBBcnJheSNpbmNsdWRlcyB1c2VzIFNhbWVWYWx1ZVplcm8gZXF1YWxpdHkgYWxnb3JpdGhtXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgIGlmIChJU19JTkNMVURFUyAmJiBlbCAhPSBlbCkgd2hpbGUgKGxlbmd0aCA+IGluZGV4KSB7XG4gICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICAgICBpZiAodmFsdWUgIT0gdmFsdWUpIHJldHVybiB0cnVlO1xuICAgIC8vIEFycmF5I2luZGV4T2YgaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICB9IGVsc2UgZm9yICg7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIGlmIChJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKSB7XG4gICAgICBpZiAoT1tpbmRleF0gPT09IGVsKSByZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcbiAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG4gIH07XG59O1xuIiwiLy8gZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBhbmQgbm9uLWVudW1lcmFibGUgb2xkIFY4IHN0cmluZ3NcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0KCd6JykucHJvcGVydHlJc0VudW1lcmFibGUoMCkgPyBPYmplY3QgOiBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGNvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpO1xufTtcbiIsInZhciBkUCA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgZ2V0S2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKSB7XG4gIGFuT2JqZWN0KE8pO1xuICB2YXIga2V5cyA9IGdldEtleXMoUHJvcGVydGllcyk7XG4gIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgdmFyIGkgPSAwO1xuICB2YXIgUDtcbiAgd2hpbGUgKGxlbmd0aCA+IGkpIGRQLmYoTywgUCA9IGtleXNbaSsrXSwgUHJvcGVydGllc1tQXSk7XG4gIHJldHVybiBPO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBjcmVhdGUgPSByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJyk7XG52YXIgZGVzY3JpcHRvciA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbnZhciBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJyk7XG52YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcblxuLy8gMjUuMS4yLjEuMSAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vX2hpZGUnKShJdGVyYXRvclByb3RvdHlwZSwgcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyksIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCkge1xuICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBjcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHsgbmV4dDogZGVzY3JpcHRvcigxLCBuZXh0KSB9KTtcbiAgc2V0VG9TdHJpbmdUYWcoQ29uc3RydWN0b3IsIE5BTUUgKyAnIEl0ZXJhdG9yJyk7XG59O1xuIiwidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKTtcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xuLy8gdHJ1ZSAgLT4gU3RyaW5nI2F0XG4vLyBmYWxzZSAtPiBTdHJpbmcjY29kZVBvaW50QXRcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFRPX1NUUklORykge1xuICByZXR1cm4gZnVuY3Rpb24gKHRoYXQsIHBvcykge1xuICAgIHZhciBzID0gU3RyaW5nKGRlZmluZWQodGhhdCkpO1xuICAgIHZhciBpID0gdG9JbnRlZ2VyKHBvcyk7XG4gICAgdmFyIGwgPSBzLmxlbmd0aDtcbiAgICB2YXIgYSwgYjtcbiAgICBpZiAoaSA8IDAgfHwgaSA+PSBsKSByZXR1cm4gVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG4gICAgYSA9IHMuY2hhckNvZGVBdChpKTtcbiAgICByZXR1cm4gYSA8IDB4ZDgwMCB8fCBhID4gMHhkYmZmIHx8IGkgKyAxID09PSBsIHx8IChiID0gcy5jaGFyQ29kZUF0KGkgKyAxKSkgPCAweGRjMDAgfHwgYiA+IDB4ZGZmZlxuICAgICAgPyBUT19TVFJJTkcgPyBzLmNoYXJBdChpKSA6IGFcbiAgICAgIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuICB9O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkYXQgPSByZXF1aXJlKCcuL19zdHJpbmctYXQnKSh0cnVlKTtcblxuLy8gMjEuMS4zLjI3IFN0cmluZy5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faXRlci1kZWZpbmUnKShTdHJpbmcsICdTdHJpbmcnLCBmdW5jdGlvbiAoaXRlcmF0ZWQpIHtcbiAgdGhpcy5fdCA9IFN0cmluZyhpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuLy8gMjEuMS41LjIuMSAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24gKCkge1xuICB2YXIgTyA9IHRoaXMuX3Q7XG4gIHZhciBpbmRleCA9IHRoaXMuX2k7XG4gIHZhciBwb2ludDtcbiAgaWYgKGluZGV4ID49IE8ubGVuZ3RoKSByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gIHBvaW50ID0gJGF0KE8sIGluZGV4KTtcbiAgdGhpcy5faSArPSBwb2ludC5sZW5ndGg7XG4gIHJldHVybiB7IHZhbHVlOiBwb2ludCwgZG9uZTogZmFsc2UgfTtcbn0pO1xuIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fd2tzLWV4dCcpLmYoJ2l0ZXJhdG9yJyk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdHlwZW9mMiA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL3R5cGVvZlwiKTtcblxudmFyIF90eXBlb2YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZW9mMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzZWxmLCBjYWxsKSB7XG4gIGlmICghc2VsZikge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuXG4gIHJldHVybiBjYWxsICYmICgodHlwZW9mIGNhbGwgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogKDAsIF90eXBlb2YzLmRlZmF1bHQpKGNhbGwpKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmO1xufTsiLCJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuLy8gMTkuMS4yLjQgLyAxNS4yLjMuNiBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyksICdPYmplY3QnLCB7IGRlZmluZVByb3BlcnR5OiByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mIH0pO1xuIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKSB7XG4gIHJldHVybiAkT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2MpO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmICh0eXBlb2YgaXQgIT0gJ2Z1bmN0aW9uJykgdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcbiAgcmV0dXJuIGl0O1xufTtcbiIsIi8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlc1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi9fZmFpbHMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEtFWSwgZXhlYykge1xuICB2YXIgZm4gPSAoY29yZS5PYmplY3QgfHwge30pW0tFWV0gfHwgT2JqZWN0W0tFWV07XG4gIHZhciBleHAgPSB7fTtcbiAgZXhwW0tFWV0gPSBleGVjKGZuKTtcbiAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiBmYWlscyhmdW5jdGlvbiAoKSB7IGZuKDEpOyB9KSwgJ09iamVjdCcsIGV4cCk7XG59O1xuIiwiLy8gMTkuMS4yLjkgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuL190by1vYmplY3QnKTtcbnZhciAkZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuL19vYmplY3QtZ3BvJyk7XG5cbnJlcXVpcmUoJy4vX29iamVjdC1zYXAnKSgnZ2V0UHJvdG90eXBlT2YnLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmdW5jdGlvbiBnZXRQcm90b3R5cGVPZihpdCkge1xuICAgIHJldHVybiAkZ2V0UHJvdG90eXBlT2YodG9PYmplY3QoaXQpKTtcbiAgfTtcbn0pO1xuIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZlwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsImltcG9ydCBSZWFjdCwge1B1cmVDb21wb25lbnR9IGZyb20gJ3JlYWN0J1xuXG4vLyBpbXBvcnQge25TUUx9IGZyb20gJ25hbm8tc3FsJ1xuXG5jbGFzcyBBY2NvdW50U3RhdHVzIGV4dGVuZHMgUHVyZUNvbXBvbmVudCB7XG4gIHN0YXRpYyB0YWJsZXMgKCkge1xuICAgIHJldHVybiBbJ2JhbGFuY2UnXSAvLyBsaXN0ZW4gZm9yIGNoYW5nZXMgb24gdGhpcyB0YWJsZVxuICB9XG5cbiAgc3RhdGljIG9uQ2hhbmdlIChldmVudCwgY29tcGxldGUpIHtcbiAgICBjb25zb2xlLmxvZygnYWNjb3VudCBzdGF0dXMgY2hhbmdlZCBldmVudCcsIGV2ZW50KVxuXG4gICAgLy8gaWYgKGV2ZW50LmFmZmVjdGVkUm93cyAmJiBldmVudC5hZmZlY3RlZFJvd3MubGVuZ3RoID4gMCkge1xuICAgIGlmICghZXZlbnQubm90ZXMuaW5jbHVkZXMoJ21vdW50JykpIHtcbiAgICAgIGNvbXBsZXRlKGV2ZW50LmFmZmVjdGVkUm93c1swXS5iYWxhbmNlKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICAgICAgICBBY2NvdW50IGJhbGFuY2Uge3RoaXMucHJvcHMublNRTGRhdGF9XG4gICAgPC9kaXY+XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQWNjb3VudFN0YXR1c1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcclxuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxyXG4gICAgICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBSZWFjdCA9IHJlcXVpcmUoXCJSZWFjdFwiKTtcclxudmFyIG5hbm9fc3FsXzEgPSByZXF1aXJlKFwibmFuby1zcWxcIik7XHJcbmZ1bmN0aW9uIGJpbmROU1FMKENvbXAsIHByb3BzKSB7XHJcbiAgICByZXR1cm4gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoY2xhc3NfMSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBjbGFzc18xKHApIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcCkgfHwgdGhpcztcclxuICAgICAgICAgICAgX3RoaXMuc3RhdGUgPSB7IGRhdGE6IHVuZGVmaW5lZCwgaXNMb2FkaW5nOiB0cnVlIH07XHJcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZVN0YXRlID0gX3RoaXMudXBkYXRlU3RhdGUuYmluZChfdGhpcyk7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAocHJvcHMgJiYgcHJvcHMudGFibGVzICYmIHByb3BzLnRhYmxlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFibGVzID0gcHJvcHMudGFibGVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKENvbXAudGFibGVzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlcyA9IENvbXAudGFibGVzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIk5lZWQgdGFibGVzIGZvciBuYW5vU1FMIEhPQyFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHByb3BzICYmIHByb3BzLm9uQ2hhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoQ29tcC5vbkNoYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkNoYW5nZSA9IENvbXAub25DaGFuZ2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIk5lZWQgdGFibGVzIGZvciBuYW5vU1FMIEhPQyFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHByb3BzICYmIHByb3BzLnN0b3JlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlID0gcHJvcHMuc3RvcmU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlID0gbmFub19zcWxfMS5uU1FMKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHByZXZUYWJsZSA9IHRoaXMuc3RvcmUuc1RhYmxlO1xyXG4gICAgICAgICAgICB2YXIgayA9IHRoaXMudGFibGVzLmxlbmd0aDtcclxuICAgICAgICAgICAgd2hpbGUgKGstLSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZS50YWJsZSh0aGlzLnRhYmxlc1trXSkub24oXCJjaGFuZ2VcIiwgdGhpcy51cGRhdGVTdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICB0YWJsZTogdGhpcy50YWJsZXNba10sXHJcbiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGU6IHRoaXMudGFibGVzW2tdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbkFyZ3M6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiBcImNvbXBsZXRlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRzOiBbXVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZTogRGF0ZS5ub3coKSxcclxuICAgICAgICAgICAgICAgICAgICBub3RlczogW1wibW91bnRcIl0sXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlczogW1wiY2hhbmdlXCJdLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbk9yVmlldzogXCJcIixcclxuICAgICAgICAgICAgICAgICAgICBhZmZlY3RlZFJvd3M6IFtdXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnN0b3JlLnRhYmxlKHByZXZUYWJsZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHByZXZUYWJsZSA9IHRoaXMuc3RvcmUuc1RhYmxlO1xyXG4gICAgICAgICAgICB2YXIgayA9IHRoaXMudGFibGVzLmxlbmd0aDtcclxuICAgICAgICAgICAgd2hpbGUgKGstLSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZS50YWJsZSh0aGlzLnRhYmxlc1trXSkub2ZmKFwiY2hhbmdlXCIsIHRoaXMudXBkYXRlU3RhdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcmUudGFibGUocHJldlRhYmxlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLnVwZGF0ZVN0YXRlID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogdHJ1ZSB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5vbkNoYW5nZShlLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgaXNMb2FkaW5nOiBmYWxzZSwgZGF0YTogZGF0YSB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcCwgX19hc3NpZ24oeyBuU1FMbG9hZGluZzogdGhpcy5zdGF0ZS5pc0xvYWRpbmcsIG5TUUxkYXRhOiB0aGlzLnN0YXRlLmRhdGEgfSwgdGhpcy5wcm9wcykpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIGNsYXNzXzE7XHJcbiAgICB9KFJlYWN0LkNvbXBvbmVudCkpO1xyXG59XHJcbmV4cG9ydHMuYmluZE5TUUwgPSBiaW5kTlNRTDtcclxuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XHJcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcclxuICAgICAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgdXRpbGl0aWVzXzEgPSByZXF1aXJlKFwiLi91dGlsaXRpZXNcIik7XHJcbi8vIHVnbGlmeUpTIHdvcmthcm91bmRcclxudmFyIHN0cnMgPSBbXCJfaGlzdFwiLCBcIl9oaXN0X3B0clwiLCBcIl9pZFwiXTtcclxuLyoqXHJcbiAqIE5ldyBIaXN0b3J5IFBsdWdpblxyXG4gKiBQcm92aWRlcyBtdWx0aXBsZSBoaXN0b3J5IG1vZGVzLCBpbmNsdWRpbmcgYSBwZXIgcm93IG1vZGUgKGZvciByb3cgcmV2aXNpb25zKSwgYSBkYXRhYmFzZSB3aWRlIG1vZGUgYW5kIGEgdGFibGUgd2lkZSBtb2RlLlxyXG4gKiBZb3UgY2FuIGVpdGhlciBzZXQgYSBzaW5nbGUgYXJndW1lbnQgdG8gdGVsbCB0aGUgc3lzdGVtIHRvIHVzZSByb3csIHRhYmxlLCBvciBkYXRhYmFzZSBtb2RlIE9SIHlvdSBjYW4gcGFzcyBpbiBhbiBvYmplY3QuXHJcbiAqIFRoZSBvYmplY3Qgc2hvdWxkIGNvbnRhaW4gYSBrZXkgd2l0aCBhbGwgdGFibGVzIHdpdGggaGlzdG9yeSwgZWFjaCB2YWx1ZSBzaG91bGQgYmUgXCJyb3dcIiBvciBcInRhYmxlXCIsIGRpY3RhdGluZyB0aGUgdHlwZSBvZiBoaXN0b3J5XHJcbiAqIGZvciB0aGF0IHRhYmxlLlxyXG4gKlxyXG4gKiBAZXhwb3J0XHJcbiAqIEBjbGFzcyBfTmFub1NRTEhpc3RvcnlQbHVnaW5cclxuICogQGltcGxlbWVudHMge05hbm9TUUxQbHVnaW59XHJcbiAqL1xyXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcclxudmFyIF9OYW5vU1FMSGlzdG9yeVBsdWdpbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIF9OYW5vU1FMSGlzdG9yeVBsdWdpbihoaXN0b3J5TW9kZUFyZ3MpIHtcclxuICAgICAgICB0aGlzLmhpc3RvcnlNb2RlQXJncyA9IGhpc3RvcnlNb2RlQXJncztcclxuICAgICAgICB0aGlzLl90YWJsZVBrS2V5cyA9IHt9O1xyXG4gICAgICAgIHRoaXMuX3RhYmxlUGtUeXBlcyA9IHt9O1xyXG4gICAgICAgIHRoaXMuX3RhYmxlS2V5cyA9IHt9O1xyXG4gICAgfVxyXG4gICAgX05hbm9TUUxIaXN0b3J5UGx1Z2luLnByb3RvdHlwZS53aWxsQ29ubmVjdCA9IGZ1bmN0aW9uIChjb25uZWN0QXJncywgbmV4dCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBjb25uZWN0QXJncy5wYXJlbnQ7XHJcbiAgICAgICAgdmFyIGhpc3RvcnlUYWJsZXMgPSB7fTtcclxuICAgICAgICAvLyBoYW5kbGUgdGFibGVzIHRvIHN0b3JlIHJvdyBkYXRhIGhpc3RvcnlcclxuICAgICAgICBPYmplY3Qua2V5cyhjb25uZWN0QXJncy5tb2RlbHMpLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlKSB7XHJcbiAgICAgICAgICAgIC8vIG9ubHkgYWRkIGhpc3RvcnkgZm9yIHB1YmxpYyB0YWJsZXNcclxuICAgICAgICAgICAgaWYgKHRhYmxlLmluZGV4T2YoXCJfXCIpICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGlzdE1vZGVsID0gdXRpbGl0aWVzXzEuX2Fzc2lnbihjb25uZWN0QXJncy5tb2RlbHNbdGFibGVdKS5tYXAoZnVuY3Rpb24gKG1vZGVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVsLnByb3BzICYmIHV0aWxpdGllc18xLmludGVyc2VjdChbXCJwa1wiLCBcInBrKClcIl0sIG1vZGVsLnByb3BzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdGFibGVQa0tleXNbdGFibGVdID0gbW9kZWwua2V5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdGFibGVQa1R5cGVzW3RhYmxlXSA9IG1vZGVsLnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl90YWJsZUtleXNbdGFibGVdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBtb2RlbC5wcm9wczsgLy8gcmVtb3ZlIHNlY29uZGFyeSBpbmRleGVzIGFuZCBldmVyeXRoaW5nIGVsc2UgZmFuY3lcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgbW9kZWwuZGVmYXVsdDsgLy8gcmVtb3ZlIGRlZmF1bHQgY29sdW1uIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vZGVsO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyBhZGQgbmV3IHByaW1hcnkga2V5IHVzZWQgYnkgdGhlIGhpc3Rvcnkgc3lzdGVtXHJcbiAgICAgICAgICAgICAgICBoaXN0TW9kZWwudW5zaGlmdCh7IGtleTogXCJfaWRcIiwgdHlwZTogXCJ0aW1lSWRtc1wiLCBwcm9wczogW1wicGsoKVwiXSB9KTtcclxuICAgICAgICAgICAgICAgIC8vIEhvbGRzIG9sZCBvciBuZXcgcm93IGRhdGFcclxuICAgICAgICAgICAgICAgIGhpc3RvcnlUYWJsZXNbXCJfXCIgKyB0YWJsZSArIFwiX19oaXN0X3Jvd3NcIl0gPSBoaXN0TW9kZWw7XHJcbiAgICAgICAgICAgICAgICAvLyBob2xkcyB3aGVyZSBpbiB0aGUgcm93IGhpc3Rvcnkgd2UgYXJlXHJcbiAgICAgICAgICAgICAgICBoaXN0b3J5VGFibGVzW1wiX1wiICsgdGFibGUgKyBcIl9faGlzdF9pZHhcIl0gPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6IFwiaWRcIiwgdHlwZTogX3RoaXMuX3RhYmxlUGtUeXBlc1t0YWJsZV0sIHByb3BzOiBbXCJwaygpXCJdIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6IFwiaGlzdFJvd3NcIiwgdHlwZTogXCJ0aW1lSWRtc1tdXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IGtleTogXCJoaXN0UHRyXCIsIHR5cGU6IFwibnVtYmVyXCIgfSAvLyB3aGVyZSBpbiB0aGUgYWJvdmUgYXJyYXkgd2UgYXJlLlxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBpc05vdFN0cmluZyA9IHR5cGVvZiB0aGlzLmhpc3RvcnlNb2RlQXJncyAhPT0gXCJzdHJpbmdcIjtcclxuICAgICAgICB2YXIgaGlzdG9yeVRhYmxlID0gW1xyXG4gICAgICAgICAgICB7IGtleTogXCJpZFwiLCB0eXBlOiBcInRpbWVJZG1zXCIsIHByb3BzOiBbXCJwaygpXCJdIH0sXHJcbiAgICAgICAgICAgIHsga2V5OiBcInRhYmxlXCIsIHR5cGU6IFwic3RyaW5nXCIgfSxcclxuICAgICAgICAgICAgeyBrZXk6IFwia2V5c1wiLCB0eXBlOiBcImFueVtdXCIgfVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgdmFyIGhpc3RvcnlUYWJsZVBvaW50ZXIgPSBbXHJcbiAgICAgICAgICAgIHsga2V5OiBcImlkXCIsIHR5cGU6IFwidGltZUlkbXNcIiwgcHJvcHM6IFtcInBrKClcIl0gfSxcclxuICAgICAgICAgICAgeyBrZXk6IFwicHRyXCIsIHR5cGU6IFwiaW50XCIgfVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgLy8gZGF0YWJhc2UvbGluZWFyIG1vZGUuIGFsbCB1bmRvL3JlZG8gaXMgdHJhY2tlZCBhY3Jvc3MgdGhlIGVudGlyZSBkYXRhYmFzZS4gIERlZmF1bHQgYmVoYXZpb3JcclxuICAgICAgICBpZiAodGhpcy5oaXN0b3J5TW9kZUFyZ3MgPT09IFwiZGF0YWJhc2VcIiB8fCAhdGhpcy5oaXN0b3J5TW9kZUFyZ3MpIHtcclxuICAgICAgICAgICAgaGlzdG9yeVRhYmxlc1tzdHJzWzBdXSA9IGhpc3RvcnlUYWJsZTtcclxuICAgICAgICAgICAgaGlzdG9yeVRhYmxlc1tzdHJzWzFdXSA9IGhpc3RvcnlUYWJsZVBvaW50ZXI7XHJcbiAgICAgICAgICAgIC8vIHRhYmxlL3JvdyBtb2RlLCB1bmRvL3JlZG8gaXMgdHJhY2tlZCBlaXRoZXIgcGVyIHJvdyBPUiBwZXIgdGFibGVcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5oaXN0b3J5TW9kZUFyZ3MgIT09IFwiZGF0YWJhc2VcIiB8fCBpc05vdFN0cmluZykge1xyXG4gICAgICAgICAgICB0aGlzLmhpc3RvcnlNb2RlcyA9IHt9O1xyXG4gICAgICAgICAgICBpZiAoIWlzTm90U3RyaW5nKSB7IC8vIGFwcGx5IHRoZSBnbG9iYWwgYXJnIChcInJvd1wiIG9yIFwidGFibGVcIikgdG8gZXZlcnkgdGFibGVcclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuX3RhYmxlUGtLZXlzKS5mb3JFYWNoKGZ1bmN0aW9uICh0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmhpc3RvcnlNb2Rlc1t0YWJsZV0gPSBfdGhpcy5oaXN0b3J5TW9kZUFyZ3M7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHsgLy8gb2JqZWN0IG9mIHRhYmxlcyB3YXMgcGFzc2VkIGluLCB0aGUgdXNlciBzcGVjaWZpZWQgYSBiZWhhdmlvciBmb3IgZWFjaCB0YWJsZS4gIEp1c3QgY29weSB0aGVpciBjb25maWcgb2JqZWN0LlxyXG4gICAgICAgICAgICAgICAgdGhpcy5oaXN0b3J5TW9kZXMgPSB1dGlsaXRpZXNfMS5fYXNzaWduKHRoaXMuaGlzdG9yeU1vZGVBcmdzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjcmVhdGUgdHJhY2tpbmcgcm93cyBuZWVkZWQgZm9yIHRhYmxlIHdpZGUgaGlzdG9yeVxyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmhpc3RvcnlNb2RlcykuZm9yRWFjaChmdW5jdGlvbiAodGFibGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5oaXN0b3J5TW9kZXNbdGFibGVdID09PSBcInRhYmxlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBoaXN0b3J5VGFibGVzW1wiX1wiICsgdGFibGUgKyBcIl9faGlzdFwiXSA9IGhpc3RvcnlUYWJsZTtcclxuICAgICAgICAgICAgICAgICAgICBoaXN0b3J5VGFibGVzW1wiX1wiICsgdGFibGUgKyBcIl9faGlzdF9wdHJcIl0gPSBoaXN0b3J5VGFibGVQb2ludGVyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29ubmVjdEFyZ3MubW9kZWxzID0gX19hc3NpZ24oe30sIGNvbm5lY3RBcmdzLm1vZGVscywgaGlzdG9yeVRhYmxlcyk7XHJcbiAgICAgICAgbmV4dChjb25uZWN0QXJncyk7XHJcbiAgICB9O1xyXG4gICAgX05hbm9TUUxIaXN0b3J5UGx1Z2luLnByb3RvdHlwZS5faGlzdFRhYmxlID0gZnVuY3Rpb24gKHRhYmxlKSB7XHJcbiAgICAgICAgaWYgKCF0YWJsZSlcclxuICAgICAgICAgICAgcmV0dXJuIFwiX19udWxsXCI7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGlzdG9yeU1vZGVzID8gdGhpcy5oaXN0b3J5TW9kZXNbdGFibGVdID09PSBcInRhYmxlXCIgPyBcIl9cIiArIHRhYmxlICsgXCJfX2hpc3RcIiA6IG51bGwgOiBcIl9oaXN0XCI7XHJcbiAgICB9O1xyXG4gICAgX05hbm9TUUxIaXN0b3J5UGx1Z2luLnByb3RvdHlwZS5fZ2VuZXJhdGVIaXN0b3J5UG9pbnRlcnMgPSBmdW5jdGlvbiAodGFibGUsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgaGlzdFRhYmxlID0gdGhpcy5faGlzdFRhYmxlKHRhYmxlKTtcclxuICAgICAgICBpZiAoIWhpc3RUYWJsZSkgeyAvLyByb3cgbW9kZVxyXG4gICAgICAgICAgICBjb21wbGV0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnQucXVlcnkoXCJzZWxlY3RcIikubWFudWFsRXhlYyh7XHJcbiAgICAgICAgICAgICAgICB0YWJsZTogaGlzdFRhYmxlICsgXCJfcHRyXCJcclxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJvd3MubGVuZ3RoKSB7IC8vIGFscmVhZHkgaGFzIGEgcG9pbnRlclxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHsgLy8gbmVlZHMgb25lXHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucGFyZW50LnF1ZXJ5KFwidXBzZXJ0XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHV0aWxpdGllc18xLnRpbWVpZCh0cnVlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGU6IHRhYmxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwdHI6IDAgLy8gZW1wdHkgdGFibGVcclxuICAgICAgICAgICAgICAgICAgICB9KS5tYW51YWxFeGVjKHsgdGFibGU6IGhpc3RUYWJsZSArIFwiX3B0clwiIH0pLnRoZW4oY29tcGxldGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgX05hbm9TUUxIaXN0b3J5UGx1Z2luLnByb3RvdHlwZS5kaWRDb25uZWN0ID0gZnVuY3Rpb24gKGNvbm5lY3RBcmdzLCBuZXh0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgZmluaXNoU2V0dXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8ga25vdyB3aGF0IGV4aXN0aW5nIHByaW1hcnkga2V5cyBhcmUgaW4gZWFjaCB0YWJsZSBhbmQgbWFrZSBzdXJlIHBvaW50ZXJzIGFyZSBzZXR1cCB3aGVyZSBuZWVkZWQuXHJcbiAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwoT2JqZWN0LmtleXMoX3RoaXMuX3RhYmxlS2V5cyksIGZ1bmN0aW9uICh0YWJsZSwgaywgdGFibGVEb25lKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQuZXh0ZW5kKFwiaWR4XCIsIFwiX1wiICsgdGFibGUgKyBcIl9faGlzdF9pZHhcIikudGhlbihmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl90YWJsZUtleXNbdGFibGVdW2l0ZW1dID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaGlzdG9yeU1vZGVzKSB7IC8vIHRhYmxlIC8gcm93IG1vZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2dlbmVyYXRlSGlzdG9yeVBvaW50ZXJzKHRhYmxlLCB0YWJsZURvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gZ2xvYmFsIG1vZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVEb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4obmV4dCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoIXRoaXMuaGlzdG9yeU1vZGVzKSB7IC8vIGdsb2JhbCBtb2RlXHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50LnF1ZXJ5KFwic2VsZWN0XCIpLm1hbnVhbEV4ZWMoe1xyXG4gICAgICAgICAgICAgICAgdGFibGU6IFwiX2hpc3RfcHRyXCJcclxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoU2V0dXAoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnBhcmVudC5xdWVyeShcInVwc2VydFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB1dGlsaXRpZXNfMS50aW1laWQodHJ1ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwdHI6IDBcclxuICAgICAgICAgICAgICAgICAgICB9KS5tYW51YWxFeGVjKHsgdGFibGU6IFwiX2hpc3RfcHRyXCIgfSkudGhlbihmaW5pc2hTZXR1cCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZmluaXNoU2V0dXAoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBJZiBhbnkgb2YgdGhlIGdpdmVuIHJvdyBwb2ludGVycyBhcmUgYWJvdmUgemVybywgcmVtb3ZlIHRoZSByb3dzIGluIFwiZm9yd2FyZFwiIGhpc3RvcnkuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHthbnlbXX0gcm93UEtzXHJcbiAgICAgKiBAcGFyYW0geygpID0+IHZvaWR9IGNvbXBsZXRlXHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxIaXN0b3J5UGx1Z2luXHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMSGlzdG9yeVBsdWdpbi5wcm90b3R5cGUuX3B1cmdlUm93SGlzdG9yeSA9IGZ1bmN0aW9uICh0YWJsZSwgcm93UEtzLCBjb21wbGV0ZSwgY2xlYXJBbGwpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciByb3dIaXN0VGFibGUgPSBcIl9cIiArIHRhYmxlICsgXCJfX2hpc3Rfcm93c1wiO1xyXG4gICAgICAgIHZhciByb3dJRFhUYWJsZSA9IFwiX1wiICsgdGFibGUgKyBcIl9faGlzdF9pZHhcIjtcclxuICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHJvd1BLcywgZnVuY3Rpb24gKHBrLCBsLCByb3dEb25lKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudC5xdWVyeShcInNlbGVjdFwiKS53aGVyZShbXCJpZFwiLCBcIj1cIiwgcGtdKS5tYW51YWxFeGVjKHsgdGFibGU6IHJvd0lEWFRhYmxlIH0pLnRoZW4oZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgIGlmICghcm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICByb3dEb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGhpc3RSb3dJRFggPSBPYmplY3QuaXNGcm96ZW4ocm93c1swXSkgPyB1dGlsaXRpZXNfMS5fYXNzaWduKHJvd3NbMF0pIDogcm93c1swXTtcclxuICAgICAgICAgICAgICAgIHZhciBkZWxJRHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGlmIChjbGVhckFsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbElEcyA9IGRlbElEcy5jb25jYXQoaGlzdFJvd0lEWC5oaXN0Um93cy5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIgIT09IC0xOyB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGlzdFJvd0lEWC5oaXN0UHRyID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBoaXN0Um93SURYLmhpc3RSb3dzID0gW107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaGlzdFJvd0lEWC5oaXN0UHRyLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsSURzLnB1c2goaGlzdFJvd0lEWC5oaXN0Um93cy5zaGlmdCgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaGlzdFJvd0lEWC5oaXN0UHRyID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghZGVsSURzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd0RvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQucXVlcnkoXCJ1cHNlcnRcIiwgaGlzdFJvd0lEWCkuY29tbWVudChcIkhpc3RvcnkgUHVyZ2VcIikud2hlcmUoW1wiaWRcIiwgXCI9XCIsIHBrXSkubWFudWFsRXhlYyh7IHRhYmxlOiByb3dJRFhUYWJsZSB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQucXVlcnkoXCJkZWxldGVcIikuY29tbWVudChcIkhpc3RvcnkgUHVyZ2VcIikud2hlcmUoW1wiX2lkXCIsIFwiSU5cIiwgZGVsSURzXSkubWFudWFsRXhlYyh7IHRhYmxlOiByb3dIaXN0VGFibGUgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGVhckFsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucGFyZW50LnF1ZXJ5KFwic2VsZWN0XCIpLndoZXJlKFtfdGhpcy5fdGFibGVQa0tleXNbdGFibGVdLCBcIj1cIiwgcGtdKS5tYW51YWxFeGVjKHsgdGFibGU6IHRhYmxlIH0pLnRoZW4oZnVuY3Rpb24gKGV4aXN0aW5nUm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3Vuc2hpZnRTaW5nbGVSb3codGFibGUsIFtcImNoYW5nZVwiXSwgcGssIGV4aXN0aW5nUm93WzBdLCBmYWxzZSwgcm93RG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd0RvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pLnRoZW4oY29tcGxldGUpO1xyXG4gICAgfTtcclxuICAgIF9OYW5vU1FMSGlzdG9yeVBsdWdpbi5wcm90b3R5cGUuX3B1cmdlVGFibGVIaXN0b3J5ID0gZnVuY3Rpb24gKHRhYmxlLCBjb21wbGV0ZSwgY2xlYXJBbGwpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMucGFyZW50LnF1ZXJ5KFwic2VsZWN0XCIpLm1hbnVhbEV4ZWMoeyB0YWJsZTogdGFibGUgKyBcIl9wdHJcIiB9KS50aGVuKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgIHZhciByb3cgPSBPYmplY3QuaXNGcm96ZW4ocm93c1swXSkgPyB1dGlsaXRpZXNfMS5fYXNzaWduKHJvd3NbMF0pIDogcm93c1swXTtcclxuICAgICAgICAgICAgaWYgKGNsZWFyQWxsIHx8IHJvdy5wdHIgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGlzdFEgPSBfdGhpcy5wYXJlbnQucXVlcnkoXCJzZWxlY3RcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNsZWFyQWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGlzdFEucmFuZ2Uocm93LnB0ciAqIC0xLCAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGhpc3RRLm1hbnVhbEV4ZWMoeyB0YWJsZTogdGFibGUgfSkudGhlbihmdW5jdGlvbiAoaGlzdFRhYmxlUm93cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaGlzdFRhYmxlUm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHVyZ2VSb3dzID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgaGlzdFRhYmxlUm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwdXJnZVJvd3Nbcm93LnRhYmxlXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1cmdlUm93c1tyb3cudGFibGVdID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1cmdlUm93c1tyb3cudGFibGVdID0gcHVyZ2VSb3dzW3Jvdy50YWJsZV0uY29uY2F0KHJvdy5rZXlzKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKE9iamVjdC5rZXlzKHB1cmdlUm93cyksIGZ1bmN0aW9uICh0YSwgaiwgdGFibGVEb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9wdXJnZVJvd0hpc3RvcnkodGEsIHB1cmdlUm93c1t0YV0sIHRhYmxlRG9uZSwgY2xlYXJBbGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQucXVlcnkoXCJkZWxldGVcIikuY29tbWVudChcIkhpc3RvcnkgUHVyZ2VcIikud2hlcmUoW1wiaWRcIiwgXCJJTlwiLCBoaXN0VGFibGVSb3dzLm1hcChmdW5jdGlvbiAocikgeyByZXR1cm4gci5pZDsgfSldKS5tYW51YWxFeGVjKHsgdGFibGU6IHRhYmxlIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93LnB0ciA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQucXVlcnkoXCJ1cHNlcnRcIiwgcm93KS5jb21tZW50KFwiSGlzdG9yeSBQdXJnZVwiKS53aGVyZShbXCJpZFwiLCBcIj1cIiwgcm93LmlkXSkubWFudWFsRXhlYyh7IHRhYmxlOiB0YWJsZSArIFwiX3B0clwiIH0pLnRoZW4oY29tcGxldGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSWYgYW55IHJvdyBwb2ludGVycyBhcmUgYWJvdmUgemVybywgd2UgbXVzdCBmaXJzdCByZW1vdmUgdGhlIHJldmlzaW9ucyBhaGVhZCBvZiB0aGUgZXhpc3Rpbmcgb25lIGJlZm9yZSBhZGRpbmcgYSBuZXcgcmV2aXNpb24uXHJcbiAgICAgKiBUaGlzIHByZXZlbnRzIHRoZSBoaXN0b3J5IGZyb20gYmVjb21taW5nIGJyb2tlblxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFibGVcclxuICAgICAqIEBwYXJhbSB7YW55W119IHJvd1BLc1xyXG4gICAgICogQHBhcmFtIHsoKSA9PiB2b2lkfSBjb21wbGV0ZVxyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMSGlzdG9yeVBsdWdpblxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTEhpc3RvcnlQbHVnaW4ucHJvdG90eXBlLl9wdXJnZVBhcmVudEhpc3RvcnkgPSBmdW5jdGlvbiAodGFibGUsIHJvd1BLcywgY29tcGxldGUpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaGlzdG9yeU1vZGVzKSB7IC8vIGdsb2JhbCBtb2RlXHJcbiAgICAgICAgICAgIHRoaXMuX3B1cmdlVGFibGVIaXN0b3J5KFwiX2hpc3RcIiwgY29tcGxldGUpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBoaXN0VGFibGUgPSB0aGlzLl9oaXN0VGFibGUodGFibGUpO1xyXG4gICAgICAgIGlmICghaGlzdFRhYmxlKSB7IC8vIHJvdyBtb2RlXHJcbiAgICAgICAgICAgIHRoaXMuX3B1cmdlUm93SGlzdG9yeSh0YWJsZSwgcm93UEtzLCBjb21wbGV0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgeyAvLyB0YWJsZSBtb2RlXHJcbiAgICAgICAgICAgIHRoaXMuX3B1cmdlVGFibGVIaXN0b3J5KGhpc3RUYWJsZSwgY29tcGxldGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBfTmFub1NRTEhpc3RvcnlQbHVnaW4ucHJvdG90eXBlLl9wdXJnZUFsbEhpc3RvcnkgPSBmdW5jdGlvbiAodGFibGUsIHJvd1BLLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5oaXN0b3J5TW9kZXMpIHsgLy8gZ2xvYmFsIG1vZGVcclxuICAgICAgICAgICAgdGhpcy5fcHVyZ2VUYWJsZUhpc3RvcnkoXCJfaGlzdFwiLCBjb21wbGV0ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGhpc3RUYWJsZSA9IHRoaXMuX2hpc3RUYWJsZSh0YWJsZSk7XHJcbiAgICAgICAgaWYgKCFoaXN0VGFibGUpIHsgLy8gcm93IG1vZGVcclxuICAgICAgICAgICAgdGhpcy5fcHVyZ2VSb3dIaXN0b3J5KHRhYmxlLCBbcm93UEtdLCBjb21wbGV0ZSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgeyAvLyB0YWJsZSBtb2RlXHJcbiAgICAgICAgICAgIHRoaXMuX3B1cmdlVGFibGVIaXN0b3J5KGhpc3RUYWJsZSwgY29tcGxldGUsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBfTmFub1NRTEhpc3RvcnlQbHVnaW4ucHJvdG90eXBlLmRpZEV4ZWMgPSBmdW5jdGlvbiAoZXZlbnQsIG5leHQpIHtcclxuICAgICAgICAvLyBvbmx5IGRvIGhpc3Rvcnkgb24gcHVibGljIHRhYmxlcyAob25lcyB0aGF0IGRvbnQgYmVnaW4gd2l0aCBfKVxyXG4gICAgICAgIC8vIGFsc28gb25seSBkbyBoaXN0b3J5IGlmIHRoZXJlIHdhcyBhIGNoYW5nZSBpbiB0aGUgZGF0YWJhc2VcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmIChldmVudC50YWJsZSAmJiBldmVudC50YWJsZS5pbmRleE9mKFwiX1wiKSAhPT0gMCAmJiBldmVudC50eXBlcy5pbmRleE9mKFwiY2hhbmdlXCIpID4gLTEgJiYgZXZlbnQucXVlcnkuY29tbWVudHMuaW5kZXhPZihcIkhpc3RvcnkgV3JpdGVcIikgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3B1cmdlUGFyZW50SGlzdG9yeShldmVudC50YWJsZSwgZXZlbnQuYWZmZWN0ZWRSb3dQS1MsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwoZXZlbnQuYWZmZWN0ZWRSb3dzLCBmdW5jdGlvbiAocm93LCBrLCByb3dEb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBrID0gcm93W190aGlzLl90YWJsZVBrS2V5c1tldmVudC50YWJsZV1dO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fdGFibGVLZXlzW2V2ZW50LnRhYmxlXVtwa10pIHsgLy8gZXhpc3Rpbmcgcm93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl91bnNoaWZ0U2luZ2xlUm93KGV2ZW50LnRhYmxlLCBldmVudC50eXBlcywgcGssIHJvdywgZmFsc2UsIGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93RG9uZShwayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gbmV3IHJvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdGFibGVLZXlzW2V2ZW50LnRhYmxlXVtwa10gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdW5zaGlmdFNpbmdsZVJvdyhldmVudC50YWJsZSwgZXZlbnQudHlwZXMsIHBrLCByb3csIHRydWUsIGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucGFyZW50LnF1ZXJ5KFwidXBzZXJ0XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogcGssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdFJvd3M6IFtpZCwgLTFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RQdHI6IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLm1hbnVhbEV4ZWMoeyB0YWJsZTogXCJfXCIgKyBldmVudC50YWJsZSArIFwiX19oaXN0X2lkeFwiIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd0RvbmUocGspO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJvd0lEcykge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl91bnNoaWZ0UGFyZW50KGV2ZW50LCByb3dJRHMsIG5leHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbmV4dChldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIF9OYW5vU1FMSGlzdG9yeVBsdWdpbi5wcm90b3R5cGUuX3Vuc2hpZnRQYXJlbnQgPSBmdW5jdGlvbiAoZXZlbnQsIGhpc3RSb3dJRHMsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgLy8gbnVsbCBpZiBpbiByb3cgbW9kZSwgb3RoZXJ3aXNlIHByb3ZpZGVzIHRoZSBoaXN0b3J5IHRhYmxlXHJcbiAgICAgICAgdmFyIGhpc3RUYWJsZSA9IHRoaXMuX2hpc3RUYWJsZShldmVudC50YWJsZSk7XHJcbiAgICAgICAgaWYgKCFoaXN0VGFibGUpIHtcclxuICAgICAgICAgICAgY29tcGxldGUoZXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnQucXVlcnkoXCJ1cHNlcnRcIiwge1xyXG4gICAgICAgICAgICAgICAgaWQ6IHV0aWxpdGllc18xLnRpbWVpZCh0cnVlKSxcclxuICAgICAgICAgICAgICAgIHRhYmxlOiBldmVudC50YWJsZSxcclxuICAgICAgICAgICAgICAgIGtleXM6IGhpc3RSb3dJRHNcclxuICAgICAgICAgICAgfSkubWFudWFsRXhlYyh7IHRhYmxlOiBoaXN0VGFibGUgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShldmVudCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBfTmFub1NRTEhpc3RvcnlQbHVnaW4ucHJvdG90eXBlLl91bnNoaWZ0U2luZ2xlUm93ID0gZnVuY3Rpb24gKHRhYmxlLCBldmVudFR5cGVzLCByb3dQSywgcm93LCBza2lwSURYLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHJvd0hpc3RUYWJsZSA9IFwiX1wiICsgdGFibGUgKyBcIl9faGlzdF9pZHhcIjtcclxuICAgICAgICB2YXIgaWQgPSB1dGlsaXRpZXNfMS50aW1laWQodHJ1ZSk7XHJcbiAgICAgICAgdmFyIGFkanVzdEhpc3RvcnlJRFggPSBmdW5jdGlvbiAoYXBwZW5kSUQpIHtcclxuICAgICAgICAgICAgLy8gYWRqdXN0IHRoZSBoaXN0b3J5IHBvaW50ZXIgdGFibGUgd2l0aCB0aGUgbmV3IHJvdyBpZFxyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnQucXVlcnkoXCJzZWxlY3RcIikud2hlcmUoW1wiaWRcIiwgXCI9XCIsIHJvd1BLXSkubWFudWFsRXhlYyh7IHRhYmxlOiByb3dIaXN0VGFibGUgfSkudGhlbihmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGhpc3RSb3dJRFggPSBPYmplY3QuaXNGcm96ZW4ocm93c1swXSkgPyB1dGlsaXRpZXNfMS5fYXNzaWduKHJvd3NbMF0pIDogcm93c1swXTtcclxuICAgICAgICAgICAgICAgIGhpc3RSb3dJRFguaGlzdFJvd3MudW5zaGlmdChhcHBlbmRJRCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQucXVlcnkoXCJ1cHNlcnRcIiwgaGlzdFJvd0lEWCkud2hlcmUoW1wiaWRcIiwgXCI9XCIsIHJvd1BLXSkubWFudWFsRXhlYyh7IHRhYmxlOiByb3dIaXN0VGFibGUgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoYXBwZW5kSUQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKGV2ZW50VHlwZXMuaW5kZXhPZihcImRlbGV0ZVwiKSA+IC0xIHx8IGV2ZW50VHlwZXMuaW5kZXhPZihcImRyb3BcIikgPiAtMSkge1xyXG4gICAgICAgICAgICAvLyBhZGQgZGVsZXRlZCByZWNvcmQgdG8gaGlzdG9yeSB0YWJsZVxyXG4gICAgICAgICAgICBhZGp1c3RIaXN0b3J5SURYKC0xKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGFkZCByb3cgdG8gaGlzdG9yeSB0YWJsZVxyXG4gICAgICAgICAgICB0aGlzLnBhcmVudC5xdWVyeShcInVwc2VydFwiLCBfX2Fzc2lnbih7IF9pZDogaWQgfSwgcm93KSkubWFudWFsRXhlYyh7IHRhYmxlOiBcIl9cIiArIHRhYmxlICsgXCJfX2hpc3Rfcm93c1wiIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNraXBJRFgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZShpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYWRqdXN0SGlzdG9yeUlEWChpZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBfTmFub1NRTEhpc3RvcnlQbHVnaW4ucHJvdG90eXBlLmV4dGVuZCA9IGZ1bmN0aW9uIChuZXh0LCBhcmdzLCByZXN1bHQpIHtcclxuICAgICAgICBpZiAoYXJnc1swXSA9PT0gXCJoaXN0XCIpIHtcclxuICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gYXJnc1sxXTtcclxuICAgICAgICAgICAgdmFyIHRhYmxlID0gYXJnc1syXTtcclxuICAgICAgICAgICAgdmFyIHJvd1BLID0gYXJnc1szXTtcclxuICAgICAgICAgICAgc3dpdGNoIChxdWVyeSkge1xyXG4gICAgICAgICAgICAgICAgLy8gbW92ZSBkYXRhYmFzZS90YWJsZS9yb3cgZm9yd2FyZCBvciBiYWNrd2FyZCBpbiBoaXN0b3J5XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiPFwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIj5cIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaGlmdEhpc3RvcnkocXVlcnksIHRhYmxlLCByb3dQSywgZnVuY3Rpb24gKGRpZEFueXRoaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoYXJncywgW2RpZEFueXRoaW5nXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAvLyBxdWVyeSBoaXN0b3J5IHN0YXRlIG9mIGRhdGFiYXNlL3RhYmxlL3Jvd1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIj9cIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9xdWVyeUhpc3RvcnkodGFibGUsIHJvd1BLLCBmdW5jdGlvbiAocVJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KGFyZ3MsIHFSZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgLy8gZ2V0IGFsbCByZXZpc2lvbnMgb2YgYSBnaXZlbiByb3dcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJyZXZcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZXRSZXZpc2lvbkhpc3RvcnkodGFibGUsIHJvd1BLLCBmdW5jdGlvbiAocVJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KGFyZ3MsIHFSZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgLy8gY2xlYXIgaGlzdG9yeSBvZiB0aGUgZGF0YWJhc2UvdGFibGUvcm93XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2xlYXJcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wdXJnZUFsbEhpc3RvcnkodGFibGUsIHJvd1BLLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoYXJncywgcmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbmV4dChhcmdzLCByZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvLyBvbmx5IHdvcmtzIHdoZW4gZ2l2ZW4gYSBzcGVjaWZpYyByb3dcclxuICAgIF9OYW5vU1FMSGlzdG9yeVBsdWdpbi5wcm90b3R5cGUuX2dldFJldmlzaW9uSGlzdG9yeSA9IGZ1bmN0aW9uICh0YWJsZSwgcm93UEssIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgcm93SGlzdFRhYmxlID0gXCJfXCIgKyB0YWJsZSArIFwiX19oaXN0X2lkeFwiO1xyXG4gICAgICAgIHRoaXMucGFyZW50LnF1ZXJ5KFwic2VsZWN0XCIpLndoZXJlKFtcImlkXCIsIFwiPVwiLCByb3dQS10pLm1hbnVhbEV4ZWMoeyB0YWJsZTogcm93SGlzdFRhYmxlIH0pLnRoZW4oZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgdmFyIGdldFJvd3MgPSByb3dzWzBdLmhpc3RSb3dzLmZpbHRlcihmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIGlkICE9PSAtMTsgfSk7XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudC5xdWVyeShcInNlbGVjdFwiKS53aGVyZShbXCJfaWRcIiwgXCJJTlwiLCBnZXRSb3dzXSkubWFudWFsRXhlYyh7IHRhYmxlOiBcIl9cIiArIHRhYmxlICsgXCJfX2hpc3Rfcm93c1wiIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdFJvd3MpIHtcclxuICAgICAgICAgICAgICAgIHZhciByT2JqID0ge307XHJcbiAgICAgICAgICAgICAgICByZXN1bHRSb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJPYmpbcm93W3N0cnNbMl1dXSA9IE9iamVjdC5pc0Zyb3plbihyb3cpID8gdXRpbGl0aWVzXzEuX2Fzc2lnbihyb3cpIDogcm93O1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSByT2JqW3Jvd1tzdHJzWzJdXV1bc3Ryc1syXV07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ZXI6IHJvd3NbMF0uaGlzdFJvd3MubGVuZ3RoIC0gcm93c1swXS5oaXN0UHRyIC0gMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV2aXNpb25zOiByb3dzWzBdLmhpc3RSb3dzLnJldmVyc2UoKS5tYXAoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIgPT09IC0xID8gbnVsbCA6IHJPYmpbcl07IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBfTmFub1NRTEhpc3RvcnlQbHVnaW4ucHJvdG90eXBlLl9nZXRUYWJsZUhpc3RvcnkgPSBmdW5jdGlvbiAodGFibGUsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLnBhcmVudC5leHRlbmQoXCJpZHgubGVuZ3RoXCIsIHRhYmxlKS50aGVuKGZ1bmN0aW9uIChsZW4pIHtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50LnF1ZXJ5KFwic2VsZWN0XCIpLm1hbnVhbEV4ZWMoeyB0YWJsZTogdGFibGUgKyBcIl9wdHJcIiB9KS50aGVuKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoWzAsIDBdKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShbbGVuLCBsZW4gLSByb3dzWzBdLnB0cl0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBfTmFub1NRTEhpc3RvcnlQbHVnaW4ucHJvdG90eXBlLl9xdWVyeUhpc3RvcnkgPSBmdW5jdGlvbiAodGFibGUsIHJvd1BLLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5oaXN0b3J5TW9kZXMpIHsgLy8gZ2xvYmFsIG1vZGVcclxuICAgICAgICAgICAgdGhpcy5fZ2V0VGFibGVIaXN0b3J5KFwiX2hpc3RcIiwgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUocmVzdWx0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGhpc3RUYWJsZSA9IHRoaXMuX2hpc3RUYWJsZSh0YWJsZSk7XHJcbiAgICAgICAgaWYgKCFoaXN0VGFibGUpIHsgLy8gZ2V0IHNpbmdsZSByb3cgaGlzdG9yeVxyXG4gICAgICAgICAgICBpZiAoIXJvd1BLKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIk5lZWQgYSByb3cgcHJpbWFyeSBrZXkgdG8gcXVlcnkgdGhpcyBoaXN0b3J5IVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcm93SGlzdFRhYmxlID0gXCJfXCIgKyB0YWJsZSArIFwiX19oaXN0X2lkeFwiO1xyXG4gICAgICAgICAgICB0aGlzLnBhcmVudC5xdWVyeShcInNlbGVjdFwiKS53aGVyZShbXCJpZFwiLCBcIj1cIiwgcm93UEtdKS5tYW51YWxFeGVjKHsgdGFibGU6IHJvd0hpc3RUYWJsZSB9KS50aGVuKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGlzdFJvd0lEWCA9IHJvd3NbMF07XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShbaGlzdFJvd0lEWC5oaXN0Um93cy5sZW5ndGgsIGhpc3RSb3dJRFguaGlzdFJvd3MubGVuZ3RoIC0gaGlzdFJvd0lEWC5oaXN0UHRyIC0gMV0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7IC8vIGdldCBzaW5nbGUgdGFibGUgaGlzdG9yeVxyXG4gICAgICAgICAgICBpZiAoIXRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIk5lZWQgYSB0YWJsZSB0byBxdWVyeSB0aGlzIGhpc3RvcnkhXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2dldFRhYmxlSGlzdG9yeShoaXN0VGFibGUsIGNvbXBsZXRlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgX05hbm9TUUxIaXN0b3J5UGx1Z2luLnByb3RvdHlwZS5fc2hpZnRUYWJsZUhpc3RvcnkgPSBmdW5jdGlvbiAoZGlyZWN0aW9uLCB0YWJsZSwgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMucGFyZW50LnF1ZXJ5KFwic2VsZWN0XCIpLm1hbnVhbEV4ZWMoeyB0YWJsZTogdGFibGUgKyBcIl9wdHJcIiB9KS50aGVuKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgIHZhciByb3dQdHIgPSB1dGlsaXRpZXNfMS5fYXNzaWduKHJvd3NbMF0pO1xyXG4gICAgICAgICAgICByb3dQdHIucHRyICs9IGRpcmVjdGlvbiA9PT0gXCI8XCIgPyAxIDogLTE7XHJcbiAgICAgICAgICAgIGlmIChyb3dQdHIucHRyIDwgMClcclxuICAgICAgICAgICAgICAgIHJvd1B0ci5wdHIgPSAwO1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnQuZXh0ZW5kKFwiaWR4Lmxlbmd0aFwiLCB0YWJsZSkudGhlbihmdW5jdGlvbiAobGVuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocm93UHRyLnB0ciA+IGxlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd1B0ci5wdHIgPSBsZW47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocm93c1swXS5wdHIgPT09IHJvd1B0ci5wdHIpIHsgLy8gbm8gY2hhbmdlIGluIGhpc3RvcnksIG5vdGhpbmcgdG8gZG8uXHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF90aGlzLnBhcmVudC5xdWVyeShcInNlbGVjdFwiKS5yYW5nZSgtMSwgZGlyZWN0aW9uID09PSBcIjxcIiA/IHJvd3NbMF0ucHRyIDogcm93UHRyLnB0cikubWFudWFsRXhlYyh7IHRhYmxlOiB0YWJsZSB9KS50aGVuKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucGFyZW50LnF1ZXJ5KFwidXBzZXJ0XCIsIHJvd1B0cikubWFudWFsRXhlYyh7IHRhYmxlOiB0YWJsZSArIFwiX3B0clwiIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHJvd3NbMF0ua2V5cywgZnVuY3Rpb24gKHBrLCBpLCBuZXh0Um93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc2hpZnRSb3dIaXN0b3J5KGRpcmVjdGlvbiwgcm93c1swXS50YWJsZSwgcGssIG5leHRSb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkaWRBbnl0aGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoZGlkQW55dGhpbmcuaW5kZXhPZih0cnVlKSA+IC0xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX05hbm9TUUxIaXN0b3J5UGx1Z2luLnByb3RvdHlwZS5fc2hpZnRSb3dIaXN0b3J5ID0gZnVuY3Rpb24gKGRpcmVjdGlvbiwgdGFibGUsIFBLLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHVwZGF0ZUlEWCA9IGZ1bmN0aW9uIChtZXRhKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudC5xdWVyeShcInVwc2VydFwiLCBtZXRhKS53aGVyZShbX3RoaXMuX3RhYmxlUGtLZXlzW3RhYmxlXSwgXCI9XCIsIFBLXSkubWFudWFsRXhlYyh7IHRhYmxlOiBcIl9cIiArIHRhYmxlICsgXCJfX2hpc3RfaWR4XCIgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZSh0cnVlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnBhcmVudC5xdWVyeShcInNlbGVjdFwiKS53aGVyZShbdGhpcy5fdGFibGVQa0tleXNbdGFibGVdLCBcIj1cIiwgUEtdKS5tYW51YWxFeGVjKHsgdGFibGU6IFwiX1wiICsgdGFibGUgKyBcIl9faGlzdF9pZHhcIiB9KS50aGVuKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgIHZhciByb3dJRFggPSB1dGlsaXRpZXNfMS5fYXNzaWduKHJvd3NbMF0pO1xyXG4gICAgICAgICAgICByb3dJRFguaGlzdFB0ciArPSBkaXJlY3Rpb24gPT09IFwiPFwiID8gMSA6IC0xO1xyXG4gICAgICAgICAgICBpZiAocm93SURYLmhpc3RQdHIgPCAwKVxyXG4gICAgICAgICAgICAgICAgcm93SURYLmhpc3RQdHIgPSAwO1xyXG4gICAgICAgICAgICBpZiAocm93SURYLmhpc3RQdHIgPiByb3dJRFguaGlzdFJvd3MubGVuZ3RoIC0gMSlcclxuICAgICAgICAgICAgICAgIHJvd0lEWC5oaXN0UHRyID0gcm93SURYLmhpc3RSb3dzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgIGlmIChyb3dJRFguaGlzdFB0ciA9PT0gcm93c1swXS5oaXN0UHRyKSB7IC8vIG91dHNpZGUgb2YgaGlzdG9yeSByYW5nZSwgbm90aGluZyB0byBkb1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBoaXN0b3J5UEsgPSByb3dJRFguaGlzdFJvd3Nbcm93SURYLmhpc3RQdHJdO1xyXG4gICAgICAgICAgICBpZiAoaGlzdG9yeVBLID09PSAtMSkgeyAvLyByb3cgaGFzIGJlZW4gZGVsZXRlZFxyXG4gICAgICAgICAgICAgICAgX3RoaXMucGFyZW50LnF1ZXJ5KFwiZGVsZXRlXCIpLmNvbW1lbnQoXCJIaXN0b3J5IFdyaXRlXCIpLndoZXJlKFtfdGhpcy5fdGFibGVQa0tleXNbdGFibGVdLCBcIj1cIiwgUEtdKS5tYW51YWxFeGVjKHsgdGFibGU6IHRhYmxlIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUlEWChyb3dJRFgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7IC8vIHJvdyBoYXMgYmVlbiBhZGRlZCBvciBtb2RpZmllZFxyXG4gICAgICAgICAgICAgICAgLy8gcHVsbCB0aGUgaGlzdG9yeSdzIGNvcHkgb2YgdGhlIHJvd1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucGFyZW50LnF1ZXJ5KFwic2VsZWN0XCIpLndoZXJlKFtcIl9pZFwiLCBcIj1cIiwgaGlzdG9yeVBLXSkubWFudWFsRXhlYyh7IHRhYmxlOiBcIl9cIiArIHRhYmxlICsgXCJfX2hpc3Rfcm93c1wiIH0pLnRoZW4oZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBvdmVyd3JpdGUgdGhlIHJvdyBpbiB0aGUgZGF0YWJhc2VcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQucXVlcnkoXCJ1cHNlcnRcIiwgcm93c1swXSkuY29tbWVudChcIkhpc3RvcnkgV3JpdGVcIikubWFudWFsRXhlYyh7IHRhYmxlOiB0YWJsZSB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlSURYKHJvd0lEWCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIF9OYW5vU1FMSGlzdG9yeVBsdWdpbi5wcm90b3R5cGUuX3NoaWZ0SGlzdG9yeSA9IGZ1bmN0aW9uIChkaXJlY3Rpb24sIHRhYmxlLCByb3dQSywgY29tcGxldGUpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaGlzdG9yeU1vZGVzKSB7IC8vIGdsb2JhbCBtb2RlXHJcbiAgICAgICAgICAgIHRoaXMuX3NoaWZ0VGFibGVIaXN0b3J5KGRpcmVjdGlvbiwgXCJfaGlzdFwiLCBjb21wbGV0ZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGhpc3RUYWJsZSA9IHRoaXMuX2hpc3RUYWJsZSh0YWJsZSk7XHJcbiAgICAgICAgaWYgKCFoaXN0VGFibGUpIHsgLy8gYWRqdXN0IHNpbmdsZSByb3cgaGlzdG9yeVxyXG4gICAgICAgICAgICBpZiAoIXJvd1BLKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIk5lZWQgYSByb3cgcHJpbWFyeSBrZXkgdG8gY2hhbmdlIHRoaXMgaGlzdG9yeSFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fc2hpZnRSb3dIaXN0b3J5KGRpcmVjdGlvbiwgdGFibGUsIHJvd1BLLCBjb21wbGV0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgeyAvLyBhZGp1c3Qgc2luZ2xlIHRhYmxlIGhpc3RvcnlcclxuICAgICAgICAgICAgaWYgKCF0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJOZWVkIGEgdGFibGUgdG8gY2hhbmdlIHRoaXMgaGlzdG9yeSFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fc2hpZnRUYWJsZUhpc3RvcnkoZGlyZWN0aW9uLCBoaXN0VGFibGUsIGNvbXBsZXRlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9OYW5vU1FMSGlzdG9yeVBsdWdpbjtcclxufSgpKTtcclxuZXhwb3J0cy5fTmFub1NRTEhpc3RvcnlQbHVnaW4gPSBfTmFub1NRTEhpc3RvcnlQbHVnaW47XHJcbiIsInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xyXG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXHJcbiAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGxpZV90c18xID0gcmVxdWlyZShcImxpZS10c1wiKTtcclxudmFyIHV0aWxpdGllc18xID0gcmVxdWlyZShcIi4uL3V0aWxpdGllc1wiKTtcclxudmFyIGRiX2lkeF8xID0gcmVxdWlyZShcIi4vZGItaWR4XCIpO1xyXG52YXIgZGVsZXRlRm9sZGVyUmVjdXJzaXZlID0gZnVuY3Rpb24gKHBhdGgpIHtcclxuICAgIGlmIChnbG9iYWwuX2ZzLmV4aXN0c1N5bmMocGF0aCkpIHtcclxuICAgICAgICBnbG9iYWwuX2ZzLnJlYWRkaXJTeW5jKHBhdGgpLmZvckVhY2goZnVuY3Rpb24gKGZpbGUpIHtcclxuICAgICAgICAgICAgdmFyIGN1clBhdGggPSBwYXRoICsgXCIvXCIgKyBmaWxlO1xyXG4gICAgICAgICAgICBpZiAoZ2xvYmFsLl9mcy5zdGF0U3luYyhjdXJQYXRoKS5pc0RpcmVjdG9yeSgpKSB7IC8vIHJlY3Vyc2VcclxuICAgICAgICAgICAgICAgIGRlbGV0ZUZvbGRlclJlY3Vyc2l2ZShjdXJQYXRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHsgLy8gZGVsZXRlIGZpbGVcclxuICAgICAgICAgICAgICAgIGdsb2JhbC5fZnMudW5saW5rU3luYyhjdXJQYXRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGdsb2JhbC5fZnMucm1kaXJTeW5jKHBhdGgpO1xyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogSGFuZGxlcyBMZXZlbCBEQiBzdG9yYWdlLlxyXG4gKlxyXG4gKiBAZXhwb3J0XHJcbiAqIEBjbGFzcyBfTGV2ZWxTdG9yZVxyXG4gKiBAaW1wbGVtZW50cyB7TmFub1NRTFN0b3JhZ2VBZGFwdGVyfVxyXG4gKi9cclxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXHJcbnZhciBfTGV2ZWxTdG9yZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIF9MZXZlbFN0b3JlKHBhdGgsIHdyaXRlQ2FjaGUsIHJlYWRDYWNoZSkge1xyXG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XHJcbiAgICAgICAgdGhpcy53cml0ZUNhY2hlID0gd3JpdGVDYWNoZTtcclxuICAgICAgICB0aGlzLnJlYWRDYWNoZSA9IHJlYWRDYWNoZTtcclxuICAgICAgICB0aGlzLl9wa0tleSA9IHt9O1xyXG4gICAgICAgIHRoaXMuX3BrVHlwZSA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2RiSW5kZXggPSB7fTtcclxuICAgICAgICB0aGlzLl9sZXZlbERCcyA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2lzUEtudW0gPSB7fTtcclxuICAgIH1cclxuICAgIF9MZXZlbFN0b3JlLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKE9iamVjdC5rZXlzKHRoaXMuX2RiSW5kZXgpLCBmdW5jdGlvbiAodGFibGUsIGksIGRvbmUpIHtcclxuICAgICAgICAgICAgdmFyIHBrcyA9IFtdO1xyXG4gICAgICAgICAgICBfdGhpcy5fbGV2ZWxEQnNbdGFibGVdLmNyZWF0ZUtleVN0cmVhbSgpXHJcbiAgICAgICAgICAgICAgICAub24oXCJkYXRhXCIsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBwa3MucHVzaChfdGhpcy5faXNQS251bVt0YWJsZV0gPyBuZXcgZ2xvYmFsLl9JbnQ2NEJFKGRhdGEpLnRvTnVtYmVyKCkgOiBkYXRhKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5vbihcImVuZFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGtzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9kYkluZGV4W3RhYmxlXS5zZXQocGtzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSkudGhlbihjb21wbGV0ZSk7XHJcbiAgICB9O1xyXG4gICAgX0xldmVsU3RvcmUucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwoT2JqZWN0LmtleXModGhpcy5fZGJJbmRleCksIGZ1bmN0aW9uICh0YWJsZSwgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICBfdGhpcy5fbGV2ZWxEQnNbdGFibGVdLmNsb3NlKGRvbmUpO1xyXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb21wbGV0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIF9MZXZlbFN0b3JlLnByb3RvdHlwZS5zZXRJRCA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIHRoaXMuX2lkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5fcGF0aCA9ICh0aGlzLnBhdGggfHwgXCIuXCIpICsgXCIvZGJfXCIgKyB0aGlzLl9pZDtcclxuICAgICAgICBpZiAoIWdsb2JhbC5fZnMuZXhpc3RzU3luYyh0aGlzLl9wYXRoKSkge1xyXG4gICAgICAgICAgICBnbG9iYWwuX2ZzLm1rZGlyU3luYyh0aGlzLl9wYXRoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgX0xldmVsU3RvcmUucHJvdG90eXBlLm1ha2VUYWJsZSA9IGZ1bmN0aW9uICh0YWJsZU5hbWUsIGRhdGFNb2RlbHMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuX2RiSW5kZXhbdGFibGVOYW1lXSA9IG5ldyBkYl9pZHhfMS5EYXRhYmFzZUluZGV4KCk7XHJcbiAgICAgICAgdGhpcy5fbGV2ZWxEQnNbdGFibGVOYW1lXSA9IGdsb2JhbC5fbGV2ZWx1cChnbG9iYWwuX2xldmVsZG93bihnbG9iYWwuX3BhdGguam9pbih0aGlzLl9wYXRoLCB0YWJsZU5hbWUpKSwge1xyXG4gICAgICAgICAgICBjYWNoZVNpemU6ICh0aGlzLnJlYWRDYWNoZSB8fCAzMikgKiAxMDI0ICogMTAyNCxcclxuICAgICAgICAgICAgd3JpdGVCdWZmZXJTaXplOiAodGhpcy53cml0ZUNhY2hlIHx8IDMyKSAqIDEwMjQgKiAxMDI0XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZGF0YU1vZGVscy5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChkLnByb3BzICYmIHV0aWxpdGllc18xLmludGVyc2VjdChbXCJwa1wiLCBcInBrKClcIl0sIGQucHJvcHMpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fcGtUeXBlW3RhYmxlTmFtZV0gPSBkLnR5cGU7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fcGtLZXlbdGFibGVOYW1lXSA9IGQua2V5O1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX2lzUEtudW1bdGFibGVOYW1lXSA9IFtcImludFwiLCBcIm51bWJlclwiLCBcImZsb2F0XCJdLmluZGV4T2YoZC50eXBlKSAhPT0gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGQucHJvcHMgJiYgdXRpbGl0aWVzXzEuaW50ZXJzZWN0KFtcImFpXCIsIFwiYWkoKVwiXSwgZC5wcm9wcykgJiYgdXRpbGl0aWVzXzEuaW50ZXJzZWN0KFtcInBrXCIsIFwicGsoKVwiXSwgZC5wcm9wcykgJiYgZC50eXBlID09PSBcImludFwiKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fZGJJbmRleFt0YWJsZU5hbWVdLmRvQUkgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX0xldmVsU3RvcmUucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKHRhYmxlLCBwaywgZGF0YSwgY29tcGxldGUpIHtcclxuICAgICAgICBwayA9IHBrIHx8IHV0aWxpdGllc18xLmdlbmVyYXRlSUQodGhpcy5fcGtUeXBlW3RhYmxlXSwgdGhpcy5fZGJJbmRleFt0YWJsZV0uYWkpO1xyXG4gICAgICAgIGlmICghcGspIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJDYW4ndCBhZGQgYSByb3cgd2l0aG91dCBhIHByaW1hcnkga2V5IVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX2RiSW5kZXhbdGFibGVdLmluZGV4T2YocGspID09PSAtMSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kYkluZGV4W3RhYmxlXS5hZGQocGspO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgciA9IF9fYXNzaWduKHt9LCBkYXRhLCAoX2EgPSB7fSwgX2FbdGhpcy5fcGtLZXlbdGFibGVdXSA9IHBrLCBfYSkpO1xyXG4gICAgICAgIHRoaXMuX2xldmVsREJzW3RhYmxlXS5wdXQodGhpcy5faXNQS251bVt0YWJsZV0gPyBuZXcgZ2xvYmFsLl9JbnQ2NEJFKHBrKS50b0J1ZmZlcigpIDogcGssIEpTT04uc3RyaW5naWZ5KHIpLCBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGVycik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgIH07XHJcbiAgICBfTGV2ZWxTdG9yZS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKHRhYmxlLCBwaywgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgaWR4ID0gdGhpcy5fZGJJbmRleFt0YWJsZV0uaW5kZXhPZihwayk7XHJcbiAgICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGJJbmRleFt0YWJsZV0ucmVtb3ZlKHBrKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fbGV2ZWxEQnNbdGFibGVdLmRlbCh0aGlzLl9pc1BLbnVtW3RhYmxlXSA/IG5ldyBnbG9iYWwuX0ludDY0QkUocGspLnRvQnVmZmVyKCkgOiBwaywgZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihlcnIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIF9MZXZlbFN0b3JlLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKHRhYmxlLCBwaywgY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAodGhpcy5fZGJJbmRleFt0YWJsZV0uaW5kZXhPZihwaykgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2xldmVsREJzW3RhYmxlXS5nZXQodGhpcy5faXNQS251bVt0YWJsZV0gPyBuZXcgZ2xvYmFsLl9JbnQ2NEJFKHBrKS50b0J1ZmZlcigpIDogcGssIGZ1bmN0aW9uIChlcnIsIHJvdykge1xyXG4gICAgICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihlcnIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soSlNPTi5wYXJzZShyb3cpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIF9MZXZlbFN0b3JlLnByb3RvdHlwZS5yYW5nZVJlYWQgPSBmdW5jdGlvbiAodGFibGUsIHJvd0NhbGxiYWNrLCBjb21wbGV0ZSwgZnJvbSwgdG8sIHVzZVBLKSB7XHJcbiAgICAgICAgdmFyIGtleXMgPSB0aGlzLl9kYkluZGV4W3RhYmxlXS5rZXlzKCk7XHJcbiAgICAgICAgdmFyIHVzZWZ1bFZhbHVlcyA9IFt0eXBlb2YgZnJvbSwgdHlwZW9mIHRvXS5pbmRleE9mKFwidW5kZWZpbmVkXCIpID09PSAtMTtcclxuICAgICAgICB2YXIgcmFuZ2VzID0gdXNlZnVsVmFsdWVzID8gW2Zyb20sIHRvXSA6IFswLCBrZXlzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIHZhciByb3dzID0gW107XHJcbiAgICAgICAgdmFyIGxvd2VyID0gdXNlUEsgJiYgdXNlZnVsVmFsdWVzID8gZnJvbSA6IGtleXNbcmFuZ2VzWzBdXTtcclxuICAgICAgICB2YXIgaGlnaGVyID0gdXNlUEsgJiYgdXNlZnVsVmFsdWVzID8gdG8gOiBrZXlzW3Jhbmdlc1sxXV07XHJcbiAgICAgICAgdGhpcy5fbGV2ZWxEQnNbdGFibGVdXHJcbiAgICAgICAgICAgIC5jcmVhdGVWYWx1ZVN0cmVhbSh7XHJcbiAgICAgICAgICAgIGd0ZTogdGhpcy5faXNQS251bVt0YWJsZV0gPyBuZXcgZ2xvYmFsLl9JbnQ2NEJFKGxvd2VyKS50b0J1ZmZlcigpIDogbG93ZXIsXHJcbiAgICAgICAgICAgIGx0ZTogdGhpcy5faXNQS251bVt0YWJsZV0gPyBuZXcgZ2xvYmFsLl9JbnQ2NEJFKGhpZ2hlcikudG9CdWZmZXIoKSA6IGhpZ2hlclxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbihcImRhdGFcIiwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgcm93cy5wdXNoKEpTT04ucGFyc2UoZGF0YSkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbihcImVuZFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBpZHggPSByYW5nZXNbMF0gfHwgMDtcclxuICAgICAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgICAgICB2YXIgZ2V0Um93ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPCByb3dzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd0NhbGxiYWNrKHJvd3NbaV0sIGlkeCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZHgrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpICUgNTAwID09PSAwID8gbGllX3RzXzEuc2V0RmFzdChnZXRSb3cpIDogZ2V0Um93KCk7IC8vIGhhbmRsZSBtYXhpbXVtIGNhbGwgc3RhY2sgZXJyb3JcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGdldFJvdygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIF9MZXZlbFN0b3JlLnByb3RvdHlwZS5kcm9wID0gZnVuY3Rpb24gKHRhYmxlLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTCh0aGlzLl9kYkluZGV4W3RhYmxlXS5rZXlzKCksIGZ1bmN0aW9uIChwaywgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICBfdGhpcy5fbGV2ZWxEQnNbdGFibGVdLmRlbChwaywgZG9uZSk7XHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBpZHggPSBuZXcgZGJfaWR4XzEuRGF0YWJhc2VJbmRleCgpO1xyXG4gICAgICAgICAgICBpZHguZG9BSSA9IF90aGlzLl9kYkluZGV4W3RhYmxlXS5kb0FJO1xyXG4gICAgICAgICAgICBfdGhpcy5fZGJJbmRleFt0YWJsZV0gPSBpZHg7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX0xldmVsU3RvcmUucHJvdG90eXBlLmdldEluZGV4ID0gZnVuY3Rpb24gKHRhYmxlLCBnZXRMZW5ndGgsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgY29tcGxldGUoZ2V0TGVuZ3RoID8gdGhpcy5fZGJJbmRleFt0YWJsZV0ua2V5cygpLmxlbmd0aCA6IHRoaXMuX2RiSW5kZXhbdGFibGVdLmtleXMoKSk7XHJcbiAgICB9O1xyXG4gICAgX0xldmVsU3RvcmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwoT2JqZWN0LmtleXModGhpcy5fZGJJbmRleCksIGZ1bmN0aW9uICh0YWJsZSwgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICBfdGhpcy5kcm9wKHRhYmxlLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fbGV2ZWxEQnNbdGFibGVdLmNsb3NlKGRvbmUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZGVsZXRlRm9sZGVyUmVjdXJzaXZlKF90aGlzLl9wYXRoKTtcclxuICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX0xldmVsU3RvcmU7XHJcbn0oKSk7XHJcbmV4cG9ydHMuX0xldmVsU3RvcmUgPSBfTGV2ZWxTdG9yZTtcclxuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XHJcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcclxuICAgICAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgbGllX3RzXzEgPSByZXF1aXJlKFwibGllLXRzXCIpO1xyXG52YXIgdXRpbGl0aWVzXzEgPSByZXF1aXJlKFwiLi4vdXRpbGl0aWVzXCIpO1xyXG52YXIgZGJfaWR4XzEgPSByZXF1aXJlKFwiLi9kYi1pZHhcIik7XHJcbi8qKlxyXG4gKiBIYW5kbGVzIFdlYlNRTCBwZXJzaXN0ZW50IHN0b3JhZ2VcclxuICpcclxuICogQGV4cG9ydFxyXG4gKiBAY2xhc3MgX1N5bmNTdG9yZVxyXG4gKiBAaW1wbGVtZW50cyB7TmFub1NRTFN0b3JhZ2VBZGFwdGVyfVxyXG4gKi9cclxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXHJcbnZhciBfV2ViU1FMU3RvcmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBfV2ViU1FMU3RvcmUoc2l6ZSkge1xyXG4gICAgICAgIHRoaXMuX3BrS2V5ID0ge307XHJcbiAgICAgICAgdGhpcy5fcGtUeXBlID0ge307XHJcbiAgICAgICAgdGhpcy5fZGJJbmRleCA9IHt9O1xyXG4gICAgICAgIHRoaXMuX3NpemUgPSAoc2l6ZSB8fCAwKSAqIDEwMDAgKiAxMDAwO1xyXG4gICAgfVxyXG4gICAgX1dlYlNRTFN0b3JlLnByb3RvdHlwZS5zZXRJRCA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIHRoaXMuX2lkID0gaWQ7XHJcbiAgICB9O1xyXG4gICAgX1dlYlNRTFN0b3JlLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLl9kYiA9IHdpbmRvdy5vcGVuRGF0YWJhc2UodGhpcy5faWQsIFwiMS4wXCIsIHRoaXMuX2lkLCB0aGlzLl9zaXplIHx8IHV0aWxpdGllc18xLmlzQW5kcm9pZCA/IDUwMDAwMDAgOiAxKTtcclxuICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKE9iamVjdC5rZXlzKHRoaXMuX3BrS2V5KSwgZnVuY3Rpb24gKHRhYmxlLCBpLCBuZXh0S2V5KSB7XHJcbiAgICAgICAgICAgIF90aGlzLl9zcWwodHJ1ZSwgXCJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBcIiArIHRhYmxlICsgXCIgKGlkIEJMT0IgUFJJTUFSWSBLRVkgVU5JUVVFLCBkYXRhIFRFWFQpXCIsIFtdLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fc3FsKGZhbHNlLCBcIlNFTEVDVCBpZCBGUk9NIFwiICsgdGFibGUsIFtdLCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkeCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGlfMSA9IDA7IGlfMSA8IHJlc3VsdC5yb3dzLmxlbmd0aDsgaV8xKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWR4LnB1c2gocmVzdWx0LnJvd3MuaXRlbShpXzEpLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU1FMaXRlIGRvZXNuJ3Qgc29ydCBwcmltYXJ5IGtleXMsIGJ1dCB0aGUgc3lzdGVtIGRlcGVuZHMgb24gc29ydGVkIHByaW1hcnkga2V5c1xyXG4gICAgICAgICAgICAgICAgICAgIGlkeCA9IGlkeC5zb3J0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2RiSW5kZXhbdGFibGVdLnNldChpZHgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRLZXkoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KS50aGVuKGNvbXBsZXRlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRhYmxlIG5hbWVzIGNhbid0IGJlIGVzY2FwZWQgZWFzaWx5IGluIHRoZSBxdWVyaWVzLlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiBnYXVyYW50ZWVzIGFueSBwcm92aWRlZCB0YWJsZSBpcyBhIHZhbGlkIHRhYmxlIG5hbWUgYmVpbmcgdXNlZCBieSB0aGUgc3lzdGVtLlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFibGVcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKiBAbWVtYmVyb2YgX1dlYlNRTFN0b3JlXHJcbiAgICAgKi9cclxuICAgIF9XZWJTUUxTdG9yZS5wcm90b3R5cGUuX2Noa1RhYmxlID0gZnVuY3Rpb24gKHRhYmxlKSB7XHJcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuX3BrVHlwZSkuaW5kZXhPZih0YWJsZSkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiTm8gdGFibGUgXCIgKyB0YWJsZSArIFwiIGZvdW5kIVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0YWJsZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgX1dlYlNRTFN0b3JlLnByb3RvdHlwZS5tYWtlVGFibGUgPSBmdW5jdGlvbiAodGFibGVOYW1lLCBkYXRhTW9kZWxzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLl9kYkluZGV4W3RhYmxlTmFtZV0gPSBuZXcgZGJfaWR4XzEuRGF0YWJhc2VJbmRleCgpO1xyXG4gICAgICAgIGRhdGFNb2RlbHMuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAoZC5wcm9wcyAmJiBkLnByb3BzLmluZGV4T2YoXCJwa1wiKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fcGtUeXBlW3RhYmxlTmFtZV0gPSBkLnR5cGU7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fcGtLZXlbdGFibGVOYW1lXSA9IGQua2V5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkLnByb3BzICYmIGQucHJvcHMuaW5kZXhPZihcImFpXCIpID4gLTEgJiYgZC5wcm9wcy5pbmRleE9mKFwicGtcIikgPiAtMSAmJiBkLnR5cGUgPT09IFwiaW50XCIpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9kYkluZGV4W3RhYmxlTmFtZV0uZG9BSSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBfV2ViU1FMU3RvcmUucHJvdG90eXBlLl9zcWwgPSBmdW5jdGlvbiAoYWxsb3dXcml0ZSwgc3FsLCBhcmdzLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBkb1RyYW5zYWN0aW9uID0gZnVuY3Rpb24gKHR4KSB7XHJcbiAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoc3FsLCBhcmdzLCBmdW5jdGlvbiAodHgyLCByZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh0eCwgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHNxbCwgYXJncywgZXJyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoYWxsb3dXcml0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kYi50cmFuc2FjdGlvbihkb1RyYW5zYWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RiLnJlYWRUcmFuc2FjdGlvbihkb1RyYW5zYWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgX1dlYlNRTFN0b3JlLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uICh0YWJsZSwgcGssIGRhdGEsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgcGsgPSBwayB8fCB1dGlsaXRpZXNfMS5nZW5lcmF0ZUlEKHRoaXMuX3BrVHlwZVt0YWJsZV0sIHRoaXMuX2RiSW5kZXhbdGFibGVdLmFpKTtcclxuICAgICAgICBpZiAoIXBrKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGFkZCBhIHJvdyB3aXRob3V0IGEgcHJpbWFyeSBrZXkhXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbmV3Um93ID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMuX2RiSW5kZXhbdGFibGVdLmluZGV4T2YocGspID09PSAtMSkge1xyXG4gICAgICAgICAgICBuZXdSb3cgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLl9kYkluZGV4W3RhYmxlXS5hZGQocGspO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobmV3Um93KSB7XHJcbiAgICAgICAgICAgIHZhciByXzEgPSBfX2Fzc2lnbih7fSwgZGF0YSwgKF9hID0ge30sIF9hW3RoaXMuX3BrS2V5W3RhYmxlXV0gPSBwaywgX2EpKTtcclxuICAgICAgICAgICAgdGhpcy5fc3FsKHRydWUsIFwiSU5TRVJUIGludG8gXCIgKyB0aGlzLl9jaGtUYWJsZSh0YWJsZSkgKyBcIiAoaWQsIGRhdGEpIFZBTFVFUyAoPywgPylcIiwgW3BrLCBKU09OLnN0cmluZ2lmeShyXzEpXSwgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUocl8xKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgcl8yID0gX19hc3NpZ24oe30sIGRhdGEsIChfYiA9IHt9LCBfYlt0aGlzLl9wa0tleVt0YWJsZV1dID0gcGssIF9iKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NxbCh0cnVlLCBcIlVQREFURSBcIiArIHRoaXMuX2Noa1RhYmxlKHRhYmxlKSArIFwiIFNFVCBkYXRhID0gPyBXSEVSRSBpZCA9ID9cIiwgW0pTT04uc3RyaW5naWZ5KHJfMiksIHBrXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUocl8yKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBfYSwgX2I7XHJcbiAgICB9O1xyXG4gICAgX1dlYlNRTFN0b3JlLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAodGFibGUsIHBrLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBwb3MgPSB0aGlzLl9kYkluZGV4W3RhYmxlXS5pbmRleE9mKHBrKTtcclxuICAgICAgICBpZiAocG9zICE9PSAtMSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kYkluZGV4W3RhYmxlXS5yZW1vdmUocGspO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9zcWwodHJ1ZSwgXCJERUxFVEUgRlJPTSBcIiArIHRoaXMuX2Noa1RhYmxlKHRhYmxlKSArIFwiIFdIRVJFIGlkID0gP1wiLCBbcGtdLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX1dlYlNRTFN0b3JlLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKHRhYmxlLCBwaywgY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLl9zcWwoZmFsc2UsIFwiU0VMRUNUIGRhdGEgRlJPTSBcIiArIHRoaXMuX2Noa1RhYmxlKHRhYmxlKSArIFwiIFdIRVJFIGlkID0gP1wiLCBbcGtdLCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQucm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKEpTT04ucGFyc2UocmVzdWx0LnJvd3MuaXRlbSgwKS5kYXRhKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX1dlYlNRTFN0b3JlLnByb3RvdHlwZS5iYXRjaFJlYWQgPSBmdW5jdGlvbiAodGFibGUsIHBrcywgY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLl9zcWwoZmFsc2UsIFwiU0VMRUNUIGRhdGEgZnJvbSBcIiArIHRoaXMuX2Noa1RhYmxlKHRhYmxlKSArIFwiIFdIRVJFIGlkIElOIChcIiArIHBrcy5tYXAoZnVuY3Rpb24gKHApIHsgcmV0dXJuIFwiP1wiOyB9KS5qb2luKFwiLCBcIikgKyBcIikgT1JERVIgQlkgaWRcIiwgcGtzLCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gcmVzdWx0LnJvd3MubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgcm93cyA9IFtdO1xyXG4gICAgICAgICAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgICAgICAgICByb3dzLnVuc2hpZnQoSlNPTi5wYXJzZShyZXN1bHQucm93cy5pdGVtKGkpLmRhdGEpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYWxsYmFjayhyb3dzKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBfV2ViU1FMU3RvcmUucHJvdG90eXBlLnJhbmdlUmVhZCA9IGZ1bmN0aW9uICh0YWJsZSwgcm93Q2FsbGJhY2ssIGNvbXBsZXRlLCBmcm9tLCB0bywgdXNlUEspIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBrZXlzID0gdGhpcy5fZGJJbmRleFt0YWJsZV0ua2V5cygpO1xyXG4gICAgICAgIHZhciB1c2VmdWxWYWx1ZXMgPSBbdHlwZW9mIGZyb20sIHR5cGVvZiB0b10uaW5kZXhPZihcInVuZGVmaW5lZFwiKSA9PT0gLTE7XHJcbiAgICAgICAgdmFyIHJhbmdlcyA9IHVzZWZ1bFZhbHVlcyA/IFtmcm9tLCB0b10gOiBbXTtcclxuICAgICAgICBpZiAoIWtleXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHVzZVBLICYmIHVzZWZ1bFZhbHVlcykge1xyXG4gICAgICAgICAgICByYW5nZXMgPSByYW5nZXMubWFwKGZ1bmN0aW9uIChyKSB7IHJldHVybiBfdGhpcy5fZGJJbmRleFt0YWJsZV0uZ2V0TG9jYXRpb24ocik7IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaWR4ID0gcmFuZ2VzWzBdIHx8IDA7XHJcbiAgICAgICAgdmFyIGdldEtleXMgPSBbXTtcclxuICAgICAgICB2YXIgc3RhcnRJRFggPSByYW5nZXNbMF07XHJcbiAgICAgICAgdmFyIHN0bW50ID0gXCJTRUxFQ1QgZGF0YSBmcm9tIFwiICsgdGhpcy5fY2hrVGFibGUodGFibGUpO1xyXG4gICAgICAgIC8vIFNRTGl0ZSBkb2Vzbid0IGhhbmRsZSBCRVRXRUVOIHN0YXRlbWVudHMgZ3JhY2VmdWxseSB3aXRoIHByaW1hcnkga2V5cywgYWx3YXlzIGRvaW5nIGEgZnVsbCB0YWJsZSBzY2FuLlxyXG4gICAgICAgIC8vIFNvIHdlIHRha2UgdGhlIGluZGV4IG9mIHRoZSB0YWJsZSAod2hpY2ggaXMgaW4ganMgbWVtb3J5KSBhbmQgY29udmVydCBpdCBpbnRvIGFuIElOIHN0YXRlbWVudCBtZWFuaW5nIFNRTGl0ZVxyXG4gICAgICAgIC8vIGNhbiBnbyBkaXJlY3RseSB0byB0aGUgcm93cyB3ZSBuZWVkIHdpdGhvdXQgYSBmdWxsIHRhYmxlIHNjYW4uXHJcbiAgICAgICAgaWYgKHJhbmdlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIHQgPSB0eXBlb2Yga2V5c1tzdGFydElEWF0gPT09IFwibnVtYmVyXCI7XHJcbiAgICAgICAgICAgIHdoaWxlIChzdGFydElEWCA8PSByYW5nZXNbMV0pIHtcclxuICAgICAgICAgICAgICAgIGdldEtleXMucHVzaChrZXlzW3N0YXJ0SURYXSk7XHJcbiAgICAgICAgICAgICAgICBzdGFydElEWCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0bW50ICs9IFwiIFdIRVJFIGlkIElOIChcIiArIGdldEtleXMubWFwKGZ1bmN0aW9uIChrKSB7IHJldHVybiBcIj9cIjsgfSkuam9pbihcIiwgXCIpICsgXCIpXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN0bW50ICs9IFwiIE9SREVSIEJZIGlkXCI7XHJcbiAgICAgICAgdGhpcy5fc3FsKGZhbHNlLCBzdG1udCwgZ2V0S2V5cywgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgICAgIHZhciBnZXRSb3cgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnJvd3MubGVuZ3RoID4gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd0NhbGxiYWNrKEpTT04ucGFyc2UocmVzdWx0LnJvd3MuaXRlbShpKS5kYXRhKSwgaWR4LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkeCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgJSA1MDAgPT09IDAgPyBsaWVfdHNfMS5zZXRGYXN0KGdldFJvdykgOiBnZXRSb3coKTsgLy8gaGFuZGxlIG1heGltdW0gY2FsbCBzdGFjayBlcnJvclxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZ2V0Um93KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX1dlYlNRTFN0b3JlLnByb3RvdHlwZS5kcm9wID0gZnVuY3Rpb24gKHRhYmxlLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBpZHggPSBuZXcgZGJfaWR4XzEuRGF0YWJhc2VJbmRleCgpO1xyXG4gICAgICAgIGlkeC5kb0FJID0gdGhpcy5fZGJJbmRleFt0YWJsZV0uZG9BSTtcclxuICAgICAgICB0aGlzLl9kYkluZGV4W3RhYmxlXSA9IGlkeDtcclxuICAgICAgICB0aGlzLl9zcWwodHJ1ZSwgXCJERUxFVEUgRlJPTSBcIiArIHRoaXMuX2Noa1RhYmxlKHRhYmxlKSwgW10sIGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX1dlYlNRTFN0b3JlLnByb3RvdHlwZS5nZXRJbmRleCA9IGZ1bmN0aW9uICh0YWJsZSwgZ2V0TGVuZ3RoLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIGNvbXBsZXRlKGdldExlbmd0aCA/IHRoaXMuX2RiSW5kZXhbdGFibGVdLmtleXMoKS5sZW5ndGggOiB0aGlzLl9kYkluZGV4W3RhYmxlXS5rZXlzKCkpO1xyXG4gICAgfTtcclxuICAgIF9XZWJTUUxTdG9yZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChPYmplY3Qua2V5cyh0aGlzLl9kYkluZGV4KSwgZnVuY3Rpb24gKHRhYmxlLCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmRyb3AodGFibGUsIGRvbmUpO1xyXG4gICAgICAgIH0pLnRoZW4oY29tcGxldGUpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfV2ViU1FMU3RvcmU7XHJcbn0oKSk7XHJcbmV4cG9ydHMuX1dlYlNRTFN0b3JlID0gX1dlYlNRTFN0b3JlO1xyXG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgfVxuICAgIHJldHVybiB0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBsaWVfdHNfMSA9IHJlcXVpcmUoXCJsaWUtdHNcIik7XG52YXIgdXRpbGl0aWVzXzEgPSByZXF1aXJlKFwiLi4vdXRpbGl0aWVzXCIpO1xudmFyIGRiX2lkeF8xID0gcmVxdWlyZShcIi4vZGItaWR4XCIpO1xudmFyIF9ldmFsQ29udGV4dCA9IGZ1bmN0aW9uIChzb3VyY2UsIGNvbnRleHQpIHtcbiAgICB2YXIgY29tcGlsZWQgPSBldmFsKFwiKGZ1bmN0aW9uKFwiICsgT2JqZWN0LmtleXMoY29udGV4dCkuam9pbihcIiwgXCIpICsgXCIpIHtcIiArIHNvdXJjZSArIFwifSlcIik7XG4gICAgcmV0dXJuIGNvbXBpbGVkLmFwcGx5KGNvbnRleHQsIE9iamVjdC5rZXlzKGNvbnRleHQpLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gY29udGV4dFtjXTsgfSkpO1xufTtcbi8qKlxuICogSGFuZGxlcyBJbmRleGVkREIgd2l0aCBhbmQgd2l0aG91dCB3ZWIgd29ya2Vycy5cbiAqIFVzZXMgYmxvYiB3b3JrZXIgT1IgZXZhbCgpcyB0aGUgd29ya2VyIGFuZCB1c2VzIGl0IGlubGluZS5cbiAqXG4gKiBAZXhwb3J0XG4gKiBAY2xhc3MgX0luZGV4ZWREQlN0b3JlXG4gKiBAaW1wbGVtZW50cyB7TmFub1NRTFN0b3JhZ2VBZGFwdGVyfVxuICovXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbnZhciBfSW5kZXhlZERCU3RvcmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gX0luZGV4ZWREQlN0b3JlKHVzZVdvcmtlcikge1xuICAgICAgICB0aGlzLl93b3JrZXIgPSAnZnVuY3Rpb24gbyhyKXt0aGlzLmdvPWZ1bmN0aW9uKHQpe3ZhciBvPTA7ciYmci5sZW5ndGh8fHQoW10pLHIuZm9yRWFjaChmdW5jdGlvbihlLG4pe2UoZnVuY3Rpb24oKXsrK289PT1yLmxlbmd0aCYmdChbXSl9KX0pfX12YXIgcz17ZGI6bnVsbCxzdG9yZTpmdW5jdGlvbihlLG4sdCl7dmFyIG89cy5kYi50cmFuc2FjdGlvbihlLG4pO3QobyxvLm9iamVjdFN0b3JlKGUpLGZ1bmN0aW9uKGUsbil7cmV0dXJuIGZ1bmN0aW9uKCl7cG9zdE1lc3NhZ2Uoe2RvOmUsYXJnczpufSl9fSl9LGluaXQ6ZnVuY3Rpb24oKXthZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGZ1bmN0aW9uKGUpe3ZhciBuPWUuZGF0YTtzW24uZG9dJiZzW24uZG9dKG4uYXJncyl9LCExKX0sc2V0dXA6ZnVuY3Rpb24obil7dmFyIGU9aW5kZXhlZERCLm9wZW4obi5pZCwxKSx0PSExLGE9e307ZS5vbnVwZ3JhZGVuZWVkZWQ9ZnVuY3Rpb24oZSl7dD0hMCxzLmRiPWUudGFyZ2V0LnJlc3VsdCxPYmplY3Qua2V5cyhuLnBrS2V5cykuZm9yRWFjaChmdW5jdGlvbihlKXtzLmRiLmNyZWF0ZU9iamVjdFN0b3JlKGUse2tleVBhdGg6bi5wa0tleXNbZV19KSxhW2VdPVtdfSl9LGUub25zdWNjZXNzPWZ1bmN0aW9uKGUpe2lmKHMuZGI9ZS50YXJnZXQucmVzdWx0LHQpcG9zdE1lc3NhZ2Uoe2RvOlwicmR5XCIsYXJnczphfSk7ZWxzZXtuZXcgbyhPYmplY3Qua2V5cyhuLnBrS2V5cykubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgZSxvLHI7ZT10LG89ZnVuY3Rpb24oZSl7YVt0XT1lLG4oKX0scj1bXSxzLnN0b3JlKGUsXCJyZWFkb25seVwiLGZ1bmN0aW9uKGUsbix0KXtuLm9wZW5DdXJzb3IoKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7dmFyIG49ZS50YXJnZXQucmVzdWx0O24mJihyLnB1c2gobi5rZXkpLG4uY29udGludWUoKSl9LGUub25jb21wbGV0ZT1mdW5jdGlvbigpe28ocil9fSl9fSkpLmdvKGZ1bmN0aW9uKCl7cG9zdE1lc3NhZ2Uoe2RvOlwicmR5XCIsYXJnczphfSl9KX19fSx3cml0ZTpmdW5jdGlvbihvKXtzLnN0b3JlKG8udGFibGUsXCJyZWFkd3JpdGVcIixmdW5jdGlvbihlLG4sdCl7bi5wdXQoby5yb3cpLGUub25jb21wbGV0ZT10KFwid3JpdGVfXCIrby5pZCxudWxsKX0pfSxyZWFkOmZ1bmN0aW9uKHIpe3Muc3RvcmUoci50YWJsZSxcInJlYWRvbmx5XCIsZnVuY3Rpb24oZSxuLHQpe3ZhciBvPW4uZ2V0KHIucGspO28ub25zdWNjZXNzPWZ1bmN0aW9uKCl7cG9zdE1lc3NhZ2Uoe2RvOlwicmVhZF9cIityLmlkLGFyZ3M6by5yZXN1bHR9KX19KX0scmVhZFJhbmdlOmZ1bmN0aW9uKGEpe3Muc3RvcmUoYS50YWJsZSxcInJlYWRvbmx5XCIsZnVuY3Rpb24oZSxuLHQpe3ZhciBvPVtdLHI9LTE9PT1hLnJhbmdlLmluZGV4T2Yodm9pZCAwKT9uLm9wZW5DdXJzb3IoSURCS2V5UmFuZ2UuYm91bmQoYS5yYW5nZVswXSxhLnJhbmdlWzFdKSk6bi5vcGVuQ3Vyc29yKCk7ZS5vbmNvbXBsZXRlPXQoXCJyZWFkUmFuZ2VfXCIrYS5pZCtcIl9kb25lXCIsbyksci5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7dmFyIG49ZS50YXJnZXQucmVzdWx0O24mJihvLnB1c2gobi52YWx1ZSksbi5jb250aW51ZSgpKX19KX0sZGVsZXRlOmZ1bmN0aW9uKG8pe3Muc3RvcmUoby50YWJsZSxcInJlYWR3cml0ZVwiLGZ1bmN0aW9uKGUsbix0KXtlLm9uY29tcGxldGU9dChcImRlbGV0ZV9cIitvLmlkLCEwKSxlLm9uZXJyb3I9dChcImRlbGV0ZV9cIitvLmlkLCExKSxcIl9jbGVhcl9cIj09PW8ucGs/bi5jbGVhcigpOm4uZGVsZXRlKG8ucGspfSl9fTtzLmluaXQoKTsnO1xuICAgICAgICB0aGlzLl9wa0tleSA9IHt9O1xuICAgICAgICB0aGlzLl9wa1R5cGUgPSB7fTtcbiAgICAgICAgdGhpcy5fZGJJbmRleCA9IHt9O1xuICAgICAgICB0aGlzLl93YWl0aW5nQ0JzID0ge307XG4gICAgICAgIHRoaXMuX3VzZVdvcmtlciA9IHVzZVdvcmtlcjtcbiAgICB9XG4gICAgX0luZGV4ZWREQlN0b3JlLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl91c2VXb3JrZXIpIHtcbiAgICAgICAgICAgIC8vIGJsb2Igd2Vid29ya2VyLCBkb2Vzbid0IHVzZSBhbiBleHRlcm5hbCBmaWxlIVxuICAgICAgICAgICAgLy8gbm90IHN1cHBvcnRlZCBieSBJRSBhbmQgRWRnZSB3aXRoIEluZGV4ZWREQiwgbGlrZSBhdCBhbGwuXG4gICAgICAgICAgICB0aGlzLl93ID0gbmV3IFdvcmtlcih3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbdGhpcy5fd29ya2VyXSkpKTtcbiAgICAgICAgICAgIHRoaXMuX3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5faGFuZGxlV1dNZXNzYWdlKGUuZGF0YS5kbywgZS5kYXRhLmFyZ3MpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBldmFsIHRoZSB3b3JrZXIsIHRoZSBlbmQgcmVzdWx0IGJlaW5nIGEgdWkgdGhyZWFkIGluZGV4ZWQgZGIgaW5zdGFuY2UuXG4gICAgICAgICAgICAvLyB0aGlzIGlzIG1vc3RseSB0byBnZXQgSW5kZXhlZERCIHN1cHBvcnQgaW4gSUUgYW5kIEVkZ2Ugd2l0aG91dCBkdXBsaWNhdGluZyB0aGUgaW5kZXhlZCBkYiBjb2RlXG4gICAgICAgICAgICB2YXIgbGlzdGVuZXJzXzEgPSBbXTtcbiAgICAgICAgICAgIC8vIGVtdWxhdGUgd29ya2VyIGJlaGF2aW9yXG4gICAgICAgICAgICBfZXZhbENvbnRleHQodGhpcy5fd29ya2VyLCB7XG4gICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2U6IGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2hhbmRsZVdXTWVzc2FnZShtc2cuZG8sIG1zZy5hcmdzKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnNfMS5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIGVtdWxhdGUgd29ya2VyIG9iamVjdFxuICAgICAgICAgICAgdGhpcy5fdyA9IHtcbiAgICAgICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyOiBudWxsLFxuICAgICAgICAgICAgICAgIHBvc3RNZXNzYWdlOiBmdW5jdGlvbiAobWVzc2FnZSwgdHJhbnNmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzXzEuZm9yRWFjaChmdW5jdGlvbiAobCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbCh7IGRhdGE6IG1lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV0dXJucyBpbmRleGVzIGZvciBlYWNoIHRhYmxlXG4gICAgICAgIHRoaXMuX3dhaXRpbmdDQnNbXCJyZHlcIl0gPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoYXJncykuZm9yRWFjaChmdW5jdGlvbiAodGFibGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fZGJJbmRleFt0YWJsZV0uc2V0KGFyZ3NbdGFibGVdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29tcGxldGUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fdy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBkbzogXCJzZXR1cFwiLCBhcmdzOiB7XG4gICAgICAgICAgICAgICAgcGtLZXlzOiB0aGlzLl9wa0tleSxcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5faWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBfSW5kZXhlZERCU3RvcmUucHJvdG90eXBlLnNldElEID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHRoaXMuX2lkID0gaWQ7XG4gICAgfTtcbiAgICBfSW5kZXhlZERCU3RvcmUucHJvdG90eXBlLl9oYW5kbGVXV01lc3NhZ2UgPSBmdW5jdGlvbiAoYWN0aW9uLCBhcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLl93YWl0aW5nQ0JzW2FjdGlvbl0pIHtcbiAgICAgICAgICAgIHRoaXMuX3dhaXRpbmdDQnNbYWN0aW9uXShhcmdzKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl93YWl0aW5nQ0JzW2FjdGlvbl07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIF9JbmRleGVkREJTdG9yZS5wcm90b3R5cGUubWFrZVRhYmxlID0gZnVuY3Rpb24gKHRhYmxlTmFtZSwgZGF0YU1vZGVscykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9kYkluZGV4W3RhYmxlTmFtZV0gPSBuZXcgZGJfaWR4XzEuRGF0YWJhc2VJbmRleCgpO1xuICAgICAgICBkYXRhTW9kZWxzLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIGlmIChkLnByb3BzICYmIHV0aWxpdGllc18xLmludGVyc2VjdChbXCJwa1wiLCBcInBrKClcIl0sIGQucHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3BrVHlwZVt0YWJsZU5hbWVdID0gZC50eXBlO1xuICAgICAgICAgICAgICAgIF90aGlzLl9wa0tleVt0YWJsZU5hbWVdID0gZC5rZXk7XG4gICAgICAgICAgICAgICAgaWYgKGQucHJvcHMgJiYgdXRpbGl0aWVzXzEuaW50ZXJzZWN0KFtcImFpXCIsIFwiYWkoKVwiXSwgZC5wcm9wcykgJiYgKGQudHlwZSA9PT0gXCJpbnRcIiB8fCBkLnR5cGUgPT09IFwibnVtYmVyXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9kYkluZGV4W3RhYmxlTmFtZV0uZG9BSSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIF9JbmRleGVkREJTdG9yZS5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAodGFibGUsIHBrLCBkYXRhLCBjb21wbGV0ZSkge1xuICAgICAgICBwayA9IHBrIHx8IHV0aWxpdGllc18xLmdlbmVyYXRlSUQodGhpcy5fcGtUeXBlW3RhYmxlXSwgdGhpcy5fZGJJbmRleFt0YWJsZV0uYWkpO1xuICAgICAgICBpZiAoIXBrKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBhZGQgYSByb3cgd2l0aG91dCBhIHByaW1hcnkga2V5IVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZGJJbmRleFt0YWJsZV0uaW5kZXhPZihwaykgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9kYkluZGV4W3RhYmxlXS5hZGQocGspO1xuICAgICAgICB9XG4gICAgICAgIHZhciBxdWVyeUlEID0gdXRpbGl0aWVzXzEudXVpZCgpO1xuICAgICAgICB2YXIgciA9IF9fYXNzaWduKHt9LCBkYXRhLCAoX2EgPSB7fSwgX2FbdGhpcy5fcGtLZXlbdGFibGVdXSA9IHBrLCBfYSkpO1xuICAgICAgICB0aGlzLl93YWl0aW5nQ0JzW1wid3JpdGVfXCIgKyBxdWVyeUlEXSA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICBjb21wbGV0ZShyKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fdy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBkbzogXCJ3cml0ZVwiLFxuICAgICAgICAgICAgYXJnczoge1xuICAgICAgICAgICAgICAgIHRhYmxlOiB0YWJsZSxcbiAgICAgICAgICAgICAgICBpZDogcXVlcnlJRCxcbiAgICAgICAgICAgICAgICByb3c6IHJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBfYTtcbiAgICB9O1xuICAgIF9JbmRleGVkREJTdG9yZS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKHRhYmxlLCBwaywgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIGlkeCA9IHRoaXMuX2RiSW5kZXhbdGFibGVdLmluZGV4T2YocGspO1xuICAgICAgICBpZiAoaWR4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5fZGJJbmRleFt0YWJsZV0ucmVtb3ZlKHBrKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcXVlcnlJRCA9IHV0aWxpdGllc18xLnV1aWQoKTtcbiAgICAgICAgdGhpcy5fd2FpdGluZ0NCc1tcImRlbGV0ZV9cIiArIHF1ZXJ5SURdID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3cucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgZG86IFwiZGVsZXRlXCIsIGFyZ3M6IHtcbiAgICAgICAgICAgICAgICB0YWJsZTogdGFibGUsXG4gICAgICAgICAgICAgICAgaWQ6IHF1ZXJ5SUQsXG4gICAgICAgICAgICAgICAgcGs6IHBrXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgX0luZGV4ZWREQlN0b3JlLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKHRhYmxlLCBwaywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHF1ZXJ5SUQgPSB1dGlsaXRpZXNfMS51dWlkKCk7XG4gICAgICAgIGlmICh0aGlzLl9kYkluZGV4W3RhYmxlXS5pbmRleE9mKHBrKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3dhaXRpbmdDQnNbXCJyZWFkX1wiICsgcXVlcnlJRF0gPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgY2FsbGJhY2soYXJncyk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3cucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgZG86IFwicmVhZFwiLCBhcmdzOiB7XG4gICAgICAgICAgICAgICAgdGFibGU6IHRhYmxlLFxuICAgICAgICAgICAgICAgIGlkOiBxdWVyeUlELFxuICAgICAgICAgICAgICAgIHBrOiBwa1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIF9JbmRleGVkREJTdG9yZS5wcm90b3R5cGUucmFuZ2VSZWFkID0gZnVuY3Rpb24gKHRhYmxlLCByb3dDYWxsYmFjaywgY29tcGxldGUsIGZyb20sIHRvLCB1c2VQSykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIga2V5cyA9IHRoaXMuX2RiSW5kZXhbdGFibGVdLmtleXMoKTtcbiAgICAgICAgdmFyIHVzZWZ1bFZhbHVlcyA9IFt0eXBlb2YgZnJvbSwgdHlwZW9mIHRvXS5pbmRleE9mKFwidW5kZWZpbmVkXCIpID09PSAtMTtcbiAgICAgICAgdmFyIHJhbmdlcyA9IHVzZWZ1bFZhbHVlcyA/IFtmcm9tLCB0b10gOiBbMCwga2V5cy5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKCFrZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29tcGxldGUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcXVlcnlJRCA9IHV0aWxpdGllc18xLnV1aWQoKTtcbiAgICAgICAgdmFyIHJvd3MgPSBbXTtcbiAgICAgICAgdmFyIGlkeCA9IHJhbmdlc1swXTtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB0aGlzLl93YWl0aW5nQ0JzW1wicmVhZFJhbmdlX1wiICsgcXVlcnlJRCArIFwiX2RvbmVcIl0gPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgZGVsZXRlIF90aGlzLl93YWl0aW5nQ0JzW1wicmVhZFJhbmdlX1wiICsgcXVlcnlJRF07XG4gICAgICAgICAgICByb3dzID0gYXJncztcbiAgICAgICAgICAgIHZhciBnZXRSb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlkeCA8PSByYW5nZXNbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcm93Q2FsbGJhY2socm93c1tpXSwgaWR4LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZHgrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgJSA1MDAgPT09IDAgPyBsaWVfdHNfMS5zZXRGYXN0KGdldFJvdykgOiBnZXRSb3coKTsgLy8gaGFuZGxlIG1heGltdW0gY2FsbCBzdGFjayBlcnJvclxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGdldFJvdygpO1xuICAgICAgICB9O1xuICAgICAgICAvKmNvbnN0IGdldE5leHRSb3dzID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fd2FpdGluZ0NCc1tcInJlYWRSYW5nZV9cIiArIHF1ZXJ5SURdID0gKGFyZ3M6IERCUm93W10pID0+IHtcbiAgICAgICAgICAgICAgICByb3dzID0gcm93cy5jb25jYXQoYXJncyk7XG4gICAgICAgICAgICAgICAgZ2V0TmV4dFJvd3MoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIGdldE5leHRSb3dzKCk7Ki9cbiAgICAgICAgdGhpcy5fdy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBkbzogXCJyZWFkUmFuZ2VcIixcbiAgICAgICAgICAgIGFyZ3M6IHtcbiAgICAgICAgICAgICAgICB0YWJsZTogdGFibGUsXG4gICAgICAgICAgICAgICAgaWQ6IHF1ZXJ5SUQsXG4gICAgICAgICAgICAgICAgcmFuZ2U6IHVzZVBLICYmIHVzZWZ1bFZhbHVlcyA/IHJhbmdlcyA6IHJhbmdlcy5tYXAoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIGtleXNbcl07IH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgX0luZGV4ZWREQlN0b3JlLnByb3RvdHlwZS5kcm9wID0gZnVuY3Rpb24gKHRhYmxlLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgaWR4ID0gbmV3IGRiX2lkeF8xLkRhdGFiYXNlSW5kZXgoKTtcbiAgICAgICAgaWR4LmRvQUkgPSB0aGlzLl9kYkluZGV4W3RhYmxlXS5kb0FJO1xuICAgICAgICB0aGlzLl9kYkluZGV4W3RhYmxlXSA9IGlkeDtcbiAgICAgICAgdmFyIHF1ZXJ5SUQgPSB1dGlsaXRpZXNfMS51dWlkKCk7XG4gICAgICAgIHRoaXMuX3dhaXRpbmdDQnNbXCJkZWxldGVfXCIgKyBxdWVyeUlEXSA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl93LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIGRvOiBcImRlbGV0ZVwiLCBhcmdzOiB7XG4gICAgICAgICAgICAgICAgdGFibGU6IHRhYmxlLFxuICAgICAgICAgICAgICAgIGlkOiBxdWVyeUlELFxuICAgICAgICAgICAgICAgIHBrOiBcIl9jbGVhcl9cIlxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIF9JbmRleGVkREJTdG9yZS5wcm90b3R5cGUuZ2V0SW5kZXggPSBmdW5jdGlvbiAodGFibGUsIGdldExlbmd0aCwgY29tcGxldGUpIHtcbiAgICAgICAgY29tcGxldGUoZ2V0TGVuZ3RoID8gdGhpcy5fZGJJbmRleFt0YWJsZV0ua2V5cygpLmxlbmd0aCA6IHRoaXMuX2RiSW5kZXhbdGFibGVdLmtleXMoKSk7XG4gICAgfTtcbiAgICBfSW5kZXhlZERCU3RvcmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoY29tcGxldGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChPYmplY3Qua2V5cyh0aGlzLl9kYkluZGV4KSwgZnVuY3Rpb24gKHRhYmxlLCBpLCBkb25lKSB7XG4gICAgICAgICAgICBfdGhpcy5kcm9wKHRhYmxlLCBkb25lKTtcbiAgICAgICAgfSkudGhlbihjb21wbGV0ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gX0luZGV4ZWREQlN0b3JlO1xufSgpKTtcbmV4cG9ydHMuX0luZGV4ZWREQlN0b3JlID0gX0luZGV4ZWREQlN0b3JlO1xuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XHJcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcclxuICAgICAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgbGllX3RzXzEgPSByZXF1aXJlKFwibGllLXRzXCIpO1xyXG52YXIgdXRpbGl0aWVzXzEgPSByZXF1aXJlKFwiLi4vdXRpbGl0aWVzXCIpO1xyXG52YXIgZGJfaWR4XzEgPSByZXF1aXJlKFwiLi9kYi1pZHhcIik7XHJcbi8qKlxyXG4gKiBIYW5kbGVzIGFsbCBhdmFpbGFibGUgc3luY3Jvbm91cyB2ZXJzaW9ucyBvZiBzdG9yYWdlIChtZW1vcnkgYW5kIGxvY2Fsc3RvcmFnZSlcclxuICpcclxuICogQGV4cG9ydFxyXG4gKiBAY2xhc3MgX1N5bmNTdG9yZVxyXG4gKiBAaW1wbGVtZW50cyB7TmFub1NRTFN0b3JhZ2VBZGFwdGVyfVxyXG4gKi9cclxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXHJcbnZhciBfU3luY1N0b3JlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gX1N5bmNTdG9yZSh1c2VMb2NhbFN0b3JhZ2UpIHtcclxuICAgICAgICB0aGlzLl9wa0tleSA9IHt9O1xyXG4gICAgICAgIHRoaXMuX3BrVHlwZSA9IHt9O1xyXG4gICAgICAgIHRoaXMuX3Jvd3MgPSB7fTtcclxuICAgICAgICB0aGlzLl9kYkluZGV4ID0ge307XHJcbiAgICAgICAgdGhpcy5fbHMgPSB1c2VMb2NhbFN0b3JhZ2UgfHwgZmFsc2U7XHJcbiAgICB9XHJcbiAgICBfU3luY1N0b3JlLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKGNvbXBsZXRlKSB7XHJcbiAgICAgICAgY29tcGxldGUoKTtcclxuICAgIH07XHJcbiAgICBfU3luY1N0b3JlLnByb3RvdHlwZS5zZXRJRCA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIHRoaXMuX2lkID0gaWQ7XHJcbiAgICB9O1xyXG4gICAgX1N5bmNTdG9yZS5wcm90b3R5cGUubWFrZVRhYmxlID0gZnVuY3Rpb24gKHRhYmxlTmFtZSwgZGF0YU1vZGVscykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5fcm93c1t0YWJsZU5hbWVdID0ge307XHJcbiAgICAgICAgdGhpcy5fZGJJbmRleFt0YWJsZU5hbWVdID0gbmV3IGRiX2lkeF8xLkRhdGFiYXNlSW5kZXgoKTtcclxuICAgICAgICBkYXRhTW9kZWxzLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgaWYgKGQucHJvcHMgJiYgdXRpbGl0aWVzXzEuaW50ZXJzZWN0KFtcInBrXCIsIFwicGsoKVwiXSwgZC5wcm9wcykpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9wa1R5cGVbdGFibGVOYW1lXSA9IGQudHlwZTtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9wa0tleVt0YWJsZU5hbWVdID0gZC5rZXk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGQucHJvcHMgJiYgdXRpbGl0aWVzXzEuaW50ZXJzZWN0KFtcInBrXCIsIFwicGsoKVwiXSwgZC5wcm9wcykgJiYgdXRpbGl0aWVzXzEuaW50ZXJzZWN0KFtcImFpXCIsIFwiYWkoKVwiXSwgZC5wcm9wcykgJiYgZC50eXBlID09PSBcImludFwiKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fZGJJbmRleFt0YWJsZU5hbWVdLmRvQUkgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5fbHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKF90aGlzLl9pZCArIFwiKlwiICsgdGFibGVOYW1lICsgXCJfaWR4XCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2RiSW5kZXhbdGFibGVOYW1lXS5zZXQoSlNPTi5wYXJzZShpbmRleCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX1N5bmNTdG9yZS5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAodGFibGUsIHBrLCBkYXRhLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHBrID0gcGsgfHwgdXRpbGl0aWVzXzEuZ2VuZXJhdGVJRCh0aGlzLl9wa1R5cGVbdGFibGVdLCB0aGlzLl9kYkluZGV4W3RhYmxlXS5haSk7XHJcbiAgICAgICAgaWYgKCFwaykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBhZGQgYSByb3cgd2l0aG91dCBhIHByaW1hcnkga2V5IVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX2RiSW5kZXhbdGFibGVdLmluZGV4T2YocGspID09PSAtMSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kYkluZGV4W3RhYmxlXS5hZGQocGspO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fbHMpIHtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuX2lkICsgXCIqXCIgKyB0YWJsZSArIFwiX2lkeFwiLCBKU09OLnN0cmluZ2lmeSh0aGlzLl9kYkluZGV4W3RhYmxlXS5rZXlzKCkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fbHMpIHtcclxuICAgICAgICAgICAgdmFyIHIgPSBfX2Fzc2lnbih7fSwgZGF0YSwgKF9hID0ge30sIF9hW3RoaXMuX3BrS2V5W3RhYmxlXV0gPSBwaywgX2EpKTtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5faWQgKyBcIipcIiArIHRhYmxlICsgXCJfX1wiICsgcGssIEpTT04uc3RyaW5naWZ5KHIpKTtcclxuICAgICAgICAgICAgY29tcGxldGUocik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgciA9IF9fYXNzaWduKHt9LCBkYXRhLCAoX2IgPSB7fSwgX2JbdGhpcy5fcGtLZXlbdGFibGVdXSA9IHBrLCBfYikpO1xyXG4gICAgICAgICAgICB0aGlzLl9yb3dzW3RhYmxlXVtwa10gPSB1dGlsaXRpZXNfMS5kZWVwRnJlZXplKHIpO1xyXG4gICAgICAgICAgICBjb21wbGV0ZShyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIF9hLCBfYjtcclxuICAgIH07XHJcbiAgICBfU3luY1N0b3JlLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAodGFibGUsIHBrLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBpZHggPSB0aGlzLl9kYkluZGV4W3RhYmxlXS5pbmRleE9mKHBrKTtcclxuICAgICAgICBpZiAoaWR4ICE9PSAtMSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kYkluZGV4W3RhYmxlXS5yZW1vdmUocGspO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fbHMpIHtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuX2lkICsgXCIqXCIgKyB0YWJsZSArIFwiX2lkeFwiLCBKU09OLnN0cmluZ2lmeSh0aGlzLl9kYkluZGV4W3RhYmxlXS5rZXlzKCkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fbHMpIHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5faWQgKyBcIipcIiArIHRhYmxlICsgXCJfX1wiICsgcGspO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3Jvd3NbdGFibGVdW3BrXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29tcGxldGUoKTtcclxuICAgIH07XHJcbiAgICBfU3luY1N0b3JlLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKHRhYmxlLCBwaywgY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAodGhpcy5fbHMpIHtcclxuICAgICAgICAgICAgdmFyIHIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLl9pZCArIFwiKlwiICsgdGFibGUgKyBcIl9fXCIgKyBwayk7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKHIgPyBKU09OLnBhcnNlKHIpIDogdW5kZWZpbmVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKHRoaXMuX3Jvd3NbdGFibGVdW3BrXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIF9TeW5jU3RvcmUucHJvdG90eXBlLnJhbmdlUmVhZCA9IGZ1bmN0aW9uICh0YWJsZSwgcm93Q2FsbGJhY2ssIGNvbXBsZXRlLCBmcm9tLCB0bywgdXNlUEspIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBrZXlzID0gdGhpcy5fZGJJbmRleFt0YWJsZV0ua2V5cygpO1xyXG4gICAgICAgIHZhciB1c2VmdWxWYWx1ZXMgPSBbdHlwZW9mIGZyb20sIHR5cGVvZiB0b10uaW5kZXhPZihcInVuZGVmaW5lZFwiKSA9PT0gLTE7XHJcbiAgICAgICAgdmFyIHJhbmdlcyA9IHVzZWZ1bFZhbHVlcyA/IFtmcm9tLCB0b10gOiBbMCwga2V5cy5sZW5ndGggLSAxXTtcclxuICAgICAgICBpZiAoIWtleXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHVzZVBLICYmIHVzZWZ1bFZhbHVlcykge1xyXG4gICAgICAgICAgICByYW5nZXMgPSByYW5nZXMubWFwKGZ1bmN0aW9uIChyKSB7IHJldHVybiBfdGhpcy5fZGJJbmRleFt0YWJsZV0uZ2V0TG9jYXRpb24ocik7IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaWR4ID0gcmFuZ2VzWzBdO1xyXG4gICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICB2YXIgcm93RG9uZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWR4Kys7XHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgaSAlIDUwMCA9PT0gMCA/IGxpZV90c18xLnNldEZhc3QoZ2V0Um93KSA6IGdldFJvdygpOyAvLyBoYW5kbGUgbWF4aW11bSBjYWxsIHN0YWNrIGVycm9yXHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgZ2V0Um93ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoaWR4IDw9IHJhbmdlc1sxXSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLl9scykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oX3RoaXMuX2lkICsgXCIqXCIgKyB0YWJsZSArIFwiX19cIiArIGtleXNbaWR4XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93Q2FsbGJhY2sociA/IEpTT04ucGFyc2UocikgOiB1bmRlZmluZWQsIGlkeCwgcm93RG9uZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByb3dDYWxsYmFjayhfdGhpcy5fcm93c1t0YWJsZV1ba2V5c1tpZHhdXSwgaWR4LCByb3dEb25lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGdldFJvdygpO1xyXG4gICAgfTtcclxuICAgIF9TeW5jU3RvcmUucHJvdG90eXBlLmRyb3AgPSBmdW5jdGlvbiAodGFibGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAodGhpcy5fbHMpIHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5faWQgKyBcIipcIiArIHRhYmxlICsgXCJfaWR4XCIsIEpTT04uc3RyaW5naWZ5KFtdKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2RiSW5kZXhbdGFibGVdLmtleXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKF90aGlzLl9pZCArIFwiKlwiICsgdGFibGUgKyBcIl9fXCIgKyBrZXkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jvd3NbdGFibGVdID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpZHggPSBuZXcgZGJfaWR4XzEuRGF0YWJhc2VJbmRleCgpO1xyXG4gICAgICAgIGlkeC5kb0FJID0gdGhpcy5fZGJJbmRleFt0YWJsZV0uZG9BSTtcclxuICAgICAgICB0aGlzLl9kYkluZGV4W3RhYmxlXSA9IGlkeDtcclxuICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgfTtcclxuICAgIF9TeW5jU3RvcmUucHJvdG90eXBlLmdldEluZGV4ID0gZnVuY3Rpb24gKHRhYmxlLCBnZXRMZW5ndGgsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgY29tcGxldGUoZ2V0TGVuZ3RoID8gdGhpcy5fZGJJbmRleFt0YWJsZV0ua2V5cygpLmxlbmd0aCA6IHRoaXMuX2RiSW5kZXhbdGFibGVdLmtleXMoKSk7XHJcbiAgICB9O1xyXG4gICAgX1N5bmNTdG9yZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChPYmplY3Qua2V5cyh0aGlzLl9kYkluZGV4KSwgZnVuY3Rpb24gKHRhYmxlLCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmRyb3AodGFibGUsIGRvbmUpO1xyXG4gICAgICAgIH0pLnRoZW4oY29tcGxldGUpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfU3luY1N0b3JlO1xyXG59KCkpO1xyXG5leHBvcnRzLl9TeW5jU3RvcmUgPSBfU3luY1N0b3JlO1xyXG4iLCJPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb25maWcgPSB7XHJcbiAgICBFTkRfV09SRDogXCIkXCIsXHJcbiAgICBQRVJNU19NSU5fTEVOOiAyLFxyXG59O1xyXG52YXIgVHJpZSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBUcmllKGlucHV0KSB7XHJcbiAgICAgICAgdGhpcy5fdHJpZSA9IFRyaWUuX2NyZWF0ZShpbnB1dCk7XHJcbiAgICB9XHJcbiAgICBUcmllLnByb3RvdHlwZS5nZXRJbmRleCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdHJpZTtcclxuICAgIH07XHJcbiAgICBUcmllLnByb3RvdHlwZS5zZXRJbmRleCA9IGZ1bmN0aW9uICh0cmllKSB7XHJcbiAgICAgICAgdGhpcy5fdHJpZSA9IHRyaWU7XHJcbiAgICB9O1xyXG4gICAgVHJpZS5wcm90b3R5cGUuYWRkV29yZCA9IGZ1bmN0aW9uICh3b3JkKSB7XHJcbiAgICAgICAgdmFyIHJlZHVjZXIgPSBmdW5jdGlvbiAocHJldmlvdXNWYWx1ZSwgY3VycmVudFZhbHVlLCBjdXJyZW50SW5kZXgsIGFycmF5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBUcmllLl9hcHBlbmQocHJldmlvdXNWYWx1ZSwgY3VycmVudFZhbHVlLCBjdXJyZW50SW5kZXgsIGFycmF5KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBpbnB1dCA9IHdvcmQudG9Mb3dlckNhc2UoKS5zcGxpdChcIlwiKTtcclxuICAgICAgICBpbnB1dC5yZWR1Y2UocmVkdWNlciwgdGhpcy5fdHJpZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgVHJpZS5wcm90b3R5cGUucmVtb3ZlV29yZCA9IGZ1bmN0aW9uICh3b3JkKSB7XHJcbiAgICAgICAgdmFyIF9hID0gVHJpZS5fY2hlY2tQcmVmaXgodGhpcy5fdHJpZSwgd29yZCksIHByZWZpeEZvdW5kID0gX2EucHJlZml4Rm91bmQsIHByZWZpeE5vZGUgPSBfYS5wcmVmaXhOb2RlO1xyXG4gICAgICAgIGlmIChwcmVmaXhGb3VuZCkge1xyXG4gICAgICAgICAgICBkZWxldGUgcHJlZml4Tm9kZVtjb25maWcuRU5EX1dPUkRdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBUcmllLnByb3RvdHlwZS5nZXRXb3JkcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gVHJpZS5fcmVjdXJzZVByZWZpeCh0aGlzLl90cmllLCAnJyk7XHJcbiAgICB9O1xyXG4gICAgVHJpZS5wcm90b3R5cGUuZ2V0UHJlZml4ID0gZnVuY3Rpb24gKHN0clByZWZpeCkge1xyXG4gICAgICAgIHN0clByZWZpeCA9IHN0clByZWZpeC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGlmICghdGhpcy5faXNQcmVmaXgoc3RyUHJlZml4KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBwcmVmaXhOb2RlID0gVHJpZS5fY2hlY2tQcmVmaXgodGhpcy5fdHJpZSwgc3RyUHJlZml4KS5wcmVmaXhOb2RlO1xyXG4gICAgICAgIHJldHVybiBUcmllLl9yZWN1cnNlUHJlZml4KHByZWZpeE5vZGUsIHN0clByZWZpeCk7XHJcbiAgICB9O1xyXG4gICAgVHJpZS5wcm90b3R5cGUuX2lzUHJlZml4ID0gZnVuY3Rpb24gKHByZWZpeCkge1xyXG4gICAgICAgIHZhciBwcmVmaXhGb3VuZCA9IFRyaWUuX2NoZWNrUHJlZml4KHRoaXMuX3RyaWUsIHByZWZpeCkucHJlZml4Rm91bmQ7XHJcbiAgICAgICAgcmV0dXJuIHByZWZpeEZvdW5kO1xyXG4gICAgfTtcclxuICAgIFRyaWUuX2FwcGVuZCA9IGZ1bmN0aW9uICh0cmllLCBsZXR0ZXIsIGluZGV4LCBhcnJheSkge1xyXG4gICAgICAgIHRyaWVbbGV0dGVyXSA9IHRyaWVbbGV0dGVyXSB8fCB7fTtcclxuICAgICAgICB0cmllID0gdHJpZVtsZXR0ZXJdO1xyXG4gICAgICAgIGlmIChpbmRleCA9PT0gYXJyYXkubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICB0cmllW2NvbmZpZy5FTkRfV09SRF0gPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJpZTtcclxuICAgIH07XHJcbiAgICBUcmllLl9jaGVja1ByZWZpeCA9IGZ1bmN0aW9uIChwcmVmaXhOb2RlLCBwcmVmaXgpIHtcclxuICAgICAgICB2YXIgaW5wdXQgPSBwcmVmaXgudG9Mb3dlckNhc2UoKS5zcGxpdChcIlwiKTtcclxuICAgICAgICB2YXIgcHJlZml4Rm91bmQgPSBpbnB1dC5ldmVyeShmdW5jdGlvbiAobGV0dGVyLCBpbmRleCkge1xyXG4gICAgICAgICAgICBpZiAoIXByZWZpeE5vZGVbbGV0dGVyXSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBwcmVmaXhOb2RlID0gcHJlZml4Tm9kZVtsZXR0ZXJdO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHByZWZpeEZvdW5kOiBwcmVmaXhGb3VuZCxcclxuICAgICAgICAgICAgcHJlZml4Tm9kZTogcHJlZml4Tm9kZSxcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIFRyaWUuX2NyZWF0ZSA9IGZ1bmN0aW9uIChpbnB1dCkge1xyXG4gICAgICAgIHZhciB0cmllID0gKGlucHV0IHx8IFtdKS5yZWR1Y2UoZnVuY3Rpb24gKGFjY3VtdWxhdG9yLCBpdGVtKSB7XHJcbiAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgICAgICAgICAuc3BsaXQoXCJcIilcclxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoVHJpZS5fYXBwZW5kLCBhY2N1bXVsYXRvcik7XHJcbiAgICAgICAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcclxuICAgICAgICB9LCB7fSk7XHJcbiAgICAgICAgcmV0dXJuIHRyaWU7XHJcbiAgICB9O1xyXG4gICAgVHJpZS5fcmVjdXJzZVByZWZpeCA9IGZ1bmN0aW9uIChub2RlLCBwcmVmaXgsIHByZWZpeGVzKSB7XHJcbiAgICAgICAgaWYgKHByZWZpeGVzID09PSB2b2lkIDApIHsgcHJlZml4ZXMgPSBbXTsgfVxyXG4gICAgICAgIHZhciB3b3JkID0gcHJlZml4O1xyXG4gICAgICAgIGZvciAodmFyIGJyYW5jaCBpbiBub2RlKSB7XHJcbiAgICAgICAgICAgIGlmIChicmFuY2ggPT09IGNvbmZpZy5FTkRfV09SRCkge1xyXG4gICAgICAgICAgICAgICAgcHJlZml4ZXMucHVzaCh3b3JkKTtcclxuICAgICAgICAgICAgICAgIHdvcmQgPSBcIlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFRyaWUuX3JlY3Vyc2VQcmVmaXgobm9kZVticmFuY2hdLCBwcmVmaXggKyBicmFuY2gsIHByZWZpeGVzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHByZWZpeGVzLnNvcnQoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVHJpZTtcclxufSgpKTtcclxuZXhwb3J0cy5UcmllID0gVHJpZTtcclxuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XHJcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcclxuICAgICAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgcHJlZml4X3RyaWVfdHNfMSA9IHJlcXVpcmUoXCJwcmVmaXgtdHJpZS10c1wiKTtcclxudmFyIHV0aWxpdGllc18xID0gcmVxdWlyZShcIi4uL3V0aWxpdGllc1wiKTtcclxudmFyIGFkYXB0ZXJfc3luY18xID0gcmVxdWlyZShcIi4vYWRhcHRlci1zeW5jXCIpO1xyXG52YXIgYWRhcHRlcl9pbmRleGVkREJfMSA9IHJlcXVpcmUoXCIuL2FkYXB0ZXItaW5kZXhlZERCXCIpO1xyXG52YXIgYWRhcHRlcl93ZWJzcWxfMSA9IHJlcXVpcmUoXCIuL2FkYXB0ZXItd2Vic3FsXCIpO1xyXG4vKiBOT0RFLVNUQVJUICovXHJcbnZhciBhZGFwdGVyX2xldmVsREJfMSA9IHJlcXVpcmUoXCIuL2FkYXB0ZXItbGV2ZWxEQlwiKTtcclxuLyoqXHJcbiAqIEhvbGRzIHRoZSBnZW5lcmFsIGFic3RyYWN0aW9ucyB0byBjb25uZWN0IHRoZSBxdWVyeSBtb2R1bGUgdG8gdGhlIHN0b3JhZ2UgYWRhcHRlcnMuXHJcbiAqIFRha2VzIGNhcmUgb2YgaW5kZXhpbmcsIHRyaWVzLCBzZWNvbmRhcnkgaW5kZXhlcyBhbmQgYWRhcHRlciBtYW5hZ2VtZW50LlxyXG4gKlxyXG4gKiBAZXhwb3J0XHJcbiAqIEBjbGFzcyBfTmFub1NRTFN0b3JhZ2VcclxuICovXHJcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxyXG52YXIgX05hbm9TUUxTdG9yYWdlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gX05hbm9TUUxTdG9yYWdlKHBhcmVudCwgYXJncykge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFycmF5IG9mIHRhYmxlIG5hbWVzXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAaW50ZXJuYWxcclxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nW119XHJcbiAgICAgICAgICogQG1lbWJlcm9mIF9OYW5vU1FMU3RvcmFnZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3RhYmxlTmFtZXMgPSBbXTtcclxuICAgICAgICB0aGlzLl9uc3FsID0gcGFyZW50O1xyXG4gICAgICAgIHRoaXMuX21vZGUgPSBhcmdzLnBlcnNpc3RlbnQgPyBcIlBFUk1cIiA6IGFyZ3MubW9kZSB8fCBcIlRFTVBcIjtcclxuICAgICAgICB0aGlzLl9pZCA9IGFyZ3MuaWQ7XHJcbiAgICAgICAgdGhpcy5fc2l6ZSA9IGFyZ3Muc2l6ZSB8fCA1O1xyXG4gICAgICAgIHRoaXMuYWRhcHRlcnMgPSBbXTtcclxuICAgICAgICB0aGlzLm1vZGVscyA9IHt9O1xyXG4gICAgICAgIHRoaXMudGFibGVJbmZvID0ge307XHJcbiAgICAgICAgdGhpcy5fdHJpZUluZGV4ZXMgPSB7fTtcclxuICAgICAgICB0aGlzLl90YWJsZU5hbWVzID0gW107XHJcbiAgICAgICAgdGhpcy5fZG9DYWNoZSA9IGFyZ3MuY2FjaGUgfHwgdHJ1ZTtcclxuICAgICAgICB0aGlzLl9jYWNoZSA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2NhY2hlS2V5cyA9IHt9O1xyXG4gICAgICAgIHRoaXMuYWRhcHRlcnNbMF0gPSB7XHJcbiAgICAgICAgICAgIGFkYXB0ZXI6IG51bGwsXHJcbiAgICAgICAgICAgIHdhaXRGb3JXcml0ZXM6IHRydWVcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5fbW9kZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fbW9kZSA9PT0gXCJQRVJNXCIpIHtcclxuICAgICAgICAgICAgICAgIC8qY29uc3QgbW9kZXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgSURCOiBcIkluZGV4ZWQgREJcIixcclxuICAgICAgICAgICAgICAgICAgICBJREJfV1c6IFwiSW5kZXhlZCBEQiAoV2ViIFdvcmtlcilcIixcclxuICAgICAgICAgICAgICAgICAgICBXU1FMOiBcIldlYlNRTFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIExTOiBcIkxvY2FsIFN0b3JhZ2VcIixcclxuICAgICAgICAgICAgICAgICAgICBURU1QOiBcIm1lbW9yeVwiXHJcbiAgICAgICAgICAgICAgICB9OyovXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tb2RlID0gdGhpcy5fZGV0ZWN0U3RvcmFnZU1ldGhvZCgpIHx8IHRoaXMuX21vZGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLl9tb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiSURCXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGFwdGVyc1swXS5hZGFwdGVyID0gbmV3IGFkYXB0ZXJfaW5kZXhlZERCXzEuX0luZGV4ZWREQlN0b3JlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJJREJfV1dcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkYXB0ZXJzWzBdLmFkYXB0ZXIgPSBuZXcgYWRhcHRlcl9pbmRleGVkREJfMS5fSW5kZXhlZERCU3RvcmUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiV1NRTFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlcnNbMF0uYWRhcHRlciA9IG5ldyBhZGFwdGVyX3dlYnNxbF8xLl9XZWJTUUxTdG9yZSh0aGlzLl9zaXplKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJMU1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlcnNbMF0uYWRhcHRlciA9IG5ldyBhZGFwdGVyX3N5bmNfMS5fU3luY1N0b3JlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgLyogTk9ERS1TVEFSVCAqL1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkxWTFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlcnNbMF0uYWRhcHRlciA9IG5ldyBhZGFwdGVyX2xldmVsREJfMS5fTGV2ZWxTdG9yZShhcmdzLmRiUGF0aCwgYXJncy53cml0ZUNhY2hlLCBhcmdzLnJlYWRDYWNoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAvKiBOT0RFLUVORCAqL1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlRFTVBcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkYXB0ZXJzWzBdLmFkYXB0ZXIgPSBuZXcgYWRhcHRlcl9zeW5jXzEuX1N5bmNTdG9yZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlcnNbMF0uYWRhcHRlciA9IHRoaXMuX21vZGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9mYXN0UmVhZEFkYXB0ZXIgPSB0aGlzLmFkYXB0ZXJzWzBdLmFkYXB0ZXI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zbG93UmVhZEFkYXB0ZXIgPSB0aGlzLmFkYXB0ZXJzWzBdLmFkYXB0ZXI7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3Muc2Vjb25kYXJ5QWRhcHRlcnMgJiYgYXJncy5zZWNvbmRhcnlBZGFwdGVycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkYXB0ZXJzID0gdGhpcy5hZGFwdGVycy5jb25jYXQoYXJncy5zZWNvbmRhcnlBZGFwdGVycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGFwdGVycy5mb3JFYWNoKChhLCBpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGEuZG9GYXN0UmVhZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Zhc3RSZWFkQWRhcHRlciA9IGEuYWRhcHRlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYS5kb1Nsb3dSZWFkcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2xvd1JlYWRBZGFwdGVyID0gYS5hZGFwdGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0qL1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWxpemUgdGhlIHN0b3JhZ2UgYWRhcHRlciBhbmQgZ2V0IHJlYWR5IHRvIHJ1bWJsZSFcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge1N0ZE9iamVjdDxEYXRhTW9kZWxbXT59IGRhdGFNb2RlbHNcclxuICAgICAqIEBwYXJhbSB7KG5ld01vZGVsczogU3RkT2JqZWN0PERhdGFNb2RlbFtdPikgPT4gdm9pZH0gY29tcGxldGVcclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFN0b3JhZ2VcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxTdG9yYWdlLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKGRhdGFNb2RlbHMsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoIXRoaXMuX2lkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lkID0gdXRpbGl0aWVzXzEuaGFzaChKU09OLnN0cmluZ2lmeShkYXRhTW9kZWxzKSkudG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tb2RlbHMgPSB0aGlzLl9jcmVhdGVTZWNvbmRhcnlJbmRleFRhYmxlcyhkYXRhTW9kZWxzKTtcclxuICAgICAgICB0aGlzLl90YWJsZU5hbWVzID0gT2JqZWN0LmtleXModGhpcy5tb2RlbHMpO1xyXG4gICAgICAgIHRoaXMuYWRhcHRlcnMuZm9yRWFjaChmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICBhLmFkYXB0ZXIuc2V0SUQoX3RoaXMuX2lkKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl90YWJsZU5hbWVzLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlKSB7XHJcbiAgICAgICAgICAgIF90aGlzLl9uZXdUYWJsZSh0YWJsZSwgZGF0YU1vZGVsc1t0YWJsZV0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX3JlbEZyb21UYWJsZSA9IHt9O1xyXG4gICAgICAgIHRoaXMuX3JlbFRvVGFibGUgPSB7fTtcclxuICAgICAgICB0aGlzLl9yZWxhdGlvbkNvbHVtbnMgPSB7fTtcclxuICAgICAgICB0aGlzLl9jb2x1bW5zQXJlVGFibGVzID0ge307XHJcbiAgICAgICAgdGhpcy5fdGFibGVOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uICh0YWJsZSkge1xyXG4gICAgICAgICAgICAvLyBmaW5pc2ggdmlld3MgZGF0YVxyXG4gICAgICAgICAgICAvLyBnZXRzIGEgbGlzdCBvZiB0YWJsZXMgdGhhdCBuZWVkIHRvIGJlIGNoZWNrZWQgb24gZWFjaCByb3cgdXBkYXRlIG9mIHRoaXMgdGFibGVcclxuICAgICAgICAgICAgX3RoaXMudGFibGVJbmZvW3RhYmxlXS5fdmlld1RhYmxlcyA9IE9iamVjdC5rZXlzKF90aGlzLnRhYmxlSW5mbykucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjdXIgPT09IHRhYmxlKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICAgICAgICAgICAgdmFyIHZUYWJsZXMgPSBPYmplY3Qua2V5cyhfdGhpcy50YWJsZUluZm9bY3VyXS5fdmlld3MpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZUYWJsZXMuaW5kZXhPZih0YWJsZSkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldi5wdXNoKHsgdGFibGU6IGN1ciwgY29sdW1uOiBfdGhpcy50YWJsZUluZm9bY3VyXS5fdmlld3NbdGFibGVdLnBrQ29sdW1uIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgICAgIH0sIFtdKTtcclxuICAgICAgICAgICAgLy8gZmluaXNoIE9STSBhbmQgb3RoZXIgc3R1ZmZcclxuICAgICAgICAgICAgdmFyIGkgPSBfdGhpcy5tb2RlbHNbdGFibGVdLmxlbmd0aDtcclxuICAgICAgICAgICAgX3RoaXMuX3JlbEZyb21UYWJsZVt0YWJsZV0gPSB7fTtcclxuICAgICAgICAgICAgX3RoaXMuX3JlbGF0aW9uQ29sdW1uc1t0YWJsZV0gPSBbXTtcclxuICAgICAgICAgICAgX3RoaXMuX3JlbFRvVGFibGVbdGFibGVdID0gW107XHJcbiAgICAgICAgICAgIF90aGlzLl9jb2x1bW5zQXJlVGFibGVzW3RhYmxlXSA9IHt9O1xyXG4gICAgICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwID0gX3RoaXMubW9kZWxzW3RhYmxlXVtpXTtcclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciByZWxhdGlvbnNcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fdGFibGVOYW1lcy5pbmRleE9mKHAudHlwZS5yZXBsYWNlKFwiW11cIiwgXCJcIikpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXBUb18xID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fY29sdW1uc0FyZVRhYmxlc1t0YWJsZV1bcC5rZXldID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdG9UYWJsZTogcC50eXBlLnJlcGxhY2UoXCJbXVwiLCBcIlwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXNUeXBlOiBwLnR5cGUuaW5kZXhPZihcIltdXCIpID09PSAtMSA/IFwic2luZ2xlXCIgOiBcImFycmF5XCJcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwLnByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHAucHJvcHMuZm9yRWFjaChmdW5jdGlvbiAocCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb2xkIGZvcm1hdCByZWY9PmNvbHVtbiBvciByZWY9PmNvbHVtbltdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocC5pbmRleE9mKFwicmVmPT5cIikgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwVG9fMSA9IHAucmVwbGFjZShcInJlZj0+XCIsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmV3IGZvcm1hdCBvcm0oY29sdW1uKSBvciBvcm0oY29sdW1uW10pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocC5pbmRleE9mKFwib3JtKFwiKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcFRvXzEgPSBwLnJlcGxhY2UoL29ybVxcKCguKilcXCkvZ21pLCBcIiQxXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcFRvXzEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9oYXNPUk0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3JlbGF0aW9uQ29sdW1uc1t0YWJsZV0ucHVzaChwLmtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcmVsRnJvbVRhYmxlW3RhYmxlXVtwLmtleV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RvVGFibGU6IHAudHlwZS5yZXBsYWNlKFwiW11cIiwgXCJcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RvQ29sdW1uOiBtYXBUb18xLnJlcGxhY2UoXCJbXVwiLCBcIlwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdG9UeXBlOiBtYXBUb18xLmluZGV4T2YoXCJbXVwiKSA9PT0gLTEgPyBcInNpbmdsZVwiIDogXCJhcnJheVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzVHlwZTogcC50eXBlLmluZGV4T2YoXCJbXVwiKSA9PT0gLTEgPyBcInNpbmdsZVwiIDogXCJhcnJheVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgICAgICAgICBfbG9vcF8xKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9yZWxGcm9tVGFibGUpLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlKSB7XHJcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKF90aGlzLl9yZWxGcm9tVGFibGVbdGFibGVdKS5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgIHZhciByZWwgPSBfdGhpcy5fcmVsRnJvbVRhYmxlW3RhYmxlXVtjb2x1bW5dO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3JlbFRvVGFibGVbcmVsLl90b1RhYmxlXS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpc0NvbHVtbjogcmVsLl90b0NvbHVtbixcclxuICAgICAgICAgICAgICAgICAgICBfdGhpc1R5cGU6IHJlbC5fdG9UeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIF9mcm9tVGFibGU6IHRhYmxlLFxyXG4gICAgICAgICAgICAgICAgICAgIF9mcm9tQ29sdW1uOiBjb2x1bW4sXHJcbiAgICAgICAgICAgICAgICAgICAgX2Zyb21UeXBlOiByZWwuX3RoaXNUeXBlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTCh0aGlzLmFkYXB0ZXJzLCBmdW5jdGlvbiAoYSwgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICBhLmFkYXB0ZXIuY29ubmVjdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYS5hZGFwdGVyLnNldE5TUUwpIHtcclxuICAgICAgICAgICAgICAgICAgICBhLmFkYXB0ZXIuc2V0TlNRTChfdGhpcy5fbnNxbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBwb3B1bGF0ZSB0cmllIGRhdGFcclxuICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChPYmplY3Qua2V5cyhfdGhpcy5fdHJpZUluZGV4ZXMpLCBmdW5jdGlvbiAodGFibGUsIGksIHRhYmxlRG9uZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRyaWVDb2x1bW5zID0gX3RoaXMuX3RyaWVJbmRleGVzW3RhYmxlXTtcclxuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh0cmllQ29sdW1ucykubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChPYmplY3Qua2V5cyh0cmllQ29sdW1ucyksIGZ1bmN0aW9uIChjb2x1bW4sIGlpLCBuZXh0Q29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHhUYWJsZSA9IFwiX1wiICsgdGFibGUgKyBcIl9pZHhfXCIgKyBjb2x1bW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJzWzBdLmFkYXB0ZXIuZ2V0SW5kZXgoaWR4VGFibGUsIGZhbHNlLCBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4LmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3RyaWVJbmRleGVzW3RhYmxlXVtjb2x1bW5dLmFkZFdvcmQoU3RyaW5nKHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRDb2x1bW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkudGhlbih0YWJsZURvbmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFibGVEb25lKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoX3RoaXMubW9kZWxzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX05hbm9TUUxTdG9yYWdlLnByb3RvdHlwZS5faW52YWxpZGF0ZUNhY2hlID0gZnVuY3Rpb24gKHRhYmxlLCBwa3MpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICghdGhpcy5fZG9DYWNoZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuX2NhY2hlS2V5c1t0YWJsZV0pLmZvckVhY2goZnVuY3Rpb24gKGhhc2gpIHtcclxuICAgICAgICAgICAgdmFyIGkgPSBwa3MubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB3aGlsZSAoaS0tICYmIHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX2NhY2hlS2V5c1t0YWJsZV1baGFzaF1bcGtzW2ldXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpcy5fY2FjaGVbdGFibGVdW2hhc2hdO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpcy5fY2FjaGVLZXlzW3RhYmxlXVtoYXNoXTtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZWJ1aWxkIHNlY29uZGFyeSBpbmRleGVzIG9mIGEgZ2l2ZW4gdGFibGUuXHJcbiAgICAgKiBQYXNzIFwiX0FMTF9cIiBhcyB0YWJsZSB0byByZWJ1aWxkIGFsbCBpbmRleGVzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7KHRpbWU6IG51bWJlcikgPT4gdm9pZH0gY29tcGxldGVcclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFN0b3JhZ2VcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxTdG9yYWdlLnByb3RvdHlwZS5yZWJ1aWxkSW5kZXhlcyA9IGZ1bmN0aW9uICh0YWJsZSwgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBzdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwoT2JqZWN0LmtleXModGhpcy50YWJsZUluZm8pLCBmdW5jdGlvbiAodGEsIGssIHRhYmxlRG9uZSkge1xyXG4gICAgICAgICAgICBpZiAoKHRhYmxlICE9PSBcIl9BTExfXCIgJiYgdGFibGUgIT09IHRhKSB8fCB0YS5pbmRleE9mKFwiX1wiKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGFibGVEb25lKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHNlY29uZEluZGV4ZXMgPSBfdGhpcy50YWJsZUluZm9bdGFdLl9zZWNvbmRhcnlJbmRleGVzO1xyXG4gICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHNlY29uZEluZGV4ZXMsIGZ1bmN0aW9uIChjb2x1bW4sIGosIGlkeERvbmUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpZHhUYWJsZSA9IFwiX1wiICsgdGEgKyBcIl9pZHhfXCIgKyBjb2x1bW47XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fZHJvcChpZHhUYWJsZSwgaWR4RG9uZSk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBrID0gX3RoaXMudGFibGVJbmZvW3RhXS5fcGs7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXhHcm91cHMgPSB7fTtcclxuICAgICAgICAgICAgICAgIHNlY29uZEluZGV4ZXMuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhHcm91cHNbY29sdW1uXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVhZCh0YSwgZnVuY3Rpb24gKHJvdywgaWR4LCBkb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyb3dbcGtdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHNlY29uZEluZGV4ZXMuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcm93W2NvbHVtbl0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWluZGV4R3JvdXBzW2NvbHVtbl1bcm93W2NvbHVtbl1dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleEdyb3Vwc1tjb2x1bW5dW3Jvd1tjb2x1bW5dXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4R3JvdXBzW2NvbHVtbl1bcm93W2NvbHVtbl1dLnB1c2gocm93W3BrXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9uZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLyp0aGlzLl9zZXRTZWNvbmRhcnlJbmRleGVzKHRhLCByb3dbcGtdLCByb3csIFtdLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOyovXHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChzZWNvbmRJbmRleGVzLCBmdW5jdGlvbiAoaXRlbSwgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWR4VGFibGUgPSBcIl9cIiArIHRhICsgXCJfaWR4X1wiICsgaXRlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChPYmplY3Qua2V5cyhpbmRleEdyb3Vwc1tpdGVtXSksIGZ1bmN0aW9uIChyb3dLZXksIGksIG5leHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJXcml0ZShpZHhUYWJsZSwgcm93S2V5LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHJvd0tleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzOiBpbmRleEdyb3Vwc1tpdGVtXVtyb3dLZXldLnNvcnQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgbmV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlRG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb21wbGV0ZShuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHN0YXJ0KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFR1cm4gYW55IGpzIHZhcmlhYmxlIGludG8gYSAzMiBjaGFyYWN0ZXIgbG9uZyBwcmltYXJ5IGtleSBmb3Igc2Vjb25kYXJ5IGluZGV4IHRhYmxlcy5cclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcclxuICAgICAqIEByZXR1cm5zIHsoc3RyaW5nfG51bWJlcil9XHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxTdG9yYWdlXHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZS5wcm90b3R5cGUuX3NlY29uZGFyeUluZGV4S2V5ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHV0aWxpdGllc18xLmlzT2JqZWN0KHZhbHVlKSB8fCBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpLnN1YnN0cigwLCAxMik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gU3RyaW5nKHZhbHVlKS5zdWJzdHIoMCwgMzIpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVXNlIHZhcmlvdXNlIG1ldGhvZHMgdG8gZGV0ZWN0IHRoZSBiZXN0IHBlcnNpc3RlbnQgc3RvcmFnZSBtZXRob2QgZm9yIHRoZSBlbnZpcm9ubWVudCBOYW5vU1FMIGlzIGluLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxTdG9yYWdlXHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZS5wcm90b3R5cGUuX2RldGVjdFN0b3JhZ2VNZXRob2QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gTm9kZUpTXHJcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiTFZMXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEJyb3dzZXJcclxuICAgICAgICAvLyBTYWZhcmkgLyBpT1MgYWx3YXlzIGdldHMgV2ViU1FMIChtb2JpbGUgYW5kIGRlc2t0b3ApXHJcbiAgICAgICAgaWYgKHV0aWxpdGllc18xLmlzU2FmYXJpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIldTUUxcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSUUgYW5kIEVkZ2UgZG9uJ3Qgc3VwcG9ydCBJbmRleGVkIERCIHdlYiB3b3JrZXJzLCBhbmQgbWF5IG5vdCBzdXBwb3J0IGluZGV4ZWQgZGIgYXQgYWxsLlxyXG4gICAgICAgIGlmICh1dGlsaXRpZXNfMS5pc01TQnJvd3Nlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGluZGV4ZWREQiAhPT0gXCJ1bmRlZmluZWRcIiA/IFwiSURCXCIgOiBcIkxTXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGV2ZXJ5b25lIGVsc2UgKEZGICsgQ2hyb21lKVxyXG4gICAgICAgIC8vIGNoZWNrIGZvciBzdXBwb3J0IGZvciBpbmRleGVkIGRiLCB3ZWIgd29ya2VycyBhbmQgYmxvYlxyXG4gICAgICAgIGlmIChbdHlwZW9mIFdvcmtlciwgdHlwZW9mIEJsb2IsIHR5cGVvZiBpbmRleGVkREJdLmluZGV4T2YoXCJ1bmRlZmluZWRcIikgPT09IC0xICYmIHdpbmRvdy5VUkwgJiYgd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHZhciB3ID0gbmV3IFdvcmtlcih3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbXCJ2YXIgdCA9ICd0JztcIl0pKSk7XHJcbiAgICAgICAgICAgICAgICB3LnBvc3RNZXNzYWdlKFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgdy50ZXJtaW5hdGUoKTtcclxuICAgICAgICAgICAgICAgIHZhciBpZGJJRCA9IFwiMTIzNFwiO1xyXG4gICAgICAgICAgICAgICAgaW5kZXhlZERCLm9wZW4oaWRiSUQsIDEpO1xyXG4gICAgICAgICAgICAgICAgaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKGlkYklEKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIklEQl9XV1wiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7IC8vIHdvcmtlciwgYmxvYiwgb3IgaW5kZXhlZCBEQiBmYWlsZWRcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaW5kZXhlZERCICE9PSBcInVuZGVmaW5lZFwiKSB7IC8vIGZhbGwgYmFjayB0byBpbmRleGVkIGRiIGlmIHdlIGNhblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIklEQlwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIG5vdGhpbmcgZWxzZSB3b3Jrcywgd2UgZ290dGEgZG8gbG9jYWwgc3RvcmFnZS4gOihcclxuICAgICAgICByZXR1cm4gXCJMU1wiO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2V0IHJvd3MgZnJvbSBhIHRhYmxlIGdpdmVuIHRoZSBjb2x1bW4gYW5kIHNlY29uZGFyeSBpbmRleCBwcmltYXJ5IGtleSB0byByZWFkIGZyb20uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29sdW1uXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VhcmNoXHJcbiAgICAgKiBAcGFyYW0geyhyb3dzOiBEQlJvd1tdKSA9PiB2b2lkfSBjYWxsYmFja1xyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMU3RvcmFnZVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFN0b3JhZ2UucHJvdG90eXBlLl9zZWNvbmRhcnlJbmRleFJlYWQgPSBmdW5jdGlvbiAodGFibGUsIGNvbHVtbiwgc2VhcmNoLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5hZGFwdGVyc1swXS5hZGFwdGVyLnJlYWQoXCJfXCIgKyB0YWJsZSArIFwiX2lkeF9cIiArIGNvbHVtbiwgdGhpcy5fc2Vjb25kYXJ5SW5kZXhLZXkoc2VhcmNoKSwgZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICBpZiAocm93ICE9PSB1bmRlZmluZWQgJiYgcm93ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVhZCh0YWJsZSwgKHJvd1tcInJvd3NcIl0gfHwgW10pLCBjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhbXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldCBhIHJhbmdlIG9mIHJvd3MgZnJvbSBhIGdpdmVuIHRhYmxlLlxyXG4gICAgICogSWYgdXNlUEtzIGlzIGZhbHNlIHRoZSByYW5nZSBpcyBpbiBsaW1pdC9vZmZzZXQgZm9ybSB3aGVyZSB0aGUgZnJvbSBhbmQgdG8gdmFsdWVzIGFyZSBudW1iZXJzIGluZGljYXRpbmcgYSByYW5nZSBvZiByb3dzIHRvIGdldC5cclxuICAgICAqIE90aGVyd2lzZSB0aGUgZnJvbSBhbmQgdG8gdmFsdWVzIHNob3VsZCBiZSBwcmltYXJ5IGtleSB2YWx1ZXMgdG8gZ2V0IGV2ZXJ5dGhpbmcgaW4gYmV0d2Vlbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFibGVcclxuICAgICAqIEBwYXJhbSB7REJLZXl9IGZyb21cclxuICAgICAqIEBwYXJhbSB7REJLZXl9IHRvXHJcbiAgICAgKiBAcGFyYW0geyhyb3dzOiBEQlJvd1tdKSA9PiB2b2lkfSBjb21wbGV0ZVxyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMU3RvcmFnZVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFN0b3JhZ2UucHJvdG90eXBlLl9yYW5nZVJlYWQgPSBmdW5jdGlvbiAodGFibGUsIGZyb20sIHRvLCB1c2VQS3MsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIHJvd3MgPSBbXTtcclxuICAgICAgICB0aGlzLmFkYXB0ZXJzWzBdLmFkYXB0ZXIucmFuZ2VSZWFkKHRhYmxlLCBmdW5jdGlvbiAocm93LCBpZHgsIG5leHQpIHtcclxuICAgICAgICAgICAgcm93cy5wdXNoKHJvdyk7XHJcbiAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKHJvd3MpO1xyXG4gICAgICAgIH0sIGZyb20sIHRvLCB1c2VQS3MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRnVsbCB0YWJsZSBzY2FuIGlmIGEgZnVuY3Rpb24gaXMgcGFzc2VkIGluIE9SIHJlYWQgYW4gYXJyYXkgb2YgcHJpbWFyeSBrZXlzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHsocm93OiBEQlJvdywgaWR4OiBudW1iZXIsIHRvS2VlcDogKHJlc3VsdDogYm9vbGVhbikgPT4gdm9pZCkgPT4gdm9pZH0gcXVlcnlcclxuICAgICAqIEBwYXJhbSB7KHJvd3M6IERCUm93W10pID0+IHZvaWR9IGNhbGxiYWNrXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMU3RvcmFnZVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFN0b3JhZ2UucHJvdG90eXBlLl9yZWFkID0gZnVuY3Rpb24gKHRhYmxlLCBxdWVyeSwgY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHF1ZXJ5KSkgeyAvLyBzZWxlY3QgYnkgYXJyYXkgb2YgcHJpbWFyeSBrZXlzXHJcbiAgICAgICAgICAgIHZhciBiYXRjaFJlYWQgPSB0aGlzLmFkYXB0ZXJzWzBdLmFkYXB0ZXIuYmF0Y2hSZWFkO1xyXG4gICAgICAgICAgICBpZiAoYmF0Y2hSZWFkKSB7XHJcbiAgICAgICAgICAgICAgICBiYXRjaFJlYWQuYXBwbHkodGhpcy5hZGFwdGVyc1swXS5hZGFwdGVyLCBbdGFibGUsIHF1ZXJ5LCBjYWxsYmFja10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gcG9zc2libHkgKGJ1dCBub3QgYWx3YXlzKSBzbG93ZXIgZmFsbGJhY2tcclxuICAgICAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwocXVlcnksIGZ1bmN0aW9uIChxLCBpLCByZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGFwdGVyc1swXS5hZGFwdGVyLnJlYWQodGFibGUsIHEsIHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socm93cy5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHI7IH0pKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJvd3MgPSBbXTtcclxuICAgICAgICAvLyBmdWxsIHRhYmxlIHNjYW5cclxuICAgICAgICBpZiAodHlwZW9mIHF1ZXJ5ID09PSBcImZ1bmN0aW9uXCIpIHsgLy8gaXRlcmF0ZSB0aHJvdWdoIGVudGlyZSBkYiwgcmV0dXJuaW5nIHJvd3MgdGhhdCByZXR1cm4gdHJ1ZSBvbiB0aGUgZnVuY3Rpb25cclxuICAgICAgICAgICAgdGhpcy5hZGFwdGVyc1swXS5hZGFwdGVyLnJhbmdlUmVhZCh0YWJsZSwgZnVuY3Rpb24gKHJvdywgaWR4LCBuZXh0Um93KSB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeShyb3csIGlkeCwgZnVuY3Rpb24gKGtlZXApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoa2VlcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dzLnB1c2gocm93KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dFJvdygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJvd3MpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldCBhbGwgdmFsdWVzIGluIGEgdGFibGUgd2hlcmUgdGhlIGNvbHVtbiB2YWx1ZSBtYXRjaGVzIGFnYWluc3QgdGhlIGdpdmVuIHRyaWUgc2VhcmNoIHZhbHVlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbHVtblxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNlYXJjaFxyXG4gICAgICogQHBhcmFtIHsocm93czogREJSb3dbXSApID0+IHZvaWR9IGNhbGxiYWNrXHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxTdG9yYWdlXHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZS5wcm90b3R5cGUuX3RyaWVSZWFkID0gZnVuY3Rpb24gKHRhYmxlLCBjb2x1bW4sIHNlYXJjaCwgY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciB3b3JkcyA9IHRoaXMuX3RyaWVJbmRleGVzW3RhYmxlXVtjb2x1bW5dLmdldFByZWZpeChzZWFyY2gpO1xyXG4gICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwod29yZHMsIGZ1bmN0aW9uICh3LCBpLCByZXN1bHQpIHtcclxuICAgICAgICAgICAgX3RoaXMuX3NlY29uZGFyeUluZGV4UmVhZCh0YWJsZSwgY29sdW1uLCB3LCByZXN1bHQpO1xyXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGFycmF5T2ZSb3dzKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKFtdLmNvbmNhdC5hcHBseShbXSwgYXJyYXlPZlJvd3MpKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBzZWNvbmRhcnkgaW5kZXggdmFsdWVzIG9mIGEgc3BlY2lmaWMgcm93LlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge0RCS2V5fSBwa1xyXG4gICAgICogQHBhcmFtIHtEQlJvd30gcm93RGF0YVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gc2tpcENvbHVtbnNcclxuICAgICAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gY29tcGxldGVcclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFN0b3JhZ2VcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxTdG9yYWdlLnByb3RvdHlwZS5fY2xlYXJTZWNvbmRhcnlJbmRleGVzID0gZnVuY3Rpb24gKHRhYmxlLCBwaywgcm93RGF0YSwgc2tpcENvbHVtbnMsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHRoaXMudGFibGVJbmZvW3RhYmxlXS5fc2Vjb25kYXJ5SW5kZXhlcy5maWx0ZXIoZnVuY3Rpb24gKGlkeCkgeyByZXR1cm4gc2tpcENvbHVtbnMuaW5kZXhPZihpZHgpID09PSAtMTsgfSksIGZ1bmN0aW9uIChpZHgsIGssIGRvbmUpIHtcclxuICAgICAgICAgICAgdmFyIGNvbHVtbiA9IF90aGlzLl9zZWNvbmRhcnlJbmRleEtleShyb3dEYXRhW2lkeF0pO1xyXG4gICAgICAgICAgICB2YXIgaWR4VGFibGUgPSBcIl9cIiArIHRhYmxlICsgXCJfaWR4X1wiICsgaWR4O1xyXG4gICAgICAgICAgICBfdGhpcy5hZGFwdGVyc1swXS5hZGFwdGVyLnJlYWQoaWR4VGFibGUsIGNvbHVtbiwgZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGkgPSByb3cucm93cy5pbmRleE9mKHBrKTtcclxuICAgICAgICAgICAgICAgIGlmIChpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3Um93ID0gcm93ID8gT2JqZWN0LmlzRnJvemVuKHJvdykgPyB1dGlsaXRpZXNfMS5fYXNzaWduKHJvdykgOiByb3cgOiB7IGlkOiBudWxsLCByb3dzOiBbXSB9O1xyXG4gICAgICAgICAgICAgICAgbmV3Um93LnJvd3Muc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgbmV3Um93LnJvd3Muc29ydCgpO1xyXG4gICAgICAgICAgICAgICAgbmV3Um93LnJvd3MgPSB1dGlsaXRpZXNfMS5yZW1vdmVEdXBsaWNhdGVzKG5ld1Jvdy5yb3dzKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJXcml0ZShpZHhUYWJsZSwgbmV3Um93LmlkLCBuZXdSb3csIGRvbmUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KS50aGVuKGNvbXBsZXRlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEFkZCBzZWNvbmRhcnkgaW5kZXggdmFsdWVzIGZvciBhIHNwZWNpZmljIHJvdy5cclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtEQktleX0gcGtcclxuICAgICAqIEBwYXJhbSB7REJSb3d9IHJvd0RhdGFcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHNraXBDb2x1bW5zXHJcbiAgICAgKiBAcGFyYW0geygpID0+IHZvaWR9IGNvbXBsZXRlXHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxTdG9yYWdlXHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZS5wcm90b3R5cGUuX3NldFNlY29uZGFyeUluZGV4ZXMgPSBmdW5jdGlvbiAodGFibGUsIHBrLCByb3dEYXRhLCBza2lwQ29sdW1ucywgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwodGhpcy50YWJsZUluZm9bdGFibGVdLl9zZWNvbmRhcnlJbmRleGVzLmZpbHRlcihmdW5jdGlvbiAoaWR4KSB7IHJldHVybiBza2lwQ29sdW1ucy5pbmRleE9mKGlkeCkgPT09IC0xOyB9KSwgZnVuY3Rpb24gKGlkeCwgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICB2YXIgY29sdW1uID0gX3RoaXMuX3NlY29uZGFyeUluZGV4S2V5KHJvd0RhdGFbaWR4XSk7XHJcbiAgICAgICAgICAgIGlmICghY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKF90aGlzLl90cmllSW5kZXhlc1t0YWJsZV1baWR4XSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3RyaWVJbmRleGVzW3RhYmxlXVtpZHhdLmFkZFdvcmQoU3RyaW5nKHJvd0RhdGFbaWR4XSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBpZHhUYWJsZSA9IFwiX1wiICsgdGFibGUgKyBcIl9pZHhfXCIgKyBpZHg7XHJcbiAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJzWzBdLmFkYXB0ZXIucmVhZChpZHhUYWJsZSwgY29sdW1uLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXhSb3cgPSByb3cgPyAoT2JqZWN0LmlzRnJvemVuKHJvdykgPyB1dGlsaXRpZXNfMS5fYXNzaWduKHJvdykgOiByb3cpIDogeyBpZDogY29sdW1uLCByb3dzOiBbXSB9O1xyXG4gICAgICAgICAgICAgICAgaW5kZXhSb3cucm93cy5wdXNoKHBrKTtcclxuICAgICAgICAgICAgICAgIGluZGV4Um93LnJvd3Muc29ydCgpO1xyXG4gICAgICAgICAgICAgICAgaW5kZXhSb3cucm93cyA9IHV0aWxpdGllc18xLnJlbW92ZUR1cGxpY2F0ZXMoaW5kZXhSb3cucm93cyk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGFwdGVyV3JpdGUoaWR4VGFibGUsIGNvbHVtbiwgaW5kZXhSb3csIGRvbmUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KS50aGVuKGNvbXBsZXRlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFdyaXRlIGEgcm93IHRvIHRoZSBkYXRhYmFzZVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtEQktleX0gcGtcclxuICAgICAqIEBwYXJhbSB7Kn0gb2xkUm93XHJcbiAgICAgKiBAcGFyYW0ge0RCUm93fSBuZXdSb3dcclxuICAgICAqIEBwYXJhbSB7KHJvdzogREJSb3cpID0+IHZvaWR9IGNvbXBsZXRlXHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxTdG9yYWdlXHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gKHRhYmxlLCBwaywgb2xkUm93LCBuZXdSb3csIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoIW9sZFJvdykgeyAvLyBuZXcgcm93XHJcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlcldyaXRlKHRhYmxlLCBwaywgbmV3Um93LCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMudGFibGVJbmZvW3RhYmxlXS5fc2Vjb25kYXJ5SW5kZXhlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc2V0U2Vjb25kYXJ5SW5kZXhlcyh0YWJsZSwgcm93W190aGlzLnRhYmxlSW5mb1t0YWJsZV0uX3BrXSwgbmV3Um93LCBbXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZShyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUocm93KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgeyAvLyBleGlzdGluZyByb3dcclxuICAgICAgICAgICAgdmFyIHNldFJvd18xID0gX19hc3NpZ24oe30sIG9sZFJvdywgbmV3Um93LCAoX2EgPSB7fSwgX2FbdGhpcy50YWJsZUluZm9bdGFibGVdLl9wa10gPSBwaywgX2EpKTtcclxuICAgICAgICAgICAgdmFyIHNhbWVLZXlzXzEgPSBPYmplY3Qua2V5cyhzZXRSb3dfMSkuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZXRSb3dfMVtrZXldID09PSBvbGRSb3dba2V5XTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRhYmxlSW5mb1t0YWJsZV0uX3NlY29uZGFyeUluZGV4ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jbGVhclNlY29uZGFyeUluZGV4ZXModGFibGUsIHBrLCBvbGRSb3csIHNhbWVLZXlzXzEsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc2V0U2Vjb25kYXJ5SW5kZXhlcyh0YWJsZSwgcGssIHNldFJvd18xLCBzYW1lS2V5c18xLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJXcml0ZSh0YWJsZSwgcGssIHNldFJvd18xLCBjb21wbGV0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlcldyaXRlKHRhYmxlLCBwaywgc2V0Um93XzEsIGNvbXBsZXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgX2E7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBEZWxldGUgYSBzcGVjaWZpYyByb3cgZnJvbSB0aGUgZGF0YWJhc2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge0RCS2V5fSBwa1xyXG4gICAgICogQHBhcmFtIHsocm93OiBEQlJvdykgPT4gdm9pZH0gY29tcGxldGVcclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFN0b3JhZ2VcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxTdG9yYWdlLnByb3RvdHlwZS5fZGVsZXRlID0gZnVuY3Rpb24gKHRhYmxlLCBwaywgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICghcGspIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgZGVsZXRlIHdpdGhvdXQgYSBwcmltYXJ5IGtleSFcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyB1cGRhdGUgc2Vjb25kYXJ5IGluZGV4ZXNcclxuICAgICAgICAgICAgdGhpcy5hZGFwdGVyc1swXS5hZGFwdGVyLnJlYWQodGFibGUsIHBrLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fY2xlYXJTZWNvbmRhcnlJbmRleGVzKHRhYmxlLCBwaywgcm93LCBbXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRvIHRoZSBkZWxldGVcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGFwdGVyRGVsZXRlKHRhYmxlLCBwaywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZShyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIERyb3AgZW50aXJlIHRhYmxlIGZyb20gdGhlIGRhdGFiYXNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHsoKSA9PiB2b2lkfSBjb21wbGV0ZVxyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMU3RvcmFnZVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFN0b3JhZ2UucHJvdG90eXBlLl9kcm9wID0gZnVuY3Rpb24gKHRhYmxlLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTCh0aGlzLnRhYmxlSW5mb1t0YWJsZV0uX3NlY29uZGFyeUluZGV4ZXMsIGZ1bmN0aW9uIChpZHgsIGksIGRvbmUpIHtcclxuICAgICAgICAgICAgX3RoaXMuYWRhcHRlckRyb3AoXCJfXCIgKyB0YWJsZSArIFwiX2lkeF9cIiArIGlkeCwgZG9uZSk7XHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLl90cmllSW5kZXhlc1t0YWJsZV0gPSB7fTtcclxuICAgICAgICAgICAgX3RoaXMudGFibGVJbmZvW3RhYmxlXS5fdHJpZUNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY28pIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl90cmllSW5kZXhlc1t0YWJsZV1bY29dID0gbmV3IHByZWZpeF90cmllX3RzXzEuVHJpZShbXSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBfdGhpcy5hZGFwdGVyRHJvcCh0YWJsZSwgY29tcGxldGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRmluZCBzZWNvbmRhcnkgaW5kZXhlcyBhbmQgYXV0b21hdGljYWxseSBnZW5lcmF0ZSBhbiBpbmRleCB0YWJsZSBmb3IgZWFjaC5cclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7U3RkT2JqZWN0PERhdGFNb2RlbFtdPn0gZGF0YU1vZGVsc1xyXG4gICAgICogQHJldHVybnNcclxuICAgICAqIEBtZW1iZXJvZiBOYW5vU1FMU3RvcmFnZVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFN0b3JhZ2UucHJvdG90eXBlLl9jcmVhdGVTZWNvbmRhcnlJbmRleFRhYmxlcyA9IGZ1bmN0aW9uIChkYXRhTW9kZWxzKSB7XHJcbiAgICAgICAgT2JqZWN0LmtleXMoZGF0YU1vZGVscykuZm9yRWFjaChmdW5jdGlvbiAodGFibGUpIHtcclxuICAgICAgICAgICAgdmFyIGhhc1BLID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBoYXNJRFggPSBmYWxzZTtcclxuICAgICAgICAgICAgZGF0YU1vZGVsc1t0YWJsZV0uZm9yRWFjaChmdW5jdGlvbiAobW9kZWwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChtb2RlbC5wcm9wcyAmJiB1dGlsaXRpZXNfMS5pbnRlcnNlY3QoW1wicGtcIiwgXCJwaygpXCJdLCBtb2RlbC5wcm9wcykpIHtcclxuICAgICAgICAgICAgICAgICAgICBoYXNQSyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobW9kZWwucHJvcHMgJiYgdXRpbGl0aWVzXzEuaW50ZXJzZWN0KFtcInRyaWVcIiwgXCJpZHhcIiwgXCJpZHgoKVwiLCBcInRyaWUoKVwiXSwgbW9kZWwucHJvcHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzSURYID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhTW9kZWxzW1wiX1wiICsgdGFibGUgKyBcIl9pZHhfXCIgKyBtb2RlbC5rZXldID0gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogXCJpZFwiLCB0eXBlOiBbXCJudW1iZXJcIiwgXCJmbG9hdFwiLCBcImludFwiXS5pbmRleE9mKG1vZGVsLnR5cGUpICE9PSAtMSA/IG1vZGVsLnR5cGUgOiBcInN0cmluZ1wiLCBwcm9wczogW1wicGtcIl0gfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6IFwicm93c1wiLCB0eXBlOiBcImFueVtdXCIgfVxyXG4gICAgICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoaGFzSURYICYmICFoYXNQSykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGFibGVzIHdpdGggc2Vjb25kYXJ5IGluZGV4ZXMgbXVzdCBoYXZlIGEgcHJpbWFyeSBrZXkhXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGRhdGFNb2RlbHM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSB0aGUgZGF0YSBuZWVkZWQgdG8gbWFuYWdlIGVhY2ggdGFibGUgaW4gdGhlIGRhdGFiYXNlXHJcbiAgICAgKlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFibGVOYW1lXHJcbiAgICAgKiBAcGFyYW0ge0RhdGFNb2RlbFtdfSBkYXRhTW9kZWxzXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICogQG1lbWJlcm9mIE5hbm9TUUxTdG9yYWdlXHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZS5wcm90b3R5cGUuX25ld1RhYmxlID0gZnVuY3Rpb24gKHRhYmxlTmFtZSwgZGF0YU1vZGVscykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy50YWJsZUluZm9bdGFibGVOYW1lXSA9IHtcclxuICAgICAgICAgICAgX3BrOiBcIlwiLFxyXG4gICAgICAgICAgICBfcGtUeXBlOiBcIlwiLFxyXG4gICAgICAgICAgICBfa2V5czogW10sXHJcbiAgICAgICAgICAgIF9kZWZhdWx0czogW10sXHJcbiAgICAgICAgICAgIF9zZWNvbmRhcnlJbmRleGVzOiBbXSxcclxuICAgICAgICAgICAgX3RyaWVDb2x1bW5zOiBbXSxcclxuICAgICAgICAgICAgX25hbWU6IHRhYmxlTmFtZSxcclxuICAgICAgICAgICAgX3ZpZXdzOiB7fSxcclxuICAgICAgICAgICAgX3ZpZXdUYWJsZXM6IFtdXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLl9jYWNoZVt0YWJsZU5hbWVdID0ge307XHJcbiAgICAgICAgdGhpcy5fY2FjaGVLZXlzW3RhYmxlTmFtZV0gPSB7fTtcclxuICAgICAgICB0aGlzLl90cmllSW5kZXhlc1t0YWJsZU5hbWVdID0ge307XHJcbiAgICAgICAgdGhpcy5hZGFwdGVycy5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgIGEuYWRhcHRlci5tYWtlVGFibGUodGFibGVOYW1lLCBkYXRhTW9kZWxzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBEaXNjb3ZlciBwcmltYXJ5IGtleXMgZm9yIGVhY2ggdGFibGVcclxuICAgICAgICB2YXIgaSA9IHRoaXMubW9kZWxzW3RhYmxlTmFtZV0ubGVuZ3RoO1xyXG4gICAgICAgIHZhciBfbG9vcF8yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcCA9IHRoaXNfMS5tb2RlbHNbdGFibGVOYW1lXVtpXTtcclxuICAgICAgICAgICAgdGhpc18xLnRhYmxlSW5mb1t0YWJsZU5hbWVdLl9rZXlzLnVuc2hpZnQocC5rZXkpO1xyXG4gICAgICAgICAgICB0aGlzXzEudGFibGVJbmZvW3RhYmxlTmFtZV0uX2RlZmF1bHRzW2ldID0gcC5kZWZhdWx0O1xyXG4gICAgICAgICAgICBpZiAocC5wcm9wcyAmJiBwLnByb3BzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzMm5kSW5kZXhfMSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcC5wcm9wcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AuaW5kZXhPZihcImZyb209PlwiKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2hhc1ZpZXdzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gcC50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCAhPT0gXCJmcm9tPT5HSE9TVFwiICYmIHByb3AgIT09IFwiZnJvbT0+TElWRVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm9wIGlzIFwiZnJvbT0+dGFibGUuY29sdW1uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlID0gcHJvcC5yZXBsYWNlKFwiZnJvbT0+XCIsIFwiXCIpLnNwbGl0KFwiLlwiKS5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMudGFibGVJbmZvW3RhYmxlTmFtZV0uX3ZpZXdzW3RhYmxlXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudGFibGVJbmZvW3RhYmxlTmFtZV0uX3ZpZXdzW3RhYmxlXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwa0NvbHVtbjogXCJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbnM6IFtdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wID09PSBcImZyb209PkdIT1NUXCIgfHwgcHJvcCA9PT0gXCJmcm9tPT5MSVZFXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzMm5kSW5kZXhfMSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy50YWJsZUluZm9bdGFibGVOYW1lXS5fdmlld3NbdGFibGVdLnBrQ29sdW1uID0gcC5rZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy50YWJsZUluZm9bdGFibGVOYW1lXS5fdmlld3NbdGFibGVdLm1vZGUgPSBwcm9wLnJlcGxhY2UoXCJmcm9tPT5cIiwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy50YWJsZUluZm9bdGFibGVOYW1lXS5fdmlld3NbdGFibGVdLmNvbHVtbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc0NvbHVtbjogcC5rZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJDb2x1bW46IHByb3AucmVwbGFjZShcImZyb209PlwiLCBcIlwiKS5zcGxpdChcIi5cIikucG9wKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgcHJpbWFyeSBrZXlcclxuICAgICAgICAgICAgICAgIGlmICh1dGlsaXRpZXNfMS5pbnRlcnNlY3QoW1wicGtcIiwgXCJwaygpXCJdLCBwLnByb3BzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNfMS50YWJsZUluZm9bdGFibGVOYW1lXS5fcGsgPSBwLmtleTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzXzEudGFibGVJbmZvW3RhYmxlTmFtZV0uX3BrVHlwZSA9IHAudHlwZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBzZWNvbmRhcnkgaW5kZXhlc1xyXG4gICAgICAgICAgICAgICAgaWYgKHV0aWxpdGllc18xLmludGVyc2VjdChbXCJ0cmllXCIsIFwiaWR4XCIsIFwiaWR4KClcIiwgXCJ0cmllKClcIl0sIHAucHJvcHMpIHx8IGlzMm5kSW5kZXhfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNfMS50YWJsZUluZm9bdGFibGVOYW1lXS5fc2Vjb25kYXJ5SW5kZXhlcy5wdXNoKHAua2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciB0cmllIGluZGV4ZXNcclxuICAgICAgICAgICAgICAgIGlmICh1dGlsaXRpZXNfMS5pbnRlcnNlY3QoW1widHJpZVwiLCBcInRyaWUoKVwiXSwgcC5wcm9wcykpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzXzEudGFibGVJbmZvW3RhYmxlTmFtZV0uX3RyaWVDb2x1bW5zLnB1c2gocC5rZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNfMS5fdHJpZUluZGV4ZXNbdGFibGVOYW1lXVtwLmtleV0gPSBuZXcgcHJlZml4X3RyaWVfdHNfMS5UcmllKFtdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHRoaXNfMSA9IHRoaXM7XHJcbiAgICAgICAgd2hpbGUgKGktLSkge1xyXG4gICAgICAgICAgICBfbG9vcF8yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0YWJsZU5hbWU7XHJcbiAgICB9O1xyXG4gICAgX05hbm9TUUxTdG9yYWdlLnByb3RvdHlwZS5hZGFwdGVyV3JpdGUgPSBmdW5jdGlvbiAodGFibGUsIHBrLCBkYXRhLCBjb21wbGV0ZSwgZXJyb3IpIHtcclxuICAgICAgICB2YXIgcmVzdWx0O1xyXG4gICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwodGhpcy5hZGFwdGVycywgZnVuY3Rpb24gKGEsIGksIGRvbmUpIHtcclxuICAgICAgICAgICAgaWYgKGEud2FpdEZvcldyaXRlcykge1xyXG4gICAgICAgICAgICAgICAgYS5hZGFwdGVyLndyaXRlKHRhYmxlLCBwaywgZGF0YSwgZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJvdztcclxuICAgICAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgICAgIGEuYWRhcHRlci53cml0ZSh0YWJsZSwgcGssIGRhdGEsIGZ1bmN0aW9uIChyb3cpIHsgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29tcGxldGUocmVzdWx0KTtcclxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcilcclxuICAgICAgICAgICAgICAgIGVycm9yKGVycik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX05hbm9TUUxTdG9yYWdlLnByb3RvdHlwZS5hZGFwdGVyRGVsZXRlID0gZnVuY3Rpb24gKHRhYmxlLCBwaywgY29tcGxldGUsIGVycm9yKSB7XHJcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTCh0aGlzLmFkYXB0ZXJzLCBmdW5jdGlvbiAoYSwgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICBpZiAoYS53YWl0Rm9yV3JpdGVzKSB7XHJcbiAgICAgICAgICAgICAgICBhLmFkYXB0ZXIuZGVsZXRlKHRhYmxlLCBwaywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgYS5hZGFwdGVyLmRlbGV0ZSh0YWJsZSwgcGssIGZ1bmN0aW9uICgpIHsgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcilcclxuICAgICAgICAgICAgICAgIGVycm9yKGVycik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX05hbm9TUUxTdG9yYWdlLnByb3RvdHlwZS5hZGFwdGVyRHJvcCA9IGZ1bmN0aW9uICh0YWJsZSwgY29tcGxldGUsIGVycm9yKSB7XHJcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTCh0aGlzLmFkYXB0ZXJzLCBmdW5jdGlvbiAoYSwgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICBpZiAoYS53YWl0Rm9yV3JpdGVzKSB7XHJcbiAgICAgICAgICAgICAgICBhLmFkYXB0ZXIuZHJvcCh0YWJsZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgYS5hZGFwdGVyLmRyb3AodGFibGUsIGZ1bmN0aW9uICgpIHsgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcilcclxuICAgICAgICAgICAgICAgIGVycm9yKGVycik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9OYW5vU1FMU3RvcmFnZTtcclxufSgpKTtcclxuZXhwb3J0cy5fTmFub1NRTFN0b3JhZ2UgPSBfTmFub1NRTFN0b3JhZ2U7XHJcbiIsInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xyXG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXHJcbiAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZGV4XzEgPSByZXF1aXJlKFwiLi4vaW5kZXhcIik7XHJcbnZhciB1dGlsaXRpZXNfMSA9IHJlcXVpcmUoXCIuLi91dGlsaXRpZXNcIik7XHJcbnZhciBxdWVyeU9iaiA9IHtcclxuICAgIHNlbGVjdDogZnVuY3Rpb24gKHNlbGYsIG5leHQpIHtcclxuICAgICAgICBzZWxmLl9zZWxlY3QobmV4dCk7XHJcbiAgICB9LFxyXG4gICAgdXBzZXJ0OiBmdW5jdGlvbiAoc2VsZiwgbmV4dCkge1xyXG4gICAgICAgIHNlbGYuX3Vwc2VydChuZXh0KTtcclxuICAgIH0sXHJcbiAgICBkZWxldGU6IGZ1bmN0aW9uIChzZWxmLCBuZXh0KSB7XHJcbiAgICAgICAgc2VsZi5fZGVsZXRlKG5leHQpO1xyXG4gICAgfSxcclxuICAgIGRyb3A6IGZ1bmN0aW9uIChzZWxmLCBuZXh0KSB7XHJcbiAgICAgICAgc2VsZi5fZHJvcChuZXh0KTtcclxuICAgIH0sXHJcbiAgICBcInNob3cgdGFibGVzXCI6IGZ1bmN0aW9uIChzZWxmLCBuZXh0KSB7XHJcbiAgICAgICAgc2VsZi5fcXVlcnkucmVzdWx0ID0gT2JqZWN0LmtleXMoc2VsZi5fc3RvcmUudGFibGVJbmZvKTtcclxuICAgICAgICBuZXh0KHNlbGYuX3F1ZXJ5KTtcclxuICAgIH0sXHJcbiAgICBkZXNjcmliZTogZnVuY3Rpb24gKHNlbGYsIG5leHQpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHNlbGYuX3F1ZXJ5LnRhYmxlICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIG5leHQoc2VsZi5fcXVlcnkpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGYuX3F1ZXJ5LnJlc3VsdCA9IHV0aWxpdGllc18xLl9hc3NpZ24oc2VsZi5fc3RvcmUubW9kZWxzW3NlbGYuX3F1ZXJ5LnRhYmxlXSk7XHJcbiAgICAgICAgbmV4dChzZWxmLl9xdWVyeSk7XHJcbiAgICB9LFxyXG59O1xyXG4vKipcclxuICogQSBuZXcgU3RvcmFnZSBRdWVyeSBjbGFzcyBpcyBpbmlsaXRpemVkIGZvciBldmVyeSBxdWVyeSwgcGVyZm9ybWluZyB0aGUgYWN0aW9uc1xyXG4gKiBhZ2FpbnN0IHRoZSBzdG9yYWdlIGNsYXNzIGl0c2VsZiB0byBnZXQgdGhlIGRlc2lyZWQgb3V0Y29tZS5cclxuICpcclxuICogQGV4cG9ydFxyXG4gKiBAY2xhc3MgX05hbm9TUUxTdG9yYWdlUXVlcnlcclxuICovXHJcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxyXG52YXIgX05hbm9TUUxTdG9yYWdlUXVlcnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBfTmFub1NRTFN0b3JhZ2VRdWVyeShfc3RvcmUpIHtcclxuICAgICAgICB0aGlzLl9zdG9yZSA9IF9zdG9yZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRXhlY3V0ZSB0aGUgcXVlcnkgYWdhaW5zdCB0aGlzIGNsYXNzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7SWRiUXVlcnl9IHF1ZXJ5XHJcbiAgICAgKiBAcGFyYW0geyhxOiBJZGJRdWVyeSkgPT4gdm9pZH0gbmV4dFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFN0b3JhZ2VRdWVyeVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFN0b3JhZ2VRdWVyeS5wcm90b3R5cGUuZG9RdWVyeSA9IGZ1bmN0aW9uIChxdWVyeSwgbmV4dCkge1xyXG4gICAgICAgIHRoaXMuX3F1ZXJ5ID0gcXVlcnk7XHJcbiAgICAgICAgdGhpcy5faXNJbnN0YW5jZVRhYmxlID0gQXJyYXkuaXNBcnJheShxdWVyeS50YWJsZSk7XHJcbiAgICAgICAgcXVlcnlPYmpbcXVlcnkuYWN0aW9uXSh0aGlzLCBuZXh0KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHJlaXZlIHRoZSBzZWxlY3RlZCByb3dzIGZvciB0aGlzIHF1ZXJ5LCB3b3JrcyBmb3IgaW5zdGFuY2UgdGFibGVzIGFuZCBzdGFuZGFyZCBvbmVzLlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHsocm93czogREJSb3dbXSkgPT4gdm9pZH0gY29tcGxldGVcclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFN0b3JhZ2VRdWVyeVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFN0b3JhZ2VRdWVyeS5wcm90b3R5cGUuX2dldFJvd3MgPSBmdW5jdGlvbiAoY29tcGxldGUpIHtcclxuICAgICAgICBpZiAodGhpcy5faXNJbnN0YW5jZVRhYmxlKSB7XHJcbiAgICAgICAgICAgIG5ldyBJbnN0YW5jZVNlbGVjdGlvbih0aGlzLl9xdWVyeSkuZ2V0Um93cyhjb21wbGV0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBuZXcgX1Jvd1NlbGVjdGlvbih0aGlzLl9xdWVyeSwgdGhpcy5fc3RvcmUsIGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShyb3dzLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gcjsgfSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgX05hbm9TUUxTdG9yYWdlUXVlcnkucHJvdG90eXBlLl9zZXRDYWNoZSA9IGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLl9zdG9yZS5fY2FjaGVbdGhpcy5fcXVlcnkudGFibGVdW3RoaXMuX2hhc2hdID0gcm93cztcclxuICAgICAgICAvLyBzdG9yZSBwcmltYXJ5IGtleXMgZm9yIHRoaXMgY2FjaGUsIHVzZWQgZm9yIGNhY2hlIGludmFsaWRhdGlvblxyXG4gICAgICAgIHRoaXMuX3N0b3JlLl9jYWNoZUtleXNbdGhpcy5fcXVlcnkudGFibGVdW3RoaXMuX2hhc2hdID0ge307XHJcbiAgICAgICAgcm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgIF90aGlzLl9zdG9yZS5fY2FjaGVLZXlzW190aGlzLl9xdWVyeS50YWJsZV1bX3RoaXMuX2hhc2hdW3JbX3RoaXMuX3N0b3JlLnRhYmxlSW5mb1tfdGhpcy5fcXVlcnkudGFibGVdLl9wa11dID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEluaXRpbHplIGEgU0VMRUNUIHF1ZXJ5LlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHsocTogSWRiUXVlcnkpID0+IHZvaWR9IG5leHRcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxTdG9yYWdlUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxTdG9yYWdlUXVlcnkucHJvdG90eXBlLl9zZWxlY3QgPSBmdW5jdGlvbiAobmV4dCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5faGFzaCA9IHV0aWxpdGllc18xLmhhc2goSlNPTi5zdHJpbmdpZnkoX19hc3NpZ24oe30sIHRoaXMuX3F1ZXJ5LCB7IHF1ZXJ5SUQ6IG51bGwgfSkpKTtcclxuICAgICAgICB2YXIgY2FuQ2FjaGUgPSAhdGhpcy5fcXVlcnkuam9pbiAmJiAhdGhpcy5fcXVlcnkub3JtICYmIHRoaXMuX3N0b3JlLl9kb0NhY2hlICYmICFBcnJheS5pc0FycmF5KHRoaXMuX3F1ZXJ5LnRhYmxlKTtcclxuICAgICAgICAvLyBRdWVyeSBjYWNoZSBmb3IgdGhlIHdpbiFcclxuICAgICAgICAvKmlmIChjYW5DYWNoZSAmJiB0aGlzLl9zdG9yZS5fY2FjaGVbdGhpcy5fcXVlcnkudGFibGUgYXMgYW55XVt0aGlzLl9oYXNoXSkge1xyXG4gICAgICAgICAgICB0aGlzLl9xdWVyeS5yZXN1bHQgPSB0aGlzLl9zdG9yZS5fY2FjaGVbdGhpcy5fcXVlcnkudGFibGUgYXMgYW55XVt0aGlzLl9oYXNoXTtcclxuICAgICAgICAgICAgbmV4dCh0aGlzLl9xdWVyeSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9Ki9cclxuICAgICAgICB0aGlzLl9nZXRSb3dzKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgIC8vIE5vIHF1ZXJ5IGFyZ3VtZW50cywgd2UgY2FuIHNraXAgdGhlIHdob2xlIG11dGF0aW9uIHNlbGVjdGlvbiBjbGFzc1xyXG4gICAgICAgICAgICBpZiAoIVtcImhhdmluZ1wiLCBcIm9yZGVyQnlcIiwgXCJvZmZzZXRcIiwgXCJsaW1pdFwiLCBcImFjdGlvbkFyZ3NcIiwgXCJncm91cEJ5XCIsIFwib3JtXCIsIFwiam9pblwiXS5maWx0ZXIoZnVuY3Rpb24gKGspIHsgcmV0dXJuIF90aGlzLl9xdWVyeVtrXTsgfSkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FuQ2FjaGUpXHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3NldENhY2hlKHJvd3MpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3F1ZXJ5LnJlc3VsdCA9IHJvd3M7XHJcbiAgICAgICAgICAgICAgICBuZXh0KF90aGlzLl9xdWVyeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBuZXcgX011dGF0ZVNlbGVjdGlvbihfdGhpcy5fcXVlcnksIF90aGlzLl9zdG9yZSkuX2V4ZWN1dGVRdWVyeUFyZ3VtZW50cyhyb3dzLCBmdW5jdGlvbiAocmVzdWx0Um93cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5DYWNoZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3NldENhY2hlKHJvd3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9xdWVyeS5yZXN1bHQgPSByZXN1bHRSb3dzO1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQoX3RoaXMuX3F1ZXJ5KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX05hbm9TUUxTdG9yYWdlUXVlcnkucHJvdG90eXBlLl91cGRhdGVPUk1Sb3dzID0gZnVuY3Rpb24gKHJlbGF0aW9uLCBmcm9tUEtzLCBhZGQsIHByaW1hcnlLZXksIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgZnJvbVBrID0gdGhpcy5fc3RvcmUudGFibGVJbmZvW3JlbGF0aW9uLl9mcm9tVGFibGVdLl9waztcclxuICAgICAgICB0aGlzLl9zdG9yZS5fcmVhZChyZWxhdGlvbi5fZnJvbVRhYmxlLCBmcm9tUEtzLCBmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHJvd3MsIGZ1bmN0aW9uIChyb3csIGksIHJvd0RvbmUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBuZXdSb3cgPSBPYmplY3QuaXNGcm96ZW4ocm93KSA/IHV0aWxpdGllc18xLl9hc3NpZ24ocm93KSA6IHJvdztcclxuICAgICAgICAgICAgICAgIGlmIChyZWxhdGlvbi5fZnJvbVR5cGUgPT09IFwiYXJyYXlcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1Jvd1tyZWxhdGlvbi5fZnJvbUNvbHVtbl0gPSBuZXdSb3dbcmVsYXRpb24uX2Zyb21Db2x1bW5dIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpZHhPZiA9IG5ld1Jvd1tyZWxhdGlvbi5fZnJvbUNvbHVtbl0uaW5kZXhPZihwcmltYXJ5S2V5KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYWRkKSB7IC8vIGFkZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4T2YgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdSb3dbcmVsYXRpb24uX2Zyb21Db2x1bW5dLnB1c2gocHJpbWFyeUtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dEb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7IC8vIHJlbW92ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4T2YgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdSb3dbcmVsYXRpb24uX2Zyb21Db2x1bW5dLnNwbGljZShpZHhPZiwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dEb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Um93W3JlbGF0aW9uLl9mcm9tQ29sdW1uXS5zb3J0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYWRkKSB7IC8vIGFkZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdSb3dbcmVsYXRpb24uX2Zyb21Db2x1bW5dID0gcHJpbWFyeUtleTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7IC8vIHJlbW92ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdSb3dbcmVsYXRpb24uX2Zyb21Db2x1bW5dID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fc3RvcmUuX25zcWwucXVlcnkoXCJ1cHNlcnRcIiwgbmV3Um93KS5jb21tZW50KFwiX29ybV9za2lwXCIpLm1hbnVhbEV4ZWMoeyB0YWJsZTogcmVsYXRpb24uX2Zyb21UYWJsZSB9KS50aGVuKHJvd0RvbmUpO1xyXG4gICAgICAgICAgICB9KS50aGVuKGNvbXBsZXRlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBfTmFub1NRTFN0b3JhZ2VRdWVyeS5wcm90b3R5cGUuX3N5bmNPUk0gPSBmdW5jdGlvbiAodHlwZSwgb2xkUm93cywgbmV3Um93cywgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICghdGhpcy5fc3RvcmUuX2hhc09STSkge1xyXG4gICAgICAgICAgICBjb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB1c2VSZWxhdGlvbnMgPSB0aGlzLl9zdG9yZS5fcmVsVG9UYWJsZVt0aGlzLl9xdWVyeS50YWJsZV07XHJcbiAgICAgICAgaWYgKHRoaXMuX3F1ZXJ5LmNvbW1lbnRzLmluZGV4T2YoXCJfb3JtX3NraXBcIikgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF1c2VSZWxhdGlvbnMgfHwgIXVzZVJlbGF0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBnbyBvdmVyIGV2ZXJ5IHJlbGF0aW9uIGFuZCBldmVyeSBjaGFuZ2VkIHJvdyB0byBtYWtlIHRoZSBuZWVkZWQgdXBkYXRlcy5cclxuICAgICAgICB2YXIgY250ID0gTWF0aC5tYXgob2xkUm93cy5sZW5ndGgsIG5ld1Jvd3MubGVuZ3RoKTtcclxuICAgICAgICB2YXIgYXJyYSA9IFtdO1xyXG4gICAgICAgIHdoaWxlIChjbnQtLSlcclxuICAgICAgICAgICAgYXJyYS5wdXNoKFwiIFwiKTtcclxuICAgICAgICB1dGlsaXRpZXNfMS5mYXN0Q0hBSU4oYXJyYSwgZnVuY3Rpb24gKHYsIGlkeCwgcm93RG9uZSkge1xyXG4gICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHVzZVJlbGF0aW9ucywgZnVuY3Rpb24gKHJlbGF0aW9uLCBrLCByZWxhdGlvbkRvbmUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlcXVhbHMgPSBmdW5jdGlvbiAodmFsMSwgdmFsMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbDEpICYmIEFycmF5LmlzQXJyYXkodmFsMikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbDEubGVuZ3RoICE9PSB2YWwyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWwxLmZpbHRlcihmdW5jdGlvbiAodiwgaSkgeyByZXR1cm4gdiAhPT0gdmFsMltpXTsgfSkubGVuZ3RoID4gMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWwxID09PSB2YWwyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGVsXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWxQcmltYXJ5a2V5ID0gb2xkUm93c1tpZHhdW190aGlzLl9zdG9yZS50YWJsZUluZm9bX3RoaXMuX3F1ZXJ5LnRhYmxlXS5fcGtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlSURzID0gcmVsYXRpb24uX3RoaXNUeXBlID09PSBcImFycmF5XCIgPyAob2xkUm93c1tpZHhdW3JlbGF0aW9uLl90aGlzQ29sdW1uXSB8fCBbXSkgOiAoW29sZFJvd3NbaWR4XVtyZWxhdGlvbi5fdGhpc0NvbHVtbl1dLmZpbHRlcihmdW5jdGlvbiAodikgeyByZXR1cm4gdjsgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdXBkYXRlT1JNUm93cyhyZWxhdGlvbiwgdXBkYXRlSURzLCBmYWxzZSwgZGVsUHJpbWFyeWtleSwgcmVsYXRpb25Eb25lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFkZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJpbWFyeUtleV8xID0gbmV3Um93c1tpZHhdW190aGlzLl9zdG9yZS50YWJsZUluZm9bX3RoaXMuX3F1ZXJ5LnRhYmxlXS5fcGtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwb3NzaWJseSB1cGRhdGUgZXhpc3RpbmcgcmVsYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgYWRkaW5nIG9sZFJvd3NbaWR4XSBpcyBwb3NzaWJseSB1bmRlZmluZWQgKGlmIHRoZXJlcyBubyBwcmV2aW91c2Ugcm93IHJlY29yZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFJvd3NbaWR4XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJldmlvdXNlIHJlY29yZCBleGlzdHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcXVhbHMob2xkUm93c1tpZHhdW3JlbGF0aW9uLl90aGlzQ29sdW1uXSwgbmV3Um93c1tpZHhdW3JlbGF0aW9uLl90aGlzQ29sdW1uXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBubyB1cGRhdGUgbmVlZGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25Eb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVsYXRpb24uX3RoaXNUeXBlID09PSBcImFycmF5XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkZElkcyA9IChuZXdSb3dzW2lkeF1bcmVsYXRpb24uX3RoaXNDb2x1bW5dIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChvbGRSb3dzW2lkeF1bcmVsYXRpb24uX3RoaXNDb2x1bW5dIHx8IFtdKS5pbmRleE9mKHYpID09PSAtMTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZW1vdmVJZHMgPSAob2xkUm93c1tpZHhdW3JlbGF0aW9uLl90aGlzQ29sdW1uXSB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uICh2KSB7IHJldHVybiAobmV3Um93c1tpZHhdW3JlbGF0aW9uLl90aGlzQ29sdW1uXSB8fCBbXSkuaW5kZXhPZih2KSA9PT0gLTE7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKFthZGRJZHMsIHJlbW92ZUlkc10sIGZ1bmN0aW9uIChsaXN0LCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdXBkYXRlT1JNUm93cyhyZWxhdGlvbiwgbGlzdCwgaSA9PT0gMCwgcHJpbWFyeUtleV8xLCBkb25lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihyZWxhdGlvbkRvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkZFJlbGF0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIG5ldyByZWxhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Jvd3NbaWR4XVtyZWxhdGlvbi5fdGhpc0NvbHVtbl0gIT09IG51bGwgJiYgbmV3Um93c1tpZHhdW3JlbGF0aW9uLl90aGlzQ29sdW1uXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3VwZGF0ZU9STVJvd3MocmVsYXRpb24sIFtuZXdSb3dzW2lkeF1bcmVsYXRpb24uX3RoaXNDb2x1bW5dXSwgdHJ1ZSwgcHJpbWFyeUtleV8xLCByZWxhdGlvbkRvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm8gbmV3IHJlbGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25Eb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBvbGQgY29ubmVjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkUm93c1tpZHhdW3JlbGF0aW9uLl90aGlzQ29sdW1uXSAhPT0gbnVsbCAmJiBvbGRSb3dzW2lkeF1bcmVsYXRpb24uX3RoaXNDb2x1bW5dICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl91cGRhdGVPUk1Sb3dzKHJlbGF0aW9uLCBbb2xkUm93c1tpZHhdW3JlbGF0aW9uLl90aGlzQ29sdW1uXV0sIGZhbHNlLCBwcmltYXJ5S2V5XzEsIGFkZFJlbGF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vIG9sZCBjb25uZWN0aW9uLCBqdXN0IGFkZCB0aGUgbmV3IG9uZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUmVsYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gbmV3IHJlbGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVzVG9BZGQgPSByZWxhdGlvbi5fdGhpc1R5cGUgPT09IFwiYXJyYXlcIiA/IChuZXdSb3dzW2lkeF1bcmVsYXRpb24uX3RoaXNDb2x1bW5dIHx8IFtdKSA6IChbbmV3Um93c1tpZHhdW3JlbGF0aW9uLl90aGlzQ29sdW1uXV0uZmlsdGVyKGZ1bmN0aW9uICh2KSB7IHJldHVybiB2OyB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVzVG9BZGQgJiYgdmFsdWVzVG9BZGQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3VwZGF0ZU9STVJvd3MocmVsYXRpb24sIHZhbHVlc1RvQWRkLCB0cnVlLCBwcmltYXJ5S2V5XzEsIHJlbGF0aW9uRG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxhdGlvbkRvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkudGhlbihyb3dEb25lKTtcclxuICAgICAgICB9KS50aGVuKGNvbXBsZXRlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEZvciBlYWNoIHVwZGF0ZWQgcm93LCB1cGRhdGUgdmlldyBjb2x1bW5zIGZyb20gcmVtb3RlIHJlY29yZHMgdGhhdCBhcmUgcmVsYXRlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQHBhcmFtIHthbnlbXX0gcm93c1xyXG4gICAgICogQHBhcmFtIHsoKSA9PiB2b2lkfSBjb21wbGV0ZVxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFN0b3JhZ2VRdWVyeVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFN0b3JhZ2VRdWVyeS5wcm90b3R5cGUuX3VwZGF0ZVJvd1ZpZXdzID0gZnVuY3Rpb24gKG5ld1Jvd0RhdGEsIGV4aXN0aW5nUm93LCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9zdG9yZS5faGFzVmlld3MpIHtcclxuICAgICAgICAgICAgY29tcGxldGUobmV3Um93RGF0YSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gbm90aGluZyB0byB1cGRhdGVcclxuICAgICAgICBpZiAobmV3Um93RGF0YSA9PT0gbnVsbCB8fCBuZXdSb3dEYXRhID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29tcGxldGUobmV3Um93RGF0YSB8fCB7fSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChPYmplY3Qua2V5cyh0aGlzLl9zdG9yZS50YWJsZUluZm9bdGhpcy5fcXVlcnkudGFibGVdLl92aWV3cyksIGZ1bmN0aW9uICh0YWJsZSwgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICB2YXIgcGsgPSBfdGhpcy5fc3RvcmUudGFibGVJbmZvW190aGlzLl9xdWVyeS50YWJsZV0uX3ZpZXdzW3RhYmxlXS5wa0NvbHVtbjtcclxuICAgICAgICAgICAgLy8gcmVmZXJlbmNlL3BrIGNvbHVtbiBpc24ndCBiZWluZyB1cGRhdGVkLlxyXG4gICAgICAgICAgICBpZiAobmV3Um93RGF0YVtwa10gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIG5vIGNoYW5nZXMgaW4gcmVmZXJlbmNlLCBza2lwIHF1ZXJ5IGFuZCB1cGF0ZVxyXG4gICAgICAgICAgICBpZiAobmV3Um93RGF0YVtwa10gPT09IGV4aXN0aW5nUm93W3BrXSkge1xyXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSByZWZlcmVuY2VcclxuICAgICAgICAgICAgaWYgKG5ld1Jvd0RhdGFbcGtdID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fc3RvcmUudGFibGVJbmZvW190aGlzLl9xdWVyeS50YWJsZV0uX3ZpZXdzW3RhYmxlXS5jb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1Jvd0RhdGFbY29sLnRoaXNDb2x1bW5dID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGdldCByZWZlcmVuY2UgcmVjb3JkIGFuZCBjb3B5IGV2ZXJ5dGhpbmcgb3ZlclxyXG4gICAgICAgICAgICBfdGhpcy5fc3RvcmUuX3JlYWQodGFibGUsIFtuZXdSb3dEYXRhW3BrXV0sIGZ1bmN0aW9uIChyZWZSb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyByZWNvcmQgZG9lc24ndCBleGlzdFxyXG4gICAgICAgICAgICAgICAgaWYgKCFyZWZSb3dzLmxlbmd0aCAmJiBfdGhpcy5fc3RvcmUudGFibGVJbmZvW190aGlzLl9xdWVyeS50YWJsZV0uX3ZpZXdzW3RhYmxlXS5tb2RlID09PSBcIkxJVkVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9zdG9yZS50YWJsZUluZm9bX3RoaXMuX3F1ZXJ5LnRhYmxlXS5fdmlld3NbdGFibGVdLmNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Jvd0RhdGFbY29sLnRoaXNDb2x1bW5dID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gcmVjb3JkIGV4aXN0cywgY29weSBvdmVyIGRhdGFcclxuICAgICAgICAgICAgICAgIF90aGlzLl9zdG9yZS50YWJsZUluZm9bX3RoaXMuX3F1ZXJ5LnRhYmxlXS5fdmlld3NbdGFibGVdLmNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Um93RGF0YVtjb2wudGhpc0NvbHVtbl0gPSByZWZSb3dzWzBdW2NvbC5vdGhlckNvbHVtbl07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKG5ld1Jvd0RhdGEpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR28gdG8gdGFibGVzIHRoYXQgaGF2ZSB2aWV3cyBwb2ludGluZyB0byB0aGlzIG9uZSwgYW5kIHVwZGF0ZSB0aGVpciByZWNvcmRzLlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcGFyYW0ge2FueVtdfSB1cGRhdGVkUm93c1xyXG4gICAgICogQHBhcmFtIHsoKSA9PiB2b2lkfSBjb21wbGV0ZVxyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMU3RvcmFnZVF1ZXJ5XHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZVF1ZXJ5LnByb3RvdHlwZS5fdXBkYXRlUmVtb3RlVmlld3MgPSBmdW5jdGlvbiAodXBkYXRlZFJvd3MsIGRvRGVsLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHBrID0gdGhpcy5fc3RvcmUudGFibGVJbmZvW3RoaXMuX3F1ZXJ5LnRhYmxlXS5fcGs7XHJcbiAgICAgICAgLy8gZm9yIGV2ZXJ5IHVwZGF0ZWQgcm93XHJcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTCh1cGRhdGVkUm93cywgZnVuY3Rpb24gKHJvdywgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICAvLyBzY2FuIGFsbCByZWxhdGVkIHRhYmxlcyBmb3IgcmVjb3JkcyBhdHRhY2hlZFxyXG4gICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKF90aGlzLl9zdG9yZS50YWJsZUluZm9bX3RoaXMuX3F1ZXJ5LnRhYmxlXS5fdmlld1RhYmxlcywgZnVuY3Rpb24gKHZpZXcsIGksIHJvd0RvbmUpIHtcclxuICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSB3aXRoIGVjaG8gbW9kZSwgc2tpcCByZW1vdmluZyByZWNvcmRzXHJcbiAgICAgICAgICAgICAgICBpZiAoZG9EZWwgJiYgX3RoaXMuX3N0b3JlLnRhYmxlSW5mb1t2aWV3LnRhYmxlXS5fdmlld3NbX3RoaXMuX3F1ZXJ5LnRhYmxlXS5tb2RlID09PSBcIkdIT1NUXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICByb3dEb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3N0b3JlLl9zZWNvbmRhcnlJbmRleFJlYWQodmlldy50YWJsZSwgdmlldy5jb2x1bW4sIHJvd1twa10sIGZ1bmN0aW9uIChyZWxhdGVkUm93cykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdGhpbmcgdG8gdXBkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWxhdGVkUm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93RG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2x1bW5zID0gX3RoaXMuX3N0b3JlLnRhYmxlSW5mb1t2aWV3LnRhYmxlXS5fdmlld3NbX3RoaXMuX3F1ZXJ5LnRhYmxlXS5jb2x1bW5zO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZWxQSyA9IF90aGlzLl9zdG9yZS50YWJsZUluZm9bdmlldy50YWJsZV0uX3ZpZXdzW190aGlzLl9xdWVyeS50YWJsZV0ucGtDb2x1bW47XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSByZWNvcmRzXHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChyZWxhdGVkUm93cywgZnVuY3Rpb24gKHJSb3csIGosIHJEb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gY29sdW1ucy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb1VwZGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9EZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fc3RvcmUudGFibGVJbmZvW3ZpZXcudGFibGVdLl92aWV3c1tfdGhpcy5fcXVlcnkudGFibGVdLm1vZGUgPT09IFwiTElWRVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9VcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJSb3dbcmVsUEtdID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJSb3dbY29sdW1uc1tpXS5vdGhlckNvbHVtbl0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoclJvd1tjb2x1bW5zW2ldLm90aGVyQ29sdW1uXSAhPT0gcm93W2NvbHVtbnNbaV0udGhpc0NvbHVtbl0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgclJvd1tjb2x1bW5zW2ldLm90aGVyQ29sdW1uXSA9IHJvd1tjb2x1bW5zW2ldLnRoaXNDb2x1bW5dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZG9VcGRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJEb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJQayA9IF90aGlzLl9zdG9yZS50YWJsZUluZm9bdmlldy50YWJsZV0uX3BrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc3RvcmUuYWRhcHRlcldyaXRlKHZpZXcudGFibGUsIHJSb3dbclBrXSwgclJvdywgckRvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4ocm93RG9uZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSkudGhlbihkb25lKTtcclxuICAgICAgICB9KS50aGVuKGNvbXBsZXRlKTtcclxuICAgIH07XHJcbiAgICBfTmFub1NRTFN0b3JhZ2VRdWVyeS5wcm90b3R5cGUuX2RvQWZ0ZXJRdWVyeSA9IGZ1bmN0aW9uIChuZXdSb3dzLCBkb0RlbCwgbmV4dCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgLy8gbm8gdmlld3MgYXQgYWxsIE9SIHRoaXMgdGFibGUgZG9lc24ndCBoYXZlIGFueSB2aWV3cyBwb2ludGluZyB0byBpdC5cclxuICAgICAgICBpZiAoIXRoaXMuX3N0b3JlLl9oYXNWaWV3cyB8fCAhdGhpcy5fc3RvcmUudGFibGVJbmZvW3RoaXMuX3F1ZXJ5LnRhYmxlXS5fdmlld1RhYmxlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbmV4dCh0aGlzLl9xdWVyeSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlUmVtb3RlVmlld3MobmV3Um93cywgZG9EZWwsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbmV4dChfdGhpcy5fcXVlcnkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlsaXplIGFuIFVQU0VSVCBxdWVyeS5cclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7KHE6IElkYlF1ZXJ5KSA9PiB2b2lkfSBuZXh0XHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMU3RvcmFnZVF1ZXJ5XHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZVF1ZXJ5LnByb3RvdHlwZS5fdXBzZXJ0ID0gZnVuY3Rpb24gKG5leHQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBwayA9IHRoaXMuX3N0b3JlLnRhYmxlSW5mb1t0aGlzLl9xdWVyeS50YWJsZV0uX3BrO1xyXG4gICAgICAgIGlmICh0aGlzLl9pc0luc3RhbmNlVGFibGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fZ2V0Um93cyhmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3F1ZXJ5LnJlc3VsdCA9IF90aGlzLl9xdWVyeS50YWJsZS5tYXAoZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocm93cy5pbmRleE9mKHIpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBfdGhpcy5fcXVlcnkuYWN0aW9uQXJncywgcik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIG5leHQoX3RoaXMuX3F1ZXJ5KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX3F1ZXJ5LndoZXJlKSB7IC8vIGhhcyB3aGVyZSBzdGF0ZW1lbnQsIHNlbGVjdCByb3dzIHRoZW4gbW9kaWZ5IHRoZW1cclxuICAgICAgICAgICAgdGhpcy5fZ2V0Um93cyhmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdENIQUlOKHJvd3MsIGZ1bmN0aW9uIChyLCBpLCByb3dEb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl91cGRhdGVSb3dWaWV3cyhfdGhpcy5fcXVlcnkuYWN0aW9uQXJncyB8fCB7fSwgciwgZnVuY3Rpb24gKHVwZGF0ZWRDb2x1bW5zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc3RvcmUuX3dyaXRlKF90aGlzLl9xdWVyeS50YWJsZSwgcltwa10sIHIsIHVwZGF0ZWRDb2x1bW5zLCByb3dEb25lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAobmV3Um93cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbnkgY2hhbmdlcyB0byB0aGlzIHRhYmxlIGludmFsaWRhdGVzIHRoZSBjYWNoZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGtzID0gbmV3Um93cy5tYXAoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHJbcGtdOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3N0b3JlLl9pbnZhbGlkYXRlQ2FjaGUoX3RoaXMuX3F1ZXJ5LnRhYmxlLCBwa3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcXVlcnkucmVzdWx0ID0gW3sgbXNnOiBuZXdSb3dzLmxlbmd0aCArIFwiIHJvdyhzKSBtb2RmaWVkLlwiLCBhZmZlY3RlZFJvd1BLUzogcGtzLCBhZmZlY3RlZFJvd3M6IG5ld1Jvd3MgfV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zeW5jT1JNKFwiYWRkXCIsIHJvd3MsIG5ld1Jvd3MsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9kb0FmdGVyUXVlcnkobmV3Um93cywgZmFsc2UsIG5leHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9xdWVyeS5yZXN1bHQgPSBbeyBtc2c6IFwiMCByb3cocykgbW9kZmllZC5cIiwgYWZmZWN0ZWRSb3dQS1M6IFtdLCBhZmZlY3RlZFJvd3M6IFtdIH1dO1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQoX3RoaXMuX3F1ZXJ5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgeyAvLyBubyB3aGVyZSBzdGF0ZW1lbnQsIHBlcmZvcm0gZGlyZWN0IHVwc2VydFxyXG4gICAgICAgICAgICB2YXIgcm93XzEgPSB0aGlzLl9xdWVyeS5hY3Rpb25BcmdzIHx8IHt9O1xyXG4gICAgICAgICAgICB0aGlzLl9zdG9yZS5fY2FjaGVbdGhpcy5fcXVlcnkudGFibGVdID0ge307XHJcbiAgICAgICAgICAgIHZhciB3cml0ZV8xID0gZnVuY3Rpb24gKG9sZFJvdykge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3VwZGF0ZVJvd1ZpZXdzKHJvd18xLCBvbGRSb3csIGZ1bmN0aW9uICh1cGRhdGVkQ29sdW1ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9zdG9yZS5fd3JpdGUoX3RoaXMuX3F1ZXJ5LnRhYmxlLCByb3dfMVtwa10sIG9sZFJvdywgdXBkYXRlZENvbHVtbnMsIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3F1ZXJ5LnJlc3VsdCA9IFt7IG1zZzogXCIxIHJvdyBpbnNlcnRlZC5cIiwgYWZmZWN0ZWRSb3dQS1M6IFtyZXN1bHRbcGtdXSwgYWZmZWN0ZWRSb3dzOiBbcmVzdWx0XSB9XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl9zdG9yZS5faGFzT1JNKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc3luY09STShcImFkZFwiLCBbb2xkUm93XS5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHI7IH0pLCBbcmVzdWx0XSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9kb0FmdGVyUXVlcnkoW3Jlc3VsdF0sIGZhbHNlLCBuZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2RvQWZ0ZXJRdWVyeShbcmVzdWx0XSwgZmFsc2UsIG5leHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKHJvd18xW3BrXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zdG9yZS5fcmVhZCh0aGlzLl9xdWVyeS50YWJsZSwgW3Jvd18xW3BrXV0sIGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlXzEocm93c1swXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZV8xKG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgd3JpdGVfMShudWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEluaXRpbGl6ZSBhIERFTEVURSBxdWVyeS5cclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7KHE6IElkYlF1ZXJ5KSA9PiB2b2lkfSBuZXh0XHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMU3RvcmFnZVF1ZXJ5XHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZVF1ZXJ5LnByb3RvdHlwZS5fZGVsZXRlID0gZnVuY3Rpb24gKG5leHQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLl9pc0luc3RhbmNlVGFibGUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3F1ZXJ5LndoZXJlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9nZXRSb3dzKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3F1ZXJ5LnJlc3VsdCA9IF90aGlzLl9xdWVyeS50YWJsZS5maWx0ZXIoZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm93cy5pbmRleE9mKHJvdykgPT09IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQoX3RoaXMuX3F1ZXJ5KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcXVlcnkucmVzdWx0ID0gW107XHJcbiAgICAgICAgICAgICAgICBuZXh0KHRoaXMuX3F1ZXJ5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9xdWVyeS53aGVyZSkgeyAvLyBoYXMgd2hlcmUgc3RhdGVtZW50LCBzZWxlY3Qgcm93cyB0aGVuIGRlbGV0ZSB0aGVtXHJcbiAgICAgICAgICAgIHRoaXMuX2dldFJvd3MoZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgIHJvd3MgPSByb3dzLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gcjsgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHJvd3MsIGZ1bmN0aW9uIChyLCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zdG9yZS5fZGVsZXRlKF90aGlzLl9xdWVyeS50YWJsZSwgcltfdGhpcy5fc3RvcmUudGFibGVJbmZvW190aGlzLl9xdWVyeS50YWJsZV0uX3BrXSwgZG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoYWZmZWN0ZWRSb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFueSBjaGFuZ2VzIHRvIHRoaXMgdGFibGUgaW52YWxpZGF0ZSB0aGUgY2FjaGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3N0b3JlLl9jYWNoZVtfdGhpcy5fcXVlcnkudGFibGVdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwa3MgPSByb3dzLm1hcChmdW5jdGlvbiAocikgeyByZXR1cm4gcltfdGhpcy5fc3RvcmUudGFibGVJbmZvW190aGlzLl9xdWVyeS50YWJsZV0uX3BrXTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zdG9yZS5faW52YWxpZGF0ZUNhY2hlKF90aGlzLl9xdWVyeS50YWJsZSwgcGtzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3F1ZXJ5LnJlc3VsdCA9IFt7IG1zZzogcm93cy5sZW5ndGggKyBcIiByb3cocykgZGVsZXRlZC5cIiwgYWZmZWN0ZWRSb3dQS1M6IHBrcywgYWZmZWN0ZWRSb3dzOiByb3dzIH1dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc3luY09STShcImRlbFwiLCByb3dzLCBbXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2RvQWZ0ZXJRdWVyeShyb3dzLCB0cnVlLCBuZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcXVlcnkucmVzdWx0ID0gW3sgbXNnOiBcIjAgcm93KHMpIGRlbGV0ZWQuXCIsIGFmZmVjdGVkUm93UEtTOiBbXSwgYWZmZWN0ZWRSb3dzOiBbXSB9XTtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0KF90aGlzLl9xdWVyeSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHsgLy8gbm8gd2hlcmUgc3RhdGVtZW50LCBwZXJmb3JtIGRyb3BcclxuICAgICAgICAgICAgdGhpcy5fZHJvcChuZXh0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWxpemUgYSBEUk9QIHF1ZXJ5LlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHsocTogSWRiUXVlcnkpID0+IHZvaWR9IG5leHRcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxTdG9yYWdlUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxTdG9yYWdlUXVlcnkucHJvdG90eXBlLl9kcm9wID0gZnVuY3Rpb24gKG5leHQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLl9pc0luc3RhbmNlVGFibGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fcXVlcnkucmVzdWx0ID0gW107XHJcbiAgICAgICAgICAgIG5leHQodGhpcy5fcXVlcnkpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3N0b3JlLl9yYW5nZVJlYWQodGhpcy5fcXVlcnkudGFibGUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmYWxzZSwgZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgX3RoaXMuX3N0b3JlLl9jYWNoZVtfdGhpcy5fcXVlcnkudGFibGVdID0ge307XHJcbiAgICAgICAgICAgIF90aGlzLl9zdG9yZS5fY2FjaGVLZXlzW190aGlzLl9xdWVyeS50YWJsZV0gPSB7fTtcclxuICAgICAgICAgICAgX3RoaXMuX3N0b3JlLl9kcm9wKF90aGlzLl9xdWVyeS50YWJsZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3F1ZXJ5LnJlc3VsdCA9IFt7IG1zZzogXCInXCIgKyBfdGhpcy5fcXVlcnkudGFibGUgKyBcIicgdGFibGUgZHJvcHBlZC5cIiwgYWZmZWN0ZWRSb3dQS1M6IHJvd3MubWFwKGZ1bmN0aW9uIChyKSB7IHJldHVybiByW190aGlzLl9zdG9yZS50YWJsZUluZm9bX3RoaXMuX3F1ZXJ5LnRhYmxlXS5fcGtdOyB9KSwgYWZmZWN0ZWRSb3dzOiByb3dzIH1dO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3N5bmNPUk0oXCJkZWxcIiwgcm93cywgW10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZG9BZnRlclF1ZXJ5KHJvd3MsIHRydWUsIG5leHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfTmFub1NRTFN0b3JhZ2VRdWVyeTtcclxufSgpKTtcclxuZXhwb3J0cy5fTmFub1NRTFN0b3JhZ2VRdWVyeSA9IF9OYW5vU1FMU3RvcmFnZVF1ZXJ5O1xyXG4vKipcclxuICogVGFrZXMgYSBzZWxlY3Rpb24gb2Ygcm93cyBhbmQgYXBwbHlzIG1vZGlmaWVycyBsaWtlIG9yZGVyQnksIGpvaW4gYW5kIG90aGVycyB0byB0aGUgcm93cy5cclxuICogUmV0dXJucyB0aGUgYWZmZWN0ZWQgcm93cyB1cGRhdGVkIGluIHRoZSB3YXkgdGhlIHF1ZXJ5IHNwZWNpZmllZC5cclxuICpcclxuICogQGV4cG9ydFxyXG4gKiBAY2xhc3MgTXV0YXRlU2VsZWN0aW9uXHJcbiAqL1xyXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcclxudmFyIF9NdXRhdGVTZWxlY3Rpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBfTXV0YXRlU2VsZWN0aW9uKHEsIHMpIHtcclxuICAgICAgICB0aGlzLnEgPSBxO1xyXG4gICAgICAgIHRoaXMucyA9IHM7XHJcbiAgICAgICAgdGhpcy5fZ3JvdXBCeUNvbHVtbnMgPSBbXTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUGVmb3JtIGEgam9pbiBjb21tYW5kLlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHtEQlJvd1tdfSByb3dzXHJcbiAgICAgKiBAcGFyYW0geyhyb3dzOiBEQlJvd1tdKSA9PiB2b2lkfSBjb21wbGV0ZVxyXG4gICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgKiBAbWVtYmVyb2YgX011dGF0ZVNlbGVjdGlvblxyXG4gICAgICovXHJcbiAgICBfTXV0YXRlU2VsZWN0aW9uLnByb3RvdHlwZS5fam9pbiA9IGZ1bmN0aW9uIChyb3dzLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKCF0aGlzLnEuam9pbikge1xyXG4gICAgICAgICAgICBjb21wbGV0ZShyb3dzKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgam9pbkNvbmRpdGlvbnMgPSB7fTtcclxuICAgICAgICBpZiAodGhpcy5xLmpvaW4udHlwZSAhPT0gXCJjcm9zc1wiICYmIHRoaXMucS5qb2luLndoZXJlKSB7XHJcbiAgICAgICAgICAgIGpvaW5Db25kaXRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgX2xlZnQ6IHRoaXMucS5qb2luLndoZXJlWzBdLFxyXG4gICAgICAgICAgICAgICAgX2NoZWNrOiB0aGlzLnEuam9pbi53aGVyZVsxXSxcclxuICAgICAgICAgICAgICAgIF9yaWdodDogdGhpcy5xLmpvaW4ud2hlcmVbMl1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGxlZnRUYWJsZSA9IHRoaXMucS50YWJsZTtcclxuICAgICAgICB2YXIgcmlnaHRUYWJsZSA9IHRoaXMucS5qb2luLnRhYmxlO1xyXG4gICAgICAgIHRoaXMuX2RvSm9pbih0aGlzLnEuam9pbi50eXBlLCBsZWZ0VGFibGUsIHJpZ2h0VGFibGUsIGpvaW5Db25kaXRpb25zLCBmdW5jdGlvbiAoam9pbmVkUm93cykge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMucS53aGVyZSkgeyAvLyBhcHBseSB3aGVyZSBzdGF0ZW1lbnQgdG8gam9pblxyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoam9pbmVkUm93cy5maWx0ZXIoZnVuY3Rpb24gKHJvdywgaWR4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoX3RoaXMucS53aGVyZSkgPyBfd2hlcmUocm93LCBfdGhpcy5xLndoZXJlIHx8IFtdLCBpZHgsIHRydWUpIDogX3RoaXMucS53aGVyZShyb3csIGlkeCk7XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoX3RoaXMucS5yYW5nZSkgeyAvLyBhcHBseSByYW5nZSBzdGF0ZW1lbnQgdG8gam9pblxyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoam9pbmVkUm93cy5maWx0ZXIoZnVuY3Rpb24gKHJvdywgaWR4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnEucmFuZ2UgJiYgX3RoaXMucS5yYW5nZVswXSA+PSBpZHggJiYgX3RoaXMucS5yYW5nZVsxXSA8PSBpZHg7XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7IC8vIHNlbmQgdGhlIHdob2xlIHJlc3VsdFxyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoam9pbmVkUm93cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlIGEgdW5pcXVlIGdyb3VwIGJ5IGtleSBnaXZlbiBhIGdyb3VwIGJ5IG9iamVjdCBhbmQgYSByb3cuXHJcbiAgICAgKlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBjb2x1bW5zXHJcbiAgICAgKiBAcGFyYW0geyp9IHJvd1xyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqIEBtZW1iZXJvZiBfTXV0YXRlU2VsZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIF9NdXRhdGVTZWxlY3Rpb24ucHJvdG90eXBlLl9ncm91cEJ5S2V5ID0gZnVuY3Rpb24gKGNvbHVtbnMsIHJvdykge1xyXG4gICAgICAgIHJldHVybiBjb2x1bW5zLnJlZHVjZShmdW5jdGlvbiAocCwgYykge1xyXG4gICAgICAgICAgICAvLyBoYW5kbGUgXCIubGVuZ3RoXCJcclxuICAgICAgICAgICAgaWYgKGMuaW5kZXhPZihcIi5sZW5ndGhcIikgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcCArIFwiLlwiICsgU3RyaW5nKChyb3dbYy5yZXBsYWNlKFwiLmxlbmd0aFwiLCBcIlwiKV0gfHwgW10pLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcCArIFwiLlwiICsgU3RyaW5nKHJvd1tjXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBcIlwiKS5zbGljZSgxKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFBlcmZvcm0gdGhlIEdyb3VwIEJ5IG11dGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHtEQlJvd1tdfSByb3dzXHJcbiAgICAgKiBAcmV0dXJucyB7YW55W119XHJcbiAgICAgKiBAbWVtYmVyb2YgX011dGF0ZVNlbGVjdGlvblxyXG4gICAgICovXHJcbiAgICBfTXV0YXRlU2VsZWN0aW9uLnByb3RvdHlwZS5fZ3JvdXBCeSA9IGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgY29sdW1ucyA9IHRoaXMucS5ncm91cEJ5IHx8IHt9O1xyXG4gICAgICAgIHZhciBzb3J0ZWRSb3dzID0gcm93cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5fc29ydE9iaihhLCBiLCBjb2x1bW5zLCB0cnVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzb3J0ZWRSb3dzLmZvckVhY2goZnVuY3Rpb24gKHZhbCwgaWR4KSB7XHJcbiAgICAgICAgICAgIHZhciBncm91cEJ5S2V5ID0gT2JqZWN0LmtleXMoY29sdW1ucykubWFwKGZ1bmN0aW9uIChrKSB7IHJldHVybiBTdHJpbmcodmFsW2tdKSB8fCBcIlwiOyB9KS5qb2luKFwiLlwiKTtcclxuICAgICAgICAgICAgaWYgKCFfdGhpcy5fc29ydEdyb3Vwcykge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3NvcnRHcm91cHMgPSB7fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIV90aGlzLl9zb3J0R3JvdXBzW2dyb3VwQnlLZXldKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fc29ydEdyb3Vwc1tncm91cEJ5S2V5XSA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLl9zb3J0R3JvdXBzW2dyb3VwQnlLZXldLnB1c2goaWR4KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gc29ydGVkUm93cztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFBlcmZvcm0gSEFWSU5HIG11dGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHtEQlJvd1tdfSByb3dzXHJcbiAgICAgKiBAcmV0dXJucyB7YW55W119XHJcbiAgICAgKiBAbWVtYmVyb2YgX011dGF0ZVNlbGVjdGlvblxyXG4gICAgICovXHJcbiAgICBfTXV0YXRlU2VsZWN0aW9uLnByb3RvdHlwZS5faGF2aW5nID0gZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiByb3dzLmZpbHRlcihmdW5jdGlvbiAocm93LCBpZHgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoX3RoaXMucS5oYXZpbmcpID8gX3doZXJlKHJvdywgX3RoaXMucS5oYXZpbmcgfHwgW10sIGlkeCwgdHJ1ZSkgOiBfdGhpcy5xLmhhdmluZyhyb3csIGlkeCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJmb3JtIHRoZSBvcmRlckJ5IG11dGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHtEQlJvd1tdfSByb3dzXHJcbiAgICAgKiBAcmV0dXJucyB7YW55W119XHJcbiAgICAgKiBAbWVtYmVyb2YgX011dGF0ZVNlbGVjdGlvblxyXG4gICAgICovXHJcbiAgICBfTXV0YXRlU2VsZWN0aW9uLnByb3RvdHlwZS5fb3JkZXJCeSA9IGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gcm93cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5fc29ydE9iaihhLCBiLCBfdGhpcy5xLm9yZGVyQnkgfHwge30sIGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFBlcmZvcm0gdGhlIE9mZnNldCBtdXRhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7REJSb3dbXX0gcm93c1xyXG4gICAgICogQHJldHVybnMge2FueVtdfVxyXG4gICAgICogQG1lbWJlcm9mIF9NdXRhdGVTZWxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgX011dGF0ZVNlbGVjdGlvbi5wcm90b3R5cGUuX29mZnNldCA9IGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gcm93cy5maWx0ZXIoZnVuY3Rpb24gKHJvdywgaW5kZXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnEub2Zmc2V0ID8gaW5kZXggPj0gX3RoaXMucS5vZmZzZXQgOiB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUGVyZm9ybSB0aGUgbGltaXQgbXV0YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKiBAcGFyYW0ge0RCUm93W119IHJvd3NcclxuICAgICAqIEByZXR1cm5zIHthbnlbXX1cclxuICAgICAqIEBtZW1iZXJvZiBfTXV0YXRlU2VsZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIF9NdXRhdGVTZWxlY3Rpb24ucHJvdG90eXBlLl9saW1pdCA9IGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gcm93cy5maWx0ZXIoZnVuY3Rpb24gKHJvdywgaW5kZXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnEubGltaXQgPyBpbmRleCA8IF90aGlzLnEubGltaXQgOiB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQWRkIE9STSB2YWx1ZXMgdG8gcm93cyBiYXNlZCBvbiBxdWVyeS5cclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7REJSb3dbXX0gcm93c1xyXG4gICAgICogQHBhcmFtIHsocm93czogREJSb3dbXSkgPT4gdm9pZH0gY29tcGxldGVcclxuICAgICAqIEBtZW1iZXJvZiBfTXV0YXRlU2VsZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIF9NdXRhdGVTZWxlY3Rpb24ucHJvdG90eXBlLl9vcm0gPSBmdW5jdGlvbiAocm93cywgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBvcm1RdWVyaWVzID0gdGhpcy5xLm9ybSA/IHRoaXMucS5vcm0ubWFwKGZ1bmN0aW9uIChvKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6IG8sXHJcbiAgICAgICAgICAgICAgICAgICAgbGltaXQ6IDVcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG87XHJcbiAgICAgICAgfSkgOiBbXTtcclxuICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHJvd3MsIGZ1bmN0aW9uIChyb3csIGksIHJvd1Jlc3VsdCkge1xyXG4gICAgICAgICAgICByb3cgPSBPYmplY3QuaXNGcm96ZW4ocm93KSA/IHV0aWxpdGllc18xLl9hc3NpZ24ocm93KSA6IHJvdztcclxuICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChvcm1RdWVyaWVzLCBmdW5jdGlvbiAob3JtLCBrLCBvcm1SZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmICghcm93W29ybS5rZXldIHx8ICFyb3dbb3JtLmtleV0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3JtUmVzdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHJlbGF0ZURhdGEgPSBfdGhpcy5zLl9jb2x1bW5zQXJlVGFibGVzW190aGlzLnEudGFibGVdW29ybS5rZXldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlbGF0ZURhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zLl9uc3FsLnF1ZXJ5KFwic2VsZWN0XCIpLndoZXJlKFtfdGhpcy5zLnRhYmxlSW5mb1tyZWxhdGVEYXRhLl90b1RhYmxlXS5fcGssIHJlbGF0ZURhdGEuX3RoaXNUeXBlID09PSBcImFycmF5XCIgPyBcIklOXCIgOiBcIj1cIiwgcm93W29ybS5rZXldXSkubWFudWFsRXhlYyh7IHRhYmxlOiByZWxhdGVEYXRhLl90b1RhYmxlIH0pLnRoZW4oZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHEgPSBpbmRleF8xLm5TUUwoKS5xdWVyeShcInNlbGVjdFwiLCBvcm0uc2VsZWN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9ybS53aGVyZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcS53aGVyZShvcm0ud2hlcmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcm0ubGltaXQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcS5saW1pdChvcm0ubGltaXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcm0ub2Zmc2V0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHEub2Zmc2V0KG9ybS5vZmZzZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcm0ub3JkZXJCeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcS5vcmRlckJ5KG9ybS5vcmRlckJ5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JtLmdyb3VwQnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHEuZ3JvdXBCeShvcm0uZ3JvdXBCeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcS5tYW51YWxFeGVjKHsgdGFibGU6IHJvd3MgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJvd3MuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByOyB9KS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dbb3JtLmtleV0gPSByZWxhdGVEYXRhLl90aGlzVHlwZSA9PT0gXCJhcnJheVwiID8gW10gOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dbb3JtLmtleV0gPSByZWxhdGVEYXRhLl90aGlzVHlwZSA9PT0gXCJhcnJheVwiID8gcmVzdWx0IDogcmVzdWx0WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JtUmVzdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3JtUmVzdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcm93UmVzdWx0KHJvdyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pLnRoZW4oY29tcGxldGUpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUGVyZm9ybXMgdGhlIGFjdHVhbCBKT0lOIG11dGF0aW9uLCBpbmNsdWRpbmcgdGhlIE9eMiBzZWxlY3QgcXVlcnkgdG8gY2hlY2sgYWxsIHJvd3MgYWdhaW5zdCBldmVyeSBvdGhlciByb3cuXHJcbiAgICAgKlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKiBAcGFyYW0geyhcImxlZnRcIiB8IFwiaW5uZXJcIiB8IFwicmlnaHRcIiB8IFwiY3Jvc3NcIiB8IFwib3V0ZXJcIil9IHR5cGVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsZWZ0VGFibGVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByaWdodFRhYmxlXHJcbiAgICAgKiBAcGFyYW0geyhudWxsIHwgeyBfbGVmdDogc3RyaW5nLCBfY2hlY2s6IHN0cmluZywgX3JpZ2h0OiBzdHJpbmcgfSl9IGpvaW5Db25kaXRpb25zXHJcbiAgICAgKiBAcGFyYW0geyhyb3dzOiBEQlJvd1tdKSA9PiB2b2lkfSBjb21wbGV0ZVxyXG4gICAgICogQG1lbWJlcm9mIF9NdXRhdGVTZWxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgX011dGF0ZVNlbGVjdGlvbi5wcm90b3R5cGUuX2RvSm9pbiA9IGZ1bmN0aW9uICh0eXBlLCBsZWZ0VGFibGUsIHJpZ2h0VGFibGUsIGpvaW5Db25kaXRpb25zLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBMID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgdmFyIFIgPSBcInJpZ2h0XCI7XHJcbiAgICAgICAgdmFyIE8gPSBcIm91dGVyXCI7XHJcbiAgICAgICAgdmFyIEMgPSBcImNyb3NzXCI7XHJcbiAgICAgICAgdmFyIHQgPSB0aGlzO1xyXG4gICAgICAgIHZhciBmaXJzdFRhYmxlRGF0YSA9IHQucy50YWJsZUluZm9bdHlwZSA9PT0gUiA/IHJpZ2h0VGFibGUgOiBsZWZ0VGFibGVdO1xyXG4gICAgICAgIHZhciBzZWNvblRhYmxlRGF0YSA9IHQucy50YWJsZUluZm9bdHlwZSA9PT0gUiA/IGxlZnRUYWJsZSA6IHJpZ2h0VGFibGVdO1xyXG4gICAgICAgIHZhciBkb0pvaW5Sb3dzID0gZnVuY3Rpb24gKGxlZnRSb3csIHJpZ2h0Um93KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbZmlyc3RUYWJsZURhdGEsIHNlY29uVGFibGVEYXRhXS5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGN1ciwgaSkge1xyXG4gICAgICAgICAgICAgICAgY3VyLl9rZXlzLmZvckVhY2goZnVuY3Rpb24gKGspIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2W2N1ci5fbmFtZSArIFwiLlwiICsga10gPSAoKGkgPT09IDAgPyBsZWZ0Um93IDogcmlnaHRSb3cpIHx8IHt9KVtrXTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgICAgIH0sIHt9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBqb2luVGFibGUgPSBbXTtcclxuICAgICAgICB2YXIgcmlnaHRLZXkgPSBqb2luQ29uZGl0aW9ucyAmJiBqb2luQ29uZGl0aW9ucy5fcmlnaHQgPyBqb2luQ29uZGl0aW9ucy5fcmlnaHQuc3BsaXQoXCIuXCIpLnBvcCgpIHx8IFwiXCIgOiBcIlwiO1xyXG4gICAgICAgIHZhciB1c2VkU2Vjb25kVGFibGVSb3dzID0ge307XHJcbiAgICAgICAgdmFyIHNlY29uZFJvd0NhY2hlID0gW107XHJcbiAgICAgICAgLy8gT14yLCBZQVkhXHJcbiAgICAgICAgdC5zLl9yZWFkKGZpcnN0VGFibGVEYXRhLl9uYW1lLCBmdW5jdGlvbiAoZmlyc3RSb3csIGlkeCwga2VlcCkge1xyXG4gICAgICAgICAgICB2YXIgaGFzT25lUmVsYXRpb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgdC5zLl9yZWFkKHNlY29uVGFibGVEYXRhLl9uYW1lLCBmdW5jdGlvbiAoc2Vjb25kUm93LCBpZHgyLCBrZWVwMikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFqb2luQ29uZGl0aW9ucyB8fCB0eXBlID09PSBDKSB7IC8vIG5vIGNvbmRpdGlvbmFsIHRvIGNoZWNrIE9SIGNyb3NzIGpvaW4sIGFsd2F5cyBhZGRcclxuICAgICAgICAgICAgICAgICAgICBqb2luVGFibGUucHVzaChkb0pvaW5Sb3dzKGZpcnN0Um93LCBzZWNvbmRSb3cpKTtcclxuICAgICAgICAgICAgICAgICAgICBoYXNPbmVSZWxhdGlvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHsgLy8gY2hlY2sgY29uZGl0aW9uYWwgc3RhdGVtZW50IHRvIHBvc3NpYmx5IGpvaW5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgd2lsbEpvaW5Sb3dzID0gX3doZXJlKChfYSA9IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYVtmaXJzdFRhYmxlRGF0YS5fbmFtZV0gPSBmaXJzdFJvdyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Fbc2Vjb25UYWJsZURhdGEuX25hbWVdID0gc2Vjb25kUm93LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYSksIFtqb2luQ29uZGl0aW9ucy5fbGVmdCwgam9pbkNvbmRpdGlvbnMuX2NoZWNrLCB0eXBlID09PSBSID8gZmlyc3RSb3dbcmlnaHRLZXldIDogc2Vjb25kUm93W3JpZ2h0S2V5XV0sIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3aWxsSm9pblJvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IE8pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VkU2Vjb25kVGFibGVSb3dzW2lkeDJdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgam9pblRhYmxlLnB1c2goZG9Kb2luUm93cyhmaXJzdFJvdywgc2Vjb25kUm93KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc09uZVJlbGF0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBPKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kUm93Q2FjaGVbaWR4Ml0gPSBzZWNvbmRSb3c7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAga2VlcDIoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBsZWZ0LCByaWdodCBvciBvdXRlciBqb2luIHdpbGwgY2F1c2Ugcm93cyB3aXRob3V0IGEgcmVsYXRpb24gdG8gYmUgYWRkZWQgYW55d2F5IHdpdGggbnVsbCByZWxhdGlvblxyXG4gICAgICAgICAgICAgICAgaWYgKCFoYXNPbmVSZWxhdGlvbiAmJiBbTCwgUiwgT10uaW5kZXhPZih0eXBlKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgam9pblRhYmxlLnB1c2goZG9Kb2luUm93cyhmaXJzdFJvdywgbnVsbCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAga2VlcChmYWxzZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gZnVsbCBvdXRlciBqb2luLCBhZGQgdGhlIHNlY29uZGFyeSByb3dzIHRoYXQgaGF2ZW4ndCBiZWVuIGFkZGVkIHlldFxyXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gTykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFkZFJvd3MgPSBzZWNvbmRSb3dDYWNoZS5maWx0ZXIoZnVuY3Rpb24gKHZhbCwgaSkgeyByZXR1cm4gIXVzZWRTZWNvbmRUYWJsZVJvd3NbaV07IH0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGkgPCBhZGRSb3dzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGpvaW5UYWJsZS5wdXNoKGRvSm9pblJvd3MobnVsbCwgYWRkUm93c1tpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKGpvaW5UYWJsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShqb2luVGFibGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIHNvcnQgZGlyZWN0aW9uIGZvciB0d28gb2JqZWN0cyBnaXZlbiB0aGUgb2JqZWN0cywgY29sdW1ucyBhbmQgcmVzb2x2ZSBwYXRocy5cclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7Kn0gb2JqQVxyXG4gICAgICogQHBhcmFtIHsqfSBvYmpCXHJcbiAgICAgKiBAcGFyYW0ge3sgW2tleTogc3RyaW5nXTogc3RyaW5nIH19IGNvbHVtbnNcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVzb2x2ZVBhdGhzXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gICAgICogQG1lbWJlcm9mIF9NdXRhdGVTZWxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgX011dGF0ZVNlbGVjdGlvbi5wcm90b3R5cGUuX3NvcnRPYmogPSBmdW5jdGlvbiAob2JqQSwgb2JqQiwgY29sdW1ucywgcmVzb2x2ZVBhdGhzKSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGNvbHVtbnMpLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VyKSB7XHJcbiAgICAgICAgICAgIHZhciBBID0gcmVzb2x2ZVBhdGhzID8gdXRpbGl0aWVzXzEub2JqUXVlcnkoY3VyLCBvYmpBKSA6IG9iakFbY3VyXTtcclxuICAgICAgICAgICAgdmFyIEIgPSByZXNvbHZlUGF0aHMgPyB1dGlsaXRpZXNfMS5vYmpRdWVyeShjdXIsIG9iakIpIDogb2JqQltjdXJdO1xyXG4gICAgICAgICAgICBpZiAoIXByZXYpIHtcclxuICAgICAgICAgICAgICAgIGlmIChBID09PSBCKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChBID4gQiA/IDEgOiAtMSkgKiAoY29sdW1uc1tjdXJdID09PSBcImRlc2NcIiA/IC0xIDogMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIDApO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQXBwbHkgQVMsIGZ1bmN0aW9ucyBhbmQgR3JvdXAgQnlcclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7REJSb3dbXX0gcm93c1xyXG4gICAgICogQHBhcmFtIHsocm93czogREJSb3dbXSkgPT4gdm9pZH0gY29tcGxldGVcclxuICAgICAqIEBtZW1iZXJvZiBfTXV0YXRlU2VsZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIF9NdXRhdGVTZWxlY3Rpb24ucHJvdG90eXBlLl9tdXRhdGVSb3dzID0gZnVuY3Rpb24gKHJvd3MsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgY29sdW1uU2VsZWN0aW9uID0gdGhpcy5xLmFjdGlvbkFyZ3M7XHJcbiAgICAgICAgdmFyIGZ1bmN0aW9uUmVzdWx0cyA9IHt9O1xyXG4gICAgICAgIHZhciBmbkdyb3VwQnlSZXN1bHRzID0ge307XHJcbiAgICAgICAgaWYgKGNvbHVtblNlbGVjdGlvbiAmJiBjb2x1bW5TZWxlY3Rpb24ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIC8vIHBvc3NpYmx5IGhhcyBmdW5jdGlvbnMsIEFTIHN0YXRlbWVudHNcclxuICAgICAgICAgICAgdmFyIGhhc0FnZ3JlZ2F0ZUZ1bl8xID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBjb2x1bW5EYXRhXzEgPSB7fTtcclxuICAgICAgICAgICAgY29sdW1uU2VsZWN0aW9uLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5pbmRleE9mKFwiKFwiKSA9PT0gLTEpIHsgLy8gbm8gZnVuY3Rpb25zXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGZuTmFtZSA9IChjb2x1bW4ubWF0Y2goL14uKlxcKC9nKSB8fCBbXCJcIl0pWzBdLnJlcGxhY2UoL1xcKHxcXCkvZywgXCJcIikudG9VcHBlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgIHZhciBmbiA9IGluZGV4XzEuTmFub1NRTEluc3RhbmNlLmZ1bmN0aW9uc1tmbk5hbWVdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGNvbHVtbi5zcGxpdChcIiBBUyBcIikubGVuZ3RoID09PSAxID8gZm5OYW1lIDogKGNvbHVtbi5zcGxpdChcIiBBUyBcIikucG9wKCkgfHwgXCJcIikudHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFmbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIidcIiArIGZuTmFtZSArIFwiJyBpcyBub3QgYSB2YWxpZCBmdW5jdGlvbiFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZm4udHlwZSA9PT0gXCJBXCIpIHsgLy8gYWdyZWdhdGUgZnVuY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICBoYXNBZ2dyZWdhdGVGdW5fMSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb2x1bW5EYXRhXzFbY29sdW1uXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBmbjogZm4sXHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiBrZXlcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKGNvbHVtblNlbGVjdGlvbiwgZnVuY3Rpb24gKGNvbHVtbiwgaiwgY29sdW1uRG9uZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5pbmRleE9mKFwiKFwiKSA+IC0xKSB7IC8vIGZ1bmN0aW9uIGV4aXN0c1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmbkFyZ3NfMSA9IChjb2x1bW4ubWF0Y2goL1xcKC4qXFwpL2cpIHx8IFtcIlwiXSlbMF0ucmVwbGFjZSgvXFwofFxcKS9nLCBcIlwiKS5zcGxpdChcIixcIikubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiB2LnRyaW0oKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl9zb3J0R3JvdXBzICYmIGhhc0FnZ3JlZ2F0ZUZ1bl8xKSB7IC8vIGdyb3VwIGJ5IGV4aXN0cyB3aXRoIGFnZ3JlZ2F0ZSBmdW5jdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKE9iamVjdC5rZXlzKF90aGlzLl9zb3J0R3JvdXBzKSwgZnVuY3Rpb24gKGssIGwsIGZuRG9uZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmbkdyb3VwQnlSZXN1bHRzW2tdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm5Hcm91cEJ5UmVzdWx0c1trXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gY29sdW1uRGF0YV8xW2NvbHVtbl0uZm4pLmNhbGwuYXBwbHkoX2EsIFtyb3dzLmZpbHRlcihmdW5jdGlvbiAociwgaSkgeyByZXR1cm4gX3RoaXMuX3NvcnRHcm91cHNba10uaW5kZXhPZihpKSA+IC0xOyB9KSwgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbkdyb3VwQnlSZXN1bHRzW2tdW2NvbHVtbkRhdGFfMVtjb2x1bW5dLmtleV0gPSByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZuRG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLmNvbmNhdChmbkFyZ3NfMSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGNvbHVtbkRvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gbm8gZ3JvdXAgYnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gY29sdW1uRGF0YV8xW2NvbHVtbl0uZm4pLmNhbGwuYXBwbHkoX2EsIFtyb3dzLCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25SZXN1bHRzW2NvbHVtbkRhdGFfMVtjb2x1bW5dLmtleV0gPSByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uRG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0uY29uY2F0KGZuQXJnc18xKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uRG9uZSgpOyAvLyBubyBmdW5jdGlvblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vIHRpbWUgdG8gcmVidWlsZCByb3cgcmVzdWx0c1xyXG4gICAgICAgICAgICAgICAgdmFyIGRvTXVhdGVSb3dzID0gZnVuY3Rpb24gKHJvdywgaWR4LCBmblJlc3VsdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3Um93ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHVuc2VsZWN0ZWQgY29sdW1ucywgYXBwbHkgQVMgYW5kIGludGVncmF0ZSBmdW5jdGlvbiByZXN1bHRzXHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uU2VsZWN0aW9uLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGFzRnVuYyA9IGNvbHVtbi5pbmRleE9mKFwiKFwiKSA+IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IGhhc0Z1bmMgPyBjb2x1bW5EYXRhXzFbY29sdW1uXS5mbi50eXBlIDogXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5pbmRleE9mKFwiIEFTIFwiKSA+IC0xKSB7IC8vIGFsaWFzIGNvbHVtbiBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWxpYXMgPSBjb2x1bW4uc3BsaXQoXCIgQVMgXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGhhc0Z1bmMgPyBjb2x1bW5EYXRhXzFbY29sdW1uXS5rZXkgOiBhbGlhc1swXS50cmltKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdSb3dbYWxpYXNbMV1dID0gaGFzRnVuYyA/ICh0eXBlID09PSBcIkFcIiA/IGZuUmVzdWx0c1trZXldIDogZm5SZXN1bHRzW2tleV1baWR4XSkgOiB1dGlsaXRpZXNfMS5vYmpRdWVyeShrZXksIHJvdywgX3RoaXMucS5qb2luICE9PSB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGhhc0Z1bmMgPyBjb2x1bW5EYXRhXzFbY29sdW1uXS5rZXkgOiBjb2x1bW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdSb3dbY29sdW1uXSA9IGhhc0Z1bmMgPyAodHlwZSA9PT0gXCJBXCIgPyBmblJlc3VsdHNba2V5XSA6IGZuUmVzdWx0c1trZXldW2lkeF0pIDogdXRpbGl0aWVzXzEub2JqUXVlcnkoa2V5LCByb3csIF90aGlzLnEuam9pbiAhPT0gdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdSb3c7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyb3dzLmxlbmd0aCAmJiBoYXNBZ2dyZWdhdGVGdW5fMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvbmVSb3dfMSA9IFt7fV07XHJcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoY29sdW1uRGF0YV8xKS5mb3JFYWNoKGZ1bmN0aW9uIChmbk5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jdGlvblJlc3VsdHNbY29sdW1uRGF0YV8xW2ZuTmFtZV0ua2V5XSAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lUm93XzFbMF1bZm5OYW1lXSA9IGZ1bmN0aW9uUmVzdWx0c1tjb2x1bW5EYXRhXzFbZm5OYW1lXS5rZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUob25lUm93XzEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fc29ydEdyb3VwcyAmJiBoYXNBZ2dyZWdhdGVGdW5fMSkgeyAvLyBncm91cCBieSB3aXRoIGFnZ3JlZ2F0ZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdSb3dzXzEgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhfdGhpcy5fc29ydEdyb3VwcykuZm9yRWFjaChmdW5jdGlvbiAoaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1JvdyA9IHJvd3MuZmlsdGVyKGZ1bmN0aW9uIChyLCBpKSB7IHJldHVybiBfdGhpcy5fc29ydEdyb3Vwc1trXS5pbmRleE9mKGkpID4gLTE7IH0pLmZpbHRlcihmdW5jdGlvbiAodiwgaSkgeyByZXR1cm4gaSA8IDE7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1JvdyAmJiB0aGlzUm93Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Um93c18xLnB1c2goZG9NdWF0ZVJvd3ModGhpc1Jvd1swXSwgMCwgZm5Hcm91cEJ5UmVzdWx0c1trXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUobmV3Um93c18xKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhhc0FnZ3JlZ2F0ZUZ1bl8xKSB7IC8vIGp1c3QgYWdncmVnYXRlIChyZXR1cm5zIDEgcm93KVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKHJvd3MuZmlsdGVyKGZ1bmN0aW9uICh2LCBpKSB7IHJldHVybiBpIDwgMTsgfSkubWFwKGZ1bmN0aW9uICh2LCBpKSB7IHJldHVybiBkb011YXRlUm93cyh2LCBpLCBmdW5jdGlvblJlc3VsdHMpOyB9KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHsgLy8gbm8gYWdncmVnYXRlIGFuZCBubyBncm91cCBieSwgZWFzeSBwZWFzeVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKHJvd3MubWFwKGZ1bmN0aW9uICh2LCBpKSB7IHJldHVybiBkb011YXRlUm93cyh2LCBpLCBmdW5jdGlvblJlc3VsdHMpOyB9KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8ganVzdCBwYXNzIHRocm91Z2hcclxuICAgICAgICAgICAgY29tcGxldGUocm93cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVHJpZ2dlcnMgdGhlIG11dGF0aW9ucyBpbiB0aGUgb3JkZXIgb2Ygb3BlcmF0aW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0RCUm93W119IGlucHV0Um93c1xyXG4gICAgICogQHBhcmFtIHsocm93czogREJSb3dbXSkgPT4gdm9pZH0gY2FsbGJhY2tcclxuICAgICAqIEBtZW1iZXJvZiBfTXV0YXRlU2VsZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIF9NdXRhdGVTZWxlY3Rpb24ucHJvdG90eXBlLl9leGVjdXRlUXVlcnlBcmd1bWVudHMgPSBmdW5jdGlvbiAoaW5wdXRSb3dzLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGFmdGVyTXV0YXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMucS5oYXZpbmcpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0Um93cyA9IF90aGlzLl9oYXZpbmcoaW5wdXRSb3dzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoX3RoaXMucS5vcmRlckJ5KSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dFJvd3MgPSBfdGhpcy5fb3JkZXJCeShpbnB1dFJvd3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5xLm9mZnNldCkge1xyXG4gICAgICAgICAgICAgICAgaW5wdXRSb3dzID0gX3RoaXMuX29mZnNldChpbnB1dFJvd3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5xLmxpbWl0KSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dFJvd3MgPSBfdGhpcy5fbGltaXQoaW5wdXRSb3dzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYWxsYmFjayhpbnB1dFJvd3MpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGFmdGVyT1JNID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMucS5hY3Rpb25BcmdzICYmIF90aGlzLnEuYWN0aW9uQXJncy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9tdXRhdGVSb3dzKGlucHV0Um93cywgZnVuY3Rpb24gKG5ld1Jvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dFJvd3MgPSBuZXdSb3dzO1xyXG4gICAgICAgICAgICAgICAgICAgIGFmdGVyTXV0YXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFmdGVyTXV0YXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBhZnRlckpvaW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5xLmdyb3VwQnkpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0Um93cyA9IF90aGlzLl9ncm91cEJ5KGlucHV0Um93cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKF90aGlzLnEub3JtKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fb3JtKGlucHV0Um93cywgZnVuY3Rpb24gKG5ld1Jvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dFJvd3MgPSBuZXdSb3dzO1xyXG4gICAgICAgICAgICAgICAgICAgIGFmdGVyT1JNKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFmdGVyT1JNKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICh0aGlzLnEuam9pbikge1xyXG4gICAgICAgICAgICB0aGlzLl9qb2luKGlucHV0Um93cywgZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0Um93cyA9IHJvd3M7XHJcbiAgICAgICAgICAgICAgICBhZnRlckpvaW4oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBhZnRlckpvaW4oKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9NdXRhdGVTZWxlY3Rpb247XHJcbn0oKSk7XHJcbmV4cG9ydHMuX011dGF0ZVNlbGVjdGlvbiA9IF9NdXRhdGVTZWxlY3Rpb247XHJcbi8qKlxyXG4gKiBTZWxlY3RzIHRoZSBuZWVkZWQgcm93cyBmcm9tIHRoZSBzdG9yYWdlIHN5c3RlbS5cclxuICogVXNlcyB0aGUgZmFzdGVzIHBvc3NpYmxlIG1ldGhvZCB0byBnZXQgdGhlIHJvd3MuXHJcbiAqXHJcbiAqIEBleHBvcnRcclxuICogQGNsYXNzIF9Sb3dTZWxlY3Rpb25cclxuICovXHJcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxyXG52YXIgX1Jvd1NlbGVjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIF9Sb3dTZWxlY3Rpb24ocSwgcywgY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMucSA9IHE7XHJcbiAgICAgICAgdGhpcy5zID0gcztcclxuICAgICAgICBpZiAodGhpcy5xLmpvaW4gJiYgdGhpcy5xLm9ybSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZG8gYSBKT0lOIGFuZCBPUk0gY29tbWFuZCBhdCB0aGUgc2FtZSB0aW1lIVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKFt0aGlzLnEud2hlcmUsIHRoaXMucS5yYW5nZSwgdGhpcy5xLnRyaWVdLmZpbHRlcihmdW5jdGlvbiAoaSkgeyByZXR1cm4gaTsgfSkubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4gb25seSBoYXZlIE9ORSBvZiBUcmllLCBSYW5nZSBvciBXaGVyZSFcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGpvaW4gY29tbWFuZCByZXF1aXJlcyBuXjIgc2NhbiB0aGF0IGdldHMgdGFrZW4gY2FyZSBvZiBpbiBqb2luIGxvZ2ljLlxyXG4gICAgICAgIGlmICh0aGlzLnEuam9pbikge1xyXG4gICAgICAgICAgICBjYWxsYmFjayhbXSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdHJpZSBzZWFyY2gsIG5pY2UgYW5kIGZhc3QuXHJcbiAgICAgICAgaWYgKHRoaXMucS50cmllICYmIHRoaXMucS50cmllLmNvbHVtbiAmJiB0aGlzLnEudHJpZS5zZWFyY2gpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2VsZWN0QnlUcmllKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyByYW5nZSBzZWxlY3QsIHZlcnkgZmFzdFxyXG4gICAgICAgIGlmICh0aGlzLnEucmFuZ2UgJiYgdGhpcy5xLnJhbmdlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RCeVJhbmdlKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBubyB3aGVyZSBzdGF0ZW1lbnQsIHJlYWQgd2hvbGUgZGIgOihcclxuICAgICAgICAvLyBPUlxyXG4gICAgICAgIC8vIHdoZXJlIHN0YXRlbWVudCBpcyBmdW5jdGlvbiwgc3RpbGwgZ290dGEgcmVhZCB0aGUgd2hvbGUgZGIuXHJcbiAgICAgICAgaWYgKCghdGhpcy5xLndoZXJlIHx8ICF0aGlzLnEud2hlcmUubGVuZ3RoKSB8fCAhQXJyYXkuaXNBcnJheSh0aGlzLnEud2hlcmUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Z1bGxUYWJsZVNjYW4oY2FsbGJhY2spO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHdoZXJlIHN0YXRlbWVudCBwb3NzaWJseSBjb250YWlucyBvbmx5IHByaW1hcnkga2V5IGFuZCBzZWNvbmRhcnkga2V5IHF1ZXJpZXMsIGRvIGZhc3RlciBxdWVyeSBpZiBwb3NzaWJsZS5cclxuICAgICAgICB2YXIgZG9GYXN0UmVhZCA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5xLndoZXJlWzBdID09PSBcInN0cmluZ1wiKSB7IC8vIFNpbmdsZSBXSEVSRVxyXG4gICAgICAgICAgICBkb0Zhc3RSZWFkID0gdGhpcy5faXNPcHRpbWl6ZWRXaGVyZSh0aGlzLnEud2hlcmUpID09PSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHsgLy8gY29tYmluZWQgd2hlcmUgc3RhdGVtZW50c1xyXG4gICAgICAgICAgICBkb0Zhc3RSZWFkID0gKHRoaXMucS53aGVyZSB8fCBbXSkucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXIsIGkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpICUgMiA9PT0gMSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2ICsgX3RoaXMuX2lzT3B0aW1pemVkV2hlcmUoY3VyKTtcclxuICAgICAgICAgICAgfSwgMCkgPT09IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkb0Zhc3RSZWFkKSB7IC8vIGNhbiBnbyBzdHJhaWdodCB0byBwcmltYXJ5IG9yIHNlY29uZGFyeSBrZXlzLCB3ZWUhXHJcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdEJ5S2V5cyh0aGlzLnEud2hlcmUsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZiBjb21wb3VuZCB3aGVyZSBzdGF0ZW1lbnQgaW5jbHVkZXMgcHJpbWFyeSBrZXkvc2Vjb25kYXJ5IGluZGV4IHF1ZXJpZXMgZm9sbG93ZWQgYnkgQU5EIHdpdGggb3RoZXIgY29uZGl0aW9ucy5cclxuICAgICAgICAvLyBncmFicyB0aGUgc2VjdGlvbiBvZiBkYXRhIHJlbGF0ZWQgdG8gdGhlIG9wdGltaXplZCByZWFkLCB0aGVuIGZ1bGwgdGFibGUgc2NhbnMgdGhlIHJlc3VsdC5cclxuICAgICAgICB2YXIgd2hlcmVTbGljZSA9IHRoaXMuX2lzU3ViT3B0aW1pemVkV2hlcmUodGhpcy5xLndoZXJlKTtcclxuICAgICAgICBpZiAod2hlcmVTbGljZSA+IDApIHtcclxuICAgICAgICAgICAgdmFyIGZhc3RXaGVyZSA9IHRoaXMucS53aGVyZS5zbGljZSgwLCB3aGVyZVNsaWNlKTtcclxuICAgICAgICAgICAgdmFyIHNsb3dXaGVyZV8xID0gdGhpcy5xLndoZXJlLnNsaWNlKHdoZXJlU2xpY2UgKyAxKTtcclxuICAgICAgICAgICAgdGhpcy5fc2VsZWN0QnlLZXlzKGZhc3RXaGVyZSwgZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJvd3MuZmlsdGVyKGZ1bmN0aW9uIChyLCBpKSB7IHJldHVybiBfd2hlcmUociwgc2xvd1doZXJlXzEsIGkpOyB9KSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEZ1bGwgdGFibGUgc2NhbiA6KFxyXG4gICAgICAgIHRoaXMuX2Z1bGxUYWJsZVNjYW4oY2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEb2VzIHN1cGVyIGZhc3QgcHJpbWFyeSBrZXkgb3Igc2Vjb25kYXJ5IGluZGV4IHNlbGVjdC5cclxuICAgICAqIEhhbmRsZXMgY29tcG91bmQgV0hFUkUgc3RhdGVtZW50cywgY29tYmluaW5nIHRoZWlyIHJlc3VsdHMuXHJcbiAgICAgKiBXb3JrcyBhcyBsb25nIGFzIGV2ZXJ5IFdIRVJFIHN0YXRlbWVudCBpcyBzZWxlY3RpbmcgYWdhaW5zdCBhIHByaW1hcnkga2V5IG9yIHNlY29uZGFyeSBpbmRleC5cclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7KHJvd3M6IERCUm93W10pID0+IHZvaWR9IGNhbGxiYWNrXHJcbiAgICAgKiBAbWVtYmVyb2YgX1Jvd1NlbGVjdGlvblxyXG4gICAgICovXHJcbiAgICBfUm93U2VsZWN0aW9uLnByb3RvdHlwZS5fc2VsZWN0QnlLZXlzID0gZnVuY3Rpb24gKHdoZXJlLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHdoZXJlICYmIHR5cGVvZiB3aGVyZVswXSA9PT0gXCJzdHJpbmdcIikgeyAvLyBzaW5nbGUgd2hlcmVcclxuICAgICAgICAgICAgdGhpcy5fc2VsZWN0Um93c0J5SW5kZXgod2hlcmUsIGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAod2hlcmUpIHsgLy8gY29tcG91bmQgd2hlcmVcclxuICAgICAgICAgICAgdmFyIHJlc3VsdFJvd3NfMSA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgbGFzdENvbW1hbmRfMSA9IFwiXCI7XHJcbiAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RDSEFJTih3aGVyZSwgZnVuY3Rpb24gKHdBcmcsIGksIG5leHRXQXJnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHdBcmcgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0Q29tbWFuZF8xID0gd0FyZztcclxuICAgICAgICAgICAgICAgICAgICBuZXh0V0FyZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF90aGlzLl9zZWxlY3RSb3dzQnlJbmRleCh3QXJnLCBmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXN0Q29tbWFuZF8xID09PSBcIkFORFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHhfMSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaV8xID0gcm93cy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpXzEtLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4XzFbcm93c1tpXzFdW190aGlzLnMudGFibGVJbmZvW190aGlzLnEudGFibGVdLl9wa11dID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRSb3dzXzEgPSByZXN1bHRSb3dzXzEuZmlsdGVyKGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpZHhfMVtyb3dbX3RoaXMucy50YWJsZUluZm9bX3RoaXMucS50YWJsZV0uX3BrXV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Um93c18xID0gcmVzdWx0Um93c18xLmNvbmNhdChyb3dzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dFdBcmcoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJlc3VsdFJvd3NfMSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIE11Y2ggZmFzdGVyIFNFTEVDVCBieSBwcmltYXJ5IGtleSBvciBzZWNvbmRhcnkgaW5kZXguXHJcbiAgICAgKiBBY2NlcHRzIGEgc2luZ2xlIFdIRVJFIHN0YXRlbWVudCwgbm8gY29tcG91bmQgc3RhdGVtZW50cyBhbGxvd2VkLlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHthbnlbXX0gd2hlcmVcclxuICAgICAqIEBwYXJhbSB7KHJvd3M6IERCUm93W10pID0+IHZvaWR9IGNhbGxiYWNrXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICogQG1lbWJlcm9mIF9Sb3dTZWxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgX1Jvd1NlbGVjdGlvbi5wcm90b3R5cGUuX3NlbGVjdFJvd3NCeUluZGV4ID0gZnVuY3Rpb24gKHdoZXJlLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHdoZXJlWzFdID09PSBcIkJFVFdFRU5cIikge1xyXG4gICAgICAgICAgICB2YXIgc2Vjb25kYXJ5SW5kZXhLZXkgPSB3aGVyZVswXSA9PT0gdGhpcy5zLnRhYmxlSW5mb1t0aGlzLnEudGFibGVdLl9wayA/IFwiXCIgOiB3aGVyZVswXTtcclxuICAgICAgICAgICAgaWYgKHNlY29uZGFyeUluZGV4S2V5KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaWR4VGFibGUgPSBcIl9cIiArIHRoaXMucS50YWJsZSArIFwiX2lkeF9cIiArIHNlY29uZGFyeUluZGV4S2V5O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zLl9yYW5nZVJlYWQoaWR4VGFibGUsIHdoZXJlWzJdWzBdLCB3aGVyZVsyXVsxXSwgdHJ1ZSwgZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpID0gcm93cy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlzID0ga2V5cy5jb25jYXQocm93c1tpXS5yb3dzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucy5fcmVhZChfdGhpcy5xLnRhYmxlLCBrZXlzLCBjYWxsYmFjayk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucy5fcmFuZ2VSZWFkKHRoaXMucS50YWJsZSwgd2hlcmVbMl1bMF0sIHdoZXJlWzJdWzFdLCB0cnVlLCBmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJvd3MpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIga2V5cyA9IFtdO1xyXG4gICAgICAgIHN3aXRjaCAod2hlcmVbMV0pIHtcclxuICAgICAgICAgICAgY2FzZSBcIklOXCI6XHJcbiAgICAgICAgICAgICAgICBrZXlzID0gd2hlcmVbMl07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIj1cIjpcclxuICAgICAgICAgICAgICAgIGtleXMgPSBbd2hlcmVbMl1dO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh3aGVyZVswXSA9PT0gdGhpcy5zLnRhYmxlSW5mb1t0aGlzLnEudGFibGVdLl9waykgeyAvLyBwcmltYXJ5IGtleSBzZWxlY3RcclxuICAgICAgICAgICAgdGhpcy5zLl9yZWFkKHRoaXMucS50YWJsZSwga2V5cywgY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHsgLy8gc2Vjb25kYXJ5IGluZGV4IHNlbGVjdFxyXG4gICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKGtleXMsIGZ1bmN0aW9uIChpZHgsIGksIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zLl9zZWNvbmRhcnlJbmRleFJlYWQoX3RoaXMucS50YWJsZSwgd2hlcmVbMF0sIGlkeCwgY29tcGxldGUpO1xyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhbXS5jb25jYXQuYXBwbHkoW10sIHJvd3MpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2VsZWN0IHJvd3Mgd2l0aGluIGEgbnVtZXJpY2FsIHJhbmdlIHVzaW5nIGxpbWl0IGFuZCBvZmZzZXQgdmFsdWVzLlxyXG4gICAgICogTmVnYXRpdmUgbGltaXQgdmFsdWVzIHdpbGwgc3RhcnQgdGhlIHJhbmdlIGZyb20gdGhlIGJvdHRvbSBvZiB0aGUgdGFibGUuXHJcbiAgICAgKlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKiBAcGFyYW0geyhyb3dzOiBEQlJvd1tdKSA9PiB2b2lkfSBjYWxsYmFja1xyXG4gICAgICogQG1lbWJlcm9mIF9Sb3dTZWxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgLy8gW2xpbWl0LCBvZmZzZXRdXHJcbiAgICBfUm93U2VsZWN0aW9uLnByb3RvdHlwZS5fc2VsZWN0QnlSYW5nZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMucS5yYW5nZSkge1xyXG4gICAgICAgICAgICB2YXIgcl8xID0gdGhpcy5xLnJhbmdlO1xyXG4gICAgICAgICAgICBpZiAocl8xWzBdID4gMCkgeyAvLyBwb3NpdGl2ZSBsaW1pdCB2YWx1ZSwgd2UgY2FuIHNlbmQgdGhpcyBzdHJhaWdodCB0byB0aGUgYWRhcHRlclxyXG4gICAgICAgICAgICAgICAgdGhpcy5zLl9yYW5nZVJlYWQodGhpcy5xLnRhYmxlLCByXzFbMV0sIHJfMVsxXSArIHJfMVswXSwgZmFsc2UsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHsgLy8gdXNpbmcgbmVnYXRpdmUgbGltaXQgdmFsdWUgdG8gZ2V0IHJvd3MgYXQgdGhlIGVuZCBvZiB0aGUgZGF0YWJhc2UuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnMuYWRhcHRlcnNbMF0uYWRhcHRlci5nZXRJbmRleCh0aGlzLnEudGFibGUsIHRydWUsIGZ1bmN0aW9uIChjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmcm9tSWR4ID0gcl8xWzBdID4gMCA/IHJfMVsxXSA6IGNvdW50ICsgcl8xWzBdIC0gcl8xWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b0lkeCA9IGZyb21JZHg7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ZXIgPSBNYXRoLmFicyhyXzFbMF0pIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY291bnRlci0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvSWR4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnMuX3JhbmdlUmVhZChfdGhpcy5xLnRhYmxlLCBmcm9tSWR4LCB0b0lkeCwgZmFsc2UsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjYWxsYmFjayhbXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2VsZWN0IHJvd3MgYmFzZWQgb24gYSBUcmllIFF1ZXJ5LlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHsocm93czogREJSb3dbXSkgPT4gdm9pZH0gY2FsbGJhY2tcclxuICAgICAqIEBtZW1iZXJvZiBfUm93U2VsZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIF9Sb3dTZWxlY3Rpb24ucHJvdG90eXBlLl9zZWxlY3RCeVRyaWUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAodGhpcy5xLnRyaWUpIHtcclxuICAgICAgICAgICAgdGhpcy5zLl90cmllUmVhZCh0aGlzLnEudGFibGUsIHRoaXMucS50cmllLmNvbHVtbiwgdGhpcy5xLnRyaWUuc2VhcmNoLCBjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjYWxsYmFjayhbXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRG8gYSBmdWxsIHRhYmxlIHNjYW4sIGNoZWNraW5nIGV2ZXJ5IHJvdyBhZ2FpbnN0IHRoZSBXSEVSRSBzdGF0ZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKiBAcGFyYW0geyhyb3dzOiBEQlJvd1tdKSA9PiB2b2lkfSBjYWxsYmFja1xyXG4gICAgICogQG1lbWJlcm9mIF9Sb3dTZWxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgX1Jvd1NlbGVjdGlvbi5wcm90b3R5cGUuX2Z1bGxUYWJsZVNjYW4gPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBoYXNXaGVyZSA9IHRoaXMucS53aGVyZSAhPT0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHZhciBhcnJXaGVyZSA9IGhhc1doZXJlICYmIEFycmF5LmlzQXJyYXkodGhpcy5xLndoZXJlKTtcclxuICAgICAgICB0aGlzLnMuX3JlYWQodGhpcy5xLnRhYmxlLCBmdW5jdGlvbiAocm93LCBpLCBrZWVwKSB7XHJcbiAgICAgICAgICAgIGlmICghaGFzV2hlcmUpIHsgLy8gbm8gd2hlcmUgc3RhdGVtZW50XHJcbiAgICAgICAgICAgICAgICBrZWVwKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhcnJXaGVyZSkgeyAvLyB3aGVyZSBpcyBhcnJheVxyXG4gICAgICAgICAgICAgICAga2VlcChfd2hlcmUocm93LCBfdGhpcy5xLndoZXJlLCBpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7IC8vIHdoZXJlIGlzIGZ1bmN0aW9uXHJcbiAgICAgICAgICAgICAgICBrZWVwKF90aGlzLnEud2hlcmUocm93LCBpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBjYWxsYmFjayk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHaXZlbiBhIGNvbXBvdW5kIHdoZXJlIHN0YXRlbWVudCBsaWtlIFtbdmFsdWUsID0sIGtleV0sIEFORCwgW3NvbWV0aGluZywgPSwgc29tZXRoaW5nXV1cclxuICAgICAqIENoZWNrIGlmIGZpcnN0IHdoZXJlIGNvbmRpdGlvbnMgYXJlIHByaW1hcnkga2V5LyBzZWNvbmRhcnkgaW5kZXggZm9sbG93ZWQgYnkgdW5vcHRpbWl6ZWQvdW5pbmRleGVkIGNvbmRpdGlvbnNcclxuICAgICAqXHJcbiAgICAgKiBJbiB0aGlzIGNhc2Ugd2UgY2FuIGdyYWIgdGhlIHByaW1hcnkga2V5L3NlY29uZGFyeSBpbmRleCBxdWVyeSBmcm9tIHRoZSBkYXRhYmFzZSBhbmQgZG8gYSBmYXN0ZXIgcXVlcnkgb24gdGhlIHNtYWxsZXIgcmVzdWx0IHNldC5cclxuICAgICAqXHJcbiAgICAgKiBSZXR1cm5zIDAgaWYgdGhpcyBpc24ndCBhIHN1Ym9wdGltaXplZCB3aGVyZSBjb25kaXRpb24uXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgd2hlcmUgYXJyYXkgd2hlcmUgdGhlIEFORCBzcGxpdHMgYmV0d2VlbiBvcHRpbWl6ZWQgYW5kIHVub3B0aW1pemVkIGNvbmRpdGlvbnMgb3RoZXJ3aXNlLlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcGFyYW0ge2FueVtdfSB3QXJnc1xyXG4gICAgICogQHJldHVybnMge251bWJlcn1cclxuICAgICAqIEBtZW1iZXJvZiBfUm93U2VsZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIF9Sb3dTZWxlY3Rpb24ucHJvdG90eXBlLl9pc1N1Yk9wdGltaXplZFdoZXJlID0gZnVuY3Rpb24gKHdBcmdzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAodHlwZW9mIHdBcmdzWzBdID09PSBcInN0cmluZ1wiKSB7IC8vIG5vdCBjb21wb3VuZCB3aGVyZVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzT3B0aW1pemVkV2hlcmUod0FyZ3NbMF0pID09PSAwKSB7IC8vIGF0IGxlYXN0IGZpcnN0IHZhbHVlIGlzIG9wdGltaXplZFxyXG4gICAgICAgICAgICAvLyBsYXN0IHByaW1hcnkga2V5L3NlY29uZGFyeSBpbmRleCBjb25kaXRpb24gTVVTVCBiZSBmb2xsb3dlZCBieSBBTkRcclxuICAgICAgICAgICAgdmFyIGxhc3RDaGVja18xID0gMDtcclxuICAgICAgICAgICAgd0FyZ3MuZm9yRWFjaChmdW5jdGlvbiAod0FyZywgaSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgJSAyID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl9pc09wdGltaXplZFdoZXJlKHdBcmcpID09PSAwICYmIHdBcmdzW2kgKyAxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0Q2hlY2tfMSA9IGkgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIEFORCBtdXN0IGZvbGxvdyB0aGUgbGFzdCBzZWNvbmRhcnkgaW5kZXgvcHJpbWFyeSBrZXkgY29uZGl0aW9uXHJcbiAgICAgICAgICAgIGlmICh3QXJnc1tsYXN0Q2hlY2tfMV0gIT09IFwiQU5EXCIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgcmV0dXJuIGxhc3RDaGVja18xO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiBhIHNpbmdsZSBXSEVSRSBzdGF0ZW1lbnQgW1wicm93XCIsIFwiPVwiLCB2YWx1ZV0gdXNlcyBhIHByaW1hcnkga2V5IG9yIHNlY29uZGFyeSBpbmRleCBhcyBpdCdzIHJvdy5cclxuICAgICAqIElmIHNvLCB3ZSBjYW4gdXNlIGEgbXVjaCBmYXN0ZXIgU0VMRUNUIG1ldGhvZC5cclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7YW55W119IHdBcmdzXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gICAgICogQG1lbWJlcm9mIF9Sb3dTZWxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgX1Jvd1NlbGVjdGlvbi5wcm90b3R5cGUuX2lzT3B0aW1pemVkV2hlcmUgPSBmdW5jdGlvbiAod0FyZ3MpIHtcclxuICAgICAgICB2YXIgdGFibGVEYXRhID0gdGhpcy5zLnRhYmxlSW5mb1t0aGlzLnEudGFibGVdO1xyXG4gICAgICAgIGlmIChbXCI9XCIsIFwiSU5cIiwgXCJCRVRXRUVOXCJdLmluZGV4T2Yod0FyZ3NbMV0pID4gLTEpIHtcclxuICAgICAgICAgICAgLy8gaWYgKHdBcmdzWzBdID09PSB0YWJsZURhdGEuX3BrKSB7XHJcbiAgICAgICAgICAgIGlmICh3QXJnc1swXSA9PT0gdGFibGVEYXRhLl9wayB8fCB0YWJsZURhdGEuX3NlY29uZGFyeUluZGV4ZXMuaW5kZXhPZih3QXJnc1swXSkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9Sb3dTZWxlY3Rpb247XHJcbn0oKSk7XHJcbmV4cG9ydHMuX1Jvd1NlbGVjdGlvbiA9IF9Sb3dTZWxlY3Rpb247XHJcbi8qKlxyXG4gKiBTZWxlY3Qgcm93cyBmcm9tIGFuIGluc3RhbmNlIHRhYmxlLiBTdXBwb3J0cyBSQU5HRSBhbmQgV0hFUkUgc3RhdGVtZW50cy5cclxuICpcclxuICogQGV4cG9ydFxyXG4gKiBAY2xhc3MgSW5zdGFuY2VTZWxlY3Rpb25cclxuICovXHJcbnZhciBJbnN0YW5jZVNlbGVjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEluc3RhbmNlU2VsZWN0aW9uKHEpIHtcclxuICAgICAgICB0aGlzLnEgPSBxO1xyXG4gICAgfVxyXG4gICAgSW5zdGFuY2VTZWxlY3Rpb24ucHJvdG90eXBlLmdldFJvd3MgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLnEuam9pbiB8fCB0aGlzLnEub3JtIHx8IHRoaXMucS50cmllKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBkbyBhIEpPSU4sIE9STSBvciBUUklFIGNvbW1hbmQgd2l0aCBpbnN0YW5jZSB0YWJsZSFcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnEucmFuZ2UgJiYgdGhpcy5xLnJhbmdlLmxlbmd0aCkgeyAvLyByYW5nZSBzZWxlY3QgW2xpbWl0LCBvZmZzZXRdXHJcbiAgICAgICAgICAgIHZhciByYW5nZSA9IHRoaXMucS5yYW5nZSwgZnJvbV8xLCB0b18xO1xyXG4gICAgICAgICAgICBpZiAocmFuZ2VbMF0gPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBmcm9tXzEgPSAodGhpcy5xLnRhYmxlLmxlbmd0aCkgKyByYW5nZVswXSAtIHJhbmdlWzFdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZnJvbV8xID0gcmFuZ2VbMV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGNudCA9IE1hdGguYWJzKHJhbmdlWzBdKSAtIDE7XHJcbiAgICAgICAgICAgIHRvXzEgPSBmcm9tXzE7XHJcbiAgICAgICAgICAgIHdoaWxlIChjbnQtLSkge1xyXG4gICAgICAgICAgICAgICAgdG9fMSsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKHRoaXMucS50YWJsZS5maWx0ZXIoZnVuY3Rpb24gKHZhbCwgaWR4KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaWR4ID49IGZyb21fMSAmJiBpZHggPD0gdG9fMTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhbGxiYWNrKHRoaXMucS50YWJsZS5maWx0ZXIoZnVuY3Rpb24gKHJvdywgaSkge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMucS53aGVyZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoX3RoaXMucS53aGVyZSkgPyBfd2hlcmUocm93LCBfdGhpcy5xLndoZXJlIHx8IFtdLCBpKSA6IF90aGlzLnEud2hlcmUocm93LCBpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9KSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEluc3RhbmNlU2VsZWN0aW9uO1xyXG59KCkpO1xyXG5leHBvcnRzLkluc3RhbmNlU2VsZWN0aW9uID0gSW5zdGFuY2VTZWxlY3Rpb247XHJcbi8qKlxyXG4gKiBIYW5kbGVzIFdIRVJFIHN0YXRlbWVudHMsIGNvbWJpbmluZyBtdWx0aXBsZSBjb21wYXJlZCBzdGF0ZW1lbnRzIGFnaW5zdCBBTkQvT1IgYXMgbmVlZGVkIHRvIHJldHVybiBhIGZpbmFsIGJvb2xlYW4gdmFsdWUuXHJcbiAqIFRoZSBmaW5hbCBib29sZWFuIHZhbHVlIGlzIHdldGhlciB0aGUgcm93IG1hdGNoZXMgYWxsIFdIRVJFIGNvbmRpdGlvbnMgb3Igbm90LlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHNpbmdsZVJvd1xyXG4gKiBAcGFyYW0ge2FueVtdfSB3aGVyZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gcm93SURYXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lnbm9yZUZpcnN0UGF0aF1cclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG52YXIgX3doZXJlID0gZnVuY3Rpb24gKHNpbmdsZVJvdywgd2hlcmUsIHJvd0lEWCwgaWdub3JlRmlyc3RQYXRoKSB7XHJcbiAgICB2YXIgY29tbWFuZHMgPSBbXCJBTkRcIiwgXCJPUlwiXTtcclxuICAgIGlmICh0eXBlb2Ygd2hlcmVbMF0gIT09IFwic3RyaW5nXCIpIHsgLy8gY29tcG91bmQgd2hlcmUgc3RhdGVtZW50c1xyXG4gICAgICAgIHZhciBoYXNBbmRfMSA9IGZhbHNlO1xyXG4gICAgICAgIC8vIHR1cm4gd2hlcmUgc3RhdGVtZW50IGludG8gYXJyYXkgb2YgYm9vbGVhbnMgYW5kIGNvbmRpdGlvbnNcclxuICAgICAgICAvLyBbW2lkLCBcIj1cIiwgMV0sIFwiT1JcIiwgW1widGhpc1wiLCBcIj1cIiwgXCJ0aGF0XCJdXSA9PiBbdHJ1ZSwgXCJPUlwiLCBmYWxzZV07XHJcbiAgICAgICAgdmFyIGNoZWNrV2hlcmVfMSA9IHdoZXJlLm1hcChmdW5jdGlvbiAod0FyZywgaWR4KSB7XHJcbiAgICAgICAgICAgIGlmIChjb21tYW5kcy5pbmRleE9mKHdBcmcpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHdBcmcgPT09IFwiQU5EXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgaGFzQW5kXzEgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdBcmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbXBhcmUod0FyZ1syXSwgd0FyZ1sxXSwgdXRpbGl0aWVzXzEub2JqUXVlcnkod0FyZ1swXSwgc2luZ2xlUm93LCBpZ25vcmVGaXJzdFBhdGgpKSA9PT0gMCA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGNvbWJpbmUgYWxsIE9SIHN0YXRlbWVudHMgaW50byBhIHNpbmdsZSBib29sZWFuIG9mIHRoZSBzdXJyb3VuZGluZyBib29sZWFuc1xyXG4gICAgICAgIC8vIFt0cnVlLCBcIk9SXCIsIGZhbHNlLCBcIkFORFwiLCB0cnVlXSA9PiBbdW5kZWZpbmVkLCB0cnVlLCB1bmRlZmluZWQsIFwiQU5EXCIsIHRydWVdXHJcbiAgICAgICAgLy8gW2ZhbHNlLCBcIk9SXCIsIGZhbHNlLCBcIkFORFwiLCB0cnVlXSA9PiBbdW5kZWZpbmVkLCBmYWxzZSwgdW5kZWZpbmVkLCBcIkFORFwiLCB0cnVlXTtcclxuICAgICAgICBjaGVja1doZXJlXzEuZm9yRWFjaChmdW5jdGlvbiAod0FyZywgaWR4KSB7XHJcbiAgICAgICAgICAgIGlmICh3QXJnID09PSBcIk9SXCIpIHtcclxuICAgICAgICAgICAgICAgIGNoZWNrV2hlcmVfMVtpZHhdID0gY2hlY2tXaGVyZV8xW2lkeCAtIDFdIHx8IGNoZWNrV2hlcmVfMVtpZHggKyAxXTtcclxuICAgICAgICAgICAgICAgIGNoZWNrV2hlcmVfMVtpZHggLSAxXSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGNoZWNrV2hlcmVfMVtpZHggKyAxXSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIHJlbW92ZSB0aGUgdW5kZWZpbmVkIGVsZW1lbnRzIGZyb20gdGhlIGFib3ZlIGFjdGlvblxyXG4gICAgICAgIC8vIFt1bmRlZmluZWQsIGZhbHNlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZmFsc2UsIHVuZGVmaW5lZCwgXCJBTkRcIiwgdHJ1ZV0gPT4gW2ZhbHNlLCBmYWxzZSwgdHJ1ZV1cclxuICAgICAgICAvLyBjaGVja1doZXJlID0gY2hlY2tXaGVyZS5maWx0ZXIodmFsID0+IHZhbCAhPT0gdW5kZWZpbmVkICYmIHZhbCAhPT0gXCJBTkRcIik7XHJcbiAgICAgICAgLy8gaWYgdGhlcmUgYXJlIGFueSBmYWxzZSBib29scyBpbiB0aGUgYXJyYXkgdGhlIHJvdyBkb2Vzbid0IG1hdGNoLlxyXG4gICAgICAgIHJldHVybiBjaGVja1doZXJlXzEuaW5kZXhPZihmYWxzZSkgPT09IC0xO1xyXG4gICAgICAgIC8qXHJcblxyXG4gICAgICAgIGlmICghaGFzQW5kKSB7IC8vIEFsbCBPUiBzdGF0ZW1lbnRzLCBpZiB0aGVyZSBhcmUgemVybyB0cnVlIHZhbHVlcyB0aGVuIHRoZSByb3cgZG9lc24ndCBwYXNzLlxyXG4gICAgICAgICAgICByZXR1cm4gY2hlY2tXaGVyZS5pbmRleE9mKHRydWUpICE9PSAtMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgcmVkdWNpbmc6IG51bWJlcjtcclxuICAgICAgICAgICAgbGV0IHByZXZBbmQgPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuIGNoZWNrV2hlcmUucmVkdWNlKChwcmV2LCBjdXIsIGlkeCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlkeCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXYucHVzaChjdXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZHVjaW5nID0gcHJldi5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGN1ciA9PT0gXCJBTkRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZBbmQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHByZXYucHVzaChjdXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHByZXZBbmQpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2LnB1c2goY3VyKTtcclxuICAgICAgICAgICAgICAgICAgICByZWR1Y2luZyA9IHByZXYubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2QW5kID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocmVkdWNpbmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZbcmVkdWNpbmddID0gY3VyIHx8IHByZXZbcmVkdWNpbmddO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgICAgIH0sIFtdKS5pbmRleE9mKGZhbHNlKSA9PT0gLTE7XHJcbiAgICAgICAgfSovXHJcbiAgICB9XHJcbiAgICBlbHNlIHsgLy8gc2luZ2xlIHdoZXJlIHN0YXRlbWVudFxyXG4gICAgICAgIHJldHVybiBfY29tcGFyZSh3aGVyZVsyXSwgd2hlcmVbMV0sIHV0aWxpdGllc18xLm9ialF1ZXJ5KHdoZXJlWzBdLCBzaW5nbGVSb3csIGlnbm9yZUZpcnN0UGF0aCkpID09PSAwID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogQ29tcGFyZSBmdW5jdGlvbiB1c2VkIGJ5IFdIRVJFIHRvIGRldGVybWluZSBpZiBhIGdpdmVuIHZhbHVlIG1hdGNoZXMgYSBnaXZlbiBjb25kaXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gdmFsMVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gY29tcGFyZVxyXG4gKiBAcGFyYW0geyp9IHZhbDJcclxuICogQHJldHVybnMge251bWJlcn1cclxuICovXHJcbnZhciBfY29tcGFyZSA9IGZ1bmN0aW9uICh2YWwxLCBjb21wYXJlLCB2YWwyKSB7XHJcbiAgICB2YXIgc2V0VmFsdWUgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcIkxJS0VcIiwgXCJOT1QgTElLRVwiXS5pbmRleE9mKGNvbXBhcmUpID4gLTEgPyBTdHJpbmcodmFsIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCkgOiB2YWw7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNvbHVtblZhbHVlID0gc2V0VmFsdWUodmFsMik7XHJcbiAgICB2YXIgZ2l2ZW5WYWx1ZSA9IHNldFZhbHVlKHZhbDEpO1xyXG4gICAgaWYgKHZhbDEgPT09IFwiTlVMTFwiIHx8IHZhbDEgPT09IFwiTk9UIE5VTExcIikge1xyXG4gICAgICAgIHZhciBwb3MgPSBjb21wYXJlID09PSBcIj1cIiB8fCBjb21wYXJlID09PSBcIkxJS0VcIjtcclxuICAgICAgICByZXR1cm4gKHZhbDEgPT09IFwiTlVMTFwiID9cclxuICAgICAgICAgICAgKHZhbDIgPT09IG51bGwgfHwgdmFsMiA9PT0gdW5kZWZpbmVkKSA6XHJcbiAgICAgICAgICAgICh2YWwyICE9PSBudWxsICYmIHZhbDIgIT09IHVuZGVmaW5lZCkpID9cclxuICAgICAgICAgICAgKHBvcyA/IDAgOiAxKSA6IChwb3MgPyAxIDogMCk7XHJcbiAgICB9XHJcbiAgICBzd2l0Y2ggKGNvbXBhcmUpIHtcclxuICAgICAgICAvLyBpZiBjb2x1bW4gZXF1YWwgdG8gZ2l2ZW4gdmFsdWVcclxuICAgICAgICBjYXNlIFwiPVwiOiByZXR1cm4gY29sdW1uVmFsdWUgPT09IGdpdmVuVmFsdWUgPyAwIDogMTtcclxuICAgICAgICAvLyBpZiBjb2x1bW4gbm90IGVxdWFsIHRvIGdpdmVuIHZhbHVlXHJcbiAgICAgICAgY2FzZSBcIiE9XCI6IHJldHVybiBjb2x1bW5WYWx1ZSAhPT0gZ2l2ZW5WYWx1ZSA/IDAgOiAxO1xyXG4gICAgICAgIC8vIGlmIGNvbHVtbiBncmVhdGhlciB0aGFuIGdpdmVuIHZhbHVlXHJcbiAgICAgICAgY2FzZSBcIj5cIjogcmV0dXJuIGNvbHVtblZhbHVlID4gZ2l2ZW5WYWx1ZSA/IDAgOiAxO1xyXG4gICAgICAgIC8vIGlmIGNvbHVtbiBsZXNzIHRoYW4gZ2l2ZW4gdmFsdWVcclxuICAgICAgICBjYXNlIFwiPFwiOiByZXR1cm4gY29sdW1uVmFsdWUgPCBnaXZlblZhbHVlID8gMCA6IDE7XHJcbiAgICAgICAgLy8gaWYgY29sdW1uIGxlc3MgdGhhbiBvciBlcXVhbCB0byBnaXZlbiB2YWx1ZVxyXG4gICAgICAgIGNhc2UgXCI8PVwiOiByZXR1cm4gY29sdW1uVmFsdWUgPD0gZ2l2ZW5WYWx1ZSA/IDAgOiAxO1xyXG4gICAgICAgIC8vIGlmIGNvbHVtbiBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gZ2l2ZW4gdmFsdWVcclxuICAgICAgICBjYXNlIFwiPj1cIjogcmV0dXJuIGNvbHVtblZhbHVlID49IGdpdmVuVmFsdWUgPyAwIDogMTtcclxuICAgICAgICAvLyBpZiBjb2x1bW4gdmFsdWUgZXhpc3RzIGluIGdpdmVuIGFycmF5XHJcbiAgICAgICAgY2FzZSBcIklOXCI6IHJldHVybiAoZ2l2ZW5WYWx1ZSB8fCBbXSkuaW5kZXhPZihjb2x1bW5WYWx1ZSkgPCAwID8gMSA6IDA7XHJcbiAgICAgICAgLy8gaWYgY29sdW1uIGRvZXMgbm90IGV4aXN0IGluIGdpdmVuIGFycmF5XHJcbiAgICAgICAgY2FzZSBcIk5PVCBJTlwiOiByZXR1cm4gKGdpdmVuVmFsdWUgfHwgW10pLmluZGV4T2YoY29sdW1uVmFsdWUpIDwgMCA/IDAgOiAxO1xyXG4gICAgICAgIC8vIHJlZ2V4cCBzZWFyY2ggdGhlIGNvbHVtblxyXG4gICAgICAgIGNhc2UgXCJSRUdFWFwiOiByZXR1cm4gY29sdW1uVmFsdWUubWF0Y2goZ2l2ZW5WYWx1ZSkubGVuZ3RoID8gMCA6IDE7XHJcbiAgICAgICAgLy8gaWYgZ2l2ZW4gdmFsdWUgZXhpc3RzIGluIGNvbHVtbiB2YWx1ZVxyXG4gICAgICAgIGNhc2UgXCJMSUtFXCI6IHJldHVybiBjb2x1bW5WYWx1ZS5pbmRleE9mKGdpdmVuVmFsdWUpIDwgMCA/IDEgOiAwO1xyXG4gICAgICAgIC8vIGlmIGdpdmVuIHZhbHVlIGRvZXMgbm90IGV4aXN0IGluIGNvbHVtbiB2YWx1ZVxyXG4gICAgICAgIGNhc2UgXCJOT1QgTElLRVwiOiByZXR1cm4gY29sdW1uVmFsdWUuaW5kZXhPZihnaXZlblZhbHVlKSA+PSAwID8gMSA6IDA7XHJcbiAgICAgICAgLy8gaWYgdGhlIGNvbHVtbiB2YWx1ZSBpcyBiZXR3ZWVuIHR3byBnaXZlbiBudW1iZXJzXHJcbiAgICAgICAgY2FzZSBcIkJFVFdFRU5cIjogcmV0dXJuIGdpdmVuVmFsdWVbMF0gPD0gY29sdW1uVmFsdWUgJiYgZ2l2ZW5WYWx1ZVsxXSA+PSBjb2x1bW5WYWx1ZSA/IDAgOiAxO1xyXG4gICAgICAgIC8vIGlmIHNpbmdsZSB2YWx1ZSBleGlzdHMgaW4gYXJyYXkgY29sdW1uXHJcbiAgICAgICAgY2FzZSBcIkhBVkVcIjogcmV0dXJuIChjb2x1bW5WYWx1ZSB8fCBbXSkuaW5kZXhPZihnaXZlblZhbHVlKSA8IDAgPyAxIDogMDtcclxuICAgICAgICAvLyBpZiBzaW5nbGUgdmFsdWUgZG9lcyBub3QgZXhpc3QgaW4gYXJyYXkgY29sdW1uXHJcbiAgICAgICAgY2FzZSBcIk5PVCBIQVZFXCI6IHJldHVybiAoY29sdW1uVmFsdWUgfHwgW10pLmluZGV4T2YoZ2l2ZW5WYWx1ZSkgPCAwID8gMCA6IDE7XHJcbiAgICAgICAgLy8gaWYgYXJyYXkgb2YgdmFsdWVzIGludGVyc2VjdHMgd2l0aCBhcnJheSBjb2x1bW5cclxuICAgICAgICBjYXNlIFwiSU5URVJTRUNUXCI6IHJldHVybiAoY29sdW1uVmFsdWUgfHwgW10pLmZpbHRlcihmdW5jdGlvbiAobCkgeyByZXR1cm4gKGdpdmVuVmFsdWUgfHwgW10pLmluZGV4T2YobCkgPiAtMTsgfSkubGVuZ3RoID4gMCA/IDAgOiAxO1xyXG4gICAgICAgIC8vIGlmIGFycmF5IG9mIHZhbHVlcyBkb2VzIG5vdCBpbnRlcnNlY3Qgd2l0aCBhcnJheSBjb2x1bW5cclxuICAgICAgICBjYXNlIFwiTk9UIElOVEVSU0VDVFwiOiByZXR1cm4gKGNvbHVtblZhbHVlIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKGwpIHsgcmV0dXJuIChnaXZlblZhbHVlIHx8IFtdKS5pbmRleE9mKGwpID4gLTE7IH0pLmxlbmd0aCA9PT0gMCA/IDAgOiAxO1xyXG4gICAgICAgIGRlZmF1bHQ6IHJldHVybiAxO1xyXG4gICAgfVxyXG59O1xyXG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcclxuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxyXG4gICAgICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmRleF8xID0gcmVxdWlyZShcIi4uL2luZGV4XCIpO1xyXG52YXIgcXVlcnlfMSA9IHJlcXVpcmUoXCIuL3F1ZXJ5XCIpO1xyXG52YXIgdXRpbGl0aWVzXzEgPSByZXF1aXJlKFwiLi4vdXRpbGl0aWVzXCIpO1xyXG52YXIgc3RvcmFnZV8xID0gcmVxdWlyZShcIi4vc3RvcmFnZVwiKTtcclxudmFyIE5hbm9TUUxEZWZhdWx0QmFja2VuZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE5hbm9TUUxEZWZhdWx0QmFja2VuZCgpIHtcclxuICAgICAgICB0aGlzLl9xdWVyeVBvb2wgPSBbXTtcclxuICAgICAgICB0aGlzLl9xdWVyeVB0ciA9IDA7XHJcbiAgICB9XHJcbiAgICBOYW5vU1FMRGVmYXVsdEJhY2tlbmQucHJvdG90eXBlLndpbGxDb25uZWN0ID0gZnVuY3Rpb24gKGNvbm5lY3RBcmdzLCBuZXh0KSB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBjb25uZWN0QXJncy5wYXJlbnQ7XHJcbiAgICAgICAgdGhpcy5fc3RvcmUgPSBuZXcgc3RvcmFnZV8xLl9OYW5vU1FMU3RvcmFnZShjb25uZWN0QXJncy5wYXJlbnQsIF9fYXNzaWduKHt9LCBjb25uZWN0QXJncy5jb25maWcpKTtcclxuICAgICAgICAvKmZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5fcXVlcnlQb29sLnB1c2gobmV3IF9OYW5vU1FMU3RvcmFnZVF1ZXJ5KHRoaXMuX3N0b3JlKSk7XHJcbiAgICAgICAgfSovXHJcbiAgICAgICAgdGhpcy5fc3RvcmUuaW5pdChjb25uZWN0QXJncy5tb2RlbHMsIGZ1bmN0aW9uIChuZXdNb2RlbHMpIHtcclxuICAgICAgICAgICAgY29ubmVjdEFyZ3MubW9kZWxzID0gX19hc3NpZ24oe30sIGNvbm5lY3RBcmdzLm1vZGVscywgbmV3TW9kZWxzKTtcclxuICAgICAgICAgICAgbmV4dChjb25uZWN0QXJncyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgTmFub1NRTERlZmF1bHRCYWNrZW5kLnByb3RvdHlwZS5kb0V4ZWMgPSBmdW5jdGlvbiAoZXhlY0FyZ3MsIG5leHQpIHtcclxuICAgICAgICBleGVjQXJncy5zdGF0ZSA9IFwiY29tcGxldGVcIjtcclxuICAgICAgICAvKnRoaXMuX3F1ZXJ5UHRyKys7XHJcbiAgICAgICAgaWYgKHRoaXMuX3F1ZXJ5UHRyID4gdGhpcy5fcXVlcnlQb29sLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgdGhpcy5fcXVlcnlQdHIgPSAwO1xyXG4gICAgICAgIH0qL1xyXG4gICAgICAgIG5ldyBxdWVyeV8xLl9OYW5vU1FMU3RvcmFnZVF1ZXJ5KHRoaXMuX3N0b3JlKS5kb1F1ZXJ5KGV4ZWNBcmdzLCBuZXh0KTtcclxuICAgIH07XHJcbiAgICAvKnB1YmxpYyB0cmFuc2FjdGlvbkJlZ2luKGlkOiBzdHJpbmcsIG5leHQ6ICgpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICBuZXh0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRyYW5zYWN0aW9uRW5kKGlkOiBzdHJpbmcsIG5leHQ6ICgpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICBuZXh0KCk7XHJcbiAgICB9XHJcbiAgICAqL1xyXG4gICAgTmFub1NRTERlZmF1bHRCYWNrZW5kLnByb3RvdHlwZS5kdW1wVGFibGVzID0gZnVuY3Rpb24gKHRhYmxlcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyB1dGlsaXRpZXNfMS5Qcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikge1xyXG4gICAgICAgICAgICB2YXIgZHVtcCA9IHt9O1xyXG4gICAgICAgICAgICB2YXIgZXhwb3J0VGFibGVzID0gdGFibGVzICYmIHRhYmxlcy5sZW5ndGggPyB0YWJsZXMgOiBPYmplY3Qua2V5cyhfdGhpcy5fc3RvcmUudGFibGVJbmZvKTtcclxuICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChleHBvcnRUYWJsZXMsIGZ1bmN0aW9uICh0YWJsZSwgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICAgICAgZHVtcFt0YWJsZV0gPSBbXTtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9zdG9yZS5hZGFwdGVyc1swXS5hZGFwdGVyLnJhbmdlUmVhZCh0YWJsZSwgZnVuY3Rpb24gKHIsIGlkeCwgcm93RG9uZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGR1bXBbdGFibGVdLnB1c2gocik7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93RG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgfSwgZG9uZSk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmVzKGR1bXApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBOYW5vU1FMRGVmYXVsdEJhY2tlbmQucHJvdG90eXBlLmltcG9ydFRhYmxlcyA9IGZ1bmN0aW9uICh0YWJsZXMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBuZXcgdXRpbGl0aWVzXzEuUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcclxuICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChPYmplY3Qua2V5cyh0YWJsZXMpLCBmdW5jdGlvbiAodGFibGVOYW1lLCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGtLZXkgPSBfdGhpcy5fc3RvcmUudGFibGVJbmZvW3RhYmxlTmFtZV0uX3BrO1xyXG4gICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTCh0YWJsZXNbdGFibGVOYW1lXSwgZnVuY3Rpb24gKHJvdywgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyb3dbcGtLZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zdG9yZS5hZGFwdGVyc1swXS5hZGFwdGVyLndyaXRlKHRhYmxlTmFtZSwgcm93W3BrS2V5XSwgcm93LCBkb25lKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGRvbmUpO1xyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJlcygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBOYW5vU1FMRGVmYXVsdEJhY2tlbmQucHJvdG90eXBlLndpbGxEaXNjb25uZWN0ID0gZnVuY3Rpb24gKG5leHQpIHtcclxuICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHRoaXMuX3N0b3JlLmFkYXB0ZXJzIHx8IFtdLCBmdW5jdGlvbiAoYWRhcHRlciwgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICBpZiAoYWRhcHRlci5kaXNjb25uZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBhZGFwdGVyLmRpc2Nvbm5lY3QoZG9uZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS50aGVuKG5leHQpO1xyXG4gICAgfTtcclxuICAgIE5hbm9TUUxEZWZhdWx0QmFja2VuZC5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24gKG5leHQsIGFyZ3MsIHJlc3VsdCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgc3dpdGNoIChhcmdzWzBdKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJjbG9uZVwiOlxyXG4gICAgICAgICAgICAgICAgdmFyIG5TUUxpXzEgPSBuZXcgaW5kZXhfMS5OYW5vU1FMSW5zdGFuY2UoKTtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMucGFyZW50LmRhdGFNb2RlbHMpLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgblNRTGlfMS50YWJsZSh0YWJsZSkubW9kZWwoX3RoaXMucGFyZW50LmRhdGFNb2RlbHNbdGFibGVdLCBbXSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIG5TUUxpXzFcclxuICAgICAgICAgICAgICAgICAgICAuY29uZmlnKHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogdGhpcy5fc3RvcmUuX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IGFyZ3NbMV1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmNvbm5lY3QoKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdENIQUlOKE9iamVjdC5rZXlzKF90aGlzLnBhcmVudC5kYXRhTW9kZWxzKSwgZnVuY3Rpb24gKHRhYmxlLCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSW1wb3J0aW5nIFwiICsgdGFibGUgKyBcIi4uLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucGFyZW50LnJhd0R1bXAoW3RhYmxlXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gblNRTGlfMS5yYXdJbXBvcnQoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihkb25lKTtcclxuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dChhcmdzLCBbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiZmx1c2hcIjpcclxuICAgICAgICAgICAgICAgIHZhciB0YWJsZXNfMSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFhcmdzWzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFibGVzXzEgPSB0aGlzLnBhcmVudC50YWJsZU5hbWVzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFibGVzXzEgPSBbYXJnc1sxXV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0Q0hBSU4odGFibGVzXzEsIGZ1bmN0aW9uICh0YWJsZSwgaSwgbmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9zdG9yZS5fZHJvcCh0YWJsZSwgbmV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0KGFyZ3MsIHRhYmxlc18xKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJnZXRfYWRhcHRlclwiOlxyXG4gICAgICAgICAgICAgICAgaWYgKCFhcmdzWzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dChhcmdzLCBbdGhpcy5fc3RvcmUuYWRhcHRlcnNbMF0uYWRhcHRlcl0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dChhcmdzLCBbdGhpcy5fc3RvcmUuYWRhcHRlcnNbYXJnc1sxXV0uYWRhcHRlcl0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJpZHgubGVuZ3RoXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCJpZHhcIjpcclxuICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IGFyZ3NbMV07XHJcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5fc3RvcmUudGFibGVJbmZvKS5pbmRleE9mKHRhYmxlKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RvcmUuYWRhcHRlcnNbMF0uYWRhcHRlci5nZXRJbmRleCh0YWJsZSwgYXJnc1swXSAhPT0gXCJpZHhcIiwgZnVuY3Rpb24gKGlkeCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KGFyZ3MsIGlkeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0KGFyZ3MsIFtdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwicmVidWlsZF9pZHhcIjpcclxuICAgICAgICAgICAgICAgIGlmIChhcmdzWzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RvcmUucmVidWlsZEluZGV4ZXMoYXJnc1sxXSwgZnVuY3Rpb24gKHRpbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dChhcmdzLCBbdGltZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChPYmplY3Qua2V5cyh0aGlzLl9zdG9yZS50YWJsZUluZm8pLCBmdW5jdGlvbiAodGFibGUsIGksIGRvbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3N0b3JlLnJlYnVpbGRJbmRleGVzKHRhYmxlLCBkb25lKTtcclxuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICh0aW1lcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KGFyZ3MsIHRpbWVzKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiY2xlYXJfY2FjaGVcIjpcclxuICAgICAgICAgICAgICAgIGlmIChhcmdzWzFdICYmIGFyZ3NbMl0pIHsgLy8gaW52YWxpZGF0ZSByb3dzIG9uIGEgdGFibGVcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdG9yZS5faW52YWxpZGF0ZUNhY2hlKGFyZ3NbMV0sIGFyZ3NbMl0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYXJnc1sxXSkgeyAvLyBpbnZhbGlkYXRlIHdob2xlIHRhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RvcmUuX2NhY2hlW2FyZ3NbMV1dID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RvcmUuX2NhY2hlS2V5c1thcmdzWzFdXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7IC8vIGludmFsaWRhdGUgYWxsIHRhYmxlc1xyXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuX3N0b3JlLnRhYmxlSW5mbykuZm9yRWFjaChmdW5jdGlvbiAodGFibGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3N0b3JlLl9jYWNoZVt0YWJsZV0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3N0b3JlLl9jYWNoZUtleXNbdGFibGVdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuZXh0KGFyZ3MsIGFyZ3NbMV0gfHwgT2JqZWN0LmtleXModGhpcy5fc3RvcmUudGFibGVJbmZvKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIG5leHQoYXJncywgcmVzdWx0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE5hbm9TUUxEZWZhdWx0QmFja2VuZDtcclxufSgpKTtcclxuZXhwb3J0cy5OYW5vU1FMRGVmYXVsdEJhY2tlbmQgPSBOYW5vU1FMRGVmYXVsdEJhY2tlbmQ7XHJcbiIsIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIFJlYWxseVNtYWxsRXZlbnRzID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFJlYWxseVNtYWxsRXZlbnRzKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMgPSB7fTtcclxuICAgIH1cclxuICAgIFJlYWxseVNtYWxsRXZlbnRzLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldmVudCwgY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAoIXRoaXMuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdLnB1c2goY2FsbGJhY2spO1xyXG4gICAgfTtcclxuICAgIFJlYWxseVNtYWxsRXZlbnRzLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiAoZXZlbnQsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAodGhpcy5ldmVudExpc3RlbmVyc1tldmVudF0gJiYgdGhpcy5ldmVudExpc3RlbmVyc1tldmVudF0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdLmZvckVhY2goZnVuY3Rpb24gKGNiLCBpZHgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjYiA9PT0gY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5ldmVudExpc3RlbmVyc1tldmVudF0uc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBSZWFsbHlTbWFsbEV2ZW50cy5wcm90b3R5cGUudHJpZ2dlciA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdLmZvckVhY2goZnVuY3Rpb24gKGNiKSB7IHJldHVybiBjYi5hcHBseSh2b2lkIDAsIGFyZ3MpOyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFJlYWxseVNtYWxsRXZlbnRzO1xyXG59KCkpO1xyXG5leHBvcnRzLlJlYWxseVNtYWxsRXZlbnRzID0gUmVhbGx5U21hbGxFdmVudHM7XHJcbmV4cG9ydHMuUlNFID0gbmV3IFJlYWxseVNtYWxsRXZlbnRzKCk7XHJcbiIsIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXHJcbnZhciBfTmFub1NRTFRyYW5zYWN0aW9uUXVlcnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBfTmFub1NRTFRyYW5zYWN0aW9uUXVlcnkoYWN0aW9uLCBhcmdzLCB0YWJsZSwgcXVlcmllcywgdHJhbnNhY3Rpb25JRCkge1xyXG4gICAgICAgIHRoaXMudGhpc1EgPSB7XHJcbiAgICAgICAgICAgIHN0YXRlOiBcInBlbmRpbmdcIixcclxuICAgICAgICAgICAgdGFibGU6IHRhYmxlLFxyXG4gICAgICAgICAgICBhY3Rpb246IGFjdGlvbixcclxuICAgICAgICAgICAgYWN0aW9uQXJnczogYXJncyxcclxuICAgICAgICAgICAgcXVlcnlJRDogdHJhbnNhY3Rpb25JRCxcclxuICAgICAgICAgICAgdHJhbnNhY3Rpb246IHRydWUsXHJcbiAgICAgICAgICAgIHJlc3VsdDogW10sXHJcbiAgICAgICAgICAgIGNvbW1lbnRzOiBbXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5fcXVlcmllcyA9IHF1ZXJpZXM7XHJcbiAgICB9XHJcbiAgICBfTmFub1NRTFRyYW5zYWN0aW9uUXVlcnkucHJvdG90eXBlLndoZXJlID0gZnVuY3Rpb24gKGFyZ3MpIHtcclxuICAgICAgICB0aGlzLnRoaXNRLndoZXJlID0gYXJncztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBfTmFub1NRTFRyYW5zYWN0aW9uUXVlcnkucHJvdG90eXBlLmV4ZWMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5fcXVlcmllcy5wdXNoKHRoaXMudGhpc1EpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfTmFub1NRTFRyYW5zYWN0aW9uUXVlcnk7XHJcbn0oKSk7XHJcbmV4cG9ydHMuX05hbm9TUUxUcmFuc2FjdGlvblF1ZXJ5ID0gX05hbm9TUUxUcmFuc2FjdGlvblF1ZXJ5O1xyXG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcclxuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxyXG4gICAgICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciB1dGlsaXRpZXNfMSA9IHJlcXVpcmUoXCIuLi91dGlsaXRpZXNcIik7XHJcbnZhciBibGFua1JvdyA9IHsgYWZmZWN0ZWRSb3dQS1M6IFtdLCBhZmZlY3RlZFJvd3M6IFtdIH07XHJcbnZhciBydW5RdWVyeSA9IGZ1bmN0aW9uIChzZWxmLCBjb21wbGV0ZSkge1xyXG4gICAgaWYgKHNlbGYuX2RiLnBsdWdpbnMubGVuZ3RoID09PSAxICYmICFzZWxmLl9kYi5oYXNBbnlFdmVudHMpIHtcclxuICAgICAgICAvLyBmYXN0IHF1ZXJ5IHBhdGgsIG9ubHkgdXNlZCBpZiB0aGVyZSdzIGEgc2luZ2xlIHBsdWdpbiBhbmQgbm8gZXZlbnQgbGlzdGVuZXJzXHJcbiAgICAgICAgc2VsZi5fZGIucGx1Z2luc1swXS5kb0V4ZWMoc2VsZi5fcXVlcnksIGZ1bmN0aW9uIChuZXdRKSB7XHJcbiAgICAgICAgICAgIHNlbGYuX3F1ZXJ5ID0gbmV3UTtcclxuICAgICAgICAgICAgaWYgKHNlbGYuX2RiLmhhc1BLW3NlbGYuX3F1ZXJ5LnRhYmxlXSkge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoc2VsZi5fcXVlcnkucmVzdWx0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKHNlbGYuX3F1ZXJ5LnJlc3VsdC5tYXAoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIChfX2Fzc2lnbih7fSwgciwgeyBfaWRfOiB1bmRlZmluZWQgfSkpOyB9KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHV0aWxpdGllc18xLmZhc3RDSEFJTihzZWxmLl9kYi5wbHVnaW5zLCBmdW5jdGlvbiAocCwgaSwgbmV4dFApIHtcclxuICAgICAgICAgICAgaWYgKHAuZG9FeGVjKSB7XHJcbiAgICAgICAgICAgICAgICBwLmRvRXhlYyhzZWxmLl9xdWVyeSwgZnVuY3Rpb24gKG5ld1EpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLl9xdWVyeSA9IG5ld1EgfHwgc2VsZi5fcXVlcnk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dFAoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbmV4dFAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5fZGIuaGFzUEtbc2VsZi5fcXVlcnkudGFibGVdKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShzZWxmLl9xdWVyeS5yZXN1bHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoc2VsZi5fcXVlcnkucmVzdWx0Lm1hcChmdW5jdGlvbiAocikgeyByZXR1cm4gKF9fYXNzaWduKHt9LCByLCB7IF9pZF86IHVuZGVmaW5lZCB9KSk7IH0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2VsZi5fZGIuaGFzQW55RXZlbnRzIHx8IHNlbGYuX2RiLnBsdWdpbkhhc0RpZEV4ZWMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBldmVudFR5cGVzID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHNlbGYuX3F1ZXJ5LmFjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic2VsZWN0XCI6IHJldHVybiBbc2VsZi5fcXVlcnkuYWN0aW9uXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRlbGV0ZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwidXBzZXJ0XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJkcm9wXCI6IHJldHVybiBbc2VsZi5fcXVlcnkuYWN0aW9uLCBcImNoYW5nZVwiXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGFzTGVuZ3RoID0gc2VsZi5fcXVlcnkucmVzdWx0ICYmIHNlbGYuX3F1ZXJ5LnJlc3VsdC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnRfMSA9IHtcclxuICAgICAgICAgICAgICAgICAgICB0YWJsZTogc2VsZi5fcXVlcnkudGFibGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHNlbGYuX3F1ZXJ5LFxyXG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IERhdGUubm93KCksXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBzZWxmLl9xdWVyeS5yZXN1bHQsXHJcbiAgICAgICAgICAgICAgICAgICAgbm90ZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGVzOiBldmVudFR5cGVzLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbk9yVmlldzogc2VsZi5fQVYsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25JRDogc2VsZi5fcXVlcnkudHJhbnNhY3Rpb24gPyBzZWxmLl9xdWVyeS5xdWVyeUlEIDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIGFmZmVjdGVkUm93UEtTOiBoYXNMZW5ndGggPyAoc2VsZi5fcXVlcnkucmVzdWx0WzBdIHx8IGJsYW5rUm93KS5hZmZlY3RlZFJvd1BLUyA6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGFmZmVjdGVkUm93czogaGFzTGVuZ3RoID8gKHNlbGYuX3F1ZXJ5LnJlc3VsdFswXSB8fCBibGFua1JvdykuYWZmZWN0ZWRSb3dzIDogW10sXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdENIQUlOKHNlbGYuX2RiLnBsdWdpbnMsIGZ1bmN0aW9uIChwLCBpLCBuZXh0UCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwLmRpZEV4ZWMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcC5kaWRFeGVjKGV2ZW50XzEsIGZ1bmN0aW9uIChuZXdFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudF8xID0gbmV3RTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRQKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFAoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLl9kYi50cmlnZ2VyRXZlbnQoZXZlbnRfMSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59O1xyXG52YXIgZGVib3VuY2VUaW1lcnMgPSB7fTtcclxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXHJcbnZhciBfTmFub1NRTFF1ZXJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gX05hbm9TUUxRdWVyeShkYiwgdGFibGUsIHF1ZXJ5QWN0aW9uLCBxdWVyeUFyZ3MsIGFjdGlvbk9yVmlldykge1xyXG4gICAgICAgIHRoaXMuX2RiID0gZGI7XHJcbiAgICAgICAgdGhpcy5fQVYgPSBhY3Rpb25PclZpZXcgfHwgXCJcIjtcclxuICAgICAgICB0aGlzLl9xdWVyeSA9IHtcclxuICAgICAgICAgICAgdGFibGU6IHRhYmxlLFxyXG4gICAgICAgICAgICBjb21tZW50czogW10sXHJcbiAgICAgICAgICAgIHN0YXRlOiBcInBlbmRpbmdcIixcclxuICAgICAgICAgICAgcXVlcnlJRDogRGF0ZS5ub3coKSArIFwiLlwiICsgdGhpcy5fZGIuZmFzdFJhbmQoKSxcclxuICAgICAgICAgICAgYWN0aW9uOiBxdWVyeUFjdGlvbixcclxuICAgICAgICAgICAgYWN0aW9uQXJnczogcXVlcnlBcmdzLFxyXG4gICAgICAgICAgICByZXN1bHQ6IFtdXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVXNlZCB0byBzZWxlY3Qgc3BlY2lmaWMgcm93cyBiYXNlZCBvbiBhIHNldCBvZiBjb25kaXRpb25zLlxyXG4gICAgICogWW91IGNhbiBwYXNzIGluIGEgc2luZ2xlIGFycmF5IHdpdGggYSBjb25kaXRpb25hbCBzdGF0ZW1lbnQgb3IgYW4gYXJyYXkgb2YgYXJyYXlzIHNlcGVyYXRlZCBieSBcImFuZFwiLCBcIm9yXCIgZm9yIGNvbXBvdW5kIHNlbGVjdHMuXHJcbiAgICAgKiBBIHNpbmdsZSB3aGVyZSBzdGF0ZW1lbnQgaGFzIHRoZSBjb2x1bW4gbmFtZSBvbiB0aGUgbGVmdCwgYW4gb3BlcmF0b3IgaW4gdGhlIG1pZGRsZSwgdGhlbiBhIGNvbXBhcmlzb24gb24gdGhlIHJpZ2h0LlxyXG4gICAgICpcclxuICAgICAqIFdoZXJlIEV4YW1wbGVzOlxyXG4gICAgICpcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAud2hlcmUoWyd1c2VybmFtZScsJz0nLCdiaWxseSddKVxyXG4gICAgICogLndoZXJlKFsnYmFsYW5jZScsJz4nLDIwXSlcclxuICAgICAqIC53aGVyZShbJ2NhdGdvcnknLCdJTicsWydqZWFucycsJ3NoaXJ0cyddXSlcclxuICAgICAqIC53aGVyZShbWyduYW1lJywnPScsJ3Njb3R0J10sJ2FuZCcsWydiYWxhbmNlJywnPicsMjAwXV0pXHJcbiAgICAgKiAud2hlcmUoW1snaWQnLCc+Jyw1MF0sJ29yJyxbJ3Bvc3RJRHMnLCdJTicsWzEyLDIwLDMwXV0sJ2FuZCcsWyduYW1lJywnTElLRScsJ0JpbGx5J11dKVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsoQXJyYXk8YW55fEFycmF5PGFueT4+KX0gYXJnc1xyXG4gICAgICogQHJldHVybnMge19OYW5vU1FMUXVlcnl9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIF9OYW5vU1FMUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxRdWVyeS5wcm90b3R5cGUud2hlcmUgPSBmdW5jdGlvbiAoYXJncykge1xyXG4gICAgICAgIHRoaXMuX3F1ZXJ5LndoZXJlID0gYXJncztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFF1ZXJ5IHRvIGdldCBhIHNwZWNpZmljIHJhbmdlIG9mIHJvd3MgdmVyeSBlZmZpY2llbnRseS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGltaXRcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIF9OYW5vU1FMUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxRdWVyeS5wcm90b3R5cGUucmFuZ2UgPSBmdW5jdGlvbiAobGltaXQsIG9mZnNldCkge1xyXG4gICAgICAgIHRoaXMuX3F1ZXJ5LnJhbmdlID0gW2xpbWl0LCBvZmZzZXRdO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogV2hlbiB1c2luZyBcImZyb21cIiBmZWF0dXJlcyBzcGVjaWZpYyB3aGF0IHByaW1hcnkga2V5cyB0byB1cGRhdGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHthbnlbXX0gcHJpbWFyeUtleXNcclxuICAgICAqIEByZXR1cm5zIHtfTmFub1NRTFF1ZXJ5fVxyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxRdWVyeS5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAocHJpbWFyeUtleXMpIHtcclxuICAgICAgICB0aGlzLl9xdWVyeS5vbiA9IHByaW1hcnlLZXlzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGVib3VuY2UgYWdncmVnYXRlIGZ1bmN0aW9uIGNhbGxzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW10XHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxRdWVyeVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFF1ZXJ5LnByb3RvdHlwZS5kZWJvdW5jZSA9IGZ1bmN0aW9uIChtcykge1xyXG4gICAgICAgIHRoaXMuX3F1ZXJ5LmRlYm91bmNlID0gbXMgfHwgMjUwO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVHJpZ2dlIE9STSBxdWVyaWVzIGZvciBhbGwgcmVzdWx0IHJvd3MuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsoKHN0cmluZ3xPUk1BcmdzKVtdKX0gW29ybUFyZ3NdXHJcbiAgICAgKiBAcmV0dXJucyB7X05hbm9TUUxRdWVyeX1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxRdWVyeVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFF1ZXJ5LnByb3RvdHlwZS5vcm0gPSBmdW5jdGlvbiAob3JtQXJncykge1xyXG4gICAgICAgIHRoaXMuX3F1ZXJ5Lm9ybSA9IG9ybUFyZ3M7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBPcmRlciB0aGUgcmVzdWx0cyBieSBhIGdpdmVuIGNvbHVtbiBvciBjb2x1bW5zLlxyXG4gICAgICpcclxuICAgICAqIEV4YW1wbGVzOlxyXG4gICAgICpcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAub3JkZXJCeSh7dXNlcm5hbWU6XCJhc2NcIn0pIC8vIG9yZGVyIGJ5IHVzZXJuYW1lIGNvbHVtbiwgYXNjZW5kaW5nXHJcbiAgICAgKiAub3JkZXJCeSh7YmFsYW5jZTpcImRlc2NcIixsYXN0TmFtZTpcImFzY1wifSkgLy8gb3JkZXIgYnkgYmFsYW5jZSBkZXNjZW5kaW5nLCB0aGVuIGxhc3ROYW1lIGFzY2VuZGluZy5cclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdzXHJcbiAgICAgKiBAcmV0dXJucyB7X05hbm9TUUxRdWVyeX1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgX05hbm9TUUxRdWVyeVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFF1ZXJ5LnByb3RvdHlwZS5vcmRlckJ5ID0gZnVuY3Rpb24gKGFyZ3MpIHtcclxuICAgICAgICB0aGlzLl9xdWVyeS5vcmRlckJ5ID0gYXJncztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdyb3VwIEJ5IGNvbW1hbmQsIHR5cGljYWxseSB1c2VkIHdpdGggYW4gYWdncmVnYXRlIGZ1bmN0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEV4YW1wbGU6XHJcbiAgICAgKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqIG5TUUwoXCJ1c2Vyc1wiKS5xdWVyeShcInNlbGVjdFwiLFtcImZhdm9yaXRlQ29sb3JcIixcImNvdW50KCopXCJdKS5ncm91cEJ5KHtcImZhdm9yaXRlQ29sb3JcIjpcImFzY1wifSkuZXhlYygpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyB3aWxsIHByb3ZpZGUgYSBsaXN0IG9mIGFsbCBmYXZvcml0ZSBjb2xvcnMgYW5kIGhvdyBtYW55IGVhY2ggb2YgdGhlbSBhcmUgaW4gdGhlIGRiLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7KHtba2V5OiBzdHJpbmddOlwiYXNjXCJ8XCJkZXNjXCJ9KX0gY29sdW1uc1xyXG4gICAgICogQHJldHVybnMge19OYW5vU1FMUXVlcnl9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIF9OYW5vU1FMUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxRdWVyeS5wcm90b3R5cGUuZ3JvdXBCeSA9IGZ1bmN0aW9uIChjb2x1bW5zKSB7XHJcbiAgICAgICAgdGhpcy5fcXVlcnkuZ3JvdXBCeSA9IGNvbHVtbnM7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBIYXZpbmcgc3RhdGVtZW50LCB1c2VkIHRvIGZpbHRlciBHcm91cCBCWSBzdGF0ZW1lbnRzLiBTeW50YXggaXMgaWRlbnRpY2FsIHRvIHdoZXJlIHN0YXRlbWVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge19OYW5vU1FMUXVlcnl9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIF9OYW5vU1FMUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxRdWVyeS5wcm90b3R5cGUuaGF2aW5nID0gZnVuY3Rpb24gKGFyZ3MpIHtcclxuICAgICAgICBpZiAoIWFyZ3MubGVuZ3RoIHx8ICFBcnJheS5pc0FycmF5KGFyZ3MpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gXCJIYXZpbmcgY29uZGl0aW9uIHJlcXVpcmVzIGFuIGFycmF5IVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9xdWVyeS5oYXZpbmcgPSBhcmdzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSm9pbiBjb21tYW5kLlxyXG4gICAgICpcclxuICAgICAqIEV4YW1wbGU6XHJcbiAgICAgKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBuU1FMKFwib3JkZXJzXCIpXHJcbiAgICAgKiAgLnF1ZXJ5KFwic2VsZWN0XCIsIFtcIm9yZGVycy5pZFwiLFwib3JkZXJzLnRpdGxlXCIsXCJ1c2Vycy5uYW1lXCJdKVxyXG4gICAgICogIC53aGVyZShbXCJvcmRlcnMuc3RhdHVzXCIsXCI9XCIsXCJjb21wbGV0ZVwiXSlcclxuICAgICAqICAub3JkZXJCeSh7XCJvcmRlcnMuZGF0ZVwiOlwiYXNjXCJ9KVxyXG4gICAgICogIC5qb2luKHtcclxuICAgICAqICAgICAgdHlwZTpcImlubmVyXCIsXHJcbiAgICAgKiAgICAgIHRhYmxlOlwidXNlcnNcIixcclxuICAgICAqICAgICAgd2hlcmU6W1wib3JkZXJzLmN1c3RvbWVySURcIixcIj1cIixcInVzZXIuaWRcIl1cclxuICAgICAqICB9KS5leGVjKCk7XHJcbiAgICAgKmBgYFxyXG4gICAgICogQSBmZXcgbm90ZXMgb24gdGhlIGpvaW4gY29tbWFuZDpcclxuICAgICAqIDEuIFlvdSBtdXNlIHVzZSBkb3Qgbm90YXRpb24gd2l0aCB0aGUgdGFibGUgbmFtZXMgaW4gYWxsIFwid2hlcmVcIiwgXCJzZWxlY3RcIiwgXCJvcmRlcmJ5XCIsIGFuZCBcImdyb3VwYnlcIiBhcmd1bWVudHMuXHJcbiAgICAgKiAyLiBQb3NzaWJsZSBqb2luIHR5cGVzIGFyZSBgaW5uZXJgLCBgbGVmdGAsIGByaWdodGAsIGFuZCBgb3V0ZXJgLlxyXG4gICAgICogMy4gVGhlIFwidGFibGVcIiBhcmd1bWVudCBsZXRzIHlvdSBkZXRlcm1pbmUgdGhlIGRhdGEgb24gdGhlIHJpZ2h0IHNpZGUgb2YgdGhlIGpvaW4uXHJcbiAgICAgKiA0LiBUaGUgXCJ3aGVyZVwiIGFyZ3VtZW50IGxldHMgeW91IHNldCB3aGF0IGNvbmRpdGlvbnMgdGhlIHRhYmxlcyBhcmUgam9pbmVkIG9uLlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtKb2luQXJnc30gYXJnc1xyXG4gICAgICogQHJldHVybnMge19OYW5vU1FMUXVlcnl9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIF9OYW5vU1FMUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxRdWVyeS5wcm90b3R5cGUuam9pbiA9IGZ1bmN0aW9uIChhcmdzKSB7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5fcXVlcnkudGFibGUpKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiQ2FuJ3QgSk9JTiB3aXRoIGluc3RhbmNlIHRhYmxlIVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFhcmdzLnRhYmxlIHx8ICFhcmdzLnR5cGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fZXJyb3IgPSBcIkpvaW4gY29tbWFuZCByZXF1aXJlcyB0YWJsZSBhbmQgdHlwZSBhcmd1bWVudHMhXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3F1ZXJ5LmpvaW4gPSBhcmdzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogTGltaXRzIHRoZSByZXN1bHQgdG8gYSBzcGVjaWZpYyBhbW91bnQuICBFeGFtcGxlOlxyXG4gICAgICpcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAubGltaXQoMjApIC8vIExpbWl0IHRvIHRoZSBmaXJzdCAyMCByZXN1bHRzXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXJnc1xyXG4gICAgICogQHJldHVybnMge19OYW5vU1FMUXVlcnl9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIF9OYW5vU1FMUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxRdWVyeS5wcm90b3R5cGUubGltaXQgPSBmdW5jdGlvbiAoYXJncykge1xyXG4gICAgICAgIHRoaXMuX3F1ZXJ5LmxpbWl0ID0gYXJncztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFBlcmZvcm0gYSB0cmllIHNlYXJjaCBvbiBhIHRyaWUgY29sdW1uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdUb1NlYXJjaFxyXG4gICAgICogQHJldHVybnMge19OYW5vU1FMUXVlcnl9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIF9OYW5vU1FMUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxRdWVyeS5wcm90b3R5cGUudHJpZVNlYXJjaCA9IGZ1bmN0aW9uIChjb2x1bW4sIHN0cmluZ1RvU2VhcmNoKSB7XHJcbiAgICAgICAgdGhpcy5fcXVlcnkudHJpZSA9IHsgY29sdW1uOiBjb2x1bW4sIHNlYXJjaDogc3RyaW5nVG9TZWFyY2ggfTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFBhc3MgY29tbWVudHMgYWxvbmcgd2l0aCB0aGUgcXVlcnkuXHJcbiAgICAgKiBUaGVzZSBjb21tZW50cyB3aWxsIGJlIGVtaXR0ZWQgYWxvbmcgd2l0aCB0aGUgb3RoZXIgcXVlcnkgZGF0YXkgYnkgdGhlIGV2ZW50IHN5c3RlbSwgdXNlZnVsIGZvciB0cmFja2luZyBxdWVyaWVzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb21tZW50XHJcbiAgICAgKiBAcmV0dXJucyB7X05hbm9TUUxRdWVyeX1cclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFF1ZXJ5XHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMUXVlcnkucHJvdG90eXBlLmNvbW1lbnQgPSBmdW5jdGlvbiAoY29tbWVudCkge1xyXG4gICAgICAgIHRoaXMuX3F1ZXJ5LmNvbW1lbnRzLnB1c2goY29tbWVudCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJmb3JtIGN1c3RvbSBhY3Rpb25zIHN1cHBvcnRlZCBieSBwbHVnaW5zLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7Li4uYW55W119IGFyZ3NcclxuICAgICAqIEByZXR1cm5zIHtfTmFub1NRTFF1ZXJ5fVxyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxRdWVyeS5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9xdWVyeS5leHRlbmQgPSBhcmdzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogT2Zmc2V0cyB0aGUgcmVzdWx0cyBieSBhIHNwZWNpZmljIGFtb3VudCBmcm9tIHRoZSBiZWdpbm5pbmcuICBFeGFtcGxlOlxyXG4gICAgICpcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAub2Zmc2V0KDEwKSAvLyBTa2lwIHRoZSBmaXJzdCAxMCByZXN1bHRzLlxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFyZ3NcclxuICAgICAqIEByZXR1cm5zIHtfTmFub1NRTFF1ZXJ5fVxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJPZiBfTmFub1NRTFF1ZXJ5XHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMUXVlcnkucHJvdG90eXBlLm9mZnNldCA9IGZ1bmN0aW9uIChhcmdzKSB7XHJcbiAgICAgICAgdGhpcy5fcXVlcnkub2Zmc2V0ID0gYXJncztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEV4cG9ydCB0aGUgY3VycmVudCBxdWVyeSB0byBhIENTViBmaWxlLCB1c2UgaW4gcGxhY2Ugb2YgXCJleGVjKClcIjtcclxuICAgICAqXHJcbiAgICAgKiBFeGFtcGxlOlxyXG4gICAgICogblNRTChcInVzZXJzXCIpLnF1ZXJ5KFwic2VsZWN0XCIpLnRvQ1NWKHRydWUpLnRoZW4oZnVuY3Rpb24oY3N2LCBkYikge1xyXG4gICAgICogICBjb25zb2xlLmxvZyhjc3YpO1xyXG4gICAgICogICAvLyBSZXR1cm5zIHNvbWV0aGluZyBsaWtlOlxyXG4gICAgICogICBpZCxuYW1lLHBhc3MscG9zdElEc1xyXG4gICAgICogICAxLFwic2NvdHRcIixcIjEyMzRcIixcIlsxLDIsMyw0XVwiXHJcbiAgICAgKiAgIDIsXCJqZWJcIixcIjU2NzhcIixcIls1LDYsNyw4XVwiXHJcbiAgICAgKiB9KTtcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoZWFkZXJzXVxyXG4gICAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMUXVlcnkucHJvdG90eXBlLnRvQ1NWID0gZnVuY3Rpb24gKGhlYWRlcnMpIHtcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyB1dGlsaXRpZXNfMS5Qcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikge1xyXG4gICAgICAgICAgICB0LmV4ZWMoKS50aGVuKGZ1bmN0aW9uIChqc29uKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3N2ID0gW107XHJcbiAgICAgICAgICAgICAgICBpZiAoIWpzb24ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzKFwiXCIsIHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGhlYWRlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjc3YucHVzaChPYmplY3Qua2V5cyhqc29uWzBdKS5qb2luKFwiLFwiKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBqc29uLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNzdi5wdXNoKE9iamVjdC5rZXlzKHJvdykubWFwKGZ1bmN0aW9uIChrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyb3dba10gPT09IG51bGwgfHwgcm93W2tdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHJvd1trXSA9PT0gXCJvYmplY3RcIiA/ICdcIicgKyBKU09OLnN0cmluZ2lmeShyb3dba10pLnJlcGxhY2UoL1xcXCIvZywgJ1xcJycpICsgJ1wiJyA6IHJvd1trXTtcclxuICAgICAgICAgICAgICAgICAgICB9KS5qb2luKFwiLFwiKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJlcyhjc3Yuam9pbihcIlxcblwiKSwgdCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUGFzcyBpbiBhIHF1ZXJ5IG9iamVjdCB0byBtYW51YWxseSBleGVjdXRlIGEgcXVlcnkgYWdhaW5zdCB0aGUgc3lzdGVtLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7SWRiUXVlcnl9IHF1ZXJ5XHJcbiAgICAgKiBAcGFyYW0geyhlcnI6IGFueSwgcmVzdWx0OiBhbnlbXSkgPT4gdm9pZH0gW2NvbXBsZXRlXVxyXG4gICAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFF1ZXJ5XHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMUXVlcnkucHJvdG90eXBlLm1hbnVhbEV4ZWMgPSBmdW5jdGlvbiAocXVlcnkpIHtcclxuICAgICAgICB0aGlzLl9xdWVyeSA9IF9fYXNzaWduKHt9LCB0aGlzLl9xdWVyeSwgcXVlcnkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmV4ZWMoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZSBkZW5vcm1hbGl6YXRpb24gcmVxdWVzdHMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvblxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFF1ZXJ5XHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMUXVlcnkucHJvdG90eXBlLmRlbm9ybWFsaXphdGlvblF1ZXJ5ID0gZnVuY3Rpb24gKGFjdGlvbikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyB1dGlsaXRpZXNfMS5Qcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGFjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInRvY29sdW1uXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZuc1RvUnVuXzEgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX3F1ZXJ5LmFjdGlvbkFyZ3MgJiYgX3RoaXMuX3F1ZXJ5LmFjdGlvbkFyZ3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKF90aGlzLl9kYi50b0NvbFJ1bGVzW190aGlzLl9xdWVyeS50YWJsZV0pLmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gX3RoaXMuX3F1ZXJ5LmFjdGlvbkFyZ3MuaW5kZXhPZihjKSAhPT0gLTE7IH0pLmZvckVhY2goZnVuY3Rpb24gKGNvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm5zVG9SdW5fMVtjb2xdID0gX3RoaXMuX2RiLnRvQ29sUnVsZXNbX3RoaXMuX3F1ZXJ5LnRhYmxlXVtjb2xdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZuc1RvUnVuXzEgPSBfdGhpcy5fZGIudG9Db2xSdWxlc1tfdGhpcy5fcXVlcnkudGFibGVdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcXVlcnkuYWN0aW9uID0gXCJzZWxlY3RcIjtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcXVlcnkuYWN0aW9uQXJncyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29sdW1uc18xID0gT2JqZWN0LmtleXMoZm5zVG9SdW5fMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcnVuUXVlcnkoX3RoaXMsIGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RDSEFJTihyb3dzLCBmdW5jdGlvbiAocm93LCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmlzRnJvemVuKHJvdykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3cgPSB1dGlsaXRpZXNfMS5fYXNzaWduKHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKGNvbHVtbnNfMSwgZnVuY3Rpb24gKGNvbCwgaSwgbmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmbiA9IF90aGlzLl9kYi50b0NvbEZuc1tfdGhpcy5fcXVlcnkudGFibGVdW2Zuc1RvUnVuXzFbY29sXVswXV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm4uYXBwbHkobnVsbCwgW3Jvd1tjb2xdLCBmdW5jdGlvbiAobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd1tjb2xdID0gbmV3VmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLmNvbmNhdChmbnNUb1J1bl8xW2NvbF0uZmlsdGVyKGZ1bmN0aW9uICh2LCBpKSB7IHJldHVybiBpID4gMDsgfSkubWFwKGZ1bmN0aW9uIChjKSB7IHJldHVybiByb3dbY107IH0pKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZGIucXVlcnkoXCJ1cHNlcnRcIiwgcm93KS5tYW51YWxFeGVjKHsgdGFibGU6IF90aGlzLl9xdWVyeS50YWJsZSB9KS50aGVuKGRvbmUpLmNhdGNoKGRvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzKHsgbXNnOiByb3dzLmxlbmd0aCArIFwiIHJvd3MgbW9kaWZpZWRcIiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwidG9yb3dcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZm5LZXkgPSAoX3RoaXMuX3F1ZXJ5LmFjdGlvbkFyZ3MgfHwgXCJcIikucmVwbGFjZShcIigpXCIsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fZGIudG9Sb3dGbnNbX3RoaXMuX3F1ZXJ5LnRhYmxlXSAmJiBfdGhpcy5fZGIudG9Sb3dGbnNbX3RoaXMuX3F1ZXJ5LnRhYmxlXVtmbktleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZuXzEgPSBfdGhpcy5fZGIudG9Sb3dGbnNbX3RoaXMuX3F1ZXJ5LnRhYmxlXVtmbktleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBQS18xID0gX3RoaXMuX2RiLnRhYmxlUEtzW190aGlzLl9xdWVyeS50YWJsZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fcXVlcnkub24gJiYgX3RoaXMuX3F1ZXJ5Lm9uLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChfdGhpcy5fcXVlcnkub24sIGZ1bmN0aW9uIChwaywgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZuXzEocGssIHt9LCBmdW5jdGlvbiAobmV3Um93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Jvd1tQS18xXSA9IHBrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZGIucXVlcnkoXCJ1cHNlcnRcIiwgbmV3Um93KS5tYW51YWxFeGVjKHsgdGFibGU6IF90aGlzLl9xdWVyeS50YWJsZSB9KS50aGVuKGRvbmUpLmNhdGNoKGRvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzKFt7IG1zZzogKF90aGlzLl9xdWVyeS5vbiB8fCBbXSkubGVuZ3RoICsgXCIgcm93cyBtb2RpZmllZCBvciBhZGRlZC5cIiB9XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcXVlcnkuYWN0aW9uID0gXCJzZWxlY3RcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3F1ZXJ5LmFjdGlvbkFyZ3MgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1blF1ZXJ5KF90aGlzLCBmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChyb3dzLCBmdW5jdGlvbiAocm93LCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5pc0Zyb3plbihyb3cpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdyA9IHV0aWxpdGllc18xLl9hc3NpZ24ocm93KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm5fMShyb3dbUEtfMV0sIHJvdywgZnVuY3Rpb24gKG5ld1Jvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdSb3dbUEtfMV0gPSByb3dbUEtfMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9kYi5xdWVyeShcInVwc2VydFwiLCBuZXdSb3cpLm1hbnVhbEV4ZWMoeyB0YWJsZTogX3RoaXMuX3F1ZXJ5LnRhYmxlIH0pLnRoZW4oZG9uZSkuY2F0Y2goZG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMoeyBtc2c6IHJvd3MubGVuZ3RoICsgXCIgcm93cyBtb2RpZmllZFwiIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqKFwiTm8gZnVuY3Rpb24gXCIgKyBfdGhpcy5fcXVlcnkuYWN0aW9uQXJncyArIFwiIGZvdW5kIHRvIHBlcmZvcm0gdXBkYXRlcyFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEV4ZWN1dGVzIHRoZSBjdXJyZW50IHBlbmRpbmcgcXVlcnkgdG8gdGhlIGRiIGVuZ2luZSwgcmV0dXJucyBhIHByb21pc2Ugd2l0aCB0aGUgcm93cyBhcyBvYmplY3RzIGluIGFuIGFycmF5LlxyXG4gICAgICpcclxuICAgICAqIEV4YW1wbGU6XHJcbiAgICAgKiBuU1FMKFwidXNlcnNcIikucXVlcnkoXCJzZWxlY3RcIikuZXhlYygpLnRoZW4oZnVuY3Rpb24ocm93cykge1xyXG4gICAgICogICAgIGNvbnNvbGUubG9nKHJvd3MpIC8vIDw9IFt7aWQ6MSx1c2VybmFtZTpcIlNjb3R0XCIscGFzc3dvcmQ6XCIxMjM0XCJ9LHtpZDoyLHVzZXJuYW1lOlwiSmViXCIscGFzc3dvcmQ6XCIxMjM0XCJ9XVxyXG4gICAgICogICAgIHJldHVybiBuU1FMKCkucXVlcnkoXCJ1cHNlcnRcIix7cGFzc3dvcmQ6XCJzb21ldGhpbmcgbW9yZSBzZWN1cmVcIn0pLndoZXJlKFtcImlkXCIsXCI9XCIsMV0pLmV4ZWMoKTtcclxuICAgICAqIH0pLnRoZW4oZnVuY3Rpb24ocm93cykge1xyXG4gICAgICogIC4uLlxyXG4gICAgICogfSkuLi5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7KFByb21pc2U8QXJyYXk8T2JqZWN0Pj4pfVxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJPZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxRdWVyeS5wcm90b3R5cGUuZXhlYyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLl9xdWVyeS50YWJsZSA9PT0gXCIqXCIpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGEgPSB0aGlzLl9xdWVyeS5hY3Rpb24udG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBpZiAoW1widG9jb2x1bW5cIiwgXCJ0b3Jvd1wiXS5pbmRleE9mKGEpID4gLTEpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3F1ZXJ5LmRlYm91bmNlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVub3JtYWxpemF0aW9uS2V5XzEgPSB1dGlsaXRpZXNfMS5oYXNoKEpTT04uc3RyaW5naWZ5KFt0aGlzLl9xdWVyeS50YWJsZSwgYSwgdGhpcy5fcXVlcnkuYWN0aW9uQXJncywgdGhpcy5fcXVlcnkub24sIHRoaXMuX3F1ZXJ5LndoZXJlXS5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHI7IH0pKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHV0aWxpdGllc18xLlByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlYm91bmNlVGltZXJzW2Rlbm9ybWFsaXphdGlvbktleV8xXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoZGVib3VuY2VUaW1lcnNbZGVub3JtYWxpemF0aW9uS2V5XzFdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGVib3VuY2VUaW1lcnNbZGVub3JtYWxpemF0aW9uS2V5XzFdID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlbm9ybWFsaXphdGlvblF1ZXJ5KGEpLnRoZW4ocmVzKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBfdGhpcy5fcXVlcnkuZGVib3VuY2UpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVub3JtYWxpemF0aW9uUXVlcnkoYSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChbXCJzZWxlY3RcIiwgXCJ1cHNlcnRcIiwgXCJkZWxldGVcIiwgXCJkcm9wXCIsIFwic2hvdyB0YWJsZXNcIiwgXCJkZXNjcmliZVwiXS5pbmRleE9mKGEpID4gLTEpIHtcclxuICAgICAgICAgICAgdmFyIG5ld0FyZ3NfMSA9IHRoaXMuX3F1ZXJ5LmFjdGlvbkFyZ3MgfHwgKGEgPT09IFwic2VsZWN0XCIgfHwgYSA9PT0gXCJkZWxldGVcIiA/IFtdIDoge30pO1xyXG4gICAgICAgICAgICBpZiAoYSA9PT0gXCJ1cHNlcnRcIikge1xyXG4gICAgICAgICAgICAgICAgLy8gQ2FzdCByb3cgdHlwZXMgYW5kIHJlbW92ZSBjb2x1bW5zIHRoYXQgZG9uJ3QgZXhpc3QgaW4gdGhlIGRhdGEgbW9kZWxcclxuICAgICAgICAgICAgICAgIHZhciBpbnB1dEFyZ3NfMSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vZGVscyA9IHRoaXMuX2RiLmRhdGFNb2RlbHNbdGhpcy5fcXVlcnkudGFibGVdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGsgPSAwO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGsgPCBtb2RlbHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0FyZ3NfMVttb2RlbHNba10ua2V5XSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0QXJnc18xW21vZGVsc1trXS5rZXldID0gdXRpbGl0aWVzXzEuY2FzdChtb2RlbHNba10udHlwZSwgbmV3QXJnc18xW21vZGVsc1trXS5rZXldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaysrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gaW5zZXJ0IHdpbGRjYXJkIGNvbHVtbnNcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9kYi5za2lwUHVyZ2VbdGhpcy5fcXVlcnkudGFibGVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGVsQ29sdW1uc18xID0gbW9kZWxzLm1hcChmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5rZXk7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2x1bW5zID0gT2JqZWN0LmtleXMobmV3QXJnc18xKS5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIG1vZGVsQ29sdW1uc18xLmluZGV4T2YoYykgPT09IC0xOyB9KTsgLy8gd2lsZGNhcmQgY29sdW1uc1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0QXJnc18xW2NvbF0gPSBuZXdBcmdzXzFbY29sXTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG5ld0FyZ3NfMSA9IGlucHV0QXJnc18xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3F1ZXJ5LmFjdGlvbiA9IGE7XHJcbiAgICAgICAgICAgIHRoaXMuX3F1ZXJ5LmFjdGlvbkFyZ3MgPSB0aGlzLl9xdWVyeS5hY3Rpb25BcmdzID8gbmV3QXJnc18xIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJObyB2YWxpZCBkYXRhYmFzZSBhY3Rpb24hXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IHV0aWxpdGllc18xLlByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XHJcbiAgICAgICAgICAgIC8vIGhhbmRsZSBpbnN0YW5jZSBxdWVyaWVzXHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KF90aGlzLl9xdWVyeS50YWJsZSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fZGIuaUIuZG9FeGVjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2RiLmlCLmRvRXhlYyhfdGhpcy5fcXVlcnksIGZ1bmN0aW9uIChxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyhxLnJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCF0Ll9kYi5wbHVnaW5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdC5fZXJyb3IgPSBcIk5vIHBsdWdpbnMsIG5vdGhpbmcgdG8gZG8hXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHQuX2Vycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZWoodC5fZXJyb3IsIF90aGlzLl9kYik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKF90aGlzLl9kYi5xdWVyeU1vZCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX2RiLnF1ZXJ5TW9kKF90aGlzLl9xdWVyeSwgZnVuY3Rpb24gKG5ld1EpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcXVlcnkgPSBuZXdRO1xyXG4gICAgICAgICAgICAgICAgICAgIHJ1blF1ZXJ5KF90aGlzLCByZXMpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBydW5RdWVyeShfdGhpcywgcmVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfTmFub1NRTFF1ZXJ5O1xyXG59KCkpO1xyXG5leHBvcnRzLl9OYW5vU1FMUXVlcnkgPSBfTmFub1NRTFF1ZXJ5O1xyXG4iLCJpbXBvcnQgeyBEYXRhYmFzZUV2ZW50IH0gZnJvbSBcIm5hbm8tc3FsXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IG5TUUwgfSBmcm9tICduYW5vLXNxbCdcbmltcG9ydCB7IGJpbmROU1FMIH0gZnJvbSAnbmFuby1zcWwtcmVhY3QnXG5cbmltcG9ydCBBY2NvdW50U3RhdHVzIGZyb20gJy4vY29tcG9uZW50cy9BY2NvdW50U3RhdHVzL0FjY291bnRTdGF0dXMnXG5cbi8vIGxldCBjdXJyZW50VXNlciA9ICdhbnRvbidcbi8vIGluc2VydGluZyB0ZXN0IGRhdGEgZm9yIG5vd1xubGV0IGJhbGFuY2VUYWJsZSA9IG5TUUwoJ2JhbGFuY2UnKS5tb2RlbChbXG4gIHtrZXk6ICdpZCcsIHR5cGU6ICdpbnQnLCBwcm9wczogWydwaycsICdhaSddfSxcbiAge2tleTogJ3VzZXJJZCcsIHR5cGU6ICdzdHJpbmcnfSxcbiAge2tleTogJ2JhbGFuY2UnLCB0eXBlOiAnaW50J31cbl0pLmNvbmZpZyh7bW9kZTogJ1RFTVAnfSlcblxuYmFsYW5jZVRhYmxlLmNvbm5lY3QoKS50aGVuKChyZXMpID0+IHtcbiAgcmV0dXJuIG5TUUwoKS5xdWVyeSgndXBzZXJ0Jywge1xuICAgIHVzZXJJZDogJ2FudG9uJywgYmFsYW5jZTogMjBcbiAgfSkuZXhlYygpXG59KVxuXG5jb25zdCBhc25zcWwgPSBiaW5kTlNRTChBY2NvdW50U3RhdHVzKVxuZXhwb3J0IHthc25zcWwgYXMgQWNjb3VudFN0YXR1c31cbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxudmFyIF9oeXBoZW5QYXR0ZXJuID0gLy0oLikvZztcblxuLyoqXG4gKiBDYW1lbGNhc2VzIGEgaHlwaGVuYXRlZCBzdHJpbmcsIGZvciBleGFtcGxlOlxuICpcbiAqICAgPiBjYW1lbGl6ZSgnYmFja2dyb3VuZC1jb2xvcicpXG4gKiAgIDwgXCJiYWNrZ3JvdW5kQ29sb3JcIlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gY2FtZWxpemUoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcucmVwbGFjZShfaHlwaGVuUGF0dGVybiwgZnVuY3Rpb24gKF8sIGNoYXJhY3Rlcikge1xuICAgIHJldHVybiBjaGFyYWN0ZXIudG9VcHBlckNhc2UoKTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY2FtZWxpemU7IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGNhbWVsaXplID0gcmVxdWlyZSgnLi9jYW1lbGl6ZScpO1xuXG52YXIgbXNQYXR0ZXJuID0gL14tbXMtLztcblxuLyoqXG4gKiBDYW1lbGNhc2VzIGEgaHlwaGVuYXRlZCBDU1MgcHJvcGVydHkgbmFtZSwgZm9yIGV4YW1wbGU6XG4gKlxuICogICA+IGNhbWVsaXplU3R5bGVOYW1lKCdiYWNrZ3JvdW5kLWNvbG9yJylcbiAqICAgPCBcImJhY2tncm91bmRDb2xvclwiXG4gKiAgID4gY2FtZWxpemVTdHlsZU5hbWUoJy1tb3otdHJhbnNpdGlvbicpXG4gKiAgIDwgXCJNb3pUcmFuc2l0aW9uXCJcbiAqICAgPiBjYW1lbGl6ZVN0eWxlTmFtZSgnLW1zLXRyYW5zaXRpb24nKVxuICogICA8IFwibXNUcmFuc2l0aW9uXCJcbiAqXG4gKiBBcyBBbmRpIFNtaXRoIHN1Z2dlc3RzXG4gKiAoaHR0cDovL3d3dy5hbmRpc21pdGguY29tL2Jsb2cvMjAxMi8wMi9tb2Rlcm5penItcHJlZml4ZWQvKSwgYW4gYC1tc2AgcHJlZml4XG4gKiBpcyBjb252ZXJ0ZWQgdG8gbG93ZXJjYXNlIGBtc2AuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZ1xuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBjYW1lbGl6ZVN0eWxlTmFtZShzdHJpbmcpIHtcbiAgcmV0dXJuIGNhbWVsaXplKHN0cmluZy5yZXBsYWNlKG1zUGF0dGVybiwgJ21zLScpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjYW1lbGl6ZVN0eWxlTmFtZTsiLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQHR5cGVjaGVja3NcbiAqL1xuXG52YXIgX3VwcGVyY2FzZVBhdHRlcm4gPSAvKFtBLVpdKS9nO1xuXG4vKipcbiAqIEh5cGhlbmF0ZXMgYSBjYW1lbGNhc2VkIHN0cmluZywgZm9yIGV4YW1wbGU6XG4gKlxuICogICA+IGh5cGhlbmF0ZSgnYmFja2dyb3VuZENvbG9yJylcbiAqICAgPCBcImJhY2tncm91bmQtY29sb3JcIlxuICpcbiAqIEZvciBDU1Mgc3R5bGUgbmFtZXMsIHVzZSBgaHlwaGVuYXRlU3R5bGVOYW1lYCBpbnN0ZWFkIHdoaWNoIHdvcmtzIHByb3Blcmx5XG4gKiB3aXRoIGFsbCB2ZW5kb3IgcHJlZml4ZXMsIGluY2x1ZGluZyBgbXNgLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gaHlwaGVuYXRlKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoX3VwcGVyY2FzZVBhdHRlcm4sICctJDEnKS50b0xvd2VyQ2FzZSgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGh5cGhlbmF0ZTsiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaHlwaGVuYXRlID0gcmVxdWlyZSgnLi9oeXBoZW5hdGUnKTtcblxudmFyIG1zUGF0dGVybiA9IC9ebXMtLztcblxuLyoqXG4gKiBIeXBoZW5hdGVzIGEgY2FtZWxjYXNlZCBDU1MgcHJvcGVydHkgbmFtZSwgZm9yIGV4YW1wbGU6XG4gKlxuICogICA+IGh5cGhlbmF0ZVN0eWxlTmFtZSgnYmFja2dyb3VuZENvbG9yJylcbiAqICAgPCBcImJhY2tncm91bmQtY29sb3JcIlxuICogICA+IGh5cGhlbmF0ZVN0eWxlTmFtZSgnTW96VHJhbnNpdGlvbicpXG4gKiAgIDwgXCItbW96LXRyYW5zaXRpb25cIlxuICogICA+IGh5cGhlbmF0ZVN0eWxlTmFtZSgnbXNUcmFuc2l0aW9uJylcbiAqICAgPCBcIi1tcy10cmFuc2l0aW9uXCJcbiAqXG4gKiBBcyBNb2Rlcm5penIgc3VnZ2VzdHMgKGh0dHA6Ly9tb2Rlcm5penIuY29tL2RvY3MvI3ByZWZpeGVkKSwgYW4gYG1zYCBwcmVmaXhcbiAqIGlzIGNvbnZlcnRlZCB0byBgLW1zLWAuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZ1xuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBoeXBoZW5hdGVTdHlsZU5hbWUoc3RyaW5nKSB7XG4gIHJldHVybiBoeXBoZW5hdGUoc3RyaW5nKS5yZXBsYWNlKG1zUGF0dGVybiwgJy1tcy0nKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBoeXBoZW5hdGVTdHlsZU5hbWU7IiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNoZWNrLlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIG9iamVjdCBpcyBhIERPTSBub2RlLlxuICovXG5mdW5jdGlvbiBpc05vZGUob2JqZWN0KSB7XG4gIHZhciBkb2MgPSBvYmplY3QgPyBvYmplY3Qub3duZXJEb2N1bWVudCB8fCBvYmplY3QgOiBkb2N1bWVudDtcbiAgdmFyIGRlZmF1bHRWaWV3ID0gZG9jLmRlZmF1bHRWaWV3IHx8IHdpbmRvdztcbiAgcmV0dXJuICEhKG9iamVjdCAmJiAodHlwZW9mIGRlZmF1bHRWaWV3Lk5vZGUgPT09ICdmdW5jdGlvbicgPyBvYmplY3QgaW5zdGFuY2VvZiBkZWZhdWx0Vmlldy5Ob2RlIDogdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG9iamVjdC5ub2RlVHlwZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIG9iamVjdC5ub2RlTmFtZSA9PT0gJ3N0cmluZycpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc05vZGU7IiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxudmFyIGlzTm9kZSA9IHJlcXVpcmUoJy4vaXNOb2RlJyk7XG5cbi8qKlxuICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIG9iamVjdCB0byBjaGVjay5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBvYmplY3QgaXMgYSBET00gdGV4dCBub2RlLlxuICovXG5mdW5jdGlvbiBpc1RleHROb2RlKG9iamVjdCkge1xuICByZXR1cm4gaXNOb2RlKG9iamVjdCkgJiYgb2JqZWN0Lm5vZGVUeXBlID09IDM7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNUZXh0Tm9kZTsiLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogXG4gKi9cblxudmFyIGlzVGV4dE5vZGUgPSByZXF1aXJlKCcuL2lzVGV4dE5vZGUnKTtcblxuLyplc2xpbnQtZGlzYWJsZSBuby1iaXR3aXNlICovXG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgZ2l2ZW4gRE9NIG5vZGUgY29udGFpbnMgb3IgaXMgYW5vdGhlciBET00gbm9kZS5cbiAqL1xuZnVuY3Rpb24gY29udGFpbnNOb2RlKG91dGVyTm9kZSwgaW5uZXJOb2RlKSB7XG4gIGlmICghb3V0ZXJOb2RlIHx8ICFpbm5lck5vZGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSBpZiAob3V0ZXJOb2RlID09PSBpbm5lck5vZGUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmIChpc1RleHROb2RlKG91dGVyTm9kZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSBpZiAoaXNUZXh0Tm9kZShpbm5lck5vZGUpKSB7XG4gICAgcmV0dXJuIGNvbnRhaW5zTm9kZShvdXRlck5vZGUsIGlubmVyTm9kZS5wYXJlbnROb2RlKTtcbiAgfSBlbHNlIGlmICgnY29udGFpbnMnIGluIG91dGVyTm9kZSkge1xuICAgIHJldHVybiBvdXRlck5vZGUuY29udGFpbnMoaW5uZXJOb2RlKTtcbiAgfSBlbHNlIGlmIChvdXRlck5vZGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24pIHtcbiAgICByZXR1cm4gISEob3V0ZXJOb2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGlubmVyTm9kZSkgJiAxNik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29udGFpbnNOb2RlOyIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQHR5cGVjaGVja3NcbiAqIFxuICovXG5cbi8qZXNsaW50LWRpc2FibGUgbm8tc2VsZi1jb21wYXJlICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBpbmxpbmVkIE9iamVjdC5pcyBwb2x5ZmlsbCB0byBhdm9pZCByZXF1aXJpbmcgY29uc3VtZXJzIHNoaXAgdGhlaXIgb3duXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXNcbiAqL1xuZnVuY3Rpb24gaXMoeCwgeSkge1xuICAvLyBTYW1lVmFsdWUgYWxnb3JpdGhtXG4gIGlmICh4ID09PSB5KSB7XG4gICAgLy8gU3RlcHMgMS01LCA3LTEwXG4gICAgLy8gU3RlcHMgNi5iLTYuZTogKzAgIT0gLTBcbiAgICAvLyBBZGRlZCB0aGUgbm9uemVybyB5IGNoZWNrIHRvIG1ha2UgRmxvdyBoYXBweSwgYnV0IGl0IGlzIHJlZHVuZGFudFxuICAgIHJldHVybiB4ICE9PSAwIHx8IHkgIT09IDAgfHwgMSAvIHggPT09IDEgLyB5O1xuICB9IGVsc2Uge1xuICAgIC8vIFN0ZXAgNi5hOiBOYU4gPT0gTmFOXG4gICAgcmV0dXJuIHggIT09IHggJiYgeSAhPT0geTtcbiAgfVxufVxuXG4vKipcbiAqIFBlcmZvcm1zIGVxdWFsaXR5IGJ5IGl0ZXJhdGluZyB0aHJvdWdoIGtleXMgb24gYW4gb2JqZWN0IGFuZCByZXR1cm5pbmcgZmFsc2VcbiAqIHdoZW4gYW55IGtleSBoYXMgdmFsdWVzIHdoaWNoIGFyZSBub3Qgc3RyaWN0bHkgZXF1YWwgYmV0d2VlbiB0aGUgYXJndW1lbnRzLlxuICogUmV0dXJucyB0cnVlIHdoZW4gdGhlIHZhbHVlcyBvZiBhbGwga2V5cyBhcmUgc3RyaWN0bHkgZXF1YWwuXG4gKi9cbmZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBLCBvYmpCKSB7XG4gIGlmIChpcyhvYmpBLCBvYmpCKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmpBICE9PSAnb2JqZWN0JyB8fCBvYmpBID09PSBudWxsIHx8IHR5cGVvZiBvYmpCICE9PSAnb2JqZWN0JyB8fCBvYmpCID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMob2JqQSk7XG4gIHZhciBrZXlzQiA9IE9iamVjdC5rZXlzKG9iakIpO1xuXG4gIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFRlc3QgZm9yIEEncyBrZXlzIGRpZmZlcmVudCBmcm9tIEIuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5c0EubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwob2JqQiwga2V5c0FbaV0pIHx8ICFpcyhvYmpBW2tleXNBW2ldXSwgb2JqQltrZXlzQVtpXV0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hhbGxvd0VxdWFsOyIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbi8qIGVzbGludC1kaXNhYmxlIGZiLXd3dy90eXBlb2YtdW5kZWZpbmVkICovXG5cbi8qKlxuICogU2FtZSBhcyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGJ1dCB3cmFwcyBpbiBhIHRyeS1jYXRjaCBibG9jay4gSW4gSUUgaXQgaXNcbiAqIG5vdCBzYWZlIHRvIGNhbGwgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpZiB0aGVyZSBpcyBub3RoaW5nIGZvY3VzZWQuXG4gKlxuICogVGhlIGFjdGl2ZUVsZW1lbnQgd2lsbCBiZSBudWxsIG9ubHkgaWYgdGhlIGRvY3VtZW50IG9yIGRvY3VtZW50IGJvZHkgaXMgbm90XG4gKiB5ZXQgZGVmaW5lZC5cbiAqXG4gKiBAcGFyYW0gez9ET01Eb2N1bWVudH0gZG9jIERlZmF1bHRzIHRvIGN1cnJlbnQgZG9jdW1lbnQuXG4gKiBAcmV0dXJuIHs/RE9NRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gZ2V0QWN0aXZlRWxlbWVudChkb2MpIC8qP0RPTUVsZW1lbnQqL3tcbiAgZG9jID0gZG9jIHx8ICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnID8gZG9jdW1lbnQgOiB1bmRlZmluZWQpO1xuICBpZiAodHlwZW9mIGRvYyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB0cnkge1xuICAgIHJldHVybiBkb2MuYWN0aXZlRWxlbWVudCB8fCBkb2MuYm9keTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBkb2MuYm9keTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldEFjdGl2ZUVsZW1lbnQ7IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgY2FuVXNlRE9NID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcblxuLyoqXG4gKiBTaW1wbGUsIGxpZ2h0d2VpZ2h0IG1vZHVsZSBhc3Npc3Rpbmcgd2l0aCB0aGUgZGV0ZWN0aW9uIGFuZCBjb250ZXh0IG9mXG4gKiBXb3JrZXIuIEhlbHBzIGF2b2lkIGNpcmN1bGFyIGRlcGVuZGVuY2llcyBhbmQgYWxsb3dzIGNvZGUgdG8gcmVhc29uIGFib3V0XG4gKiB3aGV0aGVyIG9yIG5vdCB0aGV5IGFyZSBpbiBhIFdvcmtlciwgZXZlbiBpZiB0aGV5IG5ldmVyIGluY2x1ZGUgdGhlIG1haW5cbiAqIGBSZWFjdFdvcmtlcmAgZGVwZW5kZW5jeS5cbiAqL1xudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0ge1xuXG4gIGNhblVzZURPTTogY2FuVXNlRE9NLFxuXG4gIGNhblVzZVdvcmtlcnM6IHR5cGVvZiBXb3JrZXIgIT09ICd1bmRlZmluZWQnLFxuXG4gIGNhblVzZUV2ZW50TGlzdGVuZXJzOiBjYW5Vc2VET00gJiYgISEod2luZG93LmFkZEV2ZW50TGlzdGVuZXIgfHwgd2luZG93LmF0dGFjaEV2ZW50KSxcblxuICBjYW5Vc2VWaWV3cG9ydDogY2FuVXNlRE9NICYmICEhd2luZG93LnNjcmVlbixcblxuICBpc0luV29ya2VyOiAhY2FuVXNlRE9NIC8vIEZvciBub3csIHRoaXMgaXMgdHJ1ZSAtIG1pZ2h0IGNoYW5nZSBpbiB0aGUgZnV0dXJlLlxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEV4ZWN1dGlvbkVudmlyb25tZW50OyIsIi8qKiBAbGljZW5zZSBSZWFjdCB2MTYuMy4xXG4gKiByZWFjdC1kb20uZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cblxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIChmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbnZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcbnZhciBfYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xudmFyIGVtcHR5RnVuY3Rpb24gPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eUZ1bmN0aW9uJyk7XG52YXIgY2hlY2tQcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzL2NoZWNrUHJvcFR5cGVzJyk7XG52YXIgZ2V0QWN0aXZlRWxlbWVudCA9IHJlcXVpcmUoJ2ZianMvbGliL2dldEFjdGl2ZUVsZW1lbnQnKTtcbnZhciBzaGFsbG93RXF1YWwgPSByZXF1aXJlKCdmYmpzL2xpYi9zaGFsbG93RXF1YWwnKTtcbnZhciBjb250YWluc05vZGUgPSByZXF1aXJlKCdmYmpzL2xpYi9jb250YWluc05vZGUnKTtcbnZhciBlbXB0eU9iamVjdCA9IHJlcXVpcmUoJ2ZianMvbGliL2VtcHR5T2JqZWN0Jyk7XG52YXIgaHlwaGVuYXRlU3R5bGVOYW1lID0gcmVxdWlyZSgnZmJqcy9saWIvaHlwaGVuYXRlU3R5bGVOYW1lJyk7XG52YXIgY2FtZWxpemVTdHlsZU5hbWUgPSByZXF1aXJlKCdmYmpzL2xpYi9jYW1lbGl6ZVN0eWxlTmFtZScpO1xuXG4vKipcbiAqIFdBUk5JTkc6IERPIE5PVCBtYW51YWxseSByZXF1aXJlIHRoaXMgbW9kdWxlLlxuICogVGhpcyBpcyBhIHJlcGxhY2VtZW50IGZvciBgaW52YXJpYW50KC4uLilgIHVzZWQgYnkgdGhlIGVycm9yIGNvZGUgc3lzdGVtXG4gKiBhbmQgd2lsbCBfb25seV8gYmUgcmVxdWlyZWQgYnkgdGhlIGNvcnJlc3BvbmRpbmcgYmFiZWwgcGFzcy5cbiAqIEl0IGFsd2F5cyB0aHJvd3MuXG4gKi9cblxuIVJlYWN0ID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RET00gd2FzIGxvYWRlZCBiZWZvcmUgUmVhY3QuIE1ha2Ugc3VyZSB5b3UgbG9hZCB0aGUgUmVhY3QgcGFja2FnZSBiZWZvcmUgbG9hZGluZyBSZWFjdERPTS4nKSA6IHZvaWQgMDtcblxudmFyIGludm9rZUd1YXJkZWRDYWxsYmFjayA9IGZ1bmN0aW9uIChuYW1lLCBmdW5jLCBjb250ZXh0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIHRoaXMuX2hhc0NhdWdodEVycm9yID0gZmFsc2U7XG4gIHRoaXMuX2NhdWdodEVycm9yID0gbnVsbDtcbiAgdmFyIGZ1bmNBcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAzKTtcbiAgdHJ5IHtcbiAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGZ1bmNBcmdzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aGlzLl9jYXVnaHRFcnJvciA9IGVycm9yO1xuICAgIHRoaXMuX2hhc0NhdWdodEVycm9yID0gdHJ1ZTtcbiAgfVxufTtcblxue1xuICAvLyBJbiBERVYgbW9kZSwgd2Ugc3dhcCBvdXQgaW52b2tlR3VhcmRlZENhbGxiYWNrIGZvciBhIHNwZWNpYWwgdmVyc2lvblxuICAvLyB0aGF0IHBsYXlzIG1vcmUgbmljZWx5IHdpdGggdGhlIGJyb3dzZXIncyBEZXZUb29scy4gVGhlIGlkZWEgaXMgdG8gcHJlc2VydmVcbiAgLy8gXCJQYXVzZSBvbiBleGNlcHRpb25zXCIgYmVoYXZpb3IuIEJlY2F1c2UgUmVhY3Qgd3JhcHMgYWxsIHVzZXItcHJvdmlkZWRcbiAgLy8gZnVuY3Rpb25zIGluIGludm9rZUd1YXJkZWRDYWxsYmFjaywgYW5kIHRoZSBwcm9kdWN0aW9uIHZlcnNpb24gb2ZcbiAgLy8gaW52b2tlR3VhcmRlZENhbGxiYWNrIHVzZXMgYSB0cnktY2F0Y2gsIGFsbCB1c2VyIGV4Y2VwdGlvbnMgYXJlIHRyZWF0ZWRcbiAgLy8gbGlrZSBjYXVnaHQgZXhjZXB0aW9ucywgYW5kIHRoZSBEZXZUb29scyB3b24ndCBwYXVzZSB1bmxlc3MgdGhlIGRldmVsb3BlclxuICAvLyB0YWtlcyB0aGUgZXh0cmEgc3RlcCBvZiBlbmFibGluZyBwYXVzZSBvbiBjYXVnaHQgZXhjZXB0aW9ucy4gVGhpcyBpc1xuICAvLyB1bnRpbnR1aXRpdmUsIHRob3VnaCwgYmVjYXVzZSBldmVuIHRob3VnaCBSZWFjdCBoYXMgY2F1Z2h0IHRoZSBlcnJvciwgZnJvbVxuICAvLyB0aGUgZGV2ZWxvcGVyJ3MgcGVyc3BlY3RpdmUsIHRoZSBlcnJvciBpcyB1bmNhdWdodC5cbiAgLy9cbiAgLy8gVG8gcHJlc2VydmUgdGhlIGV4cGVjdGVkIFwiUGF1c2Ugb24gZXhjZXB0aW9uc1wiIGJlaGF2aW9yLCB3ZSBkb24ndCB1c2UgYVxuICAvLyB0cnktY2F0Y2ggaW4gREVWLiBJbnN0ZWFkLCB3ZSBzeW5jaHJvbm91c2x5IGRpc3BhdGNoIGEgZmFrZSBldmVudCB0byBhIGZha2VcbiAgLy8gRE9NIG5vZGUsIGFuZCBjYWxsIHRoZSB1c2VyLXByb3ZpZGVkIGNhbGxiYWNrIGZyb20gaW5zaWRlIGFuIGV2ZW50IGhhbmRsZXJcbiAgLy8gZm9yIHRoYXQgZmFrZSBldmVudC4gSWYgdGhlIGNhbGxiYWNrIHRocm93cywgdGhlIGVycm9yIGlzIFwiY2FwdHVyZWRcIiB1c2luZ1xuICAvLyBhIGdsb2JhbCBldmVudCBoYW5kbGVyLiBCdXQgYmVjYXVzZSB0aGUgZXJyb3IgaGFwcGVucyBpbiBhIGRpZmZlcmVudFxuICAvLyBldmVudCBsb29wIGNvbnRleHQsIGl0IGRvZXMgbm90IGludGVycnVwdCB0aGUgbm9ybWFsIHByb2dyYW0gZmxvdy5cbiAgLy8gRWZmZWN0aXZlbHksIHRoaXMgZ2l2ZXMgdXMgdHJ5LWNhdGNoIGJlaGF2aW9yIHdpdGhvdXQgYWN0dWFsbHkgdXNpbmdcbiAgLy8gdHJ5LWNhdGNoLiBOZWF0IVxuXG4gIC8vIENoZWNrIHRoYXQgdGhlIGJyb3dzZXIgc3VwcG9ydHMgdGhlIEFQSXMgd2UgbmVlZCB0byBpbXBsZW1lbnQgb3VyIHNwZWNpYWxcbiAgLy8gREVWIHZlcnNpb24gb2YgaW52b2tlR3VhcmRlZENhbGxiYWNrXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRpc3BhdGNoRXZlbnQgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRXZlbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgZmFrZU5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdyZWFjdCcpO1xuXG4gICAgdmFyIGludm9rZUd1YXJkZWRDYWxsYmFja0RldiA9IGZ1bmN0aW9uIChuYW1lLCBmdW5jLCBjb250ZXh0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gICAgICAvLyBJZiBkb2N1bWVudCBkb2Vzbid0IGV4aXN0IHdlIGtub3cgZm9yIHN1cmUgd2Ugd2lsbCBjcmFzaCBpbiB0aGlzIG1ldGhvZFxuICAgICAgLy8gd2hlbiB3ZSBjYWxsIGRvY3VtZW50LmNyZWF0ZUV2ZW50KCkuIEhvd2V2ZXIgdGhpcyBjYW4gY2F1c2UgY29uZnVzaW5nXG4gICAgICAvLyBlcnJvcnM6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9va2luY3ViYXRvci9jcmVhdGUtcmVhY3QtYXBwL2lzc3Vlcy8zNDgyXG4gICAgICAvLyBTbyB3ZSBwcmVlbXB0aXZlbHkgdGhyb3cgd2l0aCBhIGJldHRlciBtZXNzYWdlIGluc3RlYWQuXG4gICAgICAhKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpID8gaW52YXJpYW50KGZhbHNlLCAnVGhlIGBkb2N1bWVudGAgZ2xvYmFsIHdhcyBkZWZpbmVkIHdoZW4gUmVhY3Qgd2FzIGluaXRpYWxpemVkLCBidXQgaXMgbm90IGRlZmluZWQgYW55bW9yZS4gVGhpcyBjYW4gaGFwcGVuIGluIGEgdGVzdCBlbnZpcm9ubWVudCBpZiBhIGNvbXBvbmVudCBzY2hlZHVsZXMgYW4gdXBkYXRlIGZyb20gYW4gYXN5bmNocm9ub3VzIGNhbGxiYWNrLCBidXQgdGhlIHRlc3QgaGFzIGFscmVhZHkgZmluaXNoZWQgcnVubmluZy4gVG8gc29sdmUgdGhpcywgeW91IGNhbiBlaXRoZXIgdW5tb3VudCB0aGUgY29tcG9uZW50IGF0IHRoZSBlbmQgb2YgeW91ciB0ZXN0IChhbmQgZW5zdXJlIHRoYXQgYW55IGFzeW5jaHJvbm91cyBvcGVyYXRpb25zIGdldCBjYW5jZWxlZCBpbiBgY29tcG9uZW50V2lsbFVubW91bnRgKSwgb3IgeW91IGNhbiBjaGFuZ2UgdGhlIHRlc3QgaXRzZWxmIHRvIGJlIGFzeW5jaHJvbm91cy4nKSA6IHZvaWQgMDtcbiAgICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcblxuICAgICAgLy8gS2VlcHMgdHJhY2sgb2Ygd2hldGhlciB0aGUgdXNlci1wcm92aWRlZCBjYWxsYmFjayB0aHJldyBhbiBlcnJvci4gV2VcbiAgICAgIC8vIHNldCB0aGlzIHRvIHRydWUgYXQgdGhlIGJlZ2lubmluZywgdGhlbiBzZXQgaXQgdG8gZmFsc2UgcmlnaHQgYWZ0ZXJcbiAgICAgIC8vIGNhbGxpbmcgdGhlIGZ1bmN0aW9uLiBJZiB0aGUgZnVuY3Rpb24gZXJyb3JzLCBgZGlkRXJyb3JgIHdpbGwgbmV2ZXIgYmVcbiAgICAgIC8vIHNldCB0byBmYWxzZS4gVGhpcyBzdHJhdGVneSB3b3JrcyBldmVuIGlmIHRoZSBicm93c2VyIGlzIGZsYWt5IGFuZFxuICAgICAgLy8gZmFpbHMgdG8gY2FsbCBvdXIgZ2xvYmFsIGVycm9yIGhhbmRsZXIsIGJlY2F1c2UgaXQgZG9lc24ndCByZWx5IG9uXG4gICAgICAvLyB0aGUgZXJyb3IgZXZlbnQgYXQgYWxsLlxuICAgICAgdmFyIGRpZEVycm9yID0gdHJ1ZTtcblxuICAgICAgLy8gQ3JlYXRlIGFuIGV2ZW50IGhhbmRsZXIgZm9yIG91ciBmYWtlIGV2ZW50LiBXZSB3aWxsIHN5bmNocm9ub3VzbHlcbiAgICAgIC8vIGRpc3BhdGNoIG91ciBmYWtlIGV2ZW50IHVzaW5nIGBkaXNwYXRjaEV2ZW50YC4gSW5zaWRlIHRoZSBoYW5kbGVyLCB3ZVxuICAgICAgLy8gY2FsbCB0aGUgdXNlci1wcm92aWRlZCBjYWxsYmFjay5cbiAgICAgIHZhciBmdW5jQXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMyk7XG4gICAgICBmdW5jdGlvbiBjYWxsQ2FsbGJhY2soKSB7XG4gICAgICAgIC8vIFdlIGltbWVkaWF0ZWx5IHJlbW92ZSB0aGUgY2FsbGJhY2sgZnJvbSBldmVudCBsaXN0ZW5lcnMgc28gdGhhdFxuICAgICAgICAvLyBuZXN0ZWQgYGludm9rZUd1YXJkZWRDYWxsYmFja2AgY2FsbHMgZG8gbm90IGNsYXNoLiBPdGhlcndpc2UsIGFcbiAgICAgICAgLy8gbmVzdGVkIGNhbGwgd291bGQgdHJpZ2dlciB0aGUgZmFrZSBldmVudCBoYW5kbGVycyBvZiBhbnkgY2FsbCBoaWdoZXJcbiAgICAgICAgLy8gaW4gdGhlIHN0YWNrLlxuICAgICAgICBmYWtlTm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2dFR5cGUsIGNhbGxDYWxsYmFjaywgZmFsc2UpO1xuICAgICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGZ1bmNBcmdzKTtcbiAgICAgICAgZGlkRXJyb3IgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlIGEgZ2xvYmFsIGVycm9yIGV2ZW50IGhhbmRsZXIuIFdlIHVzZSB0aGlzIHRvIGNhcHR1cmUgdGhlIHZhbHVlXG4gICAgICAvLyB0aGF0IHdhcyB0aHJvd24uIEl0J3MgcG9zc2libGUgdGhhdCB0aGlzIGVycm9yIGhhbmRsZXIgd2lsbCBmaXJlIG1vcmVcbiAgICAgIC8vIHRoYW4gb25jZTsgZm9yIGV4YW1wbGUsIGlmIG5vbi1SZWFjdCBjb2RlIGFsc28gY2FsbHMgYGRpc3BhdGNoRXZlbnRgXG4gICAgICAvLyBhbmQgYSBoYW5kbGVyIGZvciB0aGF0IGV2ZW50IHRocm93cy4gV2Ugc2hvdWxkIGJlIHJlc2lsaWVudCB0byBtb3N0IG9mXG4gICAgICAvLyB0aG9zZSBjYXNlcy4gRXZlbiBpZiBvdXIgZXJyb3IgZXZlbnQgaGFuZGxlciBmaXJlcyBtb3JlIHRoYW4gb25jZSwgdGhlXG4gICAgICAvLyBsYXN0IGVycm9yIGV2ZW50IGlzIGFsd2F5cyB1c2VkLiBJZiB0aGUgY2FsbGJhY2sgYWN0dWFsbHkgZG9lcyBlcnJvcixcbiAgICAgIC8vIHdlIGtub3cgdGhhdCB0aGUgbGFzdCBlcnJvciBldmVudCBpcyB0aGUgY29ycmVjdCBvbmUsIGJlY2F1c2UgaXQncyBub3RcbiAgICAgIC8vIHBvc3NpYmxlIGZvciBhbnl0aGluZyBlbHNlIHRvIGhhdmUgaGFwcGVuZWQgaW4gYmV0d2VlbiBvdXIgY2FsbGJhY2tcbiAgICAgIC8vIGVycm9yaW5nIGFuZCB0aGUgY29kZSB0aGF0IGZvbGxvd3MgdGhlIGBkaXNwYXRjaEV2ZW50YCBjYWxsIGJlbG93LiBJZlxuICAgICAgLy8gdGhlIGNhbGxiYWNrIGRvZXNuJ3QgZXJyb3IsIGJ1dCB0aGUgZXJyb3IgZXZlbnQgd2FzIGZpcmVkLCB3ZSBrbm93IHRvXG4gICAgICAvLyBpZ25vcmUgaXQgYmVjYXVzZSBgZGlkRXJyb3JgIHdpbGwgYmUgZmFsc2UsIGFzIGRlc2NyaWJlZCBhYm92ZS5cbiAgICAgIHZhciBlcnJvciA9IHZvaWQgMDtcbiAgICAgIC8vIFVzZSB0aGlzIHRvIHRyYWNrIHdoZXRoZXIgdGhlIGVycm9yIGV2ZW50IGlzIGV2ZXIgY2FsbGVkLlxuICAgICAgdmFyIGRpZFNldEVycm9yID0gZmFsc2U7XG4gICAgICB2YXIgaXNDcm9zc09yaWdpbkVycm9yID0gZmFsc2U7XG5cbiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXZlbnQpIHtcbiAgICAgICAgZXJyb3IgPSBldmVudC5lcnJvcjtcbiAgICAgICAgZGlkU2V0RXJyb3IgPSB0cnVlO1xuICAgICAgICBpZiAoZXJyb3IgPT09IG51bGwgJiYgZXZlbnQuY29sbm8gPT09IDAgJiYgZXZlbnQubGluZW5vID09PSAwKSB7XG4gICAgICAgICAgaXNDcm9zc09yaWdpbkVycm9yID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgYSBmYWtlIGV2ZW50IHR5cGUuXG4gICAgICB2YXIgZXZ0VHlwZSA9ICdyZWFjdC0nICsgKG5hbWUgPyBuYW1lIDogJ2ludm9rZWd1YXJkZWRjYWxsYmFjaycpO1xuXG4gICAgICAvLyBBdHRhY2ggb3VyIGV2ZW50IGhhbmRsZXJzXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBvbkVycm9yKTtcbiAgICAgIGZha2VOb2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZ0VHlwZSwgY2FsbENhbGxiYWNrLCBmYWxzZSk7XG5cbiAgICAgIC8vIFN5bmNocm9ub3VzbHkgZGlzcGF0Y2ggb3VyIGZha2UgZXZlbnQuIElmIHRoZSB1c2VyLXByb3ZpZGVkIGZ1bmN0aW9uXG4gICAgICAvLyBlcnJvcnMsIGl0IHdpbGwgdHJpZ2dlciBvdXIgZ2xvYmFsIGVycm9yIGhhbmRsZXIuXG4gICAgICBldnQuaW5pdEV2ZW50KGV2dFR5cGUsIGZhbHNlLCBmYWxzZSk7XG4gICAgICBmYWtlTm9kZS5kaXNwYXRjaEV2ZW50KGV2dCk7XG5cbiAgICAgIGlmIChkaWRFcnJvcikge1xuICAgICAgICBpZiAoIWRpZFNldEVycm9yKSB7XG4gICAgICAgICAgLy8gVGhlIGNhbGxiYWNrIGVycm9yZWQsIGJ1dCB0aGUgZXJyb3IgZXZlbnQgbmV2ZXIgZmlyZWQuXG4gICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ0FuIGVycm9yIHdhcyB0aHJvd24gaW5zaWRlIG9uZSBvZiB5b3VyIGNvbXBvbmVudHMsIGJ1dCBSZWFjdCAnICsgXCJkb2Vzbid0IGtub3cgd2hhdCBpdCB3YXMuIFRoaXMgaXMgbGlrZWx5IGR1ZSB0byBicm93c2VyIFwiICsgJ2ZsYWtpbmVzcy4gUmVhY3QgZG9lcyBpdHMgYmVzdCB0byBwcmVzZXJ2ZSB0aGUgXCJQYXVzZSBvbiAnICsgJ2V4Y2VwdGlvbnNcIiBiZWhhdmlvciBvZiB0aGUgRGV2VG9vbHMsIHdoaWNoIHJlcXVpcmVzIHNvbWUgJyArIFwiREVWLW1vZGUgb25seSB0cmlja3MuIEl0J3MgcG9zc2libGUgdGhhdCB0aGVzZSBkb24ndCB3b3JrIGluIFwiICsgJ3lvdXIgYnJvd3Nlci4gVHJ5IHRyaWdnZXJpbmcgdGhlIGVycm9yIGluIHByb2R1Y3Rpb24gbW9kZSwgJyArICdvciBzd2l0Y2hpbmcgdG8gYSBtb2Rlcm4gYnJvd3Nlci4gSWYgeW91IHN1c3BlY3QgdGhhdCB0aGlzIGlzICcgKyAnYWN0dWFsbHkgYW4gaXNzdWUgd2l0aCBSZWFjdCwgcGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNDcm9zc09yaWdpbkVycm9yKSB7XG4gICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXCJBIGNyb3NzLW9yaWdpbiBlcnJvciB3YXMgdGhyb3duLiBSZWFjdCBkb2Vzbid0IGhhdmUgYWNjZXNzIHRvIFwiICsgJ3RoZSBhY3R1YWwgZXJyb3Igb2JqZWN0IGluIGRldmVsb3BtZW50LiAnICsgJ1NlZSBodHRwczovL2ZiLm1lL3JlYWN0LWNyb3Nzb3JpZ2luLWVycm9yIGZvciBtb3JlIGluZm9ybWF0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2hhc0NhdWdodEVycm9yID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fY2F1Z2h0RXJyb3IgPSBlcnJvcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2hhc0NhdWdodEVycm9yID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NhdWdodEVycm9yID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIG91ciBldmVudCBsaXN0ZW5lcnNcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIG9uRXJyb3IpO1xuICAgIH07XG5cbiAgICBpbnZva2VHdWFyZGVkQ2FsbGJhY2sgPSBpbnZva2VHdWFyZGVkQ2FsbGJhY2tEZXY7XG4gIH1cbn1cblxudmFyIGludm9rZUd1YXJkZWRDYWxsYmFjayQxID0gaW52b2tlR3VhcmRlZENhbGxiYWNrO1xuXG52YXIgUmVhY3RFcnJvclV0aWxzID0ge1xuICAvLyBVc2VkIGJ5IEZpYmVyIHRvIHNpbXVsYXRlIGEgdHJ5LWNhdGNoLlxuICBfY2F1Z2h0RXJyb3I6IG51bGwsXG4gIF9oYXNDYXVnaHRFcnJvcjogZmFsc2UsXG5cbiAgLy8gVXNlZCBieSBldmVudCBzeXN0ZW0gdG8gY2FwdHVyZS9yZXRocm93IHRoZSBmaXJzdCBlcnJvci5cbiAgX3JldGhyb3dFcnJvcjogbnVsbCxcbiAgX2hhc1JldGhyb3dFcnJvcjogZmFsc2UsXG5cbiAgLyoqXG4gICAqIENhbGwgYSBmdW5jdGlvbiB3aGlsZSBndWFyZGluZyBhZ2FpbnN0IGVycm9ycyB0aGF0IGhhcHBlbnMgd2l0aGluIGl0LlxuICAgKiBSZXR1cm5zIGFuIGVycm9yIGlmIGl0IHRocm93cywgb3RoZXJ3aXNlIG51bGwuXG4gICAqXG4gICAqIEluIHByb2R1Y3Rpb24sIHRoaXMgaXMgaW1wbGVtZW50ZWQgdXNpbmcgYSB0cnktY2F0Y2guIFRoZSByZWFzb24gd2UgZG9uJ3RcbiAgICogdXNlIGEgdHJ5LWNhdGNoIGRpcmVjdGx5IGlzIHNvIHRoYXQgd2UgY2FuIHN3YXAgb3V0IGEgZGlmZmVyZW50XG4gICAqIGltcGxlbWVudGF0aW9uIGluIERFViBtb2RlLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBvZiB0aGUgZ3VhcmQgdG8gdXNlIGZvciBsb2dnaW5nIG9yIGRlYnVnZ2luZ1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2VcbiAgICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIHVzZSB3aGVuIGNhbGxpbmcgdGhlIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJncyBBcmd1bWVudHMgZm9yIGZ1bmN0aW9uXG4gICAqL1xuICBpbnZva2VHdWFyZGVkQ2FsbGJhY2s6IGZ1bmN0aW9uIChuYW1lLCBmdW5jLCBjb250ZXh0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gICAgaW52b2tlR3VhcmRlZENhbGxiYWNrJDEuYXBwbHkoUmVhY3RFcnJvclV0aWxzLCBhcmd1bWVudHMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTYW1lIGFzIGludm9rZUd1YXJkZWRDYWxsYmFjaywgYnV0IGluc3RlYWQgb2YgcmV0dXJuaW5nIGFuIGVycm9yLCBpdCBzdG9yZXNcbiAgICogaXQgaW4gYSBnbG9iYWwgc28gaXQgY2FuIGJlIHJldGhyb3duIGJ5IGByZXRocm93Q2F1Z2h0RXJyb3JgIGxhdGVyLlxuICAgKiBUT0RPOiBTZWUgaWYgX2NhdWdodEVycm9yIGFuZCBfcmV0aHJvd0Vycm9yIGNhbiBiZSB1bmlmaWVkLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBvZiB0aGUgZ3VhcmQgdG8gdXNlIGZvciBsb2dnaW5nIG9yIGRlYnVnZ2luZ1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2VcbiAgICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIHVzZSB3aGVuIGNhbGxpbmcgdGhlIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJncyBBcmd1bWVudHMgZm9yIGZ1bmN0aW9uXG4gICAqL1xuICBpbnZva2VHdWFyZGVkQ2FsbGJhY2tBbmRDYXRjaEZpcnN0RXJyb3I6IGZ1bmN0aW9uIChuYW1lLCBmdW5jLCBjb250ZXh0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gICAgUmVhY3RFcnJvclV0aWxzLmludm9rZUd1YXJkZWRDYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChSZWFjdEVycm9yVXRpbHMuaGFzQ2F1Z2h0RXJyb3IoKSkge1xuICAgICAgdmFyIGVycm9yID0gUmVhY3RFcnJvclV0aWxzLmNsZWFyQ2F1Z2h0RXJyb3IoKTtcbiAgICAgIGlmICghUmVhY3RFcnJvclV0aWxzLl9oYXNSZXRocm93RXJyb3IpIHtcbiAgICAgICAgUmVhY3RFcnJvclV0aWxzLl9oYXNSZXRocm93RXJyb3IgPSB0cnVlO1xuICAgICAgICBSZWFjdEVycm9yVXRpbHMuX3JldGhyb3dFcnJvciA9IGVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogRHVyaW5nIGV4ZWN1dGlvbiBvZiBndWFyZGVkIGZ1bmN0aW9ucyB3ZSB3aWxsIGNhcHR1cmUgdGhlIGZpcnN0IGVycm9yIHdoaWNoXG4gICAqIHdlIHdpbGwgcmV0aHJvdyB0byBiZSBoYW5kbGVkIGJ5IHRoZSB0b3AgbGV2ZWwgZXJyb3IgaGFuZGxlci5cbiAgICovXG4gIHJldGhyb3dDYXVnaHRFcnJvcjogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiByZXRocm93Q2F1Z2h0RXJyb3IuYXBwbHkoUmVhY3RFcnJvclV0aWxzLCBhcmd1bWVudHMpO1xuICB9LFxuXG4gIGhhc0NhdWdodEVycm9yOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFJlYWN0RXJyb3JVdGlscy5faGFzQ2F1Z2h0RXJyb3I7XG4gIH0sXG5cbiAgY2xlYXJDYXVnaHRFcnJvcjogZnVuY3Rpb24gKCkge1xuICAgIGlmIChSZWFjdEVycm9yVXRpbHMuX2hhc0NhdWdodEVycm9yKSB7XG4gICAgICB2YXIgZXJyb3IgPSBSZWFjdEVycm9yVXRpbHMuX2NhdWdodEVycm9yO1xuICAgICAgUmVhY3RFcnJvclV0aWxzLl9jYXVnaHRFcnJvciA9IG51bGw7XG4gICAgICBSZWFjdEVycm9yVXRpbHMuX2hhc0NhdWdodEVycm9yID0gZmFsc2U7XG4gICAgICByZXR1cm4gZXJyb3I7XG4gICAgfSBlbHNlIHtcbiAgICAgIGludmFyaWFudChmYWxzZSwgJ2NsZWFyQ2F1Z2h0RXJyb3Igd2FzIGNhbGxlZCBidXQgbm8gZXJyb3Igd2FzIGNhcHR1cmVkLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgIH1cbiAgfVxufTtcblxudmFyIHJldGhyb3dDYXVnaHRFcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKFJlYWN0RXJyb3JVdGlscy5faGFzUmV0aHJvd0Vycm9yKSB7XG4gICAgdmFyIGVycm9yID0gUmVhY3RFcnJvclV0aWxzLl9yZXRocm93RXJyb3I7XG4gICAgUmVhY3RFcnJvclV0aWxzLl9yZXRocm93RXJyb3IgPSBudWxsO1xuICAgIFJlYWN0RXJyb3JVdGlscy5faGFzUmV0aHJvd0Vycm9yID0gZmFsc2U7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8qKlxuICogSW5qZWN0YWJsZSBvcmRlcmluZyBvZiBldmVudCBwbHVnaW5zLlxuICovXG52YXIgZXZlbnRQbHVnaW5PcmRlciA9IG51bGw7XG5cbi8qKlxuICogSW5qZWN0YWJsZSBtYXBwaW5nIGZyb20gbmFtZXMgdG8gZXZlbnQgcGx1Z2luIG1vZHVsZXMuXG4gKi9cbnZhciBuYW1lc1RvUGx1Z2lucyA9IHt9O1xuXG4vKipcbiAqIFJlY29tcHV0ZXMgdGhlIHBsdWdpbiBsaXN0IHVzaW5nIHRoZSBpbmplY3RlZCBwbHVnaW5zIGFuZCBwbHVnaW4gb3JkZXJpbmcuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcmVjb21wdXRlUGx1Z2luT3JkZXJpbmcoKSB7XG4gIGlmICghZXZlbnRQbHVnaW5PcmRlcikge1xuICAgIC8vIFdhaXQgdW50aWwgYW4gYGV2ZW50UGx1Z2luT3JkZXJgIGlzIGluamVjdGVkLlxuICAgIHJldHVybjtcbiAgfVxuICBmb3IgKHZhciBwbHVnaW5OYW1lIGluIG5hbWVzVG9QbHVnaW5zKSB7XG4gICAgdmFyIHBsdWdpbk1vZHVsZSA9IG5hbWVzVG9QbHVnaW5zW3BsdWdpbk5hbWVdO1xuICAgIHZhciBwbHVnaW5JbmRleCA9IGV2ZW50UGx1Z2luT3JkZXIuaW5kZXhPZihwbHVnaW5OYW1lKTtcbiAgICAhKHBsdWdpbkluZGV4ID4gLTEpID8gaW52YXJpYW50KGZhbHNlLCAnRXZlbnRQbHVnaW5SZWdpc3RyeTogQ2Fubm90IGluamVjdCBldmVudCBwbHVnaW5zIHRoYXQgZG8gbm90IGV4aXN0IGluIHRoZSBwbHVnaW4gb3JkZXJpbmcsIGAlc2AuJywgcGx1Z2luTmFtZSkgOiB2b2lkIDA7XG4gICAgaWYgKHBsdWdpbnNbcGx1Z2luSW5kZXhdKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgIXBsdWdpbk1vZHVsZS5leHRyYWN0RXZlbnRzID8gaW52YXJpYW50KGZhbHNlLCAnRXZlbnRQbHVnaW5SZWdpc3RyeTogRXZlbnQgcGx1Z2lucyBtdXN0IGltcGxlbWVudCBhbiBgZXh0cmFjdEV2ZW50c2AgbWV0aG9kLCBidXQgYCVzYCBkb2VzIG5vdC4nLCBwbHVnaW5OYW1lKSA6IHZvaWQgMDtcbiAgICBwbHVnaW5zW3BsdWdpbkluZGV4XSA9IHBsdWdpbk1vZHVsZTtcbiAgICB2YXIgcHVibGlzaGVkRXZlbnRzID0gcGx1Z2luTW9kdWxlLmV2ZW50VHlwZXM7XG4gICAgZm9yICh2YXIgZXZlbnROYW1lIGluIHB1Ymxpc2hlZEV2ZW50cykge1xuICAgICAgIXB1Ymxpc2hFdmVudEZvclBsdWdpbihwdWJsaXNoZWRFdmVudHNbZXZlbnROYW1lXSwgcGx1Z2luTW9kdWxlLCBldmVudE5hbWUpID8gaW52YXJpYW50KGZhbHNlLCAnRXZlbnRQbHVnaW5SZWdpc3RyeTogRmFpbGVkIHRvIHB1Ymxpc2ggZXZlbnQgYCVzYCBmb3IgcGx1Z2luIGAlc2AuJywgZXZlbnROYW1lLCBwbHVnaW5OYW1lKSA6IHZvaWQgMDtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBQdWJsaXNoZXMgYW4gZXZlbnQgc28gdGhhdCBpdCBjYW4gYmUgZGlzcGF0Y2hlZCBieSB0aGUgc3VwcGxpZWQgcGx1Z2luLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBkaXNwYXRjaENvbmZpZyBEaXNwYXRjaCBjb25maWd1cmF0aW9uIGZvciB0aGUgZXZlbnQuXG4gKiBAcGFyYW0ge29iamVjdH0gUGx1Z2luTW9kdWxlIFBsdWdpbiBwdWJsaXNoaW5nIHRoZSBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IHdhcyBzdWNjZXNzZnVsbHkgcHVibGlzaGVkLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcHVibGlzaEV2ZW50Rm9yUGx1Z2luKGRpc3BhdGNoQ29uZmlnLCBwbHVnaW5Nb2R1bGUsIGV2ZW50TmFtZSkge1xuICAhIWV2ZW50TmFtZURpc3BhdGNoQ29uZmlncy5oYXNPd25Qcm9wZXJ0eShldmVudE5hbWUpID8gaW52YXJpYW50KGZhbHNlLCAnRXZlbnRQbHVnaW5IdWI6IE1vcmUgdGhhbiBvbmUgcGx1Z2luIGF0dGVtcHRlZCB0byBwdWJsaXNoIHRoZSBzYW1lIGV2ZW50IG5hbWUsIGAlc2AuJywgZXZlbnROYW1lKSA6IHZvaWQgMDtcbiAgZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzW2V2ZW50TmFtZV0gPSBkaXNwYXRjaENvbmZpZztcblxuICB2YXIgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMgPSBkaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lcztcbiAgaWYgKHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzKSB7XG4gICAgZm9yICh2YXIgcGhhc2VOYW1lIGluIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzKSB7XG4gICAgICBpZiAocGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMuaGFzT3duUHJvcGVydHkocGhhc2VOYW1lKSkge1xuICAgICAgICB2YXIgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZSA9IHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzW3BoYXNlTmFtZV07XG4gICAgICAgIHB1Ymxpc2hSZWdpc3RyYXRpb25OYW1lKHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWUsIHBsdWdpbk1vZHVsZSwgZXZlbnROYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSkge1xuICAgIHB1Ymxpc2hSZWdpc3RyYXRpb25OYW1lKGRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUsIHBsdWdpbk1vZHVsZSwgZXZlbnROYW1lKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogUHVibGlzaGVzIGEgcmVnaXN0cmF0aW9uIG5hbWUgdGhhdCBpcyB1c2VkIHRvIGlkZW50aWZ5IGRpc3BhdGNoZWQgZXZlbnRzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWdpc3RyYXRpb25OYW1lIFJlZ2lzdHJhdGlvbiBuYW1lIHRvIGFkZC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBQbHVnaW5Nb2R1bGUgUGx1Z2luIHB1Ymxpc2hpbmcgdGhlIGV2ZW50LlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcHVibGlzaFJlZ2lzdHJhdGlvbk5hbWUocmVnaXN0cmF0aW9uTmFtZSwgcGx1Z2luTW9kdWxlLCBldmVudE5hbWUpIHtcbiAgISFyZWdpc3RyYXRpb25OYW1lTW9kdWxlc1tyZWdpc3RyYXRpb25OYW1lXSA/IGludmFyaWFudChmYWxzZSwgJ0V2ZW50UGx1Z2luSHViOiBNb3JlIHRoYW4gb25lIHBsdWdpbiBhdHRlbXB0ZWQgdG8gcHVibGlzaCB0aGUgc2FtZSByZWdpc3RyYXRpb24gbmFtZSwgYCVzYC4nLCByZWdpc3RyYXRpb25OYW1lKSA6IHZvaWQgMDtcbiAgcmVnaXN0cmF0aW9uTmFtZU1vZHVsZXNbcmVnaXN0cmF0aW9uTmFtZV0gPSBwbHVnaW5Nb2R1bGU7XG4gIHJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXNbcmVnaXN0cmF0aW9uTmFtZV0gPSBwbHVnaW5Nb2R1bGUuZXZlbnRUeXBlc1tldmVudE5hbWVdLmRlcGVuZGVuY2llcztcblxuICB7XG4gICAgdmFyIGxvd2VyQ2FzZWROYW1lID0gcmVnaXN0cmF0aW9uTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXNbbG93ZXJDYXNlZE5hbWVdID0gcmVnaXN0cmF0aW9uTmFtZTtcblxuICAgIGlmIChyZWdpc3RyYXRpb25OYW1lID09PSAnb25Eb3VibGVDbGljaycpIHtcbiAgICAgIHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXMub25kYmxjbGljayA9IHJlZ2lzdHJhdGlvbk5hbWU7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIHBsdWdpbnMgc28gdGhhdCB0aGV5IGNhbiBleHRyYWN0IGFuZCBkaXNwYXRjaCBldmVudHMuXG4gKlxuICogQHNlZSB7RXZlbnRQbHVnaW5IdWJ9XG4gKi9cblxuLyoqXG4gKiBPcmRlcmVkIGxpc3Qgb2YgaW5qZWN0ZWQgcGx1Z2lucy5cbiAqL1xudmFyIHBsdWdpbnMgPSBbXTtcblxuLyoqXG4gKiBNYXBwaW5nIGZyb20gZXZlbnQgbmFtZSB0byBkaXNwYXRjaCBjb25maWdcbiAqL1xudmFyIGV2ZW50TmFtZURpc3BhdGNoQ29uZmlncyA9IHt9O1xuXG4vKipcbiAqIE1hcHBpbmcgZnJvbSByZWdpc3RyYXRpb24gbmFtZSB0byBwbHVnaW4gbW9kdWxlXG4gKi9cbnZhciByZWdpc3RyYXRpb25OYW1lTW9kdWxlcyA9IHt9O1xuXG4vKipcbiAqIE1hcHBpbmcgZnJvbSByZWdpc3RyYXRpb24gbmFtZSB0byBldmVudCBuYW1lXG4gKi9cbnZhciByZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzID0ge307XG5cbi8qKlxuICogTWFwcGluZyBmcm9tIGxvd2VyY2FzZSByZWdpc3RyYXRpb24gbmFtZXMgdG8gdGhlIHByb3Blcmx5IGNhc2VkIHZlcnNpb24sXG4gKiB1c2VkIHRvIHdhcm4gaW4gdGhlIGNhc2Ugb2YgbWlzc2luZyBldmVudCBoYW5kbGVycy4gQXZhaWxhYmxlXG4gKiBvbmx5IGluIHRydWUuXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgcG9zc2libGVSZWdpc3RyYXRpb25OYW1lcyA9IHt9O1xuLy8gVHJ1c3QgdGhlIGRldmVsb3BlciB0byBvbmx5IHVzZSBwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzIGluIHRydWVcblxuLyoqXG4gKiBJbmplY3RzIGFuIG9yZGVyaW5nIG9mIHBsdWdpbnMgKGJ5IHBsdWdpbiBuYW1lKS4gVGhpcyBhbGxvd3MgdGhlIG9yZGVyaW5nXG4gKiB0byBiZSBkZWNvdXBsZWQgZnJvbSBpbmplY3Rpb24gb2YgdGhlIGFjdHVhbCBwbHVnaW5zIHNvIHRoYXQgb3JkZXJpbmcgaXNcbiAqIGFsd2F5cyBkZXRlcm1pbmlzdGljIHJlZ2FyZGxlc3Mgb2YgcGFja2FnaW5nLCBvbi10aGUtZmx5IGluamVjdGlvbiwgZXRjLlxuICpcbiAqIEBwYXJhbSB7YXJyYXl9IEluamVjdGVkRXZlbnRQbHVnaW5PcmRlclxuICogQGludGVybmFsXG4gKiBAc2VlIHtFdmVudFBsdWdpbkh1Yi5pbmplY3Rpb24uaW5qZWN0RXZlbnRQbHVnaW5PcmRlcn1cbiAqL1xuZnVuY3Rpb24gaW5qZWN0RXZlbnRQbHVnaW5PcmRlcihpbmplY3RlZEV2ZW50UGx1Z2luT3JkZXIpIHtcbiAgISFldmVudFBsdWdpbk9yZGVyID8gaW52YXJpYW50KGZhbHNlLCAnRXZlbnRQbHVnaW5SZWdpc3RyeTogQ2Fubm90IGluamVjdCBldmVudCBwbHVnaW4gb3JkZXJpbmcgbW9yZSB0aGFuIG9uY2UuIFlvdSBhcmUgbGlrZWx5IHRyeWluZyB0byBsb2FkIG1vcmUgdGhhbiBvbmUgY29weSBvZiBSZWFjdC4nKSA6IHZvaWQgMDtcbiAgLy8gQ2xvbmUgdGhlIG9yZGVyaW5nIHNvIGl0IGNhbm5vdCBiZSBkeW5hbWljYWxseSBtdXRhdGVkLlxuICBldmVudFBsdWdpbk9yZGVyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaW5qZWN0ZWRFdmVudFBsdWdpbk9yZGVyKTtcbiAgcmVjb21wdXRlUGx1Z2luT3JkZXJpbmcoKTtcbn1cblxuLyoqXG4gKiBJbmplY3RzIHBsdWdpbnMgdG8gYmUgdXNlZCBieSBgRXZlbnRQbHVnaW5IdWJgLiBUaGUgcGx1Z2luIG5hbWVzIG11c3QgYmVcbiAqIGluIHRoZSBvcmRlcmluZyBpbmplY3RlZCBieSBgaW5qZWN0RXZlbnRQbHVnaW5PcmRlcmAuXG4gKlxuICogUGx1Z2lucyBjYW4gYmUgaW5qZWN0ZWQgYXMgcGFydCBvZiBwYWdlIGluaXRpYWxpemF0aW9uIG9yIG9uLXRoZS1mbHkuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGluamVjdGVkTmFtZXNUb1BsdWdpbnMgTWFwIGZyb20gbmFtZXMgdG8gcGx1Z2luIG1vZHVsZXMuXG4gKiBAaW50ZXJuYWxcbiAqIEBzZWUge0V2ZW50UGx1Z2luSHViLmluamVjdGlvbi5pbmplY3RFdmVudFBsdWdpbnNCeU5hbWV9XG4gKi9cbmZ1bmN0aW9uIGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZShpbmplY3RlZE5hbWVzVG9QbHVnaW5zKSB7XG4gIHZhciBpc09yZGVyaW5nRGlydHkgPSBmYWxzZTtcbiAgZm9yICh2YXIgcGx1Z2luTmFtZSBpbiBpbmplY3RlZE5hbWVzVG9QbHVnaW5zKSB7XG4gICAgaWYgKCFpbmplY3RlZE5hbWVzVG9QbHVnaW5zLmhhc093blByb3BlcnR5KHBsdWdpbk5hbWUpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdmFyIHBsdWdpbk1vZHVsZSA9IGluamVjdGVkTmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV07XG4gICAgaWYgKCFuYW1lc1RvUGx1Z2lucy5oYXNPd25Qcm9wZXJ0eShwbHVnaW5OYW1lKSB8fCBuYW1lc1RvUGx1Z2luc1twbHVnaW5OYW1lXSAhPT0gcGx1Z2luTW9kdWxlKSB7XG4gICAgICAhIW5hbWVzVG9QbHVnaW5zW3BsdWdpbk5hbWVdID8gaW52YXJpYW50KGZhbHNlLCAnRXZlbnRQbHVnaW5SZWdpc3RyeTogQ2Fubm90IGluamVjdCB0d28gZGlmZmVyZW50IGV2ZW50IHBsdWdpbnMgdXNpbmcgdGhlIHNhbWUgbmFtZSwgYCVzYC4nLCBwbHVnaW5OYW1lKSA6IHZvaWQgMDtcbiAgICAgIG5hbWVzVG9QbHVnaW5zW3BsdWdpbk5hbWVdID0gcGx1Z2luTW9kdWxlO1xuICAgICAgaXNPcmRlcmluZ0RpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzT3JkZXJpbmdEaXJ0eSkge1xuICAgIHJlY29tcHV0ZVBsdWdpbk9yZGVyaW5nKCk7XG4gIH1cbn1cblxudmFyIEV2ZW50UGx1Z2luUmVnaXN0cnkgPSBPYmplY3QuZnJlZXplKHtcblx0cGx1Z2luczogcGx1Z2lucyxcblx0ZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzOiBldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MsXG5cdHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzOiByZWdpc3RyYXRpb25OYW1lTW9kdWxlcyxcblx0cmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llczogcmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llcyxcblx0cG9zc2libGVSZWdpc3RyYXRpb25OYW1lczogcG9zc2libGVSZWdpc3RyYXRpb25OYW1lcyxcblx0aW5qZWN0RXZlbnRQbHVnaW5PcmRlcjogaW5qZWN0RXZlbnRQbHVnaW5PcmRlcixcblx0aW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lOiBpbmplY3RFdmVudFBsdWdpbnNCeU5hbWVcbn0pO1xuXG52YXIgZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZSA9IG51bGw7XG52YXIgZ2V0SW5zdGFuY2VGcm9tTm9kZSA9IG51bGw7XG52YXIgZ2V0Tm9kZUZyb21JbnN0YW5jZSA9IG51bGw7XG5cbnZhciBpbmplY3Rpb24kMSA9IHtcbiAgaW5qZWN0Q29tcG9uZW50VHJlZTogZnVuY3Rpb24gKEluamVjdGVkKSB7XG4gICAgZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZSA9IEluamVjdGVkLmdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGU7XG4gICAgZ2V0SW5zdGFuY2VGcm9tTm9kZSA9IEluamVjdGVkLmdldEluc3RhbmNlRnJvbU5vZGU7XG4gICAgZ2V0Tm9kZUZyb21JbnN0YW5jZSA9IEluamVjdGVkLmdldE5vZGVGcm9tSW5zdGFuY2U7XG5cbiAgICB7XG4gICAgICB3YXJuaW5nKGdldE5vZGVGcm9tSW5zdGFuY2UgJiYgZ2V0SW5zdGFuY2VGcm9tTm9kZSwgJ0V2ZW50UGx1Z2luVXRpbHMuaW5qZWN0aW9uLmluamVjdENvbXBvbmVudFRyZWUoLi4uKTogSW5qZWN0ZWQgJyArICdtb2R1bGUgaXMgbWlzc2luZyBnZXROb2RlRnJvbUluc3RhbmNlIG9yIGdldEluc3RhbmNlRnJvbU5vZGUuJyk7XG4gICAgfVxuICB9XG59O1xuXG5cblxuXG5cblxudmFyIHZhbGlkYXRlRXZlbnREaXNwYXRjaGVzID0gdm9pZCAwO1xue1xuICB2YWxpZGF0ZUV2ZW50RGlzcGF0Y2hlcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciBkaXNwYXRjaExpc3RlbmVycyA9IGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycztcbiAgICB2YXIgZGlzcGF0Y2hJbnN0YW5jZXMgPSBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXM7XG5cbiAgICB2YXIgbGlzdGVuZXJzSXNBcnIgPSBBcnJheS5pc0FycmF5KGRpc3BhdGNoTGlzdGVuZXJzKTtcbiAgICB2YXIgbGlzdGVuZXJzTGVuID0gbGlzdGVuZXJzSXNBcnIgPyBkaXNwYXRjaExpc3RlbmVycy5sZW5ndGggOiBkaXNwYXRjaExpc3RlbmVycyA/IDEgOiAwO1xuXG4gICAgdmFyIGluc3RhbmNlc0lzQXJyID0gQXJyYXkuaXNBcnJheShkaXNwYXRjaEluc3RhbmNlcyk7XG4gICAgdmFyIGluc3RhbmNlc0xlbiA9IGluc3RhbmNlc0lzQXJyID8gZGlzcGF0Y2hJbnN0YW5jZXMubGVuZ3RoIDogZGlzcGF0Y2hJbnN0YW5jZXMgPyAxIDogMDtcblxuICAgIHdhcm5pbmcoaW5zdGFuY2VzSXNBcnIgPT09IGxpc3RlbmVyc0lzQXJyICYmIGluc3RhbmNlc0xlbiA9PT0gbGlzdGVuZXJzTGVuLCAnRXZlbnRQbHVnaW5VdGlsczogSW52YWxpZCBgZXZlbnRgLicpO1xuICB9O1xufVxuXG4vKipcbiAqIERpc3BhdGNoIHRoZSBldmVudCB0byB0aGUgbGlzdGVuZXIuXG4gKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudCBTeW50aGV0aWNFdmVudCB0byBoYW5kbGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc2ltdWxhdGVkIElmIHRoZSBldmVudCBpcyBzaW11bGF0ZWQgKGNoYW5nZXMgZXhuIGJlaGF2aW9yKVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbGlzdGVuZXIgQXBwbGljYXRpb24tbGV2ZWwgY2FsbGJhY2tcbiAqIEBwYXJhbSB7Kn0gaW5zdCBJbnRlcm5hbCBjb21wb25lbnQgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gZXhlY3V0ZURpc3BhdGNoKGV2ZW50LCBzaW11bGF0ZWQsIGxpc3RlbmVyLCBpbnN0KSB7XG4gIHZhciB0eXBlID0gZXZlbnQudHlwZSB8fCAndW5rbm93bi1ldmVudCc7XG4gIGV2ZW50LmN1cnJlbnRUYXJnZXQgPSBnZXROb2RlRnJvbUluc3RhbmNlKGluc3QpO1xuICBSZWFjdEVycm9yVXRpbHMuaW52b2tlR3VhcmRlZENhbGxiYWNrQW5kQ2F0Y2hGaXJzdEVycm9yKHR5cGUsIGxpc3RlbmVyLCB1bmRlZmluZWQsIGV2ZW50KTtcbiAgZXZlbnQuY3VycmVudFRhcmdldCA9IG51bGw7XG59XG5cbi8qKlxuICogU3RhbmRhcmQvc2ltcGxlIGl0ZXJhdGlvbiB0aHJvdWdoIGFuIGV2ZW50J3MgY29sbGVjdGVkIGRpc3BhdGNoZXMuXG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlcihldmVudCwgc2ltdWxhdGVkKSB7XG4gIHZhciBkaXNwYXRjaExpc3RlbmVycyA9IGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycztcbiAgdmFyIGRpc3BhdGNoSW5zdGFuY2VzID0gZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzO1xuICB7XG4gICAgdmFsaWRhdGVFdmVudERpc3BhdGNoZXMoZXZlbnQpO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGRpc3BhdGNoTGlzdGVuZXJzKSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGlzcGF0Y2hMaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgLy8gTGlzdGVuZXJzIGFuZCBJbnN0YW5jZXMgYXJlIHR3byBwYXJhbGxlbCBhcnJheXMgdGhhdCBhcmUgYWx3YXlzIGluIHN5bmMuXG4gICAgICBleGVjdXRlRGlzcGF0Y2goZXZlbnQsIHNpbXVsYXRlZCwgZGlzcGF0Y2hMaXN0ZW5lcnNbaV0sIGRpc3BhdGNoSW5zdGFuY2VzW2ldKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGlzcGF0Y2hMaXN0ZW5lcnMpIHtcbiAgICBleGVjdXRlRGlzcGF0Y2goZXZlbnQsIHNpbXVsYXRlZCwgZGlzcGF0Y2hMaXN0ZW5lcnMsIGRpc3BhdGNoSW5zdGFuY2VzKTtcbiAgfVxuICBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnMgPSBudWxsO1xuICBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMgPSBudWxsO1xufVxuXG4vKipcbiAqIEBzZWUgZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyU3RvcEF0VHJ1ZUltcGxcbiAqL1xuXG5cbi8qKlxuICogRXhlY3V0aW9uIG9mIGEgXCJkaXJlY3RcIiBkaXNwYXRjaCAtIHRoZXJlIG11c3QgYmUgYXQgbW9zdCBvbmUgZGlzcGF0Y2hcbiAqIGFjY3VtdWxhdGVkIG9uIHRoZSBldmVudCBvciBpdCBpcyBjb25zaWRlcmVkIGFuIGVycm9yLiBJdCBkb2Vzbid0IHJlYWxseSBtYWtlXG4gKiBzZW5zZSBmb3IgYW4gZXZlbnQgd2l0aCBtdWx0aXBsZSBkaXNwYXRjaGVzIChidWJibGVkKSB0byBrZWVwIHRyYWNrIG9mIHRoZVxuICogcmV0dXJuIHZhbHVlcyBhdCBlYWNoIGRpc3BhdGNoIGV4ZWN1dGlvbiwgYnV0IGl0IGRvZXMgdGVuZCB0byBtYWtlIHNlbnNlIHdoZW5cbiAqIGRlYWxpbmcgd2l0aCBcImRpcmVjdFwiIGRpc3BhdGNoZXMuXG4gKlxuICogQHJldHVybiB7Kn0gVGhlIHJldHVybiB2YWx1ZSBvZiBleGVjdXRpbmcgdGhlIHNpbmdsZSBkaXNwYXRjaC5cbiAqL1xuXG5cbi8qKlxuICogQHBhcmFtIHtTeW50aGV0aWNFdmVudH0gZXZlbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWZmIG51bWJlciBvZiBkaXNwYXRjaGVzIGFjY3VtdWxhdGVkIGlzIGdyZWF0ZXIgdGhhbiAwLlxuICovXG5cbi8qKlxuICogQWNjdW11bGF0ZXMgaXRlbXMgdGhhdCBtdXN0IG5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZCBpbnRvIHRoZSBmaXJzdCBvbmUuIFRoaXNcbiAqIGlzIHVzZWQgdG8gY29uc2VydmUgbWVtb3J5IGJ5IGF2b2lkaW5nIGFycmF5IGFsbG9jYXRpb25zLCBhbmQgdGh1cyBzYWNyaWZpY2VzXG4gKiBBUEkgY2xlYW5uZXNzLiBTaW5jZSBgY3VycmVudGAgY2FuIGJlIG51bGwgYmVmb3JlIGJlaW5nIHBhc3NlZCBpbiBhbmQgbm90XG4gKiBudWxsIGFmdGVyIHRoaXMgZnVuY3Rpb24sIG1ha2Ugc3VyZSB0byBhc3NpZ24gaXQgYmFjayB0byBgY3VycmVudGA6XG4gKlxuICogYGEgPSBhY2N1bXVsYXRlSW50byhhLCBiKTtgXG4gKlxuICogVGhpcyBBUEkgc2hvdWxkIGJlIHNwYXJpbmdseSB1c2VkLiBUcnkgYGFjY3VtdWxhdGVgIGZvciBzb21ldGhpbmcgY2xlYW5lci5cbiAqXG4gKiBAcmV0dXJuIHsqfGFycmF5PCo+fSBBbiBhY2N1bXVsYXRpb24gb2YgaXRlbXMuXG4gKi9cblxuZnVuY3Rpb24gYWNjdW11bGF0ZUludG8oY3VycmVudCwgbmV4dCkge1xuICAhKG5leHQgIT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdhY2N1bXVsYXRlSW50byguLi4pOiBBY2N1bXVsYXRlZCBpdGVtcyBtdXN0IG5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC4nKSA6IHZvaWQgMDtcblxuICBpZiAoY3VycmVudCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG5leHQ7XG4gIH1cblxuICAvLyBCb3RoIGFyZSBub3QgZW1wdHkuIFdhcm5pbmc6IE5ldmVyIGNhbGwgeC5jb25jYXQoeSkgd2hlbiB5b3UgYXJlIG5vdFxuICAvLyBjZXJ0YWluIHRoYXQgeCBpcyBhbiBBcnJheSAoeCBjb3VsZCBiZSBhIHN0cmluZyB3aXRoIGNvbmNhdCBtZXRob2QpLlxuICBpZiAoQXJyYXkuaXNBcnJheShjdXJyZW50KSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG5leHQpKSB7XG4gICAgICBjdXJyZW50LnB1c2guYXBwbHkoY3VycmVudCwgbmV4dCk7XG4gICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9XG4gICAgY3VycmVudC5wdXNoKG5leHQpO1xuICAgIHJldHVybiBjdXJyZW50O1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkobmV4dCkpIHtcbiAgICAvLyBBIGJpdCB0b28gZGFuZ2Vyb3VzIHRvIG11dGF0ZSBgbmV4dGAuXG4gICAgcmV0dXJuIFtjdXJyZW50XS5jb25jYXQobmV4dCk7XG4gIH1cblxuICByZXR1cm4gW2N1cnJlbnQsIG5leHRdO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7YXJyYXl9IGFyciBhbiBcImFjY3VtdWxhdGlvblwiIG9mIGl0ZW1zIHdoaWNoIGlzIGVpdGhlciBhbiBBcnJheSBvclxuICogYSBzaW5nbGUgaXRlbS4gVXNlZnVsIHdoZW4gcGFpcmVkIHdpdGggdGhlIGBhY2N1bXVsYXRlYCBtb2R1bGUuIFRoaXMgaXMgYVxuICogc2ltcGxlIHV0aWxpdHkgdGhhdCBhbGxvd3MgdXMgdG8gcmVhc29uIGFib3V0IGEgY29sbGVjdGlvbiBvZiBpdGVtcywgYnV0XG4gKiBoYW5kbGluZyB0aGUgY2FzZSB3aGVuIHRoZXJlIGlzIGV4YWN0bHkgb25lIGl0ZW0gKGFuZCB3ZSBkbyBub3QgbmVlZCB0b1xuICogYWxsb2NhdGUgYW4gYXJyYXkpLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgQ2FsbGJhY2sgaW52b2tlZCB3aXRoIGVhY2ggZWxlbWVudCBvciBhIGNvbGxlY3Rpb24uXG4gKiBAcGFyYW0gez99IFtzY29wZV0gU2NvcGUgdXNlZCBhcyBgdGhpc2AgaW4gYSBjYWxsYmFjay5cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaEFjY3VtdWxhdGVkKGFyciwgY2IsIHNjb3BlKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICBhcnIuZm9yRWFjaChjYiwgc2NvcGUpO1xuICB9IGVsc2UgaWYgKGFycikge1xuICAgIGNiLmNhbGwoc2NvcGUsIGFycik7XG4gIH1cbn1cblxuLyoqXG4gKiBJbnRlcm5hbCBxdWV1ZSBvZiBldmVudHMgdGhhdCBoYXZlIGFjY3VtdWxhdGVkIHRoZWlyIGRpc3BhdGNoZXMgYW5kIGFyZVxuICogd2FpdGluZyB0byBoYXZlIHRoZWlyIGRpc3BhdGNoZXMgZXhlY3V0ZWQuXG4gKi9cbnZhciBldmVudFF1ZXVlID0gbnVsbDtcblxuLyoqXG4gKiBEaXNwYXRjaGVzIGFuIGV2ZW50IGFuZCByZWxlYXNlcyBpdCBiYWNrIGludG8gdGhlIHBvb2wsIHVubGVzcyBwZXJzaXN0ZW50LlxuICpcbiAqIEBwYXJhbSB7P29iamVjdH0gZXZlbnQgU3ludGhldGljIGV2ZW50IHRvIGJlIGRpc3BhdGNoZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHNpbXVsYXRlZCBJZiB0aGUgZXZlbnQgaXMgc2ltdWxhdGVkIChjaGFuZ2VzIGV4biBiZWhhdmlvcilcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2UgPSBmdW5jdGlvbiAoZXZlbnQsIHNpbXVsYXRlZCkge1xuICBpZiAoZXZlbnQpIHtcbiAgICBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXIoZXZlbnQsIHNpbXVsYXRlZCk7XG5cbiAgICBpZiAoIWV2ZW50LmlzUGVyc2lzdGVudCgpKSB7XG4gICAgICBldmVudC5jb25zdHJ1Y3Rvci5yZWxlYXNlKGV2ZW50KTtcbiAgICB9XG4gIH1cbn07XG52YXIgZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlU2ltdWxhdGVkID0gZnVuY3Rpb24gKGUpIHtcbiAgcmV0dXJuIGV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZShlLCB0cnVlKTtcbn07XG52YXIgZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlVG9wTGV2ZWwgPSBmdW5jdGlvbiAoZSkge1xuICByZXR1cm4gZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlKGUsIGZhbHNlKTtcbn07XG5cbmZ1bmN0aW9uIGlzSW50ZXJhY3RpdmUodGFnKSB7XG4gIHJldHVybiB0YWcgPT09ICdidXR0b24nIHx8IHRhZyA9PT0gJ2lucHV0JyB8fCB0YWcgPT09ICdzZWxlY3QnIHx8IHRhZyA9PT0gJ3RleHRhcmVhJztcbn1cblxuZnVuY3Rpb24gc2hvdWxkUHJldmVudE1vdXNlRXZlbnQobmFtZSwgdHlwZSwgcHJvcHMpIHtcbiAgc3dpdGNoIChuYW1lKSB7XG4gICAgY2FzZSAnb25DbGljayc6XG4gICAgY2FzZSAnb25DbGlja0NhcHR1cmUnOlxuICAgIGNhc2UgJ29uRG91YmxlQ2xpY2snOlxuICAgIGNhc2UgJ29uRG91YmxlQ2xpY2tDYXB0dXJlJzpcbiAgICBjYXNlICdvbk1vdXNlRG93bic6XG4gICAgY2FzZSAnb25Nb3VzZURvd25DYXB0dXJlJzpcbiAgICBjYXNlICdvbk1vdXNlTW92ZSc6XG4gICAgY2FzZSAnb25Nb3VzZU1vdmVDYXB0dXJlJzpcbiAgICBjYXNlICdvbk1vdXNlVXAnOlxuICAgIGNhc2UgJ29uTW91c2VVcENhcHR1cmUnOlxuICAgICAgcmV0dXJuICEhKHByb3BzLmRpc2FibGVkICYmIGlzSW50ZXJhY3RpdmUodHlwZSkpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGlzIGlzIGEgdW5pZmllZCBpbnRlcmZhY2UgZm9yIGV2ZW50IHBsdWdpbnMgdG8gYmUgaW5zdGFsbGVkIGFuZCBjb25maWd1cmVkLlxuICpcbiAqIEV2ZW50IHBsdWdpbnMgY2FuIGltcGxlbWVudCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogICBgZXh0cmFjdEV2ZW50c2Age2Z1bmN0aW9uKHN0cmluZywgRE9NRXZlbnRUYXJnZXQsIHN0cmluZywgb2JqZWN0KTogKn1cbiAqICAgICBSZXF1aXJlZC4gV2hlbiBhIHRvcC1sZXZlbCBldmVudCBpcyBmaXJlZCwgdGhpcyBtZXRob2QgaXMgZXhwZWN0ZWQgdG9cbiAqICAgICBleHRyYWN0IHN5bnRoZXRpYyBldmVudHMgdGhhdCB3aWxsIGluIHR1cm4gYmUgcXVldWVkIGFuZCBkaXNwYXRjaGVkLlxuICpcbiAqICAgYGV2ZW50VHlwZXNgIHtvYmplY3R9XG4gKiAgICAgT3B0aW9uYWwsIHBsdWdpbnMgdGhhdCBmaXJlIGV2ZW50cyBtdXN0IHB1Ymxpc2ggYSBtYXBwaW5nIG9mIHJlZ2lzdHJhdGlvblxuICogICAgIG5hbWVzIHRoYXQgYXJlIHVzZWQgdG8gcmVnaXN0ZXIgbGlzdGVuZXJzLiBWYWx1ZXMgb2YgdGhpcyBtYXBwaW5nIG11c3RcbiAqICAgICBiZSBvYmplY3RzIHRoYXQgY29udGFpbiBgcmVnaXN0cmF0aW9uTmFtZWAgb3IgYHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzYC5cbiAqXG4gKiAgIGBleGVjdXRlRGlzcGF0Y2hgIHtmdW5jdGlvbihvYmplY3QsIGZ1bmN0aW9uLCBzdHJpbmcpfVxuICogICAgIE9wdGlvbmFsLCBhbGxvd3MgcGx1Z2lucyB0byBvdmVycmlkZSBob3cgYW4gZXZlbnQgZ2V0cyBkaXNwYXRjaGVkLiBCeVxuICogICAgIGRlZmF1bHQsIHRoZSBsaXN0ZW5lciBpcyBzaW1wbHkgaW52b2tlZC5cbiAqXG4gKiBFYWNoIHBsdWdpbiB0aGF0IGlzIGluamVjdGVkIGludG8gYEV2ZW50c1BsdWdpbkh1YmAgaXMgaW1tZWRpYXRlbHkgb3BlcmFibGUuXG4gKlxuICogQHB1YmxpY1xuICovXG5cbi8qKlxuICogTWV0aG9kcyBmb3IgaW5qZWN0aW5nIGRlcGVuZGVuY2llcy5cbiAqL1xudmFyIGluamVjdGlvbiA9IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7YXJyYXl9IEluamVjdGVkRXZlbnRQbHVnaW5PcmRlclxuICAgKiBAcHVibGljXG4gICAqL1xuICBpbmplY3RFdmVudFBsdWdpbk9yZGVyOiBpbmplY3RFdmVudFBsdWdpbk9yZGVyLFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge29iamVjdH0gaW5qZWN0ZWROYW1lc1RvUGx1Z2lucyBNYXAgZnJvbSBuYW1lcyB0byBwbHVnaW4gbW9kdWxlcy5cbiAgICovXG4gIGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZTogaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBpbnN0IFRoZSBpbnN0YW5jZSwgd2hpY2ggaXMgdGhlIHNvdXJjZSBvZiBldmVudHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVnaXN0cmF0aW9uTmFtZSBOYW1lIG9mIGxpc3RlbmVyIChlLmcuIGBvbkNsaWNrYCkuXG4gKiBAcmV0dXJuIHs/ZnVuY3Rpb259IFRoZSBzdG9yZWQgY2FsbGJhY2suXG4gKi9cbmZ1bmN0aW9uIGdldExpc3RlbmVyKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgdmFyIGxpc3RlbmVyID0gdm9pZCAwO1xuXG4gIC8vIFRPRE86IHNob3VsZFByZXZlbnRNb3VzZUV2ZW50IGlzIERPTS1zcGVjaWZpYyBhbmQgZGVmaW5pdGVseSBzaG91bGQgbm90XG4gIC8vIGxpdmUgaGVyZTsgbmVlZHMgdG8gYmUgbW92ZWQgdG8gYSBiZXR0ZXIgcGxhY2Ugc29vblxuICB2YXIgc3RhdGVOb2RlID0gaW5zdC5zdGF0ZU5vZGU7XG4gIGlmICghc3RhdGVOb2RlKSB7XG4gICAgLy8gV29yayBpbiBwcm9ncmVzcyAoZXg6IG9ubG9hZCBldmVudHMgaW4gaW5jcmVtZW50YWwgbW9kZSkuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIHByb3BzID0gZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZShzdGF0ZU5vZGUpO1xuICBpZiAoIXByb3BzKSB7XG4gICAgLy8gV29yayBpbiBwcm9ncmVzcy5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsaXN0ZW5lciA9IHByb3BzW3JlZ2lzdHJhdGlvbk5hbWVdO1xuICBpZiAoc2hvdWxkUHJldmVudE1vdXNlRXZlbnQocmVnaXN0cmF0aW9uTmFtZSwgaW5zdC50eXBlLCBwcm9wcykpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICAhKCFsaXN0ZW5lciB8fCB0eXBlb2YgbGlzdGVuZXIgPT09ICdmdW5jdGlvbicpID8gaW52YXJpYW50KGZhbHNlLCAnRXhwZWN0ZWQgYCVzYCBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLCBpbnN0ZWFkIGdvdCBhIHZhbHVlIG9mIGAlc2AgdHlwZS4nLCByZWdpc3RyYXRpb25OYW1lLCB0eXBlb2YgbGlzdGVuZXIpIDogdm9pZCAwO1xuICByZXR1cm4gbGlzdGVuZXI7XG59XG5cbi8qKlxuICogQWxsb3dzIHJlZ2lzdGVyZWQgcGx1Z2lucyBhbiBvcHBvcnR1bml0eSB0byBleHRyYWN0IGV2ZW50cyBmcm9tIHRvcC1sZXZlbFxuICogbmF0aXZlIGJyb3dzZXIgZXZlbnRzLlxuICpcbiAqIEByZXR1cm4geyp9IEFuIGFjY3VtdWxhdGlvbiBvZiBzeW50aGV0aWMgZXZlbnRzLlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIGV4dHJhY3RFdmVudHModG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgdmFyIGV2ZW50cyA9IG51bGw7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGx1Z2lucy5sZW5ndGg7IGkrKykge1xuICAgIC8vIE5vdCBldmVyeSBwbHVnaW4gaW4gdGhlIG9yZGVyaW5nIG1heSBiZSBsb2FkZWQgYXQgcnVudGltZS5cbiAgICB2YXIgcG9zc2libGVQbHVnaW4gPSBwbHVnaW5zW2ldO1xuICAgIGlmIChwb3NzaWJsZVBsdWdpbikge1xuICAgICAgdmFyIGV4dHJhY3RlZEV2ZW50cyA9IHBvc3NpYmxlUGx1Z2luLmV4dHJhY3RFdmVudHModG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgICAgaWYgKGV4dHJhY3RlZEV2ZW50cykge1xuICAgICAgICBldmVudHMgPSBhY2N1bXVsYXRlSW50byhldmVudHMsIGV4dHJhY3RlZEV2ZW50cyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBldmVudHM7XG59XG5cbmZ1bmN0aW9uIHJ1bkV2ZW50c0luQmF0Y2goZXZlbnRzLCBzaW11bGF0ZWQpIHtcbiAgaWYgKGV2ZW50cyAhPT0gbnVsbCkge1xuICAgIGV2ZW50UXVldWUgPSBhY2N1bXVsYXRlSW50byhldmVudFF1ZXVlLCBldmVudHMpO1xuICB9XG5cbiAgLy8gU2V0IGBldmVudFF1ZXVlYCB0byBudWxsIGJlZm9yZSBwcm9jZXNzaW5nIGl0IHNvIHRoYXQgd2UgY2FuIHRlbGwgaWYgbW9yZVxuICAvLyBldmVudHMgZ2V0IGVucXVldWVkIHdoaWxlIHByb2Nlc3NpbmcuXG4gIHZhciBwcm9jZXNzaW5nRXZlbnRRdWV1ZSA9IGV2ZW50UXVldWU7XG4gIGV2ZW50UXVldWUgPSBudWxsO1xuXG4gIGlmICghcHJvY2Vzc2luZ0V2ZW50UXVldWUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoc2ltdWxhdGVkKSB7XG4gICAgZm9yRWFjaEFjY3VtdWxhdGVkKHByb2Nlc3NpbmdFdmVudFF1ZXVlLCBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2VTaW11bGF0ZWQpO1xuICB9IGVsc2Uge1xuICAgIGZvckVhY2hBY2N1bXVsYXRlZChwcm9jZXNzaW5nRXZlbnRRdWV1ZSwgZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlVG9wTGV2ZWwpO1xuICB9XG4gICEhZXZlbnRRdWV1ZSA/IGludmFyaWFudChmYWxzZSwgJ3Byb2Nlc3NFdmVudFF1ZXVlKCk6IEFkZGl0aW9uYWwgZXZlbnRzIHdlcmUgZW5xdWV1ZWQgd2hpbGUgcHJvY2Vzc2luZyBhbiBldmVudCBxdWV1ZS4gU3VwcG9ydCBmb3IgdGhpcyBoYXMgbm90IHlldCBiZWVuIGltcGxlbWVudGVkLicpIDogdm9pZCAwO1xuICAvLyBUaGlzIHdvdWxkIGJlIGEgZ29vZCB0aW1lIHRvIHJldGhyb3cgaWYgYW55IG9mIHRoZSBldmVudCBoYW5kbGVycyB0aHJldy5cbiAgUmVhY3RFcnJvclV0aWxzLnJldGhyb3dDYXVnaHRFcnJvcigpO1xufVxuXG5mdW5jdGlvbiBydW5FeHRyYWN0ZWRFdmVudHNJbkJhdGNoKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gIHZhciBldmVudHMgPSBleHRyYWN0RXZlbnRzKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgcnVuRXZlbnRzSW5CYXRjaChldmVudHMsIGZhbHNlKTtcbn1cblxudmFyIEV2ZW50UGx1Z2luSHViID0gT2JqZWN0LmZyZWV6ZSh7XG5cdGluamVjdGlvbjogaW5qZWN0aW9uLFxuXHRnZXRMaXN0ZW5lcjogZ2V0TGlzdGVuZXIsXG5cdHJ1bkV2ZW50c0luQmF0Y2g6IHJ1bkV2ZW50c0luQmF0Y2gsXG5cdHJ1bkV4dHJhY3RlZEV2ZW50c0luQmF0Y2g6IHJ1bkV4dHJhY3RlZEV2ZW50c0luQmF0Y2hcbn0pO1xuXG52YXIgSW5kZXRlcm1pbmF0ZUNvbXBvbmVudCA9IDA7IC8vIEJlZm9yZSB3ZSBrbm93IHdoZXRoZXIgaXQgaXMgZnVuY3Rpb25hbCBvciBjbGFzc1xudmFyIEZ1bmN0aW9uYWxDb21wb25lbnQgPSAxO1xudmFyIENsYXNzQ29tcG9uZW50ID0gMjtcbnZhciBIb3N0Um9vdCA9IDM7IC8vIFJvb3Qgb2YgYSBob3N0IHRyZWUuIENvdWxkIGJlIG5lc3RlZCBpbnNpZGUgYW5vdGhlciBub2RlLlxudmFyIEhvc3RQb3J0YWwgPSA0OyAvLyBBIHN1YnRyZWUuIENvdWxkIGJlIGFuIGVudHJ5IHBvaW50IHRvIGEgZGlmZmVyZW50IHJlbmRlcmVyLlxudmFyIEhvc3RDb21wb25lbnQgPSA1O1xudmFyIEhvc3RUZXh0ID0gNjtcbnZhciBDYWxsQ29tcG9uZW50ID0gNztcbnZhciBDYWxsSGFuZGxlclBoYXNlID0gODtcbnZhciBSZXR1cm5Db21wb25lbnQgPSA5O1xudmFyIEZyYWdtZW50ID0gMTA7XG52YXIgTW9kZSA9IDExO1xudmFyIENvbnRleHRDb25zdW1lciA9IDEyO1xudmFyIENvbnRleHRQcm92aWRlciA9IDEzO1xudmFyIEZvcndhcmRSZWYgPSAxNDtcblxudmFyIHJhbmRvbUtleSA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpO1xudmFyIGludGVybmFsSW5zdGFuY2VLZXkgPSAnX19yZWFjdEludGVybmFsSW5zdGFuY2UkJyArIHJhbmRvbUtleTtcbnZhciBpbnRlcm5hbEV2ZW50SGFuZGxlcnNLZXkgPSAnX19yZWFjdEV2ZW50SGFuZGxlcnMkJyArIHJhbmRvbUtleTtcblxuZnVuY3Rpb24gcHJlY2FjaGVGaWJlck5vZGUkMShob3N0SW5zdCwgbm9kZSkge1xuICBub2RlW2ludGVybmFsSW5zdGFuY2VLZXldID0gaG9zdEluc3Q7XG59XG5cbi8qKlxuICogR2l2ZW4gYSBET00gbm9kZSwgcmV0dXJuIHRoZSBjbG9zZXN0IFJlYWN0RE9NQ29tcG9uZW50IG9yXG4gKiBSZWFjdERPTVRleHRDb21wb25lbnQgaW5zdGFuY2UgYW5jZXN0b3IuXG4gKi9cbmZ1bmN0aW9uIGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKG5vZGUpIHtcbiAgaWYgKG5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV0pIHtcbiAgICByZXR1cm4gbm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XTtcbiAgfVxuXG4gIHdoaWxlICghbm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XSkge1xuICAgIGlmIChub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRvcCBvZiB0aGUgdHJlZS4gVGhpcyBub2RlIG11c3Qgbm90IGJlIHBhcnQgb2YgYSBSZWFjdCB0cmVlIChvciBpc1xuICAgICAgLy8gdW5tb3VudGVkLCBwb3RlbnRpYWxseSkuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICB2YXIgaW5zdCA9IG5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV07XG4gIGlmIChpbnN0LnRhZyA9PT0gSG9zdENvbXBvbmVudCB8fCBpbnN0LnRhZyA9PT0gSG9zdFRleHQpIHtcbiAgICAvLyBJbiBGaWJlciwgdGhpcyB3aWxsIGFsd2F5cyBiZSB0aGUgZGVlcGVzdCByb290LlxuICAgIHJldHVybiBpbnN0O1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogR2l2ZW4gYSBET00gbm9kZSwgcmV0dXJuIHRoZSBSZWFjdERPTUNvbXBvbmVudCBvciBSZWFjdERPTVRleHRDb21wb25lbnRcbiAqIGluc3RhbmNlLCBvciBudWxsIGlmIHRoZSBub2RlIHdhcyBub3QgcmVuZGVyZWQgYnkgdGhpcyBSZWFjdC5cbiAqL1xuZnVuY3Rpb24gZ2V0SW5zdGFuY2VGcm9tTm9kZSQxKG5vZGUpIHtcbiAgdmFyIGluc3QgPSBub2RlW2ludGVybmFsSW5zdGFuY2VLZXldO1xuICBpZiAoaW5zdCkge1xuICAgIGlmIChpbnN0LnRhZyA9PT0gSG9zdENvbXBvbmVudCB8fCBpbnN0LnRhZyA9PT0gSG9zdFRleHQpIHtcbiAgICAgIHJldHVybiBpbnN0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogR2l2ZW4gYSBSZWFjdERPTUNvbXBvbmVudCBvciBSZWFjdERPTVRleHRDb21wb25lbnQsIHJldHVybiB0aGUgY29ycmVzcG9uZGluZ1xuICogRE9NIG5vZGUuXG4gKi9cbmZ1bmN0aW9uIGdldE5vZGVGcm9tSW5zdGFuY2UkMShpbnN0KSB7XG4gIGlmIChpbnN0LnRhZyA9PT0gSG9zdENvbXBvbmVudCB8fCBpbnN0LnRhZyA9PT0gSG9zdFRleHQpIHtcbiAgICAvLyBJbiBGaWJlciB0aGlzLCBpcyBqdXN0IHRoZSBzdGF0ZSBub2RlIHJpZ2h0IG5vdy4gV2UgYXNzdW1lIGl0IHdpbGwgYmVcbiAgICAvLyBhIGhvc3QgY29tcG9uZW50IG9yIGhvc3QgdGV4dC5cbiAgICByZXR1cm4gaW5zdC5zdGF0ZU5vZGU7XG4gIH1cblxuICAvLyBXaXRob3V0IHRoaXMgZmlyc3QgaW52YXJpYW50LCBwYXNzaW5nIGEgbm9uLURPTS1jb21wb25lbnQgdHJpZ2dlcnMgdGhlIG5leHRcbiAgLy8gaW52YXJpYW50IGZvciBhIG1pc3NpbmcgcGFyZW50LCB3aGljaCBpcyBzdXBlciBjb25mdXNpbmcuXG4gIGludmFyaWFudChmYWxzZSwgJ2dldE5vZGVGcm9tSW5zdGFuY2U6IEludmFsaWQgYXJndW1lbnQuJyk7XG59XG5cbmZ1bmN0aW9uIGdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGUkMShub2RlKSB7XG4gIHJldHVybiBub2RlW2ludGVybmFsRXZlbnRIYW5kbGVyc0tleV0gfHwgbnVsbDtcbn1cblxuZnVuY3Rpb24gdXBkYXRlRmliZXJQcm9wcyQxKG5vZGUsIHByb3BzKSB7XG4gIG5vZGVbaW50ZXJuYWxFdmVudEhhbmRsZXJzS2V5XSA9IHByb3BzO1xufVxuXG52YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gT2JqZWN0LmZyZWV6ZSh7XG5cdHByZWNhY2hlRmliZXJOb2RlOiBwcmVjYWNoZUZpYmVyTm9kZSQxLFxuXHRnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZTogZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUsXG5cdGdldEluc3RhbmNlRnJvbU5vZGU6IGdldEluc3RhbmNlRnJvbU5vZGUkMSxcblx0Z2V0Tm9kZUZyb21JbnN0YW5jZTogZ2V0Tm9kZUZyb21JbnN0YW5jZSQxLFxuXHRnZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlOiBnZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlJDEsXG5cdHVwZGF0ZUZpYmVyUHJvcHM6IHVwZGF0ZUZpYmVyUHJvcHMkMVxufSk7XG5cbmZ1bmN0aW9uIGdldFBhcmVudChpbnN0KSB7XG4gIGRvIHtcbiAgICBpbnN0ID0gaW5zdFsncmV0dXJuJ107XG4gICAgLy8gVE9ETzogSWYgdGhpcyBpcyBhIEhvc3RSb290IHdlIG1pZ2h0IHdhbnQgdG8gYmFpbCBvdXQuXG4gICAgLy8gVGhhdCBpcyBkZXBlbmRpbmcgb24gaWYgd2Ugd2FudCBuZXN0ZWQgc3VidHJlZXMgKGxheWVycykgdG8gYnViYmxlXG4gICAgLy8gZXZlbnRzIHRvIHRoZWlyIHBhcmVudC4gV2UgY291bGQgYWxzbyBnbyB0aHJvdWdoIHBhcmVudE5vZGUgb24gdGhlXG4gICAgLy8gaG9zdCBub2RlIGJ1dCB0aGF0IHdvdWxkbid0IHdvcmsgZm9yIFJlYWN0IE5hdGl2ZSBhbmQgZG9lc24ndCBsZXQgdXNcbiAgICAvLyBkbyB0aGUgcG9ydGFsIGZlYXR1cmUuXG4gIH0gd2hpbGUgKGluc3QgJiYgaW5zdC50YWcgIT09IEhvc3RDb21wb25lbnQpO1xuICBpZiAoaW5zdCkge1xuICAgIHJldHVybiBpbnN0O1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIFJldHVybiB0aGUgbG93ZXN0IGNvbW1vbiBhbmNlc3RvciBvZiBBIGFuZCBCLCBvciBudWxsIGlmIHRoZXkgYXJlIGluXG4gKiBkaWZmZXJlbnQgdHJlZXMuXG4gKi9cbmZ1bmN0aW9uIGdldExvd2VzdENvbW1vbkFuY2VzdG9yKGluc3RBLCBpbnN0Qikge1xuICB2YXIgZGVwdGhBID0gMDtcbiAgZm9yICh2YXIgdGVtcEEgPSBpbnN0QTsgdGVtcEE7IHRlbXBBID0gZ2V0UGFyZW50KHRlbXBBKSkge1xuICAgIGRlcHRoQSsrO1xuICB9XG4gIHZhciBkZXB0aEIgPSAwO1xuICBmb3IgKHZhciB0ZW1wQiA9IGluc3RCOyB0ZW1wQjsgdGVtcEIgPSBnZXRQYXJlbnQodGVtcEIpKSB7XG4gICAgZGVwdGhCKys7XG4gIH1cblxuICAvLyBJZiBBIGlzIGRlZXBlciwgY3Jhd2wgdXAuXG4gIHdoaWxlIChkZXB0aEEgLSBkZXB0aEIgPiAwKSB7XG4gICAgaW5zdEEgPSBnZXRQYXJlbnQoaW5zdEEpO1xuICAgIGRlcHRoQS0tO1xuICB9XG5cbiAgLy8gSWYgQiBpcyBkZWVwZXIsIGNyYXdsIHVwLlxuICB3aGlsZSAoZGVwdGhCIC0gZGVwdGhBID4gMCkge1xuICAgIGluc3RCID0gZ2V0UGFyZW50KGluc3RCKTtcbiAgICBkZXB0aEItLTtcbiAgfVxuXG4gIC8vIFdhbGsgaW4gbG9ja3N0ZXAgdW50aWwgd2UgZmluZCBhIG1hdGNoLlxuICB2YXIgZGVwdGggPSBkZXB0aEE7XG4gIHdoaWxlIChkZXB0aC0tKSB7XG4gICAgaWYgKGluc3RBID09PSBpbnN0QiB8fCBpbnN0QSA9PT0gaW5zdEIuYWx0ZXJuYXRlKSB7XG4gICAgICByZXR1cm4gaW5zdEE7XG4gICAgfVxuICAgIGluc3RBID0gZ2V0UGFyZW50KGluc3RBKTtcbiAgICBpbnN0QiA9IGdldFBhcmVudChpbnN0Qik7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogUmV0dXJuIGlmIEEgaXMgYW4gYW5jZXN0b3Igb2YgQi5cbiAqL1xuXG5cbi8qKlxuICogUmV0dXJuIHRoZSBwYXJlbnQgaW5zdGFuY2Ugb2YgdGhlIHBhc3NlZC1pbiBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gZ2V0UGFyZW50SW5zdGFuY2UoaW5zdCkge1xuICByZXR1cm4gZ2V0UGFyZW50KGluc3QpO1xufVxuXG4vKipcbiAqIFNpbXVsYXRlcyB0aGUgdHJhdmVyc2FsIG9mIGEgdHdvLXBoYXNlLCBjYXB0dXJlL2J1YmJsZSBldmVudCBkaXNwYXRjaC5cbiAqL1xuZnVuY3Rpb24gdHJhdmVyc2VUd29QaGFzZShpbnN0LCBmbiwgYXJnKSB7XG4gIHZhciBwYXRoID0gW107XG4gIHdoaWxlIChpbnN0KSB7XG4gICAgcGF0aC5wdXNoKGluc3QpO1xuICAgIGluc3QgPSBnZXRQYXJlbnQoaW5zdCk7XG4gIH1cbiAgdmFyIGkgPSB2b2lkIDA7XG4gIGZvciAoaSA9IHBhdGgubGVuZ3RoOyBpLS0gPiAwOykge1xuICAgIGZuKHBhdGhbaV0sICdjYXB0dXJlZCcsIGFyZyk7XG4gIH1cbiAgZm9yIChpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICBmbihwYXRoW2ldLCAnYnViYmxlZCcsIGFyZyk7XG4gIH1cbn1cblxuLyoqXG4gKiBUcmF2ZXJzZXMgdGhlIElEIGhpZXJhcmNoeSBhbmQgaW52b2tlcyB0aGUgc3VwcGxpZWQgYGNiYCBvbiBhbnkgSURzIHRoYXRcbiAqIHNob3VsZCB3b3VsZCByZWNlaXZlIGEgYG1vdXNlRW50ZXJgIG9yIGBtb3VzZUxlYXZlYCBldmVudC5cbiAqXG4gKiBEb2VzIG5vdCBpbnZva2UgdGhlIGNhbGxiYWNrIG9uIHRoZSBuZWFyZXN0IGNvbW1vbiBhbmNlc3RvciBiZWNhdXNlIG5vdGhpbmdcbiAqIFwiZW50ZXJlZFwiIG9yIFwibGVmdFwiIHRoYXQgZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gdHJhdmVyc2VFbnRlckxlYXZlKGZyb20sIHRvLCBmbiwgYXJnRnJvbSwgYXJnVG8pIHtcbiAgdmFyIGNvbW1vbiA9IGZyb20gJiYgdG8gPyBnZXRMb3dlc3RDb21tb25BbmNlc3Rvcihmcm9tLCB0bykgOiBudWxsO1xuICB2YXIgcGF0aEZyb20gPSBbXTtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBpZiAoIWZyb20pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoZnJvbSA9PT0gY29tbW9uKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgdmFyIGFsdGVybmF0ZSA9IGZyb20uYWx0ZXJuYXRlO1xuICAgIGlmIChhbHRlcm5hdGUgIT09IG51bGwgJiYgYWx0ZXJuYXRlID09PSBjb21tb24pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBwYXRoRnJvbS5wdXNoKGZyb20pO1xuICAgIGZyb20gPSBnZXRQYXJlbnQoZnJvbSk7XG4gIH1cbiAgdmFyIHBhdGhUbyA9IFtdO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIGlmICghdG8pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAodG8gPT09IGNvbW1vbikge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHZhciBfYWx0ZXJuYXRlID0gdG8uYWx0ZXJuYXRlO1xuICAgIGlmIChfYWx0ZXJuYXRlICE9PSBudWxsICYmIF9hbHRlcm5hdGUgPT09IGNvbW1vbikge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHBhdGhUby5wdXNoKHRvKTtcbiAgICB0byA9IGdldFBhcmVudCh0byk7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoRnJvbS5sZW5ndGg7IGkrKykge1xuICAgIGZuKHBhdGhGcm9tW2ldLCAnYnViYmxlZCcsIGFyZ0Zyb20pO1xuICB9XG4gIGZvciAodmFyIF9pID0gcGF0aFRvLmxlbmd0aDsgX2ktLSA+IDA7KSB7XG4gICAgZm4ocGF0aFRvW19pXSwgJ2NhcHR1cmVkJywgYXJnVG8pO1xuICB9XG59XG5cbi8qKlxuICogU29tZSBldmVudCB0eXBlcyBoYXZlIGEgbm90aW9uIG9mIGRpZmZlcmVudCByZWdpc3RyYXRpb24gbmFtZXMgZm9yIGRpZmZlcmVudFxuICogXCJwaGFzZXNcIiBvZiBwcm9wYWdhdGlvbi4gVGhpcyBmaW5kcyBsaXN0ZW5lcnMgYnkgYSBnaXZlbiBwaGFzZS5cbiAqL1xuZnVuY3Rpb24gbGlzdGVuZXJBdFBoYXNlKGluc3QsIGV2ZW50LCBwcm9wYWdhdGlvblBoYXNlKSB7XG4gIHZhciByZWdpc3RyYXRpb25OYW1lID0gZXZlbnQuZGlzcGF0Y2hDb25maWcucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXNbcHJvcGFnYXRpb25QaGFzZV07XG4gIHJldHVybiBnZXRMaXN0ZW5lcihpbnN0LCByZWdpc3RyYXRpb25OYW1lKTtcbn1cblxuLyoqXG4gKiBBIHNtYWxsIHNldCBvZiBwcm9wYWdhdGlvbiBwYXR0ZXJucywgZWFjaCBvZiB3aGljaCB3aWxsIGFjY2VwdCBhIHNtYWxsIGFtb3VudFxuICogb2YgaW5mb3JtYXRpb24sIGFuZCBnZW5lcmF0ZSBhIHNldCBvZiBcImRpc3BhdGNoIHJlYWR5IGV2ZW50IG9iamVjdHNcIiAtIHdoaWNoXG4gKiBhcmUgc2V0cyBvZiBldmVudHMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBhbm5vdGF0ZWQgd2l0aCBhIHNldCBvZiBkaXNwYXRjaGVkXG4gKiBsaXN0ZW5lciBmdW5jdGlvbnMvaWRzLiBUaGUgQVBJIGlzIGRlc2lnbmVkIHRoaXMgd2F5IHRvIGRpc2NvdXJhZ2UgdGhlc2VcbiAqIHByb3BhZ2F0aW9uIHN0cmF0ZWdpZXMgZnJvbSBhY3R1YWxseSBleGVjdXRpbmcgdGhlIGRpc3BhdGNoZXMsIHNpbmNlIHdlXG4gKiBhbHdheXMgd2FudCB0byBjb2xsZWN0IHRoZSBlbnRpcmUgc2V0IG9mIGRpc3BhdGNoZXMgYmVmb3JlIGV4ZWN1dGluZyBldmVuIGFcbiAqIHNpbmdsZSBvbmUuXG4gKi9cblxuLyoqXG4gKiBUYWdzIGEgYFN5bnRoZXRpY0V2ZW50YCB3aXRoIGRpc3BhdGNoZWQgbGlzdGVuZXJzLiBDcmVhdGluZyB0aGlzIGZ1bmN0aW9uXG4gKiBoZXJlLCBhbGxvd3MgdXMgdG8gbm90IGhhdmUgdG8gYmluZCBvciBjcmVhdGUgZnVuY3Rpb25zIGZvciBlYWNoIGV2ZW50LlxuICogTXV0YXRpbmcgdGhlIGV2ZW50J3MgbWVtYmVycyBhbGxvd3MgdXMgdG8gbm90IGhhdmUgdG8gY3JlYXRlIGEgd3JhcHBpbmdcbiAqIFwiZGlzcGF0Y2hcIiBvYmplY3QgdGhhdCBwYWlycyB0aGUgZXZlbnQgd2l0aCB0aGUgbGlzdGVuZXIuXG4gKi9cbmZ1bmN0aW9uIGFjY3VtdWxhdGVEaXJlY3Rpb25hbERpc3BhdGNoZXMoaW5zdCwgcGhhc2UsIGV2ZW50KSB7XG4gIHtcbiAgICB3YXJuaW5nKGluc3QsICdEaXNwYXRjaGluZyBpbnN0IG11c3Qgbm90IGJlIG51bGwnKTtcbiAgfVxuICB2YXIgbGlzdGVuZXIgPSBsaXN0ZW5lckF0UGhhc2UoaW5zdCwgZXZlbnQsIHBoYXNlKTtcbiAgaWYgKGxpc3RlbmVyKSB7XG4gICAgZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzID0gYWNjdW11bGF0ZUludG8oZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzLCBsaXN0ZW5lcik7XG4gICAgZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzID0gYWNjdW11bGF0ZUludG8oZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzLCBpbnN0KTtcbiAgfVxufVxuXG4vKipcbiAqIENvbGxlY3QgZGlzcGF0Y2hlcyAobXVzdCBiZSBlbnRpcmVseSBjb2xsZWN0ZWQgYmVmb3JlIGRpc3BhdGNoaW5nIC0gc2VlIHVuaXRcbiAqIHRlc3RzKS4gTGF6aWx5IGFsbG9jYXRlIHRoZSBhcnJheSB0byBjb25zZXJ2ZSBtZW1vcnkuICBXZSBtdXN0IGxvb3AgdGhyb3VnaFxuICogZWFjaCBldmVudCBhbmQgcGVyZm9ybSB0aGUgdHJhdmVyc2FsIGZvciBlYWNoIG9uZS4gV2UgY2Fubm90IHBlcmZvcm0gYVxuICogc2luZ2xlIHRyYXZlcnNhbCBmb3IgdGhlIGVudGlyZSBjb2xsZWN0aW9uIG9mIGV2ZW50cyBiZWNhdXNlIGVhY2ggZXZlbnQgbWF5XG4gKiBoYXZlIGEgZGlmZmVyZW50IHRhcmdldC5cbiAqL1xuZnVuY3Rpb24gYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NpbmdsZShldmVudCkge1xuICBpZiAoZXZlbnQgJiYgZXZlbnQuZGlzcGF0Y2hDb25maWcucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICB0cmF2ZXJzZVR3b1BoYXNlKGV2ZW50Ll90YXJnZXRJbnN0LCBhY2N1bXVsYXRlRGlyZWN0aW9uYWxEaXNwYXRjaGVzLCBldmVudCk7XG4gIH1cbn1cblxuLyoqXG4gKiBTYW1lIGFzIGBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlYCwgYnV0IHNraXBzIG92ZXIgdGhlIHRhcmdldElELlxuICovXG5mdW5jdGlvbiBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlU2tpcFRhcmdldChldmVudCkge1xuICBpZiAoZXZlbnQgJiYgZXZlbnQuZGlzcGF0Y2hDb25maWcucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICB2YXIgdGFyZ2V0SW5zdCA9IGV2ZW50Ll90YXJnZXRJbnN0O1xuICAgIHZhciBwYXJlbnRJbnN0ID0gdGFyZ2V0SW5zdCA/IGdldFBhcmVudEluc3RhbmNlKHRhcmdldEluc3QpIDogbnVsbDtcbiAgICB0cmF2ZXJzZVR3b1BoYXNlKHBhcmVudEluc3QsIGFjY3VtdWxhdGVEaXJlY3Rpb25hbERpc3BhdGNoZXMsIGV2ZW50KTtcbiAgfVxufVxuXG4vKipcbiAqIEFjY3VtdWxhdGVzIHdpdGhvdXQgcmVnYXJkIHRvIGRpcmVjdGlvbiwgZG9lcyBub3QgbG9vayBmb3IgcGhhc2VkXG4gKiByZWdpc3RyYXRpb24gbmFtZXMuIFNhbWUgYXMgYGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzU2luZ2xlYCBidXQgd2l0aG91dFxuICogcmVxdWlyaW5nIHRoYXQgdGhlIGBkaXNwYXRjaE1hcmtlcmAgYmUgdGhlIHNhbWUgYXMgdGhlIGRpc3BhdGNoZWQgSUQuXG4gKi9cbmZ1bmN0aW9uIGFjY3VtdWxhdGVEaXNwYXRjaGVzKGluc3QsIGlnbm9yZWREaXJlY3Rpb24sIGV2ZW50KSB7XG4gIGlmIChpbnN0ICYmIGV2ZW50ICYmIGV2ZW50LmRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICB2YXIgcmVnaXN0cmF0aW9uTmFtZSA9IGV2ZW50LmRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWU7XG4gICAgdmFyIGxpc3RlbmVyID0gZ2V0TGlzdGVuZXIoaW5zdCwgcmVnaXN0cmF0aW9uTmFtZSk7XG4gICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnMgPSBhY2N1bXVsYXRlSW50byhldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnMsIGxpc3RlbmVyKTtcbiAgICAgIGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcyA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcywgaW5zdCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQWNjdW11bGF0ZXMgZGlzcGF0Y2hlcyBvbiBhbiBgU3ludGhldGljRXZlbnRgLCBidXQgb25seSBmb3IgdGhlXG4gKiBgZGlzcGF0Y2hNYXJrZXJgLlxuICogQHBhcmFtIHtTeW50aGV0aWNFdmVudH0gZXZlbnRcbiAqL1xuZnVuY3Rpb24gYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXNTaW5nbGUoZXZlbnQpIHtcbiAgaWYgKGV2ZW50ICYmIGV2ZW50LmRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICBhY2N1bXVsYXRlRGlzcGF0Y2hlcyhldmVudC5fdGFyZ2V0SW5zdCwgbnVsbCwgZXZlbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoZXZlbnRzKSB7XG4gIGZvckVhY2hBY2N1bXVsYXRlZChldmVudHMsIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTaW5nbGUpO1xufVxuXG5mdW5jdGlvbiBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2tpcFRhcmdldChldmVudHMpIHtcbiAgZm9yRWFjaEFjY3VtdWxhdGVkKGV2ZW50cywgYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NpbmdsZVNraXBUYXJnZXQpO1xufVxuXG5mdW5jdGlvbiBhY2N1bXVsYXRlRW50ZXJMZWF2ZURpc3BhdGNoZXMobGVhdmUsIGVudGVyLCBmcm9tLCB0bykge1xuICB0cmF2ZXJzZUVudGVyTGVhdmUoZnJvbSwgdG8sIGFjY3VtdWxhdGVEaXNwYXRjaGVzLCBsZWF2ZSwgZW50ZXIpO1xufVxuXG5mdW5jdGlvbiBhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlcyhldmVudHMpIHtcbiAgZm9yRWFjaEFjY3VtdWxhdGVkKGV2ZW50cywgYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXNTaW5nbGUpO1xufVxuXG52YXIgRXZlbnRQcm9wYWdhdG9ycyA9IE9iamVjdC5mcmVlemUoe1xuXHRhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzOiBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzLFxuXHRhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2tpcFRhcmdldDogYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NraXBUYXJnZXQsXG5cdGFjY3VtdWxhdGVFbnRlckxlYXZlRGlzcGF0Y2hlczogYWNjdW11bGF0ZUVudGVyTGVhdmVEaXNwYXRjaGVzLFxuXHRhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlczogYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXNcbn0pO1xuXG52YXIgY29udGVudEtleSA9IG51bGw7XG5cbi8qKlxuICogR2V0cyB0aGUga2V5IHVzZWQgdG8gYWNjZXNzIHRleHQgY29udGVudCBvbiBhIERPTSBub2RlLlxuICpcbiAqIEByZXR1cm4gez9zdHJpbmd9IEtleSB1c2VkIHRvIGFjY2VzcyB0ZXh0IGNvbnRlbnQuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gZ2V0VGV4dENvbnRlbnRBY2Nlc3NvcigpIHtcbiAgaWYgKCFjb250ZW50S2V5ICYmIEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAgIC8vIFByZWZlciB0ZXh0Q29udGVudCB0byBpbm5lclRleHQgYmVjYXVzZSBtYW55IGJyb3dzZXJzIHN1cHBvcnQgYm90aCBidXRcbiAgICAvLyBTVkcgPHRleHQ+IGVsZW1lbnRzIGRvbid0IHN1cHBvcnQgaW5uZXJUZXh0IGV2ZW4gd2hlbiA8ZGl2PiBkb2VzLlxuICAgIGNvbnRlbnRLZXkgPSAndGV4dENvbnRlbnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA/ICd0ZXh0Q29udGVudCcgOiAnaW5uZXJUZXh0JztcbiAgfVxuICByZXR1cm4gY29udGVudEtleTtcbn1cblxuLyoqXG4gKiBUaGlzIGhlbHBlciBvYmplY3Qgc3RvcmVzIGluZm9ybWF0aW9uIGFib3V0IHRleHQgY29udGVudCBvZiBhIHRhcmdldCBub2RlLFxuICogYWxsb3dpbmcgY29tcGFyaXNvbiBvZiBjb250ZW50IGJlZm9yZSBhbmQgYWZ0ZXIgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBJZGVudGlmeSB0aGUgbm9kZSB3aGVyZSBzZWxlY3Rpb24gY3VycmVudGx5IGJlZ2lucywgdGhlbiBvYnNlcnZlXG4gKiBib3RoIGl0cyB0ZXh0IGNvbnRlbnQgYW5kIGl0cyBjdXJyZW50IHBvc2l0aW9uIGluIHRoZSBET00uIFNpbmNlIHRoZVxuICogYnJvd3NlciBtYXkgbmF0aXZlbHkgcmVwbGFjZSB0aGUgdGFyZ2V0IG5vZGUgZHVyaW5nIGNvbXBvc2l0aW9uLCB3ZSBjYW5cbiAqIHVzZSBpdHMgcG9zaXRpb24gdG8gZmluZCBpdHMgcmVwbGFjZW1lbnQuXG4gKlxuICpcbiAqL1xudmFyIGNvbXBvc2l0aW9uU3RhdGUgPSB7XG4gIF9yb290OiBudWxsLFxuICBfc3RhcnRUZXh0OiBudWxsLFxuICBfZmFsbGJhY2tUZXh0OiBudWxsXG59O1xuXG5mdW5jdGlvbiBpbml0aWFsaXplKG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gIGNvbXBvc2l0aW9uU3RhdGUuX3Jvb3QgPSBuYXRpdmVFdmVudFRhcmdldDtcbiAgY29tcG9zaXRpb25TdGF0ZS5fc3RhcnRUZXh0ID0gZ2V0VGV4dCgpO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcmVzZXQoKSB7XG4gIGNvbXBvc2l0aW9uU3RhdGUuX3Jvb3QgPSBudWxsO1xuICBjb21wb3NpdGlvblN0YXRlLl9zdGFydFRleHQgPSBudWxsO1xuICBjb21wb3NpdGlvblN0YXRlLl9mYWxsYmFja1RleHQgPSBudWxsO1xufVxuXG5mdW5jdGlvbiBnZXREYXRhKCkge1xuICBpZiAoY29tcG9zaXRpb25TdGF0ZS5fZmFsbGJhY2tUZXh0KSB7XG4gICAgcmV0dXJuIGNvbXBvc2l0aW9uU3RhdGUuX2ZhbGxiYWNrVGV4dDtcbiAgfVxuXG4gIHZhciBzdGFydCA9IHZvaWQgMDtcbiAgdmFyIHN0YXJ0VmFsdWUgPSBjb21wb3NpdGlvblN0YXRlLl9zdGFydFRleHQ7XG4gIHZhciBzdGFydExlbmd0aCA9IHN0YXJ0VmFsdWUubGVuZ3RoO1xuICB2YXIgZW5kID0gdm9pZCAwO1xuICB2YXIgZW5kVmFsdWUgPSBnZXRUZXh0KCk7XG4gIHZhciBlbmRMZW5ndGggPSBlbmRWYWx1ZS5sZW5ndGg7XG5cbiAgZm9yIChzdGFydCA9IDA7IHN0YXJ0IDwgc3RhcnRMZW5ndGg7IHN0YXJ0KyspIHtcbiAgICBpZiAoc3RhcnRWYWx1ZVtzdGFydF0gIT09IGVuZFZhbHVlW3N0YXJ0XSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdmFyIG1pbkVuZCA9IHN0YXJ0TGVuZ3RoIC0gc3RhcnQ7XG4gIGZvciAoZW5kID0gMTsgZW5kIDw9IG1pbkVuZDsgZW5kKyspIHtcbiAgICBpZiAoc3RhcnRWYWx1ZVtzdGFydExlbmd0aCAtIGVuZF0gIT09IGVuZFZhbHVlW2VuZExlbmd0aCAtIGVuZF0pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHZhciBzbGljZVRhaWwgPSBlbmQgPiAxID8gMSAtIGVuZCA6IHVuZGVmaW5lZDtcbiAgY29tcG9zaXRpb25TdGF0ZS5fZmFsbGJhY2tUZXh0ID0gZW5kVmFsdWUuc2xpY2Uoc3RhcnQsIHNsaWNlVGFpbCk7XG4gIHJldHVybiBjb21wb3NpdGlvblN0YXRlLl9mYWxsYmFja1RleHQ7XG59XG5cbmZ1bmN0aW9uIGdldFRleHQoKSB7XG4gIGlmICgndmFsdWUnIGluIGNvbXBvc2l0aW9uU3RhdGUuX3Jvb3QpIHtcbiAgICByZXR1cm4gY29tcG9zaXRpb25TdGF0ZS5fcm9vdC52YWx1ZTtcbiAgfVxuICByZXR1cm4gY29tcG9zaXRpb25TdGF0ZS5fcm9vdFtnZXRUZXh0Q29udGVudEFjY2Vzc29yKCldO1xufVxuXG4vKiBlc2xpbnQgdmFsaWQtdHlwZW9mOiAwICovXG5cbnZhciBkaWRXYXJuRm9yQWRkZWROZXdQcm9wZXJ0eSA9IGZhbHNlO1xudmFyIEVWRU5UX1BPT0xfU0laRSA9IDEwO1xuXG52YXIgc2hvdWxkQmVSZWxlYXNlZFByb3BlcnRpZXMgPSBbJ2Rpc3BhdGNoQ29uZmlnJywgJ190YXJnZXRJbnN0JywgJ25hdGl2ZUV2ZW50JywgJ2lzRGVmYXVsdFByZXZlbnRlZCcsICdpc1Byb3BhZ2F0aW9uU3RvcHBlZCcsICdfZGlzcGF0Y2hMaXN0ZW5lcnMnLCAnX2Rpc3BhdGNoSW5zdGFuY2VzJ107XG5cbi8qKlxuICogQGludGVyZmFjZSBFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvXG4gKi9cbnZhciBFdmVudEludGVyZmFjZSA9IHtcbiAgdHlwZTogbnVsbCxcbiAgdGFyZ2V0OiBudWxsLFxuICAvLyBjdXJyZW50VGFyZ2V0IGlzIHNldCB3aGVuIGRpc3BhdGNoaW5nOyBubyB1c2UgaW4gY29weWluZyBpdCBoZXJlXG4gIGN1cnJlbnRUYXJnZXQ6IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNOdWxsLFxuICBldmVudFBoYXNlOiBudWxsLFxuICBidWJibGVzOiBudWxsLFxuICBjYW5jZWxhYmxlOiBudWxsLFxuICB0aW1lU3RhbXA6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHJldHVybiBldmVudC50aW1lU3RhbXAgfHwgRGF0ZS5ub3coKTtcbiAgfSxcbiAgZGVmYXVsdFByZXZlbnRlZDogbnVsbCxcbiAgaXNUcnVzdGVkOiBudWxsXG59O1xuXG4vKipcbiAqIFN5bnRoZXRpYyBldmVudHMgYXJlIGRpc3BhdGNoZWQgYnkgZXZlbnQgcGx1Z2lucywgdHlwaWNhbGx5IGluIHJlc3BvbnNlIHRvIGFcbiAqIHRvcC1sZXZlbCBldmVudCBkZWxlZ2F0aW9uIGhhbmRsZXIuXG4gKlxuICogVGhlc2Ugc3lzdGVtcyBzaG91bGQgZ2VuZXJhbGx5IHVzZSBwb29saW5nIHRvIHJlZHVjZSB0aGUgZnJlcXVlbmN5IG9mIGdhcmJhZ2VcbiAqIGNvbGxlY3Rpb24uIFRoZSBzeXN0ZW0gc2hvdWxkIGNoZWNrIGBpc1BlcnNpc3RlbnRgIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZVxuICogZXZlbnQgc2hvdWxkIGJlIHJlbGVhc2VkIGludG8gdGhlIHBvb2wgYWZ0ZXIgYmVpbmcgZGlzcGF0Y2hlZC4gVXNlcnMgdGhhdFxuICogbmVlZCBhIHBlcnNpc3RlZCBldmVudCBzaG91bGQgaW52b2tlIGBwZXJzaXN0YC5cbiAqXG4gKiBTeW50aGV0aWMgZXZlbnRzIChhbmQgc3ViY2xhc3NlcykgaW1wbGVtZW50IHRoZSBET00gTGV2ZWwgMyBFdmVudHMgQVBJIGJ5XG4gKiBub3JtYWxpemluZyBicm93c2VyIHF1aXJrcy4gU3ViY2xhc3NlcyBkbyBub3QgbmVjZXNzYXJpbHkgaGF2ZSB0byBpbXBsZW1lbnQgYVxuICogRE9NIGludGVyZmFjZTsgY3VzdG9tIGFwcGxpY2F0aW9uLXNwZWNpZmljIGV2ZW50cyBjYW4gYWxzbyBzdWJjbGFzcyB0aGlzLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBkaXNwYXRjaENvbmZpZyBDb25maWd1cmF0aW9uIHVzZWQgdG8gZGlzcGF0Y2ggdGhpcyBldmVudC5cbiAqIEBwYXJhbSB7Kn0gdGFyZ2V0SW5zdCBNYXJrZXIgaWRlbnRpZnlpbmcgdGhlIGV2ZW50IHRhcmdldC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudCBOYXRpdmUgYnJvd3NlciBldmVudC5cbiAqIEBwYXJhbSB7RE9NRXZlbnRUYXJnZXR9IG5hdGl2ZUV2ZW50VGFyZ2V0IFRhcmdldCBub2RlLlxuICovXG5mdW5jdGlvbiBTeW50aGV0aWNFdmVudChkaXNwYXRjaENvbmZpZywgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gIHtcbiAgICAvLyB0aGVzZSBoYXZlIGEgZ2V0dGVyL3NldHRlciBmb3Igd2FybmluZ3NcbiAgICBkZWxldGUgdGhpcy5uYXRpdmVFdmVudDtcbiAgICBkZWxldGUgdGhpcy5wcmV2ZW50RGVmYXVsdDtcbiAgICBkZWxldGUgdGhpcy5zdG9wUHJvcGFnYXRpb247XG4gIH1cblxuICB0aGlzLmRpc3BhdGNoQ29uZmlnID0gZGlzcGF0Y2hDb25maWc7XG4gIHRoaXMuX3RhcmdldEluc3QgPSB0YXJnZXRJbnN0O1xuICB0aGlzLm5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQ7XG5cbiAgdmFyIEludGVyZmFjZSA9IHRoaXMuY29uc3RydWN0b3IuSW50ZXJmYWNlO1xuICBmb3IgKHZhciBwcm9wTmFtZSBpbiBJbnRlcmZhY2UpIHtcbiAgICBpZiAoIUludGVyZmFjZS5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB7XG4gICAgICBkZWxldGUgdGhpc1twcm9wTmFtZV07IC8vIHRoaXMgaGFzIGEgZ2V0dGVyL3NldHRlciBmb3Igd2FybmluZ3NcbiAgICB9XG4gICAgdmFyIG5vcm1hbGl6ZSA9IEludGVyZmFjZVtwcm9wTmFtZV07XG4gICAgaWYgKG5vcm1hbGl6ZSkge1xuICAgICAgdGhpc1twcm9wTmFtZV0gPSBub3JtYWxpemUobmF0aXZlRXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocHJvcE5hbWUgPT09ICd0YXJnZXQnKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbmF0aXZlRXZlbnRUYXJnZXQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzW3Byb3BOYW1lXSA9IG5hdGl2ZUV2ZW50W3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgZGVmYXVsdFByZXZlbnRlZCA9IG5hdGl2ZUV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgIT0gbnVsbCA/IG5hdGl2ZUV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgOiBuYXRpdmVFdmVudC5yZXR1cm5WYWx1ZSA9PT0gZmFsc2U7XG4gIGlmIChkZWZhdWx0UHJldmVudGVkKSB7XG4gICAgdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZTtcbiAgfVxuICB0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0ZhbHNlO1xuICByZXR1cm4gdGhpcztcbn1cblxuX2Fzc2lnbihTeW50aGV0aWNFdmVudC5wcm90b3R5cGUsIHtcbiAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgIHZhciBldmVudCA9IHRoaXMubmF0aXZlRXZlbnQ7XG4gICAgaWYgKCFldmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChldmVudC5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBldmVudC5yZXR1cm5WYWx1ZSAhPT0gJ3Vua25vd24nKSB7XG4gICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUcnVlO1xuICB9LFxuXG4gIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24gKCkge1xuICAgIHZhciBldmVudCA9IHRoaXMubmF0aXZlRXZlbnQ7XG4gICAgaWYgKCFldmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChldmVudC5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV2ZW50LmNhbmNlbEJ1YmJsZSAhPT0gJ3Vua25vd24nKSB7XG4gICAgICAvLyBUaGUgQ2hhbmdlRXZlbnRQbHVnaW4gcmVnaXN0ZXJzIGEgXCJwcm9wZXJ0eWNoYW5nZVwiIGV2ZW50IGZvclxuICAgICAgLy8gSUUuIFRoaXMgZXZlbnQgZG9lcyBub3Qgc3VwcG9ydCBidWJibGluZyBvciBjYW5jZWxsaW5nLCBhbmRcbiAgICAgIC8vIGFueSByZWZlcmVuY2VzIHRvIGNhbmNlbEJ1YmJsZSB0aHJvdyBcIk1lbWJlciBub3QgZm91bmRcIi4gIEFcbiAgICAgIC8vIHR5cGVvZiBjaGVjayBvZiBcInVua25vd25cIiBjaXJjdW12ZW50cyB0aGlzIGlzc3VlIChhbmQgaXMgYWxzb1xuICAgICAgLy8gSUUgc3BlY2lmaWMpLlxuICAgICAgZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFdlIHJlbGVhc2UgYWxsIGRpc3BhdGNoZWQgYFN5bnRoZXRpY0V2ZW50YHMgYWZ0ZXIgZWFjaCBldmVudCBsb29wLCBhZGRpbmdcbiAgICogdGhlbSBiYWNrIGludG8gdGhlIHBvb2wuIFRoaXMgYWxsb3dzIGEgd2F5IHRvIGhvbGQgb250byBhIHJlZmVyZW5jZSB0aGF0XG4gICAqIHdvbid0IGJlIGFkZGVkIGJhY2sgaW50byB0aGUgcG9vbC5cbiAgICovXG4gIHBlcnNpc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmlzUGVyc2lzdGVudCA9IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUcnVlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhpcyBldmVudCBzaG91bGQgYmUgcmVsZWFzZWQgYmFjayBpbnRvIHRoZSBwb29sLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoaXMgc2hvdWxkIG5vdCBiZSByZWxlYXNlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgaXNQZXJzaXN0ZW50OiBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2UsXG5cbiAgLyoqXG4gICAqIGBQb29sZWRDbGFzc2AgbG9va3MgZm9yIGBkZXN0cnVjdG9yYCBvbiBlYWNoIGluc3RhbmNlIGl0IHJlbGVhc2VzLlxuICAgKi9cbiAgZGVzdHJ1Y3RvcjogZnVuY3Rpb24gKCkge1xuICAgIHZhciBJbnRlcmZhY2UgPSB0aGlzLmNvbnN0cnVjdG9yLkludGVyZmFjZTtcbiAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBJbnRlcmZhY2UpIHtcbiAgICAgIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIHByb3BOYW1lLCBnZXRQb29sZWRXYXJuaW5nUHJvcGVydHlEZWZpbml0aW9uKHByb3BOYW1lLCBJbnRlcmZhY2VbcHJvcE5hbWVdKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2hvdWxkQmVSZWxlYXNlZFByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXNbc2hvdWxkQmVSZWxlYXNlZFByb3BlcnRpZXNbaV1dID0gbnVsbDtcbiAgICB9XG4gICAge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICduYXRpdmVFdmVudCcsIGdldFBvb2xlZFdhcm5pbmdQcm9wZXJ0eURlZmluaXRpb24oJ25hdGl2ZUV2ZW50JywgbnVsbCkpO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdwcmV2ZW50RGVmYXVsdCcsIGdldFBvb2xlZFdhcm5pbmdQcm9wZXJ0eURlZmluaXRpb24oJ3ByZXZlbnREZWZhdWx0JywgZW1wdHlGdW5jdGlvbikpO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdzdG9wUHJvcGFnYXRpb24nLCBnZXRQb29sZWRXYXJuaW5nUHJvcGVydHlEZWZpbml0aW9uKCdzdG9wUHJvcGFnYXRpb24nLCBlbXB0eUZ1bmN0aW9uKSk7XG4gICAgfVxuICB9XG59KTtcblxuU3ludGhldGljRXZlbnQuSW50ZXJmYWNlID0gRXZlbnRJbnRlcmZhY2U7XG5cbi8qKlxuICogSGVscGVyIHRvIHJlZHVjZSBib2lsZXJwbGF0ZSB3aGVuIGNyZWF0aW5nIHN1YmNsYXNzZXMuXG4gKi9cblN5bnRoZXRpY0V2ZW50LmV4dGVuZCA9IGZ1bmN0aW9uIChJbnRlcmZhY2UpIHtcbiAgdmFyIFN1cGVyID0gdGhpcztcblxuICB2YXIgRSA9IGZ1bmN0aW9uICgpIHt9O1xuICBFLnByb3RvdHlwZSA9IFN1cGVyLnByb3RvdHlwZTtcbiAgdmFyIHByb3RvdHlwZSA9IG5ldyBFKCk7XG5cbiAgZnVuY3Rpb24gQ2xhc3MoKSB7XG4gICAgcmV0dXJuIFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cbiAgX2Fzc2lnbihwcm90b3R5cGUsIENsYXNzLnByb3RvdHlwZSk7XG4gIENsYXNzLnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ2xhc3M7XG5cbiAgQ2xhc3MuSW50ZXJmYWNlID0gX2Fzc2lnbih7fSwgU3VwZXIuSW50ZXJmYWNlLCBJbnRlcmZhY2UpO1xuICBDbGFzcy5leHRlbmQgPSBTdXBlci5leHRlbmQ7XG4gIGFkZEV2ZW50UG9vbGluZ1RvKENsYXNzKTtcblxuICByZXR1cm4gQ2xhc3M7XG59O1xuXG4vKiogUHJveHlpbmcgYWZ0ZXIgZXZlcnl0aGluZyBzZXQgb24gU3ludGhldGljRXZlbnRcbiAqIHRvIHJlc29sdmUgUHJveHkgaXNzdWUgb24gc29tZSBXZWJLaXQgYnJvd3NlcnNcbiAqIGluIHdoaWNoIHNvbWUgRXZlbnQgcHJvcGVydGllcyBhcmUgc2V0IHRvIHVuZGVmaW5lZCAoR0gjMTAwMTApXG4gKi9cbntcbiAgdmFyIGlzUHJveHlTdXBwb3J0ZWQgPSB0eXBlb2YgUHJveHkgPT09ICdmdW5jdGlvbicgJiZcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xMjAxMVxuICAhT2JqZWN0LmlzU2VhbGVkKG5ldyBQcm94eSh7fSwge30pKTtcblxuICBpZiAoaXNQcm94eVN1cHBvcnRlZCkge1xuICAgIC8qZXNsaW50LWRpc2FibGUgbm8tZnVuYy1hc3NpZ24gKi9cbiAgICBTeW50aGV0aWNFdmVudCA9IG5ldyBQcm94eShTeW50aGV0aWNFdmVudCwge1xuICAgICAgY29uc3RydWN0OiBmdW5jdGlvbiAodGFyZ2V0LCBhcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcGx5KHRhcmdldCwgT2JqZWN0LmNyZWF0ZSh0YXJnZXQucHJvdG90eXBlKSwgYXJncyk7XG4gICAgICB9LFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uIChjb25zdHJ1Y3RvciwgdGhhdCwgYXJncykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3h5KGNvbnN0cnVjdG9yLmFwcGx5KHRoYXQsIGFyZ3MpLCB7XG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiAodGFyZ2V0LCBwcm9wLCB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHByb3AgIT09ICdpc1BlcnNpc3RlbnQnICYmICF0YXJnZXQuY29uc3RydWN0b3IuSW50ZXJmYWNlLmhhc093blByb3BlcnR5KHByb3ApICYmIHNob3VsZEJlUmVsZWFzZWRQcm9wZXJ0aWVzLmluZGV4T2YocHJvcCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgIHdhcm5pbmcoZGlkV2FybkZvckFkZGVkTmV3UHJvcGVydHkgfHwgdGFyZ2V0LmlzUGVyc2lzdGVudCgpLCBcIlRoaXMgc3ludGhldGljIGV2ZW50IGlzIHJldXNlZCBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucy4gSWYgeW91J3JlIFwiICsgXCJzZWVpbmcgdGhpcywgeW91J3JlIGFkZGluZyBhIG5ldyBwcm9wZXJ0eSBpbiB0aGUgc3ludGhldGljIGV2ZW50IG9iamVjdC4gXCIgKyAnVGhlIHByb3BlcnR5IGlzIG5ldmVyIHJlbGVhc2VkLiBTZWUgJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWV2ZW50LXBvb2xpbmcgZm9yIG1vcmUgaW5mb3JtYXRpb24uJyk7XG4gICAgICAgICAgICAgIGRpZFdhcm5Gb3JBZGRlZE5ld1Byb3BlcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvKmVzbGludC1lbmFibGUgbm8tZnVuYy1hc3NpZ24gKi9cbiAgfVxufVxuXG5hZGRFdmVudFBvb2xpbmdUbyhTeW50aGV0aWNFdmVudCk7XG5cbi8qKlxuICogSGVscGVyIHRvIG51bGxpZnkgc3ludGhldGljRXZlbnQgaW5zdGFuY2UgcHJvcGVydGllcyB3aGVuIGRlc3RydWN0aW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BOYW1lXG4gKiBAcGFyYW0gez9vYmplY3R9IGdldFZhbFxuICogQHJldHVybiB7b2JqZWN0fSBkZWZpbmVQcm9wZXJ0eSBvYmplY3RcbiAqL1xuZnVuY3Rpb24gZ2V0UG9vbGVkV2FybmluZ1Byb3BlcnR5RGVmaW5pdGlvbihwcm9wTmFtZSwgZ2V0VmFsKSB7XG4gIHZhciBpc0Z1bmN0aW9uID0gdHlwZW9mIGdldFZhbCA9PT0gJ2Z1bmN0aW9uJztcbiAgcmV0dXJuIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgc2V0OiBzZXQsXG4gICAgZ2V0OiBnZXRcbiAgfTtcblxuICBmdW5jdGlvbiBzZXQodmFsKSB7XG4gICAgdmFyIGFjdGlvbiA9IGlzRnVuY3Rpb24gPyAnc2V0dGluZyB0aGUgbWV0aG9kJyA6ICdzZXR0aW5nIHRoZSBwcm9wZXJ0eSc7XG4gICAgd2FybihhY3Rpb24sICdUaGlzIGlzIGVmZmVjdGl2ZWx5IGEgbm8tb3AnKTtcbiAgICByZXR1cm4gdmFsO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0KCkge1xuICAgIHZhciBhY3Rpb24gPSBpc0Z1bmN0aW9uID8gJ2FjY2Vzc2luZyB0aGUgbWV0aG9kJyA6ICdhY2Nlc3NpbmcgdGhlIHByb3BlcnR5JztcbiAgICB2YXIgcmVzdWx0ID0gaXNGdW5jdGlvbiA/ICdUaGlzIGlzIGEgbm8tb3AgZnVuY3Rpb24nIDogJ1RoaXMgaXMgc2V0IHRvIG51bGwnO1xuICAgIHdhcm4oYWN0aW9uLCByZXN1bHQpO1xuICAgIHJldHVybiBnZXRWYWw7XG4gIH1cblxuICBmdW5jdGlvbiB3YXJuKGFjdGlvbiwgcmVzdWx0KSB7XG4gICAgdmFyIHdhcm5pbmdDb25kaXRpb24gPSBmYWxzZTtcbiAgICB3YXJuaW5nKHdhcm5pbmdDb25kaXRpb24sIFwiVGhpcyBzeW50aGV0aWMgZXZlbnQgaXMgcmV1c2VkIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLiBJZiB5b3UncmUgc2VlaW5nIHRoaXMsIFwiICsgXCJ5b3UncmUgJXMgYCVzYCBvbiBhIHJlbGVhc2VkL251bGxpZmllZCBzeW50aGV0aWMgZXZlbnQuICVzLiBcIiArICdJZiB5b3UgbXVzdCBrZWVwIHRoZSBvcmlnaW5hbCBzeW50aGV0aWMgZXZlbnQgYXJvdW5kLCB1c2UgZXZlbnQucGVyc2lzdCgpLiAnICsgJ1NlZSBodHRwczovL2ZiLm1lL3JlYWN0LWV2ZW50LXBvb2xpbmcgZm9yIG1vcmUgaW5mb3JtYXRpb24uJywgYWN0aW9uLCBwcm9wTmFtZSwgcmVzdWx0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRQb29sZWRFdmVudChkaXNwYXRjaENvbmZpZywgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUluc3QpIHtcbiAgdmFyIEV2ZW50Q29uc3RydWN0b3IgPSB0aGlzO1xuICBpZiAoRXZlbnRDb25zdHJ1Y3Rvci5ldmVudFBvb2wubGVuZ3RoKSB7XG4gICAgdmFyIGluc3RhbmNlID0gRXZlbnRDb25zdHJ1Y3Rvci5ldmVudFBvb2wucG9wKCk7XG4gICAgRXZlbnRDb25zdHJ1Y3Rvci5jYWxsKGluc3RhbmNlLCBkaXNwYXRjaENvbmZpZywgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUluc3QpO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfVxuICByZXR1cm4gbmV3IEV2ZW50Q29uc3RydWN0b3IoZGlzcGF0Y2hDb25maWcsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVJbnN0KTtcbn1cblxuZnVuY3Rpb24gcmVsZWFzZVBvb2xlZEV2ZW50KGV2ZW50KSB7XG4gIHZhciBFdmVudENvbnN0cnVjdG9yID0gdGhpcztcbiAgIShldmVudCBpbnN0YW5jZW9mIEV2ZW50Q29uc3RydWN0b3IpID8gaW52YXJpYW50KGZhbHNlLCAnVHJ5aW5nIHRvIHJlbGVhc2UgYW4gZXZlbnQgaW5zdGFuY2UgIGludG8gYSBwb29sIG9mIGEgZGlmZmVyZW50IHR5cGUuJykgOiB2b2lkIDA7XG4gIGV2ZW50LmRlc3RydWN0b3IoKTtcbiAgaWYgKEV2ZW50Q29uc3RydWN0b3IuZXZlbnRQb29sLmxlbmd0aCA8IEVWRU5UX1BPT0xfU0laRSkge1xuICAgIEV2ZW50Q29uc3RydWN0b3IuZXZlbnRQb29sLnB1c2goZXZlbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFkZEV2ZW50UG9vbGluZ1RvKEV2ZW50Q29uc3RydWN0b3IpIHtcbiAgRXZlbnRDb25zdHJ1Y3Rvci5ldmVudFBvb2wgPSBbXTtcbiAgRXZlbnRDb25zdHJ1Y3Rvci5nZXRQb29sZWQgPSBnZXRQb29sZWRFdmVudDtcbiAgRXZlbnRDb25zdHJ1Y3Rvci5yZWxlYXNlID0gcmVsZWFzZVBvb2xlZEV2ZW50O1xufVxuXG52YXIgU3ludGhldGljRXZlbnQkMSA9IFN5bnRoZXRpY0V2ZW50O1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgRXZlbnRcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLyNldmVudHMtY29tcG9zaXRpb25ldmVudHNcbiAqL1xudmFyIFN5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQgPSBTeW50aGV0aWNFdmVudCQxLmV4dGVuZCh7XG4gIGRhdGE6IG51bGxcbn0pO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgRXZlbnRcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMy9XRC1ET00tTGV2ZWwtMy1FdmVudHMtMjAxMzExMDVcbiAqICAgICAgLyNldmVudHMtaW5wdXRldmVudHNcbiAqL1xudmFyIFN5bnRoZXRpY0lucHV0RXZlbnQgPSBTeW50aGV0aWNFdmVudCQxLmV4dGVuZCh7XG4gIGRhdGE6IG51bGxcbn0pO1xuXG52YXIgRU5EX0tFWUNPREVTID0gWzksIDEzLCAyNywgMzJdOyAvLyBUYWIsIFJldHVybiwgRXNjLCBTcGFjZVxudmFyIFNUQVJUX0tFWUNPREUgPSAyMjk7XG5cbnZhciBjYW5Vc2VDb21wb3NpdGlvbkV2ZW50ID0gRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmICdDb21wb3NpdGlvbkV2ZW50JyBpbiB3aW5kb3c7XG5cbnZhciBkb2N1bWVudE1vZGUgPSBudWxsO1xuaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiAnZG9jdW1lbnRNb2RlJyBpbiBkb2N1bWVudCkge1xuICBkb2N1bWVudE1vZGUgPSBkb2N1bWVudC5kb2N1bWVudE1vZGU7XG59XG5cbi8vIFdlYmtpdCBvZmZlcnMgYSB2ZXJ5IHVzZWZ1bCBgdGV4dElucHV0YCBldmVudCB0aGF0IGNhbiBiZSB1c2VkIHRvXG4vLyBkaXJlY3RseSByZXByZXNlbnQgYGJlZm9yZUlucHV0YC4gVGhlIElFIGB0ZXh0aW5wdXRgIGV2ZW50IGlzIG5vdCBhc1xuLy8gdXNlZnVsLCBzbyB3ZSBkb24ndCB1c2UgaXQuXG52YXIgY2FuVXNlVGV4dElucHV0RXZlbnQgPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgJ1RleHRFdmVudCcgaW4gd2luZG93ICYmICFkb2N1bWVudE1vZGU7XG5cbi8vIEluIElFOSssIHdlIGhhdmUgYWNjZXNzIHRvIGNvbXBvc2l0aW9uIGV2ZW50cywgYnV0IHRoZSBkYXRhIHN1cHBsaWVkXG4vLyBieSB0aGUgbmF0aXZlIGNvbXBvc2l0aW9uZW5kIGV2ZW50IG1heSBiZSBpbmNvcnJlY3QuIEphcGFuZXNlIGlkZW9ncmFwaGljXG4vLyBzcGFjZXMsIGZvciBpbnN0YW5jZSAoXFx1MzAwMCkgYXJlIG5vdCByZWNvcmRlZCBjb3JyZWN0bHkuXG52YXIgdXNlRmFsbGJhY2tDb21wb3NpdGlvbkRhdGEgPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgKCFjYW5Vc2VDb21wb3NpdGlvbkV2ZW50IHx8IGRvY3VtZW50TW9kZSAmJiBkb2N1bWVudE1vZGUgPiA4ICYmIGRvY3VtZW50TW9kZSA8PSAxMSk7XG5cbnZhciBTUEFDRUJBUl9DT0RFID0gMzI7XG52YXIgU1BBQ0VCQVJfQ0hBUiA9IFN0cmluZy5mcm9tQ2hhckNvZGUoU1BBQ0VCQVJfQ09ERSk7XG5cbi8vIEV2ZW50cyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSBuYW1lcy5cbnZhciBldmVudFR5cGVzID0ge1xuICBiZWZvcmVJbnB1dDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiAnb25CZWZvcmVJbnB1dCcsXG4gICAgICBjYXB0dXJlZDogJ29uQmVmb3JlSW5wdXRDYXB0dXJlJ1xuICAgIH0sXG4gICAgZGVwZW5kZW5jaWVzOiBbJ3RvcENvbXBvc2l0aW9uRW5kJywgJ3RvcEtleVByZXNzJywgJ3RvcFRleHRJbnB1dCcsICd0b3BQYXN0ZSddXG4gIH0sXG4gIGNvbXBvc2l0aW9uRW5kOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6ICdvbkNvbXBvc2l0aW9uRW5kJyxcbiAgICAgIGNhcHR1cmVkOiAnb25Db21wb3NpdGlvbkVuZENhcHR1cmUnXG4gICAgfSxcbiAgICBkZXBlbmRlbmNpZXM6IFsndG9wQmx1cicsICd0b3BDb21wb3NpdGlvbkVuZCcsICd0b3BLZXlEb3duJywgJ3RvcEtleVByZXNzJywgJ3RvcEtleVVwJywgJ3RvcE1vdXNlRG93biddXG4gIH0sXG4gIGNvbXBvc2l0aW9uU3RhcnQ6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDogJ29uQ29tcG9zaXRpb25TdGFydCcsXG4gICAgICBjYXB0dXJlZDogJ29uQ29tcG9zaXRpb25TdGFydENhcHR1cmUnXG4gICAgfSxcbiAgICBkZXBlbmRlbmNpZXM6IFsndG9wQmx1cicsICd0b3BDb21wb3NpdGlvblN0YXJ0JywgJ3RvcEtleURvd24nLCAndG9wS2V5UHJlc3MnLCAndG9wS2V5VXAnLCAndG9wTW91c2VEb3duJ11cbiAgfSxcbiAgY29tcG9zaXRpb25VcGRhdGU6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDogJ29uQ29tcG9zaXRpb25VcGRhdGUnLFxuICAgICAgY2FwdHVyZWQ6ICdvbkNvbXBvc2l0aW9uVXBkYXRlQ2FwdHVyZSdcbiAgICB9LFxuICAgIGRlcGVuZGVuY2llczogWyd0b3BCbHVyJywgJ3RvcENvbXBvc2l0aW9uVXBkYXRlJywgJ3RvcEtleURvd24nLCAndG9wS2V5UHJlc3MnLCAndG9wS2V5VXAnLCAndG9wTW91c2VEb3duJ11cbiAgfVxufTtcblxuLy8gVHJhY2sgd2hldGhlciB3ZSd2ZSBldmVyIGhhbmRsZWQgYSBrZXlwcmVzcyBvbiB0aGUgc3BhY2Uga2V5LlxudmFyIGhhc1NwYWNlS2V5cHJlc3MgPSBmYWxzZTtcblxuLyoqXG4gKiBSZXR1cm4gd2hldGhlciBhIG5hdGl2ZSBrZXlwcmVzcyBldmVudCBpcyBhc3N1bWVkIHRvIGJlIGEgY29tbWFuZC5cbiAqIFRoaXMgaXMgcmVxdWlyZWQgYmVjYXVzZSBGaXJlZm94IGZpcmVzIGBrZXlwcmVzc2AgZXZlbnRzIGZvciBrZXkgY29tbWFuZHNcbiAqIChjdXQsIGNvcHksIHNlbGVjdC1hbGwsIGV0Yy4pIGV2ZW4gdGhvdWdoIG5vIGNoYXJhY3RlciBpcyBpbnNlcnRlZC5cbiAqL1xuZnVuY3Rpb24gaXNLZXlwcmVzc0NvbW1hbmQobmF0aXZlRXZlbnQpIHtcbiAgcmV0dXJuIChuYXRpdmVFdmVudC5jdHJsS2V5IHx8IG5hdGl2ZUV2ZW50LmFsdEtleSB8fCBuYXRpdmVFdmVudC5tZXRhS2V5KSAmJlxuICAvLyBjdHJsS2V5ICYmIGFsdEtleSBpcyBlcXVpdmFsZW50IHRvIEFsdEdyLCBhbmQgaXMgbm90IGEgY29tbWFuZC5cbiAgIShuYXRpdmVFdmVudC5jdHJsS2V5ICYmIG5hdGl2ZUV2ZW50LmFsdEtleSk7XG59XG5cbi8qKlxuICogVHJhbnNsYXRlIG5hdGl2ZSB0b3AgbGV2ZWwgZXZlbnRzIGludG8gZXZlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRvcExldmVsVHlwZVxuICogQHJldHVybiB7b2JqZWN0fVxuICovXG5mdW5jdGlvbiBnZXRDb21wb3NpdGlvbkV2ZW50VHlwZSh0b3BMZXZlbFR5cGUpIHtcbiAgc3dpdGNoICh0b3BMZXZlbFR5cGUpIHtcbiAgICBjYXNlICd0b3BDb21wb3NpdGlvblN0YXJ0JzpcbiAgICAgIHJldHVybiBldmVudFR5cGVzLmNvbXBvc2l0aW9uU3RhcnQ7XG4gICAgY2FzZSAndG9wQ29tcG9zaXRpb25FbmQnOlxuICAgICAgcmV0dXJuIGV2ZW50VHlwZXMuY29tcG9zaXRpb25FbmQ7XG4gICAgY2FzZSAndG9wQ29tcG9zaXRpb25VcGRhdGUnOlxuICAgICAgcmV0dXJuIGV2ZW50VHlwZXMuY29tcG9zaXRpb25VcGRhdGU7XG4gIH1cbn1cblxuLyoqXG4gKiBEb2VzIG91ciBmYWxsYmFjayBiZXN0LWd1ZXNzIG1vZGVsIHRoaW5rIHRoaXMgZXZlbnQgc2lnbmlmaWVzIHRoYXRcbiAqIGNvbXBvc2l0aW9uIGhhcyBiZWd1bj9cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUeXBlXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzRmFsbGJhY2tDb21wb3NpdGlvblN0YXJ0KHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpIHtcbiAgcmV0dXJuIHRvcExldmVsVHlwZSA9PT0gJ3RvcEtleURvd24nICYmIG5hdGl2ZUV2ZW50LmtleUNvZGUgPT09IFNUQVJUX0tFWUNPREU7XG59XG5cbi8qKlxuICogRG9lcyBvdXIgZmFsbGJhY2sgbW9kZSB0aGluayB0aGF0IHRoaXMgZXZlbnQgaXMgdGhlIGVuZCBvZiBjb21wb3NpdGlvbj9cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUeXBlXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzRmFsbGJhY2tDb21wb3NpdGlvbkVuZCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSB7XG4gIHN3aXRjaCAodG9wTGV2ZWxUeXBlKSB7XG4gICAgY2FzZSAndG9wS2V5VXAnOlxuICAgICAgLy8gQ29tbWFuZCBrZXlzIGluc2VydCBvciBjbGVhciBJTUUgaW5wdXQuXG4gICAgICByZXR1cm4gRU5EX0tFWUNPREVTLmluZGV4T2YobmF0aXZlRXZlbnQua2V5Q29kZSkgIT09IC0xO1xuICAgIGNhc2UgJ3RvcEtleURvd24nOlxuICAgICAgLy8gRXhwZWN0IElNRSBrZXlDb2RlIG9uIGVhY2gga2V5ZG93bi4gSWYgd2UgZ2V0IGFueSBvdGhlclxuICAgICAgLy8gY29kZSB3ZSBtdXN0IGhhdmUgZXhpdGVkIGVhcmxpZXIuXG4gICAgICByZXR1cm4gbmF0aXZlRXZlbnQua2V5Q29kZSAhPT0gU1RBUlRfS0VZQ09ERTtcbiAgICBjYXNlICd0b3BLZXlQcmVzcyc6XG4gICAgY2FzZSAndG9wTW91c2VEb3duJzpcbiAgICBjYXNlICd0b3BCbHVyJzpcbiAgICAgIC8vIEV2ZW50cyBhcmUgbm90IHBvc3NpYmxlIHdpdGhvdXQgY2FuY2VsbGluZyBJTUUuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogR29vZ2xlIElucHV0IFRvb2xzIHByb3ZpZGVzIGNvbXBvc2l0aW9uIGRhdGEgdmlhIGEgQ3VzdG9tRXZlbnQsXG4gKiB3aXRoIHRoZSBgZGF0YWAgcHJvcGVydHkgcG9wdWxhdGVkIGluIHRoZSBgZGV0YWlsYCBvYmplY3QuIElmIHRoaXNcbiAqIGlzIGF2YWlsYWJsZSBvbiB0aGUgZXZlbnQgb2JqZWN0LCB1c2UgaXQuIElmIG5vdCwgdGhpcyBpcyBhIHBsYWluXG4gKiBjb21wb3NpdGlvbiBldmVudCBhbmQgd2UgaGF2ZSBub3RoaW5nIHNwZWNpYWwgdG8gZXh0cmFjdC5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnRcbiAqIEByZXR1cm4gez9zdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldERhdGFGcm9tQ3VzdG9tRXZlbnQobmF0aXZlRXZlbnQpIHtcbiAgdmFyIGRldGFpbCA9IG5hdGl2ZUV2ZW50LmRldGFpbDtcbiAgaWYgKHR5cGVvZiBkZXRhaWwgPT09ICdvYmplY3QnICYmICdkYXRhJyBpbiBkZXRhaWwpIHtcbiAgICByZXR1cm4gZGV0YWlsLmRhdGE7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8vIFRyYWNrIHRoZSBjdXJyZW50IElNRSBjb21wb3NpdGlvbiBzdGF0dXMsIGlmIGFueS5cbnZhciBpc0NvbXBvc2luZyA9IGZhbHNlO1xuXG4vKipcbiAqIEByZXR1cm4gez9vYmplY3R9IEEgU3ludGhldGljQ29tcG9zaXRpb25FdmVudC5cbiAqL1xuZnVuY3Rpb24gZXh0cmFjdENvbXBvc2l0aW9uRXZlbnQodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgdmFyIGV2ZW50VHlwZSA9IHZvaWQgMDtcbiAgdmFyIGZhbGxiYWNrRGF0YSA9IHZvaWQgMDtcblxuICBpZiAoY2FuVXNlQ29tcG9zaXRpb25FdmVudCkge1xuICAgIGV2ZW50VHlwZSA9IGdldENvbXBvc2l0aW9uRXZlbnRUeXBlKHRvcExldmVsVHlwZSk7XG4gIH0gZWxzZSBpZiAoIWlzQ29tcG9zaW5nKSB7XG4gICAgaWYgKGlzRmFsbGJhY2tDb21wb3NpdGlvblN0YXJ0KHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpKSB7XG4gICAgICBldmVudFR5cGUgPSBldmVudFR5cGVzLmNvbXBvc2l0aW9uU3RhcnQ7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzRmFsbGJhY2tDb21wb3NpdGlvbkVuZCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSkge1xuICAgIGV2ZW50VHlwZSA9IGV2ZW50VHlwZXMuY29tcG9zaXRpb25FbmQ7XG4gIH1cblxuICBpZiAoIWV2ZW50VHlwZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHVzZUZhbGxiYWNrQ29tcG9zaXRpb25EYXRhKSB7XG4gICAgLy8gVGhlIGN1cnJlbnQgY29tcG9zaXRpb24gaXMgc3RvcmVkIHN0YXRpY2FsbHkgYW5kIG11c3Qgbm90IGJlXG4gICAgLy8gb3ZlcndyaXR0ZW4gd2hpbGUgY29tcG9zaXRpb24gY29udGludWVzLlxuICAgIGlmICghaXNDb21wb3NpbmcgJiYgZXZlbnRUeXBlID09PSBldmVudFR5cGVzLmNvbXBvc2l0aW9uU3RhcnQpIHtcbiAgICAgIGlzQ29tcG9zaW5nID0gaW5pdGlhbGl6ZShuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgfSBlbHNlIGlmIChldmVudFR5cGUgPT09IGV2ZW50VHlwZXMuY29tcG9zaXRpb25FbmQpIHtcbiAgICAgIGlmIChpc0NvbXBvc2luZykge1xuICAgICAgICBmYWxsYmFja0RhdGEgPSBnZXREYXRhKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIGV2ZW50ID0gU3ludGhldGljQ29tcG9zaXRpb25FdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuXG4gIGlmIChmYWxsYmFja0RhdGEpIHtcbiAgICAvLyBJbmplY3QgZGF0YSBnZW5lcmF0ZWQgZnJvbSBmYWxsYmFjayBwYXRoIGludG8gdGhlIHN5bnRoZXRpYyBldmVudC5cbiAgICAvLyBUaGlzIG1hdGNoZXMgdGhlIHByb3BlcnR5IG9mIG5hdGl2ZSBDb21wb3NpdGlvbkV2ZW50SW50ZXJmYWNlLlxuICAgIGV2ZW50LmRhdGEgPSBmYWxsYmFja0RhdGE7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGN1c3RvbURhdGEgPSBnZXREYXRhRnJvbUN1c3RvbUV2ZW50KG5hdGl2ZUV2ZW50KTtcbiAgICBpZiAoY3VzdG9tRGF0YSAhPT0gbnVsbCkge1xuICAgICAgZXZlbnQuZGF0YSA9IGN1c3RvbURhdGE7XG4gICAgfVxuICB9XG5cbiAgYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyhldmVudCk7XG4gIHJldHVybiBldmVudDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1RvcExldmVsVHlwZXN9IHRvcExldmVsVHlwZSBSZWNvcmQgZnJvbSBgQnJvd3NlckV2ZW50Q29uc3RhbnRzYC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudCBOYXRpdmUgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4gez9zdHJpbmd9IFRoZSBzdHJpbmcgY29ycmVzcG9uZGluZyB0byB0aGlzIGBiZWZvcmVJbnB1dGAgZXZlbnQuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZUJlZm9yZUlucHV0Q2hhcnModG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkge1xuICBzd2l0Y2ggKHRvcExldmVsVHlwZSkge1xuICAgIGNhc2UgJ3RvcENvbXBvc2l0aW9uRW5kJzpcbiAgICAgIHJldHVybiBnZXREYXRhRnJvbUN1c3RvbUV2ZW50KG5hdGl2ZUV2ZW50KTtcbiAgICBjYXNlICd0b3BLZXlQcmVzcyc6XG4gICAgICAvKipcbiAgICAgICAqIElmIG5hdGl2ZSBgdGV4dElucHV0YCBldmVudHMgYXJlIGF2YWlsYWJsZSwgb3VyIGdvYWwgaXMgdG8gbWFrZVxuICAgICAgICogdXNlIG9mIHRoZW0uIEhvd2V2ZXIsIHRoZXJlIGlzIGEgc3BlY2lhbCBjYXNlOiB0aGUgc3BhY2ViYXIga2V5LlxuICAgICAgICogSW4gV2Via2l0LCBwcmV2ZW50aW5nIGRlZmF1bHQgb24gYSBzcGFjZWJhciBgdGV4dElucHV0YCBldmVudFxuICAgICAgICogY2FuY2VscyBjaGFyYWN0ZXIgaW5zZXJ0aW9uLCBidXQgaXQgKmFsc28qIGNhdXNlcyB0aGUgYnJvd3NlclxuICAgICAgICogdG8gZmFsbCBiYWNrIHRvIGl0cyBkZWZhdWx0IHNwYWNlYmFyIGJlaGF2aW9yIG9mIHNjcm9sbGluZyB0aGVcbiAgICAgICAqIHBhZ2UuXG4gICAgICAgKlxuICAgICAgICogVHJhY2tpbmcgYXQ6XG4gICAgICAgKiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MzU1MTAzXG4gICAgICAgKlxuICAgICAgICogVG8gYXZvaWQgdGhpcyBpc3N1ZSwgdXNlIHRoZSBrZXlwcmVzcyBldmVudCBhcyBpZiBubyBgdGV4dElucHV0YFxuICAgICAgICogZXZlbnQgaXMgYXZhaWxhYmxlLlxuICAgICAgICovXG4gICAgICB2YXIgd2hpY2ggPSBuYXRpdmVFdmVudC53aGljaDtcbiAgICAgIGlmICh3aGljaCAhPT0gU1BBQ0VCQVJfQ09ERSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaGFzU3BhY2VLZXlwcmVzcyA9IHRydWU7XG4gICAgICByZXR1cm4gU1BBQ0VCQVJfQ0hBUjtcblxuICAgIGNhc2UgJ3RvcFRleHRJbnB1dCc6XG4gICAgICAvLyBSZWNvcmQgdGhlIGNoYXJhY3RlcnMgdG8gYmUgYWRkZWQgdG8gdGhlIERPTS5cbiAgICAgIHZhciBjaGFycyA9IG5hdGl2ZUV2ZW50LmRhdGE7XG5cbiAgICAgIC8vIElmIGl0J3MgYSBzcGFjZWJhciBjaGFyYWN0ZXIsIGFzc3VtZSB0aGF0IHdlIGhhdmUgYWxyZWFkeSBoYW5kbGVkXG4gICAgICAvLyBpdCBhdCB0aGUga2V5cHJlc3MgbGV2ZWwgYW5kIGJhaWwgaW1tZWRpYXRlbHkuIEFuZHJvaWQgQ2hyb21lXG4gICAgICAvLyBkb2Vzbid0IGdpdmUgdXMga2V5Y29kZXMsIHNvIHdlIG5lZWQgdG8gYmxhY2tsaXN0IGl0LlxuICAgICAgaWYgKGNoYXJzID09PSBTUEFDRUJBUl9DSEFSICYmIGhhc1NwYWNlS2V5cHJlc3MpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjaGFycztcblxuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBGb3Igb3RoZXIgbmF0aXZlIGV2ZW50IHR5cGVzLCBkbyBub3RoaW5nLlxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBGb3IgYnJvd3NlcnMgdGhhdCBkbyBub3QgcHJvdmlkZSB0aGUgYHRleHRJbnB1dGAgZXZlbnQsIGV4dHJhY3QgdGhlXG4gKiBhcHByb3ByaWF0ZSBzdHJpbmcgdG8gdXNlIGZvciBTeW50aGV0aWNJbnB1dEV2ZW50LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFR5cGUgUmVjb3JkIGZyb20gYEJyb3dzZXJFdmVudENvbnN0YW50c2AuXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHs/c3RyaW5nfSBUaGUgZmFsbGJhY2sgc3RyaW5nIGZvciB0aGlzIGBiZWZvcmVJbnB1dGAgZXZlbnQuXG4gKi9cbmZ1bmN0aW9uIGdldEZhbGxiYWNrQmVmb3JlSW5wdXRDaGFycyh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSB7XG4gIC8vIElmIHdlIGFyZSBjdXJyZW50bHkgY29tcG9zaW5nIChJTUUpIGFuZCB1c2luZyBhIGZhbGxiYWNrIHRvIGRvIHNvLFxuICAvLyB0cnkgdG8gZXh0cmFjdCB0aGUgY29tcG9zZWQgY2hhcmFjdGVycyBmcm9tIHRoZSBmYWxsYmFjayBvYmplY3QuXG4gIC8vIElmIGNvbXBvc2l0aW9uIGV2ZW50IGlzIGF2YWlsYWJsZSwgd2UgZXh0cmFjdCBhIHN0cmluZyBvbmx5IGF0XG4gIC8vIGNvbXBvc2l0aW9uZXZlbnQsIG90aGVyd2lzZSBleHRyYWN0IGl0IGF0IGZhbGxiYWNrIGV2ZW50cy5cbiAgaWYgKGlzQ29tcG9zaW5nKSB7XG4gICAgaWYgKHRvcExldmVsVHlwZSA9PT0gJ3RvcENvbXBvc2l0aW9uRW5kJyB8fCAhY2FuVXNlQ29tcG9zaXRpb25FdmVudCAmJiBpc0ZhbGxiYWNrQ29tcG9zaXRpb25FbmQodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkpIHtcbiAgICAgIHZhciBjaGFycyA9IGdldERhdGEoKTtcbiAgICAgIHJlc2V0KCk7XG4gICAgICBpc0NvbXBvc2luZyA9IGZhbHNlO1xuICAgICAgcmV0dXJuIGNoYXJzO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHN3aXRjaCAodG9wTGV2ZWxUeXBlKSB7XG4gICAgY2FzZSAndG9wUGFzdGUnOlxuICAgICAgLy8gSWYgYSBwYXN0ZSBldmVudCBvY2N1cnMgYWZ0ZXIgYSBrZXlwcmVzcywgdGhyb3cgb3V0IHRoZSBpbnB1dFxuICAgICAgLy8gY2hhcnMuIFBhc3RlIGV2ZW50cyBzaG91bGQgbm90IGxlYWQgdG8gQmVmb3JlSW5wdXQgZXZlbnRzLlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSAndG9wS2V5UHJlc3MnOlxuICAgICAgLyoqXG4gICAgICAgKiBBcyBvZiB2MjcsIEZpcmVmb3ggbWF5IGZpcmUga2V5cHJlc3MgZXZlbnRzIGV2ZW4gd2hlbiBubyBjaGFyYWN0ZXJcbiAgICAgICAqIHdpbGwgYmUgaW5zZXJ0ZWQuIEEgZmV3IHBvc3NpYmlsaXRpZXM6XG4gICAgICAgKlxuICAgICAgICogLSBgd2hpY2hgIGlzIGAwYC4gQXJyb3cga2V5cywgRXNjIGtleSwgZXRjLlxuICAgICAgICpcbiAgICAgICAqIC0gYHdoaWNoYCBpcyB0aGUgcHJlc3NlZCBrZXkgY29kZSwgYnV0IG5vIGNoYXIgaXMgYXZhaWxhYmxlLlxuICAgICAgICogICBFeDogJ0FsdEdyICsgZGAgaW4gUG9saXNoLiBUaGVyZSBpcyBubyBtb2RpZmllZCBjaGFyYWN0ZXIgZm9yXG4gICAgICAgKiAgIHRoaXMga2V5IGNvbWJpbmF0aW9uIGFuZCBubyBjaGFyYWN0ZXIgaXMgaW5zZXJ0ZWQgaW50byB0aGVcbiAgICAgICAqICAgZG9jdW1lbnQsIGJ1dCBGRiBmaXJlcyB0aGUga2V5cHJlc3MgZm9yIGNoYXIgY29kZSBgMTAwYCBhbnl3YXkuXG4gICAgICAgKiAgIE5vIGBpbnB1dGAgZXZlbnQgd2lsbCBvY2N1ci5cbiAgICAgICAqXG4gICAgICAgKiAtIGB3aGljaGAgaXMgdGhlIHByZXNzZWQga2V5IGNvZGUsIGJ1dCBhIGNvbW1hbmQgY29tYmluYXRpb24gaXNcbiAgICAgICAqICAgYmVpbmcgdXNlZC4gRXg6IGBDbWQrQ2AuIE5vIGNoYXJhY3RlciBpcyBpbnNlcnRlZCwgYW5kIG5vXG4gICAgICAgKiAgIGBpbnB1dGAgZXZlbnQgd2lsbCBvY2N1ci5cbiAgICAgICAqL1xuICAgICAgaWYgKCFpc0tleXByZXNzQ29tbWFuZChuYXRpdmVFdmVudCkpIHtcbiAgICAgICAgLy8gSUUgZmlyZXMgdGhlIGBrZXlwcmVzc2AgZXZlbnQgd2hlbiBhIHVzZXIgdHlwZXMgYW4gZW1vamkgdmlhXG4gICAgICAgIC8vIFRvdWNoIGtleWJvYXJkIG9mIFdpbmRvd3MuICBJbiBzdWNoIGEgY2FzZSwgdGhlIGBjaGFyYCBwcm9wZXJ0eVxuICAgICAgICAvLyBob2xkcyBhbiBlbW9qaSBjaGFyYWN0ZXIgbGlrZSBgXFx1RDgzRFxcdURFMEFgLiAgQmVjYXVzZSBpdHMgbGVuZ3RoXG4gICAgICAgIC8vIGlzIDIsIHRoZSBwcm9wZXJ0eSBgd2hpY2hgIGRvZXMgbm90IHJlcHJlc2VudCBhbiBlbW9qaSBjb3JyZWN0bHkuXG4gICAgICAgIC8vIEluIHN1Y2ggYSBjYXNlLCB3ZSBkaXJlY3RseSByZXR1cm4gdGhlIGBjaGFyYCBwcm9wZXJ0eSBpbnN0ZWFkIG9mXG4gICAgICAgIC8vIHVzaW5nIGB3aGljaGAuXG4gICAgICAgIGlmIChuYXRpdmVFdmVudC5jaGFyICYmIG5hdGl2ZUV2ZW50LmNoYXIubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHJldHVybiBuYXRpdmVFdmVudC5jaGFyO1xuICAgICAgICB9IGVsc2UgaWYgKG5hdGl2ZUV2ZW50LndoaWNoKSB7XG4gICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUobmF0aXZlRXZlbnQud2hpY2gpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBjYXNlICd0b3BDb21wb3NpdGlvbkVuZCc6XG4gICAgICByZXR1cm4gdXNlRmFsbGJhY2tDb21wb3NpdGlvbkRhdGEgPyBudWxsIDogbmF0aXZlRXZlbnQuZGF0YTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBFeHRyYWN0IGEgU3ludGhldGljSW5wdXRFdmVudCBmb3IgYGJlZm9yZUlucHV0YCwgYmFzZWQgb24gZWl0aGVyIG5hdGl2ZVxuICogYHRleHRJbnB1dGAgb3IgZmFsbGJhY2sgYmVoYXZpb3IuXG4gKlxuICogQHJldHVybiB7P29iamVjdH0gQSBTeW50aGV0aWNJbnB1dEV2ZW50LlxuICovXG5mdW5jdGlvbiBleHRyYWN0QmVmb3JlSW5wdXRFdmVudCh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICB2YXIgY2hhcnMgPSB2b2lkIDA7XG5cbiAgaWYgKGNhblVzZVRleHRJbnB1dEV2ZW50KSB7XG4gICAgY2hhcnMgPSBnZXROYXRpdmVCZWZvcmVJbnB1dENoYXJzKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpO1xuICB9IGVsc2Uge1xuICAgIGNoYXJzID0gZ2V0RmFsbGJhY2tCZWZvcmVJbnB1dENoYXJzKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpO1xuICB9XG5cbiAgLy8gSWYgbm8gY2hhcmFjdGVycyBhcmUgYmVpbmcgaW5zZXJ0ZWQsIG5vIEJlZm9yZUlucHV0IGV2ZW50IHNob3VsZFxuICAvLyBiZSBmaXJlZC5cbiAgaWYgKCFjaGFycykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIGV2ZW50ID0gU3ludGhldGljSW5wdXRFdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlcy5iZWZvcmVJbnB1dCwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcblxuICBldmVudC5kYXRhID0gY2hhcnM7XG4gIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoZXZlbnQpO1xuICByZXR1cm4gZXZlbnQ7XG59XG5cbi8qKlxuICogQ3JlYXRlIGFuIGBvbkJlZm9yZUlucHV0YCBldmVudCB0byBtYXRjaFxuICogaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMy9XRC1ET00tTGV2ZWwtMy1FdmVudHMtMjAxMzExMDUvI2V2ZW50cy1pbnB1dGV2ZW50cy5cbiAqXG4gKiBUaGlzIGV2ZW50IHBsdWdpbiBpcyBiYXNlZCBvbiB0aGUgbmF0aXZlIGB0ZXh0SW5wdXRgIGV2ZW50XG4gKiBhdmFpbGFibGUgaW4gQ2hyb21lLCBTYWZhcmksIE9wZXJhLCBhbmQgSUUuIFRoaXMgZXZlbnQgZmlyZXMgYWZ0ZXJcbiAqIGBvbktleVByZXNzYCBhbmQgYG9uQ29tcG9zaXRpb25FbmRgLCBidXQgYmVmb3JlIGBvbklucHV0YC5cbiAqXG4gKiBgYmVmb3JlSW5wdXRgIGlzIHNwZWMnZCBidXQgbm90IGltcGxlbWVudGVkIGluIGFueSBicm93c2VycywgYW5kXG4gKiB0aGUgYGlucHV0YCBldmVudCBkb2VzIG5vdCBwcm92aWRlIGFueSB1c2VmdWwgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBoYXNcbiAqIGFjdHVhbGx5IGJlZW4gYWRkZWQsIGNvbnRyYXJ5IHRvIHRoZSBzcGVjLiBUaHVzLCBgdGV4dElucHV0YCBpcyB0aGUgYmVzdFxuICogYXZhaWxhYmxlIGV2ZW50IHRvIGlkZW50aWZ5IHRoZSBjaGFyYWN0ZXJzIHRoYXQgaGF2ZSBhY3R1YWxseSBiZWVuIGluc2VydGVkXG4gKiBpbnRvIHRoZSB0YXJnZXQgbm9kZS5cbiAqXG4gKiBUaGlzIHBsdWdpbiBpcyBhbHNvIHJlc3BvbnNpYmxlIGZvciBlbWl0dGluZyBgY29tcG9zaXRpb25gIGV2ZW50cywgdGh1c1xuICogYWxsb3dpbmcgdXMgdG8gc2hhcmUgY29tcG9zaXRpb24gZmFsbGJhY2sgY29kZSBmb3IgYm90aCBgYmVmb3JlSW5wdXRgIGFuZFxuICogYGNvbXBvc2l0aW9uYCBldmVudCB0eXBlcy5cbiAqL1xudmFyIEJlZm9yZUlucHV0RXZlbnRQbHVnaW4gPSB7XG4gIGV2ZW50VHlwZXM6IGV2ZW50VHlwZXMsXG5cbiAgZXh0cmFjdEV2ZW50czogZnVuY3Rpb24gKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgdmFyIGNvbXBvc2l0aW9uID0gZXh0cmFjdENvbXBvc2l0aW9uRXZlbnQodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuXG4gICAgdmFyIGJlZm9yZUlucHV0ID0gZXh0cmFjdEJlZm9yZUlucHV0RXZlbnQodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuXG4gICAgaWYgKGNvbXBvc2l0aW9uID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gYmVmb3JlSW5wdXQ7XG4gICAgfVxuXG4gICAgaWYgKGJlZm9yZUlucHV0ID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gY29tcG9zaXRpb247XG4gICAgfVxuXG4gICAgcmV0dXJuIFtjb21wb3NpdGlvbiwgYmVmb3JlSW5wdXRdO1xuICB9XG59O1xuXG4vLyBVc2UgdG8gcmVzdG9yZSBjb250cm9sbGVkIHN0YXRlIGFmdGVyIGEgY2hhbmdlIGV2ZW50IGhhcyBmaXJlZC5cblxudmFyIGZpYmVySG9zdENvbXBvbmVudCA9IG51bGw7XG5cbnZhciBSZWFjdENvbnRyb2xsZWRDb21wb25lbnRJbmplY3Rpb24gPSB7XG4gIGluamVjdEZpYmVyQ29udHJvbGxlZEhvc3RDb21wb25lbnQ6IGZ1bmN0aW9uIChob3N0Q29tcG9uZW50SW1wbCkge1xuICAgIC8vIFRoZSBmaWJlciBpbXBsZW1lbnRhdGlvbiBkb2Vzbid0IHVzZSBkeW5hbWljIGRpc3BhdGNoIHNvIHdlIG5lZWQgdG9cbiAgICAvLyBpbmplY3QgdGhlIGltcGxlbWVudGF0aW9uLlxuICAgIGZpYmVySG9zdENvbXBvbmVudCA9IGhvc3RDb21wb25lbnRJbXBsO1xuICB9XG59O1xuXG52YXIgcmVzdG9yZVRhcmdldCA9IG51bGw7XG52YXIgcmVzdG9yZVF1ZXVlID0gbnVsbDtcblxuZnVuY3Rpb24gcmVzdG9yZVN0YXRlT2ZUYXJnZXQodGFyZ2V0KSB7XG4gIC8vIFdlIHBlcmZvcm0gdGhpcyB0cmFuc2xhdGlvbiBhdCB0aGUgZW5kIG9mIHRoZSBldmVudCBsb29wIHNvIHRoYXQgd2VcbiAgLy8gYWx3YXlzIHJlY2VpdmUgdGhlIGNvcnJlY3QgZmliZXIgaGVyZVxuICB2YXIgaW50ZXJuYWxJbnN0YW5jZSA9IGdldEluc3RhbmNlRnJvbU5vZGUodGFyZ2V0KTtcbiAgaWYgKCFpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgLy8gVW5tb3VudGVkXG4gICAgcmV0dXJuO1xuICB9XG4gICEoZmliZXJIb3N0Q29tcG9uZW50ICYmIHR5cGVvZiBmaWJlckhvc3RDb21wb25lbnQucmVzdG9yZUNvbnRyb2xsZWRTdGF0ZSA9PT0gJ2Z1bmN0aW9uJykgPyBpbnZhcmlhbnQoZmFsc2UsICdGaWJlciBuZWVkcyB0byBiZSBpbmplY3RlZCB0byBoYW5kbGUgYSBmaWJlciB0YXJnZXQgZm9yIGNvbnRyb2xsZWQgZXZlbnRzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICB2YXIgcHJvcHMgPSBnZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlKGludGVybmFsSW5zdGFuY2Uuc3RhdGVOb2RlKTtcbiAgZmliZXJIb3N0Q29tcG9uZW50LnJlc3RvcmVDb250cm9sbGVkU3RhdGUoaW50ZXJuYWxJbnN0YW5jZS5zdGF0ZU5vZGUsIGludGVybmFsSW5zdGFuY2UudHlwZSwgcHJvcHMpO1xufVxuXG52YXIgaW5qZWN0aW9uJDIgPSBSZWFjdENvbnRyb2xsZWRDb21wb25lbnRJbmplY3Rpb247XG5cbmZ1bmN0aW9uIGVucXVldWVTdGF0ZVJlc3RvcmUodGFyZ2V0KSB7XG4gIGlmIChyZXN0b3JlVGFyZ2V0KSB7XG4gICAgaWYgKHJlc3RvcmVRdWV1ZSkge1xuICAgICAgcmVzdG9yZVF1ZXVlLnB1c2godGFyZ2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdG9yZVF1ZXVlID0gW3RhcmdldF07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlc3RvcmVUYXJnZXQgPSB0YXJnZXQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gbmVlZHNTdGF0ZVJlc3RvcmUoKSB7XG4gIHJldHVybiByZXN0b3JlVGFyZ2V0ICE9PSBudWxsIHx8IHJlc3RvcmVRdWV1ZSAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gcmVzdG9yZVN0YXRlSWZOZWVkZWQoKSB7XG4gIGlmICghcmVzdG9yZVRhcmdldCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgdGFyZ2V0ID0gcmVzdG9yZVRhcmdldDtcbiAgdmFyIHF1ZXVlZFRhcmdldHMgPSByZXN0b3JlUXVldWU7XG4gIHJlc3RvcmVUYXJnZXQgPSBudWxsO1xuICByZXN0b3JlUXVldWUgPSBudWxsO1xuXG4gIHJlc3RvcmVTdGF0ZU9mVGFyZ2V0KHRhcmdldCk7XG4gIGlmIChxdWV1ZWRUYXJnZXRzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZWRUYXJnZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN0b3JlU3RhdGVPZlRhcmdldChxdWV1ZWRUYXJnZXRzW2ldKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIFJlYWN0Q29udHJvbGxlZENvbXBvbmVudCA9IE9iamVjdC5mcmVlemUoe1xuXHRpbmplY3Rpb246IGluamVjdGlvbiQyLFxuXHRlbnF1ZXVlU3RhdGVSZXN0b3JlOiBlbnF1ZXVlU3RhdGVSZXN0b3JlLFxuXHRuZWVkc1N0YXRlUmVzdG9yZTogbmVlZHNTdGF0ZVJlc3RvcmUsXG5cdHJlc3RvcmVTdGF0ZUlmTmVlZGVkOiByZXN0b3JlU3RhdGVJZk5lZWRlZFxufSk7XG5cbi8vIFVzZWQgYXMgYSB3YXkgdG8gY2FsbCBiYXRjaGVkVXBkYXRlcyB3aGVuIHdlIGRvbid0IGhhdmUgYSByZWZlcmVuY2UgdG9cbi8vIHRoZSByZW5kZXJlci4gU3VjaCBhcyB3aGVuIHdlJ3JlIGRpc3BhdGNoaW5nIGV2ZW50cyBvciBpZiB0aGlyZCBwYXJ0eVxuLy8gbGlicmFyaWVzIG5lZWQgdG8gY2FsbCBiYXRjaGVkVXBkYXRlcy4gRXZlbnR1YWxseSwgdGhpcyBBUEkgd2lsbCBnbyBhd2F5IHdoZW5cbi8vIGV2ZXJ5dGhpbmcgaXMgYmF0Y2hlZCBieSBkZWZhdWx0LiBXZSdsbCB0aGVuIGhhdmUgYSBzaW1pbGFyIEFQSSB0byBvcHQtb3V0IG9mXG4vLyBzY2hlZHVsZWQgd29yayBhbmQgaW5zdGVhZCBkbyBzeW5jaHJvbm91cyB3b3JrLlxuXG4vLyBEZWZhdWx0c1xudmFyIF9iYXRjaGVkVXBkYXRlcyA9IGZ1bmN0aW9uIChmbiwgYm9va2tlZXBpbmcpIHtcbiAgcmV0dXJuIGZuKGJvb2trZWVwaW5nKTtcbn07XG52YXIgX2ludGVyYWN0aXZlVXBkYXRlcyA9IGZ1bmN0aW9uIChmbiwgYSwgYikge1xuICByZXR1cm4gZm4oYSwgYik7XG59O1xudmFyIF9mbHVzaEludGVyYWN0aXZlVXBkYXRlcyA9IGZ1bmN0aW9uICgpIHt9O1xuXG52YXIgaXNCYXRjaGluZyA9IGZhbHNlO1xuZnVuY3Rpb24gYmF0Y2hlZFVwZGF0ZXMoZm4sIGJvb2trZWVwaW5nKSB7XG4gIGlmIChpc0JhdGNoaW5nKSB7XG4gICAgLy8gSWYgd2UgYXJlIGN1cnJlbnRseSBpbnNpZGUgYW5vdGhlciBiYXRjaCwgd2UgbmVlZCB0byB3YWl0IHVudGlsIGl0XG4gICAgLy8gZnVsbHkgY29tcGxldGVzIGJlZm9yZSByZXN0b3Jpbmcgc3RhdGUuXG4gICAgcmV0dXJuIGZuKGJvb2trZWVwaW5nKTtcbiAgfVxuICBpc0JhdGNoaW5nID0gdHJ1ZTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gX2JhdGNoZWRVcGRhdGVzKGZuLCBib29ra2VlcGluZyk7XG4gIH0gZmluYWxseSB7XG4gICAgLy8gSGVyZSB3ZSB3YWl0IHVudGlsIGFsbCB1cGRhdGVzIGhhdmUgcHJvcGFnYXRlZCwgd2hpY2ggaXMgaW1wb3J0YW50XG4gICAgLy8gd2hlbiB1c2luZyBjb250cm9sbGVkIGNvbXBvbmVudHMgd2l0aGluIGxheWVyczpcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzE2OThcbiAgICAvLyBUaGVuIHdlIHJlc3RvcmUgc3RhdGUgb2YgYW55IGNvbnRyb2xsZWQgY29tcG9uZW50LlxuICAgIGlzQmF0Y2hpbmcgPSBmYWxzZTtcbiAgICB2YXIgY29udHJvbGxlZENvbXBvbmVudHNIYXZlUGVuZGluZ1VwZGF0ZXMgPSBuZWVkc1N0YXRlUmVzdG9yZSgpO1xuICAgIGlmIChjb250cm9sbGVkQ29tcG9uZW50c0hhdmVQZW5kaW5nVXBkYXRlcykge1xuICAgICAgLy8gSWYgYSBjb250cm9sbGVkIGV2ZW50IHdhcyBmaXJlZCwgd2UgbWF5IG5lZWQgdG8gcmVzdG9yZSB0aGUgc3RhdGUgb2ZcbiAgICAgIC8vIHRoZSBET00gbm9kZSBiYWNrIHRvIHRoZSBjb250cm9sbGVkIHZhbHVlLiBUaGlzIGlzIG5lY2Vzc2FyeSB3aGVuIFJlYWN0XG4gICAgICAvLyBiYWlscyBvdXQgb2YgdGhlIHVwZGF0ZSB3aXRob3V0IHRvdWNoaW5nIHRoZSBET00uXG4gICAgICBfZmx1c2hJbnRlcmFjdGl2ZVVwZGF0ZXMoKTtcbiAgICAgIHJlc3RvcmVTdGF0ZUlmTmVlZGVkKCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGludGVyYWN0aXZlVXBkYXRlcyhmbiwgYSwgYikge1xuICByZXR1cm4gX2ludGVyYWN0aXZlVXBkYXRlcyhmbiwgYSwgYik7XG59XG5cblxuXG52YXIgaW5qZWN0aW9uJDMgPSB7XG4gIGluamVjdFJlbmRlcmVyOiBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICBfYmF0Y2hlZFVwZGF0ZXMgPSByZW5kZXJlci5iYXRjaGVkVXBkYXRlcztcbiAgICBfaW50ZXJhY3RpdmVVcGRhdGVzID0gcmVuZGVyZXIuaW50ZXJhY3RpdmVVcGRhdGVzO1xuICAgIF9mbHVzaEludGVyYWN0aXZlVXBkYXRlcyA9IHJlbmRlcmVyLmZsdXNoSW50ZXJhY3RpdmVVcGRhdGVzO1xuICB9XG59O1xuXG4vKipcbiAqIEBzZWUgaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9tdWx0aXBhZ2UvdGhlLWlucHV0LWVsZW1lbnQuaHRtbCNpbnB1dC10eXBlLWF0dHItc3VtbWFyeVxuICovXG52YXIgc3VwcG9ydGVkSW5wdXRUeXBlcyA9IHtcbiAgY29sb3I6IHRydWUsXG4gIGRhdGU6IHRydWUsXG4gIGRhdGV0aW1lOiB0cnVlLFxuICAnZGF0ZXRpbWUtbG9jYWwnOiB0cnVlLFxuICBlbWFpbDogdHJ1ZSxcbiAgbW9udGg6IHRydWUsXG4gIG51bWJlcjogdHJ1ZSxcbiAgcGFzc3dvcmQ6IHRydWUsXG4gIHJhbmdlOiB0cnVlLFxuICBzZWFyY2g6IHRydWUsXG4gIHRlbDogdHJ1ZSxcbiAgdGV4dDogdHJ1ZSxcbiAgdGltZTogdHJ1ZSxcbiAgdXJsOiB0cnVlLFxuICB3ZWVrOiB0cnVlXG59O1xuXG5mdW5jdGlvbiBpc1RleHRJbnB1dEVsZW1lbnQoZWxlbSkge1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtICYmIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXG4gIGlmIChub2RlTmFtZSA9PT0gJ2lucHV0Jykge1xuICAgIHJldHVybiAhIXN1cHBvcnRlZElucHV0VHlwZXNbZWxlbS50eXBlXTtcbiAgfVxuXG4gIGlmIChub2RlTmFtZSA9PT0gJ3RleHRhcmVhJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEhUTUwgbm9kZVR5cGUgdmFsdWVzIHRoYXQgcmVwcmVzZW50IHRoZSB0eXBlIG9mIHRoZSBub2RlXG4gKi9cblxudmFyIEVMRU1FTlRfTk9ERSA9IDE7XG52YXIgVEVYVF9OT0RFID0gMztcbnZhciBDT01NRU5UX05PREUgPSA4O1xudmFyIERPQ1VNRU5UX05PREUgPSA5O1xudmFyIERPQ1VNRU5UX0ZSQUdNRU5UX05PREUgPSAxMTtcblxuLyoqXG4gKiBHZXRzIHRoZSB0YXJnZXQgbm9kZSBmcm9tIGEgbmF0aXZlIGJyb3dzZXIgZXZlbnQgYnkgYWNjb3VudGluZyBmb3JcbiAqIGluY29uc2lzdGVuY2llcyBpbiBicm93c2VyIERPTSBBUElzLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudCBOYXRpdmUgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge0RPTUV2ZW50VGFyZ2V0fSBUYXJnZXQgbm9kZS5cbiAqL1xuZnVuY3Rpb24gZ2V0RXZlbnRUYXJnZXQobmF0aXZlRXZlbnQpIHtcbiAgdmFyIHRhcmdldCA9IG5hdGl2ZUV2ZW50LnRhcmdldCB8fCB3aW5kb3c7XG5cbiAgLy8gTm9ybWFsaXplIFNWRyA8dXNlPiBlbGVtZW50IGV2ZW50cyAjNDk2M1xuICBpZiAodGFyZ2V0LmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KSB7XG4gICAgdGFyZ2V0ID0gdGFyZ2V0LmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50O1xuICB9XG5cbiAgLy8gU2FmYXJpIG1heSBmaXJlIGV2ZW50cyBvbiB0ZXh0IG5vZGVzIChOb2RlLlRFWFRfTk9ERSBpcyAzKS5cbiAgLy8gQHNlZSBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2pzL2V2ZW50c19wcm9wZXJ0aWVzLmh0bWxcbiAgcmV0dXJuIHRhcmdldC5ub2RlVHlwZSA9PT0gVEVYVF9OT0RFID8gdGFyZ2V0LnBhcmVudE5vZGUgOiB0YXJnZXQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGFuIGV2ZW50IGlzIHN1cHBvcnRlZCBpbiB0aGUgY3VycmVudCBleGVjdXRpb24gZW52aXJvbm1lbnQuXG4gKlxuICogTk9URTogVGhpcyB3aWxsIG5vdCB3b3JrIGNvcnJlY3RseSBmb3Igbm9uLWdlbmVyaWMgZXZlbnRzIHN1Y2ggYXMgYGNoYW5nZWAsXG4gKiBgcmVzZXRgLCBgbG9hZGAsIGBlcnJvcmAsIGFuZCBgc2VsZWN0YC5cbiAqXG4gKiBCb3Jyb3dzIGZyb20gTW9kZXJuaXpyLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVTdWZmaXggRXZlbnQgbmFtZSwgZS5nLiBcImNsaWNrXCIuXG4gKiBAcGFyYW0gez9ib29sZWFufSBjYXB0dXJlIENoZWNrIGlmIHRoZSBjYXB0dXJlIHBoYXNlIGlzIHN1cHBvcnRlZC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IGlzIHN1cHBvcnRlZC5cbiAqIEBpbnRlcm5hbFxuICogQGxpY2Vuc2UgTW9kZXJuaXpyIDMuMC4wcHJlIChDdXN0b20gQnVpbGQpIHwgTUlUXG4gKi9cbmZ1bmN0aW9uIGlzRXZlbnRTdXBwb3J0ZWQoZXZlbnROYW1lU3VmZml4LCBjYXB0dXJlKSB7XG4gIGlmICghRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NIHx8IGNhcHR1cmUgJiYgISgnYWRkRXZlbnRMaXN0ZW5lcicgaW4gZG9jdW1lbnQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGV2ZW50TmFtZSA9ICdvbicgKyBldmVudE5hbWVTdWZmaXg7XG4gIHZhciBpc1N1cHBvcnRlZCA9IGV2ZW50TmFtZSBpbiBkb2N1bWVudDtcblxuICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShldmVudE5hbWUsICdyZXR1cm47Jyk7XG4gICAgaXNTdXBwb3J0ZWQgPSB0eXBlb2YgZWxlbWVudFtldmVudE5hbWVdID09PSAnZnVuY3Rpb24nO1xuICB9XG5cbiAgcmV0dXJuIGlzU3VwcG9ydGVkO1xufVxuXG5mdW5jdGlvbiBpc0NoZWNrYWJsZShlbGVtKSB7XG4gIHZhciB0eXBlID0gZWxlbS50eXBlO1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtLm5vZGVOYW1lO1xuICByZXR1cm4gbm9kZU5hbWUgJiYgbm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lucHV0JyAmJiAodHlwZSA9PT0gJ2NoZWNrYm94JyB8fCB0eXBlID09PSAncmFkaW8nKTtcbn1cblxuZnVuY3Rpb24gZ2V0VHJhY2tlcihub2RlKSB7XG4gIHJldHVybiBub2RlLl92YWx1ZVRyYWNrZXI7XG59XG5cbmZ1bmN0aW9uIGRldGFjaFRyYWNrZXIobm9kZSkge1xuICBub2RlLl92YWx1ZVRyYWNrZXIgPSBudWxsO1xufVxuXG5mdW5jdGlvbiBnZXRWYWx1ZUZyb21Ob2RlKG5vZGUpIHtcbiAgdmFyIHZhbHVlID0gJyc7XG4gIGlmICghbm9kZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGlmIChpc0NoZWNrYWJsZShub2RlKSkge1xuICAgIHZhbHVlID0gbm9kZS5jaGVja2VkID8gJ3RydWUnIDogJ2ZhbHNlJztcbiAgfSBlbHNlIHtcbiAgICB2YWx1ZSA9IG5vZGUudmFsdWU7XG4gIH1cblxuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIHRyYWNrVmFsdWVPbk5vZGUobm9kZSkge1xuICB2YXIgdmFsdWVGaWVsZCA9IGlzQ2hlY2thYmxlKG5vZGUpID8gJ2NoZWNrZWQnIDogJ3ZhbHVlJztcbiAgdmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG5vZGUuY29uc3RydWN0b3IucHJvdG90eXBlLCB2YWx1ZUZpZWxkKTtcblxuICB2YXIgY3VycmVudFZhbHVlID0gJycgKyBub2RlW3ZhbHVlRmllbGRdO1xuXG4gIC8vIGlmIHNvbWVvbmUgaGFzIGFscmVhZHkgZGVmaW5lZCBhIHZhbHVlIG9yIFNhZmFyaSwgdGhlbiBiYWlsXG4gIC8vIGFuZCBkb24ndCB0cmFjayB2YWx1ZSB3aWxsIGNhdXNlIG92ZXIgcmVwb3J0aW5nIG9mIGNoYW5nZXMsXG4gIC8vIGJ1dCBpdCdzIGJldHRlciB0aGVuIGEgaGFyZCBmYWlsdXJlXG4gIC8vIChuZWVkZWQgZm9yIGNlcnRhaW4gdGVzdHMgdGhhdCBzcHlPbiBpbnB1dCB2YWx1ZXMgYW5kIFNhZmFyaSlcbiAgaWYgKG5vZGUuaGFzT3duUHJvcGVydHkodmFsdWVGaWVsZCkgfHwgdHlwZW9mIGRlc2NyaXB0b3IuZ2V0ICE9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBkZXNjcmlwdG9yLnNldCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShub2RlLCB2YWx1ZUZpZWxkLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGRlc2NyaXB0b3IuZ2V0LmNhbGwodGhpcyk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgY3VycmVudFZhbHVlID0gJycgKyB2YWx1ZTtcbiAgICAgIGRlc2NyaXB0b3Iuc2V0LmNhbGwodGhpcywgdmFsdWUpO1xuICAgIH1cbiAgfSk7XG4gIC8vIFdlIGNvdWxkJ3ZlIHBhc3NlZCB0aGlzIHRoZSBmaXJzdCB0aW1lXG4gIC8vIGJ1dCBpdCB0cmlnZ2VycyBhIGJ1ZyBpbiBJRTExIGFuZCBFZGdlIDE0LzE1LlxuICAvLyBDYWxsaW5nIGRlZmluZVByb3BlcnR5KCkgYWdhaW4gc2hvdWxkIGJlIGVxdWl2YWxlbnQuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTE3NjhcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5vZGUsIHZhbHVlRmllbGQsIHtcbiAgICBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGVcbiAgfSk7XG5cbiAgdmFyIHRyYWNrZXIgPSB7XG4gICAgZ2V0VmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBjdXJyZW50VmFsdWU7XG4gICAgfSxcbiAgICBzZXRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBjdXJyZW50VmFsdWUgPSAnJyArIHZhbHVlO1xuICAgIH0sXG4gICAgc3RvcFRyYWNraW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICBkZXRhY2hUcmFja2VyKG5vZGUpO1xuICAgICAgZGVsZXRlIG5vZGVbdmFsdWVGaWVsZF07XG4gICAgfVxuICB9O1xuICByZXR1cm4gdHJhY2tlcjtcbn1cblxuZnVuY3Rpb24gdHJhY2sobm9kZSkge1xuICBpZiAoZ2V0VHJhY2tlcihub2RlKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFRPRE86IE9uY2UgaXQncyBqdXN0IEZpYmVyIHdlIGNhbiBtb3ZlIHRoaXMgdG8gbm9kZS5fd3JhcHBlclN0YXRlXG4gIG5vZGUuX3ZhbHVlVHJhY2tlciA9IHRyYWNrVmFsdWVPbk5vZGUobm9kZSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVZhbHVlSWZDaGFuZ2VkKG5vZGUpIHtcbiAgaWYgKCFub2RlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIHRyYWNrZXIgPSBnZXRUcmFja2VyKG5vZGUpO1xuICAvLyBpZiB0aGVyZSBpcyBubyB0cmFja2VyIGF0IHRoaXMgcG9pbnQgaXQncyB1bmxpa2VseVxuICAvLyB0aGF0IHRyeWluZyBhZ2FpbiB3aWxsIHN1Y2NlZWRcbiAgaWYgKCF0cmFja2VyKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB2YXIgbGFzdFZhbHVlID0gdHJhY2tlci5nZXRWYWx1ZSgpO1xuICB2YXIgbmV4dFZhbHVlID0gZ2V0VmFsdWVGcm9tTm9kZShub2RlKTtcbiAgaWYgKG5leHRWYWx1ZSAhPT0gbGFzdFZhbHVlKSB7XG4gICAgdHJhY2tlci5zZXRWYWx1ZShuZXh0VmFsdWUpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxudmFyIFJlYWN0SW50ZXJuYWxzID0gUmVhY3QuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ7XG5cbnZhciBSZWFjdEN1cnJlbnRPd25lciA9IFJlYWN0SW50ZXJuYWxzLlJlYWN0Q3VycmVudE93bmVyO1xudmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUgPSBSZWFjdEludGVybmFscy5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xuXG52YXIgZGVzY3JpYmVDb21wb25lbnRGcmFtZSA9IGZ1bmN0aW9uIChuYW1lLCBzb3VyY2UsIG93bmVyTmFtZSkge1xuICByZXR1cm4gJ1xcbiAgICBpbiAnICsgKG5hbWUgfHwgJ1Vua25vd24nKSArIChzb3VyY2UgPyAnIChhdCAnICsgc291cmNlLmZpbGVOYW1lLnJlcGxhY2UoL14uKltcXFxcXFwvXS8sICcnKSArICc6JyArIHNvdXJjZS5saW5lTnVtYmVyICsgJyknIDogb3duZXJOYW1lID8gJyAoY3JlYXRlZCBieSAnICsgb3duZXJOYW1lICsgJyknIDogJycpO1xufTtcblxuLy8gVGhlIFN5bWJvbCB1c2VkIHRvIHRhZyB0aGUgUmVhY3RFbGVtZW50LWxpa2UgdHlwZXMuIElmIHRoZXJlIGlzIG5vIG5hdGl2ZSBTeW1ib2xcbi8vIG5vciBwb2x5ZmlsbCwgdGhlbiBhIHBsYWluIG51bWJlciBpcyB1c2VkIGZvciBwZXJmb3JtYW5jZS5cbnZhciBoYXNTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbFsnZm9yJ107XG5cbnZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbJ2ZvciddKCdyZWFjdC5lbGVtZW50JykgOiAweGVhYzc7XG52YXIgUkVBQ1RfQ0FMTF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sWydmb3InXSgncmVhY3QuY2FsbCcpIDogMHhlYWM4O1xudmFyIFJFQUNUX1JFVFVSTl9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sWydmb3InXSgncmVhY3QucmV0dXJuJykgOiAweGVhYzk7XG52YXIgUkVBQ1RfUE9SVEFMX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbJ2ZvciddKCdyZWFjdC5wb3J0YWwnKSA6IDB4ZWFjYTtcbnZhciBSRUFDVF9GUkFHTUVOVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sWydmb3InXSgncmVhY3QuZnJhZ21lbnQnKSA6IDB4ZWFjYjtcbnZhciBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sWydmb3InXSgncmVhY3Quc3RyaWN0X21vZGUnKSA6IDB4ZWFjYztcbnZhciBSRUFDVF9QUk9WSURFUl9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sWydmb3InXSgncmVhY3QucHJvdmlkZXInKSA6IDB4ZWFjZDtcbnZhciBSRUFDVF9DT05URVhUX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbJ2ZvciddKCdyZWFjdC5jb250ZXh0JykgOiAweGVhY2U7XG52YXIgUkVBQ1RfQVNZTkNfTU9ERV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sWydmb3InXSgncmVhY3QuYXN5bmNfbW9kZScpIDogMHhlYWNmO1xudmFyIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbJ2ZvciddKCdyZWFjdC5mb3J3YXJkX3JlZicpIDogMHhlYWQwO1xuXG52YXIgTUFZQkVfSVRFUkFUT1JfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuaXRlcmF0b3I7XG52YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7XG5cbmZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuICBpZiAobWF5YmVJdGVyYWJsZSA9PT0gbnVsbCB8fCB0eXBlb2YgbWF5YmVJdGVyYWJsZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgbWF5YmVJdGVyYXRvciA9IE1BWUJFX0lURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW01BWUJFX0lURVJBVE9SX1NZTUJPTF0gfHwgbWF5YmVJdGVyYWJsZVtGQVVYX0lURVJBVE9SX1NZTUJPTF07XG4gIGlmICh0eXBlb2YgbWF5YmVJdGVyYXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBtYXliZUl0ZXJhdG9yO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBnZXRDb21wb25lbnROYW1lKGZpYmVyKSB7XG4gIHZhciB0eXBlID0gZmliZXIudHlwZTtcblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWU7XG4gIH1cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB0eXBlO1xuICB9XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgUkVBQ1RfRlJBR01FTlRfVFlQRTpcbiAgICAgIHJldHVybiAnUmVhY3RGcmFnbWVudCc7XG4gICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgIHJldHVybiAnUmVhY3RQb3J0YWwnO1xuICAgIGNhc2UgUkVBQ1RfQ0FMTF9UWVBFOlxuICAgICAgcmV0dXJuICdSZWFjdENhbGwnO1xuICAgIGNhc2UgUkVBQ1RfUkVUVVJOX1RZUEU6XG4gICAgICByZXR1cm4gJ1JlYWN0UmV0dXJuJztcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZGVzY3JpYmVGaWJlcihmaWJlcikge1xuICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgIGNhc2UgSW5kZXRlcm1pbmF0ZUNvbXBvbmVudDpcbiAgICBjYXNlIEZ1bmN0aW9uYWxDb21wb25lbnQ6XG4gICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICB2YXIgb3duZXIgPSBmaWJlci5fZGVidWdPd25lcjtcbiAgICAgIHZhciBzb3VyY2UgPSBmaWJlci5fZGVidWdTb3VyY2U7XG4gICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoZmliZXIpO1xuICAgICAgdmFyIG93bmVyTmFtZSA9IG51bGw7XG4gICAgICBpZiAob3duZXIpIHtcbiAgICAgICAgb3duZXJOYW1lID0gZ2V0Q29tcG9uZW50TmFtZShvd25lcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVzY3JpYmVDb21wb25lbnRGcmFtZShuYW1lLCBzb3VyY2UsIG93bmVyTmFtZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAnJztcbiAgfVxufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIGNhbiBvbmx5IGJlIGNhbGxlZCB3aXRoIGEgd29yay1pbi1wcm9ncmVzcyBmaWJlciBhbmRcbi8vIG9ubHkgZHVyaW5nIGJlZ2luIG9yIGNvbXBsZXRlIHBoYXNlLiBEbyBub3QgY2FsbCBpdCB1bmRlciBhbnkgb3RoZXJcbi8vIGNpcmN1bXN0YW5jZXMuXG5mdW5jdGlvbiBnZXRTdGFja0FkZGVuZHVtQnlXb3JrSW5Qcm9ncmVzc0ZpYmVyKHdvcmtJblByb2dyZXNzKSB7XG4gIHZhciBpbmZvID0gJyc7XG4gIHZhciBub2RlID0gd29ya0luUHJvZ3Jlc3M7XG4gIGRvIHtcbiAgICBpbmZvICs9IGRlc2NyaWJlRmliZXIobm9kZSk7XG4gICAgLy8gT3RoZXJ3aXNlIHRoaXMgcmV0dXJuIHBvaW50ZXIgbWlnaHQgcG9pbnQgdG8gdGhlIHdyb25nIHRyZWU6XG4gICAgbm9kZSA9IG5vZGVbJ3JldHVybiddO1xuICB9IHdoaWxlIChub2RlKTtcbiAgcmV0dXJuIGluZm87XG59XG5cbmZ1bmN0aW9uIGdldEN1cnJlbnRGaWJlck93bmVyTmFtZSQxKCkge1xuICB7XG4gICAgdmFyIGZpYmVyID0gUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5jdXJyZW50O1xuICAgIGlmIChmaWJlciA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBvd25lciA9IGZpYmVyLl9kZWJ1Z093bmVyO1xuICAgIGlmIChvd25lciAhPT0gbnVsbCAmJiB0eXBlb2Ygb3duZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZShvd25lcik7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDEoKSB7XG4gIHtcbiAgICB2YXIgZmliZXIgPSBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmN1cnJlbnQ7XG4gICAgaWYgKGZpYmVyID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8gU2FmZSBiZWNhdXNlIGlmIGN1cnJlbnQgZmliZXIgZXhpc3RzLCB3ZSBhcmUgcmVjb25jaWxpbmcsXG4gICAgLy8gYW5kIGl0IGlzIGd1YXJhbnRlZWQgdG8gYmUgdGhlIHdvcmstaW4tcHJvZ3Jlc3MgdmVyc2lvbi5cbiAgICByZXR1cm4gZ2V0U3RhY2tBZGRlbmR1bUJ5V29ya0luUHJvZ3Jlc3NGaWJlcihmaWJlcik7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIHJlc2V0Q3VycmVudEZpYmVyKCkge1xuICBSZWFjdERlYnVnQ3VycmVudEZyYW1lLmdldEN1cnJlbnRTdGFjayA9IG51bGw7XG4gIFJlYWN0RGVidWdDdXJyZW50RmliZXIuY3VycmVudCA9IG51bGw7XG4gIFJlYWN0RGVidWdDdXJyZW50RmliZXIucGhhc2UgPSBudWxsO1xufVxuXG5mdW5jdGlvbiBzZXRDdXJyZW50RmliZXIoZmliZXIpIHtcbiAgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRDdXJyZW50U3RhY2sgPSBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDE7XG4gIFJlYWN0RGVidWdDdXJyZW50RmliZXIuY3VycmVudCA9IGZpYmVyO1xuICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnBoYXNlID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gc2V0Q3VycmVudFBoYXNlKHBoYXNlKSB7XG4gIFJlYWN0RGVidWdDdXJyZW50RmliZXIucGhhc2UgPSBwaGFzZTtcbn1cblxudmFyIFJlYWN0RGVidWdDdXJyZW50RmliZXIgPSB7XG4gIGN1cnJlbnQ6IG51bGwsXG4gIHBoYXNlOiBudWxsLFxuICByZXNldEN1cnJlbnRGaWJlcjogcmVzZXRDdXJyZW50RmliZXIsXG4gIHNldEN1cnJlbnRGaWJlcjogc2V0Q3VycmVudEZpYmVyLFxuICBzZXRDdXJyZW50UGhhc2U6IHNldEN1cnJlbnRQaGFzZSxcbiAgZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lOiBnZXRDdXJyZW50RmliZXJPd25lck5hbWUkMSxcbiAgZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bTogZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQxXG59O1xuXG4vLyBBIHJlc2VydmVkIGF0dHJpYnV0ZS5cbi8vIEl0IGlzIGhhbmRsZWQgYnkgUmVhY3Qgc2VwYXJhdGVseSBhbmQgc2hvdWxkbid0IGJlIHdyaXR0ZW4gdG8gdGhlIERPTS5cbnZhciBSRVNFUlZFRCA9IDA7XG5cbi8vIEEgc2ltcGxlIHN0cmluZyBhdHRyaWJ1dGUuXG4vLyBBdHRyaWJ1dGVzIHRoYXQgYXJlbid0IGluIHRoZSB3aGl0ZWxpc3QgYXJlIHByZXN1bWVkIHRvIGhhdmUgdGhpcyB0eXBlLlxudmFyIFNUUklORyA9IDE7XG5cbi8vIEEgc3RyaW5nIGF0dHJpYnV0ZSB0aGF0IGFjY2VwdHMgYm9vbGVhbnMgaW4gUmVhY3QuIEluIEhUTUwsIHRoZXNlIGFyZSBjYWxsZWRcbi8vIFwiZW51bWVyYXRlZFwiIGF0dHJpYnV0ZXMgd2l0aCBcInRydWVcIiBhbmQgXCJmYWxzZVwiIGFzIHBvc3NpYmxlIHZhbHVlcy5cbi8vIFdoZW4gdHJ1ZSwgaXQgc2hvdWxkIGJlIHNldCB0byBhIFwidHJ1ZVwiIHN0cmluZy5cbi8vIFdoZW4gZmFsc2UsIGl0IHNob3VsZCBiZSBzZXQgdG8gYSBcImZhbHNlXCIgc3RyaW5nLlxudmFyIEJPT0xFQU5JU0hfU1RSSU5HID0gMjtcblxuLy8gQSByZWFsIGJvb2xlYW4gYXR0cmlidXRlLlxuLy8gV2hlbiB0cnVlLCBpdCBzaG91bGQgYmUgcHJlc2VudCAoc2V0IGVpdGhlciB0byBhbiBlbXB0eSBzdHJpbmcgb3IgaXRzIG5hbWUpLlxuLy8gV2hlbiBmYWxzZSwgaXQgc2hvdWxkIGJlIG9taXR0ZWQuXG52YXIgQk9PTEVBTiA9IDM7XG5cbi8vIEFuIGF0dHJpYnV0ZSB0aGF0IGNhbiBiZSB1c2VkIGFzIGEgZmxhZyBhcyB3ZWxsIGFzIHdpdGggYSB2YWx1ZS5cbi8vIFdoZW4gdHJ1ZSwgaXQgc2hvdWxkIGJlIHByZXNlbnQgKHNldCBlaXRoZXIgdG8gYW4gZW1wdHkgc3RyaW5nIG9yIGl0cyBuYW1lKS5cbi8vIFdoZW4gZmFsc2UsIGl0IHNob3VsZCBiZSBvbWl0dGVkLlxuLy8gRm9yIGFueSBvdGhlciB2YWx1ZSwgc2hvdWxkIGJlIHByZXNlbnQgd2l0aCB0aGF0IHZhbHVlLlxudmFyIE9WRVJMT0FERURfQk9PTEVBTiA9IDQ7XG5cbi8vIEFuIGF0dHJpYnV0ZSB0aGF0IG11c3QgYmUgbnVtZXJpYyBvciBwYXJzZSBhcyBhIG51bWVyaWMuXG4vLyBXaGVuIGZhbHN5LCBpdCBzaG91bGQgYmUgcmVtb3ZlZC5cbnZhciBOVU1FUklDID0gNTtcblxuLy8gQW4gYXR0cmlidXRlIHRoYXQgbXVzdCBiZSBwb3NpdGl2ZSBudW1lcmljIG9yIHBhcnNlIGFzIGEgcG9zaXRpdmUgbnVtZXJpYy5cbi8vIFdoZW4gZmFsc3ksIGl0IHNob3VsZCBiZSByZW1vdmVkLlxudmFyIFBPU0lUSVZFX05VTUVSSUMgPSA2O1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG52YXIgQVRUUklCVVRFX05BTUVfU1RBUlRfQ0hBUiA9ICc6QS1aX2EtelxcXFx1MDBDMC1cXFxcdTAwRDZcXFxcdTAwRDgtXFxcXHUwMEY2XFxcXHUwMEY4LVxcXFx1MDJGRlxcXFx1MDM3MC1cXFxcdTAzN0RcXFxcdTAzN0YtXFxcXHUxRkZGXFxcXHUyMDBDLVxcXFx1MjAwRFxcXFx1MjA3MC1cXFxcdTIxOEZcXFxcdTJDMDAtXFxcXHUyRkVGXFxcXHUzMDAxLVxcXFx1RDdGRlxcXFx1RjkwMC1cXFxcdUZEQ0ZcXFxcdUZERjAtXFxcXHVGRkZEJztcbi8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xudmFyIEFUVFJJQlVURV9OQU1FX0NIQVIgPSBBVFRSSUJVVEVfTkFNRV9TVEFSVF9DSEFSICsgJ1xcXFwtLjAtOVxcXFx1MDBCN1xcXFx1MDMwMC1cXFxcdTAzNkZcXFxcdTIwM0YtXFxcXHUyMDQwJztcblxuXG52YXIgUk9PVF9BVFRSSUJVVEVfTkFNRSA9ICdkYXRhLXJlYWN0cm9vdCc7XG52YXIgVkFMSURfQVRUUklCVVRFX05BTUVfUkVHRVggPSBuZXcgUmVnRXhwKCdeWycgKyBBVFRSSUJVVEVfTkFNRV9TVEFSVF9DSEFSICsgJ11bJyArIEFUVFJJQlVURV9OQU1FX0NIQVIgKyAnXSokJyk7XG5cbnZhciBpbGxlZ2FsQXR0cmlidXRlTmFtZUNhY2hlID0ge307XG52YXIgdmFsaWRhdGVkQXR0cmlidXRlTmFtZUNhY2hlID0ge307XG5cbmZ1bmN0aW9uIGlzQXR0cmlidXRlTmFtZVNhZmUoYXR0cmlidXRlTmFtZSkge1xuICBpZiAodmFsaWRhdGVkQXR0cmlidXRlTmFtZUNhY2hlLmhhc093blByb3BlcnR5KGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKGlsbGVnYWxBdHRyaWJ1dGVOYW1lQ2FjaGUuaGFzT3duUHJvcGVydHkoYXR0cmlidXRlTmFtZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKFZBTElEX0FUVFJJQlVURV9OQU1FX1JFR0VYLnRlc3QoYXR0cmlidXRlTmFtZSkpIHtcbiAgICB2YWxpZGF0ZWRBdHRyaWJ1dGVOYW1lQ2FjaGVbYXR0cmlidXRlTmFtZV0gPSB0cnVlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlsbGVnYWxBdHRyaWJ1dGVOYW1lQ2FjaGVbYXR0cmlidXRlTmFtZV0gPSB0cnVlO1xuICB7XG4gICAgd2FybmluZyhmYWxzZSwgJ0ludmFsaWQgYXR0cmlidXRlIG5hbWU6IGAlc2AnLCBhdHRyaWJ1dGVOYW1lKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHNob3VsZElnbm9yZUF0dHJpYnV0ZShuYW1lLCBwcm9wZXJ0eUluZm8sIGlzQ3VzdG9tQ29tcG9uZW50VGFnKSB7XG4gIGlmIChwcm9wZXJ0eUluZm8gIT09IG51bGwpIHtcbiAgICByZXR1cm4gcHJvcGVydHlJbmZvLnR5cGUgPT09IFJFU0VSVkVEO1xuICB9XG4gIGlmIChpc0N1c3RvbUNvbXBvbmVudFRhZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAobmFtZS5sZW5ndGggPiAyICYmIChuYW1lWzBdID09PSAnbycgfHwgbmFtZVswXSA9PT0gJ08nKSAmJiAobmFtZVsxXSA9PT0gJ24nIHx8IG5hbWVbMV0gPT09ICdOJykpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFJlbW92ZUF0dHJpYnV0ZVdpdGhXYXJuaW5nKG5hbWUsIHZhbHVlLCBwcm9wZXJ0eUluZm8sIGlzQ3VzdG9tQ29tcG9uZW50VGFnKSB7XG4gIGlmIChwcm9wZXJ0eUluZm8gIT09IG51bGwgJiYgcHJvcGVydHlJbmZvLnR5cGUgPT09IFJFU0VSVkVEKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgIC8vICRGbG93SXNzdWUgc3ltYm9sIGlzIHBlcmZlY3RseSB2YWxpZCBoZXJlXG4gICAgY2FzZSAnc3ltYm9sJzpcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAge1xuICAgICAgICBpZiAoaXNDdXN0b21Db21wb25lbnRUYWcpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BlcnR5SW5mbyAhPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiAhcHJvcGVydHlJbmZvLmFjY2VwdHNCb29sZWFucztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcHJlZml4ID0gbmFtZS50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsIDUpO1xuICAgICAgICAgIHJldHVybiBwcmVmaXggIT09ICdkYXRhLScgJiYgcHJlZml4ICE9PSAnYXJpYS0nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzaG91bGRSZW1vdmVBdHRyaWJ1dGUobmFtZSwgdmFsdWUsIHByb3BlcnR5SW5mbywgaXNDdXN0b21Db21wb25lbnRUYWcpIHtcbiAgaWYgKHZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoc2hvdWxkUmVtb3ZlQXR0cmlidXRlV2l0aFdhcm5pbmcobmFtZSwgdmFsdWUsIHByb3BlcnR5SW5mbywgaXNDdXN0b21Db21wb25lbnRUYWcpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHByb3BlcnR5SW5mbyAhPT0gbnVsbCkge1xuICAgIHN3aXRjaCAocHJvcGVydHlJbmZvLnR5cGUpIHtcbiAgICAgIGNhc2UgQk9PTEVBTjpcbiAgICAgICAgcmV0dXJuICF2YWx1ZTtcbiAgICAgIGNhc2UgT1ZFUkxPQURFRF9CT09MRUFOOlxuICAgICAgICByZXR1cm4gdmFsdWUgPT09IGZhbHNlO1xuICAgICAgY2FzZSBOVU1FUklDOlxuICAgICAgICByZXR1cm4gaXNOYU4odmFsdWUpO1xuICAgICAgY2FzZSBQT1NJVElWRV9OVU1FUklDOlxuICAgICAgICByZXR1cm4gaXNOYU4odmFsdWUpIHx8IHZhbHVlIDwgMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRQcm9wZXJ0eUluZm8obmFtZSkge1xuICByZXR1cm4gcHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSA/IHByb3BlcnRpZXNbbmFtZV0gOiBudWxsO1xufVxuXG5mdW5jdGlvbiBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgdHlwZSwgbXVzdFVzZVByb3BlcnR5LCBhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVOYW1lc3BhY2UpIHtcbiAgdGhpcy5hY2NlcHRzQm9vbGVhbnMgPSB0eXBlID09PSBCT09MRUFOSVNIX1NUUklORyB8fCB0eXBlID09PSBCT09MRUFOIHx8IHR5cGUgPT09IE9WRVJMT0FERURfQk9PTEVBTjtcbiAgdGhpcy5hdHRyaWJ1dGVOYW1lID0gYXR0cmlidXRlTmFtZTtcbiAgdGhpcy5hdHRyaWJ1dGVOYW1lc3BhY2UgPSBhdHRyaWJ1dGVOYW1lc3BhY2U7XG4gIHRoaXMubXVzdFVzZVByb3BlcnR5ID0gbXVzdFVzZVByb3BlcnR5O1xuICB0aGlzLnByb3BlcnR5TmFtZSA9IG5hbWU7XG4gIHRoaXMudHlwZSA9IHR5cGU7XG59XG5cbi8vIFdoZW4gYWRkaW5nIGF0dHJpYnV0ZXMgdG8gdGhpcyBsaXN0LCBiZSBzdXJlIHRvIGFsc28gYWRkIHRoZW0gdG9cbi8vIHRoZSBgcG9zc2libGVTdGFuZGFyZE5hbWVzYCBtb2R1bGUgdG8gZW5zdXJlIGNhc2luZyBhbmQgaW5jb3JyZWN0XG4vLyBuYW1lIHdhcm5pbmdzLlxudmFyIHByb3BlcnRpZXMgPSB7fTtcblxuLy8gVGhlc2UgcHJvcHMgYXJlIHJlc2VydmVkIGJ5IFJlYWN0LiBUaGV5IHNob3VsZG4ndCBiZSB3cml0dGVuIHRvIHRoZSBET00uXG5bJ2NoaWxkcmVuJywgJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJyxcbi8vIFRPRE86IFRoaXMgcHJldmVudHMgdGhlIGFzc2lnbm1lbnQgb2YgZGVmYXVsdFZhbHVlIHRvIHJlZ3VsYXJcbi8vIGVsZW1lbnRzIChub3QganVzdCBpbnB1dHMpLiBOb3cgdGhhdCBSZWFjdERPTUlucHV0IGFzc2lnbnMgdG8gdGhlXG4vLyBkZWZhdWx0VmFsdWUgcHJvcGVydHkgLS0gZG8gd2UgbmVlZCB0aGlzP1xuJ2RlZmF1bHRWYWx1ZScsICdkZWZhdWx0Q2hlY2tlZCcsICdpbm5lckhUTUwnLCAnc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nJywgJ3N1cHByZXNzSHlkcmF0aW9uV2FybmluZycsICdzdHlsZSddLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgcHJvcGVydGllc1tuYW1lXSA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgUkVTRVJWRUQsIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgbmFtZSwgLy8gYXR0cmlidXRlTmFtZVxuICBudWxsKTtcbn0pO1xuXG4vLyBBIGZldyBSZWFjdCBzdHJpbmcgYXR0cmlidXRlcyBoYXZlIGEgZGlmZmVyZW50IG5hbWUuXG4vLyBUaGlzIGlzIGEgbWFwcGluZyBmcm9tIFJlYWN0IHByb3AgbmFtZXMgdG8gdGhlIGF0dHJpYnV0ZSBuYW1lcy5cbltbJ2FjY2VwdENoYXJzZXQnLCAnYWNjZXB0LWNoYXJzZXQnXSwgWydjbGFzc05hbWUnLCAnY2xhc3MnXSwgWydodG1sRm9yJywgJ2ZvciddLCBbJ2h0dHBFcXVpdicsICdodHRwLWVxdWl2J11dLmZvckVhY2goZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIG5hbWUgPSBfcmVmWzBdLFxuICAgICAgYXR0cmlidXRlTmFtZSA9IF9yZWZbMV07XG5cbiAgcHJvcGVydGllc1tuYW1lXSA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgU1RSSU5HLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIGF0dHJpYnV0ZU5hbWUsIC8vIGF0dHJpYnV0ZU5hbWVcbiAgbnVsbCk7XG59KTtcblxuLy8gVGhlc2UgYXJlIFwiZW51bWVyYXRlZFwiIEhUTUwgYXR0cmlidXRlcyB0aGF0IGFjY2VwdCBcInRydWVcIiBhbmQgXCJmYWxzZVwiLlxuLy8gSW4gUmVhY3QsIHdlIGxldCB1c2VycyBwYXNzIGB0cnVlYCBhbmQgYGZhbHNlYCBldmVuIHRob3VnaCB0ZWNobmljYWxseVxuLy8gdGhlc2UgYXJlbid0IGJvb2xlYW4gYXR0cmlidXRlcyAodGhleSBhcmUgY29lcmNlZCB0byBzdHJpbmdzKS5cblsnY29udGVudEVkaXRhYmxlJywgJ2RyYWdnYWJsZScsICdzcGVsbENoZWNrJywgJ3ZhbHVlJ10uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBCT09MRUFOSVNIX1NUUklORywgZmFsc2UsIC8vIG11c3RVc2VQcm9wZXJ0eVxuICBuYW1lLnRvTG93ZXJDYXNlKCksIC8vIGF0dHJpYnV0ZU5hbWVcbiAgbnVsbCk7XG59KTtcblxuLy8gVGhlc2UgYXJlIFwiZW51bWVyYXRlZFwiIFNWRyBhdHRyaWJ1dGVzIHRoYXQgYWNjZXB0IFwidHJ1ZVwiIGFuZCBcImZhbHNlXCIuXG4vLyBJbiBSZWFjdCwgd2UgbGV0IHVzZXJzIHBhc3MgYHRydWVgIGFuZCBgZmFsc2VgIGV2ZW4gdGhvdWdoIHRlY2huaWNhbGx5XG4vLyB0aGVzZSBhcmVuJ3QgYm9vbGVhbiBhdHRyaWJ1dGVzICh0aGV5IGFyZSBjb2VyY2VkIHRvIHN0cmluZ3MpLlxuLy8gU2luY2UgdGhlc2UgYXJlIFNWRyBhdHRyaWJ1dGVzLCB0aGVpciBhdHRyaWJ1dGUgbmFtZXMgYXJlIGNhc2Utc2Vuc2l0aXZlLlxuWydhdXRvUmV2ZXJzZScsICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ3ByZXNlcnZlQWxwaGEnXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gIHByb3BlcnRpZXNbbmFtZV0gPSBuZXcgUHJvcGVydHlJbmZvUmVjb3JkKG5hbWUsIEJPT0xFQU5JU0hfU1RSSU5HLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIG5hbWUsIC8vIGF0dHJpYnV0ZU5hbWVcbiAgbnVsbCk7XG59KTtcblxuLy8gVGhlc2UgYXJlIEhUTUwgYm9vbGVhbiBhdHRyaWJ1dGVzLlxuWydhbGxvd0Z1bGxTY3JlZW4nLCAnYXN5bmMnLFxuLy8gTm90ZTogdGhlcmUgaXMgYSBzcGVjaWFsIGNhc2UgdGhhdCBwcmV2ZW50cyBpdCBmcm9tIGJlaW5nIHdyaXR0ZW4gdG8gdGhlIERPTVxuLy8gb24gdGhlIGNsaWVudCBzaWRlIGJlY2F1c2UgdGhlIGJyb3dzZXJzIGFyZSBpbmNvbnNpc3RlbnQuIEluc3RlYWQgd2UgY2FsbCBmb2N1cygpLlxuJ2F1dG9Gb2N1cycsICdhdXRvUGxheScsICdjb250cm9scycsICdkZWZhdWx0JywgJ2RlZmVyJywgJ2Rpc2FibGVkJywgJ2Zvcm1Ob1ZhbGlkYXRlJywgJ2hpZGRlbicsICdsb29wJywgJ25vTW9kdWxlJywgJ25vVmFsaWRhdGUnLCAnb3BlbicsICdwbGF5c0lubGluZScsICdyZWFkT25seScsICdyZXF1aXJlZCcsICdyZXZlcnNlZCcsICdzY29wZWQnLCAnc2VhbWxlc3MnLFxuLy8gTWljcm9kYXRhXG4naXRlbVNjb3BlJ10uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBCT09MRUFOLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIG5hbWUudG9Mb3dlckNhc2UoKSwgLy8gYXR0cmlidXRlTmFtZVxuICBudWxsKTtcbn0pO1xuXG4vLyBUaGVzZSBhcmUgdGhlIGZldyBSZWFjdCBwcm9wcyB0aGF0IHdlIHNldCBhcyBET00gcHJvcGVydGllc1xuLy8gcmF0aGVyIHRoYW4gYXR0cmlidXRlcy4gVGhlc2UgYXJlIGFsbCBib29sZWFucy5cblsnY2hlY2tlZCcsXG4vLyBOb3RlOiBgb3B0aW9uLnNlbGVjdGVkYCBpcyBub3QgdXBkYXRlZCBpZiBgc2VsZWN0Lm11bHRpcGxlYCBpc1xuLy8gZGlzYWJsZWQgd2l0aCBgcmVtb3ZlQXR0cmlidXRlYC4gV2UgaGF2ZSBzcGVjaWFsIGxvZ2ljIGZvciBoYW5kbGluZyB0aGlzLlxuJ211bHRpcGxlJywgJ211dGVkJywgJ3NlbGVjdGVkJ10uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBCT09MRUFOLCB0cnVlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgbmFtZS50b0xvd2VyQ2FzZSgpLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwpO1xufSk7XG5cbi8vIFRoZXNlIGFyZSBIVE1MIGF0dHJpYnV0ZXMgdGhhdCBhcmUgXCJvdmVybG9hZGVkIGJvb2xlYW5zXCI6IHRoZXkgYmVoYXZlIGxpa2Vcbi8vIGJvb2xlYW5zLCBidXQgY2FuIGFsc28gYWNjZXB0IGEgc3RyaW5nIHZhbHVlLlxuWydjYXB0dXJlJywgJ2Rvd25sb2FkJ10uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBPVkVSTE9BREVEX0JPT0xFQU4sIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgbmFtZS50b0xvd2VyQ2FzZSgpLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwpO1xufSk7XG5cbi8vIFRoZXNlIGFyZSBIVE1MIGF0dHJpYnV0ZXMgdGhhdCBtdXN0IGJlIHBvc2l0aXZlIG51bWJlcnMuXG5bJ2NvbHMnLCAncm93cycsICdzaXplJywgJ3NwYW4nXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gIHByb3BlcnRpZXNbbmFtZV0gPSBuZXcgUHJvcGVydHlJbmZvUmVjb3JkKG5hbWUsIFBPU0lUSVZFX05VTUVSSUMsIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgbmFtZS50b0xvd2VyQ2FzZSgpLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwpO1xufSk7XG5cbi8vIFRoZXNlIGFyZSBIVE1MIGF0dHJpYnV0ZXMgdGhhdCBtdXN0IGJlIG51bWJlcnMuXG5bJ3Jvd1NwYW4nLCAnc3RhcnQnXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gIHByb3BlcnRpZXNbbmFtZV0gPSBuZXcgUHJvcGVydHlJbmZvUmVjb3JkKG5hbWUsIE5VTUVSSUMsIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgbmFtZS50b0xvd2VyQ2FzZSgpLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwpO1xufSk7XG5cbnZhciBDQU1FTElaRSA9IC9bXFwtXFw6XShbYS16XSkvZztcbnZhciBjYXBpdGFsaXplID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gIHJldHVybiB0b2tlblsxXS50b1VwcGVyQ2FzZSgpO1xufTtcblxuLy8gVGhpcyBpcyBhIGxpc3Qgb2YgYWxsIFNWRyBhdHRyaWJ1dGVzIHRoYXQgbmVlZCBzcGVjaWFsIGNhc2luZywgbmFtZXNwYWNpbmcsXG4vLyBvciBib29sZWFuIHZhbHVlIGFzc2lnbm1lbnQuIFJlZ3VsYXIgYXR0cmlidXRlcyB0aGF0IGp1c3QgYWNjZXB0IHN0cmluZ3Ncbi8vIGFuZCBoYXZlIHRoZSBzYW1lIG5hbWVzIGFyZSBvbWl0dGVkLCBqdXN0IGxpa2UgaW4gdGhlIEhUTUwgd2hpdGVsaXN0LlxuLy8gU29tZSBvZiB0aGVzZSBhdHRyaWJ1dGVzIGNhbiBiZSBoYXJkIHRvIGZpbmQuIFRoaXMgbGlzdCB3YXMgY3JlYXRlZCBieVxuLy8gc2NyYXBwaW5nIHRoZSBNRE4gZG9jdW1lbnRhdGlvbi5cblsnYWNjZW50LWhlaWdodCcsICdhbGlnbm1lbnQtYmFzZWxpbmUnLCAnYXJhYmljLWZvcm0nLCAnYmFzZWxpbmUtc2hpZnQnLCAnY2FwLWhlaWdodCcsICdjbGlwLXBhdGgnLCAnY2xpcC1ydWxlJywgJ2NvbG9yLWludGVycG9sYXRpb24nLCAnY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzJywgJ2NvbG9yLXByb2ZpbGUnLCAnY29sb3ItcmVuZGVyaW5nJywgJ2RvbWluYW50LWJhc2VsaW5lJywgJ2VuYWJsZS1iYWNrZ3JvdW5kJywgJ2ZpbGwtb3BhY2l0eScsICdmaWxsLXJ1bGUnLCAnZmxvb2QtY29sb3InLCAnZmxvb2Qtb3BhY2l0eScsICdmb250LWZhbWlseScsICdmb250LXNpemUnLCAnZm9udC1zaXplLWFkanVzdCcsICdmb250LXN0cmV0Y2gnLCAnZm9udC1zdHlsZScsICdmb250LXZhcmlhbnQnLCAnZm9udC13ZWlnaHQnLCAnZ2x5cGgtbmFtZScsICdnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsJywgJ2dseXBoLW9yaWVudGF0aW9uLXZlcnRpY2FsJywgJ2hvcml6LWFkdi14JywgJ2hvcml6LW9yaWdpbi14JywgJ2ltYWdlLXJlbmRlcmluZycsICdsZXR0ZXItc3BhY2luZycsICdsaWdodGluZy1jb2xvcicsICdtYXJrZXItZW5kJywgJ21hcmtlci1taWQnLCAnbWFya2VyLXN0YXJ0JywgJ292ZXJsaW5lLXBvc2l0aW9uJywgJ292ZXJsaW5lLXRoaWNrbmVzcycsICdwYWludC1vcmRlcicsICdwYW5vc2UtMScsICdwb2ludGVyLWV2ZW50cycsICdyZW5kZXJpbmctaW50ZW50JywgJ3NoYXBlLXJlbmRlcmluZycsICdzdG9wLWNvbG9yJywgJ3N0b3Atb3BhY2l0eScsICdzdHJpa2V0aHJvdWdoLXBvc2l0aW9uJywgJ3N0cmlrZXRocm91Z2gtdGhpY2tuZXNzJywgJ3N0cm9rZS1kYXNoYXJyYXknLCAnc3Ryb2tlLWRhc2hvZmZzZXQnLCAnc3Ryb2tlLWxpbmVjYXAnLCAnc3Ryb2tlLWxpbmVqb2luJywgJ3N0cm9rZS1taXRlcmxpbWl0JywgJ3N0cm9rZS1vcGFjaXR5JywgJ3N0cm9rZS13aWR0aCcsICd0ZXh0LWFuY2hvcicsICd0ZXh0LWRlY29yYXRpb24nLCAndGV4dC1yZW5kZXJpbmcnLCAndW5kZXJsaW5lLXBvc2l0aW9uJywgJ3VuZGVybGluZS10aGlja25lc3MnLCAndW5pY29kZS1iaWRpJywgJ3VuaWNvZGUtcmFuZ2UnLCAndW5pdHMtcGVyLWVtJywgJ3YtYWxwaGFiZXRpYycsICd2LWhhbmdpbmcnLCAndi1pZGVvZ3JhcGhpYycsICd2LW1hdGhlbWF0aWNhbCcsICd2ZWN0b3ItZWZmZWN0JywgJ3ZlcnQtYWR2LXknLCAndmVydC1vcmlnaW4teCcsICd2ZXJ0LW9yaWdpbi15JywgJ3dvcmQtc3BhY2luZycsICd3cml0aW5nLW1vZGUnLCAneG1sbnM6eGxpbmsnLCAneC1oZWlnaHQnXS5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyaWJ1dGVOYW1lKSB7XG4gIHZhciBuYW1lID0gYXR0cmlidXRlTmFtZS5yZXBsYWNlKENBTUVMSVpFLCBjYXBpdGFsaXplKTtcbiAgcHJvcGVydGllc1tuYW1lXSA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgU1RSSU5HLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIGF0dHJpYnV0ZU5hbWUsIG51bGwpO1xufSk7XG5cbi8vIFN0cmluZyBTVkcgYXR0cmlidXRlcyB3aXRoIHRoZSB4bGluayBuYW1lc3BhY2UuXG5bJ3hsaW5rOmFjdHVhdGUnLCAneGxpbms6YXJjcm9sZScsICd4bGluazpocmVmJywgJ3hsaW5rOnJvbGUnLCAneGxpbms6c2hvdycsICd4bGluazp0aXRsZScsICd4bGluazp0eXBlJ10uZm9yRWFjaChmdW5jdGlvbiAoYXR0cmlidXRlTmFtZSkge1xuICB2YXIgbmFtZSA9IGF0dHJpYnV0ZU5hbWUucmVwbGFjZShDQU1FTElaRSwgY2FwaXRhbGl6ZSk7XG4gIHByb3BlcnRpZXNbbmFtZV0gPSBuZXcgUHJvcGVydHlJbmZvUmVjb3JkKG5hbWUsIFNUUklORywgZmFsc2UsIC8vIG11c3RVc2VQcm9wZXJ0eVxuICBhdHRyaWJ1dGVOYW1lLCAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycpO1xufSk7XG5cbi8vIFN0cmluZyBTVkcgYXR0cmlidXRlcyB3aXRoIHRoZSB4bWwgbmFtZXNwYWNlLlxuWyd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnXS5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyaWJ1dGVOYW1lKSB7XG4gIHZhciBuYW1lID0gYXR0cmlidXRlTmFtZS5yZXBsYWNlKENBTUVMSVpFLCBjYXBpdGFsaXplKTtcbiAgcHJvcGVydGllc1tuYW1lXSA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgU1RSSU5HLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIGF0dHJpYnV0ZU5hbWUsICdodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2UnKTtcbn0pO1xuXG4vLyBTcGVjaWFsIGNhc2U6IHRoaXMgYXR0cmlidXRlIGV4aXN0cyBib3RoIGluIEhUTUwgYW5kIFNWRy5cbi8vIEl0cyBcInRhYmluZGV4XCIgYXR0cmlidXRlIG5hbWUgaXMgY2FzZS1zZW5zaXRpdmUgaW4gU1ZHIHNvIHdlIGNhbid0IGp1c3QgdXNlXG4vLyBpdHMgUmVhY3QgYHRhYkluZGV4YCBuYW1lLCBsaWtlIHdlIGRvIGZvciBhdHRyaWJ1dGVzIHRoYXQgZXhpc3Qgb25seSBpbiBIVE1MLlxucHJvcGVydGllcy50YWJJbmRleCA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQoJ3RhYkluZGV4JywgU1RSSU5HLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4ndGFiaW5kZXgnLCAvLyBhdHRyaWJ1dGVOYW1lXG5udWxsKTtcblxuLyoqXG4gKiBHZXQgdGhlIHZhbHVlIGZvciBhIHByb3BlcnR5IG9uIGEgbm9kZS4gT25seSB1c2VkIGluIERFViBmb3IgU1NSIHZhbGlkYXRpb24uXG4gKiBUaGUgXCJleHBlY3RlZFwiIGFyZ3VtZW50IGlzIHVzZWQgYXMgYSBoaW50IG9mIHdoYXQgdGhlIGV4cGVjdGVkIHZhbHVlIGlzLlxuICogU29tZSBwcm9wZXJ0aWVzIGhhdmUgbXVsdGlwbGUgZXF1aXZhbGVudCB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlRm9yUHJvcGVydHkobm9kZSwgbmFtZSwgZXhwZWN0ZWQsIHByb3BlcnR5SW5mbykge1xuICB7XG4gICAgaWYgKHByb3BlcnR5SW5mby5tdXN0VXNlUHJvcGVydHkpIHtcbiAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0eUluZm8ucHJvcGVydHlOYW1lO1xuXG4gICAgICByZXR1cm4gbm9kZVtwcm9wZXJ0eU5hbWVdO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXR0cmlidXRlTmFtZSA9IHByb3BlcnR5SW5mby5hdHRyaWJ1dGVOYW1lO1xuXG4gICAgICB2YXIgc3RyaW5nVmFsdWUgPSBudWxsO1xuXG4gICAgICBpZiAocHJvcGVydHlJbmZvLnR5cGUgPT09IE9WRVJMT0FERURfQk9PTEVBTikge1xuICAgICAgICBpZiAobm9kZS5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSkpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICBpZiAodmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNob3VsZFJlbW92ZUF0dHJpYnV0ZShuYW1lLCBleHBlY3RlZCwgcHJvcGVydHlJbmZvLCBmYWxzZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHZhbHVlID09PSAnJyArIGV4cGVjdGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZXhwZWN0ZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChub2RlLmhhc0F0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgICBpZiAoc2hvdWxkUmVtb3ZlQXR0cmlidXRlKG5hbWUsIGV4cGVjdGVkLCBwcm9wZXJ0eUluZm8sIGZhbHNlKSkge1xuICAgICAgICAgIC8vIFdlIGhhZCBhbiBhdHRyaWJ1dGUgYnV0IHNob3VsZG4ndCBoYXZlIGhhZCBvbmUsIHNvIHJlYWQgaXRcbiAgICAgICAgICAvLyBmb3IgdGhlIGVycm9yIG1lc3NhZ2UuXG4gICAgICAgICAgcmV0dXJuIG5vZGUuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wZXJ0eUluZm8udHlwZSA9PT0gQk9PTEVBTikge1xuICAgICAgICAgIC8vIElmIHRoaXMgd2FzIGEgYm9vbGVhbiwgaXQgZG9lc24ndCBtYXR0ZXIgd2hhdCB0aGUgdmFsdWUgaXNcbiAgICAgICAgICAvLyB0aGUgZmFjdCB0aGF0IHdlIGhhdmUgaXQgaXMgdGhlIHNhbWUgYXMgdGhlIGV4cGVjdGVkLlxuICAgICAgICAgIHJldHVybiBleHBlY3RlZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBFdmVuIGlmIHRoaXMgcHJvcGVydHkgdXNlcyBhIG5hbWVzcGFjZSB3ZSB1c2UgZ2V0QXR0cmlidXRlXG4gICAgICAgIC8vIGJlY2F1c2Ugd2UgYXNzdW1lIGl0cyBuYW1lc3BhY2VkIG5hbWUgaXMgdGhlIHNhbWUgYXMgb3VyIGNvbmZpZy5cbiAgICAgICAgLy8gVG8gdXNlIGdldEF0dHJpYnV0ZU5TIHdlIG5lZWQgdGhlIGxvY2FsIG5hbWUgd2hpY2ggd2UgZG9uJ3QgaGF2ZVxuICAgICAgICAvLyBpbiBvdXIgY29uZmlnIGF0bS5cbiAgICAgICAgc3RyaW5nVmFsdWUgPSBub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNob3VsZFJlbW92ZUF0dHJpYnV0ZShuYW1lLCBleHBlY3RlZCwgcHJvcGVydHlJbmZvLCBmYWxzZSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZ1ZhbHVlID09PSBudWxsID8gZXhwZWN0ZWQgOiBzdHJpbmdWYWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAoc3RyaW5nVmFsdWUgPT09ICcnICsgZXhwZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIGV4cGVjdGVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZ1ZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEdldCB0aGUgdmFsdWUgZm9yIGEgYXR0cmlidXRlIG9uIGEgbm9kZS4gT25seSB1c2VkIGluIERFViBmb3IgU1NSIHZhbGlkYXRpb24uXG4gKiBUaGUgdGhpcmQgYXJndW1lbnQgaXMgdXNlZCBhcyBhIGhpbnQgb2Ygd2hhdCB0aGUgZXhwZWN0ZWQgdmFsdWUgaXMuIFNvbWVcbiAqIGF0dHJpYnV0ZXMgaGF2ZSBtdWx0aXBsZSBlcXVpdmFsZW50IHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWVGb3JBdHRyaWJ1dGUobm9kZSwgbmFtZSwgZXhwZWN0ZWQpIHtcbiAge1xuICAgIGlmICghaXNBdHRyaWJ1dGVOYW1lU2FmZShuYW1lKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIW5vZGUuaGFzQXR0cmlidXRlKG5hbWUpKSB7XG4gICAgICByZXR1cm4gZXhwZWN0ZWQgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IG51bGw7XG4gICAgfVxuICAgIHZhciB2YWx1ZSA9IG5vZGUuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgIGlmICh2YWx1ZSA9PT0gJycgKyBleHBlY3RlZCkge1xuICAgICAgcmV0dXJuIGV4cGVjdGVkO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXRzIHRoZSB2YWx1ZSBmb3IgYSBwcm9wZXJ0eSBvbiBhIG5vZGUuXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICovXG5mdW5jdGlvbiBzZXRWYWx1ZUZvclByb3BlcnR5KG5vZGUsIG5hbWUsIHZhbHVlLCBpc0N1c3RvbUNvbXBvbmVudFRhZykge1xuICB2YXIgcHJvcGVydHlJbmZvID0gZ2V0UHJvcGVydHlJbmZvKG5hbWUpO1xuICBpZiAoc2hvdWxkSWdub3JlQXR0cmlidXRlKG5hbWUsIHByb3BlcnR5SW5mbywgaXNDdXN0b21Db21wb25lbnRUYWcpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChzaG91bGRSZW1vdmVBdHRyaWJ1dGUobmFtZSwgdmFsdWUsIHByb3BlcnR5SW5mbywgaXNDdXN0b21Db21wb25lbnRUYWcpKSB7XG4gICAgdmFsdWUgPSBudWxsO1xuICB9XG4gIC8vIElmIHRoZSBwcm9wIGlzbid0IGluIHRoZSBzcGVjaWFsIGxpc3QsIHRyZWF0IGl0IGFzIGEgc2ltcGxlIGF0dHJpYnV0ZS5cbiAgaWYgKGlzQ3VzdG9tQ29tcG9uZW50VGFnIHx8IHByb3BlcnR5SW5mbyA9PT0gbnVsbCkge1xuICAgIGlmIChpc0F0dHJpYnV0ZU5hbWVTYWZlKG5hbWUpKSB7XG4gICAgICB2YXIgX2F0dHJpYnV0ZU5hbWUgPSBuYW1lO1xuICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKF9hdHRyaWJ1dGVOYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKF9hdHRyaWJ1dGVOYW1lLCAnJyArIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBtdXN0VXNlUHJvcGVydHkgPSBwcm9wZXJ0eUluZm8ubXVzdFVzZVByb3BlcnR5O1xuXG4gIGlmIChtdXN0VXNlUHJvcGVydHkpIHtcbiAgICB2YXIgcHJvcGVydHlOYW1lID0gcHJvcGVydHlJbmZvLnByb3BlcnR5TmFtZTtcblxuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgdmFyIHR5cGUgPSBwcm9wZXJ0eUluZm8udHlwZTtcblxuICAgICAgbm9kZVtwcm9wZXJ0eU5hbWVdID0gdHlwZSA9PT0gQk9PTEVBTiA/IGZhbHNlIDogJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENvbnRyYXJ5IHRvIGBzZXRBdHRyaWJ1dGVgLCBvYmplY3QgcHJvcGVydGllcyBhcmUgcHJvcGVybHlcbiAgICAgIC8vIGB0b1N0cmluZ2BlZCBieSBJRTgvOS5cbiAgICAgIG5vZGVbcHJvcGVydHlOYW1lXSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgLy8gVGhlIHJlc3QgYXJlIHRyZWF0ZWQgYXMgYXR0cmlidXRlcyB3aXRoIHNwZWNpYWwgY2FzZXMuXG4gIHZhciBhdHRyaWJ1dGVOYW1lID0gcHJvcGVydHlJbmZvLmF0dHJpYnV0ZU5hbWUsXG4gICAgICBhdHRyaWJ1dGVOYW1lc3BhY2UgPSBwcm9wZXJ0eUluZm8uYXR0cmlidXRlTmFtZXNwYWNlO1xuXG4gIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICB9IGVsc2Uge1xuICAgIHZhciBfdHlwZSA9IHByb3BlcnR5SW5mby50eXBlO1xuXG4gICAgdmFyIGF0dHJpYnV0ZVZhbHVlID0gdm9pZCAwO1xuICAgIGlmIChfdHlwZSA9PT0gQk9PTEVBTiB8fCBfdHlwZSA9PT0gT1ZFUkxPQURFRF9CT09MRUFOICYmIHZhbHVlID09PSB0cnVlKSB7XG4gICAgICBhdHRyaWJ1dGVWYWx1ZSA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBgc2V0QXR0cmlidXRlYCB3aXRoIG9iamVjdHMgYmVjb21lcyBvbmx5IGBbb2JqZWN0XWAgaW4gSUU4LzksXG4gICAgICAvLyAoJycgKyB2YWx1ZSkgbWFrZXMgaXQgb3V0cHV0IHRoZSBjb3JyZWN0IHRvU3RyaW5nKCktdmFsdWUuXG4gICAgICBhdHRyaWJ1dGVWYWx1ZSA9ICcnICsgdmFsdWU7XG4gICAgfVxuICAgIGlmIChhdHRyaWJ1dGVOYW1lc3BhY2UpIHtcbiAgICAgIG5vZGUuc2V0QXR0cmlidXRlTlMoYXR0cmlidXRlTmFtZXNwYWNlLCBhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVZhbHVlKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIFJlYWN0Q29udHJvbGxlZFZhbHVlUHJvcFR5cGVzID0ge1xuICBjaGVja1Byb3BUeXBlczogbnVsbFxufTtcblxue1xuICB2YXIgaGFzUmVhZE9ubHlWYWx1ZSA9IHtcbiAgICBidXR0b246IHRydWUsXG4gICAgY2hlY2tib3g6IHRydWUsXG4gICAgaW1hZ2U6IHRydWUsXG4gICAgaGlkZGVuOiB0cnVlLFxuICAgIHJhZGlvOiB0cnVlLFxuICAgIHJlc2V0OiB0cnVlLFxuICAgIHN1Ym1pdDogdHJ1ZVxuICB9O1xuXG4gIHZhciBwcm9wVHlwZXMgPSB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uIChwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgICAgIGlmICghcHJvcHNbcHJvcE5hbWVdIHx8IGhhc1JlYWRPbmx5VmFsdWVbcHJvcHMudHlwZV0gfHwgcHJvcHMub25DaGFuZ2UgfHwgcHJvcHMucmVhZE9ubHkgfHwgcHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdZb3UgcHJvdmlkZWQgYSBgdmFsdWVgIHByb3AgdG8gYSBmb3JtIGZpZWxkIHdpdGhvdXQgYW4gJyArICdgb25DaGFuZ2VgIGhhbmRsZXIuIFRoaXMgd2lsbCByZW5kZXIgYSByZWFkLW9ubHkgZmllbGQuIElmICcgKyAndGhlIGZpZWxkIHNob3VsZCBiZSBtdXRhYmxlIHVzZSBgZGVmYXVsdFZhbHVlYC4gT3RoZXJ3aXNlLCAnICsgJ3NldCBlaXRoZXIgYG9uQ2hhbmdlYCBvciBgcmVhZE9ubHlgLicpO1xuICAgIH0sXG4gICAgY2hlY2tlZDogZnVuY3Rpb24gKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICAgICAgaWYgKCFwcm9wc1twcm9wTmFtZV0gfHwgcHJvcHMub25DaGFuZ2UgfHwgcHJvcHMucmVhZE9ubHkgfHwgcHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdZb3UgcHJvdmlkZWQgYSBgY2hlY2tlZGAgcHJvcCB0byBhIGZvcm0gZmllbGQgd2l0aG91dCBhbiAnICsgJ2BvbkNoYW5nZWAgaGFuZGxlci4gVGhpcyB3aWxsIHJlbmRlciBhIHJlYWQtb25seSBmaWVsZC4gSWYgJyArICd0aGUgZmllbGQgc2hvdWxkIGJlIG11dGFibGUgdXNlIGBkZWZhdWx0Q2hlY2tlZGAuIE90aGVyd2lzZSwgJyArICdzZXQgZWl0aGVyIGBvbkNoYW5nZWAgb3IgYHJlYWRPbmx5YC4nKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFByb3ZpZGUgYSBsaW5rZWQgYHZhbHVlYCBhdHRyaWJ1dGUgZm9yIGNvbnRyb2xsZWQgZm9ybXMuIFlvdSBzaG91bGQgbm90IHVzZVxuICAgKiB0aGlzIG91dHNpZGUgb2YgdGhlIFJlYWN0RE9NIGNvbnRyb2xsZWQgZm9ybSBjb21wb25lbnRzLlxuICAgKi9cbiAgUmVhY3RDb250cm9sbGVkVmFsdWVQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMgPSBmdW5jdGlvbiAodGFnTmFtZSwgcHJvcHMsIGdldFN0YWNrKSB7XG4gICAgY2hlY2tQcm9wVHlwZXMocHJvcFR5cGVzLCBwcm9wcywgJ3Byb3AnLCB0YWdOYW1lLCBnZXRTdGFjayk7XG4gIH07XG59XG5cbi8vIFRPRE86IGRpcmVjdCBpbXBvcnRzIGxpa2Ugc29tZS1wYWNrYWdlL3NyYy8qIGFyZSBiYWQuIEZpeCBtZS5cbnZhciBnZXRDdXJyZW50RmliZXJPd25lck5hbWUgPSBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmdldEN1cnJlbnRGaWJlck93bmVyTmFtZTtcbnZhciBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtID0gUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5nZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtO1xuXG52YXIgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlID0gZmFsc2U7XG52YXIgZGlkV2FybkNoZWNrZWREZWZhdWx0Q2hlY2tlZCA9IGZhbHNlO1xudmFyIGRpZFdhcm5Db250cm9sbGVkVG9VbmNvbnRyb2xsZWQgPSBmYWxzZTtcbnZhciBkaWRXYXJuVW5jb250cm9sbGVkVG9Db250cm9sbGVkID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGlzQ29udHJvbGxlZChwcm9wcykge1xuICB2YXIgdXNlc0NoZWNrZWQgPSBwcm9wcy50eXBlID09PSAnY2hlY2tib3gnIHx8IHByb3BzLnR5cGUgPT09ICdyYWRpbyc7XG4gIHJldHVybiB1c2VzQ2hlY2tlZCA/IHByb3BzLmNoZWNrZWQgIT0gbnVsbCA6IHByb3BzLnZhbHVlICE9IG51bGw7XG59XG5cbi8qKlxuICogSW1wbGVtZW50cyBhbiA8aW5wdXQ+IGhvc3QgY29tcG9uZW50IHRoYXQgYWxsb3dzIHNldHRpbmcgdGhlc2Ugb3B0aW9uYWxcbiAqIHByb3BzOiBgY2hlY2tlZGAsIGB2YWx1ZWAsIGBkZWZhdWx0Q2hlY2tlZGAsIGFuZCBgZGVmYXVsdFZhbHVlYC5cbiAqXG4gKiBJZiBgY2hlY2tlZGAgb3IgYHZhbHVlYCBhcmUgbm90IHN1cHBsaWVkIChvciBudWxsL3VuZGVmaW5lZCksIHVzZXIgYWN0aW9uc1xuICogdGhhdCBhZmZlY3QgdGhlIGNoZWNrZWQgc3RhdGUgb3IgdmFsdWUgd2lsbCB0cmlnZ2VyIHVwZGF0ZXMgdG8gdGhlIGVsZW1lbnQuXG4gKlxuICogSWYgdGhleSBhcmUgc3VwcGxpZWQgKGFuZCBub3QgbnVsbC91bmRlZmluZWQpLCB0aGUgcmVuZGVyZWQgZWxlbWVudCB3aWxsIG5vdFxuICogdHJpZ2dlciB1cGRhdGVzIHRvIHRoZSBlbGVtZW50LiBJbnN0ZWFkLCB0aGUgcHJvcHMgbXVzdCBjaGFuZ2UgaW4gb3JkZXIgZm9yXG4gKiB0aGUgcmVuZGVyZWQgZWxlbWVudCB0byBiZSB1cGRhdGVkLlxuICpcbiAqIFRoZSByZW5kZXJlZCBlbGVtZW50IHdpbGwgYmUgaW5pdGlhbGl6ZWQgYXMgdW5jaGVja2VkIChvciBgZGVmYXVsdENoZWNrZWRgKVxuICogd2l0aCBhbiBlbXB0eSB2YWx1ZSAob3IgYGRlZmF1bHRWYWx1ZWApLlxuICpcbiAqIFNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDEyL1dELWh0bWw1LTIwMTIxMDI1L3RoZS1pbnB1dC1lbGVtZW50Lmh0bWxcbiAqL1xuXG5mdW5jdGlvbiBnZXRIb3N0UHJvcHMoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuICB2YXIgY2hlY2tlZCA9IHByb3BzLmNoZWNrZWQ7XG5cbiAgdmFyIGhvc3RQcm9wcyA9IF9hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgZGVmYXVsdENoZWNrZWQ6IHVuZGVmaW5lZCxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZCxcbiAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgIGNoZWNrZWQ6IGNoZWNrZWQgIT0gbnVsbCA/IGNoZWNrZWQgOiBub2RlLl93cmFwcGVyU3RhdGUuaW5pdGlhbENoZWNrZWRcbiAgfSk7XG5cbiAgcmV0dXJuIGhvc3RQcm9wcztcbn1cblxuZnVuY3Rpb24gaW5pdFdyYXBwZXJTdGF0ZShlbGVtZW50LCBwcm9wcykge1xuICB7XG4gICAgUmVhY3RDb250cm9sbGVkVmFsdWVQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoJ2lucHV0JywgcHJvcHMsIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0pO1xuXG4gICAgaWYgKHByb3BzLmNoZWNrZWQgIT09IHVuZGVmaW5lZCAmJiBwcm9wcy5kZWZhdWx0Q2hlY2tlZCAhPT0gdW5kZWZpbmVkICYmICFkaWRXYXJuQ2hlY2tlZERlZmF1bHRDaGVja2VkKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnJXMgY29udGFpbnMgYW4gaW5wdXQgb2YgdHlwZSAlcyB3aXRoIGJvdGggY2hlY2tlZCBhbmQgZGVmYXVsdENoZWNrZWQgcHJvcHMuICcgKyAnSW5wdXQgZWxlbWVudHMgbXVzdCBiZSBlaXRoZXIgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgJyArICcoc3BlY2lmeSBlaXRoZXIgdGhlIGNoZWNrZWQgcHJvcCwgb3IgdGhlIGRlZmF1bHRDaGVja2VkIHByb3AsIGJ1dCBub3QgJyArICdib3RoKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBpbnB1dCAnICsgJ2VsZW1lbnQgYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuIE1vcmUgaW5mbzogJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWNvbnRyb2xsZWQtY29tcG9uZW50cycsIGdldEN1cnJlbnRGaWJlck93bmVyTmFtZSgpIHx8ICdBIGNvbXBvbmVudCcsIHByb3BzLnR5cGUpO1xuICAgICAgZGlkV2FybkNoZWNrZWREZWZhdWx0Q2hlY2tlZCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChwcm9wcy52YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHByb3BzLmRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkICYmICFkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICclcyBjb250YWlucyBhbiBpbnB1dCBvZiB0eXBlICVzIHdpdGggYm90aCB2YWx1ZSBhbmQgZGVmYXVsdFZhbHVlIHByb3BzLiAnICsgJ0lucHV0IGVsZW1lbnRzIG11c3QgYmUgZWl0aGVyIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkICcgKyAnKHNwZWNpZnkgZWl0aGVyIHRoZSB2YWx1ZSBwcm9wLCBvciB0aGUgZGVmYXVsdFZhbHVlIHByb3AsIGJ1dCBub3QgJyArICdib3RoKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBpbnB1dCAnICsgJ2VsZW1lbnQgYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuIE1vcmUgaW5mbzogJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWNvbnRyb2xsZWQtY29tcG9uZW50cycsIGdldEN1cnJlbnRGaWJlck93bmVyTmFtZSgpIHx8ICdBIGNvbXBvbmVudCcsIHByb3BzLnR5cGUpO1xuICAgICAgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICB2YXIgbm9kZSA9IGVsZW1lbnQ7XG4gIHZhciBkZWZhdWx0VmFsdWUgPSBwcm9wcy5kZWZhdWx0VmFsdWUgPT0gbnVsbCA/ICcnIDogcHJvcHMuZGVmYXVsdFZhbHVlO1xuXG4gIG5vZGUuX3dyYXBwZXJTdGF0ZSA9IHtcbiAgICBpbml0aWFsQ2hlY2tlZDogcHJvcHMuY2hlY2tlZCAhPSBudWxsID8gcHJvcHMuY2hlY2tlZCA6IHByb3BzLmRlZmF1bHRDaGVja2VkLFxuICAgIGluaXRpYWxWYWx1ZTogZ2V0U2FmZVZhbHVlKHByb3BzLnZhbHVlICE9IG51bGwgPyBwcm9wcy52YWx1ZSA6IGRlZmF1bHRWYWx1ZSksXG4gICAgY29udHJvbGxlZDogaXNDb250cm9sbGVkKHByb3BzKVxuICB9O1xufVxuXG5mdW5jdGlvbiB1cGRhdGVDaGVja2VkKGVsZW1lbnQsIHByb3BzKSB7XG4gIHZhciBub2RlID0gZWxlbWVudDtcbiAgdmFyIGNoZWNrZWQgPSBwcm9wcy5jaGVja2VkO1xuICBpZiAoY2hlY2tlZCAhPSBudWxsKSB7XG4gICAgc2V0VmFsdWVGb3JQcm9wZXJ0eShub2RlLCAnY2hlY2tlZCcsIGNoZWNrZWQsIGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVXcmFwcGVyKGVsZW1lbnQsIHByb3BzKSB7XG4gIHZhciBub2RlID0gZWxlbWVudDtcbiAge1xuICAgIHZhciBfY29udHJvbGxlZCA9IGlzQ29udHJvbGxlZChwcm9wcyk7XG5cbiAgICBpZiAoIW5vZGUuX3dyYXBwZXJTdGF0ZS5jb250cm9sbGVkICYmIF9jb250cm9sbGVkICYmICFkaWRXYXJuVW5jb250cm9sbGVkVG9Db250cm9sbGVkKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnQSBjb21wb25lbnQgaXMgY2hhbmdpbmcgYW4gdW5jb250cm9sbGVkIGlucHV0IG9mIHR5cGUgJXMgdG8gYmUgY29udHJvbGxlZC4gJyArICdJbnB1dCBlbGVtZW50cyBzaG91bGQgbm90IHN3aXRjaCBmcm9tIHVuY29udHJvbGxlZCB0byBjb250cm9sbGVkIChvciB2aWNlIHZlcnNhKS4gJyArICdEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIGlucHV0ICcgKyAnZWxlbWVudCBmb3IgdGhlIGxpZmV0aW1lIG9mIHRoZSBjb21wb25lbnQuIE1vcmUgaW5mbzogaHR0cHM6Ly9mYi5tZS9yZWFjdC1jb250cm9sbGVkLWNvbXBvbmVudHMlcycsIHByb3BzLnR5cGUsIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0oKSk7XG4gICAgICBkaWRXYXJuVW5jb250cm9sbGVkVG9Db250cm9sbGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG5vZGUuX3dyYXBwZXJTdGF0ZS5jb250cm9sbGVkICYmICFfY29udHJvbGxlZCAmJiAhZGlkV2FybkNvbnRyb2xsZWRUb1VuY29udHJvbGxlZCkge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ0EgY29tcG9uZW50IGlzIGNoYW5naW5nIGEgY29udHJvbGxlZCBpbnB1dCBvZiB0eXBlICVzIHRvIGJlIHVuY29udHJvbGxlZC4gJyArICdJbnB1dCBlbGVtZW50cyBzaG91bGQgbm90IHN3aXRjaCBmcm9tIGNvbnRyb2xsZWQgdG8gdW5jb250cm9sbGVkIChvciB2aWNlIHZlcnNhKS4gJyArICdEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIGlucHV0ICcgKyAnZWxlbWVudCBmb3IgdGhlIGxpZmV0aW1lIG9mIHRoZSBjb21wb25lbnQuIE1vcmUgaW5mbzogaHR0cHM6Ly9mYi5tZS9yZWFjdC1jb250cm9sbGVkLWNvbXBvbmVudHMlcycsIHByb3BzLnR5cGUsIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0oKSk7XG4gICAgICBkaWRXYXJuQ29udHJvbGxlZFRvVW5jb250cm9sbGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVDaGVja2VkKGVsZW1lbnQsIHByb3BzKTtcblxuICB2YXIgdmFsdWUgPSBnZXRTYWZlVmFsdWUocHJvcHMudmFsdWUpO1xuXG4gIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgaWYgKHByb3BzLnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICBpZiAodmFsdWUgPT09IDAgJiYgbm9kZS52YWx1ZSA9PT0gJycgfHxcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgbm9kZS52YWx1ZSAhPSB2YWx1ZSkge1xuICAgICAgICBub2RlLnZhbHVlID0gJycgKyB2YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG5vZGUudmFsdWUgIT09ICcnICsgdmFsdWUpIHtcbiAgICAgIG5vZGUudmFsdWUgPSAnJyArIHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIGlmIChwcm9wcy5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKSkge1xuICAgIHNldERlZmF1bHRWYWx1ZShub2RlLCBwcm9wcy50eXBlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkoJ2RlZmF1bHRWYWx1ZScpKSB7XG4gICAgc2V0RGVmYXVsdFZhbHVlKG5vZGUsIHByb3BzLnR5cGUsIGdldFNhZmVWYWx1ZShwcm9wcy5kZWZhdWx0VmFsdWUpKTtcbiAgfVxuXG4gIGlmIChwcm9wcy5jaGVja2VkID09IG51bGwgJiYgcHJvcHMuZGVmYXVsdENoZWNrZWQgIT0gbnVsbCkge1xuICAgIG5vZGUuZGVmYXVsdENoZWNrZWQgPSAhIXByb3BzLmRlZmF1bHRDaGVja2VkO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBvc3RNb3VudFdyYXBwZXIoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuXG4gIGlmIChwcm9wcy5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKSB8fCBwcm9wcy5oYXNPd25Qcm9wZXJ0eSgnZGVmYXVsdFZhbHVlJykpIHtcbiAgICAvLyBEbyBub3QgYXNzaWduIHZhbHVlIGlmIGl0IGlzIGFscmVhZHkgc2V0LiBUaGlzIHByZXZlbnRzIHVzZXIgdGV4dCBpbnB1dFxuICAgIC8vIGZyb20gYmVpbmcgbG9zdCBkdXJpbmcgU1NSIGh5ZHJhdGlvbi5cbiAgICBpZiAobm9kZS52YWx1ZSA9PT0gJycpIHtcbiAgICAgIG5vZGUudmFsdWUgPSAnJyArIG5vZGUuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWU7XG4gICAgfVxuXG4gICAgLy8gdmFsdWUgbXVzdCBiZSBhc3NpZ25lZCBiZWZvcmUgZGVmYXVsdFZhbHVlLiBUaGlzIGZpeGVzIGFuIGlzc3VlIHdoZXJlIHRoZVxuICAgIC8vIHZpc3VhbGx5IGRpc3BsYXllZCB2YWx1ZSBvZiBkYXRlIGlucHV0cyBkaXNhcHBlYXJzIG9uIG1vYmlsZSBTYWZhcmkgYW5kIENocm9tZTpcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzcyMzNcbiAgICBub2RlLmRlZmF1bHRWYWx1ZSA9ICcnICsgbm9kZS5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZTtcbiAgfVxuXG4gIC8vIE5vcm1hbGx5LCB3ZSdkIGp1c3QgZG8gYG5vZGUuY2hlY2tlZCA9IG5vZGUuY2hlY2tlZGAgdXBvbiBpbml0aWFsIG1vdW50LCBsZXNzIHRoaXMgYnVnXG4gIC8vIHRoaXMgaXMgbmVlZGVkIHRvIHdvcmsgYXJvdW5kIGEgY2hyb21lIGJ1ZyB3aGVyZSBzZXR0aW5nIGRlZmF1bHRDaGVja2VkXG4gIC8vIHdpbGwgc29tZXRpbWVzIGluZmx1ZW5jZSB0aGUgdmFsdWUgb2YgY2hlY2tlZCAoZXZlbiBhZnRlciBkZXRhY2htZW50KS5cbiAgLy8gUmVmZXJlbmNlOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD02MDg0MTZcbiAgLy8gV2UgbmVlZCB0byB0ZW1wb3JhcmlseSB1bnNldCBuYW1lIHRvIGF2b2lkIGRpc3J1cHRpbmcgcmFkaW8gYnV0dG9uIGdyb3Vwcy5cbiAgdmFyIG5hbWUgPSBub2RlLm5hbWU7XG4gIGlmIChuYW1lICE9PSAnJykge1xuICAgIG5vZGUubmFtZSA9ICcnO1xuICB9XG4gIG5vZGUuZGVmYXVsdENoZWNrZWQgPSAhbm9kZS5kZWZhdWx0Q2hlY2tlZDtcbiAgbm9kZS5kZWZhdWx0Q2hlY2tlZCA9ICFub2RlLmRlZmF1bHRDaGVja2VkO1xuICBpZiAobmFtZSAhPT0gJycpIHtcbiAgICBub2RlLm5hbWUgPSBuYW1lO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlc3RvcmVDb250cm9sbGVkU3RhdGUoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuICB1cGRhdGVXcmFwcGVyKG5vZGUsIHByb3BzKTtcbiAgdXBkYXRlTmFtZWRDb3VzaW5zKG5vZGUsIHByb3BzKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlTmFtZWRDb3VzaW5zKHJvb3ROb2RlLCBwcm9wcykge1xuICB2YXIgbmFtZSA9IHByb3BzLm5hbWU7XG4gIGlmIChwcm9wcy50eXBlID09PSAncmFkaW8nICYmIG5hbWUgIT0gbnVsbCkge1xuICAgIHZhciBxdWVyeVJvb3QgPSByb290Tm9kZTtcblxuICAgIHdoaWxlIChxdWVyeVJvb3QucGFyZW50Tm9kZSkge1xuICAgICAgcXVlcnlSb290ID0gcXVlcnlSb290LnBhcmVudE5vZGU7XG4gICAgfVxuXG4gICAgLy8gSWYgYHJvb3ROb2RlLmZvcm1gIHdhcyBub24tbnVsbCwgdGhlbiB3ZSBjb3VsZCB0cnkgYGZvcm0uZWxlbWVudHNgLFxuICAgIC8vIGJ1dCB0aGF0IHNvbWV0aW1lcyBiZWhhdmVzIHN0cmFuZ2VseSBpbiBJRTguIFdlIGNvdWxkIGFsc28gdHJ5IHVzaW5nXG4gICAgLy8gYGZvcm0uZ2V0RWxlbWVudHNCeU5hbWVgLCBidXQgdGhhdCB3aWxsIG9ubHkgcmV0dXJuIGRpcmVjdCBjaGlsZHJlblxuICAgIC8vIGFuZCB3b24ndCBpbmNsdWRlIGlucHV0cyB0aGF0IHVzZSB0aGUgSFRNTDUgYGZvcm09YCBhdHRyaWJ1dGUuIFNpbmNlXG4gICAgLy8gdGhlIGlucHV0IG1pZ2h0IG5vdCBldmVuIGJlIGluIGEgZm9ybS4gSXQgbWlnaHQgbm90IGV2ZW4gYmUgaW4gdGhlXG4gICAgLy8gZG9jdW1lbnQuIExldCdzIGp1c3QgdXNlIHRoZSBsb2NhbCBgcXVlcnlTZWxlY3RvckFsbGAgdG8gZW5zdXJlIHdlIGRvbid0XG4gICAgLy8gbWlzcyBhbnl0aGluZy5cbiAgICB2YXIgZ3JvdXAgPSBxdWVyeVJvb3QucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbbmFtZT0nICsgSlNPTi5zdHJpbmdpZnkoJycgKyBuYW1lKSArICddW3R5cGU9XCJyYWRpb1wiXScpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncm91cC5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG90aGVyTm9kZSA9IGdyb3VwW2ldO1xuICAgICAgaWYgKG90aGVyTm9kZSA9PT0gcm9vdE5vZGUgfHwgb3RoZXJOb2RlLmZvcm0gIT09IHJvb3ROb2RlLmZvcm0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgaWYgcmFkaW8gYnV0dG9ucyByZW5kZXJlZCBieSBkaWZmZXJlbnQgY29waWVzIG9mIFJlYWN0XG4gICAgICAvLyBhbmQgdGhlIHNhbWUgbmFtZSBhcmUgcmVuZGVyZWQgaW50byB0aGUgc2FtZSBmb3JtIChzYW1lIGFzICMxOTM5KS5cbiAgICAgIC8vIFRoYXQncyBwcm9iYWJseSBva2F5OyB3ZSBkb24ndCBzdXBwb3J0IGl0IGp1c3QgYXMgd2UgZG9uJ3Qgc3VwcG9ydFxuICAgICAgLy8gbWl4aW5nIFJlYWN0IHJhZGlvIGJ1dHRvbnMgd2l0aCBub24tUmVhY3Qgb25lcy5cbiAgICAgIHZhciBvdGhlclByb3BzID0gZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZSQxKG90aGVyTm9kZSk7XG4gICAgICAhb3RoZXJQcm9wcyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0RE9NSW5wdXQ6IE1peGluZyBSZWFjdCBhbmQgbm9uLVJlYWN0IHJhZGlvIGlucHV0cyB3aXRoIHRoZSBzYW1lIGBuYW1lYCBpcyBub3Qgc3VwcG9ydGVkLicpIDogdm9pZCAwO1xuXG4gICAgICAvLyBXZSBuZWVkIHVwZGF0ZSB0aGUgdHJhY2tlZCB2YWx1ZSBvbiB0aGUgbmFtZWQgY291c2luIHNpbmNlIHRoZSB2YWx1ZVxuICAgICAgLy8gd2FzIGNoYW5nZWQgYnV0IHRoZSBpbnB1dCBzYXcgbm8gZXZlbnQgb3IgdmFsdWUgc2V0XG4gICAgICB1cGRhdGVWYWx1ZUlmQ2hhbmdlZChvdGhlck5vZGUpO1xuXG4gICAgICAvLyBJZiB0aGlzIGlzIGEgY29udHJvbGxlZCByYWRpbyBidXR0b24gZ3JvdXAsIGZvcmNpbmcgdGhlIGlucHV0IHRoYXRcbiAgICAgIC8vIHdhcyBwcmV2aW91c2x5IGNoZWNrZWQgdG8gdXBkYXRlIHdpbGwgY2F1c2UgaXQgdG8gYmUgY29tZSByZS1jaGVja2VkXG4gICAgICAvLyBhcyBhcHByb3ByaWF0ZS5cbiAgICAgIHVwZGF0ZVdyYXBwZXIob3RoZXJOb2RlLCBvdGhlclByb3BzKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gSW4gQ2hyb21lLCBhc3NpZ25pbmcgZGVmYXVsdFZhbHVlIHRvIGNlcnRhaW4gaW5wdXQgdHlwZXMgdHJpZ2dlcnMgaW5wdXQgdmFsaWRhdGlvbi5cbi8vIEZvciBudW1iZXIgaW5wdXRzLCB0aGUgZGlzcGxheSB2YWx1ZSBsb3NlcyB0cmFpbGluZyBkZWNpbWFsIHBvaW50cy4gRm9yIGVtYWlsIGlucHV0cyxcbi8vIENocm9tZSByYWlzZXMgXCJUaGUgc3BlY2lmaWVkIHZhbHVlIDx4PiBpcyBub3QgYSB2YWxpZCBlbWFpbCBhZGRyZXNzXCIuXG4vL1xuLy8gSGVyZSB3ZSBjaGVjayB0byBzZWUgaWYgdGhlIGRlZmF1bHRWYWx1ZSBoYXMgYWN0dWFsbHkgY2hhbmdlZCwgYXZvaWRpbmcgdGhlc2UgcHJvYmxlbXNcbi8vIHdoZW4gdGhlIHVzZXIgaXMgaW5wdXR0aW5nIHRleHRcbi8vXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzcyNTNcbmZ1bmN0aW9uIHNldERlZmF1bHRWYWx1ZShub2RlLCB0eXBlLCB2YWx1ZSkge1xuICBpZiAoXG4gIC8vIEZvY3VzZWQgbnVtYmVyIGlucHV0cyBzeW5jaHJvbml6ZSBvbiBibHVyLiBTZWUgQ2hhbmdlRXZlbnRQbHVnaW4uanNcbiAgdHlwZSAhPT0gJ251bWJlcicgfHwgbm9kZS5vd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IG5vZGUpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgbm9kZS5kZWZhdWx0VmFsdWUgPSAnJyArIG5vZGUuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWU7XG4gICAgfSBlbHNlIGlmIChub2RlLmRlZmF1bHRWYWx1ZSAhPT0gJycgKyB2YWx1ZSkge1xuICAgICAgbm9kZS5kZWZhdWx0VmFsdWUgPSAnJyArIHZhbHVlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRTYWZlVmFsdWUodmFsdWUpIHtcbiAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICBjYXNlICdib29sZWFuJzpcbiAgICBjYXNlICdudW1iZXInOlxuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBmdW5jdGlvbiwgc3ltYm9sIGFyZSBhc3NpZ25lZCBhcyBlbXB0eSBzdHJpbmdzXG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn1cblxudmFyIGV2ZW50VHlwZXMkMSA9IHtcbiAgY2hhbmdlOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6ICdvbkNoYW5nZScsXG4gICAgICBjYXB0dXJlZDogJ29uQ2hhbmdlQ2FwdHVyZSdcbiAgICB9LFxuICAgIGRlcGVuZGVuY2llczogWyd0b3BCbHVyJywgJ3RvcENoYW5nZScsICd0b3BDbGljaycsICd0b3BGb2N1cycsICd0b3BJbnB1dCcsICd0b3BLZXlEb3duJywgJ3RvcEtleVVwJywgJ3RvcFNlbGVjdGlvbkNoYW5nZSddXG4gIH1cbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUFuZEFjY3VtdWxhdGVDaGFuZ2VFdmVudChpbnN0LCBuYXRpdmVFdmVudCwgdGFyZ2V0KSB7XG4gIHZhciBldmVudCA9IFN5bnRoZXRpY0V2ZW50JDEuZ2V0UG9vbGVkKGV2ZW50VHlwZXMkMS5jaGFuZ2UsIGluc3QsIG5hdGl2ZUV2ZW50LCB0YXJnZXQpO1xuICBldmVudC50eXBlID0gJ2NoYW5nZSc7XG4gIC8vIEZsYWcgdGhpcyBldmVudCBsb29wIGFzIG5lZWRpbmcgc3RhdGUgcmVzdG9yZS5cbiAgZW5xdWV1ZVN0YXRlUmVzdG9yZSh0YXJnZXQpO1xuICBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50KTtcbiAgcmV0dXJuIGV2ZW50O1xufVxuLyoqXG4gKiBGb3IgSUUgc2hpbXNcbiAqL1xudmFyIGFjdGl2ZUVsZW1lbnQgPSBudWxsO1xudmFyIGFjdGl2ZUVsZW1lbnRJbnN0ID0gbnVsbDtcblxuLyoqXG4gKiBTRUNUSU9OOiBoYW5kbGUgYGNoYW5nZWAgZXZlbnRcbiAqL1xuZnVuY3Rpb24gc2hvdWxkVXNlQ2hhbmdlRXZlbnQoZWxlbSkge1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuIG5vZGVOYW1lID09PSAnc2VsZWN0JyB8fCBub2RlTmFtZSA9PT0gJ2lucHV0JyAmJiBlbGVtLnR5cGUgPT09ICdmaWxlJztcbn1cblxuZnVuY3Rpb24gbWFudWFsRGlzcGF0Y2hDaGFuZ2VFdmVudChuYXRpdmVFdmVudCkge1xuICB2YXIgZXZlbnQgPSBjcmVhdGVBbmRBY2N1bXVsYXRlQ2hhbmdlRXZlbnQoYWN0aXZlRWxlbWVudEluc3QsIG5hdGl2ZUV2ZW50LCBnZXRFdmVudFRhcmdldChuYXRpdmVFdmVudCkpO1xuXG4gIC8vIElmIGNoYW5nZSBhbmQgcHJvcGVydHljaGFuZ2UgYnViYmxlZCwgd2UnZCBqdXN0IGJpbmQgdG8gaXQgbGlrZSBhbGwgdGhlXG4gIC8vIG90aGVyIGV2ZW50cyBhbmQgaGF2ZSBpdCBnbyB0aHJvdWdoIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci4gU2luY2UgaXRcbiAgLy8gZG9lc24ndCwgd2UgbWFudWFsbHkgbGlzdGVuIGZvciB0aGUgZXZlbnRzIGFuZCBzbyB3ZSBoYXZlIHRvIGVucXVldWUgYW5kXG4gIC8vIHByb2Nlc3MgdGhlIGFic3RyYWN0IGV2ZW50IG1hbnVhbGx5LlxuICAvL1xuICAvLyBCYXRjaGluZyBpcyBuZWNlc3NhcnkgaGVyZSBpbiBvcmRlciB0byBlbnN1cmUgdGhhdCBhbGwgZXZlbnQgaGFuZGxlcnMgcnVuXG4gIC8vIGJlZm9yZSB0aGUgbmV4dCByZXJlbmRlciAoaW5jbHVkaW5nIGV2ZW50IGhhbmRsZXJzIGF0dGFjaGVkIHRvIGFuY2VzdG9yXG4gIC8vIGVsZW1lbnRzIGluc3RlYWQgb2YgZGlyZWN0bHkgb24gdGhlIGlucHV0KS4gV2l0aG91dCB0aGlzLCBjb250cm9sbGVkXG4gIC8vIGNvbXBvbmVudHMgZG9uJ3Qgd29yayBwcm9wZXJseSBpbiBjb25qdW5jdGlvbiB3aXRoIGV2ZW50IGJ1YmJsaW5nIGJlY2F1c2VcbiAgLy8gdGhlIGNvbXBvbmVudCBpcyByZXJlbmRlcmVkIGFuZCB0aGUgdmFsdWUgcmV2ZXJ0ZWQgYmVmb3JlIGFsbCB0aGUgZXZlbnRcbiAgLy8gaGFuZGxlcnMgY2FuIHJ1bi4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvNzA4LlxuICBiYXRjaGVkVXBkYXRlcyhydW5FdmVudEluQmF0Y2gsIGV2ZW50KTtcbn1cblxuZnVuY3Rpb24gcnVuRXZlbnRJbkJhdGNoKGV2ZW50KSB7XG4gIHJ1bkV2ZW50c0luQmF0Y2goZXZlbnQsIGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gZ2V0SW5zdElmVmFsdWVDaGFuZ2VkKHRhcmdldEluc3QpIHtcbiAgdmFyIHRhcmdldE5vZGUgPSBnZXROb2RlRnJvbUluc3RhbmNlJDEodGFyZ2V0SW5zdCk7XG4gIGlmICh1cGRhdGVWYWx1ZUlmQ2hhbmdlZCh0YXJnZXROb2RlKSkge1xuICAgIHJldHVybiB0YXJnZXRJbnN0O1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFRhcmdldEluc3RGb3JDaGFuZ2VFdmVudCh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QpIHtcbiAgaWYgKHRvcExldmVsVHlwZSA9PT0gJ3RvcENoYW5nZScpIHtcbiAgICByZXR1cm4gdGFyZ2V0SW5zdDtcbiAgfVxufVxuXG4vKipcbiAqIFNFQ1RJT046IGhhbmRsZSBgaW5wdXRgIGV2ZW50XG4gKi9cbnZhciBpc0lucHV0RXZlbnRTdXBwb3J0ZWQgPSBmYWxzZTtcbmlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgLy8gSUU5IGNsYWltcyB0byBzdXBwb3J0IHRoZSBpbnB1dCBldmVudCBidXQgZmFpbHMgdG8gdHJpZ2dlciBpdCB3aGVuXG4gIC8vIGRlbGV0aW5nIHRleHQsIHNvIHdlIGlnbm9yZSBpdHMgaW5wdXQgZXZlbnRzLlxuICBpc0lucHV0RXZlbnRTdXBwb3J0ZWQgPSBpc0V2ZW50U3VwcG9ydGVkKCdpbnB1dCcpICYmICghZG9jdW1lbnQuZG9jdW1lbnRNb2RlIHx8IGRvY3VtZW50LmRvY3VtZW50TW9kZSA+IDkpO1xufVxuXG4vKipcbiAqIChGb3IgSUUgPD05KSBTdGFydHMgdHJhY2tpbmcgcHJvcGVydHljaGFuZ2UgZXZlbnRzIG9uIHRoZSBwYXNzZWQtaW4gZWxlbWVudFxuICogYW5kIG92ZXJyaWRlIHRoZSB2YWx1ZSBwcm9wZXJ0eSBzbyB0aGF0IHdlIGNhbiBkaXN0aW5ndWlzaCB1c2VyIGV2ZW50cyBmcm9tXG4gKiB2YWx1ZSBjaGFuZ2VzIGluIEpTLlxuICovXG5mdW5jdGlvbiBzdGFydFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UodGFyZ2V0LCB0YXJnZXRJbnN0KSB7XG4gIGFjdGl2ZUVsZW1lbnQgPSB0YXJnZXQ7XG4gIGFjdGl2ZUVsZW1lbnRJbnN0ID0gdGFyZ2V0SW5zdDtcbiAgYWN0aXZlRWxlbWVudC5hdHRhY2hFdmVudCgnb25wcm9wZXJ0eWNoYW5nZScsIGhhbmRsZVByb3BlcnR5Q2hhbmdlKTtcbn1cblxuLyoqXG4gKiAoRm9yIElFIDw9OSkgUmVtb3ZlcyB0aGUgZXZlbnQgbGlzdGVuZXJzIGZyb20gdGhlIGN1cnJlbnRseS10cmFja2VkIGVsZW1lbnQsXG4gKiBpZiBhbnkgZXhpc3RzLlxuICovXG5mdW5jdGlvbiBzdG9wV2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSgpIHtcbiAgaWYgKCFhY3RpdmVFbGVtZW50KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGFjdGl2ZUVsZW1lbnQuZGV0YWNoRXZlbnQoJ29ucHJvcGVydHljaGFuZ2UnLCBoYW5kbGVQcm9wZXJ0eUNoYW5nZSk7XG4gIGFjdGl2ZUVsZW1lbnQgPSBudWxsO1xuICBhY3RpdmVFbGVtZW50SW5zdCA9IG51bGw7XG59XG5cbi8qKlxuICogKEZvciBJRSA8PTkpIEhhbmRsZXMgYSBwcm9wZXJ0eWNoYW5nZSBldmVudCwgc2VuZGluZyBhIGBjaGFuZ2VgIGV2ZW50IGlmXG4gKiB0aGUgdmFsdWUgb2YgdGhlIGFjdGl2ZSBlbGVtZW50IGhhcyBjaGFuZ2VkLlxuICovXG5mdW5jdGlvbiBoYW5kbGVQcm9wZXJ0eUNoYW5nZShuYXRpdmVFdmVudCkge1xuICBpZiAobmF0aXZlRXZlbnQucHJvcGVydHlOYW1lICE9PSAndmFsdWUnKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChnZXRJbnN0SWZWYWx1ZUNoYW5nZWQoYWN0aXZlRWxlbWVudEluc3QpKSB7XG4gICAgbWFudWFsRGlzcGF0Y2hDaGFuZ2VFdmVudChuYXRpdmVFdmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlRXZlbnRzRm9ySW5wdXRFdmVudFBvbHlmaWxsKHRvcExldmVsVHlwZSwgdGFyZ2V0LCB0YXJnZXRJbnN0KSB7XG4gIGlmICh0b3BMZXZlbFR5cGUgPT09ICd0b3BGb2N1cycpIHtcbiAgICAvLyBJbiBJRTksIHByb3BlcnR5Y2hhbmdlIGZpcmVzIGZvciBtb3N0IGlucHV0IGV2ZW50cyBidXQgaXMgYnVnZ3kgYW5kXG4gICAgLy8gZG9lc24ndCBmaXJlIHdoZW4gdGV4dCBpcyBkZWxldGVkLCBidXQgY29udmVuaWVudGx5LCBzZWxlY3Rpb25jaGFuZ2VcbiAgICAvLyBhcHBlYXJzIHRvIGZpcmUgaW4gYWxsIG9mIHRoZSByZW1haW5pbmcgY2FzZXMgc28gd2UgY2F0Y2ggdGhvc2UgYW5kXG4gICAgLy8gZm9yd2FyZCB0aGUgZXZlbnQgaWYgdGhlIHZhbHVlIGhhcyBjaGFuZ2VkXG4gICAgLy8gSW4gZWl0aGVyIGNhc2UsIHdlIGRvbid0IHdhbnQgdG8gY2FsbCB0aGUgZXZlbnQgaGFuZGxlciBpZiB0aGUgdmFsdWVcbiAgICAvLyBpcyBjaGFuZ2VkIGZyb20gSlMgc28gd2UgcmVkZWZpbmUgYSBzZXR0ZXIgZm9yIGAudmFsdWVgIHRoYXQgdXBkYXRlc1xuICAgIC8vIG91ciBhY3RpdmVFbGVtZW50VmFsdWUgdmFyaWFibGUsIGFsbG93aW5nIHVzIHRvIGlnbm9yZSB0aG9zZSBjaGFuZ2VzXG4gICAgLy9cbiAgICAvLyBzdG9wV2F0Y2hpbmcoKSBzaG91bGQgYmUgYSBub29wIGhlcmUgYnV0IHdlIGNhbGwgaXQganVzdCBpbiBjYXNlIHdlXG4gICAgLy8gbWlzc2VkIGEgYmx1ciBldmVudCBzb21laG93LlxuICAgIHN0b3BXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlKCk7XG4gICAgc3RhcnRXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlKHRhcmdldCwgdGFyZ2V0SW5zdCk7XG4gIH0gZWxzZSBpZiAodG9wTGV2ZWxUeXBlID09PSAndG9wQmx1cicpIHtcbiAgICBzdG9wV2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSgpO1xuICB9XG59XG5cbi8vIEZvciBJRTggYW5kIElFOS5cbmZ1bmN0aW9uIGdldFRhcmdldEluc3RGb3JJbnB1dEV2ZW50UG9seWZpbGwodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0KSB7XG4gIGlmICh0b3BMZXZlbFR5cGUgPT09ICd0b3BTZWxlY3Rpb25DaGFuZ2UnIHx8IHRvcExldmVsVHlwZSA9PT0gJ3RvcEtleVVwJyB8fCB0b3BMZXZlbFR5cGUgPT09ICd0b3BLZXlEb3duJykge1xuICAgIC8vIE9uIHRoZSBzZWxlY3Rpb25jaGFuZ2UgZXZlbnQsIHRoZSB0YXJnZXQgaXMganVzdCBkb2N1bWVudCB3aGljaCBpc24ndFxuICAgIC8vIGhlbHBmdWwgZm9yIHVzIHNvIGp1c3QgY2hlY2sgYWN0aXZlRWxlbWVudCBpbnN0ZWFkLlxuICAgIC8vXG4gICAgLy8gOTklIG9mIHRoZSB0aW1lLCBrZXlkb3duIGFuZCBrZXl1cCBhcmVuJ3QgbmVjZXNzYXJ5LiBJRTggZmFpbHMgdG8gZmlyZVxuICAgIC8vIHByb3BlcnR5Y2hhbmdlIG9uIHRoZSBmaXJzdCBpbnB1dCBldmVudCBhZnRlciBzZXR0aW5nIGB2YWx1ZWAgZnJvbSBhXG4gICAgLy8gc2NyaXB0IGFuZCBmaXJlcyBvbmx5IGtleWRvd24sIGtleXByZXNzLCBrZXl1cC4gQ2F0Y2hpbmcga2V5dXAgdXN1YWxseVxuICAgIC8vIGdldHMgaXQgYW5kIGNhdGNoaW5nIGtleWRvd24gbGV0cyB1cyBmaXJlIGFuIGV2ZW50IGZvciB0aGUgZmlyc3RcbiAgICAvLyBrZXlzdHJva2UgaWYgdXNlciBkb2VzIGEga2V5IHJlcGVhdCAoaXQnbGwgYmUgYSBsaXR0bGUgZGVsYXllZDogcmlnaHRcbiAgICAvLyBiZWZvcmUgdGhlIHNlY29uZCBrZXlzdHJva2UpLiBPdGhlciBpbnB1dCBtZXRob2RzIChlLmcuLCBwYXN0ZSkgc2VlbSB0b1xuICAgIC8vIGZpcmUgc2VsZWN0aW9uY2hhbmdlIG5vcm1hbGx5LlxuICAgIHJldHVybiBnZXRJbnN0SWZWYWx1ZUNoYW5nZWQoYWN0aXZlRWxlbWVudEluc3QpO1xuICB9XG59XG5cbi8qKlxuICogU0VDVElPTjogaGFuZGxlIGBjbGlja2AgZXZlbnRcbiAqL1xuZnVuY3Rpb24gc2hvdWxkVXNlQ2xpY2tFdmVudChlbGVtKSB7XG4gIC8vIFVzZSB0aGUgYGNsaWNrYCBldmVudCB0byBkZXRlY3QgY2hhbmdlcyB0byBjaGVja2JveCBhbmQgcmFkaW8gaW5wdXRzLlxuICAvLyBUaGlzIGFwcHJvYWNoIHdvcmtzIGFjcm9zcyBhbGwgYnJvd3NlcnMsIHdoZXJlYXMgYGNoYW5nZWAgZG9lcyBub3QgZmlyZVxuICAvLyB1bnRpbCBgYmx1cmAgaW4gSUU4LlxuICB2YXIgbm9kZU5hbWUgPSBlbGVtLm5vZGVOYW1lO1xuICByZXR1cm4gbm9kZU5hbWUgJiYgbm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lucHV0JyAmJiAoZWxlbS50eXBlID09PSAnY2hlY2tib3gnIHx8IGVsZW0udHlwZSA9PT0gJ3JhZGlvJyk7XG59XG5cbmZ1bmN0aW9uIGdldFRhcmdldEluc3RGb3JDbGlja0V2ZW50KHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCkge1xuICBpZiAodG9wTGV2ZWxUeXBlID09PSAndG9wQ2xpY2snKSB7XG4gICAgcmV0dXJuIGdldEluc3RJZlZhbHVlQ2hhbmdlZCh0YXJnZXRJbnN0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRUYXJnZXRJbnN0Rm9ySW5wdXRPckNoYW5nZUV2ZW50KHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCkge1xuICBpZiAodG9wTGV2ZWxUeXBlID09PSAndG9wSW5wdXQnIHx8IHRvcExldmVsVHlwZSA9PT0gJ3RvcENoYW5nZScpIHtcbiAgICByZXR1cm4gZ2V0SW5zdElmVmFsdWVDaGFuZ2VkKHRhcmdldEluc3QpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNvbnRyb2xsZWRJbnB1dEJsdXIoaW5zdCwgbm9kZSkge1xuICAvLyBUT0RPOiBJbiBJRSwgaW5zdCBpcyBvY2Nhc2lvbmFsbHkgbnVsbC4gV2h5P1xuICBpZiAoaW5zdCA9PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRmliZXIgYW5kIFJlYWN0RE9NIGtlZXAgd3JhcHBlciBzdGF0ZSBpbiBzZXBhcmF0ZSBwbGFjZXNcbiAgdmFyIHN0YXRlID0gaW5zdC5fd3JhcHBlclN0YXRlIHx8IG5vZGUuX3dyYXBwZXJTdGF0ZTtcblxuICBpZiAoIXN0YXRlIHx8ICFzdGF0ZS5jb250cm9sbGVkIHx8IG5vZGUudHlwZSAhPT0gJ251bWJlcicpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBJZiBjb250cm9sbGVkLCBhc3NpZ24gdGhlIHZhbHVlIGF0dHJpYnV0ZSB0byB0aGUgY3VycmVudCB2YWx1ZSBvbiBibHVyXG4gIHNldERlZmF1bHRWYWx1ZShub2RlLCAnbnVtYmVyJywgbm9kZS52YWx1ZSk7XG59XG5cbi8qKlxuICogVGhpcyBwbHVnaW4gY3JlYXRlcyBhbiBgb25DaGFuZ2VgIGV2ZW50IHRoYXQgbm9ybWFsaXplcyBjaGFuZ2UgZXZlbnRzXG4gKiBhY3Jvc3MgZm9ybSBlbGVtZW50cy4gVGhpcyBldmVudCBmaXJlcyBhdCBhIHRpbWUgd2hlbiBpdCdzIHBvc3NpYmxlIHRvXG4gKiBjaGFuZ2UgdGhlIGVsZW1lbnQncyB2YWx1ZSB3aXRob3V0IHNlZWluZyBhIGZsaWNrZXIuXG4gKlxuICogU3VwcG9ydGVkIGVsZW1lbnRzIGFyZTpcbiAqIC0gaW5wdXQgKHNlZSBgaXNUZXh0SW5wdXRFbGVtZW50YClcbiAqIC0gdGV4dGFyZWFcbiAqIC0gc2VsZWN0XG4gKi9cbnZhciBDaGFuZ2VFdmVudFBsdWdpbiA9IHtcbiAgZXZlbnRUeXBlczogZXZlbnRUeXBlcyQxLFxuXG4gIF9pc0lucHV0RXZlbnRTdXBwb3J0ZWQ6IGlzSW5wdXRFdmVudFN1cHBvcnRlZCxcblxuICBleHRyYWN0RXZlbnRzOiBmdW5jdGlvbiAodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICB2YXIgdGFyZ2V0Tm9kZSA9IHRhcmdldEluc3QgPyBnZXROb2RlRnJvbUluc3RhbmNlJDEodGFyZ2V0SW5zdCkgOiB3aW5kb3c7XG5cbiAgICB2YXIgZ2V0VGFyZ2V0SW5zdEZ1bmMgPSB2b2lkIDAsXG4gICAgICAgIGhhbmRsZUV2ZW50RnVuYyA9IHZvaWQgMDtcbiAgICBpZiAoc2hvdWxkVXNlQ2hhbmdlRXZlbnQodGFyZ2V0Tm9kZSkpIHtcbiAgICAgIGdldFRhcmdldEluc3RGdW5jID0gZ2V0VGFyZ2V0SW5zdEZvckNoYW5nZUV2ZW50O1xuICAgIH0gZWxzZSBpZiAoaXNUZXh0SW5wdXRFbGVtZW50KHRhcmdldE5vZGUpKSB7XG4gICAgICBpZiAoaXNJbnB1dEV2ZW50U3VwcG9ydGVkKSB7XG4gICAgICAgIGdldFRhcmdldEluc3RGdW5jID0gZ2V0VGFyZ2V0SW5zdEZvcklucHV0T3JDaGFuZ2VFdmVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdldFRhcmdldEluc3RGdW5jID0gZ2V0VGFyZ2V0SW5zdEZvcklucHV0RXZlbnRQb2x5ZmlsbDtcbiAgICAgICAgaGFuZGxlRXZlbnRGdW5jID0gaGFuZGxlRXZlbnRzRm9ySW5wdXRFdmVudFBvbHlmaWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2hvdWxkVXNlQ2xpY2tFdmVudCh0YXJnZXROb2RlKSkge1xuICAgICAgZ2V0VGFyZ2V0SW5zdEZ1bmMgPSBnZXRUYXJnZXRJbnN0Rm9yQ2xpY2tFdmVudDtcbiAgICB9XG5cbiAgICBpZiAoZ2V0VGFyZ2V0SW5zdEZ1bmMpIHtcbiAgICAgIHZhciBpbnN0ID0gZ2V0VGFyZ2V0SW5zdEZ1bmModG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0KTtcbiAgICAgIGlmIChpbnN0KSB7XG4gICAgICAgIHZhciBldmVudCA9IGNyZWF0ZUFuZEFjY3VtdWxhdGVDaGFuZ2VFdmVudChpbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGhhbmRsZUV2ZW50RnVuYykge1xuICAgICAgaGFuZGxlRXZlbnRGdW5jKHRvcExldmVsVHlwZSwgdGFyZ2V0Tm9kZSwgdGFyZ2V0SW5zdCk7XG4gICAgfVxuXG4gICAgLy8gV2hlbiBibHVycmluZywgc2V0IHRoZSB2YWx1ZSBhdHRyaWJ1dGUgZm9yIG51bWJlciBpbnB1dHNcbiAgICBpZiAodG9wTGV2ZWxUeXBlID09PSAndG9wQmx1cicpIHtcbiAgICAgIGhhbmRsZUNvbnRyb2xsZWRJbnB1dEJsdXIodGFyZ2V0SW5zdCwgdGFyZ2V0Tm9kZSk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIE1vZHVsZSB0aGF0IGlzIGluamVjdGFibGUgaW50byBgRXZlbnRQbHVnaW5IdWJgLCB0aGF0IHNwZWNpZmllcyBhXG4gKiBkZXRlcm1pbmlzdGljIG9yZGVyaW5nIG9mIGBFdmVudFBsdWdpbmBzLiBBIGNvbnZlbmllbnQgd2F5IHRvIHJlYXNvbiBhYm91dFxuICogcGx1Z2lucywgd2l0aG91dCBoYXZpbmcgdG8gcGFja2FnZSBldmVyeSBvbmUgb2YgdGhlbS4gVGhpcyBpcyBiZXR0ZXIgdGhhblxuICogaGF2aW5nIHBsdWdpbnMgYmUgb3JkZXJlZCBpbiB0aGUgc2FtZSBvcmRlciB0aGF0IHRoZXkgYXJlIGluamVjdGVkIGJlY2F1c2VcbiAqIHRoYXQgb3JkZXJpbmcgd291bGQgYmUgaW5mbHVlbmNlZCBieSB0aGUgcGFja2FnaW5nIG9yZGVyLlxuICogYFJlc3BvbmRlckV2ZW50UGx1Z2luYCBtdXN0IG9jY3VyIGJlZm9yZSBgU2ltcGxlRXZlbnRQbHVnaW5gIHNvIHRoYXRcbiAqIHByZXZlbnRpbmcgZGVmYXVsdCBvbiBldmVudHMgaXMgY29udmVuaWVudCBpbiBgU2ltcGxlRXZlbnRQbHVnaW5gIGhhbmRsZXJzLlxuICovXG52YXIgRE9NRXZlbnRQbHVnaW5PcmRlciA9IFsnUmVzcG9uZGVyRXZlbnRQbHVnaW4nLCAnU2ltcGxlRXZlbnRQbHVnaW4nLCAnVGFwRXZlbnRQbHVnaW4nLCAnRW50ZXJMZWF2ZUV2ZW50UGx1Z2luJywgJ0NoYW5nZUV2ZW50UGx1Z2luJywgJ1NlbGVjdEV2ZW50UGx1Z2luJywgJ0JlZm9yZUlucHV0RXZlbnRQbHVnaW4nXTtcblxudmFyIFN5bnRoZXRpY1VJRXZlbnQgPSBTeW50aGV0aWNFdmVudCQxLmV4dGVuZCh7XG4gIHZpZXc6IG51bGwsXG4gIGRldGFpbDogbnVsbFxufSk7XG5cbi8qKlxuICogVHJhbnNsYXRpb24gZnJvbSBtb2RpZmllciBrZXkgdG8gdGhlIGFzc29jaWF0ZWQgcHJvcGVydHkgaW4gdGhlIGV2ZW50LlxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2tleXMtTW9kaWZpZXJzXG4gKi9cblxudmFyIG1vZGlmaWVyS2V5VG9Qcm9wID0ge1xuICBBbHQ6ICdhbHRLZXknLFxuICBDb250cm9sOiAnY3RybEtleScsXG4gIE1ldGE6ICdtZXRhS2V5JyxcbiAgU2hpZnQ6ICdzaGlmdEtleSdcbn07XG5cbi8vIElFOCBkb2VzIG5vdCBpbXBsZW1lbnQgZ2V0TW9kaWZpZXJTdGF0ZSBzbyB3ZSBzaW1wbHkgbWFwIGl0IHRvIHRoZSBvbmx5XG4vLyBtb2RpZmllciBrZXlzIGV4cG9zZWQgYnkgdGhlIGV2ZW50IGl0c2VsZiwgZG9lcyBub3Qgc3VwcG9ydCBMb2NrLWtleXMuXG4vLyBDdXJyZW50bHksIGFsbCBtYWpvciBicm93c2VycyBleGNlcHQgQ2hyb21lIHNlZW1zIHRvIHN1cHBvcnQgTG9jay1rZXlzLlxuZnVuY3Rpb24gbW9kaWZpZXJTdGF0ZUdldHRlcihrZXlBcmcpIHtcbiAgdmFyIHN5bnRoZXRpY0V2ZW50ID0gdGhpcztcbiAgdmFyIG5hdGl2ZUV2ZW50ID0gc3ludGhldGljRXZlbnQubmF0aXZlRXZlbnQ7XG4gIGlmIChuYXRpdmVFdmVudC5nZXRNb2RpZmllclN0YXRlKSB7XG4gICAgcmV0dXJuIG5hdGl2ZUV2ZW50LmdldE1vZGlmaWVyU3RhdGUoa2V5QXJnKTtcbiAgfVxuICB2YXIga2V5UHJvcCA9IG1vZGlmaWVyS2V5VG9Qcm9wW2tleUFyZ107XG4gIHJldHVybiBrZXlQcm9wID8gISFuYXRpdmVFdmVudFtrZXlQcm9wXSA6IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRFdmVudE1vZGlmaWVyU3RhdGUobmF0aXZlRXZlbnQpIHtcbiAgcmV0dXJuIG1vZGlmaWVyU3RhdGVHZXR0ZXI7XG59XG5cbi8qKlxuICogQGludGVyZmFjZSBNb3VzZUV2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy9cbiAqL1xudmFyIFN5bnRoZXRpY01vdXNlRXZlbnQgPSBTeW50aGV0aWNVSUV2ZW50LmV4dGVuZCh7XG4gIHNjcmVlblg6IG51bGwsXG4gIHNjcmVlblk6IG51bGwsXG4gIGNsaWVudFg6IG51bGwsXG4gIGNsaWVudFk6IG51bGwsXG4gIHBhZ2VYOiBudWxsLFxuICBwYWdlWTogbnVsbCxcbiAgY3RybEtleTogbnVsbCxcbiAgc2hpZnRLZXk6IG51bGwsXG4gIGFsdEtleTogbnVsbCxcbiAgbWV0YUtleTogbnVsbCxcbiAgZ2V0TW9kaWZpZXJTdGF0ZTogZ2V0RXZlbnRNb2RpZmllclN0YXRlLFxuICBidXR0b246IG51bGwsXG4gIGJ1dHRvbnM6IG51bGwsXG4gIHJlbGF0ZWRUYXJnZXQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHJldHVybiBldmVudC5yZWxhdGVkVGFyZ2V0IHx8IChldmVudC5mcm9tRWxlbWVudCA9PT0gZXZlbnQuc3JjRWxlbWVudCA/IGV2ZW50LnRvRWxlbWVudCA6IGV2ZW50LmZyb21FbGVtZW50KTtcbiAgfVxufSk7XG5cbnZhciBldmVudFR5cGVzJDIgPSB7XG4gIG1vdXNlRW50ZXI6IHtcbiAgICByZWdpc3RyYXRpb25OYW1lOiAnb25Nb3VzZUVudGVyJyxcbiAgICBkZXBlbmRlbmNpZXM6IFsndG9wTW91c2VPdXQnLCAndG9wTW91c2VPdmVyJ11cbiAgfSxcbiAgbW91c2VMZWF2ZToge1xuICAgIHJlZ2lzdHJhdGlvbk5hbWU6ICdvbk1vdXNlTGVhdmUnLFxuICAgIGRlcGVuZGVuY2llczogWyd0b3BNb3VzZU91dCcsICd0b3BNb3VzZU92ZXInXVxuICB9XG59O1xuXG52YXIgRW50ZXJMZWF2ZUV2ZW50UGx1Z2luID0ge1xuICBldmVudFR5cGVzOiBldmVudFR5cGVzJDIsXG5cbiAgLyoqXG4gICAqIEZvciBhbG1vc3QgZXZlcnkgaW50ZXJhY3Rpb24gd2UgY2FyZSBhYm91dCwgdGhlcmUgd2lsbCBiZSBib3RoIGEgdG9wLWxldmVsXG4gICAqIGBtb3VzZW92ZXJgIGFuZCBgbW91c2VvdXRgIGV2ZW50IHRoYXQgb2NjdXJzLiBPbmx5IHVzZSBgbW91c2VvdXRgIHNvIHRoYXRcbiAgICogd2UgZG8gbm90IGV4dHJhY3QgZHVwbGljYXRlIGV2ZW50cy4gSG93ZXZlciwgbW92aW5nIHRoZSBtb3VzZSBpbnRvIHRoZVxuICAgKiBicm93c2VyIGZyb20gb3V0c2lkZSB3aWxsIG5vdCBmaXJlIGEgYG1vdXNlb3V0YCBldmVudC4gSW4gdGhpcyBjYXNlLCB3ZSB1c2VcbiAgICogdGhlIGBtb3VzZW92ZXJgIHRvcC1sZXZlbCBldmVudC5cbiAgICovXG4gIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uICh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgIGlmICh0b3BMZXZlbFR5cGUgPT09ICd0b3BNb3VzZU92ZXInICYmIChuYXRpdmVFdmVudC5yZWxhdGVkVGFyZ2V0IHx8IG5hdGl2ZUV2ZW50LmZyb21FbGVtZW50KSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICh0b3BMZXZlbFR5cGUgIT09ICd0b3BNb3VzZU91dCcgJiYgdG9wTGV2ZWxUeXBlICE9PSAndG9wTW91c2VPdmVyJykge1xuICAgICAgLy8gTXVzdCBub3QgYmUgYSBtb3VzZSBpbiBvciBtb3VzZSBvdXQgLSBpZ25vcmluZy5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciB3aW4gPSB2b2lkIDA7XG4gICAgaWYgKG5hdGl2ZUV2ZW50VGFyZ2V0LndpbmRvdyA9PT0gbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICAgIC8vIGBuYXRpdmVFdmVudFRhcmdldGAgaXMgcHJvYmFibHkgYSB3aW5kb3cgb2JqZWN0LlxuICAgICAgd2luID0gbmF0aXZlRXZlbnRUYXJnZXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRPRE86IEZpZ3VyZSBvdXQgd2h5IGBvd25lckRvY3VtZW50YCBpcyBzb21ldGltZXMgdW5kZWZpbmVkIGluIElFOC5cbiAgICAgIHZhciBkb2MgPSBuYXRpdmVFdmVudFRhcmdldC5vd25lckRvY3VtZW50O1xuICAgICAgaWYgKGRvYykge1xuICAgICAgICB3aW4gPSBkb2MuZGVmYXVsdFZpZXcgfHwgZG9jLnBhcmVudFdpbmRvdztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbiA9IHdpbmRvdztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZnJvbSA9IHZvaWQgMDtcbiAgICB2YXIgdG8gPSB2b2lkIDA7XG4gICAgaWYgKHRvcExldmVsVHlwZSA9PT0gJ3RvcE1vdXNlT3V0Jykge1xuICAgICAgZnJvbSA9IHRhcmdldEluc3Q7XG4gICAgICB2YXIgcmVsYXRlZCA9IG5hdGl2ZUV2ZW50LnJlbGF0ZWRUYXJnZXQgfHwgbmF0aXZlRXZlbnQudG9FbGVtZW50O1xuICAgICAgdG8gPSByZWxhdGVkID8gZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUocmVsYXRlZCkgOiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBNb3ZpbmcgdG8gYSBub2RlIGZyb20gb3V0c2lkZSB0aGUgd2luZG93LlxuICAgICAgZnJvbSA9IG51bGw7XG4gICAgICB0byA9IHRhcmdldEluc3Q7XG4gICAgfVxuXG4gICAgaWYgKGZyb20gPT09IHRvKSB7XG4gICAgICAvLyBOb3RoaW5nIHBlcnRhaW5zIHRvIG91ciBtYW5hZ2VkIGNvbXBvbmVudHMuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgZnJvbU5vZGUgPSBmcm9tID09IG51bGwgPyB3aW4gOiBnZXROb2RlRnJvbUluc3RhbmNlJDEoZnJvbSk7XG4gICAgdmFyIHRvTm9kZSA9IHRvID09IG51bGwgPyB3aW4gOiBnZXROb2RlRnJvbUluc3RhbmNlJDEodG8pO1xuXG4gICAgdmFyIGxlYXZlID0gU3ludGhldGljTW91c2VFdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlcyQyLm1vdXNlTGVhdmUsIGZyb20sIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgbGVhdmUudHlwZSA9ICdtb3VzZWxlYXZlJztcbiAgICBsZWF2ZS50YXJnZXQgPSBmcm9tTm9kZTtcbiAgICBsZWF2ZS5yZWxhdGVkVGFyZ2V0ID0gdG9Ob2RlO1xuXG4gICAgdmFyIGVudGVyID0gU3ludGhldGljTW91c2VFdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlcyQyLm1vdXNlRW50ZXIsIHRvLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgIGVudGVyLnR5cGUgPSAnbW91c2VlbnRlcic7XG4gICAgZW50ZXIudGFyZ2V0ID0gdG9Ob2RlO1xuICAgIGVudGVyLnJlbGF0ZWRUYXJnZXQgPSBmcm9tTm9kZTtcblxuICAgIGFjY3VtdWxhdGVFbnRlckxlYXZlRGlzcGF0Y2hlcyhsZWF2ZSwgZW50ZXIsIGZyb20sIHRvKTtcblxuICAgIHJldHVybiBbbGVhdmUsIGVudGVyXTtcbiAgfVxufTtcblxuLyoqXG4gKiBgUmVhY3RJbnN0YW5jZU1hcGAgbWFpbnRhaW5zIGEgbWFwcGluZyBmcm9tIGEgcHVibGljIGZhY2luZyBzdGF0ZWZ1bFxuICogaW5zdGFuY2UgKGtleSkgYW5kIHRoZSBpbnRlcm5hbCByZXByZXNlbnRhdGlvbiAodmFsdWUpLiBUaGlzIGFsbG93cyBwdWJsaWNcbiAqIG1ldGhvZHMgdG8gYWNjZXB0IHRoZSB1c2VyIGZhY2luZyBpbnN0YW5jZSBhcyBhbiBhcmd1bWVudCBhbmQgbWFwIHRoZW0gYmFja1xuICogdG8gaW50ZXJuYWwgbWV0aG9kcy5cbiAqXG4gKiBOb3RlIHRoYXQgdGhpcyBtb2R1bGUgaXMgY3VycmVudGx5IHNoYXJlZCBhbmQgYXNzdW1lZCB0byBiZSBzdGF0ZWxlc3MuXG4gKiBJZiB0aGlzIGJlY29tZXMgYW4gYWN0dWFsIE1hcCwgdGhhdCB3aWxsIGJyZWFrLlxuICovXG5cbi8qKlxuICogVGhpcyBBUEkgc2hvdWxkIGJlIGNhbGxlZCBgZGVsZXRlYCBidXQgd2UnZCBoYXZlIHRvIG1ha2Ugc3VyZSB0byBhbHdheXNcbiAqIHRyYW5zZm9ybSB0aGVzZSB0byBzdHJpbmdzIGZvciBJRSBzdXBwb3J0LiBXaGVuIHRoaXMgdHJhbnNmb3JtIGlzIGZ1bGx5XG4gKiBzdXBwb3J0ZWQgd2UgY2FuIHJlbmFtZSBpdC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGdldChrZXkpIHtcbiAgcmV0dXJuIGtleS5fcmVhY3RJbnRlcm5hbEZpYmVyO1xufVxuXG5mdW5jdGlvbiBoYXMoa2V5KSB7XG4gIHJldHVybiBrZXkuX3JlYWN0SW50ZXJuYWxGaWJlciAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xuICBrZXkuX3JlYWN0SW50ZXJuYWxGaWJlciA9IHZhbHVlO1xufVxuXG4vLyBEb24ndCBjaGFuZ2UgdGhlc2UgdHdvIHZhbHVlcy4gVGhleSdyZSB1c2VkIGJ5IFJlYWN0IERldiBUb29scy5cbnZhciBOb0VmZmVjdCA9IC8qICAgICAgICAgICAgICAqLzA7XG52YXIgUGVyZm9ybWVkV29yayA9IC8qICAgICAgICAgKi8xO1xuXG4vLyBZb3UgY2FuIGNoYW5nZSB0aGUgcmVzdCAoYW5kIGFkZCBtb3JlKS5cbnZhciBQbGFjZW1lbnQgPSAvKiAgICAgICAgICAgICAqLzI7XG52YXIgVXBkYXRlID0gLyogICAgICAgICAgICAgICAgKi80O1xudmFyIFBsYWNlbWVudEFuZFVwZGF0ZSA9IC8qICAgICovNjtcbnZhciBEZWxldGlvbiA9IC8qICAgICAgICAgICAgICAqLzg7XG52YXIgQ29udGVudFJlc2V0ID0gLyogICAgICAgICAgKi8xNjtcbnZhciBDYWxsYmFjayA9IC8qICAgICAgICAgICAgICAqLzMyO1xudmFyIERpZENhcHR1cmUgPSAvKiAgICAgICAgICAgICovNjQ7XG52YXIgUmVmID0gLyogICAgICAgICAgICAgICAgICAgKi8xMjg7XG52YXIgRXJyTG9nID0gLyogICAgICAgICAgICAgICAgKi8yNTY7XG52YXIgU25hcHNob3QgPSAvKiAgICAgICAgICAgICAgKi8yMDQ4O1xuXG4vLyBVbmlvbiBvZiBhbGwgaG9zdCBlZmZlY3RzXG52YXIgSG9zdEVmZmVjdE1hc2sgPSAvKiAgICAgICAgKi8yNTU5O1xuXG52YXIgSW5jb21wbGV0ZSA9IC8qICAgICAgICAgICAgKi81MTI7XG52YXIgU2hvdWxkQ2FwdHVyZSA9IC8qICAgICAgICAgKi8xMDI0O1xuXG52YXIgTU9VTlRJTkcgPSAxO1xudmFyIE1PVU5URUQgPSAyO1xudmFyIFVOTU9VTlRFRCA9IDM7XG5cbmZ1bmN0aW9uIGlzRmliZXJNb3VudGVkSW1wbChmaWJlcikge1xuICB2YXIgbm9kZSA9IGZpYmVyO1xuICBpZiAoIWZpYmVyLmFsdGVybmF0ZSkge1xuICAgIC8vIElmIHRoZXJlIGlzIG5vIGFsdGVybmF0ZSwgdGhpcyBtaWdodCBiZSBhIG5ldyB0cmVlIHRoYXQgaXNuJ3QgaW5zZXJ0ZWRcbiAgICAvLyB5ZXQuIElmIGl0IGlzLCB0aGVuIGl0IHdpbGwgaGF2ZSBhIHBlbmRpbmcgaW5zZXJ0aW9uIGVmZmVjdCBvbiBpdC5cbiAgICBpZiAoKG5vZGUuZWZmZWN0VGFnICYgUGxhY2VtZW50KSAhPT0gTm9FZmZlY3QpIHtcbiAgICAgIHJldHVybiBNT1VOVElORztcbiAgICB9XG4gICAgd2hpbGUgKG5vZGVbJ3JldHVybiddKSB7XG4gICAgICBub2RlID0gbm9kZVsncmV0dXJuJ107XG4gICAgICBpZiAoKG5vZGUuZWZmZWN0VGFnICYgUGxhY2VtZW50KSAhPT0gTm9FZmZlY3QpIHtcbiAgICAgICAgcmV0dXJuIE1PVU5USU5HO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAobm9kZVsncmV0dXJuJ10pIHtcbiAgICAgIG5vZGUgPSBub2RlWydyZXR1cm4nXTtcbiAgICB9XG4gIH1cbiAgaWYgKG5vZGUudGFnID09PSBIb3N0Um9vdCkge1xuICAgIC8vIFRPRE86IENoZWNrIGlmIHRoaXMgd2FzIGEgbmVzdGVkIEhvc3RSb290IHdoZW4gdXNlZCB3aXRoXG4gICAgLy8gcmVuZGVyQ29udGFpbmVySW50b1N1YnRyZWUuXG4gICAgcmV0dXJuIE1PVU5URUQ7XG4gIH1cbiAgLy8gSWYgd2UgZGlkbid0IGhpdCB0aGUgcm9vdCwgdGhhdCBtZWFucyB0aGF0IHdlJ3JlIGluIGFuIGRpc2Nvbm5lY3RlZCB0cmVlXG4gIC8vIHRoYXQgaGFzIGJlZW4gdW5tb3VudGVkLlxuICByZXR1cm4gVU5NT1VOVEVEO1xufVxuXG5mdW5jdGlvbiBpc0ZpYmVyTW91bnRlZChmaWJlcikge1xuICByZXR1cm4gaXNGaWJlck1vdW50ZWRJbXBsKGZpYmVyKSA9PT0gTU9VTlRFRDtcbn1cblxuZnVuY3Rpb24gaXNNb3VudGVkKGNvbXBvbmVudCkge1xuICB7XG4gICAgdmFyIG93bmVyID0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudDtcbiAgICBpZiAob3duZXIgIT09IG51bGwgJiYgb3duZXIudGFnID09PSBDbGFzc0NvbXBvbmVudCkge1xuICAgICAgdmFyIG93bmVyRmliZXIgPSBvd25lcjtcbiAgICAgIHZhciBpbnN0YW5jZSA9IG93bmVyRmliZXIuc3RhdGVOb2RlO1xuICAgICAgd2FybmluZyhpbnN0YW5jZS5fd2FybmVkQWJvdXRSZWZzSW5SZW5kZXIsICclcyBpcyBhY2Nlc3NpbmcgaXNNb3VudGVkIGluc2lkZSBpdHMgcmVuZGVyKCkgZnVuY3Rpb24uICcgKyAncmVuZGVyKCkgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGUuIEl0IHNob3VsZCAnICsgJ25ldmVyIGFjY2VzcyBzb21ldGhpbmcgdGhhdCByZXF1aXJlcyBzdGFsZSBkYXRhIGZyb20gdGhlIHByZXZpb3VzICcgKyAncmVuZGVyLCBzdWNoIGFzIHJlZnMuIE1vdmUgdGhpcyBsb2dpYyB0byBjb21wb25lbnREaWRNb3VudCBhbmQgJyArICdjb21wb25lbnREaWRVcGRhdGUgaW5zdGVhZC4nLCBnZXRDb21wb25lbnROYW1lKG93bmVyRmliZXIpIHx8ICdBIGNvbXBvbmVudCcpO1xuICAgICAgaW5zdGFuY2UuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICB2YXIgZmliZXIgPSBnZXQoY29tcG9uZW50KTtcbiAgaWYgKCFmaWJlcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gaXNGaWJlck1vdW50ZWRJbXBsKGZpYmVyKSA9PT0gTU9VTlRFRDtcbn1cblxuZnVuY3Rpb24gYXNzZXJ0SXNNb3VudGVkKGZpYmVyKSB7XG4gICEoaXNGaWJlck1vdW50ZWRJbXBsKGZpYmVyKSA9PT0gTU9VTlRFRCkgPyBpbnZhcmlhbnQoZmFsc2UsICdVbmFibGUgdG8gZmluZCBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuJykgOiB2b2lkIDA7XG59XG5cbmZ1bmN0aW9uIGZpbmRDdXJyZW50RmliZXJVc2luZ1Nsb3dQYXRoKGZpYmVyKSB7XG4gIHZhciBhbHRlcm5hdGUgPSBmaWJlci5hbHRlcm5hdGU7XG4gIGlmICghYWx0ZXJuYXRlKSB7XG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gYWx0ZXJuYXRlLCB0aGVuIHdlIG9ubHkgbmVlZCB0byBjaGVjayBpZiBpdCBpcyBtb3VudGVkLlxuICAgIHZhciBzdGF0ZSA9IGlzRmliZXJNb3VudGVkSW1wbChmaWJlcik7XG4gICAgIShzdGF0ZSAhPT0gVU5NT1VOVEVEKSA/IGludmFyaWFudChmYWxzZSwgJ1VuYWJsZSB0byBmaW5kIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC4nKSA6IHZvaWQgMDtcbiAgICBpZiAoc3RhdGUgPT09IE1PVU5USU5HKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGZpYmVyO1xuICB9XG4gIC8vIElmIHdlIGhhdmUgdHdvIHBvc3NpYmxlIGJyYW5jaGVzLCB3ZSdsbCB3YWxrIGJhY2t3YXJkcyB1cCB0byB0aGUgcm9vdFxuICAvLyB0byBzZWUgd2hhdCBwYXRoIHRoZSByb290IHBvaW50cyB0by4gT24gdGhlIHdheSB3ZSBtYXkgaGl0IG9uZSBvZiB0aGVcbiAgLy8gc3BlY2lhbCBjYXNlcyBhbmQgd2UnbGwgZGVhbCB3aXRoIHRoZW0uXG4gIHZhciBhID0gZmliZXI7XG4gIHZhciBiID0gYWx0ZXJuYXRlO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIHZhciBwYXJlbnRBID0gYVsncmV0dXJuJ107XG4gICAgdmFyIHBhcmVudEIgPSBwYXJlbnRBID8gcGFyZW50QS5hbHRlcm5hdGUgOiBudWxsO1xuICAgIGlmICghcGFyZW50QSB8fCAhcGFyZW50Qikge1xuICAgICAgLy8gV2UncmUgYXQgdGhlIHJvb3QuXG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICAvLyBJZiBib3RoIGNvcGllcyBvZiB0aGUgcGFyZW50IGZpYmVyIHBvaW50IHRvIHRoZSBzYW1lIGNoaWxkLCB3ZSBjYW5cbiAgICAvLyBhc3N1bWUgdGhhdCB0aGUgY2hpbGQgaXMgY3VycmVudC4gVGhpcyBoYXBwZW5zIHdoZW4gd2UgYmFpbG91dCBvbiBsb3dcbiAgICAvLyBwcmlvcml0eTogdGhlIGJhaWxlZCBvdXQgZmliZXIncyBjaGlsZCByZXVzZXMgdGhlIGN1cnJlbnQgY2hpbGQuXG4gICAgaWYgKHBhcmVudEEuY2hpbGQgPT09IHBhcmVudEIuY2hpbGQpIHtcbiAgICAgIHZhciBjaGlsZCA9IHBhcmVudEEuY2hpbGQ7XG4gICAgICB3aGlsZSAoY2hpbGQpIHtcbiAgICAgICAgaWYgKGNoaWxkID09PSBhKSB7XG4gICAgICAgICAgLy8gV2UndmUgZGV0ZXJtaW5lZCB0aGF0IEEgaXMgdGhlIGN1cnJlbnQgYnJhbmNoLlxuICAgICAgICAgIGFzc2VydElzTW91bnRlZChwYXJlbnRBKTtcbiAgICAgICAgICByZXR1cm4gZmliZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoaWxkID09PSBiKSB7XG4gICAgICAgICAgLy8gV2UndmUgZGV0ZXJtaW5lZCB0aGF0IEIgaXMgdGhlIGN1cnJlbnQgYnJhbmNoLlxuICAgICAgICAgIGFzc2VydElzTW91bnRlZChwYXJlbnRBKTtcbiAgICAgICAgICByZXR1cm4gYWx0ZXJuYXRlO1xuICAgICAgICB9XG4gICAgICAgIGNoaWxkID0gY2hpbGQuc2libGluZztcbiAgICAgIH1cbiAgICAgIC8vIFdlIHNob3VsZCBuZXZlciBoYXZlIGFuIGFsdGVybmF0ZSBmb3IgYW55IG1vdW50aW5nIG5vZGUuIFNvIHRoZSBvbmx5XG4gICAgICAvLyB3YXkgdGhpcyBjb3VsZCBwb3NzaWJseSBoYXBwZW4gaXMgaWYgdGhpcyB3YXMgdW5tb3VudGVkLCBpZiBhdCBhbGwuXG4gICAgICBpbnZhcmlhbnQoZmFsc2UsICdVbmFibGUgdG8gZmluZCBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuJyk7XG4gICAgfVxuXG4gICAgaWYgKGFbJ3JldHVybiddICE9PSBiWydyZXR1cm4nXSkge1xuICAgICAgLy8gVGhlIHJldHVybiBwb2ludGVyIG9mIEEgYW5kIHRoZSByZXR1cm4gcG9pbnRlciBvZiBCIHBvaW50IHRvIGRpZmZlcmVudFxuICAgICAgLy8gZmliZXJzLiBXZSBhc3N1bWUgdGhhdCByZXR1cm4gcG9pbnRlcnMgbmV2ZXIgY3Jpc3MtY3Jvc3MsIHNvIEEgbXVzdFxuICAgICAgLy8gYmVsb25nIHRvIHRoZSBjaGlsZCBzZXQgb2YgQS5yZXR1cm4sIGFuZCBCIG11c3QgYmVsb25nIHRvIHRoZSBjaGlsZFxuICAgICAgLy8gc2V0IG9mIEIucmV0dXJuLlxuICAgICAgYSA9IHBhcmVudEE7XG4gICAgICBiID0gcGFyZW50QjtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhlIHJldHVybiBwb2ludGVycyBwb2ludCB0byB0aGUgc2FtZSBmaWJlci4gV2UnbGwgaGF2ZSB0byB1c2UgdGhlXG4gICAgICAvLyBkZWZhdWx0LCBzbG93IHBhdGg6IHNjYW4gdGhlIGNoaWxkIHNldHMgb2YgZWFjaCBwYXJlbnQgYWx0ZXJuYXRlIHRvIHNlZVxuICAgICAgLy8gd2hpY2ggY2hpbGQgYmVsb25ncyB0byB3aGljaCBzZXQuXG4gICAgICAvL1xuICAgICAgLy8gU2VhcmNoIHBhcmVudCBBJ3MgY2hpbGQgc2V0XG4gICAgICB2YXIgZGlkRmluZENoaWxkID0gZmFsc2U7XG4gICAgICB2YXIgX2NoaWxkID0gcGFyZW50QS5jaGlsZDtcbiAgICAgIHdoaWxlIChfY2hpbGQpIHtcbiAgICAgICAgaWYgKF9jaGlsZCA9PT0gYSkge1xuICAgICAgICAgIGRpZEZpbmRDaGlsZCA9IHRydWU7XG4gICAgICAgICAgYSA9IHBhcmVudEE7XG4gICAgICAgICAgYiA9IHBhcmVudEI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9jaGlsZCA9PT0gYikge1xuICAgICAgICAgIGRpZEZpbmRDaGlsZCA9IHRydWU7XG4gICAgICAgICAgYiA9IHBhcmVudEE7XG4gICAgICAgICAgYSA9IHBhcmVudEI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgX2NoaWxkID0gX2NoaWxkLnNpYmxpbmc7XG4gICAgICB9XG4gICAgICBpZiAoIWRpZEZpbmRDaGlsZCkge1xuICAgICAgICAvLyBTZWFyY2ggcGFyZW50IEIncyBjaGlsZCBzZXRcbiAgICAgICAgX2NoaWxkID0gcGFyZW50Qi5jaGlsZDtcbiAgICAgICAgd2hpbGUgKF9jaGlsZCkge1xuICAgICAgICAgIGlmIChfY2hpbGQgPT09IGEpIHtcbiAgICAgICAgICAgIGRpZEZpbmRDaGlsZCA9IHRydWU7XG4gICAgICAgICAgICBhID0gcGFyZW50QjtcbiAgICAgICAgICAgIGIgPSBwYXJlbnRBO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChfY2hpbGQgPT09IGIpIHtcbiAgICAgICAgICAgIGRpZEZpbmRDaGlsZCA9IHRydWU7XG4gICAgICAgICAgICBiID0gcGFyZW50QjtcbiAgICAgICAgICAgIGEgPSBwYXJlbnRBO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIF9jaGlsZCA9IF9jaGlsZC5zaWJsaW5nO1xuICAgICAgICB9XG4gICAgICAgICFkaWRGaW5kQ2hpbGQgPyBpbnZhcmlhbnQoZmFsc2UsICdDaGlsZCB3YXMgbm90IGZvdW5kIGluIGVpdGhlciBwYXJlbnQgc2V0LiBUaGlzIGluZGljYXRlcyBhIGJ1ZyBpbiBSZWFjdCByZWxhdGVkIHRvIHRoZSByZXR1cm4gcG9pbnRlci4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgIShhLmFsdGVybmF0ZSA9PT0gYikgPyBpbnZhcmlhbnQoZmFsc2UsICdSZXR1cm4gZmliZXJzIHNob3VsZCBhbHdheXMgYmUgZWFjaCBvdGhlcnNcXCcgYWx0ZXJuYXRlcy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgfVxuICAvLyBJZiB0aGUgcm9vdCBpcyBub3QgYSBob3N0IGNvbnRhaW5lciwgd2UncmUgaW4gYSBkaXNjb25uZWN0ZWQgdHJlZS4gSS5lLlxuICAvLyB1bm1vdW50ZWQuXG4gICEoYS50YWcgPT09IEhvc3RSb290KSA/IGludmFyaWFudChmYWxzZSwgJ1VuYWJsZSB0byBmaW5kIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC4nKSA6IHZvaWQgMDtcbiAgaWYgKGEuc3RhdGVOb2RlLmN1cnJlbnQgPT09IGEpIHtcbiAgICAvLyBXZSd2ZSBkZXRlcm1pbmVkIHRoYXQgQSBpcyB0aGUgY3VycmVudCBicmFuY2guXG4gICAgcmV0dXJuIGZpYmVyO1xuICB9XG4gIC8vIE90aGVyd2lzZSBCIGhhcyB0byBiZSBjdXJyZW50IGJyYW5jaC5cbiAgcmV0dXJuIGFsdGVybmF0ZTtcbn1cblxuZnVuY3Rpb24gZmluZEN1cnJlbnRIb3N0RmliZXIocGFyZW50KSB7XG4gIHZhciBjdXJyZW50UGFyZW50ID0gZmluZEN1cnJlbnRGaWJlclVzaW5nU2xvd1BhdGgocGFyZW50KTtcbiAgaWYgKCFjdXJyZW50UGFyZW50KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBOZXh0IHdlJ2xsIGRyaWxsIGRvd24gdGhpcyBjb21wb25lbnQgdG8gZmluZCB0aGUgZmlyc3QgSG9zdENvbXBvbmVudC9UZXh0LlxuICB2YXIgbm9kZSA9IGN1cnJlbnRQYXJlbnQ7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgaWYgKG5vZGUudGFnID09PSBIb3N0Q29tcG9uZW50IHx8IG5vZGUudGFnID09PSBIb3N0VGV4dCkge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSBlbHNlIGlmIChub2RlLmNoaWxkKSB7XG4gICAgICBub2RlLmNoaWxkWydyZXR1cm4nXSA9IG5vZGU7XG4gICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAobm9kZSA9PT0gY3VycmVudFBhcmVudCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHdoaWxlICghbm9kZS5zaWJsaW5nKSB7XG4gICAgICBpZiAoIW5vZGVbJ3JldHVybiddIHx8IG5vZGVbJ3JldHVybiddID09PSBjdXJyZW50UGFyZW50KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgbm9kZSA9IG5vZGVbJ3JldHVybiddO1xuICAgIH1cbiAgICBub2RlLnNpYmxpbmdbJ3JldHVybiddID0gbm9kZVsncmV0dXJuJ107XG4gICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgfVxuICAvLyBGbG93IG5lZWRzIHRoZSByZXR1cm4gbnVsbCBoZXJlLCBidXQgRVNMaW50IGNvbXBsYWlucyBhYm91dCBpdC5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVucmVhY2hhYmxlXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBmaW5kQ3VycmVudEhvc3RGaWJlcldpdGhOb1BvcnRhbHMocGFyZW50KSB7XG4gIHZhciBjdXJyZW50UGFyZW50ID0gZmluZEN1cnJlbnRGaWJlclVzaW5nU2xvd1BhdGgocGFyZW50KTtcbiAgaWYgKCFjdXJyZW50UGFyZW50KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBOZXh0IHdlJ2xsIGRyaWxsIGRvd24gdGhpcyBjb21wb25lbnQgdG8gZmluZCB0aGUgZmlyc3QgSG9zdENvbXBvbmVudC9UZXh0LlxuICB2YXIgbm9kZSA9IGN1cnJlbnRQYXJlbnQ7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgaWYgKG5vZGUudGFnID09PSBIb3N0Q29tcG9uZW50IHx8IG5vZGUudGFnID09PSBIb3N0VGV4dCkge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSBlbHNlIGlmIChub2RlLmNoaWxkICYmIG5vZGUudGFnICE9PSBIb3N0UG9ydGFsKSB7XG4gICAgICBub2RlLmNoaWxkWydyZXR1cm4nXSA9IG5vZGU7XG4gICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAobm9kZSA9PT0gY3VycmVudFBhcmVudCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHdoaWxlICghbm9kZS5zaWJsaW5nKSB7XG4gICAgICBpZiAoIW5vZGVbJ3JldHVybiddIHx8IG5vZGVbJ3JldHVybiddID09PSBjdXJyZW50UGFyZW50KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgbm9kZSA9IG5vZGVbJ3JldHVybiddO1xuICAgIH1cbiAgICBub2RlLnNpYmxpbmdbJ3JldHVybiddID0gbm9kZVsncmV0dXJuJ107XG4gICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgfVxuICAvLyBGbG93IG5lZWRzIHRoZSByZXR1cm4gbnVsbCBoZXJlLCBidXQgRVNMaW50IGNvbXBsYWlucyBhYm91dCBpdC5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVucmVhY2hhYmxlXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBhZGRFdmVudEJ1YmJsZUxpc3RlbmVyKGVsZW1lbnQsIGV2ZW50VHlwZSwgbGlzdGVuZXIpIHtcbiAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gYWRkRXZlbnRDYXB0dXJlTGlzdGVuZXIoZWxlbWVudCwgZXZlbnRUeXBlLCBsaXN0ZW5lcikge1xuICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBsaXN0ZW5lciwgdHJ1ZSk7XG59XG5cbi8qKlxuICogQGludGVyZmFjZSBFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLWFuaW1hdGlvbnMvI0FuaW1hdGlvbkV2ZW50LWludGVyZmFjZVxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQW5pbWF0aW9uRXZlbnRcbiAqL1xudmFyIFN5bnRoZXRpY0FuaW1hdGlvbkV2ZW50ID0gU3ludGhldGljRXZlbnQkMS5leHRlbmQoe1xuICBhbmltYXRpb25OYW1lOiBudWxsLFxuICBlbGFwc2VkVGltZTogbnVsbCxcbiAgcHNldWRvRWxlbWVudDogbnVsbFxufSk7XG5cbi8qKlxuICogQGludGVyZmFjZSBFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9jbGlwYm9hcmQtYXBpcy9cbiAqL1xudmFyIFN5bnRoZXRpY0NsaXBib2FyZEV2ZW50ID0gU3ludGhldGljRXZlbnQkMS5leHRlbmQoe1xuICBjbGlwYm9hcmREYXRhOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gJ2NsaXBib2FyZERhdGEnIGluIGV2ZW50ID8gZXZlbnQuY2xpcGJvYXJkRGF0YSA6IHdpbmRvdy5jbGlwYm9hcmREYXRhO1xuICB9XG59KTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIEZvY3VzRXZlbnRcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzL1xuICovXG52YXIgU3ludGhldGljRm9jdXNFdmVudCA9IFN5bnRoZXRpY1VJRXZlbnQuZXh0ZW5kKHtcbiAgcmVsYXRlZFRhcmdldDogbnVsbFxufSk7XG5cbi8qKlxuICogYGNoYXJDb2RlYCByZXByZXNlbnRzIHRoZSBhY3R1YWwgXCJjaGFyYWN0ZXIgY29kZVwiIGFuZCBpcyBzYWZlIHRvIHVzZSB3aXRoXG4gKiBgU3RyaW5nLmZyb21DaGFyQ29kZWAuIEFzIHN1Y2gsIG9ubHkga2V5cyB0aGF0IGNvcnJlc3BvbmQgdG8gcHJpbnRhYmxlXG4gKiBjaGFyYWN0ZXJzIHByb2R1Y2UgYSB2YWxpZCBgY2hhckNvZGVgLCB0aGUgb25seSBleGNlcHRpb24gdG8gdGhpcyBpcyBFbnRlci5cbiAqIFRoZSBUYWIta2V5IGlzIGNvbnNpZGVyZWQgbm9uLXByaW50YWJsZSBhbmQgZG9lcyBub3QgaGF2ZSBhIGBjaGFyQ29kZWAsXG4gKiBwcmVzdW1hYmx5IGJlY2F1c2UgaXQgZG9lcyBub3QgcHJvZHVjZSBhIHRhYi1jaGFyYWN0ZXIgaW4gYnJvd3NlcnMuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBOb3JtYWxpemVkIGBjaGFyQ29kZWAgcHJvcGVydHkuXG4gKi9cbmZ1bmN0aW9uIGdldEV2ZW50Q2hhckNvZGUobmF0aXZlRXZlbnQpIHtcbiAgdmFyIGNoYXJDb2RlID0gdm9pZCAwO1xuICB2YXIga2V5Q29kZSA9IG5hdGl2ZUV2ZW50LmtleUNvZGU7XG5cbiAgaWYgKCdjaGFyQ29kZScgaW4gbmF0aXZlRXZlbnQpIHtcbiAgICBjaGFyQ29kZSA9IG5hdGl2ZUV2ZW50LmNoYXJDb2RlO1xuXG4gICAgLy8gRkYgZG9lcyBub3Qgc2V0IGBjaGFyQ29kZWAgZm9yIHRoZSBFbnRlci1rZXksIGNoZWNrIGFnYWluc3QgYGtleUNvZGVgLlxuICAgIGlmIChjaGFyQ29kZSA9PT0gMCAmJiBrZXlDb2RlID09PSAxMykge1xuICAgICAgY2hhckNvZGUgPSAxMztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gSUU4IGRvZXMgbm90IGltcGxlbWVudCBgY2hhckNvZGVgLCBidXQgYGtleUNvZGVgIGhhcyB0aGUgY29ycmVjdCB2YWx1ZS5cbiAgICBjaGFyQ29kZSA9IGtleUNvZGU7XG4gIH1cblxuICAvLyBJRSBhbmQgRWRnZSAob24gV2luZG93cykgYW5kIENocm9tZSAvIFNhZmFyaSAob24gV2luZG93cyBhbmQgTGludXgpXG4gIC8vIHJlcG9ydCBFbnRlciBhcyBjaGFyQ29kZSAxMCB3aGVuIGN0cmwgaXMgcHJlc3NlZC5cbiAgaWYgKGNoYXJDb2RlID09PSAxMCkge1xuICAgIGNoYXJDb2RlID0gMTM7XG4gIH1cblxuICAvLyBTb21lIG5vbi1wcmludGFibGUga2V5cyBhcmUgcmVwb3J0ZWQgaW4gYGNoYXJDb2RlYC9ga2V5Q29kZWAsIGRpc2NhcmQgdGhlbS5cbiAgLy8gTXVzdCBub3QgZGlzY2FyZCB0aGUgKG5vbi0pcHJpbnRhYmxlIEVudGVyLWtleS5cbiAgaWYgKGNoYXJDb2RlID49IDMyIHx8IGNoYXJDb2RlID09PSAxMykge1xuICAgIHJldHVybiBjaGFyQ29kZTtcbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG4vKipcbiAqIE5vcm1hbGl6YXRpb24gb2YgZGVwcmVjYXRlZCBIVE1MNSBga2V5YCB2YWx1ZXNcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0tleWJvYXJkRXZlbnQjS2V5X25hbWVzXG4gKi9cbnZhciBub3JtYWxpemVLZXkgPSB7XG4gIEVzYzogJ0VzY2FwZScsXG4gIFNwYWNlYmFyOiAnICcsXG4gIExlZnQ6ICdBcnJvd0xlZnQnLFxuICBVcDogJ0Fycm93VXAnLFxuICBSaWdodDogJ0Fycm93UmlnaHQnLFxuICBEb3duOiAnQXJyb3dEb3duJyxcbiAgRGVsOiAnRGVsZXRlJyxcbiAgV2luOiAnT1MnLFxuICBNZW51OiAnQ29udGV4dE1lbnUnLFxuICBBcHBzOiAnQ29udGV4dE1lbnUnLFxuICBTY3JvbGw6ICdTY3JvbGxMb2NrJyxcbiAgTW96UHJpbnRhYmxlS2V5OiAnVW5pZGVudGlmaWVkJ1xufTtcblxuLyoqXG4gKiBUcmFuc2xhdGlvbiBmcm9tIGxlZ2FjeSBga2V5Q29kZWAgdG8gSFRNTDUgYGtleWBcbiAqIE9ubHkgc3BlY2lhbCBrZXlzIHN1cHBvcnRlZCwgYWxsIG90aGVycyBkZXBlbmQgb24ga2V5Ym9hcmQgbGF5b3V0IG9yIGJyb3dzZXJcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0tleWJvYXJkRXZlbnQjS2V5X25hbWVzXG4gKi9cbnZhciB0cmFuc2xhdGVUb0tleSA9IHtcbiAgJzgnOiAnQmFja3NwYWNlJyxcbiAgJzknOiAnVGFiJyxcbiAgJzEyJzogJ0NsZWFyJyxcbiAgJzEzJzogJ0VudGVyJyxcbiAgJzE2JzogJ1NoaWZ0JyxcbiAgJzE3JzogJ0NvbnRyb2wnLFxuICAnMTgnOiAnQWx0JyxcbiAgJzE5JzogJ1BhdXNlJyxcbiAgJzIwJzogJ0NhcHNMb2NrJyxcbiAgJzI3JzogJ0VzY2FwZScsXG4gICczMic6ICcgJyxcbiAgJzMzJzogJ1BhZ2VVcCcsXG4gICczNCc6ICdQYWdlRG93bicsXG4gICczNSc6ICdFbmQnLFxuICAnMzYnOiAnSG9tZScsXG4gICczNyc6ICdBcnJvd0xlZnQnLFxuICAnMzgnOiAnQXJyb3dVcCcsXG4gICczOSc6ICdBcnJvd1JpZ2h0JyxcbiAgJzQwJzogJ0Fycm93RG93bicsXG4gICc0NSc6ICdJbnNlcnQnLFxuICAnNDYnOiAnRGVsZXRlJyxcbiAgJzExMic6ICdGMScsXG4gICcxMTMnOiAnRjInLFxuICAnMTE0JzogJ0YzJyxcbiAgJzExNSc6ICdGNCcsXG4gICcxMTYnOiAnRjUnLFxuICAnMTE3JzogJ0Y2JyxcbiAgJzExOCc6ICdGNycsXG4gICcxMTknOiAnRjgnLFxuICAnMTIwJzogJ0Y5JyxcbiAgJzEyMSc6ICdGMTAnLFxuICAnMTIyJzogJ0YxMScsXG4gICcxMjMnOiAnRjEyJyxcbiAgJzE0NCc6ICdOdW1Mb2NrJyxcbiAgJzE0NSc6ICdTY3JvbGxMb2NrJyxcbiAgJzIyNCc6ICdNZXRhJ1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IE5vcm1hbGl6ZWQgYGtleWAgcHJvcGVydHkuXG4gKi9cbmZ1bmN0aW9uIGdldEV2ZW50S2V5KG5hdGl2ZUV2ZW50KSB7XG4gIGlmIChuYXRpdmVFdmVudC5rZXkpIHtcbiAgICAvLyBOb3JtYWxpemUgaW5jb25zaXN0ZW50IHZhbHVlcyByZXBvcnRlZCBieSBicm93c2VycyBkdWUgdG9cbiAgICAvLyBpbXBsZW1lbnRhdGlvbnMgb2YgYSB3b3JraW5nIGRyYWZ0IHNwZWNpZmljYXRpb24uXG5cbiAgICAvLyBGaXJlRm94IGltcGxlbWVudHMgYGtleWAgYnV0IHJldHVybnMgYE1velByaW50YWJsZUtleWAgZm9yIGFsbFxuICAgIC8vIHByaW50YWJsZSBjaGFyYWN0ZXJzIChub3JtYWxpemVkIHRvIGBVbmlkZW50aWZpZWRgKSwgaWdub3JlIGl0LlxuICAgIHZhciBrZXkgPSBub3JtYWxpemVLZXlbbmF0aXZlRXZlbnQua2V5XSB8fCBuYXRpdmVFdmVudC5rZXk7XG4gICAgaWYgKGtleSAhPT0gJ1VuaWRlbnRpZmllZCcpIHtcbiAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuICB9XG5cbiAgLy8gQnJvd3NlciBkb2VzIG5vdCBpbXBsZW1lbnQgYGtleWAsIHBvbHlmaWxsIGFzIG11Y2ggb2YgaXQgYXMgd2UgY2FuLlxuICBpZiAobmF0aXZlRXZlbnQudHlwZSA9PT0gJ2tleXByZXNzJykge1xuICAgIHZhciBjaGFyQ29kZSA9IGdldEV2ZW50Q2hhckNvZGUobmF0aXZlRXZlbnQpO1xuXG4gICAgLy8gVGhlIGVudGVyLWtleSBpcyB0ZWNobmljYWxseSBib3RoIHByaW50YWJsZSBhbmQgbm9uLXByaW50YWJsZSBhbmQgY2FuXG4gICAgLy8gdGh1cyBiZSBjYXB0dXJlZCBieSBga2V5cHJlc3NgLCBubyBvdGhlciBub24tcHJpbnRhYmxlIGtleSBzaG91bGQuXG4gICAgcmV0dXJuIGNoYXJDb2RlID09PSAxMyA/ICdFbnRlcicgOiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoYXJDb2RlKTtcbiAgfVxuICBpZiAobmF0aXZlRXZlbnQudHlwZSA9PT0gJ2tleWRvd24nIHx8IG5hdGl2ZUV2ZW50LnR5cGUgPT09ICdrZXl1cCcpIHtcbiAgICAvLyBXaGlsZSB1c2VyIGtleWJvYXJkIGxheW91dCBkZXRlcm1pbmVzIHRoZSBhY3R1YWwgbWVhbmluZyBvZiBlYWNoXG4gICAgLy8gYGtleUNvZGVgIHZhbHVlLCBhbG1vc3QgYWxsIGZ1bmN0aW9uIGtleXMgaGF2ZSBhIHVuaXZlcnNhbCB2YWx1ZS5cbiAgICByZXR1cm4gdHJhbnNsYXRlVG9LZXlbbmF0aXZlRXZlbnQua2V5Q29kZV0gfHwgJ1VuaWRlbnRpZmllZCc7XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIEBpbnRlcmZhY2UgS2V5Ym9hcmRFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvXG4gKi9cbnZhciBTeW50aGV0aWNLZXlib2FyZEV2ZW50ID0gU3ludGhldGljVUlFdmVudC5leHRlbmQoe1xuICBrZXk6IGdldEV2ZW50S2V5LFxuICBsb2NhdGlvbjogbnVsbCxcbiAgY3RybEtleTogbnVsbCxcbiAgc2hpZnRLZXk6IG51bGwsXG4gIGFsdEtleTogbnVsbCxcbiAgbWV0YUtleTogbnVsbCxcbiAgcmVwZWF0OiBudWxsLFxuICBsb2NhbGU6IG51bGwsXG4gIGdldE1vZGlmaWVyU3RhdGU6IGdldEV2ZW50TW9kaWZpZXJTdGF0ZSxcbiAgLy8gTGVnYWN5IEludGVyZmFjZVxuICBjaGFyQ29kZTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgLy8gYGNoYXJDb2RlYCBpcyB0aGUgcmVzdWx0IG9mIGEgS2V5UHJlc3MgZXZlbnQgYW5kIHJlcHJlc2VudHMgdGhlIHZhbHVlIG9mXG4gICAgLy8gdGhlIGFjdHVhbCBwcmludGFibGUgY2hhcmFjdGVyLlxuXG4gICAgLy8gS2V5UHJlc3MgaXMgZGVwcmVjYXRlZCwgYnV0IGl0cyByZXBsYWNlbWVudCBpcyBub3QgeWV0IGZpbmFsIGFuZCBub3RcbiAgICAvLyBpbXBsZW1lbnRlZCBpbiBhbnkgbWFqb3IgYnJvd3Nlci4gT25seSBLZXlQcmVzcyBoYXMgY2hhckNvZGUuXG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdrZXlwcmVzcycpIHtcbiAgICAgIHJldHVybiBnZXRFdmVudENoYXJDb2RlKGV2ZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH0sXG4gIGtleUNvZGU6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIC8vIGBrZXlDb2RlYCBpcyB0aGUgcmVzdWx0IG9mIGEgS2V5RG93bi9VcCBldmVudCBhbmQgcmVwcmVzZW50cyB0aGUgdmFsdWUgb2ZcbiAgICAvLyBwaHlzaWNhbCBrZXlib2FyZCBrZXkuXG5cbiAgICAvLyBUaGUgYWN0dWFsIG1lYW5pbmcgb2YgdGhlIHZhbHVlIGRlcGVuZHMgb24gdGhlIHVzZXJzJyBrZXlib2FyZCBsYXlvdXRcbiAgICAvLyB3aGljaCBjYW5ub3QgYmUgZGV0ZWN0ZWQuIEFzc3VtaW5nIHRoYXQgaXQgaXMgYSBVUyBrZXlib2FyZCBsYXlvdXRcbiAgICAvLyBwcm92aWRlcyBhIHN1cnByaXNpbmdseSBhY2N1cmF0ZSBtYXBwaW5nIGZvciBVUyBhbmQgRXVyb3BlYW4gdXNlcnMuXG4gICAgLy8gRHVlIHRvIHRoaXMsIGl0IGlzIGxlZnQgdG8gdGhlIHVzZXIgdG8gaW1wbGVtZW50IGF0IHRoaXMgdGltZS5cbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2tleWRvd24nIHx8IGV2ZW50LnR5cGUgPT09ICdrZXl1cCcpIHtcbiAgICAgIHJldHVybiBldmVudC5rZXlDb2RlO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfSxcbiAgd2hpY2g6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIC8vIGB3aGljaGAgaXMgYW4gYWxpYXMgZm9yIGVpdGhlciBga2V5Q29kZWAgb3IgYGNoYXJDb2RlYCBkZXBlbmRpbmcgb24gdGhlXG4gICAgLy8gdHlwZSBvZiB0aGUgZXZlbnQuXG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdrZXlwcmVzcycpIHtcbiAgICAgIHJldHVybiBnZXRFdmVudENoYXJDb2RlKGV2ZW50KTtcbiAgICB9XG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdrZXlkb3duJyB8fCBldmVudC50eXBlID09PSAna2V5dXAnKSB7XG4gICAgICByZXR1cm4gZXZlbnQua2V5Q29kZTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cbn0pO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgRHJhZ0V2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy9cbiAqL1xudmFyIFN5bnRoZXRpY0RyYWdFdmVudCA9IFN5bnRoZXRpY01vdXNlRXZlbnQuZXh0ZW5kKHtcbiAgZGF0YVRyYW5zZmVyOiBudWxsXG59KTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIFRvdWNoRXZlbnRcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvdG91Y2gtZXZlbnRzL1xuICovXG52YXIgU3ludGhldGljVG91Y2hFdmVudCA9IFN5bnRoZXRpY1VJRXZlbnQuZXh0ZW5kKHtcbiAgdG91Y2hlczogbnVsbCxcbiAgdGFyZ2V0VG91Y2hlczogbnVsbCxcbiAgY2hhbmdlZFRvdWNoZXM6IG51bGwsXG4gIGFsdEtleTogbnVsbCxcbiAgbWV0YUtleTogbnVsbCxcbiAgY3RybEtleTogbnVsbCxcbiAgc2hpZnRLZXk6IG51bGwsXG4gIGdldE1vZGlmaWVyU3RhdGU6IGdldEV2ZW50TW9kaWZpZXJTdGF0ZVxufSk7XG5cbi8qKlxuICogQGludGVyZmFjZSBFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDA5L1dELWNzczMtdHJhbnNpdGlvbnMtMjAwOTAzMjAvI3RyYW5zaXRpb24tZXZlbnRzLVxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVHJhbnNpdGlvbkV2ZW50XG4gKi9cbnZhciBTeW50aGV0aWNUcmFuc2l0aW9uRXZlbnQgPSBTeW50aGV0aWNFdmVudCQxLmV4dGVuZCh7XG4gIHByb3BlcnR5TmFtZTogbnVsbCxcbiAgZWxhcHNlZFRpbWU6IG51bGwsXG4gIHBzZXVkb0VsZW1lbnQ6IG51bGxcbn0pO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgV2hlZWxFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvXG4gKi9cbnZhciBTeW50aGV0aWNXaGVlbEV2ZW50ID0gU3ludGhldGljTW91c2VFdmVudC5leHRlbmQoe1xuICBkZWx0YVg6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHJldHVybiAnZGVsdGFYJyBpbiBldmVudCA/IGV2ZW50LmRlbHRhWCA6IC8vIEZhbGxiYWNrIHRvIGB3aGVlbERlbHRhWGAgZm9yIFdlYmtpdCBhbmQgbm9ybWFsaXplIChyaWdodCBpcyBwb3NpdGl2ZSkuXG4gICAgJ3doZWVsRGVsdGFYJyBpbiBldmVudCA/IC1ldmVudC53aGVlbERlbHRhWCA6IDA7XG4gIH0sXG4gIGRlbHRhWTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgcmV0dXJuICdkZWx0YVknIGluIGV2ZW50ID8gZXZlbnQuZGVsdGFZIDogLy8gRmFsbGJhY2sgdG8gYHdoZWVsRGVsdGFZYCBmb3IgV2Via2l0IGFuZCBub3JtYWxpemUgKGRvd24gaXMgcG9zaXRpdmUpLlxuICAgICd3aGVlbERlbHRhWScgaW4gZXZlbnQgPyAtZXZlbnQud2hlZWxEZWx0YVkgOiAvLyBGYWxsYmFjayB0byBgd2hlZWxEZWx0YWAgZm9yIElFPDkgYW5kIG5vcm1hbGl6ZSAoZG93biBpcyBwb3NpdGl2ZSkuXG4gICAgJ3doZWVsRGVsdGEnIGluIGV2ZW50ID8gLWV2ZW50LndoZWVsRGVsdGEgOiAwO1xuICB9LFxuXG4gIGRlbHRhWjogbnVsbCxcblxuICAvLyBCcm93c2VycyB3aXRob3V0IFwiZGVsdGFNb2RlXCIgaXMgcmVwb3J0aW5nIGluIHJhdyB3aGVlbCBkZWx0YSB3aGVyZSBvbmVcbiAgLy8gbm90Y2ggb24gdGhlIHNjcm9sbCBpcyBhbHdheXMgKy8tIDEyMCwgcm91Z2hseSBlcXVpdmFsZW50IHRvIHBpeGVscy5cbiAgLy8gQSBnb29kIGFwcHJveGltYXRpb24gb2YgRE9NX0RFTFRBX0xJTkUgKDEpIGlzIDUlIG9mIHZpZXdwb3J0IHNpemUgb3JcbiAgLy8gfjQwIHBpeGVscywgZm9yIERPTV9ERUxUQV9TQ1JFRU4gKDIpIGl0IGlzIDg3LjUlIG9mIHZpZXdwb3J0IHNpemUuXG4gIGRlbHRhTW9kZTogbnVsbFxufSk7XG5cbi8qKlxuICogVHVybnNcbiAqIFsnYWJvcnQnLCAuLi5dXG4gKiBpbnRvXG4gKiBldmVudFR5cGVzID0ge1xuICogICAnYWJvcnQnOiB7XG4gKiAgICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAqICAgICAgIGJ1YmJsZWQ6ICdvbkFib3J0JyxcbiAqICAgICAgIGNhcHR1cmVkOiAnb25BYm9ydENhcHR1cmUnLFxuICogICAgIH0sXG4gKiAgICAgZGVwZW5kZW5jaWVzOiBbJ3RvcEFib3J0J10sXG4gKiAgIH0sXG4gKiAgIC4uLlxuICogfTtcbiAqIHRvcExldmVsRXZlbnRzVG9EaXNwYXRjaENvbmZpZyA9IHtcbiAqICAgJ3RvcEFib3J0JzogeyBzYW1lQ29uZmlnIH1cbiAqIH07XG4gKi9cbnZhciBpbnRlcmFjdGl2ZUV2ZW50VHlwZU5hbWVzID0gWydibHVyJywgJ2NhbmNlbCcsICdjbGljaycsICdjbG9zZScsICdjb250ZXh0TWVudScsICdjb3B5JywgJ2N1dCcsICdkb3VibGVDbGljaycsICdkcmFnRW5kJywgJ2RyYWdTdGFydCcsICdkcm9wJywgJ2ZvY3VzJywgJ2lucHV0JywgJ2ludmFsaWQnLCAna2V5RG93bicsICdrZXlQcmVzcycsICdrZXlVcCcsICdtb3VzZURvd24nLCAnbW91c2VVcCcsICdwYXN0ZScsICdwYXVzZScsICdwbGF5JywgJ3JhdGVDaGFuZ2UnLCAncmVzZXQnLCAnc2Vla2VkJywgJ3N1Ym1pdCcsICd0b3VjaENhbmNlbCcsICd0b3VjaEVuZCcsICd0b3VjaFN0YXJ0JywgJ3ZvbHVtZUNoYW5nZSddO1xudmFyIG5vbkludGVyYWN0aXZlRXZlbnRUeXBlTmFtZXMgPSBbJ2Fib3J0JywgJ2FuaW1hdGlvbkVuZCcsICdhbmltYXRpb25JdGVyYXRpb24nLCAnYW5pbWF0aW9uU3RhcnQnLCAnY2FuUGxheScsICdjYW5QbGF5VGhyb3VnaCcsICdkcmFnJywgJ2RyYWdFbnRlcicsICdkcmFnRXhpdCcsICdkcmFnTGVhdmUnLCAnZHJhZ092ZXInLCAnZHVyYXRpb25DaGFuZ2UnLCAnZW1wdGllZCcsICdlbmNyeXB0ZWQnLCAnZW5kZWQnLCAnZXJyb3InLCAnbG9hZCcsICdsb2FkZWREYXRhJywgJ2xvYWRlZE1ldGFkYXRhJywgJ2xvYWRTdGFydCcsICdtb3VzZU1vdmUnLCAnbW91c2VPdXQnLCAnbW91c2VPdmVyJywgJ3BsYXlpbmcnLCAncHJvZ3Jlc3MnLCAnc2Nyb2xsJywgJ3NlZWtpbmcnLCAnc3RhbGxlZCcsICdzdXNwZW5kJywgJ3RpbWVVcGRhdGUnLCAndG9nZ2xlJywgJ3RvdWNoTW92ZScsICd0cmFuc2l0aW9uRW5kJywgJ3dhaXRpbmcnLCAnd2hlZWwnXTtcblxudmFyIGV2ZW50VHlwZXMkNCA9IHt9O1xudmFyIHRvcExldmVsRXZlbnRzVG9EaXNwYXRjaENvbmZpZyA9IHt9O1xuXG5mdW5jdGlvbiBhZGRFdmVudFR5cGVOYW1lVG9Db25maWcoZXZlbnQsIGlzSW50ZXJhY3RpdmUpIHtcbiAgdmFyIGNhcGl0YWxpemVkRXZlbnQgPSBldmVudFswXS50b1VwcGVyQ2FzZSgpICsgZXZlbnQuc2xpY2UoMSk7XG4gIHZhciBvbkV2ZW50ID0gJ29uJyArIGNhcGl0YWxpemVkRXZlbnQ7XG4gIHZhciB0b3BFdmVudCA9ICd0b3AnICsgY2FwaXRhbGl6ZWRFdmVudDtcblxuICB2YXIgdHlwZSA9IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDogb25FdmVudCxcbiAgICAgIGNhcHR1cmVkOiBvbkV2ZW50ICsgJ0NhcHR1cmUnXG4gICAgfSxcbiAgICBkZXBlbmRlbmNpZXM6IFt0b3BFdmVudF0sXG4gICAgaXNJbnRlcmFjdGl2ZTogaXNJbnRlcmFjdGl2ZVxuICB9O1xuICBldmVudFR5cGVzJDRbZXZlbnRdID0gdHlwZTtcbiAgdG9wTGV2ZWxFdmVudHNUb0Rpc3BhdGNoQ29uZmlnW3RvcEV2ZW50XSA9IHR5cGU7XG59XG5cbmludGVyYWN0aXZlRXZlbnRUeXBlTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnRUeXBlTmFtZSkge1xuICBhZGRFdmVudFR5cGVOYW1lVG9Db25maWcoZXZlbnRUeXBlTmFtZSwgdHJ1ZSk7XG59KTtcbm5vbkludGVyYWN0aXZlRXZlbnRUeXBlTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnRUeXBlTmFtZSkge1xuICBhZGRFdmVudFR5cGVOYW1lVG9Db25maWcoZXZlbnRUeXBlTmFtZSwgZmFsc2UpO1xufSk7XG5cbi8vIE9ubHkgdXNlZCBpbiBERVYgZm9yIGV4aGF1c3RpdmVuZXNzIHZhbGlkYXRpb24uXG52YXIga25vd25IVE1MVG9wTGV2ZWxUeXBlcyA9IFsndG9wQWJvcnQnLCAndG9wQ2FuY2VsJywgJ3RvcENhblBsYXknLCAndG9wQ2FuUGxheVRocm91Z2gnLCAndG9wQ2xvc2UnLCAndG9wRHVyYXRpb25DaGFuZ2UnLCAndG9wRW1wdGllZCcsICd0b3BFbmNyeXB0ZWQnLCAndG9wRW5kZWQnLCAndG9wRXJyb3InLCAndG9wSW5wdXQnLCAndG9wSW52YWxpZCcsICd0b3BMb2FkJywgJ3RvcExvYWRlZERhdGEnLCAndG9wTG9hZGVkTWV0YWRhdGEnLCAndG9wTG9hZFN0YXJ0JywgJ3RvcFBhdXNlJywgJ3RvcFBsYXknLCAndG9wUGxheWluZycsICd0b3BQcm9ncmVzcycsICd0b3BSYXRlQ2hhbmdlJywgJ3RvcFJlc2V0JywgJ3RvcFNlZWtlZCcsICd0b3BTZWVraW5nJywgJ3RvcFN0YWxsZWQnLCAndG9wU3VibWl0JywgJ3RvcFN1c3BlbmQnLCAndG9wVGltZVVwZGF0ZScsICd0b3BUb2dnbGUnLCAndG9wVm9sdW1lQ2hhbmdlJywgJ3RvcFdhaXRpbmcnXTtcblxudmFyIFNpbXBsZUV2ZW50UGx1Z2luID0ge1xuICBldmVudFR5cGVzOiBldmVudFR5cGVzJDQsXG5cbiAgaXNJbnRlcmFjdGl2ZVRvcExldmVsRXZlbnRUeXBlOiBmdW5jdGlvbiAodG9wTGV2ZWxUeXBlKSB7XG4gICAgdmFyIGNvbmZpZyA9IHRvcExldmVsRXZlbnRzVG9EaXNwYXRjaENvbmZpZ1t0b3BMZXZlbFR5cGVdO1xuICAgIHJldHVybiBjb25maWcgIT09IHVuZGVmaW5lZCAmJiBjb25maWcuaXNJbnRlcmFjdGl2ZSA9PT0gdHJ1ZTtcbiAgfSxcblxuXG4gIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uICh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgIHZhciBkaXNwYXRjaENvbmZpZyA9IHRvcExldmVsRXZlbnRzVG9EaXNwYXRjaENvbmZpZ1t0b3BMZXZlbFR5cGVdO1xuICAgIGlmICghZGlzcGF0Y2hDb25maWcpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgRXZlbnRDb25zdHJ1Y3RvciA9IHZvaWQgMDtcbiAgICBzd2l0Y2ggKHRvcExldmVsVHlwZSkge1xuICAgICAgY2FzZSAndG9wS2V5UHJlc3MnOlxuICAgICAgICAvLyBGaXJlZm94IGNyZWF0ZXMgYSBrZXlwcmVzcyBldmVudCBmb3IgZnVuY3Rpb24ga2V5cyB0b28uIFRoaXMgcmVtb3Zlc1xuICAgICAgICAvLyB0aGUgdW53YW50ZWQga2V5cHJlc3MgZXZlbnRzLiBFbnRlciBpcyBob3dldmVyIGJvdGggcHJpbnRhYmxlIGFuZFxuICAgICAgICAvLyBub24tcHJpbnRhYmxlLiBPbmUgd291bGQgZXhwZWN0IFRhYiB0byBiZSBhcyB3ZWxsIChidXQgaXQgaXNuJ3QpLlxuICAgICAgICBpZiAoZ2V0RXZlbnRDaGFyQ29kZShuYXRpdmVFdmVudCkgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSAndG9wS2V5RG93bic6XG4gICAgICBjYXNlICd0b3BLZXlVcCc6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNLZXlib2FyZEV2ZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RvcEJsdXInOlxuICAgICAgY2FzZSAndG9wRm9jdXMnOlxuICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljRm9jdXNFdmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0b3BDbGljayc6XG4gICAgICAgIC8vIEZpcmVmb3ggY3JlYXRlcyBhIGNsaWNrIGV2ZW50IG9uIHJpZ2h0IG1vdXNlIGNsaWNrcy4gVGhpcyByZW1vdmVzIHRoZVxuICAgICAgICAvLyB1bndhbnRlZCBjbGljayBldmVudHMuXG4gICAgICAgIGlmIChuYXRpdmVFdmVudC5idXR0b24gPT09IDIpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSAndG9wRG91YmxlQ2xpY2snOlxuICAgICAgY2FzZSAndG9wTW91c2VEb3duJzpcbiAgICAgIGNhc2UgJ3RvcE1vdXNlTW92ZSc6XG4gICAgICBjYXNlICd0b3BNb3VzZVVwJzpcbiAgICAgIC8vIFRPRE86IERpc2FibGVkIGVsZW1lbnRzIHNob3VsZCBub3QgcmVzcG9uZCB0byBtb3VzZSBldmVudHNcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgJ3RvcE1vdXNlT3V0JzpcbiAgICAgIGNhc2UgJ3RvcE1vdXNlT3Zlcic6XG4gICAgICBjYXNlICd0b3BDb250ZXh0TWVudSc6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNNb3VzZUV2ZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RvcERyYWcnOlxuICAgICAgY2FzZSAndG9wRHJhZ0VuZCc6XG4gICAgICBjYXNlICd0b3BEcmFnRW50ZXInOlxuICAgICAgY2FzZSAndG9wRHJhZ0V4aXQnOlxuICAgICAgY2FzZSAndG9wRHJhZ0xlYXZlJzpcbiAgICAgIGNhc2UgJ3RvcERyYWdPdmVyJzpcbiAgICAgIGNhc2UgJ3RvcERyYWdTdGFydCc6XG4gICAgICBjYXNlICd0b3BEcm9wJzpcbiAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY0RyYWdFdmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0b3BUb3VjaENhbmNlbCc6XG4gICAgICBjYXNlICd0b3BUb3VjaEVuZCc6XG4gICAgICBjYXNlICd0b3BUb3VjaE1vdmUnOlxuICAgICAgY2FzZSAndG9wVG91Y2hTdGFydCc6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNUb3VjaEV2ZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RvcEFuaW1hdGlvbkVuZCc6XG4gICAgICBjYXNlICd0b3BBbmltYXRpb25JdGVyYXRpb24nOlxuICAgICAgY2FzZSAndG9wQW5pbWF0aW9uU3RhcnQnOlxuICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljQW5pbWF0aW9uRXZlbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndG9wVHJhbnNpdGlvbkVuZCc6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNUcmFuc2l0aW9uRXZlbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndG9wU2Nyb2xsJzpcbiAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY1VJRXZlbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndG9wV2hlZWwnOlxuICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljV2hlZWxFdmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0b3BDb3B5JzpcbiAgICAgIGNhc2UgJ3RvcEN1dCc6XG4gICAgICBjYXNlICd0b3BQYXN0ZSc6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNDbGlwYm9hcmRFdmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB7XG4gICAgICAgICAgaWYgKGtub3duSFRNTFRvcExldmVsVHlwZXMuaW5kZXhPZih0b3BMZXZlbFR5cGUpID09PSAtMSkge1xuICAgICAgICAgICAgd2FybmluZyhmYWxzZSwgJ1NpbXBsZUV2ZW50UGx1Z2luOiBVbmhhbmRsZWQgZXZlbnQgdHlwZSwgYCVzYC4gVGhpcyB3YXJuaW5nICcgKyAnaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJywgdG9wTGV2ZWxUeXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSFRNTCBFdmVudHNcbiAgICAgICAgLy8gQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9odG1sNS9pbmRleC5odG1sI2V2ZW50cy0wXG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNFdmVudCQxO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgdmFyIGV2ZW50ID0gRXZlbnRDb25zdHJ1Y3Rvci5nZXRQb29sZWQoZGlzcGF0Y2hDb25maWcsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyhldmVudCk7XG4gICAgcmV0dXJuIGV2ZW50O1xuICB9XG59O1xuXG52YXIgaXNJbnRlcmFjdGl2ZVRvcExldmVsRXZlbnRUeXBlID0gU2ltcGxlRXZlbnRQbHVnaW4uaXNJbnRlcmFjdGl2ZVRvcExldmVsRXZlbnRUeXBlO1xuXG5cbnZhciBDQUxMQkFDS19CT09LS0VFUElOR19QT09MX1NJWkUgPSAxMDtcbnZhciBjYWxsYmFja0Jvb2trZWVwaW5nUG9vbCA9IFtdO1xuXG4vKipcbiAqIEZpbmQgdGhlIGRlZXBlc3QgUmVhY3QgY29tcG9uZW50IGNvbXBsZXRlbHkgY29udGFpbmluZyB0aGUgcm9vdCBvZiB0aGVcbiAqIHBhc3NlZC1pbiBpbnN0YW5jZSAoZm9yIHVzZSB3aGVuIGVudGlyZSBSZWFjdCB0cmVlcyBhcmUgbmVzdGVkIHdpdGhpbiBlYWNoXG4gKiBvdGhlcikuIElmIFJlYWN0IHRyZWVzIGFyZSBub3QgbmVzdGVkLCByZXR1cm5zIG51bGwuXG4gKi9cbmZ1bmN0aW9uIGZpbmRSb290Q29udGFpbmVyTm9kZShpbnN0KSB7XG4gIC8vIFRPRE86IEl0IG1heSBiZSBhIGdvb2QgaWRlYSB0byBjYWNoZSB0aGlzIHRvIHByZXZlbnQgdW5uZWNlc3NhcnkgRE9NXG4gIC8vIHRyYXZlcnNhbCwgYnV0IGNhY2hpbmcgaXMgZGlmZmljdWx0IHRvIGRvIGNvcnJlY3RseSB3aXRob3V0IHVzaW5nIGFcbiAgLy8gbXV0YXRpb24gb2JzZXJ2ZXIgdG8gbGlzdGVuIGZvciBhbGwgRE9NIGNoYW5nZXMuXG4gIHdoaWxlIChpbnN0WydyZXR1cm4nXSkge1xuICAgIGluc3QgPSBpbnN0WydyZXR1cm4nXTtcbiAgfVxuICBpZiAoaW5zdC50YWcgIT09IEhvc3RSb290KSB7XG4gICAgLy8gVGhpcyBjYW4gaGFwcGVuIGlmIHdlJ3JlIGluIGEgZGV0YWNoZWQgdHJlZS5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gaW5zdC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbn1cblxuLy8gVXNlZCB0byBzdG9yZSBhbmNlc3RvciBoaWVyYXJjaHkgaW4gdG9wIGxldmVsIGNhbGxiYWNrXG5mdW5jdGlvbiBnZXRUb3BMZXZlbENhbGxiYWNrQm9va0tlZXBpbmcodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCwgdGFyZ2V0SW5zdCkge1xuICBpZiAoY2FsbGJhY2tCb29ra2VlcGluZ1Bvb2wubGVuZ3RoKSB7XG4gICAgdmFyIGluc3RhbmNlID0gY2FsbGJhY2tCb29ra2VlcGluZ1Bvb2wucG9wKCk7XG4gICAgaW5zdGFuY2UudG9wTGV2ZWxUeXBlID0gdG9wTGV2ZWxUeXBlO1xuICAgIGluc3RhbmNlLm5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQ7XG4gICAgaW5zdGFuY2UudGFyZ2V0SW5zdCA9IHRhcmdldEluc3Q7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9XG4gIHJldHVybiB7XG4gICAgdG9wTGV2ZWxUeXBlOiB0b3BMZXZlbFR5cGUsXG4gICAgbmF0aXZlRXZlbnQ6IG5hdGl2ZUV2ZW50LFxuICAgIHRhcmdldEluc3Q6IHRhcmdldEluc3QsXG4gICAgYW5jZXN0b3JzOiBbXVxuICB9O1xufVxuXG5mdW5jdGlvbiByZWxlYXNlVG9wTGV2ZWxDYWxsYmFja0Jvb2tLZWVwaW5nKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnRvcExldmVsVHlwZSA9IG51bGw7XG4gIGluc3RhbmNlLm5hdGl2ZUV2ZW50ID0gbnVsbDtcbiAgaW5zdGFuY2UudGFyZ2V0SW5zdCA9IG51bGw7XG4gIGluc3RhbmNlLmFuY2VzdG9ycy5sZW5ndGggPSAwO1xuICBpZiAoY2FsbGJhY2tCb29ra2VlcGluZ1Bvb2wubGVuZ3RoIDwgQ0FMTEJBQ0tfQk9PS0tFRVBJTkdfUE9PTF9TSVpFKSB7XG4gICAgY2FsbGJhY2tCb29ra2VlcGluZ1Bvb2wucHVzaChpbnN0YW5jZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlVG9wTGV2ZWwoYm9va0tlZXBpbmcpIHtcbiAgdmFyIHRhcmdldEluc3QgPSBib29rS2VlcGluZy50YXJnZXRJbnN0O1xuXG4gIC8vIExvb3AgdGhyb3VnaCB0aGUgaGllcmFyY2h5LCBpbiBjYXNlIHRoZXJlJ3MgYW55IG5lc3RlZCBjb21wb25lbnRzLlxuICAvLyBJdCdzIGltcG9ydGFudCB0aGF0IHdlIGJ1aWxkIHRoZSBhcnJheSBvZiBhbmNlc3RvcnMgYmVmb3JlIGNhbGxpbmcgYW55XG4gIC8vIGV2ZW50IGhhbmRsZXJzLCBiZWNhdXNlIGV2ZW50IGhhbmRsZXJzIGNhbiBtb2RpZnkgdGhlIERPTSwgbGVhZGluZyB0b1xuICAvLyBpbmNvbnNpc3RlbmNpZXMgd2l0aCBSZWFjdE1vdW50J3Mgbm9kZSBjYWNoZS4gU2VlICMxMTA1LlxuICB2YXIgYW5jZXN0b3IgPSB0YXJnZXRJbnN0O1xuICBkbyB7XG4gICAgaWYgKCFhbmNlc3Rvcikge1xuICAgICAgYm9va0tlZXBpbmcuYW5jZXN0b3JzLnB1c2goYW5jZXN0b3IpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHZhciByb290ID0gZmluZFJvb3RDb250YWluZXJOb2RlKGFuY2VzdG9yKTtcbiAgICBpZiAoIXJvb3QpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBib29rS2VlcGluZy5hbmNlc3RvcnMucHVzaChhbmNlc3Rvcik7XG4gICAgYW5jZXN0b3IgPSBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShyb290KTtcbiAgfSB3aGlsZSAoYW5jZXN0b3IpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYm9va0tlZXBpbmcuYW5jZXN0b3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgdGFyZ2V0SW5zdCA9IGJvb2tLZWVwaW5nLmFuY2VzdG9yc1tpXTtcbiAgICBydW5FeHRyYWN0ZWRFdmVudHNJbkJhdGNoKGJvb2tLZWVwaW5nLnRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgYm9va0tlZXBpbmcubmF0aXZlRXZlbnQsIGdldEV2ZW50VGFyZ2V0KGJvb2tLZWVwaW5nLm5hdGl2ZUV2ZW50KSk7XG4gIH1cbn1cblxuLy8gVE9ETzogY2FuIHdlIHN0b3AgZXhwb3J0aW5nIHRoZXNlP1xudmFyIF9lbmFibGVkID0gdHJ1ZTtcblxuZnVuY3Rpb24gc2V0RW5hYmxlZChlbmFibGVkKSB7XG4gIF9lbmFibGVkID0gISFlbmFibGVkO1xufVxuXG5mdW5jdGlvbiBpc0VuYWJsZWQoKSB7XG4gIHJldHVybiBfZW5hYmxlZDtcbn1cblxuLyoqXG4gKiBUcmFwcyB0b3AtbGV2ZWwgZXZlbnRzIGJ5IHVzaW5nIGV2ZW50IGJ1YmJsaW5nLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFR5cGUgUmVjb3JkIGZyb20gYEJyb3dzZXJFdmVudENvbnN0YW50c2AuXG4gKiBAcGFyYW0ge3N0cmluZ30gaGFuZGxlckJhc2VOYW1lIEV2ZW50IG5hbWUgKGUuZy4gXCJjbGlja1wiKS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBlbGVtZW50IEVsZW1lbnQgb24gd2hpY2ggdG8gYXR0YWNoIGxpc3RlbmVyLlxuICogQHJldHVybiB7P29iamVjdH0gQW4gb2JqZWN0IHdpdGggYSByZW1vdmUgZnVuY3Rpb24gd2hpY2ggd2lsbCBmb3JjZWZ1bGx5XG4gKiAgICAgICAgICAgICAgICAgIHJlbW92ZSB0aGUgbGlzdGVuZXIuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gdHJhcEJ1YmJsZWRFdmVudCh0b3BMZXZlbFR5cGUsIGhhbmRsZXJCYXNlTmFtZSwgZWxlbWVudCkge1xuICBpZiAoIWVsZW1lbnQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgZGlzcGF0Y2ggPSBpc0ludGVyYWN0aXZlVG9wTGV2ZWxFdmVudFR5cGUodG9wTGV2ZWxUeXBlKSA/IGRpc3BhdGNoSW50ZXJhY3RpdmVFdmVudCA6IGRpc3BhdGNoRXZlbnQ7XG5cbiAgYWRkRXZlbnRCdWJibGVMaXN0ZW5lcihlbGVtZW50LCBoYW5kbGVyQmFzZU5hbWUsXG4gIC8vIENoZWNrIGlmIGludGVyYWN0aXZlIGFuZCB3cmFwIGluIGludGVyYWN0aXZlVXBkYXRlc1xuICBkaXNwYXRjaC5iaW5kKG51bGwsIHRvcExldmVsVHlwZSkpO1xufVxuXG4vKipcbiAqIFRyYXBzIGEgdG9wLWxldmVsIGV2ZW50IGJ5IHVzaW5nIGV2ZW50IGNhcHR1cmluZy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUeXBlIFJlY29yZCBmcm9tIGBCcm93c2VyRXZlbnRDb25zdGFudHNgLlxuICogQHBhcmFtIHtzdHJpbmd9IGhhbmRsZXJCYXNlTmFtZSBFdmVudCBuYW1lIChlLmcuIFwiY2xpY2tcIikuXG4gKiBAcGFyYW0ge29iamVjdH0gZWxlbWVudCBFbGVtZW50IG9uIHdoaWNoIHRvIGF0dGFjaCBsaXN0ZW5lci5cbiAqIEByZXR1cm4gez9vYmplY3R9IEFuIG9iamVjdCB3aXRoIGEgcmVtb3ZlIGZ1bmN0aW9uIHdoaWNoIHdpbGwgZm9yY2VmdWxseVxuICogICAgICAgICAgICAgICAgICByZW1vdmUgdGhlIGxpc3RlbmVyLlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIHRyYXBDYXB0dXJlZEV2ZW50KHRvcExldmVsVHlwZSwgaGFuZGxlckJhc2VOYW1lLCBlbGVtZW50KSB7XG4gIGlmICghZWxlbWVudCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBkaXNwYXRjaCA9IGlzSW50ZXJhY3RpdmVUb3BMZXZlbEV2ZW50VHlwZSh0b3BMZXZlbFR5cGUpID8gZGlzcGF0Y2hJbnRlcmFjdGl2ZUV2ZW50IDogZGlzcGF0Y2hFdmVudDtcblxuICBhZGRFdmVudENhcHR1cmVMaXN0ZW5lcihlbGVtZW50LCBoYW5kbGVyQmFzZU5hbWUsXG4gIC8vIENoZWNrIGlmIGludGVyYWN0aXZlIGFuZCB3cmFwIGluIGludGVyYWN0aXZlVXBkYXRlc1xuICBkaXNwYXRjaC5iaW5kKG51bGwsIHRvcExldmVsVHlwZSkpO1xufVxuXG5mdW5jdGlvbiBkaXNwYXRjaEludGVyYWN0aXZlRXZlbnQodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkge1xuICBpbnRlcmFjdGl2ZVVwZGF0ZXMoZGlzcGF0Y2hFdmVudCwgdG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCk7XG59XG5cbmZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkge1xuICBpZiAoIV9lbmFibGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIG5hdGl2ZUV2ZW50VGFyZ2V0ID0gZ2V0RXZlbnRUYXJnZXQobmF0aXZlRXZlbnQpO1xuICB2YXIgdGFyZ2V0SW5zdCA9IGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgaWYgKHRhcmdldEluc3QgIT09IG51bGwgJiYgdHlwZW9mIHRhcmdldEluc3QudGFnID09PSAnbnVtYmVyJyAmJiAhaXNGaWJlck1vdW50ZWQodGFyZ2V0SW5zdCkpIHtcbiAgICAvLyBJZiB3ZSBnZXQgYW4gZXZlbnQgKGV4OiBpbWcgb25sb2FkKSBiZWZvcmUgY29tbWl0dGluZyB0aGF0XG4gICAgLy8gY29tcG9uZW50J3MgbW91bnQsIGlnbm9yZSBpdCBmb3Igbm93ICh0aGF0IGlzLCB0cmVhdCBpdCBhcyBpZiBpdCB3YXMgYW5cbiAgICAvLyBldmVudCBvbiBhIG5vbi1SZWFjdCB0cmVlKS4gV2UgbWlnaHQgYWxzbyBjb25zaWRlciBxdWV1ZWluZyBldmVudHMgYW5kXG4gICAgLy8gZGlzcGF0Y2hpbmcgdGhlbSBhZnRlciB0aGUgbW91bnQuXG4gICAgdGFyZ2V0SW5zdCA9IG51bGw7XG4gIH1cblxuICB2YXIgYm9va0tlZXBpbmcgPSBnZXRUb3BMZXZlbENhbGxiYWNrQm9va0tlZXBpbmcodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCwgdGFyZ2V0SW5zdCk7XG5cbiAgdHJ5IHtcbiAgICAvLyBFdmVudCBxdWV1ZSBiZWluZyBwcm9jZXNzZWQgaW4gdGhlIHNhbWUgY3ljbGUgYWxsb3dzXG4gICAgLy8gYHByZXZlbnREZWZhdWx0YC5cbiAgICBiYXRjaGVkVXBkYXRlcyhoYW5kbGVUb3BMZXZlbCwgYm9va0tlZXBpbmcpO1xuICB9IGZpbmFsbHkge1xuICAgIHJlbGVhc2VUb3BMZXZlbENhbGxiYWNrQm9va0tlZXBpbmcoYm9va0tlZXBpbmcpO1xuICB9XG59XG5cbnZhciBSZWFjdERPTUV2ZW50TGlzdGVuZXIgPSBPYmplY3QuZnJlZXplKHtcblx0Z2V0IF9lbmFibGVkICgpIHsgcmV0dXJuIF9lbmFibGVkOyB9LFxuXHRzZXRFbmFibGVkOiBzZXRFbmFibGVkLFxuXHRpc0VuYWJsZWQ6IGlzRW5hYmxlZCxcblx0dHJhcEJ1YmJsZWRFdmVudDogdHJhcEJ1YmJsZWRFdmVudCxcblx0dHJhcENhcHR1cmVkRXZlbnQ6IHRyYXBDYXB0dXJlZEV2ZW50LFxuXHRkaXNwYXRjaEV2ZW50OiBkaXNwYXRjaEV2ZW50XG59KTtcblxuLyoqXG4gKiBHZW5lcmF0ZSBhIG1hcHBpbmcgb2Ygc3RhbmRhcmQgdmVuZG9yIHByZWZpeGVzIHVzaW5nIHRoZSBkZWZpbmVkIHN0eWxlIHByb3BlcnR5IGFuZCBldmVudCBuYW1lLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZVByb3BcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cbmZ1bmN0aW9uIG1ha2VQcmVmaXhNYXAoc3R5bGVQcm9wLCBldmVudE5hbWUpIHtcbiAgdmFyIHByZWZpeGVzID0ge307XG5cbiAgcHJlZml4ZXNbc3R5bGVQcm9wLnRvTG93ZXJDYXNlKCldID0gZXZlbnROYW1lLnRvTG93ZXJDYXNlKCk7XG4gIHByZWZpeGVzWydXZWJraXQnICsgc3R5bGVQcm9wXSA9ICd3ZWJraXQnICsgZXZlbnROYW1lO1xuICBwcmVmaXhlc1snTW96JyArIHN0eWxlUHJvcF0gPSAnbW96JyArIGV2ZW50TmFtZTtcbiAgcHJlZml4ZXNbJ21zJyArIHN0eWxlUHJvcF0gPSAnTVMnICsgZXZlbnROYW1lO1xuICBwcmVmaXhlc1snTycgKyBzdHlsZVByb3BdID0gJ28nICsgZXZlbnROYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgcmV0dXJuIHByZWZpeGVzO1xufVxuXG4vKipcbiAqIEEgbGlzdCBvZiBldmVudCBuYW1lcyB0byBhIGNvbmZpZ3VyYWJsZSBsaXN0IG9mIHZlbmRvciBwcmVmaXhlcy5cbiAqL1xudmFyIHZlbmRvclByZWZpeGVzID0ge1xuICBhbmltYXRpb25lbmQ6IG1ha2VQcmVmaXhNYXAoJ0FuaW1hdGlvbicsICdBbmltYXRpb25FbmQnKSxcbiAgYW5pbWF0aW9uaXRlcmF0aW9uOiBtYWtlUHJlZml4TWFwKCdBbmltYXRpb24nLCAnQW5pbWF0aW9uSXRlcmF0aW9uJyksXG4gIGFuaW1hdGlvbnN0YXJ0OiBtYWtlUHJlZml4TWFwKCdBbmltYXRpb24nLCAnQW5pbWF0aW9uU3RhcnQnKSxcbiAgdHJhbnNpdGlvbmVuZDogbWFrZVByZWZpeE1hcCgnVHJhbnNpdGlvbicsICdUcmFuc2l0aW9uRW5kJylcbn07XG5cbi8qKlxuICogRXZlbnQgbmFtZXMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBkZXRlY3RlZCBhbmQgcHJlZml4ZWQgKGlmIGFwcGxpY2FibGUpLlxuICovXG52YXIgcHJlZml4ZWRFdmVudE5hbWVzID0ge307XG5cbi8qKlxuICogRWxlbWVudCB0byBjaGVjayBmb3IgcHJlZml4ZXMgb24uXG4gKi9cbnZhciBzdHlsZSA9IHt9O1xuXG4vKipcbiAqIEJvb3RzdHJhcCBpZiBhIERPTSBleGlzdHMuXG4gKi9cbmlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKS5zdHlsZTtcblxuICAvLyBPbiBzb21lIHBsYXRmb3JtcywgaW4gcGFydGljdWxhciBzb21lIHJlbGVhc2VzIG9mIEFuZHJvaWQgNC54LFxuICAvLyB0aGUgdW4tcHJlZml4ZWQgXCJhbmltYXRpb25cIiBhbmQgXCJ0cmFuc2l0aW9uXCIgcHJvcGVydGllcyBhcmUgZGVmaW5lZCBvbiB0aGVcbiAgLy8gc3R5bGUgb2JqZWN0IGJ1dCB0aGUgZXZlbnRzIHRoYXQgZmlyZSB3aWxsIHN0aWxsIGJlIHByZWZpeGVkLCBzbyB3ZSBuZWVkXG4gIC8vIHRvIGNoZWNrIGlmIHRoZSB1bi1wcmVmaXhlZCBldmVudHMgYXJlIHVzYWJsZSwgYW5kIGlmIG5vdCByZW1vdmUgdGhlbSBmcm9tIHRoZSBtYXAuXG4gIGlmICghKCdBbmltYXRpb25FdmVudCcgaW4gd2luZG93KSkge1xuICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy5hbmltYXRpb25lbmQuYW5pbWF0aW9uO1xuICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy5hbmltYXRpb25pdGVyYXRpb24uYW5pbWF0aW9uO1xuICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy5hbmltYXRpb25zdGFydC5hbmltYXRpb247XG4gIH1cblxuICAvLyBTYW1lIGFzIGFib3ZlXG4gIGlmICghKCdUcmFuc2l0aW9uRXZlbnQnIGluIHdpbmRvdykpIHtcbiAgICBkZWxldGUgdmVuZG9yUHJlZml4ZXMudHJhbnNpdGlvbmVuZC50cmFuc2l0aW9uO1xuICB9XG59XG5cbi8qKlxuICogQXR0ZW1wdHMgdG8gZGV0ZXJtaW5lIHRoZSBjb3JyZWN0IHZlbmRvciBwcmVmaXhlZCBldmVudCBuYW1lLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKGV2ZW50TmFtZSkge1xuICBpZiAocHJlZml4ZWRFdmVudE5hbWVzW2V2ZW50TmFtZV0pIHtcbiAgICByZXR1cm4gcHJlZml4ZWRFdmVudE5hbWVzW2V2ZW50TmFtZV07XG4gIH0gZWxzZSBpZiAoIXZlbmRvclByZWZpeGVzW2V2ZW50TmFtZV0pIHtcbiAgICByZXR1cm4gZXZlbnROYW1lO1xuICB9XG5cbiAgdmFyIHByZWZpeE1hcCA9IHZlbmRvclByZWZpeGVzW2V2ZW50TmFtZV07XG5cbiAgZm9yICh2YXIgc3R5bGVQcm9wIGluIHByZWZpeE1hcCkge1xuICAgIGlmIChwcmVmaXhNYXAuaGFzT3duUHJvcGVydHkoc3R5bGVQcm9wKSAmJiBzdHlsZVByb3AgaW4gc3R5bGUpIHtcbiAgICAgIHJldHVybiBwcmVmaXhlZEV2ZW50TmFtZXNbZXZlbnROYW1lXSA9IHByZWZpeE1hcFtzdHlsZVByb3BdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBldmVudE5hbWU7XG59XG5cbi8qKlxuICogVHlwZXMgb2YgcmF3IHNpZ25hbHMgZnJvbSB0aGUgYnJvd3NlciBjYXVnaHQgYXQgdGhlIHRvcCBsZXZlbC5cbiAqXG4gKiBGb3IgZXZlbnRzIGxpa2UgJ3N1Ym1pdCcgb3IgYXVkaW8vdmlkZW8gZXZlbnRzIHdoaWNoIGRvbid0IGNvbnNpc3RlbnRseVxuICogYnViYmxlICh3aGljaCB3ZSB0cmFwIGF0IGEgbG93ZXIgbm9kZSB0aGFuIGBkb2N1bWVudGApLCBiaW5kaW5nXG4gKiBhdCBgZG9jdW1lbnRgIHdvdWxkIGNhdXNlIGR1cGxpY2F0ZSBldmVudHMgc28gd2UgZG9uJ3QgaW5jbHVkZSB0aGVtIGhlcmUuXG4gKi9cbnZhciB0b3BMZXZlbFR5cGVzID0ge1xuICB0b3BBbmltYXRpb25FbmQ6IGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKCdhbmltYXRpb25lbmQnKSxcbiAgdG9wQW5pbWF0aW9uSXRlcmF0aW9uOiBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZSgnYW5pbWF0aW9uaXRlcmF0aW9uJyksXG4gIHRvcEFuaW1hdGlvblN0YXJ0OiBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZSgnYW5pbWF0aW9uc3RhcnQnKSxcbiAgdG9wQmx1cjogJ2JsdXInLFxuICB0b3BDYW5jZWw6ICdjYW5jZWwnLFxuICB0b3BDaGFuZ2U6ICdjaGFuZ2UnLFxuICB0b3BDbGljazogJ2NsaWNrJyxcbiAgdG9wQ2xvc2U6ICdjbG9zZScsXG4gIHRvcENvbXBvc2l0aW9uRW5kOiAnY29tcG9zaXRpb25lbmQnLFxuICB0b3BDb21wb3NpdGlvblN0YXJ0OiAnY29tcG9zaXRpb25zdGFydCcsXG4gIHRvcENvbXBvc2l0aW9uVXBkYXRlOiAnY29tcG9zaXRpb251cGRhdGUnLFxuICB0b3BDb250ZXh0TWVudTogJ2NvbnRleHRtZW51JyxcbiAgdG9wQ29weTogJ2NvcHknLFxuICB0b3BDdXQ6ICdjdXQnLFxuICB0b3BEb3VibGVDbGljazogJ2RibGNsaWNrJyxcbiAgdG9wRHJhZzogJ2RyYWcnLFxuICB0b3BEcmFnRW5kOiAnZHJhZ2VuZCcsXG4gIHRvcERyYWdFbnRlcjogJ2RyYWdlbnRlcicsXG4gIHRvcERyYWdFeGl0OiAnZHJhZ2V4aXQnLFxuICB0b3BEcmFnTGVhdmU6ICdkcmFnbGVhdmUnLFxuICB0b3BEcmFnT3ZlcjogJ2RyYWdvdmVyJyxcbiAgdG9wRHJhZ1N0YXJ0OiAnZHJhZ3N0YXJ0JyxcbiAgdG9wRHJvcDogJ2Ryb3AnLFxuICB0b3BGb2N1czogJ2ZvY3VzJyxcbiAgdG9wSW5wdXQ6ICdpbnB1dCcsXG4gIHRvcEtleURvd246ICdrZXlkb3duJyxcbiAgdG9wS2V5UHJlc3M6ICdrZXlwcmVzcycsXG4gIHRvcEtleVVwOiAna2V5dXAnLFxuICB0b3BMb2FkOiAnbG9hZCcsXG4gIHRvcExvYWRTdGFydDogJ2xvYWRzdGFydCcsXG4gIHRvcE1vdXNlRG93bjogJ21vdXNlZG93bicsXG4gIHRvcE1vdXNlTW92ZTogJ21vdXNlbW92ZScsXG4gIHRvcE1vdXNlT3V0OiAnbW91c2VvdXQnLFxuICB0b3BNb3VzZU92ZXI6ICdtb3VzZW92ZXInLFxuICB0b3BNb3VzZVVwOiAnbW91c2V1cCcsXG4gIHRvcFBhc3RlOiAncGFzdGUnLFxuICB0b3BTY3JvbGw6ICdzY3JvbGwnLFxuICB0b3BTZWxlY3Rpb25DaGFuZ2U6ICdzZWxlY3Rpb25jaGFuZ2UnLFxuICB0b3BUZXh0SW5wdXQ6ICd0ZXh0SW5wdXQnLFxuICB0b3BUb2dnbGU6ICd0b2dnbGUnLFxuICB0b3BUb3VjaENhbmNlbDogJ3RvdWNoY2FuY2VsJyxcbiAgdG9wVG91Y2hFbmQ6ICd0b3VjaGVuZCcsXG4gIHRvcFRvdWNoTW92ZTogJ3RvdWNobW92ZScsXG4gIHRvcFRvdWNoU3RhcnQ6ICd0b3VjaHN0YXJ0JyxcbiAgdG9wVHJhbnNpdGlvbkVuZDogZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoJ3RyYW5zaXRpb25lbmQnKSxcbiAgdG9wV2hlZWw6ICd3aGVlbCdcbn07XG5cbi8vIFRoZXJlIGFyZSBzbyBtYW55IG1lZGlhIGV2ZW50cywgaXQgbWFrZXMgc2Vuc2UgdG8ganVzdFxuLy8gbWFpbnRhaW4gYSBsaXN0IG9mIHRoZW0uIE5vdGUgdGhlc2UgYXJlbid0IHRlY2huaWNhbGx5XG4vLyBcInRvcC1sZXZlbFwiIHNpbmNlIHRoZXkgZG9uJ3QgYnViYmxlLiBXZSBzaG91bGQgY29tZSB1cFxuLy8gd2l0aCBhIGJldHRlciBuYW1pbmcgY29udmVudGlvbiBpZiB3ZSBjb21lIHRvIHJlZmFjdG9yaW5nXG4vLyB0aGUgZXZlbnQgc3lzdGVtLlxudmFyIG1lZGlhRXZlbnRUeXBlcyA9IHtcbiAgdG9wQWJvcnQ6ICdhYm9ydCcsXG4gIHRvcENhblBsYXk6ICdjYW5wbGF5JyxcbiAgdG9wQ2FuUGxheVRocm91Z2g6ICdjYW5wbGF5dGhyb3VnaCcsXG4gIHRvcER1cmF0aW9uQ2hhbmdlOiAnZHVyYXRpb25jaGFuZ2UnLFxuICB0b3BFbXB0aWVkOiAnZW1wdGllZCcsXG4gIHRvcEVuY3J5cHRlZDogJ2VuY3J5cHRlZCcsXG4gIHRvcEVuZGVkOiAnZW5kZWQnLFxuICB0b3BFcnJvcjogJ2Vycm9yJyxcbiAgdG9wTG9hZGVkRGF0YTogJ2xvYWRlZGRhdGEnLFxuICB0b3BMb2FkZWRNZXRhZGF0YTogJ2xvYWRlZG1ldGFkYXRhJyxcbiAgdG9wTG9hZFN0YXJ0OiAnbG9hZHN0YXJ0JyxcbiAgdG9wUGF1c2U6ICdwYXVzZScsXG4gIHRvcFBsYXk6ICdwbGF5JyxcbiAgdG9wUGxheWluZzogJ3BsYXlpbmcnLFxuICB0b3BQcm9ncmVzczogJ3Byb2dyZXNzJyxcbiAgdG9wUmF0ZUNoYW5nZTogJ3JhdGVjaGFuZ2UnLFxuICB0b3BTZWVrZWQ6ICdzZWVrZWQnLFxuICB0b3BTZWVraW5nOiAnc2Vla2luZycsXG4gIHRvcFN0YWxsZWQ6ICdzdGFsbGVkJyxcbiAgdG9wU3VzcGVuZDogJ3N1c3BlbmQnLFxuICB0b3BUaW1lVXBkYXRlOiAndGltZXVwZGF0ZScsXG4gIHRvcFZvbHVtZUNoYW5nZTogJ3ZvbHVtZWNoYW5nZScsXG4gIHRvcFdhaXRpbmc6ICd3YWl0aW5nJ1xufTtcblxuLyoqXG4gKiBTdW1tYXJ5IG9mIGBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXJgIGV2ZW50IGhhbmRsaW5nOlxuICpcbiAqICAtIFRvcC1sZXZlbCBkZWxlZ2F0aW9uIGlzIHVzZWQgdG8gdHJhcCBtb3N0IG5hdGl2ZSBicm93c2VyIGV2ZW50cy4gVGhpc1xuICogICAgbWF5IG9ubHkgb2NjdXIgaW4gdGhlIG1haW4gdGhyZWFkIGFuZCBpcyB0aGUgcmVzcG9uc2liaWxpdHkgb2ZcbiAqICAgIFJlYWN0RE9NRXZlbnRMaXN0ZW5lciwgd2hpY2ggaXMgaW5qZWN0ZWQgYW5kIGNhbiB0aGVyZWZvcmUgc3VwcG9ydFxuICogICAgcGx1Z2dhYmxlIGV2ZW50IHNvdXJjZXMuIFRoaXMgaXMgdGhlIG9ubHkgd29yayB0aGF0IG9jY3VycyBpbiB0aGUgbWFpblxuICogICAgdGhyZWFkLlxuICpcbiAqICAtIFdlIG5vcm1hbGl6ZSBhbmQgZGUtZHVwbGljYXRlIGV2ZW50cyB0byBhY2NvdW50IGZvciBicm93c2VyIHF1aXJrcy4gVGhpc1xuICogICAgbWF5IGJlIGRvbmUgaW4gdGhlIHdvcmtlciB0aHJlYWQuXG4gKlxuICogIC0gRm9yd2FyZCB0aGVzZSBuYXRpdmUgZXZlbnRzICh3aXRoIHRoZSBhc3NvY2lhdGVkIHRvcC1sZXZlbCB0eXBlIHVzZWQgdG9cbiAqICAgIHRyYXAgaXQpIHRvIGBFdmVudFBsdWdpbkh1YmAsIHdoaWNoIGluIHR1cm4gd2lsbCBhc2sgcGx1Z2lucyBpZiB0aGV5IHdhbnRcbiAqICAgIHRvIGV4dHJhY3QgYW55IHN5bnRoZXRpYyBldmVudHMuXG4gKlxuICogIC0gVGhlIGBFdmVudFBsdWdpbkh1YmAgd2lsbCB0aGVuIHByb2Nlc3MgZWFjaCBldmVudCBieSBhbm5vdGF0aW5nIHRoZW0gd2l0aFxuICogICAgXCJkaXNwYXRjaGVzXCIsIGEgc2VxdWVuY2Ugb2YgbGlzdGVuZXJzIGFuZCBJRHMgdGhhdCBjYXJlIGFib3V0IHRoYXQgZXZlbnQuXG4gKlxuICogIC0gVGhlIGBFdmVudFBsdWdpbkh1YmAgdGhlbiBkaXNwYXRjaGVzIHRoZSBldmVudHMuXG4gKlxuICogT3ZlcnZpZXcgb2YgUmVhY3QgYW5kIHRoZSBldmVudCBzeXN0ZW06XG4gKlxuICogKy0tLS0tLS0tLS0tLSsgICAgLlxuICogfCAgICBET00gICAgIHwgICAgLlxuICogKy0tLS0tLS0tLS0tLSsgICAgLlxuICogICAgICAgfCAgICAgICAgICAgLlxuICogICAgICAgdiAgICAgICAgICAgLlxuICogKy0tLS0tLS0tLS0tLSsgICAgLlxuICogfCBSZWFjdEV2ZW50IHwgICAgLlxuICogfCAgTGlzdGVuZXIgIHwgICAgLlxuICogKy0tLS0tLS0tLS0tLSsgICAgLiAgICAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0rXG4gKiAgICAgICB8ICAgICAgICAgICAuICAgICAgICAgICAgICAgKy0tLS0tLS0tK3xTaW1wbGVFdmVudHxcbiAqICAgICAgIHwgICAgICAgICAgIC4gICAgICAgICAgICAgICB8ICAgICAgICAgfFBsdWdpbiAgICAgfFxuICogKy0tLS0tfC0tLS0tLSsgICAgLiAgICAgICAgICAgICAgIHYgICAgICAgICArLS0tLS0tLS0tLS0rXG4gKiB8ICAgICB8ICAgICAgfCAgICAuICAgICstLS0tLS0tLS0tLS0tLSsgICAgICAgICAgICAgICAgICAgICstLS0tLS0tLS0tLS0rXG4gKiB8ICAgICArLS0tLS0tLS0tLS0uLS0tPnxFdmVudFBsdWdpbkh1YnwgICAgICAgICAgICAgICAgICAgIHwgICAgRXZlbnQgICB8XG4gKiB8ICAgICAgICAgICAgfCAgICAuICAgIHwgICAgICAgICAgICAgIHwgICAgICstLS0tLS0tLS0tLSsgIHwgUHJvcGFnYXRvcnN8XG4gKiB8IFJlYWN0RXZlbnQgfCAgICAuICAgIHwgICAgICAgICAgICAgIHwgICAgIHxUYXBFdmVudCAgIHwgIHwtLS0tLS0tLS0tLS18XG4gKiB8ICBFbWl0dGVyICAgfCAgICAuICAgIHwgICAgICAgICAgICAgIHw8LS0tK3xQbHVnaW4gICAgIHwgIHxvdGhlciBwbHVnaW58XG4gKiB8ICAgICAgICAgICAgfCAgICAuICAgIHwgICAgICAgICAgICAgIHwgICAgICstLS0tLS0tLS0tLSsgIHwgIHV0aWxpdGllcyB8XG4gKiB8ICAgICArLS0tLS0tLS0tLS0uLS0tPnwgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICstLS0tLS0tLS0tLS0rXG4gKiB8ICAgICB8ICAgICAgfCAgICAuICAgICstLS0tLS0tLS0tLS0tLStcbiAqICstLS0tLXwtLS0tLS0rICAgIC4gICAgICAgICAgICAgICAgXiAgICAgICAgKy0tLS0tLS0tLS0tK1xuICogICAgICAgfCAgICAgICAgICAgLiAgICAgICAgICAgICAgICB8ICAgICAgICB8RW50ZXIvTGVhdmV8XG4gKiAgICAgICArICAgICAgICAgICAuICAgICAgICAgICAgICAgICstLS0tLS0tK3xQbHVnaW4gICAgIHxcbiAqICstLS0tLS0tLS0tLS0tKyAgIC4gICAgICAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0tLS0tK1xuICogfCBhcHBsaWNhdGlvbiB8ICAgLlxuICogfC0tLS0tLS0tLS0tLS18ICAgLlxuICogfCAgICAgICAgICAgICB8ICAgLlxuICogfCAgICAgICAgICAgICB8ICAgLlxuICogKy0tLS0tLS0tLS0tLS0rICAgLlxuICogICAgICAgICAgICAgICAgICAgLlxuICogICAgUmVhY3QgQ29yZSAgICAgLiAgR2VuZXJhbCBQdXJwb3NlIEV2ZW50IFBsdWdpbiBTeXN0ZW1cbiAqL1xuXG52YXIgYWxyZWFkeUxpc3RlbmluZ1RvID0ge307XG52YXIgcmVhY3RUb3BMaXN0ZW5lcnNDb3VudGVyID0gMDtcblxuLyoqXG4gKiBUbyBlbnN1cmUgbm8gY29uZmxpY3RzIHdpdGggb3RoZXIgcG90ZW50aWFsIFJlYWN0IGluc3RhbmNlcyBvbiB0aGUgcGFnZVxuICovXG52YXIgdG9wTGlzdGVuZXJzSURLZXkgPSAnX3JlYWN0TGlzdGVuZXJzSUQnICsgKCcnICsgTWF0aC5yYW5kb20oKSkuc2xpY2UoMik7XG5cbmZ1bmN0aW9uIGdldExpc3RlbmluZ0ZvckRvY3VtZW50KG1vdW50QXQpIHtcbiAgLy8gSW4gSUU4LCBgbW91bnRBdGAgaXMgYSBob3N0IG9iamVjdCBhbmQgZG9lc24ndCBoYXZlIGBoYXNPd25Qcm9wZXJ0eWBcbiAgLy8gZGlyZWN0bHkuXG4gIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vdW50QXQsIHRvcExpc3RlbmVyc0lES2V5KSkge1xuICAgIG1vdW50QXRbdG9wTGlzdGVuZXJzSURLZXldID0gcmVhY3RUb3BMaXN0ZW5lcnNDb3VudGVyKys7XG4gICAgYWxyZWFkeUxpc3RlbmluZ1RvW21vdW50QXRbdG9wTGlzdGVuZXJzSURLZXldXSA9IHt9O1xuICB9XG4gIHJldHVybiBhbHJlYWR5TGlzdGVuaW5nVG9bbW91bnRBdFt0b3BMaXN0ZW5lcnNJREtleV1dO1xufVxuXG4vKipcbiAqIFdlIGxpc3RlbiBmb3IgYnViYmxlZCB0b3VjaCBldmVudHMgb24gdGhlIGRvY3VtZW50IG9iamVjdC5cbiAqXG4gKiBGaXJlZm94IHY4LjAxIChhbmQgcG9zc2libHkgb3RoZXJzKSBleGhpYml0ZWQgc3RyYW5nZSBiZWhhdmlvciB3aGVuXG4gKiBtb3VudGluZyBgb25tb3VzZW1vdmVgIGV2ZW50cyBhdCBzb21lIG5vZGUgdGhhdCB3YXMgbm90IHRoZSBkb2N1bWVudFxuICogZWxlbWVudC4gVGhlIHN5bXB0b21zIHdlcmUgdGhhdCBpZiB5b3VyIG1vdXNlIGlzIG5vdCBtb3Zpbmcgb3ZlciBzb21ldGhpbmdcbiAqIGNvbnRhaW5lZCB3aXRoaW4gdGhhdCBtb3VudCBwb2ludCAoZm9yIGV4YW1wbGUgb24gdGhlIGJhY2tncm91bmQpIHRoZVxuICogdG9wLWxldmVsIGxpc3RlbmVycyBmb3IgYG9ubW91c2Vtb3ZlYCB3b24ndCBiZSBjYWxsZWQuIEhvd2V2ZXIsIGlmIHlvdVxuICogcmVnaXN0ZXIgdGhlIGBtb3VzZW1vdmVgIG9uIHRoZSBkb2N1bWVudCBvYmplY3QsIHRoZW4gaXQgd2lsbCBvZiBjb3Vyc2VcbiAqIGNhdGNoIGFsbCBgbW91c2Vtb3ZlYHMuIFRoaXMgYWxvbmcgd2l0aCBpT1MgcXVpcmtzLCBqdXN0aWZpZXMgcmVzdHJpY3RpbmdcbiAqIHRvcC1sZXZlbCBsaXN0ZW5lcnMgdG8gdGhlIGRvY3VtZW50IG9iamVjdCBvbmx5LCBhdCBsZWFzdCBmb3IgdGhlc2VcbiAqIG1vdmVtZW50IHR5cGVzIG9mIGV2ZW50cyBhbmQgcG9zc2libHkgYWxsIGV2ZW50cy5cbiAqXG4gKiBAc2VlIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvYmxvZy9hcmNoaXZlcy8yMDEwLzA5L2NsaWNrX2V2ZW50X2RlbC5odG1sXG4gKlxuICogQWxzbywgYGtleXVwYC9ga2V5cHJlc3NgL2BrZXlkb3duYCBkbyBub3QgYnViYmxlIHRvIHRoZSB3aW5kb3cgb24gSUUsIGJ1dFxuICogdGhleSBidWJibGUgdG8gZG9jdW1lbnQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHJlZ2lzdHJhdGlvbk5hbWUgTmFtZSBvZiBsaXN0ZW5lciAoZS5nLiBgb25DbGlja2ApLlxuICogQHBhcmFtIHtvYmplY3R9IGNvbnRlbnREb2N1bWVudEhhbmRsZSBEb2N1bWVudCB3aGljaCBvd25zIHRoZSBjb250YWluZXJcbiAqL1xuZnVuY3Rpb24gbGlzdGVuVG8ocmVnaXN0cmF0aW9uTmFtZSwgY29udGVudERvY3VtZW50SGFuZGxlKSB7XG4gIHZhciBtb3VudEF0ID0gY29udGVudERvY3VtZW50SGFuZGxlO1xuICB2YXIgaXNMaXN0ZW5pbmcgPSBnZXRMaXN0ZW5pbmdGb3JEb2N1bWVudChtb3VudEF0KTtcbiAgdmFyIGRlcGVuZGVuY2llcyA9IHJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXNbcmVnaXN0cmF0aW9uTmFtZV07XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVwZW5kZW5jeSA9IGRlcGVuZGVuY2llc1tpXTtcbiAgICBpZiAoIShpc0xpc3RlbmluZy5oYXNPd25Qcm9wZXJ0eShkZXBlbmRlbmN5KSAmJiBpc0xpc3RlbmluZ1tkZXBlbmRlbmN5XSkpIHtcbiAgICAgIGlmIChkZXBlbmRlbmN5ID09PSAndG9wU2Nyb2xsJykge1xuICAgICAgICB0cmFwQ2FwdHVyZWRFdmVudCgndG9wU2Nyb2xsJywgJ3Njcm9sbCcsIG1vdW50QXQpO1xuICAgICAgfSBlbHNlIGlmIChkZXBlbmRlbmN5ID09PSAndG9wRm9jdXMnIHx8IGRlcGVuZGVuY3kgPT09ICd0b3BCbHVyJykge1xuICAgICAgICB0cmFwQ2FwdHVyZWRFdmVudCgndG9wRm9jdXMnLCAnZm9jdXMnLCBtb3VudEF0KTtcbiAgICAgICAgdHJhcENhcHR1cmVkRXZlbnQoJ3RvcEJsdXInLCAnYmx1cicsIG1vdW50QXQpO1xuXG4gICAgICAgIC8vIHRvIG1ha2Ugc3VyZSBibHVyIGFuZCBmb2N1cyBldmVudCBsaXN0ZW5lcnMgYXJlIG9ubHkgYXR0YWNoZWQgb25jZVxuICAgICAgICBpc0xpc3RlbmluZy50b3BCbHVyID0gdHJ1ZTtcbiAgICAgICAgaXNMaXN0ZW5pbmcudG9wRm9jdXMgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChkZXBlbmRlbmN5ID09PSAndG9wQ2FuY2VsJykge1xuICAgICAgICBpZiAoaXNFdmVudFN1cHBvcnRlZCgnY2FuY2VsJywgdHJ1ZSkpIHtcbiAgICAgICAgICB0cmFwQ2FwdHVyZWRFdmVudCgndG9wQ2FuY2VsJywgJ2NhbmNlbCcsIG1vdW50QXQpO1xuICAgICAgICB9XG4gICAgICAgIGlzTGlzdGVuaW5nLnRvcENhbmNlbCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGRlcGVuZGVuY3kgPT09ICd0b3BDbG9zZScpIHtcbiAgICAgICAgaWYgKGlzRXZlbnRTdXBwb3J0ZWQoJ2Nsb3NlJywgdHJ1ZSkpIHtcbiAgICAgICAgICB0cmFwQ2FwdHVyZWRFdmVudCgndG9wQ2xvc2UnLCAnY2xvc2UnLCBtb3VudEF0KTtcbiAgICAgICAgfVxuICAgICAgICBpc0xpc3RlbmluZy50b3BDbG9zZSA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHRvcExldmVsVHlwZXMuaGFzT3duUHJvcGVydHkoZGVwZW5kZW5jeSkpIHtcbiAgICAgICAgdHJhcEJ1YmJsZWRFdmVudChkZXBlbmRlbmN5LCB0b3BMZXZlbFR5cGVzW2RlcGVuZGVuY3ldLCBtb3VudEF0KTtcbiAgICAgIH1cblxuICAgICAgaXNMaXN0ZW5pbmdbZGVwZW5kZW5jeV0gPSB0cnVlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpc0xpc3RlbmluZ1RvQWxsRGVwZW5kZW5jaWVzKHJlZ2lzdHJhdGlvbk5hbWUsIG1vdW50QXQpIHtcbiAgdmFyIGlzTGlzdGVuaW5nID0gZ2V0TGlzdGVuaW5nRm9yRG9jdW1lbnQobW91bnRBdCk7XG4gIHZhciBkZXBlbmRlbmNpZXMgPSByZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzW3JlZ2lzdHJhdGlvbk5hbWVdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGRlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXBlbmRlbmN5ID0gZGVwZW5kZW5jaWVzW2ldO1xuICAgIGlmICghKGlzTGlzdGVuaW5nLmhhc093blByb3BlcnR5KGRlcGVuZGVuY3kpICYmIGlzTGlzdGVuaW5nW2RlcGVuZGVuY3ldKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBHaXZlbiBhbnkgbm9kZSByZXR1cm4gdGhlIGZpcnN0IGxlYWYgbm9kZSB3aXRob3V0IGNoaWxkcmVuLlxuICpcbiAqIEBwYXJhbSB7RE9NRWxlbWVudHxET01UZXh0Tm9kZX0gbm9kZVxuICogQHJldHVybiB7RE9NRWxlbWVudHxET01UZXh0Tm9kZX1cbiAqL1xuZnVuY3Rpb24gZ2V0TGVhZk5vZGUobm9kZSkge1xuICB3aGlsZSAobm9kZSAmJiBub2RlLmZpcnN0Q2hpbGQpIHtcbiAgICBub2RlID0gbm9kZS5maXJzdENoaWxkO1xuICB9XG4gIHJldHVybiBub2RlO1xufVxuXG4vKipcbiAqIEdldCB0aGUgbmV4dCBzaWJsaW5nIHdpdGhpbiBhIGNvbnRhaW5lci4gVGhpcyB3aWxsIHdhbGsgdXAgdGhlXG4gKiBET00gaWYgYSBub2RlJ3Mgc2libGluZ3MgaGF2ZSBiZWVuIGV4aGF1c3RlZC5cbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9IG5vZGVcbiAqIEByZXR1cm4gez9ET01FbGVtZW50fERPTVRleHROb2RlfVxuICovXG5mdW5jdGlvbiBnZXRTaWJsaW5nTm9kZShub2RlKSB7XG4gIHdoaWxlIChub2RlKSB7XG4gICAgaWYgKG5vZGUubmV4dFNpYmxpbmcpIHtcbiAgICAgIHJldHVybiBub2RlLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICB9XG59XG5cbi8qKlxuICogR2V0IG9iamVjdCBkZXNjcmliaW5nIHRoZSBub2RlcyB3aGljaCBjb250YWluIGNoYXJhY3RlcnMgYXQgb2Zmc2V0LlxuICpcbiAqIEBwYXJhbSB7RE9NRWxlbWVudHxET01UZXh0Tm9kZX0gcm9vdFxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFxuICogQHJldHVybiB7P29iamVjdH1cbiAqL1xuZnVuY3Rpb24gZ2V0Tm9kZUZvckNoYXJhY3Rlck9mZnNldChyb290LCBvZmZzZXQpIHtcbiAgdmFyIG5vZGUgPSBnZXRMZWFmTm9kZShyb290KTtcbiAgdmFyIG5vZGVTdGFydCA9IDA7XG4gIHZhciBub2RlRW5kID0gMDtcblxuICB3aGlsZSAobm9kZSkge1xuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBURVhUX05PREUpIHtcbiAgICAgIG5vZGVFbmQgPSBub2RlU3RhcnQgKyBub2RlLnRleHRDb250ZW50Lmxlbmd0aDtcblxuICAgICAgaWYgKG5vZGVTdGFydCA8PSBvZmZzZXQgJiYgbm9kZUVuZCA+PSBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBub2RlOiBub2RlLFxuICAgICAgICAgIG9mZnNldDogb2Zmc2V0IC0gbm9kZVN0YXJ0XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIG5vZGVTdGFydCA9IG5vZGVFbmQ7XG4gICAgfVxuXG4gICAgbm9kZSA9IGdldExlYWZOb2RlKGdldFNpYmxpbmdOb2RlKG5vZGUpKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gb3V0ZXJOb2RlXG4gKiBAcmV0dXJuIHs/b2JqZWN0fVxuICovXG5mdW5jdGlvbiBnZXRPZmZzZXRzKG91dGVyTm9kZSkge1xuICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbiAmJiB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG5cbiAgaWYgKCFzZWxlY3Rpb24gfHwgc2VsZWN0aW9uLnJhbmdlQ291bnQgPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBhbmNob3JOb2RlID0gc2VsZWN0aW9uLmFuY2hvck5vZGUsXG4gICAgICBhbmNob3JPZmZzZXQgPSBzZWxlY3Rpb24uYW5jaG9yT2Zmc2V0LFxuICAgICAgZm9jdXNOb2RlID0gc2VsZWN0aW9uLmZvY3VzTm9kZSxcbiAgICAgIGZvY3VzT2Zmc2V0ID0gc2VsZWN0aW9uLmZvY3VzT2Zmc2V0O1xuXG4gIC8vIEluIEZpcmVmb3gsIGFuY2hvck5vZGUgYW5kIGZvY3VzTm9kZSBjYW4gYmUgXCJhbm9ueW1vdXMgZGl2c1wiLCBlLmcuIHRoZVxuICAvLyB1cC9kb3duIGJ1dHRvbnMgb24gYW4gPGlucHV0IHR5cGU9XCJudW1iZXJcIj4uIEFub255bW91cyBkaXZzIGRvIG5vdCBzZWVtIHRvXG4gIC8vIGV4cG9zZSBwcm9wZXJ0aWVzLCB0cmlnZ2VyaW5nIGEgXCJQZXJtaXNzaW9uIGRlbmllZCBlcnJvclwiIGlmIGFueSBvZiBpdHNcbiAgLy8gcHJvcGVydGllcyBhcmUgYWNjZXNzZWQuIFRoZSBvbmx5IHNlZW1pbmdseSBwb3NzaWJsZSB3YXkgdG8gYXZvaWQgZXJyb3JpbmdcbiAgLy8gaXMgdG8gYWNjZXNzIGEgcHJvcGVydHkgdGhhdCB0eXBpY2FsbHkgd29ya3MgZm9yIG5vbi1hbm9ueW1vdXMgZGl2cyBhbmRcbiAgLy8gY2F0Y2ggYW55IGVycm9yIHRoYXQgbWF5IG90aGVyd2lzZSBhcmlzZS4gU2VlXG4gIC8vIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTIwODQyN1xuXG4gIHRyeSB7XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLWV4cHJlc3Npb25zICovXG4gICAgYW5jaG9yTm9kZS5ub2RlVHlwZTtcbiAgICBmb2N1c05vZGUubm9kZVR5cGU7XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGdldE1vZGVybk9mZnNldHNGcm9tUG9pbnRzKG91dGVyTm9kZSwgYW5jaG9yTm9kZSwgYW5jaG9yT2Zmc2V0LCBmb2N1c05vZGUsIGZvY3VzT2Zmc2V0KTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHtzdGFydCwgZW5kfSB3aGVyZSBgc3RhcnRgIGlzIHRoZSBjaGFyYWN0ZXIvY29kZXBvaW50IGluZGV4IG9mXG4gKiAoYW5jaG9yTm9kZSwgYW5jaG9yT2Zmc2V0KSB3aXRoaW4gdGhlIHRleHRDb250ZW50IG9mIGBvdXRlck5vZGVgLCBhbmRcbiAqIGBlbmRgIGlzIHRoZSBpbmRleCBvZiAoZm9jdXNOb2RlLCBmb2N1c09mZnNldCkuXG4gKlxuICogUmV0dXJucyBudWxsIGlmIHlvdSBwYXNzIGluIGdhcmJhZ2UgaW5wdXQgYnV0IHdlIHNob3VsZCBwcm9iYWJseSBqdXN0IGNyYXNoLlxuICpcbiAqIEV4cG9ydGVkIG9ubHkgZm9yIHRlc3RpbmcuXG4gKi9cbmZ1bmN0aW9uIGdldE1vZGVybk9mZnNldHNGcm9tUG9pbnRzKG91dGVyTm9kZSwgYW5jaG9yTm9kZSwgYW5jaG9yT2Zmc2V0LCBmb2N1c05vZGUsIGZvY3VzT2Zmc2V0KSB7XG4gIHZhciBsZW5ndGggPSAwO1xuICB2YXIgc3RhcnQgPSAtMTtcbiAgdmFyIGVuZCA9IC0xO1xuICB2YXIgaW5kZXhXaXRoaW5BbmNob3IgPSAwO1xuICB2YXIgaW5kZXhXaXRoaW5Gb2N1cyA9IDA7XG4gIHZhciBub2RlID0gb3V0ZXJOb2RlO1xuICB2YXIgcGFyZW50Tm9kZSA9IG51bGw7XG5cbiAgb3V0ZXI6IHdoaWxlICh0cnVlKSB7XG4gICAgdmFyIG5leHQgPSBudWxsO1xuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmIChub2RlID09PSBhbmNob3JOb2RlICYmIChhbmNob3JPZmZzZXQgPT09IDAgfHwgbm9kZS5ub2RlVHlwZSA9PT0gVEVYVF9OT0RFKSkge1xuICAgICAgICBzdGFydCA9IGxlbmd0aCArIGFuY2hvck9mZnNldDtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlID09PSBmb2N1c05vZGUgJiYgKGZvY3VzT2Zmc2V0ID09PSAwIHx8IG5vZGUubm9kZVR5cGUgPT09IFRFWFRfTk9ERSkpIHtcbiAgICAgICAgZW5kID0gbGVuZ3RoICsgZm9jdXNPZmZzZXQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBURVhUX05PREUpIHtcbiAgICAgICAgbGVuZ3RoICs9IG5vZGUubm9kZVZhbHVlLmxlbmd0aDtcbiAgICAgIH1cblxuICAgICAgaWYgKChuZXh0ID0gbm9kZS5maXJzdENoaWxkKSA9PT0gbnVsbCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8vIE1vdmluZyBmcm9tIGBub2RlYCB0byBpdHMgZmlyc3QgY2hpbGQgYG5leHRgLlxuICAgICAgcGFyZW50Tm9kZSA9IG5vZGU7XG4gICAgICBub2RlID0gbmV4dDtcbiAgICB9XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKG5vZGUgPT09IG91dGVyTm9kZSkge1xuICAgICAgICAvLyBJZiBgb3V0ZXJOb2RlYCBoYXMgY2hpbGRyZW4sIHRoaXMgaXMgYWx3YXlzIHRoZSBzZWNvbmQgdGltZSB2aXNpdGluZ1xuICAgICAgICAvLyBpdC4gSWYgaXQgaGFzIG5vIGNoaWxkcmVuLCB0aGlzIGlzIHN0aWxsIHRoZSBmaXJzdCBsb29wLCBhbmQgdGhlIG9ubHlcbiAgICAgICAgLy8gdmFsaWQgc2VsZWN0aW9uIGlzIGFuY2hvck5vZGUgYW5kIGZvY3VzTm9kZSBib3RoIGVxdWFsIHRvIHRoaXMgbm9kZVxuICAgICAgICAvLyBhbmQgYm90aCBvZmZzZXRzIDAsIGluIHdoaWNoIGNhc2Ugd2Ugd2lsbCBoYXZlIGhhbmRsZWQgYWJvdmUuXG4gICAgICAgIGJyZWFrIG91dGVyO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmVudE5vZGUgPT09IGFuY2hvck5vZGUgJiYgKytpbmRleFdpdGhpbkFuY2hvciA9PT0gYW5jaG9yT2Zmc2V0KSB7XG4gICAgICAgIHN0YXJ0ID0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmVudE5vZGUgPT09IGZvY3VzTm9kZSAmJiArK2luZGV4V2l0aGluRm9jdXMgPT09IGZvY3VzT2Zmc2V0KSB7XG4gICAgICAgIGVuZCA9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGlmICgobmV4dCA9IG5vZGUubmV4dFNpYmxpbmcpICE9PSBudWxsKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgbm9kZSA9IHBhcmVudE5vZGU7XG4gICAgICBwYXJlbnROb2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIH1cblxuICAgIC8vIE1vdmluZyBmcm9tIGBub2RlYCB0byBpdHMgbmV4dCBzaWJsaW5nIGBuZXh0YC5cbiAgICBub2RlID0gbmV4dDtcbiAgfVxuXG4gIGlmIChzdGFydCA9PT0gLTEgfHwgZW5kID09PSAtMSkge1xuICAgIC8vIFRoaXMgc2hvdWxkIG5ldmVyIGhhcHBlbi4gKFdvdWxkIGhhcHBlbiBpZiB0aGUgYW5jaG9yL2ZvY3VzIG5vZGVzIGFyZW4ndFxuICAgIC8vIGFjdHVhbGx5IGluc2lkZSB0aGUgcGFzc2VkLWluIG5vZGUuKVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzdGFydDogc3RhcnQsXG4gICAgZW5kOiBlbmRcbiAgfTtcbn1cblxuLyoqXG4gKiBJbiBtb2Rlcm4gbm9uLUlFIGJyb3dzZXJzLCB3ZSBjYW4gc3VwcG9ydCBib3RoIGZvcndhcmQgYW5kIGJhY2t3YXJkXG4gKiBzZWxlY3Rpb25zLlxuICpcbiAqIE5vdGU6IElFMTArIHN1cHBvcnRzIHRoZSBTZWxlY3Rpb24gb2JqZWN0LCBidXQgaXQgZG9lcyBub3Qgc3VwcG9ydFxuICogdGhlIGBleHRlbmRgIG1ldGhvZCwgd2hpY2ggbWVhbnMgdGhhdCBldmVuIGluIG1vZGVybiBJRSwgaXQncyBub3QgcG9zc2libGVcbiAqIHRvIHByb2dyYW1tYXRpY2FsbHkgY3JlYXRlIGEgYmFja3dhcmQgc2VsZWN0aW9uLiBUaHVzLCBmb3IgYWxsIElFXG4gKiB2ZXJzaW9ucywgd2UgdXNlIHRoZSBvbGQgSUUgQVBJIHRvIGNyZWF0ZSBvdXIgc2VsZWN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9IG5vZGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBvZmZzZXRzXG4gKi9cbmZ1bmN0aW9uIHNldE9mZnNldHMobm9kZSwgb2Zmc2V0cykge1xuICBpZiAoIXdpbmRvdy5nZXRTZWxlY3Rpb24pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICB2YXIgbGVuZ3RoID0gbm9kZVtnZXRUZXh0Q29udGVudEFjY2Vzc29yKCldLmxlbmd0aDtcbiAgdmFyIHN0YXJ0ID0gTWF0aC5taW4ob2Zmc2V0cy5zdGFydCwgbGVuZ3RoKTtcbiAgdmFyIGVuZCA9IG9mZnNldHMuZW5kID09PSB1bmRlZmluZWQgPyBzdGFydCA6IE1hdGgubWluKG9mZnNldHMuZW5kLCBsZW5ndGgpO1xuXG4gIC8vIElFIDExIHVzZXMgbW9kZXJuIHNlbGVjdGlvbiwgYnV0IGRvZXNuJ3Qgc3VwcG9ydCB0aGUgZXh0ZW5kIG1ldGhvZC5cbiAgLy8gRmxpcCBiYWNrd2FyZCBzZWxlY3Rpb25zLCBzbyB3ZSBjYW4gc2V0IHdpdGggYSBzaW5nbGUgcmFuZ2UuXG4gIGlmICghc2VsZWN0aW9uLmV4dGVuZCAmJiBzdGFydCA+IGVuZCkge1xuICAgIHZhciB0ZW1wID0gZW5kO1xuICAgIGVuZCA9IHN0YXJ0O1xuICAgIHN0YXJ0ID0gdGVtcDtcbiAgfVxuXG4gIHZhciBzdGFydE1hcmtlciA9IGdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQobm9kZSwgc3RhcnQpO1xuICB2YXIgZW5kTWFya2VyID0gZ2V0Tm9kZUZvckNoYXJhY3Rlck9mZnNldChub2RlLCBlbmQpO1xuXG4gIGlmIChzdGFydE1hcmtlciAmJiBlbmRNYXJrZXIpIHtcbiAgICBpZiAoc2VsZWN0aW9uLnJhbmdlQ291bnQgPT09IDEgJiYgc2VsZWN0aW9uLmFuY2hvck5vZGUgPT09IHN0YXJ0TWFya2VyLm5vZGUgJiYgc2VsZWN0aW9uLmFuY2hvck9mZnNldCA9PT0gc3RhcnRNYXJrZXIub2Zmc2V0ICYmIHNlbGVjdGlvbi5mb2N1c05vZGUgPT09IGVuZE1hcmtlci5ub2RlICYmIHNlbGVjdGlvbi5mb2N1c09mZnNldCA9PT0gZW5kTWFya2VyLm9mZnNldCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgIHJhbmdlLnNldFN0YXJ0KHN0YXJ0TWFya2VyLm5vZGUsIHN0YXJ0TWFya2VyLm9mZnNldCk7XG4gICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuXG4gICAgaWYgKHN0YXJ0ID4gZW5kKSB7XG4gICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xuICAgICAgc2VsZWN0aW9uLmV4dGVuZChlbmRNYXJrZXIubm9kZSwgZW5kTWFya2VyLm9mZnNldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJhbmdlLnNldEVuZChlbmRNYXJrZXIubm9kZSwgZW5kTWFya2VyLm9mZnNldCk7XG4gICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpc0luRG9jdW1lbnQobm9kZSkge1xuICByZXR1cm4gY29udGFpbnNOb2RlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgbm9kZSk7XG59XG5cbi8qKlxuICogQFJlYWN0SW5wdXRTZWxlY3Rpb246IFJlYWN0IGlucHV0IHNlbGVjdGlvbiBtb2R1bGUuIEJhc2VkIG9uIFNlbGVjdGlvbi5qcyxcbiAqIGJ1dCBtb2RpZmllZCB0byBiZSBzdWl0YWJsZSBmb3IgcmVhY3QgYW5kIGhhcyBhIGNvdXBsZSBvZiBidWcgZml4ZXMgKGRvZXNuJ3RcbiAqIGFzc3VtZSBidXR0b25zIGhhdmUgcmFuZ2Ugc2VsZWN0aW9ucyBhbGxvd2VkKS5cbiAqIElucHV0IHNlbGVjdGlvbiBtb2R1bGUgZm9yIFJlYWN0LlxuICovXG5cbmZ1bmN0aW9uIGhhc1NlbGVjdGlvbkNhcGFiaWxpdGllcyhlbGVtKSB7XG4gIHZhciBub2RlTmFtZSA9IGVsZW0gJiYgZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiBub2RlTmFtZSAmJiAobm9kZU5hbWUgPT09ICdpbnB1dCcgJiYgZWxlbS50eXBlID09PSAndGV4dCcgfHwgbm9kZU5hbWUgPT09ICd0ZXh0YXJlYScgfHwgZWxlbS5jb250ZW50RWRpdGFibGUgPT09ICd0cnVlJyk7XG59XG5cbmZ1bmN0aW9uIGdldFNlbGVjdGlvbkluZm9ybWF0aW9uKCkge1xuICB2YXIgZm9jdXNlZEVsZW0gPSBnZXRBY3RpdmVFbGVtZW50KCk7XG4gIHJldHVybiB7XG4gICAgZm9jdXNlZEVsZW06IGZvY3VzZWRFbGVtLFxuICAgIHNlbGVjdGlvblJhbmdlOiBoYXNTZWxlY3Rpb25DYXBhYmlsaXRpZXMoZm9jdXNlZEVsZW0pID8gZ2V0U2VsZWN0aW9uJDEoZm9jdXNlZEVsZW0pIDogbnVsbFxuICB9O1xufVxuXG4vKipcbiAqIEByZXN0b3JlU2VsZWN0aW9uOiBJZiBhbnkgc2VsZWN0aW9uIGluZm9ybWF0aW9uIHdhcyBwb3RlbnRpYWxseSBsb3N0LFxuICogcmVzdG9yZSBpdC4gVGhpcyBpcyB1c2VmdWwgd2hlbiBwZXJmb3JtaW5nIG9wZXJhdGlvbnMgdGhhdCBjb3VsZCByZW1vdmUgZG9tXG4gKiBub2RlcyBhbmQgcGxhY2UgdGhlbSBiYWNrIGluLCByZXN1bHRpbmcgaW4gZm9jdXMgYmVpbmcgbG9zdC5cbiAqL1xuZnVuY3Rpb24gcmVzdG9yZVNlbGVjdGlvbihwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uKSB7XG4gIHZhciBjdXJGb2N1c2VkRWxlbSA9IGdldEFjdGl2ZUVsZW1lbnQoKTtcbiAgdmFyIHByaW9yRm9jdXNlZEVsZW0gPSBwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uLmZvY3VzZWRFbGVtO1xuICB2YXIgcHJpb3JTZWxlY3Rpb25SYW5nZSA9IHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24uc2VsZWN0aW9uUmFuZ2U7XG4gIGlmIChjdXJGb2N1c2VkRWxlbSAhPT0gcHJpb3JGb2N1c2VkRWxlbSAmJiBpc0luRG9jdW1lbnQocHJpb3JGb2N1c2VkRWxlbSkpIHtcbiAgICBpZiAoaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzKHByaW9yRm9jdXNlZEVsZW0pKSB7XG4gICAgICBzZXRTZWxlY3Rpb24ocHJpb3JGb2N1c2VkRWxlbSwgcHJpb3JTZWxlY3Rpb25SYW5nZSk7XG4gICAgfVxuXG4gICAgLy8gRm9jdXNpbmcgYSBub2RlIGNhbiBjaGFuZ2UgdGhlIHNjcm9sbCBwb3NpdGlvbiwgd2hpY2ggaXMgdW5kZXNpcmFibGVcbiAgICB2YXIgYW5jZXN0b3JzID0gW107XG4gICAgdmFyIGFuY2VzdG9yID0gcHJpb3JGb2N1c2VkRWxlbTtcbiAgICB3aGlsZSAoYW5jZXN0b3IgPSBhbmNlc3Rvci5wYXJlbnROb2RlKSB7XG4gICAgICBpZiAoYW5jZXN0b3Iubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSkge1xuICAgICAgICBhbmNlc3RvcnMucHVzaCh7XG4gICAgICAgICAgZWxlbWVudDogYW5jZXN0b3IsXG4gICAgICAgICAgbGVmdDogYW5jZXN0b3Iuc2Nyb2xsTGVmdCxcbiAgICAgICAgICB0b3A6IGFuY2VzdG9yLnNjcm9sbFRvcFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwcmlvckZvY3VzZWRFbGVtLmZvY3VzKCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFuY2VzdG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGluZm8gPSBhbmNlc3RvcnNbaV07XG4gICAgICBpbmZvLmVsZW1lbnQuc2Nyb2xsTGVmdCA9IGluZm8ubGVmdDtcbiAgICAgIGluZm8uZWxlbWVudC5zY3JvbGxUb3AgPSBpbmZvLnRvcDtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAZ2V0U2VsZWN0aW9uOiBHZXRzIHRoZSBzZWxlY3Rpb24gYm91bmRzIG9mIGEgZm9jdXNlZCB0ZXh0YXJlYSwgaW5wdXQgb3JcbiAqIGNvbnRlbnRFZGl0YWJsZSBub2RlLlxuICogLUBpbnB1dDogTG9vayB1cCBzZWxlY3Rpb24gYm91bmRzIG9mIHRoaXMgaW5wdXRcbiAqIC1AcmV0dXJuIHtzdGFydDogc2VsZWN0aW9uU3RhcnQsIGVuZDogc2VsZWN0aW9uRW5kfVxuICovXG5mdW5jdGlvbiBnZXRTZWxlY3Rpb24kMShpbnB1dCkge1xuICB2YXIgc2VsZWN0aW9uID0gdm9pZCAwO1xuXG4gIGlmICgnc2VsZWN0aW9uU3RhcnQnIGluIGlucHV0KSB7XG4gICAgLy8gTW9kZXJuIGJyb3dzZXIgd2l0aCBpbnB1dCBvciB0ZXh0YXJlYS5cbiAgICBzZWxlY3Rpb24gPSB7XG4gICAgICBzdGFydDogaW5wdXQuc2VsZWN0aW9uU3RhcnQsXG4gICAgICBlbmQ6IGlucHV0LnNlbGVjdGlvbkVuZFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgLy8gQ29udGVudCBlZGl0YWJsZSBvciBvbGQgSUUgdGV4dGFyZWEuXG4gICAgc2VsZWN0aW9uID0gZ2V0T2Zmc2V0cyhpbnB1dCk7XG4gIH1cblxuICByZXR1cm4gc2VsZWN0aW9uIHx8IHsgc3RhcnQ6IDAsIGVuZDogMCB9O1xufVxuXG4vKipcbiAqIEBzZXRTZWxlY3Rpb246IFNldHMgdGhlIHNlbGVjdGlvbiBib3VuZHMgb2YgYSB0ZXh0YXJlYSBvciBpbnB1dCBhbmQgZm9jdXNlc1xuICogdGhlIGlucHV0LlxuICogLUBpbnB1dCAgICAgU2V0IHNlbGVjdGlvbiBib3VuZHMgb2YgdGhpcyBpbnB1dCBvciB0ZXh0YXJlYVxuICogLUBvZmZzZXRzICAgT2JqZWN0IG9mIHNhbWUgZm9ybSB0aGF0IGlzIHJldHVybmVkIGZyb20gZ2V0KlxuICovXG5mdW5jdGlvbiBzZXRTZWxlY3Rpb24oaW5wdXQsIG9mZnNldHMpIHtcbiAgdmFyIHN0YXJ0ID0gb2Zmc2V0cy5zdGFydCxcbiAgICAgIGVuZCA9IG9mZnNldHMuZW5kO1xuXG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuZCA9IHN0YXJ0O1xuICB9XG5cbiAgaWYgKCdzZWxlY3Rpb25TdGFydCcgaW4gaW5wdXQpIHtcbiAgICBpbnB1dC5zZWxlY3Rpb25TdGFydCA9IHN0YXJ0O1xuICAgIGlucHV0LnNlbGVjdGlvbkVuZCA9IE1hdGgubWluKGVuZCwgaW5wdXQudmFsdWUubGVuZ3RoKTtcbiAgfSBlbHNlIHtcbiAgICBzZXRPZmZzZXRzKGlucHV0LCBvZmZzZXRzKTtcbiAgfVxufVxuXG52YXIgc2tpcFNlbGVjdGlvbkNoYW5nZUV2ZW50ID0gRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmICdkb2N1bWVudE1vZGUnIGluIGRvY3VtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50TW9kZSA8PSAxMTtcblxudmFyIGV2ZW50VHlwZXMkMyA9IHtcbiAgc2VsZWN0OiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6ICdvblNlbGVjdCcsXG4gICAgICBjYXB0dXJlZDogJ29uU2VsZWN0Q2FwdHVyZSdcbiAgICB9LFxuICAgIGRlcGVuZGVuY2llczogWyd0b3BCbHVyJywgJ3RvcENvbnRleHRNZW51JywgJ3RvcEZvY3VzJywgJ3RvcEtleURvd24nLCAndG9wS2V5VXAnLCAndG9wTW91c2VEb3duJywgJ3RvcE1vdXNlVXAnLCAndG9wU2VsZWN0aW9uQ2hhbmdlJ11cbiAgfVxufTtcblxudmFyIGFjdGl2ZUVsZW1lbnQkMSA9IG51bGw7XG52YXIgYWN0aXZlRWxlbWVudEluc3QkMSA9IG51bGw7XG52YXIgbGFzdFNlbGVjdGlvbiA9IG51bGw7XG52YXIgbW91c2VEb3duID0gZmFsc2U7XG5cbi8qKlxuICogR2V0IGFuIG9iamVjdCB3aGljaCBpcyBhIHVuaXF1ZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG4gKlxuICogVGhlIHJldHVybiB2YWx1ZSB3aWxsIG5vdCBiZSBjb25zaXN0ZW50IGFjcm9zcyBub2RlcyBvciBicm93c2VycywgYnV0XG4gKiB0d28gaWRlbnRpY2FsIHNlbGVjdGlvbnMgb24gdGhlIHNhbWUgbm9kZSB3aWxsIHJldHVybiBpZGVudGljYWwgb2JqZWN0cy5cbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IG5vZGVcbiAqIEByZXR1cm4ge29iamVjdH1cbiAqL1xuZnVuY3Rpb24gZ2V0U2VsZWN0aW9uKG5vZGUpIHtcbiAgaWYgKCdzZWxlY3Rpb25TdGFydCcgaW4gbm9kZSAmJiBoYXNTZWxlY3Rpb25DYXBhYmlsaXRpZXMobm9kZSkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhcnQ6IG5vZGUuc2VsZWN0aW9uU3RhcnQsXG4gICAgICBlbmQ6IG5vZGUuc2VsZWN0aW9uRW5kXG4gICAgfTtcbiAgfSBlbHNlIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XG4gICAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICByZXR1cm4ge1xuICAgICAgYW5jaG9yTm9kZTogc2VsZWN0aW9uLmFuY2hvck5vZGUsXG4gICAgICBhbmNob3JPZmZzZXQ6IHNlbGVjdGlvbi5hbmNob3JPZmZzZXQsXG4gICAgICBmb2N1c05vZGU6IHNlbGVjdGlvbi5mb2N1c05vZGUsXG4gICAgICBmb2N1c09mZnNldDogc2VsZWN0aW9uLmZvY3VzT2Zmc2V0XG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIFBvbGwgc2VsZWN0aW9uIHRvIHNlZSB3aGV0aGVyIGl0J3MgY2hhbmdlZC5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnRcbiAqIEByZXR1cm4gez9TeW50aGV0aWNFdmVudH1cbiAqL1xuZnVuY3Rpb24gY29uc3RydWN0U2VsZWN0RXZlbnQobmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gIC8vIEVuc3VyZSB3ZSBoYXZlIHRoZSByaWdodCBlbGVtZW50LCBhbmQgdGhhdCB0aGUgdXNlciBpcyBub3QgZHJhZ2dpbmcgYVxuICAvLyBzZWxlY3Rpb24gKHRoaXMgbWF0Y2hlcyBuYXRpdmUgYHNlbGVjdGAgZXZlbnQgYmVoYXZpb3IpLiBJbiBIVE1MNSwgc2VsZWN0XG4gIC8vIGZpcmVzIG9ubHkgb24gaW5wdXQgYW5kIHRleHRhcmVhIHRodXMgaWYgdGhlcmUncyBubyBmb2N1c2VkIGVsZW1lbnQgd2VcbiAgLy8gd29uJ3QgZGlzcGF0Y2guXG4gIGlmIChtb3VzZURvd24gfHwgYWN0aXZlRWxlbWVudCQxID09IG51bGwgfHwgYWN0aXZlRWxlbWVudCQxICE9PSBnZXRBY3RpdmVFbGVtZW50KCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIE9ubHkgZmlyZSB3aGVuIHNlbGVjdGlvbiBoYXMgYWN0dWFsbHkgY2hhbmdlZC5cbiAgdmFyIGN1cnJlbnRTZWxlY3Rpb24gPSBnZXRTZWxlY3Rpb24oYWN0aXZlRWxlbWVudCQxKTtcbiAgaWYgKCFsYXN0U2VsZWN0aW9uIHx8ICFzaGFsbG93RXF1YWwobGFzdFNlbGVjdGlvbiwgY3VycmVudFNlbGVjdGlvbikpIHtcbiAgICBsYXN0U2VsZWN0aW9uID0gY3VycmVudFNlbGVjdGlvbjtcblxuICAgIHZhciBzeW50aGV0aWNFdmVudCA9IFN5bnRoZXRpY0V2ZW50JDEuZ2V0UG9vbGVkKGV2ZW50VHlwZXMkMy5zZWxlY3QsIGFjdGl2ZUVsZW1lbnRJbnN0JDEsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG5cbiAgICBzeW50aGV0aWNFdmVudC50eXBlID0gJ3NlbGVjdCc7XG4gICAgc3ludGhldGljRXZlbnQudGFyZ2V0ID0gYWN0aXZlRWxlbWVudCQxO1xuXG4gICAgYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyhzeW50aGV0aWNFdmVudCk7XG5cbiAgICByZXR1cm4gc3ludGhldGljRXZlbnQ7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBUaGlzIHBsdWdpbiBjcmVhdGVzIGFuIGBvblNlbGVjdGAgZXZlbnQgdGhhdCBub3JtYWxpemVzIHNlbGVjdCBldmVudHNcbiAqIGFjcm9zcyBmb3JtIGVsZW1lbnRzLlxuICpcbiAqIFN1cHBvcnRlZCBlbGVtZW50cyBhcmU6XG4gKiAtIGlucHV0IChzZWUgYGlzVGV4dElucHV0RWxlbWVudGApXG4gKiAtIHRleHRhcmVhXG4gKiAtIGNvbnRlbnRFZGl0YWJsZVxuICpcbiAqIFRoaXMgZGlmZmVycyBmcm9tIG5hdGl2ZSBicm93c2VyIGltcGxlbWVudGF0aW9ucyBpbiB0aGUgZm9sbG93aW5nIHdheXM6XG4gKiAtIEZpcmVzIG9uIGNvbnRlbnRFZGl0YWJsZSBmaWVsZHMgYXMgd2VsbCBhcyBpbnB1dHMuXG4gKiAtIEZpcmVzIGZvciBjb2xsYXBzZWQgc2VsZWN0aW9uLlxuICogLSBGaXJlcyBhZnRlciB1c2VyIGlucHV0LlxuICovXG52YXIgU2VsZWN0RXZlbnRQbHVnaW4gPSB7XG4gIGV2ZW50VHlwZXM6IGV2ZW50VHlwZXMkMyxcblxuICBleHRyYWN0RXZlbnRzOiBmdW5jdGlvbiAodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICB2YXIgZG9jID0gbmF0aXZlRXZlbnRUYXJnZXQud2luZG93ID09PSBuYXRpdmVFdmVudFRhcmdldCA/IG5hdGl2ZUV2ZW50VGFyZ2V0LmRvY3VtZW50IDogbmF0aXZlRXZlbnRUYXJnZXQubm9kZVR5cGUgPT09IERPQ1VNRU5UX05PREUgPyBuYXRpdmVFdmVudFRhcmdldCA6IG5hdGl2ZUV2ZW50VGFyZ2V0Lm93bmVyRG9jdW1lbnQ7XG4gICAgLy8gVHJhY2sgd2hldGhlciBhbGwgbGlzdGVuZXJzIGV4aXN0cyBmb3IgdGhpcyBwbHVnaW4uIElmIG5vbmUgZXhpc3QsIHdlIGRvXG4gICAgLy8gbm90IGV4dHJhY3QgZXZlbnRzLiBTZWUgIzM2MzkuXG4gICAgaWYgKCFkb2MgfHwgIWlzTGlzdGVuaW5nVG9BbGxEZXBlbmRlbmNpZXMoJ29uU2VsZWN0JywgZG9jKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHRhcmdldE5vZGUgPSB0YXJnZXRJbnN0ID8gZ2V0Tm9kZUZyb21JbnN0YW5jZSQxKHRhcmdldEluc3QpIDogd2luZG93O1xuXG4gICAgc3dpdGNoICh0b3BMZXZlbFR5cGUpIHtcbiAgICAgIC8vIFRyYWNrIHRoZSBpbnB1dCBub2RlIHRoYXQgaGFzIGZvY3VzLlxuICAgICAgY2FzZSAndG9wRm9jdXMnOlxuICAgICAgICBpZiAoaXNUZXh0SW5wdXRFbGVtZW50KHRhcmdldE5vZGUpIHx8IHRhcmdldE5vZGUuY29udGVudEVkaXRhYmxlID09PSAndHJ1ZScpIHtcbiAgICAgICAgICBhY3RpdmVFbGVtZW50JDEgPSB0YXJnZXROb2RlO1xuICAgICAgICAgIGFjdGl2ZUVsZW1lbnRJbnN0JDEgPSB0YXJnZXRJbnN0O1xuICAgICAgICAgIGxhc3RTZWxlY3Rpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndG9wQmx1cic6XG4gICAgICAgIGFjdGl2ZUVsZW1lbnQkMSA9IG51bGw7XG4gICAgICAgIGFjdGl2ZUVsZW1lbnRJbnN0JDEgPSBudWxsO1xuICAgICAgICBsYXN0U2VsZWN0aW9uID0gbnVsbDtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBEb24ndCBmaXJlIHRoZSBldmVudCB3aGlsZSB0aGUgdXNlciBpcyBkcmFnZ2luZy4gVGhpcyBtYXRjaGVzIHRoZVxuICAgICAgLy8gc2VtYW50aWNzIG9mIHRoZSBuYXRpdmUgc2VsZWN0IGV2ZW50LlxuICAgICAgY2FzZSAndG9wTW91c2VEb3duJzpcbiAgICAgICAgbW91c2VEb3duID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0b3BDb250ZXh0TWVudSc6XG4gICAgICBjYXNlICd0b3BNb3VzZVVwJzpcbiAgICAgICAgbW91c2VEb3duID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3RTZWxlY3RFdmVudChuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgICAgLy8gQ2hyb21lIGFuZCBJRSBmaXJlIG5vbi1zdGFuZGFyZCBldmVudCB3aGVuIHNlbGVjdGlvbiBpcyBjaGFuZ2VkIChhbmRcbiAgICAgIC8vIHNvbWV0aW1lcyB3aGVuIGl0IGhhc24ndCkuIElFJ3MgZXZlbnQgZmlyZXMgb3V0IG9mIG9yZGVyIHdpdGggcmVzcGVjdFxuICAgICAgLy8gdG8ga2V5IGFuZCBpbnB1dCBldmVudHMgb24gZGVsZXRpb24sIHNvIHdlIGRpc2NhcmQgaXQuXG4gICAgICAvL1xuICAgICAgLy8gRmlyZWZveCBkb2Vzbid0IHN1cHBvcnQgc2VsZWN0aW9uY2hhbmdlLCBzbyBjaGVjayBzZWxlY3Rpb24gc3RhdHVzXG4gICAgICAvLyBhZnRlciBlYWNoIGtleSBlbnRyeS4gVGhlIHNlbGVjdGlvbiBjaGFuZ2VzIGFmdGVyIGtleWRvd24gYW5kIGJlZm9yZVxuICAgICAgLy8ga2V5dXAsIGJ1dCB3ZSBjaGVjayBvbiBrZXlkb3duIGFzIHdlbGwgaW4gdGhlIGNhc2Ugb2YgaG9sZGluZyBkb3duIGFcbiAgICAgIC8vIGtleSwgd2hlbiBtdWx0aXBsZSBrZXlkb3duIGV2ZW50cyBhcmUgZmlyZWQgYnV0IG9ubHkgb25lIGtleXVwIGlzLlxuICAgICAgLy8gVGhpcyBpcyBhbHNvIG91ciBhcHByb2FjaCBmb3IgSUUgaGFuZGxpbmcsIGZvciB0aGUgcmVhc29uIGFib3ZlLlxuICAgICAgY2FzZSAndG9wU2VsZWN0aW9uQ2hhbmdlJzpcbiAgICAgICAgaWYgKHNraXBTZWxlY3Rpb25DaGFuZ2VFdmVudCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAvLyBmYWxscyB0aHJvdWdoXG4gICAgICBjYXNlICd0b3BLZXlEb3duJzpcbiAgICAgIGNhc2UgJ3RvcEtleVVwJzpcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdFNlbGVjdEV2ZW50KG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogSW5qZWN0IG1vZHVsZXMgZm9yIHJlc29sdmluZyBET00gaGllcmFyY2h5IGFuZCBwbHVnaW4gb3JkZXJpbmcuXG4gKi9cbmluamVjdGlvbi5pbmplY3RFdmVudFBsdWdpbk9yZGVyKERPTUV2ZW50UGx1Z2luT3JkZXIpO1xuaW5qZWN0aW9uJDEuaW5qZWN0Q29tcG9uZW50VHJlZShSZWFjdERPTUNvbXBvbmVudFRyZWUpO1xuXG4vKipcbiAqIFNvbWUgaW1wb3J0YW50IGV2ZW50IHBsdWdpbnMgaW5jbHVkZWQgYnkgZGVmYXVsdCAod2l0aG91dCBoYXZpbmcgdG8gcmVxdWlyZVxuICogdGhlbSkuXG4gKi9cbmluamVjdGlvbi5pbmplY3RFdmVudFBsdWdpbnNCeU5hbWUoe1xuICBTaW1wbGVFdmVudFBsdWdpbjogU2ltcGxlRXZlbnRQbHVnaW4sXG4gIEVudGVyTGVhdmVFdmVudFBsdWdpbjogRW50ZXJMZWF2ZUV2ZW50UGx1Z2luLFxuICBDaGFuZ2VFdmVudFBsdWdpbjogQ2hhbmdlRXZlbnRQbHVnaW4sXG4gIFNlbGVjdEV2ZW50UGx1Z2luOiBTZWxlY3RFdmVudFBsdWdpbixcbiAgQmVmb3JlSW5wdXRFdmVudFBsdWdpbjogQmVmb3JlSW5wdXRFdmVudFBsdWdpblxufSk7XG5cbi8vIE1heCAzMSBiaXQgaW50ZWdlci4gVGhlIG1heCBpbnRlZ2VyIHNpemUgaW4gVjggZm9yIDMyLWJpdCBzeXN0ZW1zLlxuLy8gTWF0aC5wb3coMiwgMzApIC0gMVxuLy8gMGIxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTFcbnZhciBNQVhfU0lHTkVEXzMxX0JJVF9JTlQgPSAxMDczNzQxODIzO1xuXG4vLyBUT0RPOiBVc2UgYW4gb3BhcXVlIHR5cGUgb25jZSBFU0xpbnQgZXQgYWwgc3VwcG9ydCB0aGUgc3ludGF4XG5cblxudmFyIE5vV29yayA9IDA7XG52YXIgU3luYyA9IDE7XG52YXIgTmV2ZXIgPSBNQVhfU0lHTkVEXzMxX0JJVF9JTlQ7XG5cbnZhciBVTklUX1NJWkUgPSAxMDtcbnZhciBNQUdJQ19OVU1CRVJfT0ZGU0VUID0gMjtcblxuLy8gMSB1bml0IG9mIGV4cGlyYXRpb24gdGltZSByZXByZXNlbnRzIDEwbXMuXG5mdW5jdGlvbiBtc1RvRXhwaXJhdGlvblRpbWUobXMpIHtcbiAgLy8gQWx3YXlzIGFkZCBhbiBvZmZzZXQgc28gdGhhdCB3ZSBkb24ndCBjbGFzaCB3aXRoIHRoZSBtYWdpYyBudW1iZXIgZm9yIE5vV29yay5cbiAgcmV0dXJuIChtcyAvIFVOSVRfU0laRSB8IDApICsgTUFHSUNfTlVNQkVSX09GRlNFVDtcbn1cblxuZnVuY3Rpb24gZXhwaXJhdGlvblRpbWVUb01zKGV4cGlyYXRpb25UaW1lKSB7XG4gIHJldHVybiAoZXhwaXJhdGlvblRpbWUgLSBNQUdJQ19OVU1CRVJfT0ZGU0VUKSAqIFVOSVRfU0laRTtcbn1cblxuZnVuY3Rpb24gY2VpbGluZyhudW0sIHByZWNpc2lvbikge1xuICByZXR1cm4gKChudW0gLyBwcmVjaXNpb24gfCAwKSArIDEpICogcHJlY2lzaW9uO1xufVxuXG5mdW5jdGlvbiBjb21wdXRlRXhwaXJhdGlvbkJ1Y2tldChjdXJyZW50VGltZSwgZXhwaXJhdGlvbkluTXMsIGJ1Y2tldFNpemVNcykge1xuICByZXR1cm4gY2VpbGluZyhjdXJyZW50VGltZSArIGV4cGlyYXRpb25Jbk1zIC8gVU5JVF9TSVpFLCBidWNrZXRTaXplTXMgLyBVTklUX1NJWkUpO1xufVxuXG52YXIgTm9Db250ZXh0ID0gMDtcbnZhciBBc3luY01vZGUgPSAxO1xudmFyIFN0cmljdE1vZGUgPSAyO1xuXG52YXIgaGFzQmFkTWFwUG9seWZpbGwgPSB2b2lkIDA7XG5cbntcbiAgaGFzQmFkTWFwUG9seWZpbGwgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICB2YXIgbm9uRXh0ZW5zaWJsZU9iamVjdCA9IE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSk7XG4gICAgdmFyIHRlc3RNYXAgPSBuZXcgTWFwKFtbbm9uRXh0ZW5zaWJsZU9iamVjdCwgbnVsbF1dKTtcbiAgICB2YXIgdGVzdFNldCA9IG5ldyBTZXQoW25vbkV4dGVuc2libGVPYmplY3RdKTtcbiAgICAvLyBUaGlzIGlzIG5lY2Vzc2FyeSBmb3IgUm9sbHVwIHRvIG5vdCBjb25zaWRlciB0aGVzZSB1bnVzZWQuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3JvbGx1cC9yb2xsdXAvaXNzdWVzLzE3NzFcbiAgICAvLyBUT0RPOiB3ZSBjYW4gcmVtb3ZlIHRoZXNlIGlmIFJvbGx1cCBmaXhlcyB0aGUgYnVnLlxuICAgIHRlc3RNYXAuc2V0KDAsIDApO1xuICAgIHRlc3RTZXQuYWRkKDApO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gVE9ETzogQ29uc2lkZXIgd2FybmluZyBhYm91dCBiYWQgcG9seWZpbGxzXG4gICAgaGFzQmFkTWFwUG9seWZpbGwgPSB0cnVlO1xuICB9XG59XG5cbi8vIEEgRmliZXIgaXMgd29yayBvbiBhIENvbXBvbmVudCB0aGF0IG5lZWRzIHRvIGJlIGRvbmUgb3Igd2FzIGRvbmUuIFRoZXJlIGNhblxuLy8gYmUgbW9yZSB0aGFuIG9uZSBwZXIgY29tcG9uZW50LlxuXG5cbnZhciBkZWJ1Z0NvdW50ZXIgPSB2b2lkIDA7XG5cbntcbiAgZGVidWdDb3VudGVyID0gMTtcbn1cblxuZnVuY3Rpb24gRmliZXJOb2RlKHRhZywgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpIHtcbiAgLy8gSW5zdGFuY2VcbiAgdGhpcy50YWcgPSB0YWc7XG4gIHRoaXMua2V5ID0ga2V5O1xuICB0aGlzLnR5cGUgPSBudWxsO1xuICB0aGlzLnN0YXRlTm9kZSA9IG51bGw7XG5cbiAgLy8gRmliZXJcbiAgdGhpc1sncmV0dXJuJ10gPSBudWxsO1xuICB0aGlzLmNoaWxkID0gbnVsbDtcbiAgdGhpcy5zaWJsaW5nID0gbnVsbDtcbiAgdGhpcy5pbmRleCA9IDA7XG5cbiAgdGhpcy5yZWYgPSBudWxsO1xuXG4gIHRoaXMucGVuZGluZ1Byb3BzID0gcGVuZGluZ1Byb3BzO1xuICB0aGlzLm1lbW9pemVkUHJvcHMgPSBudWxsO1xuICB0aGlzLnVwZGF0ZVF1ZXVlID0gbnVsbDtcbiAgdGhpcy5tZW1vaXplZFN0YXRlID0gbnVsbDtcblxuICB0aGlzLm1vZGUgPSBtb2RlO1xuXG4gIC8vIEVmZmVjdHNcbiAgdGhpcy5lZmZlY3RUYWcgPSBOb0VmZmVjdDtcbiAgdGhpcy5uZXh0RWZmZWN0ID0gbnVsbDtcblxuICB0aGlzLmZpcnN0RWZmZWN0ID0gbnVsbDtcbiAgdGhpcy5sYXN0RWZmZWN0ID0gbnVsbDtcblxuICB0aGlzLmV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuXG4gIHRoaXMuYWx0ZXJuYXRlID0gbnVsbDtcblxuICB7XG4gICAgdGhpcy5fZGVidWdJRCA9IGRlYnVnQ291bnRlcisrO1xuICAgIHRoaXMuX2RlYnVnU291cmNlID0gbnVsbDtcbiAgICB0aGlzLl9kZWJ1Z093bmVyID0gbnVsbDtcbiAgICB0aGlzLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nID0gZmFsc2U7XG4gICAgaWYgKCFoYXNCYWRNYXBQb2x5ZmlsbCAmJiB0eXBlb2YgT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBPYmplY3QucHJldmVudEV4dGVuc2lvbnModGhpcyk7XG4gICAgfVxuICB9XG59XG5cbi8vIFRoaXMgaXMgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiwgcmF0aGVyIHRoYW4gYSBQT0pPIGNvbnN0cnVjdG9yLCBzdGlsbFxuLy8gcGxlYXNlIGVuc3VyZSB3ZSBkbyB0aGUgZm9sbG93aW5nOlxuLy8gMSkgTm9ib2R5IHNob3VsZCBhZGQgYW55IGluc3RhbmNlIG1ldGhvZHMgb24gdGhpcy4gSW5zdGFuY2UgbWV0aG9kcyBjYW4gYmVcbi8vICAgIG1vcmUgZGlmZmljdWx0IHRvIHByZWRpY3Qgd2hlbiB0aGV5IGdldCBvcHRpbWl6ZWQgYW5kIHRoZXkgYXJlIGFsbW9zdFxuLy8gICAgbmV2ZXIgaW5saW5lZCBwcm9wZXJseSBpbiBzdGF0aWMgY29tcGlsZXJzLlxuLy8gMikgTm9ib2R5IHNob3VsZCByZWx5IG9uIGBpbnN0YW5jZW9mIEZpYmVyYCBmb3IgdHlwZSB0ZXN0aW5nLiBXZSBzaG91bGRcbi8vICAgIGFsd2F5cyBrbm93IHdoZW4gaXQgaXMgYSBmaWJlci5cbi8vIDMpIFdlIG1pZ2h0IHdhbnQgdG8gZXhwZXJpbWVudCB3aXRoIHVzaW5nIG51bWVyaWMga2V5cyBzaW5jZSB0aGV5IGFyZSBlYXNpZXJcbi8vICAgIHRvIG9wdGltaXplIGluIGEgbm9uLUpJVCBlbnZpcm9ubWVudC5cbi8vIDQpIFdlIGNhbiBlYXNpbHkgZ28gZnJvbSBhIGNvbnN0cnVjdG9yIHRvIGEgY3JlYXRlRmliZXIgb2JqZWN0IGxpdGVyYWwgaWYgdGhhdFxuLy8gICAgaXMgZmFzdGVyLlxuLy8gNSkgSXQgc2hvdWxkIGJlIGVhc3kgdG8gcG9ydCB0aGlzIHRvIGEgQyBzdHJ1Y3QgYW5kIGtlZXAgYSBDIGltcGxlbWVudGF0aW9uXG4vLyAgICBjb21wYXRpYmxlLlxudmFyIGNyZWF0ZUZpYmVyID0gZnVuY3Rpb24gKHRhZywgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpIHtcbiAgLy8gJEZsb3dGaXhNZTogdGhlIHNoYXBlcyBhcmUgZXhhY3QgaGVyZSBidXQgRmxvdyBkb2Vzbid0IGxpa2UgY29uc3RydWN0b3JzXG4gIHJldHVybiBuZXcgRmliZXJOb2RlKHRhZywgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpO1xufTtcblxuZnVuY3Rpb24gc2hvdWxkQ29uc3RydWN0KENvbXBvbmVudCkge1xuICByZXR1cm4gISEoQ29tcG9uZW50LnByb3RvdHlwZSAmJiBDb21wb25lbnQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQpO1xufVxuXG4vLyBUaGlzIGlzIHVzZWQgdG8gY3JlYXRlIGFuIGFsdGVybmF0ZSBmaWJlciB0byBkbyB3b3JrIG9uLlxuZnVuY3Rpb24gY3JlYXRlV29ya0luUHJvZ3Jlc3MoY3VycmVudCwgcGVuZGluZ1Byb3BzLCBleHBpcmF0aW9uVGltZSkge1xuICB2YXIgd29ya0luUHJvZ3Jlc3MgPSBjdXJyZW50LmFsdGVybmF0ZTtcbiAgaWYgKHdvcmtJblByb2dyZXNzID09PSBudWxsKSB7XG4gICAgLy8gV2UgdXNlIGEgZG91YmxlIGJ1ZmZlcmluZyBwb29saW5nIHRlY2huaXF1ZSBiZWNhdXNlIHdlIGtub3cgdGhhdCB3ZSdsbFxuICAgIC8vIG9ubHkgZXZlciBuZWVkIGF0IG1vc3QgdHdvIHZlcnNpb25zIG9mIGEgdHJlZS4gV2UgcG9vbCB0aGUgXCJvdGhlclwiIHVudXNlZFxuICAgIC8vIG5vZGUgdGhhdCB3ZSdyZSBmcmVlIHRvIHJldXNlLiBUaGlzIGlzIGxhemlseSBjcmVhdGVkIHRvIGF2b2lkIGFsbG9jYXRpbmdcbiAgICAvLyBleHRyYSBvYmplY3RzIGZvciB0aGluZ3MgdGhhdCBhcmUgbmV2ZXIgdXBkYXRlZC4gSXQgYWxzbyBhbGxvdyB1cyB0b1xuICAgIC8vIHJlY2xhaW0gdGhlIGV4dHJhIG1lbW9yeSBpZiBuZWVkZWQuXG4gICAgd29ya0luUHJvZ3Jlc3MgPSBjcmVhdGVGaWJlcihjdXJyZW50LnRhZywgcGVuZGluZ1Byb3BzLCBjdXJyZW50LmtleSwgY3VycmVudC5tb2RlKTtcbiAgICB3b3JrSW5Qcm9ncmVzcy50eXBlID0gY3VycmVudC50eXBlO1xuICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGN1cnJlbnQuc3RhdGVOb2RlO1xuXG4gICAge1xuICAgICAgLy8gREVWLW9ubHkgZmllbGRzXG4gICAgICB3b3JrSW5Qcm9ncmVzcy5fZGVidWdJRCA9IGN1cnJlbnQuX2RlYnVnSUQ7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5fZGVidWdTb3VyY2UgPSBjdXJyZW50Ll9kZWJ1Z1NvdXJjZTtcbiAgICAgIHdvcmtJblByb2dyZXNzLl9kZWJ1Z093bmVyID0gY3VycmVudC5fZGVidWdPd25lcjtcbiAgICB9XG5cbiAgICB3b3JrSW5Qcm9ncmVzcy5hbHRlcm5hdGUgPSBjdXJyZW50O1xuICAgIGN1cnJlbnQuYWx0ZXJuYXRlID0gd29ya0luUHJvZ3Jlc3M7XG4gIH0gZWxzZSB7XG4gICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzID0gcGVuZGluZ1Byb3BzO1xuXG4gICAgLy8gV2UgYWxyZWFkeSBoYXZlIGFuIGFsdGVybmF0ZS5cbiAgICAvLyBSZXNldCB0aGUgZWZmZWN0IHRhZy5cbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgPSBOb0VmZmVjdDtcblxuICAgIC8vIFRoZSBlZmZlY3QgbGlzdCBpcyBubyBsb25nZXIgdmFsaWQuXG4gICAgd29ya0luUHJvZ3Jlc3MubmV4dEVmZmVjdCA9IG51bGw7XG4gICAgd29ya0luUHJvZ3Jlc3MuZmlyc3RFZmZlY3QgPSBudWxsO1xuICAgIHdvcmtJblByb2dyZXNzLmxhc3RFZmZlY3QgPSBudWxsO1xuICB9XG5cbiAgd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcblxuICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGN1cnJlbnQuY2hpbGQ7XG4gIHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHM7XG4gIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGU7XG4gIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gY3VycmVudC51cGRhdGVRdWV1ZTtcblxuICAvLyBUaGVzZSB3aWxsIGJlIG92ZXJyaWRkZW4gZHVyaW5nIHRoZSBwYXJlbnQncyByZWNvbmNpbGlhdGlvblxuICB3b3JrSW5Qcm9ncmVzcy5zaWJsaW5nID0gY3VycmVudC5zaWJsaW5nO1xuICB3b3JrSW5Qcm9ncmVzcy5pbmRleCA9IGN1cnJlbnQuaW5kZXg7XG4gIHdvcmtJblByb2dyZXNzLnJlZiA9IGN1cnJlbnQucmVmO1xuXG4gIHJldHVybiB3b3JrSW5Qcm9ncmVzcztcbn1cblxuZnVuY3Rpb24gY3JlYXRlSG9zdFJvb3RGaWJlcihpc0FzeW5jKSB7XG4gIHZhciBtb2RlID0gaXNBc3luYyA/IEFzeW5jTW9kZSB8IFN0cmljdE1vZGUgOiBOb0NvbnRleHQ7XG4gIHJldHVybiBjcmVhdGVGaWJlcihIb3N0Um9vdCwgbnVsbCwgbnVsbCwgbW9kZSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbUVsZW1lbnQoZWxlbWVudCwgbW9kZSwgZXhwaXJhdGlvblRpbWUpIHtcbiAgdmFyIG93bmVyID0gbnVsbDtcbiAge1xuICAgIG93bmVyID0gZWxlbWVudC5fb3duZXI7XG4gIH1cblxuICB2YXIgZmliZXIgPSB2b2lkIDA7XG4gIHZhciB0eXBlID0gZWxlbWVudC50eXBlO1xuICB2YXIga2V5ID0gZWxlbWVudC5rZXk7XG4gIHZhciBwZW5kaW5nUHJvcHMgPSBlbGVtZW50LnByb3BzO1xuXG4gIHZhciBmaWJlclRhZyA9IHZvaWQgMDtcbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZmliZXJUYWcgPSBzaG91bGRDb25zdHJ1Y3QodHlwZSkgPyBDbGFzc0NvbXBvbmVudCA6IEluZGV0ZXJtaW5hdGVDb21wb25lbnQ7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgZmliZXJUYWcgPSBIb3N0Q29tcG9uZW50O1xuICB9IGVsc2Uge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICByZXR1cm4gY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQocGVuZGluZ1Byb3BzLmNoaWxkcmVuLCBtb2RlLCBleHBpcmF0aW9uVGltZSwga2V5KTtcbiAgICAgIGNhc2UgUkVBQ1RfQVNZTkNfTU9ERV9UWVBFOlxuICAgICAgICBmaWJlclRhZyA9IE1vZGU7XG4gICAgICAgIG1vZGUgfD0gQXN5bmNNb2RlIHwgU3RyaWN0TW9kZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICAgIGZpYmVyVGFnID0gTW9kZTtcbiAgICAgICAgbW9kZSB8PSBTdHJpY3RNb2RlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUkVBQ1RfQ0FMTF9UWVBFOlxuICAgICAgICBmaWJlclRhZyA9IENhbGxDb21wb25lbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBSRUFDVF9SRVRVUk5fVFlQRTpcbiAgICAgICAgZmliZXJUYWcgPSBSZXR1cm5Db21wb25lbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAge1xuICAgICAgICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlLiQkdHlwZW9mKSB7XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfUFJPVklERVJfVFlQRTpcbiAgICAgICAgICAgICAgICBmaWJlclRhZyA9IENvbnRleHRQcm92aWRlcjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIGNvbnN1bWVyXG4gICAgICAgICAgICAgICAgZmliZXJUYWcgPSBDb250ZXh0Q29uc3VtZXI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgICAgICAgICBmaWJlclRhZyA9IEZvcndhcmRSZWY7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0eXBlLnRhZyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgIC8vIEN1cnJlbnRseSBhc3N1bWVkIHRvIGJlIGEgY29udGludWF0aW9uIGFuZCB0aGVyZWZvcmUgaXMgYVxuICAgICAgICAgICAgICAgICAgLy8gZmliZXIgYWxyZWFkeS5cbiAgICAgICAgICAgICAgICAgIC8vIFRPRE86IFRoZSB5aWVsZCBzeXN0ZW0gaXMgY3VycmVudGx5IGJyb2tlbiBmb3IgdXBkYXRlcyBpblxuICAgICAgICAgICAgICAgICAgLy8gc29tZSBjYXNlcy4gVGhlIHJlaWZpZWQgeWllbGQgc3RvcmVzIGEgZmliZXIsIGJ1dCB3ZSBkb24ndFxuICAgICAgICAgICAgICAgICAgLy8ga25vdyB3aGljaCBmaWJlciB0aGF0IGlzOyB0aGUgY3VycmVudCBvciBhIHdvcmtJblByb2dyZXNzP1xuICAgICAgICAgICAgICAgICAgLy8gV2hlbiB0aGUgY29udGludWF0aW9uIGdldHMgcmVuZGVyZWQgaGVyZSB3ZSBkb24ndCBrbm93IGlmIHdlXG4gICAgICAgICAgICAgICAgICAvLyBjYW4gcmV1c2UgdGhhdCBmaWJlciBvciBpZiB3ZSBuZWVkIHRvIGNsb25lIGl0LiBUaGVyZSBpc1xuICAgICAgICAgICAgICAgICAgLy8gcHJvYmFibHkgYSBjbGV2ZXIgd2F5IHRvIHJlc3RydWN0dXJlIHRoaXMuXG4gICAgICAgICAgICAgICAgICBmaWJlciA9IHR5cGU7XG4gICAgICAgICAgICAgICAgICBmaWJlci5wZW5kaW5nUHJvcHMgPSBwZW5kaW5nUHJvcHM7XG4gICAgICAgICAgICAgICAgICBmaWJlci5leHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpYmVyO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0aHJvd09uSW52YWxpZEVsZW1lbnRUeXBlKHR5cGUsIG93bmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93T25JbnZhbGlkRWxlbWVudFR5cGUodHlwZSwgb3duZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZpYmVyID0gY3JlYXRlRmliZXIoZmliZXJUYWcsIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlKTtcbiAgZmliZXIudHlwZSA9IHR5cGU7XG4gIGZpYmVyLmV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG5cbiAge1xuICAgIGZpYmVyLl9kZWJ1Z1NvdXJjZSA9IGVsZW1lbnQuX3NvdXJjZTtcbiAgICBmaWJlci5fZGVidWdPd25lciA9IGVsZW1lbnQuX293bmVyO1xuICB9XG5cbiAgcmV0dXJuIGZpYmVyO1xufVxuXG5mdW5jdGlvbiB0aHJvd09uSW52YWxpZEVsZW1lbnRUeXBlKHR5cGUsIG93bmVyKSB7XG4gIHZhciBpbmZvID0gJyc7XG4gIHtcbiAgICBpZiAodHlwZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsICYmIE9iamVjdC5rZXlzKHR5cGUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaW5mbyArPSAnIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlICcgKyBcIml0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgXCIgKyAnbmFtZWQgaW1wb3J0cy4nO1xuICAgIH1cbiAgICB2YXIgb3duZXJOYW1lID0gb3duZXIgPyBnZXRDb21wb25lbnROYW1lKG93bmVyKSA6IG51bGw7XG4gICAgaWYgKG93bmVyTmFtZSkge1xuICAgICAgaW5mbyArPSAnXFxuXFxuQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBvd25lck5hbWUgKyAnYC4nO1xuICAgIH1cbiAgfVxuICBpbnZhcmlhbnQoZmFsc2UsICdFbGVtZW50IHR5cGUgaXMgaW52YWxpZDogZXhwZWN0ZWQgYSBzdHJpbmcgKGZvciBidWlsdC1pbiBjb21wb25lbnRzKSBvciBhIGNsYXNzL2Z1bmN0aW9uIChmb3IgY29tcG9zaXRlIGNvbXBvbmVudHMpIGJ1dCBnb3Q6ICVzLiVzJywgdHlwZSA9PSBudWxsID8gdHlwZSA6IHR5cGVvZiB0eXBlLCBpbmZvKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQoZWxlbWVudHMsIG1vZGUsIGV4cGlyYXRpb25UaW1lLCBrZXkpIHtcbiAgdmFyIGZpYmVyID0gY3JlYXRlRmliZXIoRnJhZ21lbnQsIGVsZW1lbnRzLCBrZXksIG1vZGUpO1xuICBmaWJlci5leHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICByZXR1cm4gZmliZXI7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbVRleHQoY29udGVudCwgbW9kZSwgZXhwaXJhdGlvblRpbWUpIHtcbiAgdmFyIGZpYmVyID0gY3JlYXRlRmliZXIoSG9zdFRleHQsIGNvbnRlbnQsIG51bGwsIG1vZGUpO1xuICBmaWJlci5leHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICByZXR1cm4gZmliZXI7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbUhvc3RJbnN0YW5jZUZvckRlbGV0aW9uKCkge1xuICB2YXIgZmliZXIgPSBjcmVhdGVGaWJlcihIb3N0Q29tcG9uZW50LCBudWxsLCBudWxsLCBOb0NvbnRleHQpO1xuICBmaWJlci50eXBlID0gJ0RFTEVURUQnO1xuICByZXR1cm4gZmliZXI7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbVBvcnRhbChwb3J0YWwsIG1vZGUsIGV4cGlyYXRpb25UaW1lKSB7XG4gIHZhciBwZW5kaW5nUHJvcHMgPSBwb3J0YWwuY2hpbGRyZW4gIT09IG51bGwgPyBwb3J0YWwuY2hpbGRyZW4gOiBbXTtcbiAgdmFyIGZpYmVyID0gY3JlYXRlRmliZXIoSG9zdFBvcnRhbCwgcGVuZGluZ1Byb3BzLCBwb3J0YWwua2V5LCBtb2RlKTtcbiAgZmliZXIuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgZmliZXIuc3RhdGVOb2RlID0ge1xuICAgIGNvbnRhaW5lckluZm86IHBvcnRhbC5jb250YWluZXJJbmZvLFxuICAgIHBlbmRpbmdDaGlsZHJlbjogbnVsbCwgLy8gVXNlZCBieSBwZXJzaXN0ZW50IHVwZGF0ZXNcbiAgICBpbXBsZW1lbnRhdGlvbjogcG9ydGFsLmltcGxlbWVudGF0aW9uXG4gIH07XG4gIHJldHVybiBmaWJlcjtcbn1cblxuLy8gVXNlZCBmb3Igc3Rhc2hpbmcgV0lQIHByb3BlcnRpZXMgdG8gcmVwbGF5IGZhaWxlZCB3b3JrIGluIERFVi5cbmZ1bmN0aW9uIGFzc2lnbkZpYmVyUHJvcGVydGllc0luREVWKHRhcmdldCwgc291cmNlKSB7XG4gIGlmICh0YXJnZXQgPT09IG51bGwpIHtcbiAgICAvLyBUaGlzIEZpYmVyJ3MgaW5pdGlhbCBwcm9wZXJ0aWVzIHdpbGwgYWx3YXlzIGJlIG92ZXJ3cml0dGVuLlxuICAgIC8vIFdlIG9ubHkgdXNlIGEgRmliZXIgdG8gZW5zdXJlIHRoZSBzYW1lIGhpZGRlbiBjbGFzcyBzbyBERVYgaXNuJ3Qgc2xvdy5cbiAgICB0YXJnZXQgPSBjcmVhdGVGaWJlcihJbmRldGVybWluYXRlQ29tcG9uZW50LCBudWxsLCBudWxsLCBOb0NvbnRleHQpO1xuICB9XG5cbiAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbGx5IHdyaXR0ZW4gYXMgYSBsaXN0IG9mIGFsbCBwcm9wZXJ0aWVzLlxuICAvLyBXZSB0cmllZCB0byB1c2UgT2JqZWN0LmFzc2lnbigpIGluc3RlYWQgYnV0IHRoaXMgaXMgY2FsbGVkIGluXG4gIC8vIHRoZSBob3R0ZXN0IHBhdGgsIGFuZCBPYmplY3QuYXNzaWduKCkgd2FzIHRvbyBzbG93OlxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzEyNTAyXG4gIC8vIFRoaXMgY29kZSBpcyBERVYtb25seSBzbyBzaXplIGlzIG5vdCBhIGNvbmNlcm4uXG5cbiAgdGFyZ2V0LnRhZyA9IHNvdXJjZS50YWc7XG4gIHRhcmdldC5rZXkgPSBzb3VyY2Uua2V5O1xuICB0YXJnZXQudHlwZSA9IHNvdXJjZS50eXBlO1xuICB0YXJnZXQuc3RhdGVOb2RlID0gc291cmNlLnN0YXRlTm9kZTtcbiAgdGFyZ2V0WydyZXR1cm4nXSA9IHNvdXJjZVsncmV0dXJuJ107XG4gIHRhcmdldC5jaGlsZCA9IHNvdXJjZS5jaGlsZDtcbiAgdGFyZ2V0LnNpYmxpbmcgPSBzb3VyY2Uuc2libGluZztcbiAgdGFyZ2V0LmluZGV4ID0gc291cmNlLmluZGV4O1xuICB0YXJnZXQucmVmID0gc291cmNlLnJlZjtcbiAgdGFyZ2V0LnBlbmRpbmdQcm9wcyA9IHNvdXJjZS5wZW5kaW5nUHJvcHM7XG4gIHRhcmdldC5tZW1vaXplZFByb3BzID0gc291cmNlLm1lbW9pemVkUHJvcHM7XG4gIHRhcmdldC51cGRhdGVRdWV1ZSA9IHNvdXJjZS51cGRhdGVRdWV1ZTtcbiAgdGFyZ2V0Lm1lbW9pemVkU3RhdGUgPSBzb3VyY2UubWVtb2l6ZWRTdGF0ZTtcbiAgdGFyZ2V0Lm1vZGUgPSBzb3VyY2UubW9kZTtcbiAgdGFyZ2V0LmVmZmVjdFRhZyA9IHNvdXJjZS5lZmZlY3RUYWc7XG4gIHRhcmdldC5uZXh0RWZmZWN0ID0gc291cmNlLm5leHRFZmZlY3Q7XG4gIHRhcmdldC5maXJzdEVmZmVjdCA9IHNvdXJjZS5maXJzdEVmZmVjdDtcbiAgdGFyZ2V0Lmxhc3RFZmZlY3QgPSBzb3VyY2UubGFzdEVmZmVjdDtcbiAgdGFyZ2V0LmV4cGlyYXRpb25UaW1lID0gc291cmNlLmV4cGlyYXRpb25UaW1lO1xuICB0YXJnZXQuYWx0ZXJuYXRlID0gc291cmNlLmFsdGVybmF0ZTtcbiAgdGFyZ2V0Ll9kZWJ1Z0lEID0gc291cmNlLl9kZWJ1Z0lEO1xuICB0YXJnZXQuX2RlYnVnU291cmNlID0gc291cmNlLl9kZWJ1Z1NvdXJjZTtcbiAgdGFyZ2V0Ll9kZWJ1Z093bmVyID0gc291cmNlLl9kZWJ1Z093bmVyO1xuICB0YXJnZXQuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmcgPSBzb3VyY2UuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmc7XG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbi8vIFRPRE86IFRoaXMgc2hvdWxkIGJlIGxpZnRlZCBpbnRvIHRoZSByZW5kZXJlci5cblxuXG5mdW5jdGlvbiBjcmVhdGVGaWJlclJvb3QoY29udGFpbmVySW5mbywgaXNBc3luYywgaHlkcmF0ZSkge1xuICAvLyBDeWNsaWMgY29uc3RydWN0aW9uLiBUaGlzIGNoZWF0cyB0aGUgdHlwZSBzeXN0ZW0gcmlnaHQgbm93IGJlY2F1c2VcbiAgLy8gc3RhdGVOb2RlIGlzIGFueS5cbiAgdmFyIHVuaW5pdGlhbGl6ZWRGaWJlciA9IGNyZWF0ZUhvc3RSb290RmliZXIoaXNBc3luYyk7XG4gIHZhciByb290ID0ge1xuICAgIGN1cnJlbnQ6IHVuaW5pdGlhbGl6ZWRGaWJlcixcbiAgICBjb250YWluZXJJbmZvOiBjb250YWluZXJJbmZvLFxuICAgIHBlbmRpbmdDaGlsZHJlbjogbnVsbCxcbiAgICBwZW5kaW5nQ29tbWl0RXhwaXJhdGlvblRpbWU6IE5vV29yayxcbiAgICBmaW5pc2hlZFdvcms6IG51bGwsXG4gICAgY29udGV4dDogbnVsbCxcbiAgICBwZW5kaW5nQ29udGV4dDogbnVsbCxcbiAgICBoeWRyYXRlOiBoeWRyYXRlLFxuICAgIHJlbWFpbmluZ0V4cGlyYXRpb25UaW1lOiBOb1dvcmssXG4gICAgZmlyc3RCYXRjaDogbnVsbCxcbiAgICBuZXh0U2NoZWR1bGVkUm9vdDogbnVsbFxuICB9O1xuICB1bmluaXRpYWxpemVkRmliZXIuc3RhdGVOb2RlID0gcm9vdDtcbiAgcmV0dXJuIHJvb3Q7XG59XG5cbnZhciBvbkNvbW1pdEZpYmVyUm9vdCA9IG51bGw7XG52YXIgb25Db21taXRGaWJlclVubW91bnQgPSBudWxsO1xudmFyIGhhc0xvZ2dlZEVycm9yID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGNhdGNoRXJyb3JzKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmbihhcmcpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKHRydWUgJiYgIWhhc0xvZ2dlZEVycm9yKSB7XG4gICAgICAgIGhhc0xvZ2dlZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJ1JlYWN0IERldlRvb2xzIGVuY291bnRlcmVkIGFuIGVycm9yOiAlcycsIGVycik7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBpbmplY3RJbnRlcm5hbHMoaW50ZXJuYWxzKSB7XG4gIGlmICh0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fID09PSAndW5kZWZpbmVkJykge1xuICAgIC8vIE5vIERldlRvb2xzXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBob29rID0gX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fO1xuICBpZiAoaG9vay5pc0Rpc2FibGVkKSB7XG4gICAgLy8gVGhpcyBpc24ndCBhIHJlYWwgcHJvcGVydHkgb24gdGhlIGhvb2ssIGJ1dCBpdCBjYW4gYmUgc2V0IHRvIG9wdCBvdXRcbiAgICAvLyBvZiBEZXZUb29scyBpbnRlZ3JhdGlvbiBhbmQgYXNzb2NpYXRlZCB3YXJuaW5ncyBhbmQgbG9ncy5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzM4NzdcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoIWhvb2suc3VwcG9ydHNGaWJlcikge1xuICAgIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdUaGUgaW5zdGFsbGVkIHZlcnNpb24gb2YgUmVhY3QgRGV2VG9vbHMgaXMgdG9vIG9sZCBhbmQgd2lsbCBub3Qgd29yayAnICsgJ3dpdGggdGhlIGN1cnJlbnQgdmVyc2lvbiBvZiBSZWFjdC4gUGxlYXNlIHVwZGF0ZSBSZWFjdCBEZXZUb29scy4gJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWRldnRvb2xzJyk7XG4gICAgfVxuICAgIC8vIERldlRvb2xzIGV4aXN0cywgZXZlbiB0aG91Z2ggaXQgZG9lc24ndCBzdXBwb3J0IEZpYmVyLlxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHRyeSB7XG4gICAgdmFyIHJlbmRlcmVySUQgPSBob29rLmluamVjdChpbnRlcm5hbHMpO1xuICAgIC8vIFdlIGhhdmUgc3VjY2Vzc2Z1bGx5IGluamVjdGVkLCBzbyBub3cgaXQgaXMgc2FmZSB0byBzZXQgdXAgaG9va3MuXG4gICAgb25Db21taXRGaWJlclJvb3QgPSBjYXRjaEVycm9ycyhmdW5jdGlvbiAocm9vdCkge1xuICAgICAgcmV0dXJuIGhvb2sub25Db21taXRGaWJlclJvb3QocmVuZGVyZXJJRCwgcm9vdCk7XG4gICAgfSk7XG4gICAgb25Db21taXRGaWJlclVubW91bnQgPSBjYXRjaEVycm9ycyhmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgIHJldHVybiBob29rLm9uQ29tbWl0RmliZXJVbm1vdW50KHJlbmRlcmVySUQsIGZpYmVyKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gQ2F0Y2ggYWxsIGVycm9ycyBiZWNhdXNlIGl0IGlzIHVuc2FmZSB0byB0aHJvdyBkdXJpbmcgaW5pdGlhbGl6YXRpb24uXG4gICAge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ1JlYWN0IERldlRvb2xzIGVuY291bnRlcmVkIGFuIGVycm9yOiAlcy4nLCBlcnIpO1xuICAgIH1cbiAgfVxuICAvLyBEZXZUb29scyBleGlzdHNcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIG9uQ29tbWl0Um9vdChyb290KSB7XG4gIGlmICh0eXBlb2Ygb25Db21taXRGaWJlclJvb3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvbkNvbW1pdEZpYmVyUm9vdChyb290KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvbkNvbW1pdFVubW91bnQoZmliZXIpIHtcbiAgaWYgKHR5cGVvZiBvbkNvbW1pdEZpYmVyVW5tb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9uQ29tbWl0RmliZXJVbm1vdW50KGZpYmVyKTtcbiAgfVxufVxuXG4vKipcbiAqIEZvcmtlZCBmcm9tIGZianMvd2FybmluZzpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mYmpzL2Jsb2IvZTY2YmEyMGFkNWJlNDMzZWI1NDQyM2YyYjA5N2Q4MjkzMjRkOWRlNi9wYWNrYWdlcy9mYmpzL3NyYy9fX2ZvcmtzX18vd2FybmluZy5qc1xuICpcbiAqIE9ubHkgY2hhbmdlIGlzIHdlIHVzZSBjb25zb2xlLndhcm4gaW5zdGVhZCBvZiBjb25zb2xlLmVycm9yLFxuICogYW5kIGRvIG5vdGhpbmcgd2hlbiAnY29uc29sZScgaXMgbm90IHN1cHBvcnRlZC5cbiAqIFRoaXMgcmVhbGx5IHNpbXBsaWZpZXMgdGhlIGNvZGUuXG4gKiAtLS1cbiAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcbiAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXG4gKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cbiAqL1xuXG52YXIgbG93UHJpb3JpdHlXYXJuaW5nID0gZnVuY3Rpb24gKCkge307XG5cbntcbiAgdmFyIHByaW50V2FybmluZyA9IGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICB9KTtcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXG4gICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH07XG5cbiAgbG93UHJpb3JpdHlXYXJuaW5nID0gZnVuY3Rpb24gKGNvbmRpdGlvbiwgZm9ybWF0KSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgKyAnbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIgPiAyID8gX2xlbjIgLSAyIDogMCksIF9rZXkyID0gMjsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyIC0gMl0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICBwcmludFdhcm5pbmcuYXBwbHkodW5kZWZpbmVkLCBbZm9ybWF0XS5jb25jYXQoYXJncykpO1xuICAgIH1cbiAgfTtcbn1cblxudmFyIGxvd1ByaW9yaXR5V2FybmluZyQxID0gbG93UHJpb3JpdHlXYXJuaW5nO1xuXG52YXIgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MgPSB7XG4gIGRpc2NhcmRQZW5kaW5nV2FybmluZ3M6IGZ1bmN0aW9uICgpIHt9LFxuICBmbHVzaFBlbmRpbmdEZXByZWNhdGlvbldhcm5pbmdzOiBmdW5jdGlvbiAoKSB7fSxcbiAgZmx1c2hQZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3M6IGZ1bmN0aW9uICgpIHt9LFxuICByZWNvcmREZXByZWNhdGlvbldhcm5pbmdzOiBmdW5jdGlvbiAoZmliZXIsIGluc3RhbmNlKSB7fSxcbiAgcmVjb3JkVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3M6IGZ1bmN0aW9uIChmaWJlciwgaW5zdGFuY2UpIHt9XG59O1xuXG57XG4gIHZhciBMSUZFQ1lDTEVfU1VHR0VTVElPTlMgPSB7XG4gICAgVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudDogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogJ3N0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMnLFxuICAgIFVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlOiAnY29tcG9uZW50RGlkVXBkYXRlJ1xuICB9O1xuXG4gIHZhciBwZW5kaW5nQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MgPSBbXTtcbiAgdmFyIHBlbmRpbmdDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MgPSBbXTtcbiAgdmFyIHBlbmRpbmdDb21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MgPSBbXTtcbiAgdmFyIHBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyA9IG5ldyBNYXAoKTtcblxuICAvLyBUcmFja3MgY29tcG9uZW50cyB3ZSBoYXZlIGFscmVhZHkgd2FybmVkIGFib3V0LlxuICB2YXIgZGlkV2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMgPSBuZXcgU2V0KCk7XG4gIHZhciBkaWRXYXJuQWJvdXRVbnNhZmVMaWZlY3ljbGVzID0gbmV3IFNldCgpO1xuXG4gIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmRpc2NhcmRQZW5kaW5nV2FybmluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgcGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzID0gW107XG4gICAgcGVuZGluZ0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncyA9IFtdO1xuICAgIHBlbmRpbmdDb21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MgPSBbXTtcbiAgICBwZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MgPSBuZXcgTWFwKCk7XG4gIH07XG5cbiAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZmx1c2hQZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgcGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24gKGxpZmVjeWNsZVdhcm5pbmdzTWFwLCBzdHJpY3RSb290KSB7XG4gICAgICB2YXIgbGlmZWN5Y2xlc1dhcm5pbmdNZXNhZ2VzID0gW107XG5cbiAgICAgIE9iamVjdC5rZXlzKGxpZmVjeWNsZVdhcm5pbmdzTWFwKS5mb3JFYWNoKGZ1bmN0aW9uIChsaWZlY3ljbGUpIHtcbiAgICAgICAgdmFyIGxpZmVjeWNsZVdhcm5pbmdzID0gbGlmZWN5Y2xlV2FybmluZ3NNYXBbbGlmZWN5Y2xlXTtcbiAgICAgICAgaWYgKGxpZmVjeWNsZVdhcm5pbmdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB2YXIgY29tcG9uZW50TmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgbGlmZWN5Y2xlV2FybmluZ3MuZm9yRWFjaChmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudE5hbWVzLmFkZChnZXRDb21wb25lbnROYW1lKGZpYmVyKSB8fCAnQ29tcG9uZW50Jyk7XG4gICAgICAgICAgICBkaWRXYXJuQWJvdXRVbnNhZmVMaWZlY3ljbGVzLmFkZChmaWJlci50eXBlKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHZhciBmb3JtYXR0ZWQgPSBsaWZlY3ljbGUucmVwbGFjZSgnVU5TQUZFXycsICcnKTtcbiAgICAgICAgICB2YXIgc3VnZ2VzdGlvbiA9IExJRkVDWUNMRV9TVUdHRVNUSU9OU1tsaWZlY3ljbGVdO1xuICAgICAgICAgIHZhciBzb3J0ZWRDb21wb25lbnROYW1lcyA9IEFycmF5LmZyb20oY29tcG9uZW50TmFtZXMpLnNvcnQoKS5qb2luKCcsICcpO1xuXG4gICAgICAgICAgbGlmZWN5Y2xlc1dhcm5pbmdNZXNhZ2VzLnB1c2goZm9ybWF0dGVkICsgJzogUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHMgdG8gdXNlICcgKyAoc3VnZ2VzdGlvbiArICcgaW5zdGVhZDogJyArIHNvcnRlZENvbXBvbmVudE5hbWVzKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAobGlmZWN5Y2xlc1dhcm5pbmdNZXNhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIHN0cmljdFJvb3RDb21wb25lbnRTdGFjayA9IGdldFN0YWNrQWRkZW5kdW1CeVdvcmtJblByb2dyZXNzRmliZXIoc3RyaWN0Um9vdCk7XG5cbiAgICAgICAgd2FybmluZyhmYWxzZSwgJ1Vuc2FmZSBsaWZlY3ljbGUgbWV0aG9kcyB3ZXJlIGZvdW5kIHdpdGhpbiBhIHN0cmljdC1tb2RlIHRyZWU6JXMnICsgJ1xcblxcbiVzJyArICdcXG5cXG5MZWFybiBtb3JlIGFib3V0IHRoaXMgd2FybmluZyBoZXJlOicgKyAnXFxuaHR0cHM6Ly9mYi5tZS9yZWFjdC1zdHJpY3QtbW9kZS13YXJuaW5ncycsIHN0cmljdFJvb3RDb21wb25lbnRTdGFjaywgbGlmZWN5Y2xlc1dhcm5pbmdNZXNhZ2VzLmpvaW4oJ1xcblxcbicpKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyA9IG5ldyBNYXAoKTtcbiAgfTtcblxuICB2YXIgZ2V0U3RyaWN0Um9vdCA9IGZ1bmN0aW9uIChmaWJlcikge1xuICAgIHZhciBtYXliZVN0cmljdFJvb3QgPSBudWxsO1xuXG4gICAgd2hpbGUgKGZpYmVyICE9PSBudWxsKSB7XG4gICAgICBpZiAoZmliZXIubW9kZSAmIFN0cmljdE1vZGUpIHtcbiAgICAgICAgbWF5YmVTdHJpY3RSb290ID0gZmliZXI7XG4gICAgICB9XG5cbiAgICAgIGZpYmVyID0gZmliZXJbJ3JldHVybiddO1xuICAgIH1cblxuICAgIHJldHVybiBtYXliZVN0cmljdFJvb3Q7XG4gIH07XG5cbiAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZmx1c2hQZW5kaW5nRGVwcmVjYXRpb25XYXJuaW5ncyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzLmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciB1bmlxdWVOYW1lcyA9IG5ldyBTZXQoKTtcbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICB1bmlxdWVOYW1lcy5hZGQoZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgJ0NvbXBvbmVudCcpO1xuICAgICAgICBkaWRXYXJuQWJvdXREZXByZWNhdGVkTGlmZWN5Y2xlcy5hZGQoZmliZXIudHlwZSk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIHNvcnRlZE5hbWVzID0gQXJyYXkuZnJvbSh1bmlxdWVOYW1lcykuc29ydCgpLmpvaW4oJywgJyk7XG5cbiAgICAgIGxvd1ByaW9yaXR5V2FybmluZyQxKGZhbHNlLCAnY29tcG9uZW50V2lsbE1vdW50IGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uLiAnICsgJ1VzZSBjb21wb25lbnREaWRNb3VudCBpbnN0ZWFkLiBBcyBhIHRlbXBvcmFyeSB3b3JrYXJvdW5kLCAnICsgJ3lvdSBjYW4gcmVuYW1lIHRvIFVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQuJyArICdcXG5cXG5QbGVhc2UgdXBkYXRlIHRoZSBmb2xsb3dpbmcgY29tcG9uZW50czogJXMnICsgJ1xcblxcbkxlYXJuIG1vcmUgYWJvdXQgdGhpcyB3YXJuaW5nIGhlcmU6JyArICdcXG5odHRwczovL2ZiLm1lL3JlYWN0LWFzeW5jLWNvbXBvbmVudC1saWZlY3ljbGUtaG9va3MnLCBzb3J0ZWROYW1lcyk7XG5cbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncyA9IFtdO1xuICAgIH1cblxuICAgIGlmIChwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzLmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciBfdW5pcXVlTmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24gKGZpYmVyKSB7XG4gICAgICAgIF91bmlxdWVOYW1lcy5hZGQoZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgJ0NvbXBvbmVudCcpO1xuICAgICAgICBkaWRXYXJuQWJvdXREZXByZWNhdGVkTGlmZWN5Y2xlcy5hZGQoZmliZXIudHlwZSk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIF9zb3J0ZWROYW1lcyA9IEFycmF5LmZyb20oX3VuaXF1ZU5hbWVzKS5zb3J0KCkuam9pbignLCAnKTtcblxuICAgICAgbG93UHJpb3JpdHlXYXJuaW5nJDEoZmFsc2UsICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uLiAnICsgJ1VzZSBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIGluc3RlYWQuJyArICdcXG5cXG5QbGVhc2UgdXBkYXRlIHRoZSBmb2xsb3dpbmcgY29tcG9uZW50czogJXMnICsgJ1xcblxcbkxlYXJuIG1vcmUgYWJvdXQgdGhpcyB3YXJuaW5nIGhlcmU6JyArICdcXG5odHRwczovL2ZiLm1lL3JlYWN0LWFzeW5jLWNvbXBvbmVudC1saWZlY3ljbGUtaG9va3MnLCBfc29ydGVkTmFtZXMpO1xuXG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzID0gW107XG4gICAgfVxuXG4gICAgaWYgKHBlbmRpbmdDb21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MubGVuZ3RoID4gMCkge1xuICAgICAgdmFyIF91bmlxdWVOYW1lczIgPSBuZXcgU2V0KCk7XG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24gKGZpYmVyKSB7XG4gICAgICAgIF91bmlxdWVOYW1lczIuYWRkKGdldENvbXBvbmVudE5hbWUoZmliZXIpIHx8ICdDb21wb25lbnQnKTtcbiAgICAgICAgZGlkV2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMuYWRkKGZpYmVyLnR5cGUpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBfc29ydGVkTmFtZXMyID0gQXJyYXkuZnJvbShfdW5pcXVlTmFtZXMyKS5zb3J0KCkuam9pbignLCAnKTtcblxuICAgICAgbG93UHJpb3JpdHlXYXJuaW5nJDEoZmFsc2UsICdjb21wb25lbnRXaWxsVXBkYXRlIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uLiAnICsgJ1VzZSBjb21wb25lbnREaWRVcGRhdGUgaW5zdGVhZC4gQXMgYSB0ZW1wb3Jhcnkgd29ya2Fyb3VuZCwgJyArICd5b3UgY2FuIHJlbmFtZSB0byBVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZS4nICsgJ1xcblxcblBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzOiAlcycgKyAnXFxuXFxuTGVhcm4gbW9yZSBhYm91dCB0aGlzIHdhcm5pbmcgaGVyZTonICsgJ1xcbmh0dHBzOi8vZmIubWUvcmVhY3QtYXN5bmMtY29tcG9uZW50LWxpZmVjeWNsZS1ob29rcycsIF9zb3J0ZWROYW1lczIpO1xuXG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzID0gW107XG4gICAgfVxuICB9O1xuXG4gIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLnJlY29yZERlcHJlY2F0aW9uV2FybmluZ3MgPSBmdW5jdGlvbiAoZmliZXIsIGluc3RhbmNlKSB7XG4gICAgLy8gRGVkdXAgc3RyYXRlZ3k6IFdhcm4gb25jZSBwZXIgY29tcG9uZW50LlxuICAgIGlmIChkaWRXYXJuQWJvdXREZXByZWNhdGVkTGlmZWN5Y2xlcy5oYXMoZmliZXIudHlwZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEb24ndCB3YXJuIGFib3V0IHJlYWN0LWxpZmVjeWNsZXMtY29tcGF0IHBvbHlmaWxsZWQgY29tcG9uZW50cy5cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJyAmJiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyAhPT0gdHJ1ZSkge1xuICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzLnB1c2goZmliZXIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09ICdmdW5jdGlvbicgJiYgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcy5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nICE9PSB0cnVlKSB7XG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzLnB1c2goZmliZXIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicgJiYgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZS5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nICE9PSB0cnVlKSB7XG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzLnB1c2goZmliZXIpO1xuICAgIH1cbiAgfTtcblxuICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5yZWNvcmRVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyA9IGZ1bmN0aW9uIChmaWJlciwgaW5zdGFuY2UpIHtcbiAgICB2YXIgc3RyaWN0Um9vdCA9IGdldFN0cmljdFJvb3QoZmliZXIpO1xuXG4gICAgLy8gRGVkdXAgc3RyYXRlZ3k6IFdhcm4gb25jZSBwZXIgY29tcG9uZW50LlxuICAgIC8vIFRoaXMgaXMgZGlmZmljdWx0IHRvIHRyYWNrIGFueSBvdGhlciB3YXkgc2luY2UgY29tcG9uZW50IG5hbWVzXG4gICAgLy8gYXJlIG9mdGVuIHZhZ3VlIGFuZCBhcmUgbGlrZWx5IHRvIGNvbGxpZGUgYmV0d2VlbiAzcmQgcGFydHkgbGlicmFyaWVzLlxuICAgIC8vIEFuIGV4cGFuZCBwcm9wZXJ0eSBpcyBwcm9iYWJseSBva2F5IHRvIHVzZSBoZXJlIHNpbmNlIGl0J3MgREVWLW9ubHksXG4gICAgLy8gYW5kIHdpbGwgb25seSBiZSBzZXQgaW4gdGhlIGV2ZW50IG9mIHNlcmlvdXMgd2FybmluZ3MuXG4gICAgaWYgKGRpZFdhcm5BYm91dFVuc2FmZUxpZmVjeWNsZXMuaGFzKGZpYmVyLnR5cGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRG9uJ3Qgd2FybiBhYm91dCByZWFjdC1saWZlY3ljbGVzLWNvbXBhdCBwb2x5ZmlsbGVkIGNvbXBvbmVudHMuXG4gICAgLy8gTm90ZSB0aGF0IGl0IGlzIHN1ZmZpY2llbnQgdG8gY2hlY2sgZm9yIHRoZSBwcmVzZW5jZSBvZiBhXG4gICAgLy8gc2luZ2xlIGxpZmVjeWNsZSwgY29tcG9uZW50V2lsbE1vdW50LCB3aXRoIHRoZSBwb2x5ZmlsbCBmbGFnLlxuICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50ID09PSAnZnVuY3Rpb24nICYmIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudC5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nID09PSB0cnVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHdhcm5pbmdzRm9yUm9vdCA9IHZvaWQgMDtcbiAgICBpZiAoIXBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncy5oYXMoc3RyaWN0Um9vdCkpIHtcbiAgICAgIHdhcm5pbmdzRm9yUm9vdCA9IHtcbiAgICAgICAgVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudDogW10sXG4gICAgICAgIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBbXSxcbiAgICAgICAgVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGU6IFtdXG4gICAgICB9O1xuXG4gICAgICBwZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3Muc2V0KHN0cmljdFJvb3QsIHdhcm5pbmdzRm9yUm9vdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdhcm5pbmdzRm9yUm9vdCA9IHBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncy5nZXQoc3RyaWN0Um9vdCk7XG4gICAgfVxuXG4gICAgdmFyIHVuc2FmZUxpZmVjeWNsZXMgPSBbXTtcbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdW5zYWZlTGlmZWN5Y2xlcy5wdXNoKCdVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50Jyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHVuc2FmZUxpZmVjeWNsZXMucHVzaCgnVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdW5zYWZlTGlmZWN5Y2xlcy5wdXNoKCdVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZScpO1xuICAgIH1cblxuICAgIGlmICh1bnNhZmVMaWZlY3ljbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHVuc2FmZUxpZmVjeWNsZXMuZm9yRWFjaChmdW5jdGlvbiAobGlmZWN5Y2xlKSB7XG4gICAgICAgIHdhcm5pbmdzRm9yUm9vdFtsaWZlY3ljbGVdLnB1c2goZmliZXIpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxuXG4vLyBFeHBvcnRzIFJlYWN0RE9NLmNyZWF0ZVJvb3RcbnZhciBlbmFibGVVc2VyVGltaW5nQVBJID0gdHJ1ZTtcblxuLy8gTXV0YXRpbmcgbW9kZSAoUmVhY3QgRE9NLCBSZWFjdCBBUlQsIFJlYWN0IE5hdGl2ZSk6XG52YXIgZW5hYmxlTXV0YXRpbmdSZWNvbmNpbGVyID0gdHJ1ZTtcbi8vIEV4cGVyaW1lbnRhbCBub29wIG1vZGUgKGN1cnJlbnRseSB1bnVzZWQpOlxudmFyIGVuYWJsZU5vb3BSZWNvbmNpbGVyID0gZmFsc2U7XG4vLyBFeHBlcmltZW50YWwgcGVyc2lzdGVudCBtb2RlIChGYWJyaWMpOlxudmFyIGVuYWJsZVBlcnNpc3RlbnRSZWNvbmNpbGVyID0gZmFsc2U7XG4vLyBFeHBlcmltZW50YWwgZXJyb3ItYm91bmRhcnkgQVBJIHRoYXQgY2FuIHJlY292ZXIgZnJvbSBlcnJvcnMgd2l0aGluIGEgc2luZ2xlXG4vLyByZW5kZXIgcGhhc2VcbnZhciBlbmFibGVHZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggPSBmYWxzZTtcbi8vIEhlbHBzIGlkZW50aWZ5IHNpZGUgZWZmZWN0cyBpbiBiZWdpbi1waGFzZSBsaWZlY3ljbGUgaG9va3MgYW5kIHNldFN0YXRlIHJlZHVjZXJzOlxudmFyIGRlYnVnUmVuZGVyUGhhc2VTaWRlRWZmZWN0cyA9IGZhbHNlO1xuXG4vLyBJbiBzb21lIGNhc2VzLCBTdHJpY3RNb2RlIHNob3VsZCBhbHNvIGRvdWJsZS1yZW5kZXIgbGlmZWN5Y2xlcy5cbi8vIFRoaXMgY2FuIGJlIGNvbmZ1c2luZyBmb3IgdGVzdHMgdGhvdWdoLFxuLy8gQW5kIGl0IGNhbiBiZSBiYWQgZm9yIHBlcmZvcm1hbmNlIGluIHByb2R1Y3Rpb24uXG4vLyBUaGlzIGZlYXR1cmUgZmxhZyBjYW4gYmUgdXNlZCB0byBjb250cm9sIHRoZSBiZWhhdmlvcjpcbnZhciBkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHNGb3JTdHJpY3RNb2RlID0gdHJ1ZTtcblxuLy8gVG8gcHJlc2VydmUgdGhlIFwiUGF1c2Ugb24gY2F1Z2h0IGV4Y2VwdGlvbnNcIiBiZWhhdmlvciBvZiB0aGUgZGVidWdnZXIsIHdlXG4vLyByZXBsYXkgdGhlIGJlZ2luIHBoYXNlIG9mIGEgZmFpbGVkIGNvbXBvbmVudCBpbnNpZGUgaW52b2tlR3VhcmRlZENhbGxiYWNrLlxudmFyIHJlcGxheUZhaWxlZFVuaXRPZldvcmtXaXRoSW52b2tlR3VhcmRlZENhbGxiYWNrID0gdHJ1ZTtcblxuLy8gV2FybiBhYm91dCBkZXByZWNhdGVkLCBhc3luYy11bnNhZmUgbGlmZWN5Y2xlczsgcmVsYXRlcyB0byBSRkMgIzY6XG52YXIgd2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMgPSBmYWxzZTtcblxudmFyIGFsd2F5c1VzZVJlcXVlc3RJZGxlQ2FsbGJhY2tQb2x5ZmlsbCA9IGZhbHNlO1xuXG4vLyBPbmx5IHVzZWQgaW4gd3d3IGJ1aWxkcy5cblxuLy8gUHJlZml4IG1lYXN1cmVtZW50cyBzbyB0aGF0IGl0J3MgcG9zc2libGUgdG8gZmlsdGVyIHRoZW0uXG4vLyBMb25nZXIgcHJlZml4ZXMgYXJlIGhhcmQgdG8gcmVhZCBpbiBEZXZUb29scy5cbnZhciByZWFjdEVtb2ppID0gJ1xcdTI2OUInO1xudmFyIHdhcm5pbmdFbW9qaSA9ICdcXHUyNkQ0JztcbnZhciBzdXBwb3J0c1VzZXJUaW1pbmcgPSB0eXBlb2YgcGVyZm9ybWFuY2UgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwZXJmb3JtYW5jZS5tYXJrID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBwZXJmb3JtYW5jZS5jbGVhck1hcmtzID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBwZXJmb3JtYW5jZS5tZWFzdXJlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBwZXJmb3JtYW5jZS5jbGVhck1lYXN1cmVzID09PSAnZnVuY3Rpb24nO1xuXG4vLyBLZWVwIHRyYWNrIG9mIGN1cnJlbnQgZmliZXIgc28gdGhhdCB3ZSBrbm93IHRoZSBwYXRoIHRvIHVud2luZCBvbiBwYXVzZS5cbi8vIFRPRE86IHRoaXMgbG9va3MgdGhlIHNhbWUgYXMgbmV4dFVuaXRPZldvcmsgaW4gc2NoZWR1bGVyLiBDYW4gd2UgdW5pZnkgdGhlbT9cbnZhciBjdXJyZW50RmliZXIgPSBudWxsO1xuLy8gSWYgd2UncmUgaW4gdGhlIG1pZGRsZSBvZiB1c2VyIGNvZGUsIHdoaWNoIGZpYmVyIGFuZCBtZXRob2QgaXMgaXQ/XG4vLyBSZXVzaW5nIGBjdXJyZW50RmliZXJgIHdvdWxkIGJlIGNvbmZ1c2luZyBmb3IgdGhpcyBiZWNhdXNlIHVzZXIgY29kZSBmaWJlclxuLy8gY2FuIGNoYW5nZSBkdXJpbmcgY29tbWl0IHBoYXNlIHRvbywgYnV0IHdlIGRvbid0IG5lZWQgdG8gdW53aW5kIGl0IChzaW5jZVxuLy8gbGlmZWN5Y2xlcyBpbiB0aGUgY29tbWl0IHBoYXNlIGRvbid0IHJlc2VtYmxlIGEgdHJlZSkuXG52YXIgY3VycmVudFBoYXNlID0gbnVsbDtcbnZhciBjdXJyZW50UGhhc2VGaWJlciA9IG51bGw7XG4vLyBEaWQgbGlmZWN5Y2xlIGhvb2sgc2NoZWR1bGUgYW4gdXBkYXRlPyBUaGlzIGlzIG9mdGVuIGEgcGVyZm9ybWFuY2UgcHJvYmxlbSxcbi8vIHNvIHdlIHdpbGwga2VlcCB0cmFjayBvZiBpdCwgYW5kIGluY2x1ZGUgaXQgaW4gdGhlIHJlcG9ydC5cbi8vIFRyYWNrIGNvbW1pdHMgY2F1c2VkIGJ5IGNhc2NhZGluZyB1cGRhdGVzLlxudmFyIGlzQ29tbWl0dGluZyA9IGZhbHNlO1xudmFyIGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudENvbW1pdCA9IGZhbHNlO1xudmFyIGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudFBoYXNlID0gZmFsc2U7XG52YXIgY29tbWl0Q291bnRJbkN1cnJlbnRXb3JrTG9vcCA9IDA7XG52YXIgZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQgPSAwO1xudmFyIGlzV2FpdGluZ0ZvckNhbGxiYWNrID0gZmFsc2U7XG4vLyBEdXJpbmcgY29tbWl0cywgd2Ugb25seSBzaG93IGEgbWVhc3VyZW1lbnQgb25jZSBwZXIgbWV0aG9kIG5hbWVcbi8vIHRvIGF2b2lkIHN0cmV0Y2ggdGhlIGNvbW1pdCBwaGFzZSB3aXRoIG1lYXN1cmVtZW50IG92ZXJoZWFkLlxudmFyIGxhYmVsc0luQ3VycmVudENvbW1pdCA9IG5ldyBTZXQoKTtcblxudmFyIGZvcm1hdE1hcmtOYW1lID0gZnVuY3Rpb24gKG1hcmtOYW1lKSB7XG4gIHJldHVybiByZWFjdEVtb2ppICsgJyAnICsgbWFya05hbWU7XG59O1xuXG52YXIgZm9ybWF0TGFiZWwgPSBmdW5jdGlvbiAobGFiZWwsIHdhcm5pbmckJDEpIHtcbiAgdmFyIHByZWZpeCA9IHdhcm5pbmckJDEgPyB3YXJuaW5nRW1vamkgKyAnICcgOiByZWFjdEVtb2ppICsgJyAnO1xuICB2YXIgc3VmZml4ID0gd2FybmluZyQkMSA/ICcgV2FybmluZzogJyArIHdhcm5pbmckJDEgOiAnJztcbiAgcmV0dXJuICcnICsgcHJlZml4ICsgbGFiZWwgKyBzdWZmaXg7XG59O1xuXG52YXIgYmVnaW5NYXJrID0gZnVuY3Rpb24gKG1hcmtOYW1lKSB7XG4gIHBlcmZvcm1hbmNlLm1hcmsoZm9ybWF0TWFya05hbWUobWFya05hbWUpKTtcbn07XG5cbnZhciBjbGVhck1hcmsgPSBmdW5jdGlvbiAobWFya05hbWUpIHtcbiAgcGVyZm9ybWFuY2UuY2xlYXJNYXJrcyhmb3JtYXRNYXJrTmFtZShtYXJrTmFtZSkpO1xufTtcblxudmFyIGVuZE1hcmsgPSBmdW5jdGlvbiAobGFiZWwsIG1hcmtOYW1lLCB3YXJuaW5nJCQxKSB7XG4gIHZhciBmb3JtYXR0ZWRNYXJrTmFtZSA9IGZvcm1hdE1hcmtOYW1lKG1hcmtOYW1lKTtcbiAgdmFyIGZvcm1hdHRlZExhYmVsID0gZm9ybWF0TGFiZWwobGFiZWwsIHdhcm5pbmckJDEpO1xuICB0cnkge1xuICAgIHBlcmZvcm1hbmNlLm1lYXN1cmUoZm9ybWF0dGVkTGFiZWwsIGZvcm1hdHRlZE1hcmtOYW1lKTtcbiAgfSBjYXRjaCAoZXJyKSB7fVxuICAvLyBJZiBwcmV2aW91cyBtYXJrIHdhcyBtaXNzaW5nIGZvciBzb21lIHJlYXNvbiwgdGhpcyB3aWxsIHRocm93LlxuICAvLyBUaGlzIGNvdWxkIG9ubHkgaGFwcGVuIGlmIFJlYWN0IGNyYXNoZWQgaW4gYW4gdW5leHBlY3RlZCBwbGFjZSBlYXJsaWVyLlxuICAvLyBEb24ndCBwaWxlIG9uIHdpdGggbW9yZSBlcnJvcnMuXG5cbiAgLy8gQ2xlYXIgbWFya3MgaW1tZWRpYXRlbHkgdG8gYXZvaWQgZ3Jvd2luZyBidWZmZXIuXG4gIHBlcmZvcm1hbmNlLmNsZWFyTWFya3MoZm9ybWF0dGVkTWFya05hbWUpO1xuICBwZXJmb3JtYW5jZS5jbGVhck1lYXN1cmVzKGZvcm1hdHRlZExhYmVsKTtcbn07XG5cbnZhciBnZXRGaWJlck1hcmtOYW1lID0gZnVuY3Rpb24gKGxhYmVsLCBkZWJ1Z0lEKSB7XG4gIHJldHVybiBsYWJlbCArICcgKCMnICsgZGVidWdJRCArICcpJztcbn07XG5cbnZhciBnZXRGaWJlckxhYmVsID0gZnVuY3Rpb24gKGNvbXBvbmVudE5hbWUsIGlzTW91bnRlZCwgcGhhc2UpIHtcbiAgaWYgKHBoYXNlID09PSBudWxsKSB7XG4gICAgLy8gVGhlc2UgYXJlIGNvbXBvc2l0ZSBjb21wb25lbnQgdG90YWwgdGltZSBtZWFzdXJlbWVudHMuXG4gICAgcmV0dXJuIGNvbXBvbmVudE5hbWUgKyAnIFsnICsgKGlzTW91bnRlZCA/ICd1cGRhdGUnIDogJ21vdW50JykgKyAnXSc7XG4gIH0gZWxzZSB7XG4gICAgLy8gQ29tcG9zaXRlIGNvbXBvbmVudCBtZXRob2RzLlxuICAgIHJldHVybiBjb21wb25lbnROYW1lICsgJy4nICsgcGhhc2U7XG4gIH1cbn07XG5cbnZhciBiZWdpbkZpYmVyTWFyayA9IGZ1bmN0aW9uIChmaWJlciwgcGhhc2UpIHtcbiAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKGZpYmVyKSB8fCAnVW5rbm93bic7XG4gIHZhciBkZWJ1Z0lEID0gZmliZXIuX2RlYnVnSUQ7XG4gIHZhciBpc01vdW50ZWQgPSBmaWJlci5hbHRlcm5hdGUgIT09IG51bGw7XG4gIHZhciBsYWJlbCA9IGdldEZpYmVyTGFiZWwoY29tcG9uZW50TmFtZSwgaXNNb3VudGVkLCBwaGFzZSk7XG5cbiAgaWYgKGlzQ29tbWl0dGluZyAmJiBsYWJlbHNJbkN1cnJlbnRDb21taXQuaGFzKGxhYmVsKSkge1xuICAgIC8vIER1cmluZyB0aGUgY29tbWl0IHBoYXNlLCB3ZSBkb24ndCBzaG93IGR1cGxpY2F0ZSBsYWJlbHMgYmVjYXVzZVxuICAgIC8vIHRoZXJlIGlzIGEgZml4ZWQgb3ZlcmhlYWQgZm9yIGV2ZXJ5IG1lYXN1cmVtZW50LCBhbmQgd2UgZG9uJ3RcbiAgICAvLyB3YW50IHRvIHN0cmV0Y2ggdGhlIGNvbW1pdCBwaGFzZSBiZXlvbmQgbmVjZXNzYXJ5LlxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBsYWJlbHNJbkN1cnJlbnRDb21taXQuYWRkKGxhYmVsKTtcblxuICB2YXIgbWFya05hbWUgPSBnZXRGaWJlck1hcmtOYW1lKGxhYmVsLCBkZWJ1Z0lEKTtcbiAgYmVnaW5NYXJrKG1hcmtOYW1lKTtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG52YXIgY2xlYXJGaWJlck1hcmsgPSBmdW5jdGlvbiAoZmliZXIsIHBoYXNlKSB7XG4gIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgJ1Vua25vd24nO1xuICB2YXIgZGVidWdJRCA9IGZpYmVyLl9kZWJ1Z0lEO1xuICB2YXIgaXNNb3VudGVkID0gZmliZXIuYWx0ZXJuYXRlICE9PSBudWxsO1xuICB2YXIgbGFiZWwgPSBnZXRGaWJlckxhYmVsKGNvbXBvbmVudE5hbWUsIGlzTW91bnRlZCwgcGhhc2UpO1xuICB2YXIgbWFya05hbWUgPSBnZXRGaWJlck1hcmtOYW1lKGxhYmVsLCBkZWJ1Z0lEKTtcbiAgY2xlYXJNYXJrKG1hcmtOYW1lKTtcbn07XG5cbnZhciBlbmRGaWJlck1hcmsgPSBmdW5jdGlvbiAoZmliZXIsIHBoYXNlLCB3YXJuaW5nJCQxKSB7XG4gIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgJ1Vua25vd24nO1xuICB2YXIgZGVidWdJRCA9IGZpYmVyLl9kZWJ1Z0lEO1xuICB2YXIgaXNNb3VudGVkID0gZmliZXIuYWx0ZXJuYXRlICE9PSBudWxsO1xuICB2YXIgbGFiZWwgPSBnZXRGaWJlckxhYmVsKGNvbXBvbmVudE5hbWUsIGlzTW91bnRlZCwgcGhhc2UpO1xuICB2YXIgbWFya05hbWUgPSBnZXRGaWJlck1hcmtOYW1lKGxhYmVsLCBkZWJ1Z0lEKTtcbiAgZW5kTWFyayhsYWJlbCwgbWFya05hbWUsIHdhcm5pbmckJDEpO1xufTtcblxudmFyIHNob3VsZElnbm9yZUZpYmVyID0gZnVuY3Rpb24gKGZpYmVyKSB7XG4gIC8vIEhvc3QgY29tcG9uZW50cyBzaG91bGQgYmUgc2tpcHBlZCBpbiB0aGUgdGltZWxpbmUuXG4gIC8vIFdlIGNvdWxkIGNoZWNrIHR5cGVvZiBmaWJlci50eXBlLCBidXQgZG9lcyB0aGlzIHdvcmsgd2l0aCBSTj9cbiAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICBjYXNlIEhvc3RSb290OlxuICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICBjYXNlIEhvc3RUZXh0OlxuICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICBjYXNlIENhbGxDb21wb25lbnQ6XG4gICAgY2FzZSBSZXR1cm5Db21wb25lbnQ6XG4gICAgY2FzZSBGcmFnbWVudDpcbiAgICBjYXNlIENvbnRleHRQcm92aWRlcjpcbiAgICBjYXNlIENvbnRleHRDb25zdW1lcjpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbnZhciBjbGVhclBlbmRpbmdQaGFzZU1lYXN1cmVtZW50ID0gZnVuY3Rpb24gKCkge1xuICBpZiAoY3VycmVudFBoYXNlICE9PSBudWxsICYmIGN1cnJlbnRQaGFzZUZpYmVyICE9PSBudWxsKSB7XG4gICAgY2xlYXJGaWJlck1hcmsoY3VycmVudFBoYXNlRmliZXIsIGN1cnJlbnRQaGFzZSk7XG4gIH1cbiAgY3VycmVudFBoYXNlRmliZXIgPSBudWxsO1xuICBjdXJyZW50UGhhc2UgPSBudWxsO1xuICBoYXNTY2hlZHVsZWRVcGRhdGVJbkN1cnJlbnRQaGFzZSA9IGZhbHNlO1xufTtcblxudmFyIHBhdXNlVGltZXJzID0gZnVuY3Rpb24gKCkge1xuICAvLyBTdG9wcyBhbGwgY3VycmVudGx5IGFjdGl2ZSBtZWFzdXJlbWVudHMgc28gdGhhdCB0aGV5IGNhbiBiZSByZXN1bWVkXG4gIC8vIGlmIHdlIGNvbnRpbnVlIGluIGEgbGF0ZXIgZGVmZXJyZWQgbG9vcCBmcm9tIHRoZSBzYW1lIHVuaXQgb2Ygd29yay5cbiAgdmFyIGZpYmVyID0gY3VycmVudEZpYmVyO1xuICB3aGlsZSAoZmliZXIpIHtcbiAgICBpZiAoZmliZXIuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmcpIHtcbiAgICAgIGVuZEZpYmVyTWFyayhmaWJlciwgbnVsbCwgbnVsbCk7XG4gICAgfVxuICAgIGZpYmVyID0gZmliZXJbJ3JldHVybiddO1xuICB9XG59O1xuXG52YXIgcmVzdW1lVGltZXJzUmVjdXJzaXZlbHkgPSBmdW5jdGlvbiAoZmliZXIpIHtcbiAgaWYgKGZpYmVyWydyZXR1cm4nXSAhPT0gbnVsbCkge1xuICAgIHJlc3VtZVRpbWVyc1JlY3Vyc2l2ZWx5KGZpYmVyWydyZXR1cm4nXSk7XG4gIH1cbiAgaWYgKGZpYmVyLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nKSB7XG4gICAgYmVnaW5GaWJlck1hcmsoZmliZXIsIG51bGwpO1xuICB9XG59O1xuXG52YXIgcmVzdW1lVGltZXJzID0gZnVuY3Rpb24gKCkge1xuICAvLyBSZXN1bWVzIGFsbCBtZWFzdXJlbWVudHMgdGhhdCB3ZXJlIGFjdGl2ZSBkdXJpbmcgdGhlIGxhc3QgZGVmZXJyZWQgbG9vcC5cbiAgaWYgKGN1cnJlbnRGaWJlciAhPT0gbnVsbCkge1xuICAgIHJlc3VtZVRpbWVyc1JlY3Vyc2l2ZWx5KGN1cnJlbnRGaWJlcik7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHJlY29yZEVmZmVjdCgpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBlZmZlY3RDb3VudEluQ3VycmVudENvbW1pdCsrO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlY29yZFNjaGVkdWxlVXBkYXRlKCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmIChpc0NvbW1pdHRpbmcpIHtcbiAgICAgIGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudENvbW1pdCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChjdXJyZW50UGhhc2UgIT09IG51bGwgJiYgY3VycmVudFBoYXNlICE9PSAnY29tcG9uZW50V2lsbE1vdW50JyAmJiBjdXJyZW50UGhhc2UgIT09ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJykge1xuICAgICAgaGFzU2NoZWR1bGVkVXBkYXRlSW5DdXJyZW50UGhhc2UgPSB0cnVlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydFJlcXVlc3RDYWxsYmFja1RpbWVyKCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmIChzdXBwb3J0c1VzZXJUaW1pbmcgJiYgIWlzV2FpdGluZ0ZvckNhbGxiYWNrKSB7XG4gICAgICBpc1dhaXRpbmdGb3JDYWxsYmFjayA9IHRydWU7XG4gICAgICBiZWdpbk1hcmsoJyhXYWl0aW5nIGZvciBhc3luYyBjYWxsYmFjay4uLiknKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RvcFJlcXVlc3RDYWxsYmFja1RpbWVyKGRpZEV4cGlyZSwgZXhwaXJhdGlvblRpbWUpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICBpc1dhaXRpbmdGb3JDYWxsYmFjayA9IGZhbHNlO1xuICAgICAgdmFyIHdhcm5pbmckJDEgPSBkaWRFeHBpcmUgPyAnUmVhY3Qgd2FzIGJsb2NrZWQgYnkgbWFpbiB0aHJlYWQnIDogbnVsbDtcbiAgICAgIGVuZE1hcmsoJyhXYWl0aW5nIGZvciBhc3luYyBjYWxsYmFjay4uLiB3aWxsIGZvcmNlIGZsdXNoIGluICcgKyBleHBpcmF0aW9uVGltZSArICcgbXMpJywgJyhXYWl0aW5nIGZvciBhc3luYyBjYWxsYmFjay4uLiknLCB3YXJuaW5nJCQxKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRXb3JrVGltZXIoZmliZXIpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZyB8fCBzaG91bGRJZ25vcmVGaWJlcihmaWJlcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gSWYgd2UgcGF1c2UsIHRoaXMgaXMgdGhlIGZpYmVyIHRvIHVud2luZCBmcm9tLlxuICAgIGN1cnJlbnRGaWJlciA9IGZpYmVyO1xuICAgIGlmICghYmVnaW5GaWJlck1hcmsoZmliZXIsIG51bGwpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZpYmVyLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nID0gdHJ1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjYW5jZWxXb3JrVGltZXIoZmliZXIpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZyB8fCBzaG91bGRJZ25vcmVGaWJlcihmaWJlcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gUmVtZW1iZXIgd2Ugc2hvdWxkbid0IGNvbXBsZXRlIG1lYXN1cmVtZW50IGZvciB0aGlzIGZpYmVyLlxuICAgIC8vIE90aGVyd2lzZSBmbGFtZWNoYXJ0IHdpbGwgYmUgZGVlcCBldmVuIGZvciBzbWFsbCB1cGRhdGVzLlxuICAgIGZpYmVyLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nID0gZmFsc2U7XG4gICAgY2xlYXJGaWJlck1hcmsoZmliZXIsIG51bGwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3BXb3JrVGltZXIoZmliZXIpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZyB8fCBzaG91bGRJZ25vcmVGaWJlcihmaWJlcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gSWYgd2UgcGF1c2UsIGl0cyBwYXJlbnQgaXMgdGhlIGZpYmVyIHRvIHVud2luZCBmcm9tLlxuICAgIGN1cnJlbnRGaWJlciA9IGZpYmVyWydyZXR1cm4nXTtcbiAgICBpZiAoIWZpYmVyLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZpYmVyLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nID0gZmFsc2U7XG4gICAgZW5kRmliZXJNYXJrKGZpYmVyLCBudWxsLCBudWxsKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdG9wRmFpbGVkV29ya1RpbWVyKGZpYmVyKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcgfHwgc2hvdWxkSWdub3JlRmliZXIoZmliZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIElmIHdlIHBhdXNlLCBpdHMgcGFyZW50IGlzIHRoZSBmaWJlciB0byB1bndpbmQgZnJvbS5cbiAgICBjdXJyZW50RmliZXIgPSBmaWJlclsncmV0dXJuJ107XG4gICAgaWYgKCFmaWJlci5fZGVidWdJc0N1cnJlbnRseVRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmaWJlci5fZGVidWdJc0N1cnJlbnRseVRpbWluZyA9IGZhbHNlO1xuICAgIHZhciB3YXJuaW5nJCQxID0gJ0FuIGVycm9yIHdhcyB0aHJvd24gaW5zaWRlIHRoaXMgZXJyb3IgYm91bmRhcnknO1xuICAgIGVuZEZpYmVyTWFyayhmaWJlciwgbnVsbCwgd2FybmluZyQkMSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRQaGFzZVRpbWVyKGZpYmVyLCBwaGFzZSkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNsZWFyUGVuZGluZ1BoYXNlTWVhc3VyZW1lbnQoKTtcbiAgICBpZiAoIWJlZ2luRmliZXJNYXJrKGZpYmVyLCBwaGFzZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudFBoYXNlRmliZXIgPSBmaWJlcjtcbiAgICBjdXJyZW50UGhhc2UgPSBwaGFzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdG9wUGhhc2VUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFBoYXNlICE9PSBudWxsICYmIGN1cnJlbnRQaGFzZUZpYmVyICE9PSBudWxsKSB7XG4gICAgICB2YXIgd2FybmluZyQkMSA9IGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudFBoYXNlID8gJ1NjaGVkdWxlZCBhIGNhc2NhZGluZyB1cGRhdGUnIDogbnVsbDtcbiAgICAgIGVuZEZpYmVyTWFyayhjdXJyZW50UGhhc2VGaWJlciwgY3VycmVudFBoYXNlLCB3YXJuaW5nJCQxKTtcbiAgICB9XG4gICAgY3VycmVudFBoYXNlID0gbnVsbDtcbiAgICBjdXJyZW50UGhhc2VGaWJlciA9IG51bGw7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRXb3JrTG9vcFRpbWVyKG5leHRVbml0T2ZXb3JrKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgY3VycmVudEZpYmVyID0gbmV4dFVuaXRPZldvcms7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29tbWl0Q291bnRJbkN1cnJlbnRXb3JrTG9vcCA9IDA7XG4gICAgLy8gVGhpcyBpcyB0b3AgbGV2ZWwgY2FsbC5cbiAgICAvLyBBbnkgb3RoZXIgbWVhc3VyZW1lbnRzIGFyZSBwZXJmb3JtZWQgd2l0aGluLlxuICAgIGJlZ2luTWFyaygnKFJlYWN0IFRyZWUgUmVjb25jaWxpYXRpb24pJyk7XG4gICAgLy8gUmVzdW1lIGFueSBtZWFzdXJlbWVudHMgdGhhdCB3ZXJlIGluIHByb2dyZXNzIGR1cmluZyB0aGUgbGFzdCBsb29wLlxuICAgIHJlc3VtZVRpbWVycygpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3BXb3JrTG9vcFRpbWVyKGludGVycnVwdGVkQnksIGRpZENvbXBsZXRlUm9vdCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB3YXJuaW5nJCQxID0gbnVsbDtcbiAgICBpZiAoaW50ZXJydXB0ZWRCeSAhPT0gbnVsbCkge1xuICAgICAgaWYgKGludGVycnVwdGVkQnkudGFnID09PSBIb3N0Um9vdCkge1xuICAgICAgICB3YXJuaW5nJCQxID0gJ0EgdG9wLWxldmVsIHVwZGF0ZSBpbnRlcnJ1cHRlZCB0aGUgcHJldmlvdXMgcmVuZGVyJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZShpbnRlcnJ1cHRlZEJ5KSB8fCAnVW5rbm93bic7XG4gICAgICAgIHdhcm5pbmckJDEgPSAnQW4gdXBkYXRlIHRvICcgKyBjb21wb25lbnROYW1lICsgJyBpbnRlcnJ1cHRlZCB0aGUgcHJldmlvdXMgcmVuZGVyJztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNvbW1pdENvdW50SW5DdXJyZW50V29ya0xvb3AgPiAxKSB7XG4gICAgICB3YXJuaW5nJCQxID0gJ1RoZXJlIHdlcmUgY2FzY2FkaW5nIHVwZGF0ZXMnO1xuICAgIH1cbiAgICBjb21taXRDb3VudEluQ3VycmVudFdvcmtMb29wID0gMDtcbiAgICB2YXIgbGFiZWwgPSBkaWRDb21wbGV0ZVJvb3QgPyAnKFJlYWN0IFRyZWUgUmVjb25jaWxpYXRpb246IENvbXBsZXRlZCBSb290KScgOiAnKFJlYWN0IFRyZWUgUmVjb25jaWxpYXRpb246IFlpZWxkZWQpJztcbiAgICAvLyBQYXVzZSBhbnkgbWVhc3VyZW1lbnRzIHVudGlsIHRoZSBuZXh0IGxvb3AuXG4gICAgcGF1c2VUaW1lcnMoKTtcbiAgICBlbmRNYXJrKGxhYmVsLCAnKFJlYWN0IFRyZWUgUmVjb25jaWxpYXRpb24pJywgd2FybmluZyQkMSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRDb21taXRUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpc0NvbW1pdHRpbmcgPSB0cnVlO1xuICAgIGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudENvbW1pdCA9IGZhbHNlO1xuICAgIGxhYmVsc0luQ3VycmVudENvbW1pdC5jbGVhcigpO1xuICAgIGJlZ2luTWFyaygnKENvbW1pdHRpbmcgQ2hhbmdlcyknKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdG9wQ29tbWl0VGltZXIoKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgd2FybmluZyQkMSA9IG51bGw7XG4gICAgaWYgKGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudENvbW1pdCkge1xuICAgICAgd2FybmluZyQkMSA9ICdMaWZlY3ljbGUgaG9vayBzY2hlZHVsZWQgYSBjYXNjYWRpbmcgdXBkYXRlJztcbiAgICB9IGVsc2UgaWYgKGNvbW1pdENvdW50SW5DdXJyZW50V29ya0xvb3AgPiAwKSB7XG4gICAgICB3YXJuaW5nJCQxID0gJ0NhdXNlZCBieSBhIGNhc2NhZGluZyB1cGRhdGUgaW4gZWFybGllciBjb21taXQnO1xuICAgIH1cbiAgICBoYXNTY2hlZHVsZWRVcGRhdGVJbkN1cnJlbnRDb21taXQgPSBmYWxzZTtcbiAgICBjb21taXRDb3VudEluQ3VycmVudFdvcmtMb29wKys7XG4gICAgaXNDb21taXR0aW5nID0gZmFsc2U7XG4gICAgbGFiZWxzSW5DdXJyZW50Q29tbWl0LmNsZWFyKCk7XG5cbiAgICBlbmRNYXJrKCcoQ29tbWl0dGluZyBDaGFuZ2VzKScsICcoQ29tbWl0dGluZyBDaGFuZ2VzKScsIHdhcm5pbmckJDEpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0YXJ0Q29tbWl0U25hcHNob3RFZmZlY3RzVGltZXIoKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQgPSAwO1xuICAgIGJlZ2luTWFyaygnKENvbW1pdHRpbmcgU25hcHNob3QgRWZmZWN0cyknKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdG9wQ29tbWl0U25hcHNob3RFZmZlY3RzVGltZXIoKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGNvdW50ID0gZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQ7XG4gICAgZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQgPSAwO1xuICAgIGVuZE1hcmsoJyhDb21taXR0aW5nIFNuYXBzaG90IEVmZmVjdHM6ICcgKyBjb3VudCArICcgVG90YWwpJywgJyhDb21taXR0aW5nIFNuYXBzaG90IEVmZmVjdHMpJywgbnVsbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRDb21taXRIb3N0RWZmZWN0c1RpbWVyKCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0ID0gMDtcbiAgICBiZWdpbk1hcmsoJyhDb21taXR0aW5nIEhvc3QgRWZmZWN0cyknKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdG9wQ29tbWl0SG9zdEVmZmVjdHNUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY291bnQgPSBlZmZlY3RDb3VudEluQ3VycmVudENvbW1pdDtcbiAgICBlZmZlY3RDb3VudEluQ3VycmVudENvbW1pdCA9IDA7XG4gICAgZW5kTWFyaygnKENvbW1pdHRpbmcgSG9zdCBFZmZlY3RzOiAnICsgY291bnQgKyAnIFRvdGFsKScsICcoQ29tbWl0dGluZyBIb3N0IEVmZmVjdHMpJywgbnVsbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRDb21taXRMaWZlQ3ljbGVzVGltZXIoKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQgPSAwO1xuICAgIGJlZ2luTWFyaygnKENhbGxpbmcgTGlmZWN5Y2xlIE1ldGhvZHMpJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RvcENvbW1pdExpZmVDeWNsZXNUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY291bnQgPSBlZmZlY3RDb3VudEluQ3VycmVudENvbW1pdDtcbiAgICBlZmZlY3RDb3VudEluQ3VycmVudENvbW1pdCA9IDA7XG4gICAgZW5kTWFyaygnKENhbGxpbmcgTGlmZWN5Y2xlIE1ldGhvZHM6ICcgKyBjb3VudCArICcgVG90YWwpJywgJyhDYWxsaW5nIExpZmVjeWNsZSBNZXRob2RzKScsIG51bGwpO1xuICB9XG59XG5cbnZhciBkaWRXYXJuVXBkYXRlSW5zaWRlVXBkYXRlID0gdm9pZCAwO1xuXG57XG4gIGRpZFdhcm5VcGRhdGVJbnNpZGVVcGRhdGUgPSBmYWxzZTtcbn1cblxuLy8gQ2FsbGJhY2tzIGFyZSBub3QgdmFsaWRhdGVkIHVudGlsIGludm9jYXRpb25cblxuXG4vLyBTaW5nbHkgbGlua2VkLWxpc3Qgb2YgdXBkYXRlcy4gV2hlbiBhbiB1cGRhdGUgaXMgc2NoZWR1bGVkLCBpdCBpcyBhZGRlZCB0b1xuLy8gdGhlIHF1ZXVlIG9mIHRoZSBjdXJyZW50IGZpYmVyIGFuZCB0aGUgd29yay1pbi1wcm9ncmVzcyBmaWJlci4gVGhlIHR3byBxdWV1ZXNcbi8vIGFyZSBzZXBhcmF0ZSBidXQgdGhleSBzaGFyZSBhIHBlcnNpc3RlbnQgc3RydWN0dXJlLlxuLy9cbi8vIER1cmluZyByZWNvbmNpbGlhdGlvbiwgdXBkYXRlcyBhcmUgcmVtb3ZlZCBmcm9tIHRoZSB3b3JrLWluLXByb2dyZXNzIGZpYmVyLFxuLy8gYnV0IHRoZXkgcmVtYWluIG9uIHRoZSBjdXJyZW50IGZpYmVyLiBUaGF0IGVuc3VyZXMgdGhhdCBpZiBhIHdvcmstaW4tcHJvZ3Jlc3Ncbi8vIGlzIGFib3J0ZWQsIHRoZSBhYm9ydGVkIHVwZGF0ZXMgYXJlIHJlY292ZXJlZCBieSBjbG9uaW5nIGZyb20gY3VycmVudC5cbi8vXG4vLyBUaGUgd29yay1pbi1wcm9ncmVzcyBxdWV1ZSBpcyBhbHdheXMgYSBzdWJzZXQgb2YgdGhlIGN1cnJlbnQgcXVldWUuXG4vL1xuLy8gV2hlbiB0aGUgdHJlZSBpcyBjb21taXR0ZWQsIHRoZSB3b3JrLWluLXByb2dyZXNzIGJlY29tZXMgdGhlIGN1cnJlbnQuXG5cblxuZnVuY3Rpb24gY3JlYXRlVXBkYXRlUXVldWUoYmFzZVN0YXRlKSB7XG4gIHZhciBxdWV1ZSA9IHtcbiAgICBiYXNlU3RhdGU6IGJhc2VTdGF0ZSxcbiAgICBleHBpcmF0aW9uVGltZTogTm9Xb3JrLFxuICAgIGZpcnN0OiBudWxsLFxuICAgIGxhc3Q6IG51bGwsXG4gICAgY2FsbGJhY2tMaXN0OiBudWxsLFxuICAgIGhhc0ZvcmNlVXBkYXRlOiBmYWxzZSxcbiAgICBpc0luaXRpYWxpemVkOiBmYWxzZSxcbiAgICBjYXB0dXJlZFZhbHVlczogbnVsbFxuICB9O1xuICB7XG4gICAgcXVldWUuaXNQcm9jZXNzaW5nID0gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHF1ZXVlO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRVcGRhdGVJbnRvUXVldWUocXVldWUsIHVwZGF0ZSkge1xuICAvLyBBcHBlbmQgdGhlIHVwZGF0ZSB0byB0aGUgZW5kIG9mIHRoZSBsaXN0LlxuICBpZiAocXVldWUubGFzdCA9PT0gbnVsbCkge1xuICAgIC8vIFF1ZXVlIGlzIGVtcHR5XG4gICAgcXVldWUuZmlyc3QgPSBxdWV1ZS5sYXN0ID0gdXBkYXRlO1xuICB9IGVsc2Uge1xuICAgIHF1ZXVlLmxhc3QubmV4dCA9IHVwZGF0ZTtcbiAgICBxdWV1ZS5sYXN0ID0gdXBkYXRlO1xuICB9XG4gIGlmIChxdWV1ZS5leHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8IHF1ZXVlLmV4cGlyYXRpb25UaW1lID4gdXBkYXRlLmV4cGlyYXRpb25UaW1lKSB7XG4gICAgcXVldWUuZXhwaXJhdGlvblRpbWUgPSB1cGRhdGUuZXhwaXJhdGlvblRpbWU7XG4gIH1cbn1cblxudmFyIHExID0gdm9pZCAwO1xudmFyIHEyID0gdm9pZCAwO1xuZnVuY3Rpb24gZW5zdXJlVXBkYXRlUXVldWVzKGZpYmVyKSB7XG4gIHExID0gcTIgPSBudWxsO1xuICAvLyBXZSdsbCBoYXZlIGF0IGxlYXN0IG9uZSBhbmQgYXQgbW9zdCB0d28gZGlzdGluY3QgdXBkYXRlIHF1ZXVlcy5cbiAgdmFyIGFsdGVybmF0ZUZpYmVyID0gZmliZXIuYWx0ZXJuYXRlO1xuICB2YXIgcXVldWUxID0gZmliZXIudXBkYXRlUXVldWU7XG4gIGlmIChxdWV1ZTEgPT09IG51bGwpIHtcbiAgICAvLyBUT0RPOiBXZSBkb24ndCBrbm93IHdoYXQgdGhlIGJhc2Ugc3RhdGUgd2lsbCBiZSB1bnRpbCB3ZSBiZWdpbiB3b3JrLlxuICAgIC8vIEl0IGRlcGVuZHMgb24gd2hpY2ggZmliZXIgaXMgdGhlIG5leHQgY3VycmVudC4gSW5pdGlhbGl6ZSB3aXRoIGFuIGVtcHR5XG4gICAgLy8gYmFzZSBzdGF0ZSwgdGhlbiBzZXQgdG8gdGhlIG1lbW9pemVkU3RhdGUgd2hlbiByZW5kZXJpbmcuIE5vdCBzdXBlclxuICAgIC8vIGhhcHB5IHdpdGggdGhpcyBhcHByb2FjaC5cbiAgICBxdWV1ZTEgPSBmaWJlci51cGRhdGVRdWV1ZSA9IGNyZWF0ZVVwZGF0ZVF1ZXVlKG51bGwpO1xuICB9XG5cbiAgdmFyIHF1ZXVlMiA9IHZvaWQgMDtcbiAgaWYgKGFsdGVybmF0ZUZpYmVyICE9PSBudWxsKSB7XG4gICAgcXVldWUyID0gYWx0ZXJuYXRlRmliZXIudXBkYXRlUXVldWU7XG4gICAgaWYgKHF1ZXVlMiA9PT0gbnVsbCkge1xuICAgICAgcXVldWUyID0gYWx0ZXJuYXRlRmliZXIudXBkYXRlUXVldWUgPSBjcmVhdGVVcGRhdGVRdWV1ZShudWxsKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcXVldWUyID0gbnVsbDtcbiAgfVxuICBxdWV1ZTIgPSBxdWV1ZTIgIT09IHF1ZXVlMSA/IHF1ZXVlMiA6IG51bGw7XG5cbiAgLy8gVXNlIG1vZHVsZSB2YXJpYWJsZXMgaW5zdGVhZCBvZiByZXR1cm5pbmcgYSB0dXBsZVxuICBxMSA9IHF1ZXVlMTtcbiAgcTIgPSBxdWV1ZTI7XG59XG5cbmZ1bmN0aW9uIGluc2VydFVwZGF0ZUludG9GaWJlcihmaWJlciwgdXBkYXRlKSB7XG4gIGVuc3VyZVVwZGF0ZVF1ZXVlcyhmaWJlcik7XG4gIHZhciBxdWV1ZTEgPSBxMTtcbiAgdmFyIHF1ZXVlMiA9IHEyO1xuXG4gIC8vIFdhcm4gaWYgYW4gdXBkYXRlIGlzIHNjaGVkdWxlZCBmcm9tIGluc2lkZSBhbiB1cGRhdGVyIGZ1bmN0aW9uLlxuICB7XG4gICAgaWYgKChxdWV1ZTEuaXNQcm9jZXNzaW5nIHx8IHF1ZXVlMiAhPT0gbnVsbCAmJiBxdWV1ZTIuaXNQcm9jZXNzaW5nKSAmJiAhZGlkV2FyblVwZGF0ZUluc2lkZVVwZGF0ZSkge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ0FuIHVwZGF0ZSAoc2V0U3RhdGUsIHJlcGxhY2VTdGF0ZSwgb3IgZm9yY2VVcGRhdGUpIHdhcyBzY2hlZHVsZWQgJyArICdmcm9tIGluc2lkZSBhbiB1cGRhdGUgZnVuY3Rpb24uIFVwZGF0ZSBmdW5jdGlvbnMgc2hvdWxkIGJlIHB1cmUsICcgKyAnd2l0aCB6ZXJvIHNpZGUtZWZmZWN0cy4gQ29uc2lkZXIgdXNpbmcgY29tcG9uZW50RGlkVXBkYXRlIG9yIGEgJyArICdjYWxsYmFjay4nKTtcbiAgICAgIGRpZFdhcm5VcGRhdGVJbnNpZGVVcGRhdGUgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8vIElmIHRoZXJlJ3Mgb25seSBvbmUgcXVldWUsIGFkZCB0aGUgdXBkYXRlIHRvIHRoYXQgcXVldWUgYW5kIGV4aXQuXG4gIGlmIChxdWV1ZTIgPT09IG51bGwpIHtcbiAgICBpbnNlcnRVcGRhdGVJbnRvUXVldWUocXVldWUxLCB1cGRhdGUpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIElmIGVpdGhlciBxdWV1ZSBpcyBlbXB0eSwgd2UgbmVlZCB0byBhZGQgdG8gYm90aCBxdWV1ZXMuXG4gIGlmIChxdWV1ZTEubGFzdCA9PT0gbnVsbCB8fCBxdWV1ZTIubGFzdCA9PT0gbnVsbCkge1xuICAgIGluc2VydFVwZGF0ZUludG9RdWV1ZShxdWV1ZTEsIHVwZGF0ZSk7XG4gICAgaW5zZXJ0VXBkYXRlSW50b1F1ZXVlKHF1ZXVlMiwgdXBkYXRlKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBJZiBib3RoIGxpc3RzIGFyZSBub3QgZW1wdHksIHRoZSBsYXN0IHVwZGF0ZSBpcyB0aGUgc2FtZSBmb3IgYm90aCBsaXN0c1xuICAvLyBiZWNhdXNlIG9mIHN0cnVjdHVyYWwgc2hhcmluZy4gU28sIHdlIHNob3VsZCBvbmx5IGFwcGVuZCB0byBvbmUgb2ZcbiAgLy8gdGhlIGxpc3RzLlxuICBpbnNlcnRVcGRhdGVJbnRvUXVldWUocXVldWUxLCB1cGRhdGUpO1xuICAvLyBCdXQgd2Ugc3RpbGwgbmVlZCB0byB1cGRhdGUgdGhlIGBsYXN0YCBwb2ludGVyIG9mIHF1ZXVlMi5cbiAgcXVldWUyLmxhc3QgPSB1cGRhdGU7XG59XG5cbmZ1bmN0aW9uIGdldFVwZGF0ZUV4cGlyYXRpb25UaW1lKGZpYmVyKSB7XG4gIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgY2FzZSBIb3N0Um9vdDpcbiAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gZmliZXIudXBkYXRlUXVldWU7XG4gICAgICBpZiAodXBkYXRlUXVldWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIE5vV29yaztcbiAgICAgIH1cbiAgICAgIHJldHVybiB1cGRhdGVRdWV1ZS5leHBpcmF0aW9uVGltZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIE5vV29yaztcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRTdGF0ZUZyb21VcGRhdGUodXBkYXRlLCBpbnN0YW5jZSwgcHJldlN0YXRlLCBwcm9wcykge1xuICB2YXIgcGFydGlhbFN0YXRlID0gdXBkYXRlLnBhcnRpYWxTdGF0ZTtcbiAgaWYgKHR5cGVvZiBwYXJ0aWFsU3RhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gcGFydGlhbFN0YXRlLmNhbGwoaW5zdGFuY2UsIHByZXZTdGF0ZSwgcHJvcHMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBwYXJ0aWFsU3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJvY2Vzc1VwZGF0ZVF1ZXVlKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBxdWV1ZSwgaW5zdGFuY2UsIHByb3BzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICBpZiAoY3VycmVudCAhPT0gbnVsbCAmJiBjdXJyZW50LnVwZGF0ZVF1ZXVlID09PSBxdWV1ZSkge1xuICAgIC8vIFdlIG5lZWQgdG8gY3JlYXRlIGEgd29yay1pbi1wcm9ncmVzcyBxdWV1ZSwgYnkgY2xvbmluZyB0aGUgY3VycmVudCBxdWV1ZS5cbiAgICB2YXIgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgcXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IHtcbiAgICAgIGJhc2VTdGF0ZTogY3VycmVudFF1ZXVlLmJhc2VTdGF0ZSxcbiAgICAgIGV4cGlyYXRpb25UaW1lOiBjdXJyZW50UXVldWUuZXhwaXJhdGlvblRpbWUsXG4gICAgICBmaXJzdDogY3VycmVudFF1ZXVlLmZpcnN0LFxuICAgICAgbGFzdDogY3VycmVudFF1ZXVlLmxhc3QsXG4gICAgICBpc0luaXRpYWxpemVkOiBjdXJyZW50UXVldWUuaXNJbml0aWFsaXplZCxcbiAgICAgIGNhcHR1cmVkVmFsdWVzOiBjdXJyZW50UXVldWUuY2FwdHVyZWRWYWx1ZXMsXG4gICAgICAvLyBUaGVzZSBmaWVsZHMgYXJlIG5vIGxvbmdlciB2YWxpZCBiZWNhdXNlIHRoZXkgd2VyZSBhbHJlYWR5IGNvbW1pdHRlZC5cbiAgICAgIC8vIFJlc2V0IHRoZW0uXG4gICAgICBjYWxsYmFja0xpc3Q6IG51bGwsXG4gICAgICBoYXNGb3JjZVVwZGF0ZTogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAge1xuICAgIC8vIFNldCB0aGlzIGZsYWcgc28gd2UgY2FuIHdhcm4gaWYgc2V0U3RhdGUgaXMgY2FsbGVkIGluc2lkZSB0aGUgdXBkYXRlXG4gICAgLy8gZnVuY3Rpb24gb2YgYW5vdGhlciBzZXRTdGF0ZS5cbiAgICBxdWV1ZS5pc1Byb2Nlc3NpbmcgPSB0cnVlO1xuICB9XG5cbiAgLy8gUmVzZXQgdGhlIHJlbWFpbmluZyBleHBpcmF0aW9uIHRpbWUuIElmIHdlIHNraXAgb3ZlciBhbnkgdXBkYXRlcywgd2UnbGxcbiAgLy8gaW5jcmVhc2UgdGhpcyBhY2NvcmRpbmdseS5cbiAgcXVldWUuZXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG5cbiAgLy8gVE9ETzogV2UgZG9uJ3Qga25vdyB3aGF0IHRoZSBiYXNlIHN0YXRlIHdpbGwgYmUgdW50aWwgd2UgYmVnaW4gd29yay5cbiAgLy8gSXQgZGVwZW5kcyBvbiB3aGljaCBmaWJlciBpcyB0aGUgbmV4dCBjdXJyZW50LiBJbml0aWFsaXplIHdpdGggYW4gZW1wdHlcbiAgLy8gYmFzZSBzdGF0ZSwgdGhlbiBzZXQgdG8gdGhlIG1lbW9pemVkU3RhdGUgd2hlbiByZW5kZXJpbmcuIE5vdCBzdXBlclxuICAvLyBoYXBweSB3aXRoIHRoaXMgYXBwcm9hY2guXG4gIHZhciBzdGF0ZSA9IHZvaWQgMDtcbiAgaWYgKHF1ZXVlLmlzSW5pdGlhbGl6ZWQpIHtcbiAgICBzdGF0ZSA9IHF1ZXVlLmJhc2VTdGF0ZTtcbiAgfSBlbHNlIHtcbiAgICBzdGF0ZSA9IHF1ZXVlLmJhc2VTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgcXVldWUuaXNJbml0aWFsaXplZCA9IHRydWU7XG4gIH1cbiAgdmFyIGRvbnRNdXRhdGVQcmV2U3RhdGUgPSB0cnVlO1xuICB2YXIgdXBkYXRlID0gcXVldWUuZmlyc3Q7XG4gIHZhciBkaWRTa2lwID0gZmFsc2U7XG4gIHdoaWxlICh1cGRhdGUgIT09IG51bGwpIHtcbiAgICB2YXIgdXBkYXRlRXhwaXJhdGlvblRpbWUgPSB1cGRhdGUuZXhwaXJhdGlvblRpbWU7XG4gICAgaWYgKHVwZGF0ZUV4cGlyYXRpb25UaW1lID4gcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICAgIC8vIFRoaXMgdXBkYXRlIGRvZXMgbm90IGhhdmUgc3VmZmljaWVudCBwcmlvcml0eS4gU2tpcCBpdC5cbiAgICAgIHZhciByZW1haW5pbmdFeHBpcmF0aW9uVGltZSA9IHF1ZXVlLmV4cGlyYXRpb25UaW1lO1xuICAgICAgaWYgKHJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHwgcmVtYWluaW5nRXhwaXJhdGlvblRpbWUgPiB1cGRhdGVFeHBpcmF0aW9uVGltZSkge1xuICAgICAgICAvLyBVcGRhdGUgdGhlIHJlbWFpbmluZyBleHBpcmF0aW9uIHRpbWUuXG4gICAgICAgIHF1ZXVlLmV4cGlyYXRpb25UaW1lID0gdXBkYXRlRXhwaXJhdGlvblRpbWU7XG4gICAgICB9XG4gICAgICBpZiAoIWRpZFNraXApIHtcbiAgICAgICAgZGlkU2tpcCA9IHRydWU7XG4gICAgICAgIHF1ZXVlLmJhc2VTdGF0ZSA9IHN0YXRlO1xuICAgICAgfVxuICAgICAgLy8gQ29udGludWUgdG8gdGhlIG5leHQgdXBkYXRlLlxuICAgICAgdXBkYXRlID0gdXBkYXRlLm5leHQ7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIHVwZGF0ZSBkb2VzIGhhdmUgc3VmZmljaWVudCBwcmlvcml0eS5cblxuICAgIC8vIElmIG5vIHByZXZpb3VzIHVwZGF0ZXMgd2VyZSBza2lwcGVkLCBkcm9wIHRoaXMgdXBkYXRlIGZyb20gdGhlIHF1ZXVlIGJ5XG4gICAgLy8gYWR2YW5jaW5nIHRoZSBoZWFkIG9mIHRoZSBsaXN0LlxuICAgIGlmICghZGlkU2tpcCkge1xuICAgICAgcXVldWUuZmlyc3QgPSB1cGRhdGUubmV4dDtcbiAgICAgIGlmIChxdWV1ZS5maXJzdCA9PT0gbnVsbCkge1xuICAgICAgICBxdWV1ZS5sYXN0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJbnZva2Ugc2V0U3RhdGUgY2FsbGJhY2sgYW4gZXh0cmEgdGltZSB0byBoZWxwIGRldGVjdCBzaWRlLWVmZmVjdHMuXG4gICAgLy8gSWdub3JlIHRoZSByZXR1cm4gdmFsdWUgaW4gdGhpcyBjYXNlLlxuICAgIGlmIChkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHMgfHwgZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzRm9yU3RyaWN0TW9kZSAmJiB3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TW9kZSkge1xuICAgICAgZ2V0U3RhdGVGcm9tVXBkYXRlKHVwZGF0ZSwgaW5zdGFuY2UsIHN0YXRlLCBwcm9wcyk7XG4gICAgfVxuXG4gICAgLy8gUHJvY2VzcyB0aGUgdXBkYXRlXG4gICAgdmFyIF9wYXJ0aWFsU3RhdGUgPSB2b2lkIDA7XG4gICAgaWYgKHVwZGF0ZS5pc1JlcGxhY2UpIHtcbiAgICAgIHN0YXRlID0gZ2V0U3RhdGVGcm9tVXBkYXRlKHVwZGF0ZSwgaW5zdGFuY2UsIHN0YXRlLCBwcm9wcyk7XG4gICAgICBkb250TXV0YXRlUHJldlN0YXRlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3BhcnRpYWxTdGF0ZSA9IGdldFN0YXRlRnJvbVVwZGF0ZSh1cGRhdGUsIGluc3RhbmNlLCBzdGF0ZSwgcHJvcHMpO1xuICAgICAgaWYgKF9wYXJ0aWFsU3RhdGUpIHtcbiAgICAgICAgaWYgKGRvbnRNdXRhdGVQcmV2U3RhdGUpIHtcbiAgICAgICAgICAvLyAkRmxvd0ZpeE1lOiBJZGsgaG93IHRvIHR5cGUgdGhpcyBwcm9wZXJseS5cbiAgICAgICAgICBzdGF0ZSA9IF9hc3NpZ24oe30sIHN0YXRlLCBfcGFydGlhbFN0YXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGF0ZSA9IF9hc3NpZ24oc3RhdGUsIF9wYXJ0aWFsU3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGRvbnRNdXRhdGVQcmV2U3RhdGUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHVwZGF0ZS5pc0ZvcmNlZCkge1xuICAgICAgcXVldWUuaGFzRm9yY2VVcGRhdGUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodXBkYXRlLmNhbGxiYWNrICE9PSBudWxsKSB7XG4gICAgICAvLyBBcHBlbmQgdG8gbGlzdCBvZiBjYWxsYmFja3MuXG4gICAgICB2YXIgX2NhbGxiYWNrTGlzdCA9IHF1ZXVlLmNhbGxiYWNrTGlzdDtcbiAgICAgIGlmIChfY2FsbGJhY2tMaXN0ID09PSBudWxsKSB7XG4gICAgICAgIF9jYWxsYmFja0xpc3QgPSBxdWV1ZS5jYWxsYmFja0xpc3QgPSBbXTtcbiAgICAgIH1cbiAgICAgIF9jYWxsYmFja0xpc3QucHVzaCh1cGRhdGUpO1xuICAgIH1cbiAgICBpZiAodXBkYXRlLmNhcHR1cmVkVmFsdWUgIT09IG51bGwpIHtcbiAgICAgIHZhciBfY2FwdHVyZWRWYWx1ZXMgPSBxdWV1ZS5jYXB0dXJlZFZhbHVlcztcbiAgICAgIGlmIChfY2FwdHVyZWRWYWx1ZXMgPT09IG51bGwpIHtcbiAgICAgICAgcXVldWUuY2FwdHVyZWRWYWx1ZXMgPSBbdXBkYXRlLmNhcHR1cmVkVmFsdWVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2NhcHR1cmVkVmFsdWVzLnB1c2godXBkYXRlLmNhcHR1cmVkVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGUgPSB1cGRhdGUubmV4dDtcbiAgfVxuXG4gIGlmIChxdWV1ZS5jYWxsYmFja0xpc3QgIT09IG51bGwpIHtcbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gQ2FsbGJhY2s7XG4gIH0gZWxzZSBpZiAocXVldWUuZmlyc3QgPT09IG51bGwgJiYgIXF1ZXVlLmhhc0ZvcmNlVXBkYXRlICYmIHF1ZXVlLmNhcHR1cmVkVmFsdWVzID09PSBudWxsKSB7XG4gICAgLy8gVGhlIHF1ZXVlIGlzIGVtcHR5LiBXZSBjYW4gcmVzZXQgaXQuXG4gICAgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPSBudWxsO1xuICB9XG5cbiAgaWYgKCFkaWRTa2lwKSB7XG4gICAgZGlkU2tpcCA9IHRydWU7XG4gICAgcXVldWUuYmFzZVN0YXRlID0gc3RhdGU7XG4gIH1cblxuICB7XG4gICAgLy8gTm8gbG9uZ2VyIHByb2Nlc3NpbmcuXG4gICAgcXVldWUuaXNQcm9jZXNzaW5nID0gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gc3RhdGU7XG59XG5cbmZ1bmN0aW9uIGNvbW1pdENhbGxiYWNrcyhxdWV1ZSwgY29udGV4dCkge1xuICB2YXIgY2FsbGJhY2tMaXN0ID0gcXVldWUuY2FsbGJhY2tMaXN0O1xuICBpZiAoY2FsbGJhY2tMaXN0ID09PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIFNldCB0aGUgbGlzdCB0byBudWxsIHRvIG1ha2Ugc3VyZSB0aGV5IGRvbid0IGdldCBjYWxsZWQgbW9yZSB0aGFuIG9uY2UuXG4gIHF1ZXVlLmNhbGxiYWNrTGlzdCA9IG51bGw7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHVwZGF0ZSA9IGNhbGxiYWNrTGlzdFtpXTtcbiAgICB2YXIgX2NhbGxiYWNrID0gdXBkYXRlLmNhbGxiYWNrO1xuICAgIC8vIFRoaXMgdXBkYXRlIG1pZ2h0IGJlIHByb2Nlc3NlZCBhZ2Fpbi4gQ2xlYXIgdGhlIGNhbGxiYWNrIHNvIGl0J3Mgb25seVxuICAgIC8vIGNhbGxlZCBvbmNlLlxuICAgIHVwZGF0ZS5jYWxsYmFjayA9IG51bGw7XG4gICAgISh0eXBlb2YgX2NhbGxiYWNrID09PSAnZnVuY3Rpb24nKSA/IGludmFyaWFudChmYWxzZSwgJ0ludmFsaWQgYXJndW1lbnQgcGFzc2VkIGFzIGNhbGxiYWNrLiBFeHBlY3RlZCBhIGZ1bmN0aW9uLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcycsIF9jYWxsYmFjaykgOiB2b2lkIDA7XG4gICAgX2NhbGxiYWNrLmNhbGwoY29udGV4dCk7XG4gIH1cbn1cblxudmFyIGZha2VJbnRlcm5hbEluc3RhbmNlID0ge307XG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbnZhciBkaWRXYXJuQWJvdXRTdGF0ZUFzc2lnbm1lbnRGb3JDb21wb25lbnQgPSB2b2lkIDA7XG52YXIgZGlkV2FybkFib3V0VW5kZWZpbmVkRGVyaXZlZFN0YXRlID0gdm9pZCAwO1xudmFyIGRpZFdhcm5BYm91dFVuaW5pdGlhbGl6ZWRTdGF0ZSA9IHZvaWQgMDtcbnZhciBkaWRXYXJuQWJvdXRHZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZVdpdGhvdXREaWRVcGRhdGUgPSB2b2lkIDA7XG52YXIgZGlkV2FybkFib3V0TGVnYWN5TGlmZWN5Y2xlc0FuZERlcml2ZWRTdGF0ZSA9IHZvaWQgMDtcbnZhciB3YXJuT25JbnZhbGlkQ2FsbGJhY2skMSA9IHZvaWQgMDtcblxue1xuICBkaWRXYXJuQWJvdXRTdGF0ZUFzc2lnbm1lbnRGb3JDb21wb25lbnQgPSBuZXcgU2V0KCk7XG4gIGRpZFdhcm5BYm91dFVuZGVmaW5lZERlcml2ZWRTdGF0ZSA9IG5ldyBTZXQoKTtcbiAgZGlkV2FybkFib3V0VW5pbml0aWFsaXplZFN0YXRlID0gbmV3IFNldCgpO1xuICBkaWRXYXJuQWJvdXRHZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZVdpdGhvdXREaWRVcGRhdGUgPSBuZXcgU2V0KCk7XG4gIGRpZFdhcm5BYm91dExlZ2FjeUxpZmVjeWNsZXNBbmREZXJpdmVkU3RhdGUgPSBuZXcgU2V0KCk7XG5cbiAgdmFyIGRpZFdhcm5PbkludmFsaWRDYWxsYmFjayA9IG5ldyBTZXQoKTtcblxuICB3YXJuT25JbnZhbGlkQ2FsbGJhY2skMSA9IGZ1bmN0aW9uIChjYWxsYmFjaywgY2FsbGVyTmFtZSkge1xuICAgIGlmIChjYWxsYmFjayA9PT0gbnVsbCB8fCB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGtleSA9IGNhbGxlck5hbWUgKyAnXycgKyBjYWxsYmFjaztcbiAgICBpZiAoIWRpZFdhcm5PbkludmFsaWRDYWxsYmFjay5oYXMoa2V5KSkge1xuICAgICAgZGlkV2Fybk9uSW52YWxpZENhbGxiYWNrLmFkZChrZXkpO1xuICAgICAgd2FybmluZyhmYWxzZSwgJyVzKC4uLik6IEV4cGVjdGVkIHRoZSBsYXN0IG9wdGlvbmFsIGBjYWxsYmFja2AgYXJndW1lbnQgdG8gYmUgYSAnICsgJ2Z1bmN0aW9uLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcy4nLCBjYWxsZXJOYW1lLCBjYWxsYmFjayk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFRoaXMgaXMgc28gZ3Jvc3MgYnV0IGl0J3MgYXQgbGVhc3Qgbm9uLWNyaXRpY2FsIGFuZCBjYW4gYmUgcmVtb3ZlZCBpZlxuICAvLyBpdCBjYXVzZXMgcHJvYmxlbXMuIFRoaXMgaXMgbWVhbnQgdG8gZ2l2ZSBhIG5pY2VyIGVycm9yIG1lc3NhZ2UgZm9yXG4gIC8vIFJlYWN0RE9NMTUudW5zdGFibGVfcmVuZGVyU3VidHJlZUludG9Db250YWluZXIocmVhY3RET00xNkNvbXBvbmVudCxcbiAgLy8gLi4uKSkgd2hpY2ggb3RoZXJ3aXNlIHRocm93cyBhIFwiX3Byb2Nlc3NDaGlsZENvbnRleHQgaXMgbm90IGEgZnVuY3Rpb25cIlxuICAvLyBleGNlcHRpb24uXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmYWtlSW50ZXJuYWxJbnN0YW5jZSwgJ19wcm9jZXNzQ2hpbGRDb250ZXh0Jywge1xuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpbnZhcmlhbnQoZmFsc2UsICdfcHJvY2Vzc0NoaWxkQ29udGV4dCBpcyBub3QgYXZhaWxhYmxlIGluIFJlYWN0IDE2Ky4gVGhpcyBsaWtlbHkgbWVhbnMgeW91IGhhdmUgbXVsdGlwbGUgY29waWVzIG9mIFJlYWN0IGFuZCBhcmUgYXR0ZW1wdGluZyB0byBuZXN0IGEgUmVhY3QgMTUgdHJlZSBpbnNpZGUgYSBSZWFjdCAxNiB0cmVlIHVzaW5nIHVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyLCB3aGljaCBpc25cXCd0IHN1cHBvcnRlZC4gVHJ5IHRvIG1ha2Ugc3VyZSB5b3UgaGF2ZSBvbmx5IG9uZSBjb3B5IG9mIFJlYWN0IChhbmQgaWRlYWxseSwgc3dpdGNoIHRvIFJlYWN0RE9NLmNyZWF0ZVBvcnRhbCkuJyk7XG4gICAgfVxuICB9KTtcbiAgT2JqZWN0LmZyZWV6ZShmYWtlSW50ZXJuYWxJbnN0YW5jZSk7XG59XG5mdW5jdGlvbiBjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoKGN0b3IsIGNhcHR1cmVkVmFsdWVzKSB7XG4gIHZhciByZXN1bHRTdGF0ZSA9IHt9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGNhcHR1cmVkVmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGNhcHR1cmVkVmFsdWUgPSBjYXB0dXJlZFZhbHVlc1tpXTtcbiAgICB2YXIgZXJyb3IgPSBjYXB0dXJlZFZhbHVlLnZhbHVlO1xuICAgIHZhciBwYXJ0aWFsU3RhdGUgPSBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21DYXRjaC5jYWxsKG51bGwsIGVycm9yKTtcbiAgICBpZiAocGFydGlhbFN0YXRlICE9PSBudWxsICYmIHBhcnRpYWxTdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBfYXNzaWduKHJlc3VsdFN0YXRlLCBwYXJ0aWFsU3RhdGUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0U3RhdGU7XG59XG5cbnZhciBSZWFjdEZpYmVyQ2xhc3NDb21wb25lbnQgPSBmdW5jdGlvbiAobGVnYWN5Q29udGV4dCwgc2NoZWR1bGVXb3JrLCBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyLCBtZW1vaXplUHJvcHMsIG1lbW9pemVTdGF0ZSkge1xuICB2YXIgY2FjaGVDb250ZXh0ID0gbGVnYWN5Q29udGV4dC5jYWNoZUNvbnRleHQsXG4gICAgICBnZXRNYXNrZWRDb250ZXh0ID0gbGVnYWN5Q29udGV4dC5nZXRNYXNrZWRDb250ZXh0LFxuICAgICAgZ2V0VW5tYXNrZWRDb250ZXh0ID0gbGVnYWN5Q29udGV4dC5nZXRVbm1hc2tlZENvbnRleHQsXG4gICAgICBpc0NvbnRleHRDb25zdW1lciA9IGxlZ2FjeUNvbnRleHQuaXNDb250ZXh0Q29uc3VtZXIsXG4gICAgICBoYXNDb250ZXh0Q2hhbmdlZCA9IGxlZ2FjeUNvbnRleHQuaGFzQ29udGV4dENoYW5nZWQ7XG5cbiAgLy8gQ2xhc3MgY29tcG9uZW50IHN0YXRlIHVwZGF0ZXJcblxuICB2YXIgdXBkYXRlciA9IHtcbiAgICBpc01vdW50ZWQ6IGlzTW91bnRlZCxcbiAgICBlbnF1ZXVlU2V0U3RhdGU6IGZ1bmN0aW9uIChpbnN0YW5jZSwgcGFydGlhbFN0YXRlLCBjYWxsYmFjaykge1xuICAgICAgdmFyIGZpYmVyID0gZ2V0KGluc3RhbmNlKTtcbiAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjYWxsYmFjaztcbiAgICAgIHtcbiAgICAgICAgd2Fybk9uSW52YWxpZENhbGxiYWNrJDEoY2FsbGJhY2ssICdzZXRTdGF0ZScpO1xuICAgICAgfVxuICAgICAgdmFyIGV4cGlyYXRpb25UaW1lID0gY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlcihmaWJlcik7XG4gICAgICB2YXIgdXBkYXRlID0ge1xuICAgICAgICBleHBpcmF0aW9uVGltZTogZXhwaXJhdGlvblRpbWUsXG4gICAgICAgIHBhcnRpYWxTdGF0ZTogcGFydGlhbFN0YXRlLFxuICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgIGlzUmVwbGFjZTogZmFsc2UsXG4gICAgICAgIGlzRm9yY2VkOiBmYWxzZSxcbiAgICAgICAgY2FwdHVyZWRWYWx1ZTogbnVsbCxcbiAgICAgICAgbmV4dDogbnVsbFxuICAgICAgfTtcbiAgICAgIGluc2VydFVwZGF0ZUludG9GaWJlcihmaWJlciwgdXBkYXRlKTtcbiAgICAgIHNjaGVkdWxlV29yayhmaWJlciwgZXhwaXJhdGlvblRpbWUpO1xuICAgIH0sXG4gICAgZW5xdWV1ZVJlcGxhY2VTdGF0ZTogZnVuY3Rpb24gKGluc3RhbmNlLCBzdGF0ZSwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBmaWJlciA9IGdldChpbnN0YW5jZSk7XG4gICAgICBjYWxsYmFjayA9IGNhbGxiYWNrID09PSB1bmRlZmluZWQgPyBudWxsIDogY2FsbGJhY2s7XG4gICAgICB7XG4gICAgICAgIHdhcm5PbkludmFsaWRDYWxsYmFjayQxKGNhbGxiYWNrLCAncmVwbGFjZVN0YXRlJyk7XG4gICAgICB9XG4gICAgICB2YXIgZXhwaXJhdGlvblRpbWUgPSBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyKGZpYmVyKTtcbiAgICAgIHZhciB1cGRhdGUgPSB7XG4gICAgICAgIGV4cGlyYXRpb25UaW1lOiBleHBpcmF0aW9uVGltZSxcbiAgICAgICAgcGFydGlhbFN0YXRlOiBzdGF0ZSxcbiAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICBpc1JlcGxhY2U6IHRydWUsXG4gICAgICAgIGlzRm9yY2VkOiBmYWxzZSxcbiAgICAgICAgY2FwdHVyZWRWYWx1ZTogbnVsbCxcbiAgICAgICAgbmV4dDogbnVsbFxuICAgICAgfTtcbiAgICAgIGluc2VydFVwZGF0ZUludG9GaWJlcihmaWJlciwgdXBkYXRlKTtcbiAgICAgIHNjaGVkdWxlV29yayhmaWJlciwgZXhwaXJhdGlvblRpbWUpO1xuICAgIH0sXG4gICAgZW5xdWV1ZUZvcmNlVXBkYXRlOiBmdW5jdGlvbiAoaW5zdGFuY2UsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgZmliZXIgPSBnZXQoaW5zdGFuY2UpO1xuICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGNhbGxiYWNrO1xuICAgICAge1xuICAgICAgICB3YXJuT25JbnZhbGlkQ2FsbGJhY2skMShjYWxsYmFjaywgJ2ZvcmNlVXBkYXRlJyk7XG4gICAgICB9XG4gICAgICB2YXIgZXhwaXJhdGlvblRpbWUgPSBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyKGZpYmVyKTtcbiAgICAgIHZhciB1cGRhdGUgPSB7XG4gICAgICAgIGV4cGlyYXRpb25UaW1lOiBleHBpcmF0aW9uVGltZSxcbiAgICAgICAgcGFydGlhbFN0YXRlOiBudWxsLFxuICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgIGlzUmVwbGFjZTogZmFsc2UsXG4gICAgICAgIGlzRm9yY2VkOiB0cnVlLFxuICAgICAgICBjYXB0dXJlZFZhbHVlOiBudWxsLFxuICAgICAgICBuZXh0OiBudWxsXG4gICAgICB9O1xuICAgICAgaW5zZXJ0VXBkYXRlSW50b0ZpYmVyKGZpYmVyLCB1cGRhdGUpO1xuICAgICAgc2NoZWR1bGVXb3JrKGZpYmVyLCBleHBpcmF0aW9uVGltZSk7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGNoZWNrU2hvdWxkQ29tcG9uZW50VXBkYXRlKHdvcmtJblByb2dyZXNzLCBvbGRQcm9wcywgbmV3UHJvcHMsIG9sZFN0YXRlLCBuZXdTdGF0ZSwgbmV3Q29udGV4dCkge1xuICAgIGlmIChvbGRQcm9wcyA9PT0gbnVsbCB8fCB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSAhPT0gbnVsbCAmJiB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZS5oYXNGb3JjZVVwZGF0ZSkge1xuICAgICAgLy8gSWYgdGhlIHdvcmtJblByb2dyZXNzIGFscmVhZHkgaGFzIGFuIFVwZGF0ZSBlZmZlY3QsIHJldHVybiB0cnVlXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgdmFyIGN0b3IgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgIGlmICh0eXBlb2YgaW5zdGFuY2Uuc2hvdWxkQ29tcG9uZW50VXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBzdGFydFBoYXNlVGltZXIod29ya0luUHJvZ3Jlc3MsICdzaG91bGRDb21wb25lbnRVcGRhdGUnKTtcbiAgICAgIHZhciBzaG91bGRVcGRhdGUgPSBpbnN0YW5jZS5zaG91bGRDb21wb25lbnRVcGRhdGUobmV3UHJvcHMsIG5ld1N0YXRlLCBuZXdDb250ZXh0KTtcbiAgICAgIHN0b3BQaGFzZVRpbWVyKCk7XG5cbiAgICAgIHtcbiAgICAgICAgd2FybmluZyhzaG91bGRVcGRhdGUgIT09IHVuZGVmaW5lZCwgJyVzLnNob3VsZENvbXBvbmVudFVwZGF0ZSgpOiBSZXR1cm5lZCB1bmRlZmluZWQgaW5zdGVhZCBvZiBhICcgKyAnYm9vbGVhbiB2YWx1ZS4gTWFrZSBzdXJlIHRvIHJldHVybiB0cnVlIG9yIGZhbHNlLicsIGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpIHx8ICdDb21wb25lbnQnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNob3VsZFVwZGF0ZTtcbiAgICB9XG5cbiAgICBpZiAoY3Rvci5wcm90b3R5cGUgJiYgY3Rvci5wcm90b3R5cGUuaXNQdXJlUmVhY3RDb21wb25lbnQpIHtcbiAgICAgIHJldHVybiAhc2hhbGxvd0VxdWFsKG9sZFByb3BzLCBuZXdQcm9wcykgfHwgIXNoYWxsb3dFcXVhbChvbGRTdGF0ZSwgbmV3U3RhdGUpO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzKSB7XG4gICAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgIHZhciB0eXBlID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICB7XG4gICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpIHx8ICdDb21wb25lbnQnO1xuICAgICAgdmFyIHJlbmRlclByZXNlbnQgPSBpbnN0YW5jZS5yZW5kZXI7XG5cbiAgICAgIGlmICghcmVuZGVyUHJlc2VudCkge1xuICAgICAgICBpZiAodHlwZS5wcm90b3R5cGUgJiYgdHlwZW9mIHR5cGUucHJvdG90eXBlLnJlbmRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICclcyguLi4pOiBObyBgcmVuZGVyYCBtZXRob2QgZm91bmQgb24gdGhlIHJldHVybmVkIGNvbXBvbmVudCAnICsgJ2luc3RhbmNlOiBkaWQgeW91IGFjY2lkZW50YWxseSByZXR1cm4gYW4gb2JqZWN0IGZyb20gdGhlIGNvbnN0cnVjdG9yPycsIG5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICclcyguLi4pOiBObyBgcmVuZGVyYCBtZXRob2QgZm91bmQgb24gdGhlIHJldHVybmVkIGNvbXBvbmVudCAnICsgJ2luc3RhbmNlOiB5b3UgbWF5IGhhdmUgZm9yZ290dGVuIHRvIGRlZmluZSBgcmVuZGVyYC4nLCBuYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgbm9HZXRJbml0aWFsU3RhdGVPbkVTNiA9ICFpbnN0YW5jZS5nZXRJbml0aWFsU3RhdGUgfHwgaW5zdGFuY2UuZ2V0SW5pdGlhbFN0YXRlLmlzUmVhY3RDbGFzc0FwcHJvdmVkIHx8IGluc3RhbmNlLnN0YXRlO1xuICAgICAgd2FybmluZyhub0dldEluaXRpYWxTdGF0ZU9uRVM2LCAnZ2V0SW5pdGlhbFN0YXRlIHdhcyBkZWZpbmVkIG9uICVzLCBhIHBsYWluIEphdmFTY3JpcHQgY2xhc3MuICcgKyAnVGhpcyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgY2xhc3NlcyBjcmVhdGVkIHVzaW5nIFJlYWN0LmNyZWF0ZUNsYXNzLiAnICsgJ0RpZCB5b3UgbWVhbiB0byBkZWZpbmUgYSBzdGF0ZSBwcm9wZXJ0eSBpbnN0ZWFkPycsIG5hbWUpO1xuICAgICAgdmFyIG5vR2V0RGVmYXVsdFByb3BzT25FUzYgPSAhaW5zdGFuY2UuZ2V0RGVmYXVsdFByb3BzIHx8IGluc3RhbmNlLmdldERlZmF1bHRQcm9wcy5pc1JlYWN0Q2xhc3NBcHByb3ZlZDtcbiAgICAgIHdhcm5pbmcobm9HZXREZWZhdWx0UHJvcHNPbkVTNiwgJ2dldERlZmF1bHRQcm9wcyB3YXMgZGVmaW5lZCBvbiAlcywgYSBwbGFpbiBKYXZhU2NyaXB0IGNsYXNzLiAnICsgJ1RoaXMgaXMgb25seSBzdXBwb3J0ZWQgZm9yIGNsYXNzZXMgY3JlYXRlZCB1c2luZyBSZWFjdC5jcmVhdGVDbGFzcy4gJyArICdVc2UgYSBzdGF0aWMgcHJvcGVydHkgdG8gZGVmaW5lIGRlZmF1bHRQcm9wcyBpbnN0ZWFkLicsIG5hbWUpO1xuICAgICAgdmFyIG5vSW5zdGFuY2VQcm9wVHlwZXMgPSAhaW5zdGFuY2UucHJvcFR5cGVzO1xuICAgICAgd2FybmluZyhub0luc3RhbmNlUHJvcFR5cGVzLCAncHJvcFR5cGVzIHdhcyBkZWZpbmVkIGFzIGFuIGluc3RhbmNlIHByb3BlcnR5IG9uICVzLiBVc2UgYSBzdGF0aWMgJyArICdwcm9wZXJ0eSB0byBkZWZpbmUgcHJvcFR5cGVzIGluc3RlYWQuJywgbmFtZSk7XG4gICAgICB2YXIgbm9JbnN0YW5jZUNvbnRleHRUeXBlcyA9ICFpbnN0YW5jZS5jb250ZXh0VHlwZXM7XG4gICAgICB3YXJuaW5nKG5vSW5zdGFuY2VDb250ZXh0VHlwZXMsICdjb250ZXh0VHlwZXMgd2FzIGRlZmluZWQgYXMgYW4gaW5zdGFuY2UgcHJvcGVydHkgb24gJXMuIFVzZSBhIHN0YXRpYyAnICsgJ3Byb3BlcnR5IHRvIGRlZmluZSBjb250ZXh0VHlwZXMgaW5zdGVhZC4nLCBuYW1lKTtcbiAgICAgIHZhciBub0NvbXBvbmVudFNob3VsZFVwZGF0ZSA9IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRTaG91bGRVcGRhdGUgIT09ICdmdW5jdGlvbic7XG4gICAgICB3YXJuaW5nKG5vQ29tcG9uZW50U2hvdWxkVXBkYXRlLCAnJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCAnICsgJ2NvbXBvbmVudFNob3VsZFVwZGF0ZSgpLiBEaWQgeW91IG1lYW4gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCk/ICcgKyAnVGhlIG5hbWUgaXMgcGhyYXNlZCBhcyBhIHF1ZXN0aW9uIGJlY2F1c2UgdGhlIGZ1bmN0aW9uIGlzICcgKyAnZXhwZWN0ZWQgdG8gcmV0dXJuIGEgdmFsdWUuJywgbmFtZSk7XG4gICAgICBpZiAodHlwZS5wcm90b3R5cGUgJiYgdHlwZS5wcm90b3R5cGUuaXNQdXJlUmVhY3RDb21wb25lbnQgJiYgdHlwZW9mIGluc3RhbmNlLnNob3VsZENvbXBvbmVudFVwZGF0ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJyVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkuICcgKyAnc2hvdWxkQ29tcG9uZW50VXBkYXRlIHNob3VsZCBub3QgYmUgdXNlZCB3aGVuIGV4dGVuZGluZyBSZWFjdC5QdXJlQ29tcG9uZW50LiAnICsgJ1BsZWFzZSBleHRlbmQgUmVhY3QuQ29tcG9uZW50IGlmIHNob3VsZENvbXBvbmVudFVwZGF0ZSBpcyB1c2VkLicsIGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpIHx8ICdBIHB1cmUgY29tcG9uZW50Jyk7XG4gICAgICB9XG4gICAgICB2YXIgbm9Db21wb25lbnREaWRVbm1vdW50ID0gdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZFVubW91bnQgIT09ICdmdW5jdGlvbic7XG4gICAgICB3YXJuaW5nKG5vQ29tcG9uZW50RGlkVW5tb3VudCwgJyVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgJyArICdjb21wb25lbnREaWRVbm1vdW50KCkuIEJ1dCB0aGVyZSBpcyBubyBzdWNoIGxpZmVjeWNsZSBtZXRob2QuICcgKyAnRGlkIHlvdSBtZWFuIGNvbXBvbmVudFdpbGxVbm1vdW50KCk/JywgbmFtZSk7XG4gICAgICB2YXIgbm9Db21wb25lbnREaWRSZWNlaXZlUHJvcHMgPSB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkUmVjZWl2ZVByb3BzICE9PSAnZnVuY3Rpb24nO1xuICAgICAgd2FybmluZyhub0NvbXBvbmVudERpZFJlY2VpdmVQcm9wcywgJyVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgJyArICdjb21wb25lbnREaWRSZWNlaXZlUHJvcHMoKS4gQnV0IHRoZXJlIGlzIG5vIHN1Y2ggbGlmZWN5Y2xlIG1ldGhvZC4gJyArICdJZiB5b3UgbWVhbnQgdG8gdXBkYXRlIHRoZSBzdGF0ZSBpbiByZXNwb25zZSB0byBjaGFuZ2luZyBwcm9wcywgJyArICd1c2UgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpLiBJZiB5b3UgbWVhbnQgdG8gZmV0Y2ggZGF0YSBvciAnICsgJ3J1biBzaWRlLWVmZmVjdHMgb3IgbXV0YXRpb25zIGFmdGVyIFJlYWN0IGhhcyB1cGRhdGVkIHRoZSBVSSwgdXNlIGNvbXBvbmVudERpZFVwZGF0ZSgpLicsIG5hbWUpO1xuICAgICAgdmFyIG5vQ29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyA9IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzICE9PSAnZnVuY3Rpb24nO1xuICAgICAgd2FybmluZyhub0NvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgKyAnY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcygpLiBEaWQgeW91IG1lYW4gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpPycsIG5hbWUpO1xuICAgICAgdmFyIG5vVW5zYWZlQ29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyA9IHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyAhPT0gJ2Z1bmN0aW9uJztcbiAgICAgIHdhcm5pbmcobm9VbnNhZmVDb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzLCAnJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCAnICsgJ1VOU0FGRV9jb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzKCkuIERpZCB5b3UgbWVhbiBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpPycsIG5hbWUpO1xuICAgICAgdmFyIGhhc011dGF0ZWRQcm9wcyA9IGluc3RhbmNlLnByb3BzICE9PSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgICB3YXJuaW5nKGluc3RhbmNlLnByb3BzID09PSB1bmRlZmluZWQgfHwgIWhhc011dGF0ZWRQcm9wcywgJyVzKC4uLik6IFdoZW4gY2FsbGluZyBzdXBlcigpIGluIGAlc2AsIG1ha2Ugc3VyZSB0byBwYXNzICcgKyBcInVwIHRoZSBzYW1lIHByb3BzIHRoYXQgeW91ciBjb21wb25lbnQncyBjb25zdHJ1Y3RvciB3YXMgcGFzc2VkLlwiLCBuYW1lLCBuYW1lKTtcbiAgICAgIHZhciBub0luc3RhbmNlRGVmYXVsdFByb3BzID0gIWluc3RhbmNlLmRlZmF1bHRQcm9wcztcbiAgICAgIHdhcm5pbmcobm9JbnN0YW5jZURlZmF1bHRQcm9wcywgJ1NldHRpbmcgZGVmYXVsdFByb3BzIGFzIGFuIGluc3RhbmNlIHByb3BlcnR5IG9uICVzIGlzIG5vdCBzdXBwb3J0ZWQgYW5kIHdpbGwgYmUgaWdub3JlZC4nICsgJyBJbnN0ZWFkLCBkZWZpbmUgZGVmYXVsdFByb3BzIGFzIGEgc3RhdGljIHByb3BlcnR5IG9uICVzLicsIG5hbWUsIG5hbWUpO1xuXG4gICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUgIT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZFVwZGF0ZSAhPT0gJ2Z1bmN0aW9uJyAmJiAhZGlkV2FybkFib3V0R2V0U25hcHNob3RCZWZvcmVVcGRhdGVXaXRob3V0RGlkVXBkYXRlLmhhcyh0eXBlKSkge1xuICAgICAgICBkaWRXYXJuQWJvdXRHZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZVdpdGhvdXREaWRVcGRhdGUuYWRkKHR5cGUpO1xuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnJXM6IGdldFNuYXBzaG90QmVmb3JlVXBkYXRlKCkgc2hvdWxkIGJlIHVzZWQgd2l0aCBjb21wb25lbnREaWRVcGRhdGUoKS4gJyArICdUaGlzIGNvbXBvbmVudCBkZWZpbmVzIGdldFNuYXBzaG90QmVmb3JlVXBkYXRlKCkgb25seS4nLCBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBub0luc3RhbmNlR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gdHlwZW9mIGluc3RhbmNlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAhPT0gJ2Z1bmN0aW9uJztcbiAgICAgIHdhcm5pbmcobm9JbnN0YW5jZUdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcywgJyVzOiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoKSBpcyBkZWZpbmVkIGFzIGFuIGluc3RhbmNlIG1ldGhvZCAnICsgJ2FuZCB3aWxsIGJlIGlnbm9yZWQuIEluc3RlYWQsIGRlY2xhcmUgaXQgYXMgYSBzdGF0aWMgbWV0aG9kLicsIG5hbWUpO1xuICAgICAgdmFyIG5vSW5zdGFuY2VHZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggPSB0eXBlb2YgaW5zdGFuY2UuZ2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoICE9PSAnZnVuY3Rpb24nO1xuICAgICAgd2FybmluZyhub0luc3RhbmNlR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoLCAnJXM6IGdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCgpIGlzIGRlZmluZWQgYXMgYW4gaW5zdGFuY2UgbWV0aG9kICcgKyAnYW5kIHdpbGwgYmUgaWdub3JlZC4gSW5zdGVhZCwgZGVjbGFyZSBpdCBhcyBhIHN0YXRpYyBtZXRob2QuJywgbmFtZSk7XG4gICAgICB2YXIgbm9TdGF0aWNHZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9IHR5cGVvZiB0eXBlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlICE9PSAnZnVuY3Rpb24nO1xuICAgICAgd2FybmluZyhub1N0YXRpY0dldFNuYXBzaG90QmVmb3JlVXBkYXRlLCAnJXM6IGdldFNuYXBzaG90QmVmb3JlVXBkYXRlKCkgaXMgZGVmaW5lZCBhcyBhIHN0YXRpYyBtZXRob2QgJyArICdhbmQgd2lsbCBiZSBpZ25vcmVkLiBJbnN0ZWFkLCBkZWNsYXJlIGl0IGFzIGFuIGluc3RhbmNlIG1ldGhvZC4nLCBuYW1lKTtcbiAgICAgIHZhciBfc3RhdGUgPSBpbnN0YW5jZS5zdGF0ZTtcbiAgICAgIGlmIChfc3RhdGUgJiYgKHR5cGVvZiBfc3RhdGUgIT09ICdvYmplY3QnIHx8IGlzQXJyYXkoX3N0YXRlKSkpIHtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJyVzLnN0YXRlOiBtdXN0IGJlIHNldCB0byBhbiBvYmplY3Qgb3IgbnVsbCcsIG5hbWUpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5nZXRDaGlsZENvbnRleHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgd2FybmluZyh0eXBlb2YgdHlwZS5jaGlsZENvbnRleHRUeXBlcyA9PT0gJ29iamVjdCcsICclcy5nZXRDaGlsZENvbnRleHQoKTogY2hpbGRDb250ZXh0VHlwZXMgbXVzdCBiZSBkZWZpbmVkIGluIG9yZGVyIHRvICcgKyAndXNlIGdldENoaWxkQ29udGV4dCgpLicsIG5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0SW5wdXRQb2ludGVycyh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UpIHtcbiAgICBpbnN0YW5jZS5wcm9wcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHM7XG4gICAgaW5zdGFuY2Uuc3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRvcHRDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSkge1xuICAgIGluc3RhbmNlLnVwZGF0ZXIgPSB1cGRhdGVyO1xuICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGluc3RhbmNlO1xuICAgIC8vIFRoZSBpbnN0YW5jZSBuZWVkcyBhY2Nlc3MgdG8gdGhlIGZpYmVyIHNvIHRoYXQgaXQgY2FuIHNjaGVkdWxlIHVwZGF0ZXNcbiAgICBzZXQoaW5zdGFuY2UsIHdvcmtJblByb2dyZXNzKTtcbiAgICB7XG4gICAgICBpbnN0YW5jZS5fcmVhY3RJbnRlcm5hbEluc3RhbmNlID0gZmFrZUludGVybmFsSW5zdGFuY2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29uc3RydWN0Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgcHJvcHMpIHtcbiAgICB2YXIgY3RvciA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgdmFyIHVubWFza2VkQ29udGV4dCA9IGdldFVubWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgdmFyIG5lZWRzQ29udGV4dCA9IGlzQ29udGV4dENvbnN1bWVyKHdvcmtJblByb2dyZXNzKTtcbiAgICB2YXIgY29udGV4dCA9IG5lZWRzQ29udGV4dCA/IGdldE1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MsIHVubWFza2VkQ29udGV4dCkgOiBlbXB0eU9iamVjdDtcblxuICAgIC8vIEluc3RhbnRpYXRlIHR3aWNlIHRvIGhlbHAgZGV0ZWN0IHNpZGUtZWZmZWN0cy5cbiAgICBpZiAoZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzIHx8IGRlYnVnUmVuZGVyUGhhc2VTaWRlRWZmZWN0c0ZvclN0cmljdE1vZGUgJiYgd29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdE1vZGUpIHtcbiAgICAgIG5ldyBjdG9yKHByb3BzLCBjb250ZXh0KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgICB9XG5cbiAgICB2YXIgaW5zdGFuY2UgPSBuZXcgY3Rvcihwcm9wcywgY29udGV4dCk7XG4gICAgdmFyIHN0YXRlID0gaW5zdGFuY2Uuc3RhdGUgIT09IG51bGwgJiYgaW5zdGFuY2Uuc3RhdGUgIT09IHVuZGVmaW5lZCA/IGluc3RhbmNlLnN0YXRlIDogbnVsbDtcbiAgICBhZG9wdENsYXNzSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIGluc3RhbmNlKTtcblxuICAgIHtcbiAgICAgIGlmICh0eXBlb2YgY3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT09ICdmdW5jdGlvbicgJiYgc3RhdGUgPT09IG51bGwpIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKSB8fCAnQ29tcG9uZW50JztcbiAgICAgICAgaWYgKCFkaWRXYXJuQWJvdXRVbmluaXRpYWxpemVkU3RhdGUuaGFzKGNvbXBvbmVudE5hbWUpKSB7XG4gICAgICAgICAgZGlkV2FybkFib3V0VW5pbml0aWFsaXplZFN0YXRlLmFkZChjb21wb25lbnROYW1lKTtcbiAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnJXM6IERpZCBub3QgcHJvcGVybHkgaW5pdGlhbGl6ZSBzdGF0ZSBkdXJpbmcgY29uc3RydWN0aW9uLiAnICsgJ0V4cGVjdGVkIHN0YXRlIHRvIGJlIGFuIG9iamVjdCwgYnV0IGl0IHdhcyAlcy4nLCBjb21wb25lbnROYW1lLCBpbnN0YW5jZS5zdGF0ZSA9PT0gbnVsbCA/ICdudWxsJyA6ICd1bmRlZmluZWQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBJZiBuZXcgY29tcG9uZW50IEFQSXMgYXJlIGRlZmluZWQsIFwidW5zYWZlXCIgbGlmZWN5Y2xlcyB3b24ndCBiZSBjYWxsZWQuXG4gICAgICAvLyBXYXJuIGFib3V0IHRoZXNlIGxpZmVjeWNsZXMgaWYgdGhleSBhcmUgcHJlc2VudC5cbiAgICAgIC8vIERvbid0IHdhcm4gYWJvdXQgcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQgcG9seWZpbGxlZCBtZXRob2RzIHRob3VnaC5cbiAgICAgIGlmICh0eXBlb2YgY3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGluc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBmb3VuZFdpbGxNb3VudE5hbWUgPSBudWxsO1xuICAgICAgICB2YXIgZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZSA9IG51bGw7XG4gICAgICAgIHZhciBmb3VuZFdpbGxVcGRhdGVOYW1lID0gbnVsbDtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicgJiYgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50Ll9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgIT09IHRydWUpIHtcbiAgICAgICAgICBmb3VuZFdpbGxNb3VudE5hbWUgPSAnY29tcG9uZW50V2lsbE1vdW50JztcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGZvdW5kV2lsbE1vdW50TmFtZSA9ICdVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50JztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09ICdmdW5jdGlvbicgJiYgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcy5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nICE9PSB0cnVlKSB7XG4gICAgICAgICAgZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZSA9ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJztcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lID0gJ1VOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicgJiYgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZS5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nICE9PSB0cnVlKSB7XG4gICAgICAgICAgZm91bmRXaWxsVXBkYXRlTmFtZSA9ICdjb21wb25lbnRXaWxsVXBkYXRlJztcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBmb3VuZFdpbGxVcGRhdGVOYW1lID0gJ1VOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm91bmRXaWxsTW91bnROYW1lICE9PSBudWxsIHx8IGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgIT09IG51bGwgfHwgZm91bmRXaWxsVXBkYXRlTmFtZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHZhciBfY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpIHx8ICdDb21wb25lbnQnO1xuICAgICAgICAgIHZhciBuZXdBcGlOYW1lID0gdHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nID8gJ2dldERlcml2ZWRTdGF0ZUZyb21Qcm9wcygpJyA6ICdnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpJztcbiAgICAgICAgICBpZiAoIWRpZFdhcm5BYm91dExlZ2FjeUxpZmVjeWNsZXNBbmREZXJpdmVkU3RhdGUuaGFzKF9jb21wb25lbnROYW1lKSkge1xuICAgICAgICAgICAgZGlkV2FybkFib3V0TGVnYWN5TGlmZWN5Y2xlc0FuZERlcml2ZWRTdGF0ZS5hZGQoX2NvbXBvbmVudE5hbWUpO1xuICAgICAgICAgICAgd2FybmluZyhmYWxzZSwgJ1Vuc2FmZSBsZWdhY3kgbGlmZWN5Y2xlcyB3aWxsIG5vdCBiZSBjYWxsZWQgZm9yIGNvbXBvbmVudHMgdXNpbmcgbmV3IGNvbXBvbmVudCBBUElzLlxcblxcbicgKyAnJXMgdXNlcyAlcyBidXQgYWxzbyBjb250YWlucyB0aGUgZm9sbG93aW5nIGxlZ2FjeSBsaWZlY3ljbGVzOiVzJXMlc1xcblxcbicgKyAnVGhlIGFib3ZlIGxpZmVjeWNsZXMgc2hvdWxkIGJlIHJlbW92ZWQuIExlYXJuIG1vcmUgYWJvdXQgdGhpcyB3YXJuaW5nIGhlcmU6XFxuJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWFzeW5jLWNvbXBvbmVudC1saWZlY3ljbGUtaG9va3MnLCBfY29tcG9uZW50TmFtZSwgbmV3QXBpTmFtZSwgZm91bmRXaWxsTW91bnROYW1lICE9PSBudWxsID8gJ1xcbiAgJyArIGZvdW5kV2lsbE1vdW50TmFtZSA6ICcnLCBmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lICE9PSBudWxsID8gJ1xcbiAgJyArIGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgOiAnJywgZm91bmRXaWxsVXBkYXRlTmFtZSAhPT0gbnVsbCA/ICdcXG4gICcgKyBmb3VuZFdpbGxVcGRhdGVOYW1lIDogJycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBzdGF0ZTtcblxuICAgIHZhciBwYXJ0aWFsU3RhdGUgPSBjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSwgcHJvcHMsIHN0YXRlKTtcblxuICAgIGlmIChwYXJ0aWFsU3RhdGUgIT09IG51bGwgJiYgcGFydGlhbFN0YXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFJlbmRlci1waGFzZSB1cGRhdGVzIChsaWtlIHRoaXMpIHNob3VsZCBub3QgYmUgYWRkZWQgdG8gdGhlIHVwZGF0ZSBxdWV1ZSxcbiAgICAgIC8vIFNvIHRoYXQgbXVsdGlwbGUgcmVuZGVyIHBhc3NlcyBkbyBub3QgZW5xdWV1ZSBtdWx0aXBsZSB1cGRhdGVzLlxuICAgICAgLy8gSW5zdGVhZCwganVzdCBzeW5jaHJvbm91c2x5IG1lcmdlIHRoZSByZXR1cm5lZCBzdGF0ZSBpbnRvIHRoZSBpbnN0YW5jZS5cbiAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBfYXNzaWduKHt9LCB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlLCBwYXJ0aWFsU3RhdGUpO1xuICAgIH1cblxuICAgIC8vIENhY2hlIHVubWFza2VkIGNvbnRleHQgc28gd2UgY2FuIGF2b2lkIHJlY3JlYXRpbmcgbWFza2VkIGNvbnRleHQgdW5sZXNzIG5lY2Vzc2FyeS5cbiAgICAvLyBSZWFjdEZpYmVyQ29udGV4dCB1c3VhbGx5IHVwZGF0ZXMgdGhpcyBjYWNoZSBidXQgY2FuJ3QgZm9yIG5ld2x5LWNyZWF0ZWQgaW5zdGFuY2VzLlxuICAgIGlmIChuZWVkc0NvbnRleHQpIHtcbiAgICAgIGNhY2hlQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgdW5tYXNrZWRDb250ZXh0LCBjb250ZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH1cblxuICBmdW5jdGlvbiBjYWxsQ29tcG9uZW50V2lsbE1vdW50KHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSkge1xuICAgIHN0YXJ0UGhhc2VUaW1lcih3b3JrSW5Qcm9ncmVzcywgJ2NvbXBvbmVudFdpbGxNb3VudCcpO1xuICAgIHZhciBvbGRTdGF0ZSA9IGluc3RhbmNlLnN0YXRlO1xuXG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCgpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKTtcbiAgICB9XG5cbiAgICBzdG9wUGhhc2VUaW1lcigpO1xuXG4gICAgaWYgKG9sZFN0YXRlICE9PSBpbnN0YW5jZS5zdGF0ZSkge1xuICAgICAge1xuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnJXMuY29tcG9uZW50V2lsbE1vdW50KCk6IEFzc2lnbmluZyBkaXJlY3RseSB0byB0aGlzLnN0YXRlIGlzICcgKyBcImRlcHJlY2F0ZWQgKGV4Y2VwdCBpbnNpZGUgYSBjb21wb25lbnQncyBcIiArICdjb25zdHJ1Y3RvcikuIFVzZSBzZXRTdGF0ZSBpbnN0ZWFkLicsIGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpIHx8ICdDb21wb25lbnQnKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZXIuZW5xdWV1ZVJlcGxhY2VTdGF0ZShpbnN0YW5jZSwgaW5zdGFuY2Uuc3RhdGUsIG51bGwpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbGxDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSwgbmV3UHJvcHMsIG5ld0NvbnRleHQpIHtcbiAgICB2YXIgb2xkU3RhdGUgPSBpbnN0YW5jZS5zdGF0ZTtcbiAgICBzdGFydFBoYXNlVGltZXIod29ya0luUHJvZ3Jlc3MsICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyk7XG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5ld1Byb3BzLCBuZXdDb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV3UHJvcHMsIG5ld0NvbnRleHQpO1xuICAgIH1cbiAgICBzdG9wUGhhc2VUaW1lcigpO1xuXG4gICAgaWYgKGluc3RhbmNlLnN0YXRlICE9PSBvbGRTdGF0ZSkge1xuICAgICAge1xuICAgICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpIHx8ICdDb21wb25lbnQnO1xuICAgICAgICBpZiAoIWRpZFdhcm5BYm91dFN0YXRlQXNzaWdubWVudEZvckNvbXBvbmVudC5oYXMoY29tcG9uZW50TmFtZSkpIHtcbiAgICAgICAgICBkaWRXYXJuQWJvdXRTdGF0ZUFzc2lnbm1lbnRGb3JDb21wb25lbnQuYWRkKGNvbXBvbmVudE5hbWUpO1xuICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICclcy5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCk6IEFzc2lnbmluZyBkaXJlY3RseSB0byAnICsgXCJ0aGlzLnN0YXRlIGlzIGRlcHJlY2F0ZWQgKGV4Y2VwdCBpbnNpZGUgYSBjb21wb25lbnQncyBcIiArICdjb25zdHJ1Y3RvcikuIFVzZSBzZXRTdGF0ZSBpbnN0ZWFkLicsIGNvbXBvbmVudE5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB1cGRhdGVyLmVucXVldWVSZXBsYWNlU3RhdGUoaW5zdGFuY2UsIGluc3RhbmNlLnN0YXRlLCBudWxsKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSwgbmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICB2YXIgdHlwZSA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG5cblxuICAgIGlmICh0eXBlb2YgdHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHMgfHwgZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzRm9yU3RyaWN0TW9kZSAmJiB3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TW9kZSkge1xuICAgICAgICAvLyBJbnZva2UgbWV0aG9kIGFuIGV4dHJhIHRpbWUgdG8gaGVscCBkZXRlY3Qgc2lkZS1lZmZlY3RzLlxuICAgICAgICB0eXBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcy5jYWxsKG51bGwsIG5leHRQcm9wcywgcHJldlN0YXRlKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHBhcnRpYWxTdGF0ZSA9IHR5cGUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLmNhbGwobnVsbCwgbmV4dFByb3BzLCBwcmV2U3RhdGUpO1xuXG4gICAgICB7XG4gICAgICAgIGlmIChwYXJ0aWFsU3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh3b3JrSW5Qcm9ncmVzcykgfHwgJ0NvbXBvbmVudCc7XG4gICAgICAgICAgaWYgKCFkaWRXYXJuQWJvdXRVbmRlZmluZWREZXJpdmVkU3RhdGUuaGFzKGNvbXBvbmVudE5hbWUpKSB7XG4gICAgICAgICAgICBkaWRXYXJuQWJvdXRVbmRlZmluZWREZXJpdmVkU3RhdGUuYWRkKGNvbXBvbmVudE5hbWUpO1xuICAgICAgICAgICAgd2FybmluZyhmYWxzZSwgJyVzLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcygpOiBBIHZhbGlkIHN0YXRlIG9iamVjdCAob3IgbnVsbCkgbXVzdCBiZSByZXR1cm5lZC4gJyArICdZb3UgaGF2ZSByZXR1cm5lZCB1bmRlZmluZWQuJywgY29tcG9uZW50TmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJ0aWFsU3RhdGU7XG4gICAgfVxuICB9XG5cbiAgLy8gSW52b2tlcyB0aGUgbW91bnQgbGlmZS1jeWNsZXMgb24gYSBwcmV2aW91c2x5IG5ldmVyIHJlbmRlcmVkIGluc3RhbmNlLlxuICBmdW5jdGlvbiBtb3VudENsYXNzSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgdmFyIGN0b3IgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgIHZhciBjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MuYWx0ZXJuYXRlO1xuXG4gICAge1xuICAgICAgY2hlY2tDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG5cbiAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgdmFyIHByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgIHZhciB1bm1hc2tlZENvbnRleHQgPSBnZXRVbm1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgaW5zdGFuY2UucHJvcHMgPSBwcm9wcztcbiAgICBpbnN0YW5jZS5zdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgaW5zdGFuY2UucmVmcyA9IGVtcHR5T2JqZWN0O1xuICAgIGluc3RhbmNlLmNvbnRleHQgPSBnZXRNYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzLCB1bm1hc2tlZENvbnRleHQpO1xuXG4gICAge1xuICAgICAgaWYgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RNb2RlKSB7XG4gICAgICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLnJlY29yZFVuc2FmZUxpZmVjeWNsZVdhcm5pbmdzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh3YXJuQWJvdXREZXByZWNhdGVkTGlmZWN5Y2xlcykge1xuICAgICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5yZWNvcmREZXByZWNhdGlvbldhcm5pbmdzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSW4gb3JkZXIgdG8gc3VwcG9ydCByZWFjdC1saWZlY3ljbGVzLWNvbXBhdCBwb2x5ZmlsbGVkIGNvbXBvbmVudHMsXG4gICAgLy8gVW5zYWZlIGxpZmVjeWNsZXMgc2hvdWxkIG5vdCBiZSBpbnZva2VkIGZvciBjb21wb25lbnRzIHVzaW5nIHRoZSBuZXcgQVBJcy5cbiAgICBpZiAodHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzICE9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBpbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSAhPT0gJ2Z1bmN0aW9uJyAmJiAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgIGNhbGxDb21wb25lbnRXaWxsTW91bnQod29ya0luUHJvZ3Jlc3MsIGluc3RhbmNlKTtcbiAgICAgIC8vIElmIHdlIGhhZCBhZGRpdGlvbmFsIHN0YXRlIHVwZGF0ZXMgZHVyaW5nIHRoaXMgbGlmZS1jeWNsZSwgbGV0J3NcbiAgICAgIC8vIHByb2Nlc3MgdGhlbSBub3cuXG4gICAgICB2YXIgdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICAgIGlmICh1cGRhdGVRdWV1ZSAhPT0gbnVsbCkge1xuICAgICAgICBpbnN0YW5jZS5zdGF0ZSA9IHByb2Nlc3NVcGRhdGVRdWV1ZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgdXBkYXRlUXVldWUsIGluc3RhbmNlLCBwcm9wcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gVXBkYXRlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc3VtZU1vdW50Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICB2YXIgY3RvciA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgIHJlc2V0SW5wdXRQb2ludGVycyh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UpO1xuXG4gICAgdmFyIG9sZFByb3BzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcztcbiAgICB2YXIgbmV3UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgdmFyIG9sZENvbnRleHQgPSBpbnN0YW5jZS5jb250ZXh0O1xuICAgIHZhciBuZXdVbm1hc2tlZENvbnRleHQgPSBnZXRVbm1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgIHZhciBuZXdDb250ZXh0ID0gZ2V0TWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgbmV3VW5tYXNrZWRDb250ZXh0KTtcblxuICAgIHZhciBoYXNOZXdMaWZlY3ljbGVzID0gdHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBpbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJztcblxuICAgIC8vIE5vdGU6IER1cmluZyB0aGVzZSBsaWZlLWN5Y2xlcywgaW5zdGFuY2UucHJvcHMvaW5zdGFuY2Uuc3RhdGUgYXJlIHdoYXRcbiAgICAvLyBldmVyIHRoZSBwcmV2aW91c2x5IGF0dGVtcHRlZCB0byByZW5kZXIgLSBub3QgdGhlIFwiY3VycmVudFwiLiBIb3dldmVyLFxuICAgIC8vIGR1cmluZyBjb21wb25lbnREaWRVcGRhdGUgd2UgcGFzcyB0aGUgXCJjdXJyZW50XCIgcHJvcHMuXG5cbiAgICAvLyBJbiBvcmRlciB0byBzdXBwb3J0IHJlYWN0LWxpZmVjeWNsZXMtY29tcGF0IHBvbHlmaWxsZWQgY29tcG9uZW50cyxcbiAgICAvLyBVbnNhZmUgbGlmZWN5Y2xlcyBzaG91bGQgbm90IGJlIGludm9rZWQgZm9yIGNvbXBvbmVudHMgdXNpbmcgdGhlIG5ldyBBUElzLlxuICAgIGlmICghaGFzTmV3TGlmZWN5Y2xlcyAmJiAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgaWYgKG9sZFByb3BzICE9PSBuZXdQcm9wcyB8fCBvbGRDb250ZXh0ICE9PSBuZXdDb250ZXh0KSB7XG4gICAgICAgIGNhbGxDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSwgbmV3UHJvcHMsIG5ld0NvbnRleHQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENvbXB1dGUgdGhlIG5leHQgc3RhdGUgdXNpbmcgdGhlIG1lbW9pemVkIHN0YXRlIGFuZCB0aGUgdXBkYXRlIHF1ZXVlLlxuICAgIHZhciBvbGRTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgLy8gVE9ETzogUHJldmlvdXMgc3RhdGUgY2FuIGJlIG51bGwuXG4gICAgdmFyIG5ld1N0YXRlID0gdm9pZCAwO1xuICAgIHZhciBkZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggPSB2b2lkIDA7XG4gICAgaWYgKHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlICE9PSBudWxsKSB7XG4gICAgICBuZXdTdGF0ZSA9IHByb2Nlc3NVcGRhdGVRdWV1ZShudWxsLCB3b3JrSW5Qcm9ncmVzcywgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUsIGluc3RhbmNlLCBuZXdQcm9wcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuXG4gICAgICB2YXIgdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICAgIGlmICh1cGRhdGVRdWV1ZSAhPT0gbnVsbCAmJiB1cGRhdGVRdWV1ZS5jYXB0dXJlZFZhbHVlcyAhPT0gbnVsbCAmJiBlbmFibGVHZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggJiYgdHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBjYXB0dXJlZFZhbHVlcyA9IHVwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzO1xuICAgICAgICAvLyBEb24ndCByZW1vdmUgdGhlc2UgZnJvbSB0aGUgdXBkYXRlIHF1ZXVlIHlldC4gV2UgbmVlZCB0aGVtIGluXG4gICAgICAgIC8vIGZpbmlzaENsYXNzQ29tcG9uZW50LiBEbyB0aGUgcmVzZXQgdGhlcmUuXG4gICAgICAgIC8vIFRPRE86IFRoaXMgaXMgYXdrd2FyZC4gUmVmYWN0b3IgY2xhc3MgY29tcG9uZW50cy5cbiAgICAgICAgLy8gdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgPSBudWxsO1xuICAgICAgICBkZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggPSBjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoKGN0b3IsIGNhcHR1cmVkVmFsdWVzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbmV3U3RhdGUgPSBvbGRTdGF0ZTtcbiAgICB9XG5cbiAgICB2YXIgZGVyaXZlZFN0YXRlRnJvbVByb3BzID0gdm9pZCAwO1xuICAgIGlmIChvbGRQcm9wcyAhPT0gbmV3UHJvcHMpIHtcbiAgICAgIC8vIFRoZSBwcmV2U3RhdGUgcGFyYW1ldGVyIHNob3VsZCBiZSB0aGUgcGFydGlhbGx5IHVwZGF0ZWQgc3RhdGUuXG4gICAgICAvLyBPdGhlcndpc2UsIHNwcmVhZGluZyBzdGF0ZSBpbiByZXR1cm4gdmFsdWVzIGNvdWxkIG92ZXJyaWRlIHVwZGF0ZXMuXG4gICAgICBkZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSwgbmV3UHJvcHMsIG5ld1N0YXRlKTtcbiAgICB9XG5cbiAgICBpZiAoZGVyaXZlZFN0YXRlRnJvbVByb3BzICE9PSBudWxsICYmIGRlcml2ZWRTdGF0ZUZyb21Qcm9wcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBSZW5kZXItcGhhc2UgdXBkYXRlcyAobGlrZSB0aGlzKSBzaG91bGQgbm90IGJlIGFkZGVkIHRvIHRoZSB1cGRhdGUgcXVldWUsXG4gICAgICAvLyBTbyB0aGF0IG11bHRpcGxlIHJlbmRlciBwYXNzZXMgZG8gbm90IGVucXVldWUgbXVsdGlwbGUgdXBkYXRlcy5cbiAgICAgIC8vIEluc3RlYWQsIGp1c3Qgc3luY2hyb25vdXNseSBtZXJnZSB0aGUgcmV0dXJuZWQgc3RhdGUgaW50byB0aGUgaW5zdGFuY2UuXG4gICAgICBuZXdTdGF0ZSA9IG5ld1N0YXRlID09PSBudWxsIHx8IG5ld1N0YXRlID09PSB1bmRlZmluZWQgPyBkZXJpdmVkU3RhdGVGcm9tUHJvcHMgOiBfYXNzaWduKHt9LCBuZXdTdGF0ZSwgZGVyaXZlZFN0YXRlRnJvbVByb3BzKTtcblxuICAgICAgLy8gVXBkYXRlIHRoZSBiYXNlIHN0YXRlIG9mIHRoZSB1cGRhdGUgcXVldWUuXG4gICAgICAvLyBGSVhNRTogVGhpcyBpcyBnZXR0aW5nIHJpZGljdWxvdXMuIFJlZmFjdG9yIHBseiFcbiAgICAgIHZhciBfdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICAgIGlmIChfdXBkYXRlUXVldWUgIT09IG51bGwpIHtcbiAgICAgICAgX3VwZGF0ZVF1ZXVlLmJhc2VTdGF0ZSA9IF9hc3NpZ24oe30sIF91cGRhdGVRdWV1ZS5iYXNlU3RhdGUsIGRlcml2ZWRTdGF0ZUZyb21Qcm9wcyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChkZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggIT09IG51bGwgJiYgZGVyaXZlZFN0YXRlRnJvbUNhdGNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFJlbmRlci1waGFzZSB1cGRhdGVzIChsaWtlIHRoaXMpIHNob3VsZCBub3QgYmUgYWRkZWQgdG8gdGhlIHVwZGF0ZSBxdWV1ZSxcbiAgICAgIC8vIFNvIHRoYXQgbXVsdGlwbGUgcmVuZGVyIHBhc3NlcyBkbyBub3QgZW5xdWV1ZSBtdWx0aXBsZSB1cGRhdGVzLlxuICAgICAgLy8gSW5zdGVhZCwganVzdCBzeW5jaHJvbm91c2x5IG1lcmdlIHRoZSByZXR1cm5lZCBzdGF0ZSBpbnRvIHRoZSBpbnN0YW5jZS5cbiAgICAgIG5ld1N0YXRlID0gbmV3U3RhdGUgPT09IG51bGwgfHwgbmV3U3RhdGUgPT09IHVuZGVmaW5lZCA/IGRlcml2ZWRTdGF0ZUZyb21DYXRjaCA6IF9hc3NpZ24oe30sIG5ld1N0YXRlLCBkZXJpdmVkU3RhdGVGcm9tQ2F0Y2gpO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIGJhc2Ugc3RhdGUgb2YgdGhlIHVwZGF0ZSBxdWV1ZS5cbiAgICAgIC8vIEZJWE1FOiBUaGlzIGlzIGdldHRpbmcgcmlkaWN1bG91cy4gUmVmYWN0b3IgcGx6IVxuICAgICAgdmFyIF91cGRhdGVRdWV1ZTIgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICAgIGlmIChfdXBkYXRlUXVldWUyICE9PSBudWxsKSB7XG4gICAgICAgIF91cGRhdGVRdWV1ZTIuYmFzZVN0YXRlID0gX2Fzc2lnbih7fSwgX3VwZGF0ZVF1ZXVlMi5iYXNlU3RhdGUsIGRlcml2ZWRTdGF0ZUZyb21DYXRjaCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9sZFByb3BzID09PSBuZXdQcm9wcyAmJiBvbGRTdGF0ZSA9PT0gbmV3U3RhdGUgJiYgIWhhc0NvbnRleHRDaGFuZ2VkKCkgJiYgISh3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSAhPT0gbnVsbCAmJiB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZS5oYXNGb3JjZVVwZGF0ZSkpIHtcbiAgICAgIC8vIElmIGFuIHVwZGF0ZSB3YXMgYWxyZWFkeSBpbiBwcm9ncmVzcywgd2Ugc2hvdWxkIHNjaGVkdWxlIGFuIFVwZGF0ZVxuICAgICAgLy8gZWZmZWN0IGV2ZW4gdGhvdWdoIHdlJ3JlIGJhaWxpbmcgb3V0LCBzbyB0aGF0IGNXVS9jRFUgYXJlIGNhbGxlZC5cbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgc2hvdWxkVXBkYXRlID0gY2hlY2tTaG91bGRDb21wb25lbnRVcGRhdGUod29ya0luUHJvZ3Jlc3MsIG9sZFByb3BzLCBuZXdQcm9wcywgb2xkU3RhdGUsIG5ld1N0YXRlLCBuZXdDb250ZXh0KTtcblxuICAgIGlmIChzaG91bGRVcGRhdGUpIHtcbiAgICAgIC8vIEluIG9yZGVyIHRvIHN1cHBvcnQgcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQgcG9seWZpbGxlZCBjb21wb25lbnRzLFxuICAgICAgLy8gVW5zYWZlIGxpZmVjeWNsZXMgc2hvdWxkIG5vdCBiZSBpbnZva2VkIGZvciBjb21wb25lbnRzIHVzaW5nIHRoZSBuZXcgQVBJcy5cbiAgICAgIGlmICghaGFzTmV3TGlmZWN5Y2xlcyAmJiAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgc3RhcnRQaGFzZVRpbWVyKHdvcmtJblByb2dyZXNzLCAnY29tcG9uZW50V2lsbE1vdW50Jyk7XG4gICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCgpO1xuICAgICAgICB9XG4gICAgICAgIHN0b3BQaGFzZVRpbWVyKCk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBVcGRhdGU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIGFuIHVwZGF0ZSB3YXMgYWxyZWFkeSBpbiBwcm9ncmVzcywgd2Ugc2hvdWxkIHNjaGVkdWxlIGFuIFVwZGF0ZVxuICAgICAgLy8gZWZmZWN0IGV2ZW4gdGhvdWdoIHdlJ3JlIGJhaWxpbmcgb3V0LCBzbyB0aGF0IGNXVS9jRFUgYXJlIGNhbGxlZC5cbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgc2hvdWxkQ29tcG9uZW50VXBkYXRlIHJldHVybmVkIGZhbHNlLCB3ZSBzaG91bGQgc3RpbGwgdXBkYXRlIHRoZVxuICAgICAgLy8gbWVtb2l6ZWQgcHJvcHMvc3RhdGUgdG8gaW5kaWNhdGUgdGhhdCB0aGlzIHdvcmsgY2FuIGJlIHJldXNlZC5cbiAgICAgIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV3UHJvcHMpO1xuICAgICAgbWVtb2l6ZVN0YXRlKHdvcmtJblByb2dyZXNzLCBuZXdTdGF0ZSk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSBleGlzdGluZyBpbnN0YW5jZSdzIHN0YXRlLCBwcm9wcywgYW5kIGNvbnRleHQgcG9pbnRlcnMgZXZlblxuICAgIC8vIGlmIHNob3VsZENvbXBvbmVudFVwZGF0ZSByZXR1cm5zIGZhbHNlLlxuICAgIGluc3RhbmNlLnByb3BzID0gbmV3UHJvcHM7XG4gICAgaW5zdGFuY2Uuc3RhdGUgPSBuZXdTdGF0ZTtcbiAgICBpbnN0YW5jZS5jb250ZXh0ID0gbmV3Q29udGV4dDtcblxuICAgIHJldHVybiBzaG91bGRVcGRhdGU7XG4gIH1cblxuICAvLyBJbnZva2VzIHRoZSB1cGRhdGUgbGlmZS1jeWNsZXMgYW5kIHJldHVybnMgZmFsc2UgaWYgaXQgc2hvdWxkbid0IHJlcmVuZGVyLlxuICBmdW5jdGlvbiB1cGRhdGVDbGFzc0luc3RhbmNlKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgIHZhciBjdG9yID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgcmVzZXRJbnB1dFBvaW50ZXJzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSk7XG5cbiAgICB2YXIgb2xkUHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzO1xuICAgIHZhciBuZXdQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICB2YXIgb2xkQ29udGV4dCA9IGluc3RhbmNlLmNvbnRleHQ7XG4gICAgdmFyIG5ld1VubWFza2VkQ29udGV4dCA9IGdldFVubWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgdmFyIG5ld0NvbnRleHQgPSBnZXRNYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzLCBuZXdVbm1hc2tlZENvbnRleHQpO1xuXG4gICAgdmFyIGhhc05ld0xpZmVjeWNsZXMgPSB0eXBlb2YgY3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGluc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlID09PSAnZnVuY3Rpb24nO1xuXG4gICAgLy8gTm90ZTogRHVyaW5nIHRoZXNlIGxpZmUtY3ljbGVzLCBpbnN0YW5jZS5wcm9wcy9pbnN0YW5jZS5zdGF0ZSBhcmUgd2hhdFxuICAgIC8vIGV2ZXIgdGhlIHByZXZpb3VzbHkgYXR0ZW1wdGVkIHRvIHJlbmRlciAtIG5vdCB0aGUgXCJjdXJyZW50XCIuIEhvd2V2ZXIsXG4gICAgLy8gZHVyaW5nIGNvbXBvbmVudERpZFVwZGF0ZSB3ZSBwYXNzIHRoZSBcImN1cnJlbnRcIiBwcm9wcy5cblxuICAgIC8vIEluIG9yZGVyIHRvIHN1cHBvcnQgcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQgcG9seWZpbGxlZCBjb21wb25lbnRzLFxuICAgIC8vIFVuc2FmZSBsaWZlY3ljbGVzIHNob3VsZCBub3QgYmUgaW52b2tlZCBmb3IgY29tcG9uZW50cyB1c2luZyB0aGUgbmV3IEFQSXMuXG4gICAgaWYgKCFoYXNOZXdMaWZlY3ljbGVzICYmICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICBpZiAob2xkUHJvcHMgIT09IG5ld1Byb3BzIHx8IG9sZENvbnRleHQgIT09IG5ld0NvbnRleHQpIHtcbiAgICAgICAgY2FsbENvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMod29ya0luUHJvZ3Jlc3MsIGluc3RhbmNlLCBuZXdQcm9wcywgbmV3Q29udGV4dCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ29tcHV0ZSB0aGUgbmV4dCBzdGF0ZSB1c2luZyB0aGUgbWVtb2l6ZWQgc3RhdGUgYW5kIHRoZSB1cGRhdGUgcXVldWUuXG4gICAgdmFyIG9sZFN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAvLyBUT0RPOiBQcmV2aW91cyBzdGF0ZSBjYW4gYmUgbnVsbC5cbiAgICB2YXIgbmV3U3RhdGUgPSB2b2lkIDA7XG4gICAgdmFyIGRlcml2ZWRTdGF0ZUZyb21DYXRjaCA9IHZvaWQgMDtcblxuICAgIGlmICh3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSAhPT0gbnVsbCkge1xuICAgICAgbmV3U3RhdGUgPSBwcm9jZXNzVXBkYXRlUXVldWUoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlLCBpbnN0YW5jZSwgbmV3UHJvcHMsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcblxuICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgICBpZiAodXBkYXRlUXVldWUgIT09IG51bGwgJiYgdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgIT09IG51bGwgJiYgZW5hYmxlR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoICYmIHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YXIgY2FwdHVyZWRWYWx1ZXMgPSB1cGRhdGVRdWV1ZS5jYXB0dXJlZFZhbHVlcztcbiAgICAgICAgLy8gRG9uJ3QgcmVtb3ZlIHRoZXNlIGZyb20gdGhlIHVwZGF0ZSBxdWV1ZSB5ZXQuIFdlIG5lZWQgdGhlbSBpblxuICAgICAgICAvLyBmaW5pc2hDbGFzc0NvbXBvbmVudC4gRG8gdGhlIHJlc2V0IHRoZXJlLlxuICAgICAgICAvLyBUT0RPOiBUaGlzIGlzIGF3a3dhcmQuIFJlZmFjdG9yIGNsYXNzIGNvbXBvbmVudHMuXG4gICAgICAgIC8vIHVwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzID0gbnVsbDtcbiAgICAgICAgZGVyaXZlZFN0YXRlRnJvbUNhdGNoID0gY2FsbEdldERlcml2ZWRTdGF0ZUZyb21DYXRjaChjdG9yLCBjYXB0dXJlZFZhbHVlcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1N0YXRlID0gb2xkU3RhdGU7XG4gICAgfVxuXG4gICAgdmFyIGRlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IHZvaWQgMDtcbiAgICBpZiAob2xkUHJvcHMgIT09IG5ld1Byb3BzKSB7XG4gICAgICAvLyBUaGUgcHJldlN0YXRlIHBhcmFtZXRlciBzaG91bGQgYmUgdGhlIHBhcnRpYWxseSB1cGRhdGVkIHN0YXRlLlxuICAgICAgLy8gT3RoZXJ3aXNlLCBzcHJlYWRpbmcgc3RhdGUgaW4gcmV0dXJuIHZhbHVlcyBjb3VsZCBvdmVycmlkZSB1cGRhdGVzLlxuICAgICAgZGVyaXZlZFN0YXRlRnJvbVByb3BzID0gY2FsbEdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UsIG5ld1Byb3BzLCBuZXdTdGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKGRlcml2ZWRTdGF0ZUZyb21Qcm9wcyAhPT0gbnVsbCAmJiBkZXJpdmVkU3RhdGVGcm9tUHJvcHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gUmVuZGVyLXBoYXNlIHVwZGF0ZXMgKGxpa2UgdGhpcykgc2hvdWxkIG5vdCBiZSBhZGRlZCB0byB0aGUgdXBkYXRlIHF1ZXVlLFxuICAgICAgLy8gU28gdGhhdCBtdWx0aXBsZSByZW5kZXIgcGFzc2VzIGRvIG5vdCBlbnF1ZXVlIG11bHRpcGxlIHVwZGF0ZXMuXG4gICAgICAvLyBJbnN0ZWFkLCBqdXN0IHN5bmNocm9ub3VzbHkgbWVyZ2UgdGhlIHJldHVybmVkIHN0YXRlIGludG8gdGhlIGluc3RhbmNlLlxuICAgICAgbmV3U3RhdGUgPSBuZXdTdGF0ZSA9PT0gbnVsbCB8fCBuZXdTdGF0ZSA9PT0gdW5kZWZpbmVkID8gZGVyaXZlZFN0YXRlRnJvbVByb3BzIDogX2Fzc2lnbih7fSwgbmV3U3RhdGUsIGRlcml2ZWRTdGF0ZUZyb21Qcm9wcyk7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgYmFzZSBzdGF0ZSBvZiB0aGUgdXBkYXRlIHF1ZXVlLlxuICAgICAgLy8gRklYTUU6IFRoaXMgaXMgZ2V0dGluZyByaWRpY3Vsb3VzLiBSZWZhY3RvciBwbHohXG4gICAgICB2YXIgX3VwZGF0ZVF1ZXVlMyA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlO1xuICAgICAgaWYgKF91cGRhdGVRdWV1ZTMgIT09IG51bGwpIHtcbiAgICAgICAgX3VwZGF0ZVF1ZXVlMy5iYXNlU3RhdGUgPSBfYXNzaWduKHt9LCBfdXBkYXRlUXVldWUzLmJhc2VTdGF0ZSwgZGVyaXZlZFN0YXRlRnJvbVByb3BzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGRlcml2ZWRTdGF0ZUZyb21DYXRjaCAhPT0gbnVsbCAmJiBkZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gUmVuZGVyLXBoYXNlIHVwZGF0ZXMgKGxpa2UgdGhpcykgc2hvdWxkIG5vdCBiZSBhZGRlZCB0byB0aGUgdXBkYXRlIHF1ZXVlLFxuICAgICAgLy8gU28gdGhhdCBtdWx0aXBsZSByZW5kZXIgcGFzc2VzIGRvIG5vdCBlbnF1ZXVlIG11bHRpcGxlIHVwZGF0ZXMuXG4gICAgICAvLyBJbnN0ZWFkLCBqdXN0IHN5bmNocm9ub3VzbHkgbWVyZ2UgdGhlIHJldHVybmVkIHN0YXRlIGludG8gdGhlIGluc3RhbmNlLlxuICAgICAgbmV3U3RhdGUgPSBuZXdTdGF0ZSA9PT0gbnVsbCB8fCBuZXdTdGF0ZSA9PT0gdW5kZWZpbmVkID8gZGVyaXZlZFN0YXRlRnJvbUNhdGNoIDogX2Fzc2lnbih7fSwgbmV3U3RhdGUsIGRlcml2ZWRTdGF0ZUZyb21DYXRjaCk7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgYmFzZSBzdGF0ZSBvZiB0aGUgdXBkYXRlIHF1ZXVlLlxuICAgICAgLy8gRklYTUU6IFRoaXMgaXMgZ2V0dGluZyByaWRpY3Vsb3VzLiBSZWZhY3RvciBwbHohXG4gICAgICB2YXIgX3VwZGF0ZVF1ZXVlNCA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlO1xuICAgICAgaWYgKF91cGRhdGVRdWV1ZTQgIT09IG51bGwpIHtcbiAgICAgICAgX3VwZGF0ZVF1ZXVlNC5iYXNlU3RhdGUgPSBfYXNzaWduKHt9LCBfdXBkYXRlUXVldWU0LmJhc2VTdGF0ZSwgZGVyaXZlZFN0YXRlRnJvbUNhdGNoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAob2xkUHJvcHMgPT09IG5ld1Byb3BzICYmIG9sZFN0YXRlID09PSBuZXdTdGF0ZSAmJiAhaGFzQ29udGV4dENoYW5nZWQoKSAmJiAhKHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlICE9PSBudWxsICYmIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlLmhhc0ZvcmNlVXBkYXRlKSkge1xuICAgICAgLy8gSWYgYW4gdXBkYXRlIHdhcyBhbHJlYWR5IGluIHByb2dyZXNzLCB3ZSBzaG91bGQgc2NoZWR1bGUgYW4gVXBkYXRlXG4gICAgICAvLyBlZmZlY3QgZXZlbiB0aG91Z2ggd2UncmUgYmFpbGluZyBvdXQsIHNvIHRoYXQgY1dVL2NEVSBhcmUgY2FsbGVkLlxuICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaWYgKG9sZFByb3BzICE9PSBjdXJyZW50Lm1lbW9pemVkUHJvcHMgfHwgb2xkU3RhdGUgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSkge1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBVcGRhdGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaWYgKG9sZFByb3BzICE9PSBjdXJyZW50Lm1lbW9pemVkUHJvcHMgfHwgb2xkU3RhdGUgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSkge1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBTbmFwc2hvdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBzaG91bGRVcGRhdGUgPSBjaGVja1Nob3VsZENvbXBvbmVudFVwZGF0ZSh3b3JrSW5Qcm9ncmVzcywgb2xkUHJvcHMsIG5ld1Byb3BzLCBvbGRTdGF0ZSwgbmV3U3RhdGUsIG5ld0NvbnRleHQpO1xuXG4gICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgLy8gSW4gb3JkZXIgdG8gc3VwcG9ydCByZWFjdC1saWZlY3ljbGVzLWNvbXBhdCBwb2x5ZmlsbGVkIGNvbXBvbmVudHMsXG4gICAgICAvLyBVbnNhZmUgbGlmZWN5Y2xlcyBzaG91bGQgbm90IGJlIGludm9rZWQgZm9yIGNvbXBvbmVudHMgdXNpbmcgdGhlIG5ldyBBUElzLlxuICAgICAgaWYgKCFoYXNOZXdMaWZlY3ljbGVzICYmICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgIHN0YXJ0UGhhc2VUaW1lcih3b3JrSW5Qcm9ncmVzcywgJ2NvbXBvbmVudFdpbGxVcGRhdGUnKTtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZShuZXdQcm9wcywgbmV3U3RhdGUsIG5ld0NvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZShuZXdQcm9wcywgbmV3U3RhdGUsIG5ld0NvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHN0b3BQaGFzZVRpbWVyKCk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZFVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gVXBkYXRlO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gU25hcHNob3Q7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIGFuIHVwZGF0ZSB3YXMgYWxyZWFkeSBpbiBwcm9ncmVzcywgd2Ugc2hvdWxkIHNjaGVkdWxlIGFuIFVwZGF0ZVxuICAgICAgLy8gZWZmZWN0IGV2ZW4gdGhvdWdoIHdlJ3JlIGJhaWxpbmcgb3V0LCBzbyB0aGF0IGNXVS9jRFUgYXJlIGNhbGxlZC5cbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGlmIChvbGRQcm9wcyAhPT0gY3VycmVudC5tZW1vaXplZFByb3BzIHx8IG9sZFN0YXRlICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUpIHtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gVXBkYXRlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGlmIChvbGRQcm9wcyAhPT0gY3VycmVudC5tZW1vaXplZFByb3BzIHx8IG9sZFN0YXRlICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUpIHtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gU25hcHNob3Q7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSWYgc2hvdWxkQ29tcG9uZW50VXBkYXRlIHJldHVybmVkIGZhbHNlLCB3ZSBzaG91bGQgc3RpbGwgdXBkYXRlIHRoZVxuICAgICAgLy8gbWVtb2l6ZWQgcHJvcHMvc3RhdGUgdG8gaW5kaWNhdGUgdGhhdCB0aGlzIHdvcmsgY2FuIGJlIHJldXNlZC5cbiAgICAgIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV3UHJvcHMpO1xuICAgICAgbWVtb2l6ZVN0YXRlKHdvcmtJblByb2dyZXNzLCBuZXdTdGF0ZSk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSBleGlzdGluZyBpbnN0YW5jZSdzIHN0YXRlLCBwcm9wcywgYW5kIGNvbnRleHQgcG9pbnRlcnMgZXZlblxuICAgIC8vIGlmIHNob3VsZENvbXBvbmVudFVwZGF0ZSByZXR1cm5zIGZhbHNlLlxuICAgIGluc3RhbmNlLnByb3BzID0gbmV3UHJvcHM7XG4gICAgaW5zdGFuY2Uuc3RhdGUgPSBuZXdTdGF0ZTtcbiAgICBpbnN0YW5jZS5jb250ZXh0ID0gbmV3Q29udGV4dDtcblxuICAgIHJldHVybiBzaG91bGRVcGRhdGU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGFkb3B0Q2xhc3NJbnN0YW5jZTogYWRvcHRDbGFzc0luc3RhbmNlLFxuICAgIGNhbGxHZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM6IGNhbGxHZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMsXG4gICAgY29uc3RydWN0Q2xhc3NJbnN0YW5jZTogY29uc3RydWN0Q2xhc3NJbnN0YW5jZSxcbiAgICBtb3VudENsYXNzSW5zdGFuY2U6IG1vdW50Q2xhc3NJbnN0YW5jZSxcbiAgICByZXN1bWVNb3VudENsYXNzSW5zdGFuY2U6IHJlc3VtZU1vdW50Q2xhc3NJbnN0YW5jZSxcbiAgICB1cGRhdGVDbGFzc0luc3RhbmNlOiB1cGRhdGVDbGFzc0luc3RhbmNlXG4gIH07XG59O1xuXG52YXIgZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQyID0gUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5nZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtO1xuXG5cbnZhciBkaWRXYXJuQWJvdXRNYXBzID0gdm9pZCAwO1xudmFyIGRpZFdhcm5BYm91dFN0cmluZ1JlZkluU3RyaWN0TW9kZSA9IHZvaWQgMDtcbnZhciBvd25lckhhc0tleVVzZVdhcm5pbmcgPSB2b2lkIDA7XG52YXIgb3duZXJIYXNGdW5jdGlvblR5cGVXYXJuaW5nID0gdm9pZCAwO1xudmFyIHdhcm5Gb3JNaXNzaW5nS2V5ID0gZnVuY3Rpb24gKGNoaWxkKSB7fTtcblxue1xuICBkaWRXYXJuQWJvdXRNYXBzID0gZmFsc2U7XG4gIGRpZFdhcm5BYm91dFN0cmluZ1JlZkluU3RyaWN0TW9kZSA9IHt9O1xuXG4gIC8qKlxuICAgKiBXYXJuIGlmIHRoZXJlJ3Mgbm8ga2V5IGV4cGxpY2l0bHkgc2V0IG9uIGR5bmFtaWMgYXJyYXlzIG9mIGNoaWxkcmVuIG9yXG4gICAqIG9iamVjdCBrZXlzIGFyZSBub3QgdmFsaWQuIFRoaXMgYWxsb3dzIHVzIHRvIGtlZXAgdHJhY2sgb2YgY2hpbGRyZW4gYmV0d2VlblxuICAgKiB1cGRhdGVzLlxuICAgKi9cbiAgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge307XG4gIG93bmVySGFzRnVuY3Rpb25UeXBlV2FybmluZyA9IHt9O1xuXG4gIHdhcm5Gb3JNaXNzaW5nS2V5ID0gZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgaWYgKGNoaWxkID09PSBudWxsIHx8IHR5cGVvZiBjaGlsZCAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFjaGlsZC5fc3RvcmUgfHwgY2hpbGQuX3N0b3JlLnZhbGlkYXRlZCB8fCBjaGlsZC5rZXkgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAhKHR5cGVvZiBjaGlsZC5fc3RvcmUgPT09ICdvYmplY3QnKSA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0IENvbXBvbmVudCBpbiB3YXJuRm9yTWlzc2luZ0tleSBzaG91bGQgaGF2ZSBhIF9zdG9yZS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgICBjaGlsZC5fc3RvcmUudmFsaWRhdGVkID0gdHJ1ZTtcblxuICAgIHZhciBjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvID0gJ0VhY2ggY2hpbGQgaW4gYW4gYXJyYXkgb3IgaXRlcmF0b3Igc2hvdWxkIGhhdmUgYSB1bmlxdWUgJyArICdcImtleVwiIHByb3AuIFNlZSBodHRwczovL2ZiLm1lL3JlYWN0LXdhcm5pbmcta2V5cyBmb3IgJyArICdtb3JlIGluZm9ybWF0aW9uLicgKyAoZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQyKCkgfHwgJycpO1xuICAgIGlmIChvd25lckhhc0tleVVzZVdhcm5pbmdbY3VycmVudENvbXBvbmVudEVycm9ySW5mb10pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgb3duZXJIYXNLZXlVc2VXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dID0gdHJ1ZTtcblxuICAgIHdhcm5pbmcoZmFsc2UsICdFYWNoIGNoaWxkIGluIGFuIGFycmF5IG9yIGl0ZXJhdG9yIHNob3VsZCBoYXZlIGEgdW5pcXVlICcgKyAnXCJrZXlcIiBwcm9wLiBTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC13YXJuaW5nLWtleXMgZm9yICcgKyAnbW9yZSBpbmZvcm1hdGlvbi4lcycsIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMigpKTtcbiAgfTtcbn1cblxudmFyIGlzQXJyYXkkMSA9IEFycmF5LmlzQXJyYXk7XG5cbmZ1bmN0aW9uIGNvZXJjZVJlZihyZXR1cm5GaWJlciwgY3VycmVudCwgZWxlbWVudCkge1xuICB2YXIgbWl4ZWRSZWYgPSBlbGVtZW50LnJlZjtcbiAgaWYgKG1peGVkUmVmICE9PSBudWxsICYmIHR5cGVvZiBtaXhlZFJlZiAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgbWl4ZWRSZWYgIT09ICdvYmplY3QnKSB7XG4gICAge1xuICAgICAgaWYgKHJldHVybkZpYmVyLm1vZGUgJiBTdHJpY3RNb2RlKSB7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZShyZXR1cm5GaWJlcikgfHwgJ0NvbXBvbmVudCc7XG4gICAgICAgIGlmICghZGlkV2FybkFib3V0U3RyaW5nUmVmSW5TdHJpY3RNb2RlW2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICAgICAgd2FybmluZyhmYWxzZSwgJ0Egc3RyaW5nIHJlZiwgXCIlc1wiLMKgaGFzIGJlZW4gZm91bmQgd2l0aGluIGEgc3RyaWN0IG1vZGUgdHJlZS4gJyArICdTdHJpbmcgcmVmcyBhcmUgYSBzb3VyY2Ugb2YgcG90ZW50aWFsIGJ1Z3MgYW5kIHNob3VsZCBiZSBhdm9pZGVkLiAnICsgJ1dlIHJlY29tbWVuZCB1c2luZyBjcmVhdGVSZWYoKSBpbnN0ZWFkLicgKyAnXFxuJXMnICsgJ1xcblxcbkxlYXJuIG1vcmUgYWJvdXQgdXNpbmcgcmVmcyBzYWZlbHkgaGVyZTonICsgJ1xcbmh0dHBzOi8vZmIubWUvcmVhY3Qtc3RyaWN0LW1vZGUtc3RyaW5nLXJlZicsIG1peGVkUmVmLCBnZXRTdGFja0FkZGVuZHVtQnlXb3JrSW5Qcm9ncmVzc0ZpYmVyKHJldHVybkZpYmVyKSk7XG4gICAgICAgICAgZGlkV2FybkFib3V0U3RyaW5nUmVmSW5TdHJpY3RNb2RlW2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlbGVtZW50Ll9vd25lcikge1xuICAgICAgdmFyIG93bmVyID0gZWxlbWVudC5fb3duZXI7XG4gICAgICB2YXIgaW5zdCA9IHZvaWQgMDtcbiAgICAgIGlmIChvd25lcikge1xuICAgICAgICB2YXIgb3duZXJGaWJlciA9IG93bmVyO1xuICAgICAgICAhKG93bmVyRmliZXIudGFnID09PSBDbGFzc0NvbXBvbmVudCkgPyBpbnZhcmlhbnQoZmFsc2UsICdTdGF0ZWxlc3MgZnVuY3Rpb24gY29tcG9uZW50cyBjYW5ub3QgaGF2ZSByZWZzLicpIDogdm9pZCAwO1xuICAgICAgICBpbnN0ID0gb3duZXJGaWJlci5zdGF0ZU5vZGU7XG4gICAgICB9XG4gICAgICAhaW5zdCA/IGludmFyaWFudChmYWxzZSwgJ01pc3Npbmcgb3duZXIgZm9yIHN0cmluZyByZWYgJXMuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJywgbWl4ZWRSZWYpIDogdm9pZCAwO1xuICAgICAgdmFyIHN0cmluZ1JlZiA9ICcnICsgbWl4ZWRSZWY7XG4gICAgICAvLyBDaGVjayBpZiBwcmV2aW91cyBzdHJpbmcgcmVmIG1hdGNoZXMgbmV3IHN0cmluZyByZWZcbiAgICAgIGlmIChjdXJyZW50ICE9PSBudWxsICYmIGN1cnJlbnQucmVmICE9PSBudWxsICYmIGN1cnJlbnQucmVmLl9zdHJpbmdSZWYgPT09IHN0cmluZ1JlZikge1xuICAgICAgICByZXR1cm4gY3VycmVudC5yZWY7XG4gICAgICB9XG4gICAgICB2YXIgcmVmID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciByZWZzID0gaW5zdC5yZWZzID09PSBlbXB0eU9iamVjdCA/IGluc3QucmVmcyA9IHt9IDogaW5zdC5yZWZzO1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICBkZWxldGUgcmVmc1tzdHJpbmdSZWZdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlZnNbc3RyaW5nUmVmXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmVmLl9zdHJpbmdSZWYgPSBzdHJpbmdSZWY7XG4gICAgICByZXR1cm4gcmVmO1xuICAgIH0gZWxzZSB7XG4gICAgICAhKHR5cGVvZiBtaXhlZFJlZiA9PT0gJ3N0cmluZycpID8gaW52YXJpYW50KGZhbHNlLCAnRXhwZWN0ZWQgcmVmIHRvIGJlIGEgZnVuY3Rpb24gb3IgYSBzdHJpbmcuJykgOiB2b2lkIDA7XG4gICAgICAhZWxlbWVudC5fb3duZXIgPyBpbnZhcmlhbnQoZmFsc2UsICdFbGVtZW50IHJlZiB3YXMgc3BlY2lmaWVkIGFzIGEgc3RyaW5nICglcykgYnV0IG5vIG93bmVyIHdhcyBzZXQuIFRoaXMgY291bGQgaGFwcGVuIGZvciBvbmUgb2YgdGhlIGZvbGxvd2luZyByZWFzb25zOlxcbjEuIFlvdSBtYXkgYmUgYWRkaW5nIGEgcmVmIHRvIGEgZnVuY3Rpb25hbCBjb21wb25lbnRcXG4yLiBZb3UgbWF5IGJlIGFkZGluZyBhIHJlZiB0byBhIGNvbXBvbmVudCB0aGF0IHdhcyBub3QgY3JlYXRlZCBpbnNpZGUgYSBjb21wb25lbnRcXCdzIHJlbmRlciBtZXRob2RcXG4zLiBZb3UgaGF2ZSBtdWx0aXBsZSBjb3BpZXMgb2YgUmVhY3QgbG9hZGVkXFxuU2VlIGh0dHBzOi8vZmIubWUvcmVhY3QtcmVmcy1tdXN0LWhhdmUtb3duZXIgZm9yIG1vcmUgaW5mb3JtYXRpb24uJywgbWl4ZWRSZWYpIDogdm9pZCAwO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWl4ZWRSZWY7XG59XG5cbmZ1bmN0aW9uIHRocm93T25JbnZhbGlkT2JqZWN0VHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpIHtcbiAgaWYgKHJldHVybkZpYmVyLnR5cGUgIT09ICd0ZXh0YXJlYScpIHtcbiAgICB2YXIgYWRkZW5kdW0gPSAnJztcbiAgICB7XG4gICAgICBhZGRlbmR1bSA9ICcgSWYgeW91IG1lYW50IHRvIHJlbmRlciBhIGNvbGxlY3Rpb24gb2YgY2hpbGRyZW4sIHVzZSBhbiBhcnJheSAnICsgJ2luc3RlYWQuJyArIChnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDIoKSB8fCAnJyk7XG4gICAgfVxuICAgIGludmFyaWFudChmYWxzZSwgJ09iamVjdHMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkIChmb3VuZDogJXMpLiVzJywgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0NoaWxkKSA9PT0gJ1tvYmplY3QgT2JqZWN0XScgPyAnb2JqZWN0IHdpdGgga2V5cyB7JyArIE9iamVjdC5rZXlzKG5ld0NoaWxkKS5qb2luKCcsICcpICsgJ30nIDogbmV3Q2hpbGQsIGFkZGVuZHVtKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3YXJuT25GdW5jdGlvblR5cGUoKSB7XG4gIHZhciBjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvID0gJ0Z1bmN0aW9ucyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQuIFRoaXMgbWF5IGhhcHBlbiBpZiAnICsgJ3lvdSByZXR1cm4gYSBDb21wb25lbnQgaW5zdGVhZCBvZiA8Q29tcG9uZW50IC8+IGZyb20gcmVuZGVyLiAnICsgJ09yIG1heWJlIHlvdSBtZWFudCB0byBjYWxsIHRoaXMgZnVuY3Rpb24gcmF0aGVyIHRoYW4gcmV0dXJuIGl0LicgKyAoZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQyKCkgfHwgJycpO1xuXG4gIGlmIChvd25lckhhc0Z1bmN0aW9uVHlwZVdhcm5pbmdbY3VycmVudENvbXBvbmVudEVycm9ySW5mb10pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgb3duZXJIYXNGdW5jdGlvblR5cGVXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dID0gdHJ1ZTtcblxuICB3YXJuaW5nKGZhbHNlLCAnRnVuY3Rpb25zIGFyZSBub3QgdmFsaWQgYXMgYSBSZWFjdCBjaGlsZC4gVGhpcyBtYXkgaGFwcGVuIGlmICcgKyAneW91IHJldHVybiBhIENvbXBvbmVudCBpbnN0ZWFkIG9mIDxDb21wb25lbnQgLz4gZnJvbSByZW5kZXIuICcgKyAnT3IgbWF5YmUgeW91IG1lYW50IHRvIGNhbGwgdGhpcyBmdW5jdGlvbiByYXRoZXIgdGhhbiByZXR1cm4gaXQuJXMnLCBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDIoKSB8fCAnJyk7XG59XG5cbi8vIFRoaXMgd3JhcHBlciBmdW5jdGlvbiBleGlzdHMgYmVjYXVzZSBJIGV4cGVjdCB0byBjbG9uZSB0aGUgY29kZSBpbiBlYWNoIHBhdGhcbi8vIHRvIGJlIGFibGUgdG8gb3B0aW1pemUgZWFjaCBwYXRoIGluZGl2aWR1YWxseSBieSBicmFuY2hpbmcgZWFybHkuIFRoaXMgbmVlZHNcbi8vIGEgY29tcGlsZXIgb3Igd2UgY2FuIGRvIGl0IG1hbnVhbGx5LiBIZWxwZXJzIHRoYXQgZG9uJ3QgbmVlZCB0aGlzIGJyYW5jaGluZ1xuLy8gbGl2ZSBvdXRzaWRlIG9mIHRoaXMgZnVuY3Rpb24uXG5mdW5jdGlvbiBDaGlsZFJlY29uY2lsZXIoc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykge1xuICBmdW5jdGlvbiBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgY2hpbGRUb0RlbGV0ZSkge1xuICAgIGlmICghc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykge1xuICAgICAgLy8gTm9vcC5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gRGVsZXRpb25zIGFyZSBhZGRlZCBpbiByZXZlcnNlZCBvcmRlciBzbyB3ZSBhZGQgaXQgdG8gdGhlIGZyb250LlxuICAgIC8vIEF0IHRoaXMgcG9pbnQsIHRoZSByZXR1cm4gZmliZXIncyBlZmZlY3QgbGlzdCBpcyBlbXB0eSBleGNlcHQgZm9yXG4gICAgLy8gZGVsZXRpb25zLCBzbyB3ZSBjYW4ganVzdCBhcHBlbmQgdGhlIGRlbGV0aW9uIHRvIHRoZSBsaXN0LiBUaGUgcmVtYWluaW5nXG4gICAgLy8gZWZmZWN0cyBhcmVuJ3QgYWRkZWQgdW50aWwgdGhlIGNvbXBsZXRlIHBoYXNlLiBPbmNlIHdlIGltcGxlbWVudFxuICAgIC8vIHJlc3VtaW5nLCB0aGlzIG1heSBub3QgYmUgdHJ1ZS5cbiAgICB2YXIgbGFzdCA9IHJldHVybkZpYmVyLmxhc3RFZmZlY3Q7XG4gICAgaWYgKGxhc3QgIT09IG51bGwpIHtcbiAgICAgIGxhc3QubmV4dEVmZmVjdCA9IGNoaWxkVG9EZWxldGU7XG4gICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gY2hpbGRUb0RlbGV0ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuRmliZXIuZmlyc3RFZmZlY3QgPSByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gY2hpbGRUb0RlbGV0ZTtcbiAgICB9XG4gICAgY2hpbGRUb0RlbGV0ZS5uZXh0RWZmZWN0ID0gbnVsbDtcbiAgICBjaGlsZFRvRGVsZXRlLmVmZmVjdFRhZyA9IERlbGV0aW9uO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkKSB7XG4gICAgaWYgKCFzaG91bGRUcmFja1NpZGVFZmZlY3RzKSB7XG4gICAgICAvLyBOb29wLlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogRm9yIHRoZSBzaG91bGRDbG9uZSBjYXNlLCB0aGlzIGNvdWxkIGJlIG1pY3JvLW9wdGltaXplZCBhIGJpdCBieVxuICAgIC8vIGFzc3VtaW5nIHRoYXQgYWZ0ZXIgdGhlIGZpcnN0IGNoaWxkIHdlJ3ZlIGFscmVhZHkgYWRkZWQgZXZlcnl0aGluZy5cbiAgICB2YXIgY2hpbGRUb0RlbGV0ZSA9IGN1cnJlbnRGaXJzdENoaWxkO1xuICAgIHdoaWxlIChjaGlsZFRvRGVsZXRlICE9PSBudWxsKSB7XG4gICAgICBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgY2hpbGRUb0RlbGV0ZSk7XG4gICAgICBjaGlsZFRvRGVsZXRlID0gY2hpbGRUb0RlbGV0ZS5zaWJsaW5nO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1hcFJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCkge1xuICAgIC8vIEFkZCB0aGUgcmVtYWluaW5nIGNoaWxkcmVuIHRvIGEgdGVtcG9yYXJ5IG1hcCBzbyB0aGF0IHdlIGNhbiBmaW5kIHRoZW0gYnlcbiAgICAvLyBrZXlzIHF1aWNrbHkuIEltcGxpY2l0IChudWxsKSBrZXlzIGdldCBhZGRlZCB0byB0aGlzIHNldCB3aXRoIHRoZWlyIGluZGV4XG4gICAgdmFyIGV4aXN0aW5nQ2hpbGRyZW4gPSBuZXcgTWFwKCk7XG5cbiAgICB2YXIgZXhpc3RpbmdDaGlsZCA9IGN1cnJlbnRGaXJzdENoaWxkO1xuICAgIHdoaWxlIChleGlzdGluZ0NoaWxkICE9PSBudWxsKSB7XG4gICAgICBpZiAoZXhpc3RpbmdDaGlsZC5rZXkgIT09IG51bGwpIHtcbiAgICAgICAgZXhpc3RpbmdDaGlsZHJlbi5zZXQoZXhpc3RpbmdDaGlsZC5rZXksIGV4aXN0aW5nQ2hpbGQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXhpc3RpbmdDaGlsZHJlbi5zZXQoZXhpc3RpbmdDaGlsZC5pbmRleCwgZXhpc3RpbmdDaGlsZCk7XG4gICAgICB9XG4gICAgICBleGlzdGluZ0NoaWxkID0gZXhpc3RpbmdDaGlsZC5zaWJsaW5nO1xuICAgIH1cbiAgICByZXR1cm4gZXhpc3RpbmdDaGlsZHJlbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVzZUZpYmVyKGZpYmVyLCBwZW5kaW5nUHJvcHMsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgLy8gV2UgY3VycmVudGx5IHNldCBzaWJsaW5nIHRvIG51bGwgYW5kIGluZGV4IHRvIDAgaGVyZSBiZWNhdXNlIGl0IGlzIGVhc3lcbiAgICAvLyB0byBmb3JnZXQgdG8gZG8gYmVmb3JlIHJldHVybmluZyBpdC4gRS5nLiBmb3IgdGhlIHNpbmdsZSBjaGlsZCBjYXNlLlxuICAgIHZhciBjbG9uZSA9IGNyZWF0ZVdvcmtJblByb2dyZXNzKGZpYmVyLCBwZW5kaW5nUHJvcHMsIGV4cGlyYXRpb25UaW1lKTtcbiAgICBjbG9uZS5pbmRleCA9IDA7XG4gICAgY2xvbmUuc2libGluZyA9IG51bGw7XG4gICAgcmV0dXJuIGNsb25lO1xuICB9XG5cbiAgZnVuY3Rpb24gcGxhY2VDaGlsZChuZXdGaWJlciwgbGFzdFBsYWNlZEluZGV4LCBuZXdJbmRleCkge1xuICAgIG5ld0ZpYmVyLmluZGV4ID0gbmV3SW5kZXg7XG4gICAgaWYgKCFzaG91bGRUcmFja1NpZGVFZmZlY3RzKSB7XG4gICAgICAvLyBOb29wLlxuICAgICAgcmV0dXJuIGxhc3RQbGFjZWRJbmRleDtcbiAgICB9XG4gICAgdmFyIGN1cnJlbnQgPSBuZXdGaWJlci5hbHRlcm5hdGU7XG4gICAgaWYgKGN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgIHZhciBvbGRJbmRleCA9IGN1cnJlbnQuaW5kZXg7XG4gICAgICBpZiAob2xkSW5kZXggPCBsYXN0UGxhY2VkSW5kZXgpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIG1vdmUuXG4gICAgICAgIG5ld0ZpYmVyLmVmZmVjdFRhZyA9IFBsYWNlbWVudDtcbiAgICAgICAgcmV0dXJuIGxhc3RQbGFjZWRJbmRleDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRoaXMgaXRlbSBjYW4gc3RheSBpbiBwbGFjZS5cbiAgICAgICAgcmV0dXJuIG9sZEluZGV4O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGlzIGlzIGFuIGluc2VydGlvbi5cbiAgICAgIG5ld0ZpYmVyLmVmZmVjdFRhZyA9IFBsYWNlbWVudDtcbiAgICAgIHJldHVybiBsYXN0UGxhY2VkSW5kZXg7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGxhY2VTaW5nbGVDaGlsZChuZXdGaWJlcikge1xuICAgIC8vIFRoaXMgaXMgc2ltcGxlciBmb3IgdGhlIHNpbmdsZSBjaGlsZCBjYXNlLiBXZSBvbmx5IG5lZWQgdG8gZG8gYVxuICAgIC8vIHBsYWNlbWVudCBmb3IgaW5zZXJ0aW5nIG5ldyBjaGlsZHJlbi5cbiAgICBpZiAoc2hvdWxkVHJhY2tTaWRlRWZmZWN0cyAmJiBuZXdGaWJlci5hbHRlcm5hdGUgPT09IG51bGwpIHtcbiAgICAgIG5ld0ZpYmVyLmVmZmVjdFRhZyA9IFBsYWNlbWVudDtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0ZpYmVyO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlVGV4dE5vZGUocmV0dXJuRmliZXIsIGN1cnJlbnQsIHRleHRDb250ZW50LCBleHBpcmF0aW9uVGltZSkge1xuICAgIGlmIChjdXJyZW50ID09PSBudWxsIHx8IGN1cnJlbnQudGFnICE9PSBIb3N0VGV4dCkge1xuICAgICAgLy8gSW5zZXJ0XG4gICAgICB2YXIgY3JlYXRlZCA9IGNyZWF0ZUZpYmVyRnJvbVRleHQodGV4dENvbnRlbnQsIHJldHVybkZpYmVyLm1vZGUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGNyZWF0ZWRbJ3JldHVybiddID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gY3JlYXRlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVXBkYXRlXG4gICAgICB2YXIgZXhpc3RpbmcgPSB1c2VGaWJlcihjdXJyZW50LCB0ZXh0Q29udGVudCwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgZXhpc3RpbmdbJ3JldHVybiddID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlRWxlbWVudChyZXR1cm5GaWJlciwgY3VycmVudCwgZWxlbWVudCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICBpZiAoY3VycmVudCAhPT0gbnVsbCAmJiBjdXJyZW50LnR5cGUgPT09IGVsZW1lbnQudHlwZSkge1xuICAgICAgLy8gTW92ZSBiYXNlZCBvbiBpbmRleFxuICAgICAgdmFyIGV4aXN0aW5nID0gdXNlRmliZXIoY3VycmVudCwgZWxlbWVudC5wcm9wcywgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgZXhpc3RpbmcucmVmID0gY29lcmNlUmVmKHJldHVybkZpYmVyLCBjdXJyZW50LCBlbGVtZW50KTtcbiAgICAgIGV4aXN0aW5nWydyZXR1cm4nXSA9IHJldHVybkZpYmVyO1xuICAgICAge1xuICAgICAgICBleGlzdGluZy5fZGVidWdTb3VyY2UgPSBlbGVtZW50Ll9zb3VyY2U7XG4gICAgICAgIGV4aXN0aW5nLl9kZWJ1Z093bmVyID0gZWxlbWVudC5fb3duZXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEluc2VydFxuICAgICAgdmFyIGNyZWF0ZWQgPSBjcmVhdGVGaWJlckZyb21FbGVtZW50KGVsZW1lbnQsIHJldHVybkZpYmVyLm1vZGUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGNyZWF0ZWQucmVmID0gY29lcmNlUmVmKHJldHVybkZpYmVyLCBjdXJyZW50LCBlbGVtZW50KTtcbiAgICAgIGNyZWF0ZWRbJ3JldHVybiddID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gY3JlYXRlZDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVQb3J0YWwocmV0dXJuRmliZXIsIGN1cnJlbnQsIHBvcnRhbCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICBpZiAoY3VycmVudCA9PT0gbnVsbCB8fCBjdXJyZW50LnRhZyAhPT0gSG9zdFBvcnRhbCB8fCBjdXJyZW50LnN0YXRlTm9kZS5jb250YWluZXJJbmZvICE9PSBwb3J0YWwuY29udGFpbmVySW5mbyB8fCBjdXJyZW50LnN0YXRlTm9kZS5pbXBsZW1lbnRhdGlvbiAhPT0gcG9ydGFsLmltcGxlbWVudGF0aW9uKSB7XG4gICAgICAvLyBJbnNlcnRcbiAgICAgIHZhciBjcmVhdGVkID0gY3JlYXRlRmliZXJGcm9tUG9ydGFsKHBvcnRhbCwgcmV0dXJuRmliZXIubW9kZSwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgY3JlYXRlZFsncmV0dXJuJ10gPSByZXR1cm5GaWJlcjtcbiAgICAgIHJldHVybiBjcmVhdGVkO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBVcGRhdGVcbiAgICAgIHZhciBleGlzdGluZyA9IHVzZUZpYmVyKGN1cnJlbnQsIHBvcnRhbC5jaGlsZHJlbiB8fCBbXSwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgZXhpc3RpbmdbJ3JldHVybiddID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlRnJhZ21lbnQocmV0dXJuRmliZXIsIGN1cnJlbnQsIGZyYWdtZW50LCBleHBpcmF0aW9uVGltZSwga2V5KSB7XG4gICAgaWYgKGN1cnJlbnQgPT09IG51bGwgfHwgY3VycmVudC50YWcgIT09IEZyYWdtZW50KSB7XG4gICAgICAvLyBJbnNlcnRcbiAgICAgIHZhciBjcmVhdGVkID0gY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQoZnJhZ21lbnQsIHJldHVybkZpYmVyLm1vZGUsIGV4cGlyYXRpb25UaW1lLCBrZXkpO1xuICAgICAgY3JlYXRlZFsncmV0dXJuJ10gPSByZXR1cm5GaWJlcjtcbiAgICAgIHJldHVybiBjcmVhdGVkO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBVcGRhdGVcbiAgICAgIHZhciBleGlzdGluZyA9IHVzZUZpYmVyKGN1cnJlbnQsIGZyYWdtZW50LCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBleGlzdGluZ1sncmV0dXJuJ10gPSByZXR1cm5GaWJlcjtcbiAgICAgIHJldHVybiBleGlzdGluZztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVDaGlsZChyZXR1cm5GaWJlciwgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG5ld0NoaWxkID09PSAnbnVtYmVyJykge1xuICAgICAgLy8gVGV4dCBub2RlcyBkb24ndCBoYXZlIGtleXMuIElmIHRoZSBwcmV2aW91cyBub2RlIGlzIGltcGxpY2l0bHkga2V5ZWRcbiAgICAgIC8vIHdlIGNhbiBjb250aW51ZSB0byByZXBsYWNlIGl0IHdpdGhvdXQgYWJvcnRpbmcgZXZlbiBpZiBpdCBpcyBub3QgYSB0ZXh0XG4gICAgICAvLyBub2RlLlxuICAgICAgdmFyIGNyZWF0ZWQgPSBjcmVhdGVGaWJlckZyb21UZXh0KCcnICsgbmV3Q2hpbGQsIHJldHVybkZpYmVyLm1vZGUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGNyZWF0ZWRbJ3JldHVybiddID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gY3JlYXRlZDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5ld0NoaWxkID09PSAnb2JqZWN0JyAmJiBuZXdDaGlsZCAhPT0gbnVsbCkge1xuICAgICAgc3dpdGNoIChuZXdDaGlsZC4kJHR5cGVvZikge1xuICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YXIgX2NyZWF0ZWQgPSBjcmVhdGVGaWJlckZyb21FbGVtZW50KG5ld0NoaWxkLCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgICAgICBfY3JlYXRlZC5yZWYgPSBjb2VyY2VSZWYocmV0dXJuRmliZXIsIG51bGwsIG5ld0NoaWxkKTtcbiAgICAgICAgICAgIF9jcmVhdGVkWydyZXR1cm4nXSA9IHJldHVybkZpYmVyO1xuICAgICAgICAgICAgcmV0dXJuIF9jcmVhdGVkO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YXIgX2NyZWF0ZWQyID0gY3JlYXRlRmliZXJGcm9tUG9ydGFsKG5ld0NoaWxkLCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgICAgICBfY3JlYXRlZDJbJ3JldHVybiddID0gcmV0dXJuRmliZXI7XG4gICAgICAgICAgICByZXR1cm4gX2NyZWF0ZWQyO1xuICAgICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlzQXJyYXkkMShuZXdDaGlsZCkgfHwgZ2V0SXRlcmF0b3JGbihuZXdDaGlsZCkpIHtcbiAgICAgICAgdmFyIF9jcmVhdGVkMyA9IGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KG5ld0NoaWxkLCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSwgbnVsbCk7XG4gICAgICAgIF9jcmVhdGVkM1sncmV0dXJuJ10gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgcmV0dXJuIF9jcmVhdGVkMztcbiAgICAgIH1cblxuICAgICAgdGhyb3dPbkludmFsaWRPYmplY3RUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgfVxuXG4gICAge1xuICAgICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB3YXJuT25GdW5jdGlvblR5cGUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVNsb3QocmV0dXJuRmliZXIsIG9sZEZpYmVyLCBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICAvLyBVcGRhdGUgdGhlIGZpYmVyIGlmIHRoZSBrZXlzIG1hdGNoLCBvdGhlcndpc2UgcmV0dXJuIG51bGwuXG5cbiAgICB2YXIga2V5ID0gb2xkRmliZXIgIT09IG51bGwgPyBvbGRGaWJlci5rZXkgOiBudWxsO1xuXG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG5ld0NoaWxkID09PSAnbnVtYmVyJykge1xuICAgICAgLy8gVGV4dCBub2RlcyBkb24ndCBoYXZlIGtleXMuIElmIHRoZSBwcmV2aW91cyBub2RlIGlzIGltcGxpY2l0bHkga2V5ZWRcbiAgICAgIC8vIHdlIGNhbiBjb250aW51ZSB0byByZXBsYWNlIGl0IHdpdGhvdXQgYWJvcnRpbmcgZXZlbiBpZiBpdCBpcyBub3QgYSB0ZXh0XG4gICAgICAvLyBub2RlLlxuICAgICAgaWYgKGtleSAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1cGRhdGVUZXh0Tm9kZShyZXR1cm5GaWJlciwgb2xkRmliZXIsICcnICsgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5ld0NoaWxkID09PSAnb2JqZWN0JyAmJiBuZXdDaGlsZCAhPT0gbnVsbCkge1xuICAgICAgc3dpdGNoIChuZXdDaGlsZC4kJHR5cGVvZikge1xuICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAobmV3Q2hpbGQua2V5ID09PSBrZXkpIHtcbiAgICAgICAgICAgICAgaWYgKG5ld0NoaWxkLnR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlRnJhZ21lbnQocmV0dXJuRmliZXIsIG9sZEZpYmVyLCBuZXdDaGlsZC5wcm9wcy5jaGlsZHJlbiwgZXhwaXJhdGlvblRpbWUsIGtleSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZUVsZW1lbnQocmV0dXJuRmliZXIsIG9sZEZpYmVyLCBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmIChuZXdDaGlsZC5rZXkgPT09IGtleSkge1xuICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlUG9ydGFsKHJldHVybkZpYmVyLCBvbGRGaWJlciwgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlzQXJyYXkkMShuZXdDaGlsZCkgfHwgZ2V0SXRlcmF0b3JGbihuZXdDaGlsZCkpIHtcbiAgICAgICAgaWYgKGtleSAhPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVwZGF0ZUZyYWdtZW50KHJldHVybkZpYmVyLCBvbGRGaWJlciwgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lLCBudWxsKTtcbiAgICAgIH1cblxuICAgICAgdGhyb3dPbkludmFsaWRPYmplY3RUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgfVxuXG4gICAge1xuICAgICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB3YXJuT25GdW5jdGlvblR5cGUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUZyb21NYXAoZXhpc3RpbmdDaGlsZHJlbiwgcmV0dXJuRmliZXIsIG5ld0lkeCwgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG5ld0NoaWxkID09PSAnbnVtYmVyJykge1xuICAgICAgLy8gVGV4dCBub2RlcyBkb24ndCBoYXZlIGtleXMsIHNvIHdlIG5laXRoZXIgaGF2ZSB0byBjaGVjayB0aGUgb2xkIG5vclxuICAgICAgLy8gbmV3IG5vZGUgZm9yIHRoZSBrZXkuIElmIGJvdGggYXJlIHRleHQgbm9kZXMsIHRoZXkgbWF0Y2guXG4gICAgICB2YXIgbWF0Y2hlZEZpYmVyID0gZXhpc3RpbmdDaGlsZHJlbi5nZXQobmV3SWR4KSB8fCBudWxsO1xuICAgICAgcmV0dXJuIHVwZGF0ZVRleHROb2RlKHJldHVybkZpYmVyLCBtYXRjaGVkRmliZXIsICcnICsgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5ld0NoaWxkID09PSAnb2JqZWN0JyAmJiBuZXdDaGlsZCAhPT0gbnVsbCkge1xuICAgICAgc3dpdGNoIChuZXdDaGlsZC4kJHR5cGVvZikge1xuICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YXIgX21hdGNoZWRGaWJlciA9IGV4aXN0aW5nQ2hpbGRyZW4uZ2V0KG5ld0NoaWxkLmtleSA9PT0gbnVsbCA/IG5ld0lkeCA6IG5ld0NoaWxkLmtleSkgfHwgbnVsbDtcbiAgICAgICAgICAgIGlmIChuZXdDaGlsZC50eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFKSB7XG4gICAgICAgICAgICAgIHJldHVybiB1cGRhdGVGcmFnbWVudChyZXR1cm5GaWJlciwgX21hdGNoZWRGaWJlciwgbmV3Q2hpbGQucHJvcHMuY2hpbGRyZW4sIGV4cGlyYXRpb25UaW1lLCBuZXdDaGlsZC5rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZUVsZW1lbnQocmV0dXJuRmliZXIsIF9tYXRjaGVkRmliZXIsIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHZhciBfbWF0Y2hlZEZpYmVyMiA9IGV4aXN0aW5nQ2hpbGRyZW4uZ2V0KG5ld0NoaWxkLmtleSA9PT0gbnVsbCA/IG5ld0lkeCA6IG5ld0NoaWxkLmtleSkgfHwgbnVsbDtcbiAgICAgICAgICAgIHJldHVybiB1cGRhdGVQb3J0YWwocmV0dXJuRmliZXIsIF9tYXRjaGVkRmliZXIyLCBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlzQXJyYXkkMShuZXdDaGlsZCkgfHwgZ2V0SXRlcmF0b3JGbihuZXdDaGlsZCkpIHtcbiAgICAgICAgdmFyIF9tYXRjaGVkRmliZXIzID0gZXhpc3RpbmdDaGlsZHJlbi5nZXQobmV3SWR4KSB8fCBudWxsO1xuICAgICAgICByZXR1cm4gdXBkYXRlRnJhZ21lbnQocmV0dXJuRmliZXIsIF9tYXRjaGVkRmliZXIzLCBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUsIG51bGwpO1xuICAgICAgfVxuXG4gICAgICB0aHJvd09uSW52YWxpZE9iamVjdFR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKTtcbiAgICB9XG5cbiAgICB7XG4gICAgICBpZiAodHlwZW9mIG5ld0NoaWxkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHdhcm5PbkZ1bmN0aW9uVHlwZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFdhcm5zIGlmIHRoZXJlIGlzIGEgZHVwbGljYXRlIG9yIG1pc3Npbmcga2V5XG4gICAqL1xuICBmdW5jdGlvbiB3YXJuT25JbnZhbGlkS2V5KGNoaWxkLCBrbm93bktleXMpIHtcbiAgICB7XG4gICAgICBpZiAodHlwZW9mIGNoaWxkICE9PSAnb2JqZWN0JyB8fCBjaGlsZCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ga25vd25LZXlzO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChjaGlsZC4kJHR5cGVvZikge1xuICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICB3YXJuRm9yTWlzc2luZ0tleShjaGlsZCk7XG4gICAgICAgICAgdmFyIGtleSA9IGNoaWxkLmtleTtcbiAgICAgICAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoa25vd25LZXlzID09PSBudWxsKSB7XG4gICAgICAgICAgICBrbm93bktleXMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICBrbm93bktleXMuYWRkKGtleSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFrbm93bktleXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIGtub3duS2V5cy5hZGQoa2V5KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnRW5jb3VudGVyZWQgdHdvIGNoaWxkcmVuIHdpdGggdGhlIHNhbWUga2V5LCBgJXNgLiAnICsgJ0tleXMgc2hvdWxkIGJlIHVuaXF1ZSBzbyB0aGF0IGNvbXBvbmVudHMgbWFpbnRhaW4gdGhlaXIgaWRlbnRpdHkgJyArICdhY3Jvc3MgdXBkYXRlcy4gTm9uLXVuaXF1ZSBrZXlzIG1heSBjYXVzZSBjaGlsZHJlbiB0byBiZSAnICsgJ2R1cGxpY2F0ZWQgYW5kL29yIG9taXR0ZWQg4oCUIHRoZSBiZWhhdmlvciBpcyB1bnN1cHBvcnRlZCBhbmQgJyArICdjb3VsZCBjaGFuZ2UgaW4gYSBmdXR1cmUgdmVyc2lvbi4lcycsIGtleSwgZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ga25vd25LZXlzO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVjb25jaWxlQ2hpbGRyZW5BcnJheShyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQsIG5ld0NoaWxkcmVuLCBleHBpcmF0aW9uVGltZSkge1xuICAgIC8vIFRoaXMgYWxnb3JpdGhtIGNhbid0IG9wdGltaXplIGJ5IHNlYXJjaGluZyBmcm9tIGJvdGhzIGVuZHMgc2luY2Ugd2VcbiAgICAvLyBkb24ndCBoYXZlIGJhY2twb2ludGVycyBvbiBmaWJlcnMuIEknbSB0cnlpbmcgdG8gc2VlIGhvdyBmYXIgd2UgY2FuIGdldFxuICAgIC8vIHdpdGggdGhhdCBtb2RlbC4gSWYgaXQgZW5kcyB1cCBub3QgYmVpbmcgd29ydGggdGhlIHRyYWRlb2Zmcywgd2UgY2FuXG4gICAgLy8gYWRkIGl0IGxhdGVyLlxuXG4gICAgLy8gRXZlbiB3aXRoIGEgdHdvIGVuZGVkIG9wdGltaXphdGlvbiwgd2UnZCB3YW50IHRvIG9wdGltaXplIGZvciB0aGUgY2FzZVxuICAgIC8vIHdoZXJlIHRoZXJlIGFyZSBmZXcgY2hhbmdlcyBhbmQgYnJ1dGUgZm9yY2UgdGhlIGNvbXBhcmlzb24gaW5zdGVhZCBvZlxuICAgIC8vIGdvaW5nIGZvciB0aGUgTWFwLiBJdCdkIGxpa2UgdG8gZXhwbG9yZSBoaXR0aW5nIHRoYXQgcGF0aCBmaXJzdCBpblxuICAgIC8vIGZvcndhcmQtb25seSBtb2RlIGFuZCBvbmx5IGdvIGZvciB0aGUgTWFwIG9uY2Ugd2Ugbm90aWNlIHRoYXQgd2UgbmVlZFxuICAgIC8vIGxvdHMgb2YgbG9vayBhaGVhZC4gVGhpcyBkb2Vzbid0IGhhbmRsZSByZXZlcnNhbCBhcyB3ZWxsIGFzIHR3byBlbmRlZFxuICAgIC8vIHNlYXJjaCBidXQgdGhhdCdzIHVudXN1YWwuIEJlc2lkZXMsIGZvciB0aGUgdHdvIGVuZGVkIG9wdGltaXphdGlvbiB0b1xuICAgIC8vIHdvcmsgb24gSXRlcmFibGVzLCB3ZSdkIG5lZWQgdG8gY29weSB0aGUgd2hvbGUgc2V0LlxuXG4gICAgLy8gSW4gdGhpcyBmaXJzdCBpdGVyYXRpb24sIHdlJ2xsIGp1c3QgbGl2ZSB3aXRoIGhpdHRpbmcgdGhlIGJhZCBjYXNlXG4gICAgLy8gKGFkZGluZyBldmVyeXRoaW5nIHRvIGEgTWFwKSBpbiBmb3IgZXZlcnkgaW5zZXJ0L21vdmUuXG5cbiAgICAvLyBJZiB5b3UgY2hhbmdlIHRoaXMgY29kZSwgYWxzbyB1cGRhdGUgcmVjb25jaWxlQ2hpbGRyZW5JdGVyYXRvcigpIHdoaWNoXG4gICAgLy8gdXNlcyB0aGUgc2FtZSBhbGdvcml0aG0uXG5cbiAgICB7XG4gICAgICAvLyBGaXJzdCwgdmFsaWRhdGUga2V5cy5cbiAgICAgIHZhciBrbm93bktleXMgPSBudWxsO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY2hpbGQgPSBuZXdDaGlsZHJlbltpXTtcbiAgICAgICAga25vd25LZXlzID0gd2Fybk9uSW52YWxpZEtleShjaGlsZCwga25vd25LZXlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcmVzdWx0aW5nRmlyc3RDaGlsZCA9IG51bGw7XG4gICAgdmFyIHByZXZpb3VzTmV3RmliZXIgPSBudWxsO1xuXG4gICAgdmFyIG9sZEZpYmVyID0gY3VycmVudEZpcnN0Q2hpbGQ7XG4gICAgdmFyIGxhc3RQbGFjZWRJbmRleCA9IDA7XG4gICAgdmFyIG5ld0lkeCA9IDA7XG4gICAgdmFyIG5leHRPbGRGaWJlciA9IG51bGw7XG4gICAgZm9yICg7IG9sZEZpYmVyICE9PSBudWxsICYmIG5ld0lkeCA8IG5ld0NoaWxkcmVuLmxlbmd0aDsgbmV3SWR4KyspIHtcbiAgICAgIGlmIChvbGRGaWJlci5pbmRleCA+IG5ld0lkeCkge1xuICAgICAgICBuZXh0T2xkRmliZXIgPSBvbGRGaWJlcjtcbiAgICAgICAgb2xkRmliZXIgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dE9sZEZpYmVyID0gb2xkRmliZXIuc2libGluZztcbiAgICAgIH1cbiAgICAgIHZhciBuZXdGaWJlciA9IHVwZGF0ZVNsb3QocmV0dXJuRmliZXIsIG9sZEZpYmVyLCBuZXdDaGlsZHJlbltuZXdJZHhdLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBpZiAobmV3RmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgLy8gVE9ETzogVGhpcyBicmVha3Mgb24gZW1wdHkgc2xvdHMgbGlrZSBudWxsIGNoaWxkcmVuLiBUaGF0J3NcbiAgICAgICAgLy8gdW5mb3J0dW5hdGUgYmVjYXVzZSBpdCB0cmlnZ2VycyB0aGUgc2xvdyBwYXRoIGFsbCB0aGUgdGltZS4gV2UgbmVlZFxuICAgICAgICAvLyBhIGJldHRlciB3YXkgdG8gY29tbXVuaWNhdGUgd2hldGhlciB0aGlzIHdhcyBhIG1pc3Mgb3IgbnVsbCxcbiAgICAgICAgLy8gYm9vbGVhbiwgdW5kZWZpbmVkLCBldGMuXG4gICAgICAgIGlmIChvbGRGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAgIG9sZEZpYmVyID0gbmV4dE9sZEZpYmVyO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgICAgaWYgKG9sZEZpYmVyICYmIG5ld0ZpYmVyLmFsdGVybmF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIFdlIG1hdGNoZWQgdGhlIHNsb3QsIGJ1dCB3ZSBkaWRuJ3QgcmV1c2UgdGhlIGV4aXN0aW5nIGZpYmVyLCBzbyB3ZVxuICAgICAgICAgIC8vIG5lZWQgdG8gZGVsZXRlIHRoZSBleGlzdGluZyBjaGlsZC5cbiAgICAgICAgICBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgb2xkRmliZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsYXN0UGxhY2VkSW5kZXggPSBwbGFjZUNoaWxkKG5ld0ZpYmVyLCBsYXN0UGxhY2VkSW5kZXgsIG5ld0lkeCk7XG4gICAgICBpZiAocHJldmlvdXNOZXdGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAvLyBUT0RPOiBNb3ZlIG91dCBvZiB0aGUgbG9vcC4gVGhpcyBvbmx5IGhhcHBlbnMgZm9yIHRoZSBmaXJzdCBydW4uXG4gICAgICAgIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBuZXdGaWJlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRPRE86IERlZmVyIHNpYmxpbmdzIGlmIHdlJ3JlIG5vdCBhdCB0aGUgcmlnaHQgaW5kZXggZm9yIHRoaXMgc2xvdC5cbiAgICAgICAgLy8gSS5lLiBpZiB3ZSBoYWQgbnVsbCB2YWx1ZXMgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gZGVmZXIgdGhpc1xuICAgICAgICAvLyBmb3IgZWFjaCBudWxsIHZhbHVlLiBIb3dldmVyLCB3ZSBhbHNvIGRvbid0IHdhbnQgdG8gY2FsbCB1cGRhdGVTbG90XG4gICAgICAgIC8vIHdpdGggdGhlIHByZXZpb3VzIG9uZS5cbiAgICAgICAgcHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gbmV3RmliZXI7XG4gICAgICB9XG4gICAgICBwcmV2aW91c05ld0ZpYmVyID0gbmV3RmliZXI7XG4gICAgICBvbGRGaWJlciA9IG5leHRPbGRGaWJlcjtcbiAgICB9XG5cbiAgICBpZiAobmV3SWR4ID09PSBuZXdDaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgIC8vIFdlJ3ZlIHJlYWNoZWQgdGhlIGVuZCBvZiB0aGUgbmV3IGNoaWxkcmVuLiBXZSBjYW4gZGVsZXRlIHRoZSByZXN0LlxuICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIG9sZEZpYmVyKTtcbiAgICAgIHJldHVybiByZXN1bHRpbmdGaXJzdENoaWxkO1xuICAgIH1cblxuICAgIGlmIChvbGRGaWJlciA9PT0gbnVsbCkge1xuICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhbnkgbW9yZSBleGlzdGluZyBjaGlsZHJlbiB3ZSBjYW4gY2hvb3NlIGEgZmFzdCBwYXRoXG4gICAgICAvLyBzaW5jZSB0aGUgcmVzdCB3aWxsIGFsbCBiZSBpbnNlcnRpb25zLlxuICAgICAgZm9yICg7IG5ld0lkeCA8IG5ld0NoaWxkcmVuLmxlbmd0aDsgbmV3SWR4KyspIHtcbiAgICAgICAgdmFyIF9uZXdGaWJlciA9IGNyZWF0ZUNoaWxkKHJldHVybkZpYmVyLCBuZXdDaGlsZHJlbltuZXdJZHhdLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgIGlmICghX25ld0ZpYmVyKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdFBsYWNlZEluZGV4ID0gcGxhY2VDaGlsZChfbmV3RmliZXIsIGxhc3RQbGFjZWRJbmRleCwgbmV3SWR4KTtcbiAgICAgICAgaWYgKHByZXZpb3VzTmV3RmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBUT0RPOiBNb3ZlIG91dCBvZiB0aGUgbG9vcC4gVGhpcyBvbmx5IGhhcHBlbnMgZm9yIHRoZSBmaXJzdCBydW4uXG4gICAgICAgICAgcmVzdWx0aW5nRmlyc3RDaGlsZCA9IF9uZXdGaWJlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcmV2aW91c05ld0ZpYmVyLnNpYmxpbmcgPSBfbmV3RmliZXI7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXNOZXdGaWJlciA9IF9uZXdGaWJlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRpbmdGaXJzdENoaWxkO1xuICAgIH1cblxuICAgIC8vIEFkZCBhbGwgY2hpbGRyZW4gdG8gYSBrZXkgbWFwIGZvciBxdWljayBsb29rdXBzLlxuICAgIHZhciBleGlzdGluZ0NoaWxkcmVuID0gbWFwUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIG9sZEZpYmVyKTtcblxuICAgIC8vIEtlZXAgc2Nhbm5pbmcgYW5kIHVzZSB0aGUgbWFwIHRvIHJlc3RvcmUgZGVsZXRlZCBpdGVtcyBhcyBtb3Zlcy5cbiAgICBmb3IgKDsgbmV3SWR4IDwgbmV3Q2hpbGRyZW4ubGVuZ3RoOyBuZXdJZHgrKykge1xuICAgICAgdmFyIF9uZXdGaWJlcjIgPSB1cGRhdGVGcm9tTWFwKGV4aXN0aW5nQ2hpbGRyZW4sIHJldHVybkZpYmVyLCBuZXdJZHgsIG5ld0NoaWxkcmVuW25ld0lkeF0sIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGlmIChfbmV3RmliZXIyKSB7XG4gICAgICAgIGlmIChzaG91bGRUcmFja1NpZGVFZmZlY3RzKSB7XG4gICAgICAgICAgaWYgKF9uZXdGaWJlcjIuYWx0ZXJuYXRlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBUaGUgbmV3IGZpYmVyIGlzIGEgd29yayBpbiBwcm9ncmVzcywgYnV0IGlmIHRoZXJlIGV4aXN0cyBhXG4gICAgICAgICAgICAvLyBjdXJyZW50LCB0aGF0IG1lYW5zIHRoYXQgd2UgcmV1c2VkIHRoZSBmaWJlci4gV2UgbmVlZCB0byBkZWxldGVcbiAgICAgICAgICAgIC8vIGl0IGZyb20gdGhlIGNoaWxkIGxpc3Qgc28gdGhhdCB3ZSBkb24ndCBhZGQgaXQgdG8gdGhlIGRlbGV0aW9uXG4gICAgICAgICAgICAvLyBsaXN0LlxuICAgICAgICAgICAgZXhpc3RpbmdDaGlsZHJlblsnZGVsZXRlJ10oX25ld0ZpYmVyMi5rZXkgPT09IG51bGwgPyBuZXdJZHggOiBfbmV3RmliZXIyLmtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxhc3RQbGFjZWRJbmRleCA9IHBsYWNlQ2hpbGQoX25ld0ZpYmVyMiwgbGFzdFBsYWNlZEluZGV4LCBuZXdJZHgpO1xuICAgICAgICBpZiAocHJldmlvdXNOZXdGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAgIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBfbmV3RmliZXIyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByZXZpb3VzTmV3RmliZXIuc2libGluZyA9IF9uZXdGaWJlcjI7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXNOZXdGaWJlciA9IF9uZXdGaWJlcjI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgIC8vIEFueSBleGlzdGluZyBjaGlsZHJlbiB0aGF0IHdlcmVuJ3QgY29uc3VtZWQgYWJvdmUgd2VyZSBkZWxldGVkLiBXZSBuZWVkXG4gICAgICAvLyB0byBhZGQgdGhlbSB0byB0aGUgZGVsZXRpb24gbGlzdC5cbiAgICAgIGV4aXN0aW5nQ2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBjaGlsZCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY29uY2lsZUNoaWxkcmVuSXRlcmF0b3IocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBuZXdDaGlsZHJlbkl0ZXJhYmxlLCBleHBpcmF0aW9uVGltZSkge1xuICAgIC8vIFRoaXMgaXMgdGhlIHNhbWUgaW1wbGVtZW50YXRpb24gYXMgcmVjb25jaWxlQ2hpbGRyZW5BcnJheSgpLFxuICAgIC8vIGJ1dCB1c2luZyB0aGUgaXRlcmF0b3IgaW5zdGVhZC5cblxuICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihuZXdDaGlsZHJlbkl0ZXJhYmxlKTtcbiAgICAhKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSA/IGludmFyaWFudChmYWxzZSwgJ0FuIG9iamVjdCBpcyBub3QgYW4gaXRlcmFibGUuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG5cbiAgICB7XG4gICAgICAvLyBXYXJuIGFib3V0IHVzaW5nIE1hcHMgYXMgY2hpbGRyZW5cbiAgICAgIGlmICh0eXBlb2YgbmV3Q2hpbGRyZW5JdGVyYWJsZS5lbnRyaWVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBwb3NzaWJsZU1hcCA9IG5ld0NoaWxkcmVuSXRlcmFibGU7XG4gICAgICAgIGlmIChwb3NzaWJsZU1hcC5lbnRyaWVzID09PSBpdGVyYXRvckZuKSB7XG4gICAgICAgICAgd2FybmluZyhkaWRXYXJuQWJvdXRNYXBzLCAnVXNpbmcgTWFwcyBhcyBjaGlsZHJlbiBpcyB1bnN1cHBvcnRlZCBhbmQgd2lsbCBsaWtlbHkgeWllbGQgJyArICd1bmV4cGVjdGVkIHJlc3VsdHMuIENvbnZlcnQgaXQgdG8gYSBzZXF1ZW5jZS9pdGVyYWJsZSBvZiBrZXllZCAnICsgJ1JlYWN0RWxlbWVudHMgaW5zdGVhZC4lcycsIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMigpKTtcbiAgICAgICAgICBkaWRXYXJuQWJvdXRNYXBzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBGaXJzdCwgdmFsaWRhdGUga2V5cy5cbiAgICAgIC8vIFdlJ2xsIGdldCBhIGRpZmZlcmVudCBpdGVyYXRvciBsYXRlciBmb3IgdGhlIG1haW4gcGFzcy5cbiAgICAgIHZhciBfbmV3Q2hpbGRyZW4gPSBpdGVyYXRvckZuLmNhbGwobmV3Q2hpbGRyZW5JdGVyYWJsZSk7XG4gICAgICBpZiAoX25ld0NoaWxkcmVuKSB7XG4gICAgICAgIHZhciBrbm93bktleXMgPSBudWxsO1xuICAgICAgICB2YXIgX3N0ZXAgPSBfbmV3Q2hpbGRyZW4ubmV4dCgpO1xuICAgICAgICBmb3IgKDsgIV9zdGVwLmRvbmU7IF9zdGVwID0gX25ld0NoaWxkcmVuLm5leHQoKSkge1xuICAgICAgICAgIHZhciBjaGlsZCA9IF9zdGVwLnZhbHVlO1xuICAgICAgICAgIGtub3duS2V5cyA9IHdhcm5PbkludmFsaWRLZXkoY2hpbGQsIGtub3duS2V5cyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbmV3Q2hpbGRyZW4gPSBpdGVyYXRvckZuLmNhbGwobmV3Q2hpbGRyZW5JdGVyYWJsZSk7XG4gICAgIShuZXdDaGlsZHJlbiAhPSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ0FuIGl0ZXJhYmxlIG9iamVjdCBwcm92aWRlZCBubyBpdGVyYXRvci4nKSA6IHZvaWQgMDtcblxuICAgIHZhciByZXN1bHRpbmdGaXJzdENoaWxkID0gbnVsbDtcbiAgICB2YXIgcHJldmlvdXNOZXdGaWJlciA9IG51bGw7XG5cbiAgICB2YXIgb2xkRmliZXIgPSBjdXJyZW50Rmlyc3RDaGlsZDtcbiAgICB2YXIgbGFzdFBsYWNlZEluZGV4ID0gMDtcbiAgICB2YXIgbmV3SWR4ID0gMDtcbiAgICB2YXIgbmV4dE9sZEZpYmVyID0gbnVsbDtcblxuICAgIHZhciBzdGVwID0gbmV3Q2hpbGRyZW4ubmV4dCgpO1xuICAgIGZvciAoOyBvbGRGaWJlciAhPT0gbnVsbCAmJiAhc3RlcC5kb25lOyBuZXdJZHgrKywgc3RlcCA9IG5ld0NoaWxkcmVuLm5leHQoKSkge1xuICAgICAgaWYgKG9sZEZpYmVyLmluZGV4ID4gbmV3SWR4KSB7XG4gICAgICAgIG5leHRPbGRGaWJlciA9IG9sZEZpYmVyO1xuICAgICAgICBvbGRGaWJlciA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0T2xkRmliZXIgPSBvbGRGaWJlci5zaWJsaW5nO1xuICAgICAgfVxuICAgICAgdmFyIG5ld0ZpYmVyID0gdXBkYXRlU2xvdChyZXR1cm5GaWJlciwgb2xkRmliZXIsIHN0ZXAudmFsdWUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGlmIChuZXdGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAvLyBUT0RPOiBUaGlzIGJyZWFrcyBvbiBlbXB0eSBzbG90cyBsaWtlIG51bGwgY2hpbGRyZW4uIFRoYXQnc1xuICAgICAgICAvLyB1bmZvcnR1bmF0ZSBiZWNhdXNlIGl0IHRyaWdnZXJzIHRoZSBzbG93IHBhdGggYWxsIHRoZSB0aW1lLiBXZSBuZWVkXG4gICAgICAgIC8vIGEgYmV0dGVyIHdheSB0byBjb21tdW5pY2F0ZSB3aGV0aGVyIHRoaXMgd2FzIGEgbWlzcyBvciBudWxsLFxuICAgICAgICAvLyBib29sZWFuLCB1bmRlZmluZWQsIGV0Yy5cbiAgICAgICAgaWYgKCFvbGRGaWJlcikge1xuICAgICAgICAgIG9sZEZpYmVyID0gbmV4dE9sZEZpYmVyO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgICAgaWYgKG9sZEZpYmVyICYmIG5ld0ZpYmVyLmFsdGVybmF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIFdlIG1hdGNoZWQgdGhlIHNsb3QsIGJ1dCB3ZSBkaWRuJ3QgcmV1c2UgdGhlIGV4aXN0aW5nIGZpYmVyLCBzbyB3ZVxuICAgICAgICAgIC8vIG5lZWQgdG8gZGVsZXRlIHRoZSBleGlzdGluZyBjaGlsZC5cbiAgICAgICAgICBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgb2xkRmliZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsYXN0UGxhY2VkSW5kZXggPSBwbGFjZUNoaWxkKG5ld0ZpYmVyLCBsYXN0UGxhY2VkSW5kZXgsIG5ld0lkeCk7XG4gICAgICBpZiAocHJldmlvdXNOZXdGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAvLyBUT0RPOiBNb3ZlIG91dCBvZiB0aGUgbG9vcC4gVGhpcyBvbmx5IGhhcHBlbnMgZm9yIHRoZSBmaXJzdCBydW4uXG4gICAgICAgIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBuZXdGaWJlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRPRE86IERlZmVyIHNpYmxpbmdzIGlmIHdlJ3JlIG5vdCBhdCB0aGUgcmlnaHQgaW5kZXggZm9yIHRoaXMgc2xvdC5cbiAgICAgICAgLy8gSS5lLiBpZiB3ZSBoYWQgbnVsbCB2YWx1ZXMgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gZGVmZXIgdGhpc1xuICAgICAgICAvLyBmb3IgZWFjaCBudWxsIHZhbHVlLiBIb3dldmVyLCB3ZSBhbHNvIGRvbid0IHdhbnQgdG8gY2FsbCB1cGRhdGVTbG90XG4gICAgICAgIC8vIHdpdGggdGhlIHByZXZpb3VzIG9uZS5cbiAgICAgICAgcHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gbmV3RmliZXI7XG4gICAgICB9XG4gICAgICBwcmV2aW91c05ld0ZpYmVyID0gbmV3RmliZXI7XG4gICAgICBvbGRGaWJlciA9IG5leHRPbGRGaWJlcjtcbiAgICB9XG5cbiAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAvLyBXZSd2ZSByZWFjaGVkIHRoZSBlbmQgb2YgdGhlIG5ldyBjaGlsZHJlbi4gV2UgY2FuIGRlbGV0ZSB0aGUgcmVzdC5cbiAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBvbGRGaWJlcik7XG4gICAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICBpZiAob2xkRmliZXIgPT09IG51bGwpIHtcbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW55IG1vcmUgZXhpc3RpbmcgY2hpbGRyZW4gd2UgY2FuIGNob29zZSBhIGZhc3QgcGF0aFxuICAgICAgLy8gc2luY2UgdGhlIHJlc3Qgd2lsbCBhbGwgYmUgaW5zZXJ0aW9ucy5cbiAgICAgIGZvciAoOyAhc3RlcC5kb25lOyBuZXdJZHgrKywgc3RlcCA9IG5ld0NoaWxkcmVuLm5leHQoKSkge1xuICAgICAgICB2YXIgX25ld0ZpYmVyMyA9IGNyZWF0ZUNoaWxkKHJldHVybkZpYmVyLCBzdGVwLnZhbHVlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgIGlmIChfbmV3RmliZXIzID09PSBudWxsKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdFBsYWNlZEluZGV4ID0gcGxhY2VDaGlsZChfbmV3RmliZXIzLCBsYXN0UGxhY2VkSW5kZXgsIG5ld0lkeCk7XG4gICAgICAgIGlmIChwcmV2aW91c05ld0ZpYmVyID09PSBudWxsKSB7XG4gICAgICAgICAgLy8gVE9ETzogTW92ZSBvdXQgb2YgdGhlIGxvb3AuIFRoaXMgb25seSBoYXBwZW5zIGZvciB0aGUgZmlyc3QgcnVuLlxuICAgICAgICAgIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBfbmV3RmliZXIzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByZXZpb3VzTmV3RmliZXIuc2libGluZyA9IF9uZXdGaWJlcjM7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXNOZXdGaWJlciA9IF9uZXdGaWJlcjM7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICAvLyBBZGQgYWxsIGNoaWxkcmVuIHRvIGEga2V5IG1hcCBmb3IgcXVpY2sgbG9va3Vwcy5cbiAgICB2YXIgZXhpc3RpbmdDaGlsZHJlbiA9IG1hcFJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBvbGRGaWJlcik7XG5cbiAgICAvLyBLZWVwIHNjYW5uaW5nIGFuZCB1c2UgdGhlIG1hcCB0byByZXN0b3JlIGRlbGV0ZWQgaXRlbXMgYXMgbW92ZXMuXG4gICAgZm9yICg7ICFzdGVwLmRvbmU7IG5ld0lkeCsrLCBzdGVwID0gbmV3Q2hpbGRyZW4ubmV4dCgpKSB7XG4gICAgICB2YXIgX25ld0ZpYmVyNCA9IHVwZGF0ZUZyb21NYXAoZXhpc3RpbmdDaGlsZHJlbiwgcmV0dXJuRmliZXIsIG5ld0lkeCwgc3RlcC52YWx1ZSwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgaWYgKF9uZXdGaWJlcjQgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgICAgICBpZiAoX25ld0ZpYmVyNC5hbHRlcm5hdGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFRoZSBuZXcgZmliZXIgaXMgYSB3b3JrIGluIHByb2dyZXNzLCBidXQgaWYgdGhlcmUgZXhpc3RzIGFcbiAgICAgICAgICAgIC8vIGN1cnJlbnQsIHRoYXQgbWVhbnMgdGhhdCB3ZSByZXVzZWQgdGhlIGZpYmVyLiBXZSBuZWVkIHRvIGRlbGV0ZVxuICAgICAgICAgICAgLy8gaXQgZnJvbSB0aGUgY2hpbGQgbGlzdCBzbyB0aGF0IHdlIGRvbid0IGFkZCBpdCB0byB0aGUgZGVsZXRpb25cbiAgICAgICAgICAgIC8vIGxpc3QuXG4gICAgICAgICAgICBleGlzdGluZ0NoaWxkcmVuWydkZWxldGUnXShfbmV3RmliZXI0LmtleSA9PT0gbnVsbCA/IG5ld0lkeCA6IF9uZXdGaWJlcjQua2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGFzdFBsYWNlZEluZGV4ID0gcGxhY2VDaGlsZChfbmV3RmliZXI0LCBsYXN0UGxhY2VkSW5kZXgsIG5ld0lkeCk7XG4gICAgICAgIGlmIChwcmV2aW91c05ld0ZpYmVyID09PSBudWxsKSB7XG4gICAgICAgICAgcmVzdWx0aW5nRmlyc3RDaGlsZCA9IF9uZXdGaWJlcjQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gX25ld0ZpYmVyNDtcbiAgICAgICAgfVxuICAgICAgICBwcmV2aW91c05ld0ZpYmVyID0gX25ld0ZpYmVyNDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykge1xuICAgICAgLy8gQW55IGV4aXN0aW5nIGNoaWxkcmVuIHRoYXQgd2VyZW4ndCBjb25zdW1lZCBhYm92ZSB3ZXJlIGRlbGV0ZWQuIFdlIG5lZWRcbiAgICAgIC8vIHRvIGFkZCB0aGVtIHRvIHRoZSBkZWxldGlvbiBsaXN0LlxuICAgICAgZXhpc3RpbmdDaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICByZXR1cm4gZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGNoaWxkKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRpbmdGaXJzdENoaWxkO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVjb25jaWxlU2luZ2xlVGV4dE5vZGUocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCB0ZXh0Q29udGVudCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICAvLyBUaGVyZSdzIG5vIG5lZWQgdG8gY2hlY2sgZm9yIGtleXMgb24gdGV4dCBub2RlcyBzaW5jZSB3ZSBkb24ndCBoYXZlIGFcbiAgICAvLyB3YXkgdG8gZGVmaW5lIHRoZW0uXG4gICAgaWYgKGN1cnJlbnRGaXJzdENoaWxkICE9PSBudWxsICYmIGN1cnJlbnRGaXJzdENoaWxkLnRhZyA9PT0gSG9zdFRleHQpIHtcbiAgICAgIC8vIFdlIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBub2RlIHNvIGxldCdzIGp1c3QgdXBkYXRlIGl0IGFuZCBkZWxldGVcbiAgICAgIC8vIHRoZSByZXN0LlxuICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLnNpYmxpbmcpO1xuICAgICAgdmFyIGV4aXN0aW5nID0gdXNlRmliZXIoY3VycmVudEZpcnN0Q2hpbGQsIHRleHRDb250ZW50LCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBleGlzdGluZ1sncmV0dXJuJ10gPSByZXR1cm5GaWJlcjtcbiAgICAgIHJldHVybiBleGlzdGluZztcbiAgICB9XG4gICAgLy8gVGhlIGV4aXN0aW5nIGZpcnN0IGNoaWxkIGlzIG5vdCBhIHRleHQgbm9kZSBzbyB3ZSBuZWVkIHRvIGNyZWF0ZSBvbmVcbiAgICAvLyBhbmQgZGVsZXRlIHRoZSBleGlzdGluZyBvbmVzLlxuICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCk7XG4gICAgdmFyIGNyZWF0ZWQgPSBjcmVhdGVGaWJlckZyb21UZXh0KHRleHRDb250ZW50LCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgY3JlYXRlZFsncmV0dXJuJ10gPSByZXR1cm5GaWJlcjtcbiAgICByZXR1cm4gY3JlYXRlZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY29uY2lsZVNpbmdsZUVsZW1lbnQocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBlbGVtZW50LCBleHBpcmF0aW9uVGltZSkge1xuICAgIHZhciBrZXkgPSBlbGVtZW50LmtleTtcbiAgICB2YXIgY2hpbGQgPSBjdXJyZW50Rmlyc3RDaGlsZDtcbiAgICB3aGlsZSAoY2hpbGQgIT09IG51bGwpIHtcbiAgICAgIC8vIFRPRE86IElmIGtleSA9PT0gbnVsbCBhbmQgY2hpbGQua2V5ID09PSBudWxsLCB0aGVuIHRoaXMgb25seSBhcHBsaWVzIHRvXG4gICAgICAvLyB0aGUgZmlyc3QgaXRlbSBpbiB0aGUgbGlzdC5cbiAgICAgIGlmIChjaGlsZC5rZXkgPT09IGtleSkge1xuICAgICAgICBpZiAoY2hpbGQudGFnID09PSBGcmFnbWVudCA/IGVsZW1lbnQudHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSA6IGNoaWxkLnR5cGUgPT09IGVsZW1lbnQudHlwZSkge1xuICAgICAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjaGlsZC5zaWJsaW5nKTtcbiAgICAgICAgICB2YXIgZXhpc3RpbmcgPSB1c2VGaWJlcihjaGlsZCwgZWxlbWVudC50eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFID8gZWxlbWVudC5wcm9wcy5jaGlsZHJlbiA6IGVsZW1lbnQucHJvcHMsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICBleGlzdGluZy5yZWYgPSBjb2VyY2VSZWYocmV0dXJuRmliZXIsIGNoaWxkLCBlbGVtZW50KTtcbiAgICAgICAgICBleGlzdGluZ1sncmV0dXJuJ10gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBleGlzdGluZy5fZGVidWdTb3VyY2UgPSBlbGVtZW50Ll9zb3VyY2U7XG4gICAgICAgICAgICBleGlzdGluZy5fZGVidWdPd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGNoaWxkKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGNoaWxkKTtcbiAgICAgIH1cbiAgICAgIGNoaWxkID0gY2hpbGQuc2libGluZztcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudC50eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFKSB7XG4gICAgICB2YXIgY3JlYXRlZCA9IGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KGVsZW1lbnQucHJvcHMuY2hpbGRyZW4sIHJldHVybkZpYmVyLm1vZGUsIGV4cGlyYXRpb25UaW1lLCBlbGVtZW50LmtleSk7XG4gICAgICBjcmVhdGVkWydyZXR1cm4nXSA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIGNyZWF0ZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBfY3JlYXRlZDQgPSBjcmVhdGVGaWJlckZyb21FbGVtZW50KGVsZW1lbnQsIHJldHVybkZpYmVyLm1vZGUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIF9jcmVhdGVkNC5yZWYgPSBjb2VyY2VSZWYocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBlbGVtZW50KTtcbiAgICAgIF9jcmVhdGVkNFsncmV0dXJuJ10gPSByZXR1cm5GaWJlcjtcbiAgICAgIHJldHVybiBfY3JlYXRlZDQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVjb25jaWxlU2luZ2xlUG9ydGFsKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCwgcG9ydGFsLCBleHBpcmF0aW9uVGltZSkge1xuICAgIHZhciBrZXkgPSBwb3J0YWwua2V5O1xuICAgIHZhciBjaGlsZCA9IGN1cnJlbnRGaXJzdENoaWxkO1xuICAgIHdoaWxlIChjaGlsZCAhPT0gbnVsbCkge1xuICAgICAgLy8gVE9ETzogSWYga2V5ID09PSBudWxsIGFuZCBjaGlsZC5rZXkgPT09IG51bGwsIHRoZW4gdGhpcyBvbmx5IGFwcGxpZXMgdG9cbiAgICAgIC8vIHRoZSBmaXJzdCBpdGVtIGluIHRoZSBsaXN0LlxuICAgICAgaWYgKGNoaWxkLmtleSA9PT0ga2V5KSB7XG4gICAgICAgIGlmIChjaGlsZC50YWcgPT09IEhvc3RQb3J0YWwgJiYgY2hpbGQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8gPT09IHBvcnRhbC5jb250YWluZXJJbmZvICYmIGNoaWxkLnN0YXRlTm9kZS5pbXBsZW1lbnRhdGlvbiA9PT0gcG9ydGFsLmltcGxlbWVudGF0aW9uKSB7XG4gICAgICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGNoaWxkLnNpYmxpbmcpO1xuICAgICAgICAgIHZhciBleGlzdGluZyA9IHVzZUZpYmVyKGNoaWxkLCBwb3J0YWwuY2hpbGRyZW4gfHwgW10sIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICBleGlzdGluZ1sncmV0dXJuJ10gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGNoaWxkKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGNoaWxkKTtcbiAgICAgIH1cbiAgICAgIGNoaWxkID0gY2hpbGQuc2libGluZztcbiAgICB9XG5cbiAgICB2YXIgY3JlYXRlZCA9IGNyZWF0ZUZpYmVyRnJvbVBvcnRhbChwb3J0YWwsIHJldHVybkZpYmVyLm1vZGUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICBjcmVhdGVkWydyZXR1cm4nXSA9IHJldHVybkZpYmVyO1xuICAgIHJldHVybiBjcmVhdGVkO1xuICB9XG5cbiAgLy8gVGhpcyBBUEkgd2lsbCB0YWcgdGhlIGNoaWxkcmVuIHdpdGggdGhlIHNpZGUtZWZmZWN0IG9mIHRoZSByZWNvbmNpbGlhdGlvblxuICAvLyBpdHNlbGYuIFRoZXkgd2lsbCBiZSBhZGRlZCB0byB0aGUgc2lkZS1lZmZlY3QgbGlzdCBhcyB3ZSBwYXNzIHRocm91Z2ggdGhlXG4gIC8vIGNoaWxkcmVuIGFuZCB0aGUgcGFyZW50LlxuICBmdW5jdGlvbiByZWNvbmNpbGVDaGlsZEZpYmVycyhyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQsIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSkge1xuICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgbm90IHJlY3Vyc2l2ZS5cbiAgICAvLyBJZiB0aGUgdG9wIGxldmVsIGl0ZW0gaXMgYW4gYXJyYXksIHdlIHRyZWF0IGl0IGFzIGEgc2V0IG9mIGNoaWxkcmVuLFxuICAgIC8vIG5vdCBhcyBhIGZyYWdtZW50LiBOZXN0ZWQgYXJyYXlzIG9uIHRoZSBvdGhlciBoYW5kIHdpbGwgYmUgdHJlYXRlZCBhc1xuICAgIC8vIGZyYWdtZW50IG5vZGVzLiBSZWN1cnNpb24gaGFwcGVucyBhdCB0aGUgbm9ybWFsIGZsb3cuXG5cbiAgICAvLyBIYW5kbGUgdG9wIGxldmVsIHVua2V5ZWQgZnJhZ21lbnRzIGFzIGlmIHRoZXkgd2VyZSBhcnJheXMuXG4gICAgLy8gVGhpcyBsZWFkcyB0byBhbiBhbWJpZ3VpdHkgYmV0d2VlbiA8PntbLi4uXX08Lz4gYW5kIDw+Li4uPC8+LlxuICAgIC8vIFdlIHRyZWF0IHRoZSBhbWJpZ3VvdXMgY2FzZXMgYWJvdmUgdGhlIHNhbWUuXG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ29iamVjdCcgJiYgbmV3Q2hpbGQgIT09IG51bGwgJiYgbmV3Q2hpbGQudHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSAmJiBuZXdDaGlsZC5rZXkgPT09IG51bGwpIHtcbiAgICAgIG5ld0NoaWxkID0gbmV3Q2hpbGQucHJvcHMuY2hpbGRyZW47XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIG9iamVjdCB0eXBlc1xuICAgIHZhciBpc09iamVjdCA9IHR5cGVvZiBuZXdDaGlsZCA9PT0gJ29iamVjdCcgJiYgbmV3Q2hpbGQgIT09IG51bGw7XG5cbiAgICBpZiAoaXNPYmplY3QpIHtcbiAgICAgIHN3aXRjaCAobmV3Q2hpbGQuJCR0eXBlb2YpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIHBsYWNlU2luZ2xlQ2hpbGQocmVjb25jaWxlU2luZ2xlRWxlbWVudChyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQsIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSkpO1xuICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgIHJldHVybiBwbGFjZVNpbmdsZUNoaWxkKHJlY29uY2lsZVNpbmdsZVBvcnRhbChyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQsIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBuZXdDaGlsZCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiBwbGFjZVNpbmdsZUNoaWxkKHJlY29uY2lsZVNpbmdsZVRleHROb2RlKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCwgJycgKyBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpKTtcbiAgICB9XG5cbiAgICBpZiAoaXNBcnJheSQxKG5ld0NoaWxkKSkge1xuICAgICAgcmV0dXJuIHJlY29uY2lsZUNoaWxkcmVuQXJyYXkocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpO1xuICAgIH1cblxuICAgIGlmIChnZXRJdGVyYXRvckZuKG5ld0NoaWxkKSkge1xuICAgICAgcmV0dXJuIHJlY29uY2lsZUNoaWxkcmVuSXRlcmF0b3IocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpO1xuICAgIH1cblxuICAgIGlmIChpc09iamVjdCkge1xuICAgICAgdGhyb3dPbkludmFsaWRPYmplY3RUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgfVxuXG4gICAge1xuICAgICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB3YXJuT25GdW5jdGlvblR5cGUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIElmIHRoZSBuZXcgY2hpbGQgaXMgdW5kZWZpbmVkLCBhbmQgdGhlIHJldHVybiBmaWJlciBpcyBhIGNvbXBvc2l0ZVxuICAgICAgLy8gY29tcG9uZW50LCB0aHJvdyBhbiBlcnJvci4gSWYgRmliZXIgcmV0dXJuIHR5cGVzIGFyZSBkaXNhYmxlZCxcbiAgICAgIC8vIHdlIGFscmVhZHkgdGhyZXcgYWJvdmUuXG4gICAgICBzd2l0Y2ggKHJldHVybkZpYmVyLnRhZykge1xuICAgICAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gcmV0dXJuRmliZXIuc3RhdGVOb2RlO1xuICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UucmVuZGVyLl9pc01vY2tGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIFdlIGFsbG93IGF1dG8tbW9ja3MgdG8gcHJvY2VlZCBhcyBpZiB0aGV5J3JlIHJldHVybmluZyBudWxsLlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAvLyBJbnRlbnRpb25hbGx5IGZhbGwgdGhyb3VnaCB0byB0aGUgbmV4dCBjYXNlLCB3aGljaCBoYW5kbGVzIGJvdGhcbiAgICAgICAgLy8gZnVuY3Rpb25zIGFuZCBjbGFzc2VzXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZWQgbm8tZmFsbHRocm91Z2hcbiAgICAgICAgY2FzZSBGdW5jdGlvbmFsQ29tcG9uZW50OlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHZhciBDb21wb25lbnQgPSByZXR1cm5GaWJlci50eXBlO1xuICAgICAgICAgICAgaW52YXJpYW50KGZhbHNlLCAnJXMoLi4uKTogTm90aGluZyB3YXMgcmV0dXJuZWQgZnJvbSByZW5kZXIuIFRoaXMgdXN1YWxseSBtZWFucyBhIHJldHVybiBzdGF0ZW1lbnQgaXMgbWlzc2luZy4gT3IsIHRvIHJlbmRlciBub3RoaW5nLCByZXR1cm4gbnVsbC4nLCBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWUgfHwgJ0NvbXBvbmVudCcpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZW1haW5pbmcgY2FzZXMgYXJlIGFsbCB0cmVhdGVkIGFzIGVtcHR5LlxuICAgIHJldHVybiBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQpO1xuICB9XG5cbiAgcmV0dXJuIHJlY29uY2lsZUNoaWxkRmliZXJzO1xufVxuXG52YXIgcmVjb25jaWxlQ2hpbGRGaWJlcnMgPSBDaGlsZFJlY29uY2lsZXIodHJ1ZSk7XG52YXIgbW91bnRDaGlsZEZpYmVycyA9IENoaWxkUmVjb25jaWxlcihmYWxzZSk7XG5cbmZ1bmN0aW9uIGNsb25lQ2hpbGRGaWJlcnMoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpIHtcbiAgIShjdXJyZW50ID09PSBudWxsIHx8IHdvcmtJblByb2dyZXNzLmNoaWxkID09PSBjdXJyZW50LmNoaWxkKSA/IGludmFyaWFudChmYWxzZSwgJ1Jlc3VtaW5nIHdvcmsgbm90IHlldCBpbXBsZW1lbnRlZC4nKSA6IHZvaWQgMDtcblxuICBpZiAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPT09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgY3VycmVudENoaWxkID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gIHZhciBuZXdDaGlsZCA9IGNyZWF0ZVdvcmtJblByb2dyZXNzKGN1cnJlbnRDaGlsZCwgY3VycmVudENoaWxkLnBlbmRpbmdQcm9wcywgY3VycmVudENoaWxkLmV4cGlyYXRpb25UaW1lKTtcbiAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBuZXdDaGlsZDtcblxuICBuZXdDaGlsZFsncmV0dXJuJ10gPSB3b3JrSW5Qcm9ncmVzcztcbiAgd2hpbGUgKGN1cnJlbnRDaGlsZC5zaWJsaW5nICE9PSBudWxsKSB7XG4gICAgY3VycmVudENoaWxkID0gY3VycmVudENoaWxkLnNpYmxpbmc7XG4gICAgbmV3Q2hpbGQgPSBuZXdDaGlsZC5zaWJsaW5nID0gY3JlYXRlV29ya0luUHJvZ3Jlc3MoY3VycmVudENoaWxkLCBjdXJyZW50Q2hpbGQucGVuZGluZ1Byb3BzLCBjdXJyZW50Q2hpbGQuZXhwaXJhdGlvblRpbWUpO1xuICAgIG5ld0NoaWxkWydyZXR1cm4nXSA9IHdvcmtJblByb2dyZXNzO1xuICB9XG4gIG5ld0NoaWxkLnNpYmxpbmcgPSBudWxsO1xufVxuXG52YXIgZGlkV2FybkFib3V0QmFkQ2xhc3MgPSB2b2lkIDA7XG52YXIgZGlkV2FybkFib3V0R2V0RGVyaXZlZFN0YXRlT25GdW5jdGlvbmFsQ29tcG9uZW50ID0gdm9pZCAwO1xudmFyIGRpZFdhcm5BYm91dFN0YXRlbGVzc1JlZnMgPSB2b2lkIDA7XG5cbntcbiAgZGlkV2FybkFib3V0QmFkQ2xhc3MgPSB7fTtcbiAgZGlkV2FybkFib3V0R2V0RGVyaXZlZFN0YXRlT25GdW5jdGlvbmFsQ29tcG9uZW50ID0ge307XG4gIGRpZFdhcm5BYm91dFN0YXRlbGVzc1JlZnMgPSB7fTtcbn1cblxudmFyIFJlYWN0RmliZXJCZWdpbldvcmsgPSBmdW5jdGlvbiAoY29uZmlnLCBob3N0Q29udGV4dCwgbGVnYWN5Q29udGV4dCwgbmV3Q29udGV4dCwgaHlkcmF0aW9uQ29udGV4dCwgc2NoZWR1bGVXb3JrLCBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyKSB7XG4gIHZhciBzaG91bGRTZXRUZXh0Q29udGVudCA9IGNvbmZpZy5zaG91bGRTZXRUZXh0Q29udGVudCxcbiAgICAgIHNob3VsZERlcHJpb3JpdGl6ZVN1YnRyZWUgPSBjb25maWcuc2hvdWxkRGVwcmlvcml0aXplU3VidHJlZTtcbiAgdmFyIHB1c2hIb3N0Q29udGV4dCA9IGhvc3RDb250ZXh0LnB1c2hIb3N0Q29udGV4dCxcbiAgICAgIHB1c2hIb3N0Q29udGFpbmVyID0gaG9zdENvbnRleHQucHVzaEhvc3RDb250YWluZXI7XG4gIHZhciBwdXNoUHJvdmlkZXIgPSBuZXdDb250ZXh0LnB1c2hQcm92aWRlcjtcbiAgdmFyIGdldE1hc2tlZENvbnRleHQgPSBsZWdhY3lDb250ZXh0LmdldE1hc2tlZENvbnRleHQsXG4gICAgICBnZXRVbm1hc2tlZENvbnRleHQgPSBsZWdhY3lDb250ZXh0LmdldFVubWFza2VkQ29udGV4dCxcbiAgICAgIGhhc0xlZ2FjeUNvbnRleHRDaGFuZ2VkID0gbGVnYWN5Q29udGV4dC5oYXNDb250ZXh0Q2hhbmdlZCxcbiAgICAgIHB1c2hMZWdhY3lDb250ZXh0UHJvdmlkZXIgPSBsZWdhY3lDb250ZXh0LnB1c2hDb250ZXh0UHJvdmlkZXIsXG4gICAgICBwdXNoVG9wTGV2ZWxDb250ZXh0T2JqZWN0ID0gbGVnYWN5Q29udGV4dC5wdXNoVG9wTGV2ZWxDb250ZXh0T2JqZWN0LFxuICAgICAgaW52YWxpZGF0ZUNvbnRleHRQcm92aWRlciA9IGxlZ2FjeUNvbnRleHQuaW52YWxpZGF0ZUNvbnRleHRQcm92aWRlcjtcbiAgdmFyIGVudGVySHlkcmF0aW9uU3RhdGUgPSBoeWRyYXRpb25Db250ZXh0LmVudGVySHlkcmF0aW9uU3RhdGUsXG4gICAgICByZXNldEh5ZHJhdGlvblN0YXRlID0gaHlkcmF0aW9uQ29udGV4dC5yZXNldEh5ZHJhdGlvblN0YXRlLFxuICAgICAgdHJ5VG9DbGFpbU5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBoeWRyYXRpb25Db250ZXh0LnRyeVRvQ2xhaW1OZXh0SHlkcmF0YWJsZUluc3RhbmNlO1xuXG4gIHZhciBfUmVhY3RGaWJlckNsYXNzQ29tcG8gPSBSZWFjdEZpYmVyQ2xhc3NDb21wb25lbnQobGVnYWN5Q29udGV4dCwgc2NoZWR1bGVXb3JrLCBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyLCBtZW1vaXplUHJvcHMsIG1lbW9pemVTdGF0ZSksXG4gICAgICBhZG9wdENsYXNzSW5zdGFuY2UgPSBfUmVhY3RGaWJlckNsYXNzQ29tcG8uYWRvcHRDbGFzc0luc3RhbmNlLFxuICAgICAgY2FsbEdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IF9SZWFjdEZpYmVyQ2xhc3NDb21wby5jYWxsR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLFxuICAgICAgY29uc3RydWN0Q2xhc3NJbnN0YW5jZSA9IF9SZWFjdEZpYmVyQ2xhc3NDb21wby5jb25zdHJ1Y3RDbGFzc0luc3RhbmNlLFxuICAgICAgbW91bnRDbGFzc0luc3RhbmNlID0gX1JlYWN0RmliZXJDbGFzc0NvbXBvLm1vdW50Q2xhc3NJbnN0YW5jZSxcbiAgICAgIHJlc3VtZU1vdW50Q2xhc3NJbnN0YW5jZSA9IF9SZWFjdEZpYmVyQ2xhc3NDb21wby5yZXN1bWVNb3VudENsYXNzSW5zdGFuY2UsXG4gICAgICB1cGRhdGVDbGFzc0luc3RhbmNlID0gX1JlYWN0RmliZXJDbGFzc0NvbXBvLnVwZGF0ZUNsYXNzSW5zdGFuY2U7XG5cbiAgLy8gVE9ETzogUmVtb3ZlIHRoaXMgYW5kIHVzZSByZWNvbmNpbGVDaGlsZHJlbkF0RXhwaXJhdGlvblRpbWUgZGlyZWN0bHkuXG5cblxuICBmdW5jdGlvbiByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKSB7XG4gICAgcmVjb25jaWxlQ2hpbGRyZW5BdEV4cGlyYXRpb25UaW1lKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4sIHdvcmtJblByb2dyZXNzLmV4cGlyYXRpb25UaW1lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY29uY2lsZUNoaWxkcmVuQXRFeHBpcmF0aW9uVGltZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgIGlmIChjdXJyZW50ID09PSBudWxsKSB7XG4gICAgICAvLyBJZiB0aGlzIGlzIGEgZnJlc2ggbmV3IGNvbXBvbmVudCB0aGF0IGhhc24ndCBiZWVuIHJlbmRlcmVkIHlldCwgd2VcbiAgICAgIC8vIHdvbid0IHVwZGF0ZSBpdHMgY2hpbGQgc2V0IGJ5IGFwcGx5aW5nIG1pbmltYWwgc2lkZS1lZmZlY3RzLiBJbnN0ZWFkLFxuICAgICAgLy8gd2Ugd2lsbCBhZGQgdGhlbSBhbGwgdG8gdGhlIGNoaWxkIGJlZm9yZSBpdCBnZXRzIHJlbmRlcmVkLiBUaGF0IG1lYW5zXG4gICAgICAvLyB3ZSBjYW4gb3B0aW1pemUgdGhpcyByZWNvbmNpbGlhdGlvbiBwYXNzIGJ5IG5vdCB0cmFja2luZyBzaWRlLWVmZmVjdHMuXG4gICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IG1vdW50Q2hpbGRGaWJlcnMod29ya0luUHJvZ3Jlc3MsIG51bGwsIG5leHRDaGlsZHJlbiwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiB0aGUgY3VycmVudCBjaGlsZCBpcyB0aGUgc2FtZSBhcyB0aGUgd29yayBpbiBwcm9ncmVzcywgaXQgbWVhbnMgdGhhdFxuICAgICAgLy8gd2UgaGF2ZW4ndCB5ZXQgc3RhcnRlZCBhbnkgd29yayBvbiB0aGVzZSBjaGlsZHJlbi4gVGhlcmVmb3JlLCB3ZSB1c2VcbiAgICAgIC8vIHRoZSBjbG9uZSBhbGdvcml0aG0gdG8gY3JlYXRlIGEgY29weSBvZiBhbGwgdGhlIGN1cnJlbnQgY2hpbGRyZW4uXG5cbiAgICAgIC8vIElmIHdlIGhhZCBhbnkgcHJvZ3Jlc3NlZCB3b3JrIGFscmVhZHksIHRoYXQgaXMgaW52YWxpZCBhdCB0aGlzIHBvaW50IHNvXG4gICAgICAvLyBsZXQncyB0aHJvdyBpdCBvdXQuXG4gICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJlY29uY2lsZUNoaWxkRmliZXJzKHdvcmtJblByb2dyZXNzLCBjdXJyZW50LmNoaWxkLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVGb3J3YXJkUmVmKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgdmFyIHJlbmRlciA9IHdvcmtJblByb2dyZXNzLnR5cGUucmVuZGVyO1xuICAgIHZhciBuZXh0Q2hpbGRyZW4gPSByZW5kZXIod29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLCB3b3JrSW5Qcm9ncmVzcy5yZWYpO1xuICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4pO1xuICAgIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKTtcbiAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVGcmFnbWVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICAgIHZhciBuZXh0Q2hpbGRyZW4gPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgaWYgKGhhc0xlZ2FjeUNvbnRleHRDaGFuZ2VkKCkpIHtcbiAgICAgIC8vIE5vcm1hbGx5IHdlIGNhbiBiYWlsIG91dCBvbiBwcm9wcyBlcXVhbGl0eSBidXQgaWYgY29udGV4dCBoYXMgY2hhbmdlZFxuICAgICAgLy8gd2UgZG9uJ3QgZG8gdGhlIGJhaWxvdXQgYW5kIHdlIGhhdmUgdG8gcmV1c2UgZXhpc3RpbmcgcHJvcHMgaW5zdGVhZC5cbiAgICB9IGVsc2UgaWYgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPT09IG5leHRDaGlsZHJlbikge1xuICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cbiAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKTtcbiAgICBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbik7XG4gICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTW9kZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICAgIHZhciBuZXh0Q2hpbGRyZW4gPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMuY2hpbGRyZW47XG4gICAgaWYgKGhhc0xlZ2FjeUNvbnRleHRDaGFuZ2VkKCkpIHtcbiAgICAgIC8vIE5vcm1hbGx5IHdlIGNhbiBiYWlsIG91dCBvbiBwcm9wcyBlcXVhbGl0eSBidXQgaWYgY29udGV4dCBoYXMgY2hhbmdlZFxuICAgICAgLy8gd2UgZG9uJ3QgZG8gdGhlIGJhaWxvdXQgYW5kIHdlIGhhdmUgdG8gcmV1c2UgZXhpc3RpbmcgcHJvcHMgaW5zdGVhZC5cbiAgICB9IGVsc2UgaWYgKG5leHRDaGlsZHJlbiA9PT0gbnVsbCB8fCB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID09PSBuZXh0Q2hpbGRyZW4pIHtcbiAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG4gICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbik7XG4gICAgbWVtb2l6ZVByb3BzKHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4pO1xuICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1hcmtSZWYoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpIHtcbiAgICB2YXIgcmVmID0gd29ya0luUHJvZ3Jlc3MucmVmO1xuICAgIGlmIChjdXJyZW50ID09PSBudWxsICYmIHJlZiAhPT0gbnVsbCB8fCBjdXJyZW50ICE9PSBudWxsICYmIGN1cnJlbnQucmVmICE9PSByZWYpIHtcbiAgICAgIC8vIFNjaGVkdWxlIGEgUmVmIGVmZmVjdFxuICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFJlZjtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVGdW5jdGlvbmFsQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgdmFyIGZuID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICB2YXIgbmV4dFByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuXG4gICAgaWYgKGhhc0xlZ2FjeUNvbnRleHRDaGFuZ2VkKCkpIHtcbiAgICAgIC8vIE5vcm1hbGx5IHdlIGNhbiBiYWlsIG91dCBvbiBwcm9wcyBlcXVhbGl0eSBidXQgaWYgY29udGV4dCBoYXMgY2hhbmdlZFxuICAgICAgLy8gd2UgZG9uJ3QgZG8gdGhlIGJhaWxvdXQgYW5kIHdlIGhhdmUgdG8gcmV1c2UgZXhpc3RpbmcgcHJvcHMgaW5zdGVhZC5cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPT09IG5leHRQcm9wcykge1xuICAgICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICB9XG4gICAgICAvLyBUT0RPOiBjb25zaWRlciBicmluZ2luZyBmbi5zaG91bGRDb21wb25lbnRVcGRhdGUoKSBiYWNrLlxuICAgICAgLy8gSXQgdXNlZCB0byBiZSBoZXJlLlxuICAgIH1cblxuICAgIHZhciB1bm1hc2tlZENvbnRleHQgPSBnZXRVbm1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgIHZhciBjb250ZXh0ID0gZ2V0TWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgdW5tYXNrZWRDb250ZXh0KTtcblxuICAgIHZhciBuZXh0Q2hpbGRyZW4gPSB2b2lkIDA7XG5cbiAgICB7XG4gICAgICBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnNldEN1cnJlbnRQaGFzZSgncmVuZGVyJyk7XG4gICAgICBuZXh0Q2hpbGRyZW4gPSBmbihuZXh0UHJvcHMsIGNvbnRleHQpO1xuICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5zZXRDdXJyZW50UGhhc2UobnVsbCk7XG4gICAgfVxuICAgIC8vIFJlYWN0IERldlRvb2xzIHJlYWRzIHRoaXMgZmxhZy5cbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gUGVyZm9ybWVkV29yaztcbiAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKTtcbiAgICBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIG5leHRQcm9wcyk7XG4gICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlQ2xhc3NDb21wb25lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgLy8gUHVzaCBjb250ZXh0IHByb3ZpZGVycyBlYXJseSB0byBwcmV2ZW50IGNvbnRleHQgc3RhY2sgbWlzbWF0Y2hlcy5cbiAgICAvLyBEdXJpbmcgbW91bnRpbmcgd2UgZG9uJ3Qga25vdyB0aGUgY2hpbGQgY29udGV4dCB5ZXQgYXMgdGhlIGluc3RhbmNlIGRvZXNuJ3QgZXhpc3QuXG4gICAgLy8gV2Ugd2lsbCBpbnZhbGlkYXRlIHRoZSBjaGlsZCBjb250ZXh0IGluIGZpbmlzaENsYXNzQ29tcG9uZW50KCkgcmlnaHQgYWZ0ZXIgcmVuZGVyaW5nLlxuICAgIHZhciBoYXNDb250ZXh0ID0gcHVzaExlZ2FjeUNvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgdmFyIHNob3VsZFVwZGF0ZSA9IHZvaWQgMDtcbiAgICBpZiAoY3VycmVudCA9PT0gbnVsbCkge1xuICAgICAgaWYgKHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAvLyBJbiB0aGUgaW5pdGlhbCBwYXNzIHdlIG1pZ2h0IG5lZWQgdG8gY29uc3RydWN0IHRoZSBpbnN0YW5jZS5cbiAgICAgICAgY29uc3RydWN0Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzKTtcbiAgICAgICAgbW91bnRDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG5cbiAgICAgICAgc2hvdWxkVXBkYXRlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEluIGEgcmVzdW1lLCB3ZSdsbCBhbHJlYWR5IGhhdmUgYW4gaW5zdGFuY2Ugd2UgY2FuIHJldXNlLlxuICAgICAgICBzaG91bGRVcGRhdGUgPSByZXN1bWVNb3VudENsYXNzSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2hvdWxkVXBkYXRlID0gdXBkYXRlQ2xhc3NJbnN0YW5jZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgIH1cblxuICAgIC8vIFdlIHByb2Nlc3NlZCB0aGUgdXBkYXRlIHF1ZXVlIGluc2lkZSB1cGRhdGVDbGFzc0luc3RhbmNlLiBJdCBtYXkgaGF2ZVxuICAgIC8vIGluY2x1ZGVkIHNvbWUgZXJyb3JzIHRoYXQgd2VyZSBkaXNwYXRjaGVkIGR1cmluZyB0aGUgY29tbWl0IHBoYXNlLlxuICAgIC8vIFRPRE86IFJlZmFjdG9yIGNsYXNzIGNvbXBvbmVudHMgc28gdGhpcyBpcyBsZXNzIGF3a3dhcmQuXG4gICAgdmFyIGRpZENhcHR1cmVFcnJvciA9IGZhbHNlO1xuICAgIHZhciB1cGRhdGVRdWV1ZSA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlO1xuICAgIGlmICh1cGRhdGVRdWV1ZSAhPT0gbnVsbCAmJiB1cGRhdGVRdWV1ZS5jYXB0dXJlZFZhbHVlcyAhPT0gbnVsbCkge1xuICAgICAgc2hvdWxkVXBkYXRlID0gdHJ1ZTtcbiAgICAgIGRpZENhcHR1cmVFcnJvciA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmaW5pc2hDbGFzc0NvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgc2hvdWxkVXBkYXRlLCBoYXNDb250ZXh0LCBkaWRDYXB0dXJlRXJyb3IsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaENsYXNzQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBzaG91bGRVcGRhdGUsIGhhc0NvbnRleHQsIGRpZENhcHR1cmVFcnJvciwgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICAvLyBSZWZzIHNob3VsZCB1cGRhdGUgZXZlbiBpZiBzaG91bGRDb21wb25lbnRVcGRhdGUgcmV0dXJucyBmYWxzZVxuICAgIG1hcmtSZWYoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgaWYgKCFzaG91bGRVcGRhdGUgJiYgIWRpZENhcHR1cmVFcnJvcikge1xuICAgICAgLy8gQ29udGV4dCBwcm92aWRlcnMgc2hvdWxkIGRlZmVyIHRvIHNDVSBmb3IgcmVuZGVyaW5nXG4gICAgICBpZiAoaGFzQ29udGV4dCkge1xuICAgICAgICBpbnZhbGlkYXRlQ29udGV4dFByb3ZpZGVyKHdvcmtJblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG5cbiAgICB2YXIgY3RvciA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuXG4gICAgLy8gUmVyZW5kZXJcbiAgICBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgdmFyIG5leHRDaGlsZHJlbiA9IHZvaWQgMDtcbiAgICBpZiAoZGlkQ2FwdHVyZUVycm9yICYmICghZW5hYmxlR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoIHx8IHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCAhPT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgIC8vIElmIHdlIGNhcHR1cmVkIGFuIGVycm9yLCBidXQgZ2V0RGVyaXZlZFN0YXRlRnJvbSBjYXRjaCBpcyBub3QgZGVmaW5lZCxcbiAgICAgIC8vIHVubW91bnQgYWxsIHRoZSBjaGlsZHJlbi4gY29tcG9uZW50RGlkQ2F0Y2ggd2lsbCBzY2hlZHVsZSBhbiB1cGRhdGUgdG9cbiAgICAgIC8vIHJlLXJlbmRlciBhIGZhbGxiYWNrLiBUaGlzIGlzIHRlbXBvcmFyeSB1bnRpbCB3ZSBtaWdyYXRlIGV2ZXJ5b25lIHRvXG4gICAgICAvLyB0aGUgbmV3IEFQSS5cbiAgICAgIC8vIFRPRE86IFdhcm4gaW4gYSBmdXR1cmUgcmVsZWFzZS5cbiAgICAgIG5leHRDaGlsZHJlbiA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHtcbiAgICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5zZXRDdXJyZW50UGhhc2UoJ3JlbmRlcicpO1xuICAgICAgICBuZXh0Q2hpbGRyZW4gPSBpbnN0YW5jZS5yZW5kZXIoKTtcbiAgICAgICAgaWYgKGRlYnVnUmVuZGVyUGhhc2VTaWRlRWZmZWN0cyB8fCBkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHNGb3JTdHJpY3RNb2RlICYmIHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RNb2RlKSB7XG4gICAgICAgICAgaW5zdGFuY2UucmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5zZXRDdXJyZW50UGhhc2UobnVsbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVhY3QgRGV2VG9vbHMgcmVhZHMgdGhpcyBmbGFnLlxuICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBQZXJmb3JtZWRXb3JrO1xuICAgIGlmIChkaWRDYXB0dXJlRXJyb3IpIHtcbiAgICAgIC8vIElmIHdlJ3JlIHJlY292ZXJpbmcgZnJvbSBhbiBlcnJvciwgcmVjb25jaWxlIHR3aWNlOiBmaXJzdCB0byBkZWxldGVcbiAgICAgIC8vIGFsbCB0aGUgZXhpc3RpbmcgY2hpbGRyZW4uXG4gICAgICByZWNvbmNpbGVDaGlsZHJlbkF0RXhwaXJhdGlvblRpbWUoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG51bGwsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID0gbnVsbDtcbiAgICAgIC8vIE5vdyB3ZSBjYW4gY29udGludWUgcmVjb25jaWxpbmcgbGlrZSBub3JtYWwuIFRoaXMgaGFzIHRoZSBlZmZlY3Qgb2ZcbiAgICAgIC8vIHJlbW91bnRpbmcgYWxsIGNoaWxkcmVuIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGVpciB0aGVpclxuICAgICAgLy8gaWRlbnRpdHkgbWF0Y2hlcy5cbiAgICB9XG4gICAgcmVjb25jaWxlQ2hpbGRyZW5BdEV4cGlyYXRpb25UaW1lKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAvLyBNZW1vaXplIHByb3BzIGFuZCBzdGF0ZSB1c2luZyB0aGUgdmFsdWVzIHdlIGp1c3QgdXNlZCB0byByZW5kZXIuXG4gICAgLy8gVE9ETzogUmVzdHJ1Y3R1cmUgc28gd2UgbmV2ZXIgcmVhZCB2YWx1ZXMgZnJvbSB0aGUgaW5zdGFuY2UuXG4gICAgbWVtb2l6ZVN0YXRlKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZS5zdGF0ZSk7XG4gICAgbWVtb2l6ZVByb3BzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZS5wcm9wcyk7XG5cbiAgICAvLyBUaGUgY29udGV4dCBtaWdodCBoYXZlIGNoYW5nZWQgc28gd2UgbmVlZCB0byByZWNhbGN1bGF0ZSBpdC5cbiAgICBpZiAoaGFzQ29udGV4dCkge1xuICAgICAgaW52YWxpZGF0ZUNvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICB9XG5cbiAgZnVuY3Rpb24gcHVzaEhvc3RSb290Q29udGV4dCh3b3JrSW5Qcm9ncmVzcykge1xuICAgIHZhciByb290ID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgIGlmIChyb290LnBlbmRpbmdDb250ZXh0KSB7XG4gICAgICBwdXNoVG9wTGV2ZWxDb250ZXh0T2JqZWN0KHdvcmtJblByb2dyZXNzLCByb290LnBlbmRpbmdDb250ZXh0LCByb290LnBlbmRpbmdDb250ZXh0ICE9PSByb290LmNvbnRleHQpO1xuICAgIH0gZWxzZSBpZiAocm9vdC5jb250ZXh0KSB7XG4gICAgICAvLyBTaG91bGQgYWx3YXlzIGJlIHNldFxuICAgICAgcHVzaFRvcExldmVsQ29udGV4dE9iamVjdCh3b3JrSW5Qcm9ncmVzcywgcm9vdC5jb250ZXh0LCBmYWxzZSk7XG4gICAgfVxuICAgIHB1c2hIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzLCByb290LmNvbnRhaW5lckluZm8pO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlSG9zdFJvb3QoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgcHVzaEhvc3RSb290Q29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgdmFyIHVwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgaWYgKHVwZGF0ZVF1ZXVlICE9PSBudWxsKSB7XG4gICAgICB2YXIgcHJldlN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIHZhciBzdGF0ZSA9IHByb2Nlc3NVcGRhdGVRdWV1ZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgdXBkYXRlUXVldWUsIG51bGwsIG51bGwsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgIG1lbW9pemVTdGF0ZSh3b3JrSW5Qcm9ncmVzcywgc3RhdGUpO1xuICAgICAgdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcblxuICAgICAgdmFyIGVsZW1lbnQgPSB2b2lkIDA7XG4gICAgICBpZiAodXBkYXRlUXVldWUgIT09IG51bGwgJiYgdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgIT09IG51bGwpIHtcbiAgICAgICAgLy8gVGhlcmUncyBhbiB1bmNhdWdodCBlcnJvci4gVW5tb3VudCB0aGUgd2hvbGUgcm9vdC5cbiAgICAgICAgZWxlbWVudCA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKHByZXZTdGF0ZSA9PT0gc3RhdGUpIHtcbiAgICAgICAgLy8gSWYgdGhlIHN0YXRlIGlzIHRoZSBzYW1lIGFzIGJlZm9yZSwgdGhhdCdzIGEgYmFpbG91dCBiZWNhdXNlIHdlIGhhZFxuICAgICAgICAvLyBubyB3b3JrIHRoYXQgZXhwaXJlcyBhdCB0aGlzIHRpbWUuXG4gICAgICAgIHJlc2V0SHlkcmF0aW9uU3RhdGUoKTtcbiAgICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudCA9IHN0YXRlLmVsZW1lbnQ7XG4gICAgICB9XG4gICAgICB2YXIgcm9vdCA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgIGlmICgoY3VycmVudCA9PT0gbnVsbCB8fCBjdXJyZW50LmNoaWxkID09PSBudWxsKSAmJiByb290Lmh5ZHJhdGUgJiYgZW50ZXJIeWRyYXRpb25TdGF0ZSh3b3JrSW5Qcm9ncmVzcykpIHtcbiAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhbnkgY3VycmVudCBjaGlsZHJlbiB0aGlzIG1pZ2h0IGJlIHRoZSBmaXJzdCBwYXNzLlxuICAgICAgICAvLyBXZSBhbHdheXMgdHJ5IHRvIGh5ZHJhdGUuIElmIHRoaXMgaXNuJ3QgYSBoeWRyYXRpb24gcGFzcyB0aGVyZSB3b24ndFxuICAgICAgICAvLyBiZSBhbnkgY2hpbGRyZW4gdG8gaHlkcmF0ZSB3aGljaCBpcyBlZmZlY3RpdmVseSB0aGUgc2FtZSB0aGluZyBhc1xuICAgICAgICAvLyBub3QgaHlkcmF0aW5nLlxuXG4gICAgICAgIC8vIFRoaXMgaXMgYSBiaXQgb2YgYSBoYWNrLiBXZSB0cmFjayB0aGUgaG9zdCByb290IGFzIGEgcGxhY2VtZW50IHRvXG4gICAgICAgIC8vIGtub3cgdGhhdCB3ZSdyZSBjdXJyZW50bHkgaW4gYSBtb3VudGluZyBzdGF0ZS4gVGhhdCB3YXkgaXNNb3VudGVkXG4gICAgICAgIC8vIHdvcmtzIGFzIGV4cGVjdGVkLiBXZSBtdXN0IHJlc2V0IHRoaXMgYmVmb3JlIGNvbW1pdHRpbmcuXG4gICAgICAgIC8vIFRPRE86IERlbGV0ZSB0aGlzIHdoZW4gd2UgZGVsZXRlIGlzTW91bnRlZCBhbmQgZmluZERPTU5vZGUuXG4gICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBQbGFjZW1lbnQ7XG5cbiAgICAgICAgLy8gRW5zdXJlIHRoYXQgY2hpbGRyZW4gbW91bnQgaW50byB0aGlzIHJvb3Qgd2l0aG91dCB0cmFja2luZ1xuICAgICAgICAvLyBzaWRlLWVmZmVjdHMuIFRoaXMgZW5zdXJlcyB0aGF0IHdlIGRvbid0IHN0b3JlIFBsYWNlbWVudCBlZmZlY3RzIG9uXG4gICAgICAgIC8vIG5vZGVzIHRoYXQgd2lsbCBiZSBoeWRyYXRlZC5cbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBtb3VudENoaWxkRmliZXJzKHdvcmtJblByb2dyZXNzLCBudWxsLCBlbGVtZW50LCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBPdGhlcndpc2UgcmVzZXQgaHlkcmF0aW9uIHN0YXRlIGluIGNhc2Ugd2UgYWJvcnRlZCBhbmQgcmVzdW1lZCBhbm90aGVyXG4gICAgICAgIC8vIHJvb3QuXG4gICAgICAgIHJlc2V0SHlkcmF0aW9uU3RhdGUoKTtcbiAgICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIGVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgbWVtb2l6ZVN0YXRlKHdvcmtJblByb2dyZXNzLCBzdGF0ZSk7XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgfVxuICAgIHJlc2V0SHlkcmF0aW9uU3RhdGUoKTtcbiAgICAvLyBJZiB0aGVyZSBpcyBubyB1cGRhdGUgcXVldWUsIHRoYXQncyBhIGJhaWxvdXQgYmVjYXVzZSB0aGUgcm9vdCBoYXMgbm8gcHJvcHMuXG4gICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlSG9zdENvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICBwdXNoSG9zdENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgaWYgKGN1cnJlbnQgPT09IG51bGwpIHtcbiAgICAgIHRyeVRvQ2xhaW1OZXh0SHlkcmF0YWJsZUluc3RhbmNlKHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG5cbiAgICB2YXIgdHlwZSA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgdmFyIG1lbW9pemVkUHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzO1xuICAgIHZhciBuZXh0UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgdmFyIHByZXZQcm9wcyA9IGN1cnJlbnQgIT09IG51bGwgPyBjdXJyZW50Lm1lbW9pemVkUHJvcHMgOiBudWxsO1xuXG4gICAgaWYgKGhhc0xlZ2FjeUNvbnRleHRDaGFuZ2VkKCkpIHtcbiAgICAgIC8vIE5vcm1hbGx5IHdlIGNhbiBiYWlsIG91dCBvbiBwcm9wcyBlcXVhbGl0eSBidXQgaWYgY29udGV4dCBoYXMgY2hhbmdlZFxuICAgICAgLy8gd2UgZG9uJ3QgZG8gdGhlIGJhaWxvdXQgYW5kIHdlIGhhdmUgdG8gcmV1c2UgZXhpc3RpbmcgcHJvcHMgaW5zdGVhZC5cbiAgICB9IGVsc2UgaWYgKG1lbW9pemVkUHJvcHMgPT09IG5leHRQcm9wcykge1xuICAgICAgdmFyIGlzSGlkZGVuID0gd29ya0luUHJvZ3Jlc3MubW9kZSAmIEFzeW5jTW9kZSAmJiBzaG91bGREZXByaW9yaXRpemVTdWJ0cmVlKHR5cGUsIG5leHRQcm9wcyk7XG4gICAgICBpZiAoaXNIaWRkZW4pIHtcbiAgICAgICAgLy8gQmVmb3JlIGJhaWxpbmcgb3V0LCBtYWtlIHN1cmUgd2UndmUgZGVwcmlvcml0aXplZCBhIGhpZGRlbiBjb21wb25lbnQuXG4gICAgICAgIHdvcmtJblByb2dyZXNzLmV4cGlyYXRpb25UaW1lID0gTmV2ZXI7XG4gICAgICB9XG4gICAgICBpZiAoIWlzSGlkZGVuIHx8IHJlbmRlckV4cGlyYXRpb25UaW1lICE9PSBOZXZlcikge1xuICAgICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICB9XG4gICAgICAvLyBJZiB3ZSdyZSByZW5kZXJpbmcgYSBoaWRkZW4gbm9kZSBhdCBoaWRkZW4gcHJpb3JpdHksIGRvbid0IGJhaWxvdXQuIFRoZVxuICAgICAgLy8gcGFyZW50IGlzIGNvbXBsZXRlLCBidXQgdGhlIGNoaWxkcmVuIG1heSBub3QgYmUuXG4gICAgfVxuXG4gICAgdmFyIG5leHRDaGlsZHJlbiA9IG5leHRQcm9wcy5jaGlsZHJlbjtcbiAgICB2YXIgaXNEaXJlY3RUZXh0Q2hpbGQgPSBzaG91bGRTZXRUZXh0Q29udGVudCh0eXBlLCBuZXh0UHJvcHMpO1xuXG4gICAgaWYgKGlzRGlyZWN0VGV4dENoaWxkKSB7XG4gICAgICAvLyBXZSBzcGVjaWFsIGNhc2UgYSBkaXJlY3QgdGV4dCBjaGlsZCBvZiBhIGhvc3Qgbm9kZS4gVGhpcyBpcyBhIGNvbW1vblxuICAgICAgLy8gY2FzZS4gV2Ugd29uJ3QgaGFuZGxlIGl0IGFzIGEgcmVpZmllZCBjaGlsZC4gV2Ugd2lsbCBpbnN0ZWFkIGhhbmRsZVxuICAgICAgLy8gdGhpcyBpbiB0aGUgaG9zdCBlbnZpcm9ubWVudCB0aGF0IGFsc28gaGF2ZSBhY2Nlc3MgdG8gdGhpcyBwcm9wLiBUaGF0XG4gICAgICAvLyBhdm9pZHMgYWxsb2NhdGluZyBhbm90aGVyIEhvc3RUZXh0IGZpYmVyIGFuZCB0cmF2ZXJzaW5nIGl0LlxuICAgICAgbmV4dENoaWxkcmVuID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKHByZXZQcm9wcyAmJiBzaG91bGRTZXRUZXh0Q29udGVudCh0eXBlLCBwcmV2UHJvcHMpKSB7XG4gICAgICAvLyBJZiB3ZSdyZSBzd2l0Y2hpbmcgZnJvbSBhIGRpcmVjdCB0ZXh0IGNoaWxkIHRvIGEgbm9ybWFsIGNoaWxkLCBvciB0b1xuICAgICAgLy8gZW1wdHksIHdlIG5lZWQgdG8gc2NoZWR1bGUgdGhlIHRleHQgY29udGVudCB0byBiZSByZXNldC5cbiAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBDb250ZW50UmVzZXQ7XG4gICAgfVxuXG4gICAgbWFya1JlZihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgICAvLyBDaGVjayB0aGUgaG9zdCBjb25maWcgdG8gc2VlIGlmIHRoZSBjaGlsZHJlbiBhcmUgb2Zmc2NyZWVuL2hpZGRlbi5cbiAgICBpZiAocmVuZGVyRXhwaXJhdGlvblRpbWUgIT09IE5ldmVyICYmIHdvcmtJblByb2dyZXNzLm1vZGUgJiBBc3luY01vZGUgJiYgc2hvdWxkRGVwcmlvcml0aXplU3VidHJlZSh0eXBlLCBuZXh0UHJvcHMpKSB7XG4gICAgICAvLyBEb3duLXByaW9yaXRpemUgdGhlIGNoaWxkcmVuLlxuICAgICAgd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWUgPSBOZXZlcjtcbiAgICAgIC8vIEJhaWxvdXQgYW5kIGNvbWUgYmFjayB0byB0aGlzIGZpYmVyIGxhdGVyLlxuICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9IG5leHRQcm9wcztcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4pO1xuICAgIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV4dFByb3BzKTtcbiAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVIb3N0VGV4dChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICAgIGlmIChjdXJyZW50ID09PSBudWxsKSB7XG4gICAgICB0cnlUb0NsYWltTmV4dEh5ZHJhdGFibGVJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuICAgIHZhciBuZXh0UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgbWVtb2l6ZVByb3BzKHdvcmtJblByb2dyZXNzLCBuZXh0UHJvcHMpO1xuICAgIC8vIE5vdGhpbmcgdG8gZG8gaGVyZS4gVGhpcyBpcyB0ZXJtaW5hbC4gV2UnbGwgZG8gdGhlIGNvbXBsZXRpb24gc3RlcFxuICAgIC8vIGltbWVkaWF0ZWx5IGFmdGVyLlxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gbW91bnRJbmRldGVybWluYXRlQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgICEoY3VycmVudCA9PT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdBbiBpbmRldGVybWluYXRlIGNvbXBvbmVudCBzaG91bGQgbmV2ZXIgaGF2ZSBtb3VudGVkLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICAgIHZhciBmbiA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgdmFyIHByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgIHZhciB1bm1hc2tlZENvbnRleHQgPSBnZXRVbm1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgIHZhciBjb250ZXh0ID0gZ2V0TWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgdW5tYXNrZWRDb250ZXh0KTtcblxuICAgIHZhciB2YWx1ZSA9IHZvaWQgMDtcblxuICAgIHtcbiAgICAgIGlmIChmbi5wcm90b3R5cGUgJiYgdHlwZW9mIGZuLnByb3RvdHlwZS5yZW5kZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKSB8fCAnVW5rbm93bic7XG5cbiAgICAgICAgaWYgKCFkaWRXYXJuQWJvdXRCYWRDbGFzc1tjb21wb25lbnROYW1lXSkge1xuICAgICAgICAgIHdhcm5pbmcoZmFsc2UsIFwiVGhlIDwlcyAvPiBjb21wb25lbnQgYXBwZWFycyB0byBoYXZlIGEgcmVuZGVyIG1ldGhvZCwgYnV0IGRvZXNuJ3QgZXh0ZW5kIFJlYWN0LkNvbXBvbmVudC4gXCIgKyAnVGhpcyBpcyBsaWtlbHkgdG8gY2F1c2UgZXJyb3JzLiBDaGFuZ2UgJXMgdG8gZXh0ZW5kIFJlYWN0LkNvbXBvbmVudCBpbnN0ZWFkLicsIGNvbXBvbmVudE5hbWUsIGNvbXBvbmVudE5hbWUpO1xuICAgICAgICAgIGRpZFdhcm5BYm91dEJhZENsYXNzW2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgdmFsdWUgPSBmbihwcm9wcywgY29udGV4dCk7XG4gICAgfVxuICAgIC8vIFJlYWN0IERldlRvb2xzIHJlYWRzIHRoaXMgZmxhZy5cbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gUGVyZm9ybWVkV29yaztcblxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZS5yZW5kZXIgPT09ICdmdW5jdGlvbicgJiYgdmFsdWUuJCR0eXBlb2YgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIENvbXBvbmVudCA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG5cbiAgICAgIC8vIFByb2NlZWQgdW5kZXIgdGhlIGFzc3VtcHRpb24gdGhhdCB0aGlzIGlzIGEgY2xhc3MgaW5zdGFuY2VcbiAgICAgIHdvcmtJblByb2dyZXNzLnRhZyA9IENsYXNzQ29tcG9uZW50O1xuXG4gICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gdmFsdWUuc3RhdGUgIT09IG51bGwgJiYgdmFsdWUuc3RhdGUgIT09IHVuZGVmaW5lZCA/IHZhbHVlLnN0YXRlIDogbnVsbDtcblxuICAgICAgaWYgKHR5cGVvZiBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBwYXJ0aWFsU3RhdGUgPSBjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHdvcmtJblByb2dyZXNzLCB2YWx1ZSwgcHJvcHMsIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUpO1xuXG4gICAgICAgIGlmIChwYXJ0aWFsU3RhdGUgIT09IG51bGwgJiYgcGFydGlhbFN0YXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gX2Fzc2lnbih7fSwgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSwgcGFydGlhbFN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBQdXNoIGNvbnRleHQgcHJvdmlkZXJzIGVhcmx5IHRvIHByZXZlbnQgY29udGV4dCBzdGFjayBtaXNtYXRjaGVzLlxuICAgICAgLy8gRHVyaW5nIG1vdW50aW5nIHdlIGRvbid0IGtub3cgdGhlIGNoaWxkIGNvbnRleHQgeWV0IGFzIHRoZSBpbnN0YW5jZSBkb2Vzbid0IGV4aXN0LlxuICAgICAgLy8gV2Ugd2lsbCBpbnZhbGlkYXRlIHRoZSBjaGlsZCBjb250ZXh0IGluIGZpbmlzaENsYXNzQ29tcG9uZW50KCkgcmlnaHQgYWZ0ZXIgcmVuZGVyaW5nLlxuICAgICAgdmFyIGhhc0NvbnRleHQgPSBwdXNoTGVnYWN5Q29udGV4dFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIGFkb3B0Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgdmFsdWUpO1xuICAgICAgbW91bnRDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICByZXR1cm4gZmluaXNoQ2xhc3NDb21wb25lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHRydWUsIGhhc0NvbnRleHQsIGZhbHNlLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFByb2NlZWQgdW5kZXIgdGhlIGFzc3VtcHRpb24gdGhhdCB0aGlzIGlzIGEgZnVuY3Rpb25hbCBjb21wb25lbnRcbiAgICAgIHdvcmtJblByb2dyZXNzLnRhZyA9IEZ1bmN0aW9uYWxDb21wb25lbnQ7XG4gICAgICB7XG4gICAgICAgIHZhciBfQ29tcG9uZW50ID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcblxuICAgICAgICBpZiAoX0NvbXBvbmVudCkge1xuICAgICAgICAgIHdhcm5pbmcoIV9Db21wb25lbnQuY2hpbGRDb250ZXh0VHlwZXMsICclcyguLi4pOiBjaGlsZENvbnRleHRUeXBlcyBjYW5ub3QgYmUgZGVmaW5lZCBvbiBhIGZ1bmN0aW9uYWwgY29tcG9uZW50LicsIF9Db21wb25lbnQuZGlzcGxheU5hbWUgfHwgX0NvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod29ya0luUHJvZ3Jlc3MucmVmICE9PSBudWxsKSB7XG4gICAgICAgICAgdmFyIGluZm8gPSAnJztcbiAgICAgICAgICB2YXIgb3duZXJOYW1lID0gUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5nZXRDdXJyZW50RmliZXJPd25lck5hbWUoKTtcbiAgICAgICAgICBpZiAob3duZXJOYW1lKSB7XG4gICAgICAgICAgICBpbmZvICs9ICdcXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgJyArIG93bmVyTmFtZSArICdgLic7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHdhcm5pbmdLZXkgPSBvd25lck5hbWUgfHwgd29ya0luUHJvZ3Jlc3MuX2RlYnVnSUQgfHwgJyc7XG4gICAgICAgICAgdmFyIGRlYnVnU291cmNlID0gd29ya0luUHJvZ3Jlc3MuX2RlYnVnU291cmNlO1xuICAgICAgICAgIGlmIChkZWJ1Z1NvdXJjZSkge1xuICAgICAgICAgICAgd2FybmluZ0tleSA9IGRlYnVnU291cmNlLmZpbGVOYW1lICsgJzonICsgZGVidWdTb3VyY2UubGluZU51bWJlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFkaWRXYXJuQWJvdXRTdGF0ZWxlc3NSZWZzW3dhcm5pbmdLZXldKSB7XG4gICAgICAgICAgICBkaWRXYXJuQWJvdXRTdGF0ZWxlc3NSZWZzW3dhcm5pbmdLZXldID0gdHJ1ZTtcbiAgICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICdTdGF0ZWxlc3MgZnVuY3Rpb24gY29tcG9uZW50cyBjYW5ub3QgYmUgZ2l2ZW4gcmVmcy4gJyArICdBdHRlbXB0cyB0byBhY2Nlc3MgdGhpcyByZWYgd2lsbCBmYWlsLiVzJXMnLCBpbmZvLCBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0oKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBmbi5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB2YXIgX2NvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKSB8fCAnVW5rbm93bic7XG5cbiAgICAgICAgICBpZiAoIWRpZFdhcm5BYm91dEdldERlcml2ZWRTdGF0ZU9uRnVuY3Rpb25hbENvbXBvbmVudFtfY29tcG9uZW50TmFtZV0pIHtcbiAgICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICclczogU3RhdGVsZXNzIGZ1bmN0aW9uYWwgY29tcG9uZW50cyBkbyBub3Qgc3VwcG9ydCBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuJywgX2NvbXBvbmVudE5hbWUpO1xuICAgICAgICAgICAgZGlkV2FybkFib3V0R2V0RGVyaXZlZFN0YXRlT25GdW5jdGlvbmFsQ29tcG9uZW50W19jb21wb25lbnROYW1lXSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgdmFsdWUpO1xuICAgICAgbWVtb2l6ZVByb3BzKHdvcmtJblByb2dyZXNzLCBwcm9wcyk7XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlQ2FsbENvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICB2YXIgbmV4dFByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgIGlmIChoYXNMZWdhY3lDb250ZXh0Q2hhbmdlZCgpKSB7XG4gICAgICAvLyBOb3JtYWxseSB3ZSBjYW4gYmFpbCBvdXQgb24gcHJvcHMgZXF1YWxpdHkgYnV0IGlmIGNvbnRleHQgaGFzIGNoYW5nZWRcbiAgICAgIC8vIHdlIGRvbid0IGRvIHRoZSBiYWlsb3V0IGFuZCB3ZSBoYXZlIHRvIHJldXNlIGV4aXN0aW5nIHByb3BzIGluc3RlYWQuXG4gICAgfSBlbHNlIGlmICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID09PSBuZXh0UHJvcHMpIHtcbiAgICAgIG5leHRQcm9wcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHM7XG4gICAgICAvLyBUT0RPOiBXaGVuIGJhaWxpbmcgb3V0LCB3ZSBtaWdodCBuZWVkIHRvIHJldHVybiB0aGUgc3RhdGVOb2RlIGluc3RlYWRcbiAgICAgIC8vIG9mIHRoZSBjaGlsZC4gVG8gY2hlY2sgaXQgZm9yIHdvcmsuXG4gICAgICAvLyByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgdmFyIG5leHRDaGlsZHJlbiA9IG5leHRQcm9wcy5jaGlsZHJlbjtcblxuICAgIC8vIFRoZSBmb2xsb3dpbmcgaXMgYSBmb3JrIG9mIHJlY29uY2lsZUNoaWxkcmVuQXRFeHBpcmF0aW9uVGltZSBidXQgdXNpbmdcbiAgICAvLyBzdGF0ZU5vZGUgdG8gc3RvcmUgdGhlIGNoaWxkLlxuICAgIGlmIChjdXJyZW50ID09PSBudWxsKSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBtb3VudENoaWxkRmliZXJzKHdvcmtJblByb2dyZXNzLCB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUsIG5leHRDaGlsZHJlbiwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSByZWNvbmNpbGVDaGlsZEZpYmVycyh3b3JrSW5Qcm9ncmVzcywgY3VycmVudC5zdGF0ZU5vZGUsIG5leHRDaGlsZHJlbiwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgIH1cblxuICAgIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV4dFByb3BzKTtcbiAgICAvLyBUaGlzIGRvZXNuJ3QgdGFrZSBhcmJpdHJhcnkgdGltZSBzbyB3ZSBjb3VsZCBzeW5jaHJvbm91c2x5IGp1c3QgYmVnaW5cbiAgICAvLyBlYWdlcmx5IGRvIHRoZSB3b3JrIG9mIHdvcmtJblByb2dyZXNzLmNoaWxkIGFzIGFuIG9wdGltaXphdGlvbi5cbiAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlUG9ydGFsQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgIHB1c2hIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzLCB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyk7XG4gICAgdmFyIG5leHRDaGlsZHJlbiA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICBpZiAoaGFzTGVnYWN5Q29udGV4dENoYW5nZWQoKSkge1xuICAgICAgLy8gTm9ybWFsbHkgd2UgY2FuIGJhaWwgb3V0IG9uIHByb3BzIGVxdWFsaXR5IGJ1dCBpZiBjb250ZXh0IGhhcyBjaGFuZ2VkXG4gICAgICAvLyB3ZSBkb24ndCBkbyB0aGUgYmFpbG91dCBhbmQgd2UgaGF2ZSB0byByZXVzZSBleGlzdGluZyBwcm9wcyBpbnN0ZWFkLlxuICAgIH0gZWxzZSBpZiAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9PT0gbmV4dENoaWxkcmVuKSB7XG4gICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnQgPT09IG51bGwpIHtcbiAgICAgIC8vIFBvcnRhbHMgYXJlIHNwZWNpYWwgYmVjYXVzZSB3ZSBkb24ndCBhcHBlbmQgdGhlIGNoaWxkcmVuIGR1cmluZyBtb3VudFxuICAgICAgLy8gYnV0IGF0IGNvbW1pdC4gVGhlcmVmb3JlIHdlIG5lZWQgdG8gdHJhY2sgaW5zZXJ0aW9ucyB3aGljaCB0aGUgbm9ybWFsXG4gICAgICAvLyBmbG93IGRvZXNuJ3QgZG8gZHVyaW5nIG1vdW50LiBUaGlzIGRvZXNuJ3QgaGFwcGVuIGF0IHRoZSByb290IGJlY2F1c2VcbiAgICAgIC8vIHRoZSByb290IGFsd2F5cyBzdGFydHMgd2l0aCBhIFwiY3VycmVudFwiIHdpdGggYSBudWxsIGNoaWxkLlxuICAgICAgLy8gVE9ETzogQ29uc2lkZXIgdW5pZnlpbmcgdGhpcyB3aXRoIGhvdyB0aGUgcm9vdCB3b3Jrcy5cbiAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID0gcmVjb25jaWxlQ2hpbGRGaWJlcnMod29ya0luUHJvZ3Jlc3MsIG51bGwsIG5leHRDaGlsZHJlbiwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgbWVtb2l6ZVByb3BzKHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKTtcbiAgICAgIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKTtcbiAgICB9XG4gICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvcGFnYXRlQ29udGV4dENoYW5nZSh3b3JrSW5Qcm9ncmVzcywgY29udGV4dCwgY2hhbmdlZEJpdHMsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgdmFyIGZpYmVyID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgaWYgKGZpYmVyICE9PSBudWxsKSB7XG4gICAgICAvLyBTZXQgdGhlIHJldHVybiBwb2ludGVyIG9mIHRoZSBjaGlsZCB0byB0aGUgd29yay1pbi1wcm9ncmVzcyBmaWJlci5cbiAgICAgIGZpYmVyWydyZXR1cm4nXSA9IHdvcmtJblByb2dyZXNzO1xuICAgIH1cbiAgICB3aGlsZSAoZmliZXIgIT09IG51bGwpIHtcbiAgICAgIHZhciBuZXh0RmliZXIgPSB2b2lkIDA7XG4gICAgICAvLyBWaXNpdCB0aGlzIGZpYmVyLlxuICAgICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgICAgY2FzZSBDb250ZXh0Q29uc3VtZXI6XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNvbnRleHQgbWF0Y2hlcy5cbiAgICAgICAgICB2YXIgb2JzZXJ2ZWRCaXRzID0gZmliZXIuc3RhdGVOb2RlIHwgMDtcbiAgICAgICAgICBpZiAoZmliZXIudHlwZSA9PT0gY29udGV4dCAmJiAob2JzZXJ2ZWRCaXRzICYgY2hhbmdlZEJpdHMpICE9PSAwKSB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGV4cGlyYXRpb24gdGltZSBvZiBhbGwgdGhlIGFuY2VzdG9ycywgaW5jbHVkaW5nXG4gICAgICAgICAgICAvLyB0aGUgYWx0ZXJuYXRlcy5cbiAgICAgICAgICAgIHZhciBub2RlID0gZmliZXI7XG4gICAgICAgICAgICB3aGlsZSAobm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICB2YXIgYWx0ZXJuYXRlID0gbm9kZS5hbHRlcm5hdGU7XG4gICAgICAgICAgICAgIGlmIChub2RlLmV4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHwgbm9kZS5leHBpcmF0aW9uVGltZSA+IHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5leHBpcmF0aW9uVGltZSA9IHJlbmRlckV4cGlyYXRpb25UaW1lO1xuICAgICAgICAgICAgICAgIGlmIChhbHRlcm5hdGUgIT09IG51bGwgJiYgKGFsdGVybmF0ZS5leHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8IGFsdGVybmF0ZS5leHBpcmF0aW9uVGltZSA+IHJlbmRlckV4cGlyYXRpb25UaW1lKSkge1xuICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRlLmV4cGlyYXRpb25UaW1lID0gcmVuZGVyRXhwaXJhdGlvblRpbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFsdGVybmF0ZSAhPT0gbnVsbCAmJiAoYWx0ZXJuYXRlLmV4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHwgYWx0ZXJuYXRlLmV4cGlyYXRpb25UaW1lID4gcmVuZGVyRXhwaXJhdGlvblRpbWUpKSB7XG4gICAgICAgICAgICAgICAgYWx0ZXJuYXRlLmV4cGlyYXRpb25UaW1lID0gcmVuZGVyRXhwaXJhdGlvblRpbWU7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTmVpdGhlciBhbHRlcm5hdGUgd2FzIHVwZGF0ZWQsIHdoaWNoIG1lYW5zIHRoZSByZXN0IG9mIHRoZVxuICAgICAgICAgICAgICAgIC8vIGFuY2VzdG9yIHBhdGggYWxyZWFkeSBoYXMgc3VmZmljaWVudCBwcmlvcml0eS5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBub2RlID0gbm9kZVsncmV0dXJuJ107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEb24ndCBzY2FuIGRlZXBlciB0aGFuIGEgbWF0Y2hpbmcgY29uc3VtZXIuIFdoZW4gd2UgcmVuZGVyIHRoZVxuICAgICAgICAgICAgLy8gY29uc3VtZXIsIHdlJ2xsIGNvbnRpbnVlIHNjYW5uaW5nIGZyb20gdGhhdCBwb2ludC4gVGhpcyB3YXkgdGhlXG4gICAgICAgICAgICAvLyBzY2FubmluZyB3b3JrIGlzIHRpbWUtc2xpY2VkLlxuICAgICAgICAgICAgbmV4dEZpYmVyID0gbnVsbDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVHJhdmVyc2UgZG93bi5cbiAgICAgICAgICAgIG5leHRGaWJlciA9IGZpYmVyLmNoaWxkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDb250ZXh0UHJvdmlkZXI6XG4gICAgICAgICAgLy8gRG9uJ3Qgc2NhbiBkZWVwZXIgaWYgdGhpcyBpcyBhIG1hdGNoaW5nIHByb3ZpZGVyXG4gICAgICAgICAgbmV4dEZpYmVyID0gZmliZXIudHlwZSA9PT0gd29ya0luUHJvZ3Jlc3MudHlwZSA/IG51bGwgOiBmaWJlci5jaGlsZDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBUcmF2ZXJzZSBkb3duLlxuICAgICAgICAgIG5leHRGaWJlciA9IGZpYmVyLmNoaWxkO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKG5leHRGaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAvLyBTZXQgdGhlIHJldHVybiBwb2ludGVyIG9mIHRoZSBjaGlsZCB0byB0aGUgd29yay1pbi1wcm9ncmVzcyBmaWJlci5cbiAgICAgICAgbmV4dEZpYmVyWydyZXR1cm4nXSA9IGZpYmVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTm8gY2hpbGQuIFRyYXZlcnNlIHRvIG5leHQgc2libGluZy5cbiAgICAgICAgbmV4dEZpYmVyID0gZmliZXI7XG4gICAgICAgIHdoaWxlIChuZXh0RmliZXIgIT09IG51bGwpIHtcbiAgICAgICAgICBpZiAobmV4dEZpYmVyID09PSB3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgLy8gV2UncmUgYmFjayB0byB0aGUgcm9vdCBvZiB0aGlzIHN1YnRyZWUuIEV4aXQuXG4gICAgICAgICAgICBuZXh0RmliZXIgPSBudWxsO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBzaWJsaW5nID0gbmV4dEZpYmVyLnNpYmxpbmc7XG4gICAgICAgICAgaWYgKHNpYmxpbmcgIT09IG51bGwpIHtcbiAgICAgICAgICAgIG5leHRGaWJlciA9IHNpYmxpbmc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gTm8gbW9yZSBzaWJsaW5ncy4gVHJhdmVyc2UgdXAuXG4gICAgICAgICAgbmV4dEZpYmVyID0gbmV4dEZpYmVyWydyZXR1cm4nXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZmliZXIgPSBuZXh0RmliZXI7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlQ29udGV4dFByb3ZpZGVyKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgIHZhciBwcm92aWRlclR5cGUgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgIHZhciBjb250ZXh0ID0gcHJvdmlkZXJUeXBlLl9jb250ZXh0O1xuXG4gICAgdmFyIG5ld1Byb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgIHZhciBvbGRQcm9wcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHM7XG5cbiAgICBpZiAoaGFzTGVnYWN5Q29udGV4dENoYW5nZWQoKSkge1xuICAgICAgLy8gTm9ybWFsbHkgd2UgY2FuIGJhaWwgb3V0IG9uIHByb3BzIGVxdWFsaXR5IGJ1dCBpZiBjb250ZXh0IGhhcyBjaGFuZ2VkXG4gICAgICAvLyB3ZSBkb24ndCBkbyB0aGUgYmFpbG91dCBhbmQgd2UgaGF2ZSB0byByZXVzZSBleGlzdGluZyBwcm9wcyBpbnN0ZWFkLlxuICAgIH0gZWxzZSBpZiAob2xkUHJvcHMgPT09IG5ld1Byb3BzKSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSAwO1xuICAgICAgcHVzaFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG5cbiAgICB2YXIgbmV3VmFsdWUgPSBuZXdQcm9wcy52YWx1ZTtcbiAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID0gbmV3UHJvcHM7XG5cbiAgICB2YXIgY2hhbmdlZEJpdHMgPSB2b2lkIDA7XG4gICAgaWYgKG9sZFByb3BzID09PSBudWxsKSB7XG4gICAgICAvLyBJbml0aWFsIHJlbmRlclxuICAgICAgY2hhbmdlZEJpdHMgPSBNQVhfU0lHTkVEXzMxX0JJVF9JTlQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChvbGRQcm9wcy52YWx1ZSA9PT0gbmV3UHJvcHMudmFsdWUpIHtcbiAgICAgICAgLy8gTm8gY2hhbmdlLiBCYWlsb3V0IGVhcmx5IGlmIGNoaWxkcmVuIGFyZSB0aGUgc2FtZS5cbiAgICAgICAgaWYgKG9sZFByb3BzLmNoaWxkcmVuID09PSBuZXdQcm9wcy5jaGlsZHJlbikge1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IDA7XG4gICAgICAgICAgcHVzaFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIH1cbiAgICAgICAgY2hhbmdlZEJpdHMgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG9sZFZhbHVlID0gb2xkUHJvcHMudmFsdWU7XG4gICAgICAgIC8vIFVzZSBPYmplY3QuaXMgdG8gY29tcGFyZSB0aGUgbmV3IGNvbnRleHQgdmFsdWUgdG8gdGhlIG9sZCB2YWx1ZS5cbiAgICAgICAgLy8gSW5saW5lZCBPYmplY3QuaXMgcG9seWZpbGwuXG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc1xuICAgICAgICBpZiAob2xkVmFsdWUgPT09IG5ld1ZhbHVlICYmIChvbGRWYWx1ZSAhPT0gMCB8fCAxIC8gb2xkVmFsdWUgPT09IDEgLyBuZXdWYWx1ZSkgfHwgb2xkVmFsdWUgIT09IG9sZFZhbHVlICYmIG5ld1ZhbHVlICE9PSBuZXdWYWx1ZSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgICAgICApIHtcbiAgICAgICAgICAgIC8vIE5vIGNoYW5nZS4gQmFpbG91dCBlYXJseSBpZiBjaGlsZHJlbiBhcmUgdGhlIHNhbWUuXG4gICAgICAgICAgICBpZiAob2xkUHJvcHMuY2hpbGRyZW4gPT09IG5ld1Byb3BzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IDA7XG4gICAgICAgICAgICAgIHB1c2hQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoYW5nZWRCaXRzID0gMDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoYW5nZWRCaXRzID0gdHlwZW9mIGNvbnRleHQuX2NhbGN1bGF0ZUNoYW5nZWRCaXRzID09PSAnZnVuY3Rpb24nID8gY29udGV4dC5fY2FsY3VsYXRlQ2hhbmdlZEJpdHMob2xkVmFsdWUsIG5ld1ZhbHVlKSA6IE1BWF9TSUdORURfMzFfQklUX0lOVDtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB3YXJuaW5nKChjaGFuZ2VkQml0cyAmIE1BWF9TSUdORURfMzFfQklUX0lOVCkgPT09IGNoYW5nZWRCaXRzLCAnY2FsY3VsYXRlQ2hhbmdlZEJpdHM6IEV4cGVjdGVkIHRoZSByZXR1cm4gdmFsdWUgdG8gYmUgYSAnICsgJzMxLWJpdCBpbnRlZ2VyLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcycsIGNoYW5nZWRCaXRzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hhbmdlZEJpdHMgfD0gMDtcblxuICAgICAgICAgIGlmIChjaGFuZ2VkQml0cyA9PT0gMCkge1xuICAgICAgICAgICAgLy8gTm8gY2hhbmdlLiBCYWlsb3V0IGVhcmx5IGlmIGNoaWxkcmVuIGFyZSB0aGUgc2FtZS5cbiAgICAgICAgICAgIGlmIChvbGRQcm9wcy5jaGlsZHJlbiA9PT0gbmV3UHJvcHMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gMDtcbiAgICAgICAgICAgICAgcHVzaFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9wYWdhdGVDb250ZXh0Q2hhbmdlKHdvcmtJblByb2dyZXNzLCBjb250ZXh0LCBjaGFuZ2VkQml0cywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGNoYW5nZWRCaXRzO1xuICAgIHB1c2hQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgICB2YXIgbmV3Q2hpbGRyZW4gPSBuZXdQcm9wcy5jaGlsZHJlbjtcbiAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV3Q2hpbGRyZW4pO1xuICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUNvbnRleHRDb25zdW1lcihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICB2YXIgY29udGV4dCA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgdmFyIG5ld1Byb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgIHZhciBvbGRQcm9wcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHM7XG5cbiAgICB2YXIgbmV3VmFsdWUgPSBjb250ZXh0Ll9jdXJyZW50VmFsdWU7XG4gICAgdmFyIGNoYW5nZWRCaXRzID0gY29udGV4dC5fY2hhbmdlZEJpdHM7XG5cbiAgICBpZiAoaGFzTGVnYWN5Q29udGV4dENoYW5nZWQoKSkge1xuICAgICAgLy8gTm9ybWFsbHkgd2UgY2FuIGJhaWwgb3V0IG9uIHByb3BzIGVxdWFsaXR5IGJ1dCBpZiBjb250ZXh0IGhhcyBjaGFuZ2VkXG4gICAgICAvLyB3ZSBkb24ndCBkbyB0aGUgYmFpbG91dCBhbmQgd2UgaGF2ZSB0byByZXVzZSBleGlzdGluZyBwcm9wcyBpbnN0ZWFkLlxuICAgIH0gZWxzZSBpZiAoY2hhbmdlZEJpdHMgPT09IDAgJiYgb2xkUHJvcHMgPT09IG5ld1Byb3BzKSB7XG4gICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPSBuZXdQcm9wcztcblxuICAgIHZhciBvYnNlcnZlZEJpdHMgPSBuZXdQcm9wcy51bnN0YWJsZV9vYnNlcnZlZEJpdHM7XG4gICAgaWYgKG9ic2VydmVkQml0cyA9PT0gdW5kZWZpbmVkIHx8IG9ic2VydmVkQml0cyA9PT0gbnVsbCkge1xuICAgICAgLy8gU3Vic2NyaWJlIHRvIGFsbCBjaGFuZ2VzIGJ5IGRlZmF1bHRcbiAgICAgIG9ic2VydmVkQml0cyA9IE1BWF9TSUdORURfMzFfQklUX0lOVDtcbiAgICB9XG4gICAgLy8gU3RvcmUgdGhlIG9ic2VydmVkQml0cyBvbiB0aGUgZmliZXIncyBzdGF0ZU5vZGUgZm9yIHF1aWNrIGFjY2Vzcy5cbiAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBvYnNlcnZlZEJpdHM7XG5cbiAgICBpZiAoKGNoYW5nZWRCaXRzICYgb2JzZXJ2ZWRCaXRzKSAhPT0gMCkge1xuICAgICAgLy8gQ29udGV4dCBjaGFuZ2UgcHJvcGFnYXRpb24gc3RvcHMgYXQgbWF0Y2hpbmcgY29uc3VtZXJzLCBmb3IgdGltZS1cbiAgICAgIC8vIHNsaWNpbmcuIENvbnRpbnVlIHRoZSBwcm9wYWdhdGlvbiBoZXJlLlxuICAgICAgcHJvcGFnYXRlQ29udGV4dENoYW5nZSh3b3JrSW5Qcm9ncmVzcywgY29udGV4dCwgY2hhbmdlZEJpdHMsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG4gICAgLy8gVGhlcmUgaXMgbm8gYmFpbG91dCBvbiBgY2hpbGRyZW5gIGVxdWFsaXR5IGJlY2F1c2Ugd2UgZXhwZWN0IHBlb3BsZVxuICAgIC8vIHRvIG9mdGVuIHBhc3MgYSBib3VuZCBtZXRob2QgYXMgYSBjaGlsZCwgYnV0IGl0IG1heSByZWZlcmVuY2VcbiAgICAvLyBgdGhpcy5zdGF0ZWAgb3IgYHRoaXMucHJvcHNgIChhbmQgdGh1cyBuZWVkcyB0byByZS1yZW5kZXIgb24gYHNldFN0YXRlYCkuXG5cbiAgICB2YXIgcmVuZGVyID0gbmV3UHJvcHMuY2hpbGRyZW47XG5cbiAgICB7XG4gICAgICB3YXJuaW5nKHR5cGVvZiByZW5kZXIgPT09ICdmdW5jdGlvbicsICdBIGNvbnRleHQgY29uc3VtZXIgd2FzIHJlbmRlcmVkIHdpdGggbXVsdGlwbGUgY2hpbGRyZW4sIG9yIGEgY2hpbGQgJyArIFwidGhhdCBpc24ndCBhIGZ1bmN0aW9uLiBBIGNvbnRleHQgY29uc3VtZXIgZXhwZWN0cyBhIHNpbmdsZSBjaGlsZCBcIiArICd0aGF0IGlzIGEgZnVuY3Rpb24uIElmIHlvdSBkaWQgcGFzcyBhIGZ1bmN0aW9uLCBtYWtlIHN1cmUgdGhlcmUgJyArICdpcyBubyB0cmFpbGluZyBvciBsZWFkaW5nIHdoaXRlc3BhY2UgYXJvdW5kIGl0LicpO1xuICAgIH1cblxuICAgIHZhciBuZXdDaGlsZHJlbiA9IHJlbmRlcihuZXdWYWx1ZSk7XG4gICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5ld0NoaWxkcmVuKTtcbiAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gIH1cblxuICAvKlxuICBmdW5jdGlvbiByZXVzZUNoaWxkcmVuRWZmZWN0cyhyZXR1cm5GaWJlciA6IEZpYmVyLCBmaXJzdENoaWxkIDogRmliZXIpIHtcbiAgICBsZXQgY2hpbGQgPSBmaXJzdENoaWxkO1xuICAgIGRvIHtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IHRoZSBmaXJzdCBhbmQgbGFzdCBlZmZlY3Qgb2YgdGhlIHBhcmVudCBjb3JyZXNwb25kc1xuICAgICAgLy8gdG8gdGhlIGNoaWxkcmVuJ3MgZmlyc3QgYW5kIGxhc3QgZWZmZWN0LlxuICAgICAgaWYgKCFyZXR1cm5GaWJlci5maXJzdEVmZmVjdCkge1xuICAgICAgICByZXR1cm5GaWJlci5maXJzdEVmZmVjdCA9IGNoaWxkLmZpcnN0RWZmZWN0O1xuICAgICAgfVxuICAgICAgaWYgKGNoaWxkLmxhc3RFZmZlY3QpIHtcbiAgICAgICAgaWYgKHJldHVybkZpYmVyLmxhc3RFZmZlY3QpIHtcbiAgICAgICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0Lm5leHRFZmZlY3QgPSBjaGlsZC5maXJzdEVmZmVjdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gY2hpbGQubGFzdEVmZmVjdDtcbiAgICAgIH1cbiAgICB9IHdoaWxlIChjaGlsZCA9IGNoaWxkLnNpYmxpbmcpO1xuICB9XG4gICovXG5cbiAgZnVuY3Rpb24gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICAgIGNhbmNlbFdvcmtUaW1lcih3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgICAvLyBUT0RPOiBXZSBzaG91bGQgaWRlYWxseSBiZSBhYmxlIHRvIGJhaWwgb3V0IGVhcmx5IGlmIHRoZSBjaGlsZHJlbiBoYXZlIG5vXG4gICAgLy8gbW9yZSB3b3JrIHRvIGRvLiBIb3dldmVyLCBzaW5jZSB3ZSBkb24ndCBoYXZlIGEgc2VwYXJhdGlvbiBvZiB0aGlzXG4gICAgLy8gRmliZXIncyBwcmlvcml0eSBhbmQgaXRzIGNoaWxkcmVuIHlldCAtIHdlIGRvbid0IGtub3cgd2l0aG91dCBkb2luZyBsb3RzXG4gICAgLy8gb2YgdGhlIHNhbWUgd29yayB3ZSBkbyBhbnl3YXkuIE9uY2Ugd2UgaGF2ZSB0aGF0IHNlcGFyYXRpb24gd2UgY2FuIGp1c3RcbiAgICAvLyBiYWlsIG91dCBoZXJlIGlmIHRoZSBjaGlsZHJlbiBoYXMgbm8gbW9yZSB3b3JrIGF0IHRoaXMgcHJpb3JpdHkgbGV2ZWwuXG4gICAgLy8gaWYgKHdvcmtJblByb2dyZXNzLnByaW9yaXR5T2ZDaGlsZHJlbiA8PSBwcmlvcml0eUxldmVsKSB7XG4gICAgLy8gICAvLyBJZiB0aGVyZSBhcmUgc2lkZS1lZmZlY3RzIGluIHRoZXNlIGNoaWxkcmVuIHRoYXQgaGF2ZSBub3QgeWV0IGJlZW5cbiAgICAvLyAgIC8vIGNvbW1pdHRlZCB3ZSBuZWVkIHRvIGVuc3VyZSB0aGF0IHRoZXkgZ2V0IHByb3Blcmx5IHRyYW5zZmVycmVkIHVwLlxuICAgIC8vICAgaWYgKGN1cnJlbnQgJiYgY3VycmVudC5jaGlsZCAhPT0gd29ya0luUHJvZ3Jlc3MuY2hpbGQpIHtcbiAgICAvLyAgICAgcmV1c2VDaGlsZHJlbkVmZmVjdHMod29ya0luUHJvZ3Jlc3MsIGNoaWxkKTtcbiAgICAvLyAgIH1cbiAgICAvLyAgIHJldHVybiBudWxsO1xuICAgIC8vIH1cblxuICAgIGNsb25lQ2hpbGRGaWJlcnMoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJhaWxvdXRPbkxvd1ByaW9yaXR5KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgY2FuY2VsV29ya1RpbWVyKHdvcmtJblByb2dyZXNzKTtcblxuICAgIC8vIFRPRE86IEhhbmRsZSBIb3N0Q29tcG9uZW50IHRhZ3MgaGVyZSBhcyB3ZWxsIGFuZCBjYWxsIHB1c2hIb3N0Q29udGV4dCgpP1xuICAgIC8vIFNlZSBQUiA4NTkwIGRpc2N1c3Npb24gZm9yIGNvbnRleHRcbiAgICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgICAgcHVzaEhvc3RSb290Q29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAgcHVzaExlZ2FjeUNvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAgICBwdXNoSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcywgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlLmNvbnRhaW5lckluZm8pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ29udGV4dFByb3ZpZGVyOlxuICAgICAgICBwdXNoUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gVE9ETzogV2hhdCBpZiB0aGlzIGlzIGN1cnJlbnRseSBpbiBwcm9ncmVzcz9cbiAgICAvLyBIb3cgY2FuIHRoYXQgaGFwcGVuPyBIb3cgaXMgdGhpcyBub3QgYmVpbmcgY2xvbmVkP1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gVE9ETzogRGVsZXRlIG1lbW9pemVQcm9wcy9TdGF0ZSBhbmQgbW92ZSB0byByZWNvbmNpbGUvYmFpbG91dCBpbnN0ZWFkXG4gIGZ1bmN0aW9uIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV4dFByb3BzKSB7XG4gICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9IG5leHRQcm9wcztcbiAgfVxuXG4gIGZ1bmN0aW9uIG1lbW9pemVTdGF0ZSh3b3JrSW5Qcm9ncmVzcywgbmV4dFN0YXRlKSB7XG4gICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IG5leHRTdGF0ZTtcbiAgICAvLyBEb24ndCByZXNldCB0aGUgdXBkYXRlUXVldWUsIGluIGNhc2UgdGhlcmUgYXJlIHBlbmRpbmcgdXBkYXRlcy4gUmVzZXR0aW5nXG4gICAgLy8gaXMgaGFuZGxlZCBieSBwcm9jZXNzVXBkYXRlUXVldWUuXG4gIH1cblxuICBmdW5jdGlvbiBiZWdpbldvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgaWYgKHdvcmtJblByb2dyZXNzLmV4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHwgd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWUgPiByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgICAgcmV0dXJuIGJhaWxvdXRPbkxvd1ByaW9yaXR5KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgICAgY2FzZSBJbmRldGVybWluYXRlQ29tcG9uZW50OlxuICAgICAgICByZXR1cm4gbW91bnRJbmRldGVybWluYXRlQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICBjYXNlIEZ1bmN0aW9uYWxDb21wb25lbnQ6XG4gICAgICAgIHJldHVybiB1cGRhdGVGdW5jdGlvbmFsQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgIHJldHVybiB1cGRhdGVDbGFzc0NvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUhvc3RSb290KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgIHJldHVybiB1cGRhdGVIb3N0Q29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICBjYXNlIEhvc3RUZXh0OlxuICAgICAgICByZXR1cm4gdXBkYXRlSG9zdFRleHQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgY2FzZSBDYWxsSGFuZGxlclBoYXNlOlxuICAgICAgICAvLyBUaGlzIGlzIGEgcmVzdGFydC4gUmVzZXQgdGhlIHRhZyB0byB0aGUgaW5pdGlhbCBwaGFzZS5cbiAgICAgICAgd29ya0luUHJvZ3Jlc3MudGFnID0gQ2FsbENvbXBvbmVudDtcbiAgICAgIC8vIEludGVudGlvbmFsbHkgZmFsbCB0aHJvdWdoIHNpbmNlIHRoaXMgaXMgbm93IHRoZSBzYW1lLlxuICAgICAgY2FzZSBDYWxsQ29tcG9uZW50OlxuICAgICAgICByZXR1cm4gdXBkYXRlQ2FsbENvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgY2FzZSBSZXR1cm5Db21wb25lbnQ6XG4gICAgICAgIC8vIEEgcmV0dXJuIGNvbXBvbmVudCBpcyBqdXN0IGEgcGxhY2Vob2xkZXIsIHdlIGNhbiBqdXN0IHJ1biB0aHJvdWdoIHRoZVxuICAgICAgICAvLyBuZXh0IG9uZSBpbW1lZGlhdGVseS5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgICAgIHJldHVybiB1cGRhdGVQb3J0YWxDb21wb25lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGNhc2UgRm9yd2FyZFJlZjpcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUZvcndhcmRSZWYoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgY2FzZSBGcmFnbWVudDpcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUZyYWdtZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIGNhc2UgTW9kZTpcbiAgICAgICAgcmV0dXJuIHVwZGF0ZU1vZGUoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgY2FzZSBDb250ZXh0UHJvdmlkZXI6XG4gICAgICAgIHJldHVybiB1cGRhdGVDb250ZXh0UHJvdmlkZXIoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGNhc2UgQ29udGV4dENvbnN1bWVyOlxuICAgICAgICByZXR1cm4gdXBkYXRlQ29udGV4dENvbnN1bWVyKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpbnZhcmlhbnQoZmFsc2UsICdVbmtub3duIHVuaXQgb2Ygd29yayB0YWcuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBiZWdpbldvcms6IGJlZ2luV29ya1xuICB9O1xufTtcblxudmFyIFJlYWN0RmliZXJDb21wbGV0ZVdvcmsgPSBmdW5jdGlvbiAoY29uZmlnLCBob3N0Q29udGV4dCwgbGVnYWN5Q29udGV4dCwgbmV3Q29udGV4dCwgaHlkcmF0aW9uQ29udGV4dCkge1xuICB2YXIgY3JlYXRlSW5zdGFuY2UgPSBjb25maWcuY3JlYXRlSW5zdGFuY2UsXG4gICAgICBjcmVhdGVUZXh0SW5zdGFuY2UgPSBjb25maWcuY3JlYXRlVGV4dEluc3RhbmNlLFxuICAgICAgYXBwZW5kSW5pdGlhbENoaWxkID0gY29uZmlnLmFwcGVuZEluaXRpYWxDaGlsZCxcbiAgICAgIGZpbmFsaXplSW5pdGlhbENoaWxkcmVuID0gY29uZmlnLmZpbmFsaXplSW5pdGlhbENoaWxkcmVuLFxuICAgICAgcHJlcGFyZVVwZGF0ZSA9IGNvbmZpZy5wcmVwYXJlVXBkYXRlLFxuICAgICAgbXV0YXRpb24gPSBjb25maWcubXV0YXRpb24sXG4gICAgICBwZXJzaXN0ZW5jZSA9IGNvbmZpZy5wZXJzaXN0ZW5jZTtcbiAgdmFyIGdldFJvb3RIb3N0Q29udGFpbmVyID0gaG9zdENvbnRleHQuZ2V0Um9vdEhvc3RDb250YWluZXIsXG4gICAgICBwb3BIb3N0Q29udGV4dCA9IGhvc3RDb250ZXh0LnBvcEhvc3RDb250ZXh0LFxuICAgICAgZ2V0SG9zdENvbnRleHQgPSBob3N0Q29udGV4dC5nZXRIb3N0Q29udGV4dCxcbiAgICAgIHBvcEhvc3RDb250YWluZXIgPSBob3N0Q29udGV4dC5wb3BIb3N0Q29udGFpbmVyO1xuICB2YXIgcG9wTGVnYWN5Q29udGV4dFByb3ZpZGVyID0gbGVnYWN5Q29udGV4dC5wb3BDb250ZXh0UHJvdmlkZXIsXG4gICAgICBwb3BUb3BMZXZlbExlZ2FjeUNvbnRleHRPYmplY3QgPSBsZWdhY3lDb250ZXh0LnBvcFRvcExldmVsQ29udGV4dE9iamVjdDtcbiAgdmFyIHBvcFByb3ZpZGVyID0gbmV3Q29udGV4dC5wb3BQcm92aWRlcjtcbiAgdmFyIHByZXBhcmVUb0h5ZHJhdGVIb3N0SW5zdGFuY2UgPSBoeWRyYXRpb25Db250ZXh0LnByZXBhcmVUb0h5ZHJhdGVIb3N0SW5zdGFuY2UsXG4gICAgICBwcmVwYXJlVG9IeWRyYXRlSG9zdFRleHRJbnN0YW5jZSA9IGh5ZHJhdGlvbkNvbnRleHQucHJlcGFyZVRvSHlkcmF0ZUhvc3RUZXh0SW5zdGFuY2UsXG4gICAgICBwb3BIeWRyYXRpb25TdGF0ZSA9IGh5ZHJhdGlvbkNvbnRleHQucG9wSHlkcmF0aW9uU3RhdGU7XG5cblxuICBmdW5jdGlvbiBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKSB7XG4gICAgLy8gVGFnIHRoZSBmaWJlciB3aXRoIGFuIHVwZGF0ZSBlZmZlY3QuIFRoaXMgdHVybnMgYSBQbGFjZW1lbnQgaW50b1xuICAgIC8vIGFuIFVwZGF0ZUFuZFBsYWNlbWVudC5cbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gVXBkYXRlO1xuICB9XG5cbiAgZnVuY3Rpb24gbWFya1JlZih3b3JrSW5Qcm9ncmVzcykge1xuICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBSZWY7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBlbmRBbGxSZXR1cm5zKHJldHVybnMsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgdmFyIG5vZGUgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgaWYgKG5vZGUpIHtcbiAgICAgIG5vZGVbJ3JldHVybiddID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgfVxuICAgIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgICBpZiAobm9kZS50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgbm9kZS50YWcgPT09IEhvc3RUZXh0IHx8IG5vZGUudGFnID09PSBIb3N0UG9ydGFsKSB7XG4gICAgICAgIGludmFyaWFudChmYWxzZSwgJ0EgY2FsbCBjYW5ub3QgaGF2ZSBob3N0IGNvbXBvbmVudCBjaGlsZHJlbi4nKTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZS50YWcgPT09IFJldHVybkNvbXBvbmVudCkge1xuICAgICAgICByZXR1cm5zLnB1c2gobm9kZS5wZW5kaW5nUHJvcHMudmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChub2RlLmNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgIG5vZGUuY2hpbGRbJ3JldHVybiddID0gbm9kZTtcbiAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgd2hpbGUgKG5vZGUuc2libGluZyA9PT0gbnVsbCkge1xuICAgICAgICBpZiAobm9kZVsncmV0dXJuJ10gPT09IG51bGwgfHwgbm9kZVsncmV0dXJuJ10gPT09IHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBub2RlWydyZXR1cm4nXTtcbiAgICAgIH1cbiAgICAgIG5vZGUuc2libGluZ1sncmV0dXJuJ10gPSBub2RlWydyZXR1cm4nXTtcbiAgICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbW92ZUNhbGxUb0hhbmRsZXJQaGFzZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICB2YXIgcHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzO1xuICAgICFwcm9wcyA/IGludmFyaWFudChmYWxzZSwgJ1Nob3VsZCBiZSByZXNvbHZlZCBieSBub3cuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG5cbiAgICAvLyBGaXJzdCBzdGVwIG9mIHRoZSBjYWxsIGhhcyBjb21wbGV0ZWQuIE5vdyB3ZSBuZWVkIHRvIGRvIHRoZSBzZWNvbmQuXG4gICAgLy8gVE9ETzogSXQgd291bGQgYmUgbmljZSB0byBoYXZlIGEgbXVsdGkgc3RhZ2UgY2FsbCByZXByZXNlbnRlZCBieSBhXG4gICAgLy8gc2luZ2xlIGNvbXBvbmVudCwgb3IgYXQgbGVhc3QgdGFpbCBjYWxsIG9wdGltaXplIG5lc3RlZCBvbmVzLiBDdXJyZW50bHlcbiAgICAvLyB0aGF0IHJlcXVpcmVzIGFkZGl0aW9uYWwgZmllbGRzIHRoYXQgd2UgZG9uJ3Qgd2FudCB0byBhZGQgdG8gdGhlIGZpYmVyLlxuICAgIC8vIFNvIHRoaXMgcmVxdWlyZXMgbmVzdGVkIGhhbmRsZXJzLlxuICAgIC8vIE5vdGU6IFRoaXMgZG9lc24ndCBtdXRhdGUgdGhlIGFsdGVybmF0ZSBub2RlLiBJIGRvbid0IHRoaW5rIGl0IG5lZWRzIHRvXG4gICAgLy8gc2luY2UgdGhpcyBzdGFnZSBpcyByZXNldCBmb3IgZXZlcnkgcGFzcy5cbiAgICB3b3JrSW5Qcm9ncmVzcy50YWcgPSBDYWxsSGFuZGxlclBoYXNlO1xuXG4gICAgLy8gQnVpbGQgdXAgdGhlIHJldHVybnMuXG4gICAgLy8gVE9ETzogQ29tcGFyZSB0aGlzIHRvIGEgZ2VuZXJhdG9yIG9yIG9wYXF1ZSBoZWxwZXJzIGxpa2UgQ2hpbGRyZW4uXG4gICAgdmFyIHJldHVybnMgPSBbXTtcbiAgICBhcHBlbmRBbGxSZXR1cm5zKHJldHVybnMsIHdvcmtJblByb2dyZXNzKTtcbiAgICB2YXIgZm4gPSBwcm9wcy5oYW5kbGVyO1xuICAgIHZhciBjaGlsZFByb3BzID0gcHJvcHMucHJvcHM7XG4gICAgdmFyIG5leHRDaGlsZHJlbiA9IGZuKGNoaWxkUHJvcHMsIHJldHVybnMpO1xuXG4gICAgdmFyIGN1cnJlbnRGaXJzdENoaWxkID0gY3VycmVudCAhPT0gbnVsbCA/IGN1cnJlbnQuY2hpbGQgOiBudWxsO1xuICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID0gcmVjb25jaWxlQ2hpbGRGaWJlcnMod29ya0luUHJvZ3Jlc3MsIGN1cnJlbnRGaXJzdENoaWxkLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBlbmRBbGxDaGlsZHJlbihwYXJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgLy8gV2Ugb25seSBoYXZlIHRoZSB0b3AgRmliZXIgdGhhdCB3YXMgY3JlYXRlZCBidXQgd2UgbmVlZCByZWN1cnNlIGRvd24gaXRzXG4gICAgLy8gY2hpbGRyZW4gdG8gZmluZCBhbGwgdGhlIHRlcm1pbmFsIG5vZGVzLlxuICAgIHZhciBub2RlID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgd2hpbGUgKG5vZGUgIT09IG51bGwpIHtcbiAgICAgIGlmIChub2RlLnRhZyA9PT0gSG9zdENvbXBvbmVudCB8fCBub2RlLnRhZyA9PT0gSG9zdFRleHQpIHtcbiAgICAgICAgYXBwZW5kSW5pdGlhbENoaWxkKHBhcmVudCwgbm9kZS5zdGF0ZU5vZGUpO1xuICAgICAgfSBlbHNlIGlmIChub2RlLnRhZyA9PT0gSG9zdFBvcnRhbCkge1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgcG9ydGFsIGNoaWxkLCB0aGVuIHdlIGRvbid0IHdhbnQgdG8gdHJhdmVyc2VcbiAgICAgICAgLy8gZG93biBpdHMgY2hpbGRyZW4uIEluc3RlYWQsIHdlJ2xsIGdldCBpbnNlcnRpb25zIGZyb20gZWFjaCBjaGlsZCBpblxuICAgICAgICAvLyB0aGUgcG9ydGFsIGRpcmVjdGx5LlxuICAgICAgfSBlbHNlIGlmIChub2RlLmNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgIG5vZGUuY2hpbGRbJ3JldHVybiddID0gbm9kZTtcbiAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUgPT09IHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChub2RlLnNpYmxpbmcgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKG5vZGVbJ3JldHVybiddID09PSBudWxsIHx8IG5vZGVbJ3JldHVybiddID09PSB3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZVsncmV0dXJuJ107XG4gICAgICB9XG4gICAgICBub2RlLnNpYmxpbmdbJ3JldHVybiddID0gbm9kZVsncmV0dXJuJ107XG4gICAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICAgIH1cbiAgfVxuXG4gIHZhciB1cGRhdGVIb3N0Q29udGFpbmVyID0gdm9pZCAwO1xuICB2YXIgdXBkYXRlSG9zdENvbXBvbmVudCA9IHZvaWQgMDtcbiAgdmFyIHVwZGF0ZUhvc3RUZXh0ID0gdm9pZCAwO1xuICBpZiAobXV0YXRpb24pIHtcbiAgICBpZiAoZW5hYmxlTXV0YXRpbmdSZWNvbmNpbGVyKSB7XG4gICAgICAvLyBNdXRhdGlvbiBtb2RlXG4gICAgICB1cGRhdGVIb3N0Q29udGFpbmVyID0gZnVuY3Rpb24gKHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgIC8vIE5vb3BcbiAgICAgIH07XG4gICAgICB1cGRhdGVIb3N0Q29tcG9uZW50ID0gZnVuY3Rpb24gKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCB1cGRhdGVQYXlsb2FkLCB0eXBlLCBvbGRQcm9wcywgbmV3UHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgY3VycmVudEhvc3RDb250ZXh0KSB7XG4gICAgICAgIC8vIFRPRE86IFR5cGUgdGhpcyBzcGVjaWZpYyB0byB0aGlzIHR5cGUgb2YgY29tcG9uZW50LlxuICAgICAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IHVwZGF0ZVBheWxvYWQ7XG4gICAgICAgIC8vIElmIHRoZSB1cGRhdGUgcGF5bG9hZCBpbmRpY2F0ZXMgdGhhdCB0aGVyZSBpcyBhIGNoYW5nZSBvciBpZiB0aGVyZVxuICAgICAgICAvLyBpcyBhIG5ldyByZWYgd2UgbWFyayB0aGlzIGFzIGFuIHVwZGF0ZS4gQWxsIHRoZSB3b3JrIGlzIGRvbmUgaW4gY29tbWl0V29yay5cbiAgICAgICAgaWYgKHVwZGF0ZVBheWxvYWQpIHtcbiAgICAgICAgICBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHVwZGF0ZUhvc3RUZXh0ID0gZnVuY3Rpb24gKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBvbGRUZXh0LCBuZXdUZXh0KSB7XG4gICAgICAgIC8vIElmIHRoZSB0ZXh0IGRpZmZlcnMsIG1hcmsgaXQgYXMgYW4gdXBkYXRlLiBBbGwgdGhlIHdvcmsgaW4gZG9uZSBpbiBjb21taXRXb3JrLlxuICAgICAgICBpZiAob2xkVGV4dCAhPT0gbmV3VGV4dCkge1xuICAgICAgICAgIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnZhcmlhbnQoZmFsc2UsICdNdXRhdGluZyByZWNvbmNpbGVyIGlzIGRpc2FibGVkLicpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChwZXJzaXN0ZW5jZSkge1xuICAgIGlmIChlbmFibGVQZXJzaXN0ZW50UmVjb25jaWxlcikge1xuICAgICAgLy8gUGVyc2lzdGVudCBob3N0IHRyZWUgbW9kZVxuICAgICAgdmFyIGNsb25lSW5zdGFuY2UgPSBwZXJzaXN0ZW5jZS5jbG9uZUluc3RhbmNlLFxuICAgICAgICAgIGNyZWF0ZUNvbnRhaW5lckNoaWxkU2V0ID0gcGVyc2lzdGVuY2UuY3JlYXRlQ29udGFpbmVyQ2hpbGRTZXQsXG4gICAgICAgICAgYXBwZW5kQ2hpbGRUb0NvbnRhaW5lckNoaWxkU2V0ID0gcGVyc2lzdGVuY2UuYXBwZW5kQ2hpbGRUb0NvbnRhaW5lckNoaWxkU2V0LFxuICAgICAgICAgIGZpbmFsaXplQ29udGFpbmVyQ2hpbGRyZW4gPSBwZXJzaXN0ZW5jZS5maW5hbGl6ZUNvbnRhaW5lckNoaWxkcmVuO1xuXG4gICAgICAvLyBBbiB1bmZvcnR1bmF0ZSBmb3JrIG9mIGFwcGVuZEFsbENoaWxkcmVuIGJlY2F1c2Ugd2UgaGF2ZSB0d28gZGlmZmVyZW50IHBhcmVudCB0eXBlcy5cblxuICAgICAgdmFyIGFwcGVuZEFsbENoaWxkcmVuVG9Db250YWluZXIgPSBmdW5jdGlvbiAoY29udGFpbmVyQ2hpbGRTZXQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgIC8vIFdlIG9ubHkgaGF2ZSB0aGUgdG9wIEZpYmVyIHRoYXQgd2FzIGNyZWF0ZWQgYnV0IHdlIG5lZWQgcmVjdXJzZSBkb3duIGl0c1xuICAgICAgICAvLyBjaGlsZHJlbiB0byBmaW5kIGFsbCB0aGUgdGVybWluYWwgbm9kZXMuXG4gICAgICAgIHZhciBub2RlID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgICAgIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgaWYgKG5vZGUudGFnID09PSBIb3N0Q29tcG9uZW50IHx8IG5vZGUudGFnID09PSBIb3N0VGV4dCkge1xuICAgICAgICAgICAgYXBwZW5kQ2hpbGRUb0NvbnRhaW5lckNoaWxkU2V0KGNvbnRhaW5lckNoaWxkU2V0LCBub2RlLnN0YXRlTm9kZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChub2RlLnRhZyA9PT0gSG9zdFBvcnRhbCkge1xuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHBvcnRhbCBjaGlsZCwgdGhlbiB3ZSBkb24ndCB3YW50IHRvIHRyYXZlcnNlXG4gICAgICAgICAgICAvLyBkb3duIGl0cyBjaGlsZHJlbi4gSW5zdGVhZCwgd2UnbGwgZ2V0IGluc2VydGlvbnMgZnJvbSBlYWNoIGNoaWxkIGluXG4gICAgICAgICAgICAvLyB0aGUgcG9ydGFsIGRpcmVjdGx5LlxuICAgICAgICAgIH0gZWxzZSBpZiAobm9kZS5jaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbm9kZS5jaGlsZFsncmV0dXJuJ10gPSBub2RlO1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5vZGUgPT09IHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHdoaWxlIChub2RlLnNpYmxpbmcgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChub2RlWydyZXR1cm4nXSA9PT0gbnVsbCB8fCBub2RlWydyZXR1cm4nXSA9PT0gd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZSA9IG5vZGVbJ3JldHVybiddO1xuICAgICAgICAgIH1cbiAgICAgICAgICBub2RlLnNpYmxpbmdbJ3JldHVybiddID0gbm9kZVsncmV0dXJuJ107XG4gICAgICAgICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHVwZGF0ZUhvc3RDb250YWluZXIgPSBmdW5jdGlvbiAod29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgdmFyIHBvcnRhbE9yUm9vdCA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgdmFyIGNoaWxkcmVuVW5jaGFuZ2VkID0gd29ya0luUHJvZ3Jlc3MuZmlyc3RFZmZlY3QgPT09IG51bGw7XG4gICAgICAgIGlmIChjaGlsZHJlblVuY2hhbmdlZCkge1xuICAgICAgICAgIC8vIE5vIGNoYW5nZXMsIGp1c3QgcmV1c2UgdGhlIGV4aXN0aW5nIGluc3RhbmNlLlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBjb250YWluZXIgPSBwb3J0YWxPclJvb3QuY29udGFpbmVySW5mbztcbiAgICAgICAgICB2YXIgbmV3Q2hpbGRTZXQgPSBjcmVhdGVDb250YWluZXJDaGlsZFNldChjb250YWluZXIpO1xuICAgICAgICAgIC8vIElmIGNoaWxkcmVuIG1pZ2h0IGhhdmUgY2hhbmdlZCwgd2UgaGF2ZSB0byBhZGQgdGhlbSBhbGwgdG8gdGhlIHNldC5cbiAgICAgICAgICBhcHBlbmRBbGxDaGlsZHJlblRvQ29udGFpbmVyKG5ld0NoaWxkU2V0LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgcG9ydGFsT3JSb290LnBlbmRpbmdDaGlsZHJlbiA9IG5ld0NoaWxkU2V0O1xuICAgICAgICAgIC8vIFNjaGVkdWxlIGFuIHVwZGF0ZSBvbiB0aGUgY29udGFpbmVyIHRvIHN3YXAgb3V0IHRoZSBjb250YWluZXIuXG4gICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgZmluYWxpemVDb250YWluZXJDaGlsZHJlbihjb250YWluZXIsIG5ld0NoaWxkU2V0KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHVwZGF0ZUhvc3RDb21wb25lbnQgPSBmdW5jdGlvbiAoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHVwZGF0ZVBheWxvYWQsIHR5cGUsIG9sZFByb3BzLCBuZXdQcm9wcywgcm9vdENvbnRhaW5lckluc3RhbmNlLCBjdXJyZW50SG9zdENvbnRleHQpIHtcbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vIGVmZmVjdHMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbm9kZSwgdGhlbiBub25lIG9mIG91ciBjaGlsZHJlbiBoYWQgYW55IHVwZGF0ZXMuXG4gICAgICAgIC8vIFRoaXMgZ3VhcmFudGVlcyB0aGF0IHdlIGNhbiByZXVzZSBhbGwgb2YgdGhlbS5cbiAgICAgICAgdmFyIGNoaWxkcmVuVW5jaGFuZ2VkID0gd29ya0luUHJvZ3Jlc3MuZmlyc3RFZmZlY3QgPT09IG51bGw7XG4gICAgICAgIHZhciBjdXJyZW50SW5zdGFuY2UgPSBjdXJyZW50LnN0YXRlTm9kZTtcbiAgICAgICAgaWYgKGNoaWxkcmVuVW5jaGFuZ2VkICYmIHVwZGF0ZVBheWxvYWQgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBObyBjaGFuZ2VzLCBqdXN0IHJldXNlIHRoZSBleGlzdGluZyBpbnN0YW5jZS5cbiAgICAgICAgICAvLyBOb3RlIHRoYXQgdGhpcyBtaWdodCByZWxlYXNlIGEgcHJldmlvdXMgY2xvbmUuXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gY3VycmVudEluc3RhbmNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciByZWN5Y2xhYmxlSW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICAgICAgdmFyIG5ld0luc3RhbmNlID0gY2xvbmVJbnN0YW5jZShjdXJyZW50SW5zdGFuY2UsIHVwZGF0ZVBheWxvYWQsIHR5cGUsIG9sZFByb3BzLCBuZXdQcm9wcywgd29ya0luUHJvZ3Jlc3MsIGNoaWxkcmVuVW5jaGFuZ2VkLCByZWN5Y2xhYmxlSW5zdGFuY2UpO1xuICAgICAgICAgIGlmIChmaW5hbGl6ZUluaXRpYWxDaGlsZHJlbihuZXdJbnN0YW5jZSwgdHlwZSwgbmV3UHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgY3VycmVudEhvc3RDb250ZXh0KSkge1xuICAgICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IG5ld0luc3RhbmNlO1xuICAgICAgICAgIGlmIChjaGlsZHJlblVuY2hhbmdlZCkge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vIG90aGVyIGVmZmVjdHMgaW4gdGhpcyB0cmVlLCB3ZSBuZWVkIHRvIGZsYWcgdGhpcyBub2RlIGFzIGhhdmluZyBvbmUuXG4gICAgICAgICAgICAvLyBFdmVuIHRob3VnaCB3ZSdyZSBub3QgZ29pbmcgdG8gdXNlIGl0IGZvciBhbnl0aGluZy5cbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSBwYXJlbnRzIHdvbid0IGtub3cgdGhhdCB0aGVyZSBhcmUgbmV3IGNoaWxkcmVuIHRvIHByb3BhZ2F0ZSB1cHdhcmRzLlxuICAgICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIGNoaWxkcmVuIG1pZ2h0IGhhdmUgY2hhbmdlZCwgd2UgaGF2ZSB0byBhZGQgdGhlbSBhbGwgdG8gdGhlIHNldC5cbiAgICAgICAgICAgIGFwcGVuZEFsbENoaWxkcmVuKG5ld0luc3RhbmNlLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdXBkYXRlSG9zdFRleHQgPSBmdW5jdGlvbiAoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG9sZFRleHQsIG5ld1RleHQpIHtcbiAgICAgICAgaWYgKG9sZFRleHQgIT09IG5ld1RleHQpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgdGV4dCBjb250ZW50IGRpZmZlcnMsIHdlJ2xsIGNyZWF0ZSBhIG5ldyB0ZXh0IGluc3RhbmNlIGZvciBpdC5cbiAgICAgICAgICB2YXIgcm9vdENvbnRhaW5lckluc3RhbmNlID0gZ2V0Um9vdEhvc3RDb250YWluZXIoKTtcbiAgICAgICAgICB2YXIgY3VycmVudEhvc3RDb250ZXh0ID0gZ2V0SG9zdENvbnRleHQoKTtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBjcmVhdGVUZXh0SW5zdGFuY2UobmV3VGV4dCwgcm9vdENvbnRhaW5lckluc3RhbmNlLCBjdXJyZW50SG9zdENvbnRleHQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAvLyBXZSdsbCBoYXZlIHRvIG1hcmsgaXQgYXMgaGF2aW5nIGFuIGVmZmVjdCwgZXZlbiB0aG91Z2ggd2Ugd29uJ3QgdXNlIHRoZSBlZmZlY3QgZm9yIGFueXRoaW5nLlxuICAgICAgICAgIC8vIFRoaXMgbGV0cyB0aGUgcGFyZW50cyBrbm93IHRoYXQgYXQgbGVhc3Qgb25lIG9mIHRoZWlyIGNoaWxkcmVuIGhhcyBjaGFuZ2VkLlxuICAgICAgICAgIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnZhcmlhbnQoZmFsc2UsICdQZXJzaXN0ZW50IHJlY29uY2lsZXIgaXMgZGlzYWJsZWQuJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChlbmFibGVOb29wUmVjb25jaWxlcikge1xuICAgICAgLy8gTm8gaG9zdCBvcGVyYXRpb25zXG4gICAgICB1cGRhdGVIb3N0Q29udGFpbmVyID0gZnVuY3Rpb24gKHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgIC8vIE5vb3BcbiAgICAgIH07XG4gICAgICB1cGRhdGVIb3N0Q29tcG9uZW50ID0gZnVuY3Rpb24gKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCB1cGRhdGVQYXlsb2FkLCB0eXBlLCBvbGRQcm9wcywgbmV3UHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgY3VycmVudEhvc3RDb250ZXh0KSB7XG4gICAgICAgIC8vIE5vb3BcbiAgICAgIH07XG4gICAgICB1cGRhdGVIb3N0VGV4dCA9IGZ1bmN0aW9uIChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgb2xkVGV4dCwgbmV3VGV4dCkge1xuICAgICAgICAvLyBOb29wXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnZhcmlhbnQoZmFsc2UsICdOb29wIHJlY29uY2lsZXIgaXMgZGlzYWJsZWQuJyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tcGxldGVXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgIHZhciBuZXdQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgICAgY2FzZSBGdW5jdGlvbmFsQ29tcG9uZW50OlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICAvLyBXZSBhcmUgbGVhdmluZyB0aGlzIHN1YnRyZWUsIHNvIHBvcCBjb250ZXh0IGlmIGFueS5cbiAgICAgICAgICBwb3BMZWdhY3lDb250ZXh0UHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgICAgICAgLy8gSWYgdGhpcyBjb21wb25lbnQgY2F1Z2h0IGFuIGVycm9yLCBzY2hlZHVsZSBhbiBlcnJvciBsb2cgZWZmZWN0LlxuICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgICB2YXIgdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICAgICAgICBpZiAodXBkYXRlUXVldWUgIT09IG51bGwgJiYgdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyAmPSB+RGlkQ2FwdHVyZTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkQ2F0Y2ggPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IEVyckxvZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIE5vcm1hbGx5IHdlIGNsZWFyIHRoaXMgaW4gdGhlIGNvbW1pdCBwaGFzZSwgYnV0IHNpbmNlIHdlIGRpZCBub3RcbiAgICAgICAgICAgICAgLy8gc2NoZWR1bGUgYW4gZWZmZWN0LCB3ZSBuZWVkIHRvIHJlc2V0IGl0IGhlcmUuXG4gICAgICAgICAgICAgIHVwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgIHtcbiAgICAgICAgICBwb3BIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBwb3BUb3BMZXZlbExlZ2FjeUNvbnRleHRPYmplY3Qod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHZhciBmaWJlclJvb3QgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICAgICAgaWYgKGZpYmVyUm9vdC5wZW5kaW5nQ29udGV4dCkge1xuICAgICAgICAgICAgZmliZXJSb290LmNvbnRleHQgPSBmaWJlclJvb3QucGVuZGluZ0NvbnRleHQ7XG4gICAgICAgICAgICBmaWJlclJvb3QucGVuZGluZ0NvbnRleHQgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY3VycmVudCA9PT0gbnVsbCB8fCBjdXJyZW50LmNoaWxkID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBoeWRyYXRlZCwgcG9wIHNvIHRoYXQgd2UgY2FuIGRlbGV0ZSBhbnkgcmVtYWluaW5nIGNoaWxkcmVuXG4gICAgICAgICAgICAvLyB0aGF0IHdlcmVuJ3QgaHlkcmF0ZWQuXG4gICAgICAgICAgICBwb3BIeWRyYXRpb25TdGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICAvLyBUaGlzIHJlc2V0cyB0aGUgaGFja3kgc3RhdGUgdG8gZml4IGlzTW91bnRlZCBiZWZvcmUgY29tbWl0dGluZy5cbiAgICAgICAgICAgIC8vIFRPRE86IERlbGV0ZSB0aGlzIHdoZW4gd2UgZGVsZXRlIGlzTW91bnRlZCBhbmQgZmluZERPTU5vZGUuXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgJj0gflBsYWNlbWVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdXBkYXRlSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgICAgICAgICB2YXIgX3VwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgICAgICAgaWYgKF91cGRhdGVRdWV1ZSAhPT0gbnVsbCAmJiBfdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBFcnJMb2c7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICBwb3BIb3N0Q29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgdmFyIHJvb3RDb250YWluZXJJbnN0YW5jZSA9IGdldFJvb3RIb3N0Q29udGFpbmVyKCk7XG4gICAgICAgICAgdmFyIHR5cGUgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgICAgICAgIGlmIChjdXJyZW50ICE9PSBudWxsICYmIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGFuIGFsdGVybmF0ZSwgdGhhdCBtZWFucyB0aGlzIGlzIGFuIHVwZGF0ZSBhbmQgd2UgbmVlZCB0b1xuICAgICAgICAgICAgLy8gc2NoZWR1bGUgYSBzaWRlLWVmZmVjdCB0byBkbyB0aGUgdXBkYXRlcy5cbiAgICAgICAgICAgIHZhciBvbGRQcm9wcyA9IGN1cnJlbnQubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICAgIC8vIElmIHdlIGdldCB1cGRhdGVkIGJlY2F1c2Ugb25lIG9mIG91ciBjaGlsZHJlbiB1cGRhdGVkLCB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gaGF2ZSBuZXdQcm9wcyBzbyB3ZSdsbCBoYXZlIHRvIHJldXNlIHRoZW0uXG4gICAgICAgICAgICAvLyBUT0RPOiBTcGxpdCB0aGUgdXBkYXRlIEFQSSBhcyBzZXBhcmF0ZSBmb3IgdGhlIHByb3BzIHZzLiBjaGlsZHJlbi5cbiAgICAgICAgICAgIC8vIEV2ZW4gYmV0dGVyIHdvdWxkIGJlIGlmIGNoaWxkcmVuIHdlcmVuJ3Qgc3BlY2lhbCBjYXNlZCBhdCBhbGwgdGhvLlxuICAgICAgICAgICAgdmFyIF9pbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50SG9zdENvbnRleHQgPSBnZXRIb3N0Q29udGV4dCgpO1xuICAgICAgICAgICAgLy8gVE9ETzogRXhwZXJpZW5jaW5nIGFuIGVycm9yIHdoZXJlIG9sZFByb3BzIGlzIG51bGwuIFN1Z2dlc3RzIGEgaG9zdFxuICAgICAgICAgICAgLy8gY29tcG9uZW50IGlzIGhpdHRpbmcgdGhlIHJlc3VtZSBwYXRoLiBGaWd1cmUgb3V0IHdoeS4gUG9zc2libHlcbiAgICAgICAgICAgIC8vIHJlbGF0ZWQgdG8gYGhpZGRlbmAuXG4gICAgICAgICAgICB2YXIgdXBkYXRlUGF5bG9hZCA9IHByZXBhcmVVcGRhdGUoX2luc3RhbmNlLCB0eXBlLCBvbGRQcm9wcywgbmV3UHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgY3VycmVudEhvc3RDb250ZXh0KTtcblxuICAgICAgICAgICAgdXBkYXRlSG9zdENvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgdXBkYXRlUGF5bG9hZCwgdHlwZSwgb2xkUHJvcHMsIG5ld1Byb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UsIGN1cnJlbnRIb3N0Q29udGV4dCk7XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50LnJlZiAhPT0gd29ya0luUHJvZ3Jlc3MucmVmKSB7XG4gICAgICAgICAgICAgIG1hcmtSZWYod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIW5ld1Byb3BzKSB7XG4gICAgICAgICAgICAgICEod29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlICE9PSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ1dlIG11c3QgaGF2ZSBuZXcgcHJvcHMgZm9yIG5ldyBtb3VudHMuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIC8vIFRoaXMgY2FuIGhhcHBlbiB3aGVuIHdlIGFib3J0IHdvcmsuXG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgX2N1cnJlbnRIb3N0Q29udGV4dCA9IGdldEhvc3RDb250ZXh0KCk7XG4gICAgICAgICAgICAvLyBUT0RPOiBNb3ZlIGNyZWF0ZUluc3RhbmNlIHRvIGJlZ2luV29yayBhbmQga2VlcCBpdCBvbiBhIGNvbnRleHRcbiAgICAgICAgICAgIC8vIFwic3RhY2tcIiBhcyB0aGUgcGFyZW50LiBUaGVuIGFwcGVuZCBjaGlsZHJlbiBhcyB3ZSBnbyBpbiBiZWdpbldvcmtcbiAgICAgICAgICAgIC8vIG9yIGNvbXBsZXRlV29yayBkZXBlbmRpbmcgb24gd2Ugd2FudCB0byBhZGQgdGhlbiB0b3AtPmRvd24gb3JcbiAgICAgICAgICAgIC8vIGJvdHRvbS0+dXAuIFRvcC0+ZG93biBpcyBmYXN0ZXIgaW4gSUUxMS5cbiAgICAgICAgICAgIHZhciB3YXNIeWRyYXRlZCA9IHBvcEh5ZHJhdGlvblN0YXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgIGlmICh3YXNIeWRyYXRlZCkge1xuICAgICAgICAgICAgICAvLyBUT0RPOiBNb3ZlIHRoaXMgYW5kIGNyZWF0ZUluc3RhbmNlIHN0ZXAgaW50byB0aGUgYmVnaW5QaGFzZVxuICAgICAgICAgICAgICAvLyB0byBjb25zb2xpZGF0ZS5cbiAgICAgICAgICAgICAgaWYgKHByZXBhcmVUb0h5ZHJhdGVIb3N0SW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgX2N1cnJlbnRIb3N0Q29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBjaGFuZ2VzIHRvIHRoZSBoeWRyYXRlZCBub2RlIG5lZWRzIHRvIGJlIGFwcGxpZWQgYXQgdGhlXG4gICAgICAgICAgICAgICAgLy8gY29tbWl0LXBoYXNlIHdlIG1hcmsgdGhpcyBhcyBzdWNoLlxuICAgICAgICAgICAgICAgIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2YXIgX2luc3RhbmNlMiA9IGNyZWF0ZUluc3RhbmNlKHR5cGUsIG5ld1Byb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UsIF9jdXJyZW50SG9zdENvbnRleHQsIHdvcmtJblByb2dyZXNzKTtcblxuICAgICAgICAgICAgICBhcHBlbmRBbGxDaGlsZHJlbihfaW5zdGFuY2UyLCB3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgICAgICAgICAgICAgLy8gQ2VydGFpbiByZW5kZXJlcnMgcmVxdWlyZSBjb21taXQtdGltZSBlZmZlY3RzIGZvciBpbml0aWFsIG1vdW50LlxuICAgICAgICAgICAgICAvLyAoZWcgRE9NIHJlbmRlcmVyIHN1cHBvcnRzIGF1dG8tZm9jdXMgZm9yIGNlcnRhaW4gZWxlbWVudHMpLlxuICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgc3VjaCByZW5kZXJlcnMgZ2V0IHNjaGVkdWxlZCBmb3IgbGF0ZXIgd29yay5cbiAgICAgICAgICAgICAgaWYgKGZpbmFsaXplSW5pdGlhbENoaWxkcmVuKF9pbnN0YW5jZTIsIHR5cGUsIG5ld1Byb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UsIF9jdXJyZW50SG9zdENvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gX2luc3RhbmNlMjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHdvcmtJblByb2dyZXNzLnJlZiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIHJlZiBvbiBhIGhvc3Qgbm9kZSB3ZSBuZWVkIHRvIHNjaGVkdWxlIGEgY2FsbGJhY2tcbiAgICAgICAgICAgICAgbWFya1JlZih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICBjYXNlIEhvc3RUZXh0OlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIG5ld1RleHQgPSBuZXdQcm9wcztcbiAgICAgICAgICBpZiAoY3VycmVudCAmJiB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIG9sZFRleHQgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGFuIGFsdGVybmF0ZSwgdGhhdCBtZWFucyB0aGlzIGlzIGFuIHVwZGF0ZSBhbmQgd2UgbmVlZFxuICAgICAgICAgICAgLy8gdG8gc2NoZWR1bGUgYSBzaWRlLWVmZmVjdCB0byBkbyB0aGUgdXBkYXRlcy5cbiAgICAgICAgICAgIHVwZGF0ZUhvc3RUZXh0KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBvbGRUZXh0LCBuZXdUZXh0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXdUZXh0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAhKHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSAhPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdXZSBtdXN0IGhhdmUgbmV3IHByb3BzIGZvciBuZXcgbW91bnRzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICAgICAgICAgICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gd2hlbiB3ZSBhYm9ydCB3b3JrLlxuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfcm9vdENvbnRhaW5lckluc3RhbmNlID0gZ2V0Um9vdEhvc3RDb250YWluZXIoKTtcbiAgICAgICAgICAgIHZhciBfY3VycmVudEhvc3RDb250ZXh0MiA9IGdldEhvc3RDb250ZXh0KCk7XG4gICAgICAgICAgICB2YXIgX3dhc0h5ZHJhdGVkID0gcG9wSHlkcmF0aW9uU3RhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgaWYgKF93YXNIeWRyYXRlZCkge1xuICAgICAgICAgICAgICBpZiAocHJlcGFyZVRvSHlkcmF0ZUhvc3RUZXh0SW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MpKSB7XG4gICAgICAgICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGNyZWF0ZVRleHRJbnN0YW5jZShuZXdUZXh0LCBfcm9vdENvbnRhaW5lckluc3RhbmNlLCBfY3VycmVudEhvc3RDb250ZXh0Miwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgY2FzZSBDYWxsQ29tcG9uZW50OlxuICAgICAgICByZXR1cm4gbW92ZUNhbGxUb0hhbmRsZXJQaGFzZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgY2FzZSBDYWxsSGFuZGxlclBoYXNlOlxuICAgICAgICAvLyBSZXNldCB0aGUgdGFnIHRvIG5vdyBiZSBhIGZpcnN0IHBoYXNlIGNhbGwuXG4gICAgICAgIHdvcmtJblByb2dyZXNzLnRhZyA9IENhbGxDb21wb25lbnQ7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSBSZXR1cm5Db21wb25lbnQ6XG4gICAgICAgIC8vIERvZXMgbm90aGluZy5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBjYXNlIEZvcndhcmRSZWY6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSBGcmFnbWVudDpcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBjYXNlIE1vZGU6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAgICBwb3BIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgdXBkYXRlSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSBDb250ZXh0UHJvdmlkZXI6XG4gICAgICAgIC8vIFBvcCBwcm92aWRlciBmaWJlclxuICAgICAgICBwb3BQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSBDb250ZXh0Q29uc3VtZXI6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgLy8gRXJyb3IgY2FzZXNcbiAgICAgIGNhc2UgSW5kZXRlcm1pbmF0ZUNvbXBvbmVudDpcbiAgICAgICAgaW52YXJpYW50KGZhbHNlLCAnQW4gaW5kZXRlcm1pbmF0ZSBjb21wb25lbnQgc2hvdWxkIGhhdmUgYmVjb21lIGRldGVybWluYXRlIGJlZm9yZSBjb21wbGV0aW5nLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWZhbGx0aHJvdWdoXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpbnZhcmlhbnQoZmFsc2UsICdVbmtub3duIHVuaXQgb2Ygd29yayB0YWcuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBjb21wbGV0ZVdvcms6IGNvbXBsZXRlV29ya1xuICB9O1xufTtcblxuZnVuY3Rpb24gY3JlYXRlQ2FwdHVyZWRWYWx1ZSh2YWx1ZSwgc291cmNlKSB7XG4gIC8vIElmIHRoZSB2YWx1ZSBpcyBhbiBlcnJvciwgY2FsbCB0aGlzIGZ1bmN0aW9uIGltbWVkaWF0ZWx5IGFmdGVyIGl0IGlzIHRocm93blxuICAvLyBzbyB0aGUgc3RhY2sgaXMgYWNjdXJhdGUuXG4gIHJldHVybiB7XG4gICAgdmFsdWU6IHZhbHVlLFxuICAgIHNvdXJjZTogc291cmNlLFxuICAgIHN0YWNrOiBnZXRTdGFja0FkZGVuZHVtQnlXb3JrSW5Qcm9ncmVzc0ZpYmVyKHNvdXJjZSlcbiAgfTtcbn1cblxudmFyIFJlYWN0RmliZXJVbndpbmRXb3JrID0gZnVuY3Rpb24gKGhvc3RDb250ZXh0LCBsZWdhY3lDb250ZXh0LCBuZXdDb250ZXh0LCBzY2hlZHVsZVdvcmssIGlzQWxyZWFkeUZhaWxlZExlZ2FjeUVycm9yQm91bmRhcnkpIHtcbiAgdmFyIHBvcEhvc3RDb250YWluZXIgPSBob3N0Q29udGV4dC5wb3BIb3N0Q29udGFpbmVyLFxuICAgICAgcG9wSG9zdENvbnRleHQgPSBob3N0Q29udGV4dC5wb3BIb3N0Q29udGV4dDtcbiAgdmFyIHBvcExlZ2FjeUNvbnRleHRQcm92aWRlciA9IGxlZ2FjeUNvbnRleHQucG9wQ29udGV4dFByb3ZpZGVyLFxuICAgICAgcG9wVG9wTGV2ZWxMZWdhY3lDb250ZXh0T2JqZWN0ID0gbGVnYWN5Q29udGV4dC5wb3BUb3BMZXZlbENvbnRleHRPYmplY3Q7XG4gIHZhciBwb3BQcm92aWRlciA9IG5ld0NvbnRleHQucG9wUHJvdmlkZXI7XG5cblxuICBmdW5jdGlvbiB0aHJvd0V4Y2VwdGlvbihyZXR1cm5GaWJlciwgc291cmNlRmliZXIsIHJhd1ZhbHVlKSB7XG4gICAgLy8gVGhlIHNvdXJjZSBmaWJlciBkaWQgbm90IGNvbXBsZXRlLlxuICAgIHNvdXJjZUZpYmVyLmVmZmVjdFRhZyB8PSBJbmNvbXBsZXRlO1xuICAgIC8vIEl0cyBlZmZlY3QgbGlzdCBpcyBubyBsb25nZXIgdmFsaWQuXG4gICAgc291cmNlRmliZXIuZmlyc3RFZmZlY3QgPSBzb3VyY2VGaWJlci5sYXN0RWZmZWN0ID0gbnVsbDtcblxuICAgIHZhciB2YWx1ZSA9IGNyZWF0ZUNhcHR1cmVkVmFsdWUocmF3VmFsdWUsIHNvdXJjZUZpYmVyKTtcblxuICAgIHZhciB3b3JrSW5Qcm9ncmVzcyA9IHJldHVybkZpYmVyO1xuICAgIGRvIHtcbiAgICAgIHN3aXRjaCAod29ya0luUHJvZ3Jlc3MudGFnKSB7XG4gICAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgICAge1xuICAgICAgICAgICAgLy8gVW5jYXVnaHQgZXJyb3JcbiAgICAgICAgICAgIHZhciBlcnJvckluZm8gPSB2YWx1ZTtcbiAgICAgICAgICAgIGVuc3VyZVVwZGF0ZVF1ZXVlcyh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICB2YXIgdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICAgICAgICAgIHVwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzID0gW2Vycm9ySW5mb107XG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gU2hvdWxkQ2FwdHVyZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgICAgLy8gQ2FwdHVyZSBhbmQgcmV0cnlcbiAgICAgICAgICB2YXIgY3RvciA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgICAgICAgdmFyIF9pbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgICBpZiAoKHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyAmIERpZENhcHR1cmUpID09PSBOb0VmZmVjdCAmJiAodHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoID09PSAnZnVuY3Rpb24nICYmIGVuYWJsZUdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCB8fCBfaW5zdGFuY2UgIT09IG51bGwgJiYgdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnREaWRDYXRjaCA9PT0gJ2Z1bmN0aW9uJyAmJiAhaXNBbHJlYWR5RmFpbGVkTGVnYWN5RXJyb3JCb3VuZGFyeShfaW5zdGFuY2UpKSkge1xuICAgICAgICAgICAgZW5zdXJlVXBkYXRlUXVldWVzKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgIHZhciBfdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICAgICAgICAgIHZhciBjYXB0dXJlZFZhbHVlcyA9IF91cGRhdGVRdWV1ZS5jYXB0dXJlZFZhbHVlcztcbiAgICAgICAgICAgIGlmIChjYXB0dXJlZFZhbHVlcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICBfdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgPSBbdmFsdWVdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2FwdHVyZWRWYWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gU2hvdWxkQ2FwdHVyZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB3b3JrSW5Qcm9ncmVzcyA9IHdvcmtJblByb2dyZXNzWydyZXR1cm4nXTtcbiAgICB9IHdoaWxlICh3b3JrSW5Qcm9ncmVzcyAhPT0gbnVsbCk7XG4gIH1cblxuICBmdW5jdGlvbiB1bndpbmRXb3JrKHdvcmtJblByb2dyZXNzKSB7XG4gICAgc3dpdGNoICh3b3JrSW5Qcm9ncmVzcy50YWcpIHtcbiAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICBwb3BMZWdhY3lDb250ZXh0UHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHZhciBlZmZlY3RUYWcgPSB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWc7XG4gICAgICAgICAgaWYgKGVmZmVjdFRhZyAmIFNob3VsZENhcHR1cmUpIHtcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyA9IGVmZmVjdFRhZyAmIH5TaG91bGRDYXB0dXJlIHwgRGlkQ2FwdHVyZTtcbiAgICAgICAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgIHtcbiAgICAgICAgICBwb3BIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBwb3BUb3BMZXZlbExlZ2FjeUNvbnRleHRPYmplY3Qod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHZhciBfZWZmZWN0VGFnID0gd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnO1xuICAgICAgICAgIGlmIChfZWZmZWN0VGFnICYgU2hvdWxkQ2FwdHVyZSkge1xuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnID0gX2VmZmVjdFRhZyAmIH5TaG91bGRDYXB0dXJlIHwgRGlkQ2FwdHVyZTtcbiAgICAgICAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAge1xuICAgICAgICAgIHBvcEhvc3RDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAgICBwb3BIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBjYXNlIENvbnRleHRQcm92aWRlcjpcbiAgICAgICAgcG9wUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVud2luZEludGVycnVwdGVkV29yayhpbnRlcnJ1cHRlZFdvcmspIHtcbiAgICBzd2l0Y2ggKGludGVycnVwdGVkV29yay50YWcpIHtcbiAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICBwb3BMZWdhY3lDb250ZXh0UHJvdmlkZXIoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgICAge1xuICAgICAgICAgIHBvcEhvc3RDb250YWluZXIoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBwb3BUb3BMZXZlbExlZ2FjeUNvbnRleHRPYmplY3QoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICB7XG4gICAgICAgICAgcG9wSG9zdENvbnRleHQoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAgICBwb3BIb3N0Q29udGFpbmVyKGludGVycnVwdGVkV29yayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDb250ZXh0UHJvdmlkZXI6XG4gICAgICAgIHBvcFByb3ZpZGVyKGludGVycnVwdGVkV29yayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0aHJvd0V4Y2VwdGlvbjogdGhyb3dFeGNlcHRpb24sXG4gICAgdW53aW5kV29yazogdW53aW5kV29yayxcbiAgICB1bndpbmRJbnRlcnJ1cHRlZFdvcms6IHVud2luZEludGVycnVwdGVkV29ya1xuICB9O1xufTtcblxuLy8gVGhpcyBtb2R1bGUgaXMgZm9ya2VkIGluIGRpZmZlcmVudCBlbnZpcm9ubWVudHMuXG4vLyBCeSBkZWZhdWx0LCByZXR1cm4gYHRydWVgIHRvIGxvZyBlcnJvcnMgdG8gdGhlIGNvbnNvbGUuXG4vLyBGb3JrcyBjYW4gcmV0dXJuIGBmYWxzZWAgaWYgdGhpcyBpc24ndCBkZXNpcmFibGUuXG5mdW5jdGlvbiBzaG93RXJyb3JEaWFsb2coY2FwdHVyZWRFcnJvcikge1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gbG9nQ2FwdHVyZWRFcnJvcihjYXB0dXJlZEVycm9yKSB7XG4gIHZhciBsb2dFcnJvciA9IHNob3dFcnJvckRpYWxvZyhjYXB0dXJlZEVycm9yKTtcblxuICAvLyBBbGxvdyBpbmplY3RlZCBzaG93RXJyb3JEaWFsb2coKSB0byBwcmV2ZW50IGRlZmF1bHQgY29uc29sZS5lcnJvciBsb2dnaW5nLlxuICAvLyBUaGlzIGVuYWJsZXMgcmVuZGVyZXJzIGxpa2UgUmVhY3ROYXRpdmUgdG8gYmV0dGVyIG1hbmFnZSByZWRib3ggYmVoYXZpb3IuXG4gIGlmIChsb2dFcnJvciA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZXJyb3IgPSBjYXB0dXJlZEVycm9yLmVycm9yO1xuICB2YXIgc3VwcHJlc3NMb2dnaW5nID0gZXJyb3IgJiYgZXJyb3Iuc3VwcHJlc3NSZWFjdEVycm9yTG9nZ2luZztcbiAgaWYgKHN1cHByZXNzTG9nZ2luZykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHtcbiAgICB2YXIgY29tcG9uZW50TmFtZSA9IGNhcHR1cmVkRXJyb3IuY29tcG9uZW50TmFtZSxcbiAgICAgICAgY29tcG9uZW50U3RhY2sgPSBjYXB0dXJlZEVycm9yLmNvbXBvbmVudFN0YWNrLFxuICAgICAgICBlcnJvckJvdW5kYXJ5TmFtZSA9IGNhcHR1cmVkRXJyb3IuZXJyb3JCb3VuZGFyeU5hbWUsXG4gICAgICAgIGVycm9yQm91bmRhcnlGb3VuZCA9IGNhcHR1cmVkRXJyb3IuZXJyb3JCb3VuZGFyeUZvdW5kLFxuICAgICAgICB3aWxsUmV0cnkgPSBjYXB0dXJlZEVycm9yLndpbGxSZXRyeTtcblxuXG4gICAgdmFyIGNvbXBvbmVudE5hbWVNZXNzYWdlID0gY29tcG9uZW50TmFtZSA/ICdUaGUgYWJvdmUgZXJyb3Igb2NjdXJyZWQgaW4gdGhlIDwnICsgY29tcG9uZW50TmFtZSArICc+IGNvbXBvbmVudDonIDogJ1RoZSBhYm92ZSBlcnJvciBvY2N1cnJlZCBpbiBvbmUgb2YgeW91ciBSZWFjdCBjb21wb25lbnRzOic7XG5cbiAgICB2YXIgZXJyb3JCb3VuZGFyeU1lc3NhZ2UgPSB2b2lkIDA7XG4gICAgLy8gZXJyb3JCb3VuZGFyeUZvdW5kIGNoZWNrIGlzIHN1ZmZpY2llbnQ7IGVycm9yQm91bmRhcnlOYW1lIGNoZWNrIGlzIHRvIHNhdGlzZnkgRmxvdy5cbiAgICBpZiAoZXJyb3JCb3VuZGFyeUZvdW5kICYmIGVycm9yQm91bmRhcnlOYW1lKSB7XG4gICAgICBpZiAod2lsbFJldHJ5KSB7XG4gICAgICAgIGVycm9yQm91bmRhcnlNZXNzYWdlID0gJ1JlYWN0IHdpbGwgdHJ5IHRvIHJlY3JlYXRlIHRoaXMgY29tcG9uZW50IHRyZWUgZnJvbSBzY3JhdGNoICcgKyAoJ3VzaW5nIHRoZSBlcnJvciBib3VuZGFyeSB5b3UgcHJvdmlkZWQsICcgKyBlcnJvckJvdW5kYXJ5TmFtZSArICcuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlcnJvckJvdW5kYXJ5TWVzc2FnZSA9ICdUaGlzIGVycm9yIHdhcyBpbml0aWFsbHkgaGFuZGxlZCBieSB0aGUgZXJyb3IgYm91bmRhcnkgJyArIGVycm9yQm91bmRhcnlOYW1lICsgJy5cXG4nICsgJ1JlY3JlYXRpbmcgdGhlIHRyZWUgZnJvbSBzY3JhdGNoIGZhaWxlZCBzbyBSZWFjdCB3aWxsIHVubW91bnQgdGhlIHRyZWUuJztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZXJyb3JCb3VuZGFyeU1lc3NhZ2UgPSAnQ29uc2lkZXIgYWRkaW5nIGFuIGVycm9yIGJvdW5kYXJ5IHRvIHlvdXIgdHJlZSB0byBjdXN0b21pemUgZXJyb3IgaGFuZGxpbmcgYmVoYXZpb3IuXFxuJyArICdWaXNpdCBodHRwczovL2ZiLm1lL3JlYWN0LWVycm9yLWJvdW5kYXJpZXMgdG8gbGVhcm4gbW9yZSBhYm91dCBlcnJvciBib3VuZGFyaWVzLic7XG4gICAgfVxuICAgIHZhciBjb21iaW5lZE1lc3NhZ2UgPSAnJyArIGNvbXBvbmVudE5hbWVNZXNzYWdlICsgY29tcG9uZW50U3RhY2sgKyAnXFxuXFxuJyArICgnJyArIGVycm9yQm91bmRhcnlNZXNzYWdlKTtcblxuICAgIC8vIEluIGRldmVsb3BtZW50LCB3ZSBwcm92aWRlIG91ciBvd24gbWVzc2FnZSB3aXRoIGp1c3QgdGhlIGNvbXBvbmVudCBzdGFjay5cbiAgICAvLyBXZSBkb24ndCBpbmNsdWRlIHRoZSBvcmlnaW5hbCBlcnJvciBtZXNzYWdlIGFuZCBKUyBzdGFjayBiZWNhdXNlIHRoZSBicm93c2VyXG4gICAgLy8gaGFzIGFscmVhZHkgcHJpbnRlZCBpdC4gRXZlbiBpZiB0aGUgYXBwbGljYXRpb24gc3dhbGxvd3MgdGhlIGVycm9yLCBpdCBpcyBzdGlsbFxuICAgIC8vIGRpc3BsYXllZCBieSB0aGUgYnJvd3NlciB0aGFua3MgdG8gdGhlIERFVi1vbmx5IGZha2UgZXZlbnQgdHJpY2sgaW4gUmVhY3RFcnJvclV0aWxzLlxuICAgIGNvbnNvbGUuZXJyb3IoY29tYmluZWRNZXNzYWdlKTtcbiAgfVxufVxuXG52YXIgaW52b2tlR3VhcmRlZENhbGxiYWNrJDMgPSBSZWFjdEVycm9yVXRpbHMuaW52b2tlR3VhcmRlZENhbGxiYWNrO1xudmFyIGhhc0NhdWdodEVycm9yJDEgPSBSZWFjdEVycm9yVXRpbHMuaGFzQ2F1Z2h0RXJyb3I7XG52YXIgY2xlYXJDYXVnaHRFcnJvciQxID0gUmVhY3RFcnJvclV0aWxzLmNsZWFyQ2F1Z2h0RXJyb3I7XG5cblxudmFyIGRpZFdhcm5BYm91dFVuZGVmaW5lZFNuYXBzaG90QmVmb3JlVXBkYXRlID0gbnVsbDtcbntcbiAgZGlkV2FybkFib3V0VW5kZWZpbmVkU25hcHNob3RCZWZvcmVVcGRhdGUgPSBuZXcgU2V0KCk7XG59XG5cbmZ1bmN0aW9uIGxvZ0Vycm9yKGJvdW5kYXJ5LCBlcnJvckluZm8pIHtcbiAgdmFyIHNvdXJjZSA9IGVycm9ySW5mby5zb3VyY2U7XG4gIHZhciBzdGFjayA9IGVycm9ySW5mby5zdGFjaztcbiAgaWYgKHN0YWNrID09PSBudWxsKSB7XG4gICAgc3RhY2sgPSBnZXRTdGFja0FkZGVuZHVtQnlXb3JrSW5Qcm9ncmVzc0ZpYmVyKHNvdXJjZSk7XG4gIH1cblxuICB2YXIgY2FwdHVyZWRFcnJvciA9IHtcbiAgICBjb21wb25lbnROYW1lOiBzb3VyY2UgIT09IG51bGwgPyBnZXRDb21wb25lbnROYW1lKHNvdXJjZSkgOiBudWxsLFxuICAgIGNvbXBvbmVudFN0YWNrOiBzdGFjayAhPT0gbnVsbCA/IHN0YWNrIDogJycsXG4gICAgZXJyb3I6IGVycm9ySW5mby52YWx1ZSxcbiAgICBlcnJvckJvdW5kYXJ5OiBudWxsLFxuICAgIGVycm9yQm91bmRhcnlOYW1lOiBudWxsLFxuICAgIGVycm9yQm91bmRhcnlGb3VuZDogZmFsc2UsXG4gICAgd2lsbFJldHJ5OiBmYWxzZVxuICB9O1xuXG4gIGlmIChib3VuZGFyeSAhPT0gbnVsbCAmJiBib3VuZGFyeS50YWcgPT09IENsYXNzQ29tcG9uZW50KSB7XG4gICAgY2FwdHVyZWRFcnJvci5lcnJvckJvdW5kYXJ5ID0gYm91bmRhcnkuc3RhdGVOb2RlO1xuICAgIGNhcHR1cmVkRXJyb3IuZXJyb3JCb3VuZGFyeU5hbWUgPSBnZXRDb21wb25lbnROYW1lKGJvdW5kYXJ5KTtcbiAgICBjYXB0dXJlZEVycm9yLmVycm9yQm91bmRhcnlGb3VuZCA9IHRydWU7XG4gICAgY2FwdHVyZWRFcnJvci53aWxsUmV0cnkgPSB0cnVlO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBsb2dDYXB0dXJlZEVycm9yKGNhcHR1cmVkRXJyb3IpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gUHJldmVudCBjeWNsZSBpZiBsb2dDYXB0dXJlZEVycm9yKCkgdGhyb3dzLlxuICAgIC8vIEEgY3ljbGUgbWF5IHN0aWxsIG9jY3VyIGlmIGxvZ0NhcHR1cmVkRXJyb3IgcmVuZGVycyBhIGNvbXBvbmVudCB0aGF0IHRocm93cy5cbiAgICB2YXIgc3VwcHJlc3NMb2dnaW5nID0gZSAmJiBlLnN1cHByZXNzUmVhY3RFcnJvckxvZ2dpbmc7XG4gICAgaWYgKCFzdXBwcmVzc0xvZ2dpbmcpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgfVxuICB9XG59XG5cbnZhciBSZWFjdEZpYmVyQ29tbWl0V29yayA9IGZ1bmN0aW9uIChjb25maWcsIGNhcHR1cmVFcnJvciwgc2NoZWR1bGVXb3JrLCBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyLCBtYXJrTGVnYWN5RXJyb3JCb3VuZGFyeUFzRmFpbGVkLCByZWNhbGN1bGF0ZUN1cnJlbnRUaW1lKSB7XG4gIHZhciBnZXRQdWJsaWNJbnN0YW5jZSA9IGNvbmZpZy5nZXRQdWJsaWNJbnN0YW5jZSxcbiAgICAgIG11dGF0aW9uID0gY29uZmlnLm11dGF0aW9uLFxuICAgICAgcGVyc2lzdGVuY2UgPSBjb25maWcucGVyc2lzdGVuY2U7XG5cblxuICB2YXIgY2FsbENvbXBvbmVudFdpbGxVbm1vdW50V2l0aFRpbWVyID0gZnVuY3Rpb24gKGN1cnJlbnQsIGluc3RhbmNlKSB7XG4gICAgc3RhcnRQaGFzZVRpbWVyKGN1cnJlbnQsICdjb21wb25lbnRXaWxsVW5tb3VudCcpO1xuICAgIGluc3RhbmNlLnByb3BzID0gY3VycmVudC5tZW1vaXplZFByb3BzO1xuICAgIGluc3RhbmNlLnN0YXRlID0gY3VycmVudC5tZW1vaXplZFN0YXRlO1xuICAgIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG4gICAgc3RvcFBoYXNlVGltZXIoKTtcbiAgfTtcblxuICAvLyBDYXB0dXJlIGVycm9ycyBzbyB0aGV5IGRvbid0IGludGVycnVwdCB1bm1vdW50aW5nLlxuICBmdW5jdGlvbiBzYWZlbHlDYWxsQ29tcG9uZW50V2lsbFVubW91bnQoY3VycmVudCwgaW5zdGFuY2UpIHtcbiAgICB7XG4gICAgICBpbnZva2VHdWFyZGVkQ2FsbGJhY2skMyhudWxsLCBjYWxsQ29tcG9uZW50V2lsbFVubW91bnRXaXRoVGltZXIsIG51bGwsIGN1cnJlbnQsIGluc3RhbmNlKTtcbiAgICAgIGlmIChoYXNDYXVnaHRFcnJvciQxKCkpIHtcbiAgICAgICAgdmFyIHVubW91bnRFcnJvciA9IGNsZWFyQ2F1Z2h0RXJyb3IkMSgpO1xuICAgICAgICBjYXB0dXJlRXJyb3IoY3VycmVudCwgdW5tb3VudEVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzYWZlbHlEZXRhY2hSZWYoY3VycmVudCkge1xuICAgIHZhciByZWYgPSBjdXJyZW50LnJlZjtcbiAgICBpZiAocmVmICE9PSBudWxsKSB7XG4gICAgICBpZiAodHlwZW9mIHJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB7XG4gICAgICAgICAgaW52b2tlR3VhcmRlZENhbGxiYWNrJDMobnVsbCwgcmVmLCBudWxsLCBudWxsKTtcbiAgICAgICAgICBpZiAoaGFzQ2F1Z2h0RXJyb3IkMSgpKSB7XG4gICAgICAgICAgICB2YXIgcmVmRXJyb3IgPSBjbGVhckNhdWdodEVycm9yJDEoKTtcbiAgICAgICAgICAgIGNhcHR1cmVFcnJvcihjdXJyZW50LCByZWZFcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWYuY3VycmVudCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0QmVmb3JlTXV0YXRpb25MaWZlQ3ljbGVzKGN1cnJlbnQsIGZpbmlzaGVkV29yaykge1xuICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAge1xuICAgICAgICAgIGlmIChmaW5pc2hlZFdvcmsuZWZmZWN0VGFnICYgU25hcHNob3QpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHZhciBwcmV2UHJvcHMgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICAgIHZhciBwcmV2U3RhdGUgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgICAgIHN0YXJ0UGhhc2VUaW1lcihmaW5pc2hlZFdvcmssICdnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZScpO1xuICAgICAgICAgICAgICB2YXIgX2luc3RhbmNlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICAgICAgX2luc3RhbmNlLnByb3BzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICAgIF9pbnN0YW5jZS5zdGF0ZSA9IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgICAgICB2YXIgc25hcHNob3QgPSBfaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpO1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGRpZFdhcm5TZXQgPSBkaWRXYXJuQWJvdXRVbmRlZmluZWRTbmFwc2hvdEJlZm9yZVVwZGF0ZTtcbiAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QgPT09IHVuZGVmaW5lZCAmJiAhZGlkV2FyblNldC5oYXMoZmluaXNoZWRXb3JrLnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICBkaWRXYXJuU2V0LmFkZChmaW5pc2hlZFdvcmsudHlwZSk7XG4gICAgICAgICAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnJXMuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKTogQSBzbmFwc2hvdCB2YWx1ZSAob3IgbnVsbCkgJyArICdtdXN0IGJlIHJldHVybmVkLiBZb3UgaGF2ZSByZXR1cm5lZCB1bmRlZmluZWQuJywgZ2V0Q29tcG9uZW50TmFtZShmaW5pc2hlZFdvcmspKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX2luc3RhbmNlLl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90QmVmb3JlVXBkYXRlID0gc25hcHNob3Q7XG4gICAgICAgICAgICAgIHN0b3BQaGFzZVRpbWVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgIGNhc2UgSG9zdFRleHQ6XG4gICAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgICAgIC8vIE5vdGhpbmcgdG8gZG8gZm9yIHRoZXNlIGNvbXBvbmVudCB0eXBlc1xuICAgICAgICByZXR1cm47XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB7XG4gICAgICAgICAgaW52YXJpYW50KGZhbHNlLCAnVGhpcyB1bml0IG9mIHdvcmsgdGFnIHNob3VsZCBub3QgaGF2ZSBzaWRlLWVmZmVjdHMuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb21taXRMaWZlQ3ljbGVzKGZpbmlzaGVkUm9vdCwgY3VycmVudCwgZmluaXNoZWRXb3JrLCBjdXJyZW50VGltZSwgY29tbWl0dGVkRXhwaXJhdGlvblRpbWUpIHtcbiAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgX2luc3RhbmNlMiA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgaWYgKGZpbmlzaGVkV29yay5lZmZlY3RUYWcgJiBVcGRhdGUpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgIHN0YXJ0UGhhc2VUaW1lcihmaW5pc2hlZFdvcmssICdjb21wb25lbnREaWRNb3VudCcpO1xuICAgICAgICAgICAgICBfaW5zdGFuY2UyLnByb3BzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICAgIF9pbnN0YW5jZTIuc3RhdGUgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICAgICAgX2luc3RhbmNlMi5jb21wb25lbnREaWRNb3VudCgpO1xuICAgICAgICAgICAgICBzdG9wUGhhc2VUaW1lcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFyIHByZXZQcm9wcyA9IGN1cnJlbnQubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICAgICAgdmFyIHByZXZTdGF0ZSA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICAgICAgc3RhcnRQaGFzZVRpbWVyKGZpbmlzaGVkV29yaywgJ2NvbXBvbmVudERpZFVwZGF0ZScpO1xuICAgICAgICAgICAgICBfaW5zdGFuY2UyLnByb3BzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICAgIF9pbnN0YW5jZTIuc3RhdGUgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICAgICAgX2luc3RhbmNlMi5jb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUsIF9pbnN0YW5jZTIuX19yZWFjdEludGVybmFsU25hcHNob3RCZWZvcmVVcGRhdGUpO1xuICAgICAgICAgICAgICBzdG9wUGhhc2VUaW1lcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgdXBkYXRlUXVldWUgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWU7XG4gICAgICAgICAgaWYgKHVwZGF0ZVF1ZXVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb21taXRDYWxsYmFja3ModXBkYXRlUXVldWUsIF9pbnN0YW5jZTIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgX3VwZGF0ZVF1ZXVlID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlO1xuICAgICAgICAgIGlmIChfdXBkYXRlUXVldWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBfaW5zdGFuY2UzID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChmaW5pc2hlZFdvcmsuY2hpbGQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsuY2hpbGQudGFnKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICAgICAgICAgICAgX2luc3RhbmNlMyA9IGdldFB1YmxpY0luc3RhbmNlKGZpbmlzaGVkV29yay5jaGlsZC5zdGF0ZU5vZGUpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAgICAgICAgICAgIF9pbnN0YW5jZTMgPSBmaW5pc2hlZFdvcmsuY2hpbGQuc3RhdGVOb2RlO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbW1pdENhbGxiYWNrcyhfdXBkYXRlUXVldWUsIF9pbnN0YW5jZTMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBfaW5zdGFuY2U0ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcblxuICAgICAgICAgIC8vIFJlbmRlcmVycyBtYXkgc2NoZWR1bGUgd29yayB0byBiZSBkb25lIGFmdGVyIGhvc3QgY29tcG9uZW50cyBhcmUgbW91bnRlZFxuICAgICAgICAgIC8vIChlZyBET00gcmVuZGVyZXIgbWF5IHNjaGVkdWxlIGF1dG8tZm9jdXMgZm9yIGlucHV0cyBhbmQgZm9ybSBjb250cm9scykuXG4gICAgICAgICAgLy8gVGhlc2UgZWZmZWN0cyBzaG91bGQgb25seSBiZSBjb21taXR0ZWQgd2hlbiBjb21wb25lbnRzIGFyZSBmaXJzdCBtb3VudGVkLFxuICAgICAgICAgIC8vIGFrYSB3aGVuIHRoZXJlIGlzIG5vIGN1cnJlbnQvYWx0ZXJuYXRlLlxuICAgICAgICAgIGlmIChjdXJyZW50ID09PSBudWxsICYmIGZpbmlzaGVkV29yay5lZmZlY3RUYWcgJiBVcGRhdGUpIHtcbiAgICAgICAgICAgIHZhciB0eXBlID0gZmluaXNoZWRXb3JrLnR5cGU7XG4gICAgICAgICAgICB2YXIgcHJvcHMgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICAgIGNvbW1pdE1vdW50KF9pbnN0YW5jZTQsIHR5cGUsIHByb3BzLCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgY2FzZSBIb3N0VGV4dDpcbiAgICAgICAge1xuICAgICAgICAgIC8vIFdlIGhhdmUgbm8gbGlmZS1jeWNsZXMgYXNzb2NpYXRlZCB3aXRoIHRleHQuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgICAgIHtcbiAgICAgICAgICAvLyBXZSBoYXZlIG5vIGxpZmUtY3ljbGVzIGFzc29jaWF0ZWQgd2l0aCBwb3J0YWxzLlxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAge1xuICAgICAgICAgIGludmFyaWFudChmYWxzZSwgJ1RoaXMgdW5pdCBvZiB3b3JrIHRhZyBzaG91bGQgbm90IGhhdmUgc2lkZS1lZmZlY3RzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0RXJyb3JMb2dnaW5nKGZpbmlzaGVkV29yaywgb25VbmNhdWdodEVycm9yKSB7XG4gICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIGN0b3IgPSBmaW5pc2hlZFdvcmsudHlwZTtcbiAgICAgICAgICB2YXIgX2luc3RhbmNlNSA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlO1xuICAgICAgICAgICEodXBkYXRlUXVldWUgIT09IG51bGwgJiYgdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgIT09IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnQW4gZXJyb3IgbG9nZ2luZyBlZmZlY3Qgc2hvdWxkIG5vdCBoYXZlIGJlZW4gc2NoZWR1bGVkIGlmIG5vIGVycm9ycyB3ZXJlIGNhcHR1cmVkLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICAgICAgICAgIHZhciBjYXB0dXJlZEVycm9ycyA9IHVwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzO1xuICAgICAgICAgIHVwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzID0gbnVsbDtcblxuICAgICAgICAgIGlmICh0eXBlb2YgY3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIC8vIFRvIHByZXNlcnZlIHRoZSBwcmVleGlzdGluZyByZXRyeSBiZWhhdmlvciBvZiBlcnJvciBib3VuZGFyaWVzLFxuICAgICAgICAgICAgLy8gd2Uga2VlcCB0cmFjayBvZiB3aGljaCBvbmVzIGFscmVhZHkgZmFpbGVkIGR1cmluZyB0aGlzIGJhdGNoLlxuICAgICAgICAgICAgLy8gVGhpcyBnZXRzIHJlc2V0IGJlZm9yZSB3ZSB5aWVsZCBiYWNrIHRvIHRoZSBicm93c2VyLlxuICAgICAgICAgICAgLy8gVE9ETzogV2FybiBpbiBzdHJpY3QgbW9kZSBpZiBnZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggaXNcbiAgICAgICAgICAgIC8vIG5vdCBkZWZpbmVkLlxuICAgICAgICAgICAgbWFya0xlZ2FjeUVycm9yQm91bmRhcnlBc0ZhaWxlZChfaW5zdGFuY2U1KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfaW5zdGFuY2U1LnByb3BzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgX2luc3RhbmNlNS5zdGF0ZSA9IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FwdHVyZWRFcnJvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBlcnJvckluZm8gPSBjYXB0dXJlZEVycm9yc1tpXTtcbiAgICAgICAgICAgIHZhciBfZXJyb3IgPSBlcnJvckluZm8udmFsdWU7XG4gICAgICAgICAgICB2YXIgc3RhY2sgPSBlcnJvckluZm8uc3RhY2s7XG4gICAgICAgICAgICBsb2dFcnJvcihmaW5pc2hlZFdvcmssIGVycm9ySW5mbyk7XG4gICAgICAgICAgICBfaW5zdGFuY2U1LmNvbXBvbmVudERpZENhdGNoKF9lcnJvciwge1xuICAgICAgICAgICAgICBjb21wb25lbnRTdGFjazogc3RhY2sgIT09IG51bGwgPyBzdGFjayA6ICcnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEhvc3RSb290OlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIF91cGRhdGVRdWV1ZTIgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWU7XG4gICAgICAgICAgIShfdXBkYXRlUXVldWUyICE9PSBudWxsICYmIF91cGRhdGVRdWV1ZTIuY2FwdHVyZWRWYWx1ZXMgIT09IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnQW4gZXJyb3IgbG9nZ2luZyBlZmZlY3Qgc2hvdWxkIG5vdCBoYXZlIGJlZW4gc2NoZWR1bGVkIGlmIG5vIGVycm9ycyB3ZXJlIGNhcHR1cmVkLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICAgICAgICAgIHZhciBfY2FwdHVyZWRFcnJvcnMgPSBfdXBkYXRlUXVldWUyLmNhcHR1cmVkVmFsdWVzO1xuICAgICAgICAgIF91cGRhdGVRdWV1ZTIuY2FwdHVyZWRWYWx1ZXMgPSBudWxsO1xuICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBfY2FwdHVyZWRFcnJvcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2Vycm9ySW5mbyA9IF9jYXB0dXJlZEVycm9yc1tfaV07XG4gICAgICAgICAgICBsb2dFcnJvcihmaW5pc2hlZFdvcmssIF9lcnJvckluZm8pO1xuICAgICAgICAgICAgb25VbmNhdWdodEVycm9yKF9lcnJvckluZm8udmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaW52YXJpYW50KGZhbHNlLCAnVGhpcyB1bml0IG9mIHdvcmsgdGFnIGNhbm5vdCBjYXB0dXJlIGVycm9ycy4gIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0QXR0YWNoUmVmKGZpbmlzaGVkV29yaykge1xuICAgIHZhciByZWYgPSBmaW5pc2hlZFdvcmsucmVmO1xuICAgIGlmIChyZWYgIT09IG51bGwpIHtcbiAgICAgIHZhciBfaW5zdGFuY2U2ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgIHZhciBpbnN0YW5jZVRvVXNlID0gdm9pZCAwO1xuICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICBpbnN0YW5jZVRvVXNlID0gZ2V0UHVibGljSW5zdGFuY2UoX2luc3RhbmNlNik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaW5zdGFuY2VUb1VzZSA9IF9pbnN0YW5jZTY7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZWYoaW5zdGFuY2VUb1VzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB7XG4gICAgICAgICAgaWYgKCFyZWYuaGFzT3duUHJvcGVydHkoJ2N1cnJlbnQnKSkge1xuICAgICAgICAgICAgd2FybmluZyhmYWxzZSwgJ1VuZXhwZWN0ZWQgcmVmIG9iamVjdCBwcm92aWRlZCBmb3IgJXMuICcgKyAnVXNlIGVpdGhlciBhIHJlZi1zZXR0ZXIgZnVuY3Rpb24gb3IgUmVhY3QuY3JlYXRlUmVmKCkuJXMnLCBnZXRDb21wb25lbnROYW1lKGZpbmlzaGVkV29yayksIGdldFN0YWNrQWRkZW5kdW1CeVdvcmtJblByb2dyZXNzRmliZXIoZmluaXNoZWRXb3JrKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmVmLmN1cnJlbnQgPSBpbnN0YW5jZVRvVXNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbW1pdERldGFjaFJlZihjdXJyZW50KSB7XG4gICAgdmFyIGN1cnJlbnRSZWYgPSBjdXJyZW50LnJlZjtcbiAgICBpZiAoY3VycmVudFJlZiAhPT0gbnVsbCkge1xuICAgICAgaWYgKHR5cGVvZiBjdXJyZW50UmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGN1cnJlbnRSZWYobnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50UmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFVzZXItb3JpZ2luYXRpbmcgZXJyb3JzIChsaWZlY3ljbGVzIGFuZCByZWZzKSBzaG91bGQgbm90IGludGVycnVwdFxuICAvLyBkZWxldGlvbiwgc28gZG9uJ3QgbGV0IHRoZW0gdGhyb3cuIEhvc3Qtb3JpZ2luYXRpbmcgZXJyb3JzIHNob3VsZFxuICAvLyBpbnRlcnJ1cHQgZGVsZXRpb24sIHNvIGl0J3Mgb2theVxuICBmdW5jdGlvbiBjb21taXRVbm1vdW50KGN1cnJlbnQpIHtcbiAgICBpZiAodHlwZW9mIG9uQ29tbWl0VW5tb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgb25Db21taXRVbm1vdW50KGN1cnJlbnQpO1xuICAgIH1cblxuICAgIHN3aXRjaCAoY3VycmVudC50YWcpIHtcbiAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICBzYWZlbHlEZXRhY2hSZWYoY3VycmVudCk7XG4gICAgICAgICAgdmFyIF9pbnN0YW5jZTcgPSBjdXJyZW50LnN0YXRlTm9kZTtcbiAgICAgICAgICBpZiAodHlwZW9mIF9pbnN0YW5jZTcuY29tcG9uZW50V2lsbFVubW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHNhZmVseUNhbGxDb21wb25lbnRXaWxsVW5tb3VudChjdXJyZW50LCBfaW5zdGFuY2U3KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICBzYWZlbHlEZXRhY2hSZWYoY3VycmVudCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBjYXNlIENhbGxDb21wb25lbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICBjb21taXROZXN0ZWRVbm1vdW50cyhjdXJyZW50LnN0YXRlTm9kZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgICAgIHtcbiAgICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIHJlY3Vyc2l2ZS5cbiAgICAgICAgICAvLyBXZSBhcmUgYWxzbyBub3QgdXNpbmcgdGhpcyBwYXJlbnQgYmVjYXVzZVxuICAgICAgICAgIC8vIHRoZSBwb3J0YWwgd2lsbCBnZXQgcHVzaGVkIGltbWVkaWF0ZWx5LlxuICAgICAgICAgIGlmIChlbmFibGVNdXRhdGluZ1JlY29uY2lsZXIgJiYgbXV0YXRpb24pIHtcbiAgICAgICAgICAgIHVubW91bnRIb3N0Q29tcG9uZW50cyhjdXJyZW50KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGVuYWJsZVBlcnNpc3RlbnRSZWNvbmNpbGVyICYmIHBlcnNpc3RlbmNlKSB7XG4gICAgICAgICAgICBlbXB0eVBvcnRhbENvbnRhaW5lcihjdXJyZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0TmVzdGVkVW5tb3VudHMocm9vdCkge1xuICAgIC8vIFdoaWxlIHdlJ3JlIGluc2lkZSBhIHJlbW92ZWQgaG9zdCBub2RlIHdlIGRvbid0IHdhbnQgdG8gY2FsbFxuICAgIC8vIHJlbW92ZUNoaWxkIG9uIHRoZSBpbm5lciBub2RlcyBiZWNhdXNlIHRoZXkncmUgcmVtb3ZlZCBieSB0aGUgdG9wXG4gICAgLy8gY2FsbCBhbnl3YXkuIFdlIGFsc28gd2FudCB0byBjYWxsIGNvbXBvbmVudFdpbGxVbm1vdW50IG9uIGFsbFxuICAgIC8vIGNvbXBvc2l0ZXMgYmVmb3JlIHRoaXMgaG9zdCBub2RlIGlzIHJlbW92ZWQgZnJvbSB0aGUgdHJlZS4gVGhlcmVmb3JlXG4gICAgdmFyIG5vZGUgPSByb290O1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb21taXRVbm1vdW50KG5vZGUpO1xuICAgICAgLy8gVmlzaXQgY2hpbGRyZW4gYmVjYXVzZSB0aGV5IG1heSBjb250YWluIG1vcmUgY29tcG9zaXRlIG9yIGhvc3Qgbm9kZXMuXG4gICAgICAvLyBTa2lwIHBvcnRhbHMgYmVjYXVzZSBjb21taXRVbm1vdW50KCkgY3VycmVudGx5IHZpc2l0cyB0aGVtIHJlY3Vyc2l2ZWx5LlxuICAgICAgaWYgKG5vZGUuY2hpbGQgIT09IG51bGwgJiYgKFxuICAgICAgLy8gSWYgd2UgdXNlIG11dGF0aW9uIHdlIGRyaWxsIGRvd24gaW50byBwb3J0YWxzIHVzaW5nIGNvbW1pdFVubW91bnQgYWJvdmUuXG4gICAgICAvLyBJZiB3ZSBkb24ndCB1c2UgbXV0YXRpb24gd2UgZHJpbGwgZG93biBpbnRvIHBvcnRhbHMgaGVyZSBpbnN0ZWFkLlxuICAgICAgIW11dGF0aW9uIHx8IG5vZGUudGFnICE9PSBIb3N0UG9ydGFsKSkge1xuICAgICAgICBub2RlLmNoaWxkWydyZXR1cm4nXSA9IG5vZGU7XG4gICAgICAgIG5vZGUgPSBub2RlLmNoaWxkO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlID09PSByb290KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChub2RlLnNpYmxpbmcgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKG5vZGVbJ3JldHVybiddID09PSBudWxsIHx8IG5vZGVbJ3JldHVybiddID09PSByb290KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBub2RlWydyZXR1cm4nXTtcbiAgICAgIH1cbiAgICAgIG5vZGUuc2libGluZ1sncmV0dXJuJ10gPSBub2RlWydyZXR1cm4nXTtcbiAgICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGV0YWNoRmliZXIoY3VycmVudCkge1xuICAgIC8vIEN1dCBvZmYgdGhlIHJldHVybiBwb2ludGVycyB0byBkaXNjb25uZWN0IGl0IGZyb20gdGhlIHRyZWUuIElkZWFsbHksIHdlXG4gICAgLy8gc2hvdWxkIGNsZWFyIHRoZSBjaGlsZCBwb2ludGVyIG9mIHRoZSBwYXJlbnQgYWx0ZXJuYXRlIHRvIGxldCB0aGlzXG4gICAgLy8gZ2V0IEdDOmVkIGJ1dCB3ZSBkb24ndCBrbm93IHdoaWNoIGZvciBzdXJlIHdoaWNoIHBhcmVudCBpcyB0aGUgY3VycmVudFxuICAgIC8vIG9uZSBzbyB3ZSdsbCBzZXR0bGUgZm9yIEdDOmluZyB0aGUgc3VidHJlZSBvZiB0aGlzIGNoaWxkLiBUaGlzIGNoaWxkXG4gICAgLy8gaXRzZWxmIHdpbGwgYmUgR0M6ZWQgd2hlbiB0aGUgcGFyZW50IHVwZGF0ZXMgdGhlIG5leHQgdGltZS5cbiAgICBjdXJyZW50WydyZXR1cm4nXSA9IG51bGw7XG4gICAgY3VycmVudC5jaGlsZCA9IG51bGw7XG4gICAgaWYgKGN1cnJlbnQuYWx0ZXJuYXRlKSB7XG4gICAgICBjdXJyZW50LmFsdGVybmF0ZS5jaGlsZCA9IG51bGw7XG4gICAgICBjdXJyZW50LmFsdGVybmF0ZVsncmV0dXJuJ10gPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHZhciBlbXB0eVBvcnRhbENvbnRhaW5lciA9IHZvaWQgMDtcblxuICBpZiAoIW11dGF0aW9uKSB7XG4gICAgdmFyIGNvbW1pdENvbnRhaW5lciA9IHZvaWQgMDtcbiAgICBpZiAocGVyc2lzdGVuY2UpIHtcbiAgICAgIHZhciByZXBsYWNlQ29udGFpbmVyQ2hpbGRyZW4gPSBwZXJzaXN0ZW5jZS5yZXBsYWNlQ29udGFpbmVyQ2hpbGRyZW4sXG4gICAgICAgICAgY3JlYXRlQ29udGFpbmVyQ2hpbGRTZXQgPSBwZXJzaXN0ZW5jZS5jcmVhdGVDb250YWluZXJDaGlsZFNldDtcblxuICAgICAgZW1wdHlQb3J0YWxDb250YWluZXIgPSBmdW5jdGlvbiAoY3VycmVudCkge1xuICAgICAgICB2YXIgcG9ydGFsID0gY3VycmVudC5zdGF0ZU5vZGU7XG4gICAgICAgIHZhciBjb250YWluZXJJbmZvID0gcG9ydGFsLmNvbnRhaW5lckluZm87XG5cbiAgICAgICAgdmFyIGVtcHR5Q2hpbGRTZXQgPSBjcmVhdGVDb250YWluZXJDaGlsZFNldChjb250YWluZXJJbmZvKTtcbiAgICAgICAgcmVwbGFjZUNvbnRhaW5lckNoaWxkcmVuKGNvbnRhaW5lckluZm8sIGVtcHR5Q2hpbGRTZXQpO1xuICAgICAgfTtcbiAgICAgIGNvbW1pdENvbnRhaW5lciA9IGZ1bmN0aW9uIChmaW5pc2hlZFdvcmspIHtcbiAgICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgSG9zdFRleHQ6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEhvc3RSb290OlxuICAgICAgICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmFyIHBvcnRhbE9yUm9vdCA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgICAgIHZhciBjb250YWluZXJJbmZvID0gcG9ydGFsT3JSb290LmNvbnRhaW5lckluZm8sXG4gICAgICAgICAgICAgICAgICBfcGVuZGluZ0NoaWxkcmVuID0gcG9ydGFsT3JSb290LnBlbmRpbmdDaGlsZHJlbjtcblxuICAgICAgICAgICAgICByZXBsYWNlQ29udGFpbmVyQ2hpbGRyZW4oY29udGFpbmVySW5mbywgX3BlbmRpbmdDaGlsZHJlbik7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpbnZhcmlhbnQoZmFsc2UsICdUaGlzIHVuaXQgb2Ygd29yayB0YWcgc2hvdWxkIG5vdCBoYXZlIHNpZGUtZWZmZWN0cy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbWl0Q29udGFpbmVyID0gZnVuY3Rpb24gKGZpbmlzaGVkV29yaykge1xuICAgICAgICAvLyBOb29wXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoZW5hYmxlUGVyc2lzdGVudFJlY29uY2lsZXIgfHwgZW5hYmxlTm9vcFJlY29uY2lsZXIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbW1pdFJlc2V0VGV4dENvbnRlbnQ6IGZ1bmN0aW9uIChmaW5pc2hlZFdvcmspIHt9LFxuICAgICAgICBjb21taXRQbGFjZW1lbnQ6IGZ1bmN0aW9uIChmaW5pc2hlZFdvcmspIHt9LFxuICAgICAgICBjb21taXREZWxldGlvbjogZnVuY3Rpb24gKGN1cnJlbnQpIHtcbiAgICAgICAgICAvLyBEZXRhY2ggcmVmcyBhbmQgY2FsbCBjb21wb25lbnRXaWxsVW5tb3VudCgpIG9uIHRoZSB3aG9sZSBzdWJ0cmVlLlxuICAgICAgICAgIGNvbW1pdE5lc3RlZFVubW91bnRzKGN1cnJlbnQpO1xuICAgICAgICAgIGRldGFjaEZpYmVyKGN1cnJlbnQpO1xuICAgICAgICB9LFxuICAgICAgICBjb21taXRXb3JrOiBmdW5jdGlvbiAoY3VycmVudCwgZmluaXNoZWRXb3JrKSB7XG4gICAgICAgICAgY29tbWl0Q29udGFpbmVyKGZpbmlzaGVkV29yayk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY29tbWl0TGlmZUN5Y2xlczogY29tbWl0TGlmZUN5Y2xlcyxcbiAgICAgICAgY29tbWl0QmVmb3JlTXV0YXRpb25MaWZlQ3ljbGVzOiBjb21taXRCZWZvcmVNdXRhdGlvbkxpZmVDeWNsZXMsXG4gICAgICAgIGNvbW1pdEVycm9yTG9nZ2luZzogY29tbWl0RXJyb3JMb2dnaW5nLFxuICAgICAgICBjb21taXRBdHRhY2hSZWY6IGNvbW1pdEF0dGFjaFJlZixcbiAgICAgICAgY29tbWl0RGV0YWNoUmVmOiBjb21taXREZXRhY2hSZWZcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChwZXJzaXN0ZW5jZSkge1xuICAgICAgaW52YXJpYW50KGZhbHNlLCAnUGVyc2lzdGVudCByZWNvbmNpbGVyIGlzIGRpc2FibGVkLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnZhcmlhbnQoZmFsc2UsICdOb29wIHJlY29uY2lsZXIgaXMgZGlzYWJsZWQuJyk7XG4gICAgfVxuICB9XG4gIHZhciBjb21taXRNb3VudCA9IG11dGF0aW9uLmNvbW1pdE1vdW50LFxuICAgICAgY29tbWl0VXBkYXRlID0gbXV0YXRpb24uY29tbWl0VXBkYXRlLFxuICAgICAgcmVzZXRUZXh0Q29udGVudCA9IG11dGF0aW9uLnJlc2V0VGV4dENvbnRlbnQsXG4gICAgICBjb21taXRUZXh0VXBkYXRlID0gbXV0YXRpb24uY29tbWl0VGV4dFVwZGF0ZSxcbiAgICAgIGFwcGVuZENoaWxkID0gbXV0YXRpb24uYXBwZW5kQ2hpbGQsXG4gICAgICBhcHBlbmRDaGlsZFRvQ29udGFpbmVyID0gbXV0YXRpb24uYXBwZW5kQ2hpbGRUb0NvbnRhaW5lcixcbiAgICAgIGluc2VydEJlZm9yZSA9IG11dGF0aW9uLmluc2VydEJlZm9yZSxcbiAgICAgIGluc2VydEluQ29udGFpbmVyQmVmb3JlID0gbXV0YXRpb24uaW5zZXJ0SW5Db250YWluZXJCZWZvcmUsXG4gICAgICByZW1vdmVDaGlsZCA9IG11dGF0aW9uLnJlbW92ZUNoaWxkLFxuICAgICAgcmVtb3ZlQ2hpbGRGcm9tQ29udGFpbmVyID0gbXV0YXRpb24ucmVtb3ZlQ2hpbGRGcm9tQ29udGFpbmVyO1xuXG5cbiAgZnVuY3Rpb24gZ2V0SG9zdFBhcmVudEZpYmVyKGZpYmVyKSB7XG4gICAgdmFyIHBhcmVudCA9IGZpYmVyWydyZXR1cm4nXTtcbiAgICB3aGlsZSAocGFyZW50ICE9PSBudWxsKSB7XG4gICAgICBpZiAoaXNIb3N0UGFyZW50KHBhcmVudCkpIHtcbiAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICAgIH1cbiAgICAgIHBhcmVudCA9IHBhcmVudFsncmV0dXJuJ107XG4gICAgfVxuICAgIGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkIHRvIGZpbmQgYSBob3N0IHBhcmVudC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzSG9zdFBhcmVudChmaWJlcikge1xuICAgIHJldHVybiBmaWJlci50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgZmliZXIudGFnID09PSBIb3N0Um9vdCB8fCBmaWJlci50YWcgPT09IEhvc3RQb3J0YWw7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRIb3N0U2libGluZyhmaWJlcikge1xuICAgIC8vIFdlJ3JlIGdvaW5nIHRvIHNlYXJjaCBmb3J3YXJkIGludG8gdGhlIHRyZWUgdW50aWwgd2UgZmluZCBhIHNpYmxpbmcgaG9zdFxuICAgIC8vIG5vZGUuIFVuZm9ydHVuYXRlbHksIGlmIG11bHRpcGxlIGluc2VydGlvbnMgYXJlIGRvbmUgaW4gYSByb3cgd2UgaGF2ZSB0b1xuICAgIC8vIHNlYXJjaCBwYXN0IHRoZW0uIFRoaXMgbGVhZHMgdG8gZXhwb25lbnRpYWwgc2VhcmNoIGZvciB0aGUgbmV4dCBzaWJsaW5nLlxuICAgIHZhciBub2RlID0gZmliZXI7XG4gICAgc2libGluZ3M6IHdoaWxlICh0cnVlKSB7XG4gICAgICAvLyBJZiB3ZSBkaWRuJ3QgZmluZCBhbnl0aGluZywgbGV0J3MgdHJ5IHRoZSBuZXh0IHNpYmxpbmcuXG4gICAgICB3aGlsZSAobm9kZS5zaWJsaW5nID09PSBudWxsKSB7XG4gICAgICAgIGlmIChub2RlWydyZXR1cm4nXSA9PT0gbnVsbCB8fCBpc0hvc3RQYXJlbnQobm9kZVsncmV0dXJuJ10pKSB7XG4gICAgICAgICAgLy8gSWYgd2UgcG9wIG91dCBvZiB0aGUgcm9vdCBvciBoaXQgdGhlIHBhcmVudCB0aGUgZmliZXIgd2UgYXJlIHRoZVxuICAgICAgICAgIC8vIGxhc3Qgc2libGluZy5cbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZVsncmV0dXJuJ107XG4gICAgICB9XG4gICAgICBub2RlLnNpYmxpbmdbJ3JldHVybiddID0gbm9kZVsncmV0dXJuJ107XG4gICAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICAgICAgd2hpbGUgKG5vZGUudGFnICE9PSBIb3N0Q29tcG9uZW50ICYmIG5vZGUudGFnICE9PSBIb3N0VGV4dCkge1xuICAgICAgICAvLyBJZiBpdCBpcyBub3QgaG9zdCBub2RlIGFuZCwgd2UgbWlnaHQgaGF2ZSBhIGhvc3Qgbm9kZSBpbnNpZGUgaXQuXG4gICAgICAgIC8vIFRyeSB0byBzZWFyY2ggZG93biB1bnRpbCB3ZSBmaW5kIG9uZS5cbiAgICAgICAgaWYgKG5vZGUuZWZmZWN0VGFnICYgUGxhY2VtZW50KSB7XG4gICAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIGNoaWxkLCB0cnkgdGhlIHNpYmxpbmdzIGluc3RlYWQuXG4gICAgICAgICAgY29udGludWUgc2libGluZ3M7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIGNoaWxkLCB0cnkgdGhlIHNpYmxpbmdzIGluc3RlYWQuXG4gICAgICAgIC8vIFdlIGFsc28gc2tpcCBwb3J0YWxzIGJlY2F1c2UgdGhleSBhcmUgbm90IHBhcnQgb2YgdGhpcyBob3N0IHRyZWUuXG4gICAgICAgIGlmIChub2RlLmNoaWxkID09PSBudWxsIHx8IG5vZGUudGFnID09PSBIb3N0UG9ydGFsKSB7XG4gICAgICAgICAgY29udGludWUgc2libGluZ3M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm9kZS5jaGlsZFsncmV0dXJuJ10gPSBub2RlO1xuICAgICAgICAgIG5vZGUgPSBub2RlLmNoaWxkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGhvc3Qgbm9kZSBpcyBzdGFibGUgb3IgYWJvdXQgdG8gYmUgcGxhY2VkLlxuICAgICAgaWYgKCEobm9kZS5lZmZlY3RUYWcgJiBQbGFjZW1lbnQpKSB7XG4gICAgICAgIC8vIEZvdW5kIGl0IVxuICAgICAgICByZXR1cm4gbm9kZS5zdGF0ZU5vZGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0UGxhY2VtZW50KGZpbmlzaGVkV29yaykge1xuICAgIC8vIFJlY3Vyc2l2ZWx5IGluc2VydCBhbGwgaG9zdCBub2RlcyBpbnRvIHRoZSBwYXJlbnQuXG4gICAgdmFyIHBhcmVudEZpYmVyID0gZ2V0SG9zdFBhcmVudEZpYmVyKGZpbmlzaGVkV29yayk7XG4gICAgdmFyIHBhcmVudCA9IHZvaWQgMDtcbiAgICB2YXIgaXNDb250YWluZXIgPSB2b2lkIDA7XG4gICAgc3dpdGNoIChwYXJlbnRGaWJlci50YWcpIHtcbiAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgcGFyZW50ID0gcGFyZW50RmliZXIuc3RhdGVOb2RlO1xuICAgICAgICBpc0NvbnRhaW5lciA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgIHBhcmVudCA9IHBhcmVudEZpYmVyLnN0YXRlTm9kZS5jb250YWluZXJJbmZvO1xuICAgICAgICBpc0NvbnRhaW5lciA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAgICBwYXJlbnQgPSBwYXJlbnRGaWJlci5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgaXNDb250YWluZXIgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGludmFyaWFudChmYWxzZSwgJ0ludmFsaWQgaG9zdCBwYXJlbnQgZmliZXIuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgfVxuICAgIGlmIChwYXJlbnRGaWJlci5lZmZlY3RUYWcgJiBDb250ZW50UmVzZXQpIHtcbiAgICAgIC8vIFJlc2V0IHRoZSB0ZXh0IGNvbnRlbnQgb2YgdGhlIHBhcmVudCBiZWZvcmUgZG9pbmcgYW55IGluc2VydGlvbnNcbiAgICAgIHJlc2V0VGV4dENvbnRlbnQocGFyZW50KTtcbiAgICAgIC8vIENsZWFyIENvbnRlbnRSZXNldCBmcm9tIHRoZSBlZmZlY3QgdGFnXG4gICAgICBwYXJlbnRGaWJlci5lZmZlY3RUYWcgJj0gfkNvbnRlbnRSZXNldDtcbiAgICB9XG5cbiAgICB2YXIgYmVmb3JlID0gZ2V0SG9zdFNpYmxpbmcoZmluaXNoZWRXb3JrKTtcbiAgICAvLyBXZSBvbmx5IGhhdmUgdGhlIHRvcCBGaWJlciB0aGF0IHdhcyBpbnNlcnRlZCBidXQgd2UgbmVlZCByZWN1cnNlIGRvd24gaXRzXG4gICAgLy8gY2hpbGRyZW4gdG8gZmluZCBhbGwgdGhlIHRlcm1pbmFsIG5vZGVzLlxuICAgIHZhciBub2RlID0gZmluaXNoZWRXb3JrO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAobm9kZS50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgbm9kZS50YWcgPT09IEhvc3RUZXh0KSB7XG4gICAgICAgIGlmIChiZWZvcmUpIHtcbiAgICAgICAgICBpZiAoaXNDb250YWluZXIpIHtcbiAgICAgICAgICAgIGluc2VydEluQ29udGFpbmVyQmVmb3JlKHBhcmVudCwgbm9kZS5zdGF0ZU5vZGUsIGJlZm9yZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluc2VydEJlZm9yZShwYXJlbnQsIG5vZGUuc3RhdGVOb2RlLCBiZWZvcmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoaXNDb250YWluZXIpIHtcbiAgICAgICAgICAgIGFwcGVuZENoaWxkVG9Db250YWluZXIocGFyZW50LCBub2RlLnN0YXRlTm9kZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFwcGVuZENoaWxkKHBhcmVudCwgbm9kZS5zdGF0ZU5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChub2RlLnRhZyA9PT0gSG9zdFBvcnRhbCkge1xuICAgICAgICAvLyBJZiB0aGUgaW5zZXJ0aW9uIGl0c2VsZiBpcyBhIHBvcnRhbCwgdGhlbiB3ZSBkb24ndCB3YW50IHRvIHRyYXZlcnNlXG4gICAgICAgIC8vIGRvd24gaXRzIGNoaWxkcmVuLiBJbnN0ZWFkLCB3ZSdsbCBnZXQgaW5zZXJ0aW9ucyBmcm9tIGVhY2ggY2hpbGQgaW5cbiAgICAgICAgLy8gdGhlIHBvcnRhbCBkaXJlY3RseS5cbiAgICAgIH0gZWxzZSBpZiAobm9kZS5jaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICBub2RlLmNoaWxkWydyZXR1cm4nXSA9IG5vZGU7XG4gICAgICAgIG5vZGUgPSBub2RlLmNoaWxkO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlID09PSBmaW5pc2hlZFdvcmspIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgd2hpbGUgKG5vZGUuc2libGluZyA9PT0gbnVsbCkge1xuICAgICAgICBpZiAobm9kZVsncmV0dXJuJ10gPT09IG51bGwgfHwgbm9kZVsncmV0dXJuJ10gPT09IGZpbmlzaGVkV29yaykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZVsncmV0dXJuJ107XG4gICAgICB9XG4gICAgICBub2RlLnNpYmxpbmdbJ3JldHVybiddID0gbm9kZVsncmV0dXJuJ107XG4gICAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVubW91bnRIb3N0Q29tcG9uZW50cyhjdXJyZW50KSB7XG4gICAgLy8gV2Ugb25seSBoYXZlIHRoZSB0b3AgRmliZXIgdGhhdCB3YXMgaW5zZXJ0ZWQgYnV0IHdlIG5lZWQgcmVjdXJzZSBkb3duIGl0c1xuICAgIHZhciBub2RlID0gY3VycmVudDtcblxuICAgIC8vIEVhY2ggaXRlcmF0aW9uLCBjdXJyZW50UGFyZW50IGlzIHBvcHVsYXRlZCB3aXRoIG5vZGUncyBob3N0IHBhcmVudCBpZiBub3RcbiAgICAvLyBjdXJyZW50UGFyZW50SXNWYWxpZC5cbiAgICB2YXIgY3VycmVudFBhcmVudElzVmFsaWQgPSBmYWxzZTtcbiAgICB2YXIgY3VycmVudFBhcmVudCA9IHZvaWQgMDtcbiAgICB2YXIgY3VycmVudFBhcmVudElzQ29udGFpbmVyID0gdm9pZCAwO1xuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmICghY3VycmVudFBhcmVudElzVmFsaWQpIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IG5vZGVbJ3JldHVybiddO1xuICAgICAgICBmaW5kUGFyZW50OiB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICEocGFyZW50ICE9PSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkIHRvIGZpbmQgYSBob3N0IHBhcmVudC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgICAgICAgICBzd2l0Y2ggKHBhcmVudC50YWcpIHtcbiAgICAgICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICAgICAgY3VycmVudFBhcmVudCA9IHBhcmVudC5zdGF0ZU5vZGU7XG4gICAgICAgICAgICAgIGN1cnJlbnRQYXJlbnRJc0NvbnRhaW5lciA9IGZhbHNlO1xuICAgICAgICAgICAgICBicmVhayBmaW5kUGFyZW50O1xuICAgICAgICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgICAgICAgICAgY3VycmVudFBhcmVudCA9IHBhcmVudC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgICAgICAgY3VycmVudFBhcmVudElzQ29udGFpbmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWsgZmluZFBhcmVudDtcbiAgICAgICAgICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgICAgICAgICAgY3VycmVudFBhcmVudCA9IHBhcmVudC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgICAgICAgY3VycmVudFBhcmVudElzQ29udGFpbmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWsgZmluZFBhcmVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGFyZW50ID0gcGFyZW50WydyZXR1cm4nXTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50UGFyZW50SXNWYWxpZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChub2RlLnRhZyA9PT0gSG9zdENvbXBvbmVudCB8fCBub2RlLnRhZyA9PT0gSG9zdFRleHQpIHtcbiAgICAgICAgY29tbWl0TmVzdGVkVW5tb3VudHMobm9kZSk7XG4gICAgICAgIC8vIEFmdGVyIGFsbCB0aGUgY2hpbGRyZW4gaGF2ZSB1bm1vdW50ZWQsIGl0IGlzIG5vdyBzYWZlIHRvIHJlbW92ZSB0aGVcbiAgICAgICAgLy8gbm9kZSBmcm9tIHRoZSB0cmVlLlxuICAgICAgICBpZiAoY3VycmVudFBhcmVudElzQ29udGFpbmVyKSB7XG4gICAgICAgICAgcmVtb3ZlQ2hpbGRGcm9tQ29udGFpbmVyKGN1cnJlbnRQYXJlbnQsIG5vZGUuc3RhdGVOb2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZW1vdmVDaGlsZChjdXJyZW50UGFyZW50LCBub2RlLnN0YXRlTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRG9uJ3QgdmlzaXQgY2hpbGRyZW4gYmVjYXVzZSB3ZSBhbHJlYWR5IHZpc2l0ZWQgdGhlbS5cbiAgICAgIH0gZWxzZSBpZiAobm9kZS50YWcgPT09IEhvc3RQb3J0YWwpIHtcbiAgICAgICAgLy8gV2hlbiB3ZSBnbyBpbnRvIGEgcG9ydGFsLCBpdCBiZWNvbWVzIHRoZSBwYXJlbnQgdG8gcmVtb3ZlIGZyb20uXG4gICAgICAgIC8vIFdlIHdpbGwgcmVhc3NpZ24gaXQgYmFjayB3aGVuIHdlIHBvcCB0aGUgcG9ydGFsIG9uIHRoZSB3YXkgdXAuXG4gICAgICAgIGN1cnJlbnRQYXJlbnQgPSBub2RlLnN0YXRlTm9kZS5jb250YWluZXJJbmZvO1xuICAgICAgICAvLyBWaXNpdCBjaGlsZHJlbiBiZWNhdXNlIHBvcnRhbHMgbWlnaHQgY29udGFpbiBob3N0IGNvbXBvbmVudHMuXG4gICAgICAgIGlmIChub2RlLmNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgICAgbm9kZS5jaGlsZFsncmV0dXJuJ10gPSBub2RlO1xuICAgICAgICAgIG5vZGUgPSBub2RlLmNoaWxkO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21taXRVbm1vdW50KG5vZGUpO1xuICAgICAgICAvLyBWaXNpdCBjaGlsZHJlbiBiZWNhdXNlIHdlIG1heSBmaW5kIG1vcmUgaG9zdCBjb21wb25lbnRzIGJlbG93LlxuICAgICAgICBpZiAobm9kZS5jaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICAgIG5vZGUuY2hpbGRbJ3JldHVybiddID0gbm9kZTtcbiAgICAgICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG5vZGUgPT09IGN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgd2hpbGUgKG5vZGUuc2libGluZyA9PT0gbnVsbCkge1xuICAgICAgICBpZiAobm9kZVsncmV0dXJuJ10gPT09IG51bGwgfHwgbm9kZVsncmV0dXJuJ10gPT09IGN1cnJlbnQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGVbJ3JldHVybiddO1xuICAgICAgICBpZiAobm9kZS50YWcgPT09IEhvc3RQb3J0YWwpIHtcbiAgICAgICAgICAvLyBXaGVuIHdlIGdvIG91dCBvZiB0aGUgcG9ydGFsLCB3ZSBuZWVkIHRvIHJlc3RvcmUgdGhlIHBhcmVudC5cbiAgICAgICAgICAvLyBTaW5jZSB3ZSBkb24ndCBrZWVwIGEgc3RhY2sgb2YgdGhlbSwgd2Ugd2lsbCBzZWFyY2ggZm9yIGl0LlxuICAgICAgICAgIGN1cnJlbnRQYXJlbnRJc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5vZGUuc2libGluZ1sncmV0dXJuJ10gPSBub2RlWydyZXR1cm4nXTtcbiAgICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0RGVsZXRpb24oY3VycmVudCkge1xuICAgIC8vIFJlY3Vyc2l2ZWx5IGRlbGV0ZSBhbGwgaG9zdCBub2RlcyBmcm9tIHRoZSBwYXJlbnQuXG4gICAgLy8gRGV0YWNoIHJlZnMgYW5kIGNhbGwgY29tcG9uZW50V2lsbFVubW91bnQoKSBvbiB0aGUgd2hvbGUgc3VidHJlZS5cbiAgICB1bm1vdW50SG9zdENvbXBvbmVudHMoY3VycmVudCk7XG4gICAgZGV0YWNoRmliZXIoY3VycmVudCk7XG4gIH1cblxuICBmdW5jdGlvbiBjb21taXRXb3JrKGN1cnJlbnQsIGZpbmlzaGVkV29yaykge1xuICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIF9pbnN0YW5jZTggPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgIGlmIChfaW5zdGFuY2U4ICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIENvbW1pdCB0aGUgd29yayBwcmVwYXJlZCBlYXJsaWVyLlxuICAgICAgICAgICAgdmFyIG5ld1Byb3BzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICAvLyBGb3IgaHlkcmF0aW9uIHdlIHJldXNlIHRoZSB1cGRhdGUgcGF0aCBidXQgd2UgdHJlYXQgdGhlIG9sZFByb3BzXG4gICAgICAgICAgICAvLyBhcyB0aGUgbmV3UHJvcHMuIFRoZSB1cGRhdGVQYXlsb2FkIHdpbGwgY29udGFpbiB0aGUgcmVhbCBjaGFuZ2UgaW5cbiAgICAgICAgICAgIC8vIHRoaXMgY2FzZS5cbiAgICAgICAgICAgIHZhciBvbGRQcm9wcyA9IGN1cnJlbnQgIT09IG51bGwgPyBjdXJyZW50Lm1lbW9pemVkUHJvcHMgOiBuZXdQcm9wcztcbiAgICAgICAgICAgIHZhciB0eXBlID0gZmluaXNoZWRXb3JrLnR5cGU7XG4gICAgICAgICAgICAvLyBUT0RPOiBUeXBlIHRoZSB1cGRhdGVRdWV1ZSB0byBiZSBzcGVjaWZpYyB0byBob3N0IGNvbXBvbmVudHMuXG4gICAgICAgICAgICB2YXIgdXBkYXRlUGF5bG9hZCA9IGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZTtcbiAgICAgICAgICAgIGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZSA9IG51bGw7XG4gICAgICAgICAgICBpZiAodXBkYXRlUGF5bG9hZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBjb21taXRVcGRhdGUoX2luc3RhbmNlOCwgdXBkYXRlUGF5bG9hZCwgdHlwZSwgb2xkUHJvcHMsIG5ld1Byb3BzLCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIGNhc2UgSG9zdFRleHQ6XG4gICAgICAgIHtcbiAgICAgICAgICAhKGZpbmlzaGVkV29yay5zdGF0ZU5vZGUgIT09IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnVGhpcyBzaG91bGQgaGF2ZSBhIHRleHQgbm9kZSBpbml0aWFsaXplZC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgICAgICAgICB2YXIgdGV4dEluc3RhbmNlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICB2YXIgbmV3VGV4dCA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzO1xuICAgICAgICAgIC8vIEZvciBoeWRyYXRpb24gd2UgcmV1c2UgdGhlIHVwZGF0ZSBwYXRoIGJ1dCB3ZSB0cmVhdCB0aGUgb2xkUHJvcHNcbiAgICAgICAgICAvLyBhcyB0aGUgbmV3UHJvcHMuIFRoZSB1cGRhdGVQYXlsb2FkIHdpbGwgY29udGFpbiB0aGUgcmVhbCBjaGFuZ2UgaW5cbiAgICAgICAgICAvLyB0aGlzIGNhc2UuXG4gICAgICAgICAgdmFyIG9sZFRleHQgPSBjdXJyZW50ICE9PSBudWxsID8gY3VycmVudC5tZW1vaXplZFByb3BzIDogbmV3VGV4dDtcbiAgICAgICAgICBjb21taXRUZXh0VXBkYXRlKHRleHRJbnN0YW5jZSwgb2xkVGV4dCwgbmV3VGV4dCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBjYXNlIEhvc3RSb290OlxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB7XG4gICAgICAgICAgaW52YXJpYW50KGZhbHNlLCAnVGhpcyB1bml0IG9mIHdvcmsgdGFnIHNob3VsZCBub3QgaGF2ZSBzaWRlLWVmZmVjdHMuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb21taXRSZXNldFRleHRDb250ZW50KGN1cnJlbnQpIHtcbiAgICByZXNldFRleHRDb250ZW50KGN1cnJlbnQuc3RhdGVOb2RlKTtcbiAgfVxuXG4gIGlmIChlbmFibGVNdXRhdGluZ1JlY29uY2lsZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29tbWl0QmVmb3JlTXV0YXRpb25MaWZlQ3ljbGVzOiBjb21taXRCZWZvcmVNdXRhdGlvbkxpZmVDeWNsZXMsXG4gICAgICBjb21taXRSZXNldFRleHRDb250ZW50OiBjb21taXRSZXNldFRleHRDb250ZW50LFxuICAgICAgY29tbWl0UGxhY2VtZW50OiBjb21taXRQbGFjZW1lbnQsXG4gICAgICBjb21taXREZWxldGlvbjogY29tbWl0RGVsZXRpb24sXG4gICAgICBjb21taXRXb3JrOiBjb21taXRXb3JrLFxuICAgICAgY29tbWl0TGlmZUN5Y2xlczogY29tbWl0TGlmZUN5Y2xlcyxcbiAgICAgIGNvbW1pdEVycm9yTG9nZ2luZzogY29tbWl0RXJyb3JMb2dnaW5nLFxuICAgICAgY29tbWl0QXR0YWNoUmVmOiBjb21taXRBdHRhY2hSZWYsXG4gICAgICBjb21taXREZXRhY2hSZWY6IGNvbW1pdERldGFjaFJlZlxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgaW52YXJpYW50KGZhbHNlLCAnTXV0YXRpbmcgcmVjb25jaWxlciBpcyBkaXNhYmxlZC4nKTtcbiAgfVxufTtcblxudmFyIE5PX0NPTlRFWFQgPSB7fTtcblxudmFyIFJlYWN0RmliZXJIb3N0Q29udGV4dCA9IGZ1bmN0aW9uIChjb25maWcsIHN0YWNrKSB7XG4gIHZhciBnZXRDaGlsZEhvc3RDb250ZXh0ID0gY29uZmlnLmdldENoaWxkSG9zdENvbnRleHQsXG4gICAgICBnZXRSb290SG9zdENvbnRleHQgPSBjb25maWcuZ2V0Um9vdEhvc3RDb250ZXh0O1xuICB2YXIgY3JlYXRlQ3Vyc29yID0gc3RhY2suY3JlYXRlQ3Vyc29yLFxuICAgICAgcHVzaCA9IHN0YWNrLnB1c2gsXG4gICAgICBwb3AgPSBzdGFjay5wb3A7XG5cblxuICB2YXIgY29udGV4dFN0YWNrQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKE5PX0NPTlRFWFQpO1xuICB2YXIgY29udGV4dEZpYmVyU3RhY2tDdXJzb3IgPSBjcmVhdGVDdXJzb3IoTk9fQ09OVEVYVCk7XG4gIHZhciByb290SW5zdGFuY2VTdGFja0N1cnNvciA9IGNyZWF0ZUN1cnNvcihOT19DT05URVhUKTtcblxuICBmdW5jdGlvbiByZXF1aXJlZENvbnRleHQoYykge1xuICAgICEoYyAhPT0gTk9fQ09OVEVYVCkgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCBob3N0IGNvbnRleHQgdG8gZXhpc3QuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gICAgcmV0dXJuIGM7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSb290SG9zdENvbnRhaW5lcigpIHtcbiAgICB2YXIgcm9vdEluc3RhbmNlID0gcmVxdWlyZWRDb250ZXh0KHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLmN1cnJlbnQpO1xuICAgIHJldHVybiByb290SW5zdGFuY2U7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoSG9zdENvbnRhaW5lcihmaWJlciwgbmV4dFJvb3RJbnN0YW5jZSkge1xuICAgIC8vIFB1c2ggY3VycmVudCByb290IGluc3RhbmNlIG9udG8gdGhlIHN0YWNrO1xuICAgIC8vIFRoaXMgYWxsb3dzIHVzIHRvIHJlc2V0IHJvb3Qgd2hlbiBwb3J0YWxzIGFyZSBwb3BwZWQuXG4gICAgcHVzaChyb290SW5zdGFuY2VTdGFja0N1cnNvciwgbmV4dFJvb3RJbnN0YW5jZSwgZmliZXIpO1xuICAgIC8vIFRyYWNrIHRoZSBjb250ZXh0IGFuZCB0aGUgRmliZXIgdGhhdCBwcm92aWRlZCBpdC5cbiAgICAvLyBUaGlzIGVuYWJsZXMgdXMgdG8gcG9wIG9ubHkgRmliZXJzIHRoYXQgcHJvdmlkZSB1bmlxdWUgY29udGV4dHMuXG4gICAgcHVzaChjb250ZXh0RmliZXJTdGFja0N1cnNvciwgZmliZXIsIGZpYmVyKTtcblxuICAgIC8vIEZpbmFsbHksIHdlIG5lZWQgdG8gcHVzaCB0aGUgaG9zdCBjb250ZXh0IHRvIHRoZSBzdGFjay5cbiAgICAvLyBIb3dldmVyLCB3ZSBjYW4ndCBqdXN0IGNhbGwgZ2V0Um9vdEhvc3RDb250ZXh0KCkgYW5kIHB1c2ggaXQgYmVjYXVzZVxuICAgIC8vIHdlJ2QgaGF2ZSBhIGRpZmZlcmVudCBudW1iZXIgb2YgZW50cmllcyBvbiB0aGUgc3RhY2sgZGVwZW5kaW5nIG9uXG4gICAgLy8gd2hldGhlciBnZXRSb290SG9zdENvbnRleHQoKSB0aHJvd3Mgc29tZXdoZXJlIGluIHJlbmRlcmVyIGNvZGUgb3Igbm90LlxuICAgIC8vIFNvIHdlIHB1c2ggYW4gZW1wdHkgdmFsdWUgZmlyc3QuIFRoaXMgbGV0cyB1cyBzYWZlbHkgdW53aW5kIG9uIGVycm9ycy5cbiAgICBwdXNoKGNvbnRleHRTdGFja0N1cnNvciwgTk9fQ09OVEVYVCwgZmliZXIpO1xuICAgIHZhciBuZXh0Um9vdENvbnRleHQgPSBnZXRSb290SG9zdENvbnRleHQobmV4dFJvb3RJbnN0YW5jZSk7XG4gICAgLy8gTm93IHRoYXQgd2Uga25vdyB0aGlzIGZ1bmN0aW9uIGRvZXNuJ3QgdGhyb3csIHJlcGxhY2UgaXQuXG4gICAgcG9wKGNvbnRleHRTdGFja0N1cnNvciwgZmliZXIpO1xuICAgIHB1c2goY29udGV4dFN0YWNrQ3Vyc29yLCBuZXh0Um9vdENvbnRleHQsIGZpYmVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvcEhvc3RDb250YWluZXIoZmliZXIpIHtcbiAgICBwb3AoY29udGV4dFN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gICAgcG9wKGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gICAgcG9wKHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRIb3N0Q29udGV4dCgpIHtcbiAgICB2YXIgY29udGV4dCA9IHJlcXVpcmVkQ29udGV4dChjb250ZXh0U3RhY2tDdXJzb3IuY3VycmVudCk7XG4gICAgcmV0dXJuIGNvbnRleHQ7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoSG9zdENvbnRleHQoZmliZXIpIHtcbiAgICB2YXIgcm9vdEluc3RhbmNlID0gcmVxdWlyZWRDb250ZXh0KHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLmN1cnJlbnQpO1xuICAgIHZhciBjb250ZXh0ID0gcmVxdWlyZWRDb250ZXh0KGNvbnRleHRTdGFja0N1cnNvci5jdXJyZW50KTtcbiAgICB2YXIgbmV4dENvbnRleHQgPSBnZXRDaGlsZEhvc3RDb250ZXh0KGNvbnRleHQsIGZpYmVyLnR5cGUsIHJvb3RJbnN0YW5jZSk7XG5cbiAgICAvLyBEb24ndCBwdXNoIHRoaXMgRmliZXIncyBjb250ZXh0IHVubGVzcyBpdCdzIHVuaXF1ZS5cbiAgICBpZiAoY29udGV4dCA9PT0gbmV4dENvbnRleHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUcmFjayB0aGUgY29udGV4dCBhbmQgdGhlIEZpYmVyIHRoYXQgcHJvdmlkZWQgaXQuXG4gICAgLy8gVGhpcyBlbmFibGVzIHVzIHRvIHBvcCBvbmx5IEZpYmVycyB0aGF0IHByb3ZpZGUgdW5pcXVlIGNvbnRleHRzLlxuICAgIHB1c2goY29udGV4dEZpYmVyU3RhY2tDdXJzb3IsIGZpYmVyLCBmaWJlcik7XG4gICAgcHVzaChjb250ZXh0U3RhY2tDdXJzb3IsIG5leHRDb250ZXh0LCBmaWJlcik7XG4gIH1cblxuICBmdW5jdGlvbiBwb3BIb3N0Q29udGV4dChmaWJlcikge1xuICAgIC8vIERvIG5vdCBwb3AgdW5sZXNzIHRoaXMgRmliZXIgcHJvdmlkZWQgdGhlIGN1cnJlbnQgY29udGV4dC5cbiAgICAvLyBwdXNoSG9zdENvbnRleHQoKSBvbmx5IHB1c2hlcyBGaWJlcnMgdGhhdCBwcm92aWRlIHVuaXF1ZSBjb250ZXh0cy5cbiAgICBpZiAoY29udGV4dEZpYmVyU3RhY2tDdXJzb3IuY3VycmVudCAhPT0gZmliZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBwb3AoY29udGV4dFN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gICAgcG9wKGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGdldEhvc3RDb250ZXh0OiBnZXRIb3N0Q29udGV4dCxcbiAgICBnZXRSb290SG9zdENvbnRhaW5lcjogZ2V0Um9vdEhvc3RDb250YWluZXIsXG4gICAgcG9wSG9zdENvbnRhaW5lcjogcG9wSG9zdENvbnRhaW5lcixcbiAgICBwb3BIb3N0Q29udGV4dDogcG9wSG9zdENvbnRleHQsXG4gICAgcHVzaEhvc3RDb250YWluZXI6IHB1c2hIb3N0Q29udGFpbmVyLFxuICAgIHB1c2hIb3N0Q29udGV4dDogcHVzaEhvc3RDb250ZXh0XG4gIH07XG59O1xuXG52YXIgUmVhY3RGaWJlckh5ZHJhdGlvbkNvbnRleHQgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gIHZhciBzaG91bGRTZXRUZXh0Q29udGVudCA9IGNvbmZpZy5zaG91bGRTZXRUZXh0Q29udGVudCxcbiAgICAgIGh5ZHJhdGlvbiA9IGNvbmZpZy5oeWRyYXRpb247XG5cbiAgLy8gSWYgdGhpcyBkb2Vzbid0IGhhdmUgaHlkcmF0aW9uIG1vZGUuXG5cbiAgaWYgKCFoeWRyYXRpb24pIHtcbiAgICByZXR1cm4ge1xuICAgICAgZW50ZXJIeWRyYXRpb25TdGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9LFxuICAgICAgcmVzZXRIeWRyYXRpb25TdGF0ZTogZnVuY3Rpb24gKCkge30sXG4gICAgICB0cnlUb0NsYWltTmV4dEh5ZHJhdGFibGVJbnN0YW5jZTogZnVuY3Rpb24gKCkge30sXG4gICAgICBwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkIHByZXBhcmVUb0h5ZHJhdGVIb3N0SW5zdGFuY2UoKSB0byBuZXZlciBiZSBjYWxsZWQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgICB9LFxuICAgICAgcHJlcGFyZVRvSHlkcmF0ZUhvc3RUZXh0SW5zdGFuY2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaW52YXJpYW50KGZhbHNlLCAnRXhwZWN0ZWQgcHJlcGFyZVRvSHlkcmF0ZUhvc3RUZXh0SW5zdGFuY2UoKSB0byBuZXZlciBiZSBjYWxsZWQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgICB9LFxuICAgICAgcG9wSHlkcmF0aW9uU3RhdGU6IGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHZhciBjYW5IeWRyYXRlSW5zdGFuY2UgPSBoeWRyYXRpb24uY2FuSHlkcmF0ZUluc3RhbmNlLFxuICAgICAgY2FuSHlkcmF0ZVRleHRJbnN0YW5jZSA9IGh5ZHJhdGlvbi5jYW5IeWRyYXRlVGV4dEluc3RhbmNlLFxuICAgICAgZ2V0TmV4dEh5ZHJhdGFibGVTaWJsaW5nID0gaHlkcmF0aW9uLmdldE5leHRIeWRyYXRhYmxlU2libGluZyxcbiAgICAgIGdldEZpcnN0SHlkcmF0YWJsZUNoaWxkID0gaHlkcmF0aW9uLmdldEZpcnN0SHlkcmF0YWJsZUNoaWxkLFxuICAgICAgaHlkcmF0ZUluc3RhbmNlID0gaHlkcmF0aW9uLmh5ZHJhdGVJbnN0YW5jZSxcbiAgICAgIGh5ZHJhdGVUZXh0SW5zdGFuY2UgPSBoeWRyYXRpb24uaHlkcmF0ZVRleHRJbnN0YW5jZSxcbiAgICAgIGRpZE5vdE1hdGNoSHlkcmF0ZWRDb250YWluZXJUZXh0SW5zdGFuY2UgPSBoeWRyYXRpb24uZGlkTm90TWF0Y2hIeWRyYXRlZENvbnRhaW5lclRleHRJbnN0YW5jZSxcbiAgICAgIGRpZE5vdE1hdGNoSHlkcmF0ZWRUZXh0SW5zdGFuY2UgPSBoeWRyYXRpb24uZGlkTm90TWF0Y2hIeWRyYXRlZFRleHRJbnN0YW5jZSxcbiAgICAgIGRpZE5vdEh5ZHJhdGVDb250YWluZXJJbnN0YW5jZSA9IGh5ZHJhdGlvbi5kaWROb3RIeWRyYXRlQ29udGFpbmVySW5zdGFuY2UsXG4gICAgICBkaWROb3RIeWRyYXRlSW5zdGFuY2UgPSBoeWRyYXRpb24uZGlkTm90SHlkcmF0ZUluc3RhbmNlLFxuICAgICAgZGlkTm90RmluZEh5ZHJhdGFibGVDb250YWluZXJJbnN0YW5jZSA9IGh5ZHJhdGlvbi5kaWROb3RGaW5kSHlkcmF0YWJsZUNvbnRhaW5lckluc3RhbmNlLFxuICAgICAgZGlkTm90RmluZEh5ZHJhdGFibGVDb250YWluZXJUZXh0SW5zdGFuY2UgPSBoeWRyYXRpb24uZGlkTm90RmluZEh5ZHJhdGFibGVDb250YWluZXJUZXh0SW5zdGFuY2UsXG4gICAgICBkaWROb3RGaW5kSHlkcmF0YWJsZUluc3RhbmNlID0gaHlkcmF0aW9uLmRpZE5vdEZpbmRIeWRyYXRhYmxlSW5zdGFuY2UsXG4gICAgICBkaWROb3RGaW5kSHlkcmF0YWJsZVRleHRJbnN0YW5jZSA9IGh5ZHJhdGlvbi5kaWROb3RGaW5kSHlkcmF0YWJsZVRleHRJbnN0YW5jZTtcblxuICAvLyBUaGUgZGVlcGVzdCBGaWJlciBvbiB0aGUgc3RhY2sgaW52b2x2ZWQgaW4gYSBoeWRyYXRpb24gY29udGV4dC5cbiAgLy8gVGhpcyBtYXkgaGF2ZSBiZWVuIGFuIGluc2VydGlvbiBvciBhIGh5ZHJhdGlvbi5cblxuICB2YXIgaHlkcmF0aW9uUGFyZW50RmliZXIgPSBudWxsO1xuICB2YXIgbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IG51bGw7XG4gIHZhciBpc0h5ZHJhdGluZyA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGVudGVySHlkcmF0aW9uU3RhdGUoZmliZXIpIHtcbiAgICB2YXIgcGFyZW50SW5zdGFuY2UgPSBmaWJlci5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICBuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gZ2V0Rmlyc3RIeWRyYXRhYmxlQ2hpbGQocGFyZW50SW5zdGFuY2UpO1xuICAgIGh5ZHJhdGlvblBhcmVudEZpYmVyID0gZmliZXI7XG4gICAgaXNIeWRyYXRpbmcgPSB0cnVlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVsZXRlSHlkcmF0YWJsZUluc3RhbmNlKHJldHVybkZpYmVyLCBpbnN0YW5jZSkge1xuICAgIHtcbiAgICAgIHN3aXRjaCAocmV0dXJuRmliZXIudGFnKSB7XG4gICAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgICAgZGlkTm90SHlkcmF0ZUNvbnRhaW5lckluc3RhbmNlKHJldHVybkZpYmVyLnN0YXRlTm9kZS5jb250YWluZXJJbmZvLCBpbnN0YW5jZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICBkaWROb3RIeWRyYXRlSW5zdGFuY2UocmV0dXJuRmliZXIudHlwZSwgcmV0dXJuRmliZXIubWVtb2l6ZWRQcm9wcywgcmV0dXJuRmliZXIuc3RhdGVOb2RlLCBpbnN0YW5jZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGNoaWxkVG9EZWxldGUgPSBjcmVhdGVGaWJlckZyb21Ib3N0SW5zdGFuY2VGb3JEZWxldGlvbigpO1xuICAgIGNoaWxkVG9EZWxldGUuc3RhdGVOb2RlID0gaW5zdGFuY2U7XG4gICAgY2hpbGRUb0RlbGV0ZVsncmV0dXJuJ10gPSByZXR1cm5GaWJlcjtcbiAgICBjaGlsZFRvRGVsZXRlLmVmZmVjdFRhZyA9IERlbGV0aW9uO1xuXG4gICAgLy8gVGhpcyBtaWdodCBzZWVtIGxpa2UgaXQgYmVsb25ncyBvbiBwcm9ncmVzc2VkRmlyc3REZWxldGlvbi4gSG93ZXZlcixcbiAgICAvLyB0aGVzZSBjaGlsZHJlbiBhcmUgbm90IHBhcnQgb2YgdGhlIHJlY29uY2lsaWF0aW9uIGxpc3Qgb2YgY2hpbGRyZW4uXG4gICAgLy8gRXZlbiBpZiB3ZSBhYm9ydCBhbmQgcmVyZWNvbmNpbGUgdGhlIGNoaWxkcmVuLCB0aGF0IHdpbGwgdHJ5IHRvIGh5ZHJhdGVcbiAgICAvLyBhZ2FpbiBhbmQgdGhlIG5vZGVzIGFyZSBzdGlsbCBpbiB0aGUgaG9zdCB0cmVlIHNvIHRoZXNlIHdpbGwgYmVcbiAgICAvLyByZWNyZWF0ZWQuXG4gICAgaWYgKHJldHVybkZpYmVyLmxhc3RFZmZlY3QgIT09IG51bGwpIHtcbiAgICAgIHJldHVybkZpYmVyLmxhc3RFZmZlY3QubmV4dEVmZmVjdCA9IGNoaWxkVG9EZWxldGU7XG4gICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gY2hpbGRUb0RlbGV0ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuRmliZXIuZmlyc3RFZmZlY3QgPSByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gY2hpbGRUb0RlbGV0ZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbnNlcnROb25IeWRyYXRlZEluc3RhbmNlKHJldHVybkZpYmVyLCBmaWJlcikge1xuICAgIGZpYmVyLmVmZmVjdFRhZyB8PSBQbGFjZW1lbnQ7XG4gICAge1xuICAgICAgc3dpdGNoIChyZXR1cm5GaWJlci50YWcpIHtcbiAgICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcGFyZW50Q29udGFpbmVyID0gcmV0dXJuRmliZXIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgICAgICAgICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgICAgICAgICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBmaWJlci50eXBlO1xuICAgICAgICAgICAgICAgIHZhciBwcm9wcyA9IGZpYmVyLnBlbmRpbmdQcm9wcztcbiAgICAgICAgICAgICAgICBkaWROb3RGaW5kSHlkcmF0YWJsZUNvbnRhaW5lckluc3RhbmNlKHBhcmVudENvbnRhaW5lciwgdHlwZSwgcHJvcHMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIEhvc3RUZXh0OlxuICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gZmliZXIucGVuZGluZ1Byb3BzO1xuICAgICAgICAgICAgICAgIGRpZE5vdEZpbmRIeWRyYXRhYmxlQ29udGFpbmVyVGV4dEluc3RhbmNlKHBhcmVudENvbnRhaW5lciwgdGV4dCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcGFyZW50VHlwZSA9IHJldHVybkZpYmVyLnR5cGU7XG4gICAgICAgICAgICB2YXIgcGFyZW50UHJvcHMgPSByZXR1cm5GaWJlci5tZW1vaXplZFByb3BzO1xuICAgICAgICAgICAgdmFyIHBhcmVudEluc3RhbmNlID0gcmV0dXJuRmliZXIuc3RhdGVOb2RlO1xuICAgICAgICAgICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgICAgICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICAgICAgICAgIHZhciBfdHlwZSA9IGZpYmVyLnR5cGU7XG4gICAgICAgICAgICAgICAgdmFyIF9wcm9wcyA9IGZpYmVyLnBlbmRpbmdQcm9wcztcbiAgICAgICAgICAgICAgICBkaWROb3RGaW5kSHlkcmF0YWJsZUluc3RhbmNlKHBhcmVudFR5cGUsIHBhcmVudFByb3BzLCBwYXJlbnRJbnN0YW5jZSwgX3R5cGUsIF9wcm9wcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgSG9zdFRleHQ6XG4gICAgICAgICAgICAgICAgdmFyIF90ZXh0ID0gZmliZXIucGVuZGluZ1Byb3BzO1xuICAgICAgICAgICAgICAgIGRpZE5vdEZpbmRIeWRyYXRhYmxlVGV4dEluc3RhbmNlKHBhcmVudFR5cGUsIHBhcmVudFByb3BzLCBwYXJlbnRJbnN0YW5jZSwgX3RleHQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0cnlIeWRyYXRlKGZpYmVyLCBuZXh0SW5zdGFuY2UpIHtcbiAgICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIHR5cGUgPSBmaWJlci50eXBlO1xuICAgICAgICAgIHZhciBwcm9wcyA9IGZpYmVyLnBlbmRpbmdQcm9wcztcbiAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBjYW5IeWRyYXRlSW5zdGFuY2UobmV4dEluc3RhbmNlLCB0eXBlLCBwcm9wcyk7XG4gICAgICAgICAgaWYgKGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmaWJlci5zdGF0ZU5vZGUgPSBpbnN0YW5jZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgSG9zdFRleHQ6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgdGV4dCA9IGZpYmVyLnBlbmRpbmdQcm9wcztcbiAgICAgICAgICB2YXIgdGV4dEluc3RhbmNlID0gY2FuSHlkcmF0ZVRleHRJbnN0YW5jZShuZXh0SW5zdGFuY2UsIHRleHQpO1xuICAgICAgICAgIGlmICh0ZXh0SW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGZpYmVyLnN0YXRlTm9kZSA9IHRleHRJbnN0YW5jZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0cnlUb0NsYWltTmV4dEh5ZHJhdGFibGVJbnN0YW5jZShmaWJlcikge1xuICAgIGlmICghaXNIeWRyYXRpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG5leHRJbnN0YW5jZSA9IG5leHRIeWRyYXRhYmxlSW5zdGFuY2U7XG4gICAgaWYgKCFuZXh0SW5zdGFuY2UpIHtcbiAgICAgIC8vIE5vdGhpbmcgdG8gaHlkcmF0ZS4gTWFrZSBpdCBhbiBpbnNlcnRpb24uXG4gICAgICBpbnNlcnROb25IeWRyYXRlZEluc3RhbmNlKGh5ZHJhdGlvblBhcmVudEZpYmVyLCBmaWJlcik7XG4gICAgICBpc0h5ZHJhdGluZyA9IGZhbHNlO1xuICAgICAgaHlkcmF0aW9uUGFyZW50RmliZXIgPSBmaWJlcjtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF0cnlIeWRyYXRlKGZpYmVyLCBuZXh0SW5zdGFuY2UpKSB7XG4gICAgICAvLyBJZiB3ZSBjYW4ndCBoeWRyYXRlIHRoaXMgaW5zdGFuY2UgbGV0J3MgdHJ5IHRoZSBuZXh0IG9uZS5cbiAgICAgIC8vIFdlIHVzZSB0aGlzIGFzIGEgaGV1cmlzdGljLiBJdCdzIGJhc2VkIG9uIGludHVpdGlvbiBhbmQgbm90IGRhdGEgc28gaXRcbiAgICAgIC8vIG1pZ2h0IGJlIGZsYXdlZCBvciB1bm5lY2Vzc2FyeS5cbiAgICAgIG5leHRJbnN0YW5jZSA9IGdldE5leHRIeWRyYXRhYmxlU2libGluZyhuZXh0SW5zdGFuY2UpO1xuICAgICAgaWYgKCFuZXh0SW5zdGFuY2UgfHwgIXRyeUh5ZHJhdGUoZmliZXIsIG5leHRJbnN0YW5jZSkpIHtcbiAgICAgICAgLy8gTm90aGluZyB0byBoeWRyYXRlLiBNYWtlIGl0IGFuIGluc2VydGlvbi5cbiAgICAgICAgaW5zZXJ0Tm9uSHlkcmF0ZWRJbnN0YW5jZShoeWRyYXRpb25QYXJlbnRGaWJlciwgZmliZXIpO1xuICAgICAgICBpc0h5ZHJhdGluZyA9IGZhbHNlO1xuICAgICAgICBoeWRyYXRpb25QYXJlbnRGaWJlciA9IGZpYmVyO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBXZSBtYXRjaGVkIHRoZSBuZXh0IG9uZSwgd2UnbGwgbm93IGFzc3VtZSB0aGF0IHRoZSBmaXJzdCBvbmUgd2FzXG4gICAgICAvLyBzdXBlcmZsdW91cyBhbmQgd2UnbGwgZGVsZXRlIGl0LiBTaW5jZSB3ZSBjYW4ndCBlYWdlcmx5IGRlbGV0ZSBpdFxuICAgICAgLy8gd2UnbGwgaGF2ZSB0byBzY2hlZHVsZSBhIGRlbGV0aW9uLiBUbyBkbyB0aGF0LCB0aGlzIG5vZGUgbmVlZHMgYSBkdW1teVxuICAgICAgLy8gZmliZXIgYXNzb2NpYXRlZCB3aXRoIGl0LlxuICAgICAgZGVsZXRlSHlkcmF0YWJsZUluc3RhbmNlKGh5ZHJhdGlvblBhcmVudEZpYmVyLCBuZXh0SHlkcmF0YWJsZUluc3RhbmNlKTtcbiAgICB9XG4gICAgaHlkcmF0aW9uUGFyZW50RmliZXIgPSBmaWJlcjtcbiAgICBuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gZ2V0Rmlyc3RIeWRyYXRhYmxlQ2hpbGQobmV4dEluc3RhbmNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByZXBhcmVUb0h5ZHJhdGVIb3N0SW5zdGFuY2UoZmliZXIsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgaG9zdENvbnRleHQpIHtcbiAgICB2YXIgaW5zdGFuY2UgPSBmaWJlci5zdGF0ZU5vZGU7XG4gICAgdmFyIHVwZGF0ZVBheWxvYWQgPSBoeWRyYXRlSW5zdGFuY2UoaW5zdGFuY2UsIGZpYmVyLnR5cGUsIGZpYmVyLm1lbW9pemVkUHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgaG9zdENvbnRleHQsIGZpYmVyKTtcbiAgICAvLyBUT0RPOiBUeXBlIHRoaXMgc3BlY2lmaWMgdG8gdGhpcyB0eXBlIG9mIGNvbXBvbmVudC5cbiAgICBmaWJlci51cGRhdGVRdWV1ZSA9IHVwZGF0ZVBheWxvYWQ7XG4gICAgLy8gSWYgdGhlIHVwZGF0ZSBwYXlsb2FkIGluZGljYXRlcyB0aGF0IHRoZXJlIGlzIGEgY2hhbmdlIG9yIGlmIHRoZXJlXG4gICAgLy8gaXMgYSBuZXcgcmVmIHdlIG1hcmsgdGhpcyBhcyBhbiB1cGRhdGUuXG4gICAgaWYgKHVwZGF0ZVBheWxvYWQgIT09IG51bGwpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBwcmVwYXJlVG9IeWRyYXRlSG9zdFRleHRJbnN0YW5jZShmaWJlcikge1xuICAgIHZhciB0ZXh0SW5zdGFuY2UgPSBmaWJlci5zdGF0ZU5vZGU7XG4gICAgdmFyIHRleHRDb250ZW50ID0gZmliZXIubWVtb2l6ZWRQcm9wcztcbiAgICB2YXIgc2hvdWxkVXBkYXRlID0gaHlkcmF0ZVRleHRJbnN0YW5jZSh0ZXh0SW5zdGFuY2UsIHRleHRDb250ZW50LCBmaWJlcik7XG4gICAge1xuICAgICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgICAvLyBXZSBhc3N1bWUgdGhhdCBwcmVwYXJlVG9IeWRyYXRlSG9zdFRleHRJbnN0YW5jZSBpcyBjYWxsZWQgaW4gYSBjb250ZXh0IHdoZXJlIHRoZVxuICAgICAgICAvLyBoeWRyYXRpb24gcGFyZW50IGlzIHRoZSBwYXJlbnQgaG9zdCBjb21wb25lbnQgb2YgdGhpcyBob3N0IHRleHQuXG4gICAgICAgIHZhciByZXR1cm5GaWJlciA9IGh5ZHJhdGlvblBhcmVudEZpYmVyO1xuICAgICAgICBpZiAocmV0dXJuRmliZXIgIT09IG51bGwpIHtcbiAgICAgICAgICBzd2l0Y2ggKHJldHVybkZpYmVyLnRhZykge1xuICAgICAgICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRDb250YWluZXIgPSByZXR1cm5GaWJlci5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgICAgICAgICBkaWROb3RNYXRjaEh5ZHJhdGVkQ29udGFpbmVyVGV4dEluc3RhbmNlKHBhcmVudENvbnRhaW5lciwgdGV4dEluc3RhbmNlLCB0ZXh0Q29udGVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRUeXBlID0gcmV0dXJuRmliZXIudHlwZTtcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50UHJvcHMgPSByZXR1cm5GaWJlci5tZW1vaXplZFByb3BzO1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRJbnN0YW5jZSA9IHJldHVybkZpYmVyLnN0YXRlTm9kZTtcbiAgICAgICAgICAgICAgICBkaWROb3RNYXRjaEh5ZHJhdGVkVGV4dEluc3RhbmNlKHBhcmVudFR5cGUsIHBhcmVudFByb3BzLCBwYXJlbnRJbnN0YW5jZSwgdGV4dEluc3RhbmNlLCB0ZXh0Q29udGVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNob3VsZFVwZGF0ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvcFRvTmV4dEhvc3RQYXJlbnQoZmliZXIpIHtcbiAgICB2YXIgcGFyZW50ID0gZmliZXJbJ3JldHVybiddO1xuICAgIHdoaWxlIChwYXJlbnQgIT09IG51bGwgJiYgcGFyZW50LnRhZyAhPT0gSG9zdENvbXBvbmVudCAmJiBwYXJlbnQudGFnICE9PSBIb3N0Um9vdCkge1xuICAgICAgcGFyZW50ID0gcGFyZW50WydyZXR1cm4nXTtcbiAgICB9XG4gICAgaHlkcmF0aW9uUGFyZW50RmliZXIgPSBwYXJlbnQ7XG4gIH1cblxuICBmdW5jdGlvbiBwb3BIeWRyYXRpb25TdGF0ZShmaWJlcikge1xuICAgIGlmIChmaWJlciAhPT0gaHlkcmF0aW9uUGFyZW50RmliZXIpIHtcbiAgICAgIC8vIFdlJ3JlIGRlZXBlciB0aGFuIHRoZSBjdXJyZW50IGh5ZHJhdGlvbiBjb250ZXh0LCBpbnNpZGUgYW4gaW5zZXJ0ZWRcbiAgICAgIC8vIHRyZWUuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghaXNIeWRyYXRpbmcpIHtcbiAgICAgIC8vIElmIHdlJ3JlIG5vdCBjdXJyZW50bHkgaHlkcmF0aW5nIGJ1dCB3ZSdyZSBpbiBhIGh5ZHJhdGlvbiBjb250ZXh0LCB0aGVuXG4gICAgICAvLyB3ZSB3ZXJlIGFuIGluc2VydGlvbiBhbmQgbm93IG5lZWQgdG8gcG9wIHVwIHJlZW50ZXIgaHlkcmF0aW9uIG9mIG91clxuICAgICAgLy8gc2libGluZ3MuXG4gICAgICBwb3BUb05leHRIb3N0UGFyZW50KGZpYmVyKTtcbiAgICAgIGlzSHlkcmF0aW5nID0gdHJ1ZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgdHlwZSA9IGZpYmVyLnR5cGU7XG5cbiAgICAvLyBJZiB3ZSBoYXZlIGFueSByZW1haW5pbmcgaHlkcmF0YWJsZSBub2Rlcywgd2UgbmVlZCB0byBkZWxldGUgdGhlbSBub3cuXG4gICAgLy8gV2Ugb25seSBkbyB0aGlzIGRlZXBlciB0aGFuIGhlYWQgYW5kIGJvZHkgc2luY2UgdGhleSB0ZW5kIHRvIGhhdmUgcmFuZG9tXG4gICAgLy8gb3RoZXIgbm9kZXMgaW4gdGhlbS4gV2UgYWxzbyBpZ25vcmUgY29tcG9uZW50cyB3aXRoIHB1cmUgdGV4dCBjb250ZW50IGluXG4gICAgLy8gc2lkZSBvZiB0aGVtLlxuICAgIC8vIFRPRE86IEJldHRlciBoZXVyaXN0aWMuXG4gICAgaWYgKGZpYmVyLnRhZyAhPT0gSG9zdENvbXBvbmVudCB8fCB0eXBlICE9PSAnaGVhZCcgJiYgdHlwZSAhPT0gJ2JvZHknICYmICFzaG91bGRTZXRUZXh0Q29udGVudCh0eXBlLCBmaWJlci5tZW1vaXplZFByb3BzKSkge1xuICAgICAgdmFyIG5leHRJbnN0YW5jZSA9IG5leHRIeWRyYXRhYmxlSW5zdGFuY2U7XG4gICAgICB3aGlsZSAobmV4dEluc3RhbmNlKSB7XG4gICAgICAgIGRlbGV0ZUh5ZHJhdGFibGVJbnN0YW5jZShmaWJlciwgbmV4dEluc3RhbmNlKTtcbiAgICAgICAgbmV4dEluc3RhbmNlID0gZ2V0TmV4dEh5ZHJhdGFibGVTaWJsaW5nKG5leHRJbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcG9wVG9OZXh0SG9zdFBhcmVudChmaWJlcik7XG4gICAgbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IGh5ZHJhdGlvblBhcmVudEZpYmVyID8gZ2V0TmV4dEh5ZHJhdGFibGVTaWJsaW5nKGZpYmVyLnN0YXRlTm9kZSkgOiBudWxsO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRIeWRyYXRpb25TdGF0ZSgpIHtcbiAgICBoeWRyYXRpb25QYXJlbnRGaWJlciA9IG51bGw7XG4gICAgbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IG51bGw7XG4gICAgaXNIeWRyYXRpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZW50ZXJIeWRyYXRpb25TdGF0ZTogZW50ZXJIeWRyYXRpb25TdGF0ZSxcbiAgICByZXNldEh5ZHJhdGlvblN0YXRlOiByZXNldEh5ZHJhdGlvblN0YXRlLFxuICAgIHRyeVRvQ2xhaW1OZXh0SHlkcmF0YWJsZUluc3RhbmNlOiB0cnlUb0NsYWltTmV4dEh5ZHJhdGFibGVJbnN0YW5jZSxcbiAgICBwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlOiBwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlLFxuICAgIHByZXBhcmVUb0h5ZHJhdGVIb3N0VGV4dEluc3RhbmNlOiBwcmVwYXJlVG9IeWRyYXRlSG9zdFRleHRJbnN0YW5jZSxcbiAgICBwb3BIeWRyYXRpb25TdGF0ZTogcG9wSHlkcmF0aW9uU3RhdGVcbiAgfTtcbn07XG5cbi8vIFRoaXMgbGV0cyB1cyBob29rIGludG8gRmliZXIgdG8gZGVidWcgd2hhdCBpdCdzIGRvaW5nLlxuLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9wdWxsLzgwMzMuXG4vLyBUaGlzIGlzIG5vdCBwYXJ0IG9mIHRoZSBwdWJsaWMgQVBJLCBub3QgZXZlbiBmb3IgUmVhY3QgRGV2VG9vbHMuXG4vLyBZb3UgbWF5IG9ubHkgaW5qZWN0IGEgZGVidWdUb29sIGlmIHlvdSB3b3JrIG9uIFJlYWN0IEZpYmVyIGl0c2VsZi5cbnZhciBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uID0ge1xuICBkZWJ1Z1Rvb2w6IG51bGxcbn07XG5cbnZhciBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEgPSBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uO1xuXG52YXIgd2FybmVkQWJvdXRNaXNzaW5nR2V0Q2hpbGRDb250ZXh0ID0gdm9pZCAwO1xuXG57XG4gIHdhcm5lZEFib3V0TWlzc2luZ0dldENoaWxkQ29udGV4dCA9IHt9O1xufVxuXG52YXIgUmVhY3RGaWJlckxlZ2FjeUNvbnRleHQgPSBmdW5jdGlvbiAoc3RhY2spIHtcbiAgdmFyIGNyZWF0ZUN1cnNvciA9IHN0YWNrLmNyZWF0ZUN1cnNvcixcbiAgICAgIHB1c2ggPSBzdGFjay5wdXNoLFxuICAgICAgcG9wID0gc3RhY2sucG9wO1xuXG4gIC8vIEEgY3Vyc29yIHRvIHRoZSBjdXJyZW50IG1lcmdlZCBjb250ZXh0IG9iamVjdCBvbiB0aGUgc3RhY2suXG5cbiAgdmFyIGNvbnRleHRTdGFja0N1cnNvciA9IGNyZWF0ZUN1cnNvcihlbXB0eU9iamVjdCk7XG4gIC8vIEEgY3Vyc29yIHRvIGEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGNvbnRleHQgaGFzIGNoYW5nZWQuXG4gIHZhciBkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKGZhbHNlKTtcbiAgLy8gS2VlcCB0cmFjayBvZiB0aGUgcHJldmlvdXMgY29udGV4dCBvYmplY3QgdGhhdCB3YXMgb24gdGhlIHN0YWNrLlxuICAvLyBXZSB1c2UgdGhpcyB0byBnZXQgYWNjZXNzIHRvIHRoZSBwYXJlbnQgY29udGV4dCBhZnRlciB3ZSBoYXZlIGFscmVhZHlcbiAgLy8gcHVzaGVkIHRoZSBuZXh0IGNvbnRleHQgcHJvdmlkZXIsIGFuZCBub3cgbmVlZCB0byBtZXJnZSB0aGVpciBjb250ZXh0cy5cbiAgdmFyIHByZXZpb3VzQ29udGV4dCA9IGVtcHR5T2JqZWN0O1xuXG4gIGZ1bmN0aW9uIGdldFVubWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcykge1xuICAgIHZhciBoYXNPd25Db250ZXh0ID0gaXNDb250ZXh0UHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgIGlmIChoYXNPd25Db250ZXh0KSB7XG4gICAgICAvLyBJZiB0aGUgZmliZXIgaXMgYSBjb250ZXh0IHByb3ZpZGVyIGl0c2VsZiwgd2hlbiB3ZSByZWFkIGl0cyBjb250ZXh0XG4gICAgICAvLyB3ZSBoYXZlIGFscmVhZHkgcHVzaGVkIGl0cyBvd24gY2hpbGQgY29udGV4dCBvbiB0aGUgc3RhY2suIEEgY29udGV4dFxuICAgICAgLy8gcHJvdmlkZXIgc2hvdWxkIG5vdCBcInNlZVwiIGl0cyBvd24gY2hpbGQgY29udGV4dC4gVGhlcmVmb3JlIHdlIHJlYWQgdGhlXG4gICAgICAvLyBwcmV2aW91cyAocGFyZW50KSBjb250ZXh0IGluc3RlYWQgZm9yIGEgY29udGV4dCBwcm92aWRlci5cbiAgICAgIHJldHVybiBwcmV2aW91c0NvbnRleHQ7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0U3RhY2tDdXJzb3IuY3VycmVudDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhY2hlQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgdW5tYXNrZWRDb250ZXh0LCBtYXNrZWRDb250ZXh0KSB7XG4gICAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgIGluc3RhbmNlLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkVW5tYXNrZWRDaGlsZENvbnRleHQgPSB1bm1hc2tlZENvbnRleHQ7XG4gICAgaW5zdGFuY2UuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNYXNrZWRDaGlsZENvbnRleHQgPSBtYXNrZWRDb250ZXh0O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgdW5tYXNrZWRDb250ZXh0KSB7XG4gICAgdmFyIHR5cGUgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgIHZhciBjb250ZXh0VHlwZXMgPSB0eXBlLmNvbnRleHRUeXBlcztcbiAgICBpZiAoIWNvbnRleHRUeXBlcykge1xuICAgICAgcmV0dXJuIGVtcHR5T2JqZWN0O1xuICAgIH1cblxuICAgIC8vIEF2b2lkIHJlY3JlYXRpbmcgbWFza2VkIGNvbnRleHQgdW5sZXNzIHVubWFza2VkIGNvbnRleHQgaGFzIGNoYW5nZWQuXG4gICAgLy8gRmFpbGluZyB0byBkbyB0aGlzIHdpbGwgcmVzdWx0IGluIHVubmVjZXNzYXJ5IGNhbGxzIHRvIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMuXG4gICAgLy8gVGhpcyBtYXkgdHJpZ2dlciBpbmZpbml0ZSBsb29wcyBpZiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIGNhbGxzIHNldFN0YXRlLlxuICAgIHZhciBpbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2UuX19yZWFjdEludGVybmFsTWVtb2l6ZWRVbm1hc2tlZENoaWxkQ29udGV4dCA9PT0gdW5tYXNrZWRDb250ZXh0KSB7XG4gICAgICByZXR1cm4gaW5zdGFuY2UuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNYXNrZWRDaGlsZENvbnRleHQ7XG4gICAgfVxuXG4gICAgdmFyIGNvbnRleHQgPSB7fTtcbiAgICBmb3IgKHZhciBrZXkgaW4gY29udGV4dFR5cGVzKSB7XG4gICAgICBjb250ZXh0W2tleV0gPSB1bm1hc2tlZENvbnRleHRba2V5XTtcbiAgICB9XG5cbiAgICB7XG4gICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpIHx8ICdVbmtub3duJztcbiAgICAgIGNoZWNrUHJvcFR5cGVzKGNvbnRleHRUeXBlcywgY29udGV4dCwgJ2NvbnRleHQnLCBuYW1lLCBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0pO1xuICAgIH1cblxuICAgIC8vIENhY2hlIHVubWFza2VkIGNvbnRleHQgc28gd2UgY2FuIGF2b2lkIHJlY3JlYXRpbmcgbWFza2VkIGNvbnRleHQgdW5sZXNzIG5lY2Vzc2FyeS5cbiAgICAvLyBDb250ZXh0IGlzIGNyZWF0ZWQgYmVmb3JlIHRoZSBjbGFzcyBjb21wb25lbnQgaXMgaW5zdGFudGlhdGVkIHNvIGNoZWNrIGZvciBpbnN0YW5jZS5cbiAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgIGNhY2hlQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgdW5tYXNrZWRDb250ZXh0LCBjb250ZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGV4dDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc0NvbnRleHRDaGFuZ2VkKCkge1xuICAgIHJldHVybiBkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yLmN1cnJlbnQ7XG4gIH1cblxuICBmdW5jdGlvbiBpc0NvbnRleHRDb25zdW1lcihmaWJlcikge1xuICAgIHJldHVybiBmaWJlci50YWcgPT09IENsYXNzQ29tcG9uZW50ICYmIGZpYmVyLnR5cGUuY29udGV4dFR5cGVzICE9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBpc0NvbnRleHRQcm92aWRlcihmaWJlcikge1xuICAgIHJldHVybiBmaWJlci50YWcgPT09IENsYXNzQ29tcG9uZW50ICYmIGZpYmVyLnR5cGUuY2hpbGRDb250ZXh0VHlwZXMgIT0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvcENvbnRleHRQcm92aWRlcihmaWJlcikge1xuICAgIGlmICghaXNDb250ZXh0UHJvdmlkZXIoZmliZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcG9wKGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IsIGZpYmVyKTtcbiAgICBwb3AoY29udGV4dFN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gIH1cblxuICBmdW5jdGlvbiBwb3BUb3BMZXZlbENvbnRleHRPYmplY3QoZmliZXIpIHtcbiAgICBwb3AoZGlkUGVyZm9ybVdvcmtTdGFja0N1cnNvciwgZmliZXIpO1xuICAgIHBvcChjb250ZXh0U3RhY2tDdXJzb3IsIGZpYmVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHB1c2hUb3BMZXZlbENvbnRleHRPYmplY3QoZmliZXIsIGNvbnRleHQsIGRpZENoYW5nZSkge1xuICAgICEoY29udGV4dFN0YWNrQ3Vyc29yLmN1cnNvciA9PSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ1VuZXhwZWN0ZWQgY29udGV4dCBmb3VuZCBvbiBzdGFjay4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcblxuICAgIHB1c2goY29udGV4dFN0YWNrQ3Vyc29yLCBjb250ZXh0LCBmaWJlcik7XG4gICAgcHVzaChkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yLCBkaWRDaGFuZ2UsIGZpYmVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NDaGlsZENvbnRleHQoZmliZXIsIHBhcmVudENvbnRleHQpIHtcbiAgICB2YXIgaW5zdGFuY2UgPSBmaWJlci5zdGF0ZU5vZGU7XG4gICAgdmFyIGNoaWxkQ29udGV4dFR5cGVzID0gZmliZXIudHlwZS5jaGlsZENvbnRleHRUeXBlcztcblxuICAgIC8vIFRPRE8gKGJ2YXVnaG4pIFJlcGxhY2UgdGhpcyBiZWhhdmlvciB3aXRoIGFuIGludmFyaWFudCgpIGluIHRoZSBmdXR1cmUuXG4gICAgLy8gSXQgaGFzIG9ubHkgYmVlbiBhZGRlZCBpbiBGaWJlciB0byBtYXRjaCB0aGUgKHVuaW50ZW50aW9uYWwpIGJlaGF2aW9yIGluIFN0YWNrLlxuICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuZ2V0Q2hpbGRDb250ZXh0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgJ1Vua25vd24nO1xuXG4gICAgICAgIGlmICghd2FybmVkQWJvdXRNaXNzaW5nR2V0Q2hpbGRDb250ZXh0W2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICAgICAgd2FybmVkQWJvdXRNaXNzaW5nR2V0Q2hpbGRDb250ZXh0W2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnJXMuY2hpbGRDb250ZXh0VHlwZXMgaXMgc3BlY2lmaWVkIGJ1dCB0aGVyZSBpcyBubyBnZXRDaGlsZENvbnRleHQoKSBtZXRob2QgJyArICdvbiB0aGUgaW5zdGFuY2UuIFlvdSBjYW4gZWl0aGVyIGRlZmluZSBnZXRDaGlsZENvbnRleHQoKSBvbiAlcyBvciByZW1vdmUgJyArICdjaGlsZENvbnRleHRUeXBlcyBmcm9tIGl0LicsIGNvbXBvbmVudE5hbWUsIGNvbXBvbmVudE5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcGFyZW50Q29udGV4dDtcbiAgICB9XG5cbiAgICB2YXIgY2hpbGRDb250ZXh0ID0gdm9pZCAwO1xuICAgIHtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIuc2V0Q3VycmVudFBoYXNlKCdnZXRDaGlsZENvbnRleHQnKTtcbiAgICB9XG4gICAgc3RhcnRQaGFzZVRpbWVyKGZpYmVyLCAnZ2V0Q2hpbGRDb250ZXh0Jyk7XG4gICAgY2hpbGRDb250ZXh0ID0gaW5zdGFuY2UuZ2V0Q2hpbGRDb250ZXh0KCk7XG4gICAgc3RvcFBoYXNlVGltZXIoKTtcbiAgICB7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnNldEN1cnJlbnRQaGFzZShudWxsKTtcbiAgICB9XG4gICAgZm9yICh2YXIgY29udGV4dEtleSBpbiBjaGlsZENvbnRleHQpIHtcbiAgICAgICEoY29udGV4dEtleSBpbiBjaGlsZENvbnRleHRUeXBlcykgPyBpbnZhcmlhbnQoZmFsc2UsICclcy5nZXRDaGlsZENvbnRleHQoKToga2V5IFwiJXNcIiBpcyBub3QgZGVmaW5lZCBpbiBjaGlsZENvbnRleHRUeXBlcy4nLCBnZXRDb21wb25lbnROYW1lKGZpYmVyKSB8fCAnVW5rbm93bicsIGNvbnRleHRLZXkpIDogdm9pZCAwO1xuICAgIH1cbiAgICB7XG4gICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoZmliZXIpIHx8ICdVbmtub3duJztcbiAgICAgIGNoZWNrUHJvcFR5cGVzKGNoaWxkQ29udGV4dFR5cGVzLCBjaGlsZENvbnRleHQsICdjaGlsZCBjb250ZXh0JywgbmFtZSxcbiAgICAgIC8vIEluIHByYWN0aWNlLCB0aGVyZSBpcyBvbmUgY2FzZSBpbiB3aGljaCB3ZSB3b24ndCBnZXQgYSBzdGFjay4gSXQncyB3aGVuXG4gICAgICAvLyBzb21lYm9keSBjYWxscyB1bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcigpIGFuZCB3ZSBwcm9jZXNzXG4gICAgICAvLyBjb250ZXh0IGZyb20gdGhlIHBhcmVudCBjb21wb25lbnQgaW5zdGFuY2UuIFRoZSBzdGFjayB3aWxsIGJlIG1pc3NpbmdcbiAgICAgIC8vIGJlY2F1c2UgaXQncyBvdXRzaWRlIG9mIHRoZSByZWNvbmNpbGlhdGlvbiwgYW5kIHNvIHRoZSBwb2ludGVyIGhhcyBub3RcbiAgICAgIC8vIGJlZW4gc2V0LiBUaGlzIGlzIHJhcmUgYW5kIGRvZXNuJ3QgbWF0dGVyLiBXZSdsbCBhbHNvIHJlbW92ZSB0aGF0IEFQSS5cbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIuZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9hc3NpZ24oe30sIHBhcmVudENvbnRleHQsIGNoaWxkQ29udGV4dCk7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoQ29udGV4dFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKSB7XG4gICAgaWYgKCFpc0NvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgLy8gV2UgcHVzaCB0aGUgY29udGV4dCBhcyBlYXJseSBhcyBwb3NzaWJsZSB0byBlbnN1cmUgc3RhY2sgaW50ZWdyaXR5LlxuICAgIC8vIElmIHRoZSBpbnN0YW5jZSBkb2VzIG5vdCBleGlzdCB5ZXQsIHdlIHdpbGwgcHVzaCBudWxsIGF0IGZpcnN0LFxuICAgIC8vIGFuZCByZXBsYWNlIGl0IG9uIHRoZSBzdGFjayBsYXRlciB3aGVuIGludmFsaWRhdGluZyB0aGUgY29udGV4dC5cbiAgICB2YXIgbWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1lcmdlZENoaWxkQ29udGV4dCB8fCBlbXB0eU9iamVjdDtcblxuICAgIC8vIFJlbWVtYmVyIHRoZSBwYXJlbnQgY29udGV4dCBzbyB3ZSBjYW4gbWVyZ2Ugd2l0aCBpdCBsYXRlci5cbiAgICAvLyBJbmhlcml0IHRoZSBwYXJlbnQncyBkaWQtcGVyZm9ybS13b3JrIHZhbHVlIHRvIGF2b2lkIGluYWR2ZXJ0ZW50bHkgYmxvY2tpbmcgdXBkYXRlcy5cbiAgICBwcmV2aW91c0NvbnRleHQgPSBjb250ZXh0U3RhY2tDdXJzb3IuY3VycmVudDtcbiAgICBwdXNoKGNvbnRleHRTdGFja0N1cnNvciwgbWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQsIHdvcmtJblByb2dyZXNzKTtcbiAgICBwdXNoKGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IsIGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IuY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBpbnZhbGlkYXRlQ29udGV4dFByb3ZpZGVyKHdvcmtJblByb2dyZXNzLCBkaWRDaGFuZ2UpIHtcbiAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgIWluc3RhbmNlID8gaW52YXJpYW50KGZhbHNlLCAnRXhwZWN0ZWQgdG8gaGF2ZSBhbiBpbnN0YW5jZSBieSB0aGlzIHBvaW50LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuXG4gICAgaWYgKGRpZENoYW5nZSkge1xuICAgICAgLy8gTWVyZ2UgcGFyZW50IGFuZCBvd24gY29udGV4dC5cbiAgICAgIC8vIFNraXAgdGhpcyBpZiB3ZSdyZSBub3QgdXBkYXRpbmcgZHVlIHRvIHNDVS5cbiAgICAgIC8vIFRoaXMgYXZvaWRzIHVubmVjZXNzYXJpbHkgcmVjb21wdXRpbmcgbWVtb2l6ZWQgdmFsdWVzLlxuICAgICAgdmFyIG1lcmdlZENvbnRleHQgPSBwcm9jZXNzQ2hpbGRDb250ZXh0KHdvcmtJblByb2dyZXNzLCBwcmV2aW91c0NvbnRleHQpO1xuICAgICAgaW5zdGFuY2UuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQgPSBtZXJnZWRDb250ZXh0O1xuXG4gICAgICAvLyBSZXBsYWNlIHRoZSBvbGQgKG9yIGVtcHR5KSBjb250ZXh0IHdpdGggdGhlIG5ldyBvbmUuXG4gICAgICAvLyBJdCBpcyBpbXBvcnRhbnQgdG8gdW53aW5kIHRoZSBjb250ZXh0IGluIHRoZSByZXZlcnNlIG9yZGVyLlxuICAgICAgcG9wKGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHBvcChjb250ZXh0U3RhY2tDdXJzb3IsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIC8vIE5vdyBwdXNoIHRoZSBuZXcgY29udGV4dCBhbmQgbWFyayB0aGF0IGl0IGhhcyBjaGFuZ2VkLlxuICAgICAgcHVzaChjb250ZXh0U3RhY2tDdXJzb3IsIG1lcmdlZENvbnRleHQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHB1c2goZGlkUGVyZm9ybVdvcmtTdGFja0N1cnNvciwgZGlkQ2hhbmdlLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvcChkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBwdXNoKGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IsIGRpZENoYW5nZSwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmRDdXJyZW50VW5tYXNrZWRDb250ZXh0KGZpYmVyKSB7XG4gICAgLy8gQ3VycmVudGx5IHRoaXMgaXMgb25seSB1c2VkIHdpdGggcmVuZGVyU3VidHJlZUludG9Db250YWluZXI7IG5vdCBzdXJlIGlmIGl0XG4gICAgLy8gbWFrZXMgc2Vuc2UgZWxzZXdoZXJlXG4gICAgIShpc0ZpYmVyTW91bnRlZChmaWJlcikgJiYgZmliZXIudGFnID09PSBDbGFzc0NvbXBvbmVudCkgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCBzdWJ0cmVlIHBhcmVudCB0byBiZSBhIG1vdW50ZWQgY2xhc3MgY29tcG9uZW50LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuXG4gICAgdmFyIG5vZGUgPSBmaWJlcjtcbiAgICB3aGlsZSAobm9kZS50YWcgIT09IEhvc3RSb290KSB7XG4gICAgICBpZiAoaXNDb250ZXh0UHJvdmlkZXIobm9kZSkpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuc3RhdGVOb2RlLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0O1xuICAgICAgfVxuICAgICAgdmFyIHBhcmVudCA9IG5vZGVbJ3JldHVybiddO1xuICAgICAgIXBhcmVudCA/IGludmFyaWFudChmYWxzZSwgJ0ZvdW5kIHVuZXhwZWN0ZWQgZGV0YWNoZWQgc3VidHJlZSBwYXJlbnQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gICAgICBub2RlID0gcGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4gbm9kZS5zdGF0ZU5vZGUuY29udGV4dDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZ2V0VW5tYXNrZWRDb250ZXh0OiBnZXRVbm1hc2tlZENvbnRleHQsXG4gICAgY2FjaGVDb250ZXh0OiBjYWNoZUNvbnRleHQsXG4gICAgZ2V0TWFza2VkQ29udGV4dDogZ2V0TWFza2VkQ29udGV4dCxcbiAgICBoYXNDb250ZXh0Q2hhbmdlZDogaGFzQ29udGV4dENoYW5nZWQsXG4gICAgaXNDb250ZXh0Q29uc3VtZXI6IGlzQ29udGV4dENvbnN1bWVyLFxuICAgIGlzQ29udGV4dFByb3ZpZGVyOiBpc0NvbnRleHRQcm92aWRlcixcbiAgICBwb3BDb250ZXh0UHJvdmlkZXI6IHBvcENvbnRleHRQcm92aWRlcixcbiAgICBwb3BUb3BMZXZlbENvbnRleHRPYmplY3Q6IHBvcFRvcExldmVsQ29udGV4dE9iamVjdCxcbiAgICBwdXNoVG9wTGV2ZWxDb250ZXh0T2JqZWN0OiBwdXNoVG9wTGV2ZWxDb250ZXh0T2JqZWN0LFxuICAgIHByb2Nlc3NDaGlsZENvbnRleHQ6IHByb2Nlc3NDaGlsZENvbnRleHQsXG4gICAgcHVzaENvbnRleHRQcm92aWRlcjogcHVzaENvbnRleHRQcm92aWRlcixcbiAgICBpbnZhbGlkYXRlQ29udGV4dFByb3ZpZGVyOiBpbnZhbGlkYXRlQ29udGV4dFByb3ZpZGVyLFxuICAgIGZpbmRDdXJyZW50VW5tYXNrZWRDb250ZXh0OiBmaW5kQ3VycmVudFVubWFza2VkQ29udGV4dFxuICB9O1xufTtcblxudmFyIFJlYWN0RmliZXJOZXdDb250ZXh0ID0gZnVuY3Rpb24gKHN0YWNrKSB7XG4gIHZhciBjcmVhdGVDdXJzb3IgPSBzdGFjay5jcmVhdGVDdXJzb3IsXG4gICAgICBwdXNoID0gc3RhY2sucHVzaCxcbiAgICAgIHBvcCA9IHN0YWNrLnBvcDtcblxuXG4gIHZhciBwcm92aWRlckN1cnNvciA9IGNyZWF0ZUN1cnNvcihudWxsKTtcbiAgdmFyIHZhbHVlQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKG51bGwpO1xuICB2YXIgY2hhbmdlZEJpdHNDdXJzb3IgPSBjcmVhdGVDdXJzb3IoMCk7XG5cbiAgdmFyIHJlbmRlcmVyU2lnaWwgPSB2b2lkIDA7XG4gIHtcbiAgICAvLyBVc2UgdGhpcyB0byBkZXRlY3QgbXVsdGlwbGUgcmVuZGVyZXJzIHVzaW5nIHRoZSBzYW1lIGNvbnRleHRcbiAgICByZW5kZXJlclNpZ2lsID0ge307XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoUHJvdmlkZXIocHJvdmlkZXJGaWJlcikge1xuICAgIHZhciBjb250ZXh0ID0gcHJvdmlkZXJGaWJlci50eXBlLl9jb250ZXh0O1xuXG4gICAgcHVzaChjaGFuZ2VkQml0c0N1cnNvciwgY29udGV4dC5fY2hhbmdlZEJpdHMsIHByb3ZpZGVyRmliZXIpO1xuICAgIHB1c2godmFsdWVDdXJzb3IsIGNvbnRleHQuX2N1cnJlbnRWYWx1ZSwgcHJvdmlkZXJGaWJlcik7XG4gICAgcHVzaChwcm92aWRlckN1cnNvciwgcHJvdmlkZXJGaWJlciwgcHJvdmlkZXJGaWJlcik7XG5cbiAgICBjb250ZXh0Ll9jdXJyZW50VmFsdWUgPSBwcm92aWRlckZpYmVyLnBlbmRpbmdQcm9wcy52YWx1ZTtcbiAgICBjb250ZXh0Ll9jaGFuZ2VkQml0cyA9IHByb3ZpZGVyRmliZXIuc3RhdGVOb2RlO1xuXG4gICAge1xuICAgICAgd2FybmluZyhjb250ZXh0Ll9jdXJyZW50UmVuZGVyZXIgPT09IG51bGwgfHwgY29udGV4dC5fY3VycmVudFJlbmRlcmVyID09PSByZW5kZXJlclNpZ2lsLCAnRGV0ZWN0ZWQgbXVsdGlwbGUgcmVuZGVyZXJzIGNvbmN1cnJlbnRseSByZW5kZXJpbmcgdGhlICcgKyAnc2FtZSBjb250ZXh0IHByb3ZpZGVyLiBUaGlzIGlzIGN1cnJlbnRseSB1bnN1cHBvcnRlZC4nKTtcbiAgICAgIGNvbnRleHQuX2N1cnJlbnRSZW5kZXJlciA9IHJlbmRlcmVyU2lnaWw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcG9wUHJvdmlkZXIocHJvdmlkZXJGaWJlcikge1xuICAgIHZhciBjaGFuZ2VkQml0cyA9IGNoYW5nZWRCaXRzQ3Vyc29yLmN1cnJlbnQ7XG4gICAgdmFyIGN1cnJlbnRWYWx1ZSA9IHZhbHVlQ3Vyc29yLmN1cnJlbnQ7XG5cbiAgICBwb3AocHJvdmlkZXJDdXJzb3IsIHByb3ZpZGVyRmliZXIpO1xuICAgIHBvcCh2YWx1ZUN1cnNvciwgcHJvdmlkZXJGaWJlcik7XG4gICAgcG9wKGNoYW5nZWRCaXRzQ3Vyc29yLCBwcm92aWRlckZpYmVyKTtcblxuICAgIHZhciBjb250ZXh0ID0gcHJvdmlkZXJGaWJlci50eXBlLl9jb250ZXh0O1xuICAgIGNvbnRleHQuX2N1cnJlbnRWYWx1ZSA9IGN1cnJlbnRWYWx1ZTtcbiAgICBjb250ZXh0Ll9jaGFuZ2VkQml0cyA9IGNoYW5nZWRCaXRzO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBwdXNoUHJvdmlkZXI6IHB1c2hQcm92aWRlcixcbiAgICBwb3BQcm92aWRlcjogcG9wUHJvdmlkZXJcbiAgfTtcbn07XG5cbnZhciBSZWFjdEZpYmVyU3RhY2sgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB2YWx1ZVN0YWNrID0gW107XG5cbiAgdmFyIGZpYmVyU3RhY2sgPSB2b2lkIDA7XG5cbiAge1xuICAgIGZpYmVyU3RhY2sgPSBbXTtcbiAgfVxuXG4gIHZhciBpbmRleCA9IC0xO1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUN1cnNvcihkZWZhdWx0VmFsdWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY3VycmVudDogZGVmYXVsdFZhbHVlXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzRW1wdHkoKSB7XG4gICAgcmV0dXJuIGluZGV4ID09PSAtMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvcChjdXJzb3IsIGZpYmVyKSB7XG4gICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAge1xuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnVW5leHBlY3RlZCBwb3AuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAge1xuICAgICAgaWYgKGZpYmVyICE9PSBmaWJlclN0YWNrW2luZGV4XSkge1xuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnVW5leHBlY3RlZCBGaWJlciBwb3BwZWQuJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY3Vyc29yLmN1cnJlbnQgPSB2YWx1ZVN0YWNrW2luZGV4XTtcblxuICAgIHZhbHVlU3RhY2tbaW5kZXhdID0gbnVsbDtcblxuICAgIHtcbiAgICAgIGZpYmVyU3RhY2tbaW5kZXhdID0gbnVsbDtcbiAgICB9XG5cbiAgICBpbmRleC0tO1xuICB9XG5cbiAgZnVuY3Rpb24gcHVzaChjdXJzb3IsIHZhbHVlLCBmaWJlcikge1xuICAgIGluZGV4Kys7XG5cbiAgICB2YWx1ZVN0YWNrW2luZGV4XSA9IGN1cnNvci5jdXJyZW50O1xuXG4gICAge1xuICAgICAgZmliZXJTdGFja1tpbmRleF0gPSBmaWJlcjtcbiAgICB9XG5cbiAgICBjdXJzb3IuY3VycmVudCA9IHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tUaGF0U3RhY2tJc0VtcHR5KCkge1xuICAgIHtcbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJ0V4cGVjdGVkIGFuIGVtcHR5IHN0YWNrLiBTb21ldGhpbmcgd2FzIG5vdCByZXNldCBwcm9wZXJseS4nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFN0YWNrQWZ0ZXJGYXRhbEVycm9ySW5EZXYoKSB7XG4gICAge1xuICAgICAgaW5kZXggPSAtMTtcbiAgICAgIHZhbHVlU3RhY2subGVuZ3RoID0gMDtcbiAgICAgIGZpYmVyU3RhY2subGVuZ3RoID0gMDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGNyZWF0ZUN1cnNvcjogY3JlYXRlQ3Vyc29yLFxuICAgIGlzRW1wdHk6IGlzRW1wdHksXG4gICAgcG9wOiBwb3AsXG4gICAgcHVzaDogcHVzaCxcbiAgICBjaGVja1RoYXRTdGFja0lzRW1wdHk6IGNoZWNrVGhhdFN0YWNrSXNFbXB0eSxcbiAgICByZXNldFN0YWNrQWZ0ZXJGYXRhbEVycm9ySW5EZXY6IHJlc2V0U3RhY2tBZnRlckZhdGFsRXJyb3JJbkRldlxuICB9O1xufTtcblxudmFyIGludm9rZUd1YXJkZWRDYWxsYmFjayQyID0gUmVhY3RFcnJvclV0aWxzLmludm9rZUd1YXJkZWRDYWxsYmFjaztcbnZhciBoYXNDYXVnaHRFcnJvciA9IFJlYWN0RXJyb3JVdGlscy5oYXNDYXVnaHRFcnJvcjtcbnZhciBjbGVhckNhdWdodEVycm9yID0gUmVhY3RFcnJvclV0aWxzLmNsZWFyQ2F1Z2h0RXJyb3I7XG5cblxudmFyIGRpZFdhcm5BYm91dFN0YXRlVHJhbnNpdGlvbiA9IHZvaWQgMDtcbnZhciBkaWRXYXJuU2V0U3RhdGVDaGlsZENvbnRleHQgPSB2b2lkIDA7XG52YXIgd2FybkFib3V0VXBkYXRlT25Vbm1vdW50ZWQgPSB2b2lkIDA7XG52YXIgd2FybkFib3V0SW52YWxpZFVwZGF0ZXMgPSB2b2lkIDA7XG5cbntcbiAgZGlkV2FybkFib3V0U3RhdGVUcmFuc2l0aW9uID0gZmFsc2U7XG4gIGRpZFdhcm5TZXRTdGF0ZUNoaWxkQ29udGV4dCA9IGZhbHNlO1xuICB2YXIgZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50ID0ge307XG5cbiAgd2FybkFib3V0VXBkYXRlT25Vbm1vdW50ZWQgPSBmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAvLyBXZSBzaG93IHRoZSB3aG9sZSBzdGFjayBidXQgZGVkdXBlIG9uIHRoZSB0b3AgY29tcG9uZW50J3MgbmFtZSBiZWNhdXNlXG4gICAgLy8gdGhlIHByb2JsZW1hdGljIGNvZGUgYWxtb3N0IGFsd2F5cyBsaWVzIGluc2lkZSB0aGF0IGNvbXBvbmVudC5cbiAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUoZmliZXIpIHx8ICdSZWFjdENsYXNzJztcbiAgICBpZiAoZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50W2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdhcm5pbmcoZmFsc2UsIFwiQ2FuJ3QgY2FsbCBzZXRTdGF0ZSAob3IgZm9yY2VVcGRhdGUpIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuIFRoaXMgXCIgKyAnaXMgYSBuby1vcCwgYnV0IGl0IGluZGljYXRlcyBhIG1lbW9yeSBsZWFrIGluIHlvdXIgYXBwbGljYXRpb24uIFRvICcgKyAnZml4LCBjYW5jZWwgYWxsIHN1YnNjcmlwdGlvbnMgYW5kIGFzeW5jaHJvbm91cyB0YXNrcyBpbiB0aGUgJyArICdjb21wb25lbnRXaWxsVW5tb3VudCBtZXRob2QuJXMnLCBnZXRTdGFja0FkZGVuZHVtQnlXb3JrSW5Qcm9ncmVzc0ZpYmVyKGZpYmVyKSk7XG4gICAgZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50W2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgfTtcblxuICB3YXJuQWJvdXRJbnZhbGlkVXBkYXRlcyA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgIHN3aXRjaCAoUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5waGFzZSkge1xuICAgICAgY2FzZSAnZ2V0Q2hpbGRDb250ZXh0JzpcbiAgICAgICAgaWYgKGRpZFdhcm5TZXRTdGF0ZUNoaWxkQ29udGV4dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnc2V0U3RhdGUoLi4uKTogQ2Fubm90IGNhbGwgc2V0U3RhdGUoKSBpbnNpZGUgZ2V0Q2hpbGRDb250ZXh0KCknKTtcbiAgICAgICAgZGlkV2FyblNldFN0YXRlQ2hpbGRDb250ZXh0ID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZW5kZXInOlxuICAgICAgICBpZiAoZGlkV2FybkFib3V0U3RhdGVUcmFuc2l0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICdDYW5ub3QgdXBkYXRlIGR1cmluZyBhbiBleGlzdGluZyBzdGF0ZSB0cmFuc2l0aW9uIChzdWNoIGFzIHdpdGhpbiAnICsgXCJgcmVuZGVyYCBvciBhbm90aGVyIGNvbXBvbmVudCdzIGNvbnN0cnVjdG9yKS4gUmVuZGVyIG1ldGhvZHMgc2hvdWxkIFwiICsgJ2JlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGU7IGNvbnN0cnVjdG9yIHNpZGUtZWZmZWN0cyBhcmUgJyArICdhbiBhbnRpLXBhdHRlcm4sIGJ1dCBjYW4gYmUgbW92ZWQgdG8gYGNvbXBvbmVudFdpbGxNb3VudGAuJyk7XG4gICAgICAgIGRpZFdhcm5BYm91dFN0YXRlVHJhbnNpdGlvbiA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcbn1cblxudmFyIFJlYWN0RmliZXJTY2hlZHVsZXIgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gIHZhciBzdGFjayA9IFJlYWN0RmliZXJTdGFjaygpO1xuICB2YXIgaG9zdENvbnRleHQgPSBSZWFjdEZpYmVySG9zdENvbnRleHQoY29uZmlnLCBzdGFjayk7XG4gIHZhciBsZWdhY3lDb250ZXh0ID0gUmVhY3RGaWJlckxlZ2FjeUNvbnRleHQoc3RhY2spO1xuICB2YXIgbmV3Q29udGV4dCA9IFJlYWN0RmliZXJOZXdDb250ZXh0KHN0YWNrKTtcbiAgdmFyIHBvcEhvc3RDb250ZXh0ID0gaG9zdENvbnRleHQucG9wSG9zdENvbnRleHQsXG4gICAgICBwb3BIb3N0Q29udGFpbmVyID0gaG9zdENvbnRleHQucG9wSG9zdENvbnRhaW5lcjtcbiAgdmFyIHBvcFRvcExldmVsTGVnYWN5Q29udGV4dE9iamVjdCA9IGxlZ2FjeUNvbnRleHQucG9wVG9wTGV2ZWxDb250ZXh0T2JqZWN0LFxuICAgICAgcG9wTGVnYWN5Q29udGV4dFByb3ZpZGVyID0gbGVnYWN5Q29udGV4dC5wb3BDb250ZXh0UHJvdmlkZXI7XG4gIHZhciBwb3BQcm92aWRlciA9IG5ld0NvbnRleHQucG9wUHJvdmlkZXI7XG5cbiAgdmFyIGh5ZHJhdGlvbkNvbnRleHQgPSBSZWFjdEZpYmVySHlkcmF0aW9uQ29udGV4dChjb25maWcpO1xuXG4gIHZhciBfUmVhY3RGaWJlckJlZ2luV29yayA9IFJlYWN0RmliZXJCZWdpbldvcmsoY29uZmlnLCBob3N0Q29udGV4dCwgbGVnYWN5Q29udGV4dCwgbmV3Q29udGV4dCwgaHlkcmF0aW9uQ29udGV4dCwgc2NoZWR1bGVXb3JrLCBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyKSxcbiAgICAgIGJlZ2luV29yayA9IF9SZWFjdEZpYmVyQmVnaW5Xb3JrLmJlZ2luV29yaztcblxuICB2YXIgX1JlYWN0RmliZXJDb21wbGV0ZVdvID0gUmVhY3RGaWJlckNvbXBsZXRlV29yayhjb25maWcsIGhvc3RDb250ZXh0LCBsZWdhY3lDb250ZXh0LCBuZXdDb250ZXh0LCBoeWRyYXRpb25Db250ZXh0KSxcbiAgICAgIGNvbXBsZXRlV29yayA9IF9SZWFjdEZpYmVyQ29tcGxldGVXby5jb21wbGV0ZVdvcms7XG5cbiAgdmFyIF9SZWFjdEZpYmVyVW53aW5kV29yayA9IFJlYWN0RmliZXJVbndpbmRXb3JrKGhvc3RDb250ZXh0LCBsZWdhY3lDb250ZXh0LCBuZXdDb250ZXh0LCBzY2hlZHVsZVdvcmssIGlzQWxyZWFkeUZhaWxlZExlZ2FjeUVycm9yQm91bmRhcnkpLFxuICAgICAgdGhyb3dFeGNlcHRpb24gPSBfUmVhY3RGaWJlclVud2luZFdvcmsudGhyb3dFeGNlcHRpb24sXG4gICAgICB1bndpbmRXb3JrID0gX1JlYWN0RmliZXJVbndpbmRXb3JrLnVud2luZFdvcmssXG4gICAgICB1bndpbmRJbnRlcnJ1cHRlZFdvcmsgPSBfUmVhY3RGaWJlclVud2luZFdvcmsudW53aW5kSW50ZXJydXB0ZWRXb3JrO1xuXG4gIHZhciBfUmVhY3RGaWJlckNvbW1pdFdvcmsgPSBSZWFjdEZpYmVyQ29tbWl0V29yayhjb25maWcsIG9uQ29tbWl0UGhhc2VFcnJvciwgc2NoZWR1bGVXb3JrLCBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyLCBtYXJrTGVnYWN5RXJyb3JCb3VuZGFyeUFzRmFpbGVkLCByZWNhbGN1bGF0ZUN1cnJlbnRUaW1lKSxcbiAgICAgIGNvbW1pdEJlZm9yZU11dGF0aW9uTGlmZUN5Y2xlcyA9IF9SZWFjdEZpYmVyQ29tbWl0V29yay5jb21taXRCZWZvcmVNdXRhdGlvbkxpZmVDeWNsZXMsXG4gICAgICBjb21taXRSZXNldFRleHRDb250ZW50ID0gX1JlYWN0RmliZXJDb21taXRXb3JrLmNvbW1pdFJlc2V0VGV4dENvbnRlbnQsXG4gICAgICBjb21taXRQbGFjZW1lbnQgPSBfUmVhY3RGaWJlckNvbW1pdFdvcmsuY29tbWl0UGxhY2VtZW50LFxuICAgICAgY29tbWl0RGVsZXRpb24gPSBfUmVhY3RGaWJlckNvbW1pdFdvcmsuY29tbWl0RGVsZXRpb24sXG4gICAgICBjb21taXRXb3JrID0gX1JlYWN0RmliZXJDb21taXRXb3JrLmNvbW1pdFdvcmssXG4gICAgICBjb21taXRMaWZlQ3ljbGVzID0gX1JlYWN0RmliZXJDb21taXRXb3JrLmNvbW1pdExpZmVDeWNsZXMsXG4gICAgICBjb21taXRFcnJvckxvZ2dpbmcgPSBfUmVhY3RGaWJlckNvbW1pdFdvcmsuY29tbWl0RXJyb3JMb2dnaW5nLFxuICAgICAgY29tbWl0QXR0YWNoUmVmID0gX1JlYWN0RmliZXJDb21taXRXb3JrLmNvbW1pdEF0dGFjaFJlZixcbiAgICAgIGNvbW1pdERldGFjaFJlZiA9IF9SZWFjdEZpYmVyQ29tbWl0V29yay5jb21taXREZXRhY2hSZWY7XG5cbiAgdmFyIG5vdyA9IGNvbmZpZy5ub3csXG4gICAgICBzY2hlZHVsZURlZmVycmVkQ2FsbGJhY2sgPSBjb25maWcuc2NoZWR1bGVEZWZlcnJlZENhbGxiYWNrLFxuICAgICAgY2FuY2VsRGVmZXJyZWRDYWxsYmFjayA9IGNvbmZpZy5jYW5jZWxEZWZlcnJlZENhbGxiYWNrLFxuICAgICAgcHJlcGFyZUZvckNvbW1pdCA9IGNvbmZpZy5wcmVwYXJlRm9yQ29tbWl0LFxuICAgICAgcmVzZXRBZnRlckNvbW1pdCA9IGNvbmZpZy5yZXNldEFmdGVyQ29tbWl0O1xuXG4gIC8vIFJlcHJlc2VudHMgdGhlIGN1cnJlbnQgdGltZSBpbiBtcy5cblxuICB2YXIgb3JpZ2luYWxTdGFydFRpbWVNcyA9IG5vdygpO1xuICB2YXIgbW9zdFJlY2VudEN1cnJlbnRUaW1lID0gbXNUb0V4cGlyYXRpb25UaW1lKDApO1xuICB2YXIgbW9zdFJlY2VudEN1cnJlbnRUaW1lTXMgPSBvcmlnaW5hbFN0YXJ0VGltZU1zO1xuXG4gIC8vIFVzZWQgdG8gZW5zdXJlIGNvbXB1dGVVbmlxdWVBc3luY0V4cGlyYXRpb24gaXMgbW9ub3RvbmljYWxseSBpbmNyZWFzZXMuXG4gIHZhciBsYXN0VW5pcXVlQXN5bmNFeHBpcmF0aW9uID0gMDtcblxuICAvLyBSZXByZXNlbnRzIHRoZSBleHBpcmF0aW9uIHRpbWUgdGhhdCBpbmNvbWluZyB1cGRhdGVzIHNob3VsZCB1c2UuIChJZiB0aGlzXG4gIC8vIGlzIE5vV29yaywgdXNlIHRoZSBkZWZhdWx0IHN0cmF0ZWd5OiBhc3luYyB1cGRhdGVzIGluIGFzeW5jIG1vZGUsIHN5bmNcbiAgLy8gdXBkYXRlcyBpbiBzeW5jIG1vZGUuKVxuICB2YXIgZXhwaXJhdGlvbkNvbnRleHQgPSBOb1dvcms7XG5cbiAgdmFyIGlzV29ya2luZyA9IGZhbHNlO1xuXG4gIC8vIFRoZSBuZXh0IHdvcmsgaW4gcHJvZ3Jlc3MgZmliZXIgdGhhdCB3ZSdyZSBjdXJyZW50bHkgd29ya2luZyBvbi5cbiAgdmFyIG5leHRVbml0T2ZXb3JrID0gbnVsbDtcbiAgdmFyIG5leHRSb290ID0gbnVsbDtcbiAgLy8gVGhlIHRpbWUgYXQgd2hpY2ggd2UncmUgY3VycmVudGx5IHJlbmRlcmluZyB3b3JrLlxuICB2YXIgbmV4dFJlbmRlckV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuXG4gIC8vIFRoZSBuZXh0IGZpYmVyIHdpdGggYW4gZWZmZWN0IHRoYXQgd2UncmUgY3VycmVudGx5IGNvbW1pdHRpbmcuXG4gIHZhciBuZXh0RWZmZWN0ID0gbnVsbDtcblxuICB2YXIgaXNDb21taXR0aW5nID0gZmFsc2U7XG5cbiAgdmFyIGlzUm9vdFJlYWR5Rm9yQ29tbWl0ID0gZmFsc2U7XG5cbiAgdmFyIGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkID0gbnVsbDtcblxuICAvLyBVc2VkIGZvciBwZXJmb3JtYW5jZSB0cmFja2luZy5cbiAgdmFyIGludGVycnVwdGVkQnkgPSBudWxsO1xuXG4gIHZhciBzdGFzaGVkV29ya0luUHJvZ3Jlc3NQcm9wZXJ0aWVzID0gdm9pZCAwO1xuICB2YXIgcmVwbGF5VW5pdE9mV29yayA9IHZvaWQgMDtcbiAgdmFyIGlzUmVwbGF5aW5nRmFpbGVkVW5pdE9mV29yayA9IHZvaWQgMDtcbiAgdmFyIG9yaWdpbmFsUmVwbGF5RXJyb3IgPSB2b2lkIDA7XG4gIHZhciByZXRocm93T3JpZ2luYWxFcnJvciA9IHZvaWQgMDtcbiAgaWYgKHRydWUgJiYgcmVwbGF5RmFpbGVkVW5pdE9mV29ya1dpdGhJbnZva2VHdWFyZGVkQ2FsbGJhY2spIHtcbiAgICBzdGFzaGVkV29ya0luUHJvZ3Jlc3NQcm9wZXJ0aWVzID0gbnVsbDtcbiAgICBpc1JlcGxheWluZ0ZhaWxlZFVuaXRPZldvcmsgPSBmYWxzZTtcbiAgICBvcmlnaW5hbFJlcGxheUVycm9yID0gbnVsbDtcbiAgICByZXBsYXlVbml0T2ZXb3JrID0gZnVuY3Rpb24gKGZhaWxlZFVuaXRPZldvcmssIGVycm9yLCBpc0FzeW5jKSB7XG4gICAgICAvLyBSZXN0b3JlIHRoZSBvcmlnaW5hbCBzdGF0ZSBvZiB0aGUgd29yay1pbi1wcm9ncmVzc1xuICAgICAgYXNzaWduRmliZXJQcm9wZXJ0aWVzSW5ERVYoZmFpbGVkVW5pdE9mV29yaywgc3Rhc2hlZFdvcmtJblByb2dyZXNzUHJvcGVydGllcyk7XG4gICAgICBzd2l0Y2ggKGZhaWxlZFVuaXRPZldvcmsudGFnKSB7XG4gICAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgICAgcG9wSG9zdENvbnRhaW5lcihmYWlsZWRVbml0T2ZXb3JrKTtcbiAgICAgICAgICBwb3BUb3BMZXZlbExlZ2FjeUNvbnRleHRPYmplY3QoZmFpbGVkVW5pdE9mV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICBwb3BIb3N0Q29udGV4dChmYWlsZWRVbml0T2ZXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAgICBwb3BMZWdhY3lDb250ZXh0UHJvdmlkZXIoZmFpbGVkVW5pdE9mV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgICAgICBwb3BIb3N0Q29udGFpbmVyKGZhaWxlZFVuaXRPZldvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENvbnRleHRQcm92aWRlcjpcbiAgICAgICAgICBwb3BQcm92aWRlcihmYWlsZWRVbml0T2ZXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8vIFJlcGxheSB0aGUgYmVnaW4gcGhhc2UuXG4gICAgICBpc1JlcGxheWluZ0ZhaWxlZFVuaXRPZldvcmsgPSB0cnVlO1xuICAgICAgb3JpZ2luYWxSZXBsYXlFcnJvciA9IGVycm9yO1xuICAgICAgaW52b2tlR3VhcmRlZENhbGxiYWNrJDIobnVsbCwgd29ya0xvb3AsIG51bGwsIGlzQXN5bmMpO1xuICAgICAgaXNSZXBsYXlpbmdGYWlsZWRVbml0T2ZXb3JrID0gZmFsc2U7XG4gICAgICBvcmlnaW5hbFJlcGxheUVycm9yID0gbnVsbDtcbiAgICAgIGlmIChoYXNDYXVnaHRFcnJvcigpKSB7XG4gICAgICAgIGNsZWFyQ2F1Z2h0RXJyb3IoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElmIHRoZSBiZWdpbiBwaGFzZSBkaWQgbm90IGZhaWwgdGhlIHNlY29uZCB0aW1lLCBzZXQgdGhpcyBwb2ludGVyXG4gICAgICAgIC8vIGJhY2sgdG8gdGhlIG9yaWdpbmFsIHZhbHVlLlxuICAgICAgICBuZXh0VW5pdE9mV29yayA9IGZhaWxlZFVuaXRPZldvcms7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXRocm93T3JpZ2luYWxFcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IG9yaWdpbmFsUmVwbGF5RXJyb3I7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0U3RhY2soKSB7XG4gICAgaWYgKG5leHRVbml0T2ZXb3JrICE9PSBudWxsKSB7XG4gICAgICB2YXIgaW50ZXJydXB0ZWRXb3JrID0gbmV4dFVuaXRPZldvcmtbJ3JldHVybiddO1xuICAgICAgd2hpbGUgKGludGVycnVwdGVkV29yayAhPT0gbnVsbCkge1xuICAgICAgICB1bndpbmRJbnRlcnJ1cHRlZFdvcmsoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgaW50ZXJydXB0ZWRXb3JrID0gaW50ZXJydXB0ZWRXb3JrWydyZXR1cm4nXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB7XG4gICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5kaXNjYXJkUGVuZGluZ1dhcm5pbmdzKCk7XG4gICAgICBzdGFjay5jaGVja1RoYXRTdGFja0lzRW1wdHkoKTtcbiAgICB9XG5cbiAgICBuZXh0Um9vdCA9IG51bGw7XG4gICAgbmV4dFJlbmRlckV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICAgIG5leHRVbml0T2ZXb3JrID0gbnVsbDtcblxuICAgIGlzUm9vdFJlYWR5Rm9yQ29tbWl0ID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBjb21taXRBbGxIb3N0RWZmZWN0cygpIHtcbiAgICB3aGlsZSAobmV4dEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAge1xuICAgICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnNldEN1cnJlbnRGaWJlcihuZXh0RWZmZWN0KTtcbiAgICAgIH1cbiAgICAgIHJlY29yZEVmZmVjdCgpO1xuXG4gICAgICB2YXIgZWZmZWN0VGFnID0gbmV4dEVmZmVjdC5lZmZlY3RUYWc7XG5cbiAgICAgIGlmIChlZmZlY3RUYWcgJiBDb250ZW50UmVzZXQpIHtcbiAgICAgICAgY29tbWl0UmVzZXRUZXh0Q29udGVudChuZXh0RWZmZWN0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVmZmVjdFRhZyAmIFJlZikge1xuICAgICAgICB2YXIgY3VycmVudCA9IG5leHRFZmZlY3QuYWx0ZXJuYXRlO1xuICAgICAgICBpZiAoY3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgIGNvbW1pdERldGFjaFJlZihjdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUaGUgZm9sbG93aW5nIHN3aXRjaCBzdGF0ZW1lbnQgaXMgb25seSBjb25jZXJuZWQgYWJvdXQgcGxhY2VtZW50LFxuICAgICAgLy8gdXBkYXRlcywgYW5kIGRlbGV0aW9ucy4gVG8gYXZvaWQgbmVlZGluZyB0byBhZGQgYSBjYXNlIGZvciBldmVyeVxuICAgICAgLy8gcG9zc2libGUgYml0bWFwIHZhbHVlLCB3ZSByZW1vdmUgdGhlIHNlY29uZGFyeSBlZmZlY3RzIGZyb20gdGhlXG4gICAgICAvLyBlZmZlY3QgdGFnIGFuZCBzd2l0Y2ggb24gdGhhdCB2YWx1ZS5cbiAgICAgIHZhciBwcmltYXJ5RWZmZWN0VGFnID0gZWZmZWN0VGFnICYgKFBsYWNlbWVudCB8IFVwZGF0ZSB8IERlbGV0aW9uKTtcbiAgICAgIHN3aXRjaCAocHJpbWFyeUVmZmVjdFRhZykge1xuICAgICAgICBjYXNlIFBsYWNlbWVudDpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb21taXRQbGFjZW1lbnQobmV4dEVmZmVjdCk7XG4gICAgICAgICAgICAvLyBDbGVhciB0aGUgXCJwbGFjZW1lbnRcIiBmcm9tIGVmZmVjdCB0YWcgc28gdGhhdCB3ZSBrbm93IHRoYXQgdGhpcyBpcyBpbnNlcnRlZCwgYmVmb3JlXG4gICAgICAgICAgICAvLyBhbnkgbGlmZS1jeWNsZXMgbGlrZSBjb21wb25lbnREaWRNb3VudCBnZXRzIGNhbGxlZC5cbiAgICAgICAgICAgIC8vIFRPRE86IGZpbmRET01Ob2RlIGRvZXNuJ3QgcmVseSBvbiB0aGlzIGFueSBtb3JlIGJ1dCBpc01vdW50ZWRcbiAgICAgICAgICAgIC8vIGRvZXMgYW5kIGlzTW91bnRlZCBpcyBkZXByZWNhdGVkIGFueXdheSBzbyB3ZSBzaG91bGQgYmUgYWJsZVxuICAgICAgICAgICAgLy8gdG8ga2lsbCB0aGlzLlxuICAgICAgICAgICAgbmV4dEVmZmVjdC5lZmZlY3RUYWcgJj0gflBsYWNlbWVudDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBQbGFjZW1lbnRBbmRVcGRhdGU6XG4gICAgICAgICAge1xuICAgICAgICAgICAgLy8gUGxhY2VtZW50XG4gICAgICAgICAgICBjb21taXRQbGFjZW1lbnQobmV4dEVmZmVjdCk7XG4gICAgICAgICAgICAvLyBDbGVhciB0aGUgXCJwbGFjZW1lbnRcIiBmcm9tIGVmZmVjdCB0YWcgc28gdGhhdCB3ZSBrbm93IHRoYXQgdGhpcyBpcyBpbnNlcnRlZCwgYmVmb3JlXG4gICAgICAgICAgICAvLyBhbnkgbGlmZS1jeWNsZXMgbGlrZSBjb21wb25lbnREaWRNb3VudCBnZXRzIGNhbGxlZC5cbiAgICAgICAgICAgIG5leHRFZmZlY3QuZWZmZWN0VGFnICY9IH5QbGFjZW1lbnQ7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZVxuICAgICAgICAgICAgdmFyIF9jdXJyZW50ID0gbmV4dEVmZmVjdC5hbHRlcm5hdGU7XG4gICAgICAgICAgICBjb21taXRXb3JrKF9jdXJyZW50LCBuZXh0RWZmZWN0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBVcGRhdGU6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIF9jdXJyZW50MiA9IG5leHRFZmZlY3QuYWx0ZXJuYXRlO1xuICAgICAgICAgICAgY29tbWl0V29yayhfY3VycmVudDIsIG5leHRFZmZlY3QpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIERlbGV0aW9uOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbW1pdERlbGV0aW9uKG5leHRFZmZlY3QpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgbmV4dEVmZmVjdCA9IG5leHRFZmZlY3QubmV4dEVmZmVjdDtcbiAgICB9XG5cbiAgICB7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnJlc2V0Q3VycmVudEZpYmVyKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0QmVmb3JlTXV0YXRpb25MaWZlY3ljbGVzKCkge1xuICAgIHdoaWxlIChuZXh0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgICB2YXIgZWZmZWN0VGFnID0gbmV4dEVmZmVjdC5lZmZlY3RUYWc7XG5cbiAgICAgIGlmIChlZmZlY3RUYWcgJiBTbmFwc2hvdCkge1xuICAgICAgICByZWNvcmRFZmZlY3QoKTtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBuZXh0RWZmZWN0LmFsdGVybmF0ZTtcbiAgICAgICAgY29tbWl0QmVmb3JlTXV0YXRpb25MaWZlQ3ljbGVzKGN1cnJlbnQsIG5leHRFZmZlY3QpO1xuICAgICAgfVxuXG4gICAgICAvLyBEb24ndCBjbGVhbnVwIGVmZmVjdHMgeWV0O1xuICAgICAgLy8gVGhpcyB3aWxsIGJlIGRvbmUgYnkgY29tbWl0QWxsTGlmZUN5Y2xlcygpXG4gICAgICBuZXh0RWZmZWN0ID0gbmV4dEVmZmVjdC5uZXh0RWZmZWN0O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbW1pdEFsbExpZmVDeWNsZXMoZmluaXNoZWRSb290LCBjdXJyZW50VGltZSwgY29tbWl0dGVkRXhwaXJhdGlvblRpbWUpIHtcbiAgICB7XG4gICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5mbHVzaFBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncygpO1xuXG4gICAgICBpZiAod2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMpIHtcbiAgICAgICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZmx1c2hQZW5kaW5nRGVwcmVjYXRpb25XYXJuaW5ncygpO1xuICAgICAgfVxuICAgIH1cbiAgICB3aGlsZSAobmV4dEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgdmFyIGVmZmVjdFRhZyA9IG5leHRFZmZlY3QuZWZmZWN0VGFnO1xuXG4gICAgICBpZiAoZWZmZWN0VGFnICYgKFVwZGF0ZSB8IENhbGxiYWNrKSkge1xuICAgICAgICByZWNvcmRFZmZlY3QoKTtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBuZXh0RWZmZWN0LmFsdGVybmF0ZTtcbiAgICAgICAgY29tbWl0TGlmZUN5Y2xlcyhmaW5pc2hlZFJvb3QsIGN1cnJlbnQsIG5leHRFZmZlY3QsIGN1cnJlbnRUaW1lLCBjb21taXR0ZWRFeHBpcmF0aW9uVGltZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChlZmZlY3RUYWcgJiBFcnJMb2cpIHtcbiAgICAgICAgY29tbWl0RXJyb3JMb2dnaW5nKG5leHRFZmZlY3QsIG9uVW5jYXVnaHRFcnJvcik7XG4gICAgICB9XG5cbiAgICAgIGlmIChlZmZlY3RUYWcgJiBSZWYpIHtcbiAgICAgICAgcmVjb3JkRWZmZWN0KCk7XG4gICAgICAgIGNvbW1pdEF0dGFjaFJlZihuZXh0RWZmZWN0KTtcbiAgICAgIH1cblxuICAgICAgdmFyIG5leHQgPSBuZXh0RWZmZWN0Lm5leHRFZmZlY3Q7XG4gICAgICAvLyBFbnN1cmUgdGhhdCB3ZSBjbGVhbiB0aGVzZSB1cCBzbyB0aGF0IHdlIGRvbid0IGFjY2lkZW50YWxseSBrZWVwIHRoZW0uXG4gICAgICAvLyBJJ20gbm90IGFjdHVhbGx5IHN1cmUgdGhpcyBtYXR0ZXJzIGJlY2F1c2Ugd2UgY2FuJ3QgcmVzZXQgZmlyc3RFZmZlY3RcbiAgICAgIC8vIGFuZCBsYXN0RWZmZWN0IHNpbmNlIHRoZXkncmUgb24gZXZlcnkgbm9kZSwgbm90IGp1c3QgdGhlIGVmZmVjdGZ1bFxuICAgICAgLy8gb25lcy4gU28gd2UgaGF2ZSB0byBjbGVhbiBldmVyeXRoaW5nIGFzIHdlIHJldXNlIG5vZGVzIGFueXdheS5cbiAgICAgIG5leHRFZmZlY3QubmV4dEVmZmVjdCA9IG51bGw7XG4gICAgICAvLyBFbnN1cmUgdGhhdCB3ZSByZXNldCB0aGUgZWZmZWN0VGFnIGhlcmUgc28gdGhhdCB3ZSBjYW4gcmVseSBvbiBlZmZlY3RcbiAgICAgIC8vIHRhZ3MgdG8gcmVhc29uIGFib3V0IHRoZSBjdXJyZW50IGxpZmUtY3ljbGUuXG4gICAgICBuZXh0RWZmZWN0ID0gbmV4dDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpc0FscmVhZHlGYWlsZWRMZWdhY3lFcnJvckJvdW5kYXJ5KGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkICE9PSBudWxsICYmIGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkLmhhcyhpbnN0YW5jZSk7XG4gIH1cblxuICBmdW5jdGlvbiBtYXJrTGVnYWN5RXJyb3JCb3VuZGFyeUFzRmFpbGVkKGluc3RhbmNlKSB7XG4gICAgaWYgKGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkID09PSBudWxsKSB7XG4gICAgICBsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZCA9IG5ldyBTZXQoW2luc3RhbmNlXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkLmFkZChpbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0Um9vdChmaW5pc2hlZFdvcmspIHtcbiAgICBpc1dvcmtpbmcgPSB0cnVlO1xuICAgIGlzQ29tbWl0dGluZyA9IHRydWU7XG4gICAgc3RhcnRDb21taXRUaW1lcigpO1xuXG4gICAgdmFyIHJvb3QgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICEocm9vdC5jdXJyZW50ICE9PSBmaW5pc2hlZFdvcmspID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IGNvbW1pdCB0aGUgc2FtZSB0cmVlIGFzIGJlZm9yZS4gVGhpcyBpcyBwcm9iYWJseSBhIGJ1ZyByZWxhdGVkIHRvIHRoZSByZXR1cm4gZmllbGQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gICAgdmFyIGNvbW1pdHRlZEV4cGlyYXRpb25UaW1lID0gcm9vdC5wZW5kaW5nQ29tbWl0RXhwaXJhdGlvblRpbWU7XG4gICAgIShjb21taXR0ZWRFeHBpcmF0aW9uVGltZSAhPT0gTm9Xb3JrKSA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBjb21taXQgYW4gaW5jb21wbGV0ZSByb290LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICAgIHJvb3QucGVuZGluZ0NvbW1pdEV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuXG4gICAgdmFyIGN1cnJlbnRUaW1lID0gcmVjYWxjdWxhdGVDdXJyZW50VGltZSgpO1xuXG4gICAgLy8gUmVzZXQgdGhpcyB0byBudWxsIGJlZm9yZSBjYWxsaW5nIGxpZmVjeWNsZXNcbiAgICBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID0gbnVsbDtcblxuICAgIHZhciBmaXJzdEVmZmVjdCA9IHZvaWQgMDtcbiAgICBpZiAoZmluaXNoZWRXb3JrLmVmZmVjdFRhZyA+IFBlcmZvcm1lZFdvcmspIHtcbiAgICAgIC8vIEEgZmliZXIncyBlZmZlY3QgbGlzdCBjb25zaXN0cyBvbmx5IG9mIGl0cyBjaGlsZHJlbiwgbm90IGl0c2VsZi4gU28gaWZcbiAgICAgIC8vIHRoZSByb290IGhhcyBhbiBlZmZlY3QsIHdlIG5lZWQgdG8gYWRkIGl0IHRvIHRoZSBlbmQgb2YgdGhlIGxpc3QuIFRoZVxuICAgICAgLy8gcmVzdWx0aW5nIGxpc3QgaXMgdGhlIHNldCB0aGF0IHdvdWxkIGJlbG9uZyB0byB0aGUgcm9vdCdzIHBhcmVudCwgaWZcbiAgICAgIC8vIGl0IGhhZCBvbmU7IHRoYXQgaXMsIGFsbCB0aGUgZWZmZWN0cyBpbiB0aGUgdHJlZSBpbmNsdWRpbmcgdGhlIHJvb3QuXG4gICAgICBpZiAoZmluaXNoZWRXb3JrLmxhc3RFZmZlY3QgIT09IG51bGwpIHtcbiAgICAgICAgZmluaXNoZWRXb3JrLmxhc3RFZmZlY3QubmV4dEVmZmVjdCA9IGZpbmlzaGVkV29yaztcbiAgICAgICAgZmlyc3RFZmZlY3QgPSBmaW5pc2hlZFdvcmsuZmlyc3RFZmZlY3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaXJzdEVmZmVjdCA9IGZpbmlzaGVkV29yaztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhlcmUgaXMgbm8gZWZmZWN0IG9uIHRoZSByb290LlxuICAgICAgZmlyc3RFZmZlY3QgPSBmaW5pc2hlZFdvcmsuZmlyc3RFZmZlY3Q7XG4gICAgfVxuXG4gICAgcHJlcGFyZUZvckNvbW1pdChyb290LmNvbnRhaW5lckluZm8pO1xuXG4gICAgLy8gSW52b2tlIGluc3RhbmNlcyBvZiBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSBiZWZvcmUgbXV0YXRpb24uXG4gICAgbmV4dEVmZmVjdCA9IGZpcnN0RWZmZWN0O1xuICAgIHN0YXJ0Q29tbWl0U25hcHNob3RFZmZlY3RzVGltZXIoKTtcbiAgICB3aGlsZSAobmV4dEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgdmFyIGRpZEVycm9yID0gZmFsc2U7XG4gICAgICB2YXIgZXJyb3IgPSB2b2lkIDA7XG4gICAgICB7XG4gICAgICAgIGludm9rZUd1YXJkZWRDYWxsYmFjayQyKG51bGwsIGNvbW1pdEJlZm9yZU11dGF0aW9uTGlmZWN5Y2xlcywgbnVsbCk7XG4gICAgICAgIGlmIChoYXNDYXVnaHRFcnJvcigpKSB7XG4gICAgICAgICAgZGlkRXJyb3IgPSB0cnVlO1xuICAgICAgICAgIGVycm9yID0gY2xlYXJDYXVnaHRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZGlkRXJyb3IpIHtcbiAgICAgICAgIShuZXh0RWZmZWN0ICE9PSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ1Nob3VsZCBoYXZlIG5leHQgZWZmZWN0LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICAgICAgICBvbkNvbW1pdFBoYXNlRXJyb3IobmV4dEVmZmVjdCwgZXJyb3IpO1xuICAgICAgICAvLyBDbGVhbi11cFxuICAgICAgICBpZiAobmV4dEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgIG5leHRFZmZlY3QgPSBuZXh0RWZmZWN0Lm5leHRFZmZlY3Q7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgc3RvcENvbW1pdFNuYXBzaG90RWZmZWN0c1RpbWVyKCk7XG5cbiAgICAvLyBDb21taXQgYWxsIHRoZSBzaWRlLWVmZmVjdHMgd2l0aGluIGEgdHJlZS4gV2UnbGwgZG8gdGhpcyBpbiB0d28gcGFzc2VzLlxuICAgIC8vIFRoZSBmaXJzdCBwYXNzIHBlcmZvcm1zIGFsbCB0aGUgaG9zdCBpbnNlcnRpb25zLCB1cGRhdGVzLCBkZWxldGlvbnMgYW5kXG4gICAgLy8gcmVmIHVubW91bnRzLlxuICAgIG5leHRFZmZlY3QgPSBmaXJzdEVmZmVjdDtcbiAgICBzdGFydENvbW1pdEhvc3RFZmZlY3RzVGltZXIoKTtcbiAgICB3aGlsZSAobmV4dEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgdmFyIF9kaWRFcnJvciA9IGZhbHNlO1xuICAgICAgdmFyIF9lcnJvciA9IHZvaWQgMDtcbiAgICAgIHtcbiAgICAgICAgaW52b2tlR3VhcmRlZENhbGxiYWNrJDIobnVsbCwgY29tbWl0QWxsSG9zdEVmZmVjdHMsIG51bGwpO1xuICAgICAgICBpZiAoaGFzQ2F1Z2h0RXJyb3IoKSkge1xuICAgICAgICAgIF9kaWRFcnJvciA9IHRydWU7XG4gICAgICAgICAgX2Vycm9yID0gY2xlYXJDYXVnaHRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoX2RpZEVycm9yKSB7XG4gICAgICAgICEobmV4dEVmZmVjdCAhPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdTaG91bGQgaGF2ZSBuZXh0IGVmZmVjdC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgICAgICAgb25Db21taXRQaGFzZUVycm9yKG5leHRFZmZlY3QsIF9lcnJvcik7XG4gICAgICAgIC8vIENsZWFuLXVwXG4gICAgICAgIGlmIChuZXh0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgICAgICAgbmV4dEVmZmVjdCA9IG5leHRFZmZlY3QubmV4dEVmZmVjdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBzdG9wQ29tbWl0SG9zdEVmZmVjdHNUaW1lcigpO1xuXG4gICAgcmVzZXRBZnRlckNvbW1pdChyb290LmNvbnRhaW5lckluZm8pO1xuXG4gICAgLy8gVGhlIHdvcmstaW4tcHJvZ3Jlc3MgdHJlZSBpcyBub3cgdGhlIGN1cnJlbnQgdHJlZS4gVGhpcyBtdXN0IGNvbWUgYWZ0ZXJcbiAgICAvLyB0aGUgZmlyc3QgcGFzcyBvZiB0aGUgY29tbWl0IHBoYXNlLCBzbyB0aGF0IHRoZSBwcmV2aW91cyB0cmVlIGlzIHN0aWxsXG4gICAgLy8gY3VycmVudCBkdXJpbmcgY29tcG9uZW50V2lsbFVubW91bnQsIGJ1dCBiZWZvcmUgdGhlIHNlY29uZCBwYXNzLCBzbyB0aGF0XG4gICAgLy8gdGhlIGZpbmlzaGVkIHdvcmsgaXMgY3VycmVudCBkdXJpbmcgY29tcG9uZW50RGlkTW91bnQvVXBkYXRlLlxuICAgIHJvb3QuY3VycmVudCA9IGZpbmlzaGVkV29yaztcblxuICAgIC8vIEluIHRoZSBzZWNvbmQgcGFzcyB3ZSdsbCBwZXJmb3JtIGFsbCBsaWZlLWN5Y2xlcyBhbmQgcmVmIGNhbGxiYWNrcy5cbiAgICAvLyBMaWZlLWN5Y2xlcyBoYXBwZW4gYXMgYSBzZXBhcmF0ZSBwYXNzIHNvIHRoYXQgYWxsIHBsYWNlbWVudHMsIHVwZGF0ZXMsXG4gICAgLy8gYW5kIGRlbGV0aW9ucyBpbiB0aGUgZW50aXJlIHRyZWUgaGF2ZSBhbHJlYWR5IGJlZW4gaW52b2tlZC5cbiAgICAvLyBUaGlzIHBhc3MgYWxzbyB0cmlnZ2VycyBhbnkgcmVuZGVyZXItc3BlY2lmaWMgaW5pdGlhbCBlZmZlY3RzLlxuICAgIG5leHRFZmZlY3QgPSBmaXJzdEVmZmVjdDtcbiAgICBzdGFydENvbW1pdExpZmVDeWNsZXNUaW1lcigpO1xuICAgIHdoaWxlIChuZXh0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgICB2YXIgX2RpZEVycm9yMiA9IGZhbHNlO1xuICAgICAgdmFyIF9lcnJvcjIgPSB2b2lkIDA7XG4gICAgICB7XG4gICAgICAgIGludm9rZUd1YXJkZWRDYWxsYmFjayQyKG51bGwsIGNvbW1pdEFsbExpZmVDeWNsZXMsIG51bGwsIHJvb3QsIGN1cnJlbnRUaW1lLCBjb21taXR0ZWRFeHBpcmF0aW9uVGltZSk7XG4gICAgICAgIGlmIChoYXNDYXVnaHRFcnJvcigpKSB7XG4gICAgICAgICAgX2RpZEVycm9yMiA9IHRydWU7XG4gICAgICAgICAgX2Vycm9yMiA9IGNsZWFyQ2F1Z2h0RXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKF9kaWRFcnJvcjIpIHtcbiAgICAgICAgIShuZXh0RWZmZWN0ICE9PSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ1Nob3VsZCBoYXZlIG5leHQgZWZmZWN0LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICAgICAgICBvbkNvbW1pdFBoYXNlRXJyb3IobmV4dEVmZmVjdCwgX2Vycm9yMik7XG4gICAgICAgIGlmIChuZXh0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgICAgICAgbmV4dEVmZmVjdCA9IG5leHRFZmZlY3QubmV4dEVmZmVjdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlzQ29tbWl0dGluZyA9IGZhbHNlO1xuICAgIGlzV29ya2luZyA9IGZhbHNlO1xuICAgIHN0b3BDb21taXRMaWZlQ3ljbGVzVGltZXIoKTtcbiAgICBzdG9wQ29tbWl0VGltZXIoKTtcbiAgICBpZiAodHlwZW9mIG9uQ29tbWl0Um9vdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgb25Db21taXRSb290KGZpbmlzaGVkV29yay5zdGF0ZU5vZGUpO1xuICAgIH1cbiAgICBpZiAodHJ1ZSAmJiBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sKSB7XG4gICAgICBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sLm9uQ29tbWl0V29yayhmaW5pc2hlZFdvcmspO1xuICAgIH1cblxuICAgIHZhciByZW1haW5pbmdUaW1lID0gcm9vdC5jdXJyZW50LmV4cGlyYXRpb25UaW1lO1xuICAgIGlmIChyZW1haW5pbmdUaW1lID09PSBOb1dvcmspIHtcbiAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gcmVtYWluaW5nIHdvcmssIHdlIGNhbiBjbGVhciB0aGUgc2V0IG9mIGFscmVhZHkgZmFpbGVkXG4gICAgICAvLyBlcnJvciBib3VuZGFyaWVzLlxuICAgICAgbGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gcmVtYWluaW5nVGltZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0RXhwaXJhdGlvblRpbWUod29ya0luUHJvZ3Jlc3MsIHJlbmRlclRpbWUpIHtcbiAgICBpZiAocmVuZGVyVGltZSAhPT0gTmV2ZXIgJiYgd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWUgPT09IE5ldmVyKSB7XG4gICAgICAvLyBUaGUgY2hpbGRyZW4gb2YgdGhpcyBjb21wb25lbnQgYXJlIGhpZGRlbi4gRG9uJ3QgYnViYmxlIHRoZWlyXG4gICAgICAvLyBleHBpcmF0aW9uIHRpbWVzLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBwZW5kaW5nIHVwZGF0ZXMuXG4gICAgdmFyIG5ld0V4cGlyYXRpb25UaW1lID0gZ2V0VXBkYXRlRXhwaXJhdGlvblRpbWUod29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgLy8gVE9ETzogQ2FsbHMgbmVlZCB0byB2aXNpdCBzdGF0ZU5vZGVcblxuICAgIC8vIEJ1YmJsZSB1cCB0aGUgZWFybGllc3QgZXhwaXJhdGlvbiB0aW1lLlxuICAgIHZhciBjaGlsZCA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgIHdoaWxlIChjaGlsZCAhPT0gbnVsbCkge1xuICAgICAgaWYgKGNoaWxkLmV4cGlyYXRpb25UaW1lICE9PSBOb1dvcmsgJiYgKG5ld0V4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHwgbmV3RXhwaXJhdGlvblRpbWUgPiBjaGlsZC5leHBpcmF0aW9uVGltZSkpIHtcbiAgICAgICAgbmV3RXhwaXJhdGlvblRpbWUgPSBjaGlsZC5leHBpcmF0aW9uVGltZTtcbiAgICAgIH1cbiAgICAgIGNoaWxkID0gY2hpbGQuc2libGluZztcbiAgICB9XG4gICAgd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWUgPSBuZXdFeHBpcmF0aW9uVGltZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXBsZXRlVW5pdE9mV29yayh3b3JrSW5Qcm9ncmVzcykge1xuICAgIC8vIEF0dGVtcHQgdG8gY29tcGxldGUgdGhlIGN1cnJlbnQgdW5pdCBvZiB3b3JrLCB0aGVuIG1vdmUgdG8gdGhlXG4gICAgLy8gbmV4dCBzaWJsaW5nLiBJZiB0aGVyZSBhcmUgbm8gbW9yZSBzaWJsaW5ncywgcmV0dXJuIHRvIHRoZVxuICAgIC8vIHBhcmVudCBmaWJlci5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgLy8gVGhlIGN1cnJlbnQsIGZsdXNoZWQsIHN0YXRlIG9mIHRoaXMgZmliZXIgaXMgdGhlIGFsdGVybmF0ZS5cbiAgICAgIC8vIElkZWFsbHkgbm90aGluZyBzaG91bGQgcmVseSBvbiB0aGlzLCBidXQgcmVseWluZyBvbiBpdCBoZXJlXG4gICAgICAvLyBtZWFucyB0aGF0IHdlIGRvbid0IG5lZWQgYW4gYWRkaXRpb25hbCBmaWVsZCBvbiB0aGUgd29yayBpblxuICAgICAgLy8gcHJvZ3Jlc3MuXG4gICAgICB2YXIgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZTtcbiAgICAgIHtcbiAgICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5zZXRDdXJyZW50RmliZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmV0dXJuRmliZXIgPSB3b3JrSW5Qcm9ncmVzc1sncmV0dXJuJ107XG4gICAgICB2YXIgc2libGluZ0ZpYmVyID0gd29ya0luUHJvZ3Jlc3Muc2libGluZztcblxuICAgICAgaWYgKCh3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgJiBJbmNvbXBsZXRlKSA9PT0gTm9FZmZlY3QpIHtcbiAgICAgICAgLy8gVGhpcyBmaWJlciBjb21wbGV0ZWQuXG4gICAgICAgIHZhciBuZXh0ID0gY29tcGxldGVXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0UmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgICBzdG9wV29ya1RpbWVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgcmVzZXRFeHBpcmF0aW9uVGltZSh3b3JrSW5Qcm9ncmVzcywgbmV4dFJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAge1xuICAgICAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIucmVzZXRDdXJyZW50RmliZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXh0ICE9PSBudWxsKSB7XG4gICAgICAgICAgc3RvcFdvcmtUaW1lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgaWYgKHRydWUgJiYgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbCkge1xuICAgICAgICAgICAgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbC5vbkNvbXBsZXRlV29yayh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIElmIGNvbXBsZXRpbmcgdGhpcyB3b3JrIHNwYXduZWQgbmV3IHdvcmssIGRvIHRoYXQgbmV4dC4gV2UnbGwgY29tZVxuICAgICAgICAgIC8vIGJhY2sgaGVyZSBhZ2Fpbi5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXR1cm5GaWJlciAhPT0gbnVsbCAmJlxuICAgICAgICAvLyBEbyBub3QgYXBwZW5kIGVmZmVjdHMgdG8gcGFyZW50cyBpZiBhIHNpYmxpbmcgZmFpbGVkIHRvIGNvbXBsZXRlXG4gICAgICAgIChyZXR1cm5GaWJlci5lZmZlY3RUYWcgJiBJbmNvbXBsZXRlKSA9PT0gTm9FZmZlY3QpIHtcbiAgICAgICAgICAvLyBBcHBlbmQgYWxsIHRoZSBlZmZlY3RzIG9mIHRoZSBzdWJ0cmVlIGFuZCB0aGlzIGZpYmVyIG9udG8gdGhlIGVmZmVjdFxuICAgICAgICAgIC8vIGxpc3Qgb2YgdGhlIHBhcmVudC4gVGhlIGNvbXBsZXRpb24gb3JkZXIgb2YgdGhlIGNoaWxkcmVuIGFmZmVjdHMgdGhlXG4gICAgICAgICAgLy8gc2lkZS1lZmZlY3Qgb3JkZXIuXG4gICAgICAgICAgaWYgKHJldHVybkZpYmVyLmZpcnN0RWZmZWN0ID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm5GaWJlci5maXJzdEVmZmVjdCA9IHdvcmtJblByb2dyZXNzLmZpcnN0RWZmZWN0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAod29ya0luUHJvZ3Jlc3MubGFzdEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHJldHVybkZpYmVyLmxhc3RFZmZlY3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIubGFzdEVmZmVjdC5uZXh0RWZmZWN0ID0gd29ya0luUHJvZ3Jlc3MuZmlyc3RFZmZlY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gd29ya0luUHJvZ3Jlc3MubGFzdEVmZmVjdDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBJZiB0aGlzIGZpYmVyIGhhZCBzaWRlLWVmZmVjdHMsIHdlIGFwcGVuZCBpdCBBRlRFUiB0aGUgY2hpbGRyZW4nc1xuICAgICAgICAgIC8vIHNpZGUtZWZmZWN0cy4gV2UgY2FuIHBlcmZvcm0gY2VydGFpbiBzaWRlLWVmZmVjdHMgZWFybGllciBpZlxuICAgICAgICAgIC8vIG5lZWRlZCwgYnkgZG9pbmcgbXVsdGlwbGUgcGFzc2VzIG92ZXIgdGhlIGVmZmVjdCBsaXN0LiBXZSBkb24ndCB3YW50XG4gICAgICAgICAgLy8gdG8gc2NoZWR1bGUgb3VyIG93biBzaWRlLWVmZmVjdCBvbiBvdXIgb3duIGxpc3QgYmVjYXVzZSBpZiBlbmQgdXBcbiAgICAgICAgICAvLyByZXVzaW5nIGNoaWxkcmVuIHdlJ2xsIHNjaGVkdWxlIHRoaXMgZWZmZWN0IG9udG8gaXRzZWxmIHNpbmNlIHdlJ3JlXG4gICAgICAgICAgLy8gYXQgdGhlIGVuZC5cbiAgICAgICAgICB2YXIgZWZmZWN0VGFnID0gd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnO1xuICAgICAgICAgIC8vIFNraXAgYm90aCBOb1dvcmsgYW5kIFBlcmZvcm1lZFdvcmsgdGFncyB3aGVuIGNyZWF0aW5nIHRoZSBlZmZlY3QgbGlzdC5cbiAgICAgICAgICAvLyBQZXJmb3JtZWRXb3JrIGVmZmVjdCBpcyByZWFkIGJ5IFJlYWN0IERldlRvb2xzIGJ1dCBzaG91bGRuJ3QgYmUgY29tbWl0dGVkLlxuICAgICAgICAgIGlmIChlZmZlY3RUYWcgPiBQZXJmb3JtZWRXb3JrKSB7XG4gICAgICAgICAgICBpZiAocmV0dXJuRmliZXIubGFzdEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0Lm5leHRFZmZlY3QgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLmZpcnN0RWZmZWN0ID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRydWUgJiYgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbCkge1xuICAgICAgICAgIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wub25Db21wbGV0ZVdvcmsod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNpYmxpbmdGaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIElmIHRoZXJlIGlzIG1vcmUgd29yayB0byBkbyBpbiB0aGlzIHJldHVybkZpYmVyLCBkbyB0aGF0IG5leHQuXG4gICAgICAgICAgcmV0dXJuIHNpYmxpbmdGaWJlcjtcbiAgICAgICAgfSBlbHNlIGlmIChyZXR1cm5GaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gbW9yZSB3b3JrIGluIHRoaXMgcmV0dXJuRmliZXIuIENvbXBsZXRlIHRoZSByZXR1cm5GaWJlci5cbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IHJldHVybkZpYmVyO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFdlJ3ZlIHJlYWNoZWQgdGhlIHJvb3QuXG4gICAgICAgICAgaXNSb290UmVhZHlGb3JDb21taXQgPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUaGlzIGZpYmVyIGRpZCBub3QgY29tcGxldGUgYmVjYXVzZSBzb21ldGhpbmcgdGhyZXcuIFBvcCB2YWx1ZXMgb2ZmXG4gICAgICAgIC8vIHRoZSBzdGFjayB3aXRob3V0IGVudGVyaW5nIHRoZSBjb21wbGV0ZSBwaGFzZS4gSWYgdGhpcyBpcyBhIGJvdW5kYXJ5LFxuICAgICAgICAvLyBjYXB0dXJlIHZhbHVlcyBpZiBwb3NzaWJsZS5cbiAgICAgICAgdmFyIF9uZXh0ID0gdW53aW5kV29yayh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIC8vIEJlY2F1c2UgdGhpcyBmaWJlciBkaWQgbm90IGNvbXBsZXRlLCBkb24ndCByZXNldCBpdHMgZXhwaXJhdGlvbiB0aW1lLlxuICAgICAgICBpZiAod29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnICYgRGlkQ2FwdHVyZSkge1xuICAgICAgICAgIC8vIFJlc3RhcnRpbmcgYW4gZXJyb3IgYm91bmRhcnlcbiAgICAgICAgICBzdG9wRmFpbGVkV29ya1RpbWVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdG9wV29ya1RpbWVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHtcbiAgICAgICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnJlc2V0Q3VycmVudEZpYmVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX25leHQgIT09IG51bGwpIHtcbiAgICAgICAgICBzdG9wV29ya1RpbWVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBpZiAodHJ1ZSAmJiBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sKSB7XG4gICAgICAgICAgICBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sLm9uQ29tcGxldGVXb3JrKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gSWYgY29tcGxldGluZyB0aGlzIHdvcmsgc3Bhd25lZCBuZXcgd29yaywgZG8gdGhhdCBuZXh0LiBXZSdsbCBjb21lXG4gICAgICAgICAgLy8gYmFjayBoZXJlIGFnYWluLlxuICAgICAgICAgIC8vIFNpbmNlIHdlJ3JlIHJlc3RhcnRpbmcsIHJlbW92ZSBhbnl0aGluZyB0aGF0IGlzIG5vdCBhIGhvc3QgZWZmZWN0XG4gICAgICAgICAgLy8gZnJvbSB0aGUgZWZmZWN0IHRhZy5cbiAgICAgICAgICBfbmV4dC5lZmZlY3RUYWcgJj0gSG9zdEVmZmVjdE1hc2s7XG4gICAgICAgICAgcmV0dXJuIF9uZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJldHVybkZpYmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gTWFyayB0aGUgcGFyZW50IGZpYmVyIGFzIGluY29tcGxldGUgYW5kIGNsZWFyIGl0cyBlZmZlY3QgbGlzdC5cbiAgICAgICAgICByZXR1cm5GaWJlci5maXJzdEVmZmVjdCA9IHJldHVybkZpYmVyLmxhc3RFZmZlY3QgPSBudWxsO1xuICAgICAgICAgIHJldHVybkZpYmVyLmVmZmVjdFRhZyB8PSBJbmNvbXBsZXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRydWUgJiYgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbCkge1xuICAgICAgICAgIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wub25Db21wbGV0ZVdvcmsod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNpYmxpbmdGaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIElmIHRoZXJlIGlzIG1vcmUgd29yayB0byBkbyBpbiB0aGlzIHJldHVybkZpYmVyLCBkbyB0aGF0IG5leHQuXG4gICAgICAgICAgcmV0dXJuIHNpYmxpbmdGaWJlcjtcbiAgICAgICAgfSBlbHNlIGlmIChyZXR1cm5GaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gbW9yZSB3b3JrIGluIHRoaXMgcmV0dXJuRmliZXIuIENvbXBsZXRlIHRoZSByZXR1cm5GaWJlci5cbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IHJldHVybkZpYmVyO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gV2l0aG91dCB0aGlzIGV4cGxpY2l0IG51bGwgcmV0dXJuIEZsb3cgY29tcGxhaW5zIG9mIGludmFsaWQgcmV0dXJuIHR5cGVcbiAgICAvLyBUT0RPIFJlbW92ZSB0aGUgYWJvdmUgd2hpbGUodHJ1ZSkgbG9vcFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnJlYWNoYWJsZVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVyZm9ybVVuaXRPZldvcmsod29ya0luUHJvZ3Jlc3MpIHtcbiAgICAvLyBUaGUgY3VycmVudCwgZmx1c2hlZCwgc3RhdGUgb2YgdGhpcyBmaWJlciBpcyB0aGUgYWx0ZXJuYXRlLlxuICAgIC8vIElkZWFsbHkgbm90aGluZyBzaG91bGQgcmVseSBvbiB0aGlzLCBidXQgcmVseWluZyBvbiBpdCBoZXJlXG4gICAgLy8gbWVhbnMgdGhhdCB3ZSBkb24ndCBuZWVkIGFuIGFkZGl0aW9uYWwgZmllbGQgb24gdGhlIHdvcmsgaW5cbiAgICAvLyBwcm9ncmVzcy5cbiAgICB2YXIgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZTtcblxuICAgIC8vIFNlZSBpZiBiZWdpbm5pbmcgdGhpcyB3b3JrIHNwYXducyBtb3JlIHdvcmsuXG4gICAgc3RhcnRXb3JrVGltZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgIHtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIuc2V0Q3VycmVudEZpYmVyKHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG5cbiAgICBpZiAodHJ1ZSAmJiByZXBsYXlGYWlsZWRVbml0T2ZXb3JrV2l0aEludm9rZUd1YXJkZWRDYWxsYmFjaykge1xuICAgICAgc3Rhc2hlZFdvcmtJblByb2dyZXNzUHJvcGVydGllcyA9IGFzc2lnbkZpYmVyUHJvcGVydGllc0luREVWKHN0YXNoZWRXb3JrSW5Qcm9ncmVzc1Byb3BlcnRpZXMsIHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG4gICAgdmFyIG5leHQgPSBiZWdpbldvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAge1xuICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5yZXNldEN1cnJlbnRGaWJlcigpO1xuICAgICAgaWYgKGlzUmVwbGF5aW5nRmFpbGVkVW5pdE9mV29yaykge1xuICAgICAgICAvLyBDdXJyZW50bHkgcmVwbGF5aW5nIGEgZmFpbGVkIHVuaXQgb2Ygd29yay4gVGhpcyBzaG91bGQgYmUgdW5yZWFjaGFibGUsXG4gICAgICAgIC8vIGJlY2F1c2UgdGhlIHJlbmRlciBwaGFzZSBpcyBtZWFudCB0byBiZSBpZGVtcG90ZW50LCBhbmQgaXQgc2hvdWxkXG4gICAgICAgIC8vIGhhdmUgdGhyb3duIGFnYWluLiBTaW5jZSBpdCBkaWRuJ3QsIHJldGhyb3cgdGhlIG9yaWdpbmFsIGVycm9yLCBzb1xuICAgICAgICAvLyBSZWFjdCdzIGludGVybmFsIHN0YWNrIGlzIG5vdCBtaXNhbGlnbmVkLlxuICAgICAgICByZXRocm93T3JpZ2luYWxFcnJvcigpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHJ1ZSAmJiBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sKSB7XG4gICAgICBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sLm9uQmVnaW5Xb3JrKHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG5cbiAgICBpZiAobmV4dCA9PT0gbnVsbCkge1xuICAgICAgLy8gSWYgdGhpcyBkb2Vzbid0IHNwYXduIG5ldyB3b3JrLCBjb21wbGV0ZSB0aGUgY3VycmVudCB3b3JrLlxuICAgICAgbmV4dCA9IGNvbXBsZXRlVW5pdE9mV29yayh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IG51bGw7XG5cbiAgICByZXR1cm4gbmV4dDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdvcmtMb29wKGlzQXN5bmMpIHtcbiAgICBpZiAoIWlzQXN5bmMpIHtcbiAgICAgIC8vIEZsdXNoIGFsbCBleHBpcmVkIHdvcmsuXG4gICAgICB3aGlsZSAobmV4dFVuaXRPZldvcmsgIT09IG51bGwpIHtcbiAgICAgICAgbmV4dFVuaXRPZldvcmsgPSBwZXJmb3JtVW5pdE9mV29yayhuZXh0VW5pdE9mV29yayk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZsdXNoIGFzeW5jaHJvbm91cyB3b3JrIHVudGlsIHRoZSBkZWFkbGluZSBydW5zIG91dCBvZiB0aW1lLlxuICAgICAgd2hpbGUgKG5leHRVbml0T2ZXb3JrICE9PSBudWxsICYmICFzaG91bGRZaWVsZCgpKSB7XG4gICAgICAgIG5leHRVbml0T2ZXb3JrID0gcGVyZm9ybVVuaXRPZldvcmsobmV4dFVuaXRPZldvcmspO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlclJvb3Qocm9vdCwgZXhwaXJhdGlvblRpbWUsIGlzQXN5bmMpIHtcbiAgICAhIWlzV29ya2luZyA/IGludmFyaWFudChmYWxzZSwgJ3JlbmRlclJvb3Qgd2FzIGNhbGxlZCByZWN1cnNpdmVseS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgICBpc1dvcmtpbmcgPSB0cnVlO1xuXG4gICAgLy8gQ2hlY2sgaWYgd2UncmUgc3RhcnRpbmcgZnJvbSBhIGZyZXNoIHN0YWNrLCBvciBpZiB3ZSdyZSByZXN1bWluZyBmcm9tXG4gICAgLy8gcHJldmlvdXNseSB5aWVsZGVkIHdvcmsuXG4gICAgaWYgKGV4cGlyYXRpb25UaW1lICE9PSBuZXh0UmVuZGVyRXhwaXJhdGlvblRpbWUgfHwgcm9vdCAhPT0gbmV4dFJvb3QgfHwgbmV4dFVuaXRPZldvcmsgPT09IG51bGwpIHtcbiAgICAgIC8vIFJlc2V0IHRoZSBzdGFjayBhbmQgc3RhcnQgd29ya2luZyBmcm9tIHRoZSByb290LlxuICAgICAgcmVzZXRTdGFjaygpO1xuICAgICAgbmV4dFJvb3QgPSByb290O1xuICAgICAgbmV4dFJlbmRlckV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gICAgICBuZXh0VW5pdE9mV29yayA9IGNyZWF0ZVdvcmtJblByb2dyZXNzKG5leHRSb290LmN1cnJlbnQsIG51bGwsIG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICByb290LnBlbmRpbmdDb21taXRFeHBpcmF0aW9uVGltZSA9IE5vV29yaztcbiAgICB9XG5cbiAgICB2YXIgZGlkRmF0YWwgPSBmYWxzZTtcblxuICAgIHN0YXJ0V29ya0xvb3BUaW1lcihuZXh0VW5pdE9mV29yayk7XG5cbiAgICBkbyB7XG4gICAgICB0cnkge1xuICAgICAgICB3b3JrTG9vcChpc0FzeW5jKTtcbiAgICAgIH0gY2F0Y2ggKHRocm93blZhbHVlKSB7XG4gICAgICAgIGlmIChuZXh0VW5pdE9mV29yayA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIFRoaXMgaXMgYSBmYXRhbCBlcnJvci5cbiAgICAgICAgICBkaWRGYXRhbCA9IHRydWU7XG4gICAgICAgICAgb25VbmNhdWdodEVycm9yKHRocm93blZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cnVlICYmIHJlcGxheUZhaWxlZFVuaXRPZldvcmtXaXRoSW52b2tlR3VhcmRlZENhbGxiYWNrKSB7XG4gICAgICAgICAgdmFyIGZhaWxlZFVuaXRPZldvcmsgPSBuZXh0VW5pdE9mV29yaztcbiAgICAgICAgICByZXBsYXlVbml0T2ZXb3JrKGZhaWxlZFVuaXRPZldvcmssIHRocm93blZhbHVlLCBpc0FzeW5jKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzb3VyY2VGaWJlciA9IG5leHRVbml0T2ZXb3JrO1xuICAgICAgICB2YXIgcmV0dXJuRmliZXIgPSBzb3VyY2VGaWJlclsncmV0dXJuJ107XG4gICAgICAgIGlmIChyZXR1cm5GaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIHJvb3QuIFRoZSByb290IGNvdWxkIGNhcHR1cmUgaXRzIG93biBlcnJvcnMuIEhvd2V2ZXIsXG4gICAgICAgICAgLy8gd2UgZG9uJ3Qga25vdyBpZiBpdCBlcnJvcnMgYmVmb3JlIG9yIGFmdGVyIHdlIHB1c2hlZCB0aGUgaG9zdFxuICAgICAgICAgIC8vIGNvbnRleHQuIFRoaXMgaW5mb3JtYXRpb24gaXMgbmVlZGVkIHRvIGF2b2lkIGEgc3RhY2sgbWlzbWF0Y2guXG4gICAgICAgICAgLy8gQmVjYXVzZSB3ZSdyZSBub3Qgc3VyZSwgdHJlYXQgdGhpcyBhcyBhIGZhdGFsIGVycm9yLiBXZSBjb3VsZCB0cmFja1xuICAgICAgICAgIC8vIHdoaWNoIHBoYXNlIGl0IGZhaWxzIGluLCBidXQgZG9lc24ndCBzZWVtIHdvcnRoIGl0LiBBdCBsZWFzdFxuICAgICAgICAgIC8vIGZvciBub3cuXG4gICAgICAgICAgZGlkRmF0YWwgPSB0cnVlO1xuICAgICAgICAgIG9uVW5jYXVnaHRFcnJvcih0aHJvd25WYWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3dFeGNlcHRpb24ocmV0dXJuRmliZXIsIHNvdXJjZUZpYmVyLCB0aHJvd25WYWx1ZSk7XG4gICAgICAgIG5leHRVbml0T2ZXb3JrID0gY29tcGxldGVVbml0T2ZXb3JrKHNvdXJjZUZpYmVyKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH0gd2hpbGUgKHRydWUpO1xuXG4gICAgLy8gV2UncmUgZG9uZSBwZXJmb3JtaW5nIHdvcmsuIFRpbWUgdG8gY2xlYW4gdXAuXG4gICAgdmFyIGRpZENvbXBsZXRlUm9vdCA9IGZhbHNlO1xuICAgIGlzV29ya2luZyA9IGZhbHNlO1xuXG4gICAgLy8gWWllbGQgYmFjayB0byBtYWluIHRocmVhZC5cbiAgICBpZiAoZGlkRmF0YWwpIHtcbiAgICAgIHN0b3BXb3JrTG9vcFRpbWVyKGludGVycnVwdGVkQnksIGRpZENvbXBsZXRlUm9vdCk7XG4gICAgICBpbnRlcnJ1cHRlZEJ5ID0gbnVsbDtcbiAgICAgIC8vIFRoZXJlIHdhcyBhIGZhdGFsIGVycm9yLlxuICAgICAge1xuICAgICAgICBzdGFjay5yZXNldFN0YWNrQWZ0ZXJGYXRhbEVycm9ySW5EZXYoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSBpZiAobmV4dFVuaXRPZldvcmsgPT09IG51bGwpIHtcbiAgICAgIC8vIFdlIHJlYWNoZWQgdGhlIHJvb3QuXG4gICAgICBpZiAoaXNSb290UmVhZHlGb3JDb21taXQpIHtcbiAgICAgICAgZGlkQ29tcGxldGVSb290ID0gdHJ1ZTtcbiAgICAgICAgc3RvcFdvcmtMb29wVGltZXIoaW50ZXJydXB0ZWRCeSwgZGlkQ29tcGxldGVSb290KTtcbiAgICAgICAgaW50ZXJydXB0ZWRCeSA9IG51bGw7XG4gICAgICAgIC8vIFRoZSByb290IHN1Y2Nlc3NmdWxseSBjb21wbGV0ZWQuIEl0J3MgcmVhZHkgZm9yIGNvbW1pdC5cbiAgICAgICAgcm9vdC5wZW5kaW5nQ29tbWl0RXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgICAgICAgdmFyIGZpbmlzaGVkV29yayA9IHJvb3QuY3VycmVudC5hbHRlcm5hdGU7XG4gICAgICAgIHJldHVybiBmaW5pc2hlZFdvcms7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUaGUgcm9vdCBkaWQgbm90IGNvbXBsZXRlLlxuICAgICAgICBzdG9wV29ya0xvb3BUaW1lcihpbnRlcnJ1cHRlZEJ5LCBkaWRDb21wbGV0ZVJvb3QpO1xuICAgICAgICBpbnRlcnJ1cHRlZEJ5ID0gbnVsbDtcbiAgICAgICAgaW52YXJpYW50KGZhbHNlLCAnRXhwaXJlZCB3b3JrIHNob3VsZCBoYXZlIGNvbXBsZXRlZC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3RvcFdvcmtMb29wVGltZXIoaW50ZXJydXB0ZWRCeSwgZGlkQ29tcGxldGVSb290KTtcbiAgICAgIGludGVycnVwdGVkQnkgPSBudWxsO1xuICAgICAgLy8gVGhlcmUncyBtb3JlIHdvcmsgdG8gZG8sIGJ1dCB3ZSByYW4gb3V0IG9mIHRpbWUuIFlpZWxkIGJhY2sgdG9cbiAgICAgIC8vIHRoZSByZW5kZXJlci5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNjaGVkdWxlQ2FwdHVyZShzb3VyY2VGaWJlciwgYm91bmRhcnlGaWJlciwgdmFsdWUsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgLy8gVE9ETzogV2Ugb25seSBzdXBwb3J0IGRpc3BhdGNoaW5nIGVycm9ycy5cbiAgICB2YXIgY2FwdHVyZWRWYWx1ZSA9IGNyZWF0ZUNhcHR1cmVkVmFsdWUodmFsdWUsIHNvdXJjZUZpYmVyKTtcbiAgICB2YXIgdXBkYXRlID0ge1xuICAgICAgZXhwaXJhdGlvblRpbWU6IGV4cGlyYXRpb25UaW1lLFxuICAgICAgcGFydGlhbFN0YXRlOiBudWxsLFxuICAgICAgY2FsbGJhY2s6IG51bGwsXG4gICAgICBpc1JlcGxhY2U6IGZhbHNlLFxuICAgICAgaXNGb3JjZWQ6IGZhbHNlLFxuICAgICAgY2FwdHVyZWRWYWx1ZTogY2FwdHVyZWRWYWx1ZSxcbiAgICAgIG5leHQ6IG51bGxcbiAgICB9O1xuICAgIGluc2VydFVwZGF0ZUludG9GaWJlcihib3VuZGFyeUZpYmVyLCB1cGRhdGUpO1xuICAgIHNjaGVkdWxlV29yayhib3VuZGFyeUZpYmVyLCBleHBpcmF0aW9uVGltZSk7XG4gIH1cblxuICBmdW5jdGlvbiBkaXNwYXRjaChzb3VyY2VGaWJlciwgdmFsdWUsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgISghaXNXb3JraW5nIHx8IGlzQ29tbWl0dGluZykgPyBpbnZhcmlhbnQoZmFsc2UsICdkaXNwYXRjaDogQ2Fubm90IGRpc3BhdGNoIGR1cmluZyB0aGUgcmVuZGVyIHBoYXNlLicpIDogdm9pZCAwO1xuXG4gICAgLy8gVE9ETzogSGFuZGxlIGFycmF5c1xuXG4gICAgdmFyIGZpYmVyID0gc291cmNlRmliZXJbJ3JldHVybiddO1xuICAgIHdoaWxlIChmaWJlciAhPT0gbnVsbCkge1xuICAgICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAgICB2YXIgY3RvciA9IGZpYmVyLnR5cGU7XG4gICAgICAgICAgdmFyIGluc3RhbmNlID0gZmliZXIuc3RhdGVOb2RlO1xuICAgICAgICAgIGlmICh0eXBlb2YgY3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZENhdGNoID09PSAnZnVuY3Rpb24nICYmICFpc0FscmVhZHlGYWlsZWRMZWdhY3lFcnJvckJvdW5kYXJ5KGluc3RhbmNlKSkge1xuICAgICAgICAgICAgc2NoZWR1bGVDYXB0dXJlKHNvdXJjZUZpYmVyLCBmaWJlciwgdmFsdWUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vIFRPRE86IEhhbmRsZSBhc3luYyBib3VuZGFyaWVzXG4gICAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgICAgc2NoZWR1bGVDYXB0dXJlKHNvdXJjZUZpYmVyLCBmaWJlciwgdmFsdWUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmaWJlciA9IGZpYmVyWydyZXR1cm4nXTtcbiAgICB9XG5cbiAgICBpZiAoc291cmNlRmliZXIudGFnID09PSBIb3N0Um9vdCkge1xuICAgICAgLy8gRXJyb3Igd2FzIHRocm93biBhdCB0aGUgcm9vdC4gVGhlcmUgaXMgbm8gcGFyZW50LCBzbyB0aGUgcm9vdFxuICAgICAgLy8gaXRzZWxmIHNob3VsZCBjYXB0dXJlIGl0LlxuICAgICAgc2NoZWR1bGVDYXB0dXJlKHNvdXJjZUZpYmVyLCBzb3VyY2VGaWJlciwgdmFsdWUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkNvbW1pdFBoYXNlRXJyb3IoZmliZXIsIGVycm9yKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoKGZpYmVyLCBlcnJvciwgU3luYyk7XG4gIH1cblxuICBmdW5jdGlvbiBjb21wdXRlQXN5bmNFeHBpcmF0aW9uKGN1cnJlbnRUaW1lKSB7XG4gICAgLy8gR2l2ZW4gdGhlIGN1cnJlbnQgY2xvY2sgdGltZSwgcmV0dXJucyBhbiBleHBpcmF0aW9uIHRpbWUuIFdlIHVzZSByb3VuZGluZ1xuICAgIC8vIHRvIGJhdGNoIGxpa2UgdXBkYXRlcyB0b2dldGhlci5cbiAgICAvLyBTaG91bGQgY29tcGxldGUgd2l0aGluIH4xMDAwbXMuIDEyMDBtcyBtYXguXG4gICAgdmFyIGV4cGlyYXRpb25NcyA9IDUwMDA7XG4gICAgdmFyIGJ1Y2tldFNpemVNcyA9IDI1MDtcbiAgICByZXR1cm4gY29tcHV0ZUV4cGlyYXRpb25CdWNrZXQoY3VycmVudFRpbWUsIGV4cGlyYXRpb25NcywgYnVja2V0U2l6ZU1zKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXB1dGVJbnRlcmFjdGl2ZUV4cGlyYXRpb24oY3VycmVudFRpbWUpIHtcbiAgICAvLyBTaG91bGQgY29tcGxldGUgd2l0aGluIH41MDBtcy4gNjAwbXMgbWF4LlxuICAgIHZhciBleHBpcmF0aW9uTXMgPSA1MDA7XG4gICAgdmFyIGJ1Y2tldFNpemVNcyA9IDEwMDtcbiAgICByZXR1cm4gY29tcHV0ZUV4cGlyYXRpb25CdWNrZXQoY3VycmVudFRpbWUsIGV4cGlyYXRpb25NcywgYnVja2V0U2l6ZU1zKTtcbiAgfVxuXG4gIC8vIENyZWF0ZXMgYSB1bmlxdWUgYXN5bmMgZXhwaXJhdGlvbiB0aW1lLlxuICBmdW5jdGlvbiBjb21wdXRlVW5pcXVlQXN5bmNFeHBpcmF0aW9uKCkge1xuICAgIHZhciBjdXJyZW50VGltZSA9IHJlY2FsY3VsYXRlQ3VycmVudFRpbWUoKTtcbiAgICB2YXIgcmVzdWx0ID0gY29tcHV0ZUFzeW5jRXhwaXJhdGlvbihjdXJyZW50VGltZSk7XG4gICAgaWYgKHJlc3VsdCA8PSBsYXN0VW5pcXVlQXN5bmNFeHBpcmF0aW9uKSB7XG4gICAgICAvLyBTaW5jZSB3ZSBhc3N1bWUgdGhlIGN1cnJlbnQgdGltZSBtb25vdG9uaWNhbGx5IGluY3JlYXNlcywgd2Ugb25seSBoaXRcbiAgICAgIC8vIHRoaXMgYnJhbmNoIHdoZW4gY29tcHV0ZVVuaXF1ZUFzeW5jRXhwaXJhdGlvbiBpcyBmaXJlZCBtdWx0aXBsZSB0aW1lc1xuICAgICAgLy8gd2l0aGluIGEgMjAwbXMgd2luZG93IChvciB3aGF0ZXZlciB0aGUgYXN5bmMgYnVja2V0IHNpemUgaXMpLlxuICAgICAgcmVzdWx0ID0gbGFzdFVuaXF1ZUFzeW5jRXhwaXJhdGlvbiArIDE7XG4gICAgfVxuICAgIGxhc3RVbmlxdWVBc3luY0V4cGlyYXRpb24gPSByZXN1bHQ7XG4gICAgcmV0dXJuIGxhc3RVbmlxdWVBc3luY0V4cGlyYXRpb247XG4gIH1cblxuICBmdW5jdGlvbiBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyKGZpYmVyKSB7XG4gICAgdmFyIGV4cGlyYXRpb25UaW1lID0gdm9pZCAwO1xuICAgIGlmIChleHBpcmF0aW9uQ29udGV4dCAhPT0gTm9Xb3JrKSB7XG4gICAgICAvLyBBbiBleHBsaWNpdCBleHBpcmF0aW9uIGNvbnRleHQgd2FzIHNldDtcbiAgICAgIGV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvbkNvbnRleHQ7XG4gICAgfSBlbHNlIGlmIChpc1dvcmtpbmcpIHtcbiAgICAgIGlmIChpc0NvbW1pdHRpbmcpIHtcbiAgICAgICAgLy8gVXBkYXRlcyB0aGF0IG9jY3VyIGR1cmluZyB0aGUgY29tbWl0IHBoYXNlIHNob3VsZCBoYXZlIHN5bmMgcHJpb3JpdHlcbiAgICAgICAgLy8gYnkgZGVmYXVsdC5cbiAgICAgICAgZXhwaXJhdGlvblRpbWUgPSBTeW5jO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVXBkYXRlcyBkdXJpbmcgdGhlIHJlbmRlciBwaGFzZSBzaG91bGQgZXhwaXJlIGF0IHRoZSBzYW1lIHRpbWUgYXNcbiAgICAgICAgLy8gdGhlIHdvcmsgdGhhdCBpcyBiZWluZyByZW5kZXJlZC5cbiAgICAgICAgZXhwaXJhdGlvblRpbWUgPSBuZXh0UmVuZGVyRXhwaXJhdGlvblRpbWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vIGV4cGxpY2l0IGV4cGlyYXRpb24gY29udGV4dCB3YXMgc2V0LCBhbmQgd2UncmUgbm90IGN1cnJlbnRseVxuICAgICAgLy8gcGVyZm9ybWluZyB3b3JrLiBDYWxjdWxhdGUgYSBuZXcgZXhwaXJhdGlvbiB0aW1lLlxuICAgICAgaWYgKGZpYmVyLm1vZGUgJiBBc3luY01vZGUpIHtcbiAgICAgICAgaWYgKGlzQmF0Y2hpbmdJbnRlcmFjdGl2ZVVwZGF0ZXMpIHtcbiAgICAgICAgICAvLyBUaGlzIGlzIGFuIGludGVyYWN0aXZlIHVwZGF0ZVxuICAgICAgICAgIHZhciBjdXJyZW50VGltZSA9IHJlY2FsY3VsYXRlQ3VycmVudFRpbWUoKTtcbiAgICAgICAgICBleHBpcmF0aW9uVGltZSA9IGNvbXB1dGVJbnRlcmFjdGl2ZUV4cGlyYXRpb24oY3VycmVudFRpbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFRoaXMgaXMgYW4gYXN5bmMgdXBkYXRlXG4gICAgICAgICAgdmFyIF9jdXJyZW50VGltZSA9IHJlY2FsY3VsYXRlQ3VycmVudFRpbWUoKTtcbiAgICAgICAgICBleHBpcmF0aW9uVGltZSA9IGNvbXB1dGVBc3luY0V4cGlyYXRpb24oX2N1cnJlbnRUaW1lKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIHN5bmMgdXBkYXRlXG4gICAgICAgIGV4cGlyYXRpb25UaW1lID0gU3luYztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzQmF0Y2hpbmdJbnRlcmFjdGl2ZVVwZGF0ZXMpIHtcbiAgICAgIC8vIFRoaXMgaXMgYW4gaW50ZXJhY3RpdmUgdXBkYXRlLiBLZWVwIHRyYWNrIG9mIHRoZSBsb3dlc3QgcGVuZGluZ1xuICAgICAgLy8gaW50ZXJhY3RpdmUgZXhwaXJhdGlvbiB0aW1lLiBUaGlzIGFsbG93cyB1cyB0byBzeW5jaHJvbm91c2x5IGZsdXNoXG4gICAgICAvLyBhbGwgaW50ZXJhY3RpdmUgdXBkYXRlcyB3aGVuIG5lZWRlZC5cbiAgICAgIGlmIChsb3dlc3RQZW5kaW5nSW50ZXJhY3RpdmVFeHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8IGV4cGlyYXRpb25UaW1lID4gbG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWUpIHtcbiAgICAgICAgbG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGV4cGlyYXRpb25UaW1lO1xuICB9XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGVXb3JrKGZpYmVyLCBleHBpcmF0aW9uVGltZSkge1xuICAgIHJldHVybiBzY2hlZHVsZVdvcmtJbXBsKGZpYmVyLCBleHBpcmF0aW9uVGltZSwgZmFsc2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGVXb3JrSW1wbChmaWJlciwgZXhwaXJhdGlvblRpbWUsIGlzRXJyb3JSZWNvdmVyeSkge1xuICAgIHJlY29yZFNjaGVkdWxlVXBkYXRlKCk7XG5cbiAgICB7XG4gICAgICBpZiAoIWlzRXJyb3JSZWNvdmVyeSAmJiBmaWJlci50YWcgPT09IENsYXNzQ29tcG9uZW50KSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IGZpYmVyLnN0YXRlTm9kZTtcbiAgICAgICAgd2FybkFib3V0SW52YWxpZFVwZGF0ZXMoaW5zdGFuY2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBub2RlID0gZmliZXI7XG4gICAgd2hpbGUgKG5vZGUgIT09IG51bGwpIHtcbiAgICAgIC8vIFdhbGsgdGhlIHBhcmVudCBwYXRoIHRvIHRoZSByb290IGFuZCB1cGRhdGUgZWFjaCBub2RlJ3NcbiAgICAgIC8vIGV4cGlyYXRpb24gdGltZS5cbiAgICAgIGlmIChub2RlLmV4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHwgbm9kZS5leHBpcmF0aW9uVGltZSA+IGV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgIG5vZGUuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLmFsdGVybmF0ZSAhPT0gbnVsbCkge1xuICAgICAgICBpZiAobm9kZS5hbHRlcm5hdGUuZXhwaXJhdGlvblRpbWUgPT09IE5vV29yayB8fCBub2RlLmFsdGVybmF0ZS5leHBpcmF0aW9uVGltZSA+IGV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgICAgbm9kZS5hbHRlcm5hdGUuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG5vZGVbJ3JldHVybiddID09PSBudWxsKSB7XG4gICAgICAgIGlmIChub2RlLnRhZyA9PT0gSG9zdFJvb3QpIHtcbiAgICAgICAgICB2YXIgcm9vdCA9IG5vZGUuc3RhdGVOb2RlO1xuICAgICAgICAgIGlmICghaXNXb3JraW5nICYmIG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSAhPT0gTm9Xb3JrICYmIGV4cGlyYXRpb25UaW1lIDwgbmV4dFJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIGFuIGludGVycnVwdGlvbi4gKFVzZWQgZm9yIHBlcmZvcm1hbmNlIHRyYWNraW5nLilcbiAgICAgICAgICAgIGludGVycnVwdGVkQnkgPSBmaWJlcjtcbiAgICAgICAgICAgIHJlc2V0U3RhY2soKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgIC8vIElmIHdlJ3JlIGluIHRoZSByZW5kZXIgcGhhc2UsIHdlIGRvbid0IG5lZWQgdG8gc2NoZWR1bGUgdGhpcyByb290XG4gICAgICAgICAgLy8gZm9yIGFuIHVwZGF0ZSwgYmVjYXVzZSB3ZSdsbCBkbyBpdCBiZWZvcmUgd2UgZXhpdC4uLlxuICAgICAgICAgICFpc1dvcmtpbmcgfHwgaXNDb21taXR0aW5nIHx8XG4gICAgICAgICAgLy8gLi4udW5sZXNzIHRoaXMgaXMgYSBkaWZmZXJlbnQgcm9vdCB0aGFuIHRoZSBvbmUgd2UncmUgcmVuZGVyaW5nLlxuICAgICAgICAgIG5leHRSb290ICE9PSByb290KSB7XG4gICAgICAgICAgICAvLyBBZGQgdGhpcyByb290IHRvIHRoZSByb290IHNjaGVkdWxlLlxuICAgICAgICAgICAgcmVxdWVzdFdvcmsocm9vdCwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobmVzdGVkVXBkYXRlQ291bnQgPiBORVNURURfVVBEQVRFX0xJTUlUKSB7XG4gICAgICAgICAgICBpbnZhcmlhbnQoZmFsc2UsICdNYXhpbXVtIHVwZGF0ZSBkZXB0aCBleGNlZWRlZC4gVGhpcyBjYW4gaGFwcGVuIHdoZW4gYSBjb21wb25lbnQgcmVwZWF0ZWRseSBjYWxscyBzZXRTdGF0ZSBpbnNpZGUgY29tcG9uZW50V2lsbFVwZGF0ZSBvciBjb21wb25lbnREaWRVcGRhdGUuIFJlYWN0IGxpbWl0cyB0aGUgbnVtYmVyIG9mIG5lc3RlZCB1cGRhdGVzIHRvIHByZXZlbnQgaW5maW5pdGUgbG9vcHMuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmICghaXNFcnJvclJlY292ZXJ5ICYmIGZpYmVyLnRhZyA9PT0gQ2xhc3NDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgd2FybkFib3V0VXBkYXRlT25Vbm1vdW50ZWQoZmliZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5vZGUgPSBub2RlWydyZXR1cm4nXTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWNhbGN1bGF0ZUN1cnJlbnRUaW1lKCkge1xuICAgIC8vIFN1YnRyYWN0IGluaXRpYWwgdGltZSBzbyBpdCBmaXRzIGluc2lkZSAzMmJpdHNcbiAgICBtb3N0UmVjZW50Q3VycmVudFRpbWVNcyA9IG5vdygpIC0gb3JpZ2luYWxTdGFydFRpbWVNcztcbiAgICBtb3N0UmVjZW50Q3VycmVudFRpbWUgPSBtc1RvRXhwaXJhdGlvblRpbWUobW9zdFJlY2VudEN1cnJlbnRUaW1lTXMpO1xuICAgIHJldHVybiBtb3N0UmVjZW50Q3VycmVudFRpbWU7XG4gIH1cblxuICBmdW5jdGlvbiBkZWZlcnJlZFVwZGF0ZXMoZm4pIHtcbiAgICB2YXIgcHJldmlvdXNFeHBpcmF0aW9uQ29udGV4dCA9IGV4cGlyYXRpb25Db250ZXh0O1xuICAgIHZhciBjdXJyZW50VGltZSA9IHJlY2FsY3VsYXRlQ3VycmVudFRpbWUoKTtcbiAgICBleHBpcmF0aW9uQ29udGV4dCA9IGNvbXB1dGVBc3luY0V4cGlyYXRpb24oY3VycmVudFRpbWUpO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZm4oKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgZXhwaXJhdGlvbkNvbnRleHQgPSBwcmV2aW91c0V4cGlyYXRpb25Db250ZXh0O1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBzeW5jVXBkYXRlcyhmbiwgYSwgYiwgYywgZCkge1xuICAgIHZhciBwcmV2aW91c0V4cGlyYXRpb25Db250ZXh0ID0gZXhwaXJhdGlvbkNvbnRleHQ7XG4gICAgZXhwaXJhdGlvbkNvbnRleHQgPSBTeW5jO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZm4oYSwgYiwgYywgZCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGV4cGlyYXRpb25Db250ZXh0ID0gcHJldmlvdXNFeHBpcmF0aW9uQ29udGV4dDtcbiAgICB9XG4gIH1cblxuICAvLyBUT0RPOiBFdmVyeXRoaW5nIGJlbG93IHRoaXMgaXMgd3JpdHRlbiBhcyBpZiBpdCBoYXMgYmVlbiBsaWZ0ZWQgdG8gdGhlXG4gIC8vIHJlbmRlcmVycy4gSSdsbCBkbyB0aGlzIGluIGEgZm9sbG93LXVwLlxuXG4gIC8vIExpbmtlZC1saXN0IG9mIHJvb3RzXG4gIHZhciBmaXJzdFNjaGVkdWxlZFJvb3QgPSBudWxsO1xuICB2YXIgbGFzdFNjaGVkdWxlZFJvb3QgPSBudWxsO1xuXG4gIHZhciBjYWxsYmFja0V4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICB2YXIgY2FsbGJhY2tJRCA9IC0xO1xuICB2YXIgaXNSZW5kZXJpbmcgPSBmYWxzZTtcbiAgdmFyIG5leHRGbHVzaGVkUm9vdCA9IG51bGw7XG4gIHZhciBuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICB2YXIgbG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG4gIHZhciBkZWFkbGluZURpZEV4cGlyZSA9IGZhbHNlO1xuICB2YXIgaGFzVW5oYW5kbGVkRXJyb3IgPSBmYWxzZTtcbiAgdmFyIHVuaGFuZGxlZEVycm9yID0gbnVsbDtcbiAgdmFyIGRlYWRsaW5lID0gbnVsbDtcblxuICB2YXIgaXNCYXRjaGluZ1VwZGF0ZXMgPSBmYWxzZTtcbiAgdmFyIGlzVW5iYXRjaGluZ1VwZGF0ZXMgPSBmYWxzZTtcbiAgdmFyIGlzQmF0Y2hpbmdJbnRlcmFjdGl2ZVVwZGF0ZXMgPSBmYWxzZTtcblxuICB2YXIgY29tcGxldGVkQmF0Y2hlcyA9IG51bGw7XG5cbiAgLy8gVXNlIHRoZXNlIHRvIHByZXZlbnQgYW4gaW5maW5pdGUgbG9vcCBvZiBuZXN0ZWQgdXBkYXRlc1xuICB2YXIgTkVTVEVEX1VQREFURV9MSU1JVCA9IDEwMDA7XG4gIHZhciBuZXN0ZWRVcGRhdGVDb3VudCA9IDA7XG5cbiAgdmFyIHRpbWVIZXVyaXN0aWNGb3JVbml0T2ZXb3JrID0gMTtcblxuICBmdW5jdGlvbiBzY2hlZHVsZUNhbGxiYWNrV2l0aEV4cGlyYXRpb24oZXhwaXJhdGlvblRpbWUpIHtcbiAgICBpZiAoY2FsbGJhY2tFeHBpcmF0aW9uVGltZSAhPT0gTm9Xb3JrKSB7XG4gICAgICAvLyBBIGNhbGxiYWNrIGlzIGFscmVhZHkgc2NoZWR1bGVkLiBDaGVjayBpdHMgZXhwaXJhdGlvbiB0aW1lICh0aW1lb3V0KS5cbiAgICAgIGlmIChleHBpcmF0aW9uVGltZSA+IGNhbGxiYWNrRXhwaXJhdGlvblRpbWUpIHtcbiAgICAgICAgLy8gRXhpc3RpbmcgY2FsbGJhY2sgaGFzIHN1ZmZpY2llbnQgdGltZW91dC4gRXhpdC5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRXhpc3RpbmcgY2FsbGJhY2sgaGFzIGluc3VmZmljaWVudCB0aW1lb3V0LiBDYW5jZWwgYW5kIHNjaGVkdWxlIGFcbiAgICAgICAgLy8gbmV3IG9uZS5cbiAgICAgICAgY2FuY2VsRGVmZXJyZWRDYWxsYmFjayhjYWxsYmFja0lEKTtcbiAgICAgIH1cbiAgICAgIC8vIFRoZSByZXF1ZXN0IGNhbGxiYWNrIHRpbWVyIGlzIGFscmVhZHkgcnVubmluZy4gRG9uJ3Qgc3RhcnQgYSBuZXcgb25lLlxuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydFJlcXVlc3RDYWxsYmFja1RpbWVyKCk7XG4gICAgfVxuXG4gICAgLy8gQ29tcHV0ZSBhIHRpbWVvdXQgZm9yIHRoZSBnaXZlbiBleHBpcmF0aW9uIHRpbWUuXG4gICAgdmFyIGN1cnJlbnRNcyA9IG5vdygpIC0gb3JpZ2luYWxTdGFydFRpbWVNcztcbiAgICB2YXIgZXhwaXJhdGlvbk1zID0gZXhwaXJhdGlvblRpbWVUb01zKGV4cGlyYXRpb25UaW1lKTtcbiAgICB2YXIgdGltZW91dCA9IGV4cGlyYXRpb25NcyAtIGN1cnJlbnRNcztcblxuICAgIGNhbGxiYWNrRXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgICBjYWxsYmFja0lEID0gc2NoZWR1bGVEZWZlcnJlZENhbGxiYWNrKHBlcmZvcm1Bc3luY1dvcmssIHsgdGltZW91dDogdGltZW91dCB9KTtcbiAgfVxuXG4gIC8vIHJlcXVlc3RXb3JrIGlzIGNhbGxlZCBieSB0aGUgc2NoZWR1bGVyIHdoZW5ldmVyIGEgcm9vdCByZWNlaXZlcyBhbiB1cGRhdGUuXG4gIC8vIEl0J3MgdXAgdG8gdGhlIHJlbmRlcmVyIHRvIGNhbGwgcmVuZGVyUm9vdCBhdCBzb21lIHBvaW50IGluIHRoZSBmdXR1cmUuXG4gIGZ1bmN0aW9uIHJlcXVlc3RXb3JrKHJvb3QsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgYWRkUm9vdFRvU2NoZWR1bGUocm9vdCwgZXhwaXJhdGlvblRpbWUpO1xuXG4gICAgaWYgKGlzUmVuZGVyaW5nKSB7XG4gICAgICAvLyBQcmV2ZW50IHJlZW50cmFuY3kuIFJlbWFpbmluZyB3b3JrIHdpbGwgYmUgc2NoZWR1bGVkIGF0IHRoZSBlbmQgb2ZcbiAgICAgIC8vIHRoZSBjdXJyZW50bHkgcmVuZGVyaW5nIGJhdGNoLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpc0JhdGNoaW5nVXBkYXRlcykge1xuICAgICAgLy8gRmx1c2ggd29yayBhdCB0aGUgZW5kIG9mIHRoZSBiYXRjaC5cbiAgICAgIGlmIChpc1VuYmF0Y2hpbmdVcGRhdGVzKSB7XG4gICAgICAgIC8vIC4uLnVubGVzcyB3ZSdyZSBpbnNpZGUgdW5iYXRjaGVkVXBkYXRlcywgaW4gd2hpY2ggY2FzZSB3ZSBzaG91bGRcbiAgICAgICAgLy8gZmx1c2ggaXQgbm93LlxuICAgICAgICBuZXh0Rmx1c2hlZFJvb3QgPSByb290O1xuICAgICAgICBuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lID0gU3luYztcbiAgICAgICAgcGVyZm9ybVdvcmtPblJvb3Qocm9vdCwgU3luYywgZmFsc2UpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFRPRE86IEdldCByaWQgb2YgU3luYyBhbmQgdXNlIGN1cnJlbnQgdGltZT9cbiAgICBpZiAoZXhwaXJhdGlvblRpbWUgPT09IFN5bmMpIHtcbiAgICAgIHBlcmZvcm1TeW5jV29yaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY2hlZHVsZUNhbGxiYWNrV2l0aEV4cGlyYXRpb24oZXhwaXJhdGlvblRpbWUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFJvb3RUb1NjaGVkdWxlKHJvb3QsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgLy8gQWRkIHRoZSByb290IHRvIHRoZSBzY2hlZHVsZS5cbiAgICAvLyBDaGVjayBpZiB0aGlzIHJvb3QgaXMgYWxyZWFkeSBwYXJ0IG9mIHRoZSBzY2hlZHVsZS5cbiAgICBpZiAocm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9PT0gbnVsbCkge1xuICAgICAgLy8gVGhpcyByb290IGlzIG5vdCBhbHJlYWR5IHNjaGVkdWxlZC4gQWRkIGl0LlxuICAgICAgcm9vdC5yZW1haW5pbmdFeHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICAgICAgaWYgKGxhc3RTY2hlZHVsZWRSb290ID09PSBudWxsKSB7XG4gICAgICAgIGZpcnN0U2NoZWR1bGVkUm9vdCA9IGxhc3RTY2hlZHVsZWRSb290ID0gcm9vdDtcbiAgICAgICAgcm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9IHJvb3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsYXN0U2NoZWR1bGVkUm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9IHJvb3Q7XG4gICAgICAgIGxhc3RTY2hlZHVsZWRSb290ID0gcm9vdDtcbiAgICAgICAgbGFzdFNjaGVkdWxlZFJvb3QubmV4dFNjaGVkdWxlZFJvb3QgPSBmaXJzdFNjaGVkdWxlZFJvb3Q7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoaXMgcm9vdCBpcyBhbHJlYWR5IHNjaGVkdWxlZCwgYnV0IGl0cyBwcmlvcml0eSBtYXkgaGF2ZSBpbmNyZWFzZWQuXG4gICAgICB2YXIgcmVtYWluaW5nRXhwaXJhdGlvblRpbWUgPSByb290LnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lO1xuICAgICAgaWYgKHJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHwgZXhwaXJhdGlvblRpbWUgPCByZW1haW5pbmdFeHBpcmF0aW9uVGltZSkge1xuICAgICAgICAvLyBVcGRhdGUgdGhlIHByaW9yaXR5LlxuICAgICAgICByb290LnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmluZEhpZ2hlc3RQcmlvcml0eVJvb3QoKSB7XG4gICAgdmFyIGhpZ2hlc3RQcmlvcml0eVdvcmsgPSBOb1dvcms7XG4gICAgdmFyIGhpZ2hlc3RQcmlvcml0eVJvb3QgPSBudWxsO1xuICAgIGlmIChsYXN0U2NoZWR1bGVkUm9vdCAhPT0gbnVsbCkge1xuICAgICAgdmFyIHByZXZpb3VzU2NoZWR1bGVkUm9vdCA9IGxhc3RTY2hlZHVsZWRSb290O1xuICAgICAgdmFyIHJvb3QgPSBmaXJzdFNjaGVkdWxlZFJvb3Q7XG4gICAgICB3aGlsZSAocm9vdCAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgcmVtYWluaW5nRXhwaXJhdGlvblRpbWUgPSByb290LnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lO1xuICAgICAgICBpZiAocmVtYWluaW5nRXhwaXJhdGlvblRpbWUgPT09IE5vV29yaykge1xuICAgICAgICAgIC8vIFRoaXMgcm9vdCBubyBsb25nZXIgaGFzIHdvcmsuIFJlbW92ZSBpdCBmcm9tIHRoZSBzY2hlZHVsZXIuXG5cbiAgICAgICAgICAvLyBUT0RPOiBUaGlzIGNoZWNrIGlzIHJlZHVkYW50LCBidXQgRmxvdyBpcyBjb25mdXNlZCBieSB0aGUgYnJhbmNoXG4gICAgICAgICAgLy8gYmVsb3cgd2hlcmUgd2Ugc2V0IGxhc3RTY2hlZHVsZWRSb290IHRvIG51bGwsIGV2ZW4gdGhvdWdoIHdlIGJyZWFrXG4gICAgICAgICAgLy8gZnJvbSB0aGUgbG9vcCByaWdodCBhZnRlci5cbiAgICAgICAgICAhKHByZXZpb3VzU2NoZWR1bGVkUm9vdCAhPT0gbnVsbCAmJiBsYXN0U2NoZWR1bGVkUm9vdCAhPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdTaG91bGQgaGF2ZSBhIHByZXZpb3VzIGFuZCBsYXN0IHJvb3QuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gICAgICAgICAgaWYgKHJvb3QgPT09IHJvb3QubmV4dFNjaGVkdWxlZFJvb3QpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIG9ubHkgcm9vdCBpbiB0aGUgbGlzdC5cbiAgICAgICAgICAgIHJvb3QubmV4dFNjaGVkdWxlZFJvb3QgPSBudWxsO1xuICAgICAgICAgICAgZmlyc3RTY2hlZHVsZWRSb290ID0gbGFzdFNjaGVkdWxlZFJvb3QgPSBudWxsO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlIGlmIChyb290ID09PSBmaXJzdFNjaGVkdWxlZFJvb3QpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGZpcnN0IHJvb3QgaW4gdGhlIGxpc3QuXG4gICAgICAgICAgICB2YXIgbmV4dCA9IHJvb3QubmV4dFNjaGVkdWxlZFJvb3Q7XG4gICAgICAgICAgICBmaXJzdFNjaGVkdWxlZFJvb3QgPSBuZXh0O1xuICAgICAgICAgICAgbGFzdFNjaGVkdWxlZFJvb3QubmV4dFNjaGVkdWxlZFJvb3QgPSBuZXh0O1xuICAgICAgICAgICAgcm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9IG51bGw7XG4gICAgICAgICAgfSBlbHNlIGlmIChyb290ID09PSBsYXN0U2NoZWR1bGVkUm9vdCkge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgbGFzdCByb290IGluIHRoZSBsaXN0LlxuICAgICAgICAgICAgbGFzdFNjaGVkdWxlZFJvb3QgPSBwcmV2aW91c1NjaGVkdWxlZFJvb3Q7XG4gICAgICAgICAgICBsYXN0U2NoZWR1bGVkUm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9IGZpcnN0U2NoZWR1bGVkUm9vdDtcbiAgICAgICAgICAgIHJvb3QubmV4dFNjaGVkdWxlZFJvb3QgPSBudWxsO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByZXZpb3VzU2NoZWR1bGVkUm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9IHJvb3QubmV4dFNjaGVkdWxlZFJvb3Q7XG4gICAgICAgICAgICByb290Lm5leHRTY2hlZHVsZWRSb290ID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcm9vdCA9IHByZXZpb3VzU2NoZWR1bGVkUm9vdC5uZXh0U2NoZWR1bGVkUm9vdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoaGlnaGVzdFByaW9yaXR5V29yayA9PT0gTm9Xb3JrIHx8IHJlbWFpbmluZ0V4cGlyYXRpb25UaW1lIDwgaGlnaGVzdFByaW9yaXR5V29yaykge1xuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBwcmlvcml0eSwgaWYgaXQncyBoaWdoZXJcbiAgICAgICAgICAgIGhpZ2hlc3RQcmlvcml0eVdvcmsgPSByZW1haW5pbmdFeHBpcmF0aW9uVGltZTtcbiAgICAgICAgICAgIGhpZ2hlc3RQcmlvcml0eVJvb3QgPSByb290O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocm9vdCA9PT0gbGFzdFNjaGVkdWxlZFJvb3QpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcmV2aW91c1NjaGVkdWxlZFJvb3QgPSByb290O1xuICAgICAgICAgIHJvb3QgPSByb290Lm5leHRTY2hlZHVsZWRSb290O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIG5leHQgcm9vdCBpcyB0aGUgc2FtZSBhcyB0aGUgcHJldmlvdXMgcm9vdCwgdGhpcyBpcyBhIG5lc3RlZFxuICAgIC8vIHVwZGF0ZS4gVG8gcHJldmVudCBhbiBpbmZpbml0ZSBsb29wLCBpbmNyZW1lbnQgdGhlIG5lc3RlZCB1cGRhdGUgY291bnQuXG4gICAgdmFyIHByZXZpb3VzRmx1c2hlZFJvb3QgPSBuZXh0Rmx1c2hlZFJvb3Q7XG4gICAgaWYgKHByZXZpb3VzRmx1c2hlZFJvb3QgIT09IG51bGwgJiYgcHJldmlvdXNGbHVzaGVkUm9vdCA9PT0gaGlnaGVzdFByaW9yaXR5Um9vdCAmJiBoaWdoZXN0UHJpb3JpdHlXb3JrID09PSBTeW5jKSB7XG4gICAgICBuZXN0ZWRVcGRhdGVDb3VudCsrO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZXNldCB3aGVuZXZlciB3ZSBzd2l0Y2ggcm9vdHMuXG4gICAgICBuZXN0ZWRVcGRhdGVDb3VudCA9IDA7XG4gICAgfVxuICAgIG5leHRGbHVzaGVkUm9vdCA9IGhpZ2hlc3RQcmlvcml0eVJvb3Q7XG4gICAgbmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSA9IGhpZ2hlc3RQcmlvcml0eVdvcms7XG4gIH1cblxuICBmdW5jdGlvbiBwZXJmb3JtQXN5bmNXb3JrKGRsKSB7XG4gICAgcGVyZm9ybVdvcmsoTm9Xb3JrLCB0cnVlLCBkbCk7XG4gIH1cblxuICBmdW5jdGlvbiBwZXJmb3JtU3luY1dvcmsoKSB7XG4gICAgcGVyZm9ybVdvcmsoU3luYywgZmFsc2UsIG51bGwpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVyZm9ybVdvcmsobWluRXhwaXJhdGlvblRpbWUsIGlzQXN5bmMsIGRsKSB7XG4gICAgZGVhZGxpbmUgPSBkbDtcblxuICAgIC8vIEtlZXAgd29ya2luZyBvbiByb290cyB1bnRpbCB0aGVyZSdzIG5vIG1vcmUgd29yaywgb3IgdW50aWwgdGhlIHdlIHJlYWNoXG4gICAgLy8gdGhlIGRlYWRsaW5lLlxuICAgIGZpbmRIaWdoZXN0UHJpb3JpdHlSb290KCk7XG5cbiAgICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSAmJiBkZWFkbGluZSAhPT0gbnVsbCkge1xuICAgICAgdmFyIGRpZEV4cGlyZSA9IG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUgPCByZWNhbGN1bGF0ZUN1cnJlbnRUaW1lKCk7XG4gICAgICB2YXIgdGltZW91dCA9IGV4cGlyYXRpb25UaW1lVG9NcyhuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lKTtcbiAgICAgIHN0b3BSZXF1ZXN0Q2FsbGJhY2tUaW1lcihkaWRFeHBpcmUsIHRpbWVvdXQpO1xuICAgIH1cblxuICAgIGlmIChpc0FzeW5jKSB7XG4gICAgICB3aGlsZSAobmV4dEZsdXNoZWRSb290ICE9PSBudWxsICYmIG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUgIT09IE5vV29yayAmJiAobWluRXhwaXJhdGlvblRpbWUgPT09IE5vV29yayB8fCBtaW5FeHBpcmF0aW9uVGltZSA+PSBuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lKSAmJiAoIWRlYWRsaW5lRGlkRXhwaXJlIHx8IHJlY2FsY3VsYXRlQ3VycmVudFRpbWUoKSA+PSBuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lKSkge1xuICAgICAgICBwZXJmb3JtV29ya09uUm9vdChuZXh0Rmx1c2hlZFJvb3QsIG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUsICFkZWFkbGluZURpZEV4cGlyZSk7XG4gICAgICAgIGZpbmRIaWdoZXN0UHJpb3JpdHlSb290KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHdoaWxlIChuZXh0Rmx1c2hlZFJvb3QgIT09IG51bGwgJiYgbmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSAhPT0gTm9Xb3JrICYmIChtaW5FeHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8IG1pbkV4cGlyYXRpb25UaW1lID49IG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUpKSB7XG4gICAgICAgIHBlcmZvcm1Xb3JrT25Sb290KG5leHRGbHVzaGVkUm9vdCwgbmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSwgZmFsc2UpO1xuICAgICAgICBmaW5kSGlnaGVzdFByaW9yaXR5Um9vdCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdlJ3JlIGRvbmUgZmx1c2hpbmcgd29yay4gRWl0aGVyIHdlIHJhbiBvdXQgb2YgdGltZSBpbiB0aGlzIGNhbGxiYWNrLFxuICAgIC8vIG9yIHRoZXJlJ3Mgbm8gbW9yZSB3b3JrIGxlZnQgd2l0aCBzdWZmaWNpZW50IHByaW9yaXR5LlxuXG4gICAgLy8gSWYgd2UncmUgaW5zaWRlIGEgY2FsbGJhY2ssIHNldCB0aGlzIHRvIGZhbHNlIHNpbmNlIHdlIGp1c3QgY29tcGxldGVkIGl0LlxuICAgIGlmIChkZWFkbGluZSAhPT0gbnVsbCkge1xuICAgICAgY2FsbGJhY2tFeHBpcmF0aW9uVGltZSA9IE5vV29yaztcbiAgICAgIGNhbGxiYWNrSUQgPSAtMTtcbiAgICB9XG4gICAgLy8gSWYgdGhlcmUncyB3b3JrIGxlZnQgb3Zlciwgc2NoZWR1bGUgYSBuZXcgY2FsbGJhY2suXG4gICAgaWYgKG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUgIT09IE5vV29yaykge1xuICAgICAgc2NoZWR1bGVDYWxsYmFja1dpdGhFeHBpcmF0aW9uKG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUpO1xuICAgIH1cblxuICAgIC8vIENsZWFuLXVwLlxuICAgIGRlYWRsaW5lID0gbnVsbDtcbiAgICBkZWFkbGluZURpZEV4cGlyZSA9IGZhbHNlO1xuXG4gICAgZmluaXNoUmVuZGVyaW5nKCk7XG4gIH1cblxuICBmdW5jdGlvbiBmbHVzaFJvb3Qocm9vdCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICAhIWlzUmVuZGVyaW5nID8gaW52YXJpYW50KGZhbHNlLCAnd29yay5jb21taXQoKTogQ2Fubm90IGNvbW1pdCB3aGlsZSBhbHJlYWR5IHJlbmRlcmluZy4gVGhpcyBsaWtlbHkgbWVhbnMgeW91IGF0dGVtcHRlZCB0byBjb21taXQgZnJvbSBpbnNpZGUgYSBsaWZlY3ljbGUgbWV0aG9kLicpIDogdm9pZCAwO1xuICAgIC8vIFBlcmZvcm0gd29yayBvbiByb290IGFzIGlmIHRoZSBnaXZlbiBleHBpcmF0aW9uIHRpbWUgaXMgdGhlIGN1cnJlbnQgdGltZS5cbiAgICAvLyBUaGlzIGhhcyB0aGUgZWZmZWN0IG9mIHN5bmNocm9ub3VzbHkgZmx1c2hpbmcgYWxsIHdvcmsgdXAgdG8gYW5kXG4gICAgLy8gaW5jbHVkaW5nIHRoZSBnaXZlbiB0aW1lLlxuICAgIG5leHRGbHVzaGVkUm9vdCA9IHJvb3Q7XG4gICAgbmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICAgIHBlcmZvcm1Xb3JrT25Sb290KHJvb3QsIGV4cGlyYXRpb25UaW1lLCBmYWxzZSk7XG4gICAgLy8gRmx1c2ggYW55IHN5bmMgd29yayB0aGF0IHdhcyBzY2hlZHVsZWQgYnkgbGlmZWN5Y2xlc1xuICAgIHBlcmZvcm1TeW5jV29yaygpO1xuICAgIGZpbmlzaFJlbmRlcmluZygpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluaXNoUmVuZGVyaW5nKCkge1xuICAgIG5lc3RlZFVwZGF0ZUNvdW50ID0gMDtcblxuICAgIGlmIChjb21wbGV0ZWRCYXRjaGVzICE9PSBudWxsKSB7XG4gICAgICB2YXIgYmF0Y2hlcyA9IGNvbXBsZXRlZEJhdGNoZXM7XG4gICAgICBjb21wbGV0ZWRCYXRjaGVzID0gbnVsbDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgYmF0Y2ggPSBiYXRjaGVzW2ldO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGJhdGNoLl9vbkNvbXBsZXRlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgaWYgKCFoYXNVbmhhbmRsZWRFcnJvcikge1xuICAgICAgICAgICAgaGFzVW5oYW5kbGVkRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgdW5oYW5kbGVkRXJyb3IgPSBlcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaGFzVW5oYW5kbGVkRXJyb3IpIHtcbiAgICAgIHZhciBlcnJvciA9IHVuaGFuZGxlZEVycm9yO1xuICAgICAgdW5oYW5kbGVkRXJyb3IgPSBudWxsO1xuICAgICAgaGFzVW5oYW5kbGVkRXJyb3IgPSBmYWxzZTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBlcmZvcm1Xb3JrT25Sb290KHJvb3QsIGV4cGlyYXRpb25UaW1lLCBpc0FzeW5jKSB7XG4gICAgISFpc1JlbmRlcmluZyA/IGludmFyaWFudChmYWxzZSwgJ3BlcmZvcm1Xb3JrT25Sb290IHdhcyBjYWxsZWQgcmVjdXJzaXZlbHkuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG5cbiAgICBpc1JlbmRlcmluZyA9IHRydWU7XG5cbiAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGFzeW5jIHdvcmsgb3Igc3luYy9leHBpcmVkIHdvcmsuXG4gICAgaWYgKCFpc0FzeW5jKSB7XG4gICAgICAvLyBGbHVzaCBzeW5jIHdvcmsuXG4gICAgICB2YXIgZmluaXNoZWRXb3JrID0gcm9vdC5maW5pc2hlZFdvcms7XG4gICAgICBpZiAoZmluaXNoZWRXb3JrICE9PSBudWxsKSB7XG4gICAgICAgIC8vIFRoaXMgcm9vdCBpcyBhbHJlYWR5IGNvbXBsZXRlLiBXZSBjYW4gY29tbWl0IGl0LlxuICAgICAgICBjb21wbGV0ZVJvb3Qocm9vdCwgZmluaXNoZWRXb3JrLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb290LmZpbmlzaGVkV29yayA9IG51bGw7XG4gICAgICAgIGZpbmlzaGVkV29yayA9IHJlbmRlclJvb3Qocm9vdCwgZXhwaXJhdGlvblRpbWUsIGZhbHNlKTtcbiAgICAgICAgaWYgKGZpbmlzaGVkV29yayAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIFdlJ3ZlIGNvbXBsZXRlZCB0aGUgcm9vdC4gQ29tbWl0IGl0LlxuICAgICAgICAgIGNvbXBsZXRlUm9vdChyb290LCBmaW5pc2hlZFdvcmssIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGbHVzaCBhc3luYyB3b3JrLlxuICAgICAgdmFyIF9maW5pc2hlZFdvcmsgPSByb290LmZpbmlzaGVkV29yaztcbiAgICAgIGlmIChfZmluaXNoZWRXb3JrICE9PSBudWxsKSB7XG4gICAgICAgIC8vIFRoaXMgcm9vdCBpcyBhbHJlYWR5IGNvbXBsZXRlLiBXZSBjYW4gY29tbWl0IGl0LlxuICAgICAgICBjb21wbGV0ZVJvb3Qocm9vdCwgX2ZpbmlzaGVkV29yaywgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm9vdC5maW5pc2hlZFdvcmsgPSBudWxsO1xuICAgICAgICBfZmluaXNoZWRXb3JrID0gcmVuZGVyUm9vdChyb290LCBleHBpcmF0aW9uVGltZSwgdHJ1ZSk7XG4gICAgICAgIGlmIChfZmluaXNoZWRXb3JrICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gV2UndmUgY29tcGxldGVkIHRoZSByb290LiBDaGVjayB0aGUgZGVhZGxpbmUgb25lIG1vcmUgdGltZVxuICAgICAgICAgIC8vIGJlZm9yZSBjb21taXR0aW5nLlxuICAgICAgICAgIGlmICghc2hvdWxkWWllbGQoKSkge1xuICAgICAgICAgICAgLy8gU3RpbGwgdGltZSBsZWZ0LiBDb21taXQgdGhlIHJvb3QuXG4gICAgICAgICAgICBjb21wbGV0ZVJvb3Qocm9vdCwgX2ZpbmlzaGVkV29yaywgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUaGVyZSdzIG5vIHRpbWUgbGVmdC4gTWFyayB0aGlzIHJvb3QgYXMgY29tcGxldGUuIFdlJ2xsIGNvbWVcbiAgICAgICAgICAgIC8vIGJhY2sgYW5kIGNvbW1pdCBpdCBsYXRlci5cbiAgICAgICAgICAgIHJvb3QuZmluaXNoZWRXb3JrID0gX2ZpbmlzaGVkV29yaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpc1JlbmRlcmluZyA9IGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gY29tcGxldGVSb290KHJvb3QsIGZpbmlzaGVkV29yaywgZXhwaXJhdGlvblRpbWUpIHtcbiAgICAvLyBDaGVjayBpZiB0aGVyZSdzIGEgYmF0Y2ggdGhhdCBtYXRjaGVzIHRoaXMgZXhwaXJhdGlvbiB0aW1lLlxuICAgIHZhciBmaXJzdEJhdGNoID0gcm9vdC5maXJzdEJhdGNoO1xuICAgIGlmIChmaXJzdEJhdGNoICE9PSBudWxsICYmIGZpcnN0QmF0Y2guX2V4cGlyYXRpb25UaW1lIDw9IGV4cGlyYXRpb25UaW1lKSB7XG4gICAgICBpZiAoY29tcGxldGVkQmF0Y2hlcyA9PT0gbnVsbCkge1xuICAgICAgICBjb21wbGV0ZWRCYXRjaGVzID0gW2ZpcnN0QmF0Y2hdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29tcGxldGVkQmF0Y2hlcy5wdXNoKGZpcnN0QmF0Y2gpO1xuICAgICAgfVxuICAgICAgaWYgKGZpcnN0QmF0Y2guX2RlZmVyKSB7XG4gICAgICAgIC8vIFRoaXMgcm9vdCBpcyBibG9ja2VkIGZyb20gY29tbWl0dGluZyBieSBhIGJhdGNoLiBVbnNjaGVkdWxlIGl0IHVudGlsXG4gICAgICAgIC8vIHdlIHJlY2VpdmUgYW5vdGhlciB1cGRhdGUuXG4gICAgICAgIHJvb3QuZmluaXNoZWRXb3JrID0gZmluaXNoZWRXb3JrO1xuICAgICAgICByb290LnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ29tbWl0IHRoZSByb290LlxuICAgIHJvb3QuZmluaXNoZWRXb3JrID0gbnVsbDtcbiAgICByb290LnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID0gY29tbWl0Um9vdChmaW5pc2hlZFdvcmspO1xuICB9XG5cbiAgLy8gV2hlbiB3b3JraW5nIG9uIGFzeW5jIHdvcmssIHRoZSByZWNvbmNpbGVyIGFza3MgdGhlIHJlbmRlcmVyIGlmIGl0IHNob3VsZFxuICAvLyB5aWVsZCBleGVjdXRpb24uIEZvciBET00sIHdlIGltcGxlbWVudCB0aGlzIHdpdGggcmVxdWVzdElkbGVDYWxsYmFjay5cbiAgZnVuY3Rpb24gc2hvdWxkWWllbGQoKSB7XG4gICAgaWYgKGRlYWRsaW5lID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChkZWFkbGluZS50aW1lUmVtYWluaW5nKCkgPiB0aW1lSGV1cmlzdGljRm9yVW5pdE9mV29yaykge1xuICAgICAgLy8gRGlzcmVnYXJkIGRlYWRsaW5lLmRpZFRpbWVvdXQuIE9ubHkgZXhwaXJlZCB3b3JrIHNob3VsZCBiZSBmbHVzaGVkXG4gICAgICAvLyBkdXJpbmcgYSB0aW1lb3V0LiBUaGlzIHBhdGggaXMgb25seSBoaXQgZm9yIG5vbi1leHBpcmVkIHdvcmsuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGRlYWRsaW5lRGlkRXhwaXJlID0gdHJ1ZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uVW5jYXVnaHRFcnJvcihlcnJvcikge1xuICAgICEobmV4dEZsdXNoZWRSb290ICE9PSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ1Nob3VsZCBiZSB3b3JraW5nIG9uIGEgcm9vdC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgICAvLyBVbnNjaGVkdWxlIHRoaXMgcm9vdCBzbyB3ZSBkb24ndCB3b3JrIG9uIGl0IGFnYWluIHVudGlsIHRoZXJlJ3NcbiAgICAvLyBhbm90aGVyIHVwZGF0ZS5cbiAgICBuZXh0Rmx1c2hlZFJvb3QucmVtYWluaW5nRXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG4gICAgaWYgKCFoYXNVbmhhbmRsZWRFcnJvcikge1xuICAgICAgaGFzVW5oYW5kbGVkRXJyb3IgPSB0cnVlO1xuICAgICAgdW5oYW5kbGVkRXJyb3IgPSBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvLyBUT0RPOiBCYXRjaGluZyBzaG91bGQgYmUgaW1wbGVtZW50ZWQgYXQgdGhlIHJlbmRlcmVyIGxldmVsLCBub3QgaW5zaWRlXG4gIC8vIHRoZSByZWNvbmNpbGVyLlxuICBmdW5jdGlvbiBiYXRjaGVkVXBkYXRlcyhmbiwgYSkge1xuICAgIHZhciBwcmV2aW91c0lzQmF0Y2hpbmdVcGRhdGVzID0gaXNCYXRjaGluZ1VwZGF0ZXM7XG4gICAgaXNCYXRjaGluZ1VwZGF0ZXMgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZm4oYSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlzQmF0Y2hpbmdVcGRhdGVzID0gcHJldmlvdXNJc0JhdGNoaW5nVXBkYXRlcztcbiAgICAgIGlmICghaXNCYXRjaGluZ1VwZGF0ZXMgJiYgIWlzUmVuZGVyaW5nKSB7XG4gICAgICAgIHBlcmZvcm1TeW5jV29yaygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFRPRE86IEJhdGNoaW5nIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBhdCB0aGUgcmVuZGVyZXIgbGV2ZWwsIG5vdCBpbnNpZGVcbiAgLy8gdGhlIHJlY29uY2lsZXIuXG4gIGZ1bmN0aW9uIHVuYmF0Y2hlZFVwZGF0ZXMoZm4sIGEpIHtcbiAgICBpZiAoaXNCYXRjaGluZ1VwZGF0ZXMgJiYgIWlzVW5iYXRjaGluZ1VwZGF0ZXMpIHtcbiAgICAgIGlzVW5iYXRjaGluZ1VwZGF0ZXMgPSB0cnVlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGZuKGEpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaXNVbmJhdGNoaW5nVXBkYXRlcyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZm4oYSk7XG4gIH1cblxuICAvLyBUT0RPOiBCYXRjaGluZyBzaG91bGQgYmUgaW1wbGVtZW50ZWQgYXQgdGhlIHJlbmRlcmVyIGxldmVsLCBub3Qgd2l0aGluXG4gIC8vIHRoZSByZWNvbmNpbGVyLlxuICBmdW5jdGlvbiBmbHVzaFN5bmMoZm4sIGEpIHtcbiAgICAhIWlzUmVuZGVyaW5nID8gaW52YXJpYW50KGZhbHNlLCAnZmx1c2hTeW5jIHdhcyBjYWxsZWQgZnJvbSBpbnNpZGUgYSBsaWZlY3ljbGUgbWV0aG9kLiBJdCBjYW5ub3QgYmUgY2FsbGVkIHdoZW4gUmVhY3QgaXMgYWxyZWFkeSByZW5kZXJpbmcuJykgOiB2b2lkIDA7XG4gICAgdmFyIHByZXZpb3VzSXNCYXRjaGluZ1VwZGF0ZXMgPSBpc0JhdGNoaW5nVXBkYXRlcztcbiAgICBpc0JhdGNoaW5nVXBkYXRlcyA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBzeW5jVXBkYXRlcyhmbiwgYSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlzQmF0Y2hpbmdVcGRhdGVzID0gcHJldmlvdXNJc0JhdGNoaW5nVXBkYXRlcztcbiAgICAgIHBlcmZvcm1TeW5jV29yaygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGludGVyYWN0aXZlVXBkYXRlcyhmbiwgYSwgYikge1xuICAgIGlmIChpc0JhdGNoaW5nSW50ZXJhY3RpdmVVcGRhdGVzKSB7XG4gICAgICByZXR1cm4gZm4oYSwgYik7XG4gICAgfVxuICAgIC8vIElmIHRoZXJlIGFyZSBhbnkgcGVuZGluZyBpbnRlcmFjdGl2ZSB1cGRhdGVzLCBzeW5jaHJvbm91c2x5IGZsdXNoIHRoZW0uXG4gICAgLy8gVGhpcyBuZWVkcyB0byBoYXBwZW4gYmVmb3JlIHdlIHJlYWQgYW55IGhhbmRsZXJzLCBiZWNhdXNlIHRoZSBlZmZlY3Qgb2ZcbiAgICAvLyB0aGUgcHJldmlvdXMgZXZlbnQgbWF5IGluZmx1ZW5jZSB3aGljaCBoYW5kbGVycyBhcmUgY2FsbGVkIGR1cmluZ1xuICAgIC8vIHRoaXMgZXZlbnQuXG4gICAgaWYgKCFpc0JhdGNoaW5nVXBkYXRlcyAmJiAhaXNSZW5kZXJpbmcgJiYgbG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWUgIT09IE5vV29yaykge1xuICAgICAgLy8gU3luY2hyb25vdXNseSBmbHVzaCBwZW5kaW5nIGludGVyYWN0aXZlIHVwZGF0ZXMuXG4gICAgICBwZXJmb3JtV29yayhsb3dlc3RQZW5kaW5nSW50ZXJhY3RpdmVFeHBpcmF0aW9uVGltZSwgZmFsc2UsIG51bGwpO1xuICAgICAgbG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG4gICAgfVxuICAgIHZhciBwcmV2aW91c0lzQmF0Y2hpbmdJbnRlcmFjdGl2ZVVwZGF0ZXMgPSBpc0JhdGNoaW5nSW50ZXJhY3RpdmVVcGRhdGVzO1xuICAgIHZhciBwcmV2aW91c0lzQmF0Y2hpbmdVcGRhdGVzID0gaXNCYXRjaGluZ1VwZGF0ZXM7XG4gICAgaXNCYXRjaGluZ0ludGVyYWN0aXZlVXBkYXRlcyA9IHRydWU7XG4gICAgaXNCYXRjaGluZ1VwZGF0ZXMgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZm4oYSwgYik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlzQmF0Y2hpbmdJbnRlcmFjdGl2ZVVwZGF0ZXMgPSBwcmV2aW91c0lzQmF0Y2hpbmdJbnRlcmFjdGl2ZVVwZGF0ZXM7XG4gICAgICBpc0JhdGNoaW5nVXBkYXRlcyA9IHByZXZpb3VzSXNCYXRjaGluZ1VwZGF0ZXM7XG4gICAgICBpZiAoIWlzQmF0Y2hpbmdVcGRhdGVzICYmICFpc1JlbmRlcmluZykge1xuICAgICAgICBwZXJmb3JtU3luY1dvcmsoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmbHVzaEludGVyYWN0aXZlVXBkYXRlcygpIHtcbiAgICBpZiAoIWlzUmVuZGVyaW5nICYmIGxvd2VzdFBlbmRpbmdJbnRlcmFjdGl2ZUV4cGlyYXRpb25UaW1lICE9PSBOb1dvcmspIHtcbiAgICAgIC8vIFN5bmNocm9ub3VzbHkgZmx1c2ggcGVuZGluZyBpbnRlcmFjdGl2ZSB1cGRhdGVzLlxuICAgICAgcGVyZm9ybVdvcmsobG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWUsIGZhbHNlLCBudWxsKTtcbiAgICAgIGxvd2VzdFBlbmRpbmdJbnRlcmFjdGl2ZUV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoQ29udHJvbGxlZChmbikge1xuICAgIHZhciBwcmV2aW91c0lzQmF0Y2hpbmdVcGRhdGVzID0gaXNCYXRjaGluZ1VwZGF0ZXM7XG4gICAgaXNCYXRjaGluZ1VwZGF0ZXMgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICBzeW5jVXBkYXRlcyhmbik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlzQmF0Y2hpbmdVcGRhdGVzID0gcHJldmlvdXNJc0JhdGNoaW5nVXBkYXRlcztcbiAgICAgIGlmICghaXNCYXRjaGluZ1VwZGF0ZXMgJiYgIWlzUmVuZGVyaW5nKSB7XG4gICAgICAgIHBlcmZvcm1Xb3JrKFN5bmMsIGZhbHNlLCBudWxsKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHJlY2FsY3VsYXRlQ3VycmVudFRpbWU6IHJlY2FsY3VsYXRlQ3VycmVudFRpbWUsXG4gICAgY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlcjogY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlcixcbiAgICBzY2hlZHVsZVdvcms6IHNjaGVkdWxlV29yayxcbiAgICByZXF1ZXN0V29yazogcmVxdWVzdFdvcmssXG4gICAgZmx1c2hSb290OiBmbHVzaFJvb3QsXG4gICAgYmF0Y2hlZFVwZGF0ZXM6IGJhdGNoZWRVcGRhdGVzLFxuICAgIHVuYmF0Y2hlZFVwZGF0ZXM6IHVuYmF0Y2hlZFVwZGF0ZXMsXG4gICAgZmx1c2hTeW5jOiBmbHVzaFN5bmMsXG4gICAgZmx1c2hDb250cm9sbGVkOiBmbHVzaENvbnRyb2xsZWQsXG4gICAgZGVmZXJyZWRVcGRhdGVzOiBkZWZlcnJlZFVwZGF0ZXMsXG4gICAgc3luY1VwZGF0ZXM6IHN5bmNVcGRhdGVzLFxuICAgIGludGVyYWN0aXZlVXBkYXRlczogaW50ZXJhY3RpdmVVcGRhdGVzLFxuICAgIGZsdXNoSW50ZXJhY3RpdmVVcGRhdGVzOiBmbHVzaEludGVyYWN0aXZlVXBkYXRlcyxcbiAgICBjb21wdXRlVW5pcXVlQXN5bmNFeHBpcmF0aW9uOiBjb21wdXRlVW5pcXVlQXN5bmNFeHBpcmF0aW9uLFxuICAgIGxlZ2FjeUNvbnRleHQ6IGxlZ2FjeUNvbnRleHRcbiAgfTtcbn07XG5cbnZhciBkaWRXYXJuQWJvdXROZXN0ZWRVcGRhdGVzID0gdm9pZCAwO1xuXG57XG4gIGRpZFdhcm5BYm91dE5lc3RlZFVwZGF0ZXMgPSBmYWxzZTtcbn1cblxuLy8gMCBpcyBQUk9ELCAxIGlzIERFVi5cbi8vIE1pZ2h0IGFkZCBQUk9GSUxFIGxhdGVyLlxuXG5cbnZhciBSZWFjdEZpYmVyUmVjb25jaWxlciQxID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICB2YXIgZ2V0UHVibGljSW5zdGFuY2UgPSBjb25maWcuZ2V0UHVibGljSW5zdGFuY2U7XG5cbiAgdmFyIF9SZWFjdEZpYmVyU2NoZWR1bGVyID0gUmVhY3RGaWJlclNjaGVkdWxlcihjb25maWcpLFxuICAgICAgY29tcHV0ZVVuaXF1ZUFzeW5jRXhwaXJhdGlvbiA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLmNvbXB1dGVVbmlxdWVBc3luY0V4cGlyYXRpb24sXG4gICAgICByZWNhbGN1bGF0ZUN1cnJlbnRUaW1lID0gX1JlYWN0RmliZXJTY2hlZHVsZXIucmVjYWxjdWxhdGVDdXJyZW50VGltZSxcbiAgICAgIGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXIgPSBfUmVhY3RGaWJlclNjaGVkdWxlci5jb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyLFxuICAgICAgc2NoZWR1bGVXb3JrID0gX1JlYWN0RmliZXJTY2hlZHVsZXIuc2NoZWR1bGVXb3JrLFxuICAgICAgcmVxdWVzdFdvcmsgPSBfUmVhY3RGaWJlclNjaGVkdWxlci5yZXF1ZXN0V29yayxcbiAgICAgIGZsdXNoUm9vdCA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLmZsdXNoUm9vdCxcbiAgICAgIGJhdGNoZWRVcGRhdGVzID0gX1JlYWN0RmliZXJTY2hlZHVsZXIuYmF0Y2hlZFVwZGF0ZXMsXG4gICAgICB1bmJhdGNoZWRVcGRhdGVzID0gX1JlYWN0RmliZXJTY2hlZHVsZXIudW5iYXRjaGVkVXBkYXRlcyxcbiAgICAgIGZsdXNoU3luYyA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLmZsdXNoU3luYyxcbiAgICAgIGZsdXNoQ29udHJvbGxlZCA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLmZsdXNoQ29udHJvbGxlZCxcbiAgICAgIGRlZmVycmVkVXBkYXRlcyA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLmRlZmVycmVkVXBkYXRlcyxcbiAgICAgIHN5bmNVcGRhdGVzID0gX1JlYWN0RmliZXJTY2hlZHVsZXIuc3luY1VwZGF0ZXMsXG4gICAgICBpbnRlcmFjdGl2ZVVwZGF0ZXMgPSBfUmVhY3RGaWJlclNjaGVkdWxlci5pbnRlcmFjdGl2ZVVwZGF0ZXMsXG4gICAgICBmbHVzaEludGVyYWN0aXZlVXBkYXRlcyA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLmZsdXNoSW50ZXJhY3RpdmVVcGRhdGVzLFxuICAgICAgbGVnYWN5Q29udGV4dCA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLmxlZ2FjeUNvbnRleHQ7XG5cbiAgdmFyIGZpbmRDdXJyZW50VW5tYXNrZWRDb250ZXh0ID0gbGVnYWN5Q29udGV4dC5maW5kQ3VycmVudFVubWFza2VkQ29udGV4dCxcbiAgICAgIGlzQ29udGV4dFByb3ZpZGVyID0gbGVnYWN5Q29udGV4dC5pc0NvbnRleHRQcm92aWRlcixcbiAgICAgIHByb2Nlc3NDaGlsZENvbnRleHQgPSBsZWdhY3lDb250ZXh0LnByb2Nlc3NDaGlsZENvbnRleHQ7XG5cblxuICBmdW5jdGlvbiBnZXRDb250ZXh0Rm9yU3VidHJlZShwYXJlbnRDb21wb25lbnQpIHtcbiAgICBpZiAoIXBhcmVudENvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIGVtcHR5T2JqZWN0O1xuICAgIH1cblxuICAgIHZhciBmaWJlciA9IGdldChwYXJlbnRDb21wb25lbnQpO1xuICAgIHZhciBwYXJlbnRDb250ZXh0ID0gZmluZEN1cnJlbnRVbm1hc2tlZENvbnRleHQoZmliZXIpO1xuICAgIHJldHVybiBpc0NvbnRleHRQcm92aWRlcihmaWJlcikgPyBwcm9jZXNzQ2hpbGRDb250ZXh0KGZpYmVyLCBwYXJlbnRDb250ZXh0KSA6IHBhcmVudENvbnRleHQ7XG4gIH1cblxuICBmdW5jdGlvbiBzY2hlZHVsZVJvb3RVcGRhdGUoY3VycmVudCwgZWxlbWVudCwgY3VycmVudFRpbWUsIGV4cGlyYXRpb25UaW1lLCBjYWxsYmFjaykge1xuICAgIHtcbiAgICAgIGlmIChSZWFjdERlYnVnQ3VycmVudEZpYmVyLnBoYXNlID09PSAncmVuZGVyJyAmJiBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmN1cnJlbnQgIT09IG51bGwgJiYgIWRpZFdhcm5BYm91dE5lc3RlZFVwZGF0ZXMpIHtcbiAgICAgICAgZGlkV2FybkFib3V0TmVzdGVkVXBkYXRlcyA9IHRydWU7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICdSZW5kZXIgbWV0aG9kcyBzaG91bGQgYmUgYSBwdXJlIGZ1bmN0aW9uIG9mIHByb3BzIGFuZCBzdGF0ZTsgJyArICd0cmlnZ2VyaW5nIG5lc3RlZCBjb21wb25lbnQgdXBkYXRlcyBmcm9tIHJlbmRlciBpcyBub3QgYWxsb3dlZC4gJyArICdJZiBuZWNlc3NhcnksIHRyaWdnZXIgbmVzdGVkIHVwZGF0ZXMgaW4gY29tcG9uZW50RGlkVXBkYXRlLlxcblxcbicgKyAnQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgJXMuJywgZ2V0Q29tcG9uZW50TmFtZShSZWFjdERlYnVnQ3VycmVudEZpYmVyLmN1cnJlbnQpIHx8ICdVbmtub3duJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY2FsbGJhY2sgPSBjYWxsYmFjayA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGNhbGxiYWNrO1xuICAgIHtcbiAgICAgIHdhcm5pbmcoY2FsbGJhY2sgPT09IG51bGwgfHwgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nLCAncmVuZGVyKC4uLik6IEV4cGVjdGVkIHRoZSBsYXN0IG9wdGlvbmFsIGBjYWxsYmFja2AgYXJndW1lbnQgdG8gYmUgYSAnICsgJ2Z1bmN0aW9uLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcy4nLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgdmFyIHVwZGF0ZSA9IHtcbiAgICAgIGV4cGlyYXRpb25UaW1lOiBleHBpcmF0aW9uVGltZSxcbiAgICAgIHBhcnRpYWxTdGF0ZTogeyBlbGVtZW50OiBlbGVtZW50IH0sXG4gICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICBpc1JlcGxhY2U6IGZhbHNlLFxuICAgICAgaXNGb3JjZWQ6IGZhbHNlLFxuICAgICAgY2FwdHVyZWRWYWx1ZTogbnVsbCxcbiAgICAgIG5leHQ6IG51bGxcbiAgICB9O1xuICAgIGluc2VydFVwZGF0ZUludG9GaWJlcihjdXJyZW50LCB1cGRhdGUpO1xuICAgIHNjaGVkdWxlV29yayhjdXJyZW50LCBleHBpcmF0aW9uVGltZSk7XG5cbiAgICByZXR1cm4gZXhwaXJhdGlvblRpbWU7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVDb250YWluZXJBdEV4cGlyYXRpb25UaW1lKGVsZW1lbnQsIGNvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBjdXJyZW50VGltZSwgZXhwaXJhdGlvblRpbWUsIGNhbGxiYWNrKSB7XG4gICAgLy8gVE9ETzogSWYgdGhpcyBpcyBhIG5lc3RlZCBjb250YWluZXIsIHRoaXMgd29uJ3QgYmUgdGhlIHJvb3QuXG4gICAgdmFyIGN1cnJlbnQgPSBjb250YWluZXIuY3VycmVudDtcblxuICAgIHtcbiAgICAgIGlmIChSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sKSB7XG4gICAgICAgIGlmIChjdXJyZW50LmFsdGVybmF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wub25Nb3VudENvbnRhaW5lcihjb250YWluZXIpO1xuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQgPT09IG51bGwpIHtcbiAgICAgICAgICBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sLm9uVW5tb3VudENvbnRhaW5lcihjb250YWluZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wub25VcGRhdGVDb250YWluZXIoY29udGFpbmVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBjb250ZXh0ID0gZ2V0Q29udGV4dEZvclN1YnRyZWUocGFyZW50Q29tcG9uZW50KTtcbiAgICBpZiAoY29udGFpbmVyLmNvbnRleHQgPT09IG51bGwpIHtcbiAgICAgIGNvbnRhaW5lci5jb250ZXh0ID0gY29udGV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFpbmVyLnBlbmRpbmdDb250ZXh0ID0gY29udGV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gc2NoZWR1bGVSb290VXBkYXRlKGN1cnJlbnQsIGVsZW1lbnQsIGN1cnJlbnRUaW1lLCBleHBpcmF0aW9uVGltZSwgY2FsbGJhY2spO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluZEhvc3RJbnN0YW5jZShmaWJlcikge1xuICAgIHZhciBob3N0RmliZXIgPSBmaW5kQ3VycmVudEhvc3RGaWJlcihmaWJlcik7XG4gICAgaWYgKGhvc3RGaWJlciA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBob3N0RmliZXIuc3RhdGVOb2RlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBjcmVhdGVDb250YWluZXI6IGZ1bmN0aW9uIChjb250YWluZXJJbmZvLCBpc0FzeW5jLCBoeWRyYXRlKSB7XG4gICAgICByZXR1cm4gY3JlYXRlRmliZXJSb290KGNvbnRhaW5lckluZm8sIGlzQXN5bmMsIGh5ZHJhdGUpO1xuICAgIH0sXG4gICAgdXBkYXRlQ29udGFpbmVyOiBmdW5jdGlvbiAoZWxlbWVudCwgY29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgY3VycmVudCA9IGNvbnRhaW5lci5jdXJyZW50O1xuICAgICAgdmFyIGN1cnJlbnRUaW1lID0gcmVjYWxjdWxhdGVDdXJyZW50VGltZSgpO1xuICAgICAgdmFyIGV4cGlyYXRpb25UaW1lID0gY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlcihjdXJyZW50KTtcbiAgICAgIHJldHVybiB1cGRhdGVDb250YWluZXJBdEV4cGlyYXRpb25UaW1lKGVsZW1lbnQsIGNvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBjdXJyZW50VGltZSwgZXhwaXJhdGlvblRpbWUsIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIHVwZGF0ZUNvbnRhaW5lckF0RXhwaXJhdGlvblRpbWU6IGZ1bmN0aW9uIChlbGVtZW50LCBjb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgZXhwaXJhdGlvblRpbWUsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgY3VycmVudFRpbWUgPSByZWNhbGN1bGF0ZUN1cnJlbnRUaW1lKCk7XG4gICAgICByZXR1cm4gdXBkYXRlQ29udGFpbmVyQXRFeHBpcmF0aW9uVGltZShlbGVtZW50LCBjb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgY3VycmVudFRpbWUsIGV4cGlyYXRpb25UaW1lLCBjYWxsYmFjayk7XG4gICAgfSxcblxuXG4gICAgZmx1c2hSb290OiBmbHVzaFJvb3QsXG5cbiAgICByZXF1ZXN0V29yazogcmVxdWVzdFdvcmssXG5cbiAgICBjb21wdXRlVW5pcXVlQXN5bmNFeHBpcmF0aW9uOiBjb21wdXRlVW5pcXVlQXN5bmNFeHBpcmF0aW9uLFxuXG4gICAgYmF0Y2hlZFVwZGF0ZXM6IGJhdGNoZWRVcGRhdGVzLFxuXG4gICAgdW5iYXRjaGVkVXBkYXRlczogdW5iYXRjaGVkVXBkYXRlcyxcblxuICAgIGRlZmVycmVkVXBkYXRlczogZGVmZXJyZWRVcGRhdGVzLFxuXG4gICAgc3luY1VwZGF0ZXM6IHN5bmNVcGRhdGVzLFxuXG4gICAgaW50ZXJhY3RpdmVVcGRhdGVzOiBpbnRlcmFjdGl2ZVVwZGF0ZXMsXG5cbiAgICBmbHVzaEludGVyYWN0aXZlVXBkYXRlczogZmx1c2hJbnRlcmFjdGl2ZVVwZGF0ZXMsXG5cbiAgICBmbHVzaENvbnRyb2xsZWQ6IGZsdXNoQ29udHJvbGxlZCxcblxuICAgIGZsdXNoU3luYzogZmx1c2hTeW5jLFxuXG4gICAgZ2V0UHVibGljUm9vdEluc3RhbmNlOiBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgICB2YXIgY29udGFpbmVyRmliZXIgPSBjb250YWluZXIuY3VycmVudDtcbiAgICAgIGlmICghY29udGFpbmVyRmliZXIuY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKGNvbnRhaW5lckZpYmVyLmNoaWxkLnRhZykge1xuICAgICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgICAgcmV0dXJuIGdldFB1YmxpY0luc3RhbmNlKGNvbnRhaW5lckZpYmVyLmNoaWxkLnN0YXRlTm9kZSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGNvbnRhaW5lckZpYmVyLmNoaWxkLnN0YXRlTm9kZTtcbiAgICAgIH1cbiAgICB9LFxuXG5cbiAgICBmaW5kSG9zdEluc3RhbmNlOiBmaW5kSG9zdEluc3RhbmNlLFxuXG4gICAgZmluZEhvc3RJbnN0YW5jZVdpdGhOb1BvcnRhbHM6IGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgdmFyIGhvc3RGaWJlciA9IGZpbmRDdXJyZW50SG9zdEZpYmVyV2l0aE5vUG9ydGFscyhmaWJlcik7XG4gICAgICBpZiAoaG9zdEZpYmVyID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhvc3RGaWJlci5zdGF0ZU5vZGU7XG4gICAgfSxcbiAgICBpbmplY3RJbnRvRGV2VG9vbHM6IGZ1bmN0aW9uIChkZXZUb29sc0NvbmZpZykge1xuICAgICAgdmFyIGZpbmRGaWJlckJ5SG9zdEluc3RhbmNlID0gZGV2VG9vbHNDb25maWcuZmluZEZpYmVyQnlIb3N0SW5zdGFuY2U7XG5cbiAgICAgIHJldHVybiBpbmplY3RJbnRlcm5hbHMoX2Fzc2lnbih7fSwgZGV2VG9vbHNDb25maWcsIHtcbiAgICAgICAgZmluZEhvc3RJbnN0YW5jZUJ5RmliZXI6IGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICAgIHJldHVybiBmaW5kSG9zdEluc3RhbmNlKGZpYmVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgZmluZEZpYmVyQnlIb3N0SW5zdGFuY2U6IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgICAgIGlmICghZmluZEZpYmVyQnlIb3N0SW5zdGFuY2UpIHtcbiAgICAgICAgICAgIC8vIE1pZ2h0IG5vdCBiZSBpbXBsZW1lbnRlZCBieSB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZpbmRGaWJlckJ5SG9zdEluc3RhbmNlKGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgIH1cbiAgfTtcbn07XG5cbnZhciBSZWFjdEZpYmVyUmVjb25jaWxlciQyID0gT2JqZWN0LmZyZWV6ZSh7XG5cdGRlZmF1bHQ6IFJlYWN0RmliZXJSZWNvbmNpbGVyJDFcbn0pO1xuXG52YXIgUmVhY3RGaWJlclJlY29uY2lsZXIkMyA9ICggUmVhY3RGaWJlclJlY29uY2lsZXIkMiAmJiBSZWFjdEZpYmVyUmVjb25jaWxlciQxICkgfHwgUmVhY3RGaWJlclJlY29uY2lsZXIkMjtcblxuLy8gVE9ETzogYnVuZGxlIEZsb3cgdHlwZXMgd2l0aCB0aGUgcGFja2FnZS5cblxuXG5cbi8vIFRPRE86IGRlY2lkZSBvbiB0aGUgdG9wLWxldmVsIGV4cG9ydCBmb3JtLlxuLy8gVGhpcyBpcyBoYWNreSBidXQgbWFrZXMgaXQgd29yayB3aXRoIGJvdGggUm9sbHVwIGFuZCBKZXN0LlxudmFyIHJlYWN0UmVjb25jaWxlciA9IFJlYWN0RmliZXJSZWNvbmNpbGVyJDNbJ2RlZmF1bHQnXSA/IFJlYWN0RmliZXJSZWNvbmNpbGVyJDNbJ2RlZmF1bHQnXSA6IFJlYWN0RmliZXJSZWNvbmNpbGVyJDM7XG5cbmZ1bmN0aW9uIGNyZWF0ZVBvcnRhbCQxKGNoaWxkcmVuLCBjb250YWluZXJJbmZvLFxuLy8gVE9ETzogZmlndXJlIG91dCB0aGUgQVBJIGZvciBjcm9zcy1yZW5kZXJlciBpbXBsZW1lbnRhdGlvbi5cbmltcGxlbWVudGF0aW9uKSB7XG4gIHZhciBrZXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IG51bGw7XG5cbiAgcmV0dXJuIHtcbiAgICAvLyBUaGlzIHRhZyBhbGxvdyB1cyB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzIGFzIGEgUmVhY3QgUG9ydGFsXG4gICAgJCR0eXBlb2Y6IFJFQUNUX1BPUlRBTF9UWVBFLFxuICAgIGtleToga2V5ID09IG51bGwgPyBudWxsIDogJycgKyBrZXksXG4gICAgY2hpbGRyZW46IGNoaWxkcmVuLFxuICAgIGNvbnRhaW5lckluZm86IGNvbnRhaW5lckluZm8sXG4gICAgaW1wbGVtZW50YXRpb246IGltcGxlbWVudGF0aW9uXG4gIH07XG59XG5cbi8vIFRPRE86IHRoaXMgaXMgc3BlY2lhbCBiZWNhdXNlIGl0IGdldHMgaW1wb3J0ZWQgZHVyaW5nIGJ1aWxkLlxuXG52YXIgUmVhY3RWZXJzaW9uID0gJzE2LjMuMSc7XG5cbi8vIGEgcmVxdWVzdEFuaW1hdGlvbkZyYW1lLCBzdG9yaW5nIHRoZSB0aW1lIGZvciB0aGUgc3RhcnQgb2YgdGhlIGZyYW1lLCB0aGVuXG4vLyBzY2hlZHVsaW5nIGEgcG9zdE1lc3NhZ2Ugd2hpY2ggZ2V0cyBzY2hlZHVsZWQgYWZ0ZXIgcGFpbnQuIFdpdGhpbiB0aGVcbi8vIHBvc3RNZXNzYWdlIGhhbmRsZXIgZG8gYXMgbXVjaCB3b3JrIGFzIHBvc3NpYmxlIHVudGlsIHRpbWUgKyBmcmFtZSByYXRlLlxuLy8gQnkgc2VwYXJhdGluZyB0aGUgaWRsZSBjYWxsIGludG8gYSBzZXBhcmF0ZSBldmVudCB0aWNrIHdlIGVuc3VyZSB0aGF0XG4vLyBsYXlvdXQsIHBhaW50IGFuZCBvdGhlciBicm93c2VyIHdvcmsgaXMgY291bnRlZCBhZ2FpbnN0IHRoZSBhdmFpbGFibGUgdGltZS5cbi8vIFRoZSBmcmFtZSByYXRlIGlzIGR5bmFtaWNhbGx5IGFkanVzdGVkLlxuXG57XG4gIGlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgdHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHdhcm5pbmcoZmFsc2UsICdSZWFjdCBkZXBlbmRzIG9uIHJlcXVlc3RBbmltYXRpb25GcmFtZS4gTWFrZSBzdXJlIHRoYXQgeW91IGxvYWQgYSAnICsgJ3BvbHlmaWxsIGluIG9sZGVyIGJyb3dzZXJzLiBodHRwczovL2ZiLm1lL3JlYWN0LXBvbHlmaWxscycpO1xuICB9XG59XG5cbnZhciBoYXNOYXRpdmVQZXJmb3JtYW5jZU5vdyA9IHR5cGVvZiBwZXJmb3JtYW5jZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHBlcmZvcm1hbmNlLm5vdyA9PT0gJ2Z1bmN0aW9uJztcblxudmFyIG5vdyA9IHZvaWQgMDtcbmlmIChoYXNOYXRpdmVQZXJmb3JtYW5jZU5vdykge1xuICBub3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpO1xuICB9O1xufSBlbHNlIHtcbiAgbm93ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBEYXRlLm5vdygpO1xuICB9O1xufVxuXG4vLyBUT0RPOiBUaGVyZSdzIG5vIHdheSB0byBjYW5jZWwsIGJlY2F1c2UgRmliZXIgZG9lc24ndCBhdG0uXG52YXIgcklDID0gdm9pZCAwO1xudmFyIGNJQyA9IHZvaWQgMDtcblxuaWYgKCFFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgcklDID0gZnVuY3Rpb24gKGZyYW1lQ2FsbGJhY2spIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBmcmFtZUNhbGxiYWNrKHtcbiAgICAgICAgdGltZVJlbWFpbmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICAgICAgfSxcblxuICAgICAgICBkaWRUaW1lb3V0OiBmYWxzZVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG4gIGNJQyA9IGZ1bmN0aW9uICh0aW1lb3V0SUQpIHtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dElEKTtcbiAgfTtcbn0gZWxzZSBpZiAoYWx3YXlzVXNlUmVxdWVzdElkbGVDYWxsYmFja1BvbHlmaWxsIHx8IHR5cGVvZiByZXF1ZXN0SWRsZUNhbGxiYWNrICE9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBjYW5jZWxJZGxlQ2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgLy8gUG9seWZpbGwgcmVxdWVzdElkbGVDYWxsYmFjayBhbmQgY2FuY2VsSWRsZUNhbGxiYWNrXG5cbiAgdmFyIHNjaGVkdWxlZFJJQ0NhbGxiYWNrID0gbnVsbDtcbiAgdmFyIGlzSWRsZVNjaGVkdWxlZCA9IGZhbHNlO1xuICB2YXIgdGltZW91dFRpbWUgPSAtMTtcblxuICB2YXIgaXNBbmltYXRpb25GcmFtZVNjaGVkdWxlZCA9IGZhbHNlO1xuXG4gIHZhciBmcmFtZURlYWRsaW5lID0gMDtcbiAgLy8gV2Ugc3RhcnQgb3V0IGFzc3VtaW5nIHRoYXQgd2UgcnVuIGF0IDMwZnBzIGJ1dCB0aGVuIHRoZSBoZXVyaXN0aWMgdHJhY2tpbmdcbiAgLy8gd2lsbCBhZGp1c3QgdGhpcyB2YWx1ZSB0byBhIGZhc3RlciBmcHMgaWYgd2UgZ2V0IG1vcmUgZnJlcXVlbnQgYW5pbWF0aW9uXG4gIC8vIGZyYW1lcy5cbiAgdmFyIHByZXZpb3VzRnJhbWVUaW1lID0gMzM7XG4gIHZhciBhY3RpdmVGcmFtZVRpbWUgPSAzMztcblxuICB2YXIgZnJhbWVEZWFkbGluZU9iamVjdCA9IHZvaWQgMDtcbiAgaWYgKGhhc05hdGl2ZVBlcmZvcm1hbmNlTm93KSB7XG4gICAgZnJhbWVEZWFkbGluZU9iamVjdCA9IHtcbiAgICAgIGRpZFRpbWVvdXQ6IGZhbHNlLFxuICAgICAgdGltZVJlbWFpbmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBXZSBhc3N1bWUgdGhhdCBpZiB3ZSBoYXZlIGEgcGVyZm9ybWFuY2UgdGltZXIgdGhhdCB0aGUgckFGIGNhbGxiYWNrXG4gICAgICAgIC8vIGdldHMgYSBwZXJmb3JtYW5jZSB0aW1lciB2YWx1ZS4gTm90IHN1cmUgaWYgdGhpcyBpcyBhbHdheXMgdHJ1ZS5cbiAgICAgICAgdmFyIHJlbWFpbmluZyA9IGZyYW1lRGVhZGxpbmUgLSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgcmV0dXJuIHJlbWFpbmluZyA+IDAgPyByZW1haW5pbmcgOiAwO1xuICAgICAgfVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgZnJhbWVEZWFkbGluZU9iamVjdCA9IHtcbiAgICAgIGRpZFRpbWVvdXQ6IGZhbHNlLFxuICAgICAgdGltZVJlbWFpbmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBGYWxsYmFjayB0byBEYXRlLm5vdygpXG4gICAgICAgIHZhciByZW1haW5pbmcgPSBmcmFtZURlYWRsaW5lIC0gRGF0ZS5ub3coKTtcbiAgICAgICAgcmV0dXJuIHJlbWFpbmluZyA+IDAgPyByZW1haW5pbmcgOiAwO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBXZSB1c2UgdGhlIHBvc3RNZXNzYWdlIHRyaWNrIHRvIGRlZmVyIGlkbGUgd29yayB1bnRpbCBhZnRlciB0aGUgcmVwYWludC5cbiAgdmFyIG1lc3NhZ2VLZXkgPSAnX19yZWFjdElkbGVDYWxsYmFjayQnICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMik7XG4gIHZhciBpZGxlVGljayA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmIChldmVudC5zb3VyY2UgIT09IHdpbmRvdyB8fCBldmVudC5kYXRhICE9PSBtZXNzYWdlS2V5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaXNJZGxlU2NoZWR1bGVkID0gZmFsc2U7XG5cbiAgICB2YXIgY3VycmVudFRpbWUgPSBub3coKTtcbiAgICBpZiAoZnJhbWVEZWFkbGluZSAtIGN1cnJlbnRUaW1lIDw9IDApIHtcbiAgICAgIC8vIFRoZXJlJ3Mgbm8gdGltZSBsZWZ0IGluIHRoaXMgaWRsZSBwZXJpb2QuIENoZWNrIGlmIHRoZSBjYWxsYmFjayBoYXNcbiAgICAgIC8vIGEgdGltZW91dCBhbmQgd2hldGhlciBpdCdzIGJlZW4gZXhjZWVkZWQuXG4gICAgICBpZiAodGltZW91dFRpbWUgIT09IC0xICYmIHRpbWVvdXRUaW1lIDw9IGN1cnJlbnRUaW1lKSB7XG4gICAgICAgIC8vIEV4Y2VlZGVkIHRoZSB0aW1lb3V0LiBJbnZva2UgdGhlIGNhbGxiYWNrIGV2ZW4gdGhvdWdoIHRoZXJlJ3Mgbm9cbiAgICAgICAgLy8gdGltZSBsZWZ0LlxuICAgICAgICBmcmFtZURlYWRsaW5lT2JqZWN0LmRpZFRpbWVvdXQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTm8gdGltZW91dC5cbiAgICAgICAgaWYgKCFpc0FuaW1hdGlvbkZyYW1lU2NoZWR1bGVkKSB7XG4gICAgICAgICAgLy8gU2NoZWR1bGUgYW5vdGhlciBhbmltYXRpb24gY2FsbGJhY2sgc28gd2UgcmV0cnkgbGF0ZXIuXG4gICAgICAgICAgaXNBbmltYXRpb25GcmFtZVNjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvblRpY2spO1xuICAgICAgICB9XG4gICAgICAgIC8vIEV4aXQgd2l0aG91dCBpbnZva2luZyB0aGUgY2FsbGJhY2suXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhlcmUncyBzdGlsbCB0aW1lIGxlZnQgaW4gdGhpcyBpZGxlIHBlcmlvZC5cbiAgICAgIGZyYW1lRGVhZGxpbmVPYmplY3QuZGlkVGltZW91dCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRpbWVvdXRUaW1lID0gLTE7XG4gICAgdmFyIGNhbGxiYWNrID0gc2NoZWR1bGVkUklDQ2FsbGJhY2s7XG4gICAgc2NoZWR1bGVkUklDQ2FsbGJhY2sgPSBudWxsO1xuICAgIGlmIChjYWxsYmFjayAhPT0gbnVsbCkge1xuICAgICAgY2FsbGJhY2soZnJhbWVEZWFkbGluZU9iamVjdCk7XG4gICAgfVxuICB9O1xuICAvLyBBc3N1bWVzIHRoYXQgd2UgaGF2ZSBhZGRFdmVudExpc3RlbmVyIGluIHRoaXMgZW52aXJvbm1lbnQuIE1pZ2h0IG5lZWRcbiAgLy8gc29tZXRoaW5nIGJldHRlciBmb3Igb2xkIElFLlxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGlkbGVUaWNrLCBmYWxzZSk7XG5cbiAgdmFyIGFuaW1hdGlvblRpY2sgPSBmdW5jdGlvbiAocmFmVGltZSkge1xuICAgIGlzQW5pbWF0aW9uRnJhbWVTY2hlZHVsZWQgPSBmYWxzZTtcbiAgICB2YXIgbmV4dEZyYW1lVGltZSA9IHJhZlRpbWUgLSBmcmFtZURlYWRsaW5lICsgYWN0aXZlRnJhbWVUaW1lO1xuICAgIGlmIChuZXh0RnJhbWVUaW1lIDwgYWN0aXZlRnJhbWVUaW1lICYmIHByZXZpb3VzRnJhbWVUaW1lIDwgYWN0aXZlRnJhbWVUaW1lKSB7XG4gICAgICBpZiAobmV4dEZyYW1lVGltZSA8IDgpIHtcbiAgICAgICAgLy8gRGVmZW5zaXZlIGNvZGluZy4gV2UgZG9uJ3Qgc3VwcG9ydCBoaWdoZXIgZnJhbWUgcmF0ZXMgdGhhbiAxMjBoei5cbiAgICAgICAgLy8gSWYgd2UgZ2V0IGxvd2VyIHRoYW4gdGhhdCwgaXQgaXMgcHJvYmFibHkgYSBidWcuXG4gICAgICAgIG5leHRGcmFtZVRpbWUgPSA4O1xuICAgICAgfVxuICAgICAgLy8gSWYgb25lIGZyYW1lIGdvZXMgbG9uZywgdGhlbiB0aGUgbmV4dCBvbmUgY2FuIGJlIHNob3J0IHRvIGNhdGNoIHVwLlxuICAgICAgLy8gSWYgdHdvIGZyYW1lcyBhcmUgc2hvcnQgaW4gYSByb3csIHRoZW4gdGhhdCdzIGFuIGluZGljYXRpb24gdGhhdCB3ZVxuICAgICAgLy8gYWN0dWFsbHkgaGF2ZSBhIGhpZ2hlciBmcmFtZSByYXRlIHRoYW4gd2hhdCB3ZSdyZSBjdXJyZW50bHkgb3B0aW1pemluZy5cbiAgICAgIC8vIFdlIGFkanVzdCBvdXIgaGV1cmlzdGljIGR5bmFtaWNhbGx5IGFjY29yZGluZ2x5LiBGb3IgZXhhbXBsZSwgaWYgd2UncmVcbiAgICAgIC8vIHJ1bm5pbmcgb24gMTIwaHogZGlzcGxheSBvciA5MGh6IFZSIGRpc3BsYXkuXG4gICAgICAvLyBUYWtlIHRoZSBtYXggb2YgdGhlIHR3byBpbiBjYXNlIG9uZSBvZiB0aGVtIHdhcyBhbiBhbm9tYWx5IGR1ZSB0b1xuICAgICAgLy8gbWlzc2VkIGZyYW1lIGRlYWRsaW5lcy5cbiAgICAgIGFjdGl2ZUZyYW1lVGltZSA9IG5leHRGcmFtZVRpbWUgPCBwcmV2aW91c0ZyYW1lVGltZSA/IHByZXZpb3VzRnJhbWVUaW1lIDogbmV4dEZyYW1lVGltZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJldmlvdXNGcmFtZVRpbWUgPSBuZXh0RnJhbWVUaW1lO1xuICAgIH1cbiAgICBmcmFtZURlYWRsaW5lID0gcmFmVGltZSArIGFjdGl2ZUZyYW1lVGltZTtcbiAgICBpZiAoIWlzSWRsZVNjaGVkdWxlZCkge1xuICAgICAgaXNJZGxlU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgIHdpbmRvdy5wb3N0TWVzc2FnZShtZXNzYWdlS2V5LCAnKicpO1xuICAgIH1cbiAgfTtcblxuICBySUMgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAvLyBUaGlzIGFzc3VtZXMgdGhhdCB3ZSBvbmx5IHNjaGVkdWxlIG9uZSBjYWxsYmFjayBhdCBhIHRpbWUgYmVjYXVzZSB0aGF0J3NcbiAgICAvLyBob3cgRmliZXIgdXNlcyBpdC5cbiAgICBzY2hlZHVsZWRSSUNDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIGlmIChvcHRpb25zICE9IG51bGwgJiYgdHlwZW9mIG9wdGlvbnMudGltZW91dCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHRpbWVvdXRUaW1lID0gbm93KCkgKyBvcHRpb25zLnRpbWVvdXQ7XG4gICAgfVxuICAgIGlmICghaXNBbmltYXRpb25GcmFtZVNjaGVkdWxlZCkge1xuICAgICAgLy8gSWYgckFGIGRpZG4ndCBhbHJlYWR5IHNjaGVkdWxlIG9uZSwgd2UgbmVlZCB0byBzY2hlZHVsZSBhIGZyYW1lLlxuICAgICAgLy8gVE9ETzogSWYgdGhpcyByQUYgZG9lc24ndCBtYXRlcmlhbGl6ZSBiZWNhdXNlIHRoZSBicm93c2VyIHRocm90dGxlcywgd2VcbiAgICAgIC8vIG1pZ2h0IHdhbnQgdG8gc3RpbGwgaGF2ZSBzZXRUaW1lb3V0IHRyaWdnZXIgcklDIGFzIGEgYmFja3VwIHRvIGVuc3VyZVxuICAgICAgLy8gdGhhdCB3ZSBrZWVwIHBlcmZvcm1pbmcgd29yay5cbiAgICAgIGlzQW5pbWF0aW9uRnJhbWVTY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvblRpY2spO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfTtcblxuICBjSUMgPSBmdW5jdGlvbiAoKSB7XG4gICAgc2NoZWR1bGVkUklDQ2FsbGJhY2sgPSBudWxsO1xuICAgIGlzSWRsZVNjaGVkdWxlZCA9IGZhbHNlO1xuICAgIHRpbWVvdXRUaW1lID0gLTE7XG4gIH07XG59IGVsc2Uge1xuICBySUMgPSB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjaztcbiAgY0lDID0gd2luZG93LmNhbmNlbElkbGVDYWxsYmFjaztcbn1cblxudmFyIGRpZFdhcm5TZWxlY3RlZFNldE9uT3B0aW9uID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGZsYXR0ZW5DaGlsZHJlbihjaGlsZHJlbikge1xuICB2YXIgY29udGVudCA9ICcnO1xuXG4gIC8vIEZsYXR0ZW4gY2hpbGRyZW4gYW5kIHdhcm4gaWYgdGhleSBhcmVuJ3Qgc3RyaW5ncyBvciBudW1iZXJzO1xuICAvLyBpbnZhbGlkIHR5cGVzIGFyZSBpZ25vcmVkLlxuICAvLyBXZSBjYW4gc2lsZW50bHkgc2tpcCB0aGVtIGJlY2F1c2UgaW52YWxpZCBET00gbmVzdGluZyB3YXJuaW5nXG4gIC8vIGNhdGNoZXMgdGhlc2UgY2FzZXMgaW4gRmliZXIuXG4gIFJlYWN0LkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIGlmIChjaGlsZCA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY2hpbGQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBjaGlsZCA9PT0gJ251bWJlcicpIHtcbiAgICAgIGNvbnRlbnQgKz0gY2hpbGQ7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gY29udGVudDtcbn1cblxuLyoqXG4gKiBJbXBsZW1lbnRzIGFuIDxvcHRpb24+IGhvc3QgY29tcG9uZW50IHRoYXQgd2FybnMgd2hlbiBgc2VsZWN0ZWRgIGlzIHNldC5cbiAqL1xuXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BzKGVsZW1lbnQsIHByb3BzKSB7XG4gIC8vIFRPRE8gKHl1bmdzdGVycyk6IFJlbW92ZSBzdXBwb3J0IGZvciBgc2VsZWN0ZWRgIGluIDxvcHRpb24+LlxuICB7XG4gICAgaWYgKHByb3BzLnNlbGVjdGVkICE9IG51bGwgJiYgIWRpZFdhcm5TZWxlY3RlZFNldE9uT3B0aW9uKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnVXNlIHRoZSBgZGVmYXVsdFZhbHVlYCBvciBgdmFsdWVgIHByb3BzIG9uIDxzZWxlY3Q+IGluc3RlYWQgb2YgJyArICdzZXR0aW5nIGBzZWxlY3RlZGAgb24gPG9wdGlvbj4uJyk7XG4gICAgICBkaWRXYXJuU2VsZWN0ZWRTZXRPbk9wdGlvbiA9IHRydWU7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHBvc3RNb3VudFdyYXBwZXIkMShlbGVtZW50LCBwcm9wcykge1xuICAvLyB2YWx1ZT1cIlwiIHNob3VsZCBtYWtlIGEgdmFsdWUgYXR0cmlidXRlICgjNjIxOSlcbiAgaWYgKHByb3BzLnZhbHVlICE9IG51bGwpIHtcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgndmFsdWUnLCBwcm9wcy52YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0SG9zdFByb3BzJDEoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIGhvc3RQcm9wcyA9IF9hc3NpZ24oeyBjaGlsZHJlbjogdW5kZWZpbmVkIH0sIHByb3BzKTtcbiAgdmFyIGNvbnRlbnQgPSBmbGF0dGVuQ2hpbGRyZW4ocHJvcHMuY2hpbGRyZW4pO1xuXG4gIGlmIChjb250ZW50KSB7XG4gICAgaG9zdFByb3BzLmNoaWxkcmVuID0gY29udGVudDtcbiAgfVxuXG4gIHJldHVybiBob3N0UHJvcHM7XG59XG5cbi8vIFRPRE86IGRpcmVjdCBpbXBvcnRzIGxpa2Ugc29tZS1wYWNrYWdlL3NyYy8qIGFyZSBiYWQuIEZpeCBtZS5cbnZhciBnZXRDdXJyZW50RmliZXJPd25lck5hbWUkMyA9IFJlYWN0RGVidWdDdXJyZW50RmliZXIuZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lO1xudmFyIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kNCA9IFJlYWN0RGVidWdDdXJyZW50RmliZXIuZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bTtcblxuXG52YXIgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlJDEgPSB2b2lkIDA7XG5cbntcbiAgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlJDEgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCkge1xuICB2YXIgb3duZXJOYW1lID0gZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lJDMoKTtcbiAgaWYgKG93bmVyTmFtZSkge1xuICAgIHJldHVybiAnXFxuXFxuQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBvd25lck5hbWUgKyAnYC4nO1xuICB9XG4gIHJldHVybiAnJztcbn1cblxudmFyIHZhbHVlUHJvcE5hbWVzID0gWyd2YWx1ZScsICdkZWZhdWx0VmFsdWUnXTtcblxuLyoqXG4gKiBWYWxpZGF0aW9uIGZ1bmN0aW9uIGZvciBgdmFsdWVgIGFuZCBgZGVmYXVsdFZhbHVlYC5cbiAqL1xuZnVuY3Rpb24gY2hlY2tTZWxlY3RQcm9wVHlwZXMocHJvcHMpIHtcbiAgUmVhY3RDb250cm9sbGVkVmFsdWVQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoJ3NlbGVjdCcsIHByb3BzLCBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDQpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVQcm9wTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcHJvcE5hbWUgPSB2YWx1ZVByb3BOYW1lc1tpXTtcbiAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09IG51bGwpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkocHJvcHNbcHJvcE5hbWVdKTtcbiAgICBpZiAocHJvcHMubXVsdGlwbGUgJiYgIWlzQXJyYXkpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdUaGUgYCVzYCBwcm9wIHN1cHBsaWVkIHRvIDxzZWxlY3Q+IG11c3QgYmUgYW4gYXJyYXkgaWYgJyArICdgbXVsdGlwbGVgIGlzIHRydWUuJXMnLCBwcm9wTmFtZSwgZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCkpO1xuICAgIH0gZWxzZSBpZiAoIXByb3BzLm11bHRpcGxlICYmIGlzQXJyYXkpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdUaGUgYCVzYCBwcm9wIHN1cHBsaWVkIHRvIDxzZWxlY3Q+IG11c3QgYmUgYSBzY2FsYXIgJyArICd2YWx1ZSBpZiBgbXVsdGlwbGVgIGlzIGZhbHNlLiVzJywgcHJvcE5hbWUsIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlT3B0aW9ucyhub2RlLCBtdWx0aXBsZSwgcHJvcFZhbHVlLCBzZXREZWZhdWx0U2VsZWN0ZWQpIHtcbiAgdmFyIG9wdGlvbnMgPSBub2RlLm9wdGlvbnM7XG5cbiAgaWYgKG11bHRpcGxlKSB7XG4gICAgdmFyIHNlbGVjdGVkVmFsdWVzID0gcHJvcFZhbHVlO1xuICAgIHZhciBzZWxlY3RlZFZhbHVlID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3RlZFZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gUHJlZml4IHRvIGF2b2lkIGNoYW9zIHdpdGggc3BlY2lhbCBrZXlzLlxuICAgICAgc2VsZWN0ZWRWYWx1ZVsnJCcgKyBzZWxlY3RlZFZhbHVlc1tpXV0gPSB0cnVlO1xuICAgIH1cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgb3B0aW9ucy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBzZWxlY3RlZCA9IHNlbGVjdGVkVmFsdWUuaGFzT3duUHJvcGVydHkoJyQnICsgb3B0aW9uc1tfaV0udmFsdWUpO1xuICAgICAgaWYgKG9wdGlvbnNbX2ldLnNlbGVjdGVkICE9PSBzZWxlY3RlZCkge1xuICAgICAgICBvcHRpb25zW19pXS5zZWxlY3RlZCA9IHNlbGVjdGVkO1xuICAgICAgfVxuICAgICAgaWYgKHNlbGVjdGVkICYmIHNldERlZmF1bHRTZWxlY3RlZCkge1xuICAgICAgICBvcHRpb25zW19pXS5kZWZhdWx0U2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBEbyBub3Qgc2V0IGBzZWxlY3QudmFsdWVgIGFzIGV4YWN0IGJlaGF2aW9yIGlzbid0IGNvbnNpc3RlbnQgYWNyb3NzIGFsbFxuICAgIC8vIGJyb3dzZXJzIGZvciBhbGwgY2FzZXMuXG4gICAgdmFyIF9zZWxlY3RlZFZhbHVlID0gJycgKyBwcm9wVmFsdWU7XG4gICAgdmFyIGRlZmF1bHRTZWxlY3RlZCA9IG51bGw7XG4gICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgb3B0aW9ucy5sZW5ndGg7IF9pMisrKSB7XG4gICAgICBpZiAob3B0aW9uc1tfaTJdLnZhbHVlID09PSBfc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICBvcHRpb25zW19pMl0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICBpZiAoc2V0RGVmYXVsdFNlbGVjdGVkKSB7XG4gICAgICAgICAgb3B0aW9uc1tfaTJdLmRlZmF1bHRTZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGRlZmF1bHRTZWxlY3RlZCA9PT0gbnVsbCAmJiAhb3B0aW9uc1tfaTJdLmRpc2FibGVkKSB7XG4gICAgICAgIGRlZmF1bHRTZWxlY3RlZCA9IG9wdGlvbnNbX2kyXTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGRlZmF1bHRTZWxlY3RlZCAhPT0gbnVsbCkge1xuICAgICAgZGVmYXVsdFNlbGVjdGVkLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBJbXBsZW1lbnRzIGEgPHNlbGVjdD4gaG9zdCBjb21wb25lbnQgdGhhdCBhbGxvd3Mgb3B0aW9uYWxseSBzZXR0aW5nIHRoZVxuICogcHJvcHMgYHZhbHVlYCBhbmQgYGRlZmF1bHRWYWx1ZWAuIElmIGBtdWx0aXBsZWAgaXMgZmFsc2UsIHRoZSBwcm9wIG11c3QgYmUgYVxuICogc3RyaW5nYWJsZS4gSWYgYG11bHRpcGxlYCBpcyB0cnVlLCB0aGUgcHJvcCBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ2FibGVzLlxuICpcbiAqIElmIGB2YWx1ZWAgaXMgbm90IHN1cHBsaWVkIChvciBudWxsL3VuZGVmaW5lZCksIHVzZXIgYWN0aW9ucyB0aGF0IGNoYW5nZSB0aGVcbiAqIHNlbGVjdGVkIG9wdGlvbiB3aWxsIHRyaWdnZXIgdXBkYXRlcyB0byB0aGUgcmVuZGVyZWQgb3B0aW9ucy5cbiAqXG4gKiBJZiBpdCBpcyBzdXBwbGllZCAoYW5kIG5vdCBudWxsL3VuZGVmaW5lZCksIHRoZSByZW5kZXJlZCBvcHRpb25zIHdpbGwgbm90XG4gKiB1cGRhdGUgaW4gcmVzcG9uc2UgdG8gdXNlciBhY3Rpb25zLiBJbnN0ZWFkLCB0aGUgYHZhbHVlYCBwcm9wIG11c3QgY2hhbmdlIGluXG4gKiBvcmRlciBmb3IgdGhlIHJlbmRlcmVkIG9wdGlvbnMgdG8gdXBkYXRlLlxuICpcbiAqIElmIGBkZWZhdWx0VmFsdWVgIGlzIHByb3ZpZGVkLCBhbnkgb3B0aW9ucyB3aXRoIHRoZSBzdXBwbGllZCB2YWx1ZXMgd2lsbCBiZVxuICogc2VsZWN0ZWQuXG4gKi9cblxuZnVuY3Rpb24gZ2V0SG9zdFByb3BzJDIoZWxlbWVudCwgcHJvcHMpIHtcbiAgcmV0dXJuIF9hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgdmFsdWU6IHVuZGVmaW5lZFxuICB9KTtcbn1cblxuZnVuY3Rpb24gaW5pdFdyYXBwZXJTdGF0ZSQxKGVsZW1lbnQsIHByb3BzKSB7XG4gIHZhciBub2RlID0gZWxlbWVudDtcbiAge1xuICAgIGNoZWNrU2VsZWN0UHJvcFR5cGVzKHByb3BzKTtcbiAgfVxuXG4gIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlO1xuICBub2RlLl93cmFwcGVyU3RhdGUgPSB7XG4gICAgaW5pdGlhbFZhbHVlOiB2YWx1ZSAhPSBudWxsID8gdmFsdWUgOiBwcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgd2FzTXVsdGlwbGU6ICEhcHJvcHMubXVsdGlwbGVcbiAgfTtcblxuICB7XG4gICAgaWYgKHByb3BzLnZhbHVlICE9PSB1bmRlZmluZWQgJiYgcHJvcHMuZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgJiYgIWRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSQxKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnU2VsZWN0IGVsZW1lbnRzIG11c3QgYmUgZWl0aGVyIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkICcgKyAnKHNwZWNpZnkgZWl0aGVyIHRoZSB2YWx1ZSBwcm9wLCBvciB0aGUgZGVmYXVsdFZhbHVlIHByb3AsIGJ1dCBub3QgJyArICdib3RoKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBzZWxlY3QgJyArICdlbGVtZW50IGFuZCByZW1vdmUgb25lIG9mIHRoZXNlIHByb3BzLiBNb3JlIGluZm86ICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1jb250cm9sbGVkLWNvbXBvbmVudHMnKTtcbiAgICAgIGRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSQxID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcG9zdE1vdW50V3JhcHBlciQyKGVsZW1lbnQsIHByb3BzKSB7XG4gIHZhciBub2RlID0gZWxlbWVudDtcbiAgbm9kZS5tdWx0aXBsZSA9ICEhcHJvcHMubXVsdGlwbGU7XG4gIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlO1xuICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgIHVwZGF0ZU9wdGlvbnMobm9kZSwgISFwcm9wcy5tdWx0aXBsZSwgdmFsdWUsIGZhbHNlKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5kZWZhdWx0VmFsdWUgIT0gbnVsbCkge1xuICAgIHVwZGF0ZU9wdGlvbnMobm9kZSwgISFwcm9wcy5tdWx0aXBsZSwgcHJvcHMuZGVmYXVsdFZhbHVlLCB0cnVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwb3N0VXBkYXRlV3JhcHBlcihlbGVtZW50LCBwcm9wcykge1xuICB2YXIgbm9kZSA9IGVsZW1lbnQ7XG4gIC8vIEFmdGVyIHRoZSBpbml0aWFsIG1vdW50LCB3ZSBjb250cm9sIHNlbGVjdGVkLW5lc3MgbWFudWFsbHkgc28gZG9uJ3QgcGFzc1xuICAvLyB0aGlzIHZhbHVlIGRvd25cbiAgbm9kZS5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZSA9IHVuZGVmaW5lZDtcblxuICB2YXIgd2FzTXVsdGlwbGUgPSBub2RlLl93cmFwcGVyU3RhdGUud2FzTXVsdGlwbGU7XG4gIG5vZGUuX3dyYXBwZXJTdGF0ZS53YXNNdWx0aXBsZSA9ICEhcHJvcHMubXVsdGlwbGU7XG5cbiAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWU7XG4gIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgdXBkYXRlT3B0aW9ucyhub2RlLCAhIXByb3BzLm11bHRpcGxlLCB2YWx1ZSwgZmFsc2UpO1xuICB9IGVsc2UgaWYgKHdhc011bHRpcGxlICE9PSAhIXByb3BzLm11bHRpcGxlKSB7XG4gICAgLy8gRm9yIHNpbXBsaWNpdHksIHJlYXBwbHkgYGRlZmF1bHRWYWx1ZWAgaWYgYG11bHRpcGxlYCBpcyB0b2dnbGVkLlxuICAgIGlmIChwcm9wcy5kZWZhdWx0VmFsdWUgIT0gbnVsbCkge1xuICAgICAgdXBkYXRlT3B0aW9ucyhub2RlLCAhIXByb3BzLm11bHRpcGxlLCBwcm9wcy5kZWZhdWx0VmFsdWUsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZXZlcnQgdGhlIHNlbGVjdCBiYWNrIHRvIGl0cyBkZWZhdWx0IHVuc2VsZWN0ZWQgc3RhdGUuXG4gICAgICB1cGRhdGVPcHRpb25zKG5vZGUsICEhcHJvcHMubXVsdGlwbGUsIHByb3BzLm11bHRpcGxlID8gW10gOiAnJywgZmFsc2UpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXN0b3JlQ29udHJvbGxlZFN0YXRlJDIoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZTtcblxuICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgIHVwZGF0ZU9wdGlvbnMobm9kZSwgISFwcm9wcy5tdWx0aXBsZSwgdmFsdWUsIGZhbHNlKTtcbiAgfVxufVxuXG4vLyBUT0RPOiBkaXJlY3QgaW1wb3J0cyBsaWtlIHNvbWUtcGFja2FnZS9zcmMvKiBhcmUgYmFkLiBGaXggbWUuXG52YXIgZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQ1ID0gUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5nZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtO1xuXG52YXIgZGlkV2FyblZhbERlZmF1bHRWYWwgPSBmYWxzZTtcblxuLyoqXG4gKiBJbXBsZW1lbnRzIGEgPHRleHRhcmVhPiBob3N0IGNvbXBvbmVudCB0aGF0IGFsbG93cyBzZXR0aW5nIGB2YWx1ZWAsIGFuZFxuICogYGRlZmF1bHRWYWx1ZWAuIFRoaXMgZGlmZmVycyBmcm9tIHRoZSB0cmFkaXRpb25hbCBET00gQVBJIGJlY2F1c2UgdmFsdWUgaXNcbiAqIHVzdWFsbHkgc2V0IGFzIFBDREFUQSBjaGlsZHJlbi5cbiAqXG4gKiBJZiBgdmFsdWVgIGlzIG5vdCBzdXBwbGllZCAob3IgbnVsbC91bmRlZmluZWQpLCB1c2VyIGFjdGlvbnMgdGhhdCBhZmZlY3QgdGhlXG4gKiB2YWx1ZSB3aWxsIHRyaWdnZXIgdXBkYXRlcyB0byB0aGUgZWxlbWVudC5cbiAqXG4gKiBJZiBgdmFsdWVgIGlzIHN1cHBsaWVkIChhbmQgbm90IG51bGwvdW5kZWZpbmVkKSwgdGhlIHJlbmRlcmVkIGVsZW1lbnQgd2lsbFxuICogbm90IHRyaWdnZXIgdXBkYXRlcyB0byB0aGUgZWxlbWVudC4gSW5zdGVhZCwgdGhlIGB2YWx1ZWAgcHJvcCBtdXN0IGNoYW5nZSBpblxuICogb3JkZXIgZm9yIHRoZSByZW5kZXJlZCBlbGVtZW50IHRvIGJlIHVwZGF0ZWQuXG4gKlxuICogVGhlIHJlbmRlcmVkIGVsZW1lbnQgd2lsbCBiZSBpbml0aWFsaXplZCB3aXRoIGFuIGVtcHR5IHZhbHVlLCB0aGUgcHJvcFxuICogYGRlZmF1bHRWYWx1ZWAgaWYgc3BlY2lmaWVkLCBvciB0aGUgY2hpbGRyZW4gY29udGVudCAoZGVwcmVjYXRlZCkuXG4gKi9cblxuZnVuY3Rpb24gZ2V0SG9zdFByb3BzJDMoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuICAhKHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MID09IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnYGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYCBkb2VzIG5vdCBtYWtlIHNlbnNlIG9uIDx0ZXh0YXJlYT4uJykgOiB2b2lkIDA7XG5cbiAgLy8gQWx3YXlzIHNldCBjaGlsZHJlbiB0byB0aGUgc2FtZSB0aGluZy4gSW4gSUU5LCB0aGUgc2VsZWN0aW9uIHJhbmdlIHdpbGxcbiAgLy8gZ2V0IHJlc2V0IGlmIGB0ZXh0Q29udGVudGAgaXMgbXV0YXRlZC4gIFdlIGNvdWxkIGFkZCBhIGNoZWNrIGluIHNldFRleHRDb250ZW50XG4gIC8vIHRvIG9ubHkgc2V0IHRoZSB2YWx1ZSBpZi93aGVuIHRoZSB2YWx1ZSBkaWZmZXJzIGZyb20gdGhlIG5vZGUgdmFsdWUgKHdoaWNoIHdvdWxkXG4gIC8vIGNvbXBsZXRlbHkgc29sdmUgdGhpcyBJRTkgYnVnKSwgYnV0IFNlYmFzdGlhbitTb3BoaWUgc2VlbWVkIHRvIGxpa2UgdGhpc1xuICAvLyBzb2x1dGlvbi4gVGhlIHZhbHVlIGNhbiBiZSBhIGJvb2xlYW4gb3Igb2JqZWN0IHNvIHRoYXQncyB3aHkgaXQncyBmb3JjZWRcbiAgLy8gdG8gYmUgYSBzdHJpbmcuXG4gIHZhciBob3N0UHJvcHMgPSBfYXNzaWduKHt9LCBwcm9wcywge1xuICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWQsXG4gICAgY2hpbGRyZW46ICcnICsgbm9kZS5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZVxuICB9KTtcblxuICByZXR1cm4gaG9zdFByb3BzO1xufVxuXG5mdW5jdGlvbiBpbml0V3JhcHBlclN0YXRlJDIoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuICB7XG4gICAgUmVhY3RDb250cm9sbGVkVmFsdWVQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoJ3RleHRhcmVhJywgcHJvcHMsIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kNSk7XG4gICAgaWYgKHByb3BzLnZhbHVlICE9PSB1bmRlZmluZWQgJiYgcHJvcHMuZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgJiYgIWRpZFdhcm5WYWxEZWZhdWx0VmFsKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnVGV4dGFyZWEgZWxlbWVudHMgbXVzdCBiZSBlaXRoZXIgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgJyArICcoc3BlY2lmeSBlaXRoZXIgdGhlIHZhbHVlIHByb3AsIG9yIHRoZSBkZWZhdWx0VmFsdWUgcHJvcCwgYnV0IG5vdCAnICsgJ2JvdGgpLiBEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIHRleHRhcmVhICcgKyAnYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuIE1vcmUgaW5mbzogJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWNvbnRyb2xsZWQtY29tcG9uZW50cycpO1xuICAgICAgZGlkV2FyblZhbERlZmF1bHRWYWwgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHZhciBpbml0aWFsVmFsdWUgPSBwcm9wcy52YWx1ZTtcblxuICAvLyBPbmx5IGJvdGhlciBmZXRjaGluZyBkZWZhdWx0IHZhbHVlIGlmIHdlJ3JlIGdvaW5nIHRvIHVzZSBpdFxuICBpZiAoaW5pdGlhbFZhbHVlID09IG51bGwpIHtcbiAgICB2YXIgZGVmYXVsdFZhbHVlID0gcHJvcHMuZGVmYXVsdFZhbHVlO1xuICAgIC8vIFRPRE8gKHl1bmdzdGVycyk6IFJlbW92ZSBzdXBwb3J0IGZvciBjaGlsZHJlbiBjb250ZW50IGluIDx0ZXh0YXJlYT4uXG4gICAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XG4gICAgaWYgKGNoaWxkcmVuICE9IG51bGwpIHtcbiAgICAgIHtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJ1VzZSB0aGUgYGRlZmF1bHRWYWx1ZWAgb3IgYHZhbHVlYCBwcm9wcyBpbnN0ZWFkIG9mIHNldHRpbmcgJyArICdjaGlsZHJlbiBvbiA8dGV4dGFyZWE+LicpO1xuICAgICAgfVxuICAgICAgIShkZWZhdWx0VmFsdWUgPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdJZiB5b3Ugc3VwcGx5IGBkZWZhdWx0VmFsdWVgIG9uIGEgPHRleHRhcmVhPiwgZG8gbm90IHBhc3MgY2hpbGRyZW4uJykgOiB2b2lkIDA7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgIShjaGlsZHJlbi5sZW5ndGggPD0gMSkgPyBpbnZhcmlhbnQoZmFsc2UsICc8dGV4dGFyZWE+IGNhbiBvbmx5IGhhdmUgYXQgbW9zdCBvbmUgY2hpbGQuJykgOiB2b2lkIDA7XG4gICAgICAgIGNoaWxkcmVuID0gY2hpbGRyZW5bMF07XG4gICAgICB9XG5cbiAgICAgIGRlZmF1bHRWYWx1ZSA9ICcnICsgY2hpbGRyZW47XG4gICAgfVxuICAgIGlmIChkZWZhdWx0VmFsdWUgPT0gbnVsbCkge1xuICAgICAgZGVmYXVsdFZhbHVlID0gJyc7XG4gICAgfVxuICAgIGluaXRpYWxWYWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgfVxuXG4gIG5vZGUuX3dyYXBwZXJTdGF0ZSA9IHtcbiAgICBpbml0aWFsVmFsdWU6ICcnICsgaW5pdGlhbFZhbHVlXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVdyYXBwZXIkMShlbGVtZW50LCBwcm9wcykge1xuICB2YXIgbm9kZSA9IGVsZW1lbnQ7XG4gIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlO1xuICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgIC8vIENhc3QgYHZhbHVlYCB0byBhIHN0cmluZyB0byBlbnN1cmUgdGhlIHZhbHVlIGlzIHNldCBjb3JyZWN0bHkuIFdoaWxlXG4gICAgLy8gYnJvd3NlcnMgdHlwaWNhbGx5IGRvIHRoaXMgYXMgbmVjZXNzYXJ5LCBqc2RvbSBkb2Vzbid0LlxuICAgIHZhciBuZXdWYWx1ZSA9ICcnICsgdmFsdWU7XG5cbiAgICAvLyBUbyBhdm9pZCBzaWRlIGVmZmVjdHMgKHN1Y2ggYXMgbG9zaW5nIHRleHQgc2VsZWN0aW9uKSwgb25seSBzZXQgdmFsdWUgaWYgY2hhbmdlZFxuICAgIGlmIChuZXdWYWx1ZSAhPT0gbm9kZS52YWx1ZSkge1xuICAgICAgbm9kZS52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgIH1cbiAgICBpZiAocHJvcHMuZGVmYXVsdFZhbHVlID09IG51bGwpIHtcbiAgICAgIG5vZGUuZGVmYXVsdFZhbHVlID0gbmV3VmFsdWU7XG4gICAgfVxuICB9XG4gIGlmIChwcm9wcy5kZWZhdWx0VmFsdWUgIT0gbnVsbCkge1xuICAgIG5vZGUuZGVmYXVsdFZhbHVlID0gcHJvcHMuZGVmYXVsdFZhbHVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBvc3RNb3VudFdyYXBwZXIkMyhlbGVtZW50LCBwcm9wcykge1xuICB2YXIgbm9kZSA9IGVsZW1lbnQ7XG4gIC8vIFRoaXMgaXMgaW4gcG9zdE1vdW50IGJlY2F1c2Ugd2UgbmVlZCBhY2Nlc3MgdG8gdGhlIERPTSBub2RlLCB3aGljaCBpcyBub3RcbiAgLy8gYXZhaWxhYmxlIHVudGlsIGFmdGVyIHRoZSBjb21wb25lbnQgaGFzIG1vdW50ZWQuXG4gIHZhciB0ZXh0Q29udGVudCA9IG5vZGUudGV4dENvbnRlbnQ7XG5cbiAgLy8gT25seSBzZXQgbm9kZS52YWx1ZSBpZiB0ZXh0Q29udGVudCBpcyBlcXVhbCB0byB0aGUgZXhwZWN0ZWRcbiAgLy8gaW5pdGlhbCB2YWx1ZS4gSW4gSUUxMC9JRTExIHRoZXJlIGlzIGEgYnVnIHdoZXJlIHRoZSBwbGFjZWhvbGRlciBhdHRyaWJ1dGVcbiAgLy8gd2lsbCBwb3B1bGF0ZSB0ZXh0Q29udGVudCBhcyB3ZWxsLlxuICAvLyBodHRwczovL2RldmVsb3Blci5taWNyb3NvZnQuY29tL21pY3Jvc29mdC1lZGdlL3BsYXRmb3JtL2lzc3Vlcy8xMDE1MjUvXG4gIGlmICh0ZXh0Q29udGVudCA9PT0gbm9kZS5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZSkge1xuICAgIG5vZGUudmFsdWUgPSB0ZXh0Q29udGVudDtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXN0b3JlQ29udHJvbGxlZFN0YXRlJDMoZWxlbWVudCwgcHJvcHMpIHtcbiAgLy8gRE9NIGNvbXBvbmVudCBpcyBzdGlsbCBtb3VudGVkOyB1cGRhdGVcbiAgdXBkYXRlV3JhcHBlciQxKGVsZW1lbnQsIHByb3BzKTtcbn1cblxudmFyIEhUTUxfTkFNRVNQQUNFJDEgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCc7XG52YXIgTUFUSF9OQU1FU1BBQ0UgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTCc7XG52YXIgU1ZHX05BTUVTUEFDRSA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5cbnZhciBOYW1lc3BhY2VzID0ge1xuICBodG1sOiBIVE1MX05BTUVTUEFDRSQxLFxuICBtYXRobWw6IE1BVEhfTkFNRVNQQUNFLFxuICBzdmc6IFNWR19OQU1FU1BBQ0Vcbn07XG5cbi8vIEFzc3VtZXMgdGhlcmUgaXMgbm8gcGFyZW50IG5hbWVzcGFjZS5cbmZ1bmN0aW9uIGdldEludHJpbnNpY05hbWVzcGFjZSh0eXBlKSB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ3N2Zyc6XG4gICAgICByZXR1cm4gU1ZHX05BTUVTUEFDRTtcbiAgICBjYXNlICdtYXRoJzpcbiAgICAgIHJldHVybiBNQVRIX05BTUVTUEFDRTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIEhUTUxfTkFNRVNQQUNFJDE7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q2hpbGROYW1lc3BhY2UocGFyZW50TmFtZXNwYWNlLCB0eXBlKSB7XG4gIGlmIChwYXJlbnROYW1lc3BhY2UgPT0gbnVsbCB8fCBwYXJlbnROYW1lc3BhY2UgPT09IEhUTUxfTkFNRVNQQUNFJDEpIHtcbiAgICAvLyBObyAob3IgZGVmYXVsdCkgcGFyZW50IG5hbWVzcGFjZTogcG90ZW50aWFsIGVudHJ5IHBvaW50LlxuICAgIHJldHVybiBnZXRJbnRyaW5zaWNOYW1lc3BhY2UodHlwZSk7XG4gIH1cbiAgaWYgKHBhcmVudE5hbWVzcGFjZSA9PT0gU1ZHX05BTUVTUEFDRSAmJiB0eXBlID09PSAnZm9yZWlnbk9iamVjdCcpIHtcbiAgICAvLyBXZSdyZSBsZWF2aW5nIFNWRy5cbiAgICByZXR1cm4gSFRNTF9OQU1FU1BBQ0UkMTtcbiAgfVxuICAvLyBCeSBkZWZhdWx0LCBwYXNzIG5hbWVzcGFjZSBiZWxvdy5cbiAgcmV0dXJuIHBhcmVudE5hbWVzcGFjZTtcbn1cblxuLyogZ2xvYmFscyBNU0FwcCAqL1xuXG4vKipcbiAqIENyZWF0ZSBhIGZ1bmN0aW9uIHdoaWNoIGhhcyAndW5zYWZlJyBwcml2aWxlZ2VzIChyZXF1aXJlZCBieSB3aW5kb3dzOCBhcHBzKVxuICovXG52YXIgY3JlYXRlTWljcm9zb2Z0VW5zYWZlTG9jYWxGdW5jdGlvbiA9IGZ1bmN0aW9uIChmdW5jKSB7XG4gIGlmICh0eXBlb2YgTVNBcHAgIT09ICd1bmRlZmluZWQnICYmIE1TQXBwLmV4ZWNVbnNhZmVMb2NhbEZ1bmN0aW9uKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhcmcwLCBhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgICBNU0FwcC5leGVjVW5zYWZlTG9jYWxGdW5jdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmdW5jKGFyZzAsIGFyZzEsIGFyZzIsIGFyZzMpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZnVuYztcbiAgfVxufTtcblxuLy8gU1ZHIHRlbXAgY29udGFpbmVyIGZvciBJRSBsYWNraW5nIGlubmVySFRNTFxudmFyIHJldXNhYmxlU1ZHQ29udGFpbmVyID0gdm9pZCAwO1xuXG4vKipcbiAqIFNldCB0aGUgaW5uZXJIVE1MIHByb3BlcnR5IG9mIGEgbm9kZVxuICpcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcbiAqIEBpbnRlcm5hbFxuICovXG52YXIgc2V0SW5uZXJIVE1MID0gY3JlYXRlTWljcm9zb2Z0VW5zYWZlTG9jYWxGdW5jdGlvbihmdW5jdGlvbiAobm9kZSwgaHRtbCkge1xuICAvLyBJRSBkb2VzIG5vdCBoYXZlIGlubmVySFRNTCBmb3IgU1ZHIG5vZGVzLCBzbyBpbnN0ZWFkIHdlIGluamVjdCB0aGVcbiAgLy8gbmV3IG1hcmt1cCBpbiBhIHRlbXAgbm9kZSBhbmQgdGhlbiBtb3ZlIHRoZSBjaGlsZCBub2RlcyBhY3Jvc3MgaW50b1xuICAvLyB0aGUgdGFyZ2V0IG5vZGVcblxuICBpZiAobm9kZS5uYW1lc3BhY2VVUkkgPT09IE5hbWVzcGFjZXMuc3ZnICYmICEoJ2lubmVySFRNTCcgaW4gbm9kZSkpIHtcbiAgICByZXVzYWJsZVNWR0NvbnRhaW5lciA9IHJldXNhYmxlU1ZHQ29udGFpbmVyIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJldXNhYmxlU1ZHQ29udGFpbmVyLmlubmVySFRNTCA9ICc8c3ZnPicgKyBodG1sICsgJzwvc3ZnPic7XG4gICAgdmFyIHN2Z05vZGUgPSByZXVzYWJsZVNWR0NvbnRhaW5lci5maXJzdENoaWxkO1xuICAgIHdoaWxlIChub2RlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIG5vZGUucmVtb3ZlQ2hpbGQobm9kZS5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgd2hpbGUgKHN2Z05vZGUuZmlyc3RDaGlsZCkge1xuICAgICAgbm9kZS5hcHBlbmRDaGlsZChzdmdOb2RlLmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBub2RlLmlubmVySFRNTCA9IGh0bWw7XG4gIH1cbn0pO1xuXG4vKipcbiAqIFNldCB0aGUgdGV4dENvbnRlbnQgcHJvcGVydHkgb2YgYSBub2RlLiBGb3IgdGV4dCB1cGRhdGVzLCBpdCdzIGZhc3RlclxuICogdG8gc2V0IHRoZSBgbm9kZVZhbHVlYCBvZiB0aGUgVGV4dCBub2RlIGRpcmVjdGx5IGluc3RlYWQgb2YgdXNpbmdcbiAqIGAudGV4dENvbnRlbnRgIHdoaWNoIHdpbGwgcmVtb3ZlIHRoZSBleGlzdGluZyBub2RlIGFuZCBjcmVhdGUgYSBuZXcgb25lLlxuICpcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAqIEBpbnRlcm5hbFxuICovXG52YXIgc2V0VGV4dENvbnRlbnQgPSBmdW5jdGlvbiAobm9kZSwgdGV4dCkge1xuICBpZiAodGV4dCkge1xuICAgIHZhciBmaXJzdENoaWxkID0gbm9kZS5maXJzdENoaWxkO1xuXG4gICAgaWYgKGZpcnN0Q2hpbGQgJiYgZmlyc3RDaGlsZCA9PT0gbm9kZS5sYXN0Q2hpbGQgJiYgZmlyc3RDaGlsZC5ub2RlVHlwZSA9PT0gVEVYVF9OT0RFKSB7XG4gICAgICBmaXJzdENoaWxkLm5vZGVWYWx1ZSA9IHRleHQ7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIG5vZGUudGV4dENvbnRlbnQgPSB0ZXh0O1xufTtcblxuLyoqXG4gKiBDU1MgcHJvcGVydGllcyB3aGljaCBhY2NlcHQgbnVtYmVycyBidXQgYXJlIG5vdCBpbiB1bml0cyBvZiBcInB4XCIuXG4gKi9cbnZhciBpc1VuaXRsZXNzTnVtYmVyID0ge1xuICBhbmltYXRpb25JdGVyYXRpb25Db3VudDogdHJ1ZSxcbiAgYm9yZGVySW1hZ2VPdXRzZXQ6IHRydWUsXG4gIGJvcmRlckltYWdlU2xpY2U6IHRydWUsXG4gIGJvcmRlckltYWdlV2lkdGg6IHRydWUsXG4gIGJveEZsZXg6IHRydWUsXG4gIGJveEZsZXhHcm91cDogdHJ1ZSxcbiAgYm94T3JkaW5hbEdyb3VwOiB0cnVlLFxuICBjb2x1bW5Db3VudDogdHJ1ZSxcbiAgY29sdW1uczogdHJ1ZSxcbiAgZmxleDogdHJ1ZSxcbiAgZmxleEdyb3c6IHRydWUsXG4gIGZsZXhQb3NpdGl2ZTogdHJ1ZSxcbiAgZmxleFNocmluazogdHJ1ZSxcbiAgZmxleE5lZ2F0aXZlOiB0cnVlLFxuICBmbGV4T3JkZXI6IHRydWUsXG4gIGdyaWRSb3c6IHRydWUsXG4gIGdyaWRSb3dFbmQ6IHRydWUsXG4gIGdyaWRSb3dTcGFuOiB0cnVlLFxuICBncmlkUm93U3RhcnQ6IHRydWUsXG4gIGdyaWRDb2x1bW46IHRydWUsXG4gIGdyaWRDb2x1bW5FbmQ6IHRydWUsXG4gIGdyaWRDb2x1bW5TcGFuOiB0cnVlLFxuICBncmlkQ29sdW1uU3RhcnQ6IHRydWUsXG4gIGZvbnRXZWlnaHQ6IHRydWUsXG4gIGxpbmVDbGFtcDogdHJ1ZSxcbiAgbGluZUhlaWdodDogdHJ1ZSxcbiAgb3BhY2l0eTogdHJ1ZSxcbiAgb3JkZXI6IHRydWUsXG4gIG9ycGhhbnM6IHRydWUsXG4gIHRhYlNpemU6IHRydWUsXG4gIHdpZG93czogdHJ1ZSxcbiAgekluZGV4OiB0cnVlLFxuICB6b29tOiB0cnVlLFxuXG4gIC8vIFNWRy1yZWxhdGVkIHByb3BlcnRpZXNcbiAgZmlsbE9wYWNpdHk6IHRydWUsXG4gIGZsb29kT3BhY2l0eTogdHJ1ZSxcbiAgc3RvcE9wYWNpdHk6IHRydWUsXG4gIHN0cm9rZURhc2hhcnJheTogdHJ1ZSxcbiAgc3Ryb2tlRGFzaG9mZnNldDogdHJ1ZSxcbiAgc3Ryb2tlTWl0ZXJsaW1pdDogdHJ1ZSxcbiAgc3Ryb2tlT3BhY2l0eTogdHJ1ZSxcbiAgc3Ryb2tlV2lkdGg6IHRydWVcbn07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHByZWZpeCB2ZW5kb3Itc3BlY2lmaWMgcHJlZml4LCBlZzogV2Via2l0XG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IHN0eWxlIG5hbWUsIGVnOiB0cmFuc2l0aW9uRHVyYXRpb25cbiAqIEByZXR1cm4ge3N0cmluZ30gc3R5bGUgbmFtZSBwcmVmaXhlZCB3aXRoIGBwcmVmaXhgLCBwcm9wZXJseSBjYW1lbENhc2VkLCBlZzpcbiAqIFdlYmtpdFRyYW5zaXRpb25EdXJhdGlvblxuICovXG5mdW5jdGlvbiBwcmVmaXhLZXkocHJlZml4LCBrZXkpIHtcbiAgcmV0dXJuIHByZWZpeCArIGtleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGtleS5zdWJzdHJpbmcoMSk7XG59XG5cbi8qKlxuICogU3VwcG9ydCBzdHlsZSBuYW1lcyB0aGF0IG1heSBjb21lIHBhc3NlZCBpbiBwcmVmaXhlZCBieSBhZGRpbmcgcGVybXV0YXRpb25zXG4gKiBvZiB2ZW5kb3IgcHJlZml4ZXMuXG4gKi9cbnZhciBwcmVmaXhlcyA9IFsnV2Via2l0JywgJ21zJywgJ01veicsICdPJ107XG5cbi8vIFVzaW5nIE9iamVjdC5rZXlzIGhlcmUsIG9yIGVsc2UgdGhlIHZhbmlsbGEgZm9yLWluIGxvb3AgbWFrZXMgSUU4IGdvIGludG8gYW5cbi8vIGluZmluaXRlIGxvb3AsIGJlY2F1c2UgaXQgaXRlcmF0ZXMgb3ZlciB0aGUgbmV3bHkgYWRkZWQgcHJvcHMgdG9vLlxuT2JqZWN0LmtleXMoaXNVbml0bGVzc051bWJlcikuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICBwcmVmaXhlcy5mb3JFYWNoKGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgICBpc1VuaXRsZXNzTnVtYmVyW3ByZWZpeEtleShwcmVmaXgsIHByb3ApXSA9IGlzVW5pdGxlc3NOdW1iZXJbcHJvcF07XG4gIH0pO1xufSk7XG5cbi8qKlxuICogQ29udmVydCBhIHZhbHVlIGludG8gdGhlIHByb3BlciBjc3Mgd3JpdGFibGUgdmFsdWUuIFRoZSBzdHlsZSBuYW1lIGBuYW1lYFxuICogc2hvdWxkIGJlIGxvZ2ljYWwgKG5vIGh5cGhlbnMpLCBhcyBzcGVjaWZpZWRcbiAqIGluIGBDU1NQcm9wZXJ0eS5pc1VuaXRsZXNzTnVtYmVyYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBDU1MgcHJvcGVydHkgbmFtZSBzdWNoIGFzIGB0b3BNYXJnaW5gLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBDU1MgcHJvcGVydHkgdmFsdWUgc3VjaCBhcyBgMTBweGAuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IE5vcm1hbGl6ZWQgc3R5bGUgdmFsdWUgd2l0aCBkaW1lbnNpb25zIGFwcGxpZWQuXG4gKi9cbmZ1bmN0aW9uIGRhbmdlcm91c1N0eWxlVmFsdWUobmFtZSwgdmFsdWUsIGlzQ3VzdG9tUHJvcGVydHkpIHtcbiAgLy8gTm90ZSB0aGF0IHdlJ3ZlIHJlbW92ZWQgZXNjYXBlVGV4dEZvckJyb3dzZXIoKSBjYWxscyBoZXJlIHNpbmNlIHRoZVxuICAvLyB3aG9sZSBzdHJpbmcgd2lsbCBiZSBlc2NhcGVkIHdoZW4gdGhlIGF0dHJpYnV0ZSBpcyBpbmplY3RlZCBpbnRvXG4gIC8vIHRoZSBtYXJrdXAuIElmIHlvdSBwcm92aWRlIHVuc2FmZSB1c2VyIGRhdGEgaGVyZSB0aGV5IGNhbiBpbmplY3RcbiAgLy8gYXJiaXRyYXJ5IENTUyB3aGljaCBtYXkgYmUgcHJvYmxlbWF0aWMgKEkgY291bGRuJ3QgcmVwcm8gdGhpcyk6XG4gIC8vIGh0dHBzOi8vd3d3Lm93YXNwLm9yZy9pbmRleC5waHAvWFNTX0ZpbHRlcl9FdmFzaW9uX0NoZWF0X1NoZWV0XG4gIC8vIGh0dHA6Ly93d3cudGhlc3Bhbm5lci5jby51ay8yMDA3LzExLzI2L3VsdGltYXRlLXhzcy1jc3MtaW5qZWN0aW9uL1xuICAvLyBUaGlzIGlzIG5vdCBhbiBYU1MgaG9sZSBidXQgaW5zdGVhZCBhIHBvdGVudGlhbCBDU1MgaW5qZWN0aW9uIGlzc3VlXG4gIC8vIHdoaWNoIGhhcyBsZWFkIHRvIGEgZ3JlYXRlciBkaXNjdXNzaW9uIGFib3V0IGhvdyB3ZSdyZSBnb2luZyB0b1xuICAvLyB0cnVzdCBVUkxzIG1vdmluZyBmb3J3YXJkLiBTZWUgIzIxMTU5MDFcblxuICB2YXIgaXNFbXB0eSA9IHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicgfHwgdmFsdWUgPT09ICcnO1xuICBpZiAoaXNFbXB0eSkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIGlmICghaXNDdXN0b21Qcm9wZXJ0eSAmJiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHZhbHVlICE9PSAwICYmICEoaXNVbml0bGVzc051bWJlci5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiBpc1VuaXRsZXNzTnVtYmVyW25hbWVdKSkge1xuICAgIHJldHVybiB2YWx1ZSArICdweCc7IC8vIFByZXN1bWVzIGltcGxpY2l0ICdweCcgc3VmZml4IGZvciB1bml0bGVzcyBudW1iZXJzXG4gIH1cblxuICByZXR1cm4gKCcnICsgdmFsdWUpLnRyaW0oKTtcbn1cblxudmFyIHdhcm5WYWxpZFN0eWxlID0gZW1wdHlGdW5jdGlvbjtcblxue1xuICAvLyAnbXNUcmFuc2Zvcm0nIGlzIGNvcnJlY3QsIGJ1dCB0aGUgb3RoZXIgcHJlZml4ZXMgc2hvdWxkIGJlIGNhcGl0YWxpemVkXG4gIHZhciBiYWRWZW5kb3JlZFN0eWxlTmFtZVBhdHRlcm4gPSAvXig/OndlYmtpdHxtb3p8bylbQS1aXS87XG5cbiAgLy8gc3R5bGUgdmFsdWVzIHNob3VsZG4ndCBjb250YWluIGEgc2VtaWNvbG9uXG4gIHZhciBiYWRTdHlsZVZhbHVlV2l0aFNlbWljb2xvblBhdHRlcm4gPSAvO1xccyokLztcblxuICB2YXIgd2FybmVkU3R5bGVOYW1lcyA9IHt9O1xuICB2YXIgd2FybmVkU3R5bGVWYWx1ZXMgPSB7fTtcbiAgdmFyIHdhcm5lZEZvck5hTlZhbHVlID0gZmFsc2U7XG4gIHZhciB3YXJuZWRGb3JJbmZpbml0eVZhbHVlID0gZmFsc2U7XG5cbiAgdmFyIHdhcm5IeXBoZW5hdGVkU3R5bGVOYW1lID0gZnVuY3Rpb24gKG5hbWUsIGdldFN0YWNrKSB7XG4gICAgaWYgKHdhcm5lZFN0eWxlTmFtZXMuaGFzT3duUHJvcGVydHkobmFtZSkgJiYgd2FybmVkU3R5bGVOYW1lc1tuYW1lXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdhcm5lZFN0eWxlTmFtZXNbbmFtZV0gPSB0cnVlO1xuICAgIHdhcm5pbmcoZmFsc2UsICdVbnN1cHBvcnRlZCBzdHlsZSBwcm9wZXJ0eSAlcy4gRGlkIHlvdSBtZWFuICVzPyVzJywgbmFtZSwgY2FtZWxpemVTdHlsZU5hbWUobmFtZSksIGdldFN0YWNrKCkpO1xuICB9O1xuXG4gIHZhciB3YXJuQmFkVmVuZG9yZWRTdHlsZU5hbWUgPSBmdW5jdGlvbiAobmFtZSwgZ2V0U3RhY2spIHtcbiAgICBpZiAod2FybmVkU3R5bGVOYW1lcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiB3YXJuZWRTdHlsZU5hbWVzW25hbWVdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2FybmVkU3R5bGVOYW1lc1tuYW1lXSA9IHRydWU7XG4gICAgd2FybmluZyhmYWxzZSwgJ1Vuc3VwcG9ydGVkIHZlbmRvci1wcmVmaXhlZCBzdHlsZSBwcm9wZXJ0eSAlcy4gRGlkIHlvdSBtZWFuICVzPyVzJywgbmFtZSwgbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoMSksIGdldFN0YWNrKCkpO1xuICB9O1xuXG4gIHZhciB3YXJuU3R5bGVWYWx1ZVdpdGhTZW1pY29sb24gPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUsIGdldFN0YWNrKSB7XG4gICAgaWYgKHdhcm5lZFN0eWxlVmFsdWVzLmhhc093blByb3BlcnR5KHZhbHVlKSAmJiB3YXJuZWRTdHlsZVZhbHVlc1t2YWx1ZV0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3YXJuZWRTdHlsZVZhbHVlc1t2YWx1ZV0gPSB0cnVlO1xuICAgIHdhcm5pbmcoZmFsc2UsIFwiU3R5bGUgcHJvcGVydHkgdmFsdWVzIHNob3VsZG4ndCBjb250YWluIGEgc2VtaWNvbG9uLiBcIiArICdUcnkgXCIlczogJXNcIiBpbnN0ZWFkLiVzJywgbmFtZSwgdmFsdWUucmVwbGFjZShiYWRTdHlsZVZhbHVlV2l0aFNlbWljb2xvblBhdHRlcm4sICcnKSwgZ2V0U3RhY2soKSk7XG4gIH07XG5cbiAgdmFyIHdhcm5TdHlsZVZhbHVlSXNOYU4gPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUsIGdldFN0YWNrKSB7XG4gICAgaWYgKHdhcm5lZEZvck5hTlZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2FybmVkRm9yTmFOVmFsdWUgPSB0cnVlO1xuICAgIHdhcm5pbmcoZmFsc2UsICdgTmFOYCBpcyBhbiBpbnZhbGlkIHZhbHVlIGZvciB0aGUgYCVzYCBjc3Mgc3R5bGUgcHJvcGVydHkuJXMnLCBuYW1lLCBnZXRTdGFjaygpKTtcbiAgfTtcblxuICB2YXIgd2FyblN0eWxlVmFsdWVJc0luZmluaXR5ID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlLCBnZXRTdGFjaykge1xuICAgIGlmICh3YXJuZWRGb3JJbmZpbml0eVZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2FybmVkRm9ySW5maW5pdHlWYWx1ZSA9IHRydWU7XG4gICAgd2FybmluZyhmYWxzZSwgJ2BJbmZpbml0eWAgaXMgYW4gaW52YWxpZCB2YWx1ZSBmb3IgdGhlIGAlc2AgY3NzIHN0eWxlIHByb3BlcnR5LiVzJywgbmFtZSwgZ2V0U3RhY2soKSk7XG4gIH07XG5cbiAgd2FyblZhbGlkU3R5bGUgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUsIGdldFN0YWNrKSB7XG4gICAgaWYgKG5hbWUuaW5kZXhPZignLScpID4gLTEpIHtcbiAgICAgIHdhcm5IeXBoZW5hdGVkU3R5bGVOYW1lKG5hbWUsIGdldFN0YWNrKTtcbiAgICB9IGVsc2UgaWYgKGJhZFZlbmRvcmVkU3R5bGVOYW1lUGF0dGVybi50ZXN0KG5hbWUpKSB7XG4gICAgICB3YXJuQmFkVmVuZG9yZWRTdHlsZU5hbWUobmFtZSwgZ2V0U3RhY2spO1xuICAgIH0gZWxzZSBpZiAoYmFkU3R5bGVWYWx1ZVdpdGhTZW1pY29sb25QYXR0ZXJuLnRlc3QodmFsdWUpKSB7XG4gICAgICB3YXJuU3R5bGVWYWx1ZVdpdGhTZW1pY29sb24obmFtZSwgdmFsdWUsIGdldFN0YWNrKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgaWYgKGlzTmFOKHZhbHVlKSkge1xuICAgICAgICB3YXJuU3R5bGVWYWx1ZUlzTmFOKG5hbWUsIHZhbHVlLCBnZXRTdGFjayk7XG4gICAgICB9IGVsc2UgaWYgKCFpc0Zpbml0ZSh2YWx1ZSkpIHtcbiAgICAgICAgd2FyblN0eWxlVmFsdWVJc0luZmluaXR5KG5hbWUsIHZhbHVlLCBnZXRTdGFjayk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG52YXIgd2FyblZhbGlkU3R5bGUkMSA9IHdhcm5WYWxpZFN0eWxlO1xuXG4vKipcbiAqIE9wZXJhdGlvbnMgZm9yIGRlYWxpbmcgd2l0aCBDU1MgcHJvcGVydGllcy5cbiAqL1xuXG4vKipcbiAqIFRoaXMgY3JlYXRlcyBhIHN0cmluZyB0aGF0IGlzIGV4cGVjdGVkIHRvIGJlIGVxdWl2YWxlbnQgdG8gdGhlIHN0eWxlXG4gKiBhdHRyaWJ1dGUgZ2VuZXJhdGVkIGJ5IHNlcnZlci1zaWRlIHJlbmRlcmluZy4gSXQgYnktcGFzc2VzIHdhcm5pbmdzIGFuZFxuICogc2VjdXJpdHkgY2hlY2tzIHNvIGl0J3Mgbm90IHNhZmUgdG8gdXNlIHRoaXMgdmFsdWUgZm9yIGFueXRoaW5nIG90aGVyIHRoYW5cbiAqIGNvbXBhcmlzb24uIEl0IGlzIG9ubHkgdXNlZCBpbiBERVYgZm9yIFNTUiB2YWxpZGF0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVEYW5nZXJvdXNTdHJpbmdGb3JTdHlsZXMoc3R5bGVzKSB7XG4gIHtcbiAgICB2YXIgc2VyaWFsaXplZCA9ICcnO1xuICAgIHZhciBkZWxpbWl0ZXIgPSAnJztcbiAgICBmb3IgKHZhciBzdHlsZU5hbWUgaW4gc3R5bGVzKSB7XG4gICAgICBpZiAoIXN0eWxlcy5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIHN0eWxlVmFsdWUgPSBzdHlsZXNbc3R5bGVOYW1lXTtcbiAgICAgIGlmIChzdHlsZVZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgdmFyIGlzQ3VzdG9tUHJvcGVydHkgPSBzdHlsZU5hbWUuaW5kZXhPZignLS0nKSA9PT0gMDtcbiAgICAgICAgc2VyaWFsaXplZCArPSBkZWxpbWl0ZXIgKyBoeXBoZW5hdGVTdHlsZU5hbWUoc3R5bGVOYW1lKSArICc6JztcbiAgICAgICAgc2VyaWFsaXplZCArPSBkYW5nZXJvdXNTdHlsZVZhbHVlKHN0eWxlTmFtZSwgc3R5bGVWYWx1ZSwgaXNDdXN0b21Qcm9wZXJ0eSk7XG5cbiAgICAgICAgZGVsaW1pdGVyID0gJzsnO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2VyaWFsaXplZCB8fCBudWxsO1xuICB9XG59XG5cbi8qKlxuICogU2V0cyB0aGUgdmFsdWUgZm9yIG11bHRpcGxlIHN0eWxlcyBvbiBhIG5vZGUuICBJZiBhIHZhbHVlIGlzIHNwZWNpZmllZCBhc1xuICogJycgKGVtcHR5IHN0cmluZyksIHRoZSBjb3JyZXNwb25kaW5nIHN0eWxlIHByb3BlcnR5IHdpbGwgYmUgdW5zZXQuXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge29iamVjdH0gc3R5bGVzXG4gKi9cbmZ1bmN0aW9uIHNldFZhbHVlRm9yU3R5bGVzKG5vZGUsIHN0eWxlcywgZ2V0U3RhY2spIHtcbiAgdmFyIHN0eWxlID0gbm9kZS5zdHlsZTtcbiAgZm9yICh2YXIgc3R5bGVOYW1lIGluIHN0eWxlcykge1xuICAgIGlmICghc3R5bGVzLmhhc093blByb3BlcnR5KHN0eWxlTmFtZSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YXIgaXNDdXN0b21Qcm9wZXJ0eSA9IHN0eWxlTmFtZS5pbmRleE9mKCctLScpID09PSAwO1xuICAgIHtcbiAgICAgIGlmICghaXNDdXN0b21Qcm9wZXJ0eSkge1xuICAgICAgICB3YXJuVmFsaWRTdHlsZSQxKHN0eWxlTmFtZSwgc3R5bGVzW3N0eWxlTmFtZV0sIGdldFN0YWNrKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHN0eWxlVmFsdWUgPSBkYW5nZXJvdXNTdHlsZVZhbHVlKHN0eWxlTmFtZSwgc3R5bGVzW3N0eWxlTmFtZV0sIGlzQ3VzdG9tUHJvcGVydHkpO1xuICAgIGlmIChzdHlsZU5hbWUgPT09ICdmbG9hdCcpIHtcbiAgICAgIHN0eWxlTmFtZSA9ICdjc3NGbG9hdCc7XG4gICAgfVxuICAgIGlmIChpc0N1c3RvbVByb3BlcnR5KSB7XG4gICAgICBzdHlsZS5zZXRQcm9wZXJ0eShzdHlsZU5hbWUsIHN0eWxlVmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZVtzdHlsZU5hbWVdID0gc3R5bGVWYWx1ZTtcbiAgICB9XG4gIH1cbn1cblxuLy8gRm9yIEhUTUwsIGNlcnRhaW4gdGFncyBzaG91bGQgb21pdCB0aGVpciBjbG9zZSB0YWcuIFdlIGtlZXAgYSB3aGl0ZWxpc3QgZm9yXG4vLyB0aG9zZSBzcGVjaWFsLWNhc2UgdGFncy5cblxudmFyIG9taXR0ZWRDbG9zZVRhZ3MgPSB7XG4gIGFyZWE6IHRydWUsXG4gIGJhc2U6IHRydWUsXG4gIGJyOiB0cnVlLFxuICBjb2w6IHRydWUsXG4gIGVtYmVkOiB0cnVlLFxuICBocjogdHJ1ZSxcbiAgaW1nOiB0cnVlLFxuICBpbnB1dDogdHJ1ZSxcbiAga2V5Z2VuOiB0cnVlLFxuICBsaW5rOiB0cnVlLFxuICBtZXRhOiB0cnVlLFxuICBwYXJhbTogdHJ1ZSxcbiAgc291cmNlOiB0cnVlLFxuICB0cmFjazogdHJ1ZSxcbiAgd2JyOiB0cnVlXG59O1xuXG4vLyBGb3IgSFRNTCwgY2VydGFpbiB0YWdzIGNhbm5vdCBoYXZlIGNoaWxkcmVuLiBUaGlzIGhhcyB0aGUgc2FtZSBwdXJwb3NlIGFzXG4vLyBgb21pdHRlZENsb3NlVGFnc2AgZXhjZXB0IHRoYXQgYG1lbnVpdGVtYCBzaG91bGQgc3RpbGwgaGF2ZSBpdHMgY2xvc2luZyB0YWcuXG5cbnZhciB2b2lkRWxlbWVudFRhZ3MgPSBfYXNzaWduKHtcbiAgbWVudWl0ZW06IHRydWVcbn0sIG9taXR0ZWRDbG9zZVRhZ3MpO1xuXG52YXIgSFRNTCQxID0gJ19faHRtbCc7XG5cbmZ1bmN0aW9uIGFzc2VydFZhbGlkUHJvcHModGFnLCBwcm9wcywgZ2V0U3RhY2spIHtcbiAgaWYgKCFwcm9wcykge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBOb3RlIHRoZSB1c2Ugb2YgYD09YCB3aGljaCBjaGVja3MgZm9yIG51bGwgb3IgdW5kZWZpbmVkLlxuICBpZiAodm9pZEVsZW1lbnRUYWdzW3RhZ10pIHtcbiAgICAhKHByb3BzLmNoaWxkcmVuID09IG51bGwgJiYgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICclcyBpcyBhIHZvaWQgZWxlbWVudCB0YWcgYW5kIG11c3QgbmVpdGhlciBoYXZlIGBjaGlsZHJlbmAgbm9yIHVzZSBgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLiVzJywgdGFnLCBnZXRTdGFjaygpKSA6IHZvaWQgMDtcbiAgfVxuICBpZiAocHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgIT0gbnVsbCkge1xuICAgICEocHJvcHMuY2hpbGRyZW4gPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW4gb25seSBzZXQgb25lIG9mIGBjaGlsZHJlbmAgb3IgYHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYC4nKSA6IHZvaWQgMDtcbiAgICAhKHR5cGVvZiBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCA9PT0gJ29iamVjdCcgJiYgSFRNTCQxIGluIHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MKSA/IGludmFyaWFudChmYWxzZSwgJ2Bwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTGAgbXVzdCBiZSBpbiB0aGUgZm9ybSBge19faHRtbDogLi4ufWAuIFBsZWFzZSB2aXNpdCBodHRwczovL2ZiLm1lL3JlYWN0LWludmFyaWFudC1kYW5nZXJvdXNseS1zZXQtaW5uZXItaHRtbCBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nKSA6IHZvaWQgMDtcbiAgfVxuICB7XG4gICAgd2FybmluZyhwcm9wcy5zdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmcgfHwgIXByb3BzLmNvbnRlbnRFZGl0YWJsZSB8fCBwcm9wcy5jaGlsZHJlbiA9PSBudWxsLCAnQSBjb21wb25lbnQgaXMgYGNvbnRlbnRFZGl0YWJsZWAgYW5kIGNvbnRhaW5zIGBjaGlsZHJlbmAgbWFuYWdlZCBieSAnICsgJ1JlYWN0LiBJdCBpcyBub3cgeW91ciByZXNwb25zaWJpbGl0eSB0byBndWFyYW50ZWUgdGhhdCBub25lIG9mICcgKyAndGhvc2Ugbm9kZXMgYXJlIHVuZXhwZWN0ZWRseSBtb2RpZmllZCBvciBkdXBsaWNhdGVkLiBUaGlzIGlzICcgKyAncHJvYmFibHkgbm90IGludGVudGlvbmFsLiVzJywgZ2V0U3RhY2soKSk7XG4gIH1cbiAgIShwcm9wcy5zdHlsZSA9PSBudWxsIHx8IHR5cGVvZiBwcm9wcy5zdHlsZSA9PT0gJ29iamVjdCcpID8gaW52YXJpYW50KGZhbHNlLCAnVGhlIGBzdHlsZWAgcHJvcCBleHBlY3RzIGEgbWFwcGluZyBmcm9tIHN0eWxlIHByb3BlcnRpZXMgdG8gdmFsdWVzLCBub3QgYSBzdHJpbmcuIEZvciBleGFtcGxlLCBzdHlsZT17e21hcmdpblJpZ2h0OiBzcGFjaW5nICsgXFwnZW1cXCd9fSB3aGVuIHVzaW5nIEpTWC4lcycsIGdldFN0YWNrKCkpIDogdm9pZCAwO1xufVxuXG5mdW5jdGlvbiBpc0N1c3RvbUNvbXBvbmVudCh0YWdOYW1lLCBwcm9wcykge1xuICBpZiAodGFnTmFtZS5pbmRleE9mKCctJykgPT09IC0xKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBwcm9wcy5pcyA9PT0gJ3N0cmluZyc7XG4gIH1cbiAgc3dpdGNoICh0YWdOYW1lKSB7XG4gICAgLy8gVGhlc2UgYXJlIHJlc2VydmVkIFNWRyBhbmQgTWF0aE1MIGVsZW1lbnRzLlxuICAgIC8vIFdlIGRvbid0IG1pbmQgdGhpcyB3aGl0ZWxpc3QgdG9vIG11Y2ggYmVjYXVzZSB3ZSBleHBlY3QgaXQgdG8gbmV2ZXIgZ3Jvdy5cbiAgICAvLyBUaGUgYWx0ZXJuYXRpdmUgaXMgdG8gdHJhY2sgdGhlIG5hbWVzcGFjZSBpbiBhIGZldyBwbGFjZXMgd2hpY2ggaXMgY29udm9sdXRlZC5cbiAgICAvLyBodHRwczovL3czYy5naXRodWIuaW8vd2ViY29tcG9uZW50cy9zcGVjL2N1c3RvbS8jY3VzdG9tLWVsZW1lbnRzLWNvcmUtY29uY2VwdHNcbiAgICBjYXNlICdhbm5vdGF0aW9uLXhtbCc6XG4gICAgY2FzZSAnY29sb3ItcHJvZmlsZSc6XG4gICAgY2FzZSAnZm9udC1mYWNlJzpcbiAgICBjYXNlICdmb250LWZhY2Utc3JjJzpcbiAgICBjYXNlICdmb250LWZhY2UtdXJpJzpcbiAgICBjYXNlICdmb250LWZhY2UtZm9ybWF0JzpcbiAgICBjYXNlICdmb250LWZhY2UtbmFtZSc6XG4gICAgY2FzZSAnbWlzc2luZy1nbHlwaCc6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbi8vIFdoZW4gYWRkaW5nIGF0dHJpYnV0ZXMgdG8gdGhlIEhUTUwgb3IgU1ZHIHdoaXRlbGlzdCwgYmUgc3VyZSB0b1xuLy8gYWxzbyBhZGQgdGhlbSB0byB0aGlzIG1vZHVsZSB0byBlbnN1cmUgY2FzaW5nIGFuZCBpbmNvcnJlY3QgbmFtZVxuLy8gd2FybmluZ3MuXG52YXIgcG9zc2libGVTdGFuZGFyZE5hbWVzID0ge1xuICAvLyBIVE1MXG4gIGFjY2VwdDogJ2FjY2VwdCcsXG4gIGFjY2VwdGNoYXJzZXQ6ICdhY2NlcHRDaGFyc2V0JyxcbiAgJ2FjY2VwdC1jaGFyc2V0JzogJ2FjY2VwdENoYXJzZXQnLFxuICBhY2Nlc3NrZXk6ICdhY2Nlc3NLZXknLFxuICBhY3Rpb246ICdhY3Rpb24nLFxuICBhbGxvd2Z1bGxzY3JlZW46ICdhbGxvd0Z1bGxTY3JlZW4nLFxuICBhbHQ6ICdhbHQnLFxuICBhczogJ2FzJyxcbiAgYXN5bmM6ICdhc3luYycsXG4gIGF1dG9jYXBpdGFsaXplOiAnYXV0b0NhcGl0YWxpemUnLFxuICBhdXRvY29tcGxldGU6ICdhdXRvQ29tcGxldGUnLFxuICBhdXRvY29ycmVjdDogJ2F1dG9Db3JyZWN0JyxcbiAgYXV0b2ZvY3VzOiAnYXV0b0ZvY3VzJyxcbiAgYXV0b3BsYXk6ICdhdXRvUGxheScsXG4gIGF1dG9zYXZlOiAnYXV0b1NhdmUnLFxuICBjYXB0dXJlOiAnY2FwdHVyZScsXG4gIGNlbGxwYWRkaW5nOiAnY2VsbFBhZGRpbmcnLFxuICBjZWxsc3BhY2luZzogJ2NlbGxTcGFjaW5nJyxcbiAgY2hhbGxlbmdlOiAnY2hhbGxlbmdlJyxcbiAgY2hhcnNldDogJ2NoYXJTZXQnLFxuICBjaGVja2VkOiAnY2hlY2tlZCcsXG4gIGNoaWxkcmVuOiAnY2hpbGRyZW4nLFxuICBjaXRlOiAnY2l0ZScsXG4gICdjbGFzcyc6ICdjbGFzc05hbWUnLFxuICBjbGFzc2lkOiAnY2xhc3NJRCcsXG4gIGNsYXNzbmFtZTogJ2NsYXNzTmFtZScsXG4gIGNvbHM6ICdjb2xzJyxcbiAgY29sc3BhbjogJ2NvbFNwYW4nLFxuICBjb250ZW50OiAnY29udGVudCcsXG4gIGNvbnRlbnRlZGl0YWJsZTogJ2NvbnRlbnRFZGl0YWJsZScsXG4gIGNvbnRleHRtZW51OiAnY29udGV4dE1lbnUnLFxuICBjb250cm9sczogJ2NvbnRyb2xzJyxcbiAgY29udHJvbHNsaXN0OiAnY29udHJvbHNMaXN0JyxcbiAgY29vcmRzOiAnY29vcmRzJyxcbiAgY3Jvc3NvcmlnaW46ICdjcm9zc09yaWdpbicsXG4gIGRhbmdlcm91c2x5c2V0aW5uZXJodG1sOiAnZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwnLFxuICBkYXRhOiAnZGF0YScsXG4gIGRhdGV0aW1lOiAnZGF0ZVRpbWUnLFxuICAnZGVmYXVsdCc6ICdkZWZhdWx0JyxcbiAgZGVmYXVsdGNoZWNrZWQ6ICdkZWZhdWx0Q2hlY2tlZCcsXG4gIGRlZmF1bHR2YWx1ZTogJ2RlZmF1bHRWYWx1ZScsXG4gIGRlZmVyOiAnZGVmZXInLFxuICBkaXI6ICdkaXInLFxuICBkaXNhYmxlZDogJ2Rpc2FibGVkJyxcbiAgZG93bmxvYWQ6ICdkb3dubG9hZCcsXG4gIGRyYWdnYWJsZTogJ2RyYWdnYWJsZScsXG4gIGVuY3R5cGU6ICdlbmNUeXBlJyxcbiAgJ2Zvcic6ICdodG1sRm9yJyxcbiAgZm9ybTogJ2Zvcm0nLFxuICBmb3JtbWV0aG9kOiAnZm9ybU1ldGhvZCcsXG4gIGZvcm1hY3Rpb246ICdmb3JtQWN0aW9uJyxcbiAgZm9ybWVuY3R5cGU6ICdmb3JtRW5jVHlwZScsXG4gIGZvcm1ub3ZhbGlkYXRlOiAnZm9ybU5vVmFsaWRhdGUnLFxuICBmb3JtdGFyZ2V0OiAnZm9ybVRhcmdldCcsXG4gIGZyYW1lYm9yZGVyOiAnZnJhbWVCb3JkZXInLFxuICBoZWFkZXJzOiAnaGVhZGVycycsXG4gIGhlaWdodDogJ2hlaWdodCcsXG4gIGhpZGRlbjogJ2hpZGRlbicsXG4gIGhpZ2g6ICdoaWdoJyxcbiAgaHJlZjogJ2hyZWYnLFxuICBocmVmbGFuZzogJ2hyZWZMYW5nJyxcbiAgaHRtbGZvcjogJ2h0bWxGb3InLFxuICBodHRwZXF1aXY6ICdodHRwRXF1aXYnLFxuICAnaHR0cC1lcXVpdic6ICdodHRwRXF1aXYnLFxuICBpY29uOiAnaWNvbicsXG4gIGlkOiAnaWQnLFxuICBpbm5lcmh0bWw6ICdpbm5lckhUTUwnLFxuICBpbnB1dG1vZGU6ICdpbnB1dE1vZGUnLFxuICBpbnRlZ3JpdHk6ICdpbnRlZ3JpdHknLFxuICBpczogJ2lzJyxcbiAgaXRlbWlkOiAnaXRlbUlEJyxcbiAgaXRlbXByb3A6ICdpdGVtUHJvcCcsXG4gIGl0ZW1yZWY6ICdpdGVtUmVmJyxcbiAgaXRlbXNjb3BlOiAnaXRlbVNjb3BlJyxcbiAgaXRlbXR5cGU6ICdpdGVtVHlwZScsXG4gIGtleXBhcmFtczogJ2tleVBhcmFtcycsXG4gIGtleXR5cGU6ICdrZXlUeXBlJyxcbiAga2luZDogJ2tpbmQnLFxuICBsYWJlbDogJ2xhYmVsJyxcbiAgbGFuZzogJ2xhbmcnLFxuICBsaXN0OiAnbGlzdCcsXG4gIGxvb3A6ICdsb29wJyxcbiAgbG93OiAnbG93JyxcbiAgbWFuaWZlc3Q6ICdtYW5pZmVzdCcsXG4gIG1hcmdpbndpZHRoOiAnbWFyZ2luV2lkdGgnLFxuICBtYXJnaW5oZWlnaHQ6ICdtYXJnaW5IZWlnaHQnLFxuICBtYXg6ICdtYXgnLFxuICBtYXhsZW5ndGg6ICdtYXhMZW5ndGgnLFxuICBtZWRpYTogJ21lZGlhJyxcbiAgbWVkaWFncm91cDogJ21lZGlhR3JvdXAnLFxuICBtZXRob2Q6ICdtZXRob2QnLFxuICBtaW46ICdtaW4nLFxuICBtaW5sZW5ndGg6ICdtaW5MZW5ndGgnLFxuICBtdWx0aXBsZTogJ211bHRpcGxlJyxcbiAgbXV0ZWQ6ICdtdXRlZCcsXG4gIG5hbWU6ICduYW1lJyxcbiAgbm9tb2R1bGU6ICdub01vZHVsZScsXG4gIG5vbmNlOiAnbm9uY2UnLFxuICBub3ZhbGlkYXRlOiAnbm9WYWxpZGF0ZScsXG4gIG9wZW46ICdvcGVuJyxcbiAgb3B0aW11bTogJ29wdGltdW0nLFxuICBwYXR0ZXJuOiAncGF0dGVybicsXG4gIHBsYWNlaG9sZGVyOiAncGxhY2Vob2xkZXInLFxuICBwbGF5c2lubGluZTogJ3BsYXlzSW5saW5lJyxcbiAgcG9zdGVyOiAncG9zdGVyJyxcbiAgcHJlbG9hZDogJ3ByZWxvYWQnLFxuICBwcm9maWxlOiAncHJvZmlsZScsXG4gIHJhZGlvZ3JvdXA6ICdyYWRpb0dyb3VwJyxcbiAgcmVhZG9ubHk6ICdyZWFkT25seScsXG4gIHJlZmVycmVycG9saWN5OiAncmVmZXJyZXJQb2xpY3knLFxuICByZWw6ICdyZWwnLFxuICByZXF1aXJlZDogJ3JlcXVpcmVkJyxcbiAgcmV2ZXJzZWQ6ICdyZXZlcnNlZCcsXG4gIHJvbGU6ICdyb2xlJyxcbiAgcm93czogJ3Jvd3MnLFxuICByb3dzcGFuOiAncm93U3BhbicsXG4gIHNhbmRib3g6ICdzYW5kYm94JyxcbiAgc2NvcGU6ICdzY29wZScsXG4gIHNjb3BlZDogJ3Njb3BlZCcsXG4gIHNjcm9sbGluZzogJ3Njcm9sbGluZycsXG4gIHNlYW1sZXNzOiAnc2VhbWxlc3MnLFxuICBzZWxlY3RlZDogJ3NlbGVjdGVkJyxcbiAgc2hhcGU6ICdzaGFwZScsXG4gIHNpemU6ICdzaXplJyxcbiAgc2l6ZXM6ICdzaXplcycsXG4gIHNwYW46ICdzcGFuJyxcbiAgc3BlbGxjaGVjazogJ3NwZWxsQ2hlY2snLFxuICBzcmM6ICdzcmMnLFxuICBzcmNkb2M6ICdzcmNEb2MnLFxuICBzcmNsYW5nOiAnc3JjTGFuZycsXG4gIHNyY3NldDogJ3NyY1NldCcsXG4gIHN0YXJ0OiAnc3RhcnQnLFxuICBzdGVwOiAnc3RlcCcsXG4gIHN0eWxlOiAnc3R5bGUnLFxuICBzdW1tYXJ5OiAnc3VtbWFyeScsXG4gIHRhYmluZGV4OiAndGFiSW5kZXgnLFxuICB0YXJnZXQ6ICd0YXJnZXQnLFxuICB0aXRsZTogJ3RpdGxlJyxcbiAgdHlwZTogJ3R5cGUnLFxuICB1c2VtYXA6ICd1c2VNYXAnLFxuICB2YWx1ZTogJ3ZhbHVlJyxcbiAgd2lkdGg6ICd3aWR0aCcsXG4gIHdtb2RlOiAnd21vZGUnLFxuICB3cmFwOiAnd3JhcCcsXG5cbiAgLy8gU1ZHXG4gIGFib3V0OiAnYWJvdXQnLFxuICBhY2NlbnRoZWlnaHQ6ICdhY2NlbnRIZWlnaHQnLFxuICAnYWNjZW50LWhlaWdodCc6ICdhY2NlbnRIZWlnaHQnLFxuICBhY2N1bXVsYXRlOiAnYWNjdW11bGF0ZScsXG4gIGFkZGl0aXZlOiAnYWRkaXRpdmUnLFxuICBhbGlnbm1lbnRiYXNlbGluZTogJ2FsaWdubWVudEJhc2VsaW5lJyxcbiAgJ2FsaWdubWVudC1iYXNlbGluZSc6ICdhbGlnbm1lbnRCYXNlbGluZScsXG4gIGFsbG93cmVvcmRlcjogJ2FsbG93UmVvcmRlcicsXG4gIGFscGhhYmV0aWM6ICdhbHBoYWJldGljJyxcbiAgYW1wbGl0dWRlOiAnYW1wbGl0dWRlJyxcbiAgYXJhYmljZm9ybTogJ2FyYWJpY0Zvcm0nLFxuICAnYXJhYmljLWZvcm0nOiAnYXJhYmljRm9ybScsXG4gIGFzY2VudDogJ2FzY2VudCcsXG4gIGF0dHJpYnV0ZW5hbWU6ICdhdHRyaWJ1dGVOYW1lJyxcbiAgYXR0cmlidXRldHlwZTogJ2F0dHJpYnV0ZVR5cGUnLFxuICBhdXRvcmV2ZXJzZTogJ2F1dG9SZXZlcnNlJyxcbiAgYXppbXV0aDogJ2F6aW11dGgnLFxuICBiYXNlZnJlcXVlbmN5OiAnYmFzZUZyZXF1ZW5jeScsXG4gIGJhc2VsaW5lc2hpZnQ6ICdiYXNlbGluZVNoaWZ0JyxcbiAgJ2Jhc2VsaW5lLXNoaWZ0JzogJ2Jhc2VsaW5lU2hpZnQnLFxuICBiYXNlcHJvZmlsZTogJ2Jhc2VQcm9maWxlJyxcbiAgYmJveDogJ2Jib3gnLFxuICBiZWdpbjogJ2JlZ2luJyxcbiAgYmlhczogJ2JpYXMnLFxuICBieTogJ2J5JyxcbiAgY2FsY21vZGU6ICdjYWxjTW9kZScsXG4gIGNhcGhlaWdodDogJ2NhcEhlaWdodCcsXG4gICdjYXAtaGVpZ2h0JzogJ2NhcEhlaWdodCcsXG4gIGNsaXA6ICdjbGlwJyxcbiAgY2xpcHBhdGg6ICdjbGlwUGF0aCcsXG4gICdjbGlwLXBhdGgnOiAnY2xpcFBhdGgnLFxuICBjbGlwcGF0aHVuaXRzOiAnY2xpcFBhdGhVbml0cycsXG4gIGNsaXBydWxlOiAnY2xpcFJ1bGUnLFxuICAnY2xpcC1ydWxlJzogJ2NsaXBSdWxlJyxcbiAgY29sb3I6ICdjb2xvcicsXG4gIGNvbG9yaW50ZXJwb2xhdGlvbjogJ2NvbG9ySW50ZXJwb2xhdGlvbicsXG4gICdjb2xvci1pbnRlcnBvbGF0aW9uJzogJ2NvbG9ySW50ZXJwb2xhdGlvbicsXG4gIGNvbG9yaW50ZXJwb2xhdGlvbmZpbHRlcnM6ICdjb2xvckludGVycG9sYXRpb25GaWx0ZXJzJyxcbiAgJ2NvbG9yLWludGVycG9sYXRpb24tZmlsdGVycyc6ICdjb2xvckludGVycG9sYXRpb25GaWx0ZXJzJyxcbiAgY29sb3Jwcm9maWxlOiAnY29sb3JQcm9maWxlJyxcbiAgJ2NvbG9yLXByb2ZpbGUnOiAnY29sb3JQcm9maWxlJyxcbiAgY29sb3JyZW5kZXJpbmc6ICdjb2xvclJlbmRlcmluZycsXG4gICdjb2xvci1yZW5kZXJpbmcnOiAnY29sb3JSZW5kZXJpbmcnLFxuICBjb250ZW50c2NyaXB0dHlwZTogJ2NvbnRlbnRTY3JpcHRUeXBlJyxcbiAgY29udGVudHN0eWxldHlwZTogJ2NvbnRlbnRTdHlsZVR5cGUnLFxuICBjdXJzb3I6ICdjdXJzb3InLFxuICBjeDogJ2N4JyxcbiAgY3k6ICdjeScsXG4gIGQ6ICdkJyxcbiAgZGF0YXR5cGU6ICdkYXRhdHlwZScsXG4gIGRlY2VsZXJhdGU6ICdkZWNlbGVyYXRlJyxcbiAgZGVzY2VudDogJ2Rlc2NlbnQnLFxuICBkaWZmdXNlY29uc3RhbnQ6ICdkaWZmdXNlQ29uc3RhbnQnLFxuICBkaXJlY3Rpb246ICdkaXJlY3Rpb24nLFxuICBkaXNwbGF5OiAnZGlzcGxheScsXG4gIGRpdmlzb3I6ICdkaXZpc29yJyxcbiAgZG9taW5hbnRiYXNlbGluZTogJ2RvbWluYW50QmFzZWxpbmUnLFxuICAnZG9taW5hbnQtYmFzZWxpbmUnOiAnZG9taW5hbnRCYXNlbGluZScsXG4gIGR1cjogJ2R1cicsXG4gIGR4OiAnZHgnLFxuICBkeTogJ2R5JyxcbiAgZWRnZW1vZGU6ICdlZGdlTW9kZScsXG4gIGVsZXZhdGlvbjogJ2VsZXZhdGlvbicsXG4gIGVuYWJsZWJhY2tncm91bmQ6ICdlbmFibGVCYWNrZ3JvdW5kJyxcbiAgJ2VuYWJsZS1iYWNrZ3JvdW5kJzogJ2VuYWJsZUJhY2tncm91bmQnLFxuICBlbmQ6ICdlbmQnLFxuICBleHBvbmVudDogJ2V4cG9uZW50JyxcbiAgZXh0ZXJuYWxyZXNvdXJjZXNyZXF1aXJlZDogJ2V4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQnLFxuICBmaWxsOiAnZmlsbCcsXG4gIGZpbGxvcGFjaXR5OiAnZmlsbE9wYWNpdHknLFxuICAnZmlsbC1vcGFjaXR5JzogJ2ZpbGxPcGFjaXR5JyxcbiAgZmlsbHJ1bGU6ICdmaWxsUnVsZScsXG4gICdmaWxsLXJ1bGUnOiAnZmlsbFJ1bGUnLFxuICBmaWx0ZXI6ICdmaWx0ZXInLFxuICBmaWx0ZXJyZXM6ICdmaWx0ZXJSZXMnLFxuICBmaWx0ZXJ1bml0czogJ2ZpbHRlclVuaXRzJyxcbiAgZmxvb2RvcGFjaXR5OiAnZmxvb2RPcGFjaXR5JyxcbiAgJ2Zsb29kLW9wYWNpdHknOiAnZmxvb2RPcGFjaXR5JyxcbiAgZmxvb2Rjb2xvcjogJ2Zsb29kQ29sb3InLFxuICAnZmxvb2QtY29sb3InOiAnZmxvb2RDb2xvcicsXG4gIGZvY3VzYWJsZTogJ2ZvY3VzYWJsZScsXG4gIGZvbnRmYW1pbHk6ICdmb250RmFtaWx5JyxcbiAgJ2ZvbnQtZmFtaWx5JzogJ2ZvbnRGYW1pbHknLFxuICBmb250c2l6ZTogJ2ZvbnRTaXplJyxcbiAgJ2ZvbnQtc2l6ZSc6ICdmb250U2l6ZScsXG4gIGZvbnRzaXplYWRqdXN0OiAnZm9udFNpemVBZGp1c3QnLFxuICAnZm9udC1zaXplLWFkanVzdCc6ICdmb250U2l6ZUFkanVzdCcsXG4gIGZvbnRzdHJldGNoOiAnZm9udFN0cmV0Y2gnLFxuICAnZm9udC1zdHJldGNoJzogJ2ZvbnRTdHJldGNoJyxcbiAgZm9udHN0eWxlOiAnZm9udFN0eWxlJyxcbiAgJ2ZvbnQtc3R5bGUnOiAnZm9udFN0eWxlJyxcbiAgZm9udHZhcmlhbnQ6ICdmb250VmFyaWFudCcsXG4gICdmb250LXZhcmlhbnQnOiAnZm9udFZhcmlhbnQnLFxuICBmb250d2VpZ2h0OiAnZm9udFdlaWdodCcsXG4gICdmb250LXdlaWdodCc6ICdmb250V2VpZ2h0JyxcbiAgZm9ybWF0OiAnZm9ybWF0JyxcbiAgZnJvbTogJ2Zyb20nLFxuICBmeDogJ2Z4JyxcbiAgZnk6ICdmeScsXG4gIGcxOiAnZzEnLFxuICBnMjogJ2cyJyxcbiAgZ2x5cGhuYW1lOiAnZ2x5cGhOYW1lJyxcbiAgJ2dseXBoLW5hbWUnOiAnZ2x5cGhOYW1lJyxcbiAgZ2x5cGhvcmllbnRhdGlvbmhvcml6b250YWw6ICdnbHlwaE9yaWVudGF0aW9uSG9yaXpvbnRhbCcsXG4gICdnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsJzogJ2dseXBoT3JpZW50YXRpb25Ib3Jpem9udGFsJyxcbiAgZ2x5cGhvcmllbnRhdGlvbnZlcnRpY2FsOiAnZ2x5cGhPcmllbnRhdGlvblZlcnRpY2FsJyxcbiAgJ2dseXBoLW9yaWVudGF0aW9uLXZlcnRpY2FsJzogJ2dseXBoT3JpZW50YXRpb25WZXJ0aWNhbCcsXG4gIGdseXBocmVmOiAnZ2x5cGhSZWYnLFxuICBncmFkaWVudHRyYW5zZm9ybTogJ2dyYWRpZW50VHJhbnNmb3JtJyxcbiAgZ3JhZGllbnR1bml0czogJ2dyYWRpZW50VW5pdHMnLFxuICBoYW5naW5nOiAnaGFuZ2luZycsXG4gIGhvcml6YWR2eDogJ2hvcml6QWR2WCcsXG4gICdob3Jpei1hZHYteCc6ICdob3JpekFkdlgnLFxuICBob3Jpem9yaWdpbng6ICdob3Jpek9yaWdpblgnLFxuICAnaG9yaXotb3JpZ2luLXgnOiAnaG9yaXpPcmlnaW5YJyxcbiAgaWRlb2dyYXBoaWM6ICdpZGVvZ3JhcGhpYycsXG4gIGltYWdlcmVuZGVyaW5nOiAnaW1hZ2VSZW5kZXJpbmcnLFxuICAnaW1hZ2UtcmVuZGVyaW5nJzogJ2ltYWdlUmVuZGVyaW5nJyxcbiAgaW4yOiAnaW4yJyxcbiAgJ2luJzogJ2luJyxcbiAgaW5saXN0OiAnaW5saXN0JyxcbiAgaW50ZXJjZXB0OiAnaW50ZXJjZXB0JyxcbiAgazE6ICdrMScsXG4gIGsyOiAnazInLFxuICBrMzogJ2szJyxcbiAgazQ6ICdrNCcsXG4gIGs6ICdrJyxcbiAga2VybmVsbWF0cml4OiAna2VybmVsTWF0cml4JyxcbiAga2VybmVsdW5pdGxlbmd0aDogJ2tlcm5lbFVuaXRMZW5ndGgnLFxuICBrZXJuaW5nOiAna2VybmluZycsXG4gIGtleXBvaW50czogJ2tleVBvaW50cycsXG4gIGtleXNwbGluZXM6ICdrZXlTcGxpbmVzJyxcbiAga2V5dGltZXM6ICdrZXlUaW1lcycsXG4gIGxlbmd0aGFkanVzdDogJ2xlbmd0aEFkanVzdCcsXG4gIGxldHRlcnNwYWNpbmc6ICdsZXR0ZXJTcGFjaW5nJyxcbiAgJ2xldHRlci1zcGFjaW5nJzogJ2xldHRlclNwYWNpbmcnLFxuICBsaWdodGluZ2NvbG9yOiAnbGlnaHRpbmdDb2xvcicsXG4gICdsaWdodGluZy1jb2xvcic6ICdsaWdodGluZ0NvbG9yJyxcbiAgbGltaXRpbmdjb25lYW5nbGU6ICdsaW1pdGluZ0NvbmVBbmdsZScsXG4gIGxvY2FsOiAnbG9jYWwnLFxuICBtYXJrZXJlbmQ6ICdtYXJrZXJFbmQnLFxuICAnbWFya2VyLWVuZCc6ICdtYXJrZXJFbmQnLFxuICBtYXJrZXJoZWlnaHQ6ICdtYXJrZXJIZWlnaHQnLFxuICBtYXJrZXJtaWQ6ICdtYXJrZXJNaWQnLFxuICAnbWFya2VyLW1pZCc6ICdtYXJrZXJNaWQnLFxuICBtYXJrZXJzdGFydDogJ21hcmtlclN0YXJ0JyxcbiAgJ21hcmtlci1zdGFydCc6ICdtYXJrZXJTdGFydCcsXG4gIG1hcmtlcnVuaXRzOiAnbWFya2VyVW5pdHMnLFxuICBtYXJrZXJ3aWR0aDogJ21hcmtlcldpZHRoJyxcbiAgbWFzazogJ21hc2snLFxuICBtYXNrY29udGVudHVuaXRzOiAnbWFza0NvbnRlbnRVbml0cycsXG4gIG1hc2t1bml0czogJ21hc2tVbml0cycsXG4gIG1hdGhlbWF0aWNhbDogJ21hdGhlbWF0aWNhbCcsXG4gIG1vZGU6ICdtb2RlJyxcbiAgbnVtb2N0YXZlczogJ251bU9jdGF2ZXMnLFxuICBvZmZzZXQ6ICdvZmZzZXQnLFxuICBvcGFjaXR5OiAnb3BhY2l0eScsXG4gIG9wZXJhdG9yOiAnb3BlcmF0b3InLFxuICBvcmRlcjogJ29yZGVyJyxcbiAgb3JpZW50OiAnb3JpZW50JyxcbiAgb3JpZW50YXRpb246ICdvcmllbnRhdGlvbicsXG4gIG9yaWdpbjogJ29yaWdpbicsXG4gIG92ZXJmbG93OiAnb3ZlcmZsb3cnLFxuICBvdmVybGluZXBvc2l0aW9uOiAnb3ZlcmxpbmVQb3NpdGlvbicsXG4gICdvdmVybGluZS1wb3NpdGlvbic6ICdvdmVybGluZVBvc2l0aW9uJyxcbiAgb3ZlcmxpbmV0aGlja25lc3M6ICdvdmVybGluZVRoaWNrbmVzcycsXG4gICdvdmVybGluZS10aGlja25lc3MnOiAnb3ZlcmxpbmVUaGlja25lc3MnLFxuICBwYWludG9yZGVyOiAncGFpbnRPcmRlcicsXG4gICdwYWludC1vcmRlcic6ICdwYWludE9yZGVyJyxcbiAgcGFub3NlMTogJ3Bhbm9zZTEnLFxuICAncGFub3NlLTEnOiAncGFub3NlMScsXG4gIHBhdGhsZW5ndGg6ICdwYXRoTGVuZ3RoJyxcbiAgcGF0dGVybmNvbnRlbnR1bml0czogJ3BhdHRlcm5Db250ZW50VW5pdHMnLFxuICBwYXR0ZXJudHJhbnNmb3JtOiAncGF0dGVyblRyYW5zZm9ybScsXG4gIHBhdHRlcm51bml0czogJ3BhdHRlcm5Vbml0cycsXG4gIHBvaW50ZXJldmVudHM6ICdwb2ludGVyRXZlbnRzJyxcbiAgJ3BvaW50ZXItZXZlbnRzJzogJ3BvaW50ZXJFdmVudHMnLFxuICBwb2ludHM6ICdwb2ludHMnLFxuICBwb2ludHNhdHg6ICdwb2ludHNBdFgnLFxuICBwb2ludHNhdHk6ICdwb2ludHNBdFknLFxuICBwb2ludHNhdHo6ICdwb2ludHNBdFonLFxuICBwcmVmaXg6ICdwcmVmaXgnLFxuICBwcmVzZXJ2ZWFscGhhOiAncHJlc2VydmVBbHBoYScsXG4gIHByZXNlcnZlYXNwZWN0cmF0aW86ICdwcmVzZXJ2ZUFzcGVjdFJhdGlvJyxcbiAgcHJpbWl0aXZldW5pdHM6ICdwcmltaXRpdmVVbml0cycsXG4gIHByb3BlcnR5OiAncHJvcGVydHknLFxuICByOiAncicsXG4gIHJhZGl1czogJ3JhZGl1cycsXG4gIHJlZng6ICdyZWZYJyxcbiAgcmVmeTogJ3JlZlknLFxuICByZW5kZXJpbmdpbnRlbnQ6ICdyZW5kZXJpbmdJbnRlbnQnLFxuICAncmVuZGVyaW5nLWludGVudCc6ICdyZW5kZXJpbmdJbnRlbnQnLFxuICByZXBlYXRjb3VudDogJ3JlcGVhdENvdW50JyxcbiAgcmVwZWF0ZHVyOiAncmVwZWF0RHVyJyxcbiAgcmVxdWlyZWRleHRlbnNpb25zOiAncmVxdWlyZWRFeHRlbnNpb25zJyxcbiAgcmVxdWlyZWRmZWF0dXJlczogJ3JlcXVpcmVkRmVhdHVyZXMnLFxuICByZXNvdXJjZTogJ3Jlc291cmNlJyxcbiAgcmVzdGFydDogJ3Jlc3RhcnQnLFxuICByZXN1bHQ6ICdyZXN1bHQnLFxuICByZXN1bHRzOiAncmVzdWx0cycsXG4gIHJvdGF0ZTogJ3JvdGF0ZScsXG4gIHJ4OiAncngnLFxuICByeTogJ3J5JyxcbiAgc2NhbGU6ICdzY2FsZScsXG4gIHNlY3VyaXR5OiAnc2VjdXJpdHknLFxuICBzZWVkOiAnc2VlZCcsXG4gIHNoYXBlcmVuZGVyaW5nOiAnc2hhcGVSZW5kZXJpbmcnLFxuICAnc2hhcGUtcmVuZGVyaW5nJzogJ3NoYXBlUmVuZGVyaW5nJyxcbiAgc2xvcGU6ICdzbG9wZScsXG4gIHNwYWNpbmc6ICdzcGFjaW5nJyxcbiAgc3BlY3VsYXJjb25zdGFudDogJ3NwZWN1bGFyQ29uc3RhbnQnLFxuICBzcGVjdWxhcmV4cG9uZW50OiAnc3BlY3VsYXJFeHBvbmVudCcsXG4gIHNwZWVkOiAnc3BlZWQnLFxuICBzcHJlYWRtZXRob2Q6ICdzcHJlYWRNZXRob2QnLFxuICBzdGFydG9mZnNldDogJ3N0YXJ0T2Zmc2V0JyxcbiAgc3RkZGV2aWF0aW9uOiAnc3RkRGV2aWF0aW9uJyxcbiAgc3RlbWg6ICdzdGVtaCcsXG4gIHN0ZW12OiAnc3RlbXYnLFxuICBzdGl0Y2h0aWxlczogJ3N0aXRjaFRpbGVzJyxcbiAgc3RvcGNvbG9yOiAnc3RvcENvbG9yJyxcbiAgJ3N0b3AtY29sb3InOiAnc3RvcENvbG9yJyxcbiAgc3RvcG9wYWNpdHk6ICdzdG9wT3BhY2l0eScsXG4gICdzdG9wLW9wYWNpdHknOiAnc3RvcE9wYWNpdHknLFxuICBzdHJpa2V0aHJvdWdocG9zaXRpb246ICdzdHJpa2V0aHJvdWdoUG9zaXRpb24nLFxuICAnc3RyaWtldGhyb3VnaC1wb3NpdGlvbic6ICdzdHJpa2V0aHJvdWdoUG9zaXRpb24nLFxuICBzdHJpa2V0aHJvdWdodGhpY2tuZXNzOiAnc3RyaWtldGhyb3VnaFRoaWNrbmVzcycsXG4gICdzdHJpa2V0aHJvdWdoLXRoaWNrbmVzcyc6ICdzdHJpa2V0aHJvdWdoVGhpY2tuZXNzJyxcbiAgc3RyaW5nOiAnc3RyaW5nJyxcbiAgc3Ryb2tlOiAnc3Ryb2tlJyxcbiAgc3Ryb2tlZGFzaGFycmF5OiAnc3Ryb2tlRGFzaGFycmF5JyxcbiAgJ3N0cm9rZS1kYXNoYXJyYXknOiAnc3Ryb2tlRGFzaGFycmF5JyxcbiAgc3Ryb2tlZGFzaG9mZnNldDogJ3N0cm9rZURhc2hvZmZzZXQnLFxuICAnc3Ryb2tlLWRhc2hvZmZzZXQnOiAnc3Ryb2tlRGFzaG9mZnNldCcsXG4gIHN0cm9rZWxpbmVjYXA6ICdzdHJva2VMaW5lY2FwJyxcbiAgJ3N0cm9rZS1saW5lY2FwJzogJ3N0cm9rZUxpbmVjYXAnLFxuICBzdHJva2VsaW5lam9pbjogJ3N0cm9rZUxpbmVqb2luJyxcbiAgJ3N0cm9rZS1saW5lam9pbic6ICdzdHJva2VMaW5lam9pbicsXG4gIHN0cm9rZW1pdGVybGltaXQ6ICdzdHJva2VNaXRlcmxpbWl0JyxcbiAgJ3N0cm9rZS1taXRlcmxpbWl0JzogJ3N0cm9rZU1pdGVybGltaXQnLFxuICBzdHJva2V3aWR0aDogJ3N0cm9rZVdpZHRoJyxcbiAgJ3N0cm9rZS13aWR0aCc6ICdzdHJva2VXaWR0aCcsXG4gIHN0cm9rZW9wYWNpdHk6ICdzdHJva2VPcGFjaXR5JyxcbiAgJ3N0cm9rZS1vcGFjaXR5JzogJ3N0cm9rZU9wYWNpdHknLFxuICBzdXBwcmVzc2NvbnRlbnRlZGl0YWJsZXdhcm5pbmc6ICdzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmcnLFxuICBzdXBwcmVzc2h5ZHJhdGlvbndhcm5pbmc6ICdzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcnLFxuICBzdXJmYWNlc2NhbGU6ICdzdXJmYWNlU2NhbGUnLFxuICBzeXN0ZW1sYW5ndWFnZTogJ3N5c3RlbUxhbmd1YWdlJyxcbiAgdGFibGV2YWx1ZXM6ICd0YWJsZVZhbHVlcycsXG4gIHRhcmdldHg6ICd0YXJnZXRYJyxcbiAgdGFyZ2V0eTogJ3RhcmdldFknLFxuICB0ZXh0YW5jaG9yOiAndGV4dEFuY2hvcicsXG4gICd0ZXh0LWFuY2hvcic6ICd0ZXh0QW5jaG9yJyxcbiAgdGV4dGRlY29yYXRpb246ICd0ZXh0RGVjb3JhdGlvbicsXG4gICd0ZXh0LWRlY29yYXRpb24nOiAndGV4dERlY29yYXRpb24nLFxuICB0ZXh0bGVuZ3RoOiAndGV4dExlbmd0aCcsXG4gIHRleHRyZW5kZXJpbmc6ICd0ZXh0UmVuZGVyaW5nJyxcbiAgJ3RleHQtcmVuZGVyaW5nJzogJ3RleHRSZW5kZXJpbmcnLFxuICB0bzogJ3RvJyxcbiAgdHJhbnNmb3JtOiAndHJhbnNmb3JtJyxcbiAgJ3R5cGVvZic6ICd0eXBlb2YnLFxuICB1MTogJ3UxJyxcbiAgdTI6ICd1MicsXG4gIHVuZGVybGluZXBvc2l0aW9uOiAndW5kZXJsaW5lUG9zaXRpb24nLFxuICAndW5kZXJsaW5lLXBvc2l0aW9uJzogJ3VuZGVybGluZVBvc2l0aW9uJyxcbiAgdW5kZXJsaW5ldGhpY2tuZXNzOiAndW5kZXJsaW5lVGhpY2tuZXNzJyxcbiAgJ3VuZGVybGluZS10aGlja25lc3MnOiAndW5kZXJsaW5lVGhpY2tuZXNzJyxcbiAgdW5pY29kZTogJ3VuaWNvZGUnLFxuICB1bmljb2RlYmlkaTogJ3VuaWNvZGVCaWRpJyxcbiAgJ3VuaWNvZGUtYmlkaSc6ICd1bmljb2RlQmlkaScsXG4gIHVuaWNvZGVyYW5nZTogJ3VuaWNvZGVSYW5nZScsXG4gICd1bmljb2RlLXJhbmdlJzogJ3VuaWNvZGVSYW5nZScsXG4gIHVuaXRzcGVyZW06ICd1bml0c1BlckVtJyxcbiAgJ3VuaXRzLXBlci1lbSc6ICd1bml0c1BlckVtJyxcbiAgdW5zZWxlY3RhYmxlOiAndW5zZWxlY3RhYmxlJyxcbiAgdmFscGhhYmV0aWM6ICd2QWxwaGFiZXRpYycsXG4gICd2LWFscGhhYmV0aWMnOiAndkFscGhhYmV0aWMnLFxuICB2YWx1ZXM6ICd2YWx1ZXMnLFxuICB2ZWN0b3JlZmZlY3Q6ICd2ZWN0b3JFZmZlY3QnLFxuICAndmVjdG9yLWVmZmVjdCc6ICd2ZWN0b3JFZmZlY3QnLFxuICB2ZXJzaW9uOiAndmVyc2lvbicsXG4gIHZlcnRhZHZ5OiAndmVydEFkdlknLFxuICAndmVydC1hZHYteSc6ICd2ZXJ0QWR2WScsXG4gIHZlcnRvcmlnaW54OiAndmVydE9yaWdpblgnLFxuICAndmVydC1vcmlnaW4teCc6ICd2ZXJ0T3JpZ2luWCcsXG4gIHZlcnRvcmlnaW55OiAndmVydE9yaWdpblknLFxuICAndmVydC1vcmlnaW4teSc6ICd2ZXJ0T3JpZ2luWScsXG4gIHZoYW5naW5nOiAndkhhbmdpbmcnLFxuICAndi1oYW5naW5nJzogJ3ZIYW5naW5nJyxcbiAgdmlkZW9ncmFwaGljOiAndklkZW9ncmFwaGljJyxcbiAgJ3YtaWRlb2dyYXBoaWMnOiAndklkZW9ncmFwaGljJyxcbiAgdmlld2JveDogJ3ZpZXdCb3gnLFxuICB2aWV3dGFyZ2V0OiAndmlld1RhcmdldCcsXG4gIHZpc2liaWxpdHk6ICd2aXNpYmlsaXR5JyxcbiAgdm1hdGhlbWF0aWNhbDogJ3ZNYXRoZW1hdGljYWwnLFxuICAndi1tYXRoZW1hdGljYWwnOiAndk1hdGhlbWF0aWNhbCcsXG4gIHZvY2FiOiAndm9jYWInLFxuICB3aWR0aHM6ICd3aWR0aHMnLFxuICB3b3Jkc3BhY2luZzogJ3dvcmRTcGFjaW5nJyxcbiAgJ3dvcmQtc3BhY2luZyc6ICd3b3JkU3BhY2luZycsXG4gIHdyaXRpbmdtb2RlOiAnd3JpdGluZ01vZGUnLFxuICAnd3JpdGluZy1tb2RlJzogJ3dyaXRpbmdNb2RlJyxcbiAgeDE6ICd4MScsXG4gIHgyOiAneDInLFxuICB4OiAneCcsXG4gIHhjaGFubmVsc2VsZWN0b3I6ICd4Q2hhbm5lbFNlbGVjdG9yJyxcbiAgeGhlaWdodDogJ3hIZWlnaHQnLFxuICAneC1oZWlnaHQnOiAneEhlaWdodCcsXG4gIHhsaW5rYWN0dWF0ZTogJ3hsaW5rQWN0dWF0ZScsXG4gICd4bGluazphY3R1YXRlJzogJ3hsaW5rQWN0dWF0ZScsXG4gIHhsaW5rYXJjcm9sZTogJ3hsaW5rQXJjcm9sZScsXG4gICd4bGluazphcmNyb2xlJzogJ3hsaW5rQXJjcm9sZScsXG4gIHhsaW5raHJlZjogJ3hsaW5rSHJlZicsXG4gICd4bGluazpocmVmJzogJ3hsaW5rSHJlZicsXG4gIHhsaW5rcm9sZTogJ3hsaW5rUm9sZScsXG4gICd4bGluazpyb2xlJzogJ3hsaW5rUm9sZScsXG4gIHhsaW5rc2hvdzogJ3hsaW5rU2hvdycsXG4gICd4bGluazpzaG93JzogJ3hsaW5rU2hvdycsXG4gIHhsaW5rdGl0bGU6ICd4bGlua1RpdGxlJyxcbiAgJ3hsaW5rOnRpdGxlJzogJ3hsaW5rVGl0bGUnLFxuICB4bGlua3R5cGU6ICd4bGlua1R5cGUnLFxuICAneGxpbms6dHlwZSc6ICd4bGlua1R5cGUnLFxuICB4bWxiYXNlOiAneG1sQmFzZScsXG4gICd4bWw6YmFzZSc6ICd4bWxCYXNlJyxcbiAgeG1sbGFuZzogJ3htbExhbmcnLFxuICAneG1sOmxhbmcnOiAneG1sTGFuZycsXG4gIHhtbG5zOiAneG1sbnMnLFxuICAneG1sOnNwYWNlJzogJ3htbFNwYWNlJyxcbiAgeG1sbnN4bGluazogJ3htbG5zWGxpbmsnLFxuICAneG1sbnM6eGxpbmsnOiAneG1sbnNYbGluaycsXG4gIHhtbHNwYWNlOiAneG1sU3BhY2UnLFxuICB5MTogJ3kxJyxcbiAgeTI6ICd5MicsXG4gIHk6ICd5JyxcbiAgeWNoYW5uZWxzZWxlY3RvcjogJ3lDaGFubmVsU2VsZWN0b3InLFxuICB6OiAneicsXG4gIHpvb21hbmRwYW46ICd6b29tQW5kUGFuJ1xufTtcblxudmFyIGFyaWFQcm9wZXJ0aWVzID0ge1xuICAnYXJpYS1jdXJyZW50JzogMCwgLy8gc3RhdGVcbiAgJ2FyaWEtZGV0YWlscyc6IDAsXG4gICdhcmlhLWRpc2FibGVkJzogMCwgLy8gc3RhdGVcbiAgJ2FyaWEtaGlkZGVuJzogMCwgLy8gc3RhdGVcbiAgJ2FyaWEtaW52YWxpZCc6IDAsIC8vIHN0YXRlXG4gICdhcmlhLWtleXNob3J0Y3V0cyc6IDAsXG4gICdhcmlhLWxhYmVsJzogMCxcbiAgJ2FyaWEtcm9sZWRlc2NyaXB0aW9uJzogMCxcbiAgLy8gV2lkZ2V0IEF0dHJpYnV0ZXNcbiAgJ2FyaWEtYXV0b2NvbXBsZXRlJzogMCxcbiAgJ2FyaWEtY2hlY2tlZCc6IDAsXG4gICdhcmlhLWV4cGFuZGVkJzogMCxcbiAgJ2FyaWEtaGFzcG9wdXAnOiAwLFxuICAnYXJpYS1sZXZlbCc6IDAsXG4gICdhcmlhLW1vZGFsJzogMCxcbiAgJ2FyaWEtbXVsdGlsaW5lJzogMCxcbiAgJ2FyaWEtbXVsdGlzZWxlY3RhYmxlJzogMCxcbiAgJ2FyaWEtb3JpZW50YXRpb24nOiAwLFxuICAnYXJpYS1wbGFjZWhvbGRlcic6IDAsXG4gICdhcmlhLXByZXNzZWQnOiAwLFxuICAnYXJpYS1yZWFkb25seSc6IDAsXG4gICdhcmlhLXJlcXVpcmVkJzogMCxcbiAgJ2FyaWEtc2VsZWN0ZWQnOiAwLFxuICAnYXJpYS1zb3J0JzogMCxcbiAgJ2FyaWEtdmFsdWVtYXgnOiAwLFxuICAnYXJpYS12YWx1ZW1pbic6IDAsXG4gICdhcmlhLXZhbHVlbm93JzogMCxcbiAgJ2FyaWEtdmFsdWV0ZXh0JzogMCxcbiAgLy8gTGl2ZSBSZWdpb24gQXR0cmlidXRlc1xuICAnYXJpYS1hdG9taWMnOiAwLFxuICAnYXJpYS1idXN5JzogMCxcbiAgJ2FyaWEtbGl2ZSc6IDAsXG4gICdhcmlhLXJlbGV2YW50JzogMCxcbiAgLy8gRHJhZy1hbmQtRHJvcCBBdHRyaWJ1dGVzXG4gICdhcmlhLWRyb3BlZmZlY3QnOiAwLFxuICAnYXJpYS1ncmFiYmVkJzogMCxcbiAgLy8gUmVsYXRpb25zaGlwIEF0dHJpYnV0ZXNcbiAgJ2FyaWEtYWN0aXZlZGVzY2VuZGFudCc6IDAsXG4gICdhcmlhLWNvbGNvdW50JzogMCxcbiAgJ2FyaWEtY29saW5kZXgnOiAwLFxuICAnYXJpYS1jb2xzcGFuJzogMCxcbiAgJ2FyaWEtY29udHJvbHMnOiAwLFxuICAnYXJpYS1kZXNjcmliZWRieSc6IDAsXG4gICdhcmlhLWVycm9ybWVzc2FnZSc6IDAsXG4gICdhcmlhLWZsb3d0byc6IDAsXG4gICdhcmlhLWxhYmVsbGVkYnknOiAwLFxuICAnYXJpYS1vd25zJzogMCxcbiAgJ2FyaWEtcG9zaW5zZXQnOiAwLFxuICAnYXJpYS1yb3djb3VudCc6IDAsXG4gICdhcmlhLXJvd2luZGV4JzogMCxcbiAgJ2FyaWEtcm93c3Bhbic6IDAsXG4gICdhcmlhLXNldHNpemUnOiAwXG59O1xuXG52YXIgd2FybmVkUHJvcGVydGllcyA9IHt9O1xudmFyIHJBUklBID0gbmV3IFJlZ0V4cCgnXihhcmlhKS1bJyArIEFUVFJJQlVURV9OQU1FX0NIQVIgKyAnXSokJyk7XG52YXIgckFSSUFDYW1lbCA9IG5ldyBSZWdFeHAoJ14oYXJpYSlbQS1aXVsnICsgQVRUUklCVVRFX05BTUVfQ0hBUiArICddKiQnKTtcblxudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuZnVuY3Rpb24gZ2V0U3RhY2tBZGRlbmR1bSgpIHtcbiAgdmFyIHN0YWNrID0gUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRTdGFja0FkZGVuZHVtKCk7XG4gIHJldHVybiBzdGFjayAhPSBudWxsID8gc3RhY2sgOiAnJztcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0eSh0YWdOYW1lLCBuYW1lKSB7XG4gIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHdhcm5lZFByb3BlcnRpZXMsIG5hbWUpICYmIHdhcm5lZFByb3BlcnRpZXNbbmFtZV0pIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChyQVJJQUNhbWVsLnRlc3QobmFtZSkpIHtcbiAgICB2YXIgYXJpYU5hbWUgPSAnYXJpYS0nICsgbmFtZS5zbGljZSg0KS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhciBjb3JyZWN0TmFtZSA9IGFyaWFQcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KGFyaWFOYW1lKSA/IGFyaWFOYW1lIDogbnVsbDtcblxuICAgIC8vIElmIHRoaXMgaXMgYW4gYXJpYS0qIGF0dHJpYnV0ZSwgYnV0IGlzIG5vdCBsaXN0ZWQgaW4gdGhlIGtub3duIERPTVxuICAgIC8vIERPTSBwcm9wZXJ0aWVzLCB0aGVuIGl0IGlzIGFuIGludmFsaWQgYXJpYS0qIGF0dHJpYnV0ZS5cbiAgICBpZiAoY29ycmVjdE5hbWUgPT0gbnVsbCkge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ0ludmFsaWQgQVJJQSBhdHRyaWJ1dGUgYCVzYC4gQVJJQSBhdHRyaWJ1dGVzIGZvbGxvdyB0aGUgcGF0dGVybiBhcmlhLSogYW5kIG11c3QgYmUgbG93ZXJjYXNlLiVzJywgbmFtZSwgZ2V0U3RhY2tBZGRlbmR1bSgpKTtcbiAgICAgIHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIGFyaWEtKiBhdHRyaWJ1dGVzIHNob3VsZCBiZSBsb3dlcmNhc2U7IHN1Z2dlc3QgdGhlIGxvd2VyY2FzZSB2ZXJzaW9uLlxuICAgIGlmIChuYW1lICE9PSBjb3JyZWN0TmFtZSkge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ0ludmFsaWQgQVJJQSBhdHRyaWJ1dGUgYCVzYC4gRGlkIHlvdSBtZWFuIGAlc2A/JXMnLCBuYW1lLCBjb3JyZWN0TmFtZSwgZ2V0U3RhY2tBZGRlbmR1bSgpKTtcbiAgICAgIHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKHJBUklBLnRlc3QobmFtZSkpIHtcbiAgICB2YXIgbG93ZXJDYXNlZE5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFyIHN0YW5kYXJkTmFtZSA9IGFyaWFQcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KGxvd2VyQ2FzZWROYW1lKSA/IGxvd2VyQ2FzZWROYW1lIDogbnVsbDtcblxuICAgIC8vIElmIHRoaXMgaXMgYW4gYXJpYS0qIGF0dHJpYnV0ZSwgYnV0IGlzIG5vdCBsaXN0ZWQgaW4gdGhlIGtub3duIERPTVxuICAgIC8vIERPTSBwcm9wZXJ0aWVzLCB0aGVuIGl0IGlzIGFuIGludmFsaWQgYXJpYS0qIGF0dHJpYnV0ZS5cbiAgICBpZiAoc3RhbmRhcmROYW1lID09IG51bGwpIHtcbiAgICAgIHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBhcmlhLSogYXR0cmlidXRlcyBzaG91bGQgYmUgbG93ZXJjYXNlOyBzdWdnZXN0IHRoZSBsb3dlcmNhc2UgdmVyc2lvbi5cbiAgICBpZiAobmFtZSAhPT0gc3RhbmRhcmROYW1lKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnVW5rbm93biBBUklBIGF0dHJpYnV0ZSBgJXNgLiBEaWQgeW91IG1lYW4gYCVzYD8lcycsIG5hbWUsIHN0YW5kYXJkTmFtZSwgZ2V0U3RhY2tBZGRlbmR1bSgpKTtcbiAgICAgIHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHdhcm5JbnZhbGlkQVJJQVByb3BzKHR5cGUsIHByb3BzKSB7XG4gIHZhciBpbnZhbGlkUHJvcHMgPSBbXTtcblxuICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcbiAgICB2YXIgaXNWYWxpZCA9IHZhbGlkYXRlUHJvcGVydHkodHlwZSwga2V5KTtcbiAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgIGludmFsaWRQcm9wcy5wdXNoKGtleSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHVua25vd25Qcm9wU3RyaW5nID0gaW52YWxpZFByb3BzLm1hcChmdW5jdGlvbiAocHJvcCkge1xuICAgIHJldHVybiAnYCcgKyBwcm9wICsgJ2AnO1xuICB9KS5qb2luKCcsICcpO1xuXG4gIGlmIChpbnZhbGlkUHJvcHMubGVuZ3RoID09PSAxKSB7XG4gICAgd2FybmluZyhmYWxzZSwgJ0ludmFsaWQgYXJpYSBwcm9wICVzIG9uIDwlcz4gdGFnLiAnICsgJ0ZvciBkZXRhaWxzLCBzZWUgaHR0cHM6Ly9mYi5tZS9pbnZhbGlkLWFyaWEtcHJvcCVzJywgdW5rbm93blByb3BTdHJpbmcsIHR5cGUsIGdldFN0YWNrQWRkZW5kdW0oKSk7XG4gIH0gZWxzZSBpZiAoaW52YWxpZFByb3BzLmxlbmd0aCA+IDEpIHtcbiAgICB3YXJuaW5nKGZhbHNlLCAnSW52YWxpZCBhcmlhIHByb3BzICVzIG9uIDwlcz4gdGFnLiAnICsgJ0ZvciBkZXRhaWxzLCBzZWUgaHR0cHM6Ly9mYi5tZS9pbnZhbGlkLWFyaWEtcHJvcCVzJywgdW5rbm93blByb3BTdHJpbmcsIHR5cGUsIGdldFN0YWNrQWRkZW5kdW0oKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0aWVzKHR5cGUsIHByb3BzKSB7XG4gIGlmIChpc0N1c3RvbUNvbXBvbmVudCh0eXBlLCBwcm9wcykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgd2FybkludmFsaWRBUklBUHJvcHModHlwZSwgcHJvcHMpO1xufVxuXG52YXIgZGlkV2FyblZhbHVlTnVsbCA9IGZhbHNlO1xuXG5mdW5jdGlvbiBnZXRTdGFja0FkZGVuZHVtJDEoKSB7XG4gIHZhciBzdGFjayA9IFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0U3RhY2tBZGRlbmR1bSgpO1xuICByZXR1cm4gc3RhY2sgIT0gbnVsbCA/IHN0YWNrIDogJyc7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcGVydGllcyQxKHR5cGUsIHByb3BzKSB7XG4gIGlmICh0eXBlICE9PSAnaW5wdXQnICYmIHR5cGUgIT09ICd0ZXh0YXJlYScgJiYgdHlwZSAhPT0gJ3NlbGVjdCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAocHJvcHMgIT0gbnVsbCAmJiBwcm9wcy52YWx1ZSA9PT0gbnVsbCAmJiAhZGlkV2FyblZhbHVlTnVsbCkge1xuICAgIGRpZFdhcm5WYWx1ZU51bGwgPSB0cnVlO1xuICAgIGlmICh0eXBlID09PSAnc2VsZWN0JyAmJiBwcm9wcy5tdWx0aXBsZSkge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ2B2YWx1ZWAgcHJvcCBvbiBgJXNgIHNob3VsZCBub3QgYmUgbnVsbC4gJyArICdDb25zaWRlciB1c2luZyBhbiBlbXB0eSBhcnJheSB3aGVuIGBtdWx0aXBsZWAgaXMgc2V0IHRvIGB0cnVlYCAnICsgJ3RvIGNsZWFyIHRoZSBjb21wb25lbnQgb3IgYHVuZGVmaW5lZGAgZm9yIHVuY29udHJvbGxlZCBjb21wb25lbnRzLiVzJywgdHlwZSwgZ2V0U3RhY2tBZGRlbmR1bSQxKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnYHZhbHVlYCBwcm9wIG9uIGAlc2Agc2hvdWxkIG5vdCBiZSBudWxsLiAnICsgJ0NvbnNpZGVyIHVzaW5nIGFuIGVtcHR5IHN0cmluZyB0byBjbGVhciB0aGUgY29tcG9uZW50IG9yIGB1bmRlZmluZWRgICcgKyAnZm9yIHVuY29udHJvbGxlZCBjb21wb25lbnRzLiVzJywgdHlwZSwgZ2V0U3RhY2tBZGRlbmR1bSQxKCkpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRTdGFja0FkZGVuZHVtJDIoKSB7XG4gIHZhciBzdGFjayA9IFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0U3RhY2tBZGRlbmR1bSgpO1xuICByZXR1cm4gc3RhY2sgIT0gbnVsbCA/IHN0YWNrIDogJyc7XG59XG5cbnZhciB2YWxpZGF0ZVByb3BlcnR5JDEgPSBmdW5jdGlvbiAoKSB7fTtcblxue1xuICB2YXIgd2FybmVkUHJvcGVydGllcyQxID0ge307XG4gIHZhciBfaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuICB2YXIgRVZFTlRfTkFNRV9SRUdFWCA9IC9eb24uLztcbiAgdmFyIElOVkFMSURfRVZFTlRfTkFNRV9SRUdFWCA9IC9eb25bXkEtWl0vO1xuICB2YXIgckFSSUEkMSA9IG5ldyBSZWdFeHAoJ14oYXJpYSktWycgKyBBVFRSSUJVVEVfTkFNRV9DSEFSICsgJ10qJCcpO1xuICB2YXIgckFSSUFDYW1lbCQxID0gbmV3IFJlZ0V4cCgnXihhcmlhKVtBLVpdWycgKyBBVFRSSUJVVEVfTkFNRV9DSEFSICsgJ10qJCcpO1xuXG4gIHZhbGlkYXRlUHJvcGVydHkkMSA9IGZ1bmN0aW9uICh0YWdOYW1lLCBuYW1lLCB2YWx1ZSwgY2FuVXNlRXZlbnRTeXN0ZW0pIHtcbiAgICBpZiAoX2hhc093blByb3BlcnR5LmNhbGwod2FybmVkUHJvcGVydGllcyQxLCBuYW1lKSAmJiB3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBsb3dlckNhc2VkTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAobG93ZXJDYXNlZE5hbWUgPT09ICdvbmZvY3VzaW4nIHx8IGxvd2VyQ2FzZWROYW1lID09PSAnb25mb2N1c291dCcpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdSZWFjdCB1c2VzIG9uRm9jdXMgYW5kIG9uQmx1ciBpbnN0ZWFkIG9mIG9uRm9jdXNJbiBhbmQgb25Gb2N1c091dC4gJyArICdBbGwgUmVhY3QgZXZlbnRzIGFyZSBub3JtYWxpemVkIHRvIGJ1YmJsZSwgc28gb25Gb2N1c0luIGFuZCBvbkZvY3VzT3V0ICcgKyAnYXJlIG5vdCBuZWVkZWQvc3VwcG9ydGVkIGJ5IFJlYWN0LicpO1xuICAgICAgd2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIFdlIGNhbid0IHJlbHkgb24gdGhlIGV2ZW50IHN5c3RlbSBiZWluZyBpbmplY3RlZCBvbiB0aGUgc2VydmVyLlxuICAgIGlmIChjYW5Vc2VFdmVudFN5c3RlbSkge1xuICAgICAgaWYgKHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIHJlZ2lzdHJhdGlvbk5hbWUgPSBwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzLmhhc093blByb3BlcnR5KGxvd2VyQ2FzZWROYW1lKSA/IHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXNbbG93ZXJDYXNlZE5hbWVdIDogbnVsbDtcbiAgICAgIGlmIChyZWdpc3RyYXRpb25OYW1lICE9IG51bGwpIHtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJ0ludmFsaWQgZXZlbnQgaGFuZGxlciBwcm9wZXJ0eSBgJXNgLiBEaWQgeW91IG1lYW4gYCVzYD8lcycsIG5hbWUsIHJlZ2lzdHJhdGlvbk5hbWUsIGdldFN0YWNrQWRkZW5kdW0kMigpKTtcbiAgICAgICAgd2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoRVZFTlRfTkFNRV9SRUdFWC50ZXN0KG5hbWUpKSB7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICdVbmtub3duIGV2ZW50IGhhbmRsZXIgcHJvcGVydHkgYCVzYC4gSXQgd2lsbCBiZSBpZ25vcmVkLiVzJywgbmFtZSwgZ2V0U3RhY2tBZGRlbmR1bSQyKCkpO1xuICAgICAgICB3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSB0cnVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKEVWRU5UX05BTUVfUkVHRVgudGVzdChuYW1lKSkge1xuICAgICAgLy8gSWYgbm8gZXZlbnQgcGx1Z2lucyBoYXZlIGJlZW4gaW5qZWN0ZWQsIHdlIGFyZSBpbiBhIHNlcnZlciBlbnZpcm9ubWVudC5cbiAgICAgIC8vIFNvIHdlIGNhbid0IHRlbGwgaWYgdGhlIGV2ZW50IG5hbWUgaXMgY29ycmVjdCBmb3Igc3VyZSwgYnV0IHdlIGNhbiBmaWx0ZXJcbiAgICAgIC8vIG91dCBrbm93biBiYWQgb25lcyBsaWtlIGBvbmNsaWNrYC4gV2UgY2FuJ3Qgc3VnZ2VzdCBhIHNwZWNpZmljIHJlcGxhY2VtZW50IHRob3VnaC5cbiAgICAgIGlmIChJTlZBTElEX0VWRU5UX05BTUVfUkVHRVgudGVzdChuYW1lKSkge1xuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnSW52YWxpZCBldmVudCBoYW5kbGVyIHByb3BlcnR5IGAlc2AuICcgKyAnUmVhY3QgZXZlbnRzIHVzZSB0aGUgY2FtZWxDYXNlIG5hbWluZyBjb252ZW50aW9uLCBmb3IgZXhhbXBsZSBgb25DbGlja2AuJXMnLCBuYW1lLCBnZXRTdGFja0FkZGVuZHVtJDIoKSk7XG4gICAgICB9XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gTGV0IHRoZSBBUklBIGF0dHJpYnV0ZSBob29rIHZhbGlkYXRlIEFSSUEgYXR0cmlidXRlc1xuICAgIGlmIChyQVJJQSQxLnRlc3QobmFtZSkgfHwgckFSSUFDYW1lbCQxLnRlc3QobmFtZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChsb3dlckNhc2VkTmFtZSA9PT0gJ2lubmVyaHRtbCcpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdEaXJlY3RseSBzZXR0aW5nIHByb3BlcnR5IGBpbm5lckhUTUxgIGlzIG5vdCBwZXJtaXR0ZWQuICcgKyAnRm9yIG1vcmUgaW5mb3JtYXRpb24sIGxvb2t1cCBkb2N1bWVudGF0aW9uIG9uIGBkYW5nZXJvdXNseVNldElubmVySFRNTGAuJyk7XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGxvd2VyQ2FzZWROYW1lID09PSAnYXJpYScpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdUaGUgYGFyaWFgIGF0dHJpYnV0ZSBpcyByZXNlcnZlZCBmb3IgZnV0dXJlIHVzZSBpbiBSZWFjdC4gJyArICdQYXNzIGluZGl2aWR1YWwgYGFyaWEtYCBhdHRyaWJ1dGVzIGluc3RlYWQuJyk7XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGxvd2VyQ2FzZWROYW1lID09PSAnaXMnICYmIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ1JlY2VpdmVkIGEgYCVzYCBmb3IgYSBzdHJpbmcgYXR0cmlidXRlIGBpc2AuIElmIHRoaXMgaXMgZXhwZWN0ZWQsIGNhc3QgJyArICd0aGUgdmFsdWUgdG8gYSBzdHJpbmcuJXMnLCB0eXBlb2YgdmFsdWUsIGdldFN0YWNrQWRkZW5kdW0kMigpKTtcbiAgICAgIHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXSA9IHRydWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiBpc05hTih2YWx1ZSkpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdSZWNlaXZlZCBOYU4gZm9yIHRoZSBgJXNgIGF0dHJpYnV0ZS4gSWYgdGhpcyBpcyBleHBlY3RlZCwgY2FzdCAnICsgJ3RoZSB2YWx1ZSB0byBhIHN0cmluZy4lcycsIG5hbWUsIGdldFN0YWNrQWRkZW5kdW0kMigpKTtcbiAgICAgIHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXSA9IHRydWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgcHJvcGVydHlJbmZvID0gZ2V0UHJvcGVydHlJbmZvKG5hbWUpO1xuICAgIHZhciBpc1Jlc2VydmVkID0gcHJvcGVydHlJbmZvICE9PSBudWxsICYmIHByb3BlcnR5SW5mby50eXBlID09PSBSRVNFUlZFRDtcblxuICAgIC8vIEtub3duIGF0dHJpYnV0ZXMgc2hvdWxkIG1hdGNoIHRoZSBjYXNpbmcgc3BlY2lmaWVkIGluIHRoZSBwcm9wZXJ0eSBjb25maWcuXG4gICAgaWYgKHBvc3NpYmxlU3RhbmRhcmROYW1lcy5oYXNPd25Qcm9wZXJ0eShsb3dlckNhc2VkTmFtZSkpIHtcbiAgICAgIHZhciBzdGFuZGFyZE5hbWUgPSBwb3NzaWJsZVN0YW5kYXJkTmFtZXNbbG93ZXJDYXNlZE5hbWVdO1xuICAgICAgaWYgKHN0YW5kYXJkTmFtZSAhPT0gbmFtZSkge1xuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnSW52YWxpZCBET00gcHJvcGVydHkgYCVzYC4gRGlkIHlvdSBtZWFuIGAlc2A/JXMnLCBuYW1lLCBzdGFuZGFyZE5hbWUsIGdldFN0YWNrQWRkZW5kdW0kMigpKTtcbiAgICAgICAgd2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghaXNSZXNlcnZlZCAmJiBuYW1lICE9PSBsb3dlckNhc2VkTmFtZSkge1xuICAgICAgLy8gVW5rbm93biBhdHRyaWJ1dGVzIHNob3VsZCBoYXZlIGxvd2VyY2FzZSBjYXNpbmcgc2luY2UgdGhhdCdzIGhvdyB0aGV5XG4gICAgICAvLyB3aWxsIGJlIGNhc2VkIGFueXdheSB3aXRoIHNlcnZlciByZW5kZXJpbmcuXG4gICAgICB3YXJuaW5nKGZhbHNlLCAnUmVhY3QgZG9lcyBub3QgcmVjb2duaXplIHRoZSBgJXNgIHByb3Agb24gYSBET00gZWxlbWVudC4gSWYgeW91ICcgKyAnaW50ZW50aW9uYWxseSB3YW50IGl0IHRvIGFwcGVhciBpbiB0aGUgRE9NIGFzIGEgY3VzdG9tICcgKyAnYXR0cmlidXRlLCBzcGVsbCBpdCBhcyBsb3dlcmNhc2UgYCVzYCBpbnN0ZWFkLiAnICsgJ0lmIHlvdSBhY2NpZGVudGFsbHkgcGFzc2VkIGl0IGZyb20gYSBwYXJlbnQgY29tcG9uZW50LCByZW1vdmUgJyArICdpdCBmcm9tIHRoZSBET00gZWxlbWVudC4lcycsIG5hbWUsIGxvd2VyQ2FzZWROYW1lLCBnZXRTdGFja0FkZGVuZHVtJDIoKSk7XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nICYmIHNob3VsZFJlbW92ZUF0dHJpYnV0ZVdpdGhXYXJuaW5nKG5hbWUsIHZhbHVlLCBwcm9wZXJ0eUluZm8sIGZhbHNlKSkge1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICdSZWNlaXZlZCBgJXNgIGZvciBhIG5vbi1ib29sZWFuIGF0dHJpYnV0ZSBgJXNgLlxcblxcbicgKyAnSWYgeW91IHdhbnQgdG8gd3JpdGUgaXQgdG8gdGhlIERPTSwgcGFzcyBhIHN0cmluZyBpbnN0ZWFkOiAnICsgJyVzPVwiJXNcIiBvciAlcz17dmFsdWUudG9TdHJpbmcoKX0uJXMnLCB2YWx1ZSwgbmFtZSwgbmFtZSwgdmFsdWUsIG5hbWUsIGdldFN0YWNrQWRkZW5kdW0kMigpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICdSZWNlaXZlZCBgJXNgIGZvciBhIG5vbi1ib29sZWFuIGF0dHJpYnV0ZSBgJXNgLlxcblxcbicgKyAnSWYgeW91IHdhbnQgdG8gd3JpdGUgaXQgdG8gdGhlIERPTSwgcGFzcyBhIHN0cmluZyBpbnN0ZWFkOiAnICsgJyVzPVwiJXNcIiBvciAlcz17dmFsdWUudG9TdHJpbmcoKX0uXFxuXFxuJyArICdJZiB5b3UgdXNlZCB0byBjb25kaXRpb25hbGx5IG9taXQgaXQgd2l0aCAlcz17Y29uZGl0aW9uICYmIHZhbHVlfSwgJyArICdwYXNzICVzPXtjb25kaXRpb24gPyB2YWx1ZSA6IHVuZGVmaW5lZH0gaW5zdGVhZC4lcycsIHZhbHVlLCBuYW1lLCBuYW1lLCB2YWx1ZSwgbmFtZSwgbmFtZSwgbmFtZSwgZ2V0U3RhY2tBZGRlbmR1bSQyKCkpO1xuICAgICAgfVxuICAgICAgd2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIE5vdyB0aGF0IHdlJ3ZlIHZhbGlkYXRlZCBjYXNpbmcsIGRvIG5vdCB2YWxpZGF0ZVxuICAgIC8vIGRhdGEgdHlwZXMgZm9yIHJlc2VydmVkIHByb3BzXG4gICAgaWYgKGlzUmVzZXJ2ZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIFdhcm4gd2hlbiBhIGtub3duIGF0dHJpYnV0ZSBpcyBhIGJhZCB0eXBlXG4gICAgaWYgKHNob3VsZFJlbW92ZUF0dHJpYnV0ZVdpdGhXYXJuaW5nKG5hbWUsIHZhbHVlLCBwcm9wZXJ0eUluZm8sIGZhbHNlKSkge1xuICAgICAgd2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbn1cblxudmFyIHdhcm5Vbmtub3duUHJvcGVydGllcyA9IGZ1bmN0aW9uICh0eXBlLCBwcm9wcywgY2FuVXNlRXZlbnRTeXN0ZW0pIHtcbiAgdmFyIHVua25vd25Qcm9wcyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcbiAgICB2YXIgaXNWYWxpZCA9IHZhbGlkYXRlUHJvcGVydHkkMSh0eXBlLCBrZXksIHByb3BzW2tleV0sIGNhblVzZUV2ZW50U3lzdGVtKTtcbiAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgIHVua25vd25Qcm9wcy5wdXNoKGtleSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHVua25vd25Qcm9wU3RyaW5nID0gdW5rbm93blByb3BzLm1hcChmdW5jdGlvbiAocHJvcCkge1xuICAgIHJldHVybiAnYCcgKyBwcm9wICsgJ2AnO1xuICB9KS5qb2luKCcsICcpO1xuICBpZiAodW5rbm93blByb3BzLmxlbmd0aCA9PT0gMSkge1xuICAgIHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIHZhbHVlIGZvciBwcm9wICVzIG9uIDwlcz4gdGFnLiBFaXRoZXIgcmVtb3ZlIGl0IGZyb20gdGhlIGVsZW1lbnQsICcgKyAnb3IgcGFzcyBhIHN0cmluZyBvciBudW1iZXIgdmFsdWUgdG8ga2VlcCBpdCBpbiB0aGUgRE9NLiAnICsgJ0ZvciBkZXRhaWxzLCBzZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC1hdHRyaWJ1dGUtYmVoYXZpb3IlcycsIHVua25vd25Qcm9wU3RyaW5nLCB0eXBlLCBnZXRTdGFja0FkZGVuZHVtJDIoKSk7XG4gIH0gZWxzZSBpZiAodW5rbm93blByb3BzLmxlbmd0aCA+IDEpIHtcbiAgICB3YXJuaW5nKGZhbHNlLCAnSW52YWxpZCB2YWx1ZXMgZm9yIHByb3BzICVzIG9uIDwlcz4gdGFnLiBFaXRoZXIgcmVtb3ZlIHRoZW0gZnJvbSB0aGUgZWxlbWVudCwgJyArICdvciBwYXNzIGEgc3RyaW5nIG9yIG51bWJlciB2YWx1ZSB0byBrZWVwIHRoZW0gaW4gdGhlIERPTS4gJyArICdGb3IgZGV0YWlscywgc2VlIGh0dHBzOi8vZmIubWUvcmVhY3QtYXR0cmlidXRlLWJlaGF2aW9yJXMnLCB1bmtub3duUHJvcFN0cmluZywgdHlwZSwgZ2V0U3RhY2tBZGRlbmR1bSQyKCkpO1xuICB9XG59O1xuXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BlcnRpZXMkMih0eXBlLCBwcm9wcywgY2FuVXNlRXZlbnRTeXN0ZW0pIHtcbiAgaWYgKGlzQ3VzdG9tQ29tcG9uZW50KHR5cGUsIHByb3BzKSkge1xuICAgIHJldHVybjtcbiAgfVxuICB3YXJuVW5rbm93blByb3BlcnRpZXModHlwZSwgcHJvcHMsIGNhblVzZUV2ZW50U3lzdGVtKTtcbn1cblxuLy8gVE9ETzogZGlyZWN0IGltcG9ydHMgbGlrZSBzb21lLXBhY2thZ2Uvc3JjLyogYXJlIGJhZC4gRml4IG1lLlxudmFyIGdldEN1cnJlbnRGaWJlck93bmVyTmFtZSQyID0gUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5nZXRDdXJyZW50RmliZXJPd25lck5hbWU7XG52YXIgZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQzID0gUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5nZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtO1xuXG52YXIgZGlkV2FybkludmFsaWRIeWRyYXRpb24gPSBmYWxzZTtcbnZhciBkaWRXYXJuU2hhZHlET00gPSBmYWxzZTtcblxudmFyIERBTkdFUk9VU0xZX1NFVF9JTk5FUl9IVE1MID0gJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJztcbnZhciBTVVBQUkVTU19DT05URU5UX0VESVRBQkxFX1dBUk5JTkcgPSAnc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nJztcbnZhciBTVVBQUkVTU19IWURSQVRJT05fV0FSTklORyQxID0gJ3N1cHByZXNzSHlkcmF0aW9uV2FybmluZyc7XG52YXIgQVVUT0ZPQ1VTID0gJ2F1dG9Gb2N1cyc7XG52YXIgQ0hJTERSRU4gPSAnY2hpbGRyZW4nO1xudmFyIFNUWUxFID0gJ3N0eWxlJztcbnZhciBIVE1MID0gJ19faHRtbCc7XG5cbnZhciBIVE1MX05BTUVTUEFDRSA9IE5hbWVzcGFjZXMuaHRtbDtcblxuXG52YXIgZ2V0U3RhY2sgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zKCcnKTtcblxudmFyIHdhcm5lZFVua25vd25UYWdzID0gdm9pZCAwO1xudmFyIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZyA9IHZvaWQgMDtcblxudmFyIHZhbGlkYXRlUHJvcGVydGllc0luRGV2ZWxvcG1lbnQgPSB2b2lkIDA7XG52YXIgd2FybkZvclRleHREaWZmZXJlbmNlID0gdm9pZCAwO1xudmFyIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZSA9IHZvaWQgMDtcbnZhciB3YXJuRm9yRXh0cmFBdHRyaWJ1dGVzID0gdm9pZCAwO1xudmFyIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lciA9IHZvaWQgMDtcblxudmFyIG5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZSA9IHZvaWQgMDtcbnZhciBub3JtYWxpemVIVE1MID0gdm9pZCAwO1xuXG57XG4gIGdldFN0YWNrID0gZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQzO1xuXG4gIHdhcm5lZFVua25vd25UYWdzID0ge1xuICAgIC8vIENocm9tZSBpcyB0aGUgb25seSBtYWpvciBicm93c2VyIG5vdCBzaGlwcGluZyA8dGltZT4uIEJ1dCBhcyBvZiBKdWx5XG4gICAgLy8gMjAxNyBpdCBpbnRlbmRzIHRvIHNoaXAgaXQgZHVlIHRvIHdpZGVzcHJlYWQgdXNhZ2UuIFdlIGludGVudGlvbmFsbHlcbiAgICAvLyAqZG9uJ3QqIHdhcm4gZm9yIDx0aW1lPiBldmVuIGlmIGl0J3MgdW5yZWNvZ25pemVkIGJ5IENocm9tZSBiZWNhdXNlXG4gICAgLy8gaXQgc29vbiB3aWxsIGJlLCBhbmQgbWFueSBhcHBzIGhhdmUgYmVlbiB1c2luZyBpdCBhbnl3YXkuXG4gICAgdGltZTogdHJ1ZSxcbiAgICAvLyBUaGVyZSBhcmUgd29ya2luZyBwb2x5ZmlsbHMgZm9yIDxkaWFsb2c+LiBMZXQgcGVvcGxlIHVzZSBpdC5cbiAgICBkaWFsb2c6IHRydWVcbiAgfTtcblxuICB2YWxpZGF0ZVByb3BlcnRpZXNJbkRldmVsb3BtZW50ID0gZnVuY3Rpb24gKHR5cGUsIHByb3BzKSB7XG4gICAgdmFsaWRhdGVQcm9wZXJ0aWVzKHR5cGUsIHByb3BzKTtcbiAgICB2YWxpZGF0ZVByb3BlcnRpZXMkMSh0eXBlLCBwcm9wcyk7XG4gICAgdmFsaWRhdGVQcm9wZXJ0aWVzJDIodHlwZSwgcHJvcHMsIC8qIGNhblVzZUV2ZW50U3lzdGVtICovdHJ1ZSk7XG4gIH07XG5cbiAgLy8gSFRNTCBwYXJzaW5nIG5vcm1hbGl6ZXMgQ1IgYW5kIENSTEYgdG8gTEYuXG4gIC8vIEl0IGFsc28gY2FuIHR1cm4gXFx1MDAwMCBpbnRvIFxcdUZGRkQgaW5zaWRlIGF0dHJpYnV0ZXMuXG4gIC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9zaW5nbGUtcGFnZS5odG1sI3ByZXByb2Nlc3NpbmctdGhlLWlucHV0LXN0cmVhbVxuICAvLyBJZiB3ZSBoYXZlIGEgbWlzbWF0Y2gsIGl0IG1pZ2h0IGJlIGNhdXNlZCBieSB0aGF0LlxuICAvLyBXZSB3aWxsIHN0aWxsIHBhdGNoIHVwIGluIHRoaXMgY2FzZSBidXQgbm90IGZpcmUgdGhlIHdhcm5pbmcuXG4gIHZhciBOT1JNQUxJWkVfTkVXTElORVNfUkVHRVggPSAvXFxyXFxuPy9nO1xuICB2YXIgTk9STUFMSVpFX05VTExfQU5EX1JFUExBQ0VNRU5UX1JFR0VYID0gL1xcdTAwMDB8XFx1RkZGRC9nO1xuXG4gIG5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChtYXJrdXApIHtcbiAgICB2YXIgbWFya3VwU3RyaW5nID0gdHlwZW9mIG1hcmt1cCA9PT0gJ3N0cmluZycgPyBtYXJrdXAgOiAnJyArIG1hcmt1cDtcbiAgICByZXR1cm4gbWFya3VwU3RyaW5nLnJlcGxhY2UoTk9STUFMSVpFX05FV0xJTkVTX1JFR0VYLCAnXFxuJykucmVwbGFjZShOT1JNQUxJWkVfTlVMTF9BTkRfUkVQTEFDRU1FTlRfUkVHRVgsICcnKTtcbiAgfTtcblxuICB3YXJuRm9yVGV4dERpZmZlcmVuY2UgPSBmdW5jdGlvbiAoc2VydmVyVGV4dCwgY2xpZW50VGV4dCkge1xuICAgIGlmIChkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgbm9ybWFsaXplZENsaWVudFRleHQgPSBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUoY2xpZW50VGV4dCk7XG4gICAgdmFyIG5vcm1hbGl6ZWRTZXJ2ZXJUZXh0ID0gbm9ybWFsaXplTWFya3VwRm9yVGV4dE9yQXR0cmlidXRlKHNlcnZlclRleHQpO1xuICAgIGlmIChub3JtYWxpemVkU2VydmVyVGV4dCA9PT0gbm9ybWFsaXplZENsaWVudFRleHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGlkV2FybkludmFsaWRIeWRyYXRpb24gPSB0cnVlO1xuICAgIHdhcm5pbmcoZmFsc2UsICdUZXh0IGNvbnRlbnQgZGlkIG5vdCBtYXRjaC4gU2VydmVyOiBcIiVzXCIgQ2xpZW50OiBcIiVzXCInLCBub3JtYWxpemVkU2VydmVyVGV4dCwgbm9ybWFsaXplZENsaWVudFRleHQpO1xuICB9O1xuXG4gIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZSA9IGZ1bmN0aW9uIChwcm9wTmFtZSwgc2VydmVyVmFsdWUsIGNsaWVudFZhbHVlKSB7XG4gICAgaWYgKGRpZFdhcm5JbnZhbGlkSHlkcmF0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBub3JtYWxpemVkQ2xpZW50VmFsdWUgPSBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUoY2xpZW50VmFsdWUpO1xuICAgIHZhciBub3JtYWxpemVkU2VydmVyVmFsdWUgPSBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUoc2VydmVyVmFsdWUpO1xuICAgIGlmIChub3JtYWxpemVkU2VydmVyVmFsdWUgPT09IG5vcm1hbGl6ZWRDbGllbnRWYWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbiA9IHRydWU7XG4gICAgd2FybmluZyhmYWxzZSwgJ1Byb3AgYCVzYCBkaWQgbm90IG1hdGNoLiBTZXJ2ZXI6ICVzIENsaWVudDogJXMnLCBwcm9wTmFtZSwgSlNPTi5zdHJpbmdpZnkobm9ybWFsaXplZFNlcnZlclZhbHVlKSwgSlNPTi5zdHJpbmdpZnkobm9ybWFsaXplZENsaWVudFZhbHVlKSk7XG4gIH07XG5cbiAgd2FybkZvckV4dHJhQXR0cmlidXRlcyA9IGZ1bmN0aW9uIChhdHRyaWJ1dGVOYW1lcykge1xuICAgIGlmIChkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbiA9IHRydWU7XG4gICAgdmFyIG5hbWVzID0gW107XG4gICAgYXR0cmlidXRlTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgbmFtZXMucHVzaChuYW1lKTtcbiAgICB9KTtcbiAgICB3YXJuaW5nKGZhbHNlLCAnRXh0cmEgYXR0cmlidXRlcyBmcm9tIHRoZSBzZXJ2ZXI6ICVzJywgbmFtZXMpO1xuICB9O1xuXG4gIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChyZWdpc3RyYXRpb25OYW1lLCBsaXN0ZW5lcikge1xuICAgIGlmIChsaXN0ZW5lciA9PT0gZmFsc2UpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdFeHBlY3RlZCBgJXNgIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24sIGluc3RlYWQgZ290IGBmYWxzZWAuXFxuXFxuJyArICdJZiB5b3UgdXNlZCB0byBjb25kaXRpb25hbGx5IG9taXQgaXQgd2l0aCAlcz17Y29uZGl0aW9uICYmIHZhbHVlfSwgJyArICdwYXNzICVzPXtjb25kaXRpb24gPyB2YWx1ZSA6IHVuZGVmaW5lZH0gaW5zdGVhZC4lcycsIHJlZ2lzdHJhdGlvbk5hbWUsIHJlZ2lzdHJhdGlvbk5hbWUsIHJlZ2lzdHJhdGlvbk5hbWUsIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMygpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ0V4cGVjdGVkIGAlc2AgbGlzdGVuZXIgdG8gYmUgYSBmdW5jdGlvbiwgaW5zdGVhZCBnb3QgYSB2YWx1ZSBvZiBgJXNgIHR5cGUuJXMnLCByZWdpc3RyYXRpb25OYW1lLCB0eXBlb2YgbGlzdGVuZXIsIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMygpKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gUGFyc2UgdGhlIEhUTUwgYW5kIHJlYWQgaXQgYmFjayB0byBub3JtYWxpemUgdGhlIEhUTUwgc3RyaW5nIHNvIHRoYXQgaXRcbiAgLy8gY2FuIGJlIHVzZWQgZm9yIGNvbXBhcmlzb24uXG4gIG5vcm1hbGl6ZUhUTUwgPSBmdW5jdGlvbiAocGFyZW50LCBodG1sKSB7XG4gICAgLy8gV2UgY291bGQgaGF2ZSBjcmVhdGVkIGEgc2VwYXJhdGUgZG9jdW1lbnQgaGVyZSB0byBhdm9pZFxuICAgIC8vIHJlLWluaXRpYWxpemluZyBjdXN0b20gZWxlbWVudHMgaWYgdGhleSBleGlzdC4gQnV0IHRoaXMgYnJlYWtzXG4gICAgLy8gaG93IDxub3NjcmlwdD4gaXMgYmVpbmcgaGFuZGxlZC4gU28gd2UgdXNlIHRoZSBzYW1lIGRvY3VtZW50LlxuICAgIC8vIFNlZSB0aGUgZGlzY3Vzc2lvbiBpbiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8xMTE1Ny5cbiAgICB2YXIgdGVzdEVsZW1lbnQgPSBwYXJlbnQubmFtZXNwYWNlVVJJID09PSBIVE1MX05BTUVTUEFDRSA/IHBhcmVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQocGFyZW50LnRhZ05hbWUpIDogcGFyZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHBhcmVudC5uYW1lc3BhY2VVUkksIHBhcmVudC50YWdOYW1lKTtcbiAgICB0ZXN0RWxlbWVudC5pbm5lckhUTUwgPSBodG1sO1xuICAgIHJldHVybiB0ZXN0RWxlbWVudC5pbm5lckhUTUw7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGVuc3VyZUxpc3RlbmluZ1RvKHJvb3RDb250YWluZXJFbGVtZW50LCByZWdpc3RyYXRpb25OYW1lKSB7XG4gIHZhciBpc0RvY3VtZW50T3JGcmFnbWVudCA9IHJvb3RDb250YWluZXJFbGVtZW50Lm5vZGVUeXBlID09PSBET0NVTUVOVF9OT0RFIHx8IHJvb3RDb250YWluZXJFbGVtZW50Lm5vZGVUeXBlID09PSBET0NVTUVOVF9GUkFHTUVOVF9OT0RFO1xuICB2YXIgZG9jID0gaXNEb2N1bWVudE9yRnJhZ21lbnQgPyByb290Q29udGFpbmVyRWxlbWVudCA6IHJvb3RDb250YWluZXJFbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gIGxpc3RlblRvKHJlZ2lzdHJhdGlvbk5hbWUsIGRvYyk7XG59XG5cbmZ1bmN0aW9uIGdldE93bmVyRG9jdW1lbnRGcm9tUm9vdENvbnRhaW5lcihyb290Q29udGFpbmVyRWxlbWVudCkge1xuICByZXR1cm4gcm9vdENvbnRhaW5lckVsZW1lbnQubm9kZVR5cGUgPT09IERPQ1VNRU5UX05PREUgPyByb290Q29udGFpbmVyRWxlbWVudCA6IHJvb3RDb250YWluZXJFbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG59XG5cbmZ1bmN0aW9uIHRyYXBDbGlja09uTm9uSW50ZXJhY3RpdmVFbGVtZW50KG5vZGUpIHtcbiAgLy8gTW9iaWxlIFNhZmFyaSBkb2VzIG5vdCBmaXJlIHByb3Blcmx5IGJ1YmJsZSBjbGljayBldmVudHMgb25cbiAgLy8gbm9uLWludGVyYWN0aXZlIGVsZW1lbnRzLCB3aGljaCBtZWFucyBkZWxlZ2F0ZWQgY2xpY2sgbGlzdGVuZXJzIGRvIG5vdFxuICAvLyBmaXJlLiBUaGUgd29ya2Fyb3VuZCBmb3IgdGhpcyBidWcgaW52b2x2ZXMgYXR0YWNoaW5nIGFuIGVtcHR5IGNsaWNrXG4gIC8vIGxpc3RlbmVyIG9uIHRoZSB0YXJnZXQgbm9kZS5cbiAgLy8gaHR0cDovL3d3dy5xdWlya3Ntb2RlLm9yZy9ibG9nL2FyY2hpdmVzLzIwMTAvMDkvY2xpY2tfZXZlbnRfZGVsLmh0bWxcbiAgLy8gSnVzdCBzZXQgaXQgdXNpbmcgdGhlIG9uY2xpY2sgcHJvcGVydHkgc28gdGhhdCB3ZSBkb24ndCBoYXZlIHRvIG1hbmFnZSBhbnlcbiAgLy8gYm9va2tlZXBpbmcgZm9yIGl0LiBOb3Qgc3VyZSBpZiB3ZSBuZWVkIHRvIGNsZWFyIGl0IHdoZW4gdGhlIGxpc3RlbmVyIGlzXG4gIC8vIHJlbW92ZWQuXG4gIC8vIFRPRE86IE9ubHkgZG8gdGhpcyBmb3IgdGhlIHJlbGV2YW50IFNhZmFyaXMgbWF5YmU/XG4gIG5vZGUub25jbGljayA9IGVtcHR5RnVuY3Rpb247XG59XG5cbmZ1bmN0aW9uIHNldEluaXRpYWxET01Qcm9wZXJ0aWVzKHRhZywgZG9tRWxlbWVudCwgcm9vdENvbnRhaW5lckVsZW1lbnQsIG5leHRQcm9wcywgaXNDdXN0b21Db21wb25lbnRUYWcpIHtcbiAgZm9yICh2YXIgcHJvcEtleSBpbiBuZXh0UHJvcHMpIHtcbiAgICBpZiAoIW5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHZhciBuZXh0UHJvcCA9IG5leHRQcm9wc1twcm9wS2V5XTtcbiAgICBpZiAocHJvcEtleSA9PT0gU1RZTEUpIHtcbiAgICAgIHtcbiAgICAgICAgaWYgKG5leHRQcm9wKSB7XG4gICAgICAgICAgLy8gRnJlZXplIHRoZSBuZXh0IHN0eWxlIG9iamVjdCBzbyB0aGF0IHdlIGNhbiBhc3N1bWUgaXQgd29uJ3QgYmVcbiAgICAgICAgICAvLyBtdXRhdGVkLiBXZSBoYXZlIGFscmVhZHkgd2FybmVkIGZvciB0aGlzIGluIHRoZSBwYXN0LlxuICAgICAgICAgIE9iamVjdC5mcmVlemUobmV4dFByb3ApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBSZWxpZXMgb24gYHVwZGF0ZVN0eWxlc0J5SURgIG5vdCBtdXRhdGluZyBgc3R5bGVVcGRhdGVzYC5cbiAgICAgIHNldFZhbHVlRm9yU3R5bGVzKGRvbUVsZW1lbnQsIG5leHRQcm9wLCBnZXRTdGFjayk7XG4gICAgfSBlbHNlIGlmIChwcm9wS2V5ID09PSBEQU5HRVJPVVNMWV9TRVRfSU5ORVJfSFRNTCkge1xuICAgICAgdmFyIG5leHRIdG1sID0gbmV4dFByb3AgPyBuZXh0UHJvcFtIVE1MXSA6IHVuZGVmaW5lZDtcbiAgICAgIGlmIChuZXh0SHRtbCAhPSBudWxsKSB7XG4gICAgICAgIHNldElubmVySFRNTChkb21FbGVtZW50LCBuZXh0SHRtbCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwcm9wS2V5ID09PSBDSElMRFJFTikge1xuICAgICAgaWYgKHR5cGVvZiBuZXh0UHJvcCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gQXZvaWQgc2V0dGluZyBpbml0aWFsIHRleHRDb250ZW50IHdoZW4gdGhlIHRleHQgaXMgZW1wdHkuIEluIElFMTEgc2V0dGluZ1xuICAgICAgICAvLyB0ZXh0Q29udGVudCBvbiBhIDx0ZXh0YXJlYT4gd2lsbCBjYXVzZSB0aGUgcGxhY2Vob2xkZXIgdG8gbm90XG4gICAgICAgIC8vIHNob3cgd2l0aGluIHRoZSA8dGV4dGFyZWE+IHVudGlsIGl0IGhhcyBiZWVuIGZvY3VzZWQgYW5kIGJsdXJyZWQgYWdhaW4uXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvNjczMSNpc3N1ZWNvbW1lbnQtMjU0ODc0NTUzXG4gICAgICAgIHZhciBjYW5TZXRUZXh0Q29udGVudCA9IHRhZyAhPT0gJ3RleHRhcmVhJyB8fCBuZXh0UHJvcCAhPT0gJyc7XG4gICAgICAgIGlmIChjYW5TZXRUZXh0Q29udGVudCkge1xuICAgICAgICAgIHNldFRleHRDb250ZW50KGRvbUVsZW1lbnQsIG5leHRQcm9wKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbmV4dFByb3AgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHNldFRleHRDb250ZW50KGRvbUVsZW1lbnQsICcnICsgbmV4dFByb3ApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gU1VQUFJFU1NfQ09OVEVOVF9FRElUQUJMRV9XQVJOSU5HIHx8IHByb3BLZXkgPT09IFNVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HJDEpIHtcbiAgICAgIC8vIE5vb3BcbiAgICB9IGVsc2UgaWYgKHByb3BLZXkgPT09IEFVVE9GT0NVUykge1xuICAgICAgLy8gV2UgcG9seWZpbGwgaXQgc2VwYXJhdGVseSBvbiB0aGUgY2xpZW50IGR1cmluZyBjb21taXQuXG4gICAgICAvLyBXZSBibGFja2xpc3QgaXQgaGVyZSByYXRoZXIgdGhhbiBpbiB0aGUgcHJvcGVydHkgbGlzdCBiZWNhdXNlIHdlIGVtaXQgaXQgaW4gU1NSLlxuICAgIH0gZWxzZSBpZiAocmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgIGlmIChuZXh0UHJvcCAhPSBudWxsKSB7XG4gICAgICAgIGlmICh0cnVlICYmIHR5cGVvZiBuZXh0UHJvcCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lcihwcm9wS2V5LCBuZXh0UHJvcCk7XG4gICAgICAgIH1cbiAgICAgICAgZW5zdXJlTGlzdGVuaW5nVG8ocm9vdENvbnRhaW5lckVsZW1lbnQsIHByb3BLZXkpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobmV4dFByb3AgIT0gbnVsbCkge1xuICAgICAgc2V0VmFsdWVGb3JQcm9wZXJ0eShkb21FbGVtZW50LCBwcm9wS2V5LCBuZXh0UHJvcCwgaXNDdXN0b21Db21wb25lbnRUYWcpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVET01Qcm9wZXJ0aWVzKGRvbUVsZW1lbnQsIHVwZGF0ZVBheWxvYWQsIHdhc0N1c3RvbUNvbXBvbmVudFRhZywgaXNDdXN0b21Db21wb25lbnRUYWcpIHtcbiAgLy8gVE9ETzogSGFuZGxlIHdhc0N1c3RvbUNvbXBvbmVudFRhZ1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHVwZGF0ZVBheWxvYWQubGVuZ3RoOyBpICs9IDIpIHtcbiAgICB2YXIgcHJvcEtleSA9IHVwZGF0ZVBheWxvYWRbaV07XG4gICAgdmFyIHByb3BWYWx1ZSA9IHVwZGF0ZVBheWxvYWRbaSArIDFdO1xuICAgIGlmIChwcm9wS2V5ID09PSBTVFlMRSkge1xuICAgICAgc2V0VmFsdWVGb3JTdHlsZXMoZG9tRWxlbWVudCwgcHJvcFZhbHVlLCBnZXRTdGFjayk7XG4gICAgfSBlbHNlIGlmIChwcm9wS2V5ID09PSBEQU5HRVJPVVNMWV9TRVRfSU5ORVJfSFRNTCkge1xuICAgICAgc2V0SW5uZXJIVE1MKGRvbUVsZW1lbnQsIHByb3BWYWx1ZSk7XG4gICAgfSBlbHNlIGlmIChwcm9wS2V5ID09PSBDSElMRFJFTikge1xuICAgICAgc2V0VGV4dENvbnRlbnQoZG9tRWxlbWVudCwgcHJvcFZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VmFsdWVGb3JQcm9wZXJ0eShkb21FbGVtZW50LCBwcm9wS2V5LCBwcm9wVmFsdWUsIGlzQ3VzdG9tQ29tcG9uZW50VGFnKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCQxKHR5cGUsIHByb3BzLCByb290Q29udGFpbmVyRWxlbWVudCwgcGFyZW50TmFtZXNwYWNlKSB7XG4gIHZhciBpc0N1c3RvbUNvbXBvbmVudFRhZyA9IHZvaWQgMDtcblxuICAvLyBXZSBjcmVhdGUgdGFncyBpbiB0aGUgbmFtZXNwYWNlIG9mIHRoZWlyIHBhcmVudCBjb250YWluZXIsIGV4Y2VwdCBIVE1MXG4gIC8vIHRhZ3MgZ2V0IG5vIG5hbWVzcGFjZS5cbiAgdmFyIG93bmVyRG9jdW1lbnQgPSBnZXRPd25lckRvY3VtZW50RnJvbVJvb3RDb250YWluZXIocm9vdENvbnRhaW5lckVsZW1lbnQpO1xuICB2YXIgZG9tRWxlbWVudCA9IHZvaWQgMDtcbiAgdmFyIG5hbWVzcGFjZVVSSSA9IHBhcmVudE5hbWVzcGFjZTtcbiAgaWYgKG5hbWVzcGFjZVVSSSA9PT0gSFRNTF9OQU1FU1BBQ0UpIHtcbiAgICBuYW1lc3BhY2VVUkkgPSBnZXRJbnRyaW5zaWNOYW1lc3BhY2UodHlwZSk7XG4gIH1cbiAgaWYgKG5hbWVzcGFjZVVSSSA9PT0gSFRNTF9OQU1FU1BBQ0UpIHtcbiAgICB7XG4gICAgICBpc0N1c3RvbUNvbXBvbmVudFRhZyA9IGlzQ3VzdG9tQ29tcG9uZW50KHR5cGUsIHByb3BzKTtcbiAgICAgIC8vIFNob3VsZCB0aGlzIGNoZWNrIGJlIGdhdGVkIGJ5IHBhcmVudCBuYW1lc3BhY2U/IE5vdCBzdXJlIHdlIHdhbnQgdG9cbiAgICAgIC8vIGFsbG93IDxTVkc+IG9yIDxtQVRIPi5cbiAgICAgIHdhcm5pbmcoaXNDdXN0b21Db21wb25lbnRUYWcgfHwgdHlwZSA9PT0gdHlwZS50b0xvd2VyQ2FzZSgpLCAnPCVzIC8+IGlzIHVzaW5nIHVwcGVyY2FzZSBIVE1MLiBBbHdheXMgdXNlIGxvd2VyY2FzZSBIVE1MIHRhZ3MgJyArICdpbiBSZWFjdC4nLCB0eXBlKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gJ3NjcmlwdCcpIHtcbiAgICAgIC8vIENyZWF0ZSB0aGUgc2NyaXB0IHZpYSAuaW5uZXJIVE1MIHNvIGl0cyBcInBhcnNlci1pbnNlcnRlZFwiIGZsYWcgaXNcbiAgICAgIC8vIHNldCB0byB0cnVlIGFuZCBpdCBkb2VzIG5vdCBleGVjdXRlXG4gICAgICB2YXIgZGl2ID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGRpdi5pbm5lckhUTUwgPSAnPHNjcmlwdD48JyArICcvc2NyaXB0Pic7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgIC8vIFRoaXMgaXMgZ3VhcmFudGVlZCB0byB5aWVsZCBhIHNjcmlwdCBlbGVtZW50LlxuICAgICAgdmFyIGZpcnN0Q2hpbGQgPSBkaXYuZmlyc3RDaGlsZDtcbiAgICAgIGRvbUVsZW1lbnQgPSBkaXYucmVtb3ZlQ2hpbGQoZmlyc3RDaGlsZCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcHJvcHMuaXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyAkRmxvd0lzc3VlIGBjcmVhdGVFbGVtZW50YCBzaG91bGQgYmUgdXBkYXRlZCBmb3IgV2ViIENvbXBvbmVudHNcbiAgICAgIGRvbUVsZW1lbnQgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSwgeyBpczogcHJvcHMuaXMgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNlcGFyYXRlIGVsc2UgYnJhbmNoIGluc3RlYWQgb2YgdXNpbmcgYHByb3BzLmlzIHx8IHVuZGVmaW5lZGAgYWJvdmUgYmVjYXVzZSBvZiBhIEZpcmVmb3ggYnVnLlxuICAgICAgLy8gU2VlIGRpc2N1c3Npb24gaW4gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L3B1bGwvNjg5NlxuICAgICAgLy8gYW5kIGRpc2N1c3Npb24gaW4gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTI3NjI0MFxuICAgICAgZG9tRWxlbWVudCA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZG9tRWxlbWVudCA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5hbWVzcGFjZVVSSSwgdHlwZSk7XG4gIH1cblxuICB7XG4gICAgaWYgKG5hbWVzcGFjZVVSSSA9PT0gSFRNTF9OQU1FU1BBQ0UpIHtcbiAgICAgIGlmICghaXNDdXN0b21Db21wb25lbnRUYWcgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGRvbUVsZW1lbnQpID09PSAnW29iamVjdCBIVE1MVW5rbm93bkVsZW1lbnRdJyAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHdhcm5lZFVua25vd25UYWdzLCB0eXBlKSkge1xuICAgICAgICB3YXJuZWRVbmtub3duVGFnc1t0eXBlXSA9IHRydWU7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICdUaGUgdGFnIDwlcz4gaXMgdW5yZWNvZ25pemVkIGluIHRoaXMgYnJvd3Nlci4gJyArICdJZiB5b3UgbWVhbnQgdG8gcmVuZGVyIGEgUmVhY3QgY29tcG9uZW50LCBzdGFydCBpdHMgbmFtZSB3aXRoICcgKyAnYW4gdXBwZXJjYXNlIGxldHRlci4nLCB0eXBlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZG9tRWxlbWVudDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVGV4dE5vZGUkMSh0ZXh0LCByb290Q29udGFpbmVyRWxlbWVudCkge1xuICByZXR1cm4gZ2V0T3duZXJEb2N1bWVudEZyb21Sb290Q29udGFpbmVyKHJvb3RDb250YWluZXJFbGVtZW50KS5jcmVhdGVUZXh0Tm9kZSh0ZXh0KTtcbn1cblxuZnVuY3Rpb24gc2V0SW5pdGlhbFByb3BlcnRpZXMkMShkb21FbGVtZW50LCB0YWcsIHJhd1Byb3BzLCByb290Q29udGFpbmVyRWxlbWVudCkge1xuICB2YXIgaXNDdXN0b21Db21wb25lbnRUYWcgPSBpc0N1c3RvbUNvbXBvbmVudCh0YWcsIHJhd1Byb3BzKTtcbiAge1xuICAgIHZhbGlkYXRlUHJvcGVydGllc0luRGV2ZWxvcG1lbnQodGFnLCByYXdQcm9wcyk7XG4gICAgaWYgKGlzQ3VzdG9tQ29tcG9uZW50VGFnICYmICFkaWRXYXJuU2hhZHlET00gJiYgZG9tRWxlbWVudC5zaGFkeVJvb3QpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICclcyBpcyB1c2luZyBzaGFkeSBET00uIFVzaW5nIHNoYWR5IERPTSB3aXRoIFJlYWN0IGNhbiAnICsgJ2NhdXNlIHRoaW5ncyB0byBicmVhayBzdWJ0bHkuJywgZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lJDIoKSB8fCAnQSBjb21wb25lbnQnKTtcbiAgICAgIGRpZFdhcm5TaGFkeURPTSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgLy8gVE9ETzogTWFrZSBzdXJlIHRoYXQgd2UgY2hlY2sgaXNNb3VudGVkIGJlZm9yZSBmaXJpbmcgYW55IG9mIHRoZXNlIGV2ZW50cy5cbiAgdmFyIHByb3BzID0gdm9pZCAwO1xuICBzd2l0Y2ggKHRhZykge1xuICAgIGNhc2UgJ2lmcmFtZSc6XG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIHRyYXBCdWJibGVkRXZlbnQoJ3RvcExvYWQnLCAnbG9hZCcsIGRvbUVsZW1lbnQpO1xuICAgICAgcHJvcHMgPSByYXdQcm9wcztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3ZpZGVvJzpcbiAgICBjYXNlICdhdWRpbyc6XG4gICAgICAvLyBDcmVhdGUgbGlzdGVuZXIgZm9yIGVhY2ggbWVkaWEgZXZlbnRcbiAgICAgIGZvciAodmFyIGV2ZW50IGluIG1lZGlhRXZlbnRUeXBlcykge1xuICAgICAgICBpZiAobWVkaWFFdmVudFR5cGVzLmhhc093blByb3BlcnR5KGV2ZW50KSkge1xuICAgICAgICAgIHRyYXBCdWJibGVkRXZlbnQoZXZlbnQsIG1lZGlhRXZlbnRUeXBlc1tldmVudF0sIGRvbUVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwcm9wcyA9IHJhd1Byb3BzO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc291cmNlJzpcbiAgICAgIHRyYXBCdWJibGVkRXZlbnQoJ3RvcEVycm9yJywgJ2Vycm9yJywgZG9tRWxlbWVudCk7XG4gICAgICBwcm9wcyA9IHJhd1Byb3BzO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaW1nJzpcbiAgICBjYXNlICdpbWFnZSc6XG4gICAgY2FzZSAnbGluayc6XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KCd0b3BFcnJvcicsICdlcnJvcicsIGRvbUVsZW1lbnQpO1xuICAgICAgdHJhcEJ1YmJsZWRFdmVudCgndG9wTG9hZCcsICdsb2FkJywgZG9tRWxlbWVudCk7XG4gICAgICBwcm9wcyA9IHJhd1Byb3BzO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZm9ybSc6XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KCd0b3BSZXNldCcsICdyZXNldCcsIGRvbUVsZW1lbnQpO1xuICAgICAgdHJhcEJ1YmJsZWRFdmVudCgndG9wU3VibWl0JywgJ3N1Ym1pdCcsIGRvbUVsZW1lbnQpO1xuICAgICAgcHJvcHMgPSByYXdQcm9wcztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2RldGFpbHMnOlxuICAgICAgdHJhcEJ1YmJsZWRFdmVudCgndG9wVG9nZ2xlJywgJ3RvZ2dsZScsIGRvbUVsZW1lbnQpO1xuICAgICAgcHJvcHMgPSByYXdQcm9wcztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgIGluaXRXcmFwcGVyU3RhdGUoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgcHJvcHMgPSBnZXRIb3N0UHJvcHMoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgdHJhcEJ1YmJsZWRFdmVudCgndG9wSW52YWxpZCcsICdpbnZhbGlkJywgZG9tRWxlbWVudCk7XG4gICAgICAvLyBGb3IgY29udHJvbGxlZCBjb21wb25lbnRzIHdlIGFsd2F5cyBuZWVkIHRvIGVuc3VyZSB3ZSdyZSBsaXN0ZW5pbmdcbiAgICAgIC8vIHRvIG9uQ2hhbmdlLiBFdmVuIGlmIHRoZXJlIGlzIG5vIGxpc3RlbmVyLlxuICAgICAgZW5zdXJlTGlzdGVuaW5nVG8ocm9vdENvbnRhaW5lckVsZW1lbnQsICdvbkNoYW5nZScpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnb3B0aW9uJzpcbiAgICAgIHZhbGlkYXRlUHJvcHMoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgcHJvcHMgPSBnZXRIb3N0UHJvcHMkMShkb21FbGVtZW50LCByYXdQcm9wcyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgaW5pdFdyYXBwZXJTdGF0ZSQxKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIHByb3BzID0gZ2V0SG9zdFByb3BzJDIoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgdHJhcEJ1YmJsZWRFdmVudCgndG9wSW52YWxpZCcsICdpbnZhbGlkJywgZG9tRWxlbWVudCk7XG4gICAgICAvLyBGb3IgY29udHJvbGxlZCBjb21wb25lbnRzIHdlIGFsd2F5cyBuZWVkIHRvIGVuc3VyZSB3ZSdyZSBsaXN0ZW5pbmdcbiAgICAgIC8vIHRvIG9uQ2hhbmdlLiBFdmVuIGlmIHRoZXJlIGlzIG5vIGxpc3RlbmVyLlxuICAgICAgZW5zdXJlTGlzdGVuaW5nVG8ocm9vdENvbnRhaW5lckVsZW1lbnQsICdvbkNoYW5nZScpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgaW5pdFdyYXBwZXJTdGF0ZSQyKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIHByb3BzID0gZ2V0SG9zdFByb3BzJDMoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgdHJhcEJ1YmJsZWRFdmVudCgndG9wSW52YWxpZCcsICdpbnZhbGlkJywgZG9tRWxlbWVudCk7XG4gICAgICAvLyBGb3IgY29udHJvbGxlZCBjb21wb25lbnRzIHdlIGFsd2F5cyBuZWVkIHRvIGVuc3VyZSB3ZSdyZSBsaXN0ZW5pbmdcbiAgICAgIC8vIHRvIG9uQ2hhbmdlLiBFdmVuIGlmIHRoZXJlIGlzIG5vIGxpc3RlbmVyLlxuICAgICAgZW5zdXJlTGlzdGVuaW5nVG8ocm9vdENvbnRhaW5lckVsZW1lbnQsICdvbkNoYW5nZScpO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHByb3BzID0gcmF3UHJvcHM7XG4gIH1cblxuICBhc3NlcnRWYWxpZFByb3BzKHRhZywgcHJvcHMsIGdldFN0YWNrKTtcblxuICBzZXRJbml0aWFsRE9NUHJvcGVydGllcyh0YWcsIGRvbUVsZW1lbnQsIHJvb3RDb250YWluZXJFbGVtZW50LCBwcm9wcywgaXNDdXN0b21Db21wb25lbnRUYWcpO1xuXG4gIHN3aXRjaCAodGFnKSB7XG4gICAgY2FzZSAnaW5wdXQnOlxuICAgICAgLy8gVE9ETzogTWFrZSBzdXJlIHdlIGNoZWNrIGlmIHRoaXMgaXMgc3RpbGwgdW5tb3VudGVkIG9yIGRvIGFueSBjbGVhblxuICAgICAgLy8gdXAgbmVjZXNzYXJ5IHNpbmNlIHdlIG5ldmVyIHN0b3AgdHJhY2tpbmcgYW55bW9yZS5cbiAgICAgIHRyYWNrKGRvbUVsZW1lbnQpO1xuICAgICAgcG9zdE1vdW50V3JhcHBlcihkb21FbGVtZW50LCByYXdQcm9wcyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgICAvLyBUT0RPOiBNYWtlIHN1cmUgd2UgY2hlY2sgaWYgdGhpcyBpcyBzdGlsbCB1bm1vdW50ZWQgb3IgZG8gYW55IGNsZWFuXG4gICAgICAvLyB1cCBuZWNlc3Nhcnkgc2luY2Ugd2UgbmV2ZXIgc3RvcCB0cmFja2luZyBhbnltb3JlLlxuICAgICAgdHJhY2soZG9tRWxlbWVudCk7XG4gICAgICBwb3N0TW91bnRXcmFwcGVyJDMoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnb3B0aW9uJzpcbiAgICAgIHBvc3RNb3VudFdyYXBwZXIkMShkb21FbGVtZW50LCByYXdQcm9wcyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgcG9zdE1vdW50V3JhcHBlciQyKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBpZiAodHlwZW9mIHByb3BzLm9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gVE9ETzogVGhpcyBjYXN0IG1heSBub3QgYmUgc291bmQgZm9yIFNWRywgTWF0aE1MIG9yIGN1c3RvbSBlbGVtZW50cy5cbiAgICAgICAgdHJhcENsaWNrT25Ob25JbnRlcmFjdGl2ZUVsZW1lbnQoZG9tRWxlbWVudCk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgfVxufVxuXG4vLyBDYWxjdWxhdGUgdGhlIGRpZmYgYmV0d2VlbiB0aGUgdHdvIG9iamVjdHMuXG5mdW5jdGlvbiBkaWZmUHJvcGVydGllcyQxKGRvbUVsZW1lbnQsIHRhZywgbGFzdFJhd1Byb3BzLCBuZXh0UmF3UHJvcHMsIHJvb3RDb250YWluZXJFbGVtZW50KSB7XG4gIHtcbiAgICB2YWxpZGF0ZVByb3BlcnRpZXNJbkRldmVsb3BtZW50KHRhZywgbmV4dFJhd1Byb3BzKTtcbiAgfVxuXG4gIHZhciB1cGRhdGVQYXlsb2FkID0gbnVsbDtcblxuICB2YXIgbGFzdFByb3BzID0gdm9pZCAwO1xuICB2YXIgbmV4dFByb3BzID0gdm9pZCAwO1xuICBzd2l0Y2ggKHRhZykge1xuICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgIGxhc3RQcm9wcyA9IGdldEhvc3RQcm9wcyhkb21FbGVtZW50LCBsYXN0UmF3UHJvcHMpO1xuICAgICAgbmV4dFByb3BzID0gZ2V0SG9zdFByb3BzKGRvbUVsZW1lbnQsIG5leHRSYXdQcm9wcyk7XG4gICAgICB1cGRhdGVQYXlsb2FkID0gW107XG4gICAgICBicmVhaztcbiAgICBjYXNlICdvcHRpb24nOlxuICAgICAgbGFzdFByb3BzID0gZ2V0SG9zdFByb3BzJDEoZG9tRWxlbWVudCwgbGFzdFJhd1Byb3BzKTtcbiAgICAgIG5leHRQcm9wcyA9IGdldEhvc3RQcm9wcyQxKGRvbUVsZW1lbnQsIG5leHRSYXdQcm9wcyk7XG4gICAgICB1cGRhdGVQYXlsb2FkID0gW107XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgbGFzdFByb3BzID0gZ2V0SG9zdFByb3BzJDIoZG9tRWxlbWVudCwgbGFzdFJhd1Byb3BzKTtcbiAgICAgIG5leHRQcm9wcyA9IGdldEhvc3RQcm9wcyQyKGRvbUVsZW1lbnQsIG5leHRSYXdQcm9wcyk7XG4gICAgICB1cGRhdGVQYXlsb2FkID0gW107XG4gICAgICBicmVhaztcbiAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgICBsYXN0UHJvcHMgPSBnZXRIb3N0UHJvcHMkMyhkb21FbGVtZW50LCBsYXN0UmF3UHJvcHMpO1xuICAgICAgbmV4dFByb3BzID0gZ2V0SG9zdFByb3BzJDMoZG9tRWxlbWVudCwgbmV4dFJhd1Byb3BzKTtcbiAgICAgIHVwZGF0ZVBheWxvYWQgPSBbXTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBsYXN0UHJvcHMgPSBsYXN0UmF3UHJvcHM7XG4gICAgICBuZXh0UHJvcHMgPSBuZXh0UmF3UHJvcHM7XG4gICAgICBpZiAodHlwZW9mIGxhc3RQcm9wcy5vbkNsaWNrICE9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBuZXh0UHJvcHMub25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBUT0RPOiBUaGlzIGNhc3QgbWF5IG5vdCBiZSBzb3VuZCBmb3IgU1ZHLCBNYXRoTUwgb3IgY3VzdG9tIGVsZW1lbnRzLlxuICAgICAgICB0cmFwQ2xpY2tPbk5vbkludGVyYWN0aXZlRWxlbWVudChkb21FbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgYXNzZXJ0VmFsaWRQcm9wcyh0YWcsIG5leHRQcm9wcywgZ2V0U3RhY2spO1xuXG4gIHZhciBwcm9wS2V5ID0gdm9pZCAwO1xuICB2YXIgc3R5bGVOYW1lID0gdm9pZCAwO1xuICB2YXIgc3R5bGVVcGRhdGVzID0gbnVsbDtcbiAgZm9yIChwcm9wS2V5IGluIGxhc3RQcm9wcykge1xuICAgIGlmIChuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkgfHwgIWxhc3RQcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSB8fCBsYXN0UHJvcHNbcHJvcEtleV0gPT0gbnVsbCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChwcm9wS2V5ID09PSBTVFlMRSkge1xuICAgICAgdmFyIGxhc3RTdHlsZSA9IGxhc3RQcm9wc1twcm9wS2V5XTtcbiAgICAgIGZvciAoc3R5bGVOYW1lIGluIGxhc3RTdHlsZSkge1xuICAgICAgICBpZiAobGFzdFN0eWxlLmhhc093blByb3BlcnR5KHN0eWxlTmFtZSkpIHtcbiAgICAgICAgICBpZiAoIXN0eWxlVXBkYXRlcykge1xuICAgICAgICAgICAgc3R5bGVVcGRhdGVzID0ge307XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0eWxlVXBkYXRlc1tzdHlsZU5hbWVdID0gJyc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHByb3BLZXkgPT09IERBTkdFUk9VU0xZX1NFVF9JTk5FUl9IVE1MIHx8IHByb3BLZXkgPT09IENISUxEUkVOKSB7XG4gICAgICAvLyBOb29wLiBUaGlzIGlzIGhhbmRsZWQgYnkgdGhlIGNsZWFyIHRleHQgbWVjaGFuaXNtLlxuICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gU1VQUFJFU1NfQ09OVEVOVF9FRElUQUJMRV9XQVJOSU5HIHx8IHByb3BLZXkgPT09IFNVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HJDEpIHtcbiAgICAgIC8vIE5vb3BcbiAgICB9IGVsc2UgaWYgKHByb3BLZXkgPT09IEFVVE9GT0NVUykge1xuICAgICAgLy8gTm9vcC4gSXQgZG9lc24ndCB3b3JrIG9uIHVwZGF0ZXMgYW55d2F5LlxuICAgIH0gZWxzZSBpZiAocmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgIC8vIFRoaXMgaXMgYSBzcGVjaWFsIGNhc2UuIElmIGFueSBsaXN0ZW5lciB1cGRhdGVzIHdlIG5lZWQgdG8gZW5zdXJlXG4gICAgICAvLyB0aGF0IHRoZSBcImN1cnJlbnRcIiBmaWJlciBwb2ludGVyIGdldHMgdXBkYXRlZCBzbyB3ZSBuZWVkIGEgY29tbWl0XG4gICAgICAvLyB0byB1cGRhdGUgdGhpcyBlbGVtZW50LlxuICAgICAgaWYgKCF1cGRhdGVQYXlsb2FkKSB7XG4gICAgICAgIHVwZGF0ZVBheWxvYWQgPSBbXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRm9yIGFsbCBvdGhlciBkZWxldGVkIHByb3BlcnRpZXMgd2UgYWRkIGl0IHRvIHRoZSBxdWV1ZS4gV2UgdXNlXG4gICAgICAvLyB0aGUgd2hpdGVsaXN0IGluIHRoZSBjb21taXQgcGhhc2UgaW5zdGVhZC5cbiAgICAgICh1cGRhdGVQYXlsb2FkID0gdXBkYXRlUGF5bG9hZCB8fCBbXSkucHVzaChwcm9wS2V5LCBudWxsKTtcbiAgICB9XG4gIH1cbiAgZm9yIChwcm9wS2V5IGluIG5leHRQcm9wcykge1xuICAgIHZhciBuZXh0UHJvcCA9IG5leHRQcm9wc1twcm9wS2V5XTtcbiAgICB2YXIgbGFzdFByb3AgPSBsYXN0UHJvcHMgIT0gbnVsbCA/IGxhc3RQcm9wc1twcm9wS2V5XSA6IHVuZGVmaW5lZDtcbiAgICBpZiAoIW5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSB8fCBuZXh0UHJvcCA9PT0gbGFzdFByb3AgfHwgbmV4dFByb3AgPT0gbnVsbCAmJiBsYXN0UHJvcCA9PSBudWxsKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKHByb3BLZXkgPT09IFNUWUxFKSB7XG4gICAgICB7XG4gICAgICAgIGlmIChuZXh0UHJvcCkge1xuICAgICAgICAgIC8vIEZyZWV6ZSB0aGUgbmV4dCBzdHlsZSBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gYXNzdW1lIGl0IHdvbid0IGJlXG4gICAgICAgICAgLy8gbXV0YXRlZC4gV2UgaGF2ZSBhbHJlYWR5IHdhcm5lZCBmb3IgdGhpcyBpbiB0aGUgcGFzdC5cbiAgICAgICAgICBPYmplY3QuZnJlZXplKG5leHRQcm9wKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxhc3RQcm9wKSB7XG4gICAgICAgIC8vIFVuc2V0IHN0eWxlcyBvbiBgbGFzdFByb3BgIGJ1dCBub3Qgb24gYG5leHRQcm9wYC5cbiAgICAgICAgZm9yIChzdHlsZU5hbWUgaW4gbGFzdFByb3ApIHtcbiAgICAgICAgICBpZiAobGFzdFByb3AuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSAmJiAoIW5leHRQcm9wIHx8ICFuZXh0UHJvcC5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpKSkge1xuICAgICAgICAgICAgaWYgKCFzdHlsZVVwZGF0ZXMpIHtcbiAgICAgICAgICAgICAgc3R5bGVVcGRhdGVzID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHlsZVVwZGF0ZXNbc3R5bGVOYW1lXSA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGUgc3R5bGVzIHRoYXQgY2hhbmdlZCBzaW5jZSBgbGFzdFByb3BgLlxuICAgICAgICBmb3IgKHN0eWxlTmFtZSBpbiBuZXh0UHJvcCkge1xuICAgICAgICAgIGlmIChuZXh0UHJvcC5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpICYmIGxhc3RQcm9wW3N0eWxlTmFtZV0gIT09IG5leHRQcm9wW3N0eWxlTmFtZV0pIHtcbiAgICAgICAgICAgIGlmICghc3R5bGVVcGRhdGVzKSB7XG4gICAgICAgICAgICAgIHN0eWxlVXBkYXRlcyA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3R5bGVVcGRhdGVzW3N0eWxlTmFtZV0gPSBuZXh0UHJvcFtzdHlsZU5hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmVsaWVzIG9uIGB1cGRhdGVTdHlsZXNCeUlEYCBub3QgbXV0YXRpbmcgYHN0eWxlVXBkYXRlc2AuXG4gICAgICAgIGlmICghc3R5bGVVcGRhdGVzKSB7XG4gICAgICAgICAgaWYgKCF1cGRhdGVQYXlsb2FkKSB7XG4gICAgICAgICAgICB1cGRhdGVQYXlsb2FkID0gW107XG4gICAgICAgICAgfVxuICAgICAgICAgIHVwZGF0ZVBheWxvYWQucHVzaChwcm9wS2V5LCBzdHlsZVVwZGF0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIHN0eWxlVXBkYXRlcyA9IG5leHRQcm9wO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gREFOR0VST1VTTFlfU0VUX0lOTkVSX0hUTUwpIHtcbiAgICAgIHZhciBuZXh0SHRtbCA9IG5leHRQcm9wID8gbmV4dFByb3BbSFRNTF0gOiB1bmRlZmluZWQ7XG4gICAgICB2YXIgbGFzdEh0bWwgPSBsYXN0UHJvcCA/IGxhc3RQcm9wW0hUTUxdIDogdW5kZWZpbmVkO1xuICAgICAgaWYgKG5leHRIdG1sICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGxhc3RIdG1sICE9PSBuZXh0SHRtbCkge1xuICAgICAgICAgICh1cGRhdGVQYXlsb2FkID0gdXBkYXRlUGF5bG9hZCB8fCBbXSkucHVzaChwcm9wS2V5LCAnJyArIG5leHRIdG1sKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVE9ETzogSXQgbWlnaHQgYmUgdG9vIGxhdGUgdG8gY2xlYXIgdGhpcyBpZiB3ZSBoYXZlIGNoaWxkcmVuXG4gICAgICAgIC8vIGluc2VydGVkIGFscmVhZHkuXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwcm9wS2V5ID09PSBDSElMRFJFTikge1xuICAgICAgaWYgKGxhc3RQcm9wICE9PSBuZXh0UHJvcCAmJiAodHlwZW9mIG5leHRQcm9wID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgbmV4dFByb3AgPT09ICdudW1iZXInKSkge1xuICAgICAgICAodXBkYXRlUGF5bG9hZCA9IHVwZGF0ZVBheWxvYWQgfHwgW10pLnB1c2gocHJvcEtleSwgJycgKyBuZXh0UHJvcCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwcm9wS2V5ID09PSBTVVBQUkVTU19DT05URU5UX0VESVRBQkxFX1dBUk5JTkcgfHwgcHJvcEtleSA9PT0gU1VQUFJFU1NfSFlEUkFUSU9OX1dBUk5JTkckMSkge1xuICAgICAgLy8gTm9vcFxuICAgIH0gZWxzZSBpZiAocmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgIGlmIChuZXh0UHJvcCAhPSBudWxsKSB7XG4gICAgICAgIC8vIFdlIGVhZ2VybHkgbGlzdGVuIHRvIHRoaXMgZXZlbiB0aG91Z2ggd2UgaGF2ZW4ndCBjb21taXR0ZWQgeWV0LlxuICAgICAgICBpZiAodHJ1ZSAmJiB0eXBlb2YgbmV4dFByb3AgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIocHJvcEtleSwgbmV4dFByb3ApO1xuICAgICAgICB9XG4gICAgICAgIGVuc3VyZUxpc3RlbmluZ1RvKHJvb3RDb250YWluZXJFbGVtZW50LCBwcm9wS2V5KTtcbiAgICAgIH1cbiAgICAgIGlmICghdXBkYXRlUGF5bG9hZCAmJiBsYXN0UHJvcCAhPT0gbmV4dFByb3ApIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIHNwZWNpYWwgY2FzZS4gSWYgYW55IGxpc3RlbmVyIHVwZGF0ZXMgd2UgbmVlZCB0byBlbnN1cmVcbiAgICAgICAgLy8gdGhhdCB0aGUgXCJjdXJyZW50XCIgcHJvcHMgcG9pbnRlciBnZXRzIHVwZGF0ZWQgc28gd2UgbmVlZCBhIGNvbW1pdFxuICAgICAgICAvLyB0byB1cGRhdGUgdGhpcyBlbGVtZW50LlxuICAgICAgICB1cGRhdGVQYXlsb2FkID0gW107XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZvciBhbnkgb3RoZXIgcHJvcGVydHkgd2UgYWx3YXlzIGFkZCBpdCB0byB0aGUgcXVldWUgYW5kIHRoZW4gd2VcbiAgICAgIC8vIGZpbHRlciBpdCBvdXQgdXNpbmcgdGhlIHdoaXRlbGlzdCBkdXJpbmcgdGhlIGNvbW1pdC5cbiAgICAgICh1cGRhdGVQYXlsb2FkID0gdXBkYXRlUGF5bG9hZCB8fCBbXSkucHVzaChwcm9wS2V5LCBuZXh0UHJvcCk7XG4gICAgfVxuICB9XG4gIGlmIChzdHlsZVVwZGF0ZXMpIHtcbiAgICAodXBkYXRlUGF5bG9hZCA9IHVwZGF0ZVBheWxvYWQgfHwgW10pLnB1c2goU1RZTEUsIHN0eWxlVXBkYXRlcyk7XG4gIH1cbiAgcmV0dXJuIHVwZGF0ZVBheWxvYWQ7XG59XG5cbi8vIEFwcGx5IHRoZSBkaWZmLlxuZnVuY3Rpb24gdXBkYXRlUHJvcGVydGllcyQxKGRvbUVsZW1lbnQsIHVwZGF0ZVBheWxvYWQsIHRhZywgbGFzdFJhd1Byb3BzLCBuZXh0UmF3UHJvcHMpIHtcbiAgLy8gVXBkYXRlIGNoZWNrZWQgKmJlZm9yZSogbmFtZS5cbiAgLy8gSW4gdGhlIG1pZGRsZSBvZiBhbiB1cGRhdGUsIGl0IGlzIHBvc3NpYmxlIHRvIGhhdmUgbXVsdGlwbGUgY2hlY2tlZC5cbiAgLy8gV2hlbiBhIGNoZWNrZWQgcmFkaW8gdHJpZXMgdG8gY2hhbmdlIG5hbWUsIGJyb3dzZXIgbWFrZXMgYW5vdGhlciByYWRpbydzIGNoZWNrZWQgZmFsc2UuXG4gIGlmICh0YWcgPT09ICdpbnB1dCcgJiYgbmV4dFJhd1Byb3BzLnR5cGUgPT09ICdyYWRpbycgJiYgbmV4dFJhd1Byb3BzLm5hbWUgIT0gbnVsbCkge1xuICAgIHVwZGF0ZUNoZWNrZWQoZG9tRWxlbWVudCwgbmV4dFJhd1Byb3BzKTtcbiAgfVxuXG4gIHZhciB3YXNDdXN0b21Db21wb25lbnRUYWcgPSBpc0N1c3RvbUNvbXBvbmVudCh0YWcsIGxhc3RSYXdQcm9wcyk7XG4gIHZhciBpc0N1c3RvbUNvbXBvbmVudFRhZyA9IGlzQ3VzdG9tQ29tcG9uZW50KHRhZywgbmV4dFJhd1Byb3BzKTtcbiAgLy8gQXBwbHkgdGhlIGRpZmYuXG4gIHVwZGF0ZURPTVByb3BlcnRpZXMoZG9tRWxlbWVudCwgdXBkYXRlUGF5bG9hZCwgd2FzQ3VzdG9tQ29tcG9uZW50VGFnLCBpc0N1c3RvbUNvbXBvbmVudFRhZyk7XG5cbiAgLy8gVE9ETzogRW5zdXJlIHRoYXQgYW4gdXBkYXRlIGdldHMgc2NoZWR1bGVkIGlmIGFueSBvZiB0aGUgc3BlY2lhbCBwcm9wc1xuICAvLyBjaGFuZ2VkLlxuICBzd2l0Y2ggKHRhZykge1xuICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgIC8vIFVwZGF0ZSB0aGUgd3JhcHBlciBhcm91bmQgaW5wdXRzICphZnRlciogdXBkYXRpbmcgcHJvcHMuIFRoaXMgaGFzIHRvXG4gICAgICAvLyBoYXBwZW4gYWZ0ZXIgYHVwZGF0ZURPTVByb3BlcnRpZXNgLiBPdGhlcndpc2UgSFRNTDUgaW5wdXQgdmFsaWRhdGlvbnNcbiAgICAgIC8vIHJhaXNlIHdhcm5pbmdzIGFuZCBwcmV2ZW50IHRoZSBuZXcgdmFsdWUgZnJvbSBiZWluZyBhc3NpZ25lZC5cbiAgICAgIHVwZGF0ZVdyYXBwZXIoZG9tRWxlbWVudCwgbmV4dFJhd1Byb3BzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgIHVwZGF0ZVdyYXBwZXIkMShkb21FbGVtZW50LCBuZXh0UmF3UHJvcHMpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgIC8vIDxzZWxlY3Q+IHZhbHVlIHVwZGF0ZSBuZWVkcyB0byBvY2N1ciBhZnRlciA8b3B0aW9uPiBjaGlsZHJlblxuICAgICAgLy8gcmVjb25jaWxpYXRpb25cbiAgICAgIHBvc3RVcGRhdGVXcmFwcGVyKGRvbUVsZW1lbnQsIG5leHRSYXdQcm9wcyk7XG4gICAgICBicmVhaztcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRQb3NzaWJsZVN0YW5kYXJkTmFtZShwcm9wTmFtZSkge1xuICB7XG4gICAgdmFyIGxvd2VyQ2FzZWROYW1lID0gcHJvcE5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoIXBvc3NpYmxlU3RhbmRhcmROYW1lcy5oYXNPd25Qcm9wZXJ0eShsb3dlckNhc2VkTmFtZSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gcG9zc2libGVTdGFuZGFyZE5hbWVzW2xvd2VyQ2FzZWROYW1lXSB8fCBudWxsO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBkaWZmSHlkcmF0ZWRQcm9wZXJ0aWVzJDEoZG9tRWxlbWVudCwgdGFnLCByYXdQcm9wcywgcGFyZW50TmFtZXNwYWNlLCByb290Q29udGFpbmVyRWxlbWVudCkge1xuICB2YXIgaXNDdXN0b21Db21wb25lbnRUYWcgPSB2b2lkIDA7XG4gIHZhciBleHRyYUF0dHJpYnV0ZU5hbWVzID0gdm9pZCAwO1xuXG4gIHtcbiAgICBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcgPSByYXdQcm9wc1tTVVBQUkVTU19IWURSQVRJT05fV0FSTklORyQxXSA9PT0gdHJ1ZTtcbiAgICBpc0N1c3RvbUNvbXBvbmVudFRhZyA9IGlzQ3VzdG9tQ29tcG9uZW50KHRhZywgcmF3UHJvcHMpO1xuICAgIHZhbGlkYXRlUHJvcGVydGllc0luRGV2ZWxvcG1lbnQodGFnLCByYXdQcm9wcyk7XG4gICAgaWYgKGlzQ3VzdG9tQ29tcG9uZW50VGFnICYmICFkaWRXYXJuU2hhZHlET00gJiYgZG9tRWxlbWVudC5zaGFkeVJvb3QpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICclcyBpcyB1c2luZyBzaGFkeSBET00uIFVzaW5nIHNoYWR5IERPTSB3aXRoIFJlYWN0IGNhbiAnICsgJ2NhdXNlIHRoaW5ncyB0byBicmVhayBzdWJ0bHkuJywgZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lJDIoKSB8fCAnQSBjb21wb25lbnQnKTtcbiAgICAgIGRpZFdhcm5TaGFkeURPTSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgLy8gVE9ETzogTWFrZSBzdXJlIHRoYXQgd2UgY2hlY2sgaXNNb3VudGVkIGJlZm9yZSBmaXJpbmcgYW55IG9mIHRoZXNlIGV2ZW50cy5cbiAgc3dpdGNoICh0YWcpIHtcbiAgICBjYXNlICdpZnJhbWUnOlxuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KCd0b3BMb2FkJywgJ2xvYWQnLCBkb21FbGVtZW50KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3ZpZGVvJzpcbiAgICBjYXNlICdhdWRpbyc6XG4gICAgICAvLyBDcmVhdGUgbGlzdGVuZXIgZm9yIGVhY2ggbWVkaWEgZXZlbnRcbiAgICAgIGZvciAodmFyIGV2ZW50IGluIG1lZGlhRXZlbnRUeXBlcykge1xuICAgICAgICBpZiAobWVkaWFFdmVudFR5cGVzLmhhc093blByb3BlcnR5KGV2ZW50KSkge1xuICAgICAgICAgIHRyYXBCdWJibGVkRXZlbnQoZXZlbnQsIG1lZGlhRXZlbnRUeXBlc1tldmVudF0sIGRvbUVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzb3VyY2UnOlxuICAgICAgdHJhcEJ1YmJsZWRFdmVudCgndG9wRXJyb3InLCAnZXJyb3InLCBkb21FbGVtZW50KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2ltZyc6XG4gICAgY2FzZSAnaW1hZ2UnOlxuICAgIGNhc2UgJ2xpbmsnOlxuICAgICAgdHJhcEJ1YmJsZWRFdmVudCgndG9wRXJyb3InLCAnZXJyb3InLCBkb21FbGVtZW50KTtcbiAgICAgIHRyYXBCdWJibGVkRXZlbnQoJ3RvcExvYWQnLCAnbG9hZCcsIGRvbUVsZW1lbnQpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZm9ybSc6XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KCd0b3BSZXNldCcsICdyZXNldCcsIGRvbUVsZW1lbnQpO1xuICAgICAgdHJhcEJ1YmJsZWRFdmVudCgndG9wU3VibWl0JywgJ3N1Ym1pdCcsIGRvbUVsZW1lbnQpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZGV0YWlscyc6XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KCd0b3BUb2dnbGUnLCAndG9nZ2xlJywgZG9tRWxlbWVudCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdpbnB1dCc6XG4gICAgICBpbml0V3JhcHBlclN0YXRlKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIHRyYXBCdWJibGVkRXZlbnQoJ3RvcEludmFsaWQnLCAnaW52YWxpZCcsIGRvbUVsZW1lbnQpO1xuICAgICAgLy8gRm9yIGNvbnRyb2xsZWQgY29tcG9uZW50cyB3ZSBhbHdheXMgbmVlZCB0byBlbnN1cmUgd2UncmUgbGlzdGVuaW5nXG4gICAgICAvLyB0byBvbkNoYW5nZS4gRXZlbiBpZiB0aGVyZSBpcyBubyBsaXN0ZW5lci5cbiAgICAgIGVuc3VyZUxpc3RlbmluZ1RvKHJvb3RDb250YWluZXJFbGVtZW50LCAnb25DaGFuZ2UnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ29wdGlvbic6XG4gICAgICB2YWxpZGF0ZVByb3BzKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICBpbml0V3JhcHBlclN0YXRlJDEoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgdHJhcEJ1YmJsZWRFdmVudCgndG9wSW52YWxpZCcsICdpbnZhbGlkJywgZG9tRWxlbWVudCk7XG4gICAgICAvLyBGb3IgY29udHJvbGxlZCBjb21wb25lbnRzIHdlIGFsd2F5cyBuZWVkIHRvIGVuc3VyZSB3ZSdyZSBsaXN0ZW5pbmdcbiAgICAgIC8vIHRvIG9uQ2hhbmdlLiBFdmVuIGlmIHRoZXJlIGlzIG5vIGxpc3RlbmVyLlxuICAgICAgZW5zdXJlTGlzdGVuaW5nVG8ocm9vdENvbnRhaW5lckVsZW1lbnQsICdvbkNoYW5nZScpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgaW5pdFdyYXBwZXJTdGF0ZSQyKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIHRyYXBCdWJibGVkRXZlbnQoJ3RvcEludmFsaWQnLCAnaW52YWxpZCcsIGRvbUVsZW1lbnQpO1xuICAgICAgLy8gRm9yIGNvbnRyb2xsZWQgY29tcG9uZW50cyB3ZSBhbHdheXMgbmVlZCB0byBlbnN1cmUgd2UncmUgbGlzdGVuaW5nXG4gICAgICAvLyB0byBvbkNoYW5nZS4gRXZlbiBpZiB0aGVyZSBpcyBubyBsaXN0ZW5lci5cbiAgICAgIGVuc3VyZUxpc3RlbmluZ1RvKHJvb3RDb250YWluZXJFbGVtZW50LCAnb25DaGFuZ2UnKTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgYXNzZXJ0VmFsaWRQcm9wcyh0YWcsIHJhd1Byb3BzLCBnZXRTdGFjayk7XG5cbiAge1xuICAgIGV4dHJhQXR0cmlidXRlTmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGF0dHJpYnV0ZXMgPSBkb21FbGVtZW50LmF0dHJpYnV0ZXM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbmFtZSA9IGF0dHJpYnV0ZXNbaV0ubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICAgIC8vIEJ1aWx0LWluIFNTUiBhdHRyaWJ1dGUgaXMgd2hpdGVsaXN0ZWRcbiAgICAgICAgY2FzZSAnZGF0YS1yZWFjdHJvb3QnOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyBDb250cm9sbGVkIGF0dHJpYnV0ZXMgYXJlIG5vdCB2YWxpZGF0ZWRcbiAgICAgICAgLy8gVE9ETzogT25seSBpZ25vcmUgdGhlbSBvbiBjb250cm9sbGVkIHRhZ3MuXG4gICAgICAgIGNhc2UgJ3ZhbHVlJzpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY2hlY2tlZCc6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3NlbGVjdGVkJzpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBJbnRlbnRpb25hbGx5IHVzZSB0aGUgb3JpZ2luYWwgbmFtZS5cbiAgICAgICAgICAvLyBTZWUgZGlzY3Vzc2lvbiBpbiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8xMDY3Ni5cbiAgICAgICAgICBleHRyYUF0dHJpYnV0ZU5hbWVzLmFkZChhdHRyaWJ1dGVzW2ldLm5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciB1cGRhdGVQYXlsb2FkID0gbnVsbDtcbiAgZm9yICh2YXIgcHJvcEtleSBpbiByYXdQcm9wcykge1xuICAgIGlmICghcmF3UHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YXIgbmV4dFByb3AgPSByYXdQcm9wc1twcm9wS2V5XTtcbiAgICBpZiAocHJvcEtleSA9PT0gQ0hJTERSRU4pIHtcbiAgICAgIC8vIEZvciB0ZXh0IGNvbnRlbnQgY2hpbGRyZW4gd2UgY29tcGFyZSBhZ2FpbnN0IHRleHRDb250ZW50LiBUaGlzXG4gICAgICAvLyBtaWdodCBtYXRjaCBhZGRpdGlvbmFsIEhUTUwgdGhhdCBpcyBoaWRkZW4gd2hlbiB3ZSByZWFkIGl0IHVzaW5nXG4gICAgICAvLyB0ZXh0Q29udGVudC4gRS5nLiBcImZvb1wiIHdpbGwgbWF0Y2ggXCJmPHNwYW4+b288L3NwYW4+XCIgYnV0IHRoYXQgc3RpbGxcbiAgICAgIC8vIHNhdGlzZmllcyBvdXIgcmVxdWlyZW1lbnQuIE91ciByZXF1aXJlbWVudCBpcyBub3QgdG8gcHJvZHVjZSBwZXJmZWN0XG4gICAgICAvLyBIVE1MIGFuZCBhdHRyaWJ1dGVzLiBJZGVhbGx5IHdlIHNob3VsZCBwcmVzZXJ2ZSBzdHJ1Y3R1cmUgYnV0IGl0J3NcbiAgICAgIC8vIG9rIG5vdCB0byBpZiB0aGUgdmlzaWJsZSBjb250ZW50IGlzIHN0aWxsIGVub3VnaCB0byBpbmRpY2F0ZSB3aGF0XG4gICAgICAvLyBldmVuIGxpc3RlbmVycyB0aGVzZSBub2RlcyBtaWdodCBiZSB3aXJlZCB1cCB0by5cbiAgICAgIC8vIFRPRE86IFdhcm4gaWYgdGhlcmUgaXMgbW9yZSB0aGFuIGEgc2luZ2xlIHRleHROb2RlIGFzIGEgY2hpbGQuXG4gICAgICAvLyBUT0RPOiBTaG91bGQgd2UgdXNlIGRvbUVsZW1lbnQuZmlyc3RDaGlsZC5ub2RlVmFsdWUgdG8gY29tcGFyZT9cbiAgICAgIGlmICh0eXBlb2YgbmV4dFByb3AgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmIChkb21FbGVtZW50LnRleHRDb250ZW50ICE9PSBuZXh0UHJvcCkge1xuICAgICAgICAgIGlmICh0cnVlICYmICFzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcpIHtcbiAgICAgICAgICAgIHdhcm5Gb3JUZXh0RGlmZmVyZW5jZShkb21FbGVtZW50LnRleHRDb250ZW50LCBuZXh0UHJvcCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVwZGF0ZVBheWxvYWQgPSBbQ0hJTERSRU4sIG5leHRQcm9wXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbmV4dFByb3AgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlmIChkb21FbGVtZW50LnRleHRDb250ZW50ICE9PSAnJyArIG5leHRQcm9wKSB7XG4gICAgICAgICAgaWYgKHRydWUgJiYgIXN1cHByZXNzSHlkcmF0aW9uV2FybmluZykge1xuICAgICAgICAgICAgd2FybkZvclRleHREaWZmZXJlbmNlKGRvbUVsZW1lbnQudGV4dENvbnRlbnQsIG5leHRQcm9wKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdXBkYXRlUGF5bG9hZCA9IFtDSElMRFJFTiwgJycgKyBuZXh0UHJvcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICBpZiAobmV4dFByb3AgIT0gbnVsbCkge1xuICAgICAgICBpZiAodHJ1ZSAmJiB0eXBlb2YgbmV4dFByb3AgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIocHJvcEtleSwgbmV4dFByb3ApO1xuICAgICAgICB9XG4gICAgICAgIGVuc3VyZUxpc3RlbmluZ1RvKHJvb3RDb250YWluZXJFbGVtZW50LCBwcm9wS2V5KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRydWUgJiZcbiAgICAvLyBDb252aW5jZSBGbG93IHdlJ3ZlIGNhbGN1bGF0ZWQgaXQgKGl0J3MgREVWLW9ubHkgaW4gdGhpcyBtZXRob2QuKVxuICAgIHR5cGVvZiBpc0N1c3RvbUNvbXBvbmVudFRhZyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAvLyBWYWxpZGF0ZSB0aGF0IHRoZSBwcm9wZXJ0aWVzIGNvcnJlc3BvbmQgdG8gdGhlaXIgZXhwZWN0ZWQgdmFsdWVzLlxuICAgICAgdmFyIHNlcnZlclZhbHVlID0gdm9pZCAwO1xuICAgICAgdmFyIHByb3BlcnR5SW5mbyA9IGdldFByb3BlcnR5SW5mbyhwcm9wS2V5KTtcbiAgICAgIGlmIChzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcpIHtcbiAgICAgICAgLy8gRG9uJ3QgYm90aGVyIGNvbXBhcmluZy4gV2UncmUgaWdub3JpbmcgYWxsIHRoZXNlIHdhcm5pbmdzLlxuICAgICAgfSBlbHNlIGlmIChwcm9wS2V5ID09PSBTVVBQUkVTU19DT05URU5UX0VESVRBQkxFX1dBUk5JTkcgfHwgcHJvcEtleSA9PT0gU1VQUFJFU1NfSFlEUkFUSU9OX1dBUk5JTkckMSB8fFxuICAgICAgLy8gQ29udHJvbGxlZCBhdHRyaWJ1dGVzIGFyZSBub3QgdmFsaWRhdGVkXG4gICAgICAvLyBUT0RPOiBPbmx5IGlnbm9yZSB0aGVtIG9uIGNvbnRyb2xsZWQgdGFncy5cbiAgICAgIHByb3BLZXkgPT09ICd2YWx1ZScgfHwgcHJvcEtleSA9PT0gJ2NoZWNrZWQnIHx8IHByb3BLZXkgPT09ICdzZWxlY3RlZCcpIHtcbiAgICAgICAgLy8gTm9vcFxuICAgICAgfSBlbHNlIGlmIChwcm9wS2V5ID09PSBEQU5HRVJPVVNMWV9TRVRfSU5ORVJfSFRNTCkge1xuICAgICAgICB2YXIgcmF3SHRtbCA9IG5leHRQcm9wID8gbmV4dFByb3BbSFRNTF0gfHwgJycgOiAnJztcbiAgICAgICAgdmFyIHNlcnZlckhUTUwgPSBkb21FbGVtZW50LmlubmVySFRNTDtcbiAgICAgICAgdmFyIGV4cGVjdGVkSFRNTCA9IG5vcm1hbGl6ZUhUTUwoZG9tRWxlbWVudCwgcmF3SHRtbCk7XG4gICAgICAgIGlmIChleHBlY3RlZEhUTUwgIT09IHNlcnZlckhUTUwpIHtcbiAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UocHJvcEtleSwgc2VydmVySFRNTCwgZXhwZWN0ZWRIVE1MKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwcm9wS2V5ID09PSBTVFlMRSkge1xuICAgICAgICAvLyAkRmxvd0ZpeE1lIC0gU2hvdWxkIGJlIGluZmVycmVkIGFzIG5vdCB1bmRlZmluZWQuXG4gICAgICAgIGV4dHJhQXR0cmlidXRlTmFtZXNbJ2RlbGV0ZSddKHByb3BLZXkpO1xuICAgICAgICB2YXIgZXhwZWN0ZWRTdHlsZSA9IGNyZWF0ZURhbmdlcm91c1N0cmluZ0ZvclN0eWxlcyhuZXh0UHJvcCk7XG4gICAgICAgIHNlcnZlclZhbHVlID0gZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICAgIGlmIChleHBlY3RlZFN0eWxlICE9PSBzZXJ2ZXJWYWx1ZSkge1xuICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShwcm9wS2V5LCBzZXJ2ZXJWYWx1ZSwgZXhwZWN0ZWRTdHlsZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNDdXN0b21Db21wb25lbnRUYWcpIHtcbiAgICAgICAgLy8gJEZsb3dGaXhNZSAtIFNob3VsZCBiZSBpbmZlcnJlZCBhcyBub3QgdW5kZWZpbmVkLlxuICAgICAgICBleHRyYUF0dHJpYnV0ZU5hbWVzWydkZWxldGUnXShwcm9wS2V5LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICBzZXJ2ZXJWYWx1ZSA9IGdldFZhbHVlRm9yQXR0cmlidXRlKGRvbUVsZW1lbnQsIHByb3BLZXksIG5leHRQcm9wKTtcblxuICAgICAgICBpZiAobmV4dFByb3AgIT09IHNlcnZlclZhbHVlKSB7XG4gICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKHByb3BLZXksIHNlcnZlclZhbHVlLCBuZXh0UHJvcCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIXNob3VsZElnbm9yZUF0dHJpYnV0ZShwcm9wS2V5LCBwcm9wZXJ0eUluZm8sIGlzQ3VzdG9tQ29tcG9uZW50VGFnKSAmJiAhc2hvdWxkUmVtb3ZlQXR0cmlidXRlKHByb3BLZXksIG5leHRQcm9wLCBwcm9wZXJ0eUluZm8sIGlzQ3VzdG9tQ29tcG9uZW50VGFnKSkge1xuICAgICAgICB2YXIgaXNNaXNtYXRjaER1ZVRvQmFkQ2FzaW5nID0gZmFsc2U7XG4gICAgICAgIGlmIChwcm9wZXJ0eUluZm8gIT09IG51bGwpIHtcbiAgICAgICAgICAvLyAkRmxvd0ZpeE1lIC0gU2hvdWxkIGJlIGluZmVycmVkIGFzIG5vdCB1bmRlZmluZWQuXG4gICAgICAgICAgZXh0cmFBdHRyaWJ1dGVOYW1lc1snZGVsZXRlJ10ocHJvcGVydHlJbmZvLmF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgIHNlcnZlclZhbHVlID0gZ2V0VmFsdWVGb3JQcm9wZXJ0eShkb21FbGVtZW50LCBwcm9wS2V5LCBuZXh0UHJvcCwgcHJvcGVydHlJbmZvKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgb3duTmFtZXNwYWNlID0gcGFyZW50TmFtZXNwYWNlO1xuICAgICAgICAgIGlmIChvd25OYW1lc3BhY2UgPT09IEhUTUxfTkFNRVNQQUNFKSB7XG4gICAgICAgICAgICBvd25OYW1lc3BhY2UgPSBnZXRJbnRyaW5zaWNOYW1lc3BhY2UodGFnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG93bk5hbWVzcGFjZSA9PT0gSFRNTF9OQU1FU1BBQ0UpIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWUgLSBTaG91bGQgYmUgaW5mZXJyZWQgYXMgbm90IHVuZGVmaW5lZC5cbiAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlTmFtZXNbJ2RlbGV0ZSddKHByb3BLZXkudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBzdGFuZGFyZE5hbWUgPSBnZXRQb3NzaWJsZVN0YW5kYXJkTmFtZShwcm9wS2V5KTtcbiAgICAgICAgICAgIGlmIChzdGFuZGFyZE5hbWUgIT09IG51bGwgJiYgc3RhbmRhcmROYW1lICE9PSBwcm9wS2V5KSB7XG4gICAgICAgICAgICAgIC8vIElmIGFuIFNWRyBwcm9wIGlzIHN1cHBsaWVkIHdpdGggYmFkIGNhc2luZywgaXQgd2lsbFxuICAgICAgICAgICAgICAvLyBiZSBzdWNjZXNzZnVsbHkgcGFyc2VkIGZyb20gSFRNTCwgYnV0IHdpbGwgcHJvZHVjZSBhIG1pc21hdGNoXG4gICAgICAgICAgICAgIC8vIChhbmQgd291bGQgYmUgaW5jb3JyZWN0bHkgcmVuZGVyZWQgb24gdGhlIGNsaWVudCkuXG4gICAgICAgICAgICAgIC8vIEhvd2V2ZXIsIHdlIGFscmVhZHkgd2FybiBhYm91dCBiYWQgY2FzaW5nIGVsc2V3aGVyZS5cbiAgICAgICAgICAgICAgLy8gU28gd2UnbGwgc2tpcCB0aGUgbWlzbGVhZGluZyBleHRyYSBtaXNtYXRjaCB3YXJuaW5nIGluIHRoaXMgY2FzZS5cbiAgICAgICAgICAgICAgaXNNaXNtYXRjaER1ZVRvQmFkQ2FzaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZSAtIFNob3VsZCBiZSBpbmZlcnJlZCBhcyBub3QgdW5kZWZpbmVkLlxuICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZU5hbWVzWydkZWxldGUnXShzdGFuZGFyZE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZSAtIFNob3VsZCBiZSBpbmZlcnJlZCBhcyBub3QgdW5kZWZpbmVkLlxuICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVOYW1lc1snZGVsZXRlJ10ocHJvcEtleSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlcnZlclZhbHVlID0gZ2V0VmFsdWVGb3JBdHRyaWJ1dGUoZG9tRWxlbWVudCwgcHJvcEtleSwgbmV4dFByb3ApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5leHRQcm9wICE9PSBzZXJ2ZXJWYWx1ZSAmJiAhaXNNaXNtYXRjaER1ZVRvQmFkQ2FzaW5nKSB7XG4gICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKHByb3BLZXksIHNlcnZlclZhbHVlLCBuZXh0UHJvcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB7XG4gICAgLy8gJEZsb3dGaXhNZSAtIFNob3VsZCBiZSBpbmZlcnJlZCBhcyBub3QgdW5kZWZpbmVkLlxuICAgIGlmIChleHRyYUF0dHJpYnV0ZU5hbWVzLnNpemUgPiAwICYmICFzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcpIHtcbiAgICAgIC8vICRGbG93Rml4TWUgLSBTaG91bGQgYmUgaW5mZXJyZWQgYXMgbm90IHVuZGVmaW5lZC5cbiAgICAgIHdhcm5Gb3JFeHRyYUF0dHJpYnV0ZXMoZXh0cmFBdHRyaWJ1dGVOYW1lcyk7XG4gICAgfVxuICB9XG5cbiAgc3dpdGNoICh0YWcpIHtcbiAgICBjYXNlICdpbnB1dCc6XG4gICAgICAvLyBUT0RPOiBNYWtlIHN1cmUgd2UgY2hlY2sgaWYgdGhpcyBpcyBzdGlsbCB1bm1vdW50ZWQgb3IgZG8gYW55IGNsZWFuXG4gICAgICAvLyB1cCBuZWNlc3Nhcnkgc2luY2Ugd2UgbmV2ZXIgc3RvcCB0cmFja2luZyBhbnltb3JlLlxuICAgICAgdHJhY2soZG9tRWxlbWVudCk7XG4gICAgICBwb3N0TW91bnRXcmFwcGVyKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgIC8vIFRPRE86IE1ha2Ugc3VyZSB3ZSBjaGVjayBpZiB0aGlzIGlzIHN0aWxsIHVubW91bnRlZCBvciBkbyBhbnkgY2xlYW5cbiAgICAgIC8vIHVwIG5lY2Vzc2FyeSBzaW5jZSB3ZSBuZXZlciBzdG9wIHRyYWNraW5nIGFueW1vcmUuXG4gICAgICB0cmFjayhkb21FbGVtZW50KTtcbiAgICAgIHBvc3RNb3VudFdyYXBwZXIkMyhkb21FbGVtZW50LCByYXdQcm9wcyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxlY3QnOlxuICAgIGNhc2UgJ29wdGlvbic6XG4gICAgICAvLyBGb3IgaW5wdXQgYW5kIHRleHRhcmVhIHdlIGN1cnJlbnQgYWx3YXlzIHNldCB0aGUgdmFsdWUgcHJvcGVydHkgYXRcbiAgICAgIC8vIHBvc3QgbW91bnQgdG8gZm9yY2UgaXQgdG8gZGl2ZXJnZSBmcm9tIGF0dHJpYnV0ZXMuIEhvd2V2ZXIsIGZvclxuICAgICAgLy8gb3B0aW9uIGFuZCBzZWxlY3Qgd2UgZG9uJ3QgcXVpdGUgZG8gdGhlIHNhbWUgdGhpbmcgYW5kIHNlbGVjdFxuICAgICAgLy8gaXMgbm90IHJlc2lsaWVudCB0byB0aGUgRE9NIHN0YXRlIGNoYW5naW5nIHNvIHdlIGRvbid0IGRvIHRoYXQgaGVyZS5cbiAgICAgIC8vIFRPRE86IENvbnNpZGVyIG5vdCBkb2luZyB0aGlzIGZvciBpbnB1dCBhbmQgdGV4dGFyZWEuXG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgaWYgKHR5cGVvZiByYXdQcm9wcy5vbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIFRPRE86IFRoaXMgY2FzdCBtYXkgbm90IGJlIHNvdW5kIGZvciBTVkcsIE1hdGhNTCBvciBjdXN0b20gZWxlbWVudHMuXG4gICAgICAgIHRyYXBDbGlja09uTm9uSW50ZXJhY3RpdmVFbGVtZW50KGRvbUVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gdXBkYXRlUGF5bG9hZDtcbn1cblxuZnVuY3Rpb24gZGlmZkh5ZHJhdGVkVGV4dCQxKHRleHROb2RlLCB0ZXh0KSB7XG4gIHZhciBpc0RpZmZlcmVudCA9IHRleHROb2RlLm5vZGVWYWx1ZSAhPT0gdGV4dDtcbiAgcmV0dXJuIGlzRGlmZmVyZW50O1xufVxuXG5mdW5jdGlvbiB3YXJuRm9yVW5tYXRjaGVkVGV4dCQxKHRleHROb2RlLCB0ZXh0KSB7XG4gIHtcbiAgICB3YXJuRm9yVGV4dERpZmZlcmVuY2UodGV4dE5vZGUubm9kZVZhbHVlLCB0ZXh0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVFbGVtZW50JDEocGFyZW50Tm9kZSwgY2hpbGQpIHtcbiAge1xuICAgIGlmIChkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbiA9IHRydWU7XG4gICAgd2FybmluZyhmYWxzZSwgJ0RpZCBub3QgZXhwZWN0IHNlcnZlciBIVE1MIHRvIGNvbnRhaW4gYSA8JXM+IGluIDwlcz4uJywgY2hpbGQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwgcGFyZW50Tm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVUZXh0JDEocGFyZW50Tm9kZSwgY2hpbGQpIHtcbiAge1xuICAgIGlmIChkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbiA9IHRydWU7XG4gICAgd2FybmluZyhmYWxzZSwgJ0RpZCBub3QgZXhwZWN0IHNlcnZlciBIVE1MIHRvIGNvbnRhaW4gdGhlIHRleHQgbm9kZSBcIiVzXCIgaW4gPCVzPi4nLCBjaGlsZC5ub2RlVmFsdWUsIHBhcmVudE5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gd2FybkZvckluc2VydGVkSHlkcmF0ZWRFbGVtZW50JDEocGFyZW50Tm9kZSwgdGFnLCBwcm9wcykge1xuICB7XG4gICAgaWYgKGRpZFdhcm5JbnZhbGlkSHlkcmF0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRpZFdhcm5JbnZhbGlkSHlkcmF0aW9uID0gdHJ1ZTtcbiAgICB3YXJuaW5nKGZhbHNlLCAnRXhwZWN0ZWQgc2VydmVyIEhUTUwgdG8gY29udGFpbiBhIG1hdGNoaW5nIDwlcz4gaW4gPCVzPi4nLCB0YWcsIHBhcmVudE5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gd2FybkZvckluc2VydGVkSHlkcmF0ZWRUZXh0JDEocGFyZW50Tm9kZSwgdGV4dCkge1xuICB7XG4gICAgaWYgKHRleHQgPT09ICcnKSB7XG4gICAgICAvLyBXZSBleHBlY3QgdG8gaW5zZXJ0IGVtcHR5IHRleHQgbm9kZXMgc2luY2UgdGhleSdyZSBub3QgcmVwcmVzZW50ZWQgaW5cbiAgICAgIC8vIHRoZSBIVE1MLlxuICAgICAgLy8gVE9ETzogUmVtb3ZlIHRoaXMgc3BlY2lhbCBjYXNlIGlmIHdlIGNhbiBqdXN0IGF2b2lkIGluc2VydGluZyBlbXB0eVxuICAgICAgLy8gdGV4dCBub2Rlcy5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGRpZFdhcm5JbnZhbGlkSHlkcmF0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRpZFdhcm5JbnZhbGlkSHlkcmF0aW9uID0gdHJ1ZTtcbiAgICB3YXJuaW5nKGZhbHNlLCAnRXhwZWN0ZWQgc2VydmVyIEhUTUwgdG8gY29udGFpbiBhIG1hdGNoaW5nIHRleHQgbm9kZSBmb3IgXCIlc1wiIGluIDwlcz4uJywgdGV4dCwgcGFyZW50Tm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXN0b3JlQ29udHJvbGxlZFN0YXRlJDEoZG9tRWxlbWVudCwgdGFnLCBwcm9wcykge1xuICBzd2l0Y2ggKHRhZykge1xuICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgIHJlc3RvcmVDb250cm9sbGVkU3RhdGUoZG9tRWxlbWVudCwgcHJvcHMpO1xuICAgICAgcmV0dXJuO1xuICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgIHJlc3RvcmVDb250cm9sbGVkU3RhdGUkMyhkb21FbGVtZW50LCBwcm9wcyk7XG4gICAgICByZXR1cm47XG4gICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgIHJlc3RvcmVDb250cm9sbGVkU3RhdGUkMihkb21FbGVtZW50LCBwcm9wcyk7XG4gICAgICByZXR1cm47XG4gIH1cbn1cblxudmFyIFJlYWN0RE9NRmliZXJDb21wb25lbnQgPSBPYmplY3QuZnJlZXplKHtcblx0Y3JlYXRlRWxlbWVudDogY3JlYXRlRWxlbWVudCQxLFxuXHRjcmVhdGVUZXh0Tm9kZTogY3JlYXRlVGV4dE5vZGUkMSxcblx0c2V0SW5pdGlhbFByb3BlcnRpZXM6IHNldEluaXRpYWxQcm9wZXJ0aWVzJDEsXG5cdGRpZmZQcm9wZXJ0aWVzOiBkaWZmUHJvcGVydGllcyQxLFxuXHR1cGRhdGVQcm9wZXJ0aWVzOiB1cGRhdGVQcm9wZXJ0aWVzJDEsXG5cdGRpZmZIeWRyYXRlZFByb3BlcnRpZXM6IGRpZmZIeWRyYXRlZFByb3BlcnRpZXMkMSxcblx0ZGlmZkh5ZHJhdGVkVGV4dDogZGlmZkh5ZHJhdGVkVGV4dCQxLFxuXHR3YXJuRm9yVW5tYXRjaGVkVGV4dDogd2FybkZvclVubWF0Y2hlZFRleHQkMSxcblx0d2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlRWxlbWVudDogd2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlRWxlbWVudCQxLFxuXHR3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVUZXh0OiB3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVUZXh0JDEsXG5cdHdhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkRWxlbWVudDogd2FybkZvckluc2VydGVkSHlkcmF0ZWRFbGVtZW50JDEsXG5cdHdhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkVGV4dDogd2FybkZvckluc2VydGVkSHlkcmF0ZWRUZXh0JDEsXG5cdHJlc3RvcmVDb250cm9sbGVkU3RhdGU6IHJlc3RvcmVDb250cm9sbGVkU3RhdGUkMVxufSk7XG5cbi8vIFRPRE86IGRpcmVjdCBpbXBvcnRzIGxpa2Ugc29tZS1wYWNrYWdlL3NyYy8qIGFyZSBiYWQuIEZpeCBtZS5cbnZhciBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDYgPSBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW07XG5cbnZhciB2YWxpZGF0ZURPTU5lc3RpbmcgPSBlbXB0eUZ1bmN0aW9uO1xuXG57XG4gIC8vIFRoaXMgdmFsaWRhdGlvbiBjb2RlIHdhcyB3cml0dGVuIGJhc2VkIG9uIHRoZSBIVE1MNSBwYXJzaW5nIHNwZWM6XG4gIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI2hhcy1hbi1lbGVtZW50LWluLXNjb3BlXG4gIC8vXG4gIC8vIE5vdGU6IHRoaXMgZG9lcyBub3QgY2F0Y2ggYWxsIGludmFsaWQgbmVzdGluZywgbm9yIGRvZXMgaXQgdHJ5IHRvIChhcyBpdCdzXG4gIC8vIG5vdCBjbGVhciB3aGF0IHByYWN0aWNhbCBiZW5lZml0IGRvaW5nIHNvIHByb3ZpZGVzKTsgaW5zdGVhZCwgd2Ugd2FybiBvbmx5XG4gIC8vIGZvciBjYXNlcyB3aGVyZSB0aGUgcGFyc2VyIHdpbGwgZ2l2ZSBhIHBhcnNlIHRyZWUgZGlmZmVyaW5nIGZyb20gd2hhdCBSZWFjdFxuICAvLyBpbnRlbmRlZC4gRm9yIGV4YW1wbGUsIDxiPjxkaXY+PC9kaXY+PC9iPiBpcyBpbnZhbGlkIGJ1dCB3ZSBkb24ndCB3YXJuXG4gIC8vIGJlY2F1c2UgaXQgc3RpbGwgcGFyc2VzIGNvcnJlY3RseTsgd2UgZG8gd2FybiBmb3Igb3RoZXIgY2FzZXMgbGlrZSBuZXN0ZWRcbiAgLy8gPHA+IHRhZ3Mgd2hlcmUgdGhlIGJlZ2lubmluZyBvZiB0aGUgc2Vjb25kIGVsZW1lbnQgaW1wbGljaXRseSBjbG9zZXMgdGhlXG4gIC8vIGZpcnN0LCBjYXVzaW5nIGEgY29uZnVzaW5nIG1lc3MuXG5cbiAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjc3BlY2lhbFxuICB2YXIgc3BlY2lhbFRhZ3MgPSBbJ2FkZHJlc3MnLCAnYXBwbGV0JywgJ2FyZWEnLCAnYXJ0aWNsZScsICdhc2lkZScsICdiYXNlJywgJ2Jhc2Vmb250JywgJ2Jnc291bmQnLCAnYmxvY2txdW90ZScsICdib2R5JywgJ2JyJywgJ2J1dHRvbicsICdjYXB0aW9uJywgJ2NlbnRlcicsICdjb2wnLCAnY29sZ3JvdXAnLCAnZGQnLCAnZGV0YWlscycsICdkaXInLCAnZGl2JywgJ2RsJywgJ2R0JywgJ2VtYmVkJywgJ2ZpZWxkc2V0JywgJ2ZpZ2NhcHRpb24nLCAnZmlndXJlJywgJ2Zvb3RlcicsICdmb3JtJywgJ2ZyYW1lJywgJ2ZyYW1lc2V0JywgJ2gxJywgJ2gyJywgJ2gzJywgJ2g0JywgJ2g1JywgJ2g2JywgJ2hlYWQnLCAnaGVhZGVyJywgJ2hncm91cCcsICdocicsICdodG1sJywgJ2lmcmFtZScsICdpbWcnLCAnaW5wdXQnLCAnaXNpbmRleCcsICdsaScsICdsaW5rJywgJ2xpc3RpbmcnLCAnbWFpbicsICdtYXJxdWVlJywgJ21lbnUnLCAnbWVudWl0ZW0nLCAnbWV0YScsICduYXYnLCAnbm9lbWJlZCcsICdub2ZyYW1lcycsICdub3NjcmlwdCcsICdvYmplY3QnLCAnb2wnLCAncCcsICdwYXJhbScsICdwbGFpbnRleHQnLCAncHJlJywgJ3NjcmlwdCcsICdzZWN0aW9uJywgJ3NlbGVjdCcsICdzb3VyY2UnLCAnc3R5bGUnLCAnc3VtbWFyeScsICd0YWJsZScsICd0Ym9keScsICd0ZCcsICd0ZW1wbGF0ZScsICd0ZXh0YXJlYScsICd0Zm9vdCcsICd0aCcsICd0aGVhZCcsICd0aXRsZScsICd0cicsICd0cmFjaycsICd1bCcsICd3YnInLCAneG1wJ107XG5cbiAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjaGFzLWFuLWVsZW1lbnQtaW4tc2NvcGVcbiAgdmFyIGluU2NvcGVUYWdzID0gWydhcHBsZXQnLCAnY2FwdGlvbicsICdodG1sJywgJ3RhYmxlJywgJ3RkJywgJ3RoJywgJ21hcnF1ZWUnLCAnb2JqZWN0JywgJ3RlbXBsYXRlJyxcblxuICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNodG1sLWludGVncmF0aW9uLXBvaW50XG4gIC8vIFRPRE86IERpc3Rpbmd1aXNoIGJ5IG5hbWVzcGFjZSBoZXJlIC0tIGZvciA8dGl0bGU+LCBpbmNsdWRpbmcgaXQgaGVyZVxuICAvLyBlcnJzIG9uIHRoZSBzaWRlIG9mIGZld2VyIHdhcm5pbmdzXG4gICdmb3JlaWduT2JqZWN0JywgJ2Rlc2MnLCAndGl0bGUnXTtcblxuICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNoYXMtYW4tZWxlbWVudC1pbi1idXR0b24tc2NvcGVcbiAgdmFyIGJ1dHRvblNjb3BlVGFncyA9IGluU2NvcGVUYWdzLmNvbmNhdChbJ2J1dHRvbiddKTtcblxuICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNnZW5lcmF0ZS1pbXBsaWVkLWVuZC10YWdzXG4gIHZhciBpbXBsaWVkRW5kVGFncyA9IFsnZGQnLCAnZHQnLCAnbGknLCAnb3B0aW9uJywgJ29wdGdyb3VwJywgJ3AnLCAncnAnLCAncnQnXTtcblxuICB2YXIgZW1wdHlBbmNlc3RvckluZm8gPSB7XG4gICAgY3VycmVudDogbnVsbCxcblxuICAgIGZvcm1UYWc6IG51bGwsXG4gICAgYVRhZ0luU2NvcGU6IG51bGwsXG4gICAgYnV0dG9uVGFnSW5TY29wZTogbnVsbCxcbiAgICBub2JyVGFnSW5TY29wZTogbnVsbCxcbiAgICBwVGFnSW5CdXR0b25TY29wZTogbnVsbCxcblxuICAgIGxpc3RJdGVtVGFnQXV0b2Nsb3Npbmc6IG51bGwsXG4gICAgZGxJdGVtVGFnQXV0b2Nsb3Npbmc6IG51bGxcbiAgfTtcblxuICB2YXIgdXBkYXRlZEFuY2VzdG9ySW5mbyQxID0gZnVuY3Rpb24gKG9sZEluZm8sIHRhZywgaW5zdGFuY2UpIHtcbiAgICB2YXIgYW5jZXN0b3JJbmZvID0gX2Fzc2lnbih7fSwgb2xkSW5mbyB8fCBlbXB0eUFuY2VzdG9ySW5mbyk7XG4gICAgdmFyIGluZm8gPSB7IHRhZzogdGFnLCBpbnN0YW5jZTogaW5zdGFuY2UgfTtcblxuICAgIGlmIChpblNjb3BlVGFncy5pbmRleE9mKHRhZykgIT09IC0xKSB7XG4gICAgICBhbmNlc3RvckluZm8uYVRhZ0luU2NvcGUgPSBudWxsO1xuICAgICAgYW5jZXN0b3JJbmZvLmJ1dHRvblRhZ0luU2NvcGUgPSBudWxsO1xuICAgICAgYW5jZXN0b3JJbmZvLm5vYnJUYWdJblNjb3BlID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGJ1dHRvblNjb3BlVGFncy5pbmRleE9mKHRhZykgIT09IC0xKSB7XG4gICAgICBhbmNlc3RvckluZm8ucFRhZ0luQnV0dG9uU2NvcGUgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIFNlZSBydWxlcyBmb3IgJ2xpJywgJ2RkJywgJ2R0JyBzdGFydCB0YWdzIGluXG4gICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjcGFyc2luZy1tYWluLWluYm9keVxuICAgIGlmIChzcGVjaWFsVGFncy5pbmRleE9mKHRhZykgIT09IC0xICYmIHRhZyAhPT0gJ2FkZHJlc3MnICYmIHRhZyAhPT0gJ2RpdicgJiYgdGFnICE9PSAncCcpIHtcbiAgICAgIGFuY2VzdG9ySW5mby5saXN0SXRlbVRhZ0F1dG9jbG9zaW5nID0gbnVsbDtcbiAgICAgIGFuY2VzdG9ySW5mby5kbEl0ZW1UYWdBdXRvY2xvc2luZyA9IG51bGw7XG4gICAgfVxuXG4gICAgYW5jZXN0b3JJbmZvLmN1cnJlbnQgPSBpbmZvO1xuXG4gICAgaWYgKHRhZyA9PT0gJ2Zvcm0nKSB7XG4gICAgICBhbmNlc3RvckluZm8uZm9ybVRhZyA9IGluZm87XG4gICAgfVxuICAgIGlmICh0YWcgPT09ICdhJykge1xuICAgICAgYW5jZXN0b3JJbmZvLmFUYWdJblNjb3BlID0gaW5mbztcbiAgICB9XG4gICAgaWYgKHRhZyA9PT0gJ2J1dHRvbicpIHtcbiAgICAgIGFuY2VzdG9ySW5mby5idXR0b25UYWdJblNjb3BlID0gaW5mbztcbiAgICB9XG4gICAgaWYgKHRhZyA9PT0gJ25vYnInKSB7XG4gICAgICBhbmNlc3RvckluZm8ubm9iclRhZ0luU2NvcGUgPSBpbmZvO1xuICAgIH1cbiAgICBpZiAodGFnID09PSAncCcpIHtcbiAgICAgIGFuY2VzdG9ySW5mby5wVGFnSW5CdXR0b25TY29wZSA9IGluZm87XG4gICAgfVxuICAgIGlmICh0YWcgPT09ICdsaScpIHtcbiAgICAgIGFuY2VzdG9ySW5mby5saXN0SXRlbVRhZ0F1dG9jbG9zaW5nID0gaW5mbztcbiAgICB9XG4gICAgaWYgKHRhZyA9PT0gJ2RkJyB8fCB0YWcgPT09ICdkdCcpIHtcbiAgICAgIGFuY2VzdG9ySW5mby5kbEl0ZW1UYWdBdXRvY2xvc2luZyA9IGluZm87XG4gICAgfVxuXG4gICAgcmV0dXJuIGFuY2VzdG9ySW5mbztcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyXG4gICAqL1xuICB2YXIgaXNUYWdWYWxpZFdpdGhQYXJlbnQgPSBmdW5jdGlvbiAodGFnLCBwYXJlbnRUYWcpIHtcbiAgICAvLyBGaXJzdCwgbGV0J3MgY2hlY2sgaWYgd2UncmUgaW4gYW4gdW51c3VhbCBwYXJzaW5nIG1vZGUuLi5cbiAgICBzd2l0Y2ggKHBhcmVudFRhZykge1xuICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjcGFyc2luZy1tYWluLWluc2VsZWN0XG4gICAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgICByZXR1cm4gdGFnID09PSAnb3B0aW9uJyB8fCB0YWcgPT09ICdvcHRncm91cCcgfHwgdGFnID09PSAnI3RleHQnO1xuICAgICAgY2FzZSAnb3B0Z3JvdXAnOlxuICAgICAgICByZXR1cm4gdGFnID09PSAnb3B0aW9uJyB8fCB0YWcgPT09ICcjdGV4dCc7XG4gICAgICAvLyBTdHJpY3RseSBzcGVha2luZywgc2VlaW5nIGFuIDxvcHRpb24+IGRvZXNuJ3QgbWVhbiB3ZSdyZSBpbiBhIDxzZWxlY3Q+XG4gICAgICAvLyBidXRcbiAgICAgIGNhc2UgJ29wdGlvbic6XG4gICAgICAgIHJldHVybiB0YWcgPT09ICcjdGV4dCc7XG4gICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNwYXJzaW5nLW1haW4taW50ZFxuICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjcGFyc2luZy1tYWluLWluY2FwdGlvblxuICAgICAgLy8gTm8gc3BlY2lhbCBiZWhhdmlvciBzaW5jZSB0aGVzZSBydWxlcyBmYWxsIGJhY2sgdG8gXCJpbiBib2R5XCIgbW9kZSBmb3JcbiAgICAgIC8vIGFsbCBleGNlcHQgc3BlY2lhbCB0YWJsZSBub2RlcyB3aGljaCBjYXVzZSBiYWQgcGFyc2luZyBiZWhhdmlvciBhbnl3YXkuXG5cbiAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3BhcnNpbmctbWFpbi1pbnRyXG4gICAgICBjYXNlICd0cic6XG4gICAgICAgIHJldHVybiB0YWcgPT09ICd0aCcgfHwgdGFnID09PSAndGQnIHx8IHRhZyA9PT0gJ3N0eWxlJyB8fCB0YWcgPT09ICdzY3JpcHQnIHx8IHRhZyA9PT0gJ3RlbXBsYXRlJztcbiAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3BhcnNpbmctbWFpbi1pbnRib2R5XG4gICAgICBjYXNlICd0Ym9keSc6XG4gICAgICBjYXNlICd0aGVhZCc6XG4gICAgICBjYXNlICd0Zm9vdCc6XG4gICAgICAgIHJldHVybiB0YWcgPT09ICd0cicgfHwgdGFnID09PSAnc3R5bGUnIHx8IHRhZyA9PT0gJ3NjcmlwdCcgfHwgdGFnID09PSAndGVtcGxhdGUnO1xuICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjcGFyc2luZy1tYWluLWluY29sZ3JvdXBcbiAgICAgIGNhc2UgJ2NvbGdyb3VwJzpcbiAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ2NvbCcgfHwgdGFnID09PSAndGVtcGxhdGUnO1xuICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjcGFyc2luZy1tYWluLWludGFibGVcbiAgICAgIGNhc2UgJ3RhYmxlJzpcbiAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ2NhcHRpb24nIHx8IHRhZyA9PT0gJ2NvbGdyb3VwJyB8fCB0YWcgPT09ICd0Ym9keScgfHwgdGFnID09PSAndGZvb3QnIHx8IHRhZyA9PT0gJ3RoZWFkJyB8fCB0YWcgPT09ICdzdHlsZScgfHwgdGFnID09PSAnc2NyaXB0JyB8fCB0YWcgPT09ICd0ZW1wbGF0ZSc7XG4gICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNwYXJzaW5nLW1haW4taW5oZWFkXG4gICAgICBjYXNlICdoZWFkJzpcbiAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ2Jhc2UnIHx8IHRhZyA9PT0gJ2Jhc2Vmb250JyB8fCB0YWcgPT09ICdiZ3NvdW5kJyB8fCB0YWcgPT09ICdsaW5rJyB8fCB0YWcgPT09ICdtZXRhJyB8fCB0YWcgPT09ICd0aXRsZScgfHwgdGFnID09PSAnbm9zY3JpcHQnIHx8IHRhZyA9PT0gJ25vZnJhbWVzJyB8fCB0YWcgPT09ICdzdHlsZScgfHwgdGFnID09PSAnc2NyaXB0JyB8fCB0YWcgPT09ICd0ZW1wbGF0ZSc7XG4gICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zZW1hbnRpY3MuaHRtbCN0aGUtaHRtbC1lbGVtZW50XG4gICAgICBjYXNlICdodG1sJzpcbiAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ2hlYWQnIHx8IHRhZyA9PT0gJ2JvZHknO1xuICAgICAgY2FzZSAnI2RvY3VtZW50JzpcbiAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ2h0bWwnO1xuICAgIH1cblxuICAgIC8vIFByb2JhYmx5IGluIHRoZSBcImluIGJvZHlcIiBwYXJzaW5nIG1vZGUsIHNvIHdlIG91dGxhdyBvbmx5IHRhZyBjb21ib3NcbiAgICAvLyB3aGVyZSB0aGUgcGFyc2luZyBydWxlcyBjYXVzZSBpbXBsaWNpdCBvcGVucyBvciBjbG9zZXMgdG8gYmUgYWRkZWQuXG4gICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjcGFyc2luZy1tYWluLWluYm9keVxuICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICBjYXNlICdoMSc6XG4gICAgICBjYXNlICdoMic6XG4gICAgICBjYXNlICdoMyc6XG4gICAgICBjYXNlICdoNCc6XG4gICAgICBjYXNlICdoNSc6XG4gICAgICBjYXNlICdoNic6XG4gICAgICAgIHJldHVybiBwYXJlbnRUYWcgIT09ICdoMScgJiYgcGFyZW50VGFnICE9PSAnaDInICYmIHBhcmVudFRhZyAhPT0gJ2gzJyAmJiBwYXJlbnRUYWcgIT09ICdoNCcgJiYgcGFyZW50VGFnICE9PSAnaDUnICYmIHBhcmVudFRhZyAhPT0gJ2g2JztcblxuICAgICAgY2FzZSAncnAnOlxuICAgICAgY2FzZSAncnQnOlxuICAgICAgICByZXR1cm4gaW1wbGllZEVuZFRhZ3MuaW5kZXhPZihwYXJlbnRUYWcpID09PSAtMTtcblxuICAgICAgY2FzZSAnYm9keSc6XG4gICAgICBjYXNlICdjYXB0aW9uJzpcbiAgICAgIGNhc2UgJ2NvbCc6XG4gICAgICBjYXNlICdjb2xncm91cCc6XG4gICAgICBjYXNlICdmcmFtZSc6XG4gICAgICBjYXNlICdoZWFkJzpcbiAgICAgIGNhc2UgJ2h0bWwnOlxuICAgICAgY2FzZSAndGJvZHknOlxuICAgICAgY2FzZSAndGQnOlxuICAgICAgY2FzZSAndGZvb3QnOlxuICAgICAgY2FzZSAndGgnOlxuICAgICAgY2FzZSAndGhlYWQnOlxuICAgICAgY2FzZSAndHInOlxuICAgICAgICAvLyBUaGVzZSB0YWdzIGFyZSBvbmx5IHZhbGlkIHdpdGggYSBmZXcgcGFyZW50cyB0aGF0IGhhdmUgc3BlY2lhbCBjaGlsZFxuICAgICAgICAvLyBwYXJzaW5nIHJ1bGVzIC0tIGlmIHdlJ3JlIGRvd24gaGVyZSwgdGhlbiBub25lIG9mIHRob3NlIG1hdGNoZWQgYW5kXG4gICAgICAgIC8vIHNvIHdlIGFsbG93IGl0IG9ubHkgaWYgd2UgZG9uJ3Qga25vdyB3aGF0IHRoZSBwYXJlbnQgaXMsIGFzIGFsbCBvdGhlclxuICAgICAgICAvLyBjYXNlcyBhcmUgaW52YWxpZC5cbiAgICAgICAgcmV0dXJuIHBhcmVudFRhZyA9PSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXJcbiAgICovXG4gIHZhciBmaW5kSW52YWxpZEFuY2VzdG9yRm9yVGFnID0gZnVuY3Rpb24gKHRhZywgYW5jZXN0b3JJbmZvKSB7XG4gICAgc3dpdGNoICh0YWcpIHtcbiAgICAgIGNhc2UgJ2FkZHJlc3MnOlxuICAgICAgY2FzZSAnYXJ0aWNsZSc6XG4gICAgICBjYXNlICdhc2lkZSc6XG4gICAgICBjYXNlICdibG9ja3F1b3RlJzpcbiAgICAgIGNhc2UgJ2NlbnRlcic6XG4gICAgICBjYXNlICdkZXRhaWxzJzpcbiAgICAgIGNhc2UgJ2RpYWxvZyc6XG4gICAgICBjYXNlICdkaXInOlxuICAgICAgY2FzZSAnZGl2JzpcbiAgICAgIGNhc2UgJ2RsJzpcbiAgICAgIGNhc2UgJ2ZpZWxkc2V0JzpcbiAgICAgIGNhc2UgJ2ZpZ2NhcHRpb24nOlxuICAgICAgY2FzZSAnZmlndXJlJzpcbiAgICAgIGNhc2UgJ2Zvb3Rlcic6XG4gICAgICBjYXNlICdoZWFkZXInOlxuICAgICAgY2FzZSAnaGdyb3VwJzpcbiAgICAgIGNhc2UgJ21haW4nOlxuICAgICAgY2FzZSAnbWVudSc6XG4gICAgICBjYXNlICduYXYnOlxuICAgICAgY2FzZSAnb2wnOlxuICAgICAgY2FzZSAncCc6XG4gICAgICBjYXNlICdzZWN0aW9uJzpcbiAgICAgIGNhc2UgJ3N1bW1hcnknOlxuICAgICAgY2FzZSAndWwnOlxuICAgICAgY2FzZSAncHJlJzpcbiAgICAgIGNhc2UgJ2xpc3RpbmcnOlxuICAgICAgY2FzZSAndGFibGUnOlxuICAgICAgY2FzZSAnaHInOlxuICAgICAgY2FzZSAneG1wJzpcbiAgICAgIGNhc2UgJ2gxJzpcbiAgICAgIGNhc2UgJ2gyJzpcbiAgICAgIGNhc2UgJ2gzJzpcbiAgICAgIGNhc2UgJ2g0JzpcbiAgICAgIGNhc2UgJ2g1JzpcbiAgICAgIGNhc2UgJ2g2JzpcbiAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5wVGFnSW5CdXR0b25TY29wZTtcblxuICAgICAgY2FzZSAnZm9ybSc6XG4gICAgICAgIHJldHVybiBhbmNlc3RvckluZm8uZm9ybVRhZyB8fCBhbmNlc3RvckluZm8ucFRhZ0luQnV0dG9uU2NvcGU7XG5cbiAgICAgIGNhc2UgJ2xpJzpcbiAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5saXN0SXRlbVRhZ0F1dG9jbG9zaW5nO1xuXG4gICAgICBjYXNlICdkZCc6XG4gICAgICBjYXNlICdkdCc6XG4gICAgICAgIHJldHVybiBhbmNlc3RvckluZm8uZGxJdGVtVGFnQXV0b2Nsb3Npbmc7XG5cbiAgICAgIGNhc2UgJ2J1dHRvbic6XG4gICAgICAgIHJldHVybiBhbmNlc3RvckluZm8uYnV0dG9uVGFnSW5TY29wZTtcblxuICAgICAgY2FzZSAnYSc6XG4gICAgICAgIC8vIFNwZWMgc2F5cyBzb21ldGhpbmcgYWJvdXQgc3RvcmluZyBhIGxpc3Qgb2YgbWFya2VycywgYnV0IGl0IHNvdW5kc1xuICAgICAgICAvLyBlcXVpdmFsZW50IHRvIHRoaXMgY2hlY2suXG4gICAgICAgIHJldHVybiBhbmNlc3RvckluZm8uYVRhZ0luU2NvcGU7XG5cbiAgICAgIGNhc2UgJ25vYnInOlxuICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLm5vYnJUYWdJblNjb3BlO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBkaWRXYXJuID0ge307XG5cbiAgdmFsaWRhdGVET01OZXN0aW5nID0gZnVuY3Rpb24gKGNoaWxkVGFnLCBjaGlsZFRleHQsIGFuY2VzdG9ySW5mbykge1xuICAgIGFuY2VzdG9ySW5mbyA9IGFuY2VzdG9ySW5mbyB8fCBlbXB0eUFuY2VzdG9ySW5mbztcbiAgICB2YXIgcGFyZW50SW5mbyA9IGFuY2VzdG9ySW5mby5jdXJyZW50O1xuICAgIHZhciBwYXJlbnRUYWcgPSBwYXJlbnRJbmZvICYmIHBhcmVudEluZm8udGFnO1xuXG4gICAgaWYgKGNoaWxkVGV4dCAhPSBudWxsKSB7XG4gICAgICB3YXJuaW5nKGNoaWxkVGFnID09IG51bGwsICd2YWxpZGF0ZURPTU5lc3Rpbmc6IHdoZW4gY2hpbGRUZXh0IGlzIHBhc3NlZCwgY2hpbGRUYWcgc2hvdWxkIGJlIG51bGwnKTtcbiAgICAgIGNoaWxkVGFnID0gJyN0ZXh0JztcbiAgICB9XG5cbiAgICB2YXIgaW52YWxpZFBhcmVudCA9IGlzVGFnVmFsaWRXaXRoUGFyZW50KGNoaWxkVGFnLCBwYXJlbnRUYWcpID8gbnVsbCA6IHBhcmVudEluZm87XG4gICAgdmFyIGludmFsaWRBbmNlc3RvciA9IGludmFsaWRQYXJlbnQgPyBudWxsIDogZmluZEludmFsaWRBbmNlc3RvckZvclRhZyhjaGlsZFRhZywgYW5jZXN0b3JJbmZvKTtcbiAgICB2YXIgaW52YWxpZFBhcmVudE9yQW5jZXN0b3IgPSBpbnZhbGlkUGFyZW50IHx8IGludmFsaWRBbmNlc3RvcjtcbiAgICBpZiAoIWludmFsaWRQYXJlbnRPckFuY2VzdG9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGFuY2VzdG9yVGFnID0gaW52YWxpZFBhcmVudE9yQW5jZXN0b3IudGFnO1xuICAgIHZhciBhZGRlbmR1bSA9IGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kNigpO1xuXG4gICAgdmFyIHdhcm5LZXkgPSAhIWludmFsaWRQYXJlbnQgKyAnfCcgKyBjaGlsZFRhZyArICd8JyArIGFuY2VzdG9yVGFnICsgJ3wnICsgYWRkZW5kdW07XG4gICAgaWYgKGRpZFdhcm5bd2FybktleV0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGlkV2Fyblt3YXJuS2V5XSA9IHRydWU7XG5cbiAgICB2YXIgdGFnRGlzcGxheU5hbWUgPSBjaGlsZFRhZztcbiAgICB2YXIgd2hpdGVzcGFjZUluZm8gPSAnJztcbiAgICBpZiAoY2hpbGRUYWcgPT09ICcjdGV4dCcpIHtcbiAgICAgIGlmICgvXFxTLy50ZXN0KGNoaWxkVGV4dCkpIHtcbiAgICAgICAgdGFnRGlzcGxheU5hbWUgPSAnVGV4dCBub2Rlcyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YWdEaXNwbGF5TmFtZSA9ICdXaGl0ZXNwYWNlIHRleHQgbm9kZXMnO1xuICAgICAgICB3aGl0ZXNwYWNlSW5mbyA9IFwiIE1ha2Ugc3VyZSB5b3UgZG9uJ3QgaGF2ZSBhbnkgZXh0cmEgd2hpdGVzcGFjZSBiZXR3ZWVuIHRhZ3Mgb24gXCIgKyAnZWFjaCBsaW5lIG9mIHlvdXIgc291cmNlIGNvZGUuJztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGFnRGlzcGxheU5hbWUgPSAnPCcgKyBjaGlsZFRhZyArICc+JztcbiAgICB9XG5cbiAgICBpZiAoaW52YWxpZFBhcmVudCkge1xuICAgICAgdmFyIGluZm8gPSAnJztcbiAgICAgIGlmIChhbmNlc3RvclRhZyA9PT0gJ3RhYmxlJyAmJiBjaGlsZFRhZyA9PT0gJ3RyJykge1xuICAgICAgICBpbmZvICs9ICcgQWRkIGEgPHRib2R5PiB0byB5b3VyIGNvZGUgdG8gbWF0Y2ggdGhlIERPTSB0cmVlIGdlbmVyYXRlZCBieSAnICsgJ3RoZSBicm93c2VyLic7XG4gICAgICB9XG4gICAgICB3YXJuaW5nKGZhbHNlLCAndmFsaWRhdGVET01OZXN0aW5nKC4uLik6ICVzIGNhbm5vdCBhcHBlYXIgYXMgYSBjaGlsZCBvZiA8JXM+LiVzJXMlcycsIHRhZ0Rpc3BsYXlOYW1lLCBhbmNlc3RvclRhZywgd2hpdGVzcGFjZUluZm8sIGluZm8sIGFkZGVuZHVtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ3ZhbGlkYXRlRE9NTmVzdGluZyguLi4pOiAlcyBjYW5ub3QgYXBwZWFyIGFzIGEgZGVzY2VuZGFudCBvZiAnICsgJzwlcz4uJXMnLCB0YWdEaXNwbGF5TmFtZSwgYW5jZXN0b3JUYWcsIGFkZGVuZHVtKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gVE9ETzogdHVybiB0aGlzIGludG8gYSBuYW1lZCBleHBvcnRcbiAgdmFsaWRhdGVET01OZXN0aW5nLnVwZGF0ZWRBbmNlc3RvckluZm8gPSB1cGRhdGVkQW5jZXN0b3JJbmZvJDE7XG59XG5cbnZhciB2YWxpZGF0ZURPTU5lc3RpbmckMSA9IHZhbGlkYXRlRE9NTmVzdGluZztcblxuLy8gVE9ETzogVGhpcyB0eXBlIGlzIHNoYXJlZCBiZXR3ZWVuIHRoZSByZWNvbmNpbGVyIGFuZCBSZWFjdERPTSwgYnV0IHdpbGxcbi8vIGV2ZW50dWFsbHkgYmUgbGlmdGVkIG91dCB0byB0aGUgcmVuZGVyZXIuXG5cbi8vIFRPRE86IGRpcmVjdCBpbXBvcnRzIGxpa2Ugc29tZS1wYWNrYWdlL3NyYy8qIGFyZSBiYWQuIEZpeCBtZS5cbnZhciBjcmVhdGVFbGVtZW50ID0gY3JlYXRlRWxlbWVudCQxO1xudmFyIGNyZWF0ZVRleHROb2RlID0gY3JlYXRlVGV4dE5vZGUkMTtcbnZhciBzZXRJbml0aWFsUHJvcGVydGllcyA9IHNldEluaXRpYWxQcm9wZXJ0aWVzJDE7XG52YXIgZGlmZlByb3BlcnRpZXMgPSBkaWZmUHJvcGVydGllcyQxO1xudmFyIHVwZGF0ZVByb3BlcnRpZXMgPSB1cGRhdGVQcm9wZXJ0aWVzJDE7XG52YXIgZGlmZkh5ZHJhdGVkUHJvcGVydGllcyA9IGRpZmZIeWRyYXRlZFByb3BlcnRpZXMkMTtcbnZhciBkaWZmSHlkcmF0ZWRUZXh0ID0gZGlmZkh5ZHJhdGVkVGV4dCQxO1xudmFyIHdhcm5Gb3JVbm1hdGNoZWRUZXh0ID0gd2FybkZvclVubWF0Y2hlZFRleHQkMTtcbnZhciB3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVFbGVtZW50ID0gd2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlRWxlbWVudCQxO1xudmFyIHdhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZVRleHQgPSB3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVUZXh0JDE7XG52YXIgd2FybkZvckluc2VydGVkSHlkcmF0ZWRFbGVtZW50ID0gd2FybkZvckluc2VydGVkSHlkcmF0ZWRFbGVtZW50JDE7XG52YXIgd2FybkZvckluc2VydGVkSHlkcmF0ZWRUZXh0ID0gd2FybkZvckluc2VydGVkSHlkcmF0ZWRUZXh0JDE7XG52YXIgdXBkYXRlZEFuY2VzdG9ySW5mbyA9IHZhbGlkYXRlRE9NTmVzdGluZyQxLnVwZGF0ZWRBbmNlc3RvckluZm87XG52YXIgcHJlY2FjaGVGaWJlck5vZGUgPSBwcmVjYWNoZUZpYmVyTm9kZSQxO1xudmFyIHVwZGF0ZUZpYmVyUHJvcHMgPSB1cGRhdGVGaWJlclByb3BzJDE7XG5cblxudmFyIFNVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HID0gdm9pZCAwO1xudmFyIHRvcExldmVsVXBkYXRlV2FybmluZ3MgPSB2b2lkIDA7XG52YXIgd2Fybk9uSW52YWxpZENhbGxiYWNrID0gdm9pZCAwO1xudmFyIGRpZFdhcm5BYm91dFVuc3RhYmxlQ3JlYXRlUG9ydGFsID0gZmFsc2U7XG5cbntcbiAgU1VQUFJFU1NfSFlEUkFUSU9OX1dBUk5JTkcgPSAnc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nJztcbiAgaWYgKHR5cGVvZiBNYXAgIT09ICdmdW5jdGlvbicgfHwgTWFwLnByb3RvdHlwZSA9PSBudWxsIHx8IHR5cGVvZiBNYXAucHJvdG90eXBlLmZvckVhY2ggIT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIFNldCAhPT0gJ2Z1bmN0aW9uJyB8fCBTZXQucHJvdG90eXBlID09IG51bGwgfHwgdHlwZW9mIFNldC5wcm90b3R5cGUuY2xlYXIgIT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIFNldC5wcm90b3R5cGUuZm9yRWFjaCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHdhcm5pbmcoZmFsc2UsICdSZWFjdCBkZXBlbmRzIG9uIE1hcCBhbmQgU2V0IGJ1aWx0LWluIHR5cGVzLiBNYWtlIHN1cmUgdGhhdCB5b3UgbG9hZCBhICcgKyAncG9seWZpbGwgaW4gb2xkZXIgYnJvd3NlcnMuIGh0dHBzOi8vZmIubWUvcmVhY3QtcG9seWZpbGxzJyk7XG4gIH1cblxuICB0b3BMZXZlbFVwZGF0ZVdhcm5pbmdzID0gZnVuY3Rpb24gKGNvbnRhaW5lcikge1xuICAgIGlmIChjb250YWluZXIuX3JlYWN0Um9vdENvbnRhaW5lciAmJiBjb250YWluZXIubm9kZVR5cGUgIT09IENPTU1FTlRfTk9ERSkge1xuICAgICAgdmFyIGhvc3RJbnN0YW5jZSA9IERPTVJlbmRlcmVyLmZpbmRIb3N0SW5zdGFuY2VXaXRoTm9Qb3J0YWxzKGNvbnRhaW5lci5fcmVhY3RSb290Q29udGFpbmVyLl9pbnRlcm5hbFJvb3QuY3VycmVudCk7XG4gICAgICBpZiAoaG9zdEluc3RhbmNlKSB7XG4gICAgICAgIHdhcm5pbmcoaG9zdEluc3RhbmNlLnBhcmVudE5vZGUgPT09IGNvbnRhaW5lciwgJ3JlbmRlciguLi4pOiBJdCBsb29rcyBsaWtlIHRoZSBSZWFjdC1yZW5kZXJlZCBjb250ZW50IG9mIHRoaXMgJyArICdjb250YWluZXIgd2FzIHJlbW92ZWQgd2l0aG91dCB1c2luZyBSZWFjdC4gVGhpcyBpcyBub3QgJyArICdzdXBwb3J0ZWQgYW5kIHdpbGwgY2F1c2UgZXJyb3JzLiBJbnN0ZWFkLCBjYWxsICcgKyAnUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZSB0byBlbXB0eSBhIGNvbnRhaW5lci4nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgaXNSb290UmVuZGVyZWRCeVNvbWVSZWFjdCA9ICEhY29udGFpbmVyLl9yZWFjdFJvb3RDb250YWluZXI7XG4gICAgdmFyIHJvb3RFbCA9IGdldFJlYWN0Um9vdEVsZW1lbnRJbkNvbnRhaW5lcihjb250YWluZXIpO1xuICAgIHZhciBoYXNOb25Sb290UmVhY3RDaGlsZCA9ICEhKHJvb3RFbCAmJiBnZXRJbnN0YW5jZUZyb21Ob2RlJDEocm9vdEVsKSk7XG5cbiAgICB3YXJuaW5nKCFoYXNOb25Sb290UmVhY3RDaGlsZCB8fCBpc1Jvb3RSZW5kZXJlZEJ5U29tZVJlYWN0LCAncmVuZGVyKC4uLik6IFJlcGxhY2luZyBSZWFjdC1yZW5kZXJlZCBjaGlsZHJlbiB3aXRoIGEgbmV3IHJvb3QgJyArICdjb21wb25lbnQuIElmIHlvdSBpbnRlbmRlZCB0byB1cGRhdGUgdGhlIGNoaWxkcmVuIG9mIHRoaXMgbm9kZSwgJyArICd5b3Ugc2hvdWxkIGluc3RlYWQgaGF2ZSB0aGUgZXhpc3RpbmcgY2hpbGRyZW4gdXBkYXRlIHRoZWlyIHN0YXRlICcgKyAnYW5kIHJlbmRlciB0aGUgbmV3IGNvbXBvbmVudHMgaW5zdGVhZCBvZiBjYWxsaW5nIFJlYWN0RE9NLnJlbmRlci4nKTtcblxuICAgIHdhcm5pbmcoY29udGFpbmVyLm5vZGVUeXBlICE9PSBFTEVNRU5UX05PREUgfHwgIWNvbnRhaW5lci50YWdOYW1lIHx8IGNvbnRhaW5lci50YWdOYW1lLnRvVXBwZXJDYXNlKCkgIT09ICdCT0RZJywgJ3JlbmRlcigpOiBSZW5kZXJpbmcgY29tcG9uZW50cyBkaXJlY3RseSBpbnRvIGRvY3VtZW50LmJvZHkgaXMgJyArICdkaXNjb3VyYWdlZCwgc2luY2UgaXRzIGNoaWxkcmVuIGFyZSBvZnRlbiBtYW5pcHVsYXRlZCBieSB0aGlyZC1wYXJ0eSAnICsgJ3NjcmlwdHMgYW5kIGJyb3dzZXIgZXh0ZW5zaW9ucy4gVGhpcyBtYXkgbGVhZCB0byBzdWJ0bGUgJyArICdyZWNvbmNpbGlhdGlvbiBpc3N1ZXMuIFRyeSByZW5kZXJpbmcgaW50byBhIGNvbnRhaW5lciBlbGVtZW50IGNyZWF0ZWQgJyArICdmb3IgeW91ciBhcHAuJyk7XG4gIH07XG5cbiAgd2Fybk9uSW52YWxpZENhbGxiYWNrID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBjYWxsZXJOYW1lKSB7XG4gICAgd2FybmluZyhjYWxsYmFjayA9PT0gbnVsbCB8fCB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicsICclcyguLi4pOiBFeHBlY3RlZCB0aGUgbGFzdCBvcHRpb25hbCBgY2FsbGJhY2tgIGFyZ3VtZW50IHRvIGJlIGEgJyArICdmdW5jdGlvbi4gSW5zdGVhZCByZWNlaXZlZDogJXMuJywgY2FsbGVyTmFtZSwgY2FsbGJhY2spO1xuICB9O1xufVxuXG5pbmplY3Rpb24kMi5pbmplY3RGaWJlckNvbnRyb2xsZWRIb3N0Q29tcG9uZW50KFJlYWN0RE9NRmliZXJDb21wb25lbnQpO1xuXG52YXIgZXZlbnRzRW5hYmxlZCA9IG51bGw7XG52YXIgc2VsZWN0aW9uSW5mb3JtYXRpb24gPSBudWxsO1xuXG5mdW5jdGlvbiBSZWFjdEJhdGNoKHJvb3QpIHtcbiAgdmFyIGV4cGlyYXRpb25UaW1lID0gRE9NUmVuZGVyZXIuY29tcHV0ZVVuaXF1ZUFzeW5jRXhwaXJhdGlvbigpO1xuICB0aGlzLl9leHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICB0aGlzLl9yb290ID0gcm9vdDtcbiAgdGhpcy5fbmV4dCA9IG51bGw7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IG51bGw7XG4gIHRoaXMuX2RpZENvbXBsZXRlID0gZmFsc2U7XG4gIHRoaXMuX2hhc0NoaWxkcmVuID0gZmFsc2U7XG4gIHRoaXMuX2NoaWxkcmVuID0gbnVsbDtcbiAgdGhpcy5fZGVmZXIgPSB0cnVlO1xufVxuUmVhY3RCYXRjaC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKGNoaWxkcmVuKSB7XG4gICF0aGlzLl9kZWZlciA/IGludmFyaWFudChmYWxzZSwgJ2JhdGNoLnJlbmRlcjogQ2Fubm90IHJlbmRlciBhIGJhdGNoIHRoYXQgYWxyZWFkeSBjb21taXR0ZWQuJykgOiB2b2lkIDA7XG4gIHRoaXMuX2hhc0NoaWxkcmVuID0gdHJ1ZTtcbiAgdGhpcy5fY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgdmFyIGludGVybmFsUm9vdCA9IHRoaXMuX3Jvb3QuX2ludGVybmFsUm9vdDtcbiAgdmFyIGV4cGlyYXRpb25UaW1lID0gdGhpcy5fZXhwaXJhdGlvblRpbWU7XG4gIHZhciB3b3JrID0gbmV3IFJlYWN0V29yaygpO1xuICBET01SZW5kZXJlci51cGRhdGVDb250YWluZXJBdEV4cGlyYXRpb25UaW1lKGNoaWxkcmVuLCBpbnRlcm5hbFJvb3QsIG51bGwsIGV4cGlyYXRpb25UaW1lLCB3b3JrLl9vbkNvbW1pdCk7XG4gIHJldHVybiB3b3JrO1xufTtcblJlYWN0QmF0Y2gucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbiAob25Db21wbGV0ZSkge1xuICBpZiAodGhpcy5fZGlkQ29tcGxldGUpIHtcbiAgICBvbkNvbXBsZXRlKCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3M7XG4gIGlmIChjYWxsYmFja3MgPT09IG51bGwpIHtcbiAgICBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgPSBbXTtcbiAgfVxuICBjYWxsYmFja3MucHVzaChvbkNvbXBsZXRlKTtcbn07XG5SZWFjdEJhdGNoLnByb3RvdHlwZS5jb21taXQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBpbnRlcm5hbFJvb3QgPSB0aGlzLl9yb290Ll9pbnRlcm5hbFJvb3Q7XG4gIHZhciBmaXJzdEJhdGNoID0gaW50ZXJuYWxSb290LmZpcnN0QmF0Y2g7XG4gICEodGhpcy5fZGVmZXIgJiYgZmlyc3RCYXRjaCAhPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdiYXRjaC5jb21taXQ6IENhbm5vdCBjb21taXQgYSBiYXRjaCBtdWx0aXBsZSB0aW1lcy4nKSA6IHZvaWQgMDtcblxuICBpZiAoIXRoaXMuX2hhc0NoaWxkcmVuKSB7XG4gICAgLy8gVGhpcyBiYXRjaCBpcyBlbXB0eS4gUmV0dXJuLlxuICAgIHRoaXMuX25leHQgPSBudWxsO1xuICAgIHRoaXMuX2RlZmVyID0gZmFsc2U7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGV4cGlyYXRpb25UaW1lID0gdGhpcy5fZXhwaXJhdGlvblRpbWU7XG5cbiAgLy8gRW5zdXJlIHRoaXMgaXMgdGhlIGZpcnN0IGJhdGNoIGluIHRoZSBsaXN0LlxuICBpZiAoZmlyc3RCYXRjaCAhPT0gdGhpcykge1xuICAgIC8vIFRoaXMgYmF0Y2ggaXMgbm90IHRoZSBlYXJsaWVzdCBiYXRjaC4gV2UgbmVlZCB0byBtb3ZlIGl0IHRvIHRoZSBmcm9udC5cbiAgICAvLyBVcGRhdGUgaXRzIGV4cGlyYXRpb24gdGltZSB0byBiZSB0aGUgZXhwaXJhdGlvbiB0aW1lIG9mIHRoZSBlYXJsaWVzdFxuICAgIC8vIGJhdGNoLCBzbyB0aGF0IHdlIGNhbiBmbHVzaCBpdCB3aXRob3V0IGZsdXNoaW5nIHRoZSBvdGhlciBiYXRjaGVzLlxuICAgIGlmICh0aGlzLl9oYXNDaGlsZHJlbikge1xuICAgICAgZXhwaXJhdGlvblRpbWUgPSB0aGlzLl9leHBpcmF0aW9uVGltZSA9IGZpcnN0QmF0Y2guX2V4cGlyYXRpb25UaW1lO1xuICAgICAgLy8gUmVuZGVyaW5nIHRoaXMgYmF0Y2ggYWdhaW4gZW5zdXJlcyBpdHMgY2hpbGRyZW4gd2lsbCBiZSB0aGUgZmluYWwgc3RhdGVcbiAgICAgIC8vIHdoZW4gd2UgZmx1c2ggKHVwZGF0ZXMgYXJlIHByb2Nlc3NlZCBpbiBpbnNlcnRpb24gb3JkZXI6IGxhc3RcbiAgICAgIC8vIHVwZGF0ZSB3aW5zKS5cbiAgICAgIC8vIFRPRE86IFRoaXMgZm9yY2VzIGEgcmVzdGFydC4gU2hvdWxkIHdlIHByaW50IGEgd2FybmluZz9cbiAgICAgIHRoaXMucmVuZGVyKHRoaXMuX2NoaWxkcmVuKTtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgdGhlIGJhdGNoIGZyb20gdGhlIGxpc3QuXG4gICAgdmFyIHByZXZpb3VzID0gbnVsbDtcbiAgICB2YXIgYmF0Y2ggPSBmaXJzdEJhdGNoO1xuICAgIHdoaWxlIChiYXRjaCAhPT0gdGhpcykge1xuICAgICAgcHJldmlvdXMgPSBiYXRjaDtcbiAgICAgIGJhdGNoID0gYmF0Y2guX25leHQ7XG4gICAgfVxuICAgICEocHJldmlvdXMgIT09IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnYmF0Y2guY29tbWl0OiBDYW5ub3QgY29tbWl0IGEgYmF0Y2ggbXVsdGlwbGUgdGltZXMuJykgOiB2b2lkIDA7XG4gICAgcHJldmlvdXMuX25leHQgPSBiYXRjaC5fbmV4dDtcblxuICAgIC8vIEFkZCBpdCB0byB0aGUgZnJvbnQuXG4gICAgdGhpcy5fbmV4dCA9IGZpcnN0QmF0Y2g7XG4gICAgZmlyc3RCYXRjaCA9IGludGVybmFsUm9vdC5maXJzdEJhdGNoID0gdGhpcztcbiAgfVxuXG4gIC8vIFN5bmNocm9ub3VzbHkgZmx1c2ggYWxsIHRoZSB3b3JrIHVwIHRvIHRoaXMgYmF0Y2gncyBleHBpcmF0aW9uIHRpbWUuXG4gIHRoaXMuX2RlZmVyID0gZmFsc2U7XG4gIERPTVJlbmRlcmVyLmZsdXNoUm9vdChpbnRlcm5hbFJvb3QsIGV4cGlyYXRpb25UaW1lKTtcblxuICAvLyBQb3AgdGhlIGJhdGNoIGZyb20gdGhlIGxpc3QuXG4gIHZhciBuZXh0ID0gdGhpcy5fbmV4dDtcbiAgdGhpcy5fbmV4dCA9IG51bGw7XG4gIGZpcnN0QmF0Y2ggPSBpbnRlcm5hbFJvb3QuZmlyc3RCYXRjaCA9IG5leHQ7XG5cbiAgLy8gQXBwZW5kIHRoZSBuZXh0IGVhcmxpZXN0IGJhdGNoJ3MgY2hpbGRyZW4gdG8gdGhlIHVwZGF0ZSBxdWV1ZS5cbiAgaWYgKGZpcnN0QmF0Y2ggIT09IG51bGwgJiYgZmlyc3RCYXRjaC5faGFzQ2hpbGRyZW4pIHtcbiAgICBmaXJzdEJhdGNoLnJlbmRlcihmaXJzdEJhdGNoLl9jaGlsZHJlbik7XG4gIH1cbn07XG5SZWFjdEJhdGNoLnByb3RvdHlwZS5fb25Db21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuX2RpZENvbXBsZXRlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRoaXMuX2RpZENvbXBsZXRlID0gdHJ1ZTtcbiAgdmFyIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcztcbiAgaWYgKGNhbGxiYWNrcyA9PT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBUT0RPOiBFcnJvciBoYW5kbGluZy5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgX2NhbGxiYWNrID0gY2FsbGJhY2tzW2ldO1xuICAgIF9jYWxsYmFjaygpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBSZWFjdFdvcmsoKSB7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IG51bGw7XG4gIHRoaXMuX2RpZENvbW1pdCA9IGZhbHNlO1xuICAvLyBUT0RPOiBBdm9pZCBuZWVkIHRvIGJpbmQgYnkgcmVwbGFjaW5nIGNhbGxiYWNrcyBpbiB0aGUgdXBkYXRlIHF1ZXVlIHdpdGhcbiAgLy8gbGlzdCBvZiBXb3JrIG9iamVjdHMuXG4gIHRoaXMuX29uQ29tbWl0ID0gdGhpcy5fb25Db21taXQuYmluZCh0aGlzKTtcbn1cblJlYWN0V29yay5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uIChvbkNvbW1pdCkge1xuICBpZiAodGhpcy5fZGlkQ29tbWl0KSB7XG4gICAgb25Db21taXQoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcztcbiAgaWYgKGNhbGxiYWNrcyA9PT0gbnVsbCkge1xuICAgIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyA9IFtdO1xuICB9XG4gIGNhbGxiYWNrcy5wdXNoKG9uQ29tbWl0KTtcbn07XG5SZWFjdFdvcmsucHJvdG90eXBlLl9vbkNvbW1pdCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuX2RpZENvbW1pdCkge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLl9kaWRDb21taXQgPSB0cnVlO1xuICB2YXIgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzO1xuICBpZiAoY2FsbGJhY2tzID09PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIFRPRE86IEVycm9yIGhhbmRsaW5nLlxuICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBfY2FsbGJhY2syID0gY2FsbGJhY2tzW2ldO1xuICAgICEodHlwZW9mIF9jYWxsYmFjazIgPT09ICdmdW5jdGlvbicpID8gaW52YXJpYW50KGZhbHNlLCAnSW52YWxpZCBhcmd1bWVudCBwYXNzZWQgYXMgY2FsbGJhY2suIEV4cGVjdGVkIGEgZnVuY3Rpb24uIEluc3RlYWQgcmVjZWl2ZWQ6ICVzJywgX2NhbGxiYWNrMikgOiB2b2lkIDA7XG4gICAgX2NhbGxiYWNrMigpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBSZWFjdFJvb3QoY29udGFpbmVyLCBpc0FzeW5jLCBoeWRyYXRlKSB7XG4gIHZhciByb290ID0gRE9NUmVuZGVyZXIuY3JlYXRlQ29udGFpbmVyKGNvbnRhaW5lciwgaXNBc3luYywgaHlkcmF0ZSk7XG4gIHRoaXMuX2ludGVybmFsUm9vdCA9IHJvb3Q7XG59XG5SZWFjdFJvb3QucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChjaGlsZHJlbiwgY2FsbGJhY2spIHtcbiAgdmFyIHJvb3QgPSB0aGlzLl9pbnRlcm5hbFJvb3Q7XG4gIHZhciB3b3JrID0gbmV3IFJlYWN0V29yaygpO1xuICBjYWxsYmFjayA9IGNhbGxiYWNrID09PSB1bmRlZmluZWQgPyBudWxsIDogY2FsbGJhY2s7XG4gIHtcbiAgICB3YXJuT25JbnZhbGlkQ2FsbGJhY2soY2FsbGJhY2ssICdyZW5kZXInKTtcbiAgfVxuICBpZiAoY2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICB3b3JrLnRoZW4oY2FsbGJhY2spO1xuICB9XG4gIERPTVJlbmRlcmVyLnVwZGF0ZUNvbnRhaW5lcihjaGlsZHJlbiwgcm9vdCwgbnVsbCwgd29yay5fb25Db21taXQpO1xuICByZXR1cm4gd29yaztcbn07XG5SZWFjdFJvb3QucHJvdG90eXBlLnVubW91bnQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgdmFyIHJvb3QgPSB0aGlzLl9pbnRlcm5hbFJvb3Q7XG4gIHZhciB3b3JrID0gbmV3IFJlYWN0V29yaygpO1xuICBjYWxsYmFjayA9IGNhbGxiYWNrID09PSB1bmRlZmluZWQgPyBudWxsIDogY2FsbGJhY2s7XG4gIHtcbiAgICB3YXJuT25JbnZhbGlkQ2FsbGJhY2soY2FsbGJhY2ssICdyZW5kZXInKTtcbiAgfVxuICBpZiAoY2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICB3b3JrLnRoZW4oY2FsbGJhY2spO1xuICB9XG4gIERPTVJlbmRlcmVyLnVwZGF0ZUNvbnRhaW5lcihudWxsLCByb290LCBudWxsLCB3b3JrLl9vbkNvbW1pdCk7XG4gIHJldHVybiB3b3JrO1xufTtcblJlYWN0Um9vdC5wcm90b3R5cGUubGVnYWN5X3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyID0gZnVuY3Rpb24gKHBhcmVudENvbXBvbmVudCwgY2hpbGRyZW4sIGNhbGxiYWNrKSB7XG4gIHZhciByb290ID0gdGhpcy5faW50ZXJuYWxSb290O1xuICB2YXIgd29yayA9IG5ldyBSZWFjdFdvcmsoKTtcbiAgY2FsbGJhY2sgPSBjYWxsYmFjayA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGNhbGxiYWNrO1xuICB7XG4gICAgd2Fybk9uSW52YWxpZENhbGxiYWNrKGNhbGxiYWNrLCAncmVuZGVyJyk7XG4gIH1cbiAgaWYgKGNhbGxiYWNrICE9PSBudWxsKSB7XG4gICAgd29yay50aGVuKGNhbGxiYWNrKTtcbiAgfVxuICBET01SZW5kZXJlci51cGRhdGVDb250YWluZXIoY2hpbGRyZW4sIHJvb3QsIHBhcmVudENvbXBvbmVudCwgd29yay5fb25Db21taXQpO1xuICByZXR1cm4gd29yaztcbn07XG5SZWFjdFJvb3QucHJvdG90eXBlLmNyZWF0ZUJhdGNoID0gZnVuY3Rpb24gKCkge1xuICB2YXIgYmF0Y2ggPSBuZXcgUmVhY3RCYXRjaCh0aGlzKTtcbiAgdmFyIGV4cGlyYXRpb25UaW1lID0gYmF0Y2guX2V4cGlyYXRpb25UaW1lO1xuXG4gIHZhciBpbnRlcm5hbFJvb3QgPSB0aGlzLl9pbnRlcm5hbFJvb3Q7XG4gIHZhciBmaXJzdEJhdGNoID0gaW50ZXJuYWxSb290LmZpcnN0QmF0Y2g7XG4gIGlmIChmaXJzdEJhdGNoID09PSBudWxsKSB7XG4gICAgaW50ZXJuYWxSb290LmZpcnN0QmF0Y2ggPSBiYXRjaDtcbiAgICBiYXRjaC5fbmV4dCA9IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgLy8gSW5zZXJ0IHNvcnRlZCBieSBleHBpcmF0aW9uIHRpbWUgdGhlbiBpbnNlcnRpb24gb3JkZXJcbiAgICB2YXIgaW5zZXJ0QWZ0ZXIgPSBudWxsO1xuICAgIHZhciBpbnNlcnRCZWZvcmUgPSBmaXJzdEJhdGNoO1xuICAgIHdoaWxlIChpbnNlcnRCZWZvcmUgIT09IG51bGwgJiYgaW5zZXJ0QmVmb3JlLl9leHBpcmF0aW9uVGltZSA8PSBleHBpcmF0aW9uVGltZSkge1xuICAgICAgaW5zZXJ0QWZ0ZXIgPSBpbnNlcnRCZWZvcmU7XG4gICAgICBpbnNlcnRCZWZvcmUgPSBpbnNlcnRCZWZvcmUuX25leHQ7XG4gICAgfVxuICAgIGJhdGNoLl9uZXh0ID0gaW5zZXJ0QmVmb3JlO1xuICAgIGlmIChpbnNlcnRBZnRlciAhPT0gbnVsbCkge1xuICAgICAgaW5zZXJ0QWZ0ZXIuX25leHQgPSBiYXRjaDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYmF0Y2g7XG59O1xuXG4vKipcbiAqIFRydWUgaWYgdGhlIHN1cHBsaWVkIERPTSBub2RlIGlzIGEgdmFsaWQgbm9kZSBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7P0RPTUVsZW1lbnR9IG5vZGUgVGhlIGNhbmRpZGF0ZSBET00gbm9kZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIERPTSBpcyBhIHZhbGlkIERPTSBub2RlLlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWRDb250YWluZXIobm9kZSkge1xuICByZXR1cm4gISEobm9kZSAmJiAobm9kZS5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFIHx8IG5vZGUubm9kZVR5cGUgPT09IERPQ1VNRU5UX05PREUgfHwgbm9kZS5ub2RlVHlwZSA9PT0gRE9DVU1FTlRfRlJBR01FTlRfTk9ERSB8fCBub2RlLm5vZGVUeXBlID09PSBDT01NRU5UX05PREUgJiYgbm9kZS5ub2RlVmFsdWUgPT09ICcgcmVhY3QtbW91bnQtcG9pbnQtdW5zdGFibGUgJykpO1xufVxuXG5mdW5jdGlvbiBnZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXIoY29udGFpbmVyKSB7XG4gIGlmICghY29udGFpbmVyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoY29udGFpbmVyLm5vZGVUeXBlID09PSBET0NVTUVOVF9OT0RFKSB7XG4gICAgcmV0dXJuIGNvbnRhaW5lci5kb2N1bWVudEVsZW1lbnQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbnRhaW5lci5maXJzdENoaWxkO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNob3VsZEh5ZHJhdGVEdWVUb0xlZ2FjeUhldXJpc3RpYyhjb250YWluZXIpIHtcbiAgdmFyIHJvb3RFbGVtZW50ID0gZ2V0UmVhY3RSb290RWxlbWVudEluQ29udGFpbmVyKGNvbnRhaW5lcik7XG4gIHJldHVybiAhIShyb290RWxlbWVudCAmJiByb290RWxlbWVudC5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFICYmIHJvb3RFbGVtZW50Lmhhc0F0dHJpYnV0ZShST09UX0FUVFJJQlVURV9OQU1FKSk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZEF1dG9Gb2N1c0hvc3RDb21wb25lbnQodHlwZSwgcHJvcHMpIHtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnYnV0dG9uJzpcbiAgICBjYXNlICdpbnB1dCc6XG4gICAgY2FzZSAnc2VsZWN0JzpcbiAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgICByZXR1cm4gISFwcm9wcy5hdXRvRm9jdXM7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG52YXIgRE9NUmVuZGVyZXIgPSByZWFjdFJlY29uY2lsZXIoe1xuICBnZXRSb290SG9zdENvbnRleHQ6IGZ1bmN0aW9uIChyb290Q29udGFpbmVySW5zdGFuY2UpIHtcbiAgICB2YXIgdHlwZSA9IHZvaWQgMDtcbiAgICB2YXIgbmFtZXNwYWNlID0gdm9pZCAwO1xuICAgIHZhciBub2RlVHlwZSA9IHJvb3RDb250YWluZXJJbnN0YW5jZS5ub2RlVHlwZTtcbiAgICBzd2l0Y2ggKG5vZGVUeXBlKSB7XG4gICAgICBjYXNlIERPQ1VNRU5UX05PREU6XG4gICAgICBjYXNlIERPQ1VNRU5UX0ZSQUdNRU5UX05PREU6XG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlID0gbm9kZVR5cGUgPT09IERPQ1VNRU5UX05PREUgPyAnI2RvY3VtZW50JyA6ICcjZnJhZ21lbnQnO1xuICAgICAgICAgIHZhciByb290ID0gcm9vdENvbnRhaW5lckluc3RhbmNlLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgICBuYW1lc3BhY2UgPSByb290ID8gcm9vdC5uYW1lc3BhY2VVUkkgOiBnZXRDaGlsZE5hbWVzcGFjZShudWxsLCAnJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgY29udGFpbmVyID0gbm9kZVR5cGUgPT09IENPTU1FTlRfTk9ERSA/IHJvb3RDb250YWluZXJJbnN0YW5jZS5wYXJlbnROb2RlIDogcm9vdENvbnRhaW5lckluc3RhbmNlO1xuICAgICAgICAgIHZhciBvd25OYW1lc3BhY2UgPSBjb250YWluZXIubmFtZXNwYWNlVVJJIHx8IG51bGw7XG4gICAgICAgICAgdHlwZSA9IGNvbnRhaW5lci50YWdOYW1lO1xuICAgICAgICAgIG5hbWVzcGFjZSA9IGdldENoaWxkTmFtZXNwYWNlKG93bk5hbWVzcGFjZSwgdHlwZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAge1xuICAgICAgdmFyIHZhbGlkYXRlZFRhZyA9IHR5cGUudG9Mb3dlckNhc2UoKTtcbiAgICAgIHZhciBfYW5jZXN0b3JJbmZvID0gdXBkYXRlZEFuY2VzdG9ySW5mbyhudWxsLCB2YWxpZGF0ZWRUYWcsIG51bGwpO1xuICAgICAgcmV0dXJuIHsgbmFtZXNwYWNlOiBuYW1lc3BhY2UsIGFuY2VzdG9ySW5mbzogX2FuY2VzdG9ySW5mbyB9O1xuICAgIH1cbiAgICByZXR1cm4gbmFtZXNwYWNlO1xuICB9LFxuICBnZXRDaGlsZEhvc3RDb250ZXh0OiBmdW5jdGlvbiAocGFyZW50SG9zdENvbnRleHQsIHR5cGUpIHtcbiAgICB7XG4gICAgICB2YXIgcGFyZW50SG9zdENvbnRleHREZXYgPSBwYXJlbnRIb3N0Q29udGV4dDtcbiAgICAgIHZhciBfbmFtZXNwYWNlID0gZ2V0Q2hpbGROYW1lc3BhY2UocGFyZW50SG9zdENvbnRleHREZXYubmFtZXNwYWNlLCB0eXBlKTtcbiAgICAgIHZhciBfYW5jZXN0b3JJbmZvMiA9IHVwZGF0ZWRBbmNlc3RvckluZm8ocGFyZW50SG9zdENvbnRleHREZXYuYW5jZXN0b3JJbmZvLCB0eXBlLCBudWxsKTtcbiAgICAgIHJldHVybiB7IG5hbWVzcGFjZTogX25hbWVzcGFjZSwgYW5jZXN0b3JJbmZvOiBfYW5jZXN0b3JJbmZvMiB9O1xuICAgIH1cbiAgICB2YXIgcGFyZW50TmFtZXNwYWNlID0gcGFyZW50SG9zdENvbnRleHQ7XG4gICAgcmV0dXJuIGdldENoaWxkTmFtZXNwYWNlKHBhcmVudE5hbWVzcGFjZSwgdHlwZSk7XG4gIH0sXG4gIGdldFB1YmxpY0luc3RhbmNlOiBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH0sXG4gIHByZXBhcmVGb3JDb21taXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBldmVudHNFbmFibGVkID0gaXNFbmFibGVkKCk7XG4gICAgc2VsZWN0aW9uSW5mb3JtYXRpb24gPSBnZXRTZWxlY3Rpb25JbmZvcm1hdGlvbigpO1xuICAgIHNldEVuYWJsZWQoZmFsc2UpO1xuICB9LFxuICByZXNldEFmdGVyQ29tbWl0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmVzdG9yZVNlbGVjdGlvbihzZWxlY3Rpb25JbmZvcm1hdGlvbik7XG4gICAgc2VsZWN0aW9uSW5mb3JtYXRpb24gPSBudWxsO1xuICAgIHNldEVuYWJsZWQoZXZlbnRzRW5hYmxlZCk7XG4gICAgZXZlbnRzRW5hYmxlZCA9IG51bGw7XG4gIH0sXG4gIGNyZWF0ZUluc3RhbmNlOiBmdW5jdGlvbiAodHlwZSwgcHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgaG9zdENvbnRleHQsIGludGVybmFsSW5zdGFuY2VIYW5kbGUpIHtcbiAgICB2YXIgcGFyZW50TmFtZXNwYWNlID0gdm9pZCAwO1xuICAgIHtcbiAgICAgIC8vIFRPRE86IHRha2UgbmFtZXNwYWNlIGludG8gYWNjb3VudCB3aGVuIHZhbGlkYXRpbmcuXG4gICAgICB2YXIgaG9zdENvbnRleHREZXYgPSBob3N0Q29udGV4dDtcbiAgICAgIHZhbGlkYXRlRE9NTmVzdGluZyQxKHR5cGUsIG51bGwsIGhvc3RDb250ZXh0RGV2LmFuY2VzdG9ySW5mbyk7XG4gICAgICBpZiAodHlwZW9mIHByb3BzLmNoaWxkcmVuID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgcHJvcHMuY2hpbGRyZW4gPT09ICdudW1iZXInKSB7XG4gICAgICAgIHZhciBzdHJpbmcgPSAnJyArIHByb3BzLmNoaWxkcmVuO1xuICAgICAgICB2YXIgb3duQW5jZXN0b3JJbmZvID0gdXBkYXRlZEFuY2VzdG9ySW5mbyhob3N0Q29udGV4dERldi5hbmNlc3RvckluZm8sIHR5cGUsIG51bGwpO1xuICAgICAgICB2YWxpZGF0ZURPTU5lc3RpbmckMShudWxsLCBzdHJpbmcsIG93bkFuY2VzdG9ySW5mbyk7XG4gICAgICB9XG4gICAgICBwYXJlbnROYW1lc3BhY2UgPSBob3N0Q29udGV4dERldi5uYW1lc3BhY2U7XG4gICAgfVxuICAgIHZhciBkb21FbGVtZW50ID0gY3JlYXRlRWxlbWVudCh0eXBlLCBwcm9wcywgcm9vdENvbnRhaW5lckluc3RhbmNlLCBwYXJlbnROYW1lc3BhY2UpO1xuICAgIHByZWNhY2hlRmliZXJOb2RlKGludGVybmFsSW5zdGFuY2VIYW5kbGUsIGRvbUVsZW1lbnQpO1xuICAgIHVwZGF0ZUZpYmVyUHJvcHMoZG9tRWxlbWVudCwgcHJvcHMpO1xuICAgIHJldHVybiBkb21FbGVtZW50O1xuICB9LFxuICBhcHBlbmRJbml0aWFsQ2hpbGQ6IGZ1bmN0aW9uIChwYXJlbnRJbnN0YW5jZSwgY2hpbGQpIHtcbiAgICBwYXJlbnRJbnN0YW5jZS5hcHBlbmRDaGlsZChjaGlsZCk7XG4gIH0sXG4gIGZpbmFsaXplSW5pdGlhbENoaWxkcmVuOiBmdW5jdGlvbiAoZG9tRWxlbWVudCwgdHlwZSwgcHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSkge1xuICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKGRvbUVsZW1lbnQsIHR5cGUsIHByb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UpO1xuICAgIHJldHVybiBzaG91bGRBdXRvRm9jdXNIb3N0Q29tcG9uZW50KHR5cGUsIHByb3BzKTtcbiAgfSxcbiAgcHJlcGFyZVVwZGF0ZTogZnVuY3Rpb24gKGRvbUVsZW1lbnQsIHR5cGUsIG9sZFByb3BzLCBuZXdQcm9wcywgcm9vdENvbnRhaW5lckluc3RhbmNlLCBob3N0Q29udGV4dCkge1xuICAgIHtcbiAgICAgIHZhciBob3N0Q29udGV4dERldiA9IGhvc3RDb250ZXh0O1xuICAgICAgaWYgKHR5cGVvZiBuZXdQcm9wcy5jaGlsZHJlbiAhPT0gdHlwZW9mIG9sZFByb3BzLmNoaWxkcmVuICYmICh0eXBlb2YgbmV3UHJvcHMuY2hpbGRyZW4gPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBuZXdQcm9wcy5jaGlsZHJlbiA9PT0gJ251bWJlcicpKSB7XG4gICAgICAgIHZhciBzdHJpbmcgPSAnJyArIG5ld1Byb3BzLmNoaWxkcmVuO1xuICAgICAgICB2YXIgb3duQW5jZXN0b3JJbmZvID0gdXBkYXRlZEFuY2VzdG9ySW5mbyhob3N0Q29udGV4dERldi5hbmNlc3RvckluZm8sIHR5cGUsIG51bGwpO1xuICAgICAgICB2YWxpZGF0ZURPTU5lc3RpbmckMShudWxsLCBzdHJpbmcsIG93bkFuY2VzdG9ySW5mbyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkaWZmUHJvcGVydGllcyhkb21FbGVtZW50LCB0eXBlLCBvbGRQcm9wcywgbmV3UHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSk7XG4gIH0sXG4gIHNob3VsZFNldFRleHRDb250ZW50OiBmdW5jdGlvbiAodHlwZSwgcHJvcHMpIHtcbiAgICByZXR1cm4gdHlwZSA9PT0gJ3RleHRhcmVhJyB8fCB0eXBlb2YgcHJvcHMuY2hpbGRyZW4gPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBwcm9wcy5jaGlsZHJlbiA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MID09PSAnb2JqZWN0JyAmJiBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCAhPT0gbnVsbCAmJiB0eXBlb2YgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwuX19odG1sID09PSAnc3RyaW5nJztcbiAgfSxcbiAgc2hvdWxkRGVwcmlvcml0aXplU3VidHJlZTogZnVuY3Rpb24gKHR5cGUsIHByb3BzKSB7XG4gICAgcmV0dXJuICEhcHJvcHMuaGlkZGVuO1xuICB9LFxuICBjcmVhdGVUZXh0SW5zdGFuY2U6IGZ1bmN0aW9uICh0ZXh0LCByb290Q29udGFpbmVySW5zdGFuY2UsIGhvc3RDb250ZXh0LCBpbnRlcm5hbEluc3RhbmNlSGFuZGxlKSB7XG4gICAge1xuICAgICAgdmFyIGhvc3RDb250ZXh0RGV2ID0gaG9zdENvbnRleHQ7XG4gICAgICB2YWxpZGF0ZURPTU5lc3RpbmckMShudWxsLCB0ZXh0LCBob3N0Q29udGV4dERldi5hbmNlc3RvckluZm8pO1xuICAgIH1cbiAgICB2YXIgdGV4dE5vZGUgPSBjcmVhdGVUZXh0Tm9kZSh0ZXh0LCByb290Q29udGFpbmVySW5zdGFuY2UpO1xuICAgIHByZWNhY2hlRmliZXJOb2RlKGludGVybmFsSW5zdGFuY2VIYW5kbGUsIHRleHROb2RlKTtcbiAgICByZXR1cm4gdGV4dE5vZGU7XG4gIH0sXG5cblxuICBub3c6IG5vdyxcblxuICBtdXRhdGlvbjoge1xuICAgIGNvbW1pdE1vdW50OiBmdW5jdGlvbiAoZG9tRWxlbWVudCwgdHlwZSwgbmV3UHJvcHMsIGludGVybmFsSW5zdGFuY2VIYW5kbGUpIHtcbiAgICAgIC8vIERlc3BpdGUgdGhlIG5hbWluZyB0aGF0IG1pZ2h0IGltcGx5IG90aGVyd2lzZSwgdGhpcyBtZXRob2Qgb25seVxuICAgICAgLy8gZmlyZXMgaWYgdGhlcmUgaXMgYW4gYFVwZGF0ZWAgZWZmZWN0IHNjaGVkdWxlZCBkdXJpbmcgbW91bnRpbmcuXG4gICAgICAvLyBUaGlzIGhhcHBlbnMgaWYgYGZpbmFsaXplSW5pdGlhbENoaWxkcmVuYCByZXR1cm5zIGB0cnVlYCAod2hpY2ggaXRcbiAgICAgIC8vIGRvZXMgdG8gaW1wbGVtZW50IHRoZSBgYXV0b0ZvY3VzYCBhdHRyaWJ1dGUgb24gdGhlIGNsaWVudCkuIEJ1dFxuICAgICAgLy8gdGhlcmUgYXJlIGFsc28gb3RoZXIgY2FzZXMgd2hlbiB0aGlzIG1pZ2h0IGhhcHBlbiAoc3VjaCBhcyBwYXRjaGluZ1xuICAgICAgLy8gdXAgdGV4dCBjb250ZW50IGR1cmluZyBoeWRyYXRpb24gbWlzbWF0Y2gpLiBTbyB3ZSdsbCBjaGVjayB0aGlzIGFnYWluLlxuICAgICAgaWYgKHNob3VsZEF1dG9Gb2N1c0hvc3RDb21wb25lbnQodHlwZSwgbmV3UHJvcHMpKSB7XG4gICAgICAgIGRvbUVsZW1lbnQuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNvbW1pdFVwZGF0ZTogZnVuY3Rpb24gKGRvbUVsZW1lbnQsIHVwZGF0ZVBheWxvYWQsIHR5cGUsIG9sZFByb3BzLCBuZXdQcm9wcywgaW50ZXJuYWxJbnN0YW5jZUhhbmRsZSkge1xuICAgICAgLy8gVXBkYXRlIHRoZSBwcm9wcyBoYW5kbGUgc28gdGhhdCB3ZSBrbm93IHdoaWNoIHByb3BzIGFyZSB0aGUgb25lcyB3aXRoXG4gICAgICAvLyB3aXRoIGN1cnJlbnQgZXZlbnQgaGFuZGxlcnMuXG4gICAgICB1cGRhdGVGaWJlclByb3BzKGRvbUVsZW1lbnQsIG5ld1Byb3BzKTtcbiAgICAgIC8vIEFwcGx5IHRoZSBkaWZmIHRvIHRoZSBET00gbm9kZS5cbiAgICAgIHVwZGF0ZVByb3BlcnRpZXMoZG9tRWxlbWVudCwgdXBkYXRlUGF5bG9hZCwgdHlwZSwgb2xkUHJvcHMsIG5ld1Byb3BzKTtcbiAgICB9LFxuICAgIHJlc2V0VGV4dENvbnRlbnQ6IGZ1bmN0aW9uIChkb21FbGVtZW50KSB7XG4gICAgICBzZXRUZXh0Q29udGVudChkb21FbGVtZW50LCAnJyk7XG4gICAgfSxcbiAgICBjb21taXRUZXh0VXBkYXRlOiBmdW5jdGlvbiAodGV4dEluc3RhbmNlLCBvbGRUZXh0LCBuZXdUZXh0KSB7XG4gICAgICB0ZXh0SW5zdGFuY2Uubm9kZVZhbHVlID0gbmV3VGV4dDtcbiAgICB9LFxuICAgIGFwcGVuZENoaWxkOiBmdW5jdGlvbiAocGFyZW50SW5zdGFuY2UsIGNoaWxkKSB7XG4gICAgICBwYXJlbnRJbnN0YW5jZS5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgfSxcbiAgICBhcHBlbmRDaGlsZFRvQ29udGFpbmVyOiBmdW5jdGlvbiAoY29udGFpbmVyLCBjaGlsZCkge1xuICAgICAgaWYgKGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gQ09NTUVOVF9OT0RFKSB7XG4gICAgICAgIGNvbnRhaW5lci5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjaGlsZCwgY29udGFpbmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBpbnNlcnRCZWZvcmU6IGZ1bmN0aW9uIChwYXJlbnRJbnN0YW5jZSwgY2hpbGQsIGJlZm9yZUNoaWxkKSB7XG4gICAgICBwYXJlbnRJbnN0YW5jZS5pbnNlcnRCZWZvcmUoY2hpbGQsIGJlZm9yZUNoaWxkKTtcbiAgICB9LFxuICAgIGluc2VydEluQ29udGFpbmVyQmVmb3JlOiBmdW5jdGlvbiAoY29udGFpbmVyLCBjaGlsZCwgYmVmb3JlQ2hpbGQpIHtcbiAgICAgIGlmIChjb250YWluZXIubm9kZVR5cGUgPT09IENPTU1FTlRfTk9ERSkge1xuICAgICAgICBjb250YWluZXIucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoY2hpbGQsIGJlZm9yZUNoaWxkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUoY2hpbGQsIGJlZm9yZUNoaWxkKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZUNoaWxkOiBmdW5jdGlvbiAocGFyZW50SW5zdGFuY2UsIGNoaWxkKSB7XG4gICAgICBwYXJlbnRJbnN0YW5jZS5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgfSxcbiAgICByZW1vdmVDaGlsZEZyb21Db250YWluZXI6IGZ1bmN0aW9uIChjb250YWluZXIsIGNoaWxkKSB7XG4gICAgICBpZiAoY29udGFpbmVyLm5vZGVUeXBlID09PSBDT01NRU5UX05PREUpIHtcbiAgICAgICAgY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgaHlkcmF0aW9uOiB7XG4gICAgY2FuSHlkcmF0ZUluc3RhbmNlOiBmdW5jdGlvbiAoaW5zdGFuY2UsIHR5cGUsIHByb3BzKSB7XG4gICAgICBpZiAoaW5zdGFuY2Uubm9kZVR5cGUgIT09IEVMRU1FTlRfTk9ERSB8fCB0eXBlLnRvTG93ZXJDYXNlKCkgIT09IGluc3RhbmNlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICAvLyBUaGlzIGhhcyBub3cgYmVlbiByZWZpbmVkIHRvIGFuIGVsZW1lbnQgbm9kZS5cbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9LFxuICAgIGNhbkh5ZHJhdGVUZXh0SW5zdGFuY2U6IGZ1bmN0aW9uIChpbnN0YW5jZSwgdGV4dCkge1xuICAgICAgaWYgKHRleHQgPT09ICcnIHx8IGluc3RhbmNlLm5vZGVUeXBlICE9PSBURVhUX05PREUpIHtcbiAgICAgICAgLy8gRW1wdHkgc3RyaW5ncyBhcmUgbm90IHBhcnNlZCBieSBIVE1MIHNvIHRoZXJlIHdvbid0IGJlIGEgY29ycmVjdCBtYXRjaCBoZXJlLlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIC8vIFRoaXMgaGFzIG5vdyBiZWVuIHJlZmluZWQgdG8gYSB0ZXh0IG5vZGUuXG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfSxcbiAgICBnZXROZXh0SHlkcmF0YWJsZVNpYmxpbmc6IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgdmFyIG5vZGUgPSBpbnN0YW5jZS5uZXh0U2libGluZztcbiAgICAgIC8vIFNraXAgbm9uLWh5ZHJhdGFibGUgbm9kZXMuXG4gICAgICB3aGlsZSAobm9kZSAmJiBub2RlLm5vZGVUeXBlICE9PSBFTEVNRU5UX05PREUgJiYgbm9kZS5ub2RlVHlwZSAhPT0gVEVYVF9OT0RFKSB7XG4gICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSxcbiAgICBnZXRGaXJzdEh5ZHJhdGFibGVDaGlsZDogZnVuY3Rpb24gKHBhcmVudEluc3RhbmNlKSB7XG4gICAgICB2YXIgbmV4dCA9IHBhcmVudEluc3RhbmNlLmZpcnN0Q2hpbGQ7XG4gICAgICAvLyBTa2lwIG5vbi1oeWRyYXRhYmxlIG5vZGVzLlxuICAgICAgd2hpbGUgKG5leHQgJiYgbmV4dC5ub2RlVHlwZSAhPT0gRUxFTUVOVF9OT0RFICYmIG5leHQubm9kZVR5cGUgIT09IFRFWFRfTk9ERSkge1xuICAgICAgICBuZXh0ID0gbmV4dC5uZXh0U2libGluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH0sXG4gICAgaHlkcmF0ZUluc3RhbmNlOiBmdW5jdGlvbiAoaW5zdGFuY2UsIHR5cGUsIHByb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UsIGhvc3RDb250ZXh0LCBpbnRlcm5hbEluc3RhbmNlSGFuZGxlKSB7XG4gICAgICBwcmVjYWNoZUZpYmVyTm9kZShpbnRlcm5hbEluc3RhbmNlSGFuZGxlLCBpbnN0YW5jZSk7XG4gICAgICAvLyBUT0RPOiBQb3NzaWJseSBkZWZlciB0aGlzIHVudGlsIHRoZSBjb21taXQgcGhhc2Ugd2hlcmUgYWxsIHRoZSBldmVudHNcbiAgICAgIC8vIGdldCBhdHRhY2hlZC5cbiAgICAgIHVwZGF0ZUZpYmVyUHJvcHMoaW5zdGFuY2UsIHByb3BzKTtcbiAgICAgIHZhciBwYXJlbnROYW1lc3BhY2UgPSB2b2lkIDA7XG4gICAgICB7XG4gICAgICAgIHZhciBob3N0Q29udGV4dERldiA9IGhvc3RDb250ZXh0O1xuICAgICAgICBwYXJlbnROYW1lc3BhY2UgPSBob3N0Q29udGV4dERldi5uYW1lc3BhY2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGlmZkh5ZHJhdGVkUHJvcGVydGllcyhpbnN0YW5jZSwgdHlwZSwgcHJvcHMsIHBhcmVudE5hbWVzcGFjZSwgcm9vdENvbnRhaW5lckluc3RhbmNlKTtcbiAgICB9LFxuICAgIGh5ZHJhdGVUZXh0SW5zdGFuY2U6IGZ1bmN0aW9uICh0ZXh0SW5zdGFuY2UsIHRleHQsIGludGVybmFsSW5zdGFuY2VIYW5kbGUpIHtcbiAgICAgIHByZWNhY2hlRmliZXJOb2RlKGludGVybmFsSW5zdGFuY2VIYW5kbGUsIHRleHRJbnN0YW5jZSk7XG4gICAgICByZXR1cm4gZGlmZkh5ZHJhdGVkVGV4dCh0ZXh0SW5zdGFuY2UsIHRleHQpO1xuICAgIH0sXG4gICAgZGlkTm90TWF0Y2hIeWRyYXRlZENvbnRhaW5lclRleHRJbnN0YW5jZTogZnVuY3Rpb24gKHBhcmVudENvbnRhaW5lciwgdGV4dEluc3RhbmNlLCB0ZXh0KSB7XG4gICAgICB7XG4gICAgICAgIHdhcm5Gb3JVbm1hdGNoZWRUZXh0KHRleHRJbnN0YW5jZSwgdGV4dCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkaWROb3RNYXRjaEh5ZHJhdGVkVGV4dEluc3RhbmNlOiBmdW5jdGlvbiAocGFyZW50VHlwZSwgcGFyZW50UHJvcHMsIHBhcmVudEluc3RhbmNlLCB0ZXh0SW5zdGFuY2UsIHRleHQpIHtcbiAgICAgIGlmICh0cnVlICYmIHBhcmVudFByb3BzW1NVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HXSAhPT0gdHJ1ZSkge1xuICAgICAgICB3YXJuRm9yVW5tYXRjaGVkVGV4dCh0ZXh0SW5zdGFuY2UsIHRleHQpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZGlkTm90SHlkcmF0ZUNvbnRhaW5lckluc3RhbmNlOiBmdW5jdGlvbiAocGFyZW50Q29udGFpbmVyLCBpbnN0YW5jZSkge1xuICAgICAge1xuICAgICAgICBpZiAoaW5zdGFuY2Uubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICB3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVFbGVtZW50KHBhcmVudENvbnRhaW5lciwgaW5zdGFuY2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZVRleHQocGFyZW50Q29udGFpbmVyLCBpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGRpZE5vdEh5ZHJhdGVJbnN0YW5jZTogZnVuY3Rpb24gKHBhcmVudFR5cGUsIHBhcmVudFByb3BzLCBwYXJlbnRJbnN0YW5jZSwgaW5zdGFuY2UpIHtcbiAgICAgIGlmICh0cnVlICYmIHBhcmVudFByb3BzW1NVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HXSAhPT0gdHJ1ZSkge1xuICAgICAgICBpZiAoaW5zdGFuY2Uubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICB3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVFbGVtZW50KHBhcmVudEluc3RhbmNlLCBpbnN0YW5jZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlVGV4dChwYXJlbnRJbnN0YW5jZSwgaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBkaWROb3RGaW5kSHlkcmF0YWJsZUNvbnRhaW5lckluc3RhbmNlOiBmdW5jdGlvbiAocGFyZW50Q29udGFpbmVyLCB0eXBlLCBwcm9wcykge1xuICAgICAge1xuICAgICAgICB3YXJuRm9ySW5zZXJ0ZWRIeWRyYXRlZEVsZW1lbnQocGFyZW50Q29udGFpbmVyLCB0eXBlLCBwcm9wcyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkaWROb3RGaW5kSHlkcmF0YWJsZUNvbnRhaW5lclRleHRJbnN0YW5jZTogZnVuY3Rpb24gKHBhcmVudENvbnRhaW5lciwgdGV4dCkge1xuICAgICAge1xuICAgICAgICB3YXJuRm9ySW5zZXJ0ZWRIeWRyYXRlZFRleHQocGFyZW50Q29udGFpbmVyLCB0ZXh0KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGRpZE5vdEZpbmRIeWRyYXRhYmxlSW5zdGFuY2U6IGZ1bmN0aW9uIChwYXJlbnRUeXBlLCBwYXJlbnRQcm9wcywgcGFyZW50SW5zdGFuY2UsIHR5cGUsIHByb3BzKSB7XG4gICAgICBpZiAodHJ1ZSAmJiBwYXJlbnRQcm9wc1tTVVBQUkVTU19IWURSQVRJT05fV0FSTklOR10gIT09IHRydWUpIHtcbiAgICAgICAgd2FybkZvckluc2VydGVkSHlkcmF0ZWRFbGVtZW50KHBhcmVudEluc3RhbmNlLCB0eXBlLCBwcm9wcyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkaWROb3RGaW5kSHlkcmF0YWJsZVRleHRJbnN0YW5jZTogZnVuY3Rpb24gKHBhcmVudFR5cGUsIHBhcmVudFByb3BzLCBwYXJlbnRJbnN0YW5jZSwgdGV4dCkge1xuICAgICAgaWYgKHRydWUgJiYgcGFyZW50UHJvcHNbU1VQUFJFU1NfSFlEUkFUSU9OX1dBUk5JTkddICE9PSB0cnVlKSB7XG4gICAgICAgIHdhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkVGV4dChwYXJlbnRJbnN0YW5jZSwgdGV4dCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIHNjaGVkdWxlRGVmZXJyZWRDYWxsYmFjazogcklDLFxuICBjYW5jZWxEZWZlcnJlZENhbGxiYWNrOiBjSUNcbn0pO1xuXG5pbmplY3Rpb24kMy5pbmplY3RSZW5kZXJlcihET01SZW5kZXJlcik7XG5cbnZhciB3YXJuZWRBYm91dEh5ZHJhdGVBUEkgPSBmYWxzZTtcblxuZnVuY3Rpb24gbGVnYWN5Q3JlYXRlUm9vdEZyb21ET01Db250YWluZXIoY29udGFpbmVyLCBmb3JjZUh5ZHJhdGUpIHtcbiAgdmFyIHNob3VsZEh5ZHJhdGUgPSBmb3JjZUh5ZHJhdGUgfHwgc2hvdWxkSHlkcmF0ZUR1ZVRvTGVnYWN5SGV1cmlzdGljKGNvbnRhaW5lcik7XG4gIC8vIEZpcnN0IGNsZWFyIGFueSBleGlzdGluZyBjb250ZW50LlxuICBpZiAoIXNob3VsZEh5ZHJhdGUpIHtcbiAgICB2YXIgd2FybmVkID0gZmFsc2U7XG4gICAgdmFyIHJvb3RTaWJsaW5nID0gdm9pZCAwO1xuICAgIHdoaWxlIChyb290U2libGluZyA9IGNvbnRhaW5lci5sYXN0Q2hpbGQpIHtcbiAgICAgIHtcbiAgICAgICAgaWYgKCF3YXJuZWQgJiYgcm9vdFNpYmxpbmcubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSAmJiByb290U2libGluZy5oYXNBdHRyaWJ1dGUoUk9PVF9BVFRSSUJVVEVfTkFNRSkpIHtcbiAgICAgICAgICB3YXJuZWQgPSB0cnVlO1xuICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICdyZW5kZXIoKTogVGFyZ2V0IG5vZGUgaGFzIG1hcmt1cCByZW5kZXJlZCBieSBSZWFjdCwgYnV0IHRoZXJlICcgKyAnYXJlIHVucmVsYXRlZCBub2RlcyBhcyB3ZWxsLiBUaGlzIGlzIG1vc3QgY29tbW9ubHkgY2F1c2VkIGJ5ICcgKyAnd2hpdGUtc3BhY2UgaW5zZXJ0ZWQgYXJvdW5kIHNlcnZlci1yZW5kZXJlZCBtYXJrdXAuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChyb290U2libGluZyk7XG4gICAgfVxuICB9XG4gIHtcbiAgICBpZiAoc2hvdWxkSHlkcmF0ZSAmJiAhZm9yY2VIeWRyYXRlICYmICF3YXJuZWRBYm91dEh5ZHJhdGVBUEkpIHtcbiAgICAgIHdhcm5lZEFib3V0SHlkcmF0ZUFQSSA9IHRydWU7XG4gICAgICBsb3dQcmlvcml0eVdhcm5pbmckMShmYWxzZSwgJ3JlbmRlcigpOiBDYWxsaW5nIFJlYWN0RE9NLnJlbmRlcigpIHRvIGh5ZHJhdGUgc2VydmVyLXJlbmRlcmVkIG1hcmt1cCAnICsgJ3dpbGwgc3RvcCB3b3JraW5nIGluIFJlYWN0IHYxNy4gUmVwbGFjZSB0aGUgUmVhY3RET00ucmVuZGVyKCkgY2FsbCAnICsgJ3dpdGggUmVhY3RET00uaHlkcmF0ZSgpIGlmIHlvdSB3YW50IFJlYWN0IHRvIGF0dGFjaCB0byB0aGUgc2VydmVyIEhUTUwuJyk7XG4gICAgfVxuICB9XG4gIC8vIExlZ2FjeSByb290cyBhcmUgbm90IGFzeW5jIGJ5IGRlZmF1bHQuXG4gIHZhciBpc0FzeW5jID0gZmFsc2U7XG4gIHJldHVybiBuZXcgUmVhY3RSb290KGNvbnRhaW5lciwgaXNBc3luYywgc2hvdWxkSHlkcmF0ZSk7XG59XG5cbmZ1bmN0aW9uIGxlZ2FjeVJlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyKHBhcmVudENvbXBvbmVudCwgY2hpbGRyZW4sIGNvbnRhaW5lciwgZm9yY2VIeWRyYXRlLCBjYWxsYmFjaykge1xuICAvLyBUT0RPOiBFbnN1cmUgYWxsIGVudHJ5IHBvaW50cyBjb250YWluIHRoaXMgY2hlY2tcbiAgIWlzVmFsaWRDb250YWluZXIoY29udGFpbmVyKSA/IGludmFyaWFudChmYWxzZSwgJ1RhcmdldCBjb250YWluZXIgaXMgbm90IGEgRE9NIGVsZW1lbnQuJykgOiB2b2lkIDA7XG5cbiAge1xuICAgIHRvcExldmVsVXBkYXRlV2FybmluZ3MoY29udGFpbmVyKTtcbiAgfVxuXG4gIC8vIFRPRE86IFdpdGhvdXQgYGFueWAgdHlwZSwgRmxvdyBzYXlzIFwiUHJvcGVydHkgY2Fubm90IGJlIGFjY2Vzc2VkIG9uIGFueVxuICAvLyBtZW1iZXIgb2YgaW50ZXJzZWN0aW9uIHR5cGUuXCIgV2h5eXl5eXkuXG4gIHZhciByb290ID0gY29udGFpbmVyLl9yZWFjdFJvb3RDb250YWluZXI7XG4gIGlmICghcm9vdCkge1xuICAgIC8vIEluaXRpYWwgbW91bnRcbiAgICByb290ID0gY29udGFpbmVyLl9yZWFjdFJvb3RDb250YWluZXIgPSBsZWdhY3lDcmVhdGVSb290RnJvbURPTUNvbnRhaW5lcihjb250YWluZXIsIGZvcmNlSHlkcmF0ZSk7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFyIG9yaWdpbmFsQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBET01SZW5kZXJlci5nZXRQdWJsaWNSb290SW5zdGFuY2Uocm9vdC5faW50ZXJuYWxSb290KTtcbiAgICAgICAgb3JpZ2luYWxDYWxsYmFjay5jYWxsKGluc3RhbmNlKTtcbiAgICAgIH07XG4gICAgfVxuICAgIC8vIEluaXRpYWwgbW91bnQgc2hvdWxkIG5vdCBiZSBiYXRjaGVkLlxuICAgIERPTVJlbmRlcmVyLnVuYmF0Y2hlZFVwZGF0ZXMoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHBhcmVudENvbXBvbmVudCAhPSBudWxsKSB7XG4gICAgICAgIHJvb3QubGVnYWN5X3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyKHBhcmVudENvbXBvbmVudCwgY2hpbGRyZW4sIGNhbGxiYWNrKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJvb3QucmVuZGVyKGNoaWxkcmVuLCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFyIF9vcmlnaW5hbENhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gRE9NUmVuZGVyZXIuZ2V0UHVibGljUm9vdEluc3RhbmNlKHJvb3QuX2ludGVybmFsUm9vdCk7XG4gICAgICAgIF9vcmlnaW5hbENhbGxiYWNrLmNhbGwoaW5zdGFuY2UpO1xuICAgICAgfTtcbiAgICB9XG4gICAgLy8gVXBkYXRlXG4gICAgaWYgKHBhcmVudENvbXBvbmVudCAhPSBudWxsKSB7XG4gICAgICByb290LmxlZ2FjeV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcihwYXJlbnRDb21wb25lbnQsIGNoaWxkcmVuLCBjYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJvb3QucmVuZGVyKGNoaWxkcmVuLCBjYWxsYmFjayk7XG4gICAgfVxuICB9XG4gIHJldHVybiBET01SZW5kZXJlci5nZXRQdWJsaWNSb290SW5zdGFuY2Uocm9vdC5faW50ZXJuYWxSb290KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUG9ydGFsKGNoaWxkcmVuLCBjb250YWluZXIpIHtcbiAgdmFyIGtleSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogbnVsbDtcblxuICAhaXNWYWxpZENvbnRhaW5lcihjb250YWluZXIpID8gaW52YXJpYW50KGZhbHNlLCAnVGFyZ2V0IGNvbnRhaW5lciBpcyBub3QgYSBET00gZWxlbWVudC4nKSA6IHZvaWQgMDtcbiAgLy8gVE9ETzogcGFzcyBSZWFjdERPTSBwb3J0YWwgaW1wbGVtZW50YXRpb24gYXMgdGhpcmQgYXJndW1lbnRcbiAgcmV0dXJuIGNyZWF0ZVBvcnRhbCQxKGNoaWxkcmVuLCBjb250YWluZXIsIG51bGwsIGtleSk7XG59XG5cbnZhciBSZWFjdERPTSA9IHtcbiAgY3JlYXRlUG9ydGFsOiBjcmVhdGVQb3J0YWwsXG5cbiAgZmluZERPTU5vZGU6IGZ1bmN0aW9uIChjb21wb25lbnRPckVsZW1lbnQpIHtcbiAgICB7XG4gICAgICB2YXIgb3duZXIgPSBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50O1xuICAgICAgaWYgKG93bmVyICE9PSBudWxsICYmIG93bmVyLnN0YXRlTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgd2FybmVkQWJvdXRSZWZzSW5SZW5kZXIgPSBvd25lci5zdGF0ZU5vZGUuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyO1xuICAgICAgICB3YXJuaW5nKHdhcm5lZEFib3V0UmVmc0luUmVuZGVyLCAnJXMgaXMgYWNjZXNzaW5nIGZpbmRET01Ob2RlIGluc2lkZSBpdHMgcmVuZGVyKCkuICcgKyAncmVuZGVyKCkgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGUuIEl0IHNob3VsZCAnICsgJ25ldmVyIGFjY2VzcyBzb21ldGhpbmcgdGhhdCByZXF1aXJlcyBzdGFsZSBkYXRhIGZyb20gdGhlIHByZXZpb3VzICcgKyAncmVuZGVyLCBzdWNoIGFzIHJlZnMuIE1vdmUgdGhpcyBsb2dpYyB0byBjb21wb25lbnREaWRNb3VudCBhbmQgJyArICdjb21wb25lbnREaWRVcGRhdGUgaW5zdGVhZC4nLCBnZXRDb21wb25lbnROYW1lKG93bmVyKSB8fCAnQSBjb21wb25lbnQnKTtcbiAgICAgICAgb3duZXIuc3RhdGVOb2RlLl93YXJuZWRBYm91dFJlZnNJblJlbmRlciA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjb21wb25lbnRPckVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChjb21wb25lbnRPckVsZW1lbnQubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSkge1xuICAgICAgcmV0dXJuIGNvbXBvbmVudE9yRWxlbWVudDtcbiAgICB9XG5cbiAgICB2YXIgaW5zdCA9IGdldChjb21wb25lbnRPckVsZW1lbnQpO1xuICAgIGlmIChpbnN0KSB7XG4gICAgICByZXR1cm4gRE9NUmVuZGVyZXIuZmluZEhvc3RJbnN0YW5jZShpbnN0KTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGNvbXBvbmVudE9yRWxlbWVudC5yZW5kZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGludmFyaWFudChmYWxzZSwgJ1VuYWJsZSB0byBmaW5kIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW52YXJpYW50KGZhbHNlLCAnRWxlbWVudCBhcHBlYXJzIHRvIGJlIG5laXRoZXIgUmVhY3RDb21wb25lbnQgbm9yIERPTU5vZGUuIEtleXM6ICVzJywgT2JqZWN0LmtleXMoY29tcG9uZW50T3JFbGVtZW50KSk7XG4gICAgfVxuICB9LFxuICBoeWRyYXRlOiBmdW5jdGlvbiAoZWxlbWVudCwgY29udGFpbmVyLCBjYWxsYmFjaykge1xuICAgIC8vIFRPRE86IHRocm93IG9yIHdhcm4gaWYgd2UgY291bGRuJ3QgaHlkcmF0ZT9cbiAgICByZXR1cm4gbGVnYWN5UmVuZGVyU3VidHJlZUludG9Db250YWluZXIobnVsbCwgZWxlbWVudCwgY29udGFpbmVyLCB0cnVlLCBjYWxsYmFjayk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gKGVsZW1lbnQsIGNvbnRhaW5lciwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gbGVnYWN5UmVuZGVyU3VidHJlZUludG9Db250YWluZXIobnVsbCwgZWxlbWVudCwgY29udGFpbmVyLCBmYWxzZSwgY2FsbGJhY2spO1xuICB9LFxuICB1bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcjogZnVuY3Rpb24gKHBhcmVudENvbXBvbmVudCwgZWxlbWVudCwgY29udGFpbmVyTm9kZSwgY2FsbGJhY2spIHtcbiAgICAhKHBhcmVudENvbXBvbmVudCAhPSBudWxsICYmIGhhcyhwYXJlbnRDb21wb25lbnQpKSA/IGludmFyaWFudChmYWxzZSwgJ3BhcmVudENvbXBvbmVudCBtdXN0IGJlIGEgdmFsaWQgUmVhY3QgQ29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgcmV0dXJuIGxlZ2FjeVJlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyKHBhcmVudENvbXBvbmVudCwgZWxlbWVudCwgY29udGFpbmVyTm9kZSwgZmFsc2UsIGNhbGxiYWNrKTtcbiAgfSxcbiAgdW5tb3VudENvbXBvbmVudEF0Tm9kZTogZnVuY3Rpb24gKGNvbnRhaW5lcikge1xuICAgICFpc1ZhbGlkQ29udGFpbmVyKGNvbnRhaW5lcikgPyBpbnZhcmlhbnQoZmFsc2UsICd1bm1vdW50Q29tcG9uZW50QXROb2RlKC4uLik6IFRhcmdldCBjb250YWluZXIgaXMgbm90IGEgRE9NIGVsZW1lbnQuJykgOiB2b2lkIDA7XG5cbiAgICBpZiAoY29udGFpbmVyLl9yZWFjdFJvb3RDb250YWluZXIpIHtcbiAgICAgIHtcbiAgICAgICAgdmFyIHJvb3RFbCA9IGdldFJlYWN0Um9vdEVsZW1lbnRJbkNvbnRhaW5lcihjb250YWluZXIpO1xuICAgICAgICB2YXIgcmVuZGVyZWRCeURpZmZlcmVudFJlYWN0ID0gcm9vdEVsICYmICFnZXRJbnN0YW5jZUZyb21Ob2RlJDEocm9vdEVsKTtcbiAgICAgICAgd2FybmluZyghcmVuZGVyZWRCeURpZmZlcmVudFJlYWN0LCBcInVubW91bnRDb21wb25lbnRBdE5vZGUoKTogVGhlIG5vZGUgeW91J3JlIGF0dGVtcHRpbmcgdG8gdW5tb3VudCBcIiArICd3YXMgcmVuZGVyZWQgYnkgYW5vdGhlciBjb3B5IG9mIFJlYWN0LicpO1xuICAgICAgfVxuXG4gICAgICAvLyBVbm1vdW50IHNob3VsZCBub3QgYmUgYmF0Y2hlZC5cbiAgICAgIERPTVJlbmRlcmVyLnVuYmF0Y2hlZFVwZGF0ZXMoZnVuY3Rpb24gKCkge1xuICAgICAgICBsZWdhY3lSZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcihudWxsLCBudWxsLCBjb250YWluZXIsIGZhbHNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29udGFpbmVyLl9yZWFjdFJvb3RDb250YWluZXIgPSBudWxsO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgLy8gSWYgeW91IGNhbGwgdW5tb3VudENvbXBvbmVudEF0Tm9kZSB0d2ljZSBpbiBxdWljayBzdWNjZXNzaW9uLCB5b3UnbGxcbiAgICAgIC8vIGdldCBgdHJ1ZWAgdHdpY2UuIFRoYXQncyBwcm9iYWJseSBmaW5lP1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHtcbiAgICAgICAgdmFyIF9yb290RWwgPSBnZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXIoY29udGFpbmVyKTtcbiAgICAgICAgdmFyIGhhc05vblJvb3RSZWFjdENoaWxkID0gISEoX3Jvb3RFbCAmJiBnZXRJbnN0YW5jZUZyb21Ob2RlJDEoX3Jvb3RFbCkpO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBjb250YWluZXIgaXRzZWxmIGlzIGEgUmVhY3Qgcm9vdCBub2RlLlxuICAgICAgICB2YXIgaXNDb250YWluZXJSZWFjdFJvb3QgPSBjb250YWluZXIubm9kZVR5cGUgPT09IDEgJiYgaXNWYWxpZENvbnRhaW5lcihjb250YWluZXIucGFyZW50Tm9kZSkgJiYgISFjb250YWluZXIucGFyZW50Tm9kZS5fcmVhY3RSb290Q29udGFpbmVyO1xuXG4gICAgICAgIHdhcm5pbmcoIWhhc05vblJvb3RSZWFjdENoaWxkLCBcInVubW91bnRDb21wb25lbnRBdE5vZGUoKTogVGhlIG5vZGUgeW91J3JlIGF0dGVtcHRpbmcgdG8gdW5tb3VudCBcIiArICd3YXMgcmVuZGVyZWQgYnkgUmVhY3QgYW5kIGlzIG5vdCBhIHRvcC1sZXZlbCBjb250YWluZXIuICVzJywgaXNDb250YWluZXJSZWFjdFJvb3QgPyAnWW91IG1heSBoYXZlIGFjY2lkZW50YWxseSBwYXNzZWQgaW4gYSBSZWFjdCByb290IG5vZGUgaW5zdGVhZCAnICsgJ29mIGl0cyBjb250YWluZXIuJyA6ICdJbnN0ZWFkLCBoYXZlIHRoZSBwYXJlbnQgY29tcG9uZW50IHVwZGF0ZSBpdHMgc3RhdGUgYW5kICcgKyAncmVyZW5kZXIgaW4gb3JkZXIgdG8gcmVtb3ZlIHRoaXMgY29tcG9uZW50LicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuXG5cbiAgLy8gVGVtcG9yYXJ5IGFsaWFzIHNpbmNlIHdlIGFscmVhZHkgc2hpcHBlZCBSZWFjdCAxNiBSQyB3aXRoIGl0LlxuICAvLyBUT0RPOiByZW1vdmUgaW4gUmVhY3QgMTcuXG4gIHVuc3RhYmxlX2NyZWF0ZVBvcnRhbDogZnVuY3Rpb24gKCkge1xuICAgIGlmICghZGlkV2FybkFib3V0VW5zdGFibGVDcmVhdGVQb3J0YWwpIHtcbiAgICAgIGRpZFdhcm5BYm91dFVuc3RhYmxlQ3JlYXRlUG9ydGFsID0gdHJ1ZTtcbiAgICAgIGxvd1ByaW9yaXR5V2FybmluZyQxKGZhbHNlLCAnVGhlIFJlYWN0RE9NLnVuc3RhYmxlX2NyZWF0ZVBvcnRhbCgpIGFsaWFzIGhhcyBiZWVuIGRlcHJlY2F0ZWQsICcgKyAnYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBSZWFjdCAxNysuIFVwZGF0ZSB5b3VyIGNvZGUgdG8gdXNlICcgKyAnUmVhY3RET00uY3JlYXRlUG9ydGFsKCkgaW5zdGVhZC4gSXQgaGFzIHRoZSBleGFjdCBzYW1lIEFQSSwgJyArICdidXQgd2l0aG91dCB0aGUgXCJ1bnN0YWJsZV9cIiBwcmVmaXguJyk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVQb3J0YWwuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICB9LFxuXG5cbiAgdW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXM6IERPTVJlbmRlcmVyLmJhdGNoZWRVcGRhdGVzLFxuXG4gIHVuc3RhYmxlX2RlZmVycmVkVXBkYXRlczogRE9NUmVuZGVyZXIuZGVmZXJyZWRVcGRhdGVzLFxuXG4gIGZsdXNoU3luYzogRE9NUmVuZGVyZXIuZmx1c2hTeW5jLFxuXG4gIHVuc3RhYmxlX2ZsdXNoQ29udHJvbGxlZDogRE9NUmVuZGVyZXIuZmx1c2hDb250cm9sbGVkLFxuXG4gIF9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEOiB7XG4gICAgLy8gRm9yIFRhcEV2ZW50UGx1Z2luIHdoaWNoIGlzIHBvcHVsYXIgaW4gb3BlbiBzb3VyY2VcbiAgICBFdmVudFBsdWdpbkh1YjogRXZlbnRQbHVnaW5IdWIsXG4gICAgLy8gVXNlZCBieSB0ZXN0LXV0aWxzXG4gICAgRXZlbnRQbHVnaW5SZWdpc3RyeTogRXZlbnRQbHVnaW5SZWdpc3RyeSxcbiAgICBFdmVudFByb3BhZ2F0b3JzOiBFdmVudFByb3BhZ2F0b3JzLFxuICAgIFJlYWN0Q29udHJvbGxlZENvbXBvbmVudDogUmVhY3RDb250cm9sbGVkQ29tcG9uZW50LFxuICAgIFJlYWN0RE9NQ29tcG9uZW50VHJlZTogUmVhY3RET01Db21wb25lbnRUcmVlLFxuICAgIFJlYWN0RE9NRXZlbnRMaXN0ZW5lcjogUmVhY3RET01FdmVudExpc3RlbmVyXG4gIH1cbn07XG5cblJlYWN0RE9NLnVuc3RhYmxlX2NyZWF0ZVJvb3QgPSBmdW5jdGlvbiBjcmVhdGVSb290KGNvbnRhaW5lciwgb3B0aW9ucykge1xuICB2YXIgaHlkcmF0ZSA9IG9wdGlvbnMgIT0gbnVsbCAmJiBvcHRpb25zLmh5ZHJhdGUgPT09IHRydWU7XG4gIHJldHVybiBuZXcgUmVhY3RSb290KGNvbnRhaW5lciwgdHJ1ZSwgaHlkcmF0ZSk7XG59O1xuXG52YXIgZm91bmREZXZUb29scyA9IERPTVJlbmRlcmVyLmluamVjdEludG9EZXZUb29scyh7XG4gIGZpbmRGaWJlckJ5SG9zdEluc3RhbmNlOiBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZSxcbiAgYnVuZGxlVHlwZTogMSxcbiAgdmVyc2lvbjogUmVhY3RWZXJzaW9uLFxuICByZW5kZXJlclBhY2thZ2VOYW1lOiAncmVhY3QtZG9tJ1xufSk7XG5cbntcbiAgaWYgKCFmb3VuZERldlRvb2xzICYmIEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiB3aW5kb3cudG9wID09PSB3aW5kb3cuc2VsZikge1xuICAgIC8vIElmIHdlJ3JlIGluIENocm9tZSBvciBGaXJlZm94LCBwcm92aWRlIGEgZG93bmxvYWQgbGluayBpZiBub3QgaW5zdGFsbGVkLlxuICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0Nocm9tZScpID4gLTEgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdFZGdlJykgPT09IC0xIHx8IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpID4gLTEpIHtcbiAgICAgIHZhciBwcm90b2NvbCA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbDtcbiAgICAgIC8vIERvbid0IHdhcm4gaW4gZXhvdGljIGNhc2VzIGxpa2UgY2hyb21lLWV4dGVuc2lvbjovLy5cbiAgICAgIGlmICgvXihodHRwcz98ZmlsZSk6JC8udGVzdChwcm90b2NvbCkpIHtcbiAgICAgICAgY29uc29sZS5pbmZvKCclY0Rvd25sb2FkIHRoZSBSZWFjdCBEZXZUb29scyAnICsgJ2ZvciBhIGJldHRlciBkZXZlbG9wbWVudCBleHBlcmllbmNlOiAnICsgJ2h0dHBzOi8vZmIubWUvcmVhY3QtZGV2dG9vbHMnICsgKHByb3RvY29sID09PSAnZmlsZTonID8gJ1xcbllvdSBtaWdodCBuZWVkIHRvIHVzZSBhIGxvY2FsIEhUVFAgc2VydmVyIChpbnN0ZWFkIG9mIGZpbGU6Ly8pOiAnICsgJ2h0dHBzOi8vZmIubWUvcmVhY3QtZGV2dG9vbHMtZmFxJyA6ICcnKSwgJ2ZvbnQtd2VpZ2h0OmJvbGQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuXG5cbnZhciBSZWFjdERPTSQyID0gT2JqZWN0LmZyZWV6ZSh7XG5cdGRlZmF1bHQ6IFJlYWN0RE9NXG59KTtcblxudmFyIFJlYWN0RE9NJDMgPSAoIFJlYWN0RE9NJDIgJiYgUmVhY3RET00gKSB8fCBSZWFjdERPTSQyO1xuXG4vLyBUT0RPOiBkZWNpZGUgb24gdGhlIHRvcC1sZXZlbCBleHBvcnQgZm9ybS5cbi8vIFRoaXMgaXMgaGFja3kgYnV0IG1ha2VzIGl0IHdvcmsgd2l0aCBib3RoIFJvbGx1cCBhbmQgSmVzdC5cbnZhciByZWFjdERvbSA9IFJlYWN0RE9NJDNbJ2RlZmF1bHQnXSA/IFJlYWN0RE9NJDNbJ2RlZmF1bHQnXSA6IFJlYWN0RE9NJDM7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVhY3REb207XG4gIH0pKCk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGNoZWNrRENFKCkge1xuICAvKiBnbG9iYWwgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICovXG4gIGlmIChcbiAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fID09PSAndW5kZWZpbmVkJyB8fFxuICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uY2hlY2tEQ0UgIT09ICdmdW5jdGlvbidcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgLy8gVGhpcyBicmFuY2ggaXMgdW5yZWFjaGFibGUgYmVjYXVzZSB0aGlzIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkXG4gICAgLy8gaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBjb25kaXRpb24gaXMgdHJ1ZSBvbmx5IGluIGRldmVsb3BtZW50LlxuICAgIC8vIFRoZXJlZm9yZSBpZiB0aGUgYnJhbmNoIGlzIHN0aWxsIGhlcmUsIGRlYWQgY29kZSBlbGltaW5hdGlvbiB3YXNuJ3RcbiAgICAvLyBwcm9wZXJseSBhcHBsaWVkLlxuICAgIC8vIERvbid0IGNoYW5nZSB0aGUgbWVzc2FnZS4gUmVhY3QgRGV2VG9vbHMgcmVsaWVzIG9uIGl0LiBBbHNvIG1ha2Ugc3VyZVxuICAgIC8vIHRoaXMgbWVzc2FnZSBkb2Vzbid0IG9jY3VyIGVsc2V3aGVyZSBpbiB0aGlzIGZ1bmN0aW9uLCBvciBpdCB3aWxsIGNhdXNlXG4gICAgLy8gYSBmYWxzZSBwb3NpdGl2ZS5cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ15fXicpO1xuICB9XG4gIHRyeSB7XG4gICAgLy8gVmVyaWZ5IHRoYXQgdGhlIGNvZGUgYWJvdmUgaGFzIGJlZW4gZGVhZCBjb2RlIGVsaW1pbmF0ZWQgKERDRSdkKS5cbiAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uY2hlY2tEQ0UoY2hlY2tEQ0UpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBEZXZUb29scyBzaG91bGRuJ3QgY3Jhc2ggUmVhY3QsIG5vIG1hdHRlciB3aGF0LlxuICAgIC8vIFdlIHNob3VsZCBzdGlsbCByZXBvcnQgaW4gY2FzZSB3ZSBicmVhayB0aGlzIGNvZGUuXG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9XG59XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIERDRSBjaGVjayBzaG91bGQgaGFwcGVuIGJlZm9yZSBSZWFjdERPTSBidW5kbGUgZXhlY3V0ZXMgc28gdGhhdFxuICAvLyBEZXZUb29scyBjYW4gcmVwb3J0IGJhZCBtaW5pZmljYXRpb24gZHVyaW5nIGluamVjdGlvbi5cbiAgY2hlY2tEQ0UoKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1kb20ucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtZG9tLmRldmVsb3BtZW50LmpzJyk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlc1NlY3JldDtcbiIsIi8qKiBAbGljZW5zZSBSZWFjdCB2MTYuMy4xXG4gKiByZWFjdC5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2Fzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcbnZhciBlbXB0eU9iamVjdCA9IHJlcXVpcmUoJ2ZianMvbGliL2VtcHR5T2JqZWN0Jyk7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG52YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbnZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlGdW5jdGlvbicpO1xudmFyIGNoZWNrUHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcy9jaGVja1Byb3BUeXBlcycpO1xuXG4vLyBUT0RPOiB0aGlzIGlzIHNwZWNpYWwgYmVjYXVzZSBpdCBnZXRzIGltcG9ydGVkIGR1cmluZyBidWlsZC5cblxudmFyIFJlYWN0VmVyc2lvbiA9ICcxNi4zLjEnO1xuXG4vLyBUaGUgU3ltYm9sIHVzZWQgdG8gdGFnIHRoZSBSZWFjdEVsZW1lbnQtbGlrZSB0eXBlcy4gSWYgdGhlcmUgaXMgbm8gbmF0aXZlIFN5bWJvbFxuLy8gbm9yIHBvbHlmaWxsLCB0aGVuIGEgcGxhaW4gbnVtYmVyIGlzIHVzZWQgZm9yIHBlcmZvcm1hbmNlLlxudmFyIGhhc1N5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sWydmb3InXTtcblxudmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbFsnZm9yJ10oJ3JlYWN0LmVsZW1lbnQnKSA6IDB4ZWFjNztcbnZhciBSRUFDVF9DQUxMX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbJ2ZvciddKCdyZWFjdC5jYWxsJykgOiAweGVhYzg7XG52YXIgUkVBQ1RfUkVUVVJOX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbJ2ZvciddKCdyZWFjdC5yZXR1cm4nKSA6IDB4ZWFjOTtcbnZhciBSRUFDVF9QT1JUQUxfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbFsnZm9yJ10oJ3JlYWN0LnBvcnRhbCcpIDogMHhlYWNhO1xudmFyIFJFQUNUX0ZSQUdNRU5UX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbJ2ZvciddKCdyZWFjdC5mcmFnbWVudCcpIDogMHhlYWNiO1xudmFyIFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbJ2ZvciddKCdyZWFjdC5zdHJpY3RfbW9kZScpIDogMHhlYWNjO1xudmFyIFJFQUNUX1BST1ZJREVSX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbJ2ZvciddKCdyZWFjdC5wcm92aWRlcicpIDogMHhlYWNkO1xudmFyIFJFQUNUX0NPTlRFWFRfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbFsnZm9yJ10oJ3JlYWN0LmNvbnRleHQnKSA6IDB4ZWFjZTtcbnZhciBSRUFDVF9BU1lOQ19NT0RFX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbJ2ZvciddKCdyZWFjdC5hc3luY19tb2RlJykgOiAweGVhY2Y7XG52YXIgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbFsnZm9yJ10oJ3JlYWN0LmZvcndhcmRfcmVmJykgOiAweGVhZDA7XG5cbnZhciBNQVlCRV9JVEVSQVRPUl9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5pdGVyYXRvcjtcbnZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJztcblxuZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKSB7XG4gIGlmIChtYXliZUl0ZXJhYmxlID09PSBudWxsIHx8IHR5cGVvZiBtYXliZUl0ZXJhYmxlID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBtYXliZUl0ZXJhdG9yID0gTUFZQkVfSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbTUFZQkVfSVRFUkFUT1JfU1lNQk9MXSB8fCBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXTtcbiAgaWYgKHR5cGVvZiBtYXliZUl0ZXJhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG1heWJlSXRlcmF0b3I7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogV0FSTklORzogRE8gTk9UIG1hbnVhbGx5IHJlcXVpcmUgdGhpcyBtb2R1bGUuXG4gKiBUaGlzIGlzIGEgcmVwbGFjZW1lbnQgZm9yIGBpbnZhcmlhbnQoLi4uKWAgdXNlZCBieSB0aGUgZXJyb3IgY29kZSBzeXN0ZW1cbiAqIGFuZCB3aWxsIF9vbmx5XyBiZSByZXF1aXJlZCBieSB0aGUgY29ycmVzcG9uZGluZyBiYWJlbCBwYXNzLlxuICogSXQgYWx3YXlzIHRocm93cy5cbiAqL1xuXG4vKipcbiAqIEZvcmtlZCBmcm9tIGZianMvd2FybmluZzpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mYmpzL2Jsb2IvZTY2YmEyMGFkNWJlNDMzZWI1NDQyM2YyYjA5N2Q4MjkzMjRkOWRlNi9wYWNrYWdlcy9mYmpzL3NyYy9fX2ZvcmtzX18vd2FybmluZy5qc1xuICpcbiAqIE9ubHkgY2hhbmdlIGlzIHdlIHVzZSBjb25zb2xlLndhcm4gaW5zdGVhZCBvZiBjb25zb2xlLmVycm9yLFxuICogYW5kIGRvIG5vdGhpbmcgd2hlbiAnY29uc29sZScgaXMgbm90IHN1cHBvcnRlZC5cbiAqIFRoaXMgcmVhbGx5IHNpbXBsaWZpZXMgdGhlIGNvZGUuXG4gKiAtLS1cbiAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcbiAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXG4gKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cbiAqL1xuXG52YXIgbG93UHJpb3JpdHlXYXJuaW5nID0gZnVuY3Rpb24gKCkge307XG5cbntcbiAgdmFyIHByaW50V2FybmluZyA9IGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICB9KTtcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXG4gICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH07XG5cbiAgbG93UHJpb3JpdHlXYXJuaW5nID0gZnVuY3Rpb24gKGNvbmRpdGlvbiwgZm9ybWF0KSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgKyAnbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIgPiAyID8gX2xlbjIgLSAyIDogMCksIF9rZXkyID0gMjsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyIC0gMl0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICBwcmludFdhcm5pbmcuYXBwbHkodW5kZWZpbmVkLCBbZm9ybWF0XS5jb25jYXQoYXJncykpO1xuICAgIH1cbiAgfTtcbn1cblxudmFyIGxvd1ByaW9yaXR5V2FybmluZyQxID0gbG93UHJpb3JpdHlXYXJuaW5nO1xuXG52YXIgZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50ID0ge307XG5cbmZ1bmN0aW9uIHdhcm5Ob29wKHB1YmxpY0luc3RhbmNlLCBjYWxsZXJOYW1lKSB7XG4gIHtcbiAgICB2YXIgX2NvbnN0cnVjdG9yID0gcHVibGljSW5zdGFuY2UuY29uc3RydWN0b3I7XG4gICAgdmFyIGNvbXBvbmVudE5hbWUgPSBfY29uc3RydWN0b3IgJiYgKF9jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSB8fCBfY29uc3RydWN0b3IubmFtZSkgfHwgJ1JlYWN0Q2xhc3MnO1xuICAgIHZhciB3YXJuaW5nS2V5ID0gY29tcG9uZW50TmFtZSArICcuJyArIGNhbGxlck5hbWU7XG4gICAgaWYgKGRpZFdhcm5TdGF0ZVVwZGF0ZUZvclVubW91bnRlZENvbXBvbmVudFt3YXJuaW5nS2V5XSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3YXJuaW5nKGZhbHNlLCBcIkNhbid0IGNhbGwgJXMgb24gYSBjb21wb25lbnQgdGhhdCBpcyBub3QgeWV0IG1vdW50ZWQuIFwiICsgJ1RoaXMgaXMgYSBuby1vcCwgYnV0IGl0IG1pZ2h0IGluZGljYXRlIGEgYnVnIGluIHlvdXIgYXBwbGljYXRpb24uICcgKyAnSW5zdGVhZCwgYXNzaWduIHRvIGB0aGlzLnN0YXRlYCBkaXJlY3RseSBvciBkZWZpbmUgYSBgc3RhdGUgPSB7fTtgICcgKyAnY2xhc3MgcHJvcGVydHkgd2l0aCB0aGUgZGVzaXJlZCBzdGF0ZSBpbiB0aGUgJXMgY29tcG9uZW50LicsIGNhbGxlck5hbWUsIGNvbXBvbmVudE5hbWUpO1xuICAgIGRpZFdhcm5TdGF0ZVVwZGF0ZUZvclVubW91bnRlZENvbXBvbmVudFt3YXJuaW5nS2V5XSA9IHRydWU7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGlzIGlzIHRoZSBhYnN0cmFjdCBBUEkgZm9yIGFuIHVwZGF0ZSBxdWV1ZS5cbiAqL1xudmFyIFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlID0ge1xuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IHRoaXMgY29tcG9zaXRlIGNvbXBvbmVudCBpcyBtb3VudGVkLlxuICAgKiBAcGFyYW0ge1JlYWN0Q2xhc3N9IHB1YmxpY0luc3RhbmNlIFRoZSBpbnN0YW5jZSB3ZSB3YW50IHRvIHRlc3QuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgbW91bnRlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEBmaW5hbFxuICAgKi9cbiAgaXNNb3VudGVkOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEZvcmNlcyBhbiB1cGRhdGUuIFRoaXMgc2hvdWxkIG9ubHkgYmUgaW52b2tlZCB3aGVuIGl0IGlzIGtub3duIHdpdGhcbiAgICogY2VydGFpbnR5IHRoYXQgd2UgYXJlICoqbm90KiogaW4gYSBET00gdHJhbnNhY3Rpb24uXG4gICAqXG4gICAqIFlvdSBtYXkgd2FudCB0byBjYWxsIHRoaXMgd2hlbiB5b3Uga25vdyB0aGF0IHNvbWUgZGVlcGVyIGFzcGVjdCBvZiB0aGVcbiAgICogY29tcG9uZW50J3Mgc3RhdGUgaGFzIGNoYW5nZWQgYnV0IGBzZXRTdGF0ZWAgd2FzIG5vdCBjYWxsZWQuXG4gICAqXG4gICAqIFRoaXMgd2lsbCBub3QgaW52b2tlIGBzaG91bGRDb21wb25lbnRVcGRhdGVgLCBidXQgaXQgd2lsbCBpbnZva2VcbiAgICogYGNvbXBvbmVudFdpbGxVcGRhdGVgIGFuZCBgY29tcG9uZW50RGlkVXBkYXRlYC5cbiAgICpcbiAgICogQHBhcmFtIHtSZWFjdENsYXNzfSBwdWJsaWNJbnN0YW5jZSBUaGUgaW5zdGFuY2UgdGhhdCBzaG91bGQgcmVyZW5kZXIuXG4gICAqIEBwYXJhbSB7P2Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsZWQgYWZ0ZXIgY29tcG9uZW50IGlzIHVwZGF0ZWQuXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gY2FsbGVyTmFtZSBuYW1lIG9mIHRoZSBjYWxsaW5nIGZ1bmN0aW9uIGluIHRoZSBwdWJsaWMgQVBJLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGVucXVldWVGb3JjZVVwZGF0ZTogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlLCBjYWxsYmFjaywgY2FsbGVyTmFtZSkge1xuICAgIHdhcm5Ob29wKHB1YmxpY0luc3RhbmNlLCAnZm9yY2VVcGRhdGUnKTtcbiAgfSxcblxuICAvKipcbiAgICogUmVwbGFjZXMgYWxsIG9mIHRoZSBzdGF0ZS4gQWx3YXlzIHVzZSB0aGlzIG9yIGBzZXRTdGF0ZWAgdG8gbXV0YXRlIHN0YXRlLlxuICAgKiBZb3Ugc2hvdWxkIHRyZWF0IGB0aGlzLnN0YXRlYCBhcyBpbW11dGFibGUuXG4gICAqXG4gICAqIFRoZXJlIGlzIG5vIGd1YXJhbnRlZSB0aGF0IGB0aGlzLnN0YXRlYCB3aWxsIGJlIGltbWVkaWF0ZWx5IHVwZGF0ZWQsIHNvXG4gICAqIGFjY2Vzc2luZyBgdGhpcy5zdGF0ZWAgYWZ0ZXIgY2FsbGluZyB0aGlzIG1ldGhvZCBtYXkgcmV0dXJuIHRoZSBvbGQgdmFsdWUuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RDbGFzc30gcHVibGljSW5zdGFuY2UgVGhlIGluc3RhbmNlIHRoYXQgc2hvdWxkIHJlcmVuZGVyLlxuICAgKiBAcGFyYW0ge29iamVjdH0gY29tcGxldGVTdGF0ZSBOZXh0IHN0YXRlLlxuICAgKiBAcGFyYW0gez9mdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIGFmdGVyIGNvbXBvbmVudCBpcyB1cGRhdGVkLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IGNhbGxlck5hbWUgbmFtZSBvZiB0aGUgY2FsbGluZyBmdW5jdGlvbiBpbiB0aGUgcHVibGljIEFQSS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBlbnF1ZXVlUmVwbGFjZVN0YXRlOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UsIGNvbXBsZXRlU3RhdGUsIGNhbGxiYWNrLCBjYWxsZXJOYW1lKSB7XG4gICAgd2Fybk5vb3AocHVibGljSW5zdGFuY2UsICdyZXBsYWNlU3RhdGUnKTtcbiAgfSxcblxuICAvKipcbiAgICogU2V0cyBhIHN1YnNldCBvZiB0aGUgc3RhdGUuIFRoaXMgb25seSBleGlzdHMgYmVjYXVzZSBfcGVuZGluZ1N0YXRlIGlzXG4gICAqIGludGVybmFsLiBUaGlzIHByb3ZpZGVzIGEgbWVyZ2luZyBzdHJhdGVneSB0aGF0IGlzIG5vdCBhdmFpbGFibGUgdG8gZGVlcFxuICAgKiBwcm9wZXJ0aWVzIHdoaWNoIGlzIGNvbmZ1c2luZy4gVE9ETzogRXhwb3NlIHBlbmRpbmdTdGF0ZSBvciBkb24ndCB1c2UgaXRcbiAgICogZHVyaW5nIHRoZSBtZXJnZS5cbiAgICpcbiAgICogQHBhcmFtIHtSZWFjdENsYXNzfSBwdWJsaWNJbnN0YW5jZSBUaGUgaW5zdGFuY2UgdGhhdCBzaG91bGQgcmVyZW5kZXIuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJ0aWFsU3RhdGUgTmV4dCBwYXJ0aWFsIHN0YXRlIHRvIGJlIG1lcmdlZCB3aXRoIHN0YXRlLlxuICAgKiBAcGFyYW0gez9mdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIGFmdGVyIGNvbXBvbmVudCBpcyB1cGRhdGVkLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IE5hbWUgb2YgdGhlIGNhbGxpbmcgZnVuY3Rpb24gaW4gdGhlIHB1YmxpYyBBUEkuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZW5xdWV1ZVNldFN0YXRlOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UsIHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2ssIGNhbGxlck5hbWUpIHtcbiAgICB3YXJuTm9vcChwdWJsaWNJbnN0YW5jZSwgJ3NldFN0YXRlJyk7XG4gIH1cbn07XG5cbi8qKlxuICogQmFzZSBjbGFzcyBoZWxwZXJzIGZvciB0aGUgdXBkYXRpbmcgc3RhdGUgb2YgYSBjb21wb25lbnQuXG4gKi9cbmZ1bmN0aW9uIENvbXBvbmVudChwcm9wcywgY29udGV4dCwgdXBkYXRlcikge1xuICB0aGlzLnByb3BzID0gcHJvcHM7XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gIHRoaXMucmVmcyA9IGVtcHR5T2JqZWN0O1xuICAvLyBXZSBpbml0aWFsaXplIHRoZSBkZWZhdWx0IHVwZGF0ZXIgYnV0IHRoZSByZWFsIG9uZSBnZXRzIGluamVjdGVkIGJ5IHRoZVxuICAvLyByZW5kZXJlci5cbiAgdGhpcy51cGRhdGVyID0gdXBkYXRlciB8fCBSZWFjdE5vb3BVcGRhdGVRdWV1ZTtcbn1cblxuQ29tcG9uZW50LnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0ge307XG5cbi8qKlxuICogU2V0cyBhIHN1YnNldCBvZiB0aGUgc3RhdGUuIEFsd2F5cyB1c2UgdGhpcyB0byBtdXRhdGVcbiAqIHN0YXRlLiBZb3Ugc2hvdWxkIHRyZWF0IGB0aGlzLnN0YXRlYCBhcyBpbW11dGFibGUuXG4gKlxuICogVGhlcmUgaXMgbm8gZ3VhcmFudGVlIHRoYXQgYHRoaXMuc3RhdGVgIHdpbGwgYmUgaW1tZWRpYXRlbHkgdXBkYXRlZCwgc29cbiAqIGFjY2Vzc2luZyBgdGhpcy5zdGF0ZWAgYWZ0ZXIgY2FsbGluZyB0aGlzIG1ldGhvZCBtYXkgcmV0dXJuIHRoZSBvbGQgdmFsdWUuXG4gKlxuICogVGhlcmUgaXMgbm8gZ3VhcmFudGVlIHRoYXQgY2FsbHMgdG8gYHNldFN0YXRlYCB3aWxsIHJ1biBzeW5jaHJvbm91c2x5LFxuICogYXMgdGhleSBtYXkgZXZlbnR1YWxseSBiZSBiYXRjaGVkIHRvZ2V0aGVyLiAgWW91IGNhbiBwcm92aWRlIGFuIG9wdGlvbmFsXG4gKiBjYWxsYmFjayB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgd2hlbiB0aGUgY2FsbCB0byBzZXRTdGF0ZSBpcyBhY3R1YWxseVxuICogY29tcGxldGVkLlxuICpcbiAqIFdoZW4gYSBmdW5jdGlvbiBpcyBwcm92aWRlZCB0byBzZXRTdGF0ZSwgaXQgd2lsbCBiZSBjYWxsZWQgYXQgc29tZSBwb2ludCBpblxuICogdGhlIGZ1dHVyZSAobm90IHN5bmNocm9ub3VzbHkpLiBJdCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSB1cCB0byBkYXRlXG4gKiBjb21wb25lbnQgYXJndW1lbnRzIChzdGF0ZSwgcHJvcHMsIGNvbnRleHQpLiBUaGVzZSB2YWx1ZXMgY2FuIGJlIGRpZmZlcmVudFxuICogZnJvbSB0aGlzLiogYmVjYXVzZSB5b3VyIGZ1bmN0aW9uIG1heSBiZSBjYWxsZWQgYWZ0ZXIgcmVjZWl2ZVByb3BzIGJ1dCBiZWZvcmVcbiAqIHNob3VsZENvbXBvbmVudFVwZGF0ZSwgYW5kIHRoaXMgbmV3IHN0YXRlLCBwcm9wcywgYW5kIGNvbnRleHQgd2lsbCBub3QgeWV0IGJlXG4gKiBhc3NpZ25lZCB0byB0aGlzLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fGZ1bmN0aW9ufSBwYXJ0aWFsU3RhdGUgTmV4dCBwYXJ0aWFsIHN0YXRlIG9yIGZ1bmN0aW9uIHRvXG4gKiAgICAgICAgcHJvZHVjZSBuZXh0IHBhcnRpYWwgc3RhdGUgdG8gYmUgbWVyZ2VkIHdpdGggY3VycmVudCBzdGF0ZS5cbiAqIEBwYXJhbSB7P2Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsZWQgYWZ0ZXIgc3RhdGUgaXMgdXBkYXRlZC5cbiAqIEBmaW5hbFxuICogQHByb3RlY3RlZFxuICovXG5Db21wb25lbnQucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2spIHtcbiAgISh0eXBlb2YgcGFydGlhbFN0YXRlID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgcGFydGlhbFN0YXRlID09PSAnZnVuY3Rpb24nIHx8IHBhcnRpYWxTdGF0ZSA9PSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ3NldFN0YXRlKC4uLik6IHRha2VzIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMgdG8gdXBkYXRlIG9yIGEgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhbiBvYmplY3Qgb2Ygc3RhdGUgdmFyaWFibGVzLicpIDogdm9pZCAwO1xuICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHRoaXMsIHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2ssICdzZXRTdGF0ZScpO1xufTtcblxuLyoqXG4gKiBGb3JjZXMgYW4gdXBkYXRlLiBUaGlzIHNob3VsZCBvbmx5IGJlIGludm9rZWQgd2hlbiBpdCBpcyBrbm93biB3aXRoXG4gKiBjZXJ0YWludHkgdGhhdCB3ZSBhcmUgKipub3QqKiBpbiBhIERPTSB0cmFuc2FjdGlvbi5cbiAqXG4gKiBZb3UgbWF5IHdhbnQgdG8gY2FsbCB0aGlzIHdoZW4geW91IGtub3cgdGhhdCBzb21lIGRlZXBlciBhc3BlY3Qgb2YgdGhlXG4gKiBjb21wb25lbnQncyBzdGF0ZSBoYXMgY2hhbmdlZCBidXQgYHNldFN0YXRlYCB3YXMgbm90IGNhbGxlZC5cbiAqXG4gKiBUaGlzIHdpbGwgbm90IGludm9rZSBgc2hvdWxkQ29tcG9uZW50VXBkYXRlYCwgYnV0IGl0IHdpbGwgaW52b2tlXG4gKiBgY29tcG9uZW50V2lsbFVwZGF0ZWAgYW5kIGBjb21wb25lbnREaWRVcGRhdGVgLlxuICpcbiAqIEBwYXJhbSB7P2Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsZWQgYWZ0ZXIgdXBkYXRlIGlzIGNvbXBsZXRlLlxuICogQGZpbmFsXG4gKiBAcHJvdGVjdGVkXG4gKi9cbkNvbXBvbmVudC5wcm90b3R5cGUuZm9yY2VVcGRhdGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgdGhpcy51cGRhdGVyLmVucXVldWVGb3JjZVVwZGF0ZSh0aGlzLCBjYWxsYmFjaywgJ2ZvcmNlVXBkYXRlJyk7XG59O1xuXG4vKipcbiAqIERlcHJlY2F0ZWQgQVBJcy4gVGhlc2UgQVBJcyB1c2VkIHRvIGV4aXN0IG9uIGNsYXNzaWMgUmVhY3QgY2xhc3NlcyBidXQgc2luY2VcbiAqIHdlIHdvdWxkIGxpa2UgdG8gZGVwcmVjYXRlIHRoZW0sIHdlJ3JlIG5vdCBnb2luZyB0byBtb3ZlIHRoZW0gb3ZlciB0byB0aGlzXG4gKiBtb2Rlcm4gYmFzZSBjbGFzcy4gSW5zdGVhZCwgd2UgZGVmaW5lIGEgZ2V0dGVyIHRoYXQgd2FybnMgaWYgaXQncyBhY2Nlc3NlZC5cbiAqL1xue1xuICB2YXIgZGVwcmVjYXRlZEFQSXMgPSB7XG4gICAgaXNNb3VudGVkOiBbJ2lzTW91bnRlZCcsICdJbnN0ZWFkLCBtYWtlIHN1cmUgdG8gY2xlYW4gdXAgc3Vic2NyaXB0aW9ucyBhbmQgcGVuZGluZyByZXF1ZXN0cyBpbiAnICsgJ2NvbXBvbmVudFdpbGxVbm1vdW50IHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzLiddLFxuICAgIHJlcGxhY2VTdGF0ZTogWydyZXBsYWNlU3RhdGUnLCAnUmVmYWN0b3IgeW91ciBjb2RlIHRvIHVzZSBzZXRTdGF0ZSBpbnN0ZWFkIChzZWUgJyArICdodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzMyMzYpLiddXG4gIH07XG4gIHZhciBkZWZpbmVEZXByZWNhdGlvbldhcm5pbmcgPSBmdW5jdGlvbiAobWV0aG9kTmFtZSwgaW5mbykge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnQucHJvdG90eXBlLCBtZXRob2ROYW1lLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG93UHJpb3JpdHlXYXJuaW5nJDEoZmFsc2UsICclcyguLi4pIGlzIGRlcHJlY2F0ZWQgaW4gcGxhaW4gSmF2YVNjcmlwdCBSZWFjdCBjbGFzc2VzLiAlcycsIGluZm9bMF0sIGluZm9bMV0pO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICBmb3IgKHZhciBmbk5hbWUgaW4gZGVwcmVjYXRlZEFQSXMpIHtcbiAgICBpZiAoZGVwcmVjYXRlZEFQSXMuaGFzT3duUHJvcGVydHkoZm5OYW1lKSkge1xuICAgICAgZGVmaW5lRGVwcmVjYXRpb25XYXJuaW5nKGZuTmFtZSwgZGVwcmVjYXRlZEFQSXNbZm5OYW1lXSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIENvbXBvbmVudER1bW15KCkge31cbkNvbXBvbmVudER1bW15LnByb3RvdHlwZSA9IENvbXBvbmVudC5wcm90b3R5cGU7XG5cbi8qKlxuICogQ29udmVuaWVuY2UgY29tcG9uZW50IHdpdGggZGVmYXVsdCBzaGFsbG93IGVxdWFsaXR5IGNoZWNrIGZvciBzQ1UuXG4gKi9cbmZ1bmN0aW9uIFB1cmVDb21wb25lbnQocHJvcHMsIGNvbnRleHQsIHVwZGF0ZXIpIHtcbiAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB0aGlzLnJlZnMgPSBlbXB0eU9iamVjdDtcbiAgdGhpcy51cGRhdGVyID0gdXBkYXRlciB8fCBSZWFjdE5vb3BVcGRhdGVRdWV1ZTtcbn1cblxudmFyIHB1cmVDb21wb25lbnRQcm90b3R5cGUgPSBQdXJlQ29tcG9uZW50LnByb3RvdHlwZSA9IG5ldyBDb21wb25lbnREdW1teSgpO1xucHVyZUNvbXBvbmVudFByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFB1cmVDb21wb25lbnQ7XG4vLyBBdm9pZCBhbiBleHRyYSBwcm90b3R5cGUganVtcCBmb3IgdGhlc2UgbWV0aG9kcy5cbl9hc3NpZ24ocHVyZUNvbXBvbmVudFByb3RvdHlwZSwgQ29tcG9uZW50LnByb3RvdHlwZSk7XG5wdXJlQ29tcG9uZW50UHJvdG90eXBlLmlzUHVyZVJlYWN0Q29tcG9uZW50ID0gdHJ1ZTtcblxuLy8gYW4gaW1tdXRhYmxlIG9iamVjdCB3aXRoIGEgc2luZ2xlIG11dGFibGUgdmFsdWVcbmZ1bmN0aW9uIGNyZWF0ZVJlZigpIHtcbiAgdmFyIHJlZk9iamVjdCA9IHtcbiAgICBjdXJyZW50OiBudWxsXG4gIH07XG4gIHtcbiAgICBPYmplY3Quc2VhbChyZWZPYmplY3QpO1xuICB9XG4gIHJldHVybiByZWZPYmplY3Q7XG59XG5cbi8qKlxuICogS2VlcHMgdHJhY2sgb2YgdGhlIGN1cnJlbnQgb3duZXIuXG4gKlxuICogVGhlIGN1cnJlbnQgb3duZXIgaXMgdGhlIGNvbXBvbmVudCB3aG8gc2hvdWxkIG93biBhbnkgY29tcG9uZW50cyB0aGF0IGFyZVxuICogY3VycmVudGx5IGJlaW5nIGNvbnN0cnVjdGVkLlxuICovXG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSB7XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHR5cGUge1JlYWN0Q29tcG9uZW50fVxuICAgKi9cbiAgY3VycmVudDogbnVsbFxufTtcblxudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIFJFU0VSVkVEX1BST1BTID0ge1xuICBrZXk6IHRydWUsXG4gIHJlZjogdHJ1ZSxcbiAgX19zZWxmOiB0cnVlLFxuICBfX3NvdXJjZTogdHJ1ZVxufTtcblxudmFyIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duID0gdm9pZCAwO1xudmFyIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duID0gdm9pZCAwO1xuXG5mdW5jdGlvbiBoYXNWYWxpZFJlZihjb25maWcpIHtcbiAge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgJ3JlZicpKSB7XG4gICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdyZWYnKS5nZXQ7XG4gICAgICBpZiAoZ2V0dGVyICYmIGdldHRlci5pc1JlYWN0V2FybmluZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBjb25maWcucmVmICE9PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGhhc1ZhbGlkS2V5KGNvbmZpZykge1xuICB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCAna2V5JykpIHtcbiAgICAgIHZhciBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgJ2tleScpLmdldDtcbiAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvbmZpZy5rZXkgIT09IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gIHZhciB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bikge1xuICAgICAgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24gPSB0cnVlO1xuICAgICAgd2FybmluZyhmYWxzZSwgJyVzOiBga2V5YCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9mYi5tZS9yZWFjdC1zcGVjaWFsLXByb3BzKScsIGRpc3BsYXlOYW1lKTtcbiAgICB9XG4gIH07XG4gIHdhcm5BYm91dEFjY2Vzc2luZ0tleS5pc1JlYWN0V2FybmluZyA9IHRydWU7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ2tleScsIHtcbiAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ0tleSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGRlZmluZVJlZlByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSkge1xuICB2YXIgd2FybkFib3V0QWNjZXNzaW5nUmVmID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd24pIHtcbiAgICAgIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duID0gdHJ1ZTtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICclczogYHJlZmAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCAnICsgJ2luIGB1bmRlZmluZWRgIGJlaW5nIHJldHVybmVkLiBJZiB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHNhbWUgJyArICd2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50ICcgKyAncHJvcC4gKGh0dHBzOi8vZmIubWUvcmVhY3Qtc3BlY2lhbC1wcm9wcyknLCBkaXNwbGF5TmFtZSk7XG4gICAgfVxuICB9O1xuICB3YXJuQWJvdXRBY2Nlc3NpbmdSZWYuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsICdyZWYnLCB7XG4gICAgZ2V0OiB3YXJuQWJvdXRBY2Nlc3NpbmdSZWYsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xufVxuXG4vKipcbiAqIEZhY3RvcnkgbWV0aG9kIHRvIGNyZWF0ZSBhIG5ldyBSZWFjdCBlbGVtZW50LiBUaGlzIG5vIGxvbmdlciBhZGhlcmVzIHRvXG4gKiB0aGUgY2xhc3MgcGF0dGVybiwgc28gZG8gbm90IHVzZSBuZXcgdG8gY2FsbCBpdC4gQWxzbywgbm8gaW5zdGFuY2VvZiBjaGVja1xuICogd2lsbCB3b3JrLiBJbnN0ZWFkIHRlc3QgJCR0eXBlb2YgZmllbGQgYWdhaW5zdCBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykgdG8gY2hlY2tcbiAqIGlmIHNvbWV0aGluZyBpcyBhIFJlYWN0IEVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHsqfSB0eXBlXG4gKiBAcGFyYW0geyp9IGtleVxuICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSByZWZcbiAqIEBwYXJhbSB7Kn0gc2VsZiBBICp0ZW1wb3JhcnkqIGhlbHBlciB0byBkZXRlY3QgcGxhY2VzIHdoZXJlIGB0aGlzYCBpc1xuICogZGlmZmVyZW50IGZyb20gdGhlIGBvd25lcmAgd2hlbiBSZWFjdC5jcmVhdGVFbGVtZW50IGlzIGNhbGxlZCwgc28gdGhhdCB3ZVxuICogY2FuIHdhcm4uIFdlIHdhbnQgdG8gZ2V0IHJpZCBvZiBvd25lciBhbmQgcmVwbGFjZSBzdHJpbmcgYHJlZmBzIHdpdGggYXJyb3dcbiAqIGZ1bmN0aW9ucywgYW5kIGFzIGxvbmcgYXMgYHRoaXNgIGFuZCBvd25lciBhcmUgdGhlIHNhbWUsIHRoZXJlIHdpbGwgYmUgbm9cbiAqIGNoYW5nZSBpbiBiZWhhdmlvci5cbiAqIEBwYXJhbSB7Kn0gc291cmNlIEFuIGFubm90YXRpb24gb2JqZWN0IChhZGRlZCBieSBhIHRyYW5zcGlsZXIgb3Igb3RoZXJ3aXNlKVxuICogaW5kaWNhdGluZyBmaWxlbmFtZSwgbGluZSBudW1iZXIsIGFuZC9vciBvdGhlciBpbmZvcm1hdGlvbi5cbiAqIEBwYXJhbSB7Kn0gb3duZXJcbiAqIEBwYXJhbSB7Kn0gcHJvcHNcbiAqIEBpbnRlcm5hbFxuICovXG52YXIgUmVhY3RFbGVtZW50ID0gZnVuY3Rpb24gKHR5cGUsIGtleSwgcmVmLCBzZWxmLCBzb3VyY2UsIG93bmVyLCBwcm9wcykge1xuICB2YXIgZWxlbWVudCA9IHtcbiAgICAvLyBUaGlzIHRhZyBhbGxvd3MgdXMgdG8gdW5pcXVlbHkgaWRlbnRpZnkgdGhpcyBhcyBhIFJlYWN0IEVsZW1lbnRcbiAgICAkJHR5cGVvZjogUkVBQ1RfRUxFTUVOVF9UWVBFLFxuXG4gICAgLy8gQnVpbHQtaW4gcHJvcGVydGllcyB0aGF0IGJlbG9uZyBvbiB0aGUgZWxlbWVudFxuICAgIHR5cGU6IHR5cGUsXG4gICAga2V5OiBrZXksXG4gICAgcmVmOiByZWYsXG4gICAgcHJvcHM6IHByb3BzLFxuXG4gICAgLy8gUmVjb3JkIHRoZSBjb21wb25lbnQgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIHRoaXMgZWxlbWVudC5cbiAgICBfb3duZXI6IG93bmVyXG4gIH07XG5cbiAge1xuICAgIC8vIFRoZSB2YWxpZGF0aW9uIGZsYWcgaXMgY3VycmVudGx5IG11dGF0aXZlLiBXZSBwdXQgaXQgb25cbiAgICAvLyBhbiBleHRlcm5hbCBiYWNraW5nIHN0b3JlIHNvIHRoYXQgd2UgY2FuIGZyZWV6ZSB0aGUgd2hvbGUgb2JqZWN0LlxuICAgIC8vIFRoaXMgY2FuIGJlIHJlcGxhY2VkIHdpdGggYSBXZWFrTWFwIG9uY2UgdGhleSBhcmUgaW1wbGVtZW50ZWQgaW5cbiAgICAvLyBjb21tb25seSB1c2VkIGRldmVsb3BtZW50IGVudmlyb25tZW50cy5cbiAgICBlbGVtZW50Ll9zdG9yZSA9IHt9O1xuXG4gICAgLy8gVG8gbWFrZSBjb21wYXJpbmcgUmVhY3RFbGVtZW50cyBlYXNpZXIgZm9yIHRlc3RpbmcgcHVycG9zZXMsIHdlIG1ha2VcbiAgICAvLyB0aGUgdmFsaWRhdGlvbiBmbGFnIG5vbi1lbnVtZXJhYmxlICh3aGVyZSBwb3NzaWJsZSwgd2hpY2ggc2hvdWxkXG4gICAgLy8gaW5jbHVkZSBldmVyeSBlbnZpcm9ubWVudCB3ZSBydW4gdGVzdHMgaW4pLCBzbyB0aGUgdGVzdCBmcmFtZXdvcmtcbiAgICAvLyBpZ25vcmVzIGl0LlxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50Ll9zdG9yZSwgJ3ZhbGlkYXRlZCcsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGZhbHNlXG4gICAgfSk7XG4gICAgLy8gc2VsZiBhbmQgc291cmNlIGFyZSBERVYgb25seSBwcm9wZXJ0aWVzLlxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX3NlbGYnLCB7XG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICB2YWx1ZTogc2VsZlxuICAgIH0pO1xuICAgIC8vIFR3byBlbGVtZW50cyBjcmVhdGVkIGluIHR3byBkaWZmZXJlbnQgcGxhY2VzIHNob3VsZCBiZSBjb25zaWRlcmVkXG4gICAgLy8gZXF1YWwgZm9yIHRlc3RpbmcgcHVycG9zZXMgYW5kIHRoZXJlZm9yZSB3ZSBoaWRlIGl0IGZyb20gZW51bWVyYXRpb24uXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnQsICdfc291cmNlJywge1xuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgdmFsdWU6IHNvdXJjZVxuICAgIH0pO1xuICAgIGlmIChPYmplY3QuZnJlZXplKSB7XG4gICAgICBPYmplY3QuZnJlZXplKGVsZW1lbnQucHJvcHMpO1xuICAgICAgT2JqZWN0LmZyZWV6ZShlbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGFuZCByZXR1cm4gYSBuZXcgUmVhY3RFbGVtZW50IG9mIHRoZSBnaXZlbiB0eXBlLlxuICogU2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9yZWFjdC1hcGkuaHRtbCNjcmVhdGVlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodHlwZSwgY29uZmlnLCBjaGlsZHJlbikge1xuICB2YXIgcHJvcE5hbWUgPSB2b2lkIDA7XG5cbiAgLy8gUmVzZXJ2ZWQgbmFtZXMgYXJlIGV4dHJhY3RlZFxuICB2YXIgcHJvcHMgPSB7fTtcblxuICB2YXIga2V5ID0gbnVsbDtcbiAgdmFyIHJlZiA9IG51bGw7XG4gIHZhciBzZWxmID0gbnVsbDtcbiAgdmFyIHNvdXJjZSA9IG51bGw7XG5cbiAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgaWYgKGhhc1ZhbGlkUmVmKGNvbmZpZykpIHtcbiAgICAgIHJlZiA9IGNvbmZpZy5yZWY7XG4gICAgfVxuICAgIGlmIChoYXNWYWxpZEtleShjb25maWcpKSB7XG4gICAgICBrZXkgPSAnJyArIGNvbmZpZy5rZXk7XG4gICAgfVxuXG4gICAgc2VsZiA9IGNvbmZpZy5fX3NlbGYgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjb25maWcuX19zZWxmO1xuICAgIHNvdXJjZSA9IGNvbmZpZy5fX3NvdXJjZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGNvbmZpZy5fX3NvdXJjZTtcbiAgICAvLyBSZW1haW5pbmcgcHJvcGVydGllcyBhcmUgYWRkZWQgdG8gYSBuZXcgcHJvcHMgb2JqZWN0XG4gICAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpICYmICFSRVNFUlZFRF9QUk9QUy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBDaGlsZHJlbiBjYW4gYmUgbW9yZSB0aGFuIG9uZSBhcmd1bWVudCwgYW5kIHRob3NlIGFyZSB0cmFuc2ZlcnJlZCBvbnRvXG4gIC8vIHRoZSBuZXdseSBhbGxvY2F0ZWQgcHJvcHMgb2JqZWN0LlxuICB2YXIgY2hpbGRyZW5MZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgaWYgKGNoaWxkcmVuTGVuZ3RoID09PSAxKSB7XG4gICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgfSBlbHNlIGlmIChjaGlsZHJlbkxlbmd0aCA+IDEpIHtcbiAgICB2YXIgY2hpbGRBcnJheSA9IEFycmF5KGNoaWxkcmVuTGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuTGVuZ3RoOyBpKyspIHtcbiAgICAgIGNoaWxkQXJyYXlbaV0gPSBhcmd1bWVudHNbaSArIDJdO1xuICAgIH1cbiAgICB7XG4gICAgICBpZiAoT2JqZWN0LmZyZWV6ZSkge1xuICAgICAgICBPYmplY3QuZnJlZXplKGNoaWxkQXJyYXkpO1xuICAgICAgfVxuICAgIH1cbiAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkQXJyYXk7XG4gIH1cblxuICAvLyBSZXNvbHZlIGRlZmF1bHQgcHJvcHNcbiAgaWYgKHR5cGUgJiYgdHlwZS5kZWZhdWx0UHJvcHMpIHtcbiAgICB2YXIgZGVmYXVsdFByb3BzID0gdHlwZS5kZWZhdWx0UHJvcHM7XG4gICAgZm9yIChwcm9wTmFtZSBpbiBkZWZhdWx0UHJvcHMpIHtcbiAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBkZWZhdWx0UHJvcHNbcHJvcE5hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB7XG4gICAgaWYgKGtleSB8fCByZWYpIHtcbiAgICAgIGlmICh0eXBlb2YgcHJvcHMuJCR0eXBlb2YgPT09ICd1bmRlZmluZWQnIHx8IHByb3BzLiQkdHlwZW9mICE9PSBSRUFDVF9FTEVNRU5UX1RZUEUpIHtcbiAgICAgICAgdmFyIGRpc3BsYXlOYW1lID0gdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgPyB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCAnVW5rbm93bicgOiB0eXBlO1xuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVmKSB7XG4gICAgICAgICAgZGVmaW5lUmVmUHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gUmVhY3RFbGVtZW50KHR5cGUsIGtleSwgcmVmLCBzZWxmLCBzb3VyY2UsIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQsIHByb3BzKTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYSBmdW5jdGlvbiB0aGF0IHByb2R1Y2VzIFJlYWN0RWxlbWVudHMgb2YgYSBnaXZlbiB0eXBlLlxuICogU2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9yZWFjdC1hcGkuaHRtbCNjcmVhdGVmYWN0b3J5XG4gKi9cblxuXG5mdW5jdGlvbiBjbG9uZUFuZFJlcGxhY2VLZXkob2xkRWxlbWVudCwgbmV3S2V5KSB7XG4gIHZhciBuZXdFbGVtZW50ID0gUmVhY3RFbGVtZW50KG9sZEVsZW1lbnQudHlwZSwgbmV3S2V5LCBvbGRFbGVtZW50LnJlZiwgb2xkRWxlbWVudC5fc2VsZiwgb2xkRWxlbWVudC5fc291cmNlLCBvbGRFbGVtZW50Ll9vd25lciwgb2xkRWxlbWVudC5wcm9wcyk7XG5cbiAgcmV0dXJuIG5ld0VsZW1lbnQ7XG59XG5cbi8qKlxuICogQ2xvbmUgYW5kIHJldHVybiBhIG5ldyBSZWFjdEVsZW1lbnQgdXNpbmcgZWxlbWVudCBhcyB0aGUgc3RhcnRpbmcgcG9pbnQuXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI2Nsb25lZWxlbWVudFxuICovXG5mdW5jdGlvbiBjbG9uZUVsZW1lbnQoZWxlbWVudCwgY29uZmlnLCBjaGlsZHJlbikge1xuICB2YXIgcHJvcE5hbWUgPSB2b2lkIDA7XG5cbiAgLy8gT3JpZ2luYWwgcHJvcHMgYXJlIGNvcGllZFxuICB2YXIgcHJvcHMgPSBfYXNzaWduKHt9LCBlbGVtZW50LnByb3BzKTtcblxuICAvLyBSZXNlcnZlZCBuYW1lcyBhcmUgZXh0cmFjdGVkXG4gIHZhciBrZXkgPSBlbGVtZW50LmtleTtcbiAgdmFyIHJlZiA9IGVsZW1lbnQucmVmO1xuICAvLyBTZWxmIGlzIHByZXNlcnZlZCBzaW5jZSB0aGUgb3duZXIgaXMgcHJlc2VydmVkLlxuICB2YXIgc2VsZiA9IGVsZW1lbnQuX3NlbGY7XG4gIC8vIFNvdXJjZSBpcyBwcmVzZXJ2ZWQgc2luY2UgY2xvbmVFbGVtZW50IGlzIHVubGlrZWx5IHRvIGJlIHRhcmdldGVkIGJ5IGFcbiAgLy8gdHJhbnNwaWxlciwgYW5kIHRoZSBvcmlnaW5hbCBzb3VyY2UgaXMgcHJvYmFibHkgYSBiZXR0ZXIgaW5kaWNhdG9yIG9mIHRoZVxuICAvLyB0cnVlIG93bmVyLlxuICB2YXIgc291cmNlID0gZWxlbWVudC5fc291cmNlO1xuXG4gIC8vIE93bmVyIHdpbGwgYmUgcHJlc2VydmVkLCB1bmxlc3MgcmVmIGlzIG92ZXJyaWRkZW5cbiAgdmFyIG93bmVyID0gZWxlbWVudC5fb3duZXI7XG5cbiAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgaWYgKGhhc1ZhbGlkUmVmKGNvbmZpZykpIHtcbiAgICAgIC8vIFNpbGVudGx5IHN0ZWFsIHRoZSByZWYgZnJvbSB0aGUgcGFyZW50LlxuICAgICAgcmVmID0gY29uZmlnLnJlZjtcbiAgICAgIG93bmVyID0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudDtcbiAgICB9XG4gICAgaWYgKGhhc1ZhbGlkS2V5KGNvbmZpZykpIHtcbiAgICAgIGtleSA9ICcnICsgY29uZmlnLmtleTtcbiAgICB9XG5cbiAgICAvLyBSZW1haW5pbmcgcHJvcGVydGllcyBvdmVycmlkZSBleGlzdGluZyBwcm9wc1xuICAgIHZhciBkZWZhdWx0UHJvcHMgPSB2b2lkIDA7XG4gICAgaWYgKGVsZW1lbnQudHlwZSAmJiBlbGVtZW50LnR5cGUuZGVmYXVsdFByb3BzKSB7XG4gICAgICBkZWZhdWx0UHJvcHMgPSBlbGVtZW50LnR5cGUuZGVmYXVsdFByb3BzO1xuICAgIH1cbiAgICBmb3IgKHByb3BOYW1lIGluIGNvbmZpZykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBwcm9wTmFtZSkgJiYgIVJFU0VSVkVEX1BST1BTLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICBpZiAoY29uZmlnW3Byb3BOYW1lXSA9PT0gdW5kZWZpbmVkICYmIGRlZmF1bHRQcm9wcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy8gUmVzb2x2ZSBkZWZhdWx0IHByb3BzXG4gICAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gZGVmYXVsdFByb3BzW3Byb3BOYW1lXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBjb25maWdbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQ2hpbGRyZW4gY2FuIGJlIG1vcmUgdGhhbiBvbmUgYXJndW1lbnQsIGFuZCB0aG9zZSBhcmUgdHJhbnNmZXJyZWQgb250b1xuICAvLyB0aGUgbmV3bHkgYWxsb2NhdGVkIHByb3BzIG9iamVjdC5cbiAgdmFyIGNoaWxkcmVuTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7XG4gIGlmIChjaGlsZHJlbkxlbmd0aCA9PT0gMSkge1xuICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gIH0gZWxzZSBpZiAoY2hpbGRyZW5MZW5ndGggPiAxKSB7XG4gICAgdmFyIGNoaWxkQXJyYXkgPSBBcnJheShjaGlsZHJlbkxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG4gICAgICBjaGlsZEFycmF5W2ldID0gYXJndW1lbnRzW2kgKyAyXTtcbiAgICB9XG4gICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZEFycmF5O1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0RWxlbWVudChlbGVtZW50LnR5cGUsIGtleSwgcmVmLCBzZWxmLCBzb3VyY2UsIG93bmVyLCBwcm9wcyk7XG59XG5cbi8qKlxuICogVmVyaWZpZXMgdGhlIG9iamVjdCBpcyBhIFJlYWN0RWxlbWVudC5cbiAqIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwjaXN2YWxpZGVsZW1lbnRcbiAqIEBwYXJhbSB7P29iamVjdH0gb2JqZWN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGBvYmplY3RgIGlzIGEgdmFsaWQgY29tcG9uZW50LlxuICogQGZpbmFsXG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWRFbGVtZW50KG9iamVjdCkge1xuICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICE9PSBudWxsICYmIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xufVxuXG52YXIgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSA9IHt9O1xuXG57XG4gIC8vIENvbXBvbmVudCB0aGF0IGlzIGJlaW5nIHdvcmtlZCBvblxuICBSZWFjdERlYnVnQ3VycmVudEZyYW1lLmdldEN1cnJlbnRTdGFjayA9IG51bGw7XG5cbiAgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRTdGFja0FkZGVuZHVtID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBpbXBsID0gUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRDdXJyZW50U3RhY2s7XG4gICAgaWYgKGltcGwpIHtcbiAgICAgIHJldHVybiBpbXBsKCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xufVxuXG52YXIgU0VQQVJBVE9SID0gJy4nO1xudmFyIFNVQlNFUEFSQVRPUiA9ICc6JztcblxuLyoqXG4gKiBFc2NhcGUgYW5kIHdyYXAga2V5IHNvIGl0IGlzIHNhZmUgdG8gdXNlIGFzIGEgcmVhY3RpZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdG8gYmUgZXNjYXBlZC5cbiAqIEByZXR1cm4ge3N0cmluZ30gdGhlIGVzY2FwZWQga2V5LlxuICovXG5mdW5jdGlvbiBlc2NhcGUoa2V5KSB7XG4gIHZhciBlc2NhcGVSZWdleCA9IC9bPTpdL2c7XG4gIHZhciBlc2NhcGVyTG9va3VwID0ge1xuICAgICc9JzogJz0wJyxcbiAgICAnOic6ICc9MidcbiAgfTtcbiAgdmFyIGVzY2FwZWRTdHJpbmcgPSAoJycgKyBrZXkpLnJlcGxhY2UoZXNjYXBlUmVnZXgsIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgIHJldHVybiBlc2NhcGVyTG9va3VwW21hdGNoXTtcbiAgfSk7XG5cbiAgcmV0dXJuICckJyArIGVzY2FwZWRTdHJpbmc7XG59XG5cbi8qKlxuICogVE9ETzogVGVzdCB0aGF0IGEgc2luZ2xlIGNoaWxkIGFuZCBhbiBhcnJheSB3aXRoIG9uZSBpdGVtIGhhdmUgdGhlIHNhbWUga2V5XG4gKiBwYXR0ZXJuLlxuICovXG5cbnZhciBkaWRXYXJuQWJvdXRNYXBzID0gZmFsc2U7XG5cbnZhciB1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCA9IC9cXC8rL2c7XG5mdW5jdGlvbiBlc2NhcGVVc2VyUHJvdmlkZWRLZXkodGV4dCkge1xuICByZXR1cm4gKCcnICsgdGV4dCkucmVwbGFjZSh1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCwgJyQmLycpO1xufVxuXG52YXIgUE9PTF9TSVpFID0gMTA7XG52YXIgdHJhdmVyc2VDb250ZXh0UG9vbCA9IFtdO1xuZnVuY3Rpb24gZ2V0UG9vbGVkVHJhdmVyc2VDb250ZXh0KG1hcFJlc3VsdCwga2V5UHJlZml4LCBtYXBGdW5jdGlvbiwgbWFwQ29udGV4dCkge1xuICBpZiAodHJhdmVyc2VDb250ZXh0UG9vbC5sZW5ndGgpIHtcbiAgICB2YXIgdHJhdmVyc2VDb250ZXh0ID0gdHJhdmVyc2VDb250ZXh0UG9vbC5wb3AoKTtcbiAgICB0cmF2ZXJzZUNvbnRleHQucmVzdWx0ID0gbWFwUmVzdWx0O1xuICAgIHRyYXZlcnNlQ29udGV4dC5rZXlQcmVmaXggPSBrZXlQcmVmaXg7XG4gICAgdHJhdmVyc2VDb250ZXh0LmZ1bmMgPSBtYXBGdW5jdGlvbjtcbiAgICB0cmF2ZXJzZUNvbnRleHQuY29udGV4dCA9IG1hcENvbnRleHQ7XG4gICAgdHJhdmVyc2VDb250ZXh0LmNvdW50ID0gMDtcbiAgICByZXR1cm4gdHJhdmVyc2VDb250ZXh0O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7XG4gICAgICByZXN1bHQ6IG1hcFJlc3VsdCxcbiAgICAgIGtleVByZWZpeDoga2V5UHJlZml4LFxuICAgICAgZnVuYzogbWFwRnVuY3Rpb24sXG4gICAgICBjb250ZXh0OiBtYXBDb250ZXh0LFxuICAgICAgY291bnQ6IDBcbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbGVhc2VUcmF2ZXJzZUNvbnRleHQodHJhdmVyc2VDb250ZXh0KSB7XG4gIHRyYXZlcnNlQ29udGV4dC5yZXN1bHQgPSBudWxsO1xuICB0cmF2ZXJzZUNvbnRleHQua2V5UHJlZml4ID0gbnVsbDtcbiAgdHJhdmVyc2VDb250ZXh0LmZ1bmMgPSBudWxsO1xuICB0cmF2ZXJzZUNvbnRleHQuY29udGV4dCA9IG51bGw7XG4gIHRyYXZlcnNlQ29udGV4dC5jb3VudCA9IDA7XG4gIGlmICh0cmF2ZXJzZUNvbnRleHRQb29sLmxlbmd0aCA8IFBPT0xfU0laRSkge1xuICAgIHRyYXZlcnNlQ29udGV4dFBvb2wucHVzaCh0cmF2ZXJzZUNvbnRleHQpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHs/Kn0gY2hpbGRyZW4gQ2hpbGRyZW4gdHJlZSBjb250YWluZXIuXG4gKiBAcGFyYW0geyFzdHJpbmd9IG5hbWVTb0ZhciBOYW1lIG9mIHRoZSBrZXkgcGF0aCBzbyBmYXIuXG4gKiBAcGFyYW0geyFmdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gaW52b2tlIHdpdGggZWFjaCBjaGlsZCBmb3VuZC5cbiAqIEBwYXJhbSB7Pyp9IHRyYXZlcnNlQ29udGV4dCBVc2VkIHRvIHBhc3MgaW5mb3JtYXRpb24gdGhyb3VnaG91dCB0aGUgdHJhdmVyc2FsXG4gKiBwcm9jZXNzLlxuICogQHJldHVybiB7IW51bWJlcn0gVGhlIG51bWJlciBvZiBjaGlsZHJlbiBpbiB0aGlzIHN1YnRyZWUuXG4gKi9cbmZ1bmN0aW9uIHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkcmVuLCBuYW1lU29GYXIsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgY2hpbGRyZW47XG5cbiAgaWYgKHR5cGUgPT09ICd1bmRlZmluZWQnIHx8IHR5cGUgPT09ICdib29sZWFuJykge1xuICAgIC8vIEFsbCBvZiB0aGUgYWJvdmUgYXJlIHBlcmNlaXZlZCBhcyBudWxsLlxuICAgIGNoaWxkcmVuID0gbnVsbDtcbiAgfVxuXG4gIHZhciBpbnZva2VDYWxsYmFjayA9IGZhbHNlO1xuXG4gIGlmIChjaGlsZHJlbiA9PT0gbnVsbCkge1xuICAgIGludm9rZUNhbGxiYWNrID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICBpbnZva2VDYWxsYmFjayA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgc3dpdGNoIChjaGlsZHJlbi4kJHR5cGVvZikge1xuICAgICAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOlxuICAgICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgICBpbnZva2VDYWxsYmFjayA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoaW52b2tlQ2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayh0cmF2ZXJzZUNvbnRleHQsIGNoaWxkcmVuLFxuICAgIC8vIElmIGl0J3MgdGhlIG9ubHkgY2hpbGQsIHRyZWF0IHRoZSBuYW1lIGFzIGlmIGl0IHdhcyB3cmFwcGVkIGluIGFuIGFycmF5XG4gICAgLy8gc28gdGhhdCBpdCdzIGNvbnNpc3RlbnQgaWYgdGhlIG51bWJlciBvZiBjaGlsZHJlbiBncm93cy5cbiAgICBuYW1lU29GYXIgPT09ICcnID8gU0VQQVJBVE9SICsgZ2V0Q29tcG9uZW50S2V5KGNoaWxkcmVuLCAwKSA6IG5hbWVTb0Zhcik7XG4gICAgcmV0dXJuIDE7XG4gIH1cblxuICB2YXIgY2hpbGQgPSB2b2lkIDA7XG4gIHZhciBuZXh0TmFtZSA9IHZvaWQgMDtcbiAgdmFyIHN1YnRyZWVDb3VudCA9IDA7IC8vIENvdW50IG9mIGNoaWxkcmVuIGZvdW5kIGluIHRoZSBjdXJyZW50IHN1YnRyZWUuXG4gIHZhciBuZXh0TmFtZVByZWZpeCA9IG5hbWVTb0ZhciA9PT0gJycgPyBTRVBBUkFUT1IgOiBuYW1lU29GYXIgKyBTVUJTRVBBUkFUT1I7XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgIG5leHROYW1lID0gbmV4dE5hbWVQcmVmaXggKyBnZXRDb21wb25lbnRLZXkoY2hpbGQsIGkpO1xuICAgICAgc3VidHJlZUNvdW50ICs9IHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkLCBuZXh0TmFtZSwgY2FsbGJhY2ssIHRyYXZlcnNlQ29udGV4dCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihjaGlsZHJlbik7XG4gICAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB7XG4gICAgICAgIC8vIFdhcm4gYWJvdXQgdXNpbmcgTWFwcyBhcyBjaGlsZHJlblxuICAgICAgICBpZiAoaXRlcmF0b3JGbiA9PT0gY2hpbGRyZW4uZW50cmllcykge1xuICAgICAgICAgIHdhcm5pbmcoZGlkV2FybkFib3V0TWFwcywgJ1VzaW5nIE1hcHMgYXMgY2hpbGRyZW4gaXMgdW5zdXBwb3J0ZWQgYW5kIHdpbGwgbGlrZWx5IHlpZWxkICcgKyAndW5leHBlY3RlZCByZXN1bHRzLiBDb252ZXJ0IGl0IHRvIGEgc2VxdWVuY2UvaXRlcmFibGUgb2Yga2V5ZWQgJyArICdSZWFjdEVsZW1lbnRzIGluc3RlYWQuJXMnLCBSZWFjdERlYnVnQ3VycmVudEZyYW1lLmdldFN0YWNrQWRkZW5kdW0oKSk7XG4gICAgICAgICAgZGlkV2FybkFib3V0TWFwcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKGNoaWxkcmVuKTtcbiAgICAgIHZhciBzdGVwID0gdm9pZCAwO1xuICAgICAgdmFyIGlpID0gMDtcbiAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgY2hpbGQgPSBzdGVwLnZhbHVlO1xuICAgICAgICBuZXh0TmFtZSA9IG5leHROYW1lUHJlZml4ICsgZ2V0Q29tcG9uZW50S2V5KGNoaWxkLCBpaSsrKTtcbiAgICAgICAgc3VidHJlZUNvdW50ICs9IHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkLCBuZXh0TmFtZSwgY2FsbGJhY2ssIHRyYXZlcnNlQ29udGV4dCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgdmFyIGFkZGVuZHVtID0gJyc7XG4gICAgICB7XG4gICAgICAgIGFkZGVuZHVtID0gJyBJZiB5b3UgbWVhbnQgdG8gcmVuZGVyIGEgY29sbGVjdGlvbiBvZiBjaGlsZHJlbiwgdXNlIGFuIGFycmF5ICcgKyAnaW5zdGVhZC4nICsgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRTdGFja0FkZGVuZHVtKCk7XG4gICAgICB9XG4gICAgICB2YXIgY2hpbGRyZW5TdHJpbmcgPSAnJyArIGNoaWxkcmVuO1xuICAgICAgaW52YXJpYW50KGZhbHNlLCAnT2JqZWN0cyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQgKGZvdW5kOiAlcykuJXMnLCBjaGlsZHJlblN0cmluZyA9PT0gJ1tvYmplY3QgT2JqZWN0XScgPyAnb2JqZWN0IHdpdGgga2V5cyB7JyArIE9iamVjdC5rZXlzKGNoaWxkcmVuKS5qb2luKCcsICcpICsgJ30nIDogY2hpbGRyZW5TdHJpbmcsIGFkZGVuZHVtKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc3VidHJlZUNvdW50O1xufVxuXG4vKipcbiAqIFRyYXZlcnNlcyBjaGlsZHJlbiB0aGF0IGFyZSB0eXBpY2FsbHkgc3BlY2lmaWVkIGFzIGBwcm9wcy5jaGlsZHJlbmAsIGJ1dFxuICogbWlnaHQgYWxzbyBiZSBzcGVjaWZpZWQgdGhyb3VnaCBhdHRyaWJ1dGVzOlxuICpcbiAqIC0gYHRyYXZlcnNlQWxsQ2hpbGRyZW4odGhpcy5wcm9wcy5jaGlsZHJlbiwgLi4uKWBcbiAqIC0gYHRyYXZlcnNlQWxsQ2hpbGRyZW4odGhpcy5wcm9wcy5sZWZ0UGFuZWxDaGlsZHJlbiwgLi4uKWBcbiAqXG4gKiBUaGUgYHRyYXZlcnNlQ29udGV4dGAgaXMgYW4gb3B0aW9uYWwgYXJndW1lbnQgdGhhdCBpcyBwYXNzZWQgdGhyb3VnaCB0aGVcbiAqIGVudGlyZSB0cmF2ZXJzYWwuIEl0IGNhbiBiZSB1c2VkIHRvIHN0b3JlIGFjY3VtdWxhdGlvbnMgb3IgYW55dGhpbmcgZWxzZSB0aGF0XG4gKiB0aGUgY2FsbGJhY2sgbWlnaHQgZmluZCByZWxldmFudC5cbiAqXG4gKiBAcGFyYW0gez8qfSBjaGlsZHJlbiBDaGlsZHJlbiB0cmVlIG9iamVjdC5cbiAqIEBwYXJhbSB7IWZ1bmN0aW9ufSBjYWxsYmFjayBUbyBpbnZva2UgdXBvbiB0cmF2ZXJzaW5nIGVhY2ggY2hpbGQuXG4gKiBAcGFyYW0gez8qfSB0cmF2ZXJzZUNvbnRleHQgQ29udGV4dCBmb3IgdHJhdmVyc2FsLlxuICogQHJldHVybiB7IW51bWJlcn0gVGhlIG51bWJlciBvZiBjaGlsZHJlbiBpbiB0aGlzIHN1YnRyZWUuXG4gKi9cbmZ1bmN0aW9uIHRyYXZlcnNlQWxsQ2hpbGRyZW4oY2hpbGRyZW4sIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpIHtcbiAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHJldHVybiB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZHJlbiwgJycsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIGEga2V5IHN0cmluZyB0aGF0IGlkZW50aWZpZXMgYSBjb21wb25lbnQgd2l0aGluIGEgc2V0LlxuICpcbiAqIEBwYXJhbSB7Kn0gY29tcG9uZW50IEEgY29tcG9uZW50IHRoYXQgY291bGQgY29udGFpbiBhIG1hbnVhbCBrZXkuXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXggdGhhdCBpcyB1c2VkIGlmIGEgbWFudWFsIGtleSBpcyBub3QgcHJvdmlkZWQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldENvbXBvbmVudEtleShjb21wb25lbnQsIGluZGV4KSB7XG4gIC8vIERvIHNvbWUgdHlwZWNoZWNraW5nIGhlcmUgc2luY2Ugd2UgY2FsbCB0aGlzIGJsaW5kbHkuIFdlIHdhbnQgdG8gZW5zdXJlXG4gIC8vIHRoYXQgd2UgZG9uJ3QgYmxvY2sgcG90ZW50aWFsIGZ1dHVyZSBFUyBBUElzLlxuICBpZiAodHlwZW9mIGNvbXBvbmVudCA9PT0gJ29iamVjdCcgJiYgY29tcG9uZW50ICE9PSBudWxsICYmIGNvbXBvbmVudC5rZXkgIT0gbnVsbCkge1xuICAgIC8vIEV4cGxpY2l0IGtleVxuICAgIHJldHVybiBlc2NhcGUoY29tcG9uZW50LmtleSk7XG4gIH1cbiAgLy8gSW1wbGljaXQga2V5IGRldGVybWluZWQgYnkgdGhlIGluZGV4IGluIHRoZSBzZXRcbiAgcmV0dXJuIGluZGV4LnRvU3RyaW5nKDM2KTtcbn1cblxuZnVuY3Rpb24gZm9yRWFjaFNpbmdsZUNoaWxkKGJvb2tLZWVwaW5nLCBjaGlsZCwgbmFtZSkge1xuICB2YXIgZnVuYyA9IGJvb2tLZWVwaW5nLmZ1bmMsXG4gICAgICBjb250ZXh0ID0gYm9va0tlZXBpbmcuY29udGV4dDtcblxuICBmdW5jLmNhbGwoY29udGV4dCwgY2hpbGQsIGJvb2tLZWVwaW5nLmNvdW50KyspO1xufVxuXG4vKipcbiAqIEl0ZXJhdGVzIHRocm91Z2ggY2hpbGRyZW4gdGhhdCBhcmUgdHlwaWNhbGx5IHNwZWNpZmllZCBhcyBgcHJvcHMuY2hpbGRyZW5gLlxuICpcbiAqIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwjcmVhY3QuY2hpbGRyZW4uZm9yZWFjaFxuICpcbiAqIFRoZSBwcm92aWRlZCBmb3JFYWNoRnVuYyhjaGlsZCwgaW5kZXgpIHdpbGwgYmUgY2FsbGVkIGZvciBlYWNoXG4gKiBsZWFmIGNoaWxkLlxuICpcbiAqIEBwYXJhbSB7Pyp9IGNoaWxkcmVuIENoaWxkcmVuIHRyZWUgY29udGFpbmVyLlxuICogQHBhcmFtIHtmdW5jdGlvbigqLCBpbnQpfSBmb3JFYWNoRnVuY1xuICogQHBhcmFtIHsqfSBmb3JFYWNoQ29udGV4dCBDb250ZXh0IGZvciBmb3JFYWNoQ29udGV4dC5cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaENoaWxkcmVuKGNoaWxkcmVuLCBmb3JFYWNoRnVuYywgZm9yRWFjaENvbnRleHQpIHtcbiAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH1cbiAgdmFyIHRyYXZlcnNlQ29udGV4dCA9IGdldFBvb2xlZFRyYXZlcnNlQ29udGV4dChudWxsLCBudWxsLCBmb3JFYWNoRnVuYywgZm9yRWFjaENvbnRleHQpO1xuICB0cmF2ZXJzZUFsbENoaWxkcmVuKGNoaWxkcmVuLCBmb3JFYWNoU2luZ2xlQ2hpbGQsIHRyYXZlcnNlQ29udGV4dCk7XG4gIHJlbGVhc2VUcmF2ZXJzZUNvbnRleHQodHJhdmVyc2VDb250ZXh0KTtcbn1cblxuZnVuY3Rpb24gbWFwU2luZ2xlQ2hpbGRJbnRvQ29udGV4dChib29rS2VlcGluZywgY2hpbGQsIGNoaWxkS2V5KSB7XG4gIHZhciByZXN1bHQgPSBib29rS2VlcGluZy5yZXN1bHQsXG4gICAgICBrZXlQcmVmaXggPSBib29rS2VlcGluZy5rZXlQcmVmaXgsXG4gICAgICBmdW5jID0gYm9va0tlZXBpbmcuZnVuYyxcbiAgICAgIGNvbnRleHQgPSBib29rS2VlcGluZy5jb250ZXh0O1xuXG5cbiAgdmFyIG1hcHBlZENoaWxkID0gZnVuYy5jYWxsKGNvbnRleHQsIGNoaWxkLCBib29rS2VlcGluZy5jb3VudCsrKTtcbiAgaWYgKEFycmF5LmlzQXJyYXkobWFwcGVkQ2hpbGQpKSB7XG4gICAgbWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbChtYXBwZWRDaGlsZCwgcmVzdWx0LCBjaGlsZEtleSwgZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0FyZ3VtZW50KTtcbiAgfSBlbHNlIGlmIChtYXBwZWRDaGlsZCAhPSBudWxsKSB7XG4gICAgaWYgKGlzVmFsaWRFbGVtZW50KG1hcHBlZENoaWxkKSkge1xuICAgICAgbWFwcGVkQ2hpbGQgPSBjbG9uZUFuZFJlcGxhY2VLZXkobWFwcGVkQ2hpbGQsXG4gICAgICAvLyBLZWVwIGJvdGggdGhlIChtYXBwZWQpIGFuZCBvbGQga2V5cyBpZiB0aGV5IGRpZmZlciwganVzdCBhc1xuICAgICAgLy8gdHJhdmVyc2VBbGxDaGlsZHJlbiB1c2VkIHRvIGRvIGZvciBvYmplY3RzIGFzIGNoaWxkcmVuXG4gICAgICBrZXlQcmVmaXggKyAobWFwcGVkQ2hpbGQua2V5ICYmICghY2hpbGQgfHwgY2hpbGQua2V5ICE9PSBtYXBwZWRDaGlsZC5rZXkpID8gZXNjYXBlVXNlclByb3ZpZGVkS2V5KG1hcHBlZENoaWxkLmtleSkgKyAnLycgOiAnJykgKyBjaGlsZEtleSk7XG4gICAgfVxuICAgIHJlc3VsdC5wdXNoKG1hcHBlZENoaWxkKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsKGNoaWxkcmVuLCBhcnJheSwgcHJlZml4LCBmdW5jLCBjb250ZXh0KSB7XG4gIHZhciBlc2NhcGVkUHJlZml4ID0gJyc7XG4gIGlmIChwcmVmaXggIT0gbnVsbCkge1xuICAgIGVzY2FwZWRQcmVmaXggPSBlc2NhcGVVc2VyUHJvdmlkZWRLZXkocHJlZml4KSArICcvJztcbiAgfVxuICB2YXIgdHJhdmVyc2VDb250ZXh0ID0gZ2V0UG9vbGVkVHJhdmVyc2VDb250ZXh0KGFycmF5LCBlc2NhcGVkUHJlZml4LCBmdW5jLCBjb250ZXh0KTtcbiAgdHJhdmVyc2VBbGxDaGlsZHJlbihjaGlsZHJlbiwgbWFwU2luZ2xlQ2hpbGRJbnRvQ29udGV4dCwgdHJhdmVyc2VDb250ZXh0KTtcbiAgcmVsZWFzZVRyYXZlcnNlQ29udGV4dCh0cmF2ZXJzZUNvbnRleHQpO1xufVxuXG4vKipcbiAqIE1hcHMgY2hpbGRyZW4gdGhhdCBhcmUgdHlwaWNhbGx5IHNwZWNpZmllZCBhcyBgcHJvcHMuY2hpbGRyZW5gLlxuICpcbiAqIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwjcmVhY3QuY2hpbGRyZW4ubWFwXG4gKlxuICogVGhlIHByb3ZpZGVkIG1hcEZ1bmN0aW9uKGNoaWxkLCBrZXksIGluZGV4KSB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaFxuICogbGVhZiBjaGlsZC5cbiAqXG4gKiBAcGFyYW0gez8qfSBjaGlsZHJlbiBDaGlsZHJlbiB0cmVlIGNvbnRhaW5lci5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKiwgaW50KX0gZnVuYyBUaGUgbWFwIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IENvbnRleHQgZm9yIG1hcEZ1bmN0aW9uLlxuICogQHJldHVybiB7b2JqZWN0fSBPYmplY3QgY29udGFpbmluZyB0aGUgb3JkZXJlZCBtYXAgb2YgcmVzdWx0cy5cbiAqL1xuZnVuY3Rpb24gbWFwQ2hpbGRyZW4oY2hpbGRyZW4sIGZ1bmMsIGNvbnRleHQpIHtcbiAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH1cbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsKGNoaWxkcmVuLCByZXN1bHQsIG51bGwsIGZ1bmMsIGNvbnRleHQpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENvdW50IHRoZSBudW1iZXIgb2YgY2hpbGRyZW4gdGhhdCBhcmUgdHlwaWNhbGx5IHNwZWNpZmllZCBhc1xuICogYHByb3BzLmNoaWxkcmVuYC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI3JlYWN0LmNoaWxkcmVuLmNvdW50XG4gKlxuICogQHBhcmFtIHs/Kn0gY2hpbGRyZW4gQ2hpbGRyZW4gdHJlZSBjb250YWluZXIuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBudW1iZXIgb2YgY2hpbGRyZW4uXG4gKi9cbmZ1bmN0aW9uIGNvdW50Q2hpbGRyZW4oY2hpbGRyZW4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIHRyYXZlcnNlQWxsQ2hpbGRyZW4oY2hpbGRyZW4sIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNOdWxsLCBudWxsKTtcbn1cblxuLyoqXG4gKiBGbGF0dGVuIGEgY2hpbGRyZW4gb2JqZWN0ICh0eXBpY2FsbHkgc3BlY2lmaWVkIGFzIGBwcm9wcy5jaGlsZHJlbmApIGFuZFxuICogcmV0dXJuIGFuIGFycmF5IHdpdGggYXBwcm9wcmlhdGVseSByZS1rZXllZCBjaGlsZHJlbi5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI3JlYWN0LmNoaWxkcmVuLnRvYXJyYXlcbiAqL1xuZnVuY3Rpb24gdG9BcnJheShjaGlsZHJlbikge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIG1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWwoY2hpbGRyZW4sIHJlc3VsdCwgbnVsbCwgZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0FyZ3VtZW50KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBmaXJzdCBjaGlsZCBpbiBhIGNvbGxlY3Rpb24gb2YgY2hpbGRyZW4gYW5kIHZlcmlmaWVzIHRoYXQgdGhlcmVcbiAqIGlzIG9ubHkgb25lIGNoaWxkIGluIHRoZSBjb2xsZWN0aW9uLlxuICpcbiAqIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwjcmVhY3QuY2hpbGRyZW4ub25seVxuICpcbiAqIFRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIHRoaXMgZnVuY3Rpb24gYXNzdW1lcyB0aGF0IGEgc2luZ2xlIGNoaWxkIGdldHNcbiAqIHBhc3NlZCB3aXRob3V0IGEgd3JhcHBlciwgYnV0IHRoZSBwdXJwb3NlIG9mIHRoaXMgaGVscGVyIGZ1bmN0aW9uIGlzIHRvXG4gKiBhYnN0cmFjdCBhd2F5IHRoZSBwYXJ0aWN1bGFyIHN0cnVjdHVyZSBvZiBjaGlsZHJlbi5cbiAqXG4gKiBAcGFyYW0gez9vYmplY3R9IGNoaWxkcmVuIENoaWxkIGNvbGxlY3Rpb24gc3RydWN0dXJlLlxuICogQHJldHVybiB7UmVhY3RFbGVtZW50fSBUaGUgZmlyc3QgYW5kIG9ubHkgYFJlYWN0RWxlbWVudGAgY29udGFpbmVkIGluIHRoZVxuICogc3RydWN0dXJlLlxuICovXG5mdW5jdGlvbiBvbmx5Q2hpbGQoY2hpbGRyZW4pIHtcbiAgIWlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0LkNoaWxkcmVuLm9ubHkgZXhwZWN0ZWQgdG8gcmVjZWl2ZSBhIHNpbmdsZSBSZWFjdCBlbGVtZW50IGNoaWxkLicpIDogdm9pZCAwO1xuICByZXR1cm4gY2hpbGRyZW47XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbnRleHQoZGVmYXVsdFZhbHVlLCBjYWxjdWxhdGVDaGFuZ2VkQml0cykge1xuICBpZiAoY2FsY3VsYXRlQ2hhbmdlZEJpdHMgPT09IHVuZGVmaW5lZCkge1xuICAgIGNhbGN1bGF0ZUNoYW5nZWRCaXRzID0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICB7XG4gICAgICB3YXJuaW5nKGNhbGN1bGF0ZUNoYW5nZWRCaXRzID09PSBudWxsIHx8IHR5cGVvZiBjYWxjdWxhdGVDaGFuZ2VkQml0cyA9PT0gJ2Z1bmN0aW9uJywgJ2NyZWF0ZUNvbnRleHQ6IEV4cGVjdGVkIHRoZSBvcHRpb25hbCBzZWNvbmQgYXJndW1lbnQgdG8gYmUgYSAnICsgJ2Z1bmN0aW9uLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcycsIGNhbGN1bGF0ZUNoYW5nZWRCaXRzKTtcbiAgICB9XG4gIH1cblxuICB2YXIgY29udGV4dCA9IHtcbiAgICAkJHR5cGVvZjogUkVBQ1RfQ09OVEVYVF9UWVBFLFxuICAgIF9jYWxjdWxhdGVDaGFuZ2VkQml0czogY2FsY3VsYXRlQ2hhbmdlZEJpdHMsXG4gICAgX2RlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlLFxuICAgIF9jdXJyZW50VmFsdWU6IGRlZmF1bHRWYWx1ZSxcbiAgICBfY2hhbmdlZEJpdHM6IDAsXG4gICAgLy8gVGhlc2UgYXJlIGNpcmN1bGFyXG4gICAgUHJvdmlkZXI6IG51bGwsXG4gICAgQ29uc3VtZXI6IG51bGxcbiAgfTtcblxuICBjb250ZXh0LlByb3ZpZGVyID0ge1xuICAgICQkdHlwZW9mOiBSRUFDVF9QUk9WSURFUl9UWVBFLFxuICAgIF9jb250ZXh0OiBjb250ZXh0XG4gIH07XG4gIGNvbnRleHQuQ29uc3VtZXIgPSBjb250ZXh0O1xuXG4gIHtcbiAgICBjb250ZXh0Ll9jdXJyZW50UmVuZGVyZXIgPSBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGNvbnRleHQ7XG59XG5cbmZ1bmN0aW9uIGZvcndhcmRSZWYocmVuZGVyKSB7XG4gIHtcbiAgICB3YXJuaW5nKHR5cGVvZiByZW5kZXIgPT09ICdmdW5jdGlvbicsICdmb3J3YXJkUmVmIHJlcXVpcmVzIGEgcmVuZGVyIGZ1bmN0aW9uIGJ1dCB3YXMgZ2l2ZW4gJXMuJywgcmVuZGVyID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIHJlbmRlcik7XG4gIH1cblxuICByZXR1cm4ge1xuICAgICQkdHlwZW9mOiBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFLFxuICAgIHJlbmRlcjogcmVuZGVyXG4gIH07XG59XG5cbnZhciBkZXNjcmliZUNvbXBvbmVudEZyYW1lID0gZnVuY3Rpb24gKG5hbWUsIHNvdXJjZSwgb3duZXJOYW1lKSB7XG4gIHJldHVybiAnXFxuICAgIGluICcgKyAobmFtZSB8fCAnVW5rbm93bicpICsgKHNvdXJjZSA/ICcgKGF0ICcgKyBzb3VyY2UuZmlsZU5hbWUucmVwbGFjZSgvXi4qW1xcXFxcXC9dLywgJycpICsgJzonICsgc291cmNlLmxpbmVOdW1iZXIgKyAnKScgOiBvd25lck5hbWUgPyAnIChjcmVhdGVkIGJ5ICcgKyBvd25lck5hbWUgKyAnKScgOiAnJyk7XG59O1xuXG5mdW5jdGlvbiBpc1ZhbGlkRWxlbWVudFR5cGUodHlwZSkge1xuICByZXR1cm4gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nIHx8XG4gIC8vIE5vdGU6IGl0cyB0eXBlb2YgbWlnaHQgYmUgb3RoZXIgdGhhbiAnc3ltYm9sJyBvciAnbnVtYmVyJyBpZiBpdCdzIGEgcG9seWZpbGwuXG4gIHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfQVNZTkNfTU9ERV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgfHwgdHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmIHR5cGUgIT09IG51bGwgJiYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX1BST1ZJREVSX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUpO1xufVxuXG5mdW5jdGlvbiBnZXRDb21wb25lbnROYW1lKGZpYmVyKSB7XG4gIHZhciB0eXBlID0gZmliZXIudHlwZTtcblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWU7XG4gIH1cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB0eXBlO1xuICB9XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgUkVBQ1RfRlJBR01FTlRfVFlQRTpcbiAgICAgIHJldHVybiAnUmVhY3RGcmFnbWVudCc7XG4gICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgIHJldHVybiAnUmVhY3RQb3J0YWwnO1xuICAgIGNhc2UgUkVBQ1RfQ0FMTF9UWVBFOlxuICAgICAgcmV0dXJuICdSZWFjdENhbGwnO1xuICAgIGNhc2UgUkVBQ1RfUkVUVVJOX1RZUEU6XG4gICAgICByZXR1cm4gJ1JlYWN0UmV0dXJuJztcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBSZWFjdEVsZW1lbnRWYWxpZGF0b3IgcHJvdmlkZXMgYSB3cmFwcGVyIGFyb3VuZCBhIGVsZW1lbnQgZmFjdG9yeVxuICogd2hpY2ggdmFsaWRhdGVzIHRoZSBwcm9wcyBwYXNzZWQgdG8gdGhlIGVsZW1lbnQuIFRoaXMgaXMgaW50ZW5kZWQgdG8gYmVcbiAqIHVzZWQgb25seSBpbiBERVYgYW5kIGNvdWxkIGJlIHJlcGxhY2VkIGJ5IGEgc3RhdGljIHR5cGUgY2hlY2tlciBmb3IgbGFuZ3VhZ2VzXG4gKiB0aGF0IHN1cHBvcnQgaXQuXG4gKi9cblxudmFyIGN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50ID0gdm9pZCAwO1xudmFyIHByb3BUeXBlc01pc3NwZWxsV2FybmluZ1Nob3duID0gdm9pZCAwO1xuXG52YXIgZ2V0RGlzcGxheU5hbWUgPSBmdW5jdGlvbiAoKSB7fTtcbnZhciBnZXRTdGFja0FkZGVuZHVtID0gZnVuY3Rpb24gKCkge307XG5cbntcbiAgY3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQgPSBudWxsO1xuXG4gIHByb3BUeXBlc01pc3NwZWxsV2FybmluZ1Nob3duID0gZmFsc2U7XG5cbiAgZ2V0RGlzcGxheU5hbWUgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIGlmIChlbGVtZW50ID09IG51bGwpIHtcbiAgICAgIHJldHVybiAnI2VtcHR5JztcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbGVtZW50ID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgZWxlbWVudCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiAnI3RleHQnO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQudHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LnR5cGU7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50LnR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHtcbiAgICAgIHJldHVybiAnUmVhY3QuRnJhZ21lbnQnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZWxlbWVudC50eXBlLmRpc3BsYXlOYW1lIHx8IGVsZW1lbnQudHlwZS5uYW1lIHx8ICdVbmtub3duJztcbiAgICB9XG4gIH07XG5cbiAgZ2V0U3RhY2tBZGRlbmR1bSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3RhY2sgPSAnJztcbiAgICBpZiAoY3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQpIHtcbiAgICAgIHZhciBuYW1lID0gZ2V0RGlzcGxheU5hbWUoY3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQpO1xuICAgICAgdmFyIG93bmVyID0gY3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQuX293bmVyO1xuICAgICAgc3RhY2sgKz0gZGVzY3JpYmVDb21wb25lbnRGcmFtZShuYW1lLCBjdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudC5fc291cmNlLCBvd25lciAmJiBnZXRDb21wb25lbnROYW1lKG93bmVyKSk7XG4gICAgfVxuICAgIHN0YWNrICs9IFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0U3RhY2tBZGRlbmR1bSgpIHx8ICcnO1xuICAgIHJldHVybiBzdGFjaztcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCkge1xuICBpZiAoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgIHZhciBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50KTtcbiAgICBpZiAobmFtZSkge1xuICAgICAgcmV0dXJuICdcXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgJyArIG5hbWUgKyAnYC4nO1xuICAgIH1cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbmZ1bmN0aW9uIGdldFNvdXJjZUluZm9FcnJvckFkZGVuZHVtKGVsZW1lbnRQcm9wcykge1xuICBpZiAoZWxlbWVudFByb3BzICE9PSBudWxsICYmIGVsZW1lbnRQcm9wcyAhPT0gdW5kZWZpbmVkICYmIGVsZW1lbnRQcm9wcy5fX3NvdXJjZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIHNvdXJjZSA9IGVsZW1lbnRQcm9wcy5fX3NvdXJjZTtcbiAgICB2YXIgZmlsZU5hbWUgPSBzb3VyY2UuZmlsZU5hbWUucmVwbGFjZSgvXi4qW1xcXFxcXC9dLywgJycpO1xuICAgIHZhciBsaW5lTnVtYmVyID0gc291cmNlLmxpbmVOdW1iZXI7XG4gICAgcmV0dXJuICdcXG5cXG5DaGVjayB5b3VyIGNvZGUgYXQgJyArIGZpbGVOYW1lICsgJzonICsgbGluZU51bWJlciArICcuJztcbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogV2FybiBpZiB0aGVyZSdzIG5vIGtleSBleHBsaWNpdGx5IHNldCBvbiBkeW5hbWljIGFycmF5cyBvZiBjaGlsZHJlbiBvclxuICogb2JqZWN0IGtleXMgYXJlIG5vdCB2YWxpZC4gVGhpcyBhbGxvd3MgdXMgdG8ga2VlcCB0cmFjayBvZiBjaGlsZHJlbiBiZXR3ZWVuXG4gKiB1cGRhdGVzLlxuICovXG52YXIgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge307XG5cbmZ1bmN0aW9uIGdldEN1cnJlbnRDb21wb25lbnRFcnJvckluZm8ocGFyZW50VHlwZSkge1xuICB2YXIgaW5mbyA9IGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpO1xuXG4gIGlmICghaW5mbykge1xuICAgIHZhciBwYXJlbnROYW1lID0gdHlwZW9mIHBhcmVudFR5cGUgPT09ICdzdHJpbmcnID8gcGFyZW50VHlwZSA6IHBhcmVudFR5cGUuZGlzcGxheU5hbWUgfHwgcGFyZW50VHlwZS5uYW1lO1xuICAgIGlmIChwYXJlbnROYW1lKSB7XG4gICAgICBpbmZvID0gJ1xcblxcbkNoZWNrIHRoZSB0b3AtbGV2ZWwgcmVuZGVyIGNhbGwgdXNpbmcgPCcgKyBwYXJlbnROYW1lICsgJz4uJztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGluZm87XG59XG5cbi8qKlxuICogV2FybiBpZiB0aGUgZWxlbWVudCBkb2Vzbid0IGhhdmUgYW4gZXhwbGljaXQga2V5IGFzc2lnbmVkIHRvIGl0LlxuICogVGhpcyBlbGVtZW50IGlzIGluIGFuIGFycmF5LiBUaGUgYXJyYXkgY291bGQgZ3JvdyBhbmQgc2hyaW5rIG9yIGJlXG4gKiByZW9yZGVyZWQuIEFsbCBjaGlsZHJlbiB0aGF0IGhhdmVuJ3QgYWxyZWFkeSBiZWVuIHZhbGlkYXRlZCBhcmUgcmVxdWlyZWQgdG9cbiAqIGhhdmUgYSBcImtleVwiIHByb3BlcnR5IGFzc2lnbmVkIHRvIGl0LiBFcnJvciBzdGF0dXNlcyBhcmUgY2FjaGVkIHNvIGEgd2FybmluZ1xuICogd2lsbCBvbmx5IGJlIHNob3duIG9uY2UuXG4gKlxuICogQGludGVybmFsXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRoYXQgcmVxdWlyZXMgYSBrZXkuXG4gKiBAcGFyYW0geyp9IHBhcmVudFR5cGUgZWxlbWVudCdzIHBhcmVudCdzIHR5cGUuXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlRXhwbGljaXRLZXkoZWxlbWVudCwgcGFyZW50VHlwZSkge1xuICBpZiAoIWVsZW1lbnQuX3N0b3JlIHx8IGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCB8fCBlbGVtZW50LmtleSAhPSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG5cbiAgdmFyIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8gPSBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpO1xuICBpZiAob3duZXJIYXNLZXlVc2VXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIG93bmVySGFzS2V5VXNlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSA9IHRydWU7XG5cbiAgLy8gVXN1YWxseSB0aGUgY3VycmVudCBvd25lciBpcyB0aGUgb2ZmZW5kZXIsIGJ1dCBpZiBpdCBhY2NlcHRzIGNoaWxkcmVuIGFzIGFcbiAgLy8gcHJvcGVydHksIGl0IG1heSBiZSB0aGUgY3JlYXRvciBvZiB0aGUgY2hpbGQgdGhhdCdzIHJlc3BvbnNpYmxlIGZvclxuICAvLyBhc3NpZ25pbmcgaXQgYSBrZXkuXG4gIHZhciBjaGlsZE93bmVyID0gJyc7XG4gIGlmIChlbGVtZW50ICYmIGVsZW1lbnQuX293bmVyICYmIGVsZW1lbnQuX293bmVyICE9PSBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50KSB7XG4gICAgLy8gR2l2ZSB0aGUgY29tcG9uZW50IHRoYXQgb3JpZ2luYWxseSBjcmVhdGVkIHRoaXMgY2hpbGQuXG4gICAgY2hpbGRPd25lciA9ICcgSXQgd2FzIHBhc3NlZCBhIGNoaWxkIGZyb20gJyArIGdldENvbXBvbmVudE5hbWUoZWxlbWVudC5fb3duZXIpICsgJy4nO1xuICB9XG5cbiAgY3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQgPSBlbGVtZW50O1xuICB7XG4gICAgd2FybmluZyhmYWxzZSwgJ0VhY2ggY2hpbGQgaW4gYW4gYXJyYXkgb3IgaXRlcmF0b3Igc2hvdWxkIGhhdmUgYSB1bmlxdWUgXCJrZXlcIiBwcm9wLicgKyAnJXMlcyBTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC13YXJuaW5nLWtleXMgZm9yIG1vcmUgaW5mb3JtYXRpb24uJXMnLCBjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvLCBjaGlsZE93bmVyLCBnZXRTdGFja0FkZGVuZHVtKCkpO1xuICB9XG4gIGN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50ID0gbnVsbDtcbn1cblxuLyoqXG4gKiBFbnN1cmUgdGhhdCBldmVyeSBlbGVtZW50IGVpdGhlciBpcyBwYXNzZWQgaW4gYSBzdGF0aWMgbG9jYXRpb24sIGluIGFuXG4gKiBhcnJheSB3aXRoIGFuIGV4cGxpY2l0IGtleXMgcHJvcGVydHkgZGVmaW5lZCwgb3IgaW4gYW4gb2JqZWN0IGxpdGVyYWxcbiAqIHdpdGggdmFsaWQga2V5IHByb3BlcnR5LlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdE5vZGV9IG5vZGUgU3RhdGljYWxseSBwYXNzZWQgY2hpbGQgb2YgYW55IHR5cGUuXG4gKiBAcGFyYW0geyp9IHBhcmVudFR5cGUgbm9kZSdzIHBhcmVudCdzIHR5cGUuXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlQ2hpbGRLZXlzKG5vZGUsIHBhcmVudFR5cGUpIHtcbiAgaWYgKHR5cGVvZiBub2RlICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShub2RlKSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGNoaWxkID0gbm9kZVtpXTtcbiAgICAgIGlmIChpc1ZhbGlkRWxlbWVudChjaGlsZCkpIHtcbiAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShjaGlsZCwgcGFyZW50VHlwZSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzVmFsaWRFbGVtZW50KG5vZGUpKSB7XG4gICAgLy8gVGhpcyBlbGVtZW50IHdhcyBwYXNzZWQgaW4gYSB2YWxpZCBsb2NhdGlvbi5cbiAgICBpZiAobm9kZS5fc3RvcmUpIHtcbiAgICAgIG5vZGUuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gICAgfVxuICB9IGVsc2UgaWYgKG5vZGUpIHtcbiAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obm9kZSk7XG4gICAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBFbnRyeSBpdGVyYXRvcnMgdXNlZCB0byBwcm92aWRlIGltcGxpY2l0IGtleXMsXG4gICAgICAvLyBidXQgbm93IHdlIHByaW50IGEgc2VwYXJhdGUgd2FybmluZyBmb3IgdGhlbSBsYXRlci5cbiAgICAgIGlmIChpdGVyYXRvckZuICE9PSBub2RlLmVudHJpZXMpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG5vZGUpO1xuICAgICAgICB2YXIgc3RlcCA9IHZvaWQgMDtcbiAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgIGlmIChpc1ZhbGlkRWxlbWVudChzdGVwLnZhbHVlKSkge1xuICAgICAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShzdGVwLnZhbHVlLCBwYXJlbnRUeXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBHaXZlbiBhbiBlbGVtZW50LCB2YWxpZGF0ZSB0aGF0IGl0cyBwcm9wcyBmb2xsb3cgdGhlIHByb3BUeXBlcyBkZWZpbml0aW9uLFxuICogcHJvdmlkZWQgYnkgdGhlIHR5cGUuXG4gKlxuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVQcm9wVHlwZXMoZWxlbWVudCkge1xuICB2YXIgY29tcG9uZW50Q2xhc3MgPSBlbGVtZW50LnR5cGU7XG4gIGlmICh0eXBlb2YgY29tcG9uZW50Q2xhc3MgIT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG5hbWUgPSBjb21wb25lbnRDbGFzcy5kaXNwbGF5TmFtZSB8fCBjb21wb25lbnRDbGFzcy5uYW1lO1xuICB2YXIgcHJvcFR5cGVzID0gY29tcG9uZW50Q2xhc3MucHJvcFR5cGVzO1xuICBpZiAocHJvcFR5cGVzKSB7XG4gICAgY3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQgPSBlbGVtZW50O1xuICAgIGNoZWNrUHJvcFR5cGVzKHByb3BUeXBlcywgZWxlbWVudC5wcm9wcywgJ3Byb3AnLCBuYW1lLCBnZXRTdGFja0FkZGVuZHVtKTtcbiAgICBjdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCA9IG51bGw7XG4gIH0gZWxzZSBpZiAoY29tcG9uZW50Q2xhc3MuUHJvcFR5cGVzICE9PSB1bmRlZmluZWQgJiYgIXByb3BUeXBlc01pc3NwZWxsV2FybmluZ1Nob3duKSB7XG4gICAgcHJvcFR5cGVzTWlzc3BlbGxXYXJuaW5nU2hvd24gPSB0cnVlO1xuICAgIHdhcm5pbmcoZmFsc2UsICdDb21wb25lbnQgJXMgZGVjbGFyZWQgYFByb3BUeXBlc2AgaW5zdGVhZCBvZiBgcHJvcFR5cGVzYC4gRGlkIHlvdSBtaXNzcGVsbCB0aGUgcHJvcGVydHkgYXNzaWdubWVudD8nLCBuYW1lIHx8ICdVbmtub3duJyk7XG4gIH1cbiAgaWYgKHR5cGVvZiBjb21wb25lbnRDbGFzcy5nZXREZWZhdWx0UHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICB3YXJuaW5nKGNvbXBvbmVudENsYXNzLmdldERlZmF1bHRQcm9wcy5pc1JlYWN0Q2xhc3NBcHByb3ZlZCwgJ2dldERlZmF1bHRQcm9wcyBpcyBvbmx5IHVzZWQgb24gY2xhc3NpYyBSZWFjdC5jcmVhdGVDbGFzcyAnICsgJ2RlZmluaXRpb25zLiBVc2UgYSBzdGF0aWMgcHJvcGVydHkgbmFtZWQgYGRlZmF1bHRQcm9wc2AgaW5zdGVhZC4nKTtcbiAgfVxufVxuXG4vKipcbiAqIEdpdmVuIGEgZnJhZ21lbnQsIHZhbGlkYXRlIHRoYXQgaXQgY2FuIG9ubHkgYmUgcHJvdmlkZWQgd2l0aCBmcmFnbWVudCBwcm9wc1xuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGZyYWdtZW50XG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhmcmFnbWVudCkge1xuICBjdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCA9IGZyYWdtZW50O1xuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZnJhZ21lbnQucHJvcHMpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICBpZiAoa2V5ICE9PSAnY2hpbGRyZW4nICYmIGtleSAhPT0gJ2tleScpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIHByb3AgYCVzYCBzdXBwbGllZCB0byBgUmVhY3QuRnJhZ21lbnRgLiAnICsgJ1JlYWN0LkZyYWdtZW50IGNhbiBvbmx5IGhhdmUgYGtleWAgYW5kIGBjaGlsZHJlbmAgcHJvcHMuJXMnLCBrZXksIGdldFN0YWNrQWRkZW5kdW0oKSk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoZnJhZ21lbnQucmVmICE9PSBudWxsKSB7XG4gICAgd2FybmluZyhmYWxzZSwgJ0ludmFsaWQgYXR0cmlidXRlIGByZWZgIHN1cHBsaWVkIHRvIGBSZWFjdC5GcmFnbWVudGAuJXMnLCBnZXRTdGFja0FkZGVuZHVtKCkpO1xuICB9XG5cbiAgY3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQgPSBudWxsO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50V2l0aFZhbGlkYXRpb24odHlwZSwgcHJvcHMsIGNoaWxkcmVuKSB7XG4gIHZhciB2YWxpZFR5cGUgPSBpc1ZhbGlkRWxlbWVudFR5cGUodHlwZSk7XG5cbiAgLy8gV2Ugd2FybiBpbiB0aGlzIGNhc2UgYnV0IGRvbid0IHRocm93LiBXZSBleHBlY3QgdGhlIGVsZW1lbnQgY3JlYXRpb24gdG9cbiAgLy8gc3VjY2VlZCBhbmQgdGhlcmUgd2lsbCBsaWtlbHkgYmUgZXJyb3JzIGluIHJlbmRlci5cbiAgaWYgKCF2YWxpZFR5cGUpIHtcbiAgICB2YXIgaW5mbyA9ICcnO1xuICAgIGlmICh0eXBlID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmIHR5cGUgIT09IG51bGwgJiYgT2JqZWN0LmtleXModHlwZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICBpbmZvICs9ICcgWW91IGxpa2VseSBmb3Jnb3QgdG8gZXhwb3J0IHlvdXIgY29tcG9uZW50IGZyb20gdGhlIGZpbGUgJyArIFwiaXQncyBkZWZpbmVkIGluLCBvciB5b3UgbWlnaHQgaGF2ZSBtaXhlZCB1cCBkZWZhdWx0IGFuZCBuYW1lZCBpbXBvcnRzLlwiO1xuICAgIH1cblxuICAgIHZhciBzb3VyY2VJbmZvID0gZ2V0U291cmNlSW5mb0Vycm9yQWRkZW5kdW0ocHJvcHMpO1xuICAgIGlmIChzb3VyY2VJbmZvKSB7XG4gICAgICBpbmZvICs9IHNvdXJjZUluZm87XG4gICAgfSBlbHNlIHtcbiAgICAgIGluZm8gKz0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG4gICAgfVxuXG4gICAgaW5mbyArPSBnZXRTdGFja0FkZGVuZHVtKCkgfHwgJyc7XG5cbiAgICB2YXIgdHlwZVN0cmluZyA9IHZvaWQgMDtcbiAgICBpZiAodHlwZSA9PT0gbnVsbCkge1xuICAgICAgdHlwZVN0cmluZyA9ICdudWxsJztcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodHlwZSkpIHtcbiAgICAgIHR5cGVTdHJpbmcgPSAnYXJyYXknO1xuICAgIH0gZWxzZSB7XG4gICAgICB0eXBlU3RyaW5nID0gdHlwZW9mIHR5cGU7XG4gICAgfVxuXG4gICAgd2FybmluZyhmYWxzZSwgJ1JlYWN0LmNyZWF0ZUVsZW1lbnQ6IHR5cGUgaXMgaW52YWxpZCAtLSBleHBlY3RlZCBhIHN0cmluZyAoZm9yICcgKyAnYnVpbHQtaW4gY29tcG9uZW50cykgb3IgYSBjbGFzcy9mdW5jdGlvbiAoZm9yIGNvbXBvc2l0ZSAnICsgJ2NvbXBvbmVudHMpIGJ1dCBnb3Q6ICVzLiVzJywgdHlwZVN0cmluZywgaW5mbyk7XG4gIH1cblxuICB2YXIgZWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAvLyBUaGUgcmVzdWx0IGNhbiBiZSBudWxsaXNoIGlmIGEgbW9jayBvciBhIGN1c3RvbSBmdW5jdGlvbiBpcyB1c2VkLlxuICAvLyBUT0RPOiBEcm9wIHRoaXMgd2hlbiB0aGVzZSBhcmUgbm8gbG9uZ2VyIGFsbG93ZWQgYXMgdGhlIHR5cGUgYXJndW1lbnQuXG4gIGlmIChlbGVtZW50ID09IG51bGwpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIC8vIFNraXAga2V5IHdhcm5pbmcgaWYgdGhlIHR5cGUgaXNuJ3QgdmFsaWQgc2luY2Ugb3VyIGtleSB2YWxpZGF0aW9uIGxvZ2ljXG4gIC8vIGRvZXNuJ3QgZXhwZWN0IGEgbm9uLXN0cmluZy9mdW5jdGlvbiB0eXBlIGFuZCBjYW4gdGhyb3cgY29uZnVzaW5nIGVycm9ycy5cbiAgLy8gV2UgZG9uJ3Qgd2FudCBleGNlcHRpb24gYmVoYXZpb3IgdG8gZGlmZmVyIGJldHdlZW4gZGV2IGFuZCBwcm9kLlxuICAvLyAoUmVuZGVyaW5nIHdpbGwgdGhyb3cgd2l0aCBhIGhlbHBmdWwgbWVzc2FnZSBhbmQgYXMgc29vbiBhcyB0aGUgdHlwZSBpc1xuICAvLyBmaXhlZCwgdGhlIGtleSB3YXJuaW5ncyB3aWxsIGFwcGVhci4pXG4gIGlmICh2YWxpZFR5cGUpIHtcbiAgICBmb3IgKHZhciBpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFsaWRhdGVDaGlsZEtleXMoYXJndW1lbnRzW2ldLCB0eXBlKTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSkge1xuICAgIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhlbGVtZW50KTtcbiAgfSBlbHNlIHtcbiAgICB2YWxpZGF0ZVByb3BUeXBlcyhlbGVtZW50KTtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGYWN0b3J5V2l0aFZhbGlkYXRpb24odHlwZSkge1xuICB2YXIgdmFsaWRhdGVkRmFjdG9yeSA9IGNyZWF0ZUVsZW1lbnRXaXRoVmFsaWRhdGlvbi5iaW5kKG51bGwsIHR5cGUpO1xuICB2YWxpZGF0ZWRGYWN0b3J5LnR5cGUgPSB0eXBlO1xuICAvLyBMZWdhY3kgaG9vazogcmVtb3ZlIGl0XG4gIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodmFsaWRhdGVkRmFjdG9yeSwgJ3R5cGUnLCB7XG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICBsb3dQcmlvcml0eVdhcm5pbmckMShmYWxzZSwgJ0ZhY3RvcnkudHlwZSBpcyBkZXByZWNhdGVkLiBBY2Nlc3MgdGhlIGNsYXNzIGRpcmVjdGx5ICcgKyAnYmVmb3JlIHBhc3NpbmcgaXQgdG8gY3JlYXRlRmFjdG9yeS4nKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICd0eXBlJywge1xuICAgICAgICAgIHZhbHVlOiB0eXBlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB2YWxpZGF0ZWRGYWN0b3J5O1xufVxuXG5mdW5jdGlvbiBjbG9uZUVsZW1lbnRXaXRoVmFsaWRhdGlvbihlbGVtZW50LCBwcm9wcywgY2hpbGRyZW4pIHtcbiAgdmFyIG5ld0VsZW1lbnQgPSBjbG9uZUVsZW1lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgZm9yICh2YXIgaSA9IDI7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YWxpZGF0ZUNoaWxkS2V5cyhhcmd1bWVudHNbaV0sIG5ld0VsZW1lbnQudHlwZSk7XG4gIH1cbiAgdmFsaWRhdGVQcm9wVHlwZXMobmV3RWxlbWVudCk7XG4gIHJldHVybiBuZXdFbGVtZW50O1xufVxuXG52YXIgUmVhY3QgPSB7XG4gIENoaWxkcmVuOiB7XG4gICAgbWFwOiBtYXBDaGlsZHJlbixcbiAgICBmb3JFYWNoOiBmb3JFYWNoQ2hpbGRyZW4sXG4gICAgY291bnQ6IGNvdW50Q2hpbGRyZW4sXG4gICAgdG9BcnJheTogdG9BcnJheSxcbiAgICBvbmx5OiBvbmx5Q2hpbGRcbiAgfSxcblxuICBjcmVhdGVSZWY6IGNyZWF0ZVJlZixcbiAgQ29tcG9uZW50OiBDb21wb25lbnQsXG4gIFB1cmVDb21wb25lbnQ6IFB1cmVDb21wb25lbnQsXG5cbiAgY3JlYXRlQ29udGV4dDogY3JlYXRlQ29udGV4dCxcbiAgZm9yd2FyZFJlZjogZm9yd2FyZFJlZixcblxuICBGcmFnbWVudDogUkVBQ1RfRlJBR01FTlRfVFlQRSxcbiAgU3RyaWN0TW9kZTogUkVBQ1RfU1RSSUNUX01PREVfVFlQRSxcbiAgdW5zdGFibGVfQXN5bmNNb2RlOiBSRUFDVF9BU1lOQ19NT0RFX1RZUEUsXG5cbiAgY3JlYXRlRWxlbWVudDogY3JlYXRlRWxlbWVudFdpdGhWYWxpZGF0aW9uLFxuICBjbG9uZUVsZW1lbnQ6IGNsb25lRWxlbWVudFdpdGhWYWxpZGF0aW9uLFxuICBjcmVhdGVGYWN0b3J5OiBjcmVhdGVGYWN0b3J5V2l0aFZhbGlkYXRpb24sXG4gIGlzVmFsaWRFbGVtZW50OiBpc1ZhbGlkRWxlbWVudCxcblxuICB2ZXJzaW9uOiBSZWFjdFZlcnNpb24sXG5cbiAgX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ6IHtcbiAgICBSZWFjdEN1cnJlbnRPd25lcjogUmVhY3RDdXJyZW50T3duZXIsXG4gICAgLy8gVXNlZCBieSByZW5kZXJlcnMgdG8gYXZvaWQgYnVuZGxpbmcgb2JqZWN0LWFzc2lnbiB0d2ljZSBpbiBVTUQgYnVuZGxlczpcbiAgICBhc3NpZ246IF9hc3NpZ25cbiAgfVxufTtcblxue1xuICBfYXNzaWduKFJlYWN0Ll9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVELCB7XG4gICAgLy8gVGhlc2Ugc2hvdWxkIG5vdCBiZSBpbmNsdWRlZCBpbiBwcm9kdWN0aW9uLlxuICAgIFJlYWN0RGVidWdDdXJyZW50RnJhbWU6IFJlYWN0RGVidWdDdXJyZW50RnJhbWUsXG4gICAgLy8gU2hpbSBmb3IgUmVhY3QgRE9NIDE2LjAuMCB3aGljaCBzdGlsbCBkZXN0cnVjdHVyZWQgKGJ1dCBub3QgdXNlZCkgdGhpcy5cbiAgICAvLyBUT0RPOiByZW1vdmUgaW4gUmVhY3QgMTcuMC5cbiAgICBSZWFjdENvbXBvbmVudFRyZWVIb29rOiB7fVxuICB9KTtcbn1cblxuXG5cbnZhciBSZWFjdCQyID0gT2JqZWN0LmZyZWV6ZSh7XG5cdGRlZmF1bHQ6IFJlYWN0XG59KTtcblxudmFyIFJlYWN0JDMgPSAoIFJlYWN0JDIgJiYgUmVhY3QgKSB8fCBSZWFjdCQyO1xuXG4vLyBUT0RPOiBkZWNpZGUgb24gdGhlIHRvcC1sZXZlbCBleHBvcnQgZm9ybS5cbi8vIFRoaXMgaXMgaGFja3kgYnV0IG1ha2VzIGl0IHdvcmsgd2l0aCBib3RoIFJvbGx1cCBhbmQgSmVzdC5cbnZhciByZWFjdCA9IFJlYWN0JDNbJ2RlZmF1bHQnXSA/IFJlYWN0JDNbJ2RlZmF1bHQnXSA6IFJlYWN0JDM7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVhY3Q7XG4gIH0pKCk7XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJ1xuaW1wb3J0IHtBY2NvdW50U3RhdHVzfSBmcm9tICcuLi9zcmMvaW5kZXgnXG5cblJlYWN0RE9NLnJlbmRlcihcbiAgPEFjY291bnRTdGF0dXMgLz4sXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JylcbilcbiJdLCJzb3VyY2VSb290IjoiIn0=