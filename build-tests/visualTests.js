!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=125)}([function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(6);t.Promise="undefined"!=typeof window&&window.Promise?window.Promise:void 0!==e&&e.Promise?e.Promise:r.Promise,t._assign=function(e){return e?JSON.parse(JSON.stringify(e)):null},t.fastCHAIN=function(e,n){return new t.Promise(function(t,o){if(e&&e.length){var i=[],a=function(){i.length<e.length?n(e[i.length],i.length,function(e){i.push(e),r.setFast(a)}):t(i)};a()}else t([])})},t.fastRACE=function(e,n){return new t.Promise(function(t,r){if(e&&e.length){var o=!1,i=0,a=function(){i<e.length&&(n(e[i],i,function(e){o||(o=!0,t([e]))}),i++,a())};a()}else t([])})},t.fastALL=function(e,n){return t.Promise.all((e||[]).map(function(e,r){return new t.Promise(function(t,o){n(e,r,function(e){t(e)})})}))};var o="undefined"==typeof window?"":navigator.userAgent||"";t.isSafari=0!==o.length&&(/^((?!chrome|android).)*safari/i.test(o)||/iPad|iPhone|iPod/.test(o)&&!window.MSStream),t.isMSBrowser=0!==o.length&&(o.indexOf("MSIE ")>0||o.indexOf("Trident/")>0||o.indexOf("Edge/")>0),t.isAndroid=/Android/.test(o),t.random16Bits=function(){if("undefined"==typeof crypto)return Math.round(Math.random()*Math.pow(2,16));if(crypto.getRandomValues){var t=new Uint16Array(1);return crypto.getRandomValues(t),t[0]}return void 0!==e&&e._crypto.randomBytes?e._crypto.randomBytes(2).reduce(function(e,t){return t*e}):Math.round(Math.random()*Math.pow(2,16))},t.timeid=function(e){for(var n=Math.round((new Date).getTime()/(e?1:1e3)).toString();n.length<(e?13:10);)n="0"+n;return n+"-"+(t.random16Bits()+t.random16Bits()).toString(16)},t.intersect=function(e,t){return!(!e||!t)&&(!(!e.length||!t.length)&&(e||[]).filter(function(e){return-1!==(t||[]).indexOf(e)}).length>0)},t.uuid=function(){var e,n,r="";return[r,r,r,r,r,r,r,r].reduce(function(o,i,a){for(e=t.random16Bits(),n=3===a?4:4===a?(e%16&3|8).toString(16):r,e=e.toString(16);e.length<4;)e="0"+e;return o+([2,3,4,5].indexOf(a)>-1?"-":r)+(n+e).slice(0,4)},r)};var i={int:function(e){return e},uuid:t.uuid,timeId:function(){return t.timeid()},timeIdms:function(){return t.timeid(!0)}};t.hash=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString(16)},t.generateID=function(e,t){return i[e]?i[e](t||1):""},t.cleanArgs=function(e,n){for(var r={},o=e.length;o--;){var i=e[o].split(":");i.length>1?r[i[0]]=t.cast(i[1],n[i[0]]||void 0):r[i[0]]=n[i[0]]||void 0}return r},t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.cast=function(e,n){if("any"===e||"blob"===e)return n;var r=typeof n;if("undefined"===r||null===n)return n;var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},i=function(e,n){switch(e){case"safestr":return i("string",n).replace(/[&<>"'`=\/]/gim,function(e){return o[e]});case"int":return"number"!==r||n%1!=0?parseInt(n||0):n;case"number":case"float":return"number"!==r?parseFloat(n||0):n;case"any[]":case"array":return Array.isArray(n)?n:[];case"uuid":case"timeId":case"timeIdms":case"string":return"string"!==r?String(n):n;case"object":case"obj":case"map":return t.isObject(n)?n:{};case"boolean":case"bool":return!0===n}return n},a=i(String(e||"").toLowerCase(),n);if(-1!==e.indexOf("[]")){var s=e.slice(0,e.lastIndexOf("[]"));return(n||[]).map(function(e){return t.cast(s,e)})}return void 0!==a?["int","float","number"].indexOf(e)>-1&&isNaN(a)?0:a:void 0},t.sortedInsert=function(e,n,r,o){return e.length?(e.splice(t.binarySearch(e,n),0,n),e):(e.push(n),e)},t.binarySearch=function(e,n,r,o){var i=e.length,a=r||0,s=void 0!==o?o:i-1;if(0===i)return 0;if(n>e[s])return s+1;if(n<e[a])return a;if(a>=s)return 0;var u=a+Math.floor((s-a)/2);return n<e[u]?t.binarySearch(e,n,a,u-1):n>e[u]?t.binarySearch(e,n,u+1,s):0},t.removeDuplicates=function(e){if(!e.length)return[];for(var t=[e[0]],n=1;n<e.length;n++)e[n]!==e[n-1]&&t.push(e[n]);return t},t.deepFreeze=function(e){return Object.getOwnPropertyNames(e||{}).forEach(function(n){var r=e[n];"object"==typeof r&&null!==r&&(e[n]=t.deepFreeze(r))}),Object.freeze(e)};var a={};t.objQuery=function(e,t,n){var r=function(e,t,n){return e[t]&&n?r(e,t+1,n[e[t]]):n},o=e+(n?"1":"0");if(a[o])return r(a[o],0,t);var i=[];if(i=e.indexOf("[")>-1?[].concat.apply([],e.split(".").map(function(e){return e.match(/([^\[]+)|\[([^\]]+)\]\[/gim)||e})).map(function(e){return e.replace(/\[|\]/gim,"")}):e.split("."),n){var s=i.shift()+"."+i.shift();i.unshift(s)}return a[o]=i,r(a[o],0,t)}}).call(this,n(17))},function(e,t){var n=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(12)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(13),o=n(46),i=n(29),a=Object.defineProperty;t.f=n(3)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=0,r={},o=Array.prototype.slice,i="undefined"!=typeof window&&window.setImmediate?window.setImmediate:!(void 0===e||!e.setImmediate)&&e.setImmediate,a="undefined"!=typeof window&&window.postMessage&&window.addEventListener,s="undefined"!=typeof window&&window.Promise?window.Promise:!(void 0===e||!e.Promise)&&e.Promise,u=function(e){return e[0].apply(null,o.call(e,1))};a&&window.addEventListener("message",function(e){var t,n=e.data;"string"==typeof n&&0===n.indexOf("setMsg")&&(t=r[n])&&(delete r[n],u(t))});var l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=n++,i="setMsg"+o;return r[i]=e,window.postMessage(i,"*"),o};t.setFast=i?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i(function(){u(e)})}:s?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];s.resolve().then(function(){u(e)})}:a?l:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];setTimeout(function(){u(e)},0)};var c=function(){},f=["R"],d=["F"],p=["P"],h=function(){function t(e){this._state=p,this._queue=[],this._outcome=void 0,e!==c&&b(this,e)}return t.doPolyFill=function(){void 0!==e&&(e.Promise||(e.Promise=this)),"undefined"!=typeof window&&(window.Promise||(window.Promise=this))},t.prototype.catch=function(e){return this.then(function(){},e)},t.prototype.then=function(e,n){if("function"!=typeof e&&this._state===d||"function"!=typeof n&&this._state===f)return this;var r=new t(c);this._state!==p?m(r,this._state===d?e:n,this._outcome):this._queue.push(new y(r,e,n));return r},t.resolve=function(e){return e instanceof this?e:v._resolve(new t(c),e)},t.reject=function(e){return v._reject(new t(c),e)},t.all=function(e){return new t(function(t,n){var r=[];if(e.length)for(var o=function(n,o,i){void 0!==i?r.push(i):r.push(o),r.length==e.length&&t(r)},i=function(t){e[t].then(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o(0,e,void 0)}).catch(function(e){o(0,void 0,e)})},a=0;a<e.length;a++)i(a);else t([])})},t.race=function(e){var n,r=this,o=e.length,i=!1,a=-1,s=new t(c);if(!1!==Array.isArray(e))return this.reject(new TypeError);if(!o)return this.resolve([]);for(;++a<o;)n=e[a],r.resolve(n).then(function(e){i||(i=!0,v._resolve(s,e))},function(e){i||(i=!0,v._reject(s,e))});return s},t}();t.Promise=h;var y=function(){function e(e,t,n){this._promise=e,"function"==typeof t&&(this._onFulfilled=t,this._callFulfilled=this._otherCallFulfilled),"function"==typeof n&&(this._onRejected=n,this._callRejected=this._otherCallRejected)}return e.prototype._callFulfilled=function(e){v._resolve(this._promise,e)},e.prototype._otherCallFulfilled=function(e){m(this._promise,this._onFulfilled,e)},e.prototype._callRejected=function(e){v._reject(this._promise,e)},e.prototype._otherCallRejected=function(e){m(this._promise,this._onRejected,e)},e}();function m(e,n,r){t.setFast(function(){var t;try{t=n.apply(null,r)}catch(t){return v._reject(e,t)}return t===e?v._reject(e,new TypeError):v._resolve(e,t),null})}t._QueueItem=y;var v=function(){function e(){}return e._resolve=function(t,n){var r=_(g,n),o=r._value,i=-1,a=t._queue.length;if("error"===r._status)return e._reject(t,r._value);if(o)b(t,o);else for(t._state=d,t._outcome=n;++i<a;)t._queue[i]._callFulfilled(n);return t},e._reject=function(e,t){e._state=f,e._outcome=t;for(var n=-1,r=e._queue.length;++n<r;)e._queue[n]._callRejected(t);return e},e}();function g(e){var t=e&&e.then;return!e||"object"!=typeof e&&"function"!=typeof e||"function"!=typeof t?null:function(){t.apply(e,arguments)}}function b(e,t){var n=!1;function r(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];n||(n=!0,v._reject(e,t))}function o(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];n||(n=!0,v._resolve(e,t))}var i=_(function(){t(o,r)});"error"===i._status&&r(i._value)}function _(e,t){var n={_status:null,_value:null};try{n._value=e(t),n._status="success"}catch(e){n._status="error",n._value=e}return n}}).call(this,n(17))},function(e,t,n){var r=n(30)("wks"),o=n(16),i=n(2).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){var r=n(91),o=n(32);e.exports=function(e){return r(o(e))}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(4),o=n(15);e.exports=n(3)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(2),o=n(1),i=n(47),a=n(10),s=n(5),u=function(e,t,n){var l,c,f,d=e&u.F,p=e&u.G,h=e&u.S,y=e&u.P,m=e&u.B,v=e&u.W,g=p?o:o[t]||(o[t]={}),b=g.prototype,_=p?r:h?r[t]:(r[t]||{}).prototype;for(l in p&&(n=t),n)(c=!d&&_&&void 0!==_[l])&&s(g,l)||(f=c?_[l]:n[l],g[l]=p&&"function"!=typeof _[l]?n[l]:m&&c?i(f,r):v&&_[l]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):y&&"function"==typeof f?i(Function.call,f):f,y&&((g.virtual||(g.virtual={}))[l]=f,e&u.R&&b&&!b[l]&&a(b,l,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(9);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(){function e(){this._sorted=[],this._indexOf={},this.ai=1,this.doAI=!1}return e.prototype.set=function(e){var t=this;if(this._sorted=e||[],this._indexOf={},this._sorted.forEach(function(e,n){t._indexOf[String(e)]=n}),this.doAI&&this._sorted.length){var n=this._sorted.length;this.ai=this._sorted[n-1]+1}},e.prototype.getLocation=function(e){var t=this.indexOf(e);return-1!==t?t:r.binarySearch(this._sorted,e)},e.prototype.add=function(e){if(this.doAI)parseInt(e)>=this.ai&&this.ai++,this._indexOf[String(e)]=this._sorted.length,this._sorted.push(e);else{var t=r.binarySearch(this._sorted,e);this._sorted.splice(t,0,e),this._indexOf[String(e)]=t;for(var n=t+1;n<this._sorted.length;n++)this._indexOf[String(this._sorted[n])]++}},e.prototype.keys=function(){return this._sorted},e.prototype.indexOf=function(e){return void 0!==this._indexOf[String(e)]?this._indexOf[String(e)]:-1},e.prototype.remove=function(e){var t=this._indexOf[String(e)];if(void 0!==t){delete this._indexOf[String(e)],this._sorted.splice(t,1);for(var n=t;n<this._sorted.length;n++)this._indexOf[String(this._sorted[n])]--}},e}();t.DatabaseIndex=o},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),i=n(64),a=n(63),s=n(62),u=n(0),l=n(61),c=n(53),f=1.41,d=["_util"],p=function(){function e(){this.version=f,this._onConnectedCallBacks=[];var e=this;e._actions={},e._views={},e.dataModels={},e._events=["*","change","delete","upsert","drop","select","error"],e._hasEvents={},e.tableNames=[],e.plugins=[],e.hasPK={},e.skipPurge={},e.toRowFns={},e.tablePKs={},e.toColFns={},e.toColRules={},e._randoms=[],e._randomPtr=0,e.hasAnyEvents=!1;for(var t=0;t<200;t++)e._randoms.push(u.random16Bits().toString(16));e._callbacks={},e._callbacks["*"]=new s.ReallySmallEvents,e.iB=new l.NanoSQLDefaultBackend;var n={models:{},actions:{},views:{},config:{},parent:this};e.iB.willConnect&&e.iB.willConnect(n,function(){e.iB.didConnect&&e.iB.didConnect(n,function(){})})}return e.prototype.toColumn=function(e){return this.toColFns[this.sTable]||(this.toColFns[this.sTable]={}),this.toColFns[this.sTable]=e,this},e.prototype.toRow=function(e){return this.toRowFns[this.sTable]||(this.toRowFns[this.sTable]={}),this.toRowFns[this.sTable]=e,this},e.prototype.fastRand=function(){return this._randomPtr++,this._randomPtr>=this._randoms.length&&(this._randomPtr=0),this._randoms[this._randomPtr]},e.prototype.table=function(e){return e&&(this.sTable=e),this},e.prototype.connect=function(){var e=this,t=this;return new u.Promise(function(n,r){var o={models:t.dataModels,actions:t._actions,views:t._views,config:t._config,parent:e};o.models[d[0]]=[{key:"key",type:"string",props:["pk()","ai()"]},{key:"value",type:"any"}],t._config&&t._config.history&&e.use(new c._NanoSQLHistoryPlugin(t._config.historyMode)),t._config&&!1===t._config.mode||e.use(new l.NanoSQLDefaultBackend),u.fastCHAIN(e.plugins,function(e,t,n){e.willConnect?e.willConnect(o,function(e){o=e,n()}):n()}).then(function(){e.dataModels=o.models,e._actions=o.actions,e._views=o.views,e._config=o.config,Object.keys(e.dataModels).forEach(function(t){var n=!1;e.dataModels[t]=e.dataModels[t].filter(function(e){return"*"!==e.key||"*"!==e.type||(n=!0,!1)}),e.skipPurge[t]=n}),e.plugins.forEach(function(t){t.didExec&&(e.pluginHasDidExec=!0)}),t.tableNames=Object.keys(e.dataModels);var r=function(){u.fastALL(e.plugins,function(e,t,n){e.didConnect?e.didConnect(o,function(){n()}):n()}).then(function(){e.isConnected=!0,e._onConnectedCallBacks.length&&e._onConnectedCallBacks.forEach(function(e){return e()}),n(t.tableNames)})},i=function(t){e.query("upsert",{key:"version",value:e.version}).manualExec({table:"_util"}).then(function(){t?e.extend("rebuild_idx").then(function(){r()}):r()})};e.query("select").where(["key","=","version"]).manualExec({table:"_util"}).then(function(e){e.length?e[0].value<=1.21?i(!0):e[0].value<f?i(!1):r():i(!0)})})})},e.prototype.getActions=function(e){return this._actions[e].map(function(e){return{name:e.name,args:e.args}})},e.prototype.getViews=function(e){return this._views[e].map(function(e){return{name:e.name,args:e.args}})},e.prototype.getConfig=function(){return this._config},e.prototype.avFilter=function(e){return this._AVMod=e,this},e.prototype.use=function(e){return this.plugins.push(e),this},e.prototype.on=function(e,t){var n=this,r=n.sTable,o=n._events.length,i=e.split(" ");if(Array.isArray(r))return this;for(n._callbacks[r]||(n._callbacks[r]=new s.ReallySmallEvents),o=i.length;o--;)-1!==n._events.indexOf(i[o])&&n._callbacks[r].on(i[o],t);return n._refreshEventChecker()},e.prototype.off=function(e,t){var n=this,r=e.split(" "),o=r.length,i=n.sTable;if(Array.isArray(i))return this;for(;o--;)-1!==n._events.indexOf(r[o])&&n._callbacks[i].off(r[o],t);return n._refreshEventChecker()},e.prototype._refreshEventChecker=function(){var e=this;return this._hasEvents={},Object.keys(this._callbacks).concat(["*"]).forEach(function(t){e._hasEvents[t]=e._events.reduce(function(n,r){return n+(e._callbacks[t]&&e._callbacks[t].eventListeners[r]?e._callbacks[t].eventListeners[r].length:0)},0)>0}),this.hasAnyEvents=!1,Object.keys(this._hasEvents).forEach(function(t){e.hasAnyEvents=e.hasAnyEvents||e._hasEvents[t]}),this},e.prototype.model=function(e,t,n){var r=this,o=this,i=o.sTable;if(Array.isArray(i))return this;o._callbacks[i]||(o._callbacks[i]=new s.ReallySmallEvents);var a=!1;if(!n){if(-1!==["string","safestr","timeId","timeIdms","uuid","int","float","number","array","map","bool","blob","any"].indexOf(i.replace(/\W/gim,""))||0===i.indexOf("_")||null!==i.match(/[\(\)\]\[\.]/g))throw Error("Invalid Table Name! https://docs.nanosql.io/setup/data-models");(e||[]).forEach(function(e){if(null!==e.key.match(/[\(\)\]\[\.]/g)||0===e.key.indexOf("_"))throw Error("Invalid Data Model! https://docs.nanosql.io/setup/data-models")})}return o.toColRules[i]={},(e||[]).forEach(function(e){e.props&&e.props.forEach(function(t){if(-1!==t.indexOf("from=>")&&-1!==t.indexOf("(")){var n=t.replace("from=>","").split("(").shift(),r=t.replace("from=>","").split("(").pop().replace(")","").split(",").map(function(e){return e.trim()});o.toColRules[i][e.key]=[n].concat(r)}if(0===t.indexOf("toColumn.")){n=t.replace(/toColumn\.(.*)\(.*\)/gim,"$1"),r=t.replace(/toColumn\..*\((.*)\)/gim,"$1").split(",").map(function(e){return e.trim()});o.toColRules[i][e.key]=[n].concat(r)}}),e.props&&u.intersect(["pk","pk()"],e.props)&&(r.tablePKs[i]=e.key,a=!0)}),this.hasPK[i]=a,a||(this.tablePKs[i]="_id_",e.unshift({key:"_id_",type:"uuid",props:["pk()"]})),o.dataModels[i]=e,o._views[i]=[],o._actions[i]=[],o},e.prototype.views=function(e){return Array.isArray(this.sTable)?this:(this._views[this.sTable]=e,this)},e.prototype.getView=function(e,t){return void 0===t&&(t={}),Array.isArray(this.sTable)?new u.Promise(function(e,t){return t()}):this._doAV("View",this._views[this.sTable],e,t)},e.prototype.actions=function(e){return Array.isArray(this.sTable)?this:(this._actions[this.sTable]=e,this)},e.prototype.doAction=function(e,t){return Array.isArray(this.sTable)?new u.Promise(function(e,t){return t()}):this._doAV("Action",this._actions[this.sTable],e,t)},e.prototype.queryFilter=function(e){return this.queryMod=e,this},e.prototype._doAV=function(e,t,n,r){var o=this,i=this,a=t.reduce(function(e,t){return t.name===n?t:e},null);return a?(i._activeAV=n,i._AVMod?new u.Promise(function(t,n){i._AVMod(o.sTable,e,i._activeAV||"",r,function(e){a.call(a.args?u.cleanArgs(a.args,e):{},i).then(t).catch(n)},function(e){n(e)})}):a.call(a.args?u.cleanArgs(a.args,r):{},i)):new u.Promise(function(e,t){return t("Action/View Not Found!")})},e.prototype.query=function(e,t){var n=this._activeAV;return this._activeAV=void 0,new i._NanoSQLQuery(this,this.sTable,e,t,n)},e.prototype.onConnected=function(e){this.isConnected?e():this._onConnectedCallBacks.push(e)},e.prototype.triggerEvent=function(e){var t=this;if(t._hasEvents["*"]||t._hasEvents[e.table]){if("*"===e.table)return this;o.setFast(function(){e.types.forEach(function(n){t._callbacks["*"].trigger(n,e,t),t._callbacks["*"].trigger("*",e,t),e.table&&t._callbacks[e.table]&&t._callbacks[e.table].trigger(n,e,t)})})}return t},e.prototype.default=function(e){var t={},n=this;return Array.isArray(n.sTable)?{}:(n.dataModels[n.sTable].forEach(function(n){t[n.key]=e&&e[n.key]?e[n.key]:n.default,void 0===t[n.key]&&(t[n.key]=u.cast(n.type,null))}),t)},e.prototype.rawDump=function(e){var t=this;return new u.Promise(function(n,o){var i={};u.fastCHAIN(t.plugins,function(t,n,o){t.dumpTables?t.dumpTables(e).then(function(e){i=r({},i,e),o(i)}):o()}).then(function(){n(i)})})},e.prototype.rawImport=function(e){var t=this;return new u.Promise(function(n,r){u.fastCHAIN(t.plugins,function(t,n,r){t.importTables?t.importTables(e).then(r):r()}).then(function(){n()})})},e.prototype.disconnect=function(){return u.fastCHAIN(this.plugins,function(e,t,n){e.willDisconnect?e.willDisconnect(n):n()})},e.prototype.doTransaction=function(e){var t=this,n=this,o=[],i=u.random16Bits().toString(16);return new u.Promise(function(s,l){n.plugins.length?u.fastCHAIN(n.plugins,function(e,t,n){e.transactionBegin?e.transactionBegin(i,n):n()}).then(function(){Array.isArray(n.sTable)||e(function(e){var t=e||n.sTable;return{query:function(e,n){return new a._NanoSQLTransactionQuery(e,n,t,o,i)}}},function(){var e=[];u.fastCHAIN(o,function(t,o,a){e.push(t.table),n.query(t.action,t.actionArgs).manualExec(r({},t,{table:t.table,transaction:!0,queryID:i})).then(a)}).then(function(r){u.fastCHAIN(t.plugins,function(e,t,n){e.transactionEnd?e.transactionEnd(i,n):n()}).then(function(){e.filter(function(e,t,n){return n.indexOf(e)===t}).forEach(function(e){0!==e.indexOf("_")&&n.triggerEvent({query:o[0],table:e,time:(new Date).getTime(),result:r,types:["transaction"],actionOrView:"",notes:[],transactionID:i,affectedRowPKS:[],affectedRows:[]})}),s(r)})})})}):l("Nothing to do, no plugins!")})},e.prototype.config=function(e){return this._config=e,this},e.prototype.extend=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;return new u.Promise(function(t,r){if(n.plugins.length){var o=e,i=[];u.fastCHAIN(n.plugins,function(e,t,n){e.extend?e.extend(function(e,t){o=e,i=t,n()},o,i):n()}).then(function(){t(i)})}else r("No plugins!")})},e.prototype.loadJS=function(e,t,n,r){var o=this;return n?this.doTransaction(function(n,r){t.forEach(function(t){n(e).query("upsert",t).exec()}),r()}):new u.Promise(function(n,i){u.fastCHAIN(t,function(n,i,a){r&&r(Math.round((i+1)/t.length*1e4)/100),o.query("upsert",n).manualExec({table:e}).then(a)}).then(function(e){n(e.map(function(e){return e.shift()}))})})},e.prototype.loadCSV=function(e,t,n,r,o){var i=this,a=[],s=t.split("\n").map(function(e,t){if(0!==t){var n={},o=e.match(/(,)|(["|\[|\{].*?["|\]|\}]|[^",\s]+)(?=\s*,|\s*$)/g)||[],i=!1;","===o[0]&&o.unshift("");for(var s=function(){var e=!1;if(o.forEach(function(t,n){e||","===t&&(void 0!==o[n+1]&&","!==o[n+1]||(e=!0,o.splice(n+1,0,"")))}),e)return"break";i=!0};!i;){if("break"===s())break}o=o.filter(function(e,t){return t%2==0});for(var u=a.length;u--;)1===o[u].indexOf("{")||1===o[u].indexOf("[")?o[u]=JSON.parse(o[u].slice(1,o[u].length-1).replace(/'/gm,'"')):0===o[u].indexOf('"')&&(o[u]=o[u].slice(1,o[u].length-1)),n[a[u]]=o[u];return r?r(n):n}a=e.split(",")}).filter(function(e){return e});return n?this.doTransaction(function(t,n){s.forEach(function(n){t(e).query("upsert",n).exec()}),n()}):new u.Promise(function(t,n){u.fastCHAIN(s,function(t,n,r){o&&o(Math.round((n+1)/s.length*1e4)/100),i.query("upsert",t).manualExec({table:e}).then(r)}).then(function(e){t(e.map(function(e){return e.shift()}))})})},e}();t.NanoSQLInstance=p,p.functions={COUNT:{type:"A",call:function(e,t,n){t(n&&"*"!==n?e.filter(function(e){return u.objQuery(n,e)}).length:e.length)}},MAX:{type:"A",call:function(e,t,n){if(e.length){var r=u.objQuery(n,e[0])||0;e.forEach(function(e){u.objQuery(n,e);u.objQuery(n,e)>r&&(r=u.objQuery(n,e))}),t(r)}else t(0)}},MIN:{type:"A",call:function(e,t,n){if(e.length){var r=u.objQuery(n,e[0])||0;e.forEach(function(e){var t=u.objQuery(n,e);t<r&&(r=t)}),t(r)}else t(0)}},AVG:{type:"A",call:function(e,t,n){t(e.reduce(function(e,t){return e+(u.objQuery(n,t)||0)},0)/e.length)}},SUM:{type:"A",call:function(e,t,n){t(e.reduce(function(e,t){return e+(u.objQuery(n,t)||0)},0))}},LOWER:{type:"S",call:function(e,t,n){t(e.map(function(e){return String(u.objQuery(n,e)).toLowerCase()}))}},UPPER:{type:"S",call:function(e,t,n){t(e.map(function(e){return String(u.objQuery(n,e)).toUpperCase()}))}},CAST:{type:"S",call:function(e,t,n,r){t(e.map(function(e){return u.cast(r,u.objQuery(n,e))}))}},ABS:{type:"S",call:function(e,t,n){t(e.map(function(e){return Math.abs(u.objQuery(n,e))}))}},CEIL:{type:"S",call:function(e,t,n){t(e.map(function(e){return Math.ceil(u.objQuery(n,e))}))}},POW:{type:"S",call:function(e,t,n,r){t(e.map(function(e){return Math.pow(u.objQuery(n,e),parseInt(r))}))}},ROUND:{type:"S",call:function(e,t,n){t(e.map(function(e){return Math.round(u.objQuery(n,e))}))}},SQRT:{type:"S",call:function(e,t,n){t(e.map(function(e){return Math.sqrt(u.objQuery(n,e))}))}}};var h=new p;t.nSQL=function(e){return h.table(e)},"undefined"!=typeof window&&(window["nano-sql"]={nSQL:t.nSQL,NanoSQLInstance:p})},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(2),o=n(1),i=n(27),a=n(21),s=n(4).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){t.f=n(7)},function(e,t,n){var r=n(4).f,o=n(5),i=n(7)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(41),o=n(23);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(13),o=n(92),i=n(23),a=n(31)("IE_PROTO"),s=function(){},u=function(){var e,t=n(45)("iframe"),r=i.length;for(t.style.display="none",n(87).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[i[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:o(n,t)}},function(e,t){e.exports={}},function(e,t){e.exports=!0},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(9);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(2),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){var r=n(30)("keys"),o=n(16);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";var r=n(33);r=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i="Warning: "+e.replace(/%s/g,function(){return n[o++]});"undefined"!=typeof console&&console.error(i);try{throw new Error(i)}catch(e){}}).apply(void 0,[t].concat(r))}},e.exports=r},function(e,t,n){"use strict";var r=function(e){};r=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")},e.exports=function(e,t,n,o,i,a,s,u){if(r(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,i,a,s,u],f=0;(l=new Error(t.replace(/%s/g,function(){return c[f++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";e.exports=n(124)},function(e,t,n){var r=n(19),o=n(15),i=n(8),a=n(29),s=n(5),u=n(46),l=Object.getOwnPropertyDescriptor;t.f=n(3)?l:function(e,t){if(e=i(e),t=a(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(41),o=n(23).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(5),o=n(8),i=n(90)(!1),a=n(31)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~i(l,n)||l.push(n));return l}},function(e,t,n){e.exports=n(10)},function(e,t,n){"use strict";var r=n(27),o=n(11),i=n(42),a=n(10),s=n(26),u=n(93),l=n(22),c=n(48),f=n(7)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,h,y,m,v){u(n,t,h);var g,b,_,w=function(e){if(!d&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",k="values"==y,C=!1,S=e.prototype,T=S[f]||S["@@iterator"]||y&&S[y],E=T||w(y),I=y?k?w("entries"):E:void 0,O="Array"==t&&S.entries||T;if(O&&(_=c(O.call(new e)))!==Object.prototype&&_.next&&(l(_,x,!0),r||"function"==typeof _[f]||a(_,f,p)),k&&T&&"values"!==T.name&&(C=!0,E=function(){return T.call(this)}),r&&!v||!d&&!C&&S[f]||a(S,f,E),s[t]=E,s[x]=p,y)if(g={values:k?E:w("values"),keys:m?E:w("keys"),entries:I},v)for(b in g)b in S||i(S,b,g[b]);else o(o.P+o.F*(d||C),t,g);return g}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(97)),o=a(n(82)),i="function"==typeof o.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof o.default&&"symbol"===i(r.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":i(e)}},function(e,t,n){var r=n(9),o=n(2).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){e.exports=!n(3)&&!n(12)(function(){return 7!=Object.defineProperty(n(45)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(104);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(5),o=n(49),i=n(31)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(32);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var r=n(35),o=n(34),i=n(123),a={};e.exports=function(e,t,n,s,u){for(var l in e)if(e.hasOwnProperty(l)){var c;try{r("function"==typeof e[l],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",s||"React class",n,l,typeof e[l]),c=e[l](t,l,s,n,null,i)}catch(e){c=e}if(o(!c||c instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",s||"React class",n,l,typeof c),c instanceof Error&&!(c.message in a)){a[c.message]=!0;var f=u?u():"";o(!1,"Failed %s type: %s%s",n,c.message,null!=f?f:"")}}}},function(e,t,n){"use strict";var r={};Object.freeze(r),e.exports=r},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))o.call(n,l)&&(s[l]=n[l]);if(r){a=r(n);for(var c=0;c<a.length;c++)i.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=["_hist","_hist_ptr","_id"],a=function(){function e(e){this.historyModeArgs=e,this._tablePkKeys={},this._tablePkTypes={},this._tableKeys={}}return e.prototype.willConnect=function(e,t){var n=this;this.parent=e.parent;var a={};Object.keys(e.models).forEach(function(t){if(0!==t.indexOf("_")){var r=o._assign(e.models[t]).map(function(e){return e.props&&o.intersect(["pk","pk()"],e.props)&&(n._tablePkKeys[t]=e.key,n._tablePkTypes[t]=e.type,n._tableKeys[t]={}),delete e.props,delete e.default,e});r.unshift({key:"_id",type:"timeIdms",props:["pk()"]}),a["_"+t+"__hist_rows"]=r,a["_"+t+"__hist_idx"]=[{key:"id",type:n._tablePkTypes[t],props:["pk()"]},{key:"histRows",type:"timeIdms[]"},{key:"histPtr",type:"number"}]}});var s="string"!=typeof this.historyModeArgs,u=[{key:"id",type:"timeIdms",props:["pk()"]},{key:"table",type:"string"},{key:"keys",type:"any[]"}],l=[{key:"id",type:"timeIdms",props:["pk()"]},{key:"ptr",type:"int"}];"database"!==this.historyModeArgs&&this.historyModeArgs?("database"!==this.historyModeArgs||s)&&(this.historyModes={},s?this.historyModes=o._assign(this.historyModeArgs):Object.keys(this._tablePkKeys).forEach(function(e){n.historyModes[e]=n.historyModeArgs}),Object.keys(this.historyModes).forEach(function(e){"table"===n.historyModes[e]&&(a["_"+e+"__hist"]=u,a["_"+e+"__hist_ptr"]=l)})):(a[i[0]]=u,a[i[1]]=l),e.models=r({},e.models,a),t(e)},e.prototype._histTable=function(e){return e?this.historyModes?"table"===this.historyModes[e]?"_"+e+"__hist":null:"_hist":"__null"},e.prototype._generateHistoryPointers=function(e,t){var n=this,r=this._histTable(e);r?this.parent.query("select").manualExec({table:r+"_ptr"}).then(function(i){i.length?t():n.parent.query("upsert",{id:o.timeid(!0),table:e,ptr:0}).manualExec({table:r+"_ptr"}).then(t)}):t()},e.prototype.didConnect=function(e,t){var n=this,r=function(){o.fastALL(Object.keys(n._tableKeys),function(e,t,r){n.parent.extend("idx","_"+e+"__hist_idx").then(function(t){t.forEach(function(t){n._tableKeys[e][t]=!0}),n.historyModes?n._generateHistoryPointers(e,r):r()})}).then(t)};this.historyModes?r():this.parent.query("select").manualExec({table:"_hist_ptr"}).then(function(e){e.length?r():n.parent.query("upsert",{id:o.timeid(!0),table:"",ptr:0}).manualExec({table:"_hist_ptr"}).then(r)})},e.prototype._purgeRowHistory=function(e,t,n,r){var i=this,a="_"+e+"__hist_rows",s="_"+e+"__hist_idx";o.fastALL(t,function(t,n,u){i.parent.query("select").where(["id","=",t]).manualExec({table:s}).then(function(n){if(n.length){var l=Object.isFrozen(n[0])?o._assign(n[0]):n[0],c=[];if(r)c=c.concat(l.histRows.filter(function(e){return-1!==e})),l.histPtr=0,l.histRows=[];else{for(;l.histPtr--;)c.push(l.histRows.shift());l.histPtr=0}c.length?i.parent.query("upsert",l).comment("History Purge").where(["id","=",t]).manualExec({table:s}).then(function(){i.parent.query("delete").comment("History Purge").where(["_id","IN",c]).manualExec({table:a}).then(function(){r?i.parent.query("select").where([i._tablePkKeys[e],"=",t]).manualExec({table:e}).then(function(n){i._unshiftSingleRow(e,["change"],t,n[0],!1,u)}):u()})}):u()}else u()})}).then(n)},e.prototype._purgeTableHistory=function(e,t,n){var r=this;this.parent.query("select").manualExec({table:e+"_ptr"}).then(function(i){var a=Object.isFrozen(i[0])?o._assign(i[0]):i[0];if(n||a.ptr>0){var s=r.parent.query("select");n||s.range(-1*a.ptr,0),s.manualExec({table:e}).then(function(i){if(i.length){var s={};i.forEach(function(e){s[e.table]||(s[e.table]=[]),s[e.table]=s[e.table].concat(e.keys)}),o.fastALL(Object.keys(s),function(e,t,o){r._purgeRowHistory(e,s[e],o,n)}).then(function(){r.parent.query("delete").comment("History Purge").where(["id","IN",i.map(function(e){return e.id})]).manualExec({table:e}).then(function(){a.ptr=0,r.parent.query("upsert",a).comment("History Purge").where(["id","=",a.id]).manualExec({table:e+"_ptr"}).then(t)})})}else t()})}else t()})},e.prototype._purgeParentHistory=function(e,t,n){if(this.historyModes){var r=this._histTable(e);r?this._purgeTableHistory(r,n):this._purgeRowHistory(e,t,n)}else this._purgeTableHistory("_hist",n)},e.prototype._purgeAllHistory=function(e,t,n){if(this.historyModes){var r=this._histTable(e);r?this._purgeTableHistory(r,n,!0):this._purgeRowHistory(e,[t],n,!0)}else this._purgeTableHistory("_hist",n,!0)},e.prototype.didExec=function(e,t){var n=this;e.table&&0!==e.table.indexOf("_")&&e.types.indexOf("change")>-1&&-1===e.query.comments.indexOf("History Write")?this._purgeParentHistory(e.table,e.affectedRowPKS,function(){o.fastALL(e.affectedRows,function(t,r,o){var i=t[n._tablePkKeys[e.table]];n._tableKeys[e.table][i]?n._unshiftSingleRow(e.table,e.types,i,t,!1,function(e){o(i)}):(n._tableKeys[e.table][i]=!0,n._unshiftSingleRow(e.table,e.types,i,t,!0,function(t){n.parent.query("upsert",{id:i,histRows:[t,-1],histPtr:0}).manualExec({table:"_"+e.table+"__hist_idx"}).then(function(){o(i)})}))}).then(function(r){n._unshiftParent(e,r,t)})}):t(e)},e.prototype._unshiftParent=function(e,t,n){var r=this._histTable(e.table);r?this.parent.query("upsert",{id:o.timeid(!0),table:e.table,keys:t}).manualExec({table:r}).then(function(){n(e)}):n(e)},e.prototype._unshiftSingleRow=function(e,t,n,i,a,s){var u=this,l="_"+e+"__hist_idx",c=o.timeid(!0),f=function(e){u.parent.query("select").where(["id","=",n]).manualExec({table:l}).then(function(t){var r=Object.isFrozen(t[0])?o._assign(t[0]):t[0];r.histRows.unshift(e),u.parent.query("upsert",r).where(["id","=",n]).manualExec({table:l}).then(function(){s(e)})})};t.indexOf("delete")>-1||t.indexOf("drop")>-1?f(-1):this.parent.query("upsert",r({_id:c},i)).manualExec({table:"_"+e+"__hist_rows"}).then(function(){a?s(c):f(c)})},e.prototype.extend=function(e,t,n){if("hist"===t[0]){var r=t[1],o=t[2],i=t[3];switch(r){case"<":case">":this._shiftHistory(r,o,i,function(n){e(t,[n])});break;case"?":this._queryHistory(o,i,function(n){e(t,n)});break;case"rev":this._getRevisionHistory(o,i,function(n){e(t,n)});break;case"clear":this._purgeAllHistory(o,i,function(){e(t,n)})}}else e(t,n)},e.prototype._getRevisionHistory=function(e,t,n){var r=this,a="_"+e+"__hist_idx";this.parent.query("select").where(["id","=",t]).manualExec({table:a}).then(function(t){var a=t[0].histRows.filter(function(e){return-1!==e});r.parent.query("select").where(["_id","IN",a]).manualExec({table:"_"+e+"__hist_rows"}).then(function(e){var r={};e.forEach(function(e){r[e[i[2]]]=Object.isFrozen(e)?o._assign(e):e,delete r[e[i[2]]][i[2]]}),n([{pointer:t[0].histRows.length-t[0].histPtr-1,revisions:t[0].histRows.reverse().map(function(e){return-1===e?null:r[e]})}])})})},e.prototype._getTableHistory=function(e,t){var n=this;this.parent.extend("idx.length",e).then(function(r){n.parent.query("select").manualExec({table:e+"_ptr"}).then(function(e){e.length?t([r,r-e[0].ptr]):t([0,0])})})},e.prototype._queryHistory=function(e,t,n){if(this.historyModes){var r=this._histTable(e);if(r){if(!e)throw Error("Need a table to query this history!");this._getTableHistory(r,n)}else{if(!t)throw Error("Need a row primary key to query this history!");var o="_"+e+"__hist_idx";this.parent.query("select").where(["id","=",t]).manualExec({table:o}).then(function(e){var t=e[0];n([t.histRows.length,t.histRows.length-t.histPtr-1])})}}else this._getTableHistory("_hist",function(e){n(e)})},e.prototype._shiftTableHistory=function(e,t,n){var r=this;this.parent.query("select").manualExec({table:t+"_ptr"}).then(function(i){var a=o._assign(i[0]);a.ptr+="<"===e?1:-1,a.ptr<0&&(a.ptr=0),r.parent.extend("idx.length",t).then(function(s){a.ptr>s&&(a.ptr=s),i[0].ptr!==a.ptr?r.parent.query("select").range(-1,"<"===e?i[0].ptr:a.ptr).manualExec({table:t}).then(function(i){r.parent.query("upsert",a).manualExec({table:t+"_ptr"}).then(function(){o.fastALL(i[0].keys,function(t,n,o){r._shiftRowHistory(e,i[0].table,t,o)}).then(function(e){n(e.indexOf(!0)>-1)})})}):n(!1)})})},e.prototype._shiftRowHistory=function(e,t,n,r){var i=this,a=function(e){i.parent.query("upsert",e).where([i._tablePkKeys[t],"=",n]).manualExec({table:"_"+t+"__hist_idx"}).then(function(){r(!0)})};this.parent.query("select").where([this._tablePkKeys[t],"=",n]).manualExec({table:"_"+t+"__hist_idx"}).then(function(s){var u=o._assign(s[0]);if(u.histPtr+="<"===e?1:-1,u.histPtr<0&&(u.histPtr=0),u.histPtr>u.histRows.length-1&&(u.histPtr=u.histRows.length-1),u.histPtr!==s[0].histPtr){var l=u.histRows[u.histPtr];-1===l?i.parent.query("delete").comment("History Write").where([i._tablePkKeys[t],"=",n]).manualExec({table:t}).then(function(){a(u)}):i.parent.query("select").where(["_id","=",l]).manualExec({table:"_"+t+"__hist_rows"}).then(function(e){i.parent.query("upsert",e[0]).comment("History Write").manualExec({table:t}).then(function(){a(u)})})}else r(!1)})},e.prototype._shiftHistory=function(e,t,n,r){if(this.historyModes){var o=this._histTable(t);if(o){if(!t)throw Error("Need a table to change this history!");this._shiftTableHistory(e,o,r)}else{if(!n)throw Error("Need a row primary key to change this history!");this._shiftRowHistory(e,t,n,r)}}else this._shiftTableHistory(e,"_hist",r)},e}();t._NanoSQLHistoryPlugin=a},function(e,t,n){(function(e){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),i=n(0),a=n(14),s=function(t){e._fs.existsSync(t)&&(e._fs.readdirSync(t).forEach(function(n){var r=t+"/"+n;e._fs.statSync(r).isDirectory()?s(r):e._fs.unlinkSync(r)}),e._fs.rmdirSync(t))},u=function(){function t(e,t,n){this.path=e,this.writeCache=t,this.readCache=n,this._pkKey={},this._pkType={},this._dbIndex={},this._levelDBs={},this._isPKnum={}}return t.prototype.connect=function(t){var n=this;i.fastALL(Object.keys(this._dbIndex),function(t,r,o){var i=[];n._levelDBs[t].createKeyStream().on("data",function(r){i.push(n._isPKnum[t]?new e._Int64BE(r).toNumber():r)}).on("end",function(){i.length&&n._dbIndex[t].set(i),o()})}).then(t)},t.prototype.disconnect=function(e){var t=this;i.fastALL(Object.keys(this._dbIndex),function(e,n,r){t._levelDBs[e].close(r)}).then(function(){e()})},t.prototype.setID=function(t){this._id=t,this._path=(this.path||".")+"/db_"+this._id,e._fs.existsSync(this._path)||e._fs.mkdirSync(this._path)},t.prototype.makeTable=function(t,n){var r=this;this._dbIndex[t]=new a.DatabaseIndex,this._levelDBs[t]=e._levelup(e._leveldown(e._path.join(this._path,t)),{cacheSize:1024*(this.readCache||32)*1024,writeBufferSize:1024*(this.writeCache||32)*1024}),n.forEach(function(e){e.props&&i.intersect(["pk","pk()"],e.props)&&(r._pkType[t]=e.type,r._pkKey[t]=e.key,r._isPKnum[t]=-1!==["int","number","float"].indexOf(e.type)),e.props&&i.intersect(["ai","ai()"],e.props)&&i.intersect(["pk","pk()"],e.props)&&"int"===e.type&&(r._dbIndex[t].doAI=!0)})},t.prototype.write=function(t,n,o,a){if(!(n=n||i.generateID(this._pkType[t],this._dbIndex[t].ai)))throw Error("Can't add a row without a primary key!");-1===this._dbIndex[t].indexOf(n)&&this._dbIndex[t].add(n);var s,u=r({},o,((s={})[this._pkKey[t]]=n,s));this._levelDBs[t].put(this._isPKnum[t]?new e._Int64BE(n).toBuffer():n,JSON.stringify(u),function(e){if(e)throw Error(e);a(u)})},t.prototype.delete=function(t,n,r){-1!==this._dbIndex[t].indexOf(n)&&this._dbIndex[t].remove(n),this._levelDBs[t].del(this._isPKnum[t]?new e._Int64BE(n).toBuffer():n,function(e){if(e)throw Error(e);r()})},t.prototype.read=function(t,n,r){-1!==this._dbIndex[t].indexOf(n)?this._levelDBs[t].get(this._isPKnum[t]?new e._Int64BE(n).toBuffer():n,function(e,t){if(e)throw Error(e);r(JSON.parse(t))}):r(null)},t.prototype.rangeRead=function(t,n,r,i,a,s){var u=this._dbIndex[t].keys(),l=-1===[typeof i,typeof a].indexOf("undefined"),c=l?[i,a]:[0,u.length-1],f=[],d=s&&l?i:u[c[0]],p=s&&l?a:u[c[1]];this._levelDBs[t].createValueStream({gte:this._isPKnum[t]?new e._Int64BE(d).toBuffer():d,lte:this._isPKnum[t]?new e._Int64BE(p).toBuffer():p}).on("data",function(e){f.push(JSON.parse(e))}).on("end",function(){var e=c[0]||0,t=0,i=function(){t<f.length?n(f[t],e,function(){e++,++t%500==0?o.setFast(i):i()}):r()};i()})},t.prototype.drop=function(e,t){var n=this;i.fastALL(this._dbIndex[e].keys(),function(t,r,o){n._levelDBs[e].del(t,o)}).then(function(){var r=new a.DatabaseIndex;r.doAI=n._dbIndex[e].doAI,n._dbIndex[e]=r,t()})},t.prototype.getIndex=function(e,t,n){n(t?this._dbIndex[e].keys().length:this._dbIndex[e].keys())},t.prototype.destroy=function(e){var t=this;i.fastALL(Object.keys(this._dbIndex),function(e,n,r){t.drop(e,function(){t._levelDBs[e].close(r)})}).then(function(){s(t._path),e()})},t}();t._LevelStore=u}).call(this,n(17))},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),i=n(0),a=n(14),s=function(){function e(e){this._pkKey={},this._pkType={},this._dbIndex={},this._size=1e3*(e||0)*1e3}return e.prototype.setID=function(e){this._id=e},e.prototype.connect=function(e){var t=this;this._db=window.openDatabase(this._id,"1.0",this._id,this._size||i.isAndroid?5e6:1),i.fastALL(Object.keys(this._pkKey),function(e,n,r){t._sql(!0,"CREATE TABLE IF NOT EXISTS "+e+" (id BLOB PRIMARY KEY UNIQUE, data TEXT)",[],function(){t._sql(!1,"SELECT id FROM "+e,[],function(n){for(var o=[],i=0;i<n.rows.length;i++)o.push(n.rows.item(i).id);o=o.sort(),t._dbIndex[e].set(o),r()})})}).then(e)},e.prototype._chkTable=function(e){if(-1===Object.keys(this._pkType).indexOf(e))throw Error("No table "+e+" found!");return e},e.prototype.makeTable=function(e,t){var n=this;this._dbIndex[e]=new a.DatabaseIndex,t.forEach(function(t){t.props&&t.props.indexOf("pk")>-1&&(n._pkType[e]=t.type,n._pkKey[e]=t.key),t.props&&t.props.indexOf("ai")>-1&&t.props.indexOf("pk")>-1&&"int"===t.type&&(n._dbIndex[e].doAI=!0)})},e.prototype._sql=function(e,t,n,r){var o=function(e){e.executeSql(t,n,function(e,t){r(t)},function(e,r){return console.error(t,n,r),!1})};e?this._db.transaction(o):this._db.readTransaction(o)},e.prototype.write=function(e,t,n,o){if(!(t=t||i.generateID(this._pkType[e],this._dbIndex[e].ai)))throw new Error("Can't add a row without a primary key!");var a,s,u=!1;if(-1===this._dbIndex[e].indexOf(t)&&(u=!0,this._dbIndex[e].add(t)),u){var l=r({},n,((a={})[this._pkKey[e]]=t,a));this._sql(!0,"INSERT into "+this._chkTable(e)+" (id, data) VALUES (?, ?)",[t,JSON.stringify(l)],function(e){o(l)})}else{var c=r({},n,((s={})[this._pkKey[e]]=t,s));this._sql(!0,"UPDATE "+this._chkTable(e)+" SET data = ? WHERE id = ?",[JSON.stringify(c),t],function(){o(c)})}},e.prototype.delete=function(e,t,n){-1!==this._dbIndex[e].indexOf(t)&&this._dbIndex[e].remove(t),this._sql(!0,"DELETE FROM "+this._chkTable(e)+" WHERE id = ?",[t],function(){n()})},e.prototype.read=function(e,t,n){this._sql(!1,"SELECT data FROM "+this._chkTable(e)+" WHERE id = ?",[t],function(e){e.rows.length?n(JSON.parse(e.rows.item(0).data)):n(void 0)})},e.prototype.batchRead=function(e,t,n){this._sql(!1,"SELECT data from "+this._chkTable(e)+" WHERE id IN ("+t.map(function(e){return"?"}).join(", ")+") ORDER BY id",t,function(e){for(var t=e.rows.length,r=[];t--;)r.unshift(JSON.parse(e.rows.item(t).data));n(r)})},e.prototype.rangeRead=function(e,t,n,r,i,a){var s=this,u=this._dbIndex[e].keys(),l=-1===[typeof r,typeof i].indexOf("undefined"),c=l?[r,i]:[];if(u.length){a&&l&&(c=c.map(function(t){return s._dbIndex[e].getLocation(t)}));var f=c[0]||0,d=[],p=c[0],h="SELECT data from "+this._chkTable(e);if(c.length){for(u[p];p<=c[1];)d.push(u[p]),p++;h+=" WHERE id IN ("+d.map(function(e){return"?"}).join(", ")+")"}h+=" ORDER BY id",this._sql(!1,h,d,function(e){var r=0,i=function(){e.rows.length>r?t(JSON.parse(e.rows.item(r).data),f,function(){f++,++r%500==0?o.setFast(i):i()}):n()};i()})}else n()},e.prototype.drop=function(e,t){var n=new a.DatabaseIndex;n.doAI=this._dbIndex[e].doAI,this._dbIndex[e]=n,this._sql(!0,"DELETE FROM "+this._chkTable(e),[],function(e){t()})},e.prototype.getIndex=function(e,t,n){n(t?this._dbIndex[e].keys().length:this._dbIndex[e].keys())},e.prototype.destroy=function(e){var t=this;i.fastALL(Object.keys(this._dbIndex),function(e,n,r){t.drop(e,r)}).then(e)},e}();t._WebSQLStore=s},function(module,exports,__webpack_require__){var __assign=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(exports,"__esModule",{value:!0});var lie_ts_1=__webpack_require__(6),utilities_1=__webpack_require__(0),db_idx_1=__webpack_require__(14),_evalContext=function(source,context){var compiled=eval("(function("+Object.keys(context).join(", ")+") {"+source+"})");return compiled.apply(context,Object.keys(context).map(function(e){return context[e]}))},_IndexedDBStore=function(){function e(e){this._worker='function o(r){this.go=function(t){var o=0;r&&r.length||t([]),r.forEach(function(e,n){e(function(){++o===r.length&&t([])})})}}var s={db:null,store:function(e,n,t){var o=s.db.transaction(e,n);t(o,o.objectStore(e),function(e,n){return function(){postMessage({do:e,args:n})}})},init:function(){addEventListener("message",function(e){var n=e.data;s[n.do]&&s[n.do](n.args)},!1)},setup:function(n){var e=indexedDB.open(n.id,1),t=!1,a={};e.onupgradeneeded=function(e){t=!0,s.db=e.target.result,Object.keys(n.pkKeys).forEach(function(e){s.db.createObjectStore(e,{keyPath:n.pkKeys[e]}),a[e]=[]})},e.onsuccess=function(e){if(s.db=e.target.result,t)postMessage({do:"rdy",args:a});else{new o(Object.keys(n.pkKeys).map(function(t){return function(n){var e,o,r;e=t,o=function(e){a[t]=e,n()},r=[],s.store(e,"readonly",function(e,n,t){n.openCursor().onsuccess=function(e){var n=e.target.result;n&&(r.push(n.key),n.continue())},e.oncomplete=function(){o(r)}})}})).go(function(){postMessage({do:"rdy",args:a})})}}},write:function(o){s.store(o.table,"readwrite",function(e,n,t){n.put(o.row),e.oncomplete=t("write_"+o.id,null)})},read:function(r){s.store(r.table,"readonly",function(e,n,t){var o=n.get(r.pk);o.onsuccess=function(){postMessage({do:"read_"+r.id,args:o.result})}})},readRange:function(a){s.store(a.table,"readonly",function(e,n,t){var o=[],r=-1===a.range.indexOf(void 0)?n.openCursor(IDBKeyRange.bound(a.range[0],a.range[1])):n.openCursor();e.oncomplete=t("readRange_"+a.id+"_done",o),r.onsuccess=function(e){var n=e.target.result;n&&(o.push(n.value),n.continue())}})},delete:function(o){s.store(o.table,"readwrite",function(e,n,t){e.oncomplete=t("delete_"+o.id,!0),e.onerror=t("delete_"+o.id,!1),"_clear_"===o.pk?n.clear():n.delete(o.pk)})}};s.init();',this._pkKey={},this._pkType={},this._dbIndex={},this._waitingCBs={},this._useWorker=e}return e.prototype.connect=function(e){var t=this;if(this._useWorker)this._w=new Worker(window.URL.createObjectURL(new Blob([this._worker]))),this._w.addEventListener("message",function(e){t._handleWWMessage(e.data.do,e.data.args)});else{var n=[];_evalContext(this._worker,{postMessage:function(e){t._handleWWMessage(e.do,e.args)},addEventListener:function(e,t){n.push(t)}}),this._w={addEventListener:null,postMessage:function(e,t){n.forEach(function(t){t({data:e})})}}}this._waitingCBs.rdy=function(n){Object.keys(n).forEach(function(e){t._dbIndex[e].set(n[e])}),e()},this._w.postMessage({do:"setup",args:{pkKeys:this._pkKey,id:this._id}})},e.prototype.setID=function(e){this._id=e},e.prototype._handleWWMessage=function(e,t){this._waitingCBs[e]&&(this._waitingCBs[e](t),delete this._waitingCBs[e])},e.prototype.makeTable=function(e,t){var n=this;this._dbIndex[e]=new db_idx_1.DatabaseIndex,t.forEach(function(t){t.props&&utilities_1.intersect(["pk","pk()"],t.props)&&(n._pkType[e]=t.type,n._pkKey[e]=t.key,t.props&&utilities_1.intersect(["ai","ai()"],t.props)&&("int"===t.type||"number"===t.type)&&(n._dbIndex[e].doAI=!0))})},e.prototype.write=function(e,t,n,r){if(!(t=t||utilities_1.generateID(this._pkType[e],this._dbIndex[e].ai)))throw new Error("Can't add a row without a primary key!");-1===this._dbIndex[e].indexOf(t)&&this._dbIndex[e].add(t);var o,i=utilities_1.uuid(),a=__assign({},n,((o={})[this._pkKey[e]]=t,o));this._waitingCBs["write_"+i]=function(e){r(a)},this._w.postMessage({do:"write",args:{table:e,id:i,row:a}})},e.prototype.delete=function(e,t,n){-1!==this._dbIndex[e].indexOf(t)&&this._dbIndex[e].remove(t);var r=utilities_1.uuid();this._waitingCBs["delete_"+r]=function(e){n()},this._w.postMessage({do:"delete",args:{table:e,id:r,pk:t}})},e.prototype.read=function(e,t,n){var r=utilities_1.uuid();-1!==this._dbIndex[e].indexOf(t)?(this._waitingCBs["read_"+r]=function(e){n(e)},this._w.postMessage({do:"read",args:{table:e,id:r,pk:t}})):n(null)},e.prototype.rangeRead=function(e,t,n,r,o,i){var a=this,s=this._dbIndex[e].keys(),u=-1===[typeof r,typeof o].indexOf("undefined"),l=u?[r,o]:[0,s.length-1];if(s.length){var c=utilities_1.uuid(),f=[],d=l[0],p=0;this._waitingCBs["readRange_"+c+"_done"]=function(e){delete a._waitingCBs["readRange_"+c],f=e;var r=function(){d<=l[1]?t(f[p],d,function(){d++,++p%500==0?lie_ts_1.setFast(r):r()}):n()};r()},this._w.postMessage({do:"readRange",args:{table:e,id:c,range:i&&u?l:l.map(function(e){return s[e]})}})}else n()},e.prototype.drop=function(e,t){var n=new db_idx_1.DatabaseIndex;n.doAI=this._dbIndex[e].doAI,this._dbIndex[e]=n;var r=utilities_1.uuid();this._waitingCBs["delete_"+r]=function(e){t()},this._w.postMessage({do:"delete",args:{table:e,id:r,pk:"_clear_"}})},e.prototype.getIndex=function(e,t,n){n(t?this._dbIndex[e].keys().length:this._dbIndex[e].keys())},e.prototype.destroy=function(e){var t=this;utilities_1.fastALL(Object.keys(this._dbIndex),function(e,n,r){t.drop(e,r)}).then(e)},e}();exports._IndexedDBStore=_IndexedDBStore},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),i=n(0),a=n(14),s=function(){function e(e){this._pkKey={},this._pkType={},this._rows={},this._dbIndex={},this._ls=e||!1}return e.prototype.connect=function(e){e()},e.prototype.setID=function(e){this._id=e},e.prototype.makeTable=function(e,t){var n=this;this._rows[e]={},this._dbIndex[e]=new a.DatabaseIndex,t.forEach(function(t){if(t.props&&i.intersect(["pk","pk()"],t.props)&&(n._pkType[e]=t.type,n._pkKey[e]=t.key),t.props&&i.intersect(["pk","pk()"],t.props)&&i.intersect(["ai","ai()"],t.props)&&"int"===t.type&&(n._dbIndex[e].doAI=!0),n._ls){var r=localStorage.getItem(n._id+"*"+e+"_idx");r&&n._dbIndex[e].set(JSON.parse(r))}})},e.prototype.write=function(e,t,n,o){if(!(t=t||i.generateID(this._pkType[e],this._dbIndex[e].ai)))throw new Error("Can't add a row without a primary key!");if(-1===this._dbIndex[e].indexOf(t)&&(this._dbIndex[e].add(t),this._ls&&localStorage.setItem(this._id+"*"+e+"_idx",JSON.stringify(this._dbIndex[e].keys()))),this._ls){var a=r({},n,((s={})[this._pkKey[e]]=t,s));localStorage.setItem(this._id+"*"+e+"__"+t,JSON.stringify(a)),o(a)}else{a=r({},n,((u={})[this._pkKey[e]]=t,u));this._rows[e][t]=i.deepFreeze(a),o(a)}var s,u},e.prototype.delete=function(e,t,n){-1!==this._dbIndex[e].indexOf(t)&&(this._dbIndex[e].remove(t),this._ls&&localStorage.setItem(this._id+"*"+e+"_idx",JSON.stringify(this._dbIndex[e].keys()))),this._ls?localStorage.removeItem(this._id+"*"+e+"__"+t):delete this._rows[e][t],n()},e.prototype.read=function(e,t,n){if(this._ls){var r=localStorage.getItem(this._id+"*"+e+"__"+t);n(r?JSON.parse(r):void 0)}else n(this._rows[e][t])},e.prototype.rangeRead=function(e,t,n,r,i,a){var s=this,u=this._dbIndex[e].keys(),l=-1===[typeof r,typeof i].indexOf("undefined"),c=l?[r,i]:[0,u.length-1];if(u.length){a&&l&&(c=c.map(function(t){return s._dbIndex[e].getLocation(t)}));var f=c[0],d=0,p=function(){f++,++d%500==0?o.setFast(h):h()},h=function(){if(f<=c[1])if(s._ls){var r=localStorage.getItem(s._id+"*"+e+"__"+u[f]);t(r?JSON.parse(r):void 0,f,p)}else t(s._rows[e][u[f]],f,p);else n()};h()}else n()},e.prototype.drop=function(e,t){var n=this;this._ls?(localStorage.setItem(this._id+"*"+e+"_idx",JSON.stringify([])),this._dbIndex[e].keys().forEach(function(t){localStorage.removeItem(n._id+"*"+e+"__"+t)})):this._rows[e]={};var r=new a.DatabaseIndex;r.doAI=this._dbIndex[e].doAI,this._dbIndex[e]=r,t()},e.prototype.getIndex=function(e,t,n){n(t?this._dbIndex[e].keys().length:this._dbIndex[e].keys())},e.prototype.destroy=function(e){var t=this;i.fastALL(Object.keys(this._dbIndex),function(e,n,r){t.drop(e,r)}).then(e)},e}();t._SyncStore=s},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="$",r=function(){function e(t){this._trie=e._create(t)}return e.prototype.getIndex=function(){return this._trie},e.prototype.setIndex=function(e){this._trie=e},e.prototype.addWord=function(t){return t.toLowerCase().split("").reduce(function(t,n,r,o){return e._append(t,n,r,o)},this._trie),this},e.prototype.removeWord=function(t){var r=e._checkPrefix(this._trie,t),o=r.prefixFound,i=r.prefixNode;return o&&delete i[n],this},e.prototype.getWords=function(){return e._recursePrefix(this._trie,"")},e.prototype.getPrefix=function(t){if(t=t.toLowerCase(),!this._isPrefix(t))return[];var n=e._checkPrefix(this._trie,t).prefixNode;return e._recursePrefix(n,t)},e.prototype._isPrefix=function(t){return e._checkPrefix(this._trie,t).prefixFound},e._append=function(e,t,r,o){return e[t]=e[t]||{},e=e[t],r===o.length-1&&(e[n]=1),e},e._checkPrefix=function(e,t){return{prefixFound:t.toLowerCase().split("").every(function(t,n){return!!e[t]&&(e=e[t])}),prefixNode:e}},e._create=function(t){return(t||[]).reduce(function(t,n){return n.toLowerCase().split("").reduce(e._append,t),t},{})},e._recursePrefix=function(t,r,o){void 0===o&&(o=[]);var i=r;for(var a in t)a===n&&(o.push(i),i=""),e._recursePrefix(t[a],r+a,o);return o.sort()},e}();t.Trie=r},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(58),i=n(0),a=n(57),s=n(56),u=n(55),l=n(54),c=function(){function e(e,t){if(this._tableNames=[],this._nsql=e,this._mode=t.persistent?"PERM":t.mode||"TEMP",this._id=t.id,this._size=t.size||5,this.adapters=[],this.models={},this.tableInfo={},this._trieIndexes={},this._tableNames=[],this._doCache=t.cache||!0,this._cache={},this._cacheKeys={},this.adapters[0]={adapter:null,waitForWrites:!0},"string"==typeof this._mode)switch("PERM"===this._mode&&(this._mode=this._detectStorageMethod()||this._mode),this._mode){case"IDB":this.adapters[0].adapter=new s._IndexedDBStore(!1);break;case"IDB_WW":this.adapters[0].adapter=new s._IndexedDBStore(!0);break;case"WSQL":this.adapters[0].adapter=new u._WebSQLStore(this._size);break;case"LS":this.adapters[0].adapter=new a._SyncStore(!0);break;case"LVL":this.adapters[0].adapter=new l._LevelStore(t.dbPath,t.writeCache,t.readCache);break;case"TEMP":this.adapters[0].adapter=new a._SyncStore(!1)}else this.adapters[0].adapter=this._mode}return e.prototype.init=function(e,t){var n=this;this._id||(this._id=i.hash(JSON.stringify(e)).toString()),this.models=this._createSecondaryIndexTables(e),this._tableNames=Object.keys(this.models),this.adapters.forEach(function(e){e.adapter.setID(n._id)}),this._tableNames.forEach(function(t){n._newTable(t,e[t])}),this._relFromTable={},this._relToTable={},this._relationColumns={},this._columnsAreTables={},this._tableNames.forEach(function(e){n.tableInfo[e]._viewTables=Object.keys(n.tableInfo).reduce(function(t,r){return r===e?t:(-1!==Object.keys(n.tableInfo[r]._views).indexOf(e)&&t.push({table:r,column:n.tableInfo[r]._views[e].pkColumn}),t)},[]);var t=n.models[e].length;n._relFromTable[e]={},n._relationColumns[e]=[],n._relToTable[e]=[],n._columnsAreTables[e]={};for(var r=function(){var r=n.models[e][t];if(-1!==n._tableNames.indexOf(r.type.replace("[]",""))){var o="";n._columnsAreTables[e][r.key]={_toTable:r.type.replace("[]",""),_thisType:-1===r.type.indexOf("[]")?"single":"array"},r.props&&(r.props.forEach(function(e){-1!==e.indexOf("ref=>")&&(o=e.replace("ref=>","")),0===e.indexOf("orm(")&&(o=e.replace(/orm\((.*)\)/gim,"$1"))}),o&&(n._hasORM=!0,n._relationColumns[e].push(r.key),n._relFromTable[e][r.key]={_toTable:r.type.replace("[]",""),_toColumn:o.replace("[]",""),_toType:-1===o.indexOf("[]")?"single":"array",_thisType:-1===r.type.indexOf("[]")?"single":"array"}))}};t--;)r()}),Object.keys(this._relFromTable).forEach(function(e){Object.keys(n._relFromTable[e]).forEach(function(t){var r=n._relFromTable[e][t];n._relToTable[r._toTable].push({_thisColumn:r._toColumn,_thisType:r._toType,_fromTable:e,_fromColumn:t,_fromType:r._thisType})})}),i.fastALL(this.adapters,function(e,t,r){e.adapter.connect(function(){e.adapter.setNSQL&&e.adapter.setNSQL(n._nsql),r()})}).then(function(){i.fastALL(Object.keys(n._trieIndexes),function(e,t,r){var o=n._trieIndexes[e];Object.keys(o).length?i.fastALL(Object.keys(o),function(t,r,o){var i="_"+e+"_idx_"+t;n.adapters[0].adapter.getIndex(i,!1,function(r){r.forEach(function(r){n._trieIndexes[e][t].addWord(String(r))}),o()})}).then(r):r()}).then(function(){t(n.models)})})},e.prototype._invalidateCache=function(e,t){var n=this;this._doCache&&Object.keys(this._cacheKeys[e]).forEach(function(r){for(var o=t.length,i=!0;o--&&i;)n._cacheKeys[e][r][t[o]]&&(delete n._cache[e][r],delete n._cacheKeys[e][r],i=!1)})},e.prototype.rebuildIndexes=function(e,t){var n=this,r=(new Date).getTime();i.fastALL(Object.keys(this.tableInfo),function(t,r,o){if("_ALL_"!==e&&e!==t||0===t.indexOf("_"))o();else{var a=n.tableInfo[t]._secondaryIndexes;i.fastALL(a,function(e,r,o){var i="_"+t+"_idx_"+e;n._drop(i,o)}).then(function(){var e=n.tableInfo[t]._pk,r={};a.forEach(function(e){r[e]={}}),n._read(t,function(t,n,o){t[e]?(a.forEach(function(n){t[n]&&(r[n][t[n]]||(r[n][t[n]]=[]),r[n][t[n]].push(t[e]))}),o(!1)):o(!1)},function(){i.fastALL(a,function(e,o,a){var s="_"+t+"_idx_"+e;i.fastALL(Object.keys(r[e]),function(t,o,i){n.adapterWrite(s,t,{id:t,rows:r[e][t].sort()},i)}).then(a)}).then(function(){o()})})})}}).then(function(){t((new Date).getTime()-r)})},e.prototype._secondaryIndexKey=function(e){return i.isObject(e)||Array.isArray(e)?JSON.stringify(e).substr(0,12):"number"==typeof e?e:String(e).substr(0,32)},e.prototype._detectStorageMethod=function(){if("undefined"==typeof window)return"LVL";if(i.isSafari)return"WSQL";if(i.isMSBrowser)return"undefined"!=typeof indexedDB?"IDB":"LS";if(-1===[typeof Worker,typeof Blob,typeof indexedDB].indexOf("undefined")&&window.URL&&window.URL.createObjectURL)try{var e=new Worker(window.URL.createObjectURL(new Blob(["var t = 't';"])));e.postMessage(""),e.terminate();return indexedDB.open("1234",1),indexedDB.deleteDatabase("1234"),"IDB_WW"}catch(e){if("undefined"!=typeof indexedDB)return"IDB"}return"LS"},e.prototype._secondaryIndexRead=function(e,t,n,r){var o=this;this.adapters[0].adapter.read("_"+e+"_idx_"+t,this._secondaryIndexKey(n),function(t){void 0!==t&&null!==t?o._read(e,t.rows||[],r):r([])})},e.prototype._rangeRead=function(e,t,n,r,o){var i=[];this.adapters[0].adapter.rangeRead(e,function(e,t,n){i.push(e),n()},function(){o(i)},t,n,r)},e.prototype._read=function(e,t,n){var r=this;if(Array.isArray(t)){var o=this.adapters[0].adapter.batchRead;o?o.apply(this.adapters[0].adapter,[e,t,n]):i.fastALL(t,function(t,n,o){r.adapters[0].adapter.read(e,t,o)}).then(function(e){n(e.filter(function(e){return e}))})}else{var a=[];"function"!=typeof t||this.adapters[0].adapter.rangeRead(e,function(e,n,r){t(e,n,function(t){t&&a.push(e),r()})},function(){n(a)})}},e.prototype._trieRead=function(e,t,n,r){var o=this,a=this._trieIndexes[e][t].getPrefix(n);i.fastALL(a,function(n,r,i){o._secondaryIndexRead(e,t,n,i)}).then(function(e){r([].concat.apply([],e))})},e.prototype._clearSecondaryIndexes=function(e,t,n,r,o){var a=this;i.fastALL(this.tableInfo[e]._secondaryIndexes.filter(function(e){return-1===r.indexOf(e)}),function(r,o,s){var u=a._secondaryIndexKey(n[r]),l="_"+e+"_idx_"+r;a.adapters[0].adapter.read(l,u,function(e){if(e){var n=e.rows.indexOf(t);if(-1!==n){var r=e?Object.isFrozen(e)?i._assign(e):e:{id:null,rows:[]};r.rows.splice(n,1),r.rows.sort(),r.rows=i.removeDuplicates(r.rows),a.adapterWrite(l,r.id,r,s)}else s()}else s()})}).then(o)},e.prototype._setSecondaryIndexes=function(e,t,n,r,o){var a=this;i.fastALL(this.tableInfo[e]._secondaryIndexes.filter(function(e){return-1===r.indexOf(e)}),function(r,o,s){var u=a._secondaryIndexKey(n[r]);if(u){a._trieIndexes[e][r]&&a._trieIndexes[e][r].addWord(String(n[r]));var l="_"+e+"_idx_"+r;a.adapters[0].adapter.read(l,u,function(e){var n=e?Object.isFrozen(e)?i._assign(e):e:{id:u,rows:[]};n.rows.push(t),n.rows.sort(),n.rows=i.removeDuplicates(n.rows),a.adapterWrite(l,u,n,s)})}else s()}).then(o)},e.prototype._write=function(e,t,n,o,i){var a,s=this;if(n){var u=r({},n,o,((a={})[this.tableInfo[e]._pk]=t,a)),l=Object.keys(u).filter(function(e){return u[e]===n[e]});this.tableInfo[e]._secondaryIndexes.length?this._clearSecondaryIndexes(e,t,n,l,function(){s._setSecondaryIndexes(e,t,u,l,function(){s.adapterWrite(e,t,u,i)})}):this.adapterWrite(e,t,u,i)}else this.adapterWrite(e,t,o,function(t){s.tableInfo[e]._secondaryIndexes.length?s._setSecondaryIndexes(e,t[s.tableInfo[e]._pk],o,[],function(){i(t)}):i(t)})},e.prototype._delete=function(e,t,n){var r=this;if(!t)throw new Error("Can't delete without a primary key!");this.adapters[0].adapter.read(e,t,function(o){r._clearSecondaryIndexes(e,t,o,[],function(){r.adapterDelete(e,t,function(){n(o)})})})},e.prototype._drop=function(e,t){var n=this;i.fastALL(this.tableInfo[e]._secondaryIndexes,function(t,r,o){n.adapterDrop("_"+e+"_idx_"+t,o)}).then(function(){n._trieIndexes[e]={},n.tableInfo[e]._trieColumns.forEach(function(t){n._trieIndexes[e][t]=new o.Trie([])}),n.adapterDrop(e,t)})},e.prototype._createSecondaryIndexTables=function(e){return Object.keys(e).forEach(function(t){var n=!1,r=!1;if(e[t].forEach(function(o){o.props&&i.intersect(["pk","pk()"],o.props)&&(n=!0),o.props&&i.intersect(["trie","idx","idx()","trie()"],o.props)&&(r=!0,e["_"+t+"_idx_"+o.key]=[{key:"id",type:-1!==["number","float","int"].indexOf(o.type)?o.type:"string",props:["pk"]},{key:"rows",type:"any[]"}])}),r&&!n)throw new Error("Tables with secondary indexes must have a primary key!")}),e},e.prototype._newTable=function(e,t){var n=this;this.tableInfo[e]={_pk:"",_pkType:"",_keys:[],_defaults:[],_secondaryIndexes:[],_trieColumns:[],_name:e,_views:{},_viewTables:[]},this._cache[e]={},this._cacheKeys[e]={},this._trieIndexes[e]={},this.adapters.forEach(function(n){n.adapter.makeTable(e,t)});for(var r=this.models[e].length,a=function(){var t=s.models[e][r];if(s.tableInfo[e]._keys.unshift(t.key),s.tableInfo[e]._defaults[r]=t.default,t.props&&t.props.length){var a=!1;t.props.forEach(function(r){if(-1!==r.indexOf("from=>")){n._hasViews=!0;var o=t.type;"from=>GHOST"!==r&&"from=>LIVE"!==r&&(o=r.replace("from=>","").split(".").shift()),n.tableInfo[e]._views[o]||(n.tableInfo[e]._views[o]={pkColumn:"",mode:"",columns:[]}),"from=>GHOST"===r||"from=>LIVE"===r?(a=!0,n.tableInfo[e]._views[o].pkColumn=t.key,n.tableInfo[e]._views[o].mode=r.replace("from=>","")):n.tableInfo[e]._views[o].columns.push({thisColumn:t.key,otherColumn:r.replace("from=>","").split(".").pop()})}}),i.intersect(["pk","pk()"],t.props)&&(s.tableInfo[e]._pk=t.key,s.tableInfo[e]._pkType=t.type),(i.intersect(["trie","idx","idx()","trie()"],t.props)||a)&&s.tableInfo[e]._secondaryIndexes.push(t.key),i.intersect(["trie","trie()"],t.props)&&(s.tableInfo[e]._trieColumns.push(t.key),s._trieIndexes[e][t.key]=new o.Trie([]))}},s=this;r--;)a();return e},e.prototype.adapterWrite=function(e,t,n,r,o){var a;i.fastALL(this.adapters,function(r,o,i){r.waitForWrites?r.adapter.write(e,t,n,function(e){a=e,i()}):(i(),r.adapter.write(e,t,n,function(e){}))}).then(function(){r(a)}).catch(function(e){o&&o(e)})},e.prototype.adapterDelete=function(e,t,n,r){i.fastALL(this.adapters,function(n,r,o){n.waitForWrites?n.adapter.delete(e,t,function(){o()}):(o(),n.adapter.delete(e,t,function(){}))}).then(function(){n()}).catch(function(e){r&&r(e)})},e.prototype.adapterDrop=function(e,t,n){i.fastALL(this.adapters,function(t,n,r){t.waitForWrites?t.adapter.drop(e,function(){r()}):(r(),t.adapter.drop(e,function(){}))}).then(function(){t()}).catch(function(e){n&&n(e)})},e}();t._NanoSQLStorage=c},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),i=n(0),a={select:function(e,t){e._select(t)},upsert:function(e,t){e._upsert(t)},delete:function(e,t){e._delete(t)},drop:function(e,t){e._drop(t)},"show tables":function(e,t){e._query.result=Object.keys(e._store.tableInfo),t(e._query)},describe:function(e,t){"string"==typeof e._query.table?(e._query.result=i._assign(e._store.models[e._query.table]),t(e._query)):t(e._query)}},s=function(){function e(e){this._store=e}return e.prototype.doQuery=function(e,t){this._query=e,this._isInstanceTable=Array.isArray(e.table),a[e.action](this,t)},e.prototype._getRows=function(e){this._isInstanceTable?new c(this._query).getRows(e):new l(this._query,this._store,function(t){e(t.filter(function(e){return e}))})},e.prototype._setCache=function(e){var t=this;this._store._cache[this._query.table][this._hash]=e,this._store._cacheKeys[this._query.table][this._hash]={},e.forEach(function(e){t._store._cacheKeys[t._query.table][t._hash][e[t._store.tableInfo[t._query.table]._pk]]=!0})},e.prototype._select=function(e){var t=this;this._hash=i.hash(JSON.stringify(r({},this._query,{queryID:null})));var n=!this._query.join&&!this._query.orm&&this._store._doCache&&!Array.isArray(this._query.table);this._getRows(function(r){["having","orderBy","offset","limit","actionArgs","groupBy","orm","join"].filter(function(e){return t._query[e]}).length?new u(t._query,t._store)._executeQueryArguments(r,function(o){n&&t._setCache(r),t._query.result=o,e(t._query)}):(n&&t._setCache(r),t._query.result=r,e(t._query))})},e.prototype._updateORMRows=function(e,t,n,r,o){var a=this;this._store.tableInfo[e._fromTable]._pk;this._store._read(e._fromTable,t,function(t){i.fastALL(t,function(t,o,s){var u=Object.isFrozen(t)?i._assign(t):t;if("array"===e._fromType){u[e._fromColumn]=u[e._fromColumn]||[];var l=u[e._fromColumn].indexOf(r);n?-1===l?u[e._fromColumn].push(r):s():-1!==l?u[e._fromColumn].splice(l,1):s(),u[e._fromColumn].sort()}else u[e._fromColumn]=n?r:null;a._store._nsql.query("upsert",u).comment("_orm_skip").manualExec({table:e._fromTable}).then(s)}).then(o)})},e.prototype._syncORM=function(e,t,n,r){var o=this;if(this._store._hasORM){var a=this._store._relToTable[this._query.table];if(-1===this._query.comments.indexOf("_orm_skip"))if(a&&a.length){for(var s=Math.max(t.length,n.length),u=[];s--;)u.push(" ");i.fastCHAIN(u,function(r,s,u){i.fastALL(a,function(r,a,u){var l,c;switch(e){case"del":var f=t[s][o._store.tableInfo[o._query.table]._pk],d="array"===r._thisType?t[s][r._thisColumn]||[]:[t[s][r._thisColumn]].filter(function(e){return e});o._updateORMRows(r,d,!1,f,u);break;case"add":var p=n[s][o._store.tableInfo[o._query.table]._pk];if(t[s])if(l=t[s][r._thisColumn],c=n[s][r._thisColumn],Array.isArray(l)&&Array.isArray(c)?l.length===c.length&&l.filter(function(e,t){return e!==c[t]}).length>0:l===c)u();else if("array"===r._thisType){var h=(n[s][r._thisColumn]||[]).filter(function(e){return-1===(t[s][r._thisColumn]||[]).indexOf(e)}),y=(t[s][r._thisColumn]||[]).filter(function(e){return-1===(n[s][r._thisColumn]||[]).indexOf(e)});i.fastALL([h,y],function(e,t,n){o._updateORMRows(r,e,0===t,p,n)}).then(u)}else{var m=function(){null!==n[s][r._thisColumn]&&void 0!==n[s][r._thisColumn]?o._updateORMRows(r,[n[s][r._thisColumn]],!0,p,u):u()};null!==t[s][r._thisColumn]&&void 0!==t[s][r._thisColumn]?o._updateORMRows(r,[t[s][r._thisColumn]],!1,p,m):m()}else{var v="array"===r._thisType?n[s][r._thisColumn]||[]:[n[s][r._thisColumn]].filter(function(e){return e});v&&v.length?o._updateORMRows(r,v,!0,p,u):u()}}}).then(u)}).then(r)}else r();else r()}else r()},e.prototype._updateRowViews=function(e,t,n){var r=this;this._store._hasViews?null!==e&&void 0!==e?i.fastALL(Object.keys(this._store.tableInfo[this._query.table]._views),function(n,o,i){var a=r._store.tableInfo[r._query.table]._views[n].pkColumn;if(void 0!==e[a]){if(e[a]!==t[a])return null===e[a]?(r._store.tableInfo[r._query.table]._views[n].columns.forEach(function(t){e[t.thisColumn]=null}),void i()):void r._store._read(n,[e[a]],function(t){if(!t.length&&"LIVE"===r._store.tableInfo[r._query.table]._views[n].mode)return r._store.tableInfo[r._query.table]._views[n].columns.forEach(function(t){e[t.thisColumn]=null}),void i();r._store.tableInfo[r._query.table]._views[n].columns.forEach(function(n){e[n.thisColumn]=t[0][n.otherColumn]}),i()});i()}else i()}).then(function(){n(e)}):n(e||{}):n(e)},e.prototype._updateRemoteViews=function(e,t,n){var r=this,o=this._store.tableInfo[this._query.table]._pk;i.fastALL(e,function(e,n,a){i.fastALL(r._store.tableInfo[r._query.table]._viewTables,function(n,a,s){t&&"GHOST"===r._store.tableInfo[n.table]._views[r._query.table].mode?s():r._store._secondaryIndexRead(n.table,n.column,e[o],function(o){if(o.length){var a=r._store.tableInfo[n.table]._views[r._query.table].columns,u=r._store.tableInfo[n.table]._views[r._query.table].pkColumn;i.fastALL(o,function(o,i,s){var l=a.length,c=!1;if(t){if("LIVE"===r._store.tableInfo[n.table]._views[r._query.table].mode)for(c=!0,o[u]=null;l--;)o[a[l].otherColumn]=null}else for(;l--;)o[a[l].otherColumn]!==e[a[l].thisColumn]&&(o[a[l].otherColumn]=e[a[l].thisColumn],c=!0);if(c){var f=r._store.tableInfo[n.table]._pk;r._store.adapterWrite(n.table,o[f],o,s)}else s()}).then(s)}else s()})}).then(a)}).then(n)},e.prototype._doAfterQuery=function(e,t,n){var r=this;this._store._hasViews&&this._store.tableInfo[this._query.table]._viewTables.length?this._updateRemoteViews(e,t,function(){n(r._query)}):n(this._query)},e.prototype._upsert=function(e){var t=this,n=this._store.tableInfo[this._query.table]._pk;if(this._isInstanceTable)this._getRows(function(n){t._query.result=t._query.table.map(function(e){return-1===n.indexOf(e)?e:r({},t._query.actionArgs,e)}),e(t._query)});else if(this._query.where)this._getRows(function(r){r.length?i.fastCHAIN(r,function(e,r,o){t._updateRowViews(t._query.actionArgs||{},e,function(r){t._store._write(t._query.table,e[n],e,r,o)})}).then(function(o){var i=o.map(function(e){return e[n]});t._store._invalidateCache(t._query.table,i),t._query.result=[{msg:o.length+" row(s) modfied.",affectedRowPKS:i,affectedRows:o}],t._syncORM("add",r,o,function(){t._doAfterQuery(o,!1,e)})}):(t._query.result=[{msg:"0 row(s) modfied.",affectedRowPKS:[],affectedRows:[]}],e(t._query))});else{var o=this._query.actionArgs||{};this._store._cache[this._query.table]={};var a=function(r){t._updateRowViews(o,r,function(i){t._store._write(t._query.table,o[n],r,i,function(o){t._query.result=[{msg:"1 row inserted.",affectedRowPKS:[o[n]],affectedRows:[o]}],t._store._hasORM?t._syncORM("add",[r].filter(function(e){return e}),[o],function(){t._doAfterQuery([o],!1,e)}):t._doAfterQuery([o],!1,e)})})};void 0!==o[n]?this._store._read(this._query.table,[o[n]],function(e){e.length?a(e[0]):a(null)}):a(null)}},e.prototype._delete=function(e){var t=this;this._isInstanceTable?this._query.where?this._getRows(function(n){t._query.result=t._query.table.filter(function(e){return-1===n.indexOf(e)}),e(t._query)}):(this._query.result=[],e(this._query)):this._query.where?this._getRows(function(n){(n=n.filter(function(e){return e})).length?i.fastALL(n,function(e,n,r){t._store._delete(t._query.table,e[t._store.tableInfo[t._query.table]._pk],r)}).then(function(r){t._store._cache[t._query.table]={};var o=n.map(function(e){return e[t._store.tableInfo[t._query.table]._pk]});t._store._invalidateCache(t._query.table,o),t._query.result=[{msg:n.length+" row(s) deleted.",affectedRowPKS:o,affectedRows:n}],t._syncORM("del",n,[],function(){t._doAfterQuery(n,!0,e)})}):(t._query.result=[{msg:"0 row(s) deleted.",affectedRowPKS:[],affectedRows:[]}],e(t._query))}):this._drop(e)},e.prototype._drop=function(e){var t=this;if(this._isInstanceTable)return this._query.result=[],void e(this._query);this._store._rangeRead(this._query.table,void 0,void 0,!1,function(n){t._store._cache[t._query.table]={},t._store._cacheKeys[t._query.table]={},t._store._drop(t._query.table,function(){t._query.result=[{msg:"'"+t._query.table+"' table dropped.",affectedRowPKS:n.map(function(e){return e[t._store.tableInfo[t._query.table]._pk]}),affectedRows:n}],t._syncORM("del",n,[],function(){t._doAfterQuery(n,!0,e)})})})},e}();t._NanoSQLStorageQuery=s;var u=function(){function e(e,t){this.q=e,this.s=t,this._groupByColumns=[]}return e.prototype._join=function(e,t){var n=this;if(this.q.join){var r={};"cross"!==this.q.join.type&&this.q.join.where&&(r={_left:this.q.join.where[0],_check:this.q.join.where[1],_right:this.q.join.where[2]});var o=this.q.table,i=this.q.join.table;this._doJoin(this.q.join.type,o,i,r,function(e){n.q.where?t(e.filter(function(e,t){return Array.isArray(n.q.where)?f(e,n.q.where||[],t,!0):n.q.where(e,t)})):n.q.range?t(e.filter(function(e,t){return n.q.range&&n.q.range[0]>=t&&n.q.range[1]<=t})):t(e)})}else t(e)},e.prototype._groupByKey=function(e,t){return e.reduce(function(e,n){return-1!==n.indexOf(".length")?e+"."+String((t[n.replace(".length","")]||[]).length):e+"."+String(t[n])},"").slice(1)},e.prototype._groupBy=function(e){var t=this,n=this.q.groupBy||{},r=e.sort(function(e,r){return t._sortObj(e,r,n,!0)});return r.forEach(function(e,r){var o=Object.keys(n).map(function(t){return String(e[t])||""}).join(".");t._sortGroups||(t._sortGroups={}),t._sortGroups[o]||(t._sortGroups[o]=[]),t._sortGroups[o].push(r)}),r},e.prototype._having=function(e){var t=this;return e.filter(function(e,n){return Array.isArray(t.q.having)?f(e,t.q.having||[],n,!0):t.q.having(e,n)})},e.prototype._orderBy=function(e){var t=this;return e.sort(function(e,n){return t._sortObj(e,n,t.q.orderBy||{},!1)})},e.prototype._offset=function(e){var t=this;return e.filter(function(e,n){return!t.q.offset||n>=t.q.offset})},e.prototype._limit=function(e){var t=this;return e.filter(function(e,n){return!t.q.limit||n<t.q.limit})},e.prototype._orm=function(e,t){var n=this,r=this.q.orm?this.q.orm.map(function(e){return"string"==typeof e?{key:e,limit:5}:e}):[];i.fastALL(e,function(e,t,a){e=Object.isFrozen(e)?i._assign(e):e,i.fastALL(r,function(t,r,i){if(e[t.key]&&e[t.key].length){var a=n.s._columnsAreTables[n.q.table][t.key];a?n.s._nsql.query("select").where([n.s.tableInfo[a._toTable]._pk,"array"===a._thisType?"IN":"=",e[t.key]]).manualExec({table:a._toTable}).then(function(n){var r=o.nSQL().query("select",t.select);t.where&&r.where(t.where),void 0!==t.limit&&r.limit(t.limit),void 0!==t.offset&&r.offset(t.offset),t.orderBy&&r.orderBy(t.orderBy),t.groupBy&&r.groupBy(t.groupBy),r.manualExec({table:n}).then(function(r){n.filter(function(e){return e}).length?e[t.key]="array"===a._thisType?r:r[0]:e[t.key]="array"===a._thisType?[]:void 0,i()})}):i()}else i()}).then(function(){a(e)})}).then(t)},e.prototype._doJoin=function(e,t,n,r,o){var i="left",a="right",s="outer",u=this,l=u.s.tableInfo[e===a?n:t],c=u.s.tableInfo[e===a?t:n],d=function(e,t){return[l,c].reduce(function(n,r,o){return r._keys.forEach(function(i){n[r._name+"."+i]=((0===o?e:t)||{})[i]}),n},{})},p=[],h=r&&r._right&&r._right.split(".").pop()||"",y={},m=[];u.s._read(l._name,function(t,n,o){var v=!1;u.s._read(c._name,function(n,o,i){var u;r&&"cross"!==e?f(((u={})[l._name]=t,u[c._name]=n,u),[r._left,r._check,e===a?t[h]:n[h]],0)?(e===s&&(y[o]=!0),p.push(d(t,n)),v=!0):e===s&&(m[o]=n):(p.push(d(t,n)),v=!0);i(!1)},function(){!v&&[i,a,s].indexOf(e)>-1&&p.push(d(t,null)),o(!1)})},function(){if(e===s){for(var t=m.filter(function(e,t){return!y[t]}),n=0;n<t.length;)p.push(d(null,t[n])),n++;o(p)}else o(p)})},e.prototype._sortObj=function(e,t,n,r){return Object.keys(n).reduce(function(o,a){var s=r?i.objQuery(a,e):e[a],u=r?i.objQuery(a,t):t[a];return o||(s===u?0:(s>u?1:-1)*("desc"===n[a]?-1:1))},0)},e.prototype._mutateRows=function(e,t){var n=this,r=this.q.actionArgs,a={},s={};if(r&&r.length){var u=!1,l={};r.forEach(function(e){if(-1!==e.indexOf("(")){var t=(e.match(/^.*\(/g)||[""])[0].replace(/\(|\)/g,"").toUpperCase(),n=o.NanoSQLInstance.functions[t],r=1===e.split(" AS ").length?t:(e.split(" AS ").pop()||"").trim();if(!n)throw new Error("'"+t+"' is not a valid function!");"A"===n.type&&(u=!0),l[e]={fn:n,key:r}}}),i.fastALL(r,function(t,r,o){if(t.indexOf("(")>-1){var c=(t.match(/\(.*\)/g)||[""])[0].replace(/\(|\)/g,"").split(",").map(function(e){return e.trim()});n._sortGroups&&u?i.fastALL(Object.keys(n._sortGroups),function(r,o,i){var a;s[r]||(s[r]={}),(a=l[t].fn).call.apply(a,[e.filter(function(e,t){return n._sortGroups[r].indexOf(t)>-1}),function(e){s[r][l[t].key]=e,i()}].concat(c))}).then(o):(f=l[t].fn).call.apply(f,[e,function(e){a[l[t].key]=e,o()}].concat(c))}else o();var f}).then(function(){var o=function(e,t,o){var a={};return r.forEach(function(r){var s=r.indexOf("(")>-1,u=s?l[r].fn.type:"";if(r.indexOf(" AS ")>-1){var c=r.split(" AS "),f=s?l[r].key:c[0].trim();a[c[1]]=s?"A"===u?o[f]:o[f][t]:i.objQuery(f,e,void 0!==n.q.join)}else{f=s?l[r].key:r;a[r]=s?"A"===u?o[f]:o[f][t]:i.objQuery(f,e,void 0!==n.q.join)}}),a};if(!e.length&&u){var c=[{}];return Object.keys(l).forEach(function(e){void 0!==a[l[e].key]&&(c[0][e]=a[l[e].key])}),void t(c)}if(n._sortGroups&&u){var f=[];Object.keys(n._sortGroups).forEach(function(t){var r=e.filter(function(e,r){return n._sortGroups[t].indexOf(r)>-1}).filter(function(e,t){return t<1});r&&r.length&&f.push(o(r[0],0,s[t]))}),t(f)}else t(u?e.filter(function(e,t){return t<1}).map(function(e,t){return o(e,t,a)}):e.map(function(e,t){return o(e,t,a)}))})}else t(e)},e.prototype._executeQueryArguments=function(e,t){var n=this,r=function(){n.q.having&&(e=n._having(e)),n.q.orderBy&&(e=n._orderBy(e)),n.q.offset&&(e=n._offset(e)),n.q.limit&&(e=n._limit(e)),t(e)},o=function(){n.q.actionArgs&&n.q.actionArgs.length?n._mutateRows(e,function(t){e=t,r()}):r()},i=function(){n.q.groupBy&&(e=n._groupBy(e)),n.q.orm?n._orm(e,function(t){e=t,o()}):o()};this.q.join?this._join(e,function(t){e=t,i()}):i()},e}();t._MutateSelection=u;var l=function(){function e(e,t,n){var r=this;if(this.q=e,this.s=t,this.q.join&&this.q.orm)throw new Error("Cannot do a JOIN and ORM command at the same time!");if([this.q.where,this.q.range,this.q.trie].filter(function(e){return e}).length>1)throw new Error("Can only have ONE of Trie, Range or Where!");if(this.q.join)n([]);else if(this.q.trie&&this.q.trie.column&&this.q.trie.search)this._selectByTrie(n);else if(this.q.range&&this.q.range.length)this._selectByRange(n);else if(this.q.where&&this.q.where.length&&Array.isArray(this.q.where)){if("string"==typeof this.q.where[0]?0===this._isOptimizedWhere(this.q.where):0===(this.q.where||[]).reduce(function(e,t,n){return n%2==1?e:e+r._isOptimizedWhere(t)},0))this._selectByKeys(this.q.where,n);else{var o=this._isSubOptimizedWhere(this.q.where);if(o>0){var i=this.q.where.slice(0,o),a=this.q.where.slice(o+1);this._selectByKeys(i,function(e){n(e.filter(function(e,t){return f(e,a,t)}))})}else this._fullTableScan(n)}}else this._fullTableScan(n)}return e.prototype._selectByKeys=function(e,t){var n=this;if(e&&"string"==typeof e[0])this._selectRowsByIndex(e,t);else if(e){var r=[],o="";i.fastCHAIN(e,function(e,t,i){if("string"==typeof e)return o=e,void i();n._selectRowsByIndex(e,function(e){if("AND"===o){for(var t={},a=e.length;a--;)t[e[a][n.s.tableInfo[n.q.table]._pk]]=!0;r=r.filter(function(e){return t[e[n.s.tableInfo[n.q.table]._pk]]})}else r=r.concat(e);i()})}).then(function(){t(r)})}},e.prototype._selectRowsByIndex=function(e,t){var n=this;if("BETWEEN"!==e[1]){var r=[];switch(e[1]){case"IN":r=e[2];break;case"=":r=[e[2]]}e[0]===this.s.tableInfo[this.q.table]._pk?this.s._read(this.q.table,r,t):i.fastALL(r,function(t,r,o){n.s._secondaryIndexRead(n.q.table,e[0],t,o)}).then(function(e){t([].concat.apply([],e))})}else{var o=e[0]===this.s.tableInfo[this.q.table]._pk?"":e[0];if(o){var a="_"+this.q.table+"_idx_"+o;this.s._rangeRead(a,e[2][0],e[2][1],!0,function(e){for(var r=[],o=e.length;o--;)r=r.concat(e[o].rows);n.s._read(n.q.table,r,t)})}else this.s._rangeRead(this.q.table,e[2][0],e[2][1],!0,function(e){t(e)})}},e.prototype._selectByRange=function(e){var t=this;if(this.q.range){var n=this.q.range;n[0]>0?this.s._rangeRead(this.q.table,n[1],n[1]+n[0],!1,e):this.s.adapters[0].adapter.getIndex(this.q.table,!0,function(r){for(var o=n[0]>0?n[1]:r+n[0]-n[1],i=o,a=Math.abs(n[0])-1;a--;)i++;t.s._rangeRead(t.q.table,o,i,!1,e)})}else e([])},e.prototype._selectByTrie=function(e){this.q.trie?this.s._trieRead(this.q.table,this.q.trie.column,this.q.trie.search,e):e([])},e.prototype._fullTableScan=function(e){var t=this,n=void 0!==this.q.where,r=n&&Array.isArray(this.q.where);this.s._read(this.q.table,function(e,o,i){i(!n||(r?f(e,t.q.where,o):t.q.where(e,o)))},e)},e.prototype._isSubOptimizedWhere=function(e){var t=this;if("string"==typeof e[0])return 0;if(0===this._isOptimizedWhere(e[0])){var n=0;return e.forEach(function(r,o){o%2==0&&0===t._isOptimizedWhere(r)&&e[o+1]&&(n=o+1)}),"AND"!==e[n]?0:n}return 0},e.prototype._isOptimizedWhere=function(e){var t=this.s.tableInfo[this.q.table];return["=","IN","BETWEEN"].indexOf(e[1])>-1&&(e[0]===t._pk||t._secondaryIndexes.indexOf(e[0])>-1)?0:1},e}();t._RowSelection=l;var c=function(){function e(e){this.q=e}return e.prototype.getRows=function(e){var t=this;if(this.q.join||this.q.orm||this.q.trie)throw new Error("Cannot do a JOIN, ORM or TRIE command with instance table!");if(this.q.range&&this.q.range.length){var n,r,o=this.q.range;n=o[0]<0?this.q.table.length+o[0]-o[1]:o[1];var i=Math.abs(o[0])-1;for(r=n;i--;)r++;e(this.q.table.filter(function(e,t){return t>=n&&t<=r}))}else e(this.q.table.filter(function(e,n){return!t.q.where||(Array.isArray(t.q.where)?f(e,t.q.where||[],n):t.q.where(e,n))}))},e}();t.InstanceSelection=c;var f=function(e,t,n,r){var o=["AND","OR"];if("string"!=typeof t[0]){var a=t.map(function(t,n){return-1!==o.indexOf(t)?("AND"===t&&!0,t):0===d(t[2],t[1],i.objQuery(t[0],e,r))});return a.forEach(function(e,t){"OR"===e&&(a[t]=a[t-1]||a[t+1],a[t-1]=void 0,a[t+1]=void 0)}),-1===a.indexOf(!1)}return 0===d(t[2],t[1],i.objQuery(t[0],e,r))},d=function(e,t,n){var r=function(e){return["LIKE","NOT LIKE"].indexOf(t)>-1?String(e||"").toLowerCase():e},o=r(n),i=r(e);if("NULL"===e||"NOT NULL"===e){var a="="===t||"LIKE"===t;return("NULL"===e?null===n||void 0===n:null!==n&&void 0!==n)?a?0:1:a?1:0}switch(t){case"=":return o===i?0:1;case"!=":return o!==i?0:1;case">":return o>i?0:1;case"<":return o<i?0:1;case"<=":return o<=i?0:1;case">=":return o>=i?0:1;case"IN":return(i||[]).indexOf(o)<0?1:0;case"NOT IN":return(i||[]).indexOf(o)<0?0:1;case"REGEX":return o.match(i).length?0:1;case"LIKE":return o.indexOf(i)<0?1:0;case"NOT LIKE":return o.indexOf(i)>=0?1:0;case"BETWEEN":return i[0]<=o&&i[1]>=o?0:1;case"HAVE":return(o||[]).indexOf(i)<0?1:0;case"NOT HAVE":return(o||[]).indexOf(i)<0?0:1;case"INTERSECT":return(o||[]).filter(function(e){return(i||[]).indexOf(e)>-1}).length>0?0:1;case"NOT INTERSECT":return 0===(o||[]).filter(function(e){return(i||[]).indexOf(e)>-1}).length?0:1;default:return 1}}},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),i=n(60),a=n(0),s=n(59),u=function(){function e(){this._queryPool=[],this._queryPtr=0}return e.prototype.willConnect=function(e,t){this.parent=e.parent,this._store=new s._NanoSQLStorage(e.parent,r({},e.config)),this._store.init(e.models,function(n){e.models=r({},e.models,n),t(e)})},e.prototype.doExec=function(e,t){e.state="complete",new i._NanoSQLStorageQuery(this._store).doQuery(e,t)},e.prototype.dumpTables=function(e){var t=this;return new a.Promise(function(n,r){var o={},i=e&&e.length?e:Object.keys(t._store.tableInfo);a.fastALL(i,function(e,n,r){o[e]=[],t._store.adapters[0].adapter.rangeRead(e,function(t,n,r){o[e].push(t),r()},r)}).then(function(){n(o)})})},e.prototype.importTables=function(e){var t=this;return new a.Promise(function(n,r){a.fastALL(Object.keys(e),function(n,r,o){var i=t._store.tableInfo[n]._pk;a.fastALL(e[n],function(e,r,o){e[i]?t._store.adapters[0].adapter.write(n,e[i],e,o):o()}).then(o)}).then(function(){n()})})},e.prototype.willDisconnect=function(e){a.fastALL(this._store.adapters||[],function(e,t,n){e.disconnect?e.disconnect(n):n()}).then(e)},e.prototype.extend=function(e,t,n){var r=this;switch(t[0]){case"clone":var i=new o.NanoSQLInstance;Object.keys(this.parent.dataModels).forEach(function(e){i.table(e).model(r.parent.dataModels[e],[],!0)}),i.config({id:this._store._id,mode:t[1]}).connect().then(function(){a.fastCHAIN(Object.keys(r.parent.dataModels),function(e,t,n){console.log("Importing "+e+"..."),r.parent.rawDump([e]).then(function(e){return i.rawImport(e)}).then(n)}).then(function(){e(t,[])})});break;case"flush":var s=[];s=t[1]?[t[1]]:this.parent.tableNames,a.fastCHAIN(s,function(e,t,n){r._store._drop(e,n)}).then(function(){e(t,s)});break;case"get_adapter":t[1]?e(t,[this._store.adapters[t[1]].adapter]):e(t,[this._store.adapters[0].adapter]);break;case"idx.length":case"idx":var u=t[1];Object.keys(this._store.tableInfo).indexOf(u)>-1?this._store.adapters[0].adapter.getIndex(u,"idx"!==t[0],function(n){e(t,n)}):e(t,[]);break;case"rebuild_idx":t[1]?this._store.rebuildIndexes(t[1],function(n){e(t,[n])}):a.fastALL(Object.keys(this._store.tableInfo),function(e,t,n){r._store.rebuildIndexes(e,n)}).then(function(n){e(t,n)});break;case"clear_cache":t[1]&&t[2]?this._store._invalidateCache(t[1],t[2]):t[1]?(this._store._cache[t[1]]={},this._store._cacheKeys[t[1]]={}):Object.keys(this._store.tableInfo).forEach(function(e){r._store._cache[e]={},r._store._cacheKeys[e]={}}),e(t,t[1]||Object.keys(this._store.tableInfo));break;default:e(t,n)}},e}();t.NanoSQLDefaultBackend=u},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.eventListeners={}}return e.prototype.on=function(e,t){this.eventListeners[e]||(this.eventListeners[e]=[]),this.eventListeners[e].push(t)},e.prototype.off=function(e,t){var n=this;this.eventListeners[e]&&this.eventListeners[e].length&&this.eventListeners[e].forEach(function(r,o){r===t&&n.eventListeners[e].splice(o,1)})},e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.eventListeners[e]&&this.eventListeners[e].forEach(function(e){return e.apply(void 0,t)})},e}();t.ReallySmallEvents=n,t.RSE=new n},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n,r,o){this.thisQ={state:"pending",table:n,action:e,actionArgs:t,queryID:o,transaction:!0,result:[],comments:[]},this._queries=r}return e.prototype.where=function(e){return this.thisQ.where=e,this},e.prototype.exec=function(){this._queries.push(this.thisQ)},e}();t._NanoSQLTransactionQuery=n},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i={affectedRowPKS:[],affectedRows:[]},a=function(e,t){1!==e._db.plugins.length||e._db.hasAnyEvents?o.fastCHAIN(e._db.plugins,function(t,n,r){t.doExec?t.doExec(e._query,function(t){e._query=t||e._query,r()}):r()}).then(function(){if(e._db.hasPK[e._query.table]?t(e._query.result):t(e._query.result.map(function(e){return r({},e,{_id_:void 0})})),e._db.hasAnyEvents||e._db.pluginHasDidExec){var n=function(){switch(e._query.action){case"select":return[e._query.action];case"delete":case"upsert":case"drop":return[e._query.action,"change"];default:return[]}}(),a=e._query.result&&e._query.result.length,s={table:e._query.table,query:e._query,time:Date.now(),result:e._query.result,notes:[],types:n,actionOrView:e._AV,transactionID:e._query.transaction?e._query.queryID:void 0,affectedRowPKS:a?(e._query.result[0]||i).affectedRowPKS:[],affectedRows:a?(e._query.result[0]||i).affectedRows:[]};o.fastCHAIN(e._db.plugins,function(e,t,n){e.didExec?e.didExec(s,function(e){s=e,n()}):n()}).then(function(){e._db.triggerEvent(s)})}}):e._db.plugins[0].doExec(e._query,function(n){e._query=n,e._db.hasPK[e._query.table]?t(e._query.result):t(e._query.result.map(function(e){return r({},e,{_id_:void 0})}))})},s={},u=function(){function e(e,t,n,r,o){this._db=e,this._AV=o||"",this._query={table:t,comments:[],state:"pending",queryID:Date.now()+"."+this._db.fastRand(),action:n,actionArgs:r,result:[]}}return e.prototype.where=function(e){return this._query.where=e,this},e.prototype.range=function(e,t){return this._query.range=[e,t],this},e.prototype.on=function(e){return this._query.on=e,this},e.prototype.debounce=function(e){return this._query.debounce=e||250,this},e.prototype.orm=function(e){return this._query.orm=e,this},e.prototype.orderBy=function(e){return this._query.orderBy=e,this},e.prototype.groupBy=function(e){return this._query.groupBy=e,this},e.prototype.having=function(e){return e.length&&Array.isArray(e)||(this._error="Having condition requires an array!"),this._query.having=e,this},e.prototype.join=function(e){if(Array.isArray(this._query.table))throw Error("Can't JOIN with instance table!");return e.table&&e.type||(this._error="Join command requires table and type arguments!"),this._query.join=e,this},e.prototype.limit=function(e){return this._query.limit=e,this},e.prototype.trieSearch=function(e,t){return this._query.trie={column:e,search:t},this},e.prototype.comment=function(e){return this._query.comments.push(e),this},e.prototype.extend=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._query.extend=e,this},e.prototype.offset=function(e){return this._query.offset=e,this},e.prototype.toCSV=function(e){var t=this;return new o.Promise(function(n,r){t.exec().then(function(r){var o=[];r.length||n("",t),e&&o.push(Object.keys(r[0]).join(",")),r.forEach(function(e){o.push(Object.keys(e).map(function(t){return null===e[t]||void 0===e[t]?"":"object"==typeof e[t]?'"'+JSON.stringify(e[t]).replace(/\"/g,"'")+'"':e[t]}).join(","))}),n(o.join("\n"),t)})})},e.prototype.manualExec=function(e){return this._query=r({},this._query,e),this.exec()},e.prototype.denormalizationQuery=function(e){var t=this;return new o.Promise(function(n,r){switch(e){case"tocolumn":var i={};t._query.actionArgs&&t._query.actionArgs.length?Object.keys(t._db.toColRules[t._query.table]).filter(function(e){return-1!==t._query.actionArgs.indexOf(e)}).forEach(function(e){i[e]=t._db.toColRules[t._query.table][e]}):i=t._db.toColRules[t._query.table],t._query.action="select",t._query.actionArgs=void 0;var s=Object.keys(i);a(t,function(e){o.fastCHAIN(e,function(e,n,r){Object.isFrozen(e)&&(e=o._assign(e)),o.fastALL(s,function(n,r,o){var a=t._db.toColFns[t._query.table][i[n][0]];a?a.apply(null,[e[n],function(t){e[n]=t,o()}].concat(i[n].filter(function(e,t){return t>0}).map(function(t){return e[t]}))):o()}).then(function(){t._db.query("upsert",e).manualExec({table:t._query.table}).then(r).catch(r)})}).then(function(){n({msg:e.length+" rows modified"})})});break;case"torow":var u=(t._query.actionArgs||"").replace("()","");if(!t._db.toRowFns[t._query.table]||!t._db.toRowFns[t._query.table][u])return void r("No function "+t._query.actionArgs+" found to perform updates!");var l=t._db.toRowFns[t._query.table][u],c=t._db.tablePKs[t._query.table];if(t._query.on&&t._query.on.length)return void o.fastALL(t._query.on,function(e,n,r){l(e,{},function(n){n[c]=e,t._db.query("upsert",n).manualExec({table:t._query.table}).then(r).catch(r)})}).then(function(){n([{msg:(t._query.on||[]).length+" rows modified or added."}])});t._query.action="select",t._query.actionArgs=void 0,a(t,function(e){o.fastALL(e,function(e,n,r){Object.isFrozen(e)&&(e=o._assign(e)),l(e[c],e,function(n){n[c]=e[c],t._db.query("upsert",n).manualExec({table:t._query.table}).then(r).catch(r)})}).then(function(){n({msg:e.length+" rows modified"})})})}})},e.prototype.exec=function(){var e=this;if("*"!==this._query.table){var t=this,n=this._query.action.toLowerCase();if(["tocolumn","torow"].indexOf(n)>-1){if(this._query.debounce){var r=o.hash(JSON.stringify([this._query.table,n,this._query.actionArgs,this._query.on,this._query.where].filter(function(e){return e})));return new o.Promise(function(t,o){s[r]&&clearTimeout(s[r]),s[r]=setTimeout(function(){e.denormalizationQuery(n).then(t)},e._query.debounce)})}return this.denormalizationQuery(n)}if(!(["select","upsert","delete","drop","show tables","describe"].indexOf(n)>-1))throw Error("No valid database action!");var i=this._query.actionArgs||("select"===n||"delete"===n?[]:{});if("upsert"===n){for(var u={},l=this._db.dataModels[this._query.table],c=0;c<l.length;)void 0!==i[l[c].key]&&(u[l[c].key]=o.cast(l[c].type,i[l[c].key])),c++;if(this._db.skipPurge[this._query.table]){var f=l.map(function(e){return e.key});Object.keys(i).filter(function(e){return-1===f.indexOf(e)}).forEach(function(e){u[e]=i[e]})}i=u}return this._query.action=n,this._query.actionArgs=this._query.actionArgs?i:void 0,new o.Promise(function(n,r){Array.isArray(e._query.table)?e._db.iB.doExec&&e._db.iB.doExec(e._query,function(e){n(e.result)}):(t._db.plugins.length||(t._error="No plugins, nothing to do!"),t._error?r(t._error,e._db):e._db.queryMod?e._db.queryMod(e._query,function(t){e._query=t,a(e,n)}):a(e,n))})}},e}();t._NanoSQLQuery=u},function(e,t,n){var r=n(11);r(r.S,"Object",{create:n(25)})},function(e,t,n){n(65);var r=n(1).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){e.exports={default:n(66),__esModule:!0}},function(e,t,n){var r=n(9),o=n(13),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(47)(Function.call,n(37).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){var r=n(11);r(r.S,"Object",{setPrototypeOf:n(68).set})},function(e,t,n){n(69),e.exports=n(1).Object.setPrototypeOf},function(e,t,n){e.exports={default:n(70),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(71)),o=a(n(67)),i=a(n(44));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){n(20)("observable")},function(e,t,n){n(20)("asyncIterator")},function(e,t){},function(e,t,n){var r=n(8),o=n(38).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,t,n){var r=n(40);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(24),o=n(39),i=n(19);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,s=n(e),u=i.f,l=0;s.length>l;)u.call(e,a=s[l++])&&t.push(a);return t}},function(e,t,n){var r=n(16)("meta"),o=n(9),i=n(5),a=n(4).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(12)(function(){return u(Object.preventExtensions({}))}),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return l&&f.NEED&&u(e)&&!i(e,r)&&c(e),e}}},function(e,t,n){"use strict";var r=n(2),o=n(5),i=n(3),a=n(11),s=n(42),u=n(79).KEY,l=n(12),c=n(30),f=n(22),d=n(16),p=n(7),h=n(21),y=n(20),m=n(78),v=n(77),g=n(13),b=n(9),_=n(8),w=n(29),x=n(15),k=n(25),C=n(76),S=n(37),T=n(4),E=n(24),I=S.f,O=T.f,P=C.f,R=r.Symbol,A=r.JSON,N=A&&A.stringify,M=p("_hidden"),q=p("toPrimitive"),L={}.propertyIsEnumerable,j=c("symbol-registry"),D=c("symbols"),F=c("op-symbols"),U=Object.prototype,W="function"==typeof R,B=r.QObject,H=!B||!B.prototype||!B.prototype.findChild,z=i&&l(function(){return 7!=k(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=I(U,t);r&&delete U[t],O(e,t,n),r&&e!==U&&O(U,t,r)}:O,V=function(e){var t=D[e]=k(R.prototype);return t._k=e,t},K=W&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},Q=function(e,t,n){return e===U&&Q(F,t,n),g(e),t=w(t,!0),g(n),o(D,t)?(n.enumerable?(o(e,M)&&e[M][t]&&(e[M][t]=!1),n=k(n,{enumerable:x(0,!1)})):(o(e,M)||O(e,M,x(1,{})),e[M][t]=!0),z(e,t,n)):O(e,t,n)},$=function(e,t){g(e);for(var n,r=m(t=_(t)),o=0,i=r.length;i>o;)Q(e,n=r[o++],t[n]);return e},Y=function(e){var t=L.call(this,e=w(e,!0));return!(this===U&&o(D,e)&&!o(F,e))&&(!(t||!o(this,e)||!o(D,e)||o(this,M)&&this[M][e])||t)},J=function(e,t){if(e=_(e),t=w(t,!0),e!==U||!o(D,t)||o(F,t)){var n=I(e,t);return!n||!o(D,t)||o(e,M)&&e[M][t]||(n.enumerable=!0),n}},G=function(e){for(var t,n=P(_(e)),r=[],i=0;n.length>i;)o(D,t=n[i++])||t==M||t==u||r.push(t);return r},X=function(e){for(var t,n=e===U,r=P(n?F:_(e)),i=[],a=0;r.length>a;)!o(D,t=r[a++])||n&&!o(U,t)||i.push(D[t]);return i};W||(s((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===U&&t.call(F,n),o(this,M)&&o(this[M],e)&&(this[M][e]=!1),z(this,e,x(1,n))};return i&&H&&z(U,e,{configurable:!0,set:t}),V(e)}).prototype,"toString",function(){return this._k}),S.f=J,T.f=Q,n(38).f=C.f=G,n(19).f=Y,n(39).f=X,i&&!n(27)&&s(U,"propertyIsEnumerable",Y,!0),h.f=function(e){return V(p(e))}),a(a.G+a.W+a.F*!W,{Symbol:R});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)p(Z[ee++]);for(var te=E(p.store),ne=0;te.length>ne;)y(te[ne++]);a(a.S+a.F*!W,"Symbol",{for:function(e){return o(j,e+="")?j[e]:j[e]=R(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!W,"Object",{create:function(e,t){return void 0===t?k(e):$(k(e),t)},defineProperty:Q,defineProperties:$,getOwnPropertyDescriptor:J,getOwnPropertyNames:G,getOwnPropertySymbols:X}),A&&a(a.S+a.F*(!W||l(function(){var e=R();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(b(t)||void 0!==e)&&!K(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!K(t))return t}),r[1]=t,N.apply(A,r)}}),R.prototype[q]||n(10)(R.prototype,q,R.prototype.valueOf),f(R,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){n(80),n(75),n(74),n(73),e.exports=n(1).Symbol},function(e,t,n){e.exports={default:n(81),__esModule:!0}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";var r=n(84),o=n(83),i=n(26),a=n(8);e.exports=n(43)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){n(85);for(var r=n(2),o=n(10),i=n(26),a=n(7)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var l=s[u],c=r[l],f=c&&c.prototype;f&&!f[a]&&o(f,a,l),i[l]=i.Array}},function(e,t,n){var r=n(2).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(28),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(28),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(8),o=n(89),i=n(88);e.exports=function(e){return function(t,n,a){var s,u=r(t),l=o(u.length),c=i(a,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(40);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(4),o=n(13),i=n(24);e.exports=n(3)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){"use strict";var r=n(25),o=n(15),i=n(22),a={};n(10)(a,n(7)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(28),o=n(32);e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),u=r(n),l=s.length;return u<0||u>=l?e?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):i:e?s.slice(u,u+2):a-56320+(i-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(94)(!0);n(43)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){n(95),n(86),e.exports=n(21).f("iterator")},function(e,t,n){e.exports={default:n(96),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(44),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){var r=n(11);r(r.S+r.F*!n(3),"Object",{defineProperty:n(4).f})},function(e,t,n){n(99);var r=n(1).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){e.exports={default:n(100),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(101),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(11),o=n(1),i=n(12);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(49),o=n(48);n(105)("getPrototypeOf",function(){return function(e){return o(r(e))}})},function(e,t,n){n(106),e.exports=n(1).Object.getPrototypeOf},function(e,t,n){e.exports={default:n(107),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(108)),o=c(n(103)),i=c(n(102)),a=c(n(98)),s=c(n(72)),u=n(36),l=c(u);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){return l.default.createElement("div",null,"Account balance ",this.props.nSQLdata)}}],[{key:"tables",value:function(){return["balance"]}},{key:"onChange",value:function(e,t){console.log("account status changed event",e),t((new Date).getTime())}}]),t}(u.PureComponent);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccountStatus=void 0;var r=n(109);Object.defineProperty(t,"AccountStatus",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}});var o=n(18);(0,o.nSQL)("balance").model([{key:"id",type:"int",props:["pk","ai"]},{key:"userId",type:"string"},{key:"balance",type:"int"}]).config({mode:"TEMP"}).connect().then(function(e){return(0,o.nSQL)().query("upsert",{userId:"anton",balance:20}).exec()})},function(e,t,n){"use strict";var r=/-(.)/g;e.exports=function(e){return e.replace(r,function(e,t){return t.toUpperCase()})}},function(e,t,n){"use strict";var r=n(111),o=/^-ms-/;e.exports=function(e){return r(e.replace(o,"ms-"))}},function(e,t,n){"use strict";var r=/([A-Z])/g;e.exports=function(e){return e.replace(r,"-$1").toLowerCase()}},function(e,t,n){"use strict";var r=n(113),o=/^ms-/;e.exports=function(e){return r(e).replace(o,"-ms-")}},function(e,t,n){"use strict";e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}},function(e,t,n){"use strict";var r=n(115);e.exports=function(e){return r(e)&&3==e.nodeType}},function(e,t,n){"use strict";var r=n(116);e.exports=function e(t,n){return!(!t||!n)&&(t===n||!r(t)&&(r(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(o(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!r.call(t,n[a])||!o(e[n[a]],t[n[a]]))return!1;return!0}},function(e,t,n){"use strict";e.exports=function(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=o},function(e,t,n){"use strict";
/** @license React v16.3.1
 * react-dom.development.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var t=n(36),r=n(35),o=n(34),i=n(120),a=n(52),s=n(33),u=n(50),l=n(119),c=n(118),f=n(117),d=n(51),p=n(114),h=n(112);t||r(!1,"ReactDOM was loaded before React. Make sure you load the React package before loading ReactDOM.");var y=function(e,t,n,r,o,i,a,s,u){this._hasCaughtError=!1,this._caughtError=null;var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this._caughtError=e,this._hasCaughtError=!0}};if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var m=document.createElement("react");y=function(e,t,n,o,i,a,s,u,l){"undefined"==typeof document&&r(!1,"The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var c=document.createEvent("Event"),f=!0,d=Array.prototype.slice.call(arguments,3);var p=void 0,h=!1,y=!1;function v(e){p=e.error,h=!0,null===p&&0===e.colno&&0===e.lineno&&(y=!0)}var g="react-"+(e||"invokeguardedcallback");window.addEventListener("error",v),m.addEventListener(g,function e(){m.removeEventListener(g,e,!1),t.apply(n,d),f=!1},!1),c.initEvent(g,!1,!1),m.dispatchEvent(c),f?(h?y&&(p=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://fb.me/react-crossorigin-error for more information.")):p=new Error("An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the \"Pause on exceptions\" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue."),this._hasCaughtError=!0,this._caughtError=p):(this._hasCaughtError=!1,this._caughtError=null),window.removeEventListener("error",v)}}var v=y,g={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(e,t,n,r,o,i,a,s,u){v.apply(g,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,n,r,o,i,a,s,u){if(g.invokeGuardedCallback.apply(this,arguments),g.hasCaughtError()){var l=g.clearCaughtError();g._hasRethrowError||(g._hasRethrowError=!0,g._rethrowError=l)}},rethrowCaughtError:function(){return b.apply(g,arguments)},hasCaughtError:function(){return g._hasCaughtError},clearCaughtError:function(){if(g._hasCaughtError){var e=g._caughtError;return g._caughtError=null,g._hasCaughtError=!1,e}r(!1,"clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}},b=function(){if(g._hasRethrowError){var e=g._rethrowError;throw g._rethrowError=null,g._hasRethrowError=!1,e}},_=null,w={};function x(){if(_)for(var e in w){var t=w[e],n=_.indexOf(e);if(n>-1||r(!1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",e),!S[n]){t.extractEvents||r(!1,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",e),S[n]=t;var o=t.eventTypes;for(var i in o)k(o[i],t,i)||r(!1,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",i,e)}}}function k(e,t,n){T.hasOwnProperty(n)&&r(!1,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",n),T[n]=e;var o=e.phasedRegistrationNames;if(o){for(var i in o){if(o.hasOwnProperty(i))C(o[i],t,n)}return!0}return!!e.registrationName&&(C(e.registrationName,t,n),!0)}function C(e,t,n){E[e]&&r(!1,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",e),E[e]=t,I[e]=t.eventTypes[n].dependencies;var o=e.toLowerCase();O[o]=e,"onDoubleClick"===e&&(O.ondblclick=e)}var S=[],T={},E={},I={},O={};function P(e){_&&r(!1,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."),_=Array.prototype.slice.call(e),x()}function R(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];w.hasOwnProperty(n)&&w[n]===o||(w[n]&&r(!1,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",n),w[n]=o,t=!0)}t&&x()}var A=Object.freeze({plugins:S,eventNameDispatchConfigs:T,registrationNameModules:E,registrationNameDependencies:I,possibleRegistrationNames:O,injectEventPluginOrder:P,injectEventPluginsByName:R}),N=null,M=null,q=null,L=function(e){N=e.getFiberCurrentPropsFromNode,M=e.getInstanceFromNode,q=e.getNodeFromInstance,o(q&&M,"EventPluginUtils.injection.injectComponentTree(...): Injected module is missing getNodeFromInstance or getInstanceFromNode.")},j=void 0;function D(e,t,n,r){var o=e.type||"unknown-event";e.currentTarget=q(r),g.invokeGuardedCallbackAndCatchFirstError(o,n,void 0,e),e.currentTarget=null}function F(e,t){return null==t&&r(!1,"accumulateInto(...): Accumulated items must not be null or undefined."),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function U(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}j=function(e){var t=e._dispatchListeners,n=e._dispatchInstances,r=Array.isArray(t),i=r?t.length:t?1:0,a=Array.isArray(n),s=a?n.length:n?1:0;o(a===r&&s===i,"EventPluginUtils: Invalid `event`.")};var W=null,B=function(e,t){e&&(!function(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(j(e),Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)D(e,0,n[o],r[o]);else n&&D(e,0,n,r);e._dispatchListeners=null,e._dispatchInstances=null}(e),e.isPersistent()||e.constructor.release(e))},H=function(e){return B(e)},z=function(e){return B(e)};var V={injectEventPluginOrder:P,injectEventPluginsByName:R};function K(e,t){var n,o=e.stateNode;if(!o)return null;var i=N(o);return i?(n=i[t],function(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||(r=t,"button"!==r&&"input"!==r&&"select"!==r&&"textarea"!==r));default:return!1}var r}(t,e.type,i)?null:(n&&"function"!=typeof n&&r(!1,"Expected `%s` listener to be a function, instead got a value of `%s` type.",t,typeof n),n)):null}function Q(e,t){null!==e&&(W=F(W,e));var n=W;W=null,n&&(U(n,t?H:z),W&&r(!1,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."),g.rethrowCaughtError())}function $(e,t,n,r){Q(function(e,t,n,r){for(var o=null,i=0;i<S.length;i++){var a=S[i];if(a){var s=a.extractEvents(e,t,n,r);s&&(o=F(o,s))}}return o}(e,t,n,r),!1)}var Y=Object.freeze({injection:V,getListener:K,runEventsInBatch:Q,runExtractedEventsInBatch:$}),J=0,G=1,X=2,Z=3,ee=4,te=5,ne=6,re=7,oe=8,ie=9,ae=10,se=11,ue=12,le=13,ce=14,fe=Math.random().toString(36).slice(2),de="__reactInternalInstance$"+fe,pe="__reactEventHandlers$"+fe;function he(e,t){t[de]=e}function ye(e){if(e[de])return e[de];for(;!e[de];){if(!e.parentNode)return null;e=e.parentNode}var t=e[de];return t.tag===te||t.tag===ne?t:null}function me(e){var t=e[de];return t&&(t.tag===te||t.tag===ne)?t:null}function ve(e){if(e.tag===te||e.tag===ne)return e.stateNode;r(!1,"getNodeFromInstance: Invalid argument.")}function ge(e){return e[pe]||null}function be(e,t){e[pe]=t}var _e=Object.freeze({precacheFiberNode:he,getClosestInstanceFromNode:ye,getInstanceFromNode:me,getNodeFromInstance:ve,getFiberCurrentPropsFromNode:ge,updateFiberProps:be});function we(e){do{e=e.return}while(e&&e.tag!==te);return e||null}function xe(e,t,n){for(var r=[];e;)r.push(e),e=we(e);var o=void 0;for(o=r.length;o-- >0;)t(r[o],"captured",n);for(o=0;o<r.length;o++)t(r[o],"bubbled",n)}function ke(e,t,n,r,o){for(var i=e&&t?function(e,t){for(var n=0,r=e;r;r=we(r))n++;for(var o=0,i=t;i;i=we(i))o++;for(;n-o>0;)e=we(e),n--;for(;o-n>0;)t=we(t),o--;for(var a=n;a--;){if(e===t||e===t.alternate)return e;e=we(e),t=we(t)}return null}(e,t):null,a=[];e&&e!==i;){var s=e.alternate;if(null!==s&&s===i)break;a.push(e),e=we(e)}for(var u=[];t&&t!==i;){var l=t.alternate;if(null!==l&&l===i)break;u.push(t),t=we(t)}for(var c=0;c<a.length;c++)n(a[c],"bubbled",r);for(var f=u.length;f-- >0;)n(u[f],"captured",o)}function Ce(e,t,n){o(e,"Dispatching inst must not be null");var r=function(e,t,n){return K(e,t.dispatchConfig.phasedRegistrationNames[n])}(e,n,t);r&&(n._dispatchListeners=F(n._dispatchListeners,r),n._dispatchInstances=F(n._dispatchInstances,e))}function Se(e){e&&e.dispatchConfig.phasedRegistrationNames&&xe(e._targetInst,Ce,e)}function Te(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;xe(t?we(t):null,Ce,e)}}function Ee(e,t,n){if(e&&n&&n.dispatchConfig.registrationName){var r=K(e,n.dispatchConfig.registrationName);r&&(n._dispatchListeners=F(n._dispatchListeners,r),n._dispatchInstances=F(n._dispatchInstances,e))}}function Ie(e){e&&e.dispatchConfig.registrationName&&Ee(e._targetInst,0,e)}function Oe(e){U(e,Se)}function Pe(e,t,n,r){ke(n,r,Ee,e,t)}var Re=Object.freeze({accumulateTwoPhaseDispatches:Oe,accumulateTwoPhaseDispatchesSkipTarget:function(e){U(e,Te)},accumulateEnterLeaveDispatches:Pe,accumulateDirectDispatches:function(e){U(e,Ie)}}),Ae=null;function Ne(){return!Ae&&i.canUseDOM&&(Ae="textContent"in document.documentElement?"textContent":"innerText"),Ae}var Me={_root:null,_startText:null,_fallbackText:null};function qe(){if(Me._fallbackText)return Me._fallbackText;var e=void 0,t=Me._startText,n=t.length,r=void 0,o=Le(),i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===o[i-r];r++);var s=r>1?1-r:void 0;return Me._fallbackText=o.slice(e,s),Me._fallbackText}function Le(){return"value"in Me._root?Me._root.value:Me._root[Ne()]}var je=!1,De=10,Fe=["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"],Ue={type:null,target:null,currentTarget:s.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function We(e,t,n,r){delete this.nativeEvent,delete this.preventDefault,delete this.stopPropagation,this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var o=this.constructor.Interface;for(var i in o)if(o.hasOwnProperty(i)){delete this[i];var a=o[i];a?this[i]=a(n):"target"===i?this.target=r:this[i]=n[i]}var u=null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue;return this.isDefaultPrevented=u?s.thatReturnsTrue:s.thatReturnsFalse,this.isPropagationStopped=s.thatReturnsFalse,this}function Be(e,t){var n="function"==typeof t;return{configurable:!0,set:function(e){return r(n?"setting the method":"setting the property","This is effectively a no-op"),e},get:function(){return r(n?"accessing the method":"accessing the property",n?"This is a no-op function":"This is set to null"),t}};function r(t,n){o(!1,"This synthetic event is reused for performance reasons. If you're seeing this, you're %s `%s` on a released/nullified synthetic event. %s. If you must keep the original synthetic event around, use event.persist(). See https://fb.me/react-event-pooling for more information.",t,e,n)}}function He(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function ze(e){e instanceof this||r(!1,"Trying to release an event instance  into a pool of a different type."),e.destructor(),this.eventPool.length<De&&this.eventPool.push(e)}function Ve(e){e.eventPool=[],e.getPooled=He,e.release=ze}a(We.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=s.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=s.thatReturnsTrue)},persist:function(){this.isPersistent=s.thatReturnsTrue},isPersistent:s.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)Object.defineProperty(this,t,Be(t,e[t]));for(var n=0;n<Fe.length;n++)this[Fe[n]]=null;Object.defineProperty(this,"nativeEvent",Be("nativeEvent",null)),Object.defineProperty(this,"preventDefault",Be("preventDefault",s)),Object.defineProperty(this,"stopPropagation",Be("stopPropagation",s))}}),We.Interface=Ue,We.extend=function(e){var t=this,n=function(){};n.prototype=t.prototype;var r=new n;function o(){return t.apply(this,arguments)}return a(r,o.prototype),o.prototype=r,o.prototype.constructor=o,o.Interface=a({},t.Interface,e),o.extend=t.extend,Ve(o),o},"function"==typeof Proxy&&!Object.isSealed(new Proxy({},{}))&&(We=new Proxy(We,{construct:function(e,t){return this.apply(e,Object.create(e.prototype),t)},apply:function(e,t,n){return new Proxy(e.apply(t,n),{set:function(e,t,n){return"isPersistent"===t||e.constructor.Interface.hasOwnProperty(t)||-1!==Fe.indexOf(t)||(o(je||e.isPersistent(),"This synthetic event is reused for performance reasons. If you're seeing this, you're adding a new property in the synthetic event object. The property is never released. See https://fb.me/react-event-pooling for more information."),je=!0),e[t]=n,!0}})}})),Ve(We);var Ke=We,Qe=Ke.extend({data:null}),$e=Ke.extend({data:null}),Ye=[9,13,27,32],Je=229,Ge=i.canUseDOM&&"CompositionEvent"in window,Xe=null;i.canUseDOM&&"documentMode"in document&&(Xe=document.documentMode);var Ze=i.canUseDOM&&"TextEvent"in window&&!Xe,et=i.canUseDOM&&(!Ge||Xe&&Xe>8&&Xe<=11),tt=32,nt=String.fromCharCode(tt),rt={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},ot=!1;function it(e,t){switch(e){case"topKeyUp":return-1!==Ye.indexOf(t.keyCode);case"topKeyDown":return t.keyCode!==Je;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function at(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}var st=!1;function ut(e,t,n,r){var o=void 0,i=void 0;if(Ge?o=function(e){switch(e){case"topCompositionStart":return rt.compositionStart;case"topCompositionEnd":return rt.compositionEnd;case"topCompositionUpdate":return rt.compositionUpdate}}(e):st?it(e,n)&&(o=rt.compositionEnd):function(e,t){return"topKeyDown"===e&&t.keyCode===Je}(e,n)&&(o=rt.compositionStart),!o)return null;et&&(st||o!==rt.compositionStart?o===rt.compositionEnd&&st&&(i=qe()):st=function(e){return Me._root=e,Me._startText=Le(),!0}(r));var a=Qe.getPooled(o,t,n,r);if(i)a.data=i;else{var s=at(n);null!==s&&(a.data=s)}return Oe(a),a}function lt(e,t){if(st){if("topCompositionEnd"===e||!Ge&&it(e,t)){var n=qe();return Me._root=null,Me._startText=null,Me._fallbackText=null,st=!1,n}return null}switch(e){case"topPaste":return null;case"topKeyPress":if(!function(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}(t)){if(t.char&&t.char.length>1)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"topCompositionEnd":return et?null:t.data;default:return null}}function ct(e,t,n,r){var o=void 0;if(!(o=Ze?function(e,t){switch(e){case"topCompositionEnd":return at(t);case"topKeyPress":return t.which!==tt?null:(ot=!0,nt);case"topTextInput":var n=t.data;return n===nt&&ot?null:n;default:return null}}(e,n):lt(e,n)))return null;var i=$e.getPooled(rt.beforeInput,t,n,r);return i.data=o,Oe(i),i}var ft={eventTypes:rt,extractEvents:function(e,t,n,r){var o=ut(e,t,n,r),i=ct(e,t,n,r);return null===o?i:null===i?o:[o,i]}},dt=null,pt=null,ht=null;function yt(e){var t=M(e);if(t){dt&&"function"==typeof dt.restoreControlledState||r(!1,"Fiber needs to be injected to handle a fiber target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var n=N(t.stateNode);dt.restoreControlledState(t.stateNode,t.type,n)}}var mt={injectFiberControlledHostComponent:function(e){dt=e}};function vt(e){pt?ht?ht.push(e):ht=[e]:pt=e}function gt(){return null!==pt||null!==ht}function bt(){if(pt){var e=pt,t=ht;if(pt=null,ht=null,yt(e),t)for(var n=0;n<t.length;n++)yt(t[n])}}var _t=Object.freeze({injection:mt,enqueueStateRestore:vt,needsStateRestore:gt,restoreStateIfNeeded:bt}),wt=function(e,t){return e(t)},xt=function(e,t,n){return e(t,n)},kt=function(){},Ct=!1;function St(e,t){if(Ct)return e(t);Ct=!0;try{return wt(e,t)}finally{Ct=!1,gt()&&(kt(),bt())}}var Tt=function(e){wt=e.batchedUpdates,xt=e.interactiveUpdates,kt=e.flushInteractiveUpdates},Et={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function It(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Et[e.type]:"textarea"===t}var Ot=1,Pt=3,Rt=8,At=9,Nt=11;function Mt(e){var t=e.target||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===Pt?t.parentNode:t}
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function qt(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var o=document.createElement("div");o.setAttribute(n,"return;"),r="function"==typeof o[n]}return r}function Lt(e){var t=e.type,n=e.nodeName;return n&&"input"===n.toLowerCase()&&("checkbox"===t||"radio"===t)}function jt(e){return e._valueTracker}function Dt(e){jt(e)||(e._valueTracker=function(e){var t=Lt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"function"==typeof n.get&&"function"==typeof n.set)return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.get.call(this)},set:function(e){r=""+e,n.set.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){!function(e){e._valueTracker=null}(e),delete e[t]}}}(e))}function Ft(e){if(!e)return!1;var t=jt(e);if(!t)return!0;var n=t.getValue(),r=function(e){var t="";return e?t=Lt(e)?e.checked?"true":"false":e.value:t}(e);return r!==n&&(t.setValue(r),!0)}var Ut=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wt=Ut.ReactCurrentOwner,Bt=Ut.ReactDebugCurrentFrame,Ht=function(e,t,n){return"\n    in "+(e||"Unknown")+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")},zt="function"==typeof Symbol&&Symbol.for,Vt=zt?Symbol.for("react.element"):60103,Kt=zt?Symbol.for("react.call"):60104,Qt=zt?Symbol.for("react.return"):60105,$t=zt?Symbol.for("react.portal"):60106,Yt=zt?Symbol.for("react.fragment"):60107,Jt=zt?Symbol.for("react.strict_mode"):60108,Gt=zt?Symbol.for("react.provider"):60109,Xt=zt?Symbol.for("react.context"):60110,Zt=zt?Symbol.for("react.async_mode"):60111,en=zt?Symbol.for("react.forward_ref"):60112,tn="function"==typeof Symbol&&Symbol.iterator,nn="@@iterator";function rn(e){if(null===e||void 0===e)return null;var t=tn&&e[tn]||e[nn];return"function"==typeof t?t:null}function on(e){var t=e.type;if("function"==typeof t)return t.displayName||t.name;if("string"==typeof t)return t;switch(t){case Yt:return"ReactFragment";case $t:return"ReactPortal";case Kt:return"ReactCall";case Qt:return"ReactReturn"}return null}function an(e){switch(e.tag){case J:case G:case X:case te:var t=e._debugOwner,n=e._debugSource,r=on(e),o=null;return t&&(o=on(t)),Ht(r,n,o);default:return""}}function sn(e){var t="",n=e;do{t+=an(n),n=n.return}while(n);return t}function un(){var e=ln.current;return null===e?null:sn(e)}var ln={current:null,phase:null,resetCurrentFiber:function(){Bt.getCurrentStack=null,ln.current=null,ln.phase=null},setCurrentFiber:function(e){Bt.getCurrentStack=un,ln.current=e,ln.phase=null},setCurrentPhase:function(e){ln.phase=e},getCurrentFiberOwnerName:function(){var e=ln.current;if(null===e)return null;var t=e._debugOwner;return null!==t&&void 0!==t?on(t):null},getCurrentFiberStackAddendum:un},cn=0,fn=2,dn=3,pn=4,hn=5,yn=6,mn=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",vn=mn+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",gn="data-reactroot",bn=new RegExp("^["+mn+"]["+vn+"]*$"),_n={},wn={};function xn(e){return!!wn.hasOwnProperty(e)||!_n.hasOwnProperty(e)&&(bn.test(e)?(wn[e]=!0,!0):(_n[e]=!0,o(!1,"Invalid attribute name: `%s`",e),!1))}function kn(e,t,n){return null!==t?t.type===cn:!n&&(e.length>2&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))}function Cn(e,t,n,r){if(null!==n&&n.type===cn)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(r)return!1;if(null!==n)return!n.acceptsBooleans;var o=e.toLowerCase().slice(0,5);return"data-"!==o&&"aria-"!==o;default:return!1}}function Sn(e,t,n,r){if(null===t||void 0===t)return!0;if(Cn(e,t,n,r))return!0;if(null!==n)switch(n.type){case dn:return!t;case pn:return!1===t;case hn:return isNaN(t);case yn:return isNaN(t)||t<1}return!1}function Tn(e){return In.hasOwnProperty(e)?In[e]:null}function En(e,t,n,r,o){this.acceptsBooleans=t===fn||t===dn||t===pn,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t}var In={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(function(e){In[e]=new En(e,cn,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0],n=e[1];In[t]=new En(t,1,!1,n,null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){In[e]=new En(e,fn,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(e){In[e]=new En(e,fn,!1,e,null)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(e){In[e]=new En(e,dn,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){In[e]=new En(e,dn,!0,e.toLowerCase(),null)}),["capture","download"].forEach(function(e){In[e]=new En(e,pn,!1,e.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(e){In[e]=new En(e,yn,!1,e.toLowerCase(),null)}),["rowSpan","start"].forEach(function(e){In[e]=new En(e,hn,!1,e.toLowerCase(),null)});var On=/[\-\:]([a-z])/g,Pn=function(e){return e[1].toUpperCase()};function Rn(e,t,n,r){if(r.mustUseProperty)return e[r.propertyName];var o=r.attributeName,i=null;if(r.type===pn){if(e.hasAttribute(o)){var a=e.getAttribute(o);return""===a||(Sn(t,n,r,!1)?a:a===""+n?n:a)}}else if(e.hasAttribute(o)){if(Sn(t,n,r,!1))return e.getAttribute(o);if(r.type===dn)return n;i=e.getAttribute(o)}return Sn(t,n,r,!1)?null===i?n:i:i===""+n?n:i}function An(e,t,n){if(xn(t)){if(!e.hasAttribute(t))return void 0===n?void 0:null;var r=e.getAttribute(t);return r===""+n?n:r}}function Nn(e,t,n,r){var o=Tn(t);if(!kn(t,o,r))if(Sn(t,n,o,r)&&(n=null),r||null===o){if(xn(t)){var i=t;null===n?e.removeAttribute(i):e.setAttribute(i,""+n)}}else if(o.mustUseProperty){var a=o.propertyName;if(null===n){var s=o.type;e[a]=s!==dn&&""}else e[a]=n}else{var u=o.attributeName,l=o.attributeNamespace;if(null===n)e.removeAttribute(u);else{var c=o.type,f=void 0;f=c===dn||c===pn&&!0===n?"":""+n,l?e.setAttributeNS(l,u,f):e.setAttribute(u,f)}}}["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(e){var t=e.replace(On,Pn);In[t]=new En(t,1,!1,e,null)}),["xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(e){var t=e.replace(On,Pn);In[t]=new En(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(On,Pn);In[t]=new En(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),In.tabIndex=new En("tabIndex",1,!1,"tabindex",null);var Mn={checkPropTypes:null},qn={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},Ln={value:function(e,t,n){return!e[t]||qn[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}};Mn.checkPropTypes=function(e,t,n){u(Ln,t,"prop",e,n)};var jn=ln.getCurrentFiberOwnerName,Dn=ln.getCurrentFiberStackAddendum,Fn=!1,Un=!1,Wn=!1,Bn=!1;function Hn(e){return"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}function zn(e,t){var n=e,r=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:n._wrapperState.initialChecked})}function Vn(e,t){Mn.checkPropTypes("input",t,Dn),void 0===t.checked||void 0===t.defaultChecked||Un||(o(!1,"%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://fb.me/react-controlled-components",jn()||"A component",t.type),Un=!0),void 0===t.value||void 0===t.defaultValue||Fn||(o(!1,"%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://fb.me/react-controlled-components",jn()||"A component",t.type),Fn=!0);var n=e,r=null==t.defaultValue?"":t.defaultValue;n._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:Gn(null!=t.value?t.value:r),controlled:Hn(t)}}function Kn(e,t){var n=e,r=t.checked;null!=r&&Nn(n,"checked",r,!1)}function Qn(e,t){var n=e,r=Hn(t);n._wrapperState.controlled||!r||Bn||(o(!1,"A component is changing an uncontrolled input of type %s to be controlled. Input elements should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://fb.me/react-controlled-components%s",t.type,Dn()),Bn=!0),!n._wrapperState.controlled||r||Wn||(o(!1,"A component is changing a controlled input of type %s to be uncontrolled. Input elements should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://fb.me/react-controlled-components%s",t.type,Dn()),Wn=!0),Kn(e,t);var i=Gn(t.value);null!=i&&("number"===t.type?(0===i&&""===n.value||n.value!=i)&&(n.value=""+i):n.value!==""+i&&(n.value=""+i)),t.hasOwnProperty("value")?Jn(n,t.type,i):t.hasOwnProperty("defaultValue")&&Jn(n,t.type,Gn(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(n.defaultChecked=!!t.defaultChecked)}function $n(e,t){var n=e;(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue"))&&(""===n.value&&(n.value=""+n._wrapperState.initialValue),n.defaultValue=""+n._wrapperState.initialValue);var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}function Yn(e,t){var n=e;Qn(n,t),function(e,t){var n=t.name;if("radio"===t.type&&null!=n){for(var o=e;o.parentNode;)o=o.parentNode;for(var i=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),a=0;a<i.length;a++){var s=i[a];if(s!==e&&s.form===e.form){var u=ge(s);u||r(!1,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported."),Ft(s),Qn(s,u)}}}}(n,t)}function Jn(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Gn(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}var Xn={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}};function Zn(e,t,n){var r=Ke.getPooled(Xn.change,e,t,n);return r.type="change",vt(n),Oe(r),r}var er=null,tr=null;function nr(e){Q(e,!1)}function rr(e){if(Ft(ve(e)))return e}function or(e,t){if("topChange"===e)return t}var ir=!1;function ar(){er&&(er.detachEvent("onpropertychange",sr),er=null,tr=null)}function sr(e){"value"===e.propertyName&&rr(tr)&&function(e){St(nr,Zn(tr,e,Mt(e)))}(e)}function ur(e,t,n){"topFocus"===e?(ar(),function(e,t){tr=t,(er=e).attachEvent("onpropertychange",sr)}(t,n)):"topBlur"===e&&ar()}function lr(e,t){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return rr(tr)}function cr(e,t){if("topClick"===e)return rr(t)}function fr(e,t){if("topInput"===e||"topChange"===e)return rr(t)}i.canUseDOM&&(ir=qt("input")&&(!document.documentMode||document.documentMode>9));var dr={eventTypes:Xn,_isInputEventSupported:ir,extractEvents:function(e,t,n,r){var o,i,a=t?ve(t):window,s=void 0,u=void 0;if("select"===(i=(o=a).nodeName&&o.nodeName.toLowerCase())||"input"===i&&"file"===o.type?s=or:It(a)?ir?s=fr:(s=lr,u=ur):function(e){var t=e.nodeName;return t&&"input"===t.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}(a)&&(s=cr),s){var l=s(e,t);if(l)return Zn(l,n,r)}u&&u(e,a,t),"topBlur"===e&&function(e,t){if(null!=e){var n=e._wrapperState||t._wrapperState;n&&n.controlled&&"number"===t.type&&Jn(t,"number",t.value)}}(t,a)}},pr=Ke.extend({view:null,detail:null}),hr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yr(e){var t=this.nativeEvent;if(t.getModifierState)return t.getModifierState(e);var n=hr[e];return!!n&&!!t[n]}function mr(e){return yr}var vr=pr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:mr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}}),gr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},br={eventTypes:gr,extractEvents:function(e,t,n,r){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement))return null;if("topMouseOut"!==e&&"topMouseOver"!==e)return null;var o=void 0;if(r.window===r)o=r;else{var i=r.ownerDocument;o=i?i.defaultView||i.parentWindow:window}var a=void 0,s=void 0;if("topMouseOut"===e){a=t;var u=n.relatedTarget||n.toElement;s=u?ye(u):null}else a=null,s=t;if(a===s)return null;var l=null==a?o:ve(a),c=null==s?o:ve(s),f=vr.getPooled(gr.mouseLeave,a,n,r);f.type="mouseleave",f.target=l,f.relatedTarget=c;var d=vr.getPooled(gr.mouseEnter,s,n,r);return d.type="mouseenter",d.target=c,d.relatedTarget=l,Pe(f,d,a,s),[f,d]}};function _r(e){return e._reactInternalFiber}var wr=0,xr=1,kr=2,Cr=4,Sr=6,Tr=8,Er=16,Ir=32,Or=64,Pr=128,Rr=256,Ar=2048,Nr=2559,Mr=512,qr=1024,Lr=1,jr=2,Dr=3;function Fr(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if((t.effectTag&kr)!==wr)return Lr;for(;t.return;)if(((t=t.return).effectTag&kr)!==wr)return Lr}return t.tag===Z?jr:Dr}function Ur(e){return Fr(e)===jr}function Wr(e){var t=Wt.current;if(null!==t&&t.tag===X){var n=t,r=n.stateNode;o(r._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",on(n)||"A component"),r._warnedAboutRefsInRender=!0}var i=_r(e);return!!i&&Fr(i)===jr}function Br(e){Fr(e)!==jr&&r(!1,"Unable to find node on an unmounted component.")}function Hr(e){var t=e.alternate;if(!t){var n=Fr(e);return n===Dr&&r(!1,"Unable to find node on an unmounted component."),n===Lr?null:e}for(var o=e,i=t;;){var a=o.return,s=a?a.alternate:null;if(!a||!s)break;if(a.child===s.child){for(var u=a.child;u;){if(u===o)return Br(a),e;if(u===i)return Br(a),t;u=u.sibling}r(!1,"Unable to find node on an unmounted component.")}if(o.return!==i.return)o=a,i=s;else{for(var l=!1,c=a.child;c;){if(c===o){l=!0,o=a,i=s;break}if(c===i){l=!0,i=a,o=s;break}c=c.sibling}if(!l){for(c=s.child;c;){if(c===o){l=!0,o=s,i=a;break}if(c===i){l=!0,i=s,o=a;break}c=c.sibling}l||r(!1,"Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}o.alternate!==i&&r(!1,"Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}return o.tag!==Z&&r(!1,"Unable to find node on an unmounted component."),o.stateNode.current===o?e:t}var zr=Ke.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Vr=Ke.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kr=pr.extend({relatedTarget:null});function Qr(e){var t=void 0,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,10===t&&(t=13),t>=32||13===t?t:0}var $r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};var Jr=pr.extend({key:function(e){if(e.key){var t=$r[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=Qr(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?Yr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:mr,charCode:function(e){return"keypress"===e.type?Qr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Gr=vr.extend({dataTransfer:null}),Xr=pr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:mr}),Zr=Ke.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),eo=vr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),to={},no={};function ro(e,t){var n=e[0].toUpperCase()+e.slice(1),r="on"+n,o="top"+n,i={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[o],isInteractive:t};to[e]=i,no[o]=i}["blur","cancel","click","close","contextMenu","copy","cut","doubleClick","dragEnd","dragStart","drop","focus","input","invalid","keyDown","keyPress","keyUp","mouseDown","mouseUp","paste","pause","play","rateChange","reset","seeked","submit","touchCancel","touchEnd","touchStart","volumeChange"].forEach(function(e){ro(e,!0)}),["abort","animationEnd","animationIteration","animationStart","canPlay","canPlayThrough","drag","dragEnter","dragExit","dragLeave","dragOver","durationChange","emptied","encrypted","ended","error","load","loadedData","loadedMetadata","loadStart","mouseMove","mouseOut","mouseOver","playing","progress","scroll","seeking","stalled","suspend","timeUpdate","toggle","touchMove","transitionEnd","waiting","wheel"].forEach(function(e){ro(e,!1)});var oo=["topAbort","topCancel","topCanPlay","topCanPlayThrough","topClose","topDurationChange","topEmptied","topEncrypted","topEnded","topError","topInput","topInvalid","topLoad","topLoadedData","topLoadedMetadata","topLoadStart","topPause","topPlay","topPlaying","topProgress","topRateChange","topReset","topSeeked","topSeeking","topStalled","topSubmit","topSuspend","topTimeUpdate","topToggle","topVolumeChange","topWaiting"],io={eventTypes:to,isInteractiveTopLevelEventType:function(e){var t=no[e];return void 0!==t&&!0===t.isInteractive},extractEvents:function(e,t,n,r){var i=no[e];if(!i)return null;var a=void 0;switch(e){case"topKeyPress":if(0===Qr(n))return null;case"topKeyDown":case"topKeyUp":a=Jr;break;case"topBlur":case"topFocus":a=Kr;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":a=vr;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":a=Gr;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":a=Xr;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":a=zr;break;case"topTransitionEnd":a=Zr;break;case"topScroll":a=pr;break;case"topWheel":a=eo;break;case"topCopy":case"topCut":case"topPaste":a=Vr;break;default:-1===oo.indexOf(e)&&o(!1,"SimpleEventPlugin: Unhandled event type, `%s`. This warning is likely caused by a bug in React. Please file an issue.",e),a=Ke}var s=a.getPooled(i,t,n,r);return Oe(s),s}},ao=io.isInteractiveTopLevelEventType,so=10,uo=[];function lo(e){for(;e.return;)e=e.return;return e.tag!==Z?null:e.stateNode.containerInfo}function co(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=lo(n);if(!r)break;e.ancestors.push(n),n=ye(r)}while(n);for(var o=0;o<e.ancestors.length;o++)t=e.ancestors[o],$(e.topLevelType,t,e.nativeEvent,Mt(e.nativeEvent))}var fo=!0;function po(e){fo=!!e}function ho(){return fo}function yo(e,t,n){if(!n)return null;!function(e,t,n){e.addEventListener(t,n,!1)}(n,t,(ao(e)?vo:go).bind(null,e))}function mo(e,t,n){if(!n)return null;!function(e,t,n){e.addEventListener(t,n,!0)}(n,t,(ao(e)?vo:go).bind(null,e))}function vo(e,t){xt(go,e,t)}function go(e,t){if(fo){var n=ye(Mt(t));null===n||"number"!=typeof n.tag||Ur(n)||(n=null);var r,o=function(e,t,n){if(uo.length){var r=uo.pop();return r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,r}return{topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]}}(e,t,n);try{St(co,o)}finally{(r=o).topLevelType=null,r.nativeEvent=null,r.targetInst=null,r.ancestors.length=0,uo.length<so&&uo.push(r)}}}var bo=Object.freeze({get _enabled(){return fo},setEnabled:po,isEnabled:ho,trapBubbledEvent:yo,trapCapturedEvent:mo,dispatchEvent:go});function _o(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}var wo={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionend:_o("Transition","TransitionEnd")},xo={},ko={};function Co(e){if(xo[e])return xo[e];if(!wo[e])return e;var t=wo[e];for(var n in t)if(t.hasOwnProperty(n)&&n in ko)return xo[e]=t[n];return e}i.canUseDOM&&(ko=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);var So={topAnimationEnd:Co("animationend"),topAnimationIteration:Co("animationiteration"),topAnimationStart:Co("animationstart"),topBlur:"blur",topCancel:"cancel",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoad:"load",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:Co("transitionend"),topWheel:"wheel"},To={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Eo={},Io=0,Oo="_reactListenersID"+(""+Math.random()).slice(2);function Po(e){return Object.prototype.hasOwnProperty.call(e,Oo)||(e[Oo]=Io++,Eo[e[Oo]]={}),Eo[e[Oo]]}function Ro(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ao(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function No(e,t){for(var n=Ro(e),r=0,o=0;n;){if(n.nodeType===Pt){if(o=r+n.textContent.length,r<=t&&o>=t)return{node:n,offset:t-r};r=o}n=Ro(Ao(n))}}function Mo(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,r=t.anchorOffset,o=t.focusNode,i=t.focusOffset;try{n.nodeType,o.nodeType}catch(e){return null}return function(e,t,n,r,o){var i=0,a=-1,s=-1,u=0,l=0,c=e,f=null;e:for(;;){for(var d=null;c!==t||0!==n&&c.nodeType!==Pt||(a=i+n),c!==r||0!==o&&c.nodeType!==Pt||(s=i+o),c.nodeType===Pt&&(i+=c.nodeValue.length),null!==(d=c.firstChild);)f=c,c=d;for(;;){if(c===e)break e;if(f===t&&++u===n&&(a=i),f===r&&++l===o&&(s=i),null!==(d=c.nextSibling))break;f=(c=f).parentNode}c=d}if(-1===a||-1===s)return null;return{start:a,end:s}}(e,n,r,o,i)}function qo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)}function Lo(){var e=l();return{focusedElem:e,selectionRange:qo(e)?function(e){var t=void 0;t="selectionStart"in e?{start:e.selectionStart,end:e.selectionEnd}:Mo(e);return t||{start:0,end:0}}(e):null}}function jo(e){var t,n=l(),r=e.focusedElem,o=e.selectionRange;if(n!==r&&(t=r,f(document.documentElement,t))){qo(r)&&function(e,t){var n=t.start,r=t.end;void 0===r&&(r=n);"selectionStart"in e?(e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length)):function(e,t){if(window.getSelection){var n=window.getSelection(),r=e[Ne()].length,o=Math.min(t.start,r),i=void 0===t.end?o:Math.min(t.end,r);if(!n.extend&&o>i){var a=i;i=o,o=a}var s=No(e,o),u=No(e,i);if(s&&u){if(1===n.rangeCount&&n.anchorNode===s.node&&n.anchorOffset===s.offset&&n.focusNode===u.node&&n.focusOffset===u.offset)return;var l=document.createRange();l.setStart(s.node,s.offset),n.removeAllRanges(),o>i?(n.addRange(l),n.extend(u.node,u.offset)):(l.setEnd(u.node,u.offset),n.addRange(l))}}}(e,t)}(r,o);for(var i=[],a=r;a=a.parentNode;)a.nodeType===Ot&&i.push({element:a,left:a.scrollLeft,top:a.scrollTop});r.focus();for(var s=0;s<i.length;s++){var u=i[s];u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}}var Do=i.canUseDOM&&"documentMode"in document&&document.documentMode<=11,Fo={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},Uo=null,Wo=null,Bo=null,Ho=!1;function zo(e,t){if(Ho||null==Uo||Uo!==l())return null;var n=function(e){if("selectionStart"in e&&qo(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}}(Uo);if(!Bo||!c(Bo,n)){Bo=n;var r=Ke.getPooled(Fo.select,Wo,e,t);return r.type="select",r.target=Uo,Oe(r),r}return null}var Vo={eventTypes:Fo,extractEvents:function(e,t,n,r){var o=r.window===r?r.document:r.nodeType===At?r:r.ownerDocument;if(!o||!function(e,t){for(var n=Po(t),r=I[e],o=0;o<r.length;o++){var i=r[o];if(!n.hasOwnProperty(i)||!n[i])return!1}return!0}("onSelect",o))return null;var i=t?ve(t):window;switch(e){case"topFocus":(It(i)||"true"===i.contentEditable)&&(Uo=i,Wo=t,Bo=null);break;case"topBlur":Uo=null,Wo=null,Bo=null;break;case"topMouseDown":Ho=!0;break;case"topContextMenu":case"topMouseUp":return Ho=!1,zo(n,r);case"topSelectionChange":if(Do)break;case"topKeyDown":case"topKeyUp":return zo(n,r)}return null}};V.injectEventPluginOrder(["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"]),L(_e),V.injectEventPluginsByName({SimpleEventPlugin:io,EnterLeaveEventPlugin:br,ChangeEventPlugin:dr,SelectEventPlugin:Vo,BeforeInputEventPlugin:ft});var Ko=1073741823,Qo=0,$o=1,Yo=Ko,Jo=10,Go=2;function Xo(e){return(e/Jo|0)+Go}function Zo(e){return(e-Go)*Jo}function ei(e,t,n){return(1+((e+t/Jo)/(r=n/Jo)|0))*r;var r}var ti=0,ni=1,ri=2,oi=void 0;oi=!1;try{var ii=Object.preventExtensions({}),ai=new Map([[ii,null]]),si=new Set([ii]);ai.set(0,0),si.add(0)}catch(e){oi=!0}var ui=void 0;ui=1;var li=function(e,t,n,r){return new function(e,t,n,r){this.tag=e,this.key=n,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.mode=r,this.effectTag=wr,this.nextEffect=null,this.firstEffect=null,this.lastEffect=null,this.expirationTime=Qo,this.alternate=null,this._debugID=ui++,this._debugSource=null,this._debugOwner=null,this._debugIsCurrentlyTiming=!1,oi||"function"!=typeof Object.preventExtensions||Object.preventExtensions(this)}(e,t,n,r)};function ci(e,t,n){var r=e.alternate;return null===r?((r=li(e.tag,t,e.key,e.mode)).type=e.type,r.stateNode=e.stateNode,r._debugID=e._debugID,r._debugSource=e._debugSource,r._debugOwner=e._debugOwner,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=wr,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function fi(e,t,n){var r;r=e._owner;var o,i=void 0,a=e.type,s=e.key,u=e.props,l=void 0;if("function"==typeof a)l=(o=a).prototype&&o.prototype.isReactComponent?X:J;else if("string"==typeof a)l=te;else switch(a){case Yt:return pi(u.children,t,n,s);case Zt:l=se,t|=ni|ri;break;case Jt:l=se,t|=ri;break;case Kt:l=re;break;case Qt:l=ie;break;default:if("object"==typeof a&&null!==a)switch(a.$$typeof){case Gt:l=le;break;case Xt:l=ue;break;case en:l=ce;break;default:if("number"==typeof a.tag)return(i=a).pendingProps=u,i.expirationTime=n,i;di(a,r)}else di(a,r)}return(i=li(l,u,s,t)).type=a,i.expirationTime=n,i._debugSource=e._source,i._debugOwner=e._owner,i}function di(e,t){var n="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(n+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var o=t?on(t):null;o&&(n+="\n\nCheck the render method of `"+o+"`."),r(!1,"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",null==e?e:typeof e,n)}function pi(e,t,n,r){var o=li(ae,e,r,t);return o.expirationTime=n,o}function hi(e,t,n){var r=li(ne,e,null,t);return r.expirationTime=n,r}function yi(e,t,n){var r=null!==e.children?e.children:[],o=li(ee,r,e.key,t);return o.expirationTime=n,o.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},o}function mi(e,t){return null===e&&(e=li(J,null,null,ti)),e.tag=t.tag,e.key=t.key,e.type=t.type,e.stateNode=t.stateNode,e.return=t.return,e.child=t.child,e.sibling=t.sibling,e.index=t.index,e.ref=t.ref,e.pendingProps=t.pendingProps,e.memoizedProps=t.memoizedProps,e.updateQueue=t.updateQueue,e.memoizedState=t.memoizedState,e.mode=t.mode,e.effectTag=t.effectTag,e.nextEffect=t.nextEffect,e.firstEffect=t.firstEffect,e.lastEffect=t.lastEffect,e.expirationTime=t.expirationTime,e.alternate=t.alternate,e._debugID=t._debugID,e._debugSource=t._debugSource,e._debugOwner=t._debugOwner,e._debugIsCurrentlyTiming=t._debugIsCurrentlyTiming,e}function vi(e,t,n){var r=function(e){return li(Z,null,null,e?ni|ri:ti)}(t),o={current:r,containerInfo:e,pendingChildren:null,pendingCommitExpirationTime:Qo,finishedWork:null,context:null,pendingContext:null,hydrate:n,remainingExpirationTime:Qo,firstBatch:null,nextScheduledRoot:null};return r.stateNode=o,o}var gi=null,bi=null,_i=!1;function wi(e){return function(t){try{return e(t)}catch(e){_i||(_i=!0,o(!1,"React DevTools encountered an error: %s",e))}}}function xi(e){"function"==typeof gi&&gi(e)}function ki(e){"function"==typeof bi&&bi(e)}var Ci=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(!e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i="Warning: "+e.replace(/%s/g,function(){return n[o++]});"undefined"!=typeof console&&console.warn(i);try{throw new Error(i)}catch(e){}}).apply(void 0,[t].concat(r))}},Si={discardPendingWarnings:function(){},flushPendingDeprecationWarnings:function(){},flushPendingUnsafeLifecycleWarnings:function(){},recordDeprecationWarnings:function(e,t){},recordUnsafeLifecycleWarnings:function(e,t){}},Ti={UNSAFE_componentWillMount:"componentDidMount",UNSAFE_componentWillReceiveProps:"static getDerivedStateFromProps",UNSAFE_componentWillUpdate:"componentDidUpdate"},Ei=[],Ii=[],Oi=[],Pi=new Map,Ri=new Set,Ai=new Set;Si.discardPendingWarnings=function(){Ei=[],Ii=[],Oi=[],Pi=new Map},Si.flushPendingUnsafeLifecycleWarnings=function(){Pi.forEach(function(e,t){var n=[];if(Object.keys(e).forEach(function(t){var r=e[t];if(r.length>0){var o=new Set;r.forEach(function(e){o.add(on(e)||"Component"),Ai.add(e.type)});var i=t.replace("UNSAFE_",""),a=Ti[t],s=Array.from(o).sort().join(", ");n.push(i+": Please update the following components to use "+a+" instead: "+s)}}),n.length>0){var r=sn(t);o(!1,"Unsafe lifecycle methods were found within a strict-mode tree:%s\n\n%s\n\nLearn more about this warning here:\nhttps://fb.me/react-strict-mode-warnings",r,n.join("\n\n"))}}),Pi=new Map};Si.flushPendingDeprecationWarnings=function(){if(Ei.length>0){var e=new Set;Ei.forEach(function(t){e.add(on(t)||"Component"),Ri.add(t.type)});var t=Array.from(e).sort().join(", ");Ci(!1,"componentWillMount is deprecated and will be removed in the next major version. Use componentDidMount instead. As a temporary workaround, you can rename to UNSAFE_componentWillMount.\n\nPlease update the following components: %s\n\nLearn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks",t),Ei=[]}if(Ii.length>0){var n=new Set;Ii.forEach(function(e){n.add(on(e)||"Component"),Ri.add(e.type)});var r=Array.from(n).sort().join(", ");Ci(!1,"componentWillReceiveProps is deprecated and will be removed in the next major version. Use static getDerivedStateFromProps instead.\n\nPlease update the following components: %s\n\nLearn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks",r),Ii=[]}if(Oi.length>0){var o=new Set;Oi.forEach(function(e){o.add(on(e)||"Component"),Ri.add(e.type)});var i=Array.from(o).sort().join(", ");Ci(!1,"componentWillUpdate is deprecated and will be removed in the next major version. Use componentDidUpdate instead. As a temporary workaround, you can rename to UNSAFE_componentWillUpdate.\n\nPlease update the following components: %s\n\nLearn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks",i),Oi=[]}},Si.recordDeprecationWarnings=function(e,t){Ri.has(e.type)||("function"==typeof t.componentWillMount&&!0!==t.componentWillMount.__suppressDeprecationWarning&&Ei.push(e),"function"==typeof t.componentWillReceiveProps&&!0!==t.componentWillReceiveProps.__suppressDeprecationWarning&&Ii.push(e),"function"==typeof t.componentWillUpdate&&!0!==t.componentWillUpdate.__suppressDeprecationWarning&&Oi.push(e))},Si.recordUnsafeLifecycleWarnings=function(e,t){var n=function(e){for(var t=null;null!==e;)e.mode&ri&&(t=e),e=e.return;return t}(e);if(!Ai.has(e.type)&&("function"!=typeof t.componentWillMount||!0!==t.componentWillMount.__suppressDeprecationWarning)){var r=void 0;Pi.has(n)?r=Pi.get(n):(r={UNSAFE_componentWillMount:[],UNSAFE_componentWillReceiveProps:[],UNSAFE_componentWillUpdate:[]},Pi.set(n,r));var o=[];"function"!=typeof t.componentWillMount&&"function"!=typeof t.UNSAFE_componentWillMount||o.push("UNSAFE_componentWillMount"),"function"!=typeof t.componentWillReceiveProps&&"function"!=typeof t.UNSAFE_componentWillReceiveProps||o.push("UNSAFE_componentWillReceiveProps"),"function"!=typeof t.componentWillUpdate&&"function"!=typeof t.UNSAFE_componentWillUpdate||o.push("UNSAFE_componentWillUpdate"),o.length>0&&o.forEach(function(t){r[t].push(e)})}};var Ni=!0,Mi=!0,qi=!1,Li=!1,ji=!1,Di=!0,Fi=!0,Ui=!1,Wi="undefined"!=typeof performance&&"function"==typeof performance.mark&&"function"==typeof performance.clearMarks&&"function"==typeof performance.measure&&"function"==typeof performance.clearMeasures,Bi=null,Hi=null,zi=null,Vi=!1,Ki=!1,Qi=!1,$i=0,Yi=0,Ji=!1,Gi=new Set,Xi=function(e){return"⚛ "+e},Zi=function(e){performance.mark(Xi(e))},ea=function(e,t,n){var r=Xi(t),o=function(e,t){return(t?"⛔ ":"⚛ ")+e+(t?" Warning: "+t:"")}(e,n);try{performance.measure(o,r)}catch(e){}performance.clearMarks(r),performance.clearMeasures(o)},ta=function(e,t){return e+" (#"+t+")"},na=function(e,t,n){return null===n?e+" ["+(t?"update":"mount")+"]":e+"."+n},ra=function(e,t){var n=on(e)||"Unknown",r=e._debugID,o=null!==e.alternate,i=na(n,o,t);if(Vi&&Gi.has(i))return!1;Gi.add(i);var a=ta(i,r);return Zi(a),!0},oa=function(e,t){var n=on(e)||"Unknown",r=e._debugID,o=null!==e.alternate,i=na(n,o,t);!function(e){performance.clearMarks(Xi(e))}(ta(i,r))},ia=function(e,t,n){var r=on(e)||"Unknown",o=e._debugID,i=null!==e.alternate,a=na(r,i,t),s=ta(a,o);ea(a,s,n)},aa=function(e){switch(e.tag){case Z:case te:case ne:case ee:case re:case ie:case ae:case le:case ue:return!0;default:return!1}},sa=function(){null!==Hi&&null!==zi&&oa(zi,Hi),zi=null,Hi=null,Qi=!1},ua=function(){for(var e=Bi;e;)e._debugIsCurrentlyTiming&&ia(e,null,null),e=e.return},la=function(e){null!==e.return&&la(e.return),e._debugIsCurrentlyTiming&&ra(e,null)},ca=function(){null!==Bi&&la(Bi)};function fa(){Ni&&Yi++}function da(){Ni&&(Vi&&(Ki=!0),null!==Hi&&"componentWillMount"!==Hi&&"componentWillReceiveProps"!==Hi&&(Qi=!0))}function pa(e){if(Ni){if(!Wi||aa(e))return;e._debugIsCurrentlyTiming=!1,oa(e,null)}}function ha(e){if(Ni){if(!Wi||aa(e))return;if(Bi=e.return,!e._debugIsCurrentlyTiming)return;e._debugIsCurrentlyTiming=!1,ia(e,null,null)}}function ya(e){if(Ni){if(!Wi||aa(e))return;if(Bi=e.return,!e._debugIsCurrentlyTiming)return;e._debugIsCurrentlyTiming=!1;ia(e,null,"An error was thrown inside this error boundary")}}function ma(e,t){if(Ni){if(!Wi)return;if(sa(),!ra(e,t))return;zi=e,Hi=t}}function va(){if(Ni){if(!Wi)return;if(null!==Hi&&null!==zi)ia(zi,Hi,Qi?"Scheduled a cascading update":null);Hi=null,zi=null}}function ga(e,t){if(Ni){if(!Wi)return;var n=null;if(null!==e)if(e.tag===Z)n="A top-level update interrupted the previous render";else n="An update to "+(on(e)||"Unknown")+" interrupted the previous render";else $i>1&&(n="There were cascading updates");$i=0;var r=t?"(React Tree Reconciliation: Completed Root)":"(React Tree Reconciliation: Yielded)";ua(),ea(r,"(React Tree Reconciliation)",n)}}function ba(){if(Ni){if(!Wi)return;Vi=!0,Ki=!1,Gi.clear(),Zi("(Committing Changes)")}}function _a(){if(Ni){if(!Wi)return;var e=null;Ki?e="Lifecycle hook scheduled a cascading update":$i>0&&(e="Caused by a cascading update in earlier commit"),Ki=!1,$i++,Vi=!1,Gi.clear(),ea("(Committing Changes)","(Committing Changes)",e)}}var wa=void 0;function xa(e){var t={baseState:e,expirationTime:Qo,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1,capturedValues:null,isProcessing:!1};return t}function ka(e,t){null===e.last?e.first=e.last=t:(e.last.next=t,e.last=t),(e.expirationTime===Qo||e.expirationTime>t.expirationTime)&&(e.expirationTime=t.expirationTime)}wa=!1;var Ca=void 0,Sa=void 0;function Ta(e){Ca=Sa=null;var t=e.alternate,n=e.updateQueue;null===n&&(n=e.updateQueue=xa(null));var r=void 0;null!==t?null===(r=t.updateQueue)&&(r=t.updateQueue=xa(null)):r=null,Ca=n,Sa=r=r!==n?r:null}function Ea(e,t){Ta(e);var n=Ca,r=Sa;if((n.isProcessing||null!==r&&r.isProcessing)&&!wa&&(o(!1,"An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),wa=!0),null!==r){if(null===n.last||null===r.last)return ka(n,t),void ka(r,t);ka(n,t),r.last=t}else ka(n,t)}function Ia(e,t,n,r){var o=e.partialState;return"function"==typeof o?o.call(t,n,r):o}function Oa(e,t,n,r,o,i){if(null!==e&&e.updateQueue===n){var s=n;n=t.updateQueue={baseState:s.baseState,expirationTime:s.expirationTime,first:s.first,last:s.last,isInitialized:s.isInitialized,capturedValues:s.capturedValues,callbackList:null,hasForceUpdate:!1}}n.isProcessing=!0,n.expirationTime=Qo;var u=void 0;n.isInitialized?u=n.baseState:(u=n.baseState=t.memoizedState,n.isInitialized=!0);for(var l=!0,c=n.first,f=!1;null!==c;){var d=c.expirationTime;if(d>i){var p=n.expirationTime;(p===Qo||p>d)&&(n.expirationTime=d),f||(f=!0,n.baseState=u),c=c.next}else{f||(n.first=c.next,null===n.first&&(n.last=null)),(ji||Di&&t.mode&ri)&&Ia(c,r,u,o);var h=void 0;if(c.isReplace?(u=Ia(c,r,u,o),l=!0):(h=Ia(c,r,u,o))&&(u=l?a({},u,h):a(u,h),l=!1),c.isForced&&(n.hasForceUpdate=!0),null!==c.callback){var y=n.callbackList;null===y&&(y=n.callbackList=[]),y.push(c)}if(null!==c.capturedValue){var m=n.capturedValues;null===m?n.capturedValues=[c.capturedValue]:m.push(c.capturedValue)}c=c.next}}return null!==n.callbackList?t.effectTag|=Ir:null!==n.first||n.hasForceUpdate||null!==n.capturedValues||(t.updateQueue=null),f||(f=!0,n.baseState=u),n.isProcessing=!1,u}function Pa(e,t){var n=e.callbackList;if(null!==n){e.callbackList=null;for(var o=0;o<n.length;o++){var i=n[o],a=i.callback;i.callback=null,"function"!=typeof a&&r(!1,"Invalid argument passed as callback. Expected a function. Instead received: %s",a),a.call(t)}}}var Ra,Aa={},Na=Array.isArray,Ma=void 0,qa=void 0,La=void 0,ja=void 0,Da=void 0;Ma=new Set,qa=new Set,La=new Set,ja=new Set,Da=new Set;var Fa=new Set;function Ua(e,t){for(var n={},r=0;r<t.length;r++){var o=t[r].value,i=e.getDerivedStateFromCatch.call(null,o);null!==i&&void 0!==i&&a(n,i)}return n}Ra=function(e,t){if(null!==e&&"function"!=typeof e){var n=t+"_"+e;Fa.has(n)||(Fa.add(n),o(!1,"%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",t,e))}},Object.defineProperty(Aa,"_processChildContext",{enumerable:!1,value:function(){r(!1,"_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(Aa);var Wa=function(e,t,n,r,i){var s=e.cacheContext,u=e.getMaskedContext,l=e.getUnmaskedContext,f=e.isContextConsumer,p=e.hasContextChanged,h={isMounted:Wr,enqueueSetState:function(e,r,o){var i=_r(e);Ra(o=void 0===o?null:o,"setState");var a=n(i);Ea(i,{expirationTime:a,partialState:r,callback:o,isReplace:!1,isForced:!1,capturedValue:null,next:null}),t(i,a)},enqueueReplaceState:function(e,r,o){var i=_r(e);Ra(o=void 0===o?null:o,"replaceState");var a=n(i);Ea(i,{expirationTime:a,partialState:r,callback:o,isReplace:!0,isForced:!1,capturedValue:null,next:null}),t(i,a)},enqueueForceUpdate:function(e,r){var o=_r(e);Ra(r=void 0===r?null:r,"forceUpdate");var i=n(o);Ea(o,{expirationTime:i,partialState:null,callback:r,isReplace:!1,isForced:!0,capturedValue:null,next:null}),t(o,i)}};function y(e,t,n,r,i,a){if(null===t||null!==e.updateQueue&&e.updateQueue.hasForceUpdate)return!0;var s=e.stateNode,u=e.type;if("function"==typeof s.shouldComponentUpdate){ma(e,"shouldComponentUpdate");var l=s.shouldComponentUpdate(n,i,a);return va(),o(void 0!==l,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",on(e)||"Component"),l}return!u.prototype||!u.prototype.isPureReactComponent||(!c(t,n)||!c(r,i))}function m(e,t){t.props=e.memoizedProps,t.state=e.memoizedState}function v(e,t){var n;t.updater=h,e.stateNode=t,n=e,t._reactInternalFiber=n,t._reactInternalInstance=Aa}function g(e,t,n,r){var i=t.state;if(ma(e,"componentWillReceiveProps"),"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),va(),t.state!==i){var a=on(e)||"Component";Ma.has(a)||(Ma.add(a),o(!1,"%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",a)),h.enqueueReplaceState(t,t.state,null)}}function b(e,t,n,r){var i=e.type;if("function"==typeof i.getDerivedStateFromProps){(ji||Di&&e.mode&ri)&&i.getDerivedStateFromProps.call(null,n,r);var a=i.getDerivedStateFromProps.call(null,n,r);if(void 0===a){var s=on(e)||"Component";qa.has(s)||(qa.add(s),o(!1,"%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",s))}return a}}return{adoptClassInstance:v,callGetDerivedStateFromProps:b,constructClassInstance:function(e,t){var n=e.type,r=l(e),i=f(e),c=i?u(e,r):d;(ji||Di&&e.mode&ri)&&new n(t,c);var p=new n(t,c),h=null!==p.state&&void 0!==p.state?p.state:null;if(v(e,p),"function"==typeof n.getDerivedStateFromProps&&null===h){var y=on(e)||"Component";La.has(y)||(La.add(y),o(!1,"%s: Did not properly initialize state during construction. Expected state to be an object, but it was %s.",y,null===p.state?"null":"undefined"))}if("function"==typeof n.getDerivedStateFromProps||"function"==typeof p.getSnapshotBeforeUpdate){var m=null,g=null,_=null;if("function"==typeof p.componentWillMount&&!0!==p.componentWillMount.__suppressDeprecationWarning?m="componentWillMount":"function"==typeof p.UNSAFE_componentWillMount&&(m="UNSAFE_componentWillMount"),"function"==typeof p.componentWillReceiveProps&&!0!==p.componentWillReceiveProps.__suppressDeprecationWarning?g="componentWillReceiveProps":"function"==typeof p.UNSAFE_componentWillReceiveProps&&(g="UNSAFE_componentWillReceiveProps"),"function"==typeof p.componentWillUpdate&&!0!==p.componentWillUpdate.__suppressDeprecationWarning?_="componentWillUpdate":"function"==typeof p.UNSAFE_componentWillUpdate&&(_="UNSAFE_componentWillUpdate"),null!==m||null!==g||null!==_){var w=on(e)||"Component",x="function"==typeof n.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";Da.has(w)||(Da.add(w),o(!1,"Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n%s uses %s but also contains the following legacy lifecycles:%s%s%s\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks",w,x,null!==m?"\n  "+m:"",null!==g?"\n  "+g:"",null!==_?"\n  "+_:""))}}e.memoizedState=h;var k=b(e,0,t,h);return null!==k&&void 0!==k&&(e.memoizedState=a({},e.memoizedState,k)),i&&s(e,r,c),p},mountClassInstance:function(e,t){var n=e.type,r=e.alternate;!function(e){var t=e.stateNode,n=e.type,r=on(e)||"Component";t.render||(n.prototype&&"function"==typeof n.prototype.render?o(!1,"%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",r):o(!1,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",r));var i=!t.getInitialState||t.getInitialState.isReactClassApproved||t.state;o(i,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",r);var a=!t.getDefaultProps||t.getDefaultProps.isReactClassApproved;o(a,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",r);var s=!t.propTypes;o(s,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",r);var u=!t.contextTypes;o(u,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",r);var l="function"!=typeof t.componentShouldUpdate;o(l,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",r),n.prototype&&n.prototype.isPureReactComponent&&void 0!==t.shouldComponentUpdate&&o(!1,"%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",on(e)||"A pure component");var c="function"!=typeof t.componentDidUnmount;o(c,"%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",r);var f="function"!=typeof t.componentDidReceiveProps;o(f,"%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",r);var d="function"!=typeof t.componentWillRecieveProps;o(d,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",r);var p="function"!=typeof t.UNSAFE_componentWillRecieveProps;o(p,"%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",r);var h=t.props!==e.pendingProps;o(void 0===t.props||!h,"%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",r,r);var y=!t.defaultProps;o(y,"Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",r,r),"function"!=typeof t.getSnapshotBeforeUpdate||"function"==typeof t.componentDidUpdate||"function"==typeof t.componentDidUpdate||ja.has(n)||(ja.add(n),o(!1,"%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",on(e)));var m="function"!=typeof t.getDerivedStateFromProps;o(m,"%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",r);var v="function"!=typeof t.getDerivedStateFromCatch;o(v,"%s: getDerivedStateFromCatch() is defined as an instance method and will be ignored. Instead, declare it as a static method.",r);var g="function"!=typeof n.getSnapshotBeforeUpdate;o(g,"%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",r);var b=t.state;b&&("object"!=typeof b||Na(b))&&o(!1,"%s.state: must be set to an object or null",r),"function"==typeof t.getChildContext&&o("object"==typeof n.childContextTypes,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",r)}(e);var i=e.stateNode,a=e.pendingProps,s=l(e);if(i.props=a,i.state=e.memoizedState,i.refs=d,i.context=u(e,s),e.mode&ri&&Si.recordUnsafeLifecycleWarnings(e,i),Ui&&Si.recordDeprecationWarnings(e,i),"function"!=typeof n.getDerivedStateFromProps&&"function"!=typeof i.getSnapshotBeforeUpdate&&("function"==typeof i.UNSAFE_componentWillMount||"function"==typeof i.componentWillMount)){!function(e,t){ma(e,"componentWillMount");var n=t.state;"function"==typeof t.componentWillMount&&t.componentWillMount(),"function"==typeof t.UNSAFE_componentWillMount&&t.UNSAFE_componentWillMount(),va(),n!==t.state&&(o(!1,"%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",on(e)||"Component"),h.enqueueReplaceState(t,t.state,null))}(e,i);var c=e.updateQueue;null!==c&&(i.state=Oa(r,e,c,i,a,t))}"function"==typeof i.componentDidMount&&(e.effectTag|=Cr)},resumeMountClassInstance:function(e,t){var n=e.type,o=e.stateNode;m(e,o);var s=e.memoizedProps,c=e.pendingProps,f=o.context,d=l(e),h=u(e,d),v="function"==typeof n.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate;v||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||s===c&&f===h||g(e,o,c,h);var _=e.memoizedState,w=void 0,x=void 0;if(null!==e.updateQueue){w=Oa(null,e,e.updateQueue,o,c,t);var k=e.updateQueue;null!==k&&null!==k.capturedValues&&Li&&"function"==typeof n.getDerivedStateFromCatch&&(x=Ua(n,k.capturedValues))}else w=_;var C=void 0;if(s!==c&&(C=b(e,0,c,w)),null!==C&&void 0!==C){w=null===w||void 0===w?C:a({},w,C);var S=e.updateQueue;null!==S&&(S.baseState=a({},S.baseState,C))}if(null!==x&&void 0!==x){w=null===w||void 0===w?x:a({},w,x);var T=e.updateQueue;null!==T&&(T.baseState=a({},T.baseState,x))}if(!(s!==c||_!==w||p()||null!==e.updateQueue&&e.updateQueue.hasForceUpdate))return"function"==typeof o.componentDidMount&&(e.effectTag|=Cr),!1;var E=y(e,s,c,_,w,h);return E?(v||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(ma(e,"componentWillMount"),"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),va()),"function"==typeof o.componentDidMount&&(e.effectTag|=Cr)):("function"==typeof o.componentDidMount&&(e.effectTag|=Cr),r(e,c),i(e,w)),o.props=c,o.state=w,o.context=h,E},updateClassInstance:function(e,t,n){var o=t.type,s=t.stateNode;m(t,s);var c=t.memoizedProps,f=t.pendingProps,d=s.context,h=l(t),v=u(t,h),_="function"==typeof o.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate;_||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||c===f&&d===v||g(t,s,f,v);var w=t.memoizedState,x=void 0,k=void 0;if(null!==t.updateQueue){x=Oa(e,t,t.updateQueue,s,f,n);var C=t.updateQueue;null!==C&&null!==C.capturedValues&&Li&&"function"==typeof o.getDerivedStateFromCatch&&(k=Ua(o,C.capturedValues))}else x=w;var S=void 0;if(c!==f&&(S=b(t,0,f,x)),null!==S&&void 0!==S){x=null===x||void 0===x?S:a({},x,S);var T=t.updateQueue;null!==T&&(T.baseState=a({},T.baseState,S))}if(null!==k&&void 0!==k){x=null===x||void 0===x?k:a({},x,k);var E=t.updateQueue;null!==E&&(E.baseState=a({},E.baseState,k))}if(!(c!==f||w!==x||p()||null!==t.updateQueue&&t.updateQueue.hasForceUpdate))return"function"==typeof s.componentDidUpdate&&(c===e.memoizedProps&&w===e.memoizedState||(t.effectTag|=Cr)),"function"==typeof s.getSnapshotBeforeUpdate&&(c===e.memoizedProps&&w===e.memoizedState||(t.effectTag|=Ar)),!1;var I=y(t,c,f,w,x,v);return I?(_||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||(ma(t,"componentWillUpdate"),"function"==typeof s.componentWillUpdate&&s.componentWillUpdate(f,x,v),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(f,x,v),va()),"function"==typeof s.componentDidUpdate&&(t.effectTag|=Cr),"function"==typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=Ar)):("function"==typeof s.componentDidUpdate&&(c===e.memoizedProps&&w===e.memoizedState||(t.effectTag|=Cr)),"function"==typeof s.getSnapshotBeforeUpdate&&(c===e.memoizedProps&&w===e.memoizedState||(t.effectTag|=Ar)),r(t,f),i(t,x)),s.props=f,s.state=x,s.context=v,I}}},Ba=ln.getCurrentFiberStackAddendum,Ha=void 0,za=void 0,Va=void 0,Ka=void 0,Qa=function(e){};Ha=!1,za={},Va={},Ka={},Qa=function(e){if(null!==e&&"object"==typeof e&&e._store&&!e._store.validated&&null==e.key){"object"!=typeof e._store&&r(!1,"React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue."),e._store.validated=!0;var t='Each child in an array or iterator should have a unique "key" prop. See https://fb.me/react-warning-keys for more information.'+(Ba()||"");Va[t]||(Va[t]=!0,o(!1,'Each child in an array or iterator should have a unique "key" prop. See https://fb.me/react-warning-keys for more information.%s',Ba()))}};var $a=Array.isArray;function Ya(e,t,n){var i=n.ref;if(null!==i&&"function"!=typeof i&&"object"!=typeof i){if(e.mode&ri){var a=on(e)||"Component";za[a]||(o(!1,'A string ref, "%s", has been found within a strict mode tree. String refs are a source of potential bugs and should be avoided. We recommend using createRef() instead.\n%s\n\nLearn more about using refs safely here:\nhttps://fb.me/react-strict-mode-string-ref',i,sn(e)),za[a]=!0)}if(n._owner){var s=n._owner,u=void 0;if(s){var l=s;l.tag!==X&&r(!1,"Stateless function components cannot have refs."),u=l.stateNode}u||r(!1,"Missing owner for string ref %s. This error is likely caused by a bug in React. Please file an issue.",i);var c=""+i;if(null!==t&&null!==t.ref&&t.ref._stringRef===c)return t.ref;var f=function(e){var t=u.refs===d?u.refs={}:u.refs;null===e?delete t[c]:t[c]=e};return f._stringRef=c,f}"string"!=typeof i&&r(!1,"Expected ref to be a function or a string."),n._owner||r(!1,"Element ref was specified as a string (%s) but no owner was set. This could happen for one of the following reasons:\n1. You may be adding a ref to a functional component\n2. You may be adding a ref to a component that was not created inside a component's render method\n3. You have multiple copies of React loaded\nSee https://fb.me/react-refs-must-have-owner for more information.",i)}return i}function Ja(e,t){if("textarea"!==e.type){var n;n=" If you meant to render a collection of children, use an array instead."+(Ba()||""),r(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,n)}}function Ga(){var e="Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it."+(Ba()||"");Ka[e]||(Ka[e]=!0,o(!1,"Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.%s",Ba()||""))}function Xa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=Tr}}function n(n,r){if(!e)return null;for(var o=r;null!==o;)t(n,o),o=o.sibling;return null}function i(e,t){for(var n=new Map,r=t;null!==r;)null!==r.key?n.set(r.key,r):n.set(r.index,r),r=r.sibling;return n}function a(e,t,n){var r=ci(e,t,n);return r.index=0,r.sibling=null,r}function s(t,n,r){if(t.index=r,!e)return n;var o=t.alternate;if(null!==o){var i=o.index;return i<n?(t.effectTag=kr,n):i}return t.effectTag=kr,n}function u(t){return e&&null===t.alternate&&(t.effectTag=kr),t}function l(e,t,n,r){if(null===t||t.tag!==ne){var o=hi(n,e.mode,r);return o.return=e,o}var i=a(t,n,r);return i.return=e,i}function c(e,t,n,r){if(null!==t&&t.type===n.type){var o=a(t,n.props,r);return o.ref=Ya(e,t,n),o.return=e,o._debugSource=n._source,o._debugOwner=n._owner,o}var i=fi(n,e.mode,r);return i.ref=Ya(e,t,n),i.return=e,i}function f(e,t,n,r){if(null===t||t.tag!==ee||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation){var o=yi(n,e.mode,r);return o.return=e,o}var i=a(t,n.children||[],r);return i.return=e,i}function d(e,t,n,r,o){if(null===t||t.tag!==ae){var i=pi(n,e.mode,r,o);return i.return=e,i}var s=a(t,n,r);return s.return=e,s}function p(e,t,n){if("string"==typeof t||"number"==typeof t){var r=hi(""+t,e.mode,n);return r.return=e,r}if("object"==typeof t&&null!==t){switch(t.$$typeof){case Vt:var o=fi(t,e.mode,n);return o.ref=Ya(e,null,t),o.return=e,o;case $t:var i=yi(t,e.mode,n);return i.return=e,i}if($a(t)||rn(t)){var a=pi(t,e.mode,n,null);return a.return=e,a}Ja(e,t)}return"function"==typeof t&&Ga(),null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Vt:return n.key===o?n.type===Yt?d(e,t,n.props.children,r,o):c(e,t,n,r):null;case $t:return n.key===o?f(e,t,n,r):null}if($a(n)||rn(n))return null!==o?null:d(e,t,n,r,null);Ja(e,n)}return"function"==typeof n&&Ga(),null}function y(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return l(t,e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Vt:var i=e.get(null===r.key?n:r.key)||null;return r.type===Yt?d(t,i,r.props.children,o,r.key):c(t,i,r,o);case $t:return f(t,e.get(null===r.key?n:r.key)||null,r,o)}if($a(r)||rn(r))return d(t,e.get(n)||null,r,o,null);Ja(t,r)}return"function"==typeof r&&Ga(),null}function m(e,t){if("object"!=typeof e||null===e)return t;switch(e.$$typeof){case Vt:case $t:Qa(e);var n=e.key;if("string"!=typeof n)break;if(null===t){(t=new Set).add(n);break}if(!t.has(n)){t.add(n);break}o(!1,"Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.%s",n,Ba())}return t}return function(l,c,f,d){"object"==typeof f&&null!==f&&f.type===Yt&&null===f.key&&(f=f.props.children);var v="object"==typeof f&&null!==f;if(v)switch(f.$$typeof){case Vt:return u(function(e,r,o,i){for(var s=o.key,u=r;null!==u;){if(u.key===s){if(u.tag===ae?o.type===Yt:u.type===o.type){n(e,u.sibling);var l=a(u,o.type===Yt?o.props.children:o.props,i);return l.ref=Ya(e,u,o),l.return=e,l._debugSource=o._source,l._debugOwner=o._owner,l}n(e,u);break}t(e,u),u=u.sibling}if(o.type===Yt){var c=pi(o.props.children,e.mode,i,o.key);return c.return=e,c}var f=fi(o,e.mode,i);return f.ref=Ya(e,r,o),f.return=e,f}(l,c,f,d));case $t:return u(function(e,r,o,i){for(var s=o.key,u=r;null!==u;){if(u.key===s){if(u.tag===ee&&u.stateNode.containerInfo===o.containerInfo&&u.stateNode.implementation===o.implementation){n(e,u.sibling);var l=a(u,o.children||[],i);return l.return=e,l}n(e,u);break}t(e,u),u=u.sibling}var c=yi(o,e.mode,i);return c.return=e,c}(l,c,f,d))}if("string"==typeof f||"number"==typeof f)return u(function(e,t,r,o){if(null!==t&&t.tag===ne){n(e,t.sibling);var i=a(t,r,o);return i.return=e,i}n(e,t);var s=hi(r,e.mode,o);return s.return=e,s}(l,c,""+f,d));if($a(f))return function(r,o,a,u){for(var l=null,c=0;c<a.length;c++)l=m(a[c],l);for(var f=null,d=null,v=o,g=0,b=0,_=null;null!==v&&b<a.length;b++){v.index>b?(_=v,v=null):_=v.sibling;var w=h(r,v,a[b],u);if(null===w){null===v&&(v=_);break}e&&v&&null===w.alternate&&t(r,v),g=s(w,g,b),null===d?f=w:d.sibling=w,d=w,v=_}if(b===a.length)return n(r,v),f;if(null===v){for(;b<a.length;b++){var x=p(r,a[b],u);x&&(g=s(x,g,b),null===d?f=x:d.sibling=x,d=x)}return f}for(var k=i(0,v);b<a.length;b++){var C=y(k,r,b,a[b],u);C&&(e&&null!==C.alternate&&k.delete(null===C.key?b:C.key),g=s(C,g,b),null===d?f=C:d.sibling=C,d=C)}return e&&k.forEach(function(e){return t(r,e)}),f}(l,c,f,d);if(rn(f))return function(a,u,l,c){var f=rn(l);"function"!=typeof f&&r(!1,"An object is not an iterable. This error is likely caused by a bug in React. Please file an issue."),"function"==typeof l.entries&&l.entries===f&&(o(Ha,"Using Maps as children is unsupported and will likely yield unexpected results. Convert it to a sequence/iterable of keyed ReactElements instead.%s",Ba()),Ha=!0);var d=f.call(l);if(d)for(var v=null,g=d.next();!g.done;g=d.next())v=m(g.value,v);var b=f.call(l);null==b&&r(!1,"An iterable object provided no iterator.");for(var _=null,w=null,x=u,k=0,C=0,S=null,T=b.next();null!==x&&!T.done;C++,T=b.next()){x.index>C?(S=x,x=null):S=x.sibling;var E=h(a,x,T.value,c);if(null===E){x||(x=S);break}e&&x&&null===E.alternate&&t(a,x),k=s(E,k,C),null===w?_=E:w.sibling=E,w=E,x=S}if(T.done)return n(a,x),_;if(null===x){for(;!T.done;C++,T=b.next()){var I=p(a,T.value,c);null!==I&&(k=s(I,k,C),null===w?_=I:w.sibling=I,w=I)}return _}for(var O=i(0,x);!T.done;C++,T=b.next()){var P=y(O,a,C,T.value,c);null!==P&&(e&&null!==P.alternate&&O.delete(null===P.key?C:P.key),k=s(P,k,C),null===w?_=P:w.sibling=P,w=P)}return e&&O.forEach(function(e){return t(a,e)}),_}(l,c,f,d);if(v&&Ja(l,f),"function"==typeof f&&Ga(),void 0===f)switch(l.tag){case X:if(l.stateNode.render._isMockFunction)break;case G:var g=l.type;r(!1,"%s(...): Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null.",g.displayName||g.name||"Component")}return n(l,c)}}var Za=Xa(!0),es=Xa(!1);var ts=void 0,ns=void 0,rs=void 0;ts={},ns={},rs={};var os=function(e,t,n,i,s,u,l){var c=e.shouldSetTextContent,f=e.shouldDeprioritizeSubtree,d=t.pushHostContext,p=t.pushHostContainer,h=i.pushProvider,y=n.getMaskedContext,m=n.getUnmaskedContext,v=n.hasContextChanged,g=n.pushContextProvider,b=n.pushTopLevelContextObject,_=n.invalidateContextProvider,w=s.enterHydrationState,x=s.resetHydrationState,k=s.tryToClaimNextHydratableInstance,C=Wa(n,u,l,D,F),S=C.adoptClassInstance,T=C.callGetDerivedStateFromProps,E=C.constructClassInstance,I=C.mountClassInstance,O=C.resumeMountClassInstance,P=C.updateClassInstance;function R(e,t,n){A(e,t,n,t.expirationTime)}function A(e,t,n,r){t.child=null===e?es(t,null,n,r):Za(t,e.child,n,r)}function N(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=Pr)}function M(e,t,n,r,o,i){if(N(e,t),!n&&!o)return r&&_(t,!1),j(e,t);var a=t.type,s=t.stateNode;Wt.current=t;var u=void 0;return!o||Li&&"function"==typeof a.getDerivedStateFromCatch?(ln.setCurrentPhase("render"),u=s.render(),(ji||Di&&t.mode&ri)&&s.render(),ln.setCurrentPhase(null)):u=null,t.effectTag|=xr,o&&(A(e,t,null,i),t.child=null),A(e,t,u,i),F(t,s.state),D(t,s.props),r&&_(t,!0),t.child}function q(e){var t=e.stateNode;t.pendingContext?b(e,t.pendingContext,t.pendingContext!==t.context):t.context&&b(e,t.context,!1),p(e,t.containerInfo)}function L(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var i=void 0;switch(o.tag){case ue:var a=0|o.stateNode;if(o.type===t&&0!=(a&n)){for(var s=o;null!==s;){var u=s.alternate;if(s.expirationTime===Qo||s.expirationTime>r)s.expirationTime=r,null!==u&&(u.expirationTime===Qo||u.expirationTime>r)&&(u.expirationTime=r);else{if(null===u||!(u.expirationTime===Qo||u.expirationTime>r))break;u.expirationTime=r}s=s.return}i=null}else i=o.child;break;case le:i=o.type===e.type?null:o.child;break;default:i=o.child}if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===e){i=null;break}var l=i.sibling;if(null!==l){i=l;break}i=i.return}o=i}}function j(e,t){return pa(t),function(e,t){if(null!==e&&t.child!==e.child&&r(!1,"Resuming work not yet implemented."),null!==t.child){var n=t.child,o=ci(n,n.pendingProps,n.expirationTime);for(t.child=o,o.return=t;null!==n.sibling;)n=n.sibling,(o=o.sibling=ci(n,n.pendingProps,n.expirationTime)).return=t;o.sibling=null}}(e,t),t.child}function D(e,t){e.memoizedProps=t}function F(e,t){e.memoizedState=t}return{beginWork:function(e,t,n){if(t.expirationTime===Qo||t.expirationTime>n)return function(e,t){switch(pa(t),t.tag){case Z:q(t);break;case X:g(t);break;case ee:p(t,t.stateNode.containerInfo);break;case le:h(t)}return null}(0,t);switch(t.tag){case J:return function(e,t,n){null!==e&&r(!1,"An indeterminate component should never have mounted. This error is likely caused by a bug in React. Please file an issue.");var i,s=t.type,u=t.pendingProps,l=m(t),c=y(t,l);if(s.prototype&&"function"==typeof s.prototype.render){var f=on(t)||"Unknown";ts[f]||(o(!1,"The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",f,f),ts[f]=!0)}if(Wt.current=t,i=s(u,c),t.effectTag|=xr,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){var d=t.type;if(t.tag=X,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,"function"==typeof d.getDerivedStateFromProps){var p=T(t,i,u,t.memoizedState);null!==p&&void 0!==p&&(t.memoizedState=a({},t.memoizedState,p))}var h=g(t);return S(t,i),I(t,n),M(e,t,!0,h,!1,n)}t.tag=G;var v=t.type;if(v&&o(!v.childContextTypes,"%s(...): childContextTypes cannot be defined on a functional component.",v.displayName||v.name||"Component"),null!==t.ref){var b="",_=ln.getCurrentFiberOwnerName();_&&(b+="\n\nCheck the render method of `"+_+"`.");var w=_||t._debugID||"",x=t._debugSource;x&&(w=x.fileName+":"+x.lineNumber),rs[w]||(rs[w]=!0,o(!1,"Stateless function components cannot be given refs. Attempts to access this ref will fail.%s%s",b,ln.getCurrentFiberStackAddendum()))}if("function"==typeof s.getDerivedStateFromProps){var k=on(t)||"Unknown";ns[k]||(o(!1,"%s: Stateless functional components do not support getDerivedStateFromProps.",k),ns[k]=!0)}return R(e,t,i),D(t,u),t.child}(e,t,n);case G:return function(e,t){var n=t.type,r=t.pendingProps;if(v());else if(t.memoizedProps===r)return j(e,t);var o,i=m(t),a=y(t,i);return Wt.current=t,ln.setCurrentPhase("render"),o=n(r,a),ln.setCurrentPhase(null),t.effectTag|=xr,R(e,t,o),D(t,r),t.child}(e,t);case X:return function(e,t,n){var r=g(t),o=void 0;null===e?null===t.stateNode?(E(t,t.pendingProps),I(t,n),o=!0):o=O(t,n):o=P(e,t,n);var i=!1,a=t.updateQueue;return null!==a&&null!==a.capturedValues&&(o=!0,i=!0),M(e,t,o,r,i,n)}(e,t,n);case Z:return function(e,t,n){q(t);var r=t.updateQueue;if(null!==r){var o=t.memoizedState,i=Oa(e,t,r,null,null,n);F(t,i);var a=void 0;if(null!==(r=t.updateQueue)&&null!==r.capturedValues)a=null;else{if(o===i)return x(),j(e,t);a=i.element}var s=t.stateNode;return(null===e||null===e.child)&&s.hydrate&&w(t)?(t.effectTag|=kr,t.child=es(t,null,a,n)):(x(),R(e,t,a)),F(t,i),t.child}return x(),j(e,t)}(e,t,n);case te:return function(e,t,n){d(t),null===e&&k(t);var r=t.type,o=t.memoizedProps,i=t.pendingProps,a=null!==e?e.memoizedProps:null;if(v());else if(o===i){var s=t.mode&ni&&f(r,i);if(s&&(t.expirationTime=Yo),!s||n!==Yo)return j(e,t)}var u=i.children;return c(r,i)?u=null:a&&c(r,a)&&(t.effectTag|=Er),N(e,t),n!==Yo&&t.mode&ni&&f(r,i)?(t.expirationTime=Yo,t.memoizedProps=i,null):(R(e,t,u),D(t,i),t.child)}(e,t,n);case ne:return function(e,t){return null===e&&k(t),D(t,t.pendingProps),null}(e,t);case oe:t.tag=re;case re:return function(e,t,n){var r=t.pendingProps;v()||t.memoizedProps===r&&(r=t.memoizedProps);var o=r.children;return t.stateNode=null===e?es(t,t.stateNode,o,n):Za(t,e.stateNode,o,n),D(t,r),t.stateNode}(e,t,n);case ie:return null;case ee:return function(e,t,n){p(t,t.stateNode.containerInfo);var r=t.pendingProps;if(v());else if(t.memoizedProps===r)return j(e,t);return null===e?(t.child=Za(t,null,r,n),D(t,r)):(R(e,t,r),D(t,r)),t.child}(e,t,n);case ce:return function(e,t){var n=(0,t.type.render)(t.pendingProps,t.ref);return R(e,t,n),D(t,n),t.child}(e,t);case ae:return function(e,t){var n=t.pendingProps;if(v());else if(t.memoizedProps===n)return j(e,t);return R(e,t,n),D(t,n),t.child}(e,t);case se:return function(e,t){var n=t.pendingProps.children;if(v());else if(null===n||t.memoizedProps===n)return j(e,t);return R(e,t,n),D(t,n),t.child}(e,t);case le:return function(e,t,n){var r=t.type._context,i=t.pendingProps,a=t.memoizedProps;if(v());else if(a===i)return t.stateNode=0,h(t),j(e,t);var s=i.value;t.memoizedProps=i;var u=void 0;if(null===a)u=Ko;else if(a.value===i.value){if(a.children===i.children)return t.stateNode=0,h(t),j(e,t);u=0}else{var l=a.value;if(l===s&&(0!==l||1/l==1/s)||l!=l&&s!=s){if(a.children===i.children)return t.stateNode=0,h(t),j(e,t);u=0}else if(u="function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,s):Ko,o((u&Ko)===u,"calculateChangedBits: Expected the return value to be a 31-bit integer. Instead received: %s",u),0==(u|=0)){if(a.children===i.children)return t.stateNode=0,h(t),j(e,t)}else L(t,r,u,n)}return t.stateNode=u,h(t),R(e,t,i.children),t.child}(e,t,n);case ue:return function(e,t,n){var r=t.type,i=t.pendingProps,a=t.memoizedProps,s=r._currentValue,u=r._changedBits;if(v());else if(0===u&&a===i)return j(e,t);t.memoizedProps=i;var l=i.unstable_observedBits;void 0!==l&&null!==l||(l=Ko),t.stateNode=l,0!=(u&l)&&L(t,r,u,n);var c=i.children;return o("function"==typeof c,"A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),R(e,t,c(s)),t.child}(e,t,n);default:r(!1,"Unknown unit of work tag. This error is likely caused by a bug in React. Please file an issue.")}}}},is=function(e,t,n,o,i){var a=e.createInstance,s=e.createTextInstance,u=e.appendInitialChild,l=e.finalizeInitialChildren,c=e.prepareUpdate,f=e.mutation,d=e.persistence,p=t.getRootHostContainer,h=t.popHostContext,y=t.getHostContext,m=t.popHostContainer,v=n.popContextProvider,g=n.popTopLevelContextObject,b=o.popProvider,_=i.prepareToHydrateHostInstance,w=i.prepareToHydrateHostTextInstance,x=i.popHydrationState;function k(e){e.effectTag|=Cr}function C(e){e.effectTag|=Pr}function S(e,t,n){var o=t.memoizedProps;o||r(!1,"Should be resolved by now. This error is likely caused by a bug in React. Please file an issue."),t.tag=oe;var i=[];!function(e,t){var n=t.stateNode;for(n&&(n.return=t);null!==n;){if(n.tag===te||n.tag===ne||n.tag===ee)r(!1,"A call cannot have host component children.");else if(n.tag===ie)e.push(n.pendingProps.value);else if(null!==n.child){n.child.return=n,n=n.child;continue}for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(i,t);var a=(0,o.handler)(o.props,i),s=null!==e?e.child:null;return t.child=Za(t,s,a,n),t.child}function T(e,t){for(var n=t.child;null!==n;){if(n.tag===te||n.tag===ne)u(e,n.stateNode);else if(n.tag===ee);else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)return;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}var E=void 0,I=void 0,O=void 0;if(f)Mi?(E=function(e){},I=function(e,t,n,r,o,i,a,s){t.updateQueue=n,n&&k(t)},O=function(e,t,n,r){n!==r&&k(t)}):r(!1,"Mutating reconciler is disabled.");else if(d)if(qi){var P=d.cloneInstance,R=d.createContainerChildSet,A=d.appendChildToContainerChildSet,N=d.finalizeContainerChildren;E=function(e){var t=e.stateNode;if(null===e.firstEffect);else{var n=t.containerInfo,r=R(n);!function(e,t){for(var n=t.child;null!==n;){if(n.tag===te||n.tag===ne)A(e,n.stateNode);else if(n.tag===ee);else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)return;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(r,e),t.pendingChildren=r,k(e),N(n,r)}},I=function(e,t,n,r,o,i,a,s){var u=null===t.firstEffect,c=e.stateNode;if(u&&null===n)t.stateNode=c;else{var f=t.stateNode,d=P(c,n,r,o,i,t,u,f);l(d,r,i,a,s)&&k(t),t.stateNode=d,u?k(t):T(d,t)}},O=function(e,t,n,r){if(n!==r){var o=p(),i=y();t.stateNode=s(r,o,i,t),k(t)}}}else r(!1,"Persistent reconciler is disabled.");else r(!1,"Noop reconciler is disabled.");return{completeWork:function(e,t,n){var o=t.pendingProps;switch(t.tag){case G:return null;case X:v(t);var i=t.stateNode,u=t.updateQueue;return null!==u&&null!==u.capturedValues&&(t.effectTag&=~Or,"function"==typeof i.componentDidCatch?t.effectTag|=Rr:u.capturedValues=null),null;case Z:m(t),g(t);var f=t.stateNode;f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),null!==e&&null!==e.child||(x(t),t.effectTag&=~kr),E(t);var d=t.updateQueue;return null!==d&&null!==d.capturedValues&&(t.effectTag|=Rr),null;case te:h(t);var P=p(),R=t.type;if(null!==e&&null!=t.stateNode){var A=e.memoizedProps,N=t.stateNode,M=y(),q=c(N,R,A,o,P,M);I(e,t,q,R,A,o,P,M),e.ref!==t.ref&&C(t)}else{if(!o)return null===t.stateNode&&r(!1,"We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue."),null;var L=y();if(x(t))_(t,P,L)&&k(t);else{var j=a(R,o,P,L,t);T(j,t),l(j,R,o,P,L)&&k(t),t.stateNode=j}null!==t.ref&&C(t)}return null;case ne:var D=o;if(e&&null!=t.stateNode){var F=e.memoizedProps;O(e,t,F,D)}else{if("string"!=typeof D)return null===t.stateNode&&r(!1,"We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue."),null;var U=p(),W=y();x(t)?w(t)&&k(t):t.stateNode=s(D,U,W,t)}return null;case re:return S(e,t,n);case oe:return t.tag=re,null;case ie:case ce:case ae:case se:return null;case ee:return m(t),E(t),null;case le:return b(t),null;case ue:return null;case J:r(!1,"An indeterminate component should have become determinate before completing. This error is likely caused by a bug in React. Please file an issue.");default:r(!1,"Unknown unit of work tag. This error is likely caused by a bug in React. Please file an issue.")}}}};function as(e,t){return{value:e,source:t,stack:sn(t)}}var ss=g.invokeGuardedCallback,us=g.hasCaughtError,ls=g.clearCaughtError,cs=null;function fs(e,t){var n=t.source,r=t.stack;null===r&&(r=sn(n));var o={componentName:null!==n?on(n):null,componentStack:null!==r?r:"",error:t.value,errorBoundary:null,errorBoundaryName:null,errorBoundaryFound:!1,willRetry:!1};null!==e&&e.tag===X&&(o.errorBoundary=e.stateNode,o.errorBoundaryName=on(e),o.errorBoundaryFound=!0,o.willRetry=!0);try{!function(e){var t=e.error;if(!t||!t.suppressReactErrorLogging){var n=e.componentName,r=e.componentStack,o=e.errorBoundaryName,i=e.errorBoundaryFound,a=e.willRetry,s=(n?"The above error occurred in the <"+n+"> component:":"The above error occurred in one of your React components:")+r+"\n\n"+(i&&o?a?"React will try to recreate this component tree from scratch using the error boundary you provided, "+o+".":"This error was initially handled by the error boundary "+o+".\nRecreating the tree from scratch failed so React will unmount the tree.":"Consider adding an error boundary to your tree to customize error handling behavior.\nVisit https://fb.me/react-error-boundaries to learn more about error boundaries.");console.error(s)}}(o)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}}cs=new Set;var ds=function(e,t,n,i,a,s){var u=e.getPublicInstance,l=e.mutation,c=e.persistence,f=function(e,t){ma(e,"componentWillUnmount"),t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount(),va()};function d(e){var n=e.ref;if(null!==n)if("function"==typeof n){if(ss(null,n,null,null),us()){var r=ls();t(e,r)}}else n.current=null}function p(e,t){switch(t.tag){case X:if(t.effectTag&Ar&&null!==e){var n=e.memoizedProps,i=e.memoizedState;ma(t,"getSnapshotBeforeUpdate");var a=t.stateNode;a.props=t.memoizedProps,a.state=t.memoizedState;var s=a.getSnapshotBeforeUpdate(n,i),u=cs;void 0!==s||u.has(t.type)||(u.add(t.type),o(!1,"%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",on(t))),a.__reactInternalSnapshotBeforeUpdate=s,va()}return;case Z:case te:case ne:case ee:return;default:r(!1,"This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}}function h(e,t,n,o,i){switch(n.tag){case X:var a=n.stateNode;if(n.effectTag&Cr)if(null===t)ma(n,"componentDidMount"),a.props=n.memoizedProps,a.state=n.memoizedState,a.componentDidMount(),va();else{var s=t.memoizedProps,l=t.memoizedState;ma(n,"componentDidUpdate"),a.props=n.memoizedProps,a.state=n.memoizedState,a.componentDidUpdate(s,l,a.__reactInternalSnapshotBeforeUpdate),va()}var c=n.updateQueue;return void(null!==c&&Pa(c,a));case Z:var f=n.updateQueue;if(null!==f){var d=null;if(null!==n.child)switch(n.child.tag){case te:d=u(n.child.stateNode);break;case X:d=n.child.stateNode}Pa(f,d)}return;case te:var p=n.stateNode;if(null===t&&n.effectTag&Cr){var h=n.type,y=n.memoizedProps;S(p,h,y,n)}return;case ne:case ee:return;default:r(!1,"This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}}function y(e,t){switch(e.tag){case X:var n=e.type,o=e.stateNode,i=e.updateQueue;(null===i||null===i.capturedValues)&&r(!1,"An error logging effect should not have been scheduled if no errors were captured. This error is likely caused by a bug in React. Please file an issue.");var s=i.capturedValues;i.capturedValues=null,"function"!=typeof n.getDerivedStateFromCatch&&a(o),o.props=e.memoizedProps,o.state=e.memoizedState;for(var u=0;u<s.length;u++){var l=s[u],c=l.value,f=l.stack;fs(e,l),o.componentDidCatch(c,{componentStack:null!==f?f:""})}break;case Z:var d=e.updateQueue;(null===d||null===d.capturedValues)&&r(!1,"An error logging effect should not have been scheduled if no errors were captured. This error is likely caused by a bug in React. Please file an issue.");var p=d.capturedValues;d.capturedValues=null;for(var h=0;h<p.length;h++){var y=p[h];fs(e,y),t(y.value)}break;default:r(!1,"This unit of work tag cannot capture errors.  This error is likely caused by a bug in React. Please file an issue.")}}function m(e){var t=e.ref;if(null!==t){var n=e.stateNode,r=void 0;switch(e.tag){case te:r=u(n);break;default:r=n}"function"==typeof t?t(r):(t.hasOwnProperty("current")||o(!1,"Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().%s",on(e),sn(e)),t.current=r)}}function v(e){var t=e.ref;null!==t&&("function"==typeof t?t(null):t.current=null)}function g(e){switch(ki(e),e.tag){case X:d(e);var n=e.stateNode;return void("function"==typeof n.componentWillUnmount&&function(e,n){if(ss(null,f,null,e,n),us()){var r=ls();t(e,r)}}(e,n));case te:return void d(e);case re:return void b(e.stateNode);case ee:return void(Mi&&l?L(e):qi&&c&&w(e))}}function b(e){for(var t=e;;)if(g(t),null===t.child||l&&t.tag===ee){if(t===e)return;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}else t.child.return=t,t=t.child}function _(e){e.return=null,e.child=null,e.alternate&&(e.alternate.child=null,e.alternate.return=null)}var w=void 0;if(!l){var x=void 0;if(c){var k=c.replaceContainerChildren,C=c.createContainerChildSet;w=function(e){var t=e.stateNode.containerInfo,n=C(t);k(t,n)},x=function(e){switch(e.tag){case X:case te:case ne:return;case Z:case ee:var t=e.stateNode,n=t.containerInfo,o=t.pendingChildren;return void k(n,o);default:r(!1,"This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}}}else x=function(e){};if(qi)return{commitResetTextContent:function(e){},commitPlacement:function(e){},commitDeletion:function(e){b(e),_(e)},commitWork:function(e,t){x(t)},commitLifeCycles:h,commitBeforeMutationLifeCycles:p,commitErrorLogging:y,commitAttachRef:m,commitDetachRef:v};r(!1,c?"Persistent reconciler is disabled.":"Noop reconciler is disabled.")}var S=l.commitMount,T=l.commitUpdate,E=l.resetTextContent,I=l.commitTextUpdate,O=l.appendChild,P=l.appendChildToContainer,R=l.insertBefore,A=l.insertInContainerBefore,N=l.removeChild,M=l.removeChildFromContainer;function q(e){return e.tag===te||e.tag===Z||e.tag===ee}function L(e){for(var t=e,n=!1,o=void 0,i=void 0;;){if(!n){var a=t.return;e:for(;;){switch(null===a&&r(!1,"Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue."),a.tag){case te:o=a.stateNode,i=!1;break e;case Z:case ee:o=a.stateNode.containerInfo,i=!0;break e}a=a.return}n=!0}if(t.tag===te||t.tag===ne)b(t),i?M(o,t.stateNode):N(o,t.stateNode);else if(t.tag===ee){if(o=t.stateNode.containerInfo,null!==t.child){t.child.return=t,t=t.child;continue}}else if(g(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)return;for(;null===t.sibling;){if(null===t.return||t.return===e)return;(t=t.return).tag===ee&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}if(Mi)return{commitBeforeMutationLifeCycles:p,commitResetTextContent:function(e){E(e.stateNode)},commitPlacement:function(e){var t=function(e){for(var t=e.return;null!==t;){if(q(t))return t;t=t.return}r(!1,"Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}(e),n=void 0,o=void 0;switch(t.tag){case te:n=t.stateNode,o=!1;break;case Z:case ee:n=t.stateNode.containerInfo,o=!0;break;default:r(!1,"Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}t.effectTag&Er&&(E(n),t.effectTag&=~Er);for(var i=function(e){var t=e;e:for(;;){for(;null===t.sibling;){if(null===t.return||q(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==te&&t.tag!==ne;){if(t.effectTag&kr)continue e;if(null===t.child||t.tag===ee)continue e;t.child.return=t,t=t.child}if(!(t.effectTag&kr))return t.stateNode}}(e),a=e;;){if(a.tag===te||a.tag===ne)i?o?A(n,a.stateNode,i):R(n,a.stateNode,i):o?P(n,a.stateNode):O(n,a.stateNode);else if(a.tag===ee);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)return;for(;null===a.sibling;){if(null===a.return||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},commitDeletion:function(e){L(e),_(e)},commitWork:function(e,t){switch(t.tag){case X:return;case te:var n=t.stateNode;if(null!=n){var o=t.memoizedProps,i=null!==e?e.memoizedProps:o,a=t.type,s=t.updateQueue;t.updateQueue=null,null!==s&&T(n,s,a,i,o,t)}return;case ne:null===t.stateNode&&r(!1,"This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var u=t.stateNode,l=t.memoizedProps,c=null!==e?e.memoizedProps:l;return void I(u,c,l);case Z:return;default:r(!1,"This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}},commitLifeCycles:h,commitErrorLogging:y,commitAttachRef:m,commitDetachRef:v};r(!1,"Mutating reconciler is disabled.")},ps={},hs=function(e){var t=e.shouldSetTextContent,n=e.hydration;if(!n)return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){r(!1,"Expected prepareToHydrateHostInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.")},prepareToHydrateHostTextInstance:function(){r(!1,"Expected prepareToHydrateHostTextInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.")},popHydrationState:function(e){return!1}};var o=n.canHydrateInstance,i=n.canHydrateTextInstance,a=n.getNextHydratableSibling,s=n.getFirstHydratableChild,u=n.hydrateInstance,l=n.hydrateTextInstance,c=n.didNotMatchHydratedContainerTextInstance,f=n.didNotMatchHydratedTextInstance,d=n.didNotHydrateContainerInstance,p=n.didNotHydrateInstance,h=n.didNotFindHydratableContainerInstance,y=n.didNotFindHydratableContainerTextInstance,m=n.didNotFindHydratableInstance,v=n.didNotFindHydratableTextInstance,g=null,b=null,_=!1;function w(e,t){switch(e.tag){case Z:d(e.stateNode.containerInfo,t);break;case te:p(e.type,e.memoizedProps,e.stateNode,t)}var n,r=((n=li(te,null,null,ti)).type="DELETED",n);r.stateNode=t,r.return=e,r.effectTag=Tr,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function x(e,t){switch(t.effectTag|=kr,e.tag){case Z:var n=e.stateNode.containerInfo;switch(t.tag){case te:var r=t.type,o=t.pendingProps;h(n,r,o);break;case ne:var i=t.pendingProps;y(n,i)}break;case te:var a=e.type,s=e.memoizedProps,u=e.stateNode;switch(t.tag){case te:var l=t.type,c=t.pendingProps;m(a,s,u,l,c);break;case ne:var f=t.pendingProps;v(a,s,u,f)}break;default:return}}function k(e,t){switch(e.tag){case te:var n=e.type,r=e.pendingProps,a=o(t,n,r);return null!==a&&(e.stateNode=a,!0);case ne:var s=e.pendingProps,u=i(t,s);return null!==u&&(e.stateNode=u,!0);default:return!1}}function C(e){for(var t=e.return;null!==t&&t.tag!==te&&t.tag!==Z;)t=t.return;g=t}return{enterHydrationState:function(e){var t=e.stateNode.containerInfo;return b=s(t),g=e,_=!0,!0},resetHydrationState:function(){g=null,b=null,_=!1},tryToClaimNextHydratableInstance:function(e){if(_){var t=b;if(!t)return x(g,e),_=!1,void(g=e);if(!k(e,t)){if(!(t=a(t))||!k(e,t))return x(g,e),_=!1,void(g=e);w(g,b)}g=e,b=s(t)}},prepareToHydrateHostInstance:function(e,t,n){var r=e.stateNode,o=u(r,e.type,e.memoizedProps,t,n,e);return e.updateQueue=o,null!==o},prepareToHydrateHostTextInstance:function(e){var t=e.stateNode,n=e.memoizedProps,r=l(t,n,e);if(r){var o=g;if(null!==o)switch(o.tag){case Z:var i=o.stateNode.containerInfo;c(i,t,n);break;case te:var a=o.type,s=o.memoizedProps,u=o.stateNode;f(a,s,u,t,n)}}return r},popHydrationState:function(e){if(e!==g)return!1;if(!_)return C(e),_=!0,!1;var n=e.type;if(e.tag!==te||"head"!==n&&"body"!==n&&!t(n,e.memoizedProps))for(var r=b;r;)w(e,r),r=a(r);return C(e),b=g?a(e.stateNode):null,!0}}},ys={debugTool:null},ms=void 0;ms={};var vs=g.invokeGuardedCallback,gs=g.hasCaughtError,bs=g.clearCaughtError,_s=void 0,ws=void 0,xs=void 0,ks=void 0;_s=!1,ws=!1;var Cs={};xs=function(e){var t=on(e)||"ReactClass";Cs[t]||(o(!1,"Can't call setState (or forceUpdate) on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.%s",sn(e)),Cs[t]=!0)},ks=function(e){switch(ln.phase){case"getChildContext":if(ws)return;o(!1,"setState(...): Cannot call setState() inside getChildContext()"),ws=!0;break;case"render":if(_s)return;o(!1,"Cannot update during an existing state transition (such as within `render` or another component's constructor). Render methods should be a pure function of props and state; constructor side-effects are an anti-pattern, but can be moved to `componentWillMount`."),_s=!0}};var Ss=function(e){var t=function(){var e=[],t=void 0;t=[];var n=-1;return{createCursor:function(e){return{current:e}},isEmpty:function(){return-1===n},pop:function(r,i){n<0?o(!1,"Unexpected pop."):(i!==t[n]&&o(!1,"Unexpected Fiber popped."),r.current=e[n],e[n]=null,t[n]=null,n--)},push:function(r,o,i){e[++n]=r.current,t[n]=i,r.current=o},checkThatStackIsEmpty:function(){-1!==n&&o(!1,"Expected an empty stack. Something was not reset properly.")},resetStackAfterFatalErrorInDev:function(){n=-1,e.length=0,t.length=0}}}(),n=function(e,t){var n=e.getChildHostContext,o=e.getRootHostContext,i=t.createCursor,a=t.push,s=t.pop,u=i(ps),l=i(ps),c=i(ps);function f(e){return e===ps&&r(!1,"Expected host context to exist. This error is likely caused by a bug in React. Please file an issue."),e}return{getHostContext:function(){return f(u.current)},getRootHostContainer:function(){return f(c.current)},popHostContainer:function(e){s(u,e),s(l,e),s(c,e)},popHostContext:function(e){l.current===e&&(s(u,e),s(l,e))},pushHostContainer:function(e,t){a(c,t,e),a(l,e,e),a(u,ps,e);var n=o(t);s(u,e),a(u,n,e)},pushHostContext:function(e){var t=f(c.current),r=f(u.current),o=n(r,e.type,t);r!==o&&(a(l,e,e),a(u,o,e))}}}(e,t),i=function(e){var t=e.createCursor,n=e.push,i=e.pop,s=t(d),l=t(!1),c=d;function f(e,t,n){var r=e.stateNode;r.__reactInternalMemoizedUnmaskedChildContext=t,r.__reactInternalMemoizedMaskedChildContext=n}function p(e){return e.tag===X&&null!=e.type.childContextTypes}function h(e,t){var n,i=e.stateNode,s=e.type.childContextTypes;if("function"!=typeof i.getChildContext){var l=on(e)||"Unknown";return ms[l]||(ms[l]=!0,o(!1,"%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",l,l)),t}for(var c in ln.setCurrentPhase("getChildContext"),ma(e,"getChildContext"),n=i.getChildContext(),va(),ln.setCurrentPhase(null),n)c in s||r(!1,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',on(e)||"Unknown",c);var f=on(e)||"Unknown";return u(s,n,"child context",f,ln.getCurrentFiberStackAddendum),a({},t,n)}return{getUnmaskedContext:function(e){return p(e)?c:s.current},cacheContext:f,getMaskedContext:function(e,t){var n=e.type.contextTypes;if(!n)return d;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={};for(var i in n)o[i]=t[i];var a=on(e)||"Unknown";return u(n,o,"context",a,ln.getCurrentFiberStackAddendum),r&&f(e,t,o),o},hasContextChanged:function(){return l.current},isContextConsumer:function(e){return e.tag===X&&null!=e.type.contextTypes},isContextProvider:p,popContextProvider:function(e){p(e)&&(i(l,e),i(s,e))},popTopLevelContextObject:function(e){i(l,e),i(s,e)},pushTopLevelContextObject:function(e,t,o){null!=s.cursor&&r(!1,"Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue."),n(s,t,e),n(l,o,e)},processChildContext:h,pushContextProvider:function(e){if(!p(e))return!1;var t=e.stateNode,r=t&&t.__reactInternalMemoizedMergedChildContext||d;return c=s.current,n(s,r,e),n(l,l.current,e),!0},invalidateContextProvider:function(e,t){var o=e.stateNode;if(o||r(!1,"Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue."),t){var a=h(e,c);o.__reactInternalMemoizedMergedChildContext=a,i(l,e),i(s,e),n(s,a,e),n(l,t,e)}else i(l,e),n(l,t,e)},findCurrentUnmaskedContext:function(e){Ur(e)&&e.tag===X||r(!1,"Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");for(var t=e;t.tag!==Z;){if(p(t))return t.stateNode.__reactInternalMemoizedMergedChildContext;var n=t.return;n||r(!1,"Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue."),t=n}return t.stateNode.context}}}(t),s=function(e){var t=e.createCursor,n=e.push,r=e.pop,i=t(null),a=t(null),s=t(0),u=void 0;return u={},{pushProvider:function(e){var t=e.type._context;n(s,t._changedBits,e),n(a,t._currentValue,e),n(i,e,e),t._currentValue=e.pendingProps.value,t._changedBits=e.stateNode,o(null===t._currentRenderer||t._currentRenderer===u,"Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),t._currentRenderer=u},popProvider:function(e){var t=s.current,n=a.current;r(i,e),r(a,e),r(s,e);var o=e.type._context;o._currentValue=n,o._changedBits=t}}}(t),l=n.popHostContext,c=n.popHostContainer,f=i.popTopLevelContextObject,p=i.popContextProvider,h=s.popProvider,y=hs(e),m=os(e,n,i,s,y,we,_e).beginWork,v=is(e,n,i,s,y).completeWork,g=function(e,t,n,r,o){var i=e.popHostContainer,a=e.popHostContext,s=t.popContextProvider,u=t.popTopLevelContextObject,l=n.popProvider;return{throwException:function(e,t,n){t.effectTag|=Mr,t.firstEffect=t.lastEffect=null;var r=as(n,t),i=e;do{switch(i.tag){case Z:var a=r;return Ta(i),i.updateQueue.capturedValues=[a],void(i.effectTag|=qr);case X:var s=i.type,u=i.stateNode;if((i.effectTag&Or)===wr&&("function"==typeof s.getDerivedStateFromCatch&&Li||null!==u&&"function"==typeof u.componentDidCatch&&!o(u))){Ta(i);var l=i.updateQueue,c=l.capturedValues;return null===c?l.capturedValues=[r]:c.push(r),void(i.effectTag|=qr)}}i=i.return}while(null!==i)},unwindWork:function(e){switch(e.tag){case X:s(e);var t=e.effectTag;return t&qr?(e.effectTag=t&~qr|Or,e):null;case Z:i(e),u(e);var n=e.effectTag;return n&qr?(e.effectTag=n&~qr|Or,e):null;case te:return a(e),null;case ee:return i(e),null;case le:return l(e),null;default:return null}},unwindInterruptedWork:function(e){switch(e.tag){case X:s(e);break;case Z:i(e),u(e);break;case te:a(e);break;case ee:i(e);break;case le:l(e)}}}}(n,i,s,0,ce),b=g.throwException,_=g.unwindWork,w=g.unwindInterruptedWork,x=ds(e,ge,0,0,function(e){null===$?$=new Set([e]):$.add(e)}),k=x.commitBeforeMutationLifeCycles,C=x.commitResetTextContent,S=x.commitPlacement,T=x.commitDeletion,E=x.commitWork,I=x.commitLifeCycles,O=x.commitErrorLogging,P=x.commitAttachRef,R=x.commitDetachRef,A=e.now,N=e.scheduleDeferredCallback,M=e.cancelDeferredCallback,q=e.prepareForCommit,L=e.resetAfterCommit,j=A(),D=(Xo(0),j),F=0,U=Qo,W=!1,B=null,H=null,z=Qo,V=null,K=!1,Q=!1,$=null,Y=null,J=void 0,G=void 0,ne=void 0,re=void 0,oe=void 0;function ie(){if(null!==B)for(var e=B.return;null!==e;)w(e),e=e.return;Si.discardPendingWarnings(),t.checkThatStackIsEmpty(),H=null,z=Qo,B=null,Q=!1}function ae(){for(;null!==V;){ln.setCurrentFiber(V),fa();var e=V.effectTag;if(e&Er&&C(V),e&Pr){var t=V.alternate;null!==t&&R(t)}switch(e&(kr|Cr|Tr)){case kr:S(V),V.effectTag&=~kr;break;case Sr:S(V),V.effectTag&=~kr;var n=V.alternate;E(n,V);break;case Cr:var r=V.alternate;E(r,V);break;case Tr:T(V)}V=V.nextEffect}ln.resetCurrentFiber()}function se(){for(;null!==V;){if(V.effectTag&Ar){fa();var e=V.alternate;k(e,V)}V=V.nextEffect}}function ue(e,t,n){for(Si.flushPendingUnsafeLifecycleWarnings(),Ui&&Si.flushPendingDeprecationWarnings();null!==V;){var r=V.effectTag;if(r&(Cr|Ir)){fa();var o=V.alternate;I(e,o,V,t,n)}r&Rr&&O(V,Ze),r&Pr&&(fa(),P(V));var i=V.nextEffect;V.nextEffect=null,V=i}}function ce(e){return null!==$&&$.has(e)}function fe(e){W=!0,K=!0,ba();var t=e.stateNode;t.current===e&&r(!1,"Cannot commit the same tree as before. This is probably a bug related to the return field. This error is likely caused by a bug in React. Please file an issue.");var n=t.pendingCommitExpirationTime;n===Qo&&r(!1,"Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue."),t.pendingCommitExpirationTime=Qo;var o=xe();Wt.current=null;var i=void 0;for(e.effectTag>xr?null!==e.lastEffect?(e.lastEffect.nextEffect=e,i=e.firstEffect):i=e:i=e.firstEffect,q(t.containerInfo),V=i,function(){if(Ni){if(!Wi)return;Yi=0,Zi("(Committing Snapshot Effects)")}}();null!==V;){var a=!1,s=void 0;vs(null,se,null),gs()&&(a=!0,s=bs()),a&&(null===V&&r(!1,"Should have next effect. This error is likely caused by a bug in React. Please file an issue."),ge(V,s),null!==V&&(V=V.nextEffect))}for(!function(){if(Ni){if(!Wi)return;var e=Yi;Yi=0,ea("(Committing Snapshot Effects: "+e+" Total)","(Committing Snapshot Effects)",null)}}(),V=i,function(){if(Ni){if(!Wi)return;Yi=0,Zi("(Committing Host Effects)")}}();null!==V;){var u=!1,l=void 0;vs(null,ae,null),gs()&&(u=!0,l=bs()),u&&(null===V&&r(!1,"Should have next effect. This error is likely caused by a bug in React. Please file an issue."),ge(V,l),null!==V&&(V=V.nextEffect))}for(!function(){if(Ni){if(!Wi)return;var e=Yi;Yi=0,ea("(Committing Host Effects: "+e+" Total)","(Committing Host Effects)",null)}}(),L(t.containerInfo),t.current=e,V=i,function(){if(Ni){if(!Wi)return;Yi=0,Zi("(Calling Lifecycle Methods)")}}();null!==V;){var c=!1,f=void 0;vs(null,ue,null,t,o,n),gs()&&(c=!0,f=bs()),c&&(null===V&&r(!1,"Should have next effect. This error is likely caused by a bug in React. Please file an issue."),ge(V,f),null!==V&&(V=V.nextEffect))}K=!1,W=!1,function(){if(Ni){if(!Wi)return;var e=Yi;Yi=0,ea("(Calling Lifecycle Methods: "+e+" Total)","(Calling Lifecycle Methods)",null)}}(),_a(),xi(e.stateNode),ys.debugTool&&ys.debugTool.onCommitWork(e);var d=t.current.expirationTime;return d===Qo&&($=null),d}function de(e,t){if(t===Yo||e.expirationTime!==Yo){for(var n=function(e){switch(e.tag){case Z:case X:var t=e.updateQueue;return null===t?Qo:t.expirationTime;default:return Qo}}(e),r=e.child;null!==r;)r.expirationTime!==Qo&&(n===Qo||n>r.expirationTime)&&(n=r.expirationTime),r=r.sibling;e.expirationTime=n}}function pe(e){for(;;){var t=e.alternate;ln.setCurrentFiber(e);var n=e.return,r=e.sibling;if((e.effectTag&Mr)===wr){var o=v(t,e,z);if(ha(e),de(e,z),ln.resetCurrentFiber(),null!==o)return ha(e),ys.debugTool&&ys.debugTool.onCompleteWork(e),o;if(null!==n&&(n.effectTag&Mr)===wr)null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),e.effectTag>xr&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e);if(ys.debugTool&&ys.debugTool.onCompleteWork(e),null!==r)return r;if(null!==n){e=n;continue}return Q=!0,null}var i=_(e);if(e.effectTag&Or?ya(e):ha(e),ln.resetCurrentFiber(),null!==i)return ha(e),ys.debugTool&&ys.debugTool.onCompleteWork(e),i.effectTag&=Nr,i;if(null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=Mr),ys.debugTool&&ys.debugTool.onCompleteWork(e),null!==r)return r;if(null===n)return null;e=n}return null}function he(e){var t=e.alternate;!function(e){if(Ni){if(!Wi||aa(e))return;if(Bi=e,!ra(e,null))return;e._debugIsCurrentlyTiming=!0}}(e),ln.setCurrentFiber(e),Fi&&(J=mi(J,e));var n=m(t,e,z);return ln.resetCurrentFiber(),ne&&oe(),ys.debugTool&&ys.debugTool.onBeginWork(e),null===n&&(n=pe(e)),Wt.current=null,n}function ye(e){if(e)for(;null!==B&&!Xe();)B=he(B);else for(;null!==B;)B=he(B)}function me(e,n,o){W&&r(!1,"renderRoot was called recursively. This error is likely caused by a bug in React. Please file an issue."),W=!0,n===z&&e===H&&null!==B||(ie(),z=n,B=ci((H=e).current,null,z),e.pendingCommitExpirationTime=Qo);var i=!1;for(!function(e){if(Ni){if(Bi=e,!Wi)return;$i=0,Zi("(React Tree Reconciliation)"),ca()}}(B);;){try{ye(o)}catch(e){if(null===B){i=!0,Ze(e);break}if(Fi)G(B,e,o);var a=B,s=a.return;if(null===s){i=!0,Ze(e);break}b(s,a,e),B=pe(a)}break}var u=!1;return W=!1,i?(ga(Y,u),Y=null,t.resetStackAfterFatalErrorInDev(),null):null!==B?(ga(Y,u),Y=null,null):Q?(ga(Y,u=!0),Y=null,e.pendingCommitExpirationTime=n,e.current.alternate):(ga(Y,u),Y=null,void r(!1,"Expired work should have completed. This error is likely caused by a bug in React. Please file an issue."))}function ve(e,t,n,r){Ea(t,{expirationTime:r,partialState:null,callback:null,isReplace:!1,isForced:!1,capturedValue:as(n,e),next:null}),we(t,r)}function ge(e,t){return function(e,t,n){W&&!K&&r(!1,"dispatch: Cannot dispatch during the render phase.");for(var o=e.return;null!==o;){switch(o.tag){case X:var i=o.type,a=o.stateNode;if("function"==typeof i.getDerivedStateFromCatch||"function"==typeof a.componentDidCatch&&!ce(a))return void ve(e,o,t,n);break;case Z:return void ve(e,o,t,n)}o=o.return}e.tag===Z&&ve(e,e,t,n)}(e,t,$o)}function be(e){return ei(e,5e3,250)}function _e(e){var t=void 0;if(U!==Qo)t=U;else if(W)t=K?$o:z;else{if(e.mode&ni)if(De)t=function(e){return ei(e,500,100)}(xe());else t=be(xe());else t=$o}return De&&(Re===Qo||t>Re)&&(Re=t),t}function we(e,t){return function(e,t,n){if(da(),!n&&e.tag===X){var o=e.stateNode;ks(o)}var i=e;for(;null!==i;){if((i.expirationTime===Qo||i.expirationTime>t)&&(i.expirationTime=t),null!==i.alternate&&(i.alternate.expirationTime===Qo||i.alternate.expirationTime>t)&&(i.alternate.expirationTime=t),null===i.return){if(i.tag!==Z)return void(n||e.tag!==X||xs(e));var a=i.stateNode;!W&&z!==Qo&&t<z&&(Y=e,ie()),W&&!K&&H===a||ze(a,t),We>Ue&&r(!1,"Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.")}i=i.return}}(e,t,!1)}function xe(){return D=A()-j,Xo(D)}function ke(e,t,n,r,o){var i=U;U=$o;try{return e(t,n,r,o)}finally{U=i}}Fi&&(J=null,ne=!1,re=null,G=function(e,t,n){switch(mi(e,J),e.tag){case Z:c(e),f(e);break;case te:l(e);break;case X:p(e);break;case ee:c(e);break;case le:h(e)}ne=!0,re=t,vs(null,ye,null,n),ne=!1,re=null,gs()?bs():B=e},oe=function(){throw re});var Ce=null,Se=null,Te=Qo,Ee=-1,Ie=!1,Oe=null,Pe=Qo,Re=Qo,Ae=!1,Ne=!1,Me=null,qe=null,Le=!1,je=!1,De=!1,Fe=null,Ue=1e3,We=0,Be=1;function He(e){if(Te!==Qo){if(e>Te)return;M(Ee)}else Ni&&Wi&&!Ji&&(Ji=!0,Zi("(Waiting for async callback...)"));var t=A()-j,n=Zo(e);Te=e,Ee=N(Ke,{timeout:n-t})}function ze(e,t){!function(e,t){if(null===e.nextScheduledRoot)e.remainingExpirationTime=t,null===Se?(Ce=Se=e,e.nextScheduledRoot=e):(Se.nextScheduledRoot=e,(Se=e).nextScheduledRoot=Ce);else{var n=e.remainingExpirationTime;(n===Qo||t<n)&&(e.remainingExpirationTime=t)}}(e,t),Ie||(Le?je&&(Oe=e,Pe=$o,Je(e,$o,!1)):t===$o?Qe():He(t))}function Ve(){var e=Qo,t=null;if(null!==Se)for(var n=Se,o=Ce;null!==o;){var i=o.remainingExpirationTime;if(i===Qo){if((null===n||null===Se)&&r(!1,"Should have a previous and last root. This error is likely caused by a bug in React. Please file an issue."),o===o.nextScheduledRoot){o.nextScheduledRoot=null,Ce=Se=null;break}if(o===Ce){var a=o.nextScheduledRoot;Ce=a,Se.nextScheduledRoot=a,o.nextScheduledRoot=null}else{if(o===Se){(Se=n).nextScheduledRoot=Ce,o.nextScheduledRoot=null;break}n.nextScheduledRoot=o.nextScheduledRoot,o.nextScheduledRoot=null}o=n.nextScheduledRoot}else{if((e===Qo||i<e)&&(e=i,t=o),o===Se)break;n=o,o=o.nextScheduledRoot}}null!==Oe&&Oe===t&&e===$o?We++:We=0,Oe=t,Pe=e}function Ke(e){$e(Qo,!0,e)}function Qe(){$e($o,!1,null)}function $e(e,t,n){(qe=n,Ve(),Ni&&null!==qe)&&function(e,t){Ni&&Wi&&(Ji=!1,ea("(Waiting for async callback... will force flush in "+t+" ms)","(Waiting for async callback...)",e?"React was blocked by main thread":null))}(Pe<xe(),Zo(Pe));if(t)for(;null!==Oe&&Pe!==Qo&&(e===Qo||e>=Pe)&&(!Ae||xe()>=Pe);)Je(Oe,Pe,!Ae),Ve();else for(;null!==Oe&&Pe!==Qo&&(e===Qo||e>=Pe);)Je(Oe,Pe,!1),Ve();null!==qe&&(Te=Qo,Ee=-1),Pe!==Qo&&He(Pe),qe=null,Ae=!1,Ye()}function Ye(){if(We=0,null!==Fe){var e=Fe;Fe=null;for(var t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(r){Ne||(Ne=!0,Me=r)}}}if(Ne){var r=Me;throw Me=null,Ne=!1,r}}function Je(e,t,n){if(Ie&&r(!1,"performWorkOnRoot was called recursively. This error is likely caused by a bug in React. Please file an issue."),Ie=!0,n){var o=e.finishedWork;null!==o?Ge(e,o,t):(e.finishedWork=null,null!==(o=me(e,t,!0))&&(Xe()?e.finishedWork=o:Ge(e,o,t)))}else{var i=e.finishedWork;null!==i?Ge(e,i,t):(e.finishedWork=null,null!==(i=me(e,t,!1))&&Ge(e,i,t))}Ie=!1}function Ge(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime<=n&&(null===Fe?Fe=[r]:Fe.push(r),r._defer))return e.finishedWork=t,void(e.remainingExpirationTime=Qo);e.finishedWork=null,e.remainingExpirationTime=fe(t)}function Xe(){return null!==qe&&(!(qe.timeRemaining()>Be)&&(Ae=!0,!0))}function Ze(e){null===Oe&&r(!1,"Should be working on a root. This error is likely caused by a bug in React. Please file an issue."),Oe.remainingExpirationTime=Qo,Ne||(Ne=!0,Me=e)}return{recalculateCurrentTime:xe,computeExpirationForFiber:_e,scheduleWork:we,requestWork:ze,flushRoot:function(e,t){Ie&&r(!1,"work.commit(): Cannot commit while already rendering. This likely means you attempted to commit from inside a lifecycle method."),Oe=e,Pe=t,Je(e,t,!1),Qe(),Ye()},batchedUpdates:function(e,t){var n=Le;Le=!0;try{return e(t)}finally{(Le=n)||Ie||Qe()}},unbatchedUpdates:function(e,t){if(Le&&!je){je=!0;try{return e(t)}finally{je=!1}}return e(t)},flushSync:function(e,t){Ie&&r(!1,"flushSync was called from inside a lifecycle method. It cannot be called when React is already rendering.");var n=Le;Le=!0;try{return ke(e,t)}finally{Le=n,Qe()}},flushControlled:function(e){var t=Le;Le=!0;try{ke(e)}finally{(Le=t)||Ie||$e($o,!1,null)}},deferredUpdates:function(e){var t=U,n=xe();U=be(n);try{return e()}finally{U=t}},syncUpdates:ke,interactiveUpdates:function(e,t,n){if(De)return e(t,n);Le||Ie||Re===Qo||($e(Re,!1,null),Re=Qo);var r=De,o=Le;De=!0,Le=!0;try{return e(t,n)}finally{De=r,(Le=o)||Ie||Qe()}},flushInteractiveUpdates:function(){Ie||Re===Qo||($e(Re,!1,null),Re=Qo)},computeUniqueAsyncExpiration:function(){var e=be(xe());return e<=F&&(e=F+1),F=e},legacyContext:i}},Ts=void 0;Ts=!1;var Es=function(e){var t=e.getPublicInstance,n=Ss(e),r=n.computeUniqueAsyncExpiration,i=n.recalculateCurrentTime,s=n.computeExpirationForFiber,u=n.scheduleWork,l=n.requestWork,c=n.flushRoot,f=n.batchedUpdates,p=n.unbatchedUpdates,h=n.flushSync,y=n.flushControlled,m=n.deferredUpdates,v=n.syncUpdates,g=n.interactiveUpdates,b=n.flushInteractiveUpdates,_=n.legacyContext,w=_.findCurrentUnmaskedContext,x=_.isContextProvider,k=_.processChildContext;function C(e,t,n,r,i,a){var s=t.current;ys.debugTool&&(null===s.alternate?ys.debugTool.onMountContainer(t):null===e?ys.debugTool.onUnmountContainer(t):ys.debugTool.onUpdateContainer(t));var l=function(e){if(!e)return d;var t=_r(e),n=w(t);return x(t)?k(t,n):n}(n);return null===t.context?t.context=l:t.pendingContext=l,function(e,t,n,r,i){return"render"!==ln.phase||null===ln.current||Ts||(Ts=!0,o(!1,"Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.\n\nCheck the render method of %s.",on(ln.current)||"Unknown")),o(null===(i=void 0===i?null:i)||"function"==typeof i,"render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",i),Ea(e,{expirationTime:r,partialState:{element:t},callback:i,isReplace:!1,isForced:!1,capturedValue:null,next:null}),u(e,r),r}(s,e,0,i,a)}function S(e){var t=function(e){var t=Hr(e);if(!t)return null;for(var n=t;;){if(n.tag===te||n.tag===ne)return n;if(n.child)n.child.return=n,n=n.child;else{if(n===t)return null;for(;!n.sibling;){if(!n.return||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}(e);return null===t?null:t.stateNode}return{createContainer:function(e,t,n){return vi(e,t,n)},updateContainer:function(e,t,n,r){var o=t.current;i();return C(e,t,n,0,s(o),r)},updateContainerAtExpirationTime:function(e,t,n,r,o){i();return C(e,t,n,0,r,o)},flushRoot:c,requestWork:l,computeUniqueAsyncExpiration:r,batchedUpdates:f,unbatchedUpdates:p,deferredUpdates:m,syncUpdates:v,interactiveUpdates:g,flushInteractiveUpdates:b,flushControlled:y,flushSync:h,getPublicRootInstance:function(e){var n=e.current;if(!n.child)return null;switch(n.child.tag){case te:return t(n.child.stateNode);default:return n.child.stateNode}},findHostInstance:S,findHostInstanceWithNoPortals:function(e){var t=function(e){var t=Hr(e);if(!t)return null;for(var n=t;;){if(n.tag===te||n.tag===ne)return n;if(n.child&&n.tag!==ee)n.child.return=n,n=n.child;else{if(n===t)return null;for(;!n.sibling;){if(!n.return||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}(e);return null===t?null:t.stateNode},injectIntoDevTools:function(e){var t=e.findFiberByHostInstance;return function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled)return!0;if(!t.supportsFiber)return o(!1,"The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://fb.me/react-devtools"),!0;try{var n=t.inject(e);gi=wi(function(e){return t.onCommitFiberRoot(n,e)}),bi=wi(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){o(!1,"React DevTools encountered an error: %s.",e)}return!0}(a({},e,{findHostInstanceByFiber:function(e){return S(e)},findFiberByHostInstance:function(e){return t?t(e):null}}))}}},Is=Object.freeze({default:Es}),Os=Is&&Es||Is,Ps=Os.default?Os.default:Os;i.canUseDOM&&"function"!=typeof requestAnimationFrame&&o(!1,"React depends on requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills");var Rs="object"==typeof performance&&"function"==typeof performance.now,As=void 0;As=Rs?function(){return performance.now()}:function(){return Date.now()};var Ns=void 0,Ms=void 0;if(i.canUseDOM)if("function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback){var qs=null,Ls=!1,js=-1,Ds=!1,Fs=0,Us=33,Ws=33,Bs=void 0;Bs=Rs?{didTimeout:!1,timeRemaining:function(){var e=Fs-performance.now();return e>0?e:0}}:{didTimeout:!1,timeRemaining:function(){var e=Fs-Date.now();return e>0?e:0}};var Hs="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===Hs){Ls=!1;var t=As();if(Fs-t<=0){if(!(-1!==js&&js<=t))return void(Ds||(Ds=!0,requestAnimationFrame(zs)));Bs.didTimeout=!0}else Bs.didTimeout=!1;js=-1;var n=qs;qs=null,null!==n&&n(Bs)}},!1);var zs=function(e){Ds=!1;var t=e-Fs+Ws;t<Ws&&Us<Ws?(t<8&&(t=8),Ws=t<Us?Us:t):Us=t,Fs=e+Ws,Ls||(Ls=!0,window.postMessage(Hs,"*"))};Ns=function(e,t){return qs=e,null!=t&&"number"==typeof t.timeout&&(js=As()+t.timeout),Ds||(Ds=!0,requestAnimationFrame(zs)),0},Ms=function(){qs=null,Ls=!1,js=-1}}else Ns=window.requestIdleCallback,Ms=window.cancelIdleCallback;else Ns=function(e){return setTimeout(function(){e({timeRemaining:function(){return 1/0},didTimeout:!1})})},Ms=function(e){clearTimeout(e)};var Vs=!1;function Ks(e,t){null==t.selected||Vs||(o(!1,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),Vs=!0)}function Qs(e,n){var r=a({children:void 0},n),o=function(e){var n="";return t.Children.forEach(e,function(e){null!=e&&("string"!=typeof e&&"number"!=typeof e||(n+=e))}),n}(n.children);return o&&(r.children=o),r}var $s=ln.getCurrentFiberOwnerName,Ys=ln.getCurrentFiberStackAddendum,Js=void 0;function Gs(){var e=$s();return e?"\n\nCheck the render method of `"+e+"`.":""}Js=!1;var Xs=["value","defaultValue"];function Zs(e,t,n,r){var o=e.options;if(t){for(var i=n,a={},s=0;s<i.length;s++)a["$"+i[s]]=!0;for(var u=0;u<o.length;u++){var l=a.hasOwnProperty("$"+o[u].value);o[u].selected!==l&&(o[u].selected=l),l&&r&&(o[u].defaultSelected=!0)}}else{for(var c=""+n,f=null,d=0;d<o.length;d++){if(o[d].value===c)return o[d].selected=!0,void(r&&(o[d].defaultSelected=!0));null!==f||o[d].disabled||(f=o[d])}null!==f&&(f.selected=!0)}}function eu(e,t){return a({},t,{value:void 0})}function tu(e,t){var n=e;!function(e){Mn.checkPropTypes("select",e,Ys);for(var t=0;t<Xs.length;t++){var n=Xs[t];if(null!=e[n]){var r=Array.isArray(e[n]);e.multiple&&!r?o(!1,"The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",n,Gs()):!e.multiple&&r&&o(!1,"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",n,Gs())}}}(t);var r=t.value;n._wrapperState={initialValue:null!=r?r:t.defaultValue,wasMultiple:!!t.multiple},void 0===t.value||void 0===t.defaultValue||Js||(o(!1,"Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://fb.me/react-controlled-components"),Js=!0)}var nu=ln.getCurrentFiberStackAddendum,ru=!1;function ou(e,t){var n=e;return null!=t.dangerouslySetInnerHTML&&r(!1,"`dangerouslySetInnerHTML` does not make sense on <textarea>."),a({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function iu(e,t){var n=e;Mn.checkPropTypes("textarea",t,nu),void 0===t.value||void 0===t.defaultValue||ru||(o(!1,"Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://fb.me/react-controlled-components"),ru=!0);var i=t.value;if(null==i){var a=t.defaultValue,s=t.children;null!=s&&(o(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."),null!=a&&r(!1,"If you supply `defaultValue` on a <textarea>, do not pass children."),Array.isArray(s)&&(s.length<=1||r(!1,"<textarea> can only have at most one child."),s=s[0]),a=""+s),null==a&&(a=""),i=a}n._wrapperState={initialValue:""+i}}function au(e,t){var n=e,r=t.value;if(null!=r){var o=""+r;o!==n.value&&(n.value=o),null==t.defaultValue&&(n.defaultValue=o)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)}function su(e,t){var n=e,r=n.textContent;r===n._wrapperState.initialValue&&(n.value=r)}var uu="http://www.w3.org/1999/xhtml",lu="http://www.w3.org/1998/Math/MathML",cu="http://www.w3.org/2000/svg",fu={html:uu,mathml:lu,svg:cu};function du(e){switch(e){case"svg":return cu;case"math":return lu;default:return uu}}function pu(e,t){return null==e||e===uu?du(t):e===cu&&"foreignObject"===t?uu:e}var hu,yu=void 0,mu=(hu=function(e,t){if(e.namespaceURI!==fu.svg||"innerHTML"in e)e.innerHTML=t;else{(yu=yu||document.createElement("div")).innerHTML="<svg>"+t+"</svg>";for(var n=yu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return hu(e,t,n,r)})}:hu),vu=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===Pt)return void(n.nodeValue=t)}e.textContent=t},gu={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};var bu=["Webkit","ms","Moz","O"];function _u(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||gu.hasOwnProperty(e)&&gu[e]?(""+t).trim():t+"px"}Object.keys(gu).forEach(function(e){bu.forEach(function(t){gu[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=gu[e]})});var wu=/^(?:webkit|moz|o)[A-Z]/,xu=/;\s*$/,ku={},Cu={},Su=!1,Tu=!1,Eu=function(e,t,n){e.indexOf("-")>-1?function(e,t){ku.hasOwnProperty(e)&&ku[e]||(ku[e]=!0,o(!1,"Unsupported style property %s. Did you mean %s?%s",e,h(e),t()))}(e,n):wu.test(e)?function(e,t){ku.hasOwnProperty(e)&&ku[e]||(ku[e]=!0,o(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?%s",e,e.charAt(0).toUpperCase()+e.slice(1),t()))}(e,n):xu.test(t)&&function(e,t,n){Cu.hasOwnProperty(t)&&Cu[t]||(Cu[t]=!0,o(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.%s',e,t.replace(xu,""),n()))}(e,t,n),"number"==typeof t&&(isNaN(t)?function(e,t,n){Su||(Su=!0,o(!1,"`NaN` is an invalid value for the `%s` css style property.%s",e,n()))}(e,0,n):isFinite(t)||function(e,t,n){Tu||(Tu=!0,o(!1,"`Infinity` is an invalid value for the `%s` css style property.%s",e,n()))}(e,0,n))};function Iu(e){var t="",n="";for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];if(null!=o){var i=0===r.indexOf("--");t+=n+p(r)+":",t+=_u(r,o,i),n=";"}}return t||null}function Ou(e,t,n){var r=e.style;for(var o in t)if(t.hasOwnProperty(o)){var i=0===o.indexOf("--");i||Eu(o,t[o],n);var a=_u(o,t[o],i);"float"===o&&(o="cssFloat"),i?r.setProperty(o,a):r[o]=a}}var Pu=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Ru="__html";function Au(e,t,n){t&&(Pu[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&r(!1,"%s is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.%s",e,n()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&r(!1,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."),"object"==typeof t.dangerouslySetInnerHTML&&Ru in t.dangerouslySetInnerHTML||r(!1,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information.")),o(t.suppressContentEditableWarning||!t.contentEditable||null==t.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional.%s",n()),null!=t.style&&"object"!=typeof t.style&&r(!1,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",n()))}function Nu(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",download:"download",draggable:"draggable",enctype:"encType",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},qu={"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},Lu={},ju=new RegExp("^(aria)-["+vn+"]*$"),Du=new RegExp("^(aria)[A-Z]["+vn+"]*$"),Fu=Object.prototype.hasOwnProperty;function Uu(){var e=Bt.getStackAddendum();return null!=e?e:""}function Wu(e,t){if(Fu.call(Lu,t)&&Lu[t])return!0;if(Du.test(t)){var n="aria-"+t.slice(4).toLowerCase(),r=qu.hasOwnProperty(n)?n:null;if(null==r)return o(!1,"Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.%s",t,Uu()),Lu[t]=!0,!0;if(t!==r)return o(!1,"Invalid ARIA attribute `%s`. Did you mean `%s`?%s",t,r,Uu()),Lu[t]=!0,!0}if(ju.test(t)){var i=t.toLowerCase(),a=qu.hasOwnProperty(i)?i:null;if(null==a)return Lu[t]=!0,!1;if(t!==a)return o(!1,"Unknown ARIA attribute `%s`. Did you mean `%s`?%s",t,a,Uu()),Lu[t]=!0,!0}return!0}function Bu(e,t){Nu(e,t)||function(e,t){var n=[];for(var r in t)Wu(0,r)||n.push(r);var i=n.map(function(e){return"`"+e+"`"}).join(", ");1===n.length?o(!1,"Invalid aria prop %s on <%s> tag. For details, see https://fb.me/invalid-aria-prop%s",i,e,Uu()):n.length>1&&o(!1,"Invalid aria props %s on <%s> tag. For details, see https://fb.me/invalid-aria-prop%s",i,e,Uu())}(e,t)}var Hu=!1;function zu(){var e=Bt.getStackAddendum();return null!=e?e:""}function Vu(){var e=Bt.getStackAddendum();return null!=e?e:""}var Ku,Qu={},$u=Object.prototype.hasOwnProperty,Yu=/^on./,Ju=/^on[^A-Z]/,Gu=new RegExp("^(aria)-["+vn+"]*$"),Xu=new RegExp("^(aria)[A-Z]["+vn+"]*$");Ku=function(e,t,n,r){if($u.call(Qu,t)&&Qu[t])return!0;var i=t.toLowerCase();if("onfocusin"===i||"onfocusout"===i)return o(!1,"React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),Qu[t]=!0,!0;if(r){if(E.hasOwnProperty(t))return!0;var a=O.hasOwnProperty(i)?O[i]:null;if(null!=a)return o(!1,"Invalid event handler property `%s`. Did you mean `%s`?%s",t,a,Vu()),Qu[t]=!0,!0;if(Yu.test(t))return o(!1,"Unknown event handler property `%s`. It will be ignored.%s",t,Vu()),Qu[t]=!0,!0}else if(Yu.test(t))return Ju.test(t)&&o(!1,"Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.%s",t,Vu()),Qu[t]=!0,!0;if(Gu.test(t)||Xu.test(t))return!0;if("innerhtml"===i)return o(!1,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),Qu[t]=!0,!0;if("aria"===i)return o(!1,"The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),Qu[t]=!0,!0;if("is"===i&&null!==n&&void 0!==n&&"string"!=typeof n)return o(!1,"Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.%s",typeof n,Vu()),Qu[t]=!0,!0;if("number"==typeof n&&isNaN(n))return o(!1,"Received NaN for the `%s` attribute. If this is expected, cast the value to a string.%s",t,Vu()),Qu[t]=!0,!0;var s=Tn(t),u=null!==s&&s.type===cn;if(Mu.hasOwnProperty(i)){var l=Mu[i];if(l!==t)return o(!1,"Invalid DOM property `%s`. Did you mean `%s`?%s",t,l,Vu()),Qu[t]=!0,!0}else if(!u&&t!==i)return o(!1,"React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.%s",t,i,Vu()),Qu[t]=!0,!0;return"boolean"==typeof n&&Cn(t,n,s,!1)?(n?o(!1,'Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.%s',n,t,t,n,t,Vu()):o(!1,'Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.%s',n,t,t,n,t,t,t,Vu()),Qu[t]=!0,!0):!!u||(!Cn(t,n,s,!1)||(Qu[t]=!0,!1))};var Zu=function(e,t,n){var r=[];for(var i in t){Ku(0,i,t[i],n)||r.push(i)}var a=r.map(function(e){return"`"+e+"`"}).join(", ");1===r.length?o(!1,"Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://fb.me/react-attribute-behavior%s",a,e,Vu()):r.length>1&&o(!1,"Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://fb.me/react-attribute-behavior%s",a,e,Vu())};var el,tl=ln.getCurrentFiberOwnerName,nl=ln.getCurrentFiberStackAddendum,rl=!1,ol=!1,il="dangerouslySetInnerHTML",al="suppressContentEditableWarning",sl="suppressHydrationWarning",ul="autoFocus",ll="children",cl="style",fl="__html",dl=fu.html,pl=s.thatReturns(""),hl=void 0,yl=void 0,ml=void 0,vl=void 0,gl=void 0,bl=void 0,_l=void 0,wl=void 0;pl=nl,hl={time:!0,dialog:!0},ml=function(e,t){Bu(e,t),function(e,t){"input"!==e&&"textarea"!==e&&"select"!==e||null==t||null!==t.value||Hu||(Hu=!0,"select"===e&&t.multiple?o(!1,"`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.%s",e,zu()):o(!1,"`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.%s",e,zu()))}(e,t),function(e,t,n){Nu(e,t)||Zu(e,t,n)}(e,t,!0)};var xl=/\r\n?/g,kl=/\u0000|\uFFFD/g;function Cl(e,t){!function(e,t){for(var n=t,r=Po(n),o=I[e],i=0;i<o.length;i++){var a=o[i];r.hasOwnProperty(a)&&r[a]||("topScroll"===a?mo("topScroll","scroll",n):"topFocus"===a||"topBlur"===a?(mo("topFocus","focus",n),mo("topBlur","blur",n),r.topBlur=!0,r.topFocus=!0):"topCancel"===a?(qt("cancel",!0)&&mo("topCancel","cancel",n),r.topCancel=!0):"topClose"===a?(qt("close",!0)&&mo("topClose","close",n),r.topClose=!0):So.hasOwnProperty(a)&&yo(a,So[a],n),r[a]=!0)}}(t,e.nodeType===At||e.nodeType===Nt?e:e.ownerDocument)}function Sl(e){return e.nodeType===At?e:e.ownerDocument}function Tl(e){e.onclick=s}function El(e,t,n,r){var i=void 0,a=Sl(n),s=void 0,u=r;if(u===dl&&(u=du(e)),u===dl)if(i=Nu(e,t),o(i||e===e.toLowerCase(),"<%s /> is using uppercase HTML. Always use lowercase HTML tags in React.",e),"script"===e){var l=a.createElement("div");l.innerHTML="<script><\/script>";var c=l.firstChild;s=l.removeChild(c)}else s="string"==typeof t.is?a.createElement(e,{is:t.is}):a.createElement(e);else s=a.createElementNS(u,e);return u===dl&&(i||"[object HTMLUnknownElement]"!==Object.prototype.toString.call(s)||Object.prototype.hasOwnProperty.call(hl,e)||(hl[e]=!0,o(!1,"The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",e))),s}function Il(e,t){return Sl(t).createTextNode(e)}function Ol(e,t,n,r){var i=Nu(t,n);ml(t,n),i&&!ol&&e.shadyRoot&&(o(!1,"%s is using shady DOM. Using shady DOM with React can cause things to break subtly.",tl()||"A component"),ol=!0);var a=void 0;switch(t){case"iframe":case"object":yo("topLoad","load",e),a=n;break;case"video":case"audio":for(var s in To)To.hasOwnProperty(s)&&yo(s,To[s],e);a=n;break;case"source":yo("topError","error",e),a=n;break;case"img":case"image":case"link":yo("topError","error",e),yo("topLoad","load",e),a=n;break;case"form":yo("topReset","reset",e),yo("topSubmit","submit",e),a=n;break;case"details":yo("topToggle","toggle",e),a=n;break;case"input":Vn(e,n),a=zn(e,n),yo("topInvalid","invalid",e),Cl(r,"onChange");break;case"option":Ks(0,n),a=Qs(0,n);break;case"select":tu(e,n),a=eu(0,n),yo("topInvalid","invalid",e),Cl(r,"onChange");break;case"textarea":iu(e,n),a=ou(e,n),yo("topInvalid","invalid",e),Cl(r,"onChange");break;default:a=n}switch(Au(t,a,pl),function(e,t,n,r,o){for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];if(i===cl)a&&Object.freeze(a),Ou(t,a,pl);else if(i===il){var s=a?a[fl]:void 0;null!=s&&mu(t,s)}else i===ll?"string"==typeof a?("textarea"!==e||""!==a)&&vu(t,a):"number"==typeof a&&vu(t,""+a):i===al||i===sl||i===ul||(E.hasOwnProperty(i)?null!=a&&("function"!=typeof a&&_l(i,a),Cl(n,i)):null!=a&&Nn(t,i,a,o))}}(t,e,r,a,i),t){case"input":Dt(e),$n(e,n);break;case"textarea":Dt(e),su(e);break;case"option":!function(e,t){null!=t.value&&e.setAttribute("value",t.value)}(e,n);break;case"select":!function(e,t){var n=e;n.multiple=!!t.multiple;var r=t.value;null!=r?Zs(n,!!t.multiple,r,!1):null!=t.defaultValue&&Zs(n,!!t.multiple,t.defaultValue,!0)}(e,n);break;default:"function"==typeof a.onClick&&Tl(e)}}function Pl(e,t,n,r,o){ml(t,r);var i=null,a=void 0,s=void 0;switch(t){case"input":a=zn(e,n),s=zn(e,r),i=[];break;case"option":a=Qs(0,n),s=Qs(0,r),i=[];break;case"select":a=eu(0,n),s=eu(0,r),i=[];break;case"textarea":a=ou(e,n),s=ou(e,r),i=[];break;default:s=r,"function"!=typeof(a=n).onClick&&"function"==typeof s.onClick&&Tl(e)}Au(t,s,pl);var u=void 0,l=void 0,c=null;for(u in a)if(!s.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if(u===cl){var f=a[u];for(l in f)f.hasOwnProperty(l)&&(c||(c={}),c[l]="")}else u===il||u===ll||u===al||u===sl||u===ul||(E.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var d=s[u],p=null!=a?a[u]:void 0;if(s.hasOwnProperty(u)&&d!==p&&(null!=d||null!=p))if(u===cl)if(d&&Object.freeze(d),p){for(l in p)!p.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(c||(c={}),c[l]="");for(l in d)d.hasOwnProperty(l)&&p[l]!==d[l]&&(c||(c={}),c[l]=d[l])}else c||(i||(i=[]),i.push(u,c)),c=d;else if(u===il){var h=d?d[fl]:void 0,y=p?p[fl]:void 0;null!=h&&y!==h&&(i=i||[]).push(u,""+h)}else u===ll?p===d||"string"!=typeof d&&"number"!=typeof d||(i=i||[]).push(u,""+d):u===al||u===sl||(E.hasOwnProperty(u)?(null!=d&&("function"!=typeof d&&_l(u,d),Cl(o,u)),i||p===d||(i=[])):(i=i||[]).push(u,d))}return c&&(i=i||[]).push(cl,c),i}function Rl(e,t,n,r,o){"input"===n&&"radio"===o.type&&null!=o.name&&Kn(e,o);Nu(n,r);switch(function(e,t,n,r){for(var o=0;o<t.length;o+=2){var i=t[o],a=t[o+1];i===cl?Ou(e,a,pl):i===il?mu(e,a):i===ll?vu(e,a):Nn(e,i,a,r)}}(e,t,0,Nu(n,o)),n){case"input":Qn(e,o);break;case"textarea":au(e,o);break;case"select":!function(e,t){var n=e;n._wrapperState.initialValue=void 0;var r=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!t.multiple;var o=t.value;null!=o?Zs(n,!!t.multiple,o,!1):r!==!!t.multiple&&(null!=t.defaultValue?Zs(n,!!t.multiple,t.defaultValue,!0):Zs(n,!!t.multiple,t.multiple?[]:"",!1))}(e,o)}}function Al(e,t,n,r,i){var a,s=void 0;switch(yl=!0===n[sl],a=Nu(t,n),ml(t,n),a&&!ol&&e.shadyRoot&&(o(!1,"%s is using shady DOM. Using shady DOM with React can cause things to break subtly.",tl()||"A component"),ol=!0),t){case"iframe":case"object":yo("topLoad","load",e);break;case"video":case"audio":for(var u in To)To.hasOwnProperty(u)&&yo(u,To[u],e);break;case"source":yo("topError","error",e);break;case"img":case"image":case"link":yo("topError","error",e),yo("topLoad","load",e);break;case"form":yo("topReset","reset",e),yo("topSubmit","submit",e);break;case"details":yo("topToggle","toggle",e);break;case"input":Vn(e,n),yo("topInvalid","invalid",e),Cl(i,"onChange");break;case"option":Ks(0,n);break;case"select":tu(e,n),yo("topInvalid","invalid",e),Cl(i,"onChange");break;case"textarea":iu(e,n),yo("topInvalid","invalid",e),Cl(i,"onChange")}Au(t,n,pl),s=new Set;for(var l=e.attributes,c=0;c<l.length;c++){switch(l[c].name.toLowerCase()){case"data-reactroot":case"value":case"checked":case"selected":break;default:s.add(l[c].name)}}var f,d=null;for(var p in n)if(n.hasOwnProperty(p)){var h=n[p];if(p===ll)"string"==typeof h?e.textContent!==h&&(yl||vl(e.textContent,h),d=[ll,h]):"number"==typeof h&&e.textContent!==""+h&&(yl||vl(e.textContent,h),d=[ll,""+h]);else if(E.hasOwnProperty(p))null!=h&&("function"!=typeof h&&_l(p,h),Cl(i,p));else if("boolean"==typeof a){var y=void 0,m=Tn(p);if(yl);else if(p===al||p===sl||"value"===p||"checked"===p||"selected"===p);else if(p===il){var v=h&&h[fl]||"",g=e.innerHTML,b=wl(e,v);b!==g&&gl(p,g,b)}else if(p===cl){s.delete(p);var _=Iu(h);_!==(y=e.getAttribute("style"))&&gl(p,y,_)}else if(a)s.delete(p.toLowerCase()),h!==(y=An(e,p,h))&&gl(p,y,h);else if(!kn(p,m,a)&&!Sn(p,h,m,a)){var w=!1;if(null!==m)s.delete(m.attributeName),y=Rn(e,p,h,m);else{var x=r;if(x===dl&&(x=du(t)),x===dl)s.delete(p.toLowerCase());else{var k=(void 0,f=p.toLowerCase(),Mu.hasOwnProperty(f)&&Mu[f]||null);null!==k&&k!==p&&(w=!0,s.delete(k)),s.delete(p)}y=An(e,p,h)}h===y||w||gl(p,y,h)}}}switch(s.size>0&&!yl&&bl(s),t){case"input":Dt(e),$n(e,n);break;case"textarea":Dt(e),su(e);break;case"select":case"option":break;default:"function"==typeof n.onClick&&Tl(e)}return d}function Nl(e,t){return e.nodeValue!==t}function Ml(e,t){vl(e.nodeValue,t)}function ql(e,t){rl||(rl=!0,o(!1,"Did not expect server HTML to contain a <%s> in <%s>.",t.nodeName.toLowerCase(),e.nodeName.toLowerCase()))}function Ll(e,t){rl||(rl=!0,o(!1,'Did not expect server HTML to contain the text node "%s" in <%s>.',t.nodeValue,e.nodeName.toLowerCase()))}function jl(e,t,n){rl||(rl=!0,o(!1,"Expected server HTML to contain a matching <%s> in <%s>.",t,e.nodeName.toLowerCase()))}function Dl(e,t){""!==t&&(rl||(rl=!0,o(!1,'Expected server HTML to contain a matching text node for "%s" in <%s>.',t,e.nodeName.toLowerCase())))}el=function(e){return("string"==typeof e?e:""+e).replace(xl,"\n").replace(kl,"")},vl=function(e,t){if(!rl){var n=el(t),r=el(e);r!==n&&(rl=!0,o(!1,'Text content did not match. Server: "%s" Client: "%s"',r,n))}},gl=function(e,t,n){if(!rl){var r=el(n),i=el(t);i!==r&&(rl=!0,o(!1,"Prop `%s` did not match. Server: %s Client: %s",e,JSON.stringify(i),JSON.stringify(r)))}},bl=function(e){if(!rl){rl=!0;var t=[];e.forEach(function(e){t.push(e)}),o(!1,"Extra attributes from the server: %s",t)}},_l=function(e,t){!1===t?o(!1,"Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.%s",e,e,e,nl()):o(!1,"Expected `%s` listener to be a function, instead got a value of `%s` type.%s",e,typeof t,nl())},wl=function(e,t){var n=e.namespaceURI===dl?e.ownerDocument.createElement(e.tagName):e.ownerDocument.createElementNS(e.namespaceURI,e.tagName);return n.innerHTML=t,n.innerHTML};var Fl,Ul=Object.freeze({createElement:El,createTextNode:Il,setInitialProperties:Ol,diffProperties:Pl,updateProperties:Rl,diffHydratedProperties:Al,diffHydratedText:Nl,warnForUnmatchedText:Ml,warnForDeletedHydratableElement:ql,warnForDeletedHydratableText:Ll,warnForInsertedHydratedElement:jl,warnForInsertedHydratedText:Dl,restoreControlledState:function(e,t,n){switch(t){case"input":return void Yn(e,n);case"textarea":return void function(e,t){au(e,t)}(e,n);case"select":return void function(e,t){var n=e,r=t.value;null!=r&&Zs(n,!!t.multiple,r,!1)}(e,n)}}}),Wl=ln.getCurrentFiberStackAddendum,Bl=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],Hl=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],zl=Hl.concat(["button"]),Vl=["dd","dt","li","option","optgroup","p","rp","rt"],Kl={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null},Ql={};(Fl=function(e,t,n){var r=(n=n||Kl).current,i=r&&r.tag;null!=t&&(o(null==e,"validateDOMNesting: when childText is passed, childTag should be null"),e="#text");var a=function(e,t){switch(t){case"select":return"option"===e||"optgroup"===e||"#text"===e;case"optgroup":return"option"===e||"#text"===e;case"option":return"#text"===e;case"tr":return"th"===e||"td"===e||"style"===e||"script"===e||"template"===e;case"tbody":case"thead":case"tfoot":return"tr"===e||"style"===e||"script"===e||"template"===e;case"colgroup":return"col"===e||"template"===e;case"table":return"caption"===e||"colgroup"===e||"tbody"===e||"tfoot"===e||"thead"===e||"style"===e||"script"===e||"template"===e;case"head":return"base"===e||"basefont"===e||"bgsound"===e||"link"===e||"meta"===e||"title"===e||"noscript"===e||"noframes"===e||"style"===e||"script"===e||"template"===e;case"html":return"head"===e||"body"===e;case"#document":return"html"===e}switch(e){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t;case"rp":case"rt":return-1===Vl.indexOf(t);case"body":case"caption":case"col":case"colgroup":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==t}return!0}(e,i)?null:r,s=a?null:function(e,t){switch(e){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null}(e,n),u=a||s;if(u){var l=u.tag,c=Wl(),f=!!a+"|"+e+"|"+l+"|"+c;if(!Ql[f]){Ql[f]=!0;var d=e,p="";if("#text"===e?/\S/.test(t)?d="Text nodes":(d="Whitespace text nodes",p=" Make sure you don't have any extra whitespace between tags on each line of your source code."):d="<"+e+">",a){var h="";"table"===l&&"tr"===e&&(h+=" Add a <tbody> to your code to match the DOM tree generated by the browser."),o(!1,"validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s%s",d,l,p,h,c)}else o(!1,"validateDOMNesting(...): %s cannot appear as a descendant of <%s>.%s",d,l,c)}}}).updatedAncestorInfo=function(e,t,n){var r=a({},e||Kl),o={tag:t,instance:n};return-1!==Hl.indexOf(t)&&(r.aTagInScope=null,r.buttonTagInScope=null,r.nobrTagInScope=null),-1!==zl.indexOf(t)&&(r.pTagInButtonScope=null),-1!==Bl.indexOf(t)&&"address"!==t&&"div"!==t&&"p"!==t&&(r.listItemTagAutoclosing=null,r.dlItemTagAutoclosing=null),r.current=o,"form"===t&&(r.formTag=o),"a"===t&&(r.aTagInScope=o),"button"===t&&(r.buttonTagInScope=o),"nobr"===t&&(r.nobrTagInScope=o),"p"===t&&(r.pTagInButtonScope=o),"li"===t&&(r.listItemTagAutoclosing=o),"dd"!==t&&"dt"!==t||(r.dlItemTagAutoclosing=o),r};var $l,Yl=Fl,Jl=El,Gl=Il,Xl=Ol,Zl=Pl,ec=Rl,tc=Al,nc=Nl,rc=Ml,oc=ql,ic=Ll,ac=jl,sc=Dl,uc=Yl.updatedAncestorInfo,lc=he,cc=be,fc=void 0,dc=!1;"function"==typeof Map&&null!=Map.prototype&&"function"==typeof Map.prototype.forEach&&"function"==typeof Set&&null!=Set.prototype&&"function"==typeof Set.prototype.clear&&"function"==typeof Set.prototype.forEach||o(!1,"React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),fc=function(e){if(e._reactRootContainer&&e.nodeType!==Rt){var t=wc.findHostInstanceWithNoPortals(e._reactRootContainer._internalRoot.current);t&&o(t.parentNode===e,"render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var n=!!e._reactRootContainer,r=bc(e),i=!(!r||!me(r));o(!i||n,"render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),o(e.nodeType!==Ot||!e.tagName||"BODY"!==e.tagName.toUpperCase(),"render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")},$l=function(e,t){o(null===e||"function"==typeof e,"%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",t,e)},mt.injectFiberControlledHostComponent(Ul);var pc=null,hc=null;function yc(e){var t=wc.computeUniqueAsyncExpiration();this._expirationTime=t,this._root=e,this._next=null,this._callbacks=null,this._didComplete=!1,this._hasChildren=!1,this._children=null,this._defer=!0}function mc(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function vc(e,t,n){var r=wc.createContainer(e,t,n);this._internalRoot=r}function gc(e){return!(!e||e.nodeType!==Ot&&e.nodeType!==At&&e.nodeType!==Nt&&(e.nodeType!==Rt||" react-mount-point-unstable "!==e.nodeValue))}function bc(e){return e?e.nodeType===At?e.documentElement:e.firstChild:null}function _c(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}yc.prototype.render=function(e){this._defer||r(!1,"batch.render: Cannot render a batch that already committed."),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,o=new mc;return wc.updateContainerAtExpirationTime(e,t,null,n,o._onCommit),o},yc.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},yc.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||r(!1,"batch.commit: Cannot commit a batch multiple times."),!this._hasChildren)return this._next=null,void(this._defer=!1);var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var o=null,i=t;i!==this;)o=i,i=i._next;null===o&&r(!1,"batch.commit: Cannot commit a batch multiple times."),o._next=i._next,this._next=t,t=e.firstBatch=this}this._defer=!1,wc.flushRoot(e,n);var a=this._next;this._next=null,null!==(t=e.firstBatch=a)&&t._hasChildren&&t.render(t._children)},yc.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){(0,e[t])()}}},mc.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},mc.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&r(!1,"Invalid argument passed as callback. Expected a function. Instead received: %s",n),n()}}},vc.prototype.render=function(e,t){var n=this._internalRoot,r=new mc;return $l(t=void 0===t?null:t,"render"),null!==t&&r.then(t),wc.updateContainer(e,n,null,r._onCommit),r},vc.prototype.unmount=function(e){var t=this._internalRoot,n=new mc;return $l(e=void 0===e?null:e,"render"),null!==e&&n.then(e),wc.updateContainer(null,t,null,n._onCommit),n},vc.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,o=new mc;return $l(n=void 0===n?null:n,"render"),null!==n&&o.then(n),wc.updateContainer(t,r,e,o._onCommit),o},vc.prototype.createBatch=function(){var e=new yc(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(var o=null,i=r;null!==i&&i._expirationTime<=t;)o=i,i=i._next;e._next=i,null!==o&&(o._next=e)}return e};var wc=Ps({getRootHostContext:function(e){var t=void 0,n=void 0,r=e.nodeType;switch(r){case At:case Nt:t=r===At?"#document":"#fragment";var o=e.documentElement;n=o?o.namespaceURI:pu(null,"");break;default:var i=r===Rt?e.parentNode:e;n=pu(i.namespaceURI||null,t=i.tagName)}var a=t.toLowerCase();return{namespace:n,ancestorInfo:uc(null,a,null)}},getChildHostContext:function(e,t){var n=e;return{namespace:pu(n.namespace,t),ancestorInfo:uc(n.ancestorInfo,t,null)}},getPublicInstance:function(e){return e},prepareForCommit:function(){pc=ho(),hc=Lo(),po(!1)},resetAfterCommit:function(){jo(hc),hc=null,po(pc),pc=null},createInstance:function(e,t,n,r,o){var i,a=r;if(Yl(e,null,a.ancestorInfo),"string"==typeof t.children||"number"==typeof t.children){var s=""+t.children,u=uc(a.ancestorInfo,e,null);Yl(null,s,u)}i=a.namespace;var l=Jl(e,t,n,i);return lc(o,l),cc(l,t),l},appendInitialChild:function(e,t){e.appendChild(t)},finalizeInitialChildren:function(e,t,n,r){return Xl(e,t,n,r),_c(t,n)},prepareUpdate:function(e,t,n,r,o,i){var a=i;if(typeof r.children!=typeof n.children&&("string"==typeof r.children||"number"==typeof r.children)){var s=""+r.children,u=uc(a.ancestorInfo,t,null);Yl(null,s,u)}return Zl(e,t,n,r,o)},shouldSetTextContent:function(e,t){return"textarea"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"==typeof t.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(e,t){return!!t.hidden},createTextInstance:function(e,t,n,r){Yl(null,e,n.ancestorInfo);var o=Gl(e,t);return lc(r,o),o},now:As,mutation:{commitMount:function(e,t,n,r){_c(t,n)&&e.focus()},commitUpdate:function(e,t,n,r,o,i){cc(e,o),ec(e,t,n,r,o)},resetTextContent:function(e){vu(e,"")},commitTextUpdate:function(e,t,n){e.nodeValue=n},appendChild:function(e,t){e.appendChild(t)},appendChildToContainer:function(e,t){e.nodeType===Rt?e.parentNode.insertBefore(t,e):e.appendChild(t)},insertBefore:function(e,t,n){e.insertBefore(t,n)},insertInContainerBefore:function(e,t,n){e.nodeType===Rt?e.parentNode.insertBefore(t,n):e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},removeChildFromContainer:function(e,t){e.nodeType===Rt?e.parentNode.removeChild(t):e.removeChild(t)}},hydration:{canHydrateInstance:function(e,t,n){return e.nodeType!==Ot||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e},canHydrateTextInstance:function(e,t){return""===t||e.nodeType!==Pt?null:e},getNextHydratableSibling:function(e){for(var t=e.nextSibling;t&&t.nodeType!==Ot&&t.nodeType!==Pt;)t=t.nextSibling;return t},getFirstHydratableChild:function(e){for(var t=e.firstChild;t&&t.nodeType!==Ot&&t.nodeType!==Pt;)t=t.nextSibling;return t},hydrateInstance:function(e,t,n,r,o,i){lc(i,e),cc(e,n);var a;return a=o.namespace,tc(e,t,n,a,r)},hydrateTextInstance:function(e,t,n){return lc(n,e),nc(e,t)},didNotMatchHydratedContainerTextInstance:function(e,t,n){rc(t,n)},didNotMatchHydratedTextInstance:function(e,t,n,r,o){!0!==t.suppressHydrationWarning&&rc(r,o)},didNotHydrateContainerInstance:function(e,t){1===t.nodeType?oc(e,t):ic(e,t)},didNotHydrateInstance:function(e,t,n,r){!0!==t.suppressHydrationWarning&&(1===r.nodeType?oc(n,r):ic(n,r))},didNotFindHydratableContainerInstance:function(e,t,n){ac(e,t,n)},didNotFindHydratableContainerTextInstance:function(e,t){sc(e,t)},didNotFindHydratableInstance:function(e,t,n,r,o){!0!==t.suppressHydrationWarning&&ac(n,r,o)},didNotFindHydratableTextInstance:function(e,t,n,r){!0!==t.suppressHydrationWarning&&sc(n,r)}},scheduleDeferredCallback:Ns,cancelDeferredCallback:Ms});Tt(wc);var xc=!1;function kc(e,t){var n=t||function(e){var t=bc(e);return!(!t||t.nodeType!==Ot||!t.hasAttribute(gn))}(e);if(!n)for(var r=!1,i=void 0;i=e.lastChild;)!r&&i.nodeType===Ot&&i.hasAttribute(gn)&&(r=!0,o(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup.")),e.removeChild(i);!n||t||xc||(xc=!0,Ci(!1,"render(): Calling ReactDOM.render() to hydrate server-rendered markup will stop working in React v17. Replace the ReactDOM.render() call with ReactDOM.hydrate() if you want React to attach to the server HTML."));return new vc(e,!1,n)}function Cc(e,t,n,o,i){gc(n)||r(!1,"Target container is not a DOM element."),fc(n);var a=n._reactRootContainer;if(a){if("function"==typeof i){var s=i;i=function(){var e=wc.getPublicRootInstance(a._internalRoot);s.call(e)}}null!=e?a.legacy_renderSubtreeIntoContainer(e,t,i):a.render(t,i)}else{if(a=n._reactRootContainer=kc(n,o),"function"==typeof i){var u=i;i=function(){var e=wc.getPublicRootInstance(a._internalRoot);u.call(e)}}wc.unbatchedUpdates(function(){null!=e?a.legacy_renderSubtreeIntoContainer(e,t,i):a.render(t,i)})}return wc.getPublicRootInstance(a._internalRoot)}function Sc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return gc(t)||r(!1,"Target container is not a DOM element."),function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:$t,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}var Tc={createPortal:Sc,findDOMNode:function(e){var t=Wt.current;if(null!==t&&null!==t.stateNode){var n=t.stateNode._warnedAboutRefsInRender;o(n,"%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",on(t)||"A component"),t.stateNode._warnedAboutRefsInRender=!0}if(null==e)return null;if(e.nodeType===Ot)return e;var i=_r(e);if(i)return wc.findHostInstance(i);"function"==typeof e.render?r(!1,"Unable to find node on an unmounted component."):r(!1,"Element appears to be neither ReactComponent nor DOMNode. Keys: %s",Object.keys(e))},hydrate:function(e,t,n){return Cc(null,e,t,!0,n)},render:function(e,t,n){return Cc(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,o){return(null==e||void 0===e._reactInternalFiber)&&r(!1,"parentComponent must be a valid React Component"),Cc(e,t,n,!1,o)},unmountComponentAtNode:function(e){if(gc(e)||r(!1,"unmountComponentAtNode(...): Target container is not a DOM element."),e._reactRootContainer){var t=bc(e),n=t&&!me(t);return o(!n,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React."),wc.unbatchedUpdates(function(){Cc(null,null,e,!1,function(){e._reactRootContainer=null})}),!0}var i=bc(e),a=!(!i||!me(i)),s=1===e.nodeType&&gc(e.parentNode)&&!!e.parentNode._reactRootContainer;return o(!a,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",s?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."),!1},unstable_createPortal:function(){return dc||(dc=!0,Ci(!1,'The ReactDOM.unstable_createPortal() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactDOM.createPortal() instead. It has the exact same API, but without the "unstable_" prefix.')),Sc.apply(void 0,arguments)},unstable_batchedUpdates:wc.batchedUpdates,unstable_deferredUpdates:wc.deferredUpdates,flushSync:wc.flushSync,unstable_flushControlled:wc.flushControlled,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:Y,EventPluginRegistry:A,EventPropagators:Re,ReactControlledComponent:_t,ReactDOMComponentTree:_e,ReactDOMEventListener:bo},unstable_createRoot:function(e,t){return new vc(e,!0,null!=t&&!0===t.hydrate)}};if(!wc.injectIntoDevTools({findFiberByHostInstance:ye,bundleType:1,version:"16.3.1",rendererPackageName:"react-dom"})&&i.canUseDOM&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&-1===navigator.userAgent.indexOf("Edge")||navigator.userAgent.indexOf("Firefox")>-1)){var Ec=window.location.protocol;/^(https?|file):$/.test(Ec)&&console.info("%cDownload the React DevTools for a better development experience: https://fb.me/react-devtools"+("file:"===Ec?"\nYou might need to use a local HTTP server (instead of file://): https://fb.me/react-devtools-faq":""),"font-weight:bold")}var Ic=Object.freeze({default:Tc}),Oc=Ic&&Tc||Ic,Pc=Oc.default?Oc.default:Oc;e.exports=Pc})()},function(e,t,n){"use strict";e.exports=n(121)},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";
/** @license React v16.3.1
 * react.development.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var t=n(52),r=n(51),o=n(35),i=n(34),a=n(33),s=n(50),u="function"==typeof Symbol&&Symbol.for,l=u?Symbol.for("react.element"):60103,c=u?Symbol.for("react.call"):60104,f=u?Symbol.for("react.return"):60105,d=u?Symbol.for("react.portal"):60106,p=u?Symbol.for("react.fragment"):60107,h=u?Symbol.for("react.strict_mode"):60108,y=u?Symbol.for("react.provider"):60109,m=u?Symbol.for("react.context"):60110,v=u?Symbol.for("react.async_mode"):60111,g=u?Symbol.for("react.forward_ref"):60112,b="function"==typeof Symbol&&Symbol.iterator,_="@@iterator";function w(e){if(null===e||void 0===e)return null;var t=b&&e[b]||e[_];return"function"==typeof t?t:null}var x=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(!e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i="Warning: "+e.replace(/%s/g,function(){return n[o++]});"undefined"!=typeof console&&console.warn(i);try{throw new Error(i)}catch(e){}}).apply(void 0,[t].concat(r))}},k={};function C(e,t){var n=e.constructor,r=n&&(n.displayName||n.name)||"ReactClass",o=r+"."+t;k[o]||(i(!1,"Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",t,r),k[o]=!0)}var S={isMounted:function(e){return!1},enqueueForceUpdate:function(e,t,n){C(e,"forceUpdate")},enqueueReplaceState:function(e,t,n,r){C(e,"replaceState")},enqueueSetState:function(e,t,n,r){C(e,"setState")}};function T(e,t,n){this.props=e,this.context=t,this.refs=r,this.updater=n||S}T.prototype.isReactComponent={},T.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&o(!1,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."),this.updater.enqueueSetState(this,e,t,"setState")},T.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};var E={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},I=function(e,t){Object.defineProperty(T.prototype,e,{get:function(){x(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1])}})};for(var O in E)E.hasOwnProperty(O)&&I(O,E[O]);function P(){}function R(e,t,n){this.props=e,this.context=t,this.refs=r,this.updater=n||S}P.prototype=T.prototype;var A=R.prototype=new P;A.constructor=R,t(A,T.prototype),A.isPureReactComponent=!0;var N={current:null},M=Object.prototype.hasOwnProperty,q={key:!0,ref:!0,__self:!0,__source:!0},L=void 0,j=void 0;function D(e){if(M.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}function F(e){if(M.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}var U=function(e,t,n,r,o,i,a){var s={$$typeof:l,type:e,key:t,ref:n,props:a,_owner:i,_store:{}};return Object.defineProperty(s._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(s,"_self",{configurable:!1,enumerable:!1,writable:!1,value:r}),Object.defineProperty(s,"_source",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.freeze&&(Object.freeze(s.props),Object.freeze(s)),s};function W(e,t,n){var r=void 0,o={},a=null,s=null,u=null,c=null;if(null!=t)for(r in D(t)&&(s=t.ref),F(t)&&(a=""+t.key),u=void 0===t.__self?null:t.__self,c=void 0===t.__source?null:t.__source,t)M.call(t,r)&&!q.hasOwnProperty(r)&&(o[r]=t[r]);var f=arguments.length-2;if(1===f)o.children=n;else if(f>1){for(var d=Array(f),p=0;p<f;p++)d[p]=arguments[p+2];Object.freeze&&Object.freeze(d),o.children=d}if(e&&e.defaultProps){var h=e.defaultProps;for(r in h)void 0===o[r]&&(o[r]=h[r])}if((a||s)&&(void 0===o.$$typeof||o.$$typeof!==l)){var y="function"==typeof e?e.displayName||e.name||"Unknown":e;a&&function(e,t){var n=function(){L||(L=!0,i(!1,"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"key",{get:n,configurable:!0})}(o,y),s&&function(e,t){var n=function(){j||(j=!0,i(!1,"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"ref",{get:n,configurable:!0})}(o,y)}return U(e,a,s,u,c,N.current,o)}function B(e){return"object"==typeof e&&null!==e&&e.$$typeof===l}var H={getCurrentStack:null,getStackAddendum:function(){var e=H.getCurrentStack;return e?e():null}},z=".",V=":";var K=!1,Q=/\/+/g;function $(e){return(""+e).replace(Q,"$&/")}var Y=10,J=[];function G(e,t,n,r){if(J.length){var o=J.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function X(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,J.length<Y&&J.push(e)}function Z(e,t,n){return null==e?0:function e(t,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case l:case d:u=!0}}if(u)return r(a,t,""===n?z+ee(t,0):n),1;var c=void 0,f=0,p=""===n?z:n+V;if(Array.isArray(t))for(var h=0;h<t.length;h++)f+=e(c=t[h],p+ee(c,h),r,a);else{var y=w(t);if("function"==typeof y){y===t.entries&&(i(K,"Using Maps as children is unsupported and will likely yield unexpected results. Convert it to a sequence/iterable of keyed ReactElements instead.%s",H.getStackAddendum()),K=!0);for(var m=y.call(t),v=void 0,g=0;!(v=m.next()).done;)f+=e(c=v.value,p+ee(c,g++),r,a)}else if("object"===s){var b;b=" If you meant to render a collection of children, use an array instead."+H.getStackAddendum();var _=""+t;o(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===_?"object with keys {"+Object.keys(t).join(", ")+"}":_,b)}}return f}(e,"",t,n)}function ee(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=e.key,r={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function te(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function ne(e,t,n){var r,o,i=e.result,s=e.keyPrefix,u=e.func,l=e.context,c=u.call(l,t,e.count++);Array.isArray(c)?re(c,i,n,a.thatReturnsArgument):null!=c&&(B(c)&&(r=c,o=s+(!c.key||t&&t.key===c.key?"":$(c.key)+"/")+n,c=U(r.type,o,r.ref,r._self,r._source,r._owner,r.props)),i.push(c))}function re(e,t,n,r,o){var i="";null!=n&&(i=$(n)+"/");var a=G(t,i,r,o);Z(e,ne,a),X(a)}function oe(e){var t=e.type;if("function"==typeof t)return t.displayName||t.name;if("string"==typeof t)return t;switch(t){case p:return"ReactFragment";case d:return"ReactPortal";case c:return"ReactCall";case f:return"ReactReturn"}return null}var ie,ae=void 0,se=void 0,ue=function(){};function le(){if(N.current){var e=oe(N.current);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}ae=null,se=!1,ie=function(e){return null==e?"#empty":"string"==typeof e||"number"==typeof e?"#text":"string"==typeof e.type?e.type:e.type===p?"React.Fragment":e.type.displayName||e.type.name||"Unknown"},ue=function(){var e="";if(ae){var t=ie(ae),n=ae._owner;e+=function(e,t,n){return"\n    in "+(e||"Unknown")+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")}(t,ae._source,n&&oe(n))}return e+=H.getStackAddendum()||""};var ce={};function fe(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var n=function(e){var t=le();if(!t){var n="string"==typeof e?e:e.displayName||e.name;n&&(t="\n\nCheck the top-level render call using <"+n+">.")}return t}(t);if(!ce[n]){ce[n]=!0;var r="";e&&e._owner&&e._owner!==N.current&&(r=" It was passed a child from "+oe(e._owner)+"."),ae=e,i(!1,'Each child in an array or iterator should have a unique "key" prop.%s%s See https://fb.me/react-warning-keys for more information.%s',n,r,ue()),ae=null}}}function de(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];B(r)&&fe(r,t)}else if(B(e))e._store&&(e._store.validated=!0);else if(e){var o=w(e);if("function"==typeof o&&o!==e.entries)for(var i=o.call(e),a=void 0;!(a=i.next()).done;)B(a.value)&&fe(a.value,t)}}function pe(e){var t=e.type;if("function"==typeof t){var n=t.displayName||t.name,r=t.propTypes;r?(ae=e,s(r,e.props,"prop",n,ue),ae=null):void 0===t.PropTypes||se||(se=!0,i(!1,"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",n||"Unknown")),"function"==typeof t.getDefaultProps&&i(t.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function he(e,t,n){var r=function(e){return"string"==typeof e||"function"==typeof e||e===p||e===v||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===g)}(e);if(!r){var o="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(o+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var a=function(e){if(null!==e&&void 0!==e&&void 0!==e.__source){var t=e.__source;return"\n\nCheck your code at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+"."}return""}(t);o+=a||le(),o+=ue()||"";var s=void 0;s=null===e?"null":Array.isArray(e)?"array":typeof e,i(!1,"React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",s,o)}var u=W.apply(this,arguments);if(null==u)return u;if(r)for(var l=2;l<arguments.length;l++)de(arguments[l],e);return e===p?function(e){ae=e;for(var t=Object.keys(e.props),n=0;n<t.length;n++){var r=t[n];if("children"!==r&&"key"!==r){i(!1,"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.%s",r,ue());break}}null!==e.ref&&i(!1,"Invalid attribute `ref` supplied to `React.Fragment`.%s",ue()),ae=null}(u):pe(u),u}var ye={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return re(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;var r=G(null,null,t,n);Z(e,te,r),X(r)},count:function(e,t){return Z(e,a.thatReturnsNull,null)},toArray:function(e){var t=[];return re(e,t,null,a.thatReturnsArgument),t},only:function(e){return B(e)||o(!1,"React.Children.only expected to receive a single React element child."),e}},createRef:function(){var e={current:null};return Object.seal(e),e},Component:T,PureComponent:R,createContext:function(e,t){void 0===t?t=null:i(null===t||"function"==typeof t,"createContext: Expected the optional second argument to be a function. Instead received: %s",t);var n={$$typeof:m,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_changedBits:0,Provider:null,Consumer:null};return n.Provider={$$typeof:y,_context:n},n.Consumer=n,n._currentRenderer=null,n},forwardRef:function(e){return i("function"==typeof e,"forwardRef requires a render function but was given %s.",null===e?"null":typeof e),{$$typeof:g,render:e}},Fragment:p,StrictMode:h,unstable_AsyncMode:v,createElement:he,cloneElement:function(e,n,r){for(var o=function(e,n,r){var o=void 0,i=t({},e.props),a=e.key,s=e.ref,u=e._self,l=e._source,c=e._owner;if(null!=n){D(n)&&(s=n.ref,c=N.current),F(n)&&(a=""+n.key);var f=void 0;for(o in e.type&&e.type.defaultProps&&(f=e.type.defaultProps),n)M.call(n,o)&&!q.hasOwnProperty(o)&&(void 0===n[o]&&void 0!==f?i[o]=f[o]:i[o]=n[o])}var d=arguments.length-2;if(1===d)i.children=r;else if(d>1){for(var p=Array(d),h=0;h<d;h++)p[h]=arguments[h+2];i.children=p}return U(e.type,a,s,u,l,c,i)}.apply(this,arguments),i=2;i<arguments.length;i++)de(arguments[i],o.type);return pe(o),o},createFactory:function(e){var t=he.bind(null,e);return t.type=e,Object.defineProperty(t,"type",{enumerable:!1,get:function(){return x(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:e}),e}}),t},isValidElement:B,version:"16.3.1",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:N,assign:t}};t(ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,{ReactDebugCurrentFrame:H,ReactComponentTreeHook:{}});var me=Object.freeze({default:ye}),ve=me&&ye||me,ge=ve.default?ve.default:ve;e.exports=ge})()},function(e,t,n){"use strict";var r=a(n(36)),o=a(n(122)),i=n(110);function a(e){return e&&e.__esModule?e:{default:e}}o.default.render(r.default.createElement(i.AccountStatus,null),document.getElementById("root"))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25hbm8tc3FsL2xpYi91dGlsaXRpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb3JlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZGVzY3JpcHRvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oYXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpZS10cy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWlvYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oaWRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZXhwb3J0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZmFpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25hbm8tc3FsL2xpYi9kYXRhYmFzZS9kYi1pZHguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdWlkLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25hbm8tc3FsL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1waWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZGVmaW5lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLWV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC10by1zdHJpbmctdGFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1idWcta2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWNyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXJhdG9ycy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2xpYnJhcnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbnRlZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLWtleS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RlZmluZWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2VtcHR5RnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL3dhcm5pbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2ludmFyaWFudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy1pbnRlcm5hbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3JlZGVmaW5lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kb20tY3JlYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faWU4LWRvbS1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jdHguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ3BvLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tb2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2NoZWNrUHJvcFR5cGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9lbXB0eU9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2JqZWN0LWFzc2lnbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFuby1zcWwvbGliL2hpc3RvcnktcGx1Z2luLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9uYW5vLXNxbC9saWIvZGF0YWJhc2UvYWRhcHRlci1sZXZlbERCLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9uYW5vLXNxbC9saWIvZGF0YWJhc2UvYWRhcHRlci13ZWJzcWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25hbm8tc3FsL2xpYi9kYXRhYmFzZS9hZGFwdGVyLWluZGV4ZWREQi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFuby1zcWwvbGliL2RhdGFiYXNlL2FkYXB0ZXItc3luYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJlZml4LXRyaWUtdHMvbm9kZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFuby1zcWwvbGliL2RhdGFiYXNlL3N0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25hbm8tc3FsL2xpYi9kYXRhYmFzZS9xdWVyeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFuby1zcWwvbGliL2RhdGFiYXNlL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFsbHktc21hbGwtZXZlbnRzL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFuby1zcWwvbGliL3F1ZXJ5L3RyYW5zYWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9uYW5vLXNxbC9saWIvcXVlcnkvc3RkLXF1ZXJ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXByb3RvLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLWV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1rZXlzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbWV0YS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN5bWJvbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItc3RlcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faHRtbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWFic29sdXRlLWluZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYXJyYXktaW5jbHVkZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pb2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWRwcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY3JlYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc3RyaW5nLWF0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hLWZ1bmN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXNhcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9BY2NvdW50U3RhdHVzL0FjY291bnRTdGF0dXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9jYW1lbGl6ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvY2FtZWxpemVTdHlsZU5hbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2h5cGhlbmF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvaHlwaGVuYXRlU3R5bGVOYW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9pc05vZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2lzVGV4dE5vZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2NvbnRhaW5zTm9kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvc2hhbGxvd0VxdWFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9nZXRBY3RpdmVFbGVtZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9FeGVjdXRpb25FbnZpcm9ubWVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG9tL2Nqcy9yZWFjdC1kb20uZGV2ZWxvcG1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRvbS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC5kZXZlbG9wbWVudC5qcyIsIndlYnBhY2s6Ly8vLi90ZXN0L3Zpc3VhbFRlc3RzLmpzeCJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJ2YWx1ZSIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZ2xvYmFsIiwibGllX3RzXzEiLCJQcm9taXNlIiwid2luZG93IiwiX2Fzc2lnbiIsIm9iaiIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImZhc3RDSEFJTiIsIml0ZW1zIiwiY2FsbGJhY2siLCJyZXMiLCJyZWoiLCJsZW5ndGgiLCJyZXN1bHRzIiwic3RlcCIsInJlc3VsdCIsInB1c2giLCJzZXRGYXN0IiwiZmFzdFJBQ0UiLCJyZXNvbHZlZCIsImNvdW50ZXIiLCJmYXN0QUxMIiwiYWxsIiwibWFwIiwiaXRlbSIsInVhIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaXNTYWZhcmkiLCJ0ZXN0IiwiaXNNU0Jyb3dzZXIiLCJpbmRleE9mIiwiaXNBbmRyb2lkIiwicmFuZG9tMTZCaXRzIiwiY3J5cHRvIiwiTWF0aCIsInJvdW5kIiwicmFuZG9tIiwicG93IiwiZ2V0UmFuZG9tVmFsdWVzIiwiYnVmIiwiVWludDE2QXJyYXkiLCJfY3J5cHRvIiwicmFuZG9tQnl0ZXMiLCJyZWR1Y2UiLCJwcmV2IiwiY3VyIiwidGltZWlkIiwibXMiLCJ0aW1lIiwiRGF0ZSIsImdldFRpbWUiLCJ0b1N0cmluZyIsImludGVyc2VjdCIsImFycjEiLCJhcnIyIiwiZmlsdGVyIiwidXVpZCIsImIiLCJzbGljZSIsImlkVHlwZXMiLCJpbnQiLCJ0aW1lSWQiLCJ0aW1lSWRtcyIsImhhc2giLCJzdHIiLCJjaGFyQ29kZUF0IiwiZ2VuZXJhdGVJRCIsInByaW1hcnlLZXlUeXBlIiwiaW5jcmltZW50VmFsdWUiLCJjbGVhbkFyZ3MiLCJhcmdEZWNsYXJhdGlvbnMiLCJhcmdzIiwiYSIsImsyIiwic3BsaXQiLCJjYXN0IiwidW5kZWZpbmVkIiwiaXNPYmplY3QiLCJ2YWwiLCJ0eXBlIiwidCIsImVudGl0eU1hcCIsIiYiLCI8IiwiPiIsIlwiIiwiJyIsIi8iLCJgIiwiPSIsInR5cGVzIiwicmVwbGFjZSIsInBhcnNlSW50IiwicGFyc2VGbG9hdCIsIkFycmF5IiwiaXNBcnJheSIsIlN0cmluZyIsIm5ld1ZhbCIsInRvTG93ZXJDYXNlIiwiYXJyYXlPZl8xIiwibGFzdEluZGV4T2YiLCJ2IiwiaXNOYU4iLCJzb3J0ZWRJbnNlcnQiLCJhcnIiLCJzdGFydFZhbCIsImVuZFZhbCIsInNwbGljZSIsImJpbmFyeVNlYXJjaCIsInN0YXJ0IiwiZW5kIiwiZmxvb3IiLCJyZW1vdmVEdXBsaWNhdGVzIiwibmV3YXJyIiwiZGVlcEZyZWV6ZSIsImdldE93blByb3BlcnR5TmFtZXMiLCJmb3JFYWNoIiwicHJvcCIsImZyZWV6ZSIsIm9iamVjdFBhdGhDYWNoZSIsIm9ialF1ZXJ5IiwicGF0aFF1ZXJ5IiwiaWdub3JlRmlyc3RQYXRoIiwic2FmZUdldCIsImdldFBhdGgiLCJwYXRoSWR4IiwiY2FjaGVLZXkiLCJwYXRoIiwiY29uY2F0IiwiYXBwbHkiLCJtYXRjaCIsImZpcnN0UGF0aCIsInNoaWZ0IiwidW5zaGlmdCIsImNvcmUiLCJ2ZXJzaW9uIiwiX19lIiwic2VsZiIsIkZ1bmN0aW9uIiwiX19nIiwiYW5PYmplY3QiLCJJRThfRE9NX0RFRklORSIsInRvUHJpbWl0aXZlIiwiZFAiLCJmIiwiTyIsIlAiLCJBdHRyaWJ1dGVzIiwiZSIsIlR5cGVFcnJvciIsIml0Iiwia2V5IiwidWlkIiwic3RvcmFnZSIsImNhblNldEltbWVkaWF0ZSIsImNhblBvc3QiLCJwb3N0TWVzc2FnZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjYW5Qcm9taXNlIiwiZmFzdEFwcGx5IiwiZXZlbnQiLCJkYXRhIiwic2V0SW1tZWRpYXRlUG9seWZpbGwiLCJfaSIsImFyZ3VtZW50cyIsImlkIiwicmVzb2x2ZSIsInRoZW4iLCJzZXRUaW1lb3V0IiwiX0lOVEVSTkFMIiwiX1JFSkVDVEVEIiwiX0ZVTEZJTExFRCIsIl9QRU5ESU5HIiwicmVzb2x2ZXIiLCJ0aGlzIiwiX3N0YXRlIiwiX3F1ZXVlIiwiX291dGNvbWUiLCJfc2FmZWx5UmVzb2x2ZVRoZW5hYmxlIiwiZG9Qb2x5RmlsbCIsImNhdGNoIiwib25SZWplY3RlZCIsIm9uRnVsZmlsbGVkIiwicHJvbWlzZSIsIl91bndyYXAiLCJfUXVldWVJdGVtIiwiX2hhbmRsZXJzIiwiX3Jlc29sdmUiLCJyZWplY3QiLCJyZWFzb24iLCJfcmVqZWN0IiwiaXRlcmFibGUiLCJtYXliZVJldHVybiIsImluZGV4Iiwic3VjY2VzcyIsImZhaWx1cmUiLCJfbG9vcF8xIiwicmFjZSIsImxlbiIsImNhbGxlZCIsInJlc3BvbnNlIiwiZXJyb3IiLCJfcHJvbWlzZSIsIl9vbkZ1bGZpbGxlZCIsIl9jYWxsRnVsZmlsbGVkIiwiX290aGVyQ2FsbEZ1bGZpbGxlZCIsIl9vblJlamVjdGVkIiwiX2NhbGxSZWplY3RlZCIsIl9vdGhlckNhbGxSZWplY3RlZCIsImZ1bmMiLCJyZXR1cm5WYWx1ZSIsIl90cnlDYXRjaCIsIl9nZXRUaGVuIiwidGhlbmFibGUiLCJfdmFsdWUiLCJfc3RhdHVzIiwib25FcnJvciIsIm9uU3VjY2VzcyIsInZhbHVlcyIsIm91dCIsInN0b3JlIiwiU3ltYm9sIiwiVVNFX1NZTUJPTCIsIklPYmplY3QiLCJkZWZpbmVkIiwiY3JlYXRlRGVzYyIsImN0eCIsImhpZGUiLCJoYXMiLCIkZXhwb3J0Iiwic291cmNlIiwib3duIiwiSVNfRk9SQ0VEIiwiRiIsIklTX0dMT0JBTCIsIkciLCJJU19TVEFUSUMiLCJTIiwiSVNfUFJPVE8iLCJJU19CSU5EIiwiQiIsIklTX1dSQVAiLCJXIiwiZXhwUHJvdG8iLCJ0YXJnZXQiLCJDIiwidmlydHVhbCIsIlIiLCJVIiwiZXhlYyIsInV0aWxpdGllc18xIiwiRGF0YWJhc2VJbmRleCIsIl9zb3J0ZWQiLCJfaW5kZXhPZiIsImFpIiwiZG9BSSIsInNldCIsIl90aGlzIiwiZ2V0TG9jYXRpb24iLCJpZHgiLCJhZGQiLCJrZXlzIiwicmVtb3ZlIiwiYml0bWFwIiwid3JpdGFibGUiLCJweCIsImciLCJldmFsIiwiX19hc3NpZ24iLCJhc3NpZ24iLCJzdGRfcXVlcnlfMSIsInRyYW5zYWN0aW9uXzEiLCJyZWFsbHlfc21hbGxfZXZlbnRzXzEiLCJpbmRleF8xIiwiaGlzdG9yeV9wbHVnaW5fMSIsIlZFUlNJT04iLCJOYW5vU1FMSW5zdGFuY2UiLCJfb25Db25uZWN0ZWRDYWxsQmFja3MiLCJfYWN0aW9ucyIsIl92aWV3cyIsImRhdGFNb2RlbHMiLCJfZXZlbnRzIiwiX2hhc0V2ZW50cyIsInRhYmxlTmFtZXMiLCJwbHVnaW5zIiwiaGFzUEsiLCJza2lwUHVyZ2UiLCJ0b1Jvd0ZucyIsInRhYmxlUEtzIiwidG9Db2xGbnMiLCJ0b0NvbFJ1bGVzIiwiX3JhbmRvbXMiLCJfcmFuZG9tUHRyIiwiaGFzQW55RXZlbnRzIiwiX2NhbGxiYWNrcyIsIlJlYWxseVNtYWxsRXZlbnRzIiwiaUIiLCJOYW5vU1FMRGVmYXVsdEJhY2tlbmQiLCJpbnN0YW5jZUNvbm5lY3RBcmdzIiwibW9kZWxzIiwiYWN0aW9ucyIsInZpZXdzIiwiY29uZmlnIiwicGFyZW50Iiwid2lsbENvbm5lY3QiLCJkaWRDb25uZWN0IiwidG9Db2x1bW4iLCJjb2x1bW5GbnMiLCJzVGFibGUiLCJ0b1JvdyIsImZhc3RSYW5kIiwidGFibGUiLCJjb25uZWN0IiwiY29ubmVjdEFyZ3MiLCJfY29uZmlnIiwicHJvcHMiLCJoaXN0b3J5IiwidXNlIiwiX05hbm9TUUxIaXN0b3J5UGx1Z2luIiwiaGlzdG9yeU1vZGUiLCJtb2RlIiwibmV4dFAiLCJuZXdBcmdzIiwiaGFzV2lsZCIsIm1vZGVsIiwicGx1Z2luIiwiZGlkRXhlYyIsInBsdWdpbkhhc0RpZEV4ZWMiLCJjb21wbGV0ZUNvbm5lY3QiLCJpc0Nvbm5lY3RlZCIsImNiIiwidXBkYXRlVmVyc2lvbiIsInJlYnVpbGRJRFgiLCJxdWVyeSIsIm1hbnVhbEV4ZWMiLCJleHRlbmQiLCJ3aGVyZSIsInJvd3MiLCJnZXRBY3Rpb25zIiwiZ2V0Vmlld3MiLCJnZXRDb25maWciLCJhdkZpbHRlciIsImZpbHRlckZ1bmMiLCJfQVZNb2QiLCJvbiIsImNhbGxCYWNrIiwiX3JlZnJlc2hFdmVudENoZWNrZXIiLCJvZmYiLCJldmVudExpc3RlbmVycyIsImRhdGFNb2RlbCIsImlnbm9yZVNhbml0eUNoZWNrIiwiRXJyb3IiLCJmbk5hbWUiLCJmbkFyZ3MiLCJwb3AiLCJ0cmltIiwidmlld0FycmF5IiwiZ2V0VmlldyIsInZpZXdOYW1lIiwidmlld0FyZ3MiLCJfZG9BViIsImFjdGlvbkFycmF5IiwiZG9BY3Rpb24iLCJhY3Rpb25OYW1lIiwiYWN0aW9uQXJncyIsInF1ZXJ5RmlsdGVyIiwicXVlcnlNb2QiLCJBVlR5cGUiLCJBVkxpc3QiLCJBVk5hbWUiLCJBVmFyZ3MiLCJzZWxBViIsIl9hY3RpdmVBViIsImVyciIsImFjdGlvbiIsImF2IiwiX05hbm9TUUxRdWVyeSIsIm9uQ29ubmVjdGVkIiwidHJpZ2dlckV2ZW50IiwiZXZlbnREYXRhIiwidHJpZ2dlciIsImRlZmF1bHQiLCJyZXBsYWNlT2JqIiwibmV3T2JqIiwicmF3RHVtcCIsInRhYmxlcyIsIm5leHQiLCJkdW1wVGFibGVzIiwicmF3SW1wb3J0IiwiaW1wb3J0VGFibGVzIiwiZGlzY29ubmVjdCIsIndpbGxEaXNjb25uZWN0IiwiZG9UcmFuc2FjdGlvbiIsImluaXRUcmFuc2FjdGlvbiIsInF1ZXJpZXMiLCJ0cmFuc2FjdGlvbklEIiwidHJhbnNhY3Rpb25CZWdpbiIsInRhIiwiX05hbm9TUUxUcmFuc2FjdGlvblF1ZXJ5IiwicXVlciIsIm5leHRRdWVyeSIsInRyYW5zYWN0aW9uIiwicXVlcnlJRCIsInRyYW5zYWN0aW9uRW5kIiwiYWN0aW9uT3JWaWV3Iiwibm90ZXMiLCJhZmZlY3RlZFJvd1BLUyIsImFmZmVjdGVkUm93cyIsIm5ld0FyZ3NfMSIsInJlc3VsdF8xIiwibkFyZ3MiLCJuZXdSZXN1bHQiLCJsb2FkSlMiLCJ1c2VUcmFuc2FjdGlvbiIsIm9uUHJvZ3Jlc3MiLCJkYiIsImNvbXBsZXRlIiwicm93IiwibmV4dFJvdyIsImxvYWRDU1YiLCJjc3YiLCJyb3dGaWx0ZXIiLCJmaWVsZHMiLCJyb3dEYXRhIiwiayIsInJlY29yZCIsInJvd18xIiwiZml0cyIsImRvQnJlYWsiLCJmdW5jdGlvbnMiLCJDT1VOVCIsImNvbHVtbiIsIk1BWCIsIm1heF8xIiwiTUlOIiwibWluXzEiLCJBVkciLCJTVU0iLCJMT1dFUiIsIlVQUEVSIiwidG9VcHBlckNhc2UiLCJDQVNUIiwiQUJTIiwiYWJzIiwiQ0VJTCIsImNlaWwiLCJQT1ciLCJwb3dlciIsIlJPVU5EIiwiU1FSVCIsInNxcnQiLCJfTmFub1NRTFN0YXRpYyIsIm5TUUwiLCJzZXRUYWJsZVBvaW50ZXIiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIkxJQlJBUlkiLCJ3a3NFeHQiLCIkU3ltYm9sIiwiY2hhckF0IiwiZGVmIiwiVEFHIiwidGFnIiwic3RhdCIsIiRrZXlzIiwiZW51bUJ1Z0tleXMiLCJkUHMiLCJJRV9QUk9UTyIsIkVtcHR5IiwiY3JlYXRlRGljdCIsImlmcmFtZURvY3VtZW50IiwiaWZyYW1lIiwic3R5bGUiLCJkaXNwbGF5IiwiYXBwZW5kQ2hpbGQiLCJzcmMiLCJjb250ZW50V2luZG93IiwiZG9jdW1lbnQiLCJvcGVuIiwid3JpdGUiLCJsdCIsImNsb3NlIiwiY3JlYXRlIiwiUHJvcGVydGllcyIsImZuIiwidmFsdWVPZiIsInNoYXJlZCIsIm1ha2VFbXB0eUZ1bmN0aW9uIiwiYXJnIiwiZW1wdHlGdW5jdGlvbiIsInRoYXRSZXR1cm5zIiwidGhhdFJldHVybnNGYWxzZSIsInRoYXRSZXR1cm5zVHJ1ZSIsInRoYXRSZXR1cm5zTnVsbCIsInRoYXRSZXR1cm5zVGhpcyIsInRoYXRSZXR1cm5zQXJndW1lbnQiLCJ3YXJuaW5nIiwiY29uZGl0aW9uIiwiZm9ybWF0IiwiX2xlbjIiLCJfa2V5MiIsIl9sZW4iLCJfa2V5IiwiYXJnSW5kZXgiLCJtZXNzYWdlIiwiY29uc29sZSIsIngiLCJ2YWxpZGF0ZUZvcm1hdCIsImZyYW1lc1RvUG9wIiwicElFIiwidG9JT2JqZWN0IiwiZ09QRCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImhpZGRlbktleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJhcnJheUluZGV4T2YiLCJuYW1lcyIsInJlZGVmaW5lIiwiSXRlcmF0b3JzIiwiJGl0ZXJDcmVhdGUiLCJzZXRUb1N0cmluZ1RhZyIsImdldFByb3RvdHlwZU9mIiwiSVRFUkFUT1IiLCJCVUdHWSIsInJldHVyblRoaXMiLCJCYXNlIiwiTkFNRSIsIkNvbnN0cnVjdG9yIiwiREVGQVVMVCIsIklTX1NFVCIsIkZPUkNFRCIsIm1ldGhvZHMiLCJJdGVyYXRvclByb3RvdHlwZSIsImdldE1ldGhvZCIsImtpbmQiLCJwcm90byIsIkRFRl9WQUxVRVMiLCJWQUxVRVNfQlVHIiwiJG5hdGl2ZSIsIiRkZWZhdWx0IiwiJGVudHJpZXMiLCIkYW55TmF0aXZlIiwiZW50cmllcyIsIl9pdGVyYXRvcjIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX3N5bWJvbDIiLCJfdHlwZW9mIiwiY29uc3RydWN0b3IiLCJpcyIsImNyZWF0ZUVsZW1lbnQiLCJhRnVuY3Rpb24iLCJ0aGF0IiwidG9PYmplY3QiLCJPYmplY3RQcm90byIsImludmFyaWFudCIsIlJlYWN0UHJvcFR5cGVzU2VjcmV0IiwibG9nZ2VkVHlwZUZhaWx1cmVzIiwidHlwZVNwZWNzIiwibG9jYXRpb24iLCJjb21wb25lbnROYW1lIiwiZ2V0U3RhY2siLCJ0eXBlU3BlY05hbWUiLCJleCIsInN0YWNrIiwiZW1wdHlPYmplY3QiLCJwcm9wSXNFbnVtZXJhYmxlIiwidGVzdDEiLCJ0ZXN0MiIsImZyb21DaGFyQ29kZSIsImpvaW4iLCJ0ZXN0MyIsImxldHRlciIsInNob3VsZFVzZU5hdGl2ZSIsImZyb20iLCJzeW1ib2xzIiwidG8iLCJzdHJzIiwiaGlzdG9yeU1vZGVBcmdzIiwiX3RhYmxlUGtLZXlzIiwiX3RhYmxlUGtUeXBlcyIsIl90YWJsZUtleXMiLCJoaXN0b3J5VGFibGVzIiwiaGlzdE1vZGVsIiwiaXNOb3RTdHJpbmciLCJoaXN0b3J5VGFibGUiLCJoaXN0b3J5VGFibGVQb2ludGVyIiwiaGlzdG9yeU1vZGVzIiwiX2hpc3RUYWJsZSIsIl9nZW5lcmF0ZUhpc3RvcnlQb2ludGVycyIsImhpc3RUYWJsZSIsInB0ciIsImZpbmlzaFNldHVwIiwidGFibGVEb25lIiwiX3B1cmdlUm93SGlzdG9yeSIsInJvd1BLcyIsImNsZWFyQWxsIiwicm93SGlzdFRhYmxlIiwicm93SURYVGFibGUiLCJwayIsInJvd0RvbmUiLCJoaXN0Um93SURYIiwiaXNGcm96ZW4iLCJkZWxJRHMiLCJoaXN0Um93cyIsImhpc3RQdHIiLCJjb21tZW50IiwiZXhpc3RpbmdSb3ciLCJfdW5zaGlmdFNpbmdsZVJvdyIsIl9wdXJnZVRhYmxlSGlzdG9yeSIsImhpc3RRIiwicmFuZ2UiLCJoaXN0VGFibGVSb3dzIiwicHVyZ2VSb3dzIiwiaiIsIl9wdXJnZVBhcmVudEhpc3RvcnkiLCJfcHVyZ2VBbGxIaXN0b3J5Iiwicm93UEsiLCJjb21tZW50cyIsInJvd0lEcyIsIl91bnNoaWZ0UGFyZW50IiwiaGlzdFJvd0lEcyIsImV2ZW50VHlwZXMiLCJza2lwSURYIiwiYWRqdXN0SGlzdG9yeUlEWCIsImFwcGVuZElEIiwiX2lkIiwiX3NoaWZ0SGlzdG9yeSIsImRpZEFueXRoaW5nIiwiX3F1ZXJ5SGlzdG9yeSIsInFSZXN1bHQiLCJfZ2V0UmV2aXNpb25IaXN0b3J5IiwiZ2V0Um93cyIsInJlc3VsdFJvd3MiLCJyT2JqIiwicG9pbnRlciIsInJldmlzaW9ucyIsInJldmVyc2UiLCJfZ2V0VGFibGVIaXN0b3J5IiwiX3NoaWZ0VGFibGVIaXN0b3J5IiwiZGlyZWN0aW9uIiwicm93UHRyIiwiX3NoaWZ0Um93SGlzdG9yeSIsIlBLIiwidXBkYXRlSURYIiwibWV0YSIsInJvd0lEWCIsImhpc3RvcnlQSyIsImRiX2lkeF8xIiwiZGVsZXRlRm9sZGVyUmVjdXJzaXZlIiwiX2ZzIiwiZXhpc3RzU3luYyIsInJlYWRkaXJTeW5jIiwiZmlsZSIsImN1clBhdGgiLCJzdGF0U3luYyIsImlzRGlyZWN0b3J5IiwidW5saW5rU3luYyIsInJtZGlyU3luYyIsIl9MZXZlbFN0b3JlIiwid3JpdGVDYWNoZSIsInJlYWRDYWNoZSIsIl9wa0tleSIsIl9wa1R5cGUiLCJfZGJJbmRleCIsIl9sZXZlbERCcyIsIl9pc1BLbnVtIiwiZG9uZSIsInBrcyIsImNyZWF0ZUtleVN0cmVhbSIsIl9JbnQ2NEJFIiwidG9OdW1iZXIiLCJzZXRJRCIsIl9wYXRoIiwibWtkaXJTeW5jIiwibWFrZVRhYmxlIiwidGFibGVOYW1lIiwiX2xldmVsdXAiLCJfbGV2ZWxkb3duIiwiY2FjaGVTaXplIiwid3JpdGVCdWZmZXJTaXplIiwiX2EiLCJwdXQiLCJ0b0J1ZmZlciIsImRlbGV0ZSIsImRlbCIsInJlYWQiLCJyYW5nZVJlYWQiLCJyb3dDYWxsYmFjayIsInVzZVBLIiwidXNlZnVsVmFsdWVzIiwicmFuZ2VzIiwibG93ZXIiLCJoaWdoZXIiLCJjcmVhdGVWYWx1ZVN0cmVhbSIsImd0ZSIsImx0ZSIsImdldFJvdyIsImRyb3AiLCJnZXRJbmRleCIsImdldExlbmd0aCIsImRlc3Ryb3kiLCJfV2ViU1FMU3RvcmUiLCJzaXplIiwiX3NpemUiLCJfZGIiLCJvcGVuRGF0YWJhc2UiLCJuZXh0S2V5IiwiX3NxbCIsImlfMSIsInNvcnQiLCJfY2hrVGFibGUiLCJhbGxvd1dyaXRlIiwic3FsIiwidHgiLCJleGVjdXRlU3FsIiwidHgyIiwicmVhZFRyYW5zYWN0aW9uIiwiX2IiLCJuZXdSb3ciLCJyXzEiLCJyXzIiLCJiYXRjaFJlYWQiLCJnZXRLZXlzIiwic3RhcnRJRFgiLCJzdG1udCIsIl9ldmFsQ29udGV4dCIsImNvbnRleHQiLCJjb21waWxlZCIsIl9JbmRleGVkREJTdG9yZSIsInVzZVdvcmtlciIsIl93b3JrZXIiLCJfd2FpdGluZ0NCcyIsIl91c2VXb3JrZXIiLCJfdyIsIldvcmtlciIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsIkJsb2IiLCJfaGFuZGxlV1dNZXNzYWdlIiwiZG8iLCJsaXN0ZW5lcnNfMSIsIm1zZyIsImxpc3RlbmVyIiwidHJhbnNmZXIiLCJwa0tleXMiLCJfU3luY1N0b3JlIiwidXNlTG9jYWxTdG9yYWdlIiwiX3Jvd3MiLCJfbHMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJUcmllIiwiaW5wdXQiLCJfdHJpZSIsIl9jcmVhdGUiLCJzZXRJbmRleCIsInRyaWUiLCJhZGRXb3JkIiwid29yZCIsInByZXZpb3VzVmFsdWUiLCJjdXJyZW50VmFsdWUiLCJjdXJyZW50SW5kZXgiLCJhcnJheSIsIl9hcHBlbmQiLCJyZW1vdmVXb3JkIiwiX2NoZWNrUHJlZml4IiwicHJlZml4Rm91bmQiLCJwcmVmaXhOb2RlIiwiZ2V0V29yZHMiLCJfcmVjdXJzZVByZWZpeCIsImdldFByZWZpeCIsInN0clByZWZpeCIsIl9pc1ByZWZpeCIsInByZWZpeCIsImV2ZXJ5IiwiYWNjdW11bGF0b3IiLCJub2RlIiwicHJlZml4ZXMiLCJicmFuY2giLCJwcmVmaXhfdHJpZV90c18xIiwiYWRhcHRlcl9zeW5jXzEiLCJhZGFwdGVyX2luZGV4ZWREQl8xIiwiYWRhcHRlcl93ZWJzcWxfMSIsImFkYXB0ZXJfbGV2ZWxEQl8xIiwiX05hbm9TUUxTdG9yYWdlIiwiX3RhYmxlTmFtZXMiLCJfbnNxbCIsIl9tb2RlIiwicGVyc2lzdGVudCIsImFkYXB0ZXJzIiwidGFibGVJbmZvIiwiX3RyaWVJbmRleGVzIiwiX2RvQ2FjaGUiLCJjYWNoZSIsIl9jYWNoZSIsIl9jYWNoZUtleXMiLCJhZGFwdGVyIiwid2FpdEZvcldyaXRlcyIsIl9kZXRlY3RTdG9yYWdlTWV0aG9kIiwiZGJQYXRoIiwiaW5pdCIsIl9jcmVhdGVTZWNvbmRhcnlJbmRleFRhYmxlcyIsIl9uZXdUYWJsZSIsIl9yZWxGcm9tVGFibGUiLCJfcmVsVG9UYWJsZSIsIl9yZWxhdGlvbkNvbHVtbnMiLCJfY29sdW1uc0FyZVRhYmxlcyIsIl92aWV3VGFibGVzIiwicGtDb2x1bW4iLCJtYXBUb18xIiwiX3RvVGFibGUiLCJfdGhpc1R5cGUiLCJfaGFzT1JNIiwiX3RvQ29sdW1uIiwiX3RvVHlwZSIsInJlbCIsIl90aGlzQ29sdW1uIiwiX2Zyb21UYWJsZSIsIl9mcm9tQ29sdW1uIiwiX2Zyb21UeXBlIiwic2V0TlNRTCIsInRyaWVDb2x1bW5zIiwiaWkiLCJuZXh0Q29sdW1uIiwiaWR4VGFibGUiLCJfaW52YWxpZGF0ZUNhY2hlIiwidmFsaWQiLCJyZWJ1aWxkSW5kZXhlcyIsInNlY29uZEluZGV4ZXMiLCJfc2Vjb25kYXJ5SW5kZXhlcyIsImlkeERvbmUiLCJfZHJvcCIsIl9wayIsImluZGV4R3JvdXBzIiwiX3JlYWQiLCJyb3dLZXkiLCJhZGFwdGVyV3JpdGUiLCJfc2Vjb25kYXJ5SW5kZXhLZXkiLCJzdWJzdHIiLCJpbmRleGVkREIiLCJ3IiwidGVybWluYXRlIiwiZGVsZXRlRGF0YWJhc2UiLCJfc2Vjb25kYXJ5SW5kZXhSZWFkIiwic2VhcmNoIiwiX3JhbmdlUmVhZCIsInVzZVBLcyIsInEiLCJrZWVwIiwiX3RyaWVSZWFkIiwid29yZHMiLCJhcnJheU9mUm93cyIsIl9jbGVhclNlY29uZGFyeUluZGV4ZXMiLCJza2lwQ29sdW1ucyIsIl9zZXRTZWNvbmRhcnlJbmRleGVzIiwiaW5kZXhSb3ciLCJfd3JpdGUiLCJvbGRSb3ciLCJzZXRSb3dfMSIsInNhbWVLZXlzXzEiLCJfZGVsZXRlIiwiYWRhcHRlckRlbGV0ZSIsImFkYXB0ZXJEcm9wIiwiX3RyaWVDb2x1bW5zIiwiY28iLCJoYXNJRFgiLCJfa2V5cyIsIl9kZWZhdWx0cyIsIl9uYW1lIiwiX2xvb3BfMiIsInRoaXNfMSIsImlzMm5kSW5kZXhfMSIsIl9oYXNWaWV3cyIsImNvbHVtbnMiLCJ0aGlzQ29sdW1uIiwib3RoZXJDb2x1bW4iLCJxdWVyeU9iaiIsInNlbGVjdCIsIl9zZWxlY3QiLCJ1cHNlcnQiLCJfdXBzZXJ0Iiwic2hvdyB0YWJsZXMiLCJfcXVlcnkiLCJfc3RvcmUiLCJkZXNjcmliZSIsIl9OYW5vU1FMU3RvcmFnZVF1ZXJ5IiwiZG9RdWVyeSIsIl9pc0luc3RhbmNlVGFibGUiLCJfZ2V0Um93cyIsIkluc3RhbmNlU2VsZWN0aW9uIiwiX1Jvd1NlbGVjdGlvbiIsIl9zZXRDYWNoZSIsIl9oYXNoIiwiY2FuQ2FjaGUiLCJvcm0iLCJfTXV0YXRlU2VsZWN0aW9uIiwiX2V4ZWN1dGVRdWVyeUFyZ3VtZW50cyIsIl91cGRhdGVPUk1Sb3dzIiwicmVsYXRpb24iLCJmcm9tUEtzIiwicHJpbWFyeUtleSIsImlkeE9mIiwiX3N5bmNPUk0iLCJvbGRSb3dzIiwibmV3Um93cyIsInVzZVJlbGF0aW9ucyIsImNudCIsIm1heCIsImFycmEiLCJyZWxhdGlvbkRvbmUiLCJ2YWwxIiwidmFsMiIsImRlbFByaW1hcnlrZXkiLCJ1cGRhdGVJRHMiLCJwcmltYXJ5S2V5XzEiLCJhZGRJZHMiLCJyZW1vdmVJZHMiLCJsaXN0IiwiYWRkUmVsYXRpb24iLCJ2YWx1ZXNUb0FkZCIsIl91cGRhdGVSb3dWaWV3cyIsIm5ld1Jvd0RhdGEiLCJjb2wiLCJyZWZSb3dzIiwiX3VwZGF0ZVJlbW90ZVZpZXdzIiwidXBkYXRlZFJvd3MiLCJkb0RlbCIsInZpZXciLCJyZWxhdGVkUm93cyIsInJlbFBLIiwiclJvdyIsInJEb25lIiwiZG9VcGRhdGUiLCJyUGsiLCJfZG9BZnRlclF1ZXJ5IiwidXBkYXRlZENvbHVtbnMiLCJ3cml0ZV8xIiwiX2dyb3VwQnlDb2x1bW5zIiwiX2pvaW4iLCJqb2luQ29uZGl0aW9ucyIsIl9sZWZ0IiwiX2NoZWNrIiwiX3JpZ2h0IiwibGVmdFRhYmxlIiwicmlnaHRUYWJsZSIsIl9kb0pvaW4iLCJqb2luZWRSb3dzIiwiX3doZXJlIiwiX2dyb3VwQnlLZXkiLCJfZ3JvdXBCeSIsImdyb3VwQnkiLCJzb3J0ZWRSb3dzIiwiX3NvcnRPYmoiLCJncm91cEJ5S2V5IiwiX3NvcnRHcm91cHMiLCJfaGF2aW5nIiwiaGF2aW5nIiwiX29yZGVyQnkiLCJvcmRlckJ5IiwiX29mZnNldCIsIm9mZnNldCIsIl9saW1pdCIsImxpbWl0IiwiX29ybSIsIm9ybVF1ZXJpZXMiLCJyb3dSZXN1bHQiLCJvcm1SZXN1bHQiLCJyZWxhdGVEYXRhIiwiTCIsImZpcnN0VGFibGVEYXRhIiwic2Vjb25UYWJsZURhdGEiLCJkb0pvaW5Sb3dzIiwibGVmdFJvdyIsInJpZ2h0Um93Iiwiam9pblRhYmxlIiwicmlnaHRLZXkiLCJ1c2VkU2Vjb25kVGFibGVSb3dzIiwic2Vjb25kUm93Q2FjaGUiLCJmaXJzdFJvdyIsImhhc09uZVJlbGF0aW9uIiwic2Vjb25kUm93IiwiaWR4MiIsImtlZXAyIiwiYWRkUm93cyIsIm9iakEiLCJvYmpCIiwicmVzb2x2ZVBhdGhzIiwiQSIsIl9tdXRhdGVSb3dzIiwiY29sdW1uU2VsZWN0aW9uIiwiZnVuY3Rpb25SZXN1bHRzIiwiZm5Hcm91cEJ5UmVzdWx0cyIsImhhc0FnZ3JlZ2F0ZUZ1bl8xIiwiY29sdW1uRGF0YV8xIiwiY29sdW1uRG9uZSIsImZuQXJnc18xIiwiZm5Eb25lIiwiZG9NdWF0ZVJvd3MiLCJmblJlc3VsdHMiLCJoYXNGdW5jIiwiYWxpYXMiLCJvbmVSb3dfMSIsIm5ld1Jvd3NfMSIsInRoaXNSb3ciLCJpbnB1dFJvd3MiLCJhZnRlck11dGF0ZSIsImFmdGVyT1JNIiwiYWZ0ZXJKb2luIiwiX3NlbGVjdEJ5VHJpZSIsIl9zZWxlY3RCeVJhbmdlIiwiX2lzT3B0aW1pemVkV2hlcmUiLCJfc2VsZWN0QnlLZXlzIiwid2hlcmVTbGljZSIsIl9pc1N1Yk9wdGltaXplZFdoZXJlIiwiZmFzdFdoZXJlIiwic2xvd1doZXJlXzEiLCJfZnVsbFRhYmxlU2NhbiIsIl9zZWxlY3RSb3dzQnlJbmRleCIsInJlc3VsdFJvd3NfMSIsImxhc3RDb21tYW5kXzEiLCJ3QXJnIiwibmV4dFdBcmciLCJpZHhfMSIsInNlY29uZGFyeUluZGV4S2V5IiwiY291bnQiLCJmcm9tSWR4IiwidG9JZHgiLCJoYXNXaGVyZSIsImFycldoZXJlIiwid0FyZ3MiLCJsYXN0Q2hlY2tfMSIsInRhYmxlRGF0YSIsImZyb21fMSIsInRvXzEiLCJzaW5nbGVSb3ciLCJjb21tYW5kcyIsImNoZWNrV2hlcmVfMSIsIl9jb21wYXJlIiwiY29tcGFyZSIsInNldFZhbHVlIiwiY29sdW1uVmFsdWUiLCJnaXZlblZhbHVlIiwicG9zIiwicXVlcnlfMSIsInN0b3JhZ2VfMSIsIl9xdWVyeVBvb2wiLCJfcXVlcnlQdHIiLCJuZXdNb2RlbHMiLCJkb0V4ZWMiLCJleGVjQXJncyIsInN0YXRlIiwiZHVtcCIsImV4cG9ydFRhYmxlcyIsInBrS2V5IiwiblNRTGlfMSIsImxvZyIsInRhYmxlc18xIiwidGltZXMiLCJSU0UiLCJ0aGlzUSIsIl9xdWVyaWVzIiwiYmxhbmtSb3ciLCJydW5RdWVyeSIsIm5ld1EiLCJfaWRfIiwiaGFzTGVuZ3RoIiwiZXZlbnRfMSIsIm5vdyIsIl9BViIsIm5ld0UiLCJkZWJvdW5jZVRpbWVycyIsInF1ZXJ5QWN0aW9uIiwicXVlcnlBcmdzIiwicHJpbWFyeUtleXMiLCJkZWJvdW5jZSIsIm9ybUFyZ3MiLCJfZXJyb3IiLCJ0cmllU2VhcmNoIiwic3RyaW5nVG9TZWFyY2giLCJ0b0NTViIsImhlYWRlcnMiLCJqc29uIiwiZGVub3JtYWxpemF0aW9uUXVlcnkiLCJmbnNUb1J1bl8xIiwiY29sdW1uc18xIiwibmV3VmFsdWUiLCJmbktleSIsImZuXzEiLCJQS18xIiwiZGVub3JtYWxpemF0aW9uS2V5XzEiLCJjbGVhclRpbWVvdXQiLCJpbnB1dEFyZ3NfMSIsIm1vZGVsQ29sdW1uc18xIiwiJE9iamVjdCIsIkQiLCJjaGVjayIsInNldFByb3RvdHlwZU9mIiwiYnVnZ3kiLCJfX3Byb3RvX18iLCJfc2V0UHJvdG90eXBlT2YyIiwiX2NyZWF0ZTIiLCJfdHlwZW9mMyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsImdPUE4iLCJ3aW5kb3dOYW1lcyIsImdldFdpbmRvd05hbWVzIiwiY29mIiwiZ09QUyIsImdldFN5bWJvbHMiLCJpc0VudW0iLCJNRVRBIiwic2V0RGVzYyIsImlzRXh0ZW5zaWJsZSIsIkZSRUVaRSIsInByZXZlbnRFeHRlbnNpb25zIiwic2V0TWV0YSIsIktFWSIsIk5FRUQiLCJmYXN0S2V5IiwiZ2V0V2VhayIsIm9uRnJlZXplIiwiREVTQ1JJUFRPUlMiLCIkZmFpbHMiLCJ3a3MiLCJ3a3NEZWZpbmUiLCJlbnVtS2V5cyIsImdPUE5FeHQiLCIkR09QRCIsIiREUCIsIiRKU09OIiwiX3N0cmluZ2lmeSIsIkhJRERFTiIsIlRPX1BSSU1JVElWRSIsIlN5bWJvbFJlZ2lzdHJ5IiwiQWxsU3ltYm9scyIsIk9QU3ltYm9scyIsIlVTRV9OQVRJVkUiLCJRT2JqZWN0Iiwic2V0dGVyIiwiZmluZENoaWxkIiwic2V0U3ltYm9sRGVzYyIsInByb3RvRGVzYyIsIndyYXAiLCJzeW0iLCJfayIsImlzU3ltYm9sIiwiaXRlcmF0b3IiLCIkZGVmaW5lUHJvcGVydHkiLCIkZGVmaW5lUHJvcGVydGllcyIsIiRwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIkUiLCIkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiJGdldE93blByb3BlcnR5TmFtZXMiLCIkZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiSVNfT1AiLCIkc2V0IiwiZXM2U3ltYm9scyIsIndlbGxLbm93blN5bWJvbHMiLCJmb3IiLCJrZXlGb3IiLCJ1c2VTZXR0ZXIiLCJ1c2VTaW1wbGUiLCJkZWZpbmVQcm9wZXJ0aWVzIiwicmVwbGFjZXIiLCIkcmVwbGFjZXIiLCJhZGRUb1Vuc2NvcGFibGVzIiwiaXRlcmF0ZWQiLCJfdCIsIkFyZ3VtZW50cyIsIlRPX1NUUklOR19UQUciLCJET01JdGVyYWJsZXMiLCJDb2xsZWN0aW9uIiwiZG9jdW1lbnRFbGVtZW50IiwidG9JbnRlZ2VyIiwibWluIiwidG9MZW5ndGgiLCJ0b0Fic29sdXRlSW5kZXgiLCJJU19JTkNMVURFUyIsIiR0aGlzIiwiZWwiLCJmcm9tSW5kZXgiLCJkZXNjcmlwdG9yIiwiVE9fU1RSSU5HIiwiJGF0IiwicG9pbnQiLCJfdHlwZW9mMiIsIlJlZmVyZW5jZUVycm9yIiwiZGVzYyIsIl9kZWZpbmVQcm9wZXJ0eSIsIl9kZWZpbmVQcm9wZXJ0eTIiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJpbnN0YW5jZSIsImZhaWxzIiwiZXhwIiwiJGdldFByb3RvdHlwZU9mIiwiX3JlYWN0IiwiQWNjb3VudFN0YXR1cyIsIl9yZWFjdDIiLCJuU1FMZGF0YSIsIl9uYW5vU3FsIiwidXNlcklkIiwiYmFsYW5jZSIsIl9oeXBoZW5QYXR0ZXJuIiwic3RyaW5nIiwiXyIsImNoYXJhY3RlciIsImNhbWVsaXplIiwibXNQYXR0ZXJuIiwiX3VwcGVyY2FzZVBhdHRlcm4iLCJoeXBoZW5hdGUiLCJkZWZhdWx0VmlldyIsIm93bmVyRG9jdW1lbnQiLCJOb2RlIiwibm9kZVR5cGUiLCJub2RlTmFtZSIsImlzTm9kZSIsImlzVGV4dE5vZGUiLCJjb250YWluc05vZGUiLCJvdXRlck5vZGUiLCJpbm5lck5vZGUiLCJwYXJlbnROb2RlIiwiY29udGFpbnMiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsInkiLCJrZXlzQSIsImtleXNCIiwiZG9jIiwiYWN0aXZlRWxlbWVudCIsImJvZHkiLCJjYW5Vc2VET00iLCJFeGVjdXRpb25FbnZpcm9ubWVudCIsImNhblVzZVdvcmtlcnMiLCJjYW5Vc2VFdmVudExpc3RlbmVycyIsImF0dGFjaEV2ZW50IiwiY2FuVXNlVmlld3BvcnQiLCJzY3JlZW4iLCJpc0luV29ya2VyIiwiUmVhY3QiLCJjaGVja1Byb3BUeXBlcyIsImdldEFjdGl2ZUVsZW1lbnQiLCJzaGFsbG93RXF1YWwiLCJoeXBoZW5hdGVTdHlsZU5hbWUiLCJjYW1lbGl6ZVN0eWxlTmFtZSIsImludm9rZUd1YXJkZWRDYWxsYmFjayIsIl9oYXNDYXVnaHRFcnJvciIsIl9jYXVnaHRFcnJvciIsImZ1bmNBcmdzIiwiZGlzcGF0Y2hFdmVudCIsImNyZWF0ZUV2ZW50IiwiZmFrZU5vZGUiLCJldnQiLCJkaWRFcnJvciIsImRpZFNldEVycm9yIiwiaXNDcm9zc09yaWdpbkVycm9yIiwiY29sbm8iLCJsaW5lbm8iLCJldnRUeXBlIiwiY2FsbENhbGxiYWNrIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImluaXRFdmVudCIsImludm9rZUd1YXJkZWRDYWxsYmFjayQxIiwiUmVhY3RFcnJvclV0aWxzIiwiX3JldGhyb3dFcnJvciIsIl9oYXNSZXRocm93RXJyb3IiLCJpbnZva2VHdWFyZGVkQ2FsbGJhY2tBbmRDYXRjaEZpcnN0RXJyb3IiLCJoYXNDYXVnaHRFcnJvciIsImNsZWFyQ2F1Z2h0RXJyb3IiLCJyZXRocm93Q2F1Z2h0RXJyb3IiLCJldmVudFBsdWdpbk9yZGVyIiwibmFtZXNUb1BsdWdpbnMiLCJyZWNvbXB1dGVQbHVnaW5PcmRlcmluZyIsInBsdWdpbk5hbWUiLCJwbHVnaW5Nb2R1bGUiLCJwbHVnaW5JbmRleCIsImV4dHJhY3RFdmVudHMiLCJwdWJsaXNoZWRFdmVudHMiLCJldmVudE5hbWUiLCJwdWJsaXNoRXZlbnRGb3JQbHVnaW4iLCJkaXNwYXRjaENvbmZpZyIsImV2ZW50TmFtZURpc3BhdGNoQ29uZmlncyIsInBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzIiwicGhhc2VOYW1lIiwicHVibGlzaFJlZ2lzdHJhdGlvbk5hbWUiLCJyZWdpc3RyYXRpb25OYW1lIiwicmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMiLCJyZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzIiwiZGVwZW5kZW5jaWVzIiwibG93ZXJDYXNlZE5hbWUiLCJwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzIiwib25kYmxjbGljayIsImluamVjdEV2ZW50UGx1Z2luT3JkZXIiLCJpbmplY3RlZEV2ZW50UGx1Z2luT3JkZXIiLCJpbmplY3RFdmVudFBsdWdpbnNCeU5hbWUiLCJpbmplY3RlZE5hbWVzVG9QbHVnaW5zIiwiaXNPcmRlcmluZ0RpcnR5IiwiRXZlbnRQbHVnaW5SZWdpc3RyeSIsImdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGUiLCJnZXRJbnN0YW5jZUZyb21Ob2RlIiwiZ2V0Tm9kZUZyb21JbnN0YW5jZSIsImluamVjdGlvbiQxIiwiSW5qZWN0ZWQiLCJ2YWxpZGF0ZUV2ZW50RGlzcGF0Y2hlcyIsImV4ZWN1dGVEaXNwYXRjaCIsInNpbXVsYXRlZCIsImluc3QiLCJjdXJyZW50VGFyZ2V0IiwiYWNjdW11bGF0ZUludG8iLCJjdXJyZW50IiwiZm9yRWFjaEFjY3VtdWxhdGVkIiwic2NvcGUiLCJkaXNwYXRjaExpc3RlbmVycyIsIl9kaXNwYXRjaExpc3RlbmVycyIsImRpc3BhdGNoSW5zdGFuY2VzIiwiX2Rpc3BhdGNoSW5zdGFuY2VzIiwibGlzdGVuZXJzSXNBcnIiLCJsaXN0ZW5lcnNMZW4iLCJpbnN0YW5jZXNJc0FyciIsImluc3RhbmNlc0xlbiIsImV2ZW50UXVldWUiLCJleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2UiLCJpc1Byb3BhZ2F0aW9uU3RvcHBlZCIsImV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlciIsImlzUGVyc2lzdGVudCIsInJlbGVhc2UiLCJleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2VTaW11bGF0ZWQiLCJleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2VUb3BMZXZlbCIsImluamVjdGlvbiIsImdldExpc3RlbmVyIiwic3RhdGVOb2RlIiwiZGlzYWJsZWQiLCJzaG91bGRQcmV2ZW50TW91c2VFdmVudCIsInJ1bkV2ZW50c0luQmF0Y2giLCJldmVudHMiLCJwcm9jZXNzaW5nRXZlbnRRdWV1ZSIsInJ1bkV4dHJhY3RlZEV2ZW50c0luQmF0Y2giLCJ0b3BMZXZlbFR5cGUiLCJ0YXJnZXRJbnN0IiwibmF0aXZlRXZlbnQiLCJuYXRpdmVFdmVudFRhcmdldCIsInBvc3NpYmxlUGx1Z2luIiwiZXh0cmFjdGVkRXZlbnRzIiwiRXZlbnRQbHVnaW5IdWIiLCJJbmRldGVybWluYXRlQ29tcG9uZW50IiwiRnVuY3Rpb25hbENvbXBvbmVudCIsIkNsYXNzQ29tcG9uZW50IiwiSG9zdFJvb3QiLCJIb3N0UG9ydGFsIiwiSG9zdENvbXBvbmVudCIsIkhvc3RUZXh0IiwiQ2FsbENvbXBvbmVudCIsIkNhbGxIYW5kbGVyUGhhc2UiLCJSZXR1cm5Db21wb25lbnQiLCJGcmFnbWVudCIsIk1vZGUiLCJDb250ZXh0Q29uc3VtZXIiLCJDb250ZXh0UHJvdmlkZXIiLCJGb3J3YXJkUmVmIiwicmFuZG9tS2V5IiwiaW50ZXJuYWxJbnN0YW5jZUtleSIsImludGVybmFsRXZlbnRIYW5kbGVyc0tleSIsInByZWNhY2hlRmliZXJOb2RlJDEiLCJob3N0SW5zdCIsImdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlIiwiZ2V0SW5zdGFuY2VGcm9tTm9kZSQxIiwiZ2V0Tm9kZUZyb21JbnN0YW5jZSQxIiwiZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZSQxIiwidXBkYXRlRmliZXJQcm9wcyQxIiwiUmVhY3RET01Db21wb25lbnRUcmVlIiwicHJlY2FjaGVGaWJlck5vZGUiLCJ1cGRhdGVGaWJlclByb3BzIiwiZ2V0UGFyZW50IiwidHJhdmVyc2VUd29QaGFzZSIsInRyYXZlcnNlRW50ZXJMZWF2ZSIsImFyZ0Zyb20iLCJhcmdUbyIsImNvbW1vbiIsImluc3RBIiwiaW5zdEIiLCJkZXB0aEEiLCJ0ZW1wQSIsImRlcHRoQiIsInRlbXBCIiwiZGVwdGgiLCJhbHRlcm5hdGUiLCJnZXRMb3dlc3RDb21tb25BbmNlc3RvciIsInBhdGhGcm9tIiwicGF0aFRvIiwiX2FsdGVybmF0ZSIsImFjY3VtdWxhdGVEaXJlY3Rpb25hbERpc3BhdGNoZXMiLCJwaGFzZSIsInByb3BhZ2F0aW9uUGhhc2UiLCJsaXN0ZW5lckF0UGhhc2UiLCJhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlIiwiX3RhcmdldEluc3QiLCJhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlU2tpcFRhcmdldCIsImFjY3VtdWxhdGVEaXNwYXRjaGVzIiwiaWdub3JlZERpcmVjdGlvbiIsImFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzU2luZ2xlIiwiYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyIsImFjY3VtdWxhdGVFbnRlckxlYXZlRGlzcGF0Y2hlcyIsImxlYXZlIiwiZW50ZXIiLCJFdmVudFByb3BhZ2F0b3JzIiwiYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NraXBUYXJnZXQiLCJhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlcyIsImNvbnRlbnRLZXkiLCJnZXRUZXh0Q29udGVudEFjY2Vzc29yIiwiY29tcG9zaXRpb25TdGF0ZSIsIl9yb290IiwiX3N0YXJ0VGV4dCIsIl9mYWxsYmFja1RleHQiLCJnZXREYXRhIiwic3RhcnRWYWx1ZSIsInN0YXJ0TGVuZ3RoIiwiZW5kVmFsdWUiLCJnZXRUZXh0IiwiZW5kTGVuZ3RoIiwibWluRW5kIiwic2xpY2VUYWlsIiwiZGlkV2FybkZvckFkZGVkTmV3UHJvcGVydHkiLCJFVkVOVF9QT09MX1NJWkUiLCJzaG91bGRCZVJlbGVhc2VkUHJvcGVydGllcyIsIkV2ZW50SW50ZXJmYWNlIiwiZXZlbnRQaGFzZSIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwidGltZVN0YW1wIiwiZGVmYXVsdFByZXZlbnRlZCIsImlzVHJ1c3RlZCIsIlN5bnRoZXRpY0V2ZW50IiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJJbnRlcmZhY2UiLCJwcm9wTmFtZSIsIm5vcm1hbGl6ZSIsImlzRGVmYXVsdFByZXZlbnRlZCIsImdldFBvb2xlZFdhcm5pbmdQcm9wZXJ0eURlZmluaXRpb24iLCJnZXRWYWwiLCJpc0Z1bmN0aW9uIiwid2FybiIsImdldFBvb2xlZEV2ZW50IiwibmF0aXZlSW5zdCIsImV2ZW50UG9vbCIsInJlbGVhc2VQb29sZWRFdmVudCIsImRlc3RydWN0b3IiLCJhZGRFdmVudFBvb2xpbmdUbyIsIkV2ZW50Q29uc3RydWN0b3IiLCJnZXRQb29sZWQiLCJjYW5jZWxCdWJibGUiLCJwZXJzaXN0IiwiU3VwZXIiLCJDbGFzcyIsIlByb3h5IiwiaXNTZWFsZWQiLCJjb25zdHJ1Y3QiLCJTeW50aGV0aWNFdmVudCQxIiwiU3ludGhldGljQ29tcG9zaXRpb25FdmVudCIsIlN5bnRoZXRpY0lucHV0RXZlbnQiLCJFTkRfS0VZQ09ERVMiLCJTVEFSVF9LRVlDT0RFIiwiY2FuVXNlQ29tcG9zaXRpb25FdmVudCIsImRvY3VtZW50TW9kZSIsImNhblVzZVRleHRJbnB1dEV2ZW50IiwidXNlRmFsbGJhY2tDb21wb3NpdGlvbkRhdGEiLCJTUEFDRUJBUl9DT0RFIiwiU1BBQ0VCQVJfQ0hBUiIsImJlZm9yZUlucHV0IiwiYnViYmxlZCIsImNhcHR1cmVkIiwiY29tcG9zaXRpb25FbmQiLCJjb21wb3NpdGlvblN0YXJ0IiwiY29tcG9zaXRpb25VcGRhdGUiLCJoYXNTcGFjZUtleXByZXNzIiwiaXNGYWxsYmFja0NvbXBvc2l0aW9uRW5kIiwia2V5Q29kZSIsImdldERhdGFGcm9tQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJpc0NvbXBvc2luZyIsImV4dHJhY3RDb21wb3NpdGlvbkV2ZW50IiwiZXZlbnRUeXBlIiwiZmFsbGJhY2tEYXRhIiwiZ2V0Q29tcG9zaXRpb25FdmVudFR5cGUiLCJpc0ZhbGxiYWNrQ29tcG9zaXRpb25TdGFydCIsImluaXRpYWxpemUiLCJjdXN0b21EYXRhIiwiZ2V0RmFsbGJhY2tCZWZvcmVJbnB1dENoYXJzIiwiY2hhcnMiLCJjdHJsS2V5IiwiYWx0S2V5IiwibWV0YUtleSIsImlzS2V5cHJlc3NDb21tYW5kIiwiY2hhciIsIndoaWNoIiwiZXh0cmFjdEJlZm9yZUlucHV0RXZlbnQiLCJnZXROYXRpdmVCZWZvcmVJbnB1dENoYXJzIiwiQmVmb3JlSW5wdXRFdmVudFBsdWdpbiIsImNvbXBvc2l0aW9uIiwiZmliZXJIb3N0Q29tcG9uZW50IiwicmVzdG9yZVRhcmdldCIsInJlc3RvcmVRdWV1ZSIsInJlc3RvcmVTdGF0ZU9mVGFyZ2V0IiwiaW50ZXJuYWxJbnN0YW5jZSIsInJlc3RvcmVDb250cm9sbGVkU3RhdGUiLCJpbmplY3Rpb24kMiIsImluamVjdEZpYmVyQ29udHJvbGxlZEhvc3RDb21wb25lbnQiLCJob3N0Q29tcG9uZW50SW1wbCIsImVucXVldWVTdGF0ZVJlc3RvcmUiLCJuZWVkc1N0YXRlUmVzdG9yZSIsInJlc3RvcmVTdGF0ZUlmTmVlZGVkIiwicXVldWVkVGFyZ2V0cyIsIlJlYWN0Q29udHJvbGxlZENvbXBvbmVudCIsIl9iYXRjaGVkVXBkYXRlcyIsImJvb2trZWVwaW5nIiwiX2ludGVyYWN0aXZlVXBkYXRlcyIsIl9mbHVzaEludGVyYWN0aXZlVXBkYXRlcyIsImlzQmF0Y2hpbmciLCJiYXRjaGVkVXBkYXRlcyIsImluamVjdGlvbiQzIiwicmVuZGVyZXIiLCJpbnRlcmFjdGl2ZVVwZGF0ZXMiLCJmbHVzaEludGVyYWN0aXZlVXBkYXRlcyIsInN1cHBvcnRlZElucHV0VHlwZXMiLCJjb2xvciIsImRhdGUiLCJkYXRldGltZSIsImRhdGV0aW1lLWxvY2FsIiwiZW1haWwiLCJtb250aCIsIm51bWJlciIsInBhc3N3b3JkIiwidGVsIiwidGV4dCIsInVybCIsIndlZWsiLCJpc1RleHRJbnB1dEVsZW1lbnQiLCJlbGVtIiwiRUxFTUVOVF9OT0RFIiwiVEVYVF9OT0RFIiwiQ09NTUVOVF9OT0RFIiwiRE9DVU1FTlRfTk9ERSIsIkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUiLCJnZXRFdmVudFRhcmdldCIsImNvcnJlc3BvbmRpbmdVc2VFbGVtZW50IiwiaXNFdmVudFN1cHBvcnRlZCIsImV2ZW50TmFtZVN1ZmZpeCIsImNhcHR1cmUiLCJpc1N1cHBvcnRlZCIsImVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJpc0NoZWNrYWJsZSIsImdldFRyYWNrZXIiLCJfdmFsdWVUcmFja2VyIiwidHJhY2siLCJ2YWx1ZUZpZWxkIiwiZ2V0VmFsdWUiLCJzdG9wVHJhY2tpbmciLCJkZXRhY2hUcmFja2VyIiwidHJhY2tWYWx1ZU9uTm9kZSIsInVwZGF0ZVZhbHVlSWZDaGFuZ2VkIiwidHJhY2tlciIsImxhc3RWYWx1ZSIsIm5leHRWYWx1ZSIsImNoZWNrZWQiLCJnZXRWYWx1ZUZyb21Ob2RlIiwiUmVhY3RJbnRlcm5hbHMiLCJfX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRCIsIlJlYWN0Q3VycmVudE93bmVyIiwiUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSIsImRlc2NyaWJlQ29tcG9uZW50RnJhbWUiLCJvd25lck5hbWUiLCJmaWxlTmFtZSIsImxpbmVOdW1iZXIiLCJoYXNTeW1ib2wiLCJSRUFDVF9FTEVNRU5UX1RZUEUiLCJSRUFDVF9DQUxMX1RZUEUiLCJSRUFDVF9SRVRVUk5fVFlQRSIsIlJFQUNUX1BPUlRBTF9UWVBFIiwiUkVBQ1RfRlJBR01FTlRfVFlQRSIsIlJFQUNUX1NUUklDVF9NT0RFX1RZUEUiLCJSRUFDVF9QUk9WSURFUl9UWVBFIiwiUkVBQ1RfQ09OVEVYVF9UWVBFIiwiUkVBQ1RfQVNZTkNfTU9ERV9UWVBFIiwiUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSIsIk1BWUJFX0lURVJBVE9SX1NZTUJPTCIsIkZBVVhfSVRFUkFUT1JfU1lNQk9MIiwiZ2V0SXRlcmF0b3JGbiIsIm1heWJlSXRlcmFibGUiLCJtYXliZUl0ZXJhdG9yIiwiZ2V0Q29tcG9uZW50TmFtZSIsImZpYmVyIiwiZGlzcGxheU5hbWUiLCJkZXNjcmliZUZpYmVyIiwib3duZXIiLCJfZGVidWdPd25lciIsIl9kZWJ1Z1NvdXJjZSIsImdldFN0YWNrQWRkZW5kdW1CeVdvcmtJblByb2dyZXNzRmliZXIiLCJ3b3JrSW5Qcm9ncmVzcyIsImluZm8iLCJnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDEiLCJSZWFjdERlYnVnQ3VycmVudEZpYmVyIiwicmVzZXRDdXJyZW50RmliZXIiLCJnZXRDdXJyZW50U3RhY2siLCJzZXRDdXJyZW50RmliZXIiLCJzZXRDdXJyZW50UGhhc2UiLCJnZXRDdXJyZW50RmliZXJPd25lck5hbWUiLCJnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtIiwiUkVTRVJWRUQiLCJCT09MRUFOSVNIX1NUUklORyIsIkJPT0xFQU4iLCJPVkVSTE9BREVEX0JPT0xFQU4iLCJOVU1FUklDIiwiUE9TSVRJVkVfTlVNRVJJQyIsIkFUVFJJQlVURV9OQU1FX1NUQVJUX0NIQVIiLCJBVFRSSUJVVEVfTkFNRV9DSEFSIiwiUk9PVF9BVFRSSUJVVEVfTkFNRSIsIlZBTElEX0FUVFJJQlVURV9OQU1FX1JFR0VYIiwiUmVnRXhwIiwiaWxsZWdhbEF0dHJpYnV0ZU5hbWVDYWNoZSIsInZhbGlkYXRlZEF0dHJpYnV0ZU5hbWVDYWNoZSIsImlzQXR0cmlidXRlTmFtZVNhZmUiLCJhdHRyaWJ1dGVOYW1lIiwic2hvdWxkSWdub3JlQXR0cmlidXRlIiwicHJvcGVydHlJbmZvIiwiaXNDdXN0b21Db21wb25lbnRUYWciLCJzaG91bGRSZW1vdmVBdHRyaWJ1dGVXaXRoV2FybmluZyIsImFjY2VwdHNCb29sZWFucyIsInNob3VsZFJlbW92ZUF0dHJpYnV0ZSIsImdldFByb3BlcnR5SW5mbyIsInByb3BlcnRpZXMiLCJQcm9wZXJ0eUluZm9SZWNvcmQiLCJtdXN0VXNlUHJvcGVydHkiLCJhdHRyaWJ1dGVOYW1lc3BhY2UiLCJwcm9wZXJ0eU5hbWUiLCJfcmVmIiwiQ0FNRUxJWkUiLCJjYXBpdGFsaXplIiwidG9rZW4iLCJnZXRWYWx1ZUZvclByb3BlcnR5IiwiZXhwZWN0ZWQiLCJzdHJpbmdWYWx1ZSIsImhhc0F0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZSIsImdldFZhbHVlRm9yQXR0cmlidXRlIiwic2V0VmFsdWVGb3JQcm9wZXJ0eSIsIl9hdHRyaWJ1dGVOYW1lIiwicmVtb3ZlQXR0cmlidXRlIiwiX3R5cGUiLCJhdHRyaWJ1dGVWYWx1ZSIsInNldEF0dHJpYnV0ZU5TIiwidGFiSW5kZXgiLCJSZWFjdENvbnRyb2xsZWRWYWx1ZVByb3BUeXBlcyIsImhhc1JlYWRPbmx5VmFsdWUiLCJidXR0b24iLCJjaGVja2JveCIsImltYWdlIiwiaGlkZGVuIiwicmFkaW8iLCJyZXNldCIsInN1Ym1pdCIsInByb3BUeXBlcyIsIm9uQ2hhbmdlIiwicmVhZE9ubHkiLCJ0YWdOYW1lIiwiZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlIiwiZGlkV2FybkNoZWNrZWREZWZhdWx0Q2hlY2tlZCIsImRpZFdhcm5Db250cm9sbGVkVG9VbmNvbnRyb2xsZWQiLCJkaWRXYXJuVW5jb250cm9sbGVkVG9Db250cm9sbGVkIiwiaXNDb250cm9sbGVkIiwiZ2V0SG9zdFByb3BzIiwiZGVmYXVsdENoZWNrZWQiLCJkZWZhdWx0VmFsdWUiLCJfd3JhcHBlclN0YXRlIiwiaW5pdGlhbENoZWNrZWQiLCJpbml0V3JhcHBlclN0YXRlIiwiaW5pdGlhbFZhbHVlIiwiZ2V0U2FmZVZhbHVlIiwiY29udHJvbGxlZCIsInVwZGF0ZUNoZWNrZWQiLCJ1cGRhdGVXcmFwcGVyIiwiX2NvbnRyb2xsZWQiLCJzZXREZWZhdWx0VmFsdWUiLCJwb3N0TW91bnRXcmFwcGVyIiwicm9vdE5vZGUiLCJxdWVyeVJvb3QiLCJncm91cCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJvdGhlck5vZGUiLCJmb3JtIiwib3RoZXJQcm9wcyIsInVwZGF0ZU5hbWVkQ291c2lucyIsImV2ZW50VHlwZXMkMSIsImNoYW5nZSIsImNyZWF0ZUFuZEFjY3VtdWxhdGVDaGFuZ2VFdmVudCIsImFjdGl2ZUVsZW1lbnRJbnN0IiwicnVuRXZlbnRJbkJhdGNoIiwiZ2V0SW5zdElmVmFsdWVDaGFuZ2VkIiwiZ2V0VGFyZ2V0SW5zdEZvckNoYW5nZUV2ZW50IiwiaXNJbnB1dEV2ZW50U3VwcG9ydGVkIiwic3RvcFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UiLCJkZXRhY2hFdmVudCIsImhhbmRsZVByb3BlcnR5Q2hhbmdlIiwibWFudWFsRGlzcGF0Y2hDaGFuZ2VFdmVudCIsImhhbmRsZUV2ZW50c0ZvcklucHV0RXZlbnRQb2x5ZmlsbCIsInN0YXJ0V2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSIsImdldFRhcmdldEluc3RGb3JJbnB1dEV2ZW50UG9seWZpbGwiLCJnZXRUYXJnZXRJbnN0Rm9yQ2xpY2tFdmVudCIsImdldFRhcmdldEluc3RGb3JJbnB1dE9yQ2hhbmdlRXZlbnQiLCJDaGFuZ2VFdmVudFBsdWdpbiIsIl9pc0lucHV0RXZlbnRTdXBwb3J0ZWQiLCJ0YXJnZXROb2RlIiwiZ2V0VGFyZ2V0SW5zdEZ1bmMiLCJoYW5kbGVFdmVudEZ1bmMiLCJzaG91bGRVc2VDbGlja0V2ZW50IiwiaGFuZGxlQ29udHJvbGxlZElucHV0Qmx1ciIsIlN5bnRoZXRpY1VJRXZlbnQiLCJtb2RpZmllcktleVRvUHJvcCIsIkFsdCIsIkNvbnRyb2wiLCJNZXRhIiwiU2hpZnQiLCJtb2RpZmllclN0YXRlR2V0dGVyIiwia2V5QXJnIiwiZ2V0TW9kaWZpZXJTdGF0ZSIsImtleVByb3AiLCJnZXRFdmVudE1vZGlmaWVyU3RhdGUiLCJTeW50aGV0aWNNb3VzZUV2ZW50Iiwic2NyZWVuWCIsInNjcmVlblkiLCJjbGllbnRYIiwiY2xpZW50WSIsInBhZ2VYIiwicGFnZVkiLCJzaGlmdEtleSIsImJ1dHRvbnMiLCJyZWxhdGVkVGFyZ2V0IiwiZnJvbUVsZW1lbnQiLCJzcmNFbGVtZW50IiwidG9FbGVtZW50IiwiZXZlbnRUeXBlcyQyIiwibW91c2VFbnRlciIsIm1vdXNlTGVhdmUiLCJFbnRlckxlYXZlRXZlbnRQbHVnaW4iLCJ3aW4iLCJwYXJlbnRXaW5kb3ciLCJyZWxhdGVkIiwiZnJvbU5vZGUiLCJ0b05vZGUiLCJfcmVhY3RJbnRlcm5hbEZpYmVyIiwiTm9FZmZlY3QiLCJQZXJmb3JtZWRXb3JrIiwiUGxhY2VtZW50IiwiVXBkYXRlIiwiUGxhY2VtZW50QW5kVXBkYXRlIiwiRGVsZXRpb24iLCJDb250ZW50UmVzZXQiLCJDYWxsYmFjayIsIkRpZENhcHR1cmUiLCJSZWYiLCJFcnJMb2ciLCJTbmFwc2hvdCIsIkhvc3RFZmZlY3RNYXNrIiwiSW5jb21wbGV0ZSIsIlNob3VsZENhcHR1cmUiLCJNT1VOVElORyIsIk1PVU5URUQiLCJVTk1PVU5URUQiLCJpc0ZpYmVyTW91bnRlZEltcGwiLCJlZmZlY3RUYWciLCJpc0ZpYmVyTW91bnRlZCIsImlzTW91bnRlZCIsImNvbXBvbmVudCIsIm93bmVyRmliZXIiLCJfd2FybmVkQWJvdXRSZWZzSW5SZW5kZXIiLCJhc3NlcnRJc01vdW50ZWQiLCJmaW5kQ3VycmVudEZpYmVyVXNpbmdTbG93UGF0aCIsInBhcmVudEEiLCJwYXJlbnRCIiwiY2hpbGQiLCJzaWJsaW5nIiwiZGlkRmluZENoaWxkIiwiX2NoaWxkIiwiU3ludGhldGljQW5pbWF0aW9uRXZlbnQiLCJhbmltYXRpb25OYW1lIiwiZWxhcHNlZFRpbWUiLCJwc2V1ZG9FbGVtZW50IiwiU3ludGhldGljQ2xpcGJvYXJkRXZlbnQiLCJjbGlwYm9hcmREYXRhIiwiU3ludGhldGljRm9jdXNFdmVudCIsImdldEV2ZW50Q2hhckNvZGUiLCJjaGFyQ29kZSIsIm5vcm1hbGl6ZUtleSIsIkVzYyIsIlNwYWNlYmFyIiwiTGVmdCIsIlVwIiwiUmlnaHQiLCJEb3duIiwiRGVsIiwiV2luIiwiTWVudSIsIkFwcHMiLCJTY3JvbGwiLCJNb3pQcmludGFibGVLZXkiLCJ0cmFuc2xhdGVUb0tleSIsIjgiLCI5IiwiMTIiLCIxMyIsIjE2IiwiMTciLCIxOCIsIjE5IiwiMjAiLCIyNyIsIjMyIiwiMzMiLCIzNCIsIjM1IiwiMzYiLCIzNyIsIjM4IiwiMzkiLCI0MCIsIjQ1IiwiNDYiLCIxMTIiLCIxMTMiLCIxMTQiLCIxMTUiLCIxMTYiLCIxMTciLCIxMTgiLCIxMTkiLCIxMjAiLCIxMjEiLCIxMjIiLCIxMjMiLCIxNDQiLCIxNDUiLCIyMjQiLCJTeW50aGV0aWNLZXlib2FyZEV2ZW50IiwicmVwZWF0IiwibG9jYWxlIiwiU3ludGhldGljRHJhZ0V2ZW50IiwiZGF0YVRyYW5zZmVyIiwiU3ludGhldGljVG91Y2hFdmVudCIsInRvdWNoZXMiLCJ0YXJnZXRUb3VjaGVzIiwiY2hhbmdlZFRvdWNoZXMiLCJTeW50aGV0aWNUcmFuc2l0aW9uRXZlbnQiLCJTeW50aGV0aWNXaGVlbEV2ZW50IiwiZGVsdGFYIiwid2hlZWxEZWx0YVgiLCJkZWx0YVkiLCJ3aGVlbERlbHRhWSIsIndoZWVsRGVsdGEiLCJkZWx0YVoiLCJkZWx0YU1vZGUiLCJldmVudFR5cGVzJDQiLCJ0b3BMZXZlbEV2ZW50c1RvRGlzcGF0Y2hDb25maWciLCJhZGRFdmVudFR5cGVOYW1lVG9Db25maWciLCJpc0ludGVyYWN0aXZlIiwiY2FwaXRhbGl6ZWRFdmVudCIsIm9uRXZlbnQiLCJ0b3BFdmVudCIsImV2ZW50VHlwZU5hbWUiLCJrbm93bkhUTUxUb3BMZXZlbFR5cGVzIiwiU2ltcGxlRXZlbnRQbHVnaW4iLCJpc0ludGVyYWN0aXZlVG9wTGV2ZWxFdmVudFR5cGUiLCJDQUxMQkFDS19CT09LS0VFUElOR19QT09MX1NJWkUiLCJjYWxsYmFja0Jvb2trZWVwaW5nUG9vbCIsImZpbmRSb290Q29udGFpbmVyTm9kZSIsImNvbnRhaW5lckluZm8iLCJoYW5kbGVUb3BMZXZlbCIsImJvb2tLZWVwaW5nIiwiYW5jZXN0b3IiLCJhbmNlc3RvcnMiLCJyb290IiwiX2VuYWJsZWQiLCJzZXRFbmFibGVkIiwiZW5hYmxlZCIsImlzRW5hYmxlZCIsInRyYXBCdWJibGVkRXZlbnQiLCJoYW5kbGVyQmFzZU5hbWUiLCJhZGRFdmVudEJ1YmJsZUxpc3RlbmVyIiwiZGlzcGF0Y2hJbnRlcmFjdGl2ZUV2ZW50IiwiYmluZCIsInRyYXBDYXB0dXJlZEV2ZW50IiwiYWRkRXZlbnRDYXB0dXJlTGlzdGVuZXIiLCJnZXRUb3BMZXZlbENhbGxiYWNrQm9va0tlZXBpbmciLCJSZWFjdERPTUV2ZW50TGlzdGVuZXIiLCJtYWtlUHJlZml4TWFwIiwic3R5bGVQcm9wIiwidmVuZG9yUHJlZml4ZXMiLCJhbmltYXRpb25lbmQiLCJhbmltYXRpb25pdGVyYXRpb24iLCJhbmltYXRpb25zdGFydCIsInRyYW5zaXRpb25lbmQiLCJwcmVmaXhlZEV2ZW50TmFtZXMiLCJnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZSIsInByZWZpeE1hcCIsImFuaW1hdGlvbiIsInRyYW5zaXRpb24iLCJ0b3BMZXZlbFR5cGVzIiwidG9wQW5pbWF0aW9uRW5kIiwidG9wQW5pbWF0aW9uSXRlcmF0aW9uIiwidG9wQW5pbWF0aW9uU3RhcnQiLCJ0b3BCbHVyIiwidG9wQ2FuY2VsIiwidG9wQ2hhbmdlIiwidG9wQ2xpY2siLCJ0b3BDbG9zZSIsInRvcENvbXBvc2l0aW9uRW5kIiwidG9wQ29tcG9zaXRpb25TdGFydCIsInRvcENvbXBvc2l0aW9uVXBkYXRlIiwidG9wQ29udGV4dE1lbnUiLCJ0b3BDb3B5IiwidG9wQ3V0IiwidG9wRG91YmxlQ2xpY2siLCJ0b3BEcmFnIiwidG9wRHJhZ0VuZCIsInRvcERyYWdFbnRlciIsInRvcERyYWdFeGl0IiwidG9wRHJhZ0xlYXZlIiwidG9wRHJhZ092ZXIiLCJ0b3BEcmFnU3RhcnQiLCJ0b3BEcm9wIiwidG9wRm9jdXMiLCJ0b3BJbnB1dCIsInRvcEtleURvd24iLCJ0b3BLZXlQcmVzcyIsInRvcEtleVVwIiwidG9wTG9hZCIsInRvcExvYWRTdGFydCIsInRvcE1vdXNlRG93biIsInRvcE1vdXNlTW92ZSIsInRvcE1vdXNlT3V0IiwidG9wTW91c2VPdmVyIiwidG9wTW91c2VVcCIsInRvcFBhc3RlIiwidG9wU2Nyb2xsIiwidG9wU2VsZWN0aW9uQ2hhbmdlIiwidG9wVGV4dElucHV0IiwidG9wVG9nZ2xlIiwidG9wVG91Y2hDYW5jZWwiLCJ0b3BUb3VjaEVuZCIsInRvcFRvdWNoTW92ZSIsInRvcFRvdWNoU3RhcnQiLCJ0b3BUcmFuc2l0aW9uRW5kIiwidG9wV2hlZWwiLCJtZWRpYUV2ZW50VHlwZXMiLCJ0b3BBYm9ydCIsInRvcENhblBsYXkiLCJ0b3BDYW5QbGF5VGhyb3VnaCIsInRvcER1cmF0aW9uQ2hhbmdlIiwidG9wRW1wdGllZCIsInRvcEVuY3J5cHRlZCIsInRvcEVuZGVkIiwidG9wRXJyb3IiLCJ0b3BMb2FkZWREYXRhIiwidG9wTG9hZGVkTWV0YWRhdGEiLCJ0b3BQYXVzZSIsInRvcFBsYXkiLCJ0b3BQbGF5aW5nIiwidG9wUHJvZ3Jlc3MiLCJ0b3BSYXRlQ2hhbmdlIiwidG9wU2Vla2VkIiwidG9wU2Vla2luZyIsInRvcFN0YWxsZWQiLCJ0b3BTdXNwZW5kIiwidG9wVGltZVVwZGF0ZSIsInRvcFZvbHVtZUNoYW5nZSIsInRvcFdhaXRpbmciLCJhbHJlYWR5TGlzdGVuaW5nVG8iLCJyZWFjdFRvcExpc3RlbmVyc0NvdW50ZXIiLCJ0b3BMaXN0ZW5lcnNJREtleSIsImdldExpc3RlbmluZ0ZvckRvY3VtZW50IiwibW91bnRBdCIsImdldExlYWZOb2RlIiwiZmlyc3RDaGlsZCIsImdldFNpYmxpbmdOb2RlIiwibmV4dFNpYmxpbmciLCJnZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0Iiwibm9kZVN0YXJ0Iiwibm9kZUVuZCIsInRleHRDb250ZW50IiwiZ2V0T2Zmc2V0cyIsInNlbGVjdGlvbiIsImdldFNlbGVjdGlvbiIsInJhbmdlQ291bnQiLCJhbmNob3JOb2RlIiwiYW5jaG9yT2Zmc2V0IiwiZm9jdXNOb2RlIiwiZm9jdXNPZmZzZXQiLCJpbmRleFdpdGhpbkFuY2hvciIsImluZGV4V2l0aGluRm9jdXMiLCJvdXRlciIsIm5vZGVWYWx1ZSIsImdldE1vZGVybk9mZnNldHNGcm9tUG9pbnRzIiwiaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzIiwiY29udGVudEVkaXRhYmxlIiwiZ2V0U2VsZWN0aW9uSW5mb3JtYXRpb24iLCJmb2N1c2VkRWxlbSIsInNlbGVjdGlvblJhbmdlIiwic2VsZWN0aW9uU3RhcnQiLCJzZWxlY3Rpb25FbmQiLCJnZXRTZWxlY3Rpb24kMSIsInJlc3RvcmVTZWxlY3Rpb24iLCJwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uIiwiY3VyRm9jdXNlZEVsZW0iLCJwcmlvckZvY3VzZWRFbGVtIiwicHJpb3JTZWxlY3Rpb25SYW5nZSIsIm9mZnNldHMiLCJ0ZW1wIiwic3RhcnRNYXJrZXIiLCJlbmRNYXJrZXIiLCJjcmVhdGVSYW5nZSIsInNldFN0YXJ0IiwicmVtb3ZlQWxsUmFuZ2VzIiwiYWRkUmFuZ2UiLCJzZXRFbmQiLCJzZXRPZmZzZXRzIiwic2V0U2VsZWN0aW9uIiwibGVmdCIsInNjcm9sbExlZnQiLCJ0b3AiLCJzY3JvbGxUb3AiLCJmb2N1cyIsInNraXBTZWxlY3Rpb25DaGFuZ2VFdmVudCIsImV2ZW50VHlwZXMkMyIsImFjdGl2ZUVsZW1lbnQkMSIsImFjdGl2ZUVsZW1lbnRJbnN0JDEiLCJsYXN0U2VsZWN0aW9uIiwibW91c2VEb3duIiwiY29uc3RydWN0U2VsZWN0RXZlbnQiLCJjdXJyZW50U2VsZWN0aW9uIiwic3ludGhldGljRXZlbnQiLCJTZWxlY3RFdmVudFBsdWdpbiIsImlzTGlzdGVuaW5nIiwiZGVwZW5kZW5jeSIsImlzTGlzdGVuaW5nVG9BbGxEZXBlbmRlbmNpZXMiLCJNQVhfU0lHTkVEXzMxX0JJVF9JTlQiLCJOb1dvcmsiLCJTeW5jIiwiTmV2ZXIiLCJVTklUX1NJWkUiLCJNQUdJQ19OVU1CRVJfT0ZGU0VUIiwibXNUb0V4cGlyYXRpb25UaW1lIiwiZXhwaXJhdGlvblRpbWVUb01zIiwiZXhwaXJhdGlvblRpbWUiLCJjb21wdXRlRXhwaXJhdGlvbkJ1Y2tldCIsImN1cnJlbnRUaW1lIiwiZXhwaXJhdGlvbkluTXMiLCJidWNrZXRTaXplTXMiLCJwcmVjaXNpb24iLCJOb0NvbnRleHQiLCJBc3luY01vZGUiLCJTdHJpY3RNb2RlIiwiaGFzQmFkTWFwUG9seWZpbGwiLCJub25FeHRlbnNpYmxlT2JqZWN0IiwidGVzdE1hcCIsIk1hcCIsInRlc3RTZXQiLCJTZXQiLCJkZWJ1Z0NvdW50ZXIiLCJjcmVhdGVGaWJlciIsInBlbmRpbmdQcm9wcyIsInJlZiIsIm1lbW9pemVkUHJvcHMiLCJ1cGRhdGVRdWV1ZSIsIm1lbW9pemVkU3RhdGUiLCJuZXh0RWZmZWN0IiwiZmlyc3RFZmZlY3QiLCJsYXN0RWZmZWN0IiwiX2RlYnVnSUQiLCJfZGVidWdJc0N1cnJlbnRseVRpbWluZyIsImNyZWF0ZVdvcmtJblByb2dyZXNzIiwiY3JlYXRlRmliZXJGcm9tRWxlbWVudCIsIl9vd25lciIsIkNvbXBvbmVudCIsImZpYmVyVGFnIiwiaXNSZWFjdENvbXBvbmVudCIsImNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50IiwiY2hpbGRyZW4iLCIkJHR5cGVvZiIsInRocm93T25JbnZhbGlkRWxlbWVudFR5cGUiLCJfc291cmNlIiwiZWxlbWVudHMiLCJjcmVhdGVGaWJlckZyb21UZXh0IiwiY29udGVudCIsImNyZWF0ZUZpYmVyRnJvbVBvcnRhbCIsInBvcnRhbCIsInBlbmRpbmdDaGlsZHJlbiIsImltcGxlbWVudGF0aW9uIiwiYXNzaWduRmliZXJQcm9wZXJ0aWVzSW5ERVYiLCJjcmVhdGVGaWJlclJvb3QiLCJpc0FzeW5jIiwiaHlkcmF0ZSIsInVuaW5pdGlhbGl6ZWRGaWJlciIsImNyZWF0ZUhvc3RSb290RmliZXIiLCJwZW5kaW5nQ29tbWl0RXhwaXJhdGlvblRpbWUiLCJmaW5pc2hlZFdvcmsiLCJwZW5kaW5nQ29udGV4dCIsInJlbWFpbmluZ0V4cGlyYXRpb25UaW1lIiwiZmlyc3RCYXRjaCIsIm5leHRTY2hlZHVsZWRSb290Iiwib25Db21taXRGaWJlclJvb3QiLCJvbkNvbW1pdEZpYmVyVW5tb3VudCIsImhhc0xvZ2dlZEVycm9yIiwiY2F0Y2hFcnJvcnMiLCJvbkNvbW1pdFJvb3QiLCJvbkNvbW1pdFVubW91bnQiLCJsb3dQcmlvcml0eVdhcm5pbmckMSIsIlJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzIiwiZGlzY2FyZFBlbmRpbmdXYXJuaW5ncyIsImZsdXNoUGVuZGluZ0RlcHJlY2F0aW9uV2FybmluZ3MiLCJmbHVzaFBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyIsInJlY29yZERlcHJlY2F0aW9uV2FybmluZ3MiLCJyZWNvcmRVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyIsIkxJRkVDWUNMRV9TVUdHRVNUSU9OUyIsIlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQiLCJVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlIiwicGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzIiwicGVuZGluZ0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncyIsInBlbmRpbmdDb21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MiLCJwZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MiLCJkaWRXYXJuQWJvdXREZXByZWNhdGVkTGlmZWN5Y2xlcyIsImRpZFdhcm5BYm91dFVuc2FmZUxpZmVjeWNsZXMiLCJsaWZlY3ljbGVXYXJuaW5nc01hcCIsInN0cmljdFJvb3QiLCJsaWZlY3ljbGVzV2FybmluZ01lc2FnZXMiLCJsaWZlY3ljbGUiLCJsaWZlY3ljbGVXYXJuaW5ncyIsImNvbXBvbmVudE5hbWVzIiwiZm9ybWF0dGVkIiwic3VnZ2VzdGlvbiIsInNvcnRlZENvbXBvbmVudE5hbWVzIiwic3RyaWN0Um9vdENvbXBvbmVudFN0YWNrIiwidW5pcXVlTmFtZXMiLCJzb3J0ZWROYW1lcyIsIl91bmlxdWVOYW1lcyIsIl9zb3J0ZWROYW1lcyIsIl91bmlxdWVOYW1lczIiLCJfc29ydGVkTmFtZXMyIiwiY29tcG9uZW50V2lsbE1vdW50IiwiX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJjb21wb25lbnRXaWxsVXBkYXRlIiwibWF5YmVTdHJpY3RSb290IiwiZ2V0U3RyaWN0Um9vdCIsIndhcm5pbmdzRm9yUm9vdCIsInVuc2FmZUxpZmVjeWNsZXMiLCJlbmFibGVVc2VyVGltaW5nQVBJIiwiZW5hYmxlTXV0YXRpbmdSZWNvbmNpbGVyIiwiZW5hYmxlUGVyc2lzdGVudFJlY29uY2lsZXIiLCJlbmFibGVHZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2giLCJkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHMiLCJkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHNGb3JTdHJpY3RNb2RlIiwicmVwbGF5RmFpbGVkVW5pdE9mV29ya1dpdGhJbnZva2VHdWFyZGVkQ2FsbGJhY2siLCJ3YXJuQWJvdXREZXByZWNhdGVkTGlmZWN5Y2xlcyIsInN1cHBvcnRzVXNlclRpbWluZyIsInBlcmZvcm1hbmNlIiwibWFyayIsImNsZWFyTWFya3MiLCJtZWFzdXJlIiwiY2xlYXJNZWFzdXJlcyIsImN1cnJlbnRGaWJlciIsImN1cnJlbnRQaGFzZSIsImN1cnJlbnRQaGFzZUZpYmVyIiwiaXNDb21taXR0aW5nIiwiaGFzU2NoZWR1bGVkVXBkYXRlSW5DdXJyZW50Q29tbWl0IiwiaGFzU2NoZWR1bGVkVXBkYXRlSW5DdXJyZW50UGhhc2UiLCJjb21taXRDb3VudEluQ3VycmVudFdvcmtMb29wIiwiZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQiLCJpc1dhaXRpbmdGb3JDYWxsYmFjayIsImxhYmVsc0luQ3VycmVudENvbW1pdCIsImZvcm1hdE1hcmtOYW1lIiwibWFya05hbWUiLCJyZWFjdEVtb2ppIiwiYmVnaW5NYXJrIiwiZW5kTWFyayIsImxhYmVsIiwid2FybmluZyQkMSIsImZvcm1hdHRlZE1hcmtOYW1lIiwiZm9ybWF0dGVkTGFiZWwiLCJ3YXJuaW5nRW1vamkiLCJmb3JtYXRMYWJlbCIsImdldEZpYmVyTWFya05hbWUiLCJkZWJ1Z0lEIiwiZ2V0RmliZXJMYWJlbCIsImJlZ2luRmliZXJNYXJrIiwiY2xlYXJGaWJlck1hcmsiLCJjbGVhck1hcmsiLCJlbmRGaWJlck1hcmsiLCJzaG91bGRJZ25vcmVGaWJlciIsImNsZWFyUGVuZGluZ1BoYXNlTWVhc3VyZW1lbnQiLCJwYXVzZVRpbWVycyIsInJlc3VtZVRpbWVyc1JlY3Vyc2l2ZWx5IiwicmVzdW1lVGltZXJzIiwicmVjb3JkRWZmZWN0IiwicmVjb3JkU2NoZWR1bGVVcGRhdGUiLCJjYW5jZWxXb3JrVGltZXIiLCJzdG9wV29ya1RpbWVyIiwic3RvcEZhaWxlZFdvcmtUaW1lciIsInN0YXJ0UGhhc2VUaW1lciIsInN0b3BQaGFzZVRpbWVyIiwic3RvcFdvcmtMb29wVGltZXIiLCJpbnRlcnJ1cHRlZEJ5IiwiZGlkQ29tcGxldGVSb290Iiwic3RhcnRDb21taXRUaW1lciIsImNsZWFyIiwic3RvcENvbW1pdFRpbWVyIiwiZGlkV2FyblVwZGF0ZUluc2lkZVVwZGF0ZSIsImNyZWF0ZVVwZGF0ZVF1ZXVlIiwiYmFzZVN0YXRlIiwicXVldWUiLCJmaXJzdCIsImxhc3QiLCJjYWxsYmFja0xpc3QiLCJoYXNGb3JjZVVwZGF0ZSIsImlzSW5pdGlhbGl6ZWQiLCJjYXB0dXJlZFZhbHVlcyIsImlzUHJvY2Vzc2luZyIsImluc2VydFVwZGF0ZUludG9RdWV1ZSIsInVwZGF0ZSIsInExIiwicTIiLCJlbnN1cmVVcGRhdGVRdWV1ZXMiLCJhbHRlcm5hdGVGaWJlciIsInF1ZXVlMSIsInF1ZXVlMiIsImluc2VydFVwZGF0ZUludG9GaWJlciIsImdldFN0YXRlRnJvbVVwZGF0ZSIsInByZXZTdGF0ZSIsInBhcnRpYWxTdGF0ZSIsInByb2Nlc3NVcGRhdGVRdWV1ZSIsInJlbmRlckV4cGlyYXRpb25UaW1lIiwiY3VycmVudFF1ZXVlIiwiZG9udE11dGF0ZVByZXZTdGF0ZSIsImRpZFNraXAiLCJ1cGRhdGVFeHBpcmF0aW9uVGltZSIsIl9wYXJ0aWFsU3RhdGUiLCJpc1JlcGxhY2UiLCJpc0ZvcmNlZCIsIl9jYWxsYmFja0xpc3QiLCJjYXB0dXJlZFZhbHVlIiwiX2NhcHR1cmVkVmFsdWVzIiwiY29tbWl0Q2FsbGJhY2tzIiwiX2NhbGxiYWNrIiwid2Fybk9uSW52YWxpZENhbGxiYWNrJDEiLCJmYWtlSW50ZXJuYWxJbnN0YW5jZSIsImRpZFdhcm5BYm91dFN0YXRlQXNzaWdubWVudEZvckNvbXBvbmVudCIsImRpZFdhcm5BYm91dFVuZGVmaW5lZERlcml2ZWRTdGF0ZSIsImRpZFdhcm5BYm91dFVuaW5pdGlhbGl6ZWRTdGF0ZSIsImRpZFdhcm5BYm91dEdldFNuYXBzaG90QmVmb3JlVXBkYXRlV2l0aG91dERpZFVwZGF0ZSIsImRpZFdhcm5BYm91dExlZ2FjeUxpZmVjeWNsZXNBbmREZXJpdmVkU3RhdGUiLCJkaWRXYXJuT25JbnZhbGlkQ2FsbGJhY2siLCJjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoIiwiY3RvciIsInJlc3VsdFN0YXRlIiwiZ2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoIiwiY2FsbGVyTmFtZSIsIlJlYWN0RmliZXJDbGFzc0NvbXBvbmVudCIsImxlZ2FjeUNvbnRleHQiLCJzY2hlZHVsZVdvcmsiLCJjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyIiwibWVtb2l6ZVByb3BzIiwibWVtb2l6ZVN0YXRlIiwiY2FjaGVDb250ZXh0IiwiZ2V0TWFza2VkQ29udGV4dCIsImdldFVubWFza2VkQ29udGV4dCIsImlzQ29udGV4dENvbnN1bWVyIiwiaGFzQ29udGV4dENoYW5nZWQiLCJ1cGRhdGVyIiwiZW5xdWV1ZVNldFN0YXRlIiwiZW5xdWV1ZVJlcGxhY2VTdGF0ZSIsImVucXVldWVGb3JjZVVwZGF0ZSIsImNoZWNrU2hvdWxkQ29tcG9uZW50VXBkYXRlIiwib2xkUHJvcHMiLCJuZXdQcm9wcyIsIm9sZFN0YXRlIiwibmV3U3RhdGUiLCJuZXdDb250ZXh0Iiwic2hvdWxkQ29tcG9uZW50VXBkYXRlIiwic2hvdWxkVXBkYXRlIiwiaXNQdXJlUmVhY3RDb21wb25lbnQiLCJyZXNldElucHV0UG9pbnRlcnMiLCJhZG9wdENsYXNzSW5zdGFuY2UiLCJfcmVhY3RJbnRlcm5hbEluc3RhbmNlIiwiY2FsbENvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIiwibmV4dFByb3BzIiwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIiwiY29uc3RydWN0Q2xhc3NJbnN0YW5jZSIsInVubWFza2VkQ29udGV4dCIsIm5lZWRzQ29udGV4dCIsImdldFNuYXBzaG90QmVmb3JlVXBkYXRlIiwiZm91bmRXaWxsTW91bnROYW1lIiwiZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZSIsImZvdW5kV2lsbFVwZGF0ZU5hbWUiLCJfY29tcG9uZW50TmFtZSIsIm5ld0FwaU5hbWUiLCJtb3VudENsYXNzSW5zdGFuY2UiLCJyZW5kZXIiLCJub0dldEluaXRpYWxTdGF0ZU9uRVM2IiwiZ2V0SW5pdGlhbFN0YXRlIiwiaXNSZWFjdENsYXNzQXBwcm92ZWQiLCJub0dldERlZmF1bHRQcm9wc09uRVM2IiwiZ2V0RGVmYXVsdFByb3BzIiwibm9JbnN0YW5jZVByb3BUeXBlcyIsIm5vSW5zdGFuY2VDb250ZXh0VHlwZXMiLCJjb250ZXh0VHlwZXMiLCJub0NvbXBvbmVudFNob3VsZFVwZGF0ZSIsImNvbXBvbmVudFNob3VsZFVwZGF0ZSIsIm5vQ29tcG9uZW50RGlkVW5tb3VudCIsImNvbXBvbmVudERpZFVubW91bnQiLCJub0NvbXBvbmVudERpZFJlY2VpdmVQcm9wcyIsImNvbXBvbmVudERpZFJlY2VpdmVQcm9wcyIsIm5vQ29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyIsImNvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMiLCJub1Vuc2FmZUNvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMiLCJVTlNBRkVfY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyIsImhhc011dGF0ZWRQcm9wcyIsIm5vSW5zdGFuY2VEZWZhdWx0UHJvcHMiLCJkZWZhdWx0UHJvcHMiLCJjb21wb25lbnREaWRVcGRhdGUiLCJub0luc3RhbmNlR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIiwibm9JbnN0YW5jZUdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCIsIm5vU3RhdGljR2V0U25hcHNob3RCZWZvcmVVcGRhdGUiLCJnZXRDaGlsZENvbnRleHQiLCJjaGlsZENvbnRleHRUeXBlcyIsImNoZWNrQ2xhc3NJbnN0YW5jZSIsInJlZnMiLCJjYWxsQ29tcG9uZW50V2lsbE1vdW50IiwiY29tcG9uZW50RGlkTW91bnQiLCJyZXN1bWVNb3VudENsYXNzSW5zdGFuY2UiLCJvbGRDb250ZXh0IiwibmV3VW5tYXNrZWRDb250ZXh0IiwiaGFzTmV3TGlmZWN5Y2xlcyIsImRlcml2ZWRTdGF0ZUZyb21DYXRjaCIsImRlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsIl91cGRhdGVRdWV1ZSIsIl91cGRhdGVRdWV1ZTIiLCJ1cGRhdGVDbGFzc0luc3RhbmNlIiwiX3VwZGF0ZVF1ZXVlMyIsIl91cGRhdGVRdWV1ZTQiLCJnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDIiLCJkaWRXYXJuQWJvdXRNYXBzIiwiZGlkV2FybkFib3V0U3RyaW5nUmVmSW5TdHJpY3RNb2RlIiwib3duZXJIYXNLZXlVc2VXYXJuaW5nIiwib3duZXJIYXNGdW5jdGlvblR5cGVXYXJuaW5nIiwid2FybkZvck1pc3NpbmdLZXkiLCJ2YWxpZGF0ZWQiLCJjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvIiwiaXNBcnJheSQxIiwiY29lcmNlUmVmIiwicmV0dXJuRmliZXIiLCJtaXhlZFJlZiIsInN0cmluZ1JlZiIsIl9zdHJpbmdSZWYiLCJ0aHJvd09uSW52YWxpZE9iamVjdFR5cGUiLCJuZXdDaGlsZCIsImFkZGVuZHVtIiwid2Fybk9uRnVuY3Rpb25UeXBlIiwiQ2hpbGRSZWNvbmNpbGVyIiwic2hvdWxkVHJhY2tTaWRlRWZmZWN0cyIsImRlbGV0ZUNoaWxkIiwiY2hpbGRUb0RlbGV0ZSIsImRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuIiwiY3VycmVudEZpcnN0Q2hpbGQiLCJtYXBSZW1haW5pbmdDaGlsZHJlbiIsImV4aXN0aW5nQ2hpbGRyZW4iLCJleGlzdGluZ0NoaWxkIiwidXNlRmliZXIiLCJjbG9uZSIsInBsYWNlQ2hpbGQiLCJuZXdGaWJlciIsImxhc3RQbGFjZWRJbmRleCIsIm5ld0luZGV4Iiwib2xkSW5kZXgiLCJwbGFjZVNpbmdsZUNoaWxkIiwidXBkYXRlVGV4dE5vZGUiLCJjcmVhdGVkIiwiZXhpc3RpbmciLCJ1cGRhdGVFbGVtZW50IiwidXBkYXRlUG9ydGFsIiwidXBkYXRlRnJhZ21lbnQiLCJmcmFnbWVudCIsImNyZWF0ZUNoaWxkIiwiX2NyZWF0ZWQiLCJfY3JlYXRlZDIiLCJfY3JlYXRlZDMiLCJ1cGRhdGVTbG90Iiwib2xkRmliZXIiLCJ1cGRhdGVGcm9tTWFwIiwibmV3SWR4IiwiX21hdGNoZWRGaWJlciIsIndhcm5PbkludmFsaWRLZXkiLCJrbm93bktleXMiLCJfY3JlYXRlZDQiLCJyZWNvbmNpbGVTaW5nbGVFbGVtZW50IiwicmVjb25jaWxlU2luZ2xlUG9ydGFsIiwicmVjb25jaWxlU2luZ2xlVGV4dE5vZGUiLCJuZXdDaGlsZHJlbiIsInJlc3VsdGluZ0ZpcnN0Q2hpbGQiLCJwcmV2aW91c05ld0ZpYmVyIiwibmV4dE9sZEZpYmVyIiwiX25ld0ZpYmVyIiwiX25ld0ZpYmVyMiIsInJlY29uY2lsZUNoaWxkcmVuQXJyYXkiLCJuZXdDaGlsZHJlbkl0ZXJhYmxlIiwiaXRlcmF0b3JGbiIsIl9uZXdDaGlsZHJlbiIsIl9zdGVwIiwiX25ld0ZpYmVyMyIsIl9uZXdGaWJlcjQiLCJyZWNvbmNpbGVDaGlsZHJlbkl0ZXJhdG9yIiwiX2lzTW9ja0Z1bmN0aW9uIiwicmVjb25jaWxlQ2hpbGRGaWJlcnMiLCJtb3VudENoaWxkRmliZXJzIiwiZGlkV2FybkFib3V0QmFkQ2xhc3MiLCJkaWRXYXJuQWJvdXRHZXREZXJpdmVkU3RhdGVPbkZ1bmN0aW9uYWxDb21wb25lbnQiLCJkaWRXYXJuQWJvdXRTdGF0ZWxlc3NSZWZzIiwiUmVhY3RGaWJlckJlZ2luV29yayIsImhvc3RDb250ZXh0IiwiaHlkcmF0aW9uQ29udGV4dCIsInNob3VsZFNldFRleHRDb250ZW50Iiwic2hvdWxkRGVwcmlvcml0aXplU3VidHJlZSIsInB1c2hIb3N0Q29udGV4dCIsInB1c2hIb3N0Q29udGFpbmVyIiwicHVzaFByb3ZpZGVyIiwiaGFzTGVnYWN5Q29udGV4dENoYW5nZWQiLCJwdXNoTGVnYWN5Q29udGV4dFByb3ZpZGVyIiwicHVzaENvbnRleHRQcm92aWRlciIsInB1c2hUb3BMZXZlbENvbnRleHRPYmplY3QiLCJpbnZhbGlkYXRlQ29udGV4dFByb3ZpZGVyIiwiZW50ZXJIeWRyYXRpb25TdGF0ZSIsInJlc2V0SHlkcmF0aW9uU3RhdGUiLCJ0cnlUb0NsYWltTmV4dEh5ZHJhdGFibGVJbnN0YW5jZSIsIl9SZWFjdEZpYmVyQ2xhc3NDb21wbyIsInJlY29uY2lsZUNoaWxkcmVuIiwibmV4dENoaWxkcmVuIiwicmVjb25jaWxlQ2hpbGRyZW5BdEV4cGlyYXRpb25UaW1lIiwibWFya1JlZiIsImZpbmlzaENsYXNzQ29tcG9uZW50IiwiaGFzQ29udGV4dCIsImRpZENhcHR1cmVFcnJvciIsImJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsiLCJwdXNoSG9zdFJvb3RDb250ZXh0IiwicHJvcGFnYXRlQ29udGV4dENoYW5nZSIsImNoYW5nZWRCaXRzIiwibmV4dEZpYmVyIiwib2JzZXJ2ZWRCaXRzIiwiY3VycmVudENoaWxkIiwiY2xvbmVDaGlsZEZpYmVycyIsIm5leHRTdGF0ZSIsImJlZ2luV29yayIsImJhaWxvdXRPbkxvd1ByaW9yaXR5IiwiX0NvbXBvbmVudCIsIndhcm5pbmdLZXkiLCJkZWJ1Z1NvdXJjZSIsIm1vdW50SW5kZXRlcm1pbmF0ZUNvbXBvbmVudCIsInVwZGF0ZUZ1bmN0aW9uYWxDb21wb25lbnQiLCJ1cGRhdGVDbGFzc0NvbXBvbmVudCIsInVwZGF0ZUhvc3RSb290IiwicHJldlByb3BzIiwiaXNIaWRkZW4iLCJ1cGRhdGVIb3N0Q29tcG9uZW50IiwidXBkYXRlSG9zdFRleHQiLCJ1cGRhdGVDYWxsQ29tcG9uZW50IiwidXBkYXRlUG9ydGFsQ29tcG9uZW50IiwidXBkYXRlRm9yd2FyZFJlZiIsInVwZGF0ZU1vZGUiLCJfY29udGV4dCIsIm9sZFZhbHVlIiwiX2NhbGN1bGF0ZUNoYW5nZWRCaXRzIiwidXBkYXRlQ29udGV4dFByb3ZpZGVyIiwiX2N1cnJlbnRWYWx1ZSIsIl9jaGFuZ2VkQml0cyIsInVuc3RhYmxlX29ic2VydmVkQml0cyIsInVwZGF0ZUNvbnRleHRDb25zdW1lciIsIlJlYWN0RmliZXJDb21wbGV0ZVdvcmsiLCJjcmVhdGVJbnN0YW5jZSIsImNyZWF0ZVRleHRJbnN0YW5jZSIsImFwcGVuZEluaXRpYWxDaGlsZCIsImZpbmFsaXplSW5pdGlhbENoaWxkcmVuIiwicHJlcGFyZVVwZGF0ZSIsIm11dGF0aW9uIiwicGVyc2lzdGVuY2UiLCJnZXRSb290SG9zdENvbnRhaW5lciIsInBvcEhvc3RDb250ZXh0IiwiZ2V0SG9zdENvbnRleHQiLCJwb3BIb3N0Q29udGFpbmVyIiwicG9wTGVnYWN5Q29udGV4dFByb3ZpZGVyIiwicG9wQ29udGV4dFByb3ZpZGVyIiwicG9wVG9wTGV2ZWxMZWdhY3lDb250ZXh0T2JqZWN0IiwicG9wVG9wTGV2ZWxDb250ZXh0T2JqZWN0IiwicG9wUHJvdmlkZXIiLCJwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlIiwicHJlcGFyZVRvSHlkcmF0ZUhvc3RUZXh0SW5zdGFuY2UiLCJwb3BIeWRyYXRpb25TdGF0ZSIsIm1hcmtVcGRhdGUiLCJtb3ZlQ2FsbFRvSGFuZGxlclBoYXNlIiwicmV0dXJucyIsImFwcGVuZEFsbFJldHVybnMiLCJoYW5kbGVyIiwiYXBwZW5kQWxsQ2hpbGRyZW4iLCJ1cGRhdGVIb3N0Q29udGFpbmVyIiwidXBkYXRlUGF5bG9hZCIsInJvb3RDb250YWluZXJJbnN0YW5jZSIsImN1cnJlbnRIb3N0Q29udGV4dCIsIm9sZFRleHQiLCJuZXdUZXh0IiwiY2xvbmVJbnN0YW5jZSIsImNyZWF0ZUNvbnRhaW5lckNoaWxkU2V0IiwiYXBwZW5kQ2hpbGRUb0NvbnRhaW5lckNoaWxkU2V0IiwiZmluYWxpemVDb250YWluZXJDaGlsZHJlbiIsInBvcnRhbE9yUm9vdCIsImNvbnRhaW5lciIsIm5ld0NoaWxkU2V0IiwiY29udGFpbmVyQ2hpbGRTZXQiLCJhcHBlbmRBbGxDaGlsZHJlblRvQ29udGFpbmVyIiwiY2hpbGRyZW5VbmNoYW5nZWQiLCJjdXJyZW50SW5zdGFuY2UiLCJyZWN5Y2xhYmxlSW5zdGFuY2UiLCJuZXdJbnN0YW5jZSIsImNvbXBsZXRlV29yayIsImNvbXBvbmVudERpZENhdGNoIiwiZmliZXJSb290IiwiX2luc3RhbmNlIiwiX2N1cnJlbnRIb3N0Q29udGV4dCIsIl9pbnN0YW5jZTIiLCJfcm9vdENvbnRhaW5lckluc3RhbmNlIiwiX2N1cnJlbnRIb3N0Q29udGV4dDIiLCJjcmVhdGVDYXB0dXJlZFZhbHVlIiwiaW52b2tlR3VhcmRlZENhbGxiYWNrJDMiLCJoYXNDYXVnaHRFcnJvciQxIiwiY2xlYXJDYXVnaHRFcnJvciQxIiwiZGlkV2FybkFib3V0VW5kZWZpbmVkU25hcHNob3RCZWZvcmVVcGRhdGUiLCJsb2dFcnJvciIsImJvdW5kYXJ5IiwiZXJyb3JJbmZvIiwiY2FwdHVyZWRFcnJvciIsImNvbXBvbmVudFN0YWNrIiwiZXJyb3JCb3VuZGFyeSIsImVycm9yQm91bmRhcnlOYW1lIiwiZXJyb3JCb3VuZGFyeUZvdW5kIiwid2lsbFJldHJ5Iiwic3VwcHJlc3NSZWFjdEVycm9yTG9nZ2luZyIsImNvbWJpbmVkTWVzc2FnZSIsImxvZ0NhcHR1cmVkRXJyb3IiLCJSZWFjdEZpYmVyQ29tbWl0V29yayIsImNhcHR1cmVFcnJvciIsIm1hcmtMZWdhY3lFcnJvckJvdW5kYXJ5QXNGYWlsZWQiLCJyZWNhbGN1bGF0ZUN1cnJlbnRUaW1lIiwiZ2V0UHVibGljSW5zdGFuY2UiLCJjYWxsQ29tcG9uZW50V2lsbFVubW91bnRXaXRoVGltZXIiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInNhZmVseURldGFjaFJlZiIsInJlZkVycm9yIiwiY29tbWl0QmVmb3JlTXV0YXRpb25MaWZlQ3ljbGVzIiwic25hcHNob3QiLCJkaWRXYXJuU2V0IiwiX19yZWFjdEludGVybmFsU25hcHNob3RCZWZvcmVVcGRhdGUiLCJjb21taXRMaWZlQ3ljbGVzIiwiZmluaXNoZWRSb290IiwiY29tbWl0dGVkRXhwaXJhdGlvblRpbWUiLCJfaW5zdGFuY2UzIiwiX2luc3RhbmNlNCIsImNvbW1pdE1vdW50IiwiY29tbWl0RXJyb3JMb2dnaW5nIiwib25VbmNhdWdodEVycm9yIiwiX2luc3RhbmNlNSIsImNhcHR1cmVkRXJyb3JzIiwiX2NhcHR1cmVkRXJyb3JzIiwiX2Vycm9ySW5mbyIsImNvbW1pdEF0dGFjaFJlZiIsIl9pbnN0YW5jZTYiLCJpbnN0YW5jZVRvVXNlIiwiY29tbWl0RGV0YWNoUmVmIiwiY3VycmVudFJlZiIsImNvbW1pdFVubW91bnQiLCJfaW5zdGFuY2U3IiwidW5tb3VudEVycm9yIiwic2FmZWx5Q2FsbENvbXBvbmVudFdpbGxVbm1vdW50IiwiY29tbWl0TmVzdGVkVW5tb3VudHMiLCJ1bm1vdW50SG9zdENvbXBvbmVudHMiLCJlbXB0eVBvcnRhbENvbnRhaW5lciIsImRldGFjaEZpYmVyIiwiY29tbWl0Q29udGFpbmVyIiwicmVwbGFjZUNvbnRhaW5lckNoaWxkcmVuIiwiZW1wdHlDaGlsZFNldCIsIl9wZW5kaW5nQ2hpbGRyZW4iLCJjb21taXRSZXNldFRleHRDb250ZW50IiwiY29tbWl0UGxhY2VtZW50IiwiY29tbWl0RGVsZXRpb24iLCJjb21taXRXb3JrIiwiY29tbWl0VXBkYXRlIiwicmVzZXRUZXh0Q29udGVudCIsImNvbW1pdFRleHRVcGRhdGUiLCJhcHBlbmRDaGlsZFRvQ29udGFpbmVyIiwiaW5zZXJ0QmVmb3JlIiwiaW5zZXJ0SW5Db250YWluZXJCZWZvcmUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZUNoaWxkRnJvbUNvbnRhaW5lciIsImlzSG9zdFBhcmVudCIsImN1cnJlbnRQYXJlbnRJc1ZhbGlkIiwiY3VycmVudFBhcmVudCIsImN1cnJlbnRQYXJlbnRJc0NvbnRhaW5lciIsImZpbmRQYXJlbnQiLCJwYXJlbnRGaWJlciIsImdldEhvc3RQYXJlbnRGaWJlciIsImlzQ29udGFpbmVyIiwiYmVmb3JlIiwic2libGluZ3MiLCJnZXRIb3N0U2libGluZyIsIl9pbnN0YW5jZTgiLCJ0ZXh0SW5zdGFuY2UiLCJOT19DT05URVhUIiwiUmVhY3RGaWJlckh5ZHJhdGlvbkNvbnRleHQiLCJoeWRyYXRpb24iLCJjYW5IeWRyYXRlSW5zdGFuY2UiLCJjYW5IeWRyYXRlVGV4dEluc3RhbmNlIiwiZ2V0TmV4dEh5ZHJhdGFibGVTaWJsaW5nIiwiZ2V0Rmlyc3RIeWRyYXRhYmxlQ2hpbGQiLCJoeWRyYXRlSW5zdGFuY2UiLCJoeWRyYXRlVGV4dEluc3RhbmNlIiwiZGlkTm90TWF0Y2hIeWRyYXRlZENvbnRhaW5lclRleHRJbnN0YW5jZSIsImRpZE5vdE1hdGNoSHlkcmF0ZWRUZXh0SW5zdGFuY2UiLCJkaWROb3RIeWRyYXRlQ29udGFpbmVySW5zdGFuY2UiLCJkaWROb3RIeWRyYXRlSW5zdGFuY2UiLCJkaWROb3RGaW5kSHlkcmF0YWJsZUNvbnRhaW5lckluc3RhbmNlIiwiZGlkTm90RmluZEh5ZHJhdGFibGVDb250YWluZXJUZXh0SW5zdGFuY2UiLCJkaWROb3RGaW5kSHlkcmF0YWJsZUluc3RhbmNlIiwiZGlkTm90RmluZEh5ZHJhdGFibGVUZXh0SW5zdGFuY2UiLCJoeWRyYXRpb25QYXJlbnRGaWJlciIsIm5leHRIeWRyYXRhYmxlSW5zdGFuY2UiLCJpc0h5ZHJhdGluZyIsImRlbGV0ZUh5ZHJhdGFibGVJbnN0YW5jZSIsImluc2VydE5vbkh5ZHJhdGVkSW5zdGFuY2UiLCJwYXJlbnRDb250YWluZXIiLCJwYXJlbnRUeXBlIiwicGFyZW50UHJvcHMiLCJwYXJlbnRJbnN0YW5jZSIsIl9wcm9wcyIsIl90ZXh0IiwidHJ5SHlkcmF0ZSIsIm5leHRJbnN0YW5jZSIsInBvcFRvTmV4dEhvc3RQYXJlbnQiLCJSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEiLCJkZWJ1Z1Rvb2wiLCJ3YXJuZWRBYm91dE1pc3NpbmdHZXRDaGlsZENvbnRleHQiLCJpbnZva2VHdWFyZGVkQ2FsbGJhY2skMiIsImRpZFdhcm5BYm91dFN0YXRlVHJhbnNpdGlvbiIsImRpZFdhcm5TZXRTdGF0ZUNoaWxkQ29udGV4dCIsIndhcm5BYm91dFVwZGF0ZU9uVW5tb3VudGVkIiwid2FybkFib3V0SW52YWxpZFVwZGF0ZXMiLCJkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnQiLCJSZWFjdEZpYmVyU2NoZWR1bGVyIiwidmFsdWVTdGFjayIsImZpYmVyU3RhY2siLCJjcmVhdGVDdXJzb3IiLCJpc0VtcHR5IiwiY3Vyc29yIiwiY2hlY2tUaGF0U3RhY2tJc0VtcHR5IiwicmVzZXRTdGFja0FmdGVyRmF0YWxFcnJvckluRGV2IiwiUmVhY3RGaWJlclN0YWNrIiwiZ2V0Q2hpbGRIb3N0Q29udGV4dCIsImdldFJvb3RIb3N0Q29udGV4dCIsImNvbnRleHRTdGFja0N1cnNvciIsImNvbnRleHRGaWJlclN0YWNrQ3Vyc29yIiwicm9vdEluc3RhbmNlU3RhY2tDdXJzb3IiLCJyZXF1aXJlZENvbnRleHQiLCJuZXh0Um9vdEluc3RhbmNlIiwibmV4dFJvb3RDb250ZXh0Iiwicm9vdEluc3RhbmNlIiwibmV4dENvbnRleHQiLCJSZWFjdEZpYmVySG9zdENvbnRleHQiLCJkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yIiwicHJldmlvdXNDb250ZXh0IiwibWFza2VkQ29udGV4dCIsIl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkVW5tYXNrZWRDaGlsZENvbnRleHQiLCJfX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1hc2tlZENoaWxkQ29udGV4dCIsImlzQ29udGV4dFByb3ZpZGVyIiwicHJvY2Vzc0NoaWxkQ29udGV4dCIsInBhcmVudENvbnRleHQiLCJjaGlsZENvbnRleHQiLCJjb250ZXh0S2V5IiwiZGlkQ2hhbmdlIiwibWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQiLCJfX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1lcmdlZENoaWxkQ29udGV4dCIsIm1lcmdlZENvbnRleHQiLCJmaW5kQ3VycmVudFVubWFza2VkQ29udGV4dCIsIlJlYWN0RmliZXJMZWdhY3lDb250ZXh0IiwicHJvdmlkZXJDdXJzb3IiLCJ2YWx1ZUN1cnNvciIsImNoYW5nZWRCaXRzQ3Vyc29yIiwicmVuZGVyZXJTaWdpbCIsInByb3ZpZGVyRmliZXIiLCJfY3VycmVudFJlbmRlcmVyIiwiUmVhY3RGaWJlck5ld0NvbnRleHQiLCJfUmVhY3RGaWJlclVud2luZFdvcmsiLCJpc0FscmVhZHlGYWlsZWRMZWdhY3lFcnJvckJvdW5kYXJ5IiwidGhyb3dFeGNlcHRpb24iLCJzb3VyY2VGaWJlciIsInJhd1ZhbHVlIiwidW53aW5kV29yayIsIl9lZmZlY3RUYWciLCJ1bndpbmRJbnRlcnJ1cHRlZFdvcmsiLCJpbnRlcnJ1cHRlZFdvcmsiLCJSZWFjdEZpYmVyVW53aW5kV29yayIsIl9SZWFjdEZpYmVyQ29tbWl0V29yayIsIm9uQ29tbWl0UGhhc2VFcnJvciIsImxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkIiwic2NoZWR1bGVEZWZlcnJlZENhbGxiYWNrIiwiY2FuY2VsRGVmZXJyZWRDYWxsYmFjayIsInByZXBhcmVGb3JDb21taXQiLCJyZXNldEFmdGVyQ29tbWl0Iiwib3JpZ2luYWxTdGFydFRpbWVNcyIsIm1vc3RSZWNlbnRDdXJyZW50VGltZU1zIiwibGFzdFVuaXF1ZUFzeW5jRXhwaXJhdGlvbiIsImV4cGlyYXRpb25Db250ZXh0IiwiaXNXb3JraW5nIiwibmV4dFVuaXRPZldvcmsiLCJuZXh0Um9vdCIsIm5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSIsImlzUm9vdFJlYWR5Rm9yQ29tbWl0Iiwic3Rhc2hlZFdvcmtJblByb2dyZXNzUHJvcGVydGllcyIsInJlcGxheVVuaXRPZldvcmsiLCJpc1JlcGxheWluZ0ZhaWxlZFVuaXRPZldvcmsiLCJvcmlnaW5hbFJlcGxheUVycm9yIiwicmV0aHJvd09yaWdpbmFsRXJyb3IiLCJyZXNldFN0YWNrIiwiY29tbWl0QWxsSG9zdEVmZmVjdHMiLCJfY3VycmVudCIsIl9jdXJyZW50MiIsImNvbW1pdEJlZm9yZU11dGF0aW9uTGlmZWN5Y2xlcyIsImNvbW1pdEFsbExpZmVDeWNsZXMiLCJjb21taXRSb290Iiwic3RhcnRDb21taXRTbmFwc2hvdEVmZmVjdHNUaW1lciIsInN0b3BDb21taXRTbmFwc2hvdEVmZmVjdHNUaW1lciIsInN0YXJ0Q29tbWl0SG9zdEVmZmVjdHNUaW1lciIsIl9kaWRFcnJvciIsInN0b3BDb21taXRIb3N0RWZmZWN0c1RpbWVyIiwic3RhcnRDb21taXRMaWZlQ3ljbGVzVGltZXIiLCJfZGlkRXJyb3IyIiwiX2Vycm9yMiIsInN0b3BDb21taXRMaWZlQ3ljbGVzVGltZXIiLCJvbkNvbW1pdFdvcmsiLCJyZW1haW5pbmdUaW1lIiwicmVzZXRFeHBpcmF0aW9uVGltZSIsInJlbmRlclRpbWUiLCJuZXdFeHBpcmF0aW9uVGltZSIsImdldFVwZGF0ZUV4cGlyYXRpb25UaW1lIiwiY29tcGxldGVVbml0T2ZXb3JrIiwic2libGluZ0ZpYmVyIiwib25Db21wbGV0ZVdvcmsiLCJfbmV4dCIsInBlcmZvcm1Vbml0T2ZXb3JrIiwic3RhcnRXb3JrVGltZXIiLCJvbkJlZ2luV29yayIsIndvcmtMb29wIiwic2hvdWxkWWllbGQiLCJyZW5kZXJSb290IiwiZGlkRmF0YWwiLCJzdGFydFdvcmtMb29wVGltZXIiLCJ0aHJvd25WYWx1ZSIsInNjaGVkdWxlQ2FwdHVyZSIsImJvdW5kYXJ5RmliZXIiLCJkaXNwYXRjaCIsImNvbXB1dGVBc3luY0V4cGlyYXRpb24iLCJpc0JhdGNoaW5nSW50ZXJhY3RpdmVVcGRhdGVzIiwiY29tcHV0ZUludGVyYWN0aXZlRXhwaXJhdGlvbiIsImxvd2VzdFBlbmRpbmdJbnRlcmFjdGl2ZUV4cGlyYXRpb25UaW1lIiwiaXNFcnJvclJlY292ZXJ5IiwicmVxdWVzdFdvcmsiLCJuZXN0ZWRVcGRhdGVDb3VudCIsIk5FU1RFRF9VUERBVEVfTElNSVQiLCJzY2hlZHVsZVdvcmtJbXBsIiwic3luY1VwZGF0ZXMiLCJwcmV2aW91c0V4cGlyYXRpb25Db250ZXh0IiwiZmFpbGVkVW5pdE9mV29yayIsImZpcnN0U2NoZWR1bGVkUm9vdCIsImxhc3RTY2hlZHVsZWRSb290IiwiY2FsbGJhY2tFeHBpcmF0aW9uVGltZSIsImNhbGxiYWNrSUQiLCJpc1JlbmRlcmluZyIsIm5leHRGbHVzaGVkUm9vdCIsIm5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUiLCJkZWFkbGluZURpZEV4cGlyZSIsImhhc1VuaGFuZGxlZEVycm9yIiwidW5oYW5kbGVkRXJyb3IiLCJkZWFkbGluZSIsImlzQmF0Y2hpbmdVcGRhdGVzIiwiaXNVbmJhdGNoaW5nVXBkYXRlcyIsImNvbXBsZXRlZEJhdGNoZXMiLCJ0aW1lSGV1cmlzdGljRm9yVW5pdE9mV29yayIsInNjaGVkdWxlQ2FsbGJhY2tXaXRoRXhwaXJhdGlvbiIsImN1cnJlbnRNcyIsImV4cGlyYXRpb25NcyIsInBlcmZvcm1Bc3luY1dvcmsiLCJ0aW1lb3V0IiwiYWRkUm9vdFRvU2NoZWR1bGUiLCJwZXJmb3JtV29ya09uUm9vdCIsInBlcmZvcm1TeW5jV29yayIsImZpbmRIaWdoZXN0UHJpb3JpdHlSb290IiwiaGlnaGVzdFByaW9yaXR5V29yayIsImhpZ2hlc3RQcmlvcml0eVJvb3QiLCJwcmV2aW91c1NjaGVkdWxlZFJvb3QiLCJkbCIsInBlcmZvcm1Xb3JrIiwibWluRXhwaXJhdGlvblRpbWUiLCJkaWRFeHBpcmUiLCJzdG9wUmVxdWVzdENhbGxiYWNrVGltZXIiLCJmaW5pc2hSZW5kZXJpbmciLCJiYXRjaGVzIiwiYmF0Y2giLCJfb25Db21wbGV0ZSIsIl9maW5pc2hlZFdvcmsiLCJjb21wbGV0ZVJvb3QiLCJfZXhwaXJhdGlvblRpbWUiLCJfZGVmZXIiLCJ0aW1lUmVtYWluaW5nIiwiZmx1c2hSb290IiwicHJldmlvdXNJc0JhdGNoaW5nVXBkYXRlcyIsInVuYmF0Y2hlZFVwZGF0ZXMiLCJmbHVzaFN5bmMiLCJmbHVzaENvbnRyb2xsZWQiLCJkZWZlcnJlZFVwZGF0ZXMiLCJwcmV2aW91c0lzQmF0Y2hpbmdJbnRlcmFjdGl2ZVVwZGF0ZXMiLCJjb21wdXRlVW5pcXVlQXN5bmNFeHBpcmF0aW9uIiwiZGlkV2FybkFib3V0TmVzdGVkVXBkYXRlcyIsIlJlYWN0RmliZXJSZWNvbmNpbGVyJDEiLCJfUmVhY3RGaWJlclNjaGVkdWxlciIsInVwZGF0ZUNvbnRhaW5lckF0RXhwaXJhdGlvblRpbWUiLCJwYXJlbnRDb21wb25lbnQiLCJvbk1vdW50Q29udGFpbmVyIiwib25Vbm1vdW50Q29udGFpbmVyIiwib25VcGRhdGVDb250YWluZXIiLCJnZXRDb250ZXh0Rm9yU3VidHJlZSIsInNjaGVkdWxlUm9vdFVwZGF0ZSIsImZpbmRIb3N0SW5zdGFuY2UiLCJob3N0RmliZXIiLCJmaW5kQ3VycmVudEhvc3RGaWJlciIsImNyZWF0ZUNvbnRhaW5lciIsInVwZGF0ZUNvbnRhaW5lciIsImdldFB1YmxpY1Jvb3RJbnN0YW5jZSIsImNvbnRhaW5lckZpYmVyIiwiZmluZEhvc3RJbnN0YW5jZVdpdGhOb1BvcnRhbHMiLCJmaW5kQ3VycmVudEhvc3RGaWJlcldpdGhOb1BvcnRhbHMiLCJpbmplY3RJbnRvRGV2VG9vbHMiLCJkZXZUb29sc0NvbmZpZyIsImZpbmRGaWJlckJ5SG9zdEluc3RhbmNlIiwiaW50ZXJuYWxzIiwiX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fIiwiaG9vayIsImlzRGlzYWJsZWQiLCJzdXBwb3J0c0ZpYmVyIiwicmVuZGVyZXJJRCIsImluamVjdCIsImluamVjdEludGVybmFscyIsImZpbmRIb3N0SW5zdGFuY2VCeUZpYmVyIiwiUmVhY3RGaWJlclJlY29uY2lsZXIkMiIsIlJlYWN0RmliZXJSZWNvbmNpbGVyJDMiLCJyZWFjdFJlY29uY2lsZXIiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJoYXNOYXRpdmVQZXJmb3JtYW5jZU5vdyIsInJJQyIsImNJQyIsInJlcXVlc3RJZGxlQ2FsbGJhY2siLCJjYW5jZWxJZGxlQ2FsbGJhY2siLCJzY2hlZHVsZWRSSUNDYWxsYmFjayIsImlzSWRsZVNjaGVkdWxlZCIsInRpbWVvdXRUaW1lIiwiaXNBbmltYXRpb25GcmFtZVNjaGVkdWxlZCIsImZyYW1lRGVhZGxpbmUiLCJwcmV2aW91c0ZyYW1lVGltZSIsImFjdGl2ZUZyYW1lVGltZSIsImZyYW1lRGVhZGxpbmVPYmplY3QiLCJkaWRUaW1lb3V0IiwicmVtYWluaW5nIiwibWVzc2FnZUtleSIsImFuaW1hdGlvblRpY2siLCJyYWZUaW1lIiwibmV4dEZyYW1lVGltZSIsIm9wdGlvbnMiLCJmcmFtZUNhbGxiYWNrIiwiSW5maW5pdHkiLCJ0aW1lb3V0SUQiLCJkaWRXYXJuU2VsZWN0ZWRTZXRPbk9wdGlvbiIsInZhbGlkYXRlUHJvcHMiLCJzZWxlY3RlZCIsImdldEhvc3RQcm9wcyQxIiwiaG9zdFByb3BzIiwiQ2hpbGRyZW4iLCJmbGF0dGVuQ2hpbGRyZW4iLCJnZXRDdXJyZW50RmliZXJPd25lck5hbWUkMyIsImdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kNCIsImRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSQxIiwiZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtIiwidmFsdWVQcm9wTmFtZXMiLCJ1cGRhdGVPcHRpb25zIiwibXVsdGlwbGUiLCJwcm9wVmFsdWUiLCJzZXREZWZhdWx0U2VsZWN0ZWQiLCJzZWxlY3RlZFZhbHVlcyIsInNlbGVjdGVkVmFsdWUiLCJkZWZhdWx0U2VsZWN0ZWQiLCJfc2VsZWN0ZWRWYWx1ZSIsIl9pMiIsImdldEhvc3RQcm9wcyQyIiwiaW5pdFdyYXBwZXJTdGF0ZSQxIiwiY2hlY2tTZWxlY3RQcm9wVHlwZXMiLCJ3YXNNdWx0aXBsZSIsImdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kNSIsImRpZFdhcm5WYWxEZWZhdWx0VmFsIiwiZ2V0SG9zdFByb3BzJDMiLCJkYW5nZXJvdXNseVNldElubmVySFRNTCIsImluaXRXcmFwcGVyU3RhdGUkMiIsInVwZGF0ZVdyYXBwZXIkMSIsInBvc3RNb3VudFdyYXBwZXIkMyIsIkhUTUxfTkFNRVNQQUNFJDEiLCJNQVRIX05BTUVTUEFDRSIsIlNWR19OQU1FU1BBQ0UiLCJOYW1lc3BhY2VzIiwiaHRtbCIsIm1hdGhtbCIsInN2ZyIsImdldEludHJpbnNpY05hbWVzcGFjZSIsImdldENoaWxkTmFtZXNwYWNlIiwicGFyZW50TmFtZXNwYWNlIiwicmV1c2FibGVTVkdDb250YWluZXIiLCJzZXRJbm5lckhUTUwiLCJuYW1lc3BhY2VVUkkiLCJpbm5lckhUTUwiLCJzdmdOb2RlIiwiTVNBcHAiLCJleGVjVW5zYWZlTG9jYWxGdW5jdGlvbiIsImFyZzAiLCJhcmcxIiwiYXJnMiIsImFyZzMiLCJzZXRUZXh0Q29udGVudCIsImxhc3RDaGlsZCIsImlzVW5pdGxlc3NOdW1iZXIiLCJhbmltYXRpb25JdGVyYXRpb25Db3VudCIsImJvcmRlckltYWdlT3V0c2V0IiwiYm9yZGVySW1hZ2VTbGljZSIsImJvcmRlckltYWdlV2lkdGgiLCJib3hGbGV4IiwiYm94RmxleEdyb3VwIiwiYm94T3JkaW5hbEdyb3VwIiwiY29sdW1uQ291bnQiLCJmbGV4IiwiZmxleEdyb3ciLCJmbGV4UG9zaXRpdmUiLCJmbGV4U2hyaW5rIiwiZmxleE5lZ2F0aXZlIiwiZmxleE9yZGVyIiwiZ3JpZFJvdyIsImdyaWRSb3dFbmQiLCJncmlkUm93U3BhbiIsImdyaWRSb3dTdGFydCIsImdyaWRDb2x1bW4iLCJncmlkQ29sdW1uRW5kIiwiZ3JpZENvbHVtblNwYW4iLCJncmlkQ29sdW1uU3RhcnQiLCJmb250V2VpZ2h0IiwibGluZUNsYW1wIiwibGluZUhlaWdodCIsIm9wYWNpdHkiLCJvcmRlciIsIm9ycGhhbnMiLCJ0YWJTaXplIiwid2lkb3dzIiwiekluZGV4Iiwiem9vbSIsImZpbGxPcGFjaXR5IiwiZmxvb2RPcGFjaXR5Iiwic3RvcE9wYWNpdHkiLCJzdHJva2VEYXNoYXJyYXkiLCJzdHJva2VEYXNob2Zmc2V0Iiwic3Ryb2tlTWl0ZXJsaW1pdCIsInN0cm9rZU9wYWNpdHkiLCJzdHJva2VXaWR0aCIsImRhbmdlcm91c1N0eWxlVmFsdWUiLCJpc0N1c3RvbVByb3BlcnR5Iiwic3Vic3RyaW5nIiwicHJlZml4S2V5IiwiYmFkVmVuZG9yZWRTdHlsZU5hbWVQYXR0ZXJuIiwiYmFkU3R5bGVWYWx1ZVdpdGhTZW1pY29sb25QYXR0ZXJuIiwid2FybmVkU3R5bGVOYW1lcyIsIndhcm5lZFN0eWxlVmFsdWVzIiwid2FybmVkRm9yTmFOVmFsdWUiLCJ3YXJuZWRGb3JJbmZpbml0eVZhbHVlIiwid2FyblZhbGlkU3R5bGUkMSIsIndhcm5IeXBoZW5hdGVkU3R5bGVOYW1lIiwid2FybkJhZFZlbmRvcmVkU3R5bGVOYW1lIiwid2FyblN0eWxlVmFsdWVXaXRoU2VtaWNvbG9uIiwid2FyblN0eWxlVmFsdWVJc05hTiIsImlzRmluaXRlIiwid2FyblN0eWxlVmFsdWVJc0luZmluaXR5IiwiY3JlYXRlRGFuZ2Vyb3VzU3RyaW5nRm9yU3R5bGVzIiwic3R5bGVzIiwic2VyaWFsaXplZCIsImRlbGltaXRlciIsInN0eWxlTmFtZSIsInN0eWxlVmFsdWUiLCJzZXRWYWx1ZUZvclN0eWxlcyIsInNldFByb3BlcnR5Iiwidm9pZEVsZW1lbnRUYWdzIiwibWVudWl0ZW0iLCJhcmVhIiwiYmFzZSIsImJyIiwiZW1iZWQiLCJociIsImltZyIsImtleWdlbiIsImxpbmsiLCJwYXJhbSIsIndiciIsIkhUTUwkMSIsImFzc2VydFZhbGlkUHJvcHMiLCJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmciLCJpc0N1c3RvbUNvbXBvbmVudCIsInBvc3NpYmxlU3RhbmRhcmROYW1lcyIsImFjY2VwdCIsImFjY2VwdGNoYXJzZXQiLCJhY2NlcHQtY2hhcnNldCIsImFjY2Vzc2tleSIsImFsbG93ZnVsbHNjcmVlbiIsImFsdCIsImFzIiwiYXN5bmMiLCJhdXRvY2FwaXRhbGl6ZSIsImF1dG9jb21wbGV0ZSIsImF1dG9jb3JyZWN0IiwiYXV0b2ZvY3VzIiwiYXV0b3BsYXkiLCJhdXRvc2F2ZSIsImNlbGxwYWRkaW5nIiwiY2VsbHNwYWNpbmciLCJjaGFsbGVuZ2UiLCJjaGFyc2V0IiwiY2l0ZSIsImNsYXNzIiwiY2xhc3NpZCIsImNsYXNzbmFtZSIsImNvbHMiLCJjb2xzcGFuIiwiY29udGVudGVkaXRhYmxlIiwiY29udGV4dG1lbnUiLCJjb250cm9scyIsImNvbnRyb2xzbGlzdCIsImNvb3JkcyIsImNyb3Nzb3JpZ2luIiwiZGFuZ2Vyb3VzbHlzZXRpbm5lcmh0bWwiLCJkZWZhdWx0Y2hlY2tlZCIsImRlZmF1bHR2YWx1ZSIsImRlZmVyIiwiZGlyIiwiZG93bmxvYWQiLCJkcmFnZ2FibGUiLCJlbmN0eXBlIiwiZm9ybW1ldGhvZCIsImZvcm1hY3Rpb24iLCJmb3JtZW5jdHlwZSIsImZvcm1ub3ZhbGlkYXRlIiwiZm9ybXRhcmdldCIsImZyYW1lYm9yZGVyIiwiaGVpZ2h0IiwiaGlnaCIsImhyZWYiLCJocmVmbGFuZyIsImh0bWxmb3IiLCJodHRwZXF1aXYiLCJodHRwLWVxdWl2IiwiaWNvbiIsImlubmVyaHRtbCIsImlucHV0bW9kZSIsImludGVncml0eSIsIml0ZW1pZCIsIml0ZW1wcm9wIiwiaXRlbXJlZiIsIml0ZW1zY29wZSIsIml0ZW10eXBlIiwia2V5cGFyYW1zIiwia2V5dHlwZSIsImxhbmciLCJsb29wIiwibG93IiwibWFuaWZlc3QiLCJtYXJnaW53aWR0aCIsIm1hcmdpbmhlaWdodCIsIm1heGxlbmd0aCIsIm1lZGlhIiwibWVkaWFncm91cCIsIm1ldGhvZCIsIm1pbmxlbmd0aCIsIm11dGVkIiwibm9tb2R1bGUiLCJub25jZSIsIm5vdmFsaWRhdGUiLCJvcHRpbXVtIiwicGF0dGVybiIsInBsYWNlaG9sZGVyIiwicGxheXNpbmxpbmUiLCJwb3N0ZXIiLCJwcmVsb2FkIiwicHJvZmlsZSIsInJhZGlvZ3JvdXAiLCJyZWFkb25seSIsInJlZmVycmVycG9saWN5IiwicmVxdWlyZWQiLCJyZXZlcnNlZCIsInJvbGUiLCJyb3dzcGFuIiwic2FuZGJveCIsInNjb3BlZCIsInNjcm9sbGluZyIsInNlYW1sZXNzIiwic2hhcGUiLCJzaXplcyIsInNwYW4iLCJzcGVsbGNoZWNrIiwic3JjZG9jIiwic3JjbGFuZyIsInNyY3NldCIsInN1bW1hcnkiLCJ0YWJpbmRleCIsInRpdGxlIiwidXNlbWFwIiwid2lkdGgiLCJ3bW9kZSIsImFib3V0IiwiYWNjZW50aGVpZ2h0IiwiYWNjZW50LWhlaWdodCIsImFjY3VtdWxhdGUiLCJhZGRpdGl2ZSIsImFsaWdubWVudGJhc2VsaW5lIiwiYWxpZ25tZW50LWJhc2VsaW5lIiwiYWxsb3dyZW9yZGVyIiwiYWxwaGFiZXRpYyIsImFtcGxpdHVkZSIsImFyYWJpY2Zvcm0iLCJhcmFiaWMtZm9ybSIsImFzY2VudCIsImF0dHJpYnV0ZW5hbWUiLCJhdHRyaWJ1dGV0eXBlIiwiYXV0b3JldmVyc2UiLCJhemltdXRoIiwiYmFzZWZyZXF1ZW5jeSIsImJhc2VsaW5lc2hpZnQiLCJiYXNlbGluZS1zaGlmdCIsImJhc2Vwcm9maWxlIiwiYmJveCIsImJlZ2luIiwiYmlhcyIsImJ5IiwiY2FsY21vZGUiLCJjYXBoZWlnaHQiLCJjYXAtaGVpZ2h0IiwiY2xpcCIsImNsaXBwYXRoIiwiY2xpcC1wYXRoIiwiY2xpcHBhdGh1bml0cyIsImNsaXBydWxlIiwiY2xpcC1ydWxlIiwiY29sb3JpbnRlcnBvbGF0aW9uIiwiY29sb3ItaW50ZXJwb2xhdGlvbiIsImNvbG9yaW50ZXJwb2xhdGlvbmZpbHRlcnMiLCJjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnMiLCJjb2xvcnByb2ZpbGUiLCJjb2xvci1wcm9maWxlIiwiY29sb3JyZW5kZXJpbmciLCJjb2xvci1yZW5kZXJpbmciLCJjb250ZW50c2NyaXB0dHlwZSIsImNvbnRlbnRzdHlsZXR5cGUiLCJjeCIsImN5IiwiZGF0YXR5cGUiLCJkZWNlbGVyYXRlIiwiZGVzY2VudCIsImRpZmZ1c2Vjb25zdGFudCIsImRpdmlzb3IiLCJkb21pbmFudGJhc2VsaW5lIiwiZG9taW5hbnQtYmFzZWxpbmUiLCJkdXIiLCJkeCIsImR5IiwiZWRnZW1vZGUiLCJlbGV2YXRpb24iLCJlbmFibGViYWNrZ3JvdW5kIiwiZW5hYmxlLWJhY2tncm91bmQiLCJleHBvbmVudCIsImV4dGVybmFscmVzb3VyY2VzcmVxdWlyZWQiLCJmaWxsIiwiZmlsbG9wYWNpdHkiLCJmaWxsLW9wYWNpdHkiLCJmaWxscnVsZSIsImZpbGwtcnVsZSIsImZpbHRlcnJlcyIsImZpbHRlcnVuaXRzIiwiZmxvb2RvcGFjaXR5IiwiZmxvb2Qtb3BhY2l0eSIsImZsb29kY29sb3IiLCJmbG9vZC1jb2xvciIsImZvY3VzYWJsZSIsImZvbnRmYW1pbHkiLCJmb250LWZhbWlseSIsImZvbnRzaXplIiwiZm9udC1zaXplIiwiZm9udHNpemVhZGp1c3QiLCJmb250LXNpemUtYWRqdXN0IiwiZm9udHN0cmV0Y2giLCJmb250LXN0cmV0Y2giLCJmb250c3R5bGUiLCJmb250LXN0eWxlIiwiZm9udHZhcmlhbnQiLCJmb250LXZhcmlhbnQiLCJmb250d2VpZ2h0IiwiZm9udC13ZWlnaHQiLCJmeCIsImZ5IiwiZzEiLCJnMiIsImdseXBobmFtZSIsImdseXBoLW5hbWUiLCJnbHlwaG9yaWVudGF0aW9uaG9yaXpvbnRhbCIsImdseXBoLW9yaWVudGF0aW9uLWhvcml6b250YWwiLCJnbHlwaG9yaWVudGF0aW9udmVydGljYWwiLCJnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbCIsImdseXBocmVmIiwiZ3JhZGllbnR0cmFuc2Zvcm0iLCJncmFkaWVudHVuaXRzIiwiaGFuZ2luZyIsImhvcml6YWR2eCIsImhvcml6LWFkdi14IiwiaG9yaXpvcmlnaW54IiwiaG9yaXotb3JpZ2luLXgiLCJpZGVvZ3JhcGhpYyIsImltYWdlcmVuZGVyaW5nIiwiaW1hZ2UtcmVuZGVyaW5nIiwiaW4yIiwiaW4iLCJpbmxpc3QiLCJpbnRlcmNlcHQiLCJrMSIsImszIiwiazQiLCJrZXJuZWxtYXRyaXgiLCJrZXJuZWx1bml0bGVuZ3RoIiwia2VybmluZyIsImtleXBvaW50cyIsImtleXNwbGluZXMiLCJrZXl0aW1lcyIsImxlbmd0aGFkanVzdCIsImxldHRlcnNwYWNpbmciLCJsZXR0ZXItc3BhY2luZyIsImxpZ2h0aW5nY29sb3IiLCJsaWdodGluZy1jb2xvciIsImxpbWl0aW5nY29uZWFuZ2xlIiwibG9jYWwiLCJtYXJrZXJlbmQiLCJtYXJrZXItZW5kIiwibWFya2VyaGVpZ2h0IiwibWFya2VybWlkIiwibWFya2VyLW1pZCIsIm1hcmtlcnN0YXJ0IiwibWFya2VyLXN0YXJ0IiwibWFya2VydW5pdHMiLCJtYXJrZXJ3aWR0aCIsIm1hc2siLCJtYXNrY29udGVudHVuaXRzIiwibWFza3VuaXRzIiwibWF0aGVtYXRpY2FsIiwibnVtb2N0YXZlcyIsIm9wZXJhdG9yIiwib3JpZW50Iiwib3JpZW50YXRpb24iLCJvcmlnaW4iLCJvdmVyZmxvdyIsIm92ZXJsaW5lcG9zaXRpb24iLCJvdmVybGluZS1wb3NpdGlvbiIsIm92ZXJsaW5ldGhpY2tuZXNzIiwib3ZlcmxpbmUtdGhpY2tuZXNzIiwicGFpbnRvcmRlciIsInBhaW50LW9yZGVyIiwicGFub3NlMSIsInBhbm9zZS0xIiwicGF0aGxlbmd0aCIsInBhdHRlcm5jb250ZW50dW5pdHMiLCJwYXR0ZXJudHJhbnNmb3JtIiwicGF0dGVybnVuaXRzIiwicG9pbnRlcmV2ZW50cyIsInBvaW50ZXItZXZlbnRzIiwicG9pbnRzIiwicG9pbnRzYXR4IiwicG9pbnRzYXR5IiwicG9pbnRzYXR6IiwicHJlc2VydmVhbHBoYSIsInByZXNlcnZlYXNwZWN0cmF0aW8iLCJwcmltaXRpdmV1bml0cyIsInJhZGl1cyIsInJlZngiLCJyZWZ5IiwicmVuZGVyaW5naW50ZW50IiwicmVuZGVyaW5nLWludGVudCIsInJlcGVhdGNvdW50IiwicmVwZWF0ZHVyIiwicmVxdWlyZWRleHRlbnNpb25zIiwicmVxdWlyZWRmZWF0dXJlcyIsInJlc291cmNlIiwicmVzdGFydCIsInJvdGF0ZSIsInJ4IiwicnkiLCJzY2FsZSIsInNlY3VyaXR5Iiwic2VlZCIsInNoYXBlcmVuZGVyaW5nIiwic2hhcGUtcmVuZGVyaW5nIiwic2xvcGUiLCJzcGFjaW5nIiwic3BlY3VsYXJjb25zdGFudCIsInNwZWN1bGFyZXhwb25lbnQiLCJzcGVlZCIsInNwcmVhZG1ldGhvZCIsInN0YXJ0b2Zmc2V0Iiwic3RkZGV2aWF0aW9uIiwic3RlbWgiLCJzdGVtdiIsInN0aXRjaHRpbGVzIiwic3RvcGNvbG9yIiwic3RvcC1jb2xvciIsInN0b3BvcGFjaXR5Iiwic3RvcC1vcGFjaXR5Iiwic3RyaWtldGhyb3VnaHBvc2l0aW9uIiwic3RyaWtldGhyb3VnaC1wb3NpdGlvbiIsInN0cmlrZXRocm91Z2h0aGlja25lc3MiLCJzdHJpa2V0aHJvdWdoLXRoaWNrbmVzcyIsInN0cm9rZSIsInN0cm9rZWRhc2hhcnJheSIsInN0cm9rZS1kYXNoYXJyYXkiLCJzdHJva2VkYXNob2Zmc2V0Iiwic3Ryb2tlLWRhc2hvZmZzZXQiLCJzdHJva2VsaW5lY2FwIiwic3Ryb2tlLWxpbmVjYXAiLCJzdHJva2VsaW5lam9pbiIsInN0cm9rZS1saW5lam9pbiIsInN0cm9rZW1pdGVybGltaXQiLCJzdHJva2UtbWl0ZXJsaW1pdCIsInN0cm9rZXdpZHRoIiwic3Ryb2tlLXdpZHRoIiwic3Ryb2tlb3BhY2l0eSIsInN0cm9rZS1vcGFjaXR5Iiwic3VwcHJlc3Njb250ZW50ZWRpdGFibGV3YXJuaW5nIiwic3VwcHJlc3NoeWRyYXRpb253YXJuaW5nIiwic3VyZmFjZXNjYWxlIiwic3lzdGVtbGFuZ3VhZ2UiLCJ0YWJsZXZhbHVlcyIsInRhcmdldHgiLCJ0YXJnZXR5IiwidGV4dGFuY2hvciIsInRleHQtYW5jaG9yIiwidGV4dGRlY29yYXRpb24iLCJ0ZXh0LWRlY29yYXRpb24iLCJ0ZXh0bGVuZ3RoIiwidGV4dHJlbmRlcmluZyIsInRleHQtcmVuZGVyaW5nIiwidHJhbnNmb3JtIiwidHlwZW9mIiwidTEiLCJ1MiIsInVuZGVybGluZXBvc2l0aW9uIiwidW5kZXJsaW5lLXBvc2l0aW9uIiwidW5kZXJsaW5ldGhpY2tuZXNzIiwidW5kZXJsaW5lLXRoaWNrbmVzcyIsInVuaWNvZGUiLCJ1bmljb2RlYmlkaSIsInVuaWNvZGUtYmlkaSIsInVuaWNvZGVyYW5nZSIsInVuaWNvZGUtcmFuZ2UiLCJ1bml0c3BlcmVtIiwidW5pdHMtcGVyLWVtIiwidW5zZWxlY3RhYmxlIiwidmFscGhhYmV0aWMiLCJ2LWFscGhhYmV0aWMiLCJ2ZWN0b3JlZmZlY3QiLCJ2ZWN0b3ItZWZmZWN0IiwidmVydGFkdnkiLCJ2ZXJ0LWFkdi15IiwidmVydG9yaWdpbngiLCJ2ZXJ0LW9yaWdpbi14IiwidmVydG9yaWdpbnkiLCJ2ZXJ0LW9yaWdpbi15IiwidmhhbmdpbmciLCJ2LWhhbmdpbmciLCJ2aWRlb2dyYXBoaWMiLCJ2LWlkZW9ncmFwaGljIiwidmlld2JveCIsInZpZXd0YXJnZXQiLCJ2aXNpYmlsaXR5Iiwidm1hdGhlbWF0aWNhbCIsInYtbWF0aGVtYXRpY2FsIiwidm9jYWIiLCJ3aWR0aHMiLCJ3b3Jkc3BhY2luZyIsIndvcmQtc3BhY2luZyIsIndyaXRpbmdtb2RlIiwid3JpdGluZy1tb2RlIiwieDEiLCJ4MiIsInhjaGFubmVsc2VsZWN0b3IiLCJ4aGVpZ2h0IiwieC1oZWlnaHQiLCJ4bGlua2FjdHVhdGUiLCJ4bGluazphY3R1YXRlIiwieGxpbmthcmNyb2xlIiwieGxpbms6YXJjcm9sZSIsInhsaW5raHJlZiIsInhsaW5rOmhyZWYiLCJ4bGlua3JvbGUiLCJ4bGluazpyb2xlIiwieGxpbmtzaG93IiwieGxpbms6c2hvdyIsInhsaW5rdGl0bGUiLCJ4bGluazp0aXRsZSIsInhsaW5rdHlwZSIsInhsaW5rOnR5cGUiLCJ4bWxiYXNlIiwieG1sOmJhc2UiLCJ4bWxsYW5nIiwieG1sOmxhbmciLCJ4bWxucyIsInhtbDpzcGFjZSIsInhtbG5zeGxpbmsiLCJ4bWxuczp4bGluayIsInhtbHNwYWNlIiwieTEiLCJ5MiIsInljaGFubmVsc2VsZWN0b3IiLCJ6Iiwiem9vbWFuZHBhbiIsImFyaWFQcm9wZXJ0aWVzIiwiYXJpYS1jdXJyZW50IiwiYXJpYS1kZXRhaWxzIiwiYXJpYS1kaXNhYmxlZCIsImFyaWEtaGlkZGVuIiwiYXJpYS1pbnZhbGlkIiwiYXJpYS1rZXlzaG9ydGN1dHMiLCJhcmlhLWxhYmVsIiwiYXJpYS1yb2xlZGVzY3JpcHRpb24iLCJhcmlhLWF1dG9jb21wbGV0ZSIsImFyaWEtY2hlY2tlZCIsImFyaWEtZXhwYW5kZWQiLCJhcmlhLWhhc3BvcHVwIiwiYXJpYS1sZXZlbCIsImFyaWEtbW9kYWwiLCJhcmlhLW11bHRpbGluZSIsImFyaWEtbXVsdGlzZWxlY3RhYmxlIiwiYXJpYS1vcmllbnRhdGlvbiIsImFyaWEtcGxhY2Vob2xkZXIiLCJhcmlhLXByZXNzZWQiLCJhcmlhLXJlYWRvbmx5IiwiYXJpYS1yZXF1aXJlZCIsImFyaWEtc2VsZWN0ZWQiLCJhcmlhLXNvcnQiLCJhcmlhLXZhbHVlbWF4IiwiYXJpYS12YWx1ZW1pbiIsImFyaWEtdmFsdWVub3ciLCJhcmlhLXZhbHVldGV4dCIsImFyaWEtYXRvbWljIiwiYXJpYS1idXN5IiwiYXJpYS1saXZlIiwiYXJpYS1yZWxldmFudCIsImFyaWEtZHJvcGVmZmVjdCIsImFyaWEtZ3JhYmJlZCIsImFyaWEtYWN0aXZlZGVzY2VuZGFudCIsImFyaWEtY29sY291bnQiLCJhcmlhLWNvbGluZGV4IiwiYXJpYS1jb2xzcGFuIiwiYXJpYS1jb250cm9scyIsImFyaWEtZGVzY3JpYmVkYnkiLCJhcmlhLWVycm9ybWVzc2FnZSIsImFyaWEtZmxvd3RvIiwiYXJpYS1sYWJlbGxlZGJ5IiwiYXJpYS1vd25zIiwiYXJpYS1wb3NpbnNldCIsImFyaWEtcm93Y291bnQiLCJhcmlhLXJvd2luZGV4IiwiYXJpYS1yb3dzcGFuIiwiYXJpYS1zZXRzaXplIiwid2FybmVkUHJvcGVydGllcyIsInJBUklBIiwickFSSUFDYW1lbCIsImdldFN0YWNrQWRkZW5kdW0iLCJ2YWxpZGF0ZVByb3BlcnR5IiwiYXJpYU5hbWUiLCJjb3JyZWN0TmFtZSIsInN0YW5kYXJkTmFtZSIsInZhbGlkYXRlUHJvcGVydGllcyIsImludmFsaWRQcm9wcyIsInVua25vd25Qcm9wU3RyaW5nIiwid2FybkludmFsaWRBUklBUHJvcHMiLCJkaWRXYXJuVmFsdWVOdWxsIiwiZ2V0U3RhY2tBZGRlbmR1bSQxIiwiZ2V0U3RhY2tBZGRlbmR1bSQyIiwidmFsaWRhdGVQcm9wZXJ0eSQxIiwid2FybmVkUHJvcGVydGllcyQxIiwiX2hhc093blByb3BlcnR5IiwiRVZFTlRfTkFNRV9SRUdFWCIsIklOVkFMSURfRVZFTlRfTkFNRV9SRUdFWCIsInJBUklBJDEiLCJyQVJJQUNhbWVsJDEiLCJjYW5Vc2VFdmVudFN5c3RlbSIsImlzUmVzZXJ2ZWQiLCJ3YXJuVW5rbm93blByb3BlcnRpZXMiLCJ1bmtub3duUHJvcHMiLCJub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUiLCJnZXRDdXJyZW50RmliZXJPd25lck5hbWUkMiIsImdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMyIsImRpZFdhcm5JbnZhbGlkSHlkcmF0aW9uIiwiZGlkV2FyblNoYWR5RE9NIiwiREFOR0VST1VTTFlfU0VUX0lOTkVSX0hUTUwiLCJTVVBQUkVTU19DT05URU5UX0VESVRBQkxFX1dBUk5JTkciLCJTVVBQUkVTU19IWURSQVRJT05fV0FSTklORyQxIiwiQVVUT0ZPQ1VTIiwiQ0hJTERSRU4iLCJTVFlMRSIsIkhUTUwiLCJIVE1MX05BTUVTUEFDRSIsIndhcm5lZFVua25vd25UYWdzIiwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nIiwidmFsaWRhdGVQcm9wZXJ0aWVzSW5EZXZlbG9wbWVudCIsIndhcm5Gb3JUZXh0RGlmZmVyZW5jZSIsIndhcm5Gb3JQcm9wRGlmZmVyZW5jZSIsIndhcm5Gb3JFeHRyYUF0dHJpYnV0ZXMiLCJ3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIiLCJub3JtYWxpemVIVE1MIiwiZGlhbG9nIiwidmFsaWRhdGVQcm9wZXJ0aWVzJDEiLCJ2YWxpZGF0ZVByb3BlcnRpZXMkMiIsIk5PUk1BTElaRV9ORVdMSU5FU19SRUdFWCIsIk5PUk1BTElaRV9OVUxMX0FORF9SRVBMQUNFTUVOVF9SRUdFWCIsImVuc3VyZUxpc3RlbmluZ1RvIiwicm9vdENvbnRhaW5lckVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnRIYW5kbGUiLCJsaXN0ZW5UbyIsImdldE93bmVyRG9jdW1lbnRGcm9tUm9vdENvbnRhaW5lciIsInRyYXBDbGlja09uTm9uSW50ZXJhY3RpdmVFbGVtZW50Iiwib25jbGljayIsImNyZWF0ZUVsZW1lbnQkMSIsImRvbUVsZW1lbnQiLCJkaXYiLCJjcmVhdGVFbGVtZW50TlMiLCJjcmVhdGVUZXh0Tm9kZSQxIiwiY3JlYXRlVGV4dE5vZGUiLCJzZXRJbml0aWFsUHJvcGVydGllcyQxIiwicmF3UHJvcHMiLCJzaGFkeVJvb3QiLCJwcm9wS2V5IiwibmV4dFByb3AiLCJuZXh0SHRtbCIsInNldEluaXRpYWxET01Qcm9wZXJ0aWVzIiwicG9zdE1vdW50V3JhcHBlciQxIiwicG9zdE1vdW50V3JhcHBlciQyIiwib25DbGljayIsImRpZmZQcm9wZXJ0aWVzJDEiLCJsYXN0UmF3UHJvcHMiLCJuZXh0UmF3UHJvcHMiLCJsYXN0UHJvcHMiLCJzdHlsZVVwZGF0ZXMiLCJsYXN0U3R5bGUiLCJsYXN0UHJvcCIsImxhc3RIdG1sIiwidXBkYXRlUHJvcGVydGllcyQxIiwid2FzQ3VzdG9tQ29tcG9uZW50VGFnIiwidXBkYXRlRE9NUHJvcGVydGllcyIsInBvc3RVcGRhdGVXcmFwcGVyIiwiZGlmZkh5ZHJhdGVkUHJvcGVydGllcyQxIiwiZXh0cmFBdHRyaWJ1dGVOYW1lcyIsImF0dHJpYnV0ZXMiLCJzZXJ2ZXJWYWx1ZSIsInJhd0h0bWwiLCJzZXJ2ZXJIVE1MIiwiZXhwZWN0ZWRIVE1MIiwiZXhwZWN0ZWRTdHlsZSIsImlzTWlzbWF0Y2hEdWVUb0JhZENhc2luZyIsIm93bk5hbWVzcGFjZSIsImRpZmZIeWRyYXRlZFRleHQkMSIsInRleHROb2RlIiwid2FybkZvclVubWF0Y2hlZFRleHQkMSIsIndhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZUVsZW1lbnQkMSIsIndhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZVRleHQkMSIsIndhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkRWxlbWVudCQxIiwid2FybkZvckluc2VydGVkSHlkcmF0ZWRUZXh0JDEiLCJtYXJrdXAiLCJzZXJ2ZXJUZXh0IiwiY2xpZW50VGV4dCIsIm5vcm1hbGl6ZWRDbGllbnRUZXh0Iiwibm9ybWFsaXplZFNlcnZlclRleHQiLCJjbGllbnRWYWx1ZSIsIm5vcm1hbGl6ZWRDbGllbnRWYWx1ZSIsIm5vcm1hbGl6ZWRTZXJ2ZXJWYWx1ZSIsImF0dHJpYnV0ZU5hbWVzIiwidGVzdEVsZW1lbnQiLCJ2YWxpZGF0ZURPTU5lc3RpbmciLCJSZWFjdERPTUZpYmVyQ29tcG9uZW50Iiwic2V0SW5pdGlhbFByb3BlcnRpZXMiLCJkaWZmUHJvcGVydGllcyIsInVwZGF0ZVByb3BlcnRpZXMiLCJkaWZmSHlkcmF0ZWRQcm9wZXJ0aWVzIiwiZGlmZkh5ZHJhdGVkVGV4dCIsIndhcm5Gb3JVbm1hdGNoZWRUZXh0Iiwid2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlRWxlbWVudCIsIndhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZVRleHQiLCJ3YXJuRm9ySW5zZXJ0ZWRIeWRyYXRlZEVsZW1lbnQiLCJ3YXJuRm9ySW5zZXJ0ZWRIeWRyYXRlZFRleHQiLCJyZXN0b3JlQ29udHJvbGxlZFN0YXRlJDMiLCJyZXN0b3JlQ29udHJvbGxlZFN0YXRlJDIiLCJnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDYiLCJzcGVjaWFsVGFncyIsImluU2NvcGVUYWdzIiwiYnV0dG9uU2NvcGVUYWdzIiwiaW1wbGllZEVuZFRhZ3MiLCJlbXB0eUFuY2VzdG9ySW5mbyIsImZvcm1UYWciLCJhVGFnSW5TY29wZSIsImJ1dHRvblRhZ0luU2NvcGUiLCJub2JyVGFnSW5TY29wZSIsInBUYWdJbkJ1dHRvblNjb3BlIiwibGlzdEl0ZW1UYWdBdXRvY2xvc2luZyIsImRsSXRlbVRhZ0F1dG9jbG9zaW5nIiwiZGlkV2FybiIsImNoaWxkVGFnIiwiY2hpbGRUZXh0IiwiYW5jZXN0b3JJbmZvIiwicGFyZW50SW5mbyIsInBhcmVudFRhZyIsImludmFsaWRQYXJlbnQiLCJpc1RhZ1ZhbGlkV2l0aFBhcmVudCIsImludmFsaWRBbmNlc3RvciIsImZpbmRJbnZhbGlkQW5jZXN0b3JGb3JUYWciLCJpbnZhbGlkUGFyZW50T3JBbmNlc3RvciIsImFuY2VzdG9yVGFnIiwid2FybktleSIsInRhZ0Rpc3BsYXlOYW1lIiwid2hpdGVzcGFjZUluZm8iLCJ1cGRhdGVkQW5jZXN0b3JJbmZvIiwib2xkSW5mbyIsIndhcm5PbkludmFsaWRDYWxsYmFjayIsInZhbGlkYXRlRE9NTmVzdGluZyQxIiwidG9wTGV2ZWxVcGRhdGVXYXJuaW5ncyIsImRpZFdhcm5BYm91dFVuc3RhYmxlQ3JlYXRlUG9ydGFsIiwiX3JlYWN0Um9vdENvbnRhaW5lciIsImhvc3RJbnN0YW5jZSIsIkRPTVJlbmRlcmVyIiwiX2ludGVybmFsUm9vdCIsImlzUm9vdFJlbmRlcmVkQnlTb21lUmVhY3QiLCJyb290RWwiLCJnZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXIiLCJoYXNOb25Sb290UmVhY3RDaGlsZCIsImV2ZW50c0VuYWJsZWQiLCJzZWxlY3Rpb25JbmZvcm1hdGlvbiIsIlJlYWN0QmF0Y2giLCJfZGlkQ29tcGxldGUiLCJfaGFzQ2hpbGRyZW4iLCJfY2hpbGRyZW4iLCJSZWFjdFdvcmsiLCJfZGlkQ29tbWl0IiwiX29uQ29tbWl0IiwiUmVhY3RSb290IiwiaXNWYWxpZENvbnRhaW5lciIsInNob3VsZEF1dG9Gb2N1c0hvc3RDb21wb25lbnQiLCJhdXRvRm9jdXMiLCJpbnRlcm5hbFJvb3QiLCJ3b3JrIiwib25Db21wbGV0ZSIsImNhbGxiYWNrcyIsImNvbW1pdCIsInByZXZpb3VzIiwib25Db21taXQiLCJfY2FsbGJhY2syIiwidW5tb3VudCIsImxlZ2FjeV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lciIsImNyZWF0ZUJhdGNoIiwiaW5zZXJ0QWZ0ZXIiLCJuYW1lc3BhY2UiLCJ2YWxpZGF0ZWRUYWciLCJwYXJlbnRIb3N0Q29udGV4dCIsInBhcmVudEhvc3RDb250ZXh0RGV2IiwiaW50ZXJuYWxJbnN0YW5jZUhhbmRsZSIsImhvc3RDb250ZXh0RGV2Iiwib3duQW5jZXN0b3JJbmZvIiwiX19odG1sIiwiYmVmb3JlQ2hpbGQiLCJ3YXJuZWRBYm91dEh5ZHJhdGVBUEkiLCJsZWdhY3lDcmVhdGVSb290RnJvbURPTUNvbnRhaW5lciIsImZvcmNlSHlkcmF0ZSIsInNob3VsZEh5ZHJhdGUiLCJyb290RWxlbWVudCIsInNob3VsZEh5ZHJhdGVEdWVUb0xlZ2FjeUhldXJpc3RpYyIsIndhcm5lZCIsInJvb3RTaWJsaW5nIiwibGVnYWN5UmVuZGVyU3VidHJlZUludG9Db250YWluZXIiLCJfb3JpZ2luYWxDYWxsYmFjayIsIm9yaWdpbmFsQ2FsbGJhY2siLCJjcmVhdGVQb3J0YWwiLCJjcmVhdGVQb3J0YWwkMSIsIlJlYWN0RE9NIiwiZmluZERPTU5vZGUiLCJjb21wb25lbnRPckVsZW1lbnQiLCJ3YXJuZWRBYm91dFJlZnNJblJlbmRlciIsInVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyIiwiY29udGFpbmVyTm9kZSIsInVubW91bnRDb21wb25lbnRBdE5vZGUiLCJyZW5kZXJlZEJ5RGlmZmVyZW50UmVhY3QiLCJfcm9vdEVsIiwiaXNDb250YWluZXJSZWFjdFJvb3QiLCJ1bnN0YWJsZV9jcmVhdGVQb3J0YWwiLCJ1bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyIsInVuc3RhYmxlX2RlZmVycmVkVXBkYXRlcyIsInVuc3RhYmxlX2ZsdXNoQ29udHJvbGxlZCIsInVuc3RhYmxlX2NyZWF0ZVJvb3QiLCJidW5kbGVUeXBlIiwicmVuZGVyZXJQYWNrYWdlTmFtZSIsInByb3RvY29sIiwiUmVhY3RET00kMiIsIlJlYWN0RE9NJDMiLCJyZWFjdERvbSIsIndhcm5Ob29wIiwicHVibGljSW5zdGFuY2UiLCJfY29uc3RydWN0b3IiLCJSZWFjdE5vb3BVcGRhdGVRdWV1ZSIsImNvbXBsZXRlU3RhdGUiLCJzZXRTdGF0ZSIsImZvcmNlVXBkYXRlIiwiZGVwcmVjYXRlZEFQSXMiLCJyZXBsYWNlU3RhdGUiLCJkZWZpbmVEZXByZWNhdGlvbldhcm5pbmciLCJtZXRob2ROYW1lIiwiQ29tcG9uZW50RHVtbXkiLCJQdXJlQ29tcG9uZW50IiwicHVyZUNvbXBvbmVudFByb3RvdHlwZSIsIlJFU0VSVkVEX1BST1BTIiwiX19zZWxmIiwiX19zb3VyY2UiLCJzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biIsInNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duIiwiaGFzVmFsaWRSZWYiLCJpc1JlYWN0V2FybmluZyIsImhhc1ZhbGlkS2V5IiwiUmVhY3RFbGVtZW50IiwiY2hpbGRyZW5MZW5ndGgiLCJjaGlsZEFycmF5Iiwid2FybkFib3V0QWNjZXNzaW5nS2V5IiwiZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIiLCJ3YXJuQWJvdXRBY2Nlc3NpbmdSZWYiLCJkZWZpbmVSZWZQcm9wV2FybmluZ0dldHRlciIsImlzVmFsaWRFbGVtZW50IiwiaW1wbCIsIlNFUEFSQVRPUiIsIlNVQlNFUEFSQVRPUiIsInVzZXJQcm92aWRlZEtleUVzY2FwZVJlZ2V4IiwiZXNjYXBlVXNlclByb3ZpZGVkS2V5IiwiUE9PTF9TSVpFIiwidHJhdmVyc2VDb250ZXh0UG9vbCIsImdldFBvb2xlZFRyYXZlcnNlQ29udGV4dCIsIm1hcFJlc3VsdCIsImtleVByZWZpeCIsIm1hcEZ1bmN0aW9uIiwibWFwQ29udGV4dCIsInRyYXZlcnNlQ29udGV4dCIsInJlbGVhc2VUcmF2ZXJzZUNvbnRleHQiLCJ0cmF2ZXJzZUFsbENoaWxkcmVuIiwidHJhdmVyc2VBbGxDaGlsZHJlbkltcGwiLCJuYW1lU29GYXIiLCJpbnZva2VDYWxsYmFjayIsImdldENvbXBvbmVudEtleSIsInN1YnRyZWVDb3VudCIsIm5leHROYW1lUHJlZml4IiwiY2hpbGRyZW5TdHJpbmciLCJlc2NhcGVyTG9va3VwIiwiOiIsImZvckVhY2hTaW5nbGVDaGlsZCIsIm1hcFNpbmdsZUNoaWxkSW50b0NvbnRleHQiLCJjaGlsZEtleSIsIm9sZEVsZW1lbnQiLCJuZXdLZXkiLCJtYXBwZWRDaGlsZCIsIm1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWwiLCJfc2VsZiIsImVzY2FwZWRQcmVmaXgiLCJnZXREaXNwbGF5TmFtZSIsImN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50IiwicHJvcFR5cGVzTWlzc3BlbGxXYXJuaW5nU2hvd24iLCJ2YWxpZGF0ZUV4cGxpY2l0S2V5IiwicGFyZW50TmFtZSIsImdldEN1cnJlbnRDb21wb25lbnRFcnJvckluZm8iLCJjaGlsZE93bmVyIiwidmFsaWRhdGVDaGlsZEtleXMiLCJ2YWxpZGF0ZVByb3BUeXBlcyIsImNvbXBvbmVudENsYXNzIiwiUHJvcFR5cGVzIiwiY3JlYXRlRWxlbWVudFdpdGhWYWxpZGF0aW9uIiwidmFsaWRUeXBlIiwiaXNWYWxpZEVsZW1lbnRUeXBlIiwic291cmNlSW5mbyIsImVsZW1lbnRQcm9wcyIsImdldFNvdXJjZUluZm9FcnJvckFkZGVuZHVtIiwidHlwZVN0cmluZyIsInZhbGlkYXRlRnJhZ21lbnRQcm9wcyIsImZvckVhY2hGdW5jIiwiZm9yRWFjaENvbnRleHQiLCJ0b0FycmF5Iiwib25seSIsImNyZWF0ZVJlZiIsInJlZk9iamVjdCIsInNlYWwiLCJjcmVhdGVDb250ZXh0IiwiY2FsY3VsYXRlQ2hhbmdlZEJpdHMiLCJfZGVmYXVsdFZhbHVlIiwiUHJvdmlkZXIiLCJDb25zdW1lciIsImZvcndhcmRSZWYiLCJ1bnN0YWJsZV9Bc3luY01vZGUiLCJjbG9uZUVsZW1lbnQiLCJuZXdFbGVtZW50IiwiY3JlYXRlRmFjdG9yeSIsInZhbGlkYXRlZEZhY3RvcnkiLCJSZWFjdENvbXBvbmVudFRyZWVIb29rIiwiUmVhY3QkMiIsIlJlYWN0JDMiLCJyZWFjdCIsIl9zcmMiLCJfcmVhY3REb20yIiwiZ2V0RWxlbWVudEJ5SWQiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUNBSyxjQUFBLEVBQ0FDLFlBQUEsRUFDQUMsSUFBQU4sS0FNQVosRUFBQW1CLEVBQUEsU0FBQWpCLEdBQ0FZLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURrQixPQUFBLEtBSWpEcEIsRUFBQXFCLEVBQUEsU0FBQWxCLEdBQ0EsSUFBQVMsRUFBQVQs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QUEsRUFBQSxNQUNBZ3lILEVBQUFoeUgsRUFBQSx3REFFQWl5SCxFQUFBcDRHLFFBQVNzNEQsT0FDUG5sQyxFQUFBbnpCLFFBQUF1SyxjQUFBNHRHLEVBQUFqbEYsY0FBQSxNQUNBbnRCLFNBQVNzeUcsZUFBZSIsImZpbGUiOiJ2aXN1YWxUZXN0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTI1KTtcbiIsIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGxpZV90c18xID0gcmVxdWlyZShcImxpZS10c1wiKTtcclxuZXhwb3J0cy5Qcm9taXNlID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvd1tcIlByb21pc2VcIl0gPyB3aW5kb3dbXCJQcm9taXNlXCJdIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWxbXCJQcm9taXNlXCJdID8gZ2xvYmFsW1wiUHJvbWlzZVwiXSA6IGxpZV90c18xLlByb21pc2U7XHJcbn0pKCk7XHJcbi8qKlxyXG4gKiBPYmplY3QuYXNzaWduLCBidXQgYmV0dGVyLlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IG9ialxyXG4gKiBAcmV0dXJuc1xyXG4gKi9cclxuZXhwb3J0cy5fYXNzaWduID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgcmV0dXJuIG9iaiA/IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSkgOiBudWxsO1xyXG59O1xyXG4vKipcclxuICogUXVpY2tseSBhbmQgZWZmaWNpZW50bHkgZmlyZSBhc3luY3JvdW5vdXMgb3BlcmF0aW9ucyBpbiBzZXF1ZW5jZSwgcmV0dXJucyBvbmNlIGFsbCBvcGVyYXRpb25zIGNvbXBsZXRlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge2FueVtdfSBpdGVtc1xyXG4gKiBAcGFyYW0geyhpdGVtOiBhbnksIGk6IG51bWJlciwgbmV4dDogKHJlc3VsdD86IGFueSkgPT4gdm9pZCkgPT4gdm9pZH0gY2FsbGJhY2tcclxuICogQHJldHVybnMge1Byb21pc2U8YW55W10+fVxyXG4gKi9cclxuZXhwb3J0cy5mYXN0Q0hBSU4gPSBmdW5jdGlvbiAoaXRlbXMsIGNhbGxiYWNrKSB7XHJcbiAgICByZXR1cm4gbmV3IGV4cG9ydHMuUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcclxuICAgICAgICBpZiAoIWl0ZW1zIHx8ICFpdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmVzKFtdKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmVzdWx0cyA9IFtdO1xyXG4gICAgICAgIHZhciBzdGVwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggPCBpdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGl0ZW1zW3Jlc3VsdHMubGVuZ3RoXSwgcmVzdWx0cy5sZW5ndGgsIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICBsaWVfdHNfMS5zZXRGYXN0KHN0ZXApO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXMocmVzdWx0cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHN0ZXAoKTtcclxuICAgIH0pO1xyXG59O1xyXG4vKipcclxuICogUXVpY2tseSBhbmQgZWZmaWNpZW50bHkgZmlyZSBhc3luY3JvdW5vdXMgb3BlcmF0aW9ucyBpbiBwYXJhbGxlbCwgcmV0dXJucyBvbmNlIGFueSBvcGVyYXRpb24gY29tcGxldGVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge2FueVtdfSBpdGVtc1xyXG4gKiBAcGFyYW0geyhpdGVtOiBhbnksIGk6IG51bWJlciwgbmV4dDogKHJlc3VsdD86IGFueSkgPT4gdm9pZCkgPT4gdm9pZH0gY2FsbGJhY2tcclxuICogQHJldHVybnMge1Byb21pc2U8YW55W10+fVxyXG4gKi9cclxuZXhwb3J0cy5mYXN0UkFDRSA9IGZ1bmN0aW9uIChpdGVtcywgY2FsbGJhY2spIHtcclxuICAgIHJldHVybiBuZXcgZXhwb3J0cy5Qcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikge1xyXG4gICAgICAgIGlmICghaXRlbXMgfHwgIWl0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXMoW10pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByZXNvbHZlZCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBjb3VudGVyID0gMDtcclxuICAgICAgICB2YXIgc3RlcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGNvdW50ZXIgPCBpdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGl0ZW1zW2NvdW50ZXJdLCBjb3VudGVyLCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNvbHZlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyhbcmVzdWx0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBjb3VudGVyKys7XHJcbiAgICAgICAgICAgICAgICBzdGVwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHN0ZXAoKTtcclxuICAgIH0pO1xyXG59O1xyXG4vKipcclxuICogUXVpY2tseSBhbmQgZWZmaWNpZW50bHkgZmlyZSBhc3luY3JvdW5vdXMgb3BlcmF0aW9ucyBpbiBwYXJhbGxlbCwgcmV0dXJucyBvbmNlIGFsbCBvcGVyYXRpb25zIGFyZSBjb21wbGV0ZS5cclxuICpcclxuICogQHBhcmFtIHthbnlbXX0gaXRlbXNcclxuICogQHBhcmFtIHsoaXRlbTogYW55LCBpOiBudW1iZXIsIGRvbmU6IChyZXN1bHQ/OiBhbnkpID0+IHZvaWQpID0+IHZvaWR9IGNhbGxiYWNrXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPGFueVtdPn1cclxuICovXHJcbmV4cG9ydHMuZmFzdEFMTCA9IGZ1bmN0aW9uIChpdGVtcywgY2FsbGJhY2spIHtcclxuICAgIHJldHVybiBleHBvcnRzLlByb21pc2UuYWxsKChpdGVtcyB8fCBbXSkubWFwKGZ1bmN0aW9uIChpdGVtLCBpKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBleHBvcnRzLlByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKGl0ZW0sIGksIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIHJlcyhyZXN1bHQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0pKTtcclxufTtcclxudmFyIHVhID0gdHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiA/IFwiXCIgOiAobmF2aWdhdG9yLnVzZXJBZ2VudCB8fCBcIlwiKTtcclxuLy8gRGV0ZWN0cyBpT1MgZGV2aWNlIE9SIFNhZmFyaSBydW5uaW5nIG9uIGRlc2t0b3BcclxuZXhwb3J0cy5pc1NhZmFyaSA9IHVhLmxlbmd0aCA9PT0gMCA/IGZhbHNlIDogKC9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QodWEpKSB8fCAoL2lQYWR8aVBob25lfGlQb2QvLnRlc3QodWEpICYmICF3aW5kb3dbXCJNU1N0cmVhbVwiXSk7XHJcbi8vIERldGVjdCBFZGdlIG9yIEludGVybmV0IEV4cGxvcmVyXHJcbmV4cG9ydHMuaXNNU0Jyb3dzZXIgPSB1YS5sZW5ndGggPT09IDAgPyBmYWxzZSA6IHVhLmluZGV4T2YoXCJNU0lFIFwiKSA+IDAgfHwgdWEuaW5kZXhPZihcIlRyaWRlbnQvXCIpID4gMCB8fCB1YS5pbmRleE9mKFwiRWRnZS9cIikgPiAwO1xyXG4vLyBEZXRlY3QgQW5kcm9pZCBEZXZpY2VcclxuZXhwb3J0cy5pc0FuZHJvaWQgPSAvQW5kcm9pZC8udGVzdCh1YSk7XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSBhIHJhbmRvbSAxNiBiaXQgbnVtYmVyIHVzaW5nIHN0cm9uZ2VzdCBjcnlwdG8gYXZhaWxhYmxlLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gKi9cclxuZXhwb3J0cy5yYW5kb20xNkJpdHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAodHlwZW9mIGNyeXB0byA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiBNYXRoLnBvdygyLCAxNikpOyAvLyBMZXNzIHJhbmRvbSBmYWxsYmFjay5cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKSB7IC8vIEJyb3dzZXIgY3J5cHRvXHJcbiAgICAgICAgICAgIHZhciBidWYgPSBuZXcgVWludDE2QXJyYXkoMSk7XHJcbiAgICAgICAgICAgIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYnVmKTtcclxuICAgICAgICAgICAgcmV0dXJuIGJ1ZlswXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwuX2NyeXB0by5yYW5kb21CeXRlcykgeyAvLyBOb2RlSlMgY3J5cHRvXHJcbiAgICAgICAgICAgIHJldHVybiBnbG9iYWwuX2NyeXB0by5yYW5kb21CeXRlcygyKS5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGN1cikgeyByZXR1cm4gY3VyICogcHJldjsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogTWF0aC5wb3coMiwgMTYpKTsgLy8gTGVzcyByYW5kb20gZmFsbGJhY2suXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogR2VuZXJhdGUgYSBUaW1lSUQgZm9yIHVzZSBpbiB0aGUgZGF0YWJhc2UuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW21zXVxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gKi9cclxuZXhwb3J0cy50aW1laWQgPSBmdW5jdGlvbiAobXMpIHtcclxuICAgIHZhciB0aW1lID0gTWF0aC5yb3VuZCgobmV3IERhdGUoKS5nZXRUaW1lKCkpIC8gKG1zID8gMSA6IDEwMDApKS50b1N0cmluZygpO1xyXG4gICAgd2hpbGUgKHRpbWUubGVuZ3RoIDwgKG1zID8gMTMgOiAxMCkpIHtcclxuICAgICAgICB0aW1lID0gXCIwXCIgKyB0aW1lO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRpbWUgKyBcIi1cIiArIChleHBvcnRzLnJhbmRvbTE2Qml0cygpICsgZXhwb3J0cy5yYW5kb20xNkJpdHMoKSkudG9TdHJpbmcoMTYpO1xyXG59O1xyXG4vKipcclxuICogU2VlIGlmIHR3byBhcnJheXMgaW50ZXJzZWN0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge2FueVtdfSBhcnIxXHJcbiAqIEBwYXJhbSB7YW55W119IGFycjJcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5leHBvcnRzLmludGVyc2VjdCA9IGZ1bmN0aW9uIChhcnIxLCBhcnIyKSB7XHJcbiAgICBpZiAoIWFycjEgfHwgIWFycjIpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgaWYgKCFhcnIxLmxlbmd0aCB8fCAhYXJyMi5sZW5ndGgpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgcmV0dXJuIChhcnIxIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIChhcnIyIHx8IFtdKS5pbmRleE9mKGl0ZW0pICE9PSAtMTsgfSkubGVuZ3RoID4gMDtcclxufTtcclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIHZhbGlkIFY0IFVVSUQgdXNpbmcgdGhlIHN0cm9uZ2VzdCBjcnlwdG8gYXZhaWxhYmxlLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gKi9cclxuZXhwb3J0cy51dWlkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHIsIHMsIGIgPSBcIlwiO1xyXG4gICAgcmV0dXJuIFtiLCBiLCBiLCBiLCBiLCBiLCBiLCBiXS5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGN1ciwgaSkge1xyXG4gICAgICAgIHIgPSBleHBvcnRzLnJhbmRvbTE2Qml0cygpO1xyXG4gICAgICAgIHMgPSAoaSA9PT0gMyA/IDQgOiAoaSA9PT0gNCA/IChyICUgMTYgJiAweDMgfCAweDgpLnRvU3RyaW5nKDE2KSA6IGIpKTtcclxuICAgICAgICByID0gci50b1N0cmluZygxNik7XHJcbiAgICAgICAgd2hpbGUgKHIubGVuZ3RoIDwgNClcclxuICAgICAgICAgICAgciA9IFwiMFwiICsgcjtcclxuICAgICAgICByZXR1cm4gcHJldiArIChbMiwgMywgNCwgNV0uaW5kZXhPZihpKSA+IC0xID8gXCItXCIgOiBiKSArIChzICsgcikuc2xpY2UoMCwgNCk7XHJcbiAgICB9LCBiKTtcclxufTtcclxudmFyIGlkVHlwZXMgPSB7XHJcbiAgICBcImludFwiOiBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9LFxyXG4gICAgXCJ1dWlkXCI6IGV4cG9ydHMudXVpZCxcclxuICAgIFwidGltZUlkXCI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4cG9ydHMudGltZWlkKCk7IH0sXHJcbiAgICBcInRpbWVJZG1zXCI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4cG9ydHMudGltZWlkKHRydWUpOyB9XHJcbn07XHJcbi8qKlxyXG4gKiBBIHF1aWNrIGFuZCBkaXJ0eSBoYXNoaW5nIGZ1bmN0aW9uLCB0dXJucyBhIHN0cmluZyBpbnRvIGEgbWQ1IHN0eWxlIGhhc2guXHJcbiAqIHN0b2xlbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9kYXJrc2t5YXBwL3N0cmluZy1oYXNoXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcclxuICogQHJldHVybnMge3N0cmluZ31cclxuICovXHJcbmV4cG9ydHMuaGFzaCA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgIHZhciBoYXNoID0gNTM4MSwgaSA9IHN0ci5sZW5ndGg7XHJcbiAgICB3aGlsZSAoaSkge1xyXG4gICAgICAgIGhhc2ggPSAoaGFzaCAqIDMzKSBeIHN0ci5jaGFyQ29kZUF0KC0taSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKGhhc2ggPj4+IDApLnRvU3RyaW5nKDE2KTtcclxufTtcclxuLyoqXHJcbiAqIEdlbmVyYXRlIGEgcm93IElEIGdpdmVuIHRoZSBwcmltYXJ5IGtleSB0eXBlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJpbWFyeUtleVR5cGVcclxuICogQHBhcmFtIHtudW1iZXJ9IFtpbmNyaW1lbnRWYWx1ZV1cclxuICogQHJldHVybnMgeyp9XHJcbiAqL1xyXG5leHBvcnRzLmdlbmVyYXRlSUQgPSBmdW5jdGlvbiAocHJpbWFyeUtleVR5cGUsIGluY3JpbWVudFZhbHVlKSB7XHJcbiAgICByZXR1cm4gaWRUeXBlc1twcmltYXJ5S2V5VHlwZV0gPyBpZFR5cGVzW3ByaW1hcnlLZXlUeXBlXShpbmNyaW1lbnRWYWx1ZSB8fCAxKSA6IFwiXCI7XHJcbn07XHJcbi8qKlxyXG4gKiBDbGVhbiB0aGUgYXJndW1lbnRzIGZyb20gYW4gb2JqZWN0IGdpdmVuIGFuIGFycmF5IG9mIGFyZ3VtZW50cyBhbmQgdGhlaXIgdHlwZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nW119IGFyZ0RlY2xhcmF0aW9uc1xyXG4gKiBAcGFyYW0ge1N0ZE9iamVjdDxhbnk+fSBhcmdzXHJcbiAqIEByZXR1cm5zIHtTdGRPYmplY3Q8YW55Pn1cclxuICovXHJcbmV4cG9ydHMuY2xlYW5BcmdzID0gZnVuY3Rpb24gKGFyZ0RlY2xhcmF0aW9ucywgYXJncykge1xyXG4gICAgdmFyIGEgPSB7fTtcclxuICAgIHZhciBpID0gYXJnRGVjbGFyYXRpb25zLmxlbmd0aDtcclxuICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICB2YXIgazIgPSBhcmdEZWNsYXJhdGlvbnNbaV0uc3BsaXQoXCI6XCIpO1xyXG4gICAgICAgIGlmIChrMi5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIGFbazJbMF1dID0gZXhwb3J0cy5jYXN0KGsyWzFdLCBhcmdzW2syWzBdXSB8fCB1bmRlZmluZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgYVtrMlswXV0gPSBhcmdzW2syWzBdXSB8fCB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGE7XHJcbn07XHJcbi8qKlxyXG4gKiBEZXRlcm1pbmUgaWYgYSBnaXZlbiB2YWx1ZSBpcyBhIGphdmFzY3JpcHQgb2JqZWN0IG9yIG5vdC4gRXhsdWRlcyBBcnJheXMsIEZ1bmN0aW9ucywgTnVsbCwgVW5kZWZpbmVkLCBldGMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gdmFsXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuZXhwb3J0cy5pc09iamVjdCA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsKSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIjtcclxufTtcclxuLyoqXHJcbiAqIENhc3QgYSBqYXZhc2NyaXB0IHZhcmlhYmxlIHRvIGEgZ2l2ZW4gdHlwZS4gU3VwcG9ydHMgdHlwZXNjcmlwdCBwcmltaXRpdmVzIGFuZCBtb3JlIHNwZWNpZmljIHR5cGVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxyXG4gKiBAcGFyYW0geyp9IFt2YWxdXHJcbiAqIEByZXR1cm5zIHsqfVxyXG4gKi9cclxuZXhwb3J0cy5jYXN0ID0gZnVuY3Rpb24gKHR5cGUsIHZhbCkge1xyXG4gICAgaWYgKHR5cGUgPT09IFwiYW55XCIgfHwgdHlwZSA9PT0gXCJibG9iXCIpXHJcbiAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgIHZhciB0ID0gdHlwZW9mIHZhbDtcclxuICAgIGlmICh0ID09PSBcInVuZGVmaW5lZFwiIHx8IHZhbCA9PT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiB2YWw7XHJcbiAgICB9XHJcbiAgICB2YXIgZW50aXR5TWFwID0ge1xyXG4gICAgICAgIFwiJlwiOiBcIiZhbXA7XCIsXHJcbiAgICAgICAgXCI8XCI6IFwiJmx0O1wiLFxyXG4gICAgICAgIFwiPlwiOiBcIiZndDtcIixcclxuICAgICAgICBcIlxcXCJcIjogXCImcXVvdDtcIixcclxuICAgICAgICBcIidcIjogXCImIzM5O1wiLFxyXG4gICAgICAgIFwiL1wiOiBcIiYjeDJGO1wiLFxyXG4gICAgICAgIFwiYFwiOiBcIiYjeDYwO1wiLFxyXG4gICAgICAgIFwiPVwiOiBcIiYjeDNEO1wiXHJcbiAgICB9O1xyXG4gICAgdmFyIHR5cGVzID0gZnVuY3Rpb24gKHR5cGUsIHZhbCkge1xyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwic2FmZXN0clwiOiByZXR1cm4gdHlwZXMoXCJzdHJpbmdcIiwgdmFsKS5yZXBsYWNlKC9bJjw+XCInYD1cXC9dL2dtaSwgZnVuY3Rpb24gKHMpIHsgcmV0dXJuIGVudGl0eU1hcFtzXTsgfSk7XHJcbiAgICAgICAgICAgIGNhc2UgXCJpbnRcIjogcmV0dXJuICh0ICE9PSBcIm51bWJlclwiIHx8IHZhbCAlIDEgIT09IDApID8gcGFyc2VJbnQodmFsIHx8IDApIDogdmFsO1xyXG4gICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCJmbG9hdFwiOiByZXR1cm4gdCAhPT0gXCJudW1iZXJcIiA/IHBhcnNlRmxvYXQodmFsIHx8IDApIDogdmFsO1xyXG4gICAgICAgICAgICBjYXNlIFwiYW55W11cIjpcclxuICAgICAgICAgICAgY2FzZSBcImFycmF5XCI6IHJldHVybiBBcnJheS5pc0FycmF5KHZhbCkgPyB2YWwgOiBbXTtcclxuICAgICAgICAgICAgY2FzZSBcInV1aWRcIjpcclxuICAgICAgICAgICAgY2FzZSBcInRpbWVJZFwiOlxyXG4gICAgICAgICAgICBjYXNlIFwidGltZUlkbXNcIjpcclxuICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOiByZXR1cm4gdCAhPT0gXCJzdHJpbmdcIiA/IFN0cmluZyh2YWwpIDogdmFsO1xyXG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCJvYmpcIjpcclxuICAgICAgICAgICAgY2FzZSBcIm1hcFwiOiByZXR1cm4gZXhwb3J0cy5pc09iamVjdCh2YWwpID8gdmFsIDoge307XHJcbiAgICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCJib29sXCI6IHJldHVybiB2YWwgPT09IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWw7XHJcbiAgICB9O1xyXG4gICAgdmFyIG5ld1ZhbCA9IHR5cGVzKFN0cmluZyh0eXBlIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCksIHZhbCk7XHJcbiAgICBpZiAodHlwZS5pbmRleE9mKFwiW11cIikgIT09IC0xKSB7XHJcbiAgICAgICAgdmFyIGFycmF5T2ZfMSA9IHR5cGUuc2xpY2UoMCwgdHlwZS5sYXN0SW5kZXhPZihcIltdXCIpKTtcclxuICAgICAgICByZXR1cm4gKHZhbCB8fCBbXSkubWFwKGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLmNhc3QoYXJyYXlPZl8xLCB2KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKG5ld1ZhbCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgaWYgKFtcImludFwiLCBcImZsb2F0XCIsIFwibnVtYmVyXCJdLmluZGV4T2YodHlwZSkgPiAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaXNOYU4obmV3VmFsKSA/IDAgOiBuZXdWYWw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3VmFsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbn07XHJcbi8qKlxyXG4gKiBJbnNlcnQgYSB2YWx1ZSBpbnRvIGEgc29ydGVkIGFycmF5LCBlZmZpY2llbnRseSBnYXVyYW50ZWVzIHJlY29yZHMgYXJlIHNvcnRlZCBvbiBpbnNlcnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7YW55W119IGFyclxyXG4gKiBAcGFyYW0geyp9IHZhbHVlXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnRWYWxdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kVmFsXVxyXG4gKiBAcmV0dXJucyB7YW55W119XHJcbiAqL1xyXG5leHBvcnRzLnNvcnRlZEluc2VydCA9IGZ1bmN0aW9uIChhcnIsIHZhbHVlLCBzdGFydFZhbCwgZW5kVmFsKSB7XHJcbiAgICBpZiAoYXJyLmxlbmd0aCkge1xyXG4gICAgICAgIGFyci5zcGxpY2UoZXhwb3J0cy5iaW5hcnlTZWFyY2goYXJyLCB2YWx1ZSksIDAsIHZhbHVlKTtcclxuICAgICAgICByZXR1cm4gYXJyO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgYXJyLnB1c2godmFsdWUpO1xyXG4gICAgICAgIHJldHVybiBhcnI7XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBHaXZlbiBhIHNvcnRlZCBhcnJheSBhbmQgYSB2YWx1ZSwgZmluZCB3aGVyZSB0aGF0IHZhbHVlIGZpdHMgaW50byB0aGUgYXJyYXkuXHJcbiAqXHJcbiAqIEBwYXJhbSB7YW55W119IGFyclxyXG4gKiBAcGFyYW0geyp9IHZhbHVlXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnRWYWxdXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kVmFsXVxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gKi9cclxuZXhwb3J0cy5iaW5hcnlTZWFyY2ggPSBmdW5jdGlvbiAoYXJyLCB2YWx1ZSwgc3RhcnRWYWwsIGVuZFZhbCkge1xyXG4gICAgdmFyIGxlbmd0aCA9IGFyci5sZW5ndGg7XHJcbiAgICB2YXIgc3RhcnQgPSBzdGFydFZhbCB8fCAwO1xyXG4gICAgdmFyIGVuZCA9IGVuZFZhbCAhPT0gdW5kZWZpbmVkID8gZW5kVmFsIDogbGVuZ3RoIC0gMTtcclxuICAgIGlmIChsZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuICAgIGlmICh2YWx1ZSA+IGFycltlbmRdKSB7XHJcbiAgICAgICAgcmV0dXJuIGVuZCArIDE7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUgPCBhcnJbc3RhcnRdKSB7XHJcbiAgICAgICAgcmV0dXJuIHN0YXJ0O1xyXG4gICAgfVxyXG4gICAgaWYgKHN0YXJ0ID49IGVuZCkge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICAgdmFyIG0gPSBzdGFydCArIE1hdGguZmxvb3IoKGVuZCAtIHN0YXJ0KSAvIDIpO1xyXG4gICAgaWYgKHZhbHVlIDwgYXJyW21dKSB7XHJcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuYmluYXJ5U2VhcmNoKGFyciwgdmFsdWUsIHN0YXJ0LCBtIC0gMSk7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUgPiBhcnJbbV0pIHtcclxuICAgICAgICByZXR1cm4gZXhwb3J0cy5iaW5hcnlTZWFyY2goYXJyLCB2YWx1ZSwgbSArIDEsIGVuZCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gMDtcclxufTtcclxuLyoqXHJcbiAqIFF1aWNrbHkgcmVtb3ZlcyBkdXBsaWNhdGVzIGZyb20gYSBzb3J0ZWQgYXJyYXkuXHJcbiAqXHJcbiAqIEBwYXJhbSB7YW55W119IGFyclxyXG4gKiBAcmV0dXJucyB7YW55W119XHJcbiAqL1xyXG5leHBvcnRzLnJlbW92ZUR1cGxpY2F0ZXMgPSBmdW5jdGlvbiAoYXJyKSB7XHJcbiAgICBpZiAoIWFyci5sZW5ndGgpXHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgdmFyIG5ld2FyciA9IFthcnJbMF1dO1xyXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoYXJyW2ldICE9PSBhcnJbaSAtIDFdKVxyXG4gICAgICAgICAgICBuZXdhcnIucHVzaChhcnJbaV0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld2FycjtcclxufTtcclxuLyoqXHJcbiAqIFJlY3Vyc2l2ZWx5IGZyZWV6ZSBhIGphdmFzY3JpcHQgb2JqZWN0IHRvIHByZXZlbnQgaXQgZnJvbSBiZWluZyBtb2RpZmllZC5cclxuICpcclxuICogQHBhcmFtIHsqfSBvYmpcclxuICogQHJldHVybnNcclxuICovXHJcbmV4cG9ydHMuZGVlcEZyZWV6ZSA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaiB8fCB7fSkuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgIHZhciBwcm9wID0gb2JqW25hbWVdO1xyXG4gICAgICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gXCJvYmplY3RcIiAmJiBwcm9wICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIG9ialtuYW1lXSA9IGV4cG9ydHMuZGVlcEZyZWV6ZShwcm9wKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIC8vIEZyZWV6ZSBzZWxmIChuby1vcCBpZiBhbHJlYWR5IGZyb3plbilcclxuICAgIHJldHVybiBPYmplY3QuZnJlZXplKG9iaik7XHJcbn07XHJcbnZhciBvYmplY3RQYXRoQ2FjaGUgPSB7fTtcclxuLyoqXHJcbiAqIFRha2UgYW4gb2JqZWN0IGFuZCBhIHN0cmluZyBkZXNjcmliaW5nIGEgcGF0aCBsaWtlIFwidmFsdWUubGVuZ3RoXCIgb3IgXCJ2YWxbbGVuZ3RoXVwiIGFuZCBzYWZlbHkgZ2V0IHRoYXQgdmFsdWUgaW4gdGhlIG9iamVjdC5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGhRdWVyeVxyXG4gKiBAcGFyYW0geyp9IG9iamVjdFxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpZ25vcmVGaXJzdFBhdGhdXHJcbiAqIEByZXR1cm5zIHsqfVxyXG4gKi9cclxuZXhwb3J0cy5vYmpRdWVyeSA9IGZ1bmN0aW9uIChwYXRoUXVlcnksIG9iamVjdCwgaWdub3JlRmlyc3RQYXRoKSB7XHJcbiAgICB2YXIgdmFsO1xyXG4gICAgdmFyIHNhZmVHZXQgPSBmdW5jdGlvbiAoZ2V0UGF0aCwgcGF0aElkeCwgb2JqZWN0KSB7XHJcbiAgICAgICAgaWYgKCFnZXRQYXRoW3BhdGhJZHhdIHx8ICFvYmplY3QpXHJcbiAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XHJcbiAgICAgICAgcmV0dXJuIHNhZmVHZXQoZ2V0UGF0aCwgcGF0aElkeCArIDEsIG9iamVjdFtnZXRQYXRoW3BhdGhJZHhdXSk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNhY2hlS2V5ID0gcGF0aFF1ZXJ5ICsgKGlnbm9yZUZpcnN0UGF0aCA/IFwiMVwiIDogXCIwXCIpO1xyXG4gICAgLy8gY2FjaGVkIHBhdGggYXJyYXlzLCBza2lwcyBzdWJzZXF1ZW50IGlkZW50aWNhbCBwYXRoIHJlcXVlc3RzLlxyXG4gICAgaWYgKG9iamVjdFBhdGhDYWNoZVtjYWNoZUtleV0pIHtcclxuICAgICAgICByZXR1cm4gc2FmZUdldChvYmplY3RQYXRoQ2FjaGVbY2FjaGVLZXldLCAwLCBvYmplY3QpO1xyXG4gICAgfVxyXG4gICAgdmFyIHBhdGggPSBbXTtcclxuICAgIC8vIG5lZWQgdG8gdHVybiBwYXRoIGludG8gYXJyYXkgb2Ygc3RyaW5ncywgaWUgdmFsdWVbaGV5XVt0aGVyZV0ubGVuZ3RoID0+IFt2YWx1ZSwgaGV5LCB0aGVyZSwgbGVuZ3RoXTtcclxuICAgIHBhdGggPSBwYXRoUXVlcnkuaW5kZXhPZihcIltcIikgPiAtMSA/XHJcbiAgICAgICAgLy8gaGFuZGxlIGNvbXBsZXggbWl4IG9mIGRvdHMgYW5kIGJyYWNrZXRzIGxpa2UgXCJ1c2Vycy52YWx1ZVttZXRhXVt2YWx1ZV0ubGVuZ3RoXCJcclxuICAgICAgICBbXS5jb25jYXQuYXBwbHkoW10sIHBhdGhRdWVyeS5zcGxpdChcIi5cIikubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiB2Lm1hdGNoKC8oW15cXFtdKyl8XFxbKFteXFxdXSspXFxdXFxbL2dtaSkgfHwgdjsgfSkpLm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gdi5yZXBsYWNlKC9cXFt8XFxdL2dtaSwgXCJcIik7IH0pIDpcclxuICAgICAgICAvLyBoYW5kbGUgc2ltcGxlIGRvdCBwYXRocyBsaWtlIFwidXNlcnMubWV0YS52YWx1ZS5sZW5ndGhcIlxyXG4gICAgICAgIHBhdGhRdWVyeS5zcGxpdChcIi5cIik7XHJcbiAgICAvLyBoYW5kbGUgam9pbnMgd2hlcmUgZWFjaCByb3cgaXMgZGVmaW5lZCBhcyB0YWJsZS5jb2x1bW5cclxuICAgIGlmIChpZ25vcmVGaXJzdFBhdGgpIHtcclxuICAgICAgICB2YXIgZmlyc3RQYXRoID0gcGF0aC5zaGlmdCgpICsgXCIuXCIgKyBwYXRoLnNoaWZ0KCk7XHJcbiAgICAgICAgcGF0aC51bnNoaWZ0KGZpcnN0UGF0aCk7XHJcbiAgICB9XHJcbiAgICBvYmplY3RQYXRoQ2FjaGVbY2FjaGVLZXldID0gcGF0aDtcclxuICAgIHJldHVybiBzYWZlR2V0KG9iamVjdFBhdGhDYWNoZVtjYWNoZUtleV0sIDAsIG9iamVjdCk7XHJcbn07XHJcbiIsInZhciBjb3JlID0gbW9kdWxlLmV4cG9ydHMgPSB7IHZlcnNpb246ICcyLjUuNScgfTtcbmlmICh0eXBlb2YgX19lID09ICdudW1iZXInKSBfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG4iLCIvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxudmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG4gID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuY1xuICA6IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5pZiAodHlwZW9mIF9fZyA9PSAnbnVtYmVyJykgX19nID0gZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG4iLCIvLyBUaGFuaydzIElFOCBmb3IgaGlzIGZ1bm55IGRlZmluZVByb3BlcnR5XG5tb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfSB9KS5hICE9IDc7XG59KTtcbiIsInZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIElFOF9ET01fREVGSU5FID0gcmVxdWlyZSgnLi9faWU4LWRvbS1kZWZpbmUnKTtcbnZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpO1xudmFyIGRQID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcykge1xuICBhbk9iamVjdChPKTtcbiAgUCA9IHRvUHJpbWl0aXZlKFAsIHRydWUpO1xuICBhbk9iamVjdChBdHRyaWJ1dGVzKTtcbiAgaWYgKElFOF9ET01fREVGSU5FKSB0cnkge1xuICAgIHJldHVybiBkUChPLCBQLCBBdHRyaWJ1dGVzKTtcbiAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG4gIGlmICgnZ2V0JyBpbiBBdHRyaWJ1dGVzIHx8ICdzZXQnIGluIEF0dHJpYnV0ZXMpIHRocm93IFR5cGVFcnJvcignQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhJyk7XG4gIGlmICgndmFsdWUnIGluIEF0dHJpYnV0ZXMpIE9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuICByZXR1cm4gTztcbn07XG4iLCJ2YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLy8gc3RvbGVuIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL09jdGFuZS9zZXRJbW1lZGlhdGVcclxuLy8gY29udmVydGQgdG8gTm9kZUpTIGZyaWVuZGx5IHN5bnRheFxyXG52YXIgdWlkID0gMDtcclxudmFyIHN0b3JhZ2UgPSB7fTtcclxudmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xyXG52YXIgbWVzc2FnZSA9ICdzZXRNc2cnO1xyXG4vLyBkZWNsYXJlIGNvbnN0IFByb21pc2U6IGFueTtcclxudmFyIGNhblNldEltbWVkaWF0ZSA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvd1tcInNldEltbWVkaWF0ZVwiXSA/IHdpbmRvd1tcInNldEltbWVkaWF0ZVwiXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsW1wic2V0SW1tZWRpYXRlXCJdID8gZ2xvYmFsW1wic2V0SW1tZWRpYXRlXCJdIDogZmFsc2U7XHJcbnZhciBjYW5Qb3N0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnBvc3RNZXNzYWdlICYmIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyO1xyXG52YXIgY2FuUHJvbWlzZSA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvd1tcIlByb21pc2VcIl0gPyB3aW5kb3dbXCJQcm9taXNlXCJdIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWxbXCJQcm9taXNlXCJdID8gZ2xvYmFsW1wiUHJvbWlzZVwiXSA6IGZhbHNlO1xyXG52YXIgZmFzdEFwcGx5ID0gZnVuY3Rpb24gKGFyZ3MpIHtcclxuICAgIHJldHVybiBhcmdzWzBdLmFwcGx5KG51bGwsIHNsaWNlLmNhbGwoYXJncywgMSkpO1xyXG59O1xyXG52YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIHZhciBrZXkgPSBldmVudC5kYXRhO1xyXG4gICAgdmFyIGRhdGE7XHJcbiAgICBpZiAodHlwZW9mIGtleSA9PSAnc3RyaW5nJyAmJiBrZXkuaW5kZXhPZihtZXNzYWdlKSA9PT0gMCkge1xyXG4gICAgICAgIGRhdGEgPSBzdG9yYWdlW2tleV07XHJcbiAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHN0b3JhZ2Vba2V5XTtcclxuICAgICAgICAgICAgZmFzdEFwcGx5KGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuaWYgKGNhblBvc3QpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgY2FsbGJhY2spO1xyXG59XHJcbnZhciBzZXRJbW1lZGlhdGVQb2x5ZmlsbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBhcmdzID0gW107XHJcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgIH1cclxuICAgIHZhciBpZCA9IHVpZCsrO1xyXG4gICAgdmFyIGtleSA9IG1lc3NhZ2UgKyBpZDtcclxuICAgIHN0b3JhZ2Vba2V5XSA9IGFyZ3M7XHJcbiAgICB3aW5kb3cucG9zdE1lc3NhZ2Uoa2V5LCAnKicpO1xyXG4gICAgcmV0dXJuIGlkO1xyXG59O1xyXG5leHBvcnRzLnNldEZhc3QgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIGNhblNldEltbWVkaWF0ZSA/IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FuU2V0SW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZmFzdEFwcGx5KGFyZ3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSA6IGNhblByb21pc2UgPyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhblByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmYXN0QXBwbHkoYXJncyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9IDogY2FuUG9zdCA/IHNldEltbWVkaWF0ZVBvbHlmaWxsIDogLy8gYnVpbHQgaW4gd2luZG93IG1lc3NhZ2luZyAocHJldHR5IGZhc3QsIG5vdCBiYWQpXHJcbiAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZmFzdEFwcGx5KGFyZ3MpO1xyXG4gICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICB9O1xyXG59KSgpO1xyXG52YXIgX0lOVEVSTkFMID0gZnVuY3Rpb24gKCkgeyB9O1xyXG52YXIgX1JFSkVDVEVEID0gWydSJ107XHJcbnZhciBfRlVMRklMTEVEID0gWydGJ107XHJcbnZhciBfUEVORElORyA9IFsnUCddO1xyXG52YXIgUHJvbWlzZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFByb21pc2UocmVzb2x2ZXIpIHtcclxuICAgICAgICB0aGlzLl9zdGF0ZSA9IF9QRU5ESU5HO1xyXG4gICAgICAgIHRoaXMuX3F1ZXVlID0gW107XHJcbiAgICAgICAgdGhpcy5fb3V0Y29tZSA9IHZvaWQgMDtcclxuICAgICAgICBpZiAocmVzb2x2ZXIgIT09IF9JTlRFUk5BTCkge1xyXG4gICAgICAgICAgICBfc2FmZWx5UmVzb2x2ZVRoZW5hYmxlKHRoaXMsIHJlc29sdmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBQcm9taXNlLmRvUG9seUZpbGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgaWYgKCFnbG9iYWxbXCJQcm9taXNlXCJdKSB7XHJcbiAgICAgICAgICAgICAgICBnbG9iYWxbXCJQcm9taXNlXCJdID0gdGhpcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICBpZiAoIXdpbmRvd1tcIlByb21pc2VcIl0pIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvd1tcIlByb21pc2VcIl0gPSB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFByb21pc2UucHJvdG90eXBlLmNhdGNoID0gZnVuY3Rpb24gKG9uUmVqZWN0ZWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uICgpIHsgfSwgb25SZWplY3RlZCk7XHJcbiAgICB9O1xyXG4gICAgUHJvbWlzZS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uIChvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygb25GdWxmaWxsZWQgIT09ICdmdW5jdGlvbicgJiYgdGhpcy5fc3RhdGUgPT09IF9GVUxGSUxMRUQgfHxcclxuICAgICAgICAgICAgdHlwZW9mIG9uUmVqZWN0ZWQgIT09ICdmdW5jdGlvbicgJiYgdGhpcy5fc3RhdGUgPT09IF9SRUpFQ1RFRCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShfSU5URVJOQUwpO1xyXG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSAhPT0gX1BFTkRJTkcpIHtcclxuICAgICAgICAgICAgdmFyIHJlc29sdmVyID0gdGhpcy5fc3RhdGUgPT09IF9GVUxGSUxMRUQgPyBvbkZ1bGZpbGxlZCA6IG9uUmVqZWN0ZWQ7XHJcbiAgICAgICAgICAgIF91bndyYXAocHJvbWlzZSwgcmVzb2x2ZXIsIHRoaXMuX291dGNvbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fcXVldWUucHVzaChuZXcgX1F1ZXVlSXRlbShwcm9taXNlLCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAc3RhdGljXHJcbiAgICAgKiBAcGFyYW0ge2FueX0gdmFsdWVcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIFByb21pc2VcclxuICAgICAqL1xyXG4gICAgUHJvbWlzZS5yZXNvbHZlID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgdGhpcylcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIHJldHVybiBfaGFuZGxlcnMuX3Jlc29sdmUobmV3IFByb21pc2UoX0lOVEVSTkFMKSwgdmFsdWUpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBzdGF0aWNcclxuICAgICAqIEBwYXJhbSB7YW55fSByZWFzb25cclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIFByb21pc2VcclxuICAgICAqL1xyXG4gICAgUHJvbWlzZS5yZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XHJcbiAgICAgICAgcmV0dXJuIF9oYW5kbGVycy5fcmVqZWN0KG5ldyBQcm9taXNlKF9JTlRFUk5BTCksIHJlYXNvbik7XHJcbiAgICB9O1xyXG4gICAgUHJvbWlzZS5hbGwgPSBmdW5jdGlvbiAoaXRlcmFibGUpIHtcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcclxuICAgICAgICAgICAgaWYgKCFpdGVyYWJsZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoW10pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBtYXliZVJldHVybiA9IGZ1bmN0aW9uIChpbmRleCwgc3VjY2VzcywgZmFpbHVyZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZhaWx1cmUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChmYWlsdXJlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChzdWNjZXNzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA9PSBpdGVyYWJsZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVyYWJsZVtpXS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG1heWJlUmV0dXJuKGksIHJlcywgdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF5YmVSZXR1cm4oaSwgdW5kZWZpbmVkLCBlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZXJhYmxlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBfbG9vcF8xKGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgUHJvbWlzZS5yYWNlID0gZnVuY3Rpb24gKGl0ZXJhYmxlKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHZhciBsZW4gPSBpdGVyYWJsZS5sZW5ndGg7XHJcbiAgICAgICAgdmFyIGNhbGxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBpID0gLTE7XHJcbiAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShfSU5URVJOQUwpO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZXJhYmxlKSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVqZWN0KG5ldyBUeXBlRXJyb3IoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmVyKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHNlbGYucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmICghY2FsbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBfaGFuZGxlcnMuX3Jlc29sdmUocHJvbWlzZSwgcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGlmICghY2FsbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBfaGFuZGxlcnMuX3JlamVjdChwcm9taXNlLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWxlbikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXNvbHZlKFtdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2hpbGUgKCsraSA8IGxlbikge1xyXG4gICAgICAgICAgICByZXNvbHZlcihpdGVyYWJsZVtpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQcm9taXNlO1xyXG59KCkpO1xyXG5leHBvcnRzLlByb21pc2UgPSBQcm9taXNlO1xyXG4vKipcclxuICogQGludGVybmFsXHJcbiAqXHJcbiAqIEBleHBvcnRcclxuICogQGNsYXNzIF9RdWV1ZUl0ZW1cclxuICovXHJcbnZhciBfUXVldWVJdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gX1F1ZXVlSXRlbShwcm9taXNlLCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xyXG4gICAgICAgIHRoaXMuX3Byb21pc2UgPSBwcm9taXNlO1xyXG4gICAgICAgIGlmICh0eXBlb2Ygb25GdWxmaWxsZWQgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgdGhpcy5fb25GdWxmaWxsZWQgPSBvbkZ1bGZpbGxlZDtcclxuICAgICAgICAgICAgdGhpcy5fY2FsbEZ1bGZpbGxlZCA9IHRoaXMuX290aGVyQ2FsbEZ1bGZpbGxlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvblJlamVjdGVkID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX29uUmVqZWN0ZWQgPSBvblJlamVjdGVkO1xyXG4gICAgICAgICAgICB0aGlzLl9jYWxsUmVqZWN0ZWQgPSB0aGlzLl9vdGhlckNhbGxSZWplY3RlZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfUXVldWVJdGVtLnByb3RvdHlwZS5fY2FsbEZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIF9oYW5kbGVycy5fcmVzb2x2ZSh0aGlzLl9wcm9taXNlLCB2YWx1ZSk7XHJcbiAgICB9O1xyXG4gICAgO1xyXG4gICAgX1F1ZXVlSXRlbS5wcm90b3R5cGUuX290aGVyQ2FsbEZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIF91bndyYXAodGhpcy5fcHJvbWlzZSwgdGhpcy5fb25GdWxmaWxsZWQsIHZhbHVlKTtcclxuICAgIH07XHJcbiAgICA7XHJcbiAgICBfUXVldWVJdGVtLnByb3RvdHlwZS5fY2FsbFJlamVjdGVkID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgX2hhbmRsZXJzLl9yZWplY3QodGhpcy5fcHJvbWlzZSwgdmFsdWUpO1xyXG4gICAgfTtcclxuICAgIDtcclxuICAgIF9RdWV1ZUl0ZW0ucHJvdG90eXBlLl9vdGhlckNhbGxSZWplY3RlZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIF91bndyYXAodGhpcy5fcHJvbWlzZSwgdGhpcy5fb25SZWplY3RlZCwgdmFsdWUpO1xyXG4gICAgfTtcclxuICAgIDtcclxuICAgIHJldHVybiBfUXVldWVJdGVtO1xyXG59KCkpO1xyXG5leHBvcnRzLl9RdWV1ZUl0ZW0gPSBfUXVldWVJdGVtO1xyXG4vKipcclxuICpcclxuICogQGludGVybmFsXHJcbiAqIEBwYXJhbSB7YW55fSBwcm9taXNlXHJcbiAqIEBwYXJhbSB7YW55fSBmdW5jXHJcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxyXG4gKi9cclxuZnVuY3Rpb24gX3Vud3JhcChwcm9taXNlLCBmdW5jLCB2YWx1ZSkge1xyXG4gICAgZXhwb3J0cy5zZXRGYXN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcmV0dXJuVmFsdWU7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBmdW5jLmFwcGx5KG51bGwsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9oYW5kbGVycy5fcmVqZWN0KHByb21pc2UsIGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmV0dXJuVmFsdWUgPT09IHByb21pc2UpIHtcclxuICAgICAgICAgICAgX2hhbmRsZXJzLl9yZWplY3QocHJvbWlzZSwgbmV3IFR5cGVFcnJvcigpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIF9oYW5kbGVycy5fcmVzb2x2ZShwcm9taXNlLCByZXR1cm5WYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKiBAY2xhc3MgX2hhbmRsZXJzXHJcbiAqL1xyXG52YXIgX2hhbmRsZXJzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gX2hhbmRsZXJzKCkge1xyXG4gICAgfVxyXG4gICAgX2hhbmRsZXJzLl9yZXNvbHZlID0gZnVuY3Rpb24gKHNlbGYsIHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IF90cnlDYXRjaChfZ2V0VGhlbiwgdmFsdWUpO1xyXG4gICAgICAgIHZhciB0aGVuYWJsZSA9IHJlc3VsdC5fdmFsdWU7XHJcbiAgICAgICAgdmFyIGkgPSAtMTtcclxuICAgICAgICB2YXIgbGVuID0gc2VsZi5fcXVldWUubGVuZ3RoO1xyXG4gICAgICAgIGlmIChyZXN1bHQuX3N0YXR1cyA9PT0gJ2Vycm9yJykge1xyXG4gICAgICAgICAgICByZXR1cm4gX2hhbmRsZXJzLl9yZWplY3Qoc2VsZiwgcmVzdWx0Ll92YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGVuYWJsZSkge1xyXG4gICAgICAgICAgICBfc2FmZWx5UmVzb2x2ZVRoZW5hYmxlKHNlbGYsIHRoZW5hYmxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYuX3N0YXRlID0gX0ZVTEZJTExFRDtcclxuICAgICAgICAgICAgc2VsZi5fb3V0Y29tZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB3aGlsZSAoKytpIDwgbGVuKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLl9xdWV1ZVtpXS5fY2FsbEZ1bGZpbGxlZCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9O1xyXG4gICAgO1xyXG4gICAgX2hhbmRsZXJzLl9yZWplY3QgPSBmdW5jdGlvbiAoc2VsZiwgZXJyb3IpIHtcclxuICAgICAgICBzZWxmLl9zdGF0ZSA9IF9SRUpFQ1RFRDtcclxuICAgICAgICBzZWxmLl9vdXRjb21lID0gZXJyb3I7XHJcbiAgICAgICAgdmFyIGkgPSAtMTtcclxuICAgICAgICB2YXIgbGVuID0gc2VsZi5fcXVldWUubGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlICgrK2kgPCBsZW4pIHtcclxuICAgICAgICAgICAgc2VsZi5fcXVldWVbaV0uX2NhbGxSZWplY3RlZChlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfTtcclxuICAgIDtcclxuICAgIHJldHVybiBfaGFuZGxlcnM7XHJcbn0oKSk7XHJcbi8qKlxyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICogQHBhcmFtIHthbnl9IG9ialxyXG4gKiBAcmV0dXJuc1xyXG4gKi9cclxuZnVuY3Rpb24gX2dldFRoZW4ob2JqKSB7XHJcbiAgICAvLyBNYWtlIHN1cmUgd2Ugb25seSBhY2Nlc3MgdGhlIGFjY2Vzc29yIG9uY2UgYXMgcmVxdWlyZWQgYnkgdGhlIHNwZWNcclxuICAgIHZhciB0aGVuID0gb2JqICYmIG9iai50aGVuO1xyXG4gICAgaWYgKG9iaiAmJiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykgJiYgdHlwZW9mIHRoZW4gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gYXBweVRoZW4oKSB7XHJcbiAgICAgICAgICAgIHRoZW4uYXBwbHkob2JqLCBhcmd1bWVudHMpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICpcclxuICogQGludGVybmFsXHJcbiAqIEBwYXJhbSB7UHJvbWlzZTxhbnk+fSBzZWxmXHJcbiAqIEBwYXJhbSB7KG9uU3VjY2VzczooLi4uVCkgPT4gdm9pZCwgb25GYWlsOiguLi5UKSA9PiB2b2lkKSA9PiB2b2lkfSB0aGVuYWJsZVxyXG4gKi9cclxuZnVuY3Rpb24gX3NhZmVseVJlc29sdmVUaGVuYWJsZShzZWxmLCB0aGVuYWJsZSkge1xyXG4gICAgLy8gRWl0aGVyIGZ1bGZpbGwsIHJlamVjdCBvciByZWplY3Qgd2l0aCBlcnJvclxyXG4gICAgdmFyIGNhbGxlZCA9IGZhbHNlO1xyXG4gICAgZnVuY3Rpb24gb25FcnJvcigpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YWx1ZVtfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2FsbGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FsbGVkID0gdHJ1ZTtcclxuICAgICAgICBfaGFuZGxlcnMuX3JlamVjdChzZWxmLCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBvblN1Y2Nlc3MoKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFsdWVbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNhbGxlZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhbGxlZCA9IHRydWU7XHJcbiAgICAgICAgX2hhbmRsZXJzLl9yZXNvbHZlKHNlbGYsIHZhbHVlKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHRyeVRvVW53cmFwKCkge1xyXG4gICAgICAgIHRoZW5hYmxlKG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICB9XHJcbiAgICB2YXIgcmVzdWx0ID0gX3RyeUNhdGNoKHRyeVRvVW53cmFwKTtcclxuICAgIGlmIChyZXN1bHQuX3N0YXR1cyA9PT0gJ2Vycm9yJykge1xyXG4gICAgICAgIG9uRXJyb3IocmVzdWx0Ll92YWx1ZSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKiBAcGFyYW0ge2FueX0gZnVuY1xyXG4gKiBAcGFyYW0geyp9IFt2YWx1ZXNdXHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG5mdW5jdGlvbiBfdHJ5Q2F0Y2goZnVuYywgdmFsdWVzKSB7XHJcbiAgICB2YXIgb3V0ID0geyBfc3RhdHVzOiBudWxsLCBfdmFsdWU6IG51bGwgfTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgb3V0Ll92YWx1ZSA9IGZ1bmModmFsdWVzKTtcclxuICAgICAgICBvdXQuX3N0YXR1cyA9ICdzdWNjZXNzJztcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgb3V0Ll9zdGF0dXMgPSAnZXJyb3InO1xyXG4gICAgICAgIG91dC5fdmFsdWUgPSBlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dDtcclxufVxyXG4iLCJ2YXIgc3RvcmUgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgnd2tzJyk7XG52YXIgdWlkID0gcmVxdWlyZSgnLi9fdWlkJyk7XG52YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuU3ltYm9sO1xudmFyIFVTRV9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09ICdmdW5jdGlvbic7XG5cbnZhciAkZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgcmV0dXJuIHN0b3JlW25hbWVdIHx8IChzdG9yZVtuYW1lXSA9XG4gICAgVVNFX1NZTUJPTCAmJiBTeW1ib2xbbmFtZV0gfHwgKFVTRV9TWU1CT0wgPyBTeW1ib2wgOiB1aWQpKCdTeW1ib2wuJyArIG5hbWUpKTtcbn07XG5cbiRleHBvcnRzLnN0b3JlID0gc3RvcmU7XG4iLCIvLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3NcbnZhciBJT2JqZWN0ID0gcmVxdWlyZSgnLi9faW9iamVjdCcpO1xudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gSU9iamVjdChkZWZpbmVkKGl0KSk7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IHR5cGVvZiBpdCA9PT0gJ2Z1bmN0aW9uJztcbn07XG4iLCJ2YXIgZFAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKTtcbnZhciBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICByZXR1cm4gZFAuZihvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xufSA6IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG9iamVjdDtcbn07XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBjdHggPSByZXF1aXJlKCcuL19jdHgnKTtcbnZhciBoaWRlID0gcmVxdWlyZSgnLi9faGlkZScpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG52YXIgJGV4cG9ydCA9IGZ1bmN0aW9uICh0eXBlLCBuYW1lLCBzb3VyY2UpIHtcbiAgdmFyIElTX0ZPUkNFRCA9IHR5cGUgJiAkZXhwb3J0LkY7XG4gIHZhciBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HO1xuICB2YXIgSVNfU1RBVElDID0gdHlwZSAmICRleHBvcnQuUztcbiAgdmFyIElTX1BST1RPID0gdHlwZSAmICRleHBvcnQuUDtcbiAgdmFyIElTX0JJTkQgPSB0eXBlICYgJGV4cG9ydC5CO1xuICB2YXIgSVNfV1JBUCA9IHR5cGUgJiAkZXhwb3J0Llc7XG4gIHZhciBleHBvcnRzID0gSVNfR0xPQkFMID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSk7XG4gIHZhciBleHBQcm90byA9IGV4cG9ydHNbUFJPVE9UWVBFXTtcbiAgdmFyIHRhcmdldCA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV07XG4gIHZhciBrZXksIG93biwgb3V0O1xuICBpZiAoSVNfR0xPQkFMKSBzb3VyY2UgPSBuYW1lO1xuICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcbiAgICBvd24gPSAhSVNfRk9SQ0VEICYmIHRhcmdldCAmJiB0YXJnZXRba2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgIGlmIChvd24gJiYgaGFzKGV4cG9ydHMsIGtleSkpIGNvbnRpbnVlO1xuICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkXG4gICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcbiAgICAvLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXNcbiAgICBleHBvcnRzW2tleV0gPSBJU19HTE9CQUwgJiYgdHlwZW9mIHRhcmdldFtrZXldICE9ICdmdW5jdGlvbicgPyBzb3VyY2Vba2V5XVxuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgOiBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbClcbiAgICAvLyB3cmFwIGdsb2JhbCBjb25zdHJ1Y3RvcnMgZm9yIHByZXZlbnQgY2hhbmdlIHRoZW0gaW4gbGlicmFyeVxuICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24gKEMpIHtcbiAgICAgIHZhciBGID0gZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBDKSB7XG4gICAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQygpO1xuICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEMoYSk7XG4gICAgICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQyhhLCBiKTtcbiAgICAgICAgICB9IHJldHVybiBuZXcgQyhhLCBiLCBjKTtcbiAgICAgICAgfSByZXR1cm4gQy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICAgIEZbUFJPVE9UWVBFXSA9IENbUFJPVE9UWVBFXTtcbiAgICAgIHJldHVybiBGO1xuICAgIC8vIG1ha2Ugc3RhdGljIHZlcnNpb25zIGZvciBwcm90b3R5cGUgbWV0aG9kc1xuICAgIH0pKG91dCkgOiBJU19QUk9UTyAmJiB0eXBlb2Ygb3V0ID09ICdmdW5jdGlvbicgPyBjdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDtcbiAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUubWV0aG9kcy4lTkFNRSVcbiAgICBpZiAoSVNfUFJPVE8pIHtcbiAgICAgIChleHBvcnRzLnZpcnR1YWwgfHwgKGV4cG9ydHMudmlydHVhbCA9IHt9KSlba2V5XSA9IG91dDtcbiAgICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5wcm90b3R5cGUuJU5BTUUlXG4gICAgICBpZiAodHlwZSAmICRleHBvcnQuUiAmJiBleHBQcm90byAmJiAhZXhwUHJvdG9ba2V5XSkgaGlkZShleHBQcm90bywga2V5LCBvdXQpO1xuICAgIH1cbiAgfVxufTtcbi8vIHR5cGUgYml0bWFwXG4kZXhwb3J0LkYgPSAxOyAgIC8vIGZvcmNlZFxuJGV4cG9ydC5HID0gMjsgICAvLyBnbG9iYWxcbiRleHBvcnQuUyA9IDQ7ICAgLy8gc3RhdGljXG4kZXhwb3J0LlAgPSA4OyAgIC8vIHByb3RvXG4kZXhwb3J0LkIgPSAxNjsgIC8vIGJpbmRcbiRleHBvcnQuVyA9IDMyOyAgLy8gd3JhcFxuJGV4cG9ydC5VID0gNjQ7ICAvLyBzYWZlXG4kZXhwb3J0LlIgPSAxMjg7IC8vIHJlYWwgcHJvdG8gbWV0aG9kIGZvciBgbGlicmFyeWBcbm1vZHVsZS5leHBvcnRzID0gJGV4cG9ydDtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gISFleGVjKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcbiIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKCFpc09iamVjdChpdCkpIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGFuIG9iamVjdCEnKTtcbiAgcmV0dXJuIGl0O1xufTtcbiIsIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHV0aWxpdGllc18xID0gcmVxdWlyZShcIi4uL3V0aWxpdGllc1wiKTtcclxuLyoqXHJcbiAqIE9wdGltaXplZCBpbiBtZW1vcnkgaW5kZXggdXNlZCBmb3IgZWFjaCB0YWJsZS5cclxuICogRXZlbiBpZiB5b3UncmUgbm90IHVzaW5nIGF1dG8gaW5jcmltZW50LCB0aGUgaW5kZXggd2lsbCBnYXVyYW50ZWUgdG8gbWFpbnRhaW4gYSBzb3J0ZWQgb3JkZXIgb2Yga2V5cy5cclxuICogRXhjaGFuZ2VzIGEgcmVkdWNlZCB3cml0ZSBwZXJmb3JtYW5jZSBmb3IgaW5jcmVhc2VkIHJlYWQgcGVyZm9ybWFuY2UuXHJcbiAqXHJcbiAqIEBleHBvcnRcclxuICogQGNsYXNzIERhdGFiYXNlSW5kZXhcclxuICovXHJcbnZhciBEYXRhYmFzZUluZGV4ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRGF0YWJhc2VJbmRleCgpIHtcclxuICAgICAgICB0aGlzLl9zb3J0ZWQgPSBbXTtcclxuICAgICAgICB0aGlzLl9pbmRleE9mID0ge307XHJcbiAgICAgICAgdGhpcy5haSA9IDE7XHJcbiAgICAgICAgdGhpcy5kb0FJID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBEYXRhYmFzZUluZGV4LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuX3NvcnRlZCA9IGluZGV4IHx8IFtdO1xyXG4gICAgICAgIHRoaXMuX2luZGV4T2YgPSB7fTtcclxuICAgICAgICB0aGlzLl9zb3J0ZWQuZm9yRWFjaChmdW5jdGlvbiAocywgaSkge1xyXG4gICAgICAgICAgICBfdGhpcy5faW5kZXhPZltTdHJpbmcocyldID0gaTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5kb0FJICYmIHRoaXMuX3NvcnRlZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIGwgPSB0aGlzLl9zb3J0ZWQubGVuZ3RoO1xyXG4gICAgICAgICAgICB0aGlzLmFpID0gdGhpcy5fc29ydGVkW2wgLSAxXSArIDE7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIERhdGFiYXNlSW5kZXgucHJvdG90eXBlLmdldExvY2F0aW9uID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHZhciBpZHggPSB0aGlzLmluZGV4T2Yoa2V5KTtcclxuICAgICAgICBpZiAoaWR4ICE9PSAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaWR4O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdXRpbGl0aWVzXzEuYmluYXJ5U2VhcmNoKHRoaXMuX3NvcnRlZCwga2V5KTtcclxuICAgIH07XHJcbiAgICBEYXRhYmFzZUluZGV4LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmRvQUkpIHtcclxuICAgICAgICAgICAgdmFyIGlkeCA9IHV0aWxpdGllc18xLmJpbmFyeVNlYXJjaCh0aGlzLl9zb3J0ZWQsIGtleSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NvcnRlZC5zcGxpY2UoaWR4LCAwLCBrZXkpO1xyXG4gICAgICAgICAgICB0aGlzLl9pbmRleE9mW1N0cmluZyhrZXkpXSA9IGlkeDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGlkeCArIDE7IGkgPCB0aGlzLl9zb3J0ZWQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4T2ZbU3RyaW5nKHRoaXMuX3NvcnRlZFtpXSldKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChwYXJzZUludChrZXkpID49IHRoaXMuYWkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWkrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9pbmRleE9mW1N0cmluZyhrZXkpXSA9IHRoaXMuX3NvcnRlZC5sZW5ndGg7XHJcbiAgICAgICAgICAgIHRoaXMuX3NvcnRlZC5wdXNoKGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIERhdGFiYXNlSW5kZXgucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NvcnRlZDtcclxuICAgIH07XHJcbiAgICBEYXRhYmFzZUluZGV4LnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRleE9mW1N0cmluZyhrZXkpXSAhPT0gdW5kZWZpbmVkID8gdGhpcy5faW5kZXhPZltTdHJpbmcoa2V5KV0gOiAtMTtcclxuICAgIH07XHJcbiAgICBEYXRhYmFzZUluZGV4LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgdmFyIGlkeCA9IHRoaXMuX2luZGV4T2ZbU3RyaW5nKGtleSldO1xyXG4gICAgICAgIGlmIChpZHggIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5faW5kZXhPZltTdHJpbmcoa2V5KV07XHJcbiAgICAgICAgICAgIHRoaXMuX3NvcnRlZC5zcGxpY2UoaWR4LCAxKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGlkeDsgaSA8IHRoaXMuX3NvcnRlZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faW5kZXhPZltTdHJpbmcodGhpcy5fc29ydGVkW2ldKV0tLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gRGF0YWJhc2VJbmRleDtcclxufSgpKTtcclxuZXhwb3J0cy5EYXRhYmFzZUluZGV4ID0gRGF0YWJhc2VJbmRleDtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYml0bWFwLCB2YWx1ZSkge1xuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGU6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlOiAhKGJpdG1hcCAmIDQpLFxuICAgIHZhbHVlOiB2YWx1ZVxuICB9O1xufTtcbiIsInZhciBpZCA9IDA7XG52YXIgcHggPSBNYXRoLnJhbmRvbSgpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiAnU3ltYm9sKCcuY29uY2F0KGtleSA9PT0gdW5kZWZpbmVkID8gJycgOiBrZXksICcpXycsICgrK2lkICsgcHgpLnRvU3RyaW5nKDM2KSk7XG59O1xuIiwidmFyIGc7XHJcblxyXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxyXG5nID0gKGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiB0aGlzO1xyXG59KSgpO1xyXG5cclxudHJ5IHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcclxuXHRnID0gZyB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDEsIGV2YWwpKFwidGhpc1wiKTtcclxufSBjYXRjaCAoZSkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXHJcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XHJcbn1cclxuXHJcbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cclxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3NcclxuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnO1xyXG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcclxuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxyXG4gICAgICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBsaWVfdHNfMSA9IHJlcXVpcmUoXCJsaWUtdHNcIik7XHJcbnZhciBzdGRfcXVlcnlfMSA9IHJlcXVpcmUoXCIuL3F1ZXJ5L3N0ZC1xdWVyeVwiKTtcclxudmFyIHRyYW5zYWN0aW9uXzEgPSByZXF1aXJlKFwiLi9xdWVyeS90cmFuc2FjdGlvblwiKTtcclxudmFyIHJlYWxseV9zbWFsbF9ldmVudHNfMSA9IHJlcXVpcmUoXCJyZWFsbHktc21hbGwtZXZlbnRzXCIpO1xyXG52YXIgdXRpbGl0aWVzXzEgPSByZXF1aXJlKFwiLi91dGlsaXRpZXNcIik7XHJcbnZhciBpbmRleF8xID0gcmVxdWlyZShcIi4vZGF0YWJhc2UvaW5kZXhcIik7XHJcbnZhciBoaXN0b3J5X3BsdWdpbl8xID0gcmVxdWlyZShcIi4vaGlzdG9yeS1wbHVnaW5cIik7XHJcbnZhciBWRVJTSU9OID0gMS40MTtcclxuLy8gdWdsaWZ5SlMgZml4XHJcbnZhciBzdHIgPSBbXCJfdXRpbFwiXTtcclxuLyoqXHJcbiAqIFRoZSBwcmltYXJ5IGFic3RyYWN0aW9uIGNsYXNzLCB0aGVyZSBpcyBubyBkYXRhYmFzZSBpbXBsaW1pbnRhdGlvbiBjb2RlIGhlcmUuXHJcbiAqIEp1c3QgZXZlbnRzLCBxdXJpZXMgYW5kIGZpbHRlcnMuXHJcbiAqXHJcbiAqIEBleHBvcnRcclxuICogQGNsYXNzIE5hbm9TUUxJbnN0YW5jZVxyXG4gKi9cclxudmFyIE5hbm9TUUxJbnN0YW5jZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE5hbm9TUUxJbnN0YW5jZSgpIHtcclxuICAgICAgICB0aGlzLnZlcnNpb24gPSBWRVJTSU9OO1xyXG4gICAgICAgIHRoaXMuX29uQ29ubmVjdGVkQ2FsbEJhY2tzID0gW107XHJcbiAgICAgICAgdmFyIHQgPSB0aGlzO1xyXG4gICAgICAgIHQuX2FjdGlvbnMgPSB7fTtcclxuICAgICAgICB0Ll92aWV3cyA9IHt9O1xyXG4gICAgICAgIHQuZGF0YU1vZGVscyA9IHt9O1xyXG4gICAgICAgIHQuX2V2ZW50cyA9IFtcIipcIiwgXCJjaGFuZ2VcIiwgXCJkZWxldGVcIiwgXCJ1cHNlcnRcIiwgXCJkcm9wXCIsIFwic2VsZWN0XCIsIFwiZXJyb3JcIl07XHJcbiAgICAgICAgdC5faGFzRXZlbnRzID0ge307XHJcbiAgICAgICAgdC50YWJsZU5hbWVzID0gW107XHJcbiAgICAgICAgdC5wbHVnaW5zID0gW107XHJcbiAgICAgICAgdC5oYXNQSyA9IHt9O1xyXG4gICAgICAgIHQuc2tpcFB1cmdlID0ge307XHJcbiAgICAgICAgdC50b1Jvd0ZucyA9IHt9O1xyXG4gICAgICAgIHQudGFibGVQS3MgPSB7fTtcclxuICAgICAgICB0LnRvQ29sRm5zID0ge307XHJcbiAgICAgICAgdC50b0NvbFJ1bGVzID0ge307XHJcbiAgICAgICAgdC5fcmFuZG9tcyA9IFtdO1xyXG4gICAgICAgIC8vIHQuX3F1ZXJ5UG9vbCA9IFtdO1xyXG4gICAgICAgIC8vIHQuX3F1ZXJ5UHRyID0gMDtcclxuICAgICAgICB0Ll9yYW5kb21QdHIgPSAwO1xyXG4gICAgICAgIHQuaGFzQW55RXZlbnRzID0gZmFsc2U7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyMDA7IGkrKykge1xyXG4gICAgICAgICAgICB0Ll9yYW5kb21zLnB1c2godXRpbGl0aWVzXzEucmFuZG9tMTZCaXRzKCkudG9TdHJpbmcoMTYpKTtcclxuICAgICAgICAgICAgLy8gdC5fcXVlcnlQb29sLnB1c2gobmV3IF9OYW5vU1FMUXVlcnkodCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0Ll9jYWxsYmFja3MgPSB7fTtcclxuICAgICAgICB0Ll9jYWxsYmFja3NbXCIqXCJdID0gbmV3IHJlYWxseV9zbWFsbF9ldmVudHNfMS5SZWFsbHlTbWFsbEV2ZW50cygpO1xyXG4gICAgICAgIHQuaUIgPSBuZXcgaW5kZXhfMS5OYW5vU1FMRGVmYXVsdEJhY2tlbmQoKTtcclxuICAgICAgICB2YXIgaW5zdGFuY2VDb25uZWN0QXJncyA9IHtcclxuICAgICAgICAgICAgbW9kZWxzOiB7fSxcclxuICAgICAgICAgICAgYWN0aW9uczoge30sXHJcbiAgICAgICAgICAgIHZpZXdzOiB7fSxcclxuICAgICAgICAgICAgY29uZmlnOiB7fSxcclxuICAgICAgICAgICAgcGFyZW50OiB0aGlzXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAodC5pQi53aWxsQ29ubmVjdCkge1xyXG4gICAgICAgICAgICB0LmlCLndpbGxDb25uZWN0KGluc3RhbmNlQ29ubmVjdEFyZ3MsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0LmlCLmRpZENvbm5lY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICB0LmlCLmRpZENvbm5lY3QoaW5zdGFuY2VDb25uZWN0QXJncywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLnRvQ29sdW1uID0gZnVuY3Rpb24gKGNvbHVtbkZucykge1xyXG4gICAgICAgIGlmICghdGhpcy50b0NvbEZuc1t0aGlzLnNUYWJsZV0pIHtcclxuICAgICAgICAgICAgdGhpcy50b0NvbEZuc1t0aGlzLnNUYWJsZV0gPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50b0NvbEZuc1t0aGlzLnNUYWJsZV0gPSBjb2x1bW5GbnM7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS50b1JvdyA9IGZ1bmN0aW9uIChjb2x1bW5GbnMpIHtcclxuICAgICAgICBpZiAoIXRoaXMudG9Sb3dGbnNbdGhpcy5zVGFibGVdKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9Sb3dGbnNbdGhpcy5zVGFibGVdID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudG9Sb3dGbnNbdGhpcy5zVGFibGVdID0gY29sdW1uRm5zO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogbmFub1NRTCBnZW5lcmF0ZXMgNTAgcmFuZG9tIDE2IGJpdCBzdHJpbmdzIG9uIGV2ZXJ5IGxhdW5jaC5cclxuICAgICAqIElmIHlvdSBkb24ndCBuZWVkIHRydWUgcmFuZG9tbmVzcyB5b3UgY2FuIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGdldCBhIHBzdWRvcmFuZG9tIDE2IGJpdCBzdHJpbmcuXHJcbiAgICAgKiBQZXJmb3JtYW5jZSBpcyBvcmRlcnMgb2YgYSBtYWduaXR1ZGUgZmFzdGVyIHNpbmNlIG5vIHJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yIGlzIG5lZWRlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICogQG1lbWJlcm9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLmZhc3RSYW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuX3JhbmRvbVB0cisrO1xyXG4gICAgICAgIGlmICh0aGlzLl9yYW5kb21QdHIgPj0gdGhpcy5fcmFuZG9tcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5fcmFuZG9tUHRyID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JhbmRvbXNbdGhpcy5fcmFuZG9tUHRyXTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENoYW5nZXMgdGhlIHRhYmxlIHBvaW50ZXIgdG8gYSBuZXcgdGFibGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0YWJsZV1cclxuICAgICAqIEByZXR1cm5zIHtOYW5vU1FMSW5zdGFuY2V9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLnRhYmxlID0gZnVuY3Rpb24gKHRhYmxlKSB7XHJcbiAgICAgICAgaWYgKHRhYmxlKVxyXG4gICAgICAgICAgICB0aGlzLnNUYWJsZSA9IHRhYmxlO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSW5pdHMgdGhlIGJhY2tlbmQgZGF0YWJhc2UgZm9yIHVzZS5cclxuICAgICAqXHJcbiAgICAgKiBPcHRpb25hbGx5IGluY2x1ZGUgYSBjdXN0b20gZGF0YWJhc2UgZHJpdmVyLCBvdGhlcndpc2UgdGhlIGJ1aWx0IGluIG1lbW9yeSBkcml2ZXIgd2lsbCBiZSB1c2VkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7TmFub1NRTEJhY2tlbmR9IFtiYWNrZW5kXVxyXG4gICAgICogQHJldHVybnMgeyhQcm9taXNlPE9iamVjdCB8IHN0cmluZz4pfVxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJPZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHQgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBuZXcgdXRpbGl0aWVzXzEuUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcclxuICAgICAgICAgICAgdmFyIGNvbm5lY3RBcmdzID0ge1xyXG4gICAgICAgICAgICAgICAgbW9kZWxzOiB0LmRhdGFNb2RlbHMsXHJcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiB0Ll9hY3Rpb25zLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHQuX3ZpZXdzLFxyXG4gICAgICAgICAgICAgICAgY29uZmlnOiB0Ll9jb25maWcsXHJcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IF90aGlzLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjb25uZWN0QXJncy5tb2RlbHNbc3RyWzBdXSA9IFtcclxuICAgICAgICAgICAgICAgIHsga2V5OiBcImtleVwiLCB0eXBlOiBcInN0cmluZ1wiLCBwcm9wczogW1wicGsoKVwiLCBcImFpKClcIl0gfSxcclxuICAgICAgICAgICAgICAgIHsga2V5OiBcInZhbHVlXCIsIHR5cGU6IFwiYW55XCIgfVxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICAvLyBpZiBoaXN0b3J5IGlzIGVuYWJsZWQsIHR1cm4gb24gdGhlIGJ1aWx0IGluIGhpc3RvcnkgcGx1Z2luXHJcbiAgICAgICAgICAgIGlmICh0Ll9jb25maWcgJiYgdC5fY29uZmlnLmhpc3RvcnkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnVzZShuZXcgaGlzdG9yeV9wbHVnaW5fMS5fTmFub1NRTEhpc3RvcnlQbHVnaW4odC5fY29uZmlnLmhpc3RvcnlNb2RlKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gSWYgdGhlIGRiIG1vZGUgaXMgbm90IHNldCB0byBkaXNhYmxlLCBhZGQgZGVmYXVsdCBzdG9yZSB0byB0aGUgZW5kIG9mIHRoZSBwbHVnaW4gY2hhaW5cclxuICAgICAgICAgICAgaWYgKCF0Ll9jb25maWcgfHwgdC5fY29uZmlnLm1vZGUgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy51c2UobmV3IGluZGV4XzEuTmFub1NRTERlZmF1bHRCYWNrZW5kKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RDSEFJTihfdGhpcy5wbHVnaW5zLCBmdW5jdGlvbiAocCwgaSwgbmV4dFApIHtcclxuICAgICAgICAgICAgICAgIGlmIChwLndpbGxDb25uZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcC53aWxsQ29ubmVjdChjb25uZWN0QXJncywgZnVuY3Rpb24gKG5ld0FyZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdEFyZ3MgPSBuZXdBcmdzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0UCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dFAoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5kYXRhTW9kZWxzID0gY29ubmVjdEFyZ3MubW9kZWxzO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX2FjdGlvbnMgPSBjb25uZWN0QXJncy5hY3Rpb25zO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3ZpZXdzID0gY29ubmVjdEFyZ3Mudmlld3M7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fY29uZmlnID0gY29ubmVjdEFyZ3MuY29uZmlnO1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoX3RoaXMuZGF0YU1vZGVscykuZm9yRWFjaChmdW5jdGlvbiAodGFibGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaGFzV2lsZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRhdGFNb2RlbHNbdGFibGVdID0gX3RoaXMuZGF0YU1vZGVsc1t0YWJsZV0uZmlsdGVyKGZ1bmN0aW9uIChtb2RlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kZWwua2V5ID09PSBcIipcIiAmJiBtb2RlbC50eXBlID09PSBcIipcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzV2lsZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2tpcFB1cmdlW3RhYmxlXSA9IGhhc1dpbGQ7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsdWdpbi5kaWRFeGVjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBsdWdpbkhhc0RpZEV4ZWMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdC50YWJsZU5hbWVzID0gT2JqZWN0LmtleXMoX3RoaXMuZGF0YU1vZGVscyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29tcGxldGVDb25uZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwoX3RoaXMucGx1Z2lucywgZnVuY3Rpb24gKHAsIGksIG5leHRQKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwLmRpZENvbm5lY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAuZGlkQ29ubmVjdChjb25uZWN0QXJncywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRQKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRQKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuaXNDb25uZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX29uQ29ubmVjdGVkQ2FsbEJhY2tzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX29uQ29ubmVjdGVkQ2FsbEJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGNiKSB7IHJldHVybiBjYigpOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXModC50YWJsZU5hbWVzKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB2YXIgdXBkYXRlVmVyc2lvbiA9IGZ1bmN0aW9uIChyZWJ1aWxkSURYKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucXVlcnkoXCJ1cHNlcnRcIiwgeyBrZXk6IFwidmVyc2lvblwiLCB2YWx1ZTogX3RoaXMudmVyc2lvbiB9KS5tYW51YWxFeGVjKHsgdGFibGU6IFwiX3V0aWxcIiB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlYnVpbGRJRFgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmV4dGVuZChcInJlYnVpbGRfaWR4XCIpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlQ29ubmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZUNvbm5lY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnF1ZXJ5KFwic2VsZWN0XCIpLndoZXJlKFtcImtleVwiLCBcIj1cIiwgXCJ2ZXJzaW9uXCJdKS5tYW51YWxFeGVjKHsgdGFibGU6IFwiX3V0aWxcIiB9KS50aGVuKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyb3dzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBuZXcgZGF0YWJhc2Ugb3IgYW4gb2xkIG9uZSB0aGF0IG5lZWRzIGluZGV4ZXMgcmVidWlsdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVWZXJzaW9uKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvd3NbMF0udmFsdWUgPD0gMS4yMSkgeyAvLyBzZWNvbmRhcnkgaW5kZXhlcyBuZWVkIHRvIGJlIHJlYnVpbHQgYWZ0ZXIgMS4yMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlVmVyc2lvbih0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyb3dzWzBdLnZhbHVlIDwgVkVSU0lPTikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlVmVyc2lvbihmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZUNvbm5lY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldCBhbGwgYWN0aW9ucyBmb3IgYSBnaXZlbiB0YWJsZVxyXG4gICAgICogPVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICogQG1lbWJlcm9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLmdldEFjdGlvbnMgPSBmdW5jdGlvbiAodGFibGUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aW9uc1t0YWJsZV0ubWFwKGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBhLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBhcmdzOiBhLmFyZ3NcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldCBhbGwgdmlld3MgZm9yIGEgZ2l2ZW4gdGFibGVcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFibGVcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKiBAbWVtYmVyb2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUuZ2V0Vmlld3MgPSBmdW5jdGlvbiAodGFibGUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdmlld3NbdGFibGVdLm1hcChmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogYS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgYXJnczogYS5hcmdzXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHcmFiIGEgY29weSBvZiB0aGUgZGF0YWJhc2UgY29uZmlnIG9iamVjdC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICogQG1lbWJlcm9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLmdldENvbmZpZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBhY3Rpb24vdmlldyBmaWx0ZXIgZnVuY3Rpb24uICBDYWxsZWQgKmJlZm9yZSogdGhlIGFjdGlvbi92aWV3IGlzIHNlbnQgdG8gdGhlIGRhdGFzdG9yZVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7SUFjdGlvblZpZXdNb2R9IGZpbHRlckZ1bmNcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLmF2RmlsdGVyID0gZnVuY3Rpb24gKGZpbHRlckZ1bmMpIHtcclxuICAgICAgICB0aGlzLl9BVk1vZCA9IGZpbHRlckZ1bmM7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS51c2UgPSBmdW5jdGlvbiAocGx1Z2luKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGx1Z2lucy5wdXNoKHBsdWdpbiksIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIGFuIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBzZWxlY3RlZCBkYXRhYmFzZSB0YWJsZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geyhcImNoYW5nZVwifFwiZGVsZXRlXCJ8XCJ1cHNlcnRcInxcImRyb3BcInxcInNlbGVjdFwifFwiZXJyb3JcIil9IGFjdGlvbnNcclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxCYWNrXHJcbiAgICAgKiBAcmV0dXJucyB7TmFub1NRTEluc3RhbmNlfVxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJPZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChhY3Rpb25zLCBjYWxsQmFjaykge1xyXG4gICAgICAgIHZhciB0ID0gdGhpcztcclxuICAgICAgICB2YXIgbCA9IHQuc1RhYmxlO1xyXG4gICAgICAgIHZhciBpID0gdC5fZXZlbnRzLmxlbmd0aDtcclxuICAgICAgICB2YXIgYSA9IGFjdGlvbnMuc3BsaXQoXCIgXCIpO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGwpKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICBpZiAoIXQuX2NhbGxiYWNrc1tsXSkgeyAvLyBIYW5kbGUgdGhlIGV2ZW50IGhhbmRsZXIgYmVpbmcgY2FsbGVkIGJlZm9yZSB0aGUgZGF0YWJhc2UgaGFzIGNvbm5lY3RlZFxyXG4gICAgICAgICAgICB0Ll9jYWxsYmFja3NbbF0gPSBuZXcgcmVhbGx5X3NtYWxsX2V2ZW50c18xLlJlYWxseVNtYWxsRXZlbnRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGkgPSBhLmxlbmd0aDtcclxuICAgICAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgICAgIGlmICh0Ll9ldmVudHMuaW5kZXhPZihhW2ldKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHQuX2NhbGxiYWNrc1tsXS5vbihhW2ldLCBjYWxsQmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQuX3JlZnJlc2hFdmVudENoZWNrZXIoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBhIHNwZWNpZmljIGV2ZW50IGhhbmRsZXIgZnJvbSBiZWluZyB0cmlnZ2VyZWQgYW55bW9yZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsQmFja1xyXG4gICAgICogQHJldHVybnMge05hbm9TUUxJbnN0YW5jZX1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gKGFjdGlvbnMsIGNhbGxCYWNrKSB7XHJcbiAgICAgICAgdmFyIHQgPSB0aGlzO1xyXG4gICAgICAgIHZhciBhID0gYWN0aW9ucy5zcGxpdChcIiBcIik7XHJcbiAgICAgICAgdmFyIGkgPSBhLmxlbmd0aDtcclxuICAgICAgICB2YXIgbCA9IHQuc1RhYmxlO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGwpKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgICAgIGlmICh0Ll9ldmVudHMuaW5kZXhPZihhW2ldKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHQuX2NhbGxiYWNrc1tsXS5vZmYoYVtpXSwgY2FsbEJhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0Ll9yZWZyZXNoRXZlbnRDaGVja2VyKCk7XHJcbiAgICB9O1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5fcmVmcmVzaEV2ZW50Q2hlY2tlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuX2hhc0V2ZW50cyA9IHt9O1xyXG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuX2NhbGxiYWNrcykuY29uY2F0KFtcIipcIl0pLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlKSB7XHJcbiAgICAgICAgICAgIF90aGlzLl9oYXNFdmVudHNbdGFibGVdID0gX3RoaXMuX2V2ZW50cy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGN1cikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXYgKyAoX3RoaXMuX2NhbGxiYWNrc1t0YWJsZV0gJiYgX3RoaXMuX2NhbGxiYWNrc1t0YWJsZV0uZXZlbnRMaXN0ZW5lcnNbY3VyXSA/IF90aGlzLl9jYWxsYmFja3NbdGFibGVdLmV2ZW50TGlzdGVuZXJzW2N1cl0ubGVuZ3RoIDogMCk7XHJcbiAgICAgICAgICAgIH0sIDApID4gMDtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmhhc0FueUV2ZW50cyA9IGZhbHNlO1xyXG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuX2hhc0V2ZW50cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIF90aGlzLmhhc0FueUV2ZW50cyA9IF90aGlzLmhhc0FueUV2ZW50cyB8fCBfdGhpcy5faGFzRXZlbnRzW2tleV07XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBEZWNsYXJlIHRoZSBkYXRhIG1vZGVsIGZvciB0aGUgY3VycmVudCBzZWxlY3RlZCB0YWJsZS5cclxuICAgICAqXHJcbiAgICAgKiBQbGVhc2UgcmVmZXJlbmNlIHRoZSBEYXRhTW9kZWwgaW50ZXJmYWNlIGZvciBob3cgdG8gaW1wbGltZW50IHRoaXMsIGEgcXVpY2sgZXhhbXBsZTpcclxuICAgICAqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogLm1vZGVsKFtcclxuICAgICAqICB7a2V5OlwiaWRcIix0eXBlOlwiaW50XCIscHJvcHM6W1wiYWlcIixcInBrXCJdfSAvL2F1dG8gaW5jcmltZW50IGFuZCBwcmltYXJ5IGtleVxyXG4gICAgICogIHtrZXk6XCJuYW1lXCIsdHlwZTpcInN0cmluZ1wifVxyXG4gICAgICogXSlcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7QXJyYXk8RGF0YU1vZGVsPn0gZGF0YU1vZGVsXHJcbiAgICAgKiBAcmV0dXJucyB7TmFub1NRTEluc3RhbmNlfVxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJPZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5tb2RlbCA9IGZ1bmN0aW9uIChkYXRhTW9kZWwsIHByb3BzLCBpZ25vcmVTYW5pdHlDaGVjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHQgPSB0aGlzO1xyXG4gICAgICAgIHZhciBsID0gdC5zVGFibGU7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobCkpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIGlmICghdC5fY2FsbGJhY2tzW2xdKSB7XHJcbiAgICAgICAgICAgIHQuX2NhbGxiYWNrc1tsXSA9IG5ldyByZWFsbHlfc21hbGxfZXZlbnRzXzEuUmVhbGx5U21hbGxFdmVudHMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGhhc1BLID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKCFpZ25vcmVTYW5pdHlDaGVjaykge1xyXG4gICAgICAgICAgICAvLyB2YWxpZGF0ZSB0YWJsZSBuYW1lIGFuZCBkYXRhIG1vZGVsXHJcbiAgICAgICAgICAgIHZhciB0eXBlcyA9IFtcInN0cmluZ1wiLCBcInNhZmVzdHJcIiwgXCJ0aW1lSWRcIiwgXCJ0aW1lSWRtc1wiLCBcInV1aWRcIiwgXCJpbnRcIiwgXCJmbG9hdFwiLCBcIm51bWJlclwiLCBcImFycmF5XCIsIFwibWFwXCIsIFwiYm9vbFwiLCBcImJsb2JcIiwgXCJhbnlcIl07XHJcbiAgICAgICAgICAgIGlmICh0eXBlcy5pbmRleE9mKGwucmVwbGFjZSgvXFxXL2dtaSwgXCJcIikpICE9PSAtMSB8fCBsLmluZGV4T2YoXCJfXCIpID09PSAwIHx8IGwubWF0Y2goL1tcXChcXClcXF1cXFtcXC5dL2cpICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgVGFibGUgTmFtZSEgaHR0cHM6Ly9kb2NzLm5hbm9zcWwuaW8vc2V0dXAvZGF0YS1tb2RlbHNcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKGRhdGFNb2RlbCB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbiAobW9kZWwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChtb2RlbC5rZXkubWF0Y2goL1tcXChcXClcXF1cXFtcXC5dL2cpICE9PSBudWxsIHx8IG1vZGVsLmtleS5pbmRleE9mKFwiX1wiKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBEYXRhIE1vZGVsISBodHRwczovL2RvY3MubmFub3NxbC5pby9zZXR1cC9kYXRhLW1vZGVsc1wiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHQudG9Db2xSdWxlc1tsXSA9IHt9O1xyXG4gICAgICAgIChkYXRhTW9kZWwgfHwgW10pLmZvckVhY2goZnVuY3Rpb24gKG1vZGVsKSB7XHJcbiAgICAgICAgICAgIGlmIChtb2RlbC5wcm9wcykge1xyXG4gICAgICAgICAgICAgICAgbW9kZWwucHJvcHMuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG9sZCBmb3JtYXQ6IGZyb209PmZuKGFyZzEsIGFyZzIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wLmluZGV4T2YoXCJmcm9tPT5cIikgIT09IC0xICYmIHByb3AuaW5kZXhPZihcIihcIikgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmbk5hbWUgPSBwcm9wLnJlcGxhY2UoXCJmcm9tPT5cIiwgXCJcIikuc3BsaXQoXCIoXCIpLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmbkFyZ3MgPSBwcm9wLnJlcGxhY2UoXCJmcm9tPT5cIiwgXCJcIikuc3BsaXQoXCIoXCIpLnBvcCgpLnJlcGxhY2UoXCIpXCIsIFwiXCIpLnNwbGl0KFwiLFwiKS5tYXAoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMudHJpbSgpOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdC50b0NvbFJ1bGVzW2xdW21vZGVsLmtleV0gPSBbZm5OYW1lXS5jb25jYXQoZm5BcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbmV3IGZvcm1hdDogdG9Db2x1bW4uZm4oYXJnMSwgYXJnMik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AuaW5kZXhPZihcInRvQ29sdW1uLlwiKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm5OYW1lID0gcHJvcC5yZXBsYWNlKC90b0NvbHVtblxcLiguKilcXCguKlxcKS9nbWksIFwiJDFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmbkFyZ3MgPSBwcm9wLnJlcGxhY2UoL3RvQ29sdW1uXFwuLipcXCgoLiopXFwpL2dtaSwgXCIkMVwiKS5zcGxpdChcIixcIikubWFwKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnRyaW0oKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHQudG9Db2xSdWxlc1tsXVttb2RlbC5rZXldID0gW2ZuTmFtZV0uY29uY2F0KGZuQXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1vZGVsLnByb3BzICYmIHV0aWxpdGllc18xLmludGVyc2VjdChbXCJwa1wiLCBcInBrKClcIl0sIG1vZGVsLnByb3BzKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudGFibGVQS3NbbF0gPSBtb2RlbC5rZXk7XHJcbiAgICAgICAgICAgICAgICBoYXNQSyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmhhc1BLW2xdID0gaGFzUEs7XHJcbiAgICAgICAgaWYgKCFoYXNQSykge1xyXG4gICAgICAgICAgICB0aGlzLnRhYmxlUEtzW2xdID0gXCJfaWRfXCI7XHJcbiAgICAgICAgICAgIGRhdGFNb2RlbC51bnNoaWZ0KHsga2V5OiBcIl9pZF9cIiwgdHlwZTogXCJ1dWlkXCIsIHByb3BzOiBbXCJwaygpXCJdIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0LmRhdGFNb2RlbHNbbF0gPSBkYXRhTW9kZWw7XHJcbiAgICAgICAgdC5fdmlld3NbbF0gPSBbXTtcclxuICAgICAgICB0Ll9hY3Rpb25zW2xdID0gW107XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBEZWNsYXJlIHRoZSB2aWV3cyBmb3IgdGhlIGN1cnJlbnQgc2VsZWN0ZWQgdGFibGUuICBNdXN0IGJlIGNhbGxlZCBiZWZvcmUgY29ubmVjdCgpXHJcbiAgICAgKlxyXG4gICAgICogVmlld3MgYXJlIGNyZWF0ZWQgbGlrZSB0aGlzOlxyXG4gICAgICpcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAudmlld3MoW1xyXG4gICAgICogIHtcclxuICAgICAqICAgICAgbmFtZTpcInZpZXctbmFtZVwiLFxyXG4gICAgICogICAgICBhcmdzOiBbXCJhcnJheVwiLFwib2ZcIixcImFyZ3VtZW50c1wiXSxcclxuICAgICAqICAgICAgY2FsbDogZnVuY3Rpb24oYXJncykge1xyXG4gICAgICogICAgICAgICAgLy8gQmVjYXVzZSBvZiBvdXIgXCJhcmdzXCIgYXJyYXkgdGhlIGFyZ3MgaW5wdXQgb2YgdGhpcyBmdW5jdGlvbiB3aWxsIGxvb2sgbGlrZSB0aGlzOlxyXG4gICAgICogICAgICAgICAgLy8gTmFub1NRTCB3aWxsIG5vdCBsZXQgYW55IG90aGVyIGFyZ3VtZW50cyBpbnRvIHRoaXMgZnVuY3Rpb24uXHJcbiAgICAgKiAgICAgICAgICBhcmdzOntcclxuICAgICAqICAgICAgICAgICAgICBhcnJheTonJyxcclxuICAgICAqICAgICAgICAgICAgICBvZjonJyxcclxuICAgICAqICAgICAgICAgICAgICBhcmd1bWVudHM6JydcclxuICAgICAqICAgICAgICAgIH1cclxuICAgICAqICAgICAgICAgIC8vV2UgY2FuIHVzZSB0aGVtIGluIG91ciBxdWVyeVxyXG4gICAgICogICAgICAgICAgcmV0dXJuIHRoaXMucXVlcnkoJ3NlbGVjdCcpLndoZXJlKFsnbmFtZScsJ0lOJyxhcmdzLmFycmF5XSkuZXhlYygpO1xyXG4gICAgICogICAgICB9XHJcbiAgICAgKiAgfVxyXG4gICAgICogXSlcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIFRoZW4gbGF0ZXIgaW4geW91ciBhcHAuLlxyXG4gICAgICpcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiBOYW5vU1FMKFwidXNlcnNcIikuZ2V0VmlldyhcInZpZXctbmFtZVwiLHthcnJheTonJyxvZjpcIlwiLGFyZ3VtZW50czpcIlwifSkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcclxuICAgICAqICBjb25zb2xlLmxvZyhyZXN1bHQpIDw9PT0gcmVzdWx0IG9mIHlvdXIgdmlldyB3aWxsIGJlIHRoZXJlLlxyXG4gICAgICogfSlcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIE9wdGlvbmFsbHkgeW91IGNhbiB0eXBlIGNhc3QgdGhlIGFyZ3VtZW50cyBhdCBydW4gdGltZSB0eXBlc2NyaXB0IHN0eWxlLCBqdXN0IGFkZCB0aGUgdHlwZXMgYWZ0ZXIgdGhlIGFyZ3VtZW50cyBpbiB0aGUgYXJyYXkuICBMaWtlIHRoaXM6XHJcbiAgICAgKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqIC52aWV3c1t7XHJcbiAgICAgKiAgICAgIG5hbWU6Li4uXHJcbiAgICAgKiAgICAgIGFyZ3M6W1wibmFtZTpzdHJpbmdcIixcImJhbGFuY2U6ZmxvYXRcIixcImFjdGl2ZTpib29sXCJdXHJcbiAgICAgKiAgICAgIGNhbGw6Li4uXHJcbiAgICAgKiB9XVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogTmFub1NRTCB3aWxsIGZvcmNlIHRoZSBhcmd1bWVudHMgcGFzc2VkIGludG8gdGhlIGZ1bmN0aW9uIHRvIHRob3NlIHR5cGVzLlxyXG4gICAgICpcclxuICAgICAqIFBvc3NpYmxlIHR5cGVzIGFyZSBzdHJpbmcsIGJvb2wsIGZsb2F0LCBpbnQsIG1hcCwgYXJyYXkgYW5kIGJvb2wuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtBcnJheTxBY3Rpb25PclZpZXc+fSB2aWV3QXJyYXlcclxuICAgICAqIEByZXR1cm5zIHtOYW5vU1FMSW5zdGFuY2V9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLnZpZXdzID0gZnVuY3Rpb24gKHZpZXdBcnJheSkge1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuc1RhYmxlKSlcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZpZXdzW3RoaXMuc1RhYmxlXSA9IHZpZXdBcnJheSwgdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEV4ZWN1dGUgYSBzcGVjaWZpYyB2aWV3LiAgUmVmZXJuZWNlIHRoZSBcInZpZXdzXCIgZnVuY3Rpb24gZm9yIG1vcmUgZGVzY3JpcHRpb24uXHJcbiAgICAgKlxyXG4gICAgICogRXhhbXBsZTpcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiBOYW5vU1FMKFwidXNlcnNcIikuZ2V0Vmlldygndmlldy1uYW1lJyx7Zm9vOlwiYmFyXCJ9KS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xyXG4gICAgICogIGNvbnNvbGUubG9nKHJlc3VsdCkgPD09IHZpZXcgcmVzdWx0LlxyXG4gICAgICogfSlcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2aWV3TmFtZVxyXG4gICAgICogQHBhcmFtIHthbnl9IHZpZXdBcmdzXHJcbiAgICAgKiBAcmV0dXJucyB7KFByb21pc2U8QXJyYXk8T2JqZWN0Pj4pfVxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJPZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5nZXRWaWV3ID0gZnVuY3Rpb24gKHZpZXdOYW1lLCB2aWV3QXJncykge1xyXG4gICAgICAgIGlmICh2aWV3QXJncyA9PT0gdm9pZCAwKSB7IHZpZXdBcmdzID0ge307IH1cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnNUYWJsZSkpXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgdXRpbGl0aWVzXzEuUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHsgcmV0dXJuIHJlaigpOyB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZG9BVihcIlZpZXdcIiwgdGhpcy5fdmlld3NbdGhpcy5zVGFibGVdLCB2aWV3TmFtZSwgdmlld0FyZ3MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGVjbGFyZSB0aGUgYWN0aW9ucyBmb3IgdGhlIGN1cnJlbnQgc2VsZWN0ZWQgdGFibGUuICBNdXN0IGJlIGNhbGxlZCBiZWZvcmUgY29ubmVjdCgpXHJcbiAgICAgKlxyXG4gICAgICogQWN0aW9ucyBhcmUgY3JlYXRlZCBsaWtlIHRoaXM6XHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogLmFjdGlvbnMoW1xyXG4gICAgICogIHtcclxuICAgICAqICAgICAgbmFtZTpcImFjdGlvbi1uYW1lXCIsXHJcbiAgICAgKiAgICAgIGFyZ3M6IFtcImFycmF5XCIsXCJvZlwiLFwiYXJndW1lbnRzXCJdLFxyXG4gICAgICogICAgICBjYWxsOiBmdW5jdGlvbihhcmdzKSB7XHJcbiAgICAgKiAgICAgICAgICAvLyBCZWNhdXNlIG9mIG91ciBcImFyZ3NcIiBhcnJheSB0aGUgYXJncyBpbnB1dCBvZiB0aGlzIGZ1bmN0aW9uIHdpbGwgbG9vayBsaWtlIHRoaXM6XHJcbiAgICAgKiAgICAgICAgICAvLyBOYW5vU1FMIHdpbGwgbm90IGxldCBhbnkgb3RoZXIgYXJndW1lbnRzIGludG8gdGhpcyBmdW5jdGlvbi5cclxuICAgICAqICAgICAgICAgIGFyZ3M6e1xyXG4gICAgICogICAgICAgICAgICAgIGFycmF5OicnLFxyXG4gICAgICogICAgICAgICAgICAgIG9mOicnLFxyXG4gICAgICogICAgICAgICAgICAgIGFyZ3VtZW50czonJ1xyXG4gICAgICogICAgICAgICAgfVxyXG4gICAgICogICAgICAgICAgLy9XZSBjYW4gdXNlIHRoZW0gaW4gb3VyIHF1ZXJ5XHJcbiAgICAgKiAgICAgICAgICByZXR1cm4gdGhpcy5xdWVyeShcInVwc2VydFwiLHtiYWxhbmNlOjB9KS53aGVyZShbJ25hbWUnLCdJTicsYXJncy5hcnJheV0pLmV4ZWMoKTtcclxuICAgICAqICAgICAgfVxyXG4gICAgICogIH1cclxuICAgICAqIF0pXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBUaGVuIGxhdGVyIGluIHlvdXIgYXBwLi5cclxuICAgICAqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogTmFub1NRTChcInVzZXJzXCIpLmRvQWN0aW9uKFwiYWN0aW9uLW5hbWVcIix7YXJyYXk6Jycsb2Y6XCJcIixhcmd1bWVudHM6XCJcIn0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XHJcbiAgICAgKiAgY29uc29sZS5sb2cocmVzdWx0KSA8PT09IHJlc3VsdCBvZiB5b3VyIHZpZXcgd2lsbCBiZSB0aGVyZS5cclxuICAgICAqIH0pXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBPcHRpb25hbGx5IHlvdSBjYW4gdHlwZSBjYXN0IHRoZSBhcmd1bWVudHMgYXQgcnVuIHRpbWUgdHlwZXNjcmlwdCBzdHlsZSwganVzdCBhZGQgdGhlIHR5cGVzIGFmdGVyIHRoZSBhcmd1bWVudHMgaW4gdGhlIGFycmF5LiAgTGlrZSB0aGlzOlxyXG4gICAgICogYGBgdHNcclxuICAgICAqIC5hY3Rpb25zW3tcclxuICAgICAqICAgICAgbmFtZTouLi5cclxuICAgICAqICAgICAgYXJnczpbXCJuYW1lOnN0cmluZ1wiLFwiYmFsYW5jZTpmbG9hdFwiLFwiYWN0aXZlOmJvb2xcIl1cclxuICAgICAqICAgICAgY2FsbDouLi5cclxuICAgICAqIH1dXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBOYW5vU1FMIHdpbGwgZm9yY2UgdGhlIGFyZ3VtZW50cyBwYXNzZWQgaW50byB0aGUgZnVuY3Rpb24gdG8gdGhvc2UgdHlwZXMuXHJcbiAgICAgKlxyXG4gICAgICogUG9zc2libGUgdHlwZXMgYXJlIHN0cmluZywgYm9vbCwgZmxvYXQsIGludCwgbWFwLCBhcnJheSBhbmQgYm9vbC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5PEFjdGlvbk9yVmlldz59IGFjdGlvbkFycmF5XHJcbiAgICAgKiBAcmV0dXJucyB7TmFub1NRTEluc3RhbmNlfVxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJPZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5hY3Rpb25zID0gZnVuY3Rpb24gKGFjdGlvbkFycmF5KSB7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5zVGFibGUpKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aW9uc1t0aGlzLnNUYWJsZV0gPSBhY3Rpb25BcnJheSwgdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEluaXQgYW4gYWN0aW9uIGZvciB0aGUgY3VycmVudCBzZWxlY3RlZCB0YWJsZS4gUmVmZXJlbmNlIHRoZSBcImFjdGlvbnNcIiBtZXRob2QgZm9yIG1vcmUgaW5mby5cclxuICAgICAqXHJcbiAgICAgKiBFeGFtcGxlOlxyXG4gICAgICogYGBgdHNcclxuICAgICAqIE5hbm9TUUwoXCJ1c2Vyc1wiKS5kb0FjdGlvbignYWN0aW9uLW5hbWUnLHtmb286XCJiYXJcIn0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XHJcbiAgICAgKiAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCkgPD09IHJlc3VsdCBvZiB5b3VyIGFjdGlvblxyXG4gICAgICogfSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWN0aW9uTmFtZVxyXG4gICAgICogQHBhcmFtIHthbnl9IGFjdGlvbkFyZ3NcclxuICAgICAqIEByZXR1cm5zIHsoUHJvbWlzZTxBcnJheTxPYmplY3Q+Pil9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLmRvQWN0aW9uID0gZnVuY3Rpb24gKGFjdGlvbk5hbWUsIGFjdGlvbkFyZ3MpIHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnNUYWJsZSkpXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgdXRpbGl0aWVzXzEuUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHsgcmV0dXJuIHJlaigpOyB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZG9BVihcIkFjdGlvblwiLCB0aGlzLl9hY3Rpb25zW3RoaXMuc1RhYmxlXSwgYWN0aW9uTmFtZSwgYWN0aW9uQXJncyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIGEgcXVlcnkgZmlsdGVyIHRvIGV2ZXJ5IHJlcXVlc3QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsoYXJnczogREJFeGVjLCBjb21wbGV0ZTooYXJnczogREJFeGVjKSA9PiB2b2lkKSA9PiB2b2lkfSBjYWxsQmFja1xyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJPZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5xdWVyeUZpbHRlciA9IGZ1bmN0aW9uIChjYWxsQmFjaykge1xyXG4gICAgICAgIHRoaXMucXVlcnlNb2QgPSBjYWxsQmFjaztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEludGVybmFsIGZ1bmN0aW9uIHRvIGZpcmUgYWN0aW9uL3ZpZXdzLlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcGFyYW0geyhcIkFjdGlvblwifFwiVmlld1wiKX0gQVZUeXBlXHJcbiAgICAgKiBAcGFyYW0ge0FjdGlvbk9yVmlld1tdfSBBVkxpc3RcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBBVk5hbWVcclxuICAgICAqIEBwYXJhbSB7Kn0gQVZhcmdzXHJcbiAgICAgKiBAcmV0dXJucyB7KFByb21pc2U8QXJyYXk8REJSb3c+fE5hbm9TUUxJbnN0YW5jZT4pfVxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJPZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5fZG9BViA9IGZ1bmN0aW9uIChBVlR5cGUsIEFWTGlzdCwgQVZOYW1lLCBBVmFyZ3MpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciB0ID0gdGhpcztcclxuICAgICAgICB2YXIgc2VsQVYgPSBBVkxpc3QucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXIpIHtcclxuICAgICAgICAgICAgaWYgKGN1ci5uYW1lID09PSBBVk5hbWUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VyO1xyXG4gICAgICAgICAgICByZXR1cm4gcHJldjtcclxuICAgICAgICB9LCBudWxsKTtcclxuICAgICAgICBpZiAoIXNlbEFWKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgdXRpbGl0aWVzXzEuUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHsgcmV0dXJuIHJlaihcIkFjdGlvbi9WaWV3IE5vdCBGb3VuZCFcIik7IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0Ll9hY3RpdmVBViA9IEFWTmFtZTtcclxuICAgICAgICBpZiAodC5fQVZNb2QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyB1dGlsaXRpZXNfMS5Qcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikge1xyXG4gICAgICAgICAgICAgICAgdC5fQVZNb2QoX3RoaXMuc1RhYmxlLCBBVlR5cGUsIHQuX2FjdGl2ZUFWIHx8IFwiXCIsIEFWYXJncywgZnVuY3Rpb24gKGFyZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxBVi5jYWxsKHNlbEFWLmFyZ3MgPyB1dGlsaXRpZXNfMS5jbGVhbkFyZ3Moc2VsQVYuYXJncywgYXJncykgOiB7fSwgdCkudGhlbihyZXMpLmNhdGNoKHJlaik7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqKGVycik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VsQVYuY2FsbChzZWxBVi5hcmdzID8gdXRpbGl0aWVzXzEuY2xlYW5BcmdzKHNlbEFWLmFyZ3MsIEFWYXJncykgOiB7fSwgdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU3RhcnQgYSBxdWVyeSBpbnRvIHRoZSBjdXJyZW50IHNlbGVjdGVkIHRhYmxlLlxyXG4gICAgICogUG9zc2libCBxdWVyeXMgYXJlIFwic2VsZWN0XCIsIFwidXBzZXJ0XCIsIFwiZGVsZXRlXCIsIGFuZCBcImRyb3BcIjtcclxuICAgICAqXHJcbiAgICAgKiAjIyMgU2VsZWN0XHJcbiAgICAgKlxyXG4gICAgICogU2VsZWN0IGlzIHVzZWQgdG8gcHVsbCBhIHNldCBvZiByb3dzIG9yIG90aGVyIGRhdGEgZnJvbSB0aGUgdGFibGUuXHJcbiAgICAgKiBXaGVuIHlvdSB1c2Ugc2VsZWN0IHRoZSBvcHRpb25hbCBzZWNvbmQgYXJndW1lbnQgb2YgdGhlIHF1ZXJ5IGlzIGFuIGFycmF5IG9mIHN0cmluZ3MgdGhhdCBhbGxvdyB5b3UgdG8gc2hvdyBvbmx5IHNwZWNpZmljIGNvbHVtbnMuXHJcbiAgICAgKlxyXG4gICAgICogRXhhbXBsZXM6XHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogLnF1ZXJ5KFwic2VsZWN0XCIpIC8vIE5vIGFyZ3VtZW50cywgc2VsZWN0IGFsbCBjb2x1bW5zXHJcbiAgICAgKiAucXVlcnkoXCJzZWxlY3RcIixbJ3VzZXJuYW1lJ10pIC8vIG9ubHkgZ2V0IHRoZSB1c2VybmFtZSBjb2x1bW5cclxuICAgICAqIC5xdWVyeShcInNlbGVjdFwiLFtcInVzZXJuYW1lXCIsXCJiYWxhbmNlXCJdKSAvL0dldCB0d28gY29sdW1ucywgdXNlcm5hbWUgYW5kIGJhbGFuY2UuXHJcbiAgICAgKiAucXVlcnkoXCJzZWxlY3RcIixbXCJjb3VudCgqKVwiXSkgLy9HZXQgdGhlIGxlbmd0aCBvZiByZWNvcmRzIGluIHRoZSBkYXRhYmFzZVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogIyMjIFVwc2VydFxyXG4gICAgICpcclxuICAgICAqIFVwc2VydCBpcyB1c2VkIHRvIGFkZCBvciBtb2RpZnkgZGF0YSBpbiB0aGUgZGF0YWJhc2UuXHJcbiAgICAgKiBJZiB0aGUgcHJpbWFyeSBrZXkgcm93cyBhcmUgbnVsbCBvciB1bmRlZmluZWQsIHRoZSBkYXRhIHdpbGwgYWx3YXlzIGJlIGFkZGVkIGluIGEgbmV3IHJvdy4gT3RoZXJ3aXNlLCB5b3UgbWlnaHQgYmUgdXBkYXRpbmcgZXhpc3Rpbmcgcm93cy5cclxuICAgICAqIFRoZSBzZWNvbmQgYXJndW1lbnQgb2YgdGhlIHF1ZXJ5IHdpdGggdXBzZXJ0cyBpcyBhbHdheXMgYW4gT2JqZWN0IG9mIHRoZSBkYXRhIHRvIHVwc2VydC5cclxuICAgICAqXHJcbiAgICAgKiBFeGFtcGxlczpcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAucXVlcnkoXCJ1cHNlcnRcIix7aWQ6MSwgdXNlcm5hbWU6XCJTY290dFwifSkgLy9JZiByb3cgSUQgMSBleGlzdHMsIHNldCB0aGUgdXNlcm5hbWUgdG8gc2NvdHQsIG90aGVyd2lzZSBjcmVhdGUgYSBuZXcgcm93IHdpdGggdGhpcyBkYXRhLlxyXG4gICAgICogLnF1ZXJ5KFwidXBzZXJ0XCIse3VzZXJuYW1lOlwiU2NvdHRcIn0pIC8vQWRkIGEgbmV3IHJvdyB0byB0aGUgZGIgd2l0aCB0aGlzIHVzZXJuYW1lIGluIHRoZSByb3cuXHJcbiAgICAgKiAucXVlcnkoXCJ1cHNlcnRcIix7YmFsYW5jZTotMzV9KS53aGVyZShbXCJiYWxhbmNlXCIsXCI8XCIsMF0pIC8vIElmIHlvdSB1c2UgYSBXSEVSRSBzdGF0ZW1lbnQgdGhpcyBkYXRhIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgcm93cyBmb3VuZCB3aXRoIHRoZSB3aGVyZSBzdGF0ZW1lbnQuXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiAjIyMgRGVsZXRlXHJcbiAgICAgKlxyXG4gICAgICogRGVsZXRlIGlzIHVzZWQgdG8gcmVtb3ZlIGRhdGEgZnJvbSB0aGUgZGF0YWJhc2UuXHJcbiAgICAgKiBJdCB3b3JrcyBleGFjdGx5IGxpa2Ugc2VsZWN0LCBleGNlcHQgaXQgcmVtb3ZlcyBkYXRhIGluc3RlYWQgb2Ygc2VsZWN0aW5nIGl0LiAgVGhlIHNlY29uZCBhcmd1bWVudCBpcyBhbiBhcnJheSBvZiBjb2x1bW5zIHRvIGNsZWFyLiAgSWYgbm8gc2Vjb25kIGFyZ3VtZW50IGlzIHBhc3NlZCwgdGhlIGVudGlyZSByb3cgaXMgZGVsZXRlZC5cclxuICAgICAqIElmIG5vIHdoZXJlIGFyZ3VtZW50IGlzIHBhc3NlZCwgdGhlIGVudGlyZSB0YWJsZSBpcyBkcm9wcGVkXHJcbiAgICAgKlxyXG4gICAgICogRXhhbXBsZXM6XHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogLnF1ZXJ5KFwiZGVsZXRlXCIsWydiYWxhbmNlJ10pIC8vQ2xlYXIgdGhlIGNvbnRlbnRzIG9mIHRoZSBiYWxhbmNlIGNvbHVtbiBvbiBBTEwgcm93cy5cclxuICAgICAqIC5xdWVyeShcImRlbGV0ZVwiLFsnY29tbWVudHMnXSkud2hlcmUoW1wiYWNjb3VudFR5cGVcIixcIj1cIixcInNwYW1tZXJcIl0pIC8vIElmIGEgd2hlcmUgc3RhdG1lbnQgaXMgcGFzc2VkIHlvdSdsbCBvbmx5IGNsZWFyIHRoZSBjb2x1bW5zIG9mIHRoZSByb3dzIHNlbGVjdGVkIGJ5IHRoZSB3aGVyZSBzdGF0ZW1lbnQuXHJcbiAgICAgKiAucXVlcnkoXCJkZWxldGVcIikud2hlcmUoW1wiYmFsYW5jZVwiLFwiPFwiLDBdKSAvLyByZW1vdmUgYWxsIHJvd3Mgd2l0aCBhIGJhbGFuY2UgbGVzcyB0aGFuIHplcm9cclxuICAgICAqIC5xdWVyeShcImRlbGV0ZVwiKSAvLyBTYW1lIGFzIGRyb3Agc3RhdGVtZW50XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiAjIyMgRHJvcFxyXG4gICAgICpcclxuICAgICAqIERyb3AgaXMgdXNlZCB0byBjb21wbGV0ZWx5IGNsZWFyIHRoZSBjb250ZW50cyBvZiBhIGRhdGFiYXNlLiAgVGhlcmUgYXJlIG5vIGFyZ3VtZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBEcm9wIEV4YW1wbGVzOlxyXG4gICAgICogYGBgdHNcclxuICAgICAqIC5xdWVyeShcImRyb3BcIilcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7KFwic2VsZWN0XCJ8XCJ1cHNlcnRcInxcImRlbGV0ZVwifFwiZHJvcFwiKX0gYWN0aW9uXHJcbiAgICAgKiBAcGFyYW0ge2FueX0gW2FyZ3NdXHJcbiAgICAgKiBAcmV0dXJucyB7TmFub1NRTEluc3RhbmNlfVxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJPZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5xdWVyeSA9IGZ1bmN0aW9uIChhY3Rpb24sIGFyZ3MpIHtcclxuICAgICAgICAvKmxldCB0ID0gdGhpcztcclxuICAgICAgICB0Ll9xdWVyeVB0cisrO1xyXG4gICAgICAgIGlmICh0Ll9xdWVyeVB0ciA+IHQuX3F1ZXJ5UG9vbC5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIHQuX3F1ZXJ5UHRyID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYXYgPSB0Ll9hY3RpdmVBVjtcclxuICAgICAgICB0Ll9hY3RpdmVBViA9IHVuZGVmaW5lZDtcclxuICAgICAgICByZXR1cm4gdC5fcXVlcnlQb29sW3QuX3F1ZXJ5UHRyXS5zZXQodC5zVGFibGUsIGFjdGlvbi50b0xvd2VyQ2FzZSgpLCBhcmdzLCBhdik7Ki9cclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGF2ID0gdC5fYWN0aXZlQVY7XHJcbiAgICAgICAgdC5fYWN0aXZlQVYgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBzdGRfcXVlcnlfMS5fTmFub1NRTFF1ZXJ5KHRoaXMsIHRoaXMuc1RhYmxlLCBhY3Rpb24sIGFyZ3MsIGF2KTtcclxuICAgIH07XHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLm9uQ29ubmVjdGVkID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNDb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX29uQ29ubmVjdGVkQ2FsbEJhY2tzLnB1c2goY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRyaWdnZXIgYSBkYXRhYmFzZSBldmVudFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7RGF0YWJhc2VFdmVudH0gZXZlbnREYXRhXHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLnRyaWdnZXJFdmVudCA9IGZ1bmN0aW9uIChldmVudERhdGEpIHtcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHQuX2hhc0V2ZW50c1tcIipcIl0gfHwgdC5faGFzRXZlbnRzW2V2ZW50RGF0YS50YWJsZV0pIHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50RGF0YS50YWJsZSA9PT0gXCIqXCIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgbGllX3RzXzEuc2V0RmFzdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYztcclxuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS50eXBlcy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdHJpZ2dlciB3aWxkY2FyZFxyXG4gICAgICAgICAgICAgICAgICAgIHQuX2NhbGxiYWNrc1tcIipcIl0udHJpZ2dlcih0eXBlLCBldmVudERhdGEsIHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHQuX2NhbGxiYWNrc1tcIipcIl0udHJpZ2dlcihcIipcIiwgZXZlbnREYXRhLCB0KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0cmlnZ2VyIHNwZWNpZmljIHRhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50RGF0YS50YWJsZSAmJiB0Ll9jYWxsYmFja3NbZXZlbnREYXRhLnRhYmxlXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0Ll9jYWxsYmFja3NbZXZlbnREYXRhLnRhYmxlXS50cmlnZ2VyKHR5cGUsIGV2ZW50RGF0YSwgdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBkZWZhdWx0IG9iamVjdCBmb3IgdGhlIGN1cnJlbnQgdGFibGUncyBkYXRhIG1vZGVsLCB1c2VmdWwgZm9yIGZvcm1zLlxyXG4gICAgICpcclxuICAgICAqIFRoZSBvcHRpb25hbCBhcmd1bWVudCBsZXRzIHlvdSBwYXNzIGluIGFuIG9iamVjdCB0byBvdmVyIHdyaXRlIHRoZSBkYXRhIG1vZGVsJ3MgZGVmYXVsdHMgYXMgZGVzaXJlZC5cclxuICAgICAqXHJcbiAgICAgKiBFeGFtcGxlczpcclxuICAgICAqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogY29uc29sZS5sb2coTmFub1NRTChcInVzZXJzXCIpLmRlZmF1bHQoKSkgPD0ge3VzZXJuYW1lOlwibm9uZVwiLCBpZDp1bmRlZmluZWQsIGFnZTogMH1cclxuICAgICAqIGNvbnNvbGUubG9nKE5hbm9TUUwoXCJ1c2Vyc1wiKS5kZWZhdWx0KHt1c2VybmFtZTpcImRlZmFsdFwifSkpIDw9IHt1c2VybmFtZTpcImRlZmF1bHRcIiwgaWQ6dW5kZWZpbmVkLCBhZ2U6IDB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBETyBOT1QgdXNlIHRoaXMgaW5zaWRlIHVwc2VydCBjb21tYW5kcyBsaWtlIGAucXVlcnkoXCJ1cHNlcnRcIixOYW5vU1FMKFwidXNlcnNcIikuZGVmYWx0KHt1c2VyT2JqfSkpLi5gLlxyXG4gICAgICogVGhlIGRhdGFiYXNlIGRlZmF1bHRzIGFyZSBhbHJlYWR5IGFwcGxpZWQgdGhyb3VnaCB0aGUgdXBzZXJ0IHBhdGgsIHlvdSdsbCBiZSBkb2luZyBkb3VibGUgd29yay5cclxuICAgICAqXHJcbiAgICAgKiBPbmx5IHVzZSB0aGlzIHRvIHB1bGwgZGVmYXVsdCB2YWx1ZXMgaW50byBhIGZvcm0gaW4geW91ciBVSSBvciBzaW1pbGFyIHNpdHVhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geyp9IFtyZXBsYWNlT2JqXVxyXG4gICAgICogQHJldHVybnMge3tba2V5OiBzdHJpbmddOiBhbnl9fVxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJPZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5kZWZhdWx0ID0gZnVuY3Rpb24gKHJlcGxhY2VPYmopIHtcclxuICAgICAgICB2YXIgbmV3T2JqID0ge307XHJcbiAgICAgICAgdmFyIHQgPSB0aGlzO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHQuc1RhYmxlKSlcclxuICAgICAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgICAgIHQuZGF0YU1vZGVsc1t0LnNUYWJsZV0uZm9yRWFjaChmdW5jdGlvbiAobSkge1xyXG4gICAgICAgICAgICAvLyBzZXQga2V5IHRvIG9iamVjdCBhcmd1bWVudCBvciB0aGUgZGVmYXVsdCB2YWx1ZSBpbiB0aGUgZGF0YSBtb2RlbFxyXG4gICAgICAgICAgICBuZXdPYmpbbS5rZXldID0gKHJlcGxhY2VPYmogJiYgcmVwbGFjZU9ialttLmtleV0pID8gcmVwbGFjZU9ialttLmtleV0gOiBtLmRlZmF1bHQ7XHJcbiAgICAgICAgICAgIC8vIEdlbmVyYXRlIGRlZmF1bHQgdmFsdWUgZnJvbSB0eXBlLCBlZyBpbnQgPSAwLCBzdHJpbmcgPSBcIlwiXHJcbiAgICAgICAgICAgIGlmIChuZXdPYmpbbS5rZXldID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIG5ld09ialttLmtleV0gPSB1dGlsaXRpZXNfMS5jYXN0KG0udHlwZSwgbnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbmV3T2JqO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSByYXcgY29udGVudHMgb2YgdGhlIGRhdGFiYXNlLCBwcm92aWRlcyBhbGwgdGFibGVzLlxyXG4gICAgICpcclxuICAgICAqIE9wdGlvbmFsbHkgcGFzcyBpbiB0aGUgdGFibGVzIHRvIGV4cG9ydC4gIElmIG5vIHRhYmxlcyBhcmUgcHJvdmlkZWQgdGhlbiBhbGwgdGFibGVzIHdpbGwgYmUgZHVtcGVkLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKiBAbWVtYmVyb2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUucmF3RHVtcCA9IGZ1bmN0aW9uICh0YWJsZXMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBuZXcgdXRpbGl0aWVzXzEuUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0Q0hBSU4oX3RoaXMucGx1Z2lucywgZnVuY3Rpb24gKHBsdWdpbiwgaSwgbmV4dCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpbi5kdW1wVGFibGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLmR1bXBUYWJsZXModGFibGVzKS50aGVuKGZ1bmN0aW9uICh0YWJsZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gX19hc3NpZ24oe30sIHJlc3VsdCwgdGFibGVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJlcyhyZXN1bHQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEltcG9ydCB0YWJsZSBkYXRhIGRpcmVjdGx5IGludG8gdGhlIGRhdGF0YWJhc2UuXHJcbiAgICAgKiBTaWduaWZpbmNhdGx5IGZhc3RlciB0aGFuIC5sb2FkSlMgYnV0IGRvZXNuJ3QgZG8gdHlwZSBjaGVja2luZywgaW5kZXhpbmcgb3IgYW55dGhpbmcgZWxzZSBmYW5jeS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3tbdGFibGU6IHN0cmluZ106IERCUm93W119fSB0YWJsZXNcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKiBAbWVtYmVyb2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUucmF3SW1wb3J0ID0gZnVuY3Rpb24gKHRhYmxlcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyB1dGlsaXRpZXNfMS5Qcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikge1xyXG4gICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0Q0hBSU4oX3RoaXMucGx1Z2lucywgZnVuY3Rpb24gKHBsdWdpbiwgaSwgbmV4dCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpbi5pbXBvcnRUYWJsZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBwbHVnaW4uaW1wb3J0VGFibGVzKHRhYmxlcykudGhlbihuZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXMoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXF1ZXN0IGRpc2Nvbm5lY3QgZnJvbSBhbGwgZGF0YWJhc2VzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKiBAbWVtYmVyb2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUuZGlzY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdXRpbGl0aWVzXzEuZmFzdENIQUlOKHRoaXMucGx1Z2lucywgZnVuY3Rpb24gKHBsdWdpbiwgaSwgbmV4dCkge1xyXG4gICAgICAgICAgICBpZiAocGx1Z2luLndpbGxEaXNjb25uZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBwbHVnaW4ud2lsbERpc2Nvbm5lY3QobmV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEV4ZWN1dGVzIGEgdHJhbnNhY3Rpb24gYWdhaW5zdCB0aGUgZGF0YWJhc2UsIGJhdGNoaW5nIGFsbCB0aGUgcXVlcmllcyB0b2dldGhlci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geygoXHJcbiAgICAgKiAgICAgICAgIGRiOiAodGFibGU/OiBzdHJpbmcpID0+IHtcclxuICAgICAqICAgICAgICAgICAgIHF1ZXJ5OiAoYWN0aW9uOiBcInNlbGVjdFwifFwidXBzZXJ0XCJ8XCJkZWxldGVcInxcImRyb3BcInxcInNob3cgdGFibGVzXCJ8XCJkZXNjcmliZVwiLCBhcmdzPzogYW55KSA9PiBfTmFub1NRTFRyYW5zYWN0aW9uUXVlcnk7XHJcbiAgICAgKiAgICAgICAgICAgICB1cGRhdGVPUk06IChhY3Rpb246IFwiYWRkXCJ8XCJkZWxldGVcInxcImRyb3BcInxcInNldFwiLCBjb2x1bW4/OiBzdHJpbmcsIHJlbGF0aW9uSURzPzogYW55W10pID0+IF9OYW5vU1FMVHJhbnNhY3Rpb25PUk1RdWVyeXx1bmRlZmluZWQ7XHJcbiAgICAgKiAgICAgICAgIH0sIGNvbXBsZXRlOiAoKSA9PiB2b2lkKSA9PiB2b2lkKX0gaW5pdFRyYW5zYWN0aW9uXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJvZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5kb1RyYW5zYWN0aW9uID0gZnVuY3Rpb24gKGluaXRUcmFuc2FjdGlvbikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHQgPSB0aGlzO1xyXG4gICAgICAgIHZhciBxdWVyaWVzID0gW107XHJcbiAgICAgICAgdmFyIHRyYW5zYWN0aW9uSUQgPSB1dGlsaXRpZXNfMS5yYW5kb20xNkJpdHMoKS50b1N0cmluZygxNik7XHJcbiAgICAgICAgcmV0dXJuIG5ldyB1dGlsaXRpZXNfMS5Qcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgaWYgKCF0LnBsdWdpbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoXCJOb3RoaW5nIHRvIGRvLCBubyBwbHVnaW5zIVwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0Q0hBSU4odC5wbHVnaW5zLCBmdW5jdGlvbiAocCwgaSwgbmV4dFApIHtcclxuICAgICAgICAgICAgICAgIGlmIChwLnRyYW5zYWN0aW9uQmVnaW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBwLnRyYW5zYWN0aW9uQmVnaW4odHJhbnNhY3Rpb25JRCwgbmV4dFApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dFAoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0LnNUYWJsZSkpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgaW5pdFRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YSA9IHRhYmxlIHx8IHQuc1RhYmxlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBmdW5jdGlvbiAoYWN0aW9uLCBhcmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHRyYW5zYWN0aW9uXzEuX05hbm9TUUxUcmFuc2FjdGlvblF1ZXJ5KGFjdGlvbiwgYXJncywgdGEsIHF1ZXJpZXMsIHRyYW5zYWN0aW9uSUQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdENIQUlOKHF1ZXJpZXMsIGZ1bmN0aW9uIChxdWVyLCBpLCBuZXh0UXVlcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVzLnB1c2gocXVlci50YWJsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHQucXVlcnkocXVlci5hY3Rpb24sIHF1ZXIuYWN0aW9uQXJncykubWFudWFsRXhlYyhfX2Fzc2lnbih7fSwgcXVlciwgeyB0YWJsZTogcXVlci50YWJsZSwgdHJhbnNhY3Rpb246IHRydWUsIHF1ZXJ5SUQ6IHRyYW5zYWN0aW9uSUQgfSkpLnRoZW4obmV4dFF1ZXJ5KTtcclxuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RDSEFJTihfdGhpcy5wbHVnaW5zLCBmdW5jdGlvbiAocCwgaSwgbmV4dFApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwLnRyYW5zYWN0aW9uRW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcC50cmFuc2FjdGlvbkVuZCh0cmFuc2FjdGlvbklELCBuZXh0UCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0UCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlcy5maWx0ZXIoZnVuY3Rpb24gKHZhbCwgaWR4LCBzZWxmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuaW5kZXhPZih2YWwpID09PSBpZHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uICh0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YWJsZS5pbmRleE9mKFwiX1wiKSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LnRyaWdnZXJFdmVudCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcmllc1swXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlOiB0YWJsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiByZXN1bHRzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZXM6IFtcInRyYW5zYWN0aW9uXCJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uT3JWaWV3OiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90ZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25JRDogdHJhbnNhY3Rpb25JRCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmZmVjdGVkUm93UEtTOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmZmVjdGVkUm93czogW11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENvbmZpZ3VyZSB0aGUgZGF0YWJhc2UgZHJpdmVyLCBtdXN0IGJlIGNhbGxlZCBiZWZvcmUgdGhlIGNvbm5lY3QoKSBtZXRob2QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHthbnl9IGFyZ3NcclxuICAgICAqIEByZXR1cm5zIHtOYW5vU1FMSW5zdGFuY2V9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLmNvbmZpZyA9IGZ1bmN0aW9uIChhcmdzKSB7XHJcbiAgICAgICAgdGhpcy5fY29uZmlnID0gYXJncztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFBlcmZvcm0gYSBjdXN0b20gYWN0aW9uIHN1cHBvcnRlZCBieSB0aGUgZGF0YWJhc2UgZHJpdmVyLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXk8YW55Pn0gYXJnc1xyXG4gICAgICogQHJldHVybnMgeyp9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLmV4dGVuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHQgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBuZXcgdXRpbGl0aWVzXzEuUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcclxuICAgICAgICAgICAgaWYgKHQucGx1Z2lucy5sZW5ndGgpIHsgLy8gUXVlcnkgTW9kZVxyXG4gICAgICAgICAgICAgICAgdmFyIG5ld0FyZ3NfMSA9IGFyZ3M7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0XzEgPSBbXTtcclxuICAgICAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RDSEFJTih0LnBsdWdpbnMsIGZ1bmN0aW9uIChwLCBpLCBuZXh0UCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwLmV4dGVuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwLmV4dGVuZChmdW5jdGlvbiAobkFyZ3MsIG5ld1Jlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3QXJnc18xID0gbkFyZ3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRfMSA9IG5ld1Jlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRQKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIG5ld0FyZ3NfMSwgcmVzdWx0XzEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFAoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXMocmVzdWx0XzEpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZWooXCJObyBwbHVnaW5zIVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogTG9hZCBKU09OIGRpcmVjdGx5IGludG8gdGhlIERCLlxyXG4gICAgICogSlNPTiBtdXN0IGJlIGFuIGFycmF5IG9mIG1hcHMsIGxpa2UgdGhpczpcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiBbXHJcbiAgICAgKiAge1wibmFtZVwiOlwiYmlsbHlcIixcImFnZVwiOjIwfSxcclxuICAgICAqICB7XCJuYW1lXCI6XCJqb2hubnlcIjpcImFnZVwiOjMwfVxyXG4gICAgICogXVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogUm93cyBtdXN0IGFsaWduIHdpdGggdGhlIGRhdGEgbW9kZWwuICBSb3cgZGF0YSB0aGF0IGlzbid0IGluIHRoZSBkYXRhIG1vZGVsIHdpbGwgYmUgaWdub3JlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFibGVcclxuICAgICAqIEBwYXJhbSB7QXJyYXk8T2JqZWN0Pn0gcm93c1xyXG4gICAgICogQHJldHVybnMge1Byb21pc2U8QXJyYXk8T2JqZWN0Pj59XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLmxvYWRKUyA9IGZ1bmN0aW9uICh0YWJsZSwgcm93cywgdXNlVHJhbnNhY3Rpb24sIG9uUHJvZ3Jlc3MpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciB0ID0gdGhpcztcclxuICAgICAgICBpZiAodXNlVHJhbnNhY3Rpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHQuZG9UcmFuc2FjdGlvbihmdW5jdGlvbiAoZGIsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgICAgICAgICByb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRiKHRhYmxlKS5xdWVyeShcInVwc2VydFwiLCByb3cpLmV4ZWMoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IHV0aWxpdGllc18xLlByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0Q0hBSU4ocm93cywgZnVuY3Rpb24gKHJvdywgaSwgbmV4dFJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvblByb2dyZXNzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblByb2dyZXNzKE1hdGgucm91bmQoKChpICsgMSkgLyByb3dzLmxlbmd0aCkgKiAxMDAwMCkgLyAxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnF1ZXJ5KFwidXBzZXJ0XCIsIHJvdykubWFudWFsRXhlYyh7IHRhYmxlOiB0YWJsZSB9KS50aGVuKG5leHRSb3cpO1xyXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcyhyb3dzLm1hcChmdW5jdGlvbiAocikgeyByZXR1cm4gci5zaGlmdCgpOyB9KSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogTG9hZCBhIENTViBmaWxlIGludG8gdGhlIERCLiAgSGVhZGVycyBtdXN0IGV4aXN0IGFuZCB3aWxsIGJlIHVzZWQgdG8gaWRlbnRpZnkgd2hhdCBjb2x1bW5zIHRvIGF0dGFjaCB0aGUgZGF0YSB0by5cclxuICAgICAqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHBlcmZvcm1zIGEgYnVuY2ggb2YgdXBzZXJ0cywgc28gZXhwZWN0IGFwcHJvcHJpYXRlIGJlaGF2aW9yIGJhc2VkIG9uIHRoZSBwcmltYXJ5IGtleS5cclxuICAgICAqXHJcbiAgICAgKiBSb3dzIG11c3QgYWxpZ24gd2l0aCB0aGUgZGF0YSBtb2RlbC4gIFJvdyBkYXRhIHRoYXQgaXNuJ3QgaW4gdGhlIGRhdGEgbW9kZWwgd2lsbCBiZSBpZ25vcmVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjc3ZcclxuICAgICAqIEByZXR1cm5zIHsoUHJvbWlzZTxBcnJheTxPYmplY3Q+Pil9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLmxvYWRDU1YgPSBmdW5jdGlvbiAodGFibGUsIGNzdiwgdXNlVHJhbnNhY3Rpb24sIHJvd0ZpbHRlciwgb25Qcm9ncmVzcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHQgPSB0aGlzO1xyXG4gICAgICAgIHZhciBmaWVsZHMgPSBbXTtcclxuICAgICAgICB2YXIgcm93RGF0YSA9IGNzdi5zcGxpdChcIlxcblwiKS5tYXAoZnVuY3Rpb24gKHYsIGspIHtcclxuICAgICAgICAgICAgaWYgKGsgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGZpZWxkcyA9IHYuc3BsaXQoXCIsXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciByZWNvcmQgPSB7fTtcclxuICAgICAgICAgICAgICAgIHZhciByb3dfMSA9IHYubWF0Y2goLygsKXwoW1wifFxcW3xcXHtdLio/W1wifFxcXXxcXH1dfFteXCIsXFxzXSspKD89XFxzKix8XFxzKiQpL2cpIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpdHMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmIChyb3dfMVswXSA9PT0gXCIsXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICByb3dfMS51bnNoaWZ0KFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRvQnJlYWsgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICByb3dfMS5mb3JFYWNoKGZ1bmN0aW9uICh2YWwsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvQnJlYWspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWwgPT09IFwiLFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJvd18xW2kgKyAxXSA9PT0gXCJ1bmRlZmluZWRcIiB8fCByb3dfMVtpICsgMV0gPT09IFwiLFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9CcmVhayA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93XzEuc3BsaWNlKGkgKyAxLCAwLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZG9CcmVhaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaXRzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImJyZWFrXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHdoaWxlICghZml0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZV8xID0gX2xvb3BfMSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZV8xID09PSBcImJyZWFrXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcm93XzEgPSByb3dfMS5maWx0ZXIoZnVuY3Rpb24gKHYsIGkpIHsgcmV0dXJuIGkgJSAyID09PSAwOyB9KTtcclxuICAgICAgICAgICAgICAgIHZhciBpID0gZmllbGRzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocm93XzFbaV0uaW5kZXhPZihcIntcIikgPT09IDEgfHwgcm93XzFbaV0uaW5kZXhPZihcIltcIikgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd18xW2ldID0gSlNPTi5wYXJzZShyb3dfMVtpXS5zbGljZSgxLCByb3dfMVtpXS5sZW5ndGggLSAxKS5yZXBsYWNlKC8nL2dtLCAnXFxcIicpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJvd18xW2ldLmluZGV4T2YoJ1wiJykgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93XzFbaV0gPSByb3dfMVtpXS5zbGljZSgxLCByb3dfMVtpXS5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkW2ZpZWxkc1tpXV0gPSByb3dfMVtpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChyb3dGaWx0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm93RmlsdGVyKHJlY29yZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjb3JkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByOyB9KTtcclxuICAgICAgICBpZiAodXNlVHJhbnNhY3Rpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHQuZG9UcmFuc2FjdGlvbihmdW5jdGlvbiAoZGIsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgICAgICAgICByb3dEYXRhLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRiKHRhYmxlKS5xdWVyeShcInVwc2VydFwiLCByb3cpLmV4ZWMoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IHV0aWxpdGllc18xLlByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0Q0hBSU4ocm93RGF0YSwgZnVuY3Rpb24gKHJvdywgaSwgbmV4dFJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvblByb2dyZXNzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvblByb2dyZXNzKE1hdGgucm91bmQoKChpICsgMSkgLyByb3dEYXRhLmxlbmd0aCkgKiAxMDAwMCkgLyAxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnF1ZXJ5KFwidXBzZXJ0XCIsIHJvdykubWFudWFsRXhlYyh7IHRhYmxlOiB0YWJsZSB9KS50aGVuKG5leHRSb3cpO1xyXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcyhyb3dzLm1hcChmdW5jdGlvbiAocikgeyByZXR1cm4gci5zaGlmdCgpOyB9KSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBOYW5vU1FMSW5zdGFuY2U7XHJcbn0oKSk7XHJcbmV4cG9ydHMuTmFub1NRTEluc3RhbmNlID0gTmFub1NRTEluc3RhbmNlO1xyXG5OYW5vU1FMSW5zdGFuY2UuZnVuY3Rpb25zID0ge1xyXG4gICAgQ09VTlQ6IHtcclxuICAgICAgICB0eXBlOiBcIkFcIixcclxuICAgICAgICBjYWxsOiBmdW5jdGlvbiAocm93cywgY29tcGxldGUsIGNvbHVtbikge1xyXG4gICAgICAgICAgICBpZiAoY29sdW1uICYmIGNvbHVtbiAhPT0gXCIqXCIpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKHJvd3MuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiB1dGlsaXRpZXNfMS5vYmpRdWVyeShjb2x1bW4sIHIpOyB9KS5sZW5ndGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUocm93cy5sZW5ndGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIE1BWDoge1xyXG4gICAgICAgIHR5cGU6IFwiQVwiLFxyXG4gICAgICAgIGNhbGw6IGZ1bmN0aW9uIChyb3dzLCBjb21wbGV0ZSwgY29sdW1uKSB7XHJcbiAgICAgICAgICAgIGlmIChyb3dzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1heF8xID0gdXRpbGl0aWVzXzEub2JqUXVlcnkoY29sdW1uLCByb3dzWzBdKSB8fCAwO1xyXG4gICAgICAgICAgICAgICAgcm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHYgPSB1dGlsaXRpZXNfMS5vYmpRdWVyeShjb2x1bW4sIHIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1dGlsaXRpZXNfMS5vYmpRdWVyeShjb2x1bW4sIHIpID4gbWF4XzEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4XzEgPSB1dGlsaXRpZXNfMS5vYmpRdWVyeShjb2x1bW4sIHIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUobWF4XzEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgTUlOOiB7XHJcbiAgICAgICAgdHlwZTogXCJBXCIsXHJcbiAgICAgICAgY2FsbDogZnVuY3Rpb24gKHJvd3MsIGNvbXBsZXRlLCBjb2x1bW4pIHtcclxuICAgICAgICAgICAgaWYgKHJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWluXzEgPSB1dGlsaXRpZXNfMS5vYmpRdWVyeShjb2x1bW4sIHJvd3NbMF0pIHx8IDA7XHJcbiAgICAgICAgICAgICAgICByb3dzLmZvckVhY2goZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdiA9IHV0aWxpdGllc18xLm9ialF1ZXJ5KGNvbHVtbiwgcik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHYgPCBtaW5fMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5fMSA9IHY7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShtaW5fMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZSgwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBBVkc6IHtcclxuICAgICAgICB0eXBlOiBcIkFcIixcclxuICAgICAgICBjYWxsOiBmdW5jdGlvbiAocm93cywgY29tcGxldGUsIGNvbHVtbikge1xyXG4gICAgICAgICAgICBjb21wbGV0ZShyb3dzLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VyKSB7IHJldHVybiBwcmV2ICsgKHV0aWxpdGllc18xLm9ialF1ZXJ5KGNvbHVtbiwgY3VyKSB8fCAwKTsgfSwgMCkgLyByb3dzLmxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIFNVTToge1xyXG4gICAgICAgIHR5cGU6IFwiQVwiLFxyXG4gICAgICAgIGNhbGw6IGZ1bmN0aW9uIChyb3dzLCBjb21wbGV0ZSwgY29sdW1uKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKHJvd3MucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXIpIHsgcmV0dXJuIHByZXYgKyAodXRpbGl0aWVzXzEub2JqUXVlcnkoY29sdW1uLCBjdXIpIHx8IDApOyB9LCAwKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIExPV0VSOiB7XHJcbiAgICAgICAgdHlwZTogXCJTXCIsXHJcbiAgICAgICAgY2FsbDogZnVuY3Rpb24gKHJvd3MsIGNvbXBsZXRlLCBjb2x1bW4pIHtcclxuICAgICAgICAgICAgY29tcGxldGUocm93cy5tYXAoZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcodXRpbGl0aWVzXzEub2JqUXVlcnkoY29sdW1uLCByKSkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBVUFBFUjoge1xyXG4gICAgICAgIHR5cGU6IFwiU1wiLFxyXG4gICAgICAgIGNhbGw6IGZ1bmN0aW9uIChyb3dzLCBjb21wbGV0ZSwgY29sdW1uKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKHJvd3MubWFwKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKHV0aWxpdGllc18xLm9ialF1ZXJ5KGNvbHVtbiwgcikpLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgQ0FTVDoge1xyXG4gICAgICAgIHR5cGU6IFwiU1wiLFxyXG4gICAgICAgIGNhbGw6IGZ1bmN0aW9uIChyb3dzLCBjb21wbGV0ZSwgY29sdW1uLCB0eXBlKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKHJvd3MubWFwKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdXRpbGl0aWVzXzEuY2FzdCh0eXBlLCB1dGlsaXRpZXNfMS5vYmpRdWVyeShjb2x1bW4sIHIpKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBBQlM6IHtcclxuICAgICAgICB0eXBlOiBcIlNcIixcclxuICAgICAgICBjYWxsOiBmdW5jdGlvbiAocm93cywgY29tcGxldGUsIGNvbHVtbikge1xyXG4gICAgICAgICAgICBjb21wbGV0ZShyb3dzLm1hcChmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHV0aWxpdGllc18xLm9ialF1ZXJ5KGNvbHVtbiwgcikpO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIENFSUw6IHtcclxuICAgICAgICB0eXBlOiBcIlNcIixcclxuICAgICAgICBjYWxsOiBmdW5jdGlvbiAocm93cywgY29tcGxldGUsIGNvbHVtbikge1xyXG4gICAgICAgICAgICBjb21wbGV0ZShyb3dzLm1hcChmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguY2VpbCh1dGlsaXRpZXNfMS5vYmpRdWVyeShjb2x1bW4sIHIpKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBQT1c6IHtcclxuICAgICAgICB0eXBlOiBcIlNcIixcclxuICAgICAgICBjYWxsOiBmdW5jdGlvbiAocm93cywgY29tcGxldGUsIGNvbHVtbiwgcG93ZXIpIHtcclxuICAgICAgICAgICAgY29tcGxldGUocm93cy5tYXAoZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnBvdyh1dGlsaXRpZXNfMS5vYmpRdWVyeShjb2x1bW4sIHIpLCBwYXJzZUludChwb3dlcikpO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIFJPVU5EOiB7XHJcbiAgICAgICAgdHlwZTogXCJTXCIsXHJcbiAgICAgICAgY2FsbDogZnVuY3Rpb24gKHJvd3MsIGNvbXBsZXRlLCBjb2x1bW4pIHtcclxuICAgICAgICAgICAgY29tcGxldGUocm93cy5tYXAoZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHV0aWxpdGllc18xLm9ialF1ZXJ5KGNvbHVtbiwgcikpO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIFNRUlQ6IHtcclxuICAgICAgICB0eXBlOiBcIlNcIixcclxuICAgICAgICBjYWxsOiBmdW5jdGlvbiAocm93cywgY29tcGxldGUsIGNvbHVtbikge1xyXG4gICAgICAgICAgICBjb21wbGV0ZShyb3dzLm1hcChmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguc3FydCh1dGlsaXRpZXNfMS5vYmpRdWVyeShjb2x1bW4sIHIpKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuLyoqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxudmFyIF9OYW5vU1FMU3RhdGljID0gbmV3IE5hbm9TUUxJbnN0YW5jZSgpO1xyXG5leHBvcnRzLm5TUUwgPSBmdW5jdGlvbiAoc2V0VGFibGVQb2ludGVyKSB7XHJcbiAgICByZXR1cm4gX05hbm9TUUxTdGF0aWMudGFibGUoc2V0VGFibGVQb2ludGVyKTtcclxufTtcclxuaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgIHdpbmRvd1tcIm5hbm8tc3FsXCJdID0ge1xyXG4gICAgICAgIG5TUUw6IGV4cG9ydHMublNRTCxcclxuICAgICAgICBOYW5vU1FMSW5zdGFuY2U6IE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgfTtcclxufVxyXG4iLCJleHBvcnRzLmYgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIExJQlJBUlkgPSByZXF1aXJlKCcuL19saWJyYXJ5Jyk7XG52YXIgd2tzRXh0ID0gcmVxdWlyZSgnLi9fd2tzLWV4dCcpO1xudmFyIGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgdmFyICRTeW1ib2wgPSBjb3JlLlN5bWJvbCB8fCAoY29yZS5TeW1ib2wgPSBMSUJSQVJZID8ge30gOiBnbG9iYWwuU3ltYm9sIHx8IHt9KTtcbiAgaWYgKG5hbWUuY2hhckF0KDApICE9ICdfJyAmJiAhKG5hbWUgaW4gJFN5bWJvbCkpIGRlZmluZVByb3BlcnR5KCRTeW1ib2wsIG5hbWUsIHsgdmFsdWU6IHdrc0V4dC5mKG5hbWUpIH0pO1xufTtcbiIsImV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX3drcycpO1xuIiwidmFyIGRlZiA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmY7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCB0YWcsIHN0YXQpIHtcbiAgaWYgKGl0ICYmICFoYXMoaXQgPSBzdGF0ID8gaXQgOiBpdC5wcm90b3R5cGUsIFRBRykpIGRlZihpdCwgVEFHLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHRhZyB9KTtcbn07XG4iLCIvLyBJRSA4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgJ2NvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZidcbikuc3BsaXQoJywnKTtcbiIsIi8vIDE5LjEuMi4xNCAvIDE1LjIuMy4xNCBPYmplY3Qua2V5cyhPKVxudmFyICRrZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiBrZXlzKE8pIHtcbiAgcmV0dXJuICRrZXlzKE8sIGVudW1CdWdLZXlzKTtcbn07XG4iLCIvLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGRQcyA9IHJlcXVpcmUoJy4vX29iamVjdC1kcHMnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKTtcbnZhciBJRV9QUk9UTyA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKTtcbnZhciBFbXB0eSA9IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfTtcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblxuLy8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIGlmcmFtZSBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxudmFyIGNyZWF0ZURpY3QgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIFRocmFzaCwgd2FzdGUgYW5kIHNvZG9teTogSUUgR0MgYnVnXG4gIHZhciBpZnJhbWUgPSByZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2lmcmFtZScpO1xuICB2YXIgaSA9IGVudW1CdWdLZXlzLmxlbmd0aDtcbiAgdmFyIGx0ID0gJzwnO1xuICB2YXIgZ3QgPSAnPic7XG4gIHZhciBpZnJhbWVEb2N1bWVudDtcbiAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIHJlcXVpcmUoJy4vX2h0bWwnKS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICBpZnJhbWUuc3JjID0gJ2phdmFzY3JpcHQ6JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zY3JpcHQtdXJsXG4gIC8vIGNyZWF0ZURpY3QgPSBpZnJhbWUuY29udGVudFdpbmRvdy5PYmplY3Q7XG4gIC8vIGh0bWwucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuICBpZnJhbWVEb2N1bWVudC53cml0ZShsdCArICdzY3JpcHQnICsgZ3QgKyAnZG9jdW1lbnQuRj1PYmplY3QnICsgbHQgKyAnL3NjcmlwdCcgKyBndCk7XG4gIGlmcmFtZURvY3VtZW50LmNsb3NlKCk7XG4gIGNyZWF0ZURpY3QgPSBpZnJhbWVEb2N1bWVudC5GO1xuICB3aGlsZSAoaS0tKSBkZWxldGUgY3JlYXRlRGljdFtQUk9UT1RZUEVdW2VudW1CdWdLZXlzW2ldXTtcbiAgcmV0dXJuIGNyZWF0ZURpY3QoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbiBjcmVhdGUoTywgUHJvcGVydGllcykge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoTyAhPT0gbnVsbCkge1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBhbk9iamVjdChPKTtcbiAgICByZXN1bHQgPSBuZXcgRW1wdHkoKTtcbiAgICBFbXB0eVtQUk9UT1RZUEVdID0gbnVsbDtcbiAgICAvLyBhZGQgXCJfX3Byb3RvX19cIiBmb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mIHBvbHlmaWxsXG4gICAgcmVzdWx0W0lFX1BST1RPXSA9IE87XG4gIH0gZWxzZSByZXN1bHQgPSBjcmVhdGVEaWN0KCk7XG4gIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkUHMocmVzdWx0LCBQcm9wZXJ0aWVzKTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHt9O1xuIiwibW9kdWxlLmV4cG9ydHMgPSB0cnVlO1xuIiwiLy8gNy4xLjQgVG9JbnRlZ2VyXG52YXIgY2VpbCA9IE1hdGguY2VpbDtcbnZhciBmbG9vciA9IE1hdGguZmxvb3I7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcbn07XG4iLCIvLyA3LjEuMSBUb1ByaW1pdGl2ZShpbnB1dCBbLCBQcmVmZXJyZWRUeXBlXSlcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xuLy8gaW5zdGVhZCBvZiB0aGUgRVM2IHNwZWMgdmVyc2lvbiwgd2UgZGlkbid0IGltcGxlbWVudCBAQHRvUHJpbWl0aXZlIGNhc2Vcbi8vIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IC0gZmxhZyAtIHByZWZlcnJlZCB0eXBlIGlzIGEgc3RyaW5nXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgUykge1xuICBpZiAoIWlzT2JqZWN0KGl0KSkgcmV0dXJuIGl0O1xuICB2YXIgZm4sIHZhbDtcbiAgaWYgKFMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIGlmICh0eXBlb2YgKGZuID0gaXQudmFsdWVPZikgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsO1xuICBpZiAoIVMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbn07XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXyc7XG52YXIgc3RvcmUgPSBnbG9iYWxbU0hBUkVEXSB8fCAoZ2xvYmFsW1NIQVJFRF0gPSB7fSk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB7fSk7XG59O1xuIiwidmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCdrZXlzJyk7XG52YXIgdWlkID0gcmVxdWlyZSgnLi9fdWlkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIHNoYXJlZFtrZXldIHx8IChzaGFyZWRba2V5XSA9IHVpZChrZXkpKTtcbn07XG4iLCIvLyA3LjIuMSBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ID09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogXG4gKi9cblxuZnVuY3Rpb24gbWFrZUVtcHR5RnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGFyZztcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGFjY2VwdHMgYW5kIGRpc2NhcmRzIGlucHV0czsgaXQgaGFzIG5vIHNpZGUgZWZmZWN0cy4gVGhpcyBpc1xuICogcHJpbWFyaWx5IHVzZWZ1bCBpZGlvbWF0aWNhbGx5IGZvciBvdmVycmlkYWJsZSBmdW5jdGlvbiBlbmRwb2ludHMgd2hpY2hcbiAqIGFsd2F5cyBuZWVkIHRvIGJlIGNhbGxhYmxlLCBzaW5jZSBKUyBsYWNrcyBhIG51bGwtY2FsbCBpZGlvbSBhbGEgQ29jb2EuXG4gKi9cbnZhciBlbXB0eUZ1bmN0aW9uID0gZnVuY3Rpb24gZW1wdHlGdW5jdGlvbigpIHt9O1xuXG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zID0gbWFrZUVtcHR5RnVuY3Rpb247XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2UgPSBtYWtlRW1wdHlGdW5jdGlvbihmYWxzZSk7XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKHRydWUpO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGwgPSBtYWtlRW1wdHlGdW5jdGlvbihudWxsKTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUaGlzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zQXJndW1lbnQgPSBmdW5jdGlvbiAoYXJnKSB7XG4gIHJldHVybiBhcmc7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVtcHR5RnVuY3Rpb247IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgZW1wdHlGdW5jdGlvbiA9IHJlcXVpcmUoJy4vZW1wdHlGdW5jdGlvbicpO1xuXG4vKipcbiAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcbiAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXG4gKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cbiAqL1xuXG52YXIgd2FybmluZyA9IGVtcHR5RnVuY3Rpb247XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbiBwcmludFdhcm5pbmcoZm9ybWF0KSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgfSk7XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIC8vIC0tLSBXZWxjb21lIHRvIGRlYnVnZ2luZyBSZWFjdCAtLS1cbiAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoeCkge31cbiAgfTtcblxuICB3YXJuaW5nID0gZnVuY3Rpb24gd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCkge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdgd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICsgJ21lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG5cbiAgICBpZiAoZm9ybWF0LmluZGV4T2YoJ0ZhaWxlZCBDb21wb3NpdGUgcHJvcFR5cGU6ICcpID09PSAwKSB7XG4gICAgICByZXR1cm47IC8vIElnbm9yZSBDb21wb3NpdGVDb21wb25lbnQgcHJvcHR5cGUgY2hlY2suXG4gICAgfVxuXG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yID4gMiA/IF9sZW4yIC0gMiA6IDApLCBfa2V5MiA9IDI7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5MiAtIDJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgcHJpbnRXYXJuaW5nLmFwcGx5KHVuZGVmaW5lZCwgW2Zvcm1hdF0uY29uY2F0KGFyZ3MpKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gd2FybmluZzsiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciB2YWxpZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0KGZvcm1hdCkge307XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhbGlkYXRlRm9ybWF0ID0gZnVuY3Rpb24gdmFsaWRhdGVGb3JtYXQoZm9ybWF0KSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgdmFsaWRhdGVGb3JtYXQoZm9ybWF0KTtcblxuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHZhciBlcnJvcjtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKCdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICsgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgfSkpO1xuICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB9XG5cbiAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7IiwiJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LnByb2R1Y3Rpb24ubWluLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LmRldmVsb3BtZW50LmpzJyk7XG59XG4iLCJ2YXIgcElFID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpO1xudmFyIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIHRvUHJpbWl0aXZlID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpO1xudmFyIGdPUEQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gZ09QRCA6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKSB7XG4gIE8gPSB0b0lPYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgaWYgKElFOF9ET01fREVGSU5FKSB0cnkge1xuICAgIHJldHVybiBnT1BEKE8sIFApO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbiAgaWYgKGhhcyhPLCBQKSkgcmV0dXJuIGNyZWF0ZURlc2MoIXBJRS5mLmNhbGwoTywgUCksIE9bUF0pO1xufTtcbiIsIi8vIDE5LjEuMi43IC8gMTUuMi4zLjQgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbnZhciAka2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJyk7XG52YXIgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKS5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTtcblxuZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKSB7XG4gIHJldHVybiAka2V5cyhPLCBoaWRkZW5LZXlzKTtcbn07XG4iLCJleHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuIiwidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGl0KS5zbGljZSg4LCAtMSk7XG59O1xuIiwidmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciBhcnJheUluZGV4T2YgPSByZXF1aXJlKCcuL19hcnJheS1pbmNsdWRlcycpKGZhbHNlKTtcbnZhciBJRV9QUk9UTyA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqZWN0LCBuYW1lcykge1xuICB2YXIgTyA9IHRvSU9iamVjdChvYmplY3QpO1xuICB2YXIgaSA9IDA7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgdmFyIGtleTtcbiAgZm9yIChrZXkgaW4gTykgaWYgKGtleSAhPSBJRV9QUk9UTykgaGFzKE8sIGtleSkgJiYgcmVzdWx0LnB1c2goa2V5KTtcbiAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xuICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkgaWYgKGhhcyhPLCBrZXkgPSBuYW1lc1tpKytdKSkge1xuICAgIH5hcnJheUluZGV4T2YocmVzdWx0LCBrZXkpIHx8IHJlc3VsdC5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBMSUJSQVJZID0gcmVxdWlyZSgnLi9fbGlicmFyeScpO1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciByZWRlZmluZSA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJyk7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbnZhciAkaXRlckNyZWF0ZSA9IHJlcXVpcmUoJy4vX2l0ZXItY3JlYXRlJyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpO1xudmFyIGdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpO1xudmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyk7XG52YXIgQlVHR1kgPSAhKFtdLmtleXMgJiYgJ25leHQnIGluIFtdLmtleXMoKSk7IC8vIFNhZmFyaSBoYXMgYnVnZ3kgaXRlcmF0b3JzIHcvbyBgbmV4dGBcbnZhciBGRl9JVEVSQVRPUiA9ICdAQGl0ZXJhdG9yJztcbnZhciBLRVlTID0gJ2tleXMnO1xudmFyIFZBTFVFUyA9ICd2YWx1ZXMnO1xuXG52YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEJhc2UsIE5BTUUsIENvbnN0cnVjdG9yLCBuZXh0LCBERUZBVUxULCBJU19TRVQsIEZPUkNFRCkge1xuICAkaXRlckNyZWF0ZShDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCk7XG4gIHZhciBnZXRNZXRob2QgPSBmdW5jdGlvbiAoa2luZCkge1xuICAgIGlmICghQlVHR1kgJiYga2luZCBpbiBwcm90bykgcmV0dXJuIHByb3RvW2tpbmRdO1xuICAgIHN3aXRjaCAoa2luZCkge1xuICAgICAgY2FzZSBLRVlTOiByZXR1cm4gZnVuY3Rpb24ga2V5cygpIHsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICAgIGNhc2UgVkFMVUVTOiByZXR1cm4gZnVuY3Rpb24gdmFsdWVzKCkgeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgIH0gcmV0dXJuIGZ1bmN0aW9uIGVudHJpZXMoKSB7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gIH07XG4gIHZhciBUQUcgPSBOQU1FICsgJyBJdGVyYXRvcic7XG4gIHZhciBERUZfVkFMVUVTID0gREVGQVVMVCA9PSBWQUxVRVM7XG4gIHZhciBWQUxVRVNfQlVHID0gZmFsc2U7XG4gIHZhciBwcm90byA9IEJhc2UucHJvdG90eXBlO1xuICB2YXIgJG5hdGl2ZSA9IHByb3RvW0lURVJBVE9SXSB8fCBwcm90b1tGRl9JVEVSQVRPUl0gfHwgREVGQVVMVCAmJiBwcm90b1tERUZBVUxUXTtcbiAgdmFyICRkZWZhdWx0ID0gJG5hdGl2ZSB8fCBnZXRNZXRob2QoREVGQVVMVCk7XG4gIHZhciAkZW50cmllcyA9IERFRkFVTFQgPyAhREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKCdlbnRyaWVzJykgOiB1bmRlZmluZWQ7XG4gIHZhciAkYW55TmF0aXZlID0gTkFNRSA9PSAnQXJyYXknID8gcHJvdG8uZW50cmllcyB8fCAkbmF0aXZlIDogJG5hdGl2ZTtcbiAgdmFyIG1ldGhvZHMsIGtleSwgSXRlcmF0b3JQcm90b3R5cGU7XG4gIC8vIEZpeCBuYXRpdmVcbiAgaWYgKCRhbnlOYXRpdmUpIHtcbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKCRhbnlOYXRpdmUuY2FsbChuZXcgQmFzZSgpKSk7XG4gICAgaWYgKEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlICYmIEl0ZXJhdG9yUHJvdG90eXBlLm5leHQpIHtcbiAgICAgIC8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnNcbiAgICAgIHNldFRvU3RyaW5nVGFnKEl0ZXJhdG9yUHJvdG90eXBlLCBUQUcsIHRydWUpO1xuICAgICAgLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzXG4gICAgICBpZiAoIUxJQlJBUlkgJiYgdHlwZW9mIEl0ZXJhdG9yUHJvdG90eXBlW0lURVJBVE9SXSAhPSAnZnVuY3Rpb24nKSBoaWRlKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUiwgcmV0dXJuVGhpcyk7XG4gICAgfVxuICB9XG4gIC8vIGZpeCBBcnJheSN7dmFsdWVzLCBAQGl0ZXJhdG9yfS5uYW1lIGluIFY4IC8gRkZcbiAgaWYgKERFRl9WQUxVRVMgJiYgJG5hdGl2ZSAmJiAkbmF0aXZlLm5hbWUgIT09IFZBTFVFUykge1xuICAgIFZBTFVFU19CVUcgPSB0cnVlO1xuICAgICRkZWZhdWx0ID0gZnVuY3Rpb24gdmFsdWVzKCkgeyByZXR1cm4gJG5hdGl2ZS5jYWxsKHRoaXMpOyB9O1xuICB9XG4gIC8vIERlZmluZSBpdGVyYXRvclxuICBpZiAoKCFMSUJSQVJZIHx8IEZPUkNFRCkgJiYgKEJVR0dZIHx8IFZBTFVFU19CVUcgfHwgIXByb3RvW0lURVJBVE9SXSkpIHtcbiAgICBoaWRlKHByb3RvLCBJVEVSQVRPUiwgJGRlZmF1bHQpO1xuICB9XG4gIC8vIFBsdWcgZm9yIGxpYnJhcnlcbiAgSXRlcmF0b3JzW05BTUVdID0gJGRlZmF1bHQ7XG4gIEl0ZXJhdG9yc1tUQUddID0gcmV0dXJuVGhpcztcbiAgaWYgKERFRkFVTFQpIHtcbiAgICBtZXRob2RzID0ge1xuICAgICAgdmFsdWVzOiBERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoVkFMVUVTKSxcbiAgICAgIGtleXM6IElTX1NFVCA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKEtFWVMpLFxuICAgICAgZW50cmllczogJGVudHJpZXNcbiAgICB9O1xuICAgIGlmIChGT1JDRUQpIGZvciAoa2V5IGluIG1ldGhvZHMpIHtcbiAgICAgIGlmICghKGtleSBpbiBwcm90bykpIHJlZGVmaW5lKHByb3RvLCBrZXksIG1ldGhvZHNba2V5XSk7XG4gICAgfSBlbHNlICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKEJVR0dZIHx8IFZBTFVFU19CVUcpLCBOQU1FLCBtZXRob2RzKTtcbiAgfVxuICByZXR1cm4gbWV0aG9kcztcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9pdGVyYXRvciA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL3N5bWJvbC9pdGVyYXRvclwiKTtcblxudmFyIF9pdGVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pdGVyYXRvcik7XG5cbnZhciBfc3ltYm9sID0gcmVxdWlyZShcIi4uL2NvcmUtanMvc3ltYm9sXCIpO1xuXG52YXIgX3N5bWJvbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zeW1ib2wpO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIF9pdGVyYXRvcjIuZGVmYXVsdCA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9zeW1ib2wyLmRlZmF1bHQgJiYgb2JqICE9PSBfc3ltYm9sMi5kZWZhdWx0LnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIF90eXBlb2YoX2l0ZXJhdG9yMi5kZWZhdWx0KSA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihvYmopO1xufSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gX3N5bWJvbDIuZGVmYXVsdCAmJiBvYmogIT09IF9zeW1ib2wyLmRlZmF1bHQucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihvYmopO1xufTsiLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBkb2N1bWVudCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLmRvY3VtZW50O1xuLy8gdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCcgaW4gb2xkIElFXG52YXIgaXMgPSBpc09iamVjdChkb2N1bWVudCkgJiYgaXNPYmplY3QoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXMgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGl0KSA6IHt9O1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgJiYgIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnZGl2JyksICdhJywgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH0gfSkuYSAhPSA3O1xufSk7XG4iLCIvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbiwgdGhhdCwgbGVuZ3RoKSB7XG4gIGFGdW5jdGlvbihmbik7XG4gIGlmICh0aGF0ID09PSB1bmRlZmluZWQpIHJldHVybiBmbjtcbiAgc3dpdGNoIChsZW5ndGgpIHtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7XG4gICAgfTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYik7XG4gICAgfTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gKC8qIC4uLmFyZ3MgKi8pIHtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgfTtcbn07XG4iLCIvLyAxOS4xLjIuOSAvIDE1LjIuMy4yIE9iamVjdC5nZXRQcm90b3R5cGVPZihPKVxudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG52YXIgSUVfUFJPVE8gPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJyk7XG52YXIgT2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiAoTykge1xuICBPID0gdG9PYmplY3QoTyk7XG4gIGlmIChoYXMoTywgSUVfUFJPVE8pKSByZXR1cm4gT1tJRV9QUk9UT107XG4gIGlmICh0eXBlb2YgTy5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmIE8gaW5zdGFuY2VvZiBPLmNvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIE8uY29uc3RydWN0b3IucHJvdG90eXBlO1xuICB9IHJldHVybiBPIGluc3RhbmNlb2YgT2JqZWN0ID8gT2JqZWN0UHJvdG8gOiBudWxsO1xufTtcbiIsIi8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudClcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIE9iamVjdChkZWZpbmVkKGl0KSk7XG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG4gIHZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IHJlcXVpcmUoJy4vbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0Jyk7XG4gIHZhciBsb2dnZWRUeXBlRmFpbHVyZXMgPSB7fTtcbn1cblxuLyoqXG4gKiBBc3NlcnQgdGhhdCB0aGUgdmFsdWVzIG1hdGNoIHdpdGggdGhlIHR5cGUgc3BlY3MuXG4gKiBFcnJvciBtZXNzYWdlcyBhcmUgbWVtb3JpemVkIGFuZCB3aWxsIG9ubHkgYmUgc2hvd24gb25jZS5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gdHlwZVNwZWNzIE1hcCBvZiBuYW1lIHRvIGEgUmVhY3RQcm9wVHlwZVxuICogQHBhcmFtIHtvYmplY3R9IHZhbHVlcyBSdW50aW1lIHZhbHVlcyB0aGF0IG5lZWQgdG8gYmUgdHlwZS1jaGVja2VkXG4gKiBAcGFyYW0ge3N0cmluZ30gbG9jYXRpb24gZS5nLiBcInByb3BcIiwgXCJjb250ZXh0XCIsIFwiY2hpbGQgY29udGV4dFwiXG4gKiBAcGFyYW0ge3N0cmluZ30gY29tcG9uZW50TmFtZSBOYW1lIG9mIHRoZSBjb21wb25lbnQgZm9yIGVycm9yIG1lc3NhZ2VzLlxuICogQHBhcmFtIHs/RnVuY3Rpb259IGdldFN0YWNrIFJldHVybnMgdGhlIGNvbXBvbmVudCBzdGFjay5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNoZWNrUHJvcFR5cGVzKHR5cGVTcGVjcywgdmFsdWVzLCBsb2NhdGlvbiwgY29tcG9uZW50TmFtZSwgZ2V0U3RhY2spIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBmb3IgKHZhciB0eXBlU3BlY05hbWUgaW4gdHlwZVNwZWNzKSB7XG4gICAgICBpZiAodHlwZVNwZWNzLmhhc093blByb3BlcnR5KHR5cGVTcGVjTmFtZSkpIHtcbiAgICAgICAgdmFyIGVycm9yO1xuICAgICAgICAvLyBQcm9wIHR5cGUgdmFsaWRhdGlvbiBtYXkgdGhyb3cuIEluIGNhc2UgdGhleSBkbywgd2UgZG9uJ3Qgd2FudCB0b1xuICAgICAgICAvLyBmYWlsIHRoZSByZW5kZXIgcGhhc2Ugd2hlcmUgaXQgZGlkbid0IGZhaWwgYmVmb3JlLiBTbyB3ZSBsb2cgaXQuXG4gICAgICAgIC8vIEFmdGVyIHRoZXNlIGhhdmUgYmVlbiBjbGVhbmVkIHVwLCB3ZSdsbCBsZXQgdGhlbSB0aHJvdy5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgYW4gaW52YXJpYW50IHRoYXQgZ2V0cyBjYXVnaHQuIEl0J3MgdGhlIHNhbWVcbiAgICAgICAgICAvLyBiZWhhdmlvciBhcyB3aXRob3V0IHRoaXMgc3RhdGVtZW50IGV4Y2VwdCB3aXRoIGEgYmV0dGVyIG1lc3NhZ2UuXG4gICAgICAgICAgaW52YXJpYW50KHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSA9PT0gJ2Z1bmN0aW9uJywgJyVzOiAlcyB0eXBlIGAlc2AgaXMgaW52YWxpZDsgaXQgbXVzdCBiZSBhIGZ1bmN0aW9uLCB1c3VhbGx5IGZyb20gJyArICd0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UsIGJ1dCByZWNlaXZlZCBgJXNgLicsIGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJywgbG9jYXRpb24sIHR5cGVTcGVjTmFtZSwgdHlwZW9mIHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdKTtcbiAgICAgICAgICBlcnJvciA9IHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdKHZhbHVlcywgdHlwZVNwZWNOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgbnVsbCwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgIGVycm9yID0gZXg7XG4gICAgICAgIH1cbiAgICAgICAgd2FybmluZyghZXJyb3IgfHwgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciwgJyVzOiB0eXBlIHNwZWNpZmljYXRpb24gb2YgJXMgYCVzYCBpcyBpbnZhbGlkOyB0aGUgdHlwZSBjaGVja2VyICcgKyAnZnVuY3Rpb24gbXVzdCByZXR1cm4gYG51bGxgIG9yIGFuIGBFcnJvcmAgYnV0IHJldHVybmVkIGEgJXMuICcgKyAnWW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBwYXNzIGFuIGFyZ3VtZW50IHRvIHRoZSB0eXBlIGNoZWNrZXIgJyArICdjcmVhdG9yIChhcnJheU9mLCBpbnN0YW5jZU9mLCBvYmplY3RPZiwgb25lT2YsIG9uZU9mVHlwZSwgYW5kICcgKyAnc2hhcGUgYWxsIHJlcXVpcmUgYW4gYXJndW1lbnQpLicsIGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJywgbG9jYXRpb24sIHR5cGVTcGVjTmFtZSwgdHlwZW9mIGVycm9yKTtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgIShlcnJvci5tZXNzYWdlIGluIGxvZ2dlZFR5cGVGYWlsdXJlcykpIHtcbiAgICAgICAgICAvLyBPbmx5IG1vbml0b3IgdGhpcyBmYWlsdXJlIG9uY2UgYmVjYXVzZSB0aGVyZSB0ZW5kcyB0byBiZSBhIGxvdCBvZiB0aGVcbiAgICAgICAgICAvLyBzYW1lIGVycm9yLlxuICAgICAgICAgIGxvZ2dlZFR5cGVGYWlsdXJlc1tlcnJvci5tZXNzYWdlXSA9IHRydWU7XG5cbiAgICAgICAgICB2YXIgc3RhY2sgPSBnZXRTdGFjayA/IGdldFN0YWNrKCkgOiAnJztcblxuICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICdGYWlsZWQgJXMgdHlwZTogJXMlcycsIGxvY2F0aW9uLCBlcnJvci5tZXNzYWdlLCBzdGFjayAhPSBudWxsID8gc3RhY2sgOiAnJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjaGVja1Byb3BUeXBlcztcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGVtcHR5T2JqZWN0ID0ge307XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIE9iamVjdC5mcmVlemUoZW1wdHlPYmplY3QpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVtcHR5T2JqZWN0OyIsIi8qXG5vYmplY3QtYXNzaWduXG4oYykgU2luZHJlIFNvcmh1c1xuQGxpY2Vuc2UgTUlUXG4qL1xuXG4ndXNlIHN0cmljdCc7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xudmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIHByb3BJc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG5mdW5jdGlvbiB0b09iamVjdCh2YWwpIHtcblx0aWYgKHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHVuZGVmaW5lZCkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkJyk7XG5cdH1cblxuXHRyZXR1cm4gT2JqZWN0KHZhbCk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFVzZU5hdGl2ZSgpIHtcblx0dHJ5IHtcblx0XHRpZiAoIU9iamVjdC5hc3NpZ24pIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBEZXRlY3QgYnVnZ3kgcHJvcGVydHkgZW51bWVyYXRpb24gb3JkZXIgaW4gb2xkZXIgVjggdmVyc2lvbnMuXG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD00MTE4XG5cdFx0dmFyIHRlc3QxID0gbmV3IFN0cmluZygnYWJjJyk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldy13cmFwcGVyc1xuXHRcdHRlc3QxWzVdID0gJ2RlJztcblx0XHRpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDEpWzBdID09PSAnNScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QyID0ge307XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG5cdFx0XHR0ZXN0MlsnXycgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXSA9IGk7XG5cdFx0fVxuXHRcdHZhciBvcmRlcjIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MikubWFwKGZ1bmN0aW9uIChuKSB7XG5cdFx0XHRyZXR1cm4gdGVzdDJbbl07XG5cdFx0fSk7XG5cdFx0aWYgKG9yZGVyMi5qb2luKCcnKSAhPT0gJzAxMjM0NTY3ODknKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MyA9IHt9O1xuXHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGxldHRlcikge1xuXHRcdFx0dGVzdDNbbGV0dGVyXSA9IGxldHRlcjtcblx0XHR9KTtcblx0XHRpZiAoT2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSwgdGVzdDMpKS5qb2luKCcnKSAhPT1cblx0XHRcdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHQvLyBXZSBkb24ndCBleHBlY3QgYW55IG9mIHRoZSBhYm92ZSB0byB0aHJvdywgYnV0IGJldHRlciB0byBiZSBzYWZlLlxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNob3VsZFVzZU5hdGl2ZSgpID8gT2JqZWN0LmFzc2lnbiA6IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuXHR2YXIgZnJvbTtcblx0dmFyIHRvID0gdG9PYmplY3QodGFyZ2V0KTtcblx0dmFyIHN5bWJvbHM7XG5cblx0Zm9yICh2YXIgcyA9IDE7IHMgPCBhcmd1bWVudHMubGVuZ3RoOyBzKyspIHtcblx0XHRmcm9tID0gT2JqZWN0KGFyZ3VtZW50c1tzXSk7XG5cblx0XHRmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuXHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoZnJvbSwga2V5KSkge1xuXHRcdFx0XHR0b1trZXldID0gZnJvbVtrZXldO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcblx0XHRcdHN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZnJvbSk7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKHByb3BJc0VudW1lcmFibGUuY2FsbChmcm9tLCBzeW1ib2xzW2ldKSkge1xuXHRcdFx0XHRcdHRvW3N5bWJvbHNbaV1dID0gZnJvbVtzeW1ib2xzW2ldXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0bztcbn07XG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcclxuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxyXG4gICAgICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciB1dGlsaXRpZXNfMSA9IHJlcXVpcmUoXCIuL3V0aWxpdGllc1wiKTtcclxuLy8gdWdsaWZ5SlMgd29ya2Fyb3VuZFxyXG52YXIgc3RycyA9IFtcIl9oaXN0XCIsIFwiX2hpc3RfcHRyXCIsIFwiX2lkXCJdO1xyXG4vKipcclxuICogTmV3IEhpc3RvcnkgUGx1Z2luXHJcbiAqIFByb3ZpZGVzIG11bHRpcGxlIGhpc3RvcnkgbW9kZXMsIGluY2x1ZGluZyBhIHBlciByb3cgbW9kZSAoZm9yIHJvdyByZXZpc2lvbnMpLCBhIGRhdGFiYXNlIHdpZGUgbW9kZSBhbmQgYSB0YWJsZSB3aWRlIG1vZGUuXHJcbiAqIFlvdSBjYW4gZWl0aGVyIHNldCBhIHNpbmdsZSBhcmd1bWVudCB0byB0ZWxsIHRoZSBzeXN0ZW0gdG8gdXNlIHJvdywgdGFibGUsIG9yIGRhdGFiYXNlIG1vZGUgT1IgeW91IGNhbiBwYXNzIGluIGFuIG9iamVjdC5cclxuICogVGhlIG9iamVjdCBzaG91bGQgY29udGFpbiBhIGtleSB3aXRoIGFsbCB0YWJsZXMgd2l0aCBoaXN0b3J5LCBlYWNoIHZhbHVlIHNob3VsZCBiZSBcInJvd1wiIG9yIFwidGFibGVcIiwgZGljdGF0aW5nIHRoZSB0eXBlIG9mIGhpc3RvcnlcclxuICogZm9yIHRoYXQgdGFibGUuXHJcbiAqXHJcbiAqIEBleHBvcnRcclxuICogQGNsYXNzIF9OYW5vU1FMSGlzdG9yeVBsdWdpblxyXG4gKiBAaW1wbGVtZW50cyB7TmFub1NRTFBsdWdpbn1cclxuICovXHJcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxyXG52YXIgX05hbm9TUUxIaXN0b3J5UGx1Z2luID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gX05hbm9TUUxIaXN0b3J5UGx1Z2luKGhpc3RvcnlNb2RlQXJncykge1xyXG4gICAgICAgIHRoaXMuaGlzdG9yeU1vZGVBcmdzID0gaGlzdG9yeU1vZGVBcmdzO1xyXG4gICAgICAgIHRoaXMuX3RhYmxlUGtLZXlzID0ge307XHJcbiAgICAgICAgdGhpcy5fdGFibGVQa1R5cGVzID0ge307XHJcbiAgICAgICAgdGhpcy5fdGFibGVLZXlzID0ge307XHJcbiAgICB9XHJcbiAgICBfTmFub1NRTEhpc3RvcnlQbHVnaW4ucHJvdG90eXBlLndpbGxDb25uZWN0ID0gZnVuY3Rpb24gKGNvbm5lY3RBcmdzLCBuZXh0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLnBhcmVudCA9IGNvbm5lY3RBcmdzLnBhcmVudDtcclxuICAgICAgICB2YXIgaGlzdG9yeVRhYmxlcyA9IHt9O1xyXG4gICAgICAgIC8vIGhhbmRsZSB0YWJsZXMgdG8gc3RvcmUgcm93IGRhdGEgaGlzdG9yeVxyXG4gICAgICAgIE9iamVjdC5rZXlzKGNvbm5lY3RBcmdzLm1vZGVscykuZm9yRWFjaChmdW5jdGlvbiAodGFibGUpIHtcclxuICAgICAgICAgICAgLy8gb25seSBhZGQgaGlzdG9yeSBmb3IgcHVibGljIHRhYmxlc1xyXG4gICAgICAgICAgICBpZiAodGFibGUuaW5kZXhPZihcIl9cIikgIT09IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBoaXN0TW9kZWwgPSB1dGlsaXRpZXNfMS5fYXNzaWduKGNvbm5lY3RBcmdzLm1vZGVsc1t0YWJsZV0pLm1hcChmdW5jdGlvbiAobW9kZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZWwucHJvcHMgJiYgdXRpbGl0aWVzXzEuaW50ZXJzZWN0KFtcInBrXCIsIFwicGsoKVwiXSwgbW9kZWwucHJvcHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl90YWJsZVBrS2V5c1t0YWJsZV0gPSBtb2RlbC5rZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl90YWJsZVBrVHlwZXNbdGFibGVdID0gbW9kZWwudHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3RhYmxlS2V5c1t0YWJsZV0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG1vZGVsLnByb3BzOyAvLyByZW1vdmUgc2Vjb25kYXJ5IGluZGV4ZXMgYW5kIGV2ZXJ5dGhpbmcgZWxzZSBmYW5jeVxyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBtb2RlbC5kZWZhdWx0OyAvLyByZW1vdmUgZGVmYXVsdCBjb2x1bW4gdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9kZWw7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vIGFkZCBuZXcgcHJpbWFyeSBrZXkgdXNlZCBieSB0aGUgaGlzdG9yeSBzeXN0ZW1cclxuICAgICAgICAgICAgICAgIGhpc3RNb2RlbC51bnNoaWZ0KHsga2V5OiBcIl9pZFwiLCB0eXBlOiBcInRpbWVJZG1zXCIsIHByb3BzOiBbXCJwaygpXCJdIH0pO1xyXG4gICAgICAgICAgICAgICAgLy8gSG9sZHMgb2xkIG9yIG5ldyByb3cgZGF0YVxyXG4gICAgICAgICAgICAgICAgaGlzdG9yeVRhYmxlc1tcIl9cIiArIHRhYmxlICsgXCJfX2hpc3Rfcm93c1wiXSA9IGhpc3RNb2RlbDtcclxuICAgICAgICAgICAgICAgIC8vIGhvbGRzIHdoZXJlIGluIHRoZSByb3cgaGlzdG9yeSB3ZSBhcmVcclxuICAgICAgICAgICAgICAgIGhpc3RvcnlUYWJsZXNbXCJfXCIgKyB0YWJsZSArIFwiX19oaXN0X2lkeFwiXSA9IFtcclxuICAgICAgICAgICAgICAgICAgICB7IGtleTogXCJpZFwiLCB0eXBlOiBfdGhpcy5fdGFibGVQa1R5cGVzW3RhYmxlXSwgcHJvcHM6IFtcInBrKClcIl0gfSxcclxuICAgICAgICAgICAgICAgICAgICB7IGtleTogXCJoaXN0Um93c1wiLCB0eXBlOiBcInRpbWVJZG1zW11cIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsga2V5OiBcImhpc3RQdHJcIiwgdHlwZTogXCJudW1iZXJcIiB9IC8vIHdoZXJlIGluIHRoZSBhYm92ZSBhcnJheSB3ZSBhcmUuXHJcbiAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGlzTm90U3RyaW5nID0gdHlwZW9mIHRoaXMuaGlzdG9yeU1vZGVBcmdzICE9PSBcInN0cmluZ1wiO1xyXG4gICAgICAgIHZhciBoaXN0b3J5VGFibGUgPSBbXHJcbiAgICAgICAgICAgIHsga2V5OiBcImlkXCIsIHR5cGU6IFwidGltZUlkbXNcIiwgcHJvcHM6IFtcInBrKClcIl0gfSxcclxuICAgICAgICAgICAgeyBrZXk6IFwidGFibGVcIiwgdHlwZTogXCJzdHJpbmdcIiB9LFxyXG4gICAgICAgICAgICB7IGtleTogXCJrZXlzXCIsIHR5cGU6IFwiYW55W11cIiB9XHJcbiAgICAgICAgXTtcclxuICAgICAgICB2YXIgaGlzdG9yeVRhYmxlUG9pbnRlciA9IFtcclxuICAgICAgICAgICAgeyBrZXk6IFwiaWRcIiwgdHlwZTogXCJ0aW1lSWRtc1wiLCBwcm9wczogW1wicGsoKVwiXSB9LFxyXG4gICAgICAgICAgICB7IGtleTogXCJwdHJcIiwgdHlwZTogXCJpbnRcIiB9XHJcbiAgICAgICAgXTtcclxuICAgICAgICAvLyBkYXRhYmFzZS9saW5lYXIgbW9kZS4gYWxsIHVuZG8vcmVkbyBpcyB0cmFja2VkIGFjcm9zcyB0aGUgZW50aXJlIGRhdGFiYXNlLiAgRGVmYXVsdCBiZWhhdmlvclxyXG4gICAgICAgIGlmICh0aGlzLmhpc3RvcnlNb2RlQXJncyA9PT0gXCJkYXRhYmFzZVwiIHx8ICF0aGlzLmhpc3RvcnlNb2RlQXJncykge1xyXG4gICAgICAgICAgICBoaXN0b3J5VGFibGVzW3N0cnNbMF1dID0gaGlzdG9yeVRhYmxlO1xyXG4gICAgICAgICAgICBoaXN0b3J5VGFibGVzW3N0cnNbMV1dID0gaGlzdG9yeVRhYmxlUG9pbnRlcjtcclxuICAgICAgICAgICAgLy8gdGFibGUvcm93IG1vZGUsIHVuZG8vcmVkbyBpcyB0cmFja2VkIGVpdGhlciBwZXIgcm93IE9SIHBlciB0YWJsZVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmhpc3RvcnlNb2RlQXJncyAhPT0gXCJkYXRhYmFzZVwiIHx8IGlzTm90U3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlzdG9yeU1vZGVzID0ge307XHJcbiAgICAgICAgICAgIGlmICghaXNOb3RTdHJpbmcpIHsgLy8gYXBwbHkgdGhlIGdsb2JhbCBhcmcgKFwicm93XCIgb3IgXCJ0YWJsZVwiKSB0byBldmVyeSB0YWJsZVxyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5fdGFibGVQa0tleXMpLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGlzdG9yeU1vZGVzW3RhYmxlXSA9IF90aGlzLmhpc3RvcnlNb2RlQXJncztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgeyAvLyBvYmplY3Qgb2YgdGFibGVzIHdhcyBwYXNzZWQgaW4sIHRoZSB1c2VyIHNwZWNpZmllZCBhIGJlaGF2aW9yIGZvciBlYWNoIHRhYmxlLiAgSnVzdCBjb3B5IHRoZWlyIGNvbmZpZyBvYmplY3QuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpc3RvcnlNb2RlcyA9IHV0aWxpdGllc18xLl9hc3NpZ24odGhpcy5oaXN0b3J5TW9kZUFyZ3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNyZWF0ZSB0cmFja2luZyByb3dzIG5lZWRlZCBmb3IgdGFibGUgd2lkZSBoaXN0b3J5XHJcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuaGlzdG9yeU1vZGVzKS5mb3JFYWNoKGZ1bmN0aW9uICh0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmhpc3RvcnlNb2Rlc1t0YWJsZV0gPT09IFwidGFibGVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGhpc3RvcnlUYWJsZXNbXCJfXCIgKyB0YWJsZSArIFwiX19oaXN0XCJdID0gaGlzdG9yeVRhYmxlO1xyXG4gICAgICAgICAgICAgICAgICAgIGhpc3RvcnlUYWJsZXNbXCJfXCIgKyB0YWJsZSArIFwiX19oaXN0X3B0clwiXSA9IGhpc3RvcnlUYWJsZVBvaW50ZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25uZWN0QXJncy5tb2RlbHMgPSBfX2Fzc2lnbih7fSwgY29ubmVjdEFyZ3MubW9kZWxzLCBoaXN0b3J5VGFibGVzKTtcclxuICAgICAgICBuZXh0KGNvbm5lY3RBcmdzKTtcclxuICAgIH07XHJcbiAgICBfTmFub1NRTEhpc3RvcnlQbHVnaW4ucHJvdG90eXBlLl9oaXN0VGFibGUgPSBmdW5jdGlvbiAodGFibGUpIHtcclxuICAgICAgICBpZiAoIXRhYmxlKVxyXG4gICAgICAgICAgICByZXR1cm4gXCJfX251bGxcIjtcclxuICAgICAgICByZXR1cm4gdGhpcy5oaXN0b3J5TW9kZXMgPyB0aGlzLmhpc3RvcnlNb2Rlc1t0YWJsZV0gPT09IFwidGFibGVcIiA/IFwiX1wiICsgdGFibGUgKyBcIl9faGlzdFwiIDogbnVsbCA6IFwiX2hpc3RcIjtcclxuICAgIH07XHJcbiAgICBfTmFub1NRTEhpc3RvcnlQbHVnaW4ucHJvdG90eXBlLl9nZW5lcmF0ZUhpc3RvcnlQb2ludGVycyA9IGZ1bmN0aW9uICh0YWJsZSwgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBoaXN0VGFibGUgPSB0aGlzLl9oaXN0VGFibGUodGFibGUpO1xyXG4gICAgICAgIGlmICghaGlzdFRhYmxlKSB7IC8vIHJvdyBtb2RlXHJcbiAgICAgICAgICAgIGNvbXBsZXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmVudC5xdWVyeShcInNlbGVjdFwiKS5tYW51YWxFeGVjKHtcclxuICAgICAgICAgICAgICAgIHRhYmxlOiBoaXN0VGFibGUgKyBcIl9wdHJcIlxyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocm93cy5sZW5ndGgpIHsgLy8gYWxyZWFkeSBoYXMgYSBwb2ludGVyXHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBuZWVkcyBvbmVcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQucXVlcnkoXCJ1cHNlcnRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogdXRpbGl0aWVzXzEudGltZWlkKHRydWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZTogdGFibGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHB0cjogMCAvLyBlbXB0eSB0YWJsZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLm1hbnVhbEV4ZWMoeyB0YWJsZTogaGlzdFRhYmxlICsgXCJfcHRyXCIgfSkudGhlbihjb21wbGV0ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBfTmFub1NRTEhpc3RvcnlQbHVnaW4ucHJvdG90eXBlLmRpZENvbm5lY3QgPSBmdW5jdGlvbiAoY29ubmVjdEFyZ3MsIG5leHQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBmaW5pc2hTZXR1cCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBrbm93IHdoYXQgZXhpc3RpbmcgcHJpbWFyeSBrZXlzIGFyZSBpbiBlYWNoIHRhYmxlIGFuZCBtYWtlIHN1cmUgcG9pbnRlcnMgYXJlIHNldHVwIHdoZXJlIG5lZWRlZC5cclxuICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChPYmplY3Qua2V5cyhfdGhpcy5fdGFibGVLZXlzKSwgZnVuY3Rpb24gKHRhYmxlLCBrLCB0YWJsZURvbmUpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnBhcmVudC5leHRlbmQoXCJpZHhcIiwgXCJfXCIgKyB0YWJsZSArIFwiX19oaXN0X2lkeFwiKS50aGVuKGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3RhYmxlS2V5c1t0YWJsZV1baXRlbV0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5oaXN0b3J5TW9kZXMpIHsgLy8gdGFibGUgLyByb3cgbW9kZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZ2VuZXJhdGVIaXN0b3J5UG9pbnRlcnModGFibGUsIHRhYmxlRG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBnbG9iYWwgbW9kZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZURvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSkudGhlbihuZXh0KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICghdGhpcy5oaXN0b3J5TW9kZXMpIHsgLy8gZ2xvYmFsIG1vZGVcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnQucXVlcnkoXCJzZWxlY3RcIikubWFudWFsRXhlYyh7XHJcbiAgICAgICAgICAgICAgICB0YWJsZTogXCJfaGlzdF9wdHJcIlxyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hTZXR1cCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucGFyZW50LnF1ZXJ5KFwidXBzZXJ0XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHV0aWxpdGllc18xLnRpbWVpZCh0cnVlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGU6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHB0cjogMFxyXG4gICAgICAgICAgICAgICAgICAgIH0pLm1hbnVhbEV4ZWMoeyB0YWJsZTogXCJfaGlzdF9wdHJcIiB9KS50aGVuKGZpbmlzaFNldHVwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmaW5pc2hTZXR1cCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIElmIGFueSBvZiB0aGUgZ2l2ZW4gcm93IHBvaW50ZXJzIGFyZSBhYm92ZSB6ZXJvLCByZW1vdmUgdGhlIHJvd3MgaW4gXCJmb3J3YXJkXCIgaGlzdG9yeS5cclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge2FueVtdfSByb3dQS3NcclxuICAgICAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gY29tcGxldGVcclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTEhpc3RvcnlQbHVnaW5cclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxIaXN0b3J5UGx1Z2luLnByb3RvdHlwZS5fcHVyZ2VSb3dIaXN0b3J5ID0gZnVuY3Rpb24gKHRhYmxlLCByb3dQS3MsIGNvbXBsZXRlLCBjbGVhckFsbCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHJvd0hpc3RUYWJsZSA9IFwiX1wiICsgdGFibGUgKyBcIl9faGlzdF9yb3dzXCI7XHJcbiAgICAgICAgdmFyIHJvd0lEWFRhYmxlID0gXCJfXCIgKyB0YWJsZSArIFwiX19oaXN0X2lkeFwiO1xyXG4gICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwocm93UEtzLCBmdW5jdGlvbiAocGssIGwsIHJvd0RvbmUpIHtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50LnF1ZXJ5KFwic2VsZWN0XCIpLndoZXJlKFtcImlkXCIsIFwiPVwiLCBwa10pLm1hbnVhbEV4ZWMoeyB0YWJsZTogcm93SURYVGFibGUgfSkudGhlbihmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyb3dzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd0RvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgaGlzdFJvd0lEWCA9IE9iamVjdC5pc0Zyb3plbihyb3dzWzBdKSA/IHV0aWxpdGllc18xLl9hc3NpZ24ocm93c1swXSkgOiByb3dzWzBdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlbElEcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNsZWFyQWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsSURzID0gZGVsSURzLmNvbmNhdChoaXN0Um93SURYLmhpc3RSb3dzLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gciAhPT0gLTE7IH0pKTtcclxuICAgICAgICAgICAgICAgICAgICBoaXN0Um93SURYLmhpc3RQdHIgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGhpc3RSb3dJRFguaGlzdFJvd3MgPSBbXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChoaXN0Um93SURYLmhpc3RQdHItLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxJRHMucHVzaChoaXN0Um93SURYLmhpc3RSb3dzLnNoaWZ0KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBoaXN0Um93SURYLmhpc3RQdHIgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFkZWxJRHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93RG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF90aGlzLnBhcmVudC5xdWVyeShcInVwc2VydFwiLCBoaXN0Um93SURYKS5jb21tZW50KFwiSGlzdG9yeSBQdXJnZVwiKS53aGVyZShbXCJpZFwiLCBcIj1cIiwgcGtdKS5tYW51YWxFeGVjKHsgdGFibGU6IHJvd0lEWFRhYmxlIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnBhcmVudC5xdWVyeShcImRlbGV0ZVwiKS5jb21tZW50KFwiSGlzdG9yeSBQdXJnZVwiKS53aGVyZShbXCJfaWRcIiwgXCJJTlwiLCBkZWxJRHNdKS5tYW51YWxFeGVjKHsgdGFibGU6IHJvd0hpc3RUYWJsZSB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsZWFyQWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQucXVlcnkoXCJzZWxlY3RcIikud2hlcmUoW190aGlzLl90YWJsZVBrS2V5c1t0YWJsZV0sIFwiPVwiLCBwa10pLm1hbnVhbEV4ZWMoeyB0YWJsZTogdGFibGUgfSkudGhlbihmdW5jdGlvbiAoZXhpc3RpbmdSb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdW5zaGlmdFNpbmdsZVJvdyh0YWJsZSwgW1wiY2hhbmdlXCJdLCBwaywgZXhpc3RpbmdSb3dbMF0sIGZhbHNlLCByb3dEb25lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93RG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSkudGhlbihjb21wbGV0ZSk7XHJcbiAgICB9O1xyXG4gICAgX05hbm9TUUxIaXN0b3J5UGx1Z2luLnByb3RvdHlwZS5fcHVyZ2VUYWJsZUhpc3RvcnkgPSBmdW5jdGlvbiAodGFibGUsIGNvbXBsZXRlLCBjbGVhckFsbCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5wYXJlbnQucXVlcnkoXCJzZWxlY3RcIikubWFudWFsRXhlYyh7IHRhYmxlOiB0YWJsZSArIFwiX3B0clwiIH0pLnRoZW4oZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgdmFyIHJvdyA9IE9iamVjdC5pc0Zyb3plbihyb3dzWzBdKSA/IHV0aWxpdGllc18xLl9hc3NpZ24ocm93c1swXSkgOiByb3dzWzBdO1xyXG4gICAgICAgICAgICBpZiAoY2xlYXJBbGwgfHwgcm93LnB0ciA+IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBoaXN0USA9IF90aGlzLnBhcmVudC5xdWVyeShcInNlbGVjdFwiKTtcclxuICAgICAgICAgICAgICAgIGlmICghY2xlYXJBbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBoaXN0US5yYW5nZShyb3cucHRyICogLTEsIDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaGlzdFEubWFudWFsRXhlYyh7IHRhYmxlOiB0YWJsZSB9KS50aGVuKGZ1bmN0aW9uIChoaXN0VGFibGVSb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoaXN0VGFibGVSb3dzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwdXJnZVJvd3MgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBoaXN0VGFibGVSb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXB1cmdlUm93c1tyb3cudGFibGVdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVyZ2VSb3dzW3Jvdy50YWJsZV0gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHVyZ2VSb3dzW3Jvdy50YWJsZV0gPSBwdXJnZVJvd3Nbcm93LnRhYmxlXS5jb25jYXQocm93LmtleXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwoT2JqZWN0LmtleXMocHVyZ2VSb3dzKSwgZnVuY3Rpb24gKHRhLCBqLCB0YWJsZURvbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3B1cmdlUm93SGlzdG9yeSh0YSwgcHVyZ2VSb3dzW3RhXSwgdGFibGVEb25lLCBjbGVhckFsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBhcmVudC5xdWVyeShcImRlbGV0ZVwiKS5jb21tZW50KFwiSGlzdG9yeSBQdXJnZVwiKS53aGVyZShbXCJpZFwiLCBcIklOXCIsIGhpc3RUYWJsZVJvd3MubWFwKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmlkOyB9KV0pLm1hbnVhbEV4ZWMoeyB0YWJsZTogdGFibGUgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3cucHRyID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBhcmVudC5xdWVyeShcInVwc2VydFwiLCByb3cpLmNvbW1lbnQoXCJIaXN0b3J5IFB1cmdlXCIpLndoZXJlKFtcImlkXCIsIFwiPVwiLCByb3cuaWRdKS5tYW51YWxFeGVjKHsgdGFibGU6IHRhYmxlICsgXCJfcHRyXCIgfSkudGhlbihjb21wbGV0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBJZiBhbnkgcm93IHBvaW50ZXJzIGFyZSBhYm92ZSB6ZXJvLCB3ZSBtdXN0IGZpcnN0IHJlbW92ZSB0aGUgcmV2aXNpb25zIGFoZWFkIG9mIHRoZSBleGlzdGluZyBvbmUgYmVmb3JlIGFkZGluZyBhIG5ldyByZXZpc2lvbi5cclxuICAgICAqIFRoaXMgcHJldmVudHMgdGhlIGhpc3RvcnkgZnJvbSBiZWNvbW1pbmcgYnJva2VuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHthbnlbXX0gcm93UEtzXHJcbiAgICAgKiBAcGFyYW0geygpID0+IHZvaWR9IGNvbXBsZXRlXHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxIaXN0b3J5UGx1Z2luXHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMSGlzdG9yeVBsdWdpbi5wcm90b3R5cGUuX3B1cmdlUGFyZW50SGlzdG9yeSA9IGZ1bmN0aW9uICh0YWJsZSwgcm93UEtzLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5oaXN0b3J5TW9kZXMpIHsgLy8gZ2xvYmFsIG1vZGVcclxuICAgICAgICAgICAgdGhpcy5fcHVyZ2VUYWJsZUhpc3RvcnkoXCJfaGlzdFwiLCBjb21wbGV0ZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGhpc3RUYWJsZSA9IHRoaXMuX2hpc3RUYWJsZSh0YWJsZSk7XHJcbiAgICAgICAgaWYgKCFoaXN0VGFibGUpIHsgLy8gcm93IG1vZGVcclxuICAgICAgICAgICAgdGhpcy5fcHVyZ2VSb3dIaXN0b3J5KHRhYmxlLCByb3dQS3MsIGNvbXBsZXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7IC8vIHRhYmxlIG1vZGVcclxuICAgICAgICAgICAgdGhpcy5fcHVyZ2VUYWJsZUhpc3RvcnkoaGlzdFRhYmxlLCBjb21wbGV0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIF9OYW5vU1FMSGlzdG9yeVBsdWdpbi5wcm90b3R5cGUuX3B1cmdlQWxsSGlzdG9yeSA9IGZ1bmN0aW9uICh0YWJsZSwgcm93UEssIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmhpc3RvcnlNb2RlcykgeyAvLyBnbG9iYWwgbW9kZVxyXG4gICAgICAgICAgICB0aGlzLl9wdXJnZVRhYmxlSGlzdG9yeShcIl9oaXN0XCIsIGNvbXBsZXRlLCB0cnVlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaGlzdFRhYmxlID0gdGhpcy5faGlzdFRhYmxlKHRhYmxlKTtcclxuICAgICAgICBpZiAoIWhpc3RUYWJsZSkgeyAvLyByb3cgbW9kZVxyXG4gICAgICAgICAgICB0aGlzLl9wdXJnZVJvd0hpc3RvcnkodGFibGUsIFtyb3dQS10sIGNvbXBsZXRlLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7IC8vIHRhYmxlIG1vZGVcclxuICAgICAgICAgICAgdGhpcy5fcHVyZ2VUYWJsZUhpc3RvcnkoaGlzdFRhYmxlLCBjb21wbGV0ZSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIF9OYW5vU1FMSGlzdG9yeVBsdWdpbi5wcm90b3R5cGUuZGlkRXhlYyA9IGZ1bmN0aW9uIChldmVudCwgbmV4dCkge1xyXG4gICAgICAgIC8vIG9ubHkgZG8gaGlzdG9yeSBvbiBwdWJsaWMgdGFibGVzIChvbmVzIHRoYXQgZG9udCBiZWdpbiB3aXRoIF8pXHJcbiAgICAgICAgLy8gYWxzbyBvbmx5IGRvIGhpc3RvcnkgaWYgdGhlcmUgd2FzIGEgY2hhbmdlIGluIHRoZSBkYXRhYmFzZVxyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKGV2ZW50LnRhYmxlICYmIGV2ZW50LnRhYmxlLmluZGV4T2YoXCJfXCIpICE9PSAwICYmIGV2ZW50LnR5cGVzLmluZGV4T2YoXCJjaGFuZ2VcIikgPiAtMSAmJiBldmVudC5xdWVyeS5jb21tZW50cy5pbmRleE9mKFwiSGlzdG9yeSBXcml0ZVwiKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgdGhpcy5fcHVyZ2VQYXJlbnRIaXN0b3J5KGV2ZW50LnRhYmxlLCBldmVudC5hZmZlY3RlZFJvd1BLUywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChldmVudC5hZmZlY3RlZFJvd3MsIGZ1bmN0aW9uIChyb3csIGssIHJvd0RvbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGsgPSByb3dbX3RoaXMuX3RhYmxlUGtLZXlzW2V2ZW50LnRhYmxlXV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl90YWJsZUtleXNbZXZlbnQudGFibGVdW3BrXSkgeyAvLyBleGlzdGluZyByb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3Vuc2hpZnRTaW5nbGVSb3coZXZlbnQudGFibGUsIGV2ZW50LnR5cGVzLCBwaywgcm93LCBmYWxzZSwgZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dEb25lKHBrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBuZXcgcm93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl90YWJsZUtleXNbZXZlbnQudGFibGVdW3BrXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl91bnNoaWZ0U2luZ2xlUm93KGV2ZW50LnRhYmxlLCBldmVudC50eXBlcywgcGssIHJvdywgdHJ1ZSwgZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQucXVlcnkoXCJ1cHNlcnRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBwayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXN0Um93czogW2lkLCAtMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdFB0cjogMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkubWFudWFsRXhlYyh7IHRhYmxlOiBcIl9cIiArIGV2ZW50LnRhYmxlICsgXCJfX2hpc3RfaWR4XCIgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93RG9uZShwayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocm93SURzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3Vuc2hpZnRQYXJlbnQoZXZlbnQsIHJvd0lEcywgbmV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBuZXh0KGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgX05hbm9TUUxIaXN0b3J5UGx1Z2luLnByb3RvdHlwZS5fdW5zaGlmdFBhcmVudCA9IGZ1bmN0aW9uIChldmVudCwgaGlzdFJvd0lEcywgY29tcGxldGUpIHtcclxuICAgICAgICAvLyBudWxsIGlmIGluIHJvdyBtb2RlLCBvdGhlcndpc2UgcHJvdmlkZXMgdGhlIGhpc3RvcnkgdGFibGVcclxuICAgICAgICB2YXIgaGlzdFRhYmxlID0gdGhpcy5faGlzdFRhYmxlKGV2ZW50LnRhYmxlKTtcclxuICAgICAgICBpZiAoIWhpc3RUYWJsZSkge1xyXG4gICAgICAgICAgICBjb21wbGV0ZShldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmVudC5xdWVyeShcInVwc2VydFwiLCB7XHJcbiAgICAgICAgICAgICAgICBpZDogdXRpbGl0aWVzXzEudGltZWlkKHRydWUpLFxyXG4gICAgICAgICAgICAgICAgdGFibGU6IGV2ZW50LnRhYmxlLFxyXG4gICAgICAgICAgICAgICAga2V5czogaGlzdFJvd0lEc1xyXG4gICAgICAgICAgICB9KS5tYW51YWxFeGVjKHsgdGFibGU6IGhpc3RUYWJsZSB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKGV2ZW50KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIF9OYW5vU1FMSGlzdG9yeVBsdWdpbi5wcm90b3R5cGUuX3Vuc2hpZnRTaW5nbGVSb3cgPSBmdW5jdGlvbiAodGFibGUsIGV2ZW50VHlwZXMsIHJvd1BLLCByb3csIHNraXBJRFgsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgcm93SGlzdFRhYmxlID0gXCJfXCIgKyB0YWJsZSArIFwiX19oaXN0X2lkeFwiO1xyXG4gICAgICAgIHZhciBpZCA9IHV0aWxpdGllc18xLnRpbWVpZCh0cnVlKTtcclxuICAgICAgICB2YXIgYWRqdXN0SGlzdG9yeUlEWCA9IGZ1bmN0aW9uIChhcHBlbmRJRCkge1xyXG4gICAgICAgICAgICAvLyBhZGp1c3QgdGhlIGhpc3RvcnkgcG9pbnRlciB0YWJsZSB3aXRoIHRoZSBuZXcgcm93IGlkXHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudC5xdWVyeShcInNlbGVjdFwiKS53aGVyZShbXCJpZFwiLCBcIj1cIiwgcm93UEtdKS5tYW51YWxFeGVjKHsgdGFibGU6IHJvd0hpc3RUYWJsZSB9KS50aGVuKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGlzdFJvd0lEWCA9IE9iamVjdC5pc0Zyb3plbihyb3dzWzBdKSA/IHV0aWxpdGllc18xLl9hc3NpZ24ocm93c1swXSkgOiByb3dzWzBdO1xyXG4gICAgICAgICAgICAgICAgaGlzdFJvd0lEWC5oaXN0Um93cy51bnNoaWZ0KGFwcGVuZElEKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnBhcmVudC5xdWVyeShcInVwc2VydFwiLCBoaXN0Um93SURYKS53aGVyZShbXCJpZFwiLCBcIj1cIiwgcm93UEtdKS5tYW51YWxFeGVjKHsgdGFibGU6IHJvd0hpc3RUYWJsZSB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZShhcHBlbmRJRCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoZXZlbnRUeXBlcy5pbmRleE9mKFwiZGVsZXRlXCIpID4gLTEgfHwgZXZlbnRUeXBlcy5pbmRleE9mKFwiZHJvcFwiKSA+IC0xKSB7XHJcbiAgICAgICAgICAgIC8vIGFkZCBkZWxldGVkIHJlY29yZCB0byBoaXN0b3J5IHRhYmxlXHJcbiAgICAgICAgICAgIGFkanVzdEhpc3RvcnlJRFgoLTEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gYWRkIHJvdyB0byBoaXN0b3J5IHRhYmxlXHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50LnF1ZXJ5KFwidXBzZXJ0XCIsIF9fYXNzaWduKHsgX2lkOiBpZCB9LCByb3cpKS5tYW51YWxFeGVjKHsgdGFibGU6IFwiX1wiICsgdGFibGUgKyBcIl9faGlzdF9yb3dzXCIgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2tpcElEWCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKGlkKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBhZGp1c3RIaXN0b3J5SURYKGlkKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIF9OYW5vU1FMSGlzdG9yeVBsdWdpbi5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24gKG5leHQsIGFyZ3MsIHJlc3VsdCkge1xyXG4gICAgICAgIGlmIChhcmdzWzBdID09PSBcImhpc3RcIikge1xyXG4gICAgICAgICAgICB2YXIgcXVlcnkgPSBhcmdzWzFdO1xyXG4gICAgICAgICAgICB2YXIgdGFibGUgPSBhcmdzWzJdO1xyXG4gICAgICAgICAgICB2YXIgcm93UEsgPSBhcmdzWzNdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHF1ZXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBtb3ZlIGRhdGFiYXNlL3RhYmxlL3JvdyBmb3J3YXJkIG9yIGJhY2t3YXJkIGluIGhpc3RvcnlcclxuICAgICAgICAgICAgICAgIGNhc2UgXCI8XCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiPlwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NoaWZ0SGlzdG9yeShxdWVyeSwgdGFibGUsIHJvd1BLLCBmdW5jdGlvbiAoZGlkQW55dGhpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dChhcmdzLCBbZGlkQW55dGhpbmddKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIC8vIHF1ZXJ5IGhpc3Rvcnkgc3RhdGUgb2YgZGF0YWJhc2UvdGFibGUvcm93XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiP1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3F1ZXJ5SGlzdG9yeSh0YWJsZSwgcm93UEssIGZ1bmN0aW9uIChxUmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoYXJncywgcVJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAvLyBnZXQgYWxsIHJldmlzaW9ucyBvZiBhIGdpdmVuIHJvd1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInJldlwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dldFJldmlzaW9uSGlzdG9yeSh0YWJsZSwgcm93UEssIGZ1bmN0aW9uIChxUmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoYXJncywgcVJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAvLyBjbGVhciBoaXN0b3J5IG9mIHRoZSBkYXRhYmFzZS90YWJsZS9yb3dcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJjbGVhclwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3B1cmdlQWxsSGlzdG9yeSh0YWJsZSwgcm93UEssIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dChhcmdzLCByZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBuZXh0KGFyZ3MsIHJlc3VsdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8vIG9ubHkgd29ya3Mgd2hlbiBnaXZlbiBhIHNwZWNpZmljIHJvd1xyXG4gICAgX05hbm9TUUxIaXN0b3J5UGx1Z2luLnByb3RvdHlwZS5fZ2V0UmV2aXNpb25IaXN0b3J5ID0gZnVuY3Rpb24gKHRhYmxlLCByb3dQSywgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciByb3dIaXN0VGFibGUgPSBcIl9cIiArIHRhYmxlICsgXCJfX2hpc3RfaWR4XCI7XHJcbiAgICAgICAgdGhpcy5wYXJlbnQucXVlcnkoXCJzZWxlY3RcIikud2hlcmUoW1wiaWRcIiwgXCI9XCIsIHJvd1BLXSkubWFudWFsRXhlYyh7IHRhYmxlOiByb3dIaXN0VGFibGUgfSkudGhlbihmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICB2YXIgZ2V0Um93cyA9IHJvd3NbMF0uaGlzdFJvd3MuZmlsdGVyKGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gaWQgIT09IC0xOyB9KTtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50LnF1ZXJ5KFwic2VsZWN0XCIpLndoZXJlKFtcIl9pZFwiLCBcIklOXCIsIGdldFJvd3NdKS5tYW51YWxFeGVjKHsgdGFibGU6IFwiX1wiICsgdGFibGUgKyBcIl9faGlzdF9yb3dzXCIgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0Um93cykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJPYmogPSB7fTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdFJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgck9ialtyb3dbc3Ryc1syXV1dID0gT2JqZWN0LmlzRnJvemVuKHJvdykgPyB1dGlsaXRpZXNfMS5fYXNzaWduKHJvdykgOiByb3c7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJPYmpbcm93W3N0cnNbMl1dXVtzdHJzWzJdXTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRlcjogcm93c1swXS5oaXN0Um93cy5sZW5ndGggLSByb3dzWzBdLmhpc3RQdHIgLSAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXZpc2lvbnM6IHJvd3NbMF0uaGlzdFJvd3MucmV2ZXJzZSgpLm1hcChmdW5jdGlvbiAocikgeyByZXR1cm4gciA9PT0gLTEgPyBudWxsIDogck9ialtyXTsgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIF9OYW5vU1FMSGlzdG9yeVBsdWdpbi5wcm90b3R5cGUuX2dldFRhYmxlSGlzdG9yeSA9IGZ1bmN0aW9uICh0YWJsZSwgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMucGFyZW50LmV4dGVuZChcImlkeC5sZW5ndGhcIiwgdGFibGUpLnRoZW4oZnVuY3Rpb24gKGxlbikge1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnQucXVlcnkoXCJzZWxlY3RcIikubWFudWFsRXhlYyh7IHRhYmxlOiB0YWJsZSArIFwiX3B0clwiIH0pLnRoZW4oZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgIGlmICghcm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZShbMCwgMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKFtsZW4sIGxlbiAtIHJvd3NbMF0ucHRyXSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIF9OYW5vU1FMSGlzdG9yeVBsdWdpbi5wcm90b3R5cGUuX3F1ZXJ5SGlzdG9yeSA9IGZ1bmN0aW9uICh0YWJsZSwgcm93UEssIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmhpc3RvcnlNb2RlcykgeyAvLyBnbG9iYWwgbW9kZVxyXG4gICAgICAgICAgICB0aGlzLl9nZXRUYWJsZUhpc3RvcnkoXCJfaGlzdFwiLCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaGlzdFRhYmxlID0gdGhpcy5faGlzdFRhYmxlKHRhYmxlKTtcclxuICAgICAgICBpZiAoIWhpc3RUYWJsZSkgeyAvLyBnZXQgc2luZ2xlIHJvdyBoaXN0b3J5XHJcbiAgICAgICAgICAgIGlmICghcm93UEspIHtcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiTmVlZCBhIHJvdyBwcmltYXJ5IGtleSB0byBxdWVyeSB0aGlzIGhpc3RvcnkhXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciByb3dIaXN0VGFibGUgPSBcIl9cIiArIHRhYmxlICsgXCJfX2hpc3RfaWR4XCI7XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50LnF1ZXJ5KFwic2VsZWN0XCIpLndoZXJlKFtcImlkXCIsIFwiPVwiLCByb3dQS10pLm1hbnVhbEV4ZWMoeyB0YWJsZTogcm93SGlzdFRhYmxlIH0pLnRoZW4oZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgIHZhciBoaXN0Um93SURYID0gcm93c1swXTtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKFtoaXN0Um93SURYLmhpc3RSb3dzLmxlbmd0aCwgaGlzdFJvd0lEWC5oaXN0Um93cy5sZW5ndGggLSBoaXN0Um93SURYLmhpc3RQdHIgLSAxXSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHsgLy8gZ2V0IHNpbmdsZSB0YWJsZSBoaXN0b3J5XHJcbiAgICAgICAgICAgIGlmICghdGFibGUpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiTmVlZCBhIHRhYmxlIHRvIHF1ZXJ5IHRoaXMgaGlzdG9yeSFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fZ2V0VGFibGVIaXN0b3J5KGhpc3RUYWJsZSwgY29tcGxldGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBfTmFub1NRTEhpc3RvcnlQbHVnaW4ucHJvdG90eXBlLl9zaGlmdFRhYmxlSGlzdG9yeSA9IGZ1bmN0aW9uIChkaXJlY3Rpb24sIHRhYmxlLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5wYXJlbnQucXVlcnkoXCJzZWxlY3RcIikubWFudWFsRXhlYyh7IHRhYmxlOiB0YWJsZSArIFwiX3B0clwiIH0pLnRoZW4oZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgdmFyIHJvd1B0ciA9IHV0aWxpdGllc18xLl9hc3NpZ24ocm93c1swXSk7XHJcbiAgICAgICAgICAgIHJvd1B0ci5wdHIgKz0gZGlyZWN0aW9uID09PSBcIjxcIiA/IDEgOiAtMTtcclxuICAgICAgICAgICAgaWYgKHJvd1B0ci5wdHIgPCAwKVxyXG4gICAgICAgICAgICAgICAgcm93UHRyLnB0ciA9IDA7XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudC5leHRlbmQoXCJpZHgubGVuZ3RoXCIsIHRhYmxlKS50aGVuKGZ1bmN0aW9uIChsZW4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChyb3dQdHIucHRyID4gbGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93UHRyLnB0ciA9IGxlbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChyb3dzWzBdLnB0ciA9PT0gcm93UHRyLnB0cikgeyAvLyBubyBjaGFuZ2UgaW4gaGlzdG9yeSwgbm90aGluZyB0byBkby5cclxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgX3RoaXMucGFyZW50LnF1ZXJ5KFwic2VsZWN0XCIpLnJhbmdlKC0xLCBkaXJlY3Rpb24gPT09IFwiPFwiID8gcm93c1swXS5wdHIgOiByb3dQdHIucHRyKS5tYW51YWxFeGVjKHsgdGFibGU6IHRhYmxlIH0pLnRoZW4oZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQucXVlcnkoXCJ1cHNlcnRcIiwgcm93UHRyKS5tYW51YWxFeGVjKHsgdGFibGU6IHRhYmxlICsgXCJfcHRyXCIgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwocm93c1swXS5rZXlzLCBmdW5jdGlvbiAocGssIGksIG5leHRSb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zaGlmdFJvd0hpc3RvcnkoZGlyZWN0aW9uLCByb3dzWzBdLnRhYmxlLCBwaywgbmV4dFJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRpZEFueXRoaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZShkaWRBbnl0aGluZy5pbmRleE9mKHRydWUpID4gLTEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBfTmFub1NRTEhpc3RvcnlQbHVnaW4ucHJvdG90eXBlLl9zaGlmdFJvd0hpc3RvcnkgPSBmdW5jdGlvbiAoZGlyZWN0aW9uLCB0YWJsZSwgUEssIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgdXBkYXRlSURYID0gZnVuY3Rpb24gKG1ldGEpIHtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50LnF1ZXJ5KFwidXBzZXJ0XCIsIG1ldGEpLndoZXJlKFtfdGhpcy5fdGFibGVQa0tleXNbdGFibGVdLCBcIj1cIiwgUEtdKS5tYW51YWxFeGVjKHsgdGFibGU6IFwiX1wiICsgdGFibGUgKyBcIl9faGlzdF9pZHhcIiB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKHRydWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucGFyZW50LnF1ZXJ5KFwic2VsZWN0XCIpLndoZXJlKFt0aGlzLl90YWJsZVBrS2V5c1t0YWJsZV0sIFwiPVwiLCBQS10pLm1hbnVhbEV4ZWMoeyB0YWJsZTogXCJfXCIgKyB0YWJsZSArIFwiX19oaXN0X2lkeFwiIH0pLnRoZW4oZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgdmFyIHJvd0lEWCA9IHV0aWxpdGllc18xLl9hc3NpZ24ocm93c1swXSk7XHJcbiAgICAgICAgICAgIHJvd0lEWC5oaXN0UHRyICs9IGRpcmVjdGlvbiA9PT0gXCI8XCIgPyAxIDogLTE7XHJcbiAgICAgICAgICAgIGlmIChyb3dJRFguaGlzdFB0ciA8IDApXHJcbiAgICAgICAgICAgICAgICByb3dJRFguaGlzdFB0ciA9IDA7XHJcbiAgICAgICAgICAgIGlmIChyb3dJRFguaGlzdFB0ciA+IHJvd0lEWC5oaXN0Um93cy5sZW5ndGggLSAxKVxyXG4gICAgICAgICAgICAgICAgcm93SURYLmhpc3RQdHIgPSByb3dJRFguaGlzdFJvd3MubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgaWYgKHJvd0lEWC5oaXN0UHRyID09PSByb3dzWzBdLmhpc3RQdHIpIHsgLy8gb3V0c2lkZSBvZiBoaXN0b3J5IHJhbmdlLCBub3RoaW5nIHRvIGRvXHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGhpc3RvcnlQSyA9IHJvd0lEWC5oaXN0Um93c1tyb3dJRFguaGlzdFB0cl07XHJcbiAgICAgICAgICAgIGlmIChoaXN0b3J5UEsgPT09IC0xKSB7IC8vIHJvdyBoYXMgYmVlbiBkZWxldGVkXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQucXVlcnkoXCJkZWxldGVcIikuY29tbWVudChcIkhpc3RvcnkgV3JpdGVcIikud2hlcmUoW190aGlzLl90YWJsZVBrS2V5c1t0YWJsZV0sIFwiPVwiLCBQS10pLm1hbnVhbEV4ZWMoeyB0YWJsZTogdGFibGUgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlSURYKHJvd0lEWCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHsgLy8gcm93IGhhcyBiZWVuIGFkZGVkIG9yIG1vZGlmaWVkXHJcbiAgICAgICAgICAgICAgICAvLyBwdWxsIHRoZSBoaXN0b3J5J3MgY29weSBvZiB0aGUgcm93XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQucXVlcnkoXCJzZWxlY3RcIikud2hlcmUoW1wiX2lkXCIsIFwiPVwiLCBoaXN0b3J5UEtdKS5tYW51YWxFeGVjKHsgdGFibGU6IFwiX1wiICsgdGFibGUgKyBcIl9faGlzdF9yb3dzXCIgfSkudGhlbihmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG92ZXJ3cml0ZSB0aGUgcm93IGluIHRoZSBkYXRhYmFzZVxyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnBhcmVudC5xdWVyeShcInVwc2VydFwiLCByb3dzWzBdKS5jb21tZW50KFwiSGlzdG9yeSBXcml0ZVwiKS5tYW51YWxFeGVjKHsgdGFibGU6IHRhYmxlIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVJRFgocm93SURYKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX05hbm9TUUxIaXN0b3J5UGx1Z2luLnByb3RvdHlwZS5fc2hpZnRIaXN0b3J5ID0gZnVuY3Rpb24gKGRpcmVjdGlvbiwgdGFibGUsIHJvd1BLLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5oaXN0b3J5TW9kZXMpIHsgLy8gZ2xvYmFsIG1vZGVcclxuICAgICAgICAgICAgdGhpcy5fc2hpZnRUYWJsZUhpc3RvcnkoZGlyZWN0aW9uLCBcIl9oaXN0XCIsIGNvbXBsZXRlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaGlzdFRhYmxlID0gdGhpcy5faGlzdFRhYmxlKHRhYmxlKTtcclxuICAgICAgICBpZiAoIWhpc3RUYWJsZSkgeyAvLyBhZGp1c3Qgc2luZ2xlIHJvdyBoaXN0b3J5XHJcbiAgICAgICAgICAgIGlmICghcm93UEspIHtcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiTmVlZCBhIHJvdyBwcmltYXJ5IGtleSB0byBjaGFuZ2UgdGhpcyBoaXN0b3J5IVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9zaGlmdFJvd0hpc3RvcnkoZGlyZWN0aW9uLCB0YWJsZSwgcm93UEssIGNvbXBsZXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7IC8vIGFkanVzdCBzaW5nbGUgdGFibGUgaGlzdG9yeVxyXG4gICAgICAgICAgICBpZiAoIXRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIk5lZWQgYSB0YWJsZSB0byBjaGFuZ2UgdGhpcyBoaXN0b3J5IVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9zaGlmdFRhYmxlSGlzdG9yeShkaXJlY3Rpb24sIGhpc3RUYWJsZSwgY29tcGxldGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gX05hbm9TUUxIaXN0b3J5UGx1Z2luO1xyXG59KCkpO1xyXG5leHBvcnRzLl9OYW5vU1FMSGlzdG9yeVBsdWdpbiA9IF9OYW5vU1FMSGlzdG9yeVBsdWdpbjtcclxuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XHJcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcclxuICAgICAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgbGllX3RzXzEgPSByZXF1aXJlKFwibGllLXRzXCIpO1xyXG52YXIgdXRpbGl0aWVzXzEgPSByZXF1aXJlKFwiLi4vdXRpbGl0aWVzXCIpO1xyXG52YXIgZGJfaWR4XzEgPSByZXF1aXJlKFwiLi9kYi1pZHhcIik7XHJcbnZhciBkZWxldGVGb2xkZXJSZWN1cnNpdmUgPSBmdW5jdGlvbiAocGF0aCkge1xyXG4gICAgaWYgKGdsb2JhbC5fZnMuZXhpc3RzU3luYyhwYXRoKSkge1xyXG4gICAgICAgIGdsb2JhbC5fZnMucmVhZGRpclN5bmMocGF0aCkuZm9yRWFjaChmdW5jdGlvbiAoZmlsZSkge1xyXG4gICAgICAgICAgICB2YXIgY3VyUGF0aCA9IHBhdGggKyBcIi9cIiArIGZpbGU7XHJcbiAgICAgICAgICAgIGlmIChnbG9iYWwuX2ZzLnN0YXRTeW5jKGN1clBhdGgpLmlzRGlyZWN0b3J5KCkpIHsgLy8gcmVjdXJzZVxyXG4gICAgICAgICAgICAgICAgZGVsZXRlRm9sZGVyUmVjdXJzaXZlKGN1clBhdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgeyAvLyBkZWxldGUgZmlsZVxyXG4gICAgICAgICAgICAgICAgZ2xvYmFsLl9mcy51bmxpbmtTeW5jKGN1clBhdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZ2xvYmFsLl9mcy5ybWRpclN5bmMocGF0aCk7XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBIYW5kbGVzIExldmVsIERCIHN0b3JhZ2UuXHJcbiAqXHJcbiAqIEBleHBvcnRcclxuICogQGNsYXNzIF9MZXZlbFN0b3JlXHJcbiAqIEBpbXBsZW1lbnRzIHtOYW5vU1FMU3RvcmFnZUFkYXB0ZXJ9XHJcbiAqL1xyXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcclxudmFyIF9MZXZlbFN0b3JlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gX0xldmVsU3RvcmUocGF0aCwgd3JpdGVDYWNoZSwgcmVhZENhY2hlKSB7XHJcbiAgICAgICAgdGhpcy5wYXRoID0gcGF0aDtcclxuICAgICAgICB0aGlzLndyaXRlQ2FjaGUgPSB3cml0ZUNhY2hlO1xyXG4gICAgICAgIHRoaXMucmVhZENhY2hlID0gcmVhZENhY2hlO1xyXG4gICAgICAgIHRoaXMuX3BrS2V5ID0ge307XHJcbiAgICAgICAgdGhpcy5fcGtUeXBlID0ge307XHJcbiAgICAgICAgdGhpcy5fZGJJbmRleCA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2xldmVsREJzID0ge307XHJcbiAgICAgICAgdGhpcy5faXNQS251bSA9IHt9O1xyXG4gICAgfVxyXG4gICAgX0xldmVsU3RvcmUucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAoY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwoT2JqZWN0LmtleXModGhpcy5fZGJJbmRleCksIGZ1bmN0aW9uICh0YWJsZSwgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICB2YXIgcGtzID0gW107XHJcbiAgICAgICAgICAgIF90aGlzLl9sZXZlbERCc1t0YWJsZV0uY3JlYXRlS2V5U3RyZWFtKClcclxuICAgICAgICAgICAgICAgIC5vbihcImRhdGFcIiwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHBrcy5wdXNoKF90aGlzLl9pc1BLbnVtW3RhYmxlXSA/IG5ldyBnbG9iYWwuX0ludDY0QkUoZGF0YSkudG9OdW1iZXIoKSA6IGRhdGEpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLm9uKFwiZW5kXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwa3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2RiSW5kZXhbdGFibGVdLnNldChwa3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KS50aGVuKGNvbXBsZXRlKTtcclxuICAgIH07XHJcbiAgICBfTGV2ZWxTdG9yZS5wcm90b3R5cGUuZGlzY29ubmVjdCA9IGZ1bmN0aW9uIChjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChPYmplY3Qua2V5cyh0aGlzLl9kYkluZGV4KSwgZnVuY3Rpb24gKHRhYmxlLCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgIF90aGlzLl9sZXZlbERCc1t0YWJsZV0uY2xvc2UoZG9uZSk7XHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX0xldmVsU3RvcmUucHJvdG90eXBlLnNldElEID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgdGhpcy5faWQgPSBpZDtcclxuICAgICAgICB0aGlzLl9wYXRoID0gKHRoaXMucGF0aCB8fCBcIi5cIikgKyBcIi9kYl9cIiArIHRoaXMuX2lkO1xyXG4gICAgICAgIGlmICghZ2xvYmFsLl9mcy5leGlzdHNTeW5jKHRoaXMuX3BhdGgpKSB7XHJcbiAgICAgICAgICAgIGdsb2JhbC5fZnMubWtkaXJTeW5jKHRoaXMuX3BhdGgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBfTGV2ZWxTdG9yZS5wcm90b3R5cGUubWFrZVRhYmxlID0gZnVuY3Rpb24gKHRhYmxlTmFtZSwgZGF0YU1vZGVscykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5fZGJJbmRleFt0YWJsZU5hbWVdID0gbmV3IGRiX2lkeF8xLkRhdGFiYXNlSW5kZXgoKTtcclxuICAgICAgICB0aGlzLl9sZXZlbERCc1t0YWJsZU5hbWVdID0gZ2xvYmFsLl9sZXZlbHVwKGdsb2JhbC5fbGV2ZWxkb3duKGdsb2JhbC5fcGF0aC5qb2luKHRoaXMuX3BhdGgsIHRhYmxlTmFtZSkpLCB7XHJcbiAgICAgICAgICAgIGNhY2hlU2l6ZTogKHRoaXMucmVhZENhY2hlIHx8IDMyKSAqIDEwMjQgKiAxMDI0LFxyXG4gICAgICAgICAgICB3cml0ZUJ1ZmZlclNpemU6ICh0aGlzLndyaXRlQ2FjaGUgfHwgMzIpICogMTAyNCAqIDEwMjRcclxuICAgICAgICB9KTtcclxuICAgICAgICBkYXRhTW9kZWxzLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgaWYgKGQucHJvcHMgJiYgdXRpbGl0aWVzXzEuaW50ZXJzZWN0KFtcInBrXCIsIFwicGsoKVwiXSwgZC5wcm9wcykpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9wa1R5cGVbdGFibGVOYW1lXSA9IGQudHlwZTtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9wa0tleVt0YWJsZU5hbWVdID0gZC5rZXk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5faXNQS251bVt0YWJsZU5hbWVdID0gW1wiaW50XCIsIFwibnVtYmVyXCIsIFwiZmxvYXRcIl0uaW5kZXhPZihkLnR5cGUpICE9PSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZC5wcm9wcyAmJiB1dGlsaXRpZXNfMS5pbnRlcnNlY3QoW1wiYWlcIiwgXCJhaSgpXCJdLCBkLnByb3BzKSAmJiB1dGlsaXRpZXNfMS5pbnRlcnNlY3QoW1wicGtcIiwgXCJwaygpXCJdLCBkLnByb3BzKSAmJiBkLnR5cGUgPT09IFwiaW50XCIpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9kYkluZGV4W3RhYmxlTmFtZV0uZG9BSSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBfTGV2ZWxTdG9yZS5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAodGFibGUsIHBrLCBkYXRhLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHBrID0gcGsgfHwgdXRpbGl0aWVzXzEuZ2VuZXJhdGVJRCh0aGlzLl9wa1R5cGVbdGFibGVdLCB0aGlzLl9kYkluZGV4W3RhYmxlXS5haSk7XHJcbiAgICAgICAgaWYgKCFwaykge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIkNhbid0IGFkZCBhIHJvdyB3aXRob3V0IGEgcHJpbWFyeSBrZXkhXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fZGJJbmRleFt0YWJsZV0uaW5kZXhPZihwaykgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RiSW5kZXhbdGFibGVdLmFkZChwayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByID0gX19hc3NpZ24oe30sIGRhdGEsIChfYSA9IHt9LCBfYVt0aGlzLl9wa0tleVt0YWJsZV1dID0gcGssIF9hKSk7XHJcbiAgICAgICAgdGhpcy5fbGV2ZWxEQnNbdGFibGVdLnB1dCh0aGlzLl9pc1BLbnVtW3RhYmxlXSA/IG5ldyBnbG9iYWwuX0ludDY0QkUocGspLnRvQnVmZmVyKCkgOiBwaywgSlNPTi5zdHJpbmdpZnkociksIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKHIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgfTtcclxuICAgIF9MZXZlbFN0b3JlLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAodGFibGUsIHBrLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBpZHggPSB0aGlzLl9kYkluZGV4W3RhYmxlXS5pbmRleE9mKHBrKTtcclxuICAgICAgICBpZiAoaWR4ICE9PSAtMSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kYkluZGV4W3RhYmxlXS5yZW1vdmUocGspO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9sZXZlbERCc1t0YWJsZV0uZGVsKHRoaXMuX2lzUEtudW1bdGFibGVdID8gbmV3IGdsb2JhbC5fSW50NjRCRShwaykudG9CdWZmZXIoKSA6IHBrLCBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGVycik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX0xldmVsU3RvcmUucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAodGFibGUsIHBrLCBjYWxsYmFjaykge1xyXG4gICAgICAgIGlmICh0aGlzLl9kYkluZGV4W3RhYmxlXS5pbmRleE9mKHBrKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fbGV2ZWxEQnNbdGFibGVdLmdldCh0aGlzLl9pc1BLbnVtW3RhYmxlXSA/IG5ldyBnbG9iYWwuX0ludDY0QkUocGspLnRvQnVmZmVyKCkgOiBwaywgZnVuY3Rpb24gKGVyciwgcm93KSB7XHJcbiAgICAgICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGVycik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhKU09OLnBhcnNlKHJvdykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX0xldmVsU3RvcmUucHJvdG90eXBlLnJhbmdlUmVhZCA9IGZ1bmN0aW9uICh0YWJsZSwgcm93Q2FsbGJhY2ssIGNvbXBsZXRlLCBmcm9tLCB0bywgdXNlUEspIHtcclxuICAgICAgICB2YXIga2V5cyA9IHRoaXMuX2RiSW5kZXhbdGFibGVdLmtleXMoKTtcclxuICAgICAgICB2YXIgdXNlZnVsVmFsdWVzID0gW3R5cGVvZiBmcm9tLCB0eXBlb2YgdG9dLmluZGV4T2YoXCJ1bmRlZmluZWRcIikgPT09IC0xO1xyXG4gICAgICAgIHZhciByYW5nZXMgPSB1c2VmdWxWYWx1ZXMgPyBbZnJvbSwgdG9dIDogWzAsIGtleXMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgdmFyIHJvd3MgPSBbXTtcclxuICAgICAgICB2YXIgbG93ZXIgPSB1c2VQSyAmJiB1c2VmdWxWYWx1ZXMgPyBmcm9tIDoga2V5c1tyYW5nZXNbMF1dO1xyXG4gICAgICAgIHZhciBoaWdoZXIgPSB1c2VQSyAmJiB1c2VmdWxWYWx1ZXMgPyB0byA6IGtleXNbcmFuZ2VzWzFdXTtcclxuICAgICAgICB0aGlzLl9sZXZlbERCc1t0YWJsZV1cclxuICAgICAgICAgICAgLmNyZWF0ZVZhbHVlU3RyZWFtKHtcclxuICAgICAgICAgICAgZ3RlOiB0aGlzLl9pc1BLbnVtW3RhYmxlXSA/IG5ldyBnbG9iYWwuX0ludDY0QkUobG93ZXIpLnRvQnVmZmVyKCkgOiBsb3dlcixcclxuICAgICAgICAgICAgbHRlOiB0aGlzLl9pc1BLbnVtW3RhYmxlXSA/IG5ldyBnbG9iYWwuX0ludDY0QkUoaGlnaGVyKS50b0J1ZmZlcigpIDogaGlnaGVyXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKFwiZGF0YVwiLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICByb3dzLnB1c2goSlNPTi5wYXJzZShkYXRhKSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKFwiZW5kXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGlkeCA9IHJhbmdlc1swXSB8fCAwO1xyXG4gICAgICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgICAgIHZhciBnZXRSb3cgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA8IHJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93Q2FsbGJhY2socm93c1tpXSwgaWR4LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkeCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgJSA1MDAgPT09IDAgPyBsaWVfdHNfMS5zZXRGYXN0KGdldFJvdykgOiBnZXRSb3coKTsgLy8gaGFuZGxlIG1heGltdW0gY2FsbCBzdGFjayBlcnJvclxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZ2V0Um93KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX0xldmVsU3RvcmUucHJvdG90eXBlLmRyb3AgPSBmdW5jdGlvbiAodGFibGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHRoaXMuX2RiSW5kZXhbdGFibGVdLmtleXMoKSwgZnVuY3Rpb24gKHBrLCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgIF90aGlzLl9sZXZlbERCc1t0YWJsZV0uZGVsKHBrLCBkb25lKTtcclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGlkeCA9IG5ldyBkYl9pZHhfMS5EYXRhYmFzZUluZGV4KCk7XHJcbiAgICAgICAgICAgIGlkeC5kb0FJID0gX3RoaXMuX2RiSW5kZXhbdGFibGVdLmRvQUk7XHJcbiAgICAgICAgICAgIF90aGlzLl9kYkluZGV4W3RhYmxlXSA9IGlkeDtcclxuICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBfTGV2ZWxTdG9yZS5wcm90b3R5cGUuZ2V0SW5kZXggPSBmdW5jdGlvbiAodGFibGUsIGdldExlbmd0aCwgY29tcGxldGUpIHtcclxuICAgICAgICBjb21wbGV0ZShnZXRMZW5ndGggPyB0aGlzLl9kYkluZGV4W3RhYmxlXS5rZXlzKCkubGVuZ3RoIDogdGhpcy5fZGJJbmRleFt0YWJsZV0ua2V5cygpKTtcclxuICAgIH07XHJcbiAgICBfTGV2ZWxTdG9yZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChPYmplY3Qua2V5cyh0aGlzLl9kYkluZGV4KSwgZnVuY3Rpb24gKHRhYmxlLCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmRyb3AodGFibGUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9sZXZlbERCc1t0YWJsZV0uY2xvc2UoZG9uZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBkZWxldGVGb2xkZXJSZWN1cnNpdmUoX3RoaXMuX3BhdGgpO1xyXG4gICAgICAgICAgICBjb21wbGV0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfTGV2ZWxTdG9yZTtcclxufSgpKTtcclxuZXhwb3J0cy5fTGV2ZWxTdG9yZSA9IF9MZXZlbFN0b3JlO1xyXG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcclxuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxyXG4gICAgICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBsaWVfdHNfMSA9IHJlcXVpcmUoXCJsaWUtdHNcIik7XHJcbnZhciB1dGlsaXRpZXNfMSA9IHJlcXVpcmUoXCIuLi91dGlsaXRpZXNcIik7XHJcbnZhciBkYl9pZHhfMSA9IHJlcXVpcmUoXCIuL2RiLWlkeFwiKTtcclxuLyoqXHJcbiAqIEhhbmRsZXMgV2ViU1FMIHBlcnNpc3RlbnQgc3RvcmFnZVxyXG4gKlxyXG4gKiBAZXhwb3J0XHJcbiAqIEBjbGFzcyBfU3luY1N0b3JlXHJcbiAqIEBpbXBsZW1lbnRzIHtOYW5vU1FMU3RvcmFnZUFkYXB0ZXJ9XHJcbiAqL1xyXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcclxudmFyIF9XZWJTUUxTdG9yZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIF9XZWJTUUxTdG9yZShzaXplKSB7XHJcbiAgICAgICAgdGhpcy5fcGtLZXkgPSB7fTtcclxuICAgICAgICB0aGlzLl9wa1R5cGUgPSB7fTtcclxuICAgICAgICB0aGlzLl9kYkluZGV4ID0ge307XHJcbiAgICAgICAgdGhpcy5fc2l6ZSA9IChzaXplIHx8IDApICogMTAwMCAqIDEwMDA7XHJcbiAgICB9XHJcbiAgICBfV2ViU1FMU3RvcmUucHJvdG90eXBlLnNldElEID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgdGhpcy5faWQgPSBpZDtcclxuICAgIH07XHJcbiAgICBfV2ViU1FMU3RvcmUucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAoY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuX2RiID0gd2luZG93Lm9wZW5EYXRhYmFzZSh0aGlzLl9pZCwgXCIxLjBcIiwgdGhpcy5faWQsIHRoaXMuX3NpemUgfHwgdXRpbGl0aWVzXzEuaXNBbmRyb2lkID8gNTAwMDAwMCA6IDEpO1xyXG4gICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwoT2JqZWN0LmtleXModGhpcy5fcGtLZXkpLCBmdW5jdGlvbiAodGFibGUsIGksIG5leHRLZXkpIHtcclxuICAgICAgICAgICAgX3RoaXMuX3NxbCh0cnVlLCBcIkNSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFwiICsgdGFibGUgKyBcIiAoaWQgQkxPQiBQUklNQVJZIEtFWSBVTklRVUUsIGRhdGEgVEVYVClcIiwgW10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9zcWwoZmFsc2UsIFwiU0VMRUNUIGlkIEZST00gXCIgKyB0YWJsZSwgW10sIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaWR4ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaV8xID0gMDsgaV8xIDwgcmVzdWx0LnJvd3MubGVuZ3RoOyBpXzErKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZHgucHVzaChyZXN1bHQucm93cy5pdGVtKGlfMSkuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBTUUxpdGUgZG9lc24ndCBzb3J0IHByaW1hcnkga2V5cywgYnV0IHRoZSBzeXN0ZW0gZGVwZW5kcyBvbiBzb3J0ZWQgcHJpbWFyeSBrZXlzXHJcbiAgICAgICAgICAgICAgICAgICAgaWR4ID0gaWR4LnNvcnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZGJJbmRleFt0YWJsZV0uc2V0KGlkeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dEtleSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pLnRoZW4oY29tcGxldGUpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGFibGUgbmFtZXMgY2FuJ3QgYmUgZXNjYXBlZCBlYXNpbHkgaW4gdGhlIHF1ZXJpZXMuXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGdhdXJhbnRlZXMgYW55IHByb3ZpZGVkIHRhYmxlIGlzIGEgdmFsaWQgdGFibGUgbmFtZSBiZWluZyB1c2VkIGJ5IHRoZSBzeXN0ZW0uXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZVxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqIEBtZW1iZXJvZiBfV2ViU1FMU3RvcmVcclxuICAgICAqL1xyXG4gICAgX1dlYlNRTFN0b3JlLnByb3RvdHlwZS5fY2hrVGFibGUgPSBmdW5jdGlvbiAodGFibGUpIHtcclxuICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5fcGtUeXBlKS5pbmRleE9mKHRhYmxlKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJObyB0YWJsZSBcIiArIHRhYmxlICsgXCIgZm91bmQhXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRhYmxlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBfV2ViU1FMU3RvcmUucHJvdG90eXBlLm1ha2VUYWJsZSA9IGZ1bmN0aW9uICh0YWJsZU5hbWUsIGRhdGFNb2RlbHMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuX2RiSW5kZXhbdGFibGVOYW1lXSA9IG5ldyBkYl9pZHhfMS5EYXRhYmFzZUluZGV4KCk7XHJcbiAgICAgICAgZGF0YU1vZGVscy5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChkLnByb3BzICYmIGQucHJvcHMuaW5kZXhPZihcInBrXCIpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9wa1R5cGVbdGFibGVOYW1lXSA9IGQudHlwZTtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9wa0tleVt0YWJsZU5hbWVdID0gZC5rZXk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGQucHJvcHMgJiYgZC5wcm9wcy5pbmRleE9mKFwiYWlcIikgPiAtMSAmJiBkLnByb3BzLmluZGV4T2YoXCJwa1wiKSA+IC0xICYmIGQudHlwZSA9PT0gXCJpbnRcIikge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX2RiSW5kZXhbdGFibGVOYW1lXS5kb0FJID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIF9XZWJTUUxTdG9yZS5wcm90b3R5cGUuX3NxbCA9IGZ1bmN0aW9uIChhbGxvd1dyaXRlLCBzcWwsIGFyZ3MsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIGRvVHJhbnNhY3Rpb24gPSBmdW5jdGlvbiAodHgpIHtcclxuICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChzcWwsIGFyZ3MsIGZ1bmN0aW9uICh0eDIsIHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUocmVzdWx0KTtcclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHR4LCBlcnIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3Ioc3FsLCBhcmdzLCBlcnIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmIChhbGxvd1dyaXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RiLnRyYW5zYWN0aW9uKGRvVHJhbnNhY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fZGIucmVhZFRyYW5zYWN0aW9uKGRvVHJhbnNhY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBfV2ViU1FMU3RvcmUucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKHRhYmxlLCBwaywgZGF0YSwgY29tcGxldGUpIHtcclxuICAgICAgICBwayA9IHBrIHx8IHV0aWxpdGllc18xLmdlbmVyYXRlSUQodGhpcy5fcGtUeXBlW3RhYmxlXSwgdGhpcy5fZGJJbmRleFt0YWJsZV0uYWkpO1xyXG4gICAgICAgIGlmICghcGspIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgYWRkIGEgcm93IHdpdGhvdXQgYSBwcmltYXJ5IGtleSFcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBuZXdSb3cgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5fZGJJbmRleFt0YWJsZV0uaW5kZXhPZihwaykgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIG5ld1JvdyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuX2RiSW5kZXhbdGFibGVdLmFkZChwayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuZXdSb3cpIHtcclxuICAgICAgICAgICAgdmFyIHJfMSA9IF9fYXNzaWduKHt9LCBkYXRhLCAoX2EgPSB7fSwgX2FbdGhpcy5fcGtLZXlbdGFibGVdXSA9IHBrLCBfYSkpO1xyXG4gICAgICAgICAgICB0aGlzLl9zcWwodHJ1ZSwgXCJJTlNFUlQgaW50byBcIiArIHRoaXMuX2Noa1RhYmxlKHRhYmxlKSArIFwiIChpZCwgZGF0YSkgVkFMVUVTICg/LCA/KVwiLCBbcGssIEpTT04uc3RyaW5naWZ5KHJfMSldLCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShyXzEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciByXzIgPSBfX2Fzc2lnbih7fSwgZGF0YSwgKF9iID0ge30sIF9iW3RoaXMuX3BrS2V5W3RhYmxlXV0gPSBwaywgX2IpKTtcclxuICAgICAgICAgICAgdGhpcy5fc3FsKHRydWUsIFwiVVBEQVRFIFwiICsgdGhpcy5fY2hrVGFibGUodGFibGUpICsgXCIgU0VUIGRhdGEgPSA/IFdIRVJFIGlkID0gP1wiLCBbSlNPTi5zdHJpbmdpZnkocl8yKSwgcGtdLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShyXzIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIF9hLCBfYjtcclxuICAgIH07XHJcbiAgICBfV2ViU1FMU3RvcmUucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICh0YWJsZSwgcGssIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIHBvcyA9IHRoaXMuX2RiSW5kZXhbdGFibGVdLmluZGV4T2YocGspO1xyXG4gICAgICAgIGlmIChwb3MgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RiSW5kZXhbdGFibGVdLnJlbW92ZShwayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3NxbCh0cnVlLCBcIkRFTEVURSBGUk9NIFwiICsgdGhpcy5fY2hrVGFibGUodGFibGUpICsgXCIgV0hFUkUgaWQgPSA/XCIsIFtwa10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBfV2ViU1FMU3RvcmUucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAodGFibGUsIHBrLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuX3NxbChmYWxzZSwgXCJTRUxFQ1QgZGF0YSBGUk9NIFwiICsgdGhpcy5fY2hrVGFibGUodGFibGUpICsgXCIgV0hFUkUgaWQgPSA/XCIsIFtwa10sIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5yb3dzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soSlNPTi5wYXJzZShyZXN1bHQucm93cy5pdGVtKDApLmRhdGEpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBfV2ViU1FMU3RvcmUucHJvdG90eXBlLmJhdGNoUmVhZCA9IGZ1bmN0aW9uICh0YWJsZSwgcGtzLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuX3NxbChmYWxzZSwgXCJTRUxFQ1QgZGF0YSBmcm9tIFwiICsgdGhpcy5fY2hrVGFibGUodGFibGUpICsgXCIgV0hFUkUgaWQgSU4gKFwiICsgcGtzLm1hcChmdW5jdGlvbiAocCkgeyByZXR1cm4gXCI/XCI7IH0pLmpvaW4oXCIsIFwiKSArIFwiKSBPUkRFUiBCWSBpZFwiLCBwa3MsIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgdmFyIGkgPSByZXN1bHQucm93cy5sZW5ndGg7XHJcbiAgICAgICAgICAgIHZhciByb3dzID0gW107XHJcbiAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgICAgIHJvd3MudW5zaGlmdChKU09OLnBhcnNlKHJlc3VsdC5yb3dzLml0ZW0oaSkuZGF0YSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKHJvd3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIF9XZWJTUUxTdG9yZS5wcm90b3R5cGUucmFuZ2VSZWFkID0gZnVuY3Rpb24gKHRhYmxlLCByb3dDYWxsYmFjaywgY29tcGxldGUsIGZyb20sIHRvLCB1c2VQSykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGtleXMgPSB0aGlzLl9kYkluZGV4W3RhYmxlXS5rZXlzKCk7XHJcbiAgICAgICAgdmFyIHVzZWZ1bFZhbHVlcyA9IFt0eXBlb2YgZnJvbSwgdHlwZW9mIHRvXS5pbmRleE9mKFwidW5kZWZpbmVkXCIpID09PSAtMTtcclxuICAgICAgICB2YXIgcmFuZ2VzID0gdXNlZnVsVmFsdWVzID8gW2Zyb20sIHRvXSA6IFtdO1xyXG4gICAgICAgIGlmICgha2V5cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodXNlUEsgJiYgdXNlZnVsVmFsdWVzKSB7XHJcbiAgICAgICAgICAgIHJhbmdlcyA9IHJhbmdlcy5tYXAoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIF90aGlzLl9kYkluZGV4W3RhYmxlXS5nZXRMb2NhdGlvbihyKTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpZHggPSByYW5nZXNbMF0gfHwgMDtcclxuICAgICAgICB2YXIgZ2V0S2V5cyA9IFtdO1xyXG4gICAgICAgIHZhciBzdGFydElEWCA9IHJhbmdlc1swXTtcclxuICAgICAgICB2YXIgc3RtbnQgPSBcIlNFTEVDVCBkYXRhIGZyb20gXCIgKyB0aGlzLl9jaGtUYWJsZSh0YWJsZSk7XHJcbiAgICAgICAgLy8gU1FMaXRlIGRvZXNuJ3QgaGFuZGxlIEJFVFdFRU4gc3RhdGVtZW50cyBncmFjZWZ1bGx5IHdpdGggcHJpbWFyeSBrZXlzLCBhbHdheXMgZG9pbmcgYSBmdWxsIHRhYmxlIHNjYW4uXHJcbiAgICAgICAgLy8gU28gd2UgdGFrZSB0aGUgaW5kZXggb2YgdGhlIHRhYmxlICh3aGljaCBpcyBpbiBqcyBtZW1vcnkpIGFuZCBjb252ZXJ0IGl0IGludG8gYW4gSU4gc3RhdGVtZW50IG1lYW5pbmcgU1FMaXRlXHJcbiAgICAgICAgLy8gY2FuIGdvIGRpcmVjdGx5IHRvIHRoZSByb3dzIHdlIG5lZWQgd2l0aG91dCBhIGZ1bGwgdGFibGUgc2Nhbi5cclxuICAgICAgICBpZiAocmFuZ2VzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgdCA9IHR5cGVvZiBrZXlzW3N0YXJ0SURYXSA9PT0gXCJudW1iZXJcIjtcclxuICAgICAgICAgICAgd2hpbGUgKHN0YXJ0SURYIDw9IHJhbmdlc1sxXSkge1xyXG4gICAgICAgICAgICAgICAgZ2V0S2V5cy5wdXNoKGtleXNbc3RhcnRJRFhdKTtcclxuICAgICAgICAgICAgICAgIHN0YXJ0SURYKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3RtbnQgKz0gXCIgV0hFUkUgaWQgSU4gKFwiICsgZ2V0S2V5cy5tYXAoZnVuY3Rpb24gKGspIHsgcmV0dXJuIFwiP1wiOyB9KS5qb2luKFwiLCBcIikgKyBcIilcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3RtbnQgKz0gXCIgT1JERVIgQlkgaWRcIjtcclxuICAgICAgICB0aGlzLl9zcWwoZmFsc2UsIHN0bW50LCBnZXRLZXlzLCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICAgICAgdmFyIGdldFJvdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQucm93cy5sZW5ndGggPiBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93Q2FsbGJhY2soSlNPTi5wYXJzZShyZXN1bHQucm93cy5pdGVtKGkpLmRhdGEpLCBpZHgsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWR4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaSAlIDUwMCA9PT0gMCA/IGxpZV90c18xLnNldEZhc3QoZ2V0Um93KSA6IGdldFJvdygpOyAvLyBoYW5kbGUgbWF4aW11bSBjYWxsIHN0YWNrIGVycm9yXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBnZXRSb3coKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBfV2ViU1FMU3RvcmUucHJvdG90eXBlLmRyb3AgPSBmdW5jdGlvbiAodGFibGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIGlkeCA9IG5ldyBkYl9pZHhfMS5EYXRhYmFzZUluZGV4KCk7XHJcbiAgICAgICAgaWR4LmRvQUkgPSB0aGlzLl9kYkluZGV4W3RhYmxlXS5kb0FJO1xyXG4gICAgICAgIHRoaXMuX2RiSW5kZXhbdGFibGVdID0gaWR4O1xyXG4gICAgICAgIHRoaXMuX3NxbCh0cnVlLCBcIkRFTEVURSBGUk9NIFwiICsgdGhpcy5fY2hrVGFibGUodGFibGUpLCBbXSwgZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBfV2ViU1FMU3RvcmUucHJvdG90eXBlLmdldEluZGV4ID0gZnVuY3Rpb24gKHRhYmxlLCBnZXRMZW5ndGgsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgY29tcGxldGUoZ2V0TGVuZ3RoID8gdGhpcy5fZGJJbmRleFt0YWJsZV0ua2V5cygpLmxlbmd0aCA6IHRoaXMuX2RiSW5kZXhbdGFibGVdLmtleXMoKSk7XHJcbiAgICB9O1xyXG4gICAgX1dlYlNRTFN0b3JlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKE9iamVjdC5rZXlzKHRoaXMuX2RiSW5kZXgpLCBmdW5jdGlvbiAodGFibGUsIGksIGRvbmUpIHtcclxuICAgICAgICAgICAgX3RoaXMuZHJvcCh0YWJsZSwgZG9uZSk7XHJcbiAgICAgICAgfSkudGhlbihjb21wbGV0ZSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9XZWJTUUxTdG9yZTtcclxufSgpKTtcclxuZXhwb3J0cy5fV2ViU1FMU3RvcmUgPSBfV2ViU1FMU3RvcmU7XHJcbiIsInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGxpZV90c18xID0gcmVxdWlyZShcImxpZS10c1wiKTtcbnZhciB1dGlsaXRpZXNfMSA9IHJlcXVpcmUoXCIuLi91dGlsaXRpZXNcIik7XG52YXIgZGJfaWR4XzEgPSByZXF1aXJlKFwiLi9kYi1pZHhcIik7XG52YXIgX2V2YWxDb250ZXh0ID0gZnVuY3Rpb24gKHNvdXJjZSwgY29udGV4dCkge1xuICAgIHZhciBjb21waWxlZCA9IGV2YWwoXCIoZnVuY3Rpb24oXCIgKyBPYmplY3Qua2V5cyhjb250ZXh0KS5qb2luKFwiLCBcIikgKyBcIikge1wiICsgc291cmNlICsgXCJ9KVwiKTtcbiAgICByZXR1cm4gY29tcGlsZWQuYXBwbHkoY29udGV4dCwgT2JqZWN0LmtleXMoY29udGV4dCkubWFwKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjb250ZXh0W2NdOyB9KSk7XG59O1xuLyoqXG4gKiBIYW5kbGVzIEluZGV4ZWREQiB3aXRoIGFuZCB3aXRob3V0IHdlYiB3b3JrZXJzLlxuICogVXNlcyBibG9iIHdvcmtlciBPUiBldmFsKClzIHRoZSB3b3JrZXIgYW5kIHVzZXMgaXQgaW5saW5lLlxuICpcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBfSW5kZXhlZERCU3RvcmVcbiAqIEBpbXBsZW1lbnRzIHtOYW5vU1FMU3RvcmFnZUFkYXB0ZXJ9XG4gKi9cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxudmFyIF9JbmRleGVkREJTdG9yZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBfSW5kZXhlZERCU3RvcmUodXNlV29ya2VyKSB7XG4gICAgICAgIHRoaXMuX3dvcmtlciA9ICdmdW5jdGlvbiBvKHIpe3RoaXMuZ289ZnVuY3Rpb24odCl7dmFyIG89MDtyJiZyLmxlbmd0aHx8dChbXSksci5mb3JFYWNoKGZ1bmN0aW9uKGUsbil7ZShmdW5jdGlvbigpeysrbz09PXIubGVuZ3RoJiZ0KFtdKX0pfSl9fXZhciBzPXtkYjpudWxsLHN0b3JlOmZ1bmN0aW9uKGUsbix0KXt2YXIgbz1zLmRiLnRyYW5zYWN0aW9uKGUsbik7dChvLG8ub2JqZWN0U3RvcmUoZSksZnVuY3Rpb24oZSxuKXtyZXR1cm4gZnVuY3Rpb24oKXtwb3N0TWVzc2FnZSh7ZG86ZSxhcmdzOm59KX19KX0saW5pdDpmdW5jdGlvbigpe2FkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsZnVuY3Rpb24oZSl7dmFyIG49ZS5kYXRhO3Nbbi5kb10mJnNbbi5kb10obi5hcmdzKX0sITEpfSxzZXR1cDpmdW5jdGlvbihuKXt2YXIgZT1pbmRleGVkREIub3BlbihuLmlkLDEpLHQ9ITEsYT17fTtlLm9udXBncmFkZW5lZWRlZD1mdW5jdGlvbihlKXt0PSEwLHMuZGI9ZS50YXJnZXQucmVzdWx0LE9iamVjdC5rZXlzKG4ucGtLZXlzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3MuZGIuY3JlYXRlT2JqZWN0U3RvcmUoZSx7a2V5UGF0aDpuLnBrS2V5c1tlXX0pLGFbZV09W119KX0sZS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7aWYocy5kYj1lLnRhcmdldC5yZXN1bHQsdClwb3N0TWVzc2FnZSh7ZG86XCJyZHlcIixhcmdzOmF9KTtlbHNle25ldyBvKE9iamVjdC5rZXlzKG4ucGtLZXlzKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBlLG8scjtlPXQsbz1mdW5jdGlvbihlKXthW3RdPWUsbigpfSxyPVtdLHMuc3RvcmUoZSxcInJlYWRvbmx5XCIsZnVuY3Rpb24oZSxuLHQpe24ub3BlbkN1cnNvcigpLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXt2YXIgbj1lLnRhcmdldC5yZXN1bHQ7biYmKHIucHVzaChuLmtleSksbi5jb250aW51ZSgpKX0sZS5vbmNvbXBsZXRlPWZ1bmN0aW9uKCl7byhyKX19KX19KSkuZ28oZnVuY3Rpb24oKXtwb3N0TWVzc2FnZSh7ZG86XCJyZHlcIixhcmdzOmF9KX0pfX19LHdyaXRlOmZ1bmN0aW9uKG8pe3Muc3RvcmUoby50YWJsZSxcInJlYWR3cml0ZVwiLGZ1bmN0aW9uKGUsbix0KXtuLnB1dChvLnJvdyksZS5vbmNvbXBsZXRlPXQoXCJ3cml0ZV9cIitvLmlkLG51bGwpfSl9LHJlYWQ6ZnVuY3Rpb24ocil7cy5zdG9yZShyLnRhYmxlLFwicmVhZG9ubHlcIixmdW5jdGlvbihlLG4sdCl7dmFyIG89bi5nZXQoci5wayk7by5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtwb3N0TWVzc2FnZSh7ZG86XCJyZWFkX1wiK3IuaWQsYXJnczpvLnJlc3VsdH0pfX0pfSxyZWFkUmFuZ2U6ZnVuY3Rpb24oYSl7cy5zdG9yZShhLnRhYmxlLFwicmVhZG9ubHlcIixmdW5jdGlvbihlLG4sdCl7dmFyIG89W10scj0tMT09PWEucmFuZ2UuaW5kZXhPZih2b2lkIDApP24ub3BlbkN1cnNvcihJREJLZXlSYW5nZS5ib3VuZChhLnJhbmdlWzBdLGEucmFuZ2VbMV0pKTpuLm9wZW5DdXJzb3IoKTtlLm9uY29tcGxldGU9dChcInJlYWRSYW5nZV9cIithLmlkK1wiX2RvbmVcIixvKSxyLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXt2YXIgbj1lLnRhcmdldC5yZXN1bHQ7biYmKG8ucHVzaChuLnZhbHVlKSxuLmNvbnRpbnVlKCkpfX0pfSxkZWxldGU6ZnVuY3Rpb24obyl7cy5zdG9yZShvLnRhYmxlLFwicmVhZHdyaXRlXCIsZnVuY3Rpb24oZSxuLHQpe2Uub25jb21wbGV0ZT10KFwiZGVsZXRlX1wiK28uaWQsITApLGUub25lcnJvcj10KFwiZGVsZXRlX1wiK28uaWQsITEpLFwiX2NsZWFyX1wiPT09by5waz9uLmNsZWFyKCk6bi5kZWxldGUoby5wayl9KX19O3MuaW5pdCgpOyc7XG4gICAgICAgIHRoaXMuX3BrS2V5ID0ge307XG4gICAgICAgIHRoaXMuX3BrVHlwZSA9IHt9O1xuICAgICAgICB0aGlzLl9kYkluZGV4ID0ge307XG4gICAgICAgIHRoaXMuX3dhaXRpbmdDQnMgPSB7fTtcbiAgICAgICAgdGhpcy5fdXNlV29ya2VyID0gdXNlV29ya2VyO1xuICAgIH1cbiAgICBfSW5kZXhlZERCU3RvcmUucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAoY29tcGxldGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX3VzZVdvcmtlcikge1xuICAgICAgICAgICAgLy8gYmxvYiB3ZWJ3b3JrZXIsIGRvZXNuJ3QgdXNlIGFuIGV4dGVybmFsIGZpbGUhXG4gICAgICAgICAgICAvLyBub3Qgc3VwcG9ydGVkIGJ5IElFIGFuZCBFZGdlIHdpdGggSW5kZXhlZERCLCBsaWtlIGF0IGFsbC5cbiAgICAgICAgICAgIHRoaXMuX3cgPSBuZXcgV29ya2VyKHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFt0aGlzLl93b3JrZXJdKSkpO1xuICAgICAgICAgICAgdGhpcy5fdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9oYW5kbGVXV01lc3NhZ2UoZS5kYXRhLmRvLCBlLmRhdGEuYXJncyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGV2YWwgdGhlIHdvcmtlciwgdGhlIGVuZCByZXN1bHQgYmVpbmcgYSB1aSB0aHJlYWQgaW5kZXhlZCBkYiBpbnN0YW5jZS5cbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbW9zdGx5IHRvIGdldCBJbmRleGVkREIgc3VwcG9ydCBpbiBJRSBhbmQgRWRnZSB3aXRob3V0IGR1cGxpY2F0aW5nIHRoZSBpbmRleGVkIGRiIGNvZGVcbiAgICAgICAgICAgIHZhciBsaXN0ZW5lcnNfMSA9IFtdO1xuICAgICAgICAgICAgLy8gZW11bGF0ZSB3b3JrZXIgYmVoYXZpb3JcbiAgICAgICAgICAgIF9ldmFsQ29udGV4dCh0aGlzLl93b3JrZXIsIHtcbiAgICAgICAgICAgICAgICBwb3N0TWVzc2FnZTogZnVuY3Rpb24gKG1zZykge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5faGFuZGxlV1dNZXNzYWdlKG1zZy5kbywgbXNnLmFyZ3MpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyc18xLnB1c2gobGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gZW11bGF0ZSB3b3JrZXIgb2JqZWN0XG4gICAgICAgICAgICB0aGlzLl93ID0ge1xuICAgICAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2U6IGZ1bmN0aW9uIChtZXNzYWdlLCB0cmFuc2Zlcikge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnNfMS5mb3JFYWNoKGZ1bmN0aW9uIChsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsKHsgZGF0YTogbWVzc2FnZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZXR1cm5zIGluZGV4ZXMgZm9yIGVhY2ggdGFibGVcbiAgICAgICAgdGhpcy5fd2FpdGluZ0NCc1tcInJkeVwiXSA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhhcmdzKS5mb3JFYWNoKGZ1bmN0aW9uICh0YWJsZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9kYkluZGV4W3RhYmxlXS5zZXQoYXJnc1t0YWJsZV0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl93LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIGRvOiBcInNldHVwXCIsIGFyZ3M6IHtcbiAgICAgICAgICAgICAgICBwa0tleXM6IHRoaXMuX3BrS2V5LFxuICAgICAgICAgICAgICAgIGlkOiB0aGlzLl9pZFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIF9JbmRleGVkREJTdG9yZS5wcm90b3R5cGUuc2V0SUQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdGhpcy5faWQgPSBpZDtcbiAgICB9O1xuICAgIF9JbmRleGVkREJTdG9yZS5wcm90b3R5cGUuX2hhbmRsZVdXTWVzc2FnZSA9IGZ1bmN0aW9uIChhY3Rpb24sIGFyZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMuX3dhaXRpbmdDQnNbYWN0aW9uXSkge1xuICAgICAgICAgICAgdGhpcy5fd2FpdGluZ0NCc1thY3Rpb25dKGFyZ3MpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3dhaXRpbmdDQnNbYWN0aW9uXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgX0luZGV4ZWREQlN0b3JlLnByb3RvdHlwZS5tYWtlVGFibGUgPSBmdW5jdGlvbiAodGFibGVOYW1lLCBkYXRhTW9kZWxzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX2RiSW5kZXhbdGFibGVOYW1lXSA9IG5ldyBkYl9pZHhfMS5EYXRhYmFzZUluZGV4KCk7XG4gICAgICAgIGRhdGFNb2RlbHMuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgaWYgKGQucHJvcHMgJiYgdXRpbGl0aWVzXzEuaW50ZXJzZWN0KFtcInBrXCIsIFwicGsoKVwiXSwgZC5wcm9wcykpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcGtUeXBlW3RhYmxlTmFtZV0gPSBkLnR5cGU7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3BrS2V5W3RhYmxlTmFtZV0gPSBkLmtleTtcbiAgICAgICAgICAgICAgICBpZiAoZC5wcm9wcyAmJiB1dGlsaXRpZXNfMS5pbnRlcnNlY3QoW1wiYWlcIiwgXCJhaSgpXCJdLCBkLnByb3BzKSAmJiAoZC50eXBlID09PSBcImludFwiIHx8IGQudHlwZSA9PT0gXCJudW1iZXJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2RiSW5kZXhbdGFibGVOYW1lXS5kb0FJID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgX0luZGV4ZWREQlN0b3JlLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uICh0YWJsZSwgcGssIGRhdGEsIGNvbXBsZXRlKSB7XG4gICAgICAgIHBrID0gcGsgfHwgdXRpbGl0aWVzXzEuZ2VuZXJhdGVJRCh0aGlzLl9wa1R5cGVbdGFibGVdLCB0aGlzLl9kYkluZGV4W3RhYmxlXS5haSk7XG4gICAgICAgIGlmICghcGspIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGFkZCBhIHJvdyB3aXRob3V0IGEgcHJpbWFyeSBrZXkhXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9kYkluZGV4W3RhYmxlXS5pbmRleE9mKHBrKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX2RiSW5kZXhbdGFibGVdLmFkZChwayk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHF1ZXJ5SUQgPSB1dGlsaXRpZXNfMS51dWlkKCk7XG4gICAgICAgIHZhciByID0gX19hc3NpZ24oe30sIGRhdGEsIChfYSA9IHt9LCBfYVt0aGlzLl9wa0tleVt0YWJsZV1dID0gcGssIF9hKSk7XG4gICAgICAgIHRoaXMuX3dhaXRpbmdDQnNbXCJ3cml0ZV9cIiArIHF1ZXJ5SURdID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgIGNvbXBsZXRlKHIpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl93LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIGRvOiBcIndyaXRlXCIsXG4gICAgICAgICAgICBhcmdzOiB7XG4gICAgICAgICAgICAgICAgdGFibGU6IHRhYmxlLFxuICAgICAgICAgICAgICAgIGlkOiBxdWVyeUlELFxuICAgICAgICAgICAgICAgIHJvdzogclxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIF9hO1xuICAgIH07XG4gICAgX0luZGV4ZWREQlN0b3JlLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAodGFibGUsIHBrLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgaWR4ID0gdGhpcy5fZGJJbmRleFt0YWJsZV0uaW5kZXhPZihwayk7XG4gICAgICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9kYkluZGV4W3RhYmxlXS5yZW1vdmUocGspO1xuICAgICAgICB9XG4gICAgICAgIHZhciBxdWVyeUlEID0gdXRpbGl0aWVzXzEudXVpZCgpO1xuICAgICAgICB0aGlzLl93YWl0aW5nQ0JzW1wiZGVsZXRlX1wiICsgcXVlcnlJRF0gPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgY29tcGxldGUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fdy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBkbzogXCJkZWxldGVcIiwgYXJnczoge1xuICAgICAgICAgICAgICAgIHRhYmxlOiB0YWJsZSxcbiAgICAgICAgICAgICAgICBpZDogcXVlcnlJRCxcbiAgICAgICAgICAgICAgICBwazogcGtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBfSW5kZXhlZERCU3RvcmUucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAodGFibGUsIHBrLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgcXVlcnlJRCA9IHV0aWxpdGllc18xLnV1aWQoKTtcbiAgICAgICAgaWYgKHRoaXMuX2RiSW5kZXhbdGFibGVdLmluZGV4T2YocGspID09PSAtMSkge1xuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fd2FpdGluZ0NCc1tcInJlYWRfXCIgKyBxdWVyeUlEXSA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fdy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBkbzogXCJyZWFkXCIsIGFyZ3M6IHtcbiAgICAgICAgICAgICAgICB0YWJsZTogdGFibGUsXG4gICAgICAgICAgICAgICAgaWQ6IHF1ZXJ5SUQsXG4gICAgICAgICAgICAgICAgcGs6IHBrXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgX0luZGV4ZWREQlN0b3JlLnByb3RvdHlwZS5yYW5nZVJlYWQgPSBmdW5jdGlvbiAodGFibGUsIHJvd0NhbGxiYWNrLCBjb21wbGV0ZSwgZnJvbSwgdG8sIHVzZVBLKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBrZXlzID0gdGhpcy5fZGJJbmRleFt0YWJsZV0ua2V5cygpO1xuICAgICAgICB2YXIgdXNlZnVsVmFsdWVzID0gW3R5cGVvZiBmcm9tLCB0eXBlb2YgdG9dLmluZGV4T2YoXCJ1bmRlZmluZWRcIikgPT09IC0xO1xuICAgICAgICB2YXIgcmFuZ2VzID0gdXNlZnVsVmFsdWVzID8gW2Zyb20sIHRvXSA6IFswLCBrZXlzLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoIWtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBxdWVyeUlEID0gdXRpbGl0aWVzXzEudXVpZCgpO1xuICAgICAgICB2YXIgcm93cyA9IFtdO1xuICAgICAgICB2YXIgaWR4ID0gcmFuZ2VzWzBdO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHRoaXMuX3dhaXRpbmdDQnNbXCJyZWFkUmFuZ2VfXCIgKyBxdWVyeUlEICsgXCJfZG9uZVwiXSA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICBkZWxldGUgX3RoaXMuX3dhaXRpbmdDQnNbXCJyZWFkUmFuZ2VfXCIgKyBxdWVyeUlEXTtcbiAgICAgICAgICAgIHJvd3MgPSBhcmdzO1xuICAgICAgICAgICAgdmFyIGdldFJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoaWR4IDw9IHJhbmdlc1sxXSkge1xuICAgICAgICAgICAgICAgICAgICByb3dDYWxsYmFjayhyb3dzW2ldLCBpZHgsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkeCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSAlIDUwMCA9PT0gMCA/IGxpZV90c18xLnNldEZhc3QoZ2V0Um93KSA6IGdldFJvdygpOyAvLyBoYW5kbGUgbWF4aW11bSBjYWxsIHN0YWNrIGVycm9yXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZ2V0Um93KCk7XG4gICAgICAgIH07XG4gICAgICAgIC8qY29uc3QgZ2V0TmV4dFJvd3MgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl93YWl0aW5nQ0JzW1wicmVhZFJhbmdlX1wiICsgcXVlcnlJRF0gPSAoYXJnczogREJSb3dbXSkgPT4ge1xuICAgICAgICAgICAgICAgIHJvd3MgPSByb3dzLmNvbmNhdChhcmdzKTtcbiAgICAgICAgICAgICAgICBnZXROZXh0Um93cygpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgZ2V0TmV4dFJvd3MoKTsqL1xuICAgICAgICB0aGlzLl93LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIGRvOiBcInJlYWRSYW5nZVwiLFxuICAgICAgICAgICAgYXJnczoge1xuICAgICAgICAgICAgICAgIHRhYmxlOiB0YWJsZSxcbiAgICAgICAgICAgICAgICBpZDogcXVlcnlJRCxcbiAgICAgICAgICAgICAgICByYW5nZTogdXNlUEsgJiYgdXNlZnVsVmFsdWVzID8gcmFuZ2VzIDogcmFuZ2VzLm1hcChmdW5jdGlvbiAocikgeyByZXR1cm4ga2V5c1tyXTsgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBfSW5kZXhlZERCU3RvcmUucHJvdG90eXBlLmRyb3AgPSBmdW5jdGlvbiAodGFibGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBpZHggPSBuZXcgZGJfaWR4XzEuRGF0YWJhc2VJbmRleCgpO1xuICAgICAgICBpZHguZG9BSSA9IHRoaXMuX2RiSW5kZXhbdGFibGVdLmRvQUk7XG4gICAgICAgIHRoaXMuX2RiSW5kZXhbdGFibGVdID0gaWR4O1xuICAgICAgICB2YXIgcXVlcnlJRCA9IHV0aWxpdGllc18xLnV1aWQoKTtcbiAgICAgICAgdGhpcy5fd2FpdGluZ0NCc1tcImRlbGV0ZV9cIiArIHF1ZXJ5SURdID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3cucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgZG86IFwiZGVsZXRlXCIsIGFyZ3M6IHtcbiAgICAgICAgICAgICAgICB0YWJsZTogdGFibGUsXG4gICAgICAgICAgICAgICAgaWQ6IHF1ZXJ5SUQsXG4gICAgICAgICAgICAgICAgcGs6IFwiX2NsZWFyX1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgX0luZGV4ZWREQlN0b3JlLnByb3RvdHlwZS5nZXRJbmRleCA9IGZ1bmN0aW9uICh0YWJsZSwgZ2V0TGVuZ3RoLCBjb21wbGV0ZSkge1xuICAgICAgICBjb21wbGV0ZShnZXRMZW5ndGggPyB0aGlzLl9kYkluZGV4W3RhYmxlXS5rZXlzKCkubGVuZ3RoIDogdGhpcy5fZGJJbmRleFt0YWJsZV0ua2V5cygpKTtcbiAgICB9O1xuICAgIF9JbmRleGVkREJTdG9yZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChjb21wbGV0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKE9iamVjdC5rZXlzKHRoaXMuX2RiSW5kZXgpLCBmdW5jdGlvbiAodGFibGUsIGksIGRvbmUpIHtcbiAgICAgICAgICAgIF90aGlzLmRyb3AodGFibGUsIGRvbmUpO1xuICAgICAgICB9KS50aGVuKGNvbXBsZXRlKTtcbiAgICB9O1xuICAgIHJldHVybiBfSW5kZXhlZERCU3RvcmU7XG59KCkpO1xuZXhwb3J0cy5fSW5kZXhlZERCU3RvcmUgPSBfSW5kZXhlZERCU3RvcmU7XG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcclxuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxyXG4gICAgICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBsaWVfdHNfMSA9IHJlcXVpcmUoXCJsaWUtdHNcIik7XHJcbnZhciB1dGlsaXRpZXNfMSA9IHJlcXVpcmUoXCIuLi91dGlsaXRpZXNcIik7XHJcbnZhciBkYl9pZHhfMSA9IHJlcXVpcmUoXCIuL2RiLWlkeFwiKTtcclxuLyoqXHJcbiAqIEhhbmRsZXMgYWxsIGF2YWlsYWJsZSBzeW5jcm9ub3VzIHZlcnNpb25zIG9mIHN0b3JhZ2UgKG1lbW9yeSBhbmQgbG9jYWxzdG9yYWdlKVxyXG4gKlxyXG4gKiBAZXhwb3J0XHJcbiAqIEBjbGFzcyBfU3luY1N0b3JlXHJcbiAqIEBpbXBsZW1lbnRzIHtOYW5vU1FMU3RvcmFnZUFkYXB0ZXJ9XHJcbiAqL1xyXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcclxudmFyIF9TeW5jU3RvcmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBfU3luY1N0b3JlKHVzZUxvY2FsU3RvcmFnZSkge1xyXG4gICAgICAgIHRoaXMuX3BrS2V5ID0ge307XHJcbiAgICAgICAgdGhpcy5fcGtUeXBlID0ge307XHJcbiAgICAgICAgdGhpcy5fcm93cyA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2RiSW5kZXggPSB7fTtcclxuICAgICAgICB0aGlzLl9scyA9IHVzZUxvY2FsU3RvcmFnZSB8fCBmYWxzZTtcclxuICAgIH1cclxuICAgIF9TeW5jU3RvcmUucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAoY29tcGxldGUpIHtcclxuICAgICAgICBjb21wbGV0ZSgpO1xyXG4gICAgfTtcclxuICAgIF9TeW5jU3RvcmUucHJvdG90eXBlLnNldElEID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgdGhpcy5faWQgPSBpZDtcclxuICAgIH07XHJcbiAgICBfU3luY1N0b3JlLnByb3RvdHlwZS5tYWtlVGFibGUgPSBmdW5jdGlvbiAodGFibGVOYW1lLCBkYXRhTW9kZWxzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLl9yb3dzW3RhYmxlTmFtZV0gPSB7fTtcclxuICAgICAgICB0aGlzLl9kYkluZGV4W3RhYmxlTmFtZV0gPSBuZXcgZGJfaWR4XzEuRGF0YWJhc2VJbmRleCgpO1xyXG4gICAgICAgIGRhdGFNb2RlbHMuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAoZC5wcm9wcyAmJiB1dGlsaXRpZXNfMS5pbnRlcnNlY3QoW1wicGtcIiwgXCJwaygpXCJdLCBkLnByb3BzKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3BrVHlwZVt0YWJsZU5hbWVdID0gZC50eXBlO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3BrS2V5W3RhYmxlTmFtZV0gPSBkLmtleTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZC5wcm9wcyAmJiB1dGlsaXRpZXNfMS5pbnRlcnNlY3QoW1wicGtcIiwgXCJwaygpXCJdLCBkLnByb3BzKSAmJiB1dGlsaXRpZXNfMS5pbnRlcnNlY3QoW1wiYWlcIiwgXCJhaSgpXCJdLCBkLnByb3BzKSAmJiBkLnR5cGUgPT09IFwiaW50XCIpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9kYkluZGV4W3RhYmxlTmFtZV0uZG9BSSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKF90aGlzLl9scykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oX3RoaXMuX2lkICsgXCIqXCIgKyB0YWJsZU5hbWUgKyBcIl9pZHhcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZGJJbmRleFt0YWJsZU5hbWVdLnNldChKU09OLnBhcnNlKGluZGV4KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBfU3luY1N0b3JlLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uICh0YWJsZSwgcGssIGRhdGEsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgcGsgPSBwayB8fCB1dGlsaXRpZXNfMS5nZW5lcmF0ZUlEKHRoaXMuX3BrVHlwZVt0YWJsZV0sIHRoaXMuX2RiSW5kZXhbdGFibGVdLmFpKTtcclxuICAgICAgICBpZiAoIXBrKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGFkZCBhIHJvdyB3aXRob3V0IGEgcHJpbWFyeSBrZXkhXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fZGJJbmRleFt0YWJsZV0uaW5kZXhPZihwaykgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RiSW5kZXhbdGFibGVdLmFkZChwayk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9scykge1xyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5faWQgKyBcIipcIiArIHRhYmxlICsgXCJfaWR4XCIsIEpTT04uc3RyaW5naWZ5KHRoaXMuX2RiSW5kZXhbdGFibGVdLmtleXMoKSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9scykge1xyXG4gICAgICAgICAgICB2YXIgciA9IF9fYXNzaWduKHt9LCBkYXRhLCAoX2EgPSB7fSwgX2FbdGhpcy5fcGtLZXlbdGFibGVdXSA9IHBrLCBfYSkpO1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLl9pZCArIFwiKlwiICsgdGFibGUgKyBcIl9fXCIgKyBwaywgSlNPTi5zdHJpbmdpZnkocikpO1xyXG4gICAgICAgICAgICBjb21wbGV0ZShyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciByID0gX19hc3NpZ24oe30sIGRhdGEsIChfYiA9IHt9LCBfYlt0aGlzLl9wa0tleVt0YWJsZV1dID0gcGssIF9iKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jvd3NbdGFibGVdW3BrXSA9IHV0aWxpdGllc18xLmRlZXBGcmVlemUocik7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKHIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgX2EsIF9iO1xyXG4gICAgfTtcclxuICAgIF9TeW5jU3RvcmUucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICh0YWJsZSwgcGssIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIGlkeCA9IHRoaXMuX2RiSW5kZXhbdGFibGVdLmluZGV4T2YocGspO1xyXG4gICAgICAgIGlmIChpZHggIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RiSW5kZXhbdGFibGVdLnJlbW92ZShwayk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9scykge1xyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5faWQgKyBcIipcIiArIHRhYmxlICsgXCJfaWR4XCIsIEpTT04uc3RyaW5naWZ5KHRoaXMuX2RiSW5kZXhbdGFibGVdLmtleXMoKSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9scykge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLl9pZCArIFwiKlwiICsgdGFibGUgKyBcIl9fXCIgKyBwayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fcm93c1t0YWJsZV1bcGtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb21wbGV0ZSgpO1xyXG4gICAgfTtcclxuICAgIF9TeW5jU3RvcmUucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAodGFibGUsIHBrLCBjYWxsYmFjaykge1xyXG4gICAgICAgIGlmICh0aGlzLl9scykge1xyXG4gICAgICAgICAgICB2YXIgciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuX2lkICsgXCIqXCIgKyB0YWJsZSArIFwiX19cIiArIHBrKTtcclxuICAgICAgICAgICAgY2FsbGJhY2sociA/IEpTT04ucGFyc2UocikgOiB1bmRlZmluZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY2FsbGJhY2sodGhpcy5fcm93c1t0YWJsZV1bcGtdKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgX1N5bmNTdG9yZS5wcm90b3R5cGUucmFuZ2VSZWFkID0gZnVuY3Rpb24gKHRhYmxlLCByb3dDYWxsYmFjaywgY29tcGxldGUsIGZyb20sIHRvLCB1c2VQSykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGtleXMgPSB0aGlzLl9kYkluZGV4W3RhYmxlXS5rZXlzKCk7XHJcbiAgICAgICAgdmFyIHVzZWZ1bFZhbHVlcyA9IFt0eXBlb2YgZnJvbSwgdHlwZW9mIHRvXS5pbmRleE9mKFwidW5kZWZpbmVkXCIpID09PSAtMTtcclxuICAgICAgICB2YXIgcmFuZ2VzID0gdXNlZnVsVmFsdWVzID8gW2Zyb20sIHRvXSA6IFswLCBrZXlzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIGlmICgha2V5cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodXNlUEsgJiYgdXNlZnVsVmFsdWVzKSB7XHJcbiAgICAgICAgICAgIHJhbmdlcyA9IHJhbmdlcy5tYXAoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIF90aGlzLl9kYkluZGV4W3RhYmxlXS5nZXRMb2NhdGlvbihyKTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpZHggPSByYW5nZXNbMF07XHJcbiAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgIHZhciByb3dEb25lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZHgrKztcclxuICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICBpICUgNTAwID09PSAwID8gbGllX3RzXzEuc2V0RmFzdChnZXRSb3cpIDogZ2V0Um93KCk7IC8vIGhhbmRsZSBtYXhpbXVtIGNhbGwgc3RhY2sgZXJyb3JcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBnZXRSb3cgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChpZHggPD0gcmFuZ2VzWzFdKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX2xzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShfdGhpcy5faWQgKyBcIipcIiArIHRhYmxlICsgXCJfX1wiICsga2V5c1tpZHhdKTtcclxuICAgICAgICAgICAgICAgICAgICByb3dDYWxsYmFjayhyID8gSlNPTi5wYXJzZShyKSA6IHVuZGVmaW5lZCwgaWR4LCByb3dEb25lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd0NhbGxiYWNrKF90aGlzLl9yb3dzW3RhYmxlXVtrZXlzW2lkeF1dLCBpZHgsIHJvd0RvbmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZ2V0Um93KCk7XHJcbiAgICB9O1xyXG4gICAgX1N5bmNTdG9yZS5wcm90b3R5cGUuZHJvcCA9IGZ1bmN0aW9uICh0YWJsZSwgY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLl9scykge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLl9pZCArIFwiKlwiICsgdGFibGUgKyBcIl9pZHhcIiwgSlNPTi5zdHJpbmdpZnkoW10pKTtcclxuICAgICAgICAgICAgdGhpcy5fZGJJbmRleFt0YWJsZV0ua2V5cygpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oX3RoaXMuX2lkICsgXCIqXCIgKyB0YWJsZSArIFwiX19cIiArIGtleSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fcm93c1t0YWJsZV0gPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGlkeCA9IG5ldyBkYl9pZHhfMS5EYXRhYmFzZUluZGV4KCk7XHJcbiAgICAgICAgaWR4LmRvQUkgPSB0aGlzLl9kYkluZGV4W3RhYmxlXS5kb0FJO1xyXG4gICAgICAgIHRoaXMuX2RiSW5kZXhbdGFibGVdID0gaWR4O1xyXG4gICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICB9O1xyXG4gICAgX1N5bmNTdG9yZS5wcm90b3R5cGUuZ2V0SW5kZXggPSBmdW5jdGlvbiAodGFibGUsIGdldExlbmd0aCwgY29tcGxldGUpIHtcclxuICAgICAgICBjb21wbGV0ZShnZXRMZW5ndGggPyB0aGlzLl9kYkluZGV4W3RhYmxlXS5rZXlzKCkubGVuZ3RoIDogdGhpcy5fZGJJbmRleFt0YWJsZV0ua2V5cygpKTtcclxuICAgIH07XHJcbiAgICBfU3luY1N0b3JlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKE9iamVjdC5rZXlzKHRoaXMuX2RiSW5kZXgpLCBmdW5jdGlvbiAodGFibGUsIGksIGRvbmUpIHtcclxuICAgICAgICAgICAgX3RoaXMuZHJvcCh0YWJsZSwgZG9uZSk7XHJcbiAgICAgICAgfSkudGhlbihjb21wbGV0ZSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9TeW5jU3RvcmU7XHJcbn0oKSk7XHJcbmV4cG9ydHMuX1N5bmNTdG9yZSA9IF9TeW5jU3RvcmU7XHJcbiIsIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvbmZpZyA9IHtcclxuICAgIEVORF9XT1JEOiBcIiRcIixcclxuICAgIFBFUk1TX01JTl9MRU46IDIsXHJcbn07XHJcbnZhciBUcmllID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFRyaWUoaW5wdXQpIHtcclxuICAgICAgICB0aGlzLl90cmllID0gVHJpZS5fY3JlYXRlKGlucHV0KTtcclxuICAgIH1cclxuICAgIFRyaWUucHJvdG90eXBlLmdldEluZGV4ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90cmllO1xyXG4gICAgfTtcclxuICAgIFRyaWUucHJvdG90eXBlLnNldEluZGV4ID0gZnVuY3Rpb24gKHRyaWUpIHtcclxuICAgICAgICB0aGlzLl90cmllID0gdHJpZTtcclxuICAgIH07XHJcbiAgICBUcmllLnByb3RvdHlwZS5hZGRXb3JkID0gZnVuY3Rpb24gKHdvcmQpIHtcclxuICAgICAgICB2YXIgcmVkdWNlciA9IGZ1bmN0aW9uIChwcmV2aW91c1ZhbHVlLCBjdXJyZW50VmFsdWUsIGN1cnJlbnRJbmRleCwgYXJyYXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFRyaWUuX2FwcGVuZChwcmV2aW91c1ZhbHVlLCBjdXJyZW50VmFsdWUsIGN1cnJlbnRJbmRleCwgYXJyYXkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGlucHV0ID0gd29yZC50b0xvd2VyQ2FzZSgpLnNwbGl0KFwiXCIpO1xyXG4gICAgICAgIGlucHV0LnJlZHVjZShyZWR1Y2VyLCB0aGlzLl90cmllKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBUcmllLnByb3RvdHlwZS5yZW1vdmVXb3JkID0gZnVuY3Rpb24gKHdvcmQpIHtcclxuICAgICAgICB2YXIgX2EgPSBUcmllLl9jaGVja1ByZWZpeCh0aGlzLl90cmllLCB3b3JkKSwgcHJlZml4Rm91bmQgPSBfYS5wcmVmaXhGb3VuZCwgcHJlZml4Tm9kZSA9IF9hLnByZWZpeE5vZGU7XHJcbiAgICAgICAgaWYgKHByZWZpeEZvdW5kKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBwcmVmaXhOb2RlW2NvbmZpZy5FTkRfV09SRF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIFRyaWUucHJvdG90eXBlLmdldFdvcmRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBUcmllLl9yZWN1cnNlUHJlZml4KHRoaXMuX3RyaWUsICcnKTtcclxuICAgIH07XHJcbiAgICBUcmllLnByb3RvdHlwZS5nZXRQcmVmaXggPSBmdW5jdGlvbiAoc3RyUHJlZml4KSB7XHJcbiAgICAgICAgc3RyUHJlZml4ID0gc3RyUHJlZml4LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9pc1ByZWZpeChzdHJQcmVmaXgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHByZWZpeE5vZGUgPSBUcmllLl9jaGVja1ByZWZpeCh0aGlzLl90cmllLCBzdHJQcmVmaXgpLnByZWZpeE5vZGU7XHJcbiAgICAgICAgcmV0dXJuIFRyaWUuX3JlY3Vyc2VQcmVmaXgocHJlZml4Tm9kZSwgc3RyUHJlZml4KTtcclxuICAgIH07XHJcbiAgICBUcmllLnByb3RvdHlwZS5faXNQcmVmaXggPSBmdW5jdGlvbiAocHJlZml4KSB7XHJcbiAgICAgICAgdmFyIHByZWZpeEZvdW5kID0gVHJpZS5fY2hlY2tQcmVmaXgodGhpcy5fdHJpZSwgcHJlZml4KS5wcmVmaXhGb3VuZDtcclxuICAgICAgICByZXR1cm4gcHJlZml4Rm91bmQ7XHJcbiAgICB9O1xyXG4gICAgVHJpZS5fYXBwZW5kID0gZnVuY3Rpb24gKHRyaWUsIGxldHRlciwgaW5kZXgsIGFycmF5KSB7XHJcbiAgICAgICAgdHJpZVtsZXR0ZXJdID0gdHJpZVtsZXR0ZXJdIHx8IHt9O1xyXG4gICAgICAgIHRyaWUgPSB0cmllW2xldHRlcl07XHJcbiAgICAgICAgaWYgKGluZGV4ID09PSBhcnJheS5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIHRyaWVbY29uZmlnLkVORF9XT1JEXSA9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cmllO1xyXG4gICAgfTtcclxuICAgIFRyaWUuX2NoZWNrUHJlZml4ID0gZnVuY3Rpb24gKHByZWZpeE5vZGUsIHByZWZpeCkge1xyXG4gICAgICAgIHZhciBpbnB1dCA9IHByZWZpeC50b0xvd2VyQ2FzZSgpLnNwbGl0KFwiXCIpO1xyXG4gICAgICAgIHZhciBwcmVmaXhGb3VuZCA9IGlucHV0LmV2ZXJ5KGZ1bmN0aW9uIChsZXR0ZXIsIGluZGV4KSB7XHJcbiAgICAgICAgICAgIGlmICghcHJlZml4Tm9kZVtsZXR0ZXJdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHByZWZpeE5vZGUgPSBwcmVmaXhOb2RlW2xldHRlcl07XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcHJlZml4Rm91bmQ6IHByZWZpeEZvdW5kLFxyXG4gICAgICAgICAgICBwcmVmaXhOb2RlOiBwcmVmaXhOb2RlLFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgVHJpZS5fY3JlYXRlID0gZnVuY3Rpb24gKGlucHV0KSB7XHJcbiAgICAgICAgdmFyIHRyaWUgPSAoaW5wdXQgfHwgW10pLnJlZHVjZShmdW5jdGlvbiAoYWNjdW11bGF0b3IsIGl0ZW0pIHtcclxuICAgICAgICAgICAgaXRlbVxyXG4gICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcclxuICAgICAgICAgICAgICAgIC5zcGxpdChcIlwiKVxyXG4gICAgICAgICAgICAgICAgLnJlZHVjZShUcmllLl9hcHBlbmQsIGFjY3VtdWxhdG9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xyXG4gICAgICAgIH0sIHt9KTtcclxuICAgICAgICByZXR1cm4gdHJpZTtcclxuICAgIH07XHJcbiAgICBUcmllLl9yZWN1cnNlUHJlZml4ID0gZnVuY3Rpb24gKG5vZGUsIHByZWZpeCwgcHJlZml4ZXMpIHtcclxuICAgICAgICBpZiAocHJlZml4ZXMgPT09IHZvaWQgMCkgeyBwcmVmaXhlcyA9IFtdOyB9XHJcbiAgICAgICAgdmFyIHdvcmQgPSBwcmVmaXg7XHJcbiAgICAgICAgZm9yICh2YXIgYnJhbmNoIGluIG5vZGUpIHtcclxuICAgICAgICAgICAgaWYgKGJyYW5jaCA9PT0gY29uZmlnLkVORF9XT1JEKSB7XHJcbiAgICAgICAgICAgICAgICBwcmVmaXhlcy5wdXNoKHdvcmQpO1xyXG4gICAgICAgICAgICAgICAgd29yZCA9IFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgVHJpZS5fcmVjdXJzZVByZWZpeChub2RlW2JyYW5jaF0sIHByZWZpeCArIGJyYW5jaCwgcHJlZml4ZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcHJlZml4ZXMuc29ydCgpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBUcmllO1xyXG59KCkpO1xyXG5leHBvcnRzLlRyaWUgPSBUcmllO1xyXG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcclxuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxyXG4gICAgICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBwcmVmaXhfdHJpZV90c18xID0gcmVxdWlyZShcInByZWZpeC10cmllLXRzXCIpO1xyXG52YXIgdXRpbGl0aWVzXzEgPSByZXF1aXJlKFwiLi4vdXRpbGl0aWVzXCIpO1xyXG52YXIgYWRhcHRlcl9zeW5jXzEgPSByZXF1aXJlKFwiLi9hZGFwdGVyLXN5bmNcIik7XHJcbnZhciBhZGFwdGVyX2luZGV4ZWREQl8xID0gcmVxdWlyZShcIi4vYWRhcHRlci1pbmRleGVkREJcIik7XHJcbnZhciBhZGFwdGVyX3dlYnNxbF8xID0gcmVxdWlyZShcIi4vYWRhcHRlci13ZWJzcWxcIik7XHJcbi8qIE5PREUtU1RBUlQgKi9cclxudmFyIGFkYXB0ZXJfbGV2ZWxEQl8xID0gcmVxdWlyZShcIi4vYWRhcHRlci1sZXZlbERCXCIpO1xyXG4vKipcclxuICogSG9sZHMgdGhlIGdlbmVyYWwgYWJzdHJhY3Rpb25zIHRvIGNvbm5lY3QgdGhlIHF1ZXJ5IG1vZHVsZSB0byB0aGUgc3RvcmFnZSBhZGFwdGVycy5cclxuICogVGFrZXMgY2FyZSBvZiBpbmRleGluZywgdHJpZXMsIHNlY29uZGFyeSBpbmRleGVzIGFuZCBhZGFwdGVyIG1hbmFnZW1lbnQuXHJcbiAqXHJcbiAqIEBleHBvcnRcclxuICogQGNsYXNzIF9OYW5vU1FMU3RvcmFnZVxyXG4gKi9cclxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXHJcbnZhciBfTmFub1NRTFN0b3JhZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBfTmFub1NRTFN0b3JhZ2UocGFyZW50LCBhcmdzKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQXJyYXkgb2YgdGFibGUgbmFtZXNcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmdbXX1cclxuICAgICAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxTdG9yYWdlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fdGFibGVOYW1lcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuX25zcWwgPSBwYXJlbnQ7XHJcbiAgICAgICAgdGhpcy5fbW9kZSA9IGFyZ3MucGVyc2lzdGVudCA/IFwiUEVSTVwiIDogYXJncy5tb2RlIHx8IFwiVEVNUFwiO1xyXG4gICAgICAgIHRoaXMuX2lkID0gYXJncy5pZDtcclxuICAgICAgICB0aGlzLl9zaXplID0gYXJncy5zaXplIHx8IDU7XHJcbiAgICAgICAgdGhpcy5hZGFwdGVycyA9IFtdO1xyXG4gICAgICAgIHRoaXMubW9kZWxzID0ge307XHJcbiAgICAgICAgdGhpcy50YWJsZUluZm8gPSB7fTtcclxuICAgICAgICB0aGlzLl90cmllSW5kZXhlcyA9IHt9O1xyXG4gICAgICAgIHRoaXMuX3RhYmxlTmFtZXMgPSBbXTtcclxuICAgICAgICB0aGlzLl9kb0NhY2hlID0gYXJncy5jYWNoZSB8fCB0cnVlO1xyXG4gICAgICAgIHRoaXMuX2NhY2hlID0ge307XHJcbiAgICAgICAgdGhpcy5fY2FjaGVLZXlzID0ge307XHJcbiAgICAgICAgdGhpcy5hZGFwdGVyc1swXSA9IHtcclxuICAgICAgICAgICAgYWRhcHRlcjogbnVsbCxcclxuICAgICAgICAgICAgd2FpdEZvcldyaXRlczogdHJ1ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9tb2RlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9tb2RlID09PSBcIlBFUk1cIikge1xyXG4gICAgICAgICAgICAgICAgLypjb25zdCBtb2RlcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBJREI6IFwiSW5kZXhlZCBEQlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIElEQl9XVzogXCJJbmRleGVkIERCIChXZWIgV29ya2VyKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFdTUUw6IFwiV2ViU1FMXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgTFM6IFwiTG9jYWwgU3RvcmFnZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFRFTVA6IFwibWVtb3J5XCJcclxuICAgICAgICAgICAgICAgIH07Ki9cclxuICAgICAgICAgICAgICAgIHRoaXMuX21vZGUgPSB0aGlzLl9kZXRlY3RTdG9yYWdlTWV0aG9kKCkgfHwgdGhpcy5fbW9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX21vZGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJJREJcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkYXB0ZXJzWzBdLmFkYXB0ZXIgPSBuZXcgYWRhcHRlcl9pbmRleGVkREJfMS5fSW5kZXhlZERCU3RvcmUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIklEQl9XV1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlcnNbMF0uYWRhcHRlciA9IG5ldyBhZGFwdGVyX2luZGV4ZWREQl8xLl9JbmRleGVkREJTdG9yZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJXU1FMXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGFwdGVyc1swXS5hZGFwdGVyID0gbmV3IGFkYXB0ZXJfd2Vic3FsXzEuX1dlYlNRTFN0b3JlKHRoaXMuX3NpemUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkxTXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGFwdGVyc1swXS5hZGFwdGVyID0gbmV3IGFkYXB0ZXJfc3luY18xLl9TeW5jU3RvcmUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAvKiBOT0RFLVNUQVJUICovXHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiTFZMXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGFwdGVyc1swXS5hZGFwdGVyID0gbmV3IGFkYXB0ZXJfbGV2ZWxEQl8xLl9MZXZlbFN0b3JlKGFyZ3MuZGJQYXRoLCBhcmdzLndyaXRlQ2FjaGUsIGFyZ3MucmVhZENhY2hlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIC8qIE5PREUtRU5EICovXHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiVEVNUFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlcnNbMF0uYWRhcHRlciA9IG5ldyBhZGFwdGVyX3N5bmNfMS5fU3luY1N0b3JlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5hZGFwdGVyc1swXS5hZGFwdGVyID0gdGhpcy5fbW9kZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLypcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Zhc3RSZWFkQWRhcHRlciA9IHRoaXMuYWRhcHRlcnNbMF0uYWRhcHRlcjtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Nsb3dSZWFkQWRhcHRlciA9IHRoaXMuYWRhcHRlcnNbMF0uYWRhcHRlcjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYXJncy5zZWNvbmRhcnlBZGFwdGVycyAmJiBhcmdzLnNlY29uZGFyeUFkYXB0ZXJzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlcnMgPSB0aGlzLmFkYXB0ZXJzLmNvbmNhdChhcmdzLnNlY29uZGFyeUFkYXB0ZXJzKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkYXB0ZXJzLmZvckVhY2goKGEsIGkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IDApIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoYS5kb0Zhc3RSZWFkcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmFzdFJlYWRBZGFwdGVyID0gYS5hZGFwdGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhLmRvU2xvd1JlYWRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zbG93UmVhZEFkYXB0ZXIgPSBhLmFkYXB0ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSovXHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEluaXRpbGl6ZSB0aGUgc3RvcmFnZSBhZGFwdGVyIGFuZCBnZXQgcmVhZHkgdG8gcnVtYmxlIVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7U3RkT2JqZWN0PERhdGFNb2RlbFtdPn0gZGF0YU1vZGVsc1xyXG4gICAgICogQHBhcmFtIHsobmV3TW9kZWxzOiBTdGRPYmplY3Q8RGF0YU1vZGVsW10+KSA9PiB2b2lkfSBjb21wbGV0ZVxyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMU3RvcmFnZVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFN0b3JhZ2UucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoZGF0YU1vZGVscywgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICghdGhpcy5faWQpIHtcclxuICAgICAgICAgICAgdGhpcy5faWQgPSB1dGlsaXRpZXNfMS5oYXNoKEpTT04uc3RyaW5naWZ5KGRhdGFNb2RlbHMpKS50b1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1vZGVscyA9IHRoaXMuX2NyZWF0ZVNlY29uZGFyeUluZGV4VGFibGVzKGRhdGFNb2RlbHMpO1xyXG4gICAgICAgIHRoaXMuX3RhYmxlTmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLm1vZGVscyk7XHJcbiAgICAgICAgdGhpcy5hZGFwdGVycy5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgIGEuYWRhcHRlci5zZXRJRChfdGhpcy5faWQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX3RhYmxlTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAodGFibGUpIHtcclxuICAgICAgICAgICAgX3RoaXMuX25ld1RhYmxlKHRhYmxlLCBkYXRhTW9kZWxzW3RhYmxlXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fcmVsRnJvbVRhYmxlID0ge307XHJcbiAgICAgICAgdGhpcy5fcmVsVG9UYWJsZSA9IHt9O1xyXG4gICAgICAgIHRoaXMuX3JlbGF0aW9uQ29sdW1ucyA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2NvbHVtbnNBcmVUYWJsZXMgPSB7fTtcclxuICAgICAgICB0aGlzLl90YWJsZU5hbWVzLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlKSB7XHJcbiAgICAgICAgICAgIC8vIGZpbmlzaCB2aWV3cyBkYXRhXHJcbiAgICAgICAgICAgIC8vIGdldHMgYSBsaXN0IG9mIHRhYmxlcyB0aGF0IG5lZWQgdG8gYmUgY2hlY2tlZCBvbiBlYWNoIHJvdyB1cGRhdGUgb2YgdGhpcyB0YWJsZVxyXG4gICAgICAgICAgICBfdGhpcy50YWJsZUluZm9bdGFibGVdLl92aWV3VGFibGVzID0gT2JqZWN0LmtleXMoX3RoaXMudGFibGVJbmZvKS5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGN1cikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1ciA9PT0gdGFibGUpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgICAgICAgICB2YXIgdlRhYmxlcyA9IE9iamVjdC5rZXlzKF90aGlzLnRhYmxlSW5mb1tjdXJdLl92aWV3cyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodlRhYmxlcy5pbmRleE9mKHRhYmxlKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2LnB1c2goeyB0YWJsZTogY3VyLCBjb2x1bW46IF90aGlzLnRhYmxlSW5mb1tjdXJdLl92aWV3c1t0YWJsZV0ucGtDb2x1bW4gfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcclxuICAgICAgICAgICAgfSwgW10pO1xyXG4gICAgICAgICAgICAvLyBmaW5pc2ggT1JNIGFuZCBvdGhlciBzdHVmZlxyXG4gICAgICAgICAgICB2YXIgaSA9IF90aGlzLm1vZGVsc1t0YWJsZV0ubGVuZ3RoO1xyXG4gICAgICAgICAgICBfdGhpcy5fcmVsRnJvbVRhYmxlW3RhYmxlXSA9IHt9O1xyXG4gICAgICAgICAgICBfdGhpcy5fcmVsYXRpb25Db2x1bW5zW3RhYmxlXSA9IFtdO1xyXG4gICAgICAgICAgICBfdGhpcy5fcmVsVG9UYWJsZVt0YWJsZV0gPSBbXTtcclxuICAgICAgICAgICAgX3RoaXMuX2NvbHVtbnNBcmVUYWJsZXNbdGFibGVdID0ge307XHJcbiAgICAgICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHAgPSBfdGhpcy5tb2RlbHNbdGFibGVdW2ldO1xyXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHJlbGF0aW9uc1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLl90YWJsZU5hbWVzLmluZGV4T2YocC50eXBlLnJlcGxhY2UoXCJbXVwiLCBcIlwiKSkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hcFRvXzEgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9jb2x1bW5zQXJlVGFibGVzW3RhYmxlXVtwLmtleV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90b1RhYmxlOiBwLnR5cGUucmVwbGFjZShcIltdXCIsIFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpc1R5cGU6IHAudHlwZS5pbmRleE9mKFwiW11cIikgPT09IC0xID8gXCJzaW5nbGVcIiA6IFwiYXJyYXlcIlxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHAucHJvcHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcC5wcm9wcy5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbGQgZm9ybWF0IHJlZj0+Y29sdW1uIG9yIHJlZj0+Y29sdW1uW11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwLmluZGV4T2YoXCJyZWY9PlwiKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBUb18xID0gcC5yZXBsYWNlKFwicmVmPT5cIiwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBuZXcgZm9ybWF0IG9ybShjb2x1bW4pIG9yIG9ybShjb2x1bW5bXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwLmluZGV4T2YoXCJvcm0oXCIpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwVG9fMSA9IHAucmVwbGFjZSgvb3JtXFwoKC4qKVxcKS9nbWksIFwiJDFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFwVG9fMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2hhc09STSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcmVsYXRpb25Db2x1bW5zW3RhYmxlXS5wdXNoKHAua2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9yZWxGcm9tVGFibGVbdGFibGVdW3Aua2V5XSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdG9UYWJsZTogcC50eXBlLnJlcGxhY2UoXCJbXVwiLCBcIlwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdG9Db2x1bW46IG1hcFRvXzEucmVwbGFjZShcIltdXCIsIFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90b1R5cGU6IG1hcFRvXzEuaW5kZXhPZihcIltdXCIpID09PSAtMSA/IFwic2luZ2xlXCIgOiBcImFycmF5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXNUeXBlOiBwLnR5cGUuaW5kZXhPZihcIltdXCIpID09PSAtMSA/IFwic2luZ2xlXCIgOiBcImFycmF5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgICAgIF9sb29wXzEoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuX3JlbEZyb21UYWJsZSkuZm9yRWFjaChmdW5jdGlvbiAodGFibGUpIHtcclxuICAgICAgICAgICAgT2JqZWN0LmtleXMoX3RoaXMuX3JlbEZyb21UYWJsZVt0YWJsZV0pLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlbCA9IF90aGlzLl9yZWxGcm9tVGFibGVbdGFibGVdW2NvbHVtbl07XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVsVG9UYWJsZVtyZWwuX3RvVGFibGVdLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzQ29sdW1uOiByZWwuX3RvQ29sdW1uLFxyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzVHlwZTogcmVsLl90b1R5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgX2Zyb21UYWJsZTogdGFibGUsXHJcbiAgICAgICAgICAgICAgICAgICAgX2Zyb21Db2x1bW46IGNvbHVtbixcclxuICAgICAgICAgICAgICAgICAgICBfZnJvbVR5cGU6IHJlbC5fdGhpc1R5cGVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHRoaXMuYWRhcHRlcnMsIGZ1bmN0aW9uIChhLCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgIGEuYWRhcHRlci5jb25uZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhLmFkYXB0ZXIuc2V0TlNRTCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGEuYWRhcHRlci5zZXROU1FMKF90aGlzLl9uc3FsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIHBvcHVsYXRlIHRyaWUgZGF0YVxyXG4gICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKE9iamVjdC5rZXlzKF90aGlzLl90cmllSW5kZXhlcyksIGZ1bmN0aW9uICh0YWJsZSwgaSwgdGFibGVEb25lKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdHJpZUNvbHVtbnMgPSBfdGhpcy5fdHJpZUluZGV4ZXNbdGFibGVdO1xyXG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRyaWVDb2x1bW5zKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKE9iamVjdC5rZXlzKHRyaWVDb2x1bW5zKSwgZnVuY3Rpb24gKGNvbHVtbiwgaWksIG5leHRDb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkeFRhYmxlID0gXCJfXCIgKyB0YWJsZSArIFwiX2lkeF9cIiArIGNvbHVtbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRhcHRlcnNbMF0uYWRhcHRlci5nZXRJbmRleChpZHhUYWJsZSwgZmFsc2UsIGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXguZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdHJpZUluZGV4ZXNbdGFibGVdW2NvbHVtbl0uYWRkV29yZChTdHJpbmcodmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dENvbHVtbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKHRhYmxlRG9uZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0YWJsZURvbmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShfdGhpcy5tb2RlbHMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBfTmFub1NRTFN0b3JhZ2UucHJvdG90eXBlLl9pbnZhbGlkYXRlQ2FjaGUgPSBmdW5jdGlvbiAodGFibGUsIHBrcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9kb0NhY2hlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy5fY2FjaGVLZXlzW3RhYmxlXSkuZm9yRWFjaChmdW5jdGlvbiAoaGFzaCkge1xyXG4gICAgICAgICAgICB2YXIgaSA9IHBrcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIHZhciB2YWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHdoaWxlIChpLS0gJiYgdmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fY2FjaGVLZXlzW3RhYmxlXVtoYXNoXVtwa3NbaV1dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF90aGlzLl9jYWNoZVt0YWJsZV1baGFzaF07XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF90aGlzLl9jYWNoZUtleXNbdGFibGVdW2hhc2hdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlYnVpbGQgc2Vjb25kYXJ5IGluZGV4ZXMgb2YgYSBnaXZlbiB0YWJsZS5cclxuICAgICAqIFBhc3MgXCJfQUxMX1wiIGFzIHRhYmxlIHRvIHJlYnVpbGQgYWxsIGluZGV4ZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsodGltZTogbnVtYmVyKSA9PiB2b2lkfSBjb21wbGV0ZVxyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMU3RvcmFnZVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFN0b3JhZ2UucHJvdG90eXBlLnJlYnVpbGRJbmRleGVzID0gZnVuY3Rpb24gKHRhYmxlLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHN0YXJ0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChPYmplY3Qua2V5cyh0aGlzLnRhYmxlSW5mbyksIGZ1bmN0aW9uICh0YSwgaywgdGFibGVEb25lKSB7XHJcbiAgICAgICAgICAgIGlmICgodGFibGUgIT09IFwiX0FMTF9cIiAmJiB0YWJsZSAhPT0gdGEpIHx8IHRhLmluZGV4T2YoXCJfXCIpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0YWJsZURvbmUoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgc2Vjb25kSW5kZXhlcyA9IF90aGlzLnRhYmxlSW5mb1t0YV0uX3NlY29uZGFyeUluZGV4ZXM7XHJcbiAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwoc2Vjb25kSW5kZXhlcywgZnVuY3Rpb24gKGNvbHVtbiwgaiwgaWR4RG9uZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlkeFRhYmxlID0gXCJfXCIgKyB0YSArIFwiX2lkeF9cIiArIGNvbHVtbjtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9kcm9wKGlkeFRhYmxlLCBpZHhEb25lKTtcclxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGsgPSBfdGhpcy50YWJsZUluZm9bdGFdLl9waztcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleEdyb3VwcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgc2Vjb25kSW5kZXhlcy5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleEdyb3Vwc1tjb2x1bW5dID0ge307XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9yZWFkKHRhLCBmdW5jdGlvbiAocm93LCBpZHgsIGRvbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXJvd1twa10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kSW5kZXhlcy5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyb3dbY29sdW1uXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW5kZXhHcm91cHNbY29sdW1uXVtyb3dbY29sdW1uXV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4R3JvdXBzW2NvbHVtbl1bcm93W2NvbHVtbl1dID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhHcm91cHNbY29sdW1uXVtyb3dbY29sdW1uXV0ucHVzaChyb3dbcGtdKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBkb25lKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAvKnRoaXMuX3NldFNlY29uZGFyeUluZGV4ZXModGEsIHJvd1twa10sIHJvdywgW10sICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ki9cclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHNlY29uZEluZGV4ZXMsIGZ1bmN0aW9uIChpdGVtLCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHhUYWJsZSA9IFwiX1wiICsgdGEgKyBcIl9pZHhfXCIgKyBpdGVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKE9iamVjdC5rZXlzKGluZGV4R3JvdXBzW2l0ZW1dKSwgZnVuY3Rpb24gKHJvd0tleSwgaSwgbmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRhcHRlcldyaXRlKGlkeFRhYmxlLCByb3dLZXksIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogcm93S2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M6IGluZGV4R3JvdXBzW2l0ZW1dW3Jvd0tleV0uc29ydCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBuZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihkb25lKTtcclxuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVEb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gc3RhcnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVHVybiBhbnkganMgdmFyaWFibGUgaW50byBhIDMyIGNoYXJhY3RlciBsb25nIHByaW1hcnkga2V5IGZvciBzZWNvbmRhcnkgaW5kZXggdGFibGVzLlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxyXG4gICAgICogQHJldHVybnMgeyhzdHJpbmd8bnVtYmVyKX1cclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFN0b3JhZ2VcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxTdG9yYWdlLnByb3RvdHlwZS5fc2Vjb25kYXJ5SW5kZXhLZXkgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBpZiAodXRpbGl0aWVzXzEuaXNPYmplY3QodmFsdWUpIHx8IEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSkuc3Vic3RyKDAsIDEyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpLnN1YnN0cigwLCAzMik7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBVc2UgdmFyaW91c2UgbWV0aG9kcyB0byBkZXRlY3QgdGhlIGJlc3QgcGVyc2lzdGVudCBzdG9yYWdlIG1ldGhvZCBmb3IgdGhlIGVudmlyb25tZW50IE5hbm9TUUwgaXMgaW4uXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFN0b3JhZ2VcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxTdG9yYWdlLnByb3RvdHlwZS5fZGV0ZWN0U3RvcmFnZU1ldGhvZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBOb2RlSlNcclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJMVkxcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQnJvd3NlclxyXG4gICAgICAgIC8vIFNhZmFyaSAvIGlPUyBhbHdheXMgZ2V0cyBXZWJTUUwgKG1vYmlsZSBhbmQgZGVza3RvcClcclxuICAgICAgICBpZiAodXRpbGl0aWVzXzEuaXNTYWZhcmkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiV1NRTFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJRSBhbmQgRWRnZSBkb24ndCBzdXBwb3J0IEluZGV4ZWQgREIgd2ViIHdvcmtlcnMsIGFuZCBtYXkgbm90IHN1cHBvcnQgaW5kZXhlZCBkYiBhdCBhbGwuXHJcbiAgICAgICAgaWYgKHV0aWxpdGllc18xLmlzTVNCcm93c2VyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgaW5kZXhlZERCICE9PSBcInVuZGVmaW5lZFwiID8gXCJJREJcIiA6IFwiTFNcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZXZlcnlvbmUgZWxzZSAoRkYgKyBDaHJvbWUpXHJcbiAgICAgICAgLy8gY2hlY2sgZm9yIHN1cHBvcnQgZm9yIGluZGV4ZWQgZGIsIHdlYiB3b3JrZXJzIGFuZCBibG9iXHJcbiAgICAgICAgaWYgKFt0eXBlb2YgV29ya2VyLCB0eXBlb2YgQmxvYiwgdHlwZW9mIGluZGV4ZWREQl0uaW5kZXhPZihcInVuZGVmaW5lZFwiKSA9PT0gLTEgJiYgd2luZG93LlVSTCAmJiB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHcgPSBuZXcgV29ya2VyKHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtcInZhciB0ID0gJ3QnO1wiXSkpKTtcclxuICAgICAgICAgICAgICAgIHcucG9zdE1lc3NhZ2UoXCJcIik7XHJcbiAgICAgICAgICAgICAgICB3LnRlcm1pbmF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlkYklEID0gXCIxMjM0XCI7XHJcbiAgICAgICAgICAgICAgICBpbmRleGVkREIub3BlbihpZGJJRCwgMSk7XHJcbiAgICAgICAgICAgICAgICBpbmRleGVkREIuZGVsZXRlRGF0YWJhc2UoaWRiSUQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiSURCX1dXXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgLy8gd29ya2VyLCBibG9iLCBvciBpbmRleGVkIERCIGZhaWxlZFxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpbmRleGVkREIgIT09IFwidW5kZWZpbmVkXCIpIHsgLy8gZmFsbCBiYWNrIHRvIGluZGV4ZWQgZGIgaWYgd2UgY2FuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiSURCXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gbm90aGluZyBlbHNlIHdvcmtzLCB3ZSBnb3R0YSBkbyBsb2NhbCBzdG9yYWdlLiA6KFxyXG4gICAgICAgIHJldHVybiBcIkxTXCI7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgcm93cyBmcm9tIGEgdGFibGUgZ2l2ZW4gdGhlIGNvbHVtbiBhbmQgc2Vjb25kYXJ5IGluZGV4IHByaW1hcnkga2V5IHRvIHJlYWQgZnJvbS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFibGVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb2x1bW5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzZWFyY2hcclxuICAgICAqIEBwYXJhbSB7KHJvd3M6IERCUm93W10pID0+IHZvaWR9IGNhbGxiYWNrXHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxTdG9yYWdlXHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZS5wcm90b3R5cGUuX3NlY29uZGFyeUluZGV4UmVhZCA9IGZ1bmN0aW9uICh0YWJsZSwgY29sdW1uLCBzZWFyY2gsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLmFkYXB0ZXJzWzBdLmFkYXB0ZXIucmVhZChcIl9cIiArIHRhYmxlICsgXCJfaWR4X1wiICsgY29sdW1uLCB0aGlzLl9zZWNvbmRhcnlJbmRleEtleShzZWFyY2gpLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgIGlmIChyb3cgIT09IHVuZGVmaW5lZCAmJiByb3cgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9yZWFkKHRhYmxlLCAocm93W1wicm93c1wiXSB8fCBbXSksIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKFtdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2V0IGEgcmFuZ2Ugb2Ygcm93cyBmcm9tIGEgZ2l2ZW4gdGFibGUuXHJcbiAgICAgKiBJZiB1c2VQS3MgaXMgZmFsc2UgdGhlIHJhbmdlIGlzIGluIGxpbWl0L29mZnNldCBmb3JtIHdoZXJlIHRoZSBmcm9tIGFuZCB0byB2YWx1ZXMgYXJlIG51bWJlcnMgaW5kaWNhdGluZyBhIHJhbmdlIG9mIHJvd3MgdG8gZ2V0LlxyXG4gICAgICogT3RoZXJ3aXNlIHRoZSBmcm9tIGFuZCB0byB2YWx1ZXMgc2hvdWxkIGJlIHByaW1hcnkga2V5IHZhbHVlcyB0byBnZXQgZXZlcnl0aGluZyBpbiBiZXR3ZWVuLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtEQktleX0gZnJvbVxyXG4gICAgICogQHBhcmFtIHtEQktleX0gdG9cclxuICAgICAqIEBwYXJhbSB7KHJvd3M6IERCUm93W10pID0+IHZvaWR9IGNvbXBsZXRlXHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxTdG9yYWdlXHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZS5wcm90b3R5cGUuX3JhbmdlUmVhZCA9IGZ1bmN0aW9uICh0YWJsZSwgZnJvbSwgdG8sIHVzZVBLcywgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgcm93cyA9IFtdO1xyXG4gICAgICAgIHRoaXMuYWRhcHRlcnNbMF0uYWRhcHRlci5yYW5nZVJlYWQodGFibGUsIGZ1bmN0aW9uIChyb3csIGlkeCwgbmV4dCkge1xyXG4gICAgICAgICAgICByb3dzLnB1c2gocm93KTtcclxuICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29tcGxldGUocm93cyk7XHJcbiAgICAgICAgfSwgZnJvbSwgdG8sIHVzZVBLcyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBGdWxsIHRhYmxlIHNjYW4gaWYgYSBmdW5jdGlvbiBpcyBwYXNzZWQgaW4gT1IgcmVhZCBhbiBhcnJheSBvZiBwcmltYXJ5IGtleXMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0geyhyb3c6IERCUm93LCBpZHg6IG51bWJlciwgdG9LZWVwOiAocmVzdWx0OiBib29sZWFuKSA9PiB2b2lkKSA9PiB2b2lkfSBxdWVyeVxyXG4gICAgICogQHBhcmFtIHsocm93czogREJSb3dbXSkgPT4gdm9pZH0gY2FsbGJhY2tcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxTdG9yYWdlXHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZS5wcm90b3R5cGUuX3JlYWQgPSBmdW5jdGlvbiAodGFibGUsIHF1ZXJ5LCBjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocXVlcnkpKSB7IC8vIHNlbGVjdCBieSBhcnJheSBvZiBwcmltYXJ5IGtleXNcclxuICAgICAgICAgICAgdmFyIGJhdGNoUmVhZCA9IHRoaXMuYWRhcHRlcnNbMF0uYWRhcHRlci5iYXRjaFJlYWQ7XHJcbiAgICAgICAgICAgIGlmIChiYXRjaFJlYWQpIHtcclxuICAgICAgICAgICAgICAgIGJhdGNoUmVhZC5hcHBseSh0aGlzLmFkYXB0ZXJzWzBdLmFkYXB0ZXIsIFt0YWJsZSwgcXVlcnksIGNhbGxiYWNrXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBwb3NzaWJseSAoYnV0IG5vdCBhbHdheXMpIHNsb3dlciBmYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChxdWVyeSwgZnVuY3Rpb24gKHEsIGksIHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJzWzBdLmFkYXB0ZXIucmVhZCh0YWJsZSwgcSwgcmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhyb3dzLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gcjsgfSkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcm93cyA9IFtdO1xyXG4gICAgICAgIC8vIGZ1bGwgdGFibGUgc2NhblxyXG4gICAgICAgIGlmICh0eXBlb2YgcXVlcnkgPT09IFwiZnVuY3Rpb25cIikgeyAvLyBpdGVyYXRlIHRocm91Z2ggZW50aXJlIGRiLCByZXR1cm5pbmcgcm93cyB0aGF0IHJldHVybiB0cnVlIG9uIHRoZSBmdW5jdGlvblxyXG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXJzWzBdLmFkYXB0ZXIucmFuZ2VSZWFkKHRhYmxlLCBmdW5jdGlvbiAocm93LCBpZHgsIG5leHRSb3cpIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5KHJvdywgaWR4LCBmdW5jdGlvbiAoa2VlcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChrZWVwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3MucHVzaChyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBuZXh0Um93KCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2socm93cyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2V0IGFsbCB2YWx1ZXMgaW4gYSB0YWJsZSB3aGVyZSB0aGUgY29sdW1uIHZhbHVlIG1hdGNoZXMgYWdhaW5zdCB0aGUgZ2l2ZW4gdHJpZSBzZWFyY2ggdmFsdWUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29sdW1uXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VhcmNoXHJcbiAgICAgKiBAcGFyYW0geyhyb3dzOiBEQlJvd1tdICkgPT4gdm9pZH0gY2FsbGJhY2tcclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFN0b3JhZ2VcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxTdG9yYWdlLnByb3RvdHlwZS5fdHJpZVJlYWQgPSBmdW5jdGlvbiAodGFibGUsIGNvbHVtbiwgc2VhcmNoLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHdvcmRzID0gdGhpcy5fdHJpZUluZGV4ZXNbdGFibGVdW2NvbHVtbl0uZ2V0UHJlZml4KHNlYXJjaCk7XHJcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTCh3b3JkcywgZnVuY3Rpb24gKHcsIGksIHJlc3VsdCkge1xyXG4gICAgICAgICAgICBfdGhpcy5fc2Vjb25kYXJ5SW5kZXhSZWFkKHRhYmxlLCBjb2x1bW4sIHcsIHJlc3VsdCk7XHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoYXJyYXlPZlJvd3MpIHtcclxuICAgICAgICAgICAgY2FsbGJhY2soW10uY29uY2F0LmFwcGx5KFtdLCBhcnJheU9mUm93cykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIHNlY29uZGFyeSBpbmRleCB2YWx1ZXMgb2YgYSBzcGVjaWZpYyByb3cuXHJcbiAgICAgKlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFibGVcclxuICAgICAqIEBwYXJhbSB7REJLZXl9IHBrXHJcbiAgICAgKiBAcGFyYW0ge0RCUm93fSByb3dEYXRhXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBza2lwQ29sdW1uc1xyXG4gICAgICogQHBhcmFtIHsoKSA9PiB2b2lkfSBjb21wbGV0ZVxyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMU3RvcmFnZVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFN0b3JhZ2UucHJvdG90eXBlLl9jbGVhclNlY29uZGFyeUluZGV4ZXMgPSBmdW5jdGlvbiAodGFibGUsIHBrLCByb3dEYXRhLCBza2lwQ29sdW1ucywgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwodGhpcy50YWJsZUluZm9bdGFibGVdLl9zZWNvbmRhcnlJbmRleGVzLmZpbHRlcihmdW5jdGlvbiAoaWR4KSB7IHJldHVybiBza2lwQ29sdW1ucy5pbmRleE9mKGlkeCkgPT09IC0xOyB9KSwgZnVuY3Rpb24gKGlkeCwgaywgZG9uZSkge1xyXG4gICAgICAgICAgICB2YXIgY29sdW1uID0gX3RoaXMuX3NlY29uZGFyeUluZGV4S2V5KHJvd0RhdGFbaWR4XSk7XHJcbiAgICAgICAgICAgIHZhciBpZHhUYWJsZSA9IFwiX1wiICsgdGFibGUgKyBcIl9pZHhfXCIgKyBpZHg7XHJcbiAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJzWzBdLmFkYXB0ZXIucmVhZChpZHhUYWJsZSwgY29sdW1uLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgaSA9IHJvdy5yb3dzLmluZGV4T2YocGspO1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBuZXdSb3cgPSByb3cgPyBPYmplY3QuaXNGcm96ZW4ocm93KSA/IHV0aWxpdGllc18xLl9hc3NpZ24ocm93KSA6IHJvdyA6IHsgaWQ6IG51bGwsIHJvd3M6IFtdIH07XHJcbiAgICAgICAgICAgICAgICBuZXdSb3cucm93cy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICBuZXdSb3cucm93cy5zb3J0KCk7XHJcbiAgICAgICAgICAgICAgICBuZXdSb3cucm93cyA9IHV0aWxpdGllc18xLnJlbW92ZUR1cGxpY2F0ZXMobmV3Um93LnJvd3MpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuYWRhcHRlcldyaXRlKGlkeFRhYmxlLCBuZXdSb3cuaWQsIG5ld1JvdywgZG9uZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pLnRoZW4oY29tcGxldGUpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQWRkIHNlY29uZGFyeSBpbmRleCB2YWx1ZXMgZm9yIGEgc3BlY2lmaWMgcm93LlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge0RCS2V5fSBwa1xyXG4gICAgICogQHBhcmFtIHtEQlJvd30gcm93RGF0YVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gc2tpcENvbHVtbnNcclxuICAgICAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gY29tcGxldGVcclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFN0b3JhZ2VcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxTdG9yYWdlLnByb3RvdHlwZS5fc2V0U2Vjb25kYXJ5SW5kZXhlcyA9IGZ1bmN0aW9uICh0YWJsZSwgcGssIHJvd0RhdGEsIHNraXBDb2x1bW5zLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTCh0aGlzLnRhYmxlSW5mb1t0YWJsZV0uX3NlY29uZGFyeUluZGV4ZXMuZmlsdGVyKGZ1bmN0aW9uIChpZHgpIHsgcmV0dXJuIHNraXBDb2x1bW5zLmluZGV4T2YoaWR4KSA9PT0gLTE7IH0pLCBmdW5jdGlvbiAoaWR4LCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgIHZhciBjb2x1bW4gPSBfdGhpcy5fc2Vjb25kYXJ5SW5kZXhLZXkocm93RGF0YVtpZHhdKTtcclxuICAgICAgICAgICAgaWYgKCFjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoX3RoaXMuX3RyaWVJbmRleGVzW3RhYmxlXVtpZHhdKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fdHJpZUluZGV4ZXNbdGFibGVdW2lkeF0uYWRkV29yZChTdHJpbmcocm93RGF0YVtpZHhdKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGlkeFRhYmxlID0gXCJfXCIgKyB0YWJsZSArIFwiX2lkeF9cIiArIGlkeDtcclxuICAgICAgICAgICAgX3RoaXMuYWRhcHRlcnNbMF0uYWRhcHRlci5yZWFkKGlkeFRhYmxlLCBjb2x1bW4sIGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleFJvdyA9IHJvdyA/IChPYmplY3QuaXNGcm96ZW4ocm93KSA/IHV0aWxpdGllc18xLl9hc3NpZ24ocm93KSA6IHJvdykgOiB7IGlkOiBjb2x1bW4sIHJvd3M6IFtdIH07XHJcbiAgICAgICAgICAgICAgICBpbmRleFJvdy5yb3dzLnB1c2gocGspO1xyXG4gICAgICAgICAgICAgICAgaW5kZXhSb3cucm93cy5zb3J0KCk7XHJcbiAgICAgICAgICAgICAgICBpbmRleFJvdy5yb3dzID0gdXRpbGl0aWVzXzEucmVtb3ZlRHVwbGljYXRlcyhpbmRleFJvdy5yb3dzKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJXcml0ZShpZHhUYWJsZSwgY29sdW1uLCBpbmRleFJvdywgZG9uZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pLnRoZW4oY29tcGxldGUpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogV3JpdGUgYSByb3cgdG8gdGhlIGRhdGFiYXNlXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge0RCS2V5fSBwa1xyXG4gICAgICogQHBhcmFtIHsqfSBvbGRSb3dcclxuICAgICAqIEBwYXJhbSB7REJSb3d9IG5ld1Jvd1xyXG4gICAgICogQHBhcmFtIHsocm93OiBEQlJvdykgPT4gdm9pZH0gY29tcGxldGVcclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFN0b3JhZ2VcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxTdG9yYWdlLnByb3RvdHlwZS5fd3JpdGUgPSBmdW5jdGlvbiAodGFibGUsIHBrLCBvbGRSb3csIG5ld1JvdywgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICghb2xkUm93KSB7IC8vIG5ldyByb3dcclxuICAgICAgICAgICAgdGhpcy5hZGFwdGVyV3JpdGUodGFibGUsIHBrLCBuZXdSb3csIGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy50YWJsZUluZm9bdGFibGVdLl9zZWNvbmRhcnlJbmRleGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9zZXRTZWNvbmRhcnlJbmRleGVzKHRhYmxlLCByb3dbX3RoaXMudGFibGVJbmZvW3RhYmxlXS5fcGtdLCBuZXdSb3csIFtdLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZShyb3cpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7IC8vIGV4aXN0aW5nIHJvd1xyXG4gICAgICAgICAgICB2YXIgc2V0Um93XzEgPSBfX2Fzc2lnbih7fSwgb2xkUm93LCBuZXdSb3csIChfYSA9IHt9LCBfYVt0aGlzLnRhYmxlSW5mb1t0YWJsZV0uX3BrXSA9IHBrLCBfYSkpO1xyXG4gICAgICAgICAgICB2YXIgc2FtZUtleXNfMSA9IE9iamVjdC5rZXlzKHNldFJvd18xKS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldFJvd18xW2tleV0gPT09IG9sZFJvd1trZXldO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGFibGVJbmZvW3RhYmxlXS5fc2Vjb25kYXJ5SW5kZXhlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFyU2Vjb25kYXJ5SW5kZXhlcyh0YWJsZSwgcGssIG9sZFJvdywgc2FtZUtleXNfMSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9zZXRTZWNvbmRhcnlJbmRleGVzKHRhYmxlLCBwaywgc2V0Um93XzEsIHNhbWVLZXlzXzEsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRhcHRlcldyaXRlKHRhYmxlLCBwaywgc2V0Um93XzEsIGNvbXBsZXRlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGFwdGVyV3JpdGUodGFibGUsIHBrLCBzZXRSb3dfMSwgY29tcGxldGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBfYTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIERlbGV0ZSBhIHNwZWNpZmljIHJvdyBmcm9tIHRoZSBkYXRhYmFzZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFibGVcclxuICAgICAqIEBwYXJhbSB7REJLZXl9IHBrXHJcbiAgICAgKiBAcGFyYW0geyhyb3c6IERCUm93KSA9PiB2b2lkfSBjb21wbGV0ZVxyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMU3RvcmFnZVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFN0b3JhZ2UucHJvdG90eXBlLl9kZWxldGUgPSBmdW5jdGlvbiAodGFibGUsIHBrLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKCFwaykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBkZWxldGUgd2l0aG91dCBhIHByaW1hcnkga2V5IVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBzZWNvbmRhcnkgaW5kZXhlc1xyXG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXJzWzBdLmFkYXB0ZXIucmVhZCh0YWJsZSwgcGssIGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9jbGVhclNlY29uZGFyeUluZGV4ZXModGFibGUsIHBrLCByb3csIFtdLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZG8gdGhlIGRlbGV0ZVxyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJEZWxldGUodGFibGUsIHBrLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRHJvcCBlbnRpcmUgdGFibGUgZnJvbSB0aGUgZGF0YWJhc2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0geygpID0+IHZvaWR9IGNvbXBsZXRlXHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxTdG9yYWdlXHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZS5wcm90b3R5cGUuX2Ryb3AgPSBmdW5jdGlvbiAodGFibGUsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHRoaXMudGFibGVJbmZvW3RhYmxlXS5fc2Vjb25kYXJ5SW5kZXhlcywgZnVuY3Rpb24gKGlkeCwgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICBfdGhpcy5hZGFwdGVyRHJvcChcIl9cIiArIHRhYmxlICsgXCJfaWR4X1wiICsgaWR4LCBkb25lKTtcclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuX3RyaWVJbmRleGVzW3RhYmxlXSA9IHt9O1xyXG4gICAgICAgICAgICBfdGhpcy50YWJsZUluZm9bdGFibGVdLl90cmllQ29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChjbykge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3RyaWVJbmRleGVzW3RhYmxlXVtjb10gPSBuZXcgcHJlZml4X3RyaWVfdHNfMS5UcmllKFtdKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJEcm9wKHRhYmxlLCBjb21wbGV0ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBGaW5kIHNlY29uZGFyeSBpbmRleGVzIGFuZCBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlIGFuIGluZGV4IHRhYmxlIGZvciBlYWNoLlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHtTdGRPYmplY3Q8RGF0YU1vZGVsW10+fSBkYXRhTW9kZWxzXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICogQG1lbWJlcm9mIE5hbm9TUUxTdG9yYWdlXHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZS5wcm90b3R5cGUuX2NyZWF0ZVNlY29uZGFyeUluZGV4VGFibGVzID0gZnVuY3Rpb24gKGRhdGFNb2RlbHMpIHtcclxuICAgICAgICBPYmplY3Qua2V5cyhkYXRhTW9kZWxzKS5mb3JFYWNoKGZ1bmN0aW9uICh0YWJsZSkge1xyXG4gICAgICAgICAgICB2YXIgaGFzUEsgPSBmYWxzZTtcclxuICAgICAgICAgICAgdmFyIGhhc0lEWCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBkYXRhTW9kZWxzW3RhYmxlXS5mb3JFYWNoKGZ1bmN0aW9uIChtb2RlbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1vZGVsLnByb3BzICYmIHV0aWxpdGllc18xLmludGVyc2VjdChbXCJwa1wiLCBcInBrKClcIl0sIG1vZGVsLnByb3BzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc1BLID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChtb2RlbC5wcm9wcyAmJiB1dGlsaXRpZXNfMS5pbnRlcnNlY3QoW1widHJpZVwiLCBcImlkeFwiLCBcImlkeCgpXCIsIFwidHJpZSgpXCJdLCBtb2RlbC5wcm9wcykpIHtcclxuICAgICAgICAgICAgICAgICAgICBoYXNJRFggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFNb2RlbHNbXCJfXCIgKyB0YWJsZSArIFwiX2lkeF9cIiArIG1vZGVsLmtleV0gPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiBcImlkXCIsIHR5cGU6IFtcIm51bWJlclwiLCBcImZsb2F0XCIsIFwiaW50XCJdLmluZGV4T2YobW9kZWwudHlwZSkgIT09IC0xID8gbW9kZWwudHlwZSA6IFwic3RyaW5nXCIsIHByb3BzOiBbXCJwa1wiXSB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogXCJyb3dzXCIsIHR5cGU6IFwiYW55W11cIiB9XHJcbiAgICAgICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChoYXNJRFggJiYgIWhhc1BLKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUYWJsZXMgd2l0aCBzZWNvbmRhcnkgaW5kZXhlcyBtdXN0IGhhdmUgYSBwcmltYXJ5IGtleSFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZGF0YU1vZGVscztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlIHRoZSBkYXRhIG5lZWRlZCB0byBtYW5hZ2UgZWFjaCB0YWJsZSBpbiB0aGUgZGF0YWJhc2VcclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZU5hbWVcclxuICAgICAqIEBwYXJhbSB7RGF0YU1vZGVsW119IGRhdGFNb2RlbHNcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKiBAbWVtYmVyb2YgTmFub1NRTFN0b3JhZ2VcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxTdG9yYWdlLnByb3RvdHlwZS5fbmV3VGFibGUgPSBmdW5jdGlvbiAodGFibGVOYW1lLCBkYXRhTW9kZWxzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLnRhYmxlSW5mb1t0YWJsZU5hbWVdID0ge1xyXG4gICAgICAgICAgICBfcGs6IFwiXCIsXHJcbiAgICAgICAgICAgIF9wa1R5cGU6IFwiXCIsXHJcbiAgICAgICAgICAgIF9rZXlzOiBbXSxcclxuICAgICAgICAgICAgX2RlZmF1bHRzOiBbXSxcclxuICAgICAgICAgICAgX3NlY29uZGFyeUluZGV4ZXM6IFtdLFxyXG4gICAgICAgICAgICBfdHJpZUNvbHVtbnM6IFtdLFxyXG4gICAgICAgICAgICBfbmFtZTogdGFibGVOYW1lLFxyXG4gICAgICAgICAgICBfdmlld3M6IHt9LFxyXG4gICAgICAgICAgICBfdmlld1RhYmxlczogW11cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuX2NhY2hlW3RhYmxlTmFtZV0gPSB7fTtcclxuICAgICAgICB0aGlzLl9jYWNoZUtleXNbdGFibGVOYW1lXSA9IHt9O1xyXG4gICAgICAgIHRoaXMuX3RyaWVJbmRleGVzW3RhYmxlTmFtZV0gPSB7fTtcclxuICAgICAgICB0aGlzLmFkYXB0ZXJzLmZvckVhY2goZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgYS5hZGFwdGVyLm1ha2VUYWJsZSh0YWJsZU5hbWUsIGRhdGFNb2RlbHMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIERpc2NvdmVyIHByaW1hcnkga2V5cyBmb3IgZWFjaCB0YWJsZVxyXG4gICAgICAgIHZhciBpID0gdGhpcy5tb2RlbHNbdGFibGVOYW1lXS5sZW5ndGg7XHJcbiAgICAgICAgdmFyIF9sb29wXzIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBwID0gdGhpc18xLm1vZGVsc1t0YWJsZU5hbWVdW2ldO1xyXG4gICAgICAgICAgICB0aGlzXzEudGFibGVJbmZvW3RhYmxlTmFtZV0uX2tleXMudW5zaGlmdChwLmtleSk7XHJcbiAgICAgICAgICAgIHRoaXNfMS50YWJsZUluZm9bdGFibGVOYW1lXS5fZGVmYXVsdHNbaV0gPSBwLmRlZmF1bHQ7XHJcbiAgICAgICAgICAgIGlmIChwLnByb3BzICYmIHAucHJvcHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXMybmRJbmRleF8xID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBwLnByb3BzLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcC5pbmRleE9mKFwiZnJvbT0+XCIpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5faGFzVmlld3MgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBwLnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wICE9PSBcImZyb209PkdIT1NUXCIgJiYgcHJvcCAhPT0gXCJmcm9tPT5MSVZFXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByb3AgaXMgXCJmcm9tPT50YWJsZS5jb2x1bW5cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUgPSBwcm9wLnJlcGxhY2UoXCJmcm9tPT5cIiwgXCJcIikuc3BsaXQoXCIuXCIpLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpcy50YWJsZUluZm9bdGFibGVOYW1lXS5fdmlld3NbdGFibGVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy50YWJsZUluZm9bdGFibGVOYW1lXS5fdmlld3NbdGFibGVdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBrQ29sdW1uOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uczogW11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgPT09IFwiZnJvbT0+R0hPU1RcIiB8fCBwcm9wID09PSBcImZyb209PkxJVkVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXMybmRJbmRleF8xID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnRhYmxlSW5mb1t0YWJsZU5hbWVdLl92aWV3c1t0YWJsZV0ucGtDb2x1bW4gPSBwLmtleTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnRhYmxlSW5mb1t0YWJsZU5hbWVdLl92aWV3c1t0YWJsZV0ubW9kZSA9IHByb3AucmVwbGFjZShcImZyb209PlwiLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnRhYmxlSW5mb1t0YWJsZU5hbWVdLl92aWV3c1t0YWJsZV0uY29sdW1ucy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzQ29sdW1uOiBwLmtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlckNvbHVtbjogcHJvcC5yZXBsYWNlKFwiZnJvbT0+XCIsIFwiXCIpLnNwbGl0KFwiLlwiKS5wb3AoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBwcmltYXJ5IGtleVxyXG4gICAgICAgICAgICAgICAgaWYgKHV0aWxpdGllc18xLmludGVyc2VjdChbXCJwa1wiLCBcInBrKClcIl0sIHAucHJvcHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc18xLnRhYmxlSW5mb1t0YWJsZU5hbWVdLl9wayA9IHAua2V5O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNfMS50YWJsZUluZm9bdGFibGVOYW1lXS5fcGtUeXBlID0gcC50eXBlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHNlY29uZGFyeSBpbmRleGVzXHJcbiAgICAgICAgICAgICAgICBpZiAodXRpbGl0aWVzXzEuaW50ZXJzZWN0KFtcInRyaWVcIiwgXCJpZHhcIiwgXCJpZHgoKVwiLCBcInRyaWUoKVwiXSwgcC5wcm9wcykgfHwgaXMybmRJbmRleF8xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc18xLnRhYmxlSW5mb1t0YWJsZU5hbWVdLl9zZWNvbmRhcnlJbmRleGVzLnB1c2gocC5rZXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHRyaWUgaW5kZXhlc1xyXG4gICAgICAgICAgICAgICAgaWYgKHV0aWxpdGllc18xLmludGVyc2VjdChbXCJ0cmllXCIsIFwidHJpZSgpXCJdLCBwLnByb3BzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNfMS50YWJsZUluZm9bdGFibGVOYW1lXS5fdHJpZUNvbHVtbnMucHVzaChwLmtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc18xLl90cmllSW5kZXhlc1t0YWJsZU5hbWVdW3Aua2V5XSA9IG5ldyBwcmVmaXhfdHJpZV90c18xLlRyaWUoW10pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgdGhpc18xID0gdGhpcztcclxuICAgICAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgICAgIF9sb29wXzIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRhYmxlTmFtZTtcclxuICAgIH07XHJcbiAgICBfTmFub1NRTFN0b3JhZ2UucHJvdG90eXBlLmFkYXB0ZXJXcml0ZSA9IGZ1bmN0aW9uICh0YWJsZSwgcGssIGRhdGEsIGNvbXBsZXRlLCBlcnJvcikge1xyXG4gICAgICAgIHZhciByZXN1bHQ7XHJcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTCh0aGlzLmFkYXB0ZXJzLCBmdW5jdGlvbiAoYSwgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICBpZiAoYS53YWl0Rm9yV3JpdGVzKSB7XHJcbiAgICAgICAgICAgICAgICBhLmFkYXB0ZXIud3JpdGUodGFibGUsIHBrLCBkYXRhLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcm93O1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgYS5hZGFwdGVyLndyaXRlKHRhYmxlLCBwaywgZGF0YSwgZnVuY3Rpb24gKHJvdykgeyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb21wbGV0ZShyZXN1bHQpO1xyXG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgaWYgKGVycm9yKVxyXG4gICAgICAgICAgICAgICAgZXJyb3IoZXJyKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBfTmFub1NRTFN0b3JhZ2UucHJvdG90eXBlLmFkYXB0ZXJEZWxldGUgPSBmdW5jdGlvbiAodGFibGUsIHBrLCBjb21wbGV0ZSwgZXJyb3IpIHtcclxuICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHRoaXMuYWRhcHRlcnMsIGZ1bmN0aW9uIChhLCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgIGlmIChhLndhaXRGb3JXcml0ZXMpIHtcclxuICAgICAgICAgICAgICAgIGEuYWRhcHRlci5kZWxldGUodGFibGUsIHBrLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgICAgICBhLmFkYXB0ZXIuZGVsZXRlKHRhYmxlLCBwaywgZnVuY3Rpb24gKCkgeyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb21wbGV0ZSgpO1xyXG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgaWYgKGVycm9yKVxyXG4gICAgICAgICAgICAgICAgZXJyb3IoZXJyKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBfTmFub1NRTFN0b3JhZ2UucHJvdG90eXBlLmFkYXB0ZXJEcm9wID0gZnVuY3Rpb24gKHRhYmxlLCBjb21wbGV0ZSwgZXJyb3IpIHtcclxuICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHRoaXMuYWRhcHRlcnMsIGZ1bmN0aW9uIChhLCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgIGlmIChhLndhaXRGb3JXcml0ZXMpIHtcclxuICAgICAgICAgICAgICAgIGEuYWRhcHRlci5kcm9wKHRhYmxlLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgICAgICBhLmFkYXB0ZXIuZHJvcCh0YWJsZSwgZnVuY3Rpb24gKCkgeyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb21wbGV0ZSgpO1xyXG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgaWYgKGVycm9yKVxyXG4gICAgICAgICAgICAgICAgZXJyb3IoZXJyKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX05hbm9TUUxTdG9yYWdlO1xyXG59KCkpO1xyXG5leHBvcnRzLl9OYW5vU1FMU3RvcmFnZSA9IF9OYW5vU1FMU3RvcmFnZTtcclxuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XHJcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcclxuICAgICAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5kZXhfMSA9IHJlcXVpcmUoXCIuLi9pbmRleFwiKTtcclxudmFyIHV0aWxpdGllc18xID0gcmVxdWlyZShcIi4uL3V0aWxpdGllc1wiKTtcclxudmFyIHF1ZXJ5T2JqID0ge1xyXG4gICAgc2VsZWN0OiBmdW5jdGlvbiAoc2VsZiwgbmV4dCkge1xyXG4gICAgICAgIHNlbGYuX3NlbGVjdChuZXh0KTtcclxuICAgIH0sXHJcbiAgICB1cHNlcnQ6IGZ1bmN0aW9uIChzZWxmLCBuZXh0KSB7XHJcbiAgICAgICAgc2VsZi5fdXBzZXJ0KG5leHQpO1xyXG4gICAgfSxcclxuICAgIGRlbGV0ZTogZnVuY3Rpb24gKHNlbGYsIG5leHQpIHtcclxuICAgICAgICBzZWxmLl9kZWxldGUobmV4dCk7XHJcbiAgICB9LFxyXG4gICAgZHJvcDogZnVuY3Rpb24gKHNlbGYsIG5leHQpIHtcclxuICAgICAgICBzZWxmLl9kcm9wKG5leHQpO1xyXG4gICAgfSxcclxuICAgIFwic2hvdyB0YWJsZXNcIjogZnVuY3Rpb24gKHNlbGYsIG5leHQpIHtcclxuICAgICAgICBzZWxmLl9xdWVyeS5yZXN1bHQgPSBPYmplY3Qua2V5cyhzZWxmLl9zdG9yZS50YWJsZUluZm8pO1xyXG4gICAgICAgIG5leHQoc2VsZi5fcXVlcnkpO1xyXG4gICAgfSxcclxuICAgIGRlc2NyaWJlOiBmdW5jdGlvbiAoc2VsZiwgbmV4dCkge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygc2VsZi5fcXVlcnkudGFibGUgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgbmV4dChzZWxmLl9xdWVyeSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZi5fcXVlcnkucmVzdWx0ID0gdXRpbGl0aWVzXzEuX2Fzc2lnbihzZWxmLl9zdG9yZS5tb2RlbHNbc2VsZi5fcXVlcnkudGFibGVdKTtcclxuICAgICAgICBuZXh0KHNlbGYuX3F1ZXJ5KTtcclxuICAgIH0sXHJcbn07XHJcbi8qKlxyXG4gKiBBIG5ldyBTdG9yYWdlIFF1ZXJ5IGNsYXNzIGlzIGluaWxpdGl6ZWQgZm9yIGV2ZXJ5IHF1ZXJ5LCBwZXJmb3JtaW5nIHRoZSBhY3Rpb25zXHJcbiAqIGFnYWluc3QgdGhlIHN0b3JhZ2UgY2xhc3MgaXRzZWxmIHRvIGdldCB0aGUgZGVzaXJlZCBvdXRjb21lLlxyXG4gKlxyXG4gKiBAZXhwb3J0XHJcbiAqIEBjbGFzcyBfTmFub1NRTFN0b3JhZ2VRdWVyeVxyXG4gKi9cclxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXHJcbnZhciBfTmFub1NRTFN0b3JhZ2VRdWVyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIF9OYW5vU1FMU3RvcmFnZVF1ZXJ5KF9zdG9yZSkge1xyXG4gICAgICAgIHRoaXMuX3N0b3JlID0gX3N0b3JlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBFeGVjdXRlIHRoZSBxdWVyeSBhZ2FpbnN0IHRoaXMgY2xhc3MuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtJZGJRdWVyeX0gcXVlcnlcclxuICAgICAqIEBwYXJhbSB7KHE6IElkYlF1ZXJ5KSA9PiB2b2lkfSBuZXh0XHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMU3RvcmFnZVF1ZXJ5XHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZVF1ZXJ5LnByb3RvdHlwZS5kb1F1ZXJ5ID0gZnVuY3Rpb24gKHF1ZXJ5LCBuZXh0KSB7XHJcbiAgICAgICAgdGhpcy5fcXVlcnkgPSBxdWVyeTtcclxuICAgICAgICB0aGlzLl9pc0luc3RhbmNlVGFibGUgPSBBcnJheS5pc0FycmF5KHF1ZXJ5LnRhYmxlKTtcclxuICAgICAgICBxdWVyeU9ialtxdWVyeS5hY3Rpb25dKHRoaXMsIG5leHQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0cmVpdmUgdGhlIHNlbGVjdGVkIHJvd3MgZm9yIHRoaXMgcXVlcnksIHdvcmtzIGZvciBpbnN0YW5jZSB0YWJsZXMgYW5kIHN0YW5kYXJkIG9uZXMuXHJcbiAgICAgKlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKiBAcGFyYW0geyhyb3dzOiBEQlJvd1tdKSA9PiB2b2lkfSBjb21wbGV0ZVxyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMU3RvcmFnZVF1ZXJ5XHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZVF1ZXJ5LnByb3RvdHlwZS5fZ2V0Um93cyA9IGZ1bmN0aW9uIChjb21wbGV0ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9pc0luc3RhbmNlVGFibGUpIHtcclxuICAgICAgICAgICAgbmV3IEluc3RhbmNlU2VsZWN0aW9uKHRoaXMuX3F1ZXJ5KS5nZXRSb3dzKGNvbXBsZXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG5ldyBfUm93U2VsZWN0aW9uKHRoaXMuX3F1ZXJ5LCB0aGlzLl9zdG9yZSwgZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKHJvd3MuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByOyB9KSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBfTmFub1NRTFN0b3JhZ2VRdWVyeS5wcm90b3R5cGUuX3NldENhY2hlID0gZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuX3N0b3JlLl9jYWNoZVt0aGlzLl9xdWVyeS50YWJsZV1bdGhpcy5faGFzaF0gPSByb3dzO1xyXG4gICAgICAgIC8vIHN0b3JlIHByaW1hcnkga2V5cyBmb3IgdGhpcyBjYWNoZSwgdXNlZCBmb3IgY2FjaGUgaW52YWxpZGF0aW9uXHJcbiAgICAgICAgdGhpcy5fc3RvcmUuX2NhY2hlS2V5c1t0aGlzLl9xdWVyeS50YWJsZV1bdGhpcy5faGFzaF0gPSB7fTtcclxuICAgICAgICByb3dzLmZvckVhY2goZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgX3RoaXMuX3N0b3JlLl9jYWNoZUtleXNbX3RoaXMuX3F1ZXJ5LnRhYmxlXVtfdGhpcy5faGFzaF1bcltfdGhpcy5fc3RvcmUudGFibGVJbmZvW190aGlzLl9xdWVyeS50YWJsZV0uX3BrXV0gPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlsemUgYSBTRUxFQ1QgcXVlcnkuXHJcbiAgICAgKlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKiBAcGFyYW0geyhxOiBJZGJRdWVyeSkgPT4gdm9pZH0gbmV4dFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFN0b3JhZ2VRdWVyeVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFN0b3JhZ2VRdWVyeS5wcm90b3R5cGUuX3NlbGVjdCA9IGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLl9oYXNoID0gdXRpbGl0aWVzXzEuaGFzaChKU09OLnN0cmluZ2lmeShfX2Fzc2lnbih7fSwgdGhpcy5fcXVlcnksIHsgcXVlcnlJRDogbnVsbCB9KSkpO1xyXG4gICAgICAgIHZhciBjYW5DYWNoZSA9ICF0aGlzLl9xdWVyeS5qb2luICYmICF0aGlzLl9xdWVyeS5vcm0gJiYgdGhpcy5fc3RvcmUuX2RvQ2FjaGUgJiYgIUFycmF5LmlzQXJyYXkodGhpcy5fcXVlcnkudGFibGUpO1xyXG4gICAgICAgIC8vIFF1ZXJ5IGNhY2hlIGZvciB0aGUgd2luIVxyXG4gICAgICAgIC8qaWYgKGNhbkNhY2hlICYmIHRoaXMuX3N0b3JlLl9jYWNoZVt0aGlzLl9xdWVyeS50YWJsZSBhcyBhbnldW3RoaXMuX2hhc2hdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3F1ZXJ5LnJlc3VsdCA9IHRoaXMuX3N0b3JlLl9jYWNoZVt0aGlzLl9xdWVyeS50YWJsZSBhcyBhbnldW3RoaXMuX2hhc2hdO1xyXG4gICAgICAgICAgICBuZXh0KHRoaXMuX3F1ZXJ5KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0qL1xyXG4gICAgICAgIHRoaXMuX2dldFJvd3MoZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgLy8gTm8gcXVlcnkgYXJndW1lbnRzLCB3ZSBjYW4gc2tpcCB0aGUgd2hvbGUgbXV0YXRpb24gc2VsZWN0aW9uIGNsYXNzXHJcbiAgICAgICAgICAgIGlmICghW1wiaGF2aW5nXCIsIFwib3JkZXJCeVwiLCBcIm9mZnNldFwiLCBcImxpbWl0XCIsIFwiYWN0aW9uQXJnc1wiLCBcImdyb3VwQnlcIiwgXCJvcm1cIiwgXCJqb2luXCJdLmZpbHRlcihmdW5jdGlvbiAoaykgeyByZXR1cm4gX3RoaXMuX3F1ZXJ5W2tdOyB9KS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjYW5DYWNoZSlcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc2V0Q2FjaGUocm93cyk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fcXVlcnkucmVzdWx0ID0gcm93cztcclxuICAgICAgICAgICAgICAgIG5leHQoX3RoaXMuX3F1ZXJ5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG5ldyBfTXV0YXRlU2VsZWN0aW9uKF90aGlzLl9xdWVyeSwgX3RoaXMuX3N0b3JlKS5fZXhlY3V0ZVF1ZXJ5QXJndW1lbnRzKHJvd3MsIGZ1bmN0aW9uIChyZXN1bHRSb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbkNhY2hlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc2V0Q2FjaGUocm93cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3F1ZXJ5LnJlc3VsdCA9IHJlc3VsdFJvd3M7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dChfdGhpcy5fcXVlcnkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBfTmFub1NRTFN0b3JhZ2VRdWVyeS5wcm90b3R5cGUuX3VwZGF0ZU9STVJvd3MgPSBmdW5jdGlvbiAocmVsYXRpb24sIGZyb21QS3MsIGFkZCwgcHJpbWFyeUtleSwgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBmcm9tUGsgPSB0aGlzLl9zdG9yZS50YWJsZUluZm9bcmVsYXRpb24uX2Zyb21UYWJsZV0uX3BrO1xyXG4gICAgICAgIHRoaXMuX3N0b3JlLl9yZWFkKHJlbGF0aW9uLl9mcm9tVGFibGUsIGZyb21QS3MsIGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwocm93cywgZnVuY3Rpb24gKHJvdywgaSwgcm93RG9uZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5ld1JvdyA9IE9iamVjdC5pc0Zyb3plbihyb3cpID8gdXRpbGl0aWVzXzEuX2Fzc2lnbihyb3cpIDogcm93O1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlbGF0aW9uLl9mcm9tVHlwZSA9PT0gXCJhcnJheVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Um93W3JlbGF0aW9uLl9mcm9tQ29sdW1uXSA9IG5ld1Jvd1tyZWxhdGlvbi5fZnJvbUNvbHVtbl0gfHwgW107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkeE9mID0gbmV3Um93W3JlbGF0aW9uLl9mcm9tQ29sdW1uXS5pbmRleE9mKHByaW1hcnlLZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhZGQpIHsgLy8gYWRkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZHhPZiA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Jvd1tyZWxhdGlvbi5fZnJvbUNvbHVtbl0ucHVzaChwcmltYXJ5S2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd0RvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gcmVtb3ZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZHhPZiAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Jvd1tyZWxhdGlvbi5fZnJvbUNvbHVtbl0uc3BsaWNlKGlkeE9mLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd0RvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBuZXdSb3dbcmVsYXRpb24uX2Zyb21Db2x1bW5dLnNvcnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhZGQpIHsgLy8gYWRkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Jvd1tyZWxhdGlvbi5fZnJvbUNvbHVtbl0gPSBwcmltYXJ5S2V5O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gcmVtb3ZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Jvd1tyZWxhdGlvbi5fZnJvbUNvbHVtbl0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF90aGlzLl9zdG9yZS5fbnNxbC5xdWVyeShcInVwc2VydFwiLCBuZXdSb3cpLmNvbW1lbnQoXCJfb3JtX3NraXBcIikubWFudWFsRXhlYyh7IHRhYmxlOiByZWxhdGlvbi5fZnJvbVRhYmxlIH0pLnRoZW4ocm93RG9uZSk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oY29tcGxldGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIF9OYW5vU1FMU3RvcmFnZVF1ZXJ5LnByb3RvdHlwZS5fc3luY09STSA9IGZ1bmN0aW9uICh0eXBlLCBvbGRSb3dzLCBuZXdSb3dzLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9zdG9yZS5faGFzT1JNKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHVzZVJlbGF0aW9ucyA9IHRoaXMuX3N0b3JlLl9yZWxUb1RhYmxlW3RoaXMuX3F1ZXJ5LnRhYmxlXTtcclxuICAgICAgICBpZiAodGhpcy5fcXVlcnkuY29tbWVudHMuaW5kZXhPZihcIl9vcm1fc2tpcFwiKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXVzZVJlbGF0aW9ucyB8fCAhdXNlUmVsYXRpb25zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGdvIG92ZXIgZXZlcnkgcmVsYXRpb24gYW5kIGV2ZXJ5IGNoYW5nZWQgcm93IHRvIG1ha2UgdGhlIG5lZWRlZCB1cGRhdGVzLlxyXG4gICAgICAgIHZhciBjbnQgPSBNYXRoLm1heChvbGRSb3dzLmxlbmd0aCwgbmV3Um93cy5sZW5ndGgpO1xyXG4gICAgICAgIHZhciBhcnJhID0gW107XHJcbiAgICAgICAgd2hpbGUgKGNudC0tKVxyXG4gICAgICAgICAgICBhcnJhLnB1c2goXCIgXCIpO1xyXG4gICAgICAgIHV0aWxpdGllc18xLmZhc3RDSEFJTihhcnJhLCBmdW5jdGlvbiAodiwgaWR4LCByb3dEb25lKSB7XHJcbiAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwodXNlUmVsYXRpb25zLCBmdW5jdGlvbiAocmVsYXRpb24sIGssIHJlbGF0aW9uRG9uZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVxdWFscyA9IGZ1bmN0aW9uICh2YWwxLCB2YWwyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsMSkgJiYgQXJyYXkuaXNBcnJheSh2YWwyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsMS5sZW5ndGggIT09IHZhbDIubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbDEuZmlsdGVyKGZ1bmN0aW9uICh2LCBpKSB7IHJldHVybiB2ICE9PSB2YWwyW2ldOyB9KS5sZW5ndGggPiAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbDEgPT09IHZhbDI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJkZWxcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbFByaW1hcnlrZXkgPSBvbGRSb3dzW2lkeF1bX3RoaXMuX3N0b3JlLnRhYmxlSW5mb1tfdGhpcy5fcXVlcnkudGFibGVdLl9wa107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVJRHMgPSByZWxhdGlvbi5fdGhpc1R5cGUgPT09IFwiYXJyYXlcIiA/IChvbGRSb3dzW2lkeF1bcmVsYXRpb24uX3RoaXNDb2x1bW5dIHx8IFtdKSA6IChbb2xkUm93c1tpZHhdW3JlbGF0aW9uLl90aGlzQ29sdW1uXV0uZmlsdGVyKGZ1bmN0aW9uICh2KSB7IHJldHVybiB2OyB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl91cGRhdGVPUk1Sb3dzKHJlbGF0aW9uLCB1cGRhdGVJRHMsIGZhbHNlLCBkZWxQcmltYXJ5a2V5LCByZWxhdGlvbkRvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYWRkXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcmltYXJ5S2V5XzEgPSBuZXdSb3dzW2lkeF1bX3RoaXMuX3N0b3JlLnRhYmxlSW5mb1tfdGhpcy5fcXVlcnkudGFibGVdLl9wa107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBvc3NpYmx5IHVwZGF0ZSBleGlzdGluZyByZWxhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBhZGRpbmcgb2xkUm93c1tpZHhdIGlzIHBvc3NpYmx5IHVuZGVmaW5lZCAoaWYgdGhlcmVzIG5vIHByZXZpb3VzZSByb3cgcmVjb3JkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkUm93c1tpZHhdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwcmV2aW91c2UgcmVjb3JkIGV4aXN0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVxdWFscyhvbGRSb3dzW2lkeF1bcmVsYXRpb24uX3RoaXNDb2x1bW5dLCBuZXdSb3dzW2lkeF1bcmVsYXRpb24uX3RoaXNDb2x1bW5dKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vIHVwZGF0ZSBuZWVkZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxhdGlvbkRvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWxhdGlvbi5fdGhpc1R5cGUgPT09IFwiYXJyYXlcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRkSWRzID0gKG5ld1Jvd3NbaWR4XVtyZWxhdGlvbi5fdGhpc0NvbHVtbl0gfHwgW10pLmZpbHRlcihmdW5jdGlvbiAodikgeyByZXR1cm4gKG9sZFJvd3NbaWR4XVtyZWxhdGlvbi5fdGhpc0NvbHVtbl0gfHwgW10pLmluZGV4T2YodikgPT09IC0xOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlbW92ZUlkcyA9IChvbGRSb3dzW2lkeF1bcmVsYXRpb24uX3RoaXNDb2x1bW5dIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChuZXdSb3dzW2lkeF1bcmVsYXRpb24uX3RoaXNDb2x1bW5dIHx8IFtdKS5pbmRleE9mKHYpID09PSAtMTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwoW2FkZElkcywgcmVtb3ZlSWRzXSwgZnVuY3Rpb24gKGxpc3QsIGksIGRvbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl91cGRhdGVPUk1Sb3dzKHJlbGF0aW9uLCBsaXN0LCBpID09PSAwLCBwcmltYXJ5S2V5XzEsIGRvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKHJlbGF0aW9uRG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRkUmVsYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgbmV3IHJlbGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3Um93c1tpZHhdW3JlbGF0aW9uLl90aGlzQ29sdW1uXSAhPT0gbnVsbCAmJiBuZXdSb3dzW2lkeF1bcmVsYXRpb24uX3RoaXNDb2x1bW5dICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdXBkYXRlT1JNUm93cyhyZWxhdGlvbiwgW25ld1Jvd3NbaWR4XVtyZWxhdGlvbi5fdGhpc0NvbHVtbl1dLCB0cnVlLCBwcmltYXJ5S2V5XzEsIHJlbGF0aW9uRG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBubyBuZXcgcmVsYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxhdGlvbkRvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIG9sZCBjb25uZWN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRSb3dzW2lkeF1bcmVsYXRpb24uX3RoaXNDb2x1bW5dICE9PSBudWxsICYmIG9sZFJvd3NbaWR4XVtyZWxhdGlvbi5fdGhpc0NvbHVtbl0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3VwZGF0ZU9STVJvd3MocmVsYXRpb24sIFtvbGRSb3dzW2lkeF1bcmVsYXRpb24uX3RoaXNDb2x1bW5dXSwgZmFsc2UsIHByaW1hcnlLZXlfMSwgYWRkUmVsYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm8gb2xkIGNvbm5lY3Rpb24sIGp1c3QgYWRkIHRoZSBuZXcgb25lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRSZWxhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBuZXcgcmVsYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZXNUb0FkZCA9IHJlbGF0aW9uLl90aGlzVHlwZSA9PT0gXCJhcnJheVwiID8gKG5ld1Jvd3NbaWR4XVtyZWxhdGlvbi5fdGhpc0NvbHVtbl0gfHwgW10pIDogKFtuZXdSb3dzW2lkeF1bcmVsYXRpb24uX3RoaXNDb2x1bW5dXS5maWx0ZXIoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHY7IH0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZXNUb0FkZCAmJiB2YWx1ZXNUb0FkZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdXBkYXRlT1JNUm93cyhyZWxhdGlvbiwgdmFsdWVzVG9BZGQsIHRydWUsIHByaW1hcnlLZXlfMSwgcmVsYXRpb25Eb25lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uRG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KS50aGVuKHJvd0RvbmUpO1xyXG4gICAgICAgIH0pLnRoZW4oY29tcGxldGUpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRm9yIGVhY2ggdXBkYXRlZCByb3csIHVwZGF0ZSB2aWV3IGNvbHVtbnMgZnJvbSByZW1vdGUgcmVjb3JkcyB0aGF0IGFyZSByZWxhdGVkLlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcGFyYW0ge2FueVtdfSByb3dzXHJcbiAgICAgKiBAcGFyYW0geygpID0+IHZvaWR9IGNvbXBsZXRlXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMU3RvcmFnZVF1ZXJ5XHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZVF1ZXJ5LnByb3RvdHlwZS5fdXBkYXRlUm93Vmlld3MgPSBmdW5jdGlvbiAobmV3Um93RGF0YSwgZXhpc3RpbmdSb3csIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoIXRoaXMuX3N0b3JlLl9oYXNWaWV3cykge1xyXG4gICAgICAgICAgICBjb21wbGV0ZShuZXdSb3dEYXRhKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBub3RoaW5nIHRvIHVwZGF0ZVxyXG4gICAgICAgIGlmIChuZXdSb3dEYXRhID09PSBudWxsIHx8IG5ld1Jvd0RhdGEgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb21wbGV0ZShuZXdSb3dEYXRhIHx8IHt9KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKE9iamVjdC5rZXlzKHRoaXMuX3N0b3JlLnRhYmxlSW5mb1t0aGlzLl9xdWVyeS50YWJsZV0uX3ZpZXdzKSwgZnVuY3Rpb24gKHRhYmxlLCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgIHZhciBwayA9IF90aGlzLl9zdG9yZS50YWJsZUluZm9bX3RoaXMuX3F1ZXJ5LnRhYmxlXS5fdmlld3NbdGFibGVdLnBrQ29sdW1uO1xyXG4gICAgICAgICAgICAvLyByZWZlcmVuY2UvcGsgY29sdW1uIGlzbid0IGJlaW5nIHVwZGF0ZWQuXHJcbiAgICAgICAgICAgIGlmIChuZXdSb3dEYXRhW3BrXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gbm8gY2hhbmdlcyBpbiByZWZlcmVuY2UsIHNraXAgcXVlcnkgYW5kIHVwYXRlXHJcbiAgICAgICAgICAgIGlmIChuZXdSb3dEYXRhW3BrXSA9PT0gZXhpc3RpbmdSb3dbcGtdKSB7XHJcbiAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcmVtb3ZlIHJlZmVyZW5jZVxyXG4gICAgICAgICAgICBpZiAobmV3Um93RGF0YVtwa10gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9zdG9yZS50YWJsZUluZm9bX3RoaXMuX3F1ZXJ5LnRhYmxlXS5fdmlld3NbdGFibGVdLmNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Um93RGF0YVtjb2wudGhpc0NvbHVtbl0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gZ2V0IHJlZmVyZW5jZSByZWNvcmQgYW5kIGNvcHkgZXZlcnl0aGluZyBvdmVyXHJcbiAgICAgICAgICAgIF90aGlzLl9zdG9yZS5fcmVhZCh0YWJsZSwgW25ld1Jvd0RhdGFbcGtdXSwgZnVuY3Rpb24gKHJlZlJvd3MpIHtcclxuICAgICAgICAgICAgICAgIC8vIHJlY29yZCBkb2Vzbid0IGV4aXN0XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlZlJvd3MubGVuZ3RoICYmIF90aGlzLl9zdG9yZS50YWJsZUluZm9bX3RoaXMuX3F1ZXJ5LnRhYmxlXS5fdmlld3NbdGFibGVdLm1vZGUgPT09IFwiTElWRVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3N0b3JlLnRhYmxlSW5mb1tfdGhpcy5fcXVlcnkudGFibGVdLl92aWV3c1t0YWJsZV0uY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Um93RGF0YVtjb2wudGhpc0NvbHVtbl0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyByZWNvcmQgZXhpc3RzLCBjb3B5IG92ZXIgZGF0YVxyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3N0b3JlLnRhYmxlSW5mb1tfdGhpcy5fcXVlcnkudGFibGVdLl92aWV3c1t0YWJsZV0uY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb2wpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdSb3dEYXRhW2NvbC50aGlzQ29sdW1uXSA9IHJlZlJvd3NbMF1bY29sLm90aGVyQ29sdW1uXTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29tcGxldGUobmV3Um93RGF0YSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHbyB0byB0YWJsZXMgdGhhdCBoYXZlIHZpZXdzIHBvaW50aW5nIHRvIHRoaXMgb25lLCBhbmQgdXBkYXRlIHRoZWlyIHJlY29yZHMuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBwYXJhbSB7YW55W119IHVwZGF0ZWRSb3dzXHJcbiAgICAgKiBAcGFyYW0geygpID0+IHZvaWR9IGNvbXBsZXRlXHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxTdG9yYWdlUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxTdG9yYWdlUXVlcnkucHJvdG90eXBlLl91cGRhdGVSZW1vdGVWaWV3cyA9IGZ1bmN0aW9uICh1cGRhdGVkUm93cywgZG9EZWwsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgcGsgPSB0aGlzLl9zdG9yZS50YWJsZUluZm9bdGhpcy5fcXVlcnkudGFibGVdLl9waztcclxuICAgICAgICAvLyBmb3IgZXZlcnkgdXBkYXRlZCByb3dcclxuICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHVwZGF0ZWRSb3dzLCBmdW5jdGlvbiAocm93LCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgIC8vIHNjYW4gYWxsIHJlbGF0ZWQgdGFibGVzIGZvciByZWNvcmRzIGF0dGFjaGVkXHJcbiAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwoX3RoaXMuX3N0b3JlLnRhYmxlSW5mb1tfdGhpcy5fcXVlcnkudGFibGVdLl92aWV3VGFibGVzLCBmdW5jdGlvbiAodmlldywgaSwgcm93RG9uZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gZGVsZXRlIHdpdGggZWNobyBtb2RlLCBza2lwIHJlbW92aW5nIHJlY29yZHNcclxuICAgICAgICAgICAgICAgIGlmIChkb0RlbCAmJiBfdGhpcy5fc3RvcmUudGFibGVJbmZvW3ZpZXcudGFibGVdLl92aWV3c1tfdGhpcy5fcXVlcnkudGFibGVdLm1vZGUgPT09IFwiR0hPU1RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd0RvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fc3RvcmUuX3NlY29uZGFyeUluZGV4UmVhZCh2aWV3LnRhYmxlLCB2aWV3LmNvbHVtbiwgcm93W3BrXSwgZnVuY3Rpb24gKHJlbGF0ZWRSb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbm90aGluZyB0byB1cGRhdGVcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlbGF0ZWRSb3dzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dEb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHVtbnMgPSBfdGhpcy5fc3RvcmUudGFibGVJbmZvW3ZpZXcudGFibGVdLl92aWV3c1tfdGhpcy5fcXVlcnkudGFibGVdLmNvbHVtbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlbFBLID0gX3RoaXMuX3N0b3JlLnRhYmxlSW5mb1t2aWV3LnRhYmxlXS5fdmlld3NbX3RoaXMuX3F1ZXJ5LnRhYmxlXS5wa0NvbHVtbjtcclxuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdGhlIHJlY29yZHNcclxuICAgICAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHJlbGF0ZWRSb3dzLCBmdW5jdGlvbiAoclJvdywgaiwgckRvbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBjb2x1bW5zLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvVXBkYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb0RlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl9zdG9yZS50YWJsZUluZm9bdmlldy50YWJsZV0uX3ZpZXdzW190aGlzLl9xdWVyeS50YWJsZV0ubW9kZSA9PT0gXCJMSVZFXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgclJvd1tyZWxQS10gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgclJvd1tjb2x1bW5zW2ldLm90aGVyQ29sdW1uXSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyUm93W2NvbHVtbnNbaV0ub3RoZXJDb2x1bW5dICE9PSByb3dbY29sdW1uc1tpXS50aGlzQ29sdW1uXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByUm93W2NvbHVtbnNbaV0ub3RoZXJDb2x1bW5dID0gcm93W2NvbHVtbnNbaV0udGhpc0NvbHVtbl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkb1VwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgckRvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgclBrID0gX3RoaXMuX3N0b3JlLnRhYmxlSW5mb1t2aWV3LnRhYmxlXS5fcGs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zdG9yZS5hZGFwdGVyV3JpdGUodmlldy50YWJsZSwgclJvd1tyUGtdLCByUm93LCByRG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihyb3dEb25lKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KS50aGVuKGRvbmUpO1xyXG4gICAgICAgIH0pLnRoZW4oY29tcGxldGUpO1xyXG4gICAgfTtcclxuICAgIF9OYW5vU1FMU3RvcmFnZVF1ZXJ5LnByb3RvdHlwZS5fZG9BZnRlclF1ZXJ5ID0gZnVuY3Rpb24gKG5ld1Jvd3MsIGRvRGVsLCBuZXh0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAvLyBubyB2aWV3cyBhdCBhbGwgT1IgdGhpcyB0YWJsZSBkb2Vzbid0IGhhdmUgYW55IHZpZXdzIHBvaW50aW5nIHRvIGl0LlxyXG4gICAgICAgIGlmICghdGhpcy5fc3RvcmUuX2hhc1ZpZXdzIHx8ICF0aGlzLl9zdG9yZS50YWJsZUluZm9bdGhpcy5fcXVlcnkudGFibGVdLl92aWV3VGFibGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBuZXh0KHRoaXMuX3F1ZXJ5KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl91cGRhdGVSZW1vdGVWaWV3cyhuZXdSb3dzLCBkb0RlbCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBuZXh0KF90aGlzLl9xdWVyeSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWxpemUgYW4gVVBTRVJUIHF1ZXJ5LlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHsocTogSWRiUXVlcnkpID0+IHZvaWR9IG5leHRcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxTdG9yYWdlUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxTdG9yYWdlUXVlcnkucHJvdG90eXBlLl91cHNlcnQgPSBmdW5jdGlvbiAobmV4dCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHBrID0gdGhpcy5fc3RvcmUudGFibGVJbmZvW3RoaXMuX3F1ZXJ5LnRhYmxlXS5fcGs7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzSW5zdGFuY2VUYWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9nZXRSb3dzKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fcXVlcnkucmVzdWx0ID0gX3RoaXMuX3F1ZXJ5LnRhYmxlLm1hcChmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyb3dzLmluZGV4T2YocikgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19hc3NpZ24oe30sIF90aGlzLl9xdWVyeS5hY3Rpb25BcmdzLCByKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbmV4dChfdGhpcy5fcXVlcnkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fcXVlcnkud2hlcmUpIHsgLy8gaGFzIHdoZXJlIHN0YXRlbWVudCwgc2VsZWN0IHJvd3MgdGhlbiBtb2RpZnkgdGhlbVxyXG4gICAgICAgICAgICB0aGlzLl9nZXRSb3dzKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0Q0hBSU4ocm93cywgZnVuY3Rpb24gKHIsIGksIHJvd0RvbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3VwZGF0ZVJvd1ZpZXdzKF90aGlzLl9xdWVyeS5hY3Rpb25BcmdzIHx8IHt9LCByLCBmdW5jdGlvbiAodXBkYXRlZENvbHVtbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zdG9yZS5fd3JpdGUoX3RoaXMuX3F1ZXJ5LnRhYmxlLCByW3BrXSwgciwgdXBkYXRlZENvbHVtbnMsIHJvd0RvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChuZXdSb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFueSBjaGFuZ2VzIHRvIHRoaXMgdGFibGUgaW52YWxpZGF0ZXMgdGhlIGNhY2hlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwa3MgPSBuZXdSb3dzLm1hcChmdW5jdGlvbiAocikgeyByZXR1cm4gcltwa107IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc3RvcmUuX2ludmFsaWRhdGVDYWNoZShfdGhpcy5fcXVlcnkudGFibGUsIHBrcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9xdWVyeS5yZXN1bHQgPSBbeyBtc2c6IG5ld1Jvd3MubGVuZ3RoICsgXCIgcm93KHMpIG1vZGZpZWQuXCIsIGFmZmVjdGVkUm93UEtTOiBwa3MsIGFmZmVjdGVkUm93czogbmV3Um93cyB9XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3N5bmNPUk0oXCJhZGRcIiwgcm93cywgbmV3Um93cywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2RvQWZ0ZXJRdWVyeShuZXdSb3dzLCBmYWxzZSwgbmV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3F1ZXJ5LnJlc3VsdCA9IFt7IG1zZzogXCIwIHJvdyhzKSBtb2RmaWVkLlwiLCBhZmZlY3RlZFJvd1BLUzogW10sIGFmZmVjdGVkUm93czogW10gfV07XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dChfdGhpcy5fcXVlcnkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7IC8vIG5vIHdoZXJlIHN0YXRlbWVudCwgcGVyZm9ybSBkaXJlY3QgdXBzZXJ0XHJcbiAgICAgICAgICAgIHZhciByb3dfMSA9IHRoaXMuX3F1ZXJ5LmFjdGlvbkFyZ3MgfHwge307XHJcbiAgICAgICAgICAgIHRoaXMuX3N0b3JlLl9jYWNoZVt0aGlzLl9xdWVyeS50YWJsZV0gPSB7fTtcclxuICAgICAgICAgICAgdmFyIHdyaXRlXzEgPSBmdW5jdGlvbiAob2xkUm93KSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fdXBkYXRlUm93Vmlld3Mocm93XzEsIG9sZFJvdywgZnVuY3Rpb24gKHVwZGF0ZWRDb2x1bW5zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3N0b3JlLl93cml0ZShfdGhpcy5fcXVlcnkudGFibGUsIHJvd18xW3BrXSwgb2xkUm93LCB1cGRhdGVkQ29sdW1ucywgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcXVlcnkucmVzdWx0ID0gW3sgbXNnOiBcIjEgcm93IGluc2VydGVkLlwiLCBhZmZlY3RlZFJvd1BLUzogW3Jlc3VsdFtwa11dLCBhZmZlY3RlZFJvd3M6IFtyZXN1bHRdIH1dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX3N0b3JlLl9oYXNPUk0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zeW5jT1JNKFwiYWRkXCIsIFtvbGRSb3ddLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gcjsgfSksIFtyZXN1bHRdLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2RvQWZ0ZXJRdWVyeShbcmVzdWx0XSwgZmFsc2UsIG5leHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZG9BZnRlclF1ZXJ5KFtyZXN1bHRdLCBmYWxzZSwgbmV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpZiAocm93XzFbcGtdICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N0b3JlLl9yZWFkKHRoaXMuX3F1ZXJ5LnRhYmxlLCBbcm93XzFbcGtdXSwgZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVfMShyb3dzWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlXzEobnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB3cml0ZV8xKG51bGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlsaXplIGEgREVMRVRFIHF1ZXJ5LlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHsocTogSWRiUXVlcnkpID0+IHZvaWR9IG5leHRcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxTdG9yYWdlUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxTdG9yYWdlUXVlcnkucHJvdG90eXBlLl9kZWxldGUgPSBmdW5jdGlvbiAobmV4dCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzSW5zdGFuY2VUYWJsZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fcXVlcnkud2hlcmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2dldFJvd3MoZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcXVlcnkucmVzdWx0ID0gX3RoaXMuX3F1ZXJ5LnRhYmxlLmZpbHRlcihmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByb3dzLmluZGV4T2Yocm93KSA9PT0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dChfdGhpcy5fcXVlcnkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9xdWVyeS5yZXN1bHQgPSBbXTtcclxuICAgICAgICAgICAgICAgIG5leHQodGhpcy5fcXVlcnkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX3F1ZXJ5LndoZXJlKSB7IC8vIGhhcyB3aGVyZSBzdGF0ZW1lbnQsIHNlbGVjdCByb3dzIHRoZW4gZGVsZXRlIHRoZW1cclxuICAgICAgICAgICAgdGhpcy5fZ2V0Um93cyhmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgcm93cyA9IHJvd3MuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByOyB9KTtcclxuICAgICAgICAgICAgICAgIGlmIChyb3dzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwocm93cywgZnVuY3Rpb24gKHIsIGksIGRvbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3N0b3JlLl9kZWxldGUoX3RoaXMuX3F1ZXJ5LnRhYmxlLCByW190aGlzLl9zdG9yZS50YWJsZUluZm9bX3RoaXMuX3F1ZXJ5LnRhYmxlXS5fcGtdLCBkb25lKTtcclxuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChhZmZlY3RlZFJvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW55IGNoYW5nZXMgdG8gdGhpcyB0YWJsZSBpbnZhbGlkYXRlIHRoZSBjYWNoZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc3RvcmUuX2NhY2hlW190aGlzLl9xdWVyeS50YWJsZV0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBrcyA9IHJvd3MubWFwKGZ1bmN0aW9uIChyKSB7IHJldHVybiByW190aGlzLl9zdG9yZS50YWJsZUluZm9bX3RoaXMuX3F1ZXJ5LnRhYmxlXS5fcGtdOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3N0b3JlLl9pbnZhbGlkYXRlQ2FjaGUoX3RoaXMuX3F1ZXJ5LnRhYmxlLCBwa3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcXVlcnkucmVzdWx0ID0gW3sgbXNnOiByb3dzLmxlbmd0aCArIFwiIHJvdyhzKSBkZWxldGVkLlwiLCBhZmZlY3RlZFJvd1BLUzogcGtzLCBhZmZlY3RlZFJvd3M6IHJvd3MgfV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zeW5jT1JNKFwiZGVsXCIsIHJvd3MsIFtdLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZG9BZnRlclF1ZXJ5KHJvd3MsIHRydWUsIG5leHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9xdWVyeS5yZXN1bHQgPSBbeyBtc2c6IFwiMCByb3cocykgZGVsZXRlZC5cIiwgYWZmZWN0ZWRSb3dQS1M6IFtdLCBhZmZlY3RlZFJvd3M6IFtdIH1dO1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQoX3RoaXMuX3F1ZXJ5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgeyAvLyBubyB3aGVyZSBzdGF0ZW1lbnQsIHBlcmZvcm0gZHJvcFxyXG4gICAgICAgICAgICB0aGlzLl9kcm9wKG5leHQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEluaXRpbGl6ZSBhIERST1AgcXVlcnkuXHJcbiAgICAgKlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKiBAcGFyYW0geyhxOiBJZGJRdWVyeSkgPT4gdm9pZH0gbmV4dFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFN0b3JhZ2VRdWVyeVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFN0b3JhZ2VRdWVyeS5wcm90b3R5cGUuX2Ryb3AgPSBmdW5jdGlvbiAobmV4dCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzSW5zdGFuY2VUYWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9xdWVyeS5yZXN1bHQgPSBbXTtcclxuICAgICAgICAgICAgbmV4dCh0aGlzLl9xdWVyeSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fc3RvcmUuX3JhbmdlUmVhZCh0aGlzLl9xdWVyeS50YWJsZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZhbHNlLCBmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICBfdGhpcy5fc3RvcmUuX2NhY2hlW190aGlzLl9xdWVyeS50YWJsZV0gPSB7fTtcclxuICAgICAgICAgICAgX3RoaXMuX3N0b3JlLl9jYWNoZUtleXNbX3RoaXMuX3F1ZXJ5LnRhYmxlXSA9IHt9O1xyXG4gICAgICAgICAgICBfdGhpcy5fc3RvcmUuX2Ryb3AoX3RoaXMuX3F1ZXJ5LnRhYmxlLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fcXVlcnkucmVzdWx0ID0gW3sgbXNnOiBcIidcIiArIF90aGlzLl9xdWVyeS50YWJsZSArIFwiJyB0YWJsZSBkcm9wcGVkLlwiLCBhZmZlY3RlZFJvd1BLUzogcm93cy5tYXAoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHJbX3RoaXMuX3N0b3JlLnRhYmxlSW5mb1tfdGhpcy5fcXVlcnkudGFibGVdLl9wa107IH0pLCBhZmZlY3RlZFJvd3M6IHJvd3MgfV07XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fc3luY09STShcImRlbFwiLCByb3dzLCBbXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9kb0FmdGVyUXVlcnkocm93cywgdHJ1ZSwgbmV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9OYW5vU1FMU3RvcmFnZVF1ZXJ5O1xyXG59KCkpO1xyXG5leHBvcnRzLl9OYW5vU1FMU3RvcmFnZVF1ZXJ5ID0gX05hbm9TUUxTdG9yYWdlUXVlcnk7XHJcbi8qKlxyXG4gKiBUYWtlcyBhIHNlbGVjdGlvbiBvZiByb3dzIGFuZCBhcHBseXMgbW9kaWZpZXJzIGxpa2Ugb3JkZXJCeSwgam9pbiBhbmQgb3RoZXJzIHRvIHRoZSByb3dzLlxyXG4gKiBSZXR1cm5zIHRoZSBhZmZlY3RlZCByb3dzIHVwZGF0ZWQgaW4gdGhlIHdheSB0aGUgcXVlcnkgc3BlY2lmaWVkLlxyXG4gKlxyXG4gKiBAZXhwb3J0XHJcbiAqIEBjbGFzcyBNdXRhdGVTZWxlY3Rpb25cclxuICovXHJcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxyXG52YXIgX011dGF0ZVNlbGVjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIF9NdXRhdGVTZWxlY3Rpb24ocSwgcykge1xyXG4gICAgICAgIHRoaXMucSA9IHE7XHJcbiAgICAgICAgdGhpcy5zID0gcztcclxuICAgICAgICB0aGlzLl9ncm91cEJ5Q29sdW1ucyA9IFtdO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQZWZvcm0gYSBqb2luIGNvbW1hbmQuXHJcbiAgICAgKlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKiBAcGFyYW0ge0RCUm93W119IHJvd3NcclxuICAgICAqIEBwYXJhbSB7KHJvd3M6IERCUm93W10pID0+IHZvaWR9IGNvbXBsZXRlXHJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAqIEBtZW1iZXJvZiBfTXV0YXRlU2VsZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIF9NdXRhdGVTZWxlY3Rpb24ucHJvdG90eXBlLl9qb2luID0gZnVuY3Rpb24gKHJvd3MsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoIXRoaXMucS5qb2luKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKHJvd3MpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBqb2luQ29uZGl0aW9ucyA9IHt9O1xyXG4gICAgICAgIGlmICh0aGlzLnEuam9pbi50eXBlICE9PSBcImNyb3NzXCIgJiYgdGhpcy5xLmpvaW4ud2hlcmUpIHtcclxuICAgICAgICAgICAgam9pbkNvbmRpdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICBfbGVmdDogdGhpcy5xLmpvaW4ud2hlcmVbMF0sXHJcbiAgICAgICAgICAgICAgICBfY2hlY2s6IHRoaXMucS5qb2luLndoZXJlWzFdLFxyXG4gICAgICAgICAgICAgICAgX3JpZ2h0OiB0aGlzLnEuam9pbi53aGVyZVsyXVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbGVmdFRhYmxlID0gdGhpcy5xLnRhYmxlO1xyXG4gICAgICAgIHZhciByaWdodFRhYmxlID0gdGhpcy5xLmpvaW4udGFibGU7XHJcbiAgICAgICAgdGhpcy5fZG9Kb2luKHRoaXMucS5qb2luLnR5cGUsIGxlZnRUYWJsZSwgcmlnaHRUYWJsZSwgam9pbkNvbmRpdGlvbnMsIGZ1bmN0aW9uIChqb2luZWRSb3dzKSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5xLndoZXJlKSB7IC8vIGFwcGx5IHdoZXJlIHN0YXRlbWVudCB0byBqb2luXHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShqb2luZWRSb3dzLmZpbHRlcihmdW5jdGlvbiAocm93LCBpZHgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShfdGhpcy5xLndoZXJlKSA/IF93aGVyZShyb3csIF90aGlzLnEud2hlcmUgfHwgW10sIGlkeCwgdHJ1ZSkgOiBfdGhpcy5xLndoZXJlKHJvdywgaWR4KTtcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChfdGhpcy5xLnJhbmdlKSB7IC8vIGFwcGx5IHJhbmdlIHN0YXRlbWVudCB0byBqb2luXHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShqb2luZWRSb3dzLmZpbHRlcihmdW5jdGlvbiAocm93LCBpZHgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucS5yYW5nZSAmJiBfdGhpcy5xLnJhbmdlWzBdID49IGlkeCAmJiBfdGhpcy5xLnJhbmdlWzFdIDw9IGlkeDtcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHsgLy8gc2VuZCB0aGUgd2hvbGUgcmVzdWx0XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShqb2luZWRSb3dzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGUgYSB1bmlxdWUgZ3JvdXAgYnkga2V5IGdpdmVuIGEgZ3JvdXAgYnkgb2JqZWN0IGFuZCBhIHJvdy5cclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGNvbHVtbnNcclxuICAgICAqIEBwYXJhbSB7Kn0gcm93XHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICogQG1lbWJlcm9mIF9NdXRhdGVTZWxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgX011dGF0ZVNlbGVjdGlvbi5wcm90b3R5cGUuX2dyb3VwQnlLZXkgPSBmdW5jdGlvbiAoY29sdW1ucywgcm93KSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbHVtbnMucmVkdWNlKGZ1bmN0aW9uIChwLCBjKSB7XHJcbiAgICAgICAgICAgIC8vIGhhbmRsZSBcIi5sZW5ndGhcIlxyXG4gICAgICAgICAgICBpZiAoYy5pbmRleE9mKFwiLmxlbmd0aFwiKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwICsgXCIuXCIgKyBTdHJpbmcoKHJvd1tjLnJlcGxhY2UoXCIubGVuZ3RoXCIsIFwiXCIpXSB8fCBbXSkubGVuZ3RoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwICsgXCIuXCIgKyBTdHJpbmcocm93W2NdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIFwiXCIpLnNsaWNlKDEpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUGVyZm9ybSB0aGUgR3JvdXAgQnkgbXV0YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKiBAcGFyYW0ge0RCUm93W119IHJvd3NcclxuICAgICAqIEByZXR1cm5zIHthbnlbXX1cclxuICAgICAqIEBtZW1iZXJvZiBfTXV0YXRlU2VsZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIF9NdXRhdGVTZWxlY3Rpb24ucHJvdG90eXBlLl9ncm91cEJ5ID0gZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBjb2x1bW5zID0gdGhpcy5xLmdyb3VwQnkgfHwge307XHJcbiAgICAgICAgdmFyIHNvcnRlZFJvd3MgPSByb3dzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9zb3J0T2JqKGEsIGIsIGNvbHVtbnMsIHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNvcnRlZFJvd3MuZm9yRWFjaChmdW5jdGlvbiAodmFsLCBpZHgpIHtcclxuICAgICAgICAgICAgdmFyIGdyb3VwQnlLZXkgPSBPYmplY3Qua2V5cyhjb2x1bW5zKS5tYXAoZnVuY3Rpb24gKGspIHsgcmV0dXJuIFN0cmluZyh2YWxba10pIHx8IFwiXCI7IH0pLmpvaW4oXCIuXCIpO1xyXG4gICAgICAgICAgICBpZiAoIV90aGlzLl9zb3J0R3JvdXBzKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fc29ydEdyb3VwcyA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghX3RoaXMuX3NvcnRHcm91cHNbZ3JvdXBCeUtleV0pIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9zb3J0R3JvdXBzW2dyb3VwQnlLZXldID0gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMuX3NvcnRHcm91cHNbZ3JvdXBCeUtleV0ucHVzaChpZHgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBzb3J0ZWRSb3dzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUGVyZm9ybSBIQVZJTkcgbXV0YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKiBAcGFyYW0ge0RCUm93W119IHJvd3NcclxuICAgICAqIEByZXR1cm5zIHthbnlbXX1cclxuICAgICAqIEBtZW1iZXJvZiBfTXV0YXRlU2VsZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIF9NdXRhdGVTZWxlY3Rpb24ucHJvdG90eXBlLl9oYXZpbmcgPSBmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIHJvd3MuZmlsdGVyKGZ1bmN0aW9uIChyb3csIGlkeCkge1xyXG4gICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShfdGhpcy5xLmhhdmluZykgPyBfd2hlcmUocm93LCBfdGhpcy5xLmhhdmluZyB8fCBbXSwgaWR4LCB0cnVlKSA6IF90aGlzLnEuaGF2aW5nKHJvdywgaWR4KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFBlcmZvcm0gdGhlIG9yZGVyQnkgbXV0YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKiBAcGFyYW0ge0RCUm93W119IHJvd3NcclxuICAgICAqIEByZXR1cm5zIHthbnlbXX1cclxuICAgICAqIEBtZW1iZXJvZiBfTXV0YXRlU2VsZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIF9NdXRhdGVTZWxlY3Rpb24ucHJvdG90eXBlLl9vcmRlckJ5ID0gZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiByb3dzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9zb3J0T2JqKGEsIGIsIF90aGlzLnEub3JkZXJCeSB8fCB7fSwgZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUGVyZm9ybSB0aGUgT2Zmc2V0IG11dGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHtEQlJvd1tdfSByb3dzXHJcbiAgICAgKiBAcmV0dXJucyB7YW55W119XHJcbiAgICAgKiBAbWVtYmVyb2YgX011dGF0ZVNlbGVjdGlvblxyXG4gICAgICovXHJcbiAgICBfTXV0YXRlU2VsZWN0aW9uLnByb3RvdHlwZS5fb2Zmc2V0ID0gZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiByb3dzLmZpbHRlcihmdW5jdGlvbiAocm93LCBpbmRleCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXMucS5vZmZzZXQgPyBpbmRleCA+PSBfdGhpcy5xLm9mZnNldCA6IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJmb3JtIHRoZSBsaW1pdCBtdXRhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7REJSb3dbXX0gcm93c1xyXG4gICAgICogQHJldHVybnMge2FueVtdfVxyXG4gICAgICogQG1lbWJlcm9mIF9NdXRhdGVTZWxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgX011dGF0ZVNlbGVjdGlvbi5wcm90b3R5cGUuX2xpbWl0ID0gZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiByb3dzLmZpbHRlcihmdW5jdGlvbiAocm93LCBpbmRleCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXMucS5saW1pdCA/IGluZGV4IDwgX3RoaXMucS5saW1pdCA6IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgT1JNIHZhbHVlcyB0byByb3dzIGJhc2VkIG9uIHF1ZXJ5LlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHtEQlJvd1tdfSByb3dzXHJcbiAgICAgKiBAcGFyYW0geyhyb3dzOiBEQlJvd1tdKSA9PiB2b2lkfSBjb21wbGV0ZVxyXG4gICAgICogQG1lbWJlcm9mIF9NdXRhdGVTZWxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgX011dGF0ZVNlbGVjdGlvbi5wcm90b3R5cGUuX29ybSA9IGZ1bmN0aW9uIChyb3dzLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIG9ybVF1ZXJpZXMgPSB0aGlzLnEub3JtID8gdGhpcy5xLm9ybS5tYXAoZnVuY3Rpb24gKG8pIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogbyxcclxuICAgICAgICAgICAgICAgICAgICBsaW1pdDogNVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbztcclxuICAgICAgICB9KSA6IFtdO1xyXG4gICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwocm93cywgZnVuY3Rpb24gKHJvdywgaSwgcm93UmVzdWx0KSB7XHJcbiAgICAgICAgICAgIHJvdyA9IE9iamVjdC5pc0Zyb3plbihyb3cpID8gdXRpbGl0aWVzXzEuX2Fzc2lnbihyb3cpIDogcm93O1xyXG4gICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKG9ybVF1ZXJpZXMsIGZ1bmN0aW9uIChvcm0sIGssIG9ybVJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyb3dbb3JtLmtleV0gfHwgIXJvd1tvcm0ua2V5XS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcm1SZXN1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVsYXRlRGF0YSA9IF90aGlzLnMuX2NvbHVtbnNBcmVUYWJsZXNbX3RoaXMucS50YWJsZV1bb3JtLmtleV07XHJcbiAgICAgICAgICAgICAgICBpZiAocmVsYXRlRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnMuX25zcWwucXVlcnkoXCJzZWxlY3RcIikud2hlcmUoW190aGlzLnMudGFibGVJbmZvW3JlbGF0ZURhdGEuX3RvVGFibGVdLl9waywgcmVsYXRlRGF0YS5fdGhpc1R5cGUgPT09IFwiYXJyYXlcIiA/IFwiSU5cIiA6IFwiPVwiLCByb3dbb3JtLmtleV1dKS5tYW51YWxFeGVjKHsgdGFibGU6IHJlbGF0ZURhdGEuX3RvVGFibGUgfSkudGhlbihmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcSA9IGluZGV4XzEublNRTCgpLnF1ZXJ5KFwic2VsZWN0XCIsIG9ybS5zZWxlY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JtLndoZXJlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxLndoZXJlKG9ybS53aGVyZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9ybS5saW1pdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxLmxpbWl0KG9ybS5saW1pdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9ybS5vZmZzZXQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcS5vZmZzZXQob3JtLm9mZnNldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9ybS5vcmRlckJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxLm9yZGVyQnkob3JtLm9yZGVyQnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcm0uZ3JvdXBCeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcS5ncm91cEJ5KG9ybS5ncm91cEJ5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBxLm1hbnVhbEV4ZWMoeyB0YWJsZTogcm93cyB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcm93cy5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHI7IH0pLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd1tvcm0ua2V5XSA9IHJlbGF0ZURhdGEuX3RoaXNUeXBlID09PSBcImFycmF5XCIgPyBbXSA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd1tvcm0ua2V5XSA9IHJlbGF0ZURhdGEuX3RoaXNUeXBlID09PSBcImFycmF5XCIgPyByZXN1bHQgOiByZXN1bHRbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcm1SZXN1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBvcm1SZXN1bHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByb3dSZXN1bHQocm93KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSkudGhlbihjb21wbGV0ZSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJmb3JtcyB0aGUgYWN0dWFsIEpPSU4gbXV0YXRpb24sIGluY2x1ZGluZyB0aGUgT14yIHNlbGVjdCBxdWVyeSB0byBjaGVjayBhbGwgcm93cyBhZ2FpbnN0IGV2ZXJ5IG90aGVyIHJvdy5cclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7KFwibGVmdFwiIHwgXCJpbm5lclwiIHwgXCJyaWdodFwiIHwgXCJjcm9zc1wiIHwgXCJvdXRlclwiKX0gdHlwZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxlZnRUYWJsZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJpZ2h0VGFibGVcclxuICAgICAqIEBwYXJhbSB7KG51bGwgfCB7IF9sZWZ0OiBzdHJpbmcsIF9jaGVjazogc3RyaW5nLCBfcmlnaHQ6IHN0cmluZyB9KX0gam9pbkNvbmRpdGlvbnNcclxuICAgICAqIEBwYXJhbSB7KHJvd3M6IERCUm93W10pID0+IHZvaWR9IGNvbXBsZXRlXHJcbiAgICAgKiBAbWVtYmVyb2YgX011dGF0ZVNlbGVjdGlvblxyXG4gICAgICovXHJcbiAgICBfTXV0YXRlU2VsZWN0aW9uLnByb3RvdHlwZS5fZG9Kb2luID0gZnVuY3Rpb24gKHR5cGUsIGxlZnRUYWJsZSwgcmlnaHRUYWJsZSwgam9pbkNvbmRpdGlvbnMsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIEwgPSBcImxlZnRcIjtcclxuICAgICAgICB2YXIgUiA9IFwicmlnaHRcIjtcclxuICAgICAgICB2YXIgTyA9IFwib3V0ZXJcIjtcclxuICAgICAgICB2YXIgQyA9IFwiY3Jvc3NcIjtcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGZpcnN0VGFibGVEYXRhID0gdC5zLnRhYmxlSW5mb1t0eXBlID09PSBSID8gcmlnaHRUYWJsZSA6IGxlZnRUYWJsZV07XHJcbiAgICAgICAgdmFyIHNlY29uVGFibGVEYXRhID0gdC5zLnRhYmxlSW5mb1t0eXBlID09PSBSID8gbGVmdFRhYmxlIDogcmlnaHRUYWJsZV07XHJcbiAgICAgICAgdmFyIGRvSm9pblJvd3MgPSBmdW5jdGlvbiAobGVmdFJvdywgcmlnaHRSb3cpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtmaXJzdFRhYmxlRGF0YSwgc2Vjb25UYWJsZURhdGFdLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VyLCBpKSB7XHJcbiAgICAgICAgICAgICAgICBjdXIuX2tleXMuZm9yRWFjaChmdW5jdGlvbiAoaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZbY3VyLl9uYW1lICsgXCIuXCIgKyBrXSA9ICgoaSA9PT0gMCA/IGxlZnRSb3cgOiByaWdodFJvdykgfHwge30pW2tdO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcclxuICAgICAgICAgICAgfSwge30pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGpvaW5UYWJsZSA9IFtdO1xyXG4gICAgICAgIHZhciByaWdodEtleSA9IGpvaW5Db25kaXRpb25zICYmIGpvaW5Db25kaXRpb25zLl9yaWdodCA/IGpvaW5Db25kaXRpb25zLl9yaWdodC5zcGxpdChcIi5cIikucG9wKCkgfHwgXCJcIiA6IFwiXCI7XHJcbiAgICAgICAgdmFyIHVzZWRTZWNvbmRUYWJsZVJvd3MgPSB7fTtcclxuICAgICAgICB2YXIgc2Vjb25kUm93Q2FjaGUgPSBbXTtcclxuICAgICAgICAvLyBPXjIsIFlBWSFcclxuICAgICAgICB0LnMuX3JlYWQoZmlyc3RUYWJsZURhdGEuX25hbWUsIGZ1bmN0aW9uIChmaXJzdFJvdywgaWR4LCBrZWVwKSB7XHJcbiAgICAgICAgICAgIHZhciBoYXNPbmVSZWxhdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0LnMuX3JlYWQoc2Vjb25UYWJsZURhdGEuX25hbWUsIGZ1bmN0aW9uIChzZWNvbmRSb3csIGlkeDIsIGtlZXAyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWpvaW5Db25kaXRpb25zIHx8IHR5cGUgPT09IEMpIHsgLy8gbm8gY29uZGl0aW9uYWwgdG8gY2hlY2sgT1IgY3Jvc3Mgam9pbiwgYWx3YXlzIGFkZFxyXG4gICAgICAgICAgICAgICAgICAgIGpvaW5UYWJsZS5wdXNoKGRvSm9pblJvd3MoZmlyc3RSb3csIHNlY29uZFJvdykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc09uZVJlbGF0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBjaGVjayBjb25kaXRpb25hbCBzdGF0ZW1lbnQgdG8gcG9zc2libHkgam9pblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3aWxsSm9pblJvd3MgPSBfd2hlcmUoKF9hID0ge30sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hW2ZpcnN0VGFibGVEYXRhLl9uYW1lXSA9IGZpcnN0Um93LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYVtzZWNvblRhYmxlRGF0YS5fbmFtZV0gPSBzZWNvbmRSb3csXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hKSwgW2pvaW5Db25kaXRpb25zLl9sZWZ0LCBqb2luQ29uZGl0aW9ucy5fY2hlY2ssIHR5cGUgPT09IFIgPyBmaXJzdFJvd1tyaWdodEtleV0gOiBzZWNvbmRSb3dbcmlnaHRLZXldXSwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbGxKb2luUm93cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gTylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZWRTZWNvbmRUYWJsZVJvd3NbaWR4Ml0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqb2luVGFibGUucHVzaChkb0pvaW5Sb3dzKGZpcnN0Um93LCBzZWNvbmRSb3cpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzT25lUmVsYXRpb24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IE8pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRSb3dDYWNoZVtpZHgyXSA9IHNlY29uZFJvdztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBrZWVwMihmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vIGxlZnQsIHJpZ2h0IG9yIG91dGVyIGpvaW4gd2lsbCBjYXVzZSByb3dzIHdpdGhvdXQgYSByZWxhdGlvbiB0byBiZSBhZGRlZCBhbnl3YXkgd2l0aCBudWxsIHJlbGF0aW9uXHJcbiAgICAgICAgICAgICAgICBpZiAoIWhhc09uZVJlbGF0aW9uICYmIFtMLCBSLCBPXS5pbmRleE9mKHR5cGUpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBqb2luVGFibGUucHVzaChkb0pvaW5Sb3dzKGZpcnN0Um93LCBudWxsKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBrZWVwKGZhbHNlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBmdWxsIG91dGVyIGpvaW4sIGFkZCB0aGUgc2Vjb25kYXJ5IHJvd3MgdGhhdCBoYXZlbid0IGJlZW4gYWRkZWQgeWV0XHJcbiAgICAgICAgICAgIGlmICh0eXBlID09PSBPKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYWRkUm93cyA9IHNlY29uZFJvd0NhY2hlLmZpbHRlcihmdW5jdGlvbiAodmFsLCBpKSB7IHJldHVybiAhdXNlZFNlY29uZFRhYmxlUm93c1tpXTsgfSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IGFkZFJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgam9pblRhYmxlLnB1c2goZG9Kb2luUm93cyhudWxsLCBhZGRSb3dzW2ldKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoam9pblRhYmxlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKGpvaW5UYWJsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgc29ydCBkaXJlY3Rpb24gZm9yIHR3byBvYmplY3RzIGdpdmVuIHRoZSBvYmplY3RzLCBjb2x1bW5zIGFuZCByZXNvbHZlIHBhdGhzLlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHsqfSBvYmpBXHJcbiAgICAgKiBAcGFyYW0geyp9IG9iakJcclxuICAgICAqIEBwYXJhbSB7eyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfX0gY29sdW1uc1xyXG4gICAgICogQHBhcmFtIHtib29sZWFufSByZXNvbHZlUGF0aHNcclxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAgICAgKiBAbWVtYmVyb2YgX011dGF0ZVNlbGVjdGlvblxyXG4gICAgICovXHJcbiAgICBfTXV0YXRlU2VsZWN0aW9uLnByb3RvdHlwZS5fc29ydE9iaiA9IGZ1bmN0aW9uIChvYmpBLCBvYmpCLCBjb2x1bW5zLCByZXNvbHZlUGF0aHMpIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoY29sdW1ucykucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXIpIHtcclxuICAgICAgICAgICAgdmFyIEEgPSByZXNvbHZlUGF0aHMgPyB1dGlsaXRpZXNfMS5vYmpRdWVyeShjdXIsIG9iakEpIDogb2JqQVtjdXJdO1xyXG4gICAgICAgICAgICB2YXIgQiA9IHJlc29sdmVQYXRocyA/IHV0aWxpdGllc18xLm9ialF1ZXJ5KGN1ciwgb2JqQikgOiBvYmpCW2N1cl07XHJcbiAgICAgICAgICAgIGlmICghcHJldikge1xyXG4gICAgICAgICAgICAgICAgaWYgKEEgPT09IEIpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKEEgPiBCID8gMSA6IC0xKSAqIChjb2x1bW5zW2N1cl0gPT09IFwiZGVzY1wiID8gLTEgOiAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBseSBBUywgZnVuY3Rpb25zIGFuZCBHcm91cCBCeVxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHtEQlJvd1tdfSByb3dzXHJcbiAgICAgKiBAcGFyYW0geyhyb3dzOiBEQlJvd1tdKSA9PiB2b2lkfSBjb21wbGV0ZVxyXG4gICAgICogQG1lbWJlcm9mIF9NdXRhdGVTZWxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgX011dGF0ZVNlbGVjdGlvbi5wcm90b3R5cGUuX211dGF0ZVJvd3MgPSBmdW5jdGlvbiAocm93cywgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBjb2x1bW5TZWxlY3Rpb24gPSB0aGlzLnEuYWN0aW9uQXJncztcclxuICAgICAgICB2YXIgZnVuY3Rpb25SZXN1bHRzID0ge307XHJcbiAgICAgICAgdmFyIGZuR3JvdXBCeVJlc3VsdHMgPSB7fTtcclxuICAgICAgICBpZiAoY29sdW1uU2VsZWN0aW9uICYmIGNvbHVtblNlbGVjdGlvbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgLy8gcG9zc2libHkgaGFzIGZ1bmN0aW9ucywgQVMgc3RhdGVtZW50c1xyXG4gICAgICAgICAgICB2YXIgaGFzQWdncmVnYXRlRnVuXzEgPSBmYWxzZTtcclxuICAgICAgICAgICAgdmFyIGNvbHVtbkRhdGFfMSA9IHt9O1xyXG4gICAgICAgICAgICBjb2x1bW5TZWxlY3Rpb24uZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uLmluZGV4T2YoXCIoXCIpID09PSAtMSkgeyAvLyBubyBmdW5jdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgZm5OYW1lID0gKGNvbHVtbi5tYXRjaCgvXi4qXFwoL2cpIHx8IFtcIlwiXSlbMF0ucmVwbGFjZSgvXFwofFxcKS9nLCBcIlwiKS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGZuID0gaW5kZXhfMS5OYW5vU1FMSW5zdGFuY2UuZnVuY3Rpb25zW2ZuTmFtZV07XHJcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gY29sdW1uLnNwbGl0KFwiIEFTIFwiKS5sZW5ndGggPT09IDEgPyBmbk5hbWUgOiAoY29sdW1uLnNwbGl0KFwiIEFTIFwiKS5wb3AoKSB8fCBcIlwiKS50cmltKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWZuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJ1wiICsgZm5OYW1lICsgXCInIGlzIG5vdCBhIHZhbGlkIGZ1bmN0aW9uIVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChmbi50eXBlID09PSBcIkFcIikgeyAvLyBhZ3JlZ2F0ZSBmdW5jdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGhhc0FnZ3JlZ2F0ZUZ1bl8xID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbHVtbkRhdGFfMVtjb2x1bW5dID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGZuOiBmbixcclxuICAgICAgICAgICAgICAgICAgICBrZXk6IGtleVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwoY29sdW1uU2VsZWN0aW9uLCBmdW5jdGlvbiAoY29sdW1uLCBqLCBjb2x1bW5Eb25lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uLmluZGV4T2YoXCIoXCIpID4gLTEpIHsgLy8gZnVuY3Rpb24gZXhpc3RzXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZuQXJnc18xID0gKGNvbHVtbi5tYXRjaCgvXFwoLipcXCkvZykgfHwgW1wiXCJdKVswXS5yZXBsYWNlKC9cXCh8XFwpL2csIFwiXCIpLnNwbGl0KFwiLFwiKS5tYXAoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHYudHJpbSgpOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX3NvcnRHcm91cHMgJiYgaGFzQWdncmVnYXRlRnVuXzEpIHsgLy8gZ3JvdXAgYnkgZXhpc3RzIHdpdGggYWdncmVnYXRlIGZ1bmN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwoT2JqZWN0LmtleXMoX3RoaXMuX3NvcnRHcm91cHMpLCBmdW5jdGlvbiAoaywgbCwgZm5Eb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZuR3JvdXBCeVJlc3VsdHNba10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbkdyb3VwQnlSZXN1bHRzW2tdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoX2EgPSBjb2x1bW5EYXRhXzFbY29sdW1uXS5mbikuY2FsbC5hcHBseShfYSwgW3Jvd3MuZmlsdGVyKGZ1bmN0aW9uIChyLCBpKSB7IHJldHVybiBfdGhpcy5fc29ydEdyb3Vwc1trXS5pbmRleE9mKGkpID4gLTE7IH0pLCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZuR3JvdXBCeVJlc3VsdHNba11bY29sdW1uRGF0YV8xW2NvbHVtbl0ua2V5XSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm5Eb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0uY29uY2F0KGZuQXJnc18xKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oY29sdW1uRG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBubyBncm91cCBieVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoX2EgPSBjb2x1bW5EYXRhXzFbY29sdW1uXS5mbikuY2FsbC5hcHBseShfYSwgW3Jvd3MsIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvblJlc3VsdHNbY29sdW1uRGF0YV8xW2NvbHVtbl0ua2V5XSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5Eb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XS5jb25jYXQoZm5BcmdzXzEpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5Eb25lKCk7IC8vIG5vIGZ1bmN0aW9uXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gdGltZSB0byByZWJ1aWxkIHJvdyByZXN1bHRzXHJcbiAgICAgICAgICAgICAgICB2YXIgZG9NdWF0ZVJvd3MgPSBmdW5jdGlvbiAocm93LCBpZHgsIGZuUmVzdWx0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdSb3cgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgdW5zZWxlY3RlZCBjb2x1bW5zLCBhcHBseSBBUyBhbmQgaW50ZWdyYXRlIGZ1bmN0aW9uIHJlc3VsdHNcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5TZWxlY3Rpb24uZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoYXNGdW5jID0gY29sdW1uLmluZGV4T2YoXCIoXCIpID4gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0gaGFzRnVuYyA/IGNvbHVtbkRhdGFfMVtjb2x1bW5dLmZuLnR5cGUgOiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sdW1uLmluZGV4T2YoXCIgQVMgXCIpID4gLTEpIHsgLy8gYWxpYXMgY29sdW1uIGRhdGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbGlhcyA9IGNvbHVtbi5zcGxpdChcIiBBUyBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gaGFzRnVuYyA/IGNvbHVtbkRhdGFfMVtjb2x1bW5dLmtleSA6IGFsaWFzWzBdLnRyaW0oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Jvd1thbGlhc1sxXV0gPSBoYXNGdW5jID8gKHR5cGUgPT09IFwiQVwiID8gZm5SZXN1bHRzW2tleV0gOiBmblJlc3VsdHNba2V5XVtpZHhdKSA6IHV0aWxpdGllc18xLm9ialF1ZXJ5KGtleSwgcm93LCBfdGhpcy5xLmpvaW4gIT09IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gaGFzRnVuYyA/IGNvbHVtbkRhdGFfMVtjb2x1bW5dLmtleSA6IGNvbHVtbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Jvd1tjb2x1bW5dID0gaGFzRnVuYyA/ICh0eXBlID09PSBcIkFcIiA/IGZuUmVzdWx0c1trZXldIDogZm5SZXN1bHRzW2tleV1baWR4XSkgOiB1dGlsaXRpZXNfMS5vYmpRdWVyeShrZXksIHJvdywgX3RoaXMucS5qb2luICE9PSB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld1JvdztcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJvd3MubGVuZ3RoICYmIGhhc0FnZ3JlZ2F0ZUZ1bl8xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9uZVJvd18xID0gW3t9XTtcclxuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhjb2x1bW5EYXRhXzEpLmZvckVhY2goZnVuY3Rpb24gKGZuTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZ1bmN0aW9uUmVzdWx0c1tjb2x1bW5EYXRhXzFbZm5OYW1lXS5rZXldICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmVSb3dfMVswXVtmbk5hbWVdID0gZnVuY3Rpb25SZXN1bHRzW2NvbHVtbkRhdGFfMVtmbk5hbWVdLmtleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZShvbmVSb3dfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLl9zb3J0R3JvdXBzICYmIGhhc0FnZ3JlZ2F0ZUZ1bl8xKSB7IC8vIGdyb3VwIGJ5IHdpdGggYWdncmVnYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1Jvd3NfMSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKF90aGlzLl9zb3J0R3JvdXBzKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzUm93ID0gcm93cy5maWx0ZXIoZnVuY3Rpb24gKHIsIGkpIHsgcmV0dXJuIF90aGlzLl9zb3J0R3JvdXBzW2tdLmluZGV4T2YoaSkgPiAtMTsgfSkuZmlsdGVyKGZ1bmN0aW9uICh2LCBpKSB7IHJldHVybiBpIDwgMTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzUm93ICYmIHRoaXNSb3cubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdSb3dzXzEucHVzaChkb011YXRlUm93cyh0aGlzUm93WzBdLCAwLCBmbkdyb3VwQnlSZXN1bHRzW2tdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZShuZXdSb3dzXzEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaGFzQWdncmVnYXRlRnVuXzEpIHsgLy8ganVzdCBhZ2dyZWdhdGUgKHJldHVybnMgMSByb3cpXHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUocm93cy5maWx0ZXIoZnVuY3Rpb24gKHYsIGkpIHsgcmV0dXJuIGkgPCAxOyB9KS5tYXAoZnVuY3Rpb24gKHYsIGkpIHsgcmV0dXJuIGRvTXVhdGVSb3dzKHYsIGksIGZ1bmN0aW9uUmVzdWx0cyk7IH0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBubyBhZ2dyZWdhdGUgYW5kIG5vIGdyb3VwIGJ5LCBlYXN5IHBlYXN5XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUocm93cy5tYXAoZnVuY3Rpb24gKHYsIGkpIHsgcmV0dXJuIGRvTXVhdGVSb3dzKHYsIGksIGZ1bmN0aW9uUmVzdWx0cyk7IH0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBqdXN0IHBhc3MgdGhyb3VnaFxyXG4gICAgICAgICAgICBjb21wbGV0ZShyb3dzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUcmlnZ2VycyB0aGUgbXV0YXRpb25zIGluIHRoZSBvcmRlciBvZiBvcGVyYXRpb25zLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7REJSb3dbXX0gaW5wdXRSb3dzXHJcbiAgICAgKiBAcGFyYW0geyhyb3dzOiBEQlJvd1tdKSA9PiB2b2lkfSBjYWxsYmFja1xyXG4gICAgICogQG1lbWJlcm9mIF9NdXRhdGVTZWxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgX011dGF0ZVNlbGVjdGlvbi5wcm90b3R5cGUuX2V4ZWN1dGVRdWVyeUFyZ3VtZW50cyA9IGZ1bmN0aW9uIChpbnB1dFJvd3MsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgYWZ0ZXJNdXRhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5xLmhhdmluZykge1xyXG4gICAgICAgICAgICAgICAgaW5wdXRSb3dzID0gX3RoaXMuX2hhdmluZyhpbnB1dFJvd3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5xLm9yZGVyQnkpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0Um93cyA9IF90aGlzLl9vcmRlckJ5KGlucHV0Um93cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKF90aGlzLnEub2Zmc2V0KSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dFJvd3MgPSBfdGhpcy5fb2Zmc2V0KGlucHV0Um93cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKF90aGlzLnEubGltaXQpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0Um93cyA9IF90aGlzLl9saW1pdChpbnB1dFJvd3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKGlucHV0Um93cyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgYWZ0ZXJPUk0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5xLmFjdGlvbkFyZ3MgJiYgX3RoaXMucS5hY3Rpb25BcmdzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX211dGF0ZVJvd3MoaW5wdXRSb3dzLCBmdW5jdGlvbiAobmV3Um93cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0Um93cyA9IG5ld1Jvd3M7XHJcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJNdXRhdGUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYWZ0ZXJNdXRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGFmdGVySm9pbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKF90aGlzLnEuZ3JvdXBCeSkge1xyXG4gICAgICAgICAgICAgICAgaW5wdXRSb3dzID0gX3RoaXMuX2dyb3VwQnkoaW5wdXRSb3dzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoX3RoaXMucS5vcm0pIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9vcm0oaW5wdXRSb3dzLCBmdW5jdGlvbiAobmV3Um93cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0Um93cyA9IG5ld1Jvd3M7XHJcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJPUk0oKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYWZ0ZXJPUk0oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHRoaXMucS5qb2luKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2pvaW4oaW5wdXRSb3dzLCBmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgaW5wdXRSb3dzID0gcm93cztcclxuICAgICAgICAgICAgICAgIGFmdGVySm9pbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGFmdGVySm9pbigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gX011dGF0ZVNlbGVjdGlvbjtcclxufSgpKTtcclxuZXhwb3J0cy5fTXV0YXRlU2VsZWN0aW9uID0gX011dGF0ZVNlbGVjdGlvbjtcclxuLyoqXHJcbiAqIFNlbGVjdHMgdGhlIG5lZWRlZCByb3dzIGZyb20gdGhlIHN0b3JhZ2Ugc3lzdGVtLlxyXG4gKiBVc2VzIHRoZSBmYXN0ZXMgcG9zc2libGUgbWV0aG9kIHRvIGdldCB0aGUgcm93cy5cclxuICpcclxuICogQGV4cG9ydFxyXG4gKiBAY2xhc3MgX1Jvd1NlbGVjdGlvblxyXG4gKi9cclxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXHJcbnZhciBfUm93U2VsZWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gX1Jvd1NlbGVjdGlvbihxLCBzLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5xID0gcTtcclxuICAgICAgICB0aGlzLnMgPSBzO1xyXG4gICAgICAgIGlmICh0aGlzLnEuam9pbiAmJiB0aGlzLnEub3JtKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBkbyBhIEpPSU4gYW5kIE9STSBjb21tYW5kIGF0IHRoZSBzYW1lIHRpbWUhXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoW3RoaXMucS53aGVyZSwgdGhpcy5xLnJhbmdlLCB0aGlzLnEudHJpZV0uZmlsdGVyKGZ1bmN0aW9uIChpKSB7IHJldHVybiBpOyB9KS5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbiBvbmx5IGhhdmUgT05FIG9mIFRyaWUsIFJhbmdlIG9yIFdoZXJlIVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gam9pbiBjb21tYW5kIHJlcXVpcmVzIG5eMiBzY2FuIHRoYXQgZ2V0cyB0YWtlbiBjYXJlIG9mIGluIGpvaW4gbG9naWMuXHJcbiAgICAgICAgaWYgKHRoaXMucS5qb2luKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKFtdKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB0cmllIHNlYXJjaCwgbmljZSBhbmQgZmFzdC5cclxuICAgICAgICBpZiAodGhpcy5xLnRyaWUgJiYgdGhpcy5xLnRyaWUuY29sdW1uICYmIHRoaXMucS50cmllLnNlYXJjaCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RCeVRyaWUoY2FsbGJhY2spO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHJhbmdlIHNlbGVjdCwgdmVyeSBmYXN0XHJcbiAgICAgICAgaWYgKHRoaXMucS5yYW5nZSAmJiB0aGlzLnEucmFuZ2UubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdEJ5UmFuZ2UoY2FsbGJhY2spO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIG5vIHdoZXJlIHN0YXRlbWVudCwgcmVhZCB3aG9sZSBkYiA6KFxyXG4gICAgICAgIC8vIE9SXHJcbiAgICAgICAgLy8gd2hlcmUgc3RhdGVtZW50IGlzIGZ1bmN0aW9uLCBzdGlsbCBnb3R0YSByZWFkIHRoZSB3aG9sZSBkYi5cclxuICAgICAgICBpZiAoKCF0aGlzLnEud2hlcmUgfHwgIXRoaXMucS53aGVyZS5sZW5ndGgpIHx8ICFBcnJheS5pc0FycmF5KHRoaXMucS53aGVyZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5fZnVsbFRhYmxlU2NhbihjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gd2hlcmUgc3RhdGVtZW50IHBvc3NpYmx5IGNvbnRhaW5zIG9ubHkgcHJpbWFyeSBrZXkgYW5kIHNlY29uZGFyeSBrZXkgcXVlcmllcywgZG8gZmFzdGVyIHF1ZXJ5IGlmIHBvc3NpYmxlLlxyXG4gICAgICAgIHZhciBkb0Zhc3RSZWFkID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnEud2hlcmVbMF0gPT09IFwic3RyaW5nXCIpIHsgLy8gU2luZ2xlIFdIRVJFXHJcbiAgICAgICAgICAgIGRvRmFzdFJlYWQgPSB0aGlzLl9pc09wdGltaXplZFdoZXJlKHRoaXMucS53aGVyZSkgPT09IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgeyAvLyBjb21iaW5lZCB3aGVyZSBzdGF0ZW1lbnRzXHJcbiAgICAgICAgICAgIGRvRmFzdFJlYWQgPSAodGhpcy5xLndoZXJlIHx8IFtdKS5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGN1ciwgaSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgJSAyID09PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXYgKyBfdGhpcy5faXNPcHRpbWl6ZWRXaGVyZShjdXIpO1xyXG4gICAgICAgICAgICB9LCAwKSA9PT0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRvRmFzdFJlYWQpIHsgLy8gY2FuIGdvIHN0cmFpZ2h0IHRvIHByaW1hcnkgb3Igc2Vjb25kYXJ5IGtleXMsIHdlZSFcclxuICAgICAgICAgICAgdGhpcy5fc2VsZWN0QnlLZXlzKHRoaXMucS53aGVyZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIGNvbXBvdW5kIHdoZXJlIHN0YXRlbWVudCBpbmNsdWRlcyBwcmltYXJ5IGtleS9zZWNvbmRhcnkgaW5kZXggcXVlcmllcyBmb2xsb3dlZCBieSBBTkQgd2l0aCBvdGhlciBjb25kaXRpb25zLlxyXG4gICAgICAgIC8vIGdyYWJzIHRoZSBzZWN0aW9uIG9mIGRhdGEgcmVsYXRlZCB0byB0aGUgb3B0aW1pemVkIHJlYWQsIHRoZW4gZnVsbCB0YWJsZSBzY2FucyB0aGUgcmVzdWx0LlxyXG4gICAgICAgIHZhciB3aGVyZVNsaWNlID0gdGhpcy5faXNTdWJPcHRpbWl6ZWRXaGVyZSh0aGlzLnEud2hlcmUpO1xyXG4gICAgICAgIGlmICh3aGVyZVNsaWNlID4gMCkge1xyXG4gICAgICAgICAgICB2YXIgZmFzdFdoZXJlID0gdGhpcy5xLndoZXJlLnNsaWNlKDAsIHdoZXJlU2xpY2UpO1xyXG4gICAgICAgICAgICB2YXIgc2xvd1doZXJlXzEgPSB0aGlzLnEud2hlcmUuc2xpY2Uod2hlcmVTbGljZSArIDEpO1xyXG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RCeUtleXMoZmFzdFdoZXJlLCBmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2socm93cy5maWx0ZXIoZnVuY3Rpb24gKHIsIGkpIHsgcmV0dXJuIF93aGVyZShyLCBzbG93V2hlcmVfMSwgaSk7IH0pKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRnVsbCB0YWJsZSBzY2FuIDooXHJcbiAgICAgICAgdGhpcy5fZnVsbFRhYmxlU2NhbihjYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIERvZXMgc3VwZXIgZmFzdCBwcmltYXJ5IGtleSBvciBzZWNvbmRhcnkgaW5kZXggc2VsZWN0LlxyXG4gICAgICogSGFuZGxlcyBjb21wb3VuZCBXSEVSRSBzdGF0ZW1lbnRzLCBjb21iaW5pbmcgdGhlaXIgcmVzdWx0cy5cclxuICAgICAqIFdvcmtzIGFzIGxvbmcgYXMgZXZlcnkgV0hFUkUgc3RhdGVtZW50IGlzIHNlbGVjdGluZyBhZ2FpbnN0IGEgcHJpbWFyeSBrZXkgb3Igc2Vjb25kYXJ5IGluZGV4LlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHsocm93czogREJSb3dbXSkgPT4gdm9pZH0gY2FsbGJhY2tcclxuICAgICAqIEBtZW1iZXJvZiBfUm93U2VsZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIF9Sb3dTZWxlY3Rpb24ucHJvdG90eXBlLl9zZWxlY3RCeUtleXMgPSBmdW5jdGlvbiAod2hlcmUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAod2hlcmUgJiYgdHlwZW9mIHdoZXJlWzBdID09PSBcInN0cmluZ1wiKSB7IC8vIHNpbmdsZSB3aGVyZVxyXG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RSb3dzQnlJbmRleCh3aGVyZSwgY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh3aGVyZSkgeyAvLyBjb21wb3VuZCB3aGVyZVxyXG4gICAgICAgICAgICB2YXIgcmVzdWx0Um93c18xID0gW107XHJcbiAgICAgICAgICAgIHZhciBsYXN0Q29tbWFuZF8xID0gXCJcIjtcclxuICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdENIQUlOKHdoZXJlLCBmdW5jdGlvbiAod0FyZywgaSwgbmV4dFdBcmcpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd0FyZyA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RDb21tYW5kXzEgPSB3QXJnO1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRXQXJnKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3NlbGVjdFJvd3NCeUluZGV4KHdBcmcsIGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RDb21tYW5kXzEgPT09IFwiQU5EXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkeF8xID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpXzEgPSByb3dzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGlfMS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhfMVtyb3dzW2lfMV1bX3RoaXMucy50YWJsZUluZm9bX3RoaXMucS50YWJsZV0uX3BrXV0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFJvd3NfMSA9IHJlc3VsdFJvd3NfMS5maWx0ZXIoZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlkeF8xW3Jvd1tfdGhpcy5zLnRhYmxlSW5mb1tfdGhpcy5xLnRhYmxlXS5fcGtdXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRSb3dzXzEgPSByZXN1bHRSb3dzXzEuY29uY2F0KHJvd3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBuZXh0V0FyZygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2socmVzdWx0Um93c18xKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogTXVjaCBmYXN0ZXIgU0VMRUNUIGJ5IHByaW1hcnkga2V5IG9yIHNlY29uZGFyeSBpbmRleC5cclxuICAgICAqIEFjY2VwdHMgYSBzaW5nbGUgV0hFUkUgc3RhdGVtZW50LCBubyBjb21wb3VuZCBzdGF0ZW1lbnRzIGFsbG93ZWQuXHJcbiAgICAgKlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKiBAcGFyYW0ge2FueVtdfSB3aGVyZVxyXG4gICAgICogQHBhcmFtIHsocm93czogREJSb3dbXSkgPT4gdm9pZH0gY2FsbGJhY2tcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKiBAbWVtYmVyb2YgX1Jvd1NlbGVjdGlvblxyXG4gICAgICovXHJcbiAgICBfUm93U2VsZWN0aW9uLnByb3RvdHlwZS5fc2VsZWN0Um93c0J5SW5kZXggPSBmdW5jdGlvbiAod2hlcmUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAod2hlcmVbMV0gPT09IFwiQkVUV0VFTlwiKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWNvbmRhcnlJbmRleEtleSA9IHdoZXJlWzBdID09PSB0aGlzLnMudGFibGVJbmZvW3RoaXMucS50YWJsZV0uX3BrID8gXCJcIiA6IHdoZXJlWzBdO1xyXG4gICAgICAgICAgICBpZiAoc2Vjb25kYXJ5SW5kZXhLZXkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpZHhUYWJsZSA9IFwiX1wiICsgdGhpcy5xLnRhYmxlICsgXCJfaWR4X1wiICsgc2Vjb25kYXJ5SW5kZXhLZXk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnMuX3JhbmdlUmVhZChpZHhUYWJsZSwgd2hlcmVbMl1bMF0sIHdoZXJlWzJdWzFdLCB0cnVlLCBmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXlzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSByb3dzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXMgPSBrZXlzLmNvbmNhdChyb3dzW2ldLnJvd3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zLl9yZWFkKF90aGlzLnEudGFibGUsIGtleXMsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zLl9yYW5nZVJlYWQodGhpcy5xLnRhYmxlLCB3aGVyZVsyXVswXSwgd2hlcmVbMl1bMV0sIHRydWUsIGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socm93cyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBrZXlzID0gW107XHJcbiAgICAgICAgc3dpdGNoICh3aGVyZVsxXSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiSU5cIjpcclxuICAgICAgICAgICAgICAgIGtleXMgPSB3aGVyZVsyXTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiPVwiOlxyXG4gICAgICAgICAgICAgICAga2V5cyA9IFt3aGVyZVsyXV07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHdoZXJlWzBdID09PSB0aGlzLnMudGFibGVJbmZvW3RoaXMucS50YWJsZV0uX3BrKSB7IC8vIHByaW1hcnkga2V5IHNlbGVjdFxyXG4gICAgICAgICAgICB0aGlzLnMuX3JlYWQodGhpcy5xLnRhYmxlLCBrZXlzLCBjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgeyAvLyBzZWNvbmRhcnkgaW5kZXggc2VsZWN0XHJcbiAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwoa2V5cywgZnVuY3Rpb24gKGlkeCwgaSwgY29tcGxldGUpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnMuX3NlY29uZGFyeUluZGV4UmVhZChfdGhpcy5xLnRhYmxlLCB3aGVyZVswXSwgaWR4LCBjb21wbGV0ZSk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKFtdLmNvbmNhdC5hcHBseShbXSwgcm93cykpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZWxlY3Qgcm93cyB3aXRoaW4gYSBudW1lcmljYWwgcmFuZ2UgdXNpbmcgbGltaXQgYW5kIG9mZnNldCB2YWx1ZXMuXHJcbiAgICAgKiBOZWdhdGl2ZSBsaW1pdCB2YWx1ZXMgd2lsbCBzdGFydCB0aGUgcmFuZ2UgZnJvbSB0aGUgYm90dG9tIG9mIHRoZSB0YWJsZS5cclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7KHJvd3M6IERCUm93W10pID0+IHZvaWR9IGNhbGxiYWNrXHJcbiAgICAgKiBAbWVtYmVyb2YgX1Jvd1NlbGVjdGlvblxyXG4gICAgICovXHJcbiAgICAvLyBbbGltaXQsIG9mZnNldF1cclxuICAgIF9Sb3dTZWxlY3Rpb24ucHJvdG90eXBlLl9zZWxlY3RCeVJhbmdlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAodGhpcy5xLnJhbmdlKSB7XHJcbiAgICAgICAgICAgIHZhciByXzEgPSB0aGlzLnEucmFuZ2U7XHJcbiAgICAgICAgICAgIGlmIChyXzFbMF0gPiAwKSB7IC8vIHBvc2l0aXZlIGxpbWl0IHZhbHVlLCB3ZSBjYW4gc2VuZCB0aGlzIHN0cmFpZ2h0IHRvIHRoZSBhZGFwdGVyXHJcbiAgICAgICAgICAgICAgICB0aGlzLnMuX3JhbmdlUmVhZCh0aGlzLnEudGFibGUsIHJfMVsxXSwgcl8xWzFdICsgcl8xWzBdLCBmYWxzZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgeyAvLyB1c2luZyBuZWdhdGl2ZSBsaW1pdCB2YWx1ZSB0byBnZXQgcm93cyBhdCB0aGUgZW5kIG9mIHRoZSBkYXRhYmFzZS5cclxuICAgICAgICAgICAgICAgIHRoaXMucy5hZGFwdGVyc1swXS5hZGFwdGVyLmdldEluZGV4KHRoaXMucS50YWJsZSwgdHJ1ZSwgZnVuY3Rpb24gKGNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZyb21JZHggPSByXzFbMF0gPiAwID8gcl8xWzFdIDogY291bnQgKyByXzFbMF0gLSByXzFbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvSWR4ID0gZnJvbUlkeDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRlciA9IE1hdGguYWJzKHJfMVswXSkgLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChjb3VudGVyLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9JZHgrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucy5fcmFuZ2VSZWFkKF90aGlzLnEudGFibGUsIGZyb21JZHgsIHRvSWR4LCBmYWxzZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKFtdKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZWxlY3Qgcm93cyBiYXNlZCBvbiBhIFRyaWUgUXVlcnkuXHJcbiAgICAgKlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKiBAcGFyYW0geyhyb3dzOiBEQlJvd1tdKSA9PiB2b2lkfSBjYWxsYmFja1xyXG4gICAgICogQG1lbWJlcm9mIF9Sb3dTZWxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgX1Jvd1NlbGVjdGlvbi5wcm90b3R5cGUuX3NlbGVjdEJ5VHJpZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIGlmICh0aGlzLnEudHJpZSkge1xyXG4gICAgICAgICAgICB0aGlzLnMuX3RyaWVSZWFkKHRoaXMucS50YWJsZSwgdGhpcy5xLnRyaWUuY29sdW1uLCB0aGlzLnEudHJpZS5zZWFyY2gsIGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKFtdKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBEbyBhIGZ1bGwgdGFibGUgc2NhbiwgY2hlY2tpbmcgZXZlcnkgcm93IGFnYWluc3QgdGhlIFdIRVJFIHN0YXRlbWVudC5cclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7KHJvd3M6IERCUm93W10pID0+IHZvaWR9IGNhbGxiYWNrXHJcbiAgICAgKiBAbWVtYmVyb2YgX1Jvd1NlbGVjdGlvblxyXG4gICAgICovXHJcbiAgICBfUm93U2VsZWN0aW9uLnByb3RvdHlwZS5fZnVsbFRhYmxlU2NhbiA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGhhc1doZXJlID0gdGhpcy5xLndoZXJlICE9PSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdmFyIGFycldoZXJlID0gaGFzV2hlcmUgJiYgQXJyYXkuaXNBcnJheSh0aGlzLnEud2hlcmUpO1xyXG4gICAgICAgIHRoaXMucy5fcmVhZCh0aGlzLnEudGFibGUsIGZ1bmN0aW9uIChyb3csIGksIGtlZXApIHtcclxuICAgICAgICAgICAgaWYgKCFoYXNXaGVyZSkgeyAvLyBubyB3aGVyZSBzdGF0ZW1lbnRcclxuICAgICAgICAgICAgICAgIGtlZXAodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFycldoZXJlKSB7IC8vIHdoZXJlIGlzIGFycmF5XHJcbiAgICAgICAgICAgICAgICBrZWVwKF93aGVyZShyb3csIF90aGlzLnEud2hlcmUsIGkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHsgLy8gd2hlcmUgaXMgZnVuY3Rpb25cclxuICAgICAgICAgICAgICAgIGtlZXAoX3RoaXMucS53aGVyZShyb3csIGkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIGNhbGxiYWNrKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdpdmVuIGEgY29tcG91bmQgd2hlcmUgc3RhdGVtZW50IGxpa2UgW1t2YWx1ZSwgPSwga2V5XSwgQU5ELCBbc29tZXRoaW5nLCA9LCBzb21ldGhpbmddXVxyXG4gICAgICogQ2hlY2sgaWYgZmlyc3Qgd2hlcmUgY29uZGl0aW9ucyBhcmUgcHJpbWFyeSBrZXkvIHNlY29uZGFyeSBpbmRleCBmb2xsb3dlZCBieSB1bm9wdGltaXplZC91bmluZGV4ZWQgY29uZGl0aW9uc1xyXG4gICAgICpcclxuICAgICAqIEluIHRoaXMgY2FzZSB3ZSBjYW4gZ3JhYiB0aGUgcHJpbWFyeSBrZXkvc2Vjb25kYXJ5IGluZGV4IHF1ZXJ5IGZyb20gdGhlIGRhdGFiYXNlIGFuZCBkbyBhIGZhc3RlciBxdWVyeSBvbiB0aGUgc21hbGxlciByZXN1bHQgc2V0LlxyXG4gICAgICpcclxuICAgICAqIFJldHVybnMgMCBpZiB0aGlzIGlzbid0IGEgc3Vib3B0aW1pemVkIHdoZXJlIGNvbmRpdGlvbi5cclxuICAgICAqIFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSB3aGVyZSBhcnJheSB3aGVyZSB0aGUgQU5EIHNwbGl0cyBiZXR3ZWVuIG9wdGltaXplZCBhbmQgdW5vcHRpbWl6ZWQgY29uZGl0aW9ucyBvdGhlcndpc2UuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBwYXJhbSB7YW55W119IHdBcmdzXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gICAgICogQG1lbWJlcm9mIF9Sb3dTZWxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgX1Jvd1NlbGVjdGlvbi5wcm90b3R5cGUuX2lzU3ViT3B0aW1pemVkV2hlcmUgPSBmdW5jdGlvbiAod0FyZ3MpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0eXBlb2Ygd0FyZ3NbMF0gPT09IFwic3RyaW5nXCIpIHsgLy8gbm90IGNvbXBvdW5kIHdoZXJlXHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5faXNPcHRpbWl6ZWRXaGVyZSh3QXJnc1swXSkgPT09IDApIHsgLy8gYXQgbGVhc3QgZmlyc3QgdmFsdWUgaXMgb3B0aW1pemVkXHJcbiAgICAgICAgICAgIC8vIGxhc3QgcHJpbWFyeSBrZXkvc2Vjb25kYXJ5IGluZGV4IGNvbmRpdGlvbiBNVVNUIGJlIGZvbGxvd2VkIGJ5IEFORFxyXG4gICAgICAgICAgICB2YXIgbGFzdENoZWNrXzEgPSAwO1xyXG4gICAgICAgICAgICB3QXJncy5mb3JFYWNoKGZ1bmN0aW9uICh3QXJnLCBpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSAlIDIgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX2lzT3B0aW1pemVkV2hlcmUod0FyZykgPT09IDAgJiYgd0FyZ3NbaSArIDFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RDaGVja18xID0gaSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gQU5EIG11c3QgZm9sbG93IHRoZSBsYXN0IHNlY29uZGFyeSBpbmRleC9wcmltYXJ5IGtleSBjb25kaXRpb25cclxuICAgICAgICAgICAgaWYgKHdBcmdzW2xhc3RDaGVja18xXSAhPT0gXCJBTkRcIilcclxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICByZXR1cm4gbGFzdENoZWNrXzE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIGEgc2luZ2xlIFdIRVJFIHN0YXRlbWVudCBbXCJyb3dcIiwgXCI9XCIsIHZhbHVlXSB1c2VzIGEgcHJpbWFyeSBrZXkgb3Igc2Vjb25kYXJ5IGluZGV4IGFzIGl0J3Mgcm93LlxyXG4gICAgICogSWYgc28sIHdlIGNhbiB1c2UgYSBtdWNoIGZhc3RlciBTRUxFQ1QgbWV0aG9kLlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHthbnlbXX0gd0FyZ3NcclxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAgICAgKiBAbWVtYmVyb2YgX1Jvd1NlbGVjdGlvblxyXG4gICAgICovXHJcbiAgICBfUm93U2VsZWN0aW9uLnByb3RvdHlwZS5faXNPcHRpbWl6ZWRXaGVyZSA9IGZ1bmN0aW9uICh3QXJncykge1xyXG4gICAgICAgIHZhciB0YWJsZURhdGEgPSB0aGlzLnMudGFibGVJbmZvW3RoaXMucS50YWJsZV07XHJcbiAgICAgICAgaWYgKFtcIj1cIiwgXCJJTlwiLCBcIkJFVFdFRU5cIl0uaW5kZXhPZih3QXJnc1sxXSkgPiAtMSkge1xyXG4gICAgICAgICAgICAvLyBpZiAod0FyZ3NbMF0gPT09IHRhYmxlRGF0YS5fcGspIHtcclxuICAgICAgICAgICAgaWYgKHdBcmdzWzBdID09PSB0YWJsZURhdGEuX3BrIHx8IHRhYmxlRGF0YS5fc2Vjb25kYXJ5SW5kZXhlcy5pbmRleE9mKHdBcmdzWzBdKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gMTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX1Jvd1NlbGVjdGlvbjtcclxufSgpKTtcclxuZXhwb3J0cy5fUm93U2VsZWN0aW9uID0gX1Jvd1NlbGVjdGlvbjtcclxuLyoqXHJcbiAqIFNlbGVjdCByb3dzIGZyb20gYW4gaW5zdGFuY2UgdGFibGUuIFN1cHBvcnRzIFJBTkdFIGFuZCBXSEVSRSBzdGF0ZW1lbnRzLlxyXG4gKlxyXG4gKiBAZXhwb3J0XHJcbiAqIEBjbGFzcyBJbnN0YW5jZVNlbGVjdGlvblxyXG4gKi9cclxudmFyIEluc3RhbmNlU2VsZWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gSW5zdGFuY2VTZWxlY3Rpb24ocSkge1xyXG4gICAgICAgIHRoaXMucSA9IHE7XHJcbiAgICB9XHJcbiAgICBJbnN0YW5jZVNlbGVjdGlvbi5wcm90b3R5cGUuZ2V0Um93cyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMucS5qb2luIHx8IHRoaXMucS5vcm0gfHwgdGhpcy5xLnRyaWUpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGRvIGEgSk9JTiwgT1JNIG9yIFRSSUUgY29tbWFuZCB3aXRoIGluc3RhbmNlIHRhYmxlIVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucS5yYW5nZSAmJiB0aGlzLnEucmFuZ2UubGVuZ3RoKSB7IC8vIHJhbmdlIHNlbGVjdCBbbGltaXQsIG9mZnNldF1cclxuICAgICAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5xLnJhbmdlLCBmcm9tXzEsIHRvXzE7XHJcbiAgICAgICAgICAgIGlmIChyYW5nZVswXSA8IDApIHtcclxuICAgICAgICAgICAgICAgIGZyb21fMSA9ICh0aGlzLnEudGFibGUubGVuZ3RoKSArIHJhbmdlWzBdIC0gcmFuZ2VbMV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmcm9tXzEgPSByYW5nZVsxXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgY250ID0gTWF0aC5hYnMocmFuZ2VbMF0pIC0gMTtcclxuICAgICAgICAgICAgdG9fMSA9IGZyb21fMTtcclxuICAgICAgICAgICAgd2hpbGUgKGNudC0tKSB7XHJcbiAgICAgICAgICAgICAgICB0b18xKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FsbGJhY2sodGhpcy5xLnRhYmxlLmZpbHRlcihmdW5jdGlvbiAodmFsLCBpZHgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpZHggPj0gZnJvbV8xICYmIGlkeCA8PSB0b18xO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FsbGJhY2sodGhpcy5xLnRhYmxlLmZpbHRlcihmdW5jdGlvbiAocm93LCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5xLndoZXJlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShfdGhpcy5xLndoZXJlKSA/IF93aGVyZShyb3csIF90aGlzLnEud2hlcmUgfHwgW10sIGkpIDogX3RoaXMucS53aGVyZShyb3csIGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0pKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gSW5zdGFuY2VTZWxlY3Rpb247XHJcbn0oKSk7XHJcbmV4cG9ydHMuSW5zdGFuY2VTZWxlY3Rpb24gPSBJbnN0YW5jZVNlbGVjdGlvbjtcclxuLyoqXHJcbiAqIEhhbmRsZXMgV0hFUkUgc3RhdGVtZW50cywgY29tYmluaW5nIG11bHRpcGxlIGNvbXBhcmVkIHN0YXRlbWVudHMgYWdpbnN0IEFORC9PUiBhcyBuZWVkZWQgdG8gcmV0dXJuIGEgZmluYWwgYm9vbGVhbiB2YWx1ZS5cclxuICogVGhlIGZpbmFsIGJvb2xlYW4gdmFsdWUgaXMgd2V0aGVyIHRoZSByb3cgbWF0Y2hlcyBhbGwgV0hFUkUgY29uZGl0aW9ucyBvciBub3QuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gc2luZ2xlUm93XHJcbiAqIEBwYXJhbSB7YW55W119IHdoZXJlXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSByb3dJRFhcclxuICogQHBhcmFtIHtib29sZWFufSBbaWdub3JlRmlyc3RQYXRoXVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbnZhciBfd2hlcmUgPSBmdW5jdGlvbiAoc2luZ2xlUm93LCB3aGVyZSwgcm93SURYLCBpZ25vcmVGaXJzdFBhdGgpIHtcclxuICAgIHZhciBjb21tYW5kcyA9IFtcIkFORFwiLCBcIk9SXCJdO1xyXG4gICAgaWYgKHR5cGVvZiB3aGVyZVswXSAhPT0gXCJzdHJpbmdcIikgeyAvLyBjb21wb3VuZCB3aGVyZSBzdGF0ZW1lbnRzXHJcbiAgICAgICAgdmFyIGhhc0FuZF8xID0gZmFsc2U7XHJcbiAgICAgICAgLy8gdHVybiB3aGVyZSBzdGF0ZW1lbnQgaW50byBhcnJheSBvZiBib29sZWFucyBhbmQgY29uZGl0aW9uc1xyXG4gICAgICAgIC8vIFtbaWQsIFwiPVwiLCAxXSwgXCJPUlwiLCBbXCJ0aGlzXCIsIFwiPVwiLCBcInRoYXRcIl1dID0+IFt0cnVlLCBcIk9SXCIsIGZhbHNlXTtcclxuICAgICAgICB2YXIgY2hlY2tXaGVyZV8xID0gd2hlcmUubWFwKGZ1bmN0aW9uICh3QXJnLCBpZHgpIHtcclxuICAgICAgICAgICAgaWYgKGNvbW1hbmRzLmluZGV4T2Yod0FyZykgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAod0FyZyA9PT0gXCJBTkRcIilcclxuICAgICAgICAgICAgICAgICAgICBoYXNBbmRfMSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gd0FyZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfY29tcGFyZSh3QXJnWzJdLCB3QXJnWzFdLCB1dGlsaXRpZXNfMS5vYmpRdWVyeSh3QXJnWzBdLCBzaW5nbGVSb3csIGlnbm9yZUZpcnN0UGF0aCkpID09PSAwID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gY29tYmluZSBhbGwgT1Igc3RhdGVtZW50cyBpbnRvIGEgc2luZ2xlIGJvb2xlYW4gb2YgdGhlIHN1cnJvdW5kaW5nIGJvb2xlYW5zXHJcbiAgICAgICAgLy8gW3RydWUsIFwiT1JcIiwgZmFsc2UsIFwiQU5EXCIsIHRydWVdID0+IFt1bmRlZmluZWQsIHRydWUsIHVuZGVmaW5lZCwgXCJBTkRcIiwgdHJ1ZV1cclxuICAgICAgICAvLyBbZmFsc2UsIFwiT1JcIiwgZmFsc2UsIFwiQU5EXCIsIHRydWVdID0+IFt1bmRlZmluZWQsIGZhbHNlLCB1bmRlZmluZWQsIFwiQU5EXCIsIHRydWVdO1xyXG4gICAgICAgIGNoZWNrV2hlcmVfMS5mb3JFYWNoKGZ1bmN0aW9uICh3QXJnLCBpZHgpIHtcclxuICAgICAgICAgICAgaWYgKHdBcmcgPT09IFwiT1JcIikge1xyXG4gICAgICAgICAgICAgICAgY2hlY2tXaGVyZV8xW2lkeF0gPSBjaGVja1doZXJlXzFbaWR4IC0gMV0gfHwgY2hlY2tXaGVyZV8xW2lkeCArIDFdO1xyXG4gICAgICAgICAgICAgICAgY2hlY2tXaGVyZV8xW2lkeCAtIDFdID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgY2hlY2tXaGVyZV8xW2lkeCArIDFdID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gcmVtb3ZlIHRoZSB1bmRlZmluZWQgZWxlbWVudHMgZnJvbSB0aGUgYWJvdmUgYWN0aW9uXHJcbiAgICAgICAgLy8gW3VuZGVmaW5lZCwgZmFsc2UsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmYWxzZSwgdW5kZWZpbmVkLCBcIkFORFwiLCB0cnVlXSA9PiBbZmFsc2UsIGZhbHNlLCB0cnVlXVxyXG4gICAgICAgIC8vIGNoZWNrV2hlcmUgPSBjaGVja1doZXJlLmZpbHRlcih2YWwgPT4gdmFsICE9PSB1bmRlZmluZWQgJiYgdmFsICE9PSBcIkFORFwiKTtcclxuICAgICAgICAvLyBpZiB0aGVyZSBhcmUgYW55IGZhbHNlIGJvb2xzIGluIHRoZSBhcnJheSB0aGUgcm93IGRvZXNuJ3QgbWF0Y2guXHJcbiAgICAgICAgcmV0dXJuIGNoZWNrV2hlcmVfMS5pbmRleE9mKGZhbHNlKSA9PT0gLTE7XHJcbiAgICAgICAgLypcclxuXHJcbiAgICAgICAgaWYgKCFoYXNBbmQpIHsgLy8gQWxsIE9SIHN0YXRlbWVudHMsIGlmIHRoZXJlIGFyZSB6ZXJvIHRydWUgdmFsdWVzIHRoZW4gdGhlIHJvdyBkb2Vzbid0IHBhc3MuXHJcbiAgICAgICAgICAgIHJldHVybiBjaGVja1doZXJlLmluZGV4T2YodHJ1ZSkgIT09IC0xO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCByZWR1Y2luZzogbnVtYmVyO1xyXG4gICAgICAgICAgICBsZXQgcHJldkFuZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm4gY2hlY2tXaGVyZS5yZWR1Y2UoKHByZXYsIGN1ciwgaWR4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaWR4ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldi5wdXNoKGN1cik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVkdWNpbmcgPSBwcmV2Lmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VyID09PSBcIkFORFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldkFuZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJldi5wdXNoKGN1cik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocHJldkFuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXYucHVzaChjdXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZHVjaW5nID0gcHJldi5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZBbmQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChyZWR1Y2luZyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldltyZWR1Y2luZ10gPSBjdXIgfHwgcHJldltyZWR1Y2luZ107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcclxuICAgICAgICAgICAgfSwgW10pLmluZGV4T2YoZmFsc2UpID09PSAtMTtcclxuICAgICAgICB9Ki9cclxuICAgIH1cclxuICAgIGVsc2UgeyAvLyBzaW5nbGUgd2hlcmUgc3RhdGVtZW50XHJcbiAgICAgICAgcmV0dXJuIF9jb21wYXJlKHdoZXJlWzJdLCB3aGVyZVsxXSwgdXRpbGl0aWVzXzEub2JqUXVlcnkod2hlcmVbMF0sIHNpbmdsZVJvdywgaWdub3JlRmlyc3RQYXRoKSkgPT09IDAgPyB0cnVlIDogZmFsc2U7XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBDb21wYXJlIGZ1bmN0aW9uIHVzZWQgYnkgV0hFUkUgdG8gZGV0ZXJtaW5lIGlmIGEgZ2l2ZW4gdmFsdWUgbWF0Y2hlcyBhIGdpdmVuIGNvbmRpdGlvbi5cclxuICpcclxuICogQHBhcmFtIHsqfSB2YWwxXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21wYXJlXHJcbiAqIEBwYXJhbSB7Kn0gdmFsMlxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gKi9cclxudmFyIF9jb21wYXJlID0gZnVuY3Rpb24gKHZhbDEsIGNvbXBhcmUsIHZhbDIpIHtcclxuICAgIHZhciBzZXRWYWx1ZSA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICByZXR1cm4gW1wiTElLRVwiLCBcIk5PVCBMSUtFXCJdLmluZGV4T2YoY29tcGFyZSkgPiAtMSA/IFN0cmluZyh2YWwgfHwgXCJcIikudG9Mb3dlckNhc2UoKSA6IHZhbDtcclxuICAgIH07XHJcbiAgICB2YXIgY29sdW1uVmFsdWUgPSBzZXRWYWx1ZSh2YWwyKTtcclxuICAgIHZhciBnaXZlblZhbHVlID0gc2V0VmFsdWUodmFsMSk7XHJcbiAgICBpZiAodmFsMSA9PT0gXCJOVUxMXCIgfHwgdmFsMSA9PT0gXCJOT1QgTlVMTFwiKSB7XHJcbiAgICAgICAgdmFyIHBvcyA9IGNvbXBhcmUgPT09IFwiPVwiIHx8IGNvbXBhcmUgPT09IFwiTElLRVwiO1xyXG4gICAgICAgIHJldHVybiAodmFsMSA9PT0gXCJOVUxMXCIgP1xyXG4gICAgICAgICAgICAodmFsMiA9PT0gbnVsbCB8fCB2YWwyID09PSB1bmRlZmluZWQpIDpcclxuICAgICAgICAgICAgKHZhbDIgIT09IG51bGwgJiYgdmFsMiAhPT0gdW5kZWZpbmVkKSkgP1xyXG4gICAgICAgICAgICAocG9zID8gMCA6IDEpIDogKHBvcyA/IDEgOiAwKTtcclxuICAgIH1cclxuICAgIHN3aXRjaCAoY29tcGFyZSkge1xyXG4gICAgICAgIC8vIGlmIGNvbHVtbiBlcXVhbCB0byBnaXZlbiB2YWx1ZVxyXG4gICAgICAgIGNhc2UgXCI9XCI6IHJldHVybiBjb2x1bW5WYWx1ZSA9PT0gZ2l2ZW5WYWx1ZSA/IDAgOiAxO1xyXG4gICAgICAgIC8vIGlmIGNvbHVtbiBub3QgZXF1YWwgdG8gZ2l2ZW4gdmFsdWVcclxuICAgICAgICBjYXNlIFwiIT1cIjogcmV0dXJuIGNvbHVtblZhbHVlICE9PSBnaXZlblZhbHVlID8gMCA6IDE7XHJcbiAgICAgICAgLy8gaWYgY29sdW1uIGdyZWF0aGVyIHRoYW4gZ2l2ZW4gdmFsdWVcclxuICAgICAgICBjYXNlIFwiPlwiOiByZXR1cm4gY29sdW1uVmFsdWUgPiBnaXZlblZhbHVlID8gMCA6IDE7XHJcbiAgICAgICAgLy8gaWYgY29sdW1uIGxlc3MgdGhhbiBnaXZlbiB2YWx1ZVxyXG4gICAgICAgIGNhc2UgXCI8XCI6IHJldHVybiBjb2x1bW5WYWx1ZSA8IGdpdmVuVmFsdWUgPyAwIDogMTtcclxuICAgICAgICAvLyBpZiBjb2x1bW4gbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGdpdmVuIHZhbHVlXHJcbiAgICAgICAgY2FzZSBcIjw9XCI6IHJldHVybiBjb2x1bW5WYWx1ZSA8PSBnaXZlblZhbHVlID8gMCA6IDE7XHJcbiAgICAgICAgLy8gaWYgY29sdW1uIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBnaXZlbiB2YWx1ZVxyXG4gICAgICAgIGNhc2UgXCI+PVwiOiByZXR1cm4gY29sdW1uVmFsdWUgPj0gZ2l2ZW5WYWx1ZSA/IDAgOiAxO1xyXG4gICAgICAgIC8vIGlmIGNvbHVtbiB2YWx1ZSBleGlzdHMgaW4gZ2l2ZW4gYXJyYXlcclxuICAgICAgICBjYXNlIFwiSU5cIjogcmV0dXJuIChnaXZlblZhbHVlIHx8IFtdKS5pbmRleE9mKGNvbHVtblZhbHVlKSA8IDAgPyAxIDogMDtcclxuICAgICAgICAvLyBpZiBjb2x1bW4gZG9lcyBub3QgZXhpc3QgaW4gZ2l2ZW4gYXJyYXlcclxuICAgICAgICBjYXNlIFwiTk9UIElOXCI6IHJldHVybiAoZ2l2ZW5WYWx1ZSB8fCBbXSkuaW5kZXhPZihjb2x1bW5WYWx1ZSkgPCAwID8gMCA6IDE7XHJcbiAgICAgICAgLy8gcmVnZXhwIHNlYXJjaCB0aGUgY29sdW1uXHJcbiAgICAgICAgY2FzZSBcIlJFR0VYXCI6IHJldHVybiBjb2x1bW5WYWx1ZS5tYXRjaChnaXZlblZhbHVlKS5sZW5ndGggPyAwIDogMTtcclxuICAgICAgICAvLyBpZiBnaXZlbiB2YWx1ZSBleGlzdHMgaW4gY29sdW1uIHZhbHVlXHJcbiAgICAgICAgY2FzZSBcIkxJS0VcIjogcmV0dXJuIGNvbHVtblZhbHVlLmluZGV4T2YoZ2l2ZW5WYWx1ZSkgPCAwID8gMSA6IDA7XHJcbiAgICAgICAgLy8gaWYgZ2l2ZW4gdmFsdWUgZG9lcyBub3QgZXhpc3QgaW4gY29sdW1uIHZhbHVlXHJcbiAgICAgICAgY2FzZSBcIk5PVCBMSUtFXCI6IHJldHVybiBjb2x1bW5WYWx1ZS5pbmRleE9mKGdpdmVuVmFsdWUpID49IDAgPyAxIDogMDtcclxuICAgICAgICAvLyBpZiB0aGUgY29sdW1uIHZhbHVlIGlzIGJldHdlZW4gdHdvIGdpdmVuIG51bWJlcnNcclxuICAgICAgICBjYXNlIFwiQkVUV0VFTlwiOiByZXR1cm4gZ2l2ZW5WYWx1ZVswXSA8PSBjb2x1bW5WYWx1ZSAmJiBnaXZlblZhbHVlWzFdID49IGNvbHVtblZhbHVlID8gMCA6IDE7XHJcbiAgICAgICAgLy8gaWYgc2luZ2xlIHZhbHVlIGV4aXN0cyBpbiBhcnJheSBjb2x1bW5cclxuICAgICAgICBjYXNlIFwiSEFWRVwiOiByZXR1cm4gKGNvbHVtblZhbHVlIHx8IFtdKS5pbmRleE9mKGdpdmVuVmFsdWUpIDwgMCA/IDEgOiAwO1xyXG4gICAgICAgIC8vIGlmIHNpbmdsZSB2YWx1ZSBkb2VzIG5vdCBleGlzdCBpbiBhcnJheSBjb2x1bW5cclxuICAgICAgICBjYXNlIFwiTk9UIEhBVkVcIjogcmV0dXJuIChjb2x1bW5WYWx1ZSB8fCBbXSkuaW5kZXhPZihnaXZlblZhbHVlKSA8IDAgPyAwIDogMTtcclxuICAgICAgICAvLyBpZiBhcnJheSBvZiB2YWx1ZXMgaW50ZXJzZWN0cyB3aXRoIGFycmF5IGNvbHVtblxyXG4gICAgICAgIGNhc2UgXCJJTlRFUlNFQ1RcIjogcmV0dXJuIChjb2x1bW5WYWx1ZSB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uIChsKSB7IHJldHVybiAoZ2l2ZW5WYWx1ZSB8fCBbXSkuaW5kZXhPZihsKSA+IC0xOyB9KS5sZW5ndGggPiAwID8gMCA6IDE7XHJcbiAgICAgICAgLy8gaWYgYXJyYXkgb2YgdmFsdWVzIGRvZXMgbm90IGludGVyc2VjdCB3aXRoIGFycmF5IGNvbHVtblxyXG4gICAgICAgIGNhc2UgXCJOT1QgSU5URVJTRUNUXCI6IHJldHVybiAoY29sdW1uVmFsdWUgfHwgW10pLmZpbHRlcihmdW5jdGlvbiAobCkgeyByZXR1cm4gKGdpdmVuVmFsdWUgfHwgW10pLmluZGV4T2YobCkgPiAtMTsgfSkubGVuZ3RoID09PSAwID8gMCA6IDE7XHJcbiAgICAgICAgZGVmYXVsdDogcmV0dXJuIDE7XHJcbiAgICB9XHJcbn07XHJcbiIsInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xyXG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXHJcbiAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZGV4XzEgPSByZXF1aXJlKFwiLi4vaW5kZXhcIik7XHJcbnZhciBxdWVyeV8xID0gcmVxdWlyZShcIi4vcXVlcnlcIik7XHJcbnZhciB1dGlsaXRpZXNfMSA9IHJlcXVpcmUoXCIuLi91dGlsaXRpZXNcIik7XHJcbnZhciBzdG9yYWdlXzEgPSByZXF1aXJlKFwiLi9zdG9yYWdlXCIpO1xyXG52YXIgTmFub1NRTERlZmF1bHRCYWNrZW5kID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gTmFub1NRTERlZmF1bHRCYWNrZW5kKCkge1xyXG4gICAgICAgIHRoaXMuX3F1ZXJ5UG9vbCA9IFtdO1xyXG4gICAgICAgIHRoaXMuX3F1ZXJ5UHRyID0gMDtcclxuICAgIH1cclxuICAgIE5hbm9TUUxEZWZhdWx0QmFja2VuZC5wcm90b3R5cGUud2lsbENvbm5lY3QgPSBmdW5jdGlvbiAoY29ubmVjdEFyZ3MsIG5leHQpIHtcclxuICAgICAgICB0aGlzLnBhcmVudCA9IGNvbm5lY3RBcmdzLnBhcmVudDtcclxuICAgICAgICB0aGlzLl9zdG9yZSA9IG5ldyBzdG9yYWdlXzEuX05hbm9TUUxTdG9yYWdlKGNvbm5lY3RBcmdzLnBhcmVudCwgX19hc3NpZ24oe30sIGNvbm5lY3RBcmdzLmNvbmZpZykpO1xyXG4gICAgICAgIC8qZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLl9xdWVyeVBvb2wucHVzaChuZXcgX05hbm9TUUxTdG9yYWdlUXVlcnkodGhpcy5fc3RvcmUpKTtcclxuICAgICAgICB9Ki9cclxuICAgICAgICB0aGlzLl9zdG9yZS5pbml0KGNvbm5lY3RBcmdzLm1vZGVscywgZnVuY3Rpb24gKG5ld01vZGVscykge1xyXG4gICAgICAgICAgICBjb25uZWN0QXJncy5tb2RlbHMgPSBfX2Fzc2lnbih7fSwgY29ubmVjdEFyZ3MubW9kZWxzLCBuZXdNb2RlbHMpO1xyXG4gICAgICAgICAgICBuZXh0KGNvbm5lY3RBcmdzKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBOYW5vU1FMRGVmYXVsdEJhY2tlbmQucHJvdG90eXBlLmRvRXhlYyA9IGZ1bmN0aW9uIChleGVjQXJncywgbmV4dCkge1xyXG4gICAgICAgIGV4ZWNBcmdzLnN0YXRlID0gXCJjb21wbGV0ZVwiO1xyXG4gICAgICAgIC8qdGhpcy5fcXVlcnlQdHIrKztcclxuICAgICAgICBpZiAodGhpcy5fcXVlcnlQdHIgPiB0aGlzLl9xdWVyeVBvb2wubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLl9xdWVyeVB0ciA9IDA7XHJcbiAgICAgICAgfSovXHJcbiAgICAgICAgbmV3IHF1ZXJ5XzEuX05hbm9TUUxTdG9yYWdlUXVlcnkodGhpcy5fc3RvcmUpLmRvUXVlcnkoZXhlY0FyZ3MsIG5leHQpO1xyXG4gICAgfTtcclxuICAgIC8qcHVibGljIHRyYW5zYWN0aW9uQmVnaW4oaWQ6IHN0cmluZywgbmV4dDogKCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgIG5leHQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdHJhbnNhY3Rpb25FbmQoaWQ6IHN0cmluZywgbmV4dDogKCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgIG5leHQoKTtcclxuICAgIH1cclxuICAgICovXHJcbiAgICBOYW5vU1FMRGVmYXVsdEJhY2tlbmQucHJvdG90eXBlLmR1bXBUYWJsZXMgPSBmdW5jdGlvbiAodGFibGVzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gbmV3IHV0aWxpdGllc18xLlByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XHJcbiAgICAgICAgICAgIHZhciBkdW1wID0ge307XHJcbiAgICAgICAgICAgIHZhciBleHBvcnRUYWJsZXMgPSB0YWJsZXMgJiYgdGFibGVzLmxlbmd0aCA/IHRhYmxlcyA6IE9iamVjdC5rZXlzKF90aGlzLl9zdG9yZS50YWJsZUluZm8pO1xyXG4gICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKGV4cG9ydFRhYmxlcywgZnVuY3Rpb24gKHRhYmxlLCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgICAgICBkdW1wW3RhYmxlXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3N0b3JlLmFkYXB0ZXJzWzBdLmFkYXB0ZXIucmFuZ2VSZWFkKHRhYmxlLCBmdW5jdGlvbiAociwgaWR4LCByb3dEb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHVtcFt0YWJsZV0ucHVzaChyKTtcclxuICAgICAgICAgICAgICAgICAgICByb3dEb25lKCk7XHJcbiAgICAgICAgICAgICAgICB9LCBkb25lKTtcclxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXMoZHVtcCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIE5hbm9TUUxEZWZhdWx0QmFja2VuZC5wcm90b3R5cGUuaW1wb3J0VGFibGVzID0gZnVuY3Rpb24gKHRhYmxlcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyB1dGlsaXRpZXNfMS5Qcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikge1xyXG4gICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKE9iamVjdC5rZXlzKHRhYmxlcyksIGZ1bmN0aW9uICh0YWJsZU5hbWUsIGksIGRvbmUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwa0tleSA9IF90aGlzLl9zdG9yZS50YWJsZUluZm9bdGFibGVOYW1lXS5fcGs7XHJcbiAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHRhYmxlc1t0YWJsZU5hbWVdLCBmdW5jdGlvbiAocm93LCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvd1twa0tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3N0b3JlLmFkYXB0ZXJzWzBdLmFkYXB0ZXIud3JpdGUodGFibGVOYW1lLCByb3dbcGtLZXldLCByb3csIGRvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZG9uZSk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmVzKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIE5hbm9TUUxEZWZhdWx0QmFja2VuZC5wcm90b3R5cGUud2lsbERpc2Nvbm5lY3QgPSBmdW5jdGlvbiAobmV4dCkge1xyXG4gICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwodGhpcy5fc3RvcmUuYWRhcHRlcnMgfHwgW10sIGZ1bmN0aW9uIChhZGFwdGVyLCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgIGlmIChhZGFwdGVyLmRpc2Nvbm5lY3QpIHtcclxuICAgICAgICAgICAgICAgIGFkYXB0ZXIuZGlzY29ubmVjdChkb25lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLnRoZW4obmV4dCk7XHJcbiAgICB9O1xyXG4gICAgTmFub1NRTERlZmF1bHRCYWNrZW5kLnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbiAobmV4dCwgYXJncywgcmVzdWx0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBzd2l0Y2ggKGFyZ3NbMF0pIHtcclxuICAgICAgICAgICAgY2FzZSBcImNsb25lXCI6XHJcbiAgICAgICAgICAgICAgICB2YXIgblNRTGlfMSA9IG5ldyBpbmRleF8xLk5hbm9TUUxJbnN0YW5jZSgpO1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5wYXJlbnQuZGF0YU1vZGVscykuZm9yRWFjaChmdW5jdGlvbiAodGFibGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBuU1FMaV8xLnRhYmxlKHRhYmxlKS5tb2RlbChfdGhpcy5wYXJlbnQuZGF0YU1vZGVsc1t0YWJsZV0sIFtdLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgblNRTGlfMVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb25maWcoe1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiB0aGlzLl9zdG9yZS5faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogYXJnc1sxXVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuY29ubmVjdCgpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0Q0hBSU4oT2JqZWN0LmtleXMoX3RoaXMucGFyZW50LmRhdGFNb2RlbHMpLCBmdW5jdGlvbiAodGFibGUsIGksIGRvbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJJbXBvcnRpbmcgXCIgKyB0YWJsZSArIFwiLi4uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQucmF3RHVtcChbdGFibGVdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuU1FMaV8xLnJhd0ltcG9ydChkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGRvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KGFyZ3MsIFtdKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJmbHVzaFwiOlxyXG4gICAgICAgICAgICAgICAgdmFyIHRhYmxlc18xID0gW107XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFyZ3NbMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0YWJsZXNfMSA9IHRoaXMucGFyZW50LnRhYmxlTmFtZXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0YWJsZXNfMSA9IFthcmdzWzFdXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RDSEFJTih0YWJsZXNfMSwgZnVuY3Rpb24gKHRhYmxlLCBpLCBuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3N0b3JlLl9kcm9wKHRhYmxlLCBuZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQoYXJncywgdGFibGVzXzEpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImdldF9hZGFwdGVyXCI6XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFyZ3NbMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0KGFyZ3MsIFt0aGlzLl9zdG9yZS5hZGFwdGVyc1swXS5hZGFwdGVyXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0KGFyZ3MsIFt0aGlzLl9zdG9yZS5hZGFwdGVyc1thcmdzWzFdXS5hZGFwdGVyXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImlkeC5sZW5ndGhcIjpcclxuICAgICAgICAgICAgY2FzZSBcImlkeFwiOlxyXG4gICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gYXJnc1sxXTtcclxuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLl9zdG9yZS50YWJsZUluZm8pLmluZGV4T2YodGFibGUpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdG9yZS5hZGFwdGVyc1swXS5hZGFwdGVyLmdldEluZGV4KHRhYmxlLCBhcmdzWzBdICE9PSBcImlkeFwiLCBmdW5jdGlvbiAoaWR4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoYXJncywgaWR4KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQoYXJncywgW10pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJyZWJ1aWxkX2lkeFwiOlxyXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3NbMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdG9yZS5yZWJ1aWxkSW5kZXhlcyhhcmdzWzFdLCBmdW5jdGlvbiAodGltZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KGFyZ3MsIFt0aW1lXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKE9iamVjdC5rZXlzKHRoaXMuX3N0b3JlLnRhYmxlSW5mbyksIGZ1bmN0aW9uICh0YWJsZSwgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc3RvcmUucmVidWlsZEluZGV4ZXModGFibGUsIGRvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHRpbWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoYXJncywgdGltZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJjbGVhcl9jYWNoZVwiOlxyXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3NbMV0gJiYgYXJnc1syXSkgeyAvLyBpbnZhbGlkYXRlIHJvd3Mgb24gYSB0YWJsZVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0b3JlLl9pbnZhbGlkYXRlQ2FjaGUoYXJnc1sxXSwgYXJnc1syXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhcmdzWzFdKSB7IC8vIGludmFsaWRhdGUgd2hvbGUgdGFibGVcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdG9yZS5fY2FjaGVbYXJnc1sxXV0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdG9yZS5fY2FjaGVLZXlzW2FyZ3NbMV1dID0ge307XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHsgLy8gaW52YWxpZGF0ZSBhbGwgdGFibGVzXHJcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5fc3RvcmUudGFibGVJbmZvKS5mb3JFYWNoKGZ1bmN0aW9uICh0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc3RvcmUuX2NhY2hlW3RhYmxlXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc3RvcmUuX2NhY2hlS2V5c1t0YWJsZV0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG5leHQoYXJncywgYXJnc1sxXSB8fCBPYmplY3Qua2V5cyh0aGlzLl9zdG9yZS50YWJsZUluZm8pKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgbmV4dChhcmdzLCByZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gTmFub1NRTERlZmF1bHRCYWNrZW5kO1xyXG59KCkpO1xyXG5leHBvcnRzLk5hbm9TUUxEZWZhdWx0QmFja2VuZCA9IE5hbm9TUUxEZWZhdWx0QmFja2VuZDtcclxuIiwiT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgUmVhbGx5U21hbGxFdmVudHMgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUmVhbGx5U21hbGxFdmVudHMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycyA9IHt9O1xyXG4gICAgfVxyXG4gICAgUmVhbGx5U21hbGxFdmVudHMucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKGV2ZW50LCBjYWxsYmFjaykge1xyXG4gICAgICAgIGlmICghdGhpcy5ldmVudExpc3RlbmVyc1tldmVudF0pIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVyc1tldmVudF0gPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ldmVudExpc3RlbmVyc1tldmVudF0ucHVzaChjYWxsYmFjayk7XHJcbiAgICB9O1xyXG4gICAgUmVhbGx5U21hbGxFdmVudHMucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uIChldmVudCwgY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLmV2ZW50TGlzdGVuZXJzW2V2ZW50XSAmJiB0aGlzLmV2ZW50TGlzdGVuZXJzW2V2ZW50XS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVyc1tldmVudF0uZm9yRWFjaChmdW5jdGlvbiAoY2IsIGlkeCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNiID09PSBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmV2ZW50TGlzdGVuZXJzW2V2ZW50XS5zcGxpY2UoaWR4LCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJlYWxseVNtYWxsRXZlbnRzLnByb3RvdHlwZS50cmlnZ2VyID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5ldmVudExpc3RlbmVyc1tldmVudF0pIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVyc1tldmVudF0uZm9yRWFjaChmdW5jdGlvbiAoY2IpIHsgcmV0dXJuIGNiLmFwcGx5KHZvaWQgMCwgYXJncyk7IH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gUmVhbGx5U21hbGxFdmVudHM7XHJcbn0oKSk7XHJcbmV4cG9ydHMuUmVhbGx5U21hbGxFdmVudHMgPSBSZWFsbHlTbWFsbEV2ZW50cztcclxuZXhwb3J0cy5SU0UgPSBuZXcgUmVhbGx5U21hbGxFdmVudHMoKTtcclxuIiwiT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcclxudmFyIF9OYW5vU1FMVHJhbnNhY3Rpb25RdWVyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIF9OYW5vU1FMVHJhbnNhY3Rpb25RdWVyeShhY3Rpb24sIGFyZ3MsIHRhYmxlLCBxdWVyaWVzLCB0cmFuc2FjdGlvbklEKSB7XHJcbiAgICAgICAgdGhpcy50aGlzUSA9IHtcclxuICAgICAgICAgICAgc3RhdGU6IFwicGVuZGluZ1wiLFxyXG4gICAgICAgICAgICB0YWJsZTogdGFibGUsXHJcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxyXG4gICAgICAgICAgICBhY3Rpb25BcmdzOiBhcmdzLFxyXG4gICAgICAgICAgICBxdWVyeUlEOiB0cmFuc2FjdGlvbklELFxyXG4gICAgICAgICAgICB0cmFuc2FjdGlvbjogdHJ1ZSxcclxuICAgICAgICAgICAgcmVzdWx0OiBbXSxcclxuICAgICAgICAgICAgY29tbWVudHM6IFtdXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLl9xdWVyaWVzID0gcXVlcmllcztcclxuICAgIH1cclxuICAgIF9OYW5vU1FMVHJhbnNhY3Rpb25RdWVyeS5wcm90b3R5cGUud2hlcmUgPSBmdW5jdGlvbiAoYXJncykge1xyXG4gICAgICAgIHRoaXMudGhpc1Eud2hlcmUgPSBhcmdzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIF9OYW5vU1FMVHJhbnNhY3Rpb25RdWVyeS5wcm90b3R5cGUuZXhlYyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLl9xdWVyaWVzLnB1c2godGhpcy50aGlzUSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9OYW5vU1FMVHJhbnNhY3Rpb25RdWVyeTtcclxufSgpKTtcclxuZXhwb3J0cy5fTmFub1NRTFRyYW5zYWN0aW9uUXVlcnkgPSBfTmFub1NRTFRyYW5zYWN0aW9uUXVlcnk7XHJcbiIsInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xyXG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXHJcbiAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHV0aWxpdGllc18xID0gcmVxdWlyZShcIi4uL3V0aWxpdGllc1wiKTtcclxudmFyIGJsYW5rUm93ID0geyBhZmZlY3RlZFJvd1BLUzogW10sIGFmZmVjdGVkUm93czogW10gfTtcclxudmFyIHJ1blF1ZXJ5ID0gZnVuY3Rpb24gKHNlbGYsIGNvbXBsZXRlKSB7XHJcbiAgICBpZiAoc2VsZi5fZGIucGx1Z2lucy5sZW5ndGggPT09IDEgJiYgIXNlbGYuX2RiLmhhc0FueUV2ZW50cykge1xyXG4gICAgICAgIC8vIGZhc3QgcXVlcnkgcGF0aCwgb25seSB1c2VkIGlmIHRoZXJlJ3MgYSBzaW5nbGUgcGx1Z2luIGFuZCBubyBldmVudCBsaXN0ZW5lcnNcclxuICAgICAgICBzZWxmLl9kYi5wbHVnaW5zWzBdLmRvRXhlYyhzZWxmLl9xdWVyeSwgZnVuY3Rpb24gKG5ld1EpIHtcclxuICAgICAgICAgICAgc2VsZi5fcXVlcnkgPSBuZXdRO1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5fZGIuaGFzUEtbc2VsZi5fcXVlcnkudGFibGVdKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShzZWxmLl9xdWVyeS5yZXN1bHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoc2VsZi5fcXVlcnkucmVzdWx0Lm1hcChmdW5jdGlvbiAocikgeyByZXR1cm4gKF9fYXNzaWduKHt9LCByLCB7IF9pZF86IHVuZGVmaW5lZCB9KSk7IH0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdENIQUlOKHNlbGYuX2RiLnBsdWdpbnMsIGZ1bmN0aW9uIChwLCBpLCBuZXh0UCkge1xyXG4gICAgICAgICAgICBpZiAocC5kb0V4ZWMpIHtcclxuICAgICAgICAgICAgICAgIHAuZG9FeGVjKHNlbGYuX3F1ZXJ5LCBmdW5jdGlvbiAobmV3USkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3F1ZXJ5ID0gbmV3USB8fCBzZWxmLl9xdWVyeTtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0UCgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBuZXh0UCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLl9kYi5oYXNQS1tzZWxmLl9xdWVyeS50YWJsZV0pIHtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKHNlbGYuX3F1ZXJ5LnJlc3VsdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShzZWxmLl9xdWVyeS5yZXN1bHQubWFwKGZ1bmN0aW9uIChyKSB7IHJldHVybiAoX19hc3NpZ24oe30sIHIsIHsgX2lkXzogdW5kZWZpbmVkIH0pKTsgfSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzZWxmLl9kYi5oYXNBbnlFdmVudHMgfHwgc2VsZi5fZGIucGx1Z2luSGFzRGlkRXhlYykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50VHlwZXMgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoc2VsZi5fcXVlcnkuYWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzZWxlY3RcIjogcmV0dXJuIFtzZWxmLl9xdWVyeS5hY3Rpb25dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGVsZXRlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1cHNlcnRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRyb3BcIjogcmV0dXJuIFtzZWxmLl9xdWVyeS5hY3Rpb24sIFwiY2hhbmdlXCJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gW107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkoKTtcclxuICAgICAgICAgICAgICAgIHZhciBoYXNMZW5ndGggPSBzZWxmLl9xdWVyeS5yZXN1bHQgJiYgc2VsZi5fcXVlcnkucmVzdWx0Lmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIHZhciBldmVudF8xID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlOiBzZWxmLl9xdWVyeS50YWJsZSxcclxuICAgICAgICAgICAgICAgICAgICBxdWVyeTogc2VsZi5fcXVlcnksXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZTogRGF0ZS5ub3coKSxcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IHNlbGYuX3F1ZXJ5LnJlc3VsdCxcclxuICAgICAgICAgICAgICAgICAgICBub3RlczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZXM6IGV2ZW50VHlwZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uT3JWaWV3OiBzZWxmLl9BVixcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbklEOiBzZWxmLl9xdWVyeS50cmFuc2FjdGlvbiA/IHNlbGYuX3F1ZXJ5LnF1ZXJ5SUQgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgYWZmZWN0ZWRSb3dQS1M6IGhhc0xlbmd0aCA/IChzZWxmLl9xdWVyeS5yZXN1bHRbMF0gfHwgYmxhbmtSb3cpLmFmZmVjdGVkUm93UEtTIDogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgYWZmZWN0ZWRSb3dzOiBoYXNMZW5ndGggPyAoc2VsZi5fcXVlcnkucmVzdWx0WzBdIHx8IGJsYW5rUm93KS5hZmZlY3RlZFJvd3MgOiBbXSxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0Q0hBSU4oc2VsZi5fZGIucGx1Z2lucywgZnVuY3Rpb24gKHAsIGksIG5leHRQKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHAuZGlkRXhlYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwLmRpZEV4ZWMoZXZlbnRfMSwgZnVuY3Rpb24gKG5ld0UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50XzEgPSBuZXdFO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0UCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2RiLnRyaWdnZXJFdmVudChldmVudF8xKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn07XHJcbnZhciBkZWJvdW5jZVRpbWVycyA9IHt9O1xyXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcclxudmFyIF9OYW5vU1FMUXVlcnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBfTmFub1NRTFF1ZXJ5KGRiLCB0YWJsZSwgcXVlcnlBY3Rpb24sIHF1ZXJ5QXJncywgYWN0aW9uT3JWaWV3KSB7XHJcbiAgICAgICAgdGhpcy5fZGIgPSBkYjtcclxuICAgICAgICB0aGlzLl9BViA9IGFjdGlvbk9yVmlldyB8fCBcIlwiO1xyXG4gICAgICAgIHRoaXMuX3F1ZXJ5ID0ge1xyXG4gICAgICAgICAgICB0YWJsZTogdGFibGUsXHJcbiAgICAgICAgICAgIGNvbW1lbnRzOiBbXSxcclxuICAgICAgICAgICAgc3RhdGU6IFwicGVuZGluZ1wiLFxyXG4gICAgICAgICAgICBxdWVyeUlEOiBEYXRlLm5vdygpICsgXCIuXCIgKyB0aGlzLl9kYi5mYXN0UmFuZCgpLFxyXG4gICAgICAgICAgICBhY3Rpb246IHF1ZXJ5QWN0aW9uLFxyXG4gICAgICAgICAgICBhY3Rpb25BcmdzOiBxdWVyeUFyZ3MsXHJcbiAgICAgICAgICAgIHJlc3VsdDogW11cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVc2VkIHRvIHNlbGVjdCBzcGVjaWZpYyByb3dzIGJhc2VkIG9uIGEgc2V0IG9mIGNvbmRpdGlvbnMuXHJcbiAgICAgKiBZb3UgY2FuIHBhc3MgaW4gYSBzaW5nbGUgYXJyYXkgd2l0aCBhIGNvbmRpdGlvbmFsIHN0YXRlbWVudCBvciBhbiBhcnJheSBvZiBhcnJheXMgc2VwZXJhdGVkIGJ5IFwiYW5kXCIsIFwib3JcIiBmb3IgY29tcG91bmQgc2VsZWN0cy5cclxuICAgICAqIEEgc2luZ2xlIHdoZXJlIHN0YXRlbWVudCBoYXMgdGhlIGNvbHVtbiBuYW1lIG9uIHRoZSBsZWZ0LCBhbiBvcGVyYXRvciBpbiB0aGUgbWlkZGxlLCB0aGVuIGEgY29tcGFyaXNvbiBvbiB0aGUgcmlnaHQuXHJcbiAgICAgKlxyXG4gICAgICogV2hlcmUgRXhhbXBsZXM6XHJcbiAgICAgKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqIC53aGVyZShbJ3VzZXJuYW1lJywnPScsJ2JpbGx5J10pXHJcbiAgICAgKiAud2hlcmUoWydiYWxhbmNlJywnPicsMjBdKVxyXG4gICAgICogLndoZXJlKFsnY2F0Z29yeScsJ0lOJyxbJ2plYW5zJywnc2hpcnRzJ11dKVxyXG4gICAgICogLndoZXJlKFtbJ25hbWUnLCc9Jywnc2NvdHQnXSwnYW5kJyxbJ2JhbGFuY2UnLCc+JywyMDBdXSlcclxuICAgICAqIC53aGVyZShbWydpZCcsJz4nLDUwXSwnb3InLFsncG9zdElEcycsJ0lOJyxbMTIsMjAsMzBdXSwnYW5kJyxbJ25hbWUnLCdMSUtFJywnQmlsbHknXV0pXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geyhBcnJheTxhbnl8QXJyYXk8YW55Pj4pfSBhcmdzXHJcbiAgICAgKiBAcmV0dXJucyB7X05hbm9TUUxRdWVyeX1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgX05hbm9TUUxRdWVyeVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFF1ZXJ5LnByb3RvdHlwZS53aGVyZSA9IGZ1bmN0aW9uIChhcmdzKSB7XHJcbiAgICAgICAgdGhpcy5fcXVlcnkud2hlcmUgPSBhcmdzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUXVlcnkgdG8gZ2V0IGEgc3BlY2lmaWMgcmFuZ2Ugb2Ygcm93cyB2ZXJ5IGVmZmljaWVudGx5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsaW1pdFxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgX05hbm9TUUxRdWVyeVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFF1ZXJ5LnByb3RvdHlwZS5yYW5nZSA9IGZ1bmN0aW9uIChsaW1pdCwgb2Zmc2V0KSB7XHJcbiAgICAgICAgdGhpcy5fcXVlcnkucmFuZ2UgPSBbbGltaXQsIG9mZnNldF07XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBXaGVuIHVzaW5nIFwiZnJvbVwiIGZlYXR1cmVzIHNwZWNpZmljIHdoYXQgcHJpbWFyeSBrZXlzIHRvIHVwZGF0ZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge2FueVtdfSBwcmltYXJ5S2V5c1xyXG4gICAgICogQHJldHVybnMge19OYW5vU1FMUXVlcnl9XHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxRdWVyeVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFF1ZXJ5LnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChwcmltYXJ5S2V5cykge1xyXG4gICAgICAgIHRoaXMuX3F1ZXJ5Lm9uID0gcHJpbWFyeUtleXM7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBEZWJvdW5jZSBhZ2dyZWdhdGUgZnVuY3Rpb24gY2FsbHMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtbXRcclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFF1ZXJ5XHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMUXVlcnkucHJvdG90eXBlLmRlYm91bmNlID0gZnVuY3Rpb24gKG1zKSB7XHJcbiAgICAgICAgdGhpcy5fcXVlcnkuZGVib3VuY2UgPSBtcyB8fCAyNTA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUcmlnZ2UgT1JNIHF1ZXJpZXMgZm9yIGFsbCByZXN1bHQgcm93cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geygoc3RyaW5nfE9STUFyZ3MpW10pfSBbb3JtQXJnc11cclxuICAgICAqIEByZXR1cm5zIHtfTmFub1NRTFF1ZXJ5fVxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFF1ZXJ5XHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMUXVlcnkucHJvdG90eXBlLm9ybSA9IGZ1bmN0aW9uIChvcm1BcmdzKSB7XHJcbiAgICAgICAgdGhpcy5fcXVlcnkub3JtID0gb3JtQXJncztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIE9yZGVyIHRoZSByZXN1bHRzIGJ5IGEgZ2l2ZW4gY29sdW1uIG9yIGNvbHVtbnMuXHJcbiAgICAgKlxyXG4gICAgICogRXhhbXBsZXM6XHJcbiAgICAgKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqIC5vcmRlckJ5KHt1c2VybmFtZTpcImFzY1wifSkgLy8gb3JkZXIgYnkgdXNlcm5hbWUgY29sdW1uLCBhc2NlbmRpbmdcclxuICAgICAqIC5vcmRlckJ5KHtiYWxhbmNlOlwiZGVzY1wiLGxhc3ROYW1lOlwiYXNjXCJ9KSAvLyBvcmRlciBieSBiYWxhbmNlIGRlc2NlbmRpbmcsIHRoZW4gbGFzdE5hbWUgYXNjZW5kaW5nLlxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFyZ3NcclxuICAgICAqIEByZXR1cm5zIHtfTmFub1NRTFF1ZXJ5fVxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJPZiBfTmFub1NRTFF1ZXJ5XHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMUXVlcnkucHJvdG90eXBlLm9yZGVyQnkgPSBmdW5jdGlvbiAoYXJncykge1xyXG4gICAgICAgIHRoaXMuX3F1ZXJ5Lm9yZGVyQnkgPSBhcmdzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR3JvdXAgQnkgY29tbWFuZCwgdHlwaWNhbGx5IHVzZWQgd2l0aCBhbiBhZ2dyZWdhdGUgZnVuY3Rpb24uXHJcbiAgICAgKlxyXG4gICAgICogRXhhbXBsZTpcclxuICAgICAqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogblNRTChcInVzZXJzXCIpLnF1ZXJ5KFwic2VsZWN0XCIsW1wiZmF2b3JpdGVDb2xvclwiLFwiY291bnQoKilcIl0pLmdyb3VwQnkoe1wiZmF2b3JpdGVDb2xvclwiOlwiYXNjXCJ9KS5leGVjKCk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBUaGlzIHdpbGwgcHJvdmlkZSBhIGxpc3Qgb2YgYWxsIGZhdm9yaXRlIGNvbG9ycyBhbmQgaG93IG1hbnkgZWFjaCBvZiB0aGVtIGFyZSBpbiB0aGUgZGIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsoe1trZXk6IHN0cmluZ106XCJhc2NcInxcImRlc2NcIn0pfSBjb2x1bW5zXHJcbiAgICAgKiBAcmV0dXJucyB7X05hbm9TUUxRdWVyeX1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgX05hbm9TUUxRdWVyeVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFF1ZXJ5LnByb3RvdHlwZS5ncm91cEJ5ID0gZnVuY3Rpb24gKGNvbHVtbnMpIHtcclxuICAgICAgICB0aGlzLl9xdWVyeS5ncm91cEJ5ID0gY29sdW1ucztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEhhdmluZyBzdGF0ZW1lbnQsIHVzZWQgdG8gZmlsdGVyIEdyb3VwIEJZIHN0YXRlbWVudHMuIFN5bnRheCBpcyBpZGVudGljYWwgdG8gd2hlcmUgc3RhdGVtZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7X05hbm9TUUxRdWVyeX1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgX05hbm9TUUxRdWVyeVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFF1ZXJ5LnByb3RvdHlwZS5oYXZpbmcgPSBmdW5jdGlvbiAoYXJncykge1xyXG4gICAgICAgIGlmICghYXJncy5sZW5ndGggfHwgIUFycmF5LmlzQXJyYXkoYXJncykpIHtcclxuICAgICAgICAgICAgdGhpcy5fZXJyb3IgPSBcIkhhdmluZyBjb25kaXRpb24gcmVxdWlyZXMgYW4gYXJyYXkhXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3F1ZXJ5LmhhdmluZyA9IGFyZ3M7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBKb2luIGNvbW1hbmQuXHJcbiAgICAgKlxyXG4gICAgICogRXhhbXBsZTpcclxuICAgICAqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogIG5TUUwoXCJvcmRlcnNcIilcclxuICAgICAqICAucXVlcnkoXCJzZWxlY3RcIiwgW1wib3JkZXJzLmlkXCIsXCJvcmRlcnMudGl0bGVcIixcInVzZXJzLm5hbWVcIl0pXHJcbiAgICAgKiAgLndoZXJlKFtcIm9yZGVycy5zdGF0dXNcIixcIj1cIixcImNvbXBsZXRlXCJdKVxyXG4gICAgICogIC5vcmRlckJ5KHtcIm9yZGVycy5kYXRlXCI6XCJhc2NcIn0pXHJcbiAgICAgKiAgLmpvaW4oe1xyXG4gICAgICogICAgICB0eXBlOlwiaW5uZXJcIixcclxuICAgICAqICAgICAgdGFibGU6XCJ1c2Vyc1wiLFxyXG4gICAgICogICAgICB3aGVyZTpbXCJvcmRlcnMuY3VzdG9tZXJJRFwiLFwiPVwiLFwidXNlci5pZFwiXVxyXG4gICAgICogIH0pLmV4ZWMoKTtcclxuICAgICAqYGBgXHJcbiAgICAgKiBBIGZldyBub3RlcyBvbiB0aGUgam9pbiBjb21tYW5kOlxyXG4gICAgICogMS4gWW91IG11c2UgdXNlIGRvdCBub3RhdGlvbiB3aXRoIHRoZSB0YWJsZSBuYW1lcyBpbiBhbGwgXCJ3aGVyZVwiLCBcInNlbGVjdFwiLCBcIm9yZGVyYnlcIiwgYW5kIFwiZ3JvdXBieVwiIGFyZ3VtZW50cy5cclxuICAgICAqIDIuIFBvc3NpYmxlIGpvaW4gdHlwZXMgYXJlIGBpbm5lcmAsIGBsZWZ0YCwgYHJpZ2h0YCwgYW5kIGBvdXRlcmAuXHJcbiAgICAgKiAzLiBUaGUgXCJ0YWJsZVwiIGFyZ3VtZW50IGxldHMgeW91IGRldGVybWluZSB0aGUgZGF0YSBvbiB0aGUgcmlnaHQgc2lkZSBvZiB0aGUgam9pbi5cclxuICAgICAqIDQuIFRoZSBcIndoZXJlXCIgYXJndW1lbnQgbGV0cyB5b3Ugc2V0IHdoYXQgY29uZGl0aW9ucyB0aGUgdGFibGVzIGFyZSBqb2luZWQgb24uXHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0pvaW5BcmdzfSBhcmdzXHJcbiAgICAgKiBAcmV0dXJucyB7X05hbm9TUUxRdWVyeX1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgX05hbm9TUUxRdWVyeVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFF1ZXJ5LnByb3RvdHlwZS5qb2luID0gZnVuY3Rpb24gKGFyZ3MpIHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLl9xdWVyeS50YWJsZSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJDYW4ndCBKT0lOIHdpdGggaW5zdGFuY2UgdGFibGUhXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWFyZ3MudGFibGUgfHwgIWFyZ3MudHlwZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9lcnJvciA9IFwiSm9pbiBjb21tYW5kIHJlcXVpcmVzIHRhYmxlIGFuZCB0eXBlIGFyZ3VtZW50cyFcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcXVlcnkuam9pbiA9IGFyZ3M7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBMaW1pdHMgdGhlIHJlc3VsdCB0byBhIHNwZWNpZmljIGFtb3VudC4gIEV4YW1wbGU6XHJcbiAgICAgKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqIC5saW1pdCgyMCkgLy8gTGltaXQgdG8gdGhlIGZpcnN0IDIwIHJlc3VsdHNcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhcmdzXHJcbiAgICAgKiBAcmV0dXJucyB7X05hbm9TUUxRdWVyeX1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgX05hbm9TUUxRdWVyeVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFF1ZXJ5LnByb3RvdHlwZS5saW1pdCA9IGZ1bmN0aW9uIChhcmdzKSB7XHJcbiAgICAgICAgdGhpcy5fcXVlcnkubGltaXQgPSBhcmdzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUGVyZm9ybSBhIHRyaWUgc2VhcmNoIG9uIGEgdHJpZSBjb2x1bW4uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZ1RvU2VhcmNoXHJcbiAgICAgKiBAcmV0dXJucyB7X05hbm9TUUxRdWVyeX1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgX05hbm9TUUxRdWVyeVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFF1ZXJ5LnByb3RvdHlwZS50cmllU2VhcmNoID0gZnVuY3Rpb24gKGNvbHVtbiwgc3RyaW5nVG9TZWFyY2gpIHtcclxuICAgICAgICB0aGlzLl9xdWVyeS50cmllID0geyBjb2x1bW46IGNvbHVtbiwgc2VhcmNoOiBzdHJpbmdUb1NlYXJjaCB9O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUGFzcyBjb21tZW50cyBhbG9uZyB3aXRoIHRoZSBxdWVyeS5cclxuICAgICAqIFRoZXNlIGNvbW1lbnRzIHdpbGwgYmUgZW1pdHRlZCBhbG9uZyB3aXRoIHRoZSBvdGhlciBxdWVyeSBkYXRheSBieSB0aGUgZXZlbnQgc3lzdGVtLCB1c2VmdWwgZm9yIHRyYWNraW5nIHF1ZXJpZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbW1lbnRcclxuICAgICAqIEByZXR1cm5zIHtfTmFub1NRTFF1ZXJ5fVxyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxRdWVyeS5wcm90b3R5cGUuY29tbWVudCA9IGZ1bmN0aW9uIChjb21tZW50KSB7XHJcbiAgICAgICAgdGhpcy5fcXVlcnkuY29tbWVudHMucHVzaChjb21tZW50KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFBlcmZvcm0gY3VzdG9tIGFjdGlvbnMgc3VwcG9ydGVkIGJ5IHBsdWdpbnMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsuLi5hbnlbXX0gYXJnc1xyXG4gICAgICogQHJldHVybnMge19OYW5vU1FMUXVlcnl9XHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxRdWVyeVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFF1ZXJ5LnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3F1ZXJ5LmV4dGVuZCA9IGFyZ3M7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBPZmZzZXRzIHRoZSByZXN1bHRzIGJ5IGEgc3BlY2lmaWMgYW1vdW50IGZyb20gdGhlIGJlZ2lubmluZy4gIEV4YW1wbGU6XHJcbiAgICAgKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqIC5vZmZzZXQoMTApIC8vIFNraXAgdGhlIGZpcnN0IDEwIHJlc3VsdHMuXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXJnc1xyXG4gICAgICogQHJldHVybnMge19OYW5vU1FMUXVlcnl9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIF9OYW5vU1FMUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxRdWVyeS5wcm90b3R5cGUub2Zmc2V0ID0gZnVuY3Rpb24gKGFyZ3MpIHtcclxuICAgICAgICB0aGlzLl9xdWVyeS5vZmZzZXQgPSBhcmdzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRXhwb3J0IHRoZSBjdXJyZW50IHF1ZXJ5IHRvIGEgQ1NWIGZpbGUsIHVzZSBpbiBwbGFjZSBvZiBcImV4ZWMoKVwiO1xyXG4gICAgICpcclxuICAgICAqIEV4YW1wbGU6XHJcbiAgICAgKiBuU1FMKFwidXNlcnNcIikucXVlcnkoXCJzZWxlY3RcIikudG9DU1YodHJ1ZSkudGhlbihmdW5jdGlvbihjc3YsIGRiKSB7XHJcbiAgICAgKiAgIGNvbnNvbGUubG9nKGNzdik7XHJcbiAgICAgKiAgIC8vIFJldHVybnMgc29tZXRoaW5nIGxpa2U6XHJcbiAgICAgKiAgIGlkLG5hbWUscGFzcyxwb3N0SURzXHJcbiAgICAgKiAgIDEsXCJzY290dFwiLFwiMTIzNFwiLFwiWzEsMiwzLDRdXCJcclxuICAgICAqICAgMixcImplYlwiLFwiNTY3OFwiLFwiWzUsNiw3LDhdXCJcclxuICAgICAqIH0pO1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hlYWRlcnNdXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fVxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJPZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxRdWVyeS5wcm90b3R5cGUudG9DU1YgPSBmdW5jdGlvbiAoaGVhZGVycykge1xyXG4gICAgICAgIHZhciB0ID0gdGhpcztcclxuICAgICAgICByZXR1cm4gbmV3IHV0aWxpdGllc18xLlByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XHJcbiAgICAgICAgICAgIHQuZXhlYygpLnRoZW4oZnVuY3Rpb24gKGpzb24pIHtcclxuICAgICAgICAgICAgICAgIHZhciBjc3YgPSBbXTtcclxuICAgICAgICAgICAgICAgIGlmICghanNvbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXMoXCJcIiwgdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaGVhZGVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNzdi5wdXNoKE9iamVjdC5rZXlzKGpzb25bMF0pLmpvaW4oXCIsXCIpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGpzb24uZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3N2LnB1c2goT2JqZWN0LmtleXMocm93KS5tYXAoZnVuY3Rpb24gKGspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvd1trXSA9PT0gbnVsbCB8fCByb3dba10gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2Ygcm93W2tdID09PSBcIm9iamVjdFwiID8gJ1wiJyArIEpTT04uc3RyaW5naWZ5KHJvd1trXSkucmVwbGFjZSgvXFxcIi9nLCAnXFwnJykgKyAnXCInIDogcm93W2tdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLmpvaW4oXCIsXCIpKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmVzKGNzdi5qb2luKFwiXFxuXCIpLCB0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBQYXNzIGluIGEgcXVlcnkgb2JqZWN0IHRvIG1hbnVhbGx5IGV4ZWN1dGUgYSBxdWVyeSBhZ2FpbnN0IHRoZSBzeXN0ZW0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtJZGJRdWVyeX0gcXVlcnlcclxuICAgICAqIEBwYXJhbSB7KGVycjogYW55LCByZXN1bHQ6IGFueVtdKSA9PiB2b2lkfSBbY29tcGxldGVdXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxRdWVyeS5wcm90b3R5cGUubWFudWFsRXhlYyA9IGZ1bmN0aW9uIChxdWVyeSkge1xyXG4gICAgICAgIHRoaXMuX3F1ZXJ5ID0gX19hc3NpZ24oe30sIHRoaXMuX3F1ZXJ5LCBxdWVyeSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZXhlYygpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlIGRlbm9ybWFsaXphdGlvbiByZXF1ZXN0cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWN0aW9uXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxRdWVyeS5wcm90b3R5cGUuZGVub3JtYWxpemF0aW9uUXVlcnkgPSBmdW5jdGlvbiAoYWN0aW9uKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gbmV3IHV0aWxpdGllc18xLlByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoYWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwidG9jb2x1bW5cIjpcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZm5zVG9SdW5fMSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fcXVlcnkuYWN0aW9uQXJncyAmJiBfdGhpcy5fcXVlcnkuYWN0aW9uQXJncy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoX3RoaXMuX2RiLnRvQ29sUnVsZXNbX3RoaXMuX3F1ZXJ5LnRhYmxlXSkuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBfdGhpcy5fcXVlcnkuYWN0aW9uQXJncy5pbmRleE9mKGMpICE9PSAtMTsgfSkuZm9yRWFjaChmdW5jdGlvbiAoY29sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbnNUb1J1bl8xW2NvbF0gPSBfdGhpcy5fZGIudG9Db2xSdWxlc1tfdGhpcy5fcXVlcnkudGFibGVdW2NvbF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm5zVG9SdW5fMSA9IF90aGlzLl9kYi50b0NvbFJ1bGVzW190aGlzLl9xdWVyeS50YWJsZV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9xdWVyeS5hY3Rpb24gPSBcInNlbGVjdFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9xdWVyeS5hY3Rpb25BcmdzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2x1bW5zXzEgPSBPYmplY3Qua2V5cyhmbnNUb1J1bl8xKTtcclxuICAgICAgICAgICAgICAgICAgICBydW5RdWVyeShfdGhpcywgZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdENIQUlOKHJvd3MsIGZ1bmN0aW9uIChyb3csIGksIGRvbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuaXNGcm96ZW4ocm93KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdyA9IHV0aWxpdGllc18xLl9hc3NpZ24ocm93KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwoY29sdW1uc18xLCBmdW5jdGlvbiAoY29sLCBpLCBuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZuID0gX3RoaXMuX2RiLnRvQ29sRm5zW190aGlzLl9xdWVyeS50YWJsZV1bZm5zVG9SdW5fMVtjb2xdWzBdXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbi5hcHBseShudWxsLCBbcm93W2NvbF0sIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93W2NvbF0gPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0uY29uY2F0KGZuc1RvUnVuXzFbY29sXS5maWx0ZXIoZnVuY3Rpb24gKHYsIGkpIHsgcmV0dXJuIGkgPiAwOyB9KS5tYXAoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIHJvd1tjXTsgfSkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9kYi5xdWVyeShcInVwc2VydFwiLCByb3cpLm1hbnVhbEV4ZWMoeyB0YWJsZTogX3RoaXMuX3F1ZXJ5LnRhYmxlIH0pLnRoZW4oZG9uZSkuY2F0Y2goZG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMoeyBtc2c6IHJvd3MubGVuZ3RoICsgXCIgcm93cyBtb2RpZmllZFwiIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ0b3Jvd1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmbktleSA9IChfdGhpcy5fcXVlcnkuYWN0aW9uQXJncyB8fCBcIlwiKS5yZXBsYWNlKFwiKClcIiwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl9kYi50b1Jvd0Zuc1tfdGhpcy5fcXVlcnkudGFibGVdICYmIF90aGlzLl9kYi50b1Jvd0Zuc1tfdGhpcy5fcXVlcnkudGFibGVdW2ZuS2V5XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm5fMSA9IF90aGlzLl9kYi50b1Jvd0Zuc1tfdGhpcy5fcXVlcnkudGFibGVdW2ZuS2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIFBLXzEgPSBfdGhpcy5fZGIudGFibGVQS3NbX3RoaXMuX3F1ZXJ5LnRhYmxlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl9xdWVyeS5vbiAmJiBfdGhpcy5fcXVlcnkub24ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKF90aGlzLl9xdWVyeS5vbiwgZnVuY3Rpb24gKHBrLCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm5fMShwaywge30sIGZ1bmN0aW9uIChuZXdSb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Um93W1BLXzFdID0gcGs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9kYi5xdWVyeShcInVwc2VydFwiLCBuZXdSb3cpLm1hbnVhbEV4ZWMoeyB0YWJsZTogX3RoaXMuX3F1ZXJ5LnRhYmxlIH0pLnRoZW4oZG9uZSkuY2F0Y2goZG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMoW3sgbXNnOiAoX3RoaXMuX3F1ZXJ5Lm9uIHx8IFtdKS5sZW5ndGggKyBcIiByb3dzIG1vZGlmaWVkIG9yIGFkZGVkLlwiIH1dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9xdWVyeS5hY3Rpb24gPSBcInNlbGVjdFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcXVlcnkuYWN0aW9uQXJncyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcnVuUXVlcnkoX3RoaXMsIGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHJvd3MsIGZ1bmN0aW9uIChyb3csIGksIGRvbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmlzRnJvemVuKHJvdykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93ID0gdXRpbGl0aWVzXzEuX2Fzc2lnbihyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbl8xKHJvd1tQS18xXSwgcm93LCBmdW5jdGlvbiAobmV3Um93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Jvd1tQS18xXSA9IHJvd1tQS18xXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2RiLnF1ZXJ5KFwidXBzZXJ0XCIsIG5ld1JvdykubWFudWFsRXhlYyh7IHRhYmxlOiBfdGhpcy5fcXVlcnkudGFibGUgfSkudGhlbihkb25lKS5jYXRjaChkb25lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyh7IG1zZzogcm93cy5sZW5ndGggKyBcIiByb3dzIG1vZGlmaWVkXCIgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWooXCJObyBmdW5jdGlvbiBcIiArIF90aGlzLl9xdWVyeS5hY3Rpb25BcmdzICsgXCIgZm91bmQgdG8gcGVyZm9ybSB1cGRhdGVzIVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRXhlY3V0ZXMgdGhlIGN1cnJlbnQgcGVuZGluZyBxdWVyeSB0byB0aGUgZGIgZW5naW5lLCByZXR1cm5zIGEgcHJvbWlzZSB3aXRoIHRoZSByb3dzIGFzIG9iamVjdHMgaW4gYW4gYXJyYXkuXHJcbiAgICAgKlxyXG4gICAgICogRXhhbXBsZTpcclxuICAgICAqIG5TUUwoXCJ1c2Vyc1wiKS5xdWVyeShcInNlbGVjdFwiKS5leGVjKCkudGhlbihmdW5jdGlvbihyb3dzKSB7XHJcbiAgICAgKiAgICAgY29uc29sZS5sb2cocm93cykgLy8gPD0gW3tpZDoxLHVzZXJuYW1lOlwiU2NvdHRcIixwYXNzd29yZDpcIjEyMzRcIn0se2lkOjIsdXNlcm5hbWU6XCJKZWJcIixwYXNzd29yZDpcIjEyMzRcIn1dXHJcbiAgICAgKiAgICAgcmV0dXJuIG5TUUwoKS5xdWVyeShcInVwc2VydFwiLHtwYXNzd29yZDpcInNvbWV0aGluZyBtb3JlIHNlY3VyZVwifSkud2hlcmUoW1wiaWRcIixcIj1cIiwxXSkuZXhlYygpO1xyXG4gICAgICogfSkudGhlbihmdW5jdGlvbihyb3dzKSB7XHJcbiAgICAgKiAgLi4uXHJcbiAgICAgKiB9KS4uLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHsoUHJvbWlzZTxBcnJheTxPYmplY3Q+Pil9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFF1ZXJ5LnByb3RvdHlwZS5leGVjID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMuX3F1ZXJ5LnRhYmxlID09PSBcIipcIilcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHZhciB0ID0gdGhpcztcclxuICAgICAgICB2YXIgYSA9IHRoaXMuX3F1ZXJ5LmFjdGlvbi50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGlmIChbXCJ0b2NvbHVtblwiLCBcInRvcm93XCJdLmluZGV4T2YoYSkgPiAtMSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fcXVlcnkuZGVib3VuY2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkZW5vcm1hbGl6YXRpb25LZXlfMSA9IHV0aWxpdGllc18xLmhhc2goSlNPTi5zdHJpbmdpZnkoW3RoaXMuX3F1ZXJ5LnRhYmxlLCBhLCB0aGlzLl9xdWVyeS5hY3Rpb25BcmdzLCB0aGlzLl9xdWVyeS5vbiwgdGhpcy5fcXVlcnkud2hlcmVdLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gcjsgfSkpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgdXRpbGl0aWVzXzEuUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVib3VuY2VUaW1lcnNbZGVub3JtYWxpemF0aW9uS2V5XzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChkZWJvdW5jZVRpbWVyc1tkZW5vcm1hbGl6YXRpb25LZXlfMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBkZWJvdW5jZVRpbWVyc1tkZW5vcm1hbGl6YXRpb25LZXlfMV0gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVub3JtYWxpemF0aW9uUXVlcnkoYSkudGhlbihyZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIF90aGlzLl9xdWVyeS5kZWJvdW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZW5vcm1hbGl6YXRpb25RdWVyeShhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKFtcInNlbGVjdFwiLCBcInVwc2VydFwiLCBcImRlbGV0ZVwiLCBcImRyb3BcIiwgXCJzaG93IHRhYmxlc1wiLCBcImRlc2NyaWJlXCJdLmluZGV4T2YoYSkgPiAtMSkge1xyXG4gICAgICAgICAgICB2YXIgbmV3QXJnc18xID0gdGhpcy5fcXVlcnkuYWN0aW9uQXJncyB8fCAoYSA9PT0gXCJzZWxlY3RcIiB8fCBhID09PSBcImRlbGV0ZVwiID8gW10gOiB7fSk7XHJcbiAgICAgICAgICAgIGlmIChhID09PSBcInVwc2VydFwiKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDYXN0IHJvdyB0eXBlcyBhbmQgcmVtb3ZlIGNvbHVtbnMgdGhhdCBkb24ndCBleGlzdCBpbiB0aGUgZGF0YSBtb2RlbFxyXG4gICAgICAgICAgICAgICAgdmFyIGlucHV0QXJnc18xID0ge307XHJcbiAgICAgICAgICAgICAgICB2YXIgbW9kZWxzID0gdGhpcy5fZGIuZGF0YU1vZGVsc1t0aGlzLl9xdWVyeS50YWJsZV07XHJcbiAgICAgICAgICAgICAgICB2YXIgayA9IDA7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoayA8IG1vZGVscy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3QXJnc18xW21vZGVsc1trXS5rZXldICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRBcmdzXzFbbW9kZWxzW2tdLmtleV0gPSB1dGlsaXRpZXNfMS5jYXN0KG1vZGVsc1trXS50eXBlLCBuZXdBcmdzXzFbbW9kZWxzW2tdLmtleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBrKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBpbnNlcnQgd2lsZGNhcmQgY29sdW1uc1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2RiLnNraXBQdXJnZVt0aGlzLl9xdWVyeS50YWJsZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kZWxDb2x1bW5zXzEgPSBtb2RlbHMubWFwKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLmtleTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHVtbnMgPSBPYmplY3Qua2V5cyhuZXdBcmdzXzEpLmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gbW9kZWxDb2x1bW5zXzEuaW5kZXhPZihjKSA9PT0gLTE7IH0pOyAvLyB3aWxkY2FyZCBjb2x1bW5zXHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRBcmdzXzFbY29sXSA9IG5ld0FyZ3NfMVtjb2xdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV3QXJnc18xID0gaW5wdXRBcmdzXzE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fcXVlcnkuYWN0aW9uID0gYTtcclxuICAgICAgICAgICAgdGhpcy5fcXVlcnkuYWN0aW9uQXJncyA9IHRoaXMuX3F1ZXJ5LmFjdGlvbkFyZ3MgPyBuZXdBcmdzXzEgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIk5vIHZhbGlkIGRhdGFiYXNlIGFjdGlvbiFcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgdXRpbGl0aWVzXzEuUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcclxuICAgICAgICAgICAgLy8gaGFuZGxlIGluc3RhbmNlIHF1ZXJpZXNcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoX3RoaXMuX3F1ZXJ5LnRhYmxlKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLl9kYi5pQi5kb0V4ZWMpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZGIuaUIuZG9FeGVjKF90aGlzLl9xdWVyeSwgZnVuY3Rpb24gKHEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzKHEucmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIXQuX2RiLnBsdWdpbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0Ll9lcnJvciA9IFwiTm8gcGx1Z2lucywgbm90aGluZyB0byBkbyFcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodC5fZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJlaih0Ll9lcnJvciwgX3RoaXMuX2RiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoX3RoaXMuX2RiLnF1ZXJ5TW9kKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fZGIucXVlcnlNb2QoX3RoaXMuX3F1ZXJ5LCBmdW5jdGlvbiAobmV3USkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9xdWVyeSA9IG5ld1E7XHJcbiAgICAgICAgICAgICAgICAgICAgcnVuUXVlcnkoX3RoaXMsIHJlcyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJ1blF1ZXJ5KF90aGlzLCByZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9OYW5vU1FMUXVlcnk7XHJcbn0oKSk7XHJcbmV4cG9ydHMuX05hbm9TUUxRdWVyeSA9IF9OYW5vU1FMUXVlcnk7XHJcbiIsInZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG4vLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbiRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0JywgeyBjcmVhdGU6IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKSB9KTtcbiIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUnKTtcbnZhciAkT2JqZWN0ID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlKFAsIEQpIHtcbiAgcmV0dXJuICRPYmplY3QuY3JlYXRlKFAsIEQpO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwiLy8gV29ya3Mgd2l0aCBfX3Byb3RvX18gb25seS4gT2xkIHY4IGNhbid0IHdvcmsgd2l0aCBudWxsIHByb3RvIG9iamVjdHMuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBjaGVjayA9IGZ1bmN0aW9uIChPLCBwcm90bykge1xuICBhbk9iamVjdChPKTtcbiAgaWYgKCFpc09iamVjdChwcm90bykgJiYgcHJvdG8gIT09IG51bGwpIHRocm93IFR5cGVFcnJvcihwcm90byArIFwiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlIVwiKTtcbn07XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2V0OiBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgKCdfX3Byb3RvX18nIGluIHt9ID8gLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGZ1bmN0aW9uICh0ZXN0LCBidWdneSwgc2V0KSB7XG4gICAgICB0cnkge1xuICAgICAgICBzZXQgPSByZXF1aXJlKCcuL19jdHgnKShGdW5jdGlvbi5jYWxsLCByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpLmYoT2JqZWN0LnByb3RvdHlwZSwgJ19fcHJvdG9fXycpLnNldCwgMik7XG4gICAgICAgIHNldCh0ZXN0LCBbXSk7XG4gICAgICAgIGJ1Z2d5ID0gISh0ZXN0IGluc3RhbmNlb2YgQXJyYXkpO1xuICAgICAgfSBjYXRjaCAoZSkgeyBidWdneSA9IHRydWU7IH1cbiAgICAgIHJldHVybiBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihPLCBwcm90bykge1xuICAgICAgICBjaGVjayhPLCBwcm90byk7XG4gICAgICAgIGlmIChidWdneSkgTy5fX3Byb3RvX18gPSBwcm90bztcbiAgICAgICAgZWxzZSBzZXQoTywgcHJvdG8pO1xuICAgICAgICByZXR1cm4gTztcbiAgICAgIH07XG4gICAgfSh7fSwgZmFsc2UpIDogdW5kZWZpbmVkKSxcbiAgY2hlY2s6IGNoZWNrXG59O1xuIiwiLy8gMTkuMS4zLjE5IE9iamVjdC5zZXRQcm90b3R5cGVPZihPLCBwcm90bylcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG4kZXhwb3J0KCRleHBvcnQuUywgJ09iamVjdCcsIHsgc2V0UHJvdG90eXBlT2Y6IHJlcXVpcmUoJy4vX3NldC1wcm90bycpLnNldCB9KTtcbiIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Quc2V0UHJvdG90eXBlT2Y7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2ZcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9zZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mXCIpO1xuXG52YXIgX3NldFByb3RvdHlwZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NldFByb3RvdHlwZU9mKTtcblxudmFyIF9jcmVhdGUgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvY3JlYXRlXCIpO1xuXG52YXIgX2NyZWF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGUpO1xuXG52YXIgX3R5cGVvZjIgPSByZXF1aXJlKFwiLi4vaGVscGVycy90eXBlb2ZcIik7XG5cbnZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgKHR5cGVvZiBzdXBlckNsYXNzID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShzdXBlckNsYXNzKSkpO1xuICB9XG5cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gKDAsIF9jcmVhdGUyLmRlZmF1bHQpKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2YyLmRlZmF1bHQgPyAoMCwgX3NldFByb3RvdHlwZU9mMi5kZWZhdWx0KShzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufTsiLCJyZXF1aXJlKCcuL193a3MtZGVmaW5lJykoJ29ic2VydmFibGUnKTtcbiIsInJlcXVpcmUoJy4vX3drcy1kZWZpbmUnKSgnYXN5bmNJdGVyYXRvcicpO1xuIiwiLy8gZmFsbGJhY2sgZm9yIElFMTEgYnVnZ3kgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgd2l0aCBpZnJhbWUgYW5kIHdpbmRvd1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciBnT1BOID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mO1xudmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbnZhciB3aW5kb3dOYW1lcyA9IHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgd2luZG93ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXG4gID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KSA6IFtdO1xuXG52YXIgZ2V0V2luZG93TmFtZXMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZ09QTihpdCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gd2luZG93TmFtZXMuc2xpY2UoKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMuZiA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpIHtcbiAgcmV0dXJuIHdpbmRvd05hbWVzICYmIHRvU3RyaW5nLmNhbGwoaXQpID09ICdbb2JqZWN0IFdpbmRvd10nID8gZ2V0V2luZG93TmFtZXMoaXQpIDogZ09QTih0b0lPYmplY3QoaXQpKTtcbn07XG4iLCIvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIGlzQXJyYXkoYXJnKSB7XG4gIHJldHVybiBjb2YoYXJnKSA9PSAnQXJyYXknO1xufTtcbiIsIi8vIGFsbCBlbnVtZXJhYmxlIG9iamVjdCBrZXlzLCBpbmNsdWRlcyBzeW1ib2xzXG52YXIgZ2V0S2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG52YXIgZ09QUyA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJyk7XG52YXIgcElFID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIHJlc3VsdCA9IGdldEtleXMoaXQpO1xuICB2YXIgZ2V0U3ltYm9scyA9IGdPUFMuZjtcbiAgaWYgKGdldFN5bWJvbHMpIHtcbiAgICB2YXIgc3ltYm9scyA9IGdldFN5bWJvbHMoaXQpO1xuICAgIHZhciBpc0VudW0gPSBwSUUuZjtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGtleTtcbiAgICB3aGlsZSAoc3ltYm9scy5sZW5ndGggPiBpKSBpZiAoaXNFbnVtLmNhbGwoaXQsIGtleSA9IHN5bWJvbHNbaSsrXSkpIHJlc3VsdC5wdXNoKGtleSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG4iLCJ2YXIgTUVUQSA9IHJlcXVpcmUoJy4vX3VpZCcpKCdtZXRhJyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciBzZXREZXNjID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZjtcbnZhciBpZCA9IDA7XG52YXIgaXNFeHRlbnNpYmxlID0gT2JqZWN0LmlzRXh0ZW5zaWJsZSB8fCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0cnVlO1xufTtcbnZhciBGUkVFWkUgPSAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBpc0V4dGVuc2libGUoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSk7XG59KTtcbnZhciBzZXRNZXRhID0gZnVuY3Rpb24gKGl0KSB7XG4gIHNldERlc2MoaXQsIE1FVEEsIHsgdmFsdWU6IHtcbiAgICBpOiAnTycgKyArK2lkLCAvLyBvYmplY3QgSURcbiAgICB3OiB7fSAgICAgICAgICAvLyB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuICB9IH0pO1xufTtcbnZhciBmYXN0S2V5ID0gZnVuY3Rpb24gKGl0LCBjcmVhdGUpIHtcbiAgLy8gcmV0dXJuIHByaW1pdGl2ZSB3aXRoIHByZWZpeFxuICBpZiAoIWlzT2JqZWN0KGl0KSkgcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJyA/IGl0IDogKHR5cGVvZiBpdCA9PSAnc3RyaW5nJyA/ICdTJyA6ICdQJykgKyBpdDtcbiAgaWYgKCFoYXMoaXQsIE1FVEEpKSB7XG4gICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3RcbiAgICBpZiAoIWlzRXh0ZW5zaWJsZShpdCkpIHJldHVybiAnRic7XG4gICAgLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGFcbiAgICBpZiAoIWNyZWF0ZSkgcmV0dXJuICdFJztcbiAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuICAgIHNldE1ldGEoaXQpO1xuICAvLyByZXR1cm4gb2JqZWN0IElEXG4gIH0gcmV0dXJuIGl0W01FVEFdLmk7XG59O1xudmFyIGdldFdlYWsgPSBmdW5jdGlvbiAoaXQsIGNyZWF0ZSkge1xuICBpZiAoIWhhcyhpdCwgTUVUQSkpIHtcbiAgICAvLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdFxuICAgIGlmICghaXNFeHRlbnNpYmxlKGl0KSkgcmV0dXJuIHRydWU7XG4gICAgLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGFcbiAgICBpZiAoIWNyZWF0ZSkgcmV0dXJuIGZhbHNlO1xuICAgIC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG4gICAgc2V0TWV0YShpdCk7XG4gIC8vIHJldHVybiBoYXNoIHdlYWsgY29sbGVjdGlvbnMgSURzXG4gIH0gcmV0dXJuIGl0W01FVEFdLnc7XG59O1xuLy8gYWRkIG1ldGFkYXRhIG9uIGZyZWV6ZS1mYW1pbHkgbWV0aG9kcyBjYWxsaW5nXG52YXIgb25GcmVlemUgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKEZSRUVaRSAmJiBtZXRhLk5FRUQgJiYgaXNFeHRlbnNpYmxlKGl0KSAmJiAhaGFzKGl0LCBNRVRBKSkgc2V0TWV0YShpdCk7XG4gIHJldHVybiBpdDtcbn07XG52YXIgbWV0YSA9IG1vZHVsZS5leHBvcnRzID0ge1xuICBLRVk6IE1FVEEsXG4gIE5FRUQ6IGZhbHNlLFxuICBmYXN0S2V5OiBmYXN0S2V5LFxuICBnZXRXZWFrOiBnZXRXZWFrLFxuICBvbkZyZWV6ZTogb25GcmVlemVcbn07XG4iLCIndXNlIHN0cmljdCc7XG4vLyBFQ01BU2NyaXB0IDYgc3ltYm9scyBzaGltXG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpO1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciByZWRlZmluZSA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJyk7XG52YXIgTUVUQSA9IHJlcXVpcmUoJy4vX21ldGEnKS5LRVk7XG52YXIgJGZhaWxzID0gcmVxdWlyZSgnLi9fZmFpbHMnKTtcbnZhciBzaGFyZWQgPSByZXF1aXJlKCcuL19zaGFyZWQnKTtcbnZhciBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJyk7XG52YXIgdWlkID0gcmVxdWlyZSgnLi9fdWlkJyk7XG52YXIgd2tzID0gcmVxdWlyZSgnLi9fd2tzJyk7XG52YXIgd2tzRXh0ID0gcmVxdWlyZSgnLi9fd2tzLWV4dCcpO1xudmFyIHdrc0RlZmluZSA9IHJlcXVpcmUoJy4vX3drcy1kZWZpbmUnKTtcbnZhciBlbnVtS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0ta2V5cycpO1xudmFyIGlzQXJyYXkgPSByZXF1aXJlKCcuL19pcy1hcnJheScpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG52YXIgdG9QcmltaXRpdmUgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKTtcbnZhciBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xudmFyIF9jcmVhdGUgPSByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJyk7XG52YXIgZ09QTkV4dCA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BuLWV4dCcpO1xudmFyICRHT1BEID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcGQnKTtcbnZhciAkRFAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKTtcbnZhciAka2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG52YXIgZ09QRCA9ICRHT1BELmY7XG52YXIgZFAgPSAkRFAuZjtcbnZhciBnT1BOID0gZ09QTkV4dC5mO1xudmFyICRTeW1ib2wgPSBnbG9iYWwuU3ltYm9sO1xudmFyICRKU09OID0gZ2xvYmFsLkpTT047XG52YXIgX3N0cmluZ2lmeSA9ICRKU09OICYmICRKU09OLnN0cmluZ2lmeTtcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcbnZhciBISURERU4gPSB3a3MoJ19oaWRkZW4nKTtcbnZhciBUT19QUklNSVRJVkUgPSB3a3MoJ3RvUHJpbWl0aXZlJyk7XG52YXIgaXNFbnVtID0ge30ucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgU3ltYm9sUmVnaXN0cnkgPSBzaGFyZWQoJ3N5bWJvbC1yZWdpc3RyeScpO1xudmFyIEFsbFN5bWJvbHMgPSBzaGFyZWQoJ3N5bWJvbHMnKTtcbnZhciBPUFN5bWJvbHMgPSBzaGFyZWQoJ29wLXN5bWJvbHMnKTtcbnZhciBPYmplY3RQcm90byA9IE9iamVjdFtQUk9UT1RZUEVdO1xudmFyIFVTRV9OQVRJVkUgPSB0eXBlb2YgJFN5bWJvbCA9PSAnZnVuY3Rpb24nO1xudmFyIFFPYmplY3QgPSBnbG9iYWwuUU9iamVjdDtcbi8vIERvbid0IHVzZSBzZXR0ZXJzIGluIFF0IFNjcmlwdCwgaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzE3M1xudmFyIHNldHRlciA9ICFRT2JqZWN0IHx8ICFRT2JqZWN0W1BST1RPVFlQRV0gfHwgIVFPYmplY3RbUFJPVE9UWVBFXS5maW5kQ2hpbGQ7XG5cbi8vIGZhbGxiYWNrIGZvciBvbGQgQW5kcm9pZCwgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTY4N1xudmFyIHNldFN5bWJvbERlc2MgPSBERVNDUklQVE9SUyAmJiAkZmFpbHMoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gX2NyZWF0ZShkUCh7fSwgJ2EnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkUCh0aGlzLCAnYScsIHsgdmFsdWU6IDcgfSkuYTsgfVxuICB9KSkuYSAhPSA3O1xufSkgPyBmdW5jdGlvbiAoaXQsIGtleSwgRCkge1xuICB2YXIgcHJvdG9EZXNjID0gZ09QRChPYmplY3RQcm90bywga2V5KTtcbiAgaWYgKHByb3RvRGVzYykgZGVsZXRlIE9iamVjdFByb3RvW2tleV07XG4gIGRQKGl0LCBrZXksIEQpO1xuICBpZiAocHJvdG9EZXNjICYmIGl0ICE9PSBPYmplY3RQcm90bykgZFAoT2JqZWN0UHJvdG8sIGtleSwgcHJvdG9EZXNjKTtcbn0gOiBkUDtcblxudmFyIHdyYXAgPSBmdW5jdGlvbiAodGFnKSB7XG4gIHZhciBzeW0gPSBBbGxTeW1ib2xzW3RhZ10gPSBfY3JlYXRlKCRTeW1ib2xbUFJPVE9UWVBFXSk7XG4gIHN5bS5fayA9IHRhZztcbiAgcmV0dXJuIHN5bTtcbn07XG5cbnZhciBpc1N5bWJvbCA9IFVTRV9OQVRJVkUgJiYgdHlwZW9mICRTeW1ib2wuaXRlcmF0b3IgPT0gJ3N5bWJvbCcgPyBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJztcbn0gOiBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0IGluc3RhbmNlb2YgJFN5bWJvbDtcbn07XG5cbnZhciAkZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBEKSB7XG4gIGlmIChpdCA9PT0gT2JqZWN0UHJvdG8pICRkZWZpbmVQcm9wZXJ0eShPUFN5bWJvbHMsIGtleSwgRCk7XG4gIGFuT2JqZWN0KGl0KTtcbiAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcbiAgYW5PYmplY3QoRCk7XG4gIGlmIChoYXMoQWxsU3ltYm9scywga2V5KSkge1xuICAgIGlmICghRC5lbnVtZXJhYmxlKSB7XG4gICAgICBpZiAoIWhhcyhpdCwgSElEREVOKSkgZFAoaXQsIEhJRERFTiwgY3JlYXRlRGVzYygxLCB7fSkpO1xuICAgICAgaXRbSElEREVOXVtrZXldID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0pIGl0W0hJRERFTl1ba2V5XSA9IGZhbHNlO1xuICAgICAgRCA9IF9jcmVhdGUoRCwgeyBlbnVtZXJhYmxlOiBjcmVhdGVEZXNjKDAsIGZhbHNlKSB9KTtcbiAgICB9IHJldHVybiBzZXRTeW1ib2xEZXNjKGl0LCBrZXksIEQpO1xuICB9IHJldHVybiBkUChpdCwga2V5LCBEKTtcbn07XG52YXIgJGRlZmluZVByb3BlcnRpZXMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKGl0LCBQKSB7XG4gIGFuT2JqZWN0KGl0KTtcbiAgdmFyIGtleXMgPSBlbnVtS2V5cyhQID0gdG9JT2JqZWN0KFApKTtcbiAgdmFyIGkgPSAwO1xuICB2YXIgbCA9IGtleXMubGVuZ3RoO1xuICB2YXIga2V5O1xuICB3aGlsZSAobCA+IGkpICRkZWZpbmVQcm9wZXJ0eShpdCwga2V5ID0ga2V5c1tpKytdLCBQW2tleV0pO1xuICByZXR1cm4gaXQ7XG59O1xudmFyICRjcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaXQsIFApIHtcbiAgcmV0dXJuIFAgPT09IHVuZGVmaW5lZCA/IF9jcmVhdGUoaXQpIDogJGRlZmluZVByb3BlcnRpZXMoX2NyZWF0ZShpdCksIFApO1xufTtcbnZhciAkcHJvcGVydHlJc0VudW1lcmFibGUgPSBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShrZXkpIHtcbiAgdmFyIEUgPSBpc0VudW0uY2FsbCh0aGlzLCBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpKTtcbiAgaWYgKHRoaXMgPT09IE9iamVjdFByb3RvICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXMoT1BTeW1ib2xzLCBrZXkpKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBFIHx8ICFoYXModGhpcywga2V5KSB8fCAhaGFzKEFsbFN5bWJvbHMsIGtleSkgfHwgaGFzKHRoaXMsIEhJRERFTikgJiYgdGhpc1tISURERU5dW2tleV0gPyBFIDogdHJ1ZTtcbn07XG52YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KSB7XG4gIGl0ID0gdG9JT2JqZWN0KGl0KTtcbiAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcbiAgaWYgKGl0ID09PSBPYmplY3RQcm90byAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzKE9QU3ltYm9scywga2V5KSkgcmV0dXJuO1xuICB2YXIgRCA9IGdPUEQoaXQsIGtleSk7XG4gIGlmIChEICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICEoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSkpIEQuZW51bWVyYWJsZSA9IHRydWU7XG4gIHJldHVybiBEO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlOYW1lcyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpIHtcbiAgdmFyIG5hbWVzID0gZ09QTih0b0lPYmplY3QoaXQpKTtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIgaSA9IDA7XG4gIHZhciBrZXk7XG4gIHdoaWxlIChuYW1lcy5sZW5ndGggPiBpKSB7XG4gICAgaWYgKCFoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYga2V5ICE9IEhJRERFTiAmJiBrZXkgIT0gTUVUQSkgcmVzdWx0LnB1c2goa2V5KTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGl0KSB7XG4gIHZhciBJU19PUCA9IGl0ID09PSBPYmplY3RQcm90bztcbiAgdmFyIG5hbWVzID0gZ09QTihJU19PUCA/IE9QU3ltYm9scyA6IHRvSU9iamVjdChpdCkpO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBpID0gMDtcbiAgdmFyIGtleTtcbiAgd2hpbGUgKG5hbWVzLmxlbmd0aCA+IGkpIHtcbiAgICBpZiAoaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIChJU19PUCA/IGhhcyhPYmplY3RQcm90bywga2V5KSA6IHRydWUpKSByZXN1bHQucHVzaChBbGxTeW1ib2xzW2tleV0pO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyAxOS40LjEuMSBTeW1ib2woW2Rlc2NyaXB0aW9uXSlcbmlmICghVVNFX05BVElWRSkge1xuICAkU3ltYm9sID0gZnVuY3Rpb24gU3ltYm9sKCkge1xuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgJFN5bWJvbCkgdGhyb3cgVHlwZUVycm9yKCdTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhJyk7XG4gICAgdmFyIHRhZyA9IHVpZChhcmd1bWVudHMubGVuZ3RoID4gMCA/IGFyZ3VtZW50c1swXSA6IHVuZGVmaW5lZCk7XG4gICAgdmFyICRzZXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmICh0aGlzID09PSBPYmplY3RQcm90bykgJHNldC5jYWxsKE9QU3ltYm9scywgdmFsdWUpO1xuICAgICAgaWYgKGhhcyh0aGlzLCBISURERU4pICYmIGhhcyh0aGlzW0hJRERFTl0sIHRhZykpIHRoaXNbSElEREVOXVt0YWddID0gZmFsc2U7XG4gICAgICBzZXRTeW1ib2xEZXNjKHRoaXMsIHRhZywgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xuICAgIH07XG4gICAgaWYgKERFU0NSSVBUT1JTICYmIHNldHRlcikgc2V0U3ltYm9sRGVzYyhPYmplY3RQcm90bywgdGFnLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgc2V0OiAkc2V0IH0pO1xuICAgIHJldHVybiB3cmFwKHRhZyk7XG4gIH07XG4gIHJlZGVmaW5lKCRTeW1ib2xbUFJPVE9UWVBFXSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2s7XG4gIH0pO1xuXG4gICRHT1BELmYgPSAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICAkRFAuZiA9ICRkZWZpbmVQcm9wZXJ0eTtcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mID0gZ09QTkV4dC5mID0gJGdldE93blByb3BlcnR5TmFtZXM7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1waWUnKS5mID0gJHByb3BlcnR5SXNFbnVtZXJhYmxlO1xuICByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpLmYgPSAkZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG4gIGlmIChERVNDUklQVE9SUyAmJiAhcmVxdWlyZSgnLi9fbGlicmFyeScpKSB7XG4gICAgcmVkZWZpbmUoT2JqZWN0UHJvdG8sICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsICRwcm9wZXJ0eUlzRW51bWVyYWJsZSwgdHJ1ZSk7XG4gIH1cblxuICB3a3NFeHQuZiA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIHdyYXAod2tzKG5hbWUpKTtcbiAgfTtcbn1cblxuJGV4cG9ydCgkZXhwb3J0LkcgKyAkZXhwb3J0LlcgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgeyBTeW1ib2w6ICRTeW1ib2wgfSk7XG5cbmZvciAodmFyIGVzNlN5bWJvbHMgPSAoXG4gIC8vIDE5LjQuMi4yLCAxOS40LjIuMywgMTkuNC4yLjQsIDE5LjQuMi42LCAxOS40LjIuOCwgMTkuNC4yLjksIDE5LjQuMi4xMCwgMTkuNC4yLjExLCAxOS40LjIuMTIsIDE5LjQuMi4xMywgMTkuNC4yLjE0XG4gICdoYXNJbnN0YW5jZSxpc0NvbmNhdFNwcmVhZGFibGUsaXRlcmF0b3IsbWF0Y2gscmVwbGFjZSxzZWFyY2gsc3BlY2llcyxzcGxpdCx0b1ByaW1pdGl2ZSx0b1N0cmluZ1RhZyx1bnNjb3BhYmxlcydcbikuc3BsaXQoJywnKSwgaiA9IDA7IGVzNlN5bWJvbHMubGVuZ3RoID4gajspd2tzKGVzNlN5bWJvbHNbaisrXSk7XG5cbmZvciAodmFyIHdlbGxLbm93blN5bWJvbHMgPSAka2V5cyh3a3Muc3RvcmUpLCBrID0gMDsgd2VsbEtub3duU3ltYm9scy5sZW5ndGggPiBrOykgd2tzRGVmaW5lKHdlbGxLbm93blN5bWJvbHNbaysrXSk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsICdTeW1ib2wnLCB7XG4gIC8vIDE5LjQuMi4xIFN5bWJvbC5mb3Ioa2V5KVxuICAnZm9yJzogZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBoYXMoU3ltYm9sUmVnaXN0cnksIGtleSArPSAnJylcbiAgICAgID8gU3ltYm9sUmVnaXN0cnlba2V5XVxuICAgICAgOiBTeW1ib2xSZWdpc3RyeVtrZXldID0gJFN5bWJvbChrZXkpO1xuICB9LFxuICAvLyAxOS40LjIuNSBTeW1ib2wua2V5Rm9yKHN5bSlcbiAga2V5Rm9yOiBmdW5jdGlvbiBrZXlGb3Ioc3ltKSB7XG4gICAgaWYgKCFpc1N5bWJvbChzeW0pKSB0aHJvdyBUeXBlRXJyb3Ioc3ltICsgJyBpcyBub3QgYSBzeW1ib2whJyk7XG4gICAgZm9yICh2YXIga2V5IGluIFN5bWJvbFJlZ2lzdHJ5KSBpZiAoU3ltYm9sUmVnaXN0cnlba2V5XSA9PT0gc3ltKSByZXR1cm4ga2V5O1xuICB9LFxuICB1c2VTZXR0ZXI6IGZ1bmN0aW9uICgpIHsgc2V0dGVyID0gdHJ1ZTsgfSxcbiAgdXNlU2ltcGxlOiBmdW5jdGlvbiAoKSB7IHNldHRlciA9IGZhbHNlOyB9XG59KTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ09iamVjdCcsIHtcbiAgLy8gMTkuMS4yLjIgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuICBjcmVhdGU6ICRjcmVhdGUsXG4gIC8vIDE5LjEuMi40IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKVxuICBkZWZpbmVQcm9wZXJ0eTogJGRlZmluZVByb3BlcnR5LFxuICAvLyAxOS4xLjIuMyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKVxuICBkZWZpbmVQcm9wZXJ0aWVzOiAkZGVmaW5lUHJvcGVydGllcyxcbiAgLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKVxuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gIC8vIDE5LjEuMi43IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG4gIGdldE93blByb3BlcnR5TmFtZXM6ICRnZXRPd25Qcm9wZXJ0eU5hbWVzLFxuICAvLyAxOS4xLjIuOCBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKE8pXG4gIGdldE93blByb3BlcnR5U3ltYm9sczogJGdldE93blByb3BlcnR5U3ltYm9sc1xufSk7XG5cbi8vIDI0LjMuMiBKU09OLnN0cmluZ2lmeSh2YWx1ZSBbLCByZXBsYWNlciBbLCBzcGFjZV1dKVxuJEpTT04gJiYgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoIVVTRV9OQVRJVkUgfHwgJGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgdmFyIFMgPSAkU3ltYm9sKCk7XG4gIC8vIE1TIEVkZ2UgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIHt9XG4gIC8vIFdlYktpdCBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMgbnVsbFxuICAvLyBWOCB0aHJvd3Mgb24gYm94ZWQgc3ltYm9sc1xuICByZXR1cm4gX3N0cmluZ2lmeShbU10pICE9ICdbbnVsbF0nIHx8IF9zdHJpbmdpZnkoeyBhOiBTIH0pICE9ICd7fScgfHwgX3N0cmluZ2lmeShPYmplY3QoUykpICE9ICd7fSc7XG59KSksICdKU09OJywge1xuICBzdHJpbmdpZnk6IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCkge1xuICAgIHZhciBhcmdzID0gW2l0XTtcbiAgICB2YXIgaSA9IDE7XG4gICAgdmFyIHJlcGxhY2VyLCAkcmVwbGFjZXI7XG4gICAgd2hpbGUgKGFyZ3VtZW50cy5sZW5ndGggPiBpKSBhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuICAgICRyZXBsYWNlciA9IHJlcGxhY2VyID0gYXJnc1sxXTtcbiAgICBpZiAoIWlzT2JqZWN0KHJlcGxhY2VyKSAmJiBpdCA9PT0gdW5kZWZpbmVkIHx8IGlzU3ltYm9sKGl0KSkgcmV0dXJuOyAvLyBJRTggcmV0dXJucyBzdHJpbmcgb24gdW5kZWZpbmVkXG4gICAgaWYgKCFpc0FycmF5KHJlcGxhY2VyKSkgcmVwbGFjZXIgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiAkcmVwbGFjZXIgPT0gJ2Z1bmN0aW9uJykgdmFsdWUgPSAkcmVwbGFjZXIuY2FsbCh0aGlzLCBrZXksIHZhbHVlKTtcbiAgICAgIGlmICghaXNTeW1ib2wodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBhcmdzWzFdID0gcmVwbGFjZXI7XG4gICAgcmV0dXJuIF9zdHJpbmdpZnkuYXBwbHkoJEpTT04sIGFyZ3MpO1xuICB9XG59KTtcblxuLy8gMTkuNC4zLjQgU3ltYm9sLnByb3RvdHlwZVtAQHRvUHJpbWl0aXZlXShoaW50KVxuJFN5bWJvbFtQUk9UT1RZUEVdW1RPX1BSSU1JVElWRV0gfHwgcmVxdWlyZSgnLi9faGlkZScpKCRTeW1ib2xbUFJPVE9UWVBFXSwgVE9fUFJJTUlUSVZFLCAkU3ltYm9sW1BST1RPVFlQRV0udmFsdWVPZik7XG4vLyAxOS40LjMuNSBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZygkU3ltYm9sLCAnU3ltYm9sJyk7XG4vLyAyMC4yLjEuOSBNYXRoW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZyhNYXRoLCAnTWF0aCcsIHRydWUpO1xuLy8gMjQuMy4zIEpTT05bQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKGdsb2JhbC5KU09OLCAnSlNPTicsIHRydWUpO1xuIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5vYnNlcnZhYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5TeW1ib2w7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZG9uZSwgdmFsdWUpIHtcbiAgcmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBkb25lOiAhIWRvbmUgfTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBhZGRUb1Vuc2NvcGFibGVzID0gcmVxdWlyZSgnLi9fYWRkLXRvLXVuc2NvcGFibGVzJyk7XG52YXIgc3RlcCA9IHJlcXVpcmUoJy4vX2l0ZXItc3RlcCcpO1xudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcblxuLy8gMjIuMS4zLjQgQXJyYXkucHJvdG90eXBlLmVudHJpZXMoKVxuLy8gMjIuMS4zLjEzIEFycmF5LnByb3RvdHlwZS5rZXlzKClcbi8vIDIyLjEuMy4yOSBBcnJheS5wcm90b3R5cGUudmFsdWVzKClcbi8vIDIyLjEuMy4zMCBBcnJheS5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19pdGVyLWRlZmluZScpKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbiAoaXRlcmF0ZWQsIGtpbmQpIHtcbiAgdGhpcy5fdCA9IHRvSU9iamVjdChpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuICB0aGlzLl9rID0ga2luZDsgICAgICAgICAgICAgICAgLy8ga2luZFxuLy8gMjIuMS41LjIuMSAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG59LCBmdW5jdGlvbiAoKSB7XG4gIHZhciBPID0gdGhpcy5fdDtcbiAgdmFyIGtpbmQgPSB0aGlzLl9rO1xuICB2YXIgaW5kZXggPSB0aGlzLl9pKys7XG4gIGlmICghTyB8fCBpbmRleCA+PSBPLmxlbmd0aCkge1xuICAgIHRoaXMuX3QgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHN0ZXAoMSk7XG4gIH1cbiAgaWYgKGtpbmQgPT0gJ2tleXMnKSByZXR1cm4gc3RlcCgwLCBpbmRleCk7XG4gIGlmIChraW5kID09ICd2YWx1ZXMnKSByZXR1cm4gc3RlcCgwLCBPW2luZGV4XSk7XG4gIHJldHVybiBzdGVwKDAsIFtpbmRleCwgT1tpbmRleF1dKTtcbn0sICd2YWx1ZXMnKTtcblxuLy8gYXJndW1lbnRzTGlzdFtAQGl0ZXJhdG9yXSBpcyAlQXJyYXlQcm90b192YWx1ZXMlICg5LjQuNC42LCA5LjQuNC43KVxuSXRlcmF0b3JzLkFyZ3VtZW50cyA9IEl0ZXJhdG9ycy5BcnJheTtcblxuYWRkVG9VbnNjb3BhYmxlcygna2V5cycpO1xuYWRkVG9VbnNjb3BhYmxlcygndmFsdWVzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCdlbnRyaWVzJyk7XG4iLCJyZXF1aXJlKCcuL2VzNi5hcnJheS5pdGVyYXRvcicpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgVE9fU1RSSU5HX1RBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuXG52YXIgRE9NSXRlcmFibGVzID0gKCdDU1NSdWxlTGlzdCxDU1NTdHlsZURlY2xhcmF0aW9uLENTU1ZhbHVlTGlzdCxDbGllbnRSZWN0TGlzdCxET01SZWN0TGlzdCxET01TdHJpbmdMaXN0LCcgK1xuICAnRE9NVG9rZW5MaXN0LERhdGFUcmFuc2Zlckl0ZW1MaXN0LEZpbGVMaXN0LEhUTUxBbGxDb2xsZWN0aW9uLEhUTUxDb2xsZWN0aW9uLEhUTUxGb3JtRWxlbWVudCxIVE1MU2VsZWN0RWxlbWVudCwnICtcbiAgJ01lZGlhTGlzdCxNaW1lVHlwZUFycmF5LE5hbWVkTm9kZU1hcCxOb2RlTGlzdCxQYWludFJlcXVlc3RMaXN0LFBsdWdpbixQbHVnaW5BcnJheSxTVkdMZW5ndGhMaXN0LFNWR051bWJlckxpc3QsJyArXG4gICdTVkdQYXRoU2VnTGlzdCxTVkdQb2ludExpc3QsU1ZHU3RyaW5nTGlzdCxTVkdUcmFuc2Zvcm1MaXN0LFNvdXJjZUJ1ZmZlckxpc3QsU3R5bGVTaGVldExpc3QsVGV4dFRyYWNrQ3VlTGlzdCwnICtcbiAgJ1RleHRUcmFja0xpc3QsVG91Y2hMaXN0Jykuc3BsaXQoJywnKTtcblxuZm9yICh2YXIgaSA9IDA7IGkgPCBET01JdGVyYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgdmFyIE5BTUUgPSBET01JdGVyYWJsZXNbaV07XG4gIHZhciBDb2xsZWN0aW9uID0gZ2xvYmFsW05BTUVdO1xuICB2YXIgcHJvdG8gPSBDb2xsZWN0aW9uICYmIENvbGxlY3Rpb24ucHJvdG90eXBlO1xuICBpZiAocHJvdG8gJiYgIXByb3RvW1RPX1NUUklOR19UQUddKSBoaWRlKHByb3RvLCBUT19TVFJJTkdfVEFHLCBOQU1FKTtcbiAgSXRlcmF0b3JzW05BTUVdID0gSXRlcmF0b3JzLkFycmF5O1xufVxuIiwidmFyIGRvY3VtZW50ID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnQ7XG5tb2R1bGUuZXhwb3J0cyA9IGRvY3VtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiIsInZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJyk7XG52YXIgbWF4ID0gTWF0aC5tYXg7XG52YXIgbWluID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpbmRleCwgbGVuZ3RoKSB7XG4gIGluZGV4ID0gdG9JbnRlZ2VyKGluZGV4KTtcbiAgcmV0dXJuIGluZGV4IDwgMCA/IG1heChpbmRleCArIGxlbmd0aCwgMCkgOiBtaW4oaW5kZXgsIGxlbmd0aCk7XG59O1xuIiwiLy8gNy4xLjE1IFRvTGVuZ3RoXG52YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpO1xudmFyIG1pbiA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ID4gMCA/IG1pbih0b0ludGVnZXIoaXQpLCAweDFmZmZmZmZmZmZmZmZmKSA6IDA7IC8vIHBvdygyLCA1MykgLSAxID09IDkwMDcxOTkyNTQ3NDA5OTFcbn07XG4iLCIvLyBmYWxzZSAtPiBBcnJheSNpbmRleE9mXG4vLyB0cnVlICAtPiBBcnJheSNpbmNsdWRlc1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpO1xudmFyIHRvQWJzb2x1dGVJbmRleCA9IHJlcXVpcmUoJy4vX3RvLWFic29sdXRlLWluZGV4Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChJU19JTkNMVURFUykge1xuICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzLCBlbCwgZnJvbUluZGV4KSB7XG4gICAgdmFyIE8gPSB0b0lPYmplY3QoJHRoaXMpO1xuICAgIHZhciBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aCk7XG4gICAgdmFyIGluZGV4ID0gdG9BYnNvbHV0ZUluZGV4KGZyb21JbmRleCwgbGVuZ3RoKTtcbiAgICB2YXIgdmFsdWU7XG4gICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICBpZiAoSVNfSU5DTFVERVMgJiYgZWwgIT0gZWwpIHdoaWxlIChsZW5ndGggPiBpbmRleCkge1xuICAgICAgdmFsdWUgPSBPW2luZGV4KytdO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgICAgaWYgKHZhbHVlICE9IHZhbHVlKSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBBcnJheSNpbmRleE9mIGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG4gICAgfSBlbHNlIGZvciAoO2xlbmd0aCA+IGluZGV4OyBpbmRleCsrKSBpZiAoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTykge1xuICAgICAgaWYgKE9baW5kZXhdID09PSBlbCkgcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7XG4gICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuICB9O1xufTtcbiIsIi8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApID8gT2JqZWN0IDogZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBjb2YoaXQpID09ICdTdHJpbmcnID8gaXQuc3BsaXQoJycpIDogT2JqZWN0KGl0KTtcbn07XG4iLCJ2YXIgZFAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGdldEtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcykge1xuICBhbk9iamVjdChPKTtcbiAgdmFyIGtleXMgPSBnZXRLZXlzKFByb3BlcnRpZXMpO1xuICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gIHZhciBpID0gMDtcbiAgdmFyIFA7XG4gIHdoaWxlIChsZW5ndGggPiBpKSBkUC5mKE8sIFAgPSBrZXlzW2krK10sIFByb3BlcnRpZXNbUF0pO1xuICByZXR1cm4gTztcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgY3JlYXRlID0gcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpO1xudmFyIGRlc2NyaXB0b3IgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpO1xudmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG5cbi8vIDI1LjEuMi4xLjEgJUl0ZXJhdG9yUHJvdG90eXBlJVtAQGl0ZXJhdG9yXSgpXG5yZXF1aXJlKCcuL19oaWRlJykoSXRlcmF0b3JQcm90b3R5cGUsIHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpIHtcbiAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlLCB7IG5leHQ6IGRlc2NyaXB0b3IoMSwgbmV4dCkgfSk7XG4gIHNldFRvU3RyaW5nVGFnKENvbnN0cnVjdG9yLCBOQU1FICsgJyBJdGVyYXRvcicpO1xufTtcbiIsInZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJyk7XG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbi8vIHRydWUgIC0+IFN0cmluZyNhdFxuLy8gZmFsc2UgLT4gU3RyaW5nI2NvZGVQb2ludEF0XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChUT19TVFJJTkcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0aGF0LCBwb3MpIHtcbiAgICB2YXIgcyA9IFN0cmluZyhkZWZpbmVkKHRoYXQpKTtcbiAgICB2YXIgaSA9IHRvSW50ZWdlcihwb3MpO1xuICAgIHZhciBsID0gcy5sZW5ndGg7XG4gICAgdmFyIGEsIGI7XG4gICAgaWYgKGkgPCAwIHx8IGkgPj0gbCkgcmV0dXJuIFRPX1NUUklORyA/ICcnIDogdW5kZWZpbmVkO1xuICAgIGEgPSBzLmNoYXJDb2RlQXQoaSk7XG4gICAgcmV0dXJuIGEgPCAweGQ4MDAgfHwgYSA+IDB4ZGJmZiB8fCBpICsgMSA9PT0gbCB8fCAoYiA9IHMuY2hhckNvZGVBdChpICsgMSkpIDwgMHhkYzAwIHx8IGIgPiAweGRmZmZcbiAgICAgID8gVE9fU1RSSU5HID8gcy5jaGFyQXQoaSkgOiBhXG4gICAgICA6IFRPX1NUUklORyA/IHMuc2xpY2UoaSwgaSArIDIpIDogKGEgLSAweGQ4MDAgPDwgMTApICsgKGIgLSAweGRjMDApICsgMHgxMDAwMDtcbiAgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgJGF0ID0gcmVxdWlyZSgnLi9fc3RyaW5nLWF0JykodHJ1ZSk7XG5cbi8vIDIxLjEuMy4yNyBTdHJpbmcucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoU3RyaW5nLCAnU3RyaW5nJywgZnVuY3Rpb24gKGl0ZXJhdGVkKSB7XG4gIHRoaXMuX3QgPSBTdHJpbmcoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbi8vIDIxLjEuNS4yLjEgJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uICgpIHtcbiAgdmFyIE8gPSB0aGlzLl90O1xuICB2YXIgaW5kZXggPSB0aGlzLl9pO1xuICB2YXIgcG9pbnQ7XG4gIGlmIChpbmRleCA+PSBPLmxlbmd0aCkgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICBwb2ludCA9ICRhdChPLCBpbmRleCk7XG4gIHRoaXMuX2kgKz0gcG9pbnQubGVuZ3RoO1xuICByZXR1cm4geyB2YWx1ZTogcG9pbnQsIGRvbmU6IGZhbHNlIH07XG59KTtcbiIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX3drcy1leHQnKS5mKCdpdGVyYXRvcicpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvclwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3R5cGVvZjIgPSByZXF1aXJlKFwiLi4vaGVscGVycy90eXBlb2ZcIik7XG5cbnZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc2VsZiwgY2FsbCkge1xuICBpZiAoIXNlbGYpIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gY2FsbCAmJiAoKHR5cGVvZiBjYWxsID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShjYWxsKSkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcbn07IiwidmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbi8vIDE5LjEuMi40IC8gMTUuMi4zLjYgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFyZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpLCAnT2JqZWN0JywgeyBkZWZpbmVQcm9wZXJ0eTogcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZiB9KTtcbiIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHknKTtcbnZhciAkT2JqZWN0ID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYykge1xuICByZXR1cm4gJE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSgpOyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG4gIHJldHVybiBpdDtcbn07XG4iLCIvLyBtb3N0IE9iamVjdCBtZXRob2RzIGJ5IEVTNiBzaG91bGQgYWNjZXB0IHByaW1pdGl2ZXNcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4vX2ZhaWxzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChLRVksIGV4ZWMpIHtcbiAgdmFyIGZuID0gKGNvcmUuT2JqZWN0IHx8IHt9KVtLRVldIHx8IE9iamVjdFtLRVldO1xuICB2YXIgZXhwID0ge307XG4gIGV4cFtLRVldID0gZXhlYyhmbik7XG4gICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogZmFpbHMoZnVuY3Rpb24gKCkgeyBmbigxKTsgfSksICdPYmplY3QnLCBleHApO1xufTtcbiIsIi8vIDE5LjEuMi45IE9iamVjdC5nZXRQcm90b3R5cGVPZihPKVxudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG52YXIgJGdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpO1xuXG5yZXF1aXJlKCcuL19vYmplY3Qtc2FwJykoJ2dldFByb3RvdHlwZU9mJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZnVuY3Rpb24gZ2V0UHJvdG90eXBlT2YoaXQpIHtcbiAgICByZXR1cm4gJGdldFByb3RvdHlwZU9mKHRvT2JqZWN0KGl0KSk7XG4gIH07XG59KTtcbiIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2ZcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJpbXBvcnQgUmVhY3QsIHtQdXJlQ29tcG9uZW50fSBmcm9tICdyZWFjdCdcbi8vIGltcG9ydCB7blNRTH0gZnJvbSAnbmFuby1zcWwnXG5cbmNsYXNzIEFjY291bnRTdGF0dXMgZXh0ZW5kcyBQdXJlQ29tcG9uZW50IHtcbiAgc3RhdGljIHRhYmxlcyAoKSB7XG4gICAgcmV0dXJuIFsnYmFsYW5jZSddIC8vIGxpc3RlbiBmb3IgY2hhbmdlcyBvbiB0aGlzIHRhYmxlXG4gIH1cblxuICBzdGF0aWMgb25DaGFuZ2UgKGV2ZW50LCBjb21wbGV0ZSkge1xuICAgIGNvbnNvbGUubG9nKCdhY2NvdW50IHN0YXR1cyBjaGFuZ2VkIGV2ZW50JywgZXZlbnQpXG5cbiAgICBjb21wbGV0ZShuZXcgRGF0ZSgpLmdldFRpbWUoKSlcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICAgICAgICBBY2NvdW50IGJhbGFuY2Uge3RoaXMucHJvcHMublNRTGRhdGF9XG4gICAgPC9kaXY+XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQWNjb3VudFN0YXR1c1xuIiwiaW1wb3J0IHsgblNRTCB9IGZyb20gJ25hbm8tc3FsJ1xuXG4vLyBsZXQgY3VycmVudFVzZXIgPSAnYW50b24nXG5cbi8vIGluc2VydGluZyB0ZXN0IGRhdGEgZm9yIG5vd1xubGV0IGJhbGFuY2VUYWJsZSA9IG5TUUwoJ2JhbGFuY2UnKS5tb2RlbChbXG4gIHtrZXk6ICdpZCcsIHR5cGU6ICdpbnQnLCBwcm9wczogWydwaycsICdhaSddfSxcbiAge2tleTogJ3VzZXJJZCcsIHR5cGU6ICdzdHJpbmcnfSxcbiAge2tleTogJ2JhbGFuY2UnLCB0eXBlOiAnaW50J31cbl0pLmNvbmZpZyh7bW9kZTogJ1RFTVAnfSlcblxuYmFsYW5jZVRhYmxlLmNvbm5lY3QoKS50aGVuKChyZXMpID0+IHtcbiAgcmV0dXJuIG5TUUwoKS5xdWVyeSgndXBzZXJ0Jywge1xuICAgIHVzZXJJZDogJ2FudG9uJywgYmFsYW5jZTogMjBcbiAgfSkuZXhlYygpXG59KVxuXG5leHBvcnQge2RlZmF1bHQgYXMgQWNjb3VudFN0YXR1c30gZnJvbSAnLi9jb21wb25lbnRzL0FjY291bnRTdGF0dXMvQWNjb3VudFN0YXR1cydcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxudmFyIF9oeXBoZW5QYXR0ZXJuID0gLy0oLikvZztcblxuLyoqXG4gKiBDYW1lbGNhc2VzIGEgaHlwaGVuYXRlZCBzdHJpbmcsIGZvciBleGFtcGxlOlxuICpcbiAqICAgPiBjYW1lbGl6ZSgnYmFja2dyb3VuZC1jb2xvcicpXG4gKiAgIDwgXCJiYWNrZ3JvdW5kQ29sb3JcIlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gY2FtZWxpemUoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcucmVwbGFjZShfaHlwaGVuUGF0dGVybiwgZnVuY3Rpb24gKF8sIGNoYXJhY3Rlcikge1xuICAgIHJldHVybiBjaGFyYWN0ZXIudG9VcHBlckNhc2UoKTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY2FtZWxpemU7IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGNhbWVsaXplID0gcmVxdWlyZSgnLi9jYW1lbGl6ZScpO1xuXG52YXIgbXNQYXR0ZXJuID0gL14tbXMtLztcblxuLyoqXG4gKiBDYW1lbGNhc2VzIGEgaHlwaGVuYXRlZCBDU1MgcHJvcGVydHkgbmFtZSwgZm9yIGV4YW1wbGU6XG4gKlxuICogICA+IGNhbWVsaXplU3R5bGVOYW1lKCdiYWNrZ3JvdW5kLWNvbG9yJylcbiAqICAgPCBcImJhY2tncm91bmRDb2xvclwiXG4gKiAgID4gY2FtZWxpemVTdHlsZU5hbWUoJy1tb3otdHJhbnNpdGlvbicpXG4gKiAgIDwgXCJNb3pUcmFuc2l0aW9uXCJcbiAqICAgPiBjYW1lbGl6ZVN0eWxlTmFtZSgnLW1zLXRyYW5zaXRpb24nKVxuICogICA8IFwibXNUcmFuc2l0aW9uXCJcbiAqXG4gKiBBcyBBbmRpIFNtaXRoIHN1Z2dlc3RzXG4gKiAoaHR0cDovL3d3dy5hbmRpc21pdGguY29tL2Jsb2cvMjAxMi8wMi9tb2Rlcm5penItcHJlZml4ZWQvKSwgYW4gYC1tc2AgcHJlZml4XG4gKiBpcyBjb252ZXJ0ZWQgdG8gbG93ZXJjYXNlIGBtc2AuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZ1xuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBjYW1lbGl6ZVN0eWxlTmFtZShzdHJpbmcpIHtcbiAgcmV0dXJuIGNhbWVsaXplKHN0cmluZy5yZXBsYWNlKG1zUGF0dGVybiwgJ21zLScpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjYW1lbGl6ZVN0eWxlTmFtZTsiLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQHR5cGVjaGVja3NcbiAqL1xuXG52YXIgX3VwcGVyY2FzZVBhdHRlcm4gPSAvKFtBLVpdKS9nO1xuXG4vKipcbiAqIEh5cGhlbmF0ZXMgYSBjYW1lbGNhc2VkIHN0cmluZywgZm9yIGV4YW1wbGU6XG4gKlxuICogICA+IGh5cGhlbmF0ZSgnYmFja2dyb3VuZENvbG9yJylcbiAqICAgPCBcImJhY2tncm91bmQtY29sb3JcIlxuICpcbiAqIEZvciBDU1Mgc3R5bGUgbmFtZXMsIHVzZSBgaHlwaGVuYXRlU3R5bGVOYW1lYCBpbnN0ZWFkIHdoaWNoIHdvcmtzIHByb3Blcmx5XG4gKiB3aXRoIGFsbCB2ZW5kb3IgcHJlZml4ZXMsIGluY2x1ZGluZyBgbXNgLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gaHlwaGVuYXRlKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoX3VwcGVyY2FzZVBhdHRlcm4sICctJDEnKS50b0xvd2VyQ2FzZSgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGh5cGhlbmF0ZTsiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaHlwaGVuYXRlID0gcmVxdWlyZSgnLi9oeXBoZW5hdGUnKTtcblxudmFyIG1zUGF0dGVybiA9IC9ebXMtLztcblxuLyoqXG4gKiBIeXBoZW5hdGVzIGEgY2FtZWxjYXNlZCBDU1MgcHJvcGVydHkgbmFtZSwgZm9yIGV4YW1wbGU6XG4gKlxuICogICA+IGh5cGhlbmF0ZVN0eWxlTmFtZSgnYmFja2dyb3VuZENvbG9yJylcbiAqICAgPCBcImJhY2tncm91bmQtY29sb3JcIlxuICogICA+IGh5cGhlbmF0ZVN0eWxlTmFtZSgnTW96VHJhbnNpdGlvbicpXG4gKiAgIDwgXCItbW96LXRyYW5zaXRpb25cIlxuICogICA+IGh5cGhlbmF0ZVN0eWxlTmFtZSgnbXNUcmFuc2l0aW9uJylcbiAqICAgPCBcIi1tcy10cmFuc2l0aW9uXCJcbiAqXG4gKiBBcyBNb2Rlcm5penIgc3VnZ2VzdHMgKGh0dHA6Ly9tb2Rlcm5penIuY29tL2RvY3MvI3ByZWZpeGVkKSwgYW4gYG1zYCBwcmVmaXhcbiAqIGlzIGNvbnZlcnRlZCB0byBgLW1zLWAuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZ1xuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBoeXBoZW5hdGVTdHlsZU5hbWUoc3RyaW5nKSB7XG4gIHJldHVybiBoeXBoZW5hdGUoc3RyaW5nKS5yZXBsYWNlKG1zUGF0dGVybiwgJy1tcy0nKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBoeXBoZW5hdGVTdHlsZU5hbWU7IiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNoZWNrLlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIG9iamVjdCBpcyBhIERPTSBub2RlLlxuICovXG5mdW5jdGlvbiBpc05vZGUob2JqZWN0KSB7XG4gIHZhciBkb2MgPSBvYmplY3QgPyBvYmplY3Qub3duZXJEb2N1bWVudCB8fCBvYmplY3QgOiBkb2N1bWVudDtcbiAgdmFyIGRlZmF1bHRWaWV3ID0gZG9jLmRlZmF1bHRWaWV3IHx8IHdpbmRvdztcbiAgcmV0dXJuICEhKG9iamVjdCAmJiAodHlwZW9mIGRlZmF1bHRWaWV3Lk5vZGUgPT09ICdmdW5jdGlvbicgPyBvYmplY3QgaW5zdGFuY2VvZiBkZWZhdWx0Vmlldy5Ob2RlIDogdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG9iamVjdC5ub2RlVHlwZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIG9iamVjdC5ub2RlTmFtZSA9PT0gJ3N0cmluZycpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc05vZGU7IiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxudmFyIGlzTm9kZSA9IHJlcXVpcmUoJy4vaXNOb2RlJyk7XG5cbi8qKlxuICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIG9iamVjdCB0byBjaGVjay5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBvYmplY3QgaXMgYSBET00gdGV4dCBub2RlLlxuICovXG5mdW5jdGlvbiBpc1RleHROb2RlKG9iamVjdCkge1xuICByZXR1cm4gaXNOb2RlKG9iamVjdCkgJiYgb2JqZWN0Lm5vZGVUeXBlID09IDM7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNUZXh0Tm9kZTsiLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogXG4gKi9cblxudmFyIGlzVGV4dE5vZGUgPSByZXF1aXJlKCcuL2lzVGV4dE5vZGUnKTtcblxuLyplc2xpbnQtZGlzYWJsZSBuby1iaXR3aXNlICovXG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgZ2l2ZW4gRE9NIG5vZGUgY29udGFpbnMgb3IgaXMgYW5vdGhlciBET00gbm9kZS5cbiAqL1xuZnVuY3Rpb24gY29udGFpbnNOb2RlKG91dGVyTm9kZSwgaW5uZXJOb2RlKSB7XG4gIGlmICghb3V0ZXJOb2RlIHx8ICFpbm5lck5vZGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSBpZiAob3V0ZXJOb2RlID09PSBpbm5lck5vZGUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmIChpc1RleHROb2RlKG91dGVyTm9kZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSBpZiAoaXNUZXh0Tm9kZShpbm5lck5vZGUpKSB7XG4gICAgcmV0dXJuIGNvbnRhaW5zTm9kZShvdXRlck5vZGUsIGlubmVyTm9kZS5wYXJlbnROb2RlKTtcbiAgfSBlbHNlIGlmICgnY29udGFpbnMnIGluIG91dGVyTm9kZSkge1xuICAgIHJldHVybiBvdXRlck5vZGUuY29udGFpbnMoaW5uZXJOb2RlKTtcbiAgfSBlbHNlIGlmIChvdXRlck5vZGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24pIHtcbiAgICByZXR1cm4gISEob3V0ZXJOb2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGlubmVyTm9kZSkgJiAxNik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29udGFpbnNOb2RlOyIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQHR5cGVjaGVja3NcbiAqIFxuICovXG5cbi8qZXNsaW50LWRpc2FibGUgbm8tc2VsZi1jb21wYXJlICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBpbmxpbmVkIE9iamVjdC5pcyBwb2x5ZmlsbCB0byBhdm9pZCByZXF1aXJpbmcgY29uc3VtZXJzIHNoaXAgdGhlaXIgb3duXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXNcbiAqL1xuZnVuY3Rpb24gaXMoeCwgeSkge1xuICAvLyBTYW1lVmFsdWUgYWxnb3JpdGhtXG4gIGlmICh4ID09PSB5KSB7XG4gICAgLy8gU3RlcHMgMS01LCA3LTEwXG4gICAgLy8gU3RlcHMgNi5iLTYuZTogKzAgIT0gLTBcbiAgICAvLyBBZGRlZCB0aGUgbm9uemVybyB5IGNoZWNrIHRvIG1ha2UgRmxvdyBoYXBweSwgYnV0IGl0IGlzIHJlZHVuZGFudFxuICAgIHJldHVybiB4ICE9PSAwIHx8IHkgIT09IDAgfHwgMSAvIHggPT09IDEgLyB5O1xuICB9IGVsc2Uge1xuICAgIC8vIFN0ZXAgNi5hOiBOYU4gPT0gTmFOXG4gICAgcmV0dXJuIHggIT09IHggJiYgeSAhPT0geTtcbiAgfVxufVxuXG4vKipcbiAqIFBlcmZvcm1zIGVxdWFsaXR5IGJ5IGl0ZXJhdGluZyB0aHJvdWdoIGtleXMgb24gYW4gb2JqZWN0IGFuZCByZXR1cm5pbmcgZmFsc2VcbiAqIHdoZW4gYW55IGtleSBoYXMgdmFsdWVzIHdoaWNoIGFyZSBub3Qgc3RyaWN0bHkgZXF1YWwgYmV0d2VlbiB0aGUgYXJndW1lbnRzLlxuICogUmV0dXJucyB0cnVlIHdoZW4gdGhlIHZhbHVlcyBvZiBhbGwga2V5cyBhcmUgc3RyaWN0bHkgZXF1YWwuXG4gKi9cbmZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBLCBvYmpCKSB7XG4gIGlmIChpcyhvYmpBLCBvYmpCKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmpBICE9PSAnb2JqZWN0JyB8fCBvYmpBID09PSBudWxsIHx8IHR5cGVvZiBvYmpCICE9PSAnb2JqZWN0JyB8fCBvYmpCID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMob2JqQSk7XG4gIHZhciBrZXlzQiA9IE9iamVjdC5rZXlzKG9iakIpO1xuXG4gIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFRlc3QgZm9yIEEncyBrZXlzIGRpZmZlcmVudCBmcm9tIEIuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5c0EubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwob2JqQiwga2V5c0FbaV0pIHx8ICFpcyhvYmpBW2tleXNBW2ldXSwgb2JqQltrZXlzQVtpXV0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hhbGxvd0VxdWFsOyIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbi8qIGVzbGludC1kaXNhYmxlIGZiLXd3dy90eXBlb2YtdW5kZWZpbmVkICovXG5cbi8qKlxuICogU2FtZSBhcyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGJ1dCB3cmFwcyBpbiBhIHRyeS1jYXRjaCBibG9jay4gSW4gSUUgaXQgaXNcbiAqIG5vdCBzYWZlIHRvIGNhbGwgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpZiB0aGVyZSBpcyBub3RoaW5nIGZvY3VzZWQuXG4gKlxuICogVGhlIGFjdGl2ZUVsZW1lbnQgd2lsbCBiZSBudWxsIG9ubHkgaWYgdGhlIGRvY3VtZW50IG9yIGRvY3VtZW50IGJvZHkgaXMgbm90XG4gKiB5ZXQgZGVmaW5lZC5cbiAqXG4gKiBAcGFyYW0gez9ET01Eb2N1bWVudH0gZG9jIERlZmF1bHRzIHRvIGN1cnJlbnQgZG9jdW1lbnQuXG4gKiBAcmV0dXJuIHs/RE9NRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gZ2V0QWN0aXZlRWxlbWVudChkb2MpIC8qP0RPTUVsZW1lbnQqL3tcbiAgZG9jID0gZG9jIHx8ICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnID8gZG9jdW1lbnQgOiB1bmRlZmluZWQpO1xuICBpZiAodHlwZW9mIGRvYyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB0cnkge1xuICAgIHJldHVybiBkb2MuYWN0aXZlRWxlbWVudCB8fCBkb2MuYm9keTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBkb2MuYm9keTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldEFjdGl2ZUVsZW1lbnQ7IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgY2FuVXNlRE9NID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcblxuLyoqXG4gKiBTaW1wbGUsIGxpZ2h0d2VpZ2h0IG1vZHVsZSBhc3Npc3Rpbmcgd2l0aCB0aGUgZGV0ZWN0aW9uIGFuZCBjb250ZXh0IG9mXG4gKiBXb3JrZXIuIEhlbHBzIGF2b2lkIGNpcmN1bGFyIGRlcGVuZGVuY2llcyBhbmQgYWxsb3dzIGNvZGUgdG8gcmVhc29uIGFib3V0XG4gKiB3aGV0aGVyIG9yIG5vdCB0aGV5IGFyZSBpbiBhIFdvcmtlciwgZXZlbiBpZiB0aGV5IG5ldmVyIGluY2x1ZGUgdGhlIG1haW5cbiAqIGBSZWFjdFdvcmtlcmAgZGVwZW5kZW5jeS5cbiAqL1xudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0ge1xuXG4gIGNhblVzZURPTTogY2FuVXNlRE9NLFxuXG4gIGNhblVzZVdvcmtlcnM6IHR5cGVvZiBXb3JrZXIgIT09ICd1bmRlZmluZWQnLFxuXG4gIGNhblVzZUV2ZW50TGlzdGVuZXJzOiBjYW5Vc2VET00gJiYgISEod2luZG93LmFkZEV2ZW50TGlzdGVuZXIgfHwgd2luZG93LmF0dGFjaEV2ZW50KSxcblxuICBjYW5Vc2VWaWV3cG9ydDogY2FuVXNlRE9NICYmICEhd2luZG93LnNjcmVlbixcblxuICBpc0luV29ya2VyOiAhY2FuVXNlRE9NIC8vIEZvciBub3csIHRoaXMgaXMgdHJ1ZSAtIG1pZ2h0IGNoYW5nZSBpbiB0aGUgZnV0dXJlLlxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEV4ZWN1dGlvbkVudmlyb25tZW50OyIsIi8qKiBAbGljZW5zZSBSZWFjdCB2MTYuMy4xXG4gKiByZWFjdC1kb20uZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cblxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIChmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbnZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcbnZhciBfYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xudmFyIGVtcHR5RnVuY3Rpb24gPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eUZ1bmN0aW9uJyk7XG52YXIgY2hlY2tQcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzL2NoZWNrUHJvcFR5cGVzJyk7XG52YXIgZ2V0QWN0aXZlRWxlbWVudCA9IHJlcXVpcmUoJ2ZianMvbGliL2dldEFjdGl2ZUVsZW1lbnQnKTtcbnZhciBzaGFsbG93RXF1YWwgPSByZXF1aXJlKCdmYmpzL2xpYi9zaGFsbG93RXF1YWwnKTtcbnZhciBjb250YWluc05vZGUgPSByZXF1aXJlKCdmYmpzL2xpYi9jb250YWluc05vZGUnKTtcbnZhciBlbXB0eU9iamVjdCA9IHJlcXVpcmUoJ2ZianMvbGliL2VtcHR5T2JqZWN0Jyk7XG52YXIgaHlwaGVuYXRlU3R5bGVOYW1lID0gcmVxdWlyZSgnZmJqcy9saWIvaHlwaGVuYXRlU3R5bGVOYW1lJyk7XG52YXIgY2FtZWxpemVTdHlsZU5hbWUgPSByZXF1aXJlKCdmYmpzL2xpYi9jYW1lbGl6ZVN0eWxlTmFtZScpO1xuXG4vKipcbiAqIFdBUk5JTkc6IERPIE5PVCBtYW51YWxseSByZXF1aXJlIHRoaXMgbW9kdWxlLlxuICogVGhpcyBpcyBhIHJlcGxhY2VtZW50IGZvciBgaW52YXJpYW50KC4uLilgIHVzZWQgYnkgdGhlIGVycm9yIGNvZGUgc3lzdGVtXG4gKiBhbmQgd2lsbCBfb25seV8gYmUgcmVxdWlyZWQgYnkgdGhlIGNvcnJlc3BvbmRpbmcgYmFiZWwgcGFzcy5cbiAqIEl0IGFsd2F5cyB0aHJvd3MuXG4gKi9cblxuIVJlYWN0ID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RET00gd2FzIGxvYWRlZCBiZWZvcmUgUmVhY3QuIE1ha2Ugc3VyZSB5b3UgbG9hZCB0aGUgUmVhY3QgcGFja2FnZSBiZWZvcmUgbG9hZGluZyBSZWFjdERPTS4nKSA6IHZvaWQgMDtcblxudmFyIGludm9rZUd1YXJkZWRDYWxsYmFjayA9IGZ1bmN0aW9uIChuYW1lLCBmdW5jLCBjb250ZXh0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIHRoaXMuX2hhc0NhdWdodEVycm9yID0gZmFsc2U7XG4gIHRoaXMuX2NhdWdodEVycm9yID0gbnVsbDtcbiAgdmFyIGZ1bmNBcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAzKTtcbiAgdHJ5IHtcbiAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGZ1bmNBcmdzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aGlzLl9jYXVnaHRFcnJvciA9IGVycm9yO1xuICAgIHRoaXMuX2hhc0NhdWdodEVycm9yID0gdHJ1ZTtcbiAgfVxufTtcblxue1xuICAvLyBJbiBERVYgbW9kZSwgd2Ugc3dhcCBvdXQgaW52b2tlR3VhcmRlZENhbGxiYWNrIGZvciBhIHNwZWNpYWwgdmVyc2lvblxuICAvLyB0aGF0IHBsYXlzIG1vcmUgbmljZWx5IHdpdGggdGhlIGJyb3dzZXIncyBEZXZUb29scy4gVGhlIGlkZWEgaXMgdG8gcHJlc2VydmVcbiAgLy8gXCJQYXVzZSBvbiBleGNlcHRpb25zXCIgYmVoYXZpb3IuIEJlY2F1c2UgUmVhY3Qgd3JhcHMgYWxsIHVzZXItcHJvdmlkZWRcbiAgLy8gZnVuY3Rpb25zIGluIGludm9rZUd1YXJkZWRDYWxsYmFjaywgYW5kIHRoZSBwcm9kdWN0aW9uIHZlcnNpb24gb2ZcbiAgLy8gaW52b2tlR3VhcmRlZENhbGxiYWNrIHVzZXMgYSB0cnktY2F0Y2gsIGFsbCB1c2VyIGV4Y2VwdGlvbnMgYXJlIHRyZWF0ZWRcbiAgLy8gbGlrZSBjYXVnaHQgZXhjZXB0aW9ucywgYW5kIHRoZSBEZXZUb29scyB3b24ndCBwYXVzZSB1bmxlc3MgdGhlIGRldmVsb3BlclxuICAvLyB0YWtlcyB0aGUgZXh0cmEgc3RlcCBvZiBlbmFibGluZyBwYXVzZSBvbiBjYXVnaHQgZXhjZXB0aW9ucy4gVGhpcyBpc1xuICAvLyB1bnRpbnR1aXRpdmUsIHRob3VnaCwgYmVjYXVzZSBldmVuIHRob3VnaCBSZWFjdCBoYXMgY2F1Z2h0IHRoZSBlcnJvciwgZnJvbVxuICAvLyB0aGUgZGV2ZWxvcGVyJ3MgcGVyc3BlY3RpdmUsIHRoZSBlcnJvciBpcyB1bmNhdWdodC5cbiAgLy9cbiAgLy8gVG8gcHJlc2VydmUgdGhlIGV4cGVjdGVkIFwiUGF1c2Ugb24gZXhjZXB0aW9uc1wiIGJlaGF2aW9yLCB3ZSBkb24ndCB1c2UgYVxuICAvLyB0cnktY2F0Y2ggaW4gREVWLiBJbnN0ZWFkLCB3ZSBzeW5jaHJvbm91c2x5IGRpc3BhdGNoIGEgZmFrZSBldmVudCB0byBhIGZha2VcbiAgLy8gRE9NIG5vZGUsIGFuZCBjYWxsIHRoZSB1c2VyLXByb3ZpZGVkIGNhbGxiYWNrIGZyb20gaW5zaWRlIGFuIGV2ZW50IGhhbmRsZXJcbiAgLy8gZm9yIHRoYXQgZmFrZSBldmVudC4gSWYgdGhlIGNhbGxiYWNrIHRocm93cywgdGhlIGVycm9yIGlzIFwiY2FwdHVyZWRcIiB1c2luZ1xuICAvLyBhIGdsb2JhbCBldmVudCBoYW5kbGVyLiBCdXQgYmVjYXVzZSB0aGUgZXJyb3IgaGFwcGVucyBpbiBhIGRpZmZlcmVudFxuICAvLyBldmVudCBsb29wIGNvbnRleHQsIGl0IGRvZXMgbm90IGludGVycnVwdCB0aGUgbm9ybWFsIHByb2dyYW0gZmxvdy5cbiAgLy8gRWZmZWN0aXZlbHksIHRoaXMgZ2l2ZXMgdXMgdHJ5LWNhdGNoIGJlaGF2aW9yIHdpdGhvdXQgYWN0dWFsbHkgdXNpbmdcbiAgLy8gdHJ5LWNhdGNoLiBOZWF0IVxuXG4gIC8vIENoZWNrIHRoYXQgdGhlIGJyb3dzZXIgc3VwcG9ydHMgdGhlIEFQSXMgd2UgbmVlZCB0byBpbXBsZW1lbnQgb3VyIHNwZWNpYWxcbiAgLy8gREVWIHZlcnNpb24gb2YgaW52b2tlR3VhcmRlZENhbGxiYWNrXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRpc3BhdGNoRXZlbnQgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRXZlbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgZmFrZU5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdyZWFjdCcpO1xuXG4gICAgdmFyIGludm9rZUd1YXJkZWRDYWxsYmFja0RldiA9IGZ1bmN0aW9uIChuYW1lLCBmdW5jLCBjb250ZXh0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gICAgICAvLyBJZiBkb2N1bWVudCBkb2Vzbid0IGV4aXN0IHdlIGtub3cgZm9yIHN1cmUgd2Ugd2lsbCBjcmFzaCBpbiB0aGlzIG1ldGhvZFxuICAgICAgLy8gd2hlbiB3ZSBjYWxsIGRvY3VtZW50LmNyZWF0ZUV2ZW50KCkuIEhvd2V2ZXIgdGhpcyBjYW4gY2F1c2UgY29uZnVzaW5nXG4gICAgICAvLyBlcnJvcnM6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9va2luY3ViYXRvci9jcmVhdGUtcmVhY3QtYXBwL2lzc3Vlcy8zNDgyXG4gICAgICAvLyBTbyB3ZSBwcmVlbXB0aXZlbHkgdGhyb3cgd2l0aCBhIGJldHRlciBtZXNzYWdlIGluc3RlYWQuXG4gICAgICAhKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpID8gaW52YXJpYW50KGZhbHNlLCAnVGhlIGBkb2N1bWVudGAgZ2xvYmFsIHdhcyBkZWZpbmVkIHdoZW4gUmVhY3Qgd2FzIGluaXRpYWxpemVkLCBidXQgaXMgbm90IGRlZmluZWQgYW55bW9yZS4gVGhpcyBjYW4gaGFwcGVuIGluIGEgdGVzdCBlbnZpcm9ubWVudCBpZiBhIGNvbXBvbmVudCBzY2hlZHVsZXMgYW4gdXBkYXRlIGZyb20gYW4gYXN5bmNocm9ub3VzIGNhbGxiYWNrLCBidXQgdGhlIHRlc3QgaGFzIGFscmVhZHkgZmluaXNoZWQgcnVubmluZy4gVG8gc29sdmUgdGhpcywgeW91IGNhbiBlaXRoZXIgdW5tb3VudCB0aGUgY29tcG9uZW50IGF0IHRoZSBlbmQgb2YgeW91ciB0ZXN0IChhbmQgZW5zdXJlIHRoYXQgYW55IGFzeW5jaHJvbm91cyBvcGVyYXRpb25zIGdldCBjYW5jZWxlZCBpbiBgY29tcG9uZW50V2lsbFVubW91bnRgKSwgb3IgeW91IGNhbiBjaGFuZ2UgdGhlIHRlc3QgaXRzZWxmIHRvIGJlIGFzeW5jaHJvbm91cy4nKSA6IHZvaWQgMDtcbiAgICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcblxuICAgICAgLy8gS2VlcHMgdHJhY2sgb2Ygd2hldGhlciB0aGUgdXNlci1wcm92aWRlZCBjYWxsYmFjayB0aHJldyBhbiBlcnJvci4gV2VcbiAgICAgIC8vIHNldCB0aGlzIHRvIHRydWUgYXQgdGhlIGJlZ2lubmluZywgdGhlbiBzZXQgaXQgdG8gZmFsc2UgcmlnaHQgYWZ0ZXJcbiAgICAgIC8vIGNhbGxpbmcgdGhlIGZ1bmN0aW9uLiBJZiB0aGUgZnVuY3Rpb24gZXJyb3JzLCBgZGlkRXJyb3JgIHdpbGwgbmV2ZXIgYmVcbiAgICAgIC8vIHNldCB0byBmYWxzZS4gVGhpcyBzdHJhdGVneSB3b3JrcyBldmVuIGlmIHRoZSBicm93c2VyIGlzIGZsYWt5IGFuZFxuICAgICAgLy8gZmFpbHMgdG8gY2FsbCBvdXIgZ2xvYmFsIGVycm9yIGhhbmRsZXIsIGJlY2F1c2UgaXQgZG9lc24ndCByZWx5IG9uXG4gICAgICAvLyB0aGUgZXJyb3IgZXZlbnQgYXQgYWxsLlxuICAgICAgdmFyIGRpZEVycm9yID0gdHJ1ZTtcblxuICAgICAgLy8gQ3JlYXRlIGFuIGV2ZW50IGhhbmRsZXIgZm9yIG91ciBmYWtlIGV2ZW50LiBXZSB3aWxsIHN5bmNocm9ub3VzbHlcbiAgICAgIC8vIGRpc3BhdGNoIG91ciBmYWtlIGV2ZW50IHVzaW5nIGBkaXNwYXRjaEV2ZW50YC4gSW5zaWRlIHRoZSBoYW5kbGVyLCB3ZVxuICAgICAgLy8gY2FsbCB0aGUgdXNlci1wcm92aWRlZCBjYWxsYmFjay5cbiAgICAgIHZhciBmdW5jQXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMyk7XG4gICAgICBmdW5jdGlvbiBjYWxsQ2FsbGJhY2soKSB7XG4gICAgICAgIC8vIFdlIGltbWVkaWF0ZWx5IHJlbW92ZSB0aGUgY2FsbGJhY2sgZnJvbSBldmVudCBsaXN0ZW5lcnMgc28gdGhhdFxuICAgICAgICAvLyBuZXN0ZWQgYGludm9rZUd1YXJkZWRDYWxsYmFja2AgY2FsbHMgZG8gbm90IGNsYXNoLiBPdGhlcndpc2UsIGFcbiAgICAgICAgLy8gbmVzdGVkIGNhbGwgd291bGQgdHJpZ2dlciB0aGUgZmFrZSBldmVudCBoYW5kbGVycyBvZiBhbnkgY2FsbCBoaWdoZXJcbiAgICAgICAgLy8gaW4gdGhlIHN0YWNrLlxuICAgICAgICBmYWtlTm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2dFR5cGUsIGNhbGxDYWxsYmFjaywgZmFsc2UpO1xuICAgICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGZ1bmNBcmdzKTtcbiAgICAgICAgZGlkRXJyb3IgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlIGEgZ2xvYmFsIGVycm9yIGV2ZW50IGhhbmRsZXIuIFdlIHVzZSB0aGlzIHRvIGNhcHR1cmUgdGhlIHZhbHVlXG4gICAgICAvLyB0aGF0IHdhcyB0aHJvd24uIEl0J3MgcG9zc2libGUgdGhhdCB0aGlzIGVycm9yIGhhbmRsZXIgd2lsbCBmaXJlIG1vcmVcbiAgICAgIC8vIHRoYW4gb25jZTsgZm9yIGV4YW1wbGUsIGlmIG5vbi1SZWFjdCBjb2RlIGFsc28gY2FsbHMgYGRpc3BhdGNoRXZlbnRgXG4gICAgICAvLyBhbmQgYSBoYW5kbGVyIGZvciB0aGF0IGV2ZW50IHRocm93cy4gV2Ugc2hvdWxkIGJlIHJlc2lsaWVudCB0byBtb3N0IG9mXG4gICAgICAvLyB0aG9zZSBjYXNlcy4gRXZlbiBpZiBvdXIgZXJyb3IgZXZlbnQgaGFuZGxlciBmaXJlcyBtb3JlIHRoYW4gb25jZSwgdGhlXG4gICAgICAvLyBsYXN0IGVycm9yIGV2ZW50IGlzIGFsd2F5cyB1c2VkLiBJZiB0aGUgY2FsbGJhY2sgYWN0dWFsbHkgZG9lcyBlcnJvcixcbiAgICAgIC8vIHdlIGtub3cgdGhhdCB0aGUgbGFzdCBlcnJvciBldmVudCBpcyB0aGUgY29ycmVjdCBvbmUsIGJlY2F1c2UgaXQncyBub3RcbiAgICAgIC8vIHBvc3NpYmxlIGZvciBhbnl0aGluZyBlbHNlIHRvIGhhdmUgaGFwcGVuZWQgaW4gYmV0d2VlbiBvdXIgY2FsbGJhY2tcbiAgICAgIC8vIGVycm9yaW5nIGFuZCB0aGUgY29kZSB0aGF0IGZvbGxvd3MgdGhlIGBkaXNwYXRjaEV2ZW50YCBjYWxsIGJlbG93LiBJZlxuICAgICAgLy8gdGhlIGNhbGxiYWNrIGRvZXNuJ3QgZXJyb3IsIGJ1dCB0aGUgZXJyb3IgZXZlbnQgd2FzIGZpcmVkLCB3ZSBrbm93IHRvXG4gICAgICAvLyBpZ25vcmUgaXQgYmVjYXVzZSBgZGlkRXJyb3JgIHdpbGwgYmUgZmFsc2UsIGFzIGRlc2NyaWJlZCBhYm92ZS5cbiAgICAgIHZhciBlcnJvciA9IHZvaWQgMDtcbiAgICAgIC8vIFVzZSB0aGlzIHRvIHRyYWNrIHdoZXRoZXIgdGhlIGVycm9yIGV2ZW50IGlzIGV2ZXIgY2FsbGVkLlxuICAgICAgdmFyIGRpZFNldEVycm9yID0gZmFsc2U7XG4gICAgICB2YXIgaXNDcm9zc09yaWdpbkVycm9yID0gZmFsc2U7XG5cbiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXZlbnQpIHtcbiAgICAgICAgZXJyb3IgPSBldmVudC5lcnJvcjtcbiAgICAgICAgZGlkU2V0RXJyb3IgPSB0cnVlO1xuICAgICAgICBpZiAoZXJyb3IgPT09IG51bGwgJiYgZXZlbnQuY29sbm8gPT09IDAgJiYgZXZlbnQubGluZW5vID09PSAwKSB7XG4gICAgICAgICAgaXNDcm9zc09yaWdpbkVycm9yID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgYSBmYWtlIGV2ZW50IHR5cGUuXG4gICAgICB2YXIgZXZ0VHlwZSA9ICdyZWFjdC0nICsgKG5hbWUgPyBuYW1lIDogJ2ludm9rZWd1YXJkZWRjYWxsYmFjaycpO1xuXG4gICAgICAvLyBBdHRhY2ggb3VyIGV2ZW50IGhhbmRsZXJzXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBvbkVycm9yKTtcbiAgICAgIGZha2VOb2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZ0VHlwZSwgY2FsbENhbGxiYWNrLCBmYWxzZSk7XG5cbiAgICAgIC8vIFN5bmNocm9ub3VzbHkgZGlzcGF0Y2ggb3VyIGZha2UgZXZlbnQuIElmIHRoZSB1c2VyLXByb3ZpZGVkIGZ1bmN0aW9uXG4gICAgICAvLyBlcnJvcnMsIGl0IHdpbGwgdHJpZ2dlciBvdXIgZ2xvYmFsIGVycm9yIGhhbmRsZXIuXG4gICAgICBldnQuaW5pdEV2ZW50KGV2dFR5cGUsIGZhbHNlLCBmYWxzZSk7XG4gICAgICBmYWtlTm9kZS5kaXNwYXRjaEV2ZW50KGV2dCk7XG5cbiAgICAgIGlmIChkaWRFcnJvcikge1xuICAgICAgICBpZiAoIWRpZFNldEVycm9yKSB7XG4gICAgICAgICAgLy8gVGhlIGNhbGxiYWNrIGVycm9yZWQsIGJ1dCB0aGUgZXJyb3IgZXZlbnQgbmV2ZXIgZmlyZWQuXG4gICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ0FuIGVycm9yIHdhcyB0aHJvd24gaW5zaWRlIG9uZSBvZiB5b3VyIGNvbXBvbmVudHMsIGJ1dCBSZWFjdCAnICsgXCJkb2Vzbid0IGtub3cgd2hhdCBpdCB3YXMuIFRoaXMgaXMgbGlrZWx5IGR1ZSB0byBicm93c2VyIFwiICsgJ2ZsYWtpbmVzcy4gUmVhY3QgZG9lcyBpdHMgYmVzdCB0byBwcmVzZXJ2ZSB0aGUgXCJQYXVzZSBvbiAnICsgJ2V4Y2VwdGlvbnNcIiBiZWhhdmlvciBvZiB0aGUgRGV2VG9vbHMsIHdoaWNoIHJlcXVpcmVzIHNvbWUgJyArIFwiREVWLW1vZGUgb25seSB0cmlja3MuIEl0J3MgcG9zc2libGUgdGhhdCB0aGVzZSBkb24ndCB3b3JrIGluIFwiICsgJ3lvdXIgYnJvd3Nlci4gVHJ5IHRyaWdnZXJpbmcgdGhlIGVycm9yIGluIHByb2R1Y3Rpb24gbW9kZSwgJyArICdvciBzd2l0Y2hpbmcgdG8gYSBtb2Rlcm4gYnJvd3Nlci4gSWYgeW91IHN1c3BlY3QgdGhhdCB0aGlzIGlzICcgKyAnYWN0dWFsbHkgYW4gaXNzdWUgd2l0aCBSZWFjdCwgcGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNDcm9zc09yaWdpbkVycm9yKSB7XG4gICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXCJBIGNyb3NzLW9yaWdpbiBlcnJvciB3YXMgdGhyb3duLiBSZWFjdCBkb2Vzbid0IGhhdmUgYWNjZXNzIHRvIFwiICsgJ3RoZSBhY3R1YWwgZXJyb3Igb2JqZWN0IGluIGRldmVsb3BtZW50LiAnICsgJ1NlZSBodHRwczovL2ZiLm1lL3JlYWN0LWNyb3Nzb3JpZ2luLWVycm9yIGZvciBtb3JlIGluZm9ybWF0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2hhc0NhdWdodEVycm9yID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fY2F1Z2h0RXJyb3IgPSBlcnJvcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2hhc0NhdWdodEVycm9yID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NhdWdodEVycm9yID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIG91ciBldmVudCBsaXN0ZW5lcnNcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIG9uRXJyb3IpO1xuICAgIH07XG5cbiAgICBpbnZva2VHdWFyZGVkQ2FsbGJhY2sgPSBpbnZva2VHdWFyZGVkQ2FsbGJhY2tEZXY7XG4gIH1cbn1cblxudmFyIGludm9rZUd1YXJkZWRDYWxsYmFjayQxID0gaW52b2tlR3VhcmRlZENhbGxiYWNrO1xuXG52YXIgUmVhY3RFcnJvclV0aWxzID0ge1xuICAvLyBVc2VkIGJ5IEZpYmVyIHRvIHNpbXVsYXRlIGEgdHJ5LWNhdGNoLlxuICBfY2F1Z2h0RXJyb3I6IG51bGwsXG4gIF9oYXNDYXVnaHRFcnJvcjogZmFsc2UsXG5cbiAgLy8gVXNlZCBieSBldmVudCBzeXN0ZW0gdG8gY2FwdHVyZS9yZXRocm93IHRoZSBmaXJzdCBlcnJvci5cbiAgX3JldGhyb3dFcnJvcjogbnVsbCxcbiAgX2hhc1JldGhyb3dFcnJvcjogZmFsc2UsXG5cbiAgLyoqXG4gICAqIENhbGwgYSBmdW5jdGlvbiB3aGlsZSBndWFyZGluZyBhZ2FpbnN0IGVycm9ycyB0aGF0IGhhcHBlbnMgd2l0aGluIGl0LlxuICAgKiBSZXR1cm5zIGFuIGVycm9yIGlmIGl0IHRocm93cywgb3RoZXJ3aXNlIG51bGwuXG4gICAqXG4gICAqIEluIHByb2R1Y3Rpb24sIHRoaXMgaXMgaW1wbGVtZW50ZWQgdXNpbmcgYSB0cnktY2F0Y2guIFRoZSByZWFzb24gd2UgZG9uJ3RcbiAgICogdXNlIGEgdHJ5LWNhdGNoIGRpcmVjdGx5IGlzIHNvIHRoYXQgd2UgY2FuIHN3YXAgb3V0IGEgZGlmZmVyZW50XG4gICAqIGltcGxlbWVudGF0aW9uIGluIERFViBtb2RlLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBvZiB0aGUgZ3VhcmQgdG8gdXNlIGZvciBsb2dnaW5nIG9yIGRlYnVnZ2luZ1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2VcbiAgICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIHVzZSB3aGVuIGNhbGxpbmcgdGhlIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJncyBBcmd1bWVudHMgZm9yIGZ1bmN0aW9uXG4gICAqL1xuICBpbnZva2VHdWFyZGVkQ2FsbGJhY2s6IGZ1bmN0aW9uIChuYW1lLCBmdW5jLCBjb250ZXh0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gICAgaW52b2tlR3VhcmRlZENhbGxiYWNrJDEuYXBwbHkoUmVhY3RFcnJvclV0aWxzLCBhcmd1bWVudHMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTYW1lIGFzIGludm9rZUd1YXJkZWRDYWxsYmFjaywgYnV0IGluc3RlYWQgb2YgcmV0dXJuaW5nIGFuIGVycm9yLCBpdCBzdG9yZXNcbiAgICogaXQgaW4gYSBnbG9iYWwgc28gaXQgY2FuIGJlIHJldGhyb3duIGJ5IGByZXRocm93Q2F1Z2h0RXJyb3JgIGxhdGVyLlxuICAgKiBUT0RPOiBTZWUgaWYgX2NhdWdodEVycm9yIGFuZCBfcmV0aHJvd0Vycm9yIGNhbiBiZSB1bmlmaWVkLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBvZiB0aGUgZ3VhcmQgdG8gdXNlIGZvciBsb2dnaW5nIG9yIGRlYnVnZ2luZ1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2VcbiAgICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIHVzZSB3aGVuIGNhbGxpbmcgdGhlIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJncyBBcmd1bWVudHMgZm9yIGZ1bmN0aW9uXG4gICAqL1xuICBpbnZva2VHdWFyZGVkQ2FsbGJhY2tBbmRDYXRjaEZpcnN0RXJyb3I6IGZ1bmN0aW9uIChuYW1lLCBmdW5jLCBjb250ZXh0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gICAgUmVhY3RFcnJvclV0aWxzLmludm9rZUd1YXJkZWRDYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChSZWFjdEVycm9yVXRpbHMuaGFzQ2F1Z2h0RXJyb3IoKSkge1xuICAgICAgdmFyIGVycm9yID0gUmVhY3RFcnJvclV0aWxzLmNsZWFyQ2F1Z2h0RXJyb3IoKTtcbiAgICAgIGlmICghUmVhY3RFcnJvclV0aWxzLl9oYXNSZXRocm93RXJyb3IpIHtcbiAgICAgICAgUmVhY3RFcnJvclV0aWxzLl9oYXNSZXRocm93RXJyb3IgPSB0cnVlO1xuICAgICAgICBSZWFjdEVycm9yVXRpbHMuX3JldGhyb3dFcnJvciA9IGVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogRHVyaW5nIGV4ZWN1dGlvbiBvZiBndWFyZGVkIGZ1bmN0aW9ucyB3ZSB3aWxsIGNhcHR1cmUgdGhlIGZpcnN0IGVycm9yIHdoaWNoXG4gICAqIHdlIHdpbGwgcmV0aHJvdyB0byBiZSBoYW5kbGVkIGJ5IHRoZSB0b3AgbGV2ZWwgZXJyb3IgaGFuZGxlci5cbiAgICovXG4gIHJldGhyb3dDYXVnaHRFcnJvcjogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiByZXRocm93Q2F1Z2h0RXJyb3IuYXBwbHkoUmVhY3RFcnJvclV0aWxzLCBhcmd1bWVudHMpO1xuICB9LFxuXG4gIGhhc0NhdWdodEVycm9yOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFJlYWN0RXJyb3JVdGlscy5faGFzQ2F1Z2h0RXJyb3I7XG4gIH0sXG5cbiAgY2xlYXJDYXVnaHRFcnJvcjogZnVuY3Rpb24gKCkge1xuICAgIGlmIChSZWFjdEVycm9yVXRpbHMuX2hhc0NhdWdodEVycm9yKSB7XG4gICAgICB2YXIgZXJyb3IgPSBSZWFjdEVycm9yVXRpbHMuX2NhdWdodEVycm9yO1xuICAgICAgUmVhY3RFcnJvclV0aWxzLl9jYXVnaHRFcnJvciA9IG51bGw7XG4gICAgICBSZWFjdEVycm9yVXRpbHMuX2hhc0NhdWdodEVycm9yID0gZmFsc2U7XG4gICAgICByZXR1cm4gZXJyb3I7XG4gICAgfSBlbHNlIHtcbiAgICAgIGludmFyaWFudChmYWxzZSwgJ2NsZWFyQ2F1Z2h0RXJyb3Igd2FzIGNhbGxlZCBidXQgbm8gZXJyb3Igd2FzIGNhcHR1cmVkLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgIH1cbiAgfVxufTtcblxudmFyIHJldGhyb3dDYXVnaHRFcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKFJlYWN0RXJyb3JVdGlscy5faGFzUmV0aHJvd0Vycm9yKSB7XG4gICAgdmFyIGVycm9yID0gUmVhY3RFcnJvclV0aWxzLl9yZXRocm93RXJyb3I7XG4gICAgUmVhY3RFcnJvclV0aWxzLl9yZXRocm93RXJyb3IgPSBudWxsO1xuICAgIFJlYWN0RXJyb3JVdGlscy5faGFzUmV0aHJvd0Vycm9yID0gZmFsc2U7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8qKlxuICogSW5qZWN0YWJsZSBvcmRlcmluZyBvZiBldmVudCBwbHVnaW5zLlxuICovXG52YXIgZXZlbnRQbHVnaW5PcmRlciA9IG51bGw7XG5cbi8qKlxuICogSW5qZWN0YWJsZSBtYXBwaW5nIGZyb20gbmFtZXMgdG8gZXZlbnQgcGx1Z2luIG1vZHVsZXMuXG4gKi9cbnZhciBuYW1lc1RvUGx1Z2lucyA9IHt9O1xuXG4vKipcbiAqIFJlY29tcHV0ZXMgdGhlIHBsdWdpbiBsaXN0IHVzaW5nIHRoZSBpbmplY3RlZCBwbHVnaW5zIGFuZCBwbHVnaW4gb3JkZXJpbmcuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcmVjb21wdXRlUGx1Z2luT3JkZXJpbmcoKSB7XG4gIGlmICghZXZlbnRQbHVnaW5PcmRlcikge1xuICAgIC8vIFdhaXQgdW50aWwgYW4gYGV2ZW50UGx1Z2luT3JkZXJgIGlzIGluamVjdGVkLlxuICAgIHJldHVybjtcbiAgfVxuICBmb3IgKHZhciBwbHVnaW5OYW1lIGluIG5hbWVzVG9QbHVnaW5zKSB7XG4gICAgdmFyIHBsdWdpbk1vZHVsZSA9IG5hbWVzVG9QbHVnaW5zW3BsdWdpbk5hbWVdO1xuICAgIHZhciBwbHVnaW5JbmRleCA9IGV2ZW50UGx1Z2luT3JkZXIuaW5kZXhPZihwbHVnaW5OYW1lKTtcbiAgICAhKHBsdWdpbkluZGV4ID4gLTEpID8gaW52YXJpYW50KGZhbHNlLCAnRXZlbnRQbHVnaW5SZWdpc3RyeTogQ2Fubm90IGluamVjdCBldmVudCBwbHVnaW5zIHRoYXQgZG8gbm90IGV4aXN0IGluIHRoZSBwbHVnaW4gb3JkZXJpbmcsIGAlc2AuJywgcGx1Z2luTmFtZSkgOiB2b2lkIDA7XG4gICAgaWYgKHBsdWdpbnNbcGx1Z2luSW5kZXhdKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgIXBsdWdpbk1vZHVsZS5leHRyYWN0RXZlbnRzID8gaW52YXJpYW50KGZhbHNlLCAnRXZlbnRQbHVnaW5SZWdpc3RyeTogRXZlbnQgcGx1Z2lucyBtdXN0IGltcGxlbWVudCBhbiBgZXh0cmFjdEV2ZW50c2AgbWV0aG9kLCBidXQgYCVzYCBkb2VzIG5vdC4nLCBwbHVnaW5OYW1lKSA6IHZvaWQgMDtcbiAgICBwbHVnaW5zW3BsdWdpbkluZGV4XSA9IHBsdWdpbk1vZHVsZTtcbiAgICB2YXIgcHVibGlzaGVkRXZlbnRzID0gcGx1Z2luTW9kdWxlLmV2ZW50VHlwZXM7XG4gICAgZm9yICh2YXIgZXZlbnROYW1lIGluIHB1Ymxpc2hlZEV2ZW50cykge1xuICAgICAgIXB1Ymxpc2hFdmVudEZvclBsdWdpbihwdWJsaXNoZWRFdmVudHNbZXZlbnROYW1lXSwgcGx1Z2luTW9kdWxlLCBldmVudE5hbWUpID8gaW52YXJpYW50KGZhbHNlLCAnRXZlbnRQbHVnaW5SZWdpc3RyeTogRmFpbGVkIHRvIHB1Ymxpc2ggZXZlbnQgYCVzYCBmb3IgcGx1Z2luIGAlc2AuJywgZXZlbnROYW1lLCBwbHVnaW5OYW1lKSA6IHZvaWQgMDtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBQdWJsaXNoZXMgYW4gZXZlbnQgc28gdGhhdCBpdCBjYW4gYmUgZGlzcGF0Y2hlZCBieSB0aGUgc3VwcGxpZWQgcGx1Z2luLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBkaXNwYXRjaENvbmZpZyBEaXNwYXRjaCBjb25maWd1cmF0aW9uIGZvciB0aGUgZXZlbnQuXG4gKiBAcGFyYW0ge29iamVjdH0gUGx1Z2luTW9kdWxlIFBsdWdpbiBwdWJsaXNoaW5nIHRoZSBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IHdhcyBzdWNjZXNzZnVsbHkgcHVibGlzaGVkLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcHVibGlzaEV2ZW50Rm9yUGx1Z2luKGRpc3BhdGNoQ29uZmlnLCBwbHVnaW5Nb2R1bGUsIGV2ZW50TmFtZSkge1xuICAhIWV2ZW50TmFtZURpc3BhdGNoQ29uZmlncy5oYXNPd25Qcm9wZXJ0eShldmVudE5hbWUpID8gaW52YXJpYW50KGZhbHNlLCAnRXZlbnRQbHVnaW5IdWI6IE1vcmUgdGhhbiBvbmUgcGx1Z2luIGF0dGVtcHRlZCB0byBwdWJsaXNoIHRoZSBzYW1lIGV2ZW50IG5hbWUsIGAlc2AuJywgZXZlbnROYW1lKSA6IHZvaWQgMDtcbiAgZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzW2V2ZW50TmFtZV0gPSBkaXNwYXRjaENvbmZpZztcblxuICB2YXIgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMgPSBkaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lcztcbiAgaWYgKHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzKSB7XG4gICAgZm9yICh2YXIgcGhhc2VOYW1lIGluIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzKSB7XG4gICAgICBpZiAocGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMuaGFzT3duUHJvcGVydHkocGhhc2VOYW1lKSkge1xuICAgICAgICB2YXIgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZSA9IHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzW3BoYXNlTmFtZV07XG4gICAgICAgIHB1Ymxpc2hSZWdpc3RyYXRpb25OYW1lKHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWUsIHBsdWdpbk1vZHVsZSwgZXZlbnROYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSkge1xuICAgIHB1Ymxpc2hSZWdpc3RyYXRpb25OYW1lKGRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUsIHBsdWdpbk1vZHVsZSwgZXZlbnROYW1lKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogUHVibGlzaGVzIGEgcmVnaXN0cmF0aW9uIG5hbWUgdGhhdCBpcyB1c2VkIHRvIGlkZW50aWZ5IGRpc3BhdGNoZWQgZXZlbnRzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWdpc3RyYXRpb25OYW1lIFJlZ2lzdHJhdGlvbiBuYW1lIHRvIGFkZC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBQbHVnaW5Nb2R1bGUgUGx1Z2luIHB1Ymxpc2hpbmcgdGhlIGV2ZW50LlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcHVibGlzaFJlZ2lzdHJhdGlvbk5hbWUocmVnaXN0cmF0aW9uTmFtZSwgcGx1Z2luTW9kdWxlLCBldmVudE5hbWUpIHtcbiAgISFyZWdpc3RyYXRpb25OYW1lTW9kdWxlc1tyZWdpc3RyYXRpb25OYW1lXSA/IGludmFyaWFudChmYWxzZSwgJ0V2ZW50UGx1Z2luSHViOiBNb3JlIHRoYW4gb25lIHBsdWdpbiBhdHRlbXB0ZWQgdG8gcHVibGlzaCB0aGUgc2FtZSByZWdpc3RyYXRpb24gbmFtZSwgYCVzYC4nLCByZWdpc3RyYXRpb25OYW1lKSA6IHZvaWQgMDtcbiAgcmVnaXN0cmF0aW9uTmFtZU1vZHVsZXNbcmVnaXN0cmF0aW9uTmFtZV0gPSBwbHVnaW5Nb2R1bGU7XG4gIHJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXNbcmVnaXN0cmF0aW9uTmFtZV0gPSBwbHVnaW5Nb2R1bGUuZXZlbnRUeXBlc1tldmVudE5hbWVdLmRlcGVuZGVuY2llcztcblxuICB7XG4gICAgdmFyIGxvd2VyQ2FzZWROYW1lID0gcmVnaXN0cmF0aW9uTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXNbbG93ZXJDYXNlZE5hbWVdID0gcmVnaXN0cmF0aW9uTmFtZTtcblxuICAgIGlmIChyZWdpc3RyYXRpb25OYW1lID09PSAnb25Eb3VibGVDbGljaycpIHtcbiAgICAgIHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXMub25kYmxjbGljayA9IHJlZ2lzdHJhdGlvbk5hbWU7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIHBsdWdpbnMgc28gdGhhdCB0aGV5IGNhbiBleHRyYWN0IGFuZCBkaXNwYXRjaCBldmVudHMuXG4gKlxuICogQHNlZSB7RXZlbnRQbHVnaW5IdWJ9XG4gKi9cblxuLyoqXG4gKiBPcmRlcmVkIGxpc3Qgb2YgaW5qZWN0ZWQgcGx1Z2lucy5cbiAqL1xudmFyIHBsdWdpbnMgPSBbXTtcblxuLyoqXG4gKiBNYXBwaW5nIGZyb20gZXZlbnQgbmFtZSB0byBkaXNwYXRjaCBjb25maWdcbiAqL1xudmFyIGV2ZW50TmFtZURpc3BhdGNoQ29uZmlncyA9IHt9O1xuXG4vKipcbiAqIE1hcHBpbmcgZnJvbSByZWdpc3RyYXRpb24gbmFtZSB0byBwbHVnaW4gbW9kdWxlXG4gKi9cbnZhciByZWdpc3RyYXRpb25OYW1lTW9kdWxlcyA9IHt9O1xuXG4vKipcbiAqIE1hcHBpbmcgZnJvbSByZWdpc3RyYXRpb24gbmFtZSB0byBldmVudCBuYW1lXG4gKi9cbnZhciByZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzID0ge307XG5cbi8qKlxuICogTWFwcGluZyBmcm9tIGxvd2VyY2FzZSByZWdpc3RyYXRpb24gbmFtZXMgdG8gdGhlIHByb3Blcmx5IGNhc2VkIHZlcnNpb24sXG4gKiB1c2VkIHRvIHdhcm4gaW4gdGhlIGNhc2Ugb2YgbWlzc2luZyBldmVudCBoYW5kbGVycy4gQXZhaWxhYmxlXG4gKiBvbmx5IGluIHRydWUuXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgcG9zc2libGVSZWdpc3RyYXRpb25OYW1lcyA9IHt9O1xuLy8gVHJ1c3QgdGhlIGRldmVsb3BlciB0byBvbmx5IHVzZSBwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzIGluIHRydWVcblxuLyoqXG4gKiBJbmplY3RzIGFuIG9yZGVyaW5nIG9mIHBsdWdpbnMgKGJ5IHBsdWdpbiBuYW1lKS4gVGhpcyBhbGxvd3MgdGhlIG9yZGVyaW5nXG4gKiB0byBiZSBkZWNvdXBsZWQgZnJvbSBpbmplY3Rpb24gb2YgdGhlIGFjdHVhbCBwbHVnaW5zIHNvIHRoYXQgb3JkZXJpbmcgaXNcbiAqIGFsd2F5cyBkZXRlcm1pbmlzdGljIHJlZ2FyZGxlc3Mgb2YgcGFja2FnaW5nLCBvbi10aGUtZmx5IGluamVjdGlvbiwgZXRjLlxuICpcbiAqIEBwYXJhbSB7YXJyYXl9IEluamVjdGVkRXZlbnRQbHVnaW5PcmRlclxuICogQGludGVybmFsXG4gKiBAc2VlIHtFdmVudFBsdWdpbkh1Yi5pbmplY3Rpb24uaW5qZWN0RXZlbnRQbHVnaW5PcmRlcn1cbiAqL1xuZnVuY3Rpb24gaW5qZWN0RXZlbnRQbHVnaW5PcmRlcihpbmplY3RlZEV2ZW50UGx1Z2luT3JkZXIpIHtcbiAgISFldmVudFBsdWdpbk9yZGVyID8gaW52YXJpYW50KGZhbHNlLCAnRXZlbnRQbHVnaW5SZWdpc3RyeTogQ2Fubm90IGluamVjdCBldmVudCBwbHVnaW4gb3JkZXJpbmcgbW9yZSB0aGFuIG9uY2UuIFlvdSBhcmUgbGlrZWx5IHRyeWluZyB0byBsb2FkIG1vcmUgdGhhbiBvbmUgY29weSBvZiBSZWFjdC4nKSA6IHZvaWQgMDtcbiAgLy8gQ2xvbmUgdGhlIG9yZGVyaW5nIHNvIGl0IGNhbm5vdCBiZSBkeW5hbWljYWxseSBtdXRhdGVkLlxuICBldmVudFBsdWdpbk9yZGVyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaW5qZWN0ZWRFdmVudFBsdWdpbk9yZGVyKTtcbiAgcmVjb21wdXRlUGx1Z2luT3JkZXJpbmcoKTtcbn1cblxuLyoqXG4gKiBJbmplY3RzIHBsdWdpbnMgdG8gYmUgdXNlZCBieSBgRXZlbnRQbHVnaW5IdWJgLiBUaGUgcGx1Z2luIG5hbWVzIG11c3QgYmVcbiAqIGluIHRoZSBvcmRlcmluZyBpbmplY3RlZCBieSBgaW5qZWN0RXZlbnRQbHVnaW5PcmRlcmAuXG4gKlxuICogUGx1Z2lucyBjYW4gYmUgaW5qZWN0ZWQgYXMgcGFydCBvZiBwYWdlIGluaXRpYWxpemF0aW9uIG9yIG9uLXRoZS1mbHkuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGluamVjdGVkTmFtZXNUb1BsdWdpbnMgTWFwIGZyb20gbmFtZXMgdG8gcGx1Z2luIG1vZHVsZXMuXG4gKiBAaW50ZXJuYWxcbiAqIEBzZWUge0V2ZW50UGx1Z2luSHViLmluamVjdGlvbi5pbmplY3RFdmVudFBsdWdpbnNCeU5hbWV9XG4gKi9cbmZ1bmN0aW9uIGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZShpbmplY3RlZE5hbWVzVG9QbHVnaW5zKSB7XG4gIHZhciBpc09yZGVyaW5nRGlydHkgPSBmYWxzZTtcbiAgZm9yICh2YXIgcGx1Z2luTmFtZSBpbiBpbmplY3RlZE5hbWVzVG9QbHVnaW5zKSB7XG4gICAgaWYgKCFpbmplY3RlZE5hbWVzVG9QbHVnaW5zLmhhc093blByb3BlcnR5KHBsdWdpbk5hbWUpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdmFyIHBsdWdpbk1vZHVsZSA9IGluamVjdGVkTmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV07XG4gICAgaWYgKCFuYW1lc1RvUGx1Z2lucy5oYXNPd25Qcm9wZXJ0eShwbHVnaW5OYW1lKSB8fCBuYW1lc1RvUGx1Z2luc1twbHVnaW5OYW1lXSAhPT0gcGx1Z2luTW9kdWxlKSB7XG4gICAgICAhIW5hbWVzVG9QbHVnaW5zW3BsdWdpbk5hbWVdID8gaW52YXJpYW50KGZhbHNlLCAnRXZlbnRQbHVnaW5SZWdpc3RyeTogQ2Fubm90IGluamVjdCB0d28gZGlmZmVyZW50IGV2ZW50IHBsdWdpbnMgdXNpbmcgdGhlIHNhbWUgbmFtZSwgYCVzYC4nLCBwbHVnaW5OYW1lKSA6IHZvaWQgMDtcbiAgICAgIG5hbWVzVG9QbHVnaW5zW3BsdWdpbk5hbWVdID0gcGx1Z2luTW9kdWxlO1xuICAgICAgaXNPcmRlcmluZ0RpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzT3JkZXJpbmdEaXJ0eSkge1xuICAgIHJlY29tcHV0ZVBsdWdpbk9yZGVyaW5nKCk7XG4gIH1cbn1cblxudmFyIEV2ZW50UGx1Z2luUmVnaXN0cnkgPSBPYmplY3QuZnJlZXplKHtcblx0cGx1Z2luczogcGx1Z2lucyxcblx0ZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzOiBldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MsXG5cdHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzOiByZWdpc3RyYXRpb25OYW1lTW9kdWxlcyxcblx0cmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llczogcmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llcyxcblx0cG9zc2libGVSZWdpc3RyYXRpb25OYW1lczogcG9zc2libGVSZWdpc3RyYXRpb25OYW1lcyxcblx0aW5qZWN0RXZlbnRQbHVnaW5PcmRlcjogaW5qZWN0RXZlbnRQbHVnaW5PcmRlcixcblx0aW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lOiBpbmplY3RFdmVudFBsdWdpbnNCeU5hbWVcbn0pO1xuXG52YXIgZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZSA9IG51bGw7XG52YXIgZ2V0SW5zdGFuY2VGcm9tTm9kZSA9IG51bGw7XG52YXIgZ2V0Tm9kZUZyb21JbnN0YW5jZSA9IG51bGw7XG5cbnZhciBpbmplY3Rpb24kMSA9IHtcbiAgaW5qZWN0Q29tcG9uZW50VHJlZTogZnVuY3Rpb24gKEluamVjdGVkKSB7XG4gICAgZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZSA9IEluamVjdGVkLmdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGU7XG4gICAgZ2V0SW5zdGFuY2VGcm9tTm9kZSA9IEluamVjdGVkLmdldEluc3RhbmNlRnJvbU5vZGU7XG4gICAgZ2V0Tm9kZUZyb21JbnN0YW5jZSA9IEluamVjdGVkLmdldE5vZGVGcm9tSW5zdGFuY2U7XG5cbiAgICB7XG4gICAgICB3YXJuaW5nKGdldE5vZGVGcm9tSW5zdGFuY2UgJiYgZ2V0SW5zdGFuY2VGcm9tTm9kZSwgJ0V2ZW50UGx1Z2luVXRpbHMuaW5qZWN0aW9uLmluamVjdENvbXBvbmVudFRyZWUoLi4uKTogSW5qZWN0ZWQgJyArICdtb2R1bGUgaXMgbWlzc2luZyBnZXROb2RlRnJvbUluc3RhbmNlIG9yIGdldEluc3RhbmNlRnJvbU5vZGUuJyk7XG4gICAgfVxuICB9XG59O1xuXG5cblxuXG5cblxudmFyIHZhbGlkYXRlRXZlbnREaXNwYXRjaGVzID0gdm9pZCAwO1xue1xuICB2YWxpZGF0ZUV2ZW50RGlzcGF0Y2hlcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciBkaXNwYXRjaExpc3RlbmVycyA9IGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycztcbiAgICB2YXIgZGlzcGF0Y2hJbnN0YW5jZXMgPSBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXM7XG5cbiAgICB2YXIgbGlzdGVuZXJzSXNBcnIgPSBBcnJheS5pc0FycmF5KGRpc3BhdGNoTGlzdGVuZXJzKTtcbiAgICB2YXIgbGlzdGVuZXJzTGVuID0gbGlzdGVuZXJzSXNBcnIgPyBkaXNwYXRjaExpc3RlbmVycy5sZW5ndGggOiBkaXNwYXRjaExpc3RlbmVycyA/IDEgOiAwO1xuXG4gICAgdmFyIGluc3RhbmNlc0lzQXJyID0gQXJyYXkuaXNBcnJheShkaXNwYXRjaEluc3RhbmNlcyk7XG4gICAgdmFyIGluc3RhbmNlc0xlbiA9IGluc3RhbmNlc0lzQXJyID8gZGlzcGF0Y2hJbnN0YW5jZXMubGVuZ3RoIDogZGlzcGF0Y2hJbnN0YW5jZXMgPyAxIDogMDtcblxuICAgIHdhcm5pbmcoaW5zdGFuY2VzSXNBcnIgPT09IGxpc3RlbmVyc0lzQXJyICYmIGluc3RhbmNlc0xlbiA9PT0gbGlzdGVuZXJzTGVuLCAnRXZlbnRQbHVnaW5VdGlsczogSW52YWxpZCBgZXZlbnRgLicpO1xuICB9O1xufVxuXG4vKipcbiAqIERpc3BhdGNoIHRoZSBldmVudCB0byB0aGUgbGlzdGVuZXIuXG4gKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudCBTeW50aGV0aWNFdmVudCB0byBoYW5kbGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gc2ltdWxhdGVkIElmIHRoZSBldmVudCBpcyBzaW11bGF0ZWQgKGNoYW5nZXMgZXhuIGJlaGF2aW9yKVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbGlzdGVuZXIgQXBwbGljYXRpb24tbGV2ZWwgY2FsbGJhY2tcbiAqIEBwYXJhbSB7Kn0gaW5zdCBJbnRlcm5hbCBjb21wb25lbnQgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gZXhlY3V0ZURpc3BhdGNoKGV2ZW50LCBzaW11bGF0ZWQsIGxpc3RlbmVyLCBpbnN0KSB7XG4gIHZhciB0eXBlID0gZXZlbnQudHlwZSB8fCAndW5rbm93bi1ldmVudCc7XG4gIGV2ZW50LmN1cnJlbnRUYXJnZXQgPSBnZXROb2RlRnJvbUluc3RhbmNlKGluc3QpO1xuICBSZWFjdEVycm9yVXRpbHMuaW52b2tlR3VhcmRlZENhbGxiYWNrQW5kQ2F0Y2hGaXJzdEVycm9yKHR5cGUsIGxpc3RlbmVyLCB1bmRlZmluZWQsIGV2ZW50KTtcbiAgZXZlbnQuY3VycmVudFRhcmdldCA9IG51bGw7XG59XG5cbi8qKlxuICogU3RhbmRhcmQvc2ltcGxlIGl0ZXJhdGlvbiB0aHJvdWdoIGFuIGV2ZW50J3MgY29sbGVjdGVkIGRpc3BhdGNoZXMuXG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlcihldmVudCwgc2ltdWxhdGVkKSB7XG4gIHZhciBkaXNwYXRjaExpc3RlbmVycyA9IGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycztcbiAgdmFyIGRpc3BhdGNoSW5zdGFuY2VzID0gZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzO1xuICB7XG4gICAgdmFsaWRhdGVFdmVudERpc3BhdGNoZXMoZXZlbnQpO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGRpc3BhdGNoTGlzdGVuZXJzKSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGlzcGF0Y2hMaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgLy8gTGlzdGVuZXJzIGFuZCBJbnN0YW5jZXMgYXJlIHR3byBwYXJhbGxlbCBhcnJheXMgdGhhdCBhcmUgYWx3YXlzIGluIHN5bmMuXG4gICAgICBleGVjdXRlRGlzcGF0Y2goZXZlbnQsIHNpbXVsYXRlZCwgZGlzcGF0Y2hMaXN0ZW5lcnNbaV0sIGRpc3BhdGNoSW5zdGFuY2VzW2ldKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGlzcGF0Y2hMaXN0ZW5lcnMpIHtcbiAgICBleGVjdXRlRGlzcGF0Y2goZXZlbnQsIHNpbXVsYXRlZCwgZGlzcGF0Y2hMaXN0ZW5lcnMsIGRpc3BhdGNoSW5zdGFuY2VzKTtcbiAgfVxuICBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnMgPSBudWxsO1xuICBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMgPSBudWxsO1xufVxuXG4vKipcbiAqIEBzZWUgZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyU3RvcEF0VHJ1ZUltcGxcbiAqL1xuXG5cbi8qKlxuICogRXhlY3V0aW9uIG9mIGEgXCJkaXJlY3RcIiBkaXNwYXRjaCAtIHRoZXJlIG11c3QgYmUgYXQgbW9zdCBvbmUgZGlzcGF0Y2hcbiAqIGFjY3VtdWxhdGVkIG9uIHRoZSBldmVudCBvciBpdCBpcyBjb25zaWRlcmVkIGFuIGVycm9yLiBJdCBkb2Vzbid0IHJlYWxseSBtYWtlXG4gKiBzZW5zZSBmb3IgYW4gZXZlbnQgd2l0aCBtdWx0aXBsZSBkaXNwYXRjaGVzIChidWJibGVkKSB0byBrZWVwIHRyYWNrIG9mIHRoZVxuICogcmV0dXJuIHZhbHVlcyBhdCBlYWNoIGRpc3BhdGNoIGV4ZWN1dGlvbiwgYnV0IGl0IGRvZXMgdGVuZCB0byBtYWtlIHNlbnNlIHdoZW5cbiAqIGRlYWxpbmcgd2l0aCBcImRpcmVjdFwiIGRpc3BhdGNoZXMuXG4gKlxuICogQHJldHVybiB7Kn0gVGhlIHJldHVybiB2YWx1ZSBvZiBleGVjdXRpbmcgdGhlIHNpbmdsZSBkaXNwYXRjaC5cbiAqL1xuXG5cbi8qKlxuICogQHBhcmFtIHtTeW50aGV0aWNFdmVudH0gZXZlbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWZmIG51bWJlciBvZiBkaXNwYXRjaGVzIGFjY3VtdWxhdGVkIGlzIGdyZWF0ZXIgdGhhbiAwLlxuICovXG5cbi8qKlxuICogQWNjdW11bGF0ZXMgaXRlbXMgdGhhdCBtdXN0IG5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZCBpbnRvIHRoZSBmaXJzdCBvbmUuIFRoaXNcbiAqIGlzIHVzZWQgdG8gY29uc2VydmUgbWVtb3J5IGJ5IGF2b2lkaW5nIGFycmF5IGFsbG9jYXRpb25zLCBhbmQgdGh1cyBzYWNyaWZpY2VzXG4gKiBBUEkgY2xlYW5uZXNzLiBTaW5jZSBgY3VycmVudGAgY2FuIGJlIG51bGwgYmVmb3JlIGJlaW5nIHBhc3NlZCBpbiBhbmQgbm90XG4gKiBudWxsIGFmdGVyIHRoaXMgZnVuY3Rpb24sIG1ha2Ugc3VyZSB0byBhc3NpZ24gaXQgYmFjayB0byBgY3VycmVudGA6XG4gKlxuICogYGEgPSBhY2N1bXVsYXRlSW50byhhLCBiKTtgXG4gKlxuICogVGhpcyBBUEkgc2hvdWxkIGJlIHNwYXJpbmdseSB1c2VkLiBUcnkgYGFjY3VtdWxhdGVgIGZvciBzb21ldGhpbmcgY2xlYW5lci5cbiAqXG4gKiBAcmV0dXJuIHsqfGFycmF5PCo+fSBBbiBhY2N1bXVsYXRpb24gb2YgaXRlbXMuXG4gKi9cblxuZnVuY3Rpb24gYWNjdW11bGF0ZUludG8oY3VycmVudCwgbmV4dCkge1xuICAhKG5leHQgIT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdhY2N1bXVsYXRlSW50byguLi4pOiBBY2N1bXVsYXRlZCBpdGVtcyBtdXN0IG5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC4nKSA6IHZvaWQgMDtcblxuICBpZiAoY3VycmVudCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG5leHQ7XG4gIH1cblxuICAvLyBCb3RoIGFyZSBub3QgZW1wdHkuIFdhcm5pbmc6IE5ldmVyIGNhbGwgeC5jb25jYXQoeSkgd2hlbiB5b3UgYXJlIG5vdFxuICAvLyBjZXJ0YWluIHRoYXQgeCBpcyBhbiBBcnJheSAoeCBjb3VsZCBiZSBhIHN0cmluZyB3aXRoIGNvbmNhdCBtZXRob2QpLlxuICBpZiAoQXJyYXkuaXNBcnJheShjdXJyZW50KSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG5leHQpKSB7XG4gICAgICBjdXJyZW50LnB1c2guYXBwbHkoY3VycmVudCwgbmV4dCk7XG4gICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9XG4gICAgY3VycmVudC5wdXNoKG5leHQpO1xuICAgIHJldHVybiBjdXJyZW50O1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkobmV4dCkpIHtcbiAgICAvLyBBIGJpdCB0b28gZGFuZ2Vyb3VzIHRvIG11dGF0ZSBgbmV4dGAuXG4gICAgcmV0dXJuIFtjdXJyZW50XS5jb25jYXQobmV4dCk7XG4gIH1cblxuICByZXR1cm4gW2N1cnJlbnQsIG5leHRdO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7YXJyYXl9IGFyciBhbiBcImFjY3VtdWxhdGlvblwiIG9mIGl0ZW1zIHdoaWNoIGlzIGVpdGhlciBhbiBBcnJheSBvclxuICogYSBzaW5nbGUgaXRlbS4gVXNlZnVsIHdoZW4gcGFpcmVkIHdpdGggdGhlIGBhY2N1bXVsYXRlYCBtb2R1bGUuIFRoaXMgaXMgYVxuICogc2ltcGxlIHV0aWxpdHkgdGhhdCBhbGxvd3MgdXMgdG8gcmVhc29uIGFib3V0IGEgY29sbGVjdGlvbiBvZiBpdGVtcywgYnV0XG4gKiBoYW5kbGluZyB0aGUgY2FzZSB3aGVuIHRoZXJlIGlzIGV4YWN0bHkgb25lIGl0ZW0gKGFuZCB3ZSBkbyBub3QgbmVlZCB0b1xuICogYWxsb2NhdGUgYW4gYXJyYXkpLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgQ2FsbGJhY2sgaW52b2tlZCB3aXRoIGVhY2ggZWxlbWVudCBvciBhIGNvbGxlY3Rpb24uXG4gKiBAcGFyYW0gez99IFtzY29wZV0gU2NvcGUgdXNlZCBhcyBgdGhpc2AgaW4gYSBjYWxsYmFjay5cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaEFjY3VtdWxhdGVkKGFyciwgY2IsIHNjb3BlKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICBhcnIuZm9yRWFjaChjYiwgc2NvcGUpO1xuICB9IGVsc2UgaWYgKGFycikge1xuICAgIGNiLmNhbGwoc2NvcGUsIGFycik7XG4gIH1cbn1cblxuLyoqXG4gKiBJbnRlcm5hbCBxdWV1ZSBvZiBldmVudHMgdGhhdCBoYXZlIGFjY3VtdWxhdGVkIHRoZWlyIGRpc3BhdGNoZXMgYW5kIGFyZVxuICogd2FpdGluZyB0byBoYXZlIHRoZWlyIGRpc3BhdGNoZXMgZXhlY3V0ZWQuXG4gKi9cbnZhciBldmVudFF1ZXVlID0gbnVsbDtcblxuLyoqXG4gKiBEaXNwYXRjaGVzIGFuIGV2ZW50IGFuZCByZWxlYXNlcyBpdCBiYWNrIGludG8gdGhlIHBvb2wsIHVubGVzcyBwZXJzaXN0ZW50LlxuICpcbiAqIEBwYXJhbSB7P29iamVjdH0gZXZlbnQgU3ludGhldGljIGV2ZW50IHRvIGJlIGRpc3BhdGNoZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHNpbXVsYXRlZCBJZiB0aGUgZXZlbnQgaXMgc2ltdWxhdGVkIChjaGFuZ2VzIGV4biBiZWhhdmlvcilcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2UgPSBmdW5jdGlvbiAoZXZlbnQsIHNpbXVsYXRlZCkge1xuICBpZiAoZXZlbnQpIHtcbiAgICBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXIoZXZlbnQsIHNpbXVsYXRlZCk7XG5cbiAgICBpZiAoIWV2ZW50LmlzUGVyc2lzdGVudCgpKSB7XG4gICAgICBldmVudC5jb25zdHJ1Y3Rvci5yZWxlYXNlKGV2ZW50KTtcbiAgICB9XG4gIH1cbn07XG52YXIgZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlU2ltdWxhdGVkID0gZnVuY3Rpb24gKGUpIHtcbiAgcmV0dXJuIGV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZShlLCB0cnVlKTtcbn07XG52YXIgZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlVG9wTGV2ZWwgPSBmdW5jdGlvbiAoZSkge1xuICByZXR1cm4gZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlKGUsIGZhbHNlKTtcbn07XG5cbmZ1bmN0aW9uIGlzSW50ZXJhY3RpdmUodGFnKSB7XG4gIHJldHVybiB0YWcgPT09ICdidXR0b24nIHx8IHRhZyA9PT0gJ2lucHV0JyB8fCB0YWcgPT09ICdzZWxlY3QnIHx8IHRhZyA9PT0gJ3RleHRhcmVhJztcbn1cblxuZnVuY3Rpb24gc2hvdWxkUHJldmVudE1vdXNlRXZlbnQobmFtZSwgdHlwZSwgcHJvcHMpIHtcbiAgc3dpdGNoIChuYW1lKSB7XG4gICAgY2FzZSAnb25DbGljayc6XG4gICAgY2FzZSAnb25DbGlja0NhcHR1cmUnOlxuICAgIGNhc2UgJ29uRG91YmxlQ2xpY2snOlxuICAgIGNhc2UgJ29uRG91YmxlQ2xpY2tDYXB0dXJlJzpcbiAgICBjYXNlICdvbk1vdXNlRG93bic6XG4gICAgY2FzZSAnb25Nb3VzZURvd25DYXB0dXJlJzpcbiAgICBjYXNlICdvbk1vdXNlTW92ZSc6XG4gICAgY2FzZSAnb25Nb3VzZU1vdmVDYXB0dXJlJzpcbiAgICBjYXNlICdvbk1vdXNlVXAnOlxuICAgIGNhc2UgJ29uTW91c2VVcENhcHR1cmUnOlxuICAgICAgcmV0dXJuICEhKHByb3BzLmRpc2FibGVkICYmIGlzSW50ZXJhY3RpdmUodHlwZSkpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGlzIGlzIGEgdW5pZmllZCBpbnRlcmZhY2UgZm9yIGV2ZW50IHBsdWdpbnMgdG8gYmUgaW5zdGFsbGVkIGFuZCBjb25maWd1cmVkLlxuICpcbiAqIEV2ZW50IHBsdWdpbnMgY2FuIGltcGxlbWVudCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogICBgZXh0cmFjdEV2ZW50c2Age2Z1bmN0aW9uKHN0cmluZywgRE9NRXZlbnRUYXJnZXQsIHN0cmluZywgb2JqZWN0KTogKn1cbiAqICAgICBSZXF1aXJlZC4gV2hlbiBhIHRvcC1sZXZlbCBldmVudCBpcyBmaXJlZCwgdGhpcyBtZXRob2QgaXMgZXhwZWN0ZWQgdG9cbiAqICAgICBleHRyYWN0IHN5bnRoZXRpYyBldmVudHMgdGhhdCB3aWxsIGluIHR1cm4gYmUgcXVldWVkIGFuZCBkaXNwYXRjaGVkLlxuICpcbiAqICAgYGV2ZW50VHlwZXNgIHtvYmplY3R9XG4gKiAgICAgT3B0aW9uYWwsIHBsdWdpbnMgdGhhdCBmaXJlIGV2ZW50cyBtdXN0IHB1Ymxpc2ggYSBtYXBwaW5nIG9mIHJlZ2lzdHJhdGlvblxuICogICAgIG5hbWVzIHRoYXQgYXJlIHVzZWQgdG8gcmVnaXN0ZXIgbGlzdGVuZXJzLiBWYWx1ZXMgb2YgdGhpcyBtYXBwaW5nIG11c3RcbiAqICAgICBiZSBvYmplY3RzIHRoYXQgY29udGFpbiBgcmVnaXN0cmF0aW9uTmFtZWAgb3IgYHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzYC5cbiAqXG4gKiAgIGBleGVjdXRlRGlzcGF0Y2hgIHtmdW5jdGlvbihvYmplY3QsIGZ1bmN0aW9uLCBzdHJpbmcpfVxuICogICAgIE9wdGlvbmFsLCBhbGxvd3MgcGx1Z2lucyB0byBvdmVycmlkZSBob3cgYW4gZXZlbnQgZ2V0cyBkaXNwYXRjaGVkLiBCeVxuICogICAgIGRlZmF1bHQsIHRoZSBsaXN0ZW5lciBpcyBzaW1wbHkgaW52b2tlZC5cbiAqXG4gKiBFYWNoIHBsdWdpbiB0aGF0IGlzIGluamVjdGVkIGludG8gYEV2ZW50c1BsdWdpbkh1YmAgaXMgaW1tZWRpYXRlbHkgb3BlcmFibGUuXG4gKlxuICogQHB1YmxpY1xuICovXG5cbi8qKlxuICogTWV0aG9kcyBmb3IgaW5qZWN0aW5nIGRlcGVuZGVuY2llcy5cbiAqL1xudmFyIGluamVjdGlvbiA9IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7YXJyYXl9IEluamVjdGVkRXZlbnRQbHVnaW5PcmRlclxuICAgKiBAcHVibGljXG4gICAqL1xuICBpbmplY3RFdmVudFBsdWdpbk9yZGVyOiBpbmplY3RFdmVudFBsdWdpbk9yZGVyLFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge29iamVjdH0gaW5qZWN0ZWROYW1lc1RvUGx1Z2lucyBNYXAgZnJvbSBuYW1lcyB0byBwbHVnaW4gbW9kdWxlcy5cbiAgICovXG4gIGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZTogaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBpbnN0IFRoZSBpbnN0YW5jZSwgd2hpY2ggaXMgdGhlIHNvdXJjZSBvZiBldmVudHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVnaXN0cmF0aW9uTmFtZSBOYW1lIG9mIGxpc3RlbmVyIChlLmcuIGBvbkNsaWNrYCkuXG4gKiBAcmV0dXJuIHs/ZnVuY3Rpb259IFRoZSBzdG9yZWQgY2FsbGJhY2suXG4gKi9cbmZ1bmN0aW9uIGdldExpc3RlbmVyKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgdmFyIGxpc3RlbmVyID0gdm9pZCAwO1xuXG4gIC8vIFRPRE86IHNob3VsZFByZXZlbnRNb3VzZUV2ZW50IGlzIERPTS1zcGVjaWZpYyBhbmQgZGVmaW5pdGVseSBzaG91bGQgbm90XG4gIC8vIGxpdmUgaGVyZTsgbmVlZHMgdG8gYmUgbW92ZWQgdG8gYSBiZXR0ZXIgcGxhY2Ugc29vblxuICB2YXIgc3RhdGVOb2RlID0gaW5zdC5zdGF0ZU5vZGU7XG4gIGlmICghc3RhdGVOb2RlKSB7XG4gICAgLy8gV29yayBpbiBwcm9ncmVzcyAoZXg6IG9ubG9hZCBldmVudHMgaW4gaW5jcmVtZW50YWwgbW9kZSkuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIHByb3BzID0gZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZShzdGF0ZU5vZGUpO1xuICBpZiAoIXByb3BzKSB7XG4gICAgLy8gV29yayBpbiBwcm9ncmVzcy5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsaXN0ZW5lciA9IHByb3BzW3JlZ2lzdHJhdGlvbk5hbWVdO1xuICBpZiAoc2hvdWxkUHJldmVudE1vdXNlRXZlbnQocmVnaXN0cmF0aW9uTmFtZSwgaW5zdC50eXBlLCBwcm9wcykpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICAhKCFsaXN0ZW5lciB8fCB0eXBlb2YgbGlzdGVuZXIgPT09ICdmdW5jdGlvbicpID8gaW52YXJpYW50KGZhbHNlLCAnRXhwZWN0ZWQgYCVzYCBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLCBpbnN0ZWFkIGdvdCBhIHZhbHVlIG9mIGAlc2AgdHlwZS4nLCByZWdpc3RyYXRpb25OYW1lLCB0eXBlb2YgbGlzdGVuZXIpIDogdm9pZCAwO1xuICByZXR1cm4gbGlzdGVuZXI7XG59XG5cbi8qKlxuICogQWxsb3dzIHJlZ2lzdGVyZWQgcGx1Z2lucyBhbiBvcHBvcnR1bml0eSB0byBleHRyYWN0IGV2ZW50cyBmcm9tIHRvcC1sZXZlbFxuICogbmF0aXZlIGJyb3dzZXIgZXZlbnRzLlxuICpcbiAqIEByZXR1cm4geyp9IEFuIGFjY3VtdWxhdGlvbiBvZiBzeW50aGV0aWMgZXZlbnRzLlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIGV4dHJhY3RFdmVudHModG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgdmFyIGV2ZW50cyA9IG51bGw7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGx1Z2lucy5sZW5ndGg7IGkrKykge1xuICAgIC8vIE5vdCBldmVyeSBwbHVnaW4gaW4gdGhlIG9yZGVyaW5nIG1heSBiZSBsb2FkZWQgYXQgcnVudGltZS5cbiAgICB2YXIgcG9zc2libGVQbHVnaW4gPSBwbHVnaW5zW2ldO1xuICAgIGlmIChwb3NzaWJsZVBsdWdpbikge1xuICAgICAgdmFyIGV4dHJhY3RlZEV2ZW50cyA9IHBvc3NpYmxlUGx1Z2luLmV4dHJhY3RFdmVudHModG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgICAgaWYgKGV4dHJhY3RlZEV2ZW50cykge1xuICAgICAgICBldmVudHMgPSBhY2N1bXVsYXRlSW50byhldmVudHMsIGV4dHJhY3RlZEV2ZW50cyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBldmVudHM7XG59XG5cbmZ1bmN0aW9uIHJ1bkV2ZW50c0luQmF0Y2goZXZlbnRzLCBzaW11bGF0ZWQpIHtcbiAgaWYgKGV2ZW50cyAhPT0gbnVsbCkge1xuICAgIGV2ZW50UXVldWUgPSBhY2N1bXVsYXRlSW50byhldmVudFF1ZXVlLCBldmVudHMpO1xuICB9XG5cbiAgLy8gU2V0IGBldmVudFF1ZXVlYCB0byBudWxsIGJlZm9yZSBwcm9jZXNzaW5nIGl0IHNvIHRoYXQgd2UgY2FuIHRlbGwgaWYgbW9yZVxuICAvLyBldmVudHMgZ2V0IGVucXVldWVkIHdoaWxlIHByb2Nlc3NpbmcuXG4gIHZhciBwcm9jZXNzaW5nRXZlbnRRdWV1ZSA9IGV2ZW50UXVldWU7XG4gIGV2ZW50UXVldWUgPSBudWxsO1xuXG4gIGlmICghcHJvY2Vzc2luZ0V2ZW50UXVldWUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoc2ltdWxhdGVkKSB7XG4gICAgZm9yRWFjaEFjY3VtdWxhdGVkKHByb2Nlc3NpbmdFdmVudFF1ZXVlLCBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2VTaW11bGF0ZWQpO1xuICB9IGVsc2Uge1xuICAgIGZvckVhY2hBY2N1bXVsYXRlZChwcm9jZXNzaW5nRXZlbnRRdWV1ZSwgZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlVG9wTGV2ZWwpO1xuICB9XG4gICEhZXZlbnRRdWV1ZSA/IGludmFyaWFudChmYWxzZSwgJ3Byb2Nlc3NFdmVudFF1ZXVlKCk6IEFkZGl0aW9uYWwgZXZlbnRzIHdlcmUgZW5xdWV1ZWQgd2hpbGUgcHJvY2Vzc2luZyBhbiBldmVudCBxdWV1ZS4gU3VwcG9ydCBmb3IgdGhpcyBoYXMgbm90IHlldCBiZWVuIGltcGxlbWVudGVkLicpIDogdm9pZCAwO1xuICAvLyBUaGlzIHdvdWxkIGJlIGEgZ29vZCB0aW1lIHRvIHJldGhyb3cgaWYgYW55IG9mIHRoZSBldmVudCBoYW5kbGVycyB0aHJldy5cbiAgUmVhY3RFcnJvclV0aWxzLnJldGhyb3dDYXVnaHRFcnJvcigpO1xufVxuXG5mdW5jdGlvbiBydW5FeHRyYWN0ZWRFdmVudHNJbkJhdGNoKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gIHZhciBldmVudHMgPSBleHRyYWN0RXZlbnRzKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgcnVuRXZlbnRzSW5CYXRjaChldmVudHMsIGZhbHNlKTtcbn1cblxudmFyIEV2ZW50UGx1Z2luSHViID0gT2JqZWN0LmZyZWV6ZSh7XG5cdGluamVjdGlvbjogaW5qZWN0aW9uLFxuXHRnZXRMaXN0ZW5lcjogZ2V0TGlzdGVuZXIsXG5cdHJ1bkV2ZW50c0luQmF0Y2g6IHJ1bkV2ZW50c0luQmF0Y2gsXG5cdHJ1bkV4dHJhY3RlZEV2ZW50c0luQmF0Y2g6IHJ1bkV4dHJhY3RlZEV2ZW50c0luQmF0Y2hcbn0pO1xuXG52YXIgSW5kZXRlcm1pbmF0ZUNvbXBvbmVudCA9IDA7IC8vIEJlZm9yZSB3ZSBrbm93IHdoZXRoZXIgaXQgaXMgZnVuY3Rpb25hbCBvciBjbGFzc1xudmFyIEZ1bmN0aW9uYWxDb21wb25lbnQgPSAxO1xudmFyIENsYXNzQ29tcG9uZW50ID0gMjtcbnZhciBIb3N0Um9vdCA9IDM7IC8vIFJvb3Qgb2YgYSBob3N0IHRyZWUuIENvdWxkIGJlIG5lc3RlZCBpbnNpZGUgYW5vdGhlciBub2RlLlxudmFyIEhvc3RQb3J0YWwgPSA0OyAvLyBBIHN1YnRyZWUuIENvdWxkIGJlIGFuIGVudHJ5IHBvaW50IHRvIGEgZGlmZmVyZW50IHJlbmRlcmVyLlxudmFyIEhvc3RDb21wb25lbnQgPSA1O1xudmFyIEhvc3RUZXh0ID0gNjtcbnZhciBDYWxsQ29tcG9uZW50ID0gNztcbnZhciBDYWxsSGFuZGxlclBoYXNlID0gODtcbnZhciBSZXR1cm5Db21wb25lbnQgPSA5O1xudmFyIEZyYWdtZW50ID0gMTA7XG52YXIgTW9kZSA9IDExO1xudmFyIENvbnRleHRDb25zdW1lciA9IDEyO1xudmFyIENvbnRleHRQcm92aWRlciA9IDEzO1xudmFyIEZvcndhcmRSZWYgPSAxNDtcblxudmFyIHJhbmRvbUtleSA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpO1xudmFyIGludGVybmFsSW5zdGFuY2VLZXkgPSAnX19yZWFjdEludGVybmFsSW5zdGFuY2UkJyArIHJhbmRvbUtleTtcbnZhciBpbnRlcm5hbEV2ZW50SGFuZGxlcnNLZXkgPSAnX19yZWFjdEV2ZW50SGFuZGxlcnMkJyArIHJhbmRvbUtleTtcblxuZnVuY3Rpb24gcHJlY2FjaGVGaWJlck5vZGUkMShob3N0SW5zdCwgbm9kZSkge1xuICBub2RlW2ludGVybmFsSW5zdGFuY2VLZXldID0gaG9zdEluc3Q7XG59XG5cbi8qKlxuICogR2l2ZW4gYSBET00gbm9kZSwgcmV0dXJuIHRoZSBjbG9zZXN0IFJlYWN0RE9NQ29tcG9uZW50IG9yXG4gKiBSZWFjdERPTVRleHRDb21wb25lbnQgaW5zdGFuY2UgYW5jZXN0b3IuXG4gKi9cbmZ1bmN0aW9uIGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKG5vZGUpIHtcbiAgaWYgKG5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV0pIHtcbiAgICByZXR1cm4gbm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XTtcbiAgfVxuXG4gIHdoaWxlICghbm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XSkge1xuICAgIGlmIChub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRvcCBvZiB0aGUgdHJlZS4gVGhpcyBub2RlIG11c3Qgbm90IGJlIHBhcnQgb2YgYSBSZWFjdCB0cmVlIChvciBpc1xuICAgICAgLy8gdW5tb3VudGVkLCBwb3RlbnRpYWxseSkuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICB2YXIgaW5zdCA9IG5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV07XG4gIGlmIChpbnN0LnRhZyA9PT0gSG9zdENvbXBvbmVudCB8fCBpbnN0LnRhZyA9PT0gSG9zdFRleHQpIHtcbiAgICAvLyBJbiBGaWJlciwgdGhpcyB3aWxsIGFsd2F5cyBiZSB0aGUgZGVlcGVzdCByb290LlxuICAgIHJldHVybiBpbnN0O1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogR2l2ZW4gYSBET00gbm9kZSwgcmV0dXJuIHRoZSBSZWFjdERPTUNvbXBvbmVudCBvciBSZWFjdERPTVRleHRDb21wb25lbnRcbiAqIGluc3RhbmNlLCBvciBudWxsIGlmIHRoZSBub2RlIHdhcyBub3QgcmVuZGVyZWQgYnkgdGhpcyBSZWFjdC5cbiAqL1xuZnVuY3Rpb24gZ2V0SW5zdGFuY2VGcm9tTm9kZSQxKG5vZGUpIHtcbiAgdmFyIGluc3QgPSBub2RlW2ludGVybmFsSW5zdGFuY2VLZXldO1xuICBpZiAoaW5zdCkge1xuICAgIGlmIChpbnN0LnRhZyA9PT0gSG9zdENvbXBvbmVudCB8fCBpbnN0LnRhZyA9PT0gSG9zdFRleHQpIHtcbiAgICAgIHJldHVybiBpbnN0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogR2l2ZW4gYSBSZWFjdERPTUNvbXBvbmVudCBvciBSZWFjdERPTVRleHRDb21wb25lbnQsIHJldHVybiB0aGUgY29ycmVzcG9uZGluZ1xuICogRE9NIG5vZGUuXG4gKi9cbmZ1bmN0aW9uIGdldE5vZGVGcm9tSW5zdGFuY2UkMShpbnN0KSB7XG4gIGlmIChpbnN0LnRhZyA9PT0gSG9zdENvbXBvbmVudCB8fCBpbnN0LnRhZyA9PT0gSG9zdFRleHQpIHtcbiAgICAvLyBJbiBGaWJlciB0aGlzLCBpcyBqdXN0IHRoZSBzdGF0ZSBub2RlIHJpZ2h0IG5vdy4gV2UgYXNzdW1lIGl0IHdpbGwgYmVcbiAgICAvLyBhIGhvc3QgY29tcG9uZW50IG9yIGhvc3QgdGV4dC5cbiAgICByZXR1cm4gaW5zdC5zdGF0ZU5vZGU7XG4gIH1cblxuICAvLyBXaXRob3V0IHRoaXMgZmlyc3QgaW52YXJpYW50LCBwYXNzaW5nIGEgbm9uLURPTS1jb21wb25lbnQgdHJpZ2dlcnMgdGhlIG5leHRcbiAgLy8gaW52YXJpYW50IGZvciBhIG1pc3NpbmcgcGFyZW50LCB3aGljaCBpcyBzdXBlciBjb25mdXNpbmcuXG4gIGludmFyaWFudChmYWxzZSwgJ2dldE5vZGVGcm9tSW5zdGFuY2U6IEludmFsaWQgYXJndW1lbnQuJyk7XG59XG5cbmZ1bmN0aW9uIGdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGUkMShub2RlKSB7XG4gIHJldHVybiBub2RlW2ludGVybmFsRXZlbnRIYW5kbGVyc0tleV0gfHwgbnVsbDtcbn1cblxuZnVuY3Rpb24gdXBkYXRlRmliZXJQcm9wcyQxKG5vZGUsIHByb3BzKSB7XG4gIG5vZGVbaW50ZXJuYWxFdmVudEhhbmRsZXJzS2V5XSA9IHByb3BzO1xufVxuXG52YXIgUmVhY3RET01Db21wb25lbnRUcmVlID0gT2JqZWN0LmZyZWV6ZSh7XG5cdHByZWNhY2hlRmliZXJOb2RlOiBwcmVjYWNoZUZpYmVyTm9kZSQxLFxuXHRnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZTogZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUsXG5cdGdldEluc3RhbmNlRnJvbU5vZGU6IGdldEluc3RhbmNlRnJvbU5vZGUkMSxcblx0Z2V0Tm9kZUZyb21JbnN0YW5jZTogZ2V0Tm9kZUZyb21JbnN0YW5jZSQxLFxuXHRnZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlOiBnZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlJDEsXG5cdHVwZGF0ZUZpYmVyUHJvcHM6IHVwZGF0ZUZpYmVyUHJvcHMkMVxufSk7XG5cbmZ1bmN0aW9uIGdldFBhcmVudChpbnN0KSB7XG4gIGRvIHtcbiAgICBpbnN0ID0gaW5zdFsncmV0dXJuJ107XG4gICAgLy8gVE9ETzogSWYgdGhpcyBpcyBhIEhvc3RSb290IHdlIG1pZ2h0IHdhbnQgdG8gYmFpbCBvdXQuXG4gICAgLy8gVGhhdCBpcyBkZXBlbmRpbmcgb24gaWYgd2Ugd2FudCBuZXN0ZWQgc3VidHJlZXMgKGxheWVycykgdG8gYnViYmxlXG4gICAgLy8gZXZlbnRzIHRvIHRoZWlyIHBhcmVudC4gV2UgY291bGQgYWxzbyBnbyB0aHJvdWdoIHBhcmVudE5vZGUgb24gdGhlXG4gICAgLy8gaG9zdCBub2RlIGJ1dCB0aGF0IHdvdWxkbid0IHdvcmsgZm9yIFJlYWN0IE5hdGl2ZSBhbmQgZG9lc24ndCBsZXQgdXNcbiAgICAvLyBkbyB0aGUgcG9ydGFsIGZlYXR1cmUuXG4gIH0gd2hpbGUgKGluc3QgJiYgaW5zdC50YWcgIT09IEhvc3RDb21wb25lbnQpO1xuICBpZiAoaW5zdCkge1xuICAgIHJldHVybiBpbnN0O1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIFJldHVybiB0aGUgbG93ZXN0IGNvbW1vbiBhbmNlc3RvciBvZiBBIGFuZCBCLCBvciBudWxsIGlmIHRoZXkgYXJlIGluXG4gKiBkaWZmZXJlbnQgdHJlZXMuXG4gKi9cbmZ1bmN0aW9uIGdldExvd2VzdENvbW1vbkFuY2VzdG9yKGluc3RBLCBpbnN0Qikge1xuICB2YXIgZGVwdGhBID0gMDtcbiAgZm9yICh2YXIgdGVtcEEgPSBpbnN0QTsgdGVtcEE7IHRlbXBBID0gZ2V0UGFyZW50KHRlbXBBKSkge1xuICAgIGRlcHRoQSsrO1xuICB9XG4gIHZhciBkZXB0aEIgPSAwO1xuICBmb3IgKHZhciB0ZW1wQiA9IGluc3RCOyB0ZW1wQjsgdGVtcEIgPSBnZXRQYXJlbnQodGVtcEIpKSB7XG4gICAgZGVwdGhCKys7XG4gIH1cblxuICAvLyBJZiBBIGlzIGRlZXBlciwgY3Jhd2wgdXAuXG4gIHdoaWxlIChkZXB0aEEgLSBkZXB0aEIgPiAwKSB7XG4gICAgaW5zdEEgPSBnZXRQYXJlbnQoaW5zdEEpO1xuICAgIGRlcHRoQS0tO1xuICB9XG5cbiAgLy8gSWYgQiBpcyBkZWVwZXIsIGNyYXdsIHVwLlxuICB3aGlsZSAoZGVwdGhCIC0gZGVwdGhBID4gMCkge1xuICAgIGluc3RCID0gZ2V0UGFyZW50KGluc3RCKTtcbiAgICBkZXB0aEItLTtcbiAgfVxuXG4gIC8vIFdhbGsgaW4gbG9ja3N0ZXAgdW50aWwgd2UgZmluZCBhIG1hdGNoLlxuICB2YXIgZGVwdGggPSBkZXB0aEE7XG4gIHdoaWxlIChkZXB0aC0tKSB7XG4gICAgaWYgKGluc3RBID09PSBpbnN0QiB8fCBpbnN0QSA9PT0gaW5zdEIuYWx0ZXJuYXRlKSB7XG4gICAgICByZXR1cm4gaW5zdEE7XG4gICAgfVxuICAgIGluc3RBID0gZ2V0UGFyZW50KGluc3RBKTtcbiAgICBpbnN0QiA9IGdldFBhcmVudChpbnN0Qik7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogUmV0dXJuIGlmIEEgaXMgYW4gYW5jZXN0b3Igb2YgQi5cbiAqL1xuXG5cbi8qKlxuICogUmV0dXJuIHRoZSBwYXJlbnQgaW5zdGFuY2Ugb2YgdGhlIHBhc3NlZC1pbiBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gZ2V0UGFyZW50SW5zdGFuY2UoaW5zdCkge1xuICByZXR1cm4gZ2V0UGFyZW50KGluc3QpO1xufVxuXG4vKipcbiAqIFNpbXVsYXRlcyB0aGUgdHJhdmVyc2FsIG9mIGEgdHdvLXBoYXNlLCBjYXB0dXJlL2J1YmJsZSBldmVudCBkaXNwYXRjaC5cbiAqL1xuZnVuY3Rpb24gdHJhdmVyc2VUd29QaGFzZShpbnN0LCBmbiwgYXJnKSB7XG4gIHZhciBwYXRoID0gW107XG4gIHdoaWxlIChpbnN0KSB7XG4gICAgcGF0aC5wdXNoKGluc3QpO1xuICAgIGluc3QgPSBnZXRQYXJlbnQoaW5zdCk7XG4gIH1cbiAgdmFyIGkgPSB2b2lkIDA7XG4gIGZvciAoaSA9IHBhdGgubGVuZ3RoOyBpLS0gPiAwOykge1xuICAgIGZuKHBhdGhbaV0sICdjYXB0dXJlZCcsIGFyZyk7XG4gIH1cbiAgZm9yIChpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICBmbihwYXRoW2ldLCAnYnViYmxlZCcsIGFyZyk7XG4gIH1cbn1cblxuLyoqXG4gKiBUcmF2ZXJzZXMgdGhlIElEIGhpZXJhcmNoeSBhbmQgaW52b2tlcyB0aGUgc3VwcGxpZWQgYGNiYCBvbiBhbnkgSURzIHRoYXRcbiAqIHNob3VsZCB3b3VsZCByZWNlaXZlIGEgYG1vdXNlRW50ZXJgIG9yIGBtb3VzZUxlYXZlYCBldmVudC5cbiAqXG4gKiBEb2VzIG5vdCBpbnZva2UgdGhlIGNhbGxiYWNrIG9uIHRoZSBuZWFyZXN0IGNvbW1vbiBhbmNlc3RvciBiZWNhdXNlIG5vdGhpbmdcbiAqIFwiZW50ZXJlZFwiIG9yIFwibGVmdFwiIHRoYXQgZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gdHJhdmVyc2VFbnRlckxlYXZlKGZyb20sIHRvLCBmbiwgYXJnRnJvbSwgYXJnVG8pIHtcbiAgdmFyIGNvbW1vbiA9IGZyb20gJiYgdG8gPyBnZXRMb3dlc3RDb21tb25BbmNlc3Rvcihmcm9tLCB0bykgOiBudWxsO1xuICB2YXIgcGF0aEZyb20gPSBbXTtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBpZiAoIWZyb20pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoZnJvbSA9PT0gY29tbW9uKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgdmFyIGFsdGVybmF0ZSA9IGZyb20uYWx0ZXJuYXRlO1xuICAgIGlmIChhbHRlcm5hdGUgIT09IG51bGwgJiYgYWx0ZXJuYXRlID09PSBjb21tb24pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBwYXRoRnJvbS5wdXNoKGZyb20pO1xuICAgIGZyb20gPSBnZXRQYXJlbnQoZnJvbSk7XG4gIH1cbiAgdmFyIHBhdGhUbyA9IFtdO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIGlmICghdG8pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAodG8gPT09IGNvbW1vbikge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHZhciBfYWx0ZXJuYXRlID0gdG8uYWx0ZXJuYXRlO1xuICAgIGlmIChfYWx0ZXJuYXRlICE9PSBudWxsICYmIF9hbHRlcm5hdGUgPT09IGNvbW1vbikge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHBhdGhUby5wdXNoKHRvKTtcbiAgICB0byA9IGdldFBhcmVudCh0byk7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoRnJvbS5sZW5ndGg7IGkrKykge1xuICAgIGZuKHBhdGhGcm9tW2ldLCAnYnViYmxlZCcsIGFyZ0Zyb20pO1xuICB9XG4gIGZvciAodmFyIF9pID0gcGF0aFRvLmxlbmd0aDsgX2ktLSA+IDA7KSB7XG4gICAgZm4ocGF0aFRvW19pXSwgJ2NhcHR1cmVkJywgYXJnVG8pO1xuICB9XG59XG5cbi8qKlxuICogU29tZSBldmVudCB0eXBlcyBoYXZlIGEgbm90aW9uIG9mIGRpZmZlcmVudCByZWdpc3RyYXRpb24gbmFtZXMgZm9yIGRpZmZlcmVudFxuICogXCJwaGFzZXNcIiBvZiBwcm9wYWdhdGlvbi4gVGhpcyBmaW5kcyBsaXN0ZW5lcnMgYnkgYSBnaXZlbiBwaGFzZS5cbiAqL1xuZnVuY3Rpb24gbGlzdGVuZXJBdFBoYXNlKGluc3QsIGV2ZW50LCBwcm9wYWdhdGlvblBoYXNlKSB7XG4gIHZhciByZWdpc3RyYXRpb25OYW1lID0gZXZlbnQuZGlzcGF0Y2hDb25maWcucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXNbcHJvcGFnYXRpb25QaGFzZV07XG4gIHJldHVybiBnZXRMaXN0ZW5lcihpbnN0LCByZWdpc3RyYXRpb25OYW1lKTtcbn1cblxuLyoqXG4gKiBBIHNtYWxsIHNldCBvZiBwcm9wYWdhdGlvbiBwYXR0ZXJucywgZWFjaCBvZiB3aGljaCB3aWxsIGFjY2VwdCBhIHNtYWxsIGFtb3VudFxuICogb2YgaW5mb3JtYXRpb24sIGFuZCBnZW5lcmF0ZSBhIHNldCBvZiBcImRpc3BhdGNoIHJlYWR5IGV2ZW50IG9iamVjdHNcIiAtIHdoaWNoXG4gKiBhcmUgc2V0cyBvZiBldmVudHMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBhbm5vdGF0ZWQgd2l0aCBhIHNldCBvZiBkaXNwYXRjaGVkXG4gKiBsaXN0ZW5lciBmdW5jdGlvbnMvaWRzLiBUaGUgQVBJIGlzIGRlc2lnbmVkIHRoaXMgd2F5IHRvIGRpc2NvdXJhZ2UgdGhlc2VcbiAqIHByb3BhZ2F0aW9uIHN0cmF0ZWdpZXMgZnJvbSBhY3R1YWxseSBleGVjdXRpbmcgdGhlIGRpc3BhdGNoZXMsIHNpbmNlIHdlXG4gKiBhbHdheXMgd2FudCB0byBjb2xsZWN0IHRoZSBlbnRpcmUgc2V0IG9mIGRpc3BhdGNoZXMgYmVmb3JlIGV4ZWN1dGluZyBldmVuIGFcbiAqIHNpbmdsZSBvbmUuXG4gKi9cblxuLyoqXG4gKiBUYWdzIGEgYFN5bnRoZXRpY0V2ZW50YCB3aXRoIGRpc3BhdGNoZWQgbGlzdGVuZXJzLiBDcmVhdGluZyB0aGlzIGZ1bmN0aW9uXG4gKiBoZXJlLCBhbGxvd3MgdXMgdG8gbm90IGhhdmUgdG8gYmluZCBvciBjcmVhdGUgZnVuY3Rpb25zIGZvciBlYWNoIGV2ZW50LlxuICogTXV0YXRpbmcgdGhlIGV2ZW50J3MgbWVtYmVycyBhbGxvd3MgdXMgdG8gbm90IGhhdmUgdG8gY3JlYXRlIGEgd3JhcHBpbmdcbiAqIFwiZGlzcGF0Y2hcIiBvYmplY3QgdGhhdCBwYWlycyB0aGUgZXZlbnQgd2l0aCB0aGUgbGlzdGVuZXIuXG4gKi9cbmZ1bmN0aW9uIGFjY3VtdWxhdGVEaXJlY3Rpb25hbERpc3BhdGNoZXMoaW5zdCwgcGhhc2UsIGV2ZW50KSB7XG4gIHtcbiAgICB3YXJuaW5nKGluc3QsICdEaXNwYXRjaGluZyBpbnN0IG11c3Qgbm90IGJlIG51bGwnKTtcbiAgfVxuICB2YXIgbGlzdGVuZXIgPSBsaXN0ZW5lckF0UGhhc2UoaW5zdCwgZXZlbnQsIHBoYXNlKTtcbiAgaWYgKGxpc3RlbmVyKSB7XG4gICAgZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzID0gYWNjdW11bGF0ZUludG8oZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzLCBsaXN0ZW5lcik7XG4gICAgZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzID0gYWNjdW11bGF0ZUludG8oZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzLCBpbnN0KTtcbiAgfVxufVxuXG4vKipcbiAqIENvbGxlY3QgZGlzcGF0Y2hlcyAobXVzdCBiZSBlbnRpcmVseSBjb2xsZWN0ZWQgYmVmb3JlIGRpc3BhdGNoaW5nIC0gc2VlIHVuaXRcbiAqIHRlc3RzKS4gTGF6aWx5IGFsbG9jYXRlIHRoZSBhcnJheSB0byBjb25zZXJ2ZSBtZW1vcnkuICBXZSBtdXN0IGxvb3AgdGhyb3VnaFxuICogZWFjaCBldmVudCBhbmQgcGVyZm9ybSB0aGUgdHJhdmVyc2FsIGZvciBlYWNoIG9uZS4gV2UgY2Fubm90IHBlcmZvcm0gYVxuICogc2luZ2xlIHRyYXZlcnNhbCBmb3IgdGhlIGVudGlyZSBjb2xsZWN0aW9uIG9mIGV2ZW50cyBiZWNhdXNlIGVhY2ggZXZlbnQgbWF5XG4gKiBoYXZlIGEgZGlmZmVyZW50IHRhcmdldC5cbiAqL1xuZnVuY3Rpb24gYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NpbmdsZShldmVudCkge1xuICBpZiAoZXZlbnQgJiYgZXZlbnQuZGlzcGF0Y2hDb25maWcucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICB0cmF2ZXJzZVR3b1BoYXNlKGV2ZW50Ll90YXJnZXRJbnN0LCBhY2N1bXVsYXRlRGlyZWN0aW9uYWxEaXNwYXRjaGVzLCBldmVudCk7XG4gIH1cbn1cblxuLyoqXG4gKiBTYW1lIGFzIGBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlYCwgYnV0IHNraXBzIG92ZXIgdGhlIHRhcmdldElELlxuICovXG5mdW5jdGlvbiBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlU2tpcFRhcmdldChldmVudCkge1xuICBpZiAoZXZlbnQgJiYgZXZlbnQuZGlzcGF0Y2hDb25maWcucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICB2YXIgdGFyZ2V0SW5zdCA9IGV2ZW50Ll90YXJnZXRJbnN0O1xuICAgIHZhciBwYXJlbnRJbnN0ID0gdGFyZ2V0SW5zdCA/IGdldFBhcmVudEluc3RhbmNlKHRhcmdldEluc3QpIDogbnVsbDtcbiAgICB0cmF2ZXJzZVR3b1BoYXNlKHBhcmVudEluc3QsIGFjY3VtdWxhdGVEaXJlY3Rpb25hbERpc3BhdGNoZXMsIGV2ZW50KTtcbiAgfVxufVxuXG4vKipcbiAqIEFjY3VtdWxhdGVzIHdpdGhvdXQgcmVnYXJkIHRvIGRpcmVjdGlvbiwgZG9lcyBub3QgbG9vayBmb3IgcGhhc2VkXG4gKiByZWdpc3RyYXRpb24gbmFtZXMuIFNhbWUgYXMgYGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzU2luZ2xlYCBidXQgd2l0aG91dFxuICogcmVxdWlyaW5nIHRoYXQgdGhlIGBkaXNwYXRjaE1hcmtlcmAgYmUgdGhlIHNhbWUgYXMgdGhlIGRpc3BhdGNoZWQgSUQuXG4gKi9cbmZ1bmN0aW9uIGFjY3VtdWxhdGVEaXNwYXRjaGVzKGluc3QsIGlnbm9yZWREaXJlY3Rpb24sIGV2ZW50KSB7XG4gIGlmIChpbnN0ICYmIGV2ZW50ICYmIGV2ZW50LmRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICB2YXIgcmVnaXN0cmF0aW9uTmFtZSA9IGV2ZW50LmRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWU7XG4gICAgdmFyIGxpc3RlbmVyID0gZ2V0TGlzdGVuZXIoaW5zdCwgcmVnaXN0cmF0aW9uTmFtZSk7XG4gICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnMgPSBhY2N1bXVsYXRlSW50byhldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnMsIGxpc3RlbmVyKTtcbiAgICAgIGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcyA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcywgaW5zdCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQWNjdW11bGF0ZXMgZGlzcGF0Y2hlcyBvbiBhbiBgU3ludGhldGljRXZlbnRgLCBidXQgb25seSBmb3IgdGhlXG4gKiBgZGlzcGF0Y2hNYXJrZXJgLlxuICogQHBhcmFtIHtTeW50aGV0aWNFdmVudH0gZXZlbnRcbiAqL1xuZnVuY3Rpb24gYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXNTaW5nbGUoZXZlbnQpIHtcbiAgaWYgKGV2ZW50ICYmIGV2ZW50LmRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICBhY2N1bXVsYXRlRGlzcGF0Y2hlcyhldmVudC5fdGFyZ2V0SW5zdCwgbnVsbCwgZXZlbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoZXZlbnRzKSB7XG4gIGZvckVhY2hBY2N1bXVsYXRlZChldmVudHMsIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTaW5nbGUpO1xufVxuXG5mdW5jdGlvbiBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2tpcFRhcmdldChldmVudHMpIHtcbiAgZm9yRWFjaEFjY3VtdWxhdGVkKGV2ZW50cywgYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NpbmdsZVNraXBUYXJnZXQpO1xufVxuXG5mdW5jdGlvbiBhY2N1bXVsYXRlRW50ZXJMZWF2ZURpc3BhdGNoZXMobGVhdmUsIGVudGVyLCBmcm9tLCB0bykge1xuICB0cmF2ZXJzZUVudGVyTGVhdmUoZnJvbSwgdG8sIGFjY3VtdWxhdGVEaXNwYXRjaGVzLCBsZWF2ZSwgZW50ZXIpO1xufVxuXG5mdW5jdGlvbiBhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlcyhldmVudHMpIHtcbiAgZm9yRWFjaEFjY3VtdWxhdGVkKGV2ZW50cywgYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXNTaW5nbGUpO1xufVxuXG52YXIgRXZlbnRQcm9wYWdhdG9ycyA9IE9iamVjdC5mcmVlemUoe1xuXHRhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzOiBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzLFxuXHRhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2tpcFRhcmdldDogYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NraXBUYXJnZXQsXG5cdGFjY3VtdWxhdGVFbnRlckxlYXZlRGlzcGF0Y2hlczogYWNjdW11bGF0ZUVudGVyTGVhdmVEaXNwYXRjaGVzLFxuXHRhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlczogYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXNcbn0pO1xuXG52YXIgY29udGVudEtleSA9IG51bGw7XG5cbi8qKlxuICogR2V0cyB0aGUga2V5IHVzZWQgdG8gYWNjZXNzIHRleHQgY29udGVudCBvbiBhIERPTSBub2RlLlxuICpcbiAqIEByZXR1cm4gez9zdHJpbmd9IEtleSB1c2VkIHRvIGFjY2VzcyB0ZXh0IGNvbnRlbnQuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gZ2V0VGV4dENvbnRlbnRBY2Nlc3NvcigpIHtcbiAgaWYgKCFjb250ZW50S2V5ICYmIEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAgIC8vIFByZWZlciB0ZXh0Q29udGVudCB0byBpbm5lclRleHQgYmVjYXVzZSBtYW55IGJyb3dzZXJzIHN1cHBvcnQgYm90aCBidXRcbiAgICAvLyBTVkcgPHRleHQ+IGVsZW1lbnRzIGRvbid0IHN1cHBvcnQgaW5uZXJUZXh0IGV2ZW4gd2hlbiA8ZGl2PiBkb2VzLlxuICAgIGNvbnRlbnRLZXkgPSAndGV4dENvbnRlbnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA/ICd0ZXh0Q29udGVudCcgOiAnaW5uZXJUZXh0JztcbiAgfVxuICByZXR1cm4gY29udGVudEtleTtcbn1cblxuLyoqXG4gKiBUaGlzIGhlbHBlciBvYmplY3Qgc3RvcmVzIGluZm9ybWF0aW9uIGFib3V0IHRleHQgY29udGVudCBvZiBhIHRhcmdldCBub2RlLFxuICogYWxsb3dpbmcgY29tcGFyaXNvbiBvZiBjb250ZW50IGJlZm9yZSBhbmQgYWZ0ZXIgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBJZGVudGlmeSB0aGUgbm9kZSB3aGVyZSBzZWxlY3Rpb24gY3VycmVudGx5IGJlZ2lucywgdGhlbiBvYnNlcnZlXG4gKiBib3RoIGl0cyB0ZXh0IGNvbnRlbnQgYW5kIGl0cyBjdXJyZW50IHBvc2l0aW9uIGluIHRoZSBET00uIFNpbmNlIHRoZVxuICogYnJvd3NlciBtYXkgbmF0aXZlbHkgcmVwbGFjZSB0aGUgdGFyZ2V0IG5vZGUgZHVyaW5nIGNvbXBvc2l0aW9uLCB3ZSBjYW5cbiAqIHVzZSBpdHMgcG9zaXRpb24gdG8gZmluZCBpdHMgcmVwbGFjZW1lbnQuXG4gKlxuICpcbiAqL1xudmFyIGNvbXBvc2l0aW9uU3RhdGUgPSB7XG4gIF9yb290OiBudWxsLFxuICBfc3RhcnRUZXh0OiBudWxsLFxuICBfZmFsbGJhY2tUZXh0OiBudWxsXG59O1xuXG5mdW5jdGlvbiBpbml0aWFsaXplKG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gIGNvbXBvc2l0aW9uU3RhdGUuX3Jvb3QgPSBuYXRpdmVFdmVudFRhcmdldDtcbiAgY29tcG9zaXRpb25TdGF0ZS5fc3RhcnRUZXh0ID0gZ2V0VGV4dCgpO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcmVzZXQoKSB7XG4gIGNvbXBvc2l0aW9uU3RhdGUuX3Jvb3QgPSBudWxsO1xuICBjb21wb3NpdGlvblN0YXRlLl9zdGFydFRleHQgPSBudWxsO1xuICBjb21wb3NpdGlvblN0YXRlLl9mYWxsYmFja1RleHQgPSBudWxsO1xufVxuXG5mdW5jdGlvbiBnZXREYXRhKCkge1xuICBpZiAoY29tcG9zaXRpb25TdGF0ZS5fZmFsbGJhY2tUZXh0KSB7XG4gICAgcmV0dXJuIGNvbXBvc2l0aW9uU3RhdGUuX2ZhbGxiYWNrVGV4dDtcbiAgfVxuXG4gIHZhciBzdGFydCA9IHZvaWQgMDtcbiAgdmFyIHN0YXJ0VmFsdWUgPSBjb21wb3NpdGlvblN0YXRlLl9zdGFydFRleHQ7XG4gIHZhciBzdGFydExlbmd0aCA9IHN0YXJ0VmFsdWUubGVuZ3RoO1xuICB2YXIgZW5kID0gdm9pZCAwO1xuICB2YXIgZW5kVmFsdWUgPSBnZXRUZXh0KCk7XG4gIHZhciBlbmRMZW5ndGggPSBlbmRWYWx1ZS5sZW5ndGg7XG5cbiAgZm9yIChzdGFydCA9IDA7IHN0YXJ0IDwgc3RhcnRMZW5ndGg7IHN0YXJ0KyspIHtcbiAgICBpZiAoc3RhcnRWYWx1ZVtzdGFydF0gIT09IGVuZFZhbHVlW3N0YXJ0XSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdmFyIG1pbkVuZCA9IHN0YXJ0TGVuZ3RoIC0gc3RhcnQ7XG4gIGZvciAoZW5kID0gMTsgZW5kIDw9IG1pbkVuZDsgZW5kKyspIHtcbiAgICBpZiAoc3RhcnRWYWx1ZVtzdGFydExlbmd0aCAtIGVuZF0gIT09IGVuZFZhbHVlW2VuZExlbmd0aCAtIGVuZF0pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHZhciBzbGljZVRhaWwgPSBlbmQgPiAxID8gMSAtIGVuZCA6IHVuZGVmaW5lZDtcbiAgY29tcG9zaXRpb25TdGF0ZS5fZmFsbGJhY2tUZXh0ID0gZW5kVmFsdWUuc2xpY2Uoc3RhcnQsIHNsaWNlVGFpbCk7XG4gIHJldHVybiBjb21wb3NpdGlvblN0YXRlLl9mYWxsYmFja1RleHQ7XG59XG5cbmZ1bmN0aW9uIGdldFRleHQoKSB7XG4gIGlmICgndmFsdWUnIGluIGNvbXBvc2l0aW9uU3RhdGUuX3Jvb3QpIHtcbiAgICByZXR1cm4gY29tcG9zaXRpb25TdGF0ZS5fcm9vdC52YWx1ZTtcbiAgfVxuICByZXR1cm4gY29tcG9zaXRpb25TdGF0ZS5fcm9vdFtnZXRUZXh0Q29udGVudEFjY2Vzc29yKCldO1xufVxuXG4vKiBlc2xpbnQgdmFsaWQtdHlwZW9mOiAwICovXG5cbnZhciBkaWRXYXJuRm9yQWRkZWROZXdQcm9wZXJ0eSA9IGZhbHNlO1xudmFyIEVWRU5UX1BPT0xfU0laRSA9IDEwO1xuXG52YXIgc2hvdWxkQmVSZWxlYXNlZFByb3BlcnRpZXMgPSBbJ2Rpc3BhdGNoQ29uZmlnJywgJ190YXJnZXRJbnN0JywgJ25hdGl2ZUV2ZW50JywgJ2lzRGVmYXVsdFByZXZlbnRlZCcsICdpc1Byb3BhZ2F0aW9uU3RvcHBlZCcsICdfZGlzcGF0Y2hMaXN0ZW5lcnMnLCAnX2Rpc3BhdGNoSW5zdGFuY2VzJ107XG5cbi8qKlxuICogQGludGVyZmFjZSBFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvXG4gKi9cbnZhciBFdmVudEludGVyZmFjZSA9IHtcbiAgdHlwZTogbnVsbCxcbiAgdGFyZ2V0OiBudWxsLFxuICAvLyBjdXJyZW50VGFyZ2V0IGlzIHNldCB3aGVuIGRpc3BhdGNoaW5nOyBubyB1c2UgaW4gY29weWluZyBpdCBoZXJlXG4gIGN1cnJlbnRUYXJnZXQ6IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNOdWxsLFxuICBldmVudFBoYXNlOiBudWxsLFxuICBidWJibGVzOiBudWxsLFxuICBjYW5jZWxhYmxlOiBudWxsLFxuICB0aW1lU3RhbXA6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHJldHVybiBldmVudC50aW1lU3RhbXAgfHwgRGF0ZS5ub3coKTtcbiAgfSxcbiAgZGVmYXVsdFByZXZlbnRlZDogbnVsbCxcbiAgaXNUcnVzdGVkOiBudWxsXG59O1xuXG4vKipcbiAqIFN5bnRoZXRpYyBldmVudHMgYXJlIGRpc3BhdGNoZWQgYnkgZXZlbnQgcGx1Z2lucywgdHlwaWNhbGx5IGluIHJlc3BvbnNlIHRvIGFcbiAqIHRvcC1sZXZlbCBldmVudCBkZWxlZ2F0aW9uIGhhbmRsZXIuXG4gKlxuICogVGhlc2Ugc3lzdGVtcyBzaG91bGQgZ2VuZXJhbGx5IHVzZSBwb29saW5nIHRvIHJlZHVjZSB0aGUgZnJlcXVlbmN5IG9mIGdhcmJhZ2VcbiAqIGNvbGxlY3Rpb24uIFRoZSBzeXN0ZW0gc2hvdWxkIGNoZWNrIGBpc1BlcnNpc3RlbnRgIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZVxuICogZXZlbnQgc2hvdWxkIGJlIHJlbGVhc2VkIGludG8gdGhlIHBvb2wgYWZ0ZXIgYmVpbmcgZGlzcGF0Y2hlZC4gVXNlcnMgdGhhdFxuICogbmVlZCBhIHBlcnNpc3RlZCBldmVudCBzaG91bGQgaW52b2tlIGBwZXJzaXN0YC5cbiAqXG4gKiBTeW50aGV0aWMgZXZlbnRzIChhbmQgc3ViY2xhc3NlcykgaW1wbGVtZW50IHRoZSBET00gTGV2ZWwgMyBFdmVudHMgQVBJIGJ5XG4gKiBub3JtYWxpemluZyBicm93c2VyIHF1aXJrcy4gU3ViY2xhc3NlcyBkbyBub3QgbmVjZXNzYXJpbHkgaGF2ZSB0byBpbXBsZW1lbnQgYVxuICogRE9NIGludGVyZmFjZTsgY3VzdG9tIGFwcGxpY2F0aW9uLXNwZWNpZmljIGV2ZW50cyBjYW4gYWxzbyBzdWJjbGFzcyB0aGlzLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBkaXNwYXRjaENvbmZpZyBDb25maWd1cmF0aW9uIHVzZWQgdG8gZGlzcGF0Y2ggdGhpcyBldmVudC5cbiAqIEBwYXJhbSB7Kn0gdGFyZ2V0SW5zdCBNYXJrZXIgaWRlbnRpZnlpbmcgdGhlIGV2ZW50IHRhcmdldC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudCBOYXRpdmUgYnJvd3NlciBldmVudC5cbiAqIEBwYXJhbSB7RE9NRXZlbnRUYXJnZXR9IG5hdGl2ZUV2ZW50VGFyZ2V0IFRhcmdldCBub2RlLlxuICovXG5mdW5jdGlvbiBTeW50aGV0aWNFdmVudChkaXNwYXRjaENvbmZpZywgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gIHtcbiAgICAvLyB0aGVzZSBoYXZlIGEgZ2V0dGVyL3NldHRlciBmb3Igd2FybmluZ3NcbiAgICBkZWxldGUgdGhpcy5uYXRpdmVFdmVudDtcbiAgICBkZWxldGUgdGhpcy5wcmV2ZW50RGVmYXVsdDtcbiAgICBkZWxldGUgdGhpcy5zdG9wUHJvcGFnYXRpb247XG4gIH1cblxuICB0aGlzLmRpc3BhdGNoQ29uZmlnID0gZGlzcGF0Y2hDb25maWc7XG4gIHRoaXMuX3RhcmdldEluc3QgPSB0YXJnZXRJbnN0O1xuICB0aGlzLm5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQ7XG5cbiAgdmFyIEludGVyZmFjZSA9IHRoaXMuY29uc3RydWN0b3IuSW50ZXJmYWNlO1xuICBmb3IgKHZhciBwcm9wTmFtZSBpbiBJbnRlcmZhY2UpIHtcbiAgICBpZiAoIUludGVyZmFjZS5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB7XG4gICAgICBkZWxldGUgdGhpc1twcm9wTmFtZV07IC8vIHRoaXMgaGFzIGEgZ2V0dGVyL3NldHRlciBmb3Igd2FybmluZ3NcbiAgICB9XG4gICAgdmFyIG5vcm1hbGl6ZSA9IEludGVyZmFjZVtwcm9wTmFtZV07XG4gICAgaWYgKG5vcm1hbGl6ZSkge1xuICAgICAgdGhpc1twcm9wTmFtZV0gPSBub3JtYWxpemUobmF0aXZlRXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocHJvcE5hbWUgPT09ICd0YXJnZXQnKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbmF0aXZlRXZlbnRUYXJnZXQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzW3Byb3BOYW1lXSA9IG5hdGl2ZUV2ZW50W3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgZGVmYXVsdFByZXZlbnRlZCA9IG5hdGl2ZUV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgIT0gbnVsbCA/IG5hdGl2ZUV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgOiBuYXRpdmVFdmVudC5yZXR1cm5WYWx1ZSA9PT0gZmFsc2U7XG4gIGlmIChkZWZhdWx0UHJldmVudGVkKSB7XG4gICAgdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZTtcbiAgfVxuICB0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0ZhbHNlO1xuICByZXR1cm4gdGhpcztcbn1cblxuX2Fzc2lnbihTeW50aGV0aWNFdmVudC5wcm90b3R5cGUsIHtcbiAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgIHZhciBldmVudCA9IHRoaXMubmF0aXZlRXZlbnQ7XG4gICAgaWYgKCFldmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChldmVudC5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBldmVudC5yZXR1cm5WYWx1ZSAhPT0gJ3Vua25vd24nKSB7XG4gICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUcnVlO1xuICB9LFxuXG4gIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24gKCkge1xuICAgIHZhciBldmVudCA9IHRoaXMubmF0aXZlRXZlbnQ7XG4gICAgaWYgKCFldmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChldmVudC5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV2ZW50LmNhbmNlbEJ1YmJsZSAhPT0gJ3Vua25vd24nKSB7XG4gICAgICAvLyBUaGUgQ2hhbmdlRXZlbnRQbHVnaW4gcmVnaXN0ZXJzIGEgXCJwcm9wZXJ0eWNoYW5nZVwiIGV2ZW50IGZvclxuICAgICAgLy8gSUUuIFRoaXMgZXZlbnQgZG9lcyBub3Qgc3VwcG9ydCBidWJibGluZyBvciBjYW5jZWxsaW5nLCBhbmRcbiAgICAgIC8vIGFueSByZWZlcmVuY2VzIHRvIGNhbmNlbEJ1YmJsZSB0aHJvdyBcIk1lbWJlciBub3QgZm91bmRcIi4gIEFcbiAgICAgIC8vIHR5cGVvZiBjaGVjayBvZiBcInVua25vd25cIiBjaXJjdW12ZW50cyB0aGlzIGlzc3VlIChhbmQgaXMgYWxzb1xuICAgICAgLy8gSUUgc3BlY2lmaWMpLlxuICAgICAgZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFdlIHJlbGVhc2UgYWxsIGRpc3BhdGNoZWQgYFN5bnRoZXRpY0V2ZW50YHMgYWZ0ZXIgZWFjaCBldmVudCBsb29wLCBhZGRpbmdcbiAgICogdGhlbSBiYWNrIGludG8gdGhlIHBvb2wuIFRoaXMgYWxsb3dzIGEgd2F5IHRvIGhvbGQgb250byBhIHJlZmVyZW5jZSB0aGF0XG4gICAqIHdvbid0IGJlIGFkZGVkIGJhY2sgaW50byB0aGUgcG9vbC5cbiAgICovXG4gIHBlcnNpc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmlzUGVyc2lzdGVudCA9IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUcnVlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhpcyBldmVudCBzaG91bGQgYmUgcmVsZWFzZWQgYmFjayBpbnRvIHRoZSBwb29sLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoaXMgc2hvdWxkIG5vdCBiZSByZWxlYXNlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgaXNQZXJzaXN0ZW50OiBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2UsXG5cbiAgLyoqXG4gICAqIGBQb29sZWRDbGFzc2AgbG9va3MgZm9yIGBkZXN0cnVjdG9yYCBvbiBlYWNoIGluc3RhbmNlIGl0IHJlbGVhc2VzLlxuICAgKi9cbiAgZGVzdHJ1Y3RvcjogZnVuY3Rpb24gKCkge1xuICAgIHZhciBJbnRlcmZhY2UgPSB0aGlzLmNvbnN0cnVjdG9yLkludGVyZmFjZTtcbiAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBJbnRlcmZhY2UpIHtcbiAgICAgIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIHByb3BOYW1lLCBnZXRQb29sZWRXYXJuaW5nUHJvcGVydHlEZWZpbml0aW9uKHByb3BOYW1lLCBJbnRlcmZhY2VbcHJvcE5hbWVdKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2hvdWxkQmVSZWxlYXNlZFByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXNbc2hvdWxkQmVSZWxlYXNlZFByb3BlcnRpZXNbaV1dID0gbnVsbDtcbiAgICB9XG4gICAge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICduYXRpdmVFdmVudCcsIGdldFBvb2xlZFdhcm5pbmdQcm9wZXJ0eURlZmluaXRpb24oJ25hdGl2ZUV2ZW50JywgbnVsbCkpO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdwcmV2ZW50RGVmYXVsdCcsIGdldFBvb2xlZFdhcm5pbmdQcm9wZXJ0eURlZmluaXRpb24oJ3ByZXZlbnREZWZhdWx0JywgZW1wdHlGdW5jdGlvbikpO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdzdG9wUHJvcGFnYXRpb24nLCBnZXRQb29sZWRXYXJuaW5nUHJvcGVydHlEZWZpbml0aW9uKCdzdG9wUHJvcGFnYXRpb24nLCBlbXB0eUZ1bmN0aW9uKSk7XG4gICAgfVxuICB9XG59KTtcblxuU3ludGhldGljRXZlbnQuSW50ZXJmYWNlID0gRXZlbnRJbnRlcmZhY2U7XG5cbi8qKlxuICogSGVscGVyIHRvIHJlZHVjZSBib2lsZXJwbGF0ZSB3aGVuIGNyZWF0aW5nIHN1YmNsYXNzZXMuXG4gKi9cblN5bnRoZXRpY0V2ZW50LmV4dGVuZCA9IGZ1bmN0aW9uIChJbnRlcmZhY2UpIHtcbiAgdmFyIFN1cGVyID0gdGhpcztcblxuICB2YXIgRSA9IGZ1bmN0aW9uICgpIHt9O1xuICBFLnByb3RvdHlwZSA9IFN1cGVyLnByb3RvdHlwZTtcbiAgdmFyIHByb3RvdHlwZSA9IG5ldyBFKCk7XG5cbiAgZnVuY3Rpb24gQ2xhc3MoKSB7XG4gICAgcmV0dXJuIFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cbiAgX2Fzc2lnbihwcm90b3R5cGUsIENsYXNzLnByb3RvdHlwZSk7XG4gIENsYXNzLnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ2xhc3M7XG5cbiAgQ2xhc3MuSW50ZXJmYWNlID0gX2Fzc2lnbih7fSwgU3VwZXIuSW50ZXJmYWNlLCBJbnRlcmZhY2UpO1xuICBDbGFzcy5leHRlbmQgPSBTdXBlci5leHRlbmQ7XG4gIGFkZEV2ZW50UG9vbGluZ1RvKENsYXNzKTtcblxuICByZXR1cm4gQ2xhc3M7XG59O1xuXG4vKiogUHJveHlpbmcgYWZ0ZXIgZXZlcnl0aGluZyBzZXQgb24gU3ludGhldGljRXZlbnRcbiAqIHRvIHJlc29sdmUgUHJveHkgaXNzdWUgb24gc29tZSBXZWJLaXQgYnJvd3NlcnNcbiAqIGluIHdoaWNoIHNvbWUgRXZlbnQgcHJvcGVydGllcyBhcmUgc2V0IHRvIHVuZGVmaW5lZCAoR0gjMTAwMTApXG4gKi9cbntcbiAgdmFyIGlzUHJveHlTdXBwb3J0ZWQgPSB0eXBlb2YgUHJveHkgPT09ICdmdW5jdGlvbicgJiZcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xMjAxMVxuICAhT2JqZWN0LmlzU2VhbGVkKG5ldyBQcm94eSh7fSwge30pKTtcblxuICBpZiAoaXNQcm94eVN1cHBvcnRlZCkge1xuICAgIC8qZXNsaW50LWRpc2FibGUgbm8tZnVuYy1hc3NpZ24gKi9cbiAgICBTeW50aGV0aWNFdmVudCA9IG5ldyBQcm94eShTeW50aGV0aWNFdmVudCwge1xuICAgICAgY29uc3RydWN0OiBmdW5jdGlvbiAodGFyZ2V0LCBhcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcGx5KHRhcmdldCwgT2JqZWN0LmNyZWF0ZSh0YXJnZXQucHJvdG90eXBlKSwgYXJncyk7XG4gICAgICB9LFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uIChjb25zdHJ1Y3RvciwgdGhhdCwgYXJncykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3h5KGNvbnN0cnVjdG9yLmFwcGx5KHRoYXQsIGFyZ3MpLCB7XG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiAodGFyZ2V0LCBwcm9wLCB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHByb3AgIT09ICdpc1BlcnNpc3RlbnQnICYmICF0YXJnZXQuY29uc3RydWN0b3IuSW50ZXJmYWNlLmhhc093blByb3BlcnR5KHByb3ApICYmIHNob3VsZEJlUmVsZWFzZWRQcm9wZXJ0aWVzLmluZGV4T2YocHJvcCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgIHdhcm5pbmcoZGlkV2FybkZvckFkZGVkTmV3UHJvcGVydHkgfHwgdGFyZ2V0LmlzUGVyc2lzdGVudCgpLCBcIlRoaXMgc3ludGhldGljIGV2ZW50IGlzIHJldXNlZCBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucy4gSWYgeW91J3JlIFwiICsgXCJzZWVpbmcgdGhpcywgeW91J3JlIGFkZGluZyBhIG5ldyBwcm9wZXJ0eSBpbiB0aGUgc3ludGhldGljIGV2ZW50IG9iamVjdC4gXCIgKyAnVGhlIHByb3BlcnR5IGlzIG5ldmVyIHJlbGVhc2VkLiBTZWUgJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWV2ZW50LXBvb2xpbmcgZm9yIG1vcmUgaW5mb3JtYXRpb24uJyk7XG4gICAgICAgICAgICAgIGRpZFdhcm5Gb3JBZGRlZE5ld1Byb3BlcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvKmVzbGludC1lbmFibGUgbm8tZnVuYy1hc3NpZ24gKi9cbiAgfVxufVxuXG5hZGRFdmVudFBvb2xpbmdUbyhTeW50aGV0aWNFdmVudCk7XG5cbi8qKlxuICogSGVscGVyIHRvIG51bGxpZnkgc3ludGhldGljRXZlbnQgaW5zdGFuY2UgcHJvcGVydGllcyB3aGVuIGRlc3RydWN0aW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BOYW1lXG4gKiBAcGFyYW0gez9vYmplY3R9IGdldFZhbFxuICogQHJldHVybiB7b2JqZWN0fSBkZWZpbmVQcm9wZXJ0eSBvYmplY3RcbiAqL1xuZnVuY3Rpb24gZ2V0UG9vbGVkV2FybmluZ1Byb3BlcnR5RGVmaW5pdGlvbihwcm9wTmFtZSwgZ2V0VmFsKSB7XG4gIHZhciBpc0Z1bmN0aW9uID0gdHlwZW9mIGdldFZhbCA9PT0gJ2Z1bmN0aW9uJztcbiAgcmV0dXJuIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgc2V0OiBzZXQsXG4gICAgZ2V0OiBnZXRcbiAgfTtcblxuICBmdW5jdGlvbiBzZXQodmFsKSB7XG4gICAgdmFyIGFjdGlvbiA9IGlzRnVuY3Rpb24gPyAnc2V0dGluZyB0aGUgbWV0aG9kJyA6ICdzZXR0aW5nIHRoZSBwcm9wZXJ0eSc7XG4gICAgd2FybihhY3Rpb24sICdUaGlzIGlzIGVmZmVjdGl2ZWx5IGEgbm8tb3AnKTtcbiAgICByZXR1cm4gdmFsO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0KCkge1xuICAgIHZhciBhY3Rpb24gPSBpc0Z1bmN0aW9uID8gJ2FjY2Vzc2luZyB0aGUgbWV0aG9kJyA6ICdhY2Nlc3NpbmcgdGhlIHByb3BlcnR5JztcbiAgICB2YXIgcmVzdWx0ID0gaXNGdW5jdGlvbiA/ICdUaGlzIGlzIGEgbm8tb3AgZnVuY3Rpb24nIDogJ1RoaXMgaXMgc2V0IHRvIG51bGwnO1xuICAgIHdhcm4oYWN0aW9uLCByZXN1bHQpO1xuICAgIHJldHVybiBnZXRWYWw7XG4gIH1cblxuICBmdW5jdGlvbiB3YXJuKGFjdGlvbiwgcmVzdWx0KSB7XG4gICAgdmFyIHdhcm5pbmdDb25kaXRpb24gPSBmYWxzZTtcbiAgICB3YXJuaW5nKHdhcm5pbmdDb25kaXRpb24sIFwiVGhpcyBzeW50aGV0aWMgZXZlbnQgaXMgcmV1c2VkIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLiBJZiB5b3UncmUgc2VlaW5nIHRoaXMsIFwiICsgXCJ5b3UncmUgJXMgYCVzYCBvbiBhIHJlbGVhc2VkL251bGxpZmllZCBzeW50aGV0aWMgZXZlbnQuICVzLiBcIiArICdJZiB5b3UgbXVzdCBrZWVwIHRoZSBvcmlnaW5hbCBzeW50aGV0aWMgZXZlbnQgYXJvdW5kLCB1c2UgZXZlbnQucGVyc2lzdCgpLiAnICsgJ1NlZSBodHRwczovL2ZiLm1lL3JlYWN0LWV2ZW50LXBvb2xpbmcgZm9yIG1vcmUgaW5mb3JtYXRpb24uJywgYWN0aW9uLCBwcm9wTmFtZSwgcmVzdWx0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRQb29sZWRFdmVudChkaXNwYXRjaENvbmZpZywgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUluc3QpIHtcbiAgdmFyIEV2ZW50Q29uc3RydWN0b3IgPSB0aGlzO1xuICBpZiAoRXZlbnRDb25zdHJ1Y3Rvci5ldmVudFBvb2wubGVuZ3RoKSB7XG4gICAgdmFyIGluc3RhbmNlID0gRXZlbnRDb25zdHJ1Y3Rvci5ldmVudFBvb2wucG9wKCk7XG4gICAgRXZlbnRDb25zdHJ1Y3Rvci5jYWxsKGluc3RhbmNlLCBkaXNwYXRjaENvbmZpZywgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUluc3QpO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfVxuICByZXR1cm4gbmV3IEV2ZW50Q29uc3RydWN0b3IoZGlzcGF0Y2hDb25maWcsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVJbnN0KTtcbn1cblxuZnVuY3Rpb24gcmVsZWFzZVBvb2xlZEV2ZW50KGV2ZW50KSB7XG4gIHZhciBFdmVudENvbnN0cnVjdG9yID0gdGhpcztcbiAgIShldmVudCBpbnN0YW5jZW9mIEV2ZW50Q29uc3RydWN0b3IpID8gaW52YXJpYW50KGZhbHNlLCAnVHJ5aW5nIHRvIHJlbGVhc2UgYW4gZXZlbnQgaW5zdGFuY2UgIGludG8gYSBwb29sIG9mIGEgZGlmZmVyZW50IHR5cGUuJykgOiB2b2lkIDA7XG4gIGV2ZW50LmRlc3RydWN0b3IoKTtcbiAgaWYgKEV2ZW50Q29uc3RydWN0b3IuZXZlbnRQb29sLmxlbmd0aCA8IEVWRU5UX1BPT0xfU0laRSkge1xuICAgIEV2ZW50Q29uc3RydWN0b3IuZXZlbnRQb29sLnB1c2goZXZlbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFkZEV2ZW50UG9vbGluZ1RvKEV2ZW50Q29uc3RydWN0b3IpIHtcbiAgRXZlbnRDb25zdHJ1Y3Rvci5ldmVudFBvb2wgPSBbXTtcbiAgRXZlbnRDb25zdHJ1Y3Rvci5nZXRQb29sZWQgPSBnZXRQb29sZWRFdmVudDtcbiAgRXZlbnRDb25zdHJ1Y3Rvci5yZWxlYXNlID0gcmVsZWFzZVBvb2xlZEV2ZW50O1xufVxuXG52YXIgU3ludGhldGljRXZlbnQkMSA9IFN5bnRoZXRpY0V2ZW50O1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgRXZlbnRcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLyNldmVudHMtY29tcG9zaXRpb25ldmVudHNcbiAqL1xudmFyIFN5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQgPSBTeW50aGV0aWNFdmVudCQxLmV4dGVuZCh7XG4gIGRhdGE6IG51bGxcbn0pO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgRXZlbnRcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMy9XRC1ET00tTGV2ZWwtMy1FdmVudHMtMjAxMzExMDVcbiAqICAgICAgLyNldmVudHMtaW5wdXRldmVudHNcbiAqL1xudmFyIFN5bnRoZXRpY0lucHV0RXZlbnQgPSBTeW50aGV0aWNFdmVudCQxLmV4dGVuZCh7XG4gIGRhdGE6IG51bGxcbn0pO1xuXG52YXIgRU5EX0tFWUNPREVTID0gWzksIDEzLCAyNywgMzJdOyAvLyBUYWIsIFJldHVybiwgRXNjLCBTcGFjZVxudmFyIFNUQVJUX0tFWUNPREUgPSAyMjk7XG5cbnZhciBjYW5Vc2VDb21wb3NpdGlvbkV2ZW50ID0gRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmICdDb21wb3NpdGlvbkV2ZW50JyBpbiB3aW5kb3c7XG5cbnZhciBkb2N1bWVudE1vZGUgPSBudWxsO1xuaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiAnZG9jdW1lbnRNb2RlJyBpbiBkb2N1bWVudCkge1xuICBkb2N1bWVudE1vZGUgPSBkb2N1bWVudC5kb2N1bWVudE1vZGU7XG59XG5cbi8vIFdlYmtpdCBvZmZlcnMgYSB2ZXJ5IHVzZWZ1bCBgdGV4dElucHV0YCBldmVudCB0aGF0IGNhbiBiZSB1c2VkIHRvXG4vLyBkaXJlY3RseSByZXByZXNlbnQgYGJlZm9yZUlucHV0YC4gVGhlIElFIGB0ZXh0aW5wdXRgIGV2ZW50IGlzIG5vdCBhc1xuLy8gdXNlZnVsLCBzbyB3ZSBkb24ndCB1c2UgaXQuXG52YXIgY2FuVXNlVGV4dElucHV0RXZlbnQgPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgJ1RleHRFdmVudCcgaW4gd2luZG93ICYmICFkb2N1bWVudE1vZGU7XG5cbi8vIEluIElFOSssIHdlIGhhdmUgYWNjZXNzIHRvIGNvbXBvc2l0aW9uIGV2ZW50cywgYnV0IHRoZSBkYXRhIHN1cHBsaWVkXG4vLyBieSB0aGUgbmF0aXZlIGNvbXBvc2l0aW9uZW5kIGV2ZW50IG1heSBiZSBpbmNvcnJlY3QuIEphcGFuZXNlIGlkZW9ncmFwaGljXG4vLyBzcGFjZXMsIGZvciBpbnN0YW5jZSAoXFx1MzAwMCkgYXJlIG5vdCByZWNvcmRlZCBjb3JyZWN0bHkuXG52YXIgdXNlRmFsbGJhY2tDb21wb3NpdGlvbkRhdGEgPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgKCFjYW5Vc2VDb21wb3NpdGlvbkV2ZW50IHx8IGRvY3VtZW50TW9kZSAmJiBkb2N1bWVudE1vZGUgPiA4ICYmIGRvY3VtZW50TW9kZSA8PSAxMSk7XG5cbnZhciBTUEFDRUJBUl9DT0RFID0gMzI7XG52YXIgU1BBQ0VCQVJfQ0hBUiA9IFN0cmluZy5mcm9tQ2hhckNvZGUoU1BBQ0VCQVJfQ09ERSk7XG5cbi8vIEV2ZW50cyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSBuYW1lcy5cbnZhciBldmVudFR5cGVzID0ge1xuICBiZWZvcmVJbnB1dDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiAnb25CZWZvcmVJbnB1dCcsXG4gICAgICBjYXB0dXJlZDogJ29uQmVmb3JlSW5wdXRDYXB0dXJlJ1xuICAgIH0sXG4gICAgZGVwZW5kZW5jaWVzOiBbJ3RvcENvbXBvc2l0aW9uRW5kJywgJ3RvcEtleVByZXNzJywgJ3RvcFRleHRJbnB1dCcsICd0b3BQYXN0ZSddXG4gIH0sXG4gIGNvbXBvc2l0aW9uRW5kOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6ICdvbkNvbXBvc2l0aW9uRW5kJyxcbiAgICAgIGNhcHR1cmVkOiAnb25Db21wb3NpdGlvbkVuZENhcHR1cmUnXG4gICAgfSxcbiAgICBkZXBlbmRlbmNpZXM6IFsndG9wQmx1cicsICd0b3BDb21wb3NpdGlvbkVuZCcsICd0b3BLZXlEb3duJywgJ3RvcEtleVByZXNzJywgJ3RvcEtleVVwJywgJ3RvcE1vdXNlRG93biddXG4gIH0sXG4gIGNvbXBvc2l0aW9uU3RhcnQ6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDogJ29uQ29tcG9zaXRpb25TdGFydCcsXG4gICAgICBjYXB0dXJlZDogJ29uQ29tcG9zaXRpb25TdGFydENhcHR1cmUnXG4gICAgfSxcbiAgICBkZXBlbmRlbmNpZXM6IFsndG9wQmx1cicsICd0b3BDb21wb3NpdGlvblN0YXJ0JywgJ3RvcEtleURvd24nLCAndG9wS2V5UHJlc3MnLCAndG9wS2V5VXAnLCAndG9wTW91c2VEb3duJ11cbiAgfSxcbiAgY29tcG9zaXRpb25VcGRhdGU6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDogJ29uQ29tcG9zaXRpb25VcGRhdGUnLFxuICAgICAgY2FwdHVyZWQ6ICdvbkNvbXBvc2l0aW9uVXBkYXRlQ2FwdHVyZSdcbiAgICB9LFxuICAgIGRlcGVuZGVuY2llczogWyd0b3BCbHVyJywgJ3RvcENvbXBvc2l0aW9uVXBkYXRlJywgJ3RvcEtleURvd24nLCAndG9wS2V5UHJlc3MnLCAndG9wS2V5VXAnLCAndG9wTW91c2VEb3duJ11cbiAgfVxufTtcblxuLy8gVHJhY2sgd2hldGhlciB3ZSd2ZSBldmVyIGhhbmRsZWQgYSBrZXlwcmVzcyBvbiB0aGUgc3BhY2Uga2V5LlxudmFyIGhhc1NwYWNlS2V5cHJlc3MgPSBmYWxzZTtcblxuLyoqXG4gKiBSZXR1cm4gd2hldGhlciBhIG5hdGl2ZSBrZXlwcmVzcyBldmVudCBpcyBhc3N1bWVkIHRvIGJlIGEgY29tbWFuZC5cbiAqIFRoaXMgaXMgcmVxdWlyZWQgYmVjYXVzZSBGaXJlZm94IGZpcmVzIGBrZXlwcmVzc2AgZXZlbnRzIGZvciBrZXkgY29tbWFuZHNcbiAqIChjdXQsIGNvcHksIHNlbGVjdC1hbGwsIGV0Yy4pIGV2ZW4gdGhvdWdoIG5vIGNoYXJhY3RlciBpcyBpbnNlcnRlZC5cbiAqL1xuZnVuY3Rpb24gaXNLZXlwcmVzc0NvbW1hbmQobmF0aXZlRXZlbnQpIHtcbiAgcmV0dXJuIChuYXRpdmVFdmVudC5jdHJsS2V5IHx8IG5hdGl2ZUV2ZW50LmFsdEtleSB8fCBuYXRpdmVFdmVudC5tZXRhS2V5KSAmJlxuICAvLyBjdHJsS2V5ICYmIGFsdEtleSBpcyBlcXVpdmFsZW50IHRvIEFsdEdyLCBhbmQgaXMgbm90IGEgY29tbWFuZC5cbiAgIShuYXRpdmVFdmVudC5jdHJsS2V5ICYmIG5hdGl2ZUV2ZW50LmFsdEtleSk7XG59XG5cbi8qKlxuICogVHJhbnNsYXRlIG5hdGl2ZSB0b3AgbGV2ZWwgZXZlbnRzIGludG8gZXZlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRvcExldmVsVHlwZVxuICogQHJldHVybiB7b2JqZWN0fVxuICovXG5mdW5jdGlvbiBnZXRDb21wb3NpdGlvbkV2ZW50VHlwZSh0b3BMZXZlbFR5cGUpIHtcbiAgc3dpdGNoICh0b3BMZXZlbFR5cGUpIHtcbiAgICBjYXNlICd0b3BDb21wb3NpdGlvblN0YXJ0JzpcbiAgICAgIHJldHVybiBldmVudFR5cGVzLmNvbXBvc2l0aW9uU3RhcnQ7XG4gICAgY2FzZSAndG9wQ29tcG9zaXRpb25FbmQnOlxuICAgICAgcmV0dXJuIGV2ZW50VHlwZXMuY29tcG9zaXRpb25FbmQ7XG4gICAgY2FzZSAndG9wQ29tcG9zaXRpb25VcGRhdGUnOlxuICAgICAgcmV0dXJuIGV2ZW50VHlwZXMuY29tcG9zaXRpb25VcGRhdGU7XG4gIH1cbn1cblxuLyoqXG4gKiBEb2VzIG91ciBmYWxsYmFjayBiZXN0LWd1ZXNzIG1vZGVsIHRoaW5rIHRoaXMgZXZlbnQgc2lnbmlmaWVzIHRoYXRcbiAqIGNvbXBvc2l0aW9uIGhhcyBiZWd1bj9cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUeXBlXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzRmFsbGJhY2tDb21wb3NpdGlvblN0YXJ0KHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpIHtcbiAgcmV0dXJuIHRvcExldmVsVHlwZSA9PT0gJ3RvcEtleURvd24nICYmIG5hdGl2ZUV2ZW50LmtleUNvZGUgPT09IFNUQVJUX0tFWUNPREU7XG59XG5cbi8qKlxuICogRG9lcyBvdXIgZmFsbGJhY2sgbW9kZSB0aGluayB0aGF0IHRoaXMgZXZlbnQgaXMgdGhlIGVuZCBvZiBjb21wb3NpdGlvbj9cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUeXBlXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzRmFsbGJhY2tDb21wb3NpdGlvbkVuZCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSB7XG4gIHN3aXRjaCAodG9wTGV2ZWxUeXBlKSB7XG4gICAgY2FzZSAndG9wS2V5VXAnOlxuICAgICAgLy8gQ29tbWFuZCBrZXlzIGluc2VydCBvciBjbGVhciBJTUUgaW5wdXQuXG4gICAgICByZXR1cm4gRU5EX0tFWUNPREVTLmluZGV4T2YobmF0aXZlRXZlbnQua2V5Q29kZSkgIT09IC0xO1xuICAgIGNhc2UgJ3RvcEtleURvd24nOlxuICAgICAgLy8gRXhwZWN0IElNRSBrZXlDb2RlIG9uIGVhY2gga2V5ZG93bi4gSWYgd2UgZ2V0IGFueSBvdGhlclxuICAgICAgLy8gY29kZSB3ZSBtdXN0IGhhdmUgZXhpdGVkIGVhcmxpZXIuXG4gICAgICByZXR1cm4gbmF0aXZlRXZlbnQua2V5Q29kZSAhPT0gU1RBUlRfS0VZQ09ERTtcbiAgICBjYXNlICd0b3BLZXlQcmVzcyc6XG4gICAgY2FzZSAndG9wTW91c2VEb3duJzpcbiAgICBjYXNlICd0b3BCbHVyJzpcbiAgICAgIC8vIEV2ZW50cyBhcmUgbm90IHBvc3NpYmxlIHdpdGhvdXQgY2FuY2VsbGluZyBJTUUuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogR29vZ2xlIElucHV0IFRvb2xzIHByb3ZpZGVzIGNvbXBvc2l0aW9uIGRhdGEgdmlhIGEgQ3VzdG9tRXZlbnQsXG4gKiB3aXRoIHRoZSBgZGF0YWAgcHJvcGVydHkgcG9wdWxhdGVkIGluIHRoZSBgZGV0YWlsYCBvYmplY3QuIElmIHRoaXNcbiAqIGlzIGF2YWlsYWJsZSBvbiB0aGUgZXZlbnQgb2JqZWN0LCB1c2UgaXQuIElmIG5vdCwgdGhpcyBpcyBhIHBsYWluXG4gKiBjb21wb3NpdGlvbiBldmVudCBhbmQgd2UgaGF2ZSBub3RoaW5nIHNwZWNpYWwgdG8gZXh0cmFjdC5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnRcbiAqIEByZXR1cm4gez9zdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldERhdGFGcm9tQ3VzdG9tRXZlbnQobmF0aXZlRXZlbnQpIHtcbiAgdmFyIGRldGFpbCA9IG5hdGl2ZUV2ZW50LmRldGFpbDtcbiAgaWYgKHR5cGVvZiBkZXRhaWwgPT09ICdvYmplY3QnICYmICdkYXRhJyBpbiBkZXRhaWwpIHtcbiAgICByZXR1cm4gZGV0YWlsLmRhdGE7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8vIFRyYWNrIHRoZSBjdXJyZW50IElNRSBjb21wb3NpdGlvbiBzdGF0dXMsIGlmIGFueS5cbnZhciBpc0NvbXBvc2luZyA9IGZhbHNlO1xuXG4vKipcbiAqIEByZXR1cm4gez9vYmplY3R9IEEgU3ludGhldGljQ29tcG9zaXRpb25FdmVudC5cbiAqL1xuZnVuY3Rpb24gZXh0cmFjdENvbXBvc2l0aW9uRXZlbnQodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgdmFyIGV2ZW50VHlwZSA9IHZvaWQgMDtcbiAgdmFyIGZhbGxiYWNrRGF0YSA9IHZvaWQgMDtcblxuICBpZiAoY2FuVXNlQ29tcG9zaXRpb25FdmVudCkge1xuICAgIGV2ZW50VHlwZSA9IGdldENvbXBvc2l0aW9uRXZlbnRUeXBlKHRvcExldmVsVHlwZSk7XG4gIH0gZWxzZSBpZiAoIWlzQ29tcG9zaW5nKSB7XG4gICAgaWYgKGlzRmFsbGJhY2tDb21wb3NpdGlvblN0YXJ0KHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpKSB7XG4gICAgICBldmVudFR5cGUgPSBldmVudFR5cGVzLmNvbXBvc2l0aW9uU3RhcnQ7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzRmFsbGJhY2tDb21wb3NpdGlvbkVuZCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSkge1xuICAgIGV2ZW50VHlwZSA9IGV2ZW50VHlwZXMuY29tcG9zaXRpb25FbmQ7XG4gIH1cblxuICBpZiAoIWV2ZW50VHlwZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHVzZUZhbGxiYWNrQ29tcG9zaXRpb25EYXRhKSB7XG4gICAgLy8gVGhlIGN1cnJlbnQgY29tcG9zaXRpb24gaXMgc3RvcmVkIHN0YXRpY2FsbHkgYW5kIG11c3Qgbm90IGJlXG4gICAgLy8gb3ZlcndyaXR0ZW4gd2hpbGUgY29tcG9zaXRpb24gY29udGludWVzLlxuICAgIGlmICghaXNDb21wb3NpbmcgJiYgZXZlbnRUeXBlID09PSBldmVudFR5cGVzLmNvbXBvc2l0aW9uU3RhcnQpIHtcbiAgICAgIGlzQ29tcG9zaW5nID0gaW5pdGlhbGl6ZShuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgfSBlbHNlIGlmIChldmVudFR5cGUgPT09IGV2ZW50VHlwZXMuY29tcG9zaXRpb25FbmQpIHtcbiAgICAgIGlmIChpc0NvbXBvc2luZykge1xuICAgICAgICBmYWxsYmFja0RhdGEgPSBnZXREYXRhKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIGV2ZW50ID0gU3ludGhldGljQ29tcG9zaXRpb25FdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuXG4gIGlmIChmYWxsYmFja0RhdGEpIHtcbiAgICAvLyBJbmplY3QgZGF0YSBnZW5lcmF0ZWQgZnJvbSBmYWxsYmFjayBwYXRoIGludG8gdGhlIHN5bnRoZXRpYyBldmVudC5cbiAgICAvLyBUaGlzIG1hdGNoZXMgdGhlIHByb3BlcnR5IG9mIG5hdGl2ZSBDb21wb3NpdGlvbkV2ZW50SW50ZXJmYWNlLlxuICAgIGV2ZW50LmRhdGEgPSBmYWxsYmFja0RhdGE7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGN1c3RvbURhdGEgPSBnZXREYXRhRnJvbUN1c3RvbUV2ZW50KG5hdGl2ZUV2ZW50KTtcbiAgICBpZiAoY3VzdG9tRGF0YSAhPT0gbnVsbCkge1xuICAgICAgZXZlbnQuZGF0YSA9IGN1c3RvbURhdGE7XG4gICAgfVxuICB9XG5cbiAgYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyhldmVudCk7XG4gIHJldHVybiBldmVudDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1RvcExldmVsVHlwZXN9IHRvcExldmVsVHlwZSBSZWNvcmQgZnJvbSBgQnJvd3NlckV2ZW50Q29uc3RhbnRzYC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudCBOYXRpdmUgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4gez9zdHJpbmd9IFRoZSBzdHJpbmcgY29ycmVzcG9uZGluZyB0byB0aGlzIGBiZWZvcmVJbnB1dGAgZXZlbnQuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZUJlZm9yZUlucHV0Q2hhcnModG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkge1xuICBzd2l0Y2ggKHRvcExldmVsVHlwZSkge1xuICAgIGNhc2UgJ3RvcENvbXBvc2l0aW9uRW5kJzpcbiAgICAgIHJldHVybiBnZXREYXRhRnJvbUN1c3RvbUV2ZW50KG5hdGl2ZUV2ZW50KTtcbiAgICBjYXNlICd0b3BLZXlQcmVzcyc6XG4gICAgICAvKipcbiAgICAgICAqIElmIG5hdGl2ZSBgdGV4dElucHV0YCBldmVudHMgYXJlIGF2YWlsYWJsZSwgb3VyIGdvYWwgaXMgdG8gbWFrZVxuICAgICAgICogdXNlIG9mIHRoZW0uIEhvd2V2ZXIsIHRoZXJlIGlzIGEgc3BlY2lhbCBjYXNlOiB0aGUgc3BhY2ViYXIga2V5LlxuICAgICAgICogSW4gV2Via2l0LCBwcmV2ZW50aW5nIGRlZmF1bHQgb24gYSBzcGFjZWJhciBgdGV4dElucHV0YCBldmVudFxuICAgICAgICogY2FuY2VscyBjaGFyYWN0ZXIgaW5zZXJ0aW9uLCBidXQgaXQgKmFsc28qIGNhdXNlcyB0aGUgYnJvd3NlclxuICAgICAgICogdG8gZmFsbCBiYWNrIHRvIGl0cyBkZWZhdWx0IHNwYWNlYmFyIGJlaGF2aW9yIG9mIHNjcm9sbGluZyB0aGVcbiAgICAgICAqIHBhZ2UuXG4gICAgICAgKlxuICAgICAgICogVHJhY2tpbmcgYXQ6XG4gICAgICAgKiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MzU1MTAzXG4gICAgICAgKlxuICAgICAgICogVG8gYXZvaWQgdGhpcyBpc3N1ZSwgdXNlIHRoZSBrZXlwcmVzcyBldmVudCBhcyBpZiBubyBgdGV4dElucHV0YFxuICAgICAgICogZXZlbnQgaXMgYXZhaWxhYmxlLlxuICAgICAgICovXG4gICAgICB2YXIgd2hpY2ggPSBuYXRpdmVFdmVudC53aGljaDtcbiAgICAgIGlmICh3aGljaCAhPT0gU1BBQ0VCQVJfQ09ERSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaGFzU3BhY2VLZXlwcmVzcyA9IHRydWU7XG4gICAgICByZXR1cm4gU1BBQ0VCQVJfQ0hBUjtcblxuICAgIGNhc2UgJ3RvcFRleHRJbnB1dCc6XG4gICAgICAvLyBSZWNvcmQgdGhlIGNoYXJhY3RlcnMgdG8gYmUgYWRkZWQgdG8gdGhlIERPTS5cbiAgICAgIHZhciBjaGFycyA9IG5hdGl2ZUV2ZW50LmRhdGE7XG5cbiAgICAgIC8vIElmIGl0J3MgYSBzcGFjZWJhciBjaGFyYWN0ZXIsIGFzc3VtZSB0aGF0IHdlIGhhdmUgYWxyZWFkeSBoYW5kbGVkXG4gICAgICAvLyBpdCBhdCB0aGUga2V5cHJlc3MgbGV2ZWwgYW5kIGJhaWwgaW1tZWRpYXRlbHkuIEFuZHJvaWQgQ2hyb21lXG4gICAgICAvLyBkb2Vzbid0IGdpdmUgdXMga2V5Y29kZXMsIHNvIHdlIG5lZWQgdG8gYmxhY2tsaXN0IGl0LlxuICAgICAgaWYgKGNoYXJzID09PSBTUEFDRUJBUl9DSEFSICYmIGhhc1NwYWNlS2V5cHJlc3MpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjaGFycztcblxuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBGb3Igb3RoZXIgbmF0aXZlIGV2ZW50IHR5cGVzLCBkbyBub3RoaW5nLlxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBGb3IgYnJvd3NlcnMgdGhhdCBkbyBub3QgcHJvdmlkZSB0aGUgYHRleHRJbnB1dGAgZXZlbnQsIGV4dHJhY3QgdGhlXG4gKiBhcHByb3ByaWF0ZSBzdHJpbmcgdG8gdXNlIGZvciBTeW50aGV0aWNJbnB1dEV2ZW50LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFR5cGUgUmVjb3JkIGZyb20gYEJyb3dzZXJFdmVudENvbnN0YW50c2AuXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHs/c3RyaW5nfSBUaGUgZmFsbGJhY2sgc3RyaW5nIGZvciB0aGlzIGBiZWZvcmVJbnB1dGAgZXZlbnQuXG4gKi9cbmZ1bmN0aW9uIGdldEZhbGxiYWNrQmVmb3JlSW5wdXRDaGFycyh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSB7XG4gIC8vIElmIHdlIGFyZSBjdXJyZW50bHkgY29tcG9zaW5nIChJTUUpIGFuZCB1c2luZyBhIGZhbGxiYWNrIHRvIGRvIHNvLFxuICAvLyB0cnkgdG8gZXh0cmFjdCB0aGUgY29tcG9zZWQgY2hhcmFjdGVycyBmcm9tIHRoZSBmYWxsYmFjayBvYmplY3QuXG4gIC8vIElmIGNvbXBvc2l0aW9uIGV2ZW50IGlzIGF2YWlsYWJsZSwgd2UgZXh0cmFjdCBhIHN0cmluZyBvbmx5IGF0XG4gIC8vIGNvbXBvc2l0aW9uZXZlbnQsIG90aGVyd2lzZSBleHRyYWN0IGl0IGF0IGZhbGxiYWNrIGV2ZW50cy5cbiAgaWYgKGlzQ29tcG9zaW5nKSB7XG4gICAgaWYgKHRvcExldmVsVHlwZSA9PT0gJ3RvcENvbXBvc2l0aW9uRW5kJyB8fCAhY2FuVXNlQ29tcG9zaXRpb25FdmVudCAmJiBpc0ZhbGxiYWNrQ29tcG9zaXRpb25FbmQodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkpIHtcbiAgICAgIHZhciBjaGFycyA9IGdldERhdGEoKTtcbiAgICAgIHJlc2V0KCk7XG4gICAgICBpc0NvbXBvc2luZyA9IGZhbHNlO1xuICAgICAgcmV0dXJuIGNoYXJzO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHN3aXRjaCAodG9wTGV2ZWxUeXBlKSB7XG4gICAgY2FzZSAndG9wUGFzdGUnOlxuICAgICAgLy8gSWYgYSBwYXN0ZSBldmVudCBvY2N1cnMgYWZ0ZXIgYSBrZXlwcmVzcywgdGhyb3cgb3V0IHRoZSBpbnB1dFxuICAgICAgLy8gY2hhcnMuIFBhc3RlIGV2ZW50cyBzaG91bGQgbm90IGxlYWQgdG8gQmVmb3JlSW5wdXQgZXZlbnRzLlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSAndG9wS2V5UHJlc3MnOlxuICAgICAgLyoqXG4gICAgICAgKiBBcyBvZiB2MjcsIEZpcmVmb3ggbWF5IGZpcmUga2V5cHJlc3MgZXZlbnRzIGV2ZW4gd2hlbiBubyBjaGFyYWN0ZXJcbiAgICAgICAqIHdpbGwgYmUgaW5zZXJ0ZWQuIEEgZmV3IHBvc3NpYmlsaXRpZXM6XG4gICAgICAgKlxuICAgICAgICogLSBgd2hpY2hgIGlzIGAwYC4gQXJyb3cga2V5cywgRXNjIGtleSwgZXRjLlxuICAgICAgICpcbiAgICAgICAqIC0gYHdoaWNoYCBpcyB0aGUgcHJlc3NlZCBrZXkgY29kZSwgYnV0IG5vIGNoYXIgaXMgYXZhaWxhYmxlLlxuICAgICAgICogICBFeDogJ0FsdEdyICsgZGAgaW4gUG9saXNoLiBUaGVyZSBpcyBubyBtb2RpZmllZCBjaGFyYWN0ZXIgZm9yXG4gICAgICAgKiAgIHRoaXMga2V5IGNvbWJpbmF0aW9uIGFuZCBubyBjaGFyYWN0ZXIgaXMgaW5zZXJ0ZWQgaW50byB0aGVcbiAgICAgICAqICAgZG9jdW1lbnQsIGJ1dCBGRiBmaXJlcyB0aGUga2V5cHJlc3MgZm9yIGNoYXIgY29kZSBgMTAwYCBhbnl3YXkuXG4gICAgICAgKiAgIE5vIGBpbnB1dGAgZXZlbnQgd2lsbCBvY2N1ci5cbiAgICAgICAqXG4gICAgICAgKiAtIGB3aGljaGAgaXMgdGhlIHByZXNzZWQga2V5IGNvZGUsIGJ1dCBhIGNvbW1hbmQgY29tYmluYXRpb24gaXNcbiAgICAgICAqICAgYmVpbmcgdXNlZC4gRXg6IGBDbWQrQ2AuIE5vIGNoYXJhY3RlciBpcyBpbnNlcnRlZCwgYW5kIG5vXG4gICAgICAgKiAgIGBpbnB1dGAgZXZlbnQgd2lsbCBvY2N1ci5cbiAgICAgICAqL1xuICAgICAgaWYgKCFpc0tleXByZXNzQ29tbWFuZChuYXRpdmVFdmVudCkpIHtcbiAgICAgICAgLy8gSUUgZmlyZXMgdGhlIGBrZXlwcmVzc2AgZXZlbnQgd2hlbiBhIHVzZXIgdHlwZXMgYW4gZW1vamkgdmlhXG4gICAgICAgIC8vIFRvdWNoIGtleWJvYXJkIG9mIFdpbmRvd3MuICBJbiBzdWNoIGEgY2FzZSwgdGhlIGBjaGFyYCBwcm9wZXJ0eVxuICAgICAgICAvLyBob2xkcyBhbiBlbW9qaSBjaGFyYWN0ZXIgbGlrZSBgXFx1RDgzRFxcdURFMEFgLiAgQmVjYXVzZSBpdHMgbGVuZ3RoXG4gICAgICAgIC8vIGlzIDIsIHRoZSBwcm9wZXJ0eSBgd2hpY2hgIGRvZXMgbm90IHJlcHJlc2VudCBhbiBlbW9qaSBjb3JyZWN0bHkuXG4gICAgICAgIC8vIEluIHN1Y2ggYSBjYXNlLCB3ZSBkaXJlY3RseSByZXR1cm4gdGhlIGBjaGFyYCBwcm9wZXJ0eSBpbnN0ZWFkIG9mXG4gICAgICAgIC8vIHVzaW5nIGB3aGljaGAuXG4gICAgICAgIGlmIChuYXRpdmVFdmVudC5jaGFyICYmIG5hdGl2ZUV2ZW50LmNoYXIubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHJldHVybiBuYXRpdmVFdmVudC5jaGFyO1xuICAgICAgICB9IGVsc2UgaWYgKG5hdGl2ZUV2ZW50LndoaWNoKSB7XG4gICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUobmF0aXZlRXZlbnQud2hpY2gpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBjYXNlICd0b3BDb21wb3NpdGlvbkVuZCc6XG4gICAgICByZXR1cm4gdXNlRmFsbGJhY2tDb21wb3NpdGlvbkRhdGEgPyBudWxsIDogbmF0aXZlRXZlbnQuZGF0YTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBFeHRyYWN0IGEgU3ludGhldGljSW5wdXRFdmVudCBmb3IgYGJlZm9yZUlucHV0YCwgYmFzZWQgb24gZWl0aGVyIG5hdGl2ZVxuICogYHRleHRJbnB1dGAgb3IgZmFsbGJhY2sgYmVoYXZpb3IuXG4gKlxuICogQHJldHVybiB7P29iamVjdH0gQSBTeW50aGV0aWNJbnB1dEV2ZW50LlxuICovXG5mdW5jdGlvbiBleHRyYWN0QmVmb3JlSW5wdXRFdmVudCh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICB2YXIgY2hhcnMgPSB2b2lkIDA7XG5cbiAgaWYgKGNhblVzZVRleHRJbnB1dEV2ZW50KSB7XG4gICAgY2hhcnMgPSBnZXROYXRpdmVCZWZvcmVJbnB1dENoYXJzKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpO1xuICB9IGVsc2Uge1xuICAgIGNoYXJzID0gZ2V0RmFsbGJhY2tCZWZvcmVJbnB1dENoYXJzKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpO1xuICB9XG5cbiAgLy8gSWYgbm8gY2hhcmFjdGVycyBhcmUgYmVpbmcgaW5zZXJ0ZWQsIG5vIEJlZm9yZUlucHV0IGV2ZW50IHNob3VsZFxuICAvLyBiZSBmaXJlZC5cbiAgaWYgKCFjaGFycykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIGV2ZW50ID0gU3ludGhldGljSW5wdXRFdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlcy5iZWZvcmVJbnB1dCwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcblxuICBldmVudC5kYXRhID0gY2hhcnM7XG4gIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoZXZlbnQpO1xuICByZXR1cm4gZXZlbnQ7XG59XG5cbi8qKlxuICogQ3JlYXRlIGFuIGBvbkJlZm9yZUlucHV0YCBldmVudCB0byBtYXRjaFxuICogaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMy9XRC1ET00tTGV2ZWwtMy1FdmVudHMtMjAxMzExMDUvI2V2ZW50cy1pbnB1dGV2ZW50cy5cbiAqXG4gKiBUaGlzIGV2ZW50IHBsdWdpbiBpcyBiYXNlZCBvbiB0aGUgbmF0aXZlIGB0ZXh0SW5wdXRgIGV2ZW50XG4gKiBhdmFpbGFibGUgaW4gQ2hyb21lLCBTYWZhcmksIE9wZXJhLCBhbmQgSUUuIFRoaXMgZXZlbnQgZmlyZXMgYWZ0ZXJcbiAqIGBvbktleVByZXNzYCBhbmQgYG9uQ29tcG9zaXRpb25FbmRgLCBidXQgYmVmb3JlIGBvbklucHV0YC5cbiAqXG4gKiBgYmVmb3JlSW5wdXRgIGlzIHNwZWMnZCBidXQgbm90IGltcGxlbWVudGVkIGluIGFueSBicm93c2VycywgYW5kXG4gKiB0aGUgYGlucHV0YCBldmVudCBkb2VzIG5vdCBwcm92aWRlIGFueSB1c2VmdWwgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBoYXNcbiAqIGFjdHVhbGx5IGJlZW4gYWRkZWQsIGNvbnRyYXJ5IHRvIHRoZSBzcGVjLiBUaHVzLCBgdGV4dElucHV0YCBpcyB0aGUgYmVzdFxuICogYXZhaWxhYmxlIGV2ZW50IHRvIGlkZW50aWZ5IHRoZSBjaGFyYWN0ZXJzIHRoYXQgaGF2ZSBhY3R1YWxseSBiZWVuIGluc2VydGVkXG4gKiBpbnRvIHRoZSB0YXJnZXQgbm9kZS5cbiAqXG4gKiBUaGlzIHBsdWdpbiBpcyBhbHNvIHJlc3BvbnNpYmxlIGZvciBlbWl0dGluZyBgY29tcG9zaXRpb25gIGV2ZW50cywgdGh1c1xuICogYWxsb3dpbmcgdXMgdG8gc2hhcmUgY29tcG9zaXRpb24gZmFsbGJhY2sgY29kZSBmb3IgYm90aCBgYmVmb3JlSW5wdXRgIGFuZFxuICogYGNvbXBvc2l0aW9uYCBldmVudCB0eXBlcy5cbiAqL1xudmFyIEJlZm9yZUlucHV0RXZlbnRQbHVnaW4gPSB7XG4gIGV2ZW50VHlwZXM6IGV2ZW50VHlwZXMsXG5cbiAgZXh0cmFjdEV2ZW50czogZnVuY3Rpb24gKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgdmFyIGNvbXBvc2l0aW9uID0gZXh0cmFjdENvbXBvc2l0aW9uRXZlbnQodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuXG4gICAgdmFyIGJlZm9yZUlucHV0ID0gZXh0cmFjdEJlZm9yZUlucHV0RXZlbnQodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuXG4gICAgaWYgKGNvbXBvc2l0aW9uID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gYmVmb3JlSW5wdXQ7XG4gICAgfVxuXG4gICAgaWYgKGJlZm9yZUlucHV0ID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gY29tcG9zaXRpb247XG4gICAgfVxuXG4gICAgcmV0dXJuIFtjb21wb3NpdGlvbiwgYmVmb3JlSW5wdXRdO1xuICB9XG59O1xuXG4vLyBVc2UgdG8gcmVzdG9yZSBjb250cm9sbGVkIHN0YXRlIGFmdGVyIGEgY2hhbmdlIGV2ZW50IGhhcyBmaXJlZC5cblxudmFyIGZpYmVySG9zdENvbXBvbmVudCA9IG51bGw7XG5cbnZhciBSZWFjdENvbnRyb2xsZWRDb21wb25lbnRJbmplY3Rpb24gPSB7XG4gIGluamVjdEZpYmVyQ29udHJvbGxlZEhvc3RDb21wb25lbnQ6IGZ1bmN0aW9uIChob3N0Q29tcG9uZW50SW1wbCkge1xuICAgIC8vIFRoZSBmaWJlciBpbXBsZW1lbnRhdGlvbiBkb2Vzbid0IHVzZSBkeW5hbWljIGRpc3BhdGNoIHNvIHdlIG5lZWQgdG9cbiAgICAvLyBpbmplY3QgdGhlIGltcGxlbWVudGF0aW9uLlxuICAgIGZpYmVySG9zdENvbXBvbmVudCA9IGhvc3RDb21wb25lbnRJbXBsO1xuICB9XG59O1xuXG52YXIgcmVzdG9yZVRhcmdldCA9IG51bGw7XG52YXIgcmVzdG9yZVF1ZXVlID0gbnVsbDtcblxuZnVuY3Rpb24gcmVzdG9yZVN0YXRlT2ZUYXJnZXQodGFyZ2V0KSB7XG4gIC8vIFdlIHBlcmZvcm0gdGhpcyB0cmFuc2xhdGlvbiBhdCB0aGUgZW5kIG9mIHRoZSBldmVudCBsb29wIHNvIHRoYXQgd2VcbiAgLy8gYWx3YXlzIHJlY2VpdmUgdGhlIGNvcnJlY3QgZmliZXIgaGVyZVxuICB2YXIgaW50ZXJuYWxJbnN0YW5jZSA9IGdldEluc3RhbmNlRnJvbU5vZGUodGFyZ2V0KTtcbiAgaWYgKCFpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgLy8gVW5tb3VudGVkXG4gICAgcmV0dXJuO1xuICB9XG4gICEoZmliZXJIb3N0Q29tcG9uZW50ICYmIHR5cGVvZiBmaWJlckhvc3RDb21wb25lbnQucmVzdG9yZUNvbnRyb2xsZWRTdGF0ZSA9PT0gJ2Z1bmN0aW9uJykgPyBpbnZhcmlhbnQoZmFsc2UsICdGaWJlciBuZWVkcyB0byBiZSBpbmplY3RlZCB0byBoYW5kbGUgYSBmaWJlciB0YXJnZXQgZm9yIGNvbnRyb2xsZWQgZXZlbnRzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICB2YXIgcHJvcHMgPSBnZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlKGludGVybmFsSW5zdGFuY2Uuc3RhdGVOb2RlKTtcbiAgZmliZXJIb3N0Q29tcG9uZW50LnJlc3RvcmVDb250cm9sbGVkU3RhdGUoaW50ZXJuYWxJbnN0YW5jZS5zdGF0ZU5vZGUsIGludGVybmFsSW5zdGFuY2UudHlwZSwgcHJvcHMpO1xufVxuXG52YXIgaW5qZWN0aW9uJDIgPSBSZWFjdENvbnRyb2xsZWRDb21wb25lbnRJbmplY3Rpb247XG5cbmZ1bmN0aW9uIGVucXVldWVTdGF0ZVJlc3RvcmUodGFyZ2V0KSB7XG4gIGlmIChyZXN0b3JlVGFyZ2V0KSB7XG4gICAgaWYgKHJlc3RvcmVRdWV1ZSkge1xuICAgICAgcmVzdG9yZVF1ZXVlLnB1c2godGFyZ2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdG9yZVF1ZXVlID0gW3RhcmdldF07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlc3RvcmVUYXJnZXQgPSB0YXJnZXQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gbmVlZHNTdGF0ZVJlc3RvcmUoKSB7XG4gIHJldHVybiByZXN0b3JlVGFyZ2V0ICE9PSBudWxsIHx8IHJlc3RvcmVRdWV1ZSAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gcmVzdG9yZVN0YXRlSWZOZWVkZWQoKSB7XG4gIGlmICghcmVzdG9yZVRhcmdldCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgdGFyZ2V0ID0gcmVzdG9yZVRhcmdldDtcbiAgdmFyIHF1ZXVlZFRhcmdldHMgPSByZXN0b3JlUXVldWU7XG4gIHJlc3RvcmVUYXJnZXQgPSBudWxsO1xuICByZXN0b3JlUXVldWUgPSBudWxsO1xuXG4gIHJlc3RvcmVTdGF0ZU9mVGFyZ2V0KHRhcmdldCk7XG4gIGlmIChxdWV1ZWRUYXJnZXRzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZWRUYXJnZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN0b3JlU3RhdGVPZlRhcmdldChxdWV1ZWRUYXJnZXRzW2ldKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIFJlYWN0Q29udHJvbGxlZENvbXBvbmVudCA9IE9iamVjdC5mcmVlemUoe1xuXHRpbmplY3Rpb246IGluamVjdGlvbiQyLFxuXHRlbnF1ZXVlU3RhdGVSZXN0b3JlOiBlbnF1ZXVlU3RhdGVSZXN0b3JlLFxuXHRuZWVkc1N0YXRlUmVzdG9yZTogbmVlZHNTdGF0ZVJlc3RvcmUsXG5cdHJlc3RvcmVTdGF0ZUlmTmVlZGVkOiByZXN0b3JlU3RhdGVJZk5lZWRlZFxufSk7XG5cbi8vIFVzZWQgYXMgYSB3YXkgdG8gY2FsbCBiYXRjaGVkVXBkYXRlcyB3aGVuIHdlIGRvbid0IGhhdmUgYSByZWZlcmVuY2UgdG9cbi8vIHRoZSByZW5kZXJlci4gU3VjaCBhcyB3aGVuIHdlJ3JlIGRpc3BhdGNoaW5nIGV2ZW50cyBvciBpZiB0aGlyZCBwYXJ0eVxuLy8gbGlicmFyaWVzIG5lZWQgdG8gY2FsbCBiYXRjaGVkVXBkYXRlcy4gRXZlbnR1YWxseSwgdGhpcyBBUEkgd2lsbCBnbyBhd2F5IHdoZW5cbi8vIGV2ZXJ5dGhpbmcgaXMgYmF0Y2hlZCBieSBkZWZhdWx0LiBXZSdsbCB0aGVuIGhhdmUgYSBzaW1pbGFyIEFQSSB0byBvcHQtb3V0IG9mXG4vLyBzY2hlZHVsZWQgd29yayBhbmQgaW5zdGVhZCBkbyBzeW5jaHJvbm91cyB3b3JrLlxuXG4vLyBEZWZhdWx0c1xudmFyIF9iYXRjaGVkVXBkYXRlcyA9IGZ1bmN0aW9uIChmbiwgYm9va2tlZXBpbmcpIHtcbiAgcmV0dXJuIGZuKGJvb2trZWVwaW5nKTtcbn07XG52YXIgX2ludGVyYWN0aXZlVXBkYXRlcyA9IGZ1bmN0aW9uIChmbiwgYSwgYikge1xuICByZXR1cm4gZm4oYSwgYik7XG59O1xudmFyIF9mbHVzaEludGVyYWN0aXZlVXBkYXRlcyA9IGZ1bmN0aW9uICgpIHt9O1xuXG52YXIgaXNCYXRjaGluZyA9IGZhbHNlO1xuZnVuY3Rpb24gYmF0Y2hlZFVwZGF0ZXMoZm4sIGJvb2trZWVwaW5nKSB7XG4gIGlmIChpc0JhdGNoaW5nKSB7XG4gICAgLy8gSWYgd2UgYXJlIGN1cnJlbnRseSBpbnNpZGUgYW5vdGhlciBiYXRjaCwgd2UgbmVlZCB0byB3YWl0IHVudGlsIGl0XG4gICAgLy8gZnVsbHkgY29tcGxldGVzIGJlZm9yZSByZXN0b3Jpbmcgc3RhdGUuXG4gICAgcmV0dXJuIGZuKGJvb2trZWVwaW5nKTtcbiAgfVxuICBpc0JhdGNoaW5nID0gdHJ1ZTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gX2JhdGNoZWRVcGRhdGVzKGZuLCBib29ra2VlcGluZyk7XG4gIH0gZmluYWxseSB7XG4gICAgLy8gSGVyZSB3ZSB3YWl0IHVudGlsIGFsbCB1cGRhdGVzIGhhdmUgcHJvcGFnYXRlZCwgd2hpY2ggaXMgaW1wb3J0YW50XG4gICAgLy8gd2hlbiB1c2luZyBjb250cm9sbGVkIGNvbXBvbmVudHMgd2l0aGluIGxheWVyczpcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzE2OThcbiAgICAvLyBUaGVuIHdlIHJlc3RvcmUgc3RhdGUgb2YgYW55IGNvbnRyb2xsZWQgY29tcG9uZW50LlxuICAgIGlzQmF0Y2hpbmcgPSBmYWxzZTtcbiAgICB2YXIgY29udHJvbGxlZENvbXBvbmVudHNIYXZlUGVuZGluZ1VwZGF0ZXMgPSBuZWVkc1N0YXRlUmVzdG9yZSgpO1xuICAgIGlmIChjb250cm9sbGVkQ29tcG9uZW50c0hhdmVQZW5kaW5nVXBkYXRlcykge1xuICAgICAgLy8gSWYgYSBjb250cm9sbGVkIGV2ZW50IHdhcyBmaXJlZCwgd2UgbWF5IG5lZWQgdG8gcmVzdG9yZSB0aGUgc3RhdGUgb2ZcbiAgICAgIC8vIHRoZSBET00gbm9kZSBiYWNrIHRvIHRoZSBjb250cm9sbGVkIHZhbHVlLiBUaGlzIGlzIG5lY2Vzc2FyeSB3aGVuIFJlYWN0XG4gICAgICAvLyBiYWlscyBvdXQgb2YgdGhlIHVwZGF0ZSB3aXRob3V0IHRvdWNoaW5nIHRoZSBET00uXG4gICAgICBfZmx1c2hJbnRlcmFjdGl2ZVVwZGF0ZXMoKTtcbiAgICAgIHJlc3RvcmVTdGF0ZUlmTmVlZGVkKCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGludGVyYWN0aXZlVXBkYXRlcyhmbiwgYSwgYikge1xuICByZXR1cm4gX2ludGVyYWN0aXZlVXBkYXRlcyhmbiwgYSwgYik7XG59XG5cblxuXG52YXIgaW5qZWN0aW9uJDMgPSB7XG4gIGluamVjdFJlbmRlcmVyOiBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICBfYmF0Y2hlZFVwZGF0ZXMgPSByZW5kZXJlci5iYXRjaGVkVXBkYXRlcztcbiAgICBfaW50ZXJhY3RpdmVVcGRhdGVzID0gcmVuZGVyZXIuaW50ZXJhY3RpdmVVcGRhdGVzO1xuICAgIF9mbHVzaEludGVyYWN0aXZlVXBkYXRlcyA9IHJlbmRlcmVyLmZsdXNoSW50ZXJhY3RpdmVVcGRhdGVzO1xuICB9XG59O1xuXG4vKipcbiAqIEBzZWUgaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9tdWx0aXBhZ2UvdGhlLWlucHV0LWVsZW1lbnQuaHRtbCNpbnB1dC10eXBlLWF0dHItc3VtbWFyeVxuICovXG52YXIgc3VwcG9ydGVkSW5wdXRUeXBlcyA9IHtcbiAgY29sb3I6IHRydWUsXG4gIGRhdGU6IHRydWUsXG4gIGRhdGV0aW1lOiB0cnVlLFxuICAnZGF0ZXRpbWUtbG9jYWwnOiB0cnVlLFxuICBlbWFpbDogdHJ1ZSxcbiAgbW9udGg6IHRydWUsXG4gIG51bWJlcjogdHJ1ZSxcbiAgcGFzc3dvcmQ6IHRydWUsXG4gIHJhbmdlOiB0cnVlLFxuICBzZWFyY2g6IHRydWUsXG4gIHRlbDogdHJ1ZSxcbiAgdGV4dDogdHJ1ZSxcbiAgdGltZTogdHJ1ZSxcbiAgdXJsOiB0cnVlLFxuICB3ZWVrOiB0cnVlXG59O1xuXG5mdW5jdGlvbiBpc1RleHRJbnB1dEVsZW1lbnQoZWxlbSkge1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtICYmIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXG4gIGlmIChub2RlTmFtZSA9PT0gJ2lucHV0Jykge1xuICAgIHJldHVybiAhIXN1cHBvcnRlZElucHV0VHlwZXNbZWxlbS50eXBlXTtcbiAgfVxuXG4gIGlmIChub2RlTmFtZSA9PT0gJ3RleHRhcmVhJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEhUTUwgbm9kZVR5cGUgdmFsdWVzIHRoYXQgcmVwcmVzZW50IHRoZSB0eXBlIG9mIHRoZSBub2RlXG4gKi9cblxudmFyIEVMRU1FTlRfTk9ERSA9IDE7XG52YXIgVEVYVF9OT0RFID0gMztcbnZhciBDT01NRU5UX05PREUgPSA4O1xudmFyIERPQ1VNRU5UX05PREUgPSA5O1xudmFyIERPQ1VNRU5UX0ZSQUdNRU5UX05PREUgPSAxMTtcblxuLyoqXG4gKiBHZXRzIHRoZSB0YXJnZXQgbm9kZSBmcm9tIGEgbmF0aXZlIGJyb3dzZXIgZXZlbnQgYnkgYWNjb3VudGluZyBmb3JcbiAqIGluY29uc2lzdGVuY2llcyBpbiBicm93c2VyIERPTSBBUElzLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudCBOYXRpdmUgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge0RPTUV2ZW50VGFyZ2V0fSBUYXJnZXQgbm9kZS5cbiAqL1xuZnVuY3Rpb24gZ2V0RXZlbnRUYXJnZXQobmF0aXZlRXZlbnQpIHtcbiAgdmFyIHRhcmdldCA9IG5hdGl2ZUV2ZW50LnRhcmdldCB8fCB3aW5kb3c7XG5cbiAgLy8gTm9ybWFsaXplIFNWRyA8dXNlPiBlbGVtZW50IGV2ZW50cyAjNDk2M1xuICBpZiAodGFyZ2V0LmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KSB7XG4gICAgdGFyZ2V0ID0gdGFyZ2V0LmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50O1xuICB9XG5cbiAgLy8gU2FmYXJpIG1heSBmaXJlIGV2ZW50cyBvbiB0ZXh0IG5vZGVzIChOb2RlLlRFWFRfTk9ERSBpcyAzKS5cbiAgLy8gQHNlZSBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2pzL2V2ZW50c19wcm9wZXJ0aWVzLmh0bWxcbiAgcmV0dXJuIHRhcmdldC5ub2RlVHlwZSA9PT0gVEVYVF9OT0RFID8gdGFyZ2V0LnBhcmVudE5vZGUgOiB0YXJnZXQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGFuIGV2ZW50IGlzIHN1cHBvcnRlZCBpbiB0aGUgY3VycmVudCBleGVjdXRpb24gZW52aXJvbm1lbnQuXG4gKlxuICogTk9URTogVGhpcyB3aWxsIG5vdCB3b3JrIGNvcnJlY3RseSBmb3Igbm9uLWdlbmVyaWMgZXZlbnRzIHN1Y2ggYXMgYGNoYW5nZWAsXG4gKiBgcmVzZXRgLCBgbG9hZGAsIGBlcnJvcmAsIGFuZCBgc2VsZWN0YC5cbiAqXG4gKiBCb3Jyb3dzIGZyb20gTW9kZXJuaXpyLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVTdWZmaXggRXZlbnQgbmFtZSwgZS5nLiBcImNsaWNrXCIuXG4gKiBAcGFyYW0gez9ib29sZWFufSBjYXB0dXJlIENoZWNrIGlmIHRoZSBjYXB0dXJlIHBoYXNlIGlzIHN1cHBvcnRlZC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IGlzIHN1cHBvcnRlZC5cbiAqIEBpbnRlcm5hbFxuICogQGxpY2Vuc2UgTW9kZXJuaXpyIDMuMC4wcHJlIChDdXN0b20gQnVpbGQpIHwgTUlUXG4gKi9cbmZ1bmN0aW9uIGlzRXZlbnRTdXBwb3J0ZWQoZXZlbnROYW1lU3VmZml4LCBjYXB0dXJlKSB7XG4gIGlmICghRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NIHx8IGNhcHR1cmUgJiYgISgnYWRkRXZlbnRMaXN0ZW5lcicgaW4gZG9jdW1lbnQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGV2ZW50TmFtZSA9ICdvbicgKyBldmVudE5hbWVTdWZmaXg7XG4gIHZhciBpc1N1cHBvcnRlZCA9IGV2ZW50TmFtZSBpbiBkb2N1bWVudDtcblxuICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShldmVudE5hbWUsICdyZXR1cm47Jyk7XG4gICAgaXNTdXBwb3J0ZWQgPSB0eXBlb2YgZWxlbWVudFtldmVudE5hbWVdID09PSAnZnVuY3Rpb24nO1xuICB9XG5cbiAgcmV0dXJuIGlzU3VwcG9ydGVkO1xufVxuXG5mdW5jdGlvbiBpc0NoZWNrYWJsZShlbGVtKSB7XG4gIHZhciB0eXBlID0gZWxlbS50eXBlO1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtLm5vZGVOYW1lO1xuICByZXR1cm4gbm9kZU5hbWUgJiYgbm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lucHV0JyAmJiAodHlwZSA9PT0gJ2NoZWNrYm94JyB8fCB0eXBlID09PSAncmFkaW8nKTtcbn1cblxuZnVuY3Rpb24gZ2V0VHJhY2tlcihub2RlKSB7XG4gIHJldHVybiBub2RlLl92YWx1ZVRyYWNrZXI7XG59XG5cbmZ1bmN0aW9uIGRldGFjaFRyYWNrZXIobm9kZSkge1xuICBub2RlLl92YWx1ZVRyYWNrZXIgPSBudWxsO1xufVxuXG5mdW5jdGlvbiBnZXRWYWx1ZUZyb21Ob2RlKG5vZGUpIHtcbiAgdmFyIHZhbHVlID0gJyc7XG4gIGlmICghbm9kZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGlmIChpc0NoZWNrYWJsZShub2RlKSkge1xuICAgIHZhbHVlID0gbm9kZS5jaGVja2VkID8gJ3RydWUnIDogJ2ZhbHNlJztcbiAgfSBlbHNlIHtcbiAgICB2YWx1ZSA9IG5vZGUudmFsdWU7XG4gIH1cblxuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIHRyYWNrVmFsdWVPbk5vZGUobm9kZSkge1xuICB2YXIgdmFsdWVGaWVsZCA9IGlzQ2hlY2thYmxlKG5vZGUpID8gJ2NoZWNrZWQnIDogJ3ZhbHVlJztcbiAgdmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG5vZGUuY29uc3RydWN0b3IucHJvdG90eXBlLCB2YWx1ZUZpZWxkKTtcblxuICB2YXIgY3VycmVudFZhbHVlID0gJycgKyBub2RlW3ZhbHVlRmllbGRdO1xuXG4gIC8vIGlmIHNvbWVvbmUgaGFzIGFscmVhZHkgZGVmaW5lZCBhIHZhbHVlIG9yIFNhZmFyaSwgdGhlbiBiYWlsXG4gIC8vIGFuZCBkb24ndCB0cmFjayB2YWx1ZSB3aWxsIGNhdXNlIG92ZXIgcmVwb3J0aW5nIG9mIGNoYW5nZXMsXG4gIC8vIGJ1dCBpdCdzIGJldHRlciB0aGVuIGEgaGFyZCBmYWlsdXJlXG4gIC8vIChuZWVkZWQgZm9yIGNlcnRhaW4gdGVzdHMgdGhhdCBzcHlPbiBpbnB1dCB2YWx1ZXMgYW5kIFNhZmFyaSlcbiAgaWYgKG5vZGUuaGFzT3duUHJvcGVydHkodmFsdWVGaWVsZCkgfHwgdHlwZW9mIGRlc2NyaXB0b3IuZ2V0ICE9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBkZXNjcmlwdG9yLnNldCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShub2RlLCB2YWx1ZUZpZWxkLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGRlc2NyaXB0b3IuZ2V0LmNhbGwodGhpcyk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgY3VycmVudFZhbHVlID0gJycgKyB2YWx1ZTtcbiAgICAgIGRlc2NyaXB0b3Iuc2V0LmNhbGwodGhpcywgdmFsdWUpO1xuICAgIH1cbiAgfSk7XG4gIC8vIFdlIGNvdWxkJ3ZlIHBhc3NlZCB0aGlzIHRoZSBmaXJzdCB0aW1lXG4gIC8vIGJ1dCBpdCB0cmlnZ2VycyBhIGJ1ZyBpbiBJRTExIGFuZCBFZGdlIDE0LzE1LlxuICAvLyBDYWxsaW5nIGRlZmluZVByb3BlcnR5KCkgYWdhaW4gc2hvdWxkIGJlIGVxdWl2YWxlbnQuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTE3NjhcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5vZGUsIHZhbHVlRmllbGQsIHtcbiAgICBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGVcbiAgfSk7XG5cbiAgdmFyIHRyYWNrZXIgPSB7XG4gICAgZ2V0VmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBjdXJyZW50VmFsdWU7XG4gICAgfSxcbiAgICBzZXRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBjdXJyZW50VmFsdWUgPSAnJyArIHZhbHVlO1xuICAgIH0sXG4gICAgc3RvcFRyYWNraW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICBkZXRhY2hUcmFja2VyKG5vZGUpO1xuICAgICAgZGVsZXRlIG5vZGVbdmFsdWVGaWVsZF07XG4gICAgfVxuICB9O1xuICByZXR1cm4gdHJhY2tlcjtcbn1cblxuZnVuY3Rpb24gdHJhY2sobm9kZSkge1xuICBpZiAoZ2V0VHJhY2tlcihub2RlKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFRPRE86IE9uY2UgaXQncyBqdXN0IEZpYmVyIHdlIGNhbiBtb3ZlIHRoaXMgdG8gbm9kZS5fd3JhcHBlclN0YXRlXG4gIG5vZGUuX3ZhbHVlVHJhY2tlciA9IHRyYWNrVmFsdWVPbk5vZGUobm9kZSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVZhbHVlSWZDaGFuZ2VkKG5vZGUpIHtcbiAgaWYgKCFub2RlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIHRyYWNrZXIgPSBnZXRUcmFja2VyKG5vZGUpO1xuICAvLyBpZiB0aGVyZSBpcyBubyB0cmFja2VyIGF0IHRoaXMgcG9pbnQgaXQncyB1bmxpa2VseVxuICAvLyB0aGF0IHRyeWluZyBhZ2FpbiB3aWxsIHN1Y2NlZWRcbiAgaWYgKCF0cmFja2VyKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB2YXIgbGFzdFZhbHVlID0gdHJhY2tlci5nZXRWYWx1ZSgpO1xuICB2YXIgbmV4dFZhbHVlID0gZ2V0VmFsdWVGcm9tTm9kZShub2RlKTtcbiAgaWYgKG5leHRWYWx1ZSAhPT0gbGFzdFZhbHVlKSB7XG4gICAgdHJhY2tlci5zZXRWYWx1ZShuZXh0VmFsdWUpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxudmFyIFJlYWN0SW50ZXJuYWxzID0gUmVhY3QuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ7XG5cbnZhciBSZWFjdEN1cnJlbnRPd25lciA9IFJlYWN0SW50ZXJuYWxzLlJlYWN0Q3VycmVudE93bmVyO1xudmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUgPSBSZWFjdEludGVybmFscy5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xuXG52YXIgZGVzY3JpYmVDb21wb25lbnRGcmFtZSA9IGZ1bmN0aW9uIChuYW1lLCBzb3VyY2UsIG93bmVyTmFtZSkge1xuICByZXR1cm4gJ1xcbiAgICBpbiAnICsgKG5hbWUgfHwgJ1Vua25vd24nKSArIChzb3VyY2UgPyAnIChhdCAnICsgc291cmNlLmZpbGVOYW1lLnJlcGxhY2UoL14uKltcXFxcXFwvXS8sICcnKSArICc6JyArIHNvdXJjZS5saW5lTnVtYmVyICsgJyknIDogb3duZXJOYW1lID8gJyAoY3JlYXRlZCBieSAnICsgb3duZXJOYW1lICsgJyknIDogJycpO1xufTtcblxuLy8gVGhlIFN5bWJvbCB1c2VkIHRvIHRhZyB0aGUgUmVhY3RFbGVtZW50LWxpa2UgdHlwZXMuIElmIHRoZXJlIGlzIG5vIG5hdGl2ZSBTeW1ib2xcbi8vIG5vciBwb2x5ZmlsbCwgdGhlbiBhIHBsYWluIG51bWJlciBpcyB1c2VkIGZvciBwZXJmb3JtYW5jZS5cbnZhciBoYXNTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbFsnZm9yJ107XG5cbnZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbJ2ZvciddKCdyZWFjdC5lbGVtZW50JykgOiAweGVhYzc7XG52YXIgUkVBQ1RfQ0FMTF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sWydmb3InXSgncmVhY3QuY2FsbCcpIDogMHhlYWM4O1xudmFyIFJFQUNUX1JFVFVSTl9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sWydmb3InXSgncmVhY3QucmV0dXJuJykgOiAweGVhYzk7XG52YXIgUkVBQ1RfUE9SVEFMX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbJ2ZvciddKCdyZWFjdC5wb3J0YWwnKSA6IDB4ZWFjYTtcbnZhciBSRUFDVF9GUkFHTUVOVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sWydmb3InXSgncmVhY3QuZnJhZ21lbnQnKSA6IDB4ZWFjYjtcbnZhciBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sWydmb3InXSgncmVhY3Quc3RyaWN0X21vZGUnKSA6IDB4ZWFjYztcbnZhciBSRUFDVF9QUk9WSURFUl9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sWydmb3InXSgncmVhY3QucHJvdmlkZXInKSA6IDB4ZWFjZDtcbnZhciBSRUFDVF9DT05URVhUX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbJ2ZvciddKCdyZWFjdC5jb250ZXh0JykgOiAweGVhY2U7XG52YXIgUkVBQ1RfQVNZTkNfTU9ERV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sWydmb3InXSgncmVhY3QuYXN5bmNfbW9kZScpIDogMHhlYWNmO1xudmFyIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbJ2ZvciddKCdyZWFjdC5mb3J3YXJkX3JlZicpIDogMHhlYWQwO1xuXG52YXIgTUFZQkVfSVRFUkFUT1JfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuaXRlcmF0b3I7XG52YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7XG5cbmZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuICBpZiAobWF5YmVJdGVyYWJsZSA9PT0gbnVsbCB8fCB0eXBlb2YgbWF5YmVJdGVyYWJsZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgbWF5YmVJdGVyYXRvciA9IE1BWUJFX0lURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW01BWUJFX0lURVJBVE9SX1NZTUJPTF0gfHwgbWF5YmVJdGVyYWJsZVtGQVVYX0lURVJBVE9SX1NZTUJPTF07XG4gIGlmICh0eXBlb2YgbWF5YmVJdGVyYXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBtYXliZUl0ZXJhdG9yO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBnZXRDb21wb25lbnROYW1lKGZpYmVyKSB7XG4gIHZhciB0eXBlID0gZmliZXIudHlwZTtcblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWU7XG4gIH1cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB0eXBlO1xuICB9XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgUkVBQ1RfRlJBR01FTlRfVFlQRTpcbiAgICAgIHJldHVybiAnUmVhY3RGcmFnbWVudCc7XG4gICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgIHJldHVybiAnUmVhY3RQb3J0YWwnO1xuICAgIGNhc2UgUkVBQ1RfQ0FMTF9UWVBFOlxuICAgICAgcmV0dXJuICdSZWFjdENhbGwnO1xuICAgIGNhc2UgUkVBQ1RfUkVUVVJOX1RZUEU6XG4gICAgICByZXR1cm4gJ1JlYWN0UmV0dXJuJztcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZGVzY3JpYmVGaWJlcihmaWJlcikge1xuICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgIGNhc2UgSW5kZXRlcm1pbmF0ZUNvbXBvbmVudDpcbiAgICBjYXNlIEZ1bmN0aW9uYWxDb21wb25lbnQ6XG4gICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICB2YXIgb3duZXIgPSBmaWJlci5fZGVidWdPd25lcjtcbiAgICAgIHZhciBzb3VyY2UgPSBmaWJlci5fZGVidWdTb3VyY2U7XG4gICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoZmliZXIpO1xuICAgICAgdmFyIG93bmVyTmFtZSA9IG51bGw7XG4gICAgICBpZiAob3duZXIpIHtcbiAgICAgICAgb3duZXJOYW1lID0gZ2V0Q29tcG9uZW50TmFtZShvd25lcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVzY3JpYmVDb21wb25lbnRGcmFtZShuYW1lLCBzb3VyY2UsIG93bmVyTmFtZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAnJztcbiAgfVxufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIGNhbiBvbmx5IGJlIGNhbGxlZCB3aXRoIGEgd29yay1pbi1wcm9ncmVzcyBmaWJlciBhbmRcbi8vIG9ubHkgZHVyaW5nIGJlZ2luIG9yIGNvbXBsZXRlIHBoYXNlLiBEbyBub3QgY2FsbCBpdCB1bmRlciBhbnkgb3RoZXJcbi8vIGNpcmN1bXN0YW5jZXMuXG5mdW5jdGlvbiBnZXRTdGFja0FkZGVuZHVtQnlXb3JrSW5Qcm9ncmVzc0ZpYmVyKHdvcmtJblByb2dyZXNzKSB7XG4gIHZhciBpbmZvID0gJyc7XG4gIHZhciBub2RlID0gd29ya0luUHJvZ3Jlc3M7XG4gIGRvIHtcbiAgICBpbmZvICs9IGRlc2NyaWJlRmliZXIobm9kZSk7XG4gICAgLy8gT3RoZXJ3aXNlIHRoaXMgcmV0dXJuIHBvaW50ZXIgbWlnaHQgcG9pbnQgdG8gdGhlIHdyb25nIHRyZWU6XG4gICAgbm9kZSA9IG5vZGVbJ3JldHVybiddO1xuICB9IHdoaWxlIChub2RlKTtcbiAgcmV0dXJuIGluZm87XG59XG5cbmZ1bmN0aW9uIGdldEN1cnJlbnRGaWJlck93bmVyTmFtZSQxKCkge1xuICB7XG4gICAgdmFyIGZpYmVyID0gUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5jdXJyZW50O1xuICAgIGlmIChmaWJlciA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBvd25lciA9IGZpYmVyLl9kZWJ1Z093bmVyO1xuICAgIGlmIChvd25lciAhPT0gbnVsbCAmJiB0eXBlb2Ygb3duZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZShvd25lcik7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDEoKSB7XG4gIHtcbiAgICB2YXIgZmliZXIgPSBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmN1cnJlbnQ7XG4gICAgaWYgKGZpYmVyID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8gU2FmZSBiZWNhdXNlIGlmIGN1cnJlbnQgZmliZXIgZXhpc3RzLCB3ZSBhcmUgcmVjb25jaWxpbmcsXG4gICAgLy8gYW5kIGl0IGlzIGd1YXJhbnRlZWQgdG8gYmUgdGhlIHdvcmstaW4tcHJvZ3Jlc3MgdmVyc2lvbi5cbiAgICByZXR1cm4gZ2V0U3RhY2tBZGRlbmR1bUJ5V29ya0luUHJvZ3Jlc3NGaWJlcihmaWJlcik7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIHJlc2V0Q3VycmVudEZpYmVyKCkge1xuICBSZWFjdERlYnVnQ3VycmVudEZyYW1lLmdldEN1cnJlbnRTdGFjayA9IG51bGw7XG4gIFJlYWN0RGVidWdDdXJyZW50RmliZXIuY3VycmVudCA9IG51bGw7XG4gIFJlYWN0RGVidWdDdXJyZW50RmliZXIucGhhc2UgPSBudWxsO1xufVxuXG5mdW5jdGlvbiBzZXRDdXJyZW50RmliZXIoZmliZXIpIHtcbiAgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRDdXJyZW50U3RhY2sgPSBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDE7XG4gIFJlYWN0RGVidWdDdXJyZW50RmliZXIuY3VycmVudCA9IGZpYmVyO1xuICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnBoYXNlID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gc2V0Q3VycmVudFBoYXNlKHBoYXNlKSB7XG4gIFJlYWN0RGVidWdDdXJyZW50RmliZXIucGhhc2UgPSBwaGFzZTtcbn1cblxudmFyIFJlYWN0RGVidWdDdXJyZW50RmliZXIgPSB7XG4gIGN1cnJlbnQ6IG51bGwsXG4gIHBoYXNlOiBudWxsLFxuICByZXNldEN1cnJlbnRGaWJlcjogcmVzZXRDdXJyZW50RmliZXIsXG4gIHNldEN1cnJlbnRGaWJlcjogc2V0Q3VycmVudEZpYmVyLFxuICBzZXRDdXJyZW50UGhhc2U6IHNldEN1cnJlbnRQaGFzZSxcbiAgZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lOiBnZXRDdXJyZW50RmliZXJPd25lck5hbWUkMSxcbiAgZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bTogZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQxXG59O1xuXG4vLyBBIHJlc2VydmVkIGF0dHJpYnV0ZS5cbi8vIEl0IGlzIGhhbmRsZWQgYnkgUmVhY3Qgc2VwYXJhdGVseSBhbmQgc2hvdWxkbid0IGJlIHdyaXR0ZW4gdG8gdGhlIERPTS5cbnZhciBSRVNFUlZFRCA9IDA7XG5cbi8vIEEgc2ltcGxlIHN0cmluZyBhdHRyaWJ1dGUuXG4vLyBBdHRyaWJ1dGVzIHRoYXQgYXJlbid0IGluIHRoZSB3aGl0ZWxpc3QgYXJlIHByZXN1bWVkIHRvIGhhdmUgdGhpcyB0eXBlLlxudmFyIFNUUklORyA9IDE7XG5cbi8vIEEgc3RyaW5nIGF0dHJpYnV0ZSB0aGF0IGFjY2VwdHMgYm9vbGVhbnMgaW4gUmVhY3QuIEluIEhUTUwsIHRoZXNlIGFyZSBjYWxsZWRcbi8vIFwiZW51bWVyYXRlZFwiIGF0dHJpYnV0ZXMgd2l0aCBcInRydWVcIiBhbmQgXCJmYWxzZVwiIGFzIHBvc3NpYmxlIHZhbHVlcy5cbi8vIFdoZW4gdHJ1ZSwgaXQgc2hvdWxkIGJlIHNldCB0byBhIFwidHJ1ZVwiIHN0cmluZy5cbi8vIFdoZW4gZmFsc2UsIGl0IHNob3VsZCBiZSBzZXQgdG8gYSBcImZhbHNlXCIgc3RyaW5nLlxudmFyIEJPT0xFQU5JU0hfU1RSSU5HID0gMjtcblxuLy8gQSByZWFsIGJvb2xlYW4gYXR0cmlidXRlLlxuLy8gV2hlbiB0cnVlLCBpdCBzaG91bGQgYmUgcHJlc2VudCAoc2V0IGVpdGhlciB0byBhbiBlbXB0eSBzdHJpbmcgb3IgaXRzIG5hbWUpLlxuLy8gV2hlbiBmYWxzZSwgaXQgc2hvdWxkIGJlIG9taXR0ZWQuXG52YXIgQk9PTEVBTiA9IDM7XG5cbi8vIEFuIGF0dHJpYnV0ZSB0aGF0IGNhbiBiZSB1c2VkIGFzIGEgZmxhZyBhcyB3ZWxsIGFzIHdpdGggYSB2YWx1ZS5cbi8vIFdoZW4gdHJ1ZSwgaXQgc2hvdWxkIGJlIHByZXNlbnQgKHNldCBlaXRoZXIgdG8gYW4gZW1wdHkgc3RyaW5nIG9yIGl0cyBuYW1lKS5cbi8vIFdoZW4gZmFsc2UsIGl0IHNob3VsZCBiZSBvbWl0dGVkLlxuLy8gRm9yIGFueSBvdGhlciB2YWx1ZSwgc2hvdWxkIGJlIHByZXNlbnQgd2l0aCB0aGF0IHZhbHVlLlxudmFyIE9WRVJMT0FERURfQk9PTEVBTiA9IDQ7XG5cbi8vIEFuIGF0dHJpYnV0ZSB0aGF0IG11c3QgYmUgbnVtZXJpYyBvciBwYXJzZSBhcyBhIG51bWVyaWMuXG4vLyBXaGVuIGZhbHN5LCBpdCBzaG91bGQgYmUgcmVtb3ZlZC5cbnZhciBOVU1FUklDID0gNTtcblxuLy8gQW4gYXR0cmlidXRlIHRoYXQgbXVzdCBiZSBwb3NpdGl2ZSBudW1lcmljIG9yIHBhcnNlIGFzIGEgcG9zaXRpdmUgbnVtZXJpYy5cbi8vIFdoZW4gZmFsc3ksIGl0IHNob3VsZCBiZSByZW1vdmVkLlxudmFyIFBPU0lUSVZFX05VTUVSSUMgPSA2O1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG52YXIgQVRUUklCVVRFX05BTUVfU1RBUlRfQ0hBUiA9ICc6QS1aX2EtelxcXFx1MDBDMC1cXFxcdTAwRDZcXFxcdTAwRDgtXFxcXHUwMEY2XFxcXHUwMEY4LVxcXFx1MDJGRlxcXFx1MDM3MC1cXFxcdTAzN0RcXFxcdTAzN0YtXFxcXHUxRkZGXFxcXHUyMDBDLVxcXFx1MjAwRFxcXFx1MjA3MC1cXFxcdTIxOEZcXFxcdTJDMDAtXFxcXHUyRkVGXFxcXHUzMDAxLVxcXFx1RDdGRlxcXFx1RjkwMC1cXFxcdUZEQ0ZcXFxcdUZERjAtXFxcXHVGRkZEJztcbi8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xudmFyIEFUVFJJQlVURV9OQU1FX0NIQVIgPSBBVFRSSUJVVEVfTkFNRV9TVEFSVF9DSEFSICsgJ1xcXFwtLjAtOVxcXFx1MDBCN1xcXFx1MDMwMC1cXFxcdTAzNkZcXFxcdTIwM0YtXFxcXHUyMDQwJztcblxuXG52YXIgUk9PVF9BVFRSSUJVVEVfTkFNRSA9ICdkYXRhLXJlYWN0cm9vdCc7XG52YXIgVkFMSURfQVRUUklCVVRFX05BTUVfUkVHRVggPSBuZXcgUmVnRXhwKCdeWycgKyBBVFRSSUJVVEVfTkFNRV9TVEFSVF9DSEFSICsgJ11bJyArIEFUVFJJQlVURV9OQU1FX0NIQVIgKyAnXSokJyk7XG5cbnZhciBpbGxlZ2FsQXR0cmlidXRlTmFtZUNhY2hlID0ge307XG52YXIgdmFsaWRhdGVkQXR0cmlidXRlTmFtZUNhY2hlID0ge307XG5cbmZ1bmN0aW9uIGlzQXR0cmlidXRlTmFtZVNhZmUoYXR0cmlidXRlTmFtZSkge1xuICBpZiAodmFsaWRhdGVkQXR0cmlidXRlTmFtZUNhY2hlLmhhc093blByb3BlcnR5KGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKGlsbGVnYWxBdHRyaWJ1dGVOYW1lQ2FjaGUuaGFzT3duUHJvcGVydHkoYXR0cmlidXRlTmFtZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKFZBTElEX0FUVFJJQlVURV9OQU1FX1JFR0VYLnRlc3QoYXR0cmlidXRlTmFtZSkpIHtcbiAgICB2YWxpZGF0ZWRBdHRyaWJ1dGVOYW1lQ2FjaGVbYXR0cmlidXRlTmFtZV0gPSB0cnVlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlsbGVnYWxBdHRyaWJ1dGVOYW1lQ2FjaGVbYXR0cmlidXRlTmFtZV0gPSB0cnVlO1xuICB7XG4gICAgd2FybmluZyhmYWxzZSwgJ0ludmFsaWQgYXR0cmlidXRlIG5hbWU6IGAlc2AnLCBhdHRyaWJ1dGVOYW1lKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHNob3VsZElnbm9yZUF0dHJpYnV0ZShuYW1lLCBwcm9wZXJ0eUluZm8sIGlzQ3VzdG9tQ29tcG9uZW50VGFnKSB7XG4gIGlmIChwcm9wZXJ0eUluZm8gIT09IG51bGwpIHtcbiAgICByZXR1cm4gcHJvcGVydHlJbmZvLnR5cGUgPT09IFJFU0VSVkVEO1xuICB9XG4gIGlmIChpc0N1c3RvbUNvbXBvbmVudFRhZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAobmFtZS5sZW5ndGggPiAyICYmIChuYW1lWzBdID09PSAnbycgfHwgbmFtZVswXSA9PT0gJ08nKSAmJiAobmFtZVsxXSA9PT0gJ24nIHx8IG5hbWVbMV0gPT09ICdOJykpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFJlbW92ZUF0dHJpYnV0ZVdpdGhXYXJuaW5nKG5hbWUsIHZhbHVlLCBwcm9wZXJ0eUluZm8sIGlzQ3VzdG9tQ29tcG9uZW50VGFnKSB7XG4gIGlmIChwcm9wZXJ0eUluZm8gIT09IG51bGwgJiYgcHJvcGVydHlJbmZvLnR5cGUgPT09IFJFU0VSVkVEKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgIC8vICRGbG93SXNzdWUgc3ltYm9sIGlzIHBlcmZlY3RseSB2YWxpZCBoZXJlXG4gICAgY2FzZSAnc3ltYm9sJzpcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAge1xuICAgICAgICBpZiAoaXNDdXN0b21Db21wb25lbnRUYWcpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BlcnR5SW5mbyAhPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiAhcHJvcGVydHlJbmZvLmFjY2VwdHNCb29sZWFucztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcHJlZml4ID0gbmFtZS50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsIDUpO1xuICAgICAgICAgIHJldHVybiBwcmVmaXggIT09ICdkYXRhLScgJiYgcHJlZml4ICE9PSAnYXJpYS0nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzaG91bGRSZW1vdmVBdHRyaWJ1dGUobmFtZSwgdmFsdWUsIHByb3BlcnR5SW5mbywgaXNDdXN0b21Db21wb25lbnRUYWcpIHtcbiAgaWYgKHZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoc2hvdWxkUmVtb3ZlQXR0cmlidXRlV2l0aFdhcm5pbmcobmFtZSwgdmFsdWUsIHByb3BlcnR5SW5mbywgaXNDdXN0b21Db21wb25lbnRUYWcpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHByb3BlcnR5SW5mbyAhPT0gbnVsbCkge1xuICAgIHN3aXRjaCAocHJvcGVydHlJbmZvLnR5cGUpIHtcbiAgICAgIGNhc2UgQk9PTEVBTjpcbiAgICAgICAgcmV0dXJuICF2YWx1ZTtcbiAgICAgIGNhc2UgT1ZFUkxPQURFRF9CT09MRUFOOlxuICAgICAgICByZXR1cm4gdmFsdWUgPT09IGZhbHNlO1xuICAgICAgY2FzZSBOVU1FUklDOlxuICAgICAgICByZXR1cm4gaXNOYU4odmFsdWUpO1xuICAgICAgY2FzZSBQT1NJVElWRV9OVU1FUklDOlxuICAgICAgICByZXR1cm4gaXNOYU4odmFsdWUpIHx8IHZhbHVlIDwgMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRQcm9wZXJ0eUluZm8obmFtZSkge1xuICByZXR1cm4gcHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSA/IHByb3BlcnRpZXNbbmFtZV0gOiBudWxsO1xufVxuXG5mdW5jdGlvbiBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgdHlwZSwgbXVzdFVzZVByb3BlcnR5LCBhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVOYW1lc3BhY2UpIHtcbiAgdGhpcy5hY2NlcHRzQm9vbGVhbnMgPSB0eXBlID09PSBCT09MRUFOSVNIX1NUUklORyB8fCB0eXBlID09PSBCT09MRUFOIHx8IHR5cGUgPT09IE9WRVJMT0FERURfQk9PTEVBTjtcbiAgdGhpcy5hdHRyaWJ1dGVOYW1lID0gYXR0cmlidXRlTmFtZTtcbiAgdGhpcy5hdHRyaWJ1dGVOYW1lc3BhY2UgPSBhdHRyaWJ1dGVOYW1lc3BhY2U7XG4gIHRoaXMubXVzdFVzZVByb3BlcnR5ID0gbXVzdFVzZVByb3BlcnR5O1xuICB0aGlzLnByb3BlcnR5TmFtZSA9IG5hbWU7XG4gIHRoaXMudHlwZSA9IHR5cGU7XG59XG5cbi8vIFdoZW4gYWRkaW5nIGF0dHJpYnV0ZXMgdG8gdGhpcyBsaXN0LCBiZSBzdXJlIHRvIGFsc28gYWRkIHRoZW0gdG9cbi8vIHRoZSBgcG9zc2libGVTdGFuZGFyZE5hbWVzYCBtb2R1bGUgdG8gZW5zdXJlIGNhc2luZyBhbmQgaW5jb3JyZWN0XG4vLyBuYW1lIHdhcm5pbmdzLlxudmFyIHByb3BlcnRpZXMgPSB7fTtcblxuLy8gVGhlc2UgcHJvcHMgYXJlIHJlc2VydmVkIGJ5IFJlYWN0LiBUaGV5IHNob3VsZG4ndCBiZSB3cml0dGVuIHRvIHRoZSBET00uXG5bJ2NoaWxkcmVuJywgJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJyxcbi8vIFRPRE86IFRoaXMgcHJldmVudHMgdGhlIGFzc2lnbm1lbnQgb2YgZGVmYXVsdFZhbHVlIHRvIHJlZ3VsYXJcbi8vIGVsZW1lbnRzIChub3QganVzdCBpbnB1dHMpLiBOb3cgdGhhdCBSZWFjdERPTUlucHV0IGFzc2lnbnMgdG8gdGhlXG4vLyBkZWZhdWx0VmFsdWUgcHJvcGVydHkgLS0gZG8gd2UgbmVlZCB0aGlzP1xuJ2RlZmF1bHRWYWx1ZScsICdkZWZhdWx0Q2hlY2tlZCcsICdpbm5lckhUTUwnLCAnc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nJywgJ3N1cHByZXNzSHlkcmF0aW9uV2FybmluZycsICdzdHlsZSddLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgcHJvcGVydGllc1tuYW1lXSA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgUkVTRVJWRUQsIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgbmFtZSwgLy8gYXR0cmlidXRlTmFtZVxuICBudWxsKTtcbn0pO1xuXG4vLyBBIGZldyBSZWFjdCBzdHJpbmcgYXR0cmlidXRlcyBoYXZlIGEgZGlmZmVyZW50IG5hbWUuXG4vLyBUaGlzIGlzIGEgbWFwcGluZyBmcm9tIFJlYWN0IHByb3AgbmFtZXMgdG8gdGhlIGF0dHJpYnV0ZSBuYW1lcy5cbltbJ2FjY2VwdENoYXJzZXQnLCAnYWNjZXB0LWNoYXJzZXQnXSwgWydjbGFzc05hbWUnLCAnY2xhc3MnXSwgWydodG1sRm9yJywgJ2ZvciddLCBbJ2h0dHBFcXVpdicsICdodHRwLWVxdWl2J11dLmZvckVhY2goZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIG5hbWUgPSBfcmVmWzBdLFxuICAgICAgYXR0cmlidXRlTmFtZSA9IF9yZWZbMV07XG5cbiAgcHJvcGVydGllc1tuYW1lXSA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgU1RSSU5HLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIGF0dHJpYnV0ZU5hbWUsIC8vIGF0dHJpYnV0ZU5hbWVcbiAgbnVsbCk7XG59KTtcblxuLy8gVGhlc2UgYXJlIFwiZW51bWVyYXRlZFwiIEhUTUwgYXR0cmlidXRlcyB0aGF0IGFjY2VwdCBcInRydWVcIiBhbmQgXCJmYWxzZVwiLlxuLy8gSW4gUmVhY3QsIHdlIGxldCB1c2VycyBwYXNzIGB0cnVlYCBhbmQgYGZhbHNlYCBldmVuIHRob3VnaCB0ZWNobmljYWxseVxuLy8gdGhlc2UgYXJlbid0IGJvb2xlYW4gYXR0cmlidXRlcyAodGhleSBhcmUgY29lcmNlZCB0byBzdHJpbmdzKS5cblsnY29udGVudEVkaXRhYmxlJywgJ2RyYWdnYWJsZScsICdzcGVsbENoZWNrJywgJ3ZhbHVlJ10uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBCT09MRUFOSVNIX1NUUklORywgZmFsc2UsIC8vIG11c3RVc2VQcm9wZXJ0eVxuICBuYW1lLnRvTG93ZXJDYXNlKCksIC8vIGF0dHJpYnV0ZU5hbWVcbiAgbnVsbCk7XG59KTtcblxuLy8gVGhlc2UgYXJlIFwiZW51bWVyYXRlZFwiIFNWRyBhdHRyaWJ1dGVzIHRoYXQgYWNjZXB0IFwidHJ1ZVwiIGFuZCBcImZhbHNlXCIuXG4vLyBJbiBSZWFjdCwgd2UgbGV0IHVzZXJzIHBhc3MgYHRydWVgIGFuZCBgZmFsc2VgIGV2ZW4gdGhvdWdoIHRlY2huaWNhbGx5XG4vLyB0aGVzZSBhcmVuJ3QgYm9vbGVhbiBhdHRyaWJ1dGVzICh0aGV5IGFyZSBjb2VyY2VkIHRvIHN0cmluZ3MpLlxuLy8gU2luY2UgdGhlc2UgYXJlIFNWRyBhdHRyaWJ1dGVzLCB0aGVpciBhdHRyaWJ1dGUgbmFtZXMgYXJlIGNhc2Utc2Vuc2l0aXZlLlxuWydhdXRvUmV2ZXJzZScsICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ3ByZXNlcnZlQWxwaGEnXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gIHByb3BlcnRpZXNbbmFtZV0gPSBuZXcgUHJvcGVydHlJbmZvUmVjb3JkKG5hbWUsIEJPT0xFQU5JU0hfU1RSSU5HLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIG5hbWUsIC8vIGF0dHJpYnV0ZU5hbWVcbiAgbnVsbCk7XG59KTtcblxuLy8gVGhlc2UgYXJlIEhUTUwgYm9vbGVhbiBhdHRyaWJ1dGVzLlxuWydhbGxvd0Z1bGxTY3JlZW4nLCAnYXN5bmMnLFxuLy8gTm90ZTogdGhlcmUgaXMgYSBzcGVjaWFsIGNhc2UgdGhhdCBwcmV2ZW50cyBpdCBmcm9tIGJlaW5nIHdyaXR0ZW4gdG8gdGhlIERPTVxuLy8gb24gdGhlIGNsaWVudCBzaWRlIGJlY2F1c2UgdGhlIGJyb3dzZXJzIGFyZSBpbmNvbnNpc3RlbnQuIEluc3RlYWQgd2UgY2FsbCBmb2N1cygpLlxuJ2F1dG9Gb2N1cycsICdhdXRvUGxheScsICdjb250cm9scycsICdkZWZhdWx0JywgJ2RlZmVyJywgJ2Rpc2FibGVkJywgJ2Zvcm1Ob1ZhbGlkYXRlJywgJ2hpZGRlbicsICdsb29wJywgJ25vTW9kdWxlJywgJ25vVmFsaWRhdGUnLCAnb3BlbicsICdwbGF5c0lubGluZScsICdyZWFkT25seScsICdyZXF1aXJlZCcsICdyZXZlcnNlZCcsICdzY29wZWQnLCAnc2VhbWxlc3MnLFxuLy8gTWljcm9kYXRhXG4naXRlbVNjb3BlJ10uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBCT09MRUFOLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIG5hbWUudG9Mb3dlckNhc2UoKSwgLy8gYXR0cmlidXRlTmFtZVxuICBudWxsKTtcbn0pO1xuXG4vLyBUaGVzZSBhcmUgdGhlIGZldyBSZWFjdCBwcm9wcyB0aGF0IHdlIHNldCBhcyBET00gcHJvcGVydGllc1xuLy8gcmF0aGVyIHRoYW4gYXR0cmlidXRlcy4gVGhlc2UgYXJlIGFsbCBib29sZWFucy5cblsnY2hlY2tlZCcsXG4vLyBOb3RlOiBgb3B0aW9uLnNlbGVjdGVkYCBpcyBub3QgdXBkYXRlZCBpZiBgc2VsZWN0Lm11bHRpcGxlYCBpc1xuLy8gZGlzYWJsZWQgd2l0aCBgcmVtb3ZlQXR0cmlidXRlYC4gV2UgaGF2ZSBzcGVjaWFsIGxvZ2ljIGZvciBoYW5kbGluZyB0aGlzLlxuJ211bHRpcGxlJywgJ211dGVkJywgJ3NlbGVjdGVkJ10uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBCT09MRUFOLCB0cnVlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgbmFtZS50b0xvd2VyQ2FzZSgpLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwpO1xufSk7XG5cbi8vIFRoZXNlIGFyZSBIVE1MIGF0dHJpYnV0ZXMgdGhhdCBhcmUgXCJvdmVybG9hZGVkIGJvb2xlYW5zXCI6IHRoZXkgYmVoYXZlIGxpa2Vcbi8vIGJvb2xlYW5zLCBidXQgY2FuIGFsc28gYWNjZXB0IGEgc3RyaW5nIHZhbHVlLlxuWydjYXB0dXJlJywgJ2Rvd25sb2FkJ10uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBPVkVSTE9BREVEX0JPT0xFQU4sIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgbmFtZS50b0xvd2VyQ2FzZSgpLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwpO1xufSk7XG5cbi8vIFRoZXNlIGFyZSBIVE1MIGF0dHJpYnV0ZXMgdGhhdCBtdXN0IGJlIHBvc2l0aXZlIG51bWJlcnMuXG5bJ2NvbHMnLCAncm93cycsICdzaXplJywgJ3NwYW4nXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gIHByb3BlcnRpZXNbbmFtZV0gPSBuZXcgUHJvcGVydHlJbmZvUmVjb3JkKG5hbWUsIFBPU0lUSVZFX05VTUVSSUMsIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgbmFtZS50b0xvd2VyQ2FzZSgpLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwpO1xufSk7XG5cbi8vIFRoZXNlIGFyZSBIVE1MIGF0dHJpYnV0ZXMgdGhhdCBtdXN0IGJlIG51bWJlcnMuXG5bJ3Jvd1NwYW4nLCAnc3RhcnQnXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gIHByb3BlcnRpZXNbbmFtZV0gPSBuZXcgUHJvcGVydHlJbmZvUmVjb3JkKG5hbWUsIE5VTUVSSUMsIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgbmFtZS50b0xvd2VyQ2FzZSgpLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwpO1xufSk7XG5cbnZhciBDQU1FTElaRSA9IC9bXFwtXFw6XShbYS16XSkvZztcbnZhciBjYXBpdGFsaXplID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gIHJldHVybiB0b2tlblsxXS50b1VwcGVyQ2FzZSgpO1xufTtcblxuLy8gVGhpcyBpcyBhIGxpc3Qgb2YgYWxsIFNWRyBhdHRyaWJ1dGVzIHRoYXQgbmVlZCBzcGVjaWFsIGNhc2luZywgbmFtZXNwYWNpbmcsXG4vLyBvciBib29sZWFuIHZhbHVlIGFzc2lnbm1lbnQuIFJlZ3VsYXIgYXR0cmlidXRlcyB0aGF0IGp1c3QgYWNjZXB0IHN0cmluZ3Ncbi8vIGFuZCBoYXZlIHRoZSBzYW1lIG5hbWVzIGFyZSBvbWl0dGVkLCBqdXN0IGxpa2UgaW4gdGhlIEhUTUwgd2hpdGVsaXN0LlxuLy8gU29tZSBvZiB0aGVzZSBhdHRyaWJ1dGVzIGNhbiBiZSBoYXJkIHRvIGZpbmQuIFRoaXMgbGlzdCB3YXMgY3JlYXRlZCBieVxuLy8gc2NyYXBwaW5nIHRoZSBNRE4gZG9jdW1lbnRhdGlvbi5cblsnYWNjZW50LWhlaWdodCcsICdhbGlnbm1lbnQtYmFzZWxpbmUnLCAnYXJhYmljLWZvcm0nLCAnYmFzZWxpbmUtc2hpZnQnLCAnY2FwLWhlaWdodCcsICdjbGlwLXBhdGgnLCAnY2xpcC1ydWxlJywgJ2NvbG9yLWludGVycG9sYXRpb24nLCAnY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzJywgJ2NvbG9yLXByb2ZpbGUnLCAnY29sb3ItcmVuZGVyaW5nJywgJ2RvbWluYW50LWJhc2VsaW5lJywgJ2VuYWJsZS1iYWNrZ3JvdW5kJywgJ2ZpbGwtb3BhY2l0eScsICdmaWxsLXJ1bGUnLCAnZmxvb2QtY29sb3InLCAnZmxvb2Qtb3BhY2l0eScsICdmb250LWZhbWlseScsICdmb250LXNpemUnLCAnZm9udC1zaXplLWFkanVzdCcsICdmb250LXN0cmV0Y2gnLCAnZm9udC1zdHlsZScsICdmb250LXZhcmlhbnQnLCAnZm9udC13ZWlnaHQnLCAnZ2x5cGgtbmFtZScsICdnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsJywgJ2dseXBoLW9yaWVudGF0aW9uLXZlcnRpY2FsJywgJ2hvcml6LWFkdi14JywgJ2hvcml6LW9yaWdpbi14JywgJ2ltYWdlLXJlbmRlcmluZycsICdsZXR0ZXItc3BhY2luZycsICdsaWdodGluZy1jb2xvcicsICdtYXJrZXItZW5kJywgJ21hcmtlci1taWQnLCAnbWFya2VyLXN0YXJ0JywgJ292ZXJsaW5lLXBvc2l0aW9uJywgJ292ZXJsaW5lLXRoaWNrbmVzcycsICdwYWludC1vcmRlcicsICdwYW5vc2UtMScsICdwb2ludGVyLWV2ZW50cycsICdyZW5kZXJpbmctaW50ZW50JywgJ3NoYXBlLXJlbmRlcmluZycsICdzdG9wLWNvbG9yJywgJ3N0b3Atb3BhY2l0eScsICdzdHJpa2V0aHJvdWdoLXBvc2l0aW9uJywgJ3N0cmlrZXRocm91Z2gtdGhpY2tuZXNzJywgJ3N0cm9rZS1kYXNoYXJyYXknLCAnc3Ryb2tlLWRhc2hvZmZzZXQnLCAnc3Ryb2tlLWxpbmVjYXAnLCAnc3Ryb2tlLWxpbmVqb2luJywgJ3N0cm9rZS1taXRlcmxpbWl0JywgJ3N0cm9rZS1vcGFjaXR5JywgJ3N0cm9rZS13aWR0aCcsICd0ZXh0LWFuY2hvcicsICd0ZXh0LWRlY29yYXRpb24nLCAndGV4dC1yZW5kZXJpbmcnLCAndW5kZXJsaW5lLXBvc2l0aW9uJywgJ3VuZGVybGluZS10aGlja25lc3MnLCAndW5pY29kZS1iaWRpJywgJ3VuaWNvZGUtcmFuZ2UnLCAndW5pdHMtcGVyLWVtJywgJ3YtYWxwaGFiZXRpYycsICd2LWhhbmdpbmcnLCAndi1pZGVvZ3JhcGhpYycsICd2LW1hdGhlbWF0aWNhbCcsICd2ZWN0b3ItZWZmZWN0JywgJ3ZlcnQtYWR2LXknLCAndmVydC1vcmlnaW4teCcsICd2ZXJ0LW9yaWdpbi15JywgJ3dvcmQtc3BhY2luZycsICd3cml0aW5nLW1vZGUnLCAneG1sbnM6eGxpbmsnLCAneC1oZWlnaHQnXS5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyaWJ1dGVOYW1lKSB7XG4gIHZhciBuYW1lID0gYXR0cmlidXRlTmFtZS5yZXBsYWNlKENBTUVMSVpFLCBjYXBpdGFsaXplKTtcbiAgcHJvcGVydGllc1tuYW1lXSA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgU1RSSU5HLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIGF0dHJpYnV0ZU5hbWUsIG51bGwpO1xufSk7XG5cbi8vIFN0cmluZyBTVkcgYXR0cmlidXRlcyB3aXRoIHRoZSB4bGluayBuYW1lc3BhY2UuXG5bJ3hsaW5rOmFjdHVhdGUnLCAneGxpbms6YXJjcm9sZScsICd4bGluazpocmVmJywgJ3hsaW5rOnJvbGUnLCAneGxpbms6c2hvdycsICd4bGluazp0aXRsZScsICd4bGluazp0eXBlJ10uZm9yRWFjaChmdW5jdGlvbiAoYXR0cmlidXRlTmFtZSkge1xuICB2YXIgbmFtZSA9IGF0dHJpYnV0ZU5hbWUucmVwbGFjZShDQU1FTElaRSwgY2FwaXRhbGl6ZSk7XG4gIHByb3BlcnRpZXNbbmFtZV0gPSBuZXcgUHJvcGVydHlJbmZvUmVjb3JkKG5hbWUsIFNUUklORywgZmFsc2UsIC8vIG11c3RVc2VQcm9wZXJ0eVxuICBhdHRyaWJ1dGVOYW1lLCAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycpO1xufSk7XG5cbi8vIFN0cmluZyBTVkcgYXR0cmlidXRlcyB3aXRoIHRoZSB4bWwgbmFtZXNwYWNlLlxuWyd4bWw6YmFzZScsICd4bWw6bGFuZycsICd4bWw6c3BhY2UnXS5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyaWJ1dGVOYW1lKSB7XG4gIHZhciBuYW1lID0gYXR0cmlidXRlTmFtZS5yZXBsYWNlKENBTUVMSVpFLCBjYXBpdGFsaXplKTtcbiAgcHJvcGVydGllc1tuYW1lXSA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgU1RSSU5HLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIGF0dHJpYnV0ZU5hbWUsICdodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2UnKTtcbn0pO1xuXG4vLyBTcGVjaWFsIGNhc2U6IHRoaXMgYXR0cmlidXRlIGV4aXN0cyBib3RoIGluIEhUTUwgYW5kIFNWRy5cbi8vIEl0cyBcInRhYmluZGV4XCIgYXR0cmlidXRlIG5hbWUgaXMgY2FzZS1zZW5zaXRpdmUgaW4gU1ZHIHNvIHdlIGNhbid0IGp1c3QgdXNlXG4vLyBpdHMgUmVhY3QgYHRhYkluZGV4YCBuYW1lLCBsaWtlIHdlIGRvIGZvciBhdHRyaWJ1dGVzIHRoYXQgZXhpc3Qgb25seSBpbiBIVE1MLlxucHJvcGVydGllcy50YWJJbmRleCA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQoJ3RhYkluZGV4JywgU1RSSU5HLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4ndGFiaW5kZXgnLCAvLyBhdHRyaWJ1dGVOYW1lXG5udWxsKTtcblxuLyoqXG4gKiBHZXQgdGhlIHZhbHVlIGZvciBhIHByb3BlcnR5IG9uIGEgbm9kZS4gT25seSB1c2VkIGluIERFViBmb3IgU1NSIHZhbGlkYXRpb24uXG4gKiBUaGUgXCJleHBlY3RlZFwiIGFyZ3VtZW50IGlzIHVzZWQgYXMgYSBoaW50IG9mIHdoYXQgdGhlIGV4cGVjdGVkIHZhbHVlIGlzLlxuICogU29tZSBwcm9wZXJ0aWVzIGhhdmUgbXVsdGlwbGUgZXF1aXZhbGVudCB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlRm9yUHJvcGVydHkobm9kZSwgbmFtZSwgZXhwZWN0ZWQsIHByb3BlcnR5SW5mbykge1xuICB7XG4gICAgaWYgKHByb3BlcnR5SW5mby5tdXN0VXNlUHJvcGVydHkpIHtcbiAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0eUluZm8ucHJvcGVydHlOYW1lO1xuXG4gICAgICByZXR1cm4gbm9kZVtwcm9wZXJ0eU5hbWVdO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXR0cmlidXRlTmFtZSA9IHByb3BlcnR5SW5mby5hdHRyaWJ1dGVOYW1lO1xuXG4gICAgICB2YXIgc3RyaW5nVmFsdWUgPSBudWxsO1xuXG4gICAgICBpZiAocHJvcGVydHlJbmZvLnR5cGUgPT09IE9WRVJMT0FERURfQk9PTEVBTikge1xuICAgICAgICBpZiAobm9kZS5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSkpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICBpZiAodmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNob3VsZFJlbW92ZUF0dHJpYnV0ZShuYW1lLCBleHBlY3RlZCwgcHJvcGVydHlJbmZvLCBmYWxzZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHZhbHVlID09PSAnJyArIGV4cGVjdGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZXhwZWN0ZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChub2RlLmhhc0F0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgICBpZiAoc2hvdWxkUmVtb3ZlQXR0cmlidXRlKG5hbWUsIGV4cGVjdGVkLCBwcm9wZXJ0eUluZm8sIGZhbHNlKSkge1xuICAgICAgICAgIC8vIFdlIGhhZCBhbiBhdHRyaWJ1dGUgYnV0IHNob3VsZG4ndCBoYXZlIGhhZCBvbmUsIHNvIHJlYWQgaXRcbiAgICAgICAgICAvLyBmb3IgdGhlIGVycm9yIG1lc3NhZ2UuXG4gICAgICAgICAgcmV0dXJuIG5vZGUuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wZXJ0eUluZm8udHlwZSA9PT0gQk9PTEVBTikge1xuICAgICAgICAgIC8vIElmIHRoaXMgd2FzIGEgYm9vbGVhbiwgaXQgZG9lc24ndCBtYXR0ZXIgd2hhdCB0aGUgdmFsdWUgaXNcbiAgICAgICAgICAvLyB0aGUgZmFjdCB0aGF0IHdlIGhhdmUgaXQgaXMgdGhlIHNhbWUgYXMgdGhlIGV4cGVjdGVkLlxuICAgICAgICAgIHJldHVybiBleHBlY3RlZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBFdmVuIGlmIHRoaXMgcHJvcGVydHkgdXNlcyBhIG5hbWVzcGFjZSB3ZSB1c2UgZ2V0QXR0cmlidXRlXG4gICAgICAgIC8vIGJlY2F1c2Ugd2UgYXNzdW1lIGl0cyBuYW1lc3BhY2VkIG5hbWUgaXMgdGhlIHNhbWUgYXMgb3VyIGNvbmZpZy5cbiAgICAgICAgLy8gVG8gdXNlIGdldEF0dHJpYnV0ZU5TIHdlIG5lZWQgdGhlIGxvY2FsIG5hbWUgd2hpY2ggd2UgZG9uJ3QgaGF2ZVxuICAgICAgICAvLyBpbiBvdXIgY29uZmlnIGF0bS5cbiAgICAgICAgc3RyaW5nVmFsdWUgPSBub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNob3VsZFJlbW92ZUF0dHJpYnV0ZShuYW1lLCBleHBlY3RlZCwgcHJvcGVydHlJbmZvLCBmYWxzZSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZ1ZhbHVlID09PSBudWxsID8gZXhwZWN0ZWQgOiBzdHJpbmdWYWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAoc3RyaW5nVmFsdWUgPT09ICcnICsgZXhwZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIGV4cGVjdGVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZ1ZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEdldCB0aGUgdmFsdWUgZm9yIGEgYXR0cmlidXRlIG9uIGEgbm9kZS4gT25seSB1c2VkIGluIERFViBmb3IgU1NSIHZhbGlkYXRpb24uXG4gKiBUaGUgdGhpcmQgYXJndW1lbnQgaXMgdXNlZCBhcyBhIGhpbnQgb2Ygd2hhdCB0aGUgZXhwZWN0ZWQgdmFsdWUgaXMuIFNvbWVcbiAqIGF0dHJpYnV0ZXMgaGF2ZSBtdWx0aXBsZSBlcXVpdmFsZW50IHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWVGb3JBdHRyaWJ1dGUobm9kZSwgbmFtZSwgZXhwZWN0ZWQpIHtcbiAge1xuICAgIGlmICghaXNBdHRyaWJ1dGVOYW1lU2FmZShuYW1lKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIW5vZGUuaGFzQXR0cmlidXRlKG5hbWUpKSB7XG4gICAgICByZXR1cm4gZXhwZWN0ZWQgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IG51bGw7XG4gICAgfVxuICAgIHZhciB2YWx1ZSA9IG5vZGUuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgIGlmICh2YWx1ZSA9PT0gJycgKyBleHBlY3RlZCkge1xuICAgICAgcmV0dXJuIGV4cGVjdGVkO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXRzIHRoZSB2YWx1ZSBmb3IgYSBwcm9wZXJ0eSBvbiBhIG5vZGUuXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICovXG5mdW5jdGlvbiBzZXRWYWx1ZUZvclByb3BlcnR5KG5vZGUsIG5hbWUsIHZhbHVlLCBpc0N1c3RvbUNvbXBvbmVudFRhZykge1xuICB2YXIgcHJvcGVydHlJbmZvID0gZ2V0UHJvcGVydHlJbmZvKG5hbWUpO1xuICBpZiAoc2hvdWxkSWdub3JlQXR0cmlidXRlKG5hbWUsIHByb3BlcnR5SW5mbywgaXNDdXN0b21Db21wb25lbnRUYWcpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChzaG91bGRSZW1vdmVBdHRyaWJ1dGUobmFtZSwgdmFsdWUsIHByb3BlcnR5SW5mbywgaXNDdXN0b21Db21wb25lbnRUYWcpKSB7XG4gICAgdmFsdWUgPSBudWxsO1xuICB9XG4gIC8vIElmIHRoZSBwcm9wIGlzbid0IGluIHRoZSBzcGVjaWFsIGxpc3QsIHRyZWF0IGl0IGFzIGEgc2ltcGxlIGF0dHJpYnV0ZS5cbiAgaWYgKGlzQ3VzdG9tQ29tcG9uZW50VGFnIHx8IHByb3BlcnR5SW5mbyA9PT0gbnVsbCkge1xuICAgIGlmIChpc0F0dHJpYnV0ZU5hbWVTYWZlKG5hbWUpKSB7XG4gICAgICB2YXIgX2F0dHJpYnV0ZU5hbWUgPSBuYW1lO1xuICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKF9hdHRyaWJ1dGVOYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKF9hdHRyaWJ1dGVOYW1lLCAnJyArIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBtdXN0VXNlUHJvcGVydHkgPSBwcm9wZXJ0eUluZm8ubXVzdFVzZVByb3BlcnR5O1xuXG4gIGlmIChtdXN0VXNlUHJvcGVydHkpIHtcbiAgICB2YXIgcHJvcGVydHlOYW1lID0gcHJvcGVydHlJbmZvLnByb3BlcnR5TmFtZTtcblxuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgdmFyIHR5cGUgPSBwcm9wZXJ0eUluZm8udHlwZTtcblxuICAgICAgbm9kZVtwcm9wZXJ0eU5hbWVdID0gdHlwZSA9PT0gQk9PTEVBTiA/IGZhbHNlIDogJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENvbnRyYXJ5IHRvIGBzZXRBdHRyaWJ1dGVgLCBvYmplY3QgcHJvcGVydGllcyBhcmUgcHJvcGVybHlcbiAgICAgIC8vIGB0b1N0cmluZ2BlZCBieSBJRTgvOS5cbiAgICAgIG5vZGVbcHJvcGVydHlOYW1lXSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgLy8gVGhlIHJlc3QgYXJlIHRyZWF0ZWQgYXMgYXR0cmlidXRlcyB3aXRoIHNwZWNpYWwgY2FzZXMuXG4gIHZhciBhdHRyaWJ1dGVOYW1lID0gcHJvcGVydHlJbmZvLmF0dHJpYnV0ZU5hbWUsXG4gICAgICBhdHRyaWJ1dGVOYW1lc3BhY2UgPSBwcm9wZXJ0eUluZm8uYXR0cmlidXRlTmFtZXNwYWNlO1xuXG4gIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICB9IGVsc2Uge1xuICAgIHZhciBfdHlwZSA9IHByb3BlcnR5SW5mby50eXBlO1xuXG4gICAgdmFyIGF0dHJpYnV0ZVZhbHVlID0gdm9pZCAwO1xuICAgIGlmIChfdHlwZSA9PT0gQk9PTEVBTiB8fCBfdHlwZSA9PT0gT1ZFUkxPQURFRF9CT09MRUFOICYmIHZhbHVlID09PSB0cnVlKSB7XG4gICAgICBhdHRyaWJ1dGVWYWx1ZSA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBgc2V0QXR0cmlidXRlYCB3aXRoIG9iamVjdHMgYmVjb21lcyBvbmx5IGBbb2JqZWN0XWAgaW4gSUU4LzksXG4gICAgICAvLyAoJycgKyB2YWx1ZSkgbWFrZXMgaXQgb3V0cHV0IHRoZSBjb3JyZWN0IHRvU3RyaW5nKCktdmFsdWUuXG4gICAgICBhdHRyaWJ1dGVWYWx1ZSA9ICcnICsgdmFsdWU7XG4gICAgfVxuICAgIGlmIChhdHRyaWJ1dGVOYW1lc3BhY2UpIHtcbiAgICAgIG5vZGUuc2V0QXR0cmlidXRlTlMoYXR0cmlidXRlTmFtZXNwYWNlLCBhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVZhbHVlKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIFJlYWN0Q29udHJvbGxlZFZhbHVlUHJvcFR5cGVzID0ge1xuICBjaGVja1Byb3BUeXBlczogbnVsbFxufTtcblxue1xuICB2YXIgaGFzUmVhZE9ubHlWYWx1ZSA9IHtcbiAgICBidXR0b246IHRydWUsXG4gICAgY2hlY2tib3g6IHRydWUsXG4gICAgaW1hZ2U6IHRydWUsXG4gICAgaGlkZGVuOiB0cnVlLFxuICAgIHJhZGlvOiB0cnVlLFxuICAgIHJlc2V0OiB0cnVlLFxuICAgIHN1Ym1pdDogdHJ1ZVxuICB9O1xuXG4gIHZhciBwcm9wVHlwZXMgPSB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uIChwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgICAgIGlmICghcHJvcHNbcHJvcE5hbWVdIHx8IGhhc1JlYWRPbmx5VmFsdWVbcHJvcHMudHlwZV0gfHwgcHJvcHMub25DaGFuZ2UgfHwgcHJvcHMucmVhZE9ubHkgfHwgcHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdZb3UgcHJvdmlkZWQgYSBgdmFsdWVgIHByb3AgdG8gYSBmb3JtIGZpZWxkIHdpdGhvdXQgYW4gJyArICdgb25DaGFuZ2VgIGhhbmRsZXIuIFRoaXMgd2lsbCByZW5kZXIgYSByZWFkLW9ubHkgZmllbGQuIElmICcgKyAndGhlIGZpZWxkIHNob3VsZCBiZSBtdXRhYmxlIHVzZSBgZGVmYXVsdFZhbHVlYC4gT3RoZXJ3aXNlLCAnICsgJ3NldCBlaXRoZXIgYG9uQ2hhbmdlYCBvciBgcmVhZE9ubHlgLicpO1xuICAgIH0sXG4gICAgY2hlY2tlZDogZnVuY3Rpb24gKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICAgICAgaWYgKCFwcm9wc1twcm9wTmFtZV0gfHwgcHJvcHMub25DaGFuZ2UgfHwgcHJvcHMucmVhZE9ubHkgfHwgcHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdZb3UgcHJvdmlkZWQgYSBgY2hlY2tlZGAgcHJvcCB0byBhIGZvcm0gZmllbGQgd2l0aG91dCBhbiAnICsgJ2BvbkNoYW5nZWAgaGFuZGxlci4gVGhpcyB3aWxsIHJlbmRlciBhIHJlYWQtb25seSBmaWVsZC4gSWYgJyArICd0aGUgZmllbGQgc2hvdWxkIGJlIG11dGFibGUgdXNlIGBkZWZhdWx0Q2hlY2tlZGAuIE90aGVyd2lzZSwgJyArICdzZXQgZWl0aGVyIGBvbkNoYW5nZWAgb3IgYHJlYWRPbmx5YC4nKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFByb3ZpZGUgYSBsaW5rZWQgYHZhbHVlYCBhdHRyaWJ1dGUgZm9yIGNvbnRyb2xsZWQgZm9ybXMuIFlvdSBzaG91bGQgbm90IHVzZVxuICAgKiB0aGlzIG91dHNpZGUgb2YgdGhlIFJlYWN0RE9NIGNvbnRyb2xsZWQgZm9ybSBjb21wb25lbnRzLlxuICAgKi9cbiAgUmVhY3RDb250cm9sbGVkVmFsdWVQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMgPSBmdW5jdGlvbiAodGFnTmFtZSwgcHJvcHMsIGdldFN0YWNrKSB7XG4gICAgY2hlY2tQcm9wVHlwZXMocHJvcFR5cGVzLCBwcm9wcywgJ3Byb3AnLCB0YWdOYW1lLCBnZXRTdGFjayk7XG4gIH07XG59XG5cbi8vIFRPRE86IGRpcmVjdCBpbXBvcnRzIGxpa2Ugc29tZS1wYWNrYWdlL3NyYy8qIGFyZSBiYWQuIEZpeCBtZS5cbnZhciBnZXRDdXJyZW50RmliZXJPd25lck5hbWUgPSBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmdldEN1cnJlbnRGaWJlck93bmVyTmFtZTtcbnZhciBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtID0gUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5nZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtO1xuXG52YXIgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlID0gZmFsc2U7XG52YXIgZGlkV2FybkNoZWNrZWREZWZhdWx0Q2hlY2tlZCA9IGZhbHNlO1xudmFyIGRpZFdhcm5Db250cm9sbGVkVG9VbmNvbnRyb2xsZWQgPSBmYWxzZTtcbnZhciBkaWRXYXJuVW5jb250cm9sbGVkVG9Db250cm9sbGVkID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGlzQ29udHJvbGxlZChwcm9wcykge1xuICB2YXIgdXNlc0NoZWNrZWQgPSBwcm9wcy50eXBlID09PSAnY2hlY2tib3gnIHx8IHByb3BzLnR5cGUgPT09ICdyYWRpbyc7XG4gIHJldHVybiB1c2VzQ2hlY2tlZCA/IHByb3BzLmNoZWNrZWQgIT0gbnVsbCA6IHByb3BzLnZhbHVlICE9IG51bGw7XG59XG5cbi8qKlxuICogSW1wbGVtZW50cyBhbiA8aW5wdXQ+IGhvc3QgY29tcG9uZW50IHRoYXQgYWxsb3dzIHNldHRpbmcgdGhlc2Ugb3B0aW9uYWxcbiAqIHByb3BzOiBgY2hlY2tlZGAsIGB2YWx1ZWAsIGBkZWZhdWx0Q2hlY2tlZGAsIGFuZCBgZGVmYXVsdFZhbHVlYC5cbiAqXG4gKiBJZiBgY2hlY2tlZGAgb3IgYHZhbHVlYCBhcmUgbm90IHN1cHBsaWVkIChvciBudWxsL3VuZGVmaW5lZCksIHVzZXIgYWN0aW9uc1xuICogdGhhdCBhZmZlY3QgdGhlIGNoZWNrZWQgc3RhdGUgb3IgdmFsdWUgd2lsbCB0cmlnZ2VyIHVwZGF0ZXMgdG8gdGhlIGVsZW1lbnQuXG4gKlxuICogSWYgdGhleSBhcmUgc3VwcGxpZWQgKGFuZCBub3QgbnVsbC91bmRlZmluZWQpLCB0aGUgcmVuZGVyZWQgZWxlbWVudCB3aWxsIG5vdFxuICogdHJpZ2dlciB1cGRhdGVzIHRvIHRoZSBlbGVtZW50LiBJbnN0ZWFkLCB0aGUgcHJvcHMgbXVzdCBjaGFuZ2UgaW4gb3JkZXIgZm9yXG4gKiB0aGUgcmVuZGVyZWQgZWxlbWVudCB0byBiZSB1cGRhdGVkLlxuICpcbiAqIFRoZSByZW5kZXJlZCBlbGVtZW50IHdpbGwgYmUgaW5pdGlhbGl6ZWQgYXMgdW5jaGVja2VkIChvciBgZGVmYXVsdENoZWNrZWRgKVxuICogd2l0aCBhbiBlbXB0eSB2YWx1ZSAob3IgYGRlZmF1bHRWYWx1ZWApLlxuICpcbiAqIFNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDEyL1dELWh0bWw1LTIwMTIxMDI1L3RoZS1pbnB1dC1lbGVtZW50Lmh0bWxcbiAqL1xuXG5mdW5jdGlvbiBnZXRIb3N0UHJvcHMoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuICB2YXIgY2hlY2tlZCA9IHByb3BzLmNoZWNrZWQ7XG5cbiAgdmFyIGhvc3RQcm9wcyA9IF9hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgZGVmYXVsdENoZWNrZWQ6IHVuZGVmaW5lZCxcbiAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZCxcbiAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgIGNoZWNrZWQ6IGNoZWNrZWQgIT0gbnVsbCA/IGNoZWNrZWQgOiBub2RlLl93cmFwcGVyU3RhdGUuaW5pdGlhbENoZWNrZWRcbiAgfSk7XG5cbiAgcmV0dXJuIGhvc3RQcm9wcztcbn1cblxuZnVuY3Rpb24gaW5pdFdyYXBwZXJTdGF0ZShlbGVtZW50LCBwcm9wcykge1xuICB7XG4gICAgUmVhY3RDb250cm9sbGVkVmFsdWVQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoJ2lucHV0JywgcHJvcHMsIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0pO1xuXG4gICAgaWYgKHByb3BzLmNoZWNrZWQgIT09IHVuZGVmaW5lZCAmJiBwcm9wcy5kZWZhdWx0Q2hlY2tlZCAhPT0gdW5kZWZpbmVkICYmICFkaWRXYXJuQ2hlY2tlZERlZmF1bHRDaGVja2VkKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnJXMgY29udGFpbnMgYW4gaW5wdXQgb2YgdHlwZSAlcyB3aXRoIGJvdGggY2hlY2tlZCBhbmQgZGVmYXVsdENoZWNrZWQgcHJvcHMuICcgKyAnSW5wdXQgZWxlbWVudHMgbXVzdCBiZSBlaXRoZXIgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgJyArICcoc3BlY2lmeSBlaXRoZXIgdGhlIGNoZWNrZWQgcHJvcCwgb3IgdGhlIGRlZmF1bHRDaGVja2VkIHByb3AsIGJ1dCBub3QgJyArICdib3RoKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBpbnB1dCAnICsgJ2VsZW1lbnQgYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuIE1vcmUgaW5mbzogJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWNvbnRyb2xsZWQtY29tcG9uZW50cycsIGdldEN1cnJlbnRGaWJlck93bmVyTmFtZSgpIHx8ICdBIGNvbXBvbmVudCcsIHByb3BzLnR5cGUpO1xuICAgICAgZGlkV2FybkNoZWNrZWREZWZhdWx0Q2hlY2tlZCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChwcm9wcy52YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHByb3BzLmRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkICYmICFkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICclcyBjb250YWlucyBhbiBpbnB1dCBvZiB0eXBlICVzIHdpdGggYm90aCB2YWx1ZSBhbmQgZGVmYXVsdFZhbHVlIHByb3BzLiAnICsgJ0lucHV0IGVsZW1lbnRzIG11c3QgYmUgZWl0aGVyIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkICcgKyAnKHNwZWNpZnkgZWl0aGVyIHRoZSB2YWx1ZSBwcm9wLCBvciB0aGUgZGVmYXVsdFZhbHVlIHByb3AsIGJ1dCBub3QgJyArICdib3RoKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBpbnB1dCAnICsgJ2VsZW1lbnQgYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuIE1vcmUgaW5mbzogJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWNvbnRyb2xsZWQtY29tcG9uZW50cycsIGdldEN1cnJlbnRGaWJlck93bmVyTmFtZSgpIHx8ICdBIGNvbXBvbmVudCcsIHByb3BzLnR5cGUpO1xuICAgICAgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICB2YXIgbm9kZSA9IGVsZW1lbnQ7XG4gIHZhciBkZWZhdWx0VmFsdWUgPSBwcm9wcy5kZWZhdWx0VmFsdWUgPT0gbnVsbCA/ICcnIDogcHJvcHMuZGVmYXVsdFZhbHVlO1xuXG4gIG5vZGUuX3dyYXBwZXJTdGF0ZSA9IHtcbiAgICBpbml0aWFsQ2hlY2tlZDogcHJvcHMuY2hlY2tlZCAhPSBudWxsID8gcHJvcHMuY2hlY2tlZCA6IHByb3BzLmRlZmF1bHRDaGVja2VkLFxuICAgIGluaXRpYWxWYWx1ZTogZ2V0U2FmZVZhbHVlKHByb3BzLnZhbHVlICE9IG51bGwgPyBwcm9wcy52YWx1ZSA6IGRlZmF1bHRWYWx1ZSksXG4gICAgY29udHJvbGxlZDogaXNDb250cm9sbGVkKHByb3BzKVxuICB9O1xufVxuXG5mdW5jdGlvbiB1cGRhdGVDaGVja2VkKGVsZW1lbnQsIHByb3BzKSB7XG4gIHZhciBub2RlID0gZWxlbWVudDtcbiAgdmFyIGNoZWNrZWQgPSBwcm9wcy5jaGVja2VkO1xuICBpZiAoY2hlY2tlZCAhPSBudWxsKSB7XG4gICAgc2V0VmFsdWVGb3JQcm9wZXJ0eShub2RlLCAnY2hlY2tlZCcsIGNoZWNrZWQsIGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVXcmFwcGVyKGVsZW1lbnQsIHByb3BzKSB7XG4gIHZhciBub2RlID0gZWxlbWVudDtcbiAge1xuICAgIHZhciBfY29udHJvbGxlZCA9IGlzQ29udHJvbGxlZChwcm9wcyk7XG5cbiAgICBpZiAoIW5vZGUuX3dyYXBwZXJTdGF0ZS5jb250cm9sbGVkICYmIF9jb250cm9sbGVkICYmICFkaWRXYXJuVW5jb250cm9sbGVkVG9Db250cm9sbGVkKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnQSBjb21wb25lbnQgaXMgY2hhbmdpbmcgYW4gdW5jb250cm9sbGVkIGlucHV0IG9mIHR5cGUgJXMgdG8gYmUgY29udHJvbGxlZC4gJyArICdJbnB1dCBlbGVtZW50cyBzaG91bGQgbm90IHN3aXRjaCBmcm9tIHVuY29udHJvbGxlZCB0byBjb250cm9sbGVkIChvciB2aWNlIHZlcnNhKS4gJyArICdEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIGlucHV0ICcgKyAnZWxlbWVudCBmb3IgdGhlIGxpZmV0aW1lIG9mIHRoZSBjb21wb25lbnQuIE1vcmUgaW5mbzogaHR0cHM6Ly9mYi5tZS9yZWFjdC1jb250cm9sbGVkLWNvbXBvbmVudHMlcycsIHByb3BzLnR5cGUsIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0oKSk7XG4gICAgICBkaWRXYXJuVW5jb250cm9sbGVkVG9Db250cm9sbGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG5vZGUuX3dyYXBwZXJTdGF0ZS5jb250cm9sbGVkICYmICFfY29udHJvbGxlZCAmJiAhZGlkV2FybkNvbnRyb2xsZWRUb1VuY29udHJvbGxlZCkge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ0EgY29tcG9uZW50IGlzIGNoYW5naW5nIGEgY29udHJvbGxlZCBpbnB1dCBvZiB0eXBlICVzIHRvIGJlIHVuY29udHJvbGxlZC4gJyArICdJbnB1dCBlbGVtZW50cyBzaG91bGQgbm90IHN3aXRjaCBmcm9tIGNvbnRyb2xsZWQgdG8gdW5jb250cm9sbGVkIChvciB2aWNlIHZlcnNhKS4gJyArICdEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIGlucHV0ICcgKyAnZWxlbWVudCBmb3IgdGhlIGxpZmV0aW1lIG9mIHRoZSBjb21wb25lbnQuIE1vcmUgaW5mbzogaHR0cHM6Ly9mYi5tZS9yZWFjdC1jb250cm9sbGVkLWNvbXBvbmVudHMlcycsIHByb3BzLnR5cGUsIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0oKSk7XG4gICAgICBkaWRXYXJuQ29udHJvbGxlZFRvVW5jb250cm9sbGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVDaGVja2VkKGVsZW1lbnQsIHByb3BzKTtcblxuICB2YXIgdmFsdWUgPSBnZXRTYWZlVmFsdWUocHJvcHMudmFsdWUpO1xuXG4gIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgaWYgKHByb3BzLnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICBpZiAodmFsdWUgPT09IDAgJiYgbm9kZS52YWx1ZSA9PT0gJycgfHxcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgbm9kZS52YWx1ZSAhPSB2YWx1ZSkge1xuICAgICAgICBub2RlLnZhbHVlID0gJycgKyB2YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG5vZGUudmFsdWUgIT09ICcnICsgdmFsdWUpIHtcbiAgICAgIG5vZGUudmFsdWUgPSAnJyArIHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIGlmIChwcm9wcy5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKSkge1xuICAgIHNldERlZmF1bHRWYWx1ZShub2RlLCBwcm9wcy50eXBlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkoJ2RlZmF1bHRWYWx1ZScpKSB7XG4gICAgc2V0RGVmYXVsdFZhbHVlKG5vZGUsIHByb3BzLnR5cGUsIGdldFNhZmVWYWx1ZShwcm9wcy5kZWZhdWx0VmFsdWUpKTtcbiAgfVxuXG4gIGlmIChwcm9wcy5jaGVja2VkID09IG51bGwgJiYgcHJvcHMuZGVmYXVsdENoZWNrZWQgIT0gbnVsbCkge1xuICAgIG5vZGUuZGVmYXVsdENoZWNrZWQgPSAhIXByb3BzLmRlZmF1bHRDaGVja2VkO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBvc3RNb3VudFdyYXBwZXIoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuXG4gIGlmIChwcm9wcy5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKSB8fCBwcm9wcy5oYXNPd25Qcm9wZXJ0eSgnZGVmYXVsdFZhbHVlJykpIHtcbiAgICAvLyBEbyBub3QgYXNzaWduIHZhbHVlIGlmIGl0IGlzIGFscmVhZHkgc2V0LiBUaGlzIHByZXZlbnRzIHVzZXIgdGV4dCBpbnB1dFxuICAgIC8vIGZyb20gYmVpbmcgbG9zdCBkdXJpbmcgU1NSIGh5ZHJhdGlvbi5cbiAgICBpZiAobm9kZS52YWx1ZSA9PT0gJycpIHtcbiAgICAgIG5vZGUudmFsdWUgPSAnJyArIG5vZGUuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWU7XG4gICAgfVxuXG4gICAgLy8gdmFsdWUgbXVzdCBiZSBhc3NpZ25lZCBiZWZvcmUgZGVmYXVsdFZhbHVlLiBUaGlzIGZpeGVzIGFuIGlzc3VlIHdoZXJlIHRoZVxuICAgIC8vIHZpc3VhbGx5IGRpc3BsYXllZCB2YWx1ZSBvZiBkYXRlIGlucHV0cyBkaXNhcHBlYXJzIG9uIG1vYmlsZSBTYWZhcmkgYW5kIENocm9tZTpcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzcyMzNcbiAgICBub2RlLmRlZmF1bHRWYWx1ZSA9ICcnICsgbm9kZS5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZTtcbiAgfVxuXG4gIC8vIE5vcm1hbGx5LCB3ZSdkIGp1c3QgZG8gYG5vZGUuY2hlY2tlZCA9IG5vZGUuY2hlY2tlZGAgdXBvbiBpbml0aWFsIG1vdW50LCBsZXNzIHRoaXMgYnVnXG4gIC8vIHRoaXMgaXMgbmVlZGVkIHRvIHdvcmsgYXJvdW5kIGEgY2hyb21lIGJ1ZyB3aGVyZSBzZXR0aW5nIGRlZmF1bHRDaGVja2VkXG4gIC8vIHdpbGwgc29tZXRpbWVzIGluZmx1ZW5jZSB0aGUgdmFsdWUgb2YgY2hlY2tlZCAoZXZlbiBhZnRlciBkZXRhY2htZW50KS5cbiAgLy8gUmVmZXJlbmNlOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD02MDg0MTZcbiAgLy8gV2UgbmVlZCB0byB0ZW1wb3JhcmlseSB1bnNldCBuYW1lIHRvIGF2b2lkIGRpc3J1cHRpbmcgcmFkaW8gYnV0dG9uIGdyb3Vwcy5cbiAgdmFyIG5hbWUgPSBub2RlLm5hbWU7XG4gIGlmIChuYW1lICE9PSAnJykge1xuICAgIG5vZGUubmFtZSA9ICcnO1xuICB9XG4gIG5vZGUuZGVmYXVsdENoZWNrZWQgPSAhbm9kZS5kZWZhdWx0Q2hlY2tlZDtcbiAgbm9kZS5kZWZhdWx0Q2hlY2tlZCA9ICFub2RlLmRlZmF1bHRDaGVja2VkO1xuICBpZiAobmFtZSAhPT0gJycpIHtcbiAgICBub2RlLm5hbWUgPSBuYW1lO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlc3RvcmVDb250cm9sbGVkU3RhdGUoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuICB1cGRhdGVXcmFwcGVyKG5vZGUsIHByb3BzKTtcbiAgdXBkYXRlTmFtZWRDb3VzaW5zKG5vZGUsIHByb3BzKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlTmFtZWRDb3VzaW5zKHJvb3ROb2RlLCBwcm9wcykge1xuICB2YXIgbmFtZSA9IHByb3BzLm5hbWU7XG4gIGlmIChwcm9wcy50eXBlID09PSAncmFkaW8nICYmIG5hbWUgIT0gbnVsbCkge1xuICAgIHZhciBxdWVyeVJvb3QgPSByb290Tm9kZTtcblxuICAgIHdoaWxlIChxdWVyeVJvb3QucGFyZW50Tm9kZSkge1xuICAgICAgcXVlcnlSb290ID0gcXVlcnlSb290LnBhcmVudE5vZGU7XG4gICAgfVxuXG4gICAgLy8gSWYgYHJvb3ROb2RlLmZvcm1gIHdhcyBub24tbnVsbCwgdGhlbiB3ZSBjb3VsZCB0cnkgYGZvcm0uZWxlbWVudHNgLFxuICAgIC8vIGJ1dCB0aGF0IHNvbWV0aW1lcyBiZWhhdmVzIHN0cmFuZ2VseSBpbiBJRTguIFdlIGNvdWxkIGFsc28gdHJ5IHVzaW5nXG4gICAgLy8gYGZvcm0uZ2V0RWxlbWVudHNCeU5hbWVgLCBidXQgdGhhdCB3aWxsIG9ubHkgcmV0dXJuIGRpcmVjdCBjaGlsZHJlblxuICAgIC8vIGFuZCB3b24ndCBpbmNsdWRlIGlucHV0cyB0aGF0IHVzZSB0aGUgSFRNTDUgYGZvcm09YCBhdHRyaWJ1dGUuIFNpbmNlXG4gICAgLy8gdGhlIGlucHV0IG1pZ2h0IG5vdCBldmVuIGJlIGluIGEgZm9ybS4gSXQgbWlnaHQgbm90IGV2ZW4gYmUgaW4gdGhlXG4gICAgLy8gZG9jdW1lbnQuIExldCdzIGp1c3QgdXNlIHRoZSBsb2NhbCBgcXVlcnlTZWxlY3RvckFsbGAgdG8gZW5zdXJlIHdlIGRvbid0XG4gICAgLy8gbWlzcyBhbnl0aGluZy5cbiAgICB2YXIgZ3JvdXAgPSBxdWVyeVJvb3QucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbbmFtZT0nICsgSlNPTi5zdHJpbmdpZnkoJycgKyBuYW1lKSArICddW3R5cGU9XCJyYWRpb1wiXScpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncm91cC5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG90aGVyTm9kZSA9IGdyb3VwW2ldO1xuICAgICAgaWYgKG90aGVyTm9kZSA9PT0gcm9vdE5vZGUgfHwgb3RoZXJOb2RlLmZvcm0gIT09IHJvb3ROb2RlLmZvcm0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgaWYgcmFkaW8gYnV0dG9ucyByZW5kZXJlZCBieSBkaWZmZXJlbnQgY29waWVzIG9mIFJlYWN0XG4gICAgICAvLyBhbmQgdGhlIHNhbWUgbmFtZSBhcmUgcmVuZGVyZWQgaW50byB0aGUgc2FtZSBmb3JtIChzYW1lIGFzICMxOTM5KS5cbiAgICAgIC8vIFRoYXQncyBwcm9iYWJseSBva2F5OyB3ZSBkb24ndCBzdXBwb3J0IGl0IGp1c3QgYXMgd2UgZG9uJ3Qgc3VwcG9ydFxuICAgICAgLy8gbWl4aW5nIFJlYWN0IHJhZGlvIGJ1dHRvbnMgd2l0aCBub24tUmVhY3Qgb25lcy5cbiAgICAgIHZhciBvdGhlclByb3BzID0gZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZSQxKG90aGVyTm9kZSk7XG4gICAgICAhb3RoZXJQcm9wcyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0RE9NSW5wdXQ6IE1peGluZyBSZWFjdCBhbmQgbm9uLVJlYWN0IHJhZGlvIGlucHV0cyB3aXRoIHRoZSBzYW1lIGBuYW1lYCBpcyBub3Qgc3VwcG9ydGVkLicpIDogdm9pZCAwO1xuXG4gICAgICAvLyBXZSBuZWVkIHVwZGF0ZSB0aGUgdHJhY2tlZCB2YWx1ZSBvbiB0aGUgbmFtZWQgY291c2luIHNpbmNlIHRoZSB2YWx1ZVxuICAgICAgLy8gd2FzIGNoYW5nZWQgYnV0IHRoZSBpbnB1dCBzYXcgbm8gZXZlbnQgb3IgdmFsdWUgc2V0XG4gICAgICB1cGRhdGVWYWx1ZUlmQ2hhbmdlZChvdGhlck5vZGUpO1xuXG4gICAgICAvLyBJZiB0aGlzIGlzIGEgY29udHJvbGxlZCByYWRpbyBidXR0b24gZ3JvdXAsIGZvcmNpbmcgdGhlIGlucHV0IHRoYXRcbiAgICAgIC8vIHdhcyBwcmV2aW91c2x5IGNoZWNrZWQgdG8gdXBkYXRlIHdpbGwgY2F1c2UgaXQgdG8gYmUgY29tZSByZS1jaGVja2VkXG4gICAgICAvLyBhcyBhcHByb3ByaWF0ZS5cbiAgICAgIHVwZGF0ZVdyYXBwZXIob3RoZXJOb2RlLCBvdGhlclByb3BzKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gSW4gQ2hyb21lLCBhc3NpZ25pbmcgZGVmYXVsdFZhbHVlIHRvIGNlcnRhaW4gaW5wdXQgdHlwZXMgdHJpZ2dlcnMgaW5wdXQgdmFsaWRhdGlvbi5cbi8vIEZvciBudW1iZXIgaW5wdXRzLCB0aGUgZGlzcGxheSB2YWx1ZSBsb3NlcyB0cmFpbGluZyBkZWNpbWFsIHBvaW50cy4gRm9yIGVtYWlsIGlucHV0cyxcbi8vIENocm9tZSByYWlzZXMgXCJUaGUgc3BlY2lmaWVkIHZhbHVlIDx4PiBpcyBub3QgYSB2YWxpZCBlbWFpbCBhZGRyZXNzXCIuXG4vL1xuLy8gSGVyZSB3ZSBjaGVjayB0byBzZWUgaWYgdGhlIGRlZmF1bHRWYWx1ZSBoYXMgYWN0dWFsbHkgY2hhbmdlZCwgYXZvaWRpbmcgdGhlc2UgcHJvYmxlbXNcbi8vIHdoZW4gdGhlIHVzZXIgaXMgaW5wdXR0aW5nIHRleHRcbi8vXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzcyNTNcbmZ1bmN0aW9uIHNldERlZmF1bHRWYWx1ZShub2RlLCB0eXBlLCB2YWx1ZSkge1xuICBpZiAoXG4gIC8vIEZvY3VzZWQgbnVtYmVyIGlucHV0cyBzeW5jaHJvbml6ZSBvbiBibHVyLiBTZWUgQ2hhbmdlRXZlbnRQbHVnaW4uanNcbiAgdHlwZSAhPT0gJ251bWJlcicgfHwgbm9kZS5vd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IG5vZGUpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgbm9kZS5kZWZhdWx0VmFsdWUgPSAnJyArIG5vZGUuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWU7XG4gICAgfSBlbHNlIGlmIChub2RlLmRlZmF1bHRWYWx1ZSAhPT0gJycgKyB2YWx1ZSkge1xuICAgICAgbm9kZS5kZWZhdWx0VmFsdWUgPSAnJyArIHZhbHVlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRTYWZlVmFsdWUodmFsdWUpIHtcbiAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICBjYXNlICdib29sZWFuJzpcbiAgICBjYXNlICdudW1iZXInOlxuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBmdW5jdGlvbiwgc3ltYm9sIGFyZSBhc3NpZ25lZCBhcyBlbXB0eSBzdHJpbmdzXG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn1cblxudmFyIGV2ZW50VHlwZXMkMSA9IHtcbiAgY2hhbmdlOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6ICdvbkNoYW5nZScsXG4gICAgICBjYXB0dXJlZDogJ29uQ2hhbmdlQ2FwdHVyZSdcbiAgICB9LFxuICAgIGRlcGVuZGVuY2llczogWyd0b3BCbHVyJywgJ3RvcENoYW5nZScsICd0b3BDbGljaycsICd0b3BGb2N1cycsICd0b3BJbnB1dCcsICd0b3BLZXlEb3duJywgJ3RvcEtleVVwJywgJ3RvcFNlbGVjdGlvbkNoYW5nZSddXG4gIH1cbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUFuZEFjY3VtdWxhdGVDaGFuZ2VFdmVudChpbnN0LCBuYXRpdmVFdmVudCwgdGFyZ2V0KSB7XG4gIHZhciBldmVudCA9IFN5bnRoZXRpY0V2ZW50JDEuZ2V0UG9vbGVkKGV2ZW50VHlwZXMkMS5jaGFuZ2UsIGluc3QsIG5hdGl2ZUV2ZW50LCB0YXJnZXQpO1xuICBldmVudC50eXBlID0gJ2NoYW5nZSc7XG4gIC8vIEZsYWcgdGhpcyBldmVudCBsb29wIGFzIG5lZWRpbmcgc3RhdGUgcmVzdG9yZS5cbiAgZW5xdWV1ZVN0YXRlUmVzdG9yZSh0YXJnZXQpO1xuICBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50KTtcbiAgcmV0dXJuIGV2ZW50O1xufVxuLyoqXG4gKiBGb3IgSUUgc2hpbXNcbiAqL1xudmFyIGFjdGl2ZUVsZW1lbnQgPSBudWxsO1xudmFyIGFjdGl2ZUVsZW1lbnRJbnN0ID0gbnVsbDtcblxuLyoqXG4gKiBTRUNUSU9OOiBoYW5kbGUgYGNoYW5nZWAgZXZlbnRcbiAqL1xuZnVuY3Rpb24gc2hvdWxkVXNlQ2hhbmdlRXZlbnQoZWxlbSkge1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuIG5vZGVOYW1lID09PSAnc2VsZWN0JyB8fCBub2RlTmFtZSA9PT0gJ2lucHV0JyAmJiBlbGVtLnR5cGUgPT09ICdmaWxlJztcbn1cblxuZnVuY3Rpb24gbWFudWFsRGlzcGF0Y2hDaGFuZ2VFdmVudChuYXRpdmVFdmVudCkge1xuICB2YXIgZXZlbnQgPSBjcmVhdGVBbmRBY2N1bXVsYXRlQ2hhbmdlRXZlbnQoYWN0aXZlRWxlbWVudEluc3QsIG5hdGl2ZUV2ZW50LCBnZXRFdmVudFRhcmdldChuYXRpdmVFdmVudCkpO1xuXG4gIC8vIElmIGNoYW5nZSBhbmQgcHJvcGVydHljaGFuZ2UgYnViYmxlZCwgd2UnZCBqdXN0IGJpbmQgdG8gaXQgbGlrZSBhbGwgdGhlXG4gIC8vIG90aGVyIGV2ZW50cyBhbmQgaGF2ZSBpdCBnbyB0aHJvdWdoIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci4gU2luY2UgaXRcbiAgLy8gZG9lc24ndCwgd2UgbWFudWFsbHkgbGlzdGVuIGZvciB0aGUgZXZlbnRzIGFuZCBzbyB3ZSBoYXZlIHRvIGVucXVldWUgYW5kXG4gIC8vIHByb2Nlc3MgdGhlIGFic3RyYWN0IGV2ZW50IG1hbnVhbGx5LlxuICAvL1xuICAvLyBCYXRjaGluZyBpcyBuZWNlc3NhcnkgaGVyZSBpbiBvcmRlciB0byBlbnN1cmUgdGhhdCBhbGwgZXZlbnQgaGFuZGxlcnMgcnVuXG4gIC8vIGJlZm9yZSB0aGUgbmV4dCByZXJlbmRlciAoaW5jbHVkaW5nIGV2ZW50IGhhbmRsZXJzIGF0dGFjaGVkIHRvIGFuY2VzdG9yXG4gIC8vIGVsZW1lbnRzIGluc3RlYWQgb2YgZGlyZWN0bHkgb24gdGhlIGlucHV0KS4gV2l0aG91dCB0aGlzLCBjb250cm9sbGVkXG4gIC8vIGNvbXBvbmVudHMgZG9uJ3Qgd29yayBwcm9wZXJseSBpbiBjb25qdW5jdGlvbiB3aXRoIGV2ZW50IGJ1YmJsaW5nIGJlY2F1c2VcbiAgLy8gdGhlIGNvbXBvbmVudCBpcyByZXJlbmRlcmVkIGFuZCB0aGUgdmFsdWUgcmV2ZXJ0ZWQgYmVmb3JlIGFsbCB0aGUgZXZlbnRcbiAgLy8gaGFuZGxlcnMgY2FuIHJ1bi4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvNzA4LlxuICBiYXRjaGVkVXBkYXRlcyhydW5FdmVudEluQmF0Y2gsIGV2ZW50KTtcbn1cblxuZnVuY3Rpb24gcnVuRXZlbnRJbkJhdGNoKGV2ZW50KSB7XG4gIHJ1bkV2ZW50c0luQmF0Y2goZXZlbnQsIGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gZ2V0SW5zdElmVmFsdWVDaGFuZ2VkKHRhcmdldEluc3QpIHtcbiAgdmFyIHRhcmdldE5vZGUgPSBnZXROb2RlRnJvbUluc3RhbmNlJDEodGFyZ2V0SW5zdCk7XG4gIGlmICh1cGRhdGVWYWx1ZUlmQ2hhbmdlZCh0YXJnZXROb2RlKSkge1xuICAgIHJldHVybiB0YXJnZXRJbnN0O1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFRhcmdldEluc3RGb3JDaGFuZ2VFdmVudCh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QpIHtcbiAgaWYgKHRvcExldmVsVHlwZSA9PT0gJ3RvcENoYW5nZScpIHtcbiAgICByZXR1cm4gdGFyZ2V0SW5zdDtcbiAgfVxufVxuXG4vKipcbiAqIFNFQ1RJT046IGhhbmRsZSBgaW5wdXRgIGV2ZW50XG4gKi9cbnZhciBpc0lucHV0RXZlbnRTdXBwb3J0ZWQgPSBmYWxzZTtcbmlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgLy8gSUU5IGNsYWltcyB0byBzdXBwb3J0IHRoZSBpbnB1dCBldmVudCBidXQgZmFpbHMgdG8gdHJpZ2dlciBpdCB3aGVuXG4gIC8vIGRlbGV0aW5nIHRleHQsIHNvIHdlIGlnbm9yZSBpdHMgaW5wdXQgZXZlbnRzLlxuICBpc0lucHV0RXZlbnRTdXBwb3J0ZWQgPSBpc0V2ZW50U3VwcG9ydGVkKCdpbnB1dCcpICYmICghZG9jdW1lbnQuZG9jdW1lbnRNb2RlIHx8IGRvY3VtZW50LmRvY3VtZW50TW9kZSA+IDkpO1xufVxuXG4vKipcbiAqIChGb3IgSUUgPD05KSBTdGFydHMgdHJhY2tpbmcgcHJvcGVydHljaGFuZ2UgZXZlbnRzIG9uIHRoZSBwYXNzZWQtaW4gZWxlbWVudFxuICogYW5kIG92ZXJyaWRlIHRoZSB2YWx1ZSBwcm9wZXJ0eSBzbyB0aGF0IHdlIGNhbiBkaXN0aW5ndWlzaCB1c2VyIGV2ZW50cyBmcm9tXG4gKiB2YWx1ZSBjaGFuZ2VzIGluIEpTLlxuICovXG5mdW5jdGlvbiBzdGFydFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UodGFyZ2V0LCB0YXJnZXRJbnN0KSB7XG4gIGFjdGl2ZUVsZW1lbnQgPSB0YXJnZXQ7XG4gIGFjdGl2ZUVsZW1lbnRJbnN0ID0gdGFyZ2V0SW5zdDtcbiAgYWN0aXZlRWxlbWVudC5hdHRhY2hFdmVudCgnb25wcm9wZXJ0eWNoYW5nZScsIGhhbmRsZVByb3BlcnR5Q2hhbmdlKTtcbn1cblxuLyoqXG4gKiAoRm9yIElFIDw9OSkgUmVtb3ZlcyB0aGUgZXZlbnQgbGlzdGVuZXJzIGZyb20gdGhlIGN1cnJlbnRseS10cmFja2VkIGVsZW1lbnQsXG4gKiBpZiBhbnkgZXhpc3RzLlxuICovXG5mdW5jdGlvbiBzdG9wV2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSgpIHtcbiAgaWYgKCFhY3RpdmVFbGVtZW50KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGFjdGl2ZUVsZW1lbnQuZGV0YWNoRXZlbnQoJ29ucHJvcGVydHljaGFuZ2UnLCBoYW5kbGVQcm9wZXJ0eUNoYW5nZSk7XG4gIGFjdGl2ZUVsZW1lbnQgPSBudWxsO1xuICBhY3RpdmVFbGVtZW50SW5zdCA9IG51bGw7XG59XG5cbi8qKlxuICogKEZvciBJRSA8PTkpIEhhbmRsZXMgYSBwcm9wZXJ0eWNoYW5nZSBldmVudCwgc2VuZGluZyBhIGBjaGFuZ2VgIGV2ZW50IGlmXG4gKiB0aGUgdmFsdWUgb2YgdGhlIGFjdGl2ZSBlbGVtZW50IGhhcyBjaGFuZ2VkLlxuICovXG5mdW5jdGlvbiBoYW5kbGVQcm9wZXJ0eUNoYW5nZShuYXRpdmVFdmVudCkge1xuICBpZiAobmF0aXZlRXZlbnQucHJvcGVydHlOYW1lICE9PSAndmFsdWUnKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChnZXRJbnN0SWZWYWx1ZUNoYW5nZWQoYWN0aXZlRWxlbWVudEluc3QpKSB7XG4gICAgbWFudWFsRGlzcGF0Y2hDaGFuZ2VFdmVudChuYXRpdmVFdmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlRXZlbnRzRm9ySW5wdXRFdmVudFBvbHlmaWxsKHRvcExldmVsVHlwZSwgdGFyZ2V0LCB0YXJnZXRJbnN0KSB7XG4gIGlmICh0b3BMZXZlbFR5cGUgPT09ICd0b3BGb2N1cycpIHtcbiAgICAvLyBJbiBJRTksIHByb3BlcnR5Y2hhbmdlIGZpcmVzIGZvciBtb3N0IGlucHV0IGV2ZW50cyBidXQgaXMgYnVnZ3kgYW5kXG4gICAgLy8gZG9lc24ndCBmaXJlIHdoZW4gdGV4dCBpcyBkZWxldGVkLCBidXQgY29udmVuaWVudGx5LCBzZWxlY3Rpb25jaGFuZ2VcbiAgICAvLyBhcHBlYXJzIHRvIGZpcmUgaW4gYWxsIG9mIHRoZSByZW1haW5pbmcgY2FzZXMgc28gd2UgY2F0Y2ggdGhvc2UgYW5kXG4gICAgLy8gZm9yd2FyZCB0aGUgZXZlbnQgaWYgdGhlIHZhbHVlIGhhcyBjaGFuZ2VkXG4gICAgLy8gSW4gZWl0aGVyIGNhc2UsIHdlIGRvbid0IHdhbnQgdG8gY2FsbCB0aGUgZXZlbnQgaGFuZGxlciBpZiB0aGUgdmFsdWVcbiAgICAvLyBpcyBjaGFuZ2VkIGZyb20gSlMgc28gd2UgcmVkZWZpbmUgYSBzZXR0ZXIgZm9yIGAudmFsdWVgIHRoYXQgdXBkYXRlc1xuICAgIC8vIG91ciBhY3RpdmVFbGVtZW50VmFsdWUgdmFyaWFibGUsIGFsbG93aW5nIHVzIHRvIGlnbm9yZSB0aG9zZSBjaGFuZ2VzXG4gICAgLy9cbiAgICAvLyBzdG9wV2F0Y2hpbmcoKSBzaG91bGQgYmUgYSBub29wIGhlcmUgYnV0IHdlIGNhbGwgaXQganVzdCBpbiBjYXNlIHdlXG4gICAgLy8gbWlzc2VkIGEgYmx1ciBldmVudCBzb21laG93LlxuICAgIHN0b3BXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlKCk7XG4gICAgc3RhcnRXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlKHRhcmdldCwgdGFyZ2V0SW5zdCk7XG4gIH0gZWxzZSBpZiAodG9wTGV2ZWxUeXBlID09PSAndG9wQmx1cicpIHtcbiAgICBzdG9wV2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSgpO1xuICB9XG59XG5cbi8vIEZvciBJRTggYW5kIElFOS5cbmZ1bmN0aW9uIGdldFRhcmdldEluc3RGb3JJbnB1dEV2ZW50UG9seWZpbGwodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0KSB7XG4gIGlmICh0b3BMZXZlbFR5cGUgPT09ICd0b3BTZWxlY3Rpb25DaGFuZ2UnIHx8IHRvcExldmVsVHlwZSA9PT0gJ3RvcEtleVVwJyB8fCB0b3BMZXZlbFR5cGUgPT09ICd0b3BLZXlEb3duJykge1xuICAgIC8vIE9uIHRoZSBzZWxlY3Rpb25jaGFuZ2UgZXZlbnQsIHRoZSB0YXJnZXQgaXMganVzdCBkb2N1bWVudCB3aGljaCBpc24ndFxuICAgIC8vIGhlbHBmdWwgZm9yIHVzIHNvIGp1c3QgY2hlY2sgYWN0aXZlRWxlbWVudCBpbnN0ZWFkLlxuICAgIC8vXG4gICAgLy8gOTklIG9mIHRoZSB0aW1lLCBrZXlkb3duIGFuZCBrZXl1cCBhcmVuJ3QgbmVjZXNzYXJ5LiBJRTggZmFpbHMgdG8gZmlyZVxuICAgIC8vIHByb3BlcnR5Y2hhbmdlIG9uIHRoZSBmaXJzdCBpbnB1dCBldmVudCBhZnRlciBzZXR0aW5nIGB2YWx1ZWAgZnJvbSBhXG4gICAgLy8gc2NyaXB0IGFuZCBmaXJlcyBvbmx5IGtleWRvd24sIGtleXByZXNzLCBrZXl1cC4gQ2F0Y2hpbmcga2V5dXAgdXN1YWxseVxuICAgIC8vIGdldHMgaXQgYW5kIGNhdGNoaW5nIGtleWRvd24gbGV0cyB1cyBmaXJlIGFuIGV2ZW50IGZvciB0aGUgZmlyc3RcbiAgICAvLyBrZXlzdHJva2UgaWYgdXNlciBkb2VzIGEga2V5IHJlcGVhdCAoaXQnbGwgYmUgYSBsaXR0bGUgZGVsYXllZDogcmlnaHRcbiAgICAvLyBiZWZvcmUgdGhlIHNlY29uZCBrZXlzdHJva2UpLiBPdGhlciBpbnB1dCBtZXRob2RzIChlLmcuLCBwYXN0ZSkgc2VlbSB0b1xuICAgIC8vIGZpcmUgc2VsZWN0aW9uY2hhbmdlIG5vcm1hbGx5LlxuICAgIHJldHVybiBnZXRJbnN0SWZWYWx1ZUNoYW5nZWQoYWN0aXZlRWxlbWVudEluc3QpO1xuICB9XG59XG5cbi8qKlxuICogU0VDVElPTjogaGFuZGxlIGBjbGlja2AgZXZlbnRcbiAqL1xuZnVuY3Rpb24gc2hvdWxkVXNlQ2xpY2tFdmVudChlbGVtKSB7XG4gIC8vIFVzZSB0aGUgYGNsaWNrYCBldmVudCB0byBkZXRlY3QgY2hhbmdlcyB0byBjaGVja2JveCBhbmQgcmFkaW8gaW5wdXRzLlxuICAvLyBUaGlzIGFwcHJvYWNoIHdvcmtzIGFjcm9zcyBhbGwgYnJvd3NlcnMsIHdoZXJlYXMgYGNoYW5nZWAgZG9lcyBub3QgZmlyZVxuICAvLyB1bnRpbCBgYmx1cmAgaW4gSUU4LlxuICB2YXIgbm9kZU5hbWUgPSBlbGVtLm5vZGVOYW1lO1xuICByZXR1cm4gbm9kZU5hbWUgJiYgbm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lucHV0JyAmJiAoZWxlbS50eXBlID09PSAnY2hlY2tib3gnIHx8IGVsZW0udHlwZSA9PT0gJ3JhZGlvJyk7XG59XG5cbmZ1bmN0aW9uIGdldFRhcmdldEluc3RGb3JDbGlja0V2ZW50KHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCkge1xuICBpZiAodG9wTGV2ZWxUeXBlID09PSAndG9wQ2xpY2snKSB7XG4gICAgcmV0dXJuIGdldEluc3RJZlZhbHVlQ2hhbmdlZCh0YXJnZXRJbnN0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRUYXJnZXRJbnN0Rm9ySW5wdXRPckNoYW5nZUV2ZW50KHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCkge1xuICBpZiAodG9wTGV2ZWxUeXBlID09PSAndG9wSW5wdXQnIHx8IHRvcExldmVsVHlwZSA9PT0gJ3RvcENoYW5nZScpIHtcbiAgICByZXR1cm4gZ2V0SW5zdElmVmFsdWVDaGFuZ2VkKHRhcmdldEluc3QpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNvbnRyb2xsZWRJbnB1dEJsdXIoaW5zdCwgbm9kZSkge1xuICAvLyBUT0RPOiBJbiBJRSwgaW5zdCBpcyBvY2Nhc2lvbmFsbHkgbnVsbC4gV2h5P1xuICBpZiAoaW5zdCA9PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRmliZXIgYW5kIFJlYWN0RE9NIGtlZXAgd3JhcHBlciBzdGF0ZSBpbiBzZXBhcmF0ZSBwbGFjZXNcbiAgdmFyIHN0YXRlID0gaW5zdC5fd3JhcHBlclN0YXRlIHx8IG5vZGUuX3dyYXBwZXJTdGF0ZTtcblxuICBpZiAoIXN0YXRlIHx8ICFzdGF0ZS5jb250cm9sbGVkIHx8IG5vZGUudHlwZSAhPT0gJ251bWJlcicpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBJZiBjb250cm9sbGVkLCBhc3NpZ24gdGhlIHZhbHVlIGF0dHJpYnV0ZSB0byB0aGUgY3VycmVudCB2YWx1ZSBvbiBibHVyXG4gIHNldERlZmF1bHRWYWx1ZShub2RlLCAnbnVtYmVyJywgbm9kZS52YWx1ZSk7XG59XG5cbi8qKlxuICogVGhpcyBwbHVnaW4gY3JlYXRlcyBhbiBgb25DaGFuZ2VgIGV2ZW50IHRoYXQgbm9ybWFsaXplcyBjaGFuZ2UgZXZlbnRzXG4gKiBhY3Jvc3MgZm9ybSBlbGVtZW50cy4gVGhpcyBldmVudCBmaXJlcyBhdCBhIHRpbWUgd2hlbiBpdCdzIHBvc3NpYmxlIHRvXG4gKiBjaGFuZ2UgdGhlIGVsZW1lbnQncyB2YWx1ZSB3aXRob3V0IHNlZWluZyBhIGZsaWNrZXIuXG4gKlxuICogU3VwcG9ydGVkIGVsZW1lbnRzIGFyZTpcbiAqIC0gaW5wdXQgKHNlZSBgaXNUZXh0SW5wdXRFbGVtZW50YClcbiAqIC0gdGV4dGFyZWFcbiAqIC0gc2VsZWN0XG4gKi9cbnZhciBDaGFuZ2VFdmVudFBsdWdpbiA9IHtcbiAgZXZlbnRUeXBlczogZXZlbnRUeXBlcyQxLFxuXG4gIF9pc0lucHV0RXZlbnRTdXBwb3J0ZWQ6IGlzSW5wdXRFdmVudFN1cHBvcnRlZCxcblxuICBleHRyYWN0RXZlbnRzOiBmdW5jdGlvbiAodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICB2YXIgdGFyZ2V0Tm9kZSA9IHRhcmdldEluc3QgPyBnZXROb2RlRnJvbUluc3RhbmNlJDEodGFyZ2V0SW5zdCkgOiB3aW5kb3c7XG5cbiAgICB2YXIgZ2V0VGFyZ2V0SW5zdEZ1bmMgPSB2b2lkIDAsXG4gICAgICAgIGhhbmRsZUV2ZW50RnVuYyA9IHZvaWQgMDtcbiAgICBpZiAoc2hvdWxkVXNlQ2hhbmdlRXZlbnQodGFyZ2V0Tm9kZSkpIHtcbiAgICAgIGdldFRhcmdldEluc3RGdW5jID0gZ2V0VGFyZ2V0SW5zdEZvckNoYW5nZUV2ZW50O1xuICAgIH0gZWxzZSBpZiAoaXNUZXh0SW5wdXRFbGVtZW50KHRhcmdldE5vZGUpKSB7XG4gICAgICBpZiAoaXNJbnB1dEV2ZW50U3VwcG9ydGVkKSB7XG4gICAgICAgIGdldFRhcmdldEluc3RGdW5jID0gZ2V0VGFyZ2V0SW5zdEZvcklucHV0T3JDaGFuZ2VFdmVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdldFRhcmdldEluc3RGdW5jID0gZ2V0VGFyZ2V0SW5zdEZvcklucHV0RXZlbnRQb2x5ZmlsbDtcbiAgICAgICAgaGFuZGxlRXZlbnRGdW5jID0gaGFuZGxlRXZlbnRzRm9ySW5wdXRFdmVudFBvbHlmaWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2hvdWxkVXNlQ2xpY2tFdmVudCh0YXJnZXROb2RlKSkge1xuICAgICAgZ2V0VGFyZ2V0SW5zdEZ1bmMgPSBnZXRUYXJnZXRJbnN0Rm9yQ2xpY2tFdmVudDtcbiAgICB9XG5cbiAgICBpZiAoZ2V0VGFyZ2V0SW5zdEZ1bmMpIHtcbiAgICAgIHZhciBpbnN0ID0gZ2V0VGFyZ2V0SW5zdEZ1bmModG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0KTtcbiAgICAgIGlmIChpbnN0KSB7XG4gICAgICAgIHZhciBldmVudCA9IGNyZWF0ZUFuZEFjY3VtdWxhdGVDaGFuZ2VFdmVudChpbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGhhbmRsZUV2ZW50RnVuYykge1xuICAgICAgaGFuZGxlRXZlbnRGdW5jKHRvcExldmVsVHlwZSwgdGFyZ2V0Tm9kZSwgdGFyZ2V0SW5zdCk7XG4gICAgfVxuXG4gICAgLy8gV2hlbiBibHVycmluZywgc2V0IHRoZSB2YWx1ZSBhdHRyaWJ1dGUgZm9yIG51bWJlciBpbnB1dHNcbiAgICBpZiAodG9wTGV2ZWxUeXBlID09PSAndG9wQmx1cicpIHtcbiAgICAgIGhhbmRsZUNvbnRyb2xsZWRJbnB1dEJsdXIodGFyZ2V0SW5zdCwgdGFyZ2V0Tm9kZSk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIE1vZHVsZSB0aGF0IGlzIGluamVjdGFibGUgaW50byBgRXZlbnRQbHVnaW5IdWJgLCB0aGF0IHNwZWNpZmllcyBhXG4gKiBkZXRlcm1pbmlzdGljIG9yZGVyaW5nIG9mIGBFdmVudFBsdWdpbmBzLiBBIGNvbnZlbmllbnQgd2F5IHRvIHJlYXNvbiBhYm91dFxuICogcGx1Z2lucywgd2l0aG91dCBoYXZpbmcgdG8gcGFja2FnZSBldmVyeSBvbmUgb2YgdGhlbS4gVGhpcyBpcyBiZXR0ZXIgdGhhblxuICogaGF2aW5nIHBsdWdpbnMgYmUgb3JkZXJlZCBpbiB0aGUgc2FtZSBvcmRlciB0aGF0IHRoZXkgYXJlIGluamVjdGVkIGJlY2F1c2VcbiAqIHRoYXQgb3JkZXJpbmcgd291bGQgYmUgaW5mbHVlbmNlZCBieSB0aGUgcGFja2FnaW5nIG9yZGVyLlxuICogYFJlc3BvbmRlckV2ZW50UGx1Z2luYCBtdXN0IG9jY3VyIGJlZm9yZSBgU2ltcGxlRXZlbnRQbHVnaW5gIHNvIHRoYXRcbiAqIHByZXZlbnRpbmcgZGVmYXVsdCBvbiBldmVudHMgaXMgY29udmVuaWVudCBpbiBgU2ltcGxlRXZlbnRQbHVnaW5gIGhhbmRsZXJzLlxuICovXG52YXIgRE9NRXZlbnRQbHVnaW5PcmRlciA9IFsnUmVzcG9uZGVyRXZlbnRQbHVnaW4nLCAnU2ltcGxlRXZlbnRQbHVnaW4nLCAnVGFwRXZlbnRQbHVnaW4nLCAnRW50ZXJMZWF2ZUV2ZW50UGx1Z2luJywgJ0NoYW5nZUV2ZW50UGx1Z2luJywgJ1NlbGVjdEV2ZW50UGx1Z2luJywgJ0JlZm9yZUlucHV0RXZlbnRQbHVnaW4nXTtcblxudmFyIFN5bnRoZXRpY1VJRXZlbnQgPSBTeW50aGV0aWNFdmVudCQxLmV4dGVuZCh7XG4gIHZpZXc6IG51bGwsXG4gIGRldGFpbDogbnVsbFxufSk7XG5cbi8qKlxuICogVHJhbnNsYXRpb24gZnJvbSBtb2RpZmllciBrZXkgdG8gdGhlIGFzc29jaWF0ZWQgcHJvcGVydHkgaW4gdGhlIGV2ZW50LlxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2tleXMtTW9kaWZpZXJzXG4gKi9cblxudmFyIG1vZGlmaWVyS2V5VG9Qcm9wID0ge1xuICBBbHQ6ICdhbHRLZXknLFxuICBDb250cm9sOiAnY3RybEtleScsXG4gIE1ldGE6ICdtZXRhS2V5JyxcbiAgU2hpZnQ6ICdzaGlmdEtleSdcbn07XG5cbi8vIElFOCBkb2VzIG5vdCBpbXBsZW1lbnQgZ2V0TW9kaWZpZXJTdGF0ZSBzbyB3ZSBzaW1wbHkgbWFwIGl0IHRvIHRoZSBvbmx5XG4vLyBtb2RpZmllciBrZXlzIGV4cG9zZWQgYnkgdGhlIGV2ZW50IGl0c2VsZiwgZG9lcyBub3Qgc3VwcG9ydCBMb2NrLWtleXMuXG4vLyBDdXJyZW50bHksIGFsbCBtYWpvciBicm93c2VycyBleGNlcHQgQ2hyb21lIHNlZW1zIHRvIHN1cHBvcnQgTG9jay1rZXlzLlxuZnVuY3Rpb24gbW9kaWZpZXJTdGF0ZUdldHRlcihrZXlBcmcpIHtcbiAgdmFyIHN5bnRoZXRpY0V2ZW50ID0gdGhpcztcbiAgdmFyIG5hdGl2ZUV2ZW50ID0gc3ludGhldGljRXZlbnQubmF0aXZlRXZlbnQ7XG4gIGlmIChuYXRpdmVFdmVudC5nZXRNb2RpZmllclN0YXRlKSB7XG4gICAgcmV0dXJuIG5hdGl2ZUV2ZW50LmdldE1vZGlmaWVyU3RhdGUoa2V5QXJnKTtcbiAgfVxuICB2YXIga2V5UHJvcCA9IG1vZGlmaWVyS2V5VG9Qcm9wW2tleUFyZ107XG4gIHJldHVybiBrZXlQcm9wID8gISFuYXRpdmVFdmVudFtrZXlQcm9wXSA6IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRFdmVudE1vZGlmaWVyU3RhdGUobmF0aXZlRXZlbnQpIHtcbiAgcmV0dXJuIG1vZGlmaWVyU3RhdGVHZXR0ZXI7XG59XG5cbi8qKlxuICogQGludGVyZmFjZSBNb3VzZUV2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy9cbiAqL1xudmFyIFN5bnRoZXRpY01vdXNlRXZlbnQgPSBTeW50aGV0aWNVSUV2ZW50LmV4dGVuZCh7XG4gIHNjcmVlblg6IG51bGwsXG4gIHNjcmVlblk6IG51bGwsXG4gIGNsaWVudFg6IG51bGwsXG4gIGNsaWVudFk6IG51bGwsXG4gIHBhZ2VYOiBudWxsLFxuICBwYWdlWTogbnVsbCxcbiAgY3RybEtleTogbnVsbCxcbiAgc2hpZnRLZXk6IG51bGwsXG4gIGFsdEtleTogbnVsbCxcbiAgbWV0YUtleTogbnVsbCxcbiAgZ2V0TW9kaWZpZXJTdGF0ZTogZ2V0RXZlbnRNb2RpZmllclN0YXRlLFxuICBidXR0b246IG51bGwsXG4gIGJ1dHRvbnM6IG51bGwsXG4gIHJlbGF0ZWRUYXJnZXQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHJldHVybiBldmVudC5yZWxhdGVkVGFyZ2V0IHx8IChldmVudC5mcm9tRWxlbWVudCA9PT0gZXZlbnQuc3JjRWxlbWVudCA/IGV2ZW50LnRvRWxlbWVudCA6IGV2ZW50LmZyb21FbGVtZW50KTtcbiAgfVxufSk7XG5cbnZhciBldmVudFR5cGVzJDIgPSB7XG4gIG1vdXNlRW50ZXI6IHtcbiAgICByZWdpc3RyYXRpb25OYW1lOiAnb25Nb3VzZUVudGVyJyxcbiAgICBkZXBlbmRlbmNpZXM6IFsndG9wTW91c2VPdXQnLCAndG9wTW91c2VPdmVyJ11cbiAgfSxcbiAgbW91c2VMZWF2ZToge1xuICAgIHJlZ2lzdHJhdGlvbk5hbWU6ICdvbk1vdXNlTGVhdmUnLFxuICAgIGRlcGVuZGVuY2llczogWyd0b3BNb3VzZU91dCcsICd0b3BNb3VzZU92ZXInXVxuICB9XG59O1xuXG52YXIgRW50ZXJMZWF2ZUV2ZW50UGx1Z2luID0ge1xuICBldmVudFR5cGVzOiBldmVudFR5cGVzJDIsXG5cbiAgLyoqXG4gICAqIEZvciBhbG1vc3QgZXZlcnkgaW50ZXJhY3Rpb24gd2UgY2FyZSBhYm91dCwgdGhlcmUgd2lsbCBiZSBib3RoIGEgdG9wLWxldmVsXG4gICAqIGBtb3VzZW92ZXJgIGFuZCBgbW91c2VvdXRgIGV2ZW50IHRoYXQgb2NjdXJzLiBPbmx5IHVzZSBgbW91c2VvdXRgIHNvIHRoYXRcbiAgICogd2UgZG8gbm90IGV4dHJhY3QgZHVwbGljYXRlIGV2ZW50cy4gSG93ZXZlciwgbW92aW5nIHRoZSBtb3VzZSBpbnRvIHRoZVxuICAgKiBicm93c2VyIGZyb20gb3V0c2lkZSB3aWxsIG5vdCBmaXJlIGEgYG1vdXNlb3V0YCBldmVudC4gSW4gdGhpcyBjYXNlLCB3ZSB1c2VcbiAgICogdGhlIGBtb3VzZW92ZXJgIHRvcC1sZXZlbCBldmVudC5cbiAgICovXG4gIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uICh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgIGlmICh0b3BMZXZlbFR5cGUgPT09ICd0b3BNb3VzZU92ZXInICYmIChuYXRpdmVFdmVudC5yZWxhdGVkVGFyZ2V0IHx8IG5hdGl2ZUV2ZW50LmZyb21FbGVtZW50KSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICh0b3BMZXZlbFR5cGUgIT09ICd0b3BNb3VzZU91dCcgJiYgdG9wTGV2ZWxUeXBlICE9PSAndG9wTW91c2VPdmVyJykge1xuICAgICAgLy8gTXVzdCBub3QgYmUgYSBtb3VzZSBpbiBvciBtb3VzZSBvdXQgLSBpZ25vcmluZy5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciB3aW4gPSB2b2lkIDA7XG4gICAgaWYgKG5hdGl2ZUV2ZW50VGFyZ2V0LndpbmRvdyA9PT0gbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICAgIC8vIGBuYXRpdmVFdmVudFRhcmdldGAgaXMgcHJvYmFibHkgYSB3aW5kb3cgb2JqZWN0LlxuICAgICAgd2luID0gbmF0aXZlRXZlbnRUYXJnZXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRPRE86IEZpZ3VyZSBvdXQgd2h5IGBvd25lckRvY3VtZW50YCBpcyBzb21ldGltZXMgdW5kZWZpbmVkIGluIElFOC5cbiAgICAgIHZhciBkb2MgPSBuYXRpdmVFdmVudFRhcmdldC5vd25lckRvY3VtZW50O1xuICAgICAgaWYgKGRvYykge1xuICAgICAgICB3aW4gPSBkb2MuZGVmYXVsdFZpZXcgfHwgZG9jLnBhcmVudFdpbmRvdztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbiA9IHdpbmRvdztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZnJvbSA9IHZvaWQgMDtcbiAgICB2YXIgdG8gPSB2b2lkIDA7XG4gICAgaWYgKHRvcExldmVsVHlwZSA9PT0gJ3RvcE1vdXNlT3V0Jykge1xuICAgICAgZnJvbSA9IHRhcmdldEluc3Q7XG4gICAgICB2YXIgcmVsYXRlZCA9IG5hdGl2ZUV2ZW50LnJlbGF0ZWRUYXJnZXQgfHwgbmF0aXZlRXZlbnQudG9FbGVtZW50O1xuICAgICAgdG8gPSByZWxhdGVkID8gZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUocmVsYXRlZCkgOiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBNb3ZpbmcgdG8gYSBub2RlIGZyb20gb3V0c2lkZSB0aGUgd2luZG93LlxuICAgICAgZnJvbSA9IG51bGw7XG4gICAgICB0byA9IHRhcmdldEluc3Q7XG4gICAgfVxuXG4gICAgaWYgKGZyb20gPT09IHRvKSB7XG4gICAgICAvLyBOb3RoaW5nIHBlcnRhaW5zIHRvIG91ciBtYW5hZ2VkIGNvbXBvbmVudHMuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgZnJvbU5vZGUgPSBmcm9tID09IG51bGwgPyB3aW4gOiBnZXROb2RlRnJvbUluc3RhbmNlJDEoZnJvbSk7XG4gICAgdmFyIHRvTm9kZSA9IHRvID09IG51bGwgPyB3aW4gOiBnZXROb2RlRnJvbUluc3RhbmNlJDEodG8pO1xuXG4gICAgdmFyIGxlYXZlID0gU3ludGhldGljTW91c2VFdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlcyQyLm1vdXNlTGVhdmUsIGZyb20sIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgbGVhdmUudHlwZSA9ICdtb3VzZWxlYXZlJztcbiAgICBsZWF2ZS50YXJnZXQgPSBmcm9tTm9kZTtcbiAgICBsZWF2ZS5yZWxhdGVkVGFyZ2V0ID0gdG9Ob2RlO1xuXG4gICAgdmFyIGVudGVyID0gU3ludGhldGljTW91c2VFdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlcyQyLm1vdXNlRW50ZXIsIHRvLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgIGVudGVyLnR5cGUgPSAnbW91c2VlbnRlcic7XG4gICAgZW50ZXIudGFyZ2V0ID0gdG9Ob2RlO1xuICAgIGVudGVyLnJlbGF0ZWRUYXJnZXQgPSBmcm9tTm9kZTtcblxuICAgIGFjY3VtdWxhdGVFbnRlckxlYXZlRGlzcGF0Y2hlcyhsZWF2ZSwgZW50ZXIsIGZyb20sIHRvKTtcblxuICAgIHJldHVybiBbbGVhdmUsIGVudGVyXTtcbiAgfVxufTtcblxuLyoqXG4gKiBgUmVhY3RJbnN0YW5jZU1hcGAgbWFpbnRhaW5zIGEgbWFwcGluZyBmcm9tIGEgcHVibGljIGZhY2luZyBzdGF0ZWZ1bFxuICogaW5zdGFuY2UgKGtleSkgYW5kIHRoZSBpbnRlcm5hbCByZXByZXNlbnRhdGlvbiAodmFsdWUpLiBUaGlzIGFsbG93cyBwdWJsaWNcbiAqIG1ldGhvZHMgdG8gYWNjZXB0IHRoZSB1c2VyIGZhY2luZyBpbnN0YW5jZSBhcyBhbiBhcmd1bWVudCBhbmQgbWFwIHRoZW0gYmFja1xuICogdG8gaW50ZXJuYWwgbWV0aG9kcy5cbiAqXG4gKiBOb3RlIHRoYXQgdGhpcyBtb2R1bGUgaXMgY3VycmVudGx5IHNoYXJlZCBhbmQgYXNzdW1lZCB0byBiZSBzdGF0ZWxlc3MuXG4gKiBJZiB0aGlzIGJlY29tZXMgYW4gYWN0dWFsIE1hcCwgdGhhdCB3aWxsIGJyZWFrLlxuICovXG5cbi8qKlxuICogVGhpcyBBUEkgc2hvdWxkIGJlIGNhbGxlZCBgZGVsZXRlYCBidXQgd2UnZCBoYXZlIHRvIG1ha2Ugc3VyZSB0byBhbHdheXNcbiAqIHRyYW5zZm9ybSB0aGVzZSB0byBzdHJpbmdzIGZvciBJRSBzdXBwb3J0LiBXaGVuIHRoaXMgdHJhbnNmb3JtIGlzIGZ1bGx5XG4gKiBzdXBwb3J0ZWQgd2UgY2FuIHJlbmFtZSBpdC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGdldChrZXkpIHtcbiAgcmV0dXJuIGtleS5fcmVhY3RJbnRlcm5hbEZpYmVyO1xufVxuXG5mdW5jdGlvbiBoYXMoa2V5KSB7XG4gIHJldHVybiBrZXkuX3JlYWN0SW50ZXJuYWxGaWJlciAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xuICBrZXkuX3JlYWN0SW50ZXJuYWxGaWJlciA9IHZhbHVlO1xufVxuXG4vLyBEb24ndCBjaGFuZ2UgdGhlc2UgdHdvIHZhbHVlcy4gVGhleSdyZSB1c2VkIGJ5IFJlYWN0IERldiBUb29scy5cbnZhciBOb0VmZmVjdCA9IC8qICAgICAgICAgICAgICAqLzA7XG52YXIgUGVyZm9ybWVkV29yayA9IC8qICAgICAgICAgKi8xO1xuXG4vLyBZb3UgY2FuIGNoYW5nZSB0aGUgcmVzdCAoYW5kIGFkZCBtb3JlKS5cbnZhciBQbGFjZW1lbnQgPSAvKiAgICAgICAgICAgICAqLzI7XG52YXIgVXBkYXRlID0gLyogICAgICAgICAgICAgICAgKi80O1xudmFyIFBsYWNlbWVudEFuZFVwZGF0ZSA9IC8qICAgICovNjtcbnZhciBEZWxldGlvbiA9IC8qICAgICAgICAgICAgICAqLzg7XG52YXIgQ29udGVudFJlc2V0ID0gLyogICAgICAgICAgKi8xNjtcbnZhciBDYWxsYmFjayA9IC8qICAgICAgICAgICAgICAqLzMyO1xudmFyIERpZENhcHR1cmUgPSAvKiAgICAgICAgICAgICovNjQ7XG52YXIgUmVmID0gLyogICAgICAgICAgICAgICAgICAgKi8xMjg7XG52YXIgRXJyTG9nID0gLyogICAgICAgICAgICAgICAgKi8yNTY7XG52YXIgU25hcHNob3QgPSAvKiAgICAgICAgICAgICAgKi8yMDQ4O1xuXG4vLyBVbmlvbiBvZiBhbGwgaG9zdCBlZmZlY3RzXG52YXIgSG9zdEVmZmVjdE1hc2sgPSAvKiAgICAgICAgKi8yNTU5O1xuXG52YXIgSW5jb21wbGV0ZSA9IC8qICAgICAgICAgICAgKi81MTI7XG52YXIgU2hvdWxkQ2FwdHVyZSA9IC8qICAgICAgICAgKi8xMDI0O1xuXG52YXIgTU9VTlRJTkcgPSAxO1xudmFyIE1PVU5URUQgPSAyO1xudmFyIFVOTU9VTlRFRCA9IDM7XG5cbmZ1bmN0aW9uIGlzRmliZXJNb3VudGVkSW1wbChmaWJlcikge1xuICB2YXIgbm9kZSA9IGZpYmVyO1xuICBpZiAoIWZpYmVyLmFsdGVybmF0ZSkge1xuICAgIC8vIElmIHRoZXJlIGlzIG5vIGFsdGVybmF0ZSwgdGhpcyBtaWdodCBiZSBhIG5ldyB0cmVlIHRoYXQgaXNuJ3QgaW5zZXJ0ZWRcbiAgICAvLyB5ZXQuIElmIGl0IGlzLCB0aGVuIGl0IHdpbGwgaGF2ZSBhIHBlbmRpbmcgaW5zZXJ0aW9uIGVmZmVjdCBvbiBpdC5cbiAgICBpZiAoKG5vZGUuZWZmZWN0VGFnICYgUGxhY2VtZW50KSAhPT0gTm9FZmZlY3QpIHtcbiAgICAgIHJldHVybiBNT1VOVElORztcbiAgICB9XG4gICAgd2hpbGUgKG5vZGVbJ3JldHVybiddKSB7XG4gICAgICBub2RlID0gbm9kZVsncmV0dXJuJ107XG4gICAgICBpZiAoKG5vZGUuZWZmZWN0VGFnICYgUGxhY2VtZW50KSAhPT0gTm9FZmZlY3QpIHtcbiAgICAgICAgcmV0dXJuIE1PVU5USU5HO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAobm9kZVsncmV0dXJuJ10pIHtcbiAgICAgIG5vZGUgPSBub2RlWydyZXR1cm4nXTtcbiAgICB9XG4gIH1cbiAgaWYgKG5vZGUudGFnID09PSBIb3N0Um9vdCkge1xuICAgIC8vIFRPRE86IENoZWNrIGlmIHRoaXMgd2FzIGEgbmVzdGVkIEhvc3RSb290IHdoZW4gdXNlZCB3aXRoXG4gICAgLy8gcmVuZGVyQ29udGFpbmVySW50b1N1YnRyZWUuXG4gICAgcmV0dXJuIE1PVU5URUQ7XG4gIH1cbiAgLy8gSWYgd2UgZGlkbid0IGhpdCB0aGUgcm9vdCwgdGhhdCBtZWFucyB0aGF0IHdlJ3JlIGluIGFuIGRpc2Nvbm5lY3RlZCB0cmVlXG4gIC8vIHRoYXQgaGFzIGJlZW4gdW5tb3VudGVkLlxuICByZXR1cm4gVU5NT1VOVEVEO1xufVxuXG5mdW5jdGlvbiBpc0ZpYmVyTW91bnRlZChmaWJlcikge1xuICByZXR1cm4gaXNGaWJlck1vdW50ZWRJbXBsKGZpYmVyKSA9PT0gTU9VTlRFRDtcbn1cblxuZnVuY3Rpb24gaXNNb3VudGVkKGNvbXBvbmVudCkge1xuICB7XG4gICAgdmFyIG93bmVyID0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudDtcbiAgICBpZiAob3duZXIgIT09IG51bGwgJiYgb3duZXIudGFnID09PSBDbGFzc0NvbXBvbmVudCkge1xuICAgICAgdmFyIG93bmVyRmliZXIgPSBvd25lcjtcbiAgICAgIHZhciBpbnN0YW5jZSA9IG93bmVyRmliZXIuc3RhdGVOb2RlO1xuICAgICAgd2FybmluZyhpbnN0YW5jZS5fd2FybmVkQWJvdXRSZWZzSW5SZW5kZXIsICclcyBpcyBhY2Nlc3NpbmcgaXNNb3VudGVkIGluc2lkZSBpdHMgcmVuZGVyKCkgZnVuY3Rpb24uICcgKyAncmVuZGVyKCkgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGUuIEl0IHNob3VsZCAnICsgJ25ldmVyIGFjY2VzcyBzb21ldGhpbmcgdGhhdCByZXF1aXJlcyBzdGFsZSBkYXRhIGZyb20gdGhlIHByZXZpb3VzICcgKyAncmVuZGVyLCBzdWNoIGFzIHJlZnMuIE1vdmUgdGhpcyBsb2dpYyB0byBjb21wb25lbnREaWRNb3VudCBhbmQgJyArICdjb21wb25lbnREaWRVcGRhdGUgaW5zdGVhZC4nLCBnZXRDb21wb25lbnROYW1lKG93bmVyRmliZXIpIHx8ICdBIGNvbXBvbmVudCcpO1xuICAgICAgaW5zdGFuY2UuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICB2YXIgZmliZXIgPSBnZXQoY29tcG9uZW50KTtcbiAgaWYgKCFmaWJlcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gaXNGaWJlck1vdW50ZWRJbXBsKGZpYmVyKSA9PT0gTU9VTlRFRDtcbn1cblxuZnVuY3Rpb24gYXNzZXJ0SXNNb3VudGVkKGZpYmVyKSB7XG4gICEoaXNGaWJlck1vdW50ZWRJbXBsKGZpYmVyKSA9PT0gTU9VTlRFRCkgPyBpbnZhcmlhbnQoZmFsc2UsICdVbmFibGUgdG8gZmluZCBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuJykgOiB2b2lkIDA7XG59XG5cbmZ1bmN0aW9uIGZpbmRDdXJyZW50RmliZXJVc2luZ1Nsb3dQYXRoKGZpYmVyKSB7XG4gIHZhciBhbHRlcm5hdGUgPSBmaWJlci5hbHRlcm5hdGU7XG4gIGlmICghYWx0ZXJuYXRlKSB7XG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gYWx0ZXJuYXRlLCB0aGVuIHdlIG9ubHkgbmVlZCB0byBjaGVjayBpZiBpdCBpcyBtb3VudGVkLlxuICAgIHZhciBzdGF0ZSA9IGlzRmliZXJNb3VudGVkSW1wbChmaWJlcik7XG4gICAgIShzdGF0ZSAhPT0gVU5NT1VOVEVEKSA/IGludmFyaWFudChmYWxzZSwgJ1VuYWJsZSB0byBmaW5kIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC4nKSA6IHZvaWQgMDtcbiAgICBpZiAoc3RhdGUgPT09IE1PVU5USU5HKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGZpYmVyO1xuICB9XG4gIC8vIElmIHdlIGhhdmUgdHdvIHBvc3NpYmxlIGJyYW5jaGVzLCB3ZSdsbCB3YWxrIGJhY2t3YXJkcyB1cCB0byB0aGUgcm9vdFxuICAvLyB0byBzZWUgd2hhdCBwYXRoIHRoZSByb290IHBvaW50cyB0by4gT24gdGhlIHdheSB3ZSBtYXkgaGl0IG9uZSBvZiB0aGVcbiAgLy8gc3BlY2lhbCBjYXNlcyBhbmQgd2UnbGwgZGVhbCB3aXRoIHRoZW0uXG4gIHZhciBhID0gZmliZXI7XG4gIHZhciBiID0gYWx0ZXJuYXRlO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIHZhciBwYXJlbnRBID0gYVsncmV0dXJuJ107XG4gICAgdmFyIHBhcmVudEIgPSBwYXJlbnRBID8gcGFyZW50QS5hbHRlcm5hdGUgOiBudWxsO1xuICAgIGlmICghcGFyZW50QSB8fCAhcGFyZW50Qikge1xuICAgICAgLy8gV2UncmUgYXQgdGhlIHJvb3QuXG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICAvLyBJZiBib3RoIGNvcGllcyBvZiB0aGUgcGFyZW50IGZpYmVyIHBvaW50IHRvIHRoZSBzYW1lIGNoaWxkLCB3ZSBjYW5cbiAgICAvLyBhc3N1bWUgdGhhdCB0aGUgY2hpbGQgaXMgY3VycmVudC4gVGhpcyBoYXBwZW5zIHdoZW4gd2UgYmFpbG91dCBvbiBsb3dcbiAgICAvLyBwcmlvcml0eTogdGhlIGJhaWxlZCBvdXQgZmliZXIncyBjaGlsZCByZXVzZXMgdGhlIGN1cnJlbnQgY2hpbGQuXG4gICAgaWYgKHBhcmVudEEuY2hpbGQgPT09IHBhcmVudEIuY2hpbGQpIHtcbiAgICAgIHZhciBjaGlsZCA9IHBhcmVudEEuY2hpbGQ7XG4gICAgICB3aGlsZSAoY2hpbGQpIHtcbiAgICAgICAgaWYgKGNoaWxkID09PSBhKSB7XG4gICAgICAgICAgLy8gV2UndmUgZGV0ZXJtaW5lZCB0aGF0IEEgaXMgdGhlIGN1cnJlbnQgYnJhbmNoLlxuICAgICAgICAgIGFzc2VydElzTW91bnRlZChwYXJlbnRBKTtcbiAgICAgICAgICByZXR1cm4gZmliZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoaWxkID09PSBiKSB7XG4gICAgICAgICAgLy8gV2UndmUgZGV0ZXJtaW5lZCB0aGF0IEIgaXMgdGhlIGN1cnJlbnQgYnJhbmNoLlxuICAgICAgICAgIGFzc2VydElzTW91bnRlZChwYXJlbnRBKTtcbiAgICAgICAgICByZXR1cm4gYWx0ZXJuYXRlO1xuICAgICAgICB9XG4gICAgICAgIGNoaWxkID0gY2hpbGQuc2libGluZztcbiAgICAgIH1cbiAgICAgIC8vIFdlIHNob3VsZCBuZXZlciBoYXZlIGFuIGFsdGVybmF0ZSBmb3IgYW55IG1vdW50aW5nIG5vZGUuIFNvIHRoZSBvbmx5XG4gICAgICAvLyB3YXkgdGhpcyBjb3VsZCBwb3NzaWJseSBoYXBwZW4gaXMgaWYgdGhpcyB3YXMgdW5tb3VudGVkLCBpZiBhdCBhbGwuXG4gICAgICBpbnZhcmlhbnQoZmFsc2UsICdVbmFibGUgdG8gZmluZCBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuJyk7XG4gICAgfVxuXG4gICAgaWYgKGFbJ3JldHVybiddICE9PSBiWydyZXR1cm4nXSkge1xuICAgICAgLy8gVGhlIHJldHVybiBwb2ludGVyIG9mIEEgYW5kIHRoZSByZXR1cm4gcG9pbnRlciBvZiBCIHBvaW50IHRvIGRpZmZlcmVudFxuICAgICAgLy8gZmliZXJzLiBXZSBhc3N1bWUgdGhhdCByZXR1cm4gcG9pbnRlcnMgbmV2ZXIgY3Jpc3MtY3Jvc3MsIHNvIEEgbXVzdFxuICAgICAgLy8gYmVsb25nIHRvIHRoZSBjaGlsZCBzZXQgb2YgQS5yZXR1cm4sIGFuZCBCIG11c3QgYmVsb25nIHRvIHRoZSBjaGlsZFxuICAgICAgLy8gc2V0IG9mIEIucmV0dXJuLlxuICAgICAgYSA9IHBhcmVudEE7XG4gICAgICBiID0gcGFyZW50QjtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhlIHJldHVybiBwb2ludGVycyBwb2ludCB0byB0aGUgc2FtZSBmaWJlci4gV2UnbGwgaGF2ZSB0byB1c2UgdGhlXG4gICAgICAvLyBkZWZhdWx0LCBzbG93IHBhdGg6IHNjYW4gdGhlIGNoaWxkIHNldHMgb2YgZWFjaCBwYXJlbnQgYWx0ZXJuYXRlIHRvIHNlZVxuICAgICAgLy8gd2hpY2ggY2hpbGQgYmVsb25ncyB0byB3aGljaCBzZXQuXG4gICAgICAvL1xuICAgICAgLy8gU2VhcmNoIHBhcmVudCBBJ3MgY2hpbGQgc2V0XG4gICAgICB2YXIgZGlkRmluZENoaWxkID0gZmFsc2U7XG4gICAgICB2YXIgX2NoaWxkID0gcGFyZW50QS5jaGlsZDtcbiAgICAgIHdoaWxlIChfY2hpbGQpIHtcbiAgICAgICAgaWYgKF9jaGlsZCA9PT0gYSkge1xuICAgICAgICAgIGRpZEZpbmRDaGlsZCA9IHRydWU7XG4gICAgICAgICAgYSA9IHBhcmVudEE7XG4gICAgICAgICAgYiA9IHBhcmVudEI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9jaGlsZCA9PT0gYikge1xuICAgICAgICAgIGRpZEZpbmRDaGlsZCA9IHRydWU7XG4gICAgICAgICAgYiA9IHBhcmVudEE7XG4gICAgICAgICAgYSA9IHBhcmVudEI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgX2NoaWxkID0gX2NoaWxkLnNpYmxpbmc7XG4gICAgICB9XG4gICAgICBpZiAoIWRpZEZpbmRDaGlsZCkge1xuICAgICAgICAvLyBTZWFyY2ggcGFyZW50IEIncyBjaGlsZCBzZXRcbiAgICAgICAgX2NoaWxkID0gcGFyZW50Qi5jaGlsZDtcbiAgICAgICAgd2hpbGUgKF9jaGlsZCkge1xuICAgICAgICAgIGlmIChfY2hpbGQgPT09IGEpIHtcbiAgICAgICAgICAgIGRpZEZpbmRDaGlsZCA9IHRydWU7XG4gICAgICAgICAgICBhID0gcGFyZW50QjtcbiAgICAgICAgICAgIGIgPSBwYXJlbnRBO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChfY2hpbGQgPT09IGIpIHtcbiAgICAgICAgICAgIGRpZEZpbmRDaGlsZCA9IHRydWU7XG4gICAgICAgICAgICBiID0gcGFyZW50QjtcbiAgICAgICAgICAgIGEgPSBwYXJlbnRBO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIF9jaGlsZCA9IF9jaGlsZC5zaWJsaW5nO1xuICAgICAgICB9XG4gICAgICAgICFkaWRGaW5kQ2hpbGQgPyBpbnZhcmlhbnQoZmFsc2UsICdDaGlsZCB3YXMgbm90IGZvdW5kIGluIGVpdGhlciBwYXJlbnQgc2V0LiBUaGlzIGluZGljYXRlcyBhIGJ1ZyBpbiBSZWFjdCByZWxhdGVkIHRvIHRoZSByZXR1cm4gcG9pbnRlci4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgIShhLmFsdGVybmF0ZSA9PT0gYikgPyBpbnZhcmlhbnQoZmFsc2UsICdSZXR1cm4gZmliZXJzIHNob3VsZCBhbHdheXMgYmUgZWFjaCBvdGhlcnNcXCcgYWx0ZXJuYXRlcy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgfVxuICAvLyBJZiB0aGUgcm9vdCBpcyBub3QgYSBob3N0IGNvbnRhaW5lciwgd2UncmUgaW4gYSBkaXNjb25uZWN0ZWQgdHJlZS4gSS5lLlxuICAvLyB1bm1vdW50ZWQuXG4gICEoYS50YWcgPT09IEhvc3RSb290KSA/IGludmFyaWFudChmYWxzZSwgJ1VuYWJsZSB0byBmaW5kIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC4nKSA6IHZvaWQgMDtcbiAgaWYgKGEuc3RhdGVOb2RlLmN1cnJlbnQgPT09IGEpIHtcbiAgICAvLyBXZSd2ZSBkZXRlcm1pbmVkIHRoYXQgQSBpcyB0aGUgY3VycmVudCBicmFuY2guXG4gICAgcmV0dXJuIGZpYmVyO1xuICB9XG4gIC8vIE90aGVyd2lzZSBCIGhhcyB0byBiZSBjdXJyZW50IGJyYW5jaC5cbiAgcmV0dXJuIGFsdGVybmF0ZTtcbn1cblxuZnVuY3Rpb24gZmluZEN1cnJlbnRIb3N0RmliZXIocGFyZW50KSB7XG4gIHZhciBjdXJyZW50UGFyZW50ID0gZmluZEN1cnJlbnRGaWJlclVzaW5nU2xvd1BhdGgocGFyZW50KTtcbiAgaWYgKCFjdXJyZW50UGFyZW50KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBOZXh0IHdlJ2xsIGRyaWxsIGRvd24gdGhpcyBjb21wb25lbnQgdG8gZmluZCB0aGUgZmlyc3QgSG9zdENvbXBvbmVudC9UZXh0LlxuICB2YXIgbm9kZSA9IGN1cnJlbnRQYXJlbnQ7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgaWYgKG5vZGUudGFnID09PSBIb3N0Q29tcG9uZW50IHx8IG5vZGUudGFnID09PSBIb3N0VGV4dCkge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSBlbHNlIGlmIChub2RlLmNoaWxkKSB7XG4gICAgICBub2RlLmNoaWxkWydyZXR1cm4nXSA9IG5vZGU7XG4gICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAobm9kZSA9PT0gY3VycmVudFBhcmVudCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHdoaWxlICghbm9kZS5zaWJsaW5nKSB7XG4gICAgICBpZiAoIW5vZGVbJ3JldHVybiddIHx8IG5vZGVbJ3JldHVybiddID09PSBjdXJyZW50UGFyZW50KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgbm9kZSA9IG5vZGVbJ3JldHVybiddO1xuICAgIH1cbiAgICBub2RlLnNpYmxpbmdbJ3JldHVybiddID0gbm9kZVsncmV0dXJuJ107XG4gICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgfVxuICAvLyBGbG93IG5lZWRzIHRoZSByZXR1cm4gbnVsbCBoZXJlLCBidXQgRVNMaW50IGNvbXBsYWlucyBhYm91dCBpdC5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVucmVhY2hhYmxlXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBmaW5kQ3VycmVudEhvc3RGaWJlcldpdGhOb1BvcnRhbHMocGFyZW50KSB7XG4gIHZhciBjdXJyZW50UGFyZW50ID0gZmluZEN1cnJlbnRGaWJlclVzaW5nU2xvd1BhdGgocGFyZW50KTtcbiAgaWYgKCFjdXJyZW50UGFyZW50KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBOZXh0IHdlJ2xsIGRyaWxsIGRvd24gdGhpcyBjb21wb25lbnQgdG8gZmluZCB0aGUgZmlyc3QgSG9zdENvbXBvbmVudC9UZXh0LlxuICB2YXIgbm9kZSA9IGN1cnJlbnRQYXJlbnQ7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgaWYgKG5vZGUudGFnID09PSBIb3N0Q29tcG9uZW50IHx8IG5vZGUudGFnID09PSBIb3N0VGV4dCkge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSBlbHNlIGlmIChub2RlLmNoaWxkICYmIG5vZGUudGFnICE9PSBIb3N0UG9ydGFsKSB7XG4gICAgICBub2RlLmNoaWxkWydyZXR1cm4nXSA9IG5vZGU7XG4gICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAobm9kZSA9PT0gY3VycmVudFBhcmVudCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHdoaWxlICghbm9kZS5zaWJsaW5nKSB7XG4gICAgICBpZiAoIW5vZGVbJ3JldHVybiddIHx8IG5vZGVbJ3JldHVybiddID09PSBjdXJyZW50UGFyZW50KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgbm9kZSA9IG5vZGVbJ3JldHVybiddO1xuICAgIH1cbiAgICBub2RlLnNpYmxpbmdbJ3JldHVybiddID0gbm9kZVsncmV0dXJuJ107XG4gICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgfVxuICAvLyBGbG93IG5lZWRzIHRoZSByZXR1cm4gbnVsbCBoZXJlLCBidXQgRVNMaW50IGNvbXBsYWlucyBhYm91dCBpdC5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVucmVhY2hhYmxlXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBhZGRFdmVudEJ1YmJsZUxpc3RlbmVyKGVsZW1lbnQsIGV2ZW50VHlwZSwgbGlzdGVuZXIpIHtcbiAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gYWRkRXZlbnRDYXB0dXJlTGlzdGVuZXIoZWxlbWVudCwgZXZlbnRUeXBlLCBsaXN0ZW5lcikge1xuICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBsaXN0ZW5lciwgdHJ1ZSk7XG59XG5cbi8qKlxuICogQGludGVyZmFjZSBFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLWFuaW1hdGlvbnMvI0FuaW1hdGlvbkV2ZW50LWludGVyZmFjZVxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQW5pbWF0aW9uRXZlbnRcbiAqL1xudmFyIFN5bnRoZXRpY0FuaW1hdGlvbkV2ZW50ID0gU3ludGhldGljRXZlbnQkMS5leHRlbmQoe1xuICBhbmltYXRpb25OYW1lOiBudWxsLFxuICBlbGFwc2VkVGltZTogbnVsbCxcbiAgcHNldWRvRWxlbWVudDogbnVsbFxufSk7XG5cbi8qKlxuICogQGludGVyZmFjZSBFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9jbGlwYm9hcmQtYXBpcy9cbiAqL1xudmFyIFN5bnRoZXRpY0NsaXBib2FyZEV2ZW50ID0gU3ludGhldGljRXZlbnQkMS5leHRlbmQoe1xuICBjbGlwYm9hcmREYXRhOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gJ2NsaXBib2FyZERhdGEnIGluIGV2ZW50ID8gZXZlbnQuY2xpcGJvYXJkRGF0YSA6IHdpbmRvdy5jbGlwYm9hcmREYXRhO1xuICB9XG59KTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIEZvY3VzRXZlbnRcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzL1xuICovXG52YXIgU3ludGhldGljRm9jdXNFdmVudCA9IFN5bnRoZXRpY1VJRXZlbnQuZXh0ZW5kKHtcbiAgcmVsYXRlZFRhcmdldDogbnVsbFxufSk7XG5cbi8qKlxuICogYGNoYXJDb2RlYCByZXByZXNlbnRzIHRoZSBhY3R1YWwgXCJjaGFyYWN0ZXIgY29kZVwiIGFuZCBpcyBzYWZlIHRvIHVzZSB3aXRoXG4gKiBgU3RyaW5nLmZyb21DaGFyQ29kZWAuIEFzIHN1Y2gsIG9ubHkga2V5cyB0aGF0IGNvcnJlc3BvbmQgdG8gcHJpbnRhYmxlXG4gKiBjaGFyYWN0ZXJzIHByb2R1Y2UgYSB2YWxpZCBgY2hhckNvZGVgLCB0aGUgb25seSBleGNlcHRpb24gdG8gdGhpcyBpcyBFbnRlci5cbiAqIFRoZSBUYWIta2V5IGlzIGNvbnNpZGVyZWQgbm9uLXByaW50YWJsZSBhbmQgZG9lcyBub3QgaGF2ZSBhIGBjaGFyQ29kZWAsXG4gKiBwcmVzdW1hYmx5IGJlY2F1c2UgaXQgZG9lcyBub3QgcHJvZHVjZSBhIHRhYi1jaGFyYWN0ZXIgaW4gYnJvd3NlcnMuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7bnVtYmVyfSBOb3JtYWxpemVkIGBjaGFyQ29kZWAgcHJvcGVydHkuXG4gKi9cbmZ1bmN0aW9uIGdldEV2ZW50Q2hhckNvZGUobmF0aXZlRXZlbnQpIHtcbiAgdmFyIGNoYXJDb2RlID0gdm9pZCAwO1xuICB2YXIga2V5Q29kZSA9IG5hdGl2ZUV2ZW50LmtleUNvZGU7XG5cbiAgaWYgKCdjaGFyQ29kZScgaW4gbmF0aXZlRXZlbnQpIHtcbiAgICBjaGFyQ29kZSA9IG5hdGl2ZUV2ZW50LmNoYXJDb2RlO1xuXG4gICAgLy8gRkYgZG9lcyBub3Qgc2V0IGBjaGFyQ29kZWAgZm9yIHRoZSBFbnRlci1rZXksIGNoZWNrIGFnYWluc3QgYGtleUNvZGVgLlxuICAgIGlmIChjaGFyQ29kZSA9PT0gMCAmJiBrZXlDb2RlID09PSAxMykge1xuICAgICAgY2hhckNvZGUgPSAxMztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gSUU4IGRvZXMgbm90IGltcGxlbWVudCBgY2hhckNvZGVgLCBidXQgYGtleUNvZGVgIGhhcyB0aGUgY29ycmVjdCB2YWx1ZS5cbiAgICBjaGFyQ29kZSA9IGtleUNvZGU7XG4gIH1cblxuICAvLyBJRSBhbmQgRWRnZSAob24gV2luZG93cykgYW5kIENocm9tZSAvIFNhZmFyaSAob24gV2luZG93cyBhbmQgTGludXgpXG4gIC8vIHJlcG9ydCBFbnRlciBhcyBjaGFyQ29kZSAxMCB3aGVuIGN0cmwgaXMgcHJlc3NlZC5cbiAgaWYgKGNoYXJDb2RlID09PSAxMCkge1xuICAgIGNoYXJDb2RlID0gMTM7XG4gIH1cblxuICAvLyBTb21lIG5vbi1wcmludGFibGUga2V5cyBhcmUgcmVwb3J0ZWQgaW4gYGNoYXJDb2RlYC9ga2V5Q29kZWAsIGRpc2NhcmQgdGhlbS5cbiAgLy8gTXVzdCBub3QgZGlzY2FyZCB0aGUgKG5vbi0pcHJpbnRhYmxlIEVudGVyLWtleS5cbiAgaWYgKGNoYXJDb2RlID49IDMyIHx8IGNoYXJDb2RlID09PSAxMykge1xuICAgIHJldHVybiBjaGFyQ29kZTtcbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG4vKipcbiAqIE5vcm1hbGl6YXRpb24gb2YgZGVwcmVjYXRlZCBIVE1MNSBga2V5YCB2YWx1ZXNcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0tleWJvYXJkRXZlbnQjS2V5X25hbWVzXG4gKi9cbnZhciBub3JtYWxpemVLZXkgPSB7XG4gIEVzYzogJ0VzY2FwZScsXG4gIFNwYWNlYmFyOiAnICcsXG4gIExlZnQ6ICdBcnJvd0xlZnQnLFxuICBVcDogJ0Fycm93VXAnLFxuICBSaWdodDogJ0Fycm93UmlnaHQnLFxuICBEb3duOiAnQXJyb3dEb3duJyxcbiAgRGVsOiAnRGVsZXRlJyxcbiAgV2luOiAnT1MnLFxuICBNZW51OiAnQ29udGV4dE1lbnUnLFxuICBBcHBzOiAnQ29udGV4dE1lbnUnLFxuICBTY3JvbGw6ICdTY3JvbGxMb2NrJyxcbiAgTW96UHJpbnRhYmxlS2V5OiAnVW5pZGVudGlmaWVkJ1xufTtcblxuLyoqXG4gKiBUcmFuc2xhdGlvbiBmcm9tIGxlZ2FjeSBga2V5Q29kZWAgdG8gSFRNTDUgYGtleWBcbiAqIE9ubHkgc3BlY2lhbCBrZXlzIHN1cHBvcnRlZCwgYWxsIG90aGVycyBkZXBlbmQgb24ga2V5Ym9hcmQgbGF5b3V0IG9yIGJyb3dzZXJcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0tleWJvYXJkRXZlbnQjS2V5X25hbWVzXG4gKi9cbnZhciB0cmFuc2xhdGVUb0tleSA9IHtcbiAgJzgnOiAnQmFja3NwYWNlJyxcbiAgJzknOiAnVGFiJyxcbiAgJzEyJzogJ0NsZWFyJyxcbiAgJzEzJzogJ0VudGVyJyxcbiAgJzE2JzogJ1NoaWZ0JyxcbiAgJzE3JzogJ0NvbnRyb2wnLFxuICAnMTgnOiAnQWx0JyxcbiAgJzE5JzogJ1BhdXNlJyxcbiAgJzIwJzogJ0NhcHNMb2NrJyxcbiAgJzI3JzogJ0VzY2FwZScsXG4gICczMic6ICcgJyxcbiAgJzMzJzogJ1BhZ2VVcCcsXG4gICczNCc6ICdQYWdlRG93bicsXG4gICczNSc6ICdFbmQnLFxuICAnMzYnOiAnSG9tZScsXG4gICczNyc6ICdBcnJvd0xlZnQnLFxuICAnMzgnOiAnQXJyb3dVcCcsXG4gICczOSc6ICdBcnJvd1JpZ2h0JyxcbiAgJzQwJzogJ0Fycm93RG93bicsXG4gICc0NSc6ICdJbnNlcnQnLFxuICAnNDYnOiAnRGVsZXRlJyxcbiAgJzExMic6ICdGMScsXG4gICcxMTMnOiAnRjInLFxuICAnMTE0JzogJ0YzJyxcbiAgJzExNSc6ICdGNCcsXG4gICcxMTYnOiAnRjUnLFxuICAnMTE3JzogJ0Y2JyxcbiAgJzExOCc6ICdGNycsXG4gICcxMTknOiAnRjgnLFxuICAnMTIwJzogJ0Y5JyxcbiAgJzEyMSc6ICdGMTAnLFxuICAnMTIyJzogJ0YxMScsXG4gICcxMjMnOiAnRjEyJyxcbiAgJzE0NCc6ICdOdW1Mb2NrJyxcbiAgJzE0NSc6ICdTY3JvbGxMb2NrJyxcbiAgJzIyNCc6ICdNZXRhJ1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IE5vcm1hbGl6ZWQgYGtleWAgcHJvcGVydHkuXG4gKi9cbmZ1bmN0aW9uIGdldEV2ZW50S2V5KG5hdGl2ZUV2ZW50KSB7XG4gIGlmIChuYXRpdmVFdmVudC5rZXkpIHtcbiAgICAvLyBOb3JtYWxpemUgaW5jb25zaXN0ZW50IHZhbHVlcyByZXBvcnRlZCBieSBicm93c2VycyBkdWUgdG9cbiAgICAvLyBpbXBsZW1lbnRhdGlvbnMgb2YgYSB3b3JraW5nIGRyYWZ0IHNwZWNpZmljYXRpb24uXG5cbiAgICAvLyBGaXJlRm94IGltcGxlbWVudHMgYGtleWAgYnV0IHJldHVybnMgYE1velByaW50YWJsZUtleWAgZm9yIGFsbFxuICAgIC8vIHByaW50YWJsZSBjaGFyYWN0ZXJzIChub3JtYWxpemVkIHRvIGBVbmlkZW50aWZpZWRgKSwgaWdub3JlIGl0LlxuICAgIHZhciBrZXkgPSBub3JtYWxpemVLZXlbbmF0aXZlRXZlbnQua2V5XSB8fCBuYXRpdmVFdmVudC5rZXk7XG4gICAgaWYgKGtleSAhPT0gJ1VuaWRlbnRpZmllZCcpIHtcbiAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuICB9XG5cbiAgLy8gQnJvd3NlciBkb2VzIG5vdCBpbXBsZW1lbnQgYGtleWAsIHBvbHlmaWxsIGFzIG11Y2ggb2YgaXQgYXMgd2UgY2FuLlxuICBpZiAobmF0aXZlRXZlbnQudHlwZSA9PT0gJ2tleXByZXNzJykge1xuICAgIHZhciBjaGFyQ29kZSA9IGdldEV2ZW50Q2hhckNvZGUobmF0aXZlRXZlbnQpO1xuXG4gICAgLy8gVGhlIGVudGVyLWtleSBpcyB0ZWNobmljYWxseSBib3RoIHByaW50YWJsZSBhbmQgbm9uLXByaW50YWJsZSBhbmQgY2FuXG4gICAgLy8gdGh1cyBiZSBjYXB0dXJlZCBieSBga2V5cHJlc3NgLCBubyBvdGhlciBub24tcHJpbnRhYmxlIGtleSBzaG91bGQuXG4gICAgcmV0dXJuIGNoYXJDb2RlID09PSAxMyA/ICdFbnRlcicgOiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoYXJDb2RlKTtcbiAgfVxuICBpZiAobmF0aXZlRXZlbnQudHlwZSA9PT0gJ2tleWRvd24nIHx8IG5hdGl2ZUV2ZW50LnR5cGUgPT09ICdrZXl1cCcpIHtcbiAgICAvLyBXaGlsZSB1c2VyIGtleWJvYXJkIGxheW91dCBkZXRlcm1pbmVzIHRoZSBhY3R1YWwgbWVhbmluZyBvZiBlYWNoXG4gICAgLy8gYGtleUNvZGVgIHZhbHVlLCBhbG1vc3QgYWxsIGZ1bmN0aW9uIGtleXMgaGF2ZSBhIHVuaXZlcnNhbCB2YWx1ZS5cbiAgICByZXR1cm4gdHJhbnNsYXRlVG9LZXlbbmF0aXZlRXZlbnQua2V5Q29kZV0gfHwgJ1VuaWRlbnRpZmllZCc7XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIEBpbnRlcmZhY2UgS2V5Ym9hcmRFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvXG4gKi9cbnZhciBTeW50aGV0aWNLZXlib2FyZEV2ZW50ID0gU3ludGhldGljVUlFdmVudC5leHRlbmQoe1xuICBrZXk6IGdldEV2ZW50S2V5LFxuICBsb2NhdGlvbjogbnVsbCxcbiAgY3RybEtleTogbnVsbCxcbiAgc2hpZnRLZXk6IG51bGwsXG4gIGFsdEtleTogbnVsbCxcbiAgbWV0YUtleTogbnVsbCxcbiAgcmVwZWF0OiBudWxsLFxuICBsb2NhbGU6IG51bGwsXG4gIGdldE1vZGlmaWVyU3RhdGU6IGdldEV2ZW50TW9kaWZpZXJTdGF0ZSxcbiAgLy8gTGVnYWN5IEludGVyZmFjZVxuICBjaGFyQ29kZTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgLy8gYGNoYXJDb2RlYCBpcyB0aGUgcmVzdWx0IG9mIGEgS2V5UHJlc3MgZXZlbnQgYW5kIHJlcHJlc2VudHMgdGhlIHZhbHVlIG9mXG4gICAgLy8gdGhlIGFjdHVhbCBwcmludGFibGUgY2hhcmFjdGVyLlxuXG4gICAgLy8gS2V5UHJlc3MgaXMgZGVwcmVjYXRlZCwgYnV0IGl0cyByZXBsYWNlbWVudCBpcyBub3QgeWV0IGZpbmFsIGFuZCBub3RcbiAgICAvLyBpbXBsZW1lbnRlZCBpbiBhbnkgbWFqb3IgYnJvd3Nlci4gT25seSBLZXlQcmVzcyBoYXMgY2hhckNvZGUuXG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdrZXlwcmVzcycpIHtcbiAgICAgIHJldHVybiBnZXRFdmVudENoYXJDb2RlKGV2ZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH0sXG4gIGtleUNvZGU6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIC8vIGBrZXlDb2RlYCBpcyB0aGUgcmVzdWx0IG9mIGEgS2V5RG93bi9VcCBldmVudCBhbmQgcmVwcmVzZW50cyB0aGUgdmFsdWUgb2ZcbiAgICAvLyBwaHlzaWNhbCBrZXlib2FyZCBrZXkuXG5cbiAgICAvLyBUaGUgYWN0dWFsIG1lYW5pbmcgb2YgdGhlIHZhbHVlIGRlcGVuZHMgb24gdGhlIHVzZXJzJyBrZXlib2FyZCBsYXlvdXRcbiAgICAvLyB3aGljaCBjYW5ub3QgYmUgZGV0ZWN0ZWQuIEFzc3VtaW5nIHRoYXQgaXQgaXMgYSBVUyBrZXlib2FyZCBsYXlvdXRcbiAgICAvLyBwcm92aWRlcyBhIHN1cnByaXNpbmdseSBhY2N1cmF0ZSBtYXBwaW5nIGZvciBVUyBhbmQgRXVyb3BlYW4gdXNlcnMuXG4gICAgLy8gRHVlIHRvIHRoaXMsIGl0IGlzIGxlZnQgdG8gdGhlIHVzZXIgdG8gaW1wbGVtZW50IGF0IHRoaXMgdGltZS5cbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2tleWRvd24nIHx8IGV2ZW50LnR5cGUgPT09ICdrZXl1cCcpIHtcbiAgICAgIHJldHVybiBldmVudC5rZXlDb2RlO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfSxcbiAgd2hpY2g6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIC8vIGB3aGljaGAgaXMgYW4gYWxpYXMgZm9yIGVpdGhlciBga2V5Q29kZWAgb3IgYGNoYXJDb2RlYCBkZXBlbmRpbmcgb24gdGhlXG4gICAgLy8gdHlwZSBvZiB0aGUgZXZlbnQuXG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdrZXlwcmVzcycpIHtcbiAgICAgIHJldHVybiBnZXRFdmVudENoYXJDb2RlKGV2ZW50KTtcbiAgICB9XG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdrZXlkb3duJyB8fCBldmVudC50eXBlID09PSAna2V5dXAnKSB7XG4gICAgICByZXR1cm4gZXZlbnQua2V5Q29kZTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cbn0pO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgRHJhZ0V2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy9cbiAqL1xudmFyIFN5bnRoZXRpY0RyYWdFdmVudCA9IFN5bnRoZXRpY01vdXNlRXZlbnQuZXh0ZW5kKHtcbiAgZGF0YVRyYW5zZmVyOiBudWxsXG59KTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIFRvdWNoRXZlbnRcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvdG91Y2gtZXZlbnRzL1xuICovXG52YXIgU3ludGhldGljVG91Y2hFdmVudCA9IFN5bnRoZXRpY1VJRXZlbnQuZXh0ZW5kKHtcbiAgdG91Y2hlczogbnVsbCxcbiAgdGFyZ2V0VG91Y2hlczogbnVsbCxcbiAgY2hhbmdlZFRvdWNoZXM6IG51bGwsXG4gIGFsdEtleTogbnVsbCxcbiAgbWV0YUtleTogbnVsbCxcbiAgY3RybEtleTogbnVsbCxcbiAgc2hpZnRLZXk6IG51bGwsXG4gIGdldE1vZGlmaWVyU3RhdGU6IGdldEV2ZW50TW9kaWZpZXJTdGF0ZVxufSk7XG5cbi8qKlxuICogQGludGVyZmFjZSBFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDA5L1dELWNzczMtdHJhbnNpdGlvbnMtMjAwOTAzMjAvI3RyYW5zaXRpb24tZXZlbnRzLVxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVHJhbnNpdGlvbkV2ZW50XG4gKi9cbnZhciBTeW50aGV0aWNUcmFuc2l0aW9uRXZlbnQgPSBTeW50aGV0aWNFdmVudCQxLmV4dGVuZCh7XG4gIHByb3BlcnR5TmFtZTogbnVsbCxcbiAgZWxhcHNlZFRpbWU6IG51bGwsXG4gIHBzZXVkb0VsZW1lbnQ6IG51bGxcbn0pO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgV2hlZWxFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvXG4gKi9cbnZhciBTeW50aGV0aWNXaGVlbEV2ZW50ID0gU3ludGhldGljTW91c2VFdmVudC5leHRlbmQoe1xuICBkZWx0YVg6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHJldHVybiAnZGVsdGFYJyBpbiBldmVudCA/IGV2ZW50LmRlbHRhWCA6IC8vIEZhbGxiYWNrIHRvIGB3aGVlbERlbHRhWGAgZm9yIFdlYmtpdCBhbmQgbm9ybWFsaXplIChyaWdodCBpcyBwb3NpdGl2ZSkuXG4gICAgJ3doZWVsRGVsdGFYJyBpbiBldmVudCA/IC1ldmVudC53aGVlbERlbHRhWCA6IDA7XG4gIH0sXG4gIGRlbHRhWTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgcmV0dXJuICdkZWx0YVknIGluIGV2ZW50ID8gZXZlbnQuZGVsdGFZIDogLy8gRmFsbGJhY2sgdG8gYHdoZWVsRGVsdGFZYCBmb3IgV2Via2l0IGFuZCBub3JtYWxpemUgKGRvd24gaXMgcG9zaXRpdmUpLlxuICAgICd3aGVlbERlbHRhWScgaW4gZXZlbnQgPyAtZXZlbnQud2hlZWxEZWx0YVkgOiAvLyBGYWxsYmFjayB0byBgd2hlZWxEZWx0YWAgZm9yIElFPDkgYW5kIG5vcm1hbGl6ZSAoZG93biBpcyBwb3NpdGl2ZSkuXG4gICAgJ3doZWVsRGVsdGEnIGluIGV2ZW50ID8gLWV2ZW50LndoZWVsRGVsdGEgOiAwO1xuICB9LFxuXG4gIGRlbHRhWjogbnVsbCxcblxuICAvLyBCcm93c2VycyB3aXRob3V0IFwiZGVsdGFNb2RlXCIgaXMgcmVwb3J0aW5nIGluIHJhdyB3aGVlbCBkZWx0YSB3aGVyZSBvbmVcbiAgLy8gbm90Y2ggb24gdGhlIHNjcm9sbCBpcyBhbHdheXMgKy8tIDEyMCwgcm91Z2hseSBlcXVpdmFsZW50IHRvIHBpeGVscy5cbiAgLy8gQSBnb29kIGFwcHJveGltYXRpb24gb2YgRE9NX0RFTFRBX0xJTkUgKDEpIGlzIDUlIG9mIHZpZXdwb3J0IHNpemUgb3JcbiAgLy8gfjQwIHBpeGVscywgZm9yIERPTV9ERUxUQV9TQ1JFRU4gKDIpIGl0IGlzIDg3LjUlIG9mIHZpZXdwb3J0IHNpemUuXG4gIGRlbHRhTW9kZTogbnVsbFxufSk7XG5cbi8qKlxuICogVHVybnNcbiAqIFsnYWJvcnQnLCAuLi5dXG4gKiBpbnRvXG4gKiBldmVudFR5cGVzID0ge1xuICogICAnYWJvcnQnOiB7XG4gKiAgICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAqICAgICAgIGJ1YmJsZWQ6ICdvbkFib3J0JyxcbiAqICAgICAgIGNhcHR1cmVkOiAnb25BYm9ydENhcHR1cmUnLFxuICogICAgIH0sXG4gKiAgICAgZGVwZW5kZW5jaWVzOiBbJ3RvcEFib3J0J10sXG4gKiAgIH0sXG4gKiAgIC4uLlxuICogfTtcbiAqIHRvcExldmVsRXZlbnRzVG9EaXNwYXRjaENvbmZpZyA9IHtcbiAqICAgJ3RvcEFib3J0JzogeyBzYW1lQ29uZmlnIH1cbiAqIH07XG4gKi9cbnZhciBpbnRlcmFjdGl2ZUV2ZW50VHlwZU5hbWVzID0gWydibHVyJywgJ2NhbmNlbCcsICdjbGljaycsICdjbG9zZScsICdjb250ZXh0TWVudScsICdjb3B5JywgJ2N1dCcsICdkb3VibGVDbGljaycsICdkcmFnRW5kJywgJ2RyYWdTdGFydCcsICdkcm9wJywgJ2ZvY3VzJywgJ2lucHV0JywgJ2ludmFsaWQnLCAna2V5RG93bicsICdrZXlQcmVzcycsICdrZXlVcCcsICdtb3VzZURvd24nLCAnbW91c2VVcCcsICdwYXN0ZScsICdwYXVzZScsICdwbGF5JywgJ3JhdGVDaGFuZ2UnLCAncmVzZXQnLCAnc2Vla2VkJywgJ3N1Ym1pdCcsICd0b3VjaENhbmNlbCcsICd0b3VjaEVuZCcsICd0b3VjaFN0YXJ0JywgJ3ZvbHVtZUNoYW5nZSddO1xudmFyIG5vbkludGVyYWN0aXZlRXZlbnRUeXBlTmFtZXMgPSBbJ2Fib3J0JywgJ2FuaW1hdGlvbkVuZCcsICdhbmltYXRpb25JdGVyYXRpb24nLCAnYW5pbWF0aW9uU3RhcnQnLCAnY2FuUGxheScsICdjYW5QbGF5VGhyb3VnaCcsICdkcmFnJywgJ2RyYWdFbnRlcicsICdkcmFnRXhpdCcsICdkcmFnTGVhdmUnLCAnZHJhZ092ZXInLCAnZHVyYXRpb25DaGFuZ2UnLCAnZW1wdGllZCcsICdlbmNyeXB0ZWQnLCAnZW5kZWQnLCAnZXJyb3InLCAnbG9hZCcsICdsb2FkZWREYXRhJywgJ2xvYWRlZE1ldGFkYXRhJywgJ2xvYWRTdGFydCcsICdtb3VzZU1vdmUnLCAnbW91c2VPdXQnLCAnbW91c2VPdmVyJywgJ3BsYXlpbmcnLCAncHJvZ3Jlc3MnLCAnc2Nyb2xsJywgJ3NlZWtpbmcnLCAnc3RhbGxlZCcsICdzdXNwZW5kJywgJ3RpbWVVcGRhdGUnLCAndG9nZ2xlJywgJ3RvdWNoTW92ZScsICd0cmFuc2l0aW9uRW5kJywgJ3dhaXRpbmcnLCAnd2hlZWwnXTtcblxudmFyIGV2ZW50VHlwZXMkNCA9IHt9O1xudmFyIHRvcExldmVsRXZlbnRzVG9EaXNwYXRjaENvbmZpZyA9IHt9O1xuXG5mdW5jdGlvbiBhZGRFdmVudFR5cGVOYW1lVG9Db25maWcoZXZlbnQsIGlzSW50ZXJhY3RpdmUpIHtcbiAgdmFyIGNhcGl0YWxpemVkRXZlbnQgPSBldmVudFswXS50b1VwcGVyQ2FzZSgpICsgZXZlbnQuc2xpY2UoMSk7XG4gIHZhciBvbkV2ZW50ID0gJ29uJyArIGNhcGl0YWxpemVkRXZlbnQ7XG4gIHZhciB0b3BFdmVudCA9ICd0b3AnICsgY2FwaXRhbGl6ZWRFdmVudDtcblxuICB2YXIgdHlwZSA9IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDogb25FdmVudCxcbiAgICAgIGNhcHR1cmVkOiBvbkV2ZW50ICsgJ0NhcHR1cmUnXG4gICAgfSxcbiAgICBkZXBlbmRlbmNpZXM6IFt0b3BFdmVudF0sXG4gICAgaXNJbnRlcmFjdGl2ZTogaXNJbnRlcmFjdGl2ZVxuICB9O1xuICBldmVudFR5cGVzJDRbZXZlbnRdID0gdHlwZTtcbiAgdG9wTGV2ZWxFdmVudHNUb0Rpc3BhdGNoQ29uZmlnW3RvcEV2ZW50XSA9IHR5cGU7XG59XG5cbmludGVyYWN0aXZlRXZlbnRUeXBlTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnRUeXBlTmFtZSkge1xuICBhZGRFdmVudFR5cGVOYW1lVG9Db25maWcoZXZlbnRUeXBlTmFtZSwgdHJ1ZSk7XG59KTtcbm5vbkludGVyYWN0aXZlRXZlbnRUeXBlTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnRUeXBlTmFtZSkge1xuICBhZGRFdmVudFR5cGVOYW1lVG9Db25maWcoZXZlbnRUeXBlTmFtZSwgZmFsc2UpO1xufSk7XG5cbi8vIE9ubHkgdXNlZCBpbiBERVYgZm9yIGV4aGF1c3RpdmVuZXNzIHZhbGlkYXRpb24uXG52YXIga25vd25IVE1MVG9wTGV2ZWxUeXBlcyA9IFsndG9wQWJvcnQnLCAndG9wQ2FuY2VsJywgJ3RvcENhblBsYXknLCAndG9wQ2FuUGxheVRocm91Z2gnLCAndG9wQ2xvc2UnLCAndG9wRHVyYXRpb25DaGFuZ2UnLCAndG9wRW1wdGllZCcsICd0b3BFbmNyeXB0ZWQnLCAndG9wRW5kZWQnLCAndG9wRXJyb3InLCAndG9wSW5wdXQnLCAndG9wSW52YWxpZCcsICd0b3BMb2FkJywgJ3RvcExvYWRlZERhdGEnLCAndG9wTG9hZGVkTWV0YWRhdGEnLCAndG9wTG9hZFN0YXJ0JywgJ3RvcFBhdXNlJywgJ3RvcFBsYXknLCAndG9wUGxheWluZycsICd0b3BQcm9ncmVzcycsICd0b3BSYXRlQ2hhbmdlJywgJ3RvcFJlc2V0JywgJ3RvcFNlZWtlZCcsICd0b3BTZWVraW5nJywgJ3RvcFN0YWxsZWQnLCAndG9wU3VibWl0JywgJ3RvcFN1c3BlbmQnLCAndG9wVGltZVVwZGF0ZScsICd0b3BUb2dnbGUnLCAndG9wVm9sdW1lQ2hhbmdlJywgJ3RvcFdhaXRpbmcnXTtcblxudmFyIFNpbXBsZUV2ZW50UGx1Z2luID0ge1xuICBldmVudFR5cGVzOiBldmVudFR5cGVzJDQsXG5cbiAgaXNJbnRlcmFjdGl2ZVRvcExldmVsRXZlbnRUeXBlOiBmdW5jdGlvbiAodG9wTGV2ZWxUeXBlKSB7XG4gICAgdmFyIGNvbmZpZyA9IHRvcExldmVsRXZlbnRzVG9EaXNwYXRjaENvbmZpZ1t0b3BMZXZlbFR5cGVdO1xuICAgIHJldHVybiBjb25maWcgIT09IHVuZGVmaW5lZCAmJiBjb25maWcuaXNJbnRlcmFjdGl2ZSA9PT0gdHJ1ZTtcbiAgfSxcblxuXG4gIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uICh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgIHZhciBkaXNwYXRjaENvbmZpZyA9IHRvcExldmVsRXZlbnRzVG9EaXNwYXRjaENvbmZpZ1t0b3BMZXZlbFR5cGVdO1xuICAgIGlmICghZGlzcGF0Y2hDb25maWcpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgRXZlbnRDb25zdHJ1Y3RvciA9IHZvaWQgMDtcbiAgICBzd2l0Y2ggKHRvcExldmVsVHlwZSkge1xuICAgICAgY2FzZSAndG9wS2V5UHJlc3MnOlxuICAgICAgICAvLyBGaXJlZm94IGNyZWF0ZXMgYSBrZXlwcmVzcyBldmVudCBmb3IgZnVuY3Rpb24ga2V5cyB0b28uIFRoaXMgcmVtb3Zlc1xuICAgICAgICAvLyB0aGUgdW53YW50ZWQga2V5cHJlc3MgZXZlbnRzLiBFbnRlciBpcyBob3dldmVyIGJvdGggcHJpbnRhYmxlIGFuZFxuICAgICAgICAvLyBub24tcHJpbnRhYmxlLiBPbmUgd291bGQgZXhwZWN0IFRhYiB0byBiZSBhcyB3ZWxsIChidXQgaXQgaXNuJ3QpLlxuICAgICAgICBpZiAoZ2V0RXZlbnRDaGFyQ29kZShuYXRpdmVFdmVudCkgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSAndG9wS2V5RG93bic6XG4gICAgICBjYXNlICd0b3BLZXlVcCc6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNLZXlib2FyZEV2ZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RvcEJsdXInOlxuICAgICAgY2FzZSAndG9wRm9jdXMnOlxuICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljRm9jdXNFdmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0b3BDbGljayc6XG4gICAgICAgIC8vIEZpcmVmb3ggY3JlYXRlcyBhIGNsaWNrIGV2ZW50IG9uIHJpZ2h0IG1vdXNlIGNsaWNrcy4gVGhpcyByZW1vdmVzIHRoZVxuICAgICAgICAvLyB1bndhbnRlZCBjbGljayBldmVudHMuXG4gICAgICAgIGlmIChuYXRpdmVFdmVudC5idXR0b24gPT09IDIpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSAndG9wRG91YmxlQ2xpY2snOlxuICAgICAgY2FzZSAndG9wTW91c2VEb3duJzpcbiAgICAgIGNhc2UgJ3RvcE1vdXNlTW92ZSc6XG4gICAgICBjYXNlICd0b3BNb3VzZVVwJzpcbiAgICAgIC8vIFRPRE86IERpc2FibGVkIGVsZW1lbnRzIHNob3VsZCBub3QgcmVzcG9uZCB0byBtb3VzZSBldmVudHNcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgJ3RvcE1vdXNlT3V0JzpcbiAgICAgIGNhc2UgJ3RvcE1vdXNlT3Zlcic6XG4gICAgICBjYXNlICd0b3BDb250ZXh0TWVudSc6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNNb3VzZUV2ZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RvcERyYWcnOlxuICAgICAgY2FzZSAndG9wRHJhZ0VuZCc6XG4gICAgICBjYXNlICd0b3BEcmFnRW50ZXInOlxuICAgICAgY2FzZSAndG9wRHJhZ0V4aXQnOlxuICAgICAgY2FzZSAndG9wRHJhZ0xlYXZlJzpcbiAgICAgIGNhc2UgJ3RvcERyYWdPdmVyJzpcbiAgICAgIGNhc2UgJ3RvcERyYWdTdGFydCc6XG4gICAgICBjYXNlICd0b3BEcm9wJzpcbiAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY0RyYWdFdmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0b3BUb3VjaENhbmNlbCc6XG4gICAgICBjYXNlICd0b3BUb3VjaEVuZCc6XG4gICAgICBjYXNlICd0b3BUb3VjaE1vdmUnOlxuICAgICAgY2FzZSAndG9wVG91Y2hTdGFydCc6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNUb3VjaEV2ZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RvcEFuaW1hdGlvbkVuZCc6XG4gICAgICBjYXNlICd0b3BBbmltYXRpb25JdGVyYXRpb24nOlxuICAgICAgY2FzZSAndG9wQW5pbWF0aW9uU3RhcnQnOlxuICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljQW5pbWF0aW9uRXZlbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndG9wVHJhbnNpdGlvbkVuZCc6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNUcmFuc2l0aW9uRXZlbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndG9wU2Nyb2xsJzpcbiAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY1VJRXZlbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndG9wV2hlZWwnOlxuICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljV2hlZWxFdmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0b3BDb3B5JzpcbiAgICAgIGNhc2UgJ3RvcEN1dCc6XG4gICAgICBjYXNlICd0b3BQYXN0ZSc6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNDbGlwYm9hcmRFdmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB7XG4gICAgICAgICAgaWYgKGtub3duSFRNTFRvcExldmVsVHlwZXMuaW5kZXhPZih0b3BMZXZlbFR5cGUpID09PSAtMSkge1xuICAgICAgICAgICAgd2FybmluZyhmYWxzZSwgJ1NpbXBsZUV2ZW50UGx1Z2luOiBVbmhhbmRsZWQgZXZlbnQgdHlwZSwgYCVzYC4gVGhpcyB3YXJuaW5nICcgKyAnaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJywgdG9wTGV2ZWxUeXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSFRNTCBFdmVudHNcbiAgICAgICAgLy8gQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9odG1sNS9pbmRleC5odG1sI2V2ZW50cy0wXG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNFdmVudCQxO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgdmFyIGV2ZW50ID0gRXZlbnRDb25zdHJ1Y3Rvci5nZXRQb29sZWQoZGlzcGF0Y2hDb25maWcsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyhldmVudCk7XG4gICAgcmV0dXJuIGV2ZW50O1xuICB9XG59O1xuXG52YXIgaXNJbnRlcmFjdGl2ZVRvcExldmVsRXZlbnRUeXBlID0gU2ltcGxlRXZlbnRQbHVnaW4uaXNJbnRlcmFjdGl2ZVRvcExldmVsRXZlbnRUeXBlO1xuXG5cbnZhciBDQUxMQkFDS19CT09LS0VFUElOR19QT09MX1NJWkUgPSAxMDtcbnZhciBjYWxsYmFja0Jvb2trZWVwaW5nUG9vbCA9IFtdO1xuXG4vKipcbiAqIEZpbmQgdGhlIGRlZXBlc3QgUmVhY3QgY29tcG9uZW50IGNvbXBsZXRlbHkgY29udGFpbmluZyB0aGUgcm9vdCBvZiB0aGVcbiAqIHBhc3NlZC1pbiBpbnN0YW5jZSAoZm9yIHVzZSB3aGVuIGVudGlyZSBSZWFjdCB0cmVlcyBhcmUgbmVzdGVkIHdpdGhpbiBlYWNoXG4gKiBvdGhlcikuIElmIFJlYWN0IHRyZWVzIGFyZSBub3QgbmVzdGVkLCByZXR1cm5zIG51bGwuXG4gKi9cbmZ1bmN0aW9uIGZpbmRSb290Q29udGFpbmVyTm9kZShpbnN0KSB7XG4gIC8vIFRPRE86IEl0IG1heSBiZSBhIGdvb2QgaWRlYSB0byBjYWNoZSB0aGlzIHRvIHByZXZlbnQgdW5uZWNlc3NhcnkgRE9NXG4gIC8vIHRyYXZlcnNhbCwgYnV0IGNhY2hpbmcgaXMgZGlmZmljdWx0IHRvIGRvIGNvcnJlY3RseSB3aXRob3V0IHVzaW5nIGFcbiAgLy8gbXV0YXRpb24gb2JzZXJ2ZXIgdG8gbGlzdGVuIGZvciBhbGwgRE9NIGNoYW5nZXMuXG4gIHdoaWxlIChpbnN0WydyZXR1cm4nXSkge1xuICAgIGluc3QgPSBpbnN0WydyZXR1cm4nXTtcbiAgfVxuICBpZiAoaW5zdC50YWcgIT09IEhvc3RSb290KSB7XG4gICAgLy8gVGhpcyBjYW4gaGFwcGVuIGlmIHdlJ3JlIGluIGEgZGV0YWNoZWQgdHJlZS5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gaW5zdC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbn1cblxuLy8gVXNlZCB0byBzdG9yZSBhbmNlc3RvciBoaWVyYXJjaHkgaW4gdG9wIGxldmVsIGNhbGxiYWNrXG5mdW5jdGlvbiBnZXRUb3BMZXZlbENhbGxiYWNrQm9va0tlZXBpbmcodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCwgdGFyZ2V0SW5zdCkge1xuICBpZiAoY2FsbGJhY2tCb29ra2VlcGluZ1Bvb2wubGVuZ3RoKSB7XG4gICAgdmFyIGluc3RhbmNlID0gY2FsbGJhY2tCb29ra2VlcGluZ1Bvb2wucG9wKCk7XG4gICAgaW5zdGFuY2UudG9wTGV2ZWxUeXBlID0gdG9wTGV2ZWxUeXBlO1xuICAgIGluc3RhbmNlLm5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQ7XG4gICAgaW5zdGFuY2UudGFyZ2V0SW5zdCA9IHRhcmdldEluc3Q7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9XG4gIHJldHVybiB7XG4gICAgdG9wTGV2ZWxUeXBlOiB0b3BMZXZlbFR5cGUsXG4gICAgbmF0aXZlRXZlbnQ6IG5hdGl2ZUV2ZW50LFxuICAgIHRhcmdldEluc3Q6IHRhcmdldEluc3QsXG4gICAgYW5jZXN0b3JzOiBbXVxuICB9O1xufVxuXG5mdW5jdGlvbiByZWxlYXNlVG9wTGV2ZWxDYWxsYmFja0Jvb2tLZWVwaW5nKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnRvcExldmVsVHlwZSA9IG51bGw7XG4gIGluc3RhbmNlLm5hdGl2ZUV2ZW50ID0gbnVsbDtcbiAgaW5zdGFuY2UudGFyZ2V0SW5zdCA9IG51bGw7XG4gIGluc3RhbmNlLmFuY2VzdG9ycy5sZW5ndGggPSAwO1xuICBpZiAoY2FsbGJhY2tCb29ra2VlcGluZ1Bvb2wubGVuZ3RoIDwgQ0FMTEJBQ0tfQk9PS0tFRVBJTkdfUE9PTF9TSVpFKSB7XG4gICAgY2FsbGJhY2tCb29ra2VlcGluZ1Bvb2wucHVzaChpbnN0YW5jZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlVG9wTGV2ZWwoYm9va0tlZXBpbmcpIHtcbiAgdmFyIHRhcmdldEluc3QgPSBib29rS2VlcGluZy50YXJnZXRJbnN0O1xuXG4gIC8vIExvb3AgdGhyb3VnaCB0aGUgaGllcmFyY2h5LCBpbiBjYXNlIHRoZXJlJ3MgYW55IG5lc3RlZCBjb21wb25lbnRzLlxuICAvLyBJdCdzIGltcG9ydGFudCB0aGF0IHdlIGJ1aWxkIHRoZSBhcnJheSBvZiBhbmNlc3RvcnMgYmVmb3JlIGNhbGxpbmcgYW55XG4gIC8vIGV2ZW50IGhhbmRsZXJzLCBiZWNhdXNlIGV2ZW50IGhhbmRsZXJzIGNhbiBtb2RpZnkgdGhlIERPTSwgbGVhZGluZyB0b1xuICAvLyBpbmNvbnNpc3RlbmNpZXMgd2l0aCBSZWFjdE1vdW50J3Mgbm9kZSBjYWNoZS4gU2VlICMxMTA1LlxuICB2YXIgYW5jZXN0b3IgPSB0YXJnZXRJbnN0O1xuICBkbyB7XG4gICAgaWYgKCFhbmNlc3Rvcikge1xuICAgICAgYm9va0tlZXBpbmcuYW5jZXN0b3JzLnB1c2goYW5jZXN0b3IpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHZhciByb290ID0gZmluZFJvb3RDb250YWluZXJOb2RlKGFuY2VzdG9yKTtcbiAgICBpZiAoIXJvb3QpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBib29rS2VlcGluZy5hbmNlc3RvcnMucHVzaChhbmNlc3Rvcik7XG4gICAgYW5jZXN0b3IgPSBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShyb290KTtcbiAgfSB3aGlsZSAoYW5jZXN0b3IpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYm9va0tlZXBpbmcuYW5jZXN0b3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgdGFyZ2V0SW5zdCA9IGJvb2tLZWVwaW5nLmFuY2VzdG9yc1tpXTtcbiAgICBydW5FeHRyYWN0ZWRFdmVudHNJbkJhdGNoKGJvb2tLZWVwaW5nLnRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgYm9va0tlZXBpbmcubmF0aXZlRXZlbnQsIGdldEV2ZW50VGFyZ2V0KGJvb2tLZWVwaW5nLm5hdGl2ZUV2ZW50KSk7XG4gIH1cbn1cblxuLy8gVE9ETzogY2FuIHdlIHN0b3AgZXhwb3J0aW5nIHRoZXNlP1xudmFyIF9lbmFibGVkID0gdHJ1ZTtcblxuZnVuY3Rpb24gc2V0RW5hYmxlZChlbmFibGVkKSB7XG4gIF9lbmFibGVkID0gISFlbmFibGVkO1xufVxuXG5mdW5jdGlvbiBpc0VuYWJsZWQoKSB7XG4gIHJldHVybiBfZW5hYmxlZDtcbn1cblxuLyoqXG4gKiBUcmFwcyB0b3AtbGV2ZWwgZXZlbnRzIGJ5IHVzaW5nIGV2ZW50IGJ1YmJsaW5nLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFR5cGUgUmVjb3JkIGZyb20gYEJyb3dzZXJFdmVudENvbnN0YW50c2AuXG4gKiBAcGFyYW0ge3N0cmluZ30gaGFuZGxlckJhc2VOYW1lIEV2ZW50IG5hbWUgKGUuZy4gXCJjbGlja1wiKS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBlbGVtZW50IEVsZW1lbnQgb24gd2hpY2ggdG8gYXR0YWNoIGxpc3RlbmVyLlxuICogQHJldHVybiB7P29iamVjdH0gQW4gb2JqZWN0IHdpdGggYSByZW1vdmUgZnVuY3Rpb24gd2hpY2ggd2lsbCBmb3JjZWZ1bGx5XG4gKiAgICAgICAgICAgICAgICAgIHJlbW92ZSB0aGUgbGlzdGVuZXIuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gdHJhcEJ1YmJsZWRFdmVudCh0b3BMZXZlbFR5cGUsIGhhbmRsZXJCYXNlTmFtZSwgZWxlbWVudCkge1xuICBpZiAoIWVsZW1lbnQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgZGlzcGF0Y2ggPSBpc0ludGVyYWN0aXZlVG9wTGV2ZWxFdmVudFR5cGUodG9wTGV2ZWxUeXBlKSA/IGRpc3BhdGNoSW50ZXJhY3RpdmVFdmVudCA6IGRpc3BhdGNoRXZlbnQ7XG5cbiAgYWRkRXZlbnRCdWJibGVMaXN0ZW5lcihlbGVtZW50LCBoYW5kbGVyQmFzZU5hbWUsXG4gIC8vIENoZWNrIGlmIGludGVyYWN0aXZlIGFuZCB3cmFwIGluIGludGVyYWN0aXZlVXBkYXRlc1xuICBkaXNwYXRjaC5iaW5kKG51bGwsIHRvcExldmVsVHlwZSkpO1xufVxuXG4vKipcbiAqIFRyYXBzIGEgdG9wLWxldmVsIGV2ZW50IGJ5IHVzaW5nIGV2ZW50IGNhcHR1cmluZy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUeXBlIFJlY29yZCBmcm9tIGBCcm93c2VyRXZlbnRDb25zdGFudHNgLlxuICogQHBhcmFtIHtzdHJpbmd9IGhhbmRsZXJCYXNlTmFtZSBFdmVudCBuYW1lIChlLmcuIFwiY2xpY2tcIikuXG4gKiBAcGFyYW0ge29iamVjdH0gZWxlbWVudCBFbGVtZW50IG9uIHdoaWNoIHRvIGF0dGFjaCBsaXN0ZW5lci5cbiAqIEByZXR1cm4gez9vYmplY3R9IEFuIG9iamVjdCB3aXRoIGEgcmVtb3ZlIGZ1bmN0aW9uIHdoaWNoIHdpbGwgZm9yY2VmdWxseVxuICogICAgICAgICAgICAgICAgICByZW1vdmUgdGhlIGxpc3RlbmVyLlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIHRyYXBDYXB0dXJlZEV2ZW50KHRvcExldmVsVHlwZSwgaGFuZGxlckJhc2VOYW1lLCBlbGVtZW50KSB7XG4gIGlmICghZWxlbWVudCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBkaXNwYXRjaCA9IGlzSW50ZXJhY3RpdmVUb3BMZXZlbEV2ZW50VHlwZSh0b3BMZXZlbFR5cGUpID8gZGlzcGF0Y2hJbnRlcmFjdGl2ZUV2ZW50IDogZGlzcGF0Y2hFdmVudDtcblxuICBhZGRFdmVudENhcHR1cmVMaXN0ZW5lcihlbGVtZW50LCBoYW5kbGVyQmFzZU5hbWUsXG4gIC8vIENoZWNrIGlmIGludGVyYWN0aXZlIGFuZCB3cmFwIGluIGludGVyYWN0aXZlVXBkYXRlc1xuICBkaXNwYXRjaC5iaW5kKG51bGwsIHRvcExldmVsVHlwZSkpO1xufVxuXG5mdW5jdGlvbiBkaXNwYXRjaEludGVyYWN0aXZlRXZlbnQodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkge1xuICBpbnRlcmFjdGl2ZVVwZGF0ZXMoZGlzcGF0Y2hFdmVudCwgdG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCk7XG59XG5cbmZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkge1xuICBpZiAoIV9lbmFibGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIG5hdGl2ZUV2ZW50VGFyZ2V0ID0gZ2V0RXZlbnRUYXJnZXQobmF0aXZlRXZlbnQpO1xuICB2YXIgdGFyZ2V0SW5zdCA9IGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgaWYgKHRhcmdldEluc3QgIT09IG51bGwgJiYgdHlwZW9mIHRhcmdldEluc3QudGFnID09PSAnbnVtYmVyJyAmJiAhaXNGaWJlck1vdW50ZWQodGFyZ2V0SW5zdCkpIHtcbiAgICAvLyBJZiB3ZSBnZXQgYW4gZXZlbnQgKGV4OiBpbWcgb25sb2FkKSBiZWZvcmUgY29tbWl0dGluZyB0aGF0XG4gICAgLy8gY29tcG9uZW50J3MgbW91bnQsIGlnbm9yZSBpdCBmb3Igbm93ICh0aGF0IGlzLCB0cmVhdCBpdCBhcyBpZiBpdCB3YXMgYW5cbiAgICAvLyBldmVudCBvbiBhIG5vbi1SZWFjdCB0cmVlKS4gV2UgbWlnaHQgYWxzbyBjb25zaWRlciBxdWV1ZWluZyBldmVudHMgYW5kXG4gICAgLy8gZGlzcGF0Y2hpbmcgdGhlbSBhZnRlciB0aGUgbW91bnQuXG4gICAgdGFyZ2V0SW5zdCA9IG51bGw7XG4gIH1cblxuICB2YXIgYm9va0tlZXBpbmcgPSBnZXRUb3BMZXZlbENhbGxiYWNrQm9va0tlZXBpbmcodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCwgdGFyZ2V0SW5zdCk7XG5cbiAgdHJ5IHtcbiAgICAvLyBFdmVudCBxdWV1ZSBiZWluZyBwcm9jZXNzZWQgaW4gdGhlIHNhbWUgY3ljbGUgYWxsb3dzXG4gICAgLy8gYHByZXZlbnREZWZhdWx0YC5cbiAgICBiYXRjaGVkVXBkYXRlcyhoYW5kbGVUb3BMZXZlbCwgYm9va0tlZXBpbmcpO1xuICB9IGZpbmFsbHkge1xuICAgIHJlbGVhc2VUb3BMZXZlbENhbGxiYWNrQm9va0tlZXBpbmcoYm9va0tlZXBpbmcpO1xuICB9XG59XG5cbnZhciBSZWFjdERPTUV2ZW50TGlzdGVuZXIgPSBPYmplY3QuZnJlZXplKHtcblx0Z2V0IF9lbmFibGVkICgpIHsgcmV0dXJuIF9lbmFibGVkOyB9LFxuXHRzZXRFbmFibGVkOiBzZXRFbmFibGVkLFxuXHRpc0VuYWJsZWQ6IGlzRW5hYmxlZCxcblx0dHJhcEJ1YmJsZWRFdmVudDogdHJhcEJ1YmJsZWRFdmVudCxcblx0dHJhcENhcHR1cmVkRXZlbnQ6IHRyYXBDYXB0dXJlZEV2ZW50LFxuXHRkaXNwYXRjaEV2ZW50OiBkaXNwYXRjaEV2ZW50XG59KTtcblxuLyoqXG4gKiBHZW5lcmF0ZSBhIG1hcHBpbmcgb2Ygc3RhbmRhcmQgdmVuZG9yIHByZWZpeGVzIHVzaW5nIHRoZSBkZWZpbmVkIHN0eWxlIHByb3BlcnR5IGFuZCBldmVudCBuYW1lLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZVByb3BcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cbmZ1bmN0aW9uIG1ha2VQcmVmaXhNYXAoc3R5bGVQcm9wLCBldmVudE5hbWUpIHtcbiAgdmFyIHByZWZpeGVzID0ge307XG5cbiAgcHJlZml4ZXNbc3R5bGVQcm9wLnRvTG93ZXJDYXNlKCldID0gZXZlbnROYW1lLnRvTG93ZXJDYXNlKCk7XG4gIHByZWZpeGVzWydXZWJraXQnICsgc3R5bGVQcm9wXSA9ICd3ZWJraXQnICsgZXZlbnROYW1lO1xuICBwcmVmaXhlc1snTW96JyArIHN0eWxlUHJvcF0gPSAnbW96JyArIGV2ZW50TmFtZTtcbiAgcHJlZml4ZXNbJ21zJyArIHN0eWxlUHJvcF0gPSAnTVMnICsgZXZlbnROYW1lO1xuICBwcmVmaXhlc1snTycgKyBzdHlsZVByb3BdID0gJ28nICsgZXZlbnROYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgcmV0dXJuIHByZWZpeGVzO1xufVxuXG4vKipcbiAqIEEgbGlzdCBvZiBldmVudCBuYW1lcyB0byBhIGNvbmZpZ3VyYWJsZSBsaXN0IG9mIHZlbmRvciBwcmVmaXhlcy5cbiAqL1xudmFyIHZlbmRvclByZWZpeGVzID0ge1xuICBhbmltYXRpb25lbmQ6IG1ha2VQcmVmaXhNYXAoJ0FuaW1hdGlvbicsICdBbmltYXRpb25FbmQnKSxcbiAgYW5pbWF0aW9uaXRlcmF0aW9uOiBtYWtlUHJlZml4TWFwKCdBbmltYXRpb24nLCAnQW5pbWF0aW9uSXRlcmF0aW9uJyksXG4gIGFuaW1hdGlvbnN0YXJ0OiBtYWtlUHJlZml4TWFwKCdBbmltYXRpb24nLCAnQW5pbWF0aW9uU3RhcnQnKSxcbiAgdHJhbnNpdGlvbmVuZDogbWFrZVByZWZpeE1hcCgnVHJhbnNpdGlvbicsICdUcmFuc2l0aW9uRW5kJylcbn07XG5cbi8qKlxuICogRXZlbnQgbmFtZXMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBkZXRlY3RlZCBhbmQgcHJlZml4ZWQgKGlmIGFwcGxpY2FibGUpLlxuICovXG52YXIgcHJlZml4ZWRFdmVudE5hbWVzID0ge307XG5cbi8qKlxuICogRWxlbWVudCB0byBjaGVjayBmb3IgcHJlZml4ZXMgb24uXG4gKi9cbnZhciBzdHlsZSA9IHt9O1xuXG4vKipcbiAqIEJvb3RzdHJhcCBpZiBhIERPTSBleGlzdHMuXG4gKi9cbmlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKS5zdHlsZTtcblxuICAvLyBPbiBzb21lIHBsYXRmb3JtcywgaW4gcGFydGljdWxhciBzb21lIHJlbGVhc2VzIG9mIEFuZHJvaWQgNC54LFxuICAvLyB0aGUgdW4tcHJlZml4ZWQgXCJhbmltYXRpb25cIiBhbmQgXCJ0cmFuc2l0aW9uXCIgcHJvcGVydGllcyBhcmUgZGVmaW5lZCBvbiB0aGVcbiAgLy8gc3R5bGUgb2JqZWN0IGJ1dCB0aGUgZXZlbnRzIHRoYXQgZmlyZSB3aWxsIHN0aWxsIGJlIHByZWZpeGVkLCBzbyB3ZSBuZWVkXG4gIC8vIHRvIGNoZWNrIGlmIHRoZSB1bi1wcmVmaXhlZCBldmVudHMgYXJlIHVzYWJsZSwgYW5kIGlmIG5vdCByZW1vdmUgdGhlbSBmcm9tIHRoZSBtYXAuXG4gIGlmICghKCdBbmltYXRpb25FdmVudCcgaW4gd2luZG93KSkge1xuICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy5hbmltYXRpb25lbmQuYW5pbWF0aW9uO1xuICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy5hbmltYXRpb25pdGVyYXRpb24uYW5pbWF0aW9uO1xuICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy5hbmltYXRpb25zdGFydC5hbmltYXRpb247XG4gIH1cblxuICAvLyBTYW1lIGFzIGFib3ZlXG4gIGlmICghKCdUcmFuc2l0aW9uRXZlbnQnIGluIHdpbmRvdykpIHtcbiAgICBkZWxldGUgdmVuZG9yUHJlZml4ZXMudHJhbnNpdGlvbmVuZC50cmFuc2l0aW9uO1xuICB9XG59XG5cbi8qKlxuICogQXR0ZW1wdHMgdG8gZGV0ZXJtaW5lIHRoZSBjb3JyZWN0IHZlbmRvciBwcmVmaXhlZCBldmVudCBuYW1lLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKGV2ZW50TmFtZSkge1xuICBpZiAocHJlZml4ZWRFdmVudE5hbWVzW2V2ZW50TmFtZV0pIHtcbiAgICByZXR1cm4gcHJlZml4ZWRFdmVudE5hbWVzW2V2ZW50TmFtZV07XG4gIH0gZWxzZSBpZiAoIXZlbmRvclByZWZpeGVzW2V2ZW50TmFtZV0pIHtcbiAgICByZXR1cm4gZXZlbnROYW1lO1xuICB9XG5cbiAgdmFyIHByZWZpeE1hcCA9IHZlbmRvclByZWZpeGVzW2V2ZW50TmFtZV07XG5cbiAgZm9yICh2YXIgc3R5bGVQcm9wIGluIHByZWZpeE1hcCkge1xuICAgIGlmIChwcmVmaXhNYXAuaGFzT3duUHJvcGVydHkoc3R5bGVQcm9wKSAmJiBzdHlsZVByb3AgaW4gc3R5bGUpIHtcbiAgICAgIHJldHVybiBwcmVmaXhlZEV2ZW50TmFtZXNbZXZlbnROYW1lXSA9IHByZWZpeE1hcFtzdHlsZVByb3BdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBldmVudE5hbWU7XG59XG5cbi8qKlxuICogVHlwZXMgb2YgcmF3IHNpZ25hbHMgZnJvbSB0aGUgYnJvd3NlciBjYXVnaHQgYXQgdGhlIHRvcCBsZXZlbC5cbiAqXG4gKiBGb3IgZXZlbnRzIGxpa2UgJ3N1Ym1pdCcgb3IgYXVkaW8vdmlkZW8gZXZlbnRzIHdoaWNoIGRvbid0IGNvbnNpc3RlbnRseVxuICogYnViYmxlICh3aGljaCB3ZSB0cmFwIGF0IGEgbG93ZXIgbm9kZSB0aGFuIGBkb2N1bWVudGApLCBiaW5kaW5nXG4gKiBhdCBgZG9jdW1lbnRgIHdvdWxkIGNhdXNlIGR1cGxpY2F0ZSBldmVudHMgc28gd2UgZG9uJ3QgaW5jbHVkZSB0aGVtIGhlcmUuXG4gKi9cbnZhciB0b3BMZXZlbFR5cGVzID0ge1xuICB0b3BBbmltYXRpb25FbmQ6IGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKCdhbmltYXRpb25lbmQnKSxcbiAgdG9wQW5pbWF0aW9uSXRlcmF0aW9uOiBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZSgnYW5pbWF0aW9uaXRlcmF0aW9uJyksXG4gIHRvcEFuaW1hdGlvblN0YXJ0OiBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZSgnYW5pbWF0aW9uc3RhcnQnKSxcbiAgdG9wQmx1cjogJ2JsdXInLFxuICB0b3BDYW5jZWw6ICdjYW5jZWwnLFxuICB0b3BDaGFuZ2U6ICdjaGFuZ2UnLFxuICB0b3BDbGljazogJ2NsaWNrJyxcbiAgdG9wQ2xvc2U6ICdjbG9zZScsXG4gIHRvcENvbXBvc2l0aW9uRW5kOiAnY29tcG9zaXRpb25lbmQnLFxuICB0b3BDb21wb3NpdGlvblN0YXJ0OiAnY29tcG9zaXRpb25zdGFydCcsXG4gIHRvcENvbXBvc2l0aW9uVXBkYXRlOiAnY29tcG9zaXRpb251cGRhdGUnLFxuICB0b3BDb250ZXh0TWVudTogJ2NvbnRleHRtZW51JyxcbiAgdG9wQ29weTogJ2NvcHknLFxuICB0b3BDdXQ6ICdjdXQnLFxuICB0b3BEb3VibGVDbGljazogJ2RibGNsaWNrJyxcbiAgdG9wRHJhZzogJ2RyYWcnLFxuICB0b3BEcmFnRW5kOiAnZHJhZ2VuZCcsXG4gIHRvcERyYWdFbnRlcjogJ2RyYWdlbnRlcicsXG4gIHRvcERyYWdFeGl0OiAnZHJhZ2V4aXQnLFxuICB0b3BEcmFnTGVhdmU6ICdkcmFnbGVhdmUnLFxuICB0b3BEcmFnT3ZlcjogJ2RyYWdvdmVyJyxcbiAgdG9wRHJhZ1N0YXJ0OiAnZHJhZ3N0YXJ0JyxcbiAgdG9wRHJvcDogJ2Ryb3AnLFxuICB0b3BGb2N1czogJ2ZvY3VzJyxcbiAgdG9wSW5wdXQ6ICdpbnB1dCcsXG4gIHRvcEtleURvd246ICdrZXlkb3duJyxcbiAgdG9wS2V5UHJlc3M6ICdrZXlwcmVzcycsXG4gIHRvcEtleVVwOiAna2V5dXAnLFxuICB0b3BMb2FkOiAnbG9hZCcsXG4gIHRvcExvYWRTdGFydDogJ2xvYWRzdGFydCcsXG4gIHRvcE1vdXNlRG93bjogJ21vdXNlZG93bicsXG4gIHRvcE1vdXNlTW92ZTogJ21vdXNlbW92ZScsXG4gIHRvcE1vdXNlT3V0OiAnbW91c2VvdXQnLFxuICB0b3BNb3VzZU92ZXI6ICdtb3VzZW92ZXInLFxuICB0b3BNb3VzZVVwOiAnbW91c2V1cCcsXG4gIHRvcFBhc3RlOiAncGFzdGUnLFxuICB0b3BTY3JvbGw6ICdzY3JvbGwnLFxuICB0b3BTZWxlY3Rpb25DaGFuZ2U6ICdzZWxlY3Rpb25jaGFuZ2UnLFxuICB0b3BUZXh0SW5wdXQ6ICd0ZXh0SW5wdXQnLFxuICB0b3BUb2dnbGU6ICd0b2dnbGUnLFxuICB0b3BUb3VjaENhbmNlbDogJ3RvdWNoY2FuY2VsJyxcbiAgdG9wVG91Y2hFbmQ6ICd0b3VjaGVuZCcsXG4gIHRvcFRvdWNoTW92ZTogJ3RvdWNobW92ZScsXG4gIHRvcFRvdWNoU3RhcnQ6ICd0b3VjaHN0YXJ0JyxcbiAgdG9wVHJhbnNpdGlvbkVuZDogZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoJ3RyYW5zaXRpb25lbmQnKSxcbiAgdG9wV2hlZWw6ICd3aGVlbCdcbn07XG5cbi8vIFRoZXJlIGFyZSBzbyBtYW55IG1lZGlhIGV2ZW50cywgaXQgbWFrZXMgc2Vuc2UgdG8ganVzdFxuLy8gbWFpbnRhaW4gYSBsaXN0IG9mIHRoZW0uIE5vdGUgdGhlc2UgYXJlbid0IHRlY2huaWNhbGx5XG4vLyBcInRvcC1sZXZlbFwiIHNpbmNlIHRoZXkgZG9uJ3QgYnViYmxlLiBXZSBzaG91bGQgY29tZSB1cFxuLy8gd2l0aCBhIGJldHRlciBuYW1pbmcgY29udmVudGlvbiBpZiB3ZSBjb21lIHRvIHJlZmFjdG9yaW5nXG4vLyB0aGUgZXZlbnQgc3lzdGVtLlxudmFyIG1lZGlhRXZlbnRUeXBlcyA9IHtcbiAgdG9wQWJvcnQ6ICdhYm9ydCcsXG4gIHRvcENhblBsYXk6ICdjYW5wbGF5JyxcbiAgdG9wQ2FuUGxheVRocm91Z2g6ICdjYW5wbGF5dGhyb3VnaCcsXG4gIHRvcER1cmF0aW9uQ2hhbmdlOiAnZHVyYXRpb25jaGFuZ2UnLFxuICB0b3BFbXB0aWVkOiAnZW1wdGllZCcsXG4gIHRvcEVuY3J5cHRlZDogJ2VuY3J5cHRlZCcsXG4gIHRvcEVuZGVkOiAnZW5kZWQnLFxuICB0b3BFcnJvcjogJ2Vycm9yJyxcbiAgdG9wTG9hZGVkRGF0YTogJ2xvYWRlZGRhdGEnLFxuICB0b3BMb2FkZWRNZXRhZGF0YTogJ2xvYWRlZG1ldGFkYXRhJyxcbiAgdG9wTG9hZFN0YXJ0OiAnbG9hZHN0YXJ0JyxcbiAgdG9wUGF1c2U6ICdwYXVzZScsXG4gIHRvcFBsYXk6ICdwbGF5JyxcbiAgdG9wUGxheWluZzogJ3BsYXlpbmcnLFxuICB0b3BQcm9ncmVzczogJ3Byb2dyZXNzJyxcbiAgdG9wUmF0ZUNoYW5nZTogJ3JhdGVjaGFuZ2UnLFxuICB0b3BTZWVrZWQ6ICdzZWVrZWQnLFxuICB0b3BTZWVraW5nOiAnc2Vla2luZycsXG4gIHRvcFN0YWxsZWQ6ICdzdGFsbGVkJyxcbiAgdG9wU3VzcGVuZDogJ3N1c3BlbmQnLFxuICB0b3BUaW1lVXBkYXRlOiAndGltZXVwZGF0ZScsXG4gIHRvcFZvbHVtZUNoYW5nZTogJ3ZvbHVtZWNoYW5nZScsXG4gIHRvcFdhaXRpbmc6ICd3YWl0aW5nJ1xufTtcblxuLyoqXG4gKiBTdW1tYXJ5IG9mIGBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXJgIGV2ZW50IGhhbmRsaW5nOlxuICpcbiAqICAtIFRvcC1sZXZlbCBkZWxlZ2F0aW9uIGlzIHVzZWQgdG8gdHJhcCBtb3N0IG5hdGl2ZSBicm93c2VyIGV2ZW50cy4gVGhpc1xuICogICAgbWF5IG9ubHkgb2NjdXIgaW4gdGhlIG1haW4gdGhyZWFkIGFuZCBpcyB0aGUgcmVzcG9uc2liaWxpdHkgb2ZcbiAqICAgIFJlYWN0RE9NRXZlbnRMaXN0ZW5lciwgd2hpY2ggaXMgaW5qZWN0ZWQgYW5kIGNhbiB0aGVyZWZvcmUgc3VwcG9ydFxuICogICAgcGx1Z2dhYmxlIGV2ZW50IHNvdXJjZXMuIFRoaXMgaXMgdGhlIG9ubHkgd29yayB0aGF0IG9jY3VycyBpbiB0aGUgbWFpblxuICogICAgdGhyZWFkLlxuICpcbiAqICAtIFdlIG5vcm1hbGl6ZSBhbmQgZGUtZHVwbGljYXRlIGV2ZW50cyB0byBhY2NvdW50IGZvciBicm93c2VyIHF1aXJrcy4gVGhpc1xuICogICAgbWF5IGJlIGRvbmUgaW4gdGhlIHdvcmtlciB0aHJlYWQuXG4gKlxuICogIC0gRm9yd2FyZCB0aGVzZSBuYXRpdmUgZXZlbnRzICh3aXRoIHRoZSBhc3NvY2lhdGVkIHRvcC1sZXZlbCB0eXBlIHVzZWQgdG9cbiAqICAgIHRyYXAgaXQpIHRvIGBFdmVudFBsdWdpbkh1YmAsIHdoaWNoIGluIHR1cm4gd2lsbCBhc2sgcGx1Z2lucyBpZiB0aGV5IHdhbnRcbiAqICAgIHRvIGV4dHJhY3QgYW55IHN5bnRoZXRpYyBldmVudHMuXG4gKlxuICogIC0gVGhlIGBFdmVudFBsdWdpbkh1YmAgd2lsbCB0aGVuIHByb2Nlc3MgZWFjaCBldmVudCBieSBhbm5vdGF0aW5nIHRoZW0gd2l0aFxuICogICAgXCJkaXNwYXRjaGVzXCIsIGEgc2VxdWVuY2Ugb2YgbGlzdGVuZXJzIGFuZCBJRHMgdGhhdCBjYXJlIGFib3V0IHRoYXQgZXZlbnQuXG4gKlxuICogIC0gVGhlIGBFdmVudFBsdWdpbkh1YmAgdGhlbiBkaXNwYXRjaGVzIHRoZSBldmVudHMuXG4gKlxuICogT3ZlcnZpZXcgb2YgUmVhY3QgYW5kIHRoZSBldmVudCBzeXN0ZW06XG4gKlxuICogKy0tLS0tLS0tLS0tLSsgICAgLlxuICogfCAgICBET00gICAgIHwgICAgLlxuICogKy0tLS0tLS0tLS0tLSsgICAgLlxuICogICAgICAgfCAgICAgICAgICAgLlxuICogICAgICAgdiAgICAgICAgICAgLlxuICogKy0tLS0tLS0tLS0tLSsgICAgLlxuICogfCBSZWFjdEV2ZW50IHwgICAgLlxuICogfCAgTGlzdGVuZXIgIHwgICAgLlxuICogKy0tLS0tLS0tLS0tLSsgICAgLiAgICAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0rXG4gKiAgICAgICB8ICAgICAgICAgICAuICAgICAgICAgICAgICAgKy0tLS0tLS0tK3xTaW1wbGVFdmVudHxcbiAqICAgICAgIHwgICAgICAgICAgIC4gICAgICAgICAgICAgICB8ICAgICAgICAgfFBsdWdpbiAgICAgfFxuICogKy0tLS0tfC0tLS0tLSsgICAgLiAgICAgICAgICAgICAgIHYgICAgICAgICArLS0tLS0tLS0tLS0rXG4gKiB8ICAgICB8ICAgICAgfCAgICAuICAgICstLS0tLS0tLS0tLS0tLSsgICAgICAgICAgICAgICAgICAgICstLS0tLS0tLS0tLS0rXG4gKiB8ICAgICArLS0tLS0tLS0tLS0uLS0tPnxFdmVudFBsdWdpbkh1YnwgICAgICAgICAgICAgICAgICAgIHwgICAgRXZlbnQgICB8XG4gKiB8ICAgICAgICAgICAgfCAgICAuICAgIHwgICAgICAgICAgICAgIHwgICAgICstLS0tLS0tLS0tLSsgIHwgUHJvcGFnYXRvcnN8XG4gKiB8IFJlYWN0RXZlbnQgfCAgICAuICAgIHwgICAgICAgICAgICAgIHwgICAgIHxUYXBFdmVudCAgIHwgIHwtLS0tLS0tLS0tLS18XG4gKiB8ICBFbWl0dGVyICAgfCAgICAuICAgIHwgICAgICAgICAgICAgIHw8LS0tK3xQbHVnaW4gICAgIHwgIHxvdGhlciBwbHVnaW58XG4gKiB8ICAgICAgICAgICAgfCAgICAuICAgIHwgICAgICAgICAgICAgIHwgICAgICstLS0tLS0tLS0tLSsgIHwgIHV0aWxpdGllcyB8XG4gKiB8ICAgICArLS0tLS0tLS0tLS0uLS0tPnwgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICstLS0tLS0tLS0tLS0rXG4gKiB8ICAgICB8ICAgICAgfCAgICAuICAgICstLS0tLS0tLS0tLS0tLStcbiAqICstLS0tLXwtLS0tLS0rICAgIC4gICAgICAgICAgICAgICAgXiAgICAgICAgKy0tLS0tLS0tLS0tK1xuICogICAgICAgfCAgICAgICAgICAgLiAgICAgICAgICAgICAgICB8ICAgICAgICB8RW50ZXIvTGVhdmV8XG4gKiAgICAgICArICAgICAgICAgICAuICAgICAgICAgICAgICAgICstLS0tLS0tK3xQbHVnaW4gICAgIHxcbiAqICstLS0tLS0tLS0tLS0tKyAgIC4gICAgICAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0tLS0tK1xuICogfCBhcHBsaWNhdGlvbiB8ICAgLlxuICogfC0tLS0tLS0tLS0tLS18ICAgLlxuICogfCAgICAgICAgICAgICB8ICAgLlxuICogfCAgICAgICAgICAgICB8ICAgLlxuICogKy0tLS0tLS0tLS0tLS0rICAgLlxuICogICAgICAgICAgICAgICAgICAgLlxuICogICAgUmVhY3QgQ29yZSAgICAgLiAgR2VuZXJhbCBQdXJwb3NlIEV2ZW50IFBsdWdpbiBTeXN0ZW1cbiAqL1xuXG52YXIgYWxyZWFkeUxpc3RlbmluZ1RvID0ge307XG52YXIgcmVhY3RUb3BMaXN0ZW5lcnNDb3VudGVyID0gMDtcblxuLyoqXG4gKiBUbyBlbnN1cmUgbm8gY29uZmxpY3RzIHdpdGggb3RoZXIgcG90ZW50aWFsIFJlYWN0IGluc3RhbmNlcyBvbiB0aGUgcGFnZVxuICovXG52YXIgdG9wTGlzdGVuZXJzSURLZXkgPSAnX3JlYWN0TGlzdGVuZXJzSUQnICsgKCcnICsgTWF0aC5yYW5kb20oKSkuc2xpY2UoMik7XG5cbmZ1bmN0aW9uIGdldExpc3RlbmluZ0ZvckRvY3VtZW50KG1vdW50QXQpIHtcbiAgLy8gSW4gSUU4LCBgbW91bnRBdGAgaXMgYSBob3N0IG9iamVjdCBhbmQgZG9lc24ndCBoYXZlIGBoYXNPd25Qcm9wZXJ0eWBcbiAgLy8gZGlyZWN0bHkuXG4gIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vdW50QXQsIHRvcExpc3RlbmVyc0lES2V5KSkge1xuICAgIG1vdW50QXRbdG9wTGlzdGVuZXJzSURLZXldID0gcmVhY3RUb3BMaXN0ZW5lcnNDb3VudGVyKys7XG4gICAgYWxyZWFkeUxpc3RlbmluZ1RvW21vdW50QXRbdG9wTGlzdGVuZXJzSURLZXldXSA9IHt9O1xuICB9XG4gIHJldHVybiBhbHJlYWR5TGlzdGVuaW5nVG9bbW91bnRBdFt0b3BMaXN0ZW5lcnNJREtleV1dO1xufVxuXG4vKipcbiAqIFdlIGxpc3RlbiBmb3IgYnViYmxlZCB0b3VjaCBldmVudHMgb24gdGhlIGRvY3VtZW50IG9iamVjdC5cbiAqXG4gKiBGaXJlZm94IHY4LjAxIChhbmQgcG9zc2libHkgb3RoZXJzKSBleGhpYml0ZWQgc3RyYW5nZSBiZWhhdmlvciB3aGVuXG4gKiBtb3VudGluZyBgb25tb3VzZW1vdmVgIGV2ZW50cyBhdCBzb21lIG5vZGUgdGhhdCB3YXMgbm90IHRoZSBkb2N1bWVudFxuICogZWxlbWVudC4gVGhlIHN5bXB0b21zIHdlcmUgdGhhdCBpZiB5b3VyIG1vdXNlIGlzIG5vdCBtb3Zpbmcgb3ZlciBzb21ldGhpbmdcbiAqIGNvbnRhaW5lZCB3aXRoaW4gdGhhdCBtb3VudCBwb2ludCAoZm9yIGV4YW1wbGUgb24gdGhlIGJhY2tncm91bmQpIHRoZVxuICogdG9wLWxldmVsIGxpc3RlbmVycyBmb3IgYG9ubW91c2Vtb3ZlYCB3b24ndCBiZSBjYWxsZWQuIEhvd2V2ZXIsIGlmIHlvdVxuICogcmVnaXN0ZXIgdGhlIGBtb3VzZW1vdmVgIG9uIHRoZSBkb2N1bWVudCBvYmplY3QsIHRoZW4gaXQgd2lsbCBvZiBjb3Vyc2VcbiAqIGNhdGNoIGFsbCBgbW91c2Vtb3ZlYHMuIFRoaXMgYWxvbmcgd2l0aCBpT1MgcXVpcmtzLCBqdXN0aWZpZXMgcmVzdHJpY3RpbmdcbiAqIHRvcC1sZXZlbCBsaXN0ZW5lcnMgdG8gdGhlIGRvY3VtZW50IG9iamVjdCBvbmx5LCBhdCBsZWFzdCBmb3IgdGhlc2VcbiAqIG1vdmVtZW50IHR5cGVzIG9mIGV2ZW50cyBhbmQgcG9zc2libHkgYWxsIGV2ZW50cy5cbiAqXG4gKiBAc2VlIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvYmxvZy9hcmNoaXZlcy8yMDEwLzA5L2NsaWNrX2V2ZW50X2RlbC5odG1sXG4gKlxuICogQWxzbywgYGtleXVwYC9ga2V5cHJlc3NgL2BrZXlkb3duYCBkbyBub3QgYnViYmxlIHRvIHRoZSB3aW5kb3cgb24gSUUsIGJ1dFxuICogdGhleSBidWJibGUgdG8gZG9jdW1lbnQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHJlZ2lzdHJhdGlvbk5hbWUgTmFtZSBvZiBsaXN0ZW5lciAoZS5nLiBgb25DbGlja2ApLlxuICogQHBhcmFtIHtvYmplY3R9IGNvbnRlbnREb2N1bWVudEhhbmRsZSBEb2N1bWVudCB3aGljaCBvd25zIHRoZSBjb250YWluZXJcbiAqL1xuZnVuY3Rpb24gbGlzdGVuVG8ocmVnaXN0cmF0aW9uTmFtZSwgY29udGVudERvY3VtZW50SGFuZGxlKSB7XG4gIHZhciBtb3VudEF0ID0gY29udGVudERvY3VtZW50SGFuZGxlO1xuICB2YXIgaXNMaXN0ZW5pbmcgPSBnZXRMaXN0ZW5pbmdGb3JEb2N1bWVudChtb3VudEF0KTtcbiAgdmFyIGRlcGVuZGVuY2llcyA9IHJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXNbcmVnaXN0cmF0aW9uTmFtZV07XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVwZW5kZW5jeSA9IGRlcGVuZGVuY2llc1tpXTtcbiAgICBpZiAoIShpc0xpc3RlbmluZy5oYXNPd25Qcm9wZXJ0eShkZXBlbmRlbmN5KSAmJiBpc0xpc3RlbmluZ1tkZXBlbmRlbmN5XSkpIHtcbiAgICAgIGlmIChkZXBlbmRlbmN5ID09PSAndG9wU2Nyb2xsJykge1xuICAgICAgICB0cmFwQ2FwdHVyZWRFdmVudCgndG9wU2Nyb2xsJywgJ3Njcm9sbCcsIG1vdW50QXQpO1xuICAgICAgfSBlbHNlIGlmIChkZXBlbmRlbmN5ID09PSAndG9wRm9jdXMnIHx8IGRlcGVuZGVuY3kgPT09ICd0b3BCbHVyJykge1xuICAgICAgICB0cmFwQ2FwdHVyZWRFdmVudCgndG9wRm9jdXMnLCAnZm9jdXMnLCBtb3VudEF0KTtcbiAgICAgICAgdHJhcENhcHR1cmVkRXZlbnQoJ3RvcEJsdXInLCAnYmx1cicsIG1vdW50QXQpO1xuXG4gICAgICAgIC8vIHRvIG1ha2Ugc3VyZSBibHVyIGFuZCBmb2N1cyBldmVudCBsaXN0ZW5lcnMgYXJlIG9ubHkgYXR0YWNoZWQgb25jZVxuICAgICAgICBpc0xpc3RlbmluZy50b3BCbHVyID0gdHJ1ZTtcbiAgICAgICAgaXNMaXN0ZW5pbmcudG9wRm9jdXMgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChkZXBlbmRlbmN5ID09PSAndG9wQ2FuY2VsJykge1xuICAgICAgICBpZiAoaXNFdmVudFN1cHBvcnRlZCgnY2FuY2VsJywgdHJ1ZSkpIHtcbiAgICAgICAgICB0cmFwQ2FwdHVyZWRFdmVudCgndG9wQ2FuY2VsJywgJ2NhbmNlbCcsIG1vdW50QXQpO1xuICAgICAgICB9XG4gICAgICAgIGlzTGlzdGVuaW5nLnRvcENhbmNlbCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGRlcGVuZGVuY3kgPT09ICd0b3BDbG9zZScpIHtcbiAgICAgICAgaWYgKGlzRXZlbnRTdXBwb3J0ZWQoJ2Nsb3NlJywgdHJ1ZSkpIHtcbiAgICAgICAgICB0cmFwQ2FwdHVyZWRFdmVudCgndG9wQ2xvc2UnLCAnY2xvc2UnLCBtb3VudEF0KTtcbiAgICAgICAgfVxuICAgICAgICBpc0xpc3RlbmluZy50b3BDbG9zZSA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHRvcExldmVsVHlwZXMuaGFzT3duUHJvcGVydHkoZGVwZW5kZW5jeSkpIHtcbiAgICAgICAgdHJhcEJ1YmJsZWRFdmVudChkZXBlbmRlbmN5LCB0b3BMZXZlbFR5cGVzW2RlcGVuZGVuY3ldLCBtb3VudEF0KTtcbiAgICAgIH1cblxuICAgICAgaXNMaXN0ZW5pbmdbZGVwZW5kZW5jeV0gPSB0cnVlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpc0xpc3RlbmluZ1RvQWxsRGVwZW5kZW5jaWVzKHJlZ2lzdHJhdGlvbk5hbWUsIG1vdW50QXQpIHtcbiAgdmFyIGlzTGlzdGVuaW5nID0gZ2V0TGlzdGVuaW5nRm9yRG9jdW1lbnQobW91bnRBdCk7XG4gIHZhciBkZXBlbmRlbmNpZXMgPSByZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzW3JlZ2lzdHJhdGlvbk5hbWVdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGRlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXBlbmRlbmN5ID0gZGVwZW5kZW5jaWVzW2ldO1xuICAgIGlmICghKGlzTGlzdGVuaW5nLmhhc093blByb3BlcnR5KGRlcGVuZGVuY3kpICYmIGlzTGlzdGVuaW5nW2RlcGVuZGVuY3ldKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBHaXZlbiBhbnkgbm9kZSByZXR1cm4gdGhlIGZpcnN0IGxlYWYgbm9kZSB3aXRob3V0IGNoaWxkcmVuLlxuICpcbiAqIEBwYXJhbSB7RE9NRWxlbWVudHxET01UZXh0Tm9kZX0gbm9kZVxuICogQHJldHVybiB7RE9NRWxlbWVudHxET01UZXh0Tm9kZX1cbiAqL1xuZnVuY3Rpb24gZ2V0TGVhZk5vZGUobm9kZSkge1xuICB3aGlsZSAobm9kZSAmJiBub2RlLmZpcnN0Q2hpbGQpIHtcbiAgICBub2RlID0gbm9kZS5maXJzdENoaWxkO1xuICB9XG4gIHJldHVybiBub2RlO1xufVxuXG4vKipcbiAqIEdldCB0aGUgbmV4dCBzaWJsaW5nIHdpdGhpbiBhIGNvbnRhaW5lci4gVGhpcyB3aWxsIHdhbGsgdXAgdGhlXG4gKiBET00gaWYgYSBub2RlJ3Mgc2libGluZ3MgaGF2ZSBiZWVuIGV4aGF1c3RlZC5cbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9IG5vZGVcbiAqIEByZXR1cm4gez9ET01FbGVtZW50fERPTVRleHROb2RlfVxuICovXG5mdW5jdGlvbiBnZXRTaWJsaW5nTm9kZShub2RlKSB7XG4gIHdoaWxlIChub2RlKSB7XG4gICAgaWYgKG5vZGUubmV4dFNpYmxpbmcpIHtcbiAgICAgIHJldHVybiBub2RlLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICB9XG59XG5cbi8qKlxuICogR2V0IG9iamVjdCBkZXNjcmliaW5nIHRoZSBub2RlcyB3aGljaCBjb250YWluIGNoYXJhY3RlcnMgYXQgb2Zmc2V0LlxuICpcbiAqIEBwYXJhbSB7RE9NRWxlbWVudHxET01UZXh0Tm9kZX0gcm9vdFxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldFxuICogQHJldHVybiB7P29iamVjdH1cbiAqL1xuZnVuY3Rpb24gZ2V0Tm9kZUZvckNoYXJhY3Rlck9mZnNldChyb290LCBvZmZzZXQpIHtcbiAgdmFyIG5vZGUgPSBnZXRMZWFmTm9kZShyb290KTtcbiAgdmFyIG5vZGVTdGFydCA9IDA7XG4gIHZhciBub2RlRW5kID0gMDtcblxuICB3aGlsZSAobm9kZSkge1xuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBURVhUX05PREUpIHtcbiAgICAgIG5vZGVFbmQgPSBub2RlU3RhcnQgKyBub2RlLnRleHRDb250ZW50Lmxlbmd0aDtcblxuICAgICAgaWYgKG5vZGVTdGFydCA8PSBvZmZzZXQgJiYgbm9kZUVuZCA+PSBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBub2RlOiBub2RlLFxuICAgICAgICAgIG9mZnNldDogb2Zmc2V0IC0gbm9kZVN0YXJ0XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIG5vZGVTdGFydCA9IG5vZGVFbmQ7XG4gICAgfVxuXG4gICAgbm9kZSA9IGdldExlYWZOb2RlKGdldFNpYmxpbmdOb2RlKG5vZGUpKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gb3V0ZXJOb2RlXG4gKiBAcmV0dXJuIHs/b2JqZWN0fVxuICovXG5mdW5jdGlvbiBnZXRPZmZzZXRzKG91dGVyTm9kZSkge1xuICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbiAmJiB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG5cbiAgaWYgKCFzZWxlY3Rpb24gfHwgc2VsZWN0aW9uLnJhbmdlQ291bnQgPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBhbmNob3JOb2RlID0gc2VsZWN0aW9uLmFuY2hvck5vZGUsXG4gICAgICBhbmNob3JPZmZzZXQgPSBzZWxlY3Rpb24uYW5jaG9yT2Zmc2V0LFxuICAgICAgZm9jdXNOb2RlID0gc2VsZWN0aW9uLmZvY3VzTm9kZSxcbiAgICAgIGZvY3VzT2Zmc2V0ID0gc2VsZWN0aW9uLmZvY3VzT2Zmc2V0O1xuXG4gIC8vIEluIEZpcmVmb3gsIGFuY2hvck5vZGUgYW5kIGZvY3VzTm9kZSBjYW4gYmUgXCJhbm9ueW1vdXMgZGl2c1wiLCBlLmcuIHRoZVxuICAvLyB1cC9kb3duIGJ1dHRvbnMgb24gYW4gPGlucHV0IHR5cGU9XCJudW1iZXJcIj4uIEFub255bW91cyBkaXZzIGRvIG5vdCBzZWVtIHRvXG4gIC8vIGV4cG9zZSBwcm9wZXJ0aWVzLCB0cmlnZ2VyaW5nIGEgXCJQZXJtaXNzaW9uIGRlbmllZCBlcnJvclwiIGlmIGFueSBvZiBpdHNcbiAgLy8gcHJvcGVydGllcyBhcmUgYWNjZXNzZWQuIFRoZSBvbmx5IHNlZW1pbmdseSBwb3NzaWJsZSB3YXkgdG8gYXZvaWQgZXJyb3JpbmdcbiAgLy8gaXMgdG8gYWNjZXNzIGEgcHJvcGVydHkgdGhhdCB0eXBpY2FsbHkgd29ya3MgZm9yIG5vbi1hbm9ueW1vdXMgZGl2cyBhbmRcbiAgLy8gY2F0Y2ggYW55IGVycm9yIHRoYXQgbWF5IG90aGVyd2lzZSBhcmlzZS4gU2VlXG4gIC8vIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTIwODQyN1xuXG4gIHRyeSB7XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLWV4cHJlc3Npb25zICovXG4gICAgYW5jaG9yTm9kZS5ub2RlVHlwZTtcbiAgICBmb2N1c05vZGUubm9kZVR5cGU7XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGdldE1vZGVybk9mZnNldHNGcm9tUG9pbnRzKG91dGVyTm9kZSwgYW5jaG9yTm9kZSwgYW5jaG9yT2Zmc2V0LCBmb2N1c05vZGUsIGZvY3VzT2Zmc2V0KTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHtzdGFydCwgZW5kfSB3aGVyZSBgc3RhcnRgIGlzIHRoZSBjaGFyYWN0ZXIvY29kZXBvaW50IGluZGV4IG9mXG4gKiAoYW5jaG9yTm9kZSwgYW5jaG9yT2Zmc2V0KSB3aXRoaW4gdGhlIHRleHRDb250ZW50IG9mIGBvdXRlck5vZGVgLCBhbmRcbiAqIGBlbmRgIGlzIHRoZSBpbmRleCBvZiAoZm9jdXNOb2RlLCBmb2N1c09mZnNldCkuXG4gKlxuICogUmV0dXJucyBudWxsIGlmIHlvdSBwYXNzIGluIGdhcmJhZ2UgaW5wdXQgYnV0IHdlIHNob3VsZCBwcm9iYWJseSBqdXN0IGNyYXNoLlxuICpcbiAqIEV4cG9ydGVkIG9ubHkgZm9yIHRlc3RpbmcuXG4gKi9cbmZ1bmN0aW9uIGdldE1vZGVybk9mZnNldHNGcm9tUG9pbnRzKG91dGVyTm9kZSwgYW5jaG9yTm9kZSwgYW5jaG9yT2Zmc2V0LCBmb2N1c05vZGUsIGZvY3VzT2Zmc2V0KSB7XG4gIHZhciBsZW5ndGggPSAwO1xuICB2YXIgc3RhcnQgPSAtMTtcbiAgdmFyIGVuZCA9IC0xO1xuICB2YXIgaW5kZXhXaXRoaW5BbmNob3IgPSAwO1xuICB2YXIgaW5kZXhXaXRoaW5Gb2N1cyA9IDA7XG4gIHZhciBub2RlID0gb3V0ZXJOb2RlO1xuICB2YXIgcGFyZW50Tm9kZSA9IG51bGw7XG5cbiAgb3V0ZXI6IHdoaWxlICh0cnVlKSB7XG4gICAgdmFyIG5leHQgPSBudWxsO1xuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmIChub2RlID09PSBhbmNob3JOb2RlICYmIChhbmNob3JPZmZzZXQgPT09IDAgfHwgbm9kZS5ub2RlVHlwZSA9PT0gVEVYVF9OT0RFKSkge1xuICAgICAgICBzdGFydCA9IGxlbmd0aCArIGFuY2hvck9mZnNldDtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlID09PSBmb2N1c05vZGUgJiYgKGZvY3VzT2Zmc2V0ID09PSAwIHx8IG5vZGUubm9kZVR5cGUgPT09IFRFWFRfTk9ERSkpIHtcbiAgICAgICAgZW5kID0gbGVuZ3RoICsgZm9jdXNPZmZzZXQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBURVhUX05PREUpIHtcbiAgICAgICAgbGVuZ3RoICs9IG5vZGUubm9kZVZhbHVlLmxlbmd0aDtcbiAgICAgIH1cblxuICAgICAgaWYgKChuZXh0ID0gbm9kZS5maXJzdENoaWxkKSA9PT0gbnVsbCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8vIE1vdmluZyBmcm9tIGBub2RlYCB0byBpdHMgZmlyc3QgY2hpbGQgYG5leHRgLlxuICAgICAgcGFyZW50Tm9kZSA9IG5vZGU7XG4gICAgICBub2RlID0gbmV4dDtcbiAgICB9XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKG5vZGUgPT09IG91dGVyTm9kZSkge1xuICAgICAgICAvLyBJZiBgb3V0ZXJOb2RlYCBoYXMgY2hpbGRyZW4sIHRoaXMgaXMgYWx3YXlzIHRoZSBzZWNvbmQgdGltZSB2aXNpdGluZ1xuICAgICAgICAvLyBpdC4gSWYgaXQgaGFzIG5vIGNoaWxkcmVuLCB0aGlzIGlzIHN0aWxsIHRoZSBmaXJzdCBsb29wLCBhbmQgdGhlIG9ubHlcbiAgICAgICAgLy8gdmFsaWQgc2VsZWN0aW9uIGlzIGFuY2hvck5vZGUgYW5kIGZvY3VzTm9kZSBib3RoIGVxdWFsIHRvIHRoaXMgbm9kZVxuICAgICAgICAvLyBhbmQgYm90aCBvZmZzZXRzIDAsIGluIHdoaWNoIGNhc2Ugd2Ugd2lsbCBoYXZlIGhhbmRsZWQgYWJvdmUuXG4gICAgICAgIGJyZWFrIG91dGVyO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmVudE5vZGUgPT09IGFuY2hvck5vZGUgJiYgKytpbmRleFdpdGhpbkFuY2hvciA9PT0gYW5jaG9yT2Zmc2V0KSB7XG4gICAgICAgIHN0YXJ0ID0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmVudE5vZGUgPT09IGZvY3VzTm9kZSAmJiArK2luZGV4V2l0aGluRm9jdXMgPT09IGZvY3VzT2Zmc2V0KSB7XG4gICAgICAgIGVuZCA9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGlmICgobmV4dCA9IG5vZGUubmV4dFNpYmxpbmcpICE9PSBudWxsKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgbm9kZSA9IHBhcmVudE5vZGU7XG4gICAgICBwYXJlbnROb2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIH1cblxuICAgIC8vIE1vdmluZyBmcm9tIGBub2RlYCB0byBpdHMgbmV4dCBzaWJsaW5nIGBuZXh0YC5cbiAgICBub2RlID0gbmV4dDtcbiAgfVxuXG4gIGlmIChzdGFydCA9PT0gLTEgfHwgZW5kID09PSAtMSkge1xuICAgIC8vIFRoaXMgc2hvdWxkIG5ldmVyIGhhcHBlbi4gKFdvdWxkIGhhcHBlbiBpZiB0aGUgYW5jaG9yL2ZvY3VzIG5vZGVzIGFyZW4ndFxuICAgIC8vIGFjdHVhbGx5IGluc2lkZSB0aGUgcGFzc2VkLWluIG5vZGUuKVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzdGFydDogc3RhcnQsXG4gICAgZW5kOiBlbmRcbiAgfTtcbn1cblxuLyoqXG4gKiBJbiBtb2Rlcm4gbm9uLUlFIGJyb3dzZXJzLCB3ZSBjYW4gc3VwcG9ydCBib3RoIGZvcndhcmQgYW5kIGJhY2t3YXJkXG4gKiBzZWxlY3Rpb25zLlxuICpcbiAqIE5vdGU6IElFMTArIHN1cHBvcnRzIHRoZSBTZWxlY3Rpb24gb2JqZWN0LCBidXQgaXQgZG9lcyBub3Qgc3VwcG9ydFxuICogdGhlIGBleHRlbmRgIG1ldGhvZCwgd2hpY2ggbWVhbnMgdGhhdCBldmVuIGluIG1vZGVybiBJRSwgaXQncyBub3QgcG9zc2libGVcbiAqIHRvIHByb2dyYW1tYXRpY2FsbHkgY3JlYXRlIGEgYmFja3dhcmQgc2VsZWN0aW9uLiBUaHVzLCBmb3IgYWxsIElFXG4gKiB2ZXJzaW9ucywgd2UgdXNlIHRoZSBvbGQgSUUgQVBJIHRvIGNyZWF0ZSBvdXIgc2VsZWN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9IG5vZGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBvZmZzZXRzXG4gKi9cbmZ1bmN0aW9uIHNldE9mZnNldHMobm9kZSwgb2Zmc2V0cykge1xuICBpZiAoIXdpbmRvdy5nZXRTZWxlY3Rpb24pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICB2YXIgbGVuZ3RoID0gbm9kZVtnZXRUZXh0Q29udGVudEFjY2Vzc29yKCldLmxlbmd0aDtcbiAgdmFyIHN0YXJ0ID0gTWF0aC5taW4ob2Zmc2V0cy5zdGFydCwgbGVuZ3RoKTtcbiAgdmFyIGVuZCA9IG9mZnNldHMuZW5kID09PSB1bmRlZmluZWQgPyBzdGFydCA6IE1hdGgubWluKG9mZnNldHMuZW5kLCBsZW5ndGgpO1xuXG4gIC8vIElFIDExIHVzZXMgbW9kZXJuIHNlbGVjdGlvbiwgYnV0IGRvZXNuJ3Qgc3VwcG9ydCB0aGUgZXh0ZW5kIG1ldGhvZC5cbiAgLy8gRmxpcCBiYWNrd2FyZCBzZWxlY3Rpb25zLCBzbyB3ZSBjYW4gc2V0IHdpdGggYSBzaW5nbGUgcmFuZ2UuXG4gIGlmICghc2VsZWN0aW9uLmV4dGVuZCAmJiBzdGFydCA+IGVuZCkge1xuICAgIHZhciB0ZW1wID0gZW5kO1xuICAgIGVuZCA9IHN0YXJ0O1xuICAgIHN0YXJ0ID0gdGVtcDtcbiAgfVxuXG4gIHZhciBzdGFydE1hcmtlciA9IGdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQobm9kZSwgc3RhcnQpO1xuICB2YXIgZW5kTWFya2VyID0gZ2V0Tm9kZUZvckNoYXJhY3Rlck9mZnNldChub2RlLCBlbmQpO1xuXG4gIGlmIChzdGFydE1hcmtlciAmJiBlbmRNYXJrZXIpIHtcbiAgICBpZiAoc2VsZWN0aW9uLnJhbmdlQ291bnQgPT09IDEgJiYgc2VsZWN0aW9uLmFuY2hvck5vZGUgPT09IHN0YXJ0TWFya2VyLm5vZGUgJiYgc2VsZWN0aW9uLmFuY2hvck9mZnNldCA9PT0gc3RhcnRNYXJrZXIub2Zmc2V0ICYmIHNlbGVjdGlvbi5mb2N1c05vZGUgPT09IGVuZE1hcmtlci5ub2RlICYmIHNlbGVjdGlvbi5mb2N1c09mZnNldCA9PT0gZW5kTWFya2VyLm9mZnNldCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgIHJhbmdlLnNldFN0YXJ0KHN0YXJ0TWFya2VyLm5vZGUsIHN0YXJ0TWFya2VyLm9mZnNldCk7XG4gICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuXG4gICAgaWYgKHN0YXJ0ID4gZW5kKSB7XG4gICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xuICAgICAgc2VsZWN0aW9uLmV4dGVuZChlbmRNYXJrZXIubm9kZSwgZW5kTWFya2VyLm9mZnNldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJhbmdlLnNldEVuZChlbmRNYXJrZXIubm9kZSwgZW5kTWFya2VyLm9mZnNldCk7XG4gICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpc0luRG9jdW1lbnQobm9kZSkge1xuICByZXR1cm4gY29udGFpbnNOb2RlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgbm9kZSk7XG59XG5cbi8qKlxuICogQFJlYWN0SW5wdXRTZWxlY3Rpb246IFJlYWN0IGlucHV0IHNlbGVjdGlvbiBtb2R1bGUuIEJhc2VkIG9uIFNlbGVjdGlvbi5qcyxcbiAqIGJ1dCBtb2RpZmllZCB0byBiZSBzdWl0YWJsZSBmb3IgcmVhY3QgYW5kIGhhcyBhIGNvdXBsZSBvZiBidWcgZml4ZXMgKGRvZXNuJ3RcbiAqIGFzc3VtZSBidXR0b25zIGhhdmUgcmFuZ2Ugc2VsZWN0aW9ucyBhbGxvd2VkKS5cbiAqIElucHV0IHNlbGVjdGlvbiBtb2R1bGUgZm9yIFJlYWN0LlxuICovXG5cbmZ1bmN0aW9uIGhhc1NlbGVjdGlvbkNhcGFiaWxpdGllcyhlbGVtKSB7XG4gIHZhciBub2RlTmFtZSA9IGVsZW0gJiYgZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiBub2RlTmFtZSAmJiAobm9kZU5hbWUgPT09ICdpbnB1dCcgJiYgZWxlbS50eXBlID09PSAndGV4dCcgfHwgbm9kZU5hbWUgPT09ICd0ZXh0YXJlYScgfHwgZWxlbS5jb250ZW50RWRpdGFibGUgPT09ICd0cnVlJyk7XG59XG5cbmZ1bmN0aW9uIGdldFNlbGVjdGlvbkluZm9ybWF0aW9uKCkge1xuICB2YXIgZm9jdXNlZEVsZW0gPSBnZXRBY3RpdmVFbGVtZW50KCk7XG4gIHJldHVybiB7XG4gICAgZm9jdXNlZEVsZW06IGZvY3VzZWRFbGVtLFxuICAgIHNlbGVjdGlvblJhbmdlOiBoYXNTZWxlY3Rpb25DYXBhYmlsaXRpZXMoZm9jdXNlZEVsZW0pID8gZ2V0U2VsZWN0aW9uJDEoZm9jdXNlZEVsZW0pIDogbnVsbFxuICB9O1xufVxuXG4vKipcbiAqIEByZXN0b3JlU2VsZWN0aW9uOiBJZiBhbnkgc2VsZWN0aW9uIGluZm9ybWF0aW9uIHdhcyBwb3RlbnRpYWxseSBsb3N0LFxuICogcmVzdG9yZSBpdC4gVGhpcyBpcyB1c2VmdWwgd2hlbiBwZXJmb3JtaW5nIG9wZXJhdGlvbnMgdGhhdCBjb3VsZCByZW1vdmUgZG9tXG4gKiBub2RlcyBhbmQgcGxhY2UgdGhlbSBiYWNrIGluLCByZXN1bHRpbmcgaW4gZm9jdXMgYmVpbmcgbG9zdC5cbiAqL1xuZnVuY3Rpb24gcmVzdG9yZVNlbGVjdGlvbihwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uKSB7XG4gIHZhciBjdXJGb2N1c2VkRWxlbSA9IGdldEFjdGl2ZUVsZW1lbnQoKTtcbiAgdmFyIHByaW9yRm9jdXNlZEVsZW0gPSBwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uLmZvY3VzZWRFbGVtO1xuICB2YXIgcHJpb3JTZWxlY3Rpb25SYW5nZSA9IHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24uc2VsZWN0aW9uUmFuZ2U7XG4gIGlmIChjdXJGb2N1c2VkRWxlbSAhPT0gcHJpb3JGb2N1c2VkRWxlbSAmJiBpc0luRG9jdW1lbnQocHJpb3JGb2N1c2VkRWxlbSkpIHtcbiAgICBpZiAoaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzKHByaW9yRm9jdXNlZEVsZW0pKSB7XG4gICAgICBzZXRTZWxlY3Rpb24ocHJpb3JGb2N1c2VkRWxlbSwgcHJpb3JTZWxlY3Rpb25SYW5nZSk7XG4gICAgfVxuXG4gICAgLy8gRm9jdXNpbmcgYSBub2RlIGNhbiBjaGFuZ2UgdGhlIHNjcm9sbCBwb3NpdGlvbiwgd2hpY2ggaXMgdW5kZXNpcmFibGVcbiAgICB2YXIgYW5jZXN0b3JzID0gW107XG4gICAgdmFyIGFuY2VzdG9yID0gcHJpb3JGb2N1c2VkRWxlbTtcbiAgICB3aGlsZSAoYW5jZXN0b3IgPSBhbmNlc3Rvci5wYXJlbnROb2RlKSB7XG4gICAgICBpZiAoYW5jZXN0b3Iubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSkge1xuICAgICAgICBhbmNlc3RvcnMucHVzaCh7XG4gICAgICAgICAgZWxlbWVudDogYW5jZXN0b3IsXG4gICAgICAgICAgbGVmdDogYW5jZXN0b3Iuc2Nyb2xsTGVmdCxcbiAgICAgICAgICB0b3A6IGFuY2VzdG9yLnNjcm9sbFRvcFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwcmlvckZvY3VzZWRFbGVtLmZvY3VzKCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFuY2VzdG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGluZm8gPSBhbmNlc3RvcnNbaV07XG4gICAgICBpbmZvLmVsZW1lbnQuc2Nyb2xsTGVmdCA9IGluZm8ubGVmdDtcbiAgICAgIGluZm8uZWxlbWVudC5zY3JvbGxUb3AgPSBpbmZvLnRvcDtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAZ2V0U2VsZWN0aW9uOiBHZXRzIHRoZSBzZWxlY3Rpb24gYm91bmRzIG9mIGEgZm9jdXNlZCB0ZXh0YXJlYSwgaW5wdXQgb3JcbiAqIGNvbnRlbnRFZGl0YWJsZSBub2RlLlxuICogLUBpbnB1dDogTG9vayB1cCBzZWxlY3Rpb24gYm91bmRzIG9mIHRoaXMgaW5wdXRcbiAqIC1AcmV0dXJuIHtzdGFydDogc2VsZWN0aW9uU3RhcnQsIGVuZDogc2VsZWN0aW9uRW5kfVxuICovXG5mdW5jdGlvbiBnZXRTZWxlY3Rpb24kMShpbnB1dCkge1xuICB2YXIgc2VsZWN0aW9uID0gdm9pZCAwO1xuXG4gIGlmICgnc2VsZWN0aW9uU3RhcnQnIGluIGlucHV0KSB7XG4gICAgLy8gTW9kZXJuIGJyb3dzZXIgd2l0aCBpbnB1dCBvciB0ZXh0YXJlYS5cbiAgICBzZWxlY3Rpb24gPSB7XG4gICAgICBzdGFydDogaW5wdXQuc2VsZWN0aW9uU3RhcnQsXG4gICAgICBlbmQ6IGlucHV0LnNlbGVjdGlvbkVuZFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgLy8gQ29udGVudCBlZGl0YWJsZSBvciBvbGQgSUUgdGV4dGFyZWEuXG4gICAgc2VsZWN0aW9uID0gZ2V0T2Zmc2V0cyhpbnB1dCk7XG4gIH1cblxuICByZXR1cm4gc2VsZWN0aW9uIHx8IHsgc3RhcnQ6IDAsIGVuZDogMCB9O1xufVxuXG4vKipcbiAqIEBzZXRTZWxlY3Rpb246IFNldHMgdGhlIHNlbGVjdGlvbiBib3VuZHMgb2YgYSB0ZXh0YXJlYSBvciBpbnB1dCBhbmQgZm9jdXNlc1xuICogdGhlIGlucHV0LlxuICogLUBpbnB1dCAgICAgU2V0IHNlbGVjdGlvbiBib3VuZHMgb2YgdGhpcyBpbnB1dCBvciB0ZXh0YXJlYVxuICogLUBvZmZzZXRzICAgT2JqZWN0IG9mIHNhbWUgZm9ybSB0aGF0IGlzIHJldHVybmVkIGZyb20gZ2V0KlxuICovXG5mdW5jdGlvbiBzZXRTZWxlY3Rpb24oaW5wdXQsIG9mZnNldHMpIHtcbiAgdmFyIHN0YXJ0ID0gb2Zmc2V0cy5zdGFydCxcbiAgICAgIGVuZCA9IG9mZnNldHMuZW5kO1xuXG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuZCA9IHN0YXJ0O1xuICB9XG5cbiAgaWYgKCdzZWxlY3Rpb25TdGFydCcgaW4gaW5wdXQpIHtcbiAgICBpbnB1dC5zZWxlY3Rpb25TdGFydCA9IHN0YXJ0O1xuICAgIGlucHV0LnNlbGVjdGlvbkVuZCA9IE1hdGgubWluKGVuZCwgaW5wdXQudmFsdWUubGVuZ3RoKTtcbiAgfSBlbHNlIHtcbiAgICBzZXRPZmZzZXRzKGlucHV0LCBvZmZzZXRzKTtcbiAgfVxufVxuXG52YXIgc2tpcFNlbGVjdGlvbkNoYW5nZUV2ZW50ID0gRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmICdkb2N1bWVudE1vZGUnIGluIGRvY3VtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50TW9kZSA8PSAxMTtcblxudmFyIGV2ZW50VHlwZXMkMyA9IHtcbiAgc2VsZWN0OiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6ICdvblNlbGVjdCcsXG4gICAgICBjYXB0dXJlZDogJ29uU2VsZWN0Q2FwdHVyZSdcbiAgICB9LFxuICAgIGRlcGVuZGVuY2llczogWyd0b3BCbHVyJywgJ3RvcENvbnRleHRNZW51JywgJ3RvcEZvY3VzJywgJ3RvcEtleURvd24nLCAndG9wS2V5VXAnLCAndG9wTW91c2VEb3duJywgJ3RvcE1vdXNlVXAnLCAndG9wU2VsZWN0aW9uQ2hhbmdlJ11cbiAgfVxufTtcblxudmFyIGFjdGl2ZUVsZW1lbnQkMSA9IG51bGw7XG52YXIgYWN0aXZlRWxlbWVudEluc3QkMSA9IG51bGw7XG52YXIgbGFzdFNlbGVjdGlvbiA9IG51bGw7XG52YXIgbW91c2VEb3duID0gZmFsc2U7XG5cbi8qKlxuICogR2V0IGFuIG9iamVjdCB3aGljaCBpcyBhIHVuaXF1ZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG4gKlxuICogVGhlIHJldHVybiB2YWx1ZSB3aWxsIG5vdCBiZSBjb25zaXN0ZW50IGFjcm9zcyBub2RlcyBvciBicm93c2VycywgYnV0XG4gKiB0d28gaWRlbnRpY2FsIHNlbGVjdGlvbnMgb24gdGhlIHNhbWUgbm9kZSB3aWxsIHJldHVybiBpZGVudGljYWwgb2JqZWN0cy5cbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IG5vZGVcbiAqIEByZXR1cm4ge29iamVjdH1cbiAqL1xuZnVuY3Rpb24gZ2V0U2VsZWN0aW9uKG5vZGUpIHtcbiAgaWYgKCdzZWxlY3Rpb25TdGFydCcgaW4gbm9kZSAmJiBoYXNTZWxlY3Rpb25DYXBhYmlsaXRpZXMobm9kZSkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhcnQ6IG5vZGUuc2VsZWN0aW9uU3RhcnQsXG4gICAgICBlbmQ6IG5vZGUuc2VsZWN0aW9uRW5kXG4gICAgfTtcbiAgfSBlbHNlIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XG4gICAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICByZXR1cm4ge1xuICAgICAgYW5jaG9yTm9kZTogc2VsZWN0aW9uLmFuY2hvck5vZGUsXG4gICAgICBhbmNob3JPZmZzZXQ6IHNlbGVjdGlvbi5hbmNob3JPZmZzZXQsXG4gICAgICBmb2N1c05vZGU6IHNlbGVjdGlvbi5mb2N1c05vZGUsXG4gICAgICBmb2N1c09mZnNldDogc2VsZWN0aW9uLmZvY3VzT2Zmc2V0XG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIFBvbGwgc2VsZWN0aW9uIHRvIHNlZSB3aGV0aGVyIGl0J3MgY2hhbmdlZC5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnRcbiAqIEByZXR1cm4gez9TeW50aGV0aWNFdmVudH1cbiAqL1xuZnVuY3Rpb24gY29uc3RydWN0U2VsZWN0RXZlbnQobmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gIC8vIEVuc3VyZSB3ZSBoYXZlIHRoZSByaWdodCBlbGVtZW50LCBhbmQgdGhhdCB0aGUgdXNlciBpcyBub3QgZHJhZ2dpbmcgYVxuICAvLyBzZWxlY3Rpb24gKHRoaXMgbWF0Y2hlcyBuYXRpdmUgYHNlbGVjdGAgZXZlbnQgYmVoYXZpb3IpLiBJbiBIVE1MNSwgc2VsZWN0XG4gIC8vIGZpcmVzIG9ubHkgb24gaW5wdXQgYW5kIHRleHRhcmVhIHRodXMgaWYgdGhlcmUncyBubyBmb2N1c2VkIGVsZW1lbnQgd2VcbiAgLy8gd29uJ3QgZGlzcGF0Y2guXG4gIGlmIChtb3VzZURvd24gfHwgYWN0aXZlRWxlbWVudCQxID09IG51bGwgfHwgYWN0aXZlRWxlbWVudCQxICE9PSBnZXRBY3RpdmVFbGVtZW50KCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIE9ubHkgZmlyZSB3aGVuIHNlbGVjdGlvbiBoYXMgYWN0dWFsbHkgY2hhbmdlZC5cbiAgdmFyIGN1cnJlbnRTZWxlY3Rpb24gPSBnZXRTZWxlY3Rpb24oYWN0aXZlRWxlbWVudCQxKTtcbiAgaWYgKCFsYXN0U2VsZWN0aW9uIHx8ICFzaGFsbG93RXF1YWwobGFzdFNlbGVjdGlvbiwgY3VycmVudFNlbGVjdGlvbikpIHtcbiAgICBsYXN0U2VsZWN0aW9uID0gY3VycmVudFNlbGVjdGlvbjtcblxuICAgIHZhciBzeW50aGV0aWNFdmVudCA9IFN5bnRoZXRpY0V2ZW50JDEuZ2V0UG9vbGVkKGV2ZW50VHlwZXMkMy5zZWxlY3QsIGFjdGl2ZUVsZW1lbnRJbnN0JDEsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG5cbiAgICBzeW50aGV0aWNFdmVudC50eXBlID0gJ3NlbGVjdCc7XG4gICAgc3ludGhldGljRXZlbnQudGFyZ2V0ID0gYWN0aXZlRWxlbWVudCQxO1xuXG4gICAgYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyhzeW50aGV0aWNFdmVudCk7XG5cbiAgICByZXR1cm4gc3ludGhldGljRXZlbnQ7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBUaGlzIHBsdWdpbiBjcmVhdGVzIGFuIGBvblNlbGVjdGAgZXZlbnQgdGhhdCBub3JtYWxpemVzIHNlbGVjdCBldmVudHNcbiAqIGFjcm9zcyBmb3JtIGVsZW1lbnRzLlxuICpcbiAqIFN1cHBvcnRlZCBlbGVtZW50cyBhcmU6XG4gKiAtIGlucHV0IChzZWUgYGlzVGV4dElucHV0RWxlbWVudGApXG4gKiAtIHRleHRhcmVhXG4gKiAtIGNvbnRlbnRFZGl0YWJsZVxuICpcbiAqIFRoaXMgZGlmZmVycyBmcm9tIG5hdGl2ZSBicm93c2VyIGltcGxlbWVudGF0aW9ucyBpbiB0aGUgZm9sbG93aW5nIHdheXM6XG4gKiAtIEZpcmVzIG9uIGNvbnRlbnRFZGl0YWJsZSBmaWVsZHMgYXMgd2VsbCBhcyBpbnB1dHMuXG4gKiAtIEZpcmVzIGZvciBjb2xsYXBzZWQgc2VsZWN0aW9uLlxuICogLSBGaXJlcyBhZnRlciB1c2VyIGlucHV0LlxuICovXG52YXIgU2VsZWN0RXZlbnRQbHVnaW4gPSB7XG4gIGV2ZW50VHlwZXM6IGV2ZW50VHlwZXMkMyxcblxuICBleHRyYWN0RXZlbnRzOiBmdW5jdGlvbiAodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICB2YXIgZG9jID0gbmF0aXZlRXZlbnRUYXJnZXQud2luZG93ID09PSBuYXRpdmVFdmVudFRhcmdldCA/IG5hdGl2ZUV2ZW50VGFyZ2V0LmRvY3VtZW50IDogbmF0aXZlRXZlbnRUYXJnZXQubm9kZVR5cGUgPT09IERPQ1VNRU5UX05PREUgPyBuYXRpdmVFdmVudFRhcmdldCA6IG5hdGl2ZUV2ZW50VGFyZ2V0Lm93bmVyRG9jdW1lbnQ7XG4gICAgLy8gVHJhY2sgd2hldGhlciBhbGwgbGlzdGVuZXJzIGV4aXN0cyBmb3IgdGhpcyBwbHVnaW4uIElmIG5vbmUgZXhpc3QsIHdlIGRvXG4gICAgLy8gbm90IGV4dHJhY3QgZXZlbnRzLiBTZWUgIzM2MzkuXG4gICAgaWYgKCFkb2MgfHwgIWlzTGlzdGVuaW5nVG9BbGxEZXBlbmRlbmNpZXMoJ29uU2VsZWN0JywgZG9jKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHRhcmdldE5vZGUgPSB0YXJnZXRJbnN0ID8gZ2V0Tm9kZUZyb21JbnN0YW5jZSQxKHRhcmdldEluc3QpIDogd2luZG93O1xuXG4gICAgc3dpdGNoICh0b3BMZXZlbFR5cGUpIHtcbiAgICAgIC8vIFRyYWNrIHRoZSBpbnB1dCBub2RlIHRoYXQgaGFzIGZvY3VzLlxuICAgICAgY2FzZSAndG9wRm9jdXMnOlxuICAgICAgICBpZiAoaXNUZXh0SW5wdXRFbGVtZW50KHRhcmdldE5vZGUpIHx8IHRhcmdldE5vZGUuY29udGVudEVkaXRhYmxlID09PSAndHJ1ZScpIHtcbiAgICAgICAgICBhY3RpdmVFbGVtZW50JDEgPSB0YXJnZXROb2RlO1xuICAgICAgICAgIGFjdGl2ZUVsZW1lbnRJbnN0JDEgPSB0YXJnZXRJbnN0O1xuICAgICAgICAgIGxhc3RTZWxlY3Rpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndG9wQmx1cic6XG4gICAgICAgIGFjdGl2ZUVsZW1lbnQkMSA9IG51bGw7XG4gICAgICAgIGFjdGl2ZUVsZW1lbnRJbnN0JDEgPSBudWxsO1xuICAgICAgICBsYXN0U2VsZWN0aW9uID0gbnVsbDtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBEb24ndCBmaXJlIHRoZSBldmVudCB3aGlsZSB0aGUgdXNlciBpcyBkcmFnZ2luZy4gVGhpcyBtYXRjaGVzIHRoZVxuICAgICAgLy8gc2VtYW50aWNzIG9mIHRoZSBuYXRpdmUgc2VsZWN0IGV2ZW50LlxuICAgICAgY2FzZSAndG9wTW91c2VEb3duJzpcbiAgICAgICAgbW91c2VEb3duID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0b3BDb250ZXh0TWVudSc6XG4gICAgICBjYXNlICd0b3BNb3VzZVVwJzpcbiAgICAgICAgbW91c2VEb3duID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3RTZWxlY3RFdmVudChuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgICAgLy8gQ2hyb21lIGFuZCBJRSBmaXJlIG5vbi1zdGFuZGFyZCBldmVudCB3aGVuIHNlbGVjdGlvbiBpcyBjaGFuZ2VkIChhbmRcbiAgICAgIC8vIHNvbWV0aW1lcyB3aGVuIGl0IGhhc24ndCkuIElFJ3MgZXZlbnQgZmlyZXMgb3V0IG9mIG9yZGVyIHdpdGggcmVzcGVjdFxuICAgICAgLy8gdG8ga2V5IGFuZCBpbnB1dCBldmVudHMgb24gZGVsZXRpb24sIHNvIHdlIGRpc2NhcmQgaXQuXG4gICAgICAvL1xuICAgICAgLy8gRmlyZWZveCBkb2Vzbid0IHN1cHBvcnQgc2VsZWN0aW9uY2hhbmdlLCBzbyBjaGVjayBzZWxlY3Rpb24gc3RhdHVzXG4gICAgICAvLyBhZnRlciBlYWNoIGtleSBlbnRyeS4gVGhlIHNlbGVjdGlvbiBjaGFuZ2VzIGFmdGVyIGtleWRvd24gYW5kIGJlZm9yZVxuICAgICAgLy8ga2V5dXAsIGJ1dCB3ZSBjaGVjayBvbiBrZXlkb3duIGFzIHdlbGwgaW4gdGhlIGNhc2Ugb2YgaG9sZGluZyBkb3duIGFcbiAgICAgIC8vIGtleSwgd2hlbiBtdWx0aXBsZSBrZXlkb3duIGV2ZW50cyBhcmUgZmlyZWQgYnV0IG9ubHkgb25lIGtleXVwIGlzLlxuICAgICAgLy8gVGhpcyBpcyBhbHNvIG91ciBhcHByb2FjaCBmb3IgSUUgaGFuZGxpbmcsIGZvciB0aGUgcmVhc29uIGFib3ZlLlxuICAgICAgY2FzZSAndG9wU2VsZWN0aW9uQ2hhbmdlJzpcbiAgICAgICAgaWYgKHNraXBTZWxlY3Rpb25DaGFuZ2VFdmVudCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAvLyBmYWxscyB0aHJvdWdoXG4gICAgICBjYXNlICd0b3BLZXlEb3duJzpcbiAgICAgIGNhc2UgJ3RvcEtleVVwJzpcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdFNlbGVjdEV2ZW50KG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogSW5qZWN0IG1vZHVsZXMgZm9yIHJlc29sdmluZyBET00gaGllcmFyY2h5IGFuZCBwbHVnaW4gb3JkZXJpbmcuXG4gKi9cbmluamVjdGlvbi5pbmplY3RFdmVudFBsdWdpbk9yZGVyKERPTUV2ZW50UGx1Z2luT3JkZXIpO1xuaW5qZWN0aW9uJDEuaW5qZWN0Q29tcG9uZW50VHJlZShSZWFjdERPTUNvbXBvbmVudFRyZWUpO1xuXG4vKipcbiAqIFNvbWUgaW1wb3J0YW50IGV2ZW50IHBsdWdpbnMgaW5jbHVkZWQgYnkgZGVmYXVsdCAod2l0aG91dCBoYXZpbmcgdG8gcmVxdWlyZVxuICogdGhlbSkuXG4gKi9cbmluamVjdGlvbi5pbmplY3RFdmVudFBsdWdpbnNCeU5hbWUoe1xuICBTaW1wbGVFdmVudFBsdWdpbjogU2ltcGxlRXZlbnRQbHVnaW4sXG4gIEVudGVyTGVhdmVFdmVudFBsdWdpbjogRW50ZXJMZWF2ZUV2ZW50UGx1Z2luLFxuICBDaGFuZ2VFdmVudFBsdWdpbjogQ2hhbmdlRXZlbnRQbHVnaW4sXG4gIFNlbGVjdEV2ZW50UGx1Z2luOiBTZWxlY3RFdmVudFBsdWdpbixcbiAgQmVmb3JlSW5wdXRFdmVudFBsdWdpbjogQmVmb3JlSW5wdXRFdmVudFBsdWdpblxufSk7XG5cbi8vIE1heCAzMSBiaXQgaW50ZWdlci4gVGhlIG1heCBpbnRlZ2VyIHNpemUgaW4gVjggZm9yIDMyLWJpdCBzeXN0ZW1zLlxuLy8gTWF0aC5wb3coMiwgMzApIC0gMVxuLy8gMGIxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTFcbnZhciBNQVhfU0lHTkVEXzMxX0JJVF9JTlQgPSAxMDczNzQxODIzO1xuXG4vLyBUT0RPOiBVc2UgYW4gb3BhcXVlIHR5cGUgb25jZSBFU0xpbnQgZXQgYWwgc3VwcG9ydCB0aGUgc3ludGF4XG5cblxudmFyIE5vV29yayA9IDA7XG52YXIgU3luYyA9IDE7XG52YXIgTmV2ZXIgPSBNQVhfU0lHTkVEXzMxX0JJVF9JTlQ7XG5cbnZhciBVTklUX1NJWkUgPSAxMDtcbnZhciBNQUdJQ19OVU1CRVJfT0ZGU0VUID0gMjtcblxuLy8gMSB1bml0IG9mIGV4cGlyYXRpb24gdGltZSByZXByZXNlbnRzIDEwbXMuXG5mdW5jdGlvbiBtc1RvRXhwaXJhdGlvblRpbWUobXMpIHtcbiAgLy8gQWx3YXlzIGFkZCBhbiBvZmZzZXQgc28gdGhhdCB3ZSBkb24ndCBjbGFzaCB3aXRoIHRoZSBtYWdpYyBudW1iZXIgZm9yIE5vV29yay5cbiAgcmV0dXJuIChtcyAvIFVOSVRfU0laRSB8IDApICsgTUFHSUNfTlVNQkVSX09GRlNFVDtcbn1cblxuZnVuY3Rpb24gZXhwaXJhdGlvblRpbWVUb01zKGV4cGlyYXRpb25UaW1lKSB7XG4gIHJldHVybiAoZXhwaXJhdGlvblRpbWUgLSBNQUdJQ19OVU1CRVJfT0ZGU0VUKSAqIFVOSVRfU0laRTtcbn1cblxuZnVuY3Rpb24gY2VpbGluZyhudW0sIHByZWNpc2lvbikge1xuICByZXR1cm4gKChudW0gLyBwcmVjaXNpb24gfCAwKSArIDEpICogcHJlY2lzaW9uO1xufVxuXG5mdW5jdGlvbiBjb21wdXRlRXhwaXJhdGlvbkJ1Y2tldChjdXJyZW50VGltZSwgZXhwaXJhdGlvbkluTXMsIGJ1Y2tldFNpemVNcykge1xuICByZXR1cm4gY2VpbGluZyhjdXJyZW50VGltZSArIGV4cGlyYXRpb25Jbk1zIC8gVU5JVF9TSVpFLCBidWNrZXRTaXplTXMgLyBVTklUX1NJWkUpO1xufVxuXG52YXIgTm9Db250ZXh0ID0gMDtcbnZhciBBc3luY01vZGUgPSAxO1xudmFyIFN0cmljdE1vZGUgPSAyO1xuXG52YXIgaGFzQmFkTWFwUG9seWZpbGwgPSB2b2lkIDA7XG5cbntcbiAgaGFzQmFkTWFwUG9seWZpbGwgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICB2YXIgbm9uRXh0ZW5zaWJsZU9iamVjdCA9IE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSk7XG4gICAgdmFyIHRlc3RNYXAgPSBuZXcgTWFwKFtbbm9uRXh0ZW5zaWJsZU9iamVjdCwgbnVsbF1dKTtcbiAgICB2YXIgdGVzdFNldCA9IG5ldyBTZXQoW25vbkV4dGVuc2libGVPYmplY3RdKTtcbiAgICAvLyBUaGlzIGlzIG5lY2Vzc2FyeSBmb3IgUm9sbHVwIHRvIG5vdCBjb25zaWRlciB0aGVzZSB1bnVzZWQuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3JvbGx1cC9yb2xsdXAvaXNzdWVzLzE3NzFcbiAgICAvLyBUT0RPOiB3ZSBjYW4gcmVtb3ZlIHRoZXNlIGlmIFJvbGx1cCBmaXhlcyB0aGUgYnVnLlxuICAgIHRlc3RNYXAuc2V0KDAsIDApO1xuICAgIHRlc3RTZXQuYWRkKDApO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gVE9ETzogQ29uc2lkZXIgd2FybmluZyBhYm91dCBiYWQgcG9seWZpbGxzXG4gICAgaGFzQmFkTWFwUG9seWZpbGwgPSB0cnVlO1xuICB9XG59XG5cbi8vIEEgRmliZXIgaXMgd29yayBvbiBhIENvbXBvbmVudCB0aGF0IG5lZWRzIHRvIGJlIGRvbmUgb3Igd2FzIGRvbmUuIFRoZXJlIGNhblxuLy8gYmUgbW9yZSB0aGFuIG9uZSBwZXIgY29tcG9uZW50LlxuXG5cbnZhciBkZWJ1Z0NvdW50ZXIgPSB2b2lkIDA7XG5cbntcbiAgZGVidWdDb3VudGVyID0gMTtcbn1cblxuZnVuY3Rpb24gRmliZXJOb2RlKHRhZywgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpIHtcbiAgLy8gSW5zdGFuY2VcbiAgdGhpcy50YWcgPSB0YWc7XG4gIHRoaXMua2V5ID0ga2V5O1xuICB0aGlzLnR5cGUgPSBudWxsO1xuICB0aGlzLnN0YXRlTm9kZSA9IG51bGw7XG5cbiAgLy8gRmliZXJcbiAgdGhpc1sncmV0dXJuJ10gPSBudWxsO1xuICB0aGlzLmNoaWxkID0gbnVsbDtcbiAgdGhpcy5zaWJsaW5nID0gbnVsbDtcbiAgdGhpcy5pbmRleCA9IDA7XG5cbiAgdGhpcy5yZWYgPSBudWxsO1xuXG4gIHRoaXMucGVuZGluZ1Byb3BzID0gcGVuZGluZ1Byb3BzO1xuICB0aGlzLm1lbW9pemVkUHJvcHMgPSBudWxsO1xuICB0aGlzLnVwZGF0ZVF1ZXVlID0gbnVsbDtcbiAgdGhpcy5tZW1vaXplZFN0YXRlID0gbnVsbDtcblxuICB0aGlzLm1vZGUgPSBtb2RlO1xuXG4gIC8vIEVmZmVjdHNcbiAgdGhpcy5lZmZlY3RUYWcgPSBOb0VmZmVjdDtcbiAgdGhpcy5uZXh0RWZmZWN0ID0gbnVsbDtcblxuICB0aGlzLmZpcnN0RWZmZWN0ID0gbnVsbDtcbiAgdGhpcy5sYXN0RWZmZWN0ID0gbnVsbDtcblxuICB0aGlzLmV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuXG4gIHRoaXMuYWx0ZXJuYXRlID0gbnVsbDtcblxuICB7XG4gICAgdGhpcy5fZGVidWdJRCA9IGRlYnVnQ291bnRlcisrO1xuICAgIHRoaXMuX2RlYnVnU291cmNlID0gbnVsbDtcbiAgICB0aGlzLl9kZWJ1Z093bmVyID0gbnVsbDtcbiAgICB0aGlzLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nID0gZmFsc2U7XG4gICAgaWYgKCFoYXNCYWRNYXBQb2x5ZmlsbCAmJiB0eXBlb2YgT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBPYmplY3QucHJldmVudEV4dGVuc2lvbnModGhpcyk7XG4gICAgfVxuICB9XG59XG5cbi8vIFRoaXMgaXMgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiwgcmF0aGVyIHRoYW4gYSBQT0pPIGNvbnN0cnVjdG9yLCBzdGlsbFxuLy8gcGxlYXNlIGVuc3VyZSB3ZSBkbyB0aGUgZm9sbG93aW5nOlxuLy8gMSkgTm9ib2R5IHNob3VsZCBhZGQgYW55IGluc3RhbmNlIG1ldGhvZHMgb24gdGhpcy4gSW5zdGFuY2UgbWV0aG9kcyBjYW4gYmVcbi8vICAgIG1vcmUgZGlmZmljdWx0IHRvIHByZWRpY3Qgd2hlbiB0aGV5IGdldCBvcHRpbWl6ZWQgYW5kIHRoZXkgYXJlIGFsbW9zdFxuLy8gICAgbmV2ZXIgaW5saW5lZCBwcm9wZXJseSBpbiBzdGF0aWMgY29tcGlsZXJzLlxuLy8gMikgTm9ib2R5IHNob3VsZCByZWx5IG9uIGBpbnN0YW5jZW9mIEZpYmVyYCBmb3IgdHlwZSB0ZXN0aW5nLiBXZSBzaG91bGRcbi8vICAgIGFsd2F5cyBrbm93IHdoZW4gaXQgaXMgYSBmaWJlci5cbi8vIDMpIFdlIG1pZ2h0IHdhbnQgdG8gZXhwZXJpbWVudCB3aXRoIHVzaW5nIG51bWVyaWMga2V5cyBzaW5jZSB0aGV5IGFyZSBlYXNpZXJcbi8vICAgIHRvIG9wdGltaXplIGluIGEgbm9uLUpJVCBlbnZpcm9ubWVudC5cbi8vIDQpIFdlIGNhbiBlYXNpbHkgZ28gZnJvbSBhIGNvbnN0cnVjdG9yIHRvIGEgY3JlYXRlRmliZXIgb2JqZWN0IGxpdGVyYWwgaWYgdGhhdFxuLy8gICAgaXMgZmFzdGVyLlxuLy8gNSkgSXQgc2hvdWxkIGJlIGVhc3kgdG8gcG9ydCB0aGlzIHRvIGEgQyBzdHJ1Y3QgYW5kIGtlZXAgYSBDIGltcGxlbWVudGF0aW9uXG4vLyAgICBjb21wYXRpYmxlLlxudmFyIGNyZWF0ZUZpYmVyID0gZnVuY3Rpb24gKHRhZywgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpIHtcbiAgLy8gJEZsb3dGaXhNZTogdGhlIHNoYXBlcyBhcmUgZXhhY3QgaGVyZSBidXQgRmxvdyBkb2Vzbid0IGxpa2UgY29uc3RydWN0b3JzXG4gIHJldHVybiBuZXcgRmliZXJOb2RlKHRhZywgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpO1xufTtcblxuZnVuY3Rpb24gc2hvdWxkQ29uc3RydWN0KENvbXBvbmVudCkge1xuICByZXR1cm4gISEoQ29tcG9uZW50LnByb3RvdHlwZSAmJiBDb21wb25lbnQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQpO1xufVxuXG4vLyBUaGlzIGlzIHVzZWQgdG8gY3JlYXRlIGFuIGFsdGVybmF0ZSBmaWJlciB0byBkbyB3b3JrIG9uLlxuZnVuY3Rpb24gY3JlYXRlV29ya0luUHJvZ3Jlc3MoY3VycmVudCwgcGVuZGluZ1Byb3BzLCBleHBpcmF0aW9uVGltZSkge1xuICB2YXIgd29ya0luUHJvZ3Jlc3MgPSBjdXJyZW50LmFsdGVybmF0ZTtcbiAgaWYgKHdvcmtJblByb2dyZXNzID09PSBudWxsKSB7XG4gICAgLy8gV2UgdXNlIGEgZG91YmxlIGJ1ZmZlcmluZyBwb29saW5nIHRlY2huaXF1ZSBiZWNhdXNlIHdlIGtub3cgdGhhdCB3ZSdsbFxuICAgIC8vIG9ubHkgZXZlciBuZWVkIGF0IG1vc3QgdHdvIHZlcnNpb25zIG9mIGEgdHJlZS4gV2UgcG9vbCB0aGUgXCJvdGhlclwiIHVudXNlZFxuICAgIC8vIG5vZGUgdGhhdCB3ZSdyZSBmcmVlIHRvIHJldXNlLiBUaGlzIGlzIGxhemlseSBjcmVhdGVkIHRvIGF2b2lkIGFsbG9jYXRpbmdcbiAgICAvLyBleHRyYSBvYmplY3RzIGZvciB0aGluZ3MgdGhhdCBhcmUgbmV2ZXIgdXBkYXRlZC4gSXQgYWxzbyBhbGxvdyB1cyB0b1xuICAgIC8vIHJlY2xhaW0gdGhlIGV4dHJhIG1lbW9yeSBpZiBuZWVkZWQuXG4gICAgd29ya0luUHJvZ3Jlc3MgPSBjcmVhdGVGaWJlcihjdXJyZW50LnRhZywgcGVuZGluZ1Byb3BzLCBjdXJyZW50LmtleSwgY3VycmVudC5tb2RlKTtcbiAgICB3b3JrSW5Qcm9ncmVzcy50eXBlID0gY3VycmVudC50eXBlO1xuICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGN1cnJlbnQuc3RhdGVOb2RlO1xuXG4gICAge1xuICAgICAgLy8gREVWLW9ubHkgZmllbGRzXG4gICAgICB3b3JrSW5Qcm9ncmVzcy5fZGVidWdJRCA9IGN1cnJlbnQuX2RlYnVnSUQ7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5fZGVidWdTb3VyY2UgPSBjdXJyZW50Ll9kZWJ1Z1NvdXJjZTtcbiAgICAgIHdvcmtJblByb2dyZXNzLl9kZWJ1Z093bmVyID0gY3VycmVudC5fZGVidWdPd25lcjtcbiAgICB9XG5cbiAgICB3b3JrSW5Qcm9ncmVzcy5hbHRlcm5hdGUgPSBjdXJyZW50O1xuICAgIGN1cnJlbnQuYWx0ZXJuYXRlID0gd29ya0luUHJvZ3Jlc3M7XG4gIH0gZWxzZSB7XG4gICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzID0gcGVuZGluZ1Byb3BzO1xuXG4gICAgLy8gV2UgYWxyZWFkeSBoYXZlIGFuIGFsdGVybmF0ZS5cbiAgICAvLyBSZXNldCB0aGUgZWZmZWN0IHRhZy5cbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgPSBOb0VmZmVjdDtcblxuICAgIC8vIFRoZSBlZmZlY3QgbGlzdCBpcyBubyBsb25nZXIgdmFsaWQuXG4gICAgd29ya0luUHJvZ3Jlc3MubmV4dEVmZmVjdCA9IG51bGw7XG4gICAgd29ya0luUHJvZ3Jlc3MuZmlyc3RFZmZlY3QgPSBudWxsO1xuICAgIHdvcmtJblByb2dyZXNzLmxhc3RFZmZlY3QgPSBudWxsO1xuICB9XG5cbiAgd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcblxuICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGN1cnJlbnQuY2hpbGQ7XG4gIHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHM7XG4gIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGU7XG4gIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gY3VycmVudC51cGRhdGVRdWV1ZTtcblxuICAvLyBUaGVzZSB3aWxsIGJlIG92ZXJyaWRkZW4gZHVyaW5nIHRoZSBwYXJlbnQncyByZWNvbmNpbGlhdGlvblxuICB3b3JrSW5Qcm9ncmVzcy5zaWJsaW5nID0gY3VycmVudC5zaWJsaW5nO1xuICB3b3JrSW5Qcm9ncmVzcy5pbmRleCA9IGN1cnJlbnQuaW5kZXg7XG4gIHdvcmtJblByb2dyZXNzLnJlZiA9IGN1cnJlbnQucmVmO1xuXG4gIHJldHVybiB3b3JrSW5Qcm9ncmVzcztcbn1cblxuZnVuY3Rpb24gY3JlYXRlSG9zdFJvb3RGaWJlcihpc0FzeW5jKSB7XG4gIHZhciBtb2RlID0gaXNBc3luYyA/IEFzeW5jTW9kZSB8IFN0cmljdE1vZGUgOiBOb0NvbnRleHQ7XG4gIHJldHVybiBjcmVhdGVGaWJlcihIb3N0Um9vdCwgbnVsbCwgbnVsbCwgbW9kZSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbUVsZW1lbnQoZWxlbWVudCwgbW9kZSwgZXhwaXJhdGlvblRpbWUpIHtcbiAgdmFyIG93bmVyID0gbnVsbDtcbiAge1xuICAgIG93bmVyID0gZWxlbWVudC5fb3duZXI7XG4gIH1cblxuICB2YXIgZmliZXIgPSB2b2lkIDA7XG4gIHZhciB0eXBlID0gZWxlbWVudC50eXBlO1xuICB2YXIga2V5ID0gZWxlbWVudC5rZXk7XG4gIHZhciBwZW5kaW5nUHJvcHMgPSBlbGVtZW50LnByb3BzO1xuXG4gIHZhciBmaWJlclRhZyA9IHZvaWQgMDtcbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZmliZXJUYWcgPSBzaG91bGRDb25zdHJ1Y3QodHlwZSkgPyBDbGFzc0NvbXBvbmVudCA6IEluZGV0ZXJtaW5hdGVDb21wb25lbnQ7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgZmliZXJUYWcgPSBIb3N0Q29tcG9uZW50O1xuICB9IGVsc2Uge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICByZXR1cm4gY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQocGVuZGluZ1Byb3BzLmNoaWxkcmVuLCBtb2RlLCBleHBpcmF0aW9uVGltZSwga2V5KTtcbiAgICAgIGNhc2UgUkVBQ1RfQVNZTkNfTU9ERV9UWVBFOlxuICAgICAgICBmaWJlclRhZyA9IE1vZGU7XG4gICAgICAgIG1vZGUgfD0gQXN5bmNNb2RlIHwgU3RyaWN0TW9kZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICAgIGZpYmVyVGFnID0gTW9kZTtcbiAgICAgICAgbW9kZSB8PSBTdHJpY3RNb2RlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUkVBQ1RfQ0FMTF9UWVBFOlxuICAgICAgICBmaWJlclRhZyA9IENhbGxDb21wb25lbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBSRUFDVF9SRVRVUk5fVFlQRTpcbiAgICAgICAgZmliZXJUYWcgPSBSZXR1cm5Db21wb25lbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAge1xuICAgICAgICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlLiQkdHlwZW9mKSB7XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfUFJPVklERVJfVFlQRTpcbiAgICAgICAgICAgICAgICBmaWJlclRhZyA9IENvbnRleHRQcm92aWRlcjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIGNvbnN1bWVyXG4gICAgICAgICAgICAgICAgZmliZXJUYWcgPSBDb250ZXh0Q29uc3VtZXI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgICAgICAgICBmaWJlclRhZyA9IEZvcndhcmRSZWY7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0eXBlLnRhZyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgIC8vIEN1cnJlbnRseSBhc3N1bWVkIHRvIGJlIGEgY29udGludWF0aW9uIGFuZCB0aGVyZWZvcmUgaXMgYVxuICAgICAgICAgICAgICAgICAgLy8gZmliZXIgYWxyZWFkeS5cbiAgICAgICAgICAgICAgICAgIC8vIFRPRE86IFRoZSB5aWVsZCBzeXN0ZW0gaXMgY3VycmVudGx5IGJyb2tlbiBmb3IgdXBkYXRlcyBpblxuICAgICAgICAgICAgICAgICAgLy8gc29tZSBjYXNlcy4gVGhlIHJlaWZpZWQgeWllbGQgc3RvcmVzIGEgZmliZXIsIGJ1dCB3ZSBkb24ndFxuICAgICAgICAgICAgICAgICAgLy8ga25vdyB3aGljaCBmaWJlciB0aGF0IGlzOyB0aGUgY3VycmVudCBvciBhIHdvcmtJblByb2dyZXNzP1xuICAgICAgICAgICAgICAgICAgLy8gV2hlbiB0aGUgY29udGludWF0aW9uIGdldHMgcmVuZGVyZWQgaGVyZSB3ZSBkb24ndCBrbm93IGlmIHdlXG4gICAgICAgICAgICAgICAgICAvLyBjYW4gcmV1c2UgdGhhdCBmaWJlciBvciBpZiB3ZSBuZWVkIHRvIGNsb25lIGl0LiBUaGVyZSBpc1xuICAgICAgICAgICAgICAgICAgLy8gcHJvYmFibHkgYSBjbGV2ZXIgd2F5IHRvIHJlc3RydWN0dXJlIHRoaXMuXG4gICAgICAgICAgICAgICAgICBmaWJlciA9IHR5cGU7XG4gICAgICAgICAgICAgICAgICBmaWJlci5wZW5kaW5nUHJvcHMgPSBwZW5kaW5nUHJvcHM7XG4gICAgICAgICAgICAgICAgICBmaWJlci5leHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpYmVyO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0aHJvd09uSW52YWxpZEVsZW1lbnRUeXBlKHR5cGUsIG93bmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93T25JbnZhbGlkRWxlbWVudFR5cGUodHlwZSwgb3duZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZpYmVyID0gY3JlYXRlRmliZXIoZmliZXJUYWcsIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlKTtcbiAgZmliZXIudHlwZSA9IHR5cGU7XG4gIGZpYmVyLmV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG5cbiAge1xuICAgIGZpYmVyLl9kZWJ1Z1NvdXJjZSA9IGVsZW1lbnQuX3NvdXJjZTtcbiAgICBmaWJlci5fZGVidWdPd25lciA9IGVsZW1lbnQuX293bmVyO1xuICB9XG5cbiAgcmV0dXJuIGZpYmVyO1xufVxuXG5mdW5jdGlvbiB0aHJvd09uSW52YWxpZEVsZW1lbnRUeXBlKHR5cGUsIG93bmVyKSB7XG4gIHZhciBpbmZvID0gJyc7XG4gIHtcbiAgICBpZiAodHlwZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsICYmIE9iamVjdC5rZXlzKHR5cGUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaW5mbyArPSAnIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlICcgKyBcIml0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgXCIgKyAnbmFtZWQgaW1wb3J0cy4nO1xuICAgIH1cbiAgICB2YXIgb3duZXJOYW1lID0gb3duZXIgPyBnZXRDb21wb25lbnROYW1lKG93bmVyKSA6IG51bGw7XG4gICAgaWYgKG93bmVyTmFtZSkge1xuICAgICAgaW5mbyArPSAnXFxuXFxuQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBvd25lck5hbWUgKyAnYC4nO1xuICAgIH1cbiAgfVxuICBpbnZhcmlhbnQoZmFsc2UsICdFbGVtZW50IHR5cGUgaXMgaW52YWxpZDogZXhwZWN0ZWQgYSBzdHJpbmcgKGZvciBidWlsdC1pbiBjb21wb25lbnRzKSBvciBhIGNsYXNzL2Z1bmN0aW9uIChmb3IgY29tcG9zaXRlIGNvbXBvbmVudHMpIGJ1dCBnb3Q6ICVzLiVzJywgdHlwZSA9PSBudWxsID8gdHlwZSA6IHR5cGVvZiB0eXBlLCBpbmZvKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQoZWxlbWVudHMsIG1vZGUsIGV4cGlyYXRpb25UaW1lLCBrZXkpIHtcbiAgdmFyIGZpYmVyID0gY3JlYXRlRmliZXIoRnJhZ21lbnQsIGVsZW1lbnRzLCBrZXksIG1vZGUpO1xuICBmaWJlci5leHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICByZXR1cm4gZmliZXI7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbVRleHQoY29udGVudCwgbW9kZSwgZXhwaXJhdGlvblRpbWUpIHtcbiAgdmFyIGZpYmVyID0gY3JlYXRlRmliZXIoSG9zdFRleHQsIGNvbnRlbnQsIG51bGwsIG1vZGUpO1xuICBmaWJlci5leHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICByZXR1cm4gZmliZXI7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbUhvc3RJbnN0YW5jZUZvckRlbGV0aW9uKCkge1xuICB2YXIgZmliZXIgPSBjcmVhdGVGaWJlcihIb3N0Q29tcG9uZW50LCBudWxsLCBudWxsLCBOb0NvbnRleHQpO1xuICBmaWJlci50eXBlID0gJ0RFTEVURUQnO1xuICByZXR1cm4gZmliZXI7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbVBvcnRhbChwb3J0YWwsIG1vZGUsIGV4cGlyYXRpb25UaW1lKSB7XG4gIHZhciBwZW5kaW5nUHJvcHMgPSBwb3J0YWwuY2hpbGRyZW4gIT09IG51bGwgPyBwb3J0YWwuY2hpbGRyZW4gOiBbXTtcbiAgdmFyIGZpYmVyID0gY3JlYXRlRmliZXIoSG9zdFBvcnRhbCwgcGVuZGluZ1Byb3BzLCBwb3J0YWwua2V5LCBtb2RlKTtcbiAgZmliZXIuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgZmliZXIuc3RhdGVOb2RlID0ge1xuICAgIGNvbnRhaW5lckluZm86IHBvcnRhbC5jb250YWluZXJJbmZvLFxuICAgIHBlbmRpbmdDaGlsZHJlbjogbnVsbCwgLy8gVXNlZCBieSBwZXJzaXN0ZW50IHVwZGF0ZXNcbiAgICBpbXBsZW1lbnRhdGlvbjogcG9ydGFsLmltcGxlbWVudGF0aW9uXG4gIH07XG4gIHJldHVybiBmaWJlcjtcbn1cblxuLy8gVXNlZCBmb3Igc3Rhc2hpbmcgV0lQIHByb3BlcnRpZXMgdG8gcmVwbGF5IGZhaWxlZCB3b3JrIGluIERFVi5cbmZ1bmN0aW9uIGFzc2lnbkZpYmVyUHJvcGVydGllc0luREVWKHRhcmdldCwgc291cmNlKSB7XG4gIGlmICh0YXJnZXQgPT09IG51bGwpIHtcbiAgICAvLyBUaGlzIEZpYmVyJ3MgaW5pdGlhbCBwcm9wZXJ0aWVzIHdpbGwgYWx3YXlzIGJlIG92ZXJ3cml0dGVuLlxuICAgIC8vIFdlIG9ubHkgdXNlIGEgRmliZXIgdG8gZW5zdXJlIHRoZSBzYW1lIGhpZGRlbiBjbGFzcyBzbyBERVYgaXNuJ3Qgc2xvdy5cbiAgICB0YXJnZXQgPSBjcmVhdGVGaWJlcihJbmRldGVybWluYXRlQ29tcG9uZW50LCBudWxsLCBudWxsLCBOb0NvbnRleHQpO1xuICB9XG5cbiAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbGx5IHdyaXR0ZW4gYXMgYSBsaXN0IG9mIGFsbCBwcm9wZXJ0aWVzLlxuICAvLyBXZSB0cmllZCB0byB1c2UgT2JqZWN0LmFzc2lnbigpIGluc3RlYWQgYnV0IHRoaXMgaXMgY2FsbGVkIGluXG4gIC8vIHRoZSBob3R0ZXN0IHBhdGgsIGFuZCBPYmplY3QuYXNzaWduKCkgd2FzIHRvbyBzbG93OlxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzEyNTAyXG4gIC8vIFRoaXMgY29kZSBpcyBERVYtb25seSBzbyBzaXplIGlzIG5vdCBhIGNvbmNlcm4uXG5cbiAgdGFyZ2V0LnRhZyA9IHNvdXJjZS50YWc7XG4gIHRhcmdldC5rZXkgPSBzb3VyY2Uua2V5O1xuICB0YXJnZXQudHlwZSA9IHNvdXJjZS50eXBlO1xuICB0YXJnZXQuc3RhdGVOb2RlID0gc291cmNlLnN0YXRlTm9kZTtcbiAgdGFyZ2V0WydyZXR1cm4nXSA9IHNvdXJjZVsncmV0dXJuJ107XG4gIHRhcmdldC5jaGlsZCA9IHNvdXJjZS5jaGlsZDtcbiAgdGFyZ2V0LnNpYmxpbmcgPSBzb3VyY2Uuc2libGluZztcbiAgdGFyZ2V0LmluZGV4ID0gc291cmNlLmluZGV4O1xuICB0YXJnZXQucmVmID0gc291cmNlLnJlZjtcbiAgdGFyZ2V0LnBlbmRpbmdQcm9wcyA9IHNvdXJjZS5wZW5kaW5nUHJvcHM7XG4gIHRhcmdldC5tZW1vaXplZFByb3BzID0gc291cmNlLm1lbW9pemVkUHJvcHM7XG4gIHRhcmdldC51cGRhdGVRdWV1ZSA9IHNvdXJjZS51cGRhdGVRdWV1ZTtcbiAgdGFyZ2V0Lm1lbW9pemVkU3RhdGUgPSBzb3VyY2UubWVtb2l6ZWRTdGF0ZTtcbiAgdGFyZ2V0Lm1vZGUgPSBzb3VyY2UubW9kZTtcbiAgdGFyZ2V0LmVmZmVjdFRhZyA9IHNvdXJjZS5lZmZlY3RUYWc7XG4gIHRhcmdldC5uZXh0RWZmZWN0ID0gc291cmNlLm5leHRFZmZlY3Q7XG4gIHRhcmdldC5maXJzdEVmZmVjdCA9IHNvdXJjZS5maXJzdEVmZmVjdDtcbiAgdGFyZ2V0Lmxhc3RFZmZlY3QgPSBzb3VyY2UubGFzdEVmZmVjdDtcbiAgdGFyZ2V0LmV4cGlyYXRpb25UaW1lID0gc291cmNlLmV4cGlyYXRpb25UaW1lO1xuICB0YXJnZXQuYWx0ZXJuYXRlID0gc291cmNlLmFsdGVybmF0ZTtcbiAgdGFyZ2V0Ll9kZWJ1Z0lEID0gc291cmNlLl9kZWJ1Z0lEO1xuICB0YXJnZXQuX2RlYnVnU291cmNlID0gc291cmNlLl9kZWJ1Z1NvdXJjZTtcbiAgdGFyZ2V0Ll9kZWJ1Z093bmVyID0gc291cmNlLl9kZWJ1Z093bmVyO1xuICB0YXJnZXQuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmcgPSBzb3VyY2UuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmc7XG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbi8vIFRPRE86IFRoaXMgc2hvdWxkIGJlIGxpZnRlZCBpbnRvIHRoZSByZW5kZXJlci5cblxuXG5mdW5jdGlvbiBjcmVhdGVGaWJlclJvb3QoY29udGFpbmVySW5mbywgaXNBc3luYywgaHlkcmF0ZSkge1xuICAvLyBDeWNsaWMgY29uc3RydWN0aW9uLiBUaGlzIGNoZWF0cyB0aGUgdHlwZSBzeXN0ZW0gcmlnaHQgbm93IGJlY2F1c2VcbiAgLy8gc3RhdGVOb2RlIGlzIGFueS5cbiAgdmFyIHVuaW5pdGlhbGl6ZWRGaWJlciA9IGNyZWF0ZUhvc3RSb290RmliZXIoaXNBc3luYyk7XG4gIHZhciByb290ID0ge1xuICAgIGN1cnJlbnQ6IHVuaW5pdGlhbGl6ZWRGaWJlcixcbiAgICBjb250YWluZXJJbmZvOiBjb250YWluZXJJbmZvLFxuICAgIHBlbmRpbmdDaGlsZHJlbjogbnVsbCxcbiAgICBwZW5kaW5nQ29tbWl0RXhwaXJhdGlvblRpbWU6IE5vV29yayxcbiAgICBmaW5pc2hlZFdvcms6IG51bGwsXG4gICAgY29udGV4dDogbnVsbCxcbiAgICBwZW5kaW5nQ29udGV4dDogbnVsbCxcbiAgICBoeWRyYXRlOiBoeWRyYXRlLFxuICAgIHJlbWFpbmluZ0V4cGlyYXRpb25UaW1lOiBOb1dvcmssXG4gICAgZmlyc3RCYXRjaDogbnVsbCxcbiAgICBuZXh0U2NoZWR1bGVkUm9vdDogbnVsbFxuICB9O1xuICB1bmluaXRpYWxpemVkRmliZXIuc3RhdGVOb2RlID0gcm9vdDtcbiAgcmV0dXJuIHJvb3Q7XG59XG5cbnZhciBvbkNvbW1pdEZpYmVyUm9vdCA9IG51bGw7XG52YXIgb25Db21taXRGaWJlclVubW91bnQgPSBudWxsO1xudmFyIGhhc0xvZ2dlZEVycm9yID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGNhdGNoRXJyb3JzKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmbihhcmcpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKHRydWUgJiYgIWhhc0xvZ2dlZEVycm9yKSB7XG4gICAgICAgIGhhc0xvZ2dlZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJ1JlYWN0IERldlRvb2xzIGVuY291bnRlcmVkIGFuIGVycm9yOiAlcycsIGVycik7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBpbmplY3RJbnRlcm5hbHMoaW50ZXJuYWxzKSB7XG4gIGlmICh0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fID09PSAndW5kZWZpbmVkJykge1xuICAgIC8vIE5vIERldlRvb2xzXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBob29rID0gX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fO1xuICBpZiAoaG9vay5pc0Rpc2FibGVkKSB7XG4gICAgLy8gVGhpcyBpc24ndCBhIHJlYWwgcHJvcGVydHkgb24gdGhlIGhvb2ssIGJ1dCBpdCBjYW4gYmUgc2V0IHRvIG9wdCBvdXRcbiAgICAvLyBvZiBEZXZUb29scyBpbnRlZ3JhdGlvbiBhbmQgYXNzb2NpYXRlZCB3YXJuaW5ncyBhbmQgbG9ncy5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzM4NzdcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoIWhvb2suc3VwcG9ydHNGaWJlcikge1xuICAgIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdUaGUgaW5zdGFsbGVkIHZlcnNpb24gb2YgUmVhY3QgRGV2VG9vbHMgaXMgdG9vIG9sZCBhbmQgd2lsbCBub3Qgd29yayAnICsgJ3dpdGggdGhlIGN1cnJlbnQgdmVyc2lvbiBvZiBSZWFjdC4gUGxlYXNlIHVwZGF0ZSBSZWFjdCBEZXZUb29scy4gJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWRldnRvb2xzJyk7XG4gICAgfVxuICAgIC8vIERldlRvb2xzIGV4aXN0cywgZXZlbiB0aG91Z2ggaXQgZG9lc24ndCBzdXBwb3J0IEZpYmVyLlxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHRyeSB7XG4gICAgdmFyIHJlbmRlcmVySUQgPSBob29rLmluamVjdChpbnRlcm5hbHMpO1xuICAgIC8vIFdlIGhhdmUgc3VjY2Vzc2Z1bGx5IGluamVjdGVkLCBzbyBub3cgaXQgaXMgc2FmZSB0byBzZXQgdXAgaG9va3MuXG4gICAgb25Db21taXRGaWJlclJvb3QgPSBjYXRjaEVycm9ycyhmdW5jdGlvbiAocm9vdCkge1xuICAgICAgcmV0dXJuIGhvb2sub25Db21taXRGaWJlclJvb3QocmVuZGVyZXJJRCwgcm9vdCk7XG4gICAgfSk7XG4gICAgb25Db21taXRGaWJlclVubW91bnQgPSBjYXRjaEVycm9ycyhmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgIHJldHVybiBob29rLm9uQ29tbWl0RmliZXJVbm1vdW50KHJlbmRlcmVySUQsIGZpYmVyKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gQ2F0Y2ggYWxsIGVycm9ycyBiZWNhdXNlIGl0IGlzIHVuc2FmZSB0byB0aHJvdyBkdXJpbmcgaW5pdGlhbGl6YXRpb24uXG4gICAge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ1JlYWN0IERldlRvb2xzIGVuY291bnRlcmVkIGFuIGVycm9yOiAlcy4nLCBlcnIpO1xuICAgIH1cbiAgfVxuICAvLyBEZXZUb29scyBleGlzdHNcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIG9uQ29tbWl0Um9vdChyb290KSB7XG4gIGlmICh0eXBlb2Ygb25Db21taXRGaWJlclJvb3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvbkNvbW1pdEZpYmVyUm9vdChyb290KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvbkNvbW1pdFVubW91bnQoZmliZXIpIHtcbiAgaWYgKHR5cGVvZiBvbkNvbW1pdEZpYmVyVW5tb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9uQ29tbWl0RmliZXJVbm1vdW50KGZpYmVyKTtcbiAgfVxufVxuXG4vKipcbiAqIEZvcmtlZCBmcm9tIGZianMvd2FybmluZzpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mYmpzL2Jsb2IvZTY2YmEyMGFkNWJlNDMzZWI1NDQyM2YyYjA5N2Q4MjkzMjRkOWRlNi9wYWNrYWdlcy9mYmpzL3NyYy9fX2ZvcmtzX18vd2FybmluZy5qc1xuICpcbiAqIE9ubHkgY2hhbmdlIGlzIHdlIHVzZSBjb25zb2xlLndhcm4gaW5zdGVhZCBvZiBjb25zb2xlLmVycm9yLFxuICogYW5kIGRvIG5vdGhpbmcgd2hlbiAnY29uc29sZScgaXMgbm90IHN1cHBvcnRlZC5cbiAqIFRoaXMgcmVhbGx5IHNpbXBsaWZpZXMgdGhlIGNvZGUuXG4gKiAtLS1cbiAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcbiAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXG4gKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cbiAqL1xuXG52YXIgbG93UHJpb3JpdHlXYXJuaW5nID0gZnVuY3Rpb24gKCkge307XG5cbntcbiAgdmFyIHByaW50V2FybmluZyA9IGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICB9KTtcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXG4gICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH07XG5cbiAgbG93UHJpb3JpdHlXYXJuaW5nID0gZnVuY3Rpb24gKGNvbmRpdGlvbiwgZm9ybWF0KSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgKyAnbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIgPiAyID8gX2xlbjIgLSAyIDogMCksIF9rZXkyID0gMjsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyIC0gMl0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICBwcmludFdhcm5pbmcuYXBwbHkodW5kZWZpbmVkLCBbZm9ybWF0XS5jb25jYXQoYXJncykpO1xuICAgIH1cbiAgfTtcbn1cblxudmFyIGxvd1ByaW9yaXR5V2FybmluZyQxID0gbG93UHJpb3JpdHlXYXJuaW5nO1xuXG52YXIgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MgPSB7XG4gIGRpc2NhcmRQZW5kaW5nV2FybmluZ3M6IGZ1bmN0aW9uICgpIHt9LFxuICBmbHVzaFBlbmRpbmdEZXByZWNhdGlvbldhcm5pbmdzOiBmdW5jdGlvbiAoKSB7fSxcbiAgZmx1c2hQZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3M6IGZ1bmN0aW9uICgpIHt9LFxuICByZWNvcmREZXByZWNhdGlvbldhcm5pbmdzOiBmdW5jdGlvbiAoZmliZXIsIGluc3RhbmNlKSB7fSxcbiAgcmVjb3JkVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3M6IGZ1bmN0aW9uIChmaWJlciwgaW5zdGFuY2UpIHt9XG59O1xuXG57XG4gIHZhciBMSUZFQ1lDTEVfU1VHR0VTVElPTlMgPSB7XG4gICAgVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudDogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogJ3N0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMnLFxuICAgIFVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlOiAnY29tcG9uZW50RGlkVXBkYXRlJ1xuICB9O1xuXG4gIHZhciBwZW5kaW5nQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MgPSBbXTtcbiAgdmFyIHBlbmRpbmdDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MgPSBbXTtcbiAgdmFyIHBlbmRpbmdDb21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MgPSBbXTtcbiAgdmFyIHBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyA9IG5ldyBNYXAoKTtcblxuICAvLyBUcmFja3MgY29tcG9uZW50cyB3ZSBoYXZlIGFscmVhZHkgd2FybmVkIGFib3V0LlxuICB2YXIgZGlkV2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMgPSBuZXcgU2V0KCk7XG4gIHZhciBkaWRXYXJuQWJvdXRVbnNhZmVMaWZlY3ljbGVzID0gbmV3IFNldCgpO1xuXG4gIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmRpc2NhcmRQZW5kaW5nV2FybmluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgcGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzID0gW107XG4gICAgcGVuZGluZ0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncyA9IFtdO1xuICAgIHBlbmRpbmdDb21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MgPSBbXTtcbiAgICBwZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MgPSBuZXcgTWFwKCk7XG4gIH07XG5cbiAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZmx1c2hQZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgcGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24gKGxpZmVjeWNsZVdhcm5pbmdzTWFwLCBzdHJpY3RSb290KSB7XG4gICAgICB2YXIgbGlmZWN5Y2xlc1dhcm5pbmdNZXNhZ2VzID0gW107XG5cbiAgICAgIE9iamVjdC5rZXlzKGxpZmVjeWNsZVdhcm5pbmdzTWFwKS5mb3JFYWNoKGZ1bmN0aW9uIChsaWZlY3ljbGUpIHtcbiAgICAgICAgdmFyIGxpZmVjeWNsZVdhcm5pbmdzID0gbGlmZWN5Y2xlV2FybmluZ3NNYXBbbGlmZWN5Y2xlXTtcbiAgICAgICAgaWYgKGxpZmVjeWNsZVdhcm5pbmdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB2YXIgY29tcG9uZW50TmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgbGlmZWN5Y2xlV2FybmluZ3MuZm9yRWFjaChmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudE5hbWVzLmFkZChnZXRDb21wb25lbnROYW1lKGZpYmVyKSB8fCAnQ29tcG9uZW50Jyk7XG4gICAgICAgICAgICBkaWRXYXJuQWJvdXRVbnNhZmVMaWZlY3ljbGVzLmFkZChmaWJlci50eXBlKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHZhciBmb3JtYXR0ZWQgPSBsaWZlY3ljbGUucmVwbGFjZSgnVU5TQUZFXycsICcnKTtcbiAgICAgICAgICB2YXIgc3VnZ2VzdGlvbiA9IExJRkVDWUNMRV9TVUdHRVNUSU9OU1tsaWZlY3ljbGVdO1xuICAgICAgICAgIHZhciBzb3J0ZWRDb21wb25lbnROYW1lcyA9IEFycmF5LmZyb20oY29tcG9uZW50TmFtZXMpLnNvcnQoKS5qb2luKCcsICcpO1xuXG4gICAgICAgICAgbGlmZWN5Y2xlc1dhcm5pbmdNZXNhZ2VzLnB1c2goZm9ybWF0dGVkICsgJzogUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHMgdG8gdXNlICcgKyAoc3VnZ2VzdGlvbiArICcgaW5zdGVhZDogJyArIHNvcnRlZENvbXBvbmVudE5hbWVzKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAobGlmZWN5Y2xlc1dhcm5pbmdNZXNhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIHN0cmljdFJvb3RDb21wb25lbnRTdGFjayA9IGdldFN0YWNrQWRkZW5kdW1CeVdvcmtJblByb2dyZXNzRmliZXIoc3RyaWN0Um9vdCk7XG5cbiAgICAgICAgd2FybmluZyhmYWxzZSwgJ1Vuc2FmZSBsaWZlY3ljbGUgbWV0aG9kcyB3ZXJlIGZvdW5kIHdpdGhpbiBhIHN0cmljdC1tb2RlIHRyZWU6JXMnICsgJ1xcblxcbiVzJyArICdcXG5cXG5MZWFybiBtb3JlIGFib3V0IHRoaXMgd2FybmluZyBoZXJlOicgKyAnXFxuaHR0cHM6Ly9mYi5tZS9yZWFjdC1zdHJpY3QtbW9kZS13YXJuaW5ncycsIHN0cmljdFJvb3RDb21wb25lbnRTdGFjaywgbGlmZWN5Y2xlc1dhcm5pbmdNZXNhZ2VzLmpvaW4oJ1xcblxcbicpKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyA9IG5ldyBNYXAoKTtcbiAgfTtcblxuICB2YXIgZ2V0U3RyaWN0Um9vdCA9IGZ1bmN0aW9uIChmaWJlcikge1xuICAgIHZhciBtYXliZVN0cmljdFJvb3QgPSBudWxsO1xuXG4gICAgd2hpbGUgKGZpYmVyICE9PSBudWxsKSB7XG4gICAgICBpZiAoZmliZXIubW9kZSAmIFN0cmljdE1vZGUpIHtcbiAgICAgICAgbWF5YmVTdHJpY3RSb290ID0gZmliZXI7XG4gICAgICB9XG5cbiAgICAgIGZpYmVyID0gZmliZXJbJ3JldHVybiddO1xuICAgIH1cblxuICAgIHJldHVybiBtYXliZVN0cmljdFJvb3Q7XG4gIH07XG5cbiAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZmx1c2hQZW5kaW5nRGVwcmVjYXRpb25XYXJuaW5ncyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzLmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciB1bmlxdWVOYW1lcyA9IG5ldyBTZXQoKTtcbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICB1bmlxdWVOYW1lcy5hZGQoZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgJ0NvbXBvbmVudCcpO1xuICAgICAgICBkaWRXYXJuQWJvdXREZXByZWNhdGVkTGlmZWN5Y2xlcy5hZGQoZmliZXIudHlwZSk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIHNvcnRlZE5hbWVzID0gQXJyYXkuZnJvbSh1bmlxdWVOYW1lcykuc29ydCgpLmpvaW4oJywgJyk7XG5cbiAgICAgIGxvd1ByaW9yaXR5V2FybmluZyQxKGZhbHNlLCAnY29tcG9uZW50V2lsbE1vdW50IGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uLiAnICsgJ1VzZSBjb21wb25lbnREaWRNb3VudCBpbnN0ZWFkLiBBcyBhIHRlbXBvcmFyeSB3b3JrYXJvdW5kLCAnICsgJ3lvdSBjYW4gcmVuYW1lIHRvIFVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQuJyArICdcXG5cXG5QbGVhc2UgdXBkYXRlIHRoZSBmb2xsb3dpbmcgY29tcG9uZW50czogJXMnICsgJ1xcblxcbkxlYXJuIG1vcmUgYWJvdXQgdGhpcyB3YXJuaW5nIGhlcmU6JyArICdcXG5odHRwczovL2ZiLm1lL3JlYWN0LWFzeW5jLWNvbXBvbmVudC1saWZlY3ljbGUtaG9va3MnLCBzb3J0ZWROYW1lcyk7XG5cbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncyA9IFtdO1xuICAgIH1cblxuICAgIGlmIChwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzLmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciBfdW5pcXVlTmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24gKGZpYmVyKSB7XG4gICAgICAgIF91bmlxdWVOYW1lcy5hZGQoZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgJ0NvbXBvbmVudCcpO1xuICAgICAgICBkaWRXYXJuQWJvdXREZXByZWNhdGVkTGlmZWN5Y2xlcy5hZGQoZmliZXIudHlwZSk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIF9zb3J0ZWROYW1lcyA9IEFycmF5LmZyb20oX3VuaXF1ZU5hbWVzKS5zb3J0KCkuam9pbignLCAnKTtcblxuICAgICAgbG93UHJpb3JpdHlXYXJuaW5nJDEoZmFsc2UsICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uLiAnICsgJ1VzZSBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIGluc3RlYWQuJyArICdcXG5cXG5QbGVhc2UgdXBkYXRlIHRoZSBmb2xsb3dpbmcgY29tcG9uZW50czogJXMnICsgJ1xcblxcbkxlYXJuIG1vcmUgYWJvdXQgdGhpcyB3YXJuaW5nIGhlcmU6JyArICdcXG5odHRwczovL2ZiLm1lL3JlYWN0LWFzeW5jLWNvbXBvbmVudC1saWZlY3ljbGUtaG9va3MnLCBfc29ydGVkTmFtZXMpO1xuXG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzID0gW107XG4gICAgfVxuXG4gICAgaWYgKHBlbmRpbmdDb21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MubGVuZ3RoID4gMCkge1xuICAgICAgdmFyIF91bmlxdWVOYW1lczIgPSBuZXcgU2V0KCk7XG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24gKGZpYmVyKSB7XG4gICAgICAgIF91bmlxdWVOYW1lczIuYWRkKGdldENvbXBvbmVudE5hbWUoZmliZXIpIHx8ICdDb21wb25lbnQnKTtcbiAgICAgICAgZGlkV2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMuYWRkKGZpYmVyLnR5cGUpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBfc29ydGVkTmFtZXMyID0gQXJyYXkuZnJvbShfdW5pcXVlTmFtZXMyKS5zb3J0KCkuam9pbignLCAnKTtcblxuICAgICAgbG93UHJpb3JpdHlXYXJuaW5nJDEoZmFsc2UsICdjb21wb25lbnRXaWxsVXBkYXRlIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uLiAnICsgJ1VzZSBjb21wb25lbnREaWRVcGRhdGUgaW5zdGVhZC4gQXMgYSB0ZW1wb3Jhcnkgd29ya2Fyb3VuZCwgJyArICd5b3UgY2FuIHJlbmFtZSB0byBVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZS4nICsgJ1xcblxcblBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzOiAlcycgKyAnXFxuXFxuTGVhcm4gbW9yZSBhYm91dCB0aGlzIHdhcm5pbmcgaGVyZTonICsgJ1xcbmh0dHBzOi8vZmIubWUvcmVhY3QtYXN5bmMtY29tcG9uZW50LWxpZmVjeWNsZS1ob29rcycsIF9zb3J0ZWROYW1lczIpO1xuXG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzID0gW107XG4gICAgfVxuICB9O1xuXG4gIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLnJlY29yZERlcHJlY2F0aW9uV2FybmluZ3MgPSBmdW5jdGlvbiAoZmliZXIsIGluc3RhbmNlKSB7XG4gICAgLy8gRGVkdXAgc3RyYXRlZ3k6IFdhcm4gb25jZSBwZXIgY29tcG9uZW50LlxuICAgIGlmIChkaWRXYXJuQWJvdXREZXByZWNhdGVkTGlmZWN5Y2xlcy5oYXMoZmliZXIudHlwZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEb24ndCB3YXJuIGFib3V0IHJlYWN0LWxpZmVjeWNsZXMtY29tcGF0IHBvbHlmaWxsZWQgY29tcG9uZW50cy5cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJyAmJiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyAhPT0gdHJ1ZSkge1xuICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzLnB1c2goZmliZXIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09ICdmdW5jdGlvbicgJiYgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcy5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nICE9PSB0cnVlKSB7XG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzLnB1c2goZmliZXIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicgJiYgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZS5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nICE9PSB0cnVlKSB7XG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzLnB1c2goZmliZXIpO1xuICAgIH1cbiAgfTtcblxuICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5yZWNvcmRVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyA9IGZ1bmN0aW9uIChmaWJlciwgaW5zdGFuY2UpIHtcbiAgICB2YXIgc3RyaWN0Um9vdCA9IGdldFN0cmljdFJvb3QoZmliZXIpO1xuXG4gICAgLy8gRGVkdXAgc3RyYXRlZ3k6IFdhcm4gb25jZSBwZXIgY29tcG9uZW50LlxuICAgIC8vIFRoaXMgaXMgZGlmZmljdWx0IHRvIHRyYWNrIGFueSBvdGhlciB3YXkgc2luY2UgY29tcG9uZW50IG5hbWVzXG4gICAgLy8gYXJlIG9mdGVuIHZhZ3VlIGFuZCBhcmUgbGlrZWx5IHRvIGNvbGxpZGUgYmV0d2VlbiAzcmQgcGFydHkgbGlicmFyaWVzLlxuICAgIC8vIEFuIGV4cGFuZCBwcm9wZXJ0eSBpcyBwcm9iYWJseSBva2F5IHRvIHVzZSBoZXJlIHNpbmNlIGl0J3MgREVWLW9ubHksXG4gICAgLy8gYW5kIHdpbGwgb25seSBiZSBzZXQgaW4gdGhlIGV2ZW50IG9mIHNlcmlvdXMgd2FybmluZ3MuXG4gICAgaWYgKGRpZFdhcm5BYm91dFVuc2FmZUxpZmVjeWNsZXMuaGFzKGZpYmVyLnR5cGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRG9uJ3Qgd2FybiBhYm91dCByZWFjdC1saWZlY3ljbGVzLWNvbXBhdCBwb2x5ZmlsbGVkIGNvbXBvbmVudHMuXG4gICAgLy8gTm90ZSB0aGF0IGl0IGlzIHN1ZmZpY2llbnQgdG8gY2hlY2sgZm9yIHRoZSBwcmVzZW5jZSBvZiBhXG4gICAgLy8gc2luZ2xlIGxpZmVjeWNsZSwgY29tcG9uZW50V2lsbE1vdW50LCB3aXRoIHRoZSBwb2x5ZmlsbCBmbGFnLlxuICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50ID09PSAnZnVuY3Rpb24nICYmIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudC5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nID09PSB0cnVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHdhcm5pbmdzRm9yUm9vdCA9IHZvaWQgMDtcbiAgICBpZiAoIXBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncy5oYXMoc3RyaWN0Um9vdCkpIHtcbiAgICAgIHdhcm5pbmdzRm9yUm9vdCA9IHtcbiAgICAgICAgVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudDogW10sXG4gICAgICAgIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBbXSxcbiAgICAgICAgVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGU6IFtdXG4gICAgICB9O1xuXG4gICAgICBwZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3Muc2V0KHN0cmljdFJvb3QsIHdhcm5pbmdzRm9yUm9vdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdhcm5pbmdzRm9yUm9vdCA9IHBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncy5nZXQoc3RyaWN0Um9vdCk7XG4gICAgfVxuXG4gICAgdmFyIHVuc2FmZUxpZmVjeWNsZXMgPSBbXTtcbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdW5zYWZlTGlmZWN5Y2xlcy5wdXNoKCdVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50Jyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHVuc2FmZUxpZmVjeWNsZXMucHVzaCgnVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdW5zYWZlTGlmZWN5Y2xlcy5wdXNoKCdVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZScpO1xuICAgIH1cblxuICAgIGlmICh1bnNhZmVMaWZlY3ljbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHVuc2FmZUxpZmVjeWNsZXMuZm9yRWFjaChmdW5jdGlvbiAobGlmZWN5Y2xlKSB7XG4gICAgICAgIHdhcm5pbmdzRm9yUm9vdFtsaWZlY3ljbGVdLnB1c2goZmliZXIpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxuXG4vLyBFeHBvcnRzIFJlYWN0RE9NLmNyZWF0ZVJvb3RcbnZhciBlbmFibGVVc2VyVGltaW5nQVBJID0gdHJ1ZTtcblxuLy8gTXV0YXRpbmcgbW9kZSAoUmVhY3QgRE9NLCBSZWFjdCBBUlQsIFJlYWN0IE5hdGl2ZSk6XG52YXIgZW5hYmxlTXV0YXRpbmdSZWNvbmNpbGVyID0gdHJ1ZTtcbi8vIEV4cGVyaW1lbnRhbCBub29wIG1vZGUgKGN1cnJlbnRseSB1bnVzZWQpOlxudmFyIGVuYWJsZU5vb3BSZWNvbmNpbGVyID0gZmFsc2U7XG4vLyBFeHBlcmltZW50YWwgcGVyc2lzdGVudCBtb2RlIChGYWJyaWMpOlxudmFyIGVuYWJsZVBlcnNpc3RlbnRSZWNvbmNpbGVyID0gZmFsc2U7XG4vLyBFeHBlcmltZW50YWwgZXJyb3ItYm91bmRhcnkgQVBJIHRoYXQgY2FuIHJlY292ZXIgZnJvbSBlcnJvcnMgd2l0aGluIGEgc2luZ2xlXG4vLyByZW5kZXIgcGhhc2VcbnZhciBlbmFibGVHZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggPSBmYWxzZTtcbi8vIEhlbHBzIGlkZW50aWZ5IHNpZGUgZWZmZWN0cyBpbiBiZWdpbi1waGFzZSBsaWZlY3ljbGUgaG9va3MgYW5kIHNldFN0YXRlIHJlZHVjZXJzOlxudmFyIGRlYnVnUmVuZGVyUGhhc2VTaWRlRWZmZWN0cyA9IGZhbHNlO1xuXG4vLyBJbiBzb21lIGNhc2VzLCBTdHJpY3RNb2RlIHNob3VsZCBhbHNvIGRvdWJsZS1yZW5kZXIgbGlmZWN5Y2xlcy5cbi8vIFRoaXMgY2FuIGJlIGNvbmZ1c2luZyBmb3IgdGVzdHMgdGhvdWdoLFxuLy8gQW5kIGl0IGNhbiBiZSBiYWQgZm9yIHBlcmZvcm1hbmNlIGluIHByb2R1Y3Rpb24uXG4vLyBUaGlzIGZlYXR1cmUgZmxhZyBjYW4gYmUgdXNlZCB0byBjb250cm9sIHRoZSBiZWhhdmlvcjpcbnZhciBkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHNGb3JTdHJpY3RNb2RlID0gdHJ1ZTtcblxuLy8gVG8gcHJlc2VydmUgdGhlIFwiUGF1c2Ugb24gY2F1Z2h0IGV4Y2VwdGlvbnNcIiBiZWhhdmlvciBvZiB0aGUgZGVidWdnZXIsIHdlXG4vLyByZXBsYXkgdGhlIGJlZ2luIHBoYXNlIG9mIGEgZmFpbGVkIGNvbXBvbmVudCBpbnNpZGUgaW52b2tlR3VhcmRlZENhbGxiYWNrLlxudmFyIHJlcGxheUZhaWxlZFVuaXRPZldvcmtXaXRoSW52b2tlR3VhcmRlZENhbGxiYWNrID0gdHJ1ZTtcblxuLy8gV2FybiBhYm91dCBkZXByZWNhdGVkLCBhc3luYy11bnNhZmUgbGlmZWN5Y2xlczsgcmVsYXRlcyB0byBSRkMgIzY6XG52YXIgd2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMgPSBmYWxzZTtcblxudmFyIGFsd2F5c1VzZVJlcXVlc3RJZGxlQ2FsbGJhY2tQb2x5ZmlsbCA9IGZhbHNlO1xuXG4vLyBPbmx5IHVzZWQgaW4gd3d3IGJ1aWxkcy5cblxuLy8gUHJlZml4IG1lYXN1cmVtZW50cyBzbyB0aGF0IGl0J3MgcG9zc2libGUgdG8gZmlsdGVyIHRoZW0uXG4vLyBMb25nZXIgcHJlZml4ZXMgYXJlIGhhcmQgdG8gcmVhZCBpbiBEZXZUb29scy5cbnZhciByZWFjdEVtb2ppID0gJ1xcdTI2OUInO1xudmFyIHdhcm5pbmdFbW9qaSA9ICdcXHUyNkQ0JztcbnZhciBzdXBwb3J0c1VzZXJUaW1pbmcgPSB0eXBlb2YgcGVyZm9ybWFuY2UgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwZXJmb3JtYW5jZS5tYXJrID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBwZXJmb3JtYW5jZS5jbGVhck1hcmtzID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBwZXJmb3JtYW5jZS5tZWFzdXJlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBwZXJmb3JtYW5jZS5jbGVhck1lYXN1cmVzID09PSAnZnVuY3Rpb24nO1xuXG4vLyBLZWVwIHRyYWNrIG9mIGN1cnJlbnQgZmliZXIgc28gdGhhdCB3ZSBrbm93IHRoZSBwYXRoIHRvIHVud2luZCBvbiBwYXVzZS5cbi8vIFRPRE86IHRoaXMgbG9va3MgdGhlIHNhbWUgYXMgbmV4dFVuaXRPZldvcmsgaW4gc2NoZWR1bGVyLiBDYW4gd2UgdW5pZnkgdGhlbT9cbnZhciBjdXJyZW50RmliZXIgPSBudWxsO1xuLy8gSWYgd2UncmUgaW4gdGhlIG1pZGRsZSBvZiB1c2VyIGNvZGUsIHdoaWNoIGZpYmVyIGFuZCBtZXRob2QgaXMgaXQ/XG4vLyBSZXVzaW5nIGBjdXJyZW50RmliZXJgIHdvdWxkIGJlIGNvbmZ1c2luZyBmb3IgdGhpcyBiZWNhdXNlIHVzZXIgY29kZSBmaWJlclxuLy8gY2FuIGNoYW5nZSBkdXJpbmcgY29tbWl0IHBoYXNlIHRvbywgYnV0IHdlIGRvbid0IG5lZWQgdG8gdW53aW5kIGl0IChzaW5jZVxuLy8gbGlmZWN5Y2xlcyBpbiB0aGUgY29tbWl0IHBoYXNlIGRvbid0IHJlc2VtYmxlIGEgdHJlZSkuXG52YXIgY3VycmVudFBoYXNlID0gbnVsbDtcbnZhciBjdXJyZW50UGhhc2VGaWJlciA9IG51bGw7XG4vLyBEaWQgbGlmZWN5Y2xlIGhvb2sgc2NoZWR1bGUgYW4gdXBkYXRlPyBUaGlzIGlzIG9mdGVuIGEgcGVyZm9ybWFuY2UgcHJvYmxlbSxcbi8vIHNvIHdlIHdpbGwga2VlcCB0cmFjayBvZiBpdCwgYW5kIGluY2x1ZGUgaXQgaW4gdGhlIHJlcG9ydC5cbi8vIFRyYWNrIGNvbW1pdHMgY2F1c2VkIGJ5IGNhc2NhZGluZyB1cGRhdGVzLlxudmFyIGlzQ29tbWl0dGluZyA9IGZhbHNlO1xudmFyIGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudENvbW1pdCA9IGZhbHNlO1xudmFyIGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudFBoYXNlID0gZmFsc2U7XG52YXIgY29tbWl0Q291bnRJbkN1cnJlbnRXb3JrTG9vcCA9IDA7XG52YXIgZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQgPSAwO1xudmFyIGlzV2FpdGluZ0ZvckNhbGxiYWNrID0gZmFsc2U7XG4vLyBEdXJpbmcgY29tbWl0cywgd2Ugb25seSBzaG93IGEgbWVhc3VyZW1lbnQgb25jZSBwZXIgbWV0aG9kIG5hbWVcbi8vIHRvIGF2b2lkIHN0cmV0Y2ggdGhlIGNvbW1pdCBwaGFzZSB3aXRoIG1lYXN1cmVtZW50IG92ZXJoZWFkLlxudmFyIGxhYmVsc0luQ3VycmVudENvbW1pdCA9IG5ldyBTZXQoKTtcblxudmFyIGZvcm1hdE1hcmtOYW1lID0gZnVuY3Rpb24gKG1hcmtOYW1lKSB7XG4gIHJldHVybiByZWFjdEVtb2ppICsgJyAnICsgbWFya05hbWU7XG59O1xuXG52YXIgZm9ybWF0TGFiZWwgPSBmdW5jdGlvbiAobGFiZWwsIHdhcm5pbmckJDEpIHtcbiAgdmFyIHByZWZpeCA9IHdhcm5pbmckJDEgPyB3YXJuaW5nRW1vamkgKyAnICcgOiByZWFjdEVtb2ppICsgJyAnO1xuICB2YXIgc3VmZml4ID0gd2FybmluZyQkMSA/ICcgV2FybmluZzogJyArIHdhcm5pbmckJDEgOiAnJztcbiAgcmV0dXJuICcnICsgcHJlZml4ICsgbGFiZWwgKyBzdWZmaXg7XG59O1xuXG52YXIgYmVnaW5NYXJrID0gZnVuY3Rpb24gKG1hcmtOYW1lKSB7XG4gIHBlcmZvcm1hbmNlLm1hcmsoZm9ybWF0TWFya05hbWUobWFya05hbWUpKTtcbn07XG5cbnZhciBjbGVhck1hcmsgPSBmdW5jdGlvbiAobWFya05hbWUpIHtcbiAgcGVyZm9ybWFuY2UuY2xlYXJNYXJrcyhmb3JtYXRNYXJrTmFtZShtYXJrTmFtZSkpO1xufTtcblxudmFyIGVuZE1hcmsgPSBmdW5jdGlvbiAobGFiZWwsIG1hcmtOYW1lLCB3YXJuaW5nJCQxKSB7XG4gIHZhciBmb3JtYXR0ZWRNYXJrTmFtZSA9IGZvcm1hdE1hcmtOYW1lKG1hcmtOYW1lKTtcbiAgdmFyIGZvcm1hdHRlZExhYmVsID0gZm9ybWF0TGFiZWwobGFiZWwsIHdhcm5pbmckJDEpO1xuICB0cnkge1xuICAgIHBlcmZvcm1hbmNlLm1lYXN1cmUoZm9ybWF0dGVkTGFiZWwsIGZvcm1hdHRlZE1hcmtOYW1lKTtcbiAgfSBjYXRjaCAoZXJyKSB7fVxuICAvLyBJZiBwcmV2aW91cyBtYXJrIHdhcyBtaXNzaW5nIGZvciBzb21lIHJlYXNvbiwgdGhpcyB3aWxsIHRocm93LlxuICAvLyBUaGlzIGNvdWxkIG9ubHkgaGFwcGVuIGlmIFJlYWN0IGNyYXNoZWQgaW4gYW4gdW5leHBlY3RlZCBwbGFjZSBlYXJsaWVyLlxuICAvLyBEb24ndCBwaWxlIG9uIHdpdGggbW9yZSBlcnJvcnMuXG5cbiAgLy8gQ2xlYXIgbWFya3MgaW1tZWRpYXRlbHkgdG8gYXZvaWQgZ3Jvd2luZyBidWZmZXIuXG4gIHBlcmZvcm1hbmNlLmNsZWFyTWFya3MoZm9ybWF0dGVkTWFya05hbWUpO1xuICBwZXJmb3JtYW5jZS5jbGVhck1lYXN1cmVzKGZvcm1hdHRlZExhYmVsKTtcbn07XG5cbnZhciBnZXRGaWJlck1hcmtOYW1lID0gZnVuY3Rpb24gKGxhYmVsLCBkZWJ1Z0lEKSB7XG4gIHJldHVybiBsYWJlbCArICcgKCMnICsgZGVidWdJRCArICcpJztcbn07XG5cbnZhciBnZXRGaWJlckxhYmVsID0gZnVuY3Rpb24gKGNvbXBvbmVudE5hbWUsIGlzTW91bnRlZCwgcGhhc2UpIHtcbiAgaWYgKHBoYXNlID09PSBudWxsKSB7XG4gICAgLy8gVGhlc2UgYXJlIGNvbXBvc2l0ZSBjb21wb25lbnQgdG90YWwgdGltZSBtZWFzdXJlbWVudHMuXG4gICAgcmV0dXJuIGNvbXBvbmVudE5hbWUgKyAnIFsnICsgKGlzTW91bnRlZCA/ICd1cGRhdGUnIDogJ21vdW50JykgKyAnXSc7XG4gIH0gZWxzZSB7XG4gICAgLy8gQ29tcG9zaXRlIGNvbXBvbmVudCBtZXRob2RzLlxuICAgIHJldHVybiBjb21wb25lbnROYW1lICsgJy4nICsgcGhhc2U7XG4gIH1cbn07XG5cbnZhciBiZWdpbkZpYmVyTWFyayA9IGZ1bmN0aW9uIChmaWJlciwgcGhhc2UpIHtcbiAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKGZpYmVyKSB8fCAnVW5rbm93bic7XG4gIHZhciBkZWJ1Z0lEID0gZmliZXIuX2RlYnVnSUQ7XG4gIHZhciBpc01vdW50ZWQgPSBmaWJlci5hbHRlcm5hdGUgIT09IG51bGw7XG4gIHZhciBsYWJlbCA9IGdldEZpYmVyTGFiZWwoY29tcG9uZW50TmFtZSwgaXNNb3VudGVkLCBwaGFzZSk7XG5cbiAgaWYgKGlzQ29tbWl0dGluZyAmJiBsYWJlbHNJbkN1cnJlbnRDb21taXQuaGFzKGxhYmVsKSkge1xuICAgIC8vIER1cmluZyB0aGUgY29tbWl0IHBoYXNlLCB3ZSBkb24ndCBzaG93IGR1cGxpY2F0ZSBsYWJlbHMgYmVjYXVzZVxuICAgIC8vIHRoZXJlIGlzIGEgZml4ZWQgb3ZlcmhlYWQgZm9yIGV2ZXJ5IG1lYXN1cmVtZW50LCBhbmQgd2UgZG9uJ3RcbiAgICAvLyB3YW50IHRvIHN0cmV0Y2ggdGhlIGNvbW1pdCBwaGFzZSBiZXlvbmQgbmVjZXNzYXJ5LlxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBsYWJlbHNJbkN1cnJlbnRDb21taXQuYWRkKGxhYmVsKTtcblxuICB2YXIgbWFya05hbWUgPSBnZXRGaWJlck1hcmtOYW1lKGxhYmVsLCBkZWJ1Z0lEKTtcbiAgYmVnaW5NYXJrKG1hcmtOYW1lKTtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG52YXIgY2xlYXJGaWJlck1hcmsgPSBmdW5jdGlvbiAoZmliZXIsIHBoYXNlKSB7XG4gIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgJ1Vua25vd24nO1xuICB2YXIgZGVidWdJRCA9IGZpYmVyLl9kZWJ1Z0lEO1xuICB2YXIgaXNNb3VudGVkID0gZmliZXIuYWx0ZXJuYXRlICE9PSBudWxsO1xuICB2YXIgbGFiZWwgPSBnZXRGaWJlckxhYmVsKGNvbXBvbmVudE5hbWUsIGlzTW91bnRlZCwgcGhhc2UpO1xuICB2YXIgbWFya05hbWUgPSBnZXRGaWJlck1hcmtOYW1lKGxhYmVsLCBkZWJ1Z0lEKTtcbiAgY2xlYXJNYXJrKG1hcmtOYW1lKTtcbn07XG5cbnZhciBlbmRGaWJlck1hcmsgPSBmdW5jdGlvbiAoZmliZXIsIHBoYXNlLCB3YXJuaW5nJCQxKSB7XG4gIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgJ1Vua25vd24nO1xuICB2YXIgZGVidWdJRCA9IGZpYmVyLl9kZWJ1Z0lEO1xuICB2YXIgaXNNb3VudGVkID0gZmliZXIuYWx0ZXJuYXRlICE9PSBudWxsO1xuICB2YXIgbGFiZWwgPSBnZXRGaWJlckxhYmVsKGNvbXBvbmVudE5hbWUsIGlzTW91bnRlZCwgcGhhc2UpO1xuICB2YXIgbWFya05hbWUgPSBnZXRGaWJlck1hcmtOYW1lKGxhYmVsLCBkZWJ1Z0lEKTtcbiAgZW5kTWFyayhsYWJlbCwgbWFya05hbWUsIHdhcm5pbmckJDEpO1xufTtcblxudmFyIHNob3VsZElnbm9yZUZpYmVyID0gZnVuY3Rpb24gKGZpYmVyKSB7XG4gIC8vIEhvc3QgY29tcG9uZW50cyBzaG91bGQgYmUgc2tpcHBlZCBpbiB0aGUgdGltZWxpbmUuXG4gIC8vIFdlIGNvdWxkIGNoZWNrIHR5cGVvZiBmaWJlci50eXBlLCBidXQgZG9lcyB0aGlzIHdvcmsgd2l0aCBSTj9cbiAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICBjYXNlIEhvc3RSb290OlxuICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICBjYXNlIEhvc3RUZXh0OlxuICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICBjYXNlIENhbGxDb21wb25lbnQ6XG4gICAgY2FzZSBSZXR1cm5Db21wb25lbnQ6XG4gICAgY2FzZSBGcmFnbWVudDpcbiAgICBjYXNlIENvbnRleHRQcm92aWRlcjpcbiAgICBjYXNlIENvbnRleHRDb25zdW1lcjpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbnZhciBjbGVhclBlbmRpbmdQaGFzZU1lYXN1cmVtZW50ID0gZnVuY3Rpb24gKCkge1xuICBpZiAoY3VycmVudFBoYXNlICE9PSBudWxsICYmIGN1cnJlbnRQaGFzZUZpYmVyICE9PSBudWxsKSB7XG4gICAgY2xlYXJGaWJlck1hcmsoY3VycmVudFBoYXNlRmliZXIsIGN1cnJlbnRQaGFzZSk7XG4gIH1cbiAgY3VycmVudFBoYXNlRmliZXIgPSBudWxsO1xuICBjdXJyZW50UGhhc2UgPSBudWxsO1xuICBoYXNTY2hlZHVsZWRVcGRhdGVJbkN1cnJlbnRQaGFzZSA9IGZhbHNlO1xufTtcblxudmFyIHBhdXNlVGltZXJzID0gZnVuY3Rpb24gKCkge1xuICAvLyBTdG9wcyBhbGwgY3VycmVudGx5IGFjdGl2ZSBtZWFzdXJlbWVudHMgc28gdGhhdCB0aGV5IGNhbiBiZSByZXN1bWVkXG4gIC8vIGlmIHdlIGNvbnRpbnVlIGluIGEgbGF0ZXIgZGVmZXJyZWQgbG9vcCBmcm9tIHRoZSBzYW1lIHVuaXQgb2Ygd29yay5cbiAgdmFyIGZpYmVyID0gY3VycmVudEZpYmVyO1xuICB3aGlsZSAoZmliZXIpIHtcbiAgICBpZiAoZmliZXIuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmcpIHtcbiAgICAgIGVuZEZpYmVyTWFyayhmaWJlciwgbnVsbCwgbnVsbCk7XG4gICAgfVxuICAgIGZpYmVyID0gZmliZXJbJ3JldHVybiddO1xuICB9XG59O1xuXG52YXIgcmVzdW1lVGltZXJzUmVjdXJzaXZlbHkgPSBmdW5jdGlvbiAoZmliZXIpIHtcbiAgaWYgKGZpYmVyWydyZXR1cm4nXSAhPT0gbnVsbCkge1xuICAgIHJlc3VtZVRpbWVyc1JlY3Vyc2l2ZWx5KGZpYmVyWydyZXR1cm4nXSk7XG4gIH1cbiAgaWYgKGZpYmVyLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nKSB7XG4gICAgYmVnaW5GaWJlck1hcmsoZmliZXIsIG51bGwpO1xuICB9XG59O1xuXG52YXIgcmVzdW1lVGltZXJzID0gZnVuY3Rpb24gKCkge1xuICAvLyBSZXN1bWVzIGFsbCBtZWFzdXJlbWVudHMgdGhhdCB3ZXJlIGFjdGl2ZSBkdXJpbmcgdGhlIGxhc3QgZGVmZXJyZWQgbG9vcC5cbiAgaWYgKGN1cnJlbnRGaWJlciAhPT0gbnVsbCkge1xuICAgIHJlc3VtZVRpbWVyc1JlY3Vyc2l2ZWx5KGN1cnJlbnRGaWJlcik7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHJlY29yZEVmZmVjdCgpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBlZmZlY3RDb3VudEluQ3VycmVudENvbW1pdCsrO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlY29yZFNjaGVkdWxlVXBkYXRlKCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmIChpc0NvbW1pdHRpbmcpIHtcbiAgICAgIGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudENvbW1pdCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChjdXJyZW50UGhhc2UgIT09IG51bGwgJiYgY3VycmVudFBoYXNlICE9PSAnY29tcG9uZW50V2lsbE1vdW50JyAmJiBjdXJyZW50UGhhc2UgIT09ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJykge1xuICAgICAgaGFzU2NoZWR1bGVkVXBkYXRlSW5DdXJyZW50UGhhc2UgPSB0cnVlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydFJlcXVlc3RDYWxsYmFja1RpbWVyKCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmIChzdXBwb3J0c1VzZXJUaW1pbmcgJiYgIWlzV2FpdGluZ0ZvckNhbGxiYWNrKSB7XG4gICAgICBpc1dhaXRpbmdGb3JDYWxsYmFjayA9IHRydWU7XG4gICAgICBiZWdpbk1hcmsoJyhXYWl0aW5nIGZvciBhc3luYyBjYWxsYmFjay4uLiknKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RvcFJlcXVlc3RDYWxsYmFja1RpbWVyKGRpZEV4cGlyZSwgZXhwaXJhdGlvblRpbWUpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICBpc1dhaXRpbmdGb3JDYWxsYmFjayA9IGZhbHNlO1xuICAgICAgdmFyIHdhcm5pbmckJDEgPSBkaWRFeHBpcmUgPyAnUmVhY3Qgd2FzIGJsb2NrZWQgYnkgbWFpbiB0aHJlYWQnIDogbnVsbDtcbiAgICAgIGVuZE1hcmsoJyhXYWl0aW5nIGZvciBhc3luYyBjYWxsYmFjay4uLiB3aWxsIGZvcmNlIGZsdXNoIGluICcgKyBleHBpcmF0aW9uVGltZSArICcgbXMpJywgJyhXYWl0aW5nIGZvciBhc3luYyBjYWxsYmFjay4uLiknLCB3YXJuaW5nJCQxKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRXb3JrVGltZXIoZmliZXIpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZyB8fCBzaG91bGRJZ25vcmVGaWJlcihmaWJlcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gSWYgd2UgcGF1c2UsIHRoaXMgaXMgdGhlIGZpYmVyIHRvIHVud2luZCBmcm9tLlxuICAgIGN1cnJlbnRGaWJlciA9IGZpYmVyO1xuICAgIGlmICghYmVnaW5GaWJlck1hcmsoZmliZXIsIG51bGwpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZpYmVyLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nID0gdHJ1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjYW5jZWxXb3JrVGltZXIoZmliZXIpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZyB8fCBzaG91bGRJZ25vcmVGaWJlcihmaWJlcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gUmVtZW1iZXIgd2Ugc2hvdWxkbid0IGNvbXBsZXRlIG1lYXN1cmVtZW50IGZvciB0aGlzIGZpYmVyLlxuICAgIC8vIE90aGVyd2lzZSBmbGFtZWNoYXJ0IHdpbGwgYmUgZGVlcCBldmVuIGZvciBzbWFsbCB1cGRhdGVzLlxuICAgIGZpYmVyLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nID0gZmFsc2U7XG4gICAgY2xlYXJGaWJlck1hcmsoZmliZXIsIG51bGwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3BXb3JrVGltZXIoZmliZXIpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZyB8fCBzaG91bGRJZ25vcmVGaWJlcihmaWJlcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gSWYgd2UgcGF1c2UsIGl0cyBwYXJlbnQgaXMgdGhlIGZpYmVyIHRvIHVud2luZCBmcm9tLlxuICAgIGN1cnJlbnRGaWJlciA9IGZpYmVyWydyZXR1cm4nXTtcbiAgICBpZiAoIWZpYmVyLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZpYmVyLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nID0gZmFsc2U7XG4gICAgZW5kRmliZXJNYXJrKGZpYmVyLCBudWxsLCBudWxsKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdG9wRmFpbGVkV29ya1RpbWVyKGZpYmVyKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcgfHwgc2hvdWxkSWdub3JlRmliZXIoZmliZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIElmIHdlIHBhdXNlLCBpdHMgcGFyZW50IGlzIHRoZSBmaWJlciB0byB1bndpbmQgZnJvbS5cbiAgICBjdXJyZW50RmliZXIgPSBmaWJlclsncmV0dXJuJ107XG4gICAgaWYgKCFmaWJlci5fZGVidWdJc0N1cnJlbnRseVRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmaWJlci5fZGVidWdJc0N1cnJlbnRseVRpbWluZyA9IGZhbHNlO1xuICAgIHZhciB3YXJuaW5nJCQxID0gJ0FuIGVycm9yIHdhcyB0aHJvd24gaW5zaWRlIHRoaXMgZXJyb3IgYm91bmRhcnknO1xuICAgIGVuZEZpYmVyTWFyayhmaWJlciwgbnVsbCwgd2FybmluZyQkMSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRQaGFzZVRpbWVyKGZpYmVyLCBwaGFzZSkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNsZWFyUGVuZGluZ1BoYXNlTWVhc3VyZW1lbnQoKTtcbiAgICBpZiAoIWJlZ2luRmliZXJNYXJrKGZpYmVyLCBwaGFzZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudFBoYXNlRmliZXIgPSBmaWJlcjtcbiAgICBjdXJyZW50UGhhc2UgPSBwaGFzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdG9wUGhhc2VUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFBoYXNlICE9PSBudWxsICYmIGN1cnJlbnRQaGFzZUZpYmVyICE9PSBudWxsKSB7XG4gICAgICB2YXIgd2FybmluZyQkMSA9IGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudFBoYXNlID8gJ1NjaGVkdWxlZCBhIGNhc2NhZGluZyB1cGRhdGUnIDogbnVsbDtcbiAgICAgIGVuZEZpYmVyTWFyayhjdXJyZW50UGhhc2VGaWJlciwgY3VycmVudFBoYXNlLCB3YXJuaW5nJCQxKTtcbiAgICB9XG4gICAgY3VycmVudFBoYXNlID0gbnVsbDtcbiAgICBjdXJyZW50UGhhc2VGaWJlciA9IG51bGw7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRXb3JrTG9vcFRpbWVyKG5leHRVbml0T2ZXb3JrKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgY3VycmVudEZpYmVyID0gbmV4dFVuaXRPZldvcms7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29tbWl0Q291bnRJbkN1cnJlbnRXb3JrTG9vcCA9IDA7XG4gICAgLy8gVGhpcyBpcyB0b3AgbGV2ZWwgY2FsbC5cbiAgICAvLyBBbnkgb3RoZXIgbWVhc3VyZW1lbnRzIGFyZSBwZXJmb3JtZWQgd2l0aGluLlxuICAgIGJlZ2luTWFyaygnKFJlYWN0IFRyZWUgUmVjb25jaWxpYXRpb24pJyk7XG4gICAgLy8gUmVzdW1lIGFueSBtZWFzdXJlbWVudHMgdGhhdCB3ZXJlIGluIHByb2dyZXNzIGR1cmluZyB0aGUgbGFzdCBsb29wLlxuICAgIHJlc3VtZVRpbWVycygpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3BXb3JrTG9vcFRpbWVyKGludGVycnVwdGVkQnksIGRpZENvbXBsZXRlUm9vdCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB3YXJuaW5nJCQxID0gbnVsbDtcbiAgICBpZiAoaW50ZXJydXB0ZWRCeSAhPT0gbnVsbCkge1xuICAgICAgaWYgKGludGVycnVwdGVkQnkudGFnID09PSBIb3N0Um9vdCkge1xuICAgICAgICB3YXJuaW5nJCQxID0gJ0EgdG9wLWxldmVsIHVwZGF0ZSBpbnRlcnJ1cHRlZCB0aGUgcHJldmlvdXMgcmVuZGVyJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZShpbnRlcnJ1cHRlZEJ5KSB8fCAnVW5rbm93bic7XG4gICAgICAgIHdhcm5pbmckJDEgPSAnQW4gdXBkYXRlIHRvICcgKyBjb21wb25lbnROYW1lICsgJyBpbnRlcnJ1cHRlZCB0aGUgcHJldmlvdXMgcmVuZGVyJztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNvbW1pdENvdW50SW5DdXJyZW50V29ya0xvb3AgPiAxKSB7XG4gICAgICB3YXJuaW5nJCQxID0gJ1RoZXJlIHdlcmUgY2FzY2FkaW5nIHVwZGF0ZXMnO1xuICAgIH1cbiAgICBjb21taXRDb3VudEluQ3VycmVudFdvcmtMb29wID0gMDtcbiAgICB2YXIgbGFiZWwgPSBkaWRDb21wbGV0ZVJvb3QgPyAnKFJlYWN0IFRyZWUgUmVjb25jaWxpYXRpb246IENvbXBsZXRlZCBSb290KScgOiAnKFJlYWN0IFRyZWUgUmVjb25jaWxpYXRpb246IFlpZWxkZWQpJztcbiAgICAvLyBQYXVzZSBhbnkgbWVhc3VyZW1lbnRzIHVudGlsIHRoZSBuZXh0IGxvb3AuXG4gICAgcGF1c2VUaW1lcnMoKTtcbiAgICBlbmRNYXJrKGxhYmVsLCAnKFJlYWN0IFRyZWUgUmVjb25jaWxpYXRpb24pJywgd2FybmluZyQkMSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRDb21taXRUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpc0NvbW1pdHRpbmcgPSB0cnVlO1xuICAgIGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudENvbW1pdCA9IGZhbHNlO1xuICAgIGxhYmVsc0luQ3VycmVudENvbW1pdC5jbGVhcigpO1xuICAgIGJlZ2luTWFyaygnKENvbW1pdHRpbmcgQ2hhbmdlcyknKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdG9wQ29tbWl0VGltZXIoKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgd2FybmluZyQkMSA9IG51bGw7XG4gICAgaWYgKGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudENvbW1pdCkge1xuICAgICAgd2FybmluZyQkMSA9ICdMaWZlY3ljbGUgaG9vayBzY2hlZHVsZWQgYSBjYXNjYWRpbmcgdXBkYXRlJztcbiAgICB9IGVsc2UgaWYgKGNvbW1pdENvdW50SW5DdXJyZW50V29ya0xvb3AgPiAwKSB7XG4gICAgICB3YXJuaW5nJCQxID0gJ0NhdXNlZCBieSBhIGNhc2NhZGluZyB1cGRhdGUgaW4gZWFybGllciBjb21taXQnO1xuICAgIH1cbiAgICBoYXNTY2hlZHVsZWRVcGRhdGVJbkN1cnJlbnRDb21taXQgPSBmYWxzZTtcbiAgICBjb21taXRDb3VudEluQ3VycmVudFdvcmtMb29wKys7XG4gICAgaXNDb21taXR0aW5nID0gZmFsc2U7XG4gICAgbGFiZWxzSW5DdXJyZW50Q29tbWl0LmNsZWFyKCk7XG5cbiAgICBlbmRNYXJrKCcoQ29tbWl0dGluZyBDaGFuZ2VzKScsICcoQ29tbWl0dGluZyBDaGFuZ2VzKScsIHdhcm5pbmckJDEpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0YXJ0Q29tbWl0U25hcHNob3RFZmZlY3RzVGltZXIoKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQgPSAwO1xuICAgIGJlZ2luTWFyaygnKENvbW1pdHRpbmcgU25hcHNob3QgRWZmZWN0cyknKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdG9wQ29tbWl0U25hcHNob3RFZmZlY3RzVGltZXIoKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGNvdW50ID0gZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQ7XG4gICAgZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQgPSAwO1xuICAgIGVuZE1hcmsoJyhDb21taXR0aW5nIFNuYXBzaG90IEVmZmVjdHM6ICcgKyBjb3VudCArICcgVG90YWwpJywgJyhDb21taXR0aW5nIFNuYXBzaG90IEVmZmVjdHMpJywgbnVsbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRDb21taXRIb3N0RWZmZWN0c1RpbWVyKCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0ID0gMDtcbiAgICBiZWdpbk1hcmsoJyhDb21taXR0aW5nIEhvc3QgRWZmZWN0cyknKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdG9wQ29tbWl0SG9zdEVmZmVjdHNUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY291bnQgPSBlZmZlY3RDb3VudEluQ3VycmVudENvbW1pdDtcbiAgICBlZmZlY3RDb3VudEluQ3VycmVudENvbW1pdCA9IDA7XG4gICAgZW5kTWFyaygnKENvbW1pdHRpbmcgSG9zdCBFZmZlY3RzOiAnICsgY291bnQgKyAnIFRvdGFsKScsICcoQ29tbWl0dGluZyBIb3N0IEVmZmVjdHMpJywgbnVsbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRDb21taXRMaWZlQ3ljbGVzVGltZXIoKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQgPSAwO1xuICAgIGJlZ2luTWFyaygnKENhbGxpbmcgTGlmZWN5Y2xlIE1ldGhvZHMpJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RvcENvbW1pdExpZmVDeWNsZXNUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY291bnQgPSBlZmZlY3RDb3VudEluQ3VycmVudENvbW1pdDtcbiAgICBlZmZlY3RDb3VudEluQ3VycmVudENvbW1pdCA9IDA7XG4gICAgZW5kTWFyaygnKENhbGxpbmcgTGlmZWN5Y2xlIE1ldGhvZHM6ICcgKyBjb3VudCArICcgVG90YWwpJywgJyhDYWxsaW5nIExpZmVjeWNsZSBNZXRob2RzKScsIG51bGwpO1xuICB9XG59XG5cbnZhciBkaWRXYXJuVXBkYXRlSW5zaWRlVXBkYXRlID0gdm9pZCAwO1xuXG57XG4gIGRpZFdhcm5VcGRhdGVJbnNpZGVVcGRhdGUgPSBmYWxzZTtcbn1cblxuLy8gQ2FsbGJhY2tzIGFyZSBub3QgdmFsaWRhdGVkIHVudGlsIGludm9jYXRpb25cblxuXG4vLyBTaW5nbHkgbGlua2VkLWxpc3Qgb2YgdXBkYXRlcy4gV2hlbiBhbiB1cGRhdGUgaXMgc2NoZWR1bGVkLCBpdCBpcyBhZGRlZCB0b1xuLy8gdGhlIHF1ZXVlIG9mIHRoZSBjdXJyZW50IGZpYmVyIGFuZCB0aGUgd29yay1pbi1wcm9ncmVzcyBmaWJlci4gVGhlIHR3byBxdWV1ZXNcbi8vIGFyZSBzZXBhcmF0ZSBidXQgdGhleSBzaGFyZSBhIHBlcnNpc3RlbnQgc3RydWN0dXJlLlxuLy9cbi8vIER1cmluZyByZWNvbmNpbGlhdGlvbiwgdXBkYXRlcyBhcmUgcmVtb3ZlZCBmcm9tIHRoZSB3b3JrLWluLXByb2dyZXNzIGZpYmVyLFxuLy8gYnV0IHRoZXkgcmVtYWluIG9uIHRoZSBjdXJyZW50IGZpYmVyLiBUaGF0IGVuc3VyZXMgdGhhdCBpZiBhIHdvcmstaW4tcHJvZ3Jlc3Ncbi8vIGlzIGFib3J0ZWQsIHRoZSBhYm9ydGVkIHVwZGF0ZXMgYXJlIHJlY292ZXJlZCBieSBjbG9uaW5nIGZyb20gY3VycmVudC5cbi8vXG4vLyBUaGUgd29yay1pbi1wcm9ncmVzcyBxdWV1ZSBpcyBhbHdheXMgYSBzdWJzZXQgb2YgdGhlIGN1cnJlbnQgcXVldWUuXG4vL1xuLy8gV2hlbiB0aGUgdHJlZSBpcyBjb21taXR0ZWQsIHRoZSB3b3JrLWluLXByb2dyZXNzIGJlY29tZXMgdGhlIGN1cnJlbnQuXG5cblxuZnVuY3Rpb24gY3JlYXRlVXBkYXRlUXVldWUoYmFzZVN0YXRlKSB7XG4gIHZhciBxdWV1ZSA9IHtcbiAgICBiYXNlU3RhdGU6IGJhc2VTdGF0ZSxcbiAgICBleHBpcmF0aW9uVGltZTogTm9Xb3JrLFxuICAgIGZpcnN0OiBudWxsLFxuICAgIGxhc3Q6IG51bGwsXG4gICAgY2FsbGJhY2tMaXN0OiBudWxsLFxuICAgIGhhc0ZvcmNlVXBkYXRlOiBmYWxzZSxcbiAgICBpc0luaXRpYWxpemVkOiBmYWxzZSxcbiAgICBjYXB0dXJlZFZhbHVlczogbnVsbFxuICB9O1xuICB7XG4gICAgcXVldWUuaXNQcm9jZXNzaW5nID0gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHF1ZXVlO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRVcGRhdGVJbnRvUXVldWUocXVldWUsIHVwZGF0ZSkge1xuICAvLyBBcHBlbmQgdGhlIHVwZGF0ZSB0byB0aGUgZW5kIG9mIHRoZSBsaXN0LlxuICBpZiAocXVldWUubGFzdCA9PT0gbnVsbCkge1xuICAgIC8vIFF1ZXVlIGlzIGVtcHR5XG4gICAgcXVldWUuZmlyc3QgPSBxdWV1ZS5sYXN0ID0gdXBkYXRlO1xuICB9IGVsc2Uge1xuICAgIHF1ZXVlLmxhc3QubmV4dCA9IHVwZGF0ZTtcbiAgICBxdWV1ZS5sYXN0ID0gdXBkYXRlO1xuICB9XG4gIGlmIChxdWV1ZS5leHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8IHF1ZXVlLmV4cGlyYXRpb25UaW1lID4gdXBkYXRlLmV4cGlyYXRpb25UaW1lKSB7XG4gICAgcXVldWUuZXhwaXJhdGlvblRpbWUgPSB1cGRhdGUuZXhwaXJhdGlvblRpbWU7XG4gIH1cbn1cblxudmFyIHExID0gdm9pZCAwO1xudmFyIHEyID0gdm9pZCAwO1xuZnVuY3Rpb24gZW5zdXJlVXBkYXRlUXVldWVzKGZpYmVyKSB7XG4gIHExID0gcTIgPSBudWxsO1xuICAvLyBXZSdsbCBoYXZlIGF0IGxlYXN0IG9uZSBhbmQgYXQgbW9zdCB0d28gZGlzdGluY3QgdXBkYXRlIHF1ZXVlcy5cbiAgdmFyIGFsdGVybmF0ZUZpYmVyID0gZmliZXIuYWx0ZXJuYXRlO1xuICB2YXIgcXVldWUxID0gZmliZXIudXBkYXRlUXVldWU7XG4gIGlmIChxdWV1ZTEgPT09IG51bGwpIHtcbiAgICAvLyBUT0RPOiBXZSBkb24ndCBrbm93IHdoYXQgdGhlIGJhc2Ugc3RhdGUgd2lsbCBiZSB1bnRpbCB3ZSBiZWdpbiB3b3JrLlxuICAgIC8vIEl0IGRlcGVuZHMgb24gd2hpY2ggZmliZXIgaXMgdGhlIG5leHQgY3VycmVudC4gSW5pdGlhbGl6ZSB3aXRoIGFuIGVtcHR5XG4gICAgLy8gYmFzZSBzdGF0ZSwgdGhlbiBzZXQgdG8gdGhlIG1lbW9pemVkU3RhdGUgd2hlbiByZW5kZXJpbmcuIE5vdCBzdXBlclxuICAgIC8vIGhhcHB5IHdpdGggdGhpcyBhcHByb2FjaC5cbiAgICBxdWV1ZTEgPSBmaWJlci51cGRhdGVRdWV1ZSA9IGNyZWF0ZVVwZGF0ZVF1ZXVlKG51bGwpO1xuICB9XG5cbiAgdmFyIHF1ZXVlMiA9IHZvaWQgMDtcbiAgaWYgKGFsdGVybmF0ZUZpYmVyICE9PSBudWxsKSB7XG4gICAgcXVldWUyID0gYWx0ZXJuYXRlRmliZXIudXBkYXRlUXVldWU7XG4gICAgaWYgKHF1ZXVlMiA9PT0gbnVsbCkge1xuICAgICAgcXVldWUyID0gYWx0ZXJuYXRlRmliZXIudXBkYXRlUXVldWUgPSBjcmVhdGVVcGRhdGVRdWV1ZShudWxsKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcXVldWUyID0gbnVsbDtcbiAgfVxuICBxdWV1ZTIgPSBxdWV1ZTIgIT09IHF1ZXVlMSA/IHF1ZXVlMiA6IG51bGw7XG5cbiAgLy8gVXNlIG1vZHVsZSB2YXJpYWJsZXMgaW5zdGVhZCBvZiByZXR1cm5pbmcgYSB0dXBsZVxuICBxMSA9IHF1ZXVlMTtcbiAgcTIgPSBxdWV1ZTI7XG59XG5cbmZ1bmN0aW9uIGluc2VydFVwZGF0ZUludG9GaWJlcihmaWJlciwgdXBkYXRlKSB7XG4gIGVuc3VyZVVwZGF0ZVF1ZXVlcyhmaWJlcik7XG4gIHZhciBxdWV1ZTEgPSBxMTtcbiAgdmFyIHF1ZXVlMiA9IHEyO1xuXG4gIC8vIFdhcm4gaWYgYW4gdXBkYXRlIGlzIHNjaGVkdWxlZCBmcm9tIGluc2lkZSBhbiB1cGRhdGVyIGZ1bmN0aW9uLlxuICB7XG4gICAgaWYgKChxdWV1ZTEuaXNQcm9jZXNzaW5nIHx8IHF1ZXVlMiAhPT0gbnVsbCAmJiBxdWV1ZTIuaXNQcm9jZXNzaW5nKSAmJiAhZGlkV2FyblVwZGF0ZUluc2lkZVVwZGF0ZSkge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ0FuIHVwZGF0ZSAoc2V0U3RhdGUsIHJlcGxhY2VTdGF0ZSwgb3IgZm9yY2VVcGRhdGUpIHdhcyBzY2hlZHVsZWQgJyArICdmcm9tIGluc2lkZSBhbiB1cGRhdGUgZnVuY3Rpb24uIFVwZGF0ZSBmdW5jdGlvbnMgc2hvdWxkIGJlIHB1cmUsICcgKyAnd2l0aCB6ZXJvIHNpZGUtZWZmZWN0cy4gQ29uc2lkZXIgdXNpbmcgY29tcG9uZW50RGlkVXBkYXRlIG9yIGEgJyArICdjYWxsYmFjay4nKTtcbiAgICAgIGRpZFdhcm5VcGRhdGVJbnNpZGVVcGRhdGUgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8vIElmIHRoZXJlJ3Mgb25seSBvbmUgcXVldWUsIGFkZCB0aGUgdXBkYXRlIHRvIHRoYXQgcXVldWUgYW5kIGV4aXQuXG4gIGlmIChxdWV1ZTIgPT09IG51bGwpIHtcbiAgICBpbnNlcnRVcGRhdGVJbnRvUXVldWUocXVldWUxLCB1cGRhdGUpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIElmIGVpdGhlciBxdWV1ZSBpcyBlbXB0eSwgd2UgbmVlZCB0byBhZGQgdG8gYm90aCBxdWV1ZXMuXG4gIGlmIChxdWV1ZTEubGFzdCA9PT0gbnVsbCB8fCBxdWV1ZTIubGFzdCA9PT0gbnVsbCkge1xuICAgIGluc2VydFVwZGF0ZUludG9RdWV1ZShxdWV1ZTEsIHVwZGF0ZSk7XG4gICAgaW5zZXJ0VXBkYXRlSW50b1F1ZXVlKHF1ZXVlMiwgdXBkYXRlKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBJZiBib3RoIGxpc3RzIGFyZSBub3QgZW1wdHksIHRoZSBsYXN0IHVwZGF0ZSBpcyB0aGUgc2FtZSBmb3IgYm90aCBsaXN0c1xuICAvLyBiZWNhdXNlIG9mIHN0cnVjdHVyYWwgc2hhcmluZy4gU28sIHdlIHNob3VsZCBvbmx5IGFwcGVuZCB0byBvbmUgb2ZcbiAgLy8gdGhlIGxpc3RzLlxuICBpbnNlcnRVcGRhdGVJbnRvUXVldWUocXVldWUxLCB1cGRhdGUpO1xuICAvLyBCdXQgd2Ugc3RpbGwgbmVlZCB0byB1cGRhdGUgdGhlIGBsYXN0YCBwb2ludGVyIG9mIHF1ZXVlMi5cbiAgcXVldWUyLmxhc3QgPSB1cGRhdGU7XG59XG5cbmZ1bmN0aW9uIGdldFVwZGF0ZUV4cGlyYXRpb25UaW1lKGZpYmVyKSB7XG4gIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgY2FzZSBIb3N0Um9vdDpcbiAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gZmliZXIudXBkYXRlUXVldWU7XG4gICAgICBpZiAodXBkYXRlUXVldWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIE5vV29yaztcbiAgICAgIH1cbiAgICAgIHJldHVybiB1cGRhdGVRdWV1ZS5leHBpcmF0aW9uVGltZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIE5vV29yaztcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRTdGF0ZUZyb21VcGRhdGUodXBkYXRlLCBpbnN0YW5jZSwgcHJldlN0YXRlLCBwcm9wcykge1xuICB2YXIgcGFydGlhbFN0YXRlID0gdXBkYXRlLnBhcnRpYWxTdGF0ZTtcbiAgaWYgKHR5cGVvZiBwYXJ0aWFsU3RhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gcGFydGlhbFN0YXRlLmNhbGwoaW5zdGFuY2UsIHByZXZTdGF0ZSwgcHJvcHMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBwYXJ0aWFsU3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJvY2Vzc1VwZGF0ZVF1ZXVlKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBxdWV1ZSwgaW5zdGFuY2UsIHByb3BzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICBpZiAoY3VycmVudCAhPT0gbnVsbCAmJiBjdXJyZW50LnVwZGF0ZVF1ZXVlID09PSBxdWV1ZSkge1xuICAgIC8vIFdlIG5lZWQgdG8gY3JlYXRlIGEgd29yay1pbi1wcm9ncmVzcyBxdWV1ZSwgYnkgY2xvbmluZyB0aGUgY3VycmVudCBxdWV1ZS5cbiAgICB2YXIgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgcXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IHtcbiAgICAgIGJhc2VTdGF0ZTogY3VycmVudFF1ZXVlLmJhc2VTdGF0ZSxcbiAgICAgIGV4cGlyYXRpb25UaW1lOiBjdXJyZW50UXVldWUuZXhwaXJhdGlvblRpbWUsXG4gICAgICBmaXJzdDogY3VycmVudFF1ZXVlLmZpcnN0LFxuICAgICAgbGFzdDogY3VycmVudFF1ZXVlLmxhc3QsXG4gICAgICBpc0luaXRpYWxpemVkOiBjdXJyZW50UXVldWUuaXNJbml0aWFsaXplZCxcbiAgICAgIGNhcHR1cmVkVmFsdWVzOiBjdXJyZW50UXVldWUuY2FwdHVyZWRWYWx1ZXMsXG4gICAgICAvLyBUaGVzZSBmaWVsZHMgYXJlIG5vIGxvbmdlciB2YWxpZCBiZWNhdXNlIHRoZXkgd2VyZSBhbHJlYWR5IGNvbW1pdHRlZC5cbiAgICAgIC8vIFJlc2V0IHRoZW0uXG4gICAgICBjYWxsYmFja0xpc3Q6IG51bGwsXG4gICAgICBoYXNGb3JjZVVwZGF0ZTogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAge1xuICAgIC8vIFNldCB0aGlzIGZsYWcgc28gd2UgY2FuIHdhcm4gaWYgc2V0U3RhdGUgaXMgY2FsbGVkIGluc2lkZSB0aGUgdXBkYXRlXG4gICAgLy8gZnVuY3Rpb24gb2YgYW5vdGhlciBzZXRTdGF0ZS5cbiAgICBxdWV1ZS5pc1Byb2Nlc3NpbmcgPSB0cnVlO1xuICB9XG5cbiAgLy8gUmVzZXQgdGhlIHJlbWFpbmluZyBleHBpcmF0aW9uIHRpbWUuIElmIHdlIHNraXAgb3ZlciBhbnkgdXBkYXRlcywgd2UnbGxcbiAgLy8gaW5jcmVhc2UgdGhpcyBhY2NvcmRpbmdseS5cbiAgcXVldWUuZXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG5cbiAgLy8gVE9ETzogV2UgZG9uJ3Qga25vdyB3aGF0IHRoZSBiYXNlIHN0YXRlIHdpbGwgYmUgdW50aWwgd2UgYmVnaW4gd29yay5cbiAgLy8gSXQgZGVwZW5kcyBvbiB3aGljaCBmaWJlciBpcyB0aGUgbmV4dCBjdXJyZW50LiBJbml0aWFsaXplIHdpdGggYW4gZW1wdHlcbiAgLy8gYmFzZSBzdGF0ZSwgdGhlbiBzZXQgdG8gdGhlIG1lbW9pemVkU3RhdGUgd2hlbiByZW5kZXJpbmcuIE5vdCBzdXBlclxuICAvLyBoYXBweSB3aXRoIHRoaXMgYXBwcm9hY2guXG4gIHZhciBzdGF0ZSA9IHZvaWQgMDtcbiAgaWYgKHF1ZXVlLmlzSW5pdGlhbGl6ZWQpIHtcbiAgICBzdGF0ZSA9IHF1ZXVlLmJhc2VTdGF0ZTtcbiAgfSBlbHNlIHtcbiAgICBzdGF0ZSA9IHF1ZXVlLmJhc2VTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgcXVldWUuaXNJbml0aWFsaXplZCA9IHRydWU7XG4gIH1cbiAgdmFyIGRvbnRNdXRhdGVQcmV2U3RhdGUgPSB0cnVlO1xuICB2YXIgdXBkYXRlID0gcXVldWUuZmlyc3Q7XG4gIHZhciBkaWRTa2lwID0gZmFsc2U7XG4gIHdoaWxlICh1cGRhdGUgIT09IG51bGwpIHtcbiAgICB2YXIgdXBkYXRlRXhwaXJhdGlvblRpbWUgPSB1cGRhdGUuZXhwaXJhdGlvblRpbWU7XG4gICAgaWYgKHVwZGF0ZUV4cGlyYXRpb25UaW1lID4gcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICAgIC8vIFRoaXMgdXBkYXRlIGRvZXMgbm90IGhhdmUgc3VmZmljaWVudCBwcmlvcml0eS4gU2tpcCBpdC5cbiAgICAgIHZhciByZW1haW5pbmdFeHBpcmF0aW9uVGltZSA9IHF1ZXVlLmV4cGlyYXRpb25UaW1lO1xuICAgICAgaWYgKHJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHwgcmVtYWluaW5nRXhwaXJhdGlvblRpbWUgPiB1cGRhdGVFeHBpcmF0aW9uVGltZSkge1xuICAgICAgICAvLyBVcGRhdGUgdGhlIHJlbWFpbmluZyBleHBpcmF0aW9uIHRpbWUuXG4gICAgICAgIHF1ZXVlLmV4cGlyYXRpb25UaW1lID0gdXBkYXRlRXhwaXJhdGlvblRpbWU7XG4gICAgICB9XG4gICAgICBpZiAoIWRpZFNraXApIHtcbiAgICAgICAgZGlkU2tpcCA9IHRydWU7XG4gICAgICAgIHF1ZXVlLmJhc2VTdGF0ZSA9IHN0YXRlO1xuICAgICAgfVxuICAgICAgLy8gQ29udGludWUgdG8gdGhlIG5leHQgdXBkYXRlLlxuICAgICAgdXBkYXRlID0gdXBkYXRlLm5leHQ7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIHVwZGF0ZSBkb2VzIGhhdmUgc3VmZmljaWVudCBwcmlvcml0eS5cblxuICAgIC8vIElmIG5vIHByZXZpb3VzIHVwZGF0ZXMgd2VyZSBza2lwcGVkLCBkcm9wIHRoaXMgdXBkYXRlIGZyb20gdGhlIHF1ZXVlIGJ5XG4gICAgLy8gYWR2YW5jaW5nIHRoZSBoZWFkIG9mIHRoZSBsaXN0LlxuICAgIGlmICghZGlkU2tpcCkge1xuICAgICAgcXVldWUuZmlyc3QgPSB1cGRhdGUubmV4dDtcbiAgICAgIGlmIChxdWV1ZS5maXJzdCA9PT0gbnVsbCkge1xuICAgICAgICBxdWV1ZS5sYXN0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJbnZva2Ugc2V0U3RhdGUgY2FsbGJhY2sgYW4gZXh0cmEgdGltZSB0byBoZWxwIGRldGVjdCBzaWRlLWVmZmVjdHMuXG4gICAgLy8gSWdub3JlIHRoZSByZXR1cm4gdmFsdWUgaW4gdGhpcyBjYXNlLlxuICAgIGlmIChkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHMgfHwgZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzRm9yU3RyaWN0TW9kZSAmJiB3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TW9kZSkge1xuICAgICAgZ2V0U3RhdGVGcm9tVXBkYXRlKHVwZGF0ZSwgaW5zdGFuY2UsIHN0YXRlLCBwcm9wcyk7XG4gICAgfVxuXG4gICAgLy8gUHJvY2VzcyB0aGUgdXBkYXRlXG4gICAgdmFyIF9wYXJ0aWFsU3RhdGUgPSB2b2lkIDA7XG4gICAgaWYgKHVwZGF0ZS5pc1JlcGxhY2UpIHtcbiAgICAgIHN0YXRlID0gZ2V0U3RhdGVGcm9tVXBkYXRlKHVwZGF0ZSwgaW5zdGFuY2UsIHN0YXRlLCBwcm9wcyk7XG4gICAgICBkb250TXV0YXRlUHJldlN0YXRlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3BhcnRpYWxTdGF0ZSA9IGdldFN0YXRlRnJvbVVwZGF0ZSh1cGRhdGUsIGluc3RhbmNlLCBzdGF0ZSwgcHJvcHMpO1xuICAgICAgaWYgKF9wYXJ0aWFsU3RhdGUpIHtcbiAgICAgICAgaWYgKGRvbnRNdXRhdGVQcmV2U3RhdGUpIHtcbiAgICAgICAgICAvLyAkRmxvd0ZpeE1lOiBJZGsgaG93IHRvIHR5cGUgdGhpcyBwcm9wZXJseS5cbiAgICAgICAgICBzdGF0ZSA9IF9hc3NpZ24oe30sIHN0YXRlLCBfcGFydGlhbFN0YXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGF0ZSA9IF9hc3NpZ24oc3RhdGUsIF9wYXJ0aWFsU3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGRvbnRNdXRhdGVQcmV2U3RhdGUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHVwZGF0ZS5pc0ZvcmNlZCkge1xuICAgICAgcXVldWUuaGFzRm9yY2VVcGRhdGUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodXBkYXRlLmNhbGxiYWNrICE9PSBudWxsKSB7XG4gICAgICAvLyBBcHBlbmQgdG8gbGlzdCBvZiBjYWxsYmFja3MuXG4gICAgICB2YXIgX2NhbGxiYWNrTGlzdCA9IHF1ZXVlLmNhbGxiYWNrTGlzdDtcbiAgICAgIGlmIChfY2FsbGJhY2tMaXN0ID09PSBudWxsKSB7XG4gICAgICAgIF9jYWxsYmFja0xpc3QgPSBxdWV1ZS5jYWxsYmFja0xpc3QgPSBbXTtcbiAgICAgIH1cbiAgICAgIF9jYWxsYmFja0xpc3QucHVzaCh1cGRhdGUpO1xuICAgIH1cbiAgICBpZiAodXBkYXRlLmNhcHR1cmVkVmFsdWUgIT09IG51bGwpIHtcbiAgICAgIHZhciBfY2FwdHVyZWRWYWx1ZXMgPSBxdWV1ZS5jYXB0dXJlZFZhbHVlcztcbiAgICAgIGlmIChfY2FwdHVyZWRWYWx1ZXMgPT09IG51bGwpIHtcbiAgICAgICAgcXVldWUuY2FwdHVyZWRWYWx1ZXMgPSBbdXBkYXRlLmNhcHR1cmVkVmFsdWVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2NhcHR1cmVkVmFsdWVzLnB1c2godXBkYXRlLmNhcHR1cmVkVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGUgPSB1cGRhdGUubmV4dDtcbiAgfVxuXG4gIGlmIChxdWV1ZS5jYWxsYmFja0xpc3QgIT09IG51bGwpIHtcbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gQ2FsbGJhY2s7XG4gIH0gZWxzZSBpZiAocXVldWUuZmlyc3QgPT09IG51bGwgJiYgIXF1ZXVlLmhhc0ZvcmNlVXBkYXRlICYmIHF1ZXVlLmNhcHR1cmVkVmFsdWVzID09PSBudWxsKSB7XG4gICAgLy8gVGhlIHF1ZXVlIGlzIGVtcHR5LiBXZSBjYW4gcmVzZXQgaXQuXG4gICAgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPSBudWxsO1xuICB9XG5cbiAgaWYgKCFkaWRTa2lwKSB7XG4gICAgZGlkU2tpcCA9IHRydWU7XG4gICAgcXVldWUuYmFzZVN0YXRlID0gc3RhdGU7XG4gIH1cblxuICB7XG4gICAgLy8gTm8gbG9uZ2VyIHByb2Nlc3NpbmcuXG4gICAgcXVldWUuaXNQcm9jZXNzaW5nID0gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gc3RhdGU7XG59XG5cbmZ1bmN0aW9uIGNvbW1pdENhbGxiYWNrcyhxdWV1ZSwgY29udGV4dCkge1xuICB2YXIgY2FsbGJhY2tMaXN0ID0gcXVldWUuY2FsbGJhY2tMaXN0O1xuICBpZiAoY2FsbGJhY2tMaXN0ID09PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIFNldCB0aGUgbGlzdCB0byBudWxsIHRvIG1ha2Ugc3VyZSB0aGV5IGRvbid0IGdldCBjYWxsZWQgbW9yZSB0aGFuIG9uY2UuXG4gIHF1ZXVlLmNhbGxiYWNrTGlzdCA9IG51bGw7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHVwZGF0ZSA9IGNhbGxiYWNrTGlzdFtpXTtcbiAgICB2YXIgX2NhbGxiYWNrID0gdXBkYXRlLmNhbGxiYWNrO1xuICAgIC8vIFRoaXMgdXBkYXRlIG1pZ2h0IGJlIHByb2Nlc3NlZCBhZ2Fpbi4gQ2xlYXIgdGhlIGNhbGxiYWNrIHNvIGl0J3Mgb25seVxuICAgIC8vIGNhbGxlZCBvbmNlLlxuICAgIHVwZGF0ZS5jYWxsYmFjayA9IG51bGw7XG4gICAgISh0eXBlb2YgX2NhbGxiYWNrID09PSAnZnVuY3Rpb24nKSA/IGludmFyaWFudChmYWxzZSwgJ0ludmFsaWQgYXJndW1lbnQgcGFzc2VkIGFzIGNhbGxiYWNrLiBFeHBlY3RlZCBhIGZ1bmN0aW9uLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcycsIF9jYWxsYmFjaykgOiB2b2lkIDA7XG4gICAgX2NhbGxiYWNrLmNhbGwoY29udGV4dCk7XG4gIH1cbn1cblxudmFyIGZha2VJbnRlcm5hbEluc3RhbmNlID0ge307XG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbnZhciBkaWRXYXJuQWJvdXRTdGF0ZUFzc2lnbm1lbnRGb3JDb21wb25lbnQgPSB2b2lkIDA7XG52YXIgZGlkV2FybkFib3V0VW5kZWZpbmVkRGVyaXZlZFN0YXRlID0gdm9pZCAwO1xudmFyIGRpZFdhcm5BYm91dFVuaW5pdGlhbGl6ZWRTdGF0ZSA9IHZvaWQgMDtcbnZhciBkaWRXYXJuQWJvdXRHZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZVdpdGhvdXREaWRVcGRhdGUgPSB2b2lkIDA7XG52YXIgZGlkV2FybkFib3V0TGVnYWN5TGlmZWN5Y2xlc0FuZERlcml2ZWRTdGF0ZSA9IHZvaWQgMDtcbnZhciB3YXJuT25JbnZhbGlkQ2FsbGJhY2skMSA9IHZvaWQgMDtcblxue1xuICBkaWRXYXJuQWJvdXRTdGF0ZUFzc2lnbm1lbnRGb3JDb21wb25lbnQgPSBuZXcgU2V0KCk7XG4gIGRpZFdhcm5BYm91dFVuZGVmaW5lZERlcml2ZWRTdGF0ZSA9IG5ldyBTZXQoKTtcbiAgZGlkV2FybkFib3V0VW5pbml0aWFsaXplZFN0YXRlID0gbmV3IFNldCgpO1xuICBkaWRXYXJuQWJvdXRHZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZVdpdGhvdXREaWRVcGRhdGUgPSBuZXcgU2V0KCk7XG4gIGRpZFdhcm5BYm91dExlZ2FjeUxpZmVjeWNsZXNBbmREZXJpdmVkU3RhdGUgPSBuZXcgU2V0KCk7XG5cbiAgdmFyIGRpZFdhcm5PbkludmFsaWRDYWxsYmFjayA9IG5ldyBTZXQoKTtcblxuICB3YXJuT25JbnZhbGlkQ2FsbGJhY2skMSA9IGZ1bmN0aW9uIChjYWxsYmFjaywgY2FsbGVyTmFtZSkge1xuICAgIGlmIChjYWxsYmFjayA9PT0gbnVsbCB8fCB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGtleSA9IGNhbGxlck5hbWUgKyAnXycgKyBjYWxsYmFjaztcbiAgICBpZiAoIWRpZFdhcm5PbkludmFsaWRDYWxsYmFjay5oYXMoa2V5KSkge1xuICAgICAgZGlkV2Fybk9uSW52YWxpZENhbGxiYWNrLmFkZChrZXkpO1xuICAgICAgd2FybmluZyhmYWxzZSwgJyVzKC4uLik6IEV4cGVjdGVkIHRoZSBsYXN0IG9wdGlvbmFsIGBjYWxsYmFja2AgYXJndW1lbnQgdG8gYmUgYSAnICsgJ2Z1bmN0aW9uLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcy4nLCBjYWxsZXJOYW1lLCBjYWxsYmFjayk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFRoaXMgaXMgc28gZ3Jvc3MgYnV0IGl0J3MgYXQgbGVhc3Qgbm9uLWNyaXRpY2FsIGFuZCBjYW4gYmUgcmVtb3ZlZCBpZlxuICAvLyBpdCBjYXVzZXMgcHJvYmxlbXMuIFRoaXMgaXMgbWVhbnQgdG8gZ2l2ZSBhIG5pY2VyIGVycm9yIG1lc3NhZ2UgZm9yXG4gIC8vIFJlYWN0RE9NMTUudW5zdGFibGVfcmVuZGVyU3VidHJlZUludG9Db250YWluZXIocmVhY3RET00xNkNvbXBvbmVudCxcbiAgLy8gLi4uKSkgd2hpY2ggb3RoZXJ3aXNlIHRocm93cyBhIFwiX3Byb2Nlc3NDaGlsZENvbnRleHQgaXMgbm90IGEgZnVuY3Rpb25cIlxuICAvLyBleGNlcHRpb24uXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmYWtlSW50ZXJuYWxJbnN0YW5jZSwgJ19wcm9jZXNzQ2hpbGRDb250ZXh0Jywge1xuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpbnZhcmlhbnQoZmFsc2UsICdfcHJvY2Vzc0NoaWxkQ29udGV4dCBpcyBub3QgYXZhaWxhYmxlIGluIFJlYWN0IDE2Ky4gVGhpcyBsaWtlbHkgbWVhbnMgeW91IGhhdmUgbXVsdGlwbGUgY29waWVzIG9mIFJlYWN0IGFuZCBhcmUgYXR0ZW1wdGluZyB0byBuZXN0IGEgUmVhY3QgMTUgdHJlZSBpbnNpZGUgYSBSZWFjdCAxNiB0cmVlIHVzaW5nIHVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyLCB3aGljaCBpc25cXCd0IHN1cHBvcnRlZC4gVHJ5IHRvIG1ha2Ugc3VyZSB5b3UgaGF2ZSBvbmx5IG9uZSBjb3B5IG9mIFJlYWN0IChhbmQgaWRlYWxseSwgc3dpdGNoIHRvIFJlYWN0RE9NLmNyZWF0ZVBvcnRhbCkuJyk7XG4gICAgfVxuICB9KTtcbiAgT2JqZWN0LmZyZWV6ZShmYWtlSW50ZXJuYWxJbnN0YW5jZSk7XG59XG5mdW5jdGlvbiBjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoKGN0b3IsIGNhcHR1cmVkVmFsdWVzKSB7XG4gIHZhciByZXN1bHRTdGF0ZSA9IHt9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGNhcHR1cmVkVmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGNhcHR1cmVkVmFsdWUgPSBjYXB0dXJlZFZhbHVlc1tpXTtcbiAgICB2YXIgZXJyb3IgPSBjYXB0dXJlZFZhbHVlLnZhbHVlO1xuICAgIHZhciBwYXJ0aWFsU3RhdGUgPSBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21DYXRjaC5jYWxsKG51bGwsIGVycm9yKTtcbiAgICBpZiAocGFydGlhbFN0YXRlICE9PSBudWxsICYmIHBhcnRpYWxTdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBfYXNzaWduKHJlc3VsdFN0YXRlLCBwYXJ0aWFsU3RhdGUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0U3RhdGU7XG59XG5cbnZhciBSZWFjdEZpYmVyQ2xhc3NDb21wb25lbnQgPSBmdW5jdGlvbiAobGVnYWN5Q29udGV4dCwgc2NoZWR1bGVXb3JrLCBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyLCBtZW1vaXplUHJvcHMsIG1lbW9pemVTdGF0ZSkge1xuICB2YXIgY2FjaGVDb250ZXh0ID0gbGVnYWN5Q29udGV4dC5jYWNoZUNvbnRleHQsXG4gICAgICBnZXRNYXNrZWRDb250ZXh0ID0gbGVnYWN5Q29udGV4dC5nZXRNYXNrZWRDb250ZXh0LFxuICAgICAgZ2V0VW5tYXNrZWRDb250ZXh0ID0gbGVnYWN5Q29udGV4dC5nZXRVbm1hc2tlZENvbnRleHQsXG4gICAgICBpc0NvbnRleHRDb25zdW1lciA9IGxlZ2FjeUNvbnRleHQuaXNDb250ZXh0Q29uc3VtZXIsXG4gICAgICBoYXNDb250ZXh0Q2hhbmdlZCA9IGxlZ2FjeUNvbnRleHQuaGFzQ29udGV4dENoYW5nZWQ7XG5cbiAgLy8gQ2xhc3MgY29tcG9uZW50IHN0YXRlIHVwZGF0ZXJcblxuICB2YXIgdXBkYXRlciA9IHtcbiAgICBpc01vdW50ZWQ6IGlzTW91bnRlZCxcbiAgICBlbnF1ZXVlU2V0U3RhdGU6IGZ1bmN0aW9uIChpbnN0YW5jZSwgcGFydGlhbFN0YXRlLCBjYWxsYmFjaykge1xuICAgICAgdmFyIGZpYmVyID0gZ2V0KGluc3RhbmNlKTtcbiAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjYWxsYmFjaztcbiAgICAgIHtcbiAgICAgICAgd2Fybk9uSW52YWxpZENhbGxiYWNrJDEoY2FsbGJhY2ssICdzZXRTdGF0ZScpO1xuICAgICAgfVxuICAgICAgdmFyIGV4cGlyYXRpb25UaW1lID0gY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlcihmaWJlcik7XG4gICAgICB2YXIgdXBkYXRlID0ge1xuICAgICAgICBleHBpcmF0aW9uVGltZTogZXhwaXJhdGlvblRpbWUsXG4gICAgICAgIHBhcnRpYWxTdGF0ZTogcGFydGlhbFN0YXRlLFxuICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgIGlzUmVwbGFjZTogZmFsc2UsXG4gICAgICAgIGlzRm9yY2VkOiBmYWxzZSxcbiAgICAgICAgY2FwdHVyZWRWYWx1ZTogbnVsbCxcbiAgICAgICAgbmV4dDogbnVsbFxuICAgICAgfTtcbiAgICAgIGluc2VydFVwZGF0ZUludG9GaWJlcihmaWJlciwgdXBkYXRlKTtcbiAgICAgIHNjaGVkdWxlV29yayhmaWJlciwgZXhwaXJhdGlvblRpbWUpO1xuICAgIH0sXG4gICAgZW5xdWV1ZVJlcGxhY2VTdGF0ZTogZnVuY3Rpb24gKGluc3RhbmNlLCBzdGF0ZSwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBmaWJlciA9IGdldChpbnN0YW5jZSk7XG4gICAgICBjYWxsYmFjayA9IGNhbGxiYWNrID09PSB1bmRlZmluZWQgPyBudWxsIDogY2FsbGJhY2s7XG4gICAgICB7XG4gICAgICAgIHdhcm5PbkludmFsaWRDYWxsYmFjayQxKGNhbGxiYWNrLCAncmVwbGFjZVN0YXRlJyk7XG4gICAgICB9XG4gICAgICB2YXIgZXhwaXJhdGlvblRpbWUgPSBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyKGZpYmVyKTtcbiAgICAgIHZhciB1cGRhdGUgPSB7XG4gICAgICAgIGV4cGlyYXRpb25UaW1lOiBleHBpcmF0aW9uVGltZSxcbiAgICAgICAgcGFydGlhbFN0YXRlOiBzdGF0ZSxcbiAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICBpc1JlcGxhY2U6IHRydWUsXG4gICAgICAgIGlzRm9yY2VkOiBmYWxzZSxcbiAgICAgICAgY2FwdHVyZWRWYWx1ZTogbnVsbCxcbiAgICAgICAgbmV4dDogbnVsbFxuICAgICAgfTtcbiAgICAgIGluc2VydFVwZGF0ZUludG9GaWJlcihmaWJlciwgdXBkYXRlKTtcbiAgICAgIHNjaGVkdWxlV29yayhmaWJlciwgZXhwaXJhdGlvblRpbWUpO1xuICAgIH0sXG4gICAgZW5xdWV1ZUZvcmNlVXBkYXRlOiBmdW5jdGlvbiAoaW5zdGFuY2UsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgZmliZXIgPSBnZXQoaW5zdGFuY2UpO1xuICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGNhbGxiYWNrO1xuICAgICAge1xuICAgICAgICB3YXJuT25JbnZhbGlkQ2FsbGJhY2skMShjYWxsYmFjaywgJ2ZvcmNlVXBkYXRlJyk7XG4gICAgICB9XG4gICAgICB2YXIgZXhwaXJhdGlvblRpbWUgPSBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyKGZpYmVyKTtcbiAgICAgIHZhciB1cGRhdGUgPSB7XG4gICAgICAgIGV4cGlyYXRpb25UaW1lOiBleHBpcmF0aW9uVGltZSxcbiAgICAgICAgcGFydGlhbFN0YXRlOiBudWxsLFxuICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgIGlzUmVwbGFjZTogZmFsc2UsXG4gICAgICAgIGlzRm9yY2VkOiB0cnVlLFxuICAgICAgICBjYXB0dXJlZFZhbHVlOiBudWxsLFxuICAgICAgICBuZXh0OiBudWxsXG4gICAgICB9O1xuICAgICAgaW5zZXJ0VXBkYXRlSW50b0ZpYmVyKGZpYmVyLCB1cGRhdGUpO1xuICAgICAgc2NoZWR1bGVXb3JrKGZpYmVyLCBleHBpcmF0aW9uVGltZSk7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGNoZWNrU2hvdWxkQ29tcG9uZW50VXBkYXRlKHdvcmtJblByb2dyZXNzLCBvbGRQcm9wcywgbmV3UHJvcHMsIG9sZFN0YXRlLCBuZXdTdGF0ZSwgbmV3Q29udGV4dCkge1xuICAgIGlmIChvbGRQcm9wcyA9PT0gbnVsbCB8fCB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSAhPT0gbnVsbCAmJiB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZS5oYXNGb3JjZVVwZGF0ZSkge1xuICAgICAgLy8gSWYgdGhlIHdvcmtJblByb2dyZXNzIGFscmVhZHkgaGFzIGFuIFVwZGF0ZSBlZmZlY3QsIHJldHVybiB0cnVlXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgdmFyIGN0b3IgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgIGlmICh0eXBlb2YgaW5zdGFuY2Uuc2hvdWxkQ29tcG9uZW50VXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBzdGFydFBoYXNlVGltZXIod29ya0luUHJvZ3Jlc3MsICdzaG91bGRDb21wb25lbnRVcGRhdGUnKTtcbiAgICAgIHZhciBzaG91bGRVcGRhdGUgPSBpbnN0YW5jZS5zaG91bGRDb21wb25lbnRVcGRhdGUobmV3UHJvcHMsIG5ld1N0YXRlLCBuZXdDb250ZXh0KTtcbiAgICAgIHN0b3BQaGFzZVRpbWVyKCk7XG5cbiAgICAgIHtcbiAgICAgICAgd2FybmluZyhzaG91bGRVcGRhdGUgIT09IHVuZGVmaW5lZCwgJyVzLnNob3VsZENvbXBvbmVudFVwZGF0ZSgpOiBSZXR1cm5lZCB1bmRlZmluZWQgaW5zdGVhZCBvZiBhICcgKyAnYm9vbGVhbiB2YWx1ZS4gTWFrZSBzdXJlIHRvIHJldHVybiB0cnVlIG9yIGZhbHNlLicsIGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpIHx8ICdDb21wb25lbnQnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNob3VsZFVwZGF0ZTtcbiAgICB9XG5cbiAgICBpZiAoY3Rvci5wcm90b3R5cGUgJiYgY3Rvci5wcm90b3R5cGUuaXNQdXJlUmVhY3RDb21wb25lbnQpIHtcbiAgICAgIHJldHVybiAhc2hhbGxvd0VxdWFsKG9sZFByb3BzLCBuZXdQcm9wcykgfHwgIXNoYWxsb3dFcXVhbChvbGRTdGF0ZSwgbmV3U3RhdGUpO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzKSB7XG4gICAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgIHZhciB0eXBlID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICB7XG4gICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpIHx8ICdDb21wb25lbnQnO1xuICAgICAgdmFyIHJlbmRlclByZXNlbnQgPSBpbnN0YW5jZS5yZW5kZXI7XG5cbiAgICAgIGlmICghcmVuZGVyUHJlc2VudCkge1xuICAgICAgICBpZiAodHlwZS5wcm90b3R5cGUgJiYgdHlwZW9mIHR5cGUucHJvdG90eXBlLnJlbmRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICclcyguLi4pOiBObyBgcmVuZGVyYCBtZXRob2QgZm91bmQgb24gdGhlIHJldHVybmVkIGNvbXBvbmVudCAnICsgJ2luc3RhbmNlOiBkaWQgeW91IGFjY2lkZW50YWxseSByZXR1cm4gYW4gb2JqZWN0IGZyb20gdGhlIGNvbnN0cnVjdG9yPycsIG5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICclcyguLi4pOiBObyBgcmVuZGVyYCBtZXRob2QgZm91bmQgb24gdGhlIHJldHVybmVkIGNvbXBvbmVudCAnICsgJ2luc3RhbmNlOiB5b3UgbWF5IGhhdmUgZm9yZ290dGVuIHRvIGRlZmluZSBgcmVuZGVyYC4nLCBuYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgbm9HZXRJbml0aWFsU3RhdGVPbkVTNiA9ICFpbnN0YW5jZS5nZXRJbml0aWFsU3RhdGUgfHwgaW5zdGFuY2UuZ2V0SW5pdGlhbFN0YXRlLmlzUmVhY3RDbGFzc0FwcHJvdmVkIHx8IGluc3RhbmNlLnN0YXRlO1xuICAgICAgd2FybmluZyhub0dldEluaXRpYWxTdGF0ZU9uRVM2LCAnZ2V0SW5pdGlhbFN0YXRlIHdhcyBkZWZpbmVkIG9uICVzLCBhIHBsYWluIEphdmFTY3JpcHQgY2xhc3MuICcgKyAnVGhpcyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgY2xhc3NlcyBjcmVhdGVkIHVzaW5nIFJlYWN0LmNyZWF0ZUNsYXNzLiAnICsgJ0RpZCB5b3UgbWVhbiB0byBkZWZpbmUgYSBzdGF0ZSBwcm9wZXJ0eSBpbnN0ZWFkPycsIG5hbWUpO1xuICAgICAgdmFyIG5vR2V0RGVmYXVsdFByb3BzT25FUzYgPSAhaW5zdGFuY2UuZ2V0RGVmYXVsdFByb3BzIHx8IGluc3RhbmNlLmdldERlZmF1bHRQcm9wcy5pc1JlYWN0Q2xhc3NBcHByb3ZlZDtcbiAgICAgIHdhcm5pbmcobm9HZXREZWZhdWx0UHJvcHNPbkVTNiwgJ2dldERlZmF1bHRQcm9wcyB3YXMgZGVmaW5lZCBvbiAlcywgYSBwbGFpbiBKYXZhU2NyaXB0IGNsYXNzLiAnICsgJ1RoaXMgaXMgb25seSBzdXBwb3J0ZWQgZm9yIGNsYXNzZXMgY3JlYXRlZCB1c2luZyBSZWFjdC5jcmVhdGVDbGFzcy4gJyArICdVc2UgYSBzdGF0aWMgcHJvcGVydHkgdG8gZGVmaW5lIGRlZmF1bHRQcm9wcyBpbnN0ZWFkLicsIG5hbWUpO1xuICAgICAgdmFyIG5vSW5zdGFuY2VQcm9wVHlwZXMgPSAhaW5zdGFuY2UucHJvcFR5cGVzO1xuICAgICAgd2FybmluZyhub0luc3RhbmNlUHJvcFR5cGVzLCAncHJvcFR5cGVzIHdhcyBkZWZpbmVkIGFzIGFuIGluc3RhbmNlIHByb3BlcnR5IG9uICVzLiBVc2UgYSBzdGF0aWMgJyArICdwcm9wZXJ0eSB0byBkZWZpbmUgcHJvcFR5cGVzIGluc3RlYWQuJywgbmFtZSk7XG4gICAgICB2YXIgbm9JbnN0YW5jZUNvbnRleHRUeXBlcyA9ICFpbnN0YW5jZS5jb250ZXh0VHlwZXM7XG4gICAgICB3YXJuaW5nKG5vSW5zdGFuY2VDb250ZXh0VHlwZXMsICdjb250ZXh0VHlwZXMgd2FzIGRlZmluZWQgYXMgYW4gaW5zdGFuY2UgcHJvcGVydHkgb24gJXMuIFVzZSBhIHN0YXRpYyAnICsgJ3Byb3BlcnR5IHRvIGRlZmluZSBjb250ZXh0VHlwZXMgaW5zdGVhZC4nLCBuYW1lKTtcbiAgICAgIHZhciBub0NvbXBvbmVudFNob3VsZFVwZGF0ZSA9IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRTaG91bGRVcGRhdGUgIT09ICdmdW5jdGlvbic7XG4gICAgICB3YXJuaW5nKG5vQ29tcG9uZW50U2hvdWxkVXBkYXRlLCAnJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCAnICsgJ2NvbXBvbmVudFNob3VsZFVwZGF0ZSgpLiBEaWQgeW91IG1lYW4gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCk/ICcgKyAnVGhlIG5hbWUgaXMgcGhyYXNlZCBhcyBhIHF1ZXN0aW9uIGJlY2F1c2UgdGhlIGZ1bmN0aW9uIGlzICcgKyAnZXhwZWN0ZWQgdG8gcmV0dXJuIGEgdmFsdWUuJywgbmFtZSk7XG4gICAgICBpZiAodHlwZS5wcm90b3R5cGUgJiYgdHlwZS5wcm90b3R5cGUuaXNQdXJlUmVhY3RDb21wb25lbnQgJiYgdHlwZW9mIGluc3RhbmNlLnNob3VsZENvbXBvbmVudFVwZGF0ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJyVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkuICcgKyAnc2hvdWxkQ29tcG9uZW50VXBkYXRlIHNob3VsZCBub3QgYmUgdXNlZCB3aGVuIGV4dGVuZGluZyBSZWFjdC5QdXJlQ29tcG9uZW50LiAnICsgJ1BsZWFzZSBleHRlbmQgUmVhY3QuQ29tcG9uZW50IGlmIHNob3VsZENvbXBvbmVudFVwZGF0ZSBpcyB1c2VkLicsIGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpIHx8ICdBIHB1cmUgY29tcG9uZW50Jyk7XG4gICAgICB9XG4gICAgICB2YXIgbm9Db21wb25lbnREaWRVbm1vdW50ID0gdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZFVubW91bnQgIT09ICdmdW5jdGlvbic7XG4gICAgICB3YXJuaW5nKG5vQ29tcG9uZW50RGlkVW5tb3VudCwgJyVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgJyArICdjb21wb25lbnREaWRVbm1vdW50KCkuIEJ1dCB0aGVyZSBpcyBubyBzdWNoIGxpZmVjeWNsZSBtZXRob2QuICcgKyAnRGlkIHlvdSBtZWFuIGNvbXBvbmVudFdpbGxVbm1vdW50KCk/JywgbmFtZSk7XG4gICAgICB2YXIgbm9Db21wb25lbnREaWRSZWNlaXZlUHJvcHMgPSB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkUmVjZWl2ZVByb3BzICE9PSAnZnVuY3Rpb24nO1xuICAgICAgd2FybmluZyhub0NvbXBvbmVudERpZFJlY2VpdmVQcm9wcywgJyVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgJyArICdjb21wb25lbnREaWRSZWNlaXZlUHJvcHMoKS4gQnV0IHRoZXJlIGlzIG5vIHN1Y2ggbGlmZWN5Y2xlIG1ldGhvZC4gJyArICdJZiB5b3UgbWVhbnQgdG8gdXBkYXRlIHRoZSBzdGF0ZSBpbiByZXNwb25zZSB0byBjaGFuZ2luZyBwcm9wcywgJyArICd1c2UgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpLiBJZiB5b3UgbWVhbnQgdG8gZmV0Y2ggZGF0YSBvciAnICsgJ3J1biBzaWRlLWVmZmVjdHMgb3IgbXV0YXRpb25zIGFmdGVyIFJlYWN0IGhhcyB1cGRhdGVkIHRoZSBVSSwgdXNlIGNvbXBvbmVudERpZFVwZGF0ZSgpLicsIG5hbWUpO1xuICAgICAgdmFyIG5vQ29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyA9IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzICE9PSAnZnVuY3Rpb24nO1xuICAgICAgd2FybmluZyhub0NvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgKyAnY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcygpLiBEaWQgeW91IG1lYW4gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpPycsIG5hbWUpO1xuICAgICAgdmFyIG5vVW5zYWZlQ29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyA9IHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyAhPT0gJ2Z1bmN0aW9uJztcbiAgICAgIHdhcm5pbmcobm9VbnNhZmVDb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzLCAnJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCAnICsgJ1VOU0FGRV9jb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzKCkuIERpZCB5b3UgbWVhbiBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpPycsIG5hbWUpO1xuICAgICAgdmFyIGhhc011dGF0ZWRQcm9wcyA9IGluc3RhbmNlLnByb3BzICE9PSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgICB3YXJuaW5nKGluc3RhbmNlLnByb3BzID09PSB1bmRlZmluZWQgfHwgIWhhc011dGF0ZWRQcm9wcywgJyVzKC4uLik6IFdoZW4gY2FsbGluZyBzdXBlcigpIGluIGAlc2AsIG1ha2Ugc3VyZSB0byBwYXNzICcgKyBcInVwIHRoZSBzYW1lIHByb3BzIHRoYXQgeW91ciBjb21wb25lbnQncyBjb25zdHJ1Y3RvciB3YXMgcGFzc2VkLlwiLCBuYW1lLCBuYW1lKTtcbiAgICAgIHZhciBub0luc3RhbmNlRGVmYXVsdFByb3BzID0gIWluc3RhbmNlLmRlZmF1bHRQcm9wcztcbiAgICAgIHdhcm5pbmcobm9JbnN0YW5jZURlZmF1bHRQcm9wcywgJ1NldHRpbmcgZGVmYXVsdFByb3BzIGFzIGFuIGluc3RhbmNlIHByb3BlcnR5IG9uICVzIGlzIG5vdCBzdXBwb3J0ZWQgYW5kIHdpbGwgYmUgaWdub3JlZC4nICsgJyBJbnN0ZWFkLCBkZWZpbmUgZGVmYXVsdFByb3BzIGFzIGEgc3RhdGljIHByb3BlcnR5IG9uICVzLicsIG5hbWUsIG5hbWUpO1xuXG4gICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUgIT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZFVwZGF0ZSAhPT0gJ2Z1bmN0aW9uJyAmJiAhZGlkV2FybkFib3V0R2V0U25hcHNob3RCZWZvcmVVcGRhdGVXaXRob3V0RGlkVXBkYXRlLmhhcyh0eXBlKSkge1xuICAgICAgICBkaWRXYXJuQWJvdXRHZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZVdpdGhvdXREaWRVcGRhdGUuYWRkKHR5cGUpO1xuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnJXM6IGdldFNuYXBzaG90QmVmb3JlVXBkYXRlKCkgc2hvdWxkIGJlIHVzZWQgd2l0aCBjb21wb25lbnREaWRVcGRhdGUoKS4gJyArICdUaGlzIGNvbXBvbmVudCBkZWZpbmVzIGdldFNuYXBzaG90QmVmb3JlVXBkYXRlKCkgb25seS4nLCBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBub0luc3RhbmNlR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gdHlwZW9mIGluc3RhbmNlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAhPT0gJ2Z1bmN0aW9uJztcbiAgICAgIHdhcm5pbmcobm9JbnN0YW5jZUdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcywgJyVzOiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoKSBpcyBkZWZpbmVkIGFzIGFuIGluc3RhbmNlIG1ldGhvZCAnICsgJ2FuZCB3aWxsIGJlIGlnbm9yZWQuIEluc3RlYWQsIGRlY2xhcmUgaXQgYXMgYSBzdGF0aWMgbWV0aG9kLicsIG5hbWUpO1xuICAgICAgdmFyIG5vSW5zdGFuY2VHZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggPSB0eXBlb2YgaW5zdGFuY2UuZ2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoICE9PSAnZnVuY3Rpb24nO1xuICAgICAgd2FybmluZyhub0luc3RhbmNlR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoLCAnJXM6IGdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCgpIGlzIGRlZmluZWQgYXMgYW4gaW5zdGFuY2UgbWV0aG9kICcgKyAnYW5kIHdpbGwgYmUgaWdub3JlZC4gSW5zdGVhZCwgZGVjbGFyZSBpdCBhcyBhIHN0YXRpYyBtZXRob2QuJywgbmFtZSk7XG4gICAgICB2YXIgbm9TdGF0aWNHZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9IHR5cGVvZiB0eXBlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlICE9PSAnZnVuY3Rpb24nO1xuICAgICAgd2FybmluZyhub1N0YXRpY0dldFNuYXBzaG90QmVmb3JlVXBkYXRlLCAnJXM6IGdldFNuYXBzaG90QmVmb3JlVXBkYXRlKCkgaXMgZGVmaW5lZCBhcyBhIHN0YXRpYyBtZXRob2QgJyArICdhbmQgd2lsbCBiZSBpZ25vcmVkLiBJbnN0ZWFkLCBkZWNsYXJlIGl0IGFzIGFuIGluc3RhbmNlIG1ldGhvZC4nLCBuYW1lKTtcbiAgICAgIHZhciBfc3RhdGUgPSBpbnN0YW5jZS5zdGF0ZTtcbiAgICAgIGlmIChfc3RhdGUgJiYgKHR5cGVvZiBfc3RhdGUgIT09ICdvYmplY3QnIHx8IGlzQXJyYXkoX3N0YXRlKSkpIHtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJyVzLnN0YXRlOiBtdXN0IGJlIHNldCB0byBhbiBvYmplY3Qgb3IgbnVsbCcsIG5hbWUpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5nZXRDaGlsZENvbnRleHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgd2FybmluZyh0eXBlb2YgdHlwZS5jaGlsZENvbnRleHRUeXBlcyA9PT0gJ29iamVjdCcsICclcy5nZXRDaGlsZENvbnRleHQoKTogY2hpbGRDb250ZXh0VHlwZXMgbXVzdCBiZSBkZWZpbmVkIGluIG9yZGVyIHRvICcgKyAndXNlIGdldENoaWxkQ29udGV4dCgpLicsIG5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0SW5wdXRQb2ludGVycyh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UpIHtcbiAgICBpbnN0YW5jZS5wcm9wcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHM7XG4gICAgaW5zdGFuY2Uuc3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRvcHRDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSkge1xuICAgIGluc3RhbmNlLnVwZGF0ZXIgPSB1cGRhdGVyO1xuICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGluc3RhbmNlO1xuICAgIC8vIFRoZSBpbnN0YW5jZSBuZWVkcyBhY2Nlc3MgdG8gdGhlIGZpYmVyIHNvIHRoYXQgaXQgY2FuIHNjaGVkdWxlIHVwZGF0ZXNcbiAgICBzZXQoaW5zdGFuY2UsIHdvcmtJblByb2dyZXNzKTtcbiAgICB7XG4gICAgICBpbnN0YW5jZS5fcmVhY3RJbnRlcm5hbEluc3RhbmNlID0gZmFrZUludGVybmFsSW5zdGFuY2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29uc3RydWN0Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgcHJvcHMpIHtcbiAgICB2YXIgY3RvciA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgdmFyIHVubWFza2VkQ29udGV4dCA9IGdldFVubWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgdmFyIG5lZWRzQ29udGV4dCA9IGlzQ29udGV4dENvbnN1bWVyKHdvcmtJblByb2dyZXNzKTtcbiAgICB2YXIgY29udGV4dCA9IG5lZWRzQ29udGV4dCA/IGdldE1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MsIHVubWFza2VkQ29udGV4dCkgOiBlbXB0eU9iamVjdDtcblxuICAgIC8vIEluc3RhbnRpYXRlIHR3aWNlIHRvIGhlbHAgZGV0ZWN0IHNpZGUtZWZmZWN0cy5cbiAgICBpZiAoZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzIHx8IGRlYnVnUmVuZGVyUGhhc2VTaWRlRWZmZWN0c0ZvclN0cmljdE1vZGUgJiYgd29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdE1vZGUpIHtcbiAgICAgIG5ldyBjdG9yKHByb3BzLCBjb250ZXh0KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgICB9XG5cbiAgICB2YXIgaW5zdGFuY2UgPSBuZXcgY3Rvcihwcm9wcywgY29udGV4dCk7XG4gICAgdmFyIHN0YXRlID0gaW5zdGFuY2Uuc3RhdGUgIT09IG51bGwgJiYgaW5zdGFuY2Uuc3RhdGUgIT09IHVuZGVmaW5lZCA/IGluc3RhbmNlLnN0YXRlIDogbnVsbDtcbiAgICBhZG9wdENsYXNzSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIGluc3RhbmNlKTtcblxuICAgIHtcbiAgICAgIGlmICh0eXBlb2YgY3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT09ICdmdW5jdGlvbicgJiYgc3RhdGUgPT09IG51bGwpIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKSB8fCAnQ29tcG9uZW50JztcbiAgICAgICAgaWYgKCFkaWRXYXJuQWJvdXRVbmluaXRpYWxpemVkU3RhdGUuaGFzKGNvbXBvbmVudE5hbWUpKSB7XG4gICAgICAgICAgZGlkV2FybkFib3V0VW5pbml0aWFsaXplZFN0YXRlLmFkZChjb21wb25lbnROYW1lKTtcbiAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnJXM6IERpZCBub3QgcHJvcGVybHkgaW5pdGlhbGl6ZSBzdGF0ZSBkdXJpbmcgY29uc3RydWN0aW9uLiAnICsgJ0V4cGVjdGVkIHN0YXRlIHRvIGJlIGFuIG9iamVjdCwgYnV0IGl0IHdhcyAlcy4nLCBjb21wb25lbnROYW1lLCBpbnN0YW5jZS5zdGF0ZSA9PT0gbnVsbCA/ICdudWxsJyA6ICd1bmRlZmluZWQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBJZiBuZXcgY29tcG9uZW50IEFQSXMgYXJlIGRlZmluZWQsIFwidW5zYWZlXCIgbGlmZWN5Y2xlcyB3b24ndCBiZSBjYWxsZWQuXG4gICAgICAvLyBXYXJuIGFib3V0IHRoZXNlIGxpZmVjeWNsZXMgaWYgdGhleSBhcmUgcHJlc2VudC5cbiAgICAgIC8vIERvbid0IHdhcm4gYWJvdXQgcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQgcG9seWZpbGxlZCBtZXRob2RzIHRob3VnaC5cbiAgICAgIGlmICh0eXBlb2YgY3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGluc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBmb3VuZFdpbGxNb3VudE5hbWUgPSBudWxsO1xuICAgICAgICB2YXIgZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZSA9IG51bGw7XG4gICAgICAgIHZhciBmb3VuZFdpbGxVcGRhdGVOYW1lID0gbnVsbDtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicgJiYgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50Ll9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgIT09IHRydWUpIHtcbiAgICAgICAgICBmb3VuZFdpbGxNb3VudE5hbWUgPSAnY29tcG9uZW50V2lsbE1vdW50JztcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGZvdW5kV2lsbE1vdW50TmFtZSA9ICdVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50JztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09ICdmdW5jdGlvbicgJiYgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcy5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nICE9PSB0cnVlKSB7XG4gICAgICAgICAgZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZSA9ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJztcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lID0gJ1VOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicgJiYgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZS5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nICE9PSB0cnVlKSB7XG4gICAgICAgICAgZm91bmRXaWxsVXBkYXRlTmFtZSA9ICdjb21wb25lbnRXaWxsVXBkYXRlJztcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBmb3VuZFdpbGxVcGRhdGVOYW1lID0gJ1VOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm91bmRXaWxsTW91bnROYW1lICE9PSBudWxsIHx8IGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgIT09IG51bGwgfHwgZm91bmRXaWxsVXBkYXRlTmFtZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHZhciBfY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpIHx8ICdDb21wb25lbnQnO1xuICAgICAgICAgIHZhciBuZXdBcGlOYW1lID0gdHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nID8gJ2dldERlcml2ZWRTdGF0ZUZyb21Qcm9wcygpJyA6ICdnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpJztcbiAgICAgICAgICBpZiAoIWRpZFdhcm5BYm91dExlZ2FjeUxpZmVjeWNsZXNBbmREZXJpdmVkU3RhdGUuaGFzKF9jb21wb25lbnROYW1lKSkge1xuICAgICAgICAgICAgZGlkV2FybkFib3V0TGVnYWN5TGlmZWN5Y2xlc0FuZERlcml2ZWRTdGF0ZS5hZGQoX2NvbXBvbmVudE5hbWUpO1xuICAgICAgICAgICAgd2FybmluZyhmYWxzZSwgJ1Vuc2FmZSBsZWdhY3kgbGlmZWN5Y2xlcyB3aWxsIG5vdCBiZSBjYWxsZWQgZm9yIGNvbXBvbmVudHMgdXNpbmcgbmV3IGNvbXBvbmVudCBBUElzLlxcblxcbicgKyAnJXMgdXNlcyAlcyBidXQgYWxzbyBjb250YWlucyB0aGUgZm9sbG93aW5nIGxlZ2FjeSBsaWZlY3ljbGVzOiVzJXMlc1xcblxcbicgKyAnVGhlIGFib3ZlIGxpZmVjeWNsZXMgc2hvdWxkIGJlIHJlbW92ZWQuIExlYXJuIG1vcmUgYWJvdXQgdGhpcyB3YXJuaW5nIGhlcmU6XFxuJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWFzeW5jLWNvbXBvbmVudC1saWZlY3ljbGUtaG9va3MnLCBfY29tcG9uZW50TmFtZSwgbmV3QXBpTmFtZSwgZm91bmRXaWxsTW91bnROYW1lICE9PSBudWxsID8gJ1xcbiAgJyArIGZvdW5kV2lsbE1vdW50TmFtZSA6ICcnLCBmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lICE9PSBudWxsID8gJ1xcbiAgJyArIGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgOiAnJywgZm91bmRXaWxsVXBkYXRlTmFtZSAhPT0gbnVsbCA/ICdcXG4gICcgKyBmb3VuZFdpbGxVcGRhdGVOYW1lIDogJycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBzdGF0ZTtcblxuICAgIHZhciBwYXJ0aWFsU3RhdGUgPSBjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSwgcHJvcHMsIHN0YXRlKTtcblxuICAgIGlmIChwYXJ0aWFsU3RhdGUgIT09IG51bGwgJiYgcGFydGlhbFN0YXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFJlbmRlci1waGFzZSB1cGRhdGVzIChsaWtlIHRoaXMpIHNob3VsZCBub3QgYmUgYWRkZWQgdG8gdGhlIHVwZGF0ZSBxdWV1ZSxcbiAgICAgIC8vIFNvIHRoYXQgbXVsdGlwbGUgcmVuZGVyIHBhc3NlcyBkbyBub3QgZW5xdWV1ZSBtdWx0aXBsZSB1cGRhdGVzLlxuICAgICAgLy8gSW5zdGVhZCwganVzdCBzeW5jaHJvbm91c2x5IG1lcmdlIHRoZSByZXR1cm5lZCBzdGF0ZSBpbnRvIHRoZSBpbnN0YW5jZS5cbiAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBfYXNzaWduKHt9LCB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlLCBwYXJ0aWFsU3RhdGUpO1xuICAgIH1cblxuICAgIC8vIENhY2hlIHVubWFza2VkIGNvbnRleHQgc28gd2UgY2FuIGF2b2lkIHJlY3JlYXRpbmcgbWFza2VkIGNvbnRleHQgdW5sZXNzIG5lY2Vzc2FyeS5cbiAgICAvLyBSZWFjdEZpYmVyQ29udGV4dCB1c3VhbGx5IHVwZGF0ZXMgdGhpcyBjYWNoZSBidXQgY2FuJ3QgZm9yIG5ld2x5LWNyZWF0ZWQgaW5zdGFuY2VzLlxuICAgIGlmIChuZWVkc0NvbnRleHQpIHtcbiAgICAgIGNhY2hlQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgdW5tYXNrZWRDb250ZXh0LCBjb250ZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH1cblxuICBmdW5jdGlvbiBjYWxsQ29tcG9uZW50V2lsbE1vdW50KHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSkge1xuICAgIHN0YXJ0UGhhc2VUaW1lcih3b3JrSW5Qcm9ncmVzcywgJ2NvbXBvbmVudFdpbGxNb3VudCcpO1xuICAgIHZhciBvbGRTdGF0ZSA9IGluc3RhbmNlLnN0YXRlO1xuXG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCgpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKTtcbiAgICB9XG5cbiAgICBzdG9wUGhhc2VUaW1lcigpO1xuXG4gICAgaWYgKG9sZFN0YXRlICE9PSBpbnN0YW5jZS5zdGF0ZSkge1xuICAgICAge1xuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnJXMuY29tcG9uZW50V2lsbE1vdW50KCk6IEFzc2lnbmluZyBkaXJlY3RseSB0byB0aGlzLnN0YXRlIGlzICcgKyBcImRlcHJlY2F0ZWQgKGV4Y2VwdCBpbnNpZGUgYSBjb21wb25lbnQncyBcIiArICdjb25zdHJ1Y3RvcikuIFVzZSBzZXRTdGF0ZSBpbnN0ZWFkLicsIGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpIHx8ICdDb21wb25lbnQnKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZXIuZW5xdWV1ZVJlcGxhY2VTdGF0ZShpbnN0YW5jZSwgaW5zdGFuY2Uuc3RhdGUsIG51bGwpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbGxDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSwgbmV3UHJvcHMsIG5ld0NvbnRleHQpIHtcbiAgICB2YXIgb2xkU3RhdGUgPSBpbnN0YW5jZS5zdGF0ZTtcbiAgICBzdGFydFBoYXNlVGltZXIod29ya0luUHJvZ3Jlc3MsICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyk7XG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5ld1Byb3BzLCBuZXdDb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV3UHJvcHMsIG5ld0NvbnRleHQpO1xuICAgIH1cbiAgICBzdG9wUGhhc2VUaW1lcigpO1xuXG4gICAgaWYgKGluc3RhbmNlLnN0YXRlICE9PSBvbGRTdGF0ZSkge1xuICAgICAge1xuICAgICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpIHx8ICdDb21wb25lbnQnO1xuICAgICAgICBpZiAoIWRpZFdhcm5BYm91dFN0YXRlQXNzaWdubWVudEZvckNvbXBvbmVudC5oYXMoY29tcG9uZW50TmFtZSkpIHtcbiAgICAgICAgICBkaWRXYXJuQWJvdXRTdGF0ZUFzc2lnbm1lbnRGb3JDb21wb25lbnQuYWRkKGNvbXBvbmVudE5hbWUpO1xuICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICclcy5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCk6IEFzc2lnbmluZyBkaXJlY3RseSB0byAnICsgXCJ0aGlzLnN0YXRlIGlzIGRlcHJlY2F0ZWQgKGV4Y2VwdCBpbnNpZGUgYSBjb21wb25lbnQncyBcIiArICdjb25zdHJ1Y3RvcikuIFVzZSBzZXRTdGF0ZSBpbnN0ZWFkLicsIGNvbXBvbmVudE5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB1cGRhdGVyLmVucXVldWVSZXBsYWNlU3RhdGUoaW5zdGFuY2UsIGluc3RhbmNlLnN0YXRlLCBudWxsKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSwgbmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICB2YXIgdHlwZSA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG5cblxuICAgIGlmICh0eXBlb2YgdHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHMgfHwgZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzRm9yU3RyaWN0TW9kZSAmJiB3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TW9kZSkge1xuICAgICAgICAvLyBJbnZva2UgbWV0aG9kIGFuIGV4dHJhIHRpbWUgdG8gaGVscCBkZXRlY3Qgc2lkZS1lZmZlY3RzLlxuICAgICAgICB0eXBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcy5jYWxsKG51bGwsIG5leHRQcm9wcywgcHJldlN0YXRlKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHBhcnRpYWxTdGF0ZSA9IHR5cGUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLmNhbGwobnVsbCwgbmV4dFByb3BzLCBwcmV2U3RhdGUpO1xuXG4gICAgICB7XG4gICAgICAgIGlmIChwYXJ0aWFsU3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh3b3JrSW5Qcm9ncmVzcykgfHwgJ0NvbXBvbmVudCc7XG4gICAgICAgICAgaWYgKCFkaWRXYXJuQWJvdXRVbmRlZmluZWREZXJpdmVkU3RhdGUuaGFzKGNvbXBvbmVudE5hbWUpKSB7XG4gICAgICAgICAgICBkaWRXYXJuQWJvdXRVbmRlZmluZWREZXJpdmVkU3RhdGUuYWRkKGNvbXBvbmVudE5hbWUpO1xuICAgICAgICAgICAgd2FybmluZyhmYWxzZSwgJyVzLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcygpOiBBIHZhbGlkIHN0YXRlIG9iamVjdCAob3IgbnVsbCkgbXVzdCBiZSByZXR1cm5lZC4gJyArICdZb3UgaGF2ZSByZXR1cm5lZCB1bmRlZmluZWQuJywgY29tcG9uZW50TmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJ0aWFsU3RhdGU7XG4gICAgfVxuICB9XG5cbiAgLy8gSW52b2tlcyB0aGUgbW91bnQgbGlmZS1jeWNsZXMgb24gYSBwcmV2aW91c2x5IG5ldmVyIHJlbmRlcmVkIGluc3RhbmNlLlxuICBmdW5jdGlvbiBtb3VudENsYXNzSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgdmFyIGN0b3IgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgIHZhciBjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MuYWx0ZXJuYXRlO1xuXG4gICAge1xuICAgICAgY2hlY2tDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG5cbiAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgdmFyIHByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgIHZhciB1bm1hc2tlZENvbnRleHQgPSBnZXRVbm1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgaW5zdGFuY2UucHJvcHMgPSBwcm9wcztcbiAgICBpbnN0YW5jZS5zdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgaW5zdGFuY2UucmVmcyA9IGVtcHR5T2JqZWN0O1xuICAgIGluc3RhbmNlLmNvbnRleHQgPSBnZXRNYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzLCB1bm1hc2tlZENvbnRleHQpO1xuXG4gICAge1xuICAgICAgaWYgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RNb2RlKSB7XG4gICAgICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLnJlY29yZFVuc2FmZUxpZmVjeWNsZVdhcm5pbmdzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh3YXJuQWJvdXREZXByZWNhdGVkTGlmZWN5Y2xlcykge1xuICAgICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5yZWNvcmREZXByZWNhdGlvbldhcm5pbmdzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSW4gb3JkZXIgdG8gc3VwcG9ydCByZWFjdC1saWZlY3ljbGVzLWNvbXBhdCBwb2x5ZmlsbGVkIGNvbXBvbmVudHMsXG4gICAgLy8gVW5zYWZlIGxpZmVjeWNsZXMgc2hvdWxkIG5vdCBiZSBpbnZva2VkIGZvciBjb21wb25lbnRzIHVzaW5nIHRoZSBuZXcgQVBJcy5cbiAgICBpZiAodHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzICE9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBpbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSAhPT0gJ2Z1bmN0aW9uJyAmJiAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgIGNhbGxDb21wb25lbnRXaWxsTW91bnQod29ya0luUHJvZ3Jlc3MsIGluc3RhbmNlKTtcbiAgICAgIC8vIElmIHdlIGhhZCBhZGRpdGlvbmFsIHN0YXRlIHVwZGF0ZXMgZHVyaW5nIHRoaXMgbGlmZS1jeWNsZSwgbGV0J3NcbiAgICAgIC8vIHByb2Nlc3MgdGhlbSBub3cuXG4gICAgICB2YXIgdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICAgIGlmICh1cGRhdGVRdWV1ZSAhPT0gbnVsbCkge1xuICAgICAgICBpbnN0YW5jZS5zdGF0ZSA9IHByb2Nlc3NVcGRhdGVRdWV1ZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgdXBkYXRlUXVldWUsIGluc3RhbmNlLCBwcm9wcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gVXBkYXRlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc3VtZU1vdW50Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICB2YXIgY3RvciA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgIHJlc2V0SW5wdXRQb2ludGVycyh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UpO1xuXG4gICAgdmFyIG9sZFByb3BzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcztcbiAgICB2YXIgbmV3UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgdmFyIG9sZENvbnRleHQgPSBpbnN0YW5jZS5jb250ZXh0O1xuICAgIHZhciBuZXdVbm1hc2tlZENvbnRleHQgPSBnZXRVbm1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgIHZhciBuZXdDb250ZXh0ID0gZ2V0TWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgbmV3VW5tYXNrZWRDb250ZXh0KTtcblxuICAgIHZhciBoYXNOZXdMaWZlY3ljbGVzID0gdHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBpbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJztcblxuICAgIC8vIE5vdGU6IER1cmluZyB0aGVzZSBsaWZlLWN5Y2xlcywgaW5zdGFuY2UucHJvcHMvaW5zdGFuY2Uuc3RhdGUgYXJlIHdoYXRcbiAgICAvLyBldmVyIHRoZSBwcmV2aW91c2x5IGF0dGVtcHRlZCB0byByZW5kZXIgLSBub3QgdGhlIFwiY3VycmVudFwiLiBIb3dldmVyLFxuICAgIC8vIGR1cmluZyBjb21wb25lbnREaWRVcGRhdGUgd2UgcGFzcyB0aGUgXCJjdXJyZW50XCIgcHJvcHMuXG5cbiAgICAvLyBJbiBvcmRlciB0byBzdXBwb3J0IHJlYWN0LWxpZmVjeWNsZXMtY29tcGF0IHBvbHlmaWxsZWQgY29tcG9uZW50cyxcbiAgICAvLyBVbnNhZmUgbGlmZWN5Y2xlcyBzaG91bGQgbm90IGJlIGludm9rZWQgZm9yIGNvbXBvbmVudHMgdXNpbmcgdGhlIG5ldyBBUElzLlxuICAgIGlmICghaGFzTmV3TGlmZWN5Y2xlcyAmJiAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgaWYgKG9sZFByb3BzICE9PSBuZXdQcm9wcyB8fCBvbGRDb250ZXh0ICE9PSBuZXdDb250ZXh0KSB7XG4gICAgICAgIGNhbGxDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSwgbmV3UHJvcHMsIG5ld0NvbnRleHQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENvbXB1dGUgdGhlIG5leHQgc3RhdGUgdXNpbmcgdGhlIG1lbW9pemVkIHN0YXRlIGFuZCB0aGUgdXBkYXRlIHF1ZXVlLlxuICAgIHZhciBvbGRTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgLy8gVE9ETzogUHJldmlvdXMgc3RhdGUgY2FuIGJlIG51bGwuXG4gICAgdmFyIG5ld1N0YXRlID0gdm9pZCAwO1xuICAgIHZhciBkZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggPSB2b2lkIDA7XG4gICAgaWYgKHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlICE9PSBudWxsKSB7XG4gICAgICBuZXdTdGF0ZSA9IHByb2Nlc3NVcGRhdGVRdWV1ZShudWxsLCB3b3JrSW5Qcm9ncmVzcywgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUsIGluc3RhbmNlLCBuZXdQcm9wcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuXG4gICAgICB2YXIgdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICAgIGlmICh1cGRhdGVRdWV1ZSAhPT0gbnVsbCAmJiB1cGRhdGVRdWV1ZS5jYXB0dXJlZFZhbHVlcyAhPT0gbnVsbCAmJiBlbmFibGVHZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggJiYgdHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBjYXB0dXJlZFZhbHVlcyA9IHVwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzO1xuICAgICAgICAvLyBEb24ndCByZW1vdmUgdGhlc2UgZnJvbSB0aGUgdXBkYXRlIHF1ZXVlIHlldC4gV2UgbmVlZCB0aGVtIGluXG4gICAgICAgIC8vIGZpbmlzaENsYXNzQ29tcG9uZW50LiBEbyB0aGUgcmVzZXQgdGhlcmUuXG4gICAgICAgIC8vIFRPRE86IFRoaXMgaXMgYXdrd2FyZC4gUmVmYWN0b3IgY2xhc3MgY29tcG9uZW50cy5cbiAgICAgICAgLy8gdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgPSBudWxsO1xuICAgICAgICBkZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggPSBjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoKGN0b3IsIGNhcHR1cmVkVmFsdWVzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbmV3U3RhdGUgPSBvbGRTdGF0ZTtcbiAgICB9XG5cbiAgICB2YXIgZGVyaXZlZFN0YXRlRnJvbVByb3BzID0gdm9pZCAwO1xuICAgIGlmIChvbGRQcm9wcyAhPT0gbmV3UHJvcHMpIHtcbiAgICAgIC8vIFRoZSBwcmV2U3RhdGUgcGFyYW1ldGVyIHNob3VsZCBiZSB0aGUgcGFydGlhbGx5IHVwZGF0ZWQgc3RhdGUuXG4gICAgICAvLyBPdGhlcndpc2UsIHNwcmVhZGluZyBzdGF0ZSBpbiByZXR1cm4gdmFsdWVzIGNvdWxkIG92ZXJyaWRlIHVwZGF0ZXMuXG4gICAgICBkZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSwgbmV3UHJvcHMsIG5ld1N0YXRlKTtcbiAgICB9XG5cbiAgICBpZiAoZGVyaXZlZFN0YXRlRnJvbVByb3BzICE9PSBudWxsICYmIGRlcml2ZWRTdGF0ZUZyb21Qcm9wcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBSZW5kZXItcGhhc2UgdXBkYXRlcyAobGlrZSB0aGlzKSBzaG91bGQgbm90IGJlIGFkZGVkIHRvIHRoZSB1cGRhdGUgcXVldWUsXG4gICAgICAvLyBTbyB0aGF0IG11bHRpcGxlIHJlbmRlciBwYXNzZXMgZG8gbm90IGVucXVldWUgbXVsdGlwbGUgdXBkYXRlcy5cbiAgICAgIC8vIEluc3RlYWQsIGp1c3Qgc3luY2hyb25vdXNseSBtZXJnZSB0aGUgcmV0dXJuZWQgc3RhdGUgaW50byB0aGUgaW5zdGFuY2UuXG4gICAgICBuZXdTdGF0ZSA9IG5ld1N0YXRlID09PSBudWxsIHx8IG5ld1N0YXRlID09PSB1bmRlZmluZWQgPyBkZXJpdmVkU3RhdGVGcm9tUHJvcHMgOiBfYXNzaWduKHt9LCBuZXdTdGF0ZSwgZGVyaXZlZFN0YXRlRnJvbVByb3BzKTtcblxuICAgICAgLy8gVXBkYXRlIHRoZSBiYXNlIHN0YXRlIG9mIHRoZSB1cGRhdGUgcXVldWUuXG4gICAgICAvLyBGSVhNRTogVGhpcyBpcyBnZXR0aW5nIHJpZGljdWxvdXMuIFJlZmFjdG9yIHBseiFcbiAgICAgIHZhciBfdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICAgIGlmIChfdXBkYXRlUXVldWUgIT09IG51bGwpIHtcbiAgICAgICAgX3VwZGF0ZVF1ZXVlLmJhc2VTdGF0ZSA9IF9hc3NpZ24oe30sIF91cGRhdGVRdWV1ZS5iYXNlU3RhdGUsIGRlcml2ZWRTdGF0ZUZyb21Qcm9wcyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChkZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggIT09IG51bGwgJiYgZGVyaXZlZFN0YXRlRnJvbUNhdGNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFJlbmRlci1waGFzZSB1cGRhdGVzIChsaWtlIHRoaXMpIHNob3VsZCBub3QgYmUgYWRkZWQgdG8gdGhlIHVwZGF0ZSBxdWV1ZSxcbiAgICAgIC8vIFNvIHRoYXQgbXVsdGlwbGUgcmVuZGVyIHBhc3NlcyBkbyBub3QgZW5xdWV1ZSBtdWx0aXBsZSB1cGRhdGVzLlxuICAgICAgLy8gSW5zdGVhZCwganVzdCBzeW5jaHJvbm91c2x5IG1lcmdlIHRoZSByZXR1cm5lZCBzdGF0ZSBpbnRvIHRoZSBpbnN0YW5jZS5cbiAgICAgIG5ld1N0YXRlID0gbmV3U3RhdGUgPT09IG51bGwgfHwgbmV3U3RhdGUgPT09IHVuZGVmaW5lZCA/IGRlcml2ZWRTdGF0ZUZyb21DYXRjaCA6IF9hc3NpZ24oe30sIG5ld1N0YXRlLCBkZXJpdmVkU3RhdGVGcm9tQ2F0Y2gpO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIGJhc2Ugc3RhdGUgb2YgdGhlIHVwZGF0ZSBxdWV1ZS5cbiAgICAgIC8vIEZJWE1FOiBUaGlzIGlzIGdldHRpbmcgcmlkaWN1bG91cy4gUmVmYWN0b3IgcGx6IVxuICAgICAgdmFyIF91cGRhdGVRdWV1ZTIgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICAgIGlmIChfdXBkYXRlUXVldWUyICE9PSBudWxsKSB7XG4gICAgICAgIF91cGRhdGVRdWV1ZTIuYmFzZVN0YXRlID0gX2Fzc2lnbih7fSwgX3VwZGF0ZVF1ZXVlMi5iYXNlU3RhdGUsIGRlcml2ZWRTdGF0ZUZyb21DYXRjaCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9sZFByb3BzID09PSBuZXdQcm9wcyAmJiBvbGRTdGF0ZSA9PT0gbmV3U3RhdGUgJiYgIWhhc0NvbnRleHRDaGFuZ2VkKCkgJiYgISh3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSAhPT0gbnVsbCAmJiB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZS5oYXNGb3JjZVVwZGF0ZSkpIHtcbiAgICAgIC8vIElmIGFuIHVwZGF0ZSB3YXMgYWxyZWFkeSBpbiBwcm9ncmVzcywgd2Ugc2hvdWxkIHNjaGVkdWxlIGFuIFVwZGF0ZVxuICAgICAgLy8gZWZmZWN0IGV2ZW4gdGhvdWdoIHdlJ3JlIGJhaWxpbmcgb3V0LCBzbyB0aGF0IGNXVS9jRFUgYXJlIGNhbGxlZC5cbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgc2hvdWxkVXBkYXRlID0gY2hlY2tTaG91bGRDb21wb25lbnRVcGRhdGUod29ya0luUHJvZ3Jlc3MsIG9sZFByb3BzLCBuZXdQcm9wcywgb2xkU3RhdGUsIG5ld1N0YXRlLCBuZXdDb250ZXh0KTtcblxuICAgIGlmIChzaG91bGRVcGRhdGUpIHtcbiAgICAgIC8vIEluIG9yZGVyIHRvIHN1cHBvcnQgcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQgcG9seWZpbGxlZCBjb21wb25lbnRzLFxuICAgICAgLy8gVW5zYWZlIGxpZmVjeWNsZXMgc2hvdWxkIG5vdCBiZSBpbnZva2VkIGZvciBjb21wb25lbnRzIHVzaW5nIHRoZSBuZXcgQVBJcy5cbiAgICAgIGlmICghaGFzTmV3TGlmZWN5Y2xlcyAmJiAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgc3RhcnRQaGFzZVRpbWVyKHdvcmtJblByb2dyZXNzLCAnY29tcG9uZW50V2lsbE1vdW50Jyk7XG4gICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCgpO1xuICAgICAgICB9XG4gICAgICAgIHN0b3BQaGFzZVRpbWVyKCk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBVcGRhdGU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIGFuIHVwZGF0ZSB3YXMgYWxyZWFkeSBpbiBwcm9ncmVzcywgd2Ugc2hvdWxkIHNjaGVkdWxlIGFuIFVwZGF0ZVxuICAgICAgLy8gZWZmZWN0IGV2ZW4gdGhvdWdoIHdlJ3JlIGJhaWxpbmcgb3V0LCBzbyB0aGF0IGNXVS9jRFUgYXJlIGNhbGxlZC5cbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgc2hvdWxkQ29tcG9uZW50VXBkYXRlIHJldHVybmVkIGZhbHNlLCB3ZSBzaG91bGQgc3RpbGwgdXBkYXRlIHRoZVxuICAgICAgLy8gbWVtb2l6ZWQgcHJvcHMvc3RhdGUgdG8gaW5kaWNhdGUgdGhhdCB0aGlzIHdvcmsgY2FuIGJlIHJldXNlZC5cbiAgICAgIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV3UHJvcHMpO1xuICAgICAgbWVtb2l6ZVN0YXRlKHdvcmtJblByb2dyZXNzLCBuZXdTdGF0ZSk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSBleGlzdGluZyBpbnN0YW5jZSdzIHN0YXRlLCBwcm9wcywgYW5kIGNvbnRleHQgcG9pbnRlcnMgZXZlblxuICAgIC8vIGlmIHNob3VsZENvbXBvbmVudFVwZGF0ZSByZXR1cm5zIGZhbHNlLlxuICAgIGluc3RhbmNlLnByb3BzID0gbmV3UHJvcHM7XG4gICAgaW5zdGFuY2Uuc3RhdGUgPSBuZXdTdGF0ZTtcbiAgICBpbnN0YW5jZS5jb250ZXh0ID0gbmV3Q29udGV4dDtcblxuICAgIHJldHVybiBzaG91bGRVcGRhdGU7XG4gIH1cblxuICAvLyBJbnZva2VzIHRoZSB1cGRhdGUgbGlmZS1jeWNsZXMgYW5kIHJldHVybnMgZmFsc2UgaWYgaXQgc2hvdWxkbid0IHJlcmVuZGVyLlxuICBmdW5jdGlvbiB1cGRhdGVDbGFzc0luc3RhbmNlKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgIHZhciBjdG9yID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgcmVzZXRJbnB1dFBvaW50ZXJzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSk7XG5cbiAgICB2YXIgb2xkUHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzO1xuICAgIHZhciBuZXdQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICB2YXIgb2xkQ29udGV4dCA9IGluc3RhbmNlLmNvbnRleHQ7XG4gICAgdmFyIG5ld1VubWFza2VkQ29udGV4dCA9IGdldFVubWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgdmFyIG5ld0NvbnRleHQgPSBnZXRNYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzLCBuZXdVbm1hc2tlZENvbnRleHQpO1xuXG4gICAgdmFyIGhhc05ld0xpZmVjeWNsZXMgPSB0eXBlb2YgY3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGluc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlID09PSAnZnVuY3Rpb24nO1xuXG4gICAgLy8gTm90ZTogRHVyaW5nIHRoZXNlIGxpZmUtY3ljbGVzLCBpbnN0YW5jZS5wcm9wcy9pbnN0YW5jZS5zdGF0ZSBhcmUgd2hhdFxuICAgIC8vIGV2ZXIgdGhlIHByZXZpb3VzbHkgYXR0ZW1wdGVkIHRvIHJlbmRlciAtIG5vdCB0aGUgXCJjdXJyZW50XCIuIEhvd2V2ZXIsXG4gICAgLy8gZHVyaW5nIGNvbXBvbmVudERpZFVwZGF0ZSB3ZSBwYXNzIHRoZSBcImN1cnJlbnRcIiBwcm9wcy5cblxuICAgIC8vIEluIG9yZGVyIHRvIHN1cHBvcnQgcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQgcG9seWZpbGxlZCBjb21wb25lbnRzLFxuICAgIC8vIFVuc2FmZSBsaWZlY3ljbGVzIHNob3VsZCBub3QgYmUgaW52b2tlZCBmb3IgY29tcG9uZW50cyB1c2luZyB0aGUgbmV3IEFQSXMuXG4gICAgaWYgKCFoYXNOZXdMaWZlY3ljbGVzICYmICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICBpZiAob2xkUHJvcHMgIT09IG5ld1Byb3BzIHx8IG9sZENvbnRleHQgIT09IG5ld0NvbnRleHQpIHtcbiAgICAgICAgY2FsbENvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMod29ya0luUHJvZ3Jlc3MsIGluc3RhbmNlLCBuZXdQcm9wcywgbmV3Q29udGV4dCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ29tcHV0ZSB0aGUgbmV4dCBzdGF0ZSB1c2luZyB0aGUgbWVtb2l6ZWQgc3RhdGUgYW5kIHRoZSB1cGRhdGUgcXVldWUuXG4gICAgdmFyIG9sZFN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAvLyBUT0RPOiBQcmV2aW91cyBzdGF0ZSBjYW4gYmUgbnVsbC5cbiAgICB2YXIgbmV3U3RhdGUgPSB2b2lkIDA7XG4gICAgdmFyIGRlcml2ZWRTdGF0ZUZyb21DYXRjaCA9IHZvaWQgMDtcblxuICAgIGlmICh3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSAhPT0gbnVsbCkge1xuICAgICAgbmV3U3RhdGUgPSBwcm9jZXNzVXBkYXRlUXVldWUoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlLCBpbnN0YW5jZSwgbmV3UHJvcHMsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcblxuICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgICBpZiAodXBkYXRlUXVldWUgIT09IG51bGwgJiYgdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgIT09IG51bGwgJiYgZW5hYmxlR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoICYmIHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YXIgY2FwdHVyZWRWYWx1ZXMgPSB1cGRhdGVRdWV1ZS5jYXB0dXJlZFZhbHVlcztcbiAgICAgICAgLy8gRG9uJ3QgcmVtb3ZlIHRoZXNlIGZyb20gdGhlIHVwZGF0ZSBxdWV1ZSB5ZXQuIFdlIG5lZWQgdGhlbSBpblxuICAgICAgICAvLyBmaW5pc2hDbGFzc0NvbXBvbmVudC4gRG8gdGhlIHJlc2V0IHRoZXJlLlxuICAgICAgICAvLyBUT0RPOiBUaGlzIGlzIGF3a3dhcmQuIFJlZmFjdG9yIGNsYXNzIGNvbXBvbmVudHMuXG4gICAgICAgIC8vIHVwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzID0gbnVsbDtcbiAgICAgICAgZGVyaXZlZFN0YXRlRnJvbUNhdGNoID0gY2FsbEdldERlcml2ZWRTdGF0ZUZyb21DYXRjaChjdG9yLCBjYXB0dXJlZFZhbHVlcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1N0YXRlID0gb2xkU3RhdGU7XG4gICAgfVxuXG4gICAgdmFyIGRlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IHZvaWQgMDtcbiAgICBpZiAob2xkUHJvcHMgIT09IG5ld1Byb3BzKSB7XG4gICAgICAvLyBUaGUgcHJldlN0YXRlIHBhcmFtZXRlciBzaG91bGQgYmUgdGhlIHBhcnRpYWxseSB1cGRhdGVkIHN0YXRlLlxuICAgICAgLy8gT3RoZXJ3aXNlLCBzcHJlYWRpbmcgc3RhdGUgaW4gcmV0dXJuIHZhbHVlcyBjb3VsZCBvdmVycmlkZSB1cGRhdGVzLlxuICAgICAgZGVyaXZlZFN0YXRlRnJvbVByb3BzID0gY2FsbEdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UsIG5ld1Byb3BzLCBuZXdTdGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKGRlcml2ZWRTdGF0ZUZyb21Qcm9wcyAhPT0gbnVsbCAmJiBkZXJpdmVkU3RhdGVGcm9tUHJvcHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gUmVuZGVyLXBoYXNlIHVwZGF0ZXMgKGxpa2UgdGhpcykgc2hvdWxkIG5vdCBiZSBhZGRlZCB0byB0aGUgdXBkYXRlIHF1ZXVlLFxuICAgICAgLy8gU28gdGhhdCBtdWx0aXBsZSByZW5kZXIgcGFzc2VzIGRvIG5vdCBlbnF1ZXVlIG11bHRpcGxlIHVwZGF0ZXMuXG4gICAgICAvLyBJbnN0ZWFkLCBqdXN0IHN5bmNocm9ub3VzbHkgbWVyZ2UgdGhlIHJldHVybmVkIHN0YXRlIGludG8gdGhlIGluc3RhbmNlLlxuICAgICAgbmV3U3RhdGUgPSBuZXdTdGF0ZSA9PT0gbnVsbCB8fCBuZXdTdGF0ZSA9PT0gdW5kZWZpbmVkID8gZGVyaXZlZFN0YXRlRnJvbVByb3BzIDogX2Fzc2lnbih7fSwgbmV3U3RhdGUsIGRlcml2ZWRTdGF0ZUZyb21Qcm9wcyk7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgYmFzZSBzdGF0ZSBvZiB0aGUgdXBkYXRlIHF1ZXVlLlxuICAgICAgLy8gRklYTUU6IFRoaXMgaXMgZ2V0dGluZyByaWRpY3Vsb3VzLiBSZWZhY3RvciBwbHohXG4gICAgICB2YXIgX3VwZGF0ZVF1ZXVlMyA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlO1xuICAgICAgaWYgKF91cGRhdGVRdWV1ZTMgIT09IG51bGwpIHtcbiAgICAgICAgX3VwZGF0ZVF1ZXVlMy5iYXNlU3RhdGUgPSBfYXNzaWduKHt9LCBfdXBkYXRlUXVldWUzLmJhc2VTdGF0ZSwgZGVyaXZlZFN0YXRlRnJvbVByb3BzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGRlcml2ZWRTdGF0ZUZyb21DYXRjaCAhPT0gbnVsbCAmJiBkZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gUmVuZGVyLXBoYXNlIHVwZGF0ZXMgKGxpa2UgdGhpcykgc2hvdWxkIG5vdCBiZSBhZGRlZCB0byB0aGUgdXBkYXRlIHF1ZXVlLFxuICAgICAgLy8gU28gdGhhdCBtdWx0aXBsZSByZW5kZXIgcGFzc2VzIGRvIG5vdCBlbnF1ZXVlIG11bHRpcGxlIHVwZGF0ZXMuXG4gICAgICAvLyBJbnN0ZWFkLCBqdXN0IHN5bmNocm9ub3VzbHkgbWVyZ2UgdGhlIHJldHVybmVkIHN0YXRlIGludG8gdGhlIGluc3RhbmNlLlxuICAgICAgbmV3U3RhdGUgPSBuZXdTdGF0ZSA9PT0gbnVsbCB8fCBuZXdTdGF0ZSA9PT0gdW5kZWZpbmVkID8gZGVyaXZlZFN0YXRlRnJvbUNhdGNoIDogX2Fzc2lnbih7fSwgbmV3U3RhdGUsIGRlcml2ZWRTdGF0ZUZyb21DYXRjaCk7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgYmFzZSBzdGF0ZSBvZiB0aGUgdXBkYXRlIHF1ZXVlLlxuICAgICAgLy8gRklYTUU6IFRoaXMgaXMgZ2V0dGluZyByaWRpY3Vsb3VzLiBSZWZhY3RvciBwbHohXG4gICAgICB2YXIgX3VwZGF0ZVF1ZXVlNCA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlO1xuICAgICAgaWYgKF91cGRhdGVRdWV1ZTQgIT09IG51bGwpIHtcbiAgICAgICAgX3VwZGF0ZVF1ZXVlNC5iYXNlU3RhdGUgPSBfYXNzaWduKHt9LCBfdXBkYXRlUXVldWU0LmJhc2VTdGF0ZSwgZGVyaXZlZFN0YXRlRnJvbUNhdGNoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAob2xkUHJvcHMgPT09IG5ld1Byb3BzICYmIG9sZFN0YXRlID09PSBuZXdTdGF0ZSAmJiAhaGFzQ29udGV4dENoYW5nZWQoKSAmJiAhKHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlICE9PSBudWxsICYmIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlLmhhc0ZvcmNlVXBkYXRlKSkge1xuICAgICAgLy8gSWYgYW4gdXBkYXRlIHdhcyBhbHJlYWR5IGluIHByb2dyZXNzLCB3ZSBzaG91bGQgc2NoZWR1bGUgYW4gVXBkYXRlXG4gICAgICAvLyBlZmZlY3QgZXZlbiB0aG91Z2ggd2UncmUgYmFpbGluZyBvdXQsIHNvIHRoYXQgY1dVL2NEVSBhcmUgY2FsbGVkLlxuICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaWYgKG9sZFByb3BzICE9PSBjdXJyZW50Lm1lbW9pemVkUHJvcHMgfHwgb2xkU3RhdGUgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSkge1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBVcGRhdGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaWYgKG9sZFByb3BzICE9PSBjdXJyZW50Lm1lbW9pemVkUHJvcHMgfHwgb2xkU3RhdGUgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSkge1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBTbmFwc2hvdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBzaG91bGRVcGRhdGUgPSBjaGVja1Nob3VsZENvbXBvbmVudFVwZGF0ZSh3b3JrSW5Qcm9ncmVzcywgb2xkUHJvcHMsIG5ld1Byb3BzLCBvbGRTdGF0ZSwgbmV3U3RhdGUsIG5ld0NvbnRleHQpO1xuXG4gICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgLy8gSW4gb3JkZXIgdG8gc3VwcG9ydCByZWFjdC1saWZlY3ljbGVzLWNvbXBhdCBwb2x5ZmlsbGVkIGNvbXBvbmVudHMsXG4gICAgICAvLyBVbnNhZmUgbGlmZWN5Y2xlcyBzaG91bGQgbm90IGJlIGludm9rZWQgZm9yIGNvbXBvbmVudHMgdXNpbmcgdGhlIG5ldyBBUElzLlxuICAgICAgaWYgKCFoYXNOZXdMaWZlY3ljbGVzICYmICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgIHN0YXJ0UGhhc2VUaW1lcih3b3JrSW5Qcm9ncmVzcywgJ2NvbXBvbmVudFdpbGxVcGRhdGUnKTtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZShuZXdQcm9wcywgbmV3U3RhdGUsIG5ld0NvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZShuZXdQcm9wcywgbmV3U3RhdGUsIG5ld0NvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHN0b3BQaGFzZVRpbWVyKCk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZFVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gVXBkYXRlO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gU25hcHNob3Q7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIGFuIHVwZGF0ZSB3YXMgYWxyZWFkeSBpbiBwcm9ncmVzcywgd2Ugc2hvdWxkIHNjaGVkdWxlIGFuIFVwZGF0ZVxuICAgICAgLy8gZWZmZWN0IGV2ZW4gdGhvdWdoIHdlJ3JlIGJhaWxpbmcgb3V0LCBzbyB0aGF0IGNXVS9jRFUgYXJlIGNhbGxlZC5cbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGlmIChvbGRQcm9wcyAhPT0gY3VycmVudC5tZW1vaXplZFByb3BzIHx8IG9sZFN0YXRlICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUpIHtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gVXBkYXRlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGlmIChvbGRQcm9wcyAhPT0gY3VycmVudC5tZW1vaXplZFByb3BzIHx8IG9sZFN0YXRlICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUpIHtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gU25hcHNob3Q7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSWYgc2hvdWxkQ29tcG9uZW50VXBkYXRlIHJldHVybmVkIGZhbHNlLCB3ZSBzaG91bGQgc3RpbGwgdXBkYXRlIHRoZVxuICAgICAgLy8gbWVtb2l6ZWQgcHJvcHMvc3RhdGUgdG8gaW5kaWNhdGUgdGhhdCB0aGlzIHdvcmsgY2FuIGJlIHJldXNlZC5cbiAgICAgIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV3UHJvcHMpO1xuICAgICAgbWVtb2l6ZVN0YXRlKHdvcmtJblByb2dyZXNzLCBuZXdTdGF0ZSk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSBleGlzdGluZyBpbnN0YW5jZSdzIHN0YXRlLCBwcm9wcywgYW5kIGNvbnRleHQgcG9pbnRlcnMgZXZlblxuICAgIC8vIGlmIHNob3VsZENvbXBvbmVudFVwZGF0ZSByZXR1cm5zIGZhbHNlLlxuICAgIGluc3RhbmNlLnByb3BzID0gbmV3UHJvcHM7XG4gICAgaW5zdGFuY2Uuc3RhdGUgPSBuZXdTdGF0ZTtcbiAgICBpbnN0YW5jZS5jb250ZXh0ID0gbmV3Q29udGV4dDtcblxuICAgIHJldHVybiBzaG91bGRVcGRhdGU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGFkb3B0Q2xhc3NJbnN0YW5jZTogYWRvcHRDbGFzc0luc3RhbmNlLFxuICAgIGNhbGxHZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM6IGNhbGxHZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMsXG4gICAgY29uc3RydWN0Q2xhc3NJbnN0YW5jZTogY29uc3RydWN0Q2xhc3NJbnN0YW5jZSxcbiAgICBtb3VudENsYXNzSW5zdGFuY2U6IG1vdW50Q2xhc3NJbnN0YW5jZSxcbiAgICByZXN1bWVNb3VudENsYXNzSW5zdGFuY2U6IHJlc3VtZU1vdW50Q2xhc3NJbnN0YW5jZSxcbiAgICB1cGRhdGVDbGFzc0luc3RhbmNlOiB1cGRhdGVDbGFzc0luc3RhbmNlXG4gIH07XG59O1xuXG52YXIgZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQyID0gUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5nZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtO1xuXG5cbnZhciBkaWRXYXJuQWJvdXRNYXBzID0gdm9pZCAwO1xudmFyIGRpZFdhcm5BYm91dFN0cmluZ1JlZkluU3RyaWN0TW9kZSA9IHZvaWQgMDtcbnZhciBvd25lckhhc0tleVVzZVdhcm5pbmcgPSB2b2lkIDA7XG52YXIgb3duZXJIYXNGdW5jdGlvblR5cGVXYXJuaW5nID0gdm9pZCAwO1xudmFyIHdhcm5Gb3JNaXNzaW5nS2V5ID0gZnVuY3Rpb24gKGNoaWxkKSB7fTtcblxue1xuICBkaWRXYXJuQWJvdXRNYXBzID0gZmFsc2U7XG4gIGRpZFdhcm5BYm91dFN0cmluZ1JlZkluU3RyaWN0TW9kZSA9IHt9O1xuXG4gIC8qKlxuICAgKiBXYXJuIGlmIHRoZXJlJ3Mgbm8ga2V5IGV4cGxpY2l0bHkgc2V0IG9uIGR5bmFtaWMgYXJyYXlzIG9mIGNoaWxkcmVuIG9yXG4gICAqIG9iamVjdCBrZXlzIGFyZSBub3QgdmFsaWQuIFRoaXMgYWxsb3dzIHVzIHRvIGtlZXAgdHJhY2sgb2YgY2hpbGRyZW4gYmV0d2VlblxuICAgKiB1cGRhdGVzLlxuICAgKi9cbiAgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge307XG4gIG93bmVySGFzRnVuY3Rpb25UeXBlV2FybmluZyA9IHt9O1xuXG4gIHdhcm5Gb3JNaXNzaW5nS2V5ID0gZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgaWYgKGNoaWxkID09PSBudWxsIHx8IHR5cGVvZiBjaGlsZCAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFjaGlsZC5fc3RvcmUgfHwgY2hpbGQuX3N0b3JlLnZhbGlkYXRlZCB8fCBjaGlsZC5rZXkgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAhKHR5cGVvZiBjaGlsZC5fc3RvcmUgPT09ICdvYmplY3QnKSA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0IENvbXBvbmVudCBpbiB3YXJuRm9yTWlzc2luZ0tleSBzaG91bGQgaGF2ZSBhIF9zdG9yZS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgICBjaGlsZC5fc3RvcmUudmFsaWRhdGVkID0gdHJ1ZTtcblxuICAgIHZhciBjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvID0gJ0VhY2ggY2hpbGQgaW4gYW4gYXJyYXkgb3IgaXRlcmF0b3Igc2hvdWxkIGhhdmUgYSB1bmlxdWUgJyArICdcImtleVwiIHByb3AuIFNlZSBodHRwczovL2ZiLm1lL3JlYWN0LXdhcm5pbmcta2V5cyBmb3IgJyArICdtb3JlIGluZm9ybWF0aW9uLicgKyAoZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQyKCkgfHwgJycpO1xuICAgIGlmIChvd25lckhhc0tleVVzZVdhcm5pbmdbY3VycmVudENvbXBvbmVudEVycm9ySW5mb10pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgb3duZXJIYXNLZXlVc2VXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dID0gdHJ1ZTtcblxuICAgIHdhcm5pbmcoZmFsc2UsICdFYWNoIGNoaWxkIGluIGFuIGFycmF5IG9yIGl0ZXJhdG9yIHNob3VsZCBoYXZlIGEgdW5pcXVlICcgKyAnXCJrZXlcIiBwcm9wLiBTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC13YXJuaW5nLWtleXMgZm9yICcgKyAnbW9yZSBpbmZvcm1hdGlvbi4lcycsIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMigpKTtcbiAgfTtcbn1cblxudmFyIGlzQXJyYXkkMSA9IEFycmF5LmlzQXJyYXk7XG5cbmZ1bmN0aW9uIGNvZXJjZVJlZihyZXR1cm5GaWJlciwgY3VycmVudCwgZWxlbWVudCkge1xuICB2YXIgbWl4ZWRSZWYgPSBlbGVtZW50LnJlZjtcbiAgaWYgKG1peGVkUmVmICE9PSBudWxsICYmIHR5cGVvZiBtaXhlZFJlZiAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgbWl4ZWRSZWYgIT09ICdvYmplY3QnKSB7XG4gICAge1xuICAgICAgaWYgKHJldHVybkZpYmVyLm1vZGUgJiBTdHJpY3RNb2RlKSB7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZShyZXR1cm5GaWJlcikgfHwgJ0NvbXBvbmVudCc7XG4gICAgICAgIGlmICghZGlkV2FybkFib3V0U3RyaW5nUmVmSW5TdHJpY3RNb2RlW2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICAgICAgd2FybmluZyhmYWxzZSwgJ0Egc3RyaW5nIHJlZiwgXCIlc1wiLMKgaGFzIGJlZW4gZm91bmQgd2l0aGluIGEgc3RyaWN0IG1vZGUgdHJlZS4gJyArICdTdHJpbmcgcmVmcyBhcmUgYSBzb3VyY2Ugb2YgcG90ZW50aWFsIGJ1Z3MgYW5kIHNob3VsZCBiZSBhdm9pZGVkLiAnICsgJ1dlIHJlY29tbWVuZCB1c2luZyBjcmVhdGVSZWYoKSBpbnN0ZWFkLicgKyAnXFxuJXMnICsgJ1xcblxcbkxlYXJuIG1vcmUgYWJvdXQgdXNpbmcgcmVmcyBzYWZlbHkgaGVyZTonICsgJ1xcbmh0dHBzOi8vZmIubWUvcmVhY3Qtc3RyaWN0LW1vZGUtc3RyaW5nLXJlZicsIG1peGVkUmVmLCBnZXRTdGFja0FkZGVuZHVtQnlXb3JrSW5Qcm9ncmVzc0ZpYmVyKHJldHVybkZpYmVyKSk7XG4gICAgICAgICAgZGlkV2FybkFib3V0U3RyaW5nUmVmSW5TdHJpY3RNb2RlW2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlbGVtZW50Ll9vd25lcikge1xuICAgICAgdmFyIG93bmVyID0gZWxlbWVudC5fb3duZXI7XG4gICAgICB2YXIgaW5zdCA9IHZvaWQgMDtcbiAgICAgIGlmIChvd25lcikge1xuICAgICAgICB2YXIgb3duZXJGaWJlciA9IG93bmVyO1xuICAgICAgICAhKG93bmVyRmliZXIudGFnID09PSBDbGFzc0NvbXBvbmVudCkgPyBpbnZhcmlhbnQoZmFsc2UsICdTdGF0ZWxlc3MgZnVuY3Rpb24gY29tcG9uZW50cyBjYW5ub3QgaGF2ZSByZWZzLicpIDogdm9pZCAwO1xuICAgICAgICBpbnN0ID0gb3duZXJGaWJlci5zdGF0ZU5vZGU7XG4gICAgICB9XG4gICAgICAhaW5zdCA/IGludmFyaWFudChmYWxzZSwgJ01pc3Npbmcgb3duZXIgZm9yIHN0cmluZyByZWYgJXMuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJywgbWl4ZWRSZWYpIDogdm9pZCAwO1xuICAgICAgdmFyIHN0cmluZ1JlZiA9ICcnICsgbWl4ZWRSZWY7XG4gICAgICAvLyBDaGVjayBpZiBwcmV2aW91cyBzdHJpbmcgcmVmIG1hdGNoZXMgbmV3IHN0cmluZyByZWZcbiAgICAgIGlmIChjdXJyZW50ICE9PSBudWxsICYmIGN1cnJlbnQucmVmICE9PSBudWxsICYmIGN1cnJlbnQucmVmLl9zdHJpbmdSZWYgPT09IHN0cmluZ1JlZikge1xuICAgICAgICByZXR1cm4gY3VycmVudC5yZWY7XG4gICAgICB9XG4gICAgICB2YXIgcmVmID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciByZWZzID0gaW5zdC5yZWZzID09PSBlbXB0eU9iamVjdCA/IGluc3QucmVmcyA9IHt9IDogaW5zdC5yZWZzO1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICBkZWxldGUgcmVmc1tzdHJpbmdSZWZdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlZnNbc3RyaW5nUmVmXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmVmLl9zdHJpbmdSZWYgPSBzdHJpbmdSZWY7XG4gICAgICByZXR1cm4gcmVmO1xuICAgIH0gZWxzZSB7XG4gICAgICAhKHR5cGVvZiBtaXhlZFJlZiA9PT0gJ3N0cmluZycpID8gaW52YXJpYW50KGZhbHNlLCAnRXhwZWN0ZWQgcmVmIHRvIGJlIGEgZnVuY3Rpb24gb3IgYSBzdHJpbmcuJykgOiB2b2lkIDA7XG4gICAgICAhZWxlbWVudC5fb3duZXIgPyBpbnZhcmlhbnQoZmFsc2UsICdFbGVtZW50IHJlZiB3YXMgc3BlY2lmaWVkIGFzIGEgc3RyaW5nICglcykgYnV0IG5vIG93bmVyIHdhcyBzZXQuIFRoaXMgY291bGQgaGFwcGVuIGZvciBvbmUgb2YgdGhlIGZvbGxvd2luZyByZWFzb25zOlxcbjEuIFlvdSBtYXkgYmUgYWRkaW5nIGEgcmVmIHRvIGEgZnVuY3Rpb25hbCBjb21wb25lbnRcXG4yLiBZb3UgbWF5IGJlIGFkZGluZyBhIHJlZiB0byBhIGNvbXBvbmVudCB0aGF0IHdhcyBub3QgY3JlYXRlZCBpbnNpZGUgYSBjb21wb25lbnRcXCdzIHJlbmRlciBtZXRob2RcXG4zLiBZb3UgaGF2ZSBtdWx0aXBsZSBjb3BpZXMgb2YgUmVhY3QgbG9hZGVkXFxuU2VlIGh0dHBzOi8vZmIubWUvcmVhY3QtcmVmcy1tdXN0LWhhdmUtb3duZXIgZm9yIG1vcmUgaW5mb3JtYXRpb24uJywgbWl4ZWRSZWYpIDogdm9pZCAwO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWl4ZWRSZWY7XG59XG5cbmZ1bmN0aW9uIHRocm93T25JbnZhbGlkT2JqZWN0VHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpIHtcbiAgaWYgKHJldHVybkZpYmVyLnR5cGUgIT09ICd0ZXh0YXJlYScpIHtcbiAgICB2YXIgYWRkZW5kdW0gPSAnJztcbiAgICB7XG4gICAgICBhZGRlbmR1bSA9ICcgSWYgeW91IG1lYW50IHRvIHJlbmRlciBhIGNvbGxlY3Rpb24gb2YgY2hpbGRyZW4sIHVzZSBhbiBhcnJheSAnICsgJ2luc3RlYWQuJyArIChnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDIoKSB8fCAnJyk7XG4gICAgfVxuICAgIGludmFyaWFudChmYWxzZSwgJ09iamVjdHMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkIChmb3VuZDogJXMpLiVzJywgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0NoaWxkKSA9PT0gJ1tvYmplY3QgT2JqZWN0XScgPyAnb2JqZWN0IHdpdGgga2V5cyB7JyArIE9iamVjdC5rZXlzKG5ld0NoaWxkKS5qb2luKCcsICcpICsgJ30nIDogbmV3Q2hpbGQsIGFkZGVuZHVtKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3YXJuT25GdW5jdGlvblR5cGUoKSB7XG4gIHZhciBjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvID0gJ0Z1bmN0aW9ucyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQuIFRoaXMgbWF5IGhhcHBlbiBpZiAnICsgJ3lvdSByZXR1cm4gYSBDb21wb25lbnQgaW5zdGVhZCBvZiA8Q29tcG9uZW50IC8+IGZyb20gcmVuZGVyLiAnICsgJ09yIG1heWJlIHlvdSBtZWFudCB0byBjYWxsIHRoaXMgZnVuY3Rpb24gcmF0aGVyIHRoYW4gcmV0dXJuIGl0LicgKyAoZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQyKCkgfHwgJycpO1xuXG4gIGlmIChvd25lckhhc0Z1bmN0aW9uVHlwZVdhcm5pbmdbY3VycmVudENvbXBvbmVudEVycm9ySW5mb10pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgb3duZXJIYXNGdW5jdGlvblR5cGVXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dID0gdHJ1ZTtcblxuICB3YXJuaW5nKGZhbHNlLCAnRnVuY3Rpb25zIGFyZSBub3QgdmFsaWQgYXMgYSBSZWFjdCBjaGlsZC4gVGhpcyBtYXkgaGFwcGVuIGlmICcgKyAneW91IHJldHVybiBhIENvbXBvbmVudCBpbnN0ZWFkIG9mIDxDb21wb25lbnQgLz4gZnJvbSByZW5kZXIuICcgKyAnT3IgbWF5YmUgeW91IG1lYW50IHRvIGNhbGwgdGhpcyBmdW5jdGlvbiByYXRoZXIgdGhhbiByZXR1cm4gaXQuJXMnLCBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDIoKSB8fCAnJyk7XG59XG5cbi8vIFRoaXMgd3JhcHBlciBmdW5jdGlvbiBleGlzdHMgYmVjYXVzZSBJIGV4cGVjdCB0byBjbG9uZSB0aGUgY29kZSBpbiBlYWNoIHBhdGhcbi8vIHRvIGJlIGFibGUgdG8gb3B0aW1pemUgZWFjaCBwYXRoIGluZGl2aWR1YWxseSBieSBicmFuY2hpbmcgZWFybHkuIFRoaXMgbmVlZHNcbi8vIGEgY29tcGlsZXIgb3Igd2UgY2FuIGRvIGl0IG1hbnVhbGx5LiBIZWxwZXJzIHRoYXQgZG9uJ3QgbmVlZCB0aGlzIGJyYW5jaGluZ1xuLy8gbGl2ZSBvdXRzaWRlIG9mIHRoaXMgZnVuY3Rpb24uXG5mdW5jdGlvbiBDaGlsZFJlY29uY2lsZXIoc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykge1xuICBmdW5jdGlvbiBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgY2hpbGRUb0RlbGV0ZSkge1xuICAgIGlmICghc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykge1xuICAgICAgLy8gTm9vcC5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gRGVsZXRpb25zIGFyZSBhZGRlZCBpbiByZXZlcnNlZCBvcmRlciBzbyB3ZSBhZGQgaXQgdG8gdGhlIGZyb250LlxuICAgIC8vIEF0IHRoaXMgcG9pbnQsIHRoZSByZXR1cm4gZmliZXIncyBlZmZlY3QgbGlzdCBpcyBlbXB0eSBleGNlcHQgZm9yXG4gICAgLy8gZGVsZXRpb25zLCBzbyB3ZSBjYW4ganVzdCBhcHBlbmQgdGhlIGRlbGV0aW9uIHRvIHRoZSBsaXN0LiBUaGUgcmVtYWluaW5nXG4gICAgLy8gZWZmZWN0cyBhcmVuJ3QgYWRkZWQgdW50aWwgdGhlIGNvbXBsZXRlIHBoYXNlLiBPbmNlIHdlIGltcGxlbWVudFxuICAgIC8vIHJlc3VtaW5nLCB0aGlzIG1heSBub3QgYmUgdHJ1ZS5cbiAgICB2YXIgbGFzdCA9IHJldHVybkZpYmVyLmxhc3RFZmZlY3Q7XG4gICAgaWYgKGxhc3QgIT09IG51bGwpIHtcbiAgICAgIGxhc3QubmV4dEVmZmVjdCA9IGNoaWxkVG9EZWxldGU7XG4gICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gY2hpbGRUb0RlbGV0ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuRmliZXIuZmlyc3RFZmZlY3QgPSByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gY2hpbGRUb0RlbGV0ZTtcbiAgICB9XG4gICAgY2hpbGRUb0RlbGV0ZS5uZXh0RWZmZWN0ID0gbnVsbDtcbiAgICBjaGlsZFRvRGVsZXRlLmVmZmVjdFRhZyA9IERlbGV0aW9uO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkKSB7XG4gICAgaWYgKCFzaG91bGRUcmFja1NpZGVFZmZlY3RzKSB7XG4gICAgICAvLyBOb29wLlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogRm9yIHRoZSBzaG91bGRDbG9uZSBjYXNlLCB0aGlzIGNvdWxkIGJlIG1pY3JvLW9wdGltaXplZCBhIGJpdCBieVxuICAgIC8vIGFzc3VtaW5nIHRoYXQgYWZ0ZXIgdGhlIGZpcnN0IGNoaWxkIHdlJ3ZlIGFscmVhZHkgYWRkZWQgZXZlcnl0aGluZy5cbiAgICB2YXIgY2hpbGRUb0RlbGV0ZSA9IGN1cnJlbnRGaXJzdENoaWxkO1xuICAgIHdoaWxlIChjaGlsZFRvRGVsZXRlICE9PSBudWxsKSB7XG4gICAgICBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgY2hpbGRUb0RlbGV0ZSk7XG4gICAgICBjaGlsZFRvRGVsZXRlID0gY2hpbGRUb0RlbGV0ZS5zaWJsaW5nO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1hcFJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCkge1xuICAgIC8vIEFkZCB0aGUgcmVtYWluaW5nIGNoaWxkcmVuIHRvIGEgdGVtcG9yYXJ5IG1hcCBzbyB0aGF0IHdlIGNhbiBmaW5kIHRoZW0gYnlcbiAgICAvLyBrZXlzIHF1aWNrbHkuIEltcGxpY2l0IChudWxsKSBrZXlzIGdldCBhZGRlZCB0byB0aGlzIHNldCB3aXRoIHRoZWlyIGluZGV4XG4gICAgdmFyIGV4aXN0aW5nQ2hpbGRyZW4gPSBuZXcgTWFwKCk7XG5cbiAgICB2YXIgZXhpc3RpbmdDaGlsZCA9IGN1cnJlbnRGaXJzdENoaWxkO1xuICAgIHdoaWxlIChleGlzdGluZ0NoaWxkICE9PSBudWxsKSB7XG4gICAgICBpZiAoZXhpc3RpbmdDaGlsZC5rZXkgIT09IG51bGwpIHtcbiAgICAgICAgZXhpc3RpbmdDaGlsZHJlbi5zZXQoZXhpc3RpbmdDaGlsZC5rZXksIGV4aXN0aW5nQ2hpbGQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXhpc3RpbmdDaGlsZHJlbi5zZXQoZXhpc3RpbmdDaGlsZC5pbmRleCwgZXhpc3RpbmdDaGlsZCk7XG4gICAgICB9XG4gICAgICBleGlzdGluZ0NoaWxkID0gZXhpc3RpbmdDaGlsZC5zaWJsaW5nO1xuICAgIH1cbiAgICByZXR1cm4gZXhpc3RpbmdDaGlsZHJlbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVzZUZpYmVyKGZpYmVyLCBwZW5kaW5nUHJvcHMsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgLy8gV2UgY3VycmVudGx5IHNldCBzaWJsaW5nIHRvIG51bGwgYW5kIGluZGV4IHRvIDAgaGVyZSBiZWNhdXNlIGl0IGlzIGVhc3lcbiAgICAvLyB0byBmb3JnZXQgdG8gZG8gYmVmb3JlIHJldHVybmluZyBpdC4gRS5nLiBmb3IgdGhlIHNpbmdsZSBjaGlsZCBjYXNlLlxuICAgIHZhciBjbG9uZSA9IGNyZWF0ZVdvcmtJblByb2dyZXNzKGZpYmVyLCBwZW5kaW5nUHJvcHMsIGV4cGlyYXRpb25UaW1lKTtcbiAgICBjbG9uZS5pbmRleCA9IDA7XG4gICAgY2xvbmUuc2libGluZyA9IG51bGw7XG4gICAgcmV0dXJuIGNsb25lO1xuICB9XG5cbiAgZnVuY3Rpb24gcGxhY2VDaGlsZChuZXdGaWJlciwgbGFzdFBsYWNlZEluZGV4LCBuZXdJbmRleCkge1xuICAgIG5ld0ZpYmVyLmluZGV4ID0gbmV3SW5kZXg7XG4gICAgaWYgKCFzaG91bGRUcmFja1NpZGVFZmZlY3RzKSB7XG4gICAgICAvLyBOb29wLlxuICAgICAgcmV0dXJuIGxhc3RQbGFjZWRJbmRleDtcbiAgICB9XG4gICAgdmFyIGN1cnJlbnQgPSBuZXdGaWJlci5hbHRlcm5hdGU7XG4gICAgaWYgKGN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgIHZhciBvbGRJbmRleCA9IGN1cnJlbnQuaW5kZXg7XG4gICAgICBpZiAob2xkSW5kZXggPCBsYXN0UGxhY2VkSW5kZXgpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIG1vdmUuXG4gICAgICAgIG5ld0ZpYmVyLmVmZmVjdFRhZyA9IFBsYWNlbWVudDtcbiAgICAgICAgcmV0dXJuIGxhc3RQbGFjZWRJbmRleDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRoaXMgaXRlbSBjYW4gc3RheSBpbiBwbGFjZS5cbiAgICAgICAgcmV0dXJuIG9sZEluZGV4O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGlzIGlzIGFuIGluc2VydGlvbi5cbiAgICAgIG5ld0ZpYmVyLmVmZmVjdFRhZyA9IFBsYWNlbWVudDtcbiAgICAgIHJldHVybiBsYXN0UGxhY2VkSW5kZXg7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGxhY2VTaW5nbGVDaGlsZChuZXdGaWJlcikge1xuICAgIC8vIFRoaXMgaXMgc2ltcGxlciBmb3IgdGhlIHNpbmdsZSBjaGlsZCBjYXNlLiBXZSBvbmx5IG5lZWQgdG8gZG8gYVxuICAgIC8vIHBsYWNlbWVudCBmb3IgaW5zZXJ0aW5nIG5ldyBjaGlsZHJlbi5cbiAgICBpZiAoc2hvdWxkVHJhY2tTaWRlRWZmZWN0cyAmJiBuZXdGaWJlci5hbHRlcm5hdGUgPT09IG51bGwpIHtcbiAgICAgIG5ld0ZpYmVyLmVmZmVjdFRhZyA9IFBsYWNlbWVudDtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0ZpYmVyO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlVGV4dE5vZGUocmV0dXJuRmliZXIsIGN1cnJlbnQsIHRleHRDb250ZW50LCBleHBpcmF0aW9uVGltZSkge1xuICAgIGlmIChjdXJyZW50ID09PSBudWxsIHx8IGN1cnJlbnQudGFnICE9PSBIb3N0VGV4dCkge1xuICAgICAgLy8gSW5zZXJ0XG4gICAgICB2YXIgY3JlYXRlZCA9IGNyZWF0ZUZpYmVyRnJvbVRleHQodGV4dENvbnRlbnQsIHJldHVybkZpYmVyLm1vZGUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGNyZWF0ZWRbJ3JldHVybiddID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gY3JlYXRlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVXBkYXRlXG4gICAgICB2YXIgZXhpc3RpbmcgPSB1c2VGaWJlcihjdXJyZW50LCB0ZXh0Q29udGVudCwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgZXhpc3RpbmdbJ3JldHVybiddID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlRWxlbWVudChyZXR1cm5GaWJlciwgY3VycmVudCwgZWxlbWVudCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICBpZiAoY3VycmVudCAhPT0gbnVsbCAmJiBjdXJyZW50LnR5cGUgPT09IGVsZW1lbnQudHlwZSkge1xuICAgICAgLy8gTW92ZSBiYXNlZCBvbiBpbmRleFxuICAgICAgdmFyIGV4aXN0aW5nID0gdXNlRmliZXIoY3VycmVudCwgZWxlbWVudC5wcm9wcywgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgZXhpc3RpbmcucmVmID0gY29lcmNlUmVmKHJldHVybkZpYmVyLCBjdXJyZW50LCBlbGVtZW50KTtcbiAgICAgIGV4aXN0aW5nWydyZXR1cm4nXSA9IHJldHVybkZpYmVyO1xuICAgICAge1xuICAgICAgICBleGlzdGluZy5fZGVidWdTb3VyY2UgPSBlbGVtZW50Ll9zb3VyY2U7XG4gICAgICAgIGV4aXN0aW5nLl9kZWJ1Z093bmVyID0gZWxlbWVudC5fb3duZXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEluc2VydFxuICAgICAgdmFyIGNyZWF0ZWQgPSBjcmVhdGVGaWJlckZyb21FbGVtZW50KGVsZW1lbnQsIHJldHVybkZpYmVyLm1vZGUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGNyZWF0ZWQucmVmID0gY29lcmNlUmVmKHJldHVybkZpYmVyLCBjdXJyZW50LCBlbGVtZW50KTtcbiAgICAgIGNyZWF0ZWRbJ3JldHVybiddID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gY3JlYXRlZDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVQb3J0YWwocmV0dXJuRmliZXIsIGN1cnJlbnQsIHBvcnRhbCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICBpZiAoY3VycmVudCA9PT0gbnVsbCB8fCBjdXJyZW50LnRhZyAhPT0gSG9zdFBvcnRhbCB8fCBjdXJyZW50LnN0YXRlTm9kZS5jb250YWluZXJJbmZvICE9PSBwb3J0YWwuY29udGFpbmVySW5mbyB8fCBjdXJyZW50LnN0YXRlTm9kZS5pbXBsZW1lbnRhdGlvbiAhPT0gcG9ydGFsLmltcGxlbWVudGF0aW9uKSB7XG4gICAgICAvLyBJbnNlcnRcbiAgICAgIHZhciBjcmVhdGVkID0gY3JlYXRlRmliZXJGcm9tUG9ydGFsKHBvcnRhbCwgcmV0dXJuRmliZXIubW9kZSwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgY3JlYXRlZFsncmV0dXJuJ10gPSByZXR1cm5GaWJlcjtcbiAgICAgIHJldHVybiBjcmVhdGVkO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBVcGRhdGVcbiAgICAgIHZhciBleGlzdGluZyA9IHVzZUZpYmVyKGN1cnJlbnQsIHBvcnRhbC5jaGlsZHJlbiB8fCBbXSwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgZXhpc3RpbmdbJ3JldHVybiddID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlRnJhZ21lbnQocmV0dXJuRmliZXIsIGN1cnJlbnQsIGZyYWdtZW50LCBleHBpcmF0aW9uVGltZSwga2V5KSB7XG4gICAgaWYgKGN1cnJlbnQgPT09IG51bGwgfHwgY3VycmVudC50YWcgIT09IEZyYWdtZW50KSB7XG4gICAgICAvLyBJbnNlcnRcbiAgICAgIHZhciBjcmVhdGVkID0gY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQoZnJhZ21lbnQsIHJldHVybkZpYmVyLm1vZGUsIGV4cGlyYXRpb25UaW1lLCBrZXkpO1xuICAgICAgY3JlYXRlZFsncmV0dXJuJ10gPSByZXR1cm5GaWJlcjtcbiAgICAgIHJldHVybiBjcmVhdGVkO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBVcGRhdGVcbiAgICAgIHZhciBleGlzdGluZyA9IHVzZUZpYmVyKGN1cnJlbnQsIGZyYWdtZW50LCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBleGlzdGluZ1sncmV0dXJuJ10gPSByZXR1cm5GaWJlcjtcbiAgICAgIHJldHVybiBleGlzdGluZztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVDaGlsZChyZXR1cm5GaWJlciwgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG5ld0NoaWxkID09PSAnbnVtYmVyJykge1xuICAgICAgLy8gVGV4dCBub2RlcyBkb24ndCBoYXZlIGtleXMuIElmIHRoZSBwcmV2aW91cyBub2RlIGlzIGltcGxpY2l0bHkga2V5ZWRcbiAgICAgIC8vIHdlIGNhbiBjb250aW51ZSB0byByZXBsYWNlIGl0IHdpdGhvdXQgYWJvcnRpbmcgZXZlbiBpZiBpdCBpcyBub3QgYSB0ZXh0XG4gICAgICAvLyBub2RlLlxuICAgICAgdmFyIGNyZWF0ZWQgPSBjcmVhdGVGaWJlckZyb21UZXh0KCcnICsgbmV3Q2hpbGQsIHJldHVybkZpYmVyLm1vZGUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGNyZWF0ZWRbJ3JldHVybiddID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gY3JlYXRlZDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5ld0NoaWxkID09PSAnb2JqZWN0JyAmJiBuZXdDaGlsZCAhPT0gbnVsbCkge1xuICAgICAgc3dpdGNoIChuZXdDaGlsZC4kJHR5cGVvZikge1xuICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YXIgX2NyZWF0ZWQgPSBjcmVhdGVGaWJlckZyb21FbGVtZW50KG5ld0NoaWxkLCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgICAgICBfY3JlYXRlZC5yZWYgPSBjb2VyY2VSZWYocmV0dXJuRmliZXIsIG51bGwsIG5ld0NoaWxkKTtcbiAgICAgICAgICAgIF9jcmVhdGVkWydyZXR1cm4nXSA9IHJldHVybkZpYmVyO1xuICAgICAgICAgICAgcmV0dXJuIF9jcmVhdGVkO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YXIgX2NyZWF0ZWQyID0gY3JlYXRlRmliZXJGcm9tUG9ydGFsKG5ld0NoaWxkLCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgICAgICBfY3JlYXRlZDJbJ3JldHVybiddID0gcmV0dXJuRmliZXI7XG4gICAgICAgICAgICByZXR1cm4gX2NyZWF0ZWQyO1xuICAgICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlzQXJyYXkkMShuZXdDaGlsZCkgfHwgZ2V0SXRlcmF0b3JGbihuZXdDaGlsZCkpIHtcbiAgICAgICAgdmFyIF9jcmVhdGVkMyA9IGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KG5ld0NoaWxkLCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSwgbnVsbCk7XG4gICAgICAgIF9jcmVhdGVkM1sncmV0dXJuJ10gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgcmV0dXJuIF9jcmVhdGVkMztcbiAgICAgIH1cblxuICAgICAgdGhyb3dPbkludmFsaWRPYmplY3RUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgfVxuXG4gICAge1xuICAgICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB3YXJuT25GdW5jdGlvblR5cGUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVNsb3QocmV0dXJuRmliZXIsIG9sZEZpYmVyLCBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICAvLyBVcGRhdGUgdGhlIGZpYmVyIGlmIHRoZSBrZXlzIG1hdGNoLCBvdGhlcndpc2UgcmV0dXJuIG51bGwuXG5cbiAgICB2YXIga2V5ID0gb2xkRmliZXIgIT09IG51bGwgPyBvbGRGaWJlci5rZXkgOiBudWxsO1xuXG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG5ld0NoaWxkID09PSAnbnVtYmVyJykge1xuICAgICAgLy8gVGV4dCBub2RlcyBkb24ndCBoYXZlIGtleXMuIElmIHRoZSBwcmV2aW91cyBub2RlIGlzIGltcGxpY2l0bHkga2V5ZWRcbiAgICAgIC8vIHdlIGNhbiBjb250aW51ZSB0byByZXBsYWNlIGl0IHdpdGhvdXQgYWJvcnRpbmcgZXZlbiBpZiBpdCBpcyBub3QgYSB0ZXh0XG4gICAgICAvLyBub2RlLlxuICAgICAgaWYgKGtleSAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1cGRhdGVUZXh0Tm9kZShyZXR1cm5GaWJlciwgb2xkRmliZXIsICcnICsgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5ld0NoaWxkID09PSAnb2JqZWN0JyAmJiBuZXdDaGlsZCAhPT0gbnVsbCkge1xuICAgICAgc3dpdGNoIChuZXdDaGlsZC4kJHR5cGVvZikge1xuICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAobmV3Q2hpbGQua2V5ID09PSBrZXkpIHtcbiAgICAgICAgICAgICAgaWYgKG5ld0NoaWxkLnR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlRnJhZ21lbnQocmV0dXJuRmliZXIsIG9sZEZpYmVyLCBuZXdDaGlsZC5wcm9wcy5jaGlsZHJlbiwgZXhwaXJhdGlvblRpbWUsIGtleSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZUVsZW1lbnQocmV0dXJuRmliZXIsIG9sZEZpYmVyLCBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmIChuZXdDaGlsZC5rZXkgPT09IGtleSkge1xuICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlUG9ydGFsKHJldHVybkZpYmVyLCBvbGRGaWJlciwgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlzQXJyYXkkMShuZXdDaGlsZCkgfHwgZ2V0SXRlcmF0b3JGbihuZXdDaGlsZCkpIHtcbiAgICAgICAgaWYgKGtleSAhPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVwZGF0ZUZyYWdtZW50KHJldHVybkZpYmVyLCBvbGRGaWJlciwgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lLCBudWxsKTtcbiAgICAgIH1cblxuICAgICAgdGhyb3dPbkludmFsaWRPYmplY3RUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgfVxuXG4gICAge1xuICAgICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB3YXJuT25GdW5jdGlvblR5cGUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUZyb21NYXAoZXhpc3RpbmdDaGlsZHJlbiwgcmV0dXJuRmliZXIsIG5ld0lkeCwgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG5ld0NoaWxkID09PSAnbnVtYmVyJykge1xuICAgICAgLy8gVGV4dCBub2RlcyBkb24ndCBoYXZlIGtleXMsIHNvIHdlIG5laXRoZXIgaGF2ZSB0byBjaGVjayB0aGUgb2xkIG5vclxuICAgICAgLy8gbmV3IG5vZGUgZm9yIHRoZSBrZXkuIElmIGJvdGggYXJlIHRleHQgbm9kZXMsIHRoZXkgbWF0Y2guXG4gICAgICB2YXIgbWF0Y2hlZEZpYmVyID0gZXhpc3RpbmdDaGlsZHJlbi5nZXQobmV3SWR4KSB8fCBudWxsO1xuICAgICAgcmV0dXJuIHVwZGF0ZVRleHROb2RlKHJldHVybkZpYmVyLCBtYXRjaGVkRmliZXIsICcnICsgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5ld0NoaWxkID09PSAnb2JqZWN0JyAmJiBuZXdDaGlsZCAhPT0gbnVsbCkge1xuICAgICAgc3dpdGNoIChuZXdDaGlsZC4kJHR5cGVvZikge1xuICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YXIgX21hdGNoZWRGaWJlciA9IGV4aXN0aW5nQ2hpbGRyZW4uZ2V0KG5ld0NoaWxkLmtleSA9PT0gbnVsbCA/IG5ld0lkeCA6IG5ld0NoaWxkLmtleSkgfHwgbnVsbDtcbiAgICAgICAgICAgIGlmIChuZXdDaGlsZC50eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFKSB7XG4gICAgICAgICAgICAgIHJldHVybiB1cGRhdGVGcmFnbWVudChyZXR1cm5GaWJlciwgX21hdGNoZWRGaWJlciwgbmV3Q2hpbGQucHJvcHMuY2hpbGRyZW4sIGV4cGlyYXRpb25UaW1lLCBuZXdDaGlsZC5rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZUVsZW1lbnQocmV0dXJuRmliZXIsIF9tYXRjaGVkRmliZXIsIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHZhciBfbWF0Y2hlZEZpYmVyMiA9IGV4aXN0aW5nQ2hpbGRyZW4uZ2V0KG5ld0NoaWxkLmtleSA9PT0gbnVsbCA/IG5ld0lkeCA6IG5ld0NoaWxkLmtleSkgfHwgbnVsbDtcbiAgICAgICAgICAgIHJldHVybiB1cGRhdGVQb3J0YWwocmV0dXJuRmliZXIsIF9tYXRjaGVkRmliZXIyLCBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlzQXJyYXkkMShuZXdDaGlsZCkgfHwgZ2V0SXRlcmF0b3JGbihuZXdDaGlsZCkpIHtcbiAgICAgICAgdmFyIF9tYXRjaGVkRmliZXIzID0gZXhpc3RpbmdDaGlsZHJlbi5nZXQobmV3SWR4KSB8fCBudWxsO1xuICAgICAgICByZXR1cm4gdXBkYXRlRnJhZ21lbnQocmV0dXJuRmliZXIsIF9tYXRjaGVkRmliZXIzLCBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUsIG51bGwpO1xuICAgICAgfVxuXG4gICAgICB0aHJvd09uSW52YWxpZE9iamVjdFR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKTtcbiAgICB9XG5cbiAgICB7XG4gICAgICBpZiAodHlwZW9mIG5ld0NoaWxkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHdhcm5PbkZ1bmN0aW9uVHlwZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFdhcm5zIGlmIHRoZXJlIGlzIGEgZHVwbGljYXRlIG9yIG1pc3Npbmcga2V5XG4gICAqL1xuICBmdW5jdGlvbiB3YXJuT25JbnZhbGlkS2V5KGNoaWxkLCBrbm93bktleXMpIHtcbiAgICB7XG4gICAgICBpZiAodHlwZW9mIGNoaWxkICE9PSAnb2JqZWN0JyB8fCBjaGlsZCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ga25vd25LZXlzO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChjaGlsZC4kJHR5cGVvZikge1xuICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICB3YXJuRm9yTWlzc2luZ0tleShjaGlsZCk7XG4gICAgICAgICAgdmFyIGtleSA9IGNoaWxkLmtleTtcbiAgICAgICAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoa25vd25LZXlzID09PSBudWxsKSB7XG4gICAgICAgICAgICBrbm93bktleXMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICBrbm93bktleXMuYWRkKGtleSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFrbm93bktleXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIGtub3duS2V5cy5hZGQoa2V5KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnRW5jb3VudGVyZWQgdHdvIGNoaWxkcmVuIHdpdGggdGhlIHNhbWUga2V5LCBgJXNgLiAnICsgJ0tleXMgc2hvdWxkIGJlIHVuaXF1ZSBzbyB0aGF0IGNvbXBvbmVudHMgbWFpbnRhaW4gdGhlaXIgaWRlbnRpdHkgJyArICdhY3Jvc3MgdXBkYXRlcy4gTm9uLXVuaXF1ZSBrZXlzIG1heSBjYXVzZSBjaGlsZHJlbiB0byBiZSAnICsgJ2R1cGxpY2F0ZWQgYW5kL29yIG9taXR0ZWQg4oCUIHRoZSBiZWhhdmlvciBpcyB1bnN1cHBvcnRlZCBhbmQgJyArICdjb3VsZCBjaGFuZ2UgaW4gYSBmdXR1cmUgdmVyc2lvbi4lcycsIGtleSwgZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ga25vd25LZXlzO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVjb25jaWxlQ2hpbGRyZW5BcnJheShyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQsIG5ld0NoaWxkcmVuLCBleHBpcmF0aW9uVGltZSkge1xuICAgIC8vIFRoaXMgYWxnb3JpdGhtIGNhbid0IG9wdGltaXplIGJ5IHNlYXJjaGluZyBmcm9tIGJvdGhzIGVuZHMgc2luY2Ugd2VcbiAgICAvLyBkb24ndCBoYXZlIGJhY2twb2ludGVycyBvbiBmaWJlcnMuIEknbSB0cnlpbmcgdG8gc2VlIGhvdyBmYXIgd2UgY2FuIGdldFxuICAgIC8vIHdpdGggdGhhdCBtb2RlbC4gSWYgaXQgZW5kcyB1cCBub3QgYmVpbmcgd29ydGggdGhlIHRyYWRlb2Zmcywgd2UgY2FuXG4gICAgLy8gYWRkIGl0IGxhdGVyLlxuXG4gICAgLy8gRXZlbiB3aXRoIGEgdHdvIGVuZGVkIG9wdGltaXphdGlvbiwgd2UnZCB3YW50IHRvIG9wdGltaXplIGZvciB0aGUgY2FzZVxuICAgIC8vIHdoZXJlIHRoZXJlIGFyZSBmZXcgY2hhbmdlcyBhbmQgYnJ1dGUgZm9yY2UgdGhlIGNvbXBhcmlzb24gaW5zdGVhZCBvZlxuICAgIC8vIGdvaW5nIGZvciB0aGUgTWFwLiBJdCdkIGxpa2UgdG8gZXhwbG9yZSBoaXR0aW5nIHRoYXQgcGF0aCBmaXJzdCBpblxuICAgIC8vIGZvcndhcmQtb25seSBtb2RlIGFuZCBvbmx5IGdvIGZvciB0aGUgTWFwIG9uY2Ugd2Ugbm90aWNlIHRoYXQgd2UgbmVlZFxuICAgIC8vIGxvdHMgb2YgbG9vayBhaGVhZC4gVGhpcyBkb2Vzbid0IGhhbmRsZSByZXZlcnNhbCBhcyB3ZWxsIGFzIHR3byBlbmRlZFxuICAgIC8vIHNlYXJjaCBidXQgdGhhdCdzIHVudXN1YWwuIEJlc2lkZXMsIGZvciB0aGUgdHdvIGVuZGVkIG9wdGltaXphdGlvbiB0b1xuICAgIC8vIHdvcmsgb24gSXRlcmFibGVzLCB3ZSdkIG5lZWQgdG8gY29weSB0aGUgd2hvbGUgc2V0LlxuXG4gICAgLy8gSW4gdGhpcyBmaXJzdCBpdGVyYXRpb24sIHdlJ2xsIGp1c3QgbGl2ZSB3aXRoIGhpdHRpbmcgdGhlIGJhZCBjYXNlXG4gICAgLy8gKGFkZGluZyBldmVyeXRoaW5nIHRvIGEgTWFwKSBpbiBmb3IgZXZlcnkgaW5zZXJ0L21vdmUuXG5cbiAgICAvLyBJZiB5b3UgY2hhbmdlIHRoaXMgY29kZSwgYWxzbyB1cGRhdGUgcmVjb25jaWxlQ2hpbGRyZW5JdGVyYXRvcigpIHdoaWNoXG4gICAgLy8gdXNlcyB0aGUgc2FtZSBhbGdvcml0aG0uXG5cbiAgICB7XG4gICAgICAvLyBGaXJzdCwgdmFsaWRhdGUga2V5cy5cbiAgICAgIHZhciBrbm93bktleXMgPSBudWxsO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY2hpbGQgPSBuZXdDaGlsZHJlbltpXTtcbiAgICAgICAga25vd25LZXlzID0gd2Fybk9uSW52YWxpZEtleShjaGlsZCwga25vd25LZXlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcmVzdWx0aW5nRmlyc3RDaGlsZCA9IG51bGw7XG4gICAgdmFyIHByZXZpb3VzTmV3RmliZXIgPSBudWxsO1xuXG4gICAgdmFyIG9sZEZpYmVyID0gY3VycmVudEZpcnN0Q2hpbGQ7XG4gICAgdmFyIGxhc3RQbGFjZWRJbmRleCA9IDA7XG4gICAgdmFyIG5ld0lkeCA9IDA7XG4gICAgdmFyIG5leHRPbGRGaWJlciA9IG51bGw7XG4gICAgZm9yICg7IG9sZEZpYmVyICE9PSBudWxsICYmIG5ld0lkeCA8IG5ld0NoaWxkcmVuLmxlbmd0aDsgbmV3SWR4KyspIHtcbiAgICAgIGlmIChvbGRGaWJlci5pbmRleCA+IG5ld0lkeCkge1xuICAgICAgICBuZXh0T2xkRmliZXIgPSBvbGRGaWJlcjtcbiAgICAgICAgb2xkRmliZXIgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dE9sZEZpYmVyID0gb2xkRmliZXIuc2libGluZztcbiAgICAgIH1cbiAgICAgIHZhciBuZXdGaWJlciA9IHVwZGF0ZVNsb3QocmV0dXJuRmliZXIsIG9sZEZpYmVyLCBuZXdDaGlsZHJlbltuZXdJZHhdLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBpZiAobmV3RmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgLy8gVE9ETzogVGhpcyBicmVha3Mgb24gZW1wdHkgc2xvdHMgbGlrZSBudWxsIGNoaWxkcmVuLiBUaGF0J3NcbiAgICAgICAgLy8gdW5mb3J0dW5hdGUgYmVjYXVzZSBpdCB0cmlnZ2VycyB0aGUgc2xvdyBwYXRoIGFsbCB0aGUgdGltZS4gV2UgbmVlZFxuICAgICAgICAvLyBhIGJldHRlciB3YXkgdG8gY29tbXVuaWNhdGUgd2hldGhlciB0aGlzIHdhcyBhIG1pc3Mgb3IgbnVsbCxcbiAgICAgICAgLy8gYm9vbGVhbiwgdW5kZWZpbmVkLCBldGMuXG4gICAgICAgIGlmIChvbGRGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAgIG9sZEZpYmVyID0gbmV4dE9sZEZpYmVyO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgICAgaWYgKG9sZEZpYmVyICYmIG5ld0ZpYmVyLmFsdGVybmF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIFdlIG1hdGNoZWQgdGhlIHNsb3QsIGJ1dCB3ZSBkaWRuJ3QgcmV1c2UgdGhlIGV4aXN0aW5nIGZpYmVyLCBzbyB3ZVxuICAgICAgICAgIC8vIG5lZWQgdG8gZGVsZXRlIHRoZSBleGlzdGluZyBjaGlsZC5cbiAgICAgICAgICBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgb2xkRmliZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsYXN0UGxhY2VkSW5kZXggPSBwbGFjZUNoaWxkKG5ld0ZpYmVyLCBsYXN0UGxhY2VkSW5kZXgsIG5ld0lkeCk7XG4gICAgICBpZiAocHJldmlvdXNOZXdGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAvLyBUT0RPOiBNb3ZlIG91dCBvZiB0aGUgbG9vcC4gVGhpcyBvbmx5IGhhcHBlbnMgZm9yIHRoZSBmaXJzdCBydW4uXG4gICAgICAgIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBuZXdGaWJlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRPRE86IERlZmVyIHNpYmxpbmdzIGlmIHdlJ3JlIG5vdCBhdCB0aGUgcmlnaHQgaW5kZXggZm9yIHRoaXMgc2xvdC5cbiAgICAgICAgLy8gSS5lLiBpZiB3ZSBoYWQgbnVsbCB2YWx1ZXMgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gZGVmZXIgdGhpc1xuICAgICAgICAvLyBmb3IgZWFjaCBudWxsIHZhbHVlLiBIb3dldmVyLCB3ZSBhbHNvIGRvbid0IHdhbnQgdG8gY2FsbCB1cGRhdGVTbG90XG4gICAgICAgIC8vIHdpdGggdGhlIHByZXZpb3VzIG9uZS5cbiAgICAgICAgcHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gbmV3RmliZXI7XG4gICAgICB9XG4gICAgICBwcmV2aW91c05ld0ZpYmVyID0gbmV3RmliZXI7XG4gICAgICBvbGRGaWJlciA9IG5leHRPbGRGaWJlcjtcbiAgICB9XG5cbiAgICBpZiAobmV3SWR4ID09PSBuZXdDaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgIC8vIFdlJ3ZlIHJlYWNoZWQgdGhlIGVuZCBvZiB0aGUgbmV3IGNoaWxkcmVuLiBXZSBjYW4gZGVsZXRlIHRoZSByZXN0LlxuICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIG9sZEZpYmVyKTtcbiAgICAgIHJldHVybiByZXN1bHRpbmdGaXJzdENoaWxkO1xuICAgIH1cblxuICAgIGlmIChvbGRGaWJlciA9PT0gbnVsbCkge1xuICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhbnkgbW9yZSBleGlzdGluZyBjaGlsZHJlbiB3ZSBjYW4gY2hvb3NlIGEgZmFzdCBwYXRoXG4gICAgICAvLyBzaW5jZSB0aGUgcmVzdCB3aWxsIGFsbCBiZSBpbnNlcnRpb25zLlxuICAgICAgZm9yICg7IG5ld0lkeCA8IG5ld0NoaWxkcmVuLmxlbmd0aDsgbmV3SWR4KyspIHtcbiAgICAgICAgdmFyIF9uZXdGaWJlciA9IGNyZWF0ZUNoaWxkKHJldHVybkZpYmVyLCBuZXdDaGlsZHJlbltuZXdJZHhdLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgIGlmICghX25ld0ZpYmVyKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdFBsYWNlZEluZGV4ID0gcGxhY2VDaGlsZChfbmV3RmliZXIsIGxhc3RQbGFjZWRJbmRleCwgbmV3SWR4KTtcbiAgICAgICAgaWYgKHByZXZpb3VzTmV3RmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBUT0RPOiBNb3ZlIG91dCBvZiB0aGUgbG9vcC4gVGhpcyBvbmx5IGhhcHBlbnMgZm9yIHRoZSBmaXJzdCBydW4uXG4gICAgICAgICAgcmVzdWx0aW5nRmlyc3RDaGlsZCA9IF9uZXdGaWJlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcmV2aW91c05ld0ZpYmVyLnNpYmxpbmcgPSBfbmV3RmliZXI7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXNOZXdGaWJlciA9IF9uZXdGaWJlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRpbmdGaXJzdENoaWxkO1xuICAgIH1cblxuICAgIC8vIEFkZCBhbGwgY2hpbGRyZW4gdG8gYSBrZXkgbWFwIGZvciBxdWljayBsb29rdXBzLlxuICAgIHZhciBleGlzdGluZ0NoaWxkcmVuID0gbWFwUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIG9sZEZpYmVyKTtcblxuICAgIC8vIEtlZXAgc2Nhbm5pbmcgYW5kIHVzZSB0aGUgbWFwIHRvIHJlc3RvcmUgZGVsZXRlZCBpdGVtcyBhcyBtb3Zlcy5cbiAgICBmb3IgKDsgbmV3SWR4IDwgbmV3Q2hpbGRyZW4ubGVuZ3RoOyBuZXdJZHgrKykge1xuICAgICAgdmFyIF9uZXdGaWJlcjIgPSB1cGRhdGVGcm9tTWFwKGV4aXN0aW5nQ2hpbGRyZW4sIHJldHVybkZpYmVyLCBuZXdJZHgsIG5ld0NoaWxkcmVuW25ld0lkeF0sIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGlmIChfbmV3RmliZXIyKSB7XG4gICAgICAgIGlmIChzaG91bGRUcmFja1NpZGVFZmZlY3RzKSB7XG4gICAgICAgICAgaWYgKF9uZXdGaWJlcjIuYWx0ZXJuYXRlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBUaGUgbmV3IGZpYmVyIGlzIGEgd29yayBpbiBwcm9ncmVzcywgYnV0IGlmIHRoZXJlIGV4aXN0cyBhXG4gICAgICAgICAgICAvLyBjdXJyZW50LCB0aGF0IG1lYW5zIHRoYXQgd2UgcmV1c2VkIHRoZSBmaWJlci4gV2UgbmVlZCB0byBkZWxldGVcbiAgICAgICAgICAgIC8vIGl0IGZyb20gdGhlIGNoaWxkIGxpc3Qgc28gdGhhdCB3ZSBkb24ndCBhZGQgaXQgdG8gdGhlIGRlbGV0aW9uXG4gICAgICAgICAgICAvLyBsaXN0LlxuICAgICAgICAgICAgZXhpc3RpbmdDaGlsZHJlblsnZGVsZXRlJ10oX25ld0ZpYmVyMi5rZXkgPT09IG51bGwgPyBuZXdJZHggOiBfbmV3RmliZXIyLmtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxhc3RQbGFjZWRJbmRleCA9IHBsYWNlQ2hpbGQoX25ld0ZpYmVyMiwgbGFzdFBsYWNlZEluZGV4LCBuZXdJZHgpO1xuICAgICAgICBpZiAocHJldmlvdXNOZXdGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAgIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBfbmV3RmliZXIyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByZXZpb3VzTmV3RmliZXIuc2libGluZyA9IF9uZXdGaWJlcjI7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXNOZXdGaWJlciA9IF9uZXdGaWJlcjI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgIC8vIEFueSBleGlzdGluZyBjaGlsZHJlbiB0aGF0IHdlcmVuJ3QgY29uc3VtZWQgYWJvdmUgd2VyZSBkZWxldGVkLiBXZSBuZWVkXG4gICAgICAvLyB0byBhZGQgdGhlbSB0byB0aGUgZGVsZXRpb24gbGlzdC5cbiAgICAgIGV4aXN0aW5nQ2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBjaGlsZCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY29uY2lsZUNoaWxkcmVuSXRlcmF0b3IocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBuZXdDaGlsZHJlbkl0ZXJhYmxlLCBleHBpcmF0aW9uVGltZSkge1xuICAgIC8vIFRoaXMgaXMgdGhlIHNhbWUgaW1wbGVtZW50YXRpb24gYXMgcmVjb25jaWxlQ2hpbGRyZW5BcnJheSgpLFxuICAgIC8vIGJ1dCB1c2luZyB0aGUgaXRlcmF0b3IgaW5zdGVhZC5cblxuICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihuZXdDaGlsZHJlbkl0ZXJhYmxlKTtcbiAgICAhKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSA/IGludmFyaWFudChmYWxzZSwgJ0FuIG9iamVjdCBpcyBub3QgYW4gaXRlcmFibGUuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG5cbiAgICB7XG4gICAgICAvLyBXYXJuIGFib3V0IHVzaW5nIE1hcHMgYXMgY2hpbGRyZW5cbiAgICAgIGlmICh0eXBlb2YgbmV3Q2hpbGRyZW5JdGVyYWJsZS5lbnRyaWVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBwb3NzaWJsZU1hcCA9IG5ld0NoaWxkcmVuSXRlcmFibGU7XG4gICAgICAgIGlmIChwb3NzaWJsZU1hcC5lbnRyaWVzID09PSBpdGVyYXRvckZuKSB7XG4gICAgICAgICAgd2FybmluZyhkaWRXYXJuQWJvdXRNYXBzLCAnVXNpbmcgTWFwcyBhcyBjaGlsZHJlbiBpcyB1bnN1cHBvcnRlZCBhbmQgd2lsbCBsaWtlbHkgeWllbGQgJyArICd1bmV4cGVjdGVkIHJlc3VsdHMuIENvbnZlcnQgaXQgdG8gYSBzZXF1ZW5jZS9pdGVyYWJsZSBvZiBrZXllZCAnICsgJ1JlYWN0RWxlbWVudHMgaW5zdGVhZC4lcycsIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMigpKTtcbiAgICAgICAgICBkaWRXYXJuQWJvdXRNYXBzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBGaXJzdCwgdmFsaWRhdGUga2V5cy5cbiAgICAgIC8vIFdlJ2xsIGdldCBhIGRpZmZlcmVudCBpdGVyYXRvciBsYXRlciBmb3IgdGhlIG1haW4gcGFzcy5cbiAgICAgIHZhciBfbmV3Q2hpbGRyZW4gPSBpdGVyYXRvckZuLmNhbGwobmV3Q2hpbGRyZW5JdGVyYWJsZSk7XG4gICAgICBpZiAoX25ld0NoaWxkcmVuKSB7XG4gICAgICAgIHZhciBrbm93bktleXMgPSBudWxsO1xuICAgICAgICB2YXIgX3N0ZXAgPSBfbmV3Q2hpbGRyZW4ubmV4dCgpO1xuICAgICAgICBmb3IgKDsgIV9zdGVwLmRvbmU7IF9zdGVwID0gX25ld0NoaWxkcmVuLm5leHQoKSkge1xuICAgICAgICAgIHZhciBjaGlsZCA9IF9zdGVwLnZhbHVlO1xuICAgICAgICAgIGtub3duS2V5cyA9IHdhcm5PbkludmFsaWRLZXkoY2hpbGQsIGtub3duS2V5cyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbmV3Q2hpbGRyZW4gPSBpdGVyYXRvckZuLmNhbGwobmV3Q2hpbGRyZW5JdGVyYWJsZSk7XG4gICAgIShuZXdDaGlsZHJlbiAhPSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ0FuIGl0ZXJhYmxlIG9iamVjdCBwcm92aWRlZCBubyBpdGVyYXRvci4nKSA6IHZvaWQgMDtcblxuICAgIHZhciByZXN1bHRpbmdGaXJzdENoaWxkID0gbnVsbDtcbiAgICB2YXIgcHJldmlvdXNOZXdGaWJlciA9IG51bGw7XG5cbiAgICB2YXIgb2xkRmliZXIgPSBjdXJyZW50Rmlyc3RDaGlsZDtcbiAgICB2YXIgbGFzdFBsYWNlZEluZGV4ID0gMDtcbiAgICB2YXIgbmV3SWR4ID0gMDtcbiAgICB2YXIgbmV4dE9sZEZpYmVyID0gbnVsbDtcblxuICAgIHZhciBzdGVwID0gbmV3Q2hpbGRyZW4ubmV4dCgpO1xuICAgIGZvciAoOyBvbGRGaWJlciAhPT0gbnVsbCAmJiAhc3RlcC5kb25lOyBuZXdJZHgrKywgc3RlcCA9IG5ld0NoaWxkcmVuLm5leHQoKSkge1xuICAgICAgaWYgKG9sZEZpYmVyLmluZGV4ID4gbmV3SWR4KSB7XG4gICAgICAgIG5leHRPbGRGaWJlciA9IG9sZEZpYmVyO1xuICAgICAgICBvbGRGaWJlciA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0T2xkRmliZXIgPSBvbGRGaWJlci5zaWJsaW5nO1xuICAgICAgfVxuICAgICAgdmFyIG5ld0ZpYmVyID0gdXBkYXRlU2xvdChyZXR1cm5GaWJlciwgb2xkRmliZXIsIHN0ZXAudmFsdWUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGlmIChuZXdGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAvLyBUT0RPOiBUaGlzIGJyZWFrcyBvbiBlbXB0eSBzbG90cyBsaWtlIG51bGwgY2hpbGRyZW4uIFRoYXQnc1xuICAgICAgICAvLyB1bmZvcnR1bmF0ZSBiZWNhdXNlIGl0IHRyaWdnZXJzIHRoZSBzbG93IHBhdGggYWxsIHRoZSB0aW1lLiBXZSBuZWVkXG4gICAgICAgIC8vIGEgYmV0dGVyIHdheSB0byBjb21tdW5pY2F0ZSB3aGV0aGVyIHRoaXMgd2FzIGEgbWlzcyBvciBudWxsLFxuICAgICAgICAvLyBib29sZWFuLCB1bmRlZmluZWQsIGV0Yy5cbiAgICAgICAgaWYgKCFvbGRGaWJlcikge1xuICAgICAgICAgIG9sZEZpYmVyID0gbmV4dE9sZEZpYmVyO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgICAgaWYgKG9sZEZpYmVyICYmIG5ld0ZpYmVyLmFsdGVybmF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIFdlIG1hdGNoZWQgdGhlIHNsb3QsIGJ1dCB3ZSBkaWRuJ3QgcmV1c2UgdGhlIGV4aXN0aW5nIGZpYmVyLCBzbyB3ZVxuICAgICAgICAgIC8vIG5lZWQgdG8gZGVsZXRlIHRoZSBleGlzdGluZyBjaGlsZC5cbiAgICAgICAgICBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgb2xkRmliZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsYXN0UGxhY2VkSW5kZXggPSBwbGFjZUNoaWxkKG5ld0ZpYmVyLCBsYXN0UGxhY2VkSW5kZXgsIG5ld0lkeCk7XG4gICAgICBpZiAocHJldmlvdXNOZXdGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAvLyBUT0RPOiBNb3ZlIG91dCBvZiB0aGUgbG9vcC4gVGhpcyBvbmx5IGhhcHBlbnMgZm9yIHRoZSBmaXJzdCBydW4uXG4gICAgICAgIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBuZXdGaWJlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRPRE86IERlZmVyIHNpYmxpbmdzIGlmIHdlJ3JlIG5vdCBhdCB0aGUgcmlnaHQgaW5kZXggZm9yIHRoaXMgc2xvdC5cbiAgICAgICAgLy8gSS5lLiBpZiB3ZSBoYWQgbnVsbCB2YWx1ZXMgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gZGVmZXIgdGhpc1xuICAgICAgICAvLyBmb3IgZWFjaCBudWxsIHZhbHVlLiBIb3dldmVyLCB3ZSBhbHNvIGRvbid0IHdhbnQgdG8gY2FsbCB1cGRhdGVTbG90XG4gICAgICAgIC8vIHdpdGggdGhlIHByZXZpb3VzIG9uZS5cbiAgICAgICAgcHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gbmV3RmliZXI7XG4gICAgICB9XG4gICAgICBwcmV2aW91c05ld0ZpYmVyID0gbmV3RmliZXI7XG4gICAgICBvbGRGaWJlciA9IG5leHRPbGRGaWJlcjtcbiAgICB9XG5cbiAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAvLyBXZSd2ZSByZWFjaGVkIHRoZSBlbmQgb2YgdGhlIG5ldyBjaGlsZHJlbi4gV2UgY2FuIGRlbGV0ZSB0aGUgcmVzdC5cbiAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBvbGRGaWJlcik7XG4gICAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICBpZiAob2xkRmliZXIgPT09IG51bGwpIHtcbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW55IG1vcmUgZXhpc3RpbmcgY2hpbGRyZW4gd2UgY2FuIGNob29zZSBhIGZhc3QgcGF0aFxuICAgICAgLy8gc2luY2UgdGhlIHJlc3Qgd2lsbCBhbGwgYmUgaW5zZXJ0aW9ucy5cbiAgICAgIGZvciAoOyAhc3RlcC5kb25lOyBuZXdJZHgrKywgc3RlcCA9IG5ld0NoaWxkcmVuLm5leHQoKSkge1xuICAgICAgICB2YXIgX25ld0ZpYmVyMyA9IGNyZWF0ZUNoaWxkKHJldHVybkZpYmVyLCBzdGVwLnZhbHVlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgIGlmIChfbmV3RmliZXIzID09PSBudWxsKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdFBsYWNlZEluZGV4ID0gcGxhY2VDaGlsZChfbmV3RmliZXIzLCBsYXN0UGxhY2VkSW5kZXgsIG5ld0lkeCk7XG4gICAgICAgIGlmIChwcmV2aW91c05ld0ZpYmVyID09PSBudWxsKSB7XG4gICAgICAgICAgLy8gVE9ETzogTW92ZSBvdXQgb2YgdGhlIGxvb3AuIFRoaXMgb25seSBoYXBwZW5zIGZvciB0aGUgZmlyc3QgcnVuLlxuICAgICAgICAgIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBfbmV3RmliZXIzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByZXZpb3VzTmV3RmliZXIuc2libGluZyA9IF9uZXdGaWJlcjM7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXNOZXdGaWJlciA9IF9uZXdGaWJlcjM7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICAvLyBBZGQgYWxsIGNoaWxkcmVuIHRvIGEga2V5IG1hcCBmb3IgcXVpY2sgbG9va3Vwcy5cbiAgICB2YXIgZXhpc3RpbmdDaGlsZHJlbiA9IG1hcFJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBvbGRGaWJlcik7XG5cbiAgICAvLyBLZWVwIHNjYW5uaW5nIGFuZCB1c2UgdGhlIG1hcCB0byByZXN0b3JlIGRlbGV0ZWQgaXRlbXMgYXMgbW92ZXMuXG4gICAgZm9yICg7ICFzdGVwLmRvbmU7IG5ld0lkeCsrLCBzdGVwID0gbmV3Q2hpbGRyZW4ubmV4dCgpKSB7XG4gICAgICB2YXIgX25ld0ZpYmVyNCA9IHVwZGF0ZUZyb21NYXAoZXhpc3RpbmdDaGlsZHJlbiwgcmV0dXJuRmliZXIsIG5ld0lkeCwgc3RlcC52YWx1ZSwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgaWYgKF9uZXdGaWJlcjQgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgICAgICBpZiAoX25ld0ZpYmVyNC5hbHRlcm5hdGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFRoZSBuZXcgZmliZXIgaXMgYSB3b3JrIGluIHByb2dyZXNzLCBidXQgaWYgdGhlcmUgZXhpc3RzIGFcbiAgICAgICAgICAgIC8vIGN1cnJlbnQsIHRoYXQgbWVhbnMgdGhhdCB3ZSByZXVzZWQgdGhlIGZpYmVyLiBXZSBuZWVkIHRvIGRlbGV0ZVxuICAgICAgICAgICAgLy8gaXQgZnJvbSB0aGUgY2hpbGQgbGlzdCBzbyB0aGF0IHdlIGRvbid0IGFkZCBpdCB0byB0aGUgZGVsZXRpb25cbiAgICAgICAgICAgIC8vIGxpc3QuXG4gICAgICAgICAgICBleGlzdGluZ0NoaWxkcmVuWydkZWxldGUnXShfbmV3RmliZXI0LmtleSA9PT0gbnVsbCA/IG5ld0lkeCA6IF9uZXdGaWJlcjQua2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGFzdFBsYWNlZEluZGV4ID0gcGxhY2VDaGlsZChfbmV3RmliZXI0LCBsYXN0UGxhY2VkSW5kZXgsIG5ld0lkeCk7XG4gICAgICAgIGlmIChwcmV2aW91c05ld0ZpYmVyID09PSBudWxsKSB7XG4gICAgICAgICAgcmVzdWx0aW5nRmlyc3RDaGlsZCA9IF9uZXdGaWJlcjQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gX25ld0ZpYmVyNDtcbiAgICAgICAgfVxuICAgICAgICBwcmV2aW91c05ld0ZpYmVyID0gX25ld0ZpYmVyNDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykge1xuICAgICAgLy8gQW55IGV4aXN0aW5nIGNoaWxkcmVuIHRoYXQgd2VyZW4ndCBjb25zdW1lZCBhYm92ZSB3ZXJlIGRlbGV0ZWQuIFdlIG5lZWRcbiAgICAgIC8vIHRvIGFkZCB0aGVtIHRvIHRoZSBkZWxldGlvbiBsaXN0LlxuICAgICAgZXhpc3RpbmdDaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICByZXR1cm4gZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGNoaWxkKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRpbmdGaXJzdENoaWxkO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVjb25jaWxlU2luZ2xlVGV4dE5vZGUocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCB0ZXh0Q29udGVudCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICAvLyBUaGVyZSdzIG5vIG5lZWQgdG8gY2hlY2sgZm9yIGtleXMgb24gdGV4dCBub2RlcyBzaW5jZSB3ZSBkb24ndCBoYXZlIGFcbiAgICAvLyB3YXkgdG8gZGVmaW5lIHRoZW0uXG4gICAgaWYgKGN1cnJlbnRGaXJzdENoaWxkICE9PSBudWxsICYmIGN1cnJlbnRGaXJzdENoaWxkLnRhZyA9PT0gSG9zdFRleHQpIHtcbiAgICAgIC8vIFdlIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBub2RlIHNvIGxldCdzIGp1c3QgdXBkYXRlIGl0IGFuZCBkZWxldGVcbiAgICAgIC8vIHRoZSByZXN0LlxuICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLnNpYmxpbmcpO1xuICAgICAgdmFyIGV4aXN0aW5nID0gdXNlRmliZXIoY3VycmVudEZpcnN0Q2hpbGQsIHRleHRDb250ZW50LCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBleGlzdGluZ1sncmV0dXJuJ10gPSByZXR1cm5GaWJlcjtcbiAgICAgIHJldHVybiBleGlzdGluZztcbiAgICB9XG4gICAgLy8gVGhlIGV4aXN0aW5nIGZpcnN0IGNoaWxkIGlzIG5vdCBhIHRleHQgbm9kZSBzbyB3ZSBuZWVkIHRvIGNyZWF0ZSBvbmVcbiAgICAvLyBhbmQgZGVsZXRlIHRoZSBleGlzdGluZyBvbmVzLlxuICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCk7XG4gICAgdmFyIGNyZWF0ZWQgPSBjcmVhdGVGaWJlckZyb21UZXh0KHRleHRDb250ZW50LCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgY3JlYXRlZFsncmV0dXJuJ10gPSByZXR1cm5GaWJlcjtcbiAgICByZXR1cm4gY3JlYXRlZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY29uY2lsZVNpbmdsZUVsZW1lbnQocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBlbGVtZW50LCBleHBpcmF0aW9uVGltZSkge1xuICAgIHZhciBrZXkgPSBlbGVtZW50LmtleTtcbiAgICB2YXIgY2hpbGQgPSBjdXJyZW50Rmlyc3RDaGlsZDtcbiAgICB3aGlsZSAoY2hpbGQgIT09IG51bGwpIHtcbiAgICAgIC8vIFRPRE86IElmIGtleSA9PT0gbnVsbCBhbmQgY2hpbGQua2V5ID09PSBudWxsLCB0aGVuIHRoaXMgb25seSBhcHBsaWVzIHRvXG4gICAgICAvLyB0aGUgZmlyc3QgaXRlbSBpbiB0aGUgbGlzdC5cbiAgICAgIGlmIChjaGlsZC5rZXkgPT09IGtleSkge1xuICAgICAgICBpZiAoY2hpbGQudGFnID09PSBGcmFnbWVudCA/IGVsZW1lbnQudHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSA6IGNoaWxkLnR5cGUgPT09IGVsZW1lbnQudHlwZSkge1xuICAgICAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjaGlsZC5zaWJsaW5nKTtcbiAgICAgICAgICB2YXIgZXhpc3RpbmcgPSB1c2VGaWJlcihjaGlsZCwgZWxlbWVudC50eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFID8gZWxlbWVudC5wcm9wcy5jaGlsZHJlbiA6IGVsZW1lbnQucHJvcHMsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICBleGlzdGluZy5yZWYgPSBjb2VyY2VSZWYocmV0dXJuRmliZXIsIGNoaWxkLCBlbGVtZW50KTtcbiAgICAgICAgICBleGlzdGluZ1sncmV0dXJuJ10gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBleGlzdGluZy5fZGVidWdTb3VyY2UgPSBlbGVtZW50Ll9zb3VyY2U7XG4gICAgICAgICAgICBleGlzdGluZy5fZGVidWdPd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGNoaWxkKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGNoaWxkKTtcbiAgICAgIH1cbiAgICAgIGNoaWxkID0gY2hpbGQuc2libGluZztcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudC50eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFKSB7XG4gICAgICB2YXIgY3JlYXRlZCA9IGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KGVsZW1lbnQucHJvcHMuY2hpbGRyZW4sIHJldHVybkZpYmVyLm1vZGUsIGV4cGlyYXRpb25UaW1lLCBlbGVtZW50LmtleSk7XG4gICAgICBjcmVhdGVkWydyZXR1cm4nXSA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIGNyZWF0ZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBfY3JlYXRlZDQgPSBjcmVhdGVGaWJlckZyb21FbGVtZW50KGVsZW1lbnQsIHJldHVybkZpYmVyLm1vZGUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIF9jcmVhdGVkNC5yZWYgPSBjb2VyY2VSZWYocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBlbGVtZW50KTtcbiAgICAgIF9jcmVhdGVkNFsncmV0dXJuJ10gPSByZXR1cm5GaWJlcjtcbiAgICAgIHJldHVybiBfY3JlYXRlZDQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVjb25jaWxlU2luZ2xlUG9ydGFsKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCwgcG9ydGFsLCBleHBpcmF0aW9uVGltZSkge1xuICAgIHZhciBrZXkgPSBwb3J0YWwua2V5O1xuICAgIHZhciBjaGlsZCA9IGN1cnJlbnRGaXJzdENoaWxkO1xuICAgIHdoaWxlIChjaGlsZCAhPT0gbnVsbCkge1xuICAgICAgLy8gVE9ETzogSWYga2V5ID09PSBudWxsIGFuZCBjaGlsZC5rZXkgPT09IG51bGwsIHRoZW4gdGhpcyBvbmx5IGFwcGxpZXMgdG9cbiAgICAgIC8vIHRoZSBmaXJzdCBpdGVtIGluIHRoZSBsaXN0LlxuICAgICAgaWYgKGNoaWxkLmtleSA9PT0ga2V5KSB7XG4gICAgICAgIGlmIChjaGlsZC50YWcgPT09IEhvc3RQb3J0YWwgJiYgY2hpbGQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8gPT09IHBvcnRhbC5jb250YWluZXJJbmZvICYmIGNoaWxkLnN0YXRlTm9kZS5pbXBsZW1lbnRhdGlvbiA9PT0gcG9ydGFsLmltcGxlbWVudGF0aW9uKSB7XG4gICAgICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGNoaWxkLnNpYmxpbmcpO1xuICAgICAgICAgIHZhciBleGlzdGluZyA9IHVzZUZpYmVyKGNoaWxkLCBwb3J0YWwuY2hpbGRyZW4gfHwgW10sIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICBleGlzdGluZ1sncmV0dXJuJ10gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGNoaWxkKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGNoaWxkKTtcbiAgICAgIH1cbiAgICAgIGNoaWxkID0gY2hpbGQuc2libGluZztcbiAgICB9XG5cbiAgICB2YXIgY3JlYXRlZCA9IGNyZWF0ZUZpYmVyRnJvbVBvcnRhbChwb3J0YWwsIHJldHVybkZpYmVyLm1vZGUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICBjcmVhdGVkWydyZXR1cm4nXSA9IHJldHVybkZpYmVyO1xuICAgIHJldHVybiBjcmVhdGVkO1xuICB9XG5cbiAgLy8gVGhpcyBBUEkgd2lsbCB0YWcgdGhlIGNoaWxkcmVuIHdpdGggdGhlIHNpZGUtZWZmZWN0IG9mIHRoZSByZWNvbmNpbGlhdGlvblxuICAvLyBpdHNlbGYuIFRoZXkgd2lsbCBiZSBhZGRlZCB0byB0aGUgc2lkZS1lZmZlY3QgbGlzdCBhcyB3ZSBwYXNzIHRocm91Z2ggdGhlXG4gIC8vIGNoaWxkcmVuIGFuZCB0aGUgcGFyZW50LlxuICBmdW5jdGlvbiByZWNvbmNpbGVDaGlsZEZpYmVycyhyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQsIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSkge1xuICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgbm90IHJlY3Vyc2l2ZS5cbiAgICAvLyBJZiB0aGUgdG9wIGxldmVsIGl0ZW0gaXMgYW4gYXJyYXksIHdlIHRyZWF0IGl0IGFzIGEgc2V0IG9mIGNoaWxkcmVuLFxuICAgIC8vIG5vdCBhcyBhIGZyYWdtZW50LiBOZXN0ZWQgYXJyYXlzIG9uIHRoZSBvdGhlciBoYW5kIHdpbGwgYmUgdHJlYXRlZCBhc1xuICAgIC8vIGZyYWdtZW50IG5vZGVzLiBSZWN1cnNpb24gaGFwcGVucyBhdCB0aGUgbm9ybWFsIGZsb3cuXG5cbiAgICAvLyBIYW5kbGUgdG9wIGxldmVsIHVua2V5ZWQgZnJhZ21lbnRzIGFzIGlmIHRoZXkgd2VyZSBhcnJheXMuXG4gICAgLy8gVGhpcyBsZWFkcyB0byBhbiBhbWJpZ3VpdHkgYmV0d2VlbiA8PntbLi4uXX08Lz4gYW5kIDw+Li4uPC8+LlxuICAgIC8vIFdlIHRyZWF0IHRoZSBhbWJpZ3VvdXMgY2FzZXMgYWJvdmUgdGhlIHNhbWUuXG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ29iamVjdCcgJiYgbmV3Q2hpbGQgIT09IG51bGwgJiYgbmV3Q2hpbGQudHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSAmJiBuZXdDaGlsZC5rZXkgPT09IG51bGwpIHtcbiAgICAgIG5ld0NoaWxkID0gbmV3Q2hpbGQucHJvcHMuY2hpbGRyZW47XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIG9iamVjdCB0eXBlc1xuICAgIHZhciBpc09iamVjdCA9IHR5cGVvZiBuZXdDaGlsZCA9PT0gJ29iamVjdCcgJiYgbmV3Q2hpbGQgIT09IG51bGw7XG5cbiAgICBpZiAoaXNPYmplY3QpIHtcbiAgICAgIHN3aXRjaCAobmV3Q2hpbGQuJCR0eXBlb2YpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIHBsYWNlU2luZ2xlQ2hpbGQocmVjb25jaWxlU2luZ2xlRWxlbWVudChyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQsIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSkpO1xuICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgIHJldHVybiBwbGFjZVNpbmdsZUNoaWxkKHJlY29uY2lsZVNpbmdsZVBvcnRhbChyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQsIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBuZXdDaGlsZCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiBwbGFjZVNpbmdsZUNoaWxkKHJlY29uY2lsZVNpbmdsZVRleHROb2RlKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCwgJycgKyBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpKTtcbiAgICB9XG5cbiAgICBpZiAoaXNBcnJheSQxKG5ld0NoaWxkKSkge1xuICAgICAgcmV0dXJuIHJlY29uY2lsZUNoaWxkcmVuQXJyYXkocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpO1xuICAgIH1cblxuICAgIGlmIChnZXRJdGVyYXRvckZuKG5ld0NoaWxkKSkge1xuICAgICAgcmV0dXJuIHJlY29uY2lsZUNoaWxkcmVuSXRlcmF0b3IocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpO1xuICAgIH1cblxuICAgIGlmIChpc09iamVjdCkge1xuICAgICAgdGhyb3dPbkludmFsaWRPYmplY3RUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgfVxuXG4gICAge1xuICAgICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB3YXJuT25GdW5jdGlvblR5cGUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIElmIHRoZSBuZXcgY2hpbGQgaXMgdW5kZWZpbmVkLCBhbmQgdGhlIHJldHVybiBmaWJlciBpcyBhIGNvbXBvc2l0ZVxuICAgICAgLy8gY29tcG9uZW50LCB0aHJvdyBhbiBlcnJvci4gSWYgRmliZXIgcmV0dXJuIHR5cGVzIGFyZSBkaXNhYmxlZCxcbiAgICAgIC8vIHdlIGFscmVhZHkgdGhyZXcgYWJvdmUuXG4gICAgICBzd2l0Y2ggKHJldHVybkZpYmVyLnRhZykge1xuICAgICAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gcmV0dXJuRmliZXIuc3RhdGVOb2RlO1xuICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UucmVuZGVyLl9pc01vY2tGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIFdlIGFsbG93IGF1dG8tbW9ja3MgdG8gcHJvY2VlZCBhcyBpZiB0aGV5J3JlIHJldHVybmluZyBudWxsLlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAvLyBJbnRlbnRpb25hbGx5IGZhbGwgdGhyb3VnaCB0byB0aGUgbmV4dCBjYXNlLCB3aGljaCBoYW5kbGVzIGJvdGhcbiAgICAgICAgLy8gZnVuY3Rpb25zIGFuZCBjbGFzc2VzXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZWQgbm8tZmFsbHRocm91Z2hcbiAgICAgICAgY2FzZSBGdW5jdGlvbmFsQ29tcG9uZW50OlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHZhciBDb21wb25lbnQgPSByZXR1cm5GaWJlci50eXBlO1xuICAgICAgICAgICAgaW52YXJpYW50KGZhbHNlLCAnJXMoLi4uKTogTm90aGluZyB3YXMgcmV0dXJuZWQgZnJvbSByZW5kZXIuIFRoaXMgdXN1YWxseSBtZWFucyBhIHJldHVybiBzdGF0ZW1lbnQgaXMgbWlzc2luZy4gT3IsIHRvIHJlbmRlciBub3RoaW5nLCByZXR1cm4gbnVsbC4nLCBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWUgfHwgJ0NvbXBvbmVudCcpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZW1haW5pbmcgY2FzZXMgYXJlIGFsbCB0cmVhdGVkIGFzIGVtcHR5LlxuICAgIHJldHVybiBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQpO1xuICB9XG5cbiAgcmV0dXJuIHJlY29uY2lsZUNoaWxkRmliZXJzO1xufVxuXG52YXIgcmVjb25jaWxlQ2hpbGRGaWJlcnMgPSBDaGlsZFJlY29uY2lsZXIodHJ1ZSk7XG52YXIgbW91bnRDaGlsZEZpYmVycyA9IENoaWxkUmVjb25jaWxlcihmYWxzZSk7XG5cbmZ1bmN0aW9uIGNsb25lQ2hpbGRGaWJlcnMoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpIHtcbiAgIShjdXJyZW50ID09PSBudWxsIHx8IHdvcmtJblByb2dyZXNzLmNoaWxkID09PSBjdXJyZW50LmNoaWxkKSA/IGludmFyaWFudChmYWxzZSwgJ1Jlc3VtaW5nIHdvcmsgbm90IHlldCBpbXBsZW1lbnRlZC4nKSA6IHZvaWQgMDtcblxuICBpZiAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPT09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgY3VycmVudENoaWxkID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gIHZhciBuZXdDaGlsZCA9IGNyZWF0ZVdvcmtJblByb2dyZXNzKGN1cnJlbnRDaGlsZCwgY3VycmVudENoaWxkLnBlbmRpbmdQcm9wcywgY3VycmVudENoaWxkLmV4cGlyYXRpb25UaW1lKTtcbiAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBuZXdDaGlsZDtcblxuICBuZXdDaGlsZFsncmV0dXJuJ10gPSB3b3JrSW5Qcm9ncmVzcztcbiAgd2hpbGUgKGN1cnJlbnRDaGlsZC5zaWJsaW5nICE9PSBudWxsKSB7XG4gICAgY3VycmVudENoaWxkID0gY3VycmVudENoaWxkLnNpYmxpbmc7XG4gICAgbmV3Q2hpbGQgPSBuZXdDaGlsZC5zaWJsaW5nID0gY3JlYXRlV29ya0luUHJvZ3Jlc3MoY3VycmVudENoaWxkLCBjdXJyZW50Q2hpbGQucGVuZGluZ1Byb3BzLCBjdXJyZW50Q2hpbGQuZXhwaXJhdGlvblRpbWUpO1xuICAgIG5ld0NoaWxkWydyZXR1cm4nXSA9IHdvcmtJblByb2dyZXNzO1xuICB9XG4gIG5ld0NoaWxkLnNpYmxpbmcgPSBudWxsO1xufVxuXG52YXIgZGlkV2FybkFib3V0QmFkQ2xhc3MgPSB2b2lkIDA7XG52YXIgZGlkV2FybkFib3V0R2V0RGVyaXZlZFN0YXRlT25GdW5jdGlvbmFsQ29tcG9uZW50ID0gdm9pZCAwO1xudmFyIGRpZFdhcm5BYm91dFN0YXRlbGVzc1JlZnMgPSB2b2lkIDA7XG5cbntcbiAgZGlkV2FybkFib3V0QmFkQ2xhc3MgPSB7fTtcbiAgZGlkV2FybkFib3V0R2V0RGVyaXZlZFN0YXRlT25GdW5jdGlvbmFsQ29tcG9uZW50ID0ge307XG4gIGRpZFdhcm5BYm91dFN0YXRlbGVzc1JlZnMgPSB7fTtcbn1cblxudmFyIFJlYWN0RmliZXJCZWdpbldvcmsgPSBmdW5jdGlvbiAoY29uZmlnLCBob3N0Q29udGV4dCwgbGVnYWN5Q29udGV4dCwgbmV3Q29udGV4dCwgaHlkcmF0aW9uQ29udGV4dCwgc2NoZWR1bGVXb3JrLCBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyKSB7XG4gIHZhciBzaG91bGRTZXRUZXh0Q29udGVudCA9IGNvbmZpZy5zaG91bGRTZXRUZXh0Q29udGVudCxcbiAgICAgIHNob3VsZERlcHJpb3JpdGl6ZVN1YnRyZWUgPSBjb25maWcuc2hvdWxkRGVwcmlvcml0aXplU3VidHJlZTtcbiAgdmFyIHB1c2hIb3N0Q29udGV4dCA9IGhvc3RDb250ZXh0LnB1c2hIb3N0Q29udGV4dCxcbiAgICAgIHB1c2hIb3N0Q29udGFpbmVyID0gaG9zdENvbnRleHQucHVzaEhvc3RDb250YWluZXI7XG4gIHZhciBwdXNoUHJvdmlkZXIgPSBuZXdDb250ZXh0LnB1c2hQcm92aWRlcjtcbiAgdmFyIGdldE1hc2tlZENvbnRleHQgPSBsZWdhY3lDb250ZXh0LmdldE1hc2tlZENvbnRleHQsXG4gICAgICBnZXRVbm1hc2tlZENvbnRleHQgPSBsZWdhY3lDb250ZXh0LmdldFVubWFza2VkQ29udGV4dCxcbiAgICAgIGhhc0xlZ2FjeUNvbnRleHRDaGFuZ2VkID0gbGVnYWN5Q29udGV4dC5oYXNDb250ZXh0Q2hhbmdlZCxcbiAgICAgIHB1c2hMZWdhY3lDb250ZXh0UHJvdmlkZXIgPSBsZWdhY3lDb250ZXh0LnB1c2hDb250ZXh0UHJvdmlkZXIsXG4gICAgICBwdXNoVG9wTGV2ZWxDb250ZXh0T2JqZWN0ID0gbGVnYWN5Q29udGV4dC5wdXNoVG9wTGV2ZWxDb250ZXh0T2JqZWN0LFxuICAgICAgaW52YWxpZGF0ZUNvbnRleHRQcm92aWRlciA9IGxlZ2FjeUNvbnRleHQuaW52YWxpZGF0ZUNvbnRleHRQcm92aWRlcjtcbiAgdmFyIGVudGVySHlkcmF0aW9uU3RhdGUgPSBoeWRyYXRpb25Db250ZXh0LmVudGVySHlkcmF0aW9uU3RhdGUsXG4gICAgICByZXNldEh5ZHJhdGlvblN0YXRlID0gaHlkcmF0aW9uQ29udGV4dC5yZXNldEh5ZHJhdGlvblN0YXRlLFxuICAgICAgdHJ5VG9DbGFpbU5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBoeWRyYXRpb25Db250ZXh0LnRyeVRvQ2xhaW1OZXh0SHlkcmF0YWJsZUluc3RhbmNlO1xuXG4gIHZhciBfUmVhY3RGaWJlckNsYXNzQ29tcG8gPSBSZWFjdEZpYmVyQ2xhc3NDb21wb25lbnQobGVnYWN5Q29udGV4dCwgc2NoZWR1bGVXb3JrLCBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyLCBtZW1vaXplUHJvcHMsIG1lbW9pemVTdGF0ZSksXG4gICAgICBhZG9wdENsYXNzSW5zdGFuY2UgPSBfUmVhY3RGaWJlckNsYXNzQ29tcG8uYWRvcHRDbGFzc0luc3RhbmNlLFxuICAgICAgY2FsbEdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IF9SZWFjdEZpYmVyQ2xhc3NDb21wby5jYWxsR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLFxuICAgICAgY29uc3RydWN0Q2xhc3NJbnN0YW5jZSA9IF9SZWFjdEZpYmVyQ2xhc3NDb21wby5jb25zdHJ1Y3RDbGFzc0luc3RhbmNlLFxuICAgICAgbW91bnRDbGFzc0luc3RhbmNlID0gX1JlYWN0RmliZXJDbGFzc0NvbXBvLm1vdW50Q2xhc3NJbnN0YW5jZSxcbiAgICAgIHJlc3VtZU1vdW50Q2xhc3NJbnN0YW5jZSA9IF9SZWFjdEZpYmVyQ2xhc3NDb21wby5yZXN1bWVNb3VudENsYXNzSW5zdGFuY2UsXG4gICAgICB1cGRhdGVDbGFzc0luc3RhbmNlID0gX1JlYWN0RmliZXJDbGFzc0NvbXBvLnVwZGF0ZUNsYXNzSW5zdGFuY2U7XG5cbiAgLy8gVE9ETzogUmVtb3ZlIHRoaXMgYW5kIHVzZSByZWNvbmNpbGVDaGlsZHJlbkF0RXhwaXJhdGlvblRpbWUgZGlyZWN0bHkuXG5cblxuICBmdW5jdGlvbiByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKSB7XG4gICAgcmVjb25jaWxlQ2hpbGRyZW5BdEV4cGlyYXRpb25UaW1lKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4sIHdvcmtJblByb2dyZXNzLmV4cGlyYXRpb25UaW1lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY29uY2lsZUNoaWxkcmVuQXRFeHBpcmF0aW9uVGltZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgIGlmIChjdXJyZW50ID09PSBudWxsKSB7XG4gICAgICAvLyBJZiB0aGlzIGlzIGEgZnJlc2ggbmV3IGNvbXBvbmVudCB0aGF0IGhhc24ndCBiZWVuIHJlbmRlcmVkIHlldCwgd2VcbiAgICAgIC8vIHdvbid0IHVwZGF0ZSBpdHMgY2hpbGQgc2V0IGJ5IGFwcGx5aW5nIG1pbmltYWwgc2lkZS1lZmZlY3RzLiBJbnN0ZWFkLFxuICAgICAgLy8gd2Ugd2lsbCBhZGQgdGhlbSBhbGwgdG8gdGhlIGNoaWxkIGJlZm9yZSBpdCBnZXRzIHJlbmRlcmVkLiBUaGF0IG1lYW5zXG4gICAgICAvLyB3ZSBjYW4gb3B0aW1pemUgdGhpcyByZWNvbmNpbGlhdGlvbiBwYXNzIGJ5IG5vdCB0cmFja2luZyBzaWRlLWVmZmVjdHMuXG4gICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IG1vdW50Q2hpbGRGaWJlcnMod29ya0luUHJvZ3Jlc3MsIG51bGwsIG5leHRDaGlsZHJlbiwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiB0aGUgY3VycmVudCBjaGlsZCBpcyB0aGUgc2FtZSBhcyB0aGUgd29yayBpbiBwcm9ncmVzcywgaXQgbWVhbnMgdGhhdFxuICAgICAgLy8gd2UgaGF2ZW4ndCB5ZXQgc3RhcnRlZCBhbnkgd29yayBvbiB0aGVzZSBjaGlsZHJlbi4gVGhlcmVmb3JlLCB3ZSB1c2VcbiAgICAgIC8vIHRoZSBjbG9uZSBhbGdvcml0aG0gdG8gY3JlYXRlIGEgY29weSBvZiBhbGwgdGhlIGN1cnJlbnQgY2hpbGRyZW4uXG5cbiAgICAgIC8vIElmIHdlIGhhZCBhbnkgcHJvZ3Jlc3NlZCB3b3JrIGFscmVhZHksIHRoYXQgaXMgaW52YWxpZCBhdCB0aGlzIHBvaW50IHNvXG4gICAgICAvLyBsZXQncyB0aHJvdyBpdCBvdXQuXG4gICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJlY29uY2lsZUNoaWxkRmliZXJzKHdvcmtJblByb2dyZXNzLCBjdXJyZW50LmNoaWxkLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVGb3J3YXJkUmVmKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgdmFyIHJlbmRlciA9IHdvcmtJblByb2dyZXNzLnR5cGUucmVuZGVyO1xuICAgIHZhciBuZXh0Q2hpbGRyZW4gPSByZW5kZXIod29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLCB3b3JrSW5Qcm9ncmVzcy5yZWYpO1xuICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4pO1xuICAgIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKTtcbiAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVGcmFnbWVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICAgIHZhciBuZXh0Q2hpbGRyZW4gPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgaWYgKGhhc0xlZ2FjeUNvbnRleHRDaGFuZ2VkKCkpIHtcbiAgICAgIC8vIE5vcm1hbGx5IHdlIGNhbiBiYWlsIG91dCBvbiBwcm9wcyBlcXVhbGl0eSBidXQgaWYgY29udGV4dCBoYXMgY2hhbmdlZFxuICAgICAgLy8gd2UgZG9uJ3QgZG8gdGhlIGJhaWxvdXQgYW5kIHdlIGhhdmUgdG8gcmV1c2UgZXhpc3RpbmcgcHJvcHMgaW5zdGVhZC5cbiAgICB9IGVsc2UgaWYgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPT09IG5leHRDaGlsZHJlbikge1xuICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cbiAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKTtcbiAgICBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbik7XG4gICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTW9kZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICAgIHZhciBuZXh0Q2hpbGRyZW4gPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMuY2hpbGRyZW47XG4gICAgaWYgKGhhc0xlZ2FjeUNvbnRleHRDaGFuZ2VkKCkpIHtcbiAgICAgIC8vIE5vcm1hbGx5IHdlIGNhbiBiYWlsIG91dCBvbiBwcm9wcyBlcXVhbGl0eSBidXQgaWYgY29udGV4dCBoYXMgY2hhbmdlZFxuICAgICAgLy8gd2UgZG9uJ3QgZG8gdGhlIGJhaWxvdXQgYW5kIHdlIGhhdmUgdG8gcmV1c2UgZXhpc3RpbmcgcHJvcHMgaW5zdGVhZC5cbiAgICB9IGVsc2UgaWYgKG5leHRDaGlsZHJlbiA9PT0gbnVsbCB8fCB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID09PSBuZXh0Q2hpbGRyZW4pIHtcbiAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG4gICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbik7XG4gICAgbWVtb2l6ZVByb3BzKHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4pO1xuICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1hcmtSZWYoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpIHtcbiAgICB2YXIgcmVmID0gd29ya0luUHJvZ3Jlc3MucmVmO1xuICAgIGlmIChjdXJyZW50ID09PSBudWxsICYmIHJlZiAhPT0gbnVsbCB8fCBjdXJyZW50ICE9PSBudWxsICYmIGN1cnJlbnQucmVmICE9PSByZWYpIHtcbiAgICAgIC8vIFNjaGVkdWxlIGEgUmVmIGVmZmVjdFxuICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFJlZjtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVGdW5jdGlvbmFsQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgdmFyIGZuID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICB2YXIgbmV4dFByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuXG4gICAgaWYgKGhhc0xlZ2FjeUNvbnRleHRDaGFuZ2VkKCkpIHtcbiAgICAgIC8vIE5vcm1hbGx5IHdlIGNhbiBiYWlsIG91dCBvbiBwcm9wcyBlcXVhbGl0eSBidXQgaWYgY29udGV4dCBoYXMgY2hhbmdlZFxuICAgICAgLy8gd2UgZG9uJ3QgZG8gdGhlIGJhaWxvdXQgYW5kIHdlIGhhdmUgdG8gcmV1c2UgZXhpc3RpbmcgcHJvcHMgaW5zdGVhZC5cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPT09IG5leHRQcm9wcykge1xuICAgICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICB9XG4gICAgICAvLyBUT0RPOiBjb25zaWRlciBicmluZ2luZyBmbi5zaG91bGRDb21wb25lbnRVcGRhdGUoKSBiYWNrLlxuICAgICAgLy8gSXQgdXNlZCB0byBiZSBoZXJlLlxuICAgIH1cblxuICAgIHZhciB1bm1hc2tlZENvbnRleHQgPSBnZXRVbm1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgIHZhciBjb250ZXh0ID0gZ2V0TWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgdW5tYXNrZWRDb250ZXh0KTtcblxuICAgIHZhciBuZXh0Q2hpbGRyZW4gPSB2b2lkIDA7XG5cbiAgICB7XG4gICAgICBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnNldEN1cnJlbnRQaGFzZSgncmVuZGVyJyk7XG4gICAgICBuZXh0Q2hpbGRyZW4gPSBmbihuZXh0UHJvcHMsIGNvbnRleHQpO1xuICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5zZXRDdXJyZW50UGhhc2UobnVsbCk7XG4gICAgfVxuICAgIC8vIFJlYWN0IERldlRvb2xzIHJlYWRzIHRoaXMgZmxhZy5cbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gUGVyZm9ybWVkV29yaztcbiAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKTtcbiAgICBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIG5leHRQcm9wcyk7XG4gICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlQ2xhc3NDb21wb25lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgLy8gUHVzaCBjb250ZXh0IHByb3ZpZGVycyBlYXJseSB0byBwcmV2ZW50IGNvbnRleHQgc3RhY2sgbWlzbWF0Y2hlcy5cbiAgICAvLyBEdXJpbmcgbW91bnRpbmcgd2UgZG9uJ3Qga25vdyB0aGUgY2hpbGQgY29udGV4dCB5ZXQgYXMgdGhlIGluc3RhbmNlIGRvZXNuJ3QgZXhpc3QuXG4gICAgLy8gV2Ugd2lsbCBpbnZhbGlkYXRlIHRoZSBjaGlsZCBjb250ZXh0IGluIGZpbmlzaENsYXNzQ29tcG9uZW50KCkgcmlnaHQgYWZ0ZXIgcmVuZGVyaW5nLlxuICAgIHZhciBoYXNDb250ZXh0ID0gcHVzaExlZ2FjeUNvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgdmFyIHNob3VsZFVwZGF0ZSA9IHZvaWQgMDtcbiAgICBpZiAoY3VycmVudCA9PT0gbnVsbCkge1xuICAgICAgaWYgKHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAvLyBJbiB0aGUgaW5pdGlhbCBwYXNzIHdlIG1pZ2h0IG5lZWQgdG8gY29uc3RydWN0IHRoZSBpbnN0YW5jZS5cbiAgICAgICAgY29uc3RydWN0Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzKTtcbiAgICAgICAgbW91bnRDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG5cbiAgICAgICAgc2hvdWxkVXBkYXRlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEluIGEgcmVzdW1lLCB3ZSdsbCBhbHJlYWR5IGhhdmUgYW4gaW5zdGFuY2Ugd2UgY2FuIHJldXNlLlxuICAgICAgICBzaG91bGRVcGRhdGUgPSByZXN1bWVNb3VudENsYXNzSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2hvdWxkVXBkYXRlID0gdXBkYXRlQ2xhc3NJbnN0YW5jZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgIH1cblxuICAgIC8vIFdlIHByb2Nlc3NlZCB0aGUgdXBkYXRlIHF1ZXVlIGluc2lkZSB1cGRhdGVDbGFzc0luc3RhbmNlLiBJdCBtYXkgaGF2ZVxuICAgIC8vIGluY2x1ZGVkIHNvbWUgZXJyb3JzIHRoYXQgd2VyZSBkaXNwYXRjaGVkIGR1cmluZyB0aGUgY29tbWl0IHBoYXNlLlxuICAgIC8vIFRPRE86IFJlZmFjdG9yIGNsYXNzIGNvbXBvbmVudHMgc28gdGhpcyBpcyBsZXNzIGF3a3dhcmQuXG4gICAgdmFyIGRpZENhcHR1cmVFcnJvciA9IGZhbHNlO1xuICAgIHZhciB1cGRhdGVRdWV1ZSA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlO1xuICAgIGlmICh1cGRhdGVRdWV1ZSAhPT0gbnVsbCAmJiB1cGRhdGVRdWV1ZS5jYXB0dXJlZFZhbHVlcyAhPT0gbnVsbCkge1xuICAgICAgc2hvdWxkVXBkYXRlID0gdHJ1ZTtcbiAgICAgIGRpZENhcHR1cmVFcnJvciA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmaW5pc2hDbGFzc0NvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgc2hvdWxkVXBkYXRlLCBoYXNDb250ZXh0LCBkaWRDYXB0dXJlRXJyb3IsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaENsYXNzQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBzaG91bGRVcGRhdGUsIGhhc0NvbnRleHQsIGRpZENhcHR1cmVFcnJvciwgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICAvLyBSZWZzIHNob3VsZCB1cGRhdGUgZXZlbiBpZiBzaG91bGRDb21wb25lbnRVcGRhdGUgcmV0dXJucyBmYWxzZVxuICAgIG1hcmtSZWYoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgaWYgKCFzaG91bGRVcGRhdGUgJiYgIWRpZENhcHR1cmVFcnJvcikge1xuICAgICAgLy8gQ29udGV4dCBwcm92aWRlcnMgc2hvdWxkIGRlZmVyIHRvIHNDVSBmb3IgcmVuZGVyaW5nXG4gICAgICBpZiAoaGFzQ29udGV4dCkge1xuICAgICAgICBpbnZhbGlkYXRlQ29udGV4dFByb3ZpZGVyKHdvcmtJblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG5cbiAgICB2YXIgY3RvciA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuXG4gICAgLy8gUmVyZW5kZXJcbiAgICBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgdmFyIG5leHRDaGlsZHJlbiA9IHZvaWQgMDtcbiAgICBpZiAoZGlkQ2FwdHVyZUVycm9yICYmICghZW5hYmxlR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoIHx8IHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCAhPT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgIC8vIElmIHdlIGNhcHR1cmVkIGFuIGVycm9yLCBidXQgZ2V0RGVyaXZlZFN0YXRlRnJvbSBjYXRjaCBpcyBub3QgZGVmaW5lZCxcbiAgICAgIC8vIHVubW91bnQgYWxsIHRoZSBjaGlsZHJlbi4gY29tcG9uZW50RGlkQ2F0Y2ggd2lsbCBzY2hlZHVsZSBhbiB1cGRhdGUgdG9cbiAgICAgIC8vIHJlLXJlbmRlciBhIGZhbGxiYWNrLiBUaGlzIGlzIHRlbXBvcmFyeSB1bnRpbCB3ZSBtaWdyYXRlIGV2ZXJ5b25lIHRvXG4gICAgICAvLyB0aGUgbmV3IEFQSS5cbiAgICAgIC8vIFRPRE86IFdhcm4gaW4gYSBmdXR1cmUgcmVsZWFzZS5cbiAgICAgIG5leHRDaGlsZHJlbiA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHtcbiAgICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5zZXRDdXJyZW50UGhhc2UoJ3JlbmRlcicpO1xuICAgICAgICBuZXh0Q2hpbGRyZW4gPSBpbnN0YW5jZS5yZW5kZXIoKTtcbiAgICAgICAgaWYgKGRlYnVnUmVuZGVyUGhhc2VTaWRlRWZmZWN0cyB8fCBkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHNGb3JTdHJpY3RNb2RlICYmIHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RNb2RlKSB7XG4gICAgICAgICAgaW5zdGFuY2UucmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5zZXRDdXJyZW50UGhhc2UobnVsbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVhY3QgRGV2VG9vbHMgcmVhZHMgdGhpcyBmbGFnLlxuICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBQZXJmb3JtZWRXb3JrO1xuICAgIGlmIChkaWRDYXB0dXJlRXJyb3IpIHtcbiAgICAgIC8vIElmIHdlJ3JlIHJlY292ZXJpbmcgZnJvbSBhbiBlcnJvciwgcmVjb25jaWxlIHR3aWNlOiBmaXJzdCB0byBkZWxldGVcbiAgICAgIC8vIGFsbCB0aGUgZXhpc3RpbmcgY2hpbGRyZW4uXG4gICAgICByZWNvbmNpbGVDaGlsZHJlbkF0RXhwaXJhdGlvblRpbWUoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG51bGwsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID0gbnVsbDtcbiAgICAgIC8vIE5vdyB3ZSBjYW4gY29udGludWUgcmVjb25jaWxpbmcgbGlrZSBub3JtYWwuIFRoaXMgaGFzIHRoZSBlZmZlY3Qgb2ZcbiAgICAgIC8vIHJlbW91bnRpbmcgYWxsIGNoaWxkcmVuIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGVpciB0aGVpclxuICAgICAgLy8gaWRlbnRpdHkgbWF0Y2hlcy5cbiAgICB9XG4gICAgcmVjb25jaWxlQ2hpbGRyZW5BdEV4cGlyYXRpb25UaW1lKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAvLyBNZW1vaXplIHByb3BzIGFuZCBzdGF0ZSB1c2luZyB0aGUgdmFsdWVzIHdlIGp1c3QgdXNlZCB0byByZW5kZXIuXG4gICAgLy8gVE9ETzogUmVzdHJ1Y3R1cmUgc28gd2UgbmV2ZXIgcmVhZCB2YWx1ZXMgZnJvbSB0aGUgaW5zdGFuY2UuXG4gICAgbWVtb2l6ZVN0YXRlKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZS5zdGF0ZSk7XG4gICAgbWVtb2l6ZVByb3BzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZS5wcm9wcyk7XG5cbiAgICAvLyBUaGUgY29udGV4dCBtaWdodCBoYXZlIGNoYW5nZWQgc28gd2UgbmVlZCB0byByZWNhbGN1bGF0ZSBpdC5cbiAgICBpZiAoaGFzQ29udGV4dCkge1xuICAgICAgaW52YWxpZGF0ZUNvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICB9XG5cbiAgZnVuY3Rpb24gcHVzaEhvc3RSb290Q29udGV4dCh3b3JrSW5Qcm9ncmVzcykge1xuICAgIHZhciByb290ID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgIGlmIChyb290LnBlbmRpbmdDb250ZXh0KSB7XG4gICAgICBwdXNoVG9wTGV2ZWxDb250ZXh0T2JqZWN0KHdvcmtJblByb2dyZXNzLCByb290LnBlbmRpbmdDb250ZXh0LCByb290LnBlbmRpbmdDb250ZXh0ICE9PSByb290LmNvbnRleHQpO1xuICAgIH0gZWxzZSBpZiAocm9vdC5jb250ZXh0KSB7XG4gICAgICAvLyBTaG91bGQgYWx3YXlzIGJlIHNldFxuICAgICAgcHVzaFRvcExldmVsQ29udGV4dE9iamVjdCh3b3JrSW5Qcm9ncmVzcywgcm9vdC5jb250ZXh0LCBmYWxzZSk7XG4gICAgfVxuICAgIHB1c2hIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzLCByb290LmNvbnRhaW5lckluZm8pO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlSG9zdFJvb3QoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgcHVzaEhvc3RSb290Q29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgdmFyIHVwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgaWYgKHVwZGF0ZVF1ZXVlICE9PSBudWxsKSB7XG4gICAgICB2YXIgcHJldlN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIHZhciBzdGF0ZSA9IHByb2Nlc3NVcGRhdGVRdWV1ZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgdXBkYXRlUXVldWUsIG51bGwsIG51bGwsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgIG1lbW9pemVTdGF0ZSh3b3JrSW5Qcm9ncmVzcywgc3RhdGUpO1xuICAgICAgdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcblxuICAgICAgdmFyIGVsZW1lbnQgPSB2b2lkIDA7XG4gICAgICBpZiAodXBkYXRlUXVldWUgIT09IG51bGwgJiYgdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgIT09IG51bGwpIHtcbiAgICAgICAgLy8gVGhlcmUncyBhbiB1bmNhdWdodCBlcnJvci4gVW5tb3VudCB0aGUgd2hvbGUgcm9vdC5cbiAgICAgICAgZWxlbWVudCA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKHByZXZTdGF0ZSA9PT0gc3RhdGUpIHtcbiAgICAgICAgLy8gSWYgdGhlIHN0YXRlIGlzIHRoZSBzYW1lIGFzIGJlZm9yZSwgdGhhdCdzIGEgYmFpbG91dCBiZWNhdXNlIHdlIGhhZFxuICAgICAgICAvLyBubyB3b3JrIHRoYXQgZXhwaXJlcyBhdCB0aGlzIHRpbWUuXG4gICAgICAgIHJlc2V0SHlkcmF0aW9uU3RhdGUoKTtcbiAgICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudCA9IHN0YXRlLmVsZW1lbnQ7XG4gICAgICB9XG4gICAgICB2YXIgcm9vdCA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgIGlmICgoY3VycmVudCA9PT0gbnVsbCB8fCBjdXJyZW50LmNoaWxkID09PSBudWxsKSAmJiByb290Lmh5ZHJhdGUgJiYgZW50ZXJIeWRyYXRpb25TdGF0ZSh3b3JrSW5Qcm9ncmVzcykpIHtcbiAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhbnkgY3VycmVudCBjaGlsZHJlbiB0aGlzIG1pZ2h0IGJlIHRoZSBmaXJzdCBwYXNzLlxuICAgICAgICAvLyBXZSBhbHdheXMgdHJ5IHRvIGh5ZHJhdGUuIElmIHRoaXMgaXNuJ3QgYSBoeWRyYXRpb24gcGFzcyB0aGVyZSB3b24ndFxuICAgICAgICAvLyBiZSBhbnkgY2hpbGRyZW4gdG8gaHlkcmF0ZSB3aGljaCBpcyBlZmZlY3RpdmVseSB0aGUgc2FtZSB0aGluZyBhc1xuICAgICAgICAvLyBub3QgaHlkcmF0aW5nLlxuXG4gICAgICAgIC8vIFRoaXMgaXMgYSBiaXQgb2YgYSBoYWNrLiBXZSB0cmFjayB0aGUgaG9zdCByb290IGFzIGEgcGxhY2VtZW50IHRvXG4gICAgICAgIC8vIGtub3cgdGhhdCB3ZSdyZSBjdXJyZW50bHkgaW4gYSBtb3VudGluZyBzdGF0ZS4gVGhhdCB3YXkgaXNNb3VudGVkXG4gICAgICAgIC8vIHdvcmtzIGFzIGV4cGVjdGVkLiBXZSBtdXN0IHJlc2V0IHRoaXMgYmVmb3JlIGNvbW1pdHRpbmcuXG4gICAgICAgIC8vIFRPRE86IERlbGV0ZSB0aGlzIHdoZW4gd2UgZGVsZXRlIGlzTW91bnRlZCBhbmQgZmluZERPTU5vZGUuXG4gICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBQbGFjZW1lbnQ7XG5cbiAgICAgICAgLy8gRW5zdXJlIHRoYXQgY2hpbGRyZW4gbW91bnQgaW50byB0aGlzIHJvb3Qgd2l0aG91dCB0cmFja2luZ1xuICAgICAgICAvLyBzaWRlLWVmZmVjdHMuIFRoaXMgZW5zdXJlcyB0aGF0IHdlIGRvbid0IHN0b3JlIFBsYWNlbWVudCBlZmZlY3RzIG9uXG4gICAgICAgIC8vIG5vZGVzIHRoYXQgd2lsbCBiZSBoeWRyYXRlZC5cbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBtb3VudENoaWxkRmliZXJzKHdvcmtJblByb2dyZXNzLCBudWxsLCBlbGVtZW50LCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBPdGhlcndpc2UgcmVzZXQgaHlkcmF0aW9uIHN0YXRlIGluIGNhc2Ugd2UgYWJvcnRlZCBhbmQgcmVzdW1lZCBhbm90aGVyXG4gICAgICAgIC8vIHJvb3QuXG4gICAgICAgIHJlc2V0SHlkcmF0aW9uU3RhdGUoKTtcbiAgICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIGVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgbWVtb2l6ZVN0YXRlKHdvcmtJblByb2dyZXNzLCBzdGF0ZSk7XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgfVxuICAgIHJlc2V0SHlkcmF0aW9uU3RhdGUoKTtcbiAgICAvLyBJZiB0aGVyZSBpcyBubyB1cGRhdGUgcXVldWUsIHRoYXQncyBhIGJhaWxvdXQgYmVjYXVzZSB0aGUgcm9vdCBoYXMgbm8gcHJvcHMuXG4gICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlSG9zdENvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICBwdXNoSG9zdENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgaWYgKGN1cnJlbnQgPT09IG51bGwpIHtcbiAgICAgIHRyeVRvQ2xhaW1OZXh0SHlkcmF0YWJsZUluc3RhbmNlKHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG5cbiAgICB2YXIgdHlwZSA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgdmFyIG1lbW9pemVkUHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzO1xuICAgIHZhciBuZXh0UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgdmFyIHByZXZQcm9wcyA9IGN1cnJlbnQgIT09IG51bGwgPyBjdXJyZW50Lm1lbW9pemVkUHJvcHMgOiBudWxsO1xuXG4gICAgaWYgKGhhc0xlZ2FjeUNvbnRleHRDaGFuZ2VkKCkpIHtcbiAgICAgIC8vIE5vcm1hbGx5IHdlIGNhbiBiYWlsIG91dCBvbiBwcm9wcyBlcXVhbGl0eSBidXQgaWYgY29udGV4dCBoYXMgY2hhbmdlZFxuICAgICAgLy8gd2UgZG9uJ3QgZG8gdGhlIGJhaWxvdXQgYW5kIHdlIGhhdmUgdG8gcmV1c2UgZXhpc3RpbmcgcHJvcHMgaW5zdGVhZC5cbiAgICB9IGVsc2UgaWYgKG1lbW9pemVkUHJvcHMgPT09IG5leHRQcm9wcykge1xuICAgICAgdmFyIGlzSGlkZGVuID0gd29ya0luUHJvZ3Jlc3MubW9kZSAmIEFzeW5jTW9kZSAmJiBzaG91bGREZXByaW9yaXRpemVTdWJ0cmVlKHR5cGUsIG5leHRQcm9wcyk7XG4gICAgICBpZiAoaXNIaWRkZW4pIHtcbiAgICAgICAgLy8gQmVmb3JlIGJhaWxpbmcgb3V0LCBtYWtlIHN1cmUgd2UndmUgZGVwcmlvcml0aXplZCBhIGhpZGRlbiBjb21wb25lbnQuXG4gICAgICAgIHdvcmtJblByb2dyZXNzLmV4cGlyYXRpb25UaW1lID0gTmV2ZXI7XG4gICAgICB9XG4gICAgICBpZiAoIWlzSGlkZGVuIHx8IHJlbmRlckV4cGlyYXRpb25UaW1lICE9PSBOZXZlcikge1xuICAgICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICB9XG4gICAgICAvLyBJZiB3ZSdyZSByZW5kZXJpbmcgYSBoaWRkZW4gbm9kZSBhdCBoaWRkZW4gcHJpb3JpdHksIGRvbid0IGJhaWxvdXQuIFRoZVxuICAgICAgLy8gcGFyZW50IGlzIGNvbXBsZXRlLCBidXQgdGhlIGNoaWxkcmVuIG1heSBub3QgYmUuXG4gICAgfVxuXG4gICAgdmFyIG5leHRDaGlsZHJlbiA9IG5leHRQcm9wcy5jaGlsZHJlbjtcbiAgICB2YXIgaXNEaXJlY3RUZXh0Q2hpbGQgPSBzaG91bGRTZXRUZXh0Q29udGVudCh0eXBlLCBuZXh0UHJvcHMpO1xuXG4gICAgaWYgKGlzRGlyZWN0VGV4dENoaWxkKSB7XG4gICAgICAvLyBXZSBzcGVjaWFsIGNhc2UgYSBkaXJlY3QgdGV4dCBjaGlsZCBvZiBhIGhvc3Qgbm9kZS4gVGhpcyBpcyBhIGNvbW1vblxuICAgICAgLy8gY2FzZS4gV2Ugd29uJ3QgaGFuZGxlIGl0IGFzIGEgcmVpZmllZCBjaGlsZC4gV2Ugd2lsbCBpbnN0ZWFkIGhhbmRsZVxuICAgICAgLy8gdGhpcyBpbiB0aGUgaG9zdCBlbnZpcm9ubWVudCB0aGF0IGFsc28gaGF2ZSBhY2Nlc3MgdG8gdGhpcyBwcm9wLiBUaGF0XG4gICAgICAvLyBhdm9pZHMgYWxsb2NhdGluZyBhbm90aGVyIEhvc3RUZXh0IGZpYmVyIGFuZCB0cmF2ZXJzaW5nIGl0LlxuICAgICAgbmV4dENoaWxkcmVuID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKHByZXZQcm9wcyAmJiBzaG91bGRTZXRUZXh0Q29udGVudCh0eXBlLCBwcmV2UHJvcHMpKSB7XG4gICAgICAvLyBJZiB3ZSdyZSBzd2l0Y2hpbmcgZnJvbSBhIGRpcmVjdCB0ZXh0IGNoaWxkIHRvIGEgbm9ybWFsIGNoaWxkLCBvciB0b1xuICAgICAgLy8gZW1wdHksIHdlIG5lZWQgdG8gc2NoZWR1bGUgdGhlIHRleHQgY29udGVudCB0byBiZSByZXNldC5cbiAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBDb250ZW50UmVzZXQ7XG4gICAgfVxuXG4gICAgbWFya1JlZihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgICAvLyBDaGVjayB0aGUgaG9zdCBjb25maWcgdG8gc2VlIGlmIHRoZSBjaGlsZHJlbiBhcmUgb2Zmc2NyZWVuL2hpZGRlbi5cbiAgICBpZiAocmVuZGVyRXhwaXJhdGlvblRpbWUgIT09IE5ldmVyICYmIHdvcmtJblByb2dyZXNzLm1vZGUgJiBBc3luY01vZGUgJiYgc2hvdWxkRGVwcmlvcml0aXplU3VidHJlZSh0eXBlLCBuZXh0UHJvcHMpKSB7XG4gICAgICAvLyBEb3duLXByaW9yaXRpemUgdGhlIGNoaWxkcmVuLlxuICAgICAgd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWUgPSBOZXZlcjtcbiAgICAgIC8vIEJhaWxvdXQgYW5kIGNvbWUgYmFjayB0byB0aGlzIGZpYmVyIGxhdGVyLlxuICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9IG5leHRQcm9wcztcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4pO1xuICAgIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV4dFByb3BzKTtcbiAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVIb3N0VGV4dChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICAgIGlmIChjdXJyZW50ID09PSBudWxsKSB7XG4gICAgICB0cnlUb0NsYWltTmV4dEh5ZHJhdGFibGVJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuICAgIHZhciBuZXh0UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgbWVtb2l6ZVByb3BzKHdvcmtJblByb2dyZXNzLCBuZXh0UHJvcHMpO1xuICAgIC8vIE5vdGhpbmcgdG8gZG8gaGVyZS4gVGhpcyBpcyB0ZXJtaW5hbC4gV2UnbGwgZG8gdGhlIGNvbXBsZXRpb24gc3RlcFxuICAgIC8vIGltbWVkaWF0ZWx5IGFmdGVyLlxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gbW91bnRJbmRldGVybWluYXRlQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgICEoY3VycmVudCA9PT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdBbiBpbmRldGVybWluYXRlIGNvbXBvbmVudCBzaG91bGQgbmV2ZXIgaGF2ZSBtb3VudGVkLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICAgIHZhciBmbiA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgdmFyIHByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgIHZhciB1bm1hc2tlZENvbnRleHQgPSBnZXRVbm1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgIHZhciBjb250ZXh0ID0gZ2V0TWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgdW5tYXNrZWRDb250ZXh0KTtcblxuICAgIHZhciB2YWx1ZSA9IHZvaWQgMDtcblxuICAgIHtcbiAgICAgIGlmIChmbi5wcm90b3R5cGUgJiYgdHlwZW9mIGZuLnByb3RvdHlwZS5yZW5kZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKSB8fCAnVW5rbm93bic7XG5cbiAgICAgICAgaWYgKCFkaWRXYXJuQWJvdXRCYWRDbGFzc1tjb21wb25lbnROYW1lXSkge1xuICAgICAgICAgIHdhcm5pbmcoZmFsc2UsIFwiVGhlIDwlcyAvPiBjb21wb25lbnQgYXBwZWFycyB0byBoYXZlIGEgcmVuZGVyIG1ldGhvZCwgYnV0IGRvZXNuJ3QgZXh0ZW5kIFJlYWN0LkNvbXBvbmVudC4gXCIgKyAnVGhpcyBpcyBsaWtlbHkgdG8gY2F1c2UgZXJyb3JzLiBDaGFuZ2UgJXMgdG8gZXh0ZW5kIFJlYWN0LkNvbXBvbmVudCBpbnN0ZWFkLicsIGNvbXBvbmVudE5hbWUsIGNvbXBvbmVudE5hbWUpO1xuICAgICAgICAgIGRpZFdhcm5BYm91dEJhZENsYXNzW2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgdmFsdWUgPSBmbihwcm9wcywgY29udGV4dCk7XG4gICAgfVxuICAgIC8vIFJlYWN0IERldlRvb2xzIHJlYWRzIHRoaXMgZmxhZy5cbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gUGVyZm9ybWVkV29yaztcblxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZS5yZW5kZXIgPT09ICdmdW5jdGlvbicgJiYgdmFsdWUuJCR0eXBlb2YgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIENvbXBvbmVudCA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG5cbiAgICAgIC8vIFByb2NlZWQgdW5kZXIgdGhlIGFzc3VtcHRpb24gdGhhdCB0aGlzIGlzIGEgY2xhc3MgaW5zdGFuY2VcbiAgICAgIHdvcmtJblByb2dyZXNzLnRhZyA9IENsYXNzQ29tcG9uZW50O1xuXG4gICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gdmFsdWUuc3RhdGUgIT09IG51bGwgJiYgdmFsdWUuc3RhdGUgIT09IHVuZGVmaW5lZCA/IHZhbHVlLnN0YXRlIDogbnVsbDtcblxuICAgICAgaWYgKHR5cGVvZiBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBwYXJ0aWFsU3RhdGUgPSBjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHdvcmtJblByb2dyZXNzLCB2YWx1ZSwgcHJvcHMsIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUpO1xuXG4gICAgICAgIGlmIChwYXJ0aWFsU3RhdGUgIT09IG51bGwgJiYgcGFydGlhbFN0YXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gX2Fzc2lnbih7fSwgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSwgcGFydGlhbFN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBQdXNoIGNvbnRleHQgcHJvdmlkZXJzIGVhcmx5IHRvIHByZXZlbnQgY29udGV4dCBzdGFjayBtaXNtYXRjaGVzLlxuICAgICAgLy8gRHVyaW5nIG1vdW50aW5nIHdlIGRvbid0IGtub3cgdGhlIGNoaWxkIGNvbnRleHQgeWV0IGFzIHRoZSBpbnN0YW5jZSBkb2Vzbid0IGV4aXN0LlxuICAgICAgLy8gV2Ugd2lsbCBpbnZhbGlkYXRlIHRoZSBjaGlsZCBjb250ZXh0IGluIGZpbmlzaENsYXNzQ29tcG9uZW50KCkgcmlnaHQgYWZ0ZXIgcmVuZGVyaW5nLlxuICAgICAgdmFyIGhhc0NvbnRleHQgPSBwdXNoTGVnYWN5Q29udGV4dFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIGFkb3B0Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgdmFsdWUpO1xuICAgICAgbW91bnRDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICByZXR1cm4gZmluaXNoQ2xhc3NDb21wb25lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHRydWUsIGhhc0NvbnRleHQsIGZhbHNlLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFByb2NlZWQgdW5kZXIgdGhlIGFzc3VtcHRpb24gdGhhdCB0aGlzIGlzIGEgZnVuY3Rpb25hbCBjb21wb25lbnRcbiAgICAgIHdvcmtJblByb2dyZXNzLnRhZyA9IEZ1bmN0aW9uYWxDb21wb25lbnQ7XG4gICAgICB7XG4gICAgICAgIHZhciBfQ29tcG9uZW50ID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcblxuICAgICAgICBpZiAoX0NvbXBvbmVudCkge1xuICAgICAgICAgIHdhcm5pbmcoIV9Db21wb25lbnQuY2hpbGRDb250ZXh0VHlwZXMsICclcyguLi4pOiBjaGlsZENvbnRleHRUeXBlcyBjYW5ub3QgYmUgZGVmaW5lZCBvbiBhIGZ1bmN0aW9uYWwgY29tcG9uZW50LicsIF9Db21wb25lbnQuZGlzcGxheU5hbWUgfHwgX0NvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod29ya0luUHJvZ3Jlc3MucmVmICE9PSBudWxsKSB7XG4gICAgICAgICAgdmFyIGluZm8gPSAnJztcbiAgICAgICAgICB2YXIgb3duZXJOYW1lID0gUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5nZXRDdXJyZW50RmliZXJPd25lck5hbWUoKTtcbiAgICAgICAgICBpZiAob3duZXJOYW1lKSB7XG4gICAgICAgICAgICBpbmZvICs9ICdcXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgJyArIG93bmVyTmFtZSArICdgLic7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHdhcm5pbmdLZXkgPSBvd25lck5hbWUgfHwgd29ya0luUHJvZ3Jlc3MuX2RlYnVnSUQgfHwgJyc7XG4gICAgICAgICAgdmFyIGRlYnVnU291cmNlID0gd29ya0luUHJvZ3Jlc3MuX2RlYnVnU291cmNlO1xuICAgICAgICAgIGlmIChkZWJ1Z1NvdXJjZSkge1xuICAgICAgICAgICAgd2FybmluZ0tleSA9IGRlYnVnU291cmNlLmZpbGVOYW1lICsgJzonICsgZGVidWdTb3VyY2UubGluZU51bWJlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFkaWRXYXJuQWJvdXRTdGF0ZWxlc3NSZWZzW3dhcm5pbmdLZXldKSB7XG4gICAgICAgICAgICBkaWRXYXJuQWJvdXRTdGF0ZWxlc3NSZWZzW3dhcm5pbmdLZXldID0gdHJ1ZTtcbiAgICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICdTdGF0ZWxlc3MgZnVuY3Rpb24gY29tcG9uZW50cyBjYW5ub3QgYmUgZ2l2ZW4gcmVmcy4gJyArICdBdHRlbXB0cyB0byBhY2Nlc3MgdGhpcyByZWYgd2lsbCBmYWlsLiVzJXMnLCBpbmZvLCBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0oKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBmbi5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB2YXIgX2NvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKSB8fCAnVW5rbm93bic7XG5cbiAgICAgICAgICBpZiAoIWRpZFdhcm5BYm91dEdldERlcml2ZWRTdGF0ZU9uRnVuY3Rpb25hbENvbXBvbmVudFtfY29tcG9uZW50TmFtZV0pIHtcbiAgICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICclczogU3RhdGVsZXNzIGZ1bmN0aW9uYWwgY29tcG9uZW50cyBkbyBub3Qgc3VwcG9ydCBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuJywgX2NvbXBvbmVudE5hbWUpO1xuICAgICAgICAgICAgZGlkV2FybkFib3V0R2V0RGVyaXZlZFN0YXRlT25GdW5jdGlvbmFsQ29tcG9uZW50W19jb21wb25lbnROYW1lXSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgdmFsdWUpO1xuICAgICAgbWVtb2l6ZVByb3BzKHdvcmtJblByb2dyZXNzLCBwcm9wcyk7XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlQ2FsbENvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICB2YXIgbmV4dFByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgIGlmIChoYXNMZWdhY3lDb250ZXh0Q2hhbmdlZCgpKSB7XG4gICAgICAvLyBOb3JtYWxseSB3ZSBjYW4gYmFpbCBvdXQgb24gcHJvcHMgZXF1YWxpdHkgYnV0IGlmIGNvbnRleHQgaGFzIGNoYW5nZWRcbiAgICAgIC8vIHdlIGRvbid0IGRvIHRoZSBiYWlsb3V0IGFuZCB3ZSBoYXZlIHRvIHJldXNlIGV4aXN0aW5nIHByb3BzIGluc3RlYWQuXG4gICAgfSBlbHNlIGlmICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID09PSBuZXh0UHJvcHMpIHtcbiAgICAgIG5leHRQcm9wcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHM7XG4gICAgICAvLyBUT0RPOiBXaGVuIGJhaWxpbmcgb3V0LCB3ZSBtaWdodCBuZWVkIHRvIHJldHVybiB0aGUgc3RhdGVOb2RlIGluc3RlYWRcbiAgICAgIC8vIG9mIHRoZSBjaGlsZC4gVG8gY2hlY2sgaXQgZm9yIHdvcmsuXG4gICAgICAvLyByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgdmFyIG5leHRDaGlsZHJlbiA9IG5leHRQcm9wcy5jaGlsZHJlbjtcblxuICAgIC8vIFRoZSBmb2xsb3dpbmcgaXMgYSBmb3JrIG9mIHJlY29uY2lsZUNoaWxkcmVuQXRFeHBpcmF0aW9uVGltZSBidXQgdXNpbmdcbiAgICAvLyBzdGF0ZU5vZGUgdG8gc3RvcmUgdGhlIGNoaWxkLlxuICAgIGlmIChjdXJyZW50ID09PSBudWxsKSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBtb3VudENoaWxkRmliZXJzKHdvcmtJblByb2dyZXNzLCB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUsIG5leHRDaGlsZHJlbiwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSByZWNvbmNpbGVDaGlsZEZpYmVycyh3b3JrSW5Qcm9ncmVzcywgY3VycmVudC5zdGF0ZU5vZGUsIG5leHRDaGlsZHJlbiwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgIH1cblxuICAgIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV4dFByb3BzKTtcbiAgICAvLyBUaGlzIGRvZXNuJ3QgdGFrZSBhcmJpdHJhcnkgdGltZSBzbyB3ZSBjb3VsZCBzeW5jaHJvbm91c2x5IGp1c3QgYmVnaW5cbiAgICAvLyBlYWdlcmx5IGRvIHRoZSB3b3JrIG9mIHdvcmtJblByb2dyZXNzLmNoaWxkIGFzIGFuIG9wdGltaXphdGlvbi5cbiAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlUG9ydGFsQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgIHB1c2hIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzLCB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyk7XG4gICAgdmFyIG5leHRDaGlsZHJlbiA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICBpZiAoaGFzTGVnYWN5Q29udGV4dENoYW5nZWQoKSkge1xuICAgICAgLy8gTm9ybWFsbHkgd2UgY2FuIGJhaWwgb3V0IG9uIHByb3BzIGVxdWFsaXR5IGJ1dCBpZiBjb250ZXh0IGhhcyBjaGFuZ2VkXG4gICAgICAvLyB3ZSBkb24ndCBkbyB0aGUgYmFpbG91dCBhbmQgd2UgaGF2ZSB0byByZXVzZSBleGlzdGluZyBwcm9wcyBpbnN0ZWFkLlxuICAgIH0gZWxzZSBpZiAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9PT0gbmV4dENoaWxkcmVuKSB7XG4gICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnQgPT09IG51bGwpIHtcbiAgICAgIC8vIFBvcnRhbHMgYXJlIHNwZWNpYWwgYmVjYXVzZSB3ZSBkb24ndCBhcHBlbmQgdGhlIGNoaWxkcmVuIGR1cmluZyBtb3VudFxuICAgICAgLy8gYnV0IGF0IGNvbW1pdC4gVGhlcmVmb3JlIHdlIG5lZWQgdG8gdHJhY2sgaW5zZXJ0aW9ucyB3aGljaCB0aGUgbm9ybWFsXG4gICAgICAvLyBmbG93IGRvZXNuJ3QgZG8gZHVyaW5nIG1vdW50LiBUaGlzIGRvZXNuJ3QgaGFwcGVuIGF0IHRoZSByb290IGJlY2F1c2VcbiAgICAgIC8vIHRoZSByb290IGFsd2F5cyBzdGFydHMgd2l0aCBhIFwiY3VycmVudFwiIHdpdGggYSBudWxsIGNoaWxkLlxuICAgICAgLy8gVE9ETzogQ29uc2lkZXIgdW5pZnlpbmcgdGhpcyB3aXRoIGhvdyB0aGUgcm9vdCB3b3Jrcy5cbiAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID0gcmVjb25jaWxlQ2hpbGRGaWJlcnMod29ya0luUHJvZ3Jlc3MsIG51bGwsIG5leHRDaGlsZHJlbiwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgbWVtb2l6ZVByb3BzKHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKTtcbiAgICAgIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKTtcbiAgICB9XG4gICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvcGFnYXRlQ29udGV4dENoYW5nZSh3b3JrSW5Qcm9ncmVzcywgY29udGV4dCwgY2hhbmdlZEJpdHMsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgdmFyIGZpYmVyID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgaWYgKGZpYmVyICE9PSBudWxsKSB7XG4gICAgICAvLyBTZXQgdGhlIHJldHVybiBwb2ludGVyIG9mIHRoZSBjaGlsZCB0byB0aGUgd29yay1pbi1wcm9ncmVzcyBmaWJlci5cbiAgICAgIGZpYmVyWydyZXR1cm4nXSA9IHdvcmtJblByb2dyZXNzO1xuICAgIH1cbiAgICB3aGlsZSAoZmliZXIgIT09IG51bGwpIHtcbiAgICAgIHZhciBuZXh0RmliZXIgPSB2b2lkIDA7XG4gICAgICAvLyBWaXNpdCB0aGlzIGZpYmVyLlxuICAgICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgICAgY2FzZSBDb250ZXh0Q29uc3VtZXI6XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNvbnRleHQgbWF0Y2hlcy5cbiAgICAgICAgICB2YXIgb2JzZXJ2ZWRCaXRzID0gZmliZXIuc3RhdGVOb2RlIHwgMDtcbiAgICAgICAgICBpZiAoZmliZXIudHlwZSA9PT0gY29udGV4dCAmJiAob2JzZXJ2ZWRCaXRzICYgY2hhbmdlZEJpdHMpICE9PSAwKSB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGV4cGlyYXRpb24gdGltZSBvZiBhbGwgdGhlIGFuY2VzdG9ycywgaW5jbHVkaW5nXG4gICAgICAgICAgICAvLyB0aGUgYWx0ZXJuYXRlcy5cbiAgICAgICAgICAgIHZhciBub2RlID0gZmliZXI7XG4gICAgICAgICAgICB3aGlsZSAobm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICB2YXIgYWx0ZXJuYXRlID0gbm9kZS5hbHRlcm5hdGU7XG4gICAgICAgICAgICAgIGlmIChub2RlLmV4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHwgbm9kZS5leHBpcmF0aW9uVGltZSA+IHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5leHBpcmF0aW9uVGltZSA9IHJlbmRlckV4cGlyYXRpb25UaW1lO1xuICAgICAgICAgICAgICAgIGlmIChhbHRlcm5hdGUgIT09IG51bGwgJiYgKGFsdGVybmF0ZS5leHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8IGFsdGVybmF0ZS5leHBpcmF0aW9uVGltZSA+IHJlbmRlckV4cGlyYXRpb25UaW1lKSkge1xuICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRlLmV4cGlyYXRpb25UaW1lID0gcmVuZGVyRXhwaXJhdGlvblRpbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFsdGVybmF0ZSAhPT0gbnVsbCAmJiAoYWx0ZXJuYXRlLmV4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHwgYWx0ZXJuYXRlLmV4cGlyYXRpb25UaW1lID4gcmVuZGVyRXhwaXJhdGlvblRpbWUpKSB7XG4gICAgICAgICAgICAgICAgYWx0ZXJuYXRlLmV4cGlyYXRpb25UaW1lID0gcmVuZGVyRXhwaXJhdGlvblRpbWU7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTmVpdGhlciBhbHRlcm5hdGUgd2FzIHVwZGF0ZWQsIHdoaWNoIG1lYW5zIHRoZSByZXN0IG9mIHRoZVxuICAgICAgICAgICAgICAgIC8vIGFuY2VzdG9yIHBhdGggYWxyZWFkeSBoYXMgc3VmZmljaWVudCBwcmlvcml0eS5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBub2RlID0gbm9kZVsncmV0dXJuJ107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEb24ndCBzY2FuIGRlZXBlciB0aGFuIGEgbWF0Y2hpbmcgY29uc3VtZXIuIFdoZW4gd2UgcmVuZGVyIHRoZVxuICAgICAgICAgICAgLy8gY29uc3VtZXIsIHdlJ2xsIGNvbnRpbnVlIHNjYW5uaW5nIGZyb20gdGhhdCBwb2ludC4gVGhpcyB3YXkgdGhlXG4gICAgICAgICAgICAvLyBzY2FubmluZyB3b3JrIGlzIHRpbWUtc2xpY2VkLlxuICAgICAgICAgICAgbmV4dEZpYmVyID0gbnVsbDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVHJhdmVyc2UgZG93bi5cbiAgICAgICAgICAgIG5leHRGaWJlciA9IGZpYmVyLmNoaWxkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDb250ZXh0UHJvdmlkZXI6XG4gICAgICAgICAgLy8gRG9uJ3Qgc2NhbiBkZWVwZXIgaWYgdGhpcyBpcyBhIG1hdGNoaW5nIHByb3ZpZGVyXG4gICAgICAgICAgbmV4dEZpYmVyID0gZmliZXIudHlwZSA9PT0gd29ya0luUHJvZ3Jlc3MudHlwZSA/IG51bGwgOiBmaWJlci5jaGlsZDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBUcmF2ZXJzZSBkb3duLlxuICAgICAgICAgIG5leHRGaWJlciA9IGZpYmVyLmNoaWxkO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKG5leHRGaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAvLyBTZXQgdGhlIHJldHVybiBwb2ludGVyIG9mIHRoZSBjaGlsZCB0byB0aGUgd29yay1pbi1wcm9ncmVzcyBmaWJlci5cbiAgICAgICAgbmV4dEZpYmVyWydyZXR1cm4nXSA9IGZpYmVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTm8gY2hpbGQuIFRyYXZlcnNlIHRvIG5leHQgc2libGluZy5cbiAgICAgICAgbmV4dEZpYmVyID0gZmliZXI7XG4gICAgICAgIHdoaWxlIChuZXh0RmliZXIgIT09IG51bGwpIHtcbiAgICAgICAgICBpZiAobmV4dEZpYmVyID09PSB3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgLy8gV2UncmUgYmFjayB0byB0aGUgcm9vdCBvZiB0aGlzIHN1YnRyZWUuIEV4aXQuXG4gICAgICAgICAgICBuZXh0RmliZXIgPSBudWxsO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBzaWJsaW5nID0gbmV4dEZpYmVyLnNpYmxpbmc7XG4gICAgICAgICAgaWYgKHNpYmxpbmcgIT09IG51bGwpIHtcbiAgICAgICAgICAgIG5leHRGaWJlciA9IHNpYmxpbmc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gTm8gbW9yZSBzaWJsaW5ncy4gVHJhdmVyc2UgdXAuXG4gICAgICAgICAgbmV4dEZpYmVyID0gbmV4dEZpYmVyWydyZXR1cm4nXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZmliZXIgPSBuZXh0RmliZXI7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlQ29udGV4dFByb3ZpZGVyKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgIHZhciBwcm92aWRlclR5cGUgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgIHZhciBjb250ZXh0ID0gcHJvdmlkZXJUeXBlLl9jb250ZXh0O1xuXG4gICAgdmFyIG5ld1Byb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgIHZhciBvbGRQcm9wcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHM7XG5cbiAgICBpZiAoaGFzTGVnYWN5Q29udGV4dENoYW5nZWQoKSkge1xuICAgICAgLy8gTm9ybWFsbHkgd2UgY2FuIGJhaWwgb3V0IG9uIHByb3BzIGVxdWFsaXR5IGJ1dCBpZiBjb250ZXh0IGhhcyBjaGFuZ2VkXG4gICAgICAvLyB3ZSBkb24ndCBkbyB0aGUgYmFpbG91dCBhbmQgd2UgaGF2ZSB0byByZXVzZSBleGlzdGluZyBwcm9wcyBpbnN0ZWFkLlxuICAgIH0gZWxzZSBpZiAob2xkUHJvcHMgPT09IG5ld1Byb3BzKSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSAwO1xuICAgICAgcHVzaFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG5cbiAgICB2YXIgbmV3VmFsdWUgPSBuZXdQcm9wcy52YWx1ZTtcbiAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID0gbmV3UHJvcHM7XG5cbiAgICB2YXIgY2hhbmdlZEJpdHMgPSB2b2lkIDA7XG4gICAgaWYgKG9sZFByb3BzID09PSBudWxsKSB7XG4gICAgICAvLyBJbml0aWFsIHJlbmRlclxuICAgICAgY2hhbmdlZEJpdHMgPSBNQVhfU0lHTkVEXzMxX0JJVF9JTlQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChvbGRQcm9wcy52YWx1ZSA9PT0gbmV3UHJvcHMudmFsdWUpIHtcbiAgICAgICAgLy8gTm8gY2hhbmdlLiBCYWlsb3V0IGVhcmx5IGlmIGNoaWxkcmVuIGFyZSB0aGUgc2FtZS5cbiAgICAgICAgaWYgKG9sZFByb3BzLmNoaWxkcmVuID09PSBuZXdQcm9wcy5jaGlsZHJlbikge1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IDA7XG4gICAgICAgICAgcHVzaFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIH1cbiAgICAgICAgY2hhbmdlZEJpdHMgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG9sZFZhbHVlID0gb2xkUHJvcHMudmFsdWU7XG4gICAgICAgIC8vIFVzZSBPYmplY3QuaXMgdG8gY29tcGFyZSB0aGUgbmV3IGNvbnRleHQgdmFsdWUgdG8gdGhlIG9sZCB2YWx1ZS5cbiAgICAgICAgLy8gSW5saW5lZCBPYmplY3QuaXMgcG9seWZpbGwuXG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc1xuICAgICAgICBpZiAob2xkVmFsdWUgPT09IG5ld1ZhbHVlICYmIChvbGRWYWx1ZSAhPT0gMCB8fCAxIC8gb2xkVmFsdWUgPT09IDEgLyBuZXdWYWx1ZSkgfHwgb2xkVmFsdWUgIT09IG9sZFZhbHVlICYmIG5ld1ZhbHVlICE9PSBuZXdWYWx1ZSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgICAgICApIHtcbiAgICAgICAgICAgIC8vIE5vIGNoYW5nZS4gQmFpbG91dCBlYXJseSBpZiBjaGlsZHJlbiBhcmUgdGhlIHNhbWUuXG4gICAgICAgICAgICBpZiAob2xkUHJvcHMuY2hpbGRyZW4gPT09IG5ld1Byb3BzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IDA7XG4gICAgICAgICAgICAgIHB1c2hQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoYW5nZWRCaXRzID0gMDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoYW5nZWRCaXRzID0gdHlwZW9mIGNvbnRleHQuX2NhbGN1bGF0ZUNoYW5nZWRCaXRzID09PSAnZnVuY3Rpb24nID8gY29udGV4dC5fY2FsY3VsYXRlQ2hhbmdlZEJpdHMob2xkVmFsdWUsIG5ld1ZhbHVlKSA6IE1BWF9TSUdORURfMzFfQklUX0lOVDtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB3YXJuaW5nKChjaGFuZ2VkQml0cyAmIE1BWF9TSUdORURfMzFfQklUX0lOVCkgPT09IGNoYW5nZWRCaXRzLCAnY2FsY3VsYXRlQ2hhbmdlZEJpdHM6IEV4cGVjdGVkIHRoZSByZXR1cm4gdmFsdWUgdG8gYmUgYSAnICsgJzMxLWJpdCBpbnRlZ2VyLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcycsIGNoYW5nZWRCaXRzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hhbmdlZEJpdHMgfD0gMDtcblxuICAgICAgICAgIGlmIChjaGFuZ2VkQml0cyA9PT0gMCkge1xuICAgICAgICAgICAgLy8gTm8gY2hhbmdlLiBCYWlsb3V0IGVhcmx5IGlmIGNoaWxkcmVuIGFyZSB0aGUgc2FtZS5cbiAgICAgICAgICAgIGlmIChvbGRQcm9wcy5jaGlsZHJlbiA9PT0gbmV3UHJvcHMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gMDtcbiAgICAgICAgICAgICAgcHVzaFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9wYWdhdGVDb250ZXh0Q2hhbmdlKHdvcmtJblByb2dyZXNzLCBjb250ZXh0LCBjaGFuZ2VkQml0cywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGNoYW5nZWRCaXRzO1xuICAgIHB1c2hQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgICB2YXIgbmV3Q2hpbGRyZW4gPSBuZXdQcm9wcy5jaGlsZHJlbjtcbiAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV3Q2hpbGRyZW4pO1xuICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUNvbnRleHRDb25zdW1lcihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICB2YXIgY29udGV4dCA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgdmFyIG5ld1Byb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgIHZhciBvbGRQcm9wcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHM7XG5cbiAgICB2YXIgbmV3VmFsdWUgPSBjb250ZXh0Ll9jdXJyZW50VmFsdWU7XG4gICAgdmFyIGNoYW5nZWRCaXRzID0gY29udGV4dC5fY2hhbmdlZEJpdHM7XG5cbiAgICBpZiAoaGFzTGVnYWN5Q29udGV4dENoYW5nZWQoKSkge1xuICAgICAgLy8gTm9ybWFsbHkgd2UgY2FuIGJhaWwgb3V0IG9uIHByb3BzIGVxdWFsaXR5IGJ1dCBpZiBjb250ZXh0IGhhcyBjaGFuZ2VkXG4gICAgICAvLyB3ZSBkb24ndCBkbyB0aGUgYmFpbG91dCBhbmQgd2UgaGF2ZSB0byByZXVzZSBleGlzdGluZyBwcm9wcyBpbnN0ZWFkLlxuICAgIH0gZWxzZSBpZiAoY2hhbmdlZEJpdHMgPT09IDAgJiYgb2xkUHJvcHMgPT09IG5ld1Byb3BzKSB7XG4gICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPSBuZXdQcm9wcztcblxuICAgIHZhciBvYnNlcnZlZEJpdHMgPSBuZXdQcm9wcy51bnN0YWJsZV9vYnNlcnZlZEJpdHM7XG4gICAgaWYgKG9ic2VydmVkQml0cyA9PT0gdW5kZWZpbmVkIHx8IG9ic2VydmVkQml0cyA9PT0gbnVsbCkge1xuICAgICAgLy8gU3Vic2NyaWJlIHRvIGFsbCBjaGFuZ2VzIGJ5IGRlZmF1bHRcbiAgICAgIG9ic2VydmVkQml0cyA9IE1BWF9TSUdORURfMzFfQklUX0lOVDtcbiAgICB9XG4gICAgLy8gU3RvcmUgdGhlIG9ic2VydmVkQml0cyBvbiB0aGUgZmliZXIncyBzdGF0ZU5vZGUgZm9yIHF1aWNrIGFjY2Vzcy5cbiAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBvYnNlcnZlZEJpdHM7XG5cbiAgICBpZiAoKGNoYW5nZWRCaXRzICYgb2JzZXJ2ZWRCaXRzKSAhPT0gMCkge1xuICAgICAgLy8gQ29udGV4dCBjaGFuZ2UgcHJvcGFnYXRpb24gc3RvcHMgYXQgbWF0Y2hpbmcgY29uc3VtZXJzLCBmb3IgdGltZS1cbiAgICAgIC8vIHNsaWNpbmcuIENvbnRpbnVlIHRoZSBwcm9wYWdhdGlvbiBoZXJlLlxuICAgICAgcHJvcGFnYXRlQ29udGV4dENoYW5nZSh3b3JrSW5Qcm9ncmVzcywgY29udGV4dCwgY2hhbmdlZEJpdHMsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG4gICAgLy8gVGhlcmUgaXMgbm8gYmFpbG91dCBvbiBgY2hpbGRyZW5gIGVxdWFsaXR5IGJlY2F1c2Ugd2UgZXhwZWN0IHBlb3BsZVxuICAgIC8vIHRvIG9mdGVuIHBhc3MgYSBib3VuZCBtZXRob2QgYXMgYSBjaGlsZCwgYnV0IGl0IG1heSByZWZlcmVuY2VcbiAgICAvLyBgdGhpcy5zdGF0ZWAgb3IgYHRoaXMucHJvcHNgIChhbmQgdGh1cyBuZWVkcyB0byByZS1yZW5kZXIgb24gYHNldFN0YXRlYCkuXG5cbiAgICB2YXIgcmVuZGVyID0gbmV3UHJvcHMuY2hpbGRyZW47XG5cbiAgICB7XG4gICAgICB3YXJuaW5nKHR5cGVvZiByZW5kZXIgPT09ICdmdW5jdGlvbicsICdBIGNvbnRleHQgY29uc3VtZXIgd2FzIHJlbmRlcmVkIHdpdGggbXVsdGlwbGUgY2hpbGRyZW4sIG9yIGEgY2hpbGQgJyArIFwidGhhdCBpc24ndCBhIGZ1bmN0aW9uLiBBIGNvbnRleHQgY29uc3VtZXIgZXhwZWN0cyBhIHNpbmdsZSBjaGlsZCBcIiArICd0aGF0IGlzIGEgZnVuY3Rpb24uIElmIHlvdSBkaWQgcGFzcyBhIGZ1bmN0aW9uLCBtYWtlIHN1cmUgdGhlcmUgJyArICdpcyBubyB0cmFpbGluZyBvciBsZWFkaW5nIHdoaXRlc3BhY2UgYXJvdW5kIGl0LicpO1xuICAgIH1cblxuICAgIHZhciBuZXdDaGlsZHJlbiA9IHJlbmRlcihuZXdWYWx1ZSk7XG4gICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5ld0NoaWxkcmVuKTtcbiAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gIH1cblxuICAvKlxuICBmdW5jdGlvbiByZXVzZUNoaWxkcmVuRWZmZWN0cyhyZXR1cm5GaWJlciA6IEZpYmVyLCBmaXJzdENoaWxkIDogRmliZXIpIHtcbiAgICBsZXQgY2hpbGQgPSBmaXJzdENoaWxkO1xuICAgIGRvIHtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IHRoZSBmaXJzdCBhbmQgbGFzdCBlZmZlY3Qgb2YgdGhlIHBhcmVudCBjb3JyZXNwb25kc1xuICAgICAgLy8gdG8gdGhlIGNoaWxkcmVuJ3MgZmlyc3QgYW5kIGxhc3QgZWZmZWN0LlxuICAgICAgaWYgKCFyZXR1cm5GaWJlci5maXJzdEVmZmVjdCkge1xuICAgICAgICByZXR1cm5GaWJlci5maXJzdEVmZmVjdCA9IGNoaWxkLmZpcnN0RWZmZWN0O1xuICAgICAgfVxuICAgICAgaWYgKGNoaWxkLmxhc3RFZmZlY3QpIHtcbiAgICAgICAgaWYgKHJldHVybkZpYmVyLmxhc3RFZmZlY3QpIHtcbiAgICAgICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0Lm5leHRFZmZlY3QgPSBjaGlsZC5maXJzdEVmZmVjdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gY2hpbGQubGFzdEVmZmVjdDtcbiAgICAgIH1cbiAgICB9IHdoaWxlIChjaGlsZCA9IGNoaWxkLnNpYmxpbmcpO1xuICB9XG4gICovXG5cbiAgZnVuY3Rpb24gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICAgIGNhbmNlbFdvcmtUaW1lcih3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgICAvLyBUT0RPOiBXZSBzaG91bGQgaWRlYWxseSBiZSBhYmxlIHRvIGJhaWwgb3V0IGVhcmx5IGlmIHRoZSBjaGlsZHJlbiBoYXZlIG5vXG4gICAgLy8gbW9yZSB3b3JrIHRvIGRvLiBIb3dldmVyLCBzaW5jZSB3ZSBkb24ndCBoYXZlIGEgc2VwYXJhdGlvbiBvZiB0aGlzXG4gICAgLy8gRmliZXIncyBwcmlvcml0eSBhbmQgaXRzIGNoaWxkcmVuIHlldCAtIHdlIGRvbid0IGtub3cgd2l0aG91dCBkb2luZyBsb3RzXG4gICAgLy8gb2YgdGhlIHNhbWUgd29yayB3ZSBkbyBhbnl3YXkuIE9uY2Ugd2UgaGF2ZSB0aGF0IHNlcGFyYXRpb24gd2UgY2FuIGp1c3RcbiAgICAvLyBiYWlsIG91dCBoZXJlIGlmIHRoZSBjaGlsZHJlbiBoYXMgbm8gbW9yZSB3b3JrIGF0IHRoaXMgcHJpb3JpdHkgbGV2ZWwuXG4gICAgLy8gaWYgKHdvcmtJblByb2dyZXNzLnByaW9yaXR5T2ZDaGlsZHJlbiA8PSBwcmlvcml0eUxldmVsKSB7XG4gICAgLy8gICAvLyBJZiB0aGVyZSBhcmUgc2lkZS1lZmZlY3RzIGluIHRoZXNlIGNoaWxkcmVuIHRoYXQgaGF2ZSBub3QgeWV0IGJlZW5cbiAgICAvLyAgIC8vIGNvbW1pdHRlZCB3ZSBuZWVkIHRvIGVuc3VyZSB0aGF0IHRoZXkgZ2V0IHByb3Blcmx5IHRyYW5zZmVycmVkIHVwLlxuICAgIC8vICAgaWYgKGN1cnJlbnQgJiYgY3VycmVudC5jaGlsZCAhPT0gd29ya0luUHJvZ3Jlc3MuY2hpbGQpIHtcbiAgICAvLyAgICAgcmV1c2VDaGlsZHJlbkVmZmVjdHMod29ya0luUHJvZ3Jlc3MsIGNoaWxkKTtcbiAgICAvLyAgIH1cbiAgICAvLyAgIHJldHVybiBudWxsO1xuICAgIC8vIH1cblxuICAgIGNsb25lQ2hpbGRGaWJlcnMoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJhaWxvdXRPbkxvd1ByaW9yaXR5KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgY2FuY2VsV29ya1RpbWVyKHdvcmtJblByb2dyZXNzKTtcblxuICAgIC8vIFRPRE86IEhhbmRsZSBIb3N0Q29tcG9uZW50IHRhZ3MgaGVyZSBhcyB3ZWxsIGFuZCBjYWxsIHB1c2hIb3N0Q29udGV4dCgpP1xuICAgIC8vIFNlZSBQUiA4NTkwIGRpc2N1c3Npb24gZm9yIGNvbnRleHRcbiAgICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgICAgcHVzaEhvc3RSb290Q29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAgcHVzaExlZ2FjeUNvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAgICBwdXNoSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcywgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlLmNvbnRhaW5lckluZm8pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ29udGV4dFByb3ZpZGVyOlxuICAgICAgICBwdXNoUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gVE9ETzogV2hhdCBpZiB0aGlzIGlzIGN1cnJlbnRseSBpbiBwcm9ncmVzcz9cbiAgICAvLyBIb3cgY2FuIHRoYXQgaGFwcGVuPyBIb3cgaXMgdGhpcyBub3QgYmVpbmcgY2xvbmVkP1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gVE9ETzogRGVsZXRlIG1lbW9pemVQcm9wcy9TdGF0ZSBhbmQgbW92ZSB0byByZWNvbmNpbGUvYmFpbG91dCBpbnN0ZWFkXG4gIGZ1bmN0aW9uIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV4dFByb3BzKSB7XG4gICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9IG5leHRQcm9wcztcbiAgfVxuXG4gIGZ1bmN0aW9uIG1lbW9pemVTdGF0ZSh3b3JrSW5Qcm9ncmVzcywgbmV4dFN0YXRlKSB7XG4gICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IG5leHRTdGF0ZTtcbiAgICAvLyBEb24ndCByZXNldCB0aGUgdXBkYXRlUXVldWUsIGluIGNhc2UgdGhlcmUgYXJlIHBlbmRpbmcgdXBkYXRlcy4gUmVzZXR0aW5nXG4gICAgLy8gaXMgaGFuZGxlZCBieSBwcm9jZXNzVXBkYXRlUXVldWUuXG4gIH1cblxuICBmdW5jdGlvbiBiZWdpbldvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgaWYgKHdvcmtJblByb2dyZXNzLmV4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHwgd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWUgPiByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgICAgcmV0dXJuIGJhaWxvdXRPbkxvd1ByaW9yaXR5KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgICAgY2FzZSBJbmRldGVybWluYXRlQ29tcG9uZW50OlxuICAgICAgICByZXR1cm4gbW91bnRJbmRldGVybWluYXRlQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICBjYXNlIEZ1bmN0aW9uYWxDb21wb25lbnQ6XG4gICAgICAgIHJldHVybiB1cGRhdGVGdW5jdGlvbmFsQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgIHJldHVybiB1cGRhdGVDbGFzc0NvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUhvc3RSb290KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgIHJldHVybiB1cGRhdGVIb3N0Q29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICBjYXNlIEhvc3RUZXh0OlxuICAgICAgICByZXR1cm4gdXBkYXRlSG9zdFRleHQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgY2FzZSBDYWxsSGFuZGxlclBoYXNlOlxuICAgICAgICAvLyBUaGlzIGlzIGEgcmVzdGFydC4gUmVzZXQgdGhlIHRhZyB0byB0aGUgaW5pdGlhbCBwaGFzZS5cbiAgICAgICAgd29ya0luUHJvZ3Jlc3MudGFnID0gQ2FsbENvbXBvbmVudDtcbiAgICAgIC8vIEludGVudGlvbmFsbHkgZmFsbCB0aHJvdWdoIHNpbmNlIHRoaXMgaXMgbm93IHRoZSBzYW1lLlxuICAgICAgY2FzZSBDYWxsQ29tcG9uZW50OlxuICAgICAgICByZXR1cm4gdXBkYXRlQ2FsbENvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgY2FzZSBSZXR1cm5Db21wb25lbnQ6XG4gICAgICAgIC8vIEEgcmV0dXJuIGNvbXBvbmVudCBpcyBqdXN0IGEgcGxhY2Vob2xkZXIsIHdlIGNhbiBqdXN0IHJ1biB0aHJvdWdoIHRoZVxuICAgICAgICAvLyBuZXh0IG9uZSBpbW1lZGlhdGVseS5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgICAgIHJldHVybiB1cGRhdGVQb3J0YWxDb21wb25lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGNhc2UgRm9yd2FyZFJlZjpcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUZvcndhcmRSZWYoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgY2FzZSBGcmFnbWVudDpcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUZyYWdtZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIGNhc2UgTW9kZTpcbiAgICAgICAgcmV0dXJuIHVwZGF0ZU1vZGUoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgY2FzZSBDb250ZXh0UHJvdmlkZXI6XG4gICAgICAgIHJldHVybiB1cGRhdGVDb250ZXh0UHJvdmlkZXIoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGNhc2UgQ29udGV4dENvbnN1bWVyOlxuICAgICAgICByZXR1cm4gdXBkYXRlQ29udGV4dENvbnN1bWVyKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpbnZhcmlhbnQoZmFsc2UsICdVbmtub3duIHVuaXQgb2Ygd29yayB0YWcuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBiZWdpbldvcms6IGJlZ2luV29ya1xuICB9O1xufTtcblxudmFyIFJlYWN0RmliZXJDb21wbGV0ZVdvcmsgPSBmdW5jdGlvbiAoY29uZmlnLCBob3N0Q29udGV4dCwgbGVnYWN5Q29udGV4dCwgbmV3Q29udGV4dCwgaHlkcmF0aW9uQ29udGV4dCkge1xuICB2YXIgY3JlYXRlSW5zdGFuY2UgPSBjb25maWcuY3JlYXRlSW5zdGFuY2UsXG4gICAgICBjcmVhdGVUZXh0SW5zdGFuY2UgPSBjb25maWcuY3JlYXRlVGV4dEluc3RhbmNlLFxuICAgICAgYXBwZW5kSW5pdGlhbENoaWxkID0gY29uZmlnLmFwcGVuZEluaXRpYWxDaGlsZCxcbiAgICAgIGZpbmFsaXplSW5pdGlhbENoaWxkcmVuID0gY29uZmlnLmZpbmFsaXplSW5pdGlhbENoaWxkcmVuLFxuICAgICAgcHJlcGFyZVVwZGF0ZSA9IGNvbmZpZy5wcmVwYXJlVXBkYXRlLFxuICAgICAgbXV0YXRpb24gPSBjb25maWcubXV0YXRpb24sXG4gICAgICBwZXJzaXN0ZW5jZSA9IGNvbmZpZy5wZXJzaXN0ZW5jZTtcbiAgdmFyIGdldFJvb3RIb3N0Q29udGFpbmVyID0gaG9zdENvbnRleHQuZ2V0Um9vdEhvc3RDb250YWluZXIsXG4gICAgICBwb3BIb3N0Q29udGV4dCA9IGhvc3RDb250ZXh0LnBvcEhvc3RDb250ZXh0LFxuICAgICAgZ2V0SG9zdENvbnRleHQgPSBob3N0Q29udGV4dC5nZXRIb3N0Q29udGV4dCxcbiAgICAgIHBvcEhvc3RDb250YWluZXIgPSBob3N0Q29udGV4dC5wb3BIb3N0Q29udGFpbmVyO1xuICB2YXIgcG9wTGVnYWN5Q29udGV4dFByb3ZpZGVyID0gbGVnYWN5Q29udGV4dC5wb3BDb250ZXh0UHJvdmlkZXIsXG4gICAgICBwb3BUb3BMZXZlbExlZ2FjeUNvbnRleHRPYmplY3QgPSBsZWdhY3lDb250ZXh0LnBvcFRvcExldmVsQ29udGV4dE9iamVjdDtcbiAgdmFyIHBvcFByb3ZpZGVyID0gbmV3Q29udGV4dC5wb3BQcm92aWRlcjtcbiAgdmFyIHByZXBhcmVUb0h5ZHJhdGVIb3N0SW5zdGFuY2UgPSBoeWRyYXRpb25Db250ZXh0LnByZXBhcmVUb0h5ZHJhdGVIb3N0SW5zdGFuY2UsXG4gICAgICBwcmVwYXJlVG9IeWRyYXRlSG9zdFRleHRJbnN0YW5jZSA9IGh5ZHJhdGlvbkNvbnRleHQucHJlcGFyZVRvSHlkcmF0ZUhvc3RUZXh0SW5zdGFuY2UsXG4gICAgICBwb3BIeWRyYXRpb25TdGF0ZSA9IGh5ZHJhdGlvbkNvbnRleHQucG9wSHlkcmF0aW9uU3RhdGU7XG5cblxuICBmdW5jdGlvbiBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKSB7XG4gICAgLy8gVGFnIHRoZSBmaWJlciB3aXRoIGFuIHVwZGF0ZSBlZmZlY3QuIFRoaXMgdHVybnMgYSBQbGFjZW1lbnQgaW50b1xuICAgIC8vIGFuIFVwZGF0ZUFuZFBsYWNlbWVudC5cbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gVXBkYXRlO1xuICB9XG5cbiAgZnVuY3Rpb24gbWFya1JlZih3b3JrSW5Qcm9ncmVzcykge1xuICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBSZWY7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBlbmRBbGxSZXR1cm5zKHJldHVybnMsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgdmFyIG5vZGUgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgaWYgKG5vZGUpIHtcbiAgICAgIG5vZGVbJ3JldHVybiddID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgfVxuICAgIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgICBpZiAobm9kZS50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgbm9kZS50YWcgPT09IEhvc3RUZXh0IHx8IG5vZGUudGFnID09PSBIb3N0UG9ydGFsKSB7XG4gICAgICAgIGludmFyaWFudChmYWxzZSwgJ0EgY2FsbCBjYW5ub3QgaGF2ZSBob3N0IGNvbXBvbmVudCBjaGlsZHJlbi4nKTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZS50YWcgPT09IFJldHVybkNvbXBvbmVudCkge1xuICAgICAgICByZXR1cm5zLnB1c2gobm9kZS5wZW5kaW5nUHJvcHMudmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChub2RlLmNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgIG5vZGUuY2hpbGRbJ3JldHVybiddID0gbm9kZTtcbiAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgd2hpbGUgKG5vZGUuc2libGluZyA9PT0gbnVsbCkge1xuICAgICAgICBpZiAobm9kZVsncmV0dXJuJ10gPT09IG51bGwgfHwgbm9kZVsncmV0dXJuJ10gPT09IHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBub2RlWydyZXR1cm4nXTtcbiAgICAgIH1cbiAgICAgIG5vZGUuc2libGluZ1sncmV0dXJuJ10gPSBub2RlWydyZXR1cm4nXTtcbiAgICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbW92ZUNhbGxUb0hhbmRsZXJQaGFzZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICB2YXIgcHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzO1xuICAgICFwcm9wcyA/IGludmFyaWFudChmYWxzZSwgJ1Nob3VsZCBiZSByZXNvbHZlZCBieSBub3cuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG5cbiAgICAvLyBGaXJzdCBzdGVwIG9mIHRoZSBjYWxsIGhhcyBjb21wbGV0ZWQuIE5vdyB3ZSBuZWVkIHRvIGRvIHRoZSBzZWNvbmQuXG4gICAgLy8gVE9ETzogSXQgd291bGQgYmUgbmljZSB0byBoYXZlIGEgbXVsdGkgc3RhZ2UgY2FsbCByZXByZXNlbnRlZCBieSBhXG4gICAgLy8gc2luZ2xlIGNvbXBvbmVudCwgb3IgYXQgbGVhc3QgdGFpbCBjYWxsIG9wdGltaXplIG5lc3RlZCBvbmVzLiBDdXJyZW50bHlcbiAgICAvLyB0aGF0IHJlcXVpcmVzIGFkZGl0aW9uYWwgZmllbGRzIHRoYXQgd2UgZG9uJ3Qgd2FudCB0byBhZGQgdG8gdGhlIGZpYmVyLlxuICAgIC8vIFNvIHRoaXMgcmVxdWlyZXMgbmVzdGVkIGhhbmRsZXJzLlxuICAgIC8vIE5vdGU6IFRoaXMgZG9lc24ndCBtdXRhdGUgdGhlIGFsdGVybmF0ZSBub2RlLiBJIGRvbid0IHRoaW5rIGl0IG5lZWRzIHRvXG4gICAgLy8gc2luY2UgdGhpcyBzdGFnZSBpcyByZXNldCBmb3IgZXZlcnkgcGFzcy5cbiAgICB3b3JrSW5Qcm9ncmVzcy50YWcgPSBDYWxsSGFuZGxlclBoYXNlO1xuXG4gICAgLy8gQnVpbGQgdXAgdGhlIHJldHVybnMuXG4gICAgLy8gVE9ETzogQ29tcGFyZSB0aGlzIHRvIGEgZ2VuZXJhdG9yIG9yIG9wYXF1ZSBoZWxwZXJzIGxpa2UgQ2hpbGRyZW4uXG4gICAgdmFyIHJldHVybnMgPSBbXTtcbiAgICBhcHBlbmRBbGxSZXR1cm5zKHJldHVybnMsIHdvcmtJblByb2dyZXNzKTtcbiAgICB2YXIgZm4gPSBwcm9wcy5oYW5kbGVyO1xuICAgIHZhciBjaGlsZFByb3BzID0gcHJvcHMucHJvcHM7XG4gICAgdmFyIG5leHRDaGlsZHJlbiA9IGZuKGNoaWxkUHJvcHMsIHJldHVybnMpO1xuXG4gICAgdmFyIGN1cnJlbnRGaXJzdENoaWxkID0gY3VycmVudCAhPT0gbnVsbCA/IGN1cnJlbnQuY2hpbGQgOiBudWxsO1xuICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID0gcmVjb25jaWxlQ2hpbGRGaWJlcnMod29ya0luUHJvZ3Jlc3MsIGN1cnJlbnRGaXJzdENoaWxkLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBlbmRBbGxDaGlsZHJlbihwYXJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgLy8gV2Ugb25seSBoYXZlIHRoZSB0b3AgRmliZXIgdGhhdCB3YXMgY3JlYXRlZCBidXQgd2UgbmVlZCByZWN1cnNlIGRvd24gaXRzXG4gICAgLy8gY2hpbGRyZW4gdG8gZmluZCBhbGwgdGhlIHRlcm1pbmFsIG5vZGVzLlxuICAgIHZhciBub2RlID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgd2hpbGUgKG5vZGUgIT09IG51bGwpIHtcbiAgICAgIGlmIChub2RlLnRhZyA9PT0gSG9zdENvbXBvbmVudCB8fCBub2RlLnRhZyA9PT0gSG9zdFRleHQpIHtcbiAgICAgICAgYXBwZW5kSW5pdGlhbENoaWxkKHBhcmVudCwgbm9kZS5zdGF0ZU5vZGUpO1xuICAgICAgfSBlbHNlIGlmIChub2RlLnRhZyA9PT0gSG9zdFBvcnRhbCkge1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgcG9ydGFsIGNoaWxkLCB0aGVuIHdlIGRvbid0IHdhbnQgdG8gdHJhdmVyc2VcbiAgICAgICAgLy8gZG93biBpdHMgY2hpbGRyZW4uIEluc3RlYWQsIHdlJ2xsIGdldCBpbnNlcnRpb25zIGZyb20gZWFjaCBjaGlsZCBpblxuICAgICAgICAvLyB0aGUgcG9ydGFsIGRpcmVjdGx5LlxuICAgICAgfSBlbHNlIGlmIChub2RlLmNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgIG5vZGUuY2hpbGRbJ3JldHVybiddID0gbm9kZTtcbiAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUgPT09IHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChub2RlLnNpYmxpbmcgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKG5vZGVbJ3JldHVybiddID09PSBudWxsIHx8IG5vZGVbJ3JldHVybiddID09PSB3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZVsncmV0dXJuJ107XG4gICAgICB9XG4gICAgICBub2RlLnNpYmxpbmdbJ3JldHVybiddID0gbm9kZVsncmV0dXJuJ107XG4gICAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICAgIH1cbiAgfVxuXG4gIHZhciB1cGRhdGVIb3N0Q29udGFpbmVyID0gdm9pZCAwO1xuICB2YXIgdXBkYXRlSG9zdENvbXBvbmVudCA9IHZvaWQgMDtcbiAgdmFyIHVwZGF0ZUhvc3RUZXh0ID0gdm9pZCAwO1xuICBpZiAobXV0YXRpb24pIHtcbiAgICBpZiAoZW5hYmxlTXV0YXRpbmdSZWNvbmNpbGVyKSB7XG4gICAgICAvLyBNdXRhdGlvbiBtb2RlXG4gICAgICB1cGRhdGVIb3N0Q29udGFpbmVyID0gZnVuY3Rpb24gKHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgIC8vIE5vb3BcbiAgICAgIH07XG4gICAgICB1cGRhdGVIb3N0Q29tcG9uZW50ID0gZnVuY3Rpb24gKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCB1cGRhdGVQYXlsb2FkLCB0eXBlLCBvbGRQcm9wcywgbmV3UHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgY3VycmVudEhvc3RDb250ZXh0KSB7XG4gICAgICAgIC8vIFRPRE86IFR5cGUgdGhpcyBzcGVjaWZpYyB0byB0aGlzIHR5cGUgb2YgY29tcG9uZW50LlxuICAgICAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IHVwZGF0ZVBheWxvYWQ7XG4gICAgICAgIC8vIElmIHRoZSB1cGRhdGUgcGF5bG9hZCBpbmRpY2F0ZXMgdGhhdCB0aGVyZSBpcyBhIGNoYW5nZSBvciBpZiB0aGVyZVxuICAgICAgICAvLyBpcyBhIG5ldyByZWYgd2UgbWFyayB0aGlzIGFzIGFuIHVwZGF0ZS4gQWxsIHRoZSB3b3JrIGlzIGRvbmUgaW4gY29tbWl0V29yay5cbiAgICAgICAgaWYgKHVwZGF0ZVBheWxvYWQpIHtcbiAgICAgICAgICBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHVwZGF0ZUhvc3RUZXh0ID0gZnVuY3Rpb24gKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBvbGRUZXh0LCBuZXdUZXh0KSB7XG4gICAgICAgIC8vIElmIHRoZSB0ZXh0IGRpZmZlcnMsIG1hcmsgaXQgYXMgYW4gdXBkYXRlLiBBbGwgdGhlIHdvcmsgaW4gZG9uZSBpbiBjb21taXRXb3JrLlxuICAgICAgICBpZiAob2xkVGV4dCAhPT0gbmV3VGV4dCkge1xuICAgICAgICAgIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnZhcmlhbnQoZmFsc2UsICdNdXRhdGluZyByZWNvbmNpbGVyIGlzIGRpc2FibGVkLicpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChwZXJzaXN0ZW5jZSkge1xuICAgIGlmIChlbmFibGVQZXJzaXN0ZW50UmVjb25jaWxlcikge1xuICAgICAgLy8gUGVyc2lzdGVudCBob3N0IHRyZWUgbW9kZVxuICAgICAgdmFyIGNsb25lSW5zdGFuY2UgPSBwZXJzaXN0ZW5jZS5jbG9uZUluc3RhbmNlLFxuICAgICAgICAgIGNyZWF0ZUNvbnRhaW5lckNoaWxkU2V0ID0gcGVyc2lzdGVuY2UuY3JlYXRlQ29udGFpbmVyQ2hpbGRTZXQsXG4gICAgICAgICAgYXBwZW5kQ2hpbGRUb0NvbnRhaW5lckNoaWxkU2V0ID0gcGVyc2lzdGVuY2UuYXBwZW5kQ2hpbGRUb0NvbnRhaW5lckNoaWxkU2V0LFxuICAgICAgICAgIGZpbmFsaXplQ29udGFpbmVyQ2hpbGRyZW4gPSBwZXJzaXN0ZW5jZS5maW5hbGl6ZUNvbnRhaW5lckNoaWxkcmVuO1xuXG4gICAgICAvLyBBbiB1bmZvcnR1bmF0ZSBmb3JrIG9mIGFwcGVuZEFsbENoaWxkcmVuIGJlY2F1c2Ugd2UgaGF2ZSB0d28gZGlmZmVyZW50IHBhcmVudCB0eXBlcy5cblxuICAgICAgdmFyIGFwcGVuZEFsbENoaWxkcmVuVG9Db250YWluZXIgPSBmdW5jdGlvbiAoY29udGFpbmVyQ2hpbGRTZXQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgIC8vIFdlIG9ubHkgaGF2ZSB0aGUgdG9wIEZpYmVyIHRoYXQgd2FzIGNyZWF0ZWQgYnV0IHdlIG5lZWQgcmVjdXJzZSBkb3duIGl0c1xuICAgICAgICAvLyBjaGlsZHJlbiB0byBmaW5kIGFsbCB0aGUgdGVybWluYWwgbm9kZXMuXG4gICAgICAgIHZhciBub2RlID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgICAgIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgaWYgKG5vZGUudGFnID09PSBIb3N0Q29tcG9uZW50IHx8IG5vZGUudGFnID09PSBIb3N0VGV4dCkge1xuICAgICAgICAgICAgYXBwZW5kQ2hpbGRUb0NvbnRhaW5lckNoaWxkU2V0KGNvbnRhaW5lckNoaWxkU2V0LCBub2RlLnN0YXRlTm9kZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChub2RlLnRhZyA9PT0gSG9zdFBvcnRhbCkge1xuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHBvcnRhbCBjaGlsZCwgdGhlbiB3ZSBkb24ndCB3YW50IHRvIHRyYXZlcnNlXG4gICAgICAgICAgICAvLyBkb3duIGl0cyBjaGlsZHJlbi4gSW5zdGVhZCwgd2UnbGwgZ2V0IGluc2VydGlvbnMgZnJvbSBlYWNoIGNoaWxkIGluXG4gICAgICAgICAgICAvLyB0aGUgcG9ydGFsIGRpcmVjdGx5LlxuICAgICAgICAgIH0gZWxzZSBpZiAobm9kZS5jaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbm9kZS5jaGlsZFsncmV0dXJuJ10gPSBub2RlO1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5vZGUgPT09IHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHdoaWxlIChub2RlLnNpYmxpbmcgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChub2RlWydyZXR1cm4nXSA9PT0gbnVsbCB8fCBub2RlWydyZXR1cm4nXSA9PT0gd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZSA9IG5vZGVbJ3JldHVybiddO1xuICAgICAgICAgIH1cbiAgICAgICAgICBub2RlLnNpYmxpbmdbJ3JldHVybiddID0gbm9kZVsncmV0dXJuJ107XG4gICAgICAgICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHVwZGF0ZUhvc3RDb250YWluZXIgPSBmdW5jdGlvbiAod29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgdmFyIHBvcnRhbE9yUm9vdCA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgdmFyIGNoaWxkcmVuVW5jaGFuZ2VkID0gd29ya0luUHJvZ3Jlc3MuZmlyc3RFZmZlY3QgPT09IG51bGw7XG4gICAgICAgIGlmIChjaGlsZHJlblVuY2hhbmdlZCkge1xuICAgICAgICAgIC8vIE5vIGNoYW5nZXMsIGp1c3QgcmV1c2UgdGhlIGV4aXN0aW5nIGluc3RhbmNlLlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBjb250YWluZXIgPSBwb3J0YWxPclJvb3QuY29udGFpbmVySW5mbztcbiAgICAgICAgICB2YXIgbmV3Q2hpbGRTZXQgPSBjcmVhdGVDb250YWluZXJDaGlsZFNldChjb250YWluZXIpO1xuICAgICAgICAgIC8vIElmIGNoaWxkcmVuIG1pZ2h0IGhhdmUgY2hhbmdlZCwgd2UgaGF2ZSB0byBhZGQgdGhlbSBhbGwgdG8gdGhlIHNldC5cbiAgICAgICAgICBhcHBlbmRBbGxDaGlsZHJlblRvQ29udGFpbmVyKG5ld0NoaWxkU2V0LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgcG9ydGFsT3JSb290LnBlbmRpbmdDaGlsZHJlbiA9IG5ld0NoaWxkU2V0O1xuICAgICAgICAgIC8vIFNjaGVkdWxlIGFuIHVwZGF0ZSBvbiB0aGUgY29udGFpbmVyIHRvIHN3YXAgb3V0IHRoZSBjb250YWluZXIuXG4gICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgZmluYWxpemVDb250YWluZXJDaGlsZHJlbihjb250YWluZXIsIG5ld0NoaWxkU2V0KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHVwZGF0ZUhvc3RDb21wb25lbnQgPSBmdW5jdGlvbiAoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHVwZGF0ZVBheWxvYWQsIHR5cGUsIG9sZFByb3BzLCBuZXdQcm9wcywgcm9vdENvbnRhaW5lckluc3RhbmNlLCBjdXJyZW50SG9zdENvbnRleHQpIHtcbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vIGVmZmVjdHMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbm9kZSwgdGhlbiBub25lIG9mIG91ciBjaGlsZHJlbiBoYWQgYW55IHVwZGF0ZXMuXG4gICAgICAgIC8vIFRoaXMgZ3VhcmFudGVlcyB0aGF0IHdlIGNhbiByZXVzZSBhbGwgb2YgdGhlbS5cbiAgICAgICAgdmFyIGNoaWxkcmVuVW5jaGFuZ2VkID0gd29ya0luUHJvZ3Jlc3MuZmlyc3RFZmZlY3QgPT09IG51bGw7XG4gICAgICAgIHZhciBjdXJyZW50SW5zdGFuY2UgPSBjdXJyZW50LnN0YXRlTm9kZTtcbiAgICAgICAgaWYgKGNoaWxkcmVuVW5jaGFuZ2VkICYmIHVwZGF0ZVBheWxvYWQgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBObyBjaGFuZ2VzLCBqdXN0IHJldXNlIHRoZSBleGlzdGluZyBpbnN0YW5jZS5cbiAgICAgICAgICAvLyBOb3RlIHRoYXQgdGhpcyBtaWdodCByZWxlYXNlIGEgcHJldmlvdXMgY2xvbmUuXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gY3VycmVudEluc3RhbmNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciByZWN5Y2xhYmxlSW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICAgICAgdmFyIG5ld0luc3RhbmNlID0gY2xvbmVJbnN0YW5jZShjdXJyZW50SW5zdGFuY2UsIHVwZGF0ZVBheWxvYWQsIHR5cGUsIG9sZFByb3BzLCBuZXdQcm9wcywgd29ya0luUHJvZ3Jlc3MsIGNoaWxkcmVuVW5jaGFuZ2VkLCByZWN5Y2xhYmxlSW5zdGFuY2UpO1xuICAgICAgICAgIGlmIChmaW5hbGl6ZUluaXRpYWxDaGlsZHJlbihuZXdJbnN0YW5jZSwgdHlwZSwgbmV3UHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgY3VycmVudEhvc3RDb250ZXh0KSkge1xuICAgICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IG5ld0luc3RhbmNlO1xuICAgICAgICAgIGlmIChjaGlsZHJlblVuY2hhbmdlZCkge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vIG90aGVyIGVmZmVjdHMgaW4gdGhpcyB0cmVlLCB3ZSBuZWVkIHRvIGZsYWcgdGhpcyBub2RlIGFzIGhhdmluZyBvbmUuXG4gICAgICAgICAgICAvLyBFdmVuIHRob3VnaCB3ZSdyZSBub3QgZ29pbmcgdG8gdXNlIGl0IGZvciBhbnl0aGluZy5cbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSBwYXJlbnRzIHdvbid0IGtub3cgdGhhdCB0aGVyZSBhcmUgbmV3IGNoaWxkcmVuIHRvIHByb3BhZ2F0ZSB1cHdhcmRzLlxuICAgICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIGNoaWxkcmVuIG1pZ2h0IGhhdmUgY2hhbmdlZCwgd2UgaGF2ZSB0byBhZGQgdGhlbSBhbGwgdG8gdGhlIHNldC5cbiAgICAgICAgICAgIGFwcGVuZEFsbENoaWxkcmVuKG5ld0luc3RhbmNlLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdXBkYXRlSG9zdFRleHQgPSBmdW5jdGlvbiAoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG9sZFRleHQsIG5ld1RleHQpIHtcbiAgICAgICAgaWYgKG9sZFRleHQgIT09IG5ld1RleHQpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgdGV4dCBjb250ZW50IGRpZmZlcnMsIHdlJ2xsIGNyZWF0ZSBhIG5ldyB0ZXh0IGluc3RhbmNlIGZvciBpdC5cbiAgICAgICAgICB2YXIgcm9vdENvbnRhaW5lckluc3RhbmNlID0gZ2V0Um9vdEhvc3RDb250YWluZXIoKTtcbiAgICAgICAgICB2YXIgY3VycmVudEhvc3RDb250ZXh0ID0gZ2V0SG9zdENvbnRleHQoKTtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBjcmVhdGVUZXh0SW5zdGFuY2UobmV3VGV4dCwgcm9vdENvbnRhaW5lckluc3RhbmNlLCBjdXJyZW50SG9zdENvbnRleHQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAvLyBXZSdsbCBoYXZlIHRvIG1hcmsgaXQgYXMgaGF2aW5nIGFuIGVmZmVjdCwgZXZlbiB0aG91Z2ggd2Ugd29uJ3QgdXNlIHRoZSBlZmZlY3QgZm9yIGFueXRoaW5nLlxuICAgICAgICAgIC8vIFRoaXMgbGV0cyB0aGUgcGFyZW50cyBrbm93IHRoYXQgYXQgbGVhc3Qgb25lIG9mIHRoZWlyIGNoaWxkcmVuIGhhcyBjaGFuZ2VkLlxuICAgICAgICAgIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnZhcmlhbnQoZmFsc2UsICdQZXJzaXN0ZW50IHJlY29uY2lsZXIgaXMgZGlzYWJsZWQuJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChlbmFibGVOb29wUmVjb25jaWxlcikge1xuICAgICAgLy8gTm8gaG9zdCBvcGVyYXRpb25zXG4gICAgICB1cGRhdGVIb3N0Q29udGFpbmVyID0gZnVuY3Rpb24gKHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgIC8vIE5vb3BcbiAgICAgIH07XG4gICAgICB1cGRhdGVIb3N0Q29tcG9uZW50ID0gZnVuY3Rpb24gKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCB1cGRhdGVQYXlsb2FkLCB0eXBlLCBvbGRQcm9wcywgbmV3UHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgY3VycmVudEhvc3RDb250ZXh0KSB7XG4gICAgICAgIC8vIE5vb3BcbiAgICAgIH07XG4gICAgICB1cGRhdGVIb3N0VGV4dCA9IGZ1bmN0aW9uIChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgb2xkVGV4dCwgbmV3VGV4dCkge1xuICAgICAgICAvLyBOb29wXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnZhcmlhbnQoZmFsc2UsICdOb29wIHJlY29uY2lsZXIgaXMgZGlzYWJsZWQuJyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tcGxldGVXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgIHZhciBuZXdQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgICAgY2FzZSBGdW5jdGlvbmFsQ29tcG9uZW50OlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICAvLyBXZSBhcmUgbGVhdmluZyB0aGlzIHN1YnRyZWUsIHNvIHBvcCBjb250ZXh0IGlmIGFueS5cbiAgICAgICAgICBwb3BMZWdhY3lDb250ZXh0UHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgICAgICAgLy8gSWYgdGhpcyBjb21wb25lbnQgY2F1Z2h0IGFuIGVycm9yLCBzY2hlZHVsZSBhbiBlcnJvciBsb2cgZWZmZWN0LlxuICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgICB2YXIgdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICAgICAgICBpZiAodXBkYXRlUXVldWUgIT09IG51bGwgJiYgdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyAmPSB+RGlkQ2FwdHVyZTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkQ2F0Y2ggPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IEVyckxvZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIE5vcm1hbGx5IHdlIGNsZWFyIHRoaXMgaW4gdGhlIGNvbW1pdCBwaGFzZSwgYnV0IHNpbmNlIHdlIGRpZCBub3RcbiAgICAgICAgICAgICAgLy8gc2NoZWR1bGUgYW4gZWZmZWN0LCB3ZSBuZWVkIHRvIHJlc2V0IGl0IGhlcmUuXG4gICAgICAgICAgICAgIHVwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgIHtcbiAgICAgICAgICBwb3BIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBwb3BUb3BMZXZlbExlZ2FjeUNvbnRleHRPYmplY3Qod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHZhciBmaWJlclJvb3QgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICAgICAgaWYgKGZpYmVyUm9vdC5wZW5kaW5nQ29udGV4dCkge1xuICAgICAgICAgICAgZmliZXJSb290LmNvbnRleHQgPSBmaWJlclJvb3QucGVuZGluZ0NvbnRleHQ7XG4gICAgICAgICAgICBmaWJlclJvb3QucGVuZGluZ0NvbnRleHQgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY3VycmVudCA9PT0gbnVsbCB8fCBjdXJyZW50LmNoaWxkID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBoeWRyYXRlZCwgcG9wIHNvIHRoYXQgd2UgY2FuIGRlbGV0ZSBhbnkgcmVtYWluaW5nIGNoaWxkcmVuXG4gICAgICAgICAgICAvLyB0aGF0IHdlcmVuJ3QgaHlkcmF0ZWQuXG4gICAgICAgICAgICBwb3BIeWRyYXRpb25TdGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICAvLyBUaGlzIHJlc2V0cyB0aGUgaGFja3kgc3RhdGUgdG8gZml4IGlzTW91bnRlZCBiZWZvcmUgY29tbWl0dGluZy5cbiAgICAgICAgICAgIC8vIFRPRE86IERlbGV0ZSB0aGlzIHdoZW4gd2UgZGVsZXRlIGlzTW91bnRlZCBhbmQgZmluZERPTU5vZGUuXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgJj0gflBsYWNlbWVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdXBkYXRlSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgICAgICAgICB2YXIgX3VwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgICAgICAgaWYgKF91cGRhdGVRdWV1ZSAhPT0gbnVsbCAmJiBfdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBFcnJMb2c7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICBwb3BIb3N0Q29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgdmFyIHJvb3RDb250YWluZXJJbnN0YW5jZSA9IGdldFJvb3RIb3N0Q29udGFpbmVyKCk7XG4gICAgICAgICAgdmFyIHR5cGUgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgICAgICAgIGlmIChjdXJyZW50ICE9PSBudWxsICYmIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGFuIGFsdGVybmF0ZSwgdGhhdCBtZWFucyB0aGlzIGlzIGFuIHVwZGF0ZSBhbmQgd2UgbmVlZCB0b1xuICAgICAgICAgICAgLy8gc2NoZWR1bGUgYSBzaWRlLWVmZmVjdCB0byBkbyB0aGUgdXBkYXRlcy5cbiAgICAgICAgICAgIHZhciBvbGRQcm9wcyA9IGN1cnJlbnQubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICAgIC8vIElmIHdlIGdldCB1cGRhdGVkIGJlY2F1c2Ugb25lIG9mIG91ciBjaGlsZHJlbiB1cGRhdGVkLCB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gaGF2ZSBuZXdQcm9wcyBzbyB3ZSdsbCBoYXZlIHRvIHJldXNlIHRoZW0uXG4gICAgICAgICAgICAvLyBUT0RPOiBTcGxpdCB0aGUgdXBkYXRlIEFQSSBhcyBzZXBhcmF0ZSBmb3IgdGhlIHByb3BzIHZzLiBjaGlsZHJlbi5cbiAgICAgICAgICAgIC8vIEV2ZW4gYmV0dGVyIHdvdWxkIGJlIGlmIGNoaWxkcmVuIHdlcmVuJ3Qgc3BlY2lhbCBjYXNlZCBhdCBhbGwgdGhvLlxuICAgICAgICAgICAgdmFyIF9pbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50SG9zdENvbnRleHQgPSBnZXRIb3N0Q29udGV4dCgpO1xuICAgICAgICAgICAgLy8gVE9ETzogRXhwZXJpZW5jaW5nIGFuIGVycm9yIHdoZXJlIG9sZFByb3BzIGlzIG51bGwuIFN1Z2dlc3RzIGEgaG9zdFxuICAgICAgICAgICAgLy8gY29tcG9uZW50IGlzIGhpdHRpbmcgdGhlIHJlc3VtZSBwYXRoLiBGaWd1cmUgb3V0IHdoeS4gUG9zc2libHlcbiAgICAgICAgICAgIC8vIHJlbGF0ZWQgdG8gYGhpZGRlbmAuXG4gICAgICAgICAgICB2YXIgdXBkYXRlUGF5bG9hZCA9IHByZXBhcmVVcGRhdGUoX2luc3RhbmNlLCB0eXBlLCBvbGRQcm9wcywgbmV3UHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgY3VycmVudEhvc3RDb250ZXh0KTtcblxuICAgICAgICAgICAgdXBkYXRlSG9zdENvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgdXBkYXRlUGF5bG9hZCwgdHlwZSwgb2xkUHJvcHMsIG5ld1Byb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UsIGN1cnJlbnRIb3N0Q29udGV4dCk7XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50LnJlZiAhPT0gd29ya0luUHJvZ3Jlc3MucmVmKSB7XG4gICAgICAgICAgICAgIG1hcmtSZWYod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIW5ld1Byb3BzKSB7XG4gICAgICAgICAgICAgICEod29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlICE9PSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ1dlIG11c3QgaGF2ZSBuZXcgcHJvcHMgZm9yIG5ldyBtb3VudHMuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIC8vIFRoaXMgY2FuIGhhcHBlbiB3aGVuIHdlIGFib3J0IHdvcmsuXG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgX2N1cnJlbnRIb3N0Q29udGV4dCA9IGdldEhvc3RDb250ZXh0KCk7XG4gICAgICAgICAgICAvLyBUT0RPOiBNb3ZlIGNyZWF0ZUluc3RhbmNlIHRvIGJlZ2luV29yayBhbmQga2VlcCBpdCBvbiBhIGNvbnRleHRcbiAgICAgICAgICAgIC8vIFwic3RhY2tcIiBhcyB0aGUgcGFyZW50LiBUaGVuIGFwcGVuZCBjaGlsZHJlbiBhcyB3ZSBnbyBpbiBiZWdpbldvcmtcbiAgICAgICAgICAgIC8vIG9yIGNvbXBsZXRlV29yayBkZXBlbmRpbmcgb24gd2Ugd2FudCB0byBhZGQgdGhlbiB0b3AtPmRvd24gb3JcbiAgICAgICAgICAgIC8vIGJvdHRvbS0+dXAuIFRvcC0+ZG93biBpcyBmYXN0ZXIgaW4gSUUxMS5cbiAgICAgICAgICAgIHZhciB3YXNIeWRyYXRlZCA9IHBvcEh5ZHJhdGlvblN0YXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgIGlmICh3YXNIeWRyYXRlZCkge1xuICAgICAgICAgICAgICAvLyBUT0RPOiBNb3ZlIHRoaXMgYW5kIGNyZWF0ZUluc3RhbmNlIHN0ZXAgaW50byB0aGUgYmVnaW5QaGFzZVxuICAgICAgICAgICAgICAvLyB0byBjb25zb2xpZGF0ZS5cbiAgICAgICAgICAgICAgaWYgKHByZXBhcmVUb0h5ZHJhdGVIb3N0SW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgX2N1cnJlbnRIb3N0Q29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBjaGFuZ2VzIHRvIHRoZSBoeWRyYXRlZCBub2RlIG5lZWRzIHRvIGJlIGFwcGxpZWQgYXQgdGhlXG4gICAgICAgICAgICAgICAgLy8gY29tbWl0LXBoYXNlIHdlIG1hcmsgdGhpcyBhcyBzdWNoLlxuICAgICAgICAgICAgICAgIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2YXIgX2luc3RhbmNlMiA9IGNyZWF0ZUluc3RhbmNlKHR5cGUsIG5ld1Byb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UsIF9jdXJyZW50SG9zdENvbnRleHQsIHdvcmtJblByb2dyZXNzKTtcblxuICAgICAgICAgICAgICBhcHBlbmRBbGxDaGlsZHJlbihfaW5zdGFuY2UyLCB3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgICAgICAgICAgICAgLy8gQ2VydGFpbiByZW5kZXJlcnMgcmVxdWlyZSBjb21taXQtdGltZSBlZmZlY3RzIGZvciBpbml0aWFsIG1vdW50LlxuICAgICAgICAgICAgICAvLyAoZWcgRE9NIHJlbmRlcmVyIHN1cHBvcnRzIGF1dG8tZm9jdXMgZm9yIGNlcnRhaW4gZWxlbWVudHMpLlxuICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgc3VjaCByZW5kZXJlcnMgZ2V0IHNjaGVkdWxlZCBmb3IgbGF0ZXIgd29yay5cbiAgICAgICAgICAgICAgaWYgKGZpbmFsaXplSW5pdGlhbENoaWxkcmVuKF9pbnN0YW5jZTIsIHR5cGUsIG5ld1Byb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UsIF9jdXJyZW50SG9zdENvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gX2luc3RhbmNlMjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHdvcmtJblByb2dyZXNzLnJlZiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIHJlZiBvbiBhIGhvc3Qgbm9kZSB3ZSBuZWVkIHRvIHNjaGVkdWxlIGEgY2FsbGJhY2tcbiAgICAgICAgICAgICAgbWFya1JlZih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICBjYXNlIEhvc3RUZXh0OlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIG5ld1RleHQgPSBuZXdQcm9wcztcbiAgICAgICAgICBpZiAoY3VycmVudCAmJiB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIG9sZFRleHQgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGFuIGFsdGVybmF0ZSwgdGhhdCBtZWFucyB0aGlzIGlzIGFuIHVwZGF0ZSBhbmQgd2UgbmVlZFxuICAgICAgICAgICAgLy8gdG8gc2NoZWR1bGUgYSBzaWRlLWVmZmVjdCB0byBkbyB0aGUgdXBkYXRlcy5cbiAgICAgICAgICAgIHVwZGF0ZUhvc3RUZXh0KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBvbGRUZXh0LCBuZXdUZXh0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXdUZXh0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAhKHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSAhPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdXZSBtdXN0IGhhdmUgbmV3IHByb3BzIGZvciBuZXcgbW91bnRzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICAgICAgICAgICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gd2hlbiB3ZSBhYm9ydCB3b3JrLlxuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfcm9vdENvbnRhaW5lckluc3RhbmNlID0gZ2V0Um9vdEhvc3RDb250YWluZXIoKTtcbiAgICAgICAgICAgIHZhciBfY3VycmVudEhvc3RDb250ZXh0MiA9IGdldEhvc3RDb250ZXh0KCk7XG4gICAgICAgICAgICB2YXIgX3dhc0h5ZHJhdGVkID0gcG9wSHlkcmF0aW9uU3RhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgaWYgKF93YXNIeWRyYXRlZCkge1xuICAgICAgICAgICAgICBpZiAocHJlcGFyZVRvSHlkcmF0ZUhvc3RUZXh0SW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MpKSB7XG4gICAgICAgICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGNyZWF0ZVRleHRJbnN0YW5jZShuZXdUZXh0LCBfcm9vdENvbnRhaW5lckluc3RhbmNlLCBfY3VycmVudEhvc3RDb250ZXh0Miwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgY2FzZSBDYWxsQ29tcG9uZW50OlxuICAgICAgICByZXR1cm4gbW92ZUNhbGxUb0hhbmRsZXJQaGFzZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgY2FzZSBDYWxsSGFuZGxlclBoYXNlOlxuICAgICAgICAvLyBSZXNldCB0aGUgdGFnIHRvIG5vdyBiZSBhIGZpcnN0IHBoYXNlIGNhbGwuXG4gICAgICAgIHdvcmtJblByb2dyZXNzLnRhZyA9IENhbGxDb21wb25lbnQ7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSBSZXR1cm5Db21wb25lbnQ6XG4gICAgICAgIC8vIERvZXMgbm90aGluZy5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBjYXNlIEZvcndhcmRSZWY6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSBGcmFnbWVudDpcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBjYXNlIE1vZGU6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAgICBwb3BIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgdXBkYXRlSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSBDb250ZXh0UHJvdmlkZXI6XG4gICAgICAgIC8vIFBvcCBwcm92aWRlciBmaWJlclxuICAgICAgICBwb3BQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSBDb250ZXh0Q29uc3VtZXI6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgLy8gRXJyb3IgY2FzZXNcbiAgICAgIGNhc2UgSW5kZXRlcm1pbmF0ZUNvbXBvbmVudDpcbiAgICAgICAgaW52YXJpYW50KGZhbHNlLCAnQW4gaW5kZXRlcm1pbmF0ZSBjb21wb25lbnQgc2hvdWxkIGhhdmUgYmVjb21lIGRldGVybWluYXRlIGJlZm9yZSBjb21wbGV0aW5nLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWZhbGx0aHJvdWdoXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpbnZhcmlhbnQoZmFsc2UsICdVbmtub3duIHVuaXQgb2Ygd29yayB0YWcuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBjb21wbGV0ZVdvcms6IGNvbXBsZXRlV29ya1xuICB9O1xufTtcblxuZnVuY3Rpb24gY3JlYXRlQ2FwdHVyZWRWYWx1ZSh2YWx1ZSwgc291cmNlKSB7XG4gIC8vIElmIHRoZSB2YWx1ZSBpcyBhbiBlcnJvciwgY2FsbCB0aGlzIGZ1bmN0aW9uIGltbWVkaWF0ZWx5IGFmdGVyIGl0IGlzIHRocm93blxuICAvLyBzbyB0aGUgc3RhY2sgaXMgYWNjdXJhdGUuXG4gIHJldHVybiB7XG4gICAgdmFsdWU6IHZhbHVlLFxuICAgIHNvdXJjZTogc291cmNlLFxuICAgIHN0YWNrOiBnZXRTdGFja0FkZGVuZHVtQnlXb3JrSW5Qcm9ncmVzc0ZpYmVyKHNvdXJjZSlcbiAgfTtcbn1cblxudmFyIFJlYWN0RmliZXJVbndpbmRXb3JrID0gZnVuY3Rpb24gKGhvc3RDb250ZXh0LCBsZWdhY3lDb250ZXh0LCBuZXdDb250ZXh0LCBzY2hlZHVsZVdvcmssIGlzQWxyZWFkeUZhaWxlZExlZ2FjeUVycm9yQm91bmRhcnkpIHtcbiAgdmFyIHBvcEhvc3RDb250YWluZXIgPSBob3N0Q29udGV4dC5wb3BIb3N0Q29udGFpbmVyLFxuICAgICAgcG9wSG9zdENvbnRleHQgPSBob3N0Q29udGV4dC5wb3BIb3N0Q29udGV4dDtcbiAgdmFyIHBvcExlZ2FjeUNvbnRleHRQcm92aWRlciA9IGxlZ2FjeUNvbnRleHQucG9wQ29udGV4dFByb3ZpZGVyLFxuICAgICAgcG9wVG9wTGV2ZWxMZWdhY3lDb250ZXh0T2JqZWN0ID0gbGVnYWN5Q29udGV4dC5wb3BUb3BMZXZlbENvbnRleHRPYmplY3Q7XG4gIHZhciBwb3BQcm92aWRlciA9IG5ld0NvbnRleHQucG9wUHJvdmlkZXI7XG5cblxuICBmdW5jdGlvbiB0aHJvd0V4Y2VwdGlvbihyZXR1cm5GaWJlciwgc291cmNlRmliZXIsIHJhd1ZhbHVlKSB7XG4gICAgLy8gVGhlIHNvdXJjZSBmaWJlciBkaWQgbm90IGNvbXBsZXRlLlxuICAgIHNvdXJjZUZpYmVyLmVmZmVjdFRhZyB8PSBJbmNvbXBsZXRlO1xuICAgIC8vIEl0cyBlZmZlY3QgbGlzdCBpcyBubyBsb25nZXIgdmFsaWQuXG4gICAgc291cmNlRmliZXIuZmlyc3RFZmZlY3QgPSBzb3VyY2VGaWJlci5sYXN0RWZmZWN0ID0gbnVsbDtcblxuICAgIHZhciB2YWx1ZSA9IGNyZWF0ZUNhcHR1cmVkVmFsdWUocmF3VmFsdWUsIHNvdXJjZUZpYmVyKTtcblxuICAgIHZhciB3b3JrSW5Qcm9ncmVzcyA9IHJldHVybkZpYmVyO1xuICAgIGRvIHtcbiAgICAgIHN3aXRjaCAod29ya0luUHJvZ3Jlc3MudGFnKSB7XG4gICAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgICAge1xuICAgICAgICAgICAgLy8gVW5jYXVnaHQgZXJyb3JcbiAgICAgICAgICAgIHZhciBlcnJvckluZm8gPSB2YWx1ZTtcbiAgICAgICAgICAgIGVuc3VyZVVwZGF0ZVF1ZXVlcyh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICB2YXIgdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICAgICAgICAgIHVwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzID0gW2Vycm9ySW5mb107XG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gU2hvdWxkQ2FwdHVyZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgICAgLy8gQ2FwdHVyZSBhbmQgcmV0cnlcbiAgICAgICAgICB2YXIgY3RvciA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgICAgICAgdmFyIF9pbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgICBpZiAoKHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyAmIERpZENhcHR1cmUpID09PSBOb0VmZmVjdCAmJiAodHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoID09PSAnZnVuY3Rpb24nICYmIGVuYWJsZUdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCB8fCBfaW5zdGFuY2UgIT09IG51bGwgJiYgdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnREaWRDYXRjaCA9PT0gJ2Z1bmN0aW9uJyAmJiAhaXNBbHJlYWR5RmFpbGVkTGVnYWN5RXJyb3JCb3VuZGFyeShfaW5zdGFuY2UpKSkge1xuICAgICAgICAgICAgZW5zdXJlVXBkYXRlUXVldWVzKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgIHZhciBfdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICAgICAgICAgIHZhciBjYXB0dXJlZFZhbHVlcyA9IF91cGRhdGVRdWV1ZS5jYXB0dXJlZFZhbHVlcztcbiAgICAgICAgICAgIGlmIChjYXB0dXJlZFZhbHVlcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICBfdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgPSBbdmFsdWVdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2FwdHVyZWRWYWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gU2hvdWxkQ2FwdHVyZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB3b3JrSW5Qcm9ncmVzcyA9IHdvcmtJblByb2dyZXNzWydyZXR1cm4nXTtcbiAgICB9IHdoaWxlICh3b3JrSW5Qcm9ncmVzcyAhPT0gbnVsbCk7XG4gIH1cblxuICBmdW5jdGlvbiB1bndpbmRXb3JrKHdvcmtJblByb2dyZXNzKSB7XG4gICAgc3dpdGNoICh3b3JrSW5Qcm9ncmVzcy50YWcpIHtcbiAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICBwb3BMZWdhY3lDb250ZXh0UHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHZhciBlZmZlY3RUYWcgPSB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWc7XG4gICAgICAgICAgaWYgKGVmZmVjdFRhZyAmIFNob3VsZENhcHR1cmUpIHtcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyA9IGVmZmVjdFRhZyAmIH5TaG91bGRDYXB0dXJlIHwgRGlkQ2FwdHVyZTtcbiAgICAgICAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgIHtcbiAgICAgICAgICBwb3BIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBwb3BUb3BMZXZlbExlZ2FjeUNvbnRleHRPYmplY3Qod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHZhciBfZWZmZWN0VGFnID0gd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnO1xuICAgICAgICAgIGlmIChfZWZmZWN0VGFnICYgU2hvdWxkQ2FwdHVyZSkge1xuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnID0gX2VmZmVjdFRhZyAmIH5TaG91bGRDYXB0dXJlIHwgRGlkQ2FwdHVyZTtcbiAgICAgICAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAge1xuICAgICAgICAgIHBvcEhvc3RDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAgICBwb3BIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBjYXNlIENvbnRleHRQcm92aWRlcjpcbiAgICAgICAgcG9wUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVud2luZEludGVycnVwdGVkV29yayhpbnRlcnJ1cHRlZFdvcmspIHtcbiAgICBzd2l0Y2ggKGludGVycnVwdGVkV29yay50YWcpIHtcbiAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICBwb3BMZWdhY3lDb250ZXh0UHJvdmlkZXIoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgICAge1xuICAgICAgICAgIHBvcEhvc3RDb250YWluZXIoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBwb3BUb3BMZXZlbExlZ2FjeUNvbnRleHRPYmplY3QoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICB7XG4gICAgICAgICAgcG9wSG9zdENvbnRleHQoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAgICBwb3BIb3N0Q29udGFpbmVyKGludGVycnVwdGVkV29yayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDb250ZXh0UHJvdmlkZXI6XG4gICAgICAgIHBvcFByb3ZpZGVyKGludGVycnVwdGVkV29yayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0aHJvd0V4Y2VwdGlvbjogdGhyb3dFeGNlcHRpb24sXG4gICAgdW53aW5kV29yazogdW53aW5kV29yayxcbiAgICB1bndpbmRJbnRlcnJ1cHRlZFdvcms6IHVud2luZEludGVycnVwdGVkV29ya1xuICB9O1xufTtcblxuLy8gVGhpcyBtb2R1bGUgaXMgZm9ya2VkIGluIGRpZmZlcmVudCBlbnZpcm9ubWVudHMuXG4vLyBCeSBkZWZhdWx0LCByZXR1cm4gYHRydWVgIHRvIGxvZyBlcnJvcnMgdG8gdGhlIGNvbnNvbGUuXG4vLyBGb3JrcyBjYW4gcmV0dXJuIGBmYWxzZWAgaWYgdGhpcyBpc24ndCBkZXNpcmFibGUuXG5mdW5jdGlvbiBzaG93RXJyb3JEaWFsb2coY2FwdHVyZWRFcnJvcikge1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gbG9nQ2FwdHVyZWRFcnJvcihjYXB0dXJlZEVycm9yKSB7XG4gIHZhciBsb2dFcnJvciA9IHNob3dFcnJvckRpYWxvZyhjYXB0dXJlZEVycm9yKTtcblxuICAvLyBBbGxvdyBpbmplY3RlZCBzaG93RXJyb3JEaWFsb2coKSB0byBwcmV2ZW50IGRlZmF1bHQgY29uc29sZS5lcnJvciBsb2dnaW5nLlxuICAvLyBUaGlzIGVuYWJsZXMgcmVuZGVyZXJzIGxpa2UgUmVhY3ROYXRpdmUgdG8gYmV0dGVyIG1hbmFnZSByZWRib3ggYmVoYXZpb3IuXG4gIGlmIChsb2dFcnJvciA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZXJyb3IgPSBjYXB0dXJlZEVycm9yLmVycm9yO1xuICB2YXIgc3VwcHJlc3NMb2dnaW5nID0gZXJyb3IgJiYgZXJyb3Iuc3VwcHJlc3NSZWFjdEVycm9yTG9nZ2luZztcbiAgaWYgKHN1cHByZXNzTG9nZ2luZykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHtcbiAgICB2YXIgY29tcG9uZW50TmFtZSA9IGNhcHR1cmVkRXJyb3IuY29tcG9uZW50TmFtZSxcbiAgICAgICAgY29tcG9uZW50U3RhY2sgPSBjYXB0dXJlZEVycm9yLmNvbXBvbmVudFN0YWNrLFxuICAgICAgICBlcnJvckJvdW5kYXJ5TmFtZSA9IGNhcHR1cmVkRXJyb3IuZXJyb3JCb3VuZGFyeU5hbWUsXG4gICAgICAgIGVycm9yQm91bmRhcnlGb3VuZCA9IGNhcHR1cmVkRXJyb3IuZXJyb3JCb3VuZGFyeUZvdW5kLFxuICAgICAgICB3aWxsUmV0cnkgPSBjYXB0dXJlZEVycm9yLndpbGxSZXRyeTtcblxuXG4gICAgdmFyIGNvbXBvbmVudE5hbWVNZXNzYWdlID0gY29tcG9uZW50TmFtZSA/ICdUaGUgYWJvdmUgZXJyb3Igb2NjdXJyZWQgaW4gdGhlIDwnICsgY29tcG9uZW50TmFtZSArICc+IGNvbXBvbmVudDonIDogJ1RoZSBhYm92ZSBlcnJvciBvY2N1cnJlZCBpbiBvbmUgb2YgeW91ciBSZWFjdCBjb21wb25lbnRzOic7XG5cbiAgICB2YXIgZXJyb3JCb3VuZGFyeU1lc3NhZ2UgPSB2b2lkIDA7XG4gICAgLy8gZXJyb3JCb3VuZGFyeUZvdW5kIGNoZWNrIGlzIHN1ZmZpY2llbnQ7IGVycm9yQm91bmRhcnlOYW1lIGNoZWNrIGlzIHRvIHNhdGlzZnkgRmxvdy5cbiAgICBpZiAoZXJyb3JCb3VuZGFyeUZvdW5kICYmIGVycm9yQm91bmRhcnlOYW1lKSB7XG4gICAgICBpZiAod2lsbFJldHJ5KSB7XG4gICAgICAgIGVycm9yQm91bmRhcnlNZXNzYWdlID0gJ1JlYWN0IHdpbGwgdHJ5IHRvIHJlY3JlYXRlIHRoaXMgY29tcG9uZW50IHRyZWUgZnJvbSBzY3JhdGNoICcgKyAoJ3VzaW5nIHRoZSBlcnJvciBib3VuZGFyeSB5b3UgcHJvdmlkZWQsICcgKyBlcnJvckJvdW5kYXJ5TmFtZSArICcuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlcnJvckJvdW5kYXJ5TWVzc2FnZSA9ICdUaGlzIGVycm9yIHdhcyBpbml0aWFsbHkgaGFuZGxlZCBieSB0aGUgZXJyb3IgYm91bmRhcnkgJyArIGVycm9yQm91bmRhcnlOYW1lICsgJy5cXG4nICsgJ1JlY3JlYXRpbmcgdGhlIHRyZWUgZnJvbSBzY3JhdGNoIGZhaWxlZCBzbyBSZWFjdCB3aWxsIHVubW91bnQgdGhlIHRyZWUuJztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZXJyb3JCb3VuZGFyeU1lc3NhZ2UgPSAnQ29uc2lkZXIgYWRkaW5nIGFuIGVycm9yIGJvdW5kYXJ5IHRvIHlvdXIgdHJlZSB0byBjdXN0b21pemUgZXJyb3IgaGFuZGxpbmcgYmVoYXZpb3IuXFxuJyArICdWaXNpdCBodHRwczovL2ZiLm1lL3JlYWN0LWVycm9yLWJvdW5kYXJpZXMgdG8gbGVhcm4gbW9yZSBhYm91dCBlcnJvciBib3VuZGFyaWVzLic7XG4gICAgfVxuICAgIHZhciBjb21iaW5lZE1lc3NhZ2UgPSAnJyArIGNvbXBvbmVudE5hbWVNZXNzYWdlICsgY29tcG9uZW50U3RhY2sgKyAnXFxuXFxuJyArICgnJyArIGVycm9yQm91bmRhcnlNZXNzYWdlKTtcblxuICAgIC8vIEluIGRldmVsb3BtZW50LCB3ZSBwcm92aWRlIG91ciBvd24gbWVzc2FnZSB3aXRoIGp1c3QgdGhlIGNvbXBvbmVudCBzdGFjay5cbiAgICAvLyBXZSBkb24ndCBpbmNsdWRlIHRoZSBvcmlnaW5hbCBlcnJvciBtZXNzYWdlIGFuZCBKUyBzdGFjayBiZWNhdXNlIHRoZSBicm93c2VyXG4gICAgLy8gaGFzIGFscmVhZHkgcHJpbnRlZCBpdC4gRXZlbiBpZiB0aGUgYXBwbGljYXRpb24gc3dhbGxvd3MgdGhlIGVycm9yLCBpdCBpcyBzdGlsbFxuICAgIC8vIGRpc3BsYXllZCBieSB0aGUgYnJvd3NlciB0aGFua3MgdG8gdGhlIERFVi1vbmx5IGZha2UgZXZlbnQgdHJpY2sgaW4gUmVhY3RFcnJvclV0aWxzLlxuICAgIGNvbnNvbGUuZXJyb3IoY29tYmluZWRNZXNzYWdlKTtcbiAgfVxufVxuXG52YXIgaW52b2tlR3VhcmRlZENhbGxiYWNrJDMgPSBSZWFjdEVycm9yVXRpbHMuaW52b2tlR3VhcmRlZENhbGxiYWNrO1xudmFyIGhhc0NhdWdodEVycm9yJDEgPSBSZWFjdEVycm9yVXRpbHMuaGFzQ2F1Z2h0RXJyb3I7XG52YXIgY2xlYXJDYXVnaHRFcnJvciQxID0gUmVhY3RFcnJvclV0aWxzLmNsZWFyQ2F1Z2h0RXJyb3I7XG5cblxudmFyIGRpZFdhcm5BYm91dFVuZGVmaW5lZFNuYXBzaG90QmVmb3JlVXBkYXRlID0gbnVsbDtcbntcbiAgZGlkV2FybkFib3V0VW5kZWZpbmVkU25hcHNob3RCZWZvcmVVcGRhdGUgPSBuZXcgU2V0KCk7XG59XG5cbmZ1bmN0aW9uIGxvZ0Vycm9yKGJvdW5kYXJ5LCBlcnJvckluZm8pIHtcbiAgdmFyIHNvdXJjZSA9IGVycm9ySW5mby5zb3VyY2U7XG4gIHZhciBzdGFjayA9IGVycm9ySW5mby5zdGFjaztcbiAgaWYgKHN0YWNrID09PSBudWxsKSB7XG4gICAgc3RhY2sgPSBnZXRTdGFja0FkZGVuZHVtQnlXb3JrSW5Qcm9ncmVzc0ZpYmVyKHNvdXJjZSk7XG4gIH1cblxuICB2YXIgY2FwdHVyZWRFcnJvciA9IHtcbiAgICBjb21wb25lbnROYW1lOiBzb3VyY2UgIT09IG51bGwgPyBnZXRDb21wb25lbnROYW1lKHNvdXJjZSkgOiBudWxsLFxuICAgIGNvbXBvbmVudFN0YWNrOiBzdGFjayAhPT0gbnVsbCA/IHN0YWNrIDogJycsXG4gICAgZXJyb3I6IGVycm9ySW5mby52YWx1ZSxcbiAgICBlcnJvckJvdW5kYXJ5OiBudWxsLFxuICAgIGVycm9yQm91bmRhcnlOYW1lOiBudWxsLFxuICAgIGVycm9yQm91bmRhcnlGb3VuZDogZmFsc2UsXG4gICAgd2lsbFJldHJ5OiBmYWxzZVxuICB9O1xuXG4gIGlmIChib3VuZGFyeSAhPT0gbnVsbCAmJiBib3VuZGFyeS50YWcgPT09IENsYXNzQ29tcG9uZW50KSB7XG4gICAgY2FwdHVyZWRFcnJvci5lcnJvckJvdW5kYXJ5ID0gYm91bmRhcnkuc3RhdGVOb2RlO1xuICAgIGNhcHR1cmVkRXJyb3IuZXJyb3JCb3VuZGFyeU5hbWUgPSBnZXRDb21wb25lbnROYW1lKGJvdW5kYXJ5KTtcbiAgICBjYXB0dXJlZEVycm9yLmVycm9yQm91bmRhcnlGb3VuZCA9IHRydWU7XG4gICAgY2FwdHVyZWRFcnJvci53aWxsUmV0cnkgPSB0cnVlO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBsb2dDYXB0dXJlZEVycm9yKGNhcHR1cmVkRXJyb3IpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gUHJldmVudCBjeWNsZSBpZiBsb2dDYXB0dXJlZEVycm9yKCkgdGhyb3dzLlxuICAgIC8vIEEgY3ljbGUgbWF5IHN0aWxsIG9jY3VyIGlmIGxvZ0NhcHR1cmVkRXJyb3IgcmVuZGVycyBhIGNvbXBvbmVudCB0aGF0IHRocm93cy5cbiAgICB2YXIgc3VwcHJlc3NMb2dnaW5nID0gZSAmJiBlLnN1cHByZXNzUmVhY3RFcnJvckxvZ2dpbmc7XG4gICAgaWYgKCFzdXBwcmVzc0xvZ2dpbmcpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgfVxuICB9XG59XG5cbnZhciBSZWFjdEZpYmVyQ29tbWl0V29yayA9IGZ1bmN0aW9uIChjb25maWcsIGNhcHR1cmVFcnJvciwgc2NoZWR1bGVXb3JrLCBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyLCBtYXJrTGVnYWN5RXJyb3JCb3VuZGFyeUFzRmFpbGVkLCByZWNhbGN1bGF0ZUN1cnJlbnRUaW1lKSB7XG4gIHZhciBnZXRQdWJsaWNJbnN0YW5jZSA9IGNvbmZpZy5nZXRQdWJsaWNJbnN0YW5jZSxcbiAgICAgIG11dGF0aW9uID0gY29uZmlnLm11dGF0aW9uLFxuICAgICAgcGVyc2lzdGVuY2UgPSBjb25maWcucGVyc2lzdGVuY2U7XG5cblxuICB2YXIgY2FsbENvbXBvbmVudFdpbGxVbm1vdW50V2l0aFRpbWVyID0gZnVuY3Rpb24gKGN1cnJlbnQsIGluc3RhbmNlKSB7XG4gICAgc3RhcnRQaGFzZVRpbWVyKGN1cnJlbnQsICdjb21wb25lbnRXaWxsVW5tb3VudCcpO1xuICAgIGluc3RhbmNlLnByb3BzID0gY3VycmVudC5tZW1vaXplZFByb3BzO1xuICAgIGluc3RhbmNlLnN0YXRlID0gY3VycmVudC5tZW1vaXplZFN0YXRlO1xuICAgIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG4gICAgc3RvcFBoYXNlVGltZXIoKTtcbiAgfTtcblxuICAvLyBDYXB0dXJlIGVycm9ycyBzbyB0aGV5IGRvbid0IGludGVycnVwdCB1bm1vdW50aW5nLlxuICBmdW5jdGlvbiBzYWZlbHlDYWxsQ29tcG9uZW50V2lsbFVubW91bnQoY3VycmVudCwgaW5zdGFuY2UpIHtcbiAgICB7XG4gICAgICBpbnZva2VHdWFyZGVkQ2FsbGJhY2skMyhudWxsLCBjYWxsQ29tcG9uZW50V2lsbFVubW91bnRXaXRoVGltZXIsIG51bGwsIGN1cnJlbnQsIGluc3RhbmNlKTtcbiAgICAgIGlmIChoYXNDYXVnaHRFcnJvciQxKCkpIHtcbiAgICAgICAgdmFyIHVubW91bnRFcnJvciA9IGNsZWFyQ2F1Z2h0RXJyb3IkMSgpO1xuICAgICAgICBjYXB0dXJlRXJyb3IoY3VycmVudCwgdW5tb3VudEVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzYWZlbHlEZXRhY2hSZWYoY3VycmVudCkge1xuICAgIHZhciByZWYgPSBjdXJyZW50LnJlZjtcbiAgICBpZiAocmVmICE9PSBudWxsKSB7XG4gICAgICBpZiAodHlwZW9mIHJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB7XG4gICAgICAgICAgaW52b2tlR3VhcmRlZENhbGxiYWNrJDMobnVsbCwgcmVmLCBudWxsLCBudWxsKTtcbiAgICAgICAgICBpZiAoaGFzQ2F1Z2h0RXJyb3IkMSgpKSB7XG4gICAgICAgICAgICB2YXIgcmVmRXJyb3IgPSBjbGVhckNhdWdodEVycm9yJDEoKTtcbiAgICAgICAgICAgIGNhcHR1cmVFcnJvcihjdXJyZW50LCByZWZFcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWYuY3VycmVudCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0QmVmb3JlTXV0YXRpb25MaWZlQ3ljbGVzKGN1cnJlbnQsIGZpbmlzaGVkV29yaykge1xuICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAge1xuICAgICAgICAgIGlmIChmaW5pc2hlZFdvcmsuZWZmZWN0VGFnICYgU25hcHNob3QpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHZhciBwcmV2UHJvcHMgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICAgIHZhciBwcmV2U3RhdGUgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgICAgIHN0YXJ0UGhhc2VUaW1lcihmaW5pc2hlZFdvcmssICdnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZScpO1xuICAgICAgICAgICAgICB2YXIgX2luc3RhbmNlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICAgICAgX2luc3RhbmNlLnByb3BzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICAgIF9pbnN0YW5jZS5zdGF0ZSA9IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgICAgICB2YXIgc25hcHNob3QgPSBfaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpO1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGRpZFdhcm5TZXQgPSBkaWRXYXJuQWJvdXRVbmRlZmluZWRTbmFwc2hvdEJlZm9yZVVwZGF0ZTtcbiAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QgPT09IHVuZGVmaW5lZCAmJiAhZGlkV2FyblNldC5oYXMoZmluaXNoZWRXb3JrLnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICBkaWRXYXJuU2V0LmFkZChmaW5pc2hlZFdvcmsudHlwZSk7XG4gICAgICAgICAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnJXMuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKTogQSBzbmFwc2hvdCB2YWx1ZSAob3IgbnVsbCkgJyArICdtdXN0IGJlIHJldHVybmVkLiBZb3UgaGF2ZSByZXR1cm5lZCB1bmRlZmluZWQuJywgZ2V0Q29tcG9uZW50TmFtZShmaW5pc2hlZFdvcmspKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX2luc3RhbmNlLl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90QmVmb3JlVXBkYXRlID0gc25hcHNob3Q7XG4gICAgICAgICAgICAgIHN0b3BQaGFzZVRpbWVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgIGNhc2UgSG9zdFRleHQ6XG4gICAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgICAgIC8vIE5vdGhpbmcgdG8gZG8gZm9yIHRoZXNlIGNvbXBvbmVudCB0eXBlc1xuICAgICAgICByZXR1cm47XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB7XG4gICAgICAgICAgaW52YXJpYW50KGZhbHNlLCAnVGhpcyB1bml0IG9mIHdvcmsgdGFnIHNob3VsZCBub3QgaGF2ZSBzaWRlLWVmZmVjdHMuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb21taXRMaWZlQ3ljbGVzKGZpbmlzaGVkUm9vdCwgY3VycmVudCwgZmluaXNoZWRXb3JrLCBjdXJyZW50VGltZSwgY29tbWl0dGVkRXhwaXJhdGlvblRpbWUpIHtcbiAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgX2luc3RhbmNlMiA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgaWYgKGZpbmlzaGVkV29yay5lZmZlY3RUYWcgJiBVcGRhdGUpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgIHN0YXJ0UGhhc2VUaW1lcihmaW5pc2hlZFdvcmssICdjb21wb25lbnREaWRNb3VudCcpO1xuICAgICAgICAgICAgICBfaW5zdGFuY2UyLnByb3BzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICAgIF9pbnN0YW5jZTIuc3RhdGUgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICAgICAgX2luc3RhbmNlMi5jb21wb25lbnREaWRNb3VudCgpO1xuICAgICAgICAgICAgICBzdG9wUGhhc2VUaW1lcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFyIHByZXZQcm9wcyA9IGN1cnJlbnQubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICAgICAgdmFyIHByZXZTdGF0ZSA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICAgICAgc3RhcnRQaGFzZVRpbWVyKGZpbmlzaGVkV29yaywgJ2NvbXBvbmVudERpZFVwZGF0ZScpO1xuICAgICAgICAgICAgICBfaW5zdGFuY2UyLnByb3BzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICAgIF9pbnN0YW5jZTIuc3RhdGUgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICAgICAgX2luc3RhbmNlMi5jb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUsIF9pbnN0YW5jZTIuX19yZWFjdEludGVybmFsU25hcHNob3RCZWZvcmVVcGRhdGUpO1xuICAgICAgICAgICAgICBzdG9wUGhhc2VUaW1lcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgdXBkYXRlUXVldWUgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWU7XG4gICAgICAgICAgaWYgKHVwZGF0ZVF1ZXVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb21taXRDYWxsYmFja3ModXBkYXRlUXVldWUsIF9pbnN0YW5jZTIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgX3VwZGF0ZVF1ZXVlID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlO1xuICAgICAgICAgIGlmIChfdXBkYXRlUXVldWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBfaW5zdGFuY2UzID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChmaW5pc2hlZFdvcmsuY2hpbGQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsuY2hpbGQudGFnKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICAgICAgICAgICAgX2luc3RhbmNlMyA9IGdldFB1YmxpY0luc3RhbmNlKGZpbmlzaGVkV29yay5jaGlsZC5zdGF0ZU5vZGUpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAgICAgICAgICAgIF9pbnN0YW5jZTMgPSBmaW5pc2hlZFdvcmsuY2hpbGQuc3RhdGVOb2RlO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbW1pdENhbGxiYWNrcyhfdXBkYXRlUXVldWUsIF9pbnN0YW5jZTMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBfaW5zdGFuY2U0ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcblxuICAgICAgICAgIC8vIFJlbmRlcmVycyBtYXkgc2NoZWR1bGUgd29yayB0byBiZSBkb25lIGFmdGVyIGhvc3QgY29tcG9uZW50cyBhcmUgbW91bnRlZFxuICAgICAgICAgIC8vIChlZyBET00gcmVuZGVyZXIgbWF5IHNjaGVkdWxlIGF1dG8tZm9jdXMgZm9yIGlucHV0cyBhbmQgZm9ybSBjb250cm9scykuXG4gICAgICAgICAgLy8gVGhlc2UgZWZmZWN0cyBzaG91bGQgb25seSBiZSBjb21taXR0ZWQgd2hlbiBjb21wb25lbnRzIGFyZSBmaXJzdCBtb3VudGVkLFxuICAgICAgICAgIC8vIGFrYSB3aGVuIHRoZXJlIGlzIG5vIGN1cnJlbnQvYWx0ZXJuYXRlLlxuICAgICAgICAgIGlmIChjdXJyZW50ID09PSBudWxsICYmIGZpbmlzaGVkV29yay5lZmZlY3RUYWcgJiBVcGRhdGUpIHtcbiAgICAgICAgICAgIHZhciB0eXBlID0gZmluaXNoZWRXb3JrLnR5cGU7XG4gICAgICAgICAgICB2YXIgcHJvcHMgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICAgIGNvbW1pdE1vdW50KF9pbnN0YW5jZTQsIHR5cGUsIHByb3BzLCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgY2FzZSBIb3N0VGV4dDpcbiAgICAgICAge1xuICAgICAgICAgIC8vIFdlIGhhdmUgbm8gbGlmZS1jeWNsZXMgYXNzb2NpYXRlZCB3aXRoIHRleHQuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgICAgIHtcbiAgICAgICAgICAvLyBXZSBoYXZlIG5vIGxpZmUtY3ljbGVzIGFzc29jaWF0ZWQgd2l0aCBwb3J0YWxzLlxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAge1xuICAgICAgICAgIGludmFyaWFudChmYWxzZSwgJ1RoaXMgdW5pdCBvZiB3b3JrIHRhZyBzaG91bGQgbm90IGhhdmUgc2lkZS1lZmZlY3RzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0RXJyb3JMb2dnaW5nKGZpbmlzaGVkV29yaywgb25VbmNhdWdodEVycm9yKSB7XG4gICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIGN0b3IgPSBmaW5pc2hlZFdvcmsudHlwZTtcbiAgICAgICAgICB2YXIgX2luc3RhbmNlNSA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlO1xuICAgICAgICAgICEodXBkYXRlUXVldWUgIT09IG51bGwgJiYgdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgIT09IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnQW4gZXJyb3IgbG9nZ2luZyBlZmZlY3Qgc2hvdWxkIG5vdCBoYXZlIGJlZW4gc2NoZWR1bGVkIGlmIG5vIGVycm9ycyB3ZXJlIGNhcHR1cmVkLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICAgICAgICAgIHZhciBjYXB0dXJlZEVycm9ycyA9IHVwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzO1xuICAgICAgICAgIHVwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzID0gbnVsbDtcblxuICAgICAgICAgIGlmICh0eXBlb2YgY3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIC8vIFRvIHByZXNlcnZlIHRoZSBwcmVleGlzdGluZyByZXRyeSBiZWhhdmlvciBvZiBlcnJvciBib3VuZGFyaWVzLFxuICAgICAgICAgICAgLy8gd2Uga2VlcCB0cmFjayBvZiB3aGljaCBvbmVzIGFscmVhZHkgZmFpbGVkIGR1cmluZyB0aGlzIGJhdGNoLlxuICAgICAgICAgICAgLy8gVGhpcyBnZXRzIHJlc2V0IGJlZm9yZSB3ZSB5aWVsZCBiYWNrIHRvIHRoZSBicm93c2VyLlxuICAgICAgICAgICAgLy8gVE9ETzogV2FybiBpbiBzdHJpY3QgbW9kZSBpZiBnZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggaXNcbiAgICAgICAgICAgIC8vIG5vdCBkZWZpbmVkLlxuICAgICAgICAgICAgbWFya0xlZ2FjeUVycm9yQm91bmRhcnlBc0ZhaWxlZChfaW5zdGFuY2U1KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfaW5zdGFuY2U1LnByb3BzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgX2luc3RhbmNlNS5zdGF0ZSA9IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FwdHVyZWRFcnJvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBlcnJvckluZm8gPSBjYXB0dXJlZEVycm9yc1tpXTtcbiAgICAgICAgICAgIHZhciBfZXJyb3IgPSBlcnJvckluZm8udmFsdWU7XG4gICAgICAgICAgICB2YXIgc3RhY2sgPSBlcnJvckluZm8uc3RhY2s7XG4gICAgICAgICAgICBsb2dFcnJvcihmaW5pc2hlZFdvcmssIGVycm9ySW5mbyk7XG4gICAgICAgICAgICBfaW5zdGFuY2U1LmNvbXBvbmVudERpZENhdGNoKF9lcnJvciwge1xuICAgICAgICAgICAgICBjb21wb25lbnRTdGFjazogc3RhY2sgIT09IG51bGwgPyBzdGFjayA6ICcnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEhvc3RSb290OlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIF91cGRhdGVRdWV1ZTIgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWU7XG4gICAgICAgICAgIShfdXBkYXRlUXVldWUyICE9PSBudWxsICYmIF91cGRhdGVRdWV1ZTIuY2FwdHVyZWRWYWx1ZXMgIT09IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnQW4gZXJyb3IgbG9nZ2luZyBlZmZlY3Qgc2hvdWxkIG5vdCBoYXZlIGJlZW4gc2NoZWR1bGVkIGlmIG5vIGVycm9ycyB3ZXJlIGNhcHR1cmVkLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICAgICAgICAgIHZhciBfY2FwdHVyZWRFcnJvcnMgPSBfdXBkYXRlUXVldWUyLmNhcHR1cmVkVmFsdWVzO1xuICAgICAgICAgIF91cGRhdGVRdWV1ZTIuY2FwdHVyZWRWYWx1ZXMgPSBudWxsO1xuICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBfY2FwdHVyZWRFcnJvcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2Vycm9ySW5mbyA9IF9jYXB0dXJlZEVycm9yc1tfaV07XG4gICAgICAgICAgICBsb2dFcnJvcihmaW5pc2hlZFdvcmssIF9lcnJvckluZm8pO1xuICAgICAgICAgICAgb25VbmNhdWdodEVycm9yKF9lcnJvckluZm8udmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaW52YXJpYW50KGZhbHNlLCAnVGhpcyB1bml0IG9mIHdvcmsgdGFnIGNhbm5vdCBjYXB0dXJlIGVycm9ycy4gIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0QXR0YWNoUmVmKGZpbmlzaGVkV29yaykge1xuICAgIHZhciByZWYgPSBmaW5pc2hlZFdvcmsucmVmO1xuICAgIGlmIChyZWYgIT09IG51bGwpIHtcbiAgICAgIHZhciBfaW5zdGFuY2U2ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgIHZhciBpbnN0YW5jZVRvVXNlID0gdm9pZCAwO1xuICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICBpbnN0YW5jZVRvVXNlID0gZ2V0UHVibGljSW5zdGFuY2UoX2luc3RhbmNlNik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaW5zdGFuY2VUb1VzZSA9IF9pbnN0YW5jZTY7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZWYoaW5zdGFuY2VUb1VzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB7XG4gICAgICAgICAgaWYgKCFyZWYuaGFzT3duUHJvcGVydHkoJ2N1cnJlbnQnKSkge1xuICAgICAgICAgICAgd2FybmluZyhmYWxzZSwgJ1VuZXhwZWN0ZWQgcmVmIG9iamVjdCBwcm92aWRlZCBmb3IgJXMuICcgKyAnVXNlIGVpdGhlciBhIHJlZi1zZXR0ZXIgZnVuY3Rpb24gb3IgUmVhY3QuY3JlYXRlUmVmKCkuJXMnLCBnZXRDb21wb25lbnROYW1lKGZpbmlzaGVkV29yayksIGdldFN0YWNrQWRkZW5kdW1CeVdvcmtJblByb2dyZXNzRmliZXIoZmluaXNoZWRXb3JrKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmVmLmN1cnJlbnQgPSBpbnN0YW5jZVRvVXNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbW1pdERldGFjaFJlZihjdXJyZW50KSB7XG4gICAgdmFyIGN1cnJlbnRSZWYgPSBjdXJyZW50LnJlZjtcbiAgICBpZiAoY3VycmVudFJlZiAhPT0gbnVsbCkge1xuICAgICAgaWYgKHR5cGVvZiBjdXJyZW50UmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGN1cnJlbnRSZWYobnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50UmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFVzZXItb3JpZ2luYXRpbmcgZXJyb3JzIChsaWZlY3ljbGVzIGFuZCByZWZzKSBzaG91bGQgbm90IGludGVycnVwdFxuICAvLyBkZWxldGlvbiwgc28gZG9uJ3QgbGV0IHRoZW0gdGhyb3cuIEhvc3Qtb3JpZ2luYXRpbmcgZXJyb3JzIHNob3VsZFxuICAvLyBpbnRlcnJ1cHQgZGVsZXRpb24sIHNvIGl0J3Mgb2theVxuICBmdW5jdGlvbiBjb21taXRVbm1vdW50KGN1cnJlbnQpIHtcbiAgICBpZiAodHlwZW9mIG9uQ29tbWl0VW5tb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgb25Db21taXRVbm1vdW50KGN1cnJlbnQpO1xuICAgIH1cblxuICAgIHN3aXRjaCAoY3VycmVudC50YWcpIHtcbiAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICBzYWZlbHlEZXRhY2hSZWYoY3VycmVudCk7XG4gICAgICAgICAgdmFyIF9pbnN0YW5jZTcgPSBjdXJyZW50LnN0YXRlTm9kZTtcbiAgICAgICAgICBpZiAodHlwZW9mIF9pbnN0YW5jZTcuY29tcG9uZW50V2lsbFVubW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHNhZmVseUNhbGxDb21wb25lbnRXaWxsVW5tb3VudChjdXJyZW50LCBfaW5zdGFuY2U3KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICBzYWZlbHlEZXRhY2hSZWYoY3VycmVudCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBjYXNlIENhbGxDb21wb25lbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICBjb21taXROZXN0ZWRVbm1vdW50cyhjdXJyZW50LnN0YXRlTm9kZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgICAgIHtcbiAgICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIHJlY3Vyc2l2ZS5cbiAgICAgICAgICAvLyBXZSBhcmUgYWxzbyBub3QgdXNpbmcgdGhpcyBwYXJlbnQgYmVjYXVzZVxuICAgICAgICAgIC8vIHRoZSBwb3J0YWwgd2lsbCBnZXQgcHVzaGVkIGltbWVkaWF0ZWx5LlxuICAgICAgICAgIGlmIChlbmFibGVNdXRhdGluZ1JlY29uY2lsZXIgJiYgbXV0YXRpb24pIHtcbiAgICAgICAgICAgIHVubW91bnRIb3N0Q29tcG9uZW50cyhjdXJyZW50KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGVuYWJsZVBlcnNpc3RlbnRSZWNvbmNpbGVyICYmIHBlcnNpc3RlbmNlKSB7XG4gICAgICAgICAgICBlbXB0eVBvcnRhbENvbnRhaW5lcihjdXJyZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0TmVzdGVkVW5tb3VudHMocm9vdCkge1xuICAgIC8vIFdoaWxlIHdlJ3JlIGluc2lkZSBhIHJlbW92ZWQgaG9zdCBub2RlIHdlIGRvbid0IHdhbnQgdG8gY2FsbFxuICAgIC8vIHJlbW92ZUNoaWxkIG9uIHRoZSBpbm5lciBub2RlcyBiZWNhdXNlIHRoZXkncmUgcmVtb3ZlZCBieSB0aGUgdG9wXG4gICAgLy8gY2FsbCBhbnl3YXkuIFdlIGFsc28gd2FudCB0byBjYWxsIGNvbXBvbmVudFdpbGxVbm1vdW50IG9uIGFsbFxuICAgIC8vIGNvbXBvc2l0ZXMgYmVmb3JlIHRoaXMgaG9zdCBub2RlIGlzIHJlbW92ZWQgZnJvbSB0aGUgdHJlZS4gVGhlcmVmb3JlXG4gICAgdmFyIG5vZGUgPSByb290O1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb21taXRVbm1vdW50KG5vZGUpO1xuICAgICAgLy8gVmlzaXQgY2hpbGRyZW4gYmVjYXVzZSB0aGV5IG1heSBjb250YWluIG1vcmUgY29tcG9zaXRlIG9yIGhvc3Qgbm9kZXMuXG4gICAgICAvLyBTa2lwIHBvcnRhbHMgYmVjYXVzZSBjb21taXRVbm1vdW50KCkgY3VycmVudGx5IHZpc2l0cyB0aGVtIHJlY3Vyc2l2ZWx5LlxuICAgICAgaWYgKG5vZGUuY2hpbGQgIT09IG51bGwgJiYgKFxuICAgICAgLy8gSWYgd2UgdXNlIG11dGF0aW9uIHdlIGRyaWxsIGRvd24gaW50byBwb3J0YWxzIHVzaW5nIGNvbW1pdFVubW91bnQgYWJvdmUuXG4gICAgICAvLyBJZiB3ZSBkb24ndCB1c2UgbXV0YXRpb24gd2UgZHJpbGwgZG93biBpbnRvIHBvcnRhbHMgaGVyZSBpbnN0ZWFkLlxuICAgICAgIW11dGF0aW9uIHx8IG5vZGUudGFnICE9PSBIb3N0UG9ydGFsKSkge1xuICAgICAgICBub2RlLmNoaWxkWydyZXR1cm4nXSA9IG5vZGU7XG4gICAgICAgIG5vZGUgPSBub2RlLmNoaWxkO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlID09PSByb290KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChub2RlLnNpYmxpbmcgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKG5vZGVbJ3JldHVybiddID09PSBudWxsIHx8IG5vZGVbJ3JldHVybiddID09PSByb290KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBub2RlWydyZXR1cm4nXTtcbiAgICAgIH1cbiAgICAgIG5vZGUuc2libGluZ1sncmV0dXJuJ10gPSBub2RlWydyZXR1cm4nXTtcbiAgICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGV0YWNoRmliZXIoY3VycmVudCkge1xuICAgIC8vIEN1dCBvZmYgdGhlIHJldHVybiBwb2ludGVycyB0byBkaXNjb25uZWN0IGl0IGZyb20gdGhlIHRyZWUuIElkZWFsbHksIHdlXG4gICAgLy8gc2hvdWxkIGNsZWFyIHRoZSBjaGlsZCBwb2ludGVyIG9mIHRoZSBwYXJlbnQgYWx0ZXJuYXRlIHRvIGxldCB0aGlzXG4gICAgLy8gZ2V0IEdDOmVkIGJ1dCB3ZSBkb24ndCBrbm93IHdoaWNoIGZvciBzdXJlIHdoaWNoIHBhcmVudCBpcyB0aGUgY3VycmVudFxuICAgIC8vIG9uZSBzbyB3ZSdsbCBzZXR0bGUgZm9yIEdDOmluZyB0aGUgc3VidHJlZSBvZiB0aGlzIGNoaWxkLiBUaGlzIGNoaWxkXG4gICAgLy8gaXRzZWxmIHdpbGwgYmUgR0M6ZWQgd2hlbiB0aGUgcGFyZW50IHVwZGF0ZXMgdGhlIG5leHQgdGltZS5cbiAgICBjdXJyZW50WydyZXR1cm4nXSA9IG51bGw7XG4gICAgY3VycmVudC5jaGlsZCA9IG51bGw7XG4gICAgaWYgKGN1cnJlbnQuYWx0ZXJuYXRlKSB7XG4gICAgICBjdXJyZW50LmFsdGVybmF0ZS5jaGlsZCA9IG51bGw7XG4gICAgICBjdXJyZW50LmFsdGVybmF0ZVsncmV0dXJuJ10gPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHZhciBlbXB0eVBvcnRhbENvbnRhaW5lciA9IHZvaWQgMDtcblxuICBpZiAoIW11dGF0aW9uKSB7XG4gICAgdmFyIGNvbW1pdENvbnRhaW5lciA9IHZvaWQgMDtcbiAgICBpZiAocGVyc2lzdGVuY2UpIHtcbiAgICAgIHZhciByZXBsYWNlQ29udGFpbmVyQ2hpbGRyZW4gPSBwZXJzaXN0ZW5jZS5yZXBsYWNlQ29udGFpbmVyQ2hpbGRyZW4sXG4gICAgICAgICAgY3JlYXRlQ29udGFpbmVyQ2hpbGRTZXQgPSBwZXJzaXN0ZW5jZS5jcmVhdGVDb250YWluZXJDaGlsZFNldDtcblxuICAgICAgZW1wdHlQb3J0YWxDb250YWluZXIgPSBmdW5jdGlvbiAoY3VycmVudCkge1xuICAgICAgICB2YXIgcG9ydGFsID0gY3VycmVudC5zdGF0ZU5vZGU7XG4gICAgICAgIHZhciBjb250YWluZXJJbmZvID0gcG9ydGFsLmNvbnRhaW5lckluZm87XG5cbiAgICAgICAgdmFyIGVtcHR5Q2hpbGRTZXQgPSBjcmVhdGVDb250YWluZXJDaGlsZFNldChjb250YWluZXJJbmZvKTtcbiAgICAgICAgcmVwbGFjZUNvbnRhaW5lckNoaWxkcmVuKGNvbnRhaW5lckluZm8sIGVtcHR5Q2hpbGRTZXQpO1xuICAgICAgfTtcbiAgICAgIGNvbW1pdENvbnRhaW5lciA9IGZ1bmN0aW9uIChmaW5pc2hlZFdvcmspIHtcbiAgICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgSG9zdFRleHQ6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEhvc3RSb290OlxuICAgICAgICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdmFyIHBvcnRhbE9yUm9vdCA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgICAgIHZhciBjb250YWluZXJJbmZvID0gcG9ydGFsT3JSb290LmNvbnRhaW5lckluZm8sXG4gICAgICAgICAgICAgICAgICBfcGVuZGluZ0NoaWxkcmVuID0gcG9ydGFsT3JSb290LnBlbmRpbmdDaGlsZHJlbjtcblxuICAgICAgICAgICAgICByZXBsYWNlQ29udGFpbmVyQ2hpbGRyZW4oY29udGFpbmVySW5mbywgX3BlbmRpbmdDaGlsZHJlbik7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpbnZhcmlhbnQoZmFsc2UsICdUaGlzIHVuaXQgb2Ygd29yayB0YWcgc2hvdWxkIG5vdCBoYXZlIHNpZGUtZWZmZWN0cy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tbWl0Q29udGFpbmVyID0gZnVuY3Rpb24gKGZpbmlzaGVkV29yaykge1xuICAgICAgICAvLyBOb29wXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoZW5hYmxlUGVyc2lzdGVudFJlY29uY2lsZXIgfHwgZW5hYmxlTm9vcFJlY29uY2lsZXIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbW1pdFJlc2V0VGV4dENvbnRlbnQ6IGZ1bmN0aW9uIChmaW5pc2hlZFdvcmspIHt9LFxuICAgICAgICBjb21taXRQbGFjZW1lbnQ6IGZ1bmN0aW9uIChmaW5pc2hlZFdvcmspIHt9LFxuICAgICAgICBjb21taXREZWxldGlvbjogZnVuY3Rpb24gKGN1cnJlbnQpIHtcbiAgICAgICAgICAvLyBEZXRhY2ggcmVmcyBhbmQgY2FsbCBjb21wb25lbnRXaWxsVW5tb3VudCgpIG9uIHRoZSB3aG9sZSBzdWJ0cmVlLlxuICAgICAgICAgIGNvbW1pdE5lc3RlZFVubW91bnRzKGN1cnJlbnQpO1xuICAgICAgICAgIGRldGFjaEZpYmVyKGN1cnJlbnQpO1xuICAgICAgICB9LFxuICAgICAgICBjb21taXRXb3JrOiBmdW5jdGlvbiAoY3VycmVudCwgZmluaXNoZWRXb3JrKSB7XG4gICAgICAgICAgY29tbWl0Q29udGFpbmVyKGZpbmlzaGVkV29yayk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY29tbWl0TGlmZUN5Y2xlczogY29tbWl0TGlmZUN5Y2xlcyxcbiAgICAgICAgY29tbWl0QmVmb3JlTXV0YXRpb25MaWZlQ3ljbGVzOiBjb21taXRCZWZvcmVNdXRhdGlvbkxpZmVDeWNsZXMsXG4gICAgICAgIGNvbW1pdEVycm9yTG9nZ2luZzogY29tbWl0RXJyb3JMb2dnaW5nLFxuICAgICAgICBjb21taXRBdHRhY2hSZWY6IGNvbW1pdEF0dGFjaFJlZixcbiAgICAgICAgY29tbWl0RGV0YWNoUmVmOiBjb21taXREZXRhY2hSZWZcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChwZXJzaXN0ZW5jZSkge1xuICAgICAgaW52YXJpYW50KGZhbHNlLCAnUGVyc2lzdGVudCByZWNvbmNpbGVyIGlzIGRpc2FibGVkLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnZhcmlhbnQoZmFsc2UsICdOb29wIHJlY29uY2lsZXIgaXMgZGlzYWJsZWQuJyk7XG4gICAgfVxuICB9XG4gIHZhciBjb21taXRNb3VudCA9IG11dGF0aW9uLmNvbW1pdE1vdW50LFxuICAgICAgY29tbWl0VXBkYXRlID0gbXV0YXRpb24uY29tbWl0VXBkYXRlLFxuICAgICAgcmVzZXRUZXh0Q29udGVudCA9IG11dGF0aW9uLnJlc2V0VGV4dENvbnRlbnQsXG4gICAgICBjb21taXRUZXh0VXBkYXRlID0gbXV0YXRpb24uY29tbWl0VGV4dFVwZGF0ZSxcbiAgICAgIGFwcGVuZENoaWxkID0gbXV0YXRpb24uYXBwZW5kQ2hpbGQsXG4gICAgICBhcHBlbmRDaGlsZFRvQ29udGFpbmVyID0gbXV0YXRpb24uYXBwZW5kQ2hpbGRUb0NvbnRhaW5lcixcbiAgICAgIGluc2VydEJlZm9yZSA9IG11dGF0aW9uLmluc2VydEJlZm9yZSxcbiAgICAgIGluc2VydEluQ29udGFpbmVyQmVmb3JlID0gbXV0YXRpb24uaW5zZXJ0SW5Db250YWluZXJCZWZvcmUsXG4gICAgICByZW1vdmVDaGlsZCA9IG11dGF0aW9uLnJlbW92ZUNoaWxkLFxuICAgICAgcmVtb3ZlQ2hpbGRGcm9tQ29udGFpbmVyID0gbXV0YXRpb24ucmVtb3ZlQ2hpbGRGcm9tQ29udGFpbmVyO1xuXG5cbiAgZnVuY3Rpb24gZ2V0SG9zdFBhcmVudEZpYmVyKGZpYmVyKSB7XG4gICAgdmFyIHBhcmVudCA9IGZpYmVyWydyZXR1cm4nXTtcbiAgICB3aGlsZSAocGFyZW50ICE9PSBudWxsKSB7XG4gICAgICBpZiAoaXNIb3N0UGFyZW50KHBhcmVudCkpIHtcbiAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICAgIH1cbiAgICAgIHBhcmVudCA9IHBhcmVudFsncmV0dXJuJ107XG4gICAgfVxuICAgIGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkIHRvIGZpbmQgYSBob3N0IHBhcmVudC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzSG9zdFBhcmVudChmaWJlcikge1xuICAgIHJldHVybiBmaWJlci50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgZmliZXIudGFnID09PSBIb3N0Um9vdCB8fCBmaWJlci50YWcgPT09IEhvc3RQb3J0YWw7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRIb3N0U2libGluZyhmaWJlcikge1xuICAgIC8vIFdlJ3JlIGdvaW5nIHRvIHNlYXJjaCBmb3J3YXJkIGludG8gdGhlIHRyZWUgdW50aWwgd2UgZmluZCBhIHNpYmxpbmcgaG9zdFxuICAgIC8vIG5vZGUuIFVuZm9ydHVuYXRlbHksIGlmIG11bHRpcGxlIGluc2VydGlvbnMgYXJlIGRvbmUgaW4gYSByb3cgd2UgaGF2ZSB0b1xuICAgIC8vIHNlYXJjaCBwYXN0IHRoZW0uIFRoaXMgbGVhZHMgdG8gZXhwb25lbnRpYWwgc2VhcmNoIGZvciB0aGUgbmV4dCBzaWJsaW5nLlxuICAgIHZhciBub2RlID0gZmliZXI7XG4gICAgc2libGluZ3M6IHdoaWxlICh0cnVlKSB7XG4gICAgICAvLyBJZiB3ZSBkaWRuJ3QgZmluZCBhbnl0aGluZywgbGV0J3MgdHJ5IHRoZSBuZXh0IHNpYmxpbmcuXG4gICAgICB3aGlsZSAobm9kZS5zaWJsaW5nID09PSBudWxsKSB7XG4gICAgICAgIGlmIChub2RlWydyZXR1cm4nXSA9PT0gbnVsbCB8fCBpc0hvc3RQYXJlbnQobm9kZVsncmV0dXJuJ10pKSB7XG4gICAgICAgICAgLy8gSWYgd2UgcG9wIG91dCBvZiB0aGUgcm9vdCBvciBoaXQgdGhlIHBhcmVudCB0aGUgZmliZXIgd2UgYXJlIHRoZVxuICAgICAgICAgIC8vIGxhc3Qgc2libGluZy5cbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZVsncmV0dXJuJ107XG4gICAgICB9XG4gICAgICBub2RlLnNpYmxpbmdbJ3JldHVybiddID0gbm9kZVsncmV0dXJuJ107XG4gICAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICAgICAgd2hpbGUgKG5vZGUudGFnICE9PSBIb3N0Q29tcG9uZW50ICYmIG5vZGUudGFnICE9PSBIb3N0VGV4dCkge1xuICAgICAgICAvLyBJZiBpdCBpcyBub3QgaG9zdCBub2RlIGFuZCwgd2UgbWlnaHQgaGF2ZSBhIGhvc3Qgbm9kZSBpbnNpZGUgaXQuXG4gICAgICAgIC8vIFRyeSB0byBzZWFyY2ggZG93biB1bnRpbCB3ZSBmaW5kIG9uZS5cbiAgICAgICAgaWYgKG5vZGUuZWZmZWN0VGFnICYgUGxhY2VtZW50KSB7XG4gICAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIGNoaWxkLCB0cnkgdGhlIHNpYmxpbmdzIGluc3RlYWQuXG4gICAgICAgICAgY29udGludWUgc2libGluZ3M7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIGNoaWxkLCB0cnkgdGhlIHNpYmxpbmdzIGluc3RlYWQuXG4gICAgICAgIC8vIFdlIGFsc28gc2tpcCBwb3J0YWxzIGJlY2F1c2UgdGhleSBhcmUgbm90IHBhcnQgb2YgdGhpcyBob3N0IHRyZWUuXG4gICAgICAgIGlmIChub2RlLmNoaWxkID09PSBudWxsIHx8IG5vZGUudGFnID09PSBIb3N0UG9ydGFsKSB7XG4gICAgICAgICAgY29udGludWUgc2libGluZ3M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm9kZS5jaGlsZFsncmV0dXJuJ10gPSBub2RlO1xuICAgICAgICAgIG5vZGUgPSBub2RlLmNoaWxkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGhvc3Qgbm9kZSBpcyBzdGFibGUgb3IgYWJvdXQgdG8gYmUgcGxhY2VkLlxuICAgICAgaWYgKCEobm9kZS5lZmZlY3RUYWcgJiBQbGFjZW1lbnQpKSB7XG4gICAgICAgIC8vIEZvdW5kIGl0IVxuICAgICAgICByZXR1cm4gbm9kZS5zdGF0ZU5vZGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0UGxhY2VtZW50KGZpbmlzaGVkV29yaykge1xuICAgIC8vIFJlY3Vyc2l2ZWx5IGluc2VydCBhbGwgaG9zdCBub2RlcyBpbnRvIHRoZSBwYXJlbnQuXG4gICAgdmFyIHBhcmVudEZpYmVyID0gZ2V0SG9zdFBhcmVudEZpYmVyKGZpbmlzaGVkV29yayk7XG4gICAgdmFyIHBhcmVudCA9IHZvaWQgMDtcbiAgICB2YXIgaXNDb250YWluZXIgPSB2b2lkIDA7XG4gICAgc3dpdGNoIChwYXJlbnRGaWJlci50YWcpIHtcbiAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgcGFyZW50ID0gcGFyZW50RmliZXIuc3RhdGVOb2RlO1xuICAgICAgICBpc0NvbnRhaW5lciA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgIHBhcmVudCA9IHBhcmVudEZpYmVyLnN0YXRlTm9kZS5jb250YWluZXJJbmZvO1xuICAgICAgICBpc0NvbnRhaW5lciA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAgICBwYXJlbnQgPSBwYXJlbnRGaWJlci5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgaXNDb250YWluZXIgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGludmFyaWFudChmYWxzZSwgJ0ludmFsaWQgaG9zdCBwYXJlbnQgZmliZXIuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgfVxuICAgIGlmIChwYXJlbnRGaWJlci5lZmZlY3RUYWcgJiBDb250ZW50UmVzZXQpIHtcbiAgICAgIC8vIFJlc2V0IHRoZSB0ZXh0IGNvbnRlbnQgb2YgdGhlIHBhcmVudCBiZWZvcmUgZG9pbmcgYW55IGluc2VydGlvbnNcbiAgICAgIHJlc2V0VGV4dENvbnRlbnQocGFyZW50KTtcbiAgICAgIC8vIENsZWFyIENvbnRlbnRSZXNldCBmcm9tIHRoZSBlZmZlY3QgdGFnXG4gICAgICBwYXJlbnRGaWJlci5lZmZlY3RUYWcgJj0gfkNvbnRlbnRSZXNldDtcbiAgICB9XG5cbiAgICB2YXIgYmVmb3JlID0gZ2V0SG9zdFNpYmxpbmcoZmluaXNoZWRXb3JrKTtcbiAgICAvLyBXZSBvbmx5IGhhdmUgdGhlIHRvcCBGaWJlciB0aGF0IHdhcyBpbnNlcnRlZCBidXQgd2UgbmVlZCByZWN1cnNlIGRvd24gaXRzXG4gICAgLy8gY2hpbGRyZW4gdG8gZmluZCBhbGwgdGhlIHRlcm1pbmFsIG5vZGVzLlxuICAgIHZhciBub2RlID0gZmluaXNoZWRXb3JrO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAobm9kZS50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgbm9kZS50YWcgPT09IEhvc3RUZXh0KSB7XG4gICAgICAgIGlmIChiZWZvcmUpIHtcbiAgICAgICAgICBpZiAoaXNDb250YWluZXIpIHtcbiAgICAgICAgICAgIGluc2VydEluQ29udGFpbmVyQmVmb3JlKHBhcmVudCwgbm9kZS5zdGF0ZU5vZGUsIGJlZm9yZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluc2VydEJlZm9yZShwYXJlbnQsIG5vZGUuc3RhdGVOb2RlLCBiZWZvcmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoaXNDb250YWluZXIpIHtcbiAgICAgICAgICAgIGFwcGVuZENoaWxkVG9Db250YWluZXIocGFyZW50LCBub2RlLnN0YXRlTm9kZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFwcGVuZENoaWxkKHBhcmVudCwgbm9kZS5zdGF0ZU5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChub2RlLnRhZyA9PT0gSG9zdFBvcnRhbCkge1xuICAgICAgICAvLyBJZiB0aGUgaW5zZXJ0aW9uIGl0c2VsZiBpcyBhIHBvcnRhbCwgdGhlbiB3ZSBkb24ndCB3YW50IHRvIHRyYXZlcnNlXG4gICAgICAgIC8vIGRvd24gaXRzIGNoaWxkcmVuLiBJbnN0ZWFkLCB3ZSdsbCBnZXQgaW5zZXJ0aW9ucyBmcm9tIGVhY2ggY2hpbGQgaW5cbiAgICAgICAgLy8gdGhlIHBvcnRhbCBkaXJlY3RseS5cbiAgICAgIH0gZWxzZSBpZiAobm9kZS5jaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICBub2RlLmNoaWxkWydyZXR1cm4nXSA9IG5vZGU7XG4gICAgICAgIG5vZGUgPSBub2RlLmNoaWxkO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlID09PSBmaW5pc2hlZFdvcmspIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgd2hpbGUgKG5vZGUuc2libGluZyA9PT0gbnVsbCkge1xuICAgICAgICBpZiAobm9kZVsncmV0dXJuJ10gPT09IG51bGwgfHwgbm9kZVsncmV0dXJuJ10gPT09IGZpbmlzaGVkV29yaykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZVsncmV0dXJuJ107XG4gICAgICB9XG4gICAgICBub2RlLnNpYmxpbmdbJ3JldHVybiddID0gbm9kZVsncmV0dXJuJ107XG4gICAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVubW91bnRIb3N0Q29tcG9uZW50cyhjdXJyZW50KSB7XG4gICAgLy8gV2Ugb25seSBoYXZlIHRoZSB0b3AgRmliZXIgdGhhdCB3YXMgaW5zZXJ0ZWQgYnV0IHdlIG5lZWQgcmVjdXJzZSBkb3duIGl0c1xuICAgIHZhciBub2RlID0gY3VycmVudDtcblxuICAgIC8vIEVhY2ggaXRlcmF0aW9uLCBjdXJyZW50UGFyZW50IGlzIHBvcHVsYXRlZCB3aXRoIG5vZGUncyBob3N0IHBhcmVudCBpZiBub3RcbiAgICAvLyBjdXJyZW50UGFyZW50SXNWYWxpZC5cbiAgICB2YXIgY3VycmVudFBhcmVudElzVmFsaWQgPSBmYWxzZTtcbiAgICB2YXIgY3VycmVudFBhcmVudCA9IHZvaWQgMDtcbiAgICB2YXIgY3VycmVudFBhcmVudElzQ29udGFpbmVyID0gdm9pZCAwO1xuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmICghY3VycmVudFBhcmVudElzVmFsaWQpIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IG5vZGVbJ3JldHVybiddO1xuICAgICAgICBmaW5kUGFyZW50OiB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICEocGFyZW50ICE9PSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkIHRvIGZpbmQgYSBob3N0IHBhcmVudC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgICAgICAgICBzd2l0Y2ggKHBhcmVudC50YWcpIHtcbiAgICAgICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICAgICAgY3VycmVudFBhcmVudCA9IHBhcmVudC5zdGF0ZU5vZGU7XG4gICAgICAgICAgICAgIGN1cnJlbnRQYXJlbnRJc0NvbnRhaW5lciA9IGZhbHNlO1xuICAgICAgICAgICAgICBicmVhayBmaW5kUGFyZW50O1xuICAgICAgICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgICAgICAgICAgY3VycmVudFBhcmVudCA9IHBhcmVudC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgICAgICAgY3VycmVudFBhcmVudElzQ29udGFpbmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWsgZmluZFBhcmVudDtcbiAgICAgICAgICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgICAgICAgICAgY3VycmVudFBhcmVudCA9IHBhcmVudC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgICAgICAgY3VycmVudFBhcmVudElzQ29udGFpbmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWsgZmluZFBhcmVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGFyZW50ID0gcGFyZW50WydyZXR1cm4nXTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50UGFyZW50SXNWYWxpZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChub2RlLnRhZyA9PT0gSG9zdENvbXBvbmVudCB8fCBub2RlLnRhZyA9PT0gSG9zdFRleHQpIHtcbiAgICAgICAgY29tbWl0TmVzdGVkVW5tb3VudHMobm9kZSk7XG4gICAgICAgIC8vIEFmdGVyIGFsbCB0aGUgY2hpbGRyZW4gaGF2ZSB1bm1vdW50ZWQsIGl0IGlzIG5vdyBzYWZlIHRvIHJlbW92ZSB0aGVcbiAgICAgICAgLy8gbm9kZSBmcm9tIHRoZSB0cmVlLlxuICAgICAgICBpZiAoY3VycmVudFBhcmVudElzQ29udGFpbmVyKSB7XG4gICAgICAgICAgcmVtb3ZlQ2hpbGRGcm9tQ29udGFpbmVyKGN1cnJlbnRQYXJlbnQsIG5vZGUuc3RhdGVOb2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZW1vdmVDaGlsZChjdXJyZW50UGFyZW50LCBub2RlLnN0YXRlTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRG9uJ3QgdmlzaXQgY2hpbGRyZW4gYmVjYXVzZSB3ZSBhbHJlYWR5IHZpc2l0ZWQgdGhlbS5cbiAgICAgIH0gZWxzZSBpZiAobm9kZS50YWcgPT09IEhvc3RQb3J0YWwpIHtcbiAgICAgICAgLy8gV2hlbiB3ZSBnbyBpbnRvIGEgcG9ydGFsLCBpdCBiZWNvbWVzIHRoZSBwYXJlbnQgdG8gcmVtb3ZlIGZyb20uXG4gICAgICAgIC8vIFdlIHdpbGwgcmVhc3NpZ24gaXQgYmFjayB3aGVuIHdlIHBvcCB0aGUgcG9ydGFsIG9uIHRoZSB3YXkgdXAuXG4gICAgICAgIGN1cnJlbnRQYXJlbnQgPSBub2RlLnN0YXRlTm9kZS5jb250YWluZXJJbmZvO1xuICAgICAgICAvLyBWaXNpdCBjaGlsZHJlbiBiZWNhdXNlIHBvcnRhbHMgbWlnaHQgY29udGFpbiBob3N0IGNvbXBvbmVudHMuXG4gICAgICAgIGlmIChub2RlLmNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgICAgbm9kZS5jaGlsZFsncmV0dXJuJ10gPSBub2RlO1xuICAgICAgICAgIG5vZGUgPSBub2RlLmNoaWxkO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21taXRVbm1vdW50KG5vZGUpO1xuICAgICAgICAvLyBWaXNpdCBjaGlsZHJlbiBiZWNhdXNlIHdlIG1heSBmaW5kIG1vcmUgaG9zdCBjb21wb25lbnRzIGJlbG93LlxuICAgICAgICBpZiAobm9kZS5jaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICAgIG5vZGUuY2hpbGRbJ3JldHVybiddID0gbm9kZTtcbiAgICAgICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG5vZGUgPT09IGN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgd2hpbGUgKG5vZGUuc2libGluZyA9PT0gbnVsbCkge1xuICAgICAgICBpZiAobm9kZVsncmV0dXJuJ10gPT09IG51bGwgfHwgbm9kZVsncmV0dXJuJ10gPT09IGN1cnJlbnQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGVbJ3JldHVybiddO1xuICAgICAgICBpZiAobm9kZS50YWcgPT09IEhvc3RQb3J0YWwpIHtcbiAgICAgICAgICAvLyBXaGVuIHdlIGdvIG91dCBvZiB0aGUgcG9ydGFsLCB3ZSBuZWVkIHRvIHJlc3RvcmUgdGhlIHBhcmVudC5cbiAgICAgICAgICAvLyBTaW5jZSB3ZSBkb24ndCBrZWVwIGEgc3RhY2sgb2YgdGhlbSwgd2Ugd2lsbCBzZWFyY2ggZm9yIGl0LlxuICAgICAgICAgIGN1cnJlbnRQYXJlbnRJc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5vZGUuc2libGluZ1sncmV0dXJuJ10gPSBub2RlWydyZXR1cm4nXTtcbiAgICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0RGVsZXRpb24oY3VycmVudCkge1xuICAgIC8vIFJlY3Vyc2l2ZWx5IGRlbGV0ZSBhbGwgaG9zdCBub2RlcyBmcm9tIHRoZSBwYXJlbnQuXG4gICAgLy8gRGV0YWNoIHJlZnMgYW5kIGNhbGwgY29tcG9uZW50V2lsbFVubW91bnQoKSBvbiB0aGUgd2hvbGUgc3VidHJlZS5cbiAgICB1bm1vdW50SG9zdENvbXBvbmVudHMoY3VycmVudCk7XG4gICAgZGV0YWNoRmliZXIoY3VycmVudCk7XG4gIH1cblxuICBmdW5jdGlvbiBjb21taXRXb3JrKGN1cnJlbnQsIGZpbmlzaGVkV29yaykge1xuICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIF9pbnN0YW5jZTggPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgIGlmIChfaW5zdGFuY2U4ICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIENvbW1pdCB0aGUgd29yayBwcmVwYXJlZCBlYXJsaWVyLlxuICAgICAgICAgICAgdmFyIG5ld1Byb3BzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICAvLyBGb3IgaHlkcmF0aW9uIHdlIHJldXNlIHRoZSB1cGRhdGUgcGF0aCBidXQgd2UgdHJlYXQgdGhlIG9sZFByb3BzXG4gICAgICAgICAgICAvLyBhcyB0aGUgbmV3UHJvcHMuIFRoZSB1cGRhdGVQYXlsb2FkIHdpbGwgY29udGFpbiB0aGUgcmVhbCBjaGFuZ2UgaW5cbiAgICAgICAgICAgIC8vIHRoaXMgY2FzZS5cbiAgICAgICAgICAgIHZhciBvbGRQcm9wcyA9IGN1cnJlbnQgIT09IG51bGwgPyBjdXJyZW50Lm1lbW9pemVkUHJvcHMgOiBuZXdQcm9wcztcbiAgICAgICAgICAgIHZhciB0eXBlID0gZmluaXNoZWRXb3JrLnR5cGU7XG4gICAgICAgICAgICAvLyBUT0RPOiBUeXBlIHRoZSB1cGRhdGVRdWV1ZSB0byBiZSBzcGVjaWZpYyB0byBob3N0IGNvbXBvbmVudHMuXG4gICAgICAgICAgICB2YXIgdXBkYXRlUGF5bG9hZCA9IGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZTtcbiAgICAgICAgICAgIGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZSA9IG51bGw7XG4gICAgICAgICAgICBpZiAodXBkYXRlUGF5bG9hZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBjb21taXRVcGRhdGUoX2luc3RhbmNlOCwgdXBkYXRlUGF5bG9hZCwgdHlwZSwgb2xkUHJvcHMsIG5ld1Byb3BzLCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIGNhc2UgSG9zdFRleHQ6XG4gICAgICAgIHtcbiAgICAgICAgICAhKGZpbmlzaGVkV29yay5zdGF0ZU5vZGUgIT09IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnVGhpcyBzaG91bGQgaGF2ZSBhIHRleHQgbm9kZSBpbml0aWFsaXplZC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgICAgICAgICB2YXIgdGV4dEluc3RhbmNlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICB2YXIgbmV3VGV4dCA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzO1xuICAgICAgICAgIC8vIEZvciBoeWRyYXRpb24gd2UgcmV1c2UgdGhlIHVwZGF0ZSBwYXRoIGJ1dCB3ZSB0cmVhdCB0aGUgb2xkUHJvcHNcbiAgICAgICAgICAvLyBhcyB0aGUgbmV3UHJvcHMuIFRoZSB1cGRhdGVQYXlsb2FkIHdpbGwgY29udGFpbiB0aGUgcmVhbCBjaGFuZ2UgaW5cbiAgICAgICAgICAvLyB0aGlzIGNhc2UuXG4gICAgICAgICAgdmFyIG9sZFRleHQgPSBjdXJyZW50ICE9PSBudWxsID8gY3VycmVudC5tZW1vaXplZFByb3BzIDogbmV3VGV4dDtcbiAgICAgICAgICBjb21taXRUZXh0VXBkYXRlKHRleHRJbnN0YW5jZSwgb2xkVGV4dCwgbmV3VGV4dCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBjYXNlIEhvc3RSb290OlxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB7XG4gICAgICAgICAgaW52YXJpYW50KGZhbHNlLCAnVGhpcyB1bml0IG9mIHdvcmsgdGFnIHNob3VsZCBub3QgaGF2ZSBzaWRlLWVmZmVjdHMuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb21taXRSZXNldFRleHRDb250ZW50KGN1cnJlbnQpIHtcbiAgICByZXNldFRleHRDb250ZW50KGN1cnJlbnQuc3RhdGVOb2RlKTtcbiAgfVxuXG4gIGlmIChlbmFibGVNdXRhdGluZ1JlY29uY2lsZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29tbWl0QmVmb3JlTXV0YXRpb25MaWZlQ3ljbGVzOiBjb21taXRCZWZvcmVNdXRhdGlvbkxpZmVDeWNsZXMsXG4gICAgICBjb21taXRSZXNldFRleHRDb250ZW50OiBjb21taXRSZXNldFRleHRDb250ZW50LFxuICAgICAgY29tbWl0UGxhY2VtZW50OiBjb21taXRQbGFjZW1lbnQsXG4gICAgICBjb21taXREZWxldGlvbjogY29tbWl0RGVsZXRpb24sXG4gICAgICBjb21taXRXb3JrOiBjb21taXRXb3JrLFxuICAgICAgY29tbWl0TGlmZUN5Y2xlczogY29tbWl0TGlmZUN5Y2xlcyxcbiAgICAgIGNvbW1pdEVycm9yTG9nZ2luZzogY29tbWl0RXJyb3JMb2dnaW5nLFxuICAgICAgY29tbWl0QXR0YWNoUmVmOiBjb21taXRBdHRhY2hSZWYsXG4gICAgICBjb21taXREZXRhY2hSZWY6IGNvbW1pdERldGFjaFJlZlxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgaW52YXJpYW50KGZhbHNlLCAnTXV0YXRpbmcgcmVjb25jaWxlciBpcyBkaXNhYmxlZC4nKTtcbiAgfVxufTtcblxudmFyIE5PX0NPTlRFWFQgPSB7fTtcblxudmFyIFJlYWN0RmliZXJIb3N0Q29udGV4dCA9IGZ1bmN0aW9uIChjb25maWcsIHN0YWNrKSB7XG4gIHZhciBnZXRDaGlsZEhvc3RDb250ZXh0ID0gY29uZmlnLmdldENoaWxkSG9zdENvbnRleHQsXG4gICAgICBnZXRSb290SG9zdENvbnRleHQgPSBjb25maWcuZ2V0Um9vdEhvc3RDb250ZXh0O1xuICB2YXIgY3JlYXRlQ3Vyc29yID0gc3RhY2suY3JlYXRlQ3Vyc29yLFxuICAgICAgcHVzaCA9IHN0YWNrLnB1c2gsXG4gICAgICBwb3AgPSBzdGFjay5wb3A7XG5cblxuICB2YXIgY29udGV4dFN0YWNrQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKE5PX0NPTlRFWFQpO1xuICB2YXIgY29udGV4dEZpYmVyU3RhY2tDdXJzb3IgPSBjcmVhdGVDdXJzb3IoTk9fQ09OVEVYVCk7XG4gIHZhciByb290SW5zdGFuY2VTdGFja0N1cnNvciA9IGNyZWF0ZUN1cnNvcihOT19DT05URVhUKTtcblxuICBmdW5jdGlvbiByZXF1aXJlZENvbnRleHQoYykge1xuICAgICEoYyAhPT0gTk9fQ09OVEVYVCkgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCBob3N0IGNvbnRleHQgdG8gZXhpc3QuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gICAgcmV0dXJuIGM7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSb290SG9zdENvbnRhaW5lcigpIHtcbiAgICB2YXIgcm9vdEluc3RhbmNlID0gcmVxdWlyZWRDb250ZXh0KHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLmN1cnJlbnQpO1xuICAgIHJldHVybiByb290SW5zdGFuY2U7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoSG9zdENvbnRhaW5lcihmaWJlciwgbmV4dFJvb3RJbnN0YW5jZSkge1xuICAgIC8vIFB1c2ggY3VycmVudCByb290IGluc3RhbmNlIG9udG8gdGhlIHN0YWNrO1xuICAgIC8vIFRoaXMgYWxsb3dzIHVzIHRvIHJlc2V0IHJvb3Qgd2hlbiBwb3J0YWxzIGFyZSBwb3BwZWQuXG4gICAgcHVzaChyb290SW5zdGFuY2VTdGFja0N1cnNvciwgbmV4dFJvb3RJbnN0YW5jZSwgZmliZXIpO1xuICAgIC8vIFRyYWNrIHRoZSBjb250ZXh0IGFuZCB0aGUgRmliZXIgdGhhdCBwcm92aWRlZCBpdC5cbiAgICAvLyBUaGlzIGVuYWJsZXMgdXMgdG8gcG9wIG9ubHkgRmliZXJzIHRoYXQgcHJvdmlkZSB1bmlxdWUgY29udGV4dHMuXG4gICAgcHVzaChjb250ZXh0RmliZXJTdGFja0N1cnNvciwgZmliZXIsIGZpYmVyKTtcblxuICAgIC8vIEZpbmFsbHksIHdlIG5lZWQgdG8gcHVzaCB0aGUgaG9zdCBjb250ZXh0IHRvIHRoZSBzdGFjay5cbiAgICAvLyBIb3dldmVyLCB3ZSBjYW4ndCBqdXN0IGNhbGwgZ2V0Um9vdEhvc3RDb250ZXh0KCkgYW5kIHB1c2ggaXQgYmVjYXVzZVxuICAgIC8vIHdlJ2QgaGF2ZSBhIGRpZmZlcmVudCBudW1iZXIgb2YgZW50cmllcyBvbiB0aGUgc3RhY2sgZGVwZW5kaW5nIG9uXG4gICAgLy8gd2hldGhlciBnZXRSb290SG9zdENvbnRleHQoKSB0aHJvd3Mgc29tZXdoZXJlIGluIHJlbmRlcmVyIGNvZGUgb3Igbm90LlxuICAgIC8vIFNvIHdlIHB1c2ggYW4gZW1wdHkgdmFsdWUgZmlyc3QuIFRoaXMgbGV0cyB1cyBzYWZlbHkgdW53aW5kIG9uIGVycm9ycy5cbiAgICBwdXNoKGNvbnRleHRTdGFja0N1cnNvciwgTk9fQ09OVEVYVCwgZmliZXIpO1xuICAgIHZhciBuZXh0Um9vdENvbnRleHQgPSBnZXRSb290SG9zdENvbnRleHQobmV4dFJvb3RJbnN0YW5jZSk7XG4gICAgLy8gTm93IHRoYXQgd2Uga25vdyB0aGlzIGZ1bmN0aW9uIGRvZXNuJ3QgdGhyb3csIHJlcGxhY2UgaXQuXG4gICAgcG9wKGNvbnRleHRTdGFja0N1cnNvciwgZmliZXIpO1xuICAgIHB1c2goY29udGV4dFN0YWNrQ3Vyc29yLCBuZXh0Um9vdENvbnRleHQsIGZpYmVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvcEhvc3RDb250YWluZXIoZmliZXIpIHtcbiAgICBwb3AoY29udGV4dFN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gICAgcG9wKGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gICAgcG9wKHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRIb3N0Q29udGV4dCgpIHtcbiAgICB2YXIgY29udGV4dCA9IHJlcXVpcmVkQ29udGV4dChjb250ZXh0U3RhY2tDdXJzb3IuY3VycmVudCk7XG4gICAgcmV0dXJuIGNvbnRleHQ7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoSG9zdENvbnRleHQoZmliZXIpIHtcbiAgICB2YXIgcm9vdEluc3RhbmNlID0gcmVxdWlyZWRDb250ZXh0KHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLmN1cnJlbnQpO1xuICAgIHZhciBjb250ZXh0ID0gcmVxdWlyZWRDb250ZXh0KGNvbnRleHRTdGFja0N1cnNvci5jdXJyZW50KTtcbiAgICB2YXIgbmV4dENvbnRleHQgPSBnZXRDaGlsZEhvc3RDb250ZXh0KGNvbnRleHQsIGZpYmVyLnR5cGUsIHJvb3RJbnN0YW5jZSk7XG5cbiAgICAvLyBEb24ndCBwdXNoIHRoaXMgRmliZXIncyBjb250ZXh0IHVubGVzcyBpdCdzIHVuaXF1ZS5cbiAgICBpZiAoY29udGV4dCA9PT0gbmV4dENvbnRleHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUcmFjayB0aGUgY29udGV4dCBhbmQgdGhlIEZpYmVyIHRoYXQgcHJvdmlkZWQgaXQuXG4gICAgLy8gVGhpcyBlbmFibGVzIHVzIHRvIHBvcCBvbmx5IEZpYmVycyB0aGF0IHByb3ZpZGUgdW5pcXVlIGNvbnRleHRzLlxuICAgIHB1c2goY29udGV4dEZpYmVyU3RhY2tDdXJzb3IsIGZpYmVyLCBmaWJlcik7XG4gICAgcHVzaChjb250ZXh0U3RhY2tDdXJzb3IsIG5leHRDb250ZXh0LCBmaWJlcik7XG4gIH1cblxuICBmdW5jdGlvbiBwb3BIb3N0Q29udGV4dChmaWJlcikge1xuICAgIC8vIERvIG5vdCBwb3AgdW5sZXNzIHRoaXMgRmliZXIgcHJvdmlkZWQgdGhlIGN1cnJlbnQgY29udGV4dC5cbiAgICAvLyBwdXNoSG9zdENvbnRleHQoKSBvbmx5IHB1c2hlcyBGaWJlcnMgdGhhdCBwcm92aWRlIHVuaXF1ZSBjb250ZXh0cy5cbiAgICBpZiAoY29udGV4dEZpYmVyU3RhY2tDdXJzb3IuY3VycmVudCAhPT0gZmliZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBwb3AoY29udGV4dFN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gICAgcG9wKGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGdldEhvc3RDb250ZXh0OiBnZXRIb3N0Q29udGV4dCxcbiAgICBnZXRSb290SG9zdENvbnRhaW5lcjogZ2V0Um9vdEhvc3RDb250YWluZXIsXG4gICAgcG9wSG9zdENvbnRhaW5lcjogcG9wSG9zdENvbnRhaW5lcixcbiAgICBwb3BIb3N0Q29udGV4dDogcG9wSG9zdENvbnRleHQsXG4gICAgcHVzaEhvc3RDb250YWluZXI6IHB1c2hIb3N0Q29udGFpbmVyLFxuICAgIHB1c2hIb3N0Q29udGV4dDogcHVzaEhvc3RDb250ZXh0XG4gIH07XG59O1xuXG52YXIgUmVhY3RGaWJlckh5ZHJhdGlvbkNvbnRleHQgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gIHZhciBzaG91bGRTZXRUZXh0Q29udGVudCA9IGNvbmZpZy5zaG91bGRTZXRUZXh0Q29udGVudCxcbiAgICAgIGh5ZHJhdGlvbiA9IGNvbmZpZy5oeWRyYXRpb247XG5cbiAgLy8gSWYgdGhpcyBkb2Vzbid0IGhhdmUgaHlkcmF0aW9uIG1vZGUuXG5cbiAgaWYgKCFoeWRyYXRpb24pIHtcbiAgICByZXR1cm4ge1xuICAgICAgZW50ZXJIeWRyYXRpb25TdGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9LFxuICAgICAgcmVzZXRIeWRyYXRpb25TdGF0ZTogZnVuY3Rpb24gKCkge30sXG4gICAgICB0cnlUb0NsYWltTmV4dEh5ZHJhdGFibGVJbnN0YW5jZTogZnVuY3Rpb24gKCkge30sXG4gICAgICBwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkIHByZXBhcmVUb0h5ZHJhdGVIb3N0SW5zdGFuY2UoKSB0byBuZXZlciBiZSBjYWxsZWQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgICB9LFxuICAgICAgcHJlcGFyZVRvSHlkcmF0ZUhvc3RUZXh0SW5zdGFuY2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaW52YXJpYW50KGZhbHNlLCAnRXhwZWN0ZWQgcHJlcGFyZVRvSHlkcmF0ZUhvc3RUZXh0SW5zdGFuY2UoKSB0byBuZXZlciBiZSBjYWxsZWQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgICB9LFxuICAgICAgcG9wSHlkcmF0aW9uU3RhdGU6IGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHZhciBjYW5IeWRyYXRlSW5zdGFuY2UgPSBoeWRyYXRpb24uY2FuSHlkcmF0ZUluc3RhbmNlLFxuICAgICAgY2FuSHlkcmF0ZVRleHRJbnN0YW5jZSA9IGh5ZHJhdGlvbi5jYW5IeWRyYXRlVGV4dEluc3RhbmNlLFxuICAgICAgZ2V0TmV4dEh5ZHJhdGFibGVTaWJsaW5nID0gaHlkcmF0aW9uLmdldE5leHRIeWRyYXRhYmxlU2libGluZyxcbiAgICAgIGdldEZpcnN0SHlkcmF0YWJsZUNoaWxkID0gaHlkcmF0aW9uLmdldEZpcnN0SHlkcmF0YWJsZUNoaWxkLFxuICAgICAgaHlkcmF0ZUluc3RhbmNlID0gaHlkcmF0aW9uLmh5ZHJhdGVJbnN0YW5jZSxcbiAgICAgIGh5ZHJhdGVUZXh0SW5zdGFuY2UgPSBoeWRyYXRpb24uaHlkcmF0ZVRleHRJbnN0YW5jZSxcbiAgICAgIGRpZE5vdE1hdGNoSHlkcmF0ZWRDb250YWluZXJUZXh0SW5zdGFuY2UgPSBoeWRyYXRpb24uZGlkTm90TWF0Y2hIeWRyYXRlZENvbnRhaW5lclRleHRJbnN0YW5jZSxcbiAgICAgIGRpZE5vdE1hdGNoSHlkcmF0ZWRUZXh0SW5zdGFuY2UgPSBoeWRyYXRpb24uZGlkTm90TWF0Y2hIeWRyYXRlZFRleHRJbnN0YW5jZSxcbiAgICAgIGRpZE5vdEh5ZHJhdGVDb250YWluZXJJbnN0YW5jZSA9IGh5ZHJhdGlvbi5kaWROb3RIeWRyYXRlQ29udGFpbmVySW5zdGFuY2UsXG4gICAgICBkaWROb3RIeWRyYXRlSW5zdGFuY2UgPSBoeWRyYXRpb24uZGlkTm90SHlkcmF0ZUluc3RhbmNlLFxuICAgICAgZGlkTm90RmluZEh5ZHJhdGFibGVDb250YWluZXJJbnN0YW5jZSA9IGh5ZHJhdGlvbi5kaWROb3RGaW5kSHlkcmF0YWJsZUNvbnRhaW5lckluc3RhbmNlLFxuICAgICAgZGlkTm90RmluZEh5ZHJhdGFibGVDb250YWluZXJUZXh0SW5zdGFuY2UgPSBoeWRyYXRpb24uZGlkTm90RmluZEh5ZHJhdGFibGVDb250YWluZXJUZXh0SW5zdGFuY2UsXG4gICAgICBkaWROb3RGaW5kSHlkcmF0YWJsZUluc3RhbmNlID0gaHlkcmF0aW9uLmRpZE5vdEZpbmRIeWRyYXRhYmxlSW5zdGFuY2UsXG4gICAgICBkaWROb3RGaW5kSHlkcmF0YWJsZVRleHRJbnN0YW5jZSA9IGh5ZHJhdGlvbi5kaWROb3RGaW5kSHlkcmF0YWJsZVRleHRJbnN0YW5jZTtcblxuICAvLyBUaGUgZGVlcGVzdCBGaWJlciBvbiB0aGUgc3RhY2sgaW52b2x2ZWQgaW4gYSBoeWRyYXRpb24gY29udGV4dC5cbiAgLy8gVGhpcyBtYXkgaGF2ZSBiZWVuIGFuIGluc2VydGlvbiBvciBhIGh5ZHJhdGlvbi5cblxuICB2YXIgaHlkcmF0aW9uUGFyZW50RmliZXIgPSBudWxsO1xuICB2YXIgbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IG51bGw7XG4gIHZhciBpc0h5ZHJhdGluZyA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGVudGVySHlkcmF0aW9uU3RhdGUoZmliZXIpIHtcbiAgICB2YXIgcGFyZW50SW5zdGFuY2UgPSBmaWJlci5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICBuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gZ2V0Rmlyc3RIeWRyYXRhYmxlQ2hpbGQocGFyZW50SW5zdGFuY2UpO1xuICAgIGh5ZHJhdGlvblBhcmVudEZpYmVyID0gZmliZXI7XG4gICAgaXNIeWRyYXRpbmcgPSB0cnVlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVsZXRlSHlkcmF0YWJsZUluc3RhbmNlKHJldHVybkZpYmVyLCBpbnN0YW5jZSkge1xuICAgIHtcbiAgICAgIHN3aXRjaCAocmV0dXJuRmliZXIudGFnKSB7XG4gICAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgICAgZGlkTm90SHlkcmF0ZUNvbnRhaW5lckluc3RhbmNlKHJldHVybkZpYmVyLnN0YXRlTm9kZS5jb250YWluZXJJbmZvLCBpbnN0YW5jZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICBkaWROb3RIeWRyYXRlSW5zdGFuY2UocmV0dXJuRmliZXIudHlwZSwgcmV0dXJuRmliZXIubWVtb2l6ZWRQcm9wcywgcmV0dXJuRmliZXIuc3RhdGVOb2RlLCBpbnN0YW5jZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGNoaWxkVG9EZWxldGUgPSBjcmVhdGVGaWJlckZyb21Ib3N0SW5zdGFuY2VGb3JEZWxldGlvbigpO1xuICAgIGNoaWxkVG9EZWxldGUuc3RhdGVOb2RlID0gaW5zdGFuY2U7XG4gICAgY2hpbGRUb0RlbGV0ZVsncmV0dXJuJ10gPSByZXR1cm5GaWJlcjtcbiAgICBjaGlsZFRvRGVsZXRlLmVmZmVjdFRhZyA9IERlbGV0aW9uO1xuXG4gICAgLy8gVGhpcyBtaWdodCBzZWVtIGxpa2UgaXQgYmVsb25ncyBvbiBwcm9ncmVzc2VkRmlyc3REZWxldGlvbi4gSG93ZXZlcixcbiAgICAvLyB0aGVzZSBjaGlsZHJlbiBhcmUgbm90IHBhcnQgb2YgdGhlIHJlY29uY2lsaWF0aW9uIGxpc3Qgb2YgY2hpbGRyZW4uXG4gICAgLy8gRXZlbiBpZiB3ZSBhYm9ydCBhbmQgcmVyZWNvbmNpbGUgdGhlIGNoaWxkcmVuLCB0aGF0IHdpbGwgdHJ5IHRvIGh5ZHJhdGVcbiAgICAvLyBhZ2FpbiBhbmQgdGhlIG5vZGVzIGFyZSBzdGlsbCBpbiB0aGUgaG9zdCB0cmVlIHNvIHRoZXNlIHdpbGwgYmVcbiAgICAvLyByZWNyZWF0ZWQuXG4gICAgaWYgKHJldHVybkZpYmVyLmxhc3RFZmZlY3QgIT09IG51bGwpIHtcbiAgICAgIHJldHVybkZpYmVyLmxhc3RFZmZlY3QubmV4dEVmZmVjdCA9IGNoaWxkVG9EZWxldGU7XG4gICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gY2hpbGRUb0RlbGV0ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuRmliZXIuZmlyc3RFZmZlY3QgPSByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gY2hpbGRUb0RlbGV0ZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbnNlcnROb25IeWRyYXRlZEluc3RhbmNlKHJldHVybkZpYmVyLCBmaWJlcikge1xuICAgIGZpYmVyLmVmZmVjdFRhZyB8PSBQbGFjZW1lbnQ7XG4gICAge1xuICAgICAgc3dpdGNoIChyZXR1cm5GaWJlci50YWcpIHtcbiAgICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcGFyZW50Q29udGFpbmVyID0gcmV0dXJuRmliZXIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgICAgICAgICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgICAgICAgICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBmaWJlci50eXBlO1xuICAgICAgICAgICAgICAgIHZhciBwcm9wcyA9IGZpYmVyLnBlbmRpbmdQcm9wcztcbiAgICAgICAgICAgICAgICBkaWROb3RGaW5kSHlkcmF0YWJsZUNvbnRhaW5lckluc3RhbmNlKHBhcmVudENvbnRhaW5lciwgdHlwZSwgcHJvcHMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIEhvc3RUZXh0OlxuICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gZmliZXIucGVuZGluZ1Byb3BzO1xuICAgICAgICAgICAgICAgIGRpZE5vdEZpbmRIeWRyYXRhYmxlQ29udGFpbmVyVGV4dEluc3RhbmNlKHBhcmVudENvbnRhaW5lciwgdGV4dCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcGFyZW50VHlwZSA9IHJldHVybkZpYmVyLnR5cGU7XG4gICAgICAgICAgICB2YXIgcGFyZW50UHJvcHMgPSByZXR1cm5GaWJlci5tZW1vaXplZFByb3BzO1xuICAgICAgICAgICAgdmFyIHBhcmVudEluc3RhbmNlID0gcmV0dXJuRmliZXIuc3RhdGVOb2RlO1xuICAgICAgICAgICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgICAgICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICAgICAgICAgIHZhciBfdHlwZSA9IGZpYmVyLnR5cGU7XG4gICAgICAgICAgICAgICAgdmFyIF9wcm9wcyA9IGZpYmVyLnBlbmRpbmdQcm9wcztcbiAgICAgICAgICAgICAgICBkaWROb3RGaW5kSHlkcmF0YWJsZUluc3RhbmNlKHBhcmVudFR5cGUsIHBhcmVudFByb3BzLCBwYXJlbnRJbnN0YW5jZSwgX3R5cGUsIF9wcm9wcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgSG9zdFRleHQ6XG4gICAgICAgICAgICAgICAgdmFyIF90ZXh0ID0gZmliZXIucGVuZGluZ1Byb3BzO1xuICAgICAgICAgICAgICAgIGRpZE5vdEZpbmRIeWRyYXRhYmxlVGV4dEluc3RhbmNlKHBhcmVudFR5cGUsIHBhcmVudFByb3BzLCBwYXJlbnRJbnN0YW5jZSwgX3RleHQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0cnlIeWRyYXRlKGZpYmVyLCBuZXh0SW5zdGFuY2UpIHtcbiAgICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIHR5cGUgPSBmaWJlci50eXBlO1xuICAgICAgICAgIHZhciBwcm9wcyA9IGZpYmVyLnBlbmRpbmdQcm9wcztcbiAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBjYW5IeWRyYXRlSW5zdGFuY2UobmV4dEluc3RhbmNlLCB0eXBlLCBwcm9wcyk7XG4gICAgICAgICAgaWYgKGluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmaWJlci5zdGF0ZU5vZGUgPSBpbnN0YW5jZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgSG9zdFRleHQ6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgdGV4dCA9IGZpYmVyLnBlbmRpbmdQcm9wcztcbiAgICAgICAgICB2YXIgdGV4dEluc3RhbmNlID0gY2FuSHlkcmF0ZVRleHRJbnN0YW5jZShuZXh0SW5zdGFuY2UsIHRleHQpO1xuICAgICAgICAgIGlmICh0ZXh0SW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGZpYmVyLnN0YXRlTm9kZSA9IHRleHRJbnN0YW5jZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0cnlUb0NsYWltTmV4dEh5ZHJhdGFibGVJbnN0YW5jZShmaWJlcikge1xuICAgIGlmICghaXNIeWRyYXRpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG5leHRJbnN0YW5jZSA9IG5leHRIeWRyYXRhYmxlSW5zdGFuY2U7XG4gICAgaWYgKCFuZXh0SW5zdGFuY2UpIHtcbiAgICAgIC8vIE5vdGhpbmcgdG8gaHlkcmF0ZS4gTWFrZSBpdCBhbiBpbnNlcnRpb24uXG4gICAgICBpbnNlcnROb25IeWRyYXRlZEluc3RhbmNlKGh5ZHJhdGlvblBhcmVudEZpYmVyLCBmaWJlcik7XG4gICAgICBpc0h5ZHJhdGluZyA9IGZhbHNlO1xuICAgICAgaHlkcmF0aW9uUGFyZW50RmliZXIgPSBmaWJlcjtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF0cnlIeWRyYXRlKGZpYmVyLCBuZXh0SW5zdGFuY2UpKSB7XG4gICAgICAvLyBJZiB3ZSBjYW4ndCBoeWRyYXRlIHRoaXMgaW5zdGFuY2UgbGV0J3MgdHJ5IHRoZSBuZXh0IG9uZS5cbiAgICAgIC8vIFdlIHVzZSB0aGlzIGFzIGEgaGV1cmlzdGljLiBJdCdzIGJhc2VkIG9uIGludHVpdGlvbiBhbmQgbm90IGRhdGEgc28gaXRcbiAgICAgIC8vIG1pZ2h0IGJlIGZsYXdlZCBvciB1bm5lY2Vzc2FyeS5cbiAgICAgIG5leHRJbnN0YW5jZSA9IGdldE5leHRIeWRyYXRhYmxlU2libGluZyhuZXh0SW5zdGFuY2UpO1xuICAgICAgaWYgKCFuZXh0SW5zdGFuY2UgfHwgIXRyeUh5ZHJhdGUoZmliZXIsIG5leHRJbnN0YW5jZSkpIHtcbiAgICAgICAgLy8gTm90aGluZyB0byBoeWRyYXRlLiBNYWtlIGl0IGFuIGluc2VydGlvbi5cbiAgICAgICAgaW5zZXJ0Tm9uSHlkcmF0ZWRJbnN0YW5jZShoeWRyYXRpb25QYXJlbnRGaWJlciwgZmliZXIpO1xuICAgICAgICBpc0h5ZHJhdGluZyA9IGZhbHNlO1xuICAgICAgICBoeWRyYXRpb25QYXJlbnRGaWJlciA9IGZpYmVyO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBXZSBtYXRjaGVkIHRoZSBuZXh0IG9uZSwgd2UnbGwgbm93IGFzc3VtZSB0aGF0IHRoZSBmaXJzdCBvbmUgd2FzXG4gICAgICAvLyBzdXBlcmZsdW91cyBhbmQgd2UnbGwgZGVsZXRlIGl0LiBTaW5jZSB3ZSBjYW4ndCBlYWdlcmx5IGRlbGV0ZSBpdFxuICAgICAgLy8gd2UnbGwgaGF2ZSB0byBzY2hlZHVsZSBhIGRlbGV0aW9uLiBUbyBkbyB0aGF0LCB0aGlzIG5vZGUgbmVlZHMgYSBkdW1teVxuICAgICAgLy8gZmliZXIgYXNzb2NpYXRlZCB3aXRoIGl0LlxuICAgICAgZGVsZXRlSHlkcmF0YWJsZUluc3RhbmNlKGh5ZHJhdGlvblBhcmVudEZpYmVyLCBuZXh0SHlkcmF0YWJsZUluc3RhbmNlKTtcbiAgICB9XG4gICAgaHlkcmF0aW9uUGFyZW50RmliZXIgPSBmaWJlcjtcbiAgICBuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gZ2V0Rmlyc3RIeWRyYXRhYmxlQ2hpbGQobmV4dEluc3RhbmNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByZXBhcmVUb0h5ZHJhdGVIb3N0SW5zdGFuY2UoZmliZXIsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgaG9zdENvbnRleHQpIHtcbiAgICB2YXIgaW5zdGFuY2UgPSBmaWJlci5zdGF0ZU5vZGU7XG4gICAgdmFyIHVwZGF0ZVBheWxvYWQgPSBoeWRyYXRlSW5zdGFuY2UoaW5zdGFuY2UsIGZpYmVyLnR5cGUsIGZpYmVyLm1lbW9pemVkUHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgaG9zdENvbnRleHQsIGZpYmVyKTtcbiAgICAvLyBUT0RPOiBUeXBlIHRoaXMgc3BlY2lmaWMgdG8gdGhpcyB0eXBlIG9mIGNvbXBvbmVudC5cbiAgICBmaWJlci51cGRhdGVRdWV1ZSA9IHVwZGF0ZVBheWxvYWQ7XG4gICAgLy8gSWYgdGhlIHVwZGF0ZSBwYXlsb2FkIGluZGljYXRlcyB0aGF0IHRoZXJlIGlzIGEgY2hhbmdlIG9yIGlmIHRoZXJlXG4gICAgLy8gaXMgYSBuZXcgcmVmIHdlIG1hcmsgdGhpcyBhcyBhbiB1cGRhdGUuXG4gICAgaWYgKHVwZGF0ZVBheWxvYWQgIT09IG51bGwpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBwcmVwYXJlVG9IeWRyYXRlSG9zdFRleHRJbnN0YW5jZShmaWJlcikge1xuICAgIHZhciB0ZXh0SW5zdGFuY2UgPSBmaWJlci5zdGF0ZU5vZGU7XG4gICAgdmFyIHRleHRDb250ZW50ID0gZmliZXIubWVtb2l6ZWRQcm9wcztcbiAgICB2YXIgc2hvdWxkVXBkYXRlID0gaHlkcmF0ZVRleHRJbnN0YW5jZSh0ZXh0SW5zdGFuY2UsIHRleHRDb250ZW50LCBmaWJlcik7XG4gICAge1xuICAgICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgICAvLyBXZSBhc3N1bWUgdGhhdCBwcmVwYXJlVG9IeWRyYXRlSG9zdFRleHRJbnN0YW5jZSBpcyBjYWxsZWQgaW4gYSBjb250ZXh0IHdoZXJlIHRoZVxuICAgICAgICAvLyBoeWRyYXRpb24gcGFyZW50IGlzIHRoZSBwYXJlbnQgaG9zdCBjb21wb25lbnQgb2YgdGhpcyBob3N0IHRleHQuXG4gICAgICAgIHZhciByZXR1cm5GaWJlciA9IGh5ZHJhdGlvblBhcmVudEZpYmVyO1xuICAgICAgICBpZiAocmV0dXJuRmliZXIgIT09IG51bGwpIHtcbiAgICAgICAgICBzd2l0Y2ggKHJldHVybkZpYmVyLnRhZykge1xuICAgICAgICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRDb250YWluZXIgPSByZXR1cm5GaWJlci5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgICAgICAgICBkaWROb3RNYXRjaEh5ZHJhdGVkQ29udGFpbmVyVGV4dEluc3RhbmNlKHBhcmVudENvbnRhaW5lciwgdGV4dEluc3RhbmNlLCB0ZXh0Q29udGVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRUeXBlID0gcmV0dXJuRmliZXIudHlwZTtcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50UHJvcHMgPSByZXR1cm5GaWJlci5tZW1vaXplZFByb3BzO1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRJbnN0YW5jZSA9IHJldHVybkZpYmVyLnN0YXRlTm9kZTtcbiAgICAgICAgICAgICAgICBkaWROb3RNYXRjaEh5ZHJhdGVkVGV4dEluc3RhbmNlKHBhcmVudFR5cGUsIHBhcmVudFByb3BzLCBwYXJlbnRJbnN0YW5jZSwgdGV4dEluc3RhbmNlLCB0ZXh0Q29udGVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNob3VsZFVwZGF0ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvcFRvTmV4dEhvc3RQYXJlbnQoZmliZXIpIHtcbiAgICB2YXIgcGFyZW50ID0gZmliZXJbJ3JldHVybiddO1xuICAgIHdoaWxlIChwYXJlbnQgIT09IG51bGwgJiYgcGFyZW50LnRhZyAhPT0gSG9zdENvbXBvbmVudCAmJiBwYXJlbnQudGFnICE9PSBIb3N0Um9vdCkge1xuICAgICAgcGFyZW50ID0gcGFyZW50WydyZXR1cm4nXTtcbiAgICB9XG4gICAgaHlkcmF0aW9uUGFyZW50RmliZXIgPSBwYXJlbnQ7XG4gIH1cblxuICBmdW5jdGlvbiBwb3BIeWRyYXRpb25TdGF0ZShmaWJlcikge1xuICAgIGlmIChmaWJlciAhPT0gaHlkcmF0aW9uUGFyZW50RmliZXIpIHtcbiAgICAgIC8vIFdlJ3JlIGRlZXBlciB0aGFuIHRoZSBjdXJyZW50IGh5ZHJhdGlvbiBjb250ZXh0LCBpbnNpZGUgYW4gaW5zZXJ0ZWRcbiAgICAgIC8vIHRyZWUuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghaXNIeWRyYXRpbmcpIHtcbiAgICAgIC8vIElmIHdlJ3JlIG5vdCBjdXJyZW50bHkgaHlkcmF0aW5nIGJ1dCB3ZSdyZSBpbiBhIGh5ZHJhdGlvbiBjb250ZXh0LCB0aGVuXG4gICAgICAvLyB3ZSB3ZXJlIGFuIGluc2VydGlvbiBhbmQgbm93IG5lZWQgdG8gcG9wIHVwIHJlZW50ZXIgaHlkcmF0aW9uIG9mIG91clxuICAgICAgLy8gc2libGluZ3MuXG4gICAgICBwb3BUb05leHRIb3N0UGFyZW50KGZpYmVyKTtcbiAgICAgIGlzSHlkcmF0aW5nID0gdHJ1ZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgdHlwZSA9IGZpYmVyLnR5cGU7XG5cbiAgICAvLyBJZiB3ZSBoYXZlIGFueSByZW1haW5pbmcgaHlkcmF0YWJsZSBub2Rlcywgd2UgbmVlZCB0byBkZWxldGUgdGhlbSBub3cuXG4gICAgLy8gV2Ugb25seSBkbyB0aGlzIGRlZXBlciB0aGFuIGhlYWQgYW5kIGJvZHkgc2luY2UgdGhleSB0ZW5kIHRvIGhhdmUgcmFuZG9tXG4gICAgLy8gb3RoZXIgbm9kZXMgaW4gdGhlbS4gV2UgYWxzbyBpZ25vcmUgY29tcG9uZW50cyB3aXRoIHB1cmUgdGV4dCBjb250ZW50IGluXG4gICAgLy8gc2lkZSBvZiB0aGVtLlxuICAgIC8vIFRPRE86IEJldHRlciBoZXVyaXN0aWMuXG4gICAgaWYgKGZpYmVyLnRhZyAhPT0gSG9zdENvbXBvbmVudCB8fCB0eXBlICE9PSAnaGVhZCcgJiYgdHlwZSAhPT0gJ2JvZHknICYmICFzaG91bGRTZXRUZXh0Q29udGVudCh0eXBlLCBmaWJlci5tZW1vaXplZFByb3BzKSkge1xuICAgICAgdmFyIG5leHRJbnN0YW5jZSA9IG5leHRIeWRyYXRhYmxlSW5zdGFuY2U7XG4gICAgICB3aGlsZSAobmV4dEluc3RhbmNlKSB7XG4gICAgICAgIGRlbGV0ZUh5ZHJhdGFibGVJbnN0YW5jZShmaWJlciwgbmV4dEluc3RhbmNlKTtcbiAgICAgICAgbmV4dEluc3RhbmNlID0gZ2V0TmV4dEh5ZHJhdGFibGVTaWJsaW5nKG5leHRJbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcG9wVG9OZXh0SG9zdFBhcmVudChmaWJlcik7XG4gICAgbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IGh5ZHJhdGlvblBhcmVudEZpYmVyID8gZ2V0TmV4dEh5ZHJhdGFibGVTaWJsaW5nKGZpYmVyLnN0YXRlTm9kZSkgOiBudWxsO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRIeWRyYXRpb25TdGF0ZSgpIHtcbiAgICBoeWRyYXRpb25QYXJlbnRGaWJlciA9IG51bGw7XG4gICAgbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IG51bGw7XG4gICAgaXNIeWRyYXRpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZW50ZXJIeWRyYXRpb25TdGF0ZTogZW50ZXJIeWRyYXRpb25TdGF0ZSxcbiAgICByZXNldEh5ZHJhdGlvblN0YXRlOiByZXNldEh5ZHJhdGlvblN0YXRlLFxuICAgIHRyeVRvQ2xhaW1OZXh0SHlkcmF0YWJsZUluc3RhbmNlOiB0cnlUb0NsYWltTmV4dEh5ZHJhdGFibGVJbnN0YW5jZSxcbiAgICBwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlOiBwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlLFxuICAgIHByZXBhcmVUb0h5ZHJhdGVIb3N0VGV4dEluc3RhbmNlOiBwcmVwYXJlVG9IeWRyYXRlSG9zdFRleHRJbnN0YW5jZSxcbiAgICBwb3BIeWRyYXRpb25TdGF0ZTogcG9wSHlkcmF0aW9uU3RhdGVcbiAgfTtcbn07XG5cbi8vIFRoaXMgbGV0cyB1cyBob29rIGludG8gRmliZXIgdG8gZGVidWcgd2hhdCBpdCdzIGRvaW5nLlxuLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9wdWxsLzgwMzMuXG4vLyBUaGlzIGlzIG5vdCBwYXJ0IG9mIHRoZSBwdWJsaWMgQVBJLCBub3QgZXZlbiBmb3IgUmVhY3QgRGV2VG9vbHMuXG4vLyBZb3UgbWF5IG9ubHkgaW5qZWN0IGEgZGVidWdUb29sIGlmIHlvdSB3b3JrIG9uIFJlYWN0IEZpYmVyIGl0c2VsZi5cbnZhciBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uID0ge1xuICBkZWJ1Z1Rvb2w6IG51bGxcbn07XG5cbnZhciBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEgPSBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uO1xuXG52YXIgd2FybmVkQWJvdXRNaXNzaW5nR2V0Q2hpbGRDb250ZXh0ID0gdm9pZCAwO1xuXG57XG4gIHdhcm5lZEFib3V0TWlzc2luZ0dldENoaWxkQ29udGV4dCA9IHt9O1xufVxuXG52YXIgUmVhY3RGaWJlckxlZ2FjeUNvbnRleHQgPSBmdW5jdGlvbiAoc3RhY2spIHtcbiAgdmFyIGNyZWF0ZUN1cnNvciA9IHN0YWNrLmNyZWF0ZUN1cnNvcixcbiAgICAgIHB1c2ggPSBzdGFjay5wdXNoLFxuICAgICAgcG9wID0gc3RhY2sucG9wO1xuXG4gIC8vIEEgY3Vyc29yIHRvIHRoZSBjdXJyZW50IG1lcmdlZCBjb250ZXh0IG9iamVjdCBvbiB0aGUgc3RhY2suXG5cbiAgdmFyIGNvbnRleHRTdGFja0N1cnNvciA9IGNyZWF0ZUN1cnNvcihlbXB0eU9iamVjdCk7XG4gIC8vIEEgY3Vyc29yIHRvIGEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGNvbnRleHQgaGFzIGNoYW5nZWQuXG4gIHZhciBkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKGZhbHNlKTtcbiAgLy8gS2VlcCB0cmFjayBvZiB0aGUgcHJldmlvdXMgY29udGV4dCBvYmplY3QgdGhhdCB3YXMgb24gdGhlIHN0YWNrLlxuICAvLyBXZSB1c2UgdGhpcyB0byBnZXQgYWNjZXNzIHRvIHRoZSBwYXJlbnQgY29udGV4dCBhZnRlciB3ZSBoYXZlIGFscmVhZHlcbiAgLy8gcHVzaGVkIHRoZSBuZXh0IGNvbnRleHQgcHJvdmlkZXIsIGFuZCBub3cgbmVlZCB0byBtZXJnZSB0aGVpciBjb250ZXh0cy5cbiAgdmFyIHByZXZpb3VzQ29udGV4dCA9IGVtcHR5T2JqZWN0O1xuXG4gIGZ1bmN0aW9uIGdldFVubWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcykge1xuICAgIHZhciBoYXNPd25Db250ZXh0ID0gaXNDb250ZXh0UHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgIGlmIChoYXNPd25Db250ZXh0KSB7XG4gICAgICAvLyBJZiB0aGUgZmliZXIgaXMgYSBjb250ZXh0IHByb3ZpZGVyIGl0c2VsZiwgd2hlbiB3ZSByZWFkIGl0cyBjb250ZXh0XG4gICAgICAvLyB3ZSBoYXZlIGFscmVhZHkgcHVzaGVkIGl0cyBvd24gY2hpbGQgY29udGV4dCBvbiB0aGUgc3RhY2suIEEgY29udGV4dFxuICAgICAgLy8gcHJvdmlkZXIgc2hvdWxkIG5vdCBcInNlZVwiIGl0cyBvd24gY2hpbGQgY29udGV4dC4gVGhlcmVmb3JlIHdlIHJlYWQgdGhlXG4gICAgICAvLyBwcmV2aW91cyAocGFyZW50KSBjb250ZXh0IGluc3RlYWQgZm9yIGEgY29udGV4dCBwcm92aWRlci5cbiAgICAgIHJldHVybiBwcmV2aW91c0NvbnRleHQ7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0U3RhY2tDdXJzb3IuY3VycmVudDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhY2hlQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgdW5tYXNrZWRDb250ZXh0LCBtYXNrZWRDb250ZXh0KSB7XG4gICAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgIGluc3RhbmNlLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkVW5tYXNrZWRDaGlsZENvbnRleHQgPSB1bm1hc2tlZENvbnRleHQ7XG4gICAgaW5zdGFuY2UuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNYXNrZWRDaGlsZENvbnRleHQgPSBtYXNrZWRDb250ZXh0O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgdW5tYXNrZWRDb250ZXh0KSB7XG4gICAgdmFyIHR5cGUgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgIHZhciBjb250ZXh0VHlwZXMgPSB0eXBlLmNvbnRleHRUeXBlcztcbiAgICBpZiAoIWNvbnRleHRUeXBlcykge1xuICAgICAgcmV0dXJuIGVtcHR5T2JqZWN0O1xuICAgIH1cblxuICAgIC8vIEF2b2lkIHJlY3JlYXRpbmcgbWFza2VkIGNvbnRleHQgdW5sZXNzIHVubWFza2VkIGNvbnRleHQgaGFzIGNoYW5nZWQuXG4gICAgLy8gRmFpbGluZyB0byBkbyB0aGlzIHdpbGwgcmVzdWx0IGluIHVubmVjZXNzYXJ5IGNhbGxzIHRvIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMuXG4gICAgLy8gVGhpcyBtYXkgdHJpZ2dlciBpbmZpbml0ZSBsb29wcyBpZiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIGNhbGxzIHNldFN0YXRlLlxuICAgIHZhciBpbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2UuX19yZWFjdEludGVybmFsTWVtb2l6ZWRVbm1hc2tlZENoaWxkQ29udGV4dCA9PT0gdW5tYXNrZWRDb250ZXh0KSB7XG4gICAgICByZXR1cm4gaW5zdGFuY2UuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNYXNrZWRDaGlsZENvbnRleHQ7XG4gICAgfVxuXG4gICAgdmFyIGNvbnRleHQgPSB7fTtcbiAgICBmb3IgKHZhciBrZXkgaW4gY29udGV4dFR5cGVzKSB7XG4gICAgICBjb250ZXh0W2tleV0gPSB1bm1hc2tlZENvbnRleHRba2V5XTtcbiAgICB9XG5cbiAgICB7XG4gICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpIHx8ICdVbmtub3duJztcbiAgICAgIGNoZWNrUHJvcFR5cGVzKGNvbnRleHRUeXBlcywgY29udGV4dCwgJ2NvbnRleHQnLCBuYW1lLCBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0pO1xuICAgIH1cblxuICAgIC8vIENhY2hlIHVubWFza2VkIGNvbnRleHQgc28gd2UgY2FuIGF2b2lkIHJlY3JlYXRpbmcgbWFza2VkIGNvbnRleHQgdW5sZXNzIG5lY2Vzc2FyeS5cbiAgICAvLyBDb250ZXh0IGlzIGNyZWF0ZWQgYmVmb3JlIHRoZSBjbGFzcyBjb21wb25lbnQgaXMgaW5zdGFudGlhdGVkIHNvIGNoZWNrIGZvciBpbnN0YW5jZS5cbiAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgIGNhY2hlQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgdW5tYXNrZWRDb250ZXh0LCBjb250ZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGV4dDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc0NvbnRleHRDaGFuZ2VkKCkge1xuICAgIHJldHVybiBkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yLmN1cnJlbnQ7XG4gIH1cblxuICBmdW5jdGlvbiBpc0NvbnRleHRDb25zdW1lcihmaWJlcikge1xuICAgIHJldHVybiBmaWJlci50YWcgPT09IENsYXNzQ29tcG9uZW50ICYmIGZpYmVyLnR5cGUuY29udGV4dFR5cGVzICE9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBpc0NvbnRleHRQcm92aWRlcihmaWJlcikge1xuICAgIHJldHVybiBmaWJlci50YWcgPT09IENsYXNzQ29tcG9uZW50ICYmIGZpYmVyLnR5cGUuY2hpbGRDb250ZXh0VHlwZXMgIT0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvcENvbnRleHRQcm92aWRlcihmaWJlcikge1xuICAgIGlmICghaXNDb250ZXh0UHJvdmlkZXIoZmliZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcG9wKGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IsIGZpYmVyKTtcbiAgICBwb3AoY29udGV4dFN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gIH1cblxuICBmdW5jdGlvbiBwb3BUb3BMZXZlbENvbnRleHRPYmplY3QoZmliZXIpIHtcbiAgICBwb3AoZGlkUGVyZm9ybVdvcmtTdGFja0N1cnNvciwgZmliZXIpO1xuICAgIHBvcChjb250ZXh0U3RhY2tDdXJzb3IsIGZpYmVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHB1c2hUb3BMZXZlbENvbnRleHRPYmplY3QoZmliZXIsIGNvbnRleHQsIGRpZENoYW5nZSkge1xuICAgICEoY29udGV4dFN0YWNrQ3Vyc29yLmN1cnNvciA9PSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ1VuZXhwZWN0ZWQgY29udGV4dCBmb3VuZCBvbiBzdGFjay4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcblxuICAgIHB1c2goY29udGV4dFN0YWNrQ3Vyc29yLCBjb250ZXh0LCBmaWJlcik7XG4gICAgcHVzaChkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yLCBkaWRDaGFuZ2UsIGZpYmVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NDaGlsZENvbnRleHQoZmliZXIsIHBhcmVudENvbnRleHQpIHtcbiAgICB2YXIgaW5zdGFuY2UgPSBmaWJlci5zdGF0ZU5vZGU7XG4gICAgdmFyIGNoaWxkQ29udGV4dFR5cGVzID0gZmliZXIudHlwZS5jaGlsZENvbnRleHRUeXBlcztcblxuICAgIC8vIFRPRE8gKGJ2YXVnaG4pIFJlcGxhY2UgdGhpcyBiZWhhdmlvciB3aXRoIGFuIGludmFyaWFudCgpIGluIHRoZSBmdXR1cmUuXG4gICAgLy8gSXQgaGFzIG9ubHkgYmVlbiBhZGRlZCBpbiBGaWJlciB0byBtYXRjaCB0aGUgKHVuaW50ZW50aW9uYWwpIGJlaGF2aW9yIGluIFN0YWNrLlxuICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuZ2V0Q2hpbGRDb250ZXh0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgJ1Vua25vd24nO1xuXG4gICAgICAgIGlmICghd2FybmVkQWJvdXRNaXNzaW5nR2V0Q2hpbGRDb250ZXh0W2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICAgICAgd2FybmVkQWJvdXRNaXNzaW5nR2V0Q2hpbGRDb250ZXh0W2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnJXMuY2hpbGRDb250ZXh0VHlwZXMgaXMgc3BlY2lmaWVkIGJ1dCB0aGVyZSBpcyBubyBnZXRDaGlsZENvbnRleHQoKSBtZXRob2QgJyArICdvbiB0aGUgaW5zdGFuY2UuIFlvdSBjYW4gZWl0aGVyIGRlZmluZSBnZXRDaGlsZENvbnRleHQoKSBvbiAlcyBvciByZW1vdmUgJyArICdjaGlsZENvbnRleHRUeXBlcyBmcm9tIGl0LicsIGNvbXBvbmVudE5hbWUsIGNvbXBvbmVudE5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcGFyZW50Q29udGV4dDtcbiAgICB9XG5cbiAgICB2YXIgY2hpbGRDb250ZXh0ID0gdm9pZCAwO1xuICAgIHtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIuc2V0Q3VycmVudFBoYXNlKCdnZXRDaGlsZENvbnRleHQnKTtcbiAgICB9XG4gICAgc3RhcnRQaGFzZVRpbWVyKGZpYmVyLCAnZ2V0Q2hpbGRDb250ZXh0Jyk7XG4gICAgY2hpbGRDb250ZXh0ID0gaW5zdGFuY2UuZ2V0Q2hpbGRDb250ZXh0KCk7XG4gICAgc3RvcFBoYXNlVGltZXIoKTtcbiAgICB7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnNldEN1cnJlbnRQaGFzZShudWxsKTtcbiAgICB9XG4gICAgZm9yICh2YXIgY29udGV4dEtleSBpbiBjaGlsZENvbnRleHQpIHtcbiAgICAgICEoY29udGV4dEtleSBpbiBjaGlsZENvbnRleHRUeXBlcykgPyBpbnZhcmlhbnQoZmFsc2UsICclcy5nZXRDaGlsZENvbnRleHQoKToga2V5IFwiJXNcIiBpcyBub3QgZGVmaW5lZCBpbiBjaGlsZENvbnRleHRUeXBlcy4nLCBnZXRDb21wb25lbnROYW1lKGZpYmVyKSB8fCAnVW5rbm93bicsIGNvbnRleHRLZXkpIDogdm9pZCAwO1xuICAgIH1cbiAgICB7XG4gICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoZmliZXIpIHx8ICdVbmtub3duJztcbiAgICAgIGNoZWNrUHJvcFR5cGVzKGNoaWxkQ29udGV4dFR5cGVzLCBjaGlsZENvbnRleHQsICdjaGlsZCBjb250ZXh0JywgbmFtZSxcbiAgICAgIC8vIEluIHByYWN0aWNlLCB0aGVyZSBpcyBvbmUgY2FzZSBpbiB3aGljaCB3ZSB3b24ndCBnZXQgYSBzdGFjay4gSXQncyB3aGVuXG4gICAgICAvLyBzb21lYm9keSBjYWxscyB1bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcigpIGFuZCB3ZSBwcm9jZXNzXG4gICAgICAvLyBjb250ZXh0IGZyb20gdGhlIHBhcmVudCBjb21wb25lbnQgaW5zdGFuY2UuIFRoZSBzdGFjayB3aWxsIGJlIG1pc3NpbmdcbiAgICAgIC8vIGJlY2F1c2UgaXQncyBvdXRzaWRlIG9mIHRoZSByZWNvbmNpbGlhdGlvbiwgYW5kIHNvIHRoZSBwb2ludGVyIGhhcyBub3RcbiAgICAgIC8vIGJlZW4gc2V0LiBUaGlzIGlzIHJhcmUgYW5kIGRvZXNuJ3QgbWF0dGVyLiBXZSdsbCBhbHNvIHJlbW92ZSB0aGF0IEFQSS5cbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIuZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9hc3NpZ24oe30sIHBhcmVudENvbnRleHQsIGNoaWxkQ29udGV4dCk7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoQ29udGV4dFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKSB7XG4gICAgaWYgKCFpc0NvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgLy8gV2UgcHVzaCB0aGUgY29udGV4dCBhcyBlYXJseSBhcyBwb3NzaWJsZSB0byBlbnN1cmUgc3RhY2sgaW50ZWdyaXR5LlxuICAgIC8vIElmIHRoZSBpbnN0YW5jZSBkb2VzIG5vdCBleGlzdCB5ZXQsIHdlIHdpbGwgcHVzaCBudWxsIGF0IGZpcnN0LFxuICAgIC8vIGFuZCByZXBsYWNlIGl0IG9uIHRoZSBzdGFjayBsYXRlciB3aGVuIGludmFsaWRhdGluZyB0aGUgY29udGV4dC5cbiAgICB2YXIgbWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1lcmdlZENoaWxkQ29udGV4dCB8fCBlbXB0eU9iamVjdDtcblxuICAgIC8vIFJlbWVtYmVyIHRoZSBwYXJlbnQgY29udGV4dCBzbyB3ZSBjYW4gbWVyZ2Ugd2l0aCBpdCBsYXRlci5cbiAgICAvLyBJbmhlcml0IHRoZSBwYXJlbnQncyBkaWQtcGVyZm9ybS13b3JrIHZhbHVlIHRvIGF2b2lkIGluYWR2ZXJ0ZW50bHkgYmxvY2tpbmcgdXBkYXRlcy5cbiAgICBwcmV2aW91c0NvbnRleHQgPSBjb250ZXh0U3RhY2tDdXJzb3IuY3VycmVudDtcbiAgICBwdXNoKGNvbnRleHRTdGFja0N1cnNvciwgbWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQsIHdvcmtJblByb2dyZXNzKTtcbiAgICBwdXNoKGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IsIGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IuY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBpbnZhbGlkYXRlQ29udGV4dFByb3ZpZGVyKHdvcmtJblByb2dyZXNzLCBkaWRDaGFuZ2UpIHtcbiAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgIWluc3RhbmNlID8gaW52YXJpYW50KGZhbHNlLCAnRXhwZWN0ZWQgdG8gaGF2ZSBhbiBpbnN0YW5jZSBieSB0aGlzIHBvaW50LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuXG4gICAgaWYgKGRpZENoYW5nZSkge1xuICAgICAgLy8gTWVyZ2UgcGFyZW50IGFuZCBvd24gY29udGV4dC5cbiAgICAgIC8vIFNraXAgdGhpcyBpZiB3ZSdyZSBub3QgdXBkYXRpbmcgZHVlIHRvIHNDVS5cbiAgICAgIC8vIFRoaXMgYXZvaWRzIHVubmVjZXNzYXJpbHkgcmVjb21wdXRpbmcgbWVtb2l6ZWQgdmFsdWVzLlxuICAgICAgdmFyIG1lcmdlZENvbnRleHQgPSBwcm9jZXNzQ2hpbGRDb250ZXh0KHdvcmtJblByb2dyZXNzLCBwcmV2aW91c0NvbnRleHQpO1xuICAgICAgaW5zdGFuY2UuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQgPSBtZXJnZWRDb250ZXh0O1xuXG4gICAgICAvLyBSZXBsYWNlIHRoZSBvbGQgKG9yIGVtcHR5KSBjb250ZXh0IHdpdGggdGhlIG5ldyBvbmUuXG4gICAgICAvLyBJdCBpcyBpbXBvcnRhbnQgdG8gdW53aW5kIHRoZSBjb250ZXh0IGluIHRoZSByZXZlcnNlIG9yZGVyLlxuICAgICAgcG9wKGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHBvcChjb250ZXh0U3RhY2tDdXJzb3IsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIC8vIE5vdyBwdXNoIHRoZSBuZXcgY29udGV4dCBhbmQgbWFyayB0aGF0IGl0IGhhcyBjaGFuZ2VkLlxuICAgICAgcHVzaChjb250ZXh0U3RhY2tDdXJzb3IsIG1lcmdlZENvbnRleHQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHB1c2goZGlkUGVyZm9ybVdvcmtTdGFja0N1cnNvciwgZGlkQ2hhbmdlLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvcChkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBwdXNoKGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IsIGRpZENoYW5nZSwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmRDdXJyZW50VW5tYXNrZWRDb250ZXh0KGZpYmVyKSB7XG4gICAgLy8gQ3VycmVudGx5IHRoaXMgaXMgb25seSB1c2VkIHdpdGggcmVuZGVyU3VidHJlZUludG9Db250YWluZXI7IG5vdCBzdXJlIGlmIGl0XG4gICAgLy8gbWFrZXMgc2Vuc2UgZWxzZXdoZXJlXG4gICAgIShpc0ZpYmVyTW91bnRlZChmaWJlcikgJiYgZmliZXIudGFnID09PSBDbGFzc0NvbXBvbmVudCkgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCBzdWJ0cmVlIHBhcmVudCB0byBiZSBhIG1vdW50ZWQgY2xhc3MgY29tcG9uZW50LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuXG4gICAgdmFyIG5vZGUgPSBmaWJlcjtcbiAgICB3aGlsZSAobm9kZS50YWcgIT09IEhvc3RSb290KSB7XG4gICAgICBpZiAoaXNDb250ZXh0UHJvdmlkZXIobm9kZSkpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuc3RhdGVOb2RlLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0O1xuICAgICAgfVxuICAgICAgdmFyIHBhcmVudCA9IG5vZGVbJ3JldHVybiddO1xuICAgICAgIXBhcmVudCA/IGludmFyaWFudChmYWxzZSwgJ0ZvdW5kIHVuZXhwZWN0ZWQgZGV0YWNoZWQgc3VidHJlZSBwYXJlbnQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gICAgICBub2RlID0gcGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4gbm9kZS5zdGF0ZU5vZGUuY29udGV4dDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZ2V0VW5tYXNrZWRDb250ZXh0OiBnZXRVbm1hc2tlZENvbnRleHQsXG4gICAgY2FjaGVDb250ZXh0OiBjYWNoZUNvbnRleHQsXG4gICAgZ2V0TWFza2VkQ29udGV4dDogZ2V0TWFza2VkQ29udGV4dCxcbiAgICBoYXNDb250ZXh0Q2hhbmdlZDogaGFzQ29udGV4dENoYW5nZWQsXG4gICAgaXNDb250ZXh0Q29uc3VtZXI6IGlzQ29udGV4dENvbnN1bWVyLFxuICAgIGlzQ29udGV4dFByb3ZpZGVyOiBpc0NvbnRleHRQcm92aWRlcixcbiAgICBwb3BDb250ZXh0UHJvdmlkZXI6IHBvcENvbnRleHRQcm92aWRlcixcbiAgICBwb3BUb3BMZXZlbENvbnRleHRPYmplY3Q6IHBvcFRvcExldmVsQ29udGV4dE9iamVjdCxcbiAgICBwdXNoVG9wTGV2ZWxDb250ZXh0T2JqZWN0OiBwdXNoVG9wTGV2ZWxDb250ZXh0T2JqZWN0LFxuICAgIHByb2Nlc3NDaGlsZENvbnRleHQ6IHByb2Nlc3NDaGlsZENvbnRleHQsXG4gICAgcHVzaENvbnRleHRQcm92aWRlcjogcHVzaENvbnRleHRQcm92aWRlcixcbiAgICBpbnZhbGlkYXRlQ29udGV4dFByb3ZpZGVyOiBpbnZhbGlkYXRlQ29udGV4dFByb3ZpZGVyLFxuICAgIGZpbmRDdXJyZW50VW5tYXNrZWRDb250ZXh0OiBmaW5kQ3VycmVudFVubWFza2VkQ29udGV4dFxuICB9O1xufTtcblxudmFyIFJlYWN0RmliZXJOZXdDb250ZXh0ID0gZnVuY3Rpb24gKHN0YWNrKSB7XG4gIHZhciBjcmVhdGVDdXJzb3IgPSBzdGFjay5jcmVhdGVDdXJzb3IsXG4gICAgICBwdXNoID0gc3RhY2sucHVzaCxcbiAgICAgIHBvcCA9IHN0YWNrLnBvcDtcblxuXG4gIHZhciBwcm92aWRlckN1cnNvciA9IGNyZWF0ZUN1cnNvcihudWxsKTtcbiAgdmFyIHZhbHVlQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKG51bGwpO1xuICB2YXIgY2hhbmdlZEJpdHNDdXJzb3IgPSBjcmVhdGVDdXJzb3IoMCk7XG5cbiAgdmFyIHJlbmRlcmVyU2lnaWwgPSB2b2lkIDA7XG4gIHtcbiAgICAvLyBVc2UgdGhpcyB0byBkZXRlY3QgbXVsdGlwbGUgcmVuZGVyZXJzIHVzaW5nIHRoZSBzYW1lIGNvbnRleHRcbiAgICByZW5kZXJlclNpZ2lsID0ge307XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoUHJvdmlkZXIocHJvdmlkZXJGaWJlcikge1xuICAgIHZhciBjb250ZXh0ID0gcHJvdmlkZXJGaWJlci50eXBlLl9jb250ZXh0O1xuXG4gICAgcHVzaChjaGFuZ2VkQml0c0N1cnNvciwgY29udGV4dC5fY2hhbmdlZEJpdHMsIHByb3ZpZGVyRmliZXIpO1xuICAgIHB1c2godmFsdWVDdXJzb3IsIGNvbnRleHQuX2N1cnJlbnRWYWx1ZSwgcHJvdmlkZXJGaWJlcik7XG4gICAgcHVzaChwcm92aWRlckN1cnNvciwgcHJvdmlkZXJGaWJlciwgcHJvdmlkZXJGaWJlcik7XG5cbiAgICBjb250ZXh0Ll9jdXJyZW50VmFsdWUgPSBwcm92aWRlckZpYmVyLnBlbmRpbmdQcm9wcy52YWx1ZTtcbiAgICBjb250ZXh0Ll9jaGFuZ2VkQml0cyA9IHByb3ZpZGVyRmliZXIuc3RhdGVOb2RlO1xuXG4gICAge1xuICAgICAgd2FybmluZyhjb250ZXh0Ll9jdXJyZW50UmVuZGVyZXIgPT09IG51bGwgfHwgY29udGV4dC5fY3VycmVudFJlbmRlcmVyID09PSByZW5kZXJlclNpZ2lsLCAnRGV0ZWN0ZWQgbXVsdGlwbGUgcmVuZGVyZXJzIGNvbmN1cnJlbnRseSByZW5kZXJpbmcgdGhlICcgKyAnc2FtZSBjb250ZXh0IHByb3ZpZGVyLiBUaGlzIGlzIGN1cnJlbnRseSB1bnN1cHBvcnRlZC4nKTtcbiAgICAgIGNvbnRleHQuX2N1cnJlbnRSZW5kZXJlciA9IHJlbmRlcmVyU2lnaWw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcG9wUHJvdmlkZXIocHJvdmlkZXJGaWJlcikge1xuICAgIHZhciBjaGFuZ2VkQml0cyA9IGNoYW5nZWRCaXRzQ3Vyc29yLmN1cnJlbnQ7XG4gICAgdmFyIGN1cnJlbnRWYWx1ZSA9IHZhbHVlQ3Vyc29yLmN1cnJlbnQ7XG5cbiAgICBwb3AocHJvdmlkZXJDdXJzb3IsIHByb3ZpZGVyRmliZXIpO1xuICAgIHBvcCh2YWx1ZUN1cnNvciwgcHJvdmlkZXJGaWJlcik7XG4gICAgcG9wKGNoYW5nZWRCaXRzQ3Vyc29yLCBwcm92aWRlckZpYmVyKTtcblxuICAgIHZhciBjb250ZXh0ID0gcHJvdmlkZXJGaWJlci50eXBlLl9jb250ZXh0O1xuICAgIGNvbnRleHQuX2N1cnJlbnRWYWx1ZSA9IGN1cnJlbnRWYWx1ZTtcbiAgICBjb250ZXh0Ll9jaGFuZ2VkQml0cyA9IGNoYW5nZWRCaXRzO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBwdXNoUHJvdmlkZXI6IHB1c2hQcm92aWRlcixcbiAgICBwb3BQcm92aWRlcjogcG9wUHJvdmlkZXJcbiAgfTtcbn07XG5cbnZhciBSZWFjdEZpYmVyU3RhY2sgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB2YWx1ZVN0YWNrID0gW107XG5cbiAgdmFyIGZpYmVyU3RhY2sgPSB2b2lkIDA7XG5cbiAge1xuICAgIGZpYmVyU3RhY2sgPSBbXTtcbiAgfVxuXG4gIHZhciBpbmRleCA9IC0xO1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUN1cnNvcihkZWZhdWx0VmFsdWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY3VycmVudDogZGVmYXVsdFZhbHVlXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzRW1wdHkoKSB7XG4gICAgcmV0dXJuIGluZGV4ID09PSAtMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvcChjdXJzb3IsIGZpYmVyKSB7XG4gICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAge1xuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnVW5leHBlY3RlZCBwb3AuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAge1xuICAgICAgaWYgKGZpYmVyICE9PSBmaWJlclN0YWNrW2luZGV4XSkge1xuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnVW5leHBlY3RlZCBGaWJlciBwb3BwZWQuJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY3Vyc29yLmN1cnJlbnQgPSB2YWx1ZVN0YWNrW2luZGV4XTtcblxuICAgIHZhbHVlU3RhY2tbaW5kZXhdID0gbnVsbDtcblxuICAgIHtcbiAgICAgIGZpYmVyU3RhY2tbaW5kZXhdID0gbnVsbDtcbiAgICB9XG5cbiAgICBpbmRleC0tO1xuICB9XG5cbiAgZnVuY3Rpb24gcHVzaChjdXJzb3IsIHZhbHVlLCBmaWJlcikge1xuICAgIGluZGV4Kys7XG5cbiAgICB2YWx1ZVN0YWNrW2luZGV4XSA9IGN1cnNvci5jdXJyZW50O1xuXG4gICAge1xuICAgICAgZmliZXJTdGFja1tpbmRleF0gPSBmaWJlcjtcbiAgICB9XG5cbiAgICBjdXJzb3IuY3VycmVudCA9IHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tUaGF0U3RhY2tJc0VtcHR5KCkge1xuICAgIHtcbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJ0V4cGVjdGVkIGFuIGVtcHR5IHN0YWNrLiBTb21ldGhpbmcgd2FzIG5vdCByZXNldCBwcm9wZXJseS4nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFN0YWNrQWZ0ZXJGYXRhbEVycm9ySW5EZXYoKSB7XG4gICAge1xuICAgICAgaW5kZXggPSAtMTtcbiAgICAgIHZhbHVlU3RhY2subGVuZ3RoID0gMDtcbiAgICAgIGZpYmVyU3RhY2subGVuZ3RoID0gMDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGNyZWF0ZUN1cnNvcjogY3JlYXRlQ3Vyc29yLFxuICAgIGlzRW1wdHk6IGlzRW1wdHksXG4gICAgcG9wOiBwb3AsXG4gICAgcHVzaDogcHVzaCxcbiAgICBjaGVja1RoYXRTdGFja0lzRW1wdHk6IGNoZWNrVGhhdFN0YWNrSXNFbXB0eSxcbiAgICByZXNldFN0YWNrQWZ0ZXJGYXRhbEVycm9ySW5EZXY6IHJlc2V0U3RhY2tBZnRlckZhdGFsRXJyb3JJbkRldlxuICB9O1xufTtcblxudmFyIGludm9rZUd1YXJkZWRDYWxsYmFjayQyID0gUmVhY3RFcnJvclV0aWxzLmludm9rZUd1YXJkZWRDYWxsYmFjaztcbnZhciBoYXNDYXVnaHRFcnJvciA9IFJlYWN0RXJyb3JVdGlscy5oYXNDYXVnaHRFcnJvcjtcbnZhciBjbGVhckNhdWdodEVycm9yID0gUmVhY3RFcnJvclV0aWxzLmNsZWFyQ2F1Z2h0RXJyb3I7XG5cblxudmFyIGRpZFdhcm5BYm91dFN0YXRlVHJhbnNpdGlvbiA9IHZvaWQgMDtcbnZhciBkaWRXYXJuU2V0U3RhdGVDaGlsZENvbnRleHQgPSB2b2lkIDA7XG52YXIgd2FybkFib3V0VXBkYXRlT25Vbm1vdW50ZWQgPSB2b2lkIDA7XG52YXIgd2FybkFib3V0SW52YWxpZFVwZGF0ZXMgPSB2b2lkIDA7XG5cbntcbiAgZGlkV2FybkFib3V0U3RhdGVUcmFuc2l0aW9uID0gZmFsc2U7XG4gIGRpZFdhcm5TZXRTdGF0ZUNoaWxkQ29udGV4dCA9IGZhbHNlO1xuICB2YXIgZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50ID0ge307XG5cbiAgd2FybkFib3V0VXBkYXRlT25Vbm1vdW50ZWQgPSBmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAvLyBXZSBzaG93IHRoZSB3aG9sZSBzdGFjayBidXQgZGVkdXBlIG9uIHRoZSB0b3AgY29tcG9uZW50J3MgbmFtZSBiZWNhdXNlXG4gICAgLy8gdGhlIHByb2JsZW1hdGljIGNvZGUgYWxtb3N0IGFsd2F5cyBsaWVzIGluc2lkZSB0aGF0IGNvbXBvbmVudC5cbiAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUoZmliZXIpIHx8ICdSZWFjdENsYXNzJztcbiAgICBpZiAoZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50W2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdhcm5pbmcoZmFsc2UsIFwiQ2FuJ3QgY2FsbCBzZXRTdGF0ZSAob3IgZm9yY2VVcGRhdGUpIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuIFRoaXMgXCIgKyAnaXMgYSBuby1vcCwgYnV0IGl0IGluZGljYXRlcyBhIG1lbW9yeSBsZWFrIGluIHlvdXIgYXBwbGljYXRpb24uIFRvICcgKyAnZml4LCBjYW5jZWwgYWxsIHN1YnNjcmlwdGlvbnMgYW5kIGFzeW5jaHJvbm91cyB0YXNrcyBpbiB0aGUgJyArICdjb21wb25lbnRXaWxsVW5tb3VudCBtZXRob2QuJXMnLCBnZXRTdGFja0FkZGVuZHVtQnlXb3JrSW5Qcm9ncmVzc0ZpYmVyKGZpYmVyKSk7XG4gICAgZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50W2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgfTtcblxuICB3YXJuQWJvdXRJbnZhbGlkVXBkYXRlcyA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgIHN3aXRjaCAoUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5waGFzZSkge1xuICAgICAgY2FzZSAnZ2V0Q2hpbGRDb250ZXh0JzpcbiAgICAgICAgaWYgKGRpZFdhcm5TZXRTdGF0ZUNoaWxkQ29udGV4dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnc2V0U3RhdGUoLi4uKTogQ2Fubm90IGNhbGwgc2V0U3RhdGUoKSBpbnNpZGUgZ2V0Q2hpbGRDb250ZXh0KCknKTtcbiAgICAgICAgZGlkV2FyblNldFN0YXRlQ2hpbGRDb250ZXh0ID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZW5kZXInOlxuICAgICAgICBpZiAoZGlkV2FybkFib3V0U3RhdGVUcmFuc2l0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICdDYW5ub3QgdXBkYXRlIGR1cmluZyBhbiBleGlzdGluZyBzdGF0ZSB0cmFuc2l0aW9uIChzdWNoIGFzIHdpdGhpbiAnICsgXCJgcmVuZGVyYCBvciBhbm90aGVyIGNvbXBvbmVudCdzIGNvbnN0cnVjdG9yKS4gUmVuZGVyIG1ldGhvZHMgc2hvdWxkIFwiICsgJ2JlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGU7IGNvbnN0cnVjdG9yIHNpZGUtZWZmZWN0cyBhcmUgJyArICdhbiBhbnRpLXBhdHRlcm4sIGJ1dCBjYW4gYmUgbW92ZWQgdG8gYGNvbXBvbmVudFdpbGxNb3VudGAuJyk7XG4gICAgICAgIGRpZFdhcm5BYm91dFN0YXRlVHJhbnNpdGlvbiA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcbn1cblxudmFyIFJlYWN0RmliZXJTY2hlZHVsZXIgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gIHZhciBzdGFjayA9IFJlYWN0RmliZXJTdGFjaygpO1xuICB2YXIgaG9zdENvbnRleHQgPSBSZWFjdEZpYmVySG9zdENvbnRleHQoY29uZmlnLCBzdGFjayk7XG4gIHZhciBsZWdhY3lDb250ZXh0ID0gUmVhY3RGaWJlckxlZ2FjeUNvbnRleHQoc3RhY2spO1xuICB2YXIgbmV3Q29udGV4dCA9IFJlYWN0RmliZXJOZXdDb250ZXh0KHN0YWNrKTtcbiAgdmFyIHBvcEhvc3RDb250ZXh0ID0gaG9zdENvbnRleHQucG9wSG9zdENvbnRleHQsXG4gICAgICBwb3BIb3N0Q29udGFpbmVyID0gaG9zdENvbnRleHQucG9wSG9zdENvbnRhaW5lcjtcbiAgdmFyIHBvcFRvcExldmVsTGVnYWN5Q29udGV4dE9iamVjdCA9IGxlZ2FjeUNvbnRleHQucG9wVG9wTGV2ZWxDb250ZXh0T2JqZWN0LFxuICAgICAgcG9wTGVnYWN5Q29udGV4dFByb3ZpZGVyID0gbGVnYWN5Q29udGV4dC5wb3BDb250ZXh0UHJvdmlkZXI7XG4gIHZhciBwb3BQcm92aWRlciA9IG5ld0NvbnRleHQucG9wUHJvdmlkZXI7XG5cbiAgdmFyIGh5ZHJhdGlvbkNvbnRleHQgPSBSZWFjdEZpYmVySHlkcmF0aW9uQ29udGV4dChjb25maWcpO1xuXG4gIHZhciBfUmVhY3RGaWJlckJlZ2luV29yayA9IFJlYWN0RmliZXJCZWdpbldvcmsoY29uZmlnLCBob3N0Q29udGV4dCwgbGVnYWN5Q29udGV4dCwgbmV3Q29udGV4dCwgaHlkcmF0aW9uQ29udGV4dCwgc2NoZWR1bGVXb3JrLCBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyKSxcbiAgICAgIGJlZ2luV29yayA9IF9SZWFjdEZpYmVyQmVnaW5Xb3JrLmJlZ2luV29yaztcblxuICB2YXIgX1JlYWN0RmliZXJDb21wbGV0ZVdvID0gUmVhY3RGaWJlckNvbXBsZXRlV29yayhjb25maWcsIGhvc3RDb250ZXh0LCBsZWdhY3lDb250ZXh0LCBuZXdDb250ZXh0LCBoeWRyYXRpb25Db250ZXh0KSxcbiAgICAgIGNvbXBsZXRlV29yayA9IF9SZWFjdEZpYmVyQ29tcGxldGVXby5jb21wbGV0ZVdvcms7XG5cbiAgdmFyIF9SZWFjdEZpYmVyVW53aW5kV29yayA9IFJlYWN0RmliZXJVbndpbmRXb3JrKGhvc3RDb250ZXh0LCBsZWdhY3lDb250ZXh0LCBuZXdDb250ZXh0LCBzY2hlZHVsZVdvcmssIGlzQWxyZWFkeUZhaWxlZExlZ2FjeUVycm9yQm91bmRhcnkpLFxuICAgICAgdGhyb3dFeGNlcHRpb24gPSBfUmVhY3RGaWJlclVud2luZFdvcmsudGhyb3dFeGNlcHRpb24sXG4gICAgICB1bndpbmRXb3JrID0gX1JlYWN0RmliZXJVbndpbmRXb3JrLnVud2luZFdvcmssXG4gICAgICB1bndpbmRJbnRlcnJ1cHRlZFdvcmsgPSBfUmVhY3RGaWJlclVud2luZFdvcmsudW53aW5kSW50ZXJydXB0ZWRXb3JrO1xuXG4gIHZhciBfUmVhY3RGaWJlckNvbW1pdFdvcmsgPSBSZWFjdEZpYmVyQ29tbWl0V29yayhjb25maWcsIG9uQ29tbWl0UGhhc2VFcnJvciwgc2NoZWR1bGVXb3JrLCBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyLCBtYXJrTGVnYWN5RXJyb3JCb3VuZGFyeUFzRmFpbGVkLCByZWNhbGN1bGF0ZUN1cnJlbnRUaW1lKSxcbiAgICAgIGNvbW1pdEJlZm9yZU11dGF0aW9uTGlmZUN5Y2xlcyA9IF9SZWFjdEZpYmVyQ29tbWl0V29yay5jb21taXRCZWZvcmVNdXRhdGlvbkxpZmVDeWNsZXMsXG4gICAgICBjb21taXRSZXNldFRleHRDb250ZW50ID0gX1JlYWN0RmliZXJDb21taXRXb3JrLmNvbW1pdFJlc2V0VGV4dENvbnRlbnQsXG4gICAgICBjb21taXRQbGFjZW1lbnQgPSBfUmVhY3RGaWJlckNvbW1pdFdvcmsuY29tbWl0UGxhY2VtZW50LFxuICAgICAgY29tbWl0RGVsZXRpb24gPSBfUmVhY3RGaWJlckNvbW1pdFdvcmsuY29tbWl0RGVsZXRpb24sXG4gICAgICBjb21taXRXb3JrID0gX1JlYWN0RmliZXJDb21taXRXb3JrLmNvbW1pdFdvcmssXG4gICAgICBjb21taXRMaWZlQ3ljbGVzID0gX1JlYWN0RmliZXJDb21taXRXb3JrLmNvbW1pdExpZmVDeWNsZXMsXG4gICAgICBjb21taXRFcnJvckxvZ2dpbmcgPSBfUmVhY3RGaWJlckNvbW1pdFdvcmsuY29tbWl0RXJyb3JMb2dnaW5nLFxuICAgICAgY29tbWl0QXR0YWNoUmVmID0gX1JlYWN0RmliZXJDb21taXRXb3JrLmNvbW1pdEF0dGFjaFJlZixcbiAgICAgIGNvbW1pdERldGFjaFJlZiA9IF9SZWFjdEZpYmVyQ29tbWl0V29yay5jb21taXREZXRhY2hSZWY7XG5cbiAgdmFyIG5vdyA9IGNvbmZpZy5ub3csXG4gICAgICBzY2hlZHVsZURlZmVycmVkQ2FsbGJhY2sgPSBjb25maWcuc2NoZWR1bGVEZWZlcnJlZENhbGxiYWNrLFxuICAgICAgY2FuY2VsRGVmZXJyZWRDYWxsYmFjayA9IGNvbmZpZy5jYW5jZWxEZWZlcnJlZENhbGxiYWNrLFxuICAgICAgcHJlcGFyZUZvckNvbW1pdCA9IGNvbmZpZy5wcmVwYXJlRm9yQ29tbWl0LFxuICAgICAgcmVzZXRBZnRlckNvbW1pdCA9IGNvbmZpZy5yZXNldEFmdGVyQ29tbWl0O1xuXG4gIC8vIFJlcHJlc2VudHMgdGhlIGN1cnJlbnQgdGltZSBpbiBtcy5cblxuICB2YXIgb3JpZ2luYWxTdGFydFRpbWVNcyA9IG5vdygpO1xuICB2YXIgbW9zdFJlY2VudEN1cnJlbnRUaW1lID0gbXNUb0V4cGlyYXRpb25UaW1lKDApO1xuICB2YXIgbW9zdFJlY2VudEN1cnJlbnRUaW1lTXMgPSBvcmlnaW5hbFN0YXJ0VGltZU1zO1xuXG4gIC8vIFVzZWQgdG8gZW5zdXJlIGNvbXB1dGVVbmlxdWVBc3luY0V4cGlyYXRpb24gaXMgbW9ub3RvbmljYWxseSBpbmNyZWFzZXMuXG4gIHZhciBsYXN0VW5pcXVlQXN5bmNFeHBpcmF0aW9uID0gMDtcblxuICAvLyBSZXByZXNlbnRzIHRoZSBleHBpcmF0aW9uIHRpbWUgdGhhdCBpbmNvbWluZyB1cGRhdGVzIHNob3VsZCB1c2UuIChJZiB0aGlzXG4gIC8vIGlzIE5vV29yaywgdXNlIHRoZSBkZWZhdWx0IHN0cmF0ZWd5OiBhc3luYyB1cGRhdGVzIGluIGFzeW5jIG1vZGUsIHN5bmNcbiAgLy8gdXBkYXRlcyBpbiBzeW5jIG1vZGUuKVxuICB2YXIgZXhwaXJhdGlvbkNvbnRleHQgPSBOb1dvcms7XG5cbiAgdmFyIGlzV29ya2luZyA9IGZhbHNlO1xuXG4gIC8vIFRoZSBuZXh0IHdvcmsgaW4gcHJvZ3Jlc3MgZmliZXIgdGhhdCB3ZSdyZSBjdXJyZW50bHkgd29ya2luZyBvbi5cbiAgdmFyIG5leHRVbml0T2ZXb3JrID0gbnVsbDtcbiAgdmFyIG5leHRSb290ID0gbnVsbDtcbiAgLy8gVGhlIHRpbWUgYXQgd2hpY2ggd2UncmUgY3VycmVudGx5IHJlbmRlcmluZyB3b3JrLlxuICB2YXIgbmV4dFJlbmRlckV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuXG4gIC8vIFRoZSBuZXh0IGZpYmVyIHdpdGggYW4gZWZmZWN0IHRoYXQgd2UncmUgY3VycmVudGx5IGNvbW1pdHRpbmcuXG4gIHZhciBuZXh0RWZmZWN0ID0gbnVsbDtcblxuICB2YXIgaXNDb21taXR0aW5nID0gZmFsc2U7XG5cbiAgdmFyIGlzUm9vdFJlYWR5Rm9yQ29tbWl0ID0gZmFsc2U7XG5cbiAgdmFyIGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkID0gbnVsbDtcblxuICAvLyBVc2VkIGZvciBwZXJmb3JtYW5jZSB0cmFja2luZy5cbiAgdmFyIGludGVycnVwdGVkQnkgPSBudWxsO1xuXG4gIHZhciBzdGFzaGVkV29ya0luUHJvZ3Jlc3NQcm9wZXJ0aWVzID0gdm9pZCAwO1xuICB2YXIgcmVwbGF5VW5pdE9mV29yayA9IHZvaWQgMDtcbiAgdmFyIGlzUmVwbGF5aW5nRmFpbGVkVW5pdE9mV29yayA9IHZvaWQgMDtcbiAgdmFyIG9yaWdpbmFsUmVwbGF5RXJyb3IgPSB2b2lkIDA7XG4gIHZhciByZXRocm93T3JpZ2luYWxFcnJvciA9IHZvaWQgMDtcbiAgaWYgKHRydWUgJiYgcmVwbGF5RmFpbGVkVW5pdE9mV29ya1dpdGhJbnZva2VHdWFyZGVkQ2FsbGJhY2spIHtcbiAgICBzdGFzaGVkV29ya0luUHJvZ3Jlc3NQcm9wZXJ0aWVzID0gbnVsbDtcbiAgICBpc1JlcGxheWluZ0ZhaWxlZFVuaXRPZldvcmsgPSBmYWxzZTtcbiAgICBvcmlnaW5hbFJlcGxheUVycm9yID0gbnVsbDtcbiAgICByZXBsYXlVbml0T2ZXb3JrID0gZnVuY3Rpb24gKGZhaWxlZFVuaXRPZldvcmssIGVycm9yLCBpc0FzeW5jKSB7XG4gICAgICAvLyBSZXN0b3JlIHRoZSBvcmlnaW5hbCBzdGF0ZSBvZiB0aGUgd29yay1pbi1wcm9ncmVzc1xuICAgICAgYXNzaWduRmliZXJQcm9wZXJ0aWVzSW5ERVYoZmFpbGVkVW5pdE9mV29yaywgc3Rhc2hlZFdvcmtJblByb2dyZXNzUHJvcGVydGllcyk7XG4gICAgICBzd2l0Y2ggKGZhaWxlZFVuaXRPZldvcmsudGFnKSB7XG4gICAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgICAgcG9wSG9zdENvbnRhaW5lcihmYWlsZWRVbml0T2ZXb3JrKTtcbiAgICAgICAgICBwb3BUb3BMZXZlbExlZ2FjeUNvbnRleHRPYmplY3QoZmFpbGVkVW5pdE9mV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICBwb3BIb3N0Q29udGV4dChmYWlsZWRVbml0T2ZXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAgICBwb3BMZWdhY3lDb250ZXh0UHJvdmlkZXIoZmFpbGVkVW5pdE9mV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgICAgICBwb3BIb3N0Q29udGFpbmVyKGZhaWxlZFVuaXRPZldvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENvbnRleHRQcm92aWRlcjpcbiAgICAgICAgICBwb3BQcm92aWRlcihmYWlsZWRVbml0T2ZXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8vIFJlcGxheSB0aGUgYmVnaW4gcGhhc2UuXG4gICAgICBpc1JlcGxheWluZ0ZhaWxlZFVuaXRPZldvcmsgPSB0cnVlO1xuICAgICAgb3JpZ2luYWxSZXBsYXlFcnJvciA9IGVycm9yO1xuICAgICAgaW52b2tlR3VhcmRlZENhbGxiYWNrJDIobnVsbCwgd29ya0xvb3AsIG51bGwsIGlzQXN5bmMpO1xuICAgICAgaXNSZXBsYXlpbmdGYWlsZWRVbml0T2ZXb3JrID0gZmFsc2U7XG4gICAgICBvcmlnaW5hbFJlcGxheUVycm9yID0gbnVsbDtcbiAgICAgIGlmIChoYXNDYXVnaHRFcnJvcigpKSB7XG4gICAgICAgIGNsZWFyQ2F1Z2h0RXJyb3IoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElmIHRoZSBiZWdpbiBwaGFzZSBkaWQgbm90IGZhaWwgdGhlIHNlY29uZCB0aW1lLCBzZXQgdGhpcyBwb2ludGVyXG4gICAgICAgIC8vIGJhY2sgdG8gdGhlIG9yaWdpbmFsIHZhbHVlLlxuICAgICAgICBuZXh0VW5pdE9mV29yayA9IGZhaWxlZFVuaXRPZldvcms7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXRocm93T3JpZ2luYWxFcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IG9yaWdpbmFsUmVwbGF5RXJyb3I7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0U3RhY2soKSB7XG4gICAgaWYgKG5leHRVbml0T2ZXb3JrICE9PSBudWxsKSB7XG4gICAgICB2YXIgaW50ZXJydXB0ZWRXb3JrID0gbmV4dFVuaXRPZldvcmtbJ3JldHVybiddO1xuICAgICAgd2hpbGUgKGludGVycnVwdGVkV29yayAhPT0gbnVsbCkge1xuICAgICAgICB1bndpbmRJbnRlcnJ1cHRlZFdvcmsoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgaW50ZXJydXB0ZWRXb3JrID0gaW50ZXJydXB0ZWRXb3JrWydyZXR1cm4nXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB7XG4gICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5kaXNjYXJkUGVuZGluZ1dhcm5pbmdzKCk7XG4gICAgICBzdGFjay5jaGVja1RoYXRTdGFja0lzRW1wdHkoKTtcbiAgICB9XG5cbiAgICBuZXh0Um9vdCA9IG51bGw7XG4gICAgbmV4dFJlbmRlckV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICAgIG5leHRVbml0T2ZXb3JrID0gbnVsbDtcblxuICAgIGlzUm9vdFJlYWR5Rm9yQ29tbWl0ID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBjb21taXRBbGxIb3N0RWZmZWN0cygpIHtcbiAgICB3aGlsZSAobmV4dEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAge1xuICAgICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnNldEN1cnJlbnRGaWJlcihuZXh0RWZmZWN0KTtcbiAgICAgIH1cbiAgICAgIHJlY29yZEVmZmVjdCgpO1xuXG4gICAgICB2YXIgZWZmZWN0VGFnID0gbmV4dEVmZmVjdC5lZmZlY3RUYWc7XG5cbiAgICAgIGlmIChlZmZlY3RUYWcgJiBDb250ZW50UmVzZXQpIHtcbiAgICAgICAgY29tbWl0UmVzZXRUZXh0Q29udGVudChuZXh0RWZmZWN0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVmZmVjdFRhZyAmIFJlZikge1xuICAgICAgICB2YXIgY3VycmVudCA9IG5leHRFZmZlY3QuYWx0ZXJuYXRlO1xuICAgICAgICBpZiAoY3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgIGNvbW1pdERldGFjaFJlZihjdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUaGUgZm9sbG93aW5nIHN3aXRjaCBzdGF0ZW1lbnQgaXMgb25seSBjb25jZXJuZWQgYWJvdXQgcGxhY2VtZW50LFxuICAgICAgLy8gdXBkYXRlcywgYW5kIGRlbGV0aW9ucy4gVG8gYXZvaWQgbmVlZGluZyB0byBhZGQgYSBjYXNlIGZvciBldmVyeVxuICAgICAgLy8gcG9zc2libGUgYml0bWFwIHZhbHVlLCB3ZSByZW1vdmUgdGhlIHNlY29uZGFyeSBlZmZlY3RzIGZyb20gdGhlXG4gICAgICAvLyBlZmZlY3QgdGFnIGFuZCBzd2l0Y2ggb24gdGhhdCB2YWx1ZS5cbiAgICAgIHZhciBwcmltYXJ5RWZmZWN0VGFnID0gZWZmZWN0VGFnICYgKFBsYWNlbWVudCB8IFVwZGF0ZSB8IERlbGV0aW9uKTtcbiAgICAgIHN3aXRjaCAocHJpbWFyeUVmZmVjdFRhZykge1xuICAgICAgICBjYXNlIFBsYWNlbWVudDpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb21taXRQbGFjZW1lbnQobmV4dEVmZmVjdCk7XG4gICAgICAgICAgICAvLyBDbGVhciB0aGUgXCJwbGFjZW1lbnRcIiBmcm9tIGVmZmVjdCB0YWcgc28gdGhhdCB3ZSBrbm93IHRoYXQgdGhpcyBpcyBpbnNlcnRlZCwgYmVmb3JlXG4gICAgICAgICAgICAvLyBhbnkgbGlmZS1jeWNsZXMgbGlrZSBjb21wb25lbnREaWRNb3VudCBnZXRzIGNhbGxlZC5cbiAgICAgICAgICAgIC8vIFRPRE86IGZpbmRET01Ob2RlIGRvZXNuJ3QgcmVseSBvbiB0aGlzIGFueSBtb3JlIGJ1dCBpc01vdW50ZWRcbiAgICAgICAgICAgIC8vIGRvZXMgYW5kIGlzTW91bnRlZCBpcyBkZXByZWNhdGVkIGFueXdheSBzbyB3ZSBzaG91bGQgYmUgYWJsZVxuICAgICAgICAgICAgLy8gdG8ga2lsbCB0aGlzLlxuICAgICAgICAgICAgbmV4dEVmZmVjdC5lZmZlY3RUYWcgJj0gflBsYWNlbWVudDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBQbGFjZW1lbnRBbmRVcGRhdGU6XG4gICAgICAgICAge1xuICAgICAgICAgICAgLy8gUGxhY2VtZW50XG4gICAgICAgICAgICBjb21taXRQbGFjZW1lbnQobmV4dEVmZmVjdCk7XG4gICAgICAgICAgICAvLyBDbGVhciB0aGUgXCJwbGFjZW1lbnRcIiBmcm9tIGVmZmVjdCB0YWcgc28gdGhhdCB3ZSBrbm93IHRoYXQgdGhpcyBpcyBpbnNlcnRlZCwgYmVmb3JlXG4gICAgICAgICAgICAvLyBhbnkgbGlmZS1jeWNsZXMgbGlrZSBjb21wb25lbnREaWRNb3VudCBnZXRzIGNhbGxlZC5cbiAgICAgICAgICAgIG5leHRFZmZlY3QuZWZmZWN0VGFnICY9IH5QbGFjZW1lbnQ7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZVxuICAgICAgICAgICAgdmFyIF9jdXJyZW50ID0gbmV4dEVmZmVjdC5hbHRlcm5hdGU7XG4gICAgICAgICAgICBjb21taXRXb3JrKF9jdXJyZW50LCBuZXh0RWZmZWN0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBVcGRhdGU6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIF9jdXJyZW50MiA9IG5leHRFZmZlY3QuYWx0ZXJuYXRlO1xuICAgICAgICAgICAgY29tbWl0V29yayhfY3VycmVudDIsIG5leHRFZmZlY3QpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIERlbGV0aW9uOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbW1pdERlbGV0aW9uKG5leHRFZmZlY3QpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgbmV4dEVmZmVjdCA9IG5leHRFZmZlY3QubmV4dEVmZmVjdDtcbiAgICB9XG5cbiAgICB7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnJlc2V0Q3VycmVudEZpYmVyKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0QmVmb3JlTXV0YXRpb25MaWZlY3ljbGVzKCkge1xuICAgIHdoaWxlIChuZXh0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgICB2YXIgZWZmZWN0VGFnID0gbmV4dEVmZmVjdC5lZmZlY3RUYWc7XG5cbiAgICAgIGlmIChlZmZlY3RUYWcgJiBTbmFwc2hvdCkge1xuICAgICAgICByZWNvcmRFZmZlY3QoKTtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBuZXh0RWZmZWN0LmFsdGVybmF0ZTtcbiAgICAgICAgY29tbWl0QmVmb3JlTXV0YXRpb25MaWZlQ3ljbGVzKGN1cnJlbnQsIG5leHRFZmZlY3QpO1xuICAgICAgfVxuXG4gICAgICAvLyBEb24ndCBjbGVhbnVwIGVmZmVjdHMgeWV0O1xuICAgICAgLy8gVGhpcyB3aWxsIGJlIGRvbmUgYnkgY29tbWl0QWxsTGlmZUN5Y2xlcygpXG4gICAgICBuZXh0RWZmZWN0ID0gbmV4dEVmZmVjdC5uZXh0RWZmZWN0O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbW1pdEFsbExpZmVDeWNsZXMoZmluaXNoZWRSb290LCBjdXJyZW50VGltZSwgY29tbWl0dGVkRXhwaXJhdGlvblRpbWUpIHtcbiAgICB7XG4gICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5mbHVzaFBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncygpO1xuXG4gICAgICBpZiAod2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMpIHtcbiAgICAgICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZmx1c2hQZW5kaW5nRGVwcmVjYXRpb25XYXJuaW5ncygpO1xuICAgICAgfVxuICAgIH1cbiAgICB3aGlsZSAobmV4dEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgdmFyIGVmZmVjdFRhZyA9IG5leHRFZmZlY3QuZWZmZWN0VGFnO1xuXG4gICAgICBpZiAoZWZmZWN0VGFnICYgKFVwZGF0ZSB8IENhbGxiYWNrKSkge1xuICAgICAgICByZWNvcmRFZmZlY3QoKTtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBuZXh0RWZmZWN0LmFsdGVybmF0ZTtcbiAgICAgICAgY29tbWl0TGlmZUN5Y2xlcyhmaW5pc2hlZFJvb3QsIGN1cnJlbnQsIG5leHRFZmZlY3QsIGN1cnJlbnRUaW1lLCBjb21taXR0ZWRFeHBpcmF0aW9uVGltZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChlZmZlY3RUYWcgJiBFcnJMb2cpIHtcbiAgICAgICAgY29tbWl0RXJyb3JMb2dnaW5nKG5leHRFZmZlY3QsIG9uVW5jYXVnaHRFcnJvcik7XG4gICAgICB9XG5cbiAgICAgIGlmIChlZmZlY3RUYWcgJiBSZWYpIHtcbiAgICAgICAgcmVjb3JkRWZmZWN0KCk7XG4gICAgICAgIGNvbW1pdEF0dGFjaFJlZihuZXh0RWZmZWN0KTtcbiAgICAgIH1cblxuICAgICAgdmFyIG5leHQgPSBuZXh0RWZmZWN0Lm5leHRFZmZlY3Q7XG4gICAgICAvLyBFbnN1cmUgdGhhdCB3ZSBjbGVhbiB0aGVzZSB1cCBzbyB0aGF0IHdlIGRvbid0IGFjY2lkZW50YWxseSBrZWVwIHRoZW0uXG4gICAgICAvLyBJJ20gbm90IGFjdHVhbGx5IHN1cmUgdGhpcyBtYXR0ZXJzIGJlY2F1c2Ugd2UgY2FuJ3QgcmVzZXQgZmlyc3RFZmZlY3RcbiAgICAgIC8vIGFuZCBsYXN0RWZmZWN0IHNpbmNlIHRoZXkncmUgb24gZXZlcnkgbm9kZSwgbm90IGp1c3QgdGhlIGVmZmVjdGZ1bFxuICAgICAgLy8gb25lcy4gU28gd2UgaGF2ZSB0byBjbGVhbiBldmVyeXRoaW5nIGFzIHdlIHJldXNlIG5vZGVzIGFueXdheS5cbiAgICAgIG5leHRFZmZlY3QubmV4dEVmZmVjdCA9IG51bGw7XG4gICAgICAvLyBFbnN1cmUgdGhhdCB3ZSByZXNldCB0aGUgZWZmZWN0VGFnIGhlcmUgc28gdGhhdCB3ZSBjYW4gcmVseSBvbiBlZmZlY3RcbiAgICAgIC8vIHRhZ3MgdG8gcmVhc29uIGFib3V0IHRoZSBjdXJyZW50IGxpZmUtY3ljbGUuXG4gICAgICBuZXh0RWZmZWN0ID0gbmV4dDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpc0FscmVhZHlGYWlsZWRMZWdhY3lFcnJvckJvdW5kYXJ5KGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkICE9PSBudWxsICYmIGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkLmhhcyhpbnN0YW5jZSk7XG4gIH1cblxuICBmdW5jdGlvbiBtYXJrTGVnYWN5RXJyb3JCb3VuZGFyeUFzRmFpbGVkKGluc3RhbmNlKSB7XG4gICAgaWYgKGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkID09PSBudWxsKSB7XG4gICAgICBsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZCA9IG5ldyBTZXQoW2luc3RhbmNlXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkLmFkZChpbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0Um9vdChmaW5pc2hlZFdvcmspIHtcbiAgICBpc1dvcmtpbmcgPSB0cnVlO1xuICAgIGlzQ29tbWl0dGluZyA9IHRydWU7XG4gICAgc3RhcnRDb21taXRUaW1lcigpO1xuXG4gICAgdmFyIHJvb3QgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICEocm9vdC5jdXJyZW50ICE9PSBmaW5pc2hlZFdvcmspID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IGNvbW1pdCB0aGUgc2FtZSB0cmVlIGFzIGJlZm9yZS4gVGhpcyBpcyBwcm9iYWJseSBhIGJ1ZyByZWxhdGVkIHRvIHRoZSByZXR1cm4gZmllbGQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gICAgdmFyIGNvbW1pdHRlZEV4cGlyYXRpb25UaW1lID0gcm9vdC5wZW5kaW5nQ29tbWl0RXhwaXJhdGlvblRpbWU7XG4gICAgIShjb21taXR0ZWRFeHBpcmF0aW9uVGltZSAhPT0gTm9Xb3JrKSA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBjb21taXQgYW4gaW5jb21wbGV0ZSByb290LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICAgIHJvb3QucGVuZGluZ0NvbW1pdEV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuXG4gICAgdmFyIGN1cnJlbnRUaW1lID0gcmVjYWxjdWxhdGVDdXJyZW50VGltZSgpO1xuXG4gICAgLy8gUmVzZXQgdGhpcyB0byBudWxsIGJlZm9yZSBjYWxsaW5nIGxpZmVjeWNsZXNcbiAgICBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID0gbnVsbDtcblxuICAgIHZhciBmaXJzdEVmZmVjdCA9IHZvaWQgMDtcbiAgICBpZiAoZmluaXNoZWRXb3JrLmVmZmVjdFRhZyA+IFBlcmZvcm1lZFdvcmspIHtcbiAgICAgIC8vIEEgZmliZXIncyBlZmZlY3QgbGlzdCBjb25zaXN0cyBvbmx5IG9mIGl0cyBjaGlsZHJlbiwgbm90IGl0c2VsZi4gU28gaWZcbiAgICAgIC8vIHRoZSByb290IGhhcyBhbiBlZmZlY3QsIHdlIG5lZWQgdG8gYWRkIGl0IHRvIHRoZSBlbmQgb2YgdGhlIGxpc3QuIFRoZVxuICAgICAgLy8gcmVzdWx0aW5nIGxpc3QgaXMgdGhlIHNldCB0aGF0IHdvdWxkIGJlbG9uZyB0byB0aGUgcm9vdCdzIHBhcmVudCwgaWZcbiAgICAgIC8vIGl0IGhhZCBvbmU7IHRoYXQgaXMsIGFsbCB0aGUgZWZmZWN0cyBpbiB0aGUgdHJlZSBpbmNsdWRpbmcgdGhlIHJvb3QuXG4gICAgICBpZiAoZmluaXNoZWRXb3JrLmxhc3RFZmZlY3QgIT09IG51bGwpIHtcbiAgICAgICAgZmluaXNoZWRXb3JrLmxhc3RFZmZlY3QubmV4dEVmZmVjdCA9IGZpbmlzaGVkV29yaztcbiAgICAgICAgZmlyc3RFZmZlY3QgPSBmaW5pc2hlZFdvcmsuZmlyc3RFZmZlY3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaXJzdEVmZmVjdCA9IGZpbmlzaGVkV29yaztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhlcmUgaXMgbm8gZWZmZWN0IG9uIHRoZSByb290LlxuICAgICAgZmlyc3RFZmZlY3QgPSBmaW5pc2hlZFdvcmsuZmlyc3RFZmZlY3Q7XG4gICAgfVxuXG4gICAgcHJlcGFyZUZvckNvbW1pdChyb290LmNvbnRhaW5lckluZm8pO1xuXG4gICAgLy8gSW52b2tlIGluc3RhbmNlcyBvZiBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSBiZWZvcmUgbXV0YXRpb24uXG4gICAgbmV4dEVmZmVjdCA9IGZpcnN0RWZmZWN0O1xuICAgIHN0YXJ0Q29tbWl0U25hcHNob3RFZmZlY3RzVGltZXIoKTtcbiAgICB3aGlsZSAobmV4dEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgdmFyIGRpZEVycm9yID0gZmFsc2U7XG4gICAgICB2YXIgZXJyb3IgPSB2b2lkIDA7XG4gICAgICB7XG4gICAgICAgIGludm9rZUd1YXJkZWRDYWxsYmFjayQyKG51bGwsIGNvbW1pdEJlZm9yZU11dGF0aW9uTGlmZWN5Y2xlcywgbnVsbCk7XG4gICAgICAgIGlmIChoYXNDYXVnaHRFcnJvcigpKSB7XG4gICAgICAgICAgZGlkRXJyb3IgPSB0cnVlO1xuICAgICAgICAgIGVycm9yID0gY2xlYXJDYXVnaHRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZGlkRXJyb3IpIHtcbiAgICAgICAgIShuZXh0RWZmZWN0ICE9PSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ1Nob3VsZCBoYXZlIG5leHQgZWZmZWN0LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICAgICAgICBvbkNvbW1pdFBoYXNlRXJyb3IobmV4dEVmZmVjdCwgZXJyb3IpO1xuICAgICAgICAvLyBDbGVhbi11cFxuICAgICAgICBpZiAobmV4dEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgIG5leHRFZmZlY3QgPSBuZXh0RWZmZWN0Lm5leHRFZmZlY3Q7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgc3RvcENvbW1pdFNuYXBzaG90RWZmZWN0c1RpbWVyKCk7XG5cbiAgICAvLyBDb21taXQgYWxsIHRoZSBzaWRlLWVmZmVjdHMgd2l0aGluIGEgdHJlZS4gV2UnbGwgZG8gdGhpcyBpbiB0d28gcGFzc2VzLlxuICAgIC8vIFRoZSBmaXJzdCBwYXNzIHBlcmZvcm1zIGFsbCB0aGUgaG9zdCBpbnNlcnRpb25zLCB1cGRhdGVzLCBkZWxldGlvbnMgYW5kXG4gICAgLy8gcmVmIHVubW91bnRzLlxuICAgIG5leHRFZmZlY3QgPSBmaXJzdEVmZmVjdDtcbiAgICBzdGFydENvbW1pdEhvc3RFZmZlY3RzVGltZXIoKTtcbiAgICB3aGlsZSAobmV4dEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgdmFyIF9kaWRFcnJvciA9IGZhbHNlO1xuICAgICAgdmFyIF9lcnJvciA9IHZvaWQgMDtcbiAgICAgIHtcbiAgICAgICAgaW52b2tlR3VhcmRlZENhbGxiYWNrJDIobnVsbCwgY29tbWl0QWxsSG9zdEVmZmVjdHMsIG51bGwpO1xuICAgICAgICBpZiAoaGFzQ2F1Z2h0RXJyb3IoKSkge1xuICAgICAgICAgIF9kaWRFcnJvciA9IHRydWU7XG4gICAgICAgICAgX2Vycm9yID0gY2xlYXJDYXVnaHRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoX2RpZEVycm9yKSB7XG4gICAgICAgICEobmV4dEVmZmVjdCAhPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdTaG91bGQgaGF2ZSBuZXh0IGVmZmVjdC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgICAgICAgb25Db21taXRQaGFzZUVycm9yKG5leHRFZmZlY3QsIF9lcnJvcik7XG4gICAgICAgIC8vIENsZWFuLXVwXG4gICAgICAgIGlmIChuZXh0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgICAgICAgbmV4dEVmZmVjdCA9IG5leHRFZmZlY3QubmV4dEVmZmVjdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBzdG9wQ29tbWl0SG9zdEVmZmVjdHNUaW1lcigpO1xuXG4gICAgcmVzZXRBZnRlckNvbW1pdChyb290LmNvbnRhaW5lckluZm8pO1xuXG4gICAgLy8gVGhlIHdvcmstaW4tcHJvZ3Jlc3MgdHJlZSBpcyBub3cgdGhlIGN1cnJlbnQgdHJlZS4gVGhpcyBtdXN0IGNvbWUgYWZ0ZXJcbiAgICAvLyB0aGUgZmlyc3QgcGFzcyBvZiB0aGUgY29tbWl0IHBoYXNlLCBzbyB0aGF0IHRoZSBwcmV2aW91cyB0cmVlIGlzIHN0aWxsXG4gICAgLy8gY3VycmVudCBkdXJpbmcgY29tcG9uZW50V2lsbFVubW91bnQsIGJ1dCBiZWZvcmUgdGhlIHNlY29uZCBwYXNzLCBzbyB0aGF0XG4gICAgLy8gdGhlIGZpbmlzaGVkIHdvcmsgaXMgY3VycmVudCBkdXJpbmcgY29tcG9uZW50RGlkTW91bnQvVXBkYXRlLlxuICAgIHJvb3QuY3VycmVudCA9IGZpbmlzaGVkV29yaztcblxuICAgIC8vIEluIHRoZSBzZWNvbmQgcGFzcyB3ZSdsbCBwZXJmb3JtIGFsbCBsaWZlLWN5Y2xlcyBhbmQgcmVmIGNhbGxiYWNrcy5cbiAgICAvLyBMaWZlLWN5Y2xlcyBoYXBwZW4gYXMgYSBzZXBhcmF0ZSBwYXNzIHNvIHRoYXQgYWxsIHBsYWNlbWVudHMsIHVwZGF0ZXMsXG4gICAgLy8gYW5kIGRlbGV0aW9ucyBpbiB0aGUgZW50aXJlIHRyZWUgaGF2ZSBhbHJlYWR5IGJlZW4gaW52b2tlZC5cbiAgICAvLyBUaGlzIHBhc3MgYWxzbyB0cmlnZ2VycyBhbnkgcmVuZGVyZXItc3BlY2lmaWMgaW5pdGlhbCBlZmZlY3RzLlxuICAgIG5leHRFZmZlY3QgPSBmaXJzdEVmZmVjdDtcbiAgICBzdGFydENvbW1pdExpZmVDeWNsZXNUaW1lcigpO1xuICAgIHdoaWxlIChuZXh0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgICB2YXIgX2RpZEVycm9yMiA9IGZhbHNlO1xuICAgICAgdmFyIF9lcnJvcjIgPSB2b2lkIDA7XG4gICAgICB7XG4gICAgICAgIGludm9rZUd1YXJkZWRDYWxsYmFjayQyKG51bGwsIGNvbW1pdEFsbExpZmVDeWNsZXMsIG51bGwsIHJvb3QsIGN1cnJlbnRUaW1lLCBjb21taXR0ZWRFeHBpcmF0aW9uVGltZSk7XG4gICAgICAgIGlmIChoYXNDYXVnaHRFcnJvcigpKSB7XG4gICAgICAgICAgX2RpZEVycm9yMiA9IHRydWU7XG4gICAgICAgICAgX2Vycm9yMiA9IGNsZWFyQ2F1Z2h0RXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKF9kaWRFcnJvcjIpIHtcbiAgICAgICAgIShuZXh0RWZmZWN0ICE9PSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ1Nob3VsZCBoYXZlIG5leHQgZWZmZWN0LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICAgICAgICBvbkNvbW1pdFBoYXNlRXJyb3IobmV4dEVmZmVjdCwgX2Vycm9yMik7XG4gICAgICAgIGlmIChuZXh0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgICAgICAgbmV4dEVmZmVjdCA9IG5leHRFZmZlY3QubmV4dEVmZmVjdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlzQ29tbWl0dGluZyA9IGZhbHNlO1xuICAgIGlzV29ya2luZyA9IGZhbHNlO1xuICAgIHN0b3BDb21taXRMaWZlQ3ljbGVzVGltZXIoKTtcbiAgICBzdG9wQ29tbWl0VGltZXIoKTtcbiAgICBpZiAodHlwZW9mIG9uQ29tbWl0Um9vdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgb25Db21taXRSb290KGZpbmlzaGVkV29yay5zdGF0ZU5vZGUpO1xuICAgIH1cbiAgICBpZiAodHJ1ZSAmJiBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sKSB7XG4gICAgICBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sLm9uQ29tbWl0V29yayhmaW5pc2hlZFdvcmspO1xuICAgIH1cblxuICAgIHZhciByZW1haW5pbmdUaW1lID0gcm9vdC5jdXJyZW50LmV4cGlyYXRpb25UaW1lO1xuICAgIGlmIChyZW1haW5pbmdUaW1lID09PSBOb1dvcmspIHtcbiAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gcmVtYWluaW5nIHdvcmssIHdlIGNhbiBjbGVhciB0aGUgc2V0IG9mIGFscmVhZHkgZmFpbGVkXG4gICAgICAvLyBlcnJvciBib3VuZGFyaWVzLlxuICAgICAgbGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gcmVtYWluaW5nVGltZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0RXhwaXJhdGlvblRpbWUod29ya0luUHJvZ3Jlc3MsIHJlbmRlclRpbWUpIHtcbiAgICBpZiAocmVuZGVyVGltZSAhPT0gTmV2ZXIgJiYgd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWUgPT09IE5ldmVyKSB7XG4gICAgICAvLyBUaGUgY2hpbGRyZW4gb2YgdGhpcyBjb21wb25lbnQgYXJlIGhpZGRlbi4gRG9uJ3QgYnViYmxlIHRoZWlyXG4gICAgICAvLyBleHBpcmF0aW9uIHRpbWVzLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBwZW5kaW5nIHVwZGF0ZXMuXG4gICAgdmFyIG5ld0V4cGlyYXRpb25UaW1lID0gZ2V0VXBkYXRlRXhwaXJhdGlvblRpbWUod29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgLy8gVE9ETzogQ2FsbHMgbmVlZCB0byB2aXNpdCBzdGF0ZU5vZGVcblxuICAgIC8vIEJ1YmJsZSB1cCB0aGUgZWFybGllc3QgZXhwaXJhdGlvbiB0aW1lLlxuICAgIHZhciBjaGlsZCA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgIHdoaWxlIChjaGlsZCAhPT0gbnVsbCkge1xuICAgICAgaWYgKGNoaWxkLmV4cGlyYXRpb25UaW1lICE9PSBOb1dvcmsgJiYgKG5ld0V4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHwgbmV3RXhwaXJhdGlvblRpbWUgPiBjaGlsZC5leHBpcmF0aW9uVGltZSkpIHtcbiAgICAgICAgbmV3RXhwaXJhdGlvblRpbWUgPSBjaGlsZC5leHBpcmF0aW9uVGltZTtcbiAgICAgIH1cbiAgICAgIGNoaWxkID0gY2hpbGQuc2libGluZztcbiAgICB9XG4gICAgd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWUgPSBuZXdFeHBpcmF0aW9uVGltZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXBsZXRlVW5pdE9mV29yayh3b3JrSW5Qcm9ncmVzcykge1xuICAgIC8vIEF0dGVtcHQgdG8gY29tcGxldGUgdGhlIGN1cnJlbnQgdW5pdCBvZiB3b3JrLCB0aGVuIG1vdmUgdG8gdGhlXG4gICAgLy8gbmV4dCBzaWJsaW5nLiBJZiB0aGVyZSBhcmUgbm8gbW9yZSBzaWJsaW5ncywgcmV0dXJuIHRvIHRoZVxuICAgIC8vIHBhcmVudCBmaWJlci5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgLy8gVGhlIGN1cnJlbnQsIGZsdXNoZWQsIHN0YXRlIG9mIHRoaXMgZmliZXIgaXMgdGhlIGFsdGVybmF0ZS5cbiAgICAgIC8vIElkZWFsbHkgbm90aGluZyBzaG91bGQgcmVseSBvbiB0aGlzLCBidXQgcmVseWluZyBvbiBpdCBoZXJlXG4gICAgICAvLyBtZWFucyB0aGF0IHdlIGRvbid0IG5lZWQgYW4gYWRkaXRpb25hbCBmaWVsZCBvbiB0aGUgd29yayBpblxuICAgICAgLy8gcHJvZ3Jlc3MuXG4gICAgICB2YXIgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZTtcbiAgICAgIHtcbiAgICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5zZXRDdXJyZW50RmliZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmV0dXJuRmliZXIgPSB3b3JrSW5Qcm9ncmVzc1sncmV0dXJuJ107XG4gICAgICB2YXIgc2libGluZ0ZpYmVyID0gd29ya0luUHJvZ3Jlc3Muc2libGluZztcblxuICAgICAgaWYgKCh3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgJiBJbmNvbXBsZXRlKSA9PT0gTm9FZmZlY3QpIHtcbiAgICAgICAgLy8gVGhpcyBmaWJlciBjb21wbGV0ZWQuXG4gICAgICAgIHZhciBuZXh0ID0gY29tcGxldGVXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0UmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgICBzdG9wV29ya1RpbWVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgcmVzZXRFeHBpcmF0aW9uVGltZSh3b3JrSW5Qcm9ncmVzcywgbmV4dFJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAge1xuICAgICAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIucmVzZXRDdXJyZW50RmliZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXh0ICE9PSBudWxsKSB7XG4gICAgICAgICAgc3RvcFdvcmtUaW1lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgaWYgKHRydWUgJiYgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbCkge1xuICAgICAgICAgICAgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbC5vbkNvbXBsZXRlV29yayh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIElmIGNvbXBsZXRpbmcgdGhpcyB3b3JrIHNwYXduZWQgbmV3IHdvcmssIGRvIHRoYXQgbmV4dC4gV2UnbGwgY29tZVxuICAgICAgICAgIC8vIGJhY2sgaGVyZSBhZ2Fpbi5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXR1cm5GaWJlciAhPT0gbnVsbCAmJlxuICAgICAgICAvLyBEbyBub3QgYXBwZW5kIGVmZmVjdHMgdG8gcGFyZW50cyBpZiBhIHNpYmxpbmcgZmFpbGVkIHRvIGNvbXBsZXRlXG4gICAgICAgIChyZXR1cm5GaWJlci5lZmZlY3RUYWcgJiBJbmNvbXBsZXRlKSA9PT0gTm9FZmZlY3QpIHtcbiAgICAgICAgICAvLyBBcHBlbmQgYWxsIHRoZSBlZmZlY3RzIG9mIHRoZSBzdWJ0cmVlIGFuZCB0aGlzIGZpYmVyIG9udG8gdGhlIGVmZmVjdFxuICAgICAgICAgIC8vIGxpc3Qgb2YgdGhlIHBhcmVudC4gVGhlIGNvbXBsZXRpb24gb3JkZXIgb2YgdGhlIGNoaWxkcmVuIGFmZmVjdHMgdGhlXG4gICAgICAgICAgLy8gc2lkZS1lZmZlY3Qgb3JkZXIuXG4gICAgICAgICAgaWYgKHJldHVybkZpYmVyLmZpcnN0RWZmZWN0ID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm5GaWJlci5maXJzdEVmZmVjdCA9IHdvcmtJblByb2dyZXNzLmZpcnN0RWZmZWN0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAod29ya0luUHJvZ3Jlc3MubGFzdEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHJldHVybkZpYmVyLmxhc3RFZmZlY3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIubGFzdEVmZmVjdC5uZXh0RWZmZWN0ID0gd29ya0luUHJvZ3Jlc3MuZmlyc3RFZmZlY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gd29ya0luUHJvZ3Jlc3MubGFzdEVmZmVjdDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBJZiB0aGlzIGZpYmVyIGhhZCBzaWRlLWVmZmVjdHMsIHdlIGFwcGVuZCBpdCBBRlRFUiB0aGUgY2hpbGRyZW4nc1xuICAgICAgICAgIC8vIHNpZGUtZWZmZWN0cy4gV2UgY2FuIHBlcmZvcm0gY2VydGFpbiBzaWRlLWVmZmVjdHMgZWFybGllciBpZlxuICAgICAgICAgIC8vIG5lZWRlZCwgYnkgZG9pbmcgbXVsdGlwbGUgcGFzc2VzIG92ZXIgdGhlIGVmZmVjdCBsaXN0LiBXZSBkb24ndCB3YW50XG4gICAgICAgICAgLy8gdG8gc2NoZWR1bGUgb3VyIG93biBzaWRlLWVmZmVjdCBvbiBvdXIgb3duIGxpc3QgYmVjYXVzZSBpZiBlbmQgdXBcbiAgICAgICAgICAvLyByZXVzaW5nIGNoaWxkcmVuIHdlJ2xsIHNjaGVkdWxlIHRoaXMgZWZmZWN0IG9udG8gaXRzZWxmIHNpbmNlIHdlJ3JlXG4gICAgICAgICAgLy8gYXQgdGhlIGVuZC5cbiAgICAgICAgICB2YXIgZWZmZWN0VGFnID0gd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnO1xuICAgICAgICAgIC8vIFNraXAgYm90aCBOb1dvcmsgYW5kIFBlcmZvcm1lZFdvcmsgdGFncyB3aGVuIGNyZWF0aW5nIHRoZSBlZmZlY3QgbGlzdC5cbiAgICAgICAgICAvLyBQZXJmb3JtZWRXb3JrIGVmZmVjdCBpcyByZWFkIGJ5IFJlYWN0IERldlRvb2xzIGJ1dCBzaG91bGRuJ3QgYmUgY29tbWl0dGVkLlxuICAgICAgICAgIGlmIChlZmZlY3RUYWcgPiBQZXJmb3JtZWRXb3JrKSB7XG4gICAgICAgICAgICBpZiAocmV0dXJuRmliZXIubGFzdEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0Lm5leHRFZmZlY3QgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLmZpcnN0RWZmZWN0ID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRydWUgJiYgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbCkge1xuICAgICAgICAgIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wub25Db21wbGV0ZVdvcmsod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNpYmxpbmdGaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIElmIHRoZXJlIGlzIG1vcmUgd29yayB0byBkbyBpbiB0aGlzIHJldHVybkZpYmVyLCBkbyB0aGF0IG5leHQuXG4gICAgICAgICAgcmV0dXJuIHNpYmxpbmdGaWJlcjtcbiAgICAgICAgfSBlbHNlIGlmIChyZXR1cm5GaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gbW9yZSB3b3JrIGluIHRoaXMgcmV0dXJuRmliZXIuIENvbXBsZXRlIHRoZSByZXR1cm5GaWJlci5cbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IHJldHVybkZpYmVyO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFdlJ3ZlIHJlYWNoZWQgdGhlIHJvb3QuXG4gICAgICAgICAgaXNSb290UmVhZHlGb3JDb21taXQgPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUaGlzIGZpYmVyIGRpZCBub3QgY29tcGxldGUgYmVjYXVzZSBzb21ldGhpbmcgdGhyZXcuIFBvcCB2YWx1ZXMgb2ZmXG4gICAgICAgIC8vIHRoZSBzdGFjayB3aXRob3V0IGVudGVyaW5nIHRoZSBjb21wbGV0ZSBwaGFzZS4gSWYgdGhpcyBpcyBhIGJvdW5kYXJ5LFxuICAgICAgICAvLyBjYXB0dXJlIHZhbHVlcyBpZiBwb3NzaWJsZS5cbiAgICAgICAgdmFyIF9uZXh0ID0gdW53aW5kV29yayh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIC8vIEJlY2F1c2UgdGhpcyBmaWJlciBkaWQgbm90IGNvbXBsZXRlLCBkb24ndCByZXNldCBpdHMgZXhwaXJhdGlvbiB0aW1lLlxuICAgICAgICBpZiAod29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnICYgRGlkQ2FwdHVyZSkge1xuICAgICAgICAgIC8vIFJlc3RhcnRpbmcgYW4gZXJyb3IgYm91bmRhcnlcbiAgICAgICAgICBzdG9wRmFpbGVkV29ya1RpbWVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdG9wV29ya1RpbWVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHtcbiAgICAgICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnJlc2V0Q3VycmVudEZpYmVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX25leHQgIT09IG51bGwpIHtcbiAgICAgICAgICBzdG9wV29ya1RpbWVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBpZiAodHJ1ZSAmJiBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sKSB7XG4gICAgICAgICAgICBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sLm9uQ29tcGxldGVXb3JrKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gSWYgY29tcGxldGluZyB0aGlzIHdvcmsgc3Bhd25lZCBuZXcgd29yaywgZG8gdGhhdCBuZXh0LiBXZSdsbCBjb21lXG4gICAgICAgICAgLy8gYmFjayBoZXJlIGFnYWluLlxuICAgICAgICAgIC8vIFNpbmNlIHdlJ3JlIHJlc3RhcnRpbmcsIHJlbW92ZSBhbnl0aGluZyB0aGF0IGlzIG5vdCBhIGhvc3QgZWZmZWN0XG4gICAgICAgICAgLy8gZnJvbSB0aGUgZWZmZWN0IHRhZy5cbiAgICAgICAgICBfbmV4dC5lZmZlY3RUYWcgJj0gSG9zdEVmZmVjdE1hc2s7XG4gICAgICAgICAgcmV0dXJuIF9uZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJldHVybkZpYmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gTWFyayB0aGUgcGFyZW50IGZpYmVyIGFzIGluY29tcGxldGUgYW5kIGNsZWFyIGl0cyBlZmZlY3QgbGlzdC5cbiAgICAgICAgICByZXR1cm5GaWJlci5maXJzdEVmZmVjdCA9IHJldHVybkZpYmVyLmxhc3RFZmZlY3QgPSBudWxsO1xuICAgICAgICAgIHJldHVybkZpYmVyLmVmZmVjdFRhZyB8PSBJbmNvbXBsZXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRydWUgJiYgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbCkge1xuICAgICAgICAgIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wub25Db21wbGV0ZVdvcmsod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNpYmxpbmdGaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIElmIHRoZXJlIGlzIG1vcmUgd29yayB0byBkbyBpbiB0aGlzIHJldHVybkZpYmVyLCBkbyB0aGF0IG5leHQuXG4gICAgICAgICAgcmV0dXJuIHNpYmxpbmdGaWJlcjtcbiAgICAgICAgfSBlbHNlIGlmIChyZXR1cm5GaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gbW9yZSB3b3JrIGluIHRoaXMgcmV0dXJuRmliZXIuIENvbXBsZXRlIHRoZSByZXR1cm5GaWJlci5cbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IHJldHVybkZpYmVyO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gV2l0aG91dCB0aGlzIGV4cGxpY2l0IG51bGwgcmV0dXJuIEZsb3cgY29tcGxhaW5zIG9mIGludmFsaWQgcmV0dXJuIHR5cGVcbiAgICAvLyBUT0RPIFJlbW92ZSB0aGUgYWJvdmUgd2hpbGUodHJ1ZSkgbG9vcFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnJlYWNoYWJsZVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVyZm9ybVVuaXRPZldvcmsod29ya0luUHJvZ3Jlc3MpIHtcbiAgICAvLyBUaGUgY3VycmVudCwgZmx1c2hlZCwgc3RhdGUgb2YgdGhpcyBmaWJlciBpcyB0aGUgYWx0ZXJuYXRlLlxuICAgIC8vIElkZWFsbHkgbm90aGluZyBzaG91bGQgcmVseSBvbiB0aGlzLCBidXQgcmVseWluZyBvbiBpdCBoZXJlXG4gICAgLy8gbWVhbnMgdGhhdCB3ZSBkb24ndCBuZWVkIGFuIGFkZGl0aW9uYWwgZmllbGQgb24gdGhlIHdvcmsgaW5cbiAgICAvLyBwcm9ncmVzcy5cbiAgICB2YXIgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZTtcblxuICAgIC8vIFNlZSBpZiBiZWdpbm5pbmcgdGhpcyB3b3JrIHNwYXducyBtb3JlIHdvcmsuXG4gICAgc3RhcnRXb3JrVGltZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgIHtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIuc2V0Q3VycmVudEZpYmVyKHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG5cbiAgICBpZiAodHJ1ZSAmJiByZXBsYXlGYWlsZWRVbml0T2ZXb3JrV2l0aEludm9rZUd1YXJkZWRDYWxsYmFjaykge1xuICAgICAgc3Rhc2hlZFdvcmtJblByb2dyZXNzUHJvcGVydGllcyA9IGFzc2lnbkZpYmVyUHJvcGVydGllc0luREVWKHN0YXNoZWRXb3JrSW5Qcm9ncmVzc1Byb3BlcnRpZXMsIHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG4gICAgdmFyIG5leHQgPSBiZWdpbldvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAge1xuICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5yZXNldEN1cnJlbnRGaWJlcigpO1xuICAgICAgaWYgKGlzUmVwbGF5aW5nRmFpbGVkVW5pdE9mV29yaykge1xuICAgICAgICAvLyBDdXJyZW50bHkgcmVwbGF5aW5nIGEgZmFpbGVkIHVuaXQgb2Ygd29yay4gVGhpcyBzaG91bGQgYmUgdW5yZWFjaGFibGUsXG4gICAgICAgIC8vIGJlY2F1c2UgdGhlIHJlbmRlciBwaGFzZSBpcyBtZWFudCB0byBiZSBpZGVtcG90ZW50LCBhbmQgaXQgc2hvdWxkXG4gICAgICAgIC8vIGhhdmUgdGhyb3duIGFnYWluLiBTaW5jZSBpdCBkaWRuJ3QsIHJldGhyb3cgdGhlIG9yaWdpbmFsIGVycm9yLCBzb1xuICAgICAgICAvLyBSZWFjdCdzIGludGVybmFsIHN0YWNrIGlzIG5vdCBtaXNhbGlnbmVkLlxuICAgICAgICByZXRocm93T3JpZ2luYWxFcnJvcigpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHJ1ZSAmJiBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sKSB7XG4gICAgICBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sLm9uQmVnaW5Xb3JrKHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG5cbiAgICBpZiAobmV4dCA9PT0gbnVsbCkge1xuICAgICAgLy8gSWYgdGhpcyBkb2Vzbid0IHNwYXduIG5ldyB3b3JrLCBjb21wbGV0ZSB0aGUgY3VycmVudCB3b3JrLlxuICAgICAgbmV4dCA9IGNvbXBsZXRlVW5pdE9mV29yayh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IG51bGw7XG5cbiAgICByZXR1cm4gbmV4dDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdvcmtMb29wKGlzQXN5bmMpIHtcbiAgICBpZiAoIWlzQXN5bmMpIHtcbiAgICAgIC8vIEZsdXNoIGFsbCBleHBpcmVkIHdvcmsuXG4gICAgICB3aGlsZSAobmV4dFVuaXRPZldvcmsgIT09IG51bGwpIHtcbiAgICAgICAgbmV4dFVuaXRPZldvcmsgPSBwZXJmb3JtVW5pdE9mV29yayhuZXh0VW5pdE9mV29yayk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZsdXNoIGFzeW5jaHJvbm91cyB3b3JrIHVudGlsIHRoZSBkZWFkbGluZSBydW5zIG91dCBvZiB0aW1lLlxuICAgICAgd2hpbGUgKG5leHRVbml0T2ZXb3JrICE9PSBudWxsICYmICFzaG91bGRZaWVsZCgpKSB7XG4gICAgICAgIG5leHRVbml0T2ZXb3JrID0gcGVyZm9ybVVuaXRPZldvcmsobmV4dFVuaXRPZldvcmspO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlclJvb3Qocm9vdCwgZXhwaXJhdGlvblRpbWUsIGlzQXN5bmMpIHtcbiAgICAhIWlzV29ya2luZyA/IGludmFyaWFudChmYWxzZSwgJ3JlbmRlclJvb3Qgd2FzIGNhbGxlZCByZWN1cnNpdmVseS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgICBpc1dvcmtpbmcgPSB0cnVlO1xuXG4gICAgLy8gQ2hlY2sgaWYgd2UncmUgc3RhcnRpbmcgZnJvbSBhIGZyZXNoIHN0YWNrLCBvciBpZiB3ZSdyZSByZXN1bWluZyBmcm9tXG4gICAgLy8gcHJldmlvdXNseSB5aWVsZGVkIHdvcmsuXG4gICAgaWYgKGV4cGlyYXRpb25UaW1lICE9PSBuZXh0UmVuZGVyRXhwaXJhdGlvblRpbWUgfHwgcm9vdCAhPT0gbmV4dFJvb3QgfHwgbmV4dFVuaXRPZldvcmsgPT09IG51bGwpIHtcbiAgICAgIC8vIFJlc2V0IHRoZSBzdGFjayBhbmQgc3RhcnQgd29ya2luZyBmcm9tIHRoZSByb290LlxuICAgICAgcmVzZXRTdGFjaygpO1xuICAgICAgbmV4dFJvb3QgPSByb290O1xuICAgICAgbmV4dFJlbmRlckV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gICAgICBuZXh0VW5pdE9mV29yayA9IGNyZWF0ZVdvcmtJblByb2dyZXNzKG5leHRSb290LmN1cnJlbnQsIG51bGwsIG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICByb290LnBlbmRpbmdDb21taXRFeHBpcmF0aW9uVGltZSA9IE5vV29yaztcbiAgICB9XG5cbiAgICB2YXIgZGlkRmF0YWwgPSBmYWxzZTtcblxuICAgIHN0YXJ0V29ya0xvb3BUaW1lcihuZXh0VW5pdE9mV29yayk7XG5cbiAgICBkbyB7XG4gICAgICB0cnkge1xuICAgICAgICB3b3JrTG9vcChpc0FzeW5jKTtcbiAgICAgIH0gY2F0Y2ggKHRocm93blZhbHVlKSB7XG4gICAgICAgIGlmIChuZXh0VW5pdE9mV29yayA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIFRoaXMgaXMgYSBmYXRhbCBlcnJvci5cbiAgICAgICAgICBkaWRGYXRhbCA9IHRydWU7XG4gICAgICAgICAgb25VbmNhdWdodEVycm9yKHRocm93blZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cnVlICYmIHJlcGxheUZhaWxlZFVuaXRPZldvcmtXaXRoSW52b2tlR3VhcmRlZENhbGxiYWNrKSB7XG4gICAgICAgICAgdmFyIGZhaWxlZFVuaXRPZldvcmsgPSBuZXh0VW5pdE9mV29yaztcbiAgICAgICAgICByZXBsYXlVbml0T2ZXb3JrKGZhaWxlZFVuaXRPZldvcmssIHRocm93blZhbHVlLCBpc0FzeW5jKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzb3VyY2VGaWJlciA9IG5leHRVbml0T2ZXb3JrO1xuICAgICAgICB2YXIgcmV0dXJuRmliZXIgPSBzb3VyY2VGaWJlclsncmV0dXJuJ107XG4gICAgICAgIGlmIChyZXR1cm5GaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIHJvb3QuIFRoZSByb290IGNvdWxkIGNhcHR1cmUgaXRzIG93biBlcnJvcnMuIEhvd2V2ZXIsXG4gICAgICAgICAgLy8gd2UgZG9uJ3Qga25vdyBpZiBpdCBlcnJvcnMgYmVmb3JlIG9yIGFmdGVyIHdlIHB1c2hlZCB0aGUgaG9zdFxuICAgICAgICAgIC8vIGNvbnRleHQuIFRoaXMgaW5mb3JtYXRpb24gaXMgbmVlZGVkIHRvIGF2b2lkIGEgc3RhY2sgbWlzbWF0Y2guXG4gICAgICAgICAgLy8gQmVjYXVzZSB3ZSdyZSBub3Qgc3VyZSwgdHJlYXQgdGhpcyBhcyBhIGZhdGFsIGVycm9yLiBXZSBjb3VsZCB0cmFja1xuICAgICAgICAgIC8vIHdoaWNoIHBoYXNlIGl0IGZhaWxzIGluLCBidXQgZG9lc24ndCBzZWVtIHdvcnRoIGl0LiBBdCBsZWFzdFxuICAgICAgICAgIC8vIGZvciBub3cuXG4gICAgICAgICAgZGlkRmF0YWwgPSB0cnVlO1xuICAgICAgICAgIG9uVW5jYXVnaHRFcnJvcih0aHJvd25WYWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3dFeGNlcHRpb24ocmV0dXJuRmliZXIsIHNvdXJjZUZpYmVyLCB0aHJvd25WYWx1ZSk7XG4gICAgICAgIG5leHRVbml0T2ZXb3JrID0gY29tcGxldGVVbml0T2ZXb3JrKHNvdXJjZUZpYmVyKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH0gd2hpbGUgKHRydWUpO1xuXG4gICAgLy8gV2UncmUgZG9uZSBwZXJmb3JtaW5nIHdvcmsuIFRpbWUgdG8gY2xlYW4gdXAuXG4gICAgdmFyIGRpZENvbXBsZXRlUm9vdCA9IGZhbHNlO1xuICAgIGlzV29ya2luZyA9IGZhbHNlO1xuXG4gICAgLy8gWWllbGQgYmFjayB0byBtYWluIHRocmVhZC5cbiAgICBpZiAoZGlkRmF0YWwpIHtcbiAgICAgIHN0b3BXb3JrTG9vcFRpbWVyKGludGVycnVwdGVkQnksIGRpZENvbXBsZXRlUm9vdCk7XG4gICAgICBpbnRlcnJ1cHRlZEJ5ID0gbnVsbDtcbiAgICAgIC8vIFRoZXJlIHdhcyBhIGZhdGFsIGVycm9yLlxuICAgICAge1xuICAgICAgICBzdGFjay5yZXNldFN0YWNrQWZ0ZXJGYXRhbEVycm9ySW5EZXYoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSBpZiAobmV4dFVuaXRPZldvcmsgPT09IG51bGwpIHtcbiAgICAgIC8vIFdlIHJlYWNoZWQgdGhlIHJvb3QuXG4gICAgICBpZiAoaXNSb290UmVhZHlGb3JDb21taXQpIHtcbiAgICAgICAgZGlkQ29tcGxldGVSb290ID0gdHJ1ZTtcbiAgICAgICAgc3RvcFdvcmtMb29wVGltZXIoaW50ZXJydXB0ZWRCeSwgZGlkQ29tcGxldGVSb290KTtcbiAgICAgICAgaW50ZXJydXB0ZWRCeSA9IG51bGw7XG4gICAgICAgIC8vIFRoZSByb290IHN1Y2Nlc3NmdWxseSBjb21wbGV0ZWQuIEl0J3MgcmVhZHkgZm9yIGNvbW1pdC5cbiAgICAgICAgcm9vdC5wZW5kaW5nQ29tbWl0RXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgICAgICAgdmFyIGZpbmlzaGVkV29yayA9IHJvb3QuY3VycmVudC5hbHRlcm5hdGU7XG4gICAgICAgIHJldHVybiBmaW5pc2hlZFdvcms7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUaGUgcm9vdCBkaWQgbm90IGNvbXBsZXRlLlxuICAgICAgICBzdG9wV29ya0xvb3BUaW1lcihpbnRlcnJ1cHRlZEJ5LCBkaWRDb21wbGV0ZVJvb3QpO1xuICAgICAgICBpbnRlcnJ1cHRlZEJ5ID0gbnVsbDtcbiAgICAgICAgaW52YXJpYW50KGZhbHNlLCAnRXhwaXJlZCB3b3JrIHNob3VsZCBoYXZlIGNvbXBsZXRlZC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3RvcFdvcmtMb29wVGltZXIoaW50ZXJydXB0ZWRCeSwgZGlkQ29tcGxldGVSb290KTtcbiAgICAgIGludGVycnVwdGVkQnkgPSBudWxsO1xuICAgICAgLy8gVGhlcmUncyBtb3JlIHdvcmsgdG8gZG8sIGJ1dCB3ZSByYW4gb3V0IG9mIHRpbWUuIFlpZWxkIGJhY2sgdG9cbiAgICAgIC8vIHRoZSByZW5kZXJlci5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNjaGVkdWxlQ2FwdHVyZShzb3VyY2VGaWJlciwgYm91bmRhcnlGaWJlciwgdmFsdWUsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgLy8gVE9ETzogV2Ugb25seSBzdXBwb3J0IGRpc3BhdGNoaW5nIGVycm9ycy5cbiAgICB2YXIgY2FwdHVyZWRWYWx1ZSA9IGNyZWF0ZUNhcHR1cmVkVmFsdWUodmFsdWUsIHNvdXJjZUZpYmVyKTtcbiAgICB2YXIgdXBkYXRlID0ge1xuICAgICAgZXhwaXJhdGlvblRpbWU6IGV4cGlyYXRpb25UaW1lLFxuICAgICAgcGFydGlhbFN0YXRlOiBudWxsLFxuICAgICAgY2FsbGJhY2s6IG51bGwsXG4gICAgICBpc1JlcGxhY2U6IGZhbHNlLFxuICAgICAgaXNGb3JjZWQ6IGZhbHNlLFxuICAgICAgY2FwdHVyZWRWYWx1ZTogY2FwdHVyZWRWYWx1ZSxcbiAgICAgIG5leHQ6IG51bGxcbiAgICB9O1xuICAgIGluc2VydFVwZGF0ZUludG9GaWJlcihib3VuZGFyeUZpYmVyLCB1cGRhdGUpO1xuICAgIHNjaGVkdWxlV29yayhib3VuZGFyeUZpYmVyLCBleHBpcmF0aW9uVGltZSk7XG4gIH1cblxuICBmdW5jdGlvbiBkaXNwYXRjaChzb3VyY2VGaWJlciwgdmFsdWUsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgISghaXNXb3JraW5nIHx8IGlzQ29tbWl0dGluZykgPyBpbnZhcmlhbnQoZmFsc2UsICdkaXNwYXRjaDogQ2Fubm90IGRpc3BhdGNoIGR1cmluZyB0aGUgcmVuZGVyIHBoYXNlLicpIDogdm9pZCAwO1xuXG4gICAgLy8gVE9ETzogSGFuZGxlIGFycmF5c1xuXG4gICAgdmFyIGZpYmVyID0gc291cmNlRmliZXJbJ3JldHVybiddO1xuICAgIHdoaWxlIChmaWJlciAhPT0gbnVsbCkge1xuICAgICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAgICB2YXIgY3RvciA9IGZpYmVyLnR5cGU7XG4gICAgICAgICAgdmFyIGluc3RhbmNlID0gZmliZXIuc3RhdGVOb2RlO1xuICAgICAgICAgIGlmICh0eXBlb2YgY3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZENhdGNoID09PSAnZnVuY3Rpb24nICYmICFpc0FscmVhZHlGYWlsZWRMZWdhY3lFcnJvckJvdW5kYXJ5KGluc3RhbmNlKSkge1xuICAgICAgICAgICAgc2NoZWR1bGVDYXB0dXJlKHNvdXJjZUZpYmVyLCBmaWJlciwgdmFsdWUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vIFRPRE86IEhhbmRsZSBhc3luYyBib3VuZGFyaWVzXG4gICAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgICAgc2NoZWR1bGVDYXB0dXJlKHNvdXJjZUZpYmVyLCBmaWJlciwgdmFsdWUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmaWJlciA9IGZpYmVyWydyZXR1cm4nXTtcbiAgICB9XG5cbiAgICBpZiAoc291cmNlRmliZXIudGFnID09PSBIb3N0Um9vdCkge1xuICAgICAgLy8gRXJyb3Igd2FzIHRocm93biBhdCB0aGUgcm9vdC4gVGhlcmUgaXMgbm8gcGFyZW50LCBzbyB0aGUgcm9vdFxuICAgICAgLy8gaXRzZWxmIHNob3VsZCBjYXB0dXJlIGl0LlxuICAgICAgc2NoZWR1bGVDYXB0dXJlKHNvdXJjZUZpYmVyLCBzb3VyY2VGaWJlciwgdmFsdWUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkNvbW1pdFBoYXNlRXJyb3IoZmliZXIsIGVycm9yKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoKGZpYmVyLCBlcnJvciwgU3luYyk7XG4gIH1cblxuICBmdW5jdGlvbiBjb21wdXRlQXN5bmNFeHBpcmF0aW9uKGN1cnJlbnRUaW1lKSB7XG4gICAgLy8gR2l2ZW4gdGhlIGN1cnJlbnQgY2xvY2sgdGltZSwgcmV0dXJucyBhbiBleHBpcmF0aW9uIHRpbWUuIFdlIHVzZSByb3VuZGluZ1xuICAgIC8vIHRvIGJhdGNoIGxpa2UgdXBkYXRlcyB0b2dldGhlci5cbiAgICAvLyBTaG91bGQgY29tcGxldGUgd2l0aGluIH4xMDAwbXMuIDEyMDBtcyBtYXguXG4gICAgdmFyIGV4cGlyYXRpb25NcyA9IDUwMDA7XG4gICAgdmFyIGJ1Y2tldFNpemVNcyA9IDI1MDtcbiAgICByZXR1cm4gY29tcHV0ZUV4cGlyYXRpb25CdWNrZXQoY3VycmVudFRpbWUsIGV4cGlyYXRpb25NcywgYnVja2V0U2l6ZU1zKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXB1dGVJbnRlcmFjdGl2ZUV4cGlyYXRpb24oY3VycmVudFRpbWUpIHtcbiAgICAvLyBTaG91bGQgY29tcGxldGUgd2l0aGluIH41MDBtcy4gNjAwbXMgbWF4LlxuICAgIHZhciBleHBpcmF0aW9uTXMgPSA1MDA7XG4gICAgdmFyIGJ1Y2tldFNpemVNcyA9IDEwMDtcbiAgICByZXR1cm4gY29tcHV0ZUV4cGlyYXRpb25CdWNrZXQoY3VycmVudFRpbWUsIGV4cGlyYXRpb25NcywgYnVja2V0U2l6ZU1zKTtcbiAgfVxuXG4gIC8vIENyZWF0ZXMgYSB1bmlxdWUgYXN5bmMgZXhwaXJhdGlvbiB0aW1lLlxuICBmdW5jdGlvbiBjb21wdXRlVW5pcXVlQXN5bmNFeHBpcmF0aW9uKCkge1xuICAgIHZhciBjdXJyZW50VGltZSA9IHJlY2FsY3VsYXRlQ3VycmVudFRpbWUoKTtcbiAgICB2YXIgcmVzdWx0ID0gY29tcHV0ZUFzeW5jRXhwaXJhdGlvbihjdXJyZW50VGltZSk7XG4gICAgaWYgKHJlc3VsdCA8PSBsYXN0VW5pcXVlQXN5bmNFeHBpcmF0aW9uKSB7XG4gICAgICAvLyBTaW5jZSB3ZSBhc3N1bWUgdGhlIGN1cnJlbnQgdGltZSBtb25vdG9uaWNhbGx5IGluY3JlYXNlcywgd2Ugb25seSBoaXRcbiAgICAgIC8vIHRoaXMgYnJhbmNoIHdoZW4gY29tcHV0ZVVuaXF1ZUFzeW5jRXhwaXJhdGlvbiBpcyBmaXJlZCBtdWx0aXBsZSB0aW1lc1xuICAgICAgLy8gd2l0aGluIGEgMjAwbXMgd2luZG93IChvciB3aGF0ZXZlciB0aGUgYXN5bmMgYnVja2V0IHNpemUgaXMpLlxuICAgICAgcmVzdWx0ID0gbGFzdFVuaXF1ZUFzeW5jRXhwaXJhdGlvbiArIDE7XG4gICAgfVxuICAgIGxhc3RVbmlxdWVBc3luY0V4cGlyYXRpb24gPSByZXN1bHQ7XG4gICAgcmV0dXJuIGxhc3RVbmlxdWVBc3luY0V4cGlyYXRpb247XG4gIH1cblxuICBmdW5jdGlvbiBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyKGZpYmVyKSB7XG4gICAgdmFyIGV4cGlyYXRpb25UaW1lID0gdm9pZCAwO1xuICAgIGlmIChleHBpcmF0aW9uQ29udGV4dCAhPT0gTm9Xb3JrKSB7XG4gICAgICAvLyBBbiBleHBsaWNpdCBleHBpcmF0aW9uIGNvbnRleHQgd2FzIHNldDtcbiAgICAgIGV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvbkNvbnRleHQ7XG4gICAgfSBlbHNlIGlmIChpc1dvcmtpbmcpIHtcbiAgICAgIGlmIChpc0NvbW1pdHRpbmcpIHtcbiAgICAgICAgLy8gVXBkYXRlcyB0aGF0IG9jY3VyIGR1cmluZyB0aGUgY29tbWl0IHBoYXNlIHNob3VsZCBoYXZlIHN5bmMgcHJpb3JpdHlcbiAgICAgICAgLy8gYnkgZGVmYXVsdC5cbiAgICAgICAgZXhwaXJhdGlvblRpbWUgPSBTeW5jO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVXBkYXRlcyBkdXJpbmcgdGhlIHJlbmRlciBwaGFzZSBzaG91bGQgZXhwaXJlIGF0IHRoZSBzYW1lIHRpbWUgYXNcbiAgICAgICAgLy8gdGhlIHdvcmsgdGhhdCBpcyBiZWluZyByZW5kZXJlZC5cbiAgICAgICAgZXhwaXJhdGlvblRpbWUgPSBuZXh0UmVuZGVyRXhwaXJhdGlvblRpbWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vIGV4cGxpY2l0IGV4cGlyYXRpb24gY29udGV4dCB3YXMgc2V0LCBhbmQgd2UncmUgbm90IGN1cnJlbnRseVxuICAgICAgLy8gcGVyZm9ybWluZyB3b3JrLiBDYWxjdWxhdGUgYSBuZXcgZXhwaXJhdGlvbiB0aW1lLlxuICAgICAgaWYgKGZpYmVyLm1vZGUgJiBBc3luY01vZGUpIHtcbiAgICAgICAgaWYgKGlzQmF0Y2hpbmdJbnRlcmFjdGl2ZVVwZGF0ZXMpIHtcbiAgICAgICAgICAvLyBUaGlzIGlzIGFuIGludGVyYWN0aXZlIHVwZGF0ZVxuICAgICAgICAgIHZhciBjdXJyZW50VGltZSA9IHJlY2FsY3VsYXRlQ3VycmVudFRpbWUoKTtcbiAgICAgICAgICBleHBpcmF0aW9uVGltZSA9IGNvbXB1dGVJbnRlcmFjdGl2ZUV4cGlyYXRpb24oY3VycmVudFRpbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFRoaXMgaXMgYW4gYXN5bmMgdXBkYXRlXG4gICAgICAgICAgdmFyIF9jdXJyZW50VGltZSA9IHJlY2FsY3VsYXRlQ3VycmVudFRpbWUoKTtcbiAgICAgICAgICBleHBpcmF0aW9uVGltZSA9IGNvbXB1dGVBc3luY0V4cGlyYXRpb24oX2N1cnJlbnRUaW1lKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIHN5bmMgdXBkYXRlXG4gICAgICAgIGV4cGlyYXRpb25UaW1lID0gU3luYztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzQmF0Y2hpbmdJbnRlcmFjdGl2ZVVwZGF0ZXMpIHtcbiAgICAgIC8vIFRoaXMgaXMgYW4gaW50ZXJhY3RpdmUgdXBkYXRlLiBLZWVwIHRyYWNrIG9mIHRoZSBsb3dlc3QgcGVuZGluZ1xuICAgICAgLy8gaW50ZXJhY3RpdmUgZXhwaXJhdGlvbiB0aW1lLiBUaGlzIGFsbG93cyB1cyB0byBzeW5jaHJvbm91c2x5IGZsdXNoXG4gICAgICAvLyBhbGwgaW50ZXJhY3RpdmUgdXBkYXRlcyB3aGVuIG5lZWRlZC5cbiAgICAgIGlmIChsb3dlc3RQZW5kaW5nSW50ZXJhY3RpdmVFeHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8IGV4cGlyYXRpb25UaW1lID4gbG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWUpIHtcbiAgICAgICAgbG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGV4cGlyYXRpb25UaW1lO1xuICB9XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGVXb3JrKGZpYmVyLCBleHBpcmF0aW9uVGltZSkge1xuICAgIHJldHVybiBzY2hlZHVsZVdvcmtJbXBsKGZpYmVyLCBleHBpcmF0aW9uVGltZSwgZmFsc2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGVXb3JrSW1wbChmaWJlciwgZXhwaXJhdGlvblRpbWUsIGlzRXJyb3JSZWNvdmVyeSkge1xuICAgIHJlY29yZFNjaGVkdWxlVXBkYXRlKCk7XG5cbiAgICB7XG4gICAgICBpZiAoIWlzRXJyb3JSZWNvdmVyeSAmJiBmaWJlci50YWcgPT09IENsYXNzQ29tcG9uZW50KSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IGZpYmVyLnN0YXRlTm9kZTtcbiAgICAgICAgd2FybkFib3V0SW52YWxpZFVwZGF0ZXMoaW5zdGFuY2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBub2RlID0gZmliZXI7XG4gICAgd2hpbGUgKG5vZGUgIT09IG51bGwpIHtcbiAgICAgIC8vIFdhbGsgdGhlIHBhcmVudCBwYXRoIHRvIHRoZSByb290IGFuZCB1cGRhdGUgZWFjaCBub2RlJ3NcbiAgICAgIC8vIGV4cGlyYXRpb24gdGltZS5cbiAgICAgIGlmIChub2RlLmV4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHwgbm9kZS5leHBpcmF0aW9uVGltZSA+IGV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgIG5vZGUuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLmFsdGVybmF0ZSAhPT0gbnVsbCkge1xuICAgICAgICBpZiAobm9kZS5hbHRlcm5hdGUuZXhwaXJhdGlvblRpbWUgPT09IE5vV29yayB8fCBub2RlLmFsdGVybmF0ZS5leHBpcmF0aW9uVGltZSA+IGV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgICAgbm9kZS5hbHRlcm5hdGUuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG5vZGVbJ3JldHVybiddID09PSBudWxsKSB7XG4gICAgICAgIGlmIChub2RlLnRhZyA9PT0gSG9zdFJvb3QpIHtcbiAgICAgICAgICB2YXIgcm9vdCA9IG5vZGUuc3RhdGVOb2RlO1xuICAgICAgICAgIGlmICghaXNXb3JraW5nICYmIG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSAhPT0gTm9Xb3JrICYmIGV4cGlyYXRpb25UaW1lIDwgbmV4dFJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIGFuIGludGVycnVwdGlvbi4gKFVzZWQgZm9yIHBlcmZvcm1hbmNlIHRyYWNraW5nLilcbiAgICAgICAgICAgIGludGVycnVwdGVkQnkgPSBmaWJlcjtcbiAgICAgICAgICAgIHJlc2V0U3RhY2soKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgIC8vIElmIHdlJ3JlIGluIHRoZSByZW5kZXIgcGhhc2UsIHdlIGRvbid0IG5lZWQgdG8gc2NoZWR1bGUgdGhpcyByb290XG4gICAgICAgICAgLy8gZm9yIGFuIHVwZGF0ZSwgYmVjYXVzZSB3ZSdsbCBkbyBpdCBiZWZvcmUgd2UgZXhpdC4uLlxuICAgICAgICAgICFpc1dvcmtpbmcgfHwgaXNDb21taXR0aW5nIHx8XG4gICAgICAgICAgLy8gLi4udW5sZXNzIHRoaXMgaXMgYSBkaWZmZXJlbnQgcm9vdCB0aGFuIHRoZSBvbmUgd2UncmUgcmVuZGVyaW5nLlxuICAgICAgICAgIG5leHRSb290ICE9PSByb290KSB7XG4gICAgICAgICAgICAvLyBBZGQgdGhpcyByb290IHRvIHRoZSByb290IHNjaGVkdWxlLlxuICAgICAgICAgICAgcmVxdWVzdFdvcmsocm9vdCwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobmVzdGVkVXBkYXRlQ291bnQgPiBORVNURURfVVBEQVRFX0xJTUlUKSB7XG4gICAgICAgICAgICBpbnZhcmlhbnQoZmFsc2UsICdNYXhpbXVtIHVwZGF0ZSBkZXB0aCBleGNlZWRlZC4gVGhpcyBjYW4gaGFwcGVuIHdoZW4gYSBjb21wb25lbnQgcmVwZWF0ZWRseSBjYWxscyBzZXRTdGF0ZSBpbnNpZGUgY29tcG9uZW50V2lsbFVwZGF0ZSBvciBjb21wb25lbnREaWRVcGRhdGUuIFJlYWN0IGxpbWl0cyB0aGUgbnVtYmVyIG9mIG5lc3RlZCB1cGRhdGVzIHRvIHByZXZlbnQgaW5maW5pdGUgbG9vcHMuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmICghaXNFcnJvclJlY292ZXJ5ICYmIGZpYmVyLnRhZyA9PT0gQ2xhc3NDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgd2FybkFib3V0VXBkYXRlT25Vbm1vdW50ZWQoZmliZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5vZGUgPSBub2RlWydyZXR1cm4nXTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWNhbGN1bGF0ZUN1cnJlbnRUaW1lKCkge1xuICAgIC8vIFN1YnRyYWN0IGluaXRpYWwgdGltZSBzbyBpdCBmaXRzIGluc2lkZSAzMmJpdHNcbiAgICBtb3N0UmVjZW50Q3VycmVudFRpbWVNcyA9IG5vdygpIC0gb3JpZ2luYWxTdGFydFRpbWVNcztcbiAgICBtb3N0UmVjZW50Q3VycmVudFRpbWUgPSBtc1RvRXhwaXJhdGlvblRpbWUobW9zdFJlY2VudEN1cnJlbnRUaW1lTXMpO1xuICAgIHJldHVybiBtb3N0UmVjZW50Q3VycmVudFRpbWU7XG4gIH1cblxuICBmdW5jdGlvbiBkZWZlcnJlZFVwZGF0ZXMoZm4pIHtcbiAgICB2YXIgcHJldmlvdXNFeHBpcmF0aW9uQ29udGV4dCA9IGV4cGlyYXRpb25Db250ZXh0O1xuICAgIHZhciBjdXJyZW50VGltZSA9IHJlY2FsY3VsYXRlQ3VycmVudFRpbWUoKTtcbiAgICBleHBpcmF0aW9uQ29udGV4dCA9IGNvbXB1dGVBc3luY0V4cGlyYXRpb24oY3VycmVudFRpbWUpO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZm4oKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgZXhwaXJhdGlvbkNvbnRleHQgPSBwcmV2aW91c0V4cGlyYXRpb25Db250ZXh0O1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBzeW5jVXBkYXRlcyhmbiwgYSwgYiwgYywgZCkge1xuICAgIHZhciBwcmV2aW91c0V4cGlyYXRpb25Db250ZXh0ID0gZXhwaXJhdGlvbkNvbnRleHQ7XG4gICAgZXhwaXJhdGlvbkNvbnRleHQgPSBTeW5jO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZm4oYSwgYiwgYywgZCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGV4cGlyYXRpb25Db250ZXh0ID0gcHJldmlvdXNFeHBpcmF0aW9uQ29udGV4dDtcbiAgICB9XG4gIH1cblxuICAvLyBUT0RPOiBFdmVyeXRoaW5nIGJlbG93IHRoaXMgaXMgd3JpdHRlbiBhcyBpZiBpdCBoYXMgYmVlbiBsaWZ0ZWQgdG8gdGhlXG4gIC8vIHJlbmRlcmVycy4gSSdsbCBkbyB0aGlzIGluIGEgZm9sbG93LXVwLlxuXG4gIC8vIExpbmtlZC1saXN0IG9mIHJvb3RzXG4gIHZhciBmaXJzdFNjaGVkdWxlZFJvb3QgPSBudWxsO1xuICB2YXIgbGFzdFNjaGVkdWxlZFJvb3QgPSBudWxsO1xuXG4gIHZhciBjYWxsYmFja0V4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICB2YXIgY2FsbGJhY2tJRCA9IC0xO1xuICB2YXIgaXNSZW5kZXJpbmcgPSBmYWxzZTtcbiAgdmFyIG5leHRGbHVzaGVkUm9vdCA9IG51bGw7XG4gIHZhciBuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICB2YXIgbG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG4gIHZhciBkZWFkbGluZURpZEV4cGlyZSA9IGZhbHNlO1xuICB2YXIgaGFzVW5oYW5kbGVkRXJyb3IgPSBmYWxzZTtcbiAgdmFyIHVuaGFuZGxlZEVycm9yID0gbnVsbDtcbiAgdmFyIGRlYWRsaW5lID0gbnVsbDtcblxuICB2YXIgaXNCYXRjaGluZ1VwZGF0ZXMgPSBmYWxzZTtcbiAgdmFyIGlzVW5iYXRjaGluZ1VwZGF0ZXMgPSBmYWxzZTtcbiAgdmFyIGlzQmF0Y2hpbmdJbnRlcmFjdGl2ZVVwZGF0ZXMgPSBmYWxzZTtcblxuICB2YXIgY29tcGxldGVkQmF0Y2hlcyA9IG51bGw7XG5cbiAgLy8gVXNlIHRoZXNlIHRvIHByZXZlbnQgYW4gaW5maW5pdGUgbG9vcCBvZiBuZXN0ZWQgdXBkYXRlc1xuICB2YXIgTkVTVEVEX1VQREFURV9MSU1JVCA9IDEwMDA7XG4gIHZhciBuZXN0ZWRVcGRhdGVDb3VudCA9IDA7XG5cbiAgdmFyIHRpbWVIZXVyaXN0aWNGb3JVbml0T2ZXb3JrID0gMTtcblxuICBmdW5jdGlvbiBzY2hlZHVsZUNhbGxiYWNrV2l0aEV4cGlyYXRpb24oZXhwaXJhdGlvblRpbWUpIHtcbiAgICBpZiAoY2FsbGJhY2tFeHBpcmF0aW9uVGltZSAhPT0gTm9Xb3JrKSB7XG4gICAgICAvLyBBIGNhbGxiYWNrIGlzIGFscmVhZHkgc2NoZWR1bGVkLiBDaGVjayBpdHMgZXhwaXJhdGlvbiB0aW1lICh0aW1lb3V0KS5cbiAgICAgIGlmIChleHBpcmF0aW9uVGltZSA+IGNhbGxiYWNrRXhwaXJhdGlvblRpbWUpIHtcbiAgICAgICAgLy8gRXhpc3RpbmcgY2FsbGJhY2sgaGFzIHN1ZmZpY2llbnQgdGltZW91dC4gRXhpdC5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRXhpc3RpbmcgY2FsbGJhY2sgaGFzIGluc3VmZmljaWVudCB0aW1lb3V0LiBDYW5jZWwgYW5kIHNjaGVkdWxlIGFcbiAgICAgICAgLy8gbmV3IG9uZS5cbiAgICAgICAgY2FuY2VsRGVmZXJyZWRDYWxsYmFjayhjYWxsYmFja0lEKTtcbiAgICAgIH1cbiAgICAgIC8vIFRoZSByZXF1ZXN0IGNhbGxiYWNrIHRpbWVyIGlzIGFscmVhZHkgcnVubmluZy4gRG9uJ3Qgc3RhcnQgYSBuZXcgb25lLlxuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydFJlcXVlc3RDYWxsYmFja1RpbWVyKCk7XG4gICAgfVxuXG4gICAgLy8gQ29tcHV0ZSBhIHRpbWVvdXQgZm9yIHRoZSBnaXZlbiBleHBpcmF0aW9uIHRpbWUuXG4gICAgdmFyIGN1cnJlbnRNcyA9IG5vdygpIC0gb3JpZ2luYWxTdGFydFRpbWVNcztcbiAgICB2YXIgZXhwaXJhdGlvbk1zID0gZXhwaXJhdGlvblRpbWVUb01zKGV4cGlyYXRpb25UaW1lKTtcbiAgICB2YXIgdGltZW91dCA9IGV4cGlyYXRpb25NcyAtIGN1cnJlbnRNcztcblxuICAgIGNhbGxiYWNrRXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgICBjYWxsYmFja0lEID0gc2NoZWR1bGVEZWZlcnJlZENhbGxiYWNrKHBlcmZvcm1Bc3luY1dvcmssIHsgdGltZW91dDogdGltZW91dCB9KTtcbiAgfVxuXG4gIC8vIHJlcXVlc3RXb3JrIGlzIGNhbGxlZCBieSB0aGUgc2NoZWR1bGVyIHdoZW5ldmVyIGEgcm9vdCByZWNlaXZlcyBhbiB1cGRhdGUuXG4gIC8vIEl0J3MgdXAgdG8gdGhlIHJlbmRlcmVyIHRvIGNhbGwgcmVuZGVyUm9vdCBhdCBzb21lIHBvaW50IGluIHRoZSBmdXR1cmUuXG4gIGZ1bmN0aW9uIHJlcXVlc3RXb3JrKHJvb3QsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgYWRkUm9vdFRvU2NoZWR1bGUocm9vdCwgZXhwaXJhdGlvblRpbWUpO1xuXG4gICAgaWYgKGlzUmVuZGVyaW5nKSB7XG4gICAgICAvLyBQcmV2ZW50IHJlZW50cmFuY3kuIFJlbWFpbmluZyB3b3JrIHdpbGwgYmUgc2NoZWR1bGVkIGF0IHRoZSBlbmQgb2ZcbiAgICAgIC8vIHRoZSBjdXJyZW50bHkgcmVuZGVyaW5nIGJhdGNoLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpc0JhdGNoaW5nVXBkYXRlcykge1xuICAgICAgLy8gRmx1c2ggd29yayBhdCB0aGUgZW5kIG9mIHRoZSBiYXRjaC5cbiAgICAgIGlmIChpc1VuYmF0Y2hpbmdVcGRhdGVzKSB7XG4gICAgICAgIC8vIC4uLnVubGVzcyB3ZSdyZSBpbnNpZGUgdW5iYXRjaGVkVXBkYXRlcywgaW4gd2hpY2ggY2FzZSB3ZSBzaG91bGRcbiAgICAgICAgLy8gZmx1c2ggaXQgbm93LlxuICAgICAgICBuZXh0Rmx1c2hlZFJvb3QgPSByb290O1xuICAgICAgICBuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lID0gU3luYztcbiAgICAgICAgcGVyZm9ybVdvcmtPblJvb3Qocm9vdCwgU3luYywgZmFsc2UpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFRPRE86IEdldCByaWQgb2YgU3luYyBhbmQgdXNlIGN1cnJlbnQgdGltZT9cbiAgICBpZiAoZXhwaXJhdGlvblRpbWUgPT09IFN5bmMpIHtcbiAgICAgIHBlcmZvcm1TeW5jV29yaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY2hlZHVsZUNhbGxiYWNrV2l0aEV4cGlyYXRpb24oZXhwaXJhdGlvblRpbWUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFJvb3RUb1NjaGVkdWxlKHJvb3QsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgLy8gQWRkIHRoZSByb290IHRvIHRoZSBzY2hlZHVsZS5cbiAgICAvLyBDaGVjayBpZiB0aGlzIHJvb3QgaXMgYWxyZWFkeSBwYXJ0IG9mIHRoZSBzY2hlZHVsZS5cbiAgICBpZiAocm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9PT0gbnVsbCkge1xuICAgICAgLy8gVGhpcyByb290IGlzIG5vdCBhbHJlYWR5IHNjaGVkdWxlZC4gQWRkIGl0LlxuICAgICAgcm9vdC5yZW1haW5pbmdFeHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICAgICAgaWYgKGxhc3RTY2hlZHVsZWRSb290ID09PSBudWxsKSB7XG4gICAgICAgIGZpcnN0U2NoZWR1bGVkUm9vdCA9IGxhc3RTY2hlZHVsZWRSb290ID0gcm9vdDtcbiAgICAgICAgcm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9IHJvb3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsYXN0U2NoZWR1bGVkUm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9IHJvb3Q7XG4gICAgICAgIGxhc3RTY2hlZHVsZWRSb290ID0gcm9vdDtcbiAgICAgICAgbGFzdFNjaGVkdWxlZFJvb3QubmV4dFNjaGVkdWxlZFJvb3QgPSBmaXJzdFNjaGVkdWxlZFJvb3Q7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoaXMgcm9vdCBpcyBhbHJlYWR5IHNjaGVkdWxlZCwgYnV0IGl0cyBwcmlvcml0eSBtYXkgaGF2ZSBpbmNyZWFzZWQuXG4gICAgICB2YXIgcmVtYWluaW5nRXhwaXJhdGlvblRpbWUgPSByb290LnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lO1xuICAgICAgaWYgKHJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHwgZXhwaXJhdGlvblRpbWUgPCByZW1haW5pbmdFeHBpcmF0aW9uVGltZSkge1xuICAgICAgICAvLyBVcGRhdGUgdGhlIHByaW9yaXR5LlxuICAgICAgICByb290LnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmluZEhpZ2hlc3RQcmlvcml0eVJvb3QoKSB7XG4gICAgdmFyIGhpZ2hlc3RQcmlvcml0eVdvcmsgPSBOb1dvcms7XG4gICAgdmFyIGhpZ2hlc3RQcmlvcml0eVJvb3QgPSBudWxsO1xuICAgIGlmIChsYXN0U2NoZWR1bGVkUm9vdCAhPT0gbnVsbCkge1xuICAgICAgdmFyIHByZXZpb3VzU2NoZWR1bGVkUm9vdCA9IGxhc3RTY2hlZHVsZWRSb290O1xuICAgICAgdmFyIHJvb3QgPSBmaXJzdFNjaGVkdWxlZFJvb3Q7XG4gICAgICB3aGlsZSAocm9vdCAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgcmVtYWluaW5nRXhwaXJhdGlvblRpbWUgPSByb290LnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lO1xuICAgICAgICBpZiAocmVtYWluaW5nRXhwaXJhdGlvblRpbWUgPT09IE5vV29yaykge1xuICAgICAgICAgIC8vIFRoaXMgcm9vdCBubyBsb25nZXIgaGFzIHdvcmsuIFJlbW92ZSBpdCBmcm9tIHRoZSBzY2hlZHVsZXIuXG5cbiAgICAgICAgICAvLyBUT0RPOiBUaGlzIGNoZWNrIGlzIHJlZHVkYW50LCBidXQgRmxvdyBpcyBjb25mdXNlZCBieSB0aGUgYnJhbmNoXG4gICAgICAgICAgLy8gYmVsb3cgd2hlcmUgd2Ugc2V0IGxhc3RTY2hlZHVsZWRSb290IHRvIG51bGwsIGV2ZW4gdGhvdWdoIHdlIGJyZWFrXG4gICAgICAgICAgLy8gZnJvbSB0aGUgbG9vcCByaWdodCBhZnRlci5cbiAgICAgICAgICAhKHByZXZpb3VzU2NoZWR1bGVkUm9vdCAhPT0gbnVsbCAmJiBsYXN0U2NoZWR1bGVkUm9vdCAhPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdTaG91bGQgaGF2ZSBhIHByZXZpb3VzIGFuZCBsYXN0IHJvb3QuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gICAgICAgICAgaWYgKHJvb3QgPT09IHJvb3QubmV4dFNjaGVkdWxlZFJvb3QpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIG9ubHkgcm9vdCBpbiB0aGUgbGlzdC5cbiAgICAgICAgICAgIHJvb3QubmV4dFNjaGVkdWxlZFJvb3QgPSBudWxsO1xuICAgICAgICAgICAgZmlyc3RTY2hlZHVsZWRSb290ID0gbGFzdFNjaGVkdWxlZFJvb3QgPSBudWxsO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlIGlmIChyb290ID09PSBmaXJzdFNjaGVkdWxlZFJvb3QpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGZpcnN0IHJvb3QgaW4gdGhlIGxpc3QuXG4gICAgICAgICAgICB2YXIgbmV4dCA9IHJvb3QubmV4dFNjaGVkdWxlZFJvb3Q7XG4gICAgICAgICAgICBmaXJzdFNjaGVkdWxlZFJvb3QgPSBuZXh0O1xuICAgICAgICAgICAgbGFzdFNjaGVkdWxlZFJvb3QubmV4dFNjaGVkdWxlZFJvb3QgPSBuZXh0O1xuICAgICAgICAgICAgcm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9IG51bGw7XG4gICAgICAgICAgfSBlbHNlIGlmIChyb290ID09PSBsYXN0U2NoZWR1bGVkUm9vdCkge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgbGFzdCByb290IGluIHRoZSBsaXN0LlxuICAgICAgICAgICAgbGFzdFNjaGVkdWxlZFJvb3QgPSBwcmV2aW91c1NjaGVkdWxlZFJvb3Q7XG4gICAgICAgICAgICBsYXN0U2NoZWR1bGVkUm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9IGZpcnN0U2NoZWR1bGVkUm9vdDtcbiAgICAgICAgICAgIHJvb3QubmV4dFNjaGVkdWxlZFJvb3QgPSBudWxsO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByZXZpb3VzU2NoZWR1bGVkUm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9IHJvb3QubmV4dFNjaGVkdWxlZFJvb3Q7XG4gICAgICAgICAgICByb290Lm5leHRTY2hlZHVsZWRSb290ID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcm9vdCA9IHByZXZpb3VzU2NoZWR1bGVkUm9vdC5uZXh0U2NoZWR1bGVkUm9vdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoaGlnaGVzdFByaW9yaXR5V29yayA9PT0gTm9Xb3JrIHx8IHJlbWFpbmluZ0V4cGlyYXRpb25UaW1lIDwgaGlnaGVzdFByaW9yaXR5V29yaykge1xuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBwcmlvcml0eSwgaWYgaXQncyBoaWdoZXJcbiAgICAgICAgICAgIGhpZ2hlc3RQcmlvcml0eVdvcmsgPSByZW1haW5pbmdFeHBpcmF0aW9uVGltZTtcbiAgICAgICAgICAgIGhpZ2hlc3RQcmlvcml0eVJvb3QgPSByb290O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocm9vdCA9PT0gbGFzdFNjaGVkdWxlZFJvb3QpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcmV2aW91c1NjaGVkdWxlZFJvb3QgPSByb290O1xuICAgICAgICAgIHJvb3QgPSByb290Lm5leHRTY2hlZHVsZWRSb290O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIG5leHQgcm9vdCBpcyB0aGUgc2FtZSBhcyB0aGUgcHJldmlvdXMgcm9vdCwgdGhpcyBpcyBhIG5lc3RlZFxuICAgIC8vIHVwZGF0ZS4gVG8gcHJldmVudCBhbiBpbmZpbml0ZSBsb29wLCBpbmNyZW1lbnQgdGhlIG5lc3RlZCB1cGRhdGUgY291bnQuXG4gICAgdmFyIHByZXZpb3VzRmx1c2hlZFJvb3QgPSBuZXh0Rmx1c2hlZFJvb3Q7XG4gICAgaWYgKHByZXZpb3VzRmx1c2hlZFJvb3QgIT09IG51bGwgJiYgcHJldmlvdXNGbHVzaGVkUm9vdCA9PT0gaGlnaGVzdFByaW9yaXR5Um9vdCAmJiBoaWdoZXN0UHJpb3JpdHlXb3JrID09PSBTeW5jKSB7XG4gICAgICBuZXN0ZWRVcGRhdGVDb3VudCsrO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZXNldCB3aGVuZXZlciB3ZSBzd2l0Y2ggcm9vdHMuXG4gICAgICBuZXN0ZWRVcGRhdGVDb3VudCA9IDA7XG4gICAgfVxuICAgIG5leHRGbHVzaGVkUm9vdCA9IGhpZ2hlc3RQcmlvcml0eVJvb3Q7XG4gICAgbmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSA9IGhpZ2hlc3RQcmlvcml0eVdvcms7XG4gIH1cblxuICBmdW5jdGlvbiBwZXJmb3JtQXN5bmNXb3JrKGRsKSB7XG4gICAgcGVyZm9ybVdvcmsoTm9Xb3JrLCB0cnVlLCBkbCk7XG4gIH1cblxuICBmdW5jdGlvbiBwZXJmb3JtU3luY1dvcmsoKSB7XG4gICAgcGVyZm9ybVdvcmsoU3luYywgZmFsc2UsIG51bGwpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVyZm9ybVdvcmsobWluRXhwaXJhdGlvblRpbWUsIGlzQXN5bmMsIGRsKSB7XG4gICAgZGVhZGxpbmUgPSBkbDtcblxuICAgIC8vIEtlZXAgd29ya2luZyBvbiByb290cyB1bnRpbCB0aGVyZSdzIG5vIG1vcmUgd29yaywgb3IgdW50aWwgdGhlIHdlIHJlYWNoXG4gICAgLy8gdGhlIGRlYWRsaW5lLlxuICAgIGZpbmRIaWdoZXN0UHJpb3JpdHlSb290KCk7XG5cbiAgICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSAmJiBkZWFkbGluZSAhPT0gbnVsbCkge1xuICAgICAgdmFyIGRpZEV4cGlyZSA9IG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUgPCByZWNhbGN1bGF0ZUN1cnJlbnRUaW1lKCk7XG4gICAgICB2YXIgdGltZW91dCA9IGV4cGlyYXRpb25UaW1lVG9NcyhuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lKTtcbiAgICAgIHN0b3BSZXF1ZXN0Q2FsbGJhY2tUaW1lcihkaWRFeHBpcmUsIHRpbWVvdXQpO1xuICAgIH1cblxuICAgIGlmIChpc0FzeW5jKSB7XG4gICAgICB3aGlsZSAobmV4dEZsdXNoZWRSb290ICE9PSBudWxsICYmIG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUgIT09IE5vV29yayAmJiAobWluRXhwaXJhdGlvblRpbWUgPT09IE5vV29yayB8fCBtaW5FeHBpcmF0aW9uVGltZSA+PSBuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lKSAmJiAoIWRlYWRsaW5lRGlkRXhwaXJlIHx8IHJlY2FsY3VsYXRlQ3VycmVudFRpbWUoKSA+PSBuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lKSkge1xuICAgICAgICBwZXJmb3JtV29ya09uUm9vdChuZXh0Rmx1c2hlZFJvb3QsIG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUsICFkZWFkbGluZURpZEV4cGlyZSk7XG4gICAgICAgIGZpbmRIaWdoZXN0UHJpb3JpdHlSb290KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHdoaWxlIChuZXh0Rmx1c2hlZFJvb3QgIT09IG51bGwgJiYgbmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSAhPT0gTm9Xb3JrICYmIChtaW5FeHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8IG1pbkV4cGlyYXRpb25UaW1lID49IG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUpKSB7XG4gICAgICAgIHBlcmZvcm1Xb3JrT25Sb290KG5leHRGbHVzaGVkUm9vdCwgbmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSwgZmFsc2UpO1xuICAgICAgICBmaW5kSGlnaGVzdFByaW9yaXR5Um9vdCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdlJ3JlIGRvbmUgZmx1c2hpbmcgd29yay4gRWl0aGVyIHdlIHJhbiBvdXQgb2YgdGltZSBpbiB0aGlzIGNhbGxiYWNrLFxuICAgIC8vIG9yIHRoZXJlJ3Mgbm8gbW9yZSB3b3JrIGxlZnQgd2l0aCBzdWZmaWNpZW50IHByaW9yaXR5LlxuXG4gICAgLy8gSWYgd2UncmUgaW5zaWRlIGEgY2FsbGJhY2ssIHNldCB0aGlzIHRvIGZhbHNlIHNpbmNlIHdlIGp1c3QgY29tcGxldGVkIGl0LlxuICAgIGlmIChkZWFkbGluZSAhPT0gbnVsbCkge1xuICAgICAgY2FsbGJhY2tFeHBpcmF0aW9uVGltZSA9IE5vV29yaztcbiAgICAgIGNhbGxiYWNrSUQgPSAtMTtcbiAgICB9XG4gICAgLy8gSWYgdGhlcmUncyB3b3JrIGxlZnQgb3Zlciwgc2NoZWR1bGUgYSBuZXcgY2FsbGJhY2suXG4gICAgaWYgKG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUgIT09IE5vV29yaykge1xuICAgICAgc2NoZWR1bGVDYWxsYmFja1dpdGhFeHBpcmF0aW9uKG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUpO1xuICAgIH1cblxuICAgIC8vIENsZWFuLXVwLlxuICAgIGRlYWRsaW5lID0gbnVsbDtcbiAgICBkZWFkbGluZURpZEV4cGlyZSA9IGZhbHNlO1xuXG4gICAgZmluaXNoUmVuZGVyaW5nKCk7XG4gIH1cblxuICBmdW5jdGlvbiBmbHVzaFJvb3Qocm9vdCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICAhIWlzUmVuZGVyaW5nID8gaW52YXJpYW50KGZhbHNlLCAnd29yay5jb21taXQoKTogQ2Fubm90IGNvbW1pdCB3aGlsZSBhbHJlYWR5IHJlbmRlcmluZy4gVGhpcyBsaWtlbHkgbWVhbnMgeW91IGF0dGVtcHRlZCB0byBjb21taXQgZnJvbSBpbnNpZGUgYSBsaWZlY3ljbGUgbWV0aG9kLicpIDogdm9pZCAwO1xuICAgIC8vIFBlcmZvcm0gd29yayBvbiByb290IGFzIGlmIHRoZSBnaXZlbiBleHBpcmF0aW9uIHRpbWUgaXMgdGhlIGN1cnJlbnQgdGltZS5cbiAgICAvLyBUaGlzIGhhcyB0aGUgZWZmZWN0IG9mIHN5bmNocm9ub3VzbHkgZmx1c2hpbmcgYWxsIHdvcmsgdXAgdG8gYW5kXG4gICAgLy8gaW5jbHVkaW5nIHRoZSBnaXZlbiB0aW1lLlxuICAgIG5leHRGbHVzaGVkUm9vdCA9IHJvb3Q7XG4gICAgbmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICAgIHBlcmZvcm1Xb3JrT25Sb290KHJvb3QsIGV4cGlyYXRpb25UaW1lLCBmYWxzZSk7XG4gICAgLy8gRmx1c2ggYW55IHN5bmMgd29yayB0aGF0IHdhcyBzY2hlZHVsZWQgYnkgbGlmZWN5Y2xlc1xuICAgIHBlcmZvcm1TeW5jV29yaygpO1xuICAgIGZpbmlzaFJlbmRlcmluZygpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluaXNoUmVuZGVyaW5nKCkge1xuICAgIG5lc3RlZFVwZGF0ZUNvdW50ID0gMDtcblxuICAgIGlmIChjb21wbGV0ZWRCYXRjaGVzICE9PSBudWxsKSB7XG4gICAgICB2YXIgYmF0Y2hlcyA9IGNvbXBsZXRlZEJhdGNoZXM7XG4gICAgICBjb21wbGV0ZWRCYXRjaGVzID0gbnVsbDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgYmF0Y2ggPSBiYXRjaGVzW2ldO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGJhdGNoLl9vbkNvbXBsZXRlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgaWYgKCFoYXNVbmhhbmRsZWRFcnJvcikge1xuICAgICAgICAgICAgaGFzVW5oYW5kbGVkRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgdW5oYW5kbGVkRXJyb3IgPSBlcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaGFzVW5oYW5kbGVkRXJyb3IpIHtcbiAgICAgIHZhciBlcnJvciA9IHVuaGFuZGxlZEVycm9yO1xuICAgICAgdW5oYW5kbGVkRXJyb3IgPSBudWxsO1xuICAgICAgaGFzVW5oYW5kbGVkRXJyb3IgPSBmYWxzZTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBlcmZvcm1Xb3JrT25Sb290KHJvb3QsIGV4cGlyYXRpb25UaW1lLCBpc0FzeW5jKSB7XG4gICAgISFpc1JlbmRlcmluZyA/IGludmFyaWFudChmYWxzZSwgJ3BlcmZvcm1Xb3JrT25Sb290IHdhcyBjYWxsZWQgcmVjdXJzaXZlbHkuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG5cbiAgICBpc1JlbmRlcmluZyA9IHRydWU7XG5cbiAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGFzeW5jIHdvcmsgb3Igc3luYy9leHBpcmVkIHdvcmsuXG4gICAgaWYgKCFpc0FzeW5jKSB7XG4gICAgICAvLyBGbHVzaCBzeW5jIHdvcmsuXG4gICAgICB2YXIgZmluaXNoZWRXb3JrID0gcm9vdC5maW5pc2hlZFdvcms7XG4gICAgICBpZiAoZmluaXNoZWRXb3JrICE9PSBudWxsKSB7XG4gICAgICAgIC8vIFRoaXMgcm9vdCBpcyBhbHJlYWR5IGNvbXBsZXRlLiBXZSBjYW4gY29tbWl0IGl0LlxuICAgICAgICBjb21wbGV0ZVJvb3Qocm9vdCwgZmluaXNoZWRXb3JrLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb290LmZpbmlzaGVkV29yayA9IG51bGw7XG4gICAgICAgIGZpbmlzaGVkV29yayA9IHJlbmRlclJvb3Qocm9vdCwgZXhwaXJhdGlvblRpbWUsIGZhbHNlKTtcbiAgICAgICAgaWYgKGZpbmlzaGVkV29yayAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIFdlJ3ZlIGNvbXBsZXRlZCB0aGUgcm9vdC4gQ29tbWl0IGl0LlxuICAgICAgICAgIGNvbXBsZXRlUm9vdChyb290LCBmaW5pc2hlZFdvcmssIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGbHVzaCBhc3luYyB3b3JrLlxuICAgICAgdmFyIF9maW5pc2hlZFdvcmsgPSByb290LmZpbmlzaGVkV29yaztcbiAgICAgIGlmIChfZmluaXNoZWRXb3JrICE9PSBudWxsKSB7XG4gICAgICAgIC8vIFRoaXMgcm9vdCBpcyBhbHJlYWR5IGNvbXBsZXRlLiBXZSBjYW4gY29tbWl0IGl0LlxuICAgICAgICBjb21wbGV0ZVJvb3Qocm9vdCwgX2ZpbmlzaGVkV29yaywgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm9vdC5maW5pc2hlZFdvcmsgPSBudWxsO1xuICAgICAgICBfZmluaXNoZWRXb3JrID0gcmVuZGVyUm9vdChyb290LCBleHBpcmF0aW9uVGltZSwgdHJ1ZSk7XG4gICAgICAgIGlmIChfZmluaXNoZWRXb3JrICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gV2UndmUgY29tcGxldGVkIHRoZSByb290LiBDaGVjayB0aGUgZGVhZGxpbmUgb25lIG1vcmUgdGltZVxuICAgICAgICAgIC8vIGJlZm9yZSBjb21taXR0aW5nLlxuICAgICAgICAgIGlmICghc2hvdWxkWWllbGQoKSkge1xuICAgICAgICAgICAgLy8gU3RpbGwgdGltZSBsZWZ0LiBDb21taXQgdGhlIHJvb3QuXG4gICAgICAgICAgICBjb21wbGV0ZVJvb3Qocm9vdCwgX2ZpbmlzaGVkV29yaywgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUaGVyZSdzIG5vIHRpbWUgbGVmdC4gTWFyayB0aGlzIHJvb3QgYXMgY29tcGxldGUuIFdlJ2xsIGNvbWVcbiAgICAgICAgICAgIC8vIGJhY2sgYW5kIGNvbW1pdCBpdCBsYXRlci5cbiAgICAgICAgICAgIHJvb3QuZmluaXNoZWRXb3JrID0gX2ZpbmlzaGVkV29yaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpc1JlbmRlcmluZyA9IGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gY29tcGxldGVSb290KHJvb3QsIGZpbmlzaGVkV29yaywgZXhwaXJhdGlvblRpbWUpIHtcbiAgICAvLyBDaGVjayBpZiB0aGVyZSdzIGEgYmF0Y2ggdGhhdCBtYXRjaGVzIHRoaXMgZXhwaXJhdGlvbiB0aW1lLlxuICAgIHZhciBmaXJzdEJhdGNoID0gcm9vdC5maXJzdEJhdGNoO1xuICAgIGlmIChmaXJzdEJhdGNoICE9PSBudWxsICYmIGZpcnN0QmF0Y2guX2V4cGlyYXRpb25UaW1lIDw9IGV4cGlyYXRpb25UaW1lKSB7XG4gICAgICBpZiAoY29tcGxldGVkQmF0Y2hlcyA9PT0gbnVsbCkge1xuICAgICAgICBjb21wbGV0ZWRCYXRjaGVzID0gW2ZpcnN0QmF0Y2hdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29tcGxldGVkQmF0Y2hlcy5wdXNoKGZpcnN0QmF0Y2gpO1xuICAgICAgfVxuICAgICAgaWYgKGZpcnN0QmF0Y2guX2RlZmVyKSB7XG4gICAgICAgIC8vIFRoaXMgcm9vdCBpcyBibG9ja2VkIGZyb20gY29tbWl0dGluZyBieSBhIGJhdGNoLiBVbnNjaGVkdWxlIGl0IHVudGlsXG4gICAgICAgIC8vIHdlIHJlY2VpdmUgYW5vdGhlciB1cGRhdGUuXG4gICAgICAgIHJvb3QuZmluaXNoZWRXb3JrID0gZmluaXNoZWRXb3JrO1xuICAgICAgICByb290LnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ29tbWl0IHRoZSByb290LlxuICAgIHJvb3QuZmluaXNoZWRXb3JrID0gbnVsbDtcbiAgICByb290LnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID0gY29tbWl0Um9vdChmaW5pc2hlZFdvcmspO1xuICB9XG5cbiAgLy8gV2hlbiB3b3JraW5nIG9uIGFzeW5jIHdvcmssIHRoZSByZWNvbmNpbGVyIGFza3MgdGhlIHJlbmRlcmVyIGlmIGl0IHNob3VsZFxuICAvLyB5aWVsZCBleGVjdXRpb24uIEZvciBET00sIHdlIGltcGxlbWVudCB0aGlzIHdpdGggcmVxdWVzdElkbGVDYWxsYmFjay5cbiAgZnVuY3Rpb24gc2hvdWxkWWllbGQoKSB7XG4gICAgaWYgKGRlYWRsaW5lID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChkZWFkbGluZS50aW1lUmVtYWluaW5nKCkgPiB0aW1lSGV1cmlzdGljRm9yVW5pdE9mV29yaykge1xuICAgICAgLy8gRGlzcmVnYXJkIGRlYWRsaW5lLmRpZFRpbWVvdXQuIE9ubHkgZXhwaXJlZCB3b3JrIHNob3VsZCBiZSBmbHVzaGVkXG4gICAgICAvLyBkdXJpbmcgYSB0aW1lb3V0LiBUaGlzIHBhdGggaXMgb25seSBoaXQgZm9yIG5vbi1leHBpcmVkIHdvcmsuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGRlYWRsaW5lRGlkRXhwaXJlID0gdHJ1ZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uVW5jYXVnaHRFcnJvcihlcnJvcikge1xuICAgICEobmV4dEZsdXNoZWRSb290ICE9PSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ1Nob3VsZCBiZSB3b3JraW5nIG9uIGEgcm9vdC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgICAvLyBVbnNjaGVkdWxlIHRoaXMgcm9vdCBzbyB3ZSBkb24ndCB3b3JrIG9uIGl0IGFnYWluIHVudGlsIHRoZXJlJ3NcbiAgICAvLyBhbm90aGVyIHVwZGF0ZS5cbiAgICBuZXh0Rmx1c2hlZFJvb3QucmVtYWluaW5nRXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG4gICAgaWYgKCFoYXNVbmhhbmRsZWRFcnJvcikge1xuICAgICAgaGFzVW5oYW5kbGVkRXJyb3IgPSB0cnVlO1xuICAgICAgdW5oYW5kbGVkRXJyb3IgPSBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvLyBUT0RPOiBCYXRjaGluZyBzaG91bGQgYmUgaW1wbGVtZW50ZWQgYXQgdGhlIHJlbmRlcmVyIGxldmVsLCBub3QgaW5zaWRlXG4gIC8vIHRoZSByZWNvbmNpbGVyLlxuICBmdW5jdGlvbiBiYXRjaGVkVXBkYXRlcyhmbiwgYSkge1xuICAgIHZhciBwcmV2aW91c0lzQmF0Y2hpbmdVcGRhdGVzID0gaXNCYXRjaGluZ1VwZGF0ZXM7XG4gICAgaXNCYXRjaGluZ1VwZGF0ZXMgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZm4oYSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlzQmF0Y2hpbmdVcGRhdGVzID0gcHJldmlvdXNJc0JhdGNoaW5nVXBkYXRlcztcbiAgICAgIGlmICghaXNCYXRjaGluZ1VwZGF0ZXMgJiYgIWlzUmVuZGVyaW5nKSB7XG4gICAgICAgIHBlcmZvcm1TeW5jV29yaygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFRPRE86IEJhdGNoaW5nIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBhdCB0aGUgcmVuZGVyZXIgbGV2ZWwsIG5vdCBpbnNpZGVcbiAgLy8gdGhlIHJlY29uY2lsZXIuXG4gIGZ1bmN0aW9uIHVuYmF0Y2hlZFVwZGF0ZXMoZm4sIGEpIHtcbiAgICBpZiAoaXNCYXRjaGluZ1VwZGF0ZXMgJiYgIWlzVW5iYXRjaGluZ1VwZGF0ZXMpIHtcbiAgICAgIGlzVW5iYXRjaGluZ1VwZGF0ZXMgPSB0cnVlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGZuKGEpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaXNVbmJhdGNoaW5nVXBkYXRlcyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZm4oYSk7XG4gIH1cblxuICAvLyBUT0RPOiBCYXRjaGluZyBzaG91bGQgYmUgaW1wbGVtZW50ZWQgYXQgdGhlIHJlbmRlcmVyIGxldmVsLCBub3Qgd2l0aGluXG4gIC8vIHRoZSByZWNvbmNpbGVyLlxuICBmdW5jdGlvbiBmbHVzaFN5bmMoZm4sIGEpIHtcbiAgICAhIWlzUmVuZGVyaW5nID8gaW52YXJpYW50KGZhbHNlLCAnZmx1c2hTeW5jIHdhcyBjYWxsZWQgZnJvbSBpbnNpZGUgYSBsaWZlY3ljbGUgbWV0aG9kLiBJdCBjYW5ub3QgYmUgY2FsbGVkIHdoZW4gUmVhY3QgaXMgYWxyZWFkeSByZW5kZXJpbmcuJykgOiB2b2lkIDA7XG4gICAgdmFyIHByZXZpb3VzSXNCYXRjaGluZ1VwZGF0ZXMgPSBpc0JhdGNoaW5nVXBkYXRlcztcbiAgICBpc0JhdGNoaW5nVXBkYXRlcyA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBzeW5jVXBkYXRlcyhmbiwgYSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlzQmF0Y2hpbmdVcGRhdGVzID0gcHJldmlvdXNJc0JhdGNoaW5nVXBkYXRlcztcbiAgICAgIHBlcmZvcm1TeW5jV29yaygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGludGVyYWN0aXZlVXBkYXRlcyhmbiwgYSwgYikge1xuICAgIGlmIChpc0JhdGNoaW5nSW50ZXJhY3RpdmVVcGRhdGVzKSB7XG4gICAgICByZXR1cm4gZm4oYSwgYik7XG4gICAgfVxuICAgIC8vIElmIHRoZXJlIGFyZSBhbnkgcGVuZGluZyBpbnRlcmFjdGl2ZSB1cGRhdGVzLCBzeW5jaHJvbm91c2x5IGZsdXNoIHRoZW0uXG4gICAgLy8gVGhpcyBuZWVkcyB0byBoYXBwZW4gYmVmb3JlIHdlIHJlYWQgYW55IGhhbmRsZXJzLCBiZWNhdXNlIHRoZSBlZmZlY3Qgb2ZcbiAgICAvLyB0aGUgcHJldmlvdXMgZXZlbnQgbWF5IGluZmx1ZW5jZSB3aGljaCBoYW5kbGVycyBhcmUgY2FsbGVkIGR1cmluZ1xuICAgIC8vIHRoaXMgZXZlbnQuXG4gICAgaWYgKCFpc0JhdGNoaW5nVXBkYXRlcyAmJiAhaXNSZW5kZXJpbmcgJiYgbG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWUgIT09IE5vV29yaykge1xuICAgICAgLy8gU3luY2hyb25vdXNseSBmbHVzaCBwZW5kaW5nIGludGVyYWN0aXZlIHVwZGF0ZXMuXG4gICAgICBwZXJmb3JtV29yayhsb3dlc3RQZW5kaW5nSW50ZXJhY3RpdmVFeHBpcmF0aW9uVGltZSwgZmFsc2UsIG51bGwpO1xuICAgICAgbG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG4gICAgfVxuICAgIHZhciBwcmV2aW91c0lzQmF0Y2hpbmdJbnRlcmFjdGl2ZVVwZGF0ZXMgPSBpc0JhdGNoaW5nSW50ZXJhY3RpdmVVcGRhdGVzO1xuICAgIHZhciBwcmV2aW91c0lzQmF0Y2hpbmdVcGRhdGVzID0gaXNCYXRjaGluZ1VwZGF0ZXM7XG4gICAgaXNCYXRjaGluZ0ludGVyYWN0aXZlVXBkYXRlcyA9IHRydWU7XG4gICAgaXNCYXRjaGluZ1VwZGF0ZXMgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZm4oYSwgYik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlzQmF0Y2hpbmdJbnRlcmFjdGl2ZVVwZGF0ZXMgPSBwcmV2aW91c0lzQmF0Y2hpbmdJbnRlcmFjdGl2ZVVwZGF0ZXM7XG4gICAgICBpc0JhdGNoaW5nVXBkYXRlcyA9IHByZXZpb3VzSXNCYXRjaGluZ1VwZGF0ZXM7XG4gICAgICBpZiAoIWlzQmF0Y2hpbmdVcGRhdGVzICYmICFpc1JlbmRlcmluZykge1xuICAgICAgICBwZXJmb3JtU3luY1dvcmsoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmbHVzaEludGVyYWN0aXZlVXBkYXRlcygpIHtcbiAgICBpZiAoIWlzUmVuZGVyaW5nICYmIGxvd2VzdFBlbmRpbmdJbnRlcmFjdGl2ZUV4cGlyYXRpb25UaW1lICE9PSBOb1dvcmspIHtcbiAgICAgIC8vIFN5bmNocm9ub3VzbHkgZmx1c2ggcGVuZGluZyBpbnRlcmFjdGl2ZSB1cGRhdGVzLlxuICAgICAgcGVyZm9ybVdvcmsobG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWUsIGZhbHNlLCBudWxsKTtcbiAgICAgIGxvd2VzdFBlbmRpbmdJbnRlcmFjdGl2ZUV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoQ29udHJvbGxlZChmbikge1xuICAgIHZhciBwcmV2aW91c0lzQmF0Y2hpbmdVcGRhdGVzID0gaXNCYXRjaGluZ1VwZGF0ZXM7XG4gICAgaXNCYXRjaGluZ1VwZGF0ZXMgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICBzeW5jVXBkYXRlcyhmbik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlzQmF0Y2hpbmdVcGRhdGVzID0gcHJldmlvdXNJc0JhdGNoaW5nVXBkYXRlcztcbiAgICAgIGlmICghaXNCYXRjaGluZ1VwZGF0ZXMgJiYgIWlzUmVuZGVyaW5nKSB7XG4gICAgICAgIHBlcmZvcm1Xb3JrKFN5bmMsIGZhbHNlLCBudWxsKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHJlY2FsY3VsYXRlQ3VycmVudFRpbWU6IHJlY2FsY3VsYXRlQ3VycmVudFRpbWUsXG4gICAgY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlcjogY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlcixcbiAgICBzY2hlZHVsZVdvcms6IHNjaGVkdWxlV29yayxcbiAgICByZXF1ZXN0V29yazogcmVxdWVzdFdvcmssXG4gICAgZmx1c2hSb290OiBmbHVzaFJvb3QsXG4gICAgYmF0Y2hlZFVwZGF0ZXM6IGJhdGNoZWRVcGRhdGVzLFxuICAgIHVuYmF0Y2hlZFVwZGF0ZXM6IHVuYmF0Y2hlZFVwZGF0ZXMsXG4gICAgZmx1c2hTeW5jOiBmbHVzaFN5bmMsXG4gICAgZmx1c2hDb250cm9sbGVkOiBmbHVzaENvbnRyb2xsZWQsXG4gICAgZGVmZXJyZWRVcGRhdGVzOiBkZWZlcnJlZFVwZGF0ZXMsXG4gICAgc3luY1VwZGF0ZXM6IHN5bmNVcGRhdGVzLFxuICAgIGludGVyYWN0aXZlVXBkYXRlczogaW50ZXJhY3RpdmVVcGRhdGVzLFxuICAgIGZsdXNoSW50ZXJhY3RpdmVVcGRhdGVzOiBmbHVzaEludGVyYWN0aXZlVXBkYXRlcyxcbiAgICBjb21wdXRlVW5pcXVlQXN5bmNFeHBpcmF0aW9uOiBjb21wdXRlVW5pcXVlQXN5bmNFeHBpcmF0aW9uLFxuICAgIGxlZ2FjeUNvbnRleHQ6IGxlZ2FjeUNvbnRleHRcbiAgfTtcbn07XG5cbnZhciBkaWRXYXJuQWJvdXROZXN0ZWRVcGRhdGVzID0gdm9pZCAwO1xuXG57XG4gIGRpZFdhcm5BYm91dE5lc3RlZFVwZGF0ZXMgPSBmYWxzZTtcbn1cblxuLy8gMCBpcyBQUk9ELCAxIGlzIERFVi5cbi8vIE1pZ2h0IGFkZCBQUk9GSUxFIGxhdGVyLlxuXG5cbnZhciBSZWFjdEZpYmVyUmVjb25jaWxlciQxID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICB2YXIgZ2V0UHVibGljSW5zdGFuY2UgPSBjb25maWcuZ2V0UHVibGljSW5zdGFuY2U7XG5cbiAgdmFyIF9SZWFjdEZpYmVyU2NoZWR1bGVyID0gUmVhY3RGaWJlclNjaGVkdWxlcihjb25maWcpLFxuICAgICAgY29tcHV0ZVVuaXF1ZUFzeW5jRXhwaXJhdGlvbiA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLmNvbXB1dGVVbmlxdWVBc3luY0V4cGlyYXRpb24sXG4gICAgICByZWNhbGN1bGF0ZUN1cnJlbnRUaW1lID0gX1JlYWN0RmliZXJTY2hlZHVsZXIucmVjYWxjdWxhdGVDdXJyZW50VGltZSxcbiAgICAgIGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXIgPSBfUmVhY3RGaWJlclNjaGVkdWxlci5jb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyLFxuICAgICAgc2NoZWR1bGVXb3JrID0gX1JlYWN0RmliZXJTY2hlZHVsZXIuc2NoZWR1bGVXb3JrLFxuICAgICAgcmVxdWVzdFdvcmsgPSBfUmVhY3RGaWJlclNjaGVkdWxlci5yZXF1ZXN0V29yayxcbiAgICAgIGZsdXNoUm9vdCA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLmZsdXNoUm9vdCxcbiAgICAgIGJhdGNoZWRVcGRhdGVzID0gX1JlYWN0RmliZXJTY2hlZHVsZXIuYmF0Y2hlZFVwZGF0ZXMsXG4gICAgICB1bmJhdGNoZWRVcGRhdGVzID0gX1JlYWN0RmliZXJTY2hlZHVsZXIudW5iYXRjaGVkVXBkYXRlcyxcbiAgICAgIGZsdXNoU3luYyA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLmZsdXNoU3luYyxcbiAgICAgIGZsdXNoQ29udHJvbGxlZCA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLmZsdXNoQ29udHJvbGxlZCxcbiAgICAgIGRlZmVycmVkVXBkYXRlcyA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLmRlZmVycmVkVXBkYXRlcyxcbiAgICAgIHN5bmNVcGRhdGVzID0gX1JlYWN0RmliZXJTY2hlZHVsZXIuc3luY1VwZGF0ZXMsXG4gICAgICBpbnRlcmFjdGl2ZVVwZGF0ZXMgPSBfUmVhY3RGaWJlclNjaGVkdWxlci5pbnRlcmFjdGl2ZVVwZGF0ZXMsXG4gICAgICBmbHVzaEludGVyYWN0aXZlVXBkYXRlcyA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLmZsdXNoSW50ZXJhY3RpdmVVcGRhdGVzLFxuICAgICAgbGVnYWN5Q29udGV4dCA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLmxlZ2FjeUNvbnRleHQ7XG5cbiAgdmFyIGZpbmRDdXJyZW50VW5tYXNrZWRDb250ZXh0ID0gbGVnYWN5Q29udGV4dC5maW5kQ3VycmVudFVubWFza2VkQ29udGV4dCxcbiAgICAgIGlzQ29udGV4dFByb3ZpZGVyID0gbGVnYWN5Q29udGV4dC5pc0NvbnRleHRQcm92aWRlcixcbiAgICAgIHByb2Nlc3NDaGlsZENvbnRleHQgPSBsZWdhY3lDb250ZXh0LnByb2Nlc3NDaGlsZENvbnRleHQ7XG5cblxuICBmdW5jdGlvbiBnZXRDb250ZXh0Rm9yU3VidHJlZShwYXJlbnRDb21wb25lbnQpIHtcbiAgICBpZiAoIXBhcmVudENvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIGVtcHR5T2JqZWN0O1xuICAgIH1cblxuICAgIHZhciBmaWJlciA9IGdldChwYXJlbnRDb21wb25lbnQpO1xuICAgIHZhciBwYXJlbnRDb250ZXh0ID0gZmluZEN1cnJlbnRVbm1hc2tlZENvbnRleHQoZmliZXIpO1xuICAgIHJldHVybiBpc0NvbnRleHRQcm92aWRlcihmaWJlcikgPyBwcm9jZXNzQ2hpbGRDb250ZXh0KGZpYmVyLCBwYXJlbnRDb250ZXh0KSA6IHBhcmVudENvbnRleHQ7XG4gIH1cblxuICBmdW5jdGlvbiBzY2hlZHVsZVJvb3RVcGRhdGUoY3VycmVudCwgZWxlbWVudCwgY3VycmVudFRpbWUsIGV4cGlyYXRpb25UaW1lLCBjYWxsYmFjaykge1xuICAgIHtcbiAgICAgIGlmIChSZWFjdERlYnVnQ3VycmVudEZpYmVyLnBoYXNlID09PSAncmVuZGVyJyAmJiBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmN1cnJlbnQgIT09IG51bGwgJiYgIWRpZFdhcm5BYm91dE5lc3RlZFVwZGF0ZXMpIHtcbiAgICAgICAgZGlkV2FybkFib3V0TmVzdGVkVXBkYXRlcyA9IHRydWU7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICdSZW5kZXIgbWV0aG9kcyBzaG91bGQgYmUgYSBwdXJlIGZ1bmN0aW9uIG9mIHByb3BzIGFuZCBzdGF0ZTsgJyArICd0cmlnZ2VyaW5nIG5lc3RlZCBjb21wb25lbnQgdXBkYXRlcyBmcm9tIHJlbmRlciBpcyBub3QgYWxsb3dlZC4gJyArICdJZiBuZWNlc3NhcnksIHRyaWdnZXIgbmVzdGVkIHVwZGF0ZXMgaW4gY29tcG9uZW50RGlkVXBkYXRlLlxcblxcbicgKyAnQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgJXMuJywgZ2V0Q29tcG9uZW50TmFtZShSZWFjdERlYnVnQ3VycmVudEZpYmVyLmN1cnJlbnQpIHx8ICdVbmtub3duJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY2FsbGJhY2sgPSBjYWxsYmFjayA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGNhbGxiYWNrO1xuICAgIHtcbiAgICAgIHdhcm5pbmcoY2FsbGJhY2sgPT09IG51bGwgfHwgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nLCAncmVuZGVyKC4uLik6IEV4cGVjdGVkIHRoZSBsYXN0IG9wdGlvbmFsIGBjYWxsYmFja2AgYXJndW1lbnQgdG8gYmUgYSAnICsgJ2Z1bmN0aW9uLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcy4nLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgdmFyIHVwZGF0ZSA9IHtcbiAgICAgIGV4cGlyYXRpb25UaW1lOiBleHBpcmF0aW9uVGltZSxcbiAgICAgIHBhcnRpYWxTdGF0ZTogeyBlbGVtZW50OiBlbGVtZW50IH0sXG4gICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICBpc1JlcGxhY2U6IGZhbHNlLFxuICAgICAgaXNGb3JjZWQ6IGZhbHNlLFxuICAgICAgY2FwdHVyZWRWYWx1ZTogbnVsbCxcbiAgICAgIG5leHQ6IG51bGxcbiAgICB9O1xuICAgIGluc2VydFVwZGF0ZUludG9GaWJlcihjdXJyZW50LCB1cGRhdGUpO1xuICAgIHNjaGVkdWxlV29yayhjdXJyZW50LCBleHBpcmF0aW9uVGltZSk7XG5cbiAgICByZXR1cm4gZXhwaXJhdGlvblRpbWU7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVDb250YWluZXJBdEV4cGlyYXRpb25UaW1lKGVsZW1lbnQsIGNvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBjdXJyZW50VGltZSwgZXhwaXJhdGlvblRpbWUsIGNhbGxiYWNrKSB7XG4gICAgLy8gVE9ETzogSWYgdGhpcyBpcyBhIG5lc3RlZCBjb250YWluZXIsIHRoaXMgd29uJ3QgYmUgdGhlIHJvb3QuXG4gICAgdmFyIGN1cnJlbnQgPSBjb250YWluZXIuY3VycmVudDtcblxuICAgIHtcbiAgICAgIGlmIChSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sKSB7XG4gICAgICAgIGlmIChjdXJyZW50LmFsdGVybmF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wub25Nb3VudENvbnRhaW5lcihjb250YWluZXIpO1xuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQgPT09IG51bGwpIHtcbiAgICAgICAgICBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sLm9uVW5tb3VudENvbnRhaW5lcihjb250YWluZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wub25VcGRhdGVDb250YWluZXIoY29udGFpbmVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBjb250ZXh0ID0gZ2V0Q29udGV4dEZvclN1YnRyZWUocGFyZW50Q29tcG9uZW50KTtcbiAgICBpZiAoY29udGFpbmVyLmNvbnRleHQgPT09IG51bGwpIHtcbiAgICAgIGNvbnRhaW5lci5jb250ZXh0ID0gY29udGV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFpbmVyLnBlbmRpbmdDb250ZXh0ID0gY29udGV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gc2NoZWR1bGVSb290VXBkYXRlKGN1cnJlbnQsIGVsZW1lbnQsIGN1cnJlbnRUaW1lLCBleHBpcmF0aW9uVGltZSwgY2FsbGJhY2spO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluZEhvc3RJbnN0YW5jZShmaWJlcikge1xuICAgIHZhciBob3N0RmliZXIgPSBmaW5kQ3VycmVudEhvc3RGaWJlcihmaWJlcik7XG4gICAgaWYgKGhvc3RGaWJlciA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBob3N0RmliZXIuc3RhdGVOb2RlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBjcmVhdGVDb250YWluZXI6IGZ1bmN0aW9uIChjb250YWluZXJJbmZvLCBpc0FzeW5jLCBoeWRyYXRlKSB7XG4gICAgICByZXR1cm4gY3JlYXRlRmliZXJSb290KGNvbnRhaW5lckluZm8sIGlzQXN5bmMsIGh5ZHJhdGUpO1xuICAgIH0sXG4gICAgdXBkYXRlQ29udGFpbmVyOiBmdW5jdGlvbiAoZWxlbWVudCwgY29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgY3VycmVudCA9IGNvbnRhaW5lci5jdXJyZW50O1xuICAgICAgdmFyIGN1cnJlbnRUaW1lID0gcmVjYWxjdWxhdGVDdXJyZW50VGltZSgpO1xuICAgICAgdmFyIGV4cGlyYXRpb25UaW1lID0gY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlcihjdXJyZW50KTtcbiAgICAgIHJldHVybiB1cGRhdGVDb250YWluZXJBdEV4cGlyYXRpb25UaW1lKGVsZW1lbnQsIGNvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBjdXJyZW50VGltZSwgZXhwaXJhdGlvblRpbWUsIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIHVwZGF0ZUNvbnRhaW5lckF0RXhwaXJhdGlvblRpbWU6IGZ1bmN0aW9uIChlbGVtZW50LCBjb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgZXhwaXJhdGlvblRpbWUsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgY3VycmVudFRpbWUgPSByZWNhbGN1bGF0ZUN1cnJlbnRUaW1lKCk7XG4gICAgICByZXR1cm4gdXBkYXRlQ29udGFpbmVyQXRFeHBpcmF0aW9uVGltZShlbGVtZW50LCBjb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgY3VycmVudFRpbWUsIGV4cGlyYXRpb25UaW1lLCBjYWxsYmFjayk7XG4gICAgfSxcblxuXG4gICAgZmx1c2hSb290OiBmbHVzaFJvb3QsXG5cbiAgICByZXF1ZXN0V29yazogcmVxdWVzdFdvcmssXG5cbiAgICBjb21wdXRlVW5pcXVlQXN5bmNFeHBpcmF0aW9uOiBjb21wdXRlVW5pcXVlQXN5bmNFeHBpcmF0aW9uLFxuXG4gICAgYmF0Y2hlZFVwZGF0ZXM6IGJhdGNoZWRVcGRhdGVzLFxuXG4gICAgdW5iYXRjaGVkVXBkYXRlczogdW5iYXRjaGVkVXBkYXRlcyxcblxuICAgIGRlZmVycmVkVXBkYXRlczogZGVmZXJyZWRVcGRhdGVzLFxuXG4gICAgc3luY1VwZGF0ZXM6IHN5bmNVcGRhdGVzLFxuXG4gICAgaW50ZXJhY3RpdmVVcGRhdGVzOiBpbnRlcmFjdGl2ZVVwZGF0ZXMsXG5cbiAgICBmbHVzaEludGVyYWN0aXZlVXBkYXRlczogZmx1c2hJbnRlcmFjdGl2ZVVwZGF0ZXMsXG5cbiAgICBmbHVzaENvbnRyb2xsZWQ6IGZsdXNoQ29udHJvbGxlZCxcblxuICAgIGZsdXNoU3luYzogZmx1c2hTeW5jLFxuXG4gICAgZ2V0UHVibGljUm9vdEluc3RhbmNlOiBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgICB2YXIgY29udGFpbmVyRmliZXIgPSBjb250YWluZXIuY3VycmVudDtcbiAgICAgIGlmICghY29udGFpbmVyRmliZXIuY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKGNvbnRhaW5lckZpYmVyLmNoaWxkLnRhZykge1xuICAgICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgICAgcmV0dXJuIGdldFB1YmxpY0luc3RhbmNlKGNvbnRhaW5lckZpYmVyLmNoaWxkLnN0YXRlTm9kZSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGNvbnRhaW5lckZpYmVyLmNoaWxkLnN0YXRlTm9kZTtcbiAgICAgIH1cbiAgICB9LFxuXG5cbiAgICBmaW5kSG9zdEluc3RhbmNlOiBmaW5kSG9zdEluc3RhbmNlLFxuXG4gICAgZmluZEhvc3RJbnN0YW5jZVdpdGhOb1BvcnRhbHM6IGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgdmFyIGhvc3RGaWJlciA9IGZpbmRDdXJyZW50SG9zdEZpYmVyV2l0aE5vUG9ydGFscyhmaWJlcik7XG4gICAgICBpZiAoaG9zdEZpYmVyID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhvc3RGaWJlci5zdGF0ZU5vZGU7XG4gICAgfSxcbiAgICBpbmplY3RJbnRvRGV2VG9vbHM6IGZ1bmN0aW9uIChkZXZUb29sc0NvbmZpZykge1xuICAgICAgdmFyIGZpbmRGaWJlckJ5SG9zdEluc3RhbmNlID0gZGV2VG9vbHNDb25maWcuZmluZEZpYmVyQnlIb3N0SW5zdGFuY2U7XG5cbiAgICAgIHJldHVybiBpbmplY3RJbnRlcm5hbHMoX2Fzc2lnbih7fSwgZGV2VG9vbHNDb25maWcsIHtcbiAgICAgICAgZmluZEhvc3RJbnN0YW5jZUJ5RmliZXI6IGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICAgIHJldHVybiBmaW5kSG9zdEluc3RhbmNlKGZpYmVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgZmluZEZpYmVyQnlIb3N0SW5zdGFuY2U6IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgICAgIGlmICghZmluZEZpYmVyQnlIb3N0SW5zdGFuY2UpIHtcbiAgICAgICAgICAgIC8vIE1pZ2h0IG5vdCBiZSBpbXBsZW1lbnRlZCBieSB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZpbmRGaWJlckJ5SG9zdEluc3RhbmNlKGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgIH1cbiAgfTtcbn07XG5cbnZhciBSZWFjdEZpYmVyUmVjb25jaWxlciQyID0gT2JqZWN0LmZyZWV6ZSh7XG5cdGRlZmF1bHQ6IFJlYWN0RmliZXJSZWNvbmNpbGVyJDFcbn0pO1xuXG52YXIgUmVhY3RGaWJlclJlY29uY2lsZXIkMyA9ICggUmVhY3RGaWJlclJlY29uY2lsZXIkMiAmJiBSZWFjdEZpYmVyUmVjb25jaWxlciQxICkgfHwgUmVhY3RGaWJlclJlY29uY2lsZXIkMjtcblxuLy8gVE9ETzogYnVuZGxlIEZsb3cgdHlwZXMgd2l0aCB0aGUgcGFja2FnZS5cblxuXG5cbi8vIFRPRE86IGRlY2lkZSBvbiB0aGUgdG9wLWxldmVsIGV4cG9ydCBmb3JtLlxuLy8gVGhpcyBpcyBoYWNreSBidXQgbWFrZXMgaXQgd29yayB3aXRoIGJvdGggUm9sbHVwIGFuZCBKZXN0LlxudmFyIHJlYWN0UmVjb25jaWxlciA9IFJlYWN0RmliZXJSZWNvbmNpbGVyJDNbJ2RlZmF1bHQnXSA/IFJlYWN0RmliZXJSZWNvbmNpbGVyJDNbJ2RlZmF1bHQnXSA6IFJlYWN0RmliZXJSZWNvbmNpbGVyJDM7XG5cbmZ1bmN0aW9uIGNyZWF0ZVBvcnRhbCQxKGNoaWxkcmVuLCBjb250YWluZXJJbmZvLFxuLy8gVE9ETzogZmlndXJlIG91dCB0aGUgQVBJIGZvciBjcm9zcy1yZW5kZXJlciBpbXBsZW1lbnRhdGlvbi5cbmltcGxlbWVudGF0aW9uKSB7XG4gIHZhciBrZXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IG51bGw7XG5cbiAgcmV0dXJuIHtcbiAgICAvLyBUaGlzIHRhZyBhbGxvdyB1cyB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzIGFzIGEgUmVhY3QgUG9ydGFsXG4gICAgJCR0eXBlb2Y6IFJFQUNUX1BPUlRBTF9UWVBFLFxuICAgIGtleToga2V5ID09IG51bGwgPyBudWxsIDogJycgKyBrZXksXG4gICAgY2hpbGRyZW46IGNoaWxkcmVuLFxuICAgIGNvbnRhaW5lckluZm86IGNvbnRhaW5lckluZm8sXG4gICAgaW1wbGVtZW50YXRpb246IGltcGxlbWVudGF0aW9uXG4gIH07XG59XG5cbi8vIFRPRE86IHRoaXMgaXMgc3BlY2lhbCBiZWNhdXNlIGl0IGdldHMgaW1wb3J0ZWQgZHVyaW5nIGJ1aWxkLlxuXG52YXIgUmVhY3RWZXJzaW9uID0gJzE2LjMuMSc7XG5cbi8vIGEgcmVxdWVzdEFuaW1hdGlvbkZyYW1lLCBzdG9yaW5nIHRoZSB0aW1lIGZvciB0aGUgc3RhcnQgb2YgdGhlIGZyYW1lLCB0aGVuXG4vLyBzY2hlZHVsaW5nIGEgcG9zdE1lc3NhZ2Ugd2hpY2ggZ2V0cyBzY2hlZHVsZWQgYWZ0ZXIgcGFpbnQuIFdpdGhpbiB0aGVcbi8vIHBvc3RNZXNzYWdlIGhhbmRsZXIgZG8gYXMgbXVjaCB3b3JrIGFzIHBvc3NpYmxlIHVudGlsIHRpbWUgKyBmcmFtZSByYXRlLlxuLy8gQnkgc2VwYXJhdGluZyB0aGUgaWRsZSBjYWxsIGludG8gYSBzZXBhcmF0ZSBldmVudCB0aWNrIHdlIGVuc3VyZSB0aGF0XG4vLyBsYXlvdXQsIHBhaW50IGFuZCBvdGhlciBicm93c2VyIHdvcmsgaXMgY291bnRlZCBhZ2FpbnN0IHRoZSBhdmFpbGFibGUgdGltZS5cbi8vIFRoZSBmcmFtZSByYXRlIGlzIGR5bmFtaWNhbGx5IGFkanVzdGVkLlxuXG57XG4gIGlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgdHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHdhcm5pbmcoZmFsc2UsICdSZWFjdCBkZXBlbmRzIG9uIHJlcXVlc3RBbmltYXRpb25GcmFtZS4gTWFrZSBzdXJlIHRoYXQgeW91IGxvYWQgYSAnICsgJ3BvbHlmaWxsIGluIG9sZGVyIGJyb3dzZXJzLiBodHRwczovL2ZiLm1lL3JlYWN0LXBvbHlmaWxscycpO1xuICB9XG59XG5cbnZhciBoYXNOYXRpdmVQZXJmb3JtYW5jZU5vdyA9IHR5cGVvZiBwZXJmb3JtYW5jZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHBlcmZvcm1hbmNlLm5vdyA9PT0gJ2Z1bmN0aW9uJztcblxudmFyIG5vdyA9IHZvaWQgMDtcbmlmIChoYXNOYXRpdmVQZXJmb3JtYW5jZU5vdykge1xuICBub3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpO1xuICB9O1xufSBlbHNlIHtcbiAgbm93ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBEYXRlLm5vdygpO1xuICB9O1xufVxuXG4vLyBUT0RPOiBUaGVyZSdzIG5vIHdheSB0byBjYW5jZWwsIGJlY2F1c2UgRmliZXIgZG9lc24ndCBhdG0uXG52YXIgcklDID0gdm9pZCAwO1xudmFyIGNJQyA9IHZvaWQgMDtcblxuaWYgKCFFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgcklDID0gZnVuY3Rpb24gKGZyYW1lQ2FsbGJhY2spIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBmcmFtZUNhbGxiYWNrKHtcbiAgICAgICAgdGltZVJlbWFpbmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICAgICAgfSxcblxuICAgICAgICBkaWRUaW1lb3V0OiBmYWxzZVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG4gIGNJQyA9IGZ1bmN0aW9uICh0aW1lb3V0SUQpIHtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dElEKTtcbiAgfTtcbn0gZWxzZSBpZiAoYWx3YXlzVXNlUmVxdWVzdElkbGVDYWxsYmFja1BvbHlmaWxsIHx8IHR5cGVvZiByZXF1ZXN0SWRsZUNhbGxiYWNrICE9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBjYW5jZWxJZGxlQ2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgLy8gUG9seWZpbGwgcmVxdWVzdElkbGVDYWxsYmFjayBhbmQgY2FuY2VsSWRsZUNhbGxiYWNrXG5cbiAgdmFyIHNjaGVkdWxlZFJJQ0NhbGxiYWNrID0gbnVsbDtcbiAgdmFyIGlzSWRsZVNjaGVkdWxlZCA9IGZhbHNlO1xuICB2YXIgdGltZW91dFRpbWUgPSAtMTtcblxuICB2YXIgaXNBbmltYXRpb25GcmFtZVNjaGVkdWxlZCA9IGZhbHNlO1xuXG4gIHZhciBmcmFtZURlYWRsaW5lID0gMDtcbiAgLy8gV2Ugc3RhcnQgb3V0IGFzc3VtaW5nIHRoYXQgd2UgcnVuIGF0IDMwZnBzIGJ1dCB0aGVuIHRoZSBoZXVyaXN0aWMgdHJhY2tpbmdcbiAgLy8gd2lsbCBhZGp1c3QgdGhpcyB2YWx1ZSB0byBhIGZhc3RlciBmcHMgaWYgd2UgZ2V0IG1vcmUgZnJlcXVlbnQgYW5pbWF0aW9uXG4gIC8vIGZyYW1lcy5cbiAgdmFyIHByZXZpb3VzRnJhbWVUaW1lID0gMzM7XG4gIHZhciBhY3RpdmVGcmFtZVRpbWUgPSAzMztcblxuICB2YXIgZnJhbWVEZWFkbGluZU9iamVjdCA9IHZvaWQgMDtcbiAgaWYgKGhhc05hdGl2ZVBlcmZvcm1hbmNlTm93KSB7XG4gICAgZnJhbWVEZWFkbGluZU9iamVjdCA9IHtcbiAgICAgIGRpZFRpbWVvdXQ6IGZhbHNlLFxuICAgICAgdGltZVJlbWFpbmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBXZSBhc3N1bWUgdGhhdCBpZiB3ZSBoYXZlIGEgcGVyZm9ybWFuY2UgdGltZXIgdGhhdCB0aGUgckFGIGNhbGxiYWNrXG4gICAgICAgIC8vIGdldHMgYSBwZXJmb3JtYW5jZSB0aW1lciB2YWx1ZS4gTm90IHN1cmUgaWYgdGhpcyBpcyBhbHdheXMgdHJ1ZS5cbiAgICAgICAgdmFyIHJlbWFpbmluZyA9IGZyYW1lRGVhZGxpbmUgLSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgcmV0dXJuIHJlbWFpbmluZyA+IDAgPyByZW1haW5pbmcgOiAwO1xuICAgICAgfVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgZnJhbWVEZWFkbGluZU9iamVjdCA9IHtcbiAgICAgIGRpZFRpbWVvdXQ6IGZhbHNlLFxuICAgICAgdGltZVJlbWFpbmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBGYWxsYmFjayB0byBEYXRlLm5vdygpXG4gICAgICAgIHZhciByZW1haW5pbmcgPSBmcmFtZURlYWRsaW5lIC0gRGF0ZS5ub3coKTtcbiAgICAgICAgcmV0dXJuIHJlbWFpbmluZyA+IDAgPyByZW1haW5pbmcgOiAwO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBXZSB1c2UgdGhlIHBvc3RNZXNzYWdlIHRyaWNrIHRvIGRlZmVyIGlkbGUgd29yayB1bnRpbCBhZnRlciB0aGUgcmVwYWludC5cbiAgdmFyIG1lc3NhZ2VLZXkgPSAnX19yZWFjdElkbGVDYWxsYmFjayQnICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMik7XG4gIHZhciBpZGxlVGljayA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmIChldmVudC5zb3VyY2UgIT09IHdpbmRvdyB8fCBldmVudC5kYXRhICE9PSBtZXNzYWdlS2V5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaXNJZGxlU2NoZWR1bGVkID0gZmFsc2U7XG5cbiAgICB2YXIgY3VycmVudFRpbWUgPSBub3coKTtcbiAgICBpZiAoZnJhbWVEZWFkbGluZSAtIGN1cnJlbnRUaW1lIDw9IDApIHtcbiAgICAgIC8vIFRoZXJlJ3Mgbm8gdGltZSBsZWZ0IGluIHRoaXMgaWRsZSBwZXJpb2QuIENoZWNrIGlmIHRoZSBjYWxsYmFjayBoYXNcbiAgICAgIC8vIGEgdGltZW91dCBhbmQgd2hldGhlciBpdCdzIGJlZW4gZXhjZWVkZWQuXG4gICAgICBpZiAodGltZW91dFRpbWUgIT09IC0xICYmIHRpbWVvdXRUaW1lIDw9IGN1cnJlbnRUaW1lKSB7XG4gICAgICAgIC8vIEV4Y2VlZGVkIHRoZSB0aW1lb3V0LiBJbnZva2UgdGhlIGNhbGxiYWNrIGV2ZW4gdGhvdWdoIHRoZXJlJ3Mgbm9cbiAgICAgICAgLy8gdGltZSBsZWZ0LlxuICAgICAgICBmcmFtZURlYWRsaW5lT2JqZWN0LmRpZFRpbWVvdXQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTm8gdGltZW91dC5cbiAgICAgICAgaWYgKCFpc0FuaW1hdGlvbkZyYW1lU2NoZWR1bGVkKSB7XG4gICAgICAgICAgLy8gU2NoZWR1bGUgYW5vdGhlciBhbmltYXRpb24gY2FsbGJhY2sgc28gd2UgcmV0cnkgbGF0ZXIuXG4gICAgICAgICAgaXNBbmltYXRpb25GcmFtZVNjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvblRpY2spO1xuICAgICAgICB9XG4gICAgICAgIC8vIEV4aXQgd2l0aG91dCBpbnZva2luZyB0aGUgY2FsbGJhY2suXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhlcmUncyBzdGlsbCB0aW1lIGxlZnQgaW4gdGhpcyBpZGxlIHBlcmlvZC5cbiAgICAgIGZyYW1lRGVhZGxpbmVPYmplY3QuZGlkVGltZW91dCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRpbWVvdXRUaW1lID0gLTE7XG4gICAgdmFyIGNhbGxiYWNrID0gc2NoZWR1bGVkUklDQ2FsbGJhY2s7XG4gICAgc2NoZWR1bGVkUklDQ2FsbGJhY2sgPSBudWxsO1xuICAgIGlmIChjYWxsYmFjayAhPT0gbnVsbCkge1xuICAgICAgY2FsbGJhY2soZnJhbWVEZWFkbGluZU9iamVjdCk7XG4gICAgfVxuICB9O1xuICAvLyBBc3N1bWVzIHRoYXQgd2UgaGF2ZSBhZGRFdmVudExpc3RlbmVyIGluIHRoaXMgZW52aXJvbm1lbnQuIE1pZ2h0IG5lZWRcbiAgLy8gc29tZXRoaW5nIGJldHRlciBmb3Igb2xkIElFLlxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGlkbGVUaWNrLCBmYWxzZSk7XG5cbiAgdmFyIGFuaW1hdGlvblRpY2sgPSBmdW5jdGlvbiAocmFmVGltZSkge1xuICAgIGlzQW5pbWF0aW9uRnJhbWVTY2hlZHVsZWQgPSBmYWxzZTtcbiAgICB2YXIgbmV4dEZyYW1lVGltZSA9IHJhZlRpbWUgLSBmcmFtZURlYWRsaW5lICsgYWN0aXZlRnJhbWVUaW1lO1xuICAgIGlmIChuZXh0RnJhbWVUaW1lIDwgYWN0aXZlRnJhbWVUaW1lICYmIHByZXZpb3VzRnJhbWVUaW1lIDwgYWN0aXZlRnJhbWVUaW1lKSB7XG4gICAgICBpZiAobmV4dEZyYW1lVGltZSA8IDgpIHtcbiAgICAgICAgLy8gRGVmZW5zaXZlIGNvZGluZy4gV2UgZG9uJ3Qgc3VwcG9ydCBoaWdoZXIgZnJhbWUgcmF0ZXMgdGhhbiAxMjBoei5cbiAgICAgICAgLy8gSWYgd2UgZ2V0IGxvd2VyIHRoYW4gdGhhdCwgaXQgaXMgcHJvYmFibHkgYSBidWcuXG4gICAgICAgIG5leHRGcmFtZVRpbWUgPSA4O1xuICAgICAgfVxuICAgICAgLy8gSWYgb25lIGZyYW1lIGdvZXMgbG9uZywgdGhlbiB0aGUgbmV4dCBvbmUgY2FuIGJlIHNob3J0IHRvIGNhdGNoIHVwLlxuICAgICAgLy8gSWYgdHdvIGZyYW1lcyBhcmUgc2hvcnQgaW4gYSByb3csIHRoZW4gdGhhdCdzIGFuIGluZGljYXRpb24gdGhhdCB3ZVxuICAgICAgLy8gYWN0dWFsbHkgaGF2ZSBhIGhpZ2hlciBmcmFtZSByYXRlIHRoYW4gd2hhdCB3ZSdyZSBjdXJyZW50bHkgb3B0aW1pemluZy5cbiAgICAgIC8vIFdlIGFkanVzdCBvdXIgaGV1cmlzdGljIGR5bmFtaWNhbGx5IGFjY29yZGluZ2x5LiBGb3IgZXhhbXBsZSwgaWYgd2UncmVcbiAgICAgIC8vIHJ1bm5pbmcgb24gMTIwaHogZGlzcGxheSBvciA5MGh6IFZSIGRpc3BsYXkuXG4gICAgICAvLyBUYWtlIHRoZSBtYXggb2YgdGhlIHR3byBpbiBjYXNlIG9uZSBvZiB0aGVtIHdhcyBhbiBhbm9tYWx5IGR1ZSB0b1xuICAgICAgLy8gbWlzc2VkIGZyYW1lIGRlYWRsaW5lcy5cbiAgICAgIGFjdGl2ZUZyYW1lVGltZSA9IG5leHRGcmFtZVRpbWUgPCBwcmV2aW91c0ZyYW1lVGltZSA/IHByZXZpb3VzRnJhbWVUaW1lIDogbmV4dEZyYW1lVGltZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJldmlvdXNGcmFtZVRpbWUgPSBuZXh0RnJhbWVUaW1lO1xuICAgIH1cbiAgICBmcmFtZURlYWRsaW5lID0gcmFmVGltZSArIGFjdGl2ZUZyYW1lVGltZTtcbiAgICBpZiAoIWlzSWRsZVNjaGVkdWxlZCkge1xuICAgICAgaXNJZGxlU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgIHdpbmRvdy5wb3N0TWVzc2FnZShtZXNzYWdlS2V5LCAnKicpO1xuICAgIH1cbiAgfTtcblxuICBySUMgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAvLyBUaGlzIGFzc3VtZXMgdGhhdCB3ZSBvbmx5IHNjaGVkdWxlIG9uZSBjYWxsYmFjayBhdCBhIHRpbWUgYmVjYXVzZSB0aGF0J3NcbiAgICAvLyBob3cgRmliZXIgdXNlcyBpdC5cbiAgICBzY2hlZHVsZWRSSUNDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIGlmIChvcHRpb25zICE9IG51bGwgJiYgdHlwZW9mIG9wdGlvbnMudGltZW91dCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHRpbWVvdXRUaW1lID0gbm93KCkgKyBvcHRpb25zLnRpbWVvdXQ7XG4gICAgfVxuICAgIGlmICghaXNBbmltYXRpb25GcmFtZVNjaGVkdWxlZCkge1xuICAgICAgLy8gSWYgckFGIGRpZG4ndCBhbHJlYWR5IHNjaGVkdWxlIG9uZSwgd2UgbmVlZCB0byBzY2hlZHVsZSBhIGZyYW1lLlxuICAgICAgLy8gVE9ETzogSWYgdGhpcyByQUYgZG9lc24ndCBtYXRlcmlhbGl6ZSBiZWNhdXNlIHRoZSBicm93c2VyIHRocm90dGxlcywgd2VcbiAgICAgIC8vIG1pZ2h0IHdhbnQgdG8gc3RpbGwgaGF2ZSBzZXRUaW1lb3V0IHRyaWdnZXIgcklDIGFzIGEgYmFja3VwIHRvIGVuc3VyZVxuICAgICAgLy8gdGhhdCB3ZSBrZWVwIHBlcmZvcm1pbmcgd29yay5cbiAgICAgIGlzQW5pbWF0aW9uRnJhbWVTY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvblRpY2spO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfTtcblxuICBjSUMgPSBmdW5jdGlvbiAoKSB7XG4gICAgc2NoZWR1bGVkUklDQ2FsbGJhY2sgPSBudWxsO1xuICAgIGlzSWRsZVNjaGVkdWxlZCA9IGZhbHNlO1xuICAgIHRpbWVvdXRUaW1lID0gLTE7XG4gIH07XG59IGVsc2Uge1xuICBySUMgPSB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjaztcbiAgY0lDID0gd2luZG93LmNhbmNlbElkbGVDYWxsYmFjaztcbn1cblxudmFyIGRpZFdhcm5TZWxlY3RlZFNldE9uT3B0aW9uID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGZsYXR0ZW5DaGlsZHJlbihjaGlsZHJlbikge1xuICB2YXIgY29udGVudCA9ICcnO1xuXG4gIC8vIEZsYXR0ZW4gY2hpbGRyZW4gYW5kIHdhcm4gaWYgdGhleSBhcmVuJ3Qgc3RyaW5ncyBvciBudW1iZXJzO1xuICAvLyBpbnZhbGlkIHR5cGVzIGFyZSBpZ25vcmVkLlxuICAvLyBXZSBjYW4gc2lsZW50bHkgc2tpcCB0aGVtIGJlY2F1c2UgaW52YWxpZCBET00gbmVzdGluZyB3YXJuaW5nXG4gIC8vIGNhdGNoZXMgdGhlc2UgY2FzZXMgaW4gRmliZXIuXG4gIFJlYWN0LkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIGlmIChjaGlsZCA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY2hpbGQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBjaGlsZCA9PT0gJ251bWJlcicpIHtcbiAgICAgIGNvbnRlbnQgKz0gY2hpbGQ7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gY29udGVudDtcbn1cblxuLyoqXG4gKiBJbXBsZW1lbnRzIGFuIDxvcHRpb24+IGhvc3QgY29tcG9uZW50IHRoYXQgd2FybnMgd2hlbiBgc2VsZWN0ZWRgIGlzIHNldC5cbiAqL1xuXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BzKGVsZW1lbnQsIHByb3BzKSB7XG4gIC8vIFRPRE8gKHl1bmdzdGVycyk6IFJlbW92ZSBzdXBwb3J0IGZvciBgc2VsZWN0ZWRgIGluIDxvcHRpb24+LlxuICB7XG4gICAgaWYgKHByb3BzLnNlbGVjdGVkICE9IG51bGwgJiYgIWRpZFdhcm5TZWxlY3RlZFNldE9uT3B0aW9uKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnVXNlIHRoZSBgZGVmYXVsdFZhbHVlYCBvciBgdmFsdWVgIHByb3BzIG9uIDxzZWxlY3Q+IGluc3RlYWQgb2YgJyArICdzZXR0aW5nIGBzZWxlY3RlZGAgb24gPG9wdGlvbj4uJyk7XG4gICAgICBkaWRXYXJuU2VsZWN0ZWRTZXRPbk9wdGlvbiA9IHRydWU7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHBvc3RNb3VudFdyYXBwZXIkMShlbGVtZW50LCBwcm9wcykge1xuICAvLyB2YWx1ZT1cIlwiIHNob3VsZCBtYWtlIGEgdmFsdWUgYXR0cmlidXRlICgjNjIxOSlcbiAgaWYgKHByb3BzLnZhbHVlICE9IG51bGwpIHtcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgndmFsdWUnLCBwcm9wcy52YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0SG9zdFByb3BzJDEoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIGhvc3RQcm9wcyA9IF9hc3NpZ24oeyBjaGlsZHJlbjogdW5kZWZpbmVkIH0sIHByb3BzKTtcbiAgdmFyIGNvbnRlbnQgPSBmbGF0dGVuQ2hpbGRyZW4ocHJvcHMuY2hpbGRyZW4pO1xuXG4gIGlmIChjb250ZW50KSB7XG4gICAgaG9zdFByb3BzLmNoaWxkcmVuID0gY29udGVudDtcbiAgfVxuXG4gIHJldHVybiBob3N0UHJvcHM7XG59XG5cbi8vIFRPRE86IGRpcmVjdCBpbXBvcnRzIGxpa2Ugc29tZS1wYWNrYWdlL3NyYy8qIGFyZSBiYWQuIEZpeCBtZS5cbnZhciBnZXRDdXJyZW50RmliZXJPd25lck5hbWUkMyA9IFJlYWN0RGVidWdDdXJyZW50RmliZXIuZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lO1xudmFyIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kNCA9IFJlYWN0RGVidWdDdXJyZW50RmliZXIuZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bTtcblxuXG52YXIgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlJDEgPSB2b2lkIDA7XG5cbntcbiAgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlJDEgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCkge1xuICB2YXIgb3duZXJOYW1lID0gZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lJDMoKTtcbiAgaWYgKG93bmVyTmFtZSkge1xuICAgIHJldHVybiAnXFxuXFxuQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBvd25lck5hbWUgKyAnYC4nO1xuICB9XG4gIHJldHVybiAnJztcbn1cblxudmFyIHZhbHVlUHJvcE5hbWVzID0gWyd2YWx1ZScsICdkZWZhdWx0VmFsdWUnXTtcblxuLyoqXG4gKiBWYWxpZGF0aW9uIGZ1bmN0aW9uIGZvciBgdmFsdWVgIGFuZCBgZGVmYXVsdFZhbHVlYC5cbiAqL1xuZnVuY3Rpb24gY2hlY2tTZWxlY3RQcm9wVHlwZXMocHJvcHMpIHtcbiAgUmVhY3RDb250cm9sbGVkVmFsdWVQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoJ3NlbGVjdCcsIHByb3BzLCBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDQpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVQcm9wTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcHJvcE5hbWUgPSB2YWx1ZVByb3BOYW1lc1tpXTtcbiAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09IG51bGwpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkocHJvcHNbcHJvcE5hbWVdKTtcbiAgICBpZiAocHJvcHMubXVsdGlwbGUgJiYgIWlzQXJyYXkpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdUaGUgYCVzYCBwcm9wIHN1cHBsaWVkIHRvIDxzZWxlY3Q+IG11c3QgYmUgYW4gYXJyYXkgaWYgJyArICdgbXVsdGlwbGVgIGlzIHRydWUuJXMnLCBwcm9wTmFtZSwgZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCkpO1xuICAgIH0gZWxzZSBpZiAoIXByb3BzLm11bHRpcGxlICYmIGlzQXJyYXkpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdUaGUgYCVzYCBwcm9wIHN1cHBsaWVkIHRvIDxzZWxlY3Q+IG11c3QgYmUgYSBzY2FsYXIgJyArICd2YWx1ZSBpZiBgbXVsdGlwbGVgIGlzIGZhbHNlLiVzJywgcHJvcE5hbWUsIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlT3B0aW9ucyhub2RlLCBtdWx0aXBsZSwgcHJvcFZhbHVlLCBzZXREZWZhdWx0U2VsZWN0ZWQpIHtcbiAgdmFyIG9wdGlvbnMgPSBub2RlLm9wdGlvbnM7XG5cbiAgaWYgKG11bHRpcGxlKSB7XG4gICAgdmFyIHNlbGVjdGVkVmFsdWVzID0gcHJvcFZhbHVlO1xuICAgIHZhciBzZWxlY3RlZFZhbHVlID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3RlZFZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gUHJlZml4IHRvIGF2b2lkIGNoYW9zIHdpdGggc3BlY2lhbCBrZXlzLlxuICAgICAgc2VsZWN0ZWRWYWx1ZVsnJCcgKyBzZWxlY3RlZFZhbHVlc1tpXV0gPSB0cnVlO1xuICAgIH1cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgb3B0aW9ucy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBzZWxlY3RlZCA9IHNlbGVjdGVkVmFsdWUuaGFzT3duUHJvcGVydHkoJyQnICsgb3B0aW9uc1tfaV0udmFsdWUpO1xuICAgICAgaWYgKG9wdGlvbnNbX2ldLnNlbGVjdGVkICE9PSBzZWxlY3RlZCkge1xuICAgICAgICBvcHRpb25zW19pXS5zZWxlY3RlZCA9IHNlbGVjdGVkO1xuICAgICAgfVxuICAgICAgaWYgKHNlbGVjdGVkICYmIHNldERlZmF1bHRTZWxlY3RlZCkge1xuICAgICAgICBvcHRpb25zW19pXS5kZWZhdWx0U2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBEbyBub3Qgc2V0IGBzZWxlY3QudmFsdWVgIGFzIGV4YWN0IGJlaGF2aW9yIGlzbid0IGNvbnNpc3RlbnQgYWNyb3NzIGFsbFxuICAgIC8vIGJyb3dzZXJzIGZvciBhbGwgY2FzZXMuXG4gICAgdmFyIF9zZWxlY3RlZFZhbHVlID0gJycgKyBwcm9wVmFsdWU7XG4gICAgdmFyIGRlZmF1bHRTZWxlY3RlZCA9IG51bGw7XG4gICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgb3B0aW9ucy5sZW5ndGg7IF9pMisrKSB7XG4gICAgICBpZiAob3B0aW9uc1tfaTJdLnZhbHVlID09PSBfc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICBvcHRpb25zW19pMl0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICBpZiAoc2V0RGVmYXVsdFNlbGVjdGVkKSB7XG4gICAgICAgICAgb3B0aW9uc1tfaTJdLmRlZmF1bHRTZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGRlZmF1bHRTZWxlY3RlZCA9PT0gbnVsbCAmJiAhb3B0aW9uc1tfaTJdLmRpc2FibGVkKSB7XG4gICAgICAgIGRlZmF1bHRTZWxlY3RlZCA9IG9wdGlvbnNbX2kyXTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGRlZmF1bHRTZWxlY3RlZCAhPT0gbnVsbCkge1xuICAgICAgZGVmYXVsdFNlbGVjdGVkLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBJbXBsZW1lbnRzIGEgPHNlbGVjdD4gaG9zdCBjb21wb25lbnQgdGhhdCBhbGxvd3Mgb3B0aW9uYWxseSBzZXR0aW5nIHRoZVxuICogcHJvcHMgYHZhbHVlYCBhbmQgYGRlZmF1bHRWYWx1ZWAuIElmIGBtdWx0aXBsZWAgaXMgZmFsc2UsIHRoZSBwcm9wIG11c3QgYmUgYVxuICogc3RyaW5nYWJsZS4gSWYgYG11bHRpcGxlYCBpcyB0cnVlLCB0aGUgcHJvcCBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ2FibGVzLlxuICpcbiAqIElmIGB2YWx1ZWAgaXMgbm90IHN1cHBsaWVkIChvciBudWxsL3VuZGVmaW5lZCksIHVzZXIgYWN0aW9ucyB0aGF0IGNoYW5nZSB0aGVcbiAqIHNlbGVjdGVkIG9wdGlvbiB3aWxsIHRyaWdnZXIgdXBkYXRlcyB0byB0aGUgcmVuZGVyZWQgb3B0aW9ucy5cbiAqXG4gKiBJZiBpdCBpcyBzdXBwbGllZCAoYW5kIG5vdCBudWxsL3VuZGVmaW5lZCksIHRoZSByZW5kZXJlZCBvcHRpb25zIHdpbGwgbm90XG4gKiB1cGRhdGUgaW4gcmVzcG9uc2UgdG8gdXNlciBhY3Rpb25zLiBJbnN0ZWFkLCB0aGUgYHZhbHVlYCBwcm9wIG11c3QgY2hhbmdlIGluXG4gKiBvcmRlciBmb3IgdGhlIHJlbmRlcmVkIG9wdGlvbnMgdG8gdXBkYXRlLlxuICpcbiAqIElmIGBkZWZhdWx0VmFsdWVgIGlzIHByb3ZpZGVkLCBhbnkgb3B0aW9ucyB3aXRoIHRoZSBzdXBwbGllZCB2YWx1ZXMgd2lsbCBiZVxuICogc2VsZWN0ZWQuXG4gKi9cblxuZnVuY3Rpb24gZ2V0SG9zdFByb3BzJDIoZWxlbWVudCwgcHJvcHMpIHtcbiAgcmV0dXJuIF9hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgdmFsdWU6IHVuZGVmaW5lZFxuICB9KTtcbn1cblxuZnVuY3Rpb24gaW5pdFdyYXBwZXJTdGF0ZSQxKGVsZW1lbnQsIHByb3BzKSB7XG4gIHZhciBub2RlID0gZWxlbWVudDtcbiAge1xuICAgIGNoZWNrU2VsZWN0UHJvcFR5cGVzKHByb3BzKTtcbiAgfVxuXG4gIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlO1xuICBub2RlLl93cmFwcGVyU3RhdGUgPSB7XG4gICAgaW5pdGlhbFZhbHVlOiB2YWx1ZSAhPSBudWxsID8gdmFsdWUgOiBwcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgd2FzTXVsdGlwbGU6ICEhcHJvcHMubXVsdGlwbGVcbiAgfTtcblxuICB7XG4gICAgaWYgKHByb3BzLnZhbHVlICE9PSB1bmRlZmluZWQgJiYgcHJvcHMuZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgJiYgIWRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSQxKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnU2VsZWN0IGVsZW1lbnRzIG11c3QgYmUgZWl0aGVyIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkICcgKyAnKHNwZWNpZnkgZWl0aGVyIHRoZSB2YWx1ZSBwcm9wLCBvciB0aGUgZGVmYXVsdFZhbHVlIHByb3AsIGJ1dCBub3QgJyArICdib3RoKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBzZWxlY3QgJyArICdlbGVtZW50IGFuZCByZW1vdmUgb25lIG9mIHRoZXNlIHByb3BzLiBNb3JlIGluZm86ICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1jb250cm9sbGVkLWNvbXBvbmVudHMnKTtcbiAgICAgIGRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSQxID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcG9zdE1vdW50V3JhcHBlciQyKGVsZW1lbnQsIHByb3BzKSB7XG4gIHZhciBub2RlID0gZWxlbWVudDtcbiAgbm9kZS5tdWx0aXBsZSA9ICEhcHJvcHMubXVsdGlwbGU7XG4gIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlO1xuICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgIHVwZGF0ZU9wdGlvbnMobm9kZSwgISFwcm9wcy5tdWx0aXBsZSwgdmFsdWUsIGZhbHNlKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5kZWZhdWx0VmFsdWUgIT0gbnVsbCkge1xuICAgIHVwZGF0ZU9wdGlvbnMobm9kZSwgISFwcm9wcy5tdWx0aXBsZSwgcHJvcHMuZGVmYXVsdFZhbHVlLCB0cnVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwb3N0VXBkYXRlV3JhcHBlcihlbGVtZW50LCBwcm9wcykge1xuICB2YXIgbm9kZSA9IGVsZW1lbnQ7XG4gIC8vIEFmdGVyIHRoZSBpbml0aWFsIG1vdW50LCB3ZSBjb250cm9sIHNlbGVjdGVkLW5lc3MgbWFudWFsbHkgc28gZG9uJ3QgcGFzc1xuICAvLyB0aGlzIHZhbHVlIGRvd25cbiAgbm9kZS5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZSA9IHVuZGVmaW5lZDtcblxuICB2YXIgd2FzTXVsdGlwbGUgPSBub2RlLl93cmFwcGVyU3RhdGUud2FzTXVsdGlwbGU7XG4gIG5vZGUuX3dyYXBwZXJTdGF0ZS53YXNNdWx0aXBsZSA9ICEhcHJvcHMubXVsdGlwbGU7XG5cbiAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWU7XG4gIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgdXBkYXRlT3B0aW9ucyhub2RlLCAhIXByb3BzLm11bHRpcGxlLCB2YWx1ZSwgZmFsc2UpO1xuICB9IGVsc2UgaWYgKHdhc011bHRpcGxlICE9PSAhIXByb3BzLm11bHRpcGxlKSB7XG4gICAgLy8gRm9yIHNpbXBsaWNpdHksIHJlYXBwbHkgYGRlZmF1bHRWYWx1ZWAgaWYgYG11bHRpcGxlYCBpcyB0b2dnbGVkLlxuICAgIGlmIChwcm9wcy5kZWZhdWx0VmFsdWUgIT0gbnVsbCkge1xuICAgICAgdXBkYXRlT3B0aW9ucyhub2RlLCAhIXByb3BzLm11bHRpcGxlLCBwcm9wcy5kZWZhdWx0VmFsdWUsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZXZlcnQgdGhlIHNlbGVjdCBiYWNrIHRvIGl0cyBkZWZhdWx0IHVuc2VsZWN0ZWQgc3RhdGUuXG4gICAgICB1cGRhdGVPcHRpb25zKG5vZGUsICEhcHJvcHMubXVsdGlwbGUsIHByb3BzLm11bHRpcGxlID8gW10gOiAnJywgZmFsc2UpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXN0b3JlQ29udHJvbGxlZFN0YXRlJDIoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZTtcblxuICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgIHVwZGF0ZU9wdGlvbnMobm9kZSwgISFwcm9wcy5tdWx0aXBsZSwgdmFsdWUsIGZhbHNlKTtcbiAgfVxufVxuXG4vLyBUT0RPOiBkaXJlY3QgaW1wb3J0cyBsaWtlIHNvbWUtcGFja2FnZS9zcmMvKiBhcmUgYmFkLiBGaXggbWUuXG52YXIgZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQ1ID0gUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5nZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtO1xuXG52YXIgZGlkV2FyblZhbERlZmF1bHRWYWwgPSBmYWxzZTtcblxuLyoqXG4gKiBJbXBsZW1lbnRzIGEgPHRleHRhcmVhPiBob3N0IGNvbXBvbmVudCB0aGF0IGFsbG93cyBzZXR0aW5nIGB2YWx1ZWAsIGFuZFxuICogYGRlZmF1bHRWYWx1ZWAuIFRoaXMgZGlmZmVycyBmcm9tIHRoZSB0cmFkaXRpb25hbCBET00gQVBJIGJlY2F1c2UgdmFsdWUgaXNcbiAqIHVzdWFsbHkgc2V0IGFzIFBDREFUQSBjaGlsZHJlbi5cbiAqXG4gKiBJZiBgdmFsdWVgIGlzIG5vdCBzdXBwbGllZCAob3IgbnVsbC91bmRlZmluZWQpLCB1c2VyIGFjdGlvbnMgdGhhdCBhZmZlY3QgdGhlXG4gKiB2YWx1ZSB3aWxsIHRyaWdnZXIgdXBkYXRlcyB0byB0aGUgZWxlbWVudC5cbiAqXG4gKiBJZiBgdmFsdWVgIGlzIHN1cHBsaWVkIChhbmQgbm90IG51bGwvdW5kZWZpbmVkKSwgdGhlIHJlbmRlcmVkIGVsZW1lbnQgd2lsbFxuICogbm90IHRyaWdnZXIgdXBkYXRlcyB0byB0aGUgZWxlbWVudC4gSW5zdGVhZCwgdGhlIGB2YWx1ZWAgcHJvcCBtdXN0IGNoYW5nZSBpblxuICogb3JkZXIgZm9yIHRoZSByZW5kZXJlZCBlbGVtZW50IHRvIGJlIHVwZGF0ZWQuXG4gKlxuICogVGhlIHJlbmRlcmVkIGVsZW1lbnQgd2lsbCBiZSBpbml0aWFsaXplZCB3aXRoIGFuIGVtcHR5IHZhbHVlLCB0aGUgcHJvcFxuICogYGRlZmF1bHRWYWx1ZWAgaWYgc3BlY2lmaWVkLCBvciB0aGUgY2hpbGRyZW4gY29udGVudCAoZGVwcmVjYXRlZCkuXG4gKi9cblxuZnVuY3Rpb24gZ2V0SG9zdFByb3BzJDMoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuICAhKHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MID09IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnYGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYCBkb2VzIG5vdCBtYWtlIHNlbnNlIG9uIDx0ZXh0YXJlYT4uJykgOiB2b2lkIDA7XG5cbiAgLy8gQWx3YXlzIHNldCBjaGlsZHJlbiB0byB0aGUgc2FtZSB0aGluZy4gSW4gSUU5LCB0aGUgc2VsZWN0aW9uIHJhbmdlIHdpbGxcbiAgLy8gZ2V0IHJlc2V0IGlmIGB0ZXh0Q29udGVudGAgaXMgbXV0YXRlZC4gIFdlIGNvdWxkIGFkZCBhIGNoZWNrIGluIHNldFRleHRDb250ZW50XG4gIC8vIHRvIG9ubHkgc2V0IHRoZSB2YWx1ZSBpZi93aGVuIHRoZSB2YWx1ZSBkaWZmZXJzIGZyb20gdGhlIG5vZGUgdmFsdWUgKHdoaWNoIHdvdWxkXG4gIC8vIGNvbXBsZXRlbHkgc29sdmUgdGhpcyBJRTkgYnVnKSwgYnV0IFNlYmFzdGlhbitTb3BoaWUgc2VlbWVkIHRvIGxpa2UgdGhpc1xuICAvLyBzb2x1dGlvbi4gVGhlIHZhbHVlIGNhbiBiZSBhIGJvb2xlYW4gb3Igb2JqZWN0IHNvIHRoYXQncyB3aHkgaXQncyBmb3JjZWRcbiAgLy8gdG8gYmUgYSBzdHJpbmcuXG4gIHZhciBob3N0UHJvcHMgPSBfYXNzaWduKHt9LCBwcm9wcywge1xuICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWQsXG4gICAgY2hpbGRyZW46ICcnICsgbm9kZS5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZVxuICB9KTtcblxuICByZXR1cm4gaG9zdFByb3BzO1xufVxuXG5mdW5jdGlvbiBpbml0V3JhcHBlclN0YXRlJDIoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuICB7XG4gICAgUmVhY3RDb250cm9sbGVkVmFsdWVQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoJ3RleHRhcmVhJywgcHJvcHMsIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kNSk7XG4gICAgaWYgKHByb3BzLnZhbHVlICE9PSB1bmRlZmluZWQgJiYgcHJvcHMuZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgJiYgIWRpZFdhcm5WYWxEZWZhdWx0VmFsKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnVGV4dGFyZWEgZWxlbWVudHMgbXVzdCBiZSBlaXRoZXIgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgJyArICcoc3BlY2lmeSBlaXRoZXIgdGhlIHZhbHVlIHByb3AsIG9yIHRoZSBkZWZhdWx0VmFsdWUgcHJvcCwgYnV0IG5vdCAnICsgJ2JvdGgpLiBEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIHRleHRhcmVhICcgKyAnYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuIE1vcmUgaW5mbzogJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWNvbnRyb2xsZWQtY29tcG9uZW50cycpO1xuICAgICAgZGlkV2FyblZhbERlZmF1bHRWYWwgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHZhciBpbml0aWFsVmFsdWUgPSBwcm9wcy52YWx1ZTtcblxuICAvLyBPbmx5IGJvdGhlciBmZXRjaGluZyBkZWZhdWx0IHZhbHVlIGlmIHdlJ3JlIGdvaW5nIHRvIHVzZSBpdFxuICBpZiAoaW5pdGlhbFZhbHVlID09IG51bGwpIHtcbiAgICB2YXIgZGVmYXVsdFZhbHVlID0gcHJvcHMuZGVmYXVsdFZhbHVlO1xuICAgIC8vIFRPRE8gKHl1bmdzdGVycyk6IFJlbW92ZSBzdXBwb3J0IGZvciBjaGlsZHJlbiBjb250ZW50IGluIDx0ZXh0YXJlYT4uXG4gICAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XG4gICAgaWYgKGNoaWxkcmVuICE9IG51bGwpIHtcbiAgICAgIHtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJ1VzZSB0aGUgYGRlZmF1bHRWYWx1ZWAgb3IgYHZhbHVlYCBwcm9wcyBpbnN0ZWFkIG9mIHNldHRpbmcgJyArICdjaGlsZHJlbiBvbiA8dGV4dGFyZWE+LicpO1xuICAgICAgfVxuICAgICAgIShkZWZhdWx0VmFsdWUgPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdJZiB5b3Ugc3VwcGx5IGBkZWZhdWx0VmFsdWVgIG9uIGEgPHRleHRhcmVhPiwgZG8gbm90IHBhc3MgY2hpbGRyZW4uJykgOiB2b2lkIDA7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgIShjaGlsZHJlbi5sZW5ndGggPD0gMSkgPyBpbnZhcmlhbnQoZmFsc2UsICc8dGV4dGFyZWE+IGNhbiBvbmx5IGhhdmUgYXQgbW9zdCBvbmUgY2hpbGQuJykgOiB2b2lkIDA7XG4gICAgICAgIGNoaWxkcmVuID0gY2hpbGRyZW5bMF07XG4gICAgICB9XG5cbiAgICAgIGRlZmF1bHRWYWx1ZSA9ICcnICsgY2hpbGRyZW47XG4gICAgfVxuICAgIGlmIChkZWZhdWx0VmFsdWUgPT0gbnVsbCkge1xuICAgICAgZGVmYXVsdFZhbHVlID0gJyc7XG4gICAgfVxuICAgIGluaXRpYWxWYWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgfVxuXG4gIG5vZGUuX3dyYXBwZXJTdGF0ZSA9IHtcbiAgICBpbml0aWFsVmFsdWU6ICcnICsgaW5pdGlhbFZhbHVlXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVdyYXBwZXIkMShlbGVtZW50LCBwcm9wcykge1xuICB2YXIgbm9kZSA9IGVsZW1lbnQ7XG4gIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlO1xuICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgIC8vIENhc3QgYHZhbHVlYCB0byBhIHN0cmluZyB0byBlbnN1cmUgdGhlIHZhbHVlIGlzIHNldCBjb3JyZWN0bHkuIFdoaWxlXG4gICAgLy8gYnJvd3NlcnMgdHlwaWNhbGx5IGRvIHRoaXMgYXMgbmVjZXNzYXJ5LCBqc2RvbSBkb2Vzbid0LlxuICAgIHZhciBuZXdWYWx1ZSA9ICcnICsgdmFsdWU7XG5cbiAgICAvLyBUbyBhdm9pZCBzaWRlIGVmZmVjdHMgKHN1Y2ggYXMgbG9zaW5nIHRleHQgc2VsZWN0aW9uKSwgb25seSBzZXQgdmFsdWUgaWYgY2hhbmdlZFxuICAgIGlmIChuZXdWYWx1ZSAhPT0gbm9kZS52YWx1ZSkge1xuICAgICAgbm9kZS52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgIH1cbiAgICBpZiAocHJvcHMuZGVmYXVsdFZhbHVlID09IG51bGwpIHtcbiAgICAgIG5vZGUuZGVmYXVsdFZhbHVlID0gbmV3VmFsdWU7XG4gICAgfVxuICB9XG4gIGlmIChwcm9wcy5kZWZhdWx0VmFsdWUgIT0gbnVsbCkge1xuICAgIG5vZGUuZGVmYXVsdFZhbHVlID0gcHJvcHMuZGVmYXVsdFZhbHVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBvc3RNb3VudFdyYXBwZXIkMyhlbGVtZW50LCBwcm9wcykge1xuICB2YXIgbm9kZSA9IGVsZW1lbnQ7XG4gIC8vIFRoaXMgaXMgaW4gcG9zdE1vdW50IGJlY2F1c2Ugd2UgbmVlZCBhY2Nlc3MgdG8gdGhlIERPTSBub2RlLCB3aGljaCBpcyBub3RcbiAgLy8gYXZhaWxhYmxlIHVudGlsIGFmdGVyIHRoZSBjb21wb25lbnQgaGFzIG1vdW50ZWQuXG4gIHZhciB0ZXh0Q29udGVudCA9IG5vZGUudGV4dENvbnRlbnQ7XG5cbiAgLy8gT25seSBzZXQgbm9kZS52YWx1ZSBpZiB0ZXh0Q29udGVudCBpcyBlcXVhbCB0byB0aGUgZXhwZWN0ZWRcbiAgLy8gaW5pdGlhbCB2YWx1ZS4gSW4gSUUxMC9JRTExIHRoZXJlIGlzIGEgYnVnIHdoZXJlIHRoZSBwbGFjZWhvbGRlciBhdHRyaWJ1dGVcbiAgLy8gd2lsbCBwb3B1bGF0ZSB0ZXh0Q29udGVudCBhcyB3ZWxsLlxuICAvLyBodHRwczovL2RldmVsb3Blci5taWNyb3NvZnQuY29tL21pY3Jvc29mdC1lZGdlL3BsYXRmb3JtL2lzc3Vlcy8xMDE1MjUvXG4gIGlmICh0ZXh0Q29udGVudCA9PT0gbm9kZS5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZSkge1xuICAgIG5vZGUudmFsdWUgPSB0ZXh0Q29udGVudDtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXN0b3JlQ29udHJvbGxlZFN0YXRlJDMoZWxlbWVudCwgcHJvcHMpIHtcbiAgLy8gRE9NIGNvbXBvbmVudCBpcyBzdGlsbCBtb3VudGVkOyB1cGRhdGVcbiAgdXBkYXRlV3JhcHBlciQxKGVsZW1lbnQsIHByb3BzKTtcbn1cblxudmFyIEhUTUxfTkFNRVNQQUNFJDEgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCc7XG52YXIgTUFUSF9OQU1FU1BBQ0UgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTCc7XG52YXIgU1ZHX05BTUVTUEFDRSA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5cbnZhciBOYW1lc3BhY2VzID0ge1xuICBodG1sOiBIVE1MX05BTUVTUEFDRSQxLFxuICBtYXRobWw6IE1BVEhfTkFNRVNQQUNFLFxuICBzdmc6IFNWR19OQU1FU1BBQ0Vcbn07XG5cbi8vIEFzc3VtZXMgdGhlcmUgaXMgbm8gcGFyZW50IG5hbWVzcGFjZS5cbmZ1bmN0aW9uIGdldEludHJpbnNpY05hbWVzcGFjZSh0eXBlKSB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ3N2Zyc6XG4gICAgICByZXR1cm4gU1ZHX05BTUVTUEFDRTtcbiAgICBjYXNlICdtYXRoJzpcbiAgICAgIHJldHVybiBNQVRIX05BTUVTUEFDRTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIEhUTUxfTkFNRVNQQUNFJDE7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q2hpbGROYW1lc3BhY2UocGFyZW50TmFtZXNwYWNlLCB0eXBlKSB7XG4gIGlmIChwYXJlbnROYW1lc3BhY2UgPT0gbnVsbCB8fCBwYXJlbnROYW1lc3BhY2UgPT09IEhUTUxfTkFNRVNQQUNFJDEpIHtcbiAgICAvLyBObyAob3IgZGVmYXVsdCkgcGFyZW50IG5hbWVzcGFjZTogcG90ZW50aWFsIGVudHJ5IHBvaW50LlxuICAgIHJldHVybiBnZXRJbnRyaW5zaWNOYW1lc3BhY2UodHlwZSk7XG4gIH1cbiAgaWYgKHBhcmVudE5hbWVzcGFjZSA9PT0gU1ZHX05BTUVTUEFDRSAmJiB0eXBlID09PSAnZm9yZWlnbk9iamVjdCcpIHtcbiAgICAvLyBXZSdyZSBsZWF2aW5nIFNWRy5cbiAgICByZXR1cm4gSFRNTF9OQU1FU1BBQ0UkMTtcbiAgfVxuICAvLyBCeSBkZWZhdWx0LCBwYXNzIG5hbWVzcGFjZSBiZWxvdy5cbiAgcmV0dXJuIHBhcmVudE5hbWVzcGFjZTtcbn1cblxuLyogZ2xvYmFscyBNU0FwcCAqL1xuXG4vKipcbiAqIENyZWF0ZSBhIGZ1bmN0aW9uIHdoaWNoIGhhcyAndW5zYWZlJyBwcml2aWxlZ2VzIChyZXF1aXJlZCBieSB3aW5kb3dzOCBhcHBzKVxuICovXG52YXIgY3JlYXRlTWljcm9zb2Z0VW5zYWZlTG9jYWxGdW5jdGlvbiA9IGZ1bmN0aW9uIChmdW5jKSB7XG4gIGlmICh0eXBlb2YgTVNBcHAgIT09ICd1bmRlZmluZWQnICYmIE1TQXBwLmV4ZWNVbnNhZmVMb2NhbEZ1bmN0aW9uKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhcmcwLCBhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgICBNU0FwcC5leGVjVW5zYWZlTG9jYWxGdW5jdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmdW5jKGFyZzAsIGFyZzEsIGFyZzIsIGFyZzMpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZnVuYztcbiAgfVxufTtcblxuLy8gU1ZHIHRlbXAgY29udGFpbmVyIGZvciBJRSBsYWNraW5nIGlubmVySFRNTFxudmFyIHJldXNhYmxlU1ZHQ29udGFpbmVyID0gdm9pZCAwO1xuXG4vKipcbiAqIFNldCB0aGUgaW5uZXJIVE1MIHByb3BlcnR5IG9mIGEgbm9kZVxuICpcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcbiAqIEBpbnRlcm5hbFxuICovXG52YXIgc2V0SW5uZXJIVE1MID0gY3JlYXRlTWljcm9zb2Z0VW5zYWZlTG9jYWxGdW5jdGlvbihmdW5jdGlvbiAobm9kZSwgaHRtbCkge1xuICAvLyBJRSBkb2VzIG5vdCBoYXZlIGlubmVySFRNTCBmb3IgU1ZHIG5vZGVzLCBzbyBpbnN0ZWFkIHdlIGluamVjdCB0aGVcbiAgLy8gbmV3IG1hcmt1cCBpbiBhIHRlbXAgbm9kZSBhbmQgdGhlbiBtb3ZlIHRoZSBjaGlsZCBub2RlcyBhY3Jvc3MgaW50b1xuICAvLyB0aGUgdGFyZ2V0IG5vZGVcblxuICBpZiAobm9kZS5uYW1lc3BhY2VVUkkgPT09IE5hbWVzcGFjZXMuc3ZnICYmICEoJ2lubmVySFRNTCcgaW4gbm9kZSkpIHtcbiAgICByZXVzYWJsZVNWR0NvbnRhaW5lciA9IHJldXNhYmxlU1ZHQ29udGFpbmVyIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJldXNhYmxlU1ZHQ29udGFpbmVyLmlubmVySFRNTCA9ICc8c3ZnPicgKyBodG1sICsgJzwvc3ZnPic7XG4gICAgdmFyIHN2Z05vZGUgPSByZXVzYWJsZVNWR0NvbnRhaW5lci5maXJzdENoaWxkO1xuICAgIHdoaWxlIChub2RlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIG5vZGUucmVtb3ZlQ2hpbGQobm9kZS5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgd2hpbGUgKHN2Z05vZGUuZmlyc3RDaGlsZCkge1xuICAgICAgbm9kZS5hcHBlbmRDaGlsZChzdmdOb2RlLmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBub2RlLmlubmVySFRNTCA9IGh0bWw7XG4gIH1cbn0pO1xuXG4vKipcbiAqIFNldCB0aGUgdGV4dENvbnRlbnQgcHJvcGVydHkgb2YgYSBub2RlLiBGb3IgdGV4dCB1cGRhdGVzLCBpdCdzIGZhc3RlclxuICogdG8gc2V0IHRoZSBgbm9kZVZhbHVlYCBvZiB0aGUgVGV4dCBub2RlIGRpcmVjdGx5IGluc3RlYWQgb2YgdXNpbmdcbiAqIGAudGV4dENvbnRlbnRgIHdoaWNoIHdpbGwgcmVtb3ZlIHRoZSBleGlzdGluZyBub2RlIGFuZCBjcmVhdGUgYSBuZXcgb25lLlxuICpcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAqIEBpbnRlcm5hbFxuICovXG52YXIgc2V0VGV4dENvbnRlbnQgPSBmdW5jdGlvbiAobm9kZSwgdGV4dCkge1xuICBpZiAodGV4dCkge1xuICAgIHZhciBmaXJzdENoaWxkID0gbm9kZS5maXJzdENoaWxkO1xuXG4gICAgaWYgKGZpcnN0Q2hpbGQgJiYgZmlyc3RDaGlsZCA9PT0gbm9kZS5sYXN0Q2hpbGQgJiYgZmlyc3RDaGlsZC5ub2RlVHlwZSA9PT0gVEVYVF9OT0RFKSB7XG4gICAgICBmaXJzdENoaWxkLm5vZGVWYWx1ZSA9IHRleHQ7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIG5vZGUudGV4dENvbnRlbnQgPSB0ZXh0O1xufTtcblxuLyoqXG4gKiBDU1MgcHJvcGVydGllcyB3aGljaCBhY2NlcHQgbnVtYmVycyBidXQgYXJlIG5vdCBpbiB1bml0cyBvZiBcInB4XCIuXG4gKi9cbnZhciBpc1VuaXRsZXNzTnVtYmVyID0ge1xuICBhbmltYXRpb25JdGVyYXRpb25Db3VudDogdHJ1ZSxcbiAgYm9yZGVySW1hZ2VPdXRzZXQ6IHRydWUsXG4gIGJvcmRlckltYWdlU2xpY2U6IHRydWUsXG4gIGJvcmRlckltYWdlV2lkdGg6IHRydWUsXG4gIGJveEZsZXg6IHRydWUsXG4gIGJveEZsZXhHcm91cDogdHJ1ZSxcbiAgYm94T3JkaW5hbEdyb3VwOiB0cnVlLFxuICBjb2x1bW5Db3VudDogdHJ1ZSxcbiAgY29sdW1uczogdHJ1ZSxcbiAgZmxleDogdHJ1ZSxcbiAgZmxleEdyb3c6IHRydWUsXG4gIGZsZXhQb3NpdGl2ZTogdHJ1ZSxcbiAgZmxleFNocmluazogdHJ1ZSxcbiAgZmxleE5lZ2F0aXZlOiB0cnVlLFxuICBmbGV4T3JkZXI6IHRydWUsXG4gIGdyaWRSb3c6IHRydWUsXG4gIGdyaWRSb3dFbmQ6IHRydWUsXG4gIGdyaWRSb3dTcGFuOiB0cnVlLFxuICBncmlkUm93U3RhcnQ6IHRydWUsXG4gIGdyaWRDb2x1bW46IHRydWUsXG4gIGdyaWRDb2x1bW5FbmQ6IHRydWUsXG4gIGdyaWRDb2x1bW5TcGFuOiB0cnVlLFxuICBncmlkQ29sdW1uU3RhcnQ6IHRydWUsXG4gIGZvbnRXZWlnaHQ6IHRydWUsXG4gIGxpbmVDbGFtcDogdHJ1ZSxcbiAgbGluZUhlaWdodDogdHJ1ZSxcbiAgb3BhY2l0eTogdHJ1ZSxcbiAgb3JkZXI6IHRydWUsXG4gIG9ycGhhbnM6IHRydWUsXG4gIHRhYlNpemU6IHRydWUsXG4gIHdpZG93czogdHJ1ZSxcbiAgekluZGV4OiB0cnVlLFxuICB6b29tOiB0cnVlLFxuXG4gIC8vIFNWRy1yZWxhdGVkIHByb3BlcnRpZXNcbiAgZmlsbE9wYWNpdHk6IHRydWUsXG4gIGZsb29kT3BhY2l0eTogdHJ1ZSxcbiAgc3RvcE9wYWNpdHk6IHRydWUsXG4gIHN0cm9rZURhc2hhcnJheTogdHJ1ZSxcbiAgc3Ryb2tlRGFzaG9mZnNldDogdHJ1ZSxcbiAgc3Ryb2tlTWl0ZXJsaW1pdDogdHJ1ZSxcbiAgc3Ryb2tlT3BhY2l0eTogdHJ1ZSxcbiAgc3Ryb2tlV2lkdGg6IHRydWVcbn07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHByZWZpeCB2ZW5kb3Itc3BlY2lmaWMgcHJlZml4LCBlZzogV2Via2l0XG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IHN0eWxlIG5hbWUsIGVnOiB0cmFuc2l0aW9uRHVyYXRpb25cbiAqIEByZXR1cm4ge3N0cmluZ30gc3R5bGUgbmFtZSBwcmVmaXhlZCB3aXRoIGBwcmVmaXhgLCBwcm9wZXJseSBjYW1lbENhc2VkLCBlZzpcbiAqIFdlYmtpdFRyYW5zaXRpb25EdXJhdGlvblxuICovXG5mdW5jdGlvbiBwcmVmaXhLZXkocHJlZml4LCBrZXkpIHtcbiAgcmV0dXJuIHByZWZpeCArIGtleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGtleS5zdWJzdHJpbmcoMSk7XG59XG5cbi8qKlxuICogU3VwcG9ydCBzdHlsZSBuYW1lcyB0aGF0IG1heSBjb21lIHBhc3NlZCBpbiBwcmVmaXhlZCBieSBhZGRpbmcgcGVybXV0YXRpb25zXG4gKiBvZiB2ZW5kb3IgcHJlZml4ZXMuXG4gKi9cbnZhciBwcmVmaXhlcyA9IFsnV2Via2l0JywgJ21zJywgJ01veicsICdPJ107XG5cbi8vIFVzaW5nIE9iamVjdC5rZXlzIGhlcmUsIG9yIGVsc2UgdGhlIHZhbmlsbGEgZm9yLWluIGxvb3AgbWFrZXMgSUU4IGdvIGludG8gYW5cbi8vIGluZmluaXRlIGxvb3AsIGJlY2F1c2UgaXQgaXRlcmF0ZXMgb3ZlciB0aGUgbmV3bHkgYWRkZWQgcHJvcHMgdG9vLlxuT2JqZWN0LmtleXMoaXNVbml0bGVzc051bWJlcikuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICBwcmVmaXhlcy5mb3JFYWNoKGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgICBpc1VuaXRsZXNzTnVtYmVyW3ByZWZpeEtleShwcmVmaXgsIHByb3ApXSA9IGlzVW5pdGxlc3NOdW1iZXJbcHJvcF07XG4gIH0pO1xufSk7XG5cbi8qKlxuICogQ29udmVydCBhIHZhbHVlIGludG8gdGhlIHByb3BlciBjc3Mgd3JpdGFibGUgdmFsdWUuIFRoZSBzdHlsZSBuYW1lIGBuYW1lYFxuICogc2hvdWxkIGJlIGxvZ2ljYWwgKG5vIGh5cGhlbnMpLCBhcyBzcGVjaWZpZWRcbiAqIGluIGBDU1NQcm9wZXJ0eS5pc1VuaXRsZXNzTnVtYmVyYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBDU1MgcHJvcGVydHkgbmFtZSBzdWNoIGFzIGB0b3BNYXJnaW5gLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBDU1MgcHJvcGVydHkgdmFsdWUgc3VjaCBhcyBgMTBweGAuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IE5vcm1hbGl6ZWQgc3R5bGUgdmFsdWUgd2l0aCBkaW1lbnNpb25zIGFwcGxpZWQuXG4gKi9cbmZ1bmN0aW9uIGRhbmdlcm91c1N0eWxlVmFsdWUobmFtZSwgdmFsdWUsIGlzQ3VzdG9tUHJvcGVydHkpIHtcbiAgLy8gTm90ZSB0aGF0IHdlJ3ZlIHJlbW92ZWQgZXNjYXBlVGV4dEZvckJyb3dzZXIoKSBjYWxscyBoZXJlIHNpbmNlIHRoZVxuICAvLyB3aG9sZSBzdHJpbmcgd2lsbCBiZSBlc2NhcGVkIHdoZW4gdGhlIGF0dHJpYnV0ZSBpcyBpbmplY3RlZCBpbnRvXG4gIC8vIHRoZSBtYXJrdXAuIElmIHlvdSBwcm92aWRlIHVuc2FmZSB1c2VyIGRhdGEgaGVyZSB0aGV5IGNhbiBpbmplY3RcbiAgLy8gYXJiaXRyYXJ5IENTUyB3aGljaCBtYXkgYmUgcHJvYmxlbWF0aWMgKEkgY291bGRuJ3QgcmVwcm8gdGhpcyk6XG4gIC8vIGh0dHBzOi8vd3d3Lm93YXNwLm9yZy9pbmRleC5waHAvWFNTX0ZpbHRlcl9FdmFzaW9uX0NoZWF0X1NoZWV0XG4gIC8vIGh0dHA6Ly93d3cudGhlc3Bhbm5lci5jby51ay8yMDA3LzExLzI2L3VsdGltYXRlLXhzcy1jc3MtaW5qZWN0aW9uL1xuICAvLyBUaGlzIGlzIG5vdCBhbiBYU1MgaG9sZSBidXQgaW5zdGVhZCBhIHBvdGVudGlhbCBDU1MgaW5qZWN0aW9uIGlzc3VlXG4gIC8vIHdoaWNoIGhhcyBsZWFkIHRvIGEgZ3JlYXRlciBkaXNjdXNzaW9uIGFib3V0IGhvdyB3ZSdyZSBnb2luZyB0b1xuICAvLyB0cnVzdCBVUkxzIG1vdmluZyBmb3J3YXJkLiBTZWUgIzIxMTU5MDFcblxuICB2YXIgaXNFbXB0eSA9IHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicgfHwgdmFsdWUgPT09ICcnO1xuICBpZiAoaXNFbXB0eSkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIGlmICghaXNDdXN0b21Qcm9wZXJ0eSAmJiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHZhbHVlICE9PSAwICYmICEoaXNVbml0bGVzc051bWJlci5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiBpc1VuaXRsZXNzTnVtYmVyW25hbWVdKSkge1xuICAgIHJldHVybiB2YWx1ZSArICdweCc7IC8vIFByZXN1bWVzIGltcGxpY2l0ICdweCcgc3VmZml4IGZvciB1bml0bGVzcyBudW1iZXJzXG4gIH1cblxuICByZXR1cm4gKCcnICsgdmFsdWUpLnRyaW0oKTtcbn1cblxudmFyIHdhcm5WYWxpZFN0eWxlID0gZW1wdHlGdW5jdGlvbjtcblxue1xuICAvLyAnbXNUcmFuc2Zvcm0nIGlzIGNvcnJlY3QsIGJ1dCB0aGUgb3RoZXIgcHJlZml4ZXMgc2hvdWxkIGJlIGNhcGl0YWxpemVkXG4gIHZhciBiYWRWZW5kb3JlZFN0eWxlTmFtZVBhdHRlcm4gPSAvXig/OndlYmtpdHxtb3p8bylbQS1aXS87XG5cbiAgLy8gc3R5bGUgdmFsdWVzIHNob3VsZG4ndCBjb250YWluIGEgc2VtaWNvbG9uXG4gIHZhciBiYWRTdHlsZVZhbHVlV2l0aFNlbWljb2xvblBhdHRlcm4gPSAvO1xccyokLztcblxuICB2YXIgd2FybmVkU3R5bGVOYW1lcyA9IHt9O1xuICB2YXIgd2FybmVkU3R5bGVWYWx1ZXMgPSB7fTtcbiAgdmFyIHdhcm5lZEZvck5hTlZhbHVlID0gZmFsc2U7XG4gIHZhciB3YXJuZWRGb3JJbmZpbml0eVZhbHVlID0gZmFsc2U7XG5cbiAgdmFyIHdhcm5IeXBoZW5hdGVkU3R5bGVOYW1lID0gZnVuY3Rpb24gKG5hbWUsIGdldFN0YWNrKSB7XG4gICAgaWYgKHdhcm5lZFN0eWxlTmFtZXMuaGFzT3duUHJvcGVydHkobmFtZSkgJiYgd2FybmVkU3R5bGVOYW1lc1tuYW1lXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdhcm5lZFN0eWxlTmFtZXNbbmFtZV0gPSB0cnVlO1xuICAgIHdhcm5pbmcoZmFsc2UsICdVbnN1cHBvcnRlZCBzdHlsZSBwcm9wZXJ0eSAlcy4gRGlkIHlvdSBtZWFuICVzPyVzJywgbmFtZSwgY2FtZWxpemVTdHlsZU5hbWUobmFtZSksIGdldFN0YWNrKCkpO1xuICB9O1xuXG4gIHZhciB3YXJuQmFkVmVuZG9yZWRTdHlsZU5hbWUgPSBmdW5jdGlvbiAobmFtZSwgZ2V0U3RhY2spIHtcbiAgICBpZiAod2FybmVkU3R5bGVOYW1lcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiB3YXJuZWRTdHlsZU5hbWVzW25hbWVdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2FybmVkU3R5bGVOYW1lc1tuYW1lXSA9IHRydWU7XG4gICAgd2FybmluZyhmYWxzZSwgJ1Vuc3VwcG9ydGVkIHZlbmRvci1wcmVmaXhlZCBzdHlsZSBwcm9wZXJ0eSAlcy4gRGlkIHlvdSBtZWFuICVzPyVzJywgbmFtZSwgbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoMSksIGdldFN0YWNrKCkpO1xuICB9O1xuXG4gIHZhciB3YXJuU3R5bGVWYWx1ZVdpdGhTZW1pY29sb24gPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUsIGdldFN0YWNrKSB7XG4gICAgaWYgKHdhcm5lZFN0eWxlVmFsdWVzLmhhc093blByb3BlcnR5KHZhbHVlKSAmJiB3YXJuZWRTdHlsZVZhbHVlc1t2YWx1ZV0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3YXJuZWRTdHlsZVZhbHVlc1t2YWx1ZV0gPSB0cnVlO1xuICAgIHdhcm5pbmcoZmFsc2UsIFwiU3R5bGUgcHJvcGVydHkgdmFsdWVzIHNob3VsZG4ndCBjb250YWluIGEgc2VtaWNvbG9uLiBcIiArICdUcnkgXCIlczogJXNcIiBpbnN0ZWFkLiVzJywgbmFtZSwgdmFsdWUucmVwbGFjZShiYWRTdHlsZVZhbHVlV2l0aFNlbWljb2xvblBhdHRlcm4sICcnKSwgZ2V0U3RhY2soKSk7XG4gIH07XG5cbiAgdmFyIHdhcm5TdHlsZVZhbHVlSXNOYU4gPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUsIGdldFN0YWNrKSB7XG4gICAgaWYgKHdhcm5lZEZvck5hTlZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2FybmVkRm9yTmFOVmFsdWUgPSB0cnVlO1xuICAgIHdhcm5pbmcoZmFsc2UsICdgTmFOYCBpcyBhbiBpbnZhbGlkIHZhbHVlIGZvciB0aGUgYCVzYCBjc3Mgc3R5bGUgcHJvcGVydHkuJXMnLCBuYW1lLCBnZXRTdGFjaygpKTtcbiAgfTtcblxuICB2YXIgd2FyblN0eWxlVmFsdWVJc0luZmluaXR5ID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlLCBnZXRTdGFjaykge1xuICAgIGlmICh3YXJuZWRGb3JJbmZpbml0eVZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2FybmVkRm9ySW5maW5pdHlWYWx1ZSA9IHRydWU7XG4gICAgd2FybmluZyhmYWxzZSwgJ2BJbmZpbml0eWAgaXMgYW4gaW52YWxpZCB2YWx1ZSBmb3IgdGhlIGAlc2AgY3NzIHN0eWxlIHByb3BlcnR5LiVzJywgbmFtZSwgZ2V0U3RhY2soKSk7XG4gIH07XG5cbiAgd2FyblZhbGlkU3R5bGUgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUsIGdldFN0YWNrKSB7XG4gICAgaWYgKG5hbWUuaW5kZXhPZignLScpID4gLTEpIHtcbiAgICAgIHdhcm5IeXBoZW5hdGVkU3R5bGVOYW1lKG5hbWUsIGdldFN0YWNrKTtcbiAgICB9IGVsc2UgaWYgKGJhZFZlbmRvcmVkU3R5bGVOYW1lUGF0dGVybi50ZXN0KG5hbWUpKSB7XG4gICAgICB3YXJuQmFkVmVuZG9yZWRTdHlsZU5hbWUobmFtZSwgZ2V0U3RhY2spO1xuICAgIH0gZWxzZSBpZiAoYmFkU3R5bGVWYWx1ZVdpdGhTZW1pY29sb25QYXR0ZXJuLnRlc3QodmFsdWUpKSB7XG4gICAgICB3YXJuU3R5bGVWYWx1ZVdpdGhTZW1pY29sb24obmFtZSwgdmFsdWUsIGdldFN0YWNrKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgaWYgKGlzTmFOKHZhbHVlKSkge1xuICAgICAgICB3YXJuU3R5bGVWYWx1ZUlzTmFOKG5hbWUsIHZhbHVlLCBnZXRTdGFjayk7XG4gICAgICB9IGVsc2UgaWYgKCFpc0Zpbml0ZSh2YWx1ZSkpIHtcbiAgICAgICAgd2FyblN0eWxlVmFsdWVJc0luZmluaXR5KG5hbWUsIHZhbHVlLCBnZXRTdGFjayk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG52YXIgd2FyblZhbGlkU3R5bGUkMSA9IHdhcm5WYWxpZFN0eWxlO1xuXG4vKipcbiAqIE9wZXJhdGlvbnMgZm9yIGRlYWxpbmcgd2l0aCBDU1MgcHJvcGVydGllcy5cbiAqL1xuXG4vKipcbiAqIFRoaXMgY3JlYXRlcyBhIHN0cmluZyB0aGF0IGlzIGV4cGVjdGVkIHRvIGJlIGVxdWl2YWxlbnQgdG8gdGhlIHN0eWxlXG4gKiBhdHRyaWJ1dGUgZ2VuZXJhdGVkIGJ5IHNlcnZlci1zaWRlIHJlbmRlcmluZy4gSXQgYnktcGFzc2VzIHdhcm5pbmdzIGFuZFxuICogc2VjdXJpdHkgY2hlY2tzIHNvIGl0J3Mgbm90IHNhZmUgdG8gdXNlIHRoaXMgdmFsdWUgZm9yIGFueXRoaW5nIG90aGVyIHRoYW5cbiAqIGNvbXBhcmlzb24uIEl0IGlzIG9ubHkgdXNlZCBpbiBERVYgZm9yIFNTUiB2YWxpZGF0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVEYW5nZXJvdXNTdHJpbmdGb3JTdHlsZXMoc3R5bGVzKSB7XG4gIHtcbiAgICB2YXIgc2VyaWFsaXplZCA9ICcnO1xuICAgIHZhciBkZWxpbWl0ZXIgPSAnJztcbiAgICBmb3IgKHZhciBzdHlsZU5hbWUgaW4gc3R5bGVzKSB7XG4gICAgICBpZiAoIXN0eWxlcy5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIHN0eWxlVmFsdWUgPSBzdHlsZXNbc3R5bGVOYW1lXTtcbiAgICAgIGlmIChzdHlsZVZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgdmFyIGlzQ3VzdG9tUHJvcGVydHkgPSBzdHlsZU5hbWUuaW5kZXhPZignLS0nKSA9PT0gMDtcbiAgICAgICAgc2VyaWFsaXplZCArPSBkZWxpbWl0ZXIgKyBoeXBoZW5hdGVTdHlsZU5hbWUoc3R5bGVOYW1lKSArICc6JztcbiAgICAgICAgc2VyaWFsaXplZCArPSBkYW5nZXJvdXNTdHlsZVZhbHVlKHN0eWxlTmFtZSwgc3R5bGVWYWx1ZSwgaXNDdXN0b21Qcm9wZXJ0eSk7XG5cbiAgICAgICAgZGVsaW1pdGVyID0gJzsnO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2VyaWFsaXplZCB8fCBudWxsO1xuICB9XG59XG5cbi8qKlxuICogU2V0cyB0aGUgdmFsdWUgZm9yIG11bHRpcGxlIHN0eWxlcyBvbiBhIG5vZGUuICBJZiBhIHZhbHVlIGlzIHNwZWNpZmllZCBhc1xuICogJycgKGVtcHR5IHN0cmluZyksIHRoZSBjb3JyZXNwb25kaW5nIHN0eWxlIHByb3BlcnR5IHdpbGwgYmUgdW5zZXQuXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge29iamVjdH0gc3R5bGVzXG4gKi9cbmZ1bmN0aW9uIHNldFZhbHVlRm9yU3R5bGVzKG5vZGUsIHN0eWxlcywgZ2V0U3RhY2spIHtcbiAgdmFyIHN0eWxlID0gbm9kZS5zdHlsZTtcbiAgZm9yICh2YXIgc3R5bGVOYW1lIGluIHN0eWxlcykge1xuICAgIGlmICghc3R5bGVzLmhhc093blByb3BlcnR5KHN0eWxlTmFtZSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YXIgaXNDdXN0b21Qcm9wZXJ0eSA9IHN0eWxlTmFtZS5pbmRleE9mKCctLScpID09PSAwO1xuICAgIHtcbiAgICAgIGlmICghaXNDdXN0b21Qcm9wZXJ0eSkge1xuICAgICAgICB3YXJuVmFsaWRTdHlsZSQxKHN0eWxlTmFtZSwgc3R5bGVzW3N0eWxlTmFtZV0sIGdldFN0YWNrKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHN0eWxlVmFsdWUgPSBkYW5nZXJvdXNTdHlsZVZhbHVlKHN0eWxlTmFtZSwgc3R5bGVzW3N0eWxlTmFtZV0sIGlzQ3VzdG9tUHJvcGVydHkpO1xuICAgIGlmIChzdHlsZU5hbWUgPT09ICdmbG9hdCcpIHtcbiAgICAgIHN0eWxlTmFtZSA9ICdjc3NGbG9hdCc7XG4gICAgfVxuICAgIGlmIChpc0N1c3RvbVByb3BlcnR5KSB7XG4gICAgICBzdHlsZS5zZXRQcm9wZXJ0eShzdHlsZU5hbWUsIHN0eWxlVmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZVtzdHlsZU5hbWVdID0gc3R5bGVWYWx1ZTtcbiAgICB9XG4gIH1cbn1cblxuLy8gRm9yIEhUTUwsIGNlcnRhaW4gdGFncyBzaG91bGQgb21pdCB0aGVpciBjbG9zZSB0YWcuIFdlIGtlZXAgYSB3aGl0ZWxpc3QgZm9yXG4vLyB0aG9zZSBzcGVjaWFsLWNhc2UgdGFncy5cblxudmFyIG9taXR0ZWRDbG9zZVRhZ3MgPSB7XG4gIGFyZWE6IHRydWUsXG4gIGJhc2U6IHRydWUsXG4gIGJyOiB0cnVlLFxuICBjb2w6IHRydWUsXG4gIGVtYmVkOiB0cnVlLFxuICBocjogdHJ1ZSxcbiAgaW1nOiB0cnVlLFxuICBpbnB1dDogdHJ1ZSxcbiAga2V5Z2VuOiB0cnVlLFxuICBsaW5rOiB0cnVlLFxuICBtZXRhOiB0cnVlLFxuICBwYXJhbTogdHJ1ZSxcbiAgc291cmNlOiB0cnVlLFxuICB0cmFjazogdHJ1ZSxcbiAgd2JyOiB0cnVlXG59O1xuXG4vLyBGb3IgSFRNTCwgY2VydGFpbiB0YWdzIGNhbm5vdCBoYXZlIGNoaWxkcmVuLiBUaGlzIGhhcyB0aGUgc2FtZSBwdXJwb3NlIGFzXG4vLyBgb21pdHRlZENsb3NlVGFnc2AgZXhjZXB0IHRoYXQgYG1lbnVpdGVtYCBzaG91bGQgc3RpbGwgaGF2ZSBpdHMgY2xvc2luZyB0YWcuXG5cbnZhciB2b2lkRWxlbWVudFRhZ3MgPSBfYXNzaWduKHtcbiAgbWVudWl0ZW06IHRydWVcbn0sIG9taXR0ZWRDbG9zZVRhZ3MpO1xuXG52YXIgSFRNTCQxID0gJ19faHRtbCc7XG5cbmZ1bmN0aW9uIGFzc2VydFZhbGlkUHJvcHModGFnLCBwcm9wcywgZ2V0U3RhY2spIHtcbiAgaWYgKCFwcm9wcykge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBOb3RlIHRoZSB1c2Ugb2YgYD09YCB3aGljaCBjaGVja3MgZm9yIG51bGwgb3IgdW5kZWZpbmVkLlxuICBpZiAodm9pZEVsZW1lbnRUYWdzW3RhZ10pIHtcbiAgICAhKHByb3BzLmNoaWxkcmVuID09IG51bGwgJiYgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICclcyBpcyBhIHZvaWQgZWxlbWVudCB0YWcgYW5kIG11c3QgbmVpdGhlciBoYXZlIGBjaGlsZHJlbmAgbm9yIHVzZSBgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLiVzJywgdGFnLCBnZXRTdGFjaygpKSA6IHZvaWQgMDtcbiAgfVxuICBpZiAocHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgIT0gbnVsbCkge1xuICAgICEocHJvcHMuY2hpbGRyZW4gPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW4gb25seSBzZXQgb25lIG9mIGBjaGlsZHJlbmAgb3IgYHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYC4nKSA6IHZvaWQgMDtcbiAgICAhKHR5cGVvZiBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCA9PT0gJ29iamVjdCcgJiYgSFRNTCQxIGluIHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MKSA/IGludmFyaWFudChmYWxzZSwgJ2Bwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTGAgbXVzdCBiZSBpbiB0aGUgZm9ybSBge19faHRtbDogLi4ufWAuIFBsZWFzZSB2aXNpdCBodHRwczovL2ZiLm1lL3JlYWN0LWludmFyaWFudC1kYW5nZXJvdXNseS1zZXQtaW5uZXItaHRtbCBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nKSA6IHZvaWQgMDtcbiAgfVxuICB7XG4gICAgd2FybmluZyhwcm9wcy5zdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmcgfHwgIXByb3BzLmNvbnRlbnRFZGl0YWJsZSB8fCBwcm9wcy5jaGlsZHJlbiA9PSBudWxsLCAnQSBjb21wb25lbnQgaXMgYGNvbnRlbnRFZGl0YWJsZWAgYW5kIGNvbnRhaW5zIGBjaGlsZHJlbmAgbWFuYWdlZCBieSAnICsgJ1JlYWN0LiBJdCBpcyBub3cgeW91ciByZXNwb25zaWJpbGl0eSB0byBndWFyYW50ZWUgdGhhdCBub25lIG9mICcgKyAndGhvc2Ugbm9kZXMgYXJlIHVuZXhwZWN0ZWRseSBtb2RpZmllZCBvciBkdXBsaWNhdGVkLiBUaGlzIGlzICcgKyAncHJvYmFibHkgbm90IGludGVudGlvbmFsLiVzJywgZ2V0U3RhY2soKSk7XG4gIH1cbiAgIShwcm9wcy5zdHlsZSA9PSBudWxsIHx8IHR5cGVvZiBwcm9wcy5zdHlsZSA9PT0gJ29iamVjdCcpID8gaW52YXJpYW50KGZhbHNlLCAnVGhlIGBzdHlsZWAgcHJvcCBleHBlY3RzIGEgbWFwcGluZyBmcm9tIHN0eWxlIHByb3BlcnRpZXMgdG8gdmFsdWVzLCBub3QgYSBzdHJpbmcuIEZvciBleGFtcGxlLCBzdHlsZT17e21hcmdpblJpZ2h0OiBzcGFjaW5nICsgXFwnZW1cXCd9fSB3aGVuIHVzaW5nIEpTWC4lcycsIGdldFN0YWNrKCkpIDogdm9pZCAwO1xufVxuXG5mdW5jdGlvbiBpc0N1c3RvbUNvbXBvbmVudCh0YWdOYW1lLCBwcm9wcykge1xuICBpZiAodGFnTmFtZS5pbmRleE9mKCctJykgPT09IC0xKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBwcm9wcy5pcyA9PT0gJ3N0cmluZyc7XG4gIH1cbiAgc3dpdGNoICh0YWdOYW1lKSB7XG4gICAgLy8gVGhlc2UgYXJlIHJlc2VydmVkIFNWRyBhbmQgTWF0aE1MIGVsZW1lbnRzLlxuICAgIC8vIFdlIGRvbid0IG1pbmQgdGhpcyB3aGl0ZWxpc3QgdG9vIG11Y2ggYmVjYXVzZSB3ZSBleHBlY3QgaXQgdG8gbmV2ZXIgZ3Jvdy5cbiAgICAvLyBUaGUgYWx0ZXJuYXRpdmUgaXMgdG8gdHJhY2sgdGhlIG5hbWVzcGFjZSBpbiBhIGZldyBwbGFjZXMgd2hpY2ggaXMgY29udm9sdXRlZC5cbiAgICAvLyBodHRwczovL3czYy5naXRodWIuaW8vd2ViY29tcG9uZW50cy9zcGVjL2N1c3RvbS8jY3VzdG9tLWVsZW1lbnRzLWNvcmUtY29uY2VwdHNcbiAgICBjYXNlICdhbm5vdGF0aW9uLXhtbCc6XG4gICAgY2FzZSAnY29sb3ItcHJvZmlsZSc6XG4gICAgY2FzZSAnZm9udC1mYWNlJzpcbiAgICBjYXNlICdmb250LWZhY2Utc3JjJzpcbiAgICBjYXNlICdmb250LWZhY2UtdXJpJzpcbiAgICBjYXNlICdmb250LWZhY2UtZm9ybWF0JzpcbiAgICBjYXNlICdmb250LWZhY2UtbmFtZSc6XG4gICAgY2FzZSAnbWlzc2luZy1nbHlwaCc6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbi8vIFdoZW4gYWRkaW5nIGF0dHJpYnV0ZXMgdG8gdGhlIEhUTUwgb3IgU1ZHIHdoaXRlbGlzdCwgYmUgc3VyZSB0b1xuLy8gYWxzbyBhZGQgdGhlbSB0byB0aGlzIG1vZHVsZSB0byBlbnN1cmUgY2FzaW5nIGFuZCBpbmNvcnJlY3QgbmFtZVxuLy8gd2FybmluZ3MuXG52YXIgcG9zc2libGVTdGFuZGFyZE5hbWVzID0ge1xuICAvLyBIVE1MXG4gIGFjY2VwdDogJ2FjY2VwdCcsXG4gIGFjY2VwdGNoYXJzZXQ6ICdhY2NlcHRDaGFyc2V0JyxcbiAgJ2FjY2VwdC1jaGFyc2V0JzogJ2FjY2VwdENoYXJzZXQnLFxuICBhY2Nlc3NrZXk6ICdhY2Nlc3NLZXknLFxuICBhY3Rpb246ICdhY3Rpb24nLFxuICBhbGxvd2Z1bGxzY3JlZW46ICdhbGxvd0Z1bGxTY3JlZW4nLFxuICBhbHQ6ICdhbHQnLFxuICBhczogJ2FzJyxcbiAgYXN5bmM6ICdhc3luYycsXG4gIGF1dG9jYXBpdGFsaXplOiAnYXV0b0NhcGl0YWxpemUnLFxuICBhdXRvY29tcGxldGU6ICdhdXRvQ29tcGxldGUnLFxuICBhdXRvY29ycmVjdDogJ2F1dG9Db3JyZWN0JyxcbiAgYXV0b2ZvY3VzOiAnYXV0b0ZvY3VzJyxcbiAgYXV0b3BsYXk6ICdhdXRvUGxheScsXG4gIGF1dG9zYXZlOiAnYXV0b1NhdmUnLFxuICBjYXB0dXJlOiAnY2FwdHVyZScsXG4gIGNlbGxwYWRkaW5nOiAnY2VsbFBhZGRpbmcnLFxuICBjZWxsc3BhY2luZzogJ2NlbGxTcGFjaW5nJyxcbiAgY2hhbGxlbmdlOiAnY2hhbGxlbmdlJyxcbiAgY2hhcnNldDogJ2NoYXJTZXQnLFxuICBjaGVja2VkOiAnY2hlY2tlZCcsXG4gIGNoaWxkcmVuOiAnY2hpbGRyZW4nLFxuICBjaXRlOiAnY2l0ZScsXG4gICdjbGFzcyc6ICdjbGFzc05hbWUnLFxuICBjbGFzc2lkOiAnY2xhc3NJRCcsXG4gIGNsYXNzbmFtZTogJ2NsYXNzTmFtZScsXG4gIGNvbHM6ICdjb2xzJyxcbiAgY29sc3BhbjogJ2NvbFNwYW4nLFxuICBjb250ZW50OiAnY29udGVudCcsXG4gIGNvbnRlbnRlZGl0YWJsZTogJ2NvbnRlbnRFZGl0YWJsZScsXG4gIGNvbnRleHRtZW51OiAnY29udGV4dE1lbnUnLFxuICBjb250cm9sczogJ2NvbnRyb2xzJyxcbiAgY29udHJvbHNsaXN0OiAnY29udHJvbHNMaXN0JyxcbiAgY29vcmRzOiAnY29vcmRzJyxcbiAgY3Jvc3NvcmlnaW46ICdjcm9zc09yaWdpbicsXG4gIGRhbmdlcm91c2x5c2V0aW5uZXJodG1sOiAnZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwnLFxuICBkYXRhOiAnZGF0YScsXG4gIGRhdGV0aW1lOiAnZGF0ZVRpbWUnLFxuICAnZGVmYXVsdCc6ICdkZWZhdWx0JyxcbiAgZGVmYXVsdGNoZWNrZWQ6ICdkZWZhdWx0Q2hlY2tlZCcsXG4gIGRlZmF1bHR2YWx1ZTogJ2RlZmF1bHRWYWx1ZScsXG4gIGRlZmVyOiAnZGVmZXInLFxuICBkaXI6ICdkaXInLFxuICBkaXNhYmxlZDogJ2Rpc2FibGVkJyxcbiAgZG93bmxvYWQ6ICdkb3dubG9hZCcsXG4gIGRyYWdnYWJsZTogJ2RyYWdnYWJsZScsXG4gIGVuY3R5cGU6ICdlbmNUeXBlJyxcbiAgJ2Zvcic6ICdodG1sRm9yJyxcbiAgZm9ybTogJ2Zvcm0nLFxuICBmb3JtbWV0aG9kOiAnZm9ybU1ldGhvZCcsXG4gIGZvcm1hY3Rpb246ICdmb3JtQWN0aW9uJyxcbiAgZm9ybWVuY3R5cGU6ICdmb3JtRW5jVHlwZScsXG4gIGZvcm1ub3ZhbGlkYXRlOiAnZm9ybU5vVmFsaWRhdGUnLFxuICBmb3JtdGFyZ2V0OiAnZm9ybVRhcmdldCcsXG4gIGZyYW1lYm9yZGVyOiAnZnJhbWVCb3JkZXInLFxuICBoZWFkZXJzOiAnaGVhZGVycycsXG4gIGhlaWdodDogJ2hlaWdodCcsXG4gIGhpZGRlbjogJ2hpZGRlbicsXG4gIGhpZ2g6ICdoaWdoJyxcbiAgaHJlZjogJ2hyZWYnLFxuICBocmVmbGFuZzogJ2hyZWZMYW5nJyxcbiAgaHRtbGZvcjogJ2h0bWxGb3InLFxuICBodHRwZXF1aXY6ICdodHRwRXF1aXYnLFxuICAnaHR0cC1lcXVpdic6ICdodHRwRXF1aXYnLFxuICBpY29uOiAnaWNvbicsXG4gIGlkOiAnaWQnLFxuICBpbm5lcmh0bWw6ICdpbm5lckhUTUwnLFxuICBpbnB1dG1vZGU6ICdpbnB1dE1vZGUnLFxuICBpbnRlZ3JpdHk6ICdpbnRlZ3JpdHknLFxuICBpczogJ2lzJyxcbiAgaXRlbWlkOiAnaXRlbUlEJyxcbiAgaXRlbXByb3A6ICdpdGVtUHJvcCcsXG4gIGl0ZW1yZWY6ICdpdGVtUmVmJyxcbiAgaXRlbXNjb3BlOiAnaXRlbVNjb3BlJyxcbiAgaXRlbXR5cGU6ICdpdGVtVHlwZScsXG4gIGtleXBhcmFtczogJ2tleVBhcmFtcycsXG4gIGtleXR5cGU6ICdrZXlUeXBlJyxcbiAga2luZDogJ2tpbmQnLFxuICBsYWJlbDogJ2xhYmVsJyxcbiAgbGFuZzogJ2xhbmcnLFxuICBsaXN0OiAnbGlzdCcsXG4gIGxvb3A6ICdsb29wJyxcbiAgbG93OiAnbG93JyxcbiAgbWFuaWZlc3Q6ICdtYW5pZmVzdCcsXG4gIG1hcmdpbndpZHRoOiAnbWFyZ2luV2lkdGgnLFxuICBtYXJnaW5oZWlnaHQ6ICdtYXJnaW5IZWlnaHQnLFxuICBtYXg6ICdtYXgnLFxuICBtYXhsZW5ndGg6ICdtYXhMZW5ndGgnLFxuICBtZWRpYTogJ21lZGlhJyxcbiAgbWVkaWFncm91cDogJ21lZGlhR3JvdXAnLFxuICBtZXRob2Q6ICdtZXRob2QnLFxuICBtaW46ICdtaW4nLFxuICBtaW5sZW5ndGg6ICdtaW5MZW5ndGgnLFxuICBtdWx0aXBsZTogJ211bHRpcGxlJyxcbiAgbXV0ZWQ6ICdtdXRlZCcsXG4gIG5hbWU6ICduYW1lJyxcbiAgbm9tb2R1bGU6ICdub01vZHVsZScsXG4gIG5vbmNlOiAnbm9uY2UnLFxuICBub3ZhbGlkYXRlOiAnbm9WYWxpZGF0ZScsXG4gIG9wZW46ICdvcGVuJyxcbiAgb3B0aW11bTogJ29wdGltdW0nLFxuICBwYXR0ZXJuOiAncGF0dGVybicsXG4gIHBsYWNlaG9sZGVyOiAncGxhY2Vob2xkZXInLFxuICBwbGF5c2lubGluZTogJ3BsYXlzSW5saW5lJyxcbiAgcG9zdGVyOiAncG9zdGVyJyxcbiAgcHJlbG9hZDogJ3ByZWxvYWQnLFxuICBwcm9maWxlOiAncHJvZmlsZScsXG4gIHJhZGlvZ3JvdXA6ICdyYWRpb0dyb3VwJyxcbiAgcmVhZG9ubHk6ICdyZWFkT25seScsXG4gIHJlZmVycmVycG9saWN5OiAncmVmZXJyZXJQb2xpY3knLFxuICByZWw6ICdyZWwnLFxuICByZXF1aXJlZDogJ3JlcXVpcmVkJyxcbiAgcmV2ZXJzZWQ6ICdyZXZlcnNlZCcsXG4gIHJvbGU6ICdyb2xlJyxcbiAgcm93czogJ3Jvd3MnLFxuICByb3dzcGFuOiAncm93U3BhbicsXG4gIHNhbmRib3g6ICdzYW5kYm94JyxcbiAgc2NvcGU6ICdzY29wZScsXG4gIHNjb3BlZDogJ3Njb3BlZCcsXG4gIHNjcm9sbGluZzogJ3Njcm9sbGluZycsXG4gIHNlYW1sZXNzOiAnc2VhbWxlc3MnLFxuICBzZWxlY3RlZDogJ3NlbGVjdGVkJyxcbiAgc2hhcGU6ICdzaGFwZScsXG4gIHNpemU6ICdzaXplJyxcbiAgc2l6ZXM6ICdzaXplcycsXG4gIHNwYW46ICdzcGFuJyxcbiAgc3BlbGxjaGVjazogJ3NwZWxsQ2hlY2snLFxuICBzcmM6ICdzcmMnLFxuICBzcmNkb2M6ICdzcmNEb2MnLFxuICBzcmNsYW5nOiAnc3JjTGFuZycsXG4gIHNyY3NldDogJ3NyY1NldCcsXG4gIHN0YXJ0OiAnc3RhcnQnLFxuICBzdGVwOiAnc3RlcCcsXG4gIHN0eWxlOiAnc3R5bGUnLFxuICBzdW1tYXJ5OiAnc3VtbWFyeScsXG4gIHRhYmluZGV4OiAndGFiSW5kZXgnLFxuICB0YXJnZXQ6ICd0YXJnZXQnLFxuICB0aXRsZTogJ3RpdGxlJyxcbiAgdHlwZTogJ3R5cGUnLFxuICB1c2VtYXA6ICd1c2VNYXAnLFxuICB2YWx1ZTogJ3ZhbHVlJyxcbiAgd2lkdGg6ICd3aWR0aCcsXG4gIHdtb2RlOiAnd21vZGUnLFxuICB3cmFwOiAnd3JhcCcsXG5cbiAgLy8gU1ZHXG4gIGFib3V0OiAnYWJvdXQnLFxuICBhY2NlbnRoZWlnaHQ6ICdhY2NlbnRIZWlnaHQnLFxuICAnYWNjZW50LWhlaWdodCc6ICdhY2NlbnRIZWlnaHQnLFxuICBhY2N1bXVsYXRlOiAnYWNjdW11bGF0ZScsXG4gIGFkZGl0aXZlOiAnYWRkaXRpdmUnLFxuICBhbGlnbm1lbnRiYXNlbGluZTogJ2FsaWdubWVudEJhc2VsaW5lJyxcbiAgJ2FsaWdubWVudC1iYXNlbGluZSc6ICdhbGlnbm1lbnRCYXNlbGluZScsXG4gIGFsbG93cmVvcmRlcjogJ2FsbG93UmVvcmRlcicsXG4gIGFscGhhYmV0aWM6ICdhbHBoYWJldGljJyxcbiAgYW1wbGl0dWRlOiAnYW1wbGl0dWRlJyxcbiAgYXJhYmljZm9ybTogJ2FyYWJpY0Zvcm0nLFxuICAnYXJhYmljLWZvcm0nOiAnYXJhYmljRm9ybScsXG4gIGFzY2VudDogJ2FzY2VudCcsXG4gIGF0dHJpYnV0ZW5hbWU6ICdhdHRyaWJ1dGVOYW1lJyxcbiAgYXR0cmlidXRldHlwZTogJ2F0dHJpYnV0ZVR5cGUnLFxuICBhdXRvcmV2ZXJzZTogJ2F1dG9SZXZlcnNlJyxcbiAgYXppbXV0aDogJ2F6aW11dGgnLFxuICBiYXNlZnJlcXVlbmN5OiAnYmFzZUZyZXF1ZW5jeScsXG4gIGJhc2VsaW5lc2hpZnQ6ICdiYXNlbGluZVNoaWZ0JyxcbiAgJ2Jhc2VsaW5lLXNoaWZ0JzogJ2Jhc2VsaW5lU2hpZnQnLFxuICBiYXNlcHJvZmlsZTogJ2Jhc2VQcm9maWxlJyxcbiAgYmJveDogJ2Jib3gnLFxuICBiZWdpbjogJ2JlZ2luJyxcbiAgYmlhczogJ2JpYXMnLFxuICBieTogJ2J5JyxcbiAgY2FsY21vZGU6ICdjYWxjTW9kZScsXG4gIGNhcGhlaWdodDogJ2NhcEhlaWdodCcsXG4gICdjYXAtaGVpZ2h0JzogJ2NhcEhlaWdodCcsXG4gIGNsaXA6ICdjbGlwJyxcbiAgY2xpcHBhdGg6ICdjbGlwUGF0aCcsXG4gICdjbGlwLXBhdGgnOiAnY2xpcFBhdGgnLFxuICBjbGlwcGF0aHVuaXRzOiAnY2xpcFBhdGhVbml0cycsXG4gIGNsaXBydWxlOiAnY2xpcFJ1bGUnLFxuICAnY2xpcC1ydWxlJzogJ2NsaXBSdWxlJyxcbiAgY29sb3I6ICdjb2xvcicsXG4gIGNvbG9yaW50ZXJwb2xhdGlvbjogJ2NvbG9ySW50ZXJwb2xhdGlvbicsXG4gICdjb2xvci1pbnRlcnBvbGF0aW9uJzogJ2NvbG9ySW50ZXJwb2xhdGlvbicsXG4gIGNvbG9yaW50ZXJwb2xhdGlvbmZpbHRlcnM6ICdjb2xvckludGVycG9sYXRpb25GaWx0ZXJzJyxcbiAgJ2NvbG9yLWludGVycG9sYXRpb24tZmlsdGVycyc6ICdjb2xvckludGVycG9sYXRpb25GaWx0ZXJzJyxcbiAgY29sb3Jwcm9maWxlOiAnY29sb3JQcm9maWxlJyxcbiAgJ2NvbG9yLXByb2ZpbGUnOiAnY29sb3JQcm9maWxlJyxcbiAgY29sb3JyZW5kZXJpbmc6ICdjb2xvclJlbmRlcmluZycsXG4gICdjb2xvci1yZW5kZXJpbmcnOiAnY29sb3JSZW5kZXJpbmcnLFxuICBjb250ZW50c2NyaXB0dHlwZTogJ2NvbnRlbnRTY3JpcHRUeXBlJyxcbiAgY29udGVudHN0eWxldHlwZTogJ2NvbnRlbnRTdHlsZVR5cGUnLFxuICBjdXJzb3I6ICdjdXJzb3InLFxuICBjeDogJ2N4JyxcbiAgY3k6ICdjeScsXG4gIGQ6ICdkJyxcbiAgZGF0YXR5cGU6ICdkYXRhdHlwZScsXG4gIGRlY2VsZXJhdGU6ICdkZWNlbGVyYXRlJyxcbiAgZGVzY2VudDogJ2Rlc2NlbnQnLFxuICBkaWZmdXNlY29uc3RhbnQ6ICdkaWZmdXNlQ29uc3RhbnQnLFxuICBkaXJlY3Rpb246ICdkaXJlY3Rpb24nLFxuICBkaXNwbGF5OiAnZGlzcGxheScsXG4gIGRpdmlzb3I6ICdkaXZpc29yJyxcbiAgZG9taW5hbnRiYXNlbGluZTogJ2RvbWluYW50QmFzZWxpbmUnLFxuICAnZG9taW5hbnQtYmFzZWxpbmUnOiAnZG9taW5hbnRCYXNlbGluZScsXG4gIGR1cjogJ2R1cicsXG4gIGR4OiAnZHgnLFxuICBkeTogJ2R5JyxcbiAgZWRnZW1vZGU6ICdlZGdlTW9kZScsXG4gIGVsZXZhdGlvbjogJ2VsZXZhdGlvbicsXG4gIGVuYWJsZWJhY2tncm91bmQ6ICdlbmFibGVCYWNrZ3JvdW5kJyxcbiAgJ2VuYWJsZS1iYWNrZ3JvdW5kJzogJ2VuYWJsZUJhY2tncm91bmQnLFxuICBlbmQ6ICdlbmQnLFxuICBleHBvbmVudDogJ2V4cG9uZW50JyxcbiAgZXh0ZXJuYWxyZXNvdXJjZXNyZXF1aXJlZDogJ2V4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQnLFxuICBmaWxsOiAnZmlsbCcsXG4gIGZpbGxvcGFjaXR5OiAnZmlsbE9wYWNpdHknLFxuICAnZmlsbC1vcGFjaXR5JzogJ2ZpbGxPcGFjaXR5JyxcbiAgZmlsbHJ1bGU6ICdmaWxsUnVsZScsXG4gICdmaWxsLXJ1bGUnOiAnZmlsbFJ1bGUnLFxuICBmaWx0ZXI6ICdmaWx0ZXInLFxuICBmaWx0ZXJyZXM6ICdmaWx0ZXJSZXMnLFxuICBmaWx0ZXJ1bml0czogJ2ZpbHRlclVuaXRzJyxcbiAgZmxvb2RvcGFjaXR5OiAnZmxvb2RPcGFjaXR5JyxcbiAgJ2Zsb29kLW9wYWNpdHknOiAnZmxvb2RPcGFjaXR5JyxcbiAgZmxvb2Rjb2xvcjogJ2Zsb29kQ29sb3InLFxuICAnZmxvb2QtY29sb3InOiAnZmxvb2RDb2xvcicsXG4gIGZvY3VzYWJsZTogJ2ZvY3VzYWJsZScsXG4gIGZvbnRmYW1pbHk6ICdmb250RmFtaWx5JyxcbiAgJ2ZvbnQtZmFtaWx5JzogJ2ZvbnRGYW1pbHknLFxuICBmb250c2l6ZTogJ2ZvbnRTaXplJyxcbiAgJ2ZvbnQtc2l6ZSc6ICdmb250U2l6ZScsXG4gIGZvbnRzaXplYWRqdXN0OiAnZm9udFNpemVBZGp1c3QnLFxuICAnZm9udC1zaXplLWFkanVzdCc6ICdmb250U2l6ZUFkanVzdCcsXG4gIGZvbnRzdHJldGNoOiAnZm9udFN0cmV0Y2gnLFxuICAnZm9udC1zdHJldGNoJzogJ2ZvbnRTdHJldGNoJyxcbiAgZm9udHN0eWxlOiAnZm9udFN0eWxlJyxcbiAgJ2ZvbnQtc3R5bGUnOiAnZm9udFN0eWxlJyxcbiAgZm9udHZhcmlhbnQ6ICdmb250VmFyaWFudCcsXG4gICdmb250LXZhcmlhbnQnOiAnZm9udFZhcmlhbnQnLFxuICBmb250d2VpZ2h0OiAnZm9udFdlaWdodCcsXG4gICdmb250LXdlaWdodCc6ICdmb250V2VpZ2h0JyxcbiAgZm9ybWF0OiAnZm9ybWF0JyxcbiAgZnJvbTogJ2Zyb20nLFxuICBmeDogJ2Z4JyxcbiAgZnk6ICdmeScsXG4gIGcxOiAnZzEnLFxuICBnMjogJ2cyJyxcbiAgZ2x5cGhuYW1lOiAnZ2x5cGhOYW1lJyxcbiAgJ2dseXBoLW5hbWUnOiAnZ2x5cGhOYW1lJyxcbiAgZ2x5cGhvcmllbnRhdGlvbmhvcml6b250YWw6ICdnbHlwaE9yaWVudGF0aW9uSG9yaXpvbnRhbCcsXG4gICdnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsJzogJ2dseXBoT3JpZW50YXRpb25Ib3Jpem9udGFsJyxcbiAgZ2x5cGhvcmllbnRhdGlvbnZlcnRpY2FsOiAnZ2x5cGhPcmllbnRhdGlvblZlcnRpY2FsJyxcbiAgJ2dseXBoLW9yaWVudGF0aW9uLXZlcnRpY2FsJzogJ2dseXBoT3JpZW50YXRpb25WZXJ0aWNhbCcsXG4gIGdseXBocmVmOiAnZ2x5cGhSZWYnLFxuICBncmFkaWVudHRyYW5zZm9ybTogJ2dyYWRpZW50VHJhbnNmb3JtJyxcbiAgZ3JhZGllbnR1bml0czogJ2dyYWRpZW50VW5pdHMnLFxuICBoYW5naW5nOiAnaGFuZ2luZycsXG4gIGhvcml6YWR2eDogJ2hvcml6QWR2WCcsXG4gICdob3Jpei1hZHYteCc6ICdob3JpekFkdlgnLFxuICBob3Jpem9yaWdpbng6ICdob3Jpek9yaWdpblgnLFxuICAnaG9yaXotb3JpZ2luLXgnOiAnaG9yaXpPcmlnaW5YJyxcbiAgaWRlb2dyYXBoaWM6ICdpZGVvZ3JhcGhpYycsXG4gIGltYWdlcmVuZGVyaW5nOiAnaW1hZ2VSZW5kZXJpbmcnLFxuICAnaW1hZ2UtcmVuZGVyaW5nJzogJ2ltYWdlUmVuZGVyaW5nJyxcbiAgaW4yOiAnaW4yJyxcbiAgJ2luJzogJ2luJyxcbiAgaW5saXN0OiAnaW5saXN0JyxcbiAgaW50ZXJjZXB0OiAnaW50ZXJjZXB0JyxcbiAgazE6ICdrMScsXG4gIGsyOiAnazInLFxuICBrMzogJ2szJyxcbiAgazQ6ICdrNCcsXG4gIGs6ICdrJyxcbiAga2VybmVsbWF0cml4OiAna2VybmVsTWF0cml4JyxcbiAga2VybmVsdW5pdGxlbmd0aDogJ2tlcm5lbFVuaXRMZW5ndGgnLFxuICBrZXJuaW5nOiAna2VybmluZycsXG4gIGtleXBvaW50czogJ2tleVBvaW50cycsXG4gIGtleXNwbGluZXM6ICdrZXlTcGxpbmVzJyxcbiAga2V5dGltZXM6ICdrZXlUaW1lcycsXG4gIGxlbmd0aGFkanVzdDogJ2xlbmd0aEFkanVzdCcsXG4gIGxldHRlcnNwYWNpbmc6ICdsZXR0ZXJTcGFjaW5nJyxcbiAgJ2xldHRlci1zcGFjaW5nJzogJ2xldHRlclNwYWNpbmcnLFxuICBsaWdodGluZ2NvbG9yOiAnbGlnaHRpbmdDb2xvcicsXG4gICdsaWdodGluZy1jb2xvcic6ICdsaWdodGluZ0NvbG9yJyxcbiAgbGltaXRpbmdjb25lYW5nbGU6ICdsaW1pdGluZ0NvbmVBbmdsZScsXG4gIGxvY2FsOiAnbG9jYWwnLFxuICBtYXJrZXJlbmQ6ICdtYXJrZXJFbmQnLFxuICAnbWFya2VyLWVuZCc6ICdtYXJrZXJFbmQnLFxuICBtYXJrZXJoZWlnaHQ6ICdtYXJrZXJIZWlnaHQnLFxuICBtYXJrZXJtaWQ6ICdtYXJrZXJNaWQnLFxuICAnbWFya2VyLW1pZCc6ICdtYXJrZXJNaWQnLFxuICBtYXJrZXJzdGFydDogJ21hcmtlclN0YXJ0JyxcbiAgJ21hcmtlci1zdGFydCc6ICdtYXJrZXJTdGFydCcsXG4gIG1hcmtlcnVuaXRzOiAnbWFya2VyVW5pdHMnLFxuICBtYXJrZXJ3aWR0aDogJ21hcmtlcldpZHRoJyxcbiAgbWFzazogJ21hc2snLFxuICBtYXNrY29udGVudHVuaXRzOiAnbWFza0NvbnRlbnRVbml0cycsXG4gIG1hc2t1bml0czogJ21hc2tVbml0cycsXG4gIG1hdGhlbWF0aWNhbDogJ21hdGhlbWF0aWNhbCcsXG4gIG1vZGU6ICdtb2RlJyxcbiAgbnVtb2N0YXZlczogJ251bU9jdGF2ZXMnLFxuICBvZmZzZXQ6ICdvZmZzZXQnLFxuICBvcGFjaXR5OiAnb3BhY2l0eScsXG4gIG9wZXJhdG9yOiAnb3BlcmF0b3InLFxuICBvcmRlcjogJ29yZGVyJyxcbiAgb3JpZW50OiAnb3JpZW50JyxcbiAgb3JpZW50YXRpb246ICdvcmllbnRhdGlvbicsXG4gIG9yaWdpbjogJ29yaWdpbicsXG4gIG92ZXJmbG93OiAnb3ZlcmZsb3cnLFxuICBvdmVybGluZXBvc2l0aW9uOiAnb3ZlcmxpbmVQb3NpdGlvbicsXG4gICdvdmVybGluZS1wb3NpdGlvbic6ICdvdmVybGluZVBvc2l0aW9uJyxcbiAgb3ZlcmxpbmV0aGlja25lc3M6ICdvdmVybGluZVRoaWNrbmVzcycsXG4gICdvdmVybGluZS10aGlja25lc3MnOiAnb3ZlcmxpbmVUaGlja25lc3MnLFxuICBwYWludG9yZGVyOiAncGFpbnRPcmRlcicsXG4gICdwYWludC1vcmRlcic6ICdwYWludE9yZGVyJyxcbiAgcGFub3NlMTogJ3Bhbm9zZTEnLFxuICAncGFub3NlLTEnOiAncGFub3NlMScsXG4gIHBhdGhsZW5ndGg6ICdwYXRoTGVuZ3RoJyxcbiAgcGF0dGVybmNvbnRlbnR1bml0czogJ3BhdHRlcm5Db250ZW50VW5pdHMnLFxuICBwYXR0ZXJudHJhbnNmb3JtOiAncGF0dGVyblRyYW5zZm9ybScsXG4gIHBhdHRlcm51bml0czogJ3BhdHRlcm5Vbml0cycsXG4gIHBvaW50ZXJldmVudHM6ICdwb2ludGVyRXZlbnRzJyxcbiAgJ3BvaW50ZXItZXZlbnRzJzogJ3BvaW50ZXJFdmVudHMnLFxuICBwb2ludHM6ICdwb2ludHMnLFxuICBwb2ludHNhdHg6ICdwb2ludHNBdFgnLFxuICBwb2ludHNhdHk6ICdwb2ludHNBdFknLFxuICBwb2ludHNhdHo6ICdwb2ludHNBdFonLFxuICBwcmVmaXg6ICdwcmVmaXgnLFxuICBwcmVzZXJ2ZWFscGhhOiAncHJlc2VydmVBbHBoYScsXG4gIHByZXNlcnZlYXNwZWN0cmF0aW86ICdwcmVzZXJ2ZUFzcGVjdFJhdGlvJyxcbiAgcHJpbWl0aXZldW5pdHM6ICdwcmltaXRpdmVVbml0cycsXG4gIHByb3BlcnR5OiAncHJvcGVydHknLFxuICByOiAncicsXG4gIHJhZGl1czogJ3JhZGl1cycsXG4gIHJlZng6ICdyZWZYJyxcbiAgcmVmeTogJ3JlZlknLFxuICByZW5kZXJpbmdpbnRlbnQ6ICdyZW5kZXJpbmdJbnRlbnQnLFxuICAncmVuZGVyaW5nLWludGVudCc6ICdyZW5kZXJpbmdJbnRlbnQnLFxuICByZXBlYXRjb3VudDogJ3JlcGVhdENvdW50JyxcbiAgcmVwZWF0ZHVyOiAncmVwZWF0RHVyJyxcbiAgcmVxdWlyZWRleHRlbnNpb25zOiAncmVxdWlyZWRFeHRlbnNpb25zJyxcbiAgcmVxdWlyZWRmZWF0dXJlczogJ3JlcXVpcmVkRmVhdHVyZXMnLFxuICByZXNvdXJjZTogJ3Jlc291cmNlJyxcbiAgcmVzdGFydDogJ3Jlc3RhcnQnLFxuICByZXN1bHQ6ICdyZXN1bHQnLFxuICByZXN1bHRzOiAncmVzdWx0cycsXG4gIHJvdGF0ZTogJ3JvdGF0ZScsXG4gIHJ4OiAncngnLFxuICByeTogJ3J5JyxcbiAgc2NhbGU6ICdzY2FsZScsXG4gIHNlY3VyaXR5OiAnc2VjdXJpdHknLFxuICBzZWVkOiAnc2VlZCcsXG4gIHNoYXBlcmVuZGVyaW5nOiAnc2hhcGVSZW5kZXJpbmcnLFxuICAnc2hhcGUtcmVuZGVyaW5nJzogJ3NoYXBlUmVuZGVyaW5nJyxcbiAgc2xvcGU6ICdzbG9wZScsXG4gIHNwYWNpbmc6ICdzcGFjaW5nJyxcbiAgc3BlY3VsYXJjb25zdGFudDogJ3NwZWN1bGFyQ29uc3RhbnQnLFxuICBzcGVjdWxhcmV4cG9uZW50OiAnc3BlY3VsYXJFeHBvbmVudCcsXG4gIHNwZWVkOiAnc3BlZWQnLFxuICBzcHJlYWRtZXRob2Q6ICdzcHJlYWRNZXRob2QnLFxuICBzdGFydG9mZnNldDogJ3N0YXJ0T2Zmc2V0JyxcbiAgc3RkZGV2aWF0aW9uOiAnc3RkRGV2aWF0aW9uJyxcbiAgc3RlbWg6ICdzdGVtaCcsXG4gIHN0ZW12OiAnc3RlbXYnLFxuICBzdGl0Y2h0aWxlczogJ3N0aXRjaFRpbGVzJyxcbiAgc3RvcGNvbG9yOiAnc3RvcENvbG9yJyxcbiAgJ3N0b3AtY29sb3InOiAnc3RvcENvbG9yJyxcbiAgc3RvcG9wYWNpdHk6ICdzdG9wT3BhY2l0eScsXG4gICdzdG9wLW9wYWNpdHknOiAnc3RvcE9wYWNpdHknLFxuICBzdHJpa2V0aHJvdWdocG9zaXRpb246ICdzdHJpa2V0aHJvdWdoUG9zaXRpb24nLFxuICAnc3RyaWtldGhyb3VnaC1wb3NpdGlvbic6ICdzdHJpa2V0aHJvdWdoUG9zaXRpb24nLFxuICBzdHJpa2V0aHJvdWdodGhpY2tuZXNzOiAnc3RyaWtldGhyb3VnaFRoaWNrbmVzcycsXG4gICdzdHJpa2V0aHJvdWdoLXRoaWNrbmVzcyc6ICdzdHJpa2V0aHJvdWdoVGhpY2tuZXNzJyxcbiAgc3RyaW5nOiAnc3RyaW5nJyxcbiAgc3Ryb2tlOiAnc3Ryb2tlJyxcbiAgc3Ryb2tlZGFzaGFycmF5OiAnc3Ryb2tlRGFzaGFycmF5JyxcbiAgJ3N0cm9rZS1kYXNoYXJyYXknOiAnc3Ryb2tlRGFzaGFycmF5JyxcbiAgc3Ryb2tlZGFzaG9mZnNldDogJ3N0cm9rZURhc2hvZmZzZXQnLFxuICAnc3Ryb2tlLWRhc2hvZmZzZXQnOiAnc3Ryb2tlRGFzaG9mZnNldCcsXG4gIHN0cm9rZWxpbmVjYXA6ICdzdHJva2VMaW5lY2FwJyxcbiAgJ3N0cm9rZS1saW5lY2FwJzogJ3N0cm9rZUxpbmVjYXAnLFxuICBzdHJva2VsaW5lam9pbjogJ3N0cm9rZUxpbmVqb2luJyxcbiAgJ3N0cm9rZS1saW5lam9pbic6ICdzdHJva2VMaW5lam9pbicsXG4gIHN0cm9rZW1pdGVybGltaXQ6ICdzdHJva2VNaXRlcmxpbWl0JyxcbiAgJ3N0cm9rZS1taXRlcmxpbWl0JzogJ3N0cm9rZU1pdGVybGltaXQnLFxuICBzdHJva2V3aWR0aDogJ3N0cm9rZVdpZHRoJyxcbiAgJ3N0cm9rZS13aWR0aCc6ICdzdHJva2VXaWR0aCcsXG4gIHN0cm9rZW9wYWNpdHk6ICdzdHJva2VPcGFjaXR5JyxcbiAgJ3N0cm9rZS1vcGFjaXR5JzogJ3N0cm9rZU9wYWNpdHknLFxuICBzdXBwcmVzc2NvbnRlbnRlZGl0YWJsZXdhcm5pbmc6ICdzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmcnLFxuICBzdXBwcmVzc2h5ZHJhdGlvbndhcm5pbmc6ICdzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcnLFxuICBzdXJmYWNlc2NhbGU6ICdzdXJmYWNlU2NhbGUnLFxuICBzeXN0ZW1sYW5ndWFnZTogJ3N5c3RlbUxhbmd1YWdlJyxcbiAgdGFibGV2YWx1ZXM6ICd0YWJsZVZhbHVlcycsXG4gIHRhcmdldHg6ICd0YXJnZXRYJyxcbiAgdGFyZ2V0eTogJ3RhcmdldFknLFxuICB0ZXh0YW5jaG9yOiAndGV4dEFuY2hvcicsXG4gICd0ZXh0LWFuY2hvcic6ICd0ZXh0QW5jaG9yJyxcbiAgdGV4dGRlY29yYXRpb246ICd0ZXh0RGVjb3JhdGlvbicsXG4gICd0ZXh0LWRlY29yYXRpb24nOiAndGV4dERlY29yYXRpb24nLFxuICB0ZXh0bGVuZ3RoOiAndGV4dExlbmd0aCcsXG4gIHRleHRyZW5kZXJpbmc6ICd0ZXh0UmVuZGVyaW5nJyxcbiAgJ3RleHQtcmVuZGVyaW5nJzogJ3RleHRSZW5kZXJpbmcnLFxuICB0bzogJ3RvJyxcbiAgdHJhbnNmb3JtOiAndHJhbnNmb3JtJyxcbiAgJ3R5cGVvZic6ICd0eXBlb2YnLFxuICB1MTogJ3UxJyxcbiAgdTI6ICd1MicsXG4gIHVuZGVybGluZXBvc2l0aW9uOiAndW5kZXJsaW5lUG9zaXRpb24nLFxuICAndW5kZXJsaW5lLXBvc2l0aW9uJzogJ3VuZGVybGluZVBvc2l0aW9uJyxcbiAgdW5kZXJsaW5ldGhpY2tuZXNzOiAndW5kZXJsaW5lVGhpY2tuZXNzJyxcbiAgJ3VuZGVybGluZS10aGlja25lc3MnOiAndW5kZXJsaW5lVGhpY2tuZXNzJyxcbiAgdW5pY29kZTogJ3VuaWNvZGUnLFxuICB1bmljb2RlYmlkaTogJ3VuaWNvZGVCaWRpJyxcbiAgJ3VuaWNvZGUtYmlkaSc6ICd1bmljb2RlQmlkaScsXG4gIHVuaWNvZGVyYW5nZTogJ3VuaWNvZGVSYW5nZScsXG4gICd1bmljb2RlLXJhbmdlJzogJ3VuaWNvZGVSYW5nZScsXG4gIHVuaXRzcGVyZW06ICd1bml0c1BlckVtJyxcbiAgJ3VuaXRzLXBlci1lbSc6ICd1bml0c1BlckVtJyxcbiAgdW5zZWxlY3RhYmxlOiAndW5zZWxlY3RhYmxlJyxcbiAgdmFscGhhYmV0aWM6ICd2QWxwaGFiZXRpYycsXG4gICd2LWFscGhhYmV0aWMnOiAndkFscGhhYmV0aWMnLFxuICB2YWx1ZXM6ICd2YWx1ZXMnLFxuICB2ZWN0b3JlZmZlY3Q6ICd2ZWN0b3JFZmZlY3QnLFxuICAndmVjdG9yLWVmZmVjdCc6ICd2ZWN0b3JFZmZlY3QnLFxuICB2ZXJzaW9uOiAndmVyc2lvbicsXG4gIHZlcnRhZHZ5OiAndmVydEFkdlknLFxuICAndmVydC1hZHYteSc6ICd2ZXJ0QWR2WScsXG4gIHZlcnRvcmlnaW54OiAndmVydE9yaWdpblgnLFxuICAndmVydC1vcmlnaW4teCc6ICd2ZXJ0T3JpZ2luWCcsXG4gIHZlcnRvcmlnaW55OiAndmVydE9yaWdpblknLFxuICAndmVydC1vcmlnaW4teSc6ICd2ZXJ0T3JpZ2luWScsXG4gIHZoYW5naW5nOiAndkhhbmdpbmcnLFxuICAndi1oYW5naW5nJzogJ3ZIYW5naW5nJyxcbiAgdmlkZW9ncmFwaGljOiAndklkZW9ncmFwaGljJyxcbiAgJ3YtaWRlb2dyYXBoaWMnOiAndklkZW9ncmFwaGljJyxcbiAgdmlld2JveDogJ3ZpZXdCb3gnLFxuICB2aWV3dGFyZ2V0OiAndmlld1RhcmdldCcsXG4gIHZpc2liaWxpdHk6ICd2aXNpYmlsaXR5JyxcbiAgdm1hdGhlbWF0aWNhbDogJ3ZNYXRoZW1hdGljYWwnLFxuICAndi1tYXRoZW1hdGljYWwnOiAndk1hdGhlbWF0aWNhbCcsXG4gIHZvY2FiOiAndm9jYWInLFxuICB3aWR0aHM6ICd3aWR0aHMnLFxuICB3b3Jkc3BhY2luZzogJ3dvcmRTcGFjaW5nJyxcbiAgJ3dvcmQtc3BhY2luZyc6ICd3b3JkU3BhY2luZycsXG4gIHdyaXRpbmdtb2RlOiAnd3JpdGluZ01vZGUnLFxuICAnd3JpdGluZy1tb2RlJzogJ3dyaXRpbmdNb2RlJyxcbiAgeDE6ICd4MScsXG4gIHgyOiAneDInLFxuICB4OiAneCcsXG4gIHhjaGFubmVsc2VsZWN0b3I6ICd4Q2hhbm5lbFNlbGVjdG9yJyxcbiAgeGhlaWdodDogJ3hIZWlnaHQnLFxuICAneC1oZWlnaHQnOiAneEhlaWdodCcsXG4gIHhsaW5rYWN0dWF0ZTogJ3hsaW5rQWN0dWF0ZScsXG4gICd4bGluazphY3R1YXRlJzogJ3hsaW5rQWN0dWF0ZScsXG4gIHhsaW5rYXJjcm9sZTogJ3hsaW5rQXJjcm9sZScsXG4gICd4bGluazphcmNyb2xlJzogJ3hsaW5rQXJjcm9sZScsXG4gIHhsaW5raHJlZjogJ3hsaW5rSHJlZicsXG4gICd4bGluazpocmVmJzogJ3hsaW5rSHJlZicsXG4gIHhsaW5rcm9sZTogJ3hsaW5rUm9sZScsXG4gICd4bGluazpyb2xlJzogJ3hsaW5rUm9sZScsXG4gIHhsaW5rc2hvdzogJ3hsaW5rU2hvdycsXG4gICd4bGluazpzaG93JzogJ3hsaW5rU2hvdycsXG4gIHhsaW5rdGl0bGU6ICd4bGlua1RpdGxlJyxcbiAgJ3hsaW5rOnRpdGxlJzogJ3hsaW5rVGl0bGUnLFxuICB4bGlua3R5cGU6ICd4bGlua1R5cGUnLFxuICAneGxpbms6dHlwZSc6ICd4bGlua1R5cGUnLFxuICB4bWxiYXNlOiAneG1sQmFzZScsXG4gICd4bWw6YmFzZSc6ICd4bWxCYXNlJyxcbiAgeG1sbGFuZzogJ3htbExhbmcnLFxuICAneG1sOmxhbmcnOiAneG1sTGFuZycsXG4gIHhtbG5zOiAneG1sbnMnLFxuICAneG1sOnNwYWNlJzogJ3htbFNwYWNlJyxcbiAgeG1sbnN4bGluazogJ3htbG5zWGxpbmsnLFxuICAneG1sbnM6eGxpbmsnOiAneG1sbnNYbGluaycsXG4gIHhtbHNwYWNlOiAneG1sU3BhY2UnLFxuICB5MTogJ3kxJyxcbiAgeTI6ICd5MicsXG4gIHk6ICd5JyxcbiAgeWNoYW5uZWxzZWxlY3RvcjogJ3lDaGFubmVsU2VsZWN0b3InLFxuICB6OiAneicsXG4gIHpvb21hbmRwYW46ICd6b29tQW5kUGFuJ1xufTtcblxudmFyIGFyaWFQcm9wZXJ0aWVzID0ge1xuICAnYXJpYS1jdXJyZW50JzogMCwgLy8gc3RhdGVcbiAgJ2FyaWEtZGV0YWlscyc6IDAsXG4gICdhcmlhLWRpc2FibGVkJzogMCwgLy8gc3RhdGVcbiAgJ2FyaWEtaGlkZGVuJzogMCwgLy8gc3RhdGVcbiAgJ2FyaWEtaW52YWxpZCc6IDAsIC8vIHN0YXRlXG4gICdhcmlhLWtleXNob3J0Y3V0cyc6IDAsXG4gICdhcmlhLWxhYmVsJzogMCxcbiAgJ2FyaWEtcm9sZWRlc2NyaXB0aW9uJzogMCxcbiAgLy8gV2lkZ2V0IEF0dHJpYnV0ZXNcbiAgJ2FyaWEtYXV0b2NvbXBsZXRlJzogMCxcbiAgJ2FyaWEtY2hlY2tlZCc6IDAsXG4gICdhcmlhLWV4cGFuZGVkJzogMCxcbiAgJ2FyaWEtaGFzcG9wdXAnOiAwLFxuICAnYXJpYS1sZXZlbCc6IDAsXG4gICdhcmlhLW1vZGFsJzogMCxcbiAgJ2FyaWEtbXVsdGlsaW5lJzogMCxcbiAgJ2FyaWEtbXVsdGlzZWxlY3RhYmxlJzogMCxcbiAgJ2FyaWEtb3JpZW50YXRpb24nOiAwLFxuICAnYXJpYS1wbGFjZWhvbGRlcic6IDAsXG4gICdhcmlhLXByZXNzZWQnOiAwLFxuICAnYXJpYS1yZWFkb25seSc6IDAsXG4gICdhcmlhLXJlcXVpcmVkJzogMCxcbiAgJ2FyaWEtc2VsZWN0ZWQnOiAwLFxuICAnYXJpYS1zb3J0JzogMCxcbiAgJ2FyaWEtdmFsdWVtYXgnOiAwLFxuICAnYXJpYS12YWx1ZW1pbic6IDAsXG4gICdhcmlhLXZhbHVlbm93JzogMCxcbiAgJ2FyaWEtdmFsdWV0ZXh0JzogMCxcbiAgLy8gTGl2ZSBSZWdpb24gQXR0cmlidXRlc1xuICAnYXJpYS1hdG9taWMnOiAwLFxuICAnYXJpYS1idXN5JzogMCxcbiAgJ2FyaWEtbGl2ZSc6IDAsXG4gICdhcmlhLXJlbGV2YW50JzogMCxcbiAgLy8gRHJhZy1hbmQtRHJvcCBBdHRyaWJ1dGVzXG4gICdhcmlhLWRyb3BlZmZlY3QnOiAwLFxuICAnYXJpYS1ncmFiYmVkJzogMCxcbiAgLy8gUmVsYXRpb25zaGlwIEF0dHJpYnV0ZXNcbiAgJ2FyaWEtYWN0aXZlZGVzY2VuZGFudCc6IDAsXG4gICdhcmlhLWNvbGNvdW50JzogMCxcbiAgJ2FyaWEtY29saW5kZXgnOiAwLFxuICAnYXJpYS1jb2xzcGFuJzogMCxcbiAgJ2FyaWEtY29udHJvbHMnOiAwLFxuICAnYXJpYS1kZXNjcmliZWRieSc6IDAsXG4gICdhcmlhLWVycm9ybWVzc2FnZSc6IDAsXG4gICdhcmlhLWZsb3d0byc6IDAsXG4gICdhcmlhLWxhYmVsbGVkYnknOiAwLFxuICAnYXJpYS1vd25zJzogMCxcbiAgJ2FyaWEtcG9zaW5zZXQnOiAwLFxuICAnYXJpYS1yb3djb3VudCc6IDAsXG4gICdhcmlhLXJvd2luZGV4JzogMCxcbiAgJ2FyaWEtcm93c3Bhbic6IDAsXG4gICdhcmlhLXNldHNpemUnOiAwXG59O1xuXG52YXIgd2FybmVkUHJvcGVydGllcyA9IHt9O1xudmFyIHJBUklBID0gbmV3IFJlZ0V4cCgnXihhcmlhKS1bJyArIEFUVFJJQlVURV9OQU1FX0NIQVIgKyAnXSokJyk7XG52YXIgckFSSUFDYW1lbCA9IG5ldyBSZWdFeHAoJ14oYXJpYSlbQS1aXVsnICsgQVRUUklCVVRFX05BTUVfQ0hBUiArICddKiQnKTtcblxudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuZnVuY3Rpb24gZ2V0U3RhY2tBZGRlbmR1bSgpIHtcbiAgdmFyIHN0YWNrID0gUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRTdGFja0FkZGVuZHVtKCk7XG4gIHJldHVybiBzdGFjayAhPSBudWxsID8gc3RhY2sgOiAnJztcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0eSh0YWdOYW1lLCBuYW1lKSB7XG4gIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHdhcm5lZFByb3BlcnRpZXMsIG5hbWUpICYmIHdhcm5lZFByb3BlcnRpZXNbbmFtZV0pIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChyQVJJQUNhbWVsLnRlc3QobmFtZSkpIHtcbiAgICB2YXIgYXJpYU5hbWUgPSAnYXJpYS0nICsgbmFtZS5zbGljZSg0KS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhciBjb3JyZWN0TmFtZSA9IGFyaWFQcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KGFyaWFOYW1lKSA/IGFyaWFOYW1lIDogbnVsbDtcblxuICAgIC8vIElmIHRoaXMgaXMgYW4gYXJpYS0qIGF0dHJpYnV0ZSwgYnV0IGlzIG5vdCBsaXN0ZWQgaW4gdGhlIGtub3duIERPTVxuICAgIC8vIERPTSBwcm9wZXJ0aWVzLCB0aGVuIGl0IGlzIGFuIGludmFsaWQgYXJpYS0qIGF0dHJpYnV0ZS5cbiAgICBpZiAoY29ycmVjdE5hbWUgPT0gbnVsbCkge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ0ludmFsaWQgQVJJQSBhdHRyaWJ1dGUgYCVzYC4gQVJJQSBhdHRyaWJ1dGVzIGZvbGxvdyB0aGUgcGF0dGVybiBhcmlhLSogYW5kIG11c3QgYmUgbG93ZXJjYXNlLiVzJywgbmFtZSwgZ2V0U3RhY2tBZGRlbmR1bSgpKTtcbiAgICAgIHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIGFyaWEtKiBhdHRyaWJ1dGVzIHNob3VsZCBiZSBsb3dlcmNhc2U7IHN1Z2dlc3QgdGhlIGxvd2VyY2FzZSB2ZXJzaW9uLlxuICAgIGlmIChuYW1lICE9PSBjb3JyZWN0TmFtZSkge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ0ludmFsaWQgQVJJQSBhdHRyaWJ1dGUgYCVzYC4gRGlkIHlvdSBtZWFuIGAlc2A/JXMnLCBuYW1lLCBjb3JyZWN0TmFtZSwgZ2V0U3RhY2tBZGRlbmR1bSgpKTtcbiAgICAgIHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKHJBUklBLnRlc3QobmFtZSkpIHtcbiAgICB2YXIgbG93ZXJDYXNlZE5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFyIHN0YW5kYXJkTmFtZSA9IGFyaWFQcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KGxvd2VyQ2FzZWROYW1lKSA/IGxvd2VyQ2FzZWROYW1lIDogbnVsbDtcblxuICAgIC8vIElmIHRoaXMgaXMgYW4gYXJpYS0qIGF0dHJpYnV0ZSwgYnV0IGlzIG5vdCBsaXN0ZWQgaW4gdGhlIGtub3duIERPTVxuICAgIC8vIERPTSBwcm9wZXJ0aWVzLCB0aGVuIGl0IGlzIGFuIGludmFsaWQgYXJpYS0qIGF0dHJpYnV0ZS5cbiAgICBpZiAoc3RhbmRhcmROYW1lID09IG51bGwpIHtcbiAgICAgIHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBhcmlhLSogYXR0cmlidXRlcyBzaG91bGQgYmUgbG93ZXJjYXNlOyBzdWdnZXN0IHRoZSBsb3dlcmNhc2UgdmVyc2lvbi5cbiAgICBpZiAobmFtZSAhPT0gc3RhbmRhcmROYW1lKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnVW5rbm93biBBUklBIGF0dHJpYnV0ZSBgJXNgLiBEaWQgeW91IG1lYW4gYCVzYD8lcycsIG5hbWUsIHN0YW5kYXJkTmFtZSwgZ2V0U3RhY2tBZGRlbmR1bSgpKTtcbiAgICAgIHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHdhcm5JbnZhbGlkQVJJQVByb3BzKHR5cGUsIHByb3BzKSB7XG4gIHZhciBpbnZhbGlkUHJvcHMgPSBbXTtcblxuICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcbiAgICB2YXIgaXNWYWxpZCA9IHZhbGlkYXRlUHJvcGVydHkodHlwZSwga2V5KTtcbiAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgIGludmFsaWRQcm9wcy5wdXNoKGtleSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHVua25vd25Qcm9wU3RyaW5nID0gaW52YWxpZFByb3BzLm1hcChmdW5jdGlvbiAocHJvcCkge1xuICAgIHJldHVybiAnYCcgKyBwcm9wICsgJ2AnO1xuICB9KS5qb2luKCcsICcpO1xuXG4gIGlmIChpbnZhbGlkUHJvcHMubGVuZ3RoID09PSAxKSB7XG4gICAgd2FybmluZyhmYWxzZSwgJ0ludmFsaWQgYXJpYSBwcm9wICVzIG9uIDwlcz4gdGFnLiAnICsgJ0ZvciBkZXRhaWxzLCBzZWUgaHR0cHM6Ly9mYi5tZS9pbnZhbGlkLWFyaWEtcHJvcCVzJywgdW5rbm93blByb3BTdHJpbmcsIHR5cGUsIGdldFN0YWNrQWRkZW5kdW0oKSk7XG4gIH0gZWxzZSBpZiAoaW52YWxpZFByb3BzLmxlbmd0aCA+IDEpIHtcbiAgICB3YXJuaW5nKGZhbHNlLCAnSW52YWxpZCBhcmlhIHByb3BzICVzIG9uIDwlcz4gdGFnLiAnICsgJ0ZvciBkZXRhaWxzLCBzZWUgaHR0cHM6Ly9mYi5tZS9pbnZhbGlkLWFyaWEtcHJvcCVzJywgdW5rbm93blByb3BTdHJpbmcsIHR5cGUsIGdldFN0YWNrQWRkZW5kdW0oKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0aWVzKHR5cGUsIHByb3BzKSB7XG4gIGlmIChpc0N1c3RvbUNvbXBvbmVudCh0eXBlLCBwcm9wcykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgd2FybkludmFsaWRBUklBUHJvcHModHlwZSwgcHJvcHMpO1xufVxuXG52YXIgZGlkV2FyblZhbHVlTnVsbCA9IGZhbHNlO1xuXG5mdW5jdGlvbiBnZXRTdGFja0FkZGVuZHVtJDEoKSB7XG4gIHZhciBzdGFjayA9IFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0U3RhY2tBZGRlbmR1bSgpO1xuICByZXR1cm4gc3RhY2sgIT0gbnVsbCA/IHN0YWNrIDogJyc7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcGVydGllcyQxKHR5cGUsIHByb3BzKSB7XG4gIGlmICh0eXBlICE9PSAnaW5wdXQnICYmIHR5cGUgIT09ICd0ZXh0YXJlYScgJiYgdHlwZSAhPT0gJ3NlbGVjdCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAocHJvcHMgIT0gbnVsbCAmJiBwcm9wcy52YWx1ZSA9PT0gbnVsbCAmJiAhZGlkV2FyblZhbHVlTnVsbCkge1xuICAgIGRpZFdhcm5WYWx1ZU51bGwgPSB0cnVlO1xuICAgIGlmICh0eXBlID09PSAnc2VsZWN0JyAmJiBwcm9wcy5tdWx0aXBsZSkge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ2B2YWx1ZWAgcHJvcCBvbiBgJXNgIHNob3VsZCBub3QgYmUgbnVsbC4gJyArICdDb25zaWRlciB1c2luZyBhbiBlbXB0eSBhcnJheSB3aGVuIGBtdWx0aXBsZWAgaXMgc2V0IHRvIGB0cnVlYCAnICsgJ3RvIGNsZWFyIHRoZSBjb21wb25lbnQgb3IgYHVuZGVmaW5lZGAgZm9yIHVuY29udHJvbGxlZCBjb21wb25lbnRzLiVzJywgdHlwZSwgZ2V0U3RhY2tBZGRlbmR1bSQxKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnYHZhbHVlYCBwcm9wIG9uIGAlc2Agc2hvdWxkIG5vdCBiZSBudWxsLiAnICsgJ0NvbnNpZGVyIHVzaW5nIGFuIGVtcHR5IHN0cmluZyB0byBjbGVhciB0aGUgY29tcG9uZW50IG9yIGB1bmRlZmluZWRgICcgKyAnZm9yIHVuY29udHJvbGxlZCBjb21wb25lbnRzLiVzJywgdHlwZSwgZ2V0U3RhY2tBZGRlbmR1bSQxKCkpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRTdGFja0FkZGVuZHVtJDIoKSB7XG4gIHZhciBzdGFjayA9IFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0U3RhY2tBZGRlbmR1bSgpO1xuICByZXR1cm4gc3RhY2sgIT0gbnVsbCA/IHN0YWNrIDogJyc7XG59XG5cbnZhciB2YWxpZGF0ZVByb3BlcnR5JDEgPSBmdW5jdGlvbiAoKSB7fTtcblxue1xuICB2YXIgd2FybmVkUHJvcGVydGllcyQxID0ge307XG4gIHZhciBfaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuICB2YXIgRVZFTlRfTkFNRV9SRUdFWCA9IC9eb24uLztcbiAgdmFyIElOVkFMSURfRVZFTlRfTkFNRV9SRUdFWCA9IC9eb25bXkEtWl0vO1xuICB2YXIgckFSSUEkMSA9IG5ldyBSZWdFeHAoJ14oYXJpYSktWycgKyBBVFRSSUJVVEVfTkFNRV9DSEFSICsgJ10qJCcpO1xuICB2YXIgckFSSUFDYW1lbCQxID0gbmV3IFJlZ0V4cCgnXihhcmlhKVtBLVpdWycgKyBBVFRSSUJVVEVfTkFNRV9DSEFSICsgJ10qJCcpO1xuXG4gIHZhbGlkYXRlUHJvcGVydHkkMSA9IGZ1bmN0aW9uICh0YWdOYW1lLCBuYW1lLCB2YWx1ZSwgY2FuVXNlRXZlbnRTeXN0ZW0pIHtcbiAgICBpZiAoX2hhc093blByb3BlcnR5LmNhbGwod2FybmVkUHJvcGVydGllcyQxLCBuYW1lKSAmJiB3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBsb3dlckNhc2VkTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAobG93ZXJDYXNlZE5hbWUgPT09ICdvbmZvY3VzaW4nIHx8IGxvd2VyQ2FzZWROYW1lID09PSAnb25mb2N1c291dCcpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdSZWFjdCB1c2VzIG9uRm9jdXMgYW5kIG9uQmx1ciBpbnN0ZWFkIG9mIG9uRm9jdXNJbiBhbmQgb25Gb2N1c091dC4gJyArICdBbGwgUmVhY3QgZXZlbnRzIGFyZSBub3JtYWxpemVkIHRvIGJ1YmJsZSwgc28gb25Gb2N1c0luIGFuZCBvbkZvY3VzT3V0ICcgKyAnYXJlIG5vdCBuZWVkZWQvc3VwcG9ydGVkIGJ5IFJlYWN0LicpO1xuICAgICAgd2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIFdlIGNhbid0IHJlbHkgb24gdGhlIGV2ZW50IHN5c3RlbSBiZWluZyBpbmplY3RlZCBvbiB0aGUgc2VydmVyLlxuICAgIGlmIChjYW5Vc2VFdmVudFN5c3RlbSkge1xuICAgICAgaWYgKHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIHJlZ2lzdHJhdGlvbk5hbWUgPSBwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzLmhhc093blByb3BlcnR5KGxvd2VyQ2FzZWROYW1lKSA/IHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXNbbG93ZXJDYXNlZE5hbWVdIDogbnVsbDtcbiAgICAgIGlmIChyZWdpc3RyYXRpb25OYW1lICE9IG51bGwpIHtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJ0ludmFsaWQgZXZlbnQgaGFuZGxlciBwcm9wZXJ0eSBgJXNgLiBEaWQgeW91IG1lYW4gYCVzYD8lcycsIG5hbWUsIHJlZ2lzdHJhdGlvbk5hbWUsIGdldFN0YWNrQWRkZW5kdW0kMigpKTtcbiAgICAgICAgd2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoRVZFTlRfTkFNRV9SRUdFWC50ZXN0KG5hbWUpKSB7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICdVbmtub3duIGV2ZW50IGhhbmRsZXIgcHJvcGVydHkgYCVzYC4gSXQgd2lsbCBiZSBpZ25vcmVkLiVzJywgbmFtZSwgZ2V0U3RhY2tBZGRlbmR1bSQyKCkpO1xuICAgICAgICB3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSB0cnVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKEVWRU5UX05BTUVfUkVHRVgudGVzdChuYW1lKSkge1xuICAgICAgLy8gSWYgbm8gZXZlbnQgcGx1Z2lucyBoYXZlIGJlZW4gaW5qZWN0ZWQsIHdlIGFyZSBpbiBhIHNlcnZlciBlbnZpcm9ubWVudC5cbiAgICAgIC8vIFNvIHdlIGNhbid0IHRlbGwgaWYgdGhlIGV2ZW50IG5hbWUgaXMgY29ycmVjdCBmb3Igc3VyZSwgYnV0IHdlIGNhbiBmaWx0ZXJcbiAgICAgIC8vIG91dCBrbm93biBiYWQgb25lcyBsaWtlIGBvbmNsaWNrYC4gV2UgY2FuJ3Qgc3VnZ2VzdCBhIHNwZWNpZmljIHJlcGxhY2VtZW50IHRob3VnaC5cbiAgICAgIGlmIChJTlZBTElEX0VWRU5UX05BTUVfUkVHRVgudGVzdChuYW1lKSkge1xuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnSW52YWxpZCBldmVudCBoYW5kbGVyIHByb3BlcnR5IGAlc2AuICcgKyAnUmVhY3QgZXZlbnRzIHVzZSB0aGUgY2FtZWxDYXNlIG5hbWluZyBjb252ZW50aW9uLCBmb3IgZXhhbXBsZSBgb25DbGlja2AuJXMnLCBuYW1lLCBnZXRTdGFja0FkZGVuZHVtJDIoKSk7XG4gICAgICB9XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gTGV0IHRoZSBBUklBIGF0dHJpYnV0ZSBob29rIHZhbGlkYXRlIEFSSUEgYXR0cmlidXRlc1xuICAgIGlmIChyQVJJQSQxLnRlc3QobmFtZSkgfHwgckFSSUFDYW1lbCQxLnRlc3QobmFtZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChsb3dlckNhc2VkTmFtZSA9PT0gJ2lubmVyaHRtbCcpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdEaXJlY3RseSBzZXR0aW5nIHByb3BlcnR5IGBpbm5lckhUTUxgIGlzIG5vdCBwZXJtaXR0ZWQuICcgKyAnRm9yIG1vcmUgaW5mb3JtYXRpb24sIGxvb2t1cCBkb2N1bWVudGF0aW9uIG9uIGBkYW5nZXJvdXNseVNldElubmVySFRNTGAuJyk7XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGxvd2VyQ2FzZWROYW1lID09PSAnYXJpYScpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdUaGUgYGFyaWFgIGF0dHJpYnV0ZSBpcyByZXNlcnZlZCBmb3IgZnV0dXJlIHVzZSBpbiBSZWFjdC4gJyArICdQYXNzIGluZGl2aWR1YWwgYGFyaWEtYCBhdHRyaWJ1dGVzIGluc3RlYWQuJyk7XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGxvd2VyQ2FzZWROYW1lID09PSAnaXMnICYmIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ1JlY2VpdmVkIGEgYCVzYCBmb3IgYSBzdHJpbmcgYXR0cmlidXRlIGBpc2AuIElmIHRoaXMgaXMgZXhwZWN0ZWQsIGNhc3QgJyArICd0aGUgdmFsdWUgdG8gYSBzdHJpbmcuJXMnLCB0eXBlb2YgdmFsdWUsIGdldFN0YWNrQWRkZW5kdW0kMigpKTtcbiAgICAgIHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXSA9IHRydWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiBpc05hTih2YWx1ZSkpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdSZWNlaXZlZCBOYU4gZm9yIHRoZSBgJXNgIGF0dHJpYnV0ZS4gSWYgdGhpcyBpcyBleHBlY3RlZCwgY2FzdCAnICsgJ3RoZSB2YWx1ZSB0byBhIHN0cmluZy4lcycsIG5hbWUsIGdldFN0YWNrQWRkZW5kdW0kMigpKTtcbiAgICAgIHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXSA9IHRydWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgcHJvcGVydHlJbmZvID0gZ2V0UHJvcGVydHlJbmZvKG5hbWUpO1xuICAgIHZhciBpc1Jlc2VydmVkID0gcHJvcGVydHlJbmZvICE9PSBudWxsICYmIHByb3BlcnR5SW5mby50eXBlID09PSBSRVNFUlZFRDtcblxuICAgIC8vIEtub3duIGF0dHJpYnV0ZXMgc2hvdWxkIG1hdGNoIHRoZSBjYXNpbmcgc3BlY2lmaWVkIGluIHRoZSBwcm9wZXJ0eSBjb25maWcuXG4gICAgaWYgKHBvc3NpYmxlU3RhbmRhcmROYW1lcy5oYXNPd25Qcm9wZXJ0eShsb3dlckNhc2VkTmFtZSkpIHtcbiAgICAgIHZhciBzdGFuZGFyZE5hbWUgPSBwb3NzaWJsZVN0YW5kYXJkTmFtZXNbbG93ZXJDYXNlZE5hbWVdO1xuICAgICAgaWYgKHN0YW5kYXJkTmFtZSAhPT0gbmFtZSkge1xuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnSW52YWxpZCBET00gcHJvcGVydHkgYCVzYC4gRGlkIHlvdSBtZWFuIGAlc2A/JXMnLCBuYW1lLCBzdGFuZGFyZE5hbWUsIGdldFN0YWNrQWRkZW5kdW0kMigpKTtcbiAgICAgICAgd2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghaXNSZXNlcnZlZCAmJiBuYW1lICE9PSBsb3dlckNhc2VkTmFtZSkge1xuICAgICAgLy8gVW5rbm93biBhdHRyaWJ1dGVzIHNob3VsZCBoYXZlIGxvd2VyY2FzZSBjYXNpbmcgc2luY2UgdGhhdCdzIGhvdyB0aGV5XG4gICAgICAvLyB3aWxsIGJlIGNhc2VkIGFueXdheSB3aXRoIHNlcnZlciByZW5kZXJpbmcuXG4gICAgICB3YXJuaW5nKGZhbHNlLCAnUmVhY3QgZG9lcyBub3QgcmVjb2duaXplIHRoZSBgJXNgIHByb3Agb24gYSBET00gZWxlbWVudC4gSWYgeW91ICcgKyAnaW50ZW50aW9uYWxseSB3YW50IGl0IHRvIGFwcGVhciBpbiB0aGUgRE9NIGFzIGEgY3VzdG9tICcgKyAnYXR0cmlidXRlLCBzcGVsbCBpdCBhcyBsb3dlcmNhc2UgYCVzYCBpbnN0ZWFkLiAnICsgJ0lmIHlvdSBhY2NpZGVudGFsbHkgcGFzc2VkIGl0IGZyb20gYSBwYXJlbnQgY29tcG9uZW50LCByZW1vdmUgJyArICdpdCBmcm9tIHRoZSBET00gZWxlbWVudC4lcycsIG5hbWUsIGxvd2VyQ2FzZWROYW1lLCBnZXRTdGFja0FkZGVuZHVtJDIoKSk7XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nICYmIHNob3VsZFJlbW92ZUF0dHJpYnV0ZVdpdGhXYXJuaW5nKG5hbWUsIHZhbHVlLCBwcm9wZXJ0eUluZm8sIGZhbHNlKSkge1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICdSZWNlaXZlZCBgJXNgIGZvciBhIG5vbi1ib29sZWFuIGF0dHJpYnV0ZSBgJXNgLlxcblxcbicgKyAnSWYgeW91IHdhbnQgdG8gd3JpdGUgaXQgdG8gdGhlIERPTSwgcGFzcyBhIHN0cmluZyBpbnN0ZWFkOiAnICsgJyVzPVwiJXNcIiBvciAlcz17dmFsdWUudG9TdHJpbmcoKX0uJXMnLCB2YWx1ZSwgbmFtZSwgbmFtZSwgdmFsdWUsIG5hbWUsIGdldFN0YWNrQWRkZW5kdW0kMigpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICdSZWNlaXZlZCBgJXNgIGZvciBhIG5vbi1ib29sZWFuIGF0dHJpYnV0ZSBgJXNgLlxcblxcbicgKyAnSWYgeW91IHdhbnQgdG8gd3JpdGUgaXQgdG8gdGhlIERPTSwgcGFzcyBhIHN0cmluZyBpbnN0ZWFkOiAnICsgJyVzPVwiJXNcIiBvciAlcz17dmFsdWUudG9TdHJpbmcoKX0uXFxuXFxuJyArICdJZiB5b3UgdXNlZCB0byBjb25kaXRpb25hbGx5IG9taXQgaXQgd2l0aCAlcz17Y29uZGl0aW9uICYmIHZhbHVlfSwgJyArICdwYXNzICVzPXtjb25kaXRpb24gPyB2YWx1ZSA6IHVuZGVmaW5lZH0gaW5zdGVhZC4lcycsIHZhbHVlLCBuYW1lLCBuYW1lLCB2YWx1ZSwgbmFtZSwgbmFtZSwgbmFtZSwgZ2V0U3RhY2tBZGRlbmR1bSQyKCkpO1xuICAgICAgfVxuICAgICAgd2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIE5vdyB0aGF0IHdlJ3ZlIHZhbGlkYXRlZCBjYXNpbmcsIGRvIG5vdCB2YWxpZGF0ZVxuICAgIC8vIGRhdGEgdHlwZXMgZm9yIHJlc2VydmVkIHByb3BzXG4gICAgaWYgKGlzUmVzZXJ2ZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIFdhcm4gd2hlbiBhIGtub3duIGF0dHJpYnV0ZSBpcyBhIGJhZCB0eXBlXG4gICAgaWYgKHNob3VsZFJlbW92ZUF0dHJpYnV0ZVdpdGhXYXJuaW5nKG5hbWUsIHZhbHVlLCBwcm9wZXJ0eUluZm8sIGZhbHNlKSkge1xuICAgICAgd2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbn1cblxudmFyIHdhcm5Vbmtub3duUHJvcGVydGllcyA9IGZ1bmN0aW9uICh0eXBlLCBwcm9wcywgY2FuVXNlRXZlbnRTeXN0ZW0pIHtcbiAgdmFyIHVua25vd25Qcm9wcyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcbiAgICB2YXIgaXNWYWxpZCA9IHZhbGlkYXRlUHJvcGVydHkkMSh0eXBlLCBrZXksIHByb3BzW2tleV0sIGNhblVzZUV2ZW50U3lzdGVtKTtcbiAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgIHVua25vd25Qcm9wcy5wdXNoKGtleSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHVua25vd25Qcm9wU3RyaW5nID0gdW5rbm93blByb3BzLm1hcChmdW5jdGlvbiAocHJvcCkge1xuICAgIHJldHVybiAnYCcgKyBwcm9wICsgJ2AnO1xuICB9KS5qb2luKCcsICcpO1xuICBpZiAodW5rbm93blByb3BzLmxlbmd0aCA9PT0gMSkge1xuICAgIHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIHZhbHVlIGZvciBwcm9wICVzIG9uIDwlcz4gdGFnLiBFaXRoZXIgcmVtb3ZlIGl0IGZyb20gdGhlIGVsZW1lbnQsICcgKyAnb3IgcGFzcyBhIHN0cmluZyBvciBudW1iZXIgdmFsdWUgdG8ga2VlcCBpdCBpbiB0aGUgRE9NLiAnICsgJ0ZvciBkZXRhaWxzLCBzZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC1hdHRyaWJ1dGUtYmVoYXZpb3IlcycsIHVua25vd25Qcm9wU3RyaW5nLCB0eXBlLCBnZXRTdGFja0FkZGVuZHVtJDIoKSk7XG4gIH0gZWxzZSBpZiAodW5rbm93blByb3BzLmxlbmd0aCA+IDEpIHtcbiAgICB3YXJuaW5nKGZhbHNlLCAnSW52YWxpZCB2YWx1ZXMgZm9yIHByb3BzICVzIG9uIDwlcz4gdGFnLiBFaXRoZXIgcmVtb3ZlIHRoZW0gZnJvbSB0aGUgZWxlbWVudCwgJyArICdvciBwYXNzIGEgc3RyaW5nIG9yIG51bWJlciB2YWx1ZSB0byBrZWVwIHRoZW0gaW4gdGhlIERPTS4gJyArICdGb3IgZGV0YWlscywgc2VlIGh0dHBzOi8vZmIubWUvcmVhY3QtYXR0cmlidXRlLWJlaGF2aW9yJXMnLCB1bmtub3duUHJvcFN0cmluZywgdHlwZSwgZ2V0U3RhY2tBZGRlbmR1bSQyKCkpO1xuICB9XG59O1xuXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BlcnRpZXMkMih0eXBlLCBwcm9wcywgY2FuVXNlRXZlbnRTeXN0ZW0pIHtcbiAgaWYgKGlzQ3VzdG9tQ29tcG9uZW50KHR5cGUsIHByb3BzKSkge1xuICAgIHJldHVybjtcbiAgfVxuICB3YXJuVW5rbm93blByb3BlcnRpZXModHlwZSwgcHJvcHMsIGNhblVzZUV2ZW50U3lzdGVtKTtcbn1cblxuLy8gVE9ETzogZGlyZWN0IGltcG9ydHMgbGlrZSBzb21lLXBhY2thZ2Uvc3JjLyogYXJlIGJhZC4gRml4IG1lLlxudmFyIGdldEN1cnJlbnRGaWJlck93bmVyTmFtZSQyID0gUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5nZXRDdXJyZW50RmliZXJPd25lck5hbWU7XG52YXIgZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQzID0gUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5nZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtO1xuXG52YXIgZGlkV2FybkludmFsaWRIeWRyYXRpb24gPSBmYWxzZTtcbnZhciBkaWRXYXJuU2hhZHlET00gPSBmYWxzZTtcblxudmFyIERBTkdFUk9VU0xZX1NFVF9JTk5FUl9IVE1MID0gJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJztcbnZhciBTVVBQUkVTU19DT05URU5UX0VESVRBQkxFX1dBUk5JTkcgPSAnc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nJztcbnZhciBTVVBQUkVTU19IWURSQVRJT05fV0FSTklORyQxID0gJ3N1cHByZXNzSHlkcmF0aW9uV2FybmluZyc7XG52YXIgQVVUT0ZPQ1VTID0gJ2F1dG9Gb2N1cyc7XG52YXIgQ0hJTERSRU4gPSAnY2hpbGRyZW4nO1xudmFyIFNUWUxFID0gJ3N0eWxlJztcbnZhciBIVE1MID0gJ19faHRtbCc7XG5cbnZhciBIVE1MX05BTUVTUEFDRSA9IE5hbWVzcGFjZXMuaHRtbDtcblxuXG52YXIgZ2V0U3RhY2sgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zKCcnKTtcblxudmFyIHdhcm5lZFVua25vd25UYWdzID0gdm9pZCAwO1xudmFyIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZyA9IHZvaWQgMDtcblxudmFyIHZhbGlkYXRlUHJvcGVydGllc0luRGV2ZWxvcG1lbnQgPSB2b2lkIDA7XG52YXIgd2FybkZvclRleHREaWZmZXJlbmNlID0gdm9pZCAwO1xudmFyIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZSA9IHZvaWQgMDtcbnZhciB3YXJuRm9yRXh0cmFBdHRyaWJ1dGVzID0gdm9pZCAwO1xudmFyIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lciA9IHZvaWQgMDtcblxudmFyIG5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZSA9IHZvaWQgMDtcbnZhciBub3JtYWxpemVIVE1MID0gdm9pZCAwO1xuXG57XG4gIGdldFN0YWNrID0gZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQzO1xuXG4gIHdhcm5lZFVua25vd25UYWdzID0ge1xuICAgIC8vIENocm9tZSBpcyB0aGUgb25seSBtYWpvciBicm93c2VyIG5vdCBzaGlwcGluZyA8dGltZT4uIEJ1dCBhcyBvZiBKdWx5XG4gICAgLy8gMjAxNyBpdCBpbnRlbmRzIHRvIHNoaXAgaXQgZHVlIHRvIHdpZGVzcHJlYWQgdXNhZ2UuIFdlIGludGVudGlvbmFsbHlcbiAgICAvLyAqZG9uJ3QqIHdhcm4gZm9yIDx0aW1lPiBldmVuIGlmIGl0J3MgdW5yZWNvZ25pemVkIGJ5IENocm9tZSBiZWNhdXNlXG4gICAgLy8gaXQgc29vbiB3aWxsIGJlLCBhbmQgbWFueSBhcHBzIGhhdmUgYmVlbiB1c2luZyBpdCBhbnl3YXkuXG4gICAgdGltZTogdHJ1ZSxcbiAgICAvLyBUaGVyZSBhcmUgd29ya2luZyBwb2x5ZmlsbHMgZm9yIDxkaWFsb2c+LiBMZXQgcGVvcGxlIHVzZSBpdC5cbiAgICBkaWFsb2c6IHRydWVcbiAgfTtcblxuICB2YWxpZGF0ZVByb3BlcnRpZXNJbkRldmVsb3BtZW50ID0gZnVuY3Rpb24gKHR5cGUsIHByb3BzKSB7XG4gICAgdmFsaWRhdGVQcm9wZXJ0aWVzKHR5cGUsIHByb3BzKTtcbiAgICB2YWxpZGF0ZVByb3BlcnRpZXMkMSh0eXBlLCBwcm9wcyk7XG4gICAgdmFsaWRhdGVQcm9wZXJ0aWVzJDIodHlwZSwgcHJvcHMsIC8qIGNhblVzZUV2ZW50U3lzdGVtICovdHJ1ZSk7XG4gIH07XG5cbiAgLy8gSFRNTCBwYXJzaW5nIG5vcm1hbGl6ZXMgQ1IgYW5kIENSTEYgdG8gTEYuXG4gIC8vIEl0IGFsc28gY2FuIHR1cm4gXFx1MDAwMCBpbnRvIFxcdUZGRkQgaW5zaWRlIGF0dHJpYnV0ZXMuXG4gIC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9zaW5nbGUtcGFnZS5odG1sI3ByZXByb2Nlc3NpbmctdGhlLWlucHV0LXN0cmVhbVxuICAvLyBJZiB3ZSBoYXZlIGEgbWlzbWF0Y2gsIGl0IG1pZ2h0IGJlIGNhdXNlZCBieSB0aGF0LlxuICAvLyBXZSB3aWxsIHN0aWxsIHBhdGNoIHVwIGluIHRoaXMgY2FzZSBidXQgbm90IGZpcmUgdGhlIHdhcm5pbmcuXG4gIHZhciBOT1JNQUxJWkVfTkVXTElORVNfUkVHRVggPSAvXFxyXFxuPy9nO1xuICB2YXIgTk9STUFMSVpFX05VTExfQU5EX1JFUExBQ0VNRU5UX1JFR0VYID0gL1xcdTAwMDB8XFx1RkZGRC9nO1xuXG4gIG5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChtYXJrdXApIHtcbiAgICB2YXIgbWFya3VwU3RyaW5nID0gdHlwZW9mIG1hcmt1cCA9PT0gJ3N0cmluZycgPyBtYXJrdXAgOiAnJyArIG1hcmt1cDtcbiAgICByZXR1cm4gbWFya3VwU3RyaW5nLnJlcGxhY2UoTk9STUFMSVpFX05FV0xJTkVTX1JFR0VYLCAnXFxuJykucmVwbGFjZShOT1JNQUxJWkVfTlVMTF9BTkRfUkVQTEFDRU1FTlRfUkVHRVgsICcnKTtcbiAgfTtcblxuICB3YXJuRm9yVGV4dERpZmZlcmVuY2UgPSBmdW5jdGlvbiAoc2VydmVyVGV4dCwgY2xpZW50VGV4dCkge1xuICAgIGlmIChkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgbm9ybWFsaXplZENsaWVudFRleHQgPSBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUoY2xpZW50VGV4dCk7XG4gICAgdmFyIG5vcm1hbGl6ZWRTZXJ2ZXJUZXh0ID0gbm9ybWFsaXplTWFya3VwRm9yVGV4dE9yQXR0cmlidXRlKHNlcnZlclRleHQpO1xuICAgIGlmIChub3JtYWxpemVkU2VydmVyVGV4dCA9PT0gbm9ybWFsaXplZENsaWVudFRleHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGlkV2FybkludmFsaWRIeWRyYXRpb24gPSB0cnVlO1xuICAgIHdhcm5pbmcoZmFsc2UsICdUZXh0IGNvbnRlbnQgZGlkIG5vdCBtYXRjaC4gU2VydmVyOiBcIiVzXCIgQ2xpZW50OiBcIiVzXCInLCBub3JtYWxpemVkU2VydmVyVGV4dCwgbm9ybWFsaXplZENsaWVudFRleHQpO1xuICB9O1xuXG4gIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZSA9IGZ1bmN0aW9uIChwcm9wTmFtZSwgc2VydmVyVmFsdWUsIGNsaWVudFZhbHVlKSB7XG4gICAgaWYgKGRpZFdhcm5JbnZhbGlkSHlkcmF0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBub3JtYWxpemVkQ2xpZW50VmFsdWUgPSBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUoY2xpZW50VmFsdWUpO1xuICAgIHZhciBub3JtYWxpemVkU2VydmVyVmFsdWUgPSBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUoc2VydmVyVmFsdWUpO1xuICAgIGlmIChub3JtYWxpemVkU2VydmVyVmFsdWUgPT09IG5vcm1hbGl6ZWRDbGllbnRWYWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbiA9IHRydWU7XG4gICAgd2FybmluZyhmYWxzZSwgJ1Byb3AgYCVzYCBkaWQgbm90IG1hdGNoLiBTZXJ2ZXI6ICVzIENsaWVudDogJXMnLCBwcm9wTmFtZSwgSlNPTi5zdHJpbmdpZnkobm9ybWFsaXplZFNlcnZlclZhbHVlKSwgSlNPTi5zdHJpbmdpZnkobm9ybWFsaXplZENsaWVudFZhbHVlKSk7XG4gIH07XG5cbiAgd2FybkZvckV4dHJhQXR0cmlidXRlcyA9IGZ1bmN0aW9uIChhdHRyaWJ1dGVOYW1lcykge1xuICAgIGlmIChkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbiA9IHRydWU7XG4gICAgdmFyIG5hbWVzID0gW107XG4gICAgYXR0cmlidXRlTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgbmFtZXMucHVzaChuYW1lKTtcbiAgICB9KTtcbiAgICB3YXJuaW5nKGZhbHNlLCAnRXh0cmEgYXR0cmlidXRlcyBmcm9tIHRoZSBzZXJ2ZXI6ICVzJywgbmFtZXMpO1xuICB9O1xuXG4gIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChyZWdpc3RyYXRpb25OYW1lLCBsaXN0ZW5lcikge1xuICAgIGlmIChsaXN0ZW5lciA9PT0gZmFsc2UpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdFeHBlY3RlZCBgJXNgIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24sIGluc3RlYWQgZ290IGBmYWxzZWAuXFxuXFxuJyArICdJZiB5b3UgdXNlZCB0byBjb25kaXRpb25hbGx5IG9taXQgaXQgd2l0aCAlcz17Y29uZGl0aW9uICYmIHZhbHVlfSwgJyArICdwYXNzICVzPXtjb25kaXRpb24gPyB2YWx1ZSA6IHVuZGVmaW5lZH0gaW5zdGVhZC4lcycsIHJlZ2lzdHJhdGlvbk5hbWUsIHJlZ2lzdHJhdGlvbk5hbWUsIHJlZ2lzdHJhdGlvbk5hbWUsIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMygpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ0V4cGVjdGVkIGAlc2AgbGlzdGVuZXIgdG8gYmUgYSBmdW5jdGlvbiwgaW5zdGVhZCBnb3QgYSB2YWx1ZSBvZiBgJXNgIHR5cGUuJXMnLCByZWdpc3RyYXRpb25OYW1lLCB0eXBlb2YgbGlzdGVuZXIsIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMygpKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gUGFyc2UgdGhlIEhUTUwgYW5kIHJlYWQgaXQgYmFjayB0byBub3JtYWxpemUgdGhlIEhUTUwgc3RyaW5nIHNvIHRoYXQgaXRcbiAgLy8gY2FuIGJlIHVzZWQgZm9yIGNvbXBhcmlzb24uXG4gIG5vcm1hbGl6ZUhUTUwgPSBmdW5jdGlvbiAocGFyZW50LCBodG1sKSB7XG4gICAgLy8gV2UgY291bGQgaGF2ZSBjcmVhdGVkIGEgc2VwYXJhdGUgZG9jdW1lbnQgaGVyZSB0byBhdm9pZFxuICAgIC8vIHJlLWluaXRpYWxpemluZyBjdXN0b20gZWxlbWVudHMgaWYgdGhleSBleGlzdC4gQnV0IHRoaXMgYnJlYWtzXG4gICAgLy8gaG93IDxub3NjcmlwdD4gaXMgYmVpbmcgaGFuZGxlZC4gU28gd2UgdXNlIHRoZSBzYW1lIGRvY3VtZW50LlxuICAgIC8vIFNlZSB0aGUgZGlzY3Vzc2lvbiBpbiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8xMTE1Ny5cbiAgICB2YXIgdGVzdEVsZW1lbnQgPSBwYXJlbnQubmFtZXNwYWNlVVJJID09PSBIVE1MX05BTUVTUEFDRSA/IHBhcmVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQocGFyZW50LnRhZ05hbWUpIDogcGFyZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHBhcmVudC5uYW1lc3BhY2VVUkksIHBhcmVudC50YWdOYW1lKTtcbiAgICB0ZXN0RWxlbWVudC5pbm5lckhUTUwgPSBodG1sO1xuICAgIHJldHVybiB0ZXN0RWxlbWVudC5pbm5lckhUTUw7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGVuc3VyZUxpc3RlbmluZ1RvKHJvb3RDb250YWluZXJFbGVtZW50LCByZWdpc3RyYXRpb25OYW1lKSB7XG4gIHZhciBpc0RvY3VtZW50T3JGcmFnbWVudCA9IHJvb3RDb250YWluZXJFbGVtZW50Lm5vZGVUeXBlID09PSBET0NVTUVOVF9OT0RFIHx8IHJvb3RDb250YWluZXJFbGVtZW50Lm5vZGVUeXBlID09PSBET0NVTUVOVF9GUkFHTUVOVF9OT0RFO1xuICB2YXIgZG9jID0gaXNEb2N1bWVudE9yRnJhZ21lbnQgPyByb290Q29udGFpbmVyRWxlbWVudCA6IHJvb3RDb250YWluZXJFbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gIGxpc3RlblRvKHJlZ2lzdHJhdGlvbk5hbWUsIGRvYyk7XG59XG5cbmZ1bmN0aW9uIGdldE93bmVyRG9jdW1lbnRGcm9tUm9vdENvbnRhaW5lcihyb290Q29udGFpbmVyRWxlbWVudCkge1xuICByZXR1cm4gcm9vdENvbnRhaW5lckVsZW1lbnQubm9kZVR5cGUgPT09IERPQ1VNRU5UX05PREUgPyByb290Q29udGFpbmVyRWxlbWVudCA6IHJvb3RDb250YWluZXJFbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG59XG5cbmZ1bmN0aW9uIHRyYXBDbGlja09uTm9uSW50ZXJhY3RpdmVFbGVtZW50KG5vZGUpIHtcbiAgLy8gTW9iaWxlIFNhZmFyaSBkb2VzIG5vdCBmaXJlIHByb3Blcmx5IGJ1YmJsZSBjbGljayBldmVudHMgb25cbiAgLy8gbm9uLWludGVyYWN0aXZlIGVsZW1lbnRzLCB3aGljaCBtZWFucyBkZWxlZ2F0ZWQgY2xpY2sgbGlzdGVuZXJzIGRvIG5vdFxuICAvLyBmaXJlLiBUaGUgd29ya2Fyb3VuZCBmb3IgdGhpcyBidWcgaW52b2x2ZXMgYXR0YWNoaW5nIGFuIGVtcHR5IGNsaWNrXG4gIC8vIGxpc3RlbmVyIG9uIHRoZSB0YXJnZXQgbm9kZS5cbiAgLy8gaHR0cDovL3d3dy5xdWlya3Ntb2RlLm9yZy9ibG9nL2FyY2hpdmVzLzIwMTAvMDkvY2xpY2tfZXZlbnRfZGVsLmh0bWxcbiAgLy8gSnVzdCBzZXQgaXQgdXNpbmcgdGhlIG9uY2xpY2sgcHJvcGVydHkgc28gdGhhdCB3ZSBkb24ndCBoYXZlIHRvIG1hbmFnZSBhbnlcbiAgLy8gYm9va2tlZXBpbmcgZm9yIGl0LiBOb3Qgc3VyZSBpZiB3ZSBuZWVkIHRvIGNsZWFyIGl0IHdoZW4gdGhlIGxpc3RlbmVyIGlzXG4gIC8vIHJlbW92ZWQuXG4gIC8vIFRPRE86IE9ubHkgZG8gdGhpcyBmb3IgdGhlIHJlbGV2YW50IFNhZmFyaXMgbWF5YmU/XG4gIG5vZGUub25jbGljayA9IGVtcHR5RnVuY3Rpb247XG59XG5cbmZ1bmN0aW9uIHNldEluaXRpYWxET01Qcm9wZXJ0aWVzKHRhZywgZG9tRWxlbWVudCwgcm9vdENvbnRhaW5lckVsZW1lbnQsIG5leHRQcm9wcywgaXNDdXN0b21Db21wb25lbnRUYWcpIHtcbiAgZm9yICh2YXIgcHJvcEtleSBpbiBuZXh0UHJvcHMpIHtcbiAgICBpZiAoIW5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHZhciBuZXh0UHJvcCA9IG5leHRQcm9wc1twcm9wS2V5XTtcbiAgICBpZiAocHJvcEtleSA9PT0gU1RZTEUpIHtcbiAgICAgIHtcbiAgICAgICAgaWYgKG5leHRQcm9wKSB7XG4gICAgICAgICAgLy8gRnJlZXplIHRoZSBuZXh0IHN0eWxlIG9iamVjdCBzbyB0aGF0IHdlIGNhbiBhc3N1bWUgaXQgd29uJ3QgYmVcbiAgICAgICAgICAvLyBtdXRhdGVkLiBXZSBoYXZlIGFscmVhZHkgd2FybmVkIGZvciB0aGlzIGluIHRoZSBwYXN0LlxuICAgICAgICAgIE9iamVjdC5mcmVlemUobmV4dFByb3ApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBSZWxpZXMgb24gYHVwZGF0ZVN0eWxlc0J5SURgIG5vdCBtdXRhdGluZyBgc3R5bGVVcGRhdGVzYC5cbiAgICAgIHNldFZhbHVlRm9yU3R5bGVzKGRvbUVsZW1lbnQsIG5leHRQcm9wLCBnZXRTdGFjayk7XG4gICAgfSBlbHNlIGlmIChwcm9wS2V5ID09PSBEQU5HRVJPVVNMWV9TRVRfSU5ORVJfSFRNTCkge1xuICAgICAgdmFyIG5leHRIdG1sID0gbmV4dFByb3AgPyBuZXh0UHJvcFtIVE1MXSA6IHVuZGVmaW5lZDtcbiAgICAgIGlmIChuZXh0SHRtbCAhPSBudWxsKSB7XG4gICAgICAgIHNldElubmVySFRNTChkb21FbGVtZW50LCBuZXh0SHRtbCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwcm9wS2V5ID09PSBDSElMRFJFTikge1xuICAgICAgaWYgKHR5cGVvZiBuZXh0UHJvcCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gQXZvaWQgc2V0dGluZyBpbml0aWFsIHRleHRDb250ZW50IHdoZW4gdGhlIHRleHQgaXMgZW1wdHkuIEluIElFMTEgc2V0dGluZ1xuICAgICAgICAvLyB0ZXh0Q29udGVudCBvbiBhIDx0ZXh0YXJlYT4gd2lsbCBjYXVzZSB0aGUgcGxhY2Vob2xkZXIgdG8gbm90XG4gICAgICAgIC8vIHNob3cgd2l0aGluIHRoZSA8dGV4dGFyZWE+IHVudGlsIGl0IGhhcyBiZWVuIGZvY3VzZWQgYW5kIGJsdXJyZWQgYWdhaW4uXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvNjczMSNpc3N1ZWNvbW1lbnQtMjU0ODc0NTUzXG4gICAgICAgIHZhciBjYW5TZXRUZXh0Q29udGVudCA9IHRhZyAhPT0gJ3RleHRhcmVhJyB8fCBuZXh0UHJvcCAhPT0gJyc7XG4gICAgICAgIGlmIChjYW5TZXRUZXh0Q29udGVudCkge1xuICAgICAgICAgIHNldFRleHRDb250ZW50KGRvbUVsZW1lbnQsIG5leHRQcm9wKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbmV4dFByb3AgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHNldFRleHRDb250ZW50KGRvbUVsZW1lbnQsICcnICsgbmV4dFByb3ApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gU1VQUFJFU1NfQ09OVEVOVF9FRElUQUJMRV9XQVJOSU5HIHx8IHByb3BLZXkgPT09IFNVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HJDEpIHtcbiAgICAgIC8vIE5vb3BcbiAgICB9IGVsc2UgaWYgKHByb3BLZXkgPT09IEFVVE9GT0NVUykge1xuICAgICAgLy8gV2UgcG9seWZpbGwgaXQgc2VwYXJhdGVseSBvbiB0aGUgY2xpZW50IGR1cmluZyBjb21taXQuXG4gICAgICAvLyBXZSBibGFja2xpc3QgaXQgaGVyZSByYXRoZXIgdGhhbiBpbiB0aGUgcHJvcGVydHkgbGlzdCBiZWNhdXNlIHdlIGVtaXQgaXQgaW4gU1NSLlxuICAgIH0gZWxzZSBpZiAocmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgIGlmIChuZXh0UHJvcCAhPSBudWxsKSB7XG4gICAgICAgIGlmICh0cnVlICYmIHR5cGVvZiBuZXh0UHJvcCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lcihwcm9wS2V5LCBuZXh0UHJvcCk7XG4gICAgICAgIH1cbiAgICAgICAgZW5zdXJlTGlzdGVuaW5nVG8ocm9vdENvbnRhaW5lckVsZW1lbnQsIHByb3BLZXkpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobmV4dFByb3AgIT0gbnVsbCkge1xuICAgICAgc2V0VmFsdWVGb3JQcm9wZXJ0eShkb21FbGVtZW50LCBwcm9wS2V5LCBuZXh0UHJvcCwgaXNDdXN0b21Db21wb25lbnRUYWcpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVET01Qcm9wZXJ0aWVzKGRvbUVsZW1lbnQsIHVwZGF0ZVBheWxvYWQsIHdhc0N1c3RvbUNvbXBvbmVudFRhZywgaXNDdXN0b21Db21wb25lbnRUYWcpIHtcbiAgLy8gVE9ETzogSGFuZGxlIHdhc0N1c3RvbUNvbXBvbmVudFRhZ1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHVwZGF0ZVBheWxvYWQubGVuZ3RoOyBpICs9IDIpIHtcbiAgICB2YXIgcHJvcEtleSA9IHVwZGF0ZVBheWxvYWRbaV07XG4gICAgdmFyIHByb3BWYWx1ZSA9IHVwZGF0ZVBheWxvYWRbaSArIDFdO1xuICAgIGlmIChwcm9wS2V5ID09PSBTVFlMRSkge1xuICAgICAgc2V0VmFsdWVGb3JTdHlsZXMoZG9tRWxlbWVudCwgcHJvcFZhbHVlLCBnZXRTdGFjayk7XG4gICAgfSBlbHNlIGlmIChwcm9wS2V5ID09PSBEQU5HRVJPVVNMWV9TRVRfSU5ORVJfSFRNTCkge1xuICAgICAgc2V0SW5uZXJIVE1MKGRvbUVsZW1lbnQsIHByb3BWYWx1ZSk7XG4gICAgfSBlbHNlIGlmIChwcm9wS2V5ID09PSBDSElMRFJFTikge1xuICAgICAgc2V0VGV4dENvbnRlbnQoZG9tRWxlbWVudCwgcHJvcFZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VmFsdWVGb3JQcm9wZXJ0eShkb21FbGVtZW50LCBwcm9wS2V5LCBwcm9wVmFsdWUsIGlzQ3VzdG9tQ29tcG9uZW50VGFnKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCQxKHR5cGUsIHByb3BzLCByb290Q29udGFpbmVyRWxlbWVudCwgcGFyZW50TmFtZXNwYWNlKSB7XG4gIHZhciBpc0N1c3RvbUNvbXBvbmVudFRhZyA9IHZvaWQgMDtcblxuICAvLyBXZSBjcmVhdGUgdGFncyBpbiB0aGUgbmFtZXNwYWNlIG9mIHRoZWlyIHBhcmVudCBjb250YWluZXIsIGV4Y2VwdCBIVE1MXG4gIC8vIHRhZ3MgZ2V0IG5vIG5hbWVzcGFjZS5cbiAgdmFyIG93bmVyRG9jdW1lbnQgPSBnZXRPd25lckRvY3VtZW50RnJvbVJvb3RDb250YWluZXIocm9vdENvbnRhaW5lckVsZW1lbnQpO1xuICB2YXIgZG9tRWxlbWVudCA9IHZvaWQgMDtcbiAgdmFyIG5hbWVzcGFjZVVSSSA9IHBhcmVudE5hbWVzcGFjZTtcbiAgaWYgKG5hbWVzcGFjZVVSSSA9PT0gSFRNTF9OQU1FU1BBQ0UpIHtcbiAgICBuYW1lc3BhY2VVUkkgPSBnZXRJbnRyaW5zaWNOYW1lc3BhY2UodHlwZSk7XG4gIH1cbiAgaWYgKG5hbWVzcGFjZVVSSSA9PT0gSFRNTF9OQU1FU1BBQ0UpIHtcbiAgICB7XG4gICAgICBpc0N1c3RvbUNvbXBvbmVudFRhZyA9IGlzQ3VzdG9tQ29tcG9uZW50KHR5cGUsIHByb3BzKTtcbiAgICAgIC8vIFNob3VsZCB0aGlzIGNoZWNrIGJlIGdhdGVkIGJ5IHBhcmVudCBuYW1lc3BhY2U/IE5vdCBzdXJlIHdlIHdhbnQgdG9cbiAgICAgIC8vIGFsbG93IDxTVkc+IG9yIDxtQVRIPi5cbiAgICAgIHdhcm5pbmcoaXNDdXN0b21Db21wb25lbnRUYWcgfHwgdHlwZSA9PT0gdHlwZS50b0xvd2VyQ2FzZSgpLCAnPCVzIC8+IGlzIHVzaW5nIHVwcGVyY2FzZSBIVE1MLiBBbHdheXMgdXNlIGxvd2VyY2FzZSBIVE1MIHRhZ3MgJyArICdpbiBSZWFjdC4nLCB0eXBlKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gJ3NjcmlwdCcpIHtcbiAgICAgIC8vIENyZWF0ZSB0aGUgc2NyaXB0IHZpYSAuaW5uZXJIVE1MIHNvIGl0cyBcInBhcnNlci1pbnNlcnRlZFwiIGZsYWcgaXNcbiAgICAgIC8vIHNldCB0byB0cnVlIGFuZCBpdCBkb2VzIG5vdCBleGVjdXRlXG4gICAgICB2YXIgZGl2ID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGRpdi5pbm5lckhUTUwgPSAnPHNjcmlwdD48JyArICcvc2NyaXB0Pic7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgIC8vIFRoaXMgaXMgZ3VhcmFudGVlZCB0byB5aWVsZCBhIHNjcmlwdCBlbGVtZW50LlxuICAgICAgdmFyIGZpcnN0Q2hpbGQgPSBkaXYuZmlyc3RDaGlsZDtcbiAgICAgIGRvbUVsZW1lbnQgPSBkaXYucmVtb3ZlQ2hpbGQoZmlyc3RDaGlsZCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcHJvcHMuaXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyAkRmxvd0lzc3VlIGBjcmVhdGVFbGVtZW50YCBzaG91bGQgYmUgdXBkYXRlZCBmb3IgV2ViIENvbXBvbmVudHNcbiAgICAgIGRvbUVsZW1lbnQgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSwgeyBpczogcHJvcHMuaXMgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNlcGFyYXRlIGVsc2UgYnJhbmNoIGluc3RlYWQgb2YgdXNpbmcgYHByb3BzLmlzIHx8IHVuZGVmaW5lZGAgYWJvdmUgYmVjYXVzZSBvZiBhIEZpcmVmb3ggYnVnLlxuICAgICAgLy8gU2VlIGRpc2N1c3Npb24gaW4gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L3B1bGwvNjg5NlxuICAgICAgLy8gYW5kIGRpc2N1c3Npb24gaW4gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTI3NjI0MFxuICAgICAgZG9tRWxlbWVudCA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZG9tRWxlbWVudCA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5hbWVzcGFjZVVSSSwgdHlwZSk7XG4gIH1cblxuICB7XG4gICAgaWYgKG5hbWVzcGFjZVVSSSA9PT0gSFRNTF9OQU1FU1BBQ0UpIHtcbiAgICAgIGlmICghaXNDdXN0b21Db21wb25lbnRUYWcgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGRvbUVsZW1lbnQpID09PSAnW29iamVjdCBIVE1MVW5rbm93bkVsZW1lbnRdJyAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHdhcm5lZFVua25vd25UYWdzLCB0eXBlKSkge1xuICAgICAgICB3YXJuZWRVbmtub3duVGFnc1t0eXBlXSA9IHRydWU7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICdUaGUgdGFnIDwlcz4gaXMgdW5yZWNvZ25pemVkIGluIHRoaXMgYnJvd3Nlci4gJyArICdJZiB5b3UgbWVhbnQgdG8gcmVuZGVyIGEgUmVhY3QgY29tcG9uZW50LCBzdGFydCBpdHMgbmFtZSB3aXRoICcgKyAnYW4gdXBwZXJjYXNlIGxldHRlci4nLCB0eXBlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZG9tRWxlbWVudDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVGV4dE5vZGUkMSh0ZXh0LCByb290Q29udGFpbmVyRWxlbWVudCkge1xuICByZXR1cm4gZ2V0T3duZXJEb2N1bWVudEZyb21Sb290Q29udGFpbmVyKHJvb3RDb250YWluZXJFbGVtZW50KS5jcmVhdGVUZXh0Tm9kZSh0ZXh0KTtcbn1cblxuZnVuY3Rpb24gc2V0SW5pdGlhbFByb3BlcnRpZXMkMShkb21FbGVtZW50LCB0YWcsIHJhd1Byb3BzLCByb290Q29udGFpbmVyRWxlbWVudCkge1xuICB2YXIgaXNDdXN0b21Db21wb25lbnRUYWcgPSBpc0N1c3RvbUNvbXBvbmVudCh0YWcsIHJhd1Byb3BzKTtcbiAge1xuICAgIHZhbGlkYXRlUHJvcGVydGllc0luRGV2ZWxvcG1lbnQodGFnLCByYXdQcm9wcyk7XG4gICAgaWYgKGlzQ3VzdG9tQ29tcG9uZW50VGFnICYmICFkaWRXYXJuU2hhZHlET00gJiYgZG9tRWxlbWVudC5zaGFkeVJvb3QpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICclcyBpcyB1c2luZyBzaGFkeSBET00uIFVzaW5nIHNoYWR5IERPTSB3aXRoIFJlYWN0IGNhbiAnICsgJ2NhdXNlIHRoaW5ncyB0byBicmVhayBzdWJ0bHkuJywgZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lJDIoKSB8fCAnQSBjb21wb25lbnQnKTtcbiAgICAgIGRpZFdhcm5TaGFkeURPTSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgLy8gVE9ETzogTWFrZSBzdXJlIHRoYXQgd2UgY2hlY2sgaXNNb3VudGVkIGJlZm9yZSBmaXJpbmcgYW55IG9mIHRoZXNlIGV2ZW50cy5cbiAgdmFyIHByb3BzID0gdm9pZCAwO1xuICBzd2l0Y2ggKHRhZykge1xuICAgIGNhc2UgJ2lmcmFtZSc6XG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIHRyYXBCdWJibGVkRXZlbnQoJ3RvcExvYWQnLCAnbG9hZCcsIGRvbUVsZW1lbnQpO1xuICAgICAgcHJvcHMgPSByYXdQcm9wcztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3ZpZGVvJzpcbiAgICBjYXNlICdhdWRpbyc6XG4gICAgICAvLyBDcmVhdGUgbGlzdGVuZXIgZm9yIGVhY2ggbWVkaWEgZXZlbnRcbiAgICAgIGZvciAodmFyIGV2ZW50IGluIG1lZGlhRXZlbnRUeXBlcykge1xuICAgICAgICBpZiAobWVkaWFFdmVudFR5cGVzLmhhc093blByb3BlcnR5KGV2ZW50KSkge1xuICAgICAgICAgIHRyYXBCdWJibGVkRXZlbnQoZXZlbnQsIG1lZGlhRXZlbnRUeXBlc1tldmVudF0sIGRvbUVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwcm9wcyA9IHJhd1Byb3BzO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc291cmNlJzpcbiAgICAgIHRyYXBCdWJibGVkRXZlbnQoJ3RvcEVycm9yJywgJ2Vycm9yJywgZG9tRWxlbWVudCk7XG4gICAgICBwcm9wcyA9IHJhd1Byb3BzO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaW1nJzpcbiAgICBjYXNlICdpbWFnZSc6XG4gICAgY2FzZSAnbGluayc6XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KCd0b3BFcnJvcicsICdlcnJvcicsIGRvbUVsZW1lbnQpO1xuICAgICAgdHJhcEJ1YmJsZWRFdmVudCgndG9wTG9hZCcsICdsb2FkJywgZG9tRWxlbWVudCk7XG4gICAgICBwcm9wcyA9IHJhd1Byb3BzO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZm9ybSc6XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KCd0b3BSZXNldCcsICdyZXNldCcsIGRvbUVsZW1lbnQpO1xuICAgICAgdHJhcEJ1YmJsZWRFdmVudCgndG9wU3VibWl0JywgJ3N1Ym1pdCcsIGRvbUVsZW1lbnQpO1xuICAgICAgcHJvcHMgPSByYXdQcm9wcztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2RldGFpbHMnOlxuICAgICAgdHJhcEJ1YmJsZWRFdmVudCgndG9wVG9nZ2xlJywgJ3RvZ2dsZScsIGRvbUVsZW1lbnQpO1xuICAgICAgcHJvcHMgPSByYXdQcm9wcztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgIGluaXRXcmFwcGVyU3RhdGUoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgcHJvcHMgPSBnZXRIb3N0UHJvcHMoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgdHJhcEJ1YmJsZWRFdmVudCgndG9wSW52YWxpZCcsICdpbnZhbGlkJywgZG9tRWxlbWVudCk7XG4gICAgICAvLyBGb3IgY29udHJvbGxlZCBjb21wb25lbnRzIHdlIGFsd2F5cyBuZWVkIHRvIGVuc3VyZSB3ZSdyZSBsaXN0ZW5pbmdcbiAgICAgIC8vIHRvIG9uQ2hhbmdlLiBFdmVuIGlmIHRoZXJlIGlzIG5vIGxpc3RlbmVyLlxuICAgICAgZW5zdXJlTGlzdGVuaW5nVG8ocm9vdENvbnRhaW5lckVsZW1lbnQsICdvbkNoYW5nZScpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnb3B0aW9uJzpcbiAgICAgIHZhbGlkYXRlUHJvcHMoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgcHJvcHMgPSBnZXRIb3N0UHJvcHMkMShkb21FbGVtZW50LCByYXdQcm9wcyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgaW5pdFdyYXBwZXJTdGF0ZSQxKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIHByb3BzID0gZ2V0SG9zdFByb3BzJDIoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgdHJhcEJ1YmJsZWRFdmVudCgndG9wSW52YWxpZCcsICdpbnZhbGlkJywgZG9tRWxlbWVudCk7XG4gICAgICAvLyBGb3IgY29udHJvbGxlZCBjb21wb25lbnRzIHdlIGFsd2F5cyBuZWVkIHRvIGVuc3VyZSB3ZSdyZSBsaXN0ZW5pbmdcbiAgICAgIC8vIHRvIG9uQ2hhbmdlLiBFdmVuIGlmIHRoZXJlIGlzIG5vIGxpc3RlbmVyLlxuICAgICAgZW5zdXJlTGlzdGVuaW5nVG8ocm9vdENvbnRhaW5lckVsZW1lbnQsICdvbkNoYW5nZScpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgaW5pdFdyYXBwZXJTdGF0ZSQyKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIHByb3BzID0gZ2V0SG9zdFByb3BzJDMoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgdHJhcEJ1YmJsZWRFdmVudCgndG9wSW52YWxpZCcsICdpbnZhbGlkJywgZG9tRWxlbWVudCk7XG4gICAgICAvLyBGb3IgY29udHJvbGxlZCBjb21wb25lbnRzIHdlIGFsd2F5cyBuZWVkIHRvIGVuc3VyZSB3ZSdyZSBsaXN0ZW5pbmdcbiAgICAgIC8vIHRvIG9uQ2hhbmdlLiBFdmVuIGlmIHRoZXJlIGlzIG5vIGxpc3RlbmVyLlxuICAgICAgZW5zdXJlTGlzdGVuaW5nVG8ocm9vdENvbnRhaW5lckVsZW1lbnQsICdvbkNoYW5nZScpO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHByb3BzID0gcmF3UHJvcHM7XG4gIH1cblxuICBhc3NlcnRWYWxpZFByb3BzKHRhZywgcHJvcHMsIGdldFN0YWNrKTtcblxuICBzZXRJbml0aWFsRE9NUHJvcGVydGllcyh0YWcsIGRvbUVsZW1lbnQsIHJvb3RDb250YWluZXJFbGVtZW50LCBwcm9wcywgaXNDdXN0b21Db21wb25lbnRUYWcpO1xuXG4gIHN3aXRjaCAodGFnKSB7XG4gICAgY2FzZSAnaW5wdXQnOlxuICAgICAgLy8gVE9ETzogTWFrZSBzdXJlIHdlIGNoZWNrIGlmIHRoaXMgaXMgc3RpbGwgdW5tb3VudGVkIG9yIGRvIGFueSBjbGVhblxuICAgICAgLy8gdXAgbmVjZXNzYXJ5IHNpbmNlIHdlIG5ldmVyIHN0b3AgdHJhY2tpbmcgYW55bW9yZS5cbiAgICAgIHRyYWNrKGRvbUVsZW1lbnQpO1xuICAgICAgcG9zdE1vdW50V3JhcHBlcihkb21FbGVtZW50LCByYXdQcm9wcyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgICAvLyBUT0RPOiBNYWtlIHN1cmUgd2UgY2hlY2sgaWYgdGhpcyBpcyBzdGlsbCB1bm1vdW50ZWQgb3IgZG8gYW55IGNsZWFuXG4gICAgICAvLyB1cCBuZWNlc3Nhcnkgc2luY2Ugd2UgbmV2ZXIgc3RvcCB0cmFja2luZyBhbnltb3JlLlxuICAgICAgdHJhY2soZG9tRWxlbWVudCk7XG4gICAgICBwb3N0TW91bnRXcmFwcGVyJDMoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnb3B0aW9uJzpcbiAgICAgIHBvc3RNb3VudFdyYXBwZXIkMShkb21FbGVtZW50LCByYXdQcm9wcyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgcG9zdE1vdW50V3JhcHBlciQyKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBpZiAodHlwZW9mIHByb3BzLm9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gVE9ETzogVGhpcyBjYXN0IG1heSBub3QgYmUgc291bmQgZm9yIFNWRywgTWF0aE1MIG9yIGN1c3RvbSBlbGVtZW50cy5cbiAgICAgICAgdHJhcENsaWNrT25Ob25JbnRlcmFjdGl2ZUVsZW1lbnQoZG9tRWxlbWVudCk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgfVxufVxuXG4vLyBDYWxjdWxhdGUgdGhlIGRpZmYgYmV0d2VlbiB0aGUgdHdvIG9iamVjdHMuXG5mdW5jdGlvbiBkaWZmUHJvcGVydGllcyQxKGRvbUVsZW1lbnQsIHRhZywgbGFzdFJhd1Byb3BzLCBuZXh0UmF3UHJvcHMsIHJvb3RDb250YWluZXJFbGVtZW50KSB7XG4gIHtcbiAgICB2YWxpZGF0ZVByb3BlcnRpZXNJbkRldmVsb3BtZW50KHRhZywgbmV4dFJhd1Byb3BzKTtcbiAgfVxuXG4gIHZhciB1cGRhdGVQYXlsb2FkID0gbnVsbDtcblxuICB2YXIgbGFzdFByb3BzID0gdm9pZCAwO1xuICB2YXIgbmV4dFByb3BzID0gdm9pZCAwO1xuICBzd2l0Y2ggKHRhZykge1xuICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgIGxhc3RQcm9wcyA9IGdldEhvc3RQcm9wcyhkb21FbGVtZW50LCBsYXN0UmF3UHJvcHMpO1xuICAgICAgbmV4dFByb3BzID0gZ2V0SG9zdFByb3BzKGRvbUVsZW1lbnQsIG5leHRSYXdQcm9wcyk7XG4gICAgICB1cGRhdGVQYXlsb2FkID0gW107XG4gICAgICBicmVhaztcbiAgICBjYXNlICdvcHRpb24nOlxuICAgICAgbGFzdFByb3BzID0gZ2V0SG9zdFByb3BzJDEoZG9tRWxlbWVudCwgbGFzdFJhd1Byb3BzKTtcbiAgICAgIG5leHRQcm9wcyA9IGdldEhvc3RQcm9wcyQxKGRvbUVsZW1lbnQsIG5leHRSYXdQcm9wcyk7XG4gICAgICB1cGRhdGVQYXlsb2FkID0gW107XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgbGFzdFByb3BzID0gZ2V0SG9zdFByb3BzJDIoZG9tRWxlbWVudCwgbGFzdFJhd1Byb3BzKTtcbiAgICAgIG5leHRQcm9wcyA9IGdldEhvc3RQcm9wcyQyKGRvbUVsZW1lbnQsIG5leHRSYXdQcm9wcyk7XG4gICAgICB1cGRhdGVQYXlsb2FkID0gW107XG4gICAgICBicmVhaztcbiAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgICBsYXN0UHJvcHMgPSBnZXRIb3N0UHJvcHMkMyhkb21FbGVtZW50LCBsYXN0UmF3UHJvcHMpO1xuICAgICAgbmV4dFByb3BzID0gZ2V0SG9zdFByb3BzJDMoZG9tRWxlbWVudCwgbmV4dFJhd1Byb3BzKTtcbiAgICAgIHVwZGF0ZVBheWxvYWQgPSBbXTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBsYXN0UHJvcHMgPSBsYXN0UmF3UHJvcHM7XG4gICAgICBuZXh0UHJvcHMgPSBuZXh0UmF3UHJvcHM7XG4gICAgICBpZiAodHlwZW9mIGxhc3RQcm9wcy5vbkNsaWNrICE9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBuZXh0UHJvcHMub25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBUT0RPOiBUaGlzIGNhc3QgbWF5IG5vdCBiZSBzb3VuZCBmb3IgU1ZHLCBNYXRoTUwgb3IgY3VzdG9tIGVsZW1lbnRzLlxuICAgICAgICB0cmFwQ2xpY2tPbk5vbkludGVyYWN0aXZlRWxlbWVudChkb21FbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgYXNzZXJ0VmFsaWRQcm9wcyh0YWcsIG5leHRQcm9wcywgZ2V0U3RhY2spO1xuXG4gIHZhciBwcm9wS2V5ID0gdm9pZCAwO1xuICB2YXIgc3R5bGVOYW1lID0gdm9pZCAwO1xuICB2YXIgc3R5bGVVcGRhdGVzID0gbnVsbDtcbiAgZm9yIChwcm9wS2V5IGluIGxhc3RQcm9wcykge1xuICAgIGlmIChuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkgfHwgIWxhc3RQcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSB8fCBsYXN0UHJvcHNbcHJvcEtleV0gPT0gbnVsbCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChwcm9wS2V5ID09PSBTVFlMRSkge1xuICAgICAgdmFyIGxhc3RTdHlsZSA9IGxhc3RQcm9wc1twcm9wS2V5XTtcbiAgICAgIGZvciAoc3R5bGVOYW1lIGluIGxhc3RTdHlsZSkge1xuICAgICAgICBpZiAobGFzdFN0eWxlLmhhc093blByb3BlcnR5KHN0eWxlTmFtZSkpIHtcbiAgICAgICAgICBpZiAoIXN0eWxlVXBkYXRlcykge1xuICAgICAgICAgICAgc3R5bGVVcGRhdGVzID0ge307XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0eWxlVXBkYXRlc1tzdHlsZU5hbWVdID0gJyc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHByb3BLZXkgPT09IERBTkdFUk9VU0xZX1NFVF9JTk5FUl9IVE1MIHx8IHByb3BLZXkgPT09IENISUxEUkVOKSB7XG4gICAgICAvLyBOb29wLiBUaGlzIGlzIGhhbmRsZWQgYnkgdGhlIGNsZWFyIHRleHQgbWVjaGFuaXNtLlxuICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gU1VQUFJFU1NfQ09OVEVOVF9FRElUQUJMRV9XQVJOSU5HIHx8IHByb3BLZXkgPT09IFNVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HJDEpIHtcbiAgICAgIC8vIE5vb3BcbiAgICB9IGVsc2UgaWYgKHByb3BLZXkgPT09IEFVVE9GT0NVUykge1xuICAgICAgLy8gTm9vcC4gSXQgZG9lc24ndCB3b3JrIG9uIHVwZGF0ZXMgYW55d2F5LlxuICAgIH0gZWxzZSBpZiAocmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgIC8vIFRoaXMgaXMgYSBzcGVjaWFsIGNhc2UuIElmIGFueSBsaXN0ZW5lciB1cGRhdGVzIHdlIG5lZWQgdG8gZW5zdXJlXG4gICAgICAvLyB0aGF0IHRoZSBcImN1cnJlbnRcIiBmaWJlciBwb2ludGVyIGdldHMgdXBkYXRlZCBzbyB3ZSBuZWVkIGEgY29tbWl0XG4gICAgICAvLyB0byB1cGRhdGUgdGhpcyBlbGVtZW50LlxuICAgICAgaWYgKCF1cGRhdGVQYXlsb2FkKSB7XG4gICAgICAgIHVwZGF0ZVBheWxvYWQgPSBbXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRm9yIGFsbCBvdGhlciBkZWxldGVkIHByb3BlcnRpZXMgd2UgYWRkIGl0IHRvIHRoZSBxdWV1ZS4gV2UgdXNlXG4gICAgICAvLyB0aGUgd2hpdGVsaXN0IGluIHRoZSBjb21taXQgcGhhc2UgaW5zdGVhZC5cbiAgICAgICh1cGRhdGVQYXlsb2FkID0gdXBkYXRlUGF5bG9hZCB8fCBbXSkucHVzaChwcm9wS2V5LCBudWxsKTtcbiAgICB9XG4gIH1cbiAgZm9yIChwcm9wS2V5IGluIG5leHRQcm9wcykge1xuICAgIHZhciBuZXh0UHJvcCA9IG5leHRQcm9wc1twcm9wS2V5XTtcbiAgICB2YXIgbGFzdFByb3AgPSBsYXN0UHJvcHMgIT0gbnVsbCA/IGxhc3RQcm9wc1twcm9wS2V5XSA6IHVuZGVmaW5lZDtcbiAgICBpZiAoIW5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSB8fCBuZXh0UHJvcCA9PT0gbGFzdFByb3AgfHwgbmV4dFByb3AgPT0gbnVsbCAmJiBsYXN0UHJvcCA9PSBudWxsKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKHByb3BLZXkgPT09IFNUWUxFKSB7XG4gICAgICB7XG4gICAgICAgIGlmIChuZXh0UHJvcCkge1xuICAgICAgICAgIC8vIEZyZWV6ZSB0aGUgbmV4dCBzdHlsZSBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gYXNzdW1lIGl0IHdvbid0IGJlXG4gICAgICAgICAgLy8gbXV0YXRlZC4gV2UgaGF2ZSBhbHJlYWR5IHdhcm5lZCBmb3IgdGhpcyBpbiB0aGUgcGFzdC5cbiAgICAgICAgICBPYmplY3QuZnJlZXplKG5leHRQcm9wKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxhc3RQcm9wKSB7XG4gICAgICAgIC8vIFVuc2V0IHN0eWxlcyBvbiBgbGFzdFByb3BgIGJ1dCBub3Qgb24gYG5leHRQcm9wYC5cbiAgICAgICAgZm9yIChzdHlsZU5hbWUgaW4gbGFzdFByb3ApIHtcbiAgICAgICAgICBpZiAobGFzdFByb3AuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSAmJiAoIW5leHRQcm9wIHx8ICFuZXh0UHJvcC5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpKSkge1xuICAgICAgICAgICAgaWYgKCFzdHlsZVVwZGF0ZXMpIHtcbiAgICAgICAgICAgICAgc3R5bGVVcGRhdGVzID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHlsZVVwZGF0ZXNbc3R5bGVOYW1lXSA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGUgc3R5bGVzIHRoYXQgY2hhbmdlZCBzaW5jZSBgbGFzdFByb3BgLlxuICAgICAgICBmb3IgKHN0eWxlTmFtZSBpbiBuZXh0UHJvcCkge1xuICAgICAgICAgIGlmIChuZXh0UHJvcC5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpICYmIGxhc3RQcm9wW3N0eWxlTmFtZV0gIT09IG5leHRQcm9wW3N0eWxlTmFtZV0pIHtcbiAgICAgICAgICAgIGlmICghc3R5bGVVcGRhdGVzKSB7XG4gICAgICAgICAgICAgIHN0eWxlVXBkYXRlcyA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3R5bGVVcGRhdGVzW3N0eWxlTmFtZV0gPSBuZXh0UHJvcFtzdHlsZU5hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmVsaWVzIG9uIGB1cGRhdGVTdHlsZXNCeUlEYCBub3QgbXV0YXRpbmcgYHN0eWxlVXBkYXRlc2AuXG4gICAgICAgIGlmICghc3R5bGVVcGRhdGVzKSB7XG4gICAgICAgICAgaWYgKCF1cGRhdGVQYXlsb2FkKSB7XG4gICAgICAgICAgICB1cGRhdGVQYXlsb2FkID0gW107XG4gICAgICAgICAgfVxuICAgICAgICAgIHVwZGF0ZVBheWxvYWQucHVzaChwcm9wS2V5LCBzdHlsZVVwZGF0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIHN0eWxlVXBkYXRlcyA9IG5leHRQcm9wO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gREFOR0VST1VTTFlfU0VUX0lOTkVSX0hUTUwpIHtcbiAgICAgIHZhciBuZXh0SHRtbCA9IG5leHRQcm9wID8gbmV4dFByb3BbSFRNTF0gOiB1bmRlZmluZWQ7XG4gICAgICB2YXIgbGFzdEh0bWwgPSBsYXN0UHJvcCA/IGxhc3RQcm9wW0hUTUxdIDogdW5kZWZpbmVkO1xuICAgICAgaWYgKG5leHRIdG1sICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGxhc3RIdG1sICE9PSBuZXh0SHRtbCkge1xuICAgICAgICAgICh1cGRhdGVQYXlsb2FkID0gdXBkYXRlUGF5bG9hZCB8fCBbXSkucHVzaChwcm9wS2V5LCAnJyArIG5leHRIdG1sKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVE9ETzogSXQgbWlnaHQgYmUgdG9vIGxhdGUgdG8gY2xlYXIgdGhpcyBpZiB3ZSBoYXZlIGNoaWxkcmVuXG4gICAgICAgIC8vIGluc2VydGVkIGFscmVhZHkuXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwcm9wS2V5ID09PSBDSElMRFJFTikge1xuICAgICAgaWYgKGxhc3RQcm9wICE9PSBuZXh0UHJvcCAmJiAodHlwZW9mIG5leHRQcm9wID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgbmV4dFByb3AgPT09ICdudW1iZXInKSkge1xuICAgICAgICAodXBkYXRlUGF5bG9hZCA9IHVwZGF0ZVBheWxvYWQgfHwgW10pLnB1c2gocHJvcEtleSwgJycgKyBuZXh0UHJvcCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwcm9wS2V5ID09PSBTVVBQUkVTU19DT05URU5UX0VESVRBQkxFX1dBUk5JTkcgfHwgcHJvcEtleSA9PT0gU1VQUFJFU1NfSFlEUkFUSU9OX1dBUk5JTkckMSkge1xuICAgICAgLy8gTm9vcFxuICAgIH0gZWxzZSBpZiAocmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgIGlmIChuZXh0UHJvcCAhPSBudWxsKSB7XG4gICAgICAgIC8vIFdlIGVhZ2VybHkgbGlzdGVuIHRvIHRoaXMgZXZlbiB0aG91Z2ggd2UgaGF2ZW4ndCBjb21taXR0ZWQgeWV0LlxuICAgICAgICBpZiAodHJ1ZSAmJiB0eXBlb2YgbmV4dFByb3AgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIocHJvcEtleSwgbmV4dFByb3ApO1xuICAgICAgICB9XG4gICAgICAgIGVuc3VyZUxpc3RlbmluZ1RvKHJvb3RDb250YWluZXJFbGVtZW50LCBwcm9wS2V5KTtcbiAgICAgIH1cbiAgICAgIGlmICghdXBkYXRlUGF5bG9hZCAmJiBsYXN0UHJvcCAhPT0gbmV4dFByb3ApIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIHNwZWNpYWwgY2FzZS4gSWYgYW55IGxpc3RlbmVyIHVwZGF0ZXMgd2UgbmVlZCB0byBlbnN1cmVcbiAgICAgICAgLy8gdGhhdCB0aGUgXCJjdXJyZW50XCIgcHJvcHMgcG9pbnRlciBnZXRzIHVwZGF0ZWQgc28gd2UgbmVlZCBhIGNvbW1pdFxuICAgICAgICAvLyB0byB1cGRhdGUgdGhpcyBlbGVtZW50LlxuICAgICAgICB1cGRhdGVQYXlsb2FkID0gW107XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZvciBhbnkgb3RoZXIgcHJvcGVydHkgd2UgYWx3YXlzIGFkZCBpdCB0byB0aGUgcXVldWUgYW5kIHRoZW4gd2VcbiAgICAgIC8vIGZpbHRlciBpdCBvdXQgdXNpbmcgdGhlIHdoaXRlbGlzdCBkdXJpbmcgdGhlIGNvbW1pdC5cbiAgICAgICh1cGRhdGVQYXlsb2FkID0gdXBkYXRlUGF5bG9hZCB8fCBbXSkucHVzaChwcm9wS2V5LCBuZXh0UHJvcCk7XG4gICAgfVxuICB9XG4gIGlmIChzdHlsZVVwZGF0ZXMpIHtcbiAgICAodXBkYXRlUGF5bG9hZCA9IHVwZGF0ZVBheWxvYWQgfHwgW10pLnB1c2goU1RZTEUsIHN0eWxlVXBkYXRlcyk7XG4gIH1cbiAgcmV0dXJuIHVwZGF0ZVBheWxvYWQ7XG59XG5cbi8vIEFwcGx5IHRoZSBkaWZmLlxuZnVuY3Rpb24gdXBkYXRlUHJvcGVydGllcyQxKGRvbUVsZW1lbnQsIHVwZGF0ZVBheWxvYWQsIHRhZywgbGFzdFJhd1Byb3BzLCBuZXh0UmF3UHJvcHMpIHtcbiAgLy8gVXBkYXRlIGNoZWNrZWQgKmJlZm9yZSogbmFtZS5cbiAgLy8gSW4gdGhlIG1pZGRsZSBvZiBhbiB1cGRhdGUsIGl0IGlzIHBvc3NpYmxlIHRvIGhhdmUgbXVsdGlwbGUgY2hlY2tlZC5cbiAgLy8gV2hlbiBhIGNoZWNrZWQgcmFkaW8gdHJpZXMgdG8gY2hhbmdlIG5hbWUsIGJyb3dzZXIgbWFrZXMgYW5vdGhlciByYWRpbydzIGNoZWNrZWQgZmFsc2UuXG4gIGlmICh0YWcgPT09ICdpbnB1dCcgJiYgbmV4dFJhd1Byb3BzLnR5cGUgPT09ICdyYWRpbycgJiYgbmV4dFJhd1Byb3BzLm5hbWUgIT0gbnVsbCkge1xuICAgIHVwZGF0ZUNoZWNrZWQoZG9tRWxlbWVudCwgbmV4dFJhd1Byb3BzKTtcbiAgfVxuXG4gIHZhciB3YXNDdXN0b21Db21wb25lbnRUYWcgPSBpc0N1c3RvbUNvbXBvbmVudCh0YWcsIGxhc3RSYXdQcm9wcyk7XG4gIHZhciBpc0N1c3RvbUNvbXBvbmVudFRhZyA9IGlzQ3VzdG9tQ29tcG9uZW50KHRhZywgbmV4dFJhd1Byb3BzKTtcbiAgLy8gQXBwbHkgdGhlIGRpZmYuXG4gIHVwZGF0ZURPTVByb3BlcnRpZXMoZG9tRWxlbWVudCwgdXBkYXRlUGF5bG9hZCwgd2FzQ3VzdG9tQ29tcG9uZW50VGFnLCBpc0N1c3RvbUNvbXBvbmVudFRhZyk7XG5cbiAgLy8gVE9ETzogRW5zdXJlIHRoYXQgYW4gdXBkYXRlIGdldHMgc2NoZWR1bGVkIGlmIGFueSBvZiB0aGUgc3BlY2lhbCBwcm9wc1xuICAvLyBjaGFuZ2VkLlxuICBzd2l0Y2ggKHRhZykge1xuICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgIC8vIFVwZGF0ZSB0aGUgd3JhcHBlciBhcm91bmQgaW5wdXRzICphZnRlciogdXBkYXRpbmcgcHJvcHMuIFRoaXMgaGFzIHRvXG4gICAgICAvLyBoYXBwZW4gYWZ0ZXIgYHVwZGF0ZURPTVByb3BlcnRpZXNgLiBPdGhlcndpc2UgSFRNTDUgaW5wdXQgdmFsaWRhdGlvbnNcbiAgICAgIC8vIHJhaXNlIHdhcm5pbmdzIGFuZCBwcmV2ZW50IHRoZSBuZXcgdmFsdWUgZnJvbSBiZWluZyBhc3NpZ25lZC5cbiAgICAgIHVwZGF0ZVdyYXBwZXIoZG9tRWxlbWVudCwgbmV4dFJhd1Byb3BzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgIHVwZGF0ZVdyYXBwZXIkMShkb21FbGVtZW50LCBuZXh0UmF3UHJvcHMpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgIC8vIDxzZWxlY3Q+IHZhbHVlIHVwZGF0ZSBuZWVkcyB0byBvY2N1ciBhZnRlciA8b3B0aW9uPiBjaGlsZHJlblxuICAgICAgLy8gcmVjb25jaWxpYXRpb25cbiAgICAgIHBvc3RVcGRhdGVXcmFwcGVyKGRvbUVsZW1lbnQsIG5leHRSYXdQcm9wcyk7XG4gICAgICBicmVhaztcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRQb3NzaWJsZVN0YW5kYXJkTmFtZShwcm9wTmFtZSkge1xuICB7XG4gICAgdmFyIGxvd2VyQ2FzZWROYW1lID0gcHJvcE5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoIXBvc3NpYmxlU3RhbmRhcmROYW1lcy5oYXNPd25Qcm9wZXJ0eShsb3dlckNhc2VkTmFtZSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gcG9zc2libGVTdGFuZGFyZE5hbWVzW2xvd2VyQ2FzZWROYW1lXSB8fCBudWxsO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBkaWZmSHlkcmF0ZWRQcm9wZXJ0aWVzJDEoZG9tRWxlbWVudCwgdGFnLCByYXdQcm9wcywgcGFyZW50TmFtZXNwYWNlLCByb290Q29udGFpbmVyRWxlbWVudCkge1xuICB2YXIgaXNDdXN0b21Db21wb25lbnRUYWcgPSB2b2lkIDA7XG4gIHZhciBleHRyYUF0dHJpYnV0ZU5hbWVzID0gdm9pZCAwO1xuXG4gIHtcbiAgICBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcgPSByYXdQcm9wc1tTVVBQUkVTU19IWURSQVRJT05fV0FSTklORyQxXSA9PT0gdHJ1ZTtcbiAgICBpc0N1c3RvbUNvbXBvbmVudFRhZyA9IGlzQ3VzdG9tQ29tcG9uZW50KHRhZywgcmF3UHJvcHMpO1xuICAgIHZhbGlkYXRlUHJvcGVydGllc0luRGV2ZWxvcG1lbnQodGFnLCByYXdQcm9wcyk7XG4gICAgaWYgKGlzQ3VzdG9tQ29tcG9uZW50VGFnICYmICFkaWRXYXJuU2hhZHlET00gJiYgZG9tRWxlbWVudC5zaGFkeVJvb3QpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICclcyBpcyB1c2luZyBzaGFkeSBET00uIFVzaW5nIHNoYWR5IERPTSB3aXRoIFJlYWN0IGNhbiAnICsgJ2NhdXNlIHRoaW5ncyB0byBicmVhayBzdWJ0bHkuJywgZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lJDIoKSB8fCAnQSBjb21wb25lbnQnKTtcbiAgICAgIGRpZFdhcm5TaGFkeURPTSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgLy8gVE9ETzogTWFrZSBzdXJlIHRoYXQgd2UgY2hlY2sgaXNNb3VudGVkIGJlZm9yZSBmaXJpbmcgYW55IG9mIHRoZXNlIGV2ZW50cy5cbiAgc3dpdGNoICh0YWcpIHtcbiAgICBjYXNlICdpZnJhbWUnOlxuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KCd0b3BMb2FkJywgJ2xvYWQnLCBkb21FbGVtZW50KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3ZpZGVvJzpcbiAgICBjYXNlICdhdWRpbyc6XG4gICAgICAvLyBDcmVhdGUgbGlzdGVuZXIgZm9yIGVhY2ggbWVkaWEgZXZlbnRcbiAgICAgIGZvciAodmFyIGV2ZW50IGluIG1lZGlhRXZlbnRUeXBlcykge1xuICAgICAgICBpZiAobWVkaWFFdmVudFR5cGVzLmhhc093blByb3BlcnR5KGV2ZW50KSkge1xuICAgICAgICAgIHRyYXBCdWJibGVkRXZlbnQoZXZlbnQsIG1lZGlhRXZlbnRUeXBlc1tldmVudF0sIGRvbUVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzb3VyY2UnOlxuICAgICAgdHJhcEJ1YmJsZWRFdmVudCgndG9wRXJyb3InLCAnZXJyb3InLCBkb21FbGVtZW50KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2ltZyc6XG4gICAgY2FzZSAnaW1hZ2UnOlxuICAgIGNhc2UgJ2xpbmsnOlxuICAgICAgdHJhcEJ1YmJsZWRFdmVudCgndG9wRXJyb3InLCAnZXJyb3InLCBkb21FbGVtZW50KTtcbiAgICAgIHRyYXBCdWJibGVkRXZlbnQoJ3RvcExvYWQnLCAnbG9hZCcsIGRvbUVsZW1lbnQpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZm9ybSc6XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KCd0b3BSZXNldCcsICdyZXNldCcsIGRvbUVsZW1lbnQpO1xuICAgICAgdHJhcEJ1YmJsZWRFdmVudCgndG9wU3VibWl0JywgJ3N1Ym1pdCcsIGRvbUVsZW1lbnQpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZGV0YWlscyc6XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KCd0b3BUb2dnbGUnLCAndG9nZ2xlJywgZG9tRWxlbWVudCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdpbnB1dCc6XG4gICAgICBpbml0V3JhcHBlclN0YXRlKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIHRyYXBCdWJibGVkRXZlbnQoJ3RvcEludmFsaWQnLCAnaW52YWxpZCcsIGRvbUVsZW1lbnQpO1xuICAgICAgLy8gRm9yIGNvbnRyb2xsZWQgY29tcG9uZW50cyB3ZSBhbHdheXMgbmVlZCB0byBlbnN1cmUgd2UncmUgbGlzdGVuaW5nXG4gICAgICAvLyB0byBvbkNoYW5nZS4gRXZlbiBpZiB0aGVyZSBpcyBubyBsaXN0ZW5lci5cbiAgICAgIGVuc3VyZUxpc3RlbmluZ1RvKHJvb3RDb250YWluZXJFbGVtZW50LCAnb25DaGFuZ2UnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ29wdGlvbic6XG4gICAgICB2YWxpZGF0ZVByb3BzKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICBpbml0V3JhcHBlclN0YXRlJDEoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgdHJhcEJ1YmJsZWRFdmVudCgndG9wSW52YWxpZCcsICdpbnZhbGlkJywgZG9tRWxlbWVudCk7XG4gICAgICAvLyBGb3IgY29udHJvbGxlZCBjb21wb25lbnRzIHdlIGFsd2F5cyBuZWVkIHRvIGVuc3VyZSB3ZSdyZSBsaXN0ZW5pbmdcbiAgICAgIC8vIHRvIG9uQ2hhbmdlLiBFdmVuIGlmIHRoZXJlIGlzIG5vIGxpc3RlbmVyLlxuICAgICAgZW5zdXJlTGlzdGVuaW5nVG8ocm9vdENvbnRhaW5lckVsZW1lbnQsICdvbkNoYW5nZScpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgaW5pdFdyYXBwZXJTdGF0ZSQyKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIHRyYXBCdWJibGVkRXZlbnQoJ3RvcEludmFsaWQnLCAnaW52YWxpZCcsIGRvbUVsZW1lbnQpO1xuICAgICAgLy8gRm9yIGNvbnRyb2xsZWQgY29tcG9uZW50cyB3ZSBhbHdheXMgbmVlZCB0byBlbnN1cmUgd2UncmUgbGlzdGVuaW5nXG4gICAgICAvLyB0byBvbkNoYW5nZS4gRXZlbiBpZiB0aGVyZSBpcyBubyBsaXN0ZW5lci5cbiAgICAgIGVuc3VyZUxpc3RlbmluZ1RvKHJvb3RDb250YWluZXJFbGVtZW50LCAnb25DaGFuZ2UnKTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgYXNzZXJ0VmFsaWRQcm9wcyh0YWcsIHJhd1Byb3BzLCBnZXRTdGFjayk7XG5cbiAge1xuICAgIGV4dHJhQXR0cmlidXRlTmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGF0dHJpYnV0ZXMgPSBkb21FbGVtZW50LmF0dHJpYnV0ZXM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbmFtZSA9IGF0dHJpYnV0ZXNbaV0ubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICAgIC8vIEJ1aWx0LWluIFNTUiBhdHRyaWJ1dGUgaXMgd2hpdGVsaXN0ZWRcbiAgICAgICAgY2FzZSAnZGF0YS1yZWFjdHJvb3QnOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyBDb250cm9sbGVkIGF0dHJpYnV0ZXMgYXJlIG5vdCB2YWxpZGF0ZWRcbiAgICAgICAgLy8gVE9ETzogT25seSBpZ25vcmUgdGhlbSBvbiBjb250cm9sbGVkIHRhZ3MuXG4gICAgICAgIGNhc2UgJ3ZhbHVlJzpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY2hlY2tlZCc6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3NlbGVjdGVkJzpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBJbnRlbnRpb25hbGx5IHVzZSB0aGUgb3JpZ2luYWwgbmFtZS5cbiAgICAgICAgICAvLyBTZWUgZGlzY3Vzc2lvbiBpbiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8xMDY3Ni5cbiAgICAgICAgICBleHRyYUF0dHJpYnV0ZU5hbWVzLmFkZChhdHRyaWJ1dGVzW2ldLm5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciB1cGRhdGVQYXlsb2FkID0gbnVsbDtcbiAgZm9yICh2YXIgcHJvcEtleSBpbiByYXdQcm9wcykge1xuICAgIGlmICghcmF3UHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YXIgbmV4dFByb3AgPSByYXdQcm9wc1twcm9wS2V5XTtcbiAgICBpZiAocHJvcEtleSA9PT0gQ0hJTERSRU4pIHtcbiAgICAgIC8vIEZvciB0ZXh0IGNvbnRlbnQgY2hpbGRyZW4gd2UgY29tcGFyZSBhZ2FpbnN0IHRleHRDb250ZW50LiBUaGlzXG4gICAgICAvLyBtaWdodCBtYXRjaCBhZGRpdGlvbmFsIEhUTUwgdGhhdCBpcyBoaWRkZW4gd2hlbiB3ZSByZWFkIGl0IHVzaW5nXG4gICAgICAvLyB0ZXh0Q29udGVudC4gRS5nLiBcImZvb1wiIHdpbGwgbWF0Y2ggXCJmPHNwYW4+b288L3NwYW4+XCIgYnV0IHRoYXQgc3RpbGxcbiAgICAgIC8vIHNhdGlzZmllcyBvdXIgcmVxdWlyZW1lbnQuIE91ciByZXF1aXJlbWVudCBpcyBub3QgdG8gcHJvZHVjZSBwZXJmZWN0XG4gICAgICAvLyBIVE1MIGFuZCBhdHRyaWJ1dGVzLiBJZGVhbGx5IHdlIHNob3VsZCBwcmVzZXJ2ZSBzdHJ1Y3R1cmUgYnV0IGl0J3NcbiAgICAgIC8vIG9rIG5vdCB0byBpZiB0aGUgdmlzaWJsZSBjb250ZW50IGlzIHN0aWxsIGVub3VnaCB0byBpbmRpY2F0ZSB3aGF0XG4gICAgICAvLyBldmVuIGxpc3RlbmVycyB0aGVzZSBub2RlcyBtaWdodCBiZSB3aXJlZCB1cCB0by5cbiAgICAgIC8vIFRPRE86IFdhcm4gaWYgdGhlcmUgaXMgbW9yZSB0aGFuIGEgc2luZ2xlIHRleHROb2RlIGFzIGEgY2hpbGQuXG4gICAgICAvLyBUT0RPOiBTaG91bGQgd2UgdXNlIGRvbUVsZW1lbnQuZmlyc3RDaGlsZC5ub2RlVmFsdWUgdG8gY29tcGFyZT9cbiAgICAgIGlmICh0eXBlb2YgbmV4dFByb3AgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmIChkb21FbGVtZW50LnRleHRDb250ZW50ICE9PSBuZXh0UHJvcCkge1xuICAgICAgICAgIGlmICh0cnVlICYmICFzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcpIHtcbiAgICAgICAgICAgIHdhcm5Gb3JUZXh0RGlmZmVyZW5jZShkb21FbGVtZW50LnRleHRDb250ZW50LCBuZXh0UHJvcCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVwZGF0ZVBheWxvYWQgPSBbQ0hJTERSRU4sIG5leHRQcm9wXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbmV4dFByb3AgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlmIChkb21FbGVtZW50LnRleHRDb250ZW50ICE9PSAnJyArIG5leHRQcm9wKSB7XG4gICAgICAgICAgaWYgKHRydWUgJiYgIXN1cHByZXNzSHlkcmF0aW9uV2FybmluZykge1xuICAgICAgICAgICAgd2FybkZvclRleHREaWZmZXJlbmNlKGRvbUVsZW1lbnQudGV4dENvbnRlbnQsIG5leHRQcm9wKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdXBkYXRlUGF5bG9hZCA9IFtDSElMRFJFTiwgJycgKyBuZXh0UHJvcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICBpZiAobmV4dFByb3AgIT0gbnVsbCkge1xuICAgICAgICBpZiAodHJ1ZSAmJiB0eXBlb2YgbmV4dFByb3AgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIocHJvcEtleSwgbmV4dFByb3ApO1xuICAgICAgICB9XG4gICAgICAgIGVuc3VyZUxpc3RlbmluZ1RvKHJvb3RDb250YWluZXJFbGVtZW50LCBwcm9wS2V5KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRydWUgJiZcbiAgICAvLyBDb252aW5jZSBGbG93IHdlJ3ZlIGNhbGN1bGF0ZWQgaXQgKGl0J3MgREVWLW9ubHkgaW4gdGhpcyBtZXRob2QuKVxuICAgIHR5cGVvZiBpc0N1c3RvbUNvbXBvbmVudFRhZyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAvLyBWYWxpZGF0ZSB0aGF0IHRoZSBwcm9wZXJ0aWVzIGNvcnJlc3BvbmQgdG8gdGhlaXIgZXhwZWN0ZWQgdmFsdWVzLlxuICAgICAgdmFyIHNlcnZlclZhbHVlID0gdm9pZCAwO1xuICAgICAgdmFyIHByb3BlcnR5SW5mbyA9IGdldFByb3BlcnR5SW5mbyhwcm9wS2V5KTtcbiAgICAgIGlmIChzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcpIHtcbiAgICAgICAgLy8gRG9uJ3QgYm90aGVyIGNvbXBhcmluZy4gV2UncmUgaWdub3JpbmcgYWxsIHRoZXNlIHdhcm5pbmdzLlxuICAgICAgfSBlbHNlIGlmIChwcm9wS2V5ID09PSBTVVBQUkVTU19DT05URU5UX0VESVRBQkxFX1dBUk5JTkcgfHwgcHJvcEtleSA9PT0gU1VQUFJFU1NfSFlEUkFUSU9OX1dBUk5JTkckMSB8fFxuICAgICAgLy8gQ29udHJvbGxlZCBhdHRyaWJ1dGVzIGFyZSBub3QgdmFsaWRhdGVkXG4gICAgICAvLyBUT0RPOiBPbmx5IGlnbm9yZSB0aGVtIG9uIGNvbnRyb2xsZWQgdGFncy5cbiAgICAgIHByb3BLZXkgPT09ICd2YWx1ZScgfHwgcHJvcEtleSA9PT0gJ2NoZWNrZWQnIHx8IHByb3BLZXkgPT09ICdzZWxlY3RlZCcpIHtcbiAgICAgICAgLy8gTm9vcFxuICAgICAgfSBlbHNlIGlmIChwcm9wS2V5ID09PSBEQU5HRVJPVVNMWV9TRVRfSU5ORVJfSFRNTCkge1xuICAgICAgICB2YXIgcmF3SHRtbCA9IG5leHRQcm9wID8gbmV4dFByb3BbSFRNTF0gfHwgJycgOiAnJztcbiAgICAgICAgdmFyIHNlcnZlckhUTUwgPSBkb21FbGVtZW50LmlubmVySFRNTDtcbiAgICAgICAgdmFyIGV4cGVjdGVkSFRNTCA9IG5vcm1hbGl6ZUhUTUwoZG9tRWxlbWVudCwgcmF3SHRtbCk7XG4gICAgICAgIGlmIChleHBlY3RlZEhUTUwgIT09IHNlcnZlckhUTUwpIHtcbiAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UocHJvcEtleSwgc2VydmVySFRNTCwgZXhwZWN0ZWRIVE1MKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwcm9wS2V5ID09PSBTVFlMRSkge1xuICAgICAgICAvLyAkRmxvd0ZpeE1lIC0gU2hvdWxkIGJlIGluZmVycmVkIGFzIG5vdCB1bmRlZmluZWQuXG4gICAgICAgIGV4dHJhQXR0cmlidXRlTmFtZXNbJ2RlbGV0ZSddKHByb3BLZXkpO1xuICAgICAgICB2YXIgZXhwZWN0ZWRTdHlsZSA9IGNyZWF0ZURhbmdlcm91c1N0cmluZ0ZvclN0eWxlcyhuZXh0UHJvcCk7XG4gICAgICAgIHNlcnZlclZhbHVlID0gZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICAgIGlmIChleHBlY3RlZFN0eWxlICE9PSBzZXJ2ZXJWYWx1ZSkge1xuICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShwcm9wS2V5LCBzZXJ2ZXJWYWx1ZSwgZXhwZWN0ZWRTdHlsZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNDdXN0b21Db21wb25lbnRUYWcpIHtcbiAgICAgICAgLy8gJEZsb3dGaXhNZSAtIFNob3VsZCBiZSBpbmZlcnJlZCBhcyBub3QgdW5kZWZpbmVkLlxuICAgICAgICBleHRyYUF0dHJpYnV0ZU5hbWVzWydkZWxldGUnXShwcm9wS2V5LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICBzZXJ2ZXJWYWx1ZSA9IGdldFZhbHVlRm9yQXR0cmlidXRlKGRvbUVsZW1lbnQsIHByb3BLZXksIG5leHRQcm9wKTtcblxuICAgICAgICBpZiAobmV4dFByb3AgIT09IHNlcnZlclZhbHVlKSB7XG4gICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKHByb3BLZXksIHNlcnZlclZhbHVlLCBuZXh0UHJvcCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIXNob3VsZElnbm9yZUF0dHJpYnV0ZShwcm9wS2V5LCBwcm9wZXJ0eUluZm8sIGlzQ3VzdG9tQ29tcG9uZW50VGFnKSAmJiAhc2hvdWxkUmVtb3ZlQXR0cmlidXRlKHByb3BLZXksIG5leHRQcm9wLCBwcm9wZXJ0eUluZm8sIGlzQ3VzdG9tQ29tcG9uZW50VGFnKSkge1xuICAgICAgICB2YXIgaXNNaXNtYXRjaER1ZVRvQmFkQ2FzaW5nID0gZmFsc2U7XG4gICAgICAgIGlmIChwcm9wZXJ0eUluZm8gIT09IG51bGwpIHtcbiAgICAgICAgICAvLyAkRmxvd0ZpeE1lIC0gU2hvdWxkIGJlIGluZmVycmVkIGFzIG5vdCB1bmRlZmluZWQuXG4gICAgICAgICAgZXh0cmFBdHRyaWJ1dGVOYW1lc1snZGVsZXRlJ10ocHJvcGVydHlJbmZvLmF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgIHNlcnZlclZhbHVlID0gZ2V0VmFsdWVGb3JQcm9wZXJ0eShkb21FbGVtZW50LCBwcm9wS2V5LCBuZXh0UHJvcCwgcHJvcGVydHlJbmZvKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgb3duTmFtZXNwYWNlID0gcGFyZW50TmFtZXNwYWNlO1xuICAgICAgICAgIGlmIChvd25OYW1lc3BhY2UgPT09IEhUTUxfTkFNRVNQQUNFKSB7XG4gICAgICAgICAgICBvd25OYW1lc3BhY2UgPSBnZXRJbnRyaW5zaWNOYW1lc3BhY2UodGFnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG93bk5hbWVzcGFjZSA9PT0gSFRNTF9OQU1FU1BBQ0UpIHtcbiAgICAgICAgICAgIC8vICRGbG93Rml4TWUgLSBTaG91bGQgYmUgaW5mZXJyZWQgYXMgbm90IHVuZGVmaW5lZC5cbiAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlTmFtZXNbJ2RlbGV0ZSddKHByb3BLZXkudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBzdGFuZGFyZE5hbWUgPSBnZXRQb3NzaWJsZVN0YW5kYXJkTmFtZShwcm9wS2V5KTtcbiAgICAgICAgICAgIGlmIChzdGFuZGFyZE5hbWUgIT09IG51bGwgJiYgc3RhbmRhcmROYW1lICE9PSBwcm9wS2V5KSB7XG4gICAgICAgICAgICAgIC8vIElmIGFuIFNWRyBwcm9wIGlzIHN1cHBsaWVkIHdpdGggYmFkIGNhc2luZywgaXQgd2lsbFxuICAgICAgICAgICAgICAvLyBiZSBzdWNjZXNzZnVsbHkgcGFyc2VkIGZyb20gSFRNTCwgYnV0IHdpbGwgcHJvZHVjZSBhIG1pc21hdGNoXG4gICAgICAgICAgICAgIC8vIChhbmQgd291bGQgYmUgaW5jb3JyZWN0bHkgcmVuZGVyZWQgb24gdGhlIGNsaWVudCkuXG4gICAgICAgICAgICAgIC8vIEhvd2V2ZXIsIHdlIGFscmVhZHkgd2FybiBhYm91dCBiYWQgY2FzaW5nIGVsc2V3aGVyZS5cbiAgICAgICAgICAgICAgLy8gU28gd2UnbGwgc2tpcCB0aGUgbWlzbGVhZGluZyBleHRyYSBtaXNtYXRjaCB3YXJuaW5nIGluIHRoaXMgY2FzZS5cbiAgICAgICAgICAgICAgaXNNaXNtYXRjaER1ZVRvQmFkQ2FzaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZSAtIFNob3VsZCBiZSBpbmZlcnJlZCBhcyBub3QgdW5kZWZpbmVkLlxuICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZU5hbWVzWydkZWxldGUnXShzdGFuZGFyZE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gJEZsb3dGaXhNZSAtIFNob3VsZCBiZSBpbmZlcnJlZCBhcyBub3QgdW5kZWZpbmVkLlxuICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVOYW1lc1snZGVsZXRlJ10ocHJvcEtleSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlcnZlclZhbHVlID0gZ2V0VmFsdWVGb3JBdHRyaWJ1dGUoZG9tRWxlbWVudCwgcHJvcEtleSwgbmV4dFByb3ApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5leHRQcm9wICE9PSBzZXJ2ZXJWYWx1ZSAmJiAhaXNNaXNtYXRjaER1ZVRvQmFkQ2FzaW5nKSB7XG4gICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKHByb3BLZXksIHNlcnZlclZhbHVlLCBuZXh0UHJvcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB7XG4gICAgLy8gJEZsb3dGaXhNZSAtIFNob3VsZCBiZSBpbmZlcnJlZCBhcyBub3QgdW5kZWZpbmVkLlxuICAgIGlmIChleHRyYUF0dHJpYnV0ZU5hbWVzLnNpemUgPiAwICYmICFzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcpIHtcbiAgICAgIC8vICRGbG93Rml4TWUgLSBTaG91bGQgYmUgaW5mZXJyZWQgYXMgbm90IHVuZGVmaW5lZC5cbiAgICAgIHdhcm5Gb3JFeHRyYUF0dHJpYnV0ZXMoZXh0cmFBdHRyaWJ1dGVOYW1lcyk7XG4gICAgfVxuICB9XG5cbiAgc3dpdGNoICh0YWcpIHtcbiAgICBjYXNlICdpbnB1dCc6XG4gICAgICAvLyBUT0RPOiBNYWtlIHN1cmUgd2UgY2hlY2sgaWYgdGhpcyBpcyBzdGlsbCB1bm1vdW50ZWQgb3IgZG8gYW55IGNsZWFuXG4gICAgICAvLyB1cCBuZWNlc3Nhcnkgc2luY2Ugd2UgbmV2ZXIgc3RvcCB0cmFja2luZyBhbnltb3JlLlxuICAgICAgdHJhY2soZG9tRWxlbWVudCk7XG4gICAgICBwb3N0TW91bnRXcmFwcGVyKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgIC8vIFRPRE86IE1ha2Ugc3VyZSB3ZSBjaGVjayBpZiB0aGlzIGlzIHN0aWxsIHVubW91bnRlZCBvciBkbyBhbnkgY2xlYW5cbiAgICAgIC8vIHVwIG5lY2Vzc2FyeSBzaW5jZSB3ZSBuZXZlciBzdG9wIHRyYWNraW5nIGFueW1vcmUuXG4gICAgICB0cmFjayhkb21FbGVtZW50KTtcbiAgICAgIHBvc3RNb3VudFdyYXBwZXIkMyhkb21FbGVtZW50LCByYXdQcm9wcyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxlY3QnOlxuICAgIGNhc2UgJ29wdGlvbic6XG4gICAgICAvLyBGb3IgaW5wdXQgYW5kIHRleHRhcmVhIHdlIGN1cnJlbnQgYWx3YXlzIHNldCB0aGUgdmFsdWUgcHJvcGVydHkgYXRcbiAgICAgIC8vIHBvc3QgbW91bnQgdG8gZm9yY2UgaXQgdG8gZGl2ZXJnZSBmcm9tIGF0dHJpYnV0ZXMuIEhvd2V2ZXIsIGZvclxuICAgICAgLy8gb3B0aW9uIGFuZCBzZWxlY3Qgd2UgZG9uJ3QgcXVpdGUgZG8gdGhlIHNhbWUgdGhpbmcgYW5kIHNlbGVjdFxuICAgICAgLy8gaXMgbm90IHJlc2lsaWVudCB0byB0aGUgRE9NIHN0YXRlIGNoYW5naW5nIHNvIHdlIGRvbid0IGRvIHRoYXQgaGVyZS5cbiAgICAgIC8vIFRPRE86IENvbnNpZGVyIG5vdCBkb2luZyB0aGlzIGZvciBpbnB1dCBhbmQgdGV4dGFyZWEuXG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgaWYgKHR5cGVvZiByYXdQcm9wcy5vbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIFRPRE86IFRoaXMgY2FzdCBtYXkgbm90IGJlIHNvdW5kIGZvciBTVkcsIE1hdGhNTCBvciBjdXN0b20gZWxlbWVudHMuXG4gICAgICAgIHRyYXBDbGlja09uTm9uSW50ZXJhY3RpdmVFbGVtZW50KGRvbUVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gdXBkYXRlUGF5bG9hZDtcbn1cblxuZnVuY3Rpb24gZGlmZkh5ZHJhdGVkVGV4dCQxKHRleHROb2RlLCB0ZXh0KSB7XG4gIHZhciBpc0RpZmZlcmVudCA9IHRleHROb2RlLm5vZGVWYWx1ZSAhPT0gdGV4dDtcbiAgcmV0dXJuIGlzRGlmZmVyZW50O1xufVxuXG5mdW5jdGlvbiB3YXJuRm9yVW5tYXRjaGVkVGV4dCQxKHRleHROb2RlLCB0ZXh0KSB7XG4gIHtcbiAgICB3YXJuRm9yVGV4dERpZmZlcmVuY2UodGV4dE5vZGUubm9kZVZhbHVlLCB0ZXh0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVFbGVtZW50JDEocGFyZW50Tm9kZSwgY2hpbGQpIHtcbiAge1xuICAgIGlmIChkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbiA9IHRydWU7XG4gICAgd2FybmluZyhmYWxzZSwgJ0RpZCBub3QgZXhwZWN0IHNlcnZlciBIVE1MIHRvIGNvbnRhaW4gYSA8JXM+IGluIDwlcz4uJywgY2hpbGQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwgcGFyZW50Tm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVUZXh0JDEocGFyZW50Tm9kZSwgY2hpbGQpIHtcbiAge1xuICAgIGlmIChkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbiA9IHRydWU7XG4gICAgd2FybmluZyhmYWxzZSwgJ0RpZCBub3QgZXhwZWN0IHNlcnZlciBIVE1MIHRvIGNvbnRhaW4gdGhlIHRleHQgbm9kZSBcIiVzXCIgaW4gPCVzPi4nLCBjaGlsZC5ub2RlVmFsdWUsIHBhcmVudE5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gd2FybkZvckluc2VydGVkSHlkcmF0ZWRFbGVtZW50JDEocGFyZW50Tm9kZSwgdGFnLCBwcm9wcykge1xuICB7XG4gICAgaWYgKGRpZFdhcm5JbnZhbGlkSHlkcmF0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRpZFdhcm5JbnZhbGlkSHlkcmF0aW9uID0gdHJ1ZTtcbiAgICB3YXJuaW5nKGZhbHNlLCAnRXhwZWN0ZWQgc2VydmVyIEhUTUwgdG8gY29udGFpbiBhIG1hdGNoaW5nIDwlcz4gaW4gPCVzPi4nLCB0YWcsIHBhcmVudE5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gd2FybkZvckluc2VydGVkSHlkcmF0ZWRUZXh0JDEocGFyZW50Tm9kZSwgdGV4dCkge1xuICB7XG4gICAgaWYgKHRleHQgPT09ICcnKSB7XG4gICAgICAvLyBXZSBleHBlY3QgdG8gaW5zZXJ0IGVtcHR5IHRleHQgbm9kZXMgc2luY2UgdGhleSdyZSBub3QgcmVwcmVzZW50ZWQgaW5cbiAgICAgIC8vIHRoZSBIVE1MLlxuICAgICAgLy8gVE9ETzogUmVtb3ZlIHRoaXMgc3BlY2lhbCBjYXNlIGlmIHdlIGNhbiBqdXN0IGF2b2lkIGluc2VydGluZyBlbXB0eVxuICAgICAgLy8gdGV4dCBub2Rlcy5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGRpZFdhcm5JbnZhbGlkSHlkcmF0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRpZFdhcm5JbnZhbGlkSHlkcmF0aW9uID0gdHJ1ZTtcbiAgICB3YXJuaW5nKGZhbHNlLCAnRXhwZWN0ZWQgc2VydmVyIEhUTUwgdG8gY29udGFpbiBhIG1hdGNoaW5nIHRleHQgbm9kZSBmb3IgXCIlc1wiIGluIDwlcz4uJywgdGV4dCwgcGFyZW50Tm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXN0b3JlQ29udHJvbGxlZFN0YXRlJDEoZG9tRWxlbWVudCwgdGFnLCBwcm9wcykge1xuICBzd2l0Y2ggKHRhZykge1xuICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgIHJlc3RvcmVDb250cm9sbGVkU3RhdGUoZG9tRWxlbWVudCwgcHJvcHMpO1xuICAgICAgcmV0dXJuO1xuICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgIHJlc3RvcmVDb250cm9sbGVkU3RhdGUkMyhkb21FbGVtZW50LCBwcm9wcyk7XG4gICAgICByZXR1cm47XG4gICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgIHJlc3RvcmVDb250cm9sbGVkU3RhdGUkMihkb21FbGVtZW50LCBwcm9wcyk7XG4gICAgICByZXR1cm47XG4gIH1cbn1cblxudmFyIFJlYWN0RE9NRmliZXJDb21wb25lbnQgPSBPYmplY3QuZnJlZXplKHtcblx0Y3JlYXRlRWxlbWVudDogY3JlYXRlRWxlbWVudCQxLFxuXHRjcmVhdGVUZXh0Tm9kZTogY3JlYXRlVGV4dE5vZGUkMSxcblx0c2V0SW5pdGlhbFByb3BlcnRpZXM6IHNldEluaXRpYWxQcm9wZXJ0aWVzJDEsXG5cdGRpZmZQcm9wZXJ0aWVzOiBkaWZmUHJvcGVydGllcyQxLFxuXHR1cGRhdGVQcm9wZXJ0aWVzOiB1cGRhdGVQcm9wZXJ0aWVzJDEsXG5cdGRpZmZIeWRyYXRlZFByb3BlcnRpZXM6IGRpZmZIeWRyYXRlZFByb3BlcnRpZXMkMSxcblx0ZGlmZkh5ZHJhdGVkVGV4dDogZGlmZkh5ZHJhdGVkVGV4dCQxLFxuXHR3YXJuRm9yVW5tYXRjaGVkVGV4dDogd2FybkZvclVubWF0Y2hlZFRleHQkMSxcblx0d2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlRWxlbWVudDogd2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlRWxlbWVudCQxLFxuXHR3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVUZXh0OiB3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVUZXh0JDEsXG5cdHdhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkRWxlbWVudDogd2FybkZvckluc2VydGVkSHlkcmF0ZWRFbGVtZW50JDEsXG5cdHdhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkVGV4dDogd2FybkZvckluc2VydGVkSHlkcmF0ZWRUZXh0JDEsXG5cdHJlc3RvcmVDb250cm9sbGVkU3RhdGU6IHJlc3RvcmVDb250cm9sbGVkU3RhdGUkMVxufSk7XG5cbi8vIFRPRE86IGRpcmVjdCBpbXBvcnRzIGxpa2Ugc29tZS1wYWNrYWdlL3NyYy8qIGFyZSBiYWQuIEZpeCBtZS5cbnZhciBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDYgPSBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW07XG5cbnZhciB2YWxpZGF0ZURPTU5lc3RpbmcgPSBlbXB0eUZ1bmN0aW9uO1xuXG57XG4gIC8vIFRoaXMgdmFsaWRhdGlvbiBjb2RlIHdhcyB3cml0dGVuIGJhc2VkIG9uIHRoZSBIVE1MNSBwYXJzaW5nIHNwZWM6XG4gIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI2hhcy1hbi1lbGVtZW50LWluLXNjb3BlXG4gIC8vXG4gIC8vIE5vdGU6IHRoaXMgZG9lcyBub3QgY2F0Y2ggYWxsIGludmFsaWQgbmVzdGluZywgbm9yIGRvZXMgaXQgdHJ5IHRvIChhcyBpdCdzXG4gIC8vIG5vdCBjbGVhciB3aGF0IHByYWN0aWNhbCBiZW5lZml0IGRvaW5nIHNvIHByb3ZpZGVzKTsgaW5zdGVhZCwgd2Ugd2FybiBvbmx5XG4gIC8vIGZvciBjYXNlcyB3aGVyZSB0aGUgcGFyc2VyIHdpbGwgZ2l2ZSBhIHBhcnNlIHRyZWUgZGlmZmVyaW5nIGZyb20gd2hhdCBSZWFjdFxuICAvLyBpbnRlbmRlZC4gRm9yIGV4YW1wbGUsIDxiPjxkaXY+PC9kaXY+PC9iPiBpcyBpbnZhbGlkIGJ1dCB3ZSBkb24ndCB3YXJuXG4gIC8vIGJlY2F1c2UgaXQgc3RpbGwgcGFyc2VzIGNvcnJlY3RseTsgd2UgZG8gd2FybiBmb3Igb3RoZXIgY2FzZXMgbGlrZSBuZXN0ZWRcbiAgLy8gPHA+IHRhZ3Mgd2hlcmUgdGhlIGJlZ2lubmluZyBvZiB0aGUgc2Vjb25kIGVsZW1lbnQgaW1wbGljaXRseSBjbG9zZXMgdGhlXG4gIC8vIGZpcnN0LCBjYXVzaW5nIGEgY29uZnVzaW5nIG1lc3MuXG5cbiAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjc3BlY2lhbFxuICB2YXIgc3BlY2lhbFRhZ3MgPSBbJ2FkZHJlc3MnLCAnYXBwbGV0JywgJ2FyZWEnLCAnYXJ0aWNsZScsICdhc2lkZScsICdiYXNlJywgJ2Jhc2Vmb250JywgJ2Jnc291bmQnLCAnYmxvY2txdW90ZScsICdib2R5JywgJ2JyJywgJ2J1dHRvbicsICdjYXB0aW9uJywgJ2NlbnRlcicsICdjb2wnLCAnY29sZ3JvdXAnLCAnZGQnLCAnZGV0YWlscycsICdkaXInLCAnZGl2JywgJ2RsJywgJ2R0JywgJ2VtYmVkJywgJ2ZpZWxkc2V0JywgJ2ZpZ2NhcHRpb24nLCAnZmlndXJlJywgJ2Zvb3RlcicsICdmb3JtJywgJ2ZyYW1lJywgJ2ZyYW1lc2V0JywgJ2gxJywgJ2gyJywgJ2gzJywgJ2g0JywgJ2g1JywgJ2g2JywgJ2hlYWQnLCAnaGVhZGVyJywgJ2hncm91cCcsICdocicsICdodG1sJywgJ2lmcmFtZScsICdpbWcnLCAnaW5wdXQnLCAnaXNpbmRleCcsICdsaScsICdsaW5rJywgJ2xpc3RpbmcnLCAnbWFpbicsICdtYXJxdWVlJywgJ21lbnUnLCAnbWVudWl0ZW0nLCAnbWV0YScsICduYXYnLCAnbm9lbWJlZCcsICdub2ZyYW1lcycsICdub3NjcmlwdCcsICdvYmplY3QnLCAnb2wnLCAncCcsICdwYXJhbScsICdwbGFpbnRleHQnLCAncHJlJywgJ3NjcmlwdCcsICdzZWN0aW9uJywgJ3NlbGVjdCcsICdzb3VyY2UnLCAnc3R5bGUnLCAnc3VtbWFyeScsICd0YWJsZScsICd0Ym9keScsICd0ZCcsICd0ZW1wbGF0ZScsICd0ZXh0YXJlYScsICd0Zm9vdCcsICd0aCcsICd0aGVhZCcsICd0aXRsZScsICd0cicsICd0cmFjaycsICd1bCcsICd3YnInLCAneG1wJ107XG5cbiAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjaGFzLWFuLWVsZW1lbnQtaW4tc2NvcGVcbiAgdmFyIGluU2NvcGVUYWdzID0gWydhcHBsZXQnLCAnY2FwdGlvbicsICdodG1sJywgJ3RhYmxlJywgJ3RkJywgJ3RoJywgJ21hcnF1ZWUnLCAnb2JqZWN0JywgJ3RlbXBsYXRlJyxcblxuICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNodG1sLWludGVncmF0aW9uLXBvaW50XG4gIC8vIFRPRE86IERpc3Rpbmd1aXNoIGJ5IG5hbWVzcGFjZSBoZXJlIC0tIGZvciA8dGl0bGU+LCBpbmNsdWRpbmcgaXQgaGVyZVxuICAvLyBlcnJzIG9uIHRoZSBzaWRlIG9mIGZld2VyIHdhcm5pbmdzXG4gICdmb3JlaWduT2JqZWN0JywgJ2Rlc2MnLCAndGl0bGUnXTtcblxuICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNoYXMtYW4tZWxlbWVudC1pbi1idXR0b24tc2NvcGVcbiAgdmFyIGJ1dHRvblNjb3BlVGFncyA9IGluU2NvcGVUYWdzLmNvbmNhdChbJ2J1dHRvbiddKTtcblxuICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNnZW5lcmF0ZS1pbXBsaWVkLWVuZC10YWdzXG4gIHZhciBpbXBsaWVkRW5kVGFncyA9IFsnZGQnLCAnZHQnLCAnbGknLCAnb3B0aW9uJywgJ29wdGdyb3VwJywgJ3AnLCAncnAnLCAncnQnXTtcblxuICB2YXIgZW1wdHlBbmNlc3RvckluZm8gPSB7XG4gICAgY3VycmVudDogbnVsbCxcblxuICAgIGZvcm1UYWc6IG51bGwsXG4gICAgYVRhZ0luU2NvcGU6IG51bGwsXG4gICAgYnV0dG9uVGFnSW5TY29wZTogbnVsbCxcbiAgICBub2JyVGFnSW5TY29wZTogbnVsbCxcbiAgICBwVGFnSW5CdXR0b25TY29wZTogbnVsbCxcblxuICAgIGxpc3RJdGVtVGFnQXV0b2Nsb3Npbmc6IG51bGwsXG4gICAgZGxJdGVtVGFnQXV0b2Nsb3Npbmc6IG51bGxcbiAgfTtcblxuICB2YXIgdXBkYXRlZEFuY2VzdG9ySW5mbyQxID0gZnVuY3Rpb24gKG9sZEluZm8sIHRhZywgaW5zdGFuY2UpIHtcbiAgICB2YXIgYW5jZXN0b3JJbmZvID0gX2Fzc2lnbih7fSwgb2xkSW5mbyB8fCBlbXB0eUFuY2VzdG9ySW5mbyk7XG4gICAgdmFyIGluZm8gPSB7IHRhZzogdGFnLCBpbnN0YW5jZTogaW5zdGFuY2UgfTtcblxuICAgIGlmIChpblNjb3BlVGFncy5pbmRleE9mKHRhZykgIT09IC0xKSB7XG4gICAgICBhbmNlc3RvckluZm8uYVRhZ0luU2NvcGUgPSBudWxsO1xuICAgICAgYW5jZXN0b3JJbmZvLmJ1dHRvblRhZ0luU2NvcGUgPSBudWxsO1xuICAgICAgYW5jZXN0b3JJbmZvLm5vYnJUYWdJblNjb3BlID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGJ1dHRvblNjb3BlVGFncy5pbmRleE9mKHRhZykgIT09IC0xKSB7XG4gICAgICBhbmNlc3RvckluZm8ucFRhZ0luQnV0dG9uU2NvcGUgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIFNlZSBydWxlcyBmb3IgJ2xpJywgJ2RkJywgJ2R0JyBzdGFydCB0YWdzIGluXG4gICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjcGFyc2luZy1tYWluLWluYm9keVxuICAgIGlmIChzcGVjaWFsVGFncy5pbmRleE9mKHRhZykgIT09IC0xICYmIHRhZyAhPT0gJ2FkZHJlc3MnICYmIHRhZyAhPT0gJ2RpdicgJiYgdGFnICE9PSAncCcpIHtcbiAgICAgIGFuY2VzdG9ySW5mby5saXN0SXRlbVRhZ0F1dG9jbG9zaW5nID0gbnVsbDtcbiAgICAgIGFuY2VzdG9ySW5mby5kbEl0ZW1UYWdBdXRvY2xvc2luZyA9IG51bGw7XG4gICAgfVxuXG4gICAgYW5jZXN0b3JJbmZvLmN1cnJlbnQgPSBpbmZvO1xuXG4gICAgaWYgKHRhZyA9PT0gJ2Zvcm0nKSB7XG4gICAgICBhbmNlc3RvckluZm8uZm9ybVRhZyA9IGluZm87XG4gICAgfVxuICAgIGlmICh0YWcgPT09ICdhJykge1xuICAgICAgYW5jZXN0b3JJbmZvLmFUYWdJblNjb3BlID0gaW5mbztcbiAgICB9XG4gICAgaWYgKHRhZyA9PT0gJ2J1dHRvbicpIHtcbiAgICAgIGFuY2VzdG9ySW5mby5idXR0b25UYWdJblNjb3BlID0gaW5mbztcbiAgICB9XG4gICAgaWYgKHRhZyA9PT0gJ25vYnInKSB7XG4gICAgICBhbmNlc3RvckluZm8ubm9iclRhZ0luU2NvcGUgPSBpbmZvO1xuICAgIH1cbiAgICBpZiAodGFnID09PSAncCcpIHtcbiAgICAgIGFuY2VzdG9ySW5mby5wVGFnSW5CdXR0b25TY29wZSA9IGluZm87XG4gICAgfVxuICAgIGlmICh0YWcgPT09ICdsaScpIHtcbiAgICAgIGFuY2VzdG9ySW5mby5saXN0SXRlbVRhZ0F1dG9jbG9zaW5nID0gaW5mbztcbiAgICB9XG4gICAgaWYgKHRhZyA9PT0gJ2RkJyB8fCB0YWcgPT09ICdkdCcpIHtcbiAgICAgIGFuY2VzdG9ySW5mby5kbEl0ZW1UYWdBdXRvY2xvc2luZyA9IGluZm87XG4gICAgfVxuXG4gICAgcmV0dXJuIGFuY2VzdG9ySW5mbztcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyXG4gICAqL1xuICB2YXIgaXNUYWdWYWxpZFdpdGhQYXJlbnQgPSBmdW5jdGlvbiAodGFnLCBwYXJlbnRUYWcpIHtcbiAgICAvLyBGaXJzdCwgbGV0J3MgY2hlY2sgaWYgd2UncmUgaW4gYW4gdW51c3VhbCBwYXJzaW5nIG1vZGUuLi5cbiAgICBzd2l0Y2ggKHBhcmVudFRhZykge1xuICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjcGFyc2luZy1tYWluLWluc2VsZWN0XG4gICAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgICByZXR1cm4gdGFnID09PSAnb3B0aW9uJyB8fCB0YWcgPT09ICdvcHRncm91cCcgfHwgdGFnID09PSAnI3RleHQnO1xuICAgICAgY2FzZSAnb3B0Z3JvdXAnOlxuICAgICAgICByZXR1cm4gdGFnID09PSAnb3B0aW9uJyB8fCB0YWcgPT09ICcjdGV4dCc7XG4gICAgICAvLyBTdHJpY3RseSBzcGVha2luZywgc2VlaW5nIGFuIDxvcHRpb24+IGRvZXNuJ3QgbWVhbiB3ZSdyZSBpbiBhIDxzZWxlY3Q+XG4gICAgICAvLyBidXRcbiAgICAgIGNhc2UgJ29wdGlvbic6XG4gICAgICAgIHJldHVybiB0YWcgPT09ICcjdGV4dCc7XG4gICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNwYXJzaW5nLW1haW4taW50ZFxuICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjcGFyc2luZy1tYWluLWluY2FwdGlvblxuICAgICAgLy8gTm8gc3BlY2lhbCBiZWhhdmlvciBzaW5jZSB0aGVzZSBydWxlcyBmYWxsIGJhY2sgdG8gXCJpbiBib2R5XCIgbW9kZSBmb3JcbiAgICAgIC8vIGFsbCBleGNlcHQgc3BlY2lhbCB0YWJsZSBub2RlcyB3aGljaCBjYXVzZSBiYWQgcGFyc2luZyBiZWhhdmlvciBhbnl3YXkuXG5cbiAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3BhcnNpbmctbWFpbi1pbnRyXG4gICAgICBjYXNlICd0cic6XG4gICAgICAgIHJldHVybiB0YWcgPT09ICd0aCcgfHwgdGFnID09PSAndGQnIHx8IHRhZyA9PT0gJ3N0eWxlJyB8fCB0YWcgPT09ICdzY3JpcHQnIHx8IHRhZyA9PT0gJ3RlbXBsYXRlJztcbiAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3BhcnNpbmctbWFpbi1pbnRib2R5XG4gICAgICBjYXNlICd0Ym9keSc6XG4gICAgICBjYXNlICd0aGVhZCc6XG4gICAgICBjYXNlICd0Zm9vdCc6XG4gICAgICAgIHJldHVybiB0YWcgPT09ICd0cicgfHwgdGFnID09PSAnc3R5bGUnIHx8IHRhZyA9PT0gJ3NjcmlwdCcgfHwgdGFnID09PSAndGVtcGxhdGUnO1xuICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjcGFyc2luZy1tYWluLWluY29sZ3JvdXBcbiAgICAgIGNhc2UgJ2NvbGdyb3VwJzpcbiAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ2NvbCcgfHwgdGFnID09PSAndGVtcGxhdGUnO1xuICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjcGFyc2luZy1tYWluLWludGFibGVcbiAgICAgIGNhc2UgJ3RhYmxlJzpcbiAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ2NhcHRpb24nIHx8IHRhZyA9PT0gJ2NvbGdyb3VwJyB8fCB0YWcgPT09ICd0Ym9keScgfHwgdGFnID09PSAndGZvb3QnIHx8IHRhZyA9PT0gJ3RoZWFkJyB8fCB0YWcgPT09ICdzdHlsZScgfHwgdGFnID09PSAnc2NyaXB0JyB8fCB0YWcgPT09ICd0ZW1wbGF0ZSc7XG4gICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNwYXJzaW5nLW1haW4taW5oZWFkXG4gICAgICBjYXNlICdoZWFkJzpcbiAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ2Jhc2UnIHx8IHRhZyA9PT0gJ2Jhc2Vmb250JyB8fCB0YWcgPT09ICdiZ3NvdW5kJyB8fCB0YWcgPT09ICdsaW5rJyB8fCB0YWcgPT09ICdtZXRhJyB8fCB0YWcgPT09ICd0aXRsZScgfHwgdGFnID09PSAnbm9zY3JpcHQnIHx8IHRhZyA9PT0gJ25vZnJhbWVzJyB8fCB0YWcgPT09ICdzdHlsZScgfHwgdGFnID09PSAnc2NyaXB0JyB8fCB0YWcgPT09ICd0ZW1wbGF0ZSc7XG4gICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zZW1hbnRpY3MuaHRtbCN0aGUtaHRtbC1lbGVtZW50XG4gICAgICBjYXNlICdodG1sJzpcbiAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ2hlYWQnIHx8IHRhZyA9PT0gJ2JvZHknO1xuICAgICAgY2FzZSAnI2RvY3VtZW50JzpcbiAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ2h0bWwnO1xuICAgIH1cblxuICAgIC8vIFByb2JhYmx5IGluIHRoZSBcImluIGJvZHlcIiBwYXJzaW5nIG1vZGUsIHNvIHdlIG91dGxhdyBvbmx5IHRhZyBjb21ib3NcbiAgICAvLyB3aGVyZSB0aGUgcGFyc2luZyBydWxlcyBjYXVzZSBpbXBsaWNpdCBvcGVucyBvciBjbG9zZXMgdG8gYmUgYWRkZWQuXG4gICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjcGFyc2luZy1tYWluLWluYm9keVxuICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICBjYXNlICdoMSc6XG4gICAgICBjYXNlICdoMic6XG4gICAgICBjYXNlICdoMyc6XG4gICAgICBjYXNlICdoNCc6XG4gICAgICBjYXNlICdoNSc6XG4gICAgICBjYXNlICdoNic6XG4gICAgICAgIHJldHVybiBwYXJlbnRUYWcgIT09ICdoMScgJiYgcGFyZW50VGFnICE9PSAnaDInICYmIHBhcmVudFRhZyAhPT0gJ2gzJyAmJiBwYXJlbnRUYWcgIT09ICdoNCcgJiYgcGFyZW50VGFnICE9PSAnaDUnICYmIHBhcmVudFRhZyAhPT0gJ2g2JztcblxuICAgICAgY2FzZSAncnAnOlxuICAgICAgY2FzZSAncnQnOlxuICAgICAgICByZXR1cm4gaW1wbGllZEVuZFRhZ3MuaW5kZXhPZihwYXJlbnRUYWcpID09PSAtMTtcblxuICAgICAgY2FzZSAnYm9keSc6XG4gICAgICBjYXNlICdjYXB0aW9uJzpcbiAgICAgIGNhc2UgJ2NvbCc6XG4gICAgICBjYXNlICdjb2xncm91cCc6XG4gICAgICBjYXNlICdmcmFtZSc6XG4gICAgICBjYXNlICdoZWFkJzpcbiAgICAgIGNhc2UgJ2h0bWwnOlxuICAgICAgY2FzZSAndGJvZHknOlxuICAgICAgY2FzZSAndGQnOlxuICAgICAgY2FzZSAndGZvb3QnOlxuICAgICAgY2FzZSAndGgnOlxuICAgICAgY2FzZSAndGhlYWQnOlxuICAgICAgY2FzZSAndHInOlxuICAgICAgICAvLyBUaGVzZSB0YWdzIGFyZSBvbmx5IHZhbGlkIHdpdGggYSBmZXcgcGFyZW50cyB0aGF0IGhhdmUgc3BlY2lhbCBjaGlsZFxuICAgICAgICAvLyBwYXJzaW5nIHJ1bGVzIC0tIGlmIHdlJ3JlIGRvd24gaGVyZSwgdGhlbiBub25lIG9mIHRob3NlIG1hdGNoZWQgYW5kXG4gICAgICAgIC8vIHNvIHdlIGFsbG93IGl0IG9ubHkgaWYgd2UgZG9uJ3Qga25vdyB3aGF0IHRoZSBwYXJlbnQgaXMsIGFzIGFsbCBvdGhlclxuICAgICAgICAvLyBjYXNlcyBhcmUgaW52YWxpZC5cbiAgICAgICAgcmV0dXJuIHBhcmVudFRhZyA9PSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXJcbiAgICovXG4gIHZhciBmaW5kSW52YWxpZEFuY2VzdG9yRm9yVGFnID0gZnVuY3Rpb24gKHRhZywgYW5jZXN0b3JJbmZvKSB7XG4gICAgc3dpdGNoICh0YWcpIHtcbiAgICAgIGNhc2UgJ2FkZHJlc3MnOlxuICAgICAgY2FzZSAnYXJ0aWNsZSc6XG4gICAgICBjYXNlICdhc2lkZSc6XG4gICAgICBjYXNlICdibG9ja3F1b3RlJzpcbiAgICAgIGNhc2UgJ2NlbnRlcic6XG4gICAgICBjYXNlICdkZXRhaWxzJzpcbiAgICAgIGNhc2UgJ2RpYWxvZyc6XG4gICAgICBjYXNlICdkaXInOlxuICAgICAgY2FzZSAnZGl2JzpcbiAgICAgIGNhc2UgJ2RsJzpcbiAgICAgIGNhc2UgJ2ZpZWxkc2V0JzpcbiAgICAgIGNhc2UgJ2ZpZ2NhcHRpb24nOlxuICAgICAgY2FzZSAnZmlndXJlJzpcbiAgICAgIGNhc2UgJ2Zvb3Rlcic6XG4gICAgICBjYXNlICdoZWFkZXInOlxuICAgICAgY2FzZSAnaGdyb3VwJzpcbiAgICAgIGNhc2UgJ21haW4nOlxuICAgICAgY2FzZSAnbWVudSc6XG4gICAgICBjYXNlICduYXYnOlxuICAgICAgY2FzZSAnb2wnOlxuICAgICAgY2FzZSAncCc6XG4gICAgICBjYXNlICdzZWN0aW9uJzpcbiAgICAgIGNhc2UgJ3N1bW1hcnknOlxuICAgICAgY2FzZSAndWwnOlxuICAgICAgY2FzZSAncHJlJzpcbiAgICAgIGNhc2UgJ2xpc3RpbmcnOlxuICAgICAgY2FzZSAndGFibGUnOlxuICAgICAgY2FzZSAnaHInOlxuICAgICAgY2FzZSAneG1wJzpcbiAgICAgIGNhc2UgJ2gxJzpcbiAgICAgIGNhc2UgJ2gyJzpcbiAgICAgIGNhc2UgJ2gzJzpcbiAgICAgIGNhc2UgJ2g0JzpcbiAgICAgIGNhc2UgJ2g1JzpcbiAgICAgIGNhc2UgJ2g2JzpcbiAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5wVGFnSW5CdXR0b25TY29wZTtcblxuICAgICAgY2FzZSAnZm9ybSc6XG4gICAgICAgIHJldHVybiBhbmNlc3RvckluZm8uZm9ybVRhZyB8fCBhbmNlc3RvckluZm8ucFRhZ0luQnV0dG9uU2NvcGU7XG5cbiAgICAgIGNhc2UgJ2xpJzpcbiAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5saXN0SXRlbVRhZ0F1dG9jbG9zaW5nO1xuXG4gICAgICBjYXNlICdkZCc6XG4gICAgICBjYXNlICdkdCc6XG4gICAgICAgIHJldHVybiBhbmNlc3RvckluZm8uZGxJdGVtVGFnQXV0b2Nsb3Npbmc7XG5cbiAgICAgIGNhc2UgJ2J1dHRvbic6XG4gICAgICAgIHJldHVybiBhbmNlc3RvckluZm8uYnV0dG9uVGFnSW5TY29wZTtcblxuICAgICAgY2FzZSAnYSc6XG4gICAgICAgIC8vIFNwZWMgc2F5cyBzb21ldGhpbmcgYWJvdXQgc3RvcmluZyBhIGxpc3Qgb2YgbWFya2VycywgYnV0IGl0IHNvdW5kc1xuICAgICAgICAvLyBlcXVpdmFsZW50IHRvIHRoaXMgY2hlY2suXG4gICAgICAgIHJldHVybiBhbmNlc3RvckluZm8uYVRhZ0luU2NvcGU7XG5cbiAgICAgIGNhc2UgJ25vYnInOlxuICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLm5vYnJUYWdJblNjb3BlO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHZhciBkaWRXYXJuID0ge307XG5cbiAgdmFsaWRhdGVET01OZXN0aW5nID0gZnVuY3Rpb24gKGNoaWxkVGFnLCBjaGlsZFRleHQsIGFuY2VzdG9ySW5mbykge1xuICAgIGFuY2VzdG9ySW5mbyA9IGFuY2VzdG9ySW5mbyB8fCBlbXB0eUFuY2VzdG9ySW5mbztcbiAgICB2YXIgcGFyZW50SW5mbyA9IGFuY2VzdG9ySW5mby5jdXJyZW50O1xuICAgIHZhciBwYXJlbnRUYWcgPSBwYXJlbnRJbmZvICYmIHBhcmVudEluZm8udGFnO1xuXG4gICAgaWYgKGNoaWxkVGV4dCAhPSBudWxsKSB7XG4gICAgICB3YXJuaW5nKGNoaWxkVGFnID09IG51bGwsICd2YWxpZGF0ZURPTU5lc3Rpbmc6IHdoZW4gY2hpbGRUZXh0IGlzIHBhc3NlZCwgY2hpbGRUYWcgc2hvdWxkIGJlIG51bGwnKTtcbiAgICAgIGNoaWxkVGFnID0gJyN0ZXh0JztcbiAgICB9XG5cbiAgICB2YXIgaW52YWxpZFBhcmVudCA9IGlzVGFnVmFsaWRXaXRoUGFyZW50KGNoaWxkVGFnLCBwYXJlbnRUYWcpID8gbnVsbCA6IHBhcmVudEluZm87XG4gICAgdmFyIGludmFsaWRBbmNlc3RvciA9IGludmFsaWRQYXJlbnQgPyBudWxsIDogZmluZEludmFsaWRBbmNlc3RvckZvclRhZyhjaGlsZFRhZywgYW5jZXN0b3JJbmZvKTtcbiAgICB2YXIgaW52YWxpZFBhcmVudE9yQW5jZXN0b3IgPSBpbnZhbGlkUGFyZW50IHx8IGludmFsaWRBbmNlc3RvcjtcbiAgICBpZiAoIWludmFsaWRQYXJlbnRPckFuY2VzdG9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGFuY2VzdG9yVGFnID0gaW52YWxpZFBhcmVudE9yQW5jZXN0b3IudGFnO1xuICAgIHZhciBhZGRlbmR1bSA9IGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kNigpO1xuXG4gICAgdmFyIHdhcm5LZXkgPSAhIWludmFsaWRQYXJlbnQgKyAnfCcgKyBjaGlsZFRhZyArICd8JyArIGFuY2VzdG9yVGFnICsgJ3wnICsgYWRkZW5kdW07XG4gICAgaWYgKGRpZFdhcm5bd2FybktleV0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGlkV2Fyblt3YXJuS2V5XSA9IHRydWU7XG5cbiAgICB2YXIgdGFnRGlzcGxheU5hbWUgPSBjaGlsZFRhZztcbiAgICB2YXIgd2hpdGVzcGFjZUluZm8gPSAnJztcbiAgICBpZiAoY2hpbGRUYWcgPT09ICcjdGV4dCcpIHtcbiAgICAgIGlmICgvXFxTLy50ZXN0KGNoaWxkVGV4dCkpIHtcbiAgICAgICAgdGFnRGlzcGxheU5hbWUgPSAnVGV4dCBub2Rlcyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YWdEaXNwbGF5TmFtZSA9ICdXaGl0ZXNwYWNlIHRleHQgbm9kZXMnO1xuICAgICAgICB3aGl0ZXNwYWNlSW5mbyA9IFwiIE1ha2Ugc3VyZSB5b3UgZG9uJ3QgaGF2ZSBhbnkgZXh0cmEgd2hpdGVzcGFjZSBiZXR3ZWVuIHRhZ3Mgb24gXCIgKyAnZWFjaCBsaW5lIG9mIHlvdXIgc291cmNlIGNvZGUuJztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGFnRGlzcGxheU5hbWUgPSAnPCcgKyBjaGlsZFRhZyArICc+JztcbiAgICB9XG5cbiAgICBpZiAoaW52YWxpZFBhcmVudCkge1xuICAgICAgdmFyIGluZm8gPSAnJztcbiAgICAgIGlmIChhbmNlc3RvclRhZyA9PT0gJ3RhYmxlJyAmJiBjaGlsZFRhZyA9PT0gJ3RyJykge1xuICAgICAgICBpbmZvICs9ICcgQWRkIGEgPHRib2R5PiB0byB5b3VyIGNvZGUgdG8gbWF0Y2ggdGhlIERPTSB0cmVlIGdlbmVyYXRlZCBieSAnICsgJ3RoZSBicm93c2VyLic7XG4gICAgICB9XG4gICAgICB3YXJuaW5nKGZhbHNlLCAndmFsaWRhdGVET01OZXN0aW5nKC4uLik6ICVzIGNhbm5vdCBhcHBlYXIgYXMgYSBjaGlsZCBvZiA8JXM+LiVzJXMlcycsIHRhZ0Rpc3BsYXlOYW1lLCBhbmNlc3RvclRhZywgd2hpdGVzcGFjZUluZm8sIGluZm8sIGFkZGVuZHVtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ3ZhbGlkYXRlRE9NTmVzdGluZyguLi4pOiAlcyBjYW5ub3QgYXBwZWFyIGFzIGEgZGVzY2VuZGFudCBvZiAnICsgJzwlcz4uJXMnLCB0YWdEaXNwbGF5TmFtZSwgYW5jZXN0b3JUYWcsIGFkZGVuZHVtKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gVE9ETzogdHVybiB0aGlzIGludG8gYSBuYW1lZCBleHBvcnRcbiAgdmFsaWRhdGVET01OZXN0aW5nLnVwZGF0ZWRBbmNlc3RvckluZm8gPSB1cGRhdGVkQW5jZXN0b3JJbmZvJDE7XG59XG5cbnZhciB2YWxpZGF0ZURPTU5lc3RpbmckMSA9IHZhbGlkYXRlRE9NTmVzdGluZztcblxuLy8gVE9ETzogVGhpcyB0eXBlIGlzIHNoYXJlZCBiZXR3ZWVuIHRoZSByZWNvbmNpbGVyIGFuZCBSZWFjdERPTSwgYnV0IHdpbGxcbi8vIGV2ZW50dWFsbHkgYmUgbGlmdGVkIG91dCB0byB0aGUgcmVuZGVyZXIuXG5cbi8vIFRPRE86IGRpcmVjdCBpbXBvcnRzIGxpa2Ugc29tZS1wYWNrYWdlL3NyYy8qIGFyZSBiYWQuIEZpeCBtZS5cbnZhciBjcmVhdGVFbGVtZW50ID0gY3JlYXRlRWxlbWVudCQxO1xudmFyIGNyZWF0ZVRleHROb2RlID0gY3JlYXRlVGV4dE5vZGUkMTtcbnZhciBzZXRJbml0aWFsUHJvcGVydGllcyA9IHNldEluaXRpYWxQcm9wZXJ0aWVzJDE7XG52YXIgZGlmZlByb3BlcnRpZXMgPSBkaWZmUHJvcGVydGllcyQxO1xudmFyIHVwZGF0ZVByb3BlcnRpZXMgPSB1cGRhdGVQcm9wZXJ0aWVzJDE7XG52YXIgZGlmZkh5ZHJhdGVkUHJvcGVydGllcyA9IGRpZmZIeWRyYXRlZFByb3BlcnRpZXMkMTtcbnZhciBkaWZmSHlkcmF0ZWRUZXh0ID0gZGlmZkh5ZHJhdGVkVGV4dCQxO1xudmFyIHdhcm5Gb3JVbm1hdGNoZWRUZXh0ID0gd2FybkZvclVubWF0Y2hlZFRleHQkMTtcbnZhciB3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVFbGVtZW50ID0gd2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlRWxlbWVudCQxO1xudmFyIHdhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZVRleHQgPSB3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVUZXh0JDE7XG52YXIgd2FybkZvckluc2VydGVkSHlkcmF0ZWRFbGVtZW50ID0gd2FybkZvckluc2VydGVkSHlkcmF0ZWRFbGVtZW50JDE7XG52YXIgd2FybkZvckluc2VydGVkSHlkcmF0ZWRUZXh0ID0gd2FybkZvckluc2VydGVkSHlkcmF0ZWRUZXh0JDE7XG52YXIgdXBkYXRlZEFuY2VzdG9ySW5mbyA9IHZhbGlkYXRlRE9NTmVzdGluZyQxLnVwZGF0ZWRBbmNlc3RvckluZm87XG52YXIgcHJlY2FjaGVGaWJlck5vZGUgPSBwcmVjYWNoZUZpYmVyTm9kZSQxO1xudmFyIHVwZGF0ZUZpYmVyUHJvcHMgPSB1cGRhdGVGaWJlclByb3BzJDE7XG5cblxudmFyIFNVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HID0gdm9pZCAwO1xudmFyIHRvcExldmVsVXBkYXRlV2FybmluZ3MgPSB2b2lkIDA7XG52YXIgd2Fybk9uSW52YWxpZENhbGxiYWNrID0gdm9pZCAwO1xudmFyIGRpZFdhcm5BYm91dFVuc3RhYmxlQ3JlYXRlUG9ydGFsID0gZmFsc2U7XG5cbntcbiAgU1VQUFJFU1NfSFlEUkFUSU9OX1dBUk5JTkcgPSAnc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nJztcbiAgaWYgKHR5cGVvZiBNYXAgIT09ICdmdW5jdGlvbicgfHwgTWFwLnByb3RvdHlwZSA9PSBudWxsIHx8IHR5cGVvZiBNYXAucHJvdG90eXBlLmZvckVhY2ggIT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIFNldCAhPT0gJ2Z1bmN0aW9uJyB8fCBTZXQucHJvdG90eXBlID09IG51bGwgfHwgdHlwZW9mIFNldC5wcm90b3R5cGUuY2xlYXIgIT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIFNldC5wcm90b3R5cGUuZm9yRWFjaCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHdhcm5pbmcoZmFsc2UsICdSZWFjdCBkZXBlbmRzIG9uIE1hcCBhbmQgU2V0IGJ1aWx0LWluIHR5cGVzLiBNYWtlIHN1cmUgdGhhdCB5b3UgbG9hZCBhICcgKyAncG9seWZpbGwgaW4gb2xkZXIgYnJvd3NlcnMuIGh0dHBzOi8vZmIubWUvcmVhY3QtcG9seWZpbGxzJyk7XG4gIH1cblxuICB0b3BMZXZlbFVwZGF0ZVdhcm5pbmdzID0gZnVuY3Rpb24gKGNvbnRhaW5lcikge1xuICAgIGlmIChjb250YWluZXIuX3JlYWN0Um9vdENvbnRhaW5lciAmJiBjb250YWluZXIubm9kZVR5cGUgIT09IENPTU1FTlRfTk9ERSkge1xuICAgICAgdmFyIGhvc3RJbnN0YW5jZSA9IERPTVJlbmRlcmVyLmZpbmRIb3N0SW5zdGFuY2VXaXRoTm9Qb3J0YWxzKGNvbnRhaW5lci5fcmVhY3RSb290Q29udGFpbmVyLl9pbnRlcm5hbFJvb3QuY3VycmVudCk7XG4gICAgICBpZiAoaG9zdEluc3RhbmNlKSB7XG4gICAgICAgIHdhcm5pbmcoaG9zdEluc3RhbmNlLnBhcmVudE5vZGUgPT09IGNvbnRhaW5lciwgJ3JlbmRlciguLi4pOiBJdCBsb29rcyBsaWtlIHRoZSBSZWFjdC1yZW5kZXJlZCBjb250ZW50IG9mIHRoaXMgJyArICdjb250YWluZXIgd2FzIHJlbW92ZWQgd2l0aG91dCB1c2luZyBSZWFjdC4gVGhpcyBpcyBub3QgJyArICdzdXBwb3J0ZWQgYW5kIHdpbGwgY2F1c2UgZXJyb3JzLiBJbnN0ZWFkLCBjYWxsICcgKyAnUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZSB0byBlbXB0eSBhIGNvbnRhaW5lci4nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgaXNSb290UmVuZGVyZWRCeVNvbWVSZWFjdCA9ICEhY29udGFpbmVyLl9yZWFjdFJvb3RDb250YWluZXI7XG4gICAgdmFyIHJvb3RFbCA9IGdldFJlYWN0Um9vdEVsZW1lbnRJbkNvbnRhaW5lcihjb250YWluZXIpO1xuICAgIHZhciBoYXNOb25Sb290UmVhY3RDaGlsZCA9ICEhKHJvb3RFbCAmJiBnZXRJbnN0YW5jZUZyb21Ob2RlJDEocm9vdEVsKSk7XG5cbiAgICB3YXJuaW5nKCFoYXNOb25Sb290UmVhY3RDaGlsZCB8fCBpc1Jvb3RSZW5kZXJlZEJ5U29tZVJlYWN0LCAncmVuZGVyKC4uLik6IFJlcGxhY2luZyBSZWFjdC1yZW5kZXJlZCBjaGlsZHJlbiB3aXRoIGEgbmV3IHJvb3QgJyArICdjb21wb25lbnQuIElmIHlvdSBpbnRlbmRlZCB0byB1cGRhdGUgdGhlIGNoaWxkcmVuIG9mIHRoaXMgbm9kZSwgJyArICd5b3Ugc2hvdWxkIGluc3RlYWQgaGF2ZSB0aGUgZXhpc3RpbmcgY2hpbGRyZW4gdXBkYXRlIHRoZWlyIHN0YXRlICcgKyAnYW5kIHJlbmRlciB0aGUgbmV3IGNvbXBvbmVudHMgaW5zdGVhZCBvZiBjYWxsaW5nIFJlYWN0RE9NLnJlbmRlci4nKTtcblxuICAgIHdhcm5pbmcoY29udGFpbmVyLm5vZGVUeXBlICE9PSBFTEVNRU5UX05PREUgfHwgIWNvbnRhaW5lci50YWdOYW1lIHx8IGNvbnRhaW5lci50YWdOYW1lLnRvVXBwZXJDYXNlKCkgIT09ICdCT0RZJywgJ3JlbmRlcigpOiBSZW5kZXJpbmcgY29tcG9uZW50cyBkaXJlY3RseSBpbnRvIGRvY3VtZW50LmJvZHkgaXMgJyArICdkaXNjb3VyYWdlZCwgc2luY2UgaXRzIGNoaWxkcmVuIGFyZSBvZnRlbiBtYW5pcHVsYXRlZCBieSB0aGlyZC1wYXJ0eSAnICsgJ3NjcmlwdHMgYW5kIGJyb3dzZXIgZXh0ZW5zaW9ucy4gVGhpcyBtYXkgbGVhZCB0byBzdWJ0bGUgJyArICdyZWNvbmNpbGlhdGlvbiBpc3N1ZXMuIFRyeSByZW5kZXJpbmcgaW50byBhIGNvbnRhaW5lciBlbGVtZW50IGNyZWF0ZWQgJyArICdmb3IgeW91ciBhcHAuJyk7XG4gIH07XG5cbiAgd2Fybk9uSW52YWxpZENhbGxiYWNrID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBjYWxsZXJOYW1lKSB7XG4gICAgd2FybmluZyhjYWxsYmFjayA9PT0gbnVsbCB8fCB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicsICclcyguLi4pOiBFeHBlY3RlZCB0aGUgbGFzdCBvcHRpb25hbCBgY2FsbGJhY2tgIGFyZ3VtZW50IHRvIGJlIGEgJyArICdmdW5jdGlvbi4gSW5zdGVhZCByZWNlaXZlZDogJXMuJywgY2FsbGVyTmFtZSwgY2FsbGJhY2spO1xuICB9O1xufVxuXG5pbmplY3Rpb24kMi5pbmplY3RGaWJlckNvbnRyb2xsZWRIb3N0Q29tcG9uZW50KFJlYWN0RE9NRmliZXJDb21wb25lbnQpO1xuXG52YXIgZXZlbnRzRW5hYmxlZCA9IG51bGw7XG52YXIgc2VsZWN0aW9uSW5mb3JtYXRpb24gPSBudWxsO1xuXG5mdW5jdGlvbiBSZWFjdEJhdGNoKHJvb3QpIHtcbiAgdmFyIGV4cGlyYXRpb25UaW1lID0gRE9NUmVuZGVyZXIuY29tcHV0ZVVuaXF1ZUFzeW5jRXhwaXJhdGlvbigpO1xuICB0aGlzLl9leHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICB0aGlzLl9yb290ID0gcm9vdDtcbiAgdGhpcy5fbmV4dCA9IG51bGw7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IG51bGw7XG4gIHRoaXMuX2RpZENvbXBsZXRlID0gZmFsc2U7XG4gIHRoaXMuX2hhc0NoaWxkcmVuID0gZmFsc2U7XG4gIHRoaXMuX2NoaWxkcmVuID0gbnVsbDtcbiAgdGhpcy5fZGVmZXIgPSB0cnVlO1xufVxuUmVhY3RCYXRjaC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKGNoaWxkcmVuKSB7XG4gICF0aGlzLl9kZWZlciA/IGludmFyaWFudChmYWxzZSwgJ2JhdGNoLnJlbmRlcjogQ2Fubm90IHJlbmRlciBhIGJhdGNoIHRoYXQgYWxyZWFkeSBjb21taXR0ZWQuJykgOiB2b2lkIDA7XG4gIHRoaXMuX2hhc0NoaWxkcmVuID0gdHJ1ZTtcbiAgdGhpcy5fY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgdmFyIGludGVybmFsUm9vdCA9IHRoaXMuX3Jvb3QuX2ludGVybmFsUm9vdDtcbiAgdmFyIGV4cGlyYXRpb25UaW1lID0gdGhpcy5fZXhwaXJhdGlvblRpbWU7XG4gIHZhciB3b3JrID0gbmV3IFJlYWN0V29yaygpO1xuICBET01SZW5kZXJlci51cGRhdGVDb250YWluZXJBdEV4cGlyYXRpb25UaW1lKGNoaWxkcmVuLCBpbnRlcm5hbFJvb3QsIG51bGwsIGV4cGlyYXRpb25UaW1lLCB3b3JrLl9vbkNvbW1pdCk7XG4gIHJldHVybiB3b3JrO1xufTtcblJlYWN0QmF0Y2gucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbiAob25Db21wbGV0ZSkge1xuICBpZiAodGhpcy5fZGlkQ29tcGxldGUpIHtcbiAgICBvbkNvbXBsZXRlKCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3M7XG4gIGlmIChjYWxsYmFja3MgPT09IG51bGwpIHtcbiAgICBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgPSBbXTtcbiAgfVxuICBjYWxsYmFja3MucHVzaChvbkNvbXBsZXRlKTtcbn07XG5SZWFjdEJhdGNoLnByb3RvdHlwZS5jb21taXQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBpbnRlcm5hbFJvb3QgPSB0aGlzLl9yb290Ll9pbnRlcm5hbFJvb3Q7XG4gIHZhciBmaXJzdEJhdGNoID0gaW50ZXJuYWxSb290LmZpcnN0QmF0Y2g7XG4gICEodGhpcy5fZGVmZXIgJiYgZmlyc3RCYXRjaCAhPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdiYXRjaC5jb21taXQ6IENhbm5vdCBjb21taXQgYSBiYXRjaCBtdWx0aXBsZSB0aW1lcy4nKSA6IHZvaWQgMDtcblxuICBpZiAoIXRoaXMuX2hhc0NoaWxkcmVuKSB7XG4gICAgLy8gVGhpcyBiYXRjaCBpcyBlbXB0eS4gUmV0dXJuLlxuICAgIHRoaXMuX25leHQgPSBudWxsO1xuICAgIHRoaXMuX2RlZmVyID0gZmFsc2U7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGV4cGlyYXRpb25UaW1lID0gdGhpcy5fZXhwaXJhdGlvblRpbWU7XG5cbiAgLy8gRW5zdXJlIHRoaXMgaXMgdGhlIGZpcnN0IGJhdGNoIGluIHRoZSBsaXN0LlxuICBpZiAoZmlyc3RCYXRjaCAhPT0gdGhpcykge1xuICAgIC8vIFRoaXMgYmF0Y2ggaXMgbm90IHRoZSBlYXJsaWVzdCBiYXRjaC4gV2UgbmVlZCB0byBtb3ZlIGl0IHRvIHRoZSBmcm9udC5cbiAgICAvLyBVcGRhdGUgaXRzIGV4cGlyYXRpb24gdGltZSB0byBiZSB0aGUgZXhwaXJhdGlvbiB0aW1lIG9mIHRoZSBlYXJsaWVzdFxuICAgIC8vIGJhdGNoLCBzbyB0aGF0IHdlIGNhbiBmbHVzaCBpdCB3aXRob3V0IGZsdXNoaW5nIHRoZSBvdGhlciBiYXRjaGVzLlxuICAgIGlmICh0aGlzLl9oYXNDaGlsZHJlbikge1xuICAgICAgZXhwaXJhdGlvblRpbWUgPSB0aGlzLl9leHBpcmF0aW9uVGltZSA9IGZpcnN0QmF0Y2guX2V4cGlyYXRpb25UaW1lO1xuICAgICAgLy8gUmVuZGVyaW5nIHRoaXMgYmF0Y2ggYWdhaW4gZW5zdXJlcyBpdHMgY2hpbGRyZW4gd2lsbCBiZSB0aGUgZmluYWwgc3RhdGVcbiAgICAgIC8vIHdoZW4gd2UgZmx1c2ggKHVwZGF0ZXMgYXJlIHByb2Nlc3NlZCBpbiBpbnNlcnRpb24gb3JkZXI6IGxhc3RcbiAgICAgIC8vIHVwZGF0ZSB3aW5zKS5cbiAgICAgIC8vIFRPRE86IFRoaXMgZm9yY2VzIGEgcmVzdGFydC4gU2hvdWxkIHdlIHByaW50IGEgd2FybmluZz9cbiAgICAgIHRoaXMucmVuZGVyKHRoaXMuX2NoaWxkcmVuKTtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgdGhlIGJhdGNoIGZyb20gdGhlIGxpc3QuXG4gICAgdmFyIHByZXZpb3VzID0gbnVsbDtcbiAgICB2YXIgYmF0Y2ggPSBmaXJzdEJhdGNoO1xuICAgIHdoaWxlIChiYXRjaCAhPT0gdGhpcykge1xuICAgICAgcHJldmlvdXMgPSBiYXRjaDtcbiAgICAgIGJhdGNoID0gYmF0Y2guX25leHQ7XG4gICAgfVxuICAgICEocHJldmlvdXMgIT09IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnYmF0Y2guY29tbWl0OiBDYW5ub3QgY29tbWl0IGEgYmF0Y2ggbXVsdGlwbGUgdGltZXMuJykgOiB2b2lkIDA7XG4gICAgcHJldmlvdXMuX25leHQgPSBiYXRjaC5fbmV4dDtcblxuICAgIC8vIEFkZCBpdCB0byB0aGUgZnJvbnQuXG4gICAgdGhpcy5fbmV4dCA9IGZpcnN0QmF0Y2g7XG4gICAgZmlyc3RCYXRjaCA9IGludGVybmFsUm9vdC5maXJzdEJhdGNoID0gdGhpcztcbiAgfVxuXG4gIC8vIFN5bmNocm9ub3VzbHkgZmx1c2ggYWxsIHRoZSB3b3JrIHVwIHRvIHRoaXMgYmF0Y2gncyBleHBpcmF0aW9uIHRpbWUuXG4gIHRoaXMuX2RlZmVyID0gZmFsc2U7XG4gIERPTVJlbmRlcmVyLmZsdXNoUm9vdChpbnRlcm5hbFJvb3QsIGV4cGlyYXRpb25UaW1lKTtcblxuICAvLyBQb3AgdGhlIGJhdGNoIGZyb20gdGhlIGxpc3QuXG4gIHZhciBuZXh0ID0gdGhpcy5fbmV4dDtcbiAgdGhpcy5fbmV4dCA9IG51bGw7XG4gIGZpcnN0QmF0Y2ggPSBpbnRlcm5hbFJvb3QuZmlyc3RCYXRjaCA9IG5leHQ7XG5cbiAgLy8gQXBwZW5kIHRoZSBuZXh0IGVhcmxpZXN0IGJhdGNoJ3MgY2hpbGRyZW4gdG8gdGhlIHVwZGF0ZSBxdWV1ZS5cbiAgaWYgKGZpcnN0QmF0Y2ggIT09IG51bGwgJiYgZmlyc3RCYXRjaC5faGFzQ2hpbGRyZW4pIHtcbiAgICBmaXJzdEJhdGNoLnJlbmRlcihmaXJzdEJhdGNoLl9jaGlsZHJlbik7XG4gIH1cbn07XG5SZWFjdEJhdGNoLnByb3RvdHlwZS5fb25Db21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuX2RpZENvbXBsZXRlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRoaXMuX2RpZENvbXBsZXRlID0gdHJ1ZTtcbiAgdmFyIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcztcbiAgaWYgKGNhbGxiYWNrcyA9PT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBUT0RPOiBFcnJvciBoYW5kbGluZy5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgX2NhbGxiYWNrID0gY2FsbGJhY2tzW2ldO1xuICAgIF9jYWxsYmFjaygpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBSZWFjdFdvcmsoKSB7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IG51bGw7XG4gIHRoaXMuX2RpZENvbW1pdCA9IGZhbHNlO1xuICAvLyBUT0RPOiBBdm9pZCBuZWVkIHRvIGJpbmQgYnkgcmVwbGFjaW5nIGNhbGxiYWNrcyBpbiB0aGUgdXBkYXRlIHF1ZXVlIHdpdGhcbiAgLy8gbGlzdCBvZiBXb3JrIG9iamVjdHMuXG4gIHRoaXMuX29uQ29tbWl0ID0gdGhpcy5fb25Db21taXQuYmluZCh0aGlzKTtcbn1cblJlYWN0V29yay5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uIChvbkNvbW1pdCkge1xuICBpZiAodGhpcy5fZGlkQ29tbWl0KSB7XG4gICAgb25Db21taXQoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcztcbiAgaWYgKGNhbGxiYWNrcyA9PT0gbnVsbCkge1xuICAgIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyA9IFtdO1xuICB9XG4gIGNhbGxiYWNrcy5wdXNoKG9uQ29tbWl0KTtcbn07XG5SZWFjdFdvcmsucHJvdG90eXBlLl9vbkNvbW1pdCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuX2RpZENvbW1pdCkge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLl9kaWRDb21taXQgPSB0cnVlO1xuICB2YXIgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzO1xuICBpZiAoY2FsbGJhY2tzID09PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIFRPRE86IEVycm9yIGhhbmRsaW5nLlxuICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBfY2FsbGJhY2syID0gY2FsbGJhY2tzW2ldO1xuICAgICEodHlwZW9mIF9jYWxsYmFjazIgPT09ICdmdW5jdGlvbicpID8gaW52YXJpYW50KGZhbHNlLCAnSW52YWxpZCBhcmd1bWVudCBwYXNzZWQgYXMgY2FsbGJhY2suIEV4cGVjdGVkIGEgZnVuY3Rpb24uIEluc3RlYWQgcmVjZWl2ZWQ6ICVzJywgX2NhbGxiYWNrMikgOiB2b2lkIDA7XG4gICAgX2NhbGxiYWNrMigpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBSZWFjdFJvb3QoY29udGFpbmVyLCBpc0FzeW5jLCBoeWRyYXRlKSB7XG4gIHZhciByb290ID0gRE9NUmVuZGVyZXIuY3JlYXRlQ29udGFpbmVyKGNvbnRhaW5lciwgaXNBc3luYywgaHlkcmF0ZSk7XG4gIHRoaXMuX2ludGVybmFsUm9vdCA9IHJvb3Q7XG59XG5SZWFjdFJvb3QucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChjaGlsZHJlbiwgY2FsbGJhY2spIHtcbiAgdmFyIHJvb3QgPSB0aGlzLl9pbnRlcm5hbFJvb3Q7XG4gIHZhciB3b3JrID0gbmV3IFJlYWN0V29yaygpO1xuICBjYWxsYmFjayA9IGNhbGxiYWNrID09PSB1bmRlZmluZWQgPyBudWxsIDogY2FsbGJhY2s7XG4gIHtcbiAgICB3YXJuT25JbnZhbGlkQ2FsbGJhY2soY2FsbGJhY2ssICdyZW5kZXInKTtcbiAgfVxuICBpZiAoY2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICB3b3JrLnRoZW4oY2FsbGJhY2spO1xuICB9XG4gIERPTVJlbmRlcmVyLnVwZGF0ZUNvbnRhaW5lcihjaGlsZHJlbiwgcm9vdCwgbnVsbCwgd29yay5fb25Db21taXQpO1xuICByZXR1cm4gd29yaztcbn07XG5SZWFjdFJvb3QucHJvdG90eXBlLnVubW91bnQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgdmFyIHJvb3QgPSB0aGlzLl9pbnRlcm5hbFJvb3Q7XG4gIHZhciB3b3JrID0gbmV3IFJlYWN0V29yaygpO1xuICBjYWxsYmFjayA9IGNhbGxiYWNrID09PSB1bmRlZmluZWQgPyBudWxsIDogY2FsbGJhY2s7XG4gIHtcbiAgICB3YXJuT25JbnZhbGlkQ2FsbGJhY2soY2FsbGJhY2ssICdyZW5kZXInKTtcbiAgfVxuICBpZiAoY2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICB3b3JrLnRoZW4oY2FsbGJhY2spO1xuICB9XG4gIERPTVJlbmRlcmVyLnVwZGF0ZUNvbnRhaW5lcihudWxsLCByb290LCBudWxsLCB3b3JrLl9vbkNvbW1pdCk7XG4gIHJldHVybiB3b3JrO1xufTtcblJlYWN0Um9vdC5wcm90b3R5cGUubGVnYWN5X3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyID0gZnVuY3Rpb24gKHBhcmVudENvbXBvbmVudCwgY2hpbGRyZW4sIGNhbGxiYWNrKSB7XG4gIHZhciByb290ID0gdGhpcy5faW50ZXJuYWxSb290O1xuICB2YXIgd29yayA9IG5ldyBSZWFjdFdvcmsoKTtcbiAgY2FsbGJhY2sgPSBjYWxsYmFjayA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGNhbGxiYWNrO1xuICB7XG4gICAgd2Fybk9uSW52YWxpZENhbGxiYWNrKGNhbGxiYWNrLCAncmVuZGVyJyk7XG4gIH1cbiAgaWYgKGNhbGxiYWNrICE9PSBudWxsKSB7XG4gICAgd29yay50aGVuKGNhbGxiYWNrKTtcbiAgfVxuICBET01SZW5kZXJlci51cGRhdGVDb250YWluZXIoY2hpbGRyZW4sIHJvb3QsIHBhcmVudENvbXBvbmVudCwgd29yay5fb25Db21taXQpO1xuICByZXR1cm4gd29yaztcbn07XG5SZWFjdFJvb3QucHJvdG90eXBlLmNyZWF0ZUJhdGNoID0gZnVuY3Rpb24gKCkge1xuICB2YXIgYmF0Y2ggPSBuZXcgUmVhY3RCYXRjaCh0aGlzKTtcbiAgdmFyIGV4cGlyYXRpb25UaW1lID0gYmF0Y2guX2V4cGlyYXRpb25UaW1lO1xuXG4gIHZhciBpbnRlcm5hbFJvb3QgPSB0aGlzLl9pbnRlcm5hbFJvb3Q7XG4gIHZhciBmaXJzdEJhdGNoID0gaW50ZXJuYWxSb290LmZpcnN0QmF0Y2g7XG4gIGlmIChmaXJzdEJhdGNoID09PSBudWxsKSB7XG4gICAgaW50ZXJuYWxSb290LmZpcnN0QmF0Y2ggPSBiYXRjaDtcbiAgICBiYXRjaC5fbmV4dCA9IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgLy8gSW5zZXJ0IHNvcnRlZCBieSBleHBpcmF0aW9uIHRpbWUgdGhlbiBpbnNlcnRpb24gb3JkZXJcbiAgICB2YXIgaW5zZXJ0QWZ0ZXIgPSBudWxsO1xuICAgIHZhciBpbnNlcnRCZWZvcmUgPSBmaXJzdEJhdGNoO1xuICAgIHdoaWxlIChpbnNlcnRCZWZvcmUgIT09IG51bGwgJiYgaW5zZXJ0QmVmb3JlLl9leHBpcmF0aW9uVGltZSA8PSBleHBpcmF0aW9uVGltZSkge1xuICAgICAgaW5zZXJ0QWZ0ZXIgPSBpbnNlcnRCZWZvcmU7XG4gICAgICBpbnNlcnRCZWZvcmUgPSBpbnNlcnRCZWZvcmUuX25leHQ7XG4gICAgfVxuICAgIGJhdGNoLl9uZXh0ID0gaW5zZXJ0QmVmb3JlO1xuICAgIGlmIChpbnNlcnRBZnRlciAhPT0gbnVsbCkge1xuICAgICAgaW5zZXJ0QWZ0ZXIuX25leHQgPSBiYXRjaDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYmF0Y2g7XG59O1xuXG4vKipcbiAqIFRydWUgaWYgdGhlIHN1cHBsaWVkIERPTSBub2RlIGlzIGEgdmFsaWQgbm9kZSBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7P0RPTUVsZW1lbnR9IG5vZGUgVGhlIGNhbmRpZGF0ZSBET00gbm9kZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIERPTSBpcyBhIHZhbGlkIERPTSBub2RlLlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWRDb250YWluZXIobm9kZSkge1xuICByZXR1cm4gISEobm9kZSAmJiAobm9kZS5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFIHx8IG5vZGUubm9kZVR5cGUgPT09IERPQ1VNRU5UX05PREUgfHwgbm9kZS5ub2RlVHlwZSA9PT0gRE9DVU1FTlRfRlJBR01FTlRfTk9ERSB8fCBub2RlLm5vZGVUeXBlID09PSBDT01NRU5UX05PREUgJiYgbm9kZS5ub2RlVmFsdWUgPT09ICcgcmVhY3QtbW91bnQtcG9pbnQtdW5zdGFibGUgJykpO1xufVxuXG5mdW5jdGlvbiBnZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXIoY29udGFpbmVyKSB7XG4gIGlmICghY29udGFpbmVyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoY29udGFpbmVyLm5vZGVUeXBlID09PSBET0NVTUVOVF9OT0RFKSB7XG4gICAgcmV0dXJuIGNvbnRhaW5lci5kb2N1bWVudEVsZW1lbnQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbnRhaW5lci5maXJzdENoaWxkO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNob3VsZEh5ZHJhdGVEdWVUb0xlZ2FjeUhldXJpc3RpYyhjb250YWluZXIpIHtcbiAgdmFyIHJvb3RFbGVtZW50ID0gZ2V0UmVhY3RSb290RWxlbWVudEluQ29udGFpbmVyKGNvbnRhaW5lcik7XG4gIHJldHVybiAhIShyb290RWxlbWVudCAmJiByb290RWxlbWVudC5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFICYmIHJvb3RFbGVtZW50Lmhhc0F0dHJpYnV0ZShST09UX0FUVFJJQlVURV9OQU1FKSk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZEF1dG9Gb2N1c0hvc3RDb21wb25lbnQodHlwZSwgcHJvcHMpIHtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnYnV0dG9uJzpcbiAgICBjYXNlICdpbnB1dCc6XG4gICAgY2FzZSAnc2VsZWN0JzpcbiAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgICByZXR1cm4gISFwcm9wcy5hdXRvRm9jdXM7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG52YXIgRE9NUmVuZGVyZXIgPSByZWFjdFJlY29uY2lsZXIoe1xuICBnZXRSb290SG9zdENvbnRleHQ6IGZ1bmN0aW9uIChyb290Q29udGFpbmVySW5zdGFuY2UpIHtcbiAgICB2YXIgdHlwZSA9IHZvaWQgMDtcbiAgICB2YXIgbmFtZXNwYWNlID0gdm9pZCAwO1xuICAgIHZhciBub2RlVHlwZSA9IHJvb3RDb250YWluZXJJbnN0YW5jZS5ub2RlVHlwZTtcbiAgICBzd2l0Y2ggKG5vZGVUeXBlKSB7XG4gICAgICBjYXNlIERPQ1VNRU5UX05PREU6XG4gICAgICBjYXNlIERPQ1VNRU5UX0ZSQUdNRU5UX05PREU6XG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlID0gbm9kZVR5cGUgPT09IERPQ1VNRU5UX05PREUgPyAnI2RvY3VtZW50JyA6ICcjZnJhZ21lbnQnO1xuICAgICAgICAgIHZhciByb290ID0gcm9vdENvbnRhaW5lckluc3RhbmNlLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgICBuYW1lc3BhY2UgPSByb290ID8gcm9vdC5uYW1lc3BhY2VVUkkgOiBnZXRDaGlsZE5hbWVzcGFjZShudWxsLCAnJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgY29udGFpbmVyID0gbm9kZVR5cGUgPT09IENPTU1FTlRfTk9ERSA/IHJvb3RDb250YWluZXJJbnN0YW5jZS5wYXJlbnROb2RlIDogcm9vdENvbnRhaW5lckluc3RhbmNlO1xuICAgICAgICAgIHZhciBvd25OYW1lc3BhY2UgPSBjb250YWluZXIubmFtZXNwYWNlVVJJIHx8IG51bGw7XG4gICAgICAgICAgdHlwZSA9IGNvbnRhaW5lci50YWdOYW1lO1xuICAgICAgICAgIG5hbWVzcGFjZSA9IGdldENoaWxkTmFtZXNwYWNlKG93bk5hbWVzcGFjZSwgdHlwZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAge1xuICAgICAgdmFyIHZhbGlkYXRlZFRhZyA9IHR5cGUudG9Mb3dlckNhc2UoKTtcbiAgICAgIHZhciBfYW5jZXN0b3JJbmZvID0gdXBkYXRlZEFuY2VzdG9ySW5mbyhudWxsLCB2YWxpZGF0ZWRUYWcsIG51bGwpO1xuICAgICAgcmV0dXJuIHsgbmFtZXNwYWNlOiBuYW1lc3BhY2UsIGFuY2VzdG9ySW5mbzogX2FuY2VzdG9ySW5mbyB9O1xuICAgIH1cbiAgICByZXR1cm4gbmFtZXNwYWNlO1xuICB9LFxuICBnZXRDaGlsZEhvc3RDb250ZXh0OiBmdW5jdGlvbiAocGFyZW50SG9zdENvbnRleHQsIHR5cGUpIHtcbiAgICB7XG4gICAgICB2YXIgcGFyZW50SG9zdENvbnRleHREZXYgPSBwYXJlbnRIb3N0Q29udGV4dDtcbiAgICAgIHZhciBfbmFtZXNwYWNlID0gZ2V0Q2hpbGROYW1lc3BhY2UocGFyZW50SG9zdENvbnRleHREZXYubmFtZXNwYWNlLCB0eXBlKTtcbiAgICAgIHZhciBfYW5jZXN0b3JJbmZvMiA9IHVwZGF0ZWRBbmNlc3RvckluZm8ocGFyZW50SG9zdENvbnRleHREZXYuYW5jZXN0b3JJbmZvLCB0eXBlLCBudWxsKTtcbiAgICAgIHJldHVybiB7IG5hbWVzcGFjZTogX25hbWVzcGFjZSwgYW5jZXN0b3JJbmZvOiBfYW5jZXN0b3JJbmZvMiB9O1xuICAgIH1cbiAgICB2YXIgcGFyZW50TmFtZXNwYWNlID0gcGFyZW50SG9zdENvbnRleHQ7XG4gICAgcmV0dXJuIGdldENoaWxkTmFtZXNwYWNlKHBhcmVudE5hbWVzcGFjZSwgdHlwZSk7XG4gIH0sXG4gIGdldFB1YmxpY0luc3RhbmNlOiBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH0sXG4gIHByZXBhcmVGb3JDb21taXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBldmVudHNFbmFibGVkID0gaXNFbmFibGVkKCk7XG4gICAgc2VsZWN0aW9uSW5mb3JtYXRpb24gPSBnZXRTZWxlY3Rpb25JbmZvcm1hdGlvbigpO1xuICAgIHNldEVuYWJsZWQoZmFsc2UpO1xuICB9LFxuICByZXNldEFmdGVyQ29tbWl0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmVzdG9yZVNlbGVjdGlvbihzZWxlY3Rpb25JbmZvcm1hdGlvbik7XG4gICAgc2VsZWN0aW9uSW5mb3JtYXRpb24gPSBudWxsO1xuICAgIHNldEVuYWJsZWQoZXZlbnRzRW5hYmxlZCk7XG4gICAgZXZlbnRzRW5hYmxlZCA9IG51bGw7XG4gIH0sXG4gIGNyZWF0ZUluc3RhbmNlOiBmdW5jdGlvbiAodHlwZSwgcHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgaG9zdENvbnRleHQsIGludGVybmFsSW5zdGFuY2VIYW5kbGUpIHtcbiAgICB2YXIgcGFyZW50TmFtZXNwYWNlID0gdm9pZCAwO1xuICAgIHtcbiAgICAgIC8vIFRPRE86IHRha2UgbmFtZXNwYWNlIGludG8gYWNjb3VudCB3aGVuIHZhbGlkYXRpbmcuXG4gICAgICB2YXIgaG9zdENvbnRleHREZXYgPSBob3N0Q29udGV4dDtcbiAgICAgIHZhbGlkYXRlRE9NTmVzdGluZyQxKHR5cGUsIG51bGwsIGhvc3RDb250ZXh0RGV2LmFuY2VzdG9ySW5mbyk7XG4gICAgICBpZiAodHlwZW9mIHByb3BzLmNoaWxkcmVuID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgcHJvcHMuY2hpbGRyZW4gPT09ICdudW1iZXInKSB7XG4gICAgICAgIHZhciBzdHJpbmcgPSAnJyArIHByb3BzLmNoaWxkcmVuO1xuICAgICAgICB2YXIgb3duQW5jZXN0b3JJbmZvID0gdXBkYXRlZEFuY2VzdG9ySW5mbyhob3N0Q29udGV4dERldi5hbmNlc3RvckluZm8sIHR5cGUsIG51bGwpO1xuICAgICAgICB2YWxpZGF0ZURPTU5lc3RpbmckMShudWxsLCBzdHJpbmcsIG93bkFuY2VzdG9ySW5mbyk7XG4gICAgICB9XG4gICAgICBwYXJlbnROYW1lc3BhY2UgPSBob3N0Q29udGV4dERldi5uYW1lc3BhY2U7XG4gICAgfVxuICAgIHZhciBkb21FbGVtZW50ID0gY3JlYXRlRWxlbWVudCh0eXBlLCBwcm9wcywgcm9vdENvbnRhaW5lckluc3RhbmNlLCBwYXJlbnROYW1lc3BhY2UpO1xuICAgIHByZWNhY2hlRmliZXJOb2RlKGludGVybmFsSW5zdGFuY2VIYW5kbGUsIGRvbUVsZW1lbnQpO1xuICAgIHVwZGF0ZUZpYmVyUHJvcHMoZG9tRWxlbWVudCwgcHJvcHMpO1xuICAgIHJldHVybiBkb21FbGVtZW50O1xuICB9LFxuICBhcHBlbmRJbml0aWFsQ2hpbGQ6IGZ1bmN0aW9uIChwYXJlbnRJbnN0YW5jZSwgY2hpbGQpIHtcbiAgICBwYXJlbnRJbnN0YW5jZS5hcHBlbmRDaGlsZChjaGlsZCk7XG4gIH0sXG4gIGZpbmFsaXplSW5pdGlhbENoaWxkcmVuOiBmdW5jdGlvbiAoZG9tRWxlbWVudCwgdHlwZSwgcHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSkge1xuICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKGRvbUVsZW1lbnQsIHR5cGUsIHByb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UpO1xuICAgIHJldHVybiBzaG91bGRBdXRvRm9jdXNIb3N0Q29tcG9uZW50KHR5cGUsIHByb3BzKTtcbiAgfSxcbiAgcHJlcGFyZVVwZGF0ZTogZnVuY3Rpb24gKGRvbUVsZW1lbnQsIHR5cGUsIG9sZFByb3BzLCBuZXdQcm9wcywgcm9vdENvbnRhaW5lckluc3RhbmNlLCBob3N0Q29udGV4dCkge1xuICAgIHtcbiAgICAgIHZhciBob3N0Q29udGV4dERldiA9IGhvc3RDb250ZXh0O1xuICAgICAgaWYgKHR5cGVvZiBuZXdQcm9wcy5jaGlsZHJlbiAhPT0gdHlwZW9mIG9sZFByb3BzLmNoaWxkcmVuICYmICh0eXBlb2YgbmV3UHJvcHMuY2hpbGRyZW4gPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBuZXdQcm9wcy5jaGlsZHJlbiA9PT0gJ251bWJlcicpKSB7XG4gICAgICAgIHZhciBzdHJpbmcgPSAnJyArIG5ld1Byb3BzLmNoaWxkcmVuO1xuICAgICAgICB2YXIgb3duQW5jZXN0b3JJbmZvID0gdXBkYXRlZEFuY2VzdG9ySW5mbyhob3N0Q29udGV4dERldi5hbmNlc3RvckluZm8sIHR5cGUsIG51bGwpO1xuICAgICAgICB2YWxpZGF0ZURPTU5lc3RpbmckMShudWxsLCBzdHJpbmcsIG93bkFuY2VzdG9ySW5mbyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkaWZmUHJvcGVydGllcyhkb21FbGVtZW50LCB0eXBlLCBvbGRQcm9wcywgbmV3UHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSk7XG4gIH0sXG4gIHNob3VsZFNldFRleHRDb250ZW50OiBmdW5jdGlvbiAodHlwZSwgcHJvcHMpIHtcbiAgICByZXR1cm4gdHlwZSA9PT0gJ3RleHRhcmVhJyB8fCB0eXBlb2YgcHJvcHMuY2hpbGRyZW4gPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBwcm9wcy5jaGlsZHJlbiA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MID09PSAnb2JqZWN0JyAmJiBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCAhPT0gbnVsbCAmJiB0eXBlb2YgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwuX19odG1sID09PSAnc3RyaW5nJztcbiAgfSxcbiAgc2hvdWxkRGVwcmlvcml0aXplU3VidHJlZTogZnVuY3Rpb24gKHR5cGUsIHByb3BzKSB7XG4gICAgcmV0dXJuICEhcHJvcHMuaGlkZGVuO1xuICB9LFxuICBjcmVhdGVUZXh0SW5zdGFuY2U6IGZ1bmN0aW9uICh0ZXh0LCByb290Q29udGFpbmVySW5zdGFuY2UsIGhvc3RDb250ZXh0LCBpbnRlcm5hbEluc3RhbmNlSGFuZGxlKSB7XG4gICAge1xuICAgICAgdmFyIGhvc3RDb250ZXh0RGV2ID0gaG9zdENvbnRleHQ7XG4gICAgICB2YWxpZGF0ZURPTU5lc3RpbmckMShudWxsLCB0ZXh0LCBob3N0Q29udGV4dERldi5hbmNlc3RvckluZm8pO1xuICAgIH1cbiAgICB2YXIgdGV4dE5vZGUgPSBjcmVhdGVUZXh0Tm9kZSh0ZXh0LCByb290Q29udGFpbmVySW5zdGFuY2UpO1xuICAgIHByZWNhY2hlRmliZXJOb2RlKGludGVybmFsSW5zdGFuY2VIYW5kbGUsIHRleHROb2RlKTtcbiAgICByZXR1cm4gdGV4dE5vZGU7XG4gIH0sXG5cblxuICBub3c6IG5vdyxcblxuICBtdXRhdGlvbjoge1xuICAgIGNvbW1pdE1vdW50OiBmdW5jdGlvbiAoZG9tRWxlbWVudCwgdHlwZSwgbmV3UHJvcHMsIGludGVybmFsSW5zdGFuY2VIYW5kbGUpIHtcbiAgICAgIC8vIERlc3BpdGUgdGhlIG5hbWluZyB0aGF0IG1pZ2h0IGltcGx5IG90aGVyd2lzZSwgdGhpcyBtZXRob2Qgb25seVxuICAgICAgLy8gZmlyZXMgaWYgdGhlcmUgaXMgYW4gYFVwZGF0ZWAgZWZmZWN0IHNjaGVkdWxlZCBkdXJpbmcgbW91bnRpbmcuXG4gICAgICAvLyBUaGlzIGhhcHBlbnMgaWYgYGZpbmFsaXplSW5pdGlhbENoaWxkcmVuYCByZXR1cm5zIGB0cnVlYCAod2hpY2ggaXRcbiAgICAgIC8vIGRvZXMgdG8gaW1wbGVtZW50IHRoZSBgYXV0b0ZvY3VzYCBhdHRyaWJ1dGUgb24gdGhlIGNsaWVudCkuIEJ1dFxuICAgICAgLy8gdGhlcmUgYXJlIGFsc28gb3RoZXIgY2FzZXMgd2hlbiB0aGlzIG1pZ2h0IGhhcHBlbiAoc3VjaCBhcyBwYXRjaGluZ1xuICAgICAgLy8gdXAgdGV4dCBjb250ZW50IGR1cmluZyBoeWRyYXRpb24gbWlzbWF0Y2gpLiBTbyB3ZSdsbCBjaGVjayB0aGlzIGFnYWluLlxuICAgICAgaWYgKHNob3VsZEF1dG9Gb2N1c0hvc3RDb21wb25lbnQodHlwZSwgbmV3UHJvcHMpKSB7XG4gICAgICAgIGRvbUVsZW1lbnQuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNvbW1pdFVwZGF0ZTogZnVuY3Rpb24gKGRvbUVsZW1lbnQsIHVwZGF0ZVBheWxvYWQsIHR5cGUsIG9sZFByb3BzLCBuZXdQcm9wcywgaW50ZXJuYWxJbnN0YW5jZUhhbmRsZSkge1xuICAgICAgLy8gVXBkYXRlIHRoZSBwcm9wcyBoYW5kbGUgc28gdGhhdCB3ZSBrbm93IHdoaWNoIHByb3BzIGFyZSB0aGUgb25lcyB3aXRoXG4gICAgICAvLyB3aXRoIGN1cnJlbnQgZXZlbnQgaGFuZGxlcnMuXG4gICAgICB1cGRhdGVGaWJlclByb3BzKGRvbUVsZW1lbnQsIG5ld1Byb3BzKTtcbiAgICAgIC8vIEFwcGx5IHRoZSBkaWZmIHRvIHRoZSBET00gbm9kZS5cbiAgICAgIHVwZGF0ZVByb3BlcnRpZXMoZG9tRWxlbWVudCwgdXBkYXRlUGF5bG9hZCwgdHlwZSwgb2xkUHJvcHMsIG5ld1Byb3BzKTtcbiAgICB9LFxuICAgIHJlc2V0VGV4dENvbnRlbnQ6IGZ1bmN0aW9uIChkb21FbGVtZW50KSB7XG4gICAgICBzZXRUZXh0Q29udGVudChkb21FbGVtZW50LCAnJyk7XG4gICAgfSxcbiAgICBjb21taXRUZXh0VXBkYXRlOiBmdW5jdGlvbiAodGV4dEluc3RhbmNlLCBvbGRUZXh0LCBuZXdUZXh0KSB7XG4gICAgICB0ZXh0SW5zdGFuY2Uubm9kZVZhbHVlID0gbmV3VGV4dDtcbiAgICB9LFxuICAgIGFwcGVuZENoaWxkOiBmdW5jdGlvbiAocGFyZW50SW5zdGFuY2UsIGNoaWxkKSB7XG4gICAgICBwYXJlbnRJbnN0YW5jZS5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgfSxcbiAgICBhcHBlbmRDaGlsZFRvQ29udGFpbmVyOiBmdW5jdGlvbiAoY29udGFpbmVyLCBjaGlsZCkge1xuICAgICAgaWYgKGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gQ09NTUVOVF9OT0RFKSB7XG4gICAgICAgIGNvbnRhaW5lci5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjaGlsZCwgY29udGFpbmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBpbnNlcnRCZWZvcmU6IGZ1bmN0aW9uIChwYXJlbnRJbnN0YW5jZSwgY2hpbGQsIGJlZm9yZUNoaWxkKSB7XG4gICAgICBwYXJlbnRJbnN0YW5jZS5pbnNlcnRCZWZvcmUoY2hpbGQsIGJlZm9yZUNoaWxkKTtcbiAgICB9LFxuICAgIGluc2VydEluQ29udGFpbmVyQmVmb3JlOiBmdW5jdGlvbiAoY29udGFpbmVyLCBjaGlsZCwgYmVmb3JlQ2hpbGQpIHtcbiAgICAgIGlmIChjb250YWluZXIubm9kZVR5cGUgPT09IENPTU1FTlRfTk9ERSkge1xuICAgICAgICBjb250YWluZXIucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoY2hpbGQsIGJlZm9yZUNoaWxkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUoY2hpbGQsIGJlZm9yZUNoaWxkKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZUNoaWxkOiBmdW5jdGlvbiAocGFyZW50SW5zdGFuY2UsIGNoaWxkKSB7XG4gICAgICBwYXJlbnRJbnN0YW5jZS5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgfSxcbiAgICByZW1vdmVDaGlsZEZyb21Db250YWluZXI6IGZ1bmN0aW9uIChjb250YWluZXIsIGNoaWxkKSB7XG4gICAgICBpZiAoY29udGFpbmVyLm5vZGVUeXBlID09PSBDT01NRU5UX05PREUpIHtcbiAgICAgICAgY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgaHlkcmF0aW9uOiB7XG4gICAgY2FuSHlkcmF0ZUluc3RhbmNlOiBmdW5jdGlvbiAoaW5zdGFuY2UsIHR5cGUsIHByb3BzKSB7XG4gICAgICBpZiAoaW5zdGFuY2Uubm9kZVR5cGUgIT09IEVMRU1FTlRfTk9ERSB8fCB0eXBlLnRvTG93ZXJDYXNlKCkgIT09IGluc3RhbmNlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICAvLyBUaGlzIGhhcyBub3cgYmVlbiByZWZpbmVkIHRvIGFuIGVsZW1lbnQgbm9kZS5cbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9LFxuICAgIGNhbkh5ZHJhdGVUZXh0SW5zdGFuY2U6IGZ1bmN0aW9uIChpbnN0YW5jZSwgdGV4dCkge1xuICAgICAgaWYgKHRleHQgPT09ICcnIHx8IGluc3RhbmNlLm5vZGVUeXBlICE9PSBURVhUX05PREUpIHtcbiAgICAgICAgLy8gRW1wdHkgc3RyaW5ncyBhcmUgbm90IHBhcnNlZCBieSBIVE1MIHNvIHRoZXJlIHdvbid0IGJlIGEgY29ycmVjdCBtYXRjaCBoZXJlLlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIC8vIFRoaXMgaGFzIG5vdyBiZWVuIHJlZmluZWQgdG8gYSB0ZXh0IG5vZGUuXG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfSxcbiAgICBnZXROZXh0SHlkcmF0YWJsZVNpYmxpbmc6IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgdmFyIG5vZGUgPSBpbnN0YW5jZS5uZXh0U2libGluZztcbiAgICAgIC8vIFNraXAgbm9uLWh5ZHJhdGFibGUgbm9kZXMuXG4gICAgICB3aGlsZSAobm9kZSAmJiBub2RlLm5vZGVUeXBlICE9PSBFTEVNRU5UX05PREUgJiYgbm9kZS5ub2RlVHlwZSAhPT0gVEVYVF9OT0RFKSB7XG4gICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSxcbiAgICBnZXRGaXJzdEh5ZHJhdGFibGVDaGlsZDogZnVuY3Rpb24gKHBhcmVudEluc3RhbmNlKSB7XG4gICAgICB2YXIgbmV4dCA9IHBhcmVudEluc3RhbmNlLmZpcnN0Q2hpbGQ7XG4gICAgICAvLyBTa2lwIG5vbi1oeWRyYXRhYmxlIG5vZGVzLlxuICAgICAgd2hpbGUgKG5leHQgJiYgbmV4dC5ub2RlVHlwZSAhPT0gRUxFTUVOVF9OT0RFICYmIG5leHQubm9kZVR5cGUgIT09IFRFWFRfTk9ERSkge1xuICAgICAgICBuZXh0ID0gbmV4dC5uZXh0U2libGluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH0sXG4gICAgaHlkcmF0ZUluc3RhbmNlOiBmdW5jdGlvbiAoaW5zdGFuY2UsIHR5cGUsIHByb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UsIGhvc3RDb250ZXh0LCBpbnRlcm5hbEluc3RhbmNlSGFuZGxlKSB7XG4gICAgICBwcmVjYWNoZUZpYmVyTm9kZShpbnRlcm5hbEluc3RhbmNlSGFuZGxlLCBpbnN0YW5jZSk7XG4gICAgICAvLyBUT0RPOiBQb3NzaWJseSBkZWZlciB0aGlzIHVudGlsIHRoZSBjb21taXQgcGhhc2Ugd2hlcmUgYWxsIHRoZSBldmVudHNcbiAgICAgIC8vIGdldCBhdHRhY2hlZC5cbiAgICAgIHVwZGF0ZUZpYmVyUHJvcHMoaW5zdGFuY2UsIHByb3BzKTtcbiAgICAgIHZhciBwYXJlbnROYW1lc3BhY2UgPSB2b2lkIDA7XG4gICAgICB7XG4gICAgICAgIHZhciBob3N0Q29udGV4dERldiA9IGhvc3RDb250ZXh0O1xuICAgICAgICBwYXJlbnROYW1lc3BhY2UgPSBob3N0Q29udGV4dERldi5uYW1lc3BhY2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGlmZkh5ZHJhdGVkUHJvcGVydGllcyhpbnN0YW5jZSwgdHlwZSwgcHJvcHMsIHBhcmVudE5hbWVzcGFjZSwgcm9vdENvbnRhaW5lckluc3RhbmNlKTtcbiAgICB9LFxuICAgIGh5ZHJhdGVUZXh0SW5zdGFuY2U6IGZ1bmN0aW9uICh0ZXh0SW5zdGFuY2UsIHRleHQsIGludGVybmFsSW5zdGFuY2VIYW5kbGUpIHtcbiAgICAgIHByZWNhY2hlRmliZXJOb2RlKGludGVybmFsSW5zdGFuY2VIYW5kbGUsIHRleHRJbnN0YW5jZSk7XG4gICAgICByZXR1cm4gZGlmZkh5ZHJhdGVkVGV4dCh0ZXh0SW5zdGFuY2UsIHRleHQpO1xuICAgIH0sXG4gICAgZGlkTm90TWF0Y2hIeWRyYXRlZENvbnRhaW5lclRleHRJbnN0YW5jZTogZnVuY3Rpb24gKHBhcmVudENvbnRhaW5lciwgdGV4dEluc3RhbmNlLCB0ZXh0KSB7XG4gICAgICB7XG4gICAgICAgIHdhcm5Gb3JVbm1hdGNoZWRUZXh0KHRleHRJbnN0YW5jZSwgdGV4dCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkaWROb3RNYXRjaEh5ZHJhdGVkVGV4dEluc3RhbmNlOiBmdW5jdGlvbiAocGFyZW50VHlwZSwgcGFyZW50UHJvcHMsIHBhcmVudEluc3RhbmNlLCB0ZXh0SW5zdGFuY2UsIHRleHQpIHtcbiAgICAgIGlmICh0cnVlICYmIHBhcmVudFByb3BzW1NVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HXSAhPT0gdHJ1ZSkge1xuICAgICAgICB3YXJuRm9yVW5tYXRjaGVkVGV4dCh0ZXh0SW5zdGFuY2UsIHRleHQpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZGlkTm90SHlkcmF0ZUNvbnRhaW5lckluc3RhbmNlOiBmdW5jdGlvbiAocGFyZW50Q29udGFpbmVyLCBpbnN0YW5jZSkge1xuICAgICAge1xuICAgICAgICBpZiAoaW5zdGFuY2Uubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICB3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVFbGVtZW50KHBhcmVudENvbnRhaW5lciwgaW5zdGFuY2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZVRleHQocGFyZW50Q29udGFpbmVyLCBpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGRpZE5vdEh5ZHJhdGVJbnN0YW5jZTogZnVuY3Rpb24gKHBhcmVudFR5cGUsIHBhcmVudFByb3BzLCBwYXJlbnRJbnN0YW5jZSwgaW5zdGFuY2UpIHtcbiAgICAgIGlmICh0cnVlICYmIHBhcmVudFByb3BzW1NVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HXSAhPT0gdHJ1ZSkge1xuICAgICAgICBpZiAoaW5zdGFuY2Uubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICB3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVFbGVtZW50KHBhcmVudEluc3RhbmNlLCBpbnN0YW5jZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlVGV4dChwYXJlbnRJbnN0YW5jZSwgaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBkaWROb3RGaW5kSHlkcmF0YWJsZUNvbnRhaW5lckluc3RhbmNlOiBmdW5jdGlvbiAocGFyZW50Q29udGFpbmVyLCB0eXBlLCBwcm9wcykge1xuICAgICAge1xuICAgICAgICB3YXJuRm9ySW5zZXJ0ZWRIeWRyYXRlZEVsZW1lbnQocGFyZW50Q29udGFpbmVyLCB0eXBlLCBwcm9wcyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkaWROb3RGaW5kSHlkcmF0YWJsZUNvbnRhaW5lclRleHRJbnN0YW5jZTogZnVuY3Rpb24gKHBhcmVudENvbnRhaW5lciwgdGV4dCkge1xuICAgICAge1xuICAgICAgICB3YXJuRm9ySW5zZXJ0ZWRIeWRyYXRlZFRleHQocGFyZW50Q29udGFpbmVyLCB0ZXh0KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGRpZE5vdEZpbmRIeWRyYXRhYmxlSW5zdGFuY2U6IGZ1bmN0aW9uIChwYXJlbnRUeXBlLCBwYXJlbnRQcm9wcywgcGFyZW50SW5zdGFuY2UsIHR5cGUsIHByb3BzKSB7XG4gICAgICBpZiAodHJ1ZSAmJiBwYXJlbnRQcm9wc1tTVVBQUkVTU19IWURSQVRJT05fV0FSTklOR10gIT09IHRydWUpIHtcbiAgICAgICAgd2FybkZvckluc2VydGVkSHlkcmF0ZWRFbGVtZW50KHBhcmVudEluc3RhbmNlLCB0eXBlLCBwcm9wcyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkaWROb3RGaW5kSHlkcmF0YWJsZVRleHRJbnN0YW5jZTogZnVuY3Rpb24gKHBhcmVudFR5cGUsIHBhcmVudFByb3BzLCBwYXJlbnRJbnN0YW5jZSwgdGV4dCkge1xuICAgICAgaWYgKHRydWUgJiYgcGFyZW50UHJvcHNbU1VQUFJFU1NfSFlEUkFUSU9OX1dBUk5JTkddICE9PSB0cnVlKSB7XG4gICAgICAgIHdhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkVGV4dChwYXJlbnRJbnN0YW5jZSwgdGV4dCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIHNjaGVkdWxlRGVmZXJyZWRDYWxsYmFjazogcklDLFxuICBjYW5jZWxEZWZlcnJlZENhbGxiYWNrOiBjSUNcbn0pO1xuXG5pbmplY3Rpb24kMy5pbmplY3RSZW5kZXJlcihET01SZW5kZXJlcik7XG5cbnZhciB3YXJuZWRBYm91dEh5ZHJhdGVBUEkgPSBmYWxzZTtcblxuZnVuY3Rpb24gbGVnYWN5Q3JlYXRlUm9vdEZyb21ET01Db250YWluZXIoY29udGFpbmVyLCBmb3JjZUh5ZHJhdGUpIHtcbiAgdmFyIHNob3VsZEh5ZHJhdGUgPSBmb3JjZUh5ZHJhdGUgfHwgc2hvdWxkSHlkcmF0ZUR1ZVRvTGVnYWN5SGV1cmlzdGljKGNvbnRhaW5lcik7XG4gIC8vIEZpcnN0IGNsZWFyIGFueSBleGlzdGluZyBjb250ZW50LlxuICBpZiAoIXNob3VsZEh5ZHJhdGUpIHtcbiAgICB2YXIgd2FybmVkID0gZmFsc2U7XG4gICAgdmFyIHJvb3RTaWJsaW5nID0gdm9pZCAwO1xuICAgIHdoaWxlIChyb290U2libGluZyA9IGNvbnRhaW5lci5sYXN0Q2hpbGQpIHtcbiAgICAgIHtcbiAgICAgICAgaWYgKCF3YXJuZWQgJiYgcm9vdFNpYmxpbmcubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSAmJiByb290U2libGluZy5oYXNBdHRyaWJ1dGUoUk9PVF9BVFRSSUJVVEVfTkFNRSkpIHtcbiAgICAgICAgICB3YXJuZWQgPSB0cnVlO1xuICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICdyZW5kZXIoKTogVGFyZ2V0IG5vZGUgaGFzIG1hcmt1cCByZW5kZXJlZCBieSBSZWFjdCwgYnV0IHRoZXJlICcgKyAnYXJlIHVucmVsYXRlZCBub2RlcyBhcyB3ZWxsLiBUaGlzIGlzIG1vc3QgY29tbW9ubHkgY2F1c2VkIGJ5ICcgKyAnd2hpdGUtc3BhY2UgaW5zZXJ0ZWQgYXJvdW5kIHNlcnZlci1yZW5kZXJlZCBtYXJrdXAuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChyb290U2libGluZyk7XG4gICAgfVxuICB9XG4gIHtcbiAgICBpZiAoc2hvdWxkSHlkcmF0ZSAmJiAhZm9yY2VIeWRyYXRlICYmICF3YXJuZWRBYm91dEh5ZHJhdGVBUEkpIHtcbiAgICAgIHdhcm5lZEFib3V0SHlkcmF0ZUFQSSA9IHRydWU7XG4gICAgICBsb3dQcmlvcml0eVdhcm5pbmckMShmYWxzZSwgJ3JlbmRlcigpOiBDYWxsaW5nIFJlYWN0RE9NLnJlbmRlcigpIHRvIGh5ZHJhdGUgc2VydmVyLXJlbmRlcmVkIG1hcmt1cCAnICsgJ3dpbGwgc3RvcCB3b3JraW5nIGluIFJlYWN0IHYxNy4gUmVwbGFjZSB0aGUgUmVhY3RET00ucmVuZGVyKCkgY2FsbCAnICsgJ3dpdGggUmVhY3RET00uaHlkcmF0ZSgpIGlmIHlvdSB3YW50IFJlYWN0IHRvIGF0dGFjaCB0byB0aGUgc2VydmVyIEhUTUwuJyk7XG4gICAgfVxuICB9XG4gIC8vIExlZ2FjeSByb290cyBhcmUgbm90IGFzeW5jIGJ5IGRlZmF1bHQuXG4gIHZhciBpc0FzeW5jID0gZmFsc2U7XG4gIHJldHVybiBuZXcgUmVhY3RSb290KGNvbnRhaW5lciwgaXNBc3luYywgc2hvdWxkSHlkcmF0ZSk7XG59XG5cbmZ1bmN0aW9uIGxlZ2FjeVJlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyKHBhcmVudENvbXBvbmVudCwgY2hpbGRyZW4sIGNvbnRhaW5lciwgZm9yY2VIeWRyYXRlLCBjYWxsYmFjaykge1xuICAvLyBUT0RPOiBFbnN1cmUgYWxsIGVudHJ5IHBvaW50cyBjb250YWluIHRoaXMgY2hlY2tcbiAgIWlzVmFsaWRDb250YWluZXIoY29udGFpbmVyKSA/IGludmFyaWFudChmYWxzZSwgJ1RhcmdldCBjb250YWluZXIgaXMgbm90IGEgRE9NIGVsZW1lbnQuJykgOiB2b2lkIDA7XG5cbiAge1xuICAgIHRvcExldmVsVXBkYXRlV2FybmluZ3MoY29udGFpbmVyKTtcbiAgfVxuXG4gIC8vIFRPRE86IFdpdGhvdXQgYGFueWAgdHlwZSwgRmxvdyBzYXlzIFwiUHJvcGVydHkgY2Fubm90IGJlIGFjY2Vzc2VkIG9uIGFueVxuICAvLyBtZW1iZXIgb2YgaW50ZXJzZWN0aW9uIHR5cGUuXCIgV2h5eXl5eXkuXG4gIHZhciByb290ID0gY29udGFpbmVyLl9yZWFjdFJvb3RDb250YWluZXI7XG4gIGlmICghcm9vdCkge1xuICAgIC8vIEluaXRpYWwgbW91bnRcbiAgICByb290ID0gY29udGFpbmVyLl9yZWFjdFJvb3RDb250YWluZXIgPSBsZWdhY3lDcmVhdGVSb290RnJvbURPTUNvbnRhaW5lcihjb250YWluZXIsIGZvcmNlSHlkcmF0ZSk7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFyIG9yaWdpbmFsQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBET01SZW5kZXJlci5nZXRQdWJsaWNSb290SW5zdGFuY2Uocm9vdC5faW50ZXJuYWxSb290KTtcbiAgICAgICAgb3JpZ2luYWxDYWxsYmFjay5jYWxsKGluc3RhbmNlKTtcbiAgICAgIH07XG4gICAgfVxuICAgIC8vIEluaXRpYWwgbW91bnQgc2hvdWxkIG5vdCBiZSBiYXRjaGVkLlxuICAgIERPTVJlbmRlcmVyLnVuYmF0Y2hlZFVwZGF0ZXMoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHBhcmVudENvbXBvbmVudCAhPSBudWxsKSB7XG4gICAgICAgIHJvb3QubGVnYWN5X3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyKHBhcmVudENvbXBvbmVudCwgY2hpbGRyZW4sIGNhbGxiYWNrKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJvb3QucmVuZGVyKGNoaWxkcmVuLCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFyIF9vcmlnaW5hbENhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gRE9NUmVuZGVyZXIuZ2V0UHVibGljUm9vdEluc3RhbmNlKHJvb3QuX2ludGVybmFsUm9vdCk7XG4gICAgICAgIF9vcmlnaW5hbENhbGxiYWNrLmNhbGwoaW5zdGFuY2UpO1xuICAgICAgfTtcbiAgICB9XG4gICAgLy8gVXBkYXRlXG4gICAgaWYgKHBhcmVudENvbXBvbmVudCAhPSBudWxsKSB7XG4gICAgICByb290LmxlZ2FjeV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcihwYXJlbnRDb21wb25lbnQsIGNoaWxkcmVuLCBjYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJvb3QucmVuZGVyKGNoaWxkcmVuLCBjYWxsYmFjayk7XG4gICAgfVxuICB9XG4gIHJldHVybiBET01SZW5kZXJlci5nZXRQdWJsaWNSb290SW5zdGFuY2Uocm9vdC5faW50ZXJuYWxSb290KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUG9ydGFsKGNoaWxkcmVuLCBjb250YWluZXIpIHtcbiAgdmFyIGtleSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogbnVsbDtcblxuICAhaXNWYWxpZENvbnRhaW5lcihjb250YWluZXIpID8gaW52YXJpYW50KGZhbHNlLCAnVGFyZ2V0IGNvbnRhaW5lciBpcyBub3QgYSBET00gZWxlbWVudC4nKSA6IHZvaWQgMDtcbiAgLy8gVE9ETzogcGFzcyBSZWFjdERPTSBwb3J0YWwgaW1wbGVtZW50YXRpb24gYXMgdGhpcmQgYXJndW1lbnRcbiAgcmV0dXJuIGNyZWF0ZVBvcnRhbCQxKGNoaWxkcmVuLCBjb250YWluZXIsIG51bGwsIGtleSk7XG59XG5cbnZhciBSZWFjdERPTSA9IHtcbiAgY3JlYXRlUG9ydGFsOiBjcmVhdGVQb3J0YWwsXG5cbiAgZmluZERPTU5vZGU6IGZ1bmN0aW9uIChjb21wb25lbnRPckVsZW1lbnQpIHtcbiAgICB7XG4gICAgICB2YXIgb3duZXIgPSBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50O1xuICAgICAgaWYgKG93bmVyICE9PSBudWxsICYmIG93bmVyLnN0YXRlTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgd2FybmVkQWJvdXRSZWZzSW5SZW5kZXIgPSBvd25lci5zdGF0ZU5vZGUuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyO1xuICAgICAgICB3YXJuaW5nKHdhcm5lZEFib3V0UmVmc0luUmVuZGVyLCAnJXMgaXMgYWNjZXNzaW5nIGZpbmRET01Ob2RlIGluc2lkZSBpdHMgcmVuZGVyKCkuICcgKyAncmVuZGVyKCkgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGUuIEl0IHNob3VsZCAnICsgJ25ldmVyIGFjY2VzcyBzb21ldGhpbmcgdGhhdCByZXF1aXJlcyBzdGFsZSBkYXRhIGZyb20gdGhlIHByZXZpb3VzICcgKyAncmVuZGVyLCBzdWNoIGFzIHJlZnMuIE1vdmUgdGhpcyBsb2dpYyB0byBjb21wb25lbnREaWRNb3VudCBhbmQgJyArICdjb21wb25lbnREaWRVcGRhdGUgaW5zdGVhZC4nLCBnZXRDb21wb25lbnROYW1lKG93bmVyKSB8fCAnQSBjb21wb25lbnQnKTtcbiAgICAgICAgb3duZXIuc3RhdGVOb2RlLl93YXJuZWRBYm91dFJlZnNJblJlbmRlciA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjb21wb25lbnRPckVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChjb21wb25lbnRPckVsZW1lbnQubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSkge1xuICAgICAgcmV0dXJuIGNvbXBvbmVudE9yRWxlbWVudDtcbiAgICB9XG5cbiAgICB2YXIgaW5zdCA9IGdldChjb21wb25lbnRPckVsZW1lbnQpO1xuICAgIGlmIChpbnN0KSB7XG4gICAgICByZXR1cm4gRE9NUmVuZGVyZXIuZmluZEhvc3RJbnN0YW5jZShpbnN0KTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGNvbXBvbmVudE9yRWxlbWVudC5yZW5kZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGludmFyaWFudChmYWxzZSwgJ1VuYWJsZSB0byBmaW5kIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW52YXJpYW50KGZhbHNlLCAnRWxlbWVudCBhcHBlYXJzIHRvIGJlIG5laXRoZXIgUmVhY3RDb21wb25lbnQgbm9yIERPTU5vZGUuIEtleXM6ICVzJywgT2JqZWN0LmtleXMoY29tcG9uZW50T3JFbGVtZW50KSk7XG4gICAgfVxuICB9LFxuICBoeWRyYXRlOiBmdW5jdGlvbiAoZWxlbWVudCwgY29udGFpbmVyLCBjYWxsYmFjaykge1xuICAgIC8vIFRPRE86IHRocm93IG9yIHdhcm4gaWYgd2UgY291bGRuJ3QgaHlkcmF0ZT9cbiAgICByZXR1cm4gbGVnYWN5UmVuZGVyU3VidHJlZUludG9Db250YWluZXIobnVsbCwgZWxlbWVudCwgY29udGFpbmVyLCB0cnVlLCBjYWxsYmFjayk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gKGVsZW1lbnQsIGNvbnRhaW5lciwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gbGVnYWN5UmVuZGVyU3VidHJlZUludG9Db250YWluZXIobnVsbCwgZWxlbWVudCwgY29udGFpbmVyLCBmYWxzZSwgY2FsbGJhY2spO1xuICB9LFxuICB1bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcjogZnVuY3Rpb24gKHBhcmVudENvbXBvbmVudCwgZWxlbWVudCwgY29udGFpbmVyTm9kZSwgY2FsbGJhY2spIHtcbiAgICAhKHBhcmVudENvbXBvbmVudCAhPSBudWxsICYmIGhhcyhwYXJlbnRDb21wb25lbnQpKSA/IGludmFyaWFudChmYWxzZSwgJ3BhcmVudENvbXBvbmVudCBtdXN0IGJlIGEgdmFsaWQgUmVhY3QgQ29tcG9uZW50JykgOiB2b2lkIDA7XG4gICAgcmV0dXJuIGxlZ2FjeVJlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyKHBhcmVudENvbXBvbmVudCwgZWxlbWVudCwgY29udGFpbmVyTm9kZSwgZmFsc2UsIGNhbGxiYWNrKTtcbiAgfSxcbiAgdW5tb3VudENvbXBvbmVudEF0Tm9kZTogZnVuY3Rpb24gKGNvbnRhaW5lcikge1xuICAgICFpc1ZhbGlkQ29udGFpbmVyKGNvbnRhaW5lcikgPyBpbnZhcmlhbnQoZmFsc2UsICd1bm1vdW50Q29tcG9uZW50QXROb2RlKC4uLik6IFRhcmdldCBjb250YWluZXIgaXMgbm90IGEgRE9NIGVsZW1lbnQuJykgOiB2b2lkIDA7XG5cbiAgICBpZiAoY29udGFpbmVyLl9yZWFjdFJvb3RDb250YWluZXIpIHtcbiAgICAgIHtcbiAgICAgICAgdmFyIHJvb3RFbCA9IGdldFJlYWN0Um9vdEVsZW1lbnRJbkNvbnRhaW5lcihjb250YWluZXIpO1xuICAgICAgICB2YXIgcmVuZGVyZWRCeURpZmZlcmVudFJlYWN0ID0gcm9vdEVsICYmICFnZXRJbnN0YW5jZUZyb21Ob2RlJDEocm9vdEVsKTtcbiAgICAgICAgd2FybmluZyghcmVuZGVyZWRCeURpZmZlcmVudFJlYWN0LCBcInVubW91bnRDb21wb25lbnRBdE5vZGUoKTogVGhlIG5vZGUgeW91J3JlIGF0dGVtcHRpbmcgdG8gdW5tb3VudCBcIiArICd3YXMgcmVuZGVyZWQgYnkgYW5vdGhlciBjb3B5IG9mIFJlYWN0LicpO1xuICAgICAgfVxuXG4gICAgICAvLyBVbm1vdW50IHNob3VsZCBub3QgYmUgYmF0Y2hlZC5cbiAgICAgIERPTVJlbmRlcmVyLnVuYmF0Y2hlZFVwZGF0ZXMoZnVuY3Rpb24gKCkge1xuICAgICAgICBsZWdhY3lSZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcihudWxsLCBudWxsLCBjb250YWluZXIsIGZhbHNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29udGFpbmVyLl9yZWFjdFJvb3RDb250YWluZXIgPSBudWxsO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgLy8gSWYgeW91IGNhbGwgdW5tb3VudENvbXBvbmVudEF0Tm9kZSB0d2ljZSBpbiBxdWljayBzdWNjZXNzaW9uLCB5b3UnbGxcbiAgICAgIC8vIGdldCBgdHJ1ZWAgdHdpY2UuIFRoYXQncyBwcm9iYWJseSBmaW5lP1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHtcbiAgICAgICAgdmFyIF9yb290RWwgPSBnZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXIoY29udGFpbmVyKTtcbiAgICAgICAgdmFyIGhhc05vblJvb3RSZWFjdENoaWxkID0gISEoX3Jvb3RFbCAmJiBnZXRJbnN0YW5jZUZyb21Ob2RlJDEoX3Jvb3RFbCkpO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBjb250YWluZXIgaXRzZWxmIGlzIGEgUmVhY3Qgcm9vdCBub2RlLlxuICAgICAgICB2YXIgaXNDb250YWluZXJSZWFjdFJvb3QgPSBjb250YWluZXIubm9kZVR5cGUgPT09IDEgJiYgaXNWYWxpZENvbnRhaW5lcihjb250YWluZXIucGFyZW50Tm9kZSkgJiYgISFjb250YWluZXIucGFyZW50Tm9kZS5fcmVhY3RSb290Q29udGFpbmVyO1xuXG4gICAgICAgIHdhcm5pbmcoIWhhc05vblJvb3RSZWFjdENoaWxkLCBcInVubW91bnRDb21wb25lbnRBdE5vZGUoKTogVGhlIG5vZGUgeW91J3JlIGF0dGVtcHRpbmcgdG8gdW5tb3VudCBcIiArICd3YXMgcmVuZGVyZWQgYnkgUmVhY3QgYW5kIGlzIG5vdCBhIHRvcC1sZXZlbCBjb250YWluZXIuICVzJywgaXNDb250YWluZXJSZWFjdFJvb3QgPyAnWW91IG1heSBoYXZlIGFjY2lkZW50YWxseSBwYXNzZWQgaW4gYSBSZWFjdCByb290IG5vZGUgaW5zdGVhZCAnICsgJ29mIGl0cyBjb250YWluZXIuJyA6ICdJbnN0ZWFkLCBoYXZlIHRoZSBwYXJlbnQgY29tcG9uZW50IHVwZGF0ZSBpdHMgc3RhdGUgYW5kICcgKyAncmVyZW5kZXIgaW4gb3JkZXIgdG8gcmVtb3ZlIHRoaXMgY29tcG9uZW50LicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuXG5cbiAgLy8gVGVtcG9yYXJ5IGFsaWFzIHNpbmNlIHdlIGFscmVhZHkgc2hpcHBlZCBSZWFjdCAxNiBSQyB3aXRoIGl0LlxuICAvLyBUT0RPOiByZW1vdmUgaW4gUmVhY3QgMTcuXG4gIHVuc3RhYmxlX2NyZWF0ZVBvcnRhbDogZnVuY3Rpb24gKCkge1xuICAgIGlmICghZGlkV2FybkFib3V0VW5zdGFibGVDcmVhdGVQb3J0YWwpIHtcbiAgICAgIGRpZFdhcm5BYm91dFVuc3RhYmxlQ3JlYXRlUG9ydGFsID0gdHJ1ZTtcbiAgICAgIGxvd1ByaW9yaXR5V2FybmluZyQxKGZhbHNlLCAnVGhlIFJlYWN0RE9NLnVuc3RhYmxlX2NyZWF0ZVBvcnRhbCgpIGFsaWFzIGhhcyBiZWVuIGRlcHJlY2F0ZWQsICcgKyAnYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBSZWFjdCAxNysuIFVwZGF0ZSB5b3VyIGNvZGUgdG8gdXNlICcgKyAnUmVhY3RET00uY3JlYXRlUG9ydGFsKCkgaW5zdGVhZC4gSXQgaGFzIHRoZSBleGFjdCBzYW1lIEFQSSwgJyArICdidXQgd2l0aG91dCB0aGUgXCJ1bnN0YWJsZV9cIiBwcmVmaXguJyk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVQb3J0YWwuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICB9LFxuXG5cbiAgdW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXM6IERPTVJlbmRlcmVyLmJhdGNoZWRVcGRhdGVzLFxuXG4gIHVuc3RhYmxlX2RlZmVycmVkVXBkYXRlczogRE9NUmVuZGVyZXIuZGVmZXJyZWRVcGRhdGVzLFxuXG4gIGZsdXNoU3luYzogRE9NUmVuZGVyZXIuZmx1c2hTeW5jLFxuXG4gIHVuc3RhYmxlX2ZsdXNoQ29udHJvbGxlZDogRE9NUmVuZGVyZXIuZmx1c2hDb250cm9sbGVkLFxuXG4gIF9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEOiB7XG4gICAgLy8gRm9yIFRhcEV2ZW50UGx1Z2luIHdoaWNoIGlzIHBvcHVsYXIgaW4gb3BlbiBzb3VyY2VcbiAgICBFdmVudFBsdWdpbkh1YjogRXZlbnRQbHVnaW5IdWIsXG4gICAgLy8gVXNlZCBieSB0ZXN0LXV0aWxzXG4gICAgRXZlbnRQbHVnaW5SZWdpc3RyeTogRXZlbnRQbHVnaW5SZWdpc3RyeSxcbiAgICBFdmVudFByb3BhZ2F0b3JzOiBFdmVudFByb3BhZ2F0b3JzLFxuICAgIFJlYWN0Q29udHJvbGxlZENvbXBvbmVudDogUmVhY3RDb250cm9sbGVkQ29tcG9uZW50LFxuICAgIFJlYWN0RE9NQ29tcG9uZW50VHJlZTogUmVhY3RET01Db21wb25lbnRUcmVlLFxuICAgIFJlYWN0RE9NRXZlbnRMaXN0ZW5lcjogUmVhY3RET01FdmVudExpc3RlbmVyXG4gIH1cbn07XG5cblJlYWN0RE9NLnVuc3RhYmxlX2NyZWF0ZVJvb3QgPSBmdW5jdGlvbiBjcmVhdGVSb290KGNvbnRhaW5lciwgb3B0aW9ucykge1xuICB2YXIgaHlkcmF0ZSA9IG9wdGlvbnMgIT0gbnVsbCAmJiBvcHRpb25zLmh5ZHJhdGUgPT09IHRydWU7XG4gIHJldHVybiBuZXcgUmVhY3RSb290KGNvbnRhaW5lciwgdHJ1ZSwgaHlkcmF0ZSk7XG59O1xuXG52YXIgZm91bmREZXZUb29scyA9IERPTVJlbmRlcmVyLmluamVjdEludG9EZXZUb29scyh7XG4gIGZpbmRGaWJlckJ5SG9zdEluc3RhbmNlOiBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZSxcbiAgYnVuZGxlVHlwZTogMSxcbiAgdmVyc2lvbjogUmVhY3RWZXJzaW9uLFxuICByZW5kZXJlclBhY2thZ2VOYW1lOiAncmVhY3QtZG9tJ1xufSk7XG5cbntcbiAgaWYgKCFmb3VuZERldlRvb2xzICYmIEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiB3aW5kb3cudG9wID09PSB3aW5kb3cuc2VsZikge1xuICAgIC8vIElmIHdlJ3JlIGluIENocm9tZSBvciBGaXJlZm94LCBwcm92aWRlIGEgZG93bmxvYWQgbGluayBpZiBub3QgaW5zdGFsbGVkLlxuICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0Nocm9tZScpID4gLTEgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdFZGdlJykgPT09IC0xIHx8IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpID4gLTEpIHtcbiAgICAgIHZhciBwcm90b2NvbCA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbDtcbiAgICAgIC8vIERvbid0IHdhcm4gaW4gZXhvdGljIGNhc2VzIGxpa2UgY2hyb21lLWV4dGVuc2lvbjovLy5cbiAgICAgIGlmICgvXihodHRwcz98ZmlsZSk6JC8udGVzdChwcm90b2NvbCkpIHtcbiAgICAgICAgY29uc29sZS5pbmZvKCclY0Rvd25sb2FkIHRoZSBSZWFjdCBEZXZUb29scyAnICsgJ2ZvciBhIGJldHRlciBkZXZlbG9wbWVudCBleHBlcmllbmNlOiAnICsgJ2h0dHBzOi8vZmIubWUvcmVhY3QtZGV2dG9vbHMnICsgKHByb3RvY29sID09PSAnZmlsZTonID8gJ1xcbllvdSBtaWdodCBuZWVkIHRvIHVzZSBhIGxvY2FsIEhUVFAgc2VydmVyIChpbnN0ZWFkIG9mIGZpbGU6Ly8pOiAnICsgJ2h0dHBzOi8vZmIubWUvcmVhY3QtZGV2dG9vbHMtZmFxJyA6ICcnKSwgJ2ZvbnQtd2VpZ2h0OmJvbGQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuXG5cbnZhciBSZWFjdERPTSQyID0gT2JqZWN0LmZyZWV6ZSh7XG5cdGRlZmF1bHQ6IFJlYWN0RE9NXG59KTtcblxudmFyIFJlYWN0RE9NJDMgPSAoIFJlYWN0RE9NJDIgJiYgUmVhY3RET00gKSB8fCBSZWFjdERPTSQyO1xuXG4vLyBUT0RPOiBkZWNpZGUgb24gdGhlIHRvcC1sZXZlbCBleHBvcnQgZm9ybS5cbi8vIFRoaXMgaXMgaGFja3kgYnV0IG1ha2VzIGl0IHdvcmsgd2l0aCBib3RoIFJvbGx1cCBhbmQgSmVzdC5cbnZhciByZWFjdERvbSA9IFJlYWN0RE9NJDNbJ2RlZmF1bHQnXSA/IFJlYWN0RE9NJDNbJ2RlZmF1bHQnXSA6IFJlYWN0RE9NJDM7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVhY3REb207XG4gIH0pKCk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGNoZWNrRENFKCkge1xuICAvKiBnbG9iYWwgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICovXG4gIGlmIChcbiAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fID09PSAndW5kZWZpbmVkJyB8fFxuICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uY2hlY2tEQ0UgIT09ICdmdW5jdGlvbidcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgLy8gVGhpcyBicmFuY2ggaXMgdW5yZWFjaGFibGUgYmVjYXVzZSB0aGlzIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkXG4gICAgLy8gaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBjb25kaXRpb24gaXMgdHJ1ZSBvbmx5IGluIGRldmVsb3BtZW50LlxuICAgIC8vIFRoZXJlZm9yZSBpZiB0aGUgYnJhbmNoIGlzIHN0aWxsIGhlcmUsIGRlYWQgY29kZSBlbGltaW5hdGlvbiB3YXNuJ3RcbiAgICAvLyBwcm9wZXJseSBhcHBsaWVkLlxuICAgIC8vIERvbid0IGNoYW5nZSB0aGUgbWVzc2FnZS4gUmVhY3QgRGV2VG9vbHMgcmVsaWVzIG9uIGl0LiBBbHNvIG1ha2Ugc3VyZVxuICAgIC8vIHRoaXMgbWVzc2FnZSBkb2Vzbid0IG9jY3VyIGVsc2V3aGVyZSBpbiB0aGlzIGZ1bmN0aW9uLCBvciBpdCB3aWxsIGNhdXNlXG4gICAgLy8gYSBmYWxzZSBwb3NpdGl2ZS5cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ15fXicpO1xuICB9XG4gIHRyeSB7XG4gICAgLy8gVmVyaWZ5IHRoYXQgdGhlIGNvZGUgYWJvdmUgaGFzIGJlZW4gZGVhZCBjb2RlIGVsaW1pbmF0ZWQgKERDRSdkKS5cbiAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uY2hlY2tEQ0UoY2hlY2tEQ0UpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBEZXZUb29scyBzaG91bGRuJ3QgY3Jhc2ggUmVhY3QsIG5vIG1hdHRlciB3aGF0LlxuICAgIC8vIFdlIHNob3VsZCBzdGlsbCByZXBvcnQgaW4gY2FzZSB3ZSBicmVhayB0aGlzIGNvZGUuXG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9XG59XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIERDRSBjaGVjayBzaG91bGQgaGFwcGVuIGJlZm9yZSBSZWFjdERPTSBidW5kbGUgZXhlY3V0ZXMgc28gdGhhdFxuICAvLyBEZXZUb29scyBjYW4gcmVwb3J0IGJhZCBtaW5pZmljYXRpb24gZHVyaW5nIGluamVjdGlvbi5cbiAgY2hlY2tEQ0UoKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1kb20ucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtZG9tLmRldmVsb3BtZW50LmpzJyk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlc1NlY3JldDtcbiIsIi8qKiBAbGljZW5zZSBSZWFjdCB2MTYuMy4xXG4gKiByZWFjdC5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2Fzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcbnZhciBlbXB0eU9iamVjdCA9IHJlcXVpcmUoJ2ZianMvbGliL2VtcHR5T2JqZWN0Jyk7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG52YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbnZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlGdW5jdGlvbicpO1xudmFyIGNoZWNrUHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcy9jaGVja1Byb3BUeXBlcycpO1xuXG4vLyBUT0RPOiB0aGlzIGlzIHNwZWNpYWwgYmVjYXVzZSBpdCBnZXRzIGltcG9ydGVkIGR1cmluZyBidWlsZC5cblxudmFyIFJlYWN0VmVyc2lvbiA9ICcxNi4zLjEnO1xuXG4vLyBUaGUgU3ltYm9sIHVzZWQgdG8gdGFnIHRoZSBSZWFjdEVsZW1lbnQtbGlrZSB0eXBlcy4gSWYgdGhlcmUgaXMgbm8gbmF0aXZlIFN5bWJvbFxuLy8gbm9yIHBvbHlmaWxsLCB0aGVuIGEgcGxhaW4gbnVtYmVyIGlzIHVzZWQgZm9yIHBlcmZvcm1hbmNlLlxudmFyIGhhc1N5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sWydmb3InXTtcblxudmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbFsnZm9yJ10oJ3JlYWN0LmVsZW1lbnQnKSA6IDB4ZWFjNztcbnZhciBSRUFDVF9DQUxMX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbJ2ZvciddKCdyZWFjdC5jYWxsJykgOiAweGVhYzg7XG52YXIgUkVBQ1RfUkVUVVJOX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbJ2ZvciddKCdyZWFjdC5yZXR1cm4nKSA6IDB4ZWFjOTtcbnZhciBSRUFDVF9QT1JUQUxfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbFsnZm9yJ10oJ3JlYWN0LnBvcnRhbCcpIDogMHhlYWNhO1xudmFyIFJFQUNUX0ZSQUdNRU5UX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbJ2ZvciddKCdyZWFjdC5mcmFnbWVudCcpIDogMHhlYWNiO1xudmFyIFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbJ2ZvciddKCdyZWFjdC5zdHJpY3RfbW9kZScpIDogMHhlYWNjO1xudmFyIFJFQUNUX1BST1ZJREVSX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbJ2ZvciddKCdyZWFjdC5wcm92aWRlcicpIDogMHhlYWNkO1xudmFyIFJFQUNUX0NPTlRFWFRfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbFsnZm9yJ10oJ3JlYWN0LmNvbnRleHQnKSA6IDB4ZWFjZTtcbnZhciBSRUFDVF9BU1lOQ19NT0RFX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbJ2ZvciddKCdyZWFjdC5hc3luY19tb2RlJykgOiAweGVhY2Y7XG52YXIgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbFsnZm9yJ10oJ3JlYWN0LmZvcndhcmRfcmVmJykgOiAweGVhZDA7XG5cbnZhciBNQVlCRV9JVEVSQVRPUl9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5pdGVyYXRvcjtcbnZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJztcblxuZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKSB7XG4gIGlmIChtYXliZUl0ZXJhYmxlID09PSBudWxsIHx8IHR5cGVvZiBtYXliZUl0ZXJhYmxlID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBtYXliZUl0ZXJhdG9yID0gTUFZQkVfSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbTUFZQkVfSVRFUkFUT1JfU1lNQk9MXSB8fCBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXTtcbiAgaWYgKHR5cGVvZiBtYXliZUl0ZXJhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG1heWJlSXRlcmF0b3I7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogV0FSTklORzogRE8gTk9UIG1hbnVhbGx5IHJlcXVpcmUgdGhpcyBtb2R1bGUuXG4gKiBUaGlzIGlzIGEgcmVwbGFjZW1lbnQgZm9yIGBpbnZhcmlhbnQoLi4uKWAgdXNlZCBieSB0aGUgZXJyb3IgY29kZSBzeXN0ZW1cbiAqIGFuZCB3aWxsIF9vbmx5XyBiZSByZXF1aXJlZCBieSB0aGUgY29ycmVzcG9uZGluZyBiYWJlbCBwYXNzLlxuICogSXQgYWx3YXlzIHRocm93cy5cbiAqL1xuXG4vKipcbiAqIEZvcmtlZCBmcm9tIGZianMvd2FybmluZzpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mYmpzL2Jsb2IvZTY2YmEyMGFkNWJlNDMzZWI1NDQyM2YyYjA5N2Q4MjkzMjRkOWRlNi9wYWNrYWdlcy9mYmpzL3NyYy9fX2ZvcmtzX18vd2FybmluZy5qc1xuICpcbiAqIE9ubHkgY2hhbmdlIGlzIHdlIHVzZSBjb25zb2xlLndhcm4gaW5zdGVhZCBvZiBjb25zb2xlLmVycm9yLFxuICogYW5kIGRvIG5vdGhpbmcgd2hlbiAnY29uc29sZScgaXMgbm90IHN1cHBvcnRlZC5cbiAqIFRoaXMgcmVhbGx5IHNpbXBsaWZpZXMgdGhlIGNvZGUuXG4gKiAtLS1cbiAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcbiAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXG4gKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cbiAqL1xuXG52YXIgbG93UHJpb3JpdHlXYXJuaW5nID0gZnVuY3Rpb24gKCkge307XG5cbntcbiAgdmFyIHByaW50V2FybmluZyA9IGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICB9KTtcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXG4gICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH07XG5cbiAgbG93UHJpb3JpdHlXYXJuaW5nID0gZnVuY3Rpb24gKGNvbmRpdGlvbiwgZm9ybWF0KSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgKyAnbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIgPiAyID8gX2xlbjIgLSAyIDogMCksIF9rZXkyID0gMjsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyIC0gMl0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICBwcmludFdhcm5pbmcuYXBwbHkodW5kZWZpbmVkLCBbZm9ybWF0XS5jb25jYXQoYXJncykpO1xuICAgIH1cbiAgfTtcbn1cblxudmFyIGxvd1ByaW9yaXR5V2FybmluZyQxID0gbG93UHJpb3JpdHlXYXJuaW5nO1xuXG52YXIgZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50ID0ge307XG5cbmZ1bmN0aW9uIHdhcm5Ob29wKHB1YmxpY0luc3RhbmNlLCBjYWxsZXJOYW1lKSB7XG4gIHtcbiAgICB2YXIgX2NvbnN0cnVjdG9yID0gcHVibGljSW5zdGFuY2UuY29uc3RydWN0b3I7XG4gICAgdmFyIGNvbXBvbmVudE5hbWUgPSBfY29uc3RydWN0b3IgJiYgKF9jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSB8fCBfY29uc3RydWN0b3IubmFtZSkgfHwgJ1JlYWN0Q2xhc3MnO1xuICAgIHZhciB3YXJuaW5nS2V5ID0gY29tcG9uZW50TmFtZSArICcuJyArIGNhbGxlck5hbWU7XG4gICAgaWYgKGRpZFdhcm5TdGF0ZVVwZGF0ZUZvclVubW91bnRlZENvbXBvbmVudFt3YXJuaW5nS2V5XSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3YXJuaW5nKGZhbHNlLCBcIkNhbid0IGNhbGwgJXMgb24gYSBjb21wb25lbnQgdGhhdCBpcyBub3QgeWV0IG1vdW50ZWQuIFwiICsgJ1RoaXMgaXMgYSBuby1vcCwgYnV0IGl0IG1pZ2h0IGluZGljYXRlIGEgYnVnIGluIHlvdXIgYXBwbGljYXRpb24uICcgKyAnSW5zdGVhZCwgYXNzaWduIHRvIGB0aGlzLnN0YXRlYCBkaXJlY3RseSBvciBkZWZpbmUgYSBgc3RhdGUgPSB7fTtgICcgKyAnY2xhc3MgcHJvcGVydHkgd2l0aCB0aGUgZGVzaXJlZCBzdGF0ZSBpbiB0aGUgJXMgY29tcG9uZW50LicsIGNhbGxlck5hbWUsIGNvbXBvbmVudE5hbWUpO1xuICAgIGRpZFdhcm5TdGF0ZVVwZGF0ZUZvclVubW91bnRlZENvbXBvbmVudFt3YXJuaW5nS2V5XSA9IHRydWU7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGlzIGlzIHRoZSBhYnN0cmFjdCBBUEkgZm9yIGFuIHVwZGF0ZSBxdWV1ZS5cbiAqL1xudmFyIFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlID0ge1xuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IHRoaXMgY29tcG9zaXRlIGNvbXBvbmVudCBpcyBtb3VudGVkLlxuICAgKiBAcGFyYW0ge1JlYWN0Q2xhc3N9IHB1YmxpY0luc3RhbmNlIFRoZSBpbnN0YW5jZSB3ZSB3YW50IHRvIHRlc3QuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgbW91bnRlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEBmaW5hbFxuICAgKi9cbiAgaXNNb3VudGVkOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEZvcmNlcyBhbiB1cGRhdGUuIFRoaXMgc2hvdWxkIG9ubHkgYmUgaW52b2tlZCB3aGVuIGl0IGlzIGtub3duIHdpdGhcbiAgICogY2VydGFpbnR5IHRoYXQgd2UgYXJlICoqbm90KiogaW4gYSBET00gdHJhbnNhY3Rpb24uXG4gICAqXG4gICAqIFlvdSBtYXkgd2FudCB0byBjYWxsIHRoaXMgd2hlbiB5b3Uga25vdyB0aGF0IHNvbWUgZGVlcGVyIGFzcGVjdCBvZiB0aGVcbiAgICogY29tcG9uZW50J3Mgc3RhdGUgaGFzIGNoYW5nZWQgYnV0IGBzZXRTdGF0ZWAgd2FzIG5vdCBjYWxsZWQuXG4gICAqXG4gICAqIFRoaXMgd2lsbCBub3QgaW52b2tlIGBzaG91bGRDb21wb25lbnRVcGRhdGVgLCBidXQgaXQgd2lsbCBpbnZva2VcbiAgICogYGNvbXBvbmVudFdpbGxVcGRhdGVgIGFuZCBgY29tcG9uZW50RGlkVXBkYXRlYC5cbiAgICpcbiAgICogQHBhcmFtIHtSZWFjdENsYXNzfSBwdWJsaWNJbnN0YW5jZSBUaGUgaW5zdGFuY2UgdGhhdCBzaG91bGQgcmVyZW5kZXIuXG4gICAqIEBwYXJhbSB7P2Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsZWQgYWZ0ZXIgY29tcG9uZW50IGlzIHVwZGF0ZWQuXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gY2FsbGVyTmFtZSBuYW1lIG9mIHRoZSBjYWxsaW5nIGZ1bmN0aW9uIGluIHRoZSBwdWJsaWMgQVBJLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGVucXVldWVGb3JjZVVwZGF0ZTogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlLCBjYWxsYmFjaywgY2FsbGVyTmFtZSkge1xuICAgIHdhcm5Ob29wKHB1YmxpY0luc3RhbmNlLCAnZm9yY2VVcGRhdGUnKTtcbiAgfSxcblxuICAvKipcbiAgICogUmVwbGFjZXMgYWxsIG9mIHRoZSBzdGF0ZS4gQWx3YXlzIHVzZSB0aGlzIG9yIGBzZXRTdGF0ZWAgdG8gbXV0YXRlIHN0YXRlLlxuICAgKiBZb3Ugc2hvdWxkIHRyZWF0IGB0aGlzLnN0YXRlYCBhcyBpbW11dGFibGUuXG4gICAqXG4gICAqIFRoZXJlIGlzIG5vIGd1YXJhbnRlZSB0aGF0IGB0aGlzLnN0YXRlYCB3aWxsIGJlIGltbWVkaWF0ZWx5IHVwZGF0ZWQsIHNvXG4gICAqIGFjY2Vzc2luZyBgdGhpcy5zdGF0ZWAgYWZ0ZXIgY2FsbGluZyB0aGlzIG1ldGhvZCBtYXkgcmV0dXJuIHRoZSBvbGQgdmFsdWUuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RDbGFzc30gcHVibGljSW5zdGFuY2UgVGhlIGluc3RhbmNlIHRoYXQgc2hvdWxkIHJlcmVuZGVyLlxuICAgKiBAcGFyYW0ge29iamVjdH0gY29tcGxldGVTdGF0ZSBOZXh0IHN0YXRlLlxuICAgKiBAcGFyYW0gez9mdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIGFmdGVyIGNvbXBvbmVudCBpcyB1cGRhdGVkLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IGNhbGxlck5hbWUgbmFtZSBvZiB0aGUgY2FsbGluZyBmdW5jdGlvbiBpbiB0aGUgcHVibGljIEFQSS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBlbnF1ZXVlUmVwbGFjZVN0YXRlOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UsIGNvbXBsZXRlU3RhdGUsIGNhbGxiYWNrLCBjYWxsZXJOYW1lKSB7XG4gICAgd2Fybk5vb3AocHVibGljSW5zdGFuY2UsICdyZXBsYWNlU3RhdGUnKTtcbiAgfSxcblxuICAvKipcbiAgICogU2V0cyBhIHN1YnNldCBvZiB0aGUgc3RhdGUuIFRoaXMgb25seSBleGlzdHMgYmVjYXVzZSBfcGVuZGluZ1N0YXRlIGlzXG4gICAqIGludGVybmFsLiBUaGlzIHByb3ZpZGVzIGEgbWVyZ2luZyBzdHJhdGVneSB0aGF0IGlzIG5vdCBhdmFpbGFibGUgdG8gZGVlcFxuICAgKiBwcm9wZXJ0aWVzIHdoaWNoIGlzIGNvbmZ1c2luZy4gVE9ETzogRXhwb3NlIHBlbmRpbmdTdGF0ZSBvciBkb24ndCB1c2UgaXRcbiAgICogZHVyaW5nIHRoZSBtZXJnZS5cbiAgICpcbiAgICogQHBhcmFtIHtSZWFjdENsYXNzfSBwdWJsaWNJbnN0YW5jZSBUaGUgaW5zdGFuY2UgdGhhdCBzaG91bGQgcmVyZW5kZXIuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJ0aWFsU3RhdGUgTmV4dCBwYXJ0aWFsIHN0YXRlIHRvIGJlIG1lcmdlZCB3aXRoIHN0YXRlLlxuICAgKiBAcGFyYW0gez9mdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIGFmdGVyIGNvbXBvbmVudCBpcyB1cGRhdGVkLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IE5hbWUgb2YgdGhlIGNhbGxpbmcgZnVuY3Rpb24gaW4gdGhlIHB1YmxpYyBBUEkuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZW5xdWV1ZVNldFN0YXRlOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UsIHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2ssIGNhbGxlck5hbWUpIHtcbiAgICB3YXJuTm9vcChwdWJsaWNJbnN0YW5jZSwgJ3NldFN0YXRlJyk7XG4gIH1cbn07XG5cbi8qKlxuICogQmFzZSBjbGFzcyBoZWxwZXJzIGZvciB0aGUgdXBkYXRpbmcgc3RhdGUgb2YgYSBjb21wb25lbnQuXG4gKi9cbmZ1bmN0aW9uIENvbXBvbmVudChwcm9wcywgY29udGV4dCwgdXBkYXRlcikge1xuICB0aGlzLnByb3BzID0gcHJvcHM7XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gIHRoaXMucmVmcyA9IGVtcHR5T2JqZWN0O1xuICAvLyBXZSBpbml0aWFsaXplIHRoZSBkZWZhdWx0IHVwZGF0ZXIgYnV0IHRoZSByZWFsIG9uZSBnZXRzIGluamVjdGVkIGJ5IHRoZVxuICAvLyByZW5kZXJlci5cbiAgdGhpcy51cGRhdGVyID0gdXBkYXRlciB8fCBSZWFjdE5vb3BVcGRhdGVRdWV1ZTtcbn1cblxuQ29tcG9uZW50LnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0ge307XG5cbi8qKlxuICogU2V0cyBhIHN1YnNldCBvZiB0aGUgc3RhdGUuIEFsd2F5cyB1c2UgdGhpcyB0byBtdXRhdGVcbiAqIHN0YXRlLiBZb3Ugc2hvdWxkIHRyZWF0IGB0aGlzLnN0YXRlYCBhcyBpbW11dGFibGUuXG4gKlxuICogVGhlcmUgaXMgbm8gZ3VhcmFudGVlIHRoYXQgYHRoaXMuc3RhdGVgIHdpbGwgYmUgaW1tZWRpYXRlbHkgdXBkYXRlZCwgc29cbiAqIGFjY2Vzc2luZyBgdGhpcy5zdGF0ZWAgYWZ0ZXIgY2FsbGluZyB0aGlzIG1ldGhvZCBtYXkgcmV0dXJuIHRoZSBvbGQgdmFsdWUuXG4gKlxuICogVGhlcmUgaXMgbm8gZ3VhcmFudGVlIHRoYXQgY2FsbHMgdG8gYHNldFN0YXRlYCB3aWxsIHJ1biBzeW5jaHJvbm91c2x5LFxuICogYXMgdGhleSBtYXkgZXZlbnR1YWxseSBiZSBiYXRjaGVkIHRvZ2V0aGVyLiAgWW91IGNhbiBwcm92aWRlIGFuIG9wdGlvbmFsXG4gKiBjYWxsYmFjayB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgd2hlbiB0aGUgY2FsbCB0byBzZXRTdGF0ZSBpcyBhY3R1YWxseVxuICogY29tcGxldGVkLlxuICpcbiAqIFdoZW4gYSBmdW5jdGlvbiBpcyBwcm92aWRlZCB0byBzZXRTdGF0ZSwgaXQgd2lsbCBiZSBjYWxsZWQgYXQgc29tZSBwb2ludCBpblxuICogdGhlIGZ1dHVyZSAobm90IHN5bmNocm9ub3VzbHkpLiBJdCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSB1cCB0byBkYXRlXG4gKiBjb21wb25lbnQgYXJndW1lbnRzIChzdGF0ZSwgcHJvcHMsIGNvbnRleHQpLiBUaGVzZSB2YWx1ZXMgY2FuIGJlIGRpZmZlcmVudFxuICogZnJvbSB0aGlzLiogYmVjYXVzZSB5b3VyIGZ1bmN0aW9uIG1heSBiZSBjYWxsZWQgYWZ0ZXIgcmVjZWl2ZVByb3BzIGJ1dCBiZWZvcmVcbiAqIHNob3VsZENvbXBvbmVudFVwZGF0ZSwgYW5kIHRoaXMgbmV3IHN0YXRlLCBwcm9wcywgYW5kIGNvbnRleHQgd2lsbCBub3QgeWV0IGJlXG4gKiBhc3NpZ25lZCB0byB0aGlzLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fGZ1bmN0aW9ufSBwYXJ0aWFsU3RhdGUgTmV4dCBwYXJ0aWFsIHN0YXRlIG9yIGZ1bmN0aW9uIHRvXG4gKiAgICAgICAgcHJvZHVjZSBuZXh0IHBhcnRpYWwgc3RhdGUgdG8gYmUgbWVyZ2VkIHdpdGggY3VycmVudCBzdGF0ZS5cbiAqIEBwYXJhbSB7P2Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsZWQgYWZ0ZXIgc3RhdGUgaXMgdXBkYXRlZC5cbiAqIEBmaW5hbFxuICogQHByb3RlY3RlZFxuICovXG5Db21wb25lbnQucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2spIHtcbiAgISh0eXBlb2YgcGFydGlhbFN0YXRlID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgcGFydGlhbFN0YXRlID09PSAnZnVuY3Rpb24nIHx8IHBhcnRpYWxTdGF0ZSA9PSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ3NldFN0YXRlKC4uLik6IHRha2VzIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMgdG8gdXBkYXRlIG9yIGEgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhbiBvYmplY3Qgb2Ygc3RhdGUgdmFyaWFibGVzLicpIDogdm9pZCAwO1xuICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHRoaXMsIHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2ssICdzZXRTdGF0ZScpO1xufTtcblxuLyoqXG4gKiBGb3JjZXMgYW4gdXBkYXRlLiBUaGlzIHNob3VsZCBvbmx5IGJlIGludm9rZWQgd2hlbiBpdCBpcyBrbm93biB3aXRoXG4gKiBjZXJ0YWludHkgdGhhdCB3ZSBhcmUgKipub3QqKiBpbiBhIERPTSB0cmFuc2FjdGlvbi5cbiAqXG4gKiBZb3UgbWF5IHdhbnQgdG8gY2FsbCB0aGlzIHdoZW4geW91IGtub3cgdGhhdCBzb21lIGRlZXBlciBhc3BlY3Qgb2YgdGhlXG4gKiBjb21wb25lbnQncyBzdGF0ZSBoYXMgY2hhbmdlZCBidXQgYHNldFN0YXRlYCB3YXMgbm90IGNhbGxlZC5cbiAqXG4gKiBUaGlzIHdpbGwgbm90IGludm9rZSBgc2hvdWxkQ29tcG9uZW50VXBkYXRlYCwgYnV0IGl0IHdpbGwgaW52b2tlXG4gKiBgY29tcG9uZW50V2lsbFVwZGF0ZWAgYW5kIGBjb21wb25lbnREaWRVcGRhdGVgLlxuICpcbiAqIEBwYXJhbSB7P2Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsZWQgYWZ0ZXIgdXBkYXRlIGlzIGNvbXBsZXRlLlxuICogQGZpbmFsXG4gKiBAcHJvdGVjdGVkXG4gKi9cbkNvbXBvbmVudC5wcm90b3R5cGUuZm9yY2VVcGRhdGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgdGhpcy51cGRhdGVyLmVucXVldWVGb3JjZVVwZGF0ZSh0aGlzLCBjYWxsYmFjaywgJ2ZvcmNlVXBkYXRlJyk7XG59O1xuXG4vKipcbiAqIERlcHJlY2F0ZWQgQVBJcy4gVGhlc2UgQVBJcyB1c2VkIHRvIGV4aXN0IG9uIGNsYXNzaWMgUmVhY3QgY2xhc3NlcyBidXQgc2luY2VcbiAqIHdlIHdvdWxkIGxpa2UgdG8gZGVwcmVjYXRlIHRoZW0sIHdlJ3JlIG5vdCBnb2luZyB0byBtb3ZlIHRoZW0gb3ZlciB0byB0aGlzXG4gKiBtb2Rlcm4gYmFzZSBjbGFzcy4gSW5zdGVhZCwgd2UgZGVmaW5lIGEgZ2V0dGVyIHRoYXQgd2FybnMgaWYgaXQncyBhY2Nlc3NlZC5cbiAqL1xue1xuICB2YXIgZGVwcmVjYXRlZEFQSXMgPSB7XG4gICAgaXNNb3VudGVkOiBbJ2lzTW91bnRlZCcsICdJbnN0ZWFkLCBtYWtlIHN1cmUgdG8gY2xlYW4gdXAgc3Vic2NyaXB0aW9ucyBhbmQgcGVuZGluZyByZXF1ZXN0cyBpbiAnICsgJ2NvbXBvbmVudFdpbGxVbm1vdW50IHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzLiddLFxuICAgIHJlcGxhY2VTdGF0ZTogWydyZXBsYWNlU3RhdGUnLCAnUmVmYWN0b3IgeW91ciBjb2RlIHRvIHVzZSBzZXRTdGF0ZSBpbnN0ZWFkIChzZWUgJyArICdodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzMyMzYpLiddXG4gIH07XG4gIHZhciBkZWZpbmVEZXByZWNhdGlvbldhcm5pbmcgPSBmdW5jdGlvbiAobWV0aG9kTmFtZSwgaW5mbykge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnQucHJvdG90eXBlLCBtZXRob2ROYW1lLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG93UHJpb3JpdHlXYXJuaW5nJDEoZmFsc2UsICclcyguLi4pIGlzIGRlcHJlY2F0ZWQgaW4gcGxhaW4gSmF2YVNjcmlwdCBSZWFjdCBjbGFzc2VzLiAlcycsIGluZm9bMF0sIGluZm9bMV0pO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICBmb3IgKHZhciBmbk5hbWUgaW4gZGVwcmVjYXRlZEFQSXMpIHtcbiAgICBpZiAoZGVwcmVjYXRlZEFQSXMuaGFzT3duUHJvcGVydHkoZm5OYW1lKSkge1xuICAgICAgZGVmaW5lRGVwcmVjYXRpb25XYXJuaW5nKGZuTmFtZSwgZGVwcmVjYXRlZEFQSXNbZm5OYW1lXSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIENvbXBvbmVudER1bW15KCkge31cbkNvbXBvbmVudER1bW15LnByb3RvdHlwZSA9IENvbXBvbmVudC5wcm90b3R5cGU7XG5cbi8qKlxuICogQ29udmVuaWVuY2UgY29tcG9uZW50IHdpdGggZGVmYXVsdCBzaGFsbG93IGVxdWFsaXR5IGNoZWNrIGZvciBzQ1UuXG4gKi9cbmZ1bmN0aW9uIFB1cmVDb21wb25lbnQocHJvcHMsIGNvbnRleHQsIHVwZGF0ZXIpIHtcbiAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB0aGlzLnJlZnMgPSBlbXB0eU9iamVjdDtcbiAgdGhpcy51cGRhdGVyID0gdXBkYXRlciB8fCBSZWFjdE5vb3BVcGRhdGVRdWV1ZTtcbn1cblxudmFyIHB1cmVDb21wb25lbnRQcm90b3R5cGUgPSBQdXJlQ29tcG9uZW50LnByb3RvdHlwZSA9IG5ldyBDb21wb25lbnREdW1teSgpO1xucHVyZUNvbXBvbmVudFByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFB1cmVDb21wb25lbnQ7XG4vLyBBdm9pZCBhbiBleHRyYSBwcm90b3R5cGUganVtcCBmb3IgdGhlc2UgbWV0aG9kcy5cbl9hc3NpZ24ocHVyZUNvbXBvbmVudFByb3RvdHlwZSwgQ29tcG9uZW50LnByb3RvdHlwZSk7XG5wdXJlQ29tcG9uZW50UHJvdG90eXBlLmlzUHVyZVJlYWN0Q29tcG9uZW50ID0gdHJ1ZTtcblxuLy8gYW4gaW1tdXRhYmxlIG9iamVjdCB3aXRoIGEgc2luZ2xlIG11dGFibGUgdmFsdWVcbmZ1bmN0aW9uIGNyZWF0ZVJlZigpIHtcbiAgdmFyIHJlZk9iamVjdCA9IHtcbiAgICBjdXJyZW50OiBudWxsXG4gIH07XG4gIHtcbiAgICBPYmplY3Quc2VhbChyZWZPYmplY3QpO1xuICB9XG4gIHJldHVybiByZWZPYmplY3Q7XG59XG5cbi8qKlxuICogS2VlcHMgdHJhY2sgb2YgdGhlIGN1cnJlbnQgb3duZXIuXG4gKlxuICogVGhlIGN1cnJlbnQgb3duZXIgaXMgdGhlIGNvbXBvbmVudCB3aG8gc2hvdWxkIG93biBhbnkgY29tcG9uZW50cyB0aGF0IGFyZVxuICogY3VycmVudGx5IGJlaW5nIGNvbnN0cnVjdGVkLlxuICovXG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSB7XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHR5cGUge1JlYWN0Q29tcG9uZW50fVxuICAgKi9cbiAgY3VycmVudDogbnVsbFxufTtcblxudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIFJFU0VSVkVEX1BST1BTID0ge1xuICBrZXk6IHRydWUsXG4gIHJlZjogdHJ1ZSxcbiAgX19zZWxmOiB0cnVlLFxuICBfX3NvdXJjZTogdHJ1ZVxufTtcblxudmFyIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duID0gdm9pZCAwO1xudmFyIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duID0gdm9pZCAwO1xuXG5mdW5jdGlvbiBoYXNWYWxpZFJlZihjb25maWcpIHtcbiAge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgJ3JlZicpKSB7XG4gICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdyZWYnKS5nZXQ7XG4gICAgICBpZiAoZ2V0dGVyICYmIGdldHRlci5pc1JlYWN0V2FybmluZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBjb25maWcucmVmICE9PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGhhc1ZhbGlkS2V5KGNvbmZpZykge1xuICB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCAna2V5JykpIHtcbiAgICAgIHZhciBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgJ2tleScpLmdldDtcbiAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvbmZpZy5rZXkgIT09IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gIHZhciB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bikge1xuICAgICAgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24gPSB0cnVlO1xuICAgICAgd2FybmluZyhmYWxzZSwgJyVzOiBga2V5YCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9mYi5tZS9yZWFjdC1zcGVjaWFsLXByb3BzKScsIGRpc3BsYXlOYW1lKTtcbiAgICB9XG4gIH07XG4gIHdhcm5BYm91dEFjY2Vzc2luZ0tleS5pc1JlYWN0V2FybmluZyA9IHRydWU7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ2tleScsIHtcbiAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ0tleSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGRlZmluZVJlZlByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSkge1xuICB2YXIgd2FybkFib3V0QWNjZXNzaW5nUmVmID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd24pIHtcbiAgICAgIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duID0gdHJ1ZTtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICclczogYHJlZmAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCAnICsgJ2luIGB1bmRlZmluZWRgIGJlaW5nIHJldHVybmVkLiBJZiB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHNhbWUgJyArICd2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50ICcgKyAncHJvcC4gKGh0dHBzOi8vZmIubWUvcmVhY3Qtc3BlY2lhbC1wcm9wcyknLCBkaXNwbGF5TmFtZSk7XG4gICAgfVxuICB9O1xuICB3YXJuQWJvdXRBY2Nlc3NpbmdSZWYuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsICdyZWYnLCB7XG4gICAgZ2V0OiB3YXJuQWJvdXRBY2Nlc3NpbmdSZWYsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xufVxuXG4vKipcbiAqIEZhY3RvcnkgbWV0aG9kIHRvIGNyZWF0ZSBhIG5ldyBSZWFjdCBlbGVtZW50LiBUaGlzIG5vIGxvbmdlciBhZGhlcmVzIHRvXG4gKiB0aGUgY2xhc3MgcGF0dGVybiwgc28gZG8gbm90IHVzZSBuZXcgdG8gY2FsbCBpdC4gQWxzbywgbm8gaW5zdGFuY2VvZiBjaGVja1xuICogd2lsbCB3b3JrLiBJbnN0ZWFkIHRlc3QgJCR0eXBlb2YgZmllbGQgYWdhaW5zdCBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykgdG8gY2hlY2tcbiAqIGlmIHNvbWV0aGluZyBpcyBhIFJlYWN0IEVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHsqfSB0eXBlXG4gKiBAcGFyYW0geyp9IGtleVxuICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSByZWZcbiAqIEBwYXJhbSB7Kn0gc2VsZiBBICp0ZW1wb3JhcnkqIGhlbHBlciB0byBkZXRlY3QgcGxhY2VzIHdoZXJlIGB0aGlzYCBpc1xuICogZGlmZmVyZW50IGZyb20gdGhlIGBvd25lcmAgd2hlbiBSZWFjdC5jcmVhdGVFbGVtZW50IGlzIGNhbGxlZCwgc28gdGhhdCB3ZVxuICogY2FuIHdhcm4uIFdlIHdhbnQgdG8gZ2V0IHJpZCBvZiBvd25lciBhbmQgcmVwbGFjZSBzdHJpbmcgYHJlZmBzIHdpdGggYXJyb3dcbiAqIGZ1bmN0aW9ucywgYW5kIGFzIGxvbmcgYXMgYHRoaXNgIGFuZCBvd25lciBhcmUgdGhlIHNhbWUsIHRoZXJlIHdpbGwgYmUgbm9cbiAqIGNoYW5nZSBpbiBiZWhhdmlvci5cbiAqIEBwYXJhbSB7Kn0gc291cmNlIEFuIGFubm90YXRpb24gb2JqZWN0IChhZGRlZCBieSBhIHRyYW5zcGlsZXIgb3Igb3RoZXJ3aXNlKVxuICogaW5kaWNhdGluZyBmaWxlbmFtZSwgbGluZSBudW1iZXIsIGFuZC9vciBvdGhlciBpbmZvcm1hdGlvbi5cbiAqIEBwYXJhbSB7Kn0gb3duZXJcbiAqIEBwYXJhbSB7Kn0gcHJvcHNcbiAqIEBpbnRlcm5hbFxuICovXG52YXIgUmVhY3RFbGVtZW50ID0gZnVuY3Rpb24gKHR5cGUsIGtleSwgcmVmLCBzZWxmLCBzb3VyY2UsIG93bmVyLCBwcm9wcykge1xuICB2YXIgZWxlbWVudCA9IHtcbiAgICAvLyBUaGlzIHRhZyBhbGxvd3MgdXMgdG8gdW5pcXVlbHkgaWRlbnRpZnkgdGhpcyBhcyBhIFJlYWN0IEVsZW1lbnRcbiAgICAkJHR5cGVvZjogUkVBQ1RfRUxFTUVOVF9UWVBFLFxuXG4gICAgLy8gQnVpbHQtaW4gcHJvcGVydGllcyB0aGF0IGJlbG9uZyBvbiB0aGUgZWxlbWVudFxuICAgIHR5cGU6IHR5cGUsXG4gICAga2V5OiBrZXksXG4gICAgcmVmOiByZWYsXG4gICAgcHJvcHM6IHByb3BzLFxuXG4gICAgLy8gUmVjb3JkIHRoZSBjb21wb25lbnQgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIHRoaXMgZWxlbWVudC5cbiAgICBfb3duZXI6IG93bmVyXG4gIH07XG5cbiAge1xuICAgIC8vIFRoZSB2YWxpZGF0aW9uIGZsYWcgaXMgY3VycmVudGx5IG11dGF0aXZlLiBXZSBwdXQgaXQgb25cbiAgICAvLyBhbiBleHRlcm5hbCBiYWNraW5nIHN0b3JlIHNvIHRoYXQgd2UgY2FuIGZyZWV6ZSB0aGUgd2hvbGUgb2JqZWN0LlxuICAgIC8vIFRoaXMgY2FuIGJlIHJlcGxhY2VkIHdpdGggYSBXZWFrTWFwIG9uY2UgdGhleSBhcmUgaW1wbGVtZW50ZWQgaW5cbiAgICAvLyBjb21tb25seSB1c2VkIGRldmVsb3BtZW50IGVudmlyb25tZW50cy5cbiAgICBlbGVtZW50Ll9zdG9yZSA9IHt9O1xuXG4gICAgLy8gVG8gbWFrZSBjb21wYXJpbmcgUmVhY3RFbGVtZW50cyBlYXNpZXIgZm9yIHRlc3RpbmcgcHVycG9zZXMsIHdlIG1ha2VcbiAgICAvLyB0aGUgdmFsaWRhdGlvbiBmbGFnIG5vbi1lbnVtZXJhYmxlICh3aGVyZSBwb3NzaWJsZSwgd2hpY2ggc2hvdWxkXG4gICAgLy8gaW5jbHVkZSBldmVyeSBlbnZpcm9ubWVudCB3ZSBydW4gdGVzdHMgaW4pLCBzbyB0aGUgdGVzdCBmcmFtZXdvcmtcbiAgICAvLyBpZ25vcmVzIGl0LlxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50Ll9zdG9yZSwgJ3ZhbGlkYXRlZCcsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGZhbHNlXG4gICAgfSk7XG4gICAgLy8gc2VsZiBhbmQgc291cmNlIGFyZSBERVYgb25seSBwcm9wZXJ0aWVzLlxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX3NlbGYnLCB7XG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICB2YWx1ZTogc2VsZlxuICAgIH0pO1xuICAgIC8vIFR3byBlbGVtZW50cyBjcmVhdGVkIGluIHR3byBkaWZmZXJlbnQgcGxhY2VzIHNob3VsZCBiZSBjb25zaWRlcmVkXG4gICAgLy8gZXF1YWwgZm9yIHRlc3RpbmcgcHVycG9zZXMgYW5kIHRoZXJlZm9yZSB3ZSBoaWRlIGl0IGZyb20gZW51bWVyYXRpb24uXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnQsICdfc291cmNlJywge1xuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgdmFsdWU6IHNvdXJjZVxuICAgIH0pO1xuICAgIGlmIChPYmplY3QuZnJlZXplKSB7XG4gICAgICBPYmplY3QuZnJlZXplKGVsZW1lbnQucHJvcHMpO1xuICAgICAgT2JqZWN0LmZyZWV6ZShlbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGFuZCByZXR1cm4gYSBuZXcgUmVhY3RFbGVtZW50IG9mIHRoZSBnaXZlbiB0eXBlLlxuICogU2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9yZWFjdC1hcGkuaHRtbCNjcmVhdGVlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodHlwZSwgY29uZmlnLCBjaGlsZHJlbikge1xuICB2YXIgcHJvcE5hbWUgPSB2b2lkIDA7XG5cbiAgLy8gUmVzZXJ2ZWQgbmFtZXMgYXJlIGV4dHJhY3RlZFxuICB2YXIgcHJvcHMgPSB7fTtcblxuICB2YXIga2V5ID0gbnVsbDtcbiAgdmFyIHJlZiA9IG51bGw7XG4gIHZhciBzZWxmID0gbnVsbDtcbiAgdmFyIHNvdXJjZSA9IG51bGw7XG5cbiAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgaWYgKGhhc1ZhbGlkUmVmKGNvbmZpZykpIHtcbiAgICAgIHJlZiA9IGNvbmZpZy5yZWY7XG4gICAgfVxuICAgIGlmIChoYXNWYWxpZEtleShjb25maWcpKSB7XG4gICAgICBrZXkgPSAnJyArIGNvbmZpZy5rZXk7XG4gICAgfVxuXG4gICAgc2VsZiA9IGNvbmZpZy5fX3NlbGYgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjb25maWcuX19zZWxmO1xuICAgIHNvdXJjZSA9IGNvbmZpZy5fX3NvdXJjZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGNvbmZpZy5fX3NvdXJjZTtcbiAgICAvLyBSZW1haW5pbmcgcHJvcGVydGllcyBhcmUgYWRkZWQgdG8gYSBuZXcgcHJvcHMgb2JqZWN0XG4gICAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpICYmICFSRVNFUlZFRF9QUk9QUy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBDaGlsZHJlbiBjYW4gYmUgbW9yZSB0aGFuIG9uZSBhcmd1bWVudCwgYW5kIHRob3NlIGFyZSB0cmFuc2ZlcnJlZCBvbnRvXG4gIC8vIHRoZSBuZXdseSBhbGxvY2F0ZWQgcHJvcHMgb2JqZWN0LlxuICB2YXIgY2hpbGRyZW5MZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgaWYgKGNoaWxkcmVuTGVuZ3RoID09PSAxKSB7XG4gICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgfSBlbHNlIGlmIChjaGlsZHJlbkxlbmd0aCA+IDEpIHtcbiAgICB2YXIgY2hpbGRBcnJheSA9IEFycmF5KGNoaWxkcmVuTGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuTGVuZ3RoOyBpKyspIHtcbiAgICAgIGNoaWxkQXJyYXlbaV0gPSBhcmd1bWVudHNbaSArIDJdO1xuICAgIH1cbiAgICB7XG4gICAgICBpZiAoT2JqZWN0LmZyZWV6ZSkge1xuICAgICAgICBPYmplY3QuZnJlZXplKGNoaWxkQXJyYXkpO1xuICAgICAgfVxuICAgIH1cbiAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkQXJyYXk7XG4gIH1cblxuICAvLyBSZXNvbHZlIGRlZmF1bHQgcHJvcHNcbiAgaWYgKHR5cGUgJiYgdHlwZS5kZWZhdWx0UHJvcHMpIHtcbiAgICB2YXIgZGVmYXVsdFByb3BzID0gdHlwZS5kZWZhdWx0UHJvcHM7XG4gICAgZm9yIChwcm9wTmFtZSBpbiBkZWZhdWx0UHJvcHMpIHtcbiAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBkZWZhdWx0UHJvcHNbcHJvcE5hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB7XG4gICAgaWYgKGtleSB8fCByZWYpIHtcbiAgICAgIGlmICh0eXBlb2YgcHJvcHMuJCR0eXBlb2YgPT09ICd1bmRlZmluZWQnIHx8IHByb3BzLiQkdHlwZW9mICE9PSBSRUFDVF9FTEVNRU5UX1RZUEUpIHtcbiAgICAgICAgdmFyIGRpc3BsYXlOYW1lID0gdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgPyB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCAnVW5rbm93bicgOiB0eXBlO1xuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVmKSB7XG4gICAgICAgICAgZGVmaW5lUmVmUHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gUmVhY3RFbGVtZW50KHR5cGUsIGtleSwgcmVmLCBzZWxmLCBzb3VyY2UsIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQsIHByb3BzKTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYSBmdW5jdGlvbiB0aGF0IHByb2R1Y2VzIFJlYWN0RWxlbWVudHMgb2YgYSBnaXZlbiB0eXBlLlxuICogU2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9yZWFjdC1hcGkuaHRtbCNjcmVhdGVmYWN0b3J5XG4gKi9cblxuXG5mdW5jdGlvbiBjbG9uZUFuZFJlcGxhY2VLZXkob2xkRWxlbWVudCwgbmV3S2V5KSB7XG4gIHZhciBuZXdFbGVtZW50ID0gUmVhY3RFbGVtZW50KG9sZEVsZW1lbnQudHlwZSwgbmV3S2V5LCBvbGRFbGVtZW50LnJlZiwgb2xkRWxlbWVudC5fc2VsZiwgb2xkRWxlbWVudC5fc291cmNlLCBvbGRFbGVtZW50Ll9vd25lciwgb2xkRWxlbWVudC5wcm9wcyk7XG5cbiAgcmV0dXJuIG5ld0VsZW1lbnQ7XG59XG5cbi8qKlxuICogQ2xvbmUgYW5kIHJldHVybiBhIG5ldyBSZWFjdEVsZW1lbnQgdXNpbmcgZWxlbWVudCBhcyB0aGUgc3RhcnRpbmcgcG9pbnQuXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI2Nsb25lZWxlbWVudFxuICovXG5mdW5jdGlvbiBjbG9uZUVsZW1lbnQoZWxlbWVudCwgY29uZmlnLCBjaGlsZHJlbikge1xuICB2YXIgcHJvcE5hbWUgPSB2b2lkIDA7XG5cbiAgLy8gT3JpZ2luYWwgcHJvcHMgYXJlIGNvcGllZFxuICB2YXIgcHJvcHMgPSBfYXNzaWduKHt9LCBlbGVtZW50LnByb3BzKTtcblxuICAvLyBSZXNlcnZlZCBuYW1lcyBhcmUgZXh0cmFjdGVkXG4gIHZhciBrZXkgPSBlbGVtZW50LmtleTtcbiAgdmFyIHJlZiA9IGVsZW1lbnQucmVmO1xuICAvLyBTZWxmIGlzIHByZXNlcnZlZCBzaW5jZSB0aGUgb3duZXIgaXMgcHJlc2VydmVkLlxuICB2YXIgc2VsZiA9IGVsZW1lbnQuX3NlbGY7XG4gIC8vIFNvdXJjZSBpcyBwcmVzZXJ2ZWQgc2luY2UgY2xvbmVFbGVtZW50IGlzIHVubGlrZWx5IHRvIGJlIHRhcmdldGVkIGJ5IGFcbiAgLy8gdHJhbnNwaWxlciwgYW5kIHRoZSBvcmlnaW5hbCBzb3VyY2UgaXMgcHJvYmFibHkgYSBiZXR0ZXIgaW5kaWNhdG9yIG9mIHRoZVxuICAvLyB0cnVlIG93bmVyLlxuICB2YXIgc291cmNlID0gZWxlbWVudC5fc291cmNlO1xuXG4gIC8vIE93bmVyIHdpbGwgYmUgcHJlc2VydmVkLCB1bmxlc3MgcmVmIGlzIG92ZXJyaWRkZW5cbiAgdmFyIG93bmVyID0gZWxlbWVudC5fb3duZXI7XG5cbiAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgaWYgKGhhc1ZhbGlkUmVmKGNvbmZpZykpIHtcbiAgICAgIC8vIFNpbGVudGx5IHN0ZWFsIHRoZSByZWYgZnJvbSB0aGUgcGFyZW50LlxuICAgICAgcmVmID0gY29uZmlnLnJlZjtcbiAgICAgIG93bmVyID0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudDtcbiAgICB9XG4gICAgaWYgKGhhc1ZhbGlkS2V5KGNvbmZpZykpIHtcbiAgICAgIGtleSA9ICcnICsgY29uZmlnLmtleTtcbiAgICB9XG5cbiAgICAvLyBSZW1haW5pbmcgcHJvcGVydGllcyBvdmVycmlkZSBleGlzdGluZyBwcm9wc1xuICAgIHZhciBkZWZhdWx0UHJvcHMgPSB2b2lkIDA7XG4gICAgaWYgKGVsZW1lbnQudHlwZSAmJiBlbGVtZW50LnR5cGUuZGVmYXVsdFByb3BzKSB7XG4gICAgICBkZWZhdWx0UHJvcHMgPSBlbGVtZW50LnR5cGUuZGVmYXVsdFByb3BzO1xuICAgIH1cbiAgICBmb3IgKHByb3BOYW1lIGluIGNvbmZpZykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBwcm9wTmFtZSkgJiYgIVJFU0VSVkVEX1BST1BTLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICBpZiAoY29uZmlnW3Byb3BOYW1lXSA9PT0gdW5kZWZpbmVkICYmIGRlZmF1bHRQcm9wcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy8gUmVzb2x2ZSBkZWZhdWx0IHByb3BzXG4gICAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gZGVmYXVsdFByb3BzW3Byb3BOYW1lXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBjb25maWdbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQ2hpbGRyZW4gY2FuIGJlIG1vcmUgdGhhbiBvbmUgYXJndW1lbnQsIGFuZCB0aG9zZSBhcmUgdHJhbnNmZXJyZWQgb250b1xuICAvLyB0aGUgbmV3bHkgYWxsb2NhdGVkIHByb3BzIG9iamVjdC5cbiAgdmFyIGNoaWxkcmVuTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7XG4gIGlmIChjaGlsZHJlbkxlbmd0aCA9PT0gMSkge1xuICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gIH0gZWxzZSBpZiAoY2hpbGRyZW5MZW5ndGggPiAxKSB7XG4gICAgdmFyIGNoaWxkQXJyYXkgPSBBcnJheShjaGlsZHJlbkxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG4gICAgICBjaGlsZEFycmF5W2ldID0gYXJndW1lbnRzW2kgKyAyXTtcbiAgICB9XG4gICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZEFycmF5O1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0RWxlbWVudChlbGVtZW50LnR5cGUsIGtleSwgcmVmLCBzZWxmLCBzb3VyY2UsIG93bmVyLCBwcm9wcyk7XG59XG5cbi8qKlxuICogVmVyaWZpZXMgdGhlIG9iamVjdCBpcyBhIFJlYWN0RWxlbWVudC5cbiAqIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwjaXN2YWxpZGVsZW1lbnRcbiAqIEBwYXJhbSB7P29iamVjdH0gb2JqZWN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGBvYmplY3RgIGlzIGEgdmFsaWQgY29tcG9uZW50LlxuICogQGZpbmFsXG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWRFbGVtZW50KG9iamVjdCkge1xuICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICE9PSBudWxsICYmIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xufVxuXG52YXIgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSA9IHt9O1xuXG57XG4gIC8vIENvbXBvbmVudCB0aGF0IGlzIGJlaW5nIHdvcmtlZCBvblxuICBSZWFjdERlYnVnQ3VycmVudEZyYW1lLmdldEN1cnJlbnRTdGFjayA9IG51bGw7XG5cbiAgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRTdGFja0FkZGVuZHVtID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBpbXBsID0gUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRDdXJyZW50U3RhY2s7XG4gICAgaWYgKGltcGwpIHtcbiAgICAgIHJldHVybiBpbXBsKCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xufVxuXG52YXIgU0VQQVJBVE9SID0gJy4nO1xudmFyIFNVQlNFUEFSQVRPUiA9ICc6JztcblxuLyoqXG4gKiBFc2NhcGUgYW5kIHdyYXAga2V5IHNvIGl0IGlzIHNhZmUgdG8gdXNlIGFzIGEgcmVhY3RpZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdG8gYmUgZXNjYXBlZC5cbiAqIEByZXR1cm4ge3N0cmluZ30gdGhlIGVzY2FwZWQga2V5LlxuICovXG5mdW5jdGlvbiBlc2NhcGUoa2V5KSB7XG4gIHZhciBlc2NhcGVSZWdleCA9IC9bPTpdL2c7XG4gIHZhciBlc2NhcGVyTG9va3VwID0ge1xuICAgICc9JzogJz0wJyxcbiAgICAnOic6ICc9MidcbiAgfTtcbiAgdmFyIGVzY2FwZWRTdHJpbmcgPSAoJycgKyBrZXkpLnJlcGxhY2UoZXNjYXBlUmVnZXgsIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgIHJldHVybiBlc2NhcGVyTG9va3VwW21hdGNoXTtcbiAgfSk7XG5cbiAgcmV0dXJuICckJyArIGVzY2FwZWRTdHJpbmc7XG59XG5cbi8qKlxuICogVE9ETzogVGVzdCB0aGF0IGEgc2luZ2xlIGNoaWxkIGFuZCBhbiBhcnJheSB3aXRoIG9uZSBpdGVtIGhhdmUgdGhlIHNhbWUga2V5XG4gKiBwYXR0ZXJuLlxuICovXG5cbnZhciBkaWRXYXJuQWJvdXRNYXBzID0gZmFsc2U7XG5cbnZhciB1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCA9IC9cXC8rL2c7XG5mdW5jdGlvbiBlc2NhcGVVc2VyUHJvdmlkZWRLZXkodGV4dCkge1xuICByZXR1cm4gKCcnICsgdGV4dCkucmVwbGFjZSh1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCwgJyQmLycpO1xufVxuXG52YXIgUE9PTF9TSVpFID0gMTA7XG52YXIgdHJhdmVyc2VDb250ZXh0UG9vbCA9IFtdO1xuZnVuY3Rpb24gZ2V0UG9vbGVkVHJhdmVyc2VDb250ZXh0KG1hcFJlc3VsdCwga2V5UHJlZml4LCBtYXBGdW5jdGlvbiwgbWFwQ29udGV4dCkge1xuICBpZiAodHJhdmVyc2VDb250ZXh0UG9vbC5sZW5ndGgpIHtcbiAgICB2YXIgdHJhdmVyc2VDb250ZXh0ID0gdHJhdmVyc2VDb250ZXh0UG9vbC5wb3AoKTtcbiAgICB0cmF2ZXJzZUNvbnRleHQucmVzdWx0ID0gbWFwUmVzdWx0O1xuICAgIHRyYXZlcnNlQ29udGV4dC5rZXlQcmVmaXggPSBrZXlQcmVmaXg7XG4gICAgdHJhdmVyc2VDb250ZXh0LmZ1bmMgPSBtYXBGdW5jdGlvbjtcbiAgICB0cmF2ZXJzZUNvbnRleHQuY29udGV4dCA9IG1hcENvbnRleHQ7XG4gICAgdHJhdmVyc2VDb250ZXh0LmNvdW50ID0gMDtcbiAgICByZXR1cm4gdHJhdmVyc2VDb250ZXh0O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7XG4gICAgICByZXN1bHQ6IG1hcFJlc3VsdCxcbiAgICAgIGtleVByZWZpeDoga2V5UHJlZml4LFxuICAgICAgZnVuYzogbWFwRnVuY3Rpb24sXG4gICAgICBjb250ZXh0OiBtYXBDb250ZXh0LFxuICAgICAgY291bnQ6IDBcbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbGVhc2VUcmF2ZXJzZUNvbnRleHQodHJhdmVyc2VDb250ZXh0KSB7XG4gIHRyYXZlcnNlQ29udGV4dC5yZXN1bHQgPSBudWxsO1xuICB0cmF2ZXJzZUNvbnRleHQua2V5UHJlZml4ID0gbnVsbDtcbiAgdHJhdmVyc2VDb250ZXh0LmZ1bmMgPSBudWxsO1xuICB0cmF2ZXJzZUNvbnRleHQuY29udGV4dCA9IG51bGw7XG4gIHRyYXZlcnNlQ29udGV4dC5jb3VudCA9IDA7XG4gIGlmICh0cmF2ZXJzZUNvbnRleHRQb29sLmxlbmd0aCA8IFBPT0xfU0laRSkge1xuICAgIHRyYXZlcnNlQ29udGV4dFBvb2wucHVzaCh0cmF2ZXJzZUNvbnRleHQpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHs/Kn0gY2hpbGRyZW4gQ2hpbGRyZW4gdHJlZSBjb250YWluZXIuXG4gKiBAcGFyYW0geyFzdHJpbmd9IG5hbWVTb0ZhciBOYW1lIG9mIHRoZSBrZXkgcGF0aCBzbyBmYXIuXG4gKiBAcGFyYW0geyFmdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gaW52b2tlIHdpdGggZWFjaCBjaGlsZCBmb3VuZC5cbiAqIEBwYXJhbSB7Pyp9IHRyYXZlcnNlQ29udGV4dCBVc2VkIHRvIHBhc3MgaW5mb3JtYXRpb24gdGhyb3VnaG91dCB0aGUgdHJhdmVyc2FsXG4gKiBwcm9jZXNzLlxuICogQHJldHVybiB7IW51bWJlcn0gVGhlIG51bWJlciBvZiBjaGlsZHJlbiBpbiB0aGlzIHN1YnRyZWUuXG4gKi9cbmZ1bmN0aW9uIHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkcmVuLCBuYW1lU29GYXIsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgY2hpbGRyZW47XG5cbiAgaWYgKHR5cGUgPT09ICd1bmRlZmluZWQnIHx8IHR5cGUgPT09ICdib29sZWFuJykge1xuICAgIC8vIEFsbCBvZiB0aGUgYWJvdmUgYXJlIHBlcmNlaXZlZCBhcyBudWxsLlxuICAgIGNoaWxkcmVuID0gbnVsbDtcbiAgfVxuXG4gIHZhciBpbnZva2VDYWxsYmFjayA9IGZhbHNlO1xuXG4gIGlmIChjaGlsZHJlbiA9PT0gbnVsbCkge1xuICAgIGludm9rZUNhbGxiYWNrID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICBpbnZva2VDYWxsYmFjayA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgc3dpdGNoIChjaGlsZHJlbi4kJHR5cGVvZikge1xuICAgICAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOlxuICAgICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgICBpbnZva2VDYWxsYmFjayA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoaW52b2tlQ2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayh0cmF2ZXJzZUNvbnRleHQsIGNoaWxkcmVuLFxuICAgIC8vIElmIGl0J3MgdGhlIG9ubHkgY2hpbGQsIHRyZWF0IHRoZSBuYW1lIGFzIGlmIGl0IHdhcyB3cmFwcGVkIGluIGFuIGFycmF5XG4gICAgLy8gc28gdGhhdCBpdCdzIGNvbnNpc3RlbnQgaWYgdGhlIG51bWJlciBvZiBjaGlsZHJlbiBncm93cy5cbiAgICBuYW1lU29GYXIgPT09ICcnID8gU0VQQVJBVE9SICsgZ2V0Q29tcG9uZW50S2V5KGNoaWxkcmVuLCAwKSA6IG5hbWVTb0Zhcik7XG4gICAgcmV0dXJuIDE7XG4gIH1cblxuICB2YXIgY2hpbGQgPSB2b2lkIDA7XG4gIHZhciBuZXh0TmFtZSA9IHZvaWQgMDtcbiAgdmFyIHN1YnRyZWVDb3VudCA9IDA7IC8vIENvdW50IG9mIGNoaWxkcmVuIGZvdW5kIGluIHRoZSBjdXJyZW50IHN1YnRyZWUuXG4gIHZhciBuZXh0TmFtZVByZWZpeCA9IG5hbWVTb0ZhciA9PT0gJycgPyBTRVBBUkFUT1IgOiBuYW1lU29GYXIgKyBTVUJTRVBBUkFUT1I7XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgIG5leHROYW1lID0gbmV4dE5hbWVQcmVmaXggKyBnZXRDb21wb25lbnRLZXkoY2hpbGQsIGkpO1xuICAgICAgc3VidHJlZUNvdW50ICs9IHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkLCBuZXh0TmFtZSwgY2FsbGJhY2ssIHRyYXZlcnNlQ29udGV4dCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihjaGlsZHJlbik7XG4gICAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB7XG4gICAgICAgIC8vIFdhcm4gYWJvdXQgdXNpbmcgTWFwcyBhcyBjaGlsZHJlblxuICAgICAgICBpZiAoaXRlcmF0b3JGbiA9PT0gY2hpbGRyZW4uZW50cmllcykge1xuICAgICAgICAgIHdhcm5pbmcoZGlkV2FybkFib3V0TWFwcywgJ1VzaW5nIE1hcHMgYXMgY2hpbGRyZW4gaXMgdW5zdXBwb3J0ZWQgYW5kIHdpbGwgbGlrZWx5IHlpZWxkICcgKyAndW5leHBlY3RlZCByZXN1bHRzLiBDb252ZXJ0IGl0IHRvIGEgc2VxdWVuY2UvaXRlcmFibGUgb2Yga2V5ZWQgJyArICdSZWFjdEVsZW1lbnRzIGluc3RlYWQuJXMnLCBSZWFjdERlYnVnQ3VycmVudEZyYW1lLmdldFN0YWNrQWRkZW5kdW0oKSk7XG4gICAgICAgICAgZGlkV2FybkFib3V0TWFwcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKGNoaWxkcmVuKTtcbiAgICAgIHZhciBzdGVwID0gdm9pZCAwO1xuICAgICAgdmFyIGlpID0gMDtcbiAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgY2hpbGQgPSBzdGVwLnZhbHVlO1xuICAgICAgICBuZXh0TmFtZSA9IG5leHROYW1lUHJlZml4ICsgZ2V0Q29tcG9uZW50S2V5KGNoaWxkLCBpaSsrKTtcbiAgICAgICAgc3VidHJlZUNvdW50ICs9IHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkLCBuZXh0TmFtZSwgY2FsbGJhY2ssIHRyYXZlcnNlQ29udGV4dCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgdmFyIGFkZGVuZHVtID0gJyc7XG4gICAgICB7XG4gICAgICAgIGFkZGVuZHVtID0gJyBJZiB5b3UgbWVhbnQgdG8gcmVuZGVyIGEgY29sbGVjdGlvbiBvZiBjaGlsZHJlbiwgdXNlIGFuIGFycmF5ICcgKyAnaW5zdGVhZC4nICsgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRTdGFja0FkZGVuZHVtKCk7XG4gICAgICB9XG4gICAgICB2YXIgY2hpbGRyZW5TdHJpbmcgPSAnJyArIGNoaWxkcmVuO1xuICAgICAgaW52YXJpYW50KGZhbHNlLCAnT2JqZWN0cyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQgKGZvdW5kOiAlcykuJXMnLCBjaGlsZHJlblN0cmluZyA9PT0gJ1tvYmplY3QgT2JqZWN0XScgPyAnb2JqZWN0IHdpdGgga2V5cyB7JyArIE9iamVjdC5rZXlzKGNoaWxkcmVuKS5qb2luKCcsICcpICsgJ30nIDogY2hpbGRyZW5TdHJpbmcsIGFkZGVuZHVtKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc3VidHJlZUNvdW50O1xufVxuXG4vKipcbiAqIFRyYXZlcnNlcyBjaGlsZHJlbiB0aGF0IGFyZSB0eXBpY2FsbHkgc3BlY2lmaWVkIGFzIGBwcm9wcy5jaGlsZHJlbmAsIGJ1dFxuICogbWlnaHQgYWxzbyBiZSBzcGVjaWZpZWQgdGhyb3VnaCBhdHRyaWJ1dGVzOlxuICpcbiAqIC0gYHRyYXZlcnNlQWxsQ2hpbGRyZW4odGhpcy5wcm9wcy5jaGlsZHJlbiwgLi4uKWBcbiAqIC0gYHRyYXZlcnNlQWxsQ2hpbGRyZW4odGhpcy5wcm9wcy5sZWZ0UGFuZWxDaGlsZHJlbiwgLi4uKWBcbiAqXG4gKiBUaGUgYHRyYXZlcnNlQ29udGV4dGAgaXMgYW4gb3B0aW9uYWwgYXJndW1lbnQgdGhhdCBpcyBwYXNzZWQgdGhyb3VnaCB0aGVcbiAqIGVudGlyZSB0cmF2ZXJzYWwuIEl0IGNhbiBiZSB1c2VkIHRvIHN0b3JlIGFjY3VtdWxhdGlvbnMgb3IgYW55dGhpbmcgZWxzZSB0aGF0XG4gKiB0aGUgY2FsbGJhY2sgbWlnaHQgZmluZCByZWxldmFudC5cbiAqXG4gKiBAcGFyYW0gez8qfSBjaGlsZHJlbiBDaGlsZHJlbiB0cmVlIG9iamVjdC5cbiAqIEBwYXJhbSB7IWZ1bmN0aW9ufSBjYWxsYmFjayBUbyBpbnZva2UgdXBvbiB0cmF2ZXJzaW5nIGVhY2ggY2hpbGQuXG4gKiBAcGFyYW0gez8qfSB0cmF2ZXJzZUNvbnRleHQgQ29udGV4dCBmb3IgdHJhdmVyc2FsLlxuICogQHJldHVybiB7IW51bWJlcn0gVGhlIG51bWJlciBvZiBjaGlsZHJlbiBpbiB0aGlzIHN1YnRyZWUuXG4gKi9cbmZ1bmN0aW9uIHRyYXZlcnNlQWxsQ2hpbGRyZW4oY2hpbGRyZW4sIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpIHtcbiAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHJldHVybiB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZHJlbiwgJycsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIGEga2V5IHN0cmluZyB0aGF0IGlkZW50aWZpZXMgYSBjb21wb25lbnQgd2l0aGluIGEgc2V0LlxuICpcbiAqIEBwYXJhbSB7Kn0gY29tcG9uZW50IEEgY29tcG9uZW50IHRoYXQgY291bGQgY29udGFpbiBhIG1hbnVhbCBrZXkuXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXggdGhhdCBpcyB1c2VkIGlmIGEgbWFudWFsIGtleSBpcyBub3QgcHJvdmlkZWQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldENvbXBvbmVudEtleShjb21wb25lbnQsIGluZGV4KSB7XG4gIC8vIERvIHNvbWUgdHlwZWNoZWNraW5nIGhlcmUgc2luY2Ugd2UgY2FsbCB0aGlzIGJsaW5kbHkuIFdlIHdhbnQgdG8gZW5zdXJlXG4gIC8vIHRoYXQgd2UgZG9uJ3QgYmxvY2sgcG90ZW50aWFsIGZ1dHVyZSBFUyBBUElzLlxuICBpZiAodHlwZW9mIGNvbXBvbmVudCA9PT0gJ29iamVjdCcgJiYgY29tcG9uZW50ICE9PSBudWxsICYmIGNvbXBvbmVudC5rZXkgIT0gbnVsbCkge1xuICAgIC8vIEV4cGxpY2l0IGtleVxuICAgIHJldHVybiBlc2NhcGUoY29tcG9uZW50LmtleSk7XG4gIH1cbiAgLy8gSW1wbGljaXQga2V5IGRldGVybWluZWQgYnkgdGhlIGluZGV4IGluIHRoZSBzZXRcbiAgcmV0dXJuIGluZGV4LnRvU3RyaW5nKDM2KTtcbn1cblxuZnVuY3Rpb24gZm9yRWFjaFNpbmdsZUNoaWxkKGJvb2tLZWVwaW5nLCBjaGlsZCwgbmFtZSkge1xuICB2YXIgZnVuYyA9IGJvb2tLZWVwaW5nLmZ1bmMsXG4gICAgICBjb250ZXh0ID0gYm9va0tlZXBpbmcuY29udGV4dDtcblxuICBmdW5jLmNhbGwoY29udGV4dCwgY2hpbGQsIGJvb2tLZWVwaW5nLmNvdW50KyspO1xufVxuXG4vKipcbiAqIEl0ZXJhdGVzIHRocm91Z2ggY2hpbGRyZW4gdGhhdCBhcmUgdHlwaWNhbGx5IHNwZWNpZmllZCBhcyBgcHJvcHMuY2hpbGRyZW5gLlxuICpcbiAqIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwjcmVhY3QuY2hpbGRyZW4uZm9yZWFjaFxuICpcbiAqIFRoZSBwcm92aWRlZCBmb3JFYWNoRnVuYyhjaGlsZCwgaW5kZXgpIHdpbGwgYmUgY2FsbGVkIGZvciBlYWNoXG4gKiBsZWFmIGNoaWxkLlxuICpcbiAqIEBwYXJhbSB7Pyp9IGNoaWxkcmVuIENoaWxkcmVuIHRyZWUgY29udGFpbmVyLlxuICogQHBhcmFtIHtmdW5jdGlvbigqLCBpbnQpfSBmb3JFYWNoRnVuY1xuICogQHBhcmFtIHsqfSBmb3JFYWNoQ29udGV4dCBDb250ZXh0IGZvciBmb3JFYWNoQ29udGV4dC5cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaENoaWxkcmVuKGNoaWxkcmVuLCBmb3JFYWNoRnVuYywgZm9yRWFjaENvbnRleHQpIHtcbiAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH1cbiAgdmFyIHRyYXZlcnNlQ29udGV4dCA9IGdldFBvb2xlZFRyYXZlcnNlQ29udGV4dChudWxsLCBudWxsLCBmb3JFYWNoRnVuYywgZm9yRWFjaENvbnRleHQpO1xuICB0cmF2ZXJzZUFsbENoaWxkcmVuKGNoaWxkcmVuLCBmb3JFYWNoU2luZ2xlQ2hpbGQsIHRyYXZlcnNlQ29udGV4dCk7XG4gIHJlbGVhc2VUcmF2ZXJzZUNvbnRleHQodHJhdmVyc2VDb250ZXh0KTtcbn1cblxuZnVuY3Rpb24gbWFwU2luZ2xlQ2hpbGRJbnRvQ29udGV4dChib29rS2VlcGluZywgY2hpbGQsIGNoaWxkS2V5KSB7XG4gIHZhciByZXN1bHQgPSBib29rS2VlcGluZy5yZXN1bHQsXG4gICAgICBrZXlQcmVmaXggPSBib29rS2VlcGluZy5rZXlQcmVmaXgsXG4gICAgICBmdW5jID0gYm9va0tlZXBpbmcuZnVuYyxcbiAgICAgIGNvbnRleHQgPSBib29rS2VlcGluZy5jb250ZXh0O1xuXG5cbiAgdmFyIG1hcHBlZENoaWxkID0gZnVuYy5jYWxsKGNvbnRleHQsIGNoaWxkLCBib29rS2VlcGluZy5jb3VudCsrKTtcbiAgaWYgKEFycmF5LmlzQXJyYXkobWFwcGVkQ2hpbGQpKSB7XG4gICAgbWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbChtYXBwZWRDaGlsZCwgcmVzdWx0LCBjaGlsZEtleSwgZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0FyZ3VtZW50KTtcbiAgfSBlbHNlIGlmIChtYXBwZWRDaGlsZCAhPSBudWxsKSB7XG4gICAgaWYgKGlzVmFsaWRFbGVtZW50KG1hcHBlZENoaWxkKSkge1xuICAgICAgbWFwcGVkQ2hpbGQgPSBjbG9uZUFuZFJlcGxhY2VLZXkobWFwcGVkQ2hpbGQsXG4gICAgICAvLyBLZWVwIGJvdGggdGhlIChtYXBwZWQpIGFuZCBvbGQga2V5cyBpZiB0aGV5IGRpZmZlciwganVzdCBhc1xuICAgICAgLy8gdHJhdmVyc2VBbGxDaGlsZHJlbiB1c2VkIHRvIGRvIGZvciBvYmplY3RzIGFzIGNoaWxkcmVuXG4gICAgICBrZXlQcmVmaXggKyAobWFwcGVkQ2hpbGQua2V5ICYmICghY2hpbGQgfHwgY2hpbGQua2V5ICE9PSBtYXBwZWRDaGlsZC5rZXkpID8gZXNjYXBlVXNlclByb3ZpZGVkS2V5KG1hcHBlZENoaWxkLmtleSkgKyAnLycgOiAnJykgKyBjaGlsZEtleSk7XG4gICAgfVxuICAgIHJlc3VsdC5wdXNoKG1hcHBlZENoaWxkKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsKGNoaWxkcmVuLCBhcnJheSwgcHJlZml4LCBmdW5jLCBjb250ZXh0KSB7XG4gIHZhciBlc2NhcGVkUHJlZml4ID0gJyc7XG4gIGlmIChwcmVmaXggIT0gbnVsbCkge1xuICAgIGVzY2FwZWRQcmVmaXggPSBlc2NhcGVVc2VyUHJvdmlkZWRLZXkocHJlZml4KSArICcvJztcbiAgfVxuICB2YXIgdHJhdmVyc2VDb250ZXh0ID0gZ2V0UG9vbGVkVHJhdmVyc2VDb250ZXh0KGFycmF5LCBlc2NhcGVkUHJlZml4LCBmdW5jLCBjb250ZXh0KTtcbiAgdHJhdmVyc2VBbGxDaGlsZHJlbihjaGlsZHJlbiwgbWFwU2luZ2xlQ2hpbGRJbnRvQ29udGV4dCwgdHJhdmVyc2VDb250ZXh0KTtcbiAgcmVsZWFzZVRyYXZlcnNlQ29udGV4dCh0cmF2ZXJzZUNvbnRleHQpO1xufVxuXG4vKipcbiAqIE1hcHMgY2hpbGRyZW4gdGhhdCBhcmUgdHlwaWNhbGx5IHNwZWNpZmllZCBhcyBgcHJvcHMuY2hpbGRyZW5gLlxuICpcbiAqIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwjcmVhY3QuY2hpbGRyZW4ubWFwXG4gKlxuICogVGhlIHByb3ZpZGVkIG1hcEZ1bmN0aW9uKGNoaWxkLCBrZXksIGluZGV4KSB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaFxuICogbGVhZiBjaGlsZC5cbiAqXG4gKiBAcGFyYW0gez8qfSBjaGlsZHJlbiBDaGlsZHJlbiB0cmVlIGNvbnRhaW5lci5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKiwgaW50KX0gZnVuYyBUaGUgbWFwIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IENvbnRleHQgZm9yIG1hcEZ1bmN0aW9uLlxuICogQHJldHVybiB7b2JqZWN0fSBPYmplY3QgY29udGFpbmluZyB0aGUgb3JkZXJlZCBtYXAgb2YgcmVzdWx0cy5cbiAqL1xuZnVuY3Rpb24gbWFwQ2hpbGRyZW4oY2hpbGRyZW4sIGZ1bmMsIGNvbnRleHQpIHtcbiAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH1cbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsKGNoaWxkcmVuLCByZXN1bHQsIG51bGwsIGZ1bmMsIGNvbnRleHQpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENvdW50IHRoZSBudW1iZXIgb2YgY2hpbGRyZW4gdGhhdCBhcmUgdHlwaWNhbGx5IHNwZWNpZmllZCBhc1xuICogYHByb3BzLmNoaWxkcmVuYC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI3JlYWN0LmNoaWxkcmVuLmNvdW50XG4gKlxuICogQHBhcmFtIHs/Kn0gY2hpbGRyZW4gQ2hpbGRyZW4gdHJlZSBjb250YWluZXIuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBudW1iZXIgb2YgY2hpbGRyZW4uXG4gKi9cbmZ1bmN0aW9uIGNvdW50Q2hpbGRyZW4oY2hpbGRyZW4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIHRyYXZlcnNlQWxsQ2hpbGRyZW4oY2hpbGRyZW4sIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNOdWxsLCBudWxsKTtcbn1cblxuLyoqXG4gKiBGbGF0dGVuIGEgY2hpbGRyZW4gb2JqZWN0ICh0eXBpY2FsbHkgc3BlY2lmaWVkIGFzIGBwcm9wcy5jaGlsZHJlbmApIGFuZFxuICogcmV0dXJuIGFuIGFycmF5IHdpdGggYXBwcm9wcmlhdGVseSByZS1rZXllZCBjaGlsZHJlbi5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI3JlYWN0LmNoaWxkcmVuLnRvYXJyYXlcbiAqL1xuZnVuY3Rpb24gdG9BcnJheShjaGlsZHJlbikge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIG1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWwoY2hpbGRyZW4sIHJlc3VsdCwgbnVsbCwgZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0FyZ3VtZW50KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBmaXJzdCBjaGlsZCBpbiBhIGNvbGxlY3Rpb24gb2YgY2hpbGRyZW4gYW5kIHZlcmlmaWVzIHRoYXQgdGhlcmVcbiAqIGlzIG9ubHkgb25lIGNoaWxkIGluIHRoZSBjb2xsZWN0aW9uLlxuICpcbiAqIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwjcmVhY3QuY2hpbGRyZW4ub25seVxuICpcbiAqIFRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIHRoaXMgZnVuY3Rpb24gYXNzdW1lcyB0aGF0IGEgc2luZ2xlIGNoaWxkIGdldHNcbiAqIHBhc3NlZCB3aXRob3V0IGEgd3JhcHBlciwgYnV0IHRoZSBwdXJwb3NlIG9mIHRoaXMgaGVscGVyIGZ1bmN0aW9uIGlzIHRvXG4gKiBhYnN0cmFjdCBhd2F5IHRoZSBwYXJ0aWN1bGFyIHN0cnVjdHVyZSBvZiBjaGlsZHJlbi5cbiAqXG4gKiBAcGFyYW0gez9vYmplY3R9IGNoaWxkcmVuIENoaWxkIGNvbGxlY3Rpb24gc3RydWN0dXJlLlxuICogQHJldHVybiB7UmVhY3RFbGVtZW50fSBUaGUgZmlyc3QgYW5kIG9ubHkgYFJlYWN0RWxlbWVudGAgY29udGFpbmVkIGluIHRoZVxuICogc3RydWN0dXJlLlxuICovXG5mdW5jdGlvbiBvbmx5Q2hpbGQoY2hpbGRyZW4pIHtcbiAgIWlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0LkNoaWxkcmVuLm9ubHkgZXhwZWN0ZWQgdG8gcmVjZWl2ZSBhIHNpbmdsZSBSZWFjdCBlbGVtZW50IGNoaWxkLicpIDogdm9pZCAwO1xuICByZXR1cm4gY2hpbGRyZW47XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbnRleHQoZGVmYXVsdFZhbHVlLCBjYWxjdWxhdGVDaGFuZ2VkQml0cykge1xuICBpZiAoY2FsY3VsYXRlQ2hhbmdlZEJpdHMgPT09IHVuZGVmaW5lZCkge1xuICAgIGNhbGN1bGF0ZUNoYW5nZWRCaXRzID0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICB7XG4gICAgICB3YXJuaW5nKGNhbGN1bGF0ZUNoYW5nZWRCaXRzID09PSBudWxsIHx8IHR5cGVvZiBjYWxjdWxhdGVDaGFuZ2VkQml0cyA9PT0gJ2Z1bmN0aW9uJywgJ2NyZWF0ZUNvbnRleHQ6IEV4cGVjdGVkIHRoZSBvcHRpb25hbCBzZWNvbmQgYXJndW1lbnQgdG8gYmUgYSAnICsgJ2Z1bmN0aW9uLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcycsIGNhbGN1bGF0ZUNoYW5nZWRCaXRzKTtcbiAgICB9XG4gIH1cblxuICB2YXIgY29udGV4dCA9IHtcbiAgICAkJHR5cGVvZjogUkVBQ1RfQ09OVEVYVF9UWVBFLFxuICAgIF9jYWxjdWxhdGVDaGFuZ2VkQml0czogY2FsY3VsYXRlQ2hhbmdlZEJpdHMsXG4gICAgX2RlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlLFxuICAgIF9jdXJyZW50VmFsdWU6IGRlZmF1bHRWYWx1ZSxcbiAgICBfY2hhbmdlZEJpdHM6IDAsXG4gICAgLy8gVGhlc2UgYXJlIGNpcmN1bGFyXG4gICAgUHJvdmlkZXI6IG51bGwsXG4gICAgQ29uc3VtZXI6IG51bGxcbiAgfTtcblxuICBjb250ZXh0LlByb3ZpZGVyID0ge1xuICAgICQkdHlwZW9mOiBSRUFDVF9QUk9WSURFUl9UWVBFLFxuICAgIF9jb250ZXh0OiBjb250ZXh0XG4gIH07XG4gIGNvbnRleHQuQ29uc3VtZXIgPSBjb250ZXh0O1xuXG4gIHtcbiAgICBjb250ZXh0Ll9jdXJyZW50UmVuZGVyZXIgPSBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGNvbnRleHQ7XG59XG5cbmZ1bmN0aW9uIGZvcndhcmRSZWYocmVuZGVyKSB7XG4gIHtcbiAgICB3YXJuaW5nKHR5cGVvZiByZW5kZXIgPT09ICdmdW5jdGlvbicsICdmb3J3YXJkUmVmIHJlcXVpcmVzIGEgcmVuZGVyIGZ1bmN0aW9uIGJ1dCB3YXMgZ2l2ZW4gJXMuJywgcmVuZGVyID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIHJlbmRlcik7XG4gIH1cblxuICByZXR1cm4ge1xuICAgICQkdHlwZW9mOiBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFLFxuICAgIHJlbmRlcjogcmVuZGVyXG4gIH07XG59XG5cbnZhciBkZXNjcmliZUNvbXBvbmVudEZyYW1lID0gZnVuY3Rpb24gKG5hbWUsIHNvdXJjZSwgb3duZXJOYW1lKSB7XG4gIHJldHVybiAnXFxuICAgIGluICcgKyAobmFtZSB8fCAnVW5rbm93bicpICsgKHNvdXJjZSA/ICcgKGF0ICcgKyBzb3VyY2UuZmlsZU5hbWUucmVwbGFjZSgvXi4qW1xcXFxcXC9dLywgJycpICsgJzonICsgc291cmNlLmxpbmVOdW1iZXIgKyAnKScgOiBvd25lck5hbWUgPyAnIChjcmVhdGVkIGJ5ICcgKyBvd25lck5hbWUgKyAnKScgOiAnJyk7XG59O1xuXG5mdW5jdGlvbiBpc1ZhbGlkRWxlbWVudFR5cGUodHlwZSkge1xuICByZXR1cm4gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nIHx8XG4gIC8vIE5vdGU6IGl0cyB0eXBlb2YgbWlnaHQgYmUgb3RoZXIgdGhhbiAnc3ltYm9sJyBvciAnbnVtYmVyJyBpZiBpdCdzIGEgcG9seWZpbGwuXG4gIHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfQVNZTkNfTU9ERV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgfHwgdHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmIHR5cGUgIT09IG51bGwgJiYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX1BST1ZJREVSX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUpO1xufVxuXG5mdW5jdGlvbiBnZXRDb21wb25lbnROYW1lKGZpYmVyKSB7XG4gIHZhciB0eXBlID0gZmliZXIudHlwZTtcblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWU7XG4gIH1cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB0eXBlO1xuICB9XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgUkVBQ1RfRlJBR01FTlRfVFlQRTpcbiAgICAgIHJldHVybiAnUmVhY3RGcmFnbWVudCc7XG4gICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgIHJldHVybiAnUmVhY3RQb3J0YWwnO1xuICAgIGNhc2UgUkVBQ1RfQ0FMTF9UWVBFOlxuICAgICAgcmV0dXJuICdSZWFjdENhbGwnO1xuICAgIGNhc2UgUkVBQ1RfUkVUVVJOX1RZUEU6XG4gICAgICByZXR1cm4gJ1JlYWN0UmV0dXJuJztcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBSZWFjdEVsZW1lbnRWYWxpZGF0b3IgcHJvdmlkZXMgYSB3cmFwcGVyIGFyb3VuZCBhIGVsZW1lbnQgZmFjdG9yeVxuICogd2hpY2ggdmFsaWRhdGVzIHRoZSBwcm9wcyBwYXNzZWQgdG8gdGhlIGVsZW1lbnQuIFRoaXMgaXMgaW50ZW5kZWQgdG8gYmVcbiAqIHVzZWQgb25seSBpbiBERVYgYW5kIGNvdWxkIGJlIHJlcGxhY2VkIGJ5IGEgc3RhdGljIHR5cGUgY2hlY2tlciBmb3IgbGFuZ3VhZ2VzXG4gKiB0aGF0IHN1cHBvcnQgaXQuXG4gKi9cblxudmFyIGN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50ID0gdm9pZCAwO1xudmFyIHByb3BUeXBlc01pc3NwZWxsV2FybmluZ1Nob3duID0gdm9pZCAwO1xuXG52YXIgZ2V0RGlzcGxheU5hbWUgPSBmdW5jdGlvbiAoKSB7fTtcbnZhciBnZXRTdGFja0FkZGVuZHVtID0gZnVuY3Rpb24gKCkge307XG5cbntcbiAgY3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQgPSBudWxsO1xuXG4gIHByb3BUeXBlc01pc3NwZWxsV2FybmluZ1Nob3duID0gZmFsc2U7XG5cbiAgZ2V0RGlzcGxheU5hbWUgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIGlmIChlbGVtZW50ID09IG51bGwpIHtcbiAgICAgIHJldHVybiAnI2VtcHR5JztcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbGVtZW50ID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgZWxlbWVudCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiAnI3RleHQnO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQudHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LnR5cGU7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50LnR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHtcbiAgICAgIHJldHVybiAnUmVhY3QuRnJhZ21lbnQnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZWxlbWVudC50eXBlLmRpc3BsYXlOYW1lIHx8IGVsZW1lbnQudHlwZS5uYW1lIHx8ICdVbmtub3duJztcbiAgICB9XG4gIH07XG5cbiAgZ2V0U3RhY2tBZGRlbmR1bSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3RhY2sgPSAnJztcbiAgICBpZiAoY3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQpIHtcbiAgICAgIHZhciBuYW1lID0gZ2V0RGlzcGxheU5hbWUoY3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQpO1xuICAgICAgdmFyIG93bmVyID0gY3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQuX293bmVyO1xuICAgICAgc3RhY2sgKz0gZGVzY3JpYmVDb21wb25lbnRGcmFtZShuYW1lLCBjdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudC5fc291cmNlLCBvd25lciAmJiBnZXRDb21wb25lbnROYW1lKG93bmVyKSk7XG4gICAgfVxuICAgIHN0YWNrICs9IFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0U3RhY2tBZGRlbmR1bSgpIHx8ICcnO1xuICAgIHJldHVybiBzdGFjaztcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCkge1xuICBpZiAoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgIHZhciBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50KTtcbiAgICBpZiAobmFtZSkge1xuICAgICAgcmV0dXJuICdcXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgJyArIG5hbWUgKyAnYC4nO1xuICAgIH1cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbmZ1bmN0aW9uIGdldFNvdXJjZUluZm9FcnJvckFkZGVuZHVtKGVsZW1lbnRQcm9wcykge1xuICBpZiAoZWxlbWVudFByb3BzICE9PSBudWxsICYmIGVsZW1lbnRQcm9wcyAhPT0gdW5kZWZpbmVkICYmIGVsZW1lbnRQcm9wcy5fX3NvdXJjZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIHNvdXJjZSA9IGVsZW1lbnRQcm9wcy5fX3NvdXJjZTtcbiAgICB2YXIgZmlsZU5hbWUgPSBzb3VyY2UuZmlsZU5hbWUucmVwbGFjZSgvXi4qW1xcXFxcXC9dLywgJycpO1xuICAgIHZhciBsaW5lTnVtYmVyID0gc291cmNlLmxpbmVOdW1iZXI7XG4gICAgcmV0dXJuICdcXG5cXG5DaGVjayB5b3VyIGNvZGUgYXQgJyArIGZpbGVOYW1lICsgJzonICsgbGluZU51bWJlciArICcuJztcbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogV2FybiBpZiB0aGVyZSdzIG5vIGtleSBleHBsaWNpdGx5IHNldCBvbiBkeW5hbWljIGFycmF5cyBvZiBjaGlsZHJlbiBvclxuICogb2JqZWN0IGtleXMgYXJlIG5vdCB2YWxpZC4gVGhpcyBhbGxvd3MgdXMgdG8ga2VlcCB0cmFjayBvZiBjaGlsZHJlbiBiZXR3ZWVuXG4gKiB1cGRhdGVzLlxuICovXG52YXIgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge307XG5cbmZ1bmN0aW9uIGdldEN1cnJlbnRDb21wb25lbnRFcnJvckluZm8ocGFyZW50VHlwZSkge1xuICB2YXIgaW5mbyA9IGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpO1xuXG4gIGlmICghaW5mbykge1xuICAgIHZhciBwYXJlbnROYW1lID0gdHlwZW9mIHBhcmVudFR5cGUgPT09ICdzdHJpbmcnID8gcGFyZW50VHlwZSA6IHBhcmVudFR5cGUuZGlzcGxheU5hbWUgfHwgcGFyZW50VHlwZS5uYW1lO1xuICAgIGlmIChwYXJlbnROYW1lKSB7XG4gICAgICBpbmZvID0gJ1xcblxcbkNoZWNrIHRoZSB0b3AtbGV2ZWwgcmVuZGVyIGNhbGwgdXNpbmcgPCcgKyBwYXJlbnROYW1lICsgJz4uJztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGluZm87XG59XG5cbi8qKlxuICogV2FybiBpZiB0aGUgZWxlbWVudCBkb2Vzbid0IGhhdmUgYW4gZXhwbGljaXQga2V5IGFzc2lnbmVkIHRvIGl0LlxuICogVGhpcyBlbGVtZW50IGlzIGluIGFuIGFycmF5LiBUaGUgYXJyYXkgY291bGQgZ3JvdyBhbmQgc2hyaW5rIG9yIGJlXG4gKiByZW9yZGVyZWQuIEFsbCBjaGlsZHJlbiB0aGF0IGhhdmVuJ3QgYWxyZWFkeSBiZWVuIHZhbGlkYXRlZCBhcmUgcmVxdWlyZWQgdG9cbiAqIGhhdmUgYSBcImtleVwiIHByb3BlcnR5IGFzc2lnbmVkIHRvIGl0LiBFcnJvciBzdGF0dXNlcyBhcmUgY2FjaGVkIHNvIGEgd2FybmluZ1xuICogd2lsbCBvbmx5IGJlIHNob3duIG9uY2UuXG4gKlxuICogQGludGVybmFsXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRoYXQgcmVxdWlyZXMgYSBrZXkuXG4gKiBAcGFyYW0geyp9IHBhcmVudFR5cGUgZWxlbWVudCdzIHBhcmVudCdzIHR5cGUuXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlRXhwbGljaXRLZXkoZWxlbWVudCwgcGFyZW50VHlwZSkge1xuICBpZiAoIWVsZW1lbnQuX3N0b3JlIHx8IGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCB8fCBlbGVtZW50LmtleSAhPSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG5cbiAgdmFyIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8gPSBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpO1xuICBpZiAob3duZXJIYXNLZXlVc2VXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIG93bmVySGFzS2V5VXNlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSA9IHRydWU7XG5cbiAgLy8gVXN1YWxseSB0aGUgY3VycmVudCBvd25lciBpcyB0aGUgb2ZmZW5kZXIsIGJ1dCBpZiBpdCBhY2NlcHRzIGNoaWxkcmVuIGFzIGFcbiAgLy8gcHJvcGVydHksIGl0IG1heSBiZSB0aGUgY3JlYXRvciBvZiB0aGUgY2hpbGQgdGhhdCdzIHJlc3BvbnNpYmxlIGZvclxuICAvLyBhc3NpZ25pbmcgaXQgYSBrZXkuXG4gIHZhciBjaGlsZE93bmVyID0gJyc7XG4gIGlmIChlbGVtZW50ICYmIGVsZW1lbnQuX293bmVyICYmIGVsZW1lbnQuX293bmVyICE9PSBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50KSB7XG4gICAgLy8gR2l2ZSB0aGUgY29tcG9uZW50IHRoYXQgb3JpZ2luYWxseSBjcmVhdGVkIHRoaXMgY2hpbGQuXG4gICAgY2hpbGRPd25lciA9ICcgSXQgd2FzIHBhc3NlZCBhIGNoaWxkIGZyb20gJyArIGdldENvbXBvbmVudE5hbWUoZWxlbWVudC5fb3duZXIpICsgJy4nO1xuICB9XG5cbiAgY3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQgPSBlbGVtZW50O1xuICB7XG4gICAgd2FybmluZyhmYWxzZSwgJ0VhY2ggY2hpbGQgaW4gYW4gYXJyYXkgb3IgaXRlcmF0b3Igc2hvdWxkIGhhdmUgYSB1bmlxdWUgXCJrZXlcIiBwcm9wLicgKyAnJXMlcyBTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC13YXJuaW5nLWtleXMgZm9yIG1vcmUgaW5mb3JtYXRpb24uJXMnLCBjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvLCBjaGlsZE93bmVyLCBnZXRTdGFja0FkZGVuZHVtKCkpO1xuICB9XG4gIGN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50ID0gbnVsbDtcbn1cblxuLyoqXG4gKiBFbnN1cmUgdGhhdCBldmVyeSBlbGVtZW50IGVpdGhlciBpcyBwYXNzZWQgaW4gYSBzdGF0aWMgbG9jYXRpb24sIGluIGFuXG4gKiBhcnJheSB3aXRoIGFuIGV4cGxpY2l0IGtleXMgcHJvcGVydHkgZGVmaW5lZCwgb3IgaW4gYW4gb2JqZWN0IGxpdGVyYWxcbiAqIHdpdGggdmFsaWQga2V5IHByb3BlcnR5LlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdE5vZGV9IG5vZGUgU3RhdGljYWxseSBwYXNzZWQgY2hpbGQgb2YgYW55IHR5cGUuXG4gKiBAcGFyYW0geyp9IHBhcmVudFR5cGUgbm9kZSdzIHBhcmVudCdzIHR5cGUuXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlQ2hpbGRLZXlzKG5vZGUsIHBhcmVudFR5cGUpIHtcbiAgaWYgKHR5cGVvZiBub2RlICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShub2RlKSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGNoaWxkID0gbm9kZVtpXTtcbiAgICAgIGlmIChpc1ZhbGlkRWxlbWVudChjaGlsZCkpIHtcbiAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShjaGlsZCwgcGFyZW50VHlwZSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzVmFsaWRFbGVtZW50KG5vZGUpKSB7XG4gICAgLy8gVGhpcyBlbGVtZW50IHdhcyBwYXNzZWQgaW4gYSB2YWxpZCBsb2NhdGlvbi5cbiAgICBpZiAobm9kZS5fc3RvcmUpIHtcbiAgICAgIG5vZGUuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gICAgfVxuICB9IGVsc2UgaWYgKG5vZGUpIHtcbiAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obm9kZSk7XG4gICAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBFbnRyeSBpdGVyYXRvcnMgdXNlZCB0byBwcm92aWRlIGltcGxpY2l0IGtleXMsXG4gICAgICAvLyBidXQgbm93IHdlIHByaW50IGEgc2VwYXJhdGUgd2FybmluZyBmb3IgdGhlbSBsYXRlci5cbiAgICAgIGlmIChpdGVyYXRvckZuICE9PSBub2RlLmVudHJpZXMpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG5vZGUpO1xuICAgICAgICB2YXIgc3RlcCA9IHZvaWQgMDtcbiAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgIGlmIChpc1ZhbGlkRWxlbWVudChzdGVwLnZhbHVlKSkge1xuICAgICAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShzdGVwLnZhbHVlLCBwYXJlbnRUeXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBHaXZlbiBhbiBlbGVtZW50LCB2YWxpZGF0ZSB0aGF0IGl0cyBwcm9wcyBmb2xsb3cgdGhlIHByb3BUeXBlcyBkZWZpbml0aW9uLFxuICogcHJvdmlkZWQgYnkgdGhlIHR5cGUuXG4gKlxuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVQcm9wVHlwZXMoZWxlbWVudCkge1xuICB2YXIgY29tcG9uZW50Q2xhc3MgPSBlbGVtZW50LnR5cGU7XG4gIGlmICh0eXBlb2YgY29tcG9uZW50Q2xhc3MgIT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG5hbWUgPSBjb21wb25lbnRDbGFzcy5kaXNwbGF5TmFtZSB8fCBjb21wb25lbnRDbGFzcy5uYW1lO1xuICB2YXIgcHJvcFR5cGVzID0gY29tcG9uZW50Q2xhc3MucHJvcFR5cGVzO1xuICBpZiAocHJvcFR5cGVzKSB7XG4gICAgY3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQgPSBlbGVtZW50O1xuICAgIGNoZWNrUHJvcFR5cGVzKHByb3BUeXBlcywgZWxlbWVudC5wcm9wcywgJ3Byb3AnLCBuYW1lLCBnZXRTdGFja0FkZGVuZHVtKTtcbiAgICBjdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCA9IG51bGw7XG4gIH0gZWxzZSBpZiAoY29tcG9uZW50Q2xhc3MuUHJvcFR5cGVzICE9PSB1bmRlZmluZWQgJiYgIXByb3BUeXBlc01pc3NwZWxsV2FybmluZ1Nob3duKSB7XG4gICAgcHJvcFR5cGVzTWlzc3BlbGxXYXJuaW5nU2hvd24gPSB0cnVlO1xuICAgIHdhcm5pbmcoZmFsc2UsICdDb21wb25lbnQgJXMgZGVjbGFyZWQgYFByb3BUeXBlc2AgaW5zdGVhZCBvZiBgcHJvcFR5cGVzYC4gRGlkIHlvdSBtaXNzcGVsbCB0aGUgcHJvcGVydHkgYXNzaWdubWVudD8nLCBuYW1lIHx8ICdVbmtub3duJyk7XG4gIH1cbiAgaWYgKHR5cGVvZiBjb21wb25lbnRDbGFzcy5nZXREZWZhdWx0UHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICB3YXJuaW5nKGNvbXBvbmVudENsYXNzLmdldERlZmF1bHRQcm9wcy5pc1JlYWN0Q2xhc3NBcHByb3ZlZCwgJ2dldERlZmF1bHRQcm9wcyBpcyBvbmx5IHVzZWQgb24gY2xhc3NpYyBSZWFjdC5jcmVhdGVDbGFzcyAnICsgJ2RlZmluaXRpb25zLiBVc2UgYSBzdGF0aWMgcHJvcGVydHkgbmFtZWQgYGRlZmF1bHRQcm9wc2AgaW5zdGVhZC4nKTtcbiAgfVxufVxuXG4vKipcbiAqIEdpdmVuIGEgZnJhZ21lbnQsIHZhbGlkYXRlIHRoYXQgaXQgY2FuIG9ubHkgYmUgcHJvdmlkZWQgd2l0aCBmcmFnbWVudCBwcm9wc1xuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGZyYWdtZW50XG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhmcmFnbWVudCkge1xuICBjdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCA9IGZyYWdtZW50O1xuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZnJhZ21lbnQucHJvcHMpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICBpZiAoa2V5ICE9PSAnY2hpbGRyZW4nICYmIGtleSAhPT0gJ2tleScpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIHByb3AgYCVzYCBzdXBwbGllZCB0byBgUmVhY3QuRnJhZ21lbnRgLiAnICsgJ1JlYWN0LkZyYWdtZW50IGNhbiBvbmx5IGhhdmUgYGtleWAgYW5kIGBjaGlsZHJlbmAgcHJvcHMuJXMnLCBrZXksIGdldFN0YWNrQWRkZW5kdW0oKSk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoZnJhZ21lbnQucmVmICE9PSBudWxsKSB7XG4gICAgd2FybmluZyhmYWxzZSwgJ0ludmFsaWQgYXR0cmlidXRlIGByZWZgIHN1cHBsaWVkIHRvIGBSZWFjdC5GcmFnbWVudGAuJXMnLCBnZXRTdGFja0FkZGVuZHVtKCkpO1xuICB9XG5cbiAgY3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQgPSBudWxsO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50V2l0aFZhbGlkYXRpb24odHlwZSwgcHJvcHMsIGNoaWxkcmVuKSB7XG4gIHZhciB2YWxpZFR5cGUgPSBpc1ZhbGlkRWxlbWVudFR5cGUodHlwZSk7XG5cbiAgLy8gV2Ugd2FybiBpbiB0aGlzIGNhc2UgYnV0IGRvbid0IHRocm93LiBXZSBleHBlY3QgdGhlIGVsZW1lbnQgY3JlYXRpb24gdG9cbiAgLy8gc3VjY2VlZCBhbmQgdGhlcmUgd2lsbCBsaWtlbHkgYmUgZXJyb3JzIGluIHJlbmRlci5cbiAgaWYgKCF2YWxpZFR5cGUpIHtcbiAgICB2YXIgaW5mbyA9ICcnO1xuICAgIGlmICh0eXBlID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmIHR5cGUgIT09IG51bGwgJiYgT2JqZWN0LmtleXModHlwZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICBpbmZvICs9ICcgWW91IGxpa2VseSBmb3Jnb3QgdG8gZXhwb3J0IHlvdXIgY29tcG9uZW50IGZyb20gdGhlIGZpbGUgJyArIFwiaXQncyBkZWZpbmVkIGluLCBvciB5b3UgbWlnaHQgaGF2ZSBtaXhlZCB1cCBkZWZhdWx0IGFuZCBuYW1lZCBpbXBvcnRzLlwiO1xuICAgIH1cblxuICAgIHZhciBzb3VyY2VJbmZvID0gZ2V0U291cmNlSW5mb0Vycm9yQWRkZW5kdW0ocHJvcHMpO1xuICAgIGlmIChzb3VyY2VJbmZvKSB7XG4gICAgICBpbmZvICs9IHNvdXJjZUluZm87XG4gICAgfSBlbHNlIHtcbiAgICAgIGluZm8gKz0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG4gICAgfVxuXG4gICAgaW5mbyArPSBnZXRTdGFja0FkZGVuZHVtKCkgfHwgJyc7XG5cbiAgICB2YXIgdHlwZVN0cmluZyA9IHZvaWQgMDtcbiAgICBpZiAodHlwZSA9PT0gbnVsbCkge1xuICAgICAgdHlwZVN0cmluZyA9ICdudWxsJztcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodHlwZSkpIHtcbiAgICAgIHR5cGVTdHJpbmcgPSAnYXJyYXknO1xuICAgIH0gZWxzZSB7XG4gICAgICB0eXBlU3RyaW5nID0gdHlwZW9mIHR5cGU7XG4gICAgfVxuXG4gICAgd2FybmluZyhmYWxzZSwgJ1JlYWN0LmNyZWF0ZUVsZW1lbnQ6IHR5cGUgaXMgaW52YWxpZCAtLSBleHBlY3RlZCBhIHN0cmluZyAoZm9yICcgKyAnYnVpbHQtaW4gY29tcG9uZW50cykgb3IgYSBjbGFzcy9mdW5jdGlvbiAoZm9yIGNvbXBvc2l0ZSAnICsgJ2NvbXBvbmVudHMpIGJ1dCBnb3Q6ICVzLiVzJywgdHlwZVN0cmluZywgaW5mbyk7XG4gIH1cblxuICB2YXIgZWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAvLyBUaGUgcmVzdWx0IGNhbiBiZSBudWxsaXNoIGlmIGEgbW9jayBvciBhIGN1c3RvbSBmdW5jdGlvbiBpcyB1c2VkLlxuICAvLyBUT0RPOiBEcm9wIHRoaXMgd2hlbiB0aGVzZSBhcmUgbm8gbG9uZ2VyIGFsbG93ZWQgYXMgdGhlIHR5cGUgYXJndW1lbnQuXG4gIGlmIChlbGVtZW50ID09IG51bGwpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIC8vIFNraXAga2V5IHdhcm5pbmcgaWYgdGhlIHR5cGUgaXNuJ3QgdmFsaWQgc2luY2Ugb3VyIGtleSB2YWxpZGF0aW9uIGxvZ2ljXG4gIC8vIGRvZXNuJ3QgZXhwZWN0IGEgbm9uLXN0cmluZy9mdW5jdGlvbiB0eXBlIGFuZCBjYW4gdGhyb3cgY29uZnVzaW5nIGVycm9ycy5cbiAgLy8gV2UgZG9uJ3Qgd2FudCBleGNlcHRpb24gYmVoYXZpb3IgdG8gZGlmZmVyIGJldHdlZW4gZGV2IGFuZCBwcm9kLlxuICAvLyAoUmVuZGVyaW5nIHdpbGwgdGhyb3cgd2l0aCBhIGhlbHBmdWwgbWVzc2FnZSBhbmQgYXMgc29vbiBhcyB0aGUgdHlwZSBpc1xuICAvLyBmaXhlZCwgdGhlIGtleSB3YXJuaW5ncyB3aWxsIGFwcGVhci4pXG4gIGlmICh2YWxpZFR5cGUpIHtcbiAgICBmb3IgKHZhciBpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFsaWRhdGVDaGlsZEtleXMoYXJndW1lbnRzW2ldLCB0eXBlKTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSkge1xuICAgIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhlbGVtZW50KTtcbiAgfSBlbHNlIHtcbiAgICB2YWxpZGF0ZVByb3BUeXBlcyhlbGVtZW50KTtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGYWN0b3J5V2l0aFZhbGlkYXRpb24odHlwZSkge1xuICB2YXIgdmFsaWRhdGVkRmFjdG9yeSA9IGNyZWF0ZUVsZW1lbnRXaXRoVmFsaWRhdGlvbi5iaW5kKG51bGwsIHR5cGUpO1xuICB2YWxpZGF0ZWRGYWN0b3J5LnR5cGUgPSB0eXBlO1xuICAvLyBMZWdhY3kgaG9vazogcmVtb3ZlIGl0XG4gIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodmFsaWRhdGVkRmFjdG9yeSwgJ3R5cGUnLCB7XG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICBsb3dQcmlvcml0eVdhcm5pbmckMShmYWxzZSwgJ0ZhY3RvcnkudHlwZSBpcyBkZXByZWNhdGVkLiBBY2Nlc3MgdGhlIGNsYXNzIGRpcmVjdGx5ICcgKyAnYmVmb3JlIHBhc3NpbmcgaXQgdG8gY3JlYXRlRmFjdG9yeS4nKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICd0eXBlJywge1xuICAgICAgICAgIHZhbHVlOiB0eXBlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB2YWxpZGF0ZWRGYWN0b3J5O1xufVxuXG5mdW5jdGlvbiBjbG9uZUVsZW1lbnRXaXRoVmFsaWRhdGlvbihlbGVtZW50LCBwcm9wcywgY2hpbGRyZW4pIHtcbiAgdmFyIG5ld0VsZW1lbnQgPSBjbG9uZUVsZW1lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgZm9yICh2YXIgaSA9IDI7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YWxpZGF0ZUNoaWxkS2V5cyhhcmd1bWVudHNbaV0sIG5ld0VsZW1lbnQudHlwZSk7XG4gIH1cbiAgdmFsaWRhdGVQcm9wVHlwZXMobmV3RWxlbWVudCk7XG4gIHJldHVybiBuZXdFbGVtZW50O1xufVxuXG52YXIgUmVhY3QgPSB7XG4gIENoaWxkcmVuOiB7XG4gICAgbWFwOiBtYXBDaGlsZHJlbixcbiAgICBmb3JFYWNoOiBmb3JFYWNoQ2hpbGRyZW4sXG4gICAgY291bnQ6IGNvdW50Q2hpbGRyZW4sXG4gICAgdG9BcnJheTogdG9BcnJheSxcbiAgICBvbmx5OiBvbmx5Q2hpbGRcbiAgfSxcblxuICBjcmVhdGVSZWY6IGNyZWF0ZVJlZixcbiAgQ29tcG9uZW50OiBDb21wb25lbnQsXG4gIFB1cmVDb21wb25lbnQ6IFB1cmVDb21wb25lbnQsXG5cbiAgY3JlYXRlQ29udGV4dDogY3JlYXRlQ29udGV4dCxcbiAgZm9yd2FyZFJlZjogZm9yd2FyZFJlZixcblxuICBGcmFnbWVudDogUkVBQ1RfRlJBR01FTlRfVFlQRSxcbiAgU3RyaWN0TW9kZTogUkVBQ1RfU1RSSUNUX01PREVfVFlQRSxcbiAgdW5zdGFibGVfQXN5bmNNb2RlOiBSRUFDVF9BU1lOQ19NT0RFX1RZUEUsXG5cbiAgY3JlYXRlRWxlbWVudDogY3JlYXRlRWxlbWVudFdpdGhWYWxpZGF0aW9uLFxuICBjbG9uZUVsZW1lbnQ6IGNsb25lRWxlbWVudFdpdGhWYWxpZGF0aW9uLFxuICBjcmVhdGVGYWN0b3J5OiBjcmVhdGVGYWN0b3J5V2l0aFZhbGlkYXRpb24sXG4gIGlzVmFsaWRFbGVtZW50OiBpc1ZhbGlkRWxlbWVudCxcblxuICB2ZXJzaW9uOiBSZWFjdFZlcnNpb24sXG5cbiAgX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ6IHtcbiAgICBSZWFjdEN1cnJlbnRPd25lcjogUmVhY3RDdXJyZW50T3duZXIsXG4gICAgLy8gVXNlZCBieSByZW5kZXJlcnMgdG8gYXZvaWQgYnVuZGxpbmcgb2JqZWN0LWFzc2lnbiB0d2ljZSBpbiBVTUQgYnVuZGxlczpcbiAgICBhc3NpZ246IF9hc3NpZ25cbiAgfVxufTtcblxue1xuICBfYXNzaWduKFJlYWN0Ll9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVELCB7XG4gICAgLy8gVGhlc2Ugc2hvdWxkIG5vdCBiZSBpbmNsdWRlZCBpbiBwcm9kdWN0aW9uLlxuICAgIFJlYWN0RGVidWdDdXJyZW50RnJhbWU6IFJlYWN0RGVidWdDdXJyZW50RnJhbWUsXG4gICAgLy8gU2hpbSBmb3IgUmVhY3QgRE9NIDE2LjAuMCB3aGljaCBzdGlsbCBkZXN0cnVjdHVyZWQgKGJ1dCBub3QgdXNlZCkgdGhpcy5cbiAgICAvLyBUT0RPOiByZW1vdmUgaW4gUmVhY3QgMTcuMC5cbiAgICBSZWFjdENvbXBvbmVudFRyZWVIb29rOiB7fVxuICB9KTtcbn1cblxuXG5cbnZhciBSZWFjdCQyID0gT2JqZWN0LmZyZWV6ZSh7XG5cdGRlZmF1bHQ6IFJlYWN0XG59KTtcblxudmFyIFJlYWN0JDMgPSAoIFJlYWN0JDIgJiYgUmVhY3QgKSB8fCBSZWFjdCQyO1xuXG4vLyBUT0RPOiBkZWNpZGUgb24gdGhlIHRvcC1sZXZlbCBleHBvcnQgZm9ybS5cbi8vIFRoaXMgaXMgaGFja3kgYnV0IG1ha2VzIGl0IHdvcmsgd2l0aCBib3RoIFJvbGx1cCBhbmQgSmVzdC5cbnZhciByZWFjdCA9IFJlYWN0JDNbJ2RlZmF1bHQnXSA/IFJlYWN0JDNbJ2RlZmF1bHQnXSA6IFJlYWN0JDM7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVhY3Q7XG4gIH0pKCk7XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJ1xuaW1wb3J0IHtBY2NvdW50U3RhdHVzfSBmcm9tICcuLi9zcmMnXG5cblJlYWN0RE9NLnJlbmRlcihcbiAgPEFjY291bnRTdGF0dXMgLz4sXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JylcbilcbiJdLCJzb3VyY2VSb290IjoiIn0=