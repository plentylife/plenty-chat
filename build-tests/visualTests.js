!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}([function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.Promise="undefined"!=typeof window&&window.Promise?window.Promise:void 0!==e&&e.Promise?e.Promise:r.Promise,t._assign=function(e){return e?JSON.parse(JSON.stringify(e)):null},t.fastCHAIN=function(e,n){return new t.Promise(function(t,o){if(e&&e.length){var i=[],a=function(){i.length<e.length?n(e[i.length],i.length,function(e){i.push(e),r.setFast(a)}):t(i)};a()}else t([])})},t.fastRACE=function(e,n){return new t.Promise(function(t,r){if(e&&e.length){var o=!1,i=0,a=function(){i<e.length&&(n(e[i],i,function(e){o||(o=!0,t([e]))}),i++,a())};a()}else t([])})},t.fastALL=function(e,n){return t.Promise.all((e||[]).map(function(e,r){return new t.Promise(function(t,o){n(e,r,function(e){t(e)})})}))};var o="undefined"==typeof window?"":navigator.userAgent||"";t.isSafari=0!==o.length&&(/^((?!chrome|android).)*safari/i.test(o)||/iPad|iPhone|iPod/.test(o)&&!window.MSStream),t.isMSBrowser=0!==o.length&&(o.indexOf("MSIE ")>0||o.indexOf("Trident/")>0||o.indexOf("Edge/")>0),t.isAndroid=/Android/.test(o),t.random16Bits=function(){if("undefined"==typeof crypto)return Math.round(Math.random()*Math.pow(2,16));if(crypto.getRandomValues){var t=new Uint16Array(1);return crypto.getRandomValues(t),t[0]}return void 0!==e&&e._crypto.randomBytes?e._crypto.randomBytes(2).reduce(function(e,t){return t*e}):Math.round(Math.random()*Math.pow(2,16))},t.timeid=function(e){for(var n=Math.round((new Date).getTime()/(e?1:1e3)).toString();n.length<(e?13:10);)n="0"+n;return n+"-"+(t.random16Bits()+t.random16Bits()).toString(16)},t.intersect=function(e,t){return!(!e||!t)&&(!(!e.length||!t.length)&&(e||[]).filter(function(e){return-1!==(t||[]).indexOf(e)}).length>0)},t.uuid=function(){var e,n,r="";return[r,r,r,r,r,r,r,r].reduce(function(o,i,a){for(e=t.random16Bits(),n=3===a?4:4===a?(e%16&3|8).toString(16):r,e=e.toString(16);e.length<4;)e="0"+e;return o+([2,3,4,5].indexOf(a)>-1?"-":r)+(n+e).slice(0,4)},r)};var i={int:function(e){return e},uuid:t.uuid,timeId:function(){return t.timeid()},timeIdms:function(){return t.timeid(!0)}};t.hash=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString(16)},t.generateID=function(e,t){return i[e]?i[e](t||1):""},t.cleanArgs=function(e,n){for(var r={},o=e.length;o--;){var i=e[o].split(":");i.length>1?r[i[0]]=t.cast(i[1],n[i[0]]||void 0):r[i[0]]=n[i[0]]||void 0}return r},t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.cast=function(e,n){if("any"===e||"blob"===e)return n;var r=typeof n;if("undefined"===r||null===n)return n;var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},i=function(e,n){switch(e){case"safestr":return i("string",n).replace(/[&<>"'`=\/]/gim,function(e){return o[e]});case"int":return"number"!==r||n%1!=0?parseInt(n||0):n;case"number":case"float":return"number"!==r?parseFloat(n||0):n;case"any[]":case"array":return Array.isArray(n)?n:[];case"uuid":case"timeId":case"timeIdms":case"string":return"string"!==r?String(n):n;case"object":case"obj":case"map":return t.isObject(n)?n:{};case"boolean":case"bool":return!0===n}return n},a=i(String(e||"").toLowerCase(),n);if(-1!==e.indexOf("[]")){var s=e.slice(0,e.lastIndexOf("[]"));return(n||[]).map(function(e){return t.cast(s,e)})}return void 0!==a?["int","float","number"].indexOf(e)>-1&&isNaN(a)?0:a:void 0},t.sortedInsert=function(e,n,r,o){return e.length?(e.splice(t.binarySearch(e,n),0,n),e):(e.push(n),e)},t.binarySearch=function(e,n,r,o){var i=e.length,a=r||0,s=void 0!==o?o:i-1;if(0===i)return 0;if(n>e[s])return s+1;if(n<e[a])return a;if(a>=s)return 0;var u=a+Math.floor((s-a)/2);return n<e[u]?t.binarySearch(e,n,a,u-1):n>e[u]?t.binarySearch(e,n,u+1,s):0},t.removeDuplicates=function(e){if(!e.length)return[];for(var t=[e[0]],n=1;n<e.length;n++)e[n]!==e[n-1]&&t.push(e[n]);return t},t.deepFreeze=function(e){return Object.getOwnPropertyNames(e||{}).forEach(function(n){var r=e[n];"object"==typeof r&&null!==r&&(e[n]=t.deepFreeze(r))}),Object.freeze(e)};var a={};t.objQuery=function(e,t,n){var r=function(e,t,n){return e[t]&&n?r(e,t+1,n[e[t]]):n},o=e+(n?"1":"0");if(a[o])return r(a[o],0,t);var i=[];if(i=e.indexOf("[")>-1?[].concat.apply([],e.split(".").map(function(e){return e.match(/([^\[]+)|\[([^\]]+)\]\[/gim)||e})).map(function(e){return e.replace(/\[|\]/gim,"")}):e.split("."),n){var s=i.shift()+"."+i.shift();i.unshift(s)}return a[o]=i,r(a[o],0,t)}}).call(this,n(4))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=0,r={},o=Array.prototype.slice,i="undefined"!=typeof window&&window.setImmediate?window.setImmediate:!(void 0===e||!e.setImmediate)&&e.setImmediate,a="undefined"!=typeof window&&window.postMessage&&window.addEventListener,s="undefined"!=typeof window&&window.Promise?window.Promise:!(void 0===e||!e.Promise)&&e.Promise,u=function(e){return e[0].apply(null,o.call(e,1))};a&&window.addEventListener("message",function(e){var t,n=e.data;"string"==typeof n&&0===n.indexOf("setMsg")&&(t=r[n])&&(delete r[n],u(t))});var l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=n++,i="setMsg"+o;return r[i]=e,window.postMessage(i,"*"),o};t.setFast=i?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i(function(){u(e)})}:s?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];s.resolve().then(function(){u(e)})}:a?l:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];setTimeout(function(){u(e)},0)};var c=function(){},f=["R"],d=["F"],p=["P"],h=function(){function t(e){this._state=p,this._queue=[],this._outcome=void 0,e!==c&&b(this,e)}return t.doPolyFill=function(){void 0!==e&&(e.Promise||(e.Promise=this)),"undefined"!=typeof window&&(window.Promise||(window.Promise=this))},t.prototype.catch=function(e){return this.then(function(){},e)},t.prototype.then=function(e,n){if("function"!=typeof e&&this._state===d||"function"!=typeof n&&this._state===f)return this;var r=new t(c);this._state!==p?m(r,this._state===d?e:n,this._outcome):this._queue.push(new y(r,e,n));return r},t.resolve=function(e){return e instanceof this?e:v._resolve(new t(c),e)},t.reject=function(e){return v._reject(new t(c),e)},t.all=function(e){return new t(function(t,n){var r=[];if(e.length)for(var o=function(n,o,i){void 0!==i?r.push(i):r.push(o),r.length==e.length&&t(r)},i=function(t){e[t].then(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o(0,e,void 0)}).catch(function(e){o(0,void 0,e)})},a=0;a<e.length;a++)i(a);else t([])})},t.race=function(e){var n,r=this,o=e.length,i=!1,a=-1,s=new t(c);if(!1!==Array.isArray(e))return this.reject(new TypeError);if(!o)return this.resolve([]);for(;++a<o;)n=e[a],r.resolve(n).then(function(e){i||(i=!0,v._resolve(s,e))},function(e){i||(i=!0,v._reject(s,e))});return s},t}();t.Promise=h;var y=function(){function e(e,t,n){this._promise=e,"function"==typeof t&&(this._onFulfilled=t,this._callFulfilled=this._otherCallFulfilled),"function"==typeof n&&(this._onRejected=n,this._callRejected=this._otherCallRejected)}return e.prototype._callFulfilled=function(e){v._resolve(this._promise,e)},e.prototype._otherCallFulfilled=function(e){m(this._promise,this._onFulfilled,e)},e.prototype._callRejected=function(e){v._reject(this._promise,e)},e.prototype._otherCallRejected=function(e){m(this._promise,this._onRejected,e)},e}();function m(e,n,r){t.setFast(function(){var t;try{t=n.apply(null,r)}catch(t){return v._reject(e,t)}return t===e?v._reject(e,new TypeError):v._resolve(e,t),null})}t._QueueItem=y;var v=function(){function e(){}return e._resolve=function(t,n){var r=_(g,n),o=r._value,i=-1,a=t._queue.length;if("error"===r._status)return e._reject(t,r._value);if(o)b(t,o);else for(t._state=d,t._outcome=n;++i<a;)t._queue[i]._callFulfilled(n);return t},e._reject=function(e,t){e._state=f,e._outcome=t;for(var n=-1,r=e._queue.length;++n<r;)e._queue[n]._callRejected(t);return e},e}();function g(e){var t=e&&e.then;return!e||"object"!=typeof e&&"function"!=typeof e||"function"!=typeof t?null:function(){t.apply(e,arguments)}}function b(e,t){var n=!1;function r(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];n||(n=!0,v._reject(e,t))}function o(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];n||(n=!0,v._resolve(e,t))}var i=_(function(){t(o,r)});"error"===i._status&&r(i._value)}function _(e,t){var n={_status:null,_value:null};try{n._value=e(t),n._status="success"}catch(e){n._status="error",n._value=e}return n}}).call(this,n(4))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(){function e(){this._sorted=[],this._indexOf={},this.ai=1,this.doAI=!1}return e.prototype.set=function(e){var t=this;if(this._sorted=e||[],this._indexOf={},this._sorted.forEach(function(e,n){t._indexOf[String(e)]=n}),this.doAI&&this._sorted.length){var n=this._sorted.length;this.ai=this._sorted[n-1]+1}},e.prototype.getLocation=function(e){var t=this.indexOf(e);return-1!==t?t:r.binarySearch(this._sorted,e)},e.prototype.add=function(e){if(this.doAI)parseInt(e)>=this.ai&&this.ai++,this._indexOf[String(e)]=this._sorted.length,this._sorted.push(e);else{var t=r.binarySearch(this._sorted,e);this._sorted.splice(t,0,e),this._indexOf[String(e)]=t;for(var n=t+1;n<this._sorted.length;n++)this._indexOf[String(this._sorted[n])]++}},e.prototype.keys=function(){return this._sorted},e.prototype.indexOf=function(e){return void 0!==this._indexOf[String(e)]?this._indexOf[String(e)]:-1},e.prototype.remove=function(e){var t=this._indexOf[String(e)];if(void 0!==t){delete this._indexOf[String(e)],this._sorted.splice(t,1);for(var n=t;n<this._sorted.length;n++)this._indexOf[String(this._sorted[n])]--}},e}();t.DatabaseIndex=o},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(17),a=n(16),s=n(15),u=n(0),l=n(14),c=n(6),f=1.41,d=["_util"],p=function(){function e(){this.version=f,this._onConnectedCallBacks=[];var e=this;e._actions={},e._views={},e.dataModels={},e._events=["*","change","delete","upsert","drop","select","error"],e._hasEvents={},e.tableNames=[],e.plugins=[],e.hasPK={},e.skipPurge={},e.toRowFns={},e.tablePKs={},e.toColFns={},e.toColRules={},e._randoms=[],e._randomPtr=0,e.hasAnyEvents=!1;for(var t=0;t<200;t++)e._randoms.push(u.random16Bits().toString(16));e._callbacks={},e._callbacks["*"]=new s.ReallySmallEvents,e.iB=new l.NanoSQLDefaultBackend;var n={models:{},actions:{},views:{},config:{},parent:this};e.iB.willConnect&&e.iB.willConnect(n,function(){e.iB.didConnect&&e.iB.didConnect(n,function(){})})}return e.prototype.toColumn=function(e){return this.toColFns[this.sTable]||(this.toColFns[this.sTable]={}),this.toColFns[this.sTable]=e,this},e.prototype.toRow=function(e){return this.toRowFns[this.sTable]||(this.toRowFns[this.sTable]={}),this.toRowFns[this.sTable]=e,this},e.prototype.fastRand=function(){return this._randomPtr++,this._randomPtr>=this._randoms.length&&(this._randomPtr=0),this._randoms[this._randomPtr]},e.prototype.table=function(e){return e&&(this.sTable=e),this},e.prototype.connect=function(){var e=this,t=this;return new u.Promise(function(n,r){var o={models:t.dataModels,actions:t._actions,views:t._views,config:t._config,parent:e};o.models[d[0]]=[{key:"key",type:"string",props:["pk()","ai()"]},{key:"value",type:"any"}],t._config&&t._config.history&&e.use(new c._NanoSQLHistoryPlugin(t._config.historyMode)),t._config&&!1===t._config.mode||e.use(new l.NanoSQLDefaultBackend),u.fastCHAIN(e.plugins,function(e,t,n){e.willConnect?e.willConnect(o,function(e){o=e,n()}):n()}).then(function(){e.dataModels=o.models,e._actions=o.actions,e._views=o.views,e._config=o.config,Object.keys(e.dataModels).forEach(function(t){var n=!1;e.dataModels[t]=e.dataModels[t].filter(function(e){return"*"!==e.key||"*"!==e.type||(n=!0,!1)}),e.skipPurge[t]=n}),e.plugins.forEach(function(t){t.didExec&&(e.pluginHasDidExec=!0)}),t.tableNames=Object.keys(e.dataModels);var r=function(){u.fastALL(e.plugins,function(e,t,n){e.didConnect?e.didConnect(o,function(){n()}):n()}).then(function(){e.isConnected=!0,e._onConnectedCallBacks.length&&e._onConnectedCallBacks.forEach(function(e){return e()}),n(t.tableNames)})},i=function(t){e.query("upsert",{key:"version",value:e.version}).manualExec({table:"_util"}).then(function(){t?e.extend("rebuild_idx").then(function(){r()}):r()})};e.query("select").where(["key","=","version"]).manualExec({table:"_util"}).then(function(e){e.length?e[0].value<=1.21?i(!0):e[0].value<f?i(!1):r():i(!0)})})})},e.prototype.getActions=function(e){return this._actions[e].map(function(e){return{name:e.name,args:e.args}})},e.prototype.getViews=function(e){return this._views[e].map(function(e){return{name:e.name,args:e.args}})},e.prototype.getConfig=function(){return this._config},e.prototype.avFilter=function(e){return this._AVMod=e,this},e.prototype.use=function(e){return this.plugins.push(e),this},e.prototype.on=function(e,t){var n=this,r=n.sTable,o=n._events.length,i=e.split(" ");if(Array.isArray(r))return this;for(n._callbacks[r]||(n._callbacks[r]=new s.ReallySmallEvents),o=i.length;o--;)-1!==n._events.indexOf(i[o])&&n._callbacks[r].on(i[o],t);return n._refreshEventChecker()},e.prototype.off=function(e,t){var n=this,r=e.split(" "),o=r.length,i=n.sTable;if(Array.isArray(i))return this;for(;o--;)-1!==n._events.indexOf(r[o])&&n._callbacks[i].off(r[o],t);return n._refreshEventChecker()},e.prototype._refreshEventChecker=function(){var e=this;return this._hasEvents={},Object.keys(this._callbacks).concat(["*"]).forEach(function(t){e._hasEvents[t]=e._events.reduce(function(n,r){return n+(e._callbacks[t]&&e._callbacks[t].eventListeners[r]?e._callbacks[t].eventListeners[r].length:0)},0)>0}),this.hasAnyEvents=!1,Object.keys(this._hasEvents).forEach(function(t){e.hasAnyEvents=e.hasAnyEvents||e._hasEvents[t]}),this},e.prototype.model=function(e,t,n){var r=this,o=this,i=o.sTable;if(Array.isArray(i))return this;o._callbacks[i]||(o._callbacks[i]=new s.ReallySmallEvents);var a=!1;if(!n){if(-1!==["string","safestr","timeId","timeIdms","uuid","int","float","number","array","map","bool","blob","any"].indexOf(i.replace(/\W/gim,""))||0===i.indexOf("_")||null!==i.match(/[\(\)\]\[\.]/g))throw Error("Invalid Table Name! https://docs.nanosql.io/setup/data-models");(e||[]).forEach(function(e){if(null!==e.key.match(/[\(\)\]\[\.]/g)||0===e.key.indexOf("_"))throw Error("Invalid Data Model! https://docs.nanosql.io/setup/data-models")})}return o.toColRules[i]={},(e||[]).forEach(function(e){e.props&&e.props.forEach(function(t){if(-1!==t.indexOf("from=>")&&-1!==t.indexOf("(")){var n=t.replace("from=>","").split("(").shift(),r=t.replace("from=>","").split("(").pop().replace(")","").split(",").map(function(e){return e.trim()});o.toColRules[i][e.key]=[n].concat(r)}if(0===t.indexOf("toColumn.")){n=t.replace(/toColumn\.(.*)\(.*\)/gim,"$1"),r=t.replace(/toColumn\..*\((.*)\)/gim,"$1").split(",").map(function(e){return e.trim()});o.toColRules[i][e.key]=[n].concat(r)}}),e.props&&u.intersect(["pk","pk()"],e.props)&&(r.tablePKs[i]=e.key,a=!0)}),this.hasPK[i]=a,a||(this.tablePKs[i]="_id_",e.unshift({key:"_id_",type:"uuid",props:["pk()"]})),o.dataModels[i]=e,o._views[i]=[],o._actions[i]=[],o},e.prototype.views=function(e){return Array.isArray(this.sTable)?this:(this._views[this.sTable]=e,this)},e.prototype.getView=function(e,t){return void 0===t&&(t={}),Array.isArray(this.sTable)?new u.Promise(function(e,t){return t()}):this._doAV("View",this._views[this.sTable],e,t)},e.prototype.actions=function(e){return Array.isArray(this.sTable)?this:(this._actions[this.sTable]=e,this)},e.prototype.doAction=function(e,t){return Array.isArray(this.sTable)?new u.Promise(function(e,t){return t()}):this._doAV("Action",this._actions[this.sTable],e,t)},e.prototype.queryFilter=function(e){return this.queryMod=e,this},e.prototype._doAV=function(e,t,n,r){var o=this,i=this,a=t.reduce(function(e,t){return t.name===n?t:e},null);return a?(i._activeAV=n,i._AVMod?new u.Promise(function(t,n){i._AVMod(o.sTable,e,i._activeAV||"",r,function(e){a.call(a.args?u.cleanArgs(a.args,e):{},i).then(t).catch(n)},function(e){n(e)})}):a.call(a.args?u.cleanArgs(a.args,r):{},i)):new u.Promise(function(e,t){return t("Action/View Not Found!")})},e.prototype.query=function(e,t){var n=this._activeAV;return this._activeAV=void 0,new i._NanoSQLQuery(this,this.sTable,e,t,n)},e.prototype.onConnected=function(e){this.isConnected?e():this._onConnectedCallBacks.push(e)},e.prototype.triggerEvent=function(e){var t=this;if(t._hasEvents["*"]||t._hasEvents[e.table]){if("*"===e.table)return this;o.setFast(function(){e.types.forEach(function(n){t._callbacks["*"].trigger(n,e,t),t._callbacks["*"].trigger("*",e,t),e.table&&t._callbacks[e.table]&&t._callbacks[e.table].trigger(n,e,t)})})}return t},e.prototype.default=function(e){var t={},n=this;return Array.isArray(n.sTable)?{}:(n.dataModels[n.sTable].forEach(function(n){t[n.key]=e&&e[n.key]?e[n.key]:n.default,void 0===t[n.key]&&(t[n.key]=u.cast(n.type,null))}),t)},e.prototype.rawDump=function(e){var t=this;return new u.Promise(function(n,o){var i={};u.fastCHAIN(t.plugins,function(t,n,o){t.dumpTables?t.dumpTables(e).then(function(e){i=r({},i,e),o(i)}):o()}).then(function(){n(i)})})},e.prototype.rawImport=function(e){var t=this;return new u.Promise(function(n,r){u.fastCHAIN(t.plugins,function(t,n,r){t.importTables?t.importTables(e).then(r):r()}).then(function(){n()})})},e.prototype.disconnect=function(){return u.fastCHAIN(this.plugins,function(e,t,n){e.willDisconnect?e.willDisconnect(n):n()})},e.prototype.doTransaction=function(e){var t=this,n=this,o=[],i=u.random16Bits().toString(16);return new u.Promise(function(s,l){n.plugins.length?u.fastCHAIN(n.plugins,function(e,t,n){e.transactionBegin?e.transactionBegin(i,n):n()}).then(function(){Array.isArray(n.sTable)||e(function(e){var t=e||n.sTable;return{query:function(e,n){return new a._NanoSQLTransactionQuery(e,n,t,o,i)}}},function(){var e=[];u.fastCHAIN(o,function(t,o,a){e.push(t.table),n.query(t.action,t.actionArgs).manualExec(r({},t,{table:t.table,transaction:!0,queryID:i})).then(a)}).then(function(r){u.fastCHAIN(t.plugins,function(e,t,n){e.transactionEnd?e.transactionEnd(i,n):n()}).then(function(){e.filter(function(e,t,n){return n.indexOf(e)===t}).forEach(function(e){0!==e.indexOf("_")&&n.triggerEvent({query:o[0],table:e,time:(new Date).getTime(),result:r,types:["transaction"],actionOrView:"",notes:[],transactionID:i,affectedRowPKS:[],affectedRows:[]})}),s(r)})})})}):l("Nothing to do, no plugins!")})},e.prototype.config=function(e){return this._config=e,this},e.prototype.extend=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;return new u.Promise(function(t,r){if(n.plugins.length){var o=e,i=[];u.fastCHAIN(n.plugins,function(e,t,n){e.extend?e.extend(function(e,t){o=e,i=t,n()},o,i):n()}).then(function(){t(i)})}else r("No plugins!")})},e.prototype.loadJS=function(e,t,n,r){var o=this;return n?this.doTransaction(function(n,r){t.forEach(function(t){n(e).query("upsert",t).exec()}),r()}):new u.Promise(function(n,i){u.fastCHAIN(t,function(n,i,a){r&&r(Math.round((i+1)/t.length*1e4)/100),o.query("upsert",n).manualExec({table:e}).then(a)}).then(function(e){n(e.map(function(e){return e.shift()}))})})},e.prototype.loadCSV=function(e,t,n,r,o){var i=this,a=[],s=t.split("\n").map(function(e,t){if(0!==t){var n={},o=e.match(/(,)|(["|\[|\{].*?["|\]|\}]|[^",\s]+)(?=\s*,|\s*$)/g)||[],i=!1;","===o[0]&&o.unshift("");for(var s=function(){var e=!1;if(o.forEach(function(t,n){e||","===t&&(void 0!==o[n+1]&&","!==o[n+1]||(e=!0,o.splice(n+1,0,"")))}),e)return"break";i=!0};!i;){if("break"===s())break}o=o.filter(function(e,t){return t%2==0});for(var u=a.length;u--;)1===o[u].indexOf("{")||1===o[u].indexOf("[")?o[u]=JSON.parse(o[u].slice(1,o[u].length-1).replace(/'/gm,'"')):0===o[u].indexOf('"')&&(o[u]=o[u].slice(1,o[u].length-1)),n[a[u]]=o[u];return r?r(n):n}a=e.split(",")}).filter(function(e){return e});return n?this.doTransaction(function(t,n){s.forEach(function(n){t(e).query("upsert",n).exec()}),n()}):new u.Promise(function(t,n){u.fastCHAIN(s,function(t,n,r){o&&o(Math.round((n+1)/s.length*1e4)/100),i.query("upsert",t).manualExec({table:e}).then(r)}).then(function(e){t(e.map(function(e){return e.shift()}))})})},e}();t.NanoSQLInstance=p,p.functions={COUNT:{type:"A",call:function(e,t,n){t(n&&"*"!==n?e.filter(function(e){return u.objQuery(n,e)}).length:e.length)}},MAX:{type:"A",call:function(e,t,n){if(e.length){var r=u.objQuery(n,e[0])||0;e.forEach(function(e){u.objQuery(n,e);u.objQuery(n,e)>r&&(r=u.objQuery(n,e))}),t(r)}else t(0)}},MIN:{type:"A",call:function(e,t,n){if(e.length){var r=u.objQuery(n,e[0])||0;e.forEach(function(e){var t=u.objQuery(n,e);t<r&&(r=t)}),t(r)}else t(0)}},AVG:{type:"A",call:function(e,t,n){t(e.reduce(function(e,t){return e+(u.objQuery(n,t)||0)},0)/e.length)}},SUM:{type:"A",call:function(e,t,n){t(e.reduce(function(e,t){return e+(u.objQuery(n,t)||0)},0))}},LOWER:{type:"S",call:function(e,t,n){t(e.map(function(e){return String(u.objQuery(n,e)).toLowerCase()}))}},UPPER:{type:"S",call:function(e,t,n){t(e.map(function(e){return String(u.objQuery(n,e)).toUpperCase()}))}},CAST:{type:"S",call:function(e,t,n,r){t(e.map(function(e){return u.cast(r,u.objQuery(n,e))}))}},ABS:{type:"S",call:function(e,t,n){t(e.map(function(e){return Math.abs(u.objQuery(n,e))}))}},CEIL:{type:"S",call:function(e,t,n){t(e.map(function(e){return Math.ceil(u.objQuery(n,e))}))}},POW:{type:"S",call:function(e,t,n,r){t(e.map(function(e){return Math.pow(u.objQuery(n,e),parseInt(r))}))}},ROUND:{type:"S",call:function(e,t,n){t(e.map(function(e){return Math.round(u.objQuery(n,e))}))}},SQRT:{type:"S",call:function(e,t,n){t(e.map(function(e){return Math.sqrt(u.objQuery(n,e))}))}}};var h=new p;t.nSQL=function(e){return h.table(e)},"undefined"!=typeof window&&(window["nano-sql"]={nSQL:t.nSQL,NanoSQLInstance:p})},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USER_TABLE=void 0,t.getBalanceById=function(e){return i.query("select",["balance"]).where(["userId","=",e]).exec()};var r=n(3),o=t.USER_TABLE="User",i=(0,r.nSQL)(o).model([{key:"userId",type:"string",props:["pk"]},{key:"balance",type:"int"}]).config({mode:"TEMP"});i.connect(),t.default=i},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=["_hist","_hist_ptr","_id"],a=function(){function e(e){this.historyModeArgs=e,this._tablePkKeys={},this._tablePkTypes={},this._tableKeys={}}return e.prototype.willConnect=function(e,t){var n=this;this.parent=e.parent;var a={};Object.keys(e.models).forEach(function(t){if(0!==t.indexOf("_")){var r=o._assign(e.models[t]).map(function(e){return e.props&&o.intersect(["pk","pk()"],e.props)&&(n._tablePkKeys[t]=e.key,n._tablePkTypes[t]=e.type,n._tableKeys[t]={}),delete e.props,delete e.default,e});r.unshift({key:"_id",type:"timeIdms",props:["pk()"]}),a["_"+t+"__hist_rows"]=r,a["_"+t+"__hist_idx"]=[{key:"id",type:n._tablePkTypes[t],props:["pk()"]},{key:"histRows",type:"timeIdms[]"},{key:"histPtr",type:"number"}]}});var s="string"!=typeof this.historyModeArgs,u=[{key:"id",type:"timeIdms",props:["pk()"]},{key:"table",type:"string"},{key:"keys",type:"any[]"}],l=[{key:"id",type:"timeIdms",props:["pk()"]},{key:"ptr",type:"int"}];"database"!==this.historyModeArgs&&this.historyModeArgs?("database"!==this.historyModeArgs||s)&&(this.historyModes={},s?this.historyModes=o._assign(this.historyModeArgs):Object.keys(this._tablePkKeys).forEach(function(e){n.historyModes[e]=n.historyModeArgs}),Object.keys(this.historyModes).forEach(function(e){"table"===n.historyModes[e]&&(a["_"+e+"__hist"]=u,a["_"+e+"__hist_ptr"]=l)})):(a[i[0]]=u,a[i[1]]=l),e.models=r({},e.models,a),t(e)},e.prototype._histTable=function(e){return e?this.historyModes?"table"===this.historyModes[e]?"_"+e+"__hist":null:"_hist":"__null"},e.prototype._generateHistoryPointers=function(e,t){var n=this,r=this._histTable(e);r?this.parent.query("select").manualExec({table:r+"_ptr"}).then(function(i){i.length?t():n.parent.query("upsert",{id:o.timeid(!0),table:e,ptr:0}).manualExec({table:r+"_ptr"}).then(t)}):t()},e.prototype.didConnect=function(e,t){var n=this,r=function(){o.fastALL(Object.keys(n._tableKeys),function(e,t,r){n.parent.extend("idx","_"+e+"__hist_idx").then(function(t){t.forEach(function(t){n._tableKeys[e][t]=!0}),n.historyModes?n._generateHistoryPointers(e,r):r()})}).then(t)};this.historyModes?r():this.parent.query("select").manualExec({table:"_hist_ptr"}).then(function(e){e.length?r():n.parent.query("upsert",{id:o.timeid(!0),table:"",ptr:0}).manualExec({table:"_hist_ptr"}).then(r)})},e.prototype._purgeRowHistory=function(e,t,n,r){var i=this,a="_"+e+"__hist_rows",s="_"+e+"__hist_idx";o.fastALL(t,function(t,n,u){i.parent.query("select").where(["id","=",t]).manualExec({table:s}).then(function(n){if(n.length){var l=Object.isFrozen(n[0])?o._assign(n[0]):n[0],c=[];if(r)c=c.concat(l.histRows.filter(function(e){return-1!==e})),l.histPtr=0,l.histRows=[];else{for(;l.histPtr--;)c.push(l.histRows.shift());l.histPtr=0}c.length?i.parent.query("upsert",l).comment("History Purge").where(["id","=",t]).manualExec({table:s}).then(function(){i.parent.query("delete").comment("History Purge").where(["_id","IN",c]).manualExec({table:a}).then(function(){r?i.parent.query("select").where([i._tablePkKeys[e],"=",t]).manualExec({table:e}).then(function(n){i._unshiftSingleRow(e,["change"],t,n[0],!1,u)}):u()})}):u()}else u()})}).then(n)},e.prototype._purgeTableHistory=function(e,t,n){var r=this;this.parent.query("select").manualExec({table:e+"_ptr"}).then(function(i){var a=Object.isFrozen(i[0])?o._assign(i[0]):i[0];if(n||a.ptr>0){var s=r.parent.query("select");n||s.range(-1*a.ptr,0),s.manualExec({table:e}).then(function(i){if(i.length){var s={};i.forEach(function(e){s[e.table]||(s[e.table]=[]),s[e.table]=s[e.table].concat(e.keys)}),o.fastALL(Object.keys(s),function(e,t,o){r._purgeRowHistory(e,s[e],o,n)}).then(function(){r.parent.query("delete").comment("History Purge").where(["id","IN",i.map(function(e){return e.id})]).manualExec({table:e}).then(function(){a.ptr=0,r.parent.query("upsert",a).comment("History Purge").where(["id","=",a.id]).manualExec({table:e+"_ptr"}).then(t)})})}else t()})}else t()})},e.prototype._purgeParentHistory=function(e,t,n){if(this.historyModes){var r=this._histTable(e);r?this._purgeTableHistory(r,n):this._purgeRowHistory(e,t,n)}else this._purgeTableHistory("_hist",n)},e.prototype._purgeAllHistory=function(e,t,n){if(this.historyModes){var r=this._histTable(e);r?this._purgeTableHistory(r,n,!0):this._purgeRowHistory(e,[t],n,!0)}else this._purgeTableHistory("_hist",n,!0)},e.prototype.didExec=function(e,t){var n=this;e.table&&0!==e.table.indexOf("_")&&e.types.indexOf("change")>-1&&-1===e.query.comments.indexOf("History Write")?this._purgeParentHistory(e.table,e.affectedRowPKS,function(){o.fastALL(e.affectedRows,function(t,r,o){var i=t[n._tablePkKeys[e.table]];n._tableKeys[e.table][i]?n._unshiftSingleRow(e.table,e.types,i,t,!1,function(e){o(i)}):(n._tableKeys[e.table][i]=!0,n._unshiftSingleRow(e.table,e.types,i,t,!0,function(t){n.parent.query("upsert",{id:i,histRows:[t,-1],histPtr:0}).manualExec({table:"_"+e.table+"__hist_idx"}).then(function(){o(i)})}))}).then(function(r){n._unshiftParent(e,r,t)})}):t(e)},e.prototype._unshiftParent=function(e,t,n){var r=this._histTable(e.table);r?this.parent.query("upsert",{id:o.timeid(!0),table:e.table,keys:t}).manualExec({table:r}).then(function(){n(e)}):n(e)},e.prototype._unshiftSingleRow=function(e,t,n,i,a,s){var u=this,l="_"+e+"__hist_idx",c=o.timeid(!0),f=function(e){u.parent.query("select").where(["id","=",n]).manualExec({table:l}).then(function(t){var r=Object.isFrozen(t[0])?o._assign(t[0]):t[0];r.histRows.unshift(e),u.parent.query("upsert",r).where(["id","=",n]).manualExec({table:l}).then(function(){s(e)})})};t.indexOf("delete")>-1||t.indexOf("drop")>-1?f(-1):this.parent.query("upsert",r({_id:c},i)).manualExec({table:"_"+e+"__hist_rows"}).then(function(){a?s(c):f(c)})},e.prototype.extend=function(e,t,n){if("hist"===t[0]){var r=t[1],o=t[2],i=t[3];switch(r){case"<":case">":this._shiftHistory(r,o,i,function(n){e(t,[n])});break;case"?":this._queryHistory(o,i,function(n){e(t,n)});break;case"rev":this._getRevisionHistory(o,i,function(n){e(t,n)});break;case"clear":this._purgeAllHistory(o,i,function(){e(t,n)})}}else e(t,n)},e.prototype._getRevisionHistory=function(e,t,n){var r=this,a="_"+e+"__hist_idx";this.parent.query("select").where(["id","=",t]).manualExec({table:a}).then(function(t){var a=t[0].histRows.filter(function(e){return-1!==e});r.parent.query("select").where(["_id","IN",a]).manualExec({table:"_"+e+"__hist_rows"}).then(function(e){var r={};e.forEach(function(e){r[e[i[2]]]=Object.isFrozen(e)?o._assign(e):e,delete r[e[i[2]]][i[2]]}),n([{pointer:t[0].histRows.length-t[0].histPtr-1,revisions:t[0].histRows.reverse().map(function(e){return-1===e?null:r[e]})}])})})},e.prototype._getTableHistory=function(e,t){var n=this;this.parent.extend("idx.length",e).then(function(r){n.parent.query("select").manualExec({table:e+"_ptr"}).then(function(e){e.length?t([r,r-e[0].ptr]):t([0,0])})})},e.prototype._queryHistory=function(e,t,n){if(this.historyModes){var r=this._histTable(e);if(r){if(!e)throw Error("Need a table to query this history!");this._getTableHistory(r,n)}else{if(!t)throw Error("Need a row primary key to query this history!");var o="_"+e+"__hist_idx";this.parent.query("select").where(["id","=",t]).manualExec({table:o}).then(function(e){var t=e[0];n([t.histRows.length,t.histRows.length-t.histPtr-1])})}}else this._getTableHistory("_hist",function(e){n(e)})},e.prototype._shiftTableHistory=function(e,t,n){var r=this;this.parent.query("select").manualExec({table:t+"_ptr"}).then(function(i){var a=o._assign(i[0]);a.ptr+="<"===e?1:-1,a.ptr<0&&(a.ptr=0),r.parent.extend("idx.length",t).then(function(s){a.ptr>s&&(a.ptr=s),i[0].ptr!==a.ptr?r.parent.query("select").range(-1,"<"===e?i[0].ptr:a.ptr).manualExec({table:t}).then(function(i){r.parent.query("upsert",a).manualExec({table:t+"_ptr"}).then(function(){o.fastALL(i[0].keys,function(t,n,o){r._shiftRowHistory(e,i[0].table,t,o)}).then(function(e){n(e.indexOf(!0)>-1)})})}):n(!1)})})},e.prototype._shiftRowHistory=function(e,t,n,r){var i=this,a=function(e){i.parent.query("upsert",e).where([i._tablePkKeys[t],"=",n]).manualExec({table:"_"+t+"__hist_idx"}).then(function(){r(!0)})};this.parent.query("select").where([this._tablePkKeys[t],"=",n]).manualExec({table:"_"+t+"__hist_idx"}).then(function(s){var u=o._assign(s[0]);if(u.histPtr+="<"===e?1:-1,u.histPtr<0&&(u.histPtr=0),u.histPtr>u.histRows.length-1&&(u.histPtr=u.histRows.length-1),u.histPtr!==s[0].histPtr){var l=u.histRows[u.histPtr];-1===l?i.parent.query("delete").comment("History Write").where([i._tablePkKeys[t],"=",n]).manualExec({table:t}).then(function(){a(u)}):i.parent.query("select").where(["_id","=",l]).manualExec({table:"_"+t+"__hist_rows"}).then(function(e){i.parent.query("upsert",e[0]).comment("History Write").manualExec({table:t}).then(function(){a(u)})})}else r(!1)})},e.prototype._shiftHistory=function(e,t,n,r){if(this.historyModes){var o=this._histTable(t);if(o){if(!t)throw Error("Need a table to change this history!");this._shiftTableHistory(e,o,r)}else{if(!n)throw Error("Need a row primary key to change this history!");this._shiftRowHistory(e,t,n,r)}}else this._shiftTableHistory(e,"_hist",r)},e}();t._NanoSQLHistoryPlugin=a},function(e,t,n){(function(e){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(2),s=function(t){e._fs.existsSync(t)&&(e._fs.readdirSync(t).forEach(function(n){var r=t+"/"+n;e._fs.statSync(r).isDirectory()?s(r):e._fs.unlinkSync(r)}),e._fs.rmdirSync(t))},u=function(){function t(e,t,n){this.path=e,this.writeCache=t,this.readCache=n,this._pkKey={},this._pkType={},this._dbIndex={},this._levelDBs={},this._isPKnum={}}return t.prototype.connect=function(t){var n=this;i.fastALL(Object.keys(this._dbIndex),function(t,r,o){var i=[];n._levelDBs[t].createKeyStream().on("data",function(r){i.push(n._isPKnum[t]?new e._Int64BE(r).toNumber():r)}).on("end",function(){i.length&&n._dbIndex[t].set(i),o()})}).then(t)},t.prototype.disconnect=function(e){var t=this;i.fastALL(Object.keys(this._dbIndex),function(e,n,r){t._levelDBs[e].close(r)}).then(function(){e()})},t.prototype.setID=function(t){this._id=t,this._path=(this.path||".")+"/db_"+this._id,e._fs.existsSync(this._path)||e._fs.mkdirSync(this._path)},t.prototype.makeTable=function(t,n){var r=this;this._dbIndex[t]=new a.DatabaseIndex,this._levelDBs[t]=e._levelup(e._leveldown(e._path.join(this._path,t)),{cacheSize:1024*(this.readCache||32)*1024,writeBufferSize:1024*(this.writeCache||32)*1024}),n.forEach(function(e){e.props&&i.intersect(["pk","pk()"],e.props)&&(r._pkType[t]=e.type,r._pkKey[t]=e.key,r._isPKnum[t]=-1!==["int","number","float"].indexOf(e.type)),e.props&&i.intersect(["ai","ai()"],e.props)&&i.intersect(["pk","pk()"],e.props)&&"int"===e.type&&(r._dbIndex[t].doAI=!0)})},t.prototype.write=function(t,n,o,a){if(!(n=n||i.generateID(this._pkType[t],this._dbIndex[t].ai)))throw Error("Can't add a row without a primary key!");-1===this._dbIndex[t].indexOf(n)&&this._dbIndex[t].add(n);var s,u=r({},o,((s={})[this._pkKey[t]]=n,s));this._levelDBs[t].put(this._isPKnum[t]?new e._Int64BE(n).toBuffer():n,JSON.stringify(u),function(e){if(e)throw Error(e);a(u)})},t.prototype.delete=function(t,n,r){-1!==this._dbIndex[t].indexOf(n)&&this._dbIndex[t].remove(n),this._levelDBs[t].del(this._isPKnum[t]?new e._Int64BE(n).toBuffer():n,function(e){if(e)throw Error(e);r()})},t.prototype.read=function(t,n,r){-1!==this._dbIndex[t].indexOf(n)?this._levelDBs[t].get(this._isPKnum[t]?new e._Int64BE(n).toBuffer():n,function(e,t){if(e)throw Error(e);r(JSON.parse(t))}):r(null)},t.prototype.rangeRead=function(t,n,r,i,a,s){var u=this._dbIndex[t].keys(),l=-1===[typeof i,typeof a].indexOf("undefined"),c=l?[i,a]:[0,u.length-1],f=[],d=s&&l?i:u[c[0]],p=s&&l?a:u[c[1]];this._levelDBs[t].createValueStream({gte:this._isPKnum[t]?new e._Int64BE(d).toBuffer():d,lte:this._isPKnum[t]?new e._Int64BE(p).toBuffer():p}).on("data",function(e){f.push(JSON.parse(e))}).on("end",function(){var e=c[0]||0,t=0,i=function(){t<f.length?n(f[t],e,function(){e++,++t%500==0?o.setFast(i):i()}):r()};i()})},t.prototype.drop=function(e,t){var n=this;i.fastALL(this._dbIndex[e].keys(),function(t,r,o){n._levelDBs[e].del(t,o)}).then(function(){var r=new a.DatabaseIndex;r.doAI=n._dbIndex[e].doAI,n._dbIndex[e]=r,t()})},t.prototype.getIndex=function(e,t,n){n(t?this._dbIndex[e].keys().length:this._dbIndex[e].keys())},t.prototype.destroy=function(e){var t=this;i.fastALL(Object.keys(this._dbIndex),function(e,n,r){t.drop(e,function(){t._levelDBs[e].close(r)})}).then(function(){s(t._path),e()})},t}();t._LevelStore=u}).call(this,n(4))},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(2),s=function(){function e(e){this._pkKey={},this._pkType={},this._dbIndex={},this._size=1e3*(e||0)*1e3}return e.prototype.setID=function(e){this._id=e},e.prototype.connect=function(e){var t=this;this._db=window.openDatabase(this._id,"1.0",this._id,this._size||i.isAndroid?5e6:1),i.fastALL(Object.keys(this._pkKey),function(e,n,r){t._sql(!0,"CREATE TABLE IF NOT EXISTS "+e+" (id BLOB PRIMARY KEY UNIQUE, data TEXT)",[],function(){t._sql(!1,"SELECT id FROM "+e,[],function(n){for(var o=[],i=0;i<n.rows.length;i++)o.push(n.rows.item(i).id);o=o.sort(),t._dbIndex[e].set(o),r()})})}).then(e)},e.prototype._chkTable=function(e){if(-1===Object.keys(this._pkType).indexOf(e))throw Error("No table "+e+" found!");return e},e.prototype.makeTable=function(e,t){var n=this;this._dbIndex[e]=new a.DatabaseIndex,t.forEach(function(t){t.props&&t.props.indexOf("pk")>-1&&(n._pkType[e]=t.type,n._pkKey[e]=t.key),t.props&&t.props.indexOf("ai")>-1&&t.props.indexOf("pk")>-1&&"int"===t.type&&(n._dbIndex[e].doAI=!0)})},e.prototype._sql=function(e,t,n,r){var o=function(e){e.executeSql(t,n,function(e,t){r(t)},function(e,r){return console.error(t,n,r),!1})};e?this._db.transaction(o):this._db.readTransaction(o)},e.prototype.write=function(e,t,n,o){if(!(t=t||i.generateID(this._pkType[e],this._dbIndex[e].ai)))throw new Error("Can't add a row without a primary key!");var a,s,u=!1;if(-1===this._dbIndex[e].indexOf(t)&&(u=!0,this._dbIndex[e].add(t)),u){var l=r({},n,((a={})[this._pkKey[e]]=t,a));this._sql(!0,"INSERT into "+this._chkTable(e)+" (id, data) VALUES (?, ?)",[t,JSON.stringify(l)],function(e){o(l)})}else{var c=r({},n,((s={})[this._pkKey[e]]=t,s));this._sql(!0,"UPDATE "+this._chkTable(e)+" SET data = ? WHERE id = ?",[JSON.stringify(c),t],function(){o(c)})}},e.prototype.delete=function(e,t,n){-1!==this._dbIndex[e].indexOf(t)&&this._dbIndex[e].remove(t),this._sql(!0,"DELETE FROM "+this._chkTable(e)+" WHERE id = ?",[t],function(){n()})},e.prototype.read=function(e,t,n){this._sql(!1,"SELECT data FROM "+this._chkTable(e)+" WHERE id = ?",[t],function(e){e.rows.length?n(JSON.parse(e.rows.item(0).data)):n(void 0)})},e.prototype.batchRead=function(e,t,n){this._sql(!1,"SELECT data from "+this._chkTable(e)+" WHERE id IN ("+t.map(function(e){return"?"}).join(", ")+") ORDER BY id",t,function(e){for(var t=e.rows.length,r=[];t--;)r.unshift(JSON.parse(e.rows.item(t).data));n(r)})},e.prototype.rangeRead=function(e,t,n,r,i,a){var s=this,u=this._dbIndex[e].keys(),l=-1===[typeof r,typeof i].indexOf("undefined"),c=l?[r,i]:[];if(u.length){a&&l&&(c=c.map(function(t){return s._dbIndex[e].getLocation(t)}));var f=c[0]||0,d=[],p=c[0],h="SELECT data from "+this._chkTable(e);if(c.length){for(u[p];p<=c[1];)d.push(u[p]),p++;h+=" WHERE id IN ("+d.map(function(e){return"?"}).join(", ")+")"}h+=" ORDER BY id",this._sql(!1,h,d,function(e){var r=0,i=function(){e.rows.length>r?t(JSON.parse(e.rows.item(r).data),f,function(){f++,++r%500==0?o.setFast(i):i()}):n()};i()})}else n()},e.prototype.drop=function(e,t){var n=new a.DatabaseIndex;n.doAI=this._dbIndex[e].doAI,this._dbIndex[e]=n,this._sql(!0,"DELETE FROM "+this._chkTable(e),[],function(e){t()})},e.prototype.getIndex=function(e,t,n){n(t?this._dbIndex[e].keys().length:this._dbIndex[e].keys())},e.prototype.destroy=function(e){var t=this;i.fastALL(Object.keys(this._dbIndex),function(e,n,r){t.drop(e,r)}).then(e)},e}();t._WebSQLStore=s},function(module,exports,__webpack_require__){var __assign=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(exports,"__esModule",{value:!0});var lie_ts_1=__webpack_require__(1),utilities_1=__webpack_require__(0),db_idx_1=__webpack_require__(2),_evalContext=function(source,context){var compiled=eval("(function("+Object.keys(context).join(", ")+") {"+source+"})");return compiled.apply(context,Object.keys(context).map(function(e){return context[e]}))},_IndexedDBStore=function(){function e(e){this._worker='function o(r){this.go=function(t){var o=0;r&&r.length||t([]),r.forEach(function(e,n){e(function(){++o===r.length&&t([])})})}}var s={db:null,store:function(e,n,t){var o=s.db.transaction(e,n);t(o,o.objectStore(e),function(e,n){return function(){postMessage({do:e,args:n})}})},init:function(){addEventListener("message",function(e){var n=e.data;s[n.do]&&s[n.do](n.args)},!1)},setup:function(n){var e=indexedDB.open(n.id,1),t=!1,a={};e.onupgradeneeded=function(e){t=!0,s.db=e.target.result,Object.keys(n.pkKeys).forEach(function(e){s.db.createObjectStore(e,{keyPath:n.pkKeys[e]}),a[e]=[]})},e.onsuccess=function(e){if(s.db=e.target.result,t)postMessage({do:"rdy",args:a});else{new o(Object.keys(n.pkKeys).map(function(t){return function(n){var e,o,r;e=t,o=function(e){a[t]=e,n()},r=[],s.store(e,"readonly",function(e,n,t){n.openCursor().onsuccess=function(e){var n=e.target.result;n&&(r.push(n.key),n.continue())},e.oncomplete=function(){o(r)}})}})).go(function(){postMessage({do:"rdy",args:a})})}}},write:function(o){s.store(o.table,"readwrite",function(e,n,t){n.put(o.row),e.oncomplete=t("write_"+o.id,null)})},read:function(r){s.store(r.table,"readonly",function(e,n,t){var o=n.get(r.pk);o.onsuccess=function(){postMessage({do:"read_"+r.id,args:o.result})}})},readRange:function(a){s.store(a.table,"readonly",function(e,n,t){var o=[],r=-1===a.range.indexOf(void 0)?n.openCursor(IDBKeyRange.bound(a.range[0],a.range[1])):n.openCursor();e.oncomplete=t("readRange_"+a.id+"_done",o),r.onsuccess=function(e){var n=e.target.result;n&&(o.push(n.value),n.continue())}})},delete:function(o){s.store(o.table,"readwrite",function(e,n,t){e.oncomplete=t("delete_"+o.id,!0),e.onerror=t("delete_"+o.id,!1),"_clear_"===o.pk?n.clear():n.delete(o.pk)})}};s.init();',this._pkKey={},this._pkType={},this._dbIndex={},this._waitingCBs={},this._useWorker=e}return e.prototype.connect=function(e){var t=this;if(this._useWorker)this._w=new Worker(window.URL.createObjectURL(new Blob([this._worker]))),this._w.addEventListener("message",function(e){t._handleWWMessage(e.data.do,e.data.args)});else{var n=[];_evalContext(this._worker,{postMessage:function(e){t._handleWWMessage(e.do,e.args)},addEventListener:function(e,t){n.push(t)}}),this._w={addEventListener:null,postMessage:function(e,t){n.forEach(function(t){t({data:e})})}}}this._waitingCBs.rdy=function(n){Object.keys(n).forEach(function(e){t._dbIndex[e].set(n[e])}),e()},this._w.postMessage({do:"setup",args:{pkKeys:this._pkKey,id:this._id}})},e.prototype.setID=function(e){this._id=e},e.prototype._handleWWMessage=function(e,t){this._waitingCBs[e]&&(this._waitingCBs[e](t),delete this._waitingCBs[e])},e.prototype.makeTable=function(e,t){var n=this;this._dbIndex[e]=new db_idx_1.DatabaseIndex,t.forEach(function(t){t.props&&utilities_1.intersect(["pk","pk()"],t.props)&&(n._pkType[e]=t.type,n._pkKey[e]=t.key,t.props&&utilities_1.intersect(["ai","ai()"],t.props)&&("int"===t.type||"number"===t.type)&&(n._dbIndex[e].doAI=!0))})},e.prototype.write=function(e,t,n,r){if(!(t=t||utilities_1.generateID(this._pkType[e],this._dbIndex[e].ai)))throw new Error("Can't add a row without a primary key!");-1===this._dbIndex[e].indexOf(t)&&this._dbIndex[e].add(t);var o,i=utilities_1.uuid(),a=__assign({},n,((o={})[this._pkKey[e]]=t,o));this._waitingCBs["write_"+i]=function(e){r(a)},this._w.postMessage({do:"write",args:{table:e,id:i,row:a}})},e.prototype.delete=function(e,t,n){-1!==this._dbIndex[e].indexOf(t)&&this._dbIndex[e].remove(t);var r=utilities_1.uuid();this._waitingCBs["delete_"+r]=function(e){n()},this._w.postMessage({do:"delete",args:{table:e,id:r,pk:t}})},e.prototype.read=function(e,t,n){var r=utilities_1.uuid();-1!==this._dbIndex[e].indexOf(t)?(this._waitingCBs["read_"+r]=function(e){n(e)},this._w.postMessage({do:"read",args:{table:e,id:r,pk:t}})):n(null)},e.prototype.rangeRead=function(e,t,n,r,o,i){var a=this,s=this._dbIndex[e].keys(),u=-1===[typeof r,typeof o].indexOf("undefined"),l=u?[r,o]:[0,s.length-1];if(s.length){var c=utilities_1.uuid(),f=[],d=l[0],p=0;this._waitingCBs["readRange_"+c+"_done"]=function(e){delete a._waitingCBs["readRange_"+c],f=e;var r=function(){d<=l[1]?t(f[p],d,function(){d++,++p%500==0?lie_ts_1.setFast(r):r()}):n()};r()},this._w.postMessage({do:"readRange",args:{table:e,id:c,range:i&&u?l:l.map(function(e){return s[e]})}})}else n()},e.prototype.drop=function(e,t){var n=new db_idx_1.DatabaseIndex;n.doAI=this._dbIndex[e].doAI,this._dbIndex[e]=n;var r=utilities_1.uuid();this._waitingCBs["delete_"+r]=function(e){t()},this._w.postMessage({do:"delete",args:{table:e,id:r,pk:"_clear_"}})},e.prototype.getIndex=function(e,t,n){n(t?this._dbIndex[e].keys().length:this._dbIndex[e].keys())},e.prototype.destroy=function(e){var t=this;utilities_1.fastALL(Object.keys(this._dbIndex),function(e,n,r){t.drop(e,r)}).then(e)},e}();exports._IndexedDBStore=_IndexedDBStore},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(2),s=function(){function e(e){this._pkKey={},this._pkType={},this._rows={},this._dbIndex={},this._ls=e||!1}return e.prototype.connect=function(e){e()},e.prototype.setID=function(e){this._id=e},e.prototype.makeTable=function(e,t){var n=this;this._rows[e]={},this._dbIndex[e]=new a.DatabaseIndex,t.forEach(function(t){if(t.props&&i.intersect(["pk","pk()"],t.props)&&(n._pkType[e]=t.type,n._pkKey[e]=t.key),t.props&&i.intersect(["pk","pk()"],t.props)&&i.intersect(["ai","ai()"],t.props)&&"int"===t.type&&(n._dbIndex[e].doAI=!0),n._ls){var r=localStorage.getItem(n._id+"*"+e+"_idx");r&&n._dbIndex[e].set(JSON.parse(r))}})},e.prototype.write=function(e,t,n,o){if(!(t=t||i.generateID(this._pkType[e],this._dbIndex[e].ai)))throw new Error("Can't add a row without a primary key!");if(-1===this._dbIndex[e].indexOf(t)&&(this._dbIndex[e].add(t),this._ls&&localStorage.setItem(this._id+"*"+e+"_idx",JSON.stringify(this._dbIndex[e].keys()))),this._ls){var a=r({},n,((s={})[this._pkKey[e]]=t,s));localStorage.setItem(this._id+"*"+e+"__"+t,JSON.stringify(a)),o(a)}else{a=r({},n,((u={})[this._pkKey[e]]=t,u));this._rows[e][t]=i.deepFreeze(a),o(a)}var s,u},e.prototype.delete=function(e,t,n){-1!==this._dbIndex[e].indexOf(t)&&(this._dbIndex[e].remove(t),this._ls&&localStorage.setItem(this._id+"*"+e+"_idx",JSON.stringify(this._dbIndex[e].keys()))),this._ls?localStorage.removeItem(this._id+"*"+e+"__"+t):delete this._rows[e][t],n()},e.prototype.read=function(e,t,n){if(this._ls){var r=localStorage.getItem(this._id+"*"+e+"__"+t);n(r?JSON.parse(r):void 0)}else n(this._rows[e][t])},e.prototype.rangeRead=function(e,t,n,r,i,a){var s=this,u=this._dbIndex[e].keys(),l=-1===[typeof r,typeof i].indexOf("undefined"),c=l?[r,i]:[0,u.length-1];if(u.length){a&&l&&(c=c.map(function(t){return s._dbIndex[e].getLocation(t)}));var f=c[0],d=0,p=function(){f++,++d%500==0?o.setFast(h):h()},h=function(){if(f<=c[1])if(s._ls){var r=localStorage.getItem(s._id+"*"+e+"__"+u[f]);t(r?JSON.parse(r):void 0,f,p)}else t(s._rows[e][u[f]],f,p);else n()};h()}else n()},e.prototype.drop=function(e,t){var n=this;this._ls?(localStorage.setItem(this._id+"*"+e+"_idx",JSON.stringify([])),this._dbIndex[e].keys().forEach(function(t){localStorage.removeItem(n._id+"*"+e+"__"+t)})):this._rows[e]={};var r=new a.DatabaseIndex;r.doAI=this._dbIndex[e].doAI,this._dbIndex[e]=r,t()},e.prototype.getIndex=function(e,t,n){n(t?this._dbIndex[e].keys().length:this._dbIndex[e].keys())},e.prototype.destroy=function(e){var t=this;i.fastALL(Object.keys(this._dbIndex),function(e,n,r){t.drop(e,r)}).then(e)},e}();t._SyncStore=s},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="$",r=function(){function e(t){this._trie=e._create(t)}return e.prototype.getIndex=function(){return this._trie},e.prototype.setIndex=function(e){this._trie=e},e.prototype.addWord=function(t){return t.toLowerCase().split("").reduce(function(t,n,r,o){return e._append(t,n,r,o)},this._trie),this},e.prototype.removeWord=function(t){var r=e._checkPrefix(this._trie,t),o=r.prefixFound,i=r.prefixNode;return o&&delete i[n],this},e.prototype.getWords=function(){return e._recursePrefix(this._trie,"")},e.prototype.getPrefix=function(t){if(t=t.toLowerCase(),!this._isPrefix(t))return[];var n=e._checkPrefix(this._trie,t).prefixNode;return e._recursePrefix(n,t)},e.prototype._isPrefix=function(t){return e._checkPrefix(this._trie,t).prefixFound},e._append=function(e,t,r,o){return e[t]=e[t]||{},e=e[t],r===o.length-1&&(e[n]=1),e},e._checkPrefix=function(e,t){return{prefixFound:t.toLowerCase().split("").every(function(t,n){return!!e[t]&&(e=e[t])}),prefixNode:e}},e._create=function(t){return(t||[]).reduce(function(t,n){return n.toLowerCase().split("").reduce(e._append,t),t},{})},e._recursePrefix=function(t,r,o){void 0===o&&(o=[]);var i=r;for(var a in t)a===n&&(o.push(i),i=""),e._recursePrefix(t[a],r+a,o);return o.sort()},e}();t.Trie=r},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),i=n(0),a=n(10),s=n(9),u=n(8),l=n(7),c=function(){function e(e,t){if(this._tableNames=[],this._nsql=e,this._mode=t.persistent?"PERM":t.mode||"TEMP",this._id=t.id,this._size=t.size||5,this.adapters=[],this.models={},this.tableInfo={},this._trieIndexes={},this._tableNames=[],this._doCache=t.cache||!0,this._cache={},this._cacheKeys={},this.adapters[0]={adapter:null,waitForWrites:!0},"string"==typeof this._mode)switch("PERM"===this._mode&&(this._mode=this._detectStorageMethod()||this._mode),this._mode){case"IDB":this.adapters[0].adapter=new s._IndexedDBStore(!1);break;case"IDB_WW":this.adapters[0].adapter=new s._IndexedDBStore(!0);break;case"WSQL":this.adapters[0].adapter=new u._WebSQLStore(this._size);break;case"LS":this.adapters[0].adapter=new a._SyncStore(!0);break;case"LVL":this.adapters[0].adapter=new l._LevelStore(t.dbPath,t.writeCache,t.readCache);break;case"TEMP":this.adapters[0].adapter=new a._SyncStore(!1)}else this.adapters[0].adapter=this._mode}return e.prototype.init=function(e,t){var n=this;this._id||(this._id=i.hash(JSON.stringify(e)).toString()),this.models=this._createSecondaryIndexTables(e),this._tableNames=Object.keys(this.models),this.adapters.forEach(function(e){e.adapter.setID(n._id)}),this._tableNames.forEach(function(t){n._newTable(t,e[t])}),this._relFromTable={},this._relToTable={},this._relationColumns={},this._columnsAreTables={},this._tableNames.forEach(function(e){n.tableInfo[e]._viewTables=Object.keys(n.tableInfo).reduce(function(t,r){return r===e?t:(-1!==Object.keys(n.tableInfo[r]._views).indexOf(e)&&t.push({table:r,column:n.tableInfo[r]._views[e].pkColumn}),t)},[]);var t=n.models[e].length;n._relFromTable[e]={},n._relationColumns[e]=[],n._relToTable[e]=[],n._columnsAreTables[e]={};for(var r=function(){var r=n.models[e][t];if(-1!==n._tableNames.indexOf(r.type.replace("[]",""))){var o="";n._columnsAreTables[e][r.key]={_toTable:r.type.replace("[]",""),_thisType:-1===r.type.indexOf("[]")?"single":"array"},r.props&&(r.props.forEach(function(e){-1!==e.indexOf("ref=>")&&(o=e.replace("ref=>","")),0===e.indexOf("orm(")&&(o=e.replace(/orm\((.*)\)/gim,"$1"))}),o&&(n._hasORM=!0,n._relationColumns[e].push(r.key),n._relFromTable[e][r.key]={_toTable:r.type.replace("[]",""),_toColumn:o.replace("[]",""),_toType:-1===o.indexOf("[]")?"single":"array",_thisType:-1===r.type.indexOf("[]")?"single":"array"}))}};t--;)r()}),Object.keys(this._relFromTable).forEach(function(e){Object.keys(n._relFromTable[e]).forEach(function(t){var r=n._relFromTable[e][t];n._relToTable[r._toTable].push({_thisColumn:r._toColumn,_thisType:r._toType,_fromTable:e,_fromColumn:t,_fromType:r._thisType})})}),i.fastALL(this.adapters,function(e,t,r){e.adapter.connect(function(){e.adapter.setNSQL&&e.adapter.setNSQL(n._nsql),r()})}).then(function(){i.fastALL(Object.keys(n._trieIndexes),function(e,t,r){var o=n._trieIndexes[e];Object.keys(o).length?i.fastALL(Object.keys(o),function(t,r,o){var i="_"+e+"_idx_"+t;n.adapters[0].adapter.getIndex(i,!1,function(r){r.forEach(function(r){n._trieIndexes[e][t].addWord(String(r))}),o()})}).then(r):r()}).then(function(){t(n.models)})})},e.prototype._invalidateCache=function(e,t){var n=this;this._doCache&&Object.keys(this._cacheKeys[e]).forEach(function(r){for(var o=t.length,i=!0;o--&&i;)n._cacheKeys[e][r][t[o]]&&(delete n._cache[e][r],delete n._cacheKeys[e][r],i=!1)})},e.prototype.rebuildIndexes=function(e,t){var n=this,r=(new Date).getTime();i.fastALL(Object.keys(this.tableInfo),function(t,r,o){if("_ALL_"!==e&&e!==t||0===t.indexOf("_"))o();else{var a=n.tableInfo[t]._secondaryIndexes;i.fastALL(a,function(e,r,o){var i="_"+t+"_idx_"+e;n._drop(i,o)}).then(function(){var e=n.tableInfo[t]._pk,r={};a.forEach(function(e){r[e]={}}),n._read(t,function(t,n,o){t[e]?(a.forEach(function(n){t[n]&&(r[n][t[n]]||(r[n][t[n]]=[]),r[n][t[n]].push(t[e]))}),o(!1)):o(!1)},function(){i.fastALL(a,function(e,o,a){var s="_"+t+"_idx_"+e;i.fastALL(Object.keys(r[e]),function(t,o,i){n.adapterWrite(s,t,{id:t,rows:r[e][t].sort()},i)}).then(a)}).then(function(){o()})})})}}).then(function(){t((new Date).getTime()-r)})},e.prototype._secondaryIndexKey=function(e){return i.isObject(e)||Array.isArray(e)?JSON.stringify(e).substr(0,12):"number"==typeof e?e:String(e).substr(0,32)},e.prototype._detectStorageMethod=function(){if("undefined"==typeof window)return"LVL";if(i.isSafari)return"WSQL";if(i.isMSBrowser)return"undefined"!=typeof indexedDB?"IDB":"LS";if(-1===[typeof Worker,typeof Blob,typeof indexedDB].indexOf("undefined")&&window.URL&&window.URL.createObjectURL)try{var e=new Worker(window.URL.createObjectURL(new Blob(["var t = 't';"])));e.postMessage(""),e.terminate();return indexedDB.open("1234",1),indexedDB.deleteDatabase("1234"),"IDB_WW"}catch(e){if("undefined"!=typeof indexedDB)return"IDB"}return"LS"},e.prototype._secondaryIndexRead=function(e,t,n,r){var o=this;this.adapters[0].adapter.read("_"+e+"_idx_"+t,this._secondaryIndexKey(n),function(t){void 0!==t&&null!==t?o._read(e,t.rows||[],r):r([])})},e.prototype._rangeRead=function(e,t,n,r,o){var i=[];this.adapters[0].adapter.rangeRead(e,function(e,t,n){i.push(e),n()},function(){o(i)},t,n,r)},e.prototype._read=function(e,t,n){var r=this;if(Array.isArray(t)){var o=this.adapters[0].adapter.batchRead;o?o.apply(this.adapters[0].adapter,[e,t,n]):i.fastALL(t,function(t,n,o){r.adapters[0].adapter.read(e,t,o)}).then(function(e){n(e.filter(function(e){return e}))})}else{var a=[];"function"!=typeof t||this.adapters[0].adapter.rangeRead(e,function(e,n,r){t(e,n,function(t){t&&a.push(e),r()})},function(){n(a)})}},e.prototype._trieRead=function(e,t,n,r){var o=this,a=this._trieIndexes[e][t].getPrefix(n);i.fastALL(a,function(n,r,i){o._secondaryIndexRead(e,t,n,i)}).then(function(e){r([].concat.apply([],e))})},e.prototype._clearSecondaryIndexes=function(e,t,n,r,o){var a=this;i.fastALL(this.tableInfo[e]._secondaryIndexes.filter(function(e){return-1===r.indexOf(e)}),function(r,o,s){var u=a._secondaryIndexKey(n[r]),l="_"+e+"_idx_"+r;a.adapters[0].adapter.read(l,u,function(e){if(e){var n=e.rows.indexOf(t);if(-1!==n){var r=e?Object.isFrozen(e)?i._assign(e):e:{id:null,rows:[]};r.rows.splice(n,1),r.rows.sort(),r.rows=i.removeDuplicates(r.rows),a.adapterWrite(l,r.id,r,s)}else s()}else s()})}).then(o)},e.prototype._setSecondaryIndexes=function(e,t,n,r,o){var a=this;i.fastALL(this.tableInfo[e]._secondaryIndexes.filter(function(e){return-1===r.indexOf(e)}),function(r,o,s){var u=a._secondaryIndexKey(n[r]);if(u){a._trieIndexes[e][r]&&a._trieIndexes[e][r].addWord(String(n[r]));var l="_"+e+"_idx_"+r;a.adapters[0].adapter.read(l,u,function(e){var n=e?Object.isFrozen(e)?i._assign(e):e:{id:u,rows:[]};n.rows.push(t),n.rows.sort(),n.rows=i.removeDuplicates(n.rows),a.adapterWrite(l,u,n,s)})}else s()}).then(o)},e.prototype._write=function(e,t,n,o,i){var a,s=this;if(n){var u=r({},n,o,((a={})[this.tableInfo[e]._pk]=t,a)),l=Object.keys(u).filter(function(e){return u[e]===n[e]});this.tableInfo[e]._secondaryIndexes.length?this._clearSecondaryIndexes(e,t,n,l,function(){s._setSecondaryIndexes(e,t,u,l,function(){s.adapterWrite(e,t,u,i)})}):this.adapterWrite(e,t,u,i)}else this.adapterWrite(e,t,o,function(t){s.tableInfo[e]._secondaryIndexes.length?s._setSecondaryIndexes(e,t[s.tableInfo[e]._pk],o,[],function(){i(t)}):i(t)})},e.prototype._delete=function(e,t,n){var r=this;if(!t)throw new Error("Can't delete without a primary key!");this.adapters[0].adapter.read(e,t,function(o){r._clearSecondaryIndexes(e,t,o,[],function(){r.adapterDelete(e,t,function(){n(o)})})})},e.prototype._drop=function(e,t){var n=this;i.fastALL(this.tableInfo[e]._secondaryIndexes,function(t,r,o){n.adapterDrop("_"+e+"_idx_"+t,o)}).then(function(){n._trieIndexes[e]={},n.tableInfo[e]._trieColumns.forEach(function(t){n._trieIndexes[e][t]=new o.Trie([])}),n.adapterDrop(e,t)})},e.prototype._createSecondaryIndexTables=function(e){return Object.keys(e).forEach(function(t){var n=!1,r=!1;if(e[t].forEach(function(o){o.props&&i.intersect(["pk","pk()"],o.props)&&(n=!0),o.props&&i.intersect(["trie","idx","idx()","trie()"],o.props)&&(r=!0,e["_"+t+"_idx_"+o.key]=[{key:"id",type:-1!==["number","float","int"].indexOf(o.type)?o.type:"string",props:["pk"]},{key:"rows",type:"any[]"}])}),r&&!n)throw new Error("Tables with secondary indexes must have a primary key!")}),e},e.prototype._newTable=function(e,t){var n=this;this.tableInfo[e]={_pk:"",_pkType:"",_keys:[],_defaults:[],_secondaryIndexes:[],_trieColumns:[],_name:e,_views:{},_viewTables:[]},this._cache[e]={},this._cacheKeys[e]={},this._trieIndexes[e]={},this.adapters.forEach(function(n){n.adapter.makeTable(e,t)});for(var r=this.models[e].length,a=function(){var t=s.models[e][r];if(s.tableInfo[e]._keys.unshift(t.key),s.tableInfo[e]._defaults[r]=t.default,t.props&&t.props.length){var a=!1;t.props.forEach(function(r){if(-1!==r.indexOf("from=>")){n._hasViews=!0;var o=t.type;"from=>GHOST"!==r&&"from=>LIVE"!==r&&(o=r.replace("from=>","").split(".").shift()),n.tableInfo[e]._views[o]||(n.tableInfo[e]._views[o]={pkColumn:"",mode:"",columns:[]}),"from=>GHOST"===r||"from=>LIVE"===r?(a=!0,n.tableInfo[e]._views[o].pkColumn=t.key,n.tableInfo[e]._views[o].mode=r.replace("from=>","")):n.tableInfo[e]._views[o].columns.push({thisColumn:t.key,otherColumn:r.replace("from=>","").split(".").pop()})}}),i.intersect(["pk","pk()"],t.props)&&(s.tableInfo[e]._pk=t.key,s.tableInfo[e]._pkType=t.type),(i.intersect(["trie","idx","idx()","trie()"],t.props)||a)&&s.tableInfo[e]._secondaryIndexes.push(t.key),i.intersect(["trie","trie()"],t.props)&&(s.tableInfo[e]._trieColumns.push(t.key),s._trieIndexes[e][t.key]=new o.Trie([]))}},s=this;r--;)a();return e},e.prototype.adapterWrite=function(e,t,n,r,o){var a;i.fastALL(this.adapters,function(r,o,i){r.waitForWrites?r.adapter.write(e,t,n,function(e){a=e,i()}):(i(),r.adapter.write(e,t,n,function(e){}))}).then(function(){r(a)}).catch(function(e){o&&o(e)})},e.prototype.adapterDelete=function(e,t,n,r){i.fastALL(this.adapters,function(n,r,o){n.waitForWrites?n.adapter.delete(e,t,function(){o()}):(o(),n.adapter.delete(e,t,function(){}))}).then(function(){n()}).catch(function(e){r&&r(e)})},e.prototype.adapterDrop=function(e,t,n){i.fastALL(this.adapters,function(t,n,r){t.waitForWrites?t.adapter.drop(e,function(){r()}):(r(),t.adapter.drop(e,function(){}))}).then(function(){t()}).catch(function(e){n&&n(e)})},e}();t._NanoSQLStorage=c},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(0),a={select:function(e,t){e._select(t)},upsert:function(e,t){e._upsert(t)},delete:function(e,t){e._delete(t)},drop:function(e,t){e._drop(t)},"show tables":function(e,t){e._query.result=Object.keys(e._store.tableInfo),t(e._query)},describe:function(e,t){"string"==typeof e._query.table?(e._query.result=i._assign(e._store.models[e._query.table]),t(e._query)):t(e._query)}},s=function(){function e(e){this._store=e}return e.prototype.doQuery=function(e,t){this._query=e,this._isInstanceTable=Array.isArray(e.table),a[e.action](this,t)},e.prototype._getRows=function(e){this._isInstanceTable?new c(this._query).getRows(e):new l(this._query,this._store,function(t){e(t.filter(function(e){return e}))})},e.prototype._setCache=function(e){var t=this;this._store._cache[this._query.table][this._hash]=e,this._store._cacheKeys[this._query.table][this._hash]={},e.forEach(function(e){t._store._cacheKeys[t._query.table][t._hash][e[t._store.tableInfo[t._query.table]._pk]]=!0})},e.prototype._select=function(e){var t=this;this._hash=i.hash(JSON.stringify(r({},this._query,{queryID:null})));var n=!this._query.join&&!this._query.orm&&this._store._doCache&&!Array.isArray(this._query.table);this._getRows(function(r){["having","orderBy","offset","limit","actionArgs","groupBy","orm","join"].filter(function(e){return t._query[e]}).length?new u(t._query,t._store)._executeQueryArguments(r,function(o){n&&t._setCache(r),t._query.result=o,e(t._query)}):(n&&t._setCache(r),t._query.result=r,e(t._query))})},e.prototype._updateORMRows=function(e,t,n,r,o){var a=this;this._store.tableInfo[e._fromTable]._pk;this._store._read(e._fromTable,t,function(t){i.fastALL(t,function(t,o,s){var u=Object.isFrozen(t)?i._assign(t):t;if("array"===e._fromType){u[e._fromColumn]=u[e._fromColumn]||[];var l=u[e._fromColumn].indexOf(r);n?-1===l?u[e._fromColumn].push(r):s():-1!==l?u[e._fromColumn].splice(l,1):s(),u[e._fromColumn].sort()}else u[e._fromColumn]=n?r:null;a._store._nsql.query("upsert",u).comment("_orm_skip").manualExec({table:e._fromTable}).then(s)}).then(o)})},e.prototype._syncORM=function(e,t,n,r){var o=this;if(this._store._hasORM){var a=this._store._relToTable[this._query.table];if(-1===this._query.comments.indexOf("_orm_skip"))if(a&&a.length){for(var s=Math.max(t.length,n.length),u=[];s--;)u.push(" ");i.fastCHAIN(u,function(r,s,u){i.fastALL(a,function(r,a,u){var l,c;switch(e){case"del":var f=t[s][o._store.tableInfo[o._query.table]._pk],d="array"===r._thisType?t[s][r._thisColumn]||[]:[t[s][r._thisColumn]].filter(function(e){return e});o._updateORMRows(r,d,!1,f,u);break;case"add":var p=n[s][o._store.tableInfo[o._query.table]._pk];if(t[s])if(l=t[s][r._thisColumn],c=n[s][r._thisColumn],Array.isArray(l)&&Array.isArray(c)?l.length===c.length&&l.filter(function(e,t){return e!==c[t]}).length>0:l===c)u();else if("array"===r._thisType){var h=(n[s][r._thisColumn]||[]).filter(function(e){return-1===(t[s][r._thisColumn]||[]).indexOf(e)}),y=(t[s][r._thisColumn]||[]).filter(function(e){return-1===(n[s][r._thisColumn]||[]).indexOf(e)});i.fastALL([h,y],function(e,t,n){o._updateORMRows(r,e,0===t,p,n)}).then(u)}else{var m=function(){null!==n[s][r._thisColumn]&&void 0!==n[s][r._thisColumn]?o._updateORMRows(r,[n[s][r._thisColumn]],!0,p,u):u()};null!==t[s][r._thisColumn]&&void 0!==t[s][r._thisColumn]?o._updateORMRows(r,[t[s][r._thisColumn]],!1,p,m):m()}else{var v="array"===r._thisType?n[s][r._thisColumn]||[]:[n[s][r._thisColumn]].filter(function(e){return e});v&&v.length?o._updateORMRows(r,v,!0,p,u):u()}}}).then(u)}).then(r)}else r();else r()}else r()},e.prototype._updateRowViews=function(e,t,n){var r=this;this._store._hasViews?null!==e&&void 0!==e?i.fastALL(Object.keys(this._store.tableInfo[this._query.table]._views),function(n,o,i){var a=r._store.tableInfo[r._query.table]._views[n].pkColumn;if(void 0!==e[a]){if(e[a]!==t[a])return null===e[a]?(r._store.tableInfo[r._query.table]._views[n].columns.forEach(function(t){e[t.thisColumn]=null}),void i()):void r._store._read(n,[e[a]],function(t){if(!t.length&&"LIVE"===r._store.tableInfo[r._query.table]._views[n].mode)return r._store.tableInfo[r._query.table]._views[n].columns.forEach(function(t){e[t.thisColumn]=null}),void i();r._store.tableInfo[r._query.table]._views[n].columns.forEach(function(n){e[n.thisColumn]=t[0][n.otherColumn]}),i()});i()}else i()}).then(function(){n(e)}):n(e||{}):n(e)},e.prototype._updateRemoteViews=function(e,t,n){var r=this,o=this._store.tableInfo[this._query.table]._pk;i.fastALL(e,function(e,n,a){i.fastALL(r._store.tableInfo[r._query.table]._viewTables,function(n,a,s){t&&"GHOST"===r._store.tableInfo[n.table]._views[r._query.table].mode?s():r._store._secondaryIndexRead(n.table,n.column,e[o],function(o){if(o.length){var a=r._store.tableInfo[n.table]._views[r._query.table].columns,u=r._store.tableInfo[n.table]._views[r._query.table].pkColumn;i.fastALL(o,function(o,i,s){var l=a.length,c=!1;if(t){if("LIVE"===r._store.tableInfo[n.table]._views[r._query.table].mode)for(c=!0,o[u]=null;l--;)o[a[l].otherColumn]=null}else for(;l--;)o[a[l].otherColumn]!==e[a[l].thisColumn]&&(o[a[l].otherColumn]=e[a[l].thisColumn],c=!0);if(c){var f=r._store.tableInfo[n.table]._pk;r._store.adapterWrite(n.table,o[f],o,s)}else s()}).then(s)}else s()})}).then(a)}).then(n)},e.prototype._doAfterQuery=function(e,t,n){var r=this;this._store._hasViews&&this._store.tableInfo[this._query.table]._viewTables.length?this._updateRemoteViews(e,t,function(){n(r._query)}):n(this._query)},e.prototype._upsert=function(e){var t=this,n=this._store.tableInfo[this._query.table]._pk;if(this._isInstanceTable)this._getRows(function(n){t._query.result=t._query.table.map(function(e){return-1===n.indexOf(e)?e:r({},t._query.actionArgs,e)}),e(t._query)});else if(this._query.where)this._getRows(function(r){r.length?i.fastCHAIN(r,function(e,r,o){t._updateRowViews(t._query.actionArgs||{},e,function(r){t._store._write(t._query.table,e[n],e,r,o)})}).then(function(o){var i=o.map(function(e){return e[n]});t._store._invalidateCache(t._query.table,i),t._query.result=[{msg:o.length+" row(s) modfied.",affectedRowPKS:i,affectedRows:o}],t._syncORM("add",r,o,function(){t._doAfterQuery(o,!1,e)})}):(t._query.result=[{msg:"0 row(s) modfied.",affectedRowPKS:[],affectedRows:[]}],e(t._query))});else{var o=this._query.actionArgs||{};this._store._cache[this._query.table]={};var a=function(r){t._updateRowViews(o,r,function(i){t._store._write(t._query.table,o[n],r,i,function(o){t._query.result=[{msg:"1 row inserted.",affectedRowPKS:[o[n]],affectedRows:[o]}],t._store._hasORM?t._syncORM("add",[r].filter(function(e){return e}),[o],function(){t._doAfterQuery([o],!1,e)}):t._doAfterQuery([o],!1,e)})})};void 0!==o[n]?this._store._read(this._query.table,[o[n]],function(e){e.length?a(e[0]):a(null)}):a(null)}},e.prototype._delete=function(e){var t=this;this._isInstanceTable?this._query.where?this._getRows(function(n){t._query.result=t._query.table.filter(function(e){return-1===n.indexOf(e)}),e(t._query)}):(this._query.result=[],e(this._query)):this._query.where?this._getRows(function(n){(n=n.filter(function(e){return e})).length?i.fastALL(n,function(e,n,r){t._store._delete(t._query.table,e[t._store.tableInfo[t._query.table]._pk],r)}).then(function(r){t._store._cache[t._query.table]={};var o=n.map(function(e){return e[t._store.tableInfo[t._query.table]._pk]});t._store._invalidateCache(t._query.table,o),t._query.result=[{msg:n.length+" row(s) deleted.",affectedRowPKS:o,affectedRows:n}],t._syncORM("del",n,[],function(){t._doAfterQuery(n,!0,e)})}):(t._query.result=[{msg:"0 row(s) deleted.",affectedRowPKS:[],affectedRows:[]}],e(t._query))}):this._drop(e)},e.prototype._drop=function(e){var t=this;if(this._isInstanceTable)return this._query.result=[],void e(this._query);this._store._rangeRead(this._query.table,void 0,void 0,!1,function(n){t._store._cache[t._query.table]={},t._store._cacheKeys[t._query.table]={},t._store._drop(t._query.table,function(){t._query.result=[{msg:"'"+t._query.table+"' table dropped.",affectedRowPKS:n.map(function(e){return e[t._store.tableInfo[t._query.table]._pk]}),affectedRows:n}],t._syncORM("del",n,[],function(){t._doAfterQuery(n,!0,e)})})})},e}();t._NanoSQLStorageQuery=s;var u=function(){function e(e,t){this.q=e,this.s=t,this._groupByColumns=[]}return e.prototype._join=function(e,t){var n=this;if(this.q.join){var r={};"cross"!==this.q.join.type&&this.q.join.where&&(r={_left:this.q.join.where[0],_check:this.q.join.where[1],_right:this.q.join.where[2]});var o=this.q.table,i=this.q.join.table;this._doJoin(this.q.join.type,o,i,r,function(e){n.q.where?t(e.filter(function(e,t){return Array.isArray(n.q.where)?f(e,n.q.where||[],t,!0):n.q.where(e,t)})):n.q.range?t(e.filter(function(e,t){return n.q.range&&n.q.range[0]>=t&&n.q.range[1]<=t})):t(e)})}else t(e)},e.prototype._groupByKey=function(e,t){return e.reduce(function(e,n){return-1!==n.indexOf(".length")?e+"."+String((t[n.replace(".length","")]||[]).length):e+"."+String(t[n])},"").slice(1)},e.prototype._groupBy=function(e){var t=this,n=this.q.groupBy||{},r=e.sort(function(e,r){return t._sortObj(e,r,n,!0)});return r.forEach(function(e,r){var o=Object.keys(n).map(function(t){return String(e[t])||""}).join(".");t._sortGroups||(t._sortGroups={}),t._sortGroups[o]||(t._sortGroups[o]=[]),t._sortGroups[o].push(r)}),r},e.prototype._having=function(e){var t=this;return e.filter(function(e,n){return Array.isArray(t.q.having)?f(e,t.q.having||[],n,!0):t.q.having(e,n)})},e.prototype._orderBy=function(e){var t=this;return e.sort(function(e,n){return t._sortObj(e,n,t.q.orderBy||{},!1)})},e.prototype._offset=function(e){var t=this;return e.filter(function(e,n){return!t.q.offset||n>=t.q.offset})},e.prototype._limit=function(e){var t=this;return e.filter(function(e,n){return!t.q.limit||n<t.q.limit})},e.prototype._orm=function(e,t){var n=this,r=this.q.orm?this.q.orm.map(function(e){return"string"==typeof e?{key:e,limit:5}:e}):[];i.fastALL(e,function(e,t,a){e=Object.isFrozen(e)?i._assign(e):e,i.fastALL(r,function(t,r,i){if(e[t.key]&&e[t.key].length){var a=n.s._columnsAreTables[n.q.table][t.key];a?n.s._nsql.query("select").where([n.s.tableInfo[a._toTable]._pk,"array"===a._thisType?"IN":"=",e[t.key]]).manualExec({table:a._toTable}).then(function(n){var r=o.nSQL().query("select",t.select);t.where&&r.where(t.where),void 0!==t.limit&&r.limit(t.limit),void 0!==t.offset&&r.offset(t.offset),t.orderBy&&r.orderBy(t.orderBy),t.groupBy&&r.groupBy(t.groupBy),r.manualExec({table:n}).then(function(r){n.filter(function(e){return e}).length?e[t.key]="array"===a._thisType?r:r[0]:e[t.key]="array"===a._thisType?[]:void 0,i()})}):i()}else i()}).then(function(){a(e)})}).then(t)},e.prototype._doJoin=function(e,t,n,r,o){var i="left",a="right",s="outer",u=this,l=u.s.tableInfo[e===a?n:t],c=u.s.tableInfo[e===a?t:n],d=function(e,t){return[l,c].reduce(function(n,r,o){return r._keys.forEach(function(i){n[r._name+"."+i]=((0===o?e:t)||{})[i]}),n},{})},p=[],h=r&&r._right&&r._right.split(".").pop()||"",y={},m=[];u.s._read(l._name,function(t,n,o){var v=!1;u.s._read(c._name,function(n,o,i){var u;r&&"cross"!==e?f(((u={})[l._name]=t,u[c._name]=n,u),[r._left,r._check,e===a?t[h]:n[h]],0)?(e===s&&(y[o]=!0),p.push(d(t,n)),v=!0):e===s&&(m[o]=n):(p.push(d(t,n)),v=!0);i(!1)},function(){!v&&[i,a,s].indexOf(e)>-1&&p.push(d(t,null)),o(!1)})},function(){if(e===s){for(var t=m.filter(function(e,t){return!y[t]}),n=0;n<t.length;)p.push(d(null,t[n])),n++;o(p)}else o(p)})},e.prototype._sortObj=function(e,t,n,r){return Object.keys(n).reduce(function(o,a){var s=r?i.objQuery(a,e):e[a],u=r?i.objQuery(a,t):t[a];return o||(s===u?0:(s>u?1:-1)*("desc"===n[a]?-1:1))},0)},e.prototype._mutateRows=function(e,t){var n=this,r=this.q.actionArgs,a={},s={};if(r&&r.length){var u=!1,l={};r.forEach(function(e){if(-1!==e.indexOf("(")){var t=(e.match(/^.*\(/g)||[""])[0].replace(/\(|\)/g,"").toUpperCase(),n=o.NanoSQLInstance.functions[t],r=1===e.split(" AS ").length?t:(e.split(" AS ").pop()||"").trim();if(!n)throw new Error("'"+t+"' is not a valid function!");"A"===n.type&&(u=!0),l[e]={fn:n,key:r}}}),i.fastALL(r,function(t,r,o){if(t.indexOf("(")>-1){var c=(t.match(/\(.*\)/g)||[""])[0].replace(/\(|\)/g,"").split(",").map(function(e){return e.trim()});n._sortGroups&&u?i.fastALL(Object.keys(n._sortGroups),function(r,o,i){var a;s[r]||(s[r]={}),(a=l[t].fn).call.apply(a,[e.filter(function(e,t){return n._sortGroups[r].indexOf(t)>-1}),function(e){s[r][l[t].key]=e,i()}].concat(c))}).then(o):(f=l[t].fn).call.apply(f,[e,function(e){a[l[t].key]=e,o()}].concat(c))}else o();var f}).then(function(){var o=function(e,t,o){var a={};return r.forEach(function(r){var s=r.indexOf("(")>-1,u=s?l[r].fn.type:"";if(r.indexOf(" AS ")>-1){var c=r.split(" AS "),f=s?l[r].key:c[0].trim();a[c[1]]=s?"A"===u?o[f]:o[f][t]:i.objQuery(f,e,void 0!==n.q.join)}else{f=s?l[r].key:r;a[r]=s?"A"===u?o[f]:o[f][t]:i.objQuery(f,e,void 0!==n.q.join)}}),a};if(!e.length&&u){var c=[{}];return Object.keys(l).forEach(function(e){void 0!==a[l[e].key]&&(c[0][e]=a[l[e].key])}),void t(c)}if(n._sortGroups&&u){var f=[];Object.keys(n._sortGroups).forEach(function(t){var r=e.filter(function(e,r){return n._sortGroups[t].indexOf(r)>-1}).filter(function(e,t){return t<1});r&&r.length&&f.push(o(r[0],0,s[t]))}),t(f)}else t(u?e.filter(function(e,t){return t<1}).map(function(e,t){return o(e,t,a)}):e.map(function(e,t){return o(e,t,a)}))})}else t(e)},e.prototype._executeQueryArguments=function(e,t){var n=this,r=function(){n.q.having&&(e=n._having(e)),n.q.orderBy&&(e=n._orderBy(e)),n.q.offset&&(e=n._offset(e)),n.q.limit&&(e=n._limit(e)),t(e)},o=function(){n.q.actionArgs&&n.q.actionArgs.length?n._mutateRows(e,function(t){e=t,r()}):r()},i=function(){n.q.groupBy&&(e=n._groupBy(e)),n.q.orm?n._orm(e,function(t){e=t,o()}):o()};this.q.join?this._join(e,function(t){e=t,i()}):i()},e}();t._MutateSelection=u;var l=function(){function e(e,t,n){var r=this;if(this.q=e,this.s=t,this.q.join&&this.q.orm)throw new Error("Cannot do a JOIN and ORM command at the same time!");if([this.q.where,this.q.range,this.q.trie].filter(function(e){return e}).length>1)throw new Error("Can only have ONE of Trie, Range or Where!");if(this.q.join)n([]);else if(this.q.trie&&this.q.trie.column&&this.q.trie.search)this._selectByTrie(n);else if(this.q.range&&this.q.range.length)this._selectByRange(n);else if(this.q.where&&this.q.where.length&&Array.isArray(this.q.where)){if("string"==typeof this.q.where[0]?0===this._isOptimizedWhere(this.q.where):0===(this.q.where||[]).reduce(function(e,t,n){return n%2==1?e:e+r._isOptimizedWhere(t)},0))this._selectByKeys(this.q.where,n);else{var o=this._isSubOptimizedWhere(this.q.where);if(o>0){var i=this.q.where.slice(0,o),a=this.q.where.slice(o+1);this._selectByKeys(i,function(e){n(e.filter(function(e,t){return f(e,a,t)}))})}else this._fullTableScan(n)}}else this._fullTableScan(n)}return e.prototype._selectByKeys=function(e,t){var n=this;if(e&&"string"==typeof e[0])this._selectRowsByIndex(e,t);else if(e){var r=[],o="";i.fastCHAIN(e,function(e,t,i){if("string"==typeof e)return o=e,void i();n._selectRowsByIndex(e,function(e){if("AND"===o){for(var t={},a=e.length;a--;)t[e[a][n.s.tableInfo[n.q.table]._pk]]=!0;r=r.filter(function(e){return t[e[n.s.tableInfo[n.q.table]._pk]]})}else r=r.concat(e);i()})}).then(function(){t(r)})}},e.prototype._selectRowsByIndex=function(e,t){var n=this;if("BETWEEN"!==e[1]){var r=[];switch(e[1]){case"IN":r=e[2];break;case"=":r=[e[2]]}e[0]===this.s.tableInfo[this.q.table]._pk?this.s._read(this.q.table,r,t):i.fastALL(r,function(t,r,o){n.s._secondaryIndexRead(n.q.table,e[0],t,o)}).then(function(e){t([].concat.apply([],e))})}else{var o=e[0]===this.s.tableInfo[this.q.table]._pk?"":e[0];if(o){var a="_"+this.q.table+"_idx_"+o;this.s._rangeRead(a,e[2][0],e[2][1],!0,function(e){for(var r=[],o=e.length;o--;)r=r.concat(e[o].rows);n.s._read(n.q.table,r,t)})}else this.s._rangeRead(this.q.table,e[2][0],e[2][1],!0,function(e){t(e)})}},e.prototype._selectByRange=function(e){var t=this;if(this.q.range){var n=this.q.range;n[0]>0?this.s._rangeRead(this.q.table,n[1],n[1]+n[0],!1,e):this.s.adapters[0].adapter.getIndex(this.q.table,!0,function(r){for(var o=n[0]>0?n[1]:r+n[0]-n[1],i=o,a=Math.abs(n[0])-1;a--;)i++;t.s._rangeRead(t.q.table,o,i,!1,e)})}else e([])},e.prototype._selectByTrie=function(e){this.q.trie?this.s._trieRead(this.q.table,this.q.trie.column,this.q.trie.search,e):e([])},e.prototype._fullTableScan=function(e){var t=this,n=void 0!==this.q.where,r=n&&Array.isArray(this.q.where);this.s._read(this.q.table,function(e,o,i){i(!n||(r?f(e,t.q.where,o):t.q.where(e,o)))},e)},e.prototype._isSubOptimizedWhere=function(e){var t=this;if("string"==typeof e[0])return 0;if(0===this._isOptimizedWhere(e[0])){var n=0;return e.forEach(function(r,o){o%2==0&&0===t._isOptimizedWhere(r)&&e[o+1]&&(n=o+1)}),"AND"!==e[n]?0:n}return 0},e.prototype._isOptimizedWhere=function(e){var t=this.s.tableInfo[this.q.table];return["=","IN","BETWEEN"].indexOf(e[1])>-1&&(e[0]===t._pk||t._secondaryIndexes.indexOf(e[0])>-1)?0:1},e}();t._RowSelection=l;var c=function(){function e(e){this.q=e}return e.prototype.getRows=function(e){var t=this;if(this.q.join||this.q.orm||this.q.trie)throw new Error("Cannot do a JOIN, ORM or TRIE command with instance table!");if(this.q.range&&this.q.range.length){var n,r,o=this.q.range;n=o[0]<0?this.q.table.length+o[0]-o[1]:o[1];var i=Math.abs(o[0])-1;for(r=n;i--;)r++;e(this.q.table.filter(function(e,t){return t>=n&&t<=r}))}else e(this.q.table.filter(function(e,n){return!t.q.where||(Array.isArray(t.q.where)?f(e,t.q.where||[],n):t.q.where(e,n))}))},e}();t.InstanceSelection=c;var f=function(e,t,n,r){var o=["AND","OR"];if("string"!=typeof t[0]){var a=t.map(function(t,n){return-1!==o.indexOf(t)?("AND"===t&&!0,t):0===d(t[2],t[1],i.objQuery(t[0],e,r))});return a.forEach(function(e,t){"OR"===e&&(a[t]=a[t-1]||a[t+1],a[t-1]=void 0,a[t+1]=void 0)}),-1===a.indexOf(!1)}return 0===d(t[2],t[1],i.objQuery(t[0],e,r))},d=function(e,t,n){var r=function(e){return["LIKE","NOT LIKE"].indexOf(t)>-1?String(e||"").toLowerCase():e},o=r(n),i=r(e);if("NULL"===e||"NOT NULL"===e){var a="="===t||"LIKE"===t;return("NULL"===e?null===n||void 0===n:null!==n&&void 0!==n)?a?0:1:a?1:0}switch(t){case"=":return o===i?0:1;case"!=":return o!==i?0:1;case">":return o>i?0:1;case"<":return o<i?0:1;case"<=":return o<=i?0:1;case">=":return o>=i?0:1;case"IN":return(i||[]).indexOf(o)<0?1:0;case"NOT IN":return(i||[]).indexOf(o)<0?0:1;case"REGEX":return o.match(i).length?0:1;case"LIKE":return o.indexOf(i)<0?1:0;case"NOT LIKE":return o.indexOf(i)>=0?1:0;case"BETWEEN":return i[0]<=o&&i[1]>=o?0:1;case"HAVE":return(o||[]).indexOf(i)<0?1:0;case"NOT HAVE":return(o||[]).indexOf(i)<0?0:1;case"INTERSECT":return(o||[]).filter(function(e){return(i||[]).indexOf(e)>-1}).length>0?0:1;case"NOT INTERSECT":return 0===(o||[]).filter(function(e){return(i||[]).indexOf(e)>-1}).length?0:1;default:return 1}}},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(13),a=n(0),s=n(12),u=function(){function e(){this._queryPool=[],this._queryPtr=0}return e.prototype.willConnect=function(e,t){this.parent=e.parent,this._store=new s._NanoSQLStorage(e.parent,r({},e.config)),this._store.init(e.models,function(n){e.models=r({},e.models,n),t(e)})},e.prototype.doExec=function(e,t){e.state="complete",new i._NanoSQLStorageQuery(this._store).doQuery(e,t)},e.prototype.dumpTables=function(e){var t=this;return new a.Promise(function(n,r){var o={},i=e&&e.length?e:Object.keys(t._store.tableInfo);a.fastALL(i,function(e,n,r){o[e]=[],t._store.adapters[0].adapter.rangeRead(e,function(t,n,r){o[e].push(t),r()},r)}).then(function(){n(o)})})},e.prototype.importTables=function(e){var t=this;return new a.Promise(function(n,r){a.fastALL(Object.keys(e),function(n,r,o){var i=t._store.tableInfo[n]._pk;a.fastALL(e[n],function(e,r,o){e[i]?t._store.adapters[0].adapter.write(n,e[i],e,o):o()}).then(o)}).then(function(){n()})})},e.prototype.willDisconnect=function(e){a.fastALL(this._store.adapters||[],function(e,t,n){e.disconnect?e.disconnect(n):n()}).then(e)},e.prototype.extend=function(e,t,n){var r=this;switch(t[0]){case"clone":var i=new o.NanoSQLInstance;Object.keys(this.parent.dataModels).forEach(function(e){i.table(e).model(r.parent.dataModels[e],[],!0)}),i.config({id:this._store._id,mode:t[1]}).connect().then(function(){a.fastCHAIN(Object.keys(r.parent.dataModels),function(e,t,n){console.log("Importing "+e+"..."),r.parent.rawDump([e]).then(function(e){return i.rawImport(e)}).then(n)}).then(function(){e(t,[])})});break;case"flush":var s=[];s=t[1]?[t[1]]:this.parent.tableNames,a.fastCHAIN(s,function(e,t,n){r._store._drop(e,n)}).then(function(){e(t,s)});break;case"get_adapter":t[1]?e(t,[this._store.adapters[t[1]].adapter]):e(t,[this._store.adapters[0].adapter]);break;case"idx.length":case"idx":var u=t[1];Object.keys(this._store.tableInfo).indexOf(u)>-1?this._store.adapters[0].adapter.getIndex(u,"idx"!==t[0],function(n){e(t,n)}):e(t,[]);break;case"rebuild_idx":t[1]?this._store.rebuildIndexes(t[1],function(n){e(t,[n])}):a.fastALL(Object.keys(this._store.tableInfo),function(e,t,n){r._store.rebuildIndexes(e,n)}).then(function(n){e(t,n)});break;case"clear_cache":t[1]&&t[2]?this._store._invalidateCache(t[1],t[2]):t[1]?(this._store._cache[t[1]]={},this._store._cacheKeys[t[1]]={}):Object.keys(this._store.tableInfo).forEach(function(e){r._store._cache[e]={},r._store._cacheKeys[e]={}}),e(t,t[1]||Object.keys(this._store.tableInfo));break;default:e(t,n)}},e}();t.NanoSQLDefaultBackend=u},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.eventListeners={}}return e.prototype.on=function(e,t){this.eventListeners[e]||(this.eventListeners[e]=[]),this.eventListeners[e].push(t)},e.prototype.off=function(e,t){var n=this;this.eventListeners[e]&&this.eventListeners[e].length&&this.eventListeners[e].forEach(function(r,o){r===t&&n.eventListeners[e].splice(o,1)})},e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.eventListeners[e]&&this.eventListeners[e].forEach(function(e){return e.apply(void 0,t)})},e}();t.ReallySmallEvents=n,t.RSE=new n},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n,r,o){this.thisQ={state:"pending",table:n,action:e,actionArgs:t,queryID:o,transaction:!0,result:[],comments:[]},this._queries=r}return e.prototype.where=function(e){return this.thisQ.where=e,this},e.prototype.exec=function(){this._queries.push(this.thisQ)},e}();t._NanoSQLTransactionQuery=n},function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i={affectedRowPKS:[],affectedRows:[]},a=function(e,t){1!==e._db.plugins.length||e._db.hasAnyEvents?o.fastCHAIN(e._db.plugins,function(t,n,r){t.doExec?t.doExec(e._query,function(t){e._query=t||e._query,r()}):r()}).then(function(){if(e._db.hasPK[e._query.table]?t(e._query.result):t(e._query.result.map(function(e){return r({},e,{_id_:void 0})})),e._db.hasAnyEvents||e._db.pluginHasDidExec){var n=function(){switch(e._query.action){case"select":return[e._query.action];case"delete":case"upsert":case"drop":return[e._query.action,"change"];default:return[]}}(),a=e._query.result&&e._query.result.length,s={table:e._query.table,query:e._query,time:Date.now(),result:e._query.result,notes:[],types:n,actionOrView:e._AV,transactionID:e._query.transaction?e._query.queryID:void 0,affectedRowPKS:a?(e._query.result[0]||i).affectedRowPKS:[],affectedRows:a?(e._query.result[0]||i).affectedRows:[]};o.fastCHAIN(e._db.plugins,function(e,t,n){e.didExec?e.didExec(s,function(e){s=e,n()}):n()}).then(function(){e._db.triggerEvent(s)})}}):e._db.plugins[0].doExec(e._query,function(n){e._query=n,e._db.hasPK[e._query.table]?t(e._query.result):t(e._query.result.map(function(e){return r({},e,{_id_:void 0})}))})},s={},u=function(){function e(e,t,n,r,o){this._db=e,this._AV=o||"",this._query={table:t,comments:[],state:"pending",queryID:Date.now()+"."+this._db.fastRand(),action:n,actionArgs:r,result:[]}}return e.prototype.where=function(e){return this._query.where=e,this},e.prototype.range=function(e,t){return this._query.range=[e,t],this},e.prototype.on=function(e){return this._query.on=e,this},e.prototype.debounce=function(e){return this._query.debounce=e||250,this},e.prototype.orm=function(e){return this._query.orm=e,this},e.prototype.orderBy=function(e){return this._query.orderBy=e,this},e.prototype.groupBy=function(e){return this._query.groupBy=e,this},e.prototype.having=function(e){return e.length&&Array.isArray(e)||(this._error="Having condition requires an array!"),this._query.having=e,this},e.prototype.join=function(e){if(Array.isArray(this._query.table))throw Error("Can't JOIN with instance table!");return e.table&&e.type||(this._error="Join command requires table and type arguments!"),this._query.join=e,this},e.prototype.limit=function(e){return this._query.limit=e,this},e.prototype.trieSearch=function(e,t){return this._query.trie={column:e,search:t},this},e.prototype.comment=function(e){return this._query.comments.push(e),this},e.prototype.extend=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._query.extend=e,this},e.prototype.offset=function(e){return this._query.offset=e,this},e.prototype.toCSV=function(e){var t=this;return new o.Promise(function(n,r){t.exec().then(function(r){var o=[];r.length||n("",t),e&&o.push(Object.keys(r[0]).join(",")),r.forEach(function(e){o.push(Object.keys(e).map(function(t){return null===e[t]||void 0===e[t]?"":"object"==typeof e[t]?'"'+JSON.stringify(e[t]).replace(/\"/g,"'")+'"':e[t]}).join(","))}),n(o.join("\n"),t)})})},e.prototype.manualExec=function(e){return this._query=r({},this._query,e),this.exec()},e.prototype.denormalizationQuery=function(e){var t=this;return new o.Promise(function(n,r){switch(e){case"tocolumn":var i={};t._query.actionArgs&&t._query.actionArgs.length?Object.keys(t._db.toColRules[t._query.table]).filter(function(e){return-1!==t._query.actionArgs.indexOf(e)}).forEach(function(e){i[e]=t._db.toColRules[t._query.table][e]}):i=t._db.toColRules[t._query.table],t._query.action="select",t._query.actionArgs=void 0;var s=Object.keys(i);a(t,function(e){o.fastCHAIN(e,function(e,n,r){Object.isFrozen(e)&&(e=o._assign(e)),o.fastALL(s,function(n,r,o){var a=t._db.toColFns[t._query.table][i[n][0]];a?a.apply(null,[e[n],function(t){e[n]=t,o()}].concat(i[n].filter(function(e,t){return t>0}).map(function(t){return e[t]}))):o()}).then(function(){t._db.query("upsert",e).manualExec({table:t._query.table}).then(r).catch(r)})}).then(function(){n({msg:e.length+" rows modified"})})});break;case"torow":var u=(t._query.actionArgs||"").replace("()","");if(!t._db.toRowFns[t._query.table]||!t._db.toRowFns[t._query.table][u])return void r("No function "+t._query.actionArgs+" found to perform updates!");var l=t._db.toRowFns[t._query.table][u],c=t._db.tablePKs[t._query.table];if(t._query.on&&t._query.on.length)return void o.fastALL(t._query.on,function(e,n,r){l(e,{},function(n){n[c]=e,t._db.query("upsert",n).manualExec({table:t._query.table}).then(r).catch(r)})}).then(function(){n([{msg:(t._query.on||[]).length+" rows modified or added."}])});t._query.action="select",t._query.actionArgs=void 0,a(t,function(e){o.fastALL(e,function(e,n,r){Object.isFrozen(e)&&(e=o._assign(e)),l(e[c],e,function(n){n[c]=e[c],t._db.query("upsert",n).manualExec({table:t._query.table}).then(r).catch(r)})}).then(function(){n({msg:e.length+" rows modified"})})})}})},e.prototype.exec=function(){var e=this;if("*"!==this._query.table){var t=this,n=this._query.action.toLowerCase();if(["tocolumn","torow"].indexOf(n)>-1){if(this._query.debounce){var r=o.hash(JSON.stringify([this._query.table,n,this._query.actionArgs,this._query.on,this._query.where].filter(function(e){return e})));return new o.Promise(function(t,o){s[r]&&clearTimeout(s[r]),s[r]=setTimeout(function(){e.denormalizationQuery(n).then(t)},e._query.debounce)})}return this.denormalizationQuery(n)}if(!(["select","upsert","delete","drop","show tables","describe"].indexOf(n)>-1))throw Error("No valid database action!");var i=this._query.actionArgs||("select"===n||"delete"===n?[]:{});if("upsert"===n){for(var u={},l=this._db.dataModels[this._query.table],c=0;c<l.length;)void 0!==i[l[c].key]&&(u[l[c].key]=o.cast(l[c].type,i[l[c].key])),c++;if(this._db.skipPurge[this._query.table]){var f=l.map(function(e){return e.key});Object.keys(i).filter(function(e){return-1===f.indexOf(e)}).forEach(function(e){u[e]=i[e]})}i=u}return this._query.action=n,this._query.actionArgs=this._query.actionArgs?i:void 0,new o.Promise(function(n,r){Array.isArray(e._query.table)?e._db.iB.doExec&&e._db.iB.doExec(e._query,function(e){n(e.result)}):(t._db.plugins.length||(t._error="No plugins, nothing to do!"),t._error?r(t._error,e._db):e._db.queryMod?e._db.queryMod(e._query,function(t){e._query=t,a(e,n)}):a(e,n))})}},e}();t._NanoSQLQuery=u},function(e,t,n){"use strict";var r=s(n(29)),o=s(n(127)),i=n(115),a=n(3);function s(e){return e&&e.__esModule?e:{default:e}}s(n(5)).default.onConnected(function(e){return(0,a.nSQL)().query("upsert",{userId:"anton",balance:20}).exec()}),o.default.render(r.default.createElement(function(){return r.default.createElement("div",null,r.default.createElement("div",null,r.default.createElement(i.AccountStatus,null)),r.default.createElement("div",null,r.default.createElement(i.Rating,null)))},null),document.getElementById("root"))},function(e,t){var n=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(30)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(31),o=n(64),i=n(44),a=Object.defineProperty;t.f=n(21)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(45)("wks"),o=n(33),i=n(20).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){var r=n(98),o=n(47);e.exports=function(e){return r(o(e))}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(22),o=n(32);e.exports=n(21)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(20),o=n(19),i=n(65),a=n(27),s=n(23),u=function(e,t,n){var l,c,f,d=e&u.F,p=e&u.G,h=e&u.S,y=e&u.P,m=e&u.B,v=e&u.W,g=p?o:o[t]||(o[t]={}),b=g.prototype,_=p?r:h?r[t]:(r[t]||{}).prototype;for(l in p&&(n=t),n)(c=!d&&_&&void 0!==_[l])&&s(g,l)||(f=c?_[l]:n[l],g[l]=p&&"function"!=typeof _[l]?n[l]:m&&c?i(f,r):v&&_[l]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):y&&"function"==typeof f?i(Function.call,f):f,y&&((g.virtual||(g.virtual={}))[l]=f,e&u.R&&b&&!b[l]&&a(b,l,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){"use strict";e.exports=n(129)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(26);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(20),o=n(19),i=n(42),a=n(36),s=n(22).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){t.f=n(24)},function(e,t,n){var r=n(22).f,o=n(23),i=n(24)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(56),o=n(38);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(31),o=n(99),i=n(38),a=n(46)("IE_PROTO"),s=function(){},u=function(){var e,t=n(63)("iframe"),r=i.length;for(t.style.display="none",n(94).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[i[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:o(n,t)}},function(e,t){e.exports={}},function(e,t){e.exports=!0},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(26);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(20),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){var r=n(45)("keys"),o=n(33);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";var r=n(48);r=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i="Warning: "+e.replace(/%s/g,function(){return n[o++]});"undefined"!=typeof console&&console.error(i);try{throw new Error(i)}catch(e){}}).apply(void 0,[t].concat(r))}},e.exports=r},function(e,t,n){"use strict";var r=function(e){};r=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")},e.exports=function(e,t,n,o,i,a,s,u){if(r(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,i,a,s,u],f=0;(l=new Error(t.replace(/%s/g,function(){return c[f++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(79)),o=a(n(75)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){var r=n(34),o=n(32),i=n(25),a=n(44),s=n(23),u=n(64),l=Object.getOwnPropertyDescriptor;t.f=n(21)?l:function(e,t){if(e=i(e),t=a(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(56),o=n(38).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(23),o=n(25),i=n(97)(!1),a=n(46)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~i(l,n)||l.push(n));return l}},function(e,t,n){e.exports=n(27)},function(e,t,n){"use strict";var r=n(42),o=n(28),i=n(57),a=n(27),s=n(41),u=n(100),l=n(37),c=n(66),f=n(24)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,h,y,m,v){u(n,t,h);var g,b,_,w=function(e){if(!d&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",k="values"==y,C=!1,S=e.prototype,T=S[f]||S["@@iterator"]||y&&S[y],E=T||w(y),I=y?k?w("entries"):E:void 0,O="Array"==t&&S.entries||T;if(O&&(_=c(O.call(new e)))!==Object.prototype&&_.next&&(l(_,x,!0),r||"function"==typeof _[f]||a(_,f,p)),k&&T&&"values"!==T.name&&(C=!0,E=function(){return T.call(this)}),r&&!v||!d&&!C&&S[f]||a(S,f,E),s[t]=E,s[x]=p,y)if(g={values:k?E:w("values"),keys:m?E:w("keys"),entries:I},v)for(b in g)b in S||i(S,b,g[b]);else o(o.P+o.F*(d||C),t,g);return g}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(104)),o=a(n(89)),i="function"==typeof o.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof o.default&&"symbol"===i(r.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":i(e)}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(59),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(107),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){var r=n(26),o=n(20).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){e.exports=!n(21)&&!n(30)(function(){return 7!=Object.defineProperty(n(63)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(108);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(23),o=n(67),i=n(46)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(47);e.exports=function(e){return Object(r(e))}},function(e,t,n){e.exports={default:n(111),__esModule:!0}},function(e,t,n){"use strict";var r=n(50),o=n(49),i=n(128),a={};e.exports=function(e,t,n,s,u){for(var l in e)if(e.hasOwnProperty(l)){var c;try{r("function"==typeof e[l],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",s||"React class",n,l,typeof e[l]),c=e[l](t,l,s,n,null,i)}catch(e){c=e}if(o(!c||c instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",s||"React class",n,l,typeof c),c instanceof Error&&!(c.message in a)){a[c.message]=!0;var f=u?u():"";o(!1,"Failed %s type: %s%s",n,c.message,null!=f?f:"")}}}},function(e,t,n){"use strict";var r={};Object.freeze(r),e.exports=r},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))o.call(n,l)&&(s[l]=n[l]);if(r){a=r(n);for(var c=0;c<a.length;c++)i.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(68)),o=f(n(62)),i=f(n(61)),a=f(n(60)),s=f(n(51)),u=n(29),l=f(u),c=n(130);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){return l.default.createElement("div",null,"Rating ",this.props.nSQLdata)}}],[{key:"tables",value:function(){return[c.RATING_TABLE]}},{key:"onChange",value:function(e,t){console.log("message rating change event",e),(0,c.getRating)(this.props.userId,this.props.messageId).then(function(e){e.length>0?t(e[0].rating):t(0)})}}]),t}(u.PureComponent);t.default=d},function(e,t,n){var r=n(28);r(r.S,"Object",{create:n(40)})},function(e,t,n){n(73);var r=n(19).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){e.exports={default:n(74),__esModule:!0}},function(e,t,n){var r=n(26),o=n(31),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(65)(Function.call,n(52).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){var r=n(28);r(r.S,"Object",{setPrototypeOf:n(76).set})},function(e,t,n){n(77),e.exports=n(19).Object.setPrototypeOf},function(e,t,n){e.exports={default:n(78),__esModule:!0}},function(e,t,n){n(35)("observable")},function(e,t,n){n(35)("asyncIterator")},function(e,t){},function(e,t,n){var r=n(25),o=n(53).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,t,n){var r=n(55);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(39),o=n(54),i=n(34);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,s=n(e),u=i.f,l=0;s.length>l;)u.call(e,a=s[l++])&&t.push(a);return t}},function(e,t,n){var r=n(33)("meta"),o=n(26),i=n(23),a=n(22).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(30)(function(){return u(Object.preventExtensions({}))}),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return l&&f.NEED&&u(e)&&!i(e,r)&&c(e),e}}},function(e,t,n){"use strict";var r=n(20),o=n(23),i=n(21),a=n(28),s=n(57),u=n(86).KEY,l=n(30),c=n(45),f=n(37),d=n(33),p=n(24),h=n(36),y=n(35),m=n(85),v=n(84),g=n(31),b=n(26),_=n(25),w=n(44),x=n(32),k=n(40),C=n(83),S=n(52),T=n(22),E=n(39),I=S.f,O=T.f,P=C.f,R=r.Symbol,A=r.JSON,N=A&&A.stringify,M=p("_hidden"),L=p("toPrimitive"),q={}.propertyIsEnumerable,j=c("symbol-registry"),D=c("symbols"),F=c("op-symbols"),U=Object.prototype,W="function"==typeof R,B=r.QObject,H=!B||!B.prototype||!B.prototype.findChild,z=i&&l(function(){return 7!=k(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=I(U,t);r&&delete U[t],O(e,t,n),r&&e!==U&&O(U,t,r)}:O,V=function(e){var t=D[e]=k(R.prototype);return t._k=e,t},K=W&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},Q=function(e,t,n){return e===U&&Q(F,t,n),g(e),t=w(t,!0),g(n),o(D,t)?(n.enumerable?(o(e,M)&&e[M][t]&&(e[M][t]=!1),n=k(n,{enumerable:x(0,!1)})):(o(e,M)||O(e,M,x(1,{})),e[M][t]=!0),z(e,t,n)):O(e,t,n)},$=function(e,t){g(e);for(var n,r=m(t=_(t)),o=0,i=r.length;i>o;)Q(e,n=r[o++],t[n]);return e},G=function(e){var t=q.call(this,e=w(e,!0));return!(this===U&&o(D,e)&&!o(F,e))&&(!(t||!o(this,e)||!o(D,e)||o(this,M)&&this[M][e])||t)},Y=function(e,t){if(e=_(e),t=w(t,!0),e!==U||!o(D,t)||o(F,t)){var n=I(e,t);return!n||!o(D,t)||o(e,M)&&e[M][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=P(_(e)),r=[],i=0;n.length>i;)o(D,t=n[i++])||t==M||t==u||r.push(t);return r},X=function(e){for(var t,n=e===U,r=P(n?F:_(e)),i=[],a=0;r.length>a;)!o(D,t=r[a++])||n&&!o(U,t)||i.push(D[t]);return i};W||(s((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===U&&t.call(F,n),o(this,M)&&o(this[M],e)&&(this[M][e]=!1),z(this,e,x(1,n))};return i&&H&&z(U,e,{configurable:!0,set:t}),V(e)}).prototype,"toString",function(){return this._k}),S.f=Y,T.f=Q,n(53).f=C.f=J,n(34).f=G,n(54).f=X,i&&!n(42)&&s(U,"propertyIsEnumerable",G,!0),h.f=function(e){return V(p(e))}),a(a.G+a.W+a.F*!W,{Symbol:R});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)p(Z[ee++]);for(var te=E(p.store),ne=0;te.length>ne;)y(te[ne++]);a(a.S+a.F*!W,"Symbol",{for:function(e){return o(j,e+="")?j[e]:j[e]=R(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!W,"Object",{create:function(e,t){return void 0===t?k(e):$(k(e),t)},defineProperty:Q,defineProperties:$,getOwnPropertyDescriptor:Y,getOwnPropertyNames:J,getOwnPropertySymbols:X}),A&&a(a.S+a.F*(!W||l(function(){var e=R();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(b(t)||void 0!==e)&&!K(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!K(t))return t}),r[1]=t,N.apply(A,r)}}),R.prototype[L]||n(27)(R.prototype,L,R.prototype.valueOf),f(R,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){n(87),n(82),n(81),n(80),e.exports=n(19).Symbol},function(e,t,n){e.exports={default:n(88),__esModule:!0}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";var r=n(91),o=n(90),i=n(41),a=n(25);e.exports=n(58)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){n(92);for(var r=n(20),o=n(27),i=n(41),a=n(24)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var l=s[u],c=r[l],f=c&&c.prototype;f&&!f[a]&&o(f,a,l),i[l]=i.Array}},function(e,t,n){var r=n(20).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(43),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(43),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(25),o=n(96),i=n(95);e.exports=function(e){return function(t,n,a){var s,u=r(t),l=o(u.length),c=i(a,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(55);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(22),o=n(31),i=n(39);e.exports=n(21)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){"use strict";var r=n(40),o=n(32),i=n(37),a={};n(27)(a,n(24)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(43),o=n(47);e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),u=r(n),l=s.length;return u<0||u>=l?e?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):i:e?s.slice(u,u+2):a-56320+(i-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(101)(!0);n(58)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){n(102),n(93),e.exports=n(36).f("iterator")},function(e,t,n){e.exports={default:n(103),__esModule:!0}},function(e,t,n){var r=n(28);r(r.S+r.F*!n(21),"Object",{defineProperty:n(22).f})},function(e,t,n){n(105);var r=n(19).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){e.exports={default:n(106),__esModule:!0}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(28),o=n(19),i=n(30);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(67),o=n(66);n(109)("getPrototypeOf",function(){return function(e){return o(r(e))}})},function(e,t,n){n(110),e.exports=n(19).Object.getPrototypeOf},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(68)),o=f(n(62)),i=f(n(61)),a=f(n(60)),s=f(n(51)),u=n(29),l=f(u),c=n(5);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){return console.log("render",this.props.nSQLdata,t.Unavailable),l.default.createElement("div",null,"Account balance ",this.props.nSQLdata?this.props.nSQLdata:l.default.createElement(t.Unavailable,null))}}],[{key:"tables",value:function(){return[c.USER_TABLE]}},{key:"onChange",value:function(e,t){console.log("account status changed event",e);var n=(0,c.getBalanceById)(this.props.userId);console.log("account status query result",n),n.then(function(e){t(e.length>0?e[0].balance:null)})}},{key:"Unavailable",value:function(){return l.default.createElement("div",{className:"unavailable"},"Unavailable")}}]),t}(u.PureComponent);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.currentUser="anton"},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(29),s=n(3);t.bindNSQL=function(e,t){return function(n){function r(e){var t=n.call(this,e)||this;return t.state={data:void 0,isLoading:!0},t.updateState=t.updateState.bind(t),t}return o(r,n),r.prototype.componentWillMount=function(){if(t&&t.tables&&t.tables.length)this.tables=t.tables;else{if(!e.tables)throw Error("Need tables for nanoSQL HOC!");this.tables=e.tables()}if(t&&t.onChange)this.onChange=t.onChange;else{if(!e.onChange)throw Error("Need tables for nanoSQL HOC!");this.onChange=e.onChange}t&&t.store?this.store=t.store:this.store=s.nSQL();for(var n=this.store.sTable,r=this.tables.length;r--;)this.store.table(this.tables[r]).on("change",this.updateState),this.updateState({table:this.tables[r],query:{table:this.tables[r],action:null,actionArgs:null,state:"complete",result:[],comments:[]},time:Date.now(),notes:["mount"],result:[],types:["change"],actionOrView:"",affectedRows:[]});this.store.table(n)},r.prototype.componentWillUnmount=function(){for(var e=this.store.sTable,t=this.tables.length;t--;)this.store.table(this.tables[t]).off("change",this.updateState);this.store.table(e)},r.prototype.updateState=function(e){var t=this;this.setState({isLoading:!0},function(){t.onChange(e,function(e){t.setState({isLoading:!1,data:e})})})},r.prototype.render=function(){return a.createElement(e,i({nSQLloading:this.state.isLoading,nSQLdata:this.state.data},this.props))},r}(a.Component)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Rating=t.AccountStatus=void 0;var r=n(114),o=u(n(29)),i=n(113),a=u(n(112)),s=u(n(72));function u(e){return e&&e.__esModule?e:{default:e}}var l=(0,r.bindNSQL)(a.default);var c=(0,r.bindNSQL)(s.default);t.AccountStatus=function(){return o.default.createElement(l,{userId:i.currentUser})},t.Rating=c},function(e,t,n){"use strict";var r=/-(.)/g;e.exports=function(e){return e.replace(r,function(e,t){return t.toUpperCase()})}},function(e,t,n){"use strict";var r=n(116),o=/^-ms-/;e.exports=function(e){return r(e.replace(o,"ms-"))}},function(e,t,n){"use strict";var r=/([A-Z])/g;e.exports=function(e){return e.replace(r,"-$1").toLowerCase()}},function(e,t,n){"use strict";var r=n(118),o=/^ms-/;e.exports=function(e){return r(e).replace(o,"-ms-")}},function(e,t,n){"use strict";e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}},function(e,t,n){"use strict";var r=n(120);e.exports=function(e){return r(e)&&3==e.nodeType}},function(e,t,n){"use strict";var r=n(121);e.exports=function e(t,n){return!(!t||!n)&&(t===n||!r(t)&&(r(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(o(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!r.call(t,n[a])||!o(e[n[a]],t[n[a]]))return!1;return!0}},function(e,t,n){"use strict";e.exports=function(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=o},function(e,t,n){"use strict";
/** @license React v16.3.1
 * react-dom.development.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var t=n(29),r=n(50),o=n(49),i=n(125),a=n(71),s=n(48),u=n(69),l=n(124),c=n(123),f=n(122),d=n(70),p=n(119),h=n(117);t||r(!1,"ReactDOM was loaded before React. Make sure you load the React package before loading ReactDOM.");var y=function(e,t,n,r,o,i,a,s,u){this._hasCaughtError=!1,this._caughtError=null;var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this._caughtError=e,this._hasCaughtError=!0}};if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var m=document.createElement("react");y=function(e,t,n,o,i,a,s,u,l){"undefined"==typeof document&&r(!1,"The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var c=document.createEvent("Event"),f=!0,d=Array.prototype.slice.call(arguments,3);var p=void 0,h=!1,y=!1;function v(e){p=e.error,h=!0,null===p&&0===e.colno&&0===e.lineno&&(y=!0)}var g="react-"+(e||"invokeguardedcallback");window.addEventListener("error",v),m.addEventListener(g,function e(){m.removeEventListener(g,e,!1),t.apply(n,d),f=!1},!1),c.initEvent(g,!1,!1),m.dispatchEvent(c),f?(h?y&&(p=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://fb.me/react-crossorigin-error for more information.")):p=new Error("An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the \"Pause on exceptions\" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue."),this._hasCaughtError=!0,this._caughtError=p):(this._hasCaughtError=!1,this._caughtError=null),window.removeEventListener("error",v)}}var v=y,g={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(e,t,n,r,o,i,a,s,u){v.apply(g,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,n,r,o,i,a,s,u){if(g.invokeGuardedCallback.apply(this,arguments),g.hasCaughtError()){var l=g.clearCaughtError();g._hasRethrowError||(g._hasRethrowError=!0,g._rethrowError=l)}},rethrowCaughtError:function(){return b.apply(g,arguments)},hasCaughtError:function(){return g._hasCaughtError},clearCaughtError:function(){if(g._hasCaughtError){var e=g._caughtError;return g._caughtError=null,g._hasCaughtError=!1,e}r(!1,"clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}},b=function(){if(g._hasRethrowError){var e=g._rethrowError;throw g._rethrowError=null,g._hasRethrowError=!1,e}},_=null,w={};function x(){if(_)for(var e in w){var t=w[e],n=_.indexOf(e);if(n>-1||r(!1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",e),!S[n]){t.extractEvents||r(!1,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",e),S[n]=t;var o=t.eventTypes;for(var i in o)k(o[i],t,i)||r(!1,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",i,e)}}}function k(e,t,n){T.hasOwnProperty(n)&&r(!1,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",n),T[n]=e;var o=e.phasedRegistrationNames;if(o){for(var i in o){if(o.hasOwnProperty(i))C(o[i],t,n)}return!0}return!!e.registrationName&&(C(e.registrationName,t,n),!0)}function C(e,t,n){E[e]&&r(!1,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",e),E[e]=t,I[e]=t.eventTypes[n].dependencies;var o=e.toLowerCase();O[o]=e,"onDoubleClick"===e&&(O.ondblclick=e)}var S=[],T={},E={},I={},O={};function P(e){_&&r(!1,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."),_=Array.prototype.slice.call(e),x()}function R(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];w.hasOwnProperty(n)&&w[n]===o||(w[n]&&r(!1,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",n),w[n]=o,t=!0)}t&&x()}var A=Object.freeze({plugins:S,eventNameDispatchConfigs:T,registrationNameModules:E,registrationNameDependencies:I,possibleRegistrationNames:O,injectEventPluginOrder:P,injectEventPluginsByName:R}),N=null,M=null,L=null,q=function(e){N=e.getFiberCurrentPropsFromNode,M=e.getInstanceFromNode,L=e.getNodeFromInstance,o(L&&M,"EventPluginUtils.injection.injectComponentTree(...): Injected module is missing getNodeFromInstance or getInstanceFromNode.")},j=void 0;function D(e,t,n,r){var o=e.type||"unknown-event";e.currentTarget=L(r),g.invokeGuardedCallbackAndCatchFirstError(o,n,void 0,e),e.currentTarget=null}function F(e,t){return null==t&&r(!1,"accumulateInto(...): Accumulated items must not be null or undefined."),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function U(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}j=function(e){var t=e._dispatchListeners,n=e._dispatchInstances,r=Array.isArray(t),i=r?t.length:t?1:0,a=Array.isArray(n),s=a?n.length:n?1:0;o(a===r&&s===i,"EventPluginUtils: Invalid `event`.")};var W=null,B=function(e,t){e&&(!function(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(j(e),Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)D(e,0,n[o],r[o]);else n&&D(e,0,n,r);e._dispatchListeners=null,e._dispatchInstances=null}(e),e.isPersistent()||e.constructor.release(e))},H=function(e){return B(e)},z=function(e){return B(e)};var V={injectEventPluginOrder:P,injectEventPluginsByName:R};function K(e,t){var n,o=e.stateNode;if(!o)return null;var i=N(o);return i?(n=i[t],function(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||(r=t,"button"!==r&&"input"!==r&&"select"!==r&&"textarea"!==r));default:return!1}var r}(t,e.type,i)?null:(n&&"function"!=typeof n&&r(!1,"Expected `%s` listener to be a function, instead got a value of `%s` type.",t,typeof n),n)):null}function Q(e,t){null!==e&&(W=F(W,e));var n=W;W=null,n&&(U(n,t?H:z),W&&r(!1,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."),g.rethrowCaughtError())}function $(e,t,n,r){Q(function(e,t,n,r){for(var o=null,i=0;i<S.length;i++){var a=S[i];if(a){var s=a.extractEvents(e,t,n,r);s&&(o=F(o,s))}}return o}(e,t,n,r),!1)}var G=Object.freeze({injection:V,getListener:K,runEventsInBatch:Q,runExtractedEventsInBatch:$}),Y=0,J=1,X=2,Z=3,ee=4,te=5,ne=6,re=7,oe=8,ie=9,ae=10,se=11,ue=12,le=13,ce=14,fe=Math.random().toString(36).slice(2),de="__reactInternalInstance$"+fe,pe="__reactEventHandlers$"+fe;function he(e,t){t[de]=e}function ye(e){if(e[de])return e[de];for(;!e[de];){if(!e.parentNode)return null;e=e.parentNode}var t=e[de];return t.tag===te||t.tag===ne?t:null}function me(e){var t=e[de];return t&&(t.tag===te||t.tag===ne)?t:null}function ve(e){if(e.tag===te||e.tag===ne)return e.stateNode;r(!1,"getNodeFromInstance: Invalid argument.")}function ge(e){return e[pe]||null}function be(e,t){e[pe]=t}var _e=Object.freeze({precacheFiberNode:he,getClosestInstanceFromNode:ye,getInstanceFromNode:me,getNodeFromInstance:ve,getFiberCurrentPropsFromNode:ge,updateFiberProps:be});function we(e){do{e=e.return}while(e&&e.tag!==te);return e||null}function xe(e,t,n){for(var r=[];e;)r.push(e),e=we(e);var o=void 0;for(o=r.length;o-- >0;)t(r[o],"captured",n);for(o=0;o<r.length;o++)t(r[o],"bubbled",n)}function ke(e,t,n,r,o){for(var i=e&&t?function(e,t){for(var n=0,r=e;r;r=we(r))n++;for(var o=0,i=t;i;i=we(i))o++;for(;n-o>0;)e=we(e),n--;for(;o-n>0;)t=we(t),o--;for(var a=n;a--;){if(e===t||e===t.alternate)return e;e=we(e),t=we(t)}return null}(e,t):null,a=[];e&&e!==i;){var s=e.alternate;if(null!==s&&s===i)break;a.push(e),e=we(e)}for(var u=[];t&&t!==i;){var l=t.alternate;if(null!==l&&l===i)break;u.push(t),t=we(t)}for(var c=0;c<a.length;c++)n(a[c],"bubbled",r);for(var f=u.length;f-- >0;)n(u[f],"captured",o)}function Ce(e,t,n){o(e,"Dispatching inst must not be null");var r=function(e,t,n){return K(e,t.dispatchConfig.phasedRegistrationNames[n])}(e,n,t);r&&(n._dispatchListeners=F(n._dispatchListeners,r),n._dispatchInstances=F(n._dispatchInstances,e))}function Se(e){e&&e.dispatchConfig.phasedRegistrationNames&&xe(e._targetInst,Ce,e)}function Te(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;xe(t?we(t):null,Ce,e)}}function Ee(e,t,n){if(e&&n&&n.dispatchConfig.registrationName){var r=K(e,n.dispatchConfig.registrationName);r&&(n._dispatchListeners=F(n._dispatchListeners,r),n._dispatchInstances=F(n._dispatchInstances,e))}}function Ie(e){e&&e.dispatchConfig.registrationName&&Ee(e._targetInst,0,e)}function Oe(e){U(e,Se)}function Pe(e,t,n,r){ke(n,r,Ee,e,t)}var Re=Object.freeze({accumulateTwoPhaseDispatches:Oe,accumulateTwoPhaseDispatchesSkipTarget:function(e){U(e,Te)},accumulateEnterLeaveDispatches:Pe,accumulateDirectDispatches:function(e){U(e,Ie)}}),Ae=null;function Ne(){return!Ae&&i.canUseDOM&&(Ae="textContent"in document.documentElement?"textContent":"innerText"),Ae}var Me={_root:null,_startText:null,_fallbackText:null};function Le(){if(Me._fallbackText)return Me._fallbackText;var e=void 0,t=Me._startText,n=t.length,r=void 0,o=qe(),i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===o[i-r];r++);var s=r>1?1-r:void 0;return Me._fallbackText=o.slice(e,s),Me._fallbackText}function qe(){return"value"in Me._root?Me._root.value:Me._root[Ne()]}var je=!1,De=10,Fe=["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"],Ue={type:null,target:null,currentTarget:s.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function We(e,t,n,r){delete this.nativeEvent,delete this.preventDefault,delete this.stopPropagation,this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var o=this.constructor.Interface;for(var i in o)if(o.hasOwnProperty(i)){delete this[i];var a=o[i];a?this[i]=a(n):"target"===i?this.target=r:this[i]=n[i]}var u=null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue;return this.isDefaultPrevented=u?s.thatReturnsTrue:s.thatReturnsFalse,this.isPropagationStopped=s.thatReturnsFalse,this}function Be(e,t){var n="function"==typeof t;return{configurable:!0,set:function(e){return r(n?"setting the method":"setting the property","This is effectively a no-op"),e},get:function(){return r(n?"accessing the method":"accessing the property",n?"This is a no-op function":"This is set to null"),t}};function r(t,n){o(!1,"This synthetic event is reused for performance reasons. If you're seeing this, you're %s `%s` on a released/nullified synthetic event. %s. If you must keep the original synthetic event around, use event.persist(). See https://fb.me/react-event-pooling for more information.",t,e,n)}}function He(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function ze(e){e instanceof this||r(!1,"Trying to release an event instance  into a pool of a different type."),e.destructor(),this.eventPool.length<De&&this.eventPool.push(e)}function Ve(e){e.eventPool=[],e.getPooled=He,e.release=ze}a(We.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=s.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=s.thatReturnsTrue)},persist:function(){this.isPersistent=s.thatReturnsTrue},isPersistent:s.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)Object.defineProperty(this,t,Be(t,e[t]));for(var n=0;n<Fe.length;n++)this[Fe[n]]=null;Object.defineProperty(this,"nativeEvent",Be("nativeEvent",null)),Object.defineProperty(this,"preventDefault",Be("preventDefault",s)),Object.defineProperty(this,"stopPropagation",Be("stopPropagation",s))}}),We.Interface=Ue,We.extend=function(e){var t=this,n=function(){};n.prototype=t.prototype;var r=new n;function o(){return t.apply(this,arguments)}return a(r,o.prototype),o.prototype=r,o.prototype.constructor=o,o.Interface=a({},t.Interface,e),o.extend=t.extend,Ve(o),o},"function"==typeof Proxy&&!Object.isSealed(new Proxy({},{}))&&(We=new Proxy(We,{construct:function(e,t){return this.apply(e,Object.create(e.prototype),t)},apply:function(e,t,n){return new Proxy(e.apply(t,n),{set:function(e,t,n){return"isPersistent"===t||e.constructor.Interface.hasOwnProperty(t)||-1!==Fe.indexOf(t)||(o(je||e.isPersistent(),"This synthetic event is reused for performance reasons. If you're seeing this, you're adding a new property in the synthetic event object. The property is never released. See https://fb.me/react-event-pooling for more information."),je=!0),e[t]=n,!0}})}})),Ve(We);var Ke=We,Qe=Ke.extend({data:null}),$e=Ke.extend({data:null}),Ge=[9,13,27,32],Ye=229,Je=i.canUseDOM&&"CompositionEvent"in window,Xe=null;i.canUseDOM&&"documentMode"in document&&(Xe=document.documentMode);var Ze=i.canUseDOM&&"TextEvent"in window&&!Xe,et=i.canUseDOM&&(!Je||Xe&&Xe>8&&Xe<=11),tt=32,nt=String.fromCharCode(tt),rt={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},ot=!1;function it(e,t){switch(e){case"topKeyUp":return-1!==Ge.indexOf(t.keyCode);case"topKeyDown":return t.keyCode!==Ye;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function at(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}var st=!1;function ut(e,t,n,r){var o=void 0,i=void 0;if(Je?o=function(e){switch(e){case"topCompositionStart":return rt.compositionStart;case"topCompositionEnd":return rt.compositionEnd;case"topCompositionUpdate":return rt.compositionUpdate}}(e):st?it(e,n)&&(o=rt.compositionEnd):function(e,t){return"topKeyDown"===e&&t.keyCode===Ye}(e,n)&&(o=rt.compositionStart),!o)return null;et&&(st||o!==rt.compositionStart?o===rt.compositionEnd&&st&&(i=Le()):st=function(e){return Me._root=e,Me._startText=qe(),!0}(r));var a=Qe.getPooled(o,t,n,r);if(i)a.data=i;else{var s=at(n);null!==s&&(a.data=s)}return Oe(a),a}function lt(e,t){if(st){if("topCompositionEnd"===e||!Je&&it(e,t)){var n=Le();return Me._root=null,Me._startText=null,Me._fallbackText=null,st=!1,n}return null}switch(e){case"topPaste":return null;case"topKeyPress":if(!function(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}(t)){if(t.char&&t.char.length>1)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"topCompositionEnd":return et?null:t.data;default:return null}}function ct(e,t,n,r){var o=void 0;if(!(o=Ze?function(e,t){switch(e){case"topCompositionEnd":return at(t);case"topKeyPress":return t.which!==tt?null:(ot=!0,nt);case"topTextInput":var n=t.data;return n===nt&&ot?null:n;default:return null}}(e,n):lt(e,n)))return null;var i=$e.getPooled(rt.beforeInput,t,n,r);return i.data=o,Oe(i),i}var ft={eventTypes:rt,extractEvents:function(e,t,n,r){var o=ut(e,t,n,r),i=ct(e,t,n,r);return null===o?i:null===i?o:[o,i]}},dt=null,pt=null,ht=null;function yt(e){var t=M(e);if(t){dt&&"function"==typeof dt.restoreControlledState||r(!1,"Fiber needs to be injected to handle a fiber target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var n=N(t.stateNode);dt.restoreControlledState(t.stateNode,t.type,n)}}var mt={injectFiberControlledHostComponent:function(e){dt=e}};function vt(e){pt?ht?ht.push(e):ht=[e]:pt=e}function gt(){return null!==pt||null!==ht}function bt(){if(pt){var e=pt,t=ht;if(pt=null,ht=null,yt(e),t)for(var n=0;n<t.length;n++)yt(t[n])}}var _t=Object.freeze({injection:mt,enqueueStateRestore:vt,needsStateRestore:gt,restoreStateIfNeeded:bt}),wt=function(e,t){return e(t)},xt=function(e,t,n){return e(t,n)},kt=function(){},Ct=!1;function St(e,t){if(Ct)return e(t);Ct=!0;try{return wt(e,t)}finally{Ct=!1,gt()&&(kt(),bt())}}var Tt=function(e){wt=e.batchedUpdates,xt=e.interactiveUpdates,kt=e.flushInteractiveUpdates},Et={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function It(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Et[e.type]:"textarea"===t}var Ot=1,Pt=3,Rt=8,At=9,Nt=11;function Mt(e){var t=e.target||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===Pt?t.parentNode:t}
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Lt(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var o=document.createElement("div");o.setAttribute(n,"return;"),r="function"==typeof o[n]}return r}function qt(e){var t=e.type,n=e.nodeName;return n&&"input"===n.toLowerCase()&&("checkbox"===t||"radio"===t)}function jt(e){return e._valueTracker}function Dt(e){jt(e)||(e._valueTracker=function(e){var t=qt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"function"==typeof n.get&&"function"==typeof n.set)return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.get.call(this)},set:function(e){r=""+e,n.set.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){!function(e){e._valueTracker=null}(e),delete e[t]}}}(e))}function Ft(e){if(!e)return!1;var t=jt(e);if(!t)return!0;var n=t.getValue(),r=function(e){var t="";return e?t=qt(e)?e.checked?"true":"false":e.value:t}(e);return r!==n&&(t.setValue(r),!0)}var Ut=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wt=Ut.ReactCurrentOwner,Bt=Ut.ReactDebugCurrentFrame,Ht=function(e,t,n){return"\n    in "+(e||"Unknown")+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")},zt="function"==typeof Symbol&&Symbol.for,Vt=zt?Symbol.for("react.element"):60103,Kt=zt?Symbol.for("react.call"):60104,Qt=zt?Symbol.for("react.return"):60105,$t=zt?Symbol.for("react.portal"):60106,Gt=zt?Symbol.for("react.fragment"):60107,Yt=zt?Symbol.for("react.strict_mode"):60108,Jt=zt?Symbol.for("react.provider"):60109,Xt=zt?Symbol.for("react.context"):60110,Zt=zt?Symbol.for("react.async_mode"):60111,en=zt?Symbol.for("react.forward_ref"):60112,tn="function"==typeof Symbol&&Symbol.iterator,nn="@@iterator";function rn(e){if(null===e||void 0===e)return null;var t=tn&&e[tn]||e[nn];return"function"==typeof t?t:null}function on(e){var t=e.type;if("function"==typeof t)return t.displayName||t.name;if("string"==typeof t)return t;switch(t){case Gt:return"ReactFragment";case $t:return"ReactPortal";case Kt:return"ReactCall";case Qt:return"ReactReturn"}return null}function an(e){switch(e.tag){case Y:case J:case X:case te:var t=e._debugOwner,n=e._debugSource,r=on(e),o=null;return t&&(o=on(t)),Ht(r,n,o);default:return""}}function sn(e){var t="",n=e;do{t+=an(n),n=n.return}while(n);return t}function un(){var e=ln.current;return null===e?null:sn(e)}var ln={current:null,phase:null,resetCurrentFiber:function(){Bt.getCurrentStack=null,ln.current=null,ln.phase=null},setCurrentFiber:function(e){Bt.getCurrentStack=un,ln.current=e,ln.phase=null},setCurrentPhase:function(e){ln.phase=e},getCurrentFiberOwnerName:function(){var e=ln.current;if(null===e)return null;var t=e._debugOwner;return null!==t&&void 0!==t?on(t):null},getCurrentFiberStackAddendum:un},cn=0,fn=2,dn=3,pn=4,hn=5,yn=6,mn=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",vn=mn+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",gn="data-reactroot",bn=new RegExp("^["+mn+"]["+vn+"]*$"),_n={},wn={};function xn(e){return!!wn.hasOwnProperty(e)||!_n.hasOwnProperty(e)&&(bn.test(e)?(wn[e]=!0,!0):(_n[e]=!0,o(!1,"Invalid attribute name: `%s`",e),!1))}function kn(e,t,n){return null!==t?t.type===cn:!n&&(e.length>2&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))}function Cn(e,t,n,r){if(null!==n&&n.type===cn)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(r)return!1;if(null!==n)return!n.acceptsBooleans;var o=e.toLowerCase().slice(0,5);return"data-"!==o&&"aria-"!==o;default:return!1}}function Sn(e,t,n,r){if(null===t||void 0===t)return!0;if(Cn(e,t,n,r))return!0;if(null!==n)switch(n.type){case dn:return!t;case pn:return!1===t;case hn:return isNaN(t);case yn:return isNaN(t)||t<1}return!1}function Tn(e){return In.hasOwnProperty(e)?In[e]:null}function En(e,t,n,r,o){this.acceptsBooleans=t===fn||t===dn||t===pn,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t}var In={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(function(e){In[e]=new En(e,cn,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0],n=e[1];In[t]=new En(t,1,!1,n,null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){In[e]=new En(e,fn,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(e){In[e]=new En(e,fn,!1,e,null)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(e){In[e]=new En(e,dn,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){In[e]=new En(e,dn,!0,e.toLowerCase(),null)}),["capture","download"].forEach(function(e){In[e]=new En(e,pn,!1,e.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(e){In[e]=new En(e,yn,!1,e.toLowerCase(),null)}),["rowSpan","start"].forEach(function(e){In[e]=new En(e,hn,!1,e.toLowerCase(),null)});var On=/[\-\:]([a-z])/g,Pn=function(e){return e[1].toUpperCase()};function Rn(e,t,n,r){if(r.mustUseProperty)return e[r.propertyName];var o=r.attributeName,i=null;if(r.type===pn){if(e.hasAttribute(o)){var a=e.getAttribute(o);return""===a||(Sn(t,n,r,!1)?a:a===""+n?n:a)}}else if(e.hasAttribute(o)){if(Sn(t,n,r,!1))return e.getAttribute(o);if(r.type===dn)return n;i=e.getAttribute(o)}return Sn(t,n,r,!1)?null===i?n:i:i===""+n?n:i}function An(e,t,n){if(xn(t)){if(!e.hasAttribute(t))return void 0===n?void 0:null;var r=e.getAttribute(t);return r===""+n?n:r}}function Nn(e,t,n,r){var o=Tn(t);if(!kn(t,o,r))if(Sn(t,n,o,r)&&(n=null),r||null===o){if(xn(t)){var i=t;null===n?e.removeAttribute(i):e.setAttribute(i,""+n)}}else if(o.mustUseProperty){var a=o.propertyName;if(null===n){var s=o.type;e[a]=s!==dn&&""}else e[a]=n}else{var u=o.attributeName,l=o.attributeNamespace;if(null===n)e.removeAttribute(u);else{var c=o.type,f=void 0;f=c===dn||c===pn&&!0===n?"":""+n,l?e.setAttributeNS(l,u,f):e.setAttribute(u,f)}}}["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(e){var t=e.replace(On,Pn);In[t]=new En(t,1,!1,e,null)}),["xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(e){var t=e.replace(On,Pn);In[t]=new En(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(On,Pn);In[t]=new En(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),In.tabIndex=new En("tabIndex",1,!1,"tabindex",null);var Mn={checkPropTypes:null},Ln={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},qn={value:function(e,t,n){return!e[t]||Ln[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}};Mn.checkPropTypes=function(e,t,n){u(qn,t,"prop",e,n)};var jn=ln.getCurrentFiberOwnerName,Dn=ln.getCurrentFiberStackAddendum,Fn=!1,Un=!1,Wn=!1,Bn=!1;function Hn(e){return"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}function zn(e,t){var n=e,r=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:n._wrapperState.initialChecked})}function Vn(e,t){Mn.checkPropTypes("input",t,Dn),void 0===t.checked||void 0===t.defaultChecked||Un||(o(!1,"%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://fb.me/react-controlled-components",jn()||"A component",t.type),Un=!0),void 0===t.value||void 0===t.defaultValue||Fn||(o(!1,"%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://fb.me/react-controlled-components",jn()||"A component",t.type),Fn=!0);var n=e,r=null==t.defaultValue?"":t.defaultValue;n._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:Jn(null!=t.value?t.value:r),controlled:Hn(t)}}function Kn(e,t){var n=e,r=t.checked;null!=r&&Nn(n,"checked",r,!1)}function Qn(e,t){var n=e,r=Hn(t);n._wrapperState.controlled||!r||Bn||(o(!1,"A component is changing an uncontrolled input of type %s to be controlled. Input elements should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://fb.me/react-controlled-components%s",t.type,Dn()),Bn=!0),!n._wrapperState.controlled||r||Wn||(o(!1,"A component is changing a controlled input of type %s to be uncontrolled. Input elements should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://fb.me/react-controlled-components%s",t.type,Dn()),Wn=!0),Kn(e,t);var i=Jn(t.value);null!=i&&("number"===t.type?(0===i&&""===n.value||n.value!=i)&&(n.value=""+i):n.value!==""+i&&(n.value=""+i)),t.hasOwnProperty("value")?Yn(n,t.type,i):t.hasOwnProperty("defaultValue")&&Yn(n,t.type,Jn(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(n.defaultChecked=!!t.defaultChecked)}function $n(e,t){var n=e;(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue"))&&(""===n.value&&(n.value=""+n._wrapperState.initialValue),n.defaultValue=""+n._wrapperState.initialValue);var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}function Gn(e,t){var n=e;Qn(n,t),function(e,t){var n=t.name;if("radio"===t.type&&null!=n){for(var o=e;o.parentNode;)o=o.parentNode;for(var i=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),a=0;a<i.length;a++){var s=i[a];if(s!==e&&s.form===e.form){var u=ge(s);u||r(!1,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported."),Ft(s),Qn(s,u)}}}}(n,t)}function Yn(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Jn(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}var Xn={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}};function Zn(e,t,n){var r=Ke.getPooled(Xn.change,e,t,n);return r.type="change",vt(n),Oe(r),r}var er=null,tr=null;function nr(e){Q(e,!1)}function rr(e){if(Ft(ve(e)))return e}function or(e,t){if("topChange"===e)return t}var ir=!1;function ar(){er&&(er.detachEvent("onpropertychange",sr),er=null,tr=null)}function sr(e){"value"===e.propertyName&&rr(tr)&&function(e){St(nr,Zn(tr,e,Mt(e)))}(e)}function ur(e,t,n){"topFocus"===e?(ar(),function(e,t){tr=t,(er=e).attachEvent("onpropertychange",sr)}(t,n)):"topBlur"===e&&ar()}function lr(e,t){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return rr(tr)}function cr(e,t){if("topClick"===e)return rr(t)}function fr(e,t){if("topInput"===e||"topChange"===e)return rr(t)}i.canUseDOM&&(ir=Lt("input")&&(!document.documentMode||document.documentMode>9));var dr={eventTypes:Xn,_isInputEventSupported:ir,extractEvents:function(e,t,n,r){var o,i,a=t?ve(t):window,s=void 0,u=void 0;if("select"===(i=(o=a).nodeName&&o.nodeName.toLowerCase())||"input"===i&&"file"===o.type?s=or:It(a)?ir?s=fr:(s=lr,u=ur):function(e){var t=e.nodeName;return t&&"input"===t.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}(a)&&(s=cr),s){var l=s(e,t);if(l)return Zn(l,n,r)}u&&u(e,a,t),"topBlur"===e&&function(e,t){if(null!=e){var n=e._wrapperState||t._wrapperState;n&&n.controlled&&"number"===t.type&&Yn(t,"number",t.value)}}(t,a)}},pr=Ke.extend({view:null,detail:null}),hr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yr(e){var t=this.nativeEvent;if(t.getModifierState)return t.getModifierState(e);var n=hr[e];return!!n&&!!t[n]}function mr(e){return yr}var vr=pr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:mr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}}),gr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},br={eventTypes:gr,extractEvents:function(e,t,n,r){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement))return null;if("topMouseOut"!==e&&"topMouseOver"!==e)return null;var o=void 0;if(r.window===r)o=r;else{var i=r.ownerDocument;o=i?i.defaultView||i.parentWindow:window}var a=void 0,s=void 0;if("topMouseOut"===e){a=t;var u=n.relatedTarget||n.toElement;s=u?ye(u):null}else a=null,s=t;if(a===s)return null;var l=null==a?o:ve(a),c=null==s?o:ve(s),f=vr.getPooled(gr.mouseLeave,a,n,r);f.type="mouseleave",f.target=l,f.relatedTarget=c;var d=vr.getPooled(gr.mouseEnter,s,n,r);return d.type="mouseenter",d.target=c,d.relatedTarget=l,Pe(f,d,a,s),[f,d]}};function _r(e){return e._reactInternalFiber}var wr=0,xr=1,kr=2,Cr=4,Sr=6,Tr=8,Er=16,Ir=32,Or=64,Pr=128,Rr=256,Ar=2048,Nr=2559,Mr=512,Lr=1024,qr=1,jr=2,Dr=3;function Fr(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if((t.effectTag&kr)!==wr)return qr;for(;t.return;)if(((t=t.return).effectTag&kr)!==wr)return qr}return t.tag===Z?jr:Dr}function Ur(e){return Fr(e)===jr}function Wr(e){var t=Wt.current;if(null!==t&&t.tag===X){var n=t,r=n.stateNode;o(r._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",on(n)||"A component"),r._warnedAboutRefsInRender=!0}var i=_r(e);return!!i&&Fr(i)===jr}function Br(e){Fr(e)!==jr&&r(!1,"Unable to find node on an unmounted component.")}function Hr(e){var t=e.alternate;if(!t){var n=Fr(e);return n===Dr&&r(!1,"Unable to find node on an unmounted component."),n===qr?null:e}for(var o=e,i=t;;){var a=o.return,s=a?a.alternate:null;if(!a||!s)break;if(a.child===s.child){for(var u=a.child;u;){if(u===o)return Br(a),e;if(u===i)return Br(a),t;u=u.sibling}r(!1,"Unable to find node on an unmounted component.")}if(o.return!==i.return)o=a,i=s;else{for(var l=!1,c=a.child;c;){if(c===o){l=!0,o=a,i=s;break}if(c===i){l=!0,i=a,o=s;break}c=c.sibling}if(!l){for(c=s.child;c;){if(c===o){l=!0,o=s,i=a;break}if(c===i){l=!0,i=s,o=a;break}c=c.sibling}l||r(!1,"Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}o.alternate!==i&&r(!1,"Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}return o.tag!==Z&&r(!1,"Unable to find node on an unmounted component."),o.stateNode.current===o?e:t}var zr=Ke.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Vr=Ke.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kr=pr.extend({relatedTarget:null});function Qr(e){var t=void 0,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,10===t&&(t=13),t>=32||13===t?t:0}var $r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};var Yr=pr.extend({key:function(e){if(e.key){var t=$r[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=Qr(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?Gr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:mr,charCode:function(e){return"keypress"===e.type?Qr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Jr=vr.extend({dataTransfer:null}),Xr=pr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:mr}),Zr=Ke.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),eo=vr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),to={},no={};function ro(e,t){var n=e[0].toUpperCase()+e.slice(1),r="on"+n,o="top"+n,i={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[o],isInteractive:t};to[e]=i,no[o]=i}["blur","cancel","click","close","contextMenu","copy","cut","doubleClick","dragEnd","dragStart","drop","focus","input","invalid","keyDown","keyPress","keyUp","mouseDown","mouseUp","paste","pause","play","rateChange","reset","seeked","submit","touchCancel","touchEnd","touchStart","volumeChange"].forEach(function(e){ro(e,!0)}),["abort","animationEnd","animationIteration","animationStart","canPlay","canPlayThrough","drag","dragEnter","dragExit","dragLeave","dragOver","durationChange","emptied","encrypted","ended","error","load","loadedData","loadedMetadata","loadStart","mouseMove","mouseOut","mouseOver","playing","progress","scroll","seeking","stalled","suspend","timeUpdate","toggle","touchMove","transitionEnd","waiting","wheel"].forEach(function(e){ro(e,!1)});var oo=["topAbort","topCancel","topCanPlay","topCanPlayThrough","topClose","topDurationChange","topEmptied","topEncrypted","topEnded","topError","topInput","topInvalid","topLoad","topLoadedData","topLoadedMetadata","topLoadStart","topPause","topPlay","topPlaying","topProgress","topRateChange","topReset","topSeeked","topSeeking","topStalled","topSubmit","topSuspend","topTimeUpdate","topToggle","topVolumeChange","topWaiting"],io={eventTypes:to,isInteractiveTopLevelEventType:function(e){var t=no[e];return void 0!==t&&!0===t.isInteractive},extractEvents:function(e,t,n,r){var i=no[e];if(!i)return null;var a=void 0;switch(e){case"topKeyPress":if(0===Qr(n))return null;case"topKeyDown":case"topKeyUp":a=Yr;break;case"topBlur":case"topFocus":a=Kr;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":a=vr;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":a=Jr;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":a=Xr;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":a=zr;break;case"topTransitionEnd":a=Zr;break;case"topScroll":a=pr;break;case"topWheel":a=eo;break;case"topCopy":case"topCut":case"topPaste":a=Vr;break;default:-1===oo.indexOf(e)&&o(!1,"SimpleEventPlugin: Unhandled event type, `%s`. This warning is likely caused by a bug in React. Please file an issue.",e),a=Ke}var s=a.getPooled(i,t,n,r);return Oe(s),s}},ao=io.isInteractiveTopLevelEventType,so=10,uo=[];function lo(e){for(;e.return;)e=e.return;return e.tag!==Z?null:e.stateNode.containerInfo}function co(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=lo(n);if(!r)break;e.ancestors.push(n),n=ye(r)}while(n);for(var o=0;o<e.ancestors.length;o++)t=e.ancestors[o],$(e.topLevelType,t,e.nativeEvent,Mt(e.nativeEvent))}var fo=!0;function po(e){fo=!!e}function ho(){return fo}function yo(e,t,n){if(!n)return null;!function(e,t,n){e.addEventListener(t,n,!1)}(n,t,(ao(e)?vo:go).bind(null,e))}function mo(e,t,n){if(!n)return null;!function(e,t,n){e.addEventListener(t,n,!0)}(n,t,(ao(e)?vo:go).bind(null,e))}function vo(e,t){xt(go,e,t)}function go(e,t){if(fo){var n=ye(Mt(t));null===n||"number"!=typeof n.tag||Ur(n)||(n=null);var r,o=function(e,t,n){if(uo.length){var r=uo.pop();return r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,r}return{topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]}}(e,t,n);try{St(co,o)}finally{(r=o).topLevelType=null,r.nativeEvent=null,r.targetInst=null,r.ancestors.length=0,uo.length<so&&uo.push(r)}}}var bo=Object.freeze({get _enabled(){return fo},setEnabled:po,isEnabled:ho,trapBubbledEvent:yo,trapCapturedEvent:mo,dispatchEvent:go});function _o(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}var wo={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionend:_o("Transition","TransitionEnd")},xo={},ko={};function Co(e){if(xo[e])return xo[e];if(!wo[e])return e;var t=wo[e];for(var n in t)if(t.hasOwnProperty(n)&&n in ko)return xo[e]=t[n];return e}i.canUseDOM&&(ko=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);var So={topAnimationEnd:Co("animationend"),topAnimationIteration:Co("animationiteration"),topAnimationStart:Co("animationstart"),topBlur:"blur",topCancel:"cancel",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoad:"load",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:Co("transitionend"),topWheel:"wheel"},To={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Eo={},Io=0,Oo="_reactListenersID"+(""+Math.random()).slice(2);function Po(e){return Object.prototype.hasOwnProperty.call(e,Oo)||(e[Oo]=Io++,Eo[e[Oo]]={}),Eo[e[Oo]]}function Ro(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ao(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function No(e,t){for(var n=Ro(e),r=0,o=0;n;){if(n.nodeType===Pt){if(o=r+n.textContent.length,r<=t&&o>=t)return{node:n,offset:t-r};r=o}n=Ro(Ao(n))}}function Mo(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,r=t.anchorOffset,o=t.focusNode,i=t.focusOffset;try{n.nodeType,o.nodeType}catch(e){return null}return function(e,t,n,r,o){var i=0,a=-1,s=-1,u=0,l=0,c=e,f=null;e:for(;;){for(var d=null;c!==t||0!==n&&c.nodeType!==Pt||(a=i+n),c!==r||0!==o&&c.nodeType!==Pt||(s=i+o),c.nodeType===Pt&&(i+=c.nodeValue.length),null!==(d=c.firstChild);)f=c,c=d;for(;;){if(c===e)break e;if(f===t&&++u===n&&(a=i),f===r&&++l===o&&(s=i),null!==(d=c.nextSibling))break;f=(c=f).parentNode}c=d}if(-1===a||-1===s)return null;return{start:a,end:s}}(e,n,r,o,i)}function Lo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)}function qo(){var e=l();return{focusedElem:e,selectionRange:Lo(e)?function(e){var t=void 0;t="selectionStart"in e?{start:e.selectionStart,end:e.selectionEnd}:Mo(e);return t||{start:0,end:0}}(e):null}}function jo(e){var t,n=l(),r=e.focusedElem,o=e.selectionRange;if(n!==r&&(t=r,f(document.documentElement,t))){Lo(r)&&function(e,t){var n=t.start,r=t.end;void 0===r&&(r=n);"selectionStart"in e?(e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length)):function(e,t){if(window.getSelection){var n=window.getSelection(),r=e[Ne()].length,o=Math.min(t.start,r),i=void 0===t.end?o:Math.min(t.end,r);if(!n.extend&&o>i){var a=i;i=o,o=a}var s=No(e,o),u=No(e,i);if(s&&u){if(1===n.rangeCount&&n.anchorNode===s.node&&n.anchorOffset===s.offset&&n.focusNode===u.node&&n.focusOffset===u.offset)return;var l=document.createRange();l.setStart(s.node,s.offset),n.removeAllRanges(),o>i?(n.addRange(l),n.extend(u.node,u.offset)):(l.setEnd(u.node,u.offset),n.addRange(l))}}}(e,t)}(r,o);for(var i=[],a=r;a=a.parentNode;)a.nodeType===Ot&&i.push({element:a,left:a.scrollLeft,top:a.scrollTop});r.focus();for(var s=0;s<i.length;s++){var u=i[s];u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}}var Do=i.canUseDOM&&"documentMode"in document&&document.documentMode<=11,Fo={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},Uo=null,Wo=null,Bo=null,Ho=!1;function zo(e,t){if(Ho||null==Uo||Uo!==l())return null;var n=function(e){if("selectionStart"in e&&Lo(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}}(Uo);if(!Bo||!c(Bo,n)){Bo=n;var r=Ke.getPooled(Fo.select,Wo,e,t);return r.type="select",r.target=Uo,Oe(r),r}return null}var Vo={eventTypes:Fo,extractEvents:function(e,t,n,r){var o=r.window===r?r.document:r.nodeType===At?r:r.ownerDocument;if(!o||!function(e,t){for(var n=Po(t),r=I[e],o=0;o<r.length;o++){var i=r[o];if(!n.hasOwnProperty(i)||!n[i])return!1}return!0}("onSelect",o))return null;var i=t?ve(t):window;switch(e){case"topFocus":(It(i)||"true"===i.contentEditable)&&(Uo=i,Wo=t,Bo=null);break;case"topBlur":Uo=null,Wo=null,Bo=null;break;case"topMouseDown":Ho=!0;break;case"topContextMenu":case"topMouseUp":return Ho=!1,zo(n,r);case"topSelectionChange":if(Do)break;case"topKeyDown":case"topKeyUp":return zo(n,r)}return null}};V.injectEventPluginOrder(["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"]),q(_e),V.injectEventPluginsByName({SimpleEventPlugin:io,EnterLeaveEventPlugin:br,ChangeEventPlugin:dr,SelectEventPlugin:Vo,BeforeInputEventPlugin:ft});var Ko=1073741823,Qo=0,$o=1,Go=Ko,Yo=10,Jo=2;function Xo(e){return(e/Yo|0)+Jo}function Zo(e){return(e-Jo)*Yo}function ei(e,t,n){return(1+((e+t/Yo)/(r=n/Yo)|0))*r;var r}var ti=0,ni=1,ri=2,oi=void 0;oi=!1;try{var ii=Object.preventExtensions({}),ai=new Map([[ii,null]]),si=new Set([ii]);ai.set(0,0),si.add(0)}catch(e){oi=!0}var ui=void 0;ui=1;var li=function(e,t,n,r){return new function(e,t,n,r){this.tag=e,this.key=n,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.mode=r,this.effectTag=wr,this.nextEffect=null,this.firstEffect=null,this.lastEffect=null,this.expirationTime=Qo,this.alternate=null,this._debugID=ui++,this._debugSource=null,this._debugOwner=null,this._debugIsCurrentlyTiming=!1,oi||"function"!=typeof Object.preventExtensions||Object.preventExtensions(this)}(e,t,n,r)};function ci(e,t,n){var r=e.alternate;return null===r?((r=li(e.tag,t,e.key,e.mode)).type=e.type,r.stateNode=e.stateNode,r._debugID=e._debugID,r._debugSource=e._debugSource,r._debugOwner=e._debugOwner,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=wr,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function fi(e,t,n){var r;r=e._owner;var o,i=void 0,a=e.type,s=e.key,u=e.props,l=void 0;if("function"==typeof a)l=(o=a).prototype&&o.prototype.isReactComponent?X:Y;else if("string"==typeof a)l=te;else switch(a){case Gt:return pi(u.children,t,n,s);case Zt:l=se,t|=ni|ri;break;case Yt:l=se,t|=ri;break;case Kt:l=re;break;case Qt:l=ie;break;default:if("object"==typeof a&&null!==a)switch(a.$$typeof){case Jt:l=le;break;case Xt:l=ue;break;case en:l=ce;break;default:if("number"==typeof a.tag)return(i=a).pendingProps=u,i.expirationTime=n,i;di(a,r)}else di(a,r)}return(i=li(l,u,s,t)).type=a,i.expirationTime=n,i._debugSource=e._source,i._debugOwner=e._owner,i}function di(e,t){var n="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(n+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var o=t?on(t):null;o&&(n+="\n\nCheck the render method of `"+o+"`."),r(!1,"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",null==e?e:typeof e,n)}function pi(e,t,n,r){var o=li(ae,e,r,t);return o.expirationTime=n,o}function hi(e,t,n){var r=li(ne,e,null,t);return r.expirationTime=n,r}function yi(e,t,n){var r=null!==e.children?e.children:[],o=li(ee,r,e.key,t);return o.expirationTime=n,o.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},o}function mi(e,t){return null===e&&(e=li(Y,null,null,ti)),e.tag=t.tag,e.key=t.key,e.type=t.type,e.stateNode=t.stateNode,e.return=t.return,e.child=t.child,e.sibling=t.sibling,e.index=t.index,e.ref=t.ref,e.pendingProps=t.pendingProps,e.memoizedProps=t.memoizedProps,e.updateQueue=t.updateQueue,e.memoizedState=t.memoizedState,e.mode=t.mode,e.effectTag=t.effectTag,e.nextEffect=t.nextEffect,e.firstEffect=t.firstEffect,e.lastEffect=t.lastEffect,e.expirationTime=t.expirationTime,e.alternate=t.alternate,e._debugID=t._debugID,e._debugSource=t._debugSource,e._debugOwner=t._debugOwner,e._debugIsCurrentlyTiming=t._debugIsCurrentlyTiming,e}function vi(e,t,n){var r=function(e){return li(Z,null,null,e?ni|ri:ti)}(t),o={current:r,containerInfo:e,pendingChildren:null,pendingCommitExpirationTime:Qo,finishedWork:null,context:null,pendingContext:null,hydrate:n,remainingExpirationTime:Qo,firstBatch:null,nextScheduledRoot:null};return r.stateNode=o,o}var gi=null,bi=null,_i=!1;function wi(e){return function(t){try{return e(t)}catch(e){_i||(_i=!0,o(!1,"React DevTools encountered an error: %s",e))}}}function xi(e){"function"==typeof gi&&gi(e)}function ki(e){"function"==typeof bi&&bi(e)}var Ci=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(!e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i="Warning: "+e.replace(/%s/g,function(){return n[o++]});"undefined"!=typeof console&&console.warn(i);try{throw new Error(i)}catch(e){}}).apply(void 0,[t].concat(r))}},Si={discardPendingWarnings:function(){},flushPendingDeprecationWarnings:function(){},flushPendingUnsafeLifecycleWarnings:function(){},recordDeprecationWarnings:function(e,t){},recordUnsafeLifecycleWarnings:function(e,t){}},Ti={UNSAFE_componentWillMount:"componentDidMount",UNSAFE_componentWillReceiveProps:"static getDerivedStateFromProps",UNSAFE_componentWillUpdate:"componentDidUpdate"},Ei=[],Ii=[],Oi=[],Pi=new Map,Ri=new Set,Ai=new Set;Si.discardPendingWarnings=function(){Ei=[],Ii=[],Oi=[],Pi=new Map},Si.flushPendingUnsafeLifecycleWarnings=function(){Pi.forEach(function(e,t){var n=[];if(Object.keys(e).forEach(function(t){var r=e[t];if(r.length>0){var o=new Set;r.forEach(function(e){o.add(on(e)||"Component"),Ai.add(e.type)});var i=t.replace("UNSAFE_",""),a=Ti[t],s=Array.from(o).sort().join(", ");n.push(i+": Please update the following components to use "+a+" instead: "+s)}}),n.length>0){var r=sn(t);o(!1,"Unsafe lifecycle methods were found within a strict-mode tree:%s\n\n%s\n\nLearn more about this warning here:\nhttps://fb.me/react-strict-mode-warnings",r,n.join("\n\n"))}}),Pi=new Map};Si.flushPendingDeprecationWarnings=function(){if(Ei.length>0){var e=new Set;Ei.forEach(function(t){e.add(on(t)||"Component"),Ri.add(t.type)});var t=Array.from(e).sort().join(", ");Ci(!1,"componentWillMount is deprecated and will be removed in the next major version. Use componentDidMount instead. As a temporary workaround, you can rename to UNSAFE_componentWillMount.\n\nPlease update the following components: %s\n\nLearn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks",t),Ei=[]}if(Ii.length>0){var n=new Set;Ii.forEach(function(e){n.add(on(e)||"Component"),Ri.add(e.type)});var r=Array.from(n).sort().join(", ");Ci(!1,"componentWillReceiveProps is deprecated and will be removed in the next major version. Use static getDerivedStateFromProps instead.\n\nPlease update the following components: %s\n\nLearn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks",r),Ii=[]}if(Oi.length>0){var o=new Set;Oi.forEach(function(e){o.add(on(e)||"Component"),Ri.add(e.type)});var i=Array.from(o).sort().join(", ");Ci(!1,"componentWillUpdate is deprecated and will be removed in the next major version. Use componentDidUpdate instead. As a temporary workaround, you can rename to UNSAFE_componentWillUpdate.\n\nPlease update the following components: %s\n\nLearn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks",i),Oi=[]}},Si.recordDeprecationWarnings=function(e,t){Ri.has(e.type)||("function"==typeof t.componentWillMount&&!0!==t.componentWillMount.__suppressDeprecationWarning&&Ei.push(e),"function"==typeof t.componentWillReceiveProps&&!0!==t.componentWillReceiveProps.__suppressDeprecationWarning&&Ii.push(e),"function"==typeof t.componentWillUpdate&&!0!==t.componentWillUpdate.__suppressDeprecationWarning&&Oi.push(e))},Si.recordUnsafeLifecycleWarnings=function(e,t){var n=function(e){for(var t=null;null!==e;)e.mode&ri&&(t=e),e=e.return;return t}(e);if(!Ai.has(e.type)&&("function"!=typeof t.componentWillMount||!0!==t.componentWillMount.__suppressDeprecationWarning)){var r=void 0;Pi.has(n)?r=Pi.get(n):(r={UNSAFE_componentWillMount:[],UNSAFE_componentWillReceiveProps:[],UNSAFE_componentWillUpdate:[]},Pi.set(n,r));var o=[];"function"!=typeof t.componentWillMount&&"function"!=typeof t.UNSAFE_componentWillMount||o.push("UNSAFE_componentWillMount"),"function"!=typeof t.componentWillReceiveProps&&"function"!=typeof t.UNSAFE_componentWillReceiveProps||o.push("UNSAFE_componentWillReceiveProps"),"function"!=typeof t.componentWillUpdate&&"function"!=typeof t.UNSAFE_componentWillUpdate||o.push("UNSAFE_componentWillUpdate"),o.length>0&&o.forEach(function(t){r[t].push(e)})}};var Ni=!0,Mi=!0,Li=!1,qi=!1,ji=!1,Di=!0,Fi=!0,Ui=!1,Wi="undefined"!=typeof performance&&"function"==typeof performance.mark&&"function"==typeof performance.clearMarks&&"function"==typeof performance.measure&&"function"==typeof performance.clearMeasures,Bi=null,Hi=null,zi=null,Vi=!1,Ki=!1,Qi=!1,$i=0,Gi=0,Yi=!1,Ji=new Set,Xi=function(e){return" "+e},Zi=function(e){performance.mark(Xi(e))},ea=function(e,t,n){var r=Xi(t),o=function(e,t){return(t?" ":" ")+e+(t?" Warning: "+t:"")}(e,n);try{performance.measure(o,r)}catch(e){}performance.clearMarks(r),performance.clearMeasures(o)},ta=function(e,t){return e+" (#"+t+")"},na=function(e,t,n){return null===n?e+" ["+(t?"update":"mount")+"]":e+"."+n},ra=function(e,t){var n=on(e)||"Unknown",r=e._debugID,o=null!==e.alternate,i=na(n,o,t);if(Vi&&Ji.has(i))return!1;Ji.add(i);var a=ta(i,r);return Zi(a),!0},oa=function(e,t){var n=on(e)||"Unknown",r=e._debugID,o=null!==e.alternate,i=na(n,o,t);!function(e){performance.clearMarks(Xi(e))}(ta(i,r))},ia=function(e,t,n){var r=on(e)||"Unknown",o=e._debugID,i=null!==e.alternate,a=na(r,i,t),s=ta(a,o);ea(a,s,n)},aa=function(e){switch(e.tag){case Z:case te:case ne:case ee:case re:case ie:case ae:case le:case ue:return!0;default:return!1}},sa=function(){null!==Hi&&null!==zi&&oa(zi,Hi),zi=null,Hi=null,Qi=!1},ua=function(){for(var e=Bi;e;)e._debugIsCurrentlyTiming&&ia(e,null,null),e=e.return},la=function(e){null!==e.return&&la(e.return),e._debugIsCurrentlyTiming&&ra(e,null)},ca=function(){null!==Bi&&la(Bi)};function fa(){Ni&&Gi++}function da(){Ni&&(Vi&&(Ki=!0),null!==Hi&&"componentWillMount"!==Hi&&"componentWillReceiveProps"!==Hi&&(Qi=!0))}function pa(e){if(Ni){if(!Wi||aa(e))return;e._debugIsCurrentlyTiming=!1,oa(e,null)}}function ha(e){if(Ni){if(!Wi||aa(e))return;if(Bi=e.return,!e._debugIsCurrentlyTiming)return;e._debugIsCurrentlyTiming=!1,ia(e,null,null)}}function ya(e){if(Ni){if(!Wi||aa(e))return;if(Bi=e.return,!e._debugIsCurrentlyTiming)return;e._debugIsCurrentlyTiming=!1;ia(e,null,"An error was thrown inside this error boundary")}}function ma(e,t){if(Ni){if(!Wi)return;if(sa(),!ra(e,t))return;zi=e,Hi=t}}function va(){if(Ni){if(!Wi)return;if(null!==Hi&&null!==zi)ia(zi,Hi,Qi?"Scheduled a cascading update":null);Hi=null,zi=null}}function ga(e,t){if(Ni){if(!Wi)return;var n=null;if(null!==e)if(e.tag===Z)n="A top-level update interrupted the previous render";else n="An update to "+(on(e)||"Unknown")+" interrupted the previous render";else $i>1&&(n="There were cascading updates");$i=0;var r=t?"(React Tree Reconciliation: Completed Root)":"(React Tree Reconciliation: Yielded)";ua(),ea(r,"(React Tree Reconciliation)",n)}}function ba(){if(Ni){if(!Wi)return;Vi=!0,Ki=!1,Ji.clear(),Zi("(Committing Changes)")}}function _a(){if(Ni){if(!Wi)return;var e=null;Ki?e="Lifecycle hook scheduled a cascading update":$i>0&&(e="Caused by a cascading update in earlier commit"),Ki=!1,$i++,Vi=!1,Ji.clear(),ea("(Committing Changes)","(Committing Changes)",e)}}var wa=void 0;function xa(e){var t={baseState:e,expirationTime:Qo,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1,capturedValues:null,isProcessing:!1};return t}function ka(e,t){null===e.last?e.first=e.last=t:(e.last.next=t,e.last=t),(e.expirationTime===Qo||e.expirationTime>t.expirationTime)&&(e.expirationTime=t.expirationTime)}wa=!1;var Ca=void 0,Sa=void 0;function Ta(e){Ca=Sa=null;var t=e.alternate,n=e.updateQueue;null===n&&(n=e.updateQueue=xa(null));var r=void 0;null!==t?null===(r=t.updateQueue)&&(r=t.updateQueue=xa(null)):r=null,Ca=n,Sa=r=r!==n?r:null}function Ea(e,t){Ta(e);var n=Ca,r=Sa;if((n.isProcessing||null!==r&&r.isProcessing)&&!wa&&(o(!1,"An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),wa=!0),null!==r){if(null===n.last||null===r.last)return ka(n,t),void ka(r,t);ka(n,t),r.last=t}else ka(n,t)}function Ia(e,t,n,r){var o=e.partialState;return"function"==typeof o?o.call(t,n,r):o}function Oa(e,t,n,r,o,i){if(null!==e&&e.updateQueue===n){var s=n;n=t.updateQueue={baseState:s.baseState,expirationTime:s.expirationTime,first:s.first,last:s.last,isInitialized:s.isInitialized,capturedValues:s.capturedValues,callbackList:null,hasForceUpdate:!1}}n.isProcessing=!0,n.expirationTime=Qo;var u=void 0;n.isInitialized?u=n.baseState:(u=n.baseState=t.memoizedState,n.isInitialized=!0);for(var l=!0,c=n.first,f=!1;null!==c;){var d=c.expirationTime;if(d>i){var p=n.expirationTime;(p===Qo||p>d)&&(n.expirationTime=d),f||(f=!0,n.baseState=u),c=c.next}else{f||(n.first=c.next,null===n.first&&(n.last=null)),(ji||Di&&t.mode&ri)&&Ia(c,r,u,o);var h=void 0;if(c.isReplace?(u=Ia(c,r,u,o),l=!0):(h=Ia(c,r,u,o))&&(u=l?a({},u,h):a(u,h),l=!1),c.isForced&&(n.hasForceUpdate=!0),null!==c.callback){var y=n.callbackList;null===y&&(y=n.callbackList=[]),y.push(c)}if(null!==c.capturedValue){var m=n.capturedValues;null===m?n.capturedValues=[c.capturedValue]:m.push(c.capturedValue)}c=c.next}}return null!==n.callbackList?t.effectTag|=Ir:null!==n.first||n.hasForceUpdate||null!==n.capturedValues||(t.updateQueue=null),f||(f=!0,n.baseState=u),n.isProcessing=!1,u}function Pa(e,t){var n=e.callbackList;if(null!==n){e.callbackList=null;for(var o=0;o<n.length;o++){var i=n[o],a=i.callback;i.callback=null,"function"!=typeof a&&r(!1,"Invalid argument passed as callback. Expected a function. Instead received: %s",a),a.call(t)}}}var Ra,Aa={},Na=Array.isArray,Ma=void 0,La=void 0,qa=void 0,ja=void 0,Da=void 0;Ma=new Set,La=new Set,qa=new Set,ja=new Set,Da=new Set;var Fa=new Set;function Ua(e,t){for(var n={},r=0;r<t.length;r++){var o=t[r].value,i=e.getDerivedStateFromCatch.call(null,o);null!==i&&void 0!==i&&a(n,i)}return n}Ra=function(e,t){if(null!==e&&"function"!=typeof e){var n=t+"_"+e;Fa.has(n)||(Fa.add(n),o(!1,"%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",t,e))}},Object.defineProperty(Aa,"_processChildContext",{enumerable:!1,value:function(){r(!1,"_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(Aa);var Wa=function(e,t,n,r,i){var s=e.cacheContext,u=e.getMaskedContext,l=e.getUnmaskedContext,f=e.isContextConsumer,p=e.hasContextChanged,h={isMounted:Wr,enqueueSetState:function(e,r,o){var i=_r(e);Ra(o=void 0===o?null:o,"setState");var a=n(i);Ea(i,{expirationTime:a,partialState:r,callback:o,isReplace:!1,isForced:!1,capturedValue:null,next:null}),t(i,a)},enqueueReplaceState:function(e,r,o){var i=_r(e);Ra(o=void 0===o?null:o,"replaceState");var a=n(i);Ea(i,{expirationTime:a,partialState:r,callback:o,isReplace:!0,isForced:!1,capturedValue:null,next:null}),t(i,a)},enqueueForceUpdate:function(e,r){var o=_r(e);Ra(r=void 0===r?null:r,"forceUpdate");var i=n(o);Ea(o,{expirationTime:i,partialState:null,callback:r,isReplace:!1,isForced:!0,capturedValue:null,next:null}),t(o,i)}};function y(e,t,n,r,i,a){if(null===t||null!==e.updateQueue&&e.updateQueue.hasForceUpdate)return!0;var s=e.stateNode,u=e.type;if("function"==typeof s.shouldComponentUpdate){ma(e,"shouldComponentUpdate");var l=s.shouldComponentUpdate(n,i,a);return va(),o(void 0!==l,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",on(e)||"Component"),l}return!u.prototype||!u.prototype.isPureReactComponent||(!c(t,n)||!c(r,i))}function m(e,t){t.props=e.memoizedProps,t.state=e.memoizedState}function v(e,t){var n;t.updater=h,e.stateNode=t,n=e,t._reactInternalFiber=n,t._reactInternalInstance=Aa}function g(e,t,n,r){var i=t.state;if(ma(e,"componentWillReceiveProps"),"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),va(),t.state!==i){var a=on(e)||"Component";Ma.has(a)||(Ma.add(a),o(!1,"%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",a)),h.enqueueReplaceState(t,t.state,null)}}function b(e,t,n,r){var i=e.type;if("function"==typeof i.getDerivedStateFromProps){(ji||Di&&e.mode&ri)&&i.getDerivedStateFromProps.call(null,n,r);var a=i.getDerivedStateFromProps.call(null,n,r);if(void 0===a){var s=on(e)||"Component";La.has(s)||(La.add(s),o(!1,"%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",s))}return a}}return{adoptClassInstance:v,callGetDerivedStateFromProps:b,constructClassInstance:function(e,t){var n=e.type,r=l(e),i=f(e),c=i?u(e,r):d;(ji||Di&&e.mode&ri)&&new n(t,c);var p=new n(t,c),h=null!==p.state&&void 0!==p.state?p.state:null;if(v(e,p),"function"==typeof n.getDerivedStateFromProps&&null===h){var y=on(e)||"Component";qa.has(y)||(qa.add(y),o(!1,"%s: Did not properly initialize state during construction. Expected state to be an object, but it was %s.",y,null===p.state?"null":"undefined"))}if("function"==typeof n.getDerivedStateFromProps||"function"==typeof p.getSnapshotBeforeUpdate){var m=null,g=null,_=null;if("function"==typeof p.componentWillMount&&!0!==p.componentWillMount.__suppressDeprecationWarning?m="componentWillMount":"function"==typeof p.UNSAFE_componentWillMount&&(m="UNSAFE_componentWillMount"),"function"==typeof p.componentWillReceiveProps&&!0!==p.componentWillReceiveProps.__suppressDeprecationWarning?g="componentWillReceiveProps":"function"==typeof p.UNSAFE_componentWillReceiveProps&&(g="UNSAFE_componentWillReceiveProps"),"function"==typeof p.componentWillUpdate&&!0!==p.componentWillUpdate.__suppressDeprecationWarning?_="componentWillUpdate":"function"==typeof p.UNSAFE_componentWillUpdate&&(_="UNSAFE_componentWillUpdate"),null!==m||null!==g||null!==_){var w=on(e)||"Component",x="function"==typeof n.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";Da.has(w)||(Da.add(w),o(!1,"Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n%s uses %s but also contains the following legacy lifecycles:%s%s%s\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks",w,x,null!==m?"\n  "+m:"",null!==g?"\n  "+g:"",null!==_?"\n  "+_:""))}}e.memoizedState=h;var k=b(e,0,t,h);return null!==k&&void 0!==k&&(e.memoizedState=a({},e.memoizedState,k)),i&&s(e,r,c),p},mountClassInstance:function(e,t){var n=e.type,r=e.alternate;!function(e){var t=e.stateNode,n=e.type,r=on(e)||"Component";t.render||(n.prototype&&"function"==typeof n.prototype.render?o(!1,"%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",r):o(!1,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",r));var i=!t.getInitialState||t.getInitialState.isReactClassApproved||t.state;o(i,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",r);var a=!t.getDefaultProps||t.getDefaultProps.isReactClassApproved;o(a,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",r);var s=!t.propTypes;o(s,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",r);var u=!t.contextTypes;o(u,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",r);var l="function"!=typeof t.componentShouldUpdate;o(l,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",r),n.prototype&&n.prototype.isPureReactComponent&&void 0!==t.shouldComponentUpdate&&o(!1,"%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",on(e)||"A pure component");var c="function"!=typeof t.componentDidUnmount;o(c,"%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",r);var f="function"!=typeof t.componentDidReceiveProps;o(f,"%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",r);var d="function"!=typeof t.componentWillRecieveProps;o(d,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",r);var p="function"!=typeof t.UNSAFE_componentWillRecieveProps;o(p,"%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",r);var h=t.props!==e.pendingProps;o(void 0===t.props||!h,"%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",r,r);var y=!t.defaultProps;o(y,"Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",r,r),"function"!=typeof t.getSnapshotBeforeUpdate||"function"==typeof t.componentDidUpdate||"function"==typeof t.componentDidUpdate||ja.has(n)||(ja.add(n),o(!1,"%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",on(e)));var m="function"!=typeof t.getDerivedStateFromProps;o(m,"%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",r);var v="function"!=typeof t.getDerivedStateFromCatch;o(v,"%s: getDerivedStateFromCatch() is defined as an instance method and will be ignored. Instead, declare it as a static method.",r);var g="function"!=typeof n.getSnapshotBeforeUpdate;o(g,"%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",r);var b=t.state;b&&("object"!=typeof b||Na(b))&&o(!1,"%s.state: must be set to an object or null",r),"function"==typeof t.getChildContext&&o("object"==typeof n.childContextTypes,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",r)}(e);var i=e.stateNode,a=e.pendingProps,s=l(e);if(i.props=a,i.state=e.memoizedState,i.refs=d,i.context=u(e,s),e.mode&ri&&Si.recordUnsafeLifecycleWarnings(e,i),Ui&&Si.recordDeprecationWarnings(e,i),"function"!=typeof n.getDerivedStateFromProps&&"function"!=typeof i.getSnapshotBeforeUpdate&&("function"==typeof i.UNSAFE_componentWillMount||"function"==typeof i.componentWillMount)){!function(e,t){ma(e,"componentWillMount");var n=t.state;"function"==typeof t.componentWillMount&&t.componentWillMount(),"function"==typeof t.UNSAFE_componentWillMount&&t.UNSAFE_componentWillMount(),va(),n!==t.state&&(o(!1,"%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",on(e)||"Component"),h.enqueueReplaceState(t,t.state,null))}(e,i);var c=e.updateQueue;null!==c&&(i.state=Oa(r,e,c,i,a,t))}"function"==typeof i.componentDidMount&&(e.effectTag|=Cr)},resumeMountClassInstance:function(e,t){var n=e.type,o=e.stateNode;m(e,o);var s=e.memoizedProps,c=e.pendingProps,f=o.context,d=l(e),h=u(e,d),v="function"==typeof n.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate;v||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||s===c&&f===h||g(e,o,c,h);var _=e.memoizedState,w=void 0,x=void 0;if(null!==e.updateQueue){w=Oa(null,e,e.updateQueue,o,c,t);var k=e.updateQueue;null!==k&&null!==k.capturedValues&&qi&&"function"==typeof n.getDerivedStateFromCatch&&(x=Ua(n,k.capturedValues))}else w=_;var C=void 0;if(s!==c&&(C=b(e,0,c,w)),null!==C&&void 0!==C){w=null===w||void 0===w?C:a({},w,C);var S=e.updateQueue;null!==S&&(S.baseState=a({},S.baseState,C))}if(null!==x&&void 0!==x){w=null===w||void 0===w?x:a({},w,x);var T=e.updateQueue;null!==T&&(T.baseState=a({},T.baseState,x))}if(!(s!==c||_!==w||p()||null!==e.updateQueue&&e.updateQueue.hasForceUpdate))return"function"==typeof o.componentDidMount&&(e.effectTag|=Cr),!1;var E=y(e,s,c,_,w,h);return E?(v||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(ma(e,"componentWillMount"),"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),va()),"function"==typeof o.componentDidMount&&(e.effectTag|=Cr)):("function"==typeof o.componentDidMount&&(e.effectTag|=Cr),r(e,c),i(e,w)),o.props=c,o.state=w,o.context=h,E},updateClassInstance:function(e,t,n){var o=t.type,s=t.stateNode;m(t,s);var c=t.memoizedProps,f=t.pendingProps,d=s.context,h=l(t),v=u(t,h),_="function"==typeof o.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate;_||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||c===f&&d===v||g(t,s,f,v);var w=t.memoizedState,x=void 0,k=void 0;if(null!==t.updateQueue){x=Oa(e,t,t.updateQueue,s,f,n);var C=t.updateQueue;null!==C&&null!==C.capturedValues&&qi&&"function"==typeof o.getDerivedStateFromCatch&&(k=Ua(o,C.capturedValues))}else x=w;var S=void 0;if(c!==f&&(S=b(t,0,f,x)),null!==S&&void 0!==S){x=null===x||void 0===x?S:a({},x,S);var T=t.updateQueue;null!==T&&(T.baseState=a({},T.baseState,S))}if(null!==k&&void 0!==k){x=null===x||void 0===x?k:a({},x,k);var E=t.updateQueue;null!==E&&(E.baseState=a({},E.baseState,k))}if(!(c!==f||w!==x||p()||null!==t.updateQueue&&t.updateQueue.hasForceUpdate))return"function"==typeof s.componentDidUpdate&&(c===e.memoizedProps&&w===e.memoizedState||(t.effectTag|=Cr)),"function"==typeof s.getSnapshotBeforeUpdate&&(c===e.memoizedProps&&w===e.memoizedState||(t.effectTag|=Ar)),!1;var I=y(t,c,f,w,x,v);return I?(_||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||(ma(t,"componentWillUpdate"),"function"==typeof s.componentWillUpdate&&s.componentWillUpdate(f,x,v),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(f,x,v),va()),"function"==typeof s.componentDidUpdate&&(t.effectTag|=Cr),"function"==typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=Ar)):("function"==typeof s.componentDidUpdate&&(c===e.memoizedProps&&w===e.memoizedState||(t.effectTag|=Cr)),"function"==typeof s.getSnapshotBeforeUpdate&&(c===e.memoizedProps&&w===e.memoizedState||(t.effectTag|=Ar)),r(t,f),i(t,x)),s.props=f,s.state=x,s.context=v,I}}},Ba=ln.getCurrentFiberStackAddendum,Ha=void 0,za=void 0,Va=void 0,Ka=void 0,Qa=function(e){};Ha=!1,za={},Va={},Ka={},Qa=function(e){if(null!==e&&"object"==typeof e&&e._store&&!e._store.validated&&null==e.key){"object"!=typeof e._store&&r(!1,"React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue."),e._store.validated=!0;var t='Each child in an array or iterator should have a unique "key" prop. See https://fb.me/react-warning-keys for more information.'+(Ba()||"");Va[t]||(Va[t]=!0,o(!1,'Each child in an array or iterator should have a unique "key" prop. See https://fb.me/react-warning-keys for more information.%s',Ba()))}};var $a=Array.isArray;function Ga(e,t,n){var i=n.ref;if(null!==i&&"function"!=typeof i&&"object"!=typeof i){if(e.mode&ri){var a=on(e)||"Component";za[a]||(o(!1,'A string ref, "%s",has been found within a strict mode tree. String refs are a source of potential bugs and should be avoided. We recommend using createRef() instead.\n%s\n\nLearn more about using refs safely here:\nhttps://fb.me/react-strict-mode-string-ref',i,sn(e)),za[a]=!0)}if(n._owner){var s=n._owner,u=void 0;if(s){var l=s;l.tag!==X&&r(!1,"Stateless function components cannot have refs."),u=l.stateNode}u||r(!1,"Missing owner for string ref %s. This error is likely caused by a bug in React. Please file an issue.",i);var c=""+i;if(null!==t&&null!==t.ref&&t.ref._stringRef===c)return t.ref;var f=function(e){var t=u.refs===d?u.refs={}:u.refs;null===e?delete t[c]:t[c]=e};return f._stringRef=c,f}"string"!=typeof i&&r(!1,"Expected ref to be a function or a string."),n._owner||r(!1,"Element ref was specified as a string (%s) but no owner was set. This could happen for one of the following reasons:\n1. You may be adding a ref to a functional component\n2. You may be adding a ref to a component that was not created inside a component's render method\n3. You have multiple copies of React loaded\nSee https://fb.me/react-refs-must-have-owner for more information.",i)}return i}function Ya(e,t){if("textarea"!==e.type){var n;n=" If you meant to render a collection of children, use an array instead."+(Ba()||""),r(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,n)}}function Ja(){var e="Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it."+(Ba()||"");Ka[e]||(Ka[e]=!0,o(!1,"Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.%s",Ba()||""))}function Xa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=Tr}}function n(n,r){if(!e)return null;for(var o=r;null!==o;)t(n,o),o=o.sibling;return null}function i(e,t){for(var n=new Map,r=t;null!==r;)null!==r.key?n.set(r.key,r):n.set(r.index,r),r=r.sibling;return n}function a(e,t,n){var r=ci(e,t,n);return r.index=0,r.sibling=null,r}function s(t,n,r){if(t.index=r,!e)return n;var o=t.alternate;if(null!==o){var i=o.index;return i<n?(t.effectTag=kr,n):i}return t.effectTag=kr,n}function u(t){return e&&null===t.alternate&&(t.effectTag=kr),t}function l(e,t,n,r){if(null===t||t.tag!==ne){var o=hi(n,e.mode,r);return o.return=e,o}var i=a(t,n,r);return i.return=e,i}function c(e,t,n,r){if(null!==t&&t.type===n.type){var o=a(t,n.props,r);return o.ref=Ga(e,t,n),o.return=e,o._debugSource=n._source,o._debugOwner=n._owner,o}var i=fi(n,e.mode,r);return i.ref=Ga(e,t,n),i.return=e,i}function f(e,t,n,r){if(null===t||t.tag!==ee||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation){var o=yi(n,e.mode,r);return o.return=e,o}var i=a(t,n.children||[],r);return i.return=e,i}function d(e,t,n,r,o){if(null===t||t.tag!==ae){var i=pi(n,e.mode,r,o);return i.return=e,i}var s=a(t,n,r);return s.return=e,s}function p(e,t,n){if("string"==typeof t||"number"==typeof t){var r=hi(""+t,e.mode,n);return r.return=e,r}if("object"==typeof t&&null!==t){switch(t.$$typeof){case Vt:var o=fi(t,e.mode,n);return o.ref=Ga(e,null,t),o.return=e,o;case $t:var i=yi(t,e.mode,n);return i.return=e,i}if($a(t)||rn(t)){var a=pi(t,e.mode,n,null);return a.return=e,a}Ya(e,t)}return"function"==typeof t&&Ja(),null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Vt:return n.key===o?n.type===Gt?d(e,t,n.props.children,r,o):c(e,t,n,r):null;case $t:return n.key===o?f(e,t,n,r):null}if($a(n)||rn(n))return null!==o?null:d(e,t,n,r,null);Ya(e,n)}return"function"==typeof n&&Ja(),null}function y(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return l(t,e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Vt:var i=e.get(null===r.key?n:r.key)||null;return r.type===Gt?d(t,i,r.props.children,o,r.key):c(t,i,r,o);case $t:return f(t,e.get(null===r.key?n:r.key)||null,r,o)}if($a(r)||rn(r))return d(t,e.get(n)||null,r,o,null);Ya(t,r)}return"function"==typeof r&&Ja(),null}function m(e,t){if("object"!=typeof e||null===e)return t;switch(e.$$typeof){case Vt:case $t:Qa(e);var n=e.key;if("string"!=typeof n)break;if(null===t){(t=new Set).add(n);break}if(!t.has(n)){t.add(n);break}o(!1,"Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.%s",n,Ba())}return t}return function(l,c,f,d){"object"==typeof f&&null!==f&&f.type===Gt&&null===f.key&&(f=f.props.children);var v="object"==typeof f&&null!==f;if(v)switch(f.$$typeof){case Vt:return u(function(e,r,o,i){for(var s=o.key,u=r;null!==u;){if(u.key===s){if(u.tag===ae?o.type===Gt:u.type===o.type){n(e,u.sibling);var l=a(u,o.type===Gt?o.props.children:o.props,i);return l.ref=Ga(e,u,o),l.return=e,l._debugSource=o._source,l._debugOwner=o._owner,l}n(e,u);break}t(e,u),u=u.sibling}if(o.type===Gt){var c=pi(o.props.children,e.mode,i,o.key);return c.return=e,c}var f=fi(o,e.mode,i);return f.ref=Ga(e,r,o),f.return=e,f}(l,c,f,d));case $t:return u(function(e,r,o,i){for(var s=o.key,u=r;null!==u;){if(u.key===s){if(u.tag===ee&&u.stateNode.containerInfo===o.containerInfo&&u.stateNode.implementation===o.implementation){n(e,u.sibling);var l=a(u,o.children||[],i);return l.return=e,l}n(e,u);break}t(e,u),u=u.sibling}var c=yi(o,e.mode,i);return c.return=e,c}(l,c,f,d))}if("string"==typeof f||"number"==typeof f)return u(function(e,t,r,o){if(null!==t&&t.tag===ne){n(e,t.sibling);var i=a(t,r,o);return i.return=e,i}n(e,t);var s=hi(r,e.mode,o);return s.return=e,s}(l,c,""+f,d));if($a(f))return function(r,o,a,u){for(var l=null,c=0;c<a.length;c++)l=m(a[c],l);for(var f=null,d=null,v=o,g=0,b=0,_=null;null!==v&&b<a.length;b++){v.index>b?(_=v,v=null):_=v.sibling;var w=h(r,v,a[b],u);if(null===w){null===v&&(v=_);break}e&&v&&null===w.alternate&&t(r,v),g=s(w,g,b),null===d?f=w:d.sibling=w,d=w,v=_}if(b===a.length)return n(r,v),f;if(null===v){for(;b<a.length;b++){var x=p(r,a[b],u);x&&(g=s(x,g,b),null===d?f=x:d.sibling=x,d=x)}return f}for(var k=i(0,v);b<a.length;b++){var C=y(k,r,b,a[b],u);C&&(e&&null!==C.alternate&&k.delete(null===C.key?b:C.key),g=s(C,g,b),null===d?f=C:d.sibling=C,d=C)}return e&&k.forEach(function(e){return t(r,e)}),f}(l,c,f,d);if(rn(f))return function(a,u,l,c){var f=rn(l);"function"!=typeof f&&r(!1,"An object is not an iterable. This error is likely caused by a bug in React. Please file an issue."),"function"==typeof l.entries&&l.entries===f&&(o(Ha,"Using Maps as children is unsupported and will likely yield unexpected results. Convert it to a sequence/iterable of keyed ReactElements instead.%s",Ba()),Ha=!0);var d=f.call(l);if(d)for(var v=null,g=d.next();!g.done;g=d.next())v=m(g.value,v);var b=f.call(l);null==b&&r(!1,"An iterable object provided no iterator.");for(var _=null,w=null,x=u,k=0,C=0,S=null,T=b.next();null!==x&&!T.done;C++,T=b.next()){x.index>C?(S=x,x=null):S=x.sibling;var E=h(a,x,T.value,c);if(null===E){x||(x=S);break}e&&x&&null===E.alternate&&t(a,x),k=s(E,k,C),null===w?_=E:w.sibling=E,w=E,x=S}if(T.done)return n(a,x),_;if(null===x){for(;!T.done;C++,T=b.next()){var I=p(a,T.value,c);null!==I&&(k=s(I,k,C),null===w?_=I:w.sibling=I,w=I)}return _}for(var O=i(0,x);!T.done;C++,T=b.next()){var P=y(O,a,C,T.value,c);null!==P&&(e&&null!==P.alternate&&O.delete(null===P.key?C:P.key),k=s(P,k,C),null===w?_=P:w.sibling=P,w=P)}return e&&O.forEach(function(e){return t(a,e)}),_}(l,c,f,d);if(v&&Ya(l,f),"function"==typeof f&&Ja(),void 0===f)switch(l.tag){case X:if(l.stateNode.render._isMockFunction)break;case J:var g=l.type;r(!1,"%s(...): Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null.",g.displayName||g.name||"Component")}return n(l,c)}}var Za=Xa(!0),es=Xa(!1);var ts=void 0,ns=void 0,rs=void 0;ts={},ns={},rs={};var os=function(e,t,n,i,s,u,l){var c=e.shouldSetTextContent,f=e.shouldDeprioritizeSubtree,d=t.pushHostContext,p=t.pushHostContainer,h=i.pushProvider,y=n.getMaskedContext,m=n.getUnmaskedContext,v=n.hasContextChanged,g=n.pushContextProvider,b=n.pushTopLevelContextObject,_=n.invalidateContextProvider,w=s.enterHydrationState,x=s.resetHydrationState,k=s.tryToClaimNextHydratableInstance,C=Wa(n,u,l,D,F),S=C.adoptClassInstance,T=C.callGetDerivedStateFromProps,E=C.constructClassInstance,I=C.mountClassInstance,O=C.resumeMountClassInstance,P=C.updateClassInstance;function R(e,t,n){A(e,t,n,t.expirationTime)}function A(e,t,n,r){t.child=null===e?es(t,null,n,r):Za(t,e.child,n,r)}function N(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=Pr)}function M(e,t,n,r,o,i){if(N(e,t),!n&&!o)return r&&_(t,!1),j(e,t);var a=t.type,s=t.stateNode;Wt.current=t;var u=void 0;return!o||qi&&"function"==typeof a.getDerivedStateFromCatch?(ln.setCurrentPhase("render"),u=s.render(),(ji||Di&&t.mode&ri)&&s.render(),ln.setCurrentPhase(null)):u=null,t.effectTag|=xr,o&&(A(e,t,null,i),t.child=null),A(e,t,u,i),F(t,s.state),D(t,s.props),r&&_(t,!0),t.child}function L(e){var t=e.stateNode;t.pendingContext?b(e,t.pendingContext,t.pendingContext!==t.context):t.context&&b(e,t.context,!1),p(e,t.containerInfo)}function q(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var i=void 0;switch(o.tag){case ue:var a=0|o.stateNode;if(o.type===t&&0!=(a&n)){for(var s=o;null!==s;){var u=s.alternate;if(s.expirationTime===Qo||s.expirationTime>r)s.expirationTime=r,null!==u&&(u.expirationTime===Qo||u.expirationTime>r)&&(u.expirationTime=r);else{if(null===u||!(u.expirationTime===Qo||u.expirationTime>r))break;u.expirationTime=r}s=s.return}i=null}else i=o.child;break;case le:i=o.type===e.type?null:o.child;break;default:i=o.child}if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===e){i=null;break}var l=i.sibling;if(null!==l){i=l;break}i=i.return}o=i}}function j(e,t){return pa(t),function(e,t){if(null!==e&&t.child!==e.child&&r(!1,"Resuming work not yet implemented."),null!==t.child){var n=t.child,o=ci(n,n.pendingProps,n.expirationTime);for(t.child=o,o.return=t;null!==n.sibling;)n=n.sibling,(o=o.sibling=ci(n,n.pendingProps,n.expirationTime)).return=t;o.sibling=null}}(e,t),t.child}function D(e,t){e.memoizedProps=t}function F(e,t){e.memoizedState=t}return{beginWork:function(e,t,n){if(t.expirationTime===Qo||t.expirationTime>n)return function(e,t){switch(pa(t),t.tag){case Z:L(t);break;case X:g(t);break;case ee:p(t,t.stateNode.containerInfo);break;case le:h(t)}return null}(0,t);switch(t.tag){case Y:return function(e,t,n){null!==e&&r(!1,"An indeterminate component should never have mounted. This error is likely caused by a bug in React. Please file an issue.");var i,s=t.type,u=t.pendingProps,l=m(t),c=y(t,l);if(s.prototype&&"function"==typeof s.prototype.render){var f=on(t)||"Unknown";ts[f]||(o(!1,"The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",f,f),ts[f]=!0)}if(Wt.current=t,i=s(u,c),t.effectTag|=xr,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){var d=t.type;if(t.tag=X,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,"function"==typeof d.getDerivedStateFromProps){var p=T(t,i,u,t.memoizedState);null!==p&&void 0!==p&&(t.memoizedState=a({},t.memoizedState,p))}var h=g(t);return S(t,i),I(t,n),M(e,t,!0,h,!1,n)}t.tag=J;var v=t.type;if(v&&o(!v.childContextTypes,"%s(...): childContextTypes cannot be defined on a functional component.",v.displayName||v.name||"Component"),null!==t.ref){var b="",_=ln.getCurrentFiberOwnerName();_&&(b+="\n\nCheck the render method of `"+_+"`.");var w=_||t._debugID||"",x=t._debugSource;x&&(w=x.fileName+":"+x.lineNumber),rs[w]||(rs[w]=!0,o(!1,"Stateless function components cannot be given refs. Attempts to access this ref will fail.%s%s",b,ln.getCurrentFiberStackAddendum()))}if("function"==typeof s.getDerivedStateFromProps){var k=on(t)||"Unknown";ns[k]||(o(!1,"%s: Stateless functional components do not support getDerivedStateFromProps.",k),ns[k]=!0)}return R(e,t,i),D(t,u),t.child}(e,t,n);case J:return function(e,t){var n=t.type,r=t.pendingProps;if(v());else if(t.memoizedProps===r)return j(e,t);var o,i=m(t),a=y(t,i);return Wt.current=t,ln.setCurrentPhase("render"),o=n(r,a),ln.setCurrentPhase(null),t.effectTag|=xr,R(e,t,o),D(t,r),t.child}(e,t);case X:return function(e,t,n){var r=g(t),o=void 0;null===e?null===t.stateNode?(E(t,t.pendingProps),I(t,n),o=!0):o=O(t,n):o=P(e,t,n);var i=!1,a=t.updateQueue;return null!==a&&null!==a.capturedValues&&(o=!0,i=!0),M(e,t,o,r,i,n)}(e,t,n);case Z:return function(e,t,n){L(t);var r=t.updateQueue;if(null!==r){var o=t.memoizedState,i=Oa(e,t,r,null,null,n);F(t,i);var a=void 0;if(null!==(r=t.updateQueue)&&null!==r.capturedValues)a=null;else{if(o===i)return x(),j(e,t);a=i.element}var s=t.stateNode;return(null===e||null===e.child)&&s.hydrate&&w(t)?(t.effectTag|=kr,t.child=es(t,null,a,n)):(x(),R(e,t,a)),F(t,i),t.child}return x(),j(e,t)}(e,t,n);case te:return function(e,t,n){d(t),null===e&&k(t);var r=t.type,o=t.memoizedProps,i=t.pendingProps,a=null!==e?e.memoizedProps:null;if(v());else if(o===i){var s=t.mode&ni&&f(r,i);if(s&&(t.expirationTime=Go),!s||n!==Go)return j(e,t)}var u=i.children;return c(r,i)?u=null:a&&c(r,a)&&(t.effectTag|=Er),N(e,t),n!==Go&&t.mode&ni&&f(r,i)?(t.expirationTime=Go,t.memoizedProps=i,null):(R(e,t,u),D(t,i),t.child)}(e,t,n);case ne:return function(e,t){return null===e&&k(t),D(t,t.pendingProps),null}(e,t);case oe:t.tag=re;case re:return function(e,t,n){var r=t.pendingProps;v()||t.memoizedProps===r&&(r=t.memoizedProps);var o=r.children;return t.stateNode=null===e?es(t,t.stateNode,o,n):Za(t,e.stateNode,o,n),D(t,r),t.stateNode}(e,t,n);case ie:return null;case ee:return function(e,t,n){p(t,t.stateNode.containerInfo);var r=t.pendingProps;if(v());else if(t.memoizedProps===r)return j(e,t);return null===e?(t.child=Za(t,null,r,n),D(t,r)):(R(e,t,r),D(t,r)),t.child}(e,t,n);case ce:return function(e,t){var n=(0,t.type.render)(t.pendingProps,t.ref);return R(e,t,n),D(t,n),t.child}(e,t);case ae:return function(e,t){var n=t.pendingProps;if(v());else if(t.memoizedProps===n)return j(e,t);return R(e,t,n),D(t,n),t.child}(e,t);case se:return function(e,t){var n=t.pendingProps.children;if(v());else if(null===n||t.memoizedProps===n)return j(e,t);return R(e,t,n),D(t,n),t.child}(e,t);case le:return function(e,t,n){var r=t.type._context,i=t.pendingProps,a=t.memoizedProps;if(v());else if(a===i)return t.stateNode=0,h(t),j(e,t);var s=i.value;t.memoizedProps=i;var u=void 0;if(null===a)u=Ko;else if(a.value===i.value){if(a.children===i.children)return t.stateNode=0,h(t),j(e,t);u=0}else{var l=a.value;if(l===s&&(0!==l||1/l==1/s)||l!=l&&s!=s){if(a.children===i.children)return t.stateNode=0,h(t),j(e,t);u=0}else if(u="function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,s):Ko,o((u&Ko)===u,"calculateChangedBits: Expected the return value to be a 31-bit integer. Instead received: %s",u),0==(u|=0)){if(a.children===i.children)return t.stateNode=0,h(t),j(e,t)}else q(t,r,u,n)}return t.stateNode=u,h(t),R(e,t,i.children),t.child}(e,t,n);case ue:return function(e,t,n){var r=t.type,i=t.pendingProps,a=t.memoizedProps,s=r._currentValue,u=r._changedBits;if(v());else if(0===u&&a===i)return j(e,t);t.memoizedProps=i;var l=i.unstable_observedBits;void 0!==l&&null!==l||(l=Ko),t.stateNode=l,0!=(u&l)&&q(t,r,u,n);var c=i.children;return o("function"==typeof c,"A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),R(e,t,c(s)),t.child}(e,t,n);default:r(!1,"Unknown unit of work tag. This error is likely caused by a bug in React. Please file an issue.")}}}},is=function(e,t,n,o,i){var a=e.createInstance,s=e.createTextInstance,u=e.appendInitialChild,l=e.finalizeInitialChildren,c=e.prepareUpdate,f=e.mutation,d=e.persistence,p=t.getRootHostContainer,h=t.popHostContext,y=t.getHostContext,m=t.popHostContainer,v=n.popContextProvider,g=n.popTopLevelContextObject,b=o.popProvider,_=i.prepareToHydrateHostInstance,w=i.prepareToHydrateHostTextInstance,x=i.popHydrationState;function k(e){e.effectTag|=Cr}function C(e){e.effectTag|=Pr}function S(e,t,n){var o=t.memoizedProps;o||r(!1,"Should be resolved by now. This error is likely caused by a bug in React. Please file an issue."),t.tag=oe;var i=[];!function(e,t){var n=t.stateNode;for(n&&(n.return=t);null!==n;){if(n.tag===te||n.tag===ne||n.tag===ee)r(!1,"A call cannot have host component children.");else if(n.tag===ie)e.push(n.pendingProps.value);else if(null!==n.child){n.child.return=n,n=n.child;continue}for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(i,t);var a=(0,o.handler)(o.props,i),s=null!==e?e.child:null;return t.child=Za(t,s,a,n),t.child}function T(e,t){for(var n=t.child;null!==n;){if(n.tag===te||n.tag===ne)u(e,n.stateNode);else if(n.tag===ee);else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)return;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}var E=void 0,I=void 0,O=void 0;if(f)Mi?(E=function(e){},I=function(e,t,n,r,o,i,a,s){t.updateQueue=n,n&&k(t)},O=function(e,t,n,r){n!==r&&k(t)}):r(!1,"Mutating reconciler is disabled.");else if(d)if(Li){var P=d.cloneInstance,R=d.createContainerChildSet,A=d.appendChildToContainerChildSet,N=d.finalizeContainerChildren;E=function(e){var t=e.stateNode;if(null===e.firstEffect);else{var n=t.containerInfo,r=R(n);!function(e,t){for(var n=t.child;null!==n;){if(n.tag===te||n.tag===ne)A(e,n.stateNode);else if(n.tag===ee);else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)return;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(r,e),t.pendingChildren=r,k(e),N(n,r)}},I=function(e,t,n,r,o,i,a,s){var u=null===t.firstEffect,c=e.stateNode;if(u&&null===n)t.stateNode=c;else{var f=t.stateNode,d=P(c,n,r,o,i,t,u,f);l(d,r,i,a,s)&&k(t),t.stateNode=d,u?k(t):T(d,t)}},O=function(e,t,n,r){if(n!==r){var o=p(),i=y();t.stateNode=s(r,o,i,t),k(t)}}}else r(!1,"Persistent reconciler is disabled.");else r(!1,"Noop reconciler is disabled.");return{completeWork:function(e,t,n){var o=t.pendingProps;switch(t.tag){case J:return null;case X:v(t);var i=t.stateNode,u=t.updateQueue;return null!==u&&null!==u.capturedValues&&(t.effectTag&=~Or,"function"==typeof i.componentDidCatch?t.effectTag|=Rr:u.capturedValues=null),null;case Z:m(t),g(t);var f=t.stateNode;f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),null!==e&&null!==e.child||(x(t),t.effectTag&=~kr),E(t);var d=t.updateQueue;return null!==d&&null!==d.capturedValues&&(t.effectTag|=Rr),null;case te:h(t);var P=p(),R=t.type;if(null!==e&&null!=t.stateNode){var A=e.memoizedProps,N=t.stateNode,M=y(),L=c(N,R,A,o,P,M);I(e,t,L,R,A,o,P,M),e.ref!==t.ref&&C(t)}else{if(!o)return null===t.stateNode&&r(!1,"We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue."),null;var q=y();if(x(t))_(t,P,q)&&k(t);else{var j=a(R,o,P,q,t);T(j,t),l(j,R,o,P,q)&&k(t),t.stateNode=j}null!==t.ref&&C(t)}return null;case ne:var D=o;if(e&&null!=t.stateNode){var F=e.memoizedProps;O(e,t,F,D)}else{if("string"!=typeof D)return null===t.stateNode&&r(!1,"We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue."),null;var U=p(),W=y();x(t)?w(t)&&k(t):t.stateNode=s(D,U,W,t)}return null;case re:return S(e,t,n);case oe:return t.tag=re,null;case ie:case ce:case ae:case se:return null;case ee:return m(t),E(t),null;case le:return b(t),null;case ue:return null;case Y:r(!1,"An indeterminate component should have become determinate before completing. This error is likely caused by a bug in React. Please file an issue.");default:r(!1,"Unknown unit of work tag. This error is likely caused by a bug in React. Please file an issue.")}}}};function as(e,t){return{value:e,source:t,stack:sn(t)}}var ss=g.invokeGuardedCallback,us=g.hasCaughtError,ls=g.clearCaughtError,cs=null;function fs(e,t){var n=t.source,r=t.stack;null===r&&(r=sn(n));var o={componentName:null!==n?on(n):null,componentStack:null!==r?r:"",error:t.value,errorBoundary:null,errorBoundaryName:null,errorBoundaryFound:!1,willRetry:!1};null!==e&&e.tag===X&&(o.errorBoundary=e.stateNode,o.errorBoundaryName=on(e),o.errorBoundaryFound=!0,o.willRetry=!0);try{!function(e){var t=e.error;if(!t||!t.suppressReactErrorLogging){var n=e.componentName,r=e.componentStack,o=e.errorBoundaryName,i=e.errorBoundaryFound,a=e.willRetry,s=(n?"The above error occurred in the <"+n+"> component:":"The above error occurred in one of your React components:")+r+"\n\n"+(i&&o?a?"React will try to recreate this component tree from scratch using the error boundary you provided, "+o+".":"This error was initially handled by the error boundary "+o+".\nRecreating the tree from scratch failed so React will unmount the tree.":"Consider adding an error boundary to your tree to customize error handling behavior.\nVisit https://fb.me/react-error-boundaries to learn more about error boundaries.");console.error(s)}}(o)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}}cs=new Set;var ds=function(e,t,n,i,a,s){var u=e.getPublicInstance,l=e.mutation,c=e.persistence,f=function(e,t){ma(e,"componentWillUnmount"),t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount(),va()};function d(e){var n=e.ref;if(null!==n)if("function"==typeof n){if(ss(null,n,null,null),us()){var r=ls();t(e,r)}}else n.current=null}function p(e,t){switch(t.tag){case X:if(t.effectTag&Ar&&null!==e){var n=e.memoizedProps,i=e.memoizedState;ma(t,"getSnapshotBeforeUpdate");var a=t.stateNode;a.props=t.memoizedProps,a.state=t.memoizedState;var s=a.getSnapshotBeforeUpdate(n,i),u=cs;void 0!==s||u.has(t.type)||(u.add(t.type),o(!1,"%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",on(t))),a.__reactInternalSnapshotBeforeUpdate=s,va()}return;case Z:case te:case ne:case ee:return;default:r(!1,"This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}}function h(e,t,n,o,i){switch(n.tag){case X:var a=n.stateNode;if(n.effectTag&Cr)if(null===t)ma(n,"componentDidMount"),a.props=n.memoizedProps,a.state=n.memoizedState,a.componentDidMount(),va();else{var s=t.memoizedProps,l=t.memoizedState;ma(n,"componentDidUpdate"),a.props=n.memoizedProps,a.state=n.memoizedState,a.componentDidUpdate(s,l,a.__reactInternalSnapshotBeforeUpdate),va()}var c=n.updateQueue;return void(null!==c&&Pa(c,a));case Z:var f=n.updateQueue;if(null!==f){var d=null;if(null!==n.child)switch(n.child.tag){case te:d=u(n.child.stateNode);break;case X:d=n.child.stateNode}Pa(f,d)}return;case te:var p=n.stateNode;if(null===t&&n.effectTag&Cr){var h=n.type,y=n.memoizedProps;S(p,h,y,n)}return;case ne:case ee:return;default:r(!1,"This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}}function y(e,t){switch(e.tag){case X:var n=e.type,o=e.stateNode,i=e.updateQueue;(null===i||null===i.capturedValues)&&r(!1,"An error logging effect should not have been scheduled if no errors were captured. This error is likely caused by a bug in React. Please file an issue.");var s=i.capturedValues;i.capturedValues=null,"function"!=typeof n.getDerivedStateFromCatch&&a(o),o.props=e.memoizedProps,o.state=e.memoizedState;for(var u=0;u<s.length;u++){var l=s[u],c=l.value,f=l.stack;fs(e,l),o.componentDidCatch(c,{componentStack:null!==f?f:""})}break;case Z:var d=e.updateQueue;(null===d||null===d.capturedValues)&&r(!1,"An error logging effect should not have been scheduled if no errors were captured. This error is likely caused by a bug in React. Please file an issue.");var p=d.capturedValues;d.capturedValues=null;for(var h=0;h<p.length;h++){var y=p[h];fs(e,y),t(y.value)}break;default:r(!1,"This unit of work tag cannot capture errors.  This error is likely caused by a bug in React. Please file an issue.")}}function m(e){var t=e.ref;if(null!==t){var n=e.stateNode,r=void 0;switch(e.tag){case te:r=u(n);break;default:r=n}"function"==typeof t?t(r):(t.hasOwnProperty("current")||o(!1,"Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().%s",on(e),sn(e)),t.current=r)}}function v(e){var t=e.ref;null!==t&&("function"==typeof t?t(null):t.current=null)}function g(e){switch(ki(e),e.tag){case X:d(e);var n=e.stateNode;return void("function"==typeof n.componentWillUnmount&&function(e,n){if(ss(null,f,null,e,n),us()){var r=ls();t(e,r)}}(e,n));case te:return void d(e);case re:return void b(e.stateNode);case ee:return void(Mi&&l?q(e):Li&&c&&w(e))}}function b(e){for(var t=e;;)if(g(t),null===t.child||l&&t.tag===ee){if(t===e)return;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}else t.child.return=t,t=t.child}function _(e){e.return=null,e.child=null,e.alternate&&(e.alternate.child=null,e.alternate.return=null)}var w=void 0;if(!l){var x=void 0;if(c){var k=c.replaceContainerChildren,C=c.createContainerChildSet;w=function(e){var t=e.stateNode.containerInfo,n=C(t);k(t,n)},x=function(e){switch(e.tag){case X:case te:case ne:return;case Z:case ee:var t=e.stateNode,n=t.containerInfo,o=t.pendingChildren;return void k(n,o);default:r(!1,"This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}}}else x=function(e){};if(Li)return{commitResetTextContent:function(e){},commitPlacement:function(e){},commitDeletion:function(e){b(e),_(e)},commitWork:function(e,t){x(t)},commitLifeCycles:h,commitBeforeMutationLifeCycles:p,commitErrorLogging:y,commitAttachRef:m,commitDetachRef:v};r(!1,c?"Persistent reconciler is disabled.":"Noop reconciler is disabled.")}var S=l.commitMount,T=l.commitUpdate,E=l.resetTextContent,I=l.commitTextUpdate,O=l.appendChild,P=l.appendChildToContainer,R=l.insertBefore,A=l.insertInContainerBefore,N=l.removeChild,M=l.removeChildFromContainer;function L(e){return e.tag===te||e.tag===Z||e.tag===ee}function q(e){for(var t=e,n=!1,o=void 0,i=void 0;;){if(!n){var a=t.return;e:for(;;){switch(null===a&&r(!1,"Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue."),a.tag){case te:o=a.stateNode,i=!1;break e;case Z:case ee:o=a.stateNode.containerInfo,i=!0;break e}a=a.return}n=!0}if(t.tag===te||t.tag===ne)b(t),i?M(o,t.stateNode):N(o,t.stateNode);else if(t.tag===ee){if(o=t.stateNode.containerInfo,null!==t.child){t.child.return=t,t=t.child;continue}}else if(g(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)return;for(;null===t.sibling;){if(null===t.return||t.return===e)return;(t=t.return).tag===ee&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}if(Mi)return{commitBeforeMutationLifeCycles:p,commitResetTextContent:function(e){E(e.stateNode)},commitPlacement:function(e){var t=function(e){for(var t=e.return;null!==t;){if(L(t))return t;t=t.return}r(!1,"Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}(e),n=void 0,o=void 0;switch(t.tag){case te:n=t.stateNode,o=!1;break;case Z:case ee:n=t.stateNode.containerInfo,o=!0;break;default:r(!1,"Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}t.effectTag&Er&&(E(n),t.effectTag&=~Er);for(var i=function(e){var t=e;e:for(;;){for(;null===t.sibling;){if(null===t.return||L(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==te&&t.tag!==ne;){if(t.effectTag&kr)continue e;if(null===t.child||t.tag===ee)continue e;t.child.return=t,t=t.child}if(!(t.effectTag&kr))return t.stateNode}}(e),a=e;;){if(a.tag===te||a.tag===ne)i?o?A(n,a.stateNode,i):R(n,a.stateNode,i):o?P(n,a.stateNode):O(n,a.stateNode);else if(a.tag===ee);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)return;for(;null===a.sibling;){if(null===a.return||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},commitDeletion:function(e){q(e),_(e)},commitWork:function(e,t){switch(t.tag){case X:return;case te:var n=t.stateNode;if(null!=n){var o=t.memoizedProps,i=null!==e?e.memoizedProps:o,a=t.type,s=t.updateQueue;t.updateQueue=null,null!==s&&T(n,s,a,i,o,t)}return;case ne:null===t.stateNode&&r(!1,"This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var u=t.stateNode,l=t.memoizedProps,c=null!==e?e.memoizedProps:l;return void I(u,c,l);case Z:return;default:r(!1,"This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}},commitLifeCycles:h,commitErrorLogging:y,commitAttachRef:m,commitDetachRef:v};r(!1,"Mutating reconciler is disabled.")},ps={},hs=function(e){var t=e.shouldSetTextContent,n=e.hydration;if(!n)return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){r(!1,"Expected prepareToHydrateHostInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.")},prepareToHydrateHostTextInstance:function(){r(!1,"Expected prepareToHydrateHostTextInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.")},popHydrationState:function(e){return!1}};var o=n.canHydrateInstance,i=n.canHydrateTextInstance,a=n.getNextHydratableSibling,s=n.getFirstHydratableChild,u=n.hydrateInstance,l=n.hydrateTextInstance,c=n.didNotMatchHydratedContainerTextInstance,f=n.didNotMatchHydratedTextInstance,d=n.didNotHydrateContainerInstance,p=n.didNotHydrateInstance,h=n.didNotFindHydratableContainerInstance,y=n.didNotFindHydratableContainerTextInstance,m=n.didNotFindHydratableInstance,v=n.didNotFindHydratableTextInstance,g=null,b=null,_=!1;function w(e,t){switch(e.tag){case Z:d(e.stateNode.containerInfo,t);break;case te:p(e.type,e.memoizedProps,e.stateNode,t)}var n,r=((n=li(te,null,null,ti)).type="DELETED",n);r.stateNode=t,r.return=e,r.effectTag=Tr,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function x(e,t){switch(t.effectTag|=kr,e.tag){case Z:var n=e.stateNode.containerInfo;switch(t.tag){case te:var r=t.type,o=t.pendingProps;h(n,r,o);break;case ne:var i=t.pendingProps;y(n,i)}break;case te:var a=e.type,s=e.memoizedProps,u=e.stateNode;switch(t.tag){case te:var l=t.type,c=t.pendingProps;m(a,s,u,l,c);break;case ne:var f=t.pendingProps;v(a,s,u,f)}break;default:return}}function k(e,t){switch(e.tag){case te:var n=e.type,r=e.pendingProps,a=o(t,n,r);return null!==a&&(e.stateNode=a,!0);case ne:var s=e.pendingProps,u=i(t,s);return null!==u&&(e.stateNode=u,!0);default:return!1}}function C(e){for(var t=e.return;null!==t&&t.tag!==te&&t.tag!==Z;)t=t.return;g=t}return{enterHydrationState:function(e){var t=e.stateNode.containerInfo;return b=s(t),g=e,_=!0,!0},resetHydrationState:function(){g=null,b=null,_=!1},tryToClaimNextHydratableInstance:function(e){if(_){var t=b;if(!t)return x(g,e),_=!1,void(g=e);if(!k(e,t)){if(!(t=a(t))||!k(e,t))return x(g,e),_=!1,void(g=e);w(g,b)}g=e,b=s(t)}},prepareToHydrateHostInstance:function(e,t,n){var r=e.stateNode,o=u(r,e.type,e.memoizedProps,t,n,e);return e.updateQueue=o,null!==o},prepareToHydrateHostTextInstance:function(e){var t=e.stateNode,n=e.memoizedProps,r=l(t,n,e);if(r){var o=g;if(null!==o)switch(o.tag){case Z:var i=o.stateNode.containerInfo;c(i,t,n);break;case te:var a=o.type,s=o.memoizedProps,u=o.stateNode;f(a,s,u,t,n)}}return r},popHydrationState:function(e){if(e!==g)return!1;if(!_)return C(e),_=!0,!1;var n=e.type;if(e.tag!==te||"head"!==n&&"body"!==n&&!t(n,e.memoizedProps))for(var r=b;r;)w(e,r),r=a(r);return C(e),b=g?a(e.stateNode):null,!0}}},ys={debugTool:null},ms=void 0;ms={};var vs=g.invokeGuardedCallback,gs=g.hasCaughtError,bs=g.clearCaughtError,_s=void 0,ws=void 0,xs=void 0,ks=void 0;_s=!1,ws=!1;var Cs={};xs=function(e){var t=on(e)||"ReactClass";Cs[t]||(o(!1,"Can't call setState (or forceUpdate) on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.%s",sn(e)),Cs[t]=!0)},ks=function(e){switch(ln.phase){case"getChildContext":if(ws)return;o(!1,"setState(...): Cannot call setState() inside getChildContext()"),ws=!0;break;case"render":if(_s)return;o(!1,"Cannot update during an existing state transition (such as within `render` or another component's constructor). Render methods should be a pure function of props and state; constructor side-effects are an anti-pattern, but can be moved to `componentWillMount`."),_s=!0}};var Ss=function(e){var t=function(){var e=[],t=void 0;t=[];var n=-1;return{createCursor:function(e){return{current:e}},isEmpty:function(){return-1===n},pop:function(r,i){n<0?o(!1,"Unexpected pop."):(i!==t[n]&&o(!1,"Unexpected Fiber popped."),r.current=e[n],e[n]=null,t[n]=null,n--)},push:function(r,o,i){e[++n]=r.current,t[n]=i,r.current=o},checkThatStackIsEmpty:function(){-1!==n&&o(!1,"Expected an empty stack. Something was not reset properly.")},resetStackAfterFatalErrorInDev:function(){n=-1,e.length=0,t.length=0}}}(),n=function(e,t){var n=e.getChildHostContext,o=e.getRootHostContext,i=t.createCursor,a=t.push,s=t.pop,u=i(ps),l=i(ps),c=i(ps);function f(e){return e===ps&&r(!1,"Expected host context to exist. This error is likely caused by a bug in React. Please file an issue."),e}return{getHostContext:function(){return f(u.current)},getRootHostContainer:function(){return f(c.current)},popHostContainer:function(e){s(u,e),s(l,e),s(c,e)},popHostContext:function(e){l.current===e&&(s(u,e),s(l,e))},pushHostContainer:function(e,t){a(c,t,e),a(l,e,e),a(u,ps,e);var n=o(t);s(u,e),a(u,n,e)},pushHostContext:function(e){var t=f(c.current),r=f(u.current),o=n(r,e.type,t);r!==o&&(a(l,e,e),a(u,o,e))}}}(e,t),i=function(e){var t=e.createCursor,n=e.push,i=e.pop,s=t(d),l=t(!1),c=d;function f(e,t,n){var r=e.stateNode;r.__reactInternalMemoizedUnmaskedChildContext=t,r.__reactInternalMemoizedMaskedChildContext=n}function p(e){return e.tag===X&&null!=e.type.childContextTypes}function h(e,t){var n,i=e.stateNode,s=e.type.childContextTypes;if("function"!=typeof i.getChildContext){var l=on(e)||"Unknown";return ms[l]||(ms[l]=!0,o(!1,"%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",l,l)),t}for(var c in ln.setCurrentPhase("getChildContext"),ma(e,"getChildContext"),n=i.getChildContext(),va(),ln.setCurrentPhase(null),n)c in s||r(!1,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',on(e)||"Unknown",c);var f=on(e)||"Unknown";return u(s,n,"child context",f,ln.getCurrentFiberStackAddendum),a({},t,n)}return{getUnmaskedContext:function(e){return p(e)?c:s.current},cacheContext:f,getMaskedContext:function(e,t){var n=e.type.contextTypes;if(!n)return d;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={};for(var i in n)o[i]=t[i];var a=on(e)||"Unknown";return u(n,o,"context",a,ln.getCurrentFiberStackAddendum),r&&f(e,t,o),o},hasContextChanged:function(){return l.current},isContextConsumer:function(e){return e.tag===X&&null!=e.type.contextTypes},isContextProvider:p,popContextProvider:function(e){p(e)&&(i(l,e),i(s,e))},popTopLevelContextObject:function(e){i(l,e),i(s,e)},pushTopLevelContextObject:function(e,t,o){null!=s.cursor&&r(!1,"Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue."),n(s,t,e),n(l,o,e)},processChildContext:h,pushContextProvider:function(e){if(!p(e))return!1;var t=e.stateNode,r=t&&t.__reactInternalMemoizedMergedChildContext||d;return c=s.current,n(s,r,e),n(l,l.current,e),!0},invalidateContextProvider:function(e,t){var o=e.stateNode;if(o||r(!1,"Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue."),t){var a=h(e,c);o.__reactInternalMemoizedMergedChildContext=a,i(l,e),i(s,e),n(s,a,e),n(l,t,e)}else i(l,e),n(l,t,e)},findCurrentUnmaskedContext:function(e){Ur(e)&&e.tag===X||r(!1,"Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");for(var t=e;t.tag!==Z;){if(p(t))return t.stateNode.__reactInternalMemoizedMergedChildContext;var n=t.return;n||r(!1,"Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue."),t=n}return t.stateNode.context}}}(t),s=function(e){var t=e.createCursor,n=e.push,r=e.pop,i=t(null),a=t(null),s=t(0),u=void 0;return u={},{pushProvider:function(e){var t=e.type._context;n(s,t._changedBits,e),n(a,t._currentValue,e),n(i,e,e),t._currentValue=e.pendingProps.value,t._changedBits=e.stateNode,o(null===t._currentRenderer||t._currentRenderer===u,"Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),t._currentRenderer=u},popProvider:function(e){var t=s.current,n=a.current;r(i,e),r(a,e),r(s,e);var o=e.type._context;o._currentValue=n,o._changedBits=t}}}(t),l=n.popHostContext,c=n.popHostContainer,f=i.popTopLevelContextObject,p=i.popContextProvider,h=s.popProvider,y=hs(e),m=os(e,n,i,s,y,we,_e).beginWork,v=is(e,n,i,s,y).completeWork,g=function(e,t,n,r,o){var i=e.popHostContainer,a=e.popHostContext,s=t.popContextProvider,u=t.popTopLevelContextObject,l=n.popProvider;return{throwException:function(e,t,n){t.effectTag|=Mr,t.firstEffect=t.lastEffect=null;var r=as(n,t),i=e;do{switch(i.tag){case Z:var a=r;return Ta(i),i.updateQueue.capturedValues=[a],void(i.effectTag|=Lr);case X:var s=i.type,u=i.stateNode;if((i.effectTag&Or)===wr&&("function"==typeof s.getDerivedStateFromCatch&&qi||null!==u&&"function"==typeof u.componentDidCatch&&!o(u))){Ta(i);var l=i.updateQueue,c=l.capturedValues;return null===c?l.capturedValues=[r]:c.push(r),void(i.effectTag|=Lr)}}i=i.return}while(null!==i)},unwindWork:function(e){switch(e.tag){case X:s(e);var t=e.effectTag;return t&Lr?(e.effectTag=t&~Lr|Or,e):null;case Z:i(e),u(e);var n=e.effectTag;return n&Lr?(e.effectTag=n&~Lr|Or,e):null;case te:return a(e),null;case ee:return i(e),null;case le:return l(e),null;default:return null}},unwindInterruptedWork:function(e){switch(e.tag){case X:s(e);break;case Z:i(e),u(e);break;case te:a(e);break;case ee:i(e);break;case le:l(e)}}}}(n,i,s,0,ce),b=g.throwException,_=g.unwindWork,w=g.unwindInterruptedWork,x=ds(e,ge,0,0,function(e){null===$?$=new Set([e]):$.add(e)}),k=x.commitBeforeMutationLifeCycles,C=x.commitResetTextContent,S=x.commitPlacement,T=x.commitDeletion,E=x.commitWork,I=x.commitLifeCycles,O=x.commitErrorLogging,P=x.commitAttachRef,R=x.commitDetachRef,A=e.now,N=e.scheduleDeferredCallback,M=e.cancelDeferredCallback,L=e.prepareForCommit,q=e.resetAfterCommit,j=A(),D=(Xo(0),j),F=0,U=Qo,W=!1,B=null,H=null,z=Qo,V=null,K=!1,Q=!1,$=null,G=null,Y=void 0,J=void 0,ne=void 0,re=void 0,oe=void 0;function ie(){if(null!==B)for(var e=B.return;null!==e;)w(e),e=e.return;Si.discardPendingWarnings(),t.checkThatStackIsEmpty(),H=null,z=Qo,B=null,Q=!1}function ae(){for(;null!==V;){ln.setCurrentFiber(V),fa();var e=V.effectTag;if(e&Er&&C(V),e&Pr){var t=V.alternate;null!==t&&R(t)}switch(e&(kr|Cr|Tr)){case kr:S(V),V.effectTag&=~kr;break;case Sr:S(V),V.effectTag&=~kr;var n=V.alternate;E(n,V);break;case Cr:var r=V.alternate;E(r,V);break;case Tr:T(V)}V=V.nextEffect}ln.resetCurrentFiber()}function se(){for(;null!==V;){if(V.effectTag&Ar){fa();var e=V.alternate;k(e,V)}V=V.nextEffect}}function ue(e,t,n){for(Si.flushPendingUnsafeLifecycleWarnings(),Ui&&Si.flushPendingDeprecationWarnings();null!==V;){var r=V.effectTag;if(r&(Cr|Ir)){fa();var o=V.alternate;I(e,o,V,t,n)}r&Rr&&O(V,Ze),r&Pr&&(fa(),P(V));var i=V.nextEffect;V.nextEffect=null,V=i}}function ce(e){return null!==$&&$.has(e)}function fe(e){W=!0,K=!0,ba();var t=e.stateNode;t.current===e&&r(!1,"Cannot commit the same tree as before. This is probably a bug related to the return field. This error is likely caused by a bug in React. Please file an issue.");var n=t.pendingCommitExpirationTime;n===Qo&&r(!1,"Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue."),t.pendingCommitExpirationTime=Qo;var o=xe();Wt.current=null;var i=void 0;for(e.effectTag>xr?null!==e.lastEffect?(e.lastEffect.nextEffect=e,i=e.firstEffect):i=e:i=e.firstEffect,L(t.containerInfo),V=i,function(){if(Ni){if(!Wi)return;Gi=0,Zi("(Committing Snapshot Effects)")}}();null!==V;){var a=!1,s=void 0;vs(null,se,null),gs()&&(a=!0,s=bs()),a&&(null===V&&r(!1,"Should have next effect. This error is likely caused by a bug in React. Please file an issue."),ge(V,s),null!==V&&(V=V.nextEffect))}for(!function(){if(Ni){if(!Wi)return;var e=Gi;Gi=0,ea("(Committing Snapshot Effects: "+e+" Total)","(Committing Snapshot Effects)",null)}}(),V=i,function(){if(Ni){if(!Wi)return;Gi=0,Zi("(Committing Host Effects)")}}();null!==V;){var u=!1,l=void 0;vs(null,ae,null),gs()&&(u=!0,l=bs()),u&&(null===V&&r(!1,"Should have next effect. This error is likely caused by a bug in React. Please file an issue."),ge(V,l),null!==V&&(V=V.nextEffect))}for(!function(){if(Ni){if(!Wi)return;var e=Gi;Gi=0,ea("(Committing Host Effects: "+e+" Total)","(Committing Host Effects)",null)}}(),q(t.containerInfo),t.current=e,V=i,function(){if(Ni){if(!Wi)return;Gi=0,Zi("(Calling Lifecycle Methods)")}}();null!==V;){var c=!1,f=void 0;vs(null,ue,null,t,o,n),gs()&&(c=!0,f=bs()),c&&(null===V&&r(!1,"Should have next effect. This error is likely caused by a bug in React. Please file an issue."),ge(V,f),null!==V&&(V=V.nextEffect))}K=!1,W=!1,function(){if(Ni){if(!Wi)return;var e=Gi;Gi=0,ea("(Calling Lifecycle Methods: "+e+" Total)","(Calling Lifecycle Methods)",null)}}(),_a(),xi(e.stateNode),ys.debugTool&&ys.debugTool.onCommitWork(e);var d=t.current.expirationTime;return d===Qo&&($=null),d}function de(e,t){if(t===Go||e.expirationTime!==Go){for(var n=function(e){switch(e.tag){case Z:case X:var t=e.updateQueue;return null===t?Qo:t.expirationTime;default:return Qo}}(e),r=e.child;null!==r;)r.expirationTime!==Qo&&(n===Qo||n>r.expirationTime)&&(n=r.expirationTime),r=r.sibling;e.expirationTime=n}}function pe(e){for(;;){var t=e.alternate;ln.setCurrentFiber(e);var n=e.return,r=e.sibling;if((e.effectTag&Mr)===wr){var o=v(t,e,z);if(ha(e),de(e,z),ln.resetCurrentFiber(),null!==o)return ha(e),ys.debugTool&&ys.debugTool.onCompleteWork(e),o;if(null!==n&&(n.effectTag&Mr)===wr)null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),e.effectTag>xr&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e);if(ys.debugTool&&ys.debugTool.onCompleteWork(e),null!==r)return r;if(null!==n){e=n;continue}return Q=!0,null}var i=_(e);if(e.effectTag&Or?ya(e):ha(e),ln.resetCurrentFiber(),null!==i)return ha(e),ys.debugTool&&ys.debugTool.onCompleteWork(e),i.effectTag&=Nr,i;if(null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=Mr),ys.debugTool&&ys.debugTool.onCompleteWork(e),null!==r)return r;if(null===n)return null;e=n}return null}function he(e){var t=e.alternate;!function(e){if(Ni){if(!Wi||aa(e))return;if(Bi=e,!ra(e,null))return;e._debugIsCurrentlyTiming=!0}}(e),ln.setCurrentFiber(e),Fi&&(Y=mi(Y,e));var n=m(t,e,z);return ln.resetCurrentFiber(),ne&&oe(),ys.debugTool&&ys.debugTool.onBeginWork(e),null===n&&(n=pe(e)),Wt.current=null,n}function ye(e){if(e)for(;null!==B&&!Xe();)B=he(B);else for(;null!==B;)B=he(B)}function me(e,n,o){W&&r(!1,"renderRoot was called recursively. This error is likely caused by a bug in React. Please file an issue."),W=!0,n===z&&e===H&&null!==B||(ie(),z=n,B=ci((H=e).current,null,z),e.pendingCommitExpirationTime=Qo);var i=!1;for(!function(e){if(Ni){if(Bi=e,!Wi)return;$i=0,Zi("(React Tree Reconciliation)"),ca()}}(B);;){try{ye(o)}catch(e){if(null===B){i=!0,Ze(e);break}if(Fi)J(B,e,o);var a=B,s=a.return;if(null===s){i=!0,Ze(e);break}b(s,a,e),B=pe(a)}break}var u=!1;return W=!1,i?(ga(G,u),G=null,t.resetStackAfterFatalErrorInDev(),null):null!==B?(ga(G,u),G=null,null):Q?(ga(G,u=!0),G=null,e.pendingCommitExpirationTime=n,e.current.alternate):(ga(G,u),G=null,void r(!1,"Expired work should have completed. This error is likely caused by a bug in React. Please file an issue."))}function ve(e,t,n,r){Ea(t,{expirationTime:r,partialState:null,callback:null,isReplace:!1,isForced:!1,capturedValue:as(n,e),next:null}),we(t,r)}function ge(e,t){return function(e,t,n){W&&!K&&r(!1,"dispatch: Cannot dispatch during the render phase.");for(var o=e.return;null!==o;){switch(o.tag){case X:var i=o.type,a=o.stateNode;if("function"==typeof i.getDerivedStateFromCatch||"function"==typeof a.componentDidCatch&&!ce(a))return void ve(e,o,t,n);break;case Z:return void ve(e,o,t,n)}o=o.return}e.tag===Z&&ve(e,e,t,n)}(e,t,$o)}function be(e){return ei(e,5e3,250)}function _e(e){var t=void 0;if(U!==Qo)t=U;else if(W)t=K?$o:z;else{if(e.mode&ni)if(De)t=function(e){return ei(e,500,100)}(xe());else t=be(xe());else t=$o}return De&&(Re===Qo||t>Re)&&(Re=t),t}function we(e,t){return function(e,t,n){if(da(),!n&&e.tag===X){var o=e.stateNode;ks(o)}var i=e;for(;null!==i;){if((i.expirationTime===Qo||i.expirationTime>t)&&(i.expirationTime=t),null!==i.alternate&&(i.alternate.expirationTime===Qo||i.alternate.expirationTime>t)&&(i.alternate.expirationTime=t),null===i.return){if(i.tag!==Z)return void(n||e.tag!==X||xs(e));var a=i.stateNode;!W&&z!==Qo&&t<z&&(G=e,ie()),W&&!K&&H===a||ze(a,t),We>Ue&&r(!1,"Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.")}i=i.return}}(e,t,!1)}function xe(){return D=A()-j,Xo(D)}function ke(e,t,n,r,o){var i=U;U=$o;try{return e(t,n,r,o)}finally{U=i}}Fi&&(Y=null,ne=!1,re=null,J=function(e,t,n){switch(mi(e,Y),e.tag){case Z:c(e),f(e);break;case te:l(e);break;case X:p(e);break;case ee:c(e);break;case le:h(e)}ne=!0,re=t,vs(null,ye,null,n),ne=!1,re=null,gs()?bs():B=e},oe=function(){throw re});var Ce=null,Se=null,Te=Qo,Ee=-1,Ie=!1,Oe=null,Pe=Qo,Re=Qo,Ae=!1,Ne=!1,Me=null,Le=null,qe=!1,je=!1,De=!1,Fe=null,Ue=1e3,We=0,Be=1;function He(e){if(Te!==Qo){if(e>Te)return;M(Ee)}else Ni&&Wi&&!Yi&&(Yi=!0,Zi("(Waiting for async callback...)"));var t=A()-j,n=Zo(e);Te=e,Ee=N(Ke,{timeout:n-t})}function ze(e,t){!function(e,t){if(null===e.nextScheduledRoot)e.remainingExpirationTime=t,null===Se?(Ce=Se=e,e.nextScheduledRoot=e):(Se.nextScheduledRoot=e,(Se=e).nextScheduledRoot=Ce);else{var n=e.remainingExpirationTime;(n===Qo||t<n)&&(e.remainingExpirationTime=t)}}(e,t),Ie||(qe?je&&(Oe=e,Pe=$o,Ye(e,$o,!1)):t===$o?Qe():He(t))}function Ve(){var e=Qo,t=null;if(null!==Se)for(var n=Se,o=Ce;null!==o;){var i=o.remainingExpirationTime;if(i===Qo){if((null===n||null===Se)&&r(!1,"Should have a previous and last root. This error is likely caused by a bug in React. Please file an issue."),o===o.nextScheduledRoot){o.nextScheduledRoot=null,Ce=Se=null;break}if(o===Ce){var a=o.nextScheduledRoot;Ce=a,Se.nextScheduledRoot=a,o.nextScheduledRoot=null}else{if(o===Se){(Se=n).nextScheduledRoot=Ce,o.nextScheduledRoot=null;break}n.nextScheduledRoot=o.nextScheduledRoot,o.nextScheduledRoot=null}o=n.nextScheduledRoot}else{if((e===Qo||i<e)&&(e=i,t=o),o===Se)break;n=o,o=o.nextScheduledRoot}}null!==Oe&&Oe===t&&e===$o?We++:We=0,Oe=t,Pe=e}function Ke(e){$e(Qo,!0,e)}function Qe(){$e($o,!1,null)}function $e(e,t,n){(Le=n,Ve(),Ni&&null!==Le)&&function(e,t){Ni&&Wi&&(Yi=!1,ea("(Waiting for async callback... will force flush in "+t+" ms)","(Waiting for async callback...)",e?"React was blocked by main thread":null))}(Pe<xe(),Zo(Pe));if(t)for(;null!==Oe&&Pe!==Qo&&(e===Qo||e>=Pe)&&(!Ae||xe()>=Pe);)Ye(Oe,Pe,!Ae),Ve();else for(;null!==Oe&&Pe!==Qo&&(e===Qo||e>=Pe);)Ye(Oe,Pe,!1),Ve();null!==Le&&(Te=Qo,Ee=-1),Pe!==Qo&&He(Pe),Le=null,Ae=!1,Ge()}function Ge(){if(We=0,null!==Fe){var e=Fe;Fe=null;for(var t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(r){Ne||(Ne=!0,Me=r)}}}if(Ne){var r=Me;throw Me=null,Ne=!1,r}}function Ye(e,t,n){if(Ie&&r(!1,"performWorkOnRoot was called recursively. This error is likely caused by a bug in React. Please file an issue."),Ie=!0,n){var o=e.finishedWork;null!==o?Je(e,o,t):(e.finishedWork=null,null!==(o=me(e,t,!0))&&(Xe()?e.finishedWork=o:Je(e,o,t)))}else{var i=e.finishedWork;null!==i?Je(e,i,t):(e.finishedWork=null,null!==(i=me(e,t,!1))&&Je(e,i,t))}Ie=!1}function Je(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime<=n&&(null===Fe?Fe=[r]:Fe.push(r),r._defer))return e.finishedWork=t,void(e.remainingExpirationTime=Qo);e.finishedWork=null,e.remainingExpirationTime=fe(t)}function Xe(){return null!==Le&&(!(Le.timeRemaining()>Be)&&(Ae=!0,!0))}function Ze(e){null===Oe&&r(!1,"Should be working on a root. This error is likely caused by a bug in React. Please file an issue."),Oe.remainingExpirationTime=Qo,Ne||(Ne=!0,Me=e)}return{recalculateCurrentTime:xe,computeExpirationForFiber:_e,scheduleWork:we,requestWork:ze,flushRoot:function(e,t){Ie&&r(!1,"work.commit(): Cannot commit while already rendering. This likely means you attempted to commit from inside a lifecycle method."),Oe=e,Pe=t,Ye(e,t,!1),Qe(),Ge()},batchedUpdates:function(e,t){var n=qe;qe=!0;try{return e(t)}finally{(qe=n)||Ie||Qe()}},unbatchedUpdates:function(e,t){if(qe&&!je){je=!0;try{return e(t)}finally{je=!1}}return e(t)},flushSync:function(e,t){Ie&&r(!1,"flushSync was called from inside a lifecycle method. It cannot be called when React is already rendering.");var n=qe;qe=!0;try{return ke(e,t)}finally{qe=n,Qe()}},flushControlled:function(e){var t=qe;qe=!0;try{ke(e)}finally{(qe=t)||Ie||$e($o,!1,null)}},deferredUpdates:function(e){var t=U,n=xe();U=be(n);try{return e()}finally{U=t}},syncUpdates:ke,interactiveUpdates:function(e,t,n){if(De)return e(t,n);qe||Ie||Re===Qo||($e(Re,!1,null),Re=Qo);var r=De,o=qe;De=!0,qe=!0;try{return e(t,n)}finally{De=r,(qe=o)||Ie||Qe()}},flushInteractiveUpdates:function(){Ie||Re===Qo||($e(Re,!1,null),Re=Qo)},computeUniqueAsyncExpiration:function(){var e=be(xe());return e<=F&&(e=F+1),F=e},legacyContext:i}},Ts=void 0;Ts=!1;var Es=function(e){var t=e.getPublicInstance,n=Ss(e),r=n.computeUniqueAsyncExpiration,i=n.recalculateCurrentTime,s=n.computeExpirationForFiber,u=n.scheduleWork,l=n.requestWork,c=n.flushRoot,f=n.batchedUpdates,p=n.unbatchedUpdates,h=n.flushSync,y=n.flushControlled,m=n.deferredUpdates,v=n.syncUpdates,g=n.interactiveUpdates,b=n.flushInteractiveUpdates,_=n.legacyContext,w=_.findCurrentUnmaskedContext,x=_.isContextProvider,k=_.processChildContext;function C(e,t,n,r,i,a){var s=t.current;ys.debugTool&&(null===s.alternate?ys.debugTool.onMountContainer(t):null===e?ys.debugTool.onUnmountContainer(t):ys.debugTool.onUpdateContainer(t));var l=function(e){if(!e)return d;var t=_r(e),n=w(t);return x(t)?k(t,n):n}(n);return null===t.context?t.context=l:t.pendingContext=l,function(e,t,n,r,i){return"render"!==ln.phase||null===ln.current||Ts||(Ts=!0,o(!1,"Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.\n\nCheck the render method of %s.",on(ln.current)||"Unknown")),o(null===(i=void 0===i?null:i)||"function"==typeof i,"render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",i),Ea(e,{expirationTime:r,partialState:{element:t},callback:i,isReplace:!1,isForced:!1,capturedValue:null,next:null}),u(e,r),r}(s,e,0,i,a)}function S(e){var t=function(e){var t=Hr(e);if(!t)return null;for(var n=t;;){if(n.tag===te||n.tag===ne)return n;if(n.child)n.child.return=n,n=n.child;else{if(n===t)return null;for(;!n.sibling;){if(!n.return||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}(e);return null===t?null:t.stateNode}return{createContainer:function(e,t,n){return vi(e,t,n)},updateContainer:function(e,t,n,r){var o=t.current;i();return C(e,t,n,0,s(o),r)},updateContainerAtExpirationTime:function(e,t,n,r,o){i();return C(e,t,n,0,r,o)},flushRoot:c,requestWork:l,computeUniqueAsyncExpiration:r,batchedUpdates:f,unbatchedUpdates:p,deferredUpdates:m,syncUpdates:v,interactiveUpdates:g,flushInteractiveUpdates:b,flushControlled:y,flushSync:h,getPublicRootInstance:function(e){var n=e.current;if(!n.child)return null;switch(n.child.tag){case te:return t(n.child.stateNode);default:return n.child.stateNode}},findHostInstance:S,findHostInstanceWithNoPortals:function(e){var t=function(e){var t=Hr(e);if(!t)return null;for(var n=t;;){if(n.tag===te||n.tag===ne)return n;if(n.child&&n.tag!==ee)n.child.return=n,n=n.child;else{if(n===t)return null;for(;!n.sibling;){if(!n.return||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}(e);return null===t?null:t.stateNode},injectIntoDevTools:function(e){var t=e.findFiberByHostInstance;return function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled)return!0;if(!t.supportsFiber)return o(!1,"The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://fb.me/react-devtools"),!0;try{var n=t.inject(e);gi=wi(function(e){return t.onCommitFiberRoot(n,e)}),bi=wi(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){o(!1,"React DevTools encountered an error: %s.",e)}return!0}(a({},e,{findHostInstanceByFiber:function(e){return S(e)},findFiberByHostInstance:function(e){return t?t(e):null}}))}}},Is=Object.freeze({default:Es}),Os=Is&&Es||Is,Ps=Os.default?Os.default:Os;i.canUseDOM&&"function"!=typeof requestAnimationFrame&&o(!1,"React depends on requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills");var Rs="object"==typeof performance&&"function"==typeof performance.now,As=void 0;As=Rs?function(){return performance.now()}:function(){return Date.now()};var Ns=void 0,Ms=void 0;if(i.canUseDOM)if("function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback){var Ls=null,qs=!1,js=-1,Ds=!1,Fs=0,Us=33,Ws=33,Bs=void 0;Bs=Rs?{didTimeout:!1,timeRemaining:function(){var e=Fs-performance.now();return e>0?e:0}}:{didTimeout:!1,timeRemaining:function(){var e=Fs-Date.now();return e>0?e:0}};var Hs="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===Hs){qs=!1;var t=As();if(Fs-t<=0){if(!(-1!==js&&js<=t))return void(Ds||(Ds=!0,requestAnimationFrame(zs)));Bs.didTimeout=!0}else Bs.didTimeout=!1;js=-1;var n=Ls;Ls=null,null!==n&&n(Bs)}},!1);var zs=function(e){Ds=!1;var t=e-Fs+Ws;t<Ws&&Us<Ws?(t<8&&(t=8),Ws=t<Us?Us:t):Us=t,Fs=e+Ws,qs||(qs=!0,window.postMessage(Hs,"*"))};Ns=function(e,t){return Ls=e,null!=t&&"number"==typeof t.timeout&&(js=As()+t.timeout),Ds||(Ds=!0,requestAnimationFrame(zs)),0},Ms=function(){Ls=null,qs=!1,js=-1}}else Ns=window.requestIdleCallback,Ms=window.cancelIdleCallback;else Ns=function(e){return setTimeout(function(){e({timeRemaining:function(){return 1/0},didTimeout:!1})})},Ms=function(e){clearTimeout(e)};var Vs=!1;function Ks(e,t){null==t.selected||Vs||(o(!1,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),Vs=!0)}function Qs(e,n){var r=a({children:void 0},n),o=function(e){var n="";return t.Children.forEach(e,function(e){null!=e&&("string"!=typeof e&&"number"!=typeof e||(n+=e))}),n}(n.children);return o&&(r.children=o),r}var $s=ln.getCurrentFiberOwnerName,Gs=ln.getCurrentFiberStackAddendum,Ys=void 0;function Js(){var e=$s();return e?"\n\nCheck the render method of `"+e+"`.":""}Ys=!1;var Xs=["value","defaultValue"];function Zs(e,t,n,r){var o=e.options;if(t){for(var i=n,a={},s=0;s<i.length;s++)a["$"+i[s]]=!0;for(var u=0;u<o.length;u++){var l=a.hasOwnProperty("$"+o[u].value);o[u].selected!==l&&(o[u].selected=l),l&&r&&(o[u].defaultSelected=!0)}}else{for(var c=""+n,f=null,d=0;d<o.length;d++){if(o[d].value===c)return o[d].selected=!0,void(r&&(o[d].defaultSelected=!0));null!==f||o[d].disabled||(f=o[d])}null!==f&&(f.selected=!0)}}function eu(e,t){return a({},t,{value:void 0})}function tu(e,t){var n=e;!function(e){Mn.checkPropTypes("select",e,Gs);for(var t=0;t<Xs.length;t++){var n=Xs[t];if(null!=e[n]){var r=Array.isArray(e[n]);e.multiple&&!r?o(!1,"The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",n,Js()):!e.multiple&&r&&o(!1,"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",n,Js())}}}(t);var r=t.value;n._wrapperState={initialValue:null!=r?r:t.defaultValue,wasMultiple:!!t.multiple},void 0===t.value||void 0===t.defaultValue||Ys||(o(!1,"Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://fb.me/react-controlled-components"),Ys=!0)}var nu=ln.getCurrentFiberStackAddendum,ru=!1;function ou(e,t){var n=e;return null!=t.dangerouslySetInnerHTML&&r(!1,"`dangerouslySetInnerHTML` does not make sense on <textarea>."),a({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function iu(e,t){var n=e;Mn.checkPropTypes("textarea",t,nu),void 0===t.value||void 0===t.defaultValue||ru||(o(!1,"Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://fb.me/react-controlled-components"),ru=!0);var i=t.value;if(null==i){var a=t.defaultValue,s=t.children;null!=s&&(o(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."),null!=a&&r(!1,"If you supply `defaultValue` on a <textarea>, do not pass children."),Array.isArray(s)&&(s.length<=1||r(!1,"<textarea> can only have at most one child."),s=s[0]),a=""+s),null==a&&(a=""),i=a}n._wrapperState={initialValue:""+i}}function au(e,t){var n=e,r=t.value;if(null!=r){var o=""+r;o!==n.value&&(n.value=o),null==t.defaultValue&&(n.defaultValue=o)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)}function su(e,t){var n=e,r=n.textContent;r===n._wrapperState.initialValue&&(n.value=r)}var uu="http://www.w3.org/1999/xhtml",lu="http://www.w3.org/1998/Math/MathML",cu="http://www.w3.org/2000/svg",fu={html:uu,mathml:lu,svg:cu};function du(e){switch(e){case"svg":return cu;case"math":return lu;default:return uu}}function pu(e,t){return null==e||e===uu?du(t):e===cu&&"foreignObject"===t?uu:e}var hu,yu=void 0,mu=(hu=function(e,t){if(e.namespaceURI!==fu.svg||"innerHTML"in e)e.innerHTML=t;else{(yu=yu||document.createElement("div")).innerHTML="<svg>"+t+"</svg>";for(var n=yu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return hu(e,t,n,r)})}:hu),vu=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===Pt)return void(n.nodeValue=t)}e.textContent=t},gu={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};var bu=["Webkit","ms","Moz","O"];function _u(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||gu.hasOwnProperty(e)&&gu[e]?(""+t).trim():t+"px"}Object.keys(gu).forEach(function(e){bu.forEach(function(t){gu[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=gu[e]})});var wu=/^(?:webkit|moz|o)[A-Z]/,xu=/;\s*$/,ku={},Cu={},Su=!1,Tu=!1,Eu=function(e,t,n){e.indexOf("-")>-1?function(e,t){ku.hasOwnProperty(e)&&ku[e]||(ku[e]=!0,o(!1,"Unsupported style property %s. Did you mean %s?%s",e,h(e),t()))}(e,n):wu.test(e)?function(e,t){ku.hasOwnProperty(e)&&ku[e]||(ku[e]=!0,o(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?%s",e,e.charAt(0).toUpperCase()+e.slice(1),t()))}(e,n):xu.test(t)&&function(e,t,n){Cu.hasOwnProperty(t)&&Cu[t]||(Cu[t]=!0,o(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.%s',e,t.replace(xu,""),n()))}(e,t,n),"number"==typeof t&&(isNaN(t)?function(e,t,n){Su||(Su=!0,o(!1,"`NaN` is an invalid value for the `%s` css style property.%s",e,n()))}(e,0,n):isFinite(t)||function(e,t,n){Tu||(Tu=!0,o(!1,"`Infinity` is an invalid value for the `%s` css style property.%s",e,n()))}(e,0,n))};function Iu(e){var t="",n="";for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];if(null!=o){var i=0===r.indexOf("--");t+=n+p(r)+":",t+=_u(r,o,i),n=";"}}return t||null}function Ou(e,t,n){var r=e.style;for(var o in t)if(t.hasOwnProperty(o)){var i=0===o.indexOf("--");i||Eu(o,t[o],n);var a=_u(o,t[o],i);"float"===o&&(o="cssFloat"),i?r.setProperty(o,a):r[o]=a}}var Pu=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Ru="__html";function Au(e,t,n){t&&(Pu[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&r(!1,"%s is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.%s",e,n()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&r(!1,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."),"object"==typeof t.dangerouslySetInnerHTML&&Ru in t.dangerouslySetInnerHTML||r(!1,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information.")),o(t.suppressContentEditableWarning||!t.contentEditable||null==t.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional.%s",n()),null!=t.style&&"object"!=typeof t.style&&r(!1,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",n()))}function Nu(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",download:"download",draggable:"draggable",enctype:"encType",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},Lu={"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},qu={},ju=new RegExp("^(aria)-["+vn+"]*$"),Du=new RegExp("^(aria)[A-Z]["+vn+"]*$"),Fu=Object.prototype.hasOwnProperty;function Uu(){var e=Bt.getStackAddendum();return null!=e?e:""}function Wu(e,t){if(Fu.call(qu,t)&&qu[t])return!0;if(Du.test(t)){var n="aria-"+t.slice(4).toLowerCase(),r=Lu.hasOwnProperty(n)?n:null;if(null==r)return o(!1,"Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.%s",t,Uu()),qu[t]=!0,!0;if(t!==r)return o(!1,"Invalid ARIA attribute `%s`. Did you mean `%s`?%s",t,r,Uu()),qu[t]=!0,!0}if(ju.test(t)){var i=t.toLowerCase(),a=Lu.hasOwnProperty(i)?i:null;if(null==a)return qu[t]=!0,!1;if(t!==a)return o(!1,"Unknown ARIA attribute `%s`. Did you mean `%s`?%s",t,a,Uu()),qu[t]=!0,!0}return!0}function Bu(e,t){Nu(e,t)||function(e,t){var n=[];for(var r in t)Wu(0,r)||n.push(r);var i=n.map(function(e){return"`"+e+"`"}).join(", ");1===n.length?o(!1,"Invalid aria prop %s on <%s> tag. For details, see https://fb.me/invalid-aria-prop%s",i,e,Uu()):n.length>1&&o(!1,"Invalid aria props %s on <%s> tag. For details, see https://fb.me/invalid-aria-prop%s",i,e,Uu())}(e,t)}var Hu=!1;function zu(){var e=Bt.getStackAddendum();return null!=e?e:""}function Vu(){var e=Bt.getStackAddendum();return null!=e?e:""}var Ku,Qu={},$u=Object.prototype.hasOwnProperty,Gu=/^on./,Yu=/^on[^A-Z]/,Ju=new RegExp("^(aria)-["+vn+"]*$"),Xu=new RegExp("^(aria)[A-Z]["+vn+"]*$");Ku=function(e,t,n,r){if($u.call(Qu,t)&&Qu[t])return!0;var i=t.toLowerCase();if("onfocusin"===i||"onfocusout"===i)return o(!1,"React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),Qu[t]=!0,!0;if(r){if(E.hasOwnProperty(t))return!0;var a=O.hasOwnProperty(i)?O[i]:null;if(null!=a)return o(!1,"Invalid event handler property `%s`. Did you mean `%s`?%s",t,a,Vu()),Qu[t]=!0,!0;if(Gu.test(t))return o(!1,"Unknown event handler property `%s`. It will be ignored.%s",t,Vu()),Qu[t]=!0,!0}else if(Gu.test(t))return Yu.test(t)&&o(!1,"Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.%s",t,Vu()),Qu[t]=!0,!0;if(Ju.test(t)||Xu.test(t))return!0;if("innerhtml"===i)return o(!1,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),Qu[t]=!0,!0;if("aria"===i)return o(!1,"The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),Qu[t]=!0,!0;if("is"===i&&null!==n&&void 0!==n&&"string"!=typeof n)return o(!1,"Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.%s",typeof n,Vu()),Qu[t]=!0,!0;if("number"==typeof n&&isNaN(n))return o(!1,"Received NaN for the `%s` attribute. If this is expected, cast the value to a string.%s",t,Vu()),Qu[t]=!0,!0;var s=Tn(t),u=null!==s&&s.type===cn;if(Mu.hasOwnProperty(i)){var l=Mu[i];if(l!==t)return o(!1,"Invalid DOM property `%s`. Did you mean `%s`?%s",t,l,Vu()),Qu[t]=!0,!0}else if(!u&&t!==i)return o(!1,"React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.%s",t,i,Vu()),Qu[t]=!0,!0;return"boolean"==typeof n&&Cn(t,n,s,!1)?(n?o(!1,'Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.%s',n,t,t,n,t,Vu()):o(!1,'Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.%s',n,t,t,n,t,t,t,Vu()),Qu[t]=!0,!0):!!u||(!Cn(t,n,s,!1)||(Qu[t]=!0,!1))};var Zu=function(e,t,n){var r=[];for(var i in t){Ku(0,i,t[i],n)||r.push(i)}var a=r.map(function(e){return"`"+e+"`"}).join(", ");1===r.length?o(!1,"Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://fb.me/react-attribute-behavior%s",a,e,Vu()):r.length>1&&o(!1,"Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://fb.me/react-attribute-behavior%s",a,e,Vu())};var el,tl=ln.getCurrentFiberOwnerName,nl=ln.getCurrentFiberStackAddendum,rl=!1,ol=!1,il="dangerouslySetInnerHTML",al="suppressContentEditableWarning",sl="suppressHydrationWarning",ul="autoFocus",ll="children",cl="style",fl="__html",dl=fu.html,pl=s.thatReturns(""),hl=void 0,yl=void 0,ml=void 0,vl=void 0,gl=void 0,bl=void 0,_l=void 0,wl=void 0;pl=nl,hl={time:!0,dialog:!0},ml=function(e,t){Bu(e,t),function(e,t){"input"!==e&&"textarea"!==e&&"select"!==e||null==t||null!==t.value||Hu||(Hu=!0,"select"===e&&t.multiple?o(!1,"`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.%s",e,zu()):o(!1,"`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.%s",e,zu()))}(e,t),function(e,t,n){Nu(e,t)||Zu(e,t,n)}(e,t,!0)};var xl=/\r\n?/g,kl=/\u0000|\uFFFD/g;function Cl(e,t){!function(e,t){for(var n=t,r=Po(n),o=I[e],i=0;i<o.length;i++){var a=o[i];r.hasOwnProperty(a)&&r[a]||("topScroll"===a?mo("topScroll","scroll",n):"topFocus"===a||"topBlur"===a?(mo("topFocus","focus",n),mo("topBlur","blur",n),r.topBlur=!0,r.topFocus=!0):"topCancel"===a?(Lt("cancel",!0)&&mo("topCancel","cancel",n),r.topCancel=!0):"topClose"===a?(Lt("close",!0)&&mo("topClose","close",n),r.topClose=!0):So.hasOwnProperty(a)&&yo(a,So[a],n),r[a]=!0)}}(t,e.nodeType===At||e.nodeType===Nt?e:e.ownerDocument)}function Sl(e){return e.nodeType===At?e:e.ownerDocument}function Tl(e){e.onclick=s}function El(e,t,n,r){var i=void 0,a=Sl(n),s=void 0,u=r;if(u===dl&&(u=du(e)),u===dl)if(i=Nu(e,t),o(i||e===e.toLowerCase(),"<%s /> is using uppercase HTML. Always use lowercase HTML tags in React.",e),"script"===e){var l=a.createElement("div");l.innerHTML="<script><\/script>";var c=l.firstChild;s=l.removeChild(c)}else s="string"==typeof t.is?a.createElement(e,{is:t.is}):a.createElement(e);else s=a.createElementNS(u,e);return u===dl&&(i||"[object HTMLUnknownElement]"!==Object.prototype.toString.call(s)||Object.prototype.hasOwnProperty.call(hl,e)||(hl[e]=!0,o(!1,"The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",e))),s}function Il(e,t){return Sl(t).createTextNode(e)}function Ol(e,t,n,r){var i=Nu(t,n);ml(t,n),i&&!ol&&e.shadyRoot&&(o(!1,"%s is using shady DOM. Using shady DOM with React can cause things to break subtly.",tl()||"A component"),ol=!0);var a=void 0;switch(t){case"iframe":case"object":yo("topLoad","load",e),a=n;break;case"video":case"audio":for(var s in To)To.hasOwnProperty(s)&&yo(s,To[s],e);a=n;break;case"source":yo("topError","error",e),a=n;break;case"img":case"image":case"link":yo("topError","error",e),yo("topLoad","load",e),a=n;break;case"form":yo("topReset","reset",e),yo("topSubmit","submit",e),a=n;break;case"details":yo("topToggle","toggle",e),a=n;break;case"input":Vn(e,n),a=zn(e,n),yo("topInvalid","invalid",e),Cl(r,"onChange");break;case"option":Ks(0,n),a=Qs(0,n);break;case"select":tu(e,n),a=eu(0,n),yo("topInvalid","invalid",e),Cl(r,"onChange");break;case"textarea":iu(e,n),a=ou(e,n),yo("topInvalid","invalid",e),Cl(r,"onChange");break;default:a=n}switch(Au(t,a,pl),function(e,t,n,r,o){for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];if(i===cl)a&&Object.freeze(a),Ou(t,a,pl);else if(i===il){var s=a?a[fl]:void 0;null!=s&&mu(t,s)}else i===ll?"string"==typeof a?("textarea"!==e||""!==a)&&vu(t,a):"number"==typeof a&&vu(t,""+a):i===al||i===sl||i===ul||(E.hasOwnProperty(i)?null!=a&&("function"!=typeof a&&_l(i,a),Cl(n,i)):null!=a&&Nn(t,i,a,o))}}(t,e,r,a,i),t){case"input":Dt(e),$n(e,n);break;case"textarea":Dt(e),su(e);break;case"option":!function(e,t){null!=t.value&&e.setAttribute("value",t.value)}(e,n);break;case"select":!function(e,t){var n=e;n.multiple=!!t.multiple;var r=t.value;null!=r?Zs(n,!!t.multiple,r,!1):null!=t.defaultValue&&Zs(n,!!t.multiple,t.defaultValue,!0)}(e,n);break;default:"function"==typeof a.onClick&&Tl(e)}}function Pl(e,t,n,r,o){ml(t,r);var i=null,a=void 0,s=void 0;switch(t){case"input":a=zn(e,n),s=zn(e,r),i=[];break;case"option":a=Qs(0,n),s=Qs(0,r),i=[];break;case"select":a=eu(0,n),s=eu(0,r),i=[];break;case"textarea":a=ou(e,n),s=ou(e,r),i=[];break;default:s=r,"function"!=typeof(a=n).onClick&&"function"==typeof s.onClick&&Tl(e)}Au(t,s,pl);var u=void 0,l=void 0,c=null;for(u in a)if(!s.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if(u===cl){var f=a[u];for(l in f)f.hasOwnProperty(l)&&(c||(c={}),c[l]="")}else u===il||u===ll||u===al||u===sl||u===ul||(E.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var d=s[u],p=null!=a?a[u]:void 0;if(s.hasOwnProperty(u)&&d!==p&&(null!=d||null!=p))if(u===cl)if(d&&Object.freeze(d),p){for(l in p)!p.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(c||(c={}),c[l]="");for(l in d)d.hasOwnProperty(l)&&p[l]!==d[l]&&(c||(c={}),c[l]=d[l])}else c||(i||(i=[]),i.push(u,c)),c=d;else if(u===il){var h=d?d[fl]:void 0,y=p?p[fl]:void 0;null!=h&&y!==h&&(i=i||[]).push(u,""+h)}else u===ll?p===d||"string"!=typeof d&&"number"!=typeof d||(i=i||[]).push(u,""+d):u===al||u===sl||(E.hasOwnProperty(u)?(null!=d&&("function"!=typeof d&&_l(u,d),Cl(o,u)),i||p===d||(i=[])):(i=i||[]).push(u,d))}return c&&(i=i||[]).push(cl,c),i}function Rl(e,t,n,r,o){"input"===n&&"radio"===o.type&&null!=o.name&&Kn(e,o);Nu(n,r);switch(function(e,t,n,r){for(var o=0;o<t.length;o+=2){var i=t[o],a=t[o+1];i===cl?Ou(e,a,pl):i===il?mu(e,a):i===ll?vu(e,a):Nn(e,i,a,r)}}(e,t,0,Nu(n,o)),n){case"input":Qn(e,o);break;case"textarea":au(e,o);break;case"select":!function(e,t){var n=e;n._wrapperState.initialValue=void 0;var r=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!t.multiple;var o=t.value;null!=o?Zs(n,!!t.multiple,o,!1):r!==!!t.multiple&&(null!=t.defaultValue?Zs(n,!!t.multiple,t.defaultValue,!0):Zs(n,!!t.multiple,t.multiple?[]:"",!1))}(e,o)}}function Al(e,t,n,r,i){var a,s=void 0;switch(yl=!0===n[sl],a=Nu(t,n),ml(t,n),a&&!ol&&e.shadyRoot&&(o(!1,"%s is using shady DOM. Using shady DOM with React can cause things to break subtly.",tl()||"A component"),ol=!0),t){case"iframe":case"object":yo("topLoad","load",e);break;case"video":case"audio":for(var u in To)To.hasOwnProperty(u)&&yo(u,To[u],e);break;case"source":yo("topError","error",e);break;case"img":case"image":case"link":yo("topError","error",e),yo("topLoad","load",e);break;case"form":yo("topReset","reset",e),yo("topSubmit","submit",e);break;case"details":yo("topToggle","toggle",e);break;case"input":Vn(e,n),yo("topInvalid","invalid",e),Cl(i,"onChange");break;case"option":Ks(0,n);break;case"select":tu(e,n),yo("topInvalid","invalid",e),Cl(i,"onChange");break;case"textarea":iu(e,n),yo("topInvalid","invalid",e),Cl(i,"onChange")}Au(t,n,pl),s=new Set;for(var l=e.attributes,c=0;c<l.length;c++){switch(l[c].name.toLowerCase()){case"data-reactroot":case"value":case"checked":case"selected":break;default:s.add(l[c].name)}}var f,d=null;for(var p in n)if(n.hasOwnProperty(p)){var h=n[p];if(p===ll)"string"==typeof h?e.textContent!==h&&(yl||vl(e.textContent,h),d=[ll,h]):"number"==typeof h&&e.textContent!==""+h&&(yl||vl(e.textContent,h),d=[ll,""+h]);else if(E.hasOwnProperty(p))null!=h&&("function"!=typeof h&&_l(p,h),Cl(i,p));else if("boolean"==typeof a){var y=void 0,m=Tn(p);if(yl);else if(p===al||p===sl||"value"===p||"checked"===p||"selected"===p);else if(p===il){var v=h&&h[fl]||"",g=e.innerHTML,b=wl(e,v);b!==g&&gl(p,g,b)}else if(p===cl){s.delete(p);var _=Iu(h);_!==(y=e.getAttribute("style"))&&gl(p,y,_)}else if(a)s.delete(p.toLowerCase()),h!==(y=An(e,p,h))&&gl(p,y,h);else if(!kn(p,m,a)&&!Sn(p,h,m,a)){var w=!1;if(null!==m)s.delete(m.attributeName),y=Rn(e,p,h,m);else{var x=r;if(x===dl&&(x=du(t)),x===dl)s.delete(p.toLowerCase());else{var k=(void 0,f=p.toLowerCase(),Mu.hasOwnProperty(f)&&Mu[f]||null);null!==k&&k!==p&&(w=!0,s.delete(k)),s.delete(p)}y=An(e,p,h)}h===y||w||gl(p,y,h)}}}switch(s.size>0&&!yl&&bl(s),t){case"input":Dt(e),$n(e,n);break;case"textarea":Dt(e),su(e);break;case"select":case"option":break;default:"function"==typeof n.onClick&&Tl(e)}return d}function Nl(e,t){return e.nodeValue!==t}function Ml(e,t){vl(e.nodeValue,t)}function Ll(e,t){rl||(rl=!0,o(!1,"Did not expect server HTML to contain a <%s> in <%s>.",t.nodeName.toLowerCase(),e.nodeName.toLowerCase()))}function ql(e,t){rl||(rl=!0,o(!1,'Did not expect server HTML to contain the text node "%s" in <%s>.',t.nodeValue,e.nodeName.toLowerCase()))}function jl(e,t,n){rl||(rl=!0,o(!1,"Expected server HTML to contain a matching <%s> in <%s>.",t,e.nodeName.toLowerCase()))}function Dl(e,t){""!==t&&(rl||(rl=!0,o(!1,'Expected server HTML to contain a matching text node for "%s" in <%s>.',t,e.nodeName.toLowerCase())))}el=function(e){return("string"==typeof e?e:""+e).replace(xl,"\n").replace(kl,"")},vl=function(e,t){if(!rl){var n=el(t),r=el(e);r!==n&&(rl=!0,o(!1,'Text content did not match. Server: "%s" Client: "%s"',r,n))}},gl=function(e,t,n){if(!rl){var r=el(n),i=el(t);i!==r&&(rl=!0,o(!1,"Prop `%s` did not match. Server: %s Client: %s",e,JSON.stringify(i),JSON.stringify(r)))}},bl=function(e){if(!rl){rl=!0;var t=[];e.forEach(function(e){t.push(e)}),o(!1,"Extra attributes from the server: %s",t)}},_l=function(e,t){!1===t?o(!1,"Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.%s",e,e,e,nl()):o(!1,"Expected `%s` listener to be a function, instead got a value of `%s` type.%s",e,typeof t,nl())},wl=function(e,t){var n=e.namespaceURI===dl?e.ownerDocument.createElement(e.tagName):e.ownerDocument.createElementNS(e.namespaceURI,e.tagName);return n.innerHTML=t,n.innerHTML};var Fl,Ul=Object.freeze({createElement:El,createTextNode:Il,setInitialProperties:Ol,diffProperties:Pl,updateProperties:Rl,diffHydratedProperties:Al,diffHydratedText:Nl,warnForUnmatchedText:Ml,warnForDeletedHydratableElement:Ll,warnForDeletedHydratableText:ql,warnForInsertedHydratedElement:jl,warnForInsertedHydratedText:Dl,restoreControlledState:function(e,t,n){switch(t){case"input":return void Gn(e,n);case"textarea":return void function(e,t){au(e,t)}(e,n);case"select":return void function(e,t){var n=e,r=t.value;null!=r&&Zs(n,!!t.multiple,r,!1)}(e,n)}}}),Wl=ln.getCurrentFiberStackAddendum,Bl=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],Hl=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],zl=Hl.concat(["button"]),Vl=["dd","dt","li","option","optgroup","p","rp","rt"],Kl={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null},Ql={};(Fl=function(e,t,n){var r=(n=n||Kl).current,i=r&&r.tag;null!=t&&(o(null==e,"validateDOMNesting: when childText is passed, childTag should be null"),e="#text");var a=function(e,t){switch(t){case"select":return"option"===e||"optgroup"===e||"#text"===e;case"optgroup":return"option"===e||"#text"===e;case"option":return"#text"===e;case"tr":return"th"===e||"td"===e||"style"===e||"script"===e||"template"===e;case"tbody":case"thead":case"tfoot":return"tr"===e||"style"===e||"script"===e||"template"===e;case"colgroup":return"col"===e||"template"===e;case"table":return"caption"===e||"colgroup"===e||"tbody"===e||"tfoot"===e||"thead"===e||"style"===e||"script"===e||"template"===e;case"head":return"base"===e||"basefont"===e||"bgsound"===e||"link"===e||"meta"===e||"title"===e||"noscript"===e||"noframes"===e||"style"===e||"script"===e||"template"===e;case"html":return"head"===e||"body"===e;case"#document":return"html"===e}switch(e){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t;case"rp":case"rt":return-1===Vl.indexOf(t);case"body":case"caption":case"col":case"colgroup":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==t}return!0}(e,i)?null:r,s=a?null:function(e,t){switch(e){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null}(e,n),u=a||s;if(u){var l=u.tag,c=Wl(),f=!!a+"|"+e+"|"+l+"|"+c;if(!Ql[f]){Ql[f]=!0;var d=e,p="";if("#text"===e?/\S/.test(t)?d="Text nodes":(d="Whitespace text nodes",p=" Make sure you don't have any extra whitespace between tags on each line of your source code."):d="<"+e+">",a){var h="";"table"===l&&"tr"===e&&(h+=" Add a <tbody> to your code to match the DOM tree generated by the browser."),o(!1,"validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s%s",d,l,p,h,c)}else o(!1,"validateDOMNesting(...): %s cannot appear as a descendant of <%s>.%s",d,l,c)}}}).updatedAncestorInfo=function(e,t,n){var r=a({},e||Kl),o={tag:t,instance:n};return-1!==Hl.indexOf(t)&&(r.aTagInScope=null,r.buttonTagInScope=null,r.nobrTagInScope=null),-1!==zl.indexOf(t)&&(r.pTagInButtonScope=null),-1!==Bl.indexOf(t)&&"address"!==t&&"div"!==t&&"p"!==t&&(r.listItemTagAutoclosing=null,r.dlItemTagAutoclosing=null),r.current=o,"form"===t&&(r.formTag=o),"a"===t&&(r.aTagInScope=o),"button"===t&&(r.buttonTagInScope=o),"nobr"===t&&(r.nobrTagInScope=o),"p"===t&&(r.pTagInButtonScope=o),"li"===t&&(r.listItemTagAutoclosing=o),"dd"!==t&&"dt"!==t||(r.dlItemTagAutoclosing=o),r};var $l,Gl=Fl,Yl=El,Jl=Il,Xl=Ol,Zl=Pl,ec=Rl,tc=Al,nc=Nl,rc=Ml,oc=Ll,ic=ql,ac=jl,sc=Dl,uc=Gl.updatedAncestorInfo,lc=he,cc=be,fc=void 0,dc=!1;"function"==typeof Map&&null!=Map.prototype&&"function"==typeof Map.prototype.forEach&&"function"==typeof Set&&null!=Set.prototype&&"function"==typeof Set.prototype.clear&&"function"==typeof Set.prototype.forEach||o(!1,"React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),fc=function(e){if(e._reactRootContainer&&e.nodeType!==Rt){var t=wc.findHostInstanceWithNoPortals(e._reactRootContainer._internalRoot.current);t&&o(t.parentNode===e,"render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var n=!!e._reactRootContainer,r=bc(e),i=!(!r||!me(r));o(!i||n,"render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),o(e.nodeType!==Ot||!e.tagName||"BODY"!==e.tagName.toUpperCase(),"render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")},$l=function(e,t){o(null===e||"function"==typeof e,"%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",t,e)},mt.injectFiberControlledHostComponent(Ul);var pc=null,hc=null;function yc(e){var t=wc.computeUniqueAsyncExpiration();this._expirationTime=t,this._root=e,this._next=null,this._callbacks=null,this._didComplete=!1,this._hasChildren=!1,this._children=null,this._defer=!0}function mc(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function vc(e,t,n){var r=wc.createContainer(e,t,n);this._internalRoot=r}function gc(e){return!(!e||e.nodeType!==Ot&&e.nodeType!==At&&e.nodeType!==Nt&&(e.nodeType!==Rt||" react-mount-point-unstable "!==e.nodeValue))}function bc(e){return e?e.nodeType===At?e.documentElement:e.firstChild:null}function _c(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}yc.prototype.render=function(e){this._defer||r(!1,"batch.render: Cannot render a batch that already committed."),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,o=new mc;return wc.updateContainerAtExpirationTime(e,t,null,n,o._onCommit),o},yc.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},yc.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||r(!1,"batch.commit: Cannot commit a batch multiple times."),!this._hasChildren)return this._next=null,void(this._defer=!1);var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var o=null,i=t;i!==this;)o=i,i=i._next;null===o&&r(!1,"batch.commit: Cannot commit a batch multiple times."),o._next=i._next,this._next=t,t=e.firstBatch=this}this._defer=!1,wc.flushRoot(e,n);var a=this._next;this._next=null,null!==(t=e.firstBatch=a)&&t._hasChildren&&t.render(t._children)},yc.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){(0,e[t])()}}},mc.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},mc.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&r(!1,"Invalid argument passed as callback. Expected a function. Instead received: %s",n),n()}}},vc.prototype.render=function(e,t){var n=this._internalRoot,r=new mc;return $l(t=void 0===t?null:t,"render"),null!==t&&r.then(t),wc.updateContainer(e,n,null,r._onCommit),r},vc.prototype.unmount=function(e){var t=this._internalRoot,n=new mc;return $l(e=void 0===e?null:e,"render"),null!==e&&n.then(e),wc.updateContainer(null,t,null,n._onCommit),n},vc.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,o=new mc;return $l(n=void 0===n?null:n,"render"),null!==n&&o.then(n),wc.updateContainer(t,r,e,o._onCommit),o},vc.prototype.createBatch=function(){var e=new yc(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(var o=null,i=r;null!==i&&i._expirationTime<=t;)o=i,i=i._next;e._next=i,null!==o&&(o._next=e)}return e};var wc=Ps({getRootHostContext:function(e){var t=void 0,n=void 0,r=e.nodeType;switch(r){case At:case Nt:t=r===At?"#document":"#fragment";var o=e.documentElement;n=o?o.namespaceURI:pu(null,"");break;default:var i=r===Rt?e.parentNode:e;n=pu(i.namespaceURI||null,t=i.tagName)}var a=t.toLowerCase();return{namespace:n,ancestorInfo:uc(null,a,null)}},getChildHostContext:function(e,t){var n=e;return{namespace:pu(n.namespace,t),ancestorInfo:uc(n.ancestorInfo,t,null)}},getPublicInstance:function(e){return e},prepareForCommit:function(){pc=ho(),hc=qo(),po(!1)},resetAfterCommit:function(){jo(hc),hc=null,po(pc),pc=null},createInstance:function(e,t,n,r,o){var i,a=r;if(Gl(e,null,a.ancestorInfo),"string"==typeof t.children||"number"==typeof t.children){var s=""+t.children,u=uc(a.ancestorInfo,e,null);Gl(null,s,u)}i=a.namespace;var l=Yl(e,t,n,i);return lc(o,l),cc(l,t),l},appendInitialChild:function(e,t){e.appendChild(t)},finalizeInitialChildren:function(e,t,n,r){return Xl(e,t,n,r),_c(t,n)},prepareUpdate:function(e,t,n,r,o,i){var a=i;if(typeof r.children!=typeof n.children&&("string"==typeof r.children||"number"==typeof r.children)){var s=""+r.children,u=uc(a.ancestorInfo,t,null);Gl(null,s,u)}return Zl(e,t,n,r,o)},shouldSetTextContent:function(e,t){return"textarea"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"==typeof t.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(e,t){return!!t.hidden},createTextInstance:function(e,t,n,r){Gl(null,e,n.ancestorInfo);var o=Jl(e,t);return lc(r,o),o},now:As,mutation:{commitMount:function(e,t,n,r){_c(t,n)&&e.focus()},commitUpdate:function(e,t,n,r,o,i){cc(e,o),ec(e,t,n,r,o)},resetTextContent:function(e){vu(e,"")},commitTextUpdate:function(e,t,n){e.nodeValue=n},appendChild:function(e,t){e.appendChild(t)},appendChildToContainer:function(e,t){e.nodeType===Rt?e.parentNode.insertBefore(t,e):e.appendChild(t)},insertBefore:function(e,t,n){e.insertBefore(t,n)},insertInContainerBefore:function(e,t,n){e.nodeType===Rt?e.parentNode.insertBefore(t,n):e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},removeChildFromContainer:function(e,t){e.nodeType===Rt?e.parentNode.removeChild(t):e.removeChild(t)}},hydration:{canHydrateInstance:function(e,t,n){return e.nodeType!==Ot||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e},canHydrateTextInstance:function(e,t){return""===t||e.nodeType!==Pt?null:e},getNextHydratableSibling:function(e){for(var t=e.nextSibling;t&&t.nodeType!==Ot&&t.nodeType!==Pt;)t=t.nextSibling;return t},getFirstHydratableChild:function(e){for(var t=e.firstChild;t&&t.nodeType!==Ot&&t.nodeType!==Pt;)t=t.nextSibling;return t},hydrateInstance:function(e,t,n,r,o,i){lc(i,e),cc(e,n);var a;return a=o.namespace,tc(e,t,n,a,r)},hydrateTextInstance:function(e,t,n){return lc(n,e),nc(e,t)},didNotMatchHydratedContainerTextInstance:function(e,t,n){rc(t,n)},didNotMatchHydratedTextInstance:function(e,t,n,r,o){!0!==t.suppressHydrationWarning&&rc(r,o)},didNotHydrateContainerInstance:function(e,t){1===t.nodeType?oc(e,t):ic(e,t)},didNotHydrateInstance:function(e,t,n,r){!0!==t.suppressHydrationWarning&&(1===r.nodeType?oc(n,r):ic(n,r))},didNotFindHydratableContainerInstance:function(e,t,n){ac(e,t,n)},didNotFindHydratableContainerTextInstance:function(e,t){sc(e,t)},didNotFindHydratableInstance:function(e,t,n,r,o){!0!==t.suppressHydrationWarning&&ac(n,r,o)},didNotFindHydratableTextInstance:function(e,t,n,r){!0!==t.suppressHydrationWarning&&sc(n,r)}},scheduleDeferredCallback:Ns,cancelDeferredCallback:Ms});Tt(wc);var xc=!1;function kc(e,t){var n=t||function(e){var t=bc(e);return!(!t||t.nodeType!==Ot||!t.hasAttribute(gn))}(e);if(!n)for(var r=!1,i=void 0;i=e.lastChild;)!r&&i.nodeType===Ot&&i.hasAttribute(gn)&&(r=!0,o(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup.")),e.removeChild(i);!n||t||xc||(xc=!0,Ci(!1,"render(): Calling ReactDOM.render() to hydrate server-rendered markup will stop working in React v17. Replace the ReactDOM.render() call with ReactDOM.hydrate() if you want React to attach to the server HTML."));return new vc(e,!1,n)}function Cc(e,t,n,o,i){gc(n)||r(!1,"Target container is not a DOM element."),fc(n);var a=n._reactRootContainer;if(a){if("function"==typeof i){var s=i;i=function(){var e=wc.getPublicRootInstance(a._internalRoot);s.call(e)}}null!=e?a.legacy_renderSubtreeIntoContainer(e,t,i):a.render(t,i)}else{if(a=n._reactRootContainer=kc(n,o),"function"==typeof i){var u=i;i=function(){var e=wc.getPublicRootInstance(a._internalRoot);u.call(e)}}wc.unbatchedUpdates(function(){null!=e?a.legacy_renderSubtreeIntoContainer(e,t,i):a.render(t,i)})}return wc.getPublicRootInstance(a._internalRoot)}function Sc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return gc(t)||r(!1,"Target container is not a DOM element."),function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:$t,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}var Tc={createPortal:Sc,findDOMNode:function(e){var t=Wt.current;if(null!==t&&null!==t.stateNode){var n=t.stateNode._warnedAboutRefsInRender;o(n,"%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",on(t)||"A component"),t.stateNode._warnedAboutRefsInRender=!0}if(null==e)return null;if(e.nodeType===Ot)return e;var i=_r(e);if(i)return wc.findHostInstance(i);"function"==typeof e.render?r(!1,"Unable to find node on an unmounted component."):r(!1,"Element appears to be neither ReactComponent nor DOMNode. Keys: %s",Object.keys(e))},hydrate:function(e,t,n){return Cc(null,e,t,!0,n)},render:function(e,t,n){return Cc(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,o){return(null==e||void 0===e._reactInternalFiber)&&r(!1,"parentComponent must be a valid React Component"),Cc(e,t,n,!1,o)},unmountComponentAtNode:function(e){if(gc(e)||r(!1,"unmountComponentAtNode(...): Target container is not a DOM element."),e._reactRootContainer){var t=bc(e),n=t&&!me(t);return o(!n,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React."),wc.unbatchedUpdates(function(){Cc(null,null,e,!1,function(){e._reactRootContainer=null})}),!0}var i=bc(e),a=!(!i||!me(i)),s=1===e.nodeType&&gc(e.parentNode)&&!!e.parentNode._reactRootContainer;return o(!a,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",s?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."),!1},unstable_createPortal:function(){return dc||(dc=!0,Ci(!1,'The ReactDOM.unstable_createPortal() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactDOM.createPortal() instead. It has the exact same API, but without the "unstable_" prefix.')),Sc.apply(void 0,arguments)},unstable_batchedUpdates:wc.batchedUpdates,unstable_deferredUpdates:wc.deferredUpdates,flushSync:wc.flushSync,unstable_flushControlled:wc.flushControlled,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:G,EventPluginRegistry:A,EventPropagators:Re,ReactControlledComponent:_t,ReactDOMComponentTree:_e,ReactDOMEventListener:bo},unstable_createRoot:function(e,t){return new vc(e,!0,null!=t&&!0===t.hydrate)}};if(!wc.injectIntoDevTools({findFiberByHostInstance:ye,bundleType:1,version:"16.3.1",rendererPackageName:"react-dom"})&&i.canUseDOM&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&-1===navigator.userAgent.indexOf("Edge")||navigator.userAgent.indexOf("Firefox")>-1)){var Ec=window.location.protocol;/^(https?|file):$/.test(Ec)&&console.info("%cDownload the React DevTools for a better development experience: https://fb.me/react-devtools"+("file:"===Ec?"\nYou might need to use a local HTTP server (instead of file://): https://fb.me/react-devtools-faq":""),"font-weight:bold")}var Ic=Object.freeze({default:Tc}),Oc=Ic&&Tc||Ic,Pc=Oc.default?Oc.default:Oc;e.exports=Pc})()},function(e,t,n){"use strict";e.exports=n(126)},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";
/** @license React v16.3.1
 * react.development.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var t=n(71),r=n(70),o=n(50),i=n(49),a=n(48),s=n(69),u="function"==typeof Symbol&&Symbol.for,l=u?Symbol.for("react.element"):60103,c=u?Symbol.for("react.call"):60104,f=u?Symbol.for("react.return"):60105,d=u?Symbol.for("react.portal"):60106,p=u?Symbol.for("react.fragment"):60107,h=u?Symbol.for("react.strict_mode"):60108,y=u?Symbol.for("react.provider"):60109,m=u?Symbol.for("react.context"):60110,v=u?Symbol.for("react.async_mode"):60111,g=u?Symbol.for("react.forward_ref"):60112,b="function"==typeof Symbol&&Symbol.iterator,_="@@iterator";function w(e){if(null===e||void 0===e)return null;var t=b&&e[b]||e[_];return"function"==typeof t?t:null}var x=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(!e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i="Warning: "+e.replace(/%s/g,function(){return n[o++]});"undefined"!=typeof console&&console.warn(i);try{throw new Error(i)}catch(e){}}).apply(void 0,[t].concat(r))}},k={};function C(e,t){var n=e.constructor,r=n&&(n.displayName||n.name)||"ReactClass",o=r+"."+t;k[o]||(i(!1,"Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",t,r),k[o]=!0)}var S={isMounted:function(e){return!1},enqueueForceUpdate:function(e,t,n){C(e,"forceUpdate")},enqueueReplaceState:function(e,t,n,r){C(e,"replaceState")},enqueueSetState:function(e,t,n,r){C(e,"setState")}};function T(e,t,n){this.props=e,this.context=t,this.refs=r,this.updater=n||S}T.prototype.isReactComponent={},T.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&o(!1,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."),this.updater.enqueueSetState(this,e,t,"setState")},T.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};var E={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},I=function(e,t){Object.defineProperty(T.prototype,e,{get:function(){x(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1])}})};for(var O in E)E.hasOwnProperty(O)&&I(O,E[O]);function P(){}function R(e,t,n){this.props=e,this.context=t,this.refs=r,this.updater=n||S}P.prototype=T.prototype;var A=R.prototype=new P;A.constructor=R,t(A,T.prototype),A.isPureReactComponent=!0;var N={current:null},M=Object.prototype.hasOwnProperty,L={key:!0,ref:!0,__self:!0,__source:!0},q=void 0,j=void 0;function D(e){if(M.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}function F(e){if(M.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}var U=function(e,t,n,r,o,i,a){var s={$$typeof:l,type:e,key:t,ref:n,props:a,_owner:i,_store:{}};return Object.defineProperty(s._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(s,"_self",{configurable:!1,enumerable:!1,writable:!1,value:r}),Object.defineProperty(s,"_source",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.freeze&&(Object.freeze(s.props),Object.freeze(s)),s};function W(e,t,n){var r=void 0,o={},a=null,s=null,u=null,c=null;if(null!=t)for(r in D(t)&&(s=t.ref),F(t)&&(a=""+t.key),u=void 0===t.__self?null:t.__self,c=void 0===t.__source?null:t.__source,t)M.call(t,r)&&!L.hasOwnProperty(r)&&(o[r]=t[r]);var f=arguments.length-2;if(1===f)o.children=n;else if(f>1){for(var d=Array(f),p=0;p<f;p++)d[p]=arguments[p+2];Object.freeze&&Object.freeze(d),o.children=d}if(e&&e.defaultProps){var h=e.defaultProps;for(r in h)void 0===o[r]&&(o[r]=h[r])}if((a||s)&&(void 0===o.$$typeof||o.$$typeof!==l)){var y="function"==typeof e?e.displayName||e.name||"Unknown":e;a&&function(e,t){var n=function(){q||(q=!0,i(!1,"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"key",{get:n,configurable:!0})}(o,y),s&&function(e,t){var n=function(){j||(j=!0,i(!1,"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"ref",{get:n,configurable:!0})}(o,y)}return U(e,a,s,u,c,N.current,o)}function B(e){return"object"==typeof e&&null!==e&&e.$$typeof===l}var H={getCurrentStack:null,getStackAddendum:function(){var e=H.getCurrentStack;return e?e():null}},z=".",V=":";var K=!1,Q=/\/+/g;function $(e){return(""+e).replace(Q,"$&/")}var G=10,Y=[];function J(e,t,n,r){if(Y.length){var o=Y.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function X(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,Y.length<G&&Y.push(e)}function Z(e,t,n){return null==e?0:function e(t,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case l:case d:u=!0}}if(u)return r(a,t,""===n?z+ee(t,0):n),1;var c=void 0,f=0,p=""===n?z:n+V;if(Array.isArray(t))for(var h=0;h<t.length;h++)f+=e(c=t[h],p+ee(c,h),r,a);else{var y=w(t);if("function"==typeof y){y===t.entries&&(i(K,"Using Maps as children is unsupported and will likely yield unexpected results. Convert it to a sequence/iterable of keyed ReactElements instead.%s",H.getStackAddendum()),K=!0);for(var m=y.call(t),v=void 0,g=0;!(v=m.next()).done;)f+=e(c=v.value,p+ee(c,g++),r,a)}else if("object"===s){var b;b=" If you meant to render a collection of children, use an array instead."+H.getStackAddendum();var _=""+t;o(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===_?"object with keys {"+Object.keys(t).join(", ")+"}":_,b)}}return f}(e,"",t,n)}function ee(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=e.key,r={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function te(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function ne(e,t,n){var r,o,i=e.result,s=e.keyPrefix,u=e.func,l=e.context,c=u.call(l,t,e.count++);Array.isArray(c)?re(c,i,n,a.thatReturnsArgument):null!=c&&(B(c)&&(r=c,o=s+(!c.key||t&&t.key===c.key?"":$(c.key)+"/")+n,c=U(r.type,o,r.ref,r._self,r._source,r._owner,r.props)),i.push(c))}function re(e,t,n,r,o){var i="";null!=n&&(i=$(n)+"/");var a=J(t,i,r,o);Z(e,ne,a),X(a)}function oe(e){var t=e.type;if("function"==typeof t)return t.displayName||t.name;if("string"==typeof t)return t;switch(t){case p:return"ReactFragment";case d:return"ReactPortal";case c:return"ReactCall";case f:return"ReactReturn"}return null}var ie,ae=void 0,se=void 0,ue=function(){};function le(){if(N.current){var e=oe(N.current);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}ae=null,se=!1,ie=function(e){return null==e?"#empty":"string"==typeof e||"number"==typeof e?"#text":"string"==typeof e.type?e.type:e.type===p?"React.Fragment":e.type.displayName||e.type.name||"Unknown"},ue=function(){var e="";if(ae){var t=ie(ae),n=ae._owner;e+=function(e,t,n){return"\n    in "+(e||"Unknown")+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")}(t,ae._source,n&&oe(n))}return e+=H.getStackAddendum()||""};var ce={};function fe(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var n=function(e){var t=le();if(!t){var n="string"==typeof e?e:e.displayName||e.name;n&&(t="\n\nCheck the top-level render call using <"+n+">.")}return t}(t);if(!ce[n]){ce[n]=!0;var r="";e&&e._owner&&e._owner!==N.current&&(r=" It was passed a child from "+oe(e._owner)+"."),ae=e,i(!1,'Each child in an array or iterator should have a unique "key" prop.%s%s See https://fb.me/react-warning-keys for more information.%s',n,r,ue()),ae=null}}}function de(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];B(r)&&fe(r,t)}else if(B(e))e._store&&(e._store.validated=!0);else if(e){var o=w(e);if("function"==typeof o&&o!==e.entries)for(var i=o.call(e),a=void 0;!(a=i.next()).done;)B(a.value)&&fe(a.value,t)}}function pe(e){var t=e.type;if("function"==typeof t){var n=t.displayName||t.name,r=t.propTypes;r?(ae=e,s(r,e.props,"prop",n,ue),ae=null):void 0===t.PropTypes||se||(se=!0,i(!1,"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",n||"Unknown")),"function"==typeof t.getDefaultProps&&i(t.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function he(e,t,n){var r=function(e){return"string"==typeof e||"function"==typeof e||e===p||e===v||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===g)}(e);if(!r){var o="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(o+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var a=function(e){if(null!==e&&void 0!==e&&void 0!==e.__source){var t=e.__source;return"\n\nCheck your code at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+"."}return""}(t);o+=a||le(),o+=ue()||"";var s=void 0;s=null===e?"null":Array.isArray(e)?"array":typeof e,i(!1,"React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",s,o)}var u=W.apply(this,arguments);if(null==u)return u;if(r)for(var l=2;l<arguments.length;l++)de(arguments[l],e);return e===p?function(e){ae=e;for(var t=Object.keys(e.props),n=0;n<t.length;n++){var r=t[n];if("children"!==r&&"key"!==r){i(!1,"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.%s",r,ue());break}}null!==e.ref&&i(!1,"Invalid attribute `ref` supplied to `React.Fragment`.%s",ue()),ae=null}(u):pe(u),u}var ye={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return re(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;var r=J(null,null,t,n);Z(e,te,r),X(r)},count:function(e,t){return Z(e,a.thatReturnsNull,null)},toArray:function(e){var t=[];return re(e,t,null,a.thatReturnsArgument),t},only:function(e){return B(e)||o(!1,"React.Children.only expected to receive a single React element child."),e}},createRef:function(){var e={current:null};return Object.seal(e),e},Component:T,PureComponent:R,createContext:function(e,t){void 0===t?t=null:i(null===t||"function"==typeof t,"createContext: Expected the optional second argument to be a function. Instead received: %s",t);var n={$$typeof:m,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_changedBits:0,Provider:null,Consumer:null};return n.Provider={$$typeof:y,_context:n},n.Consumer=n,n._currentRenderer=null,n},forwardRef:function(e){return i("function"==typeof e,"forwardRef requires a render function but was given %s.",null===e?"null":typeof e),{$$typeof:g,render:e}},Fragment:p,StrictMode:h,unstable_AsyncMode:v,createElement:he,cloneElement:function(e,n,r){for(var o=function(e,n,r){var o=void 0,i=t({},e.props),a=e.key,s=e.ref,u=e._self,l=e._source,c=e._owner;if(null!=n){D(n)&&(s=n.ref,c=N.current),F(n)&&(a=""+n.key);var f=void 0;for(o in e.type&&e.type.defaultProps&&(f=e.type.defaultProps),n)M.call(n,o)&&!L.hasOwnProperty(o)&&(void 0===n[o]&&void 0!==f?i[o]=f[o]:i[o]=n[o])}var d=arguments.length-2;if(1===d)i.children=r;else if(d>1){for(var p=Array(d),h=0;h<d;h++)p[h]=arguments[h+2];i.children=p}return U(e.type,a,s,u,l,c,i)}.apply(this,arguments),i=2;i<arguments.length;i++)de(arguments[i],o.type);return pe(o),o},createFactory:function(e){var t=he.bind(null,e);return t.type=e,Object.defineProperty(t,"type",{enumerable:!1,get:function(){return x(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:e}),e}}),t},isValidElement:B,version:"16.3.1",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:N,assign:t}};t(ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,{ReactDebugCurrentFrame:H,ReactComponentTreeHook:{}});var me=Object.freeze({default:ye}),ve=me&&ye||me,ge=ve.default?ve.default:ve;e.exports=ge})()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RATING_TABLE=void 0,t.getRating=function(e,t){return i.query("select",["rating"]).where([["userId","=",e],"AND",["messageId","=",t]]).exec()};var r=n(3),o=t.RATING_TABLE="Rating",i=(0,r.nSQL)(o).model([{key:"userId",type:"string",props:["idx"]},{key:"messageId",type:"string",props:["idx"]},{key:"rating",type:"float"}]).config({mode:"TEMP"});i.connect(),t.default=i}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25hbm8tc3FsL2xpYi91dGlsaXRpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpZS10cy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFuby1zcWwvbGliL2RhdGFiYXNlL2RiLWlkeC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFuby1zcWwvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RiL1VzZXJUYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFuby1zcWwvbGliL2hpc3RvcnktcGx1Z2luLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9uYW5vLXNxbC9saWIvZGF0YWJhc2UvYWRhcHRlci1sZXZlbERCLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9uYW5vLXNxbC9saWIvZGF0YWJhc2UvYWRhcHRlci13ZWJzcWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25hbm8tc3FsL2xpYi9kYXRhYmFzZS9hZGFwdGVyLWluZGV4ZWREQi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFuby1zcWwvbGliL2RhdGFiYXNlL2FkYXB0ZXItc3luYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJlZml4LXRyaWUtdHMvbm9kZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFuby1zcWwvbGliL2RhdGFiYXNlL3N0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25hbm8tc3FsL2xpYi9kYXRhYmFzZS9xdWVyeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFuby1zcWwvbGliL2RhdGFiYXNlL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFsbHktc21hbGwtZXZlbnRzL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFuby1zcWwvbGliL3F1ZXJ5L3RyYW5zYWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9uYW5vLXNxbC9saWIvcXVlcnkvc3RkLXF1ZXJ5LmpzIiwid2VicGFjazovLy8uL3Rlc3QvdmlzdWFsVGVzdHMuanN4Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29yZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Rlc2NyaXB0b3JzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWRwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGFzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hpZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19leHBvcnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZmFpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdWlkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXBpZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZXh0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXRvLXN0cmluZy10YWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWJ1Zy1rZXlzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtY3JlYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlcmF0b3JzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbGlicmFyeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWludGVnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1wcmltaXRpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQta2V5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZGVmaW5lZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvZW1wdHlGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvd2FybmluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvaW52YXJpYW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy1pbnRlcm5hbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3JlZGVmaW5lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RvbS1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pZTgtZG9tLWRlZmluZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2N0eC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1ncG8uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9jaGVja1Byb3BUeXBlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvZW1wdHlPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUmF0aW5nL1JhdGluZy5qc3giLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtcHJvdG8uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Quc2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLWV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1rZXlzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbWV0YS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN5bWJvbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItc3RlcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faHRtbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWFic29sdXRlLWluZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYXJyYXktaW5jbHVkZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pb2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWRwcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY3JlYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc3RyaW5nLWF0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYS1mdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1zYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0FjY291bnRTdGF0dXMvQWNjb3VudFN0YXR1cy5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0YXRlL0dsb2JhbFN0YXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9uYW5vLXNxbC1yZWFjdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanN4Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9jYW1lbGl6ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvY2FtZWxpemVTdHlsZU5hbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2h5cGhlbmF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvaHlwaGVuYXRlU3R5bGVOYW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9pc05vZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2lzVGV4dE5vZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2NvbnRhaW5zTm9kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvc2hhbGxvd0VxdWFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9nZXRBY3RpdmVFbGVtZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9FeGVjdXRpb25FbnZpcm9ubWVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG9tL2Nqcy9yZWFjdC1kb20uZGV2ZWxvcG1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRvbS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC5kZXZlbG9wbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZGIvUmF0aW5nVGFibGUuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwidmFsdWUiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImdsb2JhbCIsImxpZV90c18xIiwiUHJvbWlzZSIsIndpbmRvdyIsIl9hc3NpZ24iLCJvYmoiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJmYXN0Q0hBSU4iLCJpdGVtcyIsImNhbGxiYWNrIiwicmVzIiwicmVqIiwibGVuZ3RoIiwicmVzdWx0cyIsInN0ZXAiLCJyZXN1bHQiLCJwdXNoIiwic2V0RmFzdCIsImZhc3RSQUNFIiwicmVzb2x2ZWQiLCJjb3VudGVyIiwiZmFzdEFMTCIsImFsbCIsIm1hcCIsIml0ZW0iLCJ1YSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImlzU2FmYXJpIiwidGVzdCIsImlzTVNCcm93c2VyIiwiaW5kZXhPZiIsImlzQW5kcm9pZCIsInJhbmRvbTE2Qml0cyIsImNyeXB0byIsIk1hdGgiLCJyb3VuZCIsInJhbmRvbSIsInBvdyIsImdldFJhbmRvbVZhbHVlcyIsImJ1ZiIsIlVpbnQxNkFycmF5IiwiX2NyeXB0byIsInJhbmRvbUJ5dGVzIiwicmVkdWNlIiwicHJldiIsImN1ciIsInRpbWVpZCIsIm1zIiwidGltZSIsIkRhdGUiLCJnZXRUaW1lIiwidG9TdHJpbmciLCJpbnRlcnNlY3QiLCJhcnIxIiwiYXJyMiIsImZpbHRlciIsInV1aWQiLCJiIiwic2xpY2UiLCJpZFR5cGVzIiwiaW50IiwidGltZUlkIiwidGltZUlkbXMiLCJoYXNoIiwic3RyIiwiY2hhckNvZGVBdCIsImdlbmVyYXRlSUQiLCJwcmltYXJ5S2V5VHlwZSIsImluY3JpbWVudFZhbHVlIiwiY2xlYW5BcmdzIiwiYXJnRGVjbGFyYXRpb25zIiwiYXJncyIsImEiLCJrMiIsInNwbGl0IiwiY2FzdCIsInVuZGVmaW5lZCIsImlzT2JqZWN0IiwidmFsIiwidHlwZSIsInQiLCJlbnRpdHlNYXAiLCImIiwiPCIsIj4iLCJcIiIsIiciLCIvIiwiYCIsIj0iLCJ0eXBlcyIsInJlcGxhY2UiLCJwYXJzZUludCIsInBhcnNlRmxvYXQiLCJBcnJheSIsImlzQXJyYXkiLCJTdHJpbmciLCJuZXdWYWwiLCJ0b0xvd2VyQ2FzZSIsImFycmF5T2ZfMSIsImxhc3RJbmRleE9mIiwidiIsImlzTmFOIiwic29ydGVkSW5zZXJ0IiwiYXJyIiwic3RhcnRWYWwiLCJlbmRWYWwiLCJzcGxpY2UiLCJiaW5hcnlTZWFyY2giLCJzdGFydCIsImVuZCIsImZsb29yIiwicmVtb3ZlRHVwbGljYXRlcyIsIm5ld2FyciIsImRlZXBGcmVlemUiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZm9yRWFjaCIsInByb3AiLCJmcmVlemUiLCJvYmplY3RQYXRoQ2FjaGUiLCJvYmpRdWVyeSIsInBhdGhRdWVyeSIsImlnbm9yZUZpcnN0UGF0aCIsInNhZmVHZXQiLCJnZXRQYXRoIiwicGF0aElkeCIsImNhY2hlS2V5IiwicGF0aCIsImNvbmNhdCIsImFwcGx5IiwibWF0Y2giLCJmaXJzdFBhdGgiLCJzaGlmdCIsInVuc2hpZnQiLCJ1aWQiLCJzdG9yYWdlIiwiY2FuU2V0SW1tZWRpYXRlIiwiY2FuUG9zdCIsInBvc3RNZXNzYWdlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNhblByb21pc2UiLCJmYXN0QXBwbHkiLCJldmVudCIsImRhdGEiLCJrZXkiLCJzZXRJbW1lZGlhdGVQb2x5ZmlsbCIsIl9pIiwiYXJndW1lbnRzIiwiaWQiLCJyZXNvbHZlIiwidGhlbiIsInNldFRpbWVvdXQiLCJfSU5URVJOQUwiLCJfUkVKRUNURUQiLCJfRlVMRklMTEVEIiwiX1BFTkRJTkciLCJyZXNvbHZlciIsInRoaXMiLCJfc3RhdGUiLCJfcXVldWUiLCJfb3V0Y29tZSIsIl9zYWZlbHlSZXNvbHZlVGhlbmFibGUiLCJkb1BvbHlGaWxsIiwiY2F0Y2giLCJvblJlamVjdGVkIiwib25GdWxmaWxsZWQiLCJwcm9taXNlIiwiX3Vud3JhcCIsIl9RdWV1ZUl0ZW0iLCJfaGFuZGxlcnMiLCJfcmVzb2x2ZSIsInJlamVjdCIsInJlYXNvbiIsIl9yZWplY3QiLCJpdGVyYWJsZSIsIm1heWJlUmV0dXJuIiwiaW5kZXgiLCJzdWNjZXNzIiwiZmFpbHVyZSIsIl9sb29wXzEiLCJlIiwicmFjZSIsInNlbGYiLCJsZW4iLCJjYWxsZWQiLCJUeXBlRXJyb3IiLCJyZXNwb25zZSIsImVycm9yIiwiX3Byb21pc2UiLCJfb25GdWxmaWxsZWQiLCJfY2FsbEZ1bGZpbGxlZCIsIl9vdGhlckNhbGxGdWxmaWxsZWQiLCJfb25SZWplY3RlZCIsIl9jYWxsUmVqZWN0ZWQiLCJfb3RoZXJDYWxsUmVqZWN0ZWQiLCJmdW5jIiwicmV0dXJuVmFsdWUiLCJfdHJ5Q2F0Y2giLCJfZ2V0VGhlbiIsInRoZW5hYmxlIiwiX3ZhbHVlIiwiX3N0YXR1cyIsIm9uRXJyb3IiLCJvblN1Y2Nlc3MiLCJ2YWx1ZXMiLCJvdXQiLCJ1dGlsaXRpZXNfMSIsIkRhdGFiYXNlSW5kZXgiLCJfc29ydGVkIiwiX2luZGV4T2YiLCJhaSIsImRvQUkiLCJzZXQiLCJfdGhpcyIsImdldExvY2F0aW9uIiwiaWR4IiwiYWRkIiwia2V5cyIsInJlbW92ZSIsIl9fYXNzaWduIiwiYXNzaWduIiwic3RkX3F1ZXJ5XzEiLCJ0cmFuc2FjdGlvbl8xIiwicmVhbGx5X3NtYWxsX2V2ZW50c18xIiwiaW5kZXhfMSIsImhpc3RvcnlfcGx1Z2luXzEiLCJWRVJTSU9OIiwiTmFub1NRTEluc3RhbmNlIiwidmVyc2lvbiIsIl9vbkNvbm5lY3RlZENhbGxCYWNrcyIsIl9hY3Rpb25zIiwiX3ZpZXdzIiwiZGF0YU1vZGVscyIsIl9ldmVudHMiLCJfaGFzRXZlbnRzIiwidGFibGVOYW1lcyIsInBsdWdpbnMiLCJoYXNQSyIsInNraXBQdXJnZSIsInRvUm93Rm5zIiwidGFibGVQS3MiLCJ0b0NvbEZucyIsInRvQ29sUnVsZXMiLCJfcmFuZG9tcyIsIl9yYW5kb21QdHIiLCJoYXNBbnlFdmVudHMiLCJfY2FsbGJhY2tzIiwiUmVhbGx5U21hbGxFdmVudHMiLCJpQiIsIk5hbm9TUUxEZWZhdWx0QmFja2VuZCIsImluc3RhbmNlQ29ubmVjdEFyZ3MiLCJtb2RlbHMiLCJhY3Rpb25zIiwidmlld3MiLCJjb25maWciLCJwYXJlbnQiLCJ3aWxsQ29ubmVjdCIsImRpZENvbm5lY3QiLCJ0b0NvbHVtbiIsImNvbHVtbkZucyIsInNUYWJsZSIsInRvUm93IiwiZmFzdFJhbmQiLCJ0YWJsZSIsImNvbm5lY3QiLCJjb25uZWN0QXJncyIsIl9jb25maWciLCJwcm9wcyIsImhpc3RvcnkiLCJ1c2UiLCJfTmFub1NRTEhpc3RvcnlQbHVnaW4iLCJoaXN0b3J5TW9kZSIsIm1vZGUiLCJuZXh0UCIsIm5ld0FyZ3MiLCJoYXNXaWxkIiwibW9kZWwiLCJwbHVnaW4iLCJkaWRFeGVjIiwicGx1Z2luSGFzRGlkRXhlYyIsImNvbXBsZXRlQ29ubmVjdCIsImlzQ29ubmVjdGVkIiwiY2IiLCJ1cGRhdGVWZXJzaW9uIiwicmVidWlsZElEWCIsInF1ZXJ5IiwibWFudWFsRXhlYyIsImV4dGVuZCIsIndoZXJlIiwicm93cyIsImdldEFjdGlvbnMiLCJnZXRWaWV3cyIsImdldENvbmZpZyIsImF2RmlsdGVyIiwiZmlsdGVyRnVuYyIsIl9BVk1vZCIsIm9uIiwiY2FsbEJhY2siLCJfcmVmcmVzaEV2ZW50Q2hlY2tlciIsIm9mZiIsImV2ZW50TGlzdGVuZXJzIiwiZGF0YU1vZGVsIiwiaWdub3JlU2FuaXR5Q2hlY2siLCJFcnJvciIsImZuTmFtZSIsImZuQXJncyIsInBvcCIsInRyaW0iLCJ2aWV3QXJyYXkiLCJnZXRWaWV3Iiwidmlld05hbWUiLCJ2aWV3QXJncyIsIl9kb0FWIiwiYWN0aW9uQXJyYXkiLCJkb0FjdGlvbiIsImFjdGlvbk5hbWUiLCJhY3Rpb25BcmdzIiwicXVlcnlGaWx0ZXIiLCJxdWVyeU1vZCIsIkFWVHlwZSIsIkFWTGlzdCIsIkFWTmFtZSIsIkFWYXJncyIsInNlbEFWIiwiX2FjdGl2ZUFWIiwiZXJyIiwiYWN0aW9uIiwiYXYiLCJfTmFub1NRTFF1ZXJ5Iiwib25Db25uZWN0ZWQiLCJ0cmlnZ2VyRXZlbnQiLCJldmVudERhdGEiLCJ0cmlnZ2VyIiwiZGVmYXVsdCIsInJlcGxhY2VPYmoiLCJuZXdPYmoiLCJyYXdEdW1wIiwidGFibGVzIiwibmV4dCIsImR1bXBUYWJsZXMiLCJyYXdJbXBvcnQiLCJpbXBvcnRUYWJsZXMiLCJkaXNjb25uZWN0Iiwid2lsbERpc2Nvbm5lY3QiLCJkb1RyYW5zYWN0aW9uIiwiaW5pdFRyYW5zYWN0aW9uIiwicXVlcmllcyIsInRyYW5zYWN0aW9uSUQiLCJ0cmFuc2FjdGlvbkJlZ2luIiwidGEiLCJfTmFub1NRTFRyYW5zYWN0aW9uUXVlcnkiLCJxdWVyIiwibmV4dFF1ZXJ5IiwidHJhbnNhY3Rpb24iLCJxdWVyeUlEIiwidHJhbnNhY3Rpb25FbmQiLCJhY3Rpb25PclZpZXciLCJub3RlcyIsImFmZmVjdGVkUm93UEtTIiwiYWZmZWN0ZWRSb3dzIiwibmV3QXJnc18xIiwicmVzdWx0XzEiLCJuQXJncyIsIm5ld1Jlc3VsdCIsImxvYWRKUyIsInVzZVRyYW5zYWN0aW9uIiwib25Qcm9ncmVzcyIsImRiIiwiY29tcGxldGUiLCJyb3ciLCJleGVjIiwibmV4dFJvdyIsImxvYWRDU1YiLCJjc3YiLCJyb3dGaWx0ZXIiLCJmaWVsZHMiLCJyb3dEYXRhIiwiayIsInJlY29yZCIsInJvd18xIiwiZml0cyIsImRvQnJlYWsiLCJmdW5jdGlvbnMiLCJDT1VOVCIsImNvbHVtbiIsIk1BWCIsIm1heF8xIiwiTUlOIiwibWluXzEiLCJBVkciLCJTVU0iLCJMT1dFUiIsIlVQUEVSIiwidG9VcHBlckNhc2UiLCJDQVNUIiwiQUJTIiwiYWJzIiwiQ0VJTCIsImNlaWwiLCJQT1ciLCJwb3dlciIsIlJPVU5EIiwiU1FSVCIsInNxcnQiLCJfTmFub1NRTFN0YXRpYyIsIm5TUUwiLCJzZXRUYWJsZVBvaW50ZXIiLCJnIiwiRnVuY3Rpb24iLCJldmFsIiwiZ2V0QmFsYW5jZUJ5SWQiLCJ1c2VySWQiLCJ1c2VyVGFibGUiLCJfaW5kZXgiLCJVU0VSX1RBQkxFIiwic3RycyIsImhpc3RvcnlNb2RlQXJncyIsIl90YWJsZVBrS2V5cyIsIl90YWJsZVBrVHlwZXMiLCJfdGFibGVLZXlzIiwiaGlzdG9yeVRhYmxlcyIsImhpc3RNb2RlbCIsImlzTm90U3RyaW5nIiwiaGlzdG9yeVRhYmxlIiwiaGlzdG9yeVRhYmxlUG9pbnRlciIsImhpc3RvcnlNb2RlcyIsIl9oaXN0VGFibGUiLCJfZ2VuZXJhdGVIaXN0b3J5UG9pbnRlcnMiLCJoaXN0VGFibGUiLCJwdHIiLCJmaW5pc2hTZXR1cCIsInRhYmxlRG9uZSIsIl9wdXJnZVJvd0hpc3RvcnkiLCJyb3dQS3MiLCJjbGVhckFsbCIsInJvd0hpc3RUYWJsZSIsInJvd0lEWFRhYmxlIiwicGsiLCJyb3dEb25lIiwiaGlzdFJvd0lEWCIsImlzRnJvemVuIiwiZGVsSURzIiwiaGlzdFJvd3MiLCJoaXN0UHRyIiwiY29tbWVudCIsImV4aXN0aW5nUm93IiwiX3Vuc2hpZnRTaW5nbGVSb3ciLCJfcHVyZ2VUYWJsZUhpc3RvcnkiLCJoaXN0USIsInJhbmdlIiwiaGlzdFRhYmxlUm93cyIsInB1cmdlUm93cyIsImoiLCJfcHVyZ2VQYXJlbnRIaXN0b3J5IiwiX3B1cmdlQWxsSGlzdG9yeSIsInJvd1BLIiwiY29tbWVudHMiLCJyb3dJRHMiLCJfdW5zaGlmdFBhcmVudCIsImhpc3RSb3dJRHMiLCJldmVudFR5cGVzIiwic2tpcElEWCIsImFkanVzdEhpc3RvcnlJRFgiLCJhcHBlbmRJRCIsIl9pZCIsIl9zaGlmdEhpc3RvcnkiLCJkaWRBbnl0aGluZyIsIl9xdWVyeUhpc3RvcnkiLCJxUmVzdWx0IiwiX2dldFJldmlzaW9uSGlzdG9yeSIsImdldFJvd3MiLCJyZXN1bHRSb3dzIiwick9iaiIsInBvaW50ZXIiLCJyZXZpc2lvbnMiLCJyZXZlcnNlIiwiX2dldFRhYmxlSGlzdG9yeSIsIl9zaGlmdFRhYmxlSGlzdG9yeSIsImRpcmVjdGlvbiIsInJvd1B0ciIsIl9zaGlmdFJvd0hpc3RvcnkiLCJQSyIsInVwZGF0ZUlEWCIsIm1ldGEiLCJyb3dJRFgiLCJoaXN0b3J5UEsiLCJkYl9pZHhfMSIsImRlbGV0ZUZvbGRlclJlY3Vyc2l2ZSIsIl9mcyIsImV4aXN0c1N5bmMiLCJyZWFkZGlyU3luYyIsImZpbGUiLCJjdXJQYXRoIiwic3RhdFN5bmMiLCJpc0RpcmVjdG9yeSIsInVubGlua1N5bmMiLCJybWRpclN5bmMiLCJfTGV2ZWxTdG9yZSIsIndyaXRlQ2FjaGUiLCJyZWFkQ2FjaGUiLCJfcGtLZXkiLCJfcGtUeXBlIiwiX2RiSW5kZXgiLCJfbGV2ZWxEQnMiLCJfaXNQS251bSIsImRvbmUiLCJwa3MiLCJjcmVhdGVLZXlTdHJlYW0iLCJfSW50NjRCRSIsInRvTnVtYmVyIiwiY2xvc2UiLCJzZXRJRCIsIl9wYXRoIiwibWtkaXJTeW5jIiwibWFrZVRhYmxlIiwidGFibGVOYW1lIiwiX2xldmVsdXAiLCJfbGV2ZWxkb3duIiwiam9pbiIsImNhY2hlU2l6ZSIsIndyaXRlQnVmZmVyU2l6ZSIsIndyaXRlIiwiX2EiLCJwdXQiLCJ0b0J1ZmZlciIsImRlbGV0ZSIsImRlbCIsInJlYWQiLCJyYW5nZVJlYWQiLCJyb3dDYWxsYmFjayIsImZyb20iLCJ0byIsInVzZVBLIiwidXNlZnVsVmFsdWVzIiwicmFuZ2VzIiwibG93ZXIiLCJoaWdoZXIiLCJjcmVhdGVWYWx1ZVN0cmVhbSIsImd0ZSIsImx0ZSIsImdldFJvdyIsImRyb3AiLCJnZXRJbmRleCIsImdldExlbmd0aCIsImRlc3Ryb3kiLCJfV2ViU1FMU3RvcmUiLCJzaXplIiwiX3NpemUiLCJfZGIiLCJvcGVuRGF0YWJhc2UiLCJuZXh0S2V5IiwiX3NxbCIsImlfMSIsInNvcnQiLCJfY2hrVGFibGUiLCJhbGxvd1dyaXRlIiwic3FsIiwidHgiLCJleGVjdXRlU3FsIiwidHgyIiwiY29uc29sZSIsInJlYWRUcmFuc2FjdGlvbiIsIl9iIiwibmV3Um93Iiwicl8xIiwicl8yIiwiYmF0Y2hSZWFkIiwiZ2V0S2V5cyIsInN0YXJ0SURYIiwic3RtbnQiLCJfZXZhbENvbnRleHQiLCJzb3VyY2UiLCJjb250ZXh0IiwiY29tcGlsZWQiLCJfSW5kZXhlZERCU3RvcmUiLCJ1c2VXb3JrZXIiLCJfd29ya2VyIiwiX3dhaXRpbmdDQnMiLCJfdXNlV29ya2VyIiwiX3ciLCJXb3JrZXIiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJCbG9iIiwiX2hhbmRsZVdXTWVzc2FnZSIsImRvIiwibGlzdGVuZXJzXzEiLCJtc2ciLCJsaXN0ZW5lciIsIm1lc3NhZ2UiLCJ0cmFuc2ZlciIsInBrS2V5cyIsIl9TeW5jU3RvcmUiLCJ1c2VMb2NhbFN0b3JhZ2UiLCJfcm93cyIsIl9scyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsIlRyaWUiLCJpbnB1dCIsIl90cmllIiwiX2NyZWF0ZSIsInNldEluZGV4IiwidHJpZSIsImFkZFdvcmQiLCJ3b3JkIiwicHJldmlvdXNWYWx1ZSIsImN1cnJlbnRWYWx1ZSIsImN1cnJlbnRJbmRleCIsImFycmF5IiwiX2FwcGVuZCIsInJlbW92ZVdvcmQiLCJfY2hlY2tQcmVmaXgiLCJwcmVmaXhGb3VuZCIsInByZWZpeE5vZGUiLCJnZXRXb3JkcyIsIl9yZWN1cnNlUHJlZml4IiwiZ2V0UHJlZml4Iiwic3RyUHJlZml4IiwiX2lzUHJlZml4IiwicHJlZml4IiwibGV0dGVyIiwiZXZlcnkiLCJhY2N1bXVsYXRvciIsIm5vZGUiLCJwcmVmaXhlcyIsImJyYW5jaCIsInByZWZpeF90cmllX3RzXzEiLCJhZGFwdGVyX3N5bmNfMSIsImFkYXB0ZXJfaW5kZXhlZERCXzEiLCJhZGFwdGVyX3dlYnNxbF8xIiwiYWRhcHRlcl9sZXZlbERCXzEiLCJfTmFub1NRTFN0b3JhZ2UiLCJfdGFibGVOYW1lcyIsIl9uc3FsIiwiX21vZGUiLCJwZXJzaXN0ZW50IiwiYWRhcHRlcnMiLCJ0YWJsZUluZm8iLCJfdHJpZUluZGV4ZXMiLCJfZG9DYWNoZSIsImNhY2hlIiwiX2NhY2hlIiwiX2NhY2hlS2V5cyIsImFkYXB0ZXIiLCJ3YWl0Rm9yV3JpdGVzIiwiX2RldGVjdFN0b3JhZ2VNZXRob2QiLCJkYlBhdGgiLCJpbml0IiwiX2NyZWF0ZVNlY29uZGFyeUluZGV4VGFibGVzIiwiX25ld1RhYmxlIiwiX3JlbEZyb21UYWJsZSIsIl9yZWxUb1RhYmxlIiwiX3JlbGF0aW9uQ29sdW1ucyIsIl9jb2x1bW5zQXJlVGFibGVzIiwiX3ZpZXdUYWJsZXMiLCJwa0NvbHVtbiIsIm1hcFRvXzEiLCJfdG9UYWJsZSIsIl90aGlzVHlwZSIsIl9oYXNPUk0iLCJfdG9Db2x1bW4iLCJfdG9UeXBlIiwicmVsIiwiX3RoaXNDb2x1bW4iLCJfZnJvbVRhYmxlIiwiX2Zyb21Db2x1bW4iLCJfZnJvbVR5cGUiLCJzZXROU1FMIiwidHJpZUNvbHVtbnMiLCJpaSIsIm5leHRDb2x1bW4iLCJpZHhUYWJsZSIsIl9pbnZhbGlkYXRlQ2FjaGUiLCJ2YWxpZCIsInJlYnVpbGRJbmRleGVzIiwic2Vjb25kSW5kZXhlcyIsIl9zZWNvbmRhcnlJbmRleGVzIiwiaWR4RG9uZSIsIl9kcm9wIiwiX3BrIiwiaW5kZXhHcm91cHMiLCJfcmVhZCIsInJvd0tleSIsImFkYXB0ZXJXcml0ZSIsIl9zZWNvbmRhcnlJbmRleEtleSIsInN1YnN0ciIsImluZGV4ZWREQiIsInciLCJ0ZXJtaW5hdGUiLCJvcGVuIiwiZGVsZXRlRGF0YWJhc2UiLCJfc2Vjb25kYXJ5SW5kZXhSZWFkIiwic2VhcmNoIiwiX3JhbmdlUmVhZCIsInVzZVBLcyIsInEiLCJrZWVwIiwiX3RyaWVSZWFkIiwid29yZHMiLCJhcnJheU9mUm93cyIsIl9jbGVhclNlY29uZGFyeUluZGV4ZXMiLCJza2lwQ29sdW1ucyIsIl9zZXRTZWNvbmRhcnlJbmRleGVzIiwiaW5kZXhSb3ciLCJfd3JpdGUiLCJvbGRSb3ciLCJzZXRSb3dfMSIsInNhbWVLZXlzXzEiLCJfZGVsZXRlIiwiYWRhcHRlckRlbGV0ZSIsImFkYXB0ZXJEcm9wIiwiX3RyaWVDb2x1bW5zIiwiY28iLCJoYXNJRFgiLCJfa2V5cyIsIl9kZWZhdWx0cyIsIl9uYW1lIiwiX2xvb3BfMiIsInRoaXNfMSIsImlzMm5kSW5kZXhfMSIsIl9oYXNWaWV3cyIsImNvbHVtbnMiLCJ0aGlzQ29sdW1uIiwib3RoZXJDb2x1bW4iLCJxdWVyeU9iaiIsInNlbGVjdCIsIl9zZWxlY3QiLCJ1cHNlcnQiLCJfdXBzZXJ0Iiwic2hvdyB0YWJsZXMiLCJfcXVlcnkiLCJfc3RvcmUiLCJkZXNjcmliZSIsIl9OYW5vU1FMU3RvcmFnZVF1ZXJ5IiwiZG9RdWVyeSIsIl9pc0luc3RhbmNlVGFibGUiLCJfZ2V0Um93cyIsIkluc3RhbmNlU2VsZWN0aW9uIiwiX1Jvd1NlbGVjdGlvbiIsIl9zZXRDYWNoZSIsIl9oYXNoIiwiY2FuQ2FjaGUiLCJvcm0iLCJfTXV0YXRlU2VsZWN0aW9uIiwiX2V4ZWN1dGVRdWVyeUFyZ3VtZW50cyIsIl91cGRhdGVPUk1Sb3dzIiwicmVsYXRpb24iLCJmcm9tUEtzIiwicHJpbWFyeUtleSIsImlkeE9mIiwiX3N5bmNPUk0iLCJvbGRSb3dzIiwibmV3Um93cyIsInVzZVJlbGF0aW9ucyIsImNudCIsIm1heCIsImFycmEiLCJyZWxhdGlvbkRvbmUiLCJ2YWwxIiwidmFsMiIsImRlbFByaW1hcnlrZXkiLCJ1cGRhdGVJRHMiLCJwcmltYXJ5S2V5XzEiLCJhZGRJZHMiLCJyZW1vdmVJZHMiLCJsaXN0IiwiYWRkUmVsYXRpb24iLCJ2YWx1ZXNUb0FkZCIsIl91cGRhdGVSb3dWaWV3cyIsIm5ld1Jvd0RhdGEiLCJjb2wiLCJyZWZSb3dzIiwiX3VwZGF0ZVJlbW90ZVZpZXdzIiwidXBkYXRlZFJvd3MiLCJkb0RlbCIsInZpZXciLCJyZWxhdGVkUm93cyIsInJlbFBLIiwiclJvdyIsInJEb25lIiwiZG9VcGRhdGUiLCJyUGsiLCJfZG9BZnRlclF1ZXJ5IiwidXBkYXRlZENvbHVtbnMiLCJ3cml0ZV8xIiwiX2dyb3VwQnlDb2x1bW5zIiwiX2pvaW4iLCJqb2luQ29uZGl0aW9ucyIsIl9sZWZ0IiwiX2NoZWNrIiwiX3JpZ2h0IiwibGVmdFRhYmxlIiwicmlnaHRUYWJsZSIsIl9kb0pvaW4iLCJqb2luZWRSb3dzIiwiX3doZXJlIiwiX2dyb3VwQnlLZXkiLCJfZ3JvdXBCeSIsImdyb3VwQnkiLCJzb3J0ZWRSb3dzIiwiX3NvcnRPYmoiLCJncm91cEJ5S2V5IiwiX3NvcnRHcm91cHMiLCJfaGF2aW5nIiwiaGF2aW5nIiwiX29yZGVyQnkiLCJvcmRlckJ5IiwiX29mZnNldCIsIm9mZnNldCIsIl9saW1pdCIsImxpbWl0IiwiX29ybSIsIm9ybVF1ZXJpZXMiLCJyb3dSZXN1bHQiLCJvcm1SZXN1bHQiLCJyZWxhdGVEYXRhIiwiTCIsIlIiLCJPIiwiZmlyc3RUYWJsZURhdGEiLCJzZWNvblRhYmxlRGF0YSIsImRvSm9pblJvd3MiLCJsZWZ0Um93IiwicmlnaHRSb3ciLCJqb2luVGFibGUiLCJyaWdodEtleSIsInVzZWRTZWNvbmRUYWJsZVJvd3MiLCJzZWNvbmRSb3dDYWNoZSIsImZpcnN0Um93IiwiaGFzT25lUmVsYXRpb24iLCJzZWNvbmRSb3ciLCJpZHgyIiwia2VlcDIiLCJhZGRSb3dzIiwib2JqQSIsIm9iakIiLCJyZXNvbHZlUGF0aHMiLCJBIiwiQiIsIl9tdXRhdGVSb3dzIiwiY29sdW1uU2VsZWN0aW9uIiwiZnVuY3Rpb25SZXN1bHRzIiwiZm5Hcm91cEJ5UmVzdWx0cyIsImhhc0FnZ3JlZ2F0ZUZ1bl8xIiwiY29sdW1uRGF0YV8xIiwiZm4iLCJjb2x1bW5Eb25lIiwiZm5BcmdzXzEiLCJmbkRvbmUiLCJkb011YXRlUm93cyIsImZuUmVzdWx0cyIsImhhc0Z1bmMiLCJhbGlhcyIsIm9uZVJvd18xIiwibmV3Um93c18xIiwidGhpc1JvdyIsImlucHV0Um93cyIsImFmdGVyTXV0YXRlIiwiYWZ0ZXJPUk0iLCJhZnRlckpvaW4iLCJfc2VsZWN0QnlUcmllIiwiX3NlbGVjdEJ5UmFuZ2UiLCJfaXNPcHRpbWl6ZWRXaGVyZSIsIl9zZWxlY3RCeUtleXMiLCJ3aGVyZVNsaWNlIiwiX2lzU3ViT3B0aW1pemVkV2hlcmUiLCJmYXN0V2hlcmUiLCJzbG93V2hlcmVfMSIsIl9mdWxsVGFibGVTY2FuIiwiX3NlbGVjdFJvd3NCeUluZGV4IiwicmVzdWx0Um93c18xIiwibGFzdENvbW1hbmRfMSIsIndBcmciLCJuZXh0V0FyZyIsImlkeF8xIiwic2Vjb25kYXJ5SW5kZXhLZXkiLCJjb3VudCIsImZyb21JZHgiLCJ0b0lkeCIsImhhc1doZXJlIiwiYXJyV2hlcmUiLCJ3QXJncyIsImxhc3RDaGVja18xIiwidGFibGVEYXRhIiwiZnJvbV8xIiwidG9fMSIsInNpbmdsZVJvdyIsImNvbW1hbmRzIiwiY2hlY2tXaGVyZV8xIiwiX2NvbXBhcmUiLCJjb21wYXJlIiwic2V0VmFsdWUiLCJjb2x1bW5WYWx1ZSIsImdpdmVuVmFsdWUiLCJwb3MiLCJxdWVyeV8xIiwic3RvcmFnZV8xIiwiX3F1ZXJ5UG9vbCIsIl9xdWVyeVB0ciIsIm5ld01vZGVscyIsImRvRXhlYyIsImV4ZWNBcmdzIiwic3RhdGUiLCJkdW1wIiwiZXhwb3J0VGFibGVzIiwicGtLZXkiLCJuU1FMaV8xIiwibG9nIiwidGFibGVzXzEiLCJ0aW1lcyIsIlJTRSIsInRoaXNRIiwiX3F1ZXJpZXMiLCJibGFua1JvdyIsInJ1blF1ZXJ5IiwibmV3USIsIl9pZF8iLCJoYXNMZW5ndGgiLCJldmVudF8xIiwibm93IiwiX0FWIiwibmV3RSIsImRlYm91bmNlVGltZXJzIiwicXVlcnlBY3Rpb24iLCJxdWVyeUFyZ3MiLCJwcmltYXJ5S2V5cyIsImRlYm91bmNlIiwib3JtQXJncyIsIl9lcnJvciIsInRyaWVTZWFyY2giLCJzdHJpbmdUb1NlYXJjaCIsInRvQ1NWIiwiaGVhZGVycyIsImpzb24iLCJkZW5vcm1hbGl6YXRpb25RdWVyeSIsImZuc1RvUnVuXzEiLCJjb2x1bW5zXzEiLCJuZXdWYWx1ZSIsImZuS2V5IiwiZm5fMSIsIlBLXzEiLCJkZW5vcm1hbGl6YXRpb25LZXlfMSIsImNsZWFyVGltZW91dCIsImlucHV0QXJnc18xIiwibW9kZWxDb2x1bW5zXzEiLCJfbmFub1NxbCIsImJhbGFuY2UiLCJfcmVhY3REb20yIiwicmVuZGVyIiwiX3JlYWN0MiIsImNyZWF0ZUVsZW1lbnQiLCJBY2NvdW50U3RhdHVzIiwiUmF0aW5nIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNvcmUiLCJfX2UiLCJfX2ciLCJhbk9iamVjdCIsIklFOF9ET01fREVGSU5FIiwidG9QcmltaXRpdmUiLCJkUCIsImYiLCJQIiwiQXR0cmlidXRlcyIsIml0Iiwic3RvcmUiLCJTeW1ib2wiLCJVU0VfU1lNQk9MIiwiSU9iamVjdCIsImRlZmluZWQiLCJjcmVhdGVEZXNjIiwiY3R4IiwiaGlkZSIsImhhcyIsIiRleHBvcnQiLCJvd24iLCJJU19GT1JDRUQiLCJGIiwiSVNfR0xPQkFMIiwiRyIsIklTX1NUQVRJQyIsIlMiLCJJU19QUk9UTyIsIklTX0JJTkQiLCJJU19XUkFQIiwiVyIsImV4cFByb3RvIiwidGFyZ2V0IiwiQyIsInZpcnR1YWwiLCJVIiwiYml0bWFwIiwid3JpdGFibGUiLCJweCIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiTElCUkFSWSIsIndrc0V4dCIsIiRTeW1ib2wiLCJjaGFyQXQiLCJkZWYiLCJUQUciLCJ0YWciLCJzdGF0IiwiJGtleXMiLCJlbnVtQnVnS2V5cyIsImRQcyIsIklFX1BST1RPIiwiRW1wdHkiLCJjcmVhdGVEaWN0IiwiaWZyYW1lRG9jdW1lbnQiLCJpZnJhbWUiLCJzdHlsZSIsImRpc3BsYXkiLCJhcHBlbmRDaGlsZCIsInNyYyIsImNvbnRlbnRXaW5kb3ciLCJsdCIsImNyZWF0ZSIsIlByb3BlcnRpZXMiLCJ2YWx1ZU9mIiwic2hhcmVkIiwibWFrZUVtcHR5RnVuY3Rpb24iLCJhcmciLCJlbXB0eUZ1bmN0aW9uIiwidGhhdFJldHVybnMiLCJ0aGF0UmV0dXJuc0ZhbHNlIiwidGhhdFJldHVybnNUcnVlIiwidGhhdFJldHVybnNOdWxsIiwidGhhdFJldHVybnNUaGlzIiwidGhhdFJldHVybnNBcmd1bWVudCIsIndhcm5pbmciLCJjb25kaXRpb24iLCJmb3JtYXQiLCJfbGVuMiIsIl9rZXkyIiwiX2xlbiIsIl9rZXkiLCJhcmdJbmRleCIsIngiLCJ2YWxpZGF0ZUZvcm1hdCIsImZyYW1lc1RvUG9wIiwiX3NldFByb3RvdHlwZU9mMiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfY3JlYXRlMiIsIl90eXBlb2YzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY29uc3RydWN0b3IiLCJfX3Byb3RvX18iLCJwSUUiLCJ0b0lPYmplY3QiLCJnT1BEIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiaGlkZGVuS2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImFycmF5SW5kZXhPZiIsIm5hbWVzIiwicmVkZWZpbmUiLCJJdGVyYXRvcnMiLCIkaXRlckNyZWF0ZSIsInNldFRvU3RyaW5nVGFnIiwiZ2V0UHJvdG90eXBlT2YiLCJJVEVSQVRPUiIsIkJVR0dZIiwicmV0dXJuVGhpcyIsIkJhc2UiLCJOQU1FIiwiQ29uc3RydWN0b3IiLCJERUZBVUxUIiwiSVNfU0VUIiwiRk9SQ0VEIiwibWV0aG9kcyIsIkl0ZXJhdG9yUHJvdG90eXBlIiwiZ2V0TWV0aG9kIiwia2luZCIsInByb3RvIiwiREVGX1ZBTFVFUyIsIlZBTFVFU19CVUciLCIkbmF0aXZlIiwiJGRlZmF1bHQiLCIkZW50cmllcyIsIiRhbnlOYXRpdmUiLCJlbnRyaWVzIiwiX2l0ZXJhdG9yMiIsIl9zeW1ib2wyIiwiX3R5cGVvZiIsIl90eXBlb2YyIiwiUmVmZXJlbmNlRXJyb3IiLCJfZGVmaW5lUHJvcGVydHkiLCJfZGVmaW5lUHJvcGVydHkyIiwiZGVmaW5lUHJvcGVydGllcyIsImRlc2NyaXB0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJpbnN0YW5jZSIsImlzIiwiYUZ1bmN0aW9uIiwidGhhdCIsInRvT2JqZWN0IiwiT2JqZWN0UHJvdG8iLCJpbnZhcmlhbnQiLCJSZWFjdFByb3BUeXBlc1NlY3JldCIsImxvZ2dlZFR5cGVGYWlsdXJlcyIsInR5cGVTcGVjcyIsImxvY2F0aW9uIiwiY29tcG9uZW50TmFtZSIsImdldFN0YWNrIiwidHlwZVNwZWNOYW1lIiwiZXgiLCJzdGFjayIsImVtcHR5T2JqZWN0IiwicHJvcElzRW51bWVyYWJsZSIsInRlc3QxIiwidGVzdDIiLCJmcm9tQ2hhckNvZGUiLCJ0ZXN0MyIsInNob3VsZFVzZU5hdGl2ZSIsInN5bWJvbHMiLCJfcmVhY3QiLCJfUmF0aW5nVGFibGUiLCJuU1FMZGF0YSIsIlJBVElOR19UQUJMRSIsImdldFJhdGluZyIsIm1lc3NhZ2VJZCIsInJhdGluZyIsIiRPYmplY3QiLCJEIiwiY2hlY2siLCJzZXRQcm90b3R5cGVPZiIsImJ1Z2d5IiwiZ09QTiIsIndpbmRvd05hbWVzIiwiZ2V0V2luZG93TmFtZXMiLCJjb2YiLCJnT1BTIiwiZ2V0U3ltYm9scyIsImlzRW51bSIsIk1FVEEiLCJzZXREZXNjIiwiaXNFeHRlbnNpYmxlIiwiRlJFRVpFIiwicHJldmVudEV4dGVuc2lvbnMiLCJzZXRNZXRhIiwiS0VZIiwiTkVFRCIsImZhc3RLZXkiLCJnZXRXZWFrIiwib25GcmVlemUiLCJERVNDUklQVE9SUyIsIiRmYWlscyIsIndrcyIsIndrc0RlZmluZSIsImVudW1LZXlzIiwiZ09QTkV4dCIsIiRHT1BEIiwiJERQIiwiJEpTT04iLCJfc3RyaW5naWZ5IiwiSElEREVOIiwiVE9fUFJJTUlUSVZFIiwiU3ltYm9sUmVnaXN0cnkiLCJBbGxTeW1ib2xzIiwiT1BTeW1ib2xzIiwiVVNFX05BVElWRSIsIlFPYmplY3QiLCJzZXR0ZXIiLCJmaW5kQ2hpbGQiLCJzZXRTeW1ib2xEZXNjIiwicHJvdG9EZXNjIiwid3JhcCIsInN5bSIsIl9rIiwiaXNTeW1ib2wiLCJpdGVyYXRvciIsIiRkZWZpbmVQcm9wZXJ0eSIsIiRkZWZpbmVQcm9wZXJ0aWVzIiwiJHByb3BlcnR5SXNFbnVtZXJhYmxlIiwiRSIsIiRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCIkZ2V0T3duUHJvcGVydHlOYW1lcyIsIiRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJJU19PUCIsIiRzZXQiLCJlczZTeW1ib2xzIiwid2VsbEtub3duU3ltYm9scyIsImZvciIsImtleUZvciIsInVzZVNldHRlciIsInVzZVNpbXBsZSIsInJlcGxhY2VyIiwiJHJlcGxhY2VyIiwiYWRkVG9VbnNjb3BhYmxlcyIsIml0ZXJhdGVkIiwiX3QiLCJBcmd1bWVudHMiLCJUT19TVFJJTkdfVEFHIiwiRE9NSXRlcmFibGVzIiwiQ29sbGVjdGlvbiIsImRvY3VtZW50RWxlbWVudCIsInRvSW50ZWdlciIsIm1pbiIsInRvTGVuZ3RoIiwidG9BYnNvbHV0ZUluZGV4IiwiSVNfSU5DTFVERVMiLCIkdGhpcyIsImVsIiwiZnJvbUluZGV4IiwiVE9fU1RSSU5HIiwiJGF0IiwicG9pbnQiLCJkZXNjIiwiZmFpbHMiLCJleHAiLCIkZ2V0UHJvdG90eXBlT2YiLCJfVXNlclRhYmxlIiwiVW5hdmFpbGFibGUiLCJjbGFzc05hbWUiLCJjdXJyZW50VXNlciIsImV4dGVuZFN0YXRpY3MiLCJfX2V4dGVuZHMiLCJfXyIsIlJlYWN0IiwibmFub19zcWxfMSIsImJpbmROU1FMIiwiQ29tcCIsIl9zdXBlciIsImNsYXNzXzEiLCJpc0xvYWRpbmciLCJ1cGRhdGVTdGF0ZSIsImJpbmQiLCJjb21wb25lbnRXaWxsTW91bnQiLCJvbkNoYW5nZSIsInByZXZUYWJsZSIsImNvbXBvbmVudFdpbGxVbm1vdW50Iiwic2V0U3RhdGUiLCJuU1FMbG9hZGluZyIsIkNvbXBvbmVudCIsIl9uYW5vU3FsUmVhY3QiLCJfR2xvYmFsU3RhdGUiLCJBU25zcWwiLCJfQWNjb3VudFN0YXR1czIiLCJSYXRpbmdGaWxsZWQiLCJfUmF0aW5nMiIsIl9oeXBoZW5QYXR0ZXJuIiwic3RyaW5nIiwiXyIsImNoYXJhY3RlciIsImNhbWVsaXplIiwibXNQYXR0ZXJuIiwiX3VwcGVyY2FzZVBhdHRlcm4iLCJoeXBoZW5hdGUiLCJkZWZhdWx0VmlldyIsIm93bmVyRG9jdW1lbnQiLCJOb2RlIiwibm9kZVR5cGUiLCJub2RlTmFtZSIsImlzTm9kZSIsImlzVGV4dE5vZGUiLCJjb250YWluc05vZGUiLCJvdXRlck5vZGUiLCJpbm5lck5vZGUiLCJwYXJlbnROb2RlIiwiY29udGFpbnMiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsInkiLCJrZXlzQSIsImtleXNCIiwiZG9jIiwiYWN0aXZlRWxlbWVudCIsImJvZHkiLCJjYW5Vc2VET00iLCJFeGVjdXRpb25FbnZpcm9ubWVudCIsImNhblVzZVdvcmtlcnMiLCJjYW5Vc2VFdmVudExpc3RlbmVycyIsImF0dGFjaEV2ZW50IiwiY2FuVXNlVmlld3BvcnQiLCJzY3JlZW4iLCJpc0luV29ya2VyIiwiY2hlY2tQcm9wVHlwZXMiLCJnZXRBY3RpdmVFbGVtZW50Iiwic2hhbGxvd0VxdWFsIiwiaHlwaGVuYXRlU3R5bGVOYW1lIiwiY2FtZWxpemVTdHlsZU5hbWUiLCJpbnZva2VHdWFyZGVkQ2FsbGJhY2siLCJfaGFzQ2F1Z2h0RXJyb3IiLCJfY2F1Z2h0RXJyb3IiLCJmdW5jQXJncyIsImRpc3BhdGNoRXZlbnQiLCJjcmVhdGVFdmVudCIsImZha2VOb2RlIiwiZXZ0IiwiZGlkRXJyb3IiLCJkaWRTZXRFcnJvciIsImlzQ3Jvc3NPcmlnaW5FcnJvciIsImNvbG5vIiwibGluZW5vIiwiZXZ0VHlwZSIsImNhbGxDYWxsYmFjayIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpbml0RXZlbnQiLCJpbnZva2VHdWFyZGVkQ2FsbGJhY2skMSIsIlJlYWN0RXJyb3JVdGlscyIsIl9yZXRocm93RXJyb3IiLCJfaGFzUmV0aHJvd0Vycm9yIiwiaW52b2tlR3VhcmRlZENhbGxiYWNrQW5kQ2F0Y2hGaXJzdEVycm9yIiwiaGFzQ2F1Z2h0RXJyb3IiLCJjbGVhckNhdWdodEVycm9yIiwicmV0aHJvd0NhdWdodEVycm9yIiwiZXZlbnRQbHVnaW5PcmRlciIsIm5hbWVzVG9QbHVnaW5zIiwicmVjb21wdXRlUGx1Z2luT3JkZXJpbmciLCJwbHVnaW5OYW1lIiwicGx1Z2luTW9kdWxlIiwicGx1Z2luSW5kZXgiLCJleHRyYWN0RXZlbnRzIiwicHVibGlzaGVkRXZlbnRzIiwiZXZlbnROYW1lIiwicHVibGlzaEV2ZW50Rm9yUGx1Z2luIiwiZGlzcGF0Y2hDb25maWciLCJldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MiLCJwaGFzZWRSZWdpc3RyYXRpb25OYW1lcyIsInBoYXNlTmFtZSIsInB1Ymxpc2hSZWdpc3RyYXRpb25OYW1lIiwicmVnaXN0cmF0aW9uTmFtZSIsInJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzIiwicmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llcyIsImRlcGVuZGVuY2llcyIsImxvd2VyQ2FzZWROYW1lIiwicG9zc2libGVSZWdpc3RyYXRpb25OYW1lcyIsIm9uZGJsY2xpY2siLCJpbmplY3RFdmVudFBsdWdpbk9yZGVyIiwiaW5qZWN0ZWRFdmVudFBsdWdpbk9yZGVyIiwiaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lIiwiaW5qZWN0ZWROYW1lc1RvUGx1Z2lucyIsImlzT3JkZXJpbmdEaXJ0eSIsIkV2ZW50UGx1Z2luUmVnaXN0cnkiLCJnZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlIiwiZ2V0SW5zdGFuY2VGcm9tTm9kZSIsImdldE5vZGVGcm9tSW5zdGFuY2UiLCJpbmplY3Rpb24kMSIsIkluamVjdGVkIiwidmFsaWRhdGVFdmVudERpc3BhdGNoZXMiLCJleGVjdXRlRGlzcGF0Y2giLCJzaW11bGF0ZWQiLCJpbnN0IiwiY3VycmVudFRhcmdldCIsImFjY3VtdWxhdGVJbnRvIiwiY3VycmVudCIsImZvckVhY2hBY2N1bXVsYXRlZCIsInNjb3BlIiwiZGlzcGF0Y2hMaXN0ZW5lcnMiLCJfZGlzcGF0Y2hMaXN0ZW5lcnMiLCJkaXNwYXRjaEluc3RhbmNlcyIsIl9kaXNwYXRjaEluc3RhbmNlcyIsImxpc3RlbmVyc0lzQXJyIiwibGlzdGVuZXJzTGVuIiwiaW5zdGFuY2VzSXNBcnIiLCJpbnN0YW5jZXNMZW4iLCJldmVudFF1ZXVlIiwiZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlIiwiaXNQcm9wYWdhdGlvblN0b3BwZWQiLCJleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXIiLCJpc1BlcnNpc3RlbnQiLCJyZWxlYXNlIiwiZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlU2ltdWxhdGVkIiwiZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlVG9wTGV2ZWwiLCJpbmplY3Rpb24iLCJnZXRMaXN0ZW5lciIsInN0YXRlTm9kZSIsImRpc2FibGVkIiwic2hvdWxkUHJldmVudE1vdXNlRXZlbnQiLCJydW5FdmVudHNJbkJhdGNoIiwiZXZlbnRzIiwicHJvY2Vzc2luZ0V2ZW50UXVldWUiLCJydW5FeHRyYWN0ZWRFdmVudHNJbkJhdGNoIiwidG9wTGV2ZWxUeXBlIiwidGFyZ2V0SW5zdCIsIm5hdGl2ZUV2ZW50IiwibmF0aXZlRXZlbnRUYXJnZXQiLCJwb3NzaWJsZVBsdWdpbiIsImV4dHJhY3RlZEV2ZW50cyIsIkV2ZW50UGx1Z2luSHViIiwiSW5kZXRlcm1pbmF0ZUNvbXBvbmVudCIsIkZ1bmN0aW9uYWxDb21wb25lbnQiLCJDbGFzc0NvbXBvbmVudCIsIkhvc3RSb290IiwiSG9zdFBvcnRhbCIsIkhvc3RDb21wb25lbnQiLCJIb3N0VGV4dCIsIkNhbGxDb21wb25lbnQiLCJDYWxsSGFuZGxlclBoYXNlIiwiUmV0dXJuQ29tcG9uZW50IiwiRnJhZ21lbnQiLCJNb2RlIiwiQ29udGV4dENvbnN1bWVyIiwiQ29udGV4dFByb3ZpZGVyIiwiRm9yd2FyZFJlZiIsInJhbmRvbUtleSIsImludGVybmFsSW5zdGFuY2VLZXkiLCJpbnRlcm5hbEV2ZW50SGFuZGxlcnNLZXkiLCJwcmVjYWNoZUZpYmVyTm9kZSQxIiwiaG9zdEluc3QiLCJnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZSIsImdldEluc3RhbmNlRnJvbU5vZGUkMSIsImdldE5vZGVGcm9tSW5zdGFuY2UkMSIsImdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGUkMSIsInVwZGF0ZUZpYmVyUHJvcHMkMSIsIlJlYWN0RE9NQ29tcG9uZW50VHJlZSIsInByZWNhY2hlRmliZXJOb2RlIiwidXBkYXRlRmliZXJQcm9wcyIsImdldFBhcmVudCIsInRyYXZlcnNlVHdvUGhhc2UiLCJ0cmF2ZXJzZUVudGVyTGVhdmUiLCJhcmdGcm9tIiwiYXJnVG8iLCJjb21tb24iLCJpbnN0QSIsImluc3RCIiwiZGVwdGhBIiwidGVtcEEiLCJkZXB0aEIiLCJ0ZW1wQiIsImRlcHRoIiwiYWx0ZXJuYXRlIiwiZ2V0TG93ZXN0Q29tbW9uQW5jZXN0b3IiLCJwYXRoRnJvbSIsInBhdGhUbyIsIl9hbHRlcm5hdGUiLCJhY2N1bXVsYXRlRGlyZWN0aW9uYWxEaXNwYXRjaGVzIiwicGhhc2UiLCJwcm9wYWdhdGlvblBoYXNlIiwibGlzdGVuZXJBdFBoYXNlIiwiYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NpbmdsZSIsIl90YXJnZXRJbnN0IiwiYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NpbmdsZVNraXBUYXJnZXQiLCJhY2N1bXVsYXRlRGlzcGF0Y2hlcyIsImlnbm9yZWREaXJlY3Rpb24iLCJhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlc1NpbmdsZSIsImFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMiLCJhY2N1bXVsYXRlRW50ZXJMZWF2ZURpc3BhdGNoZXMiLCJsZWF2ZSIsImVudGVyIiwiRXZlbnRQcm9wYWdhdG9ycyIsImFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTa2lwVGFyZ2V0IiwiYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXMiLCJjb250ZW50S2V5IiwiZ2V0VGV4dENvbnRlbnRBY2Nlc3NvciIsImNvbXBvc2l0aW9uU3RhdGUiLCJfcm9vdCIsIl9zdGFydFRleHQiLCJfZmFsbGJhY2tUZXh0IiwiZ2V0RGF0YSIsInN0YXJ0VmFsdWUiLCJzdGFydExlbmd0aCIsImVuZFZhbHVlIiwiZ2V0VGV4dCIsImVuZExlbmd0aCIsIm1pbkVuZCIsInNsaWNlVGFpbCIsImRpZFdhcm5Gb3JBZGRlZE5ld1Byb3BlcnR5IiwiRVZFTlRfUE9PTF9TSVpFIiwic2hvdWxkQmVSZWxlYXNlZFByb3BlcnRpZXMiLCJFdmVudEludGVyZmFjZSIsImV2ZW50UGhhc2UiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsInRpbWVTdGFtcCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJpc1RydXN0ZWQiLCJTeW50aGV0aWNFdmVudCIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiSW50ZXJmYWNlIiwicHJvcE5hbWUiLCJub3JtYWxpemUiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJnZXRQb29sZWRXYXJuaW5nUHJvcGVydHlEZWZpbml0aW9uIiwiZ2V0VmFsIiwiaXNGdW5jdGlvbiIsIndhcm4iLCJnZXRQb29sZWRFdmVudCIsIm5hdGl2ZUluc3QiLCJldmVudFBvb2wiLCJyZWxlYXNlUG9vbGVkRXZlbnQiLCJkZXN0cnVjdG9yIiwiYWRkRXZlbnRQb29saW5nVG8iLCJFdmVudENvbnN0cnVjdG9yIiwiZ2V0UG9vbGVkIiwiY2FuY2VsQnViYmxlIiwicGVyc2lzdCIsIlN1cGVyIiwiQ2xhc3MiLCJQcm94eSIsImlzU2VhbGVkIiwiY29uc3RydWN0IiwiU3ludGhldGljRXZlbnQkMSIsIlN5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQiLCJTeW50aGV0aWNJbnB1dEV2ZW50IiwiRU5EX0tFWUNPREVTIiwiU1RBUlRfS0VZQ09ERSIsImNhblVzZUNvbXBvc2l0aW9uRXZlbnQiLCJkb2N1bWVudE1vZGUiLCJjYW5Vc2VUZXh0SW5wdXRFdmVudCIsInVzZUZhbGxiYWNrQ29tcG9zaXRpb25EYXRhIiwiU1BBQ0VCQVJfQ09ERSIsIlNQQUNFQkFSX0NIQVIiLCJiZWZvcmVJbnB1dCIsImJ1YmJsZWQiLCJjYXB0dXJlZCIsImNvbXBvc2l0aW9uRW5kIiwiY29tcG9zaXRpb25TdGFydCIsImNvbXBvc2l0aW9uVXBkYXRlIiwiaGFzU3BhY2VLZXlwcmVzcyIsImlzRmFsbGJhY2tDb21wb3NpdGlvbkVuZCIsImtleUNvZGUiLCJnZXREYXRhRnJvbUN1c3RvbUV2ZW50IiwiZGV0YWlsIiwiaXNDb21wb3NpbmciLCJleHRyYWN0Q29tcG9zaXRpb25FdmVudCIsImV2ZW50VHlwZSIsImZhbGxiYWNrRGF0YSIsImdldENvbXBvc2l0aW9uRXZlbnRUeXBlIiwiaXNGYWxsYmFja0NvbXBvc2l0aW9uU3RhcnQiLCJpbml0aWFsaXplIiwiY3VzdG9tRGF0YSIsImdldEZhbGxiYWNrQmVmb3JlSW5wdXRDaGFycyIsImNoYXJzIiwiY3RybEtleSIsImFsdEtleSIsIm1ldGFLZXkiLCJpc0tleXByZXNzQ29tbWFuZCIsImNoYXIiLCJ3aGljaCIsImV4dHJhY3RCZWZvcmVJbnB1dEV2ZW50IiwiZ2V0TmF0aXZlQmVmb3JlSW5wdXRDaGFycyIsIkJlZm9yZUlucHV0RXZlbnRQbHVnaW4iLCJjb21wb3NpdGlvbiIsImZpYmVySG9zdENvbXBvbmVudCIsInJlc3RvcmVUYXJnZXQiLCJyZXN0b3JlUXVldWUiLCJyZXN0b3JlU3RhdGVPZlRhcmdldCIsImludGVybmFsSW5zdGFuY2UiLCJyZXN0b3JlQ29udHJvbGxlZFN0YXRlIiwiaW5qZWN0aW9uJDIiLCJpbmplY3RGaWJlckNvbnRyb2xsZWRIb3N0Q29tcG9uZW50IiwiaG9zdENvbXBvbmVudEltcGwiLCJlbnF1ZXVlU3RhdGVSZXN0b3JlIiwibmVlZHNTdGF0ZVJlc3RvcmUiLCJyZXN0b3JlU3RhdGVJZk5lZWRlZCIsInF1ZXVlZFRhcmdldHMiLCJSZWFjdENvbnRyb2xsZWRDb21wb25lbnQiLCJfYmF0Y2hlZFVwZGF0ZXMiLCJib29ra2VlcGluZyIsIl9pbnRlcmFjdGl2ZVVwZGF0ZXMiLCJfZmx1c2hJbnRlcmFjdGl2ZVVwZGF0ZXMiLCJpc0JhdGNoaW5nIiwiYmF0Y2hlZFVwZGF0ZXMiLCJpbmplY3Rpb24kMyIsInJlbmRlcmVyIiwiaW50ZXJhY3RpdmVVcGRhdGVzIiwiZmx1c2hJbnRlcmFjdGl2ZVVwZGF0ZXMiLCJzdXBwb3J0ZWRJbnB1dFR5cGVzIiwiY29sb3IiLCJkYXRlIiwiZGF0ZXRpbWUiLCJkYXRldGltZS1sb2NhbCIsImVtYWlsIiwibW9udGgiLCJudW1iZXIiLCJwYXNzd29yZCIsInRlbCIsInRleHQiLCJ1cmwiLCJ3ZWVrIiwiaXNUZXh0SW5wdXRFbGVtZW50IiwiZWxlbSIsIkVMRU1FTlRfTk9ERSIsIlRFWFRfTk9ERSIsIkNPTU1FTlRfTk9ERSIsIkRPQ1VNRU5UX05PREUiLCJET0NVTUVOVF9GUkFHTUVOVF9OT0RFIiwiZ2V0RXZlbnRUYXJnZXQiLCJjb3JyZXNwb25kaW5nVXNlRWxlbWVudCIsImlzRXZlbnRTdXBwb3J0ZWQiLCJldmVudE5hbWVTdWZmaXgiLCJjYXB0dXJlIiwiaXNTdXBwb3J0ZWQiLCJlbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiaXNDaGVja2FibGUiLCJnZXRUcmFja2VyIiwiX3ZhbHVlVHJhY2tlciIsInRyYWNrIiwidmFsdWVGaWVsZCIsImdldFZhbHVlIiwic3RvcFRyYWNraW5nIiwiZGV0YWNoVHJhY2tlciIsInRyYWNrVmFsdWVPbk5vZGUiLCJ1cGRhdGVWYWx1ZUlmQ2hhbmdlZCIsInRyYWNrZXIiLCJsYXN0VmFsdWUiLCJuZXh0VmFsdWUiLCJjaGVja2VkIiwiZ2V0VmFsdWVGcm9tTm9kZSIsIlJlYWN0SW50ZXJuYWxzIiwiX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQiLCJSZWFjdEN1cnJlbnRPd25lciIsIlJlYWN0RGVidWdDdXJyZW50RnJhbWUiLCJkZXNjcmliZUNvbXBvbmVudEZyYW1lIiwib3duZXJOYW1lIiwiZmlsZU5hbWUiLCJsaW5lTnVtYmVyIiwiaGFzU3ltYm9sIiwiUkVBQ1RfRUxFTUVOVF9UWVBFIiwiUkVBQ1RfQ0FMTF9UWVBFIiwiUkVBQ1RfUkVUVVJOX1RZUEUiLCJSRUFDVF9QT1JUQUxfVFlQRSIsIlJFQUNUX0ZSQUdNRU5UX1RZUEUiLCJSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFIiwiUkVBQ1RfUFJPVklERVJfVFlQRSIsIlJFQUNUX0NPTlRFWFRfVFlQRSIsIlJFQUNUX0FTWU5DX01PREVfVFlQRSIsIlJFQUNUX0ZPUldBUkRfUkVGX1RZUEUiLCJNQVlCRV9JVEVSQVRPUl9TWU1CT0wiLCJGQVVYX0lURVJBVE9SX1NZTUJPTCIsImdldEl0ZXJhdG9yRm4iLCJtYXliZUl0ZXJhYmxlIiwibWF5YmVJdGVyYXRvciIsImdldENvbXBvbmVudE5hbWUiLCJmaWJlciIsImRpc3BsYXlOYW1lIiwiZGVzY3JpYmVGaWJlciIsIm93bmVyIiwiX2RlYnVnT3duZXIiLCJfZGVidWdTb3VyY2UiLCJnZXRTdGFja0FkZGVuZHVtQnlXb3JrSW5Qcm9ncmVzc0ZpYmVyIiwid29ya0luUHJvZ3Jlc3MiLCJpbmZvIiwiZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQxIiwiUmVhY3REZWJ1Z0N1cnJlbnRGaWJlciIsInJlc2V0Q3VycmVudEZpYmVyIiwiZ2V0Q3VycmVudFN0YWNrIiwic2V0Q3VycmVudEZpYmVyIiwic2V0Q3VycmVudFBoYXNlIiwiZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lIiwiZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSIsIlJFU0VSVkVEIiwiQk9PTEVBTklTSF9TVFJJTkciLCJCT09MRUFOIiwiT1ZFUkxPQURFRF9CT09MRUFOIiwiTlVNRVJJQyIsIlBPU0lUSVZFX05VTUVSSUMiLCJBVFRSSUJVVEVfTkFNRV9TVEFSVF9DSEFSIiwiQVRUUklCVVRFX05BTUVfQ0hBUiIsIlJPT1RfQVRUUklCVVRFX05BTUUiLCJWQUxJRF9BVFRSSUJVVEVfTkFNRV9SRUdFWCIsIlJlZ0V4cCIsImlsbGVnYWxBdHRyaWJ1dGVOYW1lQ2FjaGUiLCJ2YWxpZGF0ZWRBdHRyaWJ1dGVOYW1lQ2FjaGUiLCJpc0F0dHJpYnV0ZU5hbWVTYWZlIiwiYXR0cmlidXRlTmFtZSIsInNob3VsZElnbm9yZUF0dHJpYnV0ZSIsInByb3BlcnR5SW5mbyIsImlzQ3VzdG9tQ29tcG9uZW50VGFnIiwic2hvdWxkUmVtb3ZlQXR0cmlidXRlV2l0aFdhcm5pbmciLCJhY2NlcHRzQm9vbGVhbnMiLCJzaG91bGRSZW1vdmVBdHRyaWJ1dGUiLCJnZXRQcm9wZXJ0eUluZm8iLCJwcm9wZXJ0aWVzIiwiUHJvcGVydHlJbmZvUmVjb3JkIiwibXVzdFVzZVByb3BlcnR5IiwiYXR0cmlidXRlTmFtZXNwYWNlIiwicHJvcGVydHlOYW1lIiwiX3JlZiIsIkNBTUVMSVpFIiwiY2FwaXRhbGl6ZSIsInRva2VuIiwiZ2V0VmFsdWVGb3JQcm9wZXJ0eSIsImV4cGVjdGVkIiwic3RyaW5nVmFsdWUiLCJoYXNBdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGUiLCJnZXRWYWx1ZUZvckF0dHJpYnV0ZSIsInNldFZhbHVlRm9yUHJvcGVydHkiLCJfYXR0cmlidXRlTmFtZSIsInJlbW92ZUF0dHJpYnV0ZSIsIl90eXBlIiwiYXR0cmlidXRlVmFsdWUiLCJzZXRBdHRyaWJ1dGVOUyIsInRhYkluZGV4IiwiUmVhY3RDb250cm9sbGVkVmFsdWVQcm9wVHlwZXMiLCJoYXNSZWFkT25seVZhbHVlIiwiYnV0dG9uIiwiY2hlY2tib3giLCJpbWFnZSIsImhpZGRlbiIsInJhZGlvIiwicmVzZXQiLCJzdWJtaXQiLCJwcm9wVHlwZXMiLCJyZWFkT25seSIsInRhZ05hbWUiLCJkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUiLCJkaWRXYXJuQ2hlY2tlZERlZmF1bHRDaGVja2VkIiwiZGlkV2FybkNvbnRyb2xsZWRUb1VuY29udHJvbGxlZCIsImRpZFdhcm5VbmNvbnRyb2xsZWRUb0NvbnRyb2xsZWQiLCJpc0NvbnRyb2xsZWQiLCJnZXRIb3N0UHJvcHMiLCJkZWZhdWx0Q2hlY2tlZCIsImRlZmF1bHRWYWx1ZSIsIl93cmFwcGVyU3RhdGUiLCJpbml0aWFsQ2hlY2tlZCIsImluaXRXcmFwcGVyU3RhdGUiLCJpbml0aWFsVmFsdWUiLCJnZXRTYWZlVmFsdWUiLCJjb250cm9sbGVkIiwidXBkYXRlQ2hlY2tlZCIsInVwZGF0ZVdyYXBwZXIiLCJfY29udHJvbGxlZCIsInNldERlZmF1bHRWYWx1ZSIsInBvc3RNb3VudFdyYXBwZXIiLCJyb290Tm9kZSIsInF1ZXJ5Um9vdCIsImdyb3VwIiwicXVlcnlTZWxlY3RvckFsbCIsIm90aGVyTm9kZSIsImZvcm0iLCJvdGhlclByb3BzIiwidXBkYXRlTmFtZWRDb3VzaW5zIiwiZXZlbnRUeXBlcyQxIiwiY2hhbmdlIiwiY3JlYXRlQW5kQWNjdW11bGF0ZUNoYW5nZUV2ZW50IiwiYWN0aXZlRWxlbWVudEluc3QiLCJydW5FdmVudEluQmF0Y2giLCJnZXRJbnN0SWZWYWx1ZUNoYW5nZWQiLCJnZXRUYXJnZXRJbnN0Rm9yQ2hhbmdlRXZlbnQiLCJpc0lucHV0RXZlbnRTdXBwb3J0ZWQiLCJzdG9wV2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSIsImRldGFjaEV2ZW50IiwiaGFuZGxlUHJvcGVydHlDaGFuZ2UiLCJtYW51YWxEaXNwYXRjaENoYW5nZUV2ZW50IiwiaGFuZGxlRXZlbnRzRm9ySW5wdXRFdmVudFBvbHlmaWxsIiwic3RhcnRXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlIiwiZ2V0VGFyZ2V0SW5zdEZvcklucHV0RXZlbnRQb2x5ZmlsbCIsImdldFRhcmdldEluc3RGb3JDbGlja0V2ZW50IiwiZ2V0VGFyZ2V0SW5zdEZvcklucHV0T3JDaGFuZ2VFdmVudCIsIkNoYW5nZUV2ZW50UGx1Z2luIiwiX2lzSW5wdXRFdmVudFN1cHBvcnRlZCIsInRhcmdldE5vZGUiLCJnZXRUYXJnZXRJbnN0RnVuYyIsImhhbmRsZUV2ZW50RnVuYyIsInNob3VsZFVzZUNsaWNrRXZlbnQiLCJoYW5kbGVDb250cm9sbGVkSW5wdXRCbHVyIiwiU3ludGhldGljVUlFdmVudCIsIm1vZGlmaWVyS2V5VG9Qcm9wIiwiQWx0IiwiQ29udHJvbCIsIk1ldGEiLCJTaGlmdCIsIm1vZGlmaWVyU3RhdGVHZXR0ZXIiLCJrZXlBcmciLCJnZXRNb2RpZmllclN0YXRlIiwia2V5UHJvcCIsImdldEV2ZW50TW9kaWZpZXJTdGF0ZSIsIlN5bnRoZXRpY01vdXNlRXZlbnQiLCJzY3JlZW5YIiwic2NyZWVuWSIsImNsaWVudFgiLCJjbGllbnRZIiwicGFnZVgiLCJwYWdlWSIsInNoaWZ0S2V5IiwiYnV0dG9ucyIsInJlbGF0ZWRUYXJnZXQiLCJmcm9tRWxlbWVudCIsInNyY0VsZW1lbnQiLCJ0b0VsZW1lbnQiLCJldmVudFR5cGVzJDIiLCJtb3VzZUVudGVyIiwibW91c2VMZWF2ZSIsIkVudGVyTGVhdmVFdmVudFBsdWdpbiIsIndpbiIsInBhcmVudFdpbmRvdyIsInJlbGF0ZWQiLCJmcm9tTm9kZSIsInRvTm9kZSIsIl9yZWFjdEludGVybmFsRmliZXIiLCJOb0VmZmVjdCIsIlBlcmZvcm1lZFdvcmsiLCJQbGFjZW1lbnQiLCJVcGRhdGUiLCJQbGFjZW1lbnRBbmRVcGRhdGUiLCJEZWxldGlvbiIsIkNvbnRlbnRSZXNldCIsIkNhbGxiYWNrIiwiRGlkQ2FwdHVyZSIsIlJlZiIsIkVyckxvZyIsIlNuYXBzaG90IiwiSG9zdEVmZmVjdE1hc2siLCJJbmNvbXBsZXRlIiwiU2hvdWxkQ2FwdHVyZSIsIk1PVU5USU5HIiwiTU9VTlRFRCIsIlVOTU9VTlRFRCIsImlzRmliZXJNb3VudGVkSW1wbCIsImVmZmVjdFRhZyIsImlzRmliZXJNb3VudGVkIiwiaXNNb3VudGVkIiwiY29tcG9uZW50Iiwib3duZXJGaWJlciIsIl93YXJuZWRBYm91dFJlZnNJblJlbmRlciIsImFzc2VydElzTW91bnRlZCIsImZpbmRDdXJyZW50RmliZXJVc2luZ1Nsb3dQYXRoIiwicGFyZW50QSIsInBhcmVudEIiLCJjaGlsZCIsInNpYmxpbmciLCJkaWRGaW5kQ2hpbGQiLCJfY2hpbGQiLCJTeW50aGV0aWNBbmltYXRpb25FdmVudCIsImFuaW1hdGlvbk5hbWUiLCJlbGFwc2VkVGltZSIsInBzZXVkb0VsZW1lbnQiLCJTeW50aGV0aWNDbGlwYm9hcmRFdmVudCIsImNsaXBib2FyZERhdGEiLCJTeW50aGV0aWNGb2N1c0V2ZW50IiwiZ2V0RXZlbnRDaGFyQ29kZSIsImNoYXJDb2RlIiwibm9ybWFsaXplS2V5IiwiRXNjIiwiU3BhY2ViYXIiLCJMZWZ0IiwiVXAiLCJSaWdodCIsIkRvd24iLCJEZWwiLCJXaW4iLCJNZW51IiwiQXBwcyIsIlNjcm9sbCIsIk1velByaW50YWJsZUtleSIsInRyYW5zbGF0ZVRvS2V5IiwiOCIsIjkiLCIxMiIsIjEzIiwiMTYiLCIxNyIsIjE4IiwiMTkiLCIyMCIsIjI3IiwiMzIiLCIzMyIsIjM0IiwiMzUiLCIzNiIsIjM3IiwiMzgiLCIzOSIsIjQwIiwiNDUiLCI0NiIsIjExMiIsIjExMyIsIjExNCIsIjExNSIsIjExNiIsIjExNyIsIjExOCIsIjExOSIsIjEyMCIsIjEyMSIsIjEyMiIsIjEyMyIsIjE0NCIsIjE0NSIsIjIyNCIsIlN5bnRoZXRpY0tleWJvYXJkRXZlbnQiLCJyZXBlYXQiLCJsb2NhbGUiLCJTeW50aGV0aWNEcmFnRXZlbnQiLCJkYXRhVHJhbnNmZXIiLCJTeW50aGV0aWNUb3VjaEV2ZW50IiwidG91Y2hlcyIsInRhcmdldFRvdWNoZXMiLCJjaGFuZ2VkVG91Y2hlcyIsIlN5bnRoZXRpY1RyYW5zaXRpb25FdmVudCIsIlN5bnRoZXRpY1doZWVsRXZlbnQiLCJkZWx0YVgiLCJ3aGVlbERlbHRhWCIsImRlbHRhWSIsIndoZWVsRGVsdGFZIiwid2hlZWxEZWx0YSIsImRlbHRhWiIsImRlbHRhTW9kZSIsImV2ZW50VHlwZXMkNCIsInRvcExldmVsRXZlbnRzVG9EaXNwYXRjaENvbmZpZyIsImFkZEV2ZW50VHlwZU5hbWVUb0NvbmZpZyIsImlzSW50ZXJhY3RpdmUiLCJjYXBpdGFsaXplZEV2ZW50Iiwib25FdmVudCIsInRvcEV2ZW50IiwiZXZlbnRUeXBlTmFtZSIsImtub3duSFRNTFRvcExldmVsVHlwZXMiLCJTaW1wbGVFdmVudFBsdWdpbiIsImlzSW50ZXJhY3RpdmVUb3BMZXZlbEV2ZW50VHlwZSIsIkNBTExCQUNLX0JPT0tLRUVQSU5HX1BPT0xfU0laRSIsImNhbGxiYWNrQm9va2tlZXBpbmdQb29sIiwiZmluZFJvb3RDb250YWluZXJOb2RlIiwiY29udGFpbmVySW5mbyIsImhhbmRsZVRvcExldmVsIiwiYm9va0tlZXBpbmciLCJhbmNlc3RvciIsImFuY2VzdG9ycyIsInJvb3QiLCJfZW5hYmxlZCIsInNldEVuYWJsZWQiLCJlbmFibGVkIiwiaXNFbmFibGVkIiwidHJhcEJ1YmJsZWRFdmVudCIsImhhbmRsZXJCYXNlTmFtZSIsImFkZEV2ZW50QnViYmxlTGlzdGVuZXIiLCJkaXNwYXRjaEludGVyYWN0aXZlRXZlbnQiLCJ0cmFwQ2FwdHVyZWRFdmVudCIsImFkZEV2ZW50Q2FwdHVyZUxpc3RlbmVyIiwiZ2V0VG9wTGV2ZWxDYWxsYmFja0Jvb2tLZWVwaW5nIiwiUmVhY3RET01FdmVudExpc3RlbmVyIiwibWFrZVByZWZpeE1hcCIsInN0eWxlUHJvcCIsInZlbmRvclByZWZpeGVzIiwiYW5pbWF0aW9uZW5kIiwiYW5pbWF0aW9uaXRlcmF0aW9uIiwiYW5pbWF0aW9uc3RhcnQiLCJ0cmFuc2l0aW9uZW5kIiwicHJlZml4ZWRFdmVudE5hbWVzIiwiZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUiLCJwcmVmaXhNYXAiLCJhbmltYXRpb24iLCJ0cmFuc2l0aW9uIiwidG9wTGV2ZWxUeXBlcyIsInRvcEFuaW1hdGlvbkVuZCIsInRvcEFuaW1hdGlvbkl0ZXJhdGlvbiIsInRvcEFuaW1hdGlvblN0YXJ0IiwidG9wQmx1ciIsInRvcENhbmNlbCIsInRvcENoYW5nZSIsInRvcENsaWNrIiwidG9wQ2xvc2UiLCJ0b3BDb21wb3NpdGlvbkVuZCIsInRvcENvbXBvc2l0aW9uU3RhcnQiLCJ0b3BDb21wb3NpdGlvblVwZGF0ZSIsInRvcENvbnRleHRNZW51IiwidG9wQ29weSIsInRvcEN1dCIsInRvcERvdWJsZUNsaWNrIiwidG9wRHJhZyIsInRvcERyYWdFbmQiLCJ0b3BEcmFnRW50ZXIiLCJ0b3BEcmFnRXhpdCIsInRvcERyYWdMZWF2ZSIsInRvcERyYWdPdmVyIiwidG9wRHJhZ1N0YXJ0IiwidG9wRHJvcCIsInRvcEZvY3VzIiwidG9wSW5wdXQiLCJ0b3BLZXlEb3duIiwidG9wS2V5UHJlc3MiLCJ0b3BLZXlVcCIsInRvcExvYWQiLCJ0b3BMb2FkU3RhcnQiLCJ0b3BNb3VzZURvd24iLCJ0b3BNb3VzZU1vdmUiLCJ0b3BNb3VzZU91dCIsInRvcE1vdXNlT3ZlciIsInRvcE1vdXNlVXAiLCJ0b3BQYXN0ZSIsInRvcFNjcm9sbCIsInRvcFNlbGVjdGlvbkNoYW5nZSIsInRvcFRleHRJbnB1dCIsInRvcFRvZ2dsZSIsInRvcFRvdWNoQ2FuY2VsIiwidG9wVG91Y2hFbmQiLCJ0b3BUb3VjaE1vdmUiLCJ0b3BUb3VjaFN0YXJ0IiwidG9wVHJhbnNpdGlvbkVuZCIsInRvcFdoZWVsIiwibWVkaWFFdmVudFR5cGVzIiwidG9wQWJvcnQiLCJ0b3BDYW5QbGF5IiwidG9wQ2FuUGxheVRocm91Z2giLCJ0b3BEdXJhdGlvbkNoYW5nZSIsInRvcEVtcHRpZWQiLCJ0b3BFbmNyeXB0ZWQiLCJ0b3BFbmRlZCIsInRvcEVycm9yIiwidG9wTG9hZGVkRGF0YSIsInRvcExvYWRlZE1ldGFkYXRhIiwidG9wUGF1c2UiLCJ0b3BQbGF5IiwidG9wUGxheWluZyIsInRvcFByb2dyZXNzIiwidG9wUmF0ZUNoYW5nZSIsInRvcFNlZWtlZCIsInRvcFNlZWtpbmciLCJ0b3BTdGFsbGVkIiwidG9wU3VzcGVuZCIsInRvcFRpbWVVcGRhdGUiLCJ0b3BWb2x1bWVDaGFuZ2UiLCJ0b3BXYWl0aW5nIiwiYWxyZWFkeUxpc3RlbmluZ1RvIiwicmVhY3RUb3BMaXN0ZW5lcnNDb3VudGVyIiwidG9wTGlzdGVuZXJzSURLZXkiLCJnZXRMaXN0ZW5pbmdGb3JEb2N1bWVudCIsIm1vdW50QXQiLCJnZXRMZWFmTm9kZSIsImZpcnN0Q2hpbGQiLCJnZXRTaWJsaW5nTm9kZSIsIm5leHRTaWJsaW5nIiwiZ2V0Tm9kZUZvckNoYXJhY3Rlck9mZnNldCIsIm5vZGVTdGFydCIsIm5vZGVFbmQiLCJ0ZXh0Q29udGVudCIsImdldE9mZnNldHMiLCJzZWxlY3Rpb24iLCJnZXRTZWxlY3Rpb24iLCJyYW5nZUNvdW50IiwiYW5jaG9yTm9kZSIsImFuY2hvck9mZnNldCIsImZvY3VzTm9kZSIsImZvY3VzT2Zmc2V0IiwiaW5kZXhXaXRoaW5BbmNob3IiLCJpbmRleFdpdGhpbkZvY3VzIiwib3V0ZXIiLCJub2RlVmFsdWUiLCJnZXRNb2Rlcm5PZmZzZXRzRnJvbVBvaW50cyIsImhhc1NlbGVjdGlvbkNhcGFiaWxpdGllcyIsImNvbnRlbnRFZGl0YWJsZSIsImdldFNlbGVjdGlvbkluZm9ybWF0aW9uIiwiZm9jdXNlZEVsZW0iLCJzZWxlY3Rpb25SYW5nZSIsInNlbGVjdGlvblN0YXJ0Iiwic2VsZWN0aW9uRW5kIiwiZ2V0U2VsZWN0aW9uJDEiLCJyZXN0b3JlU2VsZWN0aW9uIiwicHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbiIsImN1ckZvY3VzZWRFbGVtIiwicHJpb3JGb2N1c2VkRWxlbSIsInByaW9yU2VsZWN0aW9uUmFuZ2UiLCJvZmZzZXRzIiwidGVtcCIsInN0YXJ0TWFya2VyIiwiZW5kTWFya2VyIiwiY3JlYXRlUmFuZ2UiLCJzZXRTdGFydCIsInJlbW92ZUFsbFJhbmdlcyIsImFkZFJhbmdlIiwic2V0RW5kIiwic2V0T2Zmc2V0cyIsInNldFNlbGVjdGlvbiIsImxlZnQiLCJzY3JvbGxMZWZ0IiwidG9wIiwic2Nyb2xsVG9wIiwiZm9jdXMiLCJza2lwU2VsZWN0aW9uQ2hhbmdlRXZlbnQiLCJldmVudFR5cGVzJDMiLCJhY3RpdmVFbGVtZW50JDEiLCJhY3RpdmVFbGVtZW50SW5zdCQxIiwibGFzdFNlbGVjdGlvbiIsIm1vdXNlRG93biIsImNvbnN0cnVjdFNlbGVjdEV2ZW50IiwiY3VycmVudFNlbGVjdGlvbiIsInN5bnRoZXRpY0V2ZW50IiwiU2VsZWN0RXZlbnRQbHVnaW4iLCJpc0xpc3RlbmluZyIsImRlcGVuZGVuY3kiLCJpc0xpc3RlbmluZ1RvQWxsRGVwZW5kZW5jaWVzIiwiTUFYX1NJR05FRF8zMV9CSVRfSU5UIiwiTm9Xb3JrIiwiU3luYyIsIk5ldmVyIiwiVU5JVF9TSVpFIiwiTUFHSUNfTlVNQkVSX09GRlNFVCIsIm1zVG9FeHBpcmF0aW9uVGltZSIsImV4cGlyYXRpb25UaW1lVG9NcyIsImV4cGlyYXRpb25UaW1lIiwiY29tcHV0ZUV4cGlyYXRpb25CdWNrZXQiLCJjdXJyZW50VGltZSIsImV4cGlyYXRpb25Jbk1zIiwiYnVja2V0U2l6ZU1zIiwicHJlY2lzaW9uIiwiTm9Db250ZXh0IiwiQXN5bmNNb2RlIiwiU3RyaWN0TW9kZSIsImhhc0JhZE1hcFBvbHlmaWxsIiwibm9uRXh0ZW5zaWJsZU9iamVjdCIsInRlc3RNYXAiLCJNYXAiLCJ0ZXN0U2V0IiwiU2V0IiwiZGVidWdDb3VudGVyIiwiY3JlYXRlRmliZXIiLCJwZW5kaW5nUHJvcHMiLCJyZWYiLCJtZW1vaXplZFByb3BzIiwidXBkYXRlUXVldWUiLCJtZW1vaXplZFN0YXRlIiwibmV4dEVmZmVjdCIsImZpcnN0RWZmZWN0IiwibGFzdEVmZmVjdCIsIl9kZWJ1Z0lEIiwiX2RlYnVnSXNDdXJyZW50bHlUaW1pbmciLCJjcmVhdGVXb3JrSW5Qcm9ncmVzcyIsImNyZWF0ZUZpYmVyRnJvbUVsZW1lbnQiLCJfb3duZXIiLCJmaWJlclRhZyIsImlzUmVhY3RDb21wb25lbnQiLCJjcmVhdGVGaWJlckZyb21GcmFnbWVudCIsImNoaWxkcmVuIiwiJCR0eXBlb2YiLCJ0aHJvd09uSW52YWxpZEVsZW1lbnRUeXBlIiwiX3NvdXJjZSIsImVsZW1lbnRzIiwiY3JlYXRlRmliZXJGcm9tVGV4dCIsImNvbnRlbnQiLCJjcmVhdGVGaWJlckZyb21Qb3J0YWwiLCJwb3J0YWwiLCJwZW5kaW5nQ2hpbGRyZW4iLCJpbXBsZW1lbnRhdGlvbiIsImFzc2lnbkZpYmVyUHJvcGVydGllc0luREVWIiwiY3JlYXRlRmliZXJSb290IiwiaXNBc3luYyIsImh5ZHJhdGUiLCJ1bmluaXRpYWxpemVkRmliZXIiLCJjcmVhdGVIb3N0Um9vdEZpYmVyIiwicGVuZGluZ0NvbW1pdEV4cGlyYXRpb25UaW1lIiwiZmluaXNoZWRXb3JrIiwicGVuZGluZ0NvbnRleHQiLCJyZW1haW5pbmdFeHBpcmF0aW9uVGltZSIsImZpcnN0QmF0Y2giLCJuZXh0U2NoZWR1bGVkUm9vdCIsIm9uQ29tbWl0RmliZXJSb290Iiwib25Db21taXRGaWJlclVubW91bnQiLCJoYXNMb2dnZWRFcnJvciIsImNhdGNoRXJyb3JzIiwib25Db21taXRSb290Iiwib25Db21taXRVbm1vdW50IiwibG93UHJpb3JpdHlXYXJuaW5nJDEiLCJSZWFjdFN0cmljdE1vZGVXYXJuaW5ncyIsImRpc2NhcmRQZW5kaW5nV2FybmluZ3MiLCJmbHVzaFBlbmRpbmdEZXByZWNhdGlvbldhcm5pbmdzIiwiZmx1c2hQZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MiLCJyZWNvcmREZXByZWNhdGlvbldhcm5pbmdzIiwicmVjb3JkVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MiLCJMSUZFQ1lDTEVfU1VHR0VTVElPTlMiLCJVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50IiwiVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSIsInBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncyIsInBlbmRpbmdDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MiLCJwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzIiwicGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzIiwiZGlkV2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMiLCJkaWRXYXJuQWJvdXRVbnNhZmVMaWZlY3ljbGVzIiwibGlmZWN5Y2xlV2FybmluZ3NNYXAiLCJzdHJpY3RSb290IiwibGlmZWN5Y2xlc1dhcm5pbmdNZXNhZ2VzIiwibGlmZWN5Y2xlIiwibGlmZWN5Y2xlV2FybmluZ3MiLCJjb21wb25lbnROYW1lcyIsImZvcm1hdHRlZCIsInN1Z2dlc3Rpb24iLCJzb3J0ZWRDb21wb25lbnROYW1lcyIsInN0cmljdFJvb3RDb21wb25lbnRTdGFjayIsInVuaXF1ZU5hbWVzIiwic29ydGVkTmFtZXMiLCJfdW5pcXVlTmFtZXMiLCJfc29ydGVkTmFtZXMiLCJfdW5pcXVlTmFtZXMyIiwiX3NvcnRlZE5hbWVzMiIsIl9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmciLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwiY29tcG9uZW50V2lsbFVwZGF0ZSIsIm1heWJlU3RyaWN0Um9vdCIsImdldFN0cmljdFJvb3QiLCJ3YXJuaW5nc0ZvclJvb3QiLCJ1bnNhZmVMaWZlY3ljbGVzIiwiZW5hYmxlVXNlclRpbWluZ0FQSSIsImVuYWJsZU11dGF0aW5nUmVjb25jaWxlciIsImVuYWJsZVBlcnNpc3RlbnRSZWNvbmNpbGVyIiwiZW5hYmxlR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoIiwiZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzIiwiZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzRm9yU3RyaWN0TW9kZSIsInJlcGxheUZhaWxlZFVuaXRPZldvcmtXaXRoSW52b2tlR3VhcmRlZENhbGxiYWNrIiwid2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMiLCJzdXBwb3J0c1VzZXJUaW1pbmciLCJwZXJmb3JtYW5jZSIsIm1hcmsiLCJjbGVhck1hcmtzIiwibWVhc3VyZSIsImNsZWFyTWVhc3VyZXMiLCJjdXJyZW50RmliZXIiLCJjdXJyZW50UGhhc2UiLCJjdXJyZW50UGhhc2VGaWJlciIsImlzQ29tbWl0dGluZyIsImhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudENvbW1pdCIsImhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudFBoYXNlIiwiY29tbWl0Q291bnRJbkN1cnJlbnRXb3JrTG9vcCIsImVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0IiwiaXNXYWl0aW5nRm9yQ2FsbGJhY2siLCJsYWJlbHNJbkN1cnJlbnRDb21taXQiLCJmb3JtYXRNYXJrTmFtZSIsIm1hcmtOYW1lIiwicmVhY3RFbW9qaSIsImJlZ2luTWFyayIsImVuZE1hcmsiLCJsYWJlbCIsIndhcm5pbmckJDEiLCJmb3JtYXR0ZWRNYXJrTmFtZSIsImZvcm1hdHRlZExhYmVsIiwid2FybmluZ0Vtb2ppIiwiZm9ybWF0TGFiZWwiLCJnZXRGaWJlck1hcmtOYW1lIiwiZGVidWdJRCIsImdldEZpYmVyTGFiZWwiLCJiZWdpbkZpYmVyTWFyayIsImNsZWFyRmliZXJNYXJrIiwiY2xlYXJNYXJrIiwiZW5kRmliZXJNYXJrIiwic2hvdWxkSWdub3JlRmliZXIiLCJjbGVhclBlbmRpbmdQaGFzZU1lYXN1cmVtZW50IiwicGF1c2VUaW1lcnMiLCJyZXN1bWVUaW1lcnNSZWN1cnNpdmVseSIsInJlc3VtZVRpbWVycyIsInJlY29yZEVmZmVjdCIsInJlY29yZFNjaGVkdWxlVXBkYXRlIiwiY2FuY2VsV29ya1RpbWVyIiwic3RvcFdvcmtUaW1lciIsInN0b3BGYWlsZWRXb3JrVGltZXIiLCJzdGFydFBoYXNlVGltZXIiLCJzdG9wUGhhc2VUaW1lciIsInN0b3BXb3JrTG9vcFRpbWVyIiwiaW50ZXJydXB0ZWRCeSIsImRpZENvbXBsZXRlUm9vdCIsInN0YXJ0Q29tbWl0VGltZXIiLCJjbGVhciIsInN0b3BDb21taXRUaW1lciIsImRpZFdhcm5VcGRhdGVJbnNpZGVVcGRhdGUiLCJjcmVhdGVVcGRhdGVRdWV1ZSIsImJhc2VTdGF0ZSIsInF1ZXVlIiwiZmlyc3QiLCJsYXN0IiwiY2FsbGJhY2tMaXN0IiwiaGFzRm9yY2VVcGRhdGUiLCJpc0luaXRpYWxpemVkIiwiY2FwdHVyZWRWYWx1ZXMiLCJpc1Byb2Nlc3NpbmciLCJpbnNlcnRVcGRhdGVJbnRvUXVldWUiLCJ1cGRhdGUiLCJxMSIsInEyIiwiZW5zdXJlVXBkYXRlUXVldWVzIiwiYWx0ZXJuYXRlRmliZXIiLCJxdWV1ZTEiLCJxdWV1ZTIiLCJpbnNlcnRVcGRhdGVJbnRvRmliZXIiLCJnZXRTdGF0ZUZyb21VcGRhdGUiLCJwcmV2U3RhdGUiLCJwYXJ0aWFsU3RhdGUiLCJwcm9jZXNzVXBkYXRlUXVldWUiLCJyZW5kZXJFeHBpcmF0aW9uVGltZSIsImN1cnJlbnRRdWV1ZSIsImRvbnRNdXRhdGVQcmV2U3RhdGUiLCJkaWRTa2lwIiwidXBkYXRlRXhwaXJhdGlvblRpbWUiLCJfcGFydGlhbFN0YXRlIiwiaXNSZXBsYWNlIiwiaXNGb3JjZWQiLCJfY2FsbGJhY2tMaXN0IiwiY2FwdHVyZWRWYWx1ZSIsIl9jYXB0dXJlZFZhbHVlcyIsImNvbW1pdENhbGxiYWNrcyIsIl9jYWxsYmFjayIsIndhcm5PbkludmFsaWRDYWxsYmFjayQxIiwiZmFrZUludGVybmFsSW5zdGFuY2UiLCJkaWRXYXJuQWJvdXRTdGF0ZUFzc2lnbm1lbnRGb3JDb21wb25lbnQiLCJkaWRXYXJuQWJvdXRVbmRlZmluZWREZXJpdmVkU3RhdGUiLCJkaWRXYXJuQWJvdXRVbmluaXRpYWxpemVkU3RhdGUiLCJkaWRXYXJuQWJvdXRHZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZVdpdGhvdXREaWRVcGRhdGUiLCJkaWRXYXJuQWJvdXRMZWdhY3lMaWZlY3ljbGVzQW5kRGVyaXZlZFN0YXRlIiwiZGlkV2Fybk9uSW52YWxpZENhbGxiYWNrIiwiY2FsbEdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCIsImN0b3IiLCJyZXN1bHRTdGF0ZSIsImdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCIsImNhbGxlck5hbWUiLCJSZWFjdEZpYmVyQ2xhc3NDb21wb25lbnQiLCJsZWdhY3lDb250ZXh0Iiwic2NoZWR1bGVXb3JrIiwiY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlciIsIm1lbW9pemVQcm9wcyIsIm1lbW9pemVTdGF0ZSIsImNhY2hlQ29udGV4dCIsImdldE1hc2tlZENvbnRleHQiLCJnZXRVbm1hc2tlZENvbnRleHQiLCJpc0NvbnRleHRDb25zdW1lciIsImhhc0NvbnRleHRDaGFuZ2VkIiwidXBkYXRlciIsImVucXVldWVTZXRTdGF0ZSIsImVucXVldWVSZXBsYWNlU3RhdGUiLCJlbnF1ZXVlRm9yY2VVcGRhdGUiLCJjaGVja1Nob3VsZENvbXBvbmVudFVwZGF0ZSIsIm9sZFByb3BzIiwibmV3UHJvcHMiLCJvbGRTdGF0ZSIsIm5ld1N0YXRlIiwibmV3Q29udGV4dCIsInNob3VsZENvbXBvbmVudFVwZGF0ZSIsInNob3VsZFVwZGF0ZSIsImlzUHVyZVJlYWN0Q29tcG9uZW50IiwicmVzZXRJbnB1dFBvaW50ZXJzIiwiYWRvcHRDbGFzc0luc3RhbmNlIiwiX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSIsImNhbGxDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwiY2FsbEdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsIm5leHRQcm9wcyIsImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsImNvbnN0cnVjdENsYXNzSW5zdGFuY2UiLCJ1bm1hc2tlZENvbnRleHQiLCJuZWVkc0NvbnRleHQiLCJnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSIsImZvdW5kV2lsbE1vdW50TmFtZSIsImZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUiLCJmb3VuZFdpbGxVcGRhdGVOYW1lIiwiX2NvbXBvbmVudE5hbWUiLCJuZXdBcGlOYW1lIiwibW91bnRDbGFzc0luc3RhbmNlIiwibm9HZXRJbml0aWFsU3RhdGVPbkVTNiIsImdldEluaXRpYWxTdGF0ZSIsImlzUmVhY3RDbGFzc0FwcHJvdmVkIiwibm9HZXREZWZhdWx0UHJvcHNPbkVTNiIsImdldERlZmF1bHRQcm9wcyIsIm5vSW5zdGFuY2VQcm9wVHlwZXMiLCJub0luc3RhbmNlQ29udGV4dFR5cGVzIiwiY29udGV4dFR5cGVzIiwibm9Db21wb25lbnRTaG91bGRVcGRhdGUiLCJjb21wb25lbnRTaG91bGRVcGRhdGUiLCJub0NvbXBvbmVudERpZFVubW91bnQiLCJjb21wb25lbnREaWRVbm1vdW50Iiwibm9Db21wb25lbnREaWRSZWNlaXZlUHJvcHMiLCJjb21wb25lbnREaWRSZWNlaXZlUHJvcHMiLCJub0NvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMiLCJjb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzIiwibm9VbnNhZmVDb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzIiwiVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMiLCJoYXNNdXRhdGVkUHJvcHMiLCJub0luc3RhbmNlRGVmYXVsdFByb3BzIiwiZGVmYXVsdFByb3BzIiwiY29tcG9uZW50RGlkVXBkYXRlIiwibm9JbnN0YW5jZUdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsIm5vSW5zdGFuY2VHZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2giLCJub1N0YXRpY0dldFNuYXBzaG90QmVmb3JlVXBkYXRlIiwiZ2V0Q2hpbGRDb250ZXh0IiwiY2hpbGRDb250ZXh0VHlwZXMiLCJjaGVja0NsYXNzSW5zdGFuY2UiLCJyZWZzIiwiY2FsbENvbXBvbmVudFdpbGxNb3VudCIsImNvbXBvbmVudERpZE1vdW50IiwicmVzdW1lTW91bnRDbGFzc0luc3RhbmNlIiwib2xkQ29udGV4dCIsIm5ld1VubWFza2VkQ29udGV4dCIsImhhc05ld0xpZmVjeWNsZXMiLCJkZXJpdmVkU3RhdGVGcm9tQ2F0Y2giLCJkZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCJfdXBkYXRlUXVldWUiLCJfdXBkYXRlUXVldWUyIiwidXBkYXRlQ2xhc3NJbnN0YW5jZSIsIl91cGRhdGVRdWV1ZTMiLCJfdXBkYXRlUXVldWU0IiwiZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQyIiwiZGlkV2FybkFib3V0TWFwcyIsImRpZFdhcm5BYm91dFN0cmluZ1JlZkluU3RyaWN0TW9kZSIsIm93bmVySGFzS2V5VXNlV2FybmluZyIsIm93bmVySGFzRnVuY3Rpb25UeXBlV2FybmluZyIsIndhcm5Gb3JNaXNzaW5nS2V5IiwidmFsaWRhdGVkIiwiY3VycmVudENvbXBvbmVudEVycm9ySW5mbyIsImlzQXJyYXkkMSIsImNvZXJjZVJlZiIsInJldHVybkZpYmVyIiwibWl4ZWRSZWYiLCJzdHJpbmdSZWYiLCJfc3RyaW5nUmVmIiwidGhyb3dPbkludmFsaWRPYmplY3RUeXBlIiwibmV3Q2hpbGQiLCJhZGRlbmR1bSIsIndhcm5PbkZ1bmN0aW9uVHlwZSIsIkNoaWxkUmVjb25jaWxlciIsInNob3VsZFRyYWNrU2lkZUVmZmVjdHMiLCJkZWxldGVDaGlsZCIsImNoaWxkVG9EZWxldGUiLCJkZWxldGVSZW1haW5pbmdDaGlsZHJlbiIsImN1cnJlbnRGaXJzdENoaWxkIiwibWFwUmVtYWluaW5nQ2hpbGRyZW4iLCJleGlzdGluZ0NoaWxkcmVuIiwiZXhpc3RpbmdDaGlsZCIsInVzZUZpYmVyIiwiY2xvbmUiLCJwbGFjZUNoaWxkIiwibmV3RmliZXIiLCJsYXN0UGxhY2VkSW5kZXgiLCJuZXdJbmRleCIsIm9sZEluZGV4IiwicGxhY2VTaW5nbGVDaGlsZCIsInVwZGF0ZVRleHROb2RlIiwiY3JlYXRlZCIsImV4aXN0aW5nIiwidXBkYXRlRWxlbWVudCIsInVwZGF0ZVBvcnRhbCIsInVwZGF0ZUZyYWdtZW50IiwiZnJhZ21lbnQiLCJjcmVhdGVDaGlsZCIsIl9jcmVhdGVkIiwiX2NyZWF0ZWQyIiwiX2NyZWF0ZWQzIiwidXBkYXRlU2xvdCIsIm9sZEZpYmVyIiwidXBkYXRlRnJvbU1hcCIsIm5ld0lkeCIsIl9tYXRjaGVkRmliZXIiLCJ3YXJuT25JbnZhbGlkS2V5Iiwia25vd25LZXlzIiwiX2NyZWF0ZWQ0IiwicmVjb25jaWxlU2luZ2xlRWxlbWVudCIsInJlY29uY2lsZVNpbmdsZVBvcnRhbCIsInJlY29uY2lsZVNpbmdsZVRleHROb2RlIiwibmV3Q2hpbGRyZW4iLCJyZXN1bHRpbmdGaXJzdENoaWxkIiwicHJldmlvdXNOZXdGaWJlciIsIm5leHRPbGRGaWJlciIsIl9uZXdGaWJlciIsIl9uZXdGaWJlcjIiLCJyZWNvbmNpbGVDaGlsZHJlbkFycmF5IiwibmV3Q2hpbGRyZW5JdGVyYWJsZSIsIml0ZXJhdG9yRm4iLCJfbmV3Q2hpbGRyZW4iLCJfc3RlcCIsIl9uZXdGaWJlcjMiLCJfbmV3RmliZXI0IiwicmVjb25jaWxlQ2hpbGRyZW5JdGVyYXRvciIsIl9pc01vY2tGdW5jdGlvbiIsInJlY29uY2lsZUNoaWxkRmliZXJzIiwibW91bnRDaGlsZEZpYmVycyIsImRpZFdhcm5BYm91dEJhZENsYXNzIiwiZGlkV2FybkFib3V0R2V0RGVyaXZlZFN0YXRlT25GdW5jdGlvbmFsQ29tcG9uZW50IiwiZGlkV2FybkFib3V0U3RhdGVsZXNzUmVmcyIsIlJlYWN0RmliZXJCZWdpbldvcmsiLCJob3N0Q29udGV4dCIsImh5ZHJhdGlvbkNvbnRleHQiLCJzaG91bGRTZXRUZXh0Q29udGVudCIsInNob3VsZERlcHJpb3JpdGl6ZVN1YnRyZWUiLCJwdXNoSG9zdENvbnRleHQiLCJwdXNoSG9zdENvbnRhaW5lciIsInB1c2hQcm92aWRlciIsImhhc0xlZ2FjeUNvbnRleHRDaGFuZ2VkIiwicHVzaExlZ2FjeUNvbnRleHRQcm92aWRlciIsInB1c2hDb250ZXh0UHJvdmlkZXIiLCJwdXNoVG9wTGV2ZWxDb250ZXh0T2JqZWN0IiwiaW52YWxpZGF0ZUNvbnRleHRQcm92aWRlciIsImVudGVySHlkcmF0aW9uU3RhdGUiLCJyZXNldEh5ZHJhdGlvblN0YXRlIiwidHJ5VG9DbGFpbU5leHRIeWRyYXRhYmxlSW5zdGFuY2UiLCJfUmVhY3RGaWJlckNsYXNzQ29tcG8iLCJyZWNvbmNpbGVDaGlsZHJlbiIsIm5leHRDaGlsZHJlbiIsInJlY29uY2lsZUNoaWxkcmVuQXRFeHBpcmF0aW9uVGltZSIsIm1hcmtSZWYiLCJmaW5pc2hDbGFzc0NvbXBvbmVudCIsImhhc0NvbnRleHQiLCJkaWRDYXB0dXJlRXJyb3IiLCJiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrIiwicHVzaEhvc3RSb290Q29udGV4dCIsInByb3BhZ2F0ZUNvbnRleHRDaGFuZ2UiLCJjaGFuZ2VkQml0cyIsIm5leHRGaWJlciIsIm9ic2VydmVkQml0cyIsImN1cnJlbnRDaGlsZCIsImNsb25lQ2hpbGRGaWJlcnMiLCJuZXh0U3RhdGUiLCJiZWdpbldvcmsiLCJiYWlsb3V0T25Mb3dQcmlvcml0eSIsIl9Db21wb25lbnQiLCJ3YXJuaW5nS2V5IiwiZGVidWdTb3VyY2UiLCJtb3VudEluZGV0ZXJtaW5hdGVDb21wb25lbnQiLCJ1cGRhdGVGdW5jdGlvbmFsQ29tcG9uZW50IiwidXBkYXRlQ2xhc3NDb21wb25lbnQiLCJ1cGRhdGVIb3N0Um9vdCIsInByZXZQcm9wcyIsImlzSGlkZGVuIiwidXBkYXRlSG9zdENvbXBvbmVudCIsInVwZGF0ZUhvc3RUZXh0IiwidXBkYXRlQ2FsbENvbXBvbmVudCIsInVwZGF0ZVBvcnRhbENvbXBvbmVudCIsInVwZGF0ZUZvcndhcmRSZWYiLCJ1cGRhdGVNb2RlIiwiX2NvbnRleHQiLCJvbGRWYWx1ZSIsIl9jYWxjdWxhdGVDaGFuZ2VkQml0cyIsInVwZGF0ZUNvbnRleHRQcm92aWRlciIsIl9jdXJyZW50VmFsdWUiLCJfY2hhbmdlZEJpdHMiLCJ1bnN0YWJsZV9vYnNlcnZlZEJpdHMiLCJ1cGRhdGVDb250ZXh0Q29uc3VtZXIiLCJSZWFjdEZpYmVyQ29tcGxldGVXb3JrIiwiY3JlYXRlSW5zdGFuY2UiLCJjcmVhdGVUZXh0SW5zdGFuY2UiLCJhcHBlbmRJbml0aWFsQ2hpbGQiLCJmaW5hbGl6ZUluaXRpYWxDaGlsZHJlbiIsInByZXBhcmVVcGRhdGUiLCJtdXRhdGlvbiIsInBlcnNpc3RlbmNlIiwiZ2V0Um9vdEhvc3RDb250YWluZXIiLCJwb3BIb3N0Q29udGV4dCIsImdldEhvc3RDb250ZXh0IiwicG9wSG9zdENvbnRhaW5lciIsInBvcExlZ2FjeUNvbnRleHRQcm92aWRlciIsInBvcENvbnRleHRQcm92aWRlciIsInBvcFRvcExldmVsTGVnYWN5Q29udGV4dE9iamVjdCIsInBvcFRvcExldmVsQ29udGV4dE9iamVjdCIsInBvcFByb3ZpZGVyIiwicHJlcGFyZVRvSHlkcmF0ZUhvc3RJbnN0YW5jZSIsInByZXBhcmVUb0h5ZHJhdGVIb3N0VGV4dEluc3RhbmNlIiwicG9wSHlkcmF0aW9uU3RhdGUiLCJtYXJrVXBkYXRlIiwibW92ZUNhbGxUb0hhbmRsZXJQaGFzZSIsInJldHVybnMiLCJhcHBlbmRBbGxSZXR1cm5zIiwiaGFuZGxlciIsImFwcGVuZEFsbENoaWxkcmVuIiwidXBkYXRlSG9zdENvbnRhaW5lciIsInVwZGF0ZVBheWxvYWQiLCJyb290Q29udGFpbmVySW5zdGFuY2UiLCJjdXJyZW50SG9zdENvbnRleHQiLCJvbGRUZXh0IiwibmV3VGV4dCIsImNsb25lSW5zdGFuY2UiLCJjcmVhdGVDb250YWluZXJDaGlsZFNldCIsImFwcGVuZENoaWxkVG9Db250YWluZXJDaGlsZFNldCIsImZpbmFsaXplQ29udGFpbmVyQ2hpbGRyZW4iLCJwb3J0YWxPclJvb3QiLCJjb250YWluZXIiLCJuZXdDaGlsZFNldCIsImNvbnRhaW5lckNoaWxkU2V0IiwiYXBwZW5kQWxsQ2hpbGRyZW5Ub0NvbnRhaW5lciIsImNoaWxkcmVuVW5jaGFuZ2VkIiwiY3VycmVudEluc3RhbmNlIiwicmVjeWNsYWJsZUluc3RhbmNlIiwibmV3SW5zdGFuY2UiLCJjb21wbGV0ZVdvcmsiLCJjb21wb25lbnREaWRDYXRjaCIsImZpYmVyUm9vdCIsIl9pbnN0YW5jZSIsIl9jdXJyZW50SG9zdENvbnRleHQiLCJfaW5zdGFuY2UyIiwiX3Jvb3RDb250YWluZXJJbnN0YW5jZSIsIl9jdXJyZW50SG9zdENvbnRleHQyIiwiY3JlYXRlQ2FwdHVyZWRWYWx1ZSIsImludm9rZUd1YXJkZWRDYWxsYmFjayQzIiwiaGFzQ2F1Z2h0RXJyb3IkMSIsImNsZWFyQ2F1Z2h0RXJyb3IkMSIsImRpZFdhcm5BYm91dFVuZGVmaW5lZFNuYXBzaG90QmVmb3JlVXBkYXRlIiwibG9nRXJyb3IiLCJib3VuZGFyeSIsImVycm9ySW5mbyIsImNhcHR1cmVkRXJyb3IiLCJjb21wb25lbnRTdGFjayIsImVycm9yQm91bmRhcnkiLCJlcnJvckJvdW5kYXJ5TmFtZSIsImVycm9yQm91bmRhcnlGb3VuZCIsIndpbGxSZXRyeSIsInN1cHByZXNzUmVhY3RFcnJvckxvZ2dpbmciLCJjb21iaW5lZE1lc3NhZ2UiLCJsb2dDYXB0dXJlZEVycm9yIiwiUmVhY3RGaWJlckNvbW1pdFdvcmsiLCJjYXB0dXJlRXJyb3IiLCJtYXJrTGVnYWN5RXJyb3JCb3VuZGFyeUFzRmFpbGVkIiwicmVjYWxjdWxhdGVDdXJyZW50VGltZSIsImdldFB1YmxpY0luc3RhbmNlIiwiY2FsbENvbXBvbmVudFdpbGxVbm1vdW50V2l0aFRpbWVyIiwic2FmZWx5RGV0YWNoUmVmIiwicmVmRXJyb3IiLCJjb21taXRCZWZvcmVNdXRhdGlvbkxpZmVDeWNsZXMiLCJzbmFwc2hvdCIsImRpZFdhcm5TZXQiLCJfX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEJlZm9yZVVwZGF0ZSIsImNvbW1pdExpZmVDeWNsZXMiLCJmaW5pc2hlZFJvb3QiLCJjb21taXR0ZWRFeHBpcmF0aW9uVGltZSIsIl9pbnN0YW5jZTMiLCJfaW5zdGFuY2U0IiwiY29tbWl0TW91bnQiLCJjb21taXRFcnJvckxvZ2dpbmciLCJvblVuY2F1Z2h0RXJyb3IiLCJfaW5zdGFuY2U1IiwiY2FwdHVyZWRFcnJvcnMiLCJfY2FwdHVyZWRFcnJvcnMiLCJfZXJyb3JJbmZvIiwiY29tbWl0QXR0YWNoUmVmIiwiX2luc3RhbmNlNiIsImluc3RhbmNlVG9Vc2UiLCJjb21taXREZXRhY2hSZWYiLCJjdXJyZW50UmVmIiwiY29tbWl0VW5tb3VudCIsIl9pbnN0YW5jZTciLCJ1bm1vdW50RXJyb3IiLCJzYWZlbHlDYWxsQ29tcG9uZW50V2lsbFVubW91bnQiLCJjb21taXROZXN0ZWRVbm1vdW50cyIsInVubW91bnRIb3N0Q29tcG9uZW50cyIsImVtcHR5UG9ydGFsQ29udGFpbmVyIiwiZGV0YWNoRmliZXIiLCJjb21taXRDb250YWluZXIiLCJyZXBsYWNlQ29udGFpbmVyQ2hpbGRyZW4iLCJlbXB0eUNoaWxkU2V0IiwiX3BlbmRpbmdDaGlsZHJlbiIsImNvbW1pdFJlc2V0VGV4dENvbnRlbnQiLCJjb21taXRQbGFjZW1lbnQiLCJjb21taXREZWxldGlvbiIsImNvbW1pdFdvcmsiLCJjb21taXRVcGRhdGUiLCJyZXNldFRleHRDb250ZW50IiwiY29tbWl0VGV4dFVwZGF0ZSIsImFwcGVuZENoaWxkVG9Db250YWluZXIiLCJpbnNlcnRCZWZvcmUiLCJpbnNlcnRJbkNvbnRhaW5lckJlZm9yZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlQ2hpbGRGcm9tQ29udGFpbmVyIiwiaXNIb3N0UGFyZW50IiwiY3VycmVudFBhcmVudElzVmFsaWQiLCJjdXJyZW50UGFyZW50IiwiY3VycmVudFBhcmVudElzQ29udGFpbmVyIiwiZmluZFBhcmVudCIsInBhcmVudEZpYmVyIiwiZ2V0SG9zdFBhcmVudEZpYmVyIiwiaXNDb250YWluZXIiLCJiZWZvcmUiLCJzaWJsaW5ncyIsImdldEhvc3RTaWJsaW5nIiwiX2luc3RhbmNlOCIsInRleHRJbnN0YW5jZSIsIk5PX0NPTlRFWFQiLCJSZWFjdEZpYmVySHlkcmF0aW9uQ29udGV4dCIsImh5ZHJhdGlvbiIsImNhbkh5ZHJhdGVJbnN0YW5jZSIsImNhbkh5ZHJhdGVUZXh0SW5zdGFuY2UiLCJnZXROZXh0SHlkcmF0YWJsZVNpYmxpbmciLCJnZXRGaXJzdEh5ZHJhdGFibGVDaGlsZCIsImh5ZHJhdGVJbnN0YW5jZSIsImh5ZHJhdGVUZXh0SW5zdGFuY2UiLCJkaWROb3RNYXRjaEh5ZHJhdGVkQ29udGFpbmVyVGV4dEluc3RhbmNlIiwiZGlkTm90TWF0Y2hIeWRyYXRlZFRleHRJbnN0YW5jZSIsImRpZE5vdEh5ZHJhdGVDb250YWluZXJJbnN0YW5jZSIsImRpZE5vdEh5ZHJhdGVJbnN0YW5jZSIsImRpZE5vdEZpbmRIeWRyYXRhYmxlQ29udGFpbmVySW5zdGFuY2UiLCJkaWROb3RGaW5kSHlkcmF0YWJsZUNvbnRhaW5lclRleHRJbnN0YW5jZSIsImRpZE5vdEZpbmRIeWRyYXRhYmxlSW5zdGFuY2UiLCJkaWROb3RGaW5kSHlkcmF0YWJsZVRleHRJbnN0YW5jZSIsImh5ZHJhdGlvblBhcmVudEZpYmVyIiwibmV4dEh5ZHJhdGFibGVJbnN0YW5jZSIsImlzSHlkcmF0aW5nIiwiZGVsZXRlSHlkcmF0YWJsZUluc3RhbmNlIiwiaW5zZXJ0Tm9uSHlkcmF0ZWRJbnN0YW5jZSIsInBhcmVudENvbnRhaW5lciIsInBhcmVudFR5cGUiLCJwYXJlbnRQcm9wcyIsInBhcmVudEluc3RhbmNlIiwiX3Byb3BzIiwiX3RleHQiLCJ0cnlIeWRyYXRlIiwibmV4dEluc3RhbmNlIiwicG9wVG9OZXh0SG9zdFBhcmVudCIsIlJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMSIsImRlYnVnVG9vbCIsIndhcm5lZEFib3V0TWlzc2luZ0dldENoaWxkQ29udGV4dCIsImludm9rZUd1YXJkZWRDYWxsYmFjayQyIiwiZGlkV2FybkFib3V0U3RhdGVUcmFuc2l0aW9uIiwiZGlkV2FyblNldFN0YXRlQ2hpbGRDb250ZXh0Iiwid2FybkFib3V0VXBkYXRlT25Vbm1vdW50ZWQiLCJ3YXJuQWJvdXRJbnZhbGlkVXBkYXRlcyIsImRpZFdhcm5TdGF0ZVVwZGF0ZUZvclVubW91bnRlZENvbXBvbmVudCIsIlJlYWN0RmliZXJTY2hlZHVsZXIiLCJ2YWx1ZVN0YWNrIiwiZmliZXJTdGFjayIsImNyZWF0ZUN1cnNvciIsImlzRW1wdHkiLCJjdXJzb3IiLCJjaGVja1RoYXRTdGFja0lzRW1wdHkiLCJyZXNldFN0YWNrQWZ0ZXJGYXRhbEVycm9ySW5EZXYiLCJSZWFjdEZpYmVyU3RhY2siLCJnZXRDaGlsZEhvc3RDb250ZXh0IiwiZ2V0Um9vdEhvc3RDb250ZXh0IiwiY29udGV4dFN0YWNrQ3Vyc29yIiwiY29udGV4dEZpYmVyU3RhY2tDdXJzb3IiLCJyb290SW5zdGFuY2VTdGFja0N1cnNvciIsInJlcXVpcmVkQ29udGV4dCIsIm5leHRSb290SW5zdGFuY2UiLCJuZXh0Um9vdENvbnRleHQiLCJyb290SW5zdGFuY2UiLCJuZXh0Q29udGV4dCIsIlJlYWN0RmliZXJIb3N0Q29udGV4dCIsImRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IiLCJwcmV2aW91c0NvbnRleHQiLCJtYXNrZWRDb250ZXh0IiwiX19yZWFjdEludGVybmFsTWVtb2l6ZWRVbm1hc2tlZENoaWxkQ29udGV4dCIsIl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWFza2VkQ2hpbGRDb250ZXh0IiwiaXNDb250ZXh0UHJvdmlkZXIiLCJwcm9jZXNzQ2hpbGRDb250ZXh0IiwicGFyZW50Q29udGV4dCIsImNoaWxkQ29udGV4dCIsImNvbnRleHRLZXkiLCJkaWRDaGFuZ2UiLCJtZW1vaXplZE1lcmdlZENoaWxkQ29udGV4dCIsIl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0IiwibWVyZ2VkQ29udGV4dCIsImZpbmRDdXJyZW50VW5tYXNrZWRDb250ZXh0IiwiUmVhY3RGaWJlckxlZ2FjeUNvbnRleHQiLCJwcm92aWRlckN1cnNvciIsInZhbHVlQ3Vyc29yIiwiY2hhbmdlZEJpdHNDdXJzb3IiLCJyZW5kZXJlclNpZ2lsIiwicHJvdmlkZXJGaWJlciIsIl9jdXJyZW50UmVuZGVyZXIiLCJSZWFjdEZpYmVyTmV3Q29udGV4dCIsIl9SZWFjdEZpYmVyVW53aW5kV29yayIsImlzQWxyZWFkeUZhaWxlZExlZ2FjeUVycm9yQm91bmRhcnkiLCJ0aHJvd0V4Y2VwdGlvbiIsInNvdXJjZUZpYmVyIiwicmF3VmFsdWUiLCJ1bndpbmRXb3JrIiwiX2VmZmVjdFRhZyIsInVud2luZEludGVycnVwdGVkV29yayIsImludGVycnVwdGVkV29yayIsIlJlYWN0RmliZXJVbndpbmRXb3JrIiwiX1JlYWN0RmliZXJDb21taXRXb3JrIiwib25Db21taXRQaGFzZUVycm9yIiwibGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQiLCJzY2hlZHVsZURlZmVycmVkQ2FsbGJhY2siLCJjYW5jZWxEZWZlcnJlZENhbGxiYWNrIiwicHJlcGFyZUZvckNvbW1pdCIsInJlc2V0QWZ0ZXJDb21taXQiLCJvcmlnaW5hbFN0YXJ0VGltZU1zIiwibW9zdFJlY2VudEN1cnJlbnRUaW1lTXMiLCJsYXN0VW5pcXVlQXN5bmNFeHBpcmF0aW9uIiwiZXhwaXJhdGlvbkNvbnRleHQiLCJpc1dvcmtpbmciLCJuZXh0VW5pdE9mV29yayIsIm5leHRSb290IiwibmV4dFJlbmRlckV4cGlyYXRpb25UaW1lIiwiaXNSb290UmVhZHlGb3JDb21taXQiLCJzdGFzaGVkV29ya0luUHJvZ3Jlc3NQcm9wZXJ0aWVzIiwicmVwbGF5VW5pdE9mV29yayIsImlzUmVwbGF5aW5nRmFpbGVkVW5pdE9mV29yayIsIm9yaWdpbmFsUmVwbGF5RXJyb3IiLCJyZXRocm93T3JpZ2luYWxFcnJvciIsInJlc2V0U3RhY2siLCJjb21taXRBbGxIb3N0RWZmZWN0cyIsIl9jdXJyZW50IiwiX2N1cnJlbnQyIiwiY29tbWl0QmVmb3JlTXV0YXRpb25MaWZlY3ljbGVzIiwiY29tbWl0QWxsTGlmZUN5Y2xlcyIsImNvbW1pdFJvb3QiLCJzdGFydENvbW1pdFNuYXBzaG90RWZmZWN0c1RpbWVyIiwic3RvcENvbW1pdFNuYXBzaG90RWZmZWN0c1RpbWVyIiwic3RhcnRDb21taXRIb3N0RWZmZWN0c1RpbWVyIiwiX2RpZEVycm9yIiwic3RvcENvbW1pdEhvc3RFZmZlY3RzVGltZXIiLCJzdGFydENvbW1pdExpZmVDeWNsZXNUaW1lciIsIl9kaWRFcnJvcjIiLCJfZXJyb3IyIiwic3RvcENvbW1pdExpZmVDeWNsZXNUaW1lciIsIm9uQ29tbWl0V29yayIsInJlbWFpbmluZ1RpbWUiLCJyZXNldEV4cGlyYXRpb25UaW1lIiwicmVuZGVyVGltZSIsIm5ld0V4cGlyYXRpb25UaW1lIiwiZ2V0VXBkYXRlRXhwaXJhdGlvblRpbWUiLCJjb21wbGV0ZVVuaXRPZldvcmsiLCJzaWJsaW5nRmliZXIiLCJvbkNvbXBsZXRlV29yayIsIl9uZXh0IiwicGVyZm9ybVVuaXRPZldvcmsiLCJzdGFydFdvcmtUaW1lciIsIm9uQmVnaW5Xb3JrIiwid29ya0xvb3AiLCJzaG91bGRZaWVsZCIsInJlbmRlclJvb3QiLCJkaWRGYXRhbCIsInN0YXJ0V29ya0xvb3BUaW1lciIsInRocm93blZhbHVlIiwic2NoZWR1bGVDYXB0dXJlIiwiYm91bmRhcnlGaWJlciIsImRpc3BhdGNoIiwiY29tcHV0ZUFzeW5jRXhwaXJhdGlvbiIsImlzQmF0Y2hpbmdJbnRlcmFjdGl2ZVVwZGF0ZXMiLCJjb21wdXRlSW50ZXJhY3RpdmVFeHBpcmF0aW9uIiwibG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWUiLCJpc0Vycm9yUmVjb3ZlcnkiLCJyZXF1ZXN0V29yayIsIm5lc3RlZFVwZGF0ZUNvdW50IiwiTkVTVEVEX1VQREFURV9MSU1JVCIsInNjaGVkdWxlV29ya0ltcGwiLCJzeW5jVXBkYXRlcyIsInByZXZpb3VzRXhwaXJhdGlvbkNvbnRleHQiLCJmYWlsZWRVbml0T2ZXb3JrIiwiZmlyc3RTY2hlZHVsZWRSb290IiwibGFzdFNjaGVkdWxlZFJvb3QiLCJjYWxsYmFja0V4cGlyYXRpb25UaW1lIiwiY2FsbGJhY2tJRCIsImlzUmVuZGVyaW5nIiwibmV4dEZsdXNoZWRSb290IiwibmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSIsImRlYWRsaW5lRGlkRXhwaXJlIiwiaGFzVW5oYW5kbGVkRXJyb3IiLCJ1bmhhbmRsZWRFcnJvciIsImRlYWRsaW5lIiwiaXNCYXRjaGluZ1VwZGF0ZXMiLCJpc1VuYmF0Y2hpbmdVcGRhdGVzIiwiY29tcGxldGVkQmF0Y2hlcyIsInRpbWVIZXVyaXN0aWNGb3JVbml0T2ZXb3JrIiwic2NoZWR1bGVDYWxsYmFja1dpdGhFeHBpcmF0aW9uIiwiY3VycmVudE1zIiwiZXhwaXJhdGlvbk1zIiwicGVyZm9ybUFzeW5jV29yayIsInRpbWVvdXQiLCJhZGRSb290VG9TY2hlZHVsZSIsInBlcmZvcm1Xb3JrT25Sb290IiwicGVyZm9ybVN5bmNXb3JrIiwiZmluZEhpZ2hlc3RQcmlvcml0eVJvb3QiLCJoaWdoZXN0UHJpb3JpdHlXb3JrIiwiaGlnaGVzdFByaW9yaXR5Um9vdCIsInByZXZpb3VzU2NoZWR1bGVkUm9vdCIsImRsIiwicGVyZm9ybVdvcmsiLCJtaW5FeHBpcmF0aW9uVGltZSIsImRpZEV4cGlyZSIsInN0b3BSZXF1ZXN0Q2FsbGJhY2tUaW1lciIsImZpbmlzaFJlbmRlcmluZyIsImJhdGNoZXMiLCJiYXRjaCIsIl9vbkNvbXBsZXRlIiwiX2ZpbmlzaGVkV29yayIsImNvbXBsZXRlUm9vdCIsIl9leHBpcmF0aW9uVGltZSIsIl9kZWZlciIsInRpbWVSZW1haW5pbmciLCJmbHVzaFJvb3QiLCJwcmV2aW91c0lzQmF0Y2hpbmdVcGRhdGVzIiwidW5iYXRjaGVkVXBkYXRlcyIsImZsdXNoU3luYyIsImZsdXNoQ29udHJvbGxlZCIsImRlZmVycmVkVXBkYXRlcyIsInByZXZpb3VzSXNCYXRjaGluZ0ludGVyYWN0aXZlVXBkYXRlcyIsImNvbXB1dGVVbmlxdWVBc3luY0V4cGlyYXRpb24iLCJkaWRXYXJuQWJvdXROZXN0ZWRVcGRhdGVzIiwiUmVhY3RGaWJlclJlY29uY2lsZXIkMSIsIl9SZWFjdEZpYmVyU2NoZWR1bGVyIiwidXBkYXRlQ29udGFpbmVyQXRFeHBpcmF0aW9uVGltZSIsInBhcmVudENvbXBvbmVudCIsIm9uTW91bnRDb250YWluZXIiLCJvblVubW91bnRDb250YWluZXIiLCJvblVwZGF0ZUNvbnRhaW5lciIsImdldENvbnRleHRGb3JTdWJ0cmVlIiwic2NoZWR1bGVSb290VXBkYXRlIiwiZmluZEhvc3RJbnN0YW5jZSIsImhvc3RGaWJlciIsImZpbmRDdXJyZW50SG9zdEZpYmVyIiwiY3JlYXRlQ29udGFpbmVyIiwidXBkYXRlQ29udGFpbmVyIiwiZ2V0UHVibGljUm9vdEluc3RhbmNlIiwiY29udGFpbmVyRmliZXIiLCJmaW5kSG9zdEluc3RhbmNlV2l0aE5vUG9ydGFscyIsImZpbmRDdXJyZW50SG9zdEZpYmVyV2l0aE5vUG9ydGFscyIsImluamVjdEludG9EZXZUb29scyIsImRldlRvb2xzQ29uZmlnIiwiZmluZEZpYmVyQnlIb3N0SW5zdGFuY2UiLCJpbnRlcm5hbHMiLCJfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18iLCJob29rIiwiaXNEaXNhYmxlZCIsInN1cHBvcnRzRmliZXIiLCJyZW5kZXJlcklEIiwiaW5qZWN0IiwiaW5qZWN0SW50ZXJuYWxzIiwiZmluZEhvc3RJbnN0YW5jZUJ5RmliZXIiLCJSZWFjdEZpYmVyUmVjb25jaWxlciQyIiwiUmVhY3RGaWJlclJlY29uY2lsZXIkMyIsInJlYWN0UmVjb25jaWxlciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImhhc05hdGl2ZVBlcmZvcm1hbmNlTm93IiwicklDIiwiY0lDIiwicmVxdWVzdElkbGVDYWxsYmFjayIsImNhbmNlbElkbGVDYWxsYmFjayIsInNjaGVkdWxlZFJJQ0NhbGxiYWNrIiwiaXNJZGxlU2NoZWR1bGVkIiwidGltZW91dFRpbWUiLCJpc0FuaW1hdGlvbkZyYW1lU2NoZWR1bGVkIiwiZnJhbWVEZWFkbGluZSIsInByZXZpb3VzRnJhbWVUaW1lIiwiYWN0aXZlRnJhbWVUaW1lIiwiZnJhbWVEZWFkbGluZU9iamVjdCIsImRpZFRpbWVvdXQiLCJyZW1haW5pbmciLCJtZXNzYWdlS2V5IiwiYW5pbWF0aW9uVGljayIsInJhZlRpbWUiLCJuZXh0RnJhbWVUaW1lIiwib3B0aW9ucyIsImZyYW1lQ2FsbGJhY2siLCJJbmZpbml0eSIsInRpbWVvdXRJRCIsImRpZFdhcm5TZWxlY3RlZFNldE9uT3B0aW9uIiwidmFsaWRhdGVQcm9wcyIsInNlbGVjdGVkIiwiZ2V0SG9zdFByb3BzJDEiLCJob3N0UHJvcHMiLCJDaGlsZHJlbiIsImZsYXR0ZW5DaGlsZHJlbiIsImdldEN1cnJlbnRGaWJlck93bmVyTmFtZSQzIiwiZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQ0IiwiZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlJDEiLCJnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0iLCJ2YWx1ZVByb3BOYW1lcyIsInVwZGF0ZU9wdGlvbnMiLCJtdWx0aXBsZSIsInByb3BWYWx1ZSIsInNldERlZmF1bHRTZWxlY3RlZCIsInNlbGVjdGVkVmFsdWVzIiwic2VsZWN0ZWRWYWx1ZSIsImRlZmF1bHRTZWxlY3RlZCIsIl9zZWxlY3RlZFZhbHVlIiwiX2kyIiwiZ2V0SG9zdFByb3BzJDIiLCJpbml0V3JhcHBlclN0YXRlJDEiLCJjaGVja1NlbGVjdFByb3BUeXBlcyIsIndhc011bHRpcGxlIiwiZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQ1IiwiZGlkV2FyblZhbERlZmF1bHRWYWwiLCJnZXRIb3N0UHJvcHMkMyIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiaW5pdFdyYXBwZXJTdGF0ZSQyIiwidXBkYXRlV3JhcHBlciQxIiwicG9zdE1vdW50V3JhcHBlciQzIiwiSFRNTF9OQU1FU1BBQ0UkMSIsIk1BVEhfTkFNRVNQQUNFIiwiU1ZHX05BTUVTUEFDRSIsIk5hbWVzcGFjZXMiLCJodG1sIiwibWF0aG1sIiwic3ZnIiwiZ2V0SW50cmluc2ljTmFtZXNwYWNlIiwiZ2V0Q2hpbGROYW1lc3BhY2UiLCJwYXJlbnROYW1lc3BhY2UiLCJyZXVzYWJsZVNWR0NvbnRhaW5lciIsInNldElubmVySFRNTCIsIm5hbWVzcGFjZVVSSSIsImlubmVySFRNTCIsInN2Z05vZGUiLCJNU0FwcCIsImV4ZWNVbnNhZmVMb2NhbEZ1bmN0aW9uIiwiYXJnMCIsImFyZzEiLCJhcmcyIiwiYXJnMyIsInNldFRleHRDb250ZW50IiwibGFzdENoaWxkIiwiaXNVbml0bGVzc051bWJlciIsImFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50IiwiYm9yZGVySW1hZ2VPdXRzZXQiLCJib3JkZXJJbWFnZVNsaWNlIiwiYm9yZGVySW1hZ2VXaWR0aCIsImJveEZsZXgiLCJib3hGbGV4R3JvdXAiLCJib3hPcmRpbmFsR3JvdXAiLCJjb2x1bW5Db3VudCIsImZsZXgiLCJmbGV4R3JvdyIsImZsZXhQb3NpdGl2ZSIsImZsZXhTaHJpbmsiLCJmbGV4TmVnYXRpdmUiLCJmbGV4T3JkZXIiLCJncmlkUm93IiwiZ3JpZFJvd0VuZCIsImdyaWRSb3dTcGFuIiwiZ3JpZFJvd1N0YXJ0IiwiZ3JpZENvbHVtbiIsImdyaWRDb2x1bW5FbmQiLCJncmlkQ29sdW1uU3BhbiIsImdyaWRDb2x1bW5TdGFydCIsImZvbnRXZWlnaHQiLCJsaW5lQ2xhbXAiLCJsaW5lSGVpZ2h0Iiwib3BhY2l0eSIsIm9yZGVyIiwib3JwaGFucyIsInRhYlNpemUiLCJ3aWRvd3MiLCJ6SW5kZXgiLCJ6b29tIiwiZmlsbE9wYWNpdHkiLCJmbG9vZE9wYWNpdHkiLCJzdG9wT3BhY2l0eSIsInN0cm9rZURhc2hhcnJheSIsInN0cm9rZURhc2hvZmZzZXQiLCJzdHJva2VNaXRlcmxpbWl0Iiwic3Ryb2tlT3BhY2l0eSIsInN0cm9rZVdpZHRoIiwiZGFuZ2Vyb3VzU3R5bGVWYWx1ZSIsImlzQ3VzdG9tUHJvcGVydHkiLCJzdWJzdHJpbmciLCJwcmVmaXhLZXkiLCJiYWRWZW5kb3JlZFN0eWxlTmFtZVBhdHRlcm4iLCJiYWRTdHlsZVZhbHVlV2l0aFNlbWljb2xvblBhdHRlcm4iLCJ3YXJuZWRTdHlsZU5hbWVzIiwid2FybmVkU3R5bGVWYWx1ZXMiLCJ3YXJuZWRGb3JOYU5WYWx1ZSIsIndhcm5lZEZvckluZmluaXR5VmFsdWUiLCJ3YXJuVmFsaWRTdHlsZSQxIiwid2Fybkh5cGhlbmF0ZWRTdHlsZU5hbWUiLCJ3YXJuQmFkVmVuZG9yZWRTdHlsZU5hbWUiLCJ3YXJuU3R5bGVWYWx1ZVdpdGhTZW1pY29sb24iLCJ3YXJuU3R5bGVWYWx1ZUlzTmFOIiwiaXNGaW5pdGUiLCJ3YXJuU3R5bGVWYWx1ZUlzSW5maW5pdHkiLCJjcmVhdGVEYW5nZXJvdXNTdHJpbmdGb3JTdHlsZXMiLCJzdHlsZXMiLCJzZXJpYWxpemVkIiwiZGVsaW1pdGVyIiwic3R5bGVOYW1lIiwic3R5bGVWYWx1ZSIsInNldFZhbHVlRm9yU3R5bGVzIiwic2V0UHJvcGVydHkiLCJ2b2lkRWxlbWVudFRhZ3MiLCJtZW51aXRlbSIsImFyZWEiLCJiYXNlIiwiYnIiLCJlbWJlZCIsImhyIiwiaW1nIiwia2V5Z2VuIiwibGluayIsInBhcmFtIiwid2JyIiwiSFRNTCQxIiwiYXNzZXJ0VmFsaWRQcm9wcyIsInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZyIsImlzQ3VzdG9tQ29tcG9uZW50IiwicG9zc2libGVTdGFuZGFyZE5hbWVzIiwiYWNjZXB0IiwiYWNjZXB0Y2hhcnNldCIsImFjY2VwdC1jaGFyc2V0IiwiYWNjZXNza2V5IiwiYWxsb3dmdWxsc2NyZWVuIiwiYWx0IiwiYXMiLCJhc3luYyIsImF1dG9jYXBpdGFsaXplIiwiYXV0b2NvbXBsZXRlIiwiYXV0b2NvcnJlY3QiLCJhdXRvZm9jdXMiLCJhdXRvcGxheSIsImF1dG9zYXZlIiwiY2VsbHBhZGRpbmciLCJjZWxsc3BhY2luZyIsImNoYWxsZW5nZSIsImNoYXJzZXQiLCJjaXRlIiwiY2xhc3MiLCJjbGFzc2lkIiwiY2xhc3NuYW1lIiwiY29scyIsImNvbHNwYW4iLCJjb250ZW50ZWRpdGFibGUiLCJjb250ZXh0bWVudSIsImNvbnRyb2xzIiwiY29udHJvbHNsaXN0IiwiY29vcmRzIiwiY3Jvc3NvcmlnaW4iLCJkYW5nZXJvdXNseXNldGlubmVyaHRtbCIsImRlZmF1bHRjaGVja2VkIiwiZGVmYXVsdHZhbHVlIiwiZGVmZXIiLCJkaXIiLCJkb3dubG9hZCIsImRyYWdnYWJsZSIsImVuY3R5cGUiLCJmb3JtbWV0aG9kIiwiZm9ybWFjdGlvbiIsImZvcm1lbmN0eXBlIiwiZm9ybW5vdmFsaWRhdGUiLCJmb3JtdGFyZ2V0IiwiZnJhbWVib3JkZXIiLCJoZWlnaHQiLCJoaWdoIiwiaHJlZiIsImhyZWZsYW5nIiwiaHRtbGZvciIsImh0dHBlcXVpdiIsImh0dHAtZXF1aXYiLCJpY29uIiwiaW5uZXJodG1sIiwiaW5wdXRtb2RlIiwiaW50ZWdyaXR5IiwiaXRlbWlkIiwiaXRlbXByb3AiLCJpdGVtcmVmIiwiaXRlbXNjb3BlIiwiaXRlbXR5cGUiLCJrZXlwYXJhbXMiLCJrZXl0eXBlIiwibGFuZyIsImxvb3AiLCJsb3ciLCJtYW5pZmVzdCIsIm1hcmdpbndpZHRoIiwibWFyZ2luaGVpZ2h0IiwibWF4bGVuZ3RoIiwibWVkaWEiLCJtZWRpYWdyb3VwIiwibWV0aG9kIiwibWlubGVuZ3RoIiwibXV0ZWQiLCJub21vZHVsZSIsIm5vbmNlIiwibm92YWxpZGF0ZSIsIm9wdGltdW0iLCJwYXR0ZXJuIiwicGxhY2Vob2xkZXIiLCJwbGF5c2lubGluZSIsInBvc3RlciIsInByZWxvYWQiLCJwcm9maWxlIiwicmFkaW9ncm91cCIsInJlYWRvbmx5IiwicmVmZXJyZXJwb2xpY3kiLCJyZXF1aXJlZCIsInJldmVyc2VkIiwicm9sZSIsInJvd3NwYW4iLCJzYW5kYm94Iiwic2NvcGVkIiwic2Nyb2xsaW5nIiwic2VhbWxlc3MiLCJzaGFwZSIsInNpemVzIiwic3BhbiIsInNwZWxsY2hlY2siLCJzcmNkb2MiLCJzcmNsYW5nIiwic3Jjc2V0Iiwic3VtbWFyeSIsInRhYmluZGV4IiwidGl0bGUiLCJ1c2VtYXAiLCJ3aWR0aCIsIndtb2RlIiwiYWJvdXQiLCJhY2NlbnRoZWlnaHQiLCJhY2NlbnQtaGVpZ2h0IiwiYWNjdW11bGF0ZSIsImFkZGl0aXZlIiwiYWxpZ25tZW50YmFzZWxpbmUiLCJhbGlnbm1lbnQtYmFzZWxpbmUiLCJhbGxvd3Jlb3JkZXIiLCJhbHBoYWJldGljIiwiYW1wbGl0dWRlIiwiYXJhYmljZm9ybSIsImFyYWJpYy1mb3JtIiwiYXNjZW50IiwiYXR0cmlidXRlbmFtZSIsImF0dHJpYnV0ZXR5cGUiLCJhdXRvcmV2ZXJzZSIsImF6aW11dGgiLCJiYXNlZnJlcXVlbmN5IiwiYmFzZWxpbmVzaGlmdCIsImJhc2VsaW5lLXNoaWZ0IiwiYmFzZXByb2ZpbGUiLCJiYm94IiwiYmVnaW4iLCJiaWFzIiwiYnkiLCJjYWxjbW9kZSIsImNhcGhlaWdodCIsImNhcC1oZWlnaHQiLCJjbGlwIiwiY2xpcHBhdGgiLCJjbGlwLXBhdGgiLCJjbGlwcGF0aHVuaXRzIiwiY2xpcHJ1bGUiLCJjbGlwLXJ1bGUiLCJjb2xvcmludGVycG9sYXRpb24iLCJjb2xvci1pbnRlcnBvbGF0aW9uIiwiY29sb3JpbnRlcnBvbGF0aW9uZmlsdGVycyIsImNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycyIsImNvbG9ycHJvZmlsZSIsImNvbG9yLXByb2ZpbGUiLCJjb2xvcnJlbmRlcmluZyIsImNvbG9yLXJlbmRlcmluZyIsImNvbnRlbnRzY3JpcHR0eXBlIiwiY29udGVudHN0eWxldHlwZSIsImN4IiwiY3kiLCJkYXRhdHlwZSIsImRlY2VsZXJhdGUiLCJkZXNjZW50IiwiZGlmZnVzZWNvbnN0YW50IiwiZGl2aXNvciIsImRvbWluYW50YmFzZWxpbmUiLCJkb21pbmFudC1iYXNlbGluZSIsImR1ciIsImR4IiwiZHkiLCJlZGdlbW9kZSIsImVsZXZhdGlvbiIsImVuYWJsZWJhY2tncm91bmQiLCJlbmFibGUtYmFja2dyb3VuZCIsImV4cG9uZW50IiwiZXh0ZXJuYWxyZXNvdXJjZXNyZXF1aXJlZCIsImZpbGwiLCJmaWxsb3BhY2l0eSIsImZpbGwtb3BhY2l0eSIsImZpbGxydWxlIiwiZmlsbC1ydWxlIiwiZmlsdGVycmVzIiwiZmlsdGVydW5pdHMiLCJmbG9vZG9wYWNpdHkiLCJmbG9vZC1vcGFjaXR5IiwiZmxvb2Rjb2xvciIsImZsb29kLWNvbG9yIiwiZm9jdXNhYmxlIiwiZm9udGZhbWlseSIsImZvbnQtZmFtaWx5IiwiZm9udHNpemUiLCJmb250LXNpemUiLCJmb250c2l6ZWFkanVzdCIsImZvbnQtc2l6ZS1hZGp1c3QiLCJmb250c3RyZXRjaCIsImZvbnQtc3RyZXRjaCIsImZvbnRzdHlsZSIsImZvbnQtc3R5bGUiLCJmb250dmFyaWFudCIsImZvbnQtdmFyaWFudCIsImZvbnR3ZWlnaHQiLCJmb250LXdlaWdodCIsImZ4IiwiZnkiLCJnMSIsImcyIiwiZ2x5cGhuYW1lIiwiZ2x5cGgtbmFtZSIsImdseXBob3JpZW50YXRpb25ob3Jpem9udGFsIiwiZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbCIsImdseXBob3JpZW50YXRpb252ZXJ0aWNhbCIsImdseXBoLW9yaWVudGF0aW9uLXZlcnRpY2FsIiwiZ2x5cGhyZWYiLCJncmFkaWVudHRyYW5zZm9ybSIsImdyYWRpZW50dW5pdHMiLCJoYW5naW5nIiwiaG9yaXphZHZ4IiwiaG9yaXotYWR2LXgiLCJob3Jpem9yaWdpbngiLCJob3Jpei1vcmlnaW4teCIsImlkZW9ncmFwaGljIiwiaW1hZ2VyZW5kZXJpbmciLCJpbWFnZS1yZW5kZXJpbmciLCJpbjIiLCJpbiIsImlubGlzdCIsImludGVyY2VwdCIsImsxIiwiazMiLCJrNCIsImtlcm5lbG1hdHJpeCIsImtlcm5lbHVuaXRsZW5ndGgiLCJrZXJuaW5nIiwia2V5cG9pbnRzIiwia2V5c3BsaW5lcyIsImtleXRpbWVzIiwibGVuZ3RoYWRqdXN0IiwibGV0dGVyc3BhY2luZyIsImxldHRlci1zcGFjaW5nIiwibGlnaHRpbmdjb2xvciIsImxpZ2h0aW5nLWNvbG9yIiwibGltaXRpbmdjb25lYW5nbGUiLCJsb2NhbCIsIm1hcmtlcmVuZCIsIm1hcmtlci1lbmQiLCJtYXJrZXJoZWlnaHQiLCJtYXJrZXJtaWQiLCJtYXJrZXItbWlkIiwibWFya2Vyc3RhcnQiLCJtYXJrZXItc3RhcnQiLCJtYXJrZXJ1bml0cyIsIm1hcmtlcndpZHRoIiwibWFzayIsIm1hc2tjb250ZW50dW5pdHMiLCJtYXNrdW5pdHMiLCJtYXRoZW1hdGljYWwiLCJudW1vY3RhdmVzIiwib3BlcmF0b3IiLCJvcmllbnQiLCJvcmllbnRhdGlvbiIsIm9yaWdpbiIsIm92ZXJmbG93Iiwib3ZlcmxpbmVwb3NpdGlvbiIsIm92ZXJsaW5lLXBvc2l0aW9uIiwib3ZlcmxpbmV0aGlja25lc3MiLCJvdmVybGluZS10aGlja25lc3MiLCJwYWludG9yZGVyIiwicGFpbnQtb3JkZXIiLCJwYW5vc2UxIiwicGFub3NlLTEiLCJwYXRobGVuZ3RoIiwicGF0dGVybmNvbnRlbnR1bml0cyIsInBhdHRlcm50cmFuc2Zvcm0iLCJwYXR0ZXJudW5pdHMiLCJwb2ludGVyZXZlbnRzIiwicG9pbnRlci1ldmVudHMiLCJwb2ludHMiLCJwb2ludHNhdHgiLCJwb2ludHNhdHkiLCJwb2ludHNhdHoiLCJwcmVzZXJ2ZWFscGhhIiwicHJlc2VydmVhc3BlY3RyYXRpbyIsInByaW1pdGl2ZXVuaXRzIiwicmFkaXVzIiwicmVmeCIsInJlZnkiLCJyZW5kZXJpbmdpbnRlbnQiLCJyZW5kZXJpbmctaW50ZW50IiwicmVwZWF0Y291bnQiLCJyZXBlYXRkdXIiLCJyZXF1aXJlZGV4dGVuc2lvbnMiLCJyZXF1aXJlZGZlYXR1cmVzIiwicmVzb3VyY2UiLCJyZXN0YXJ0Iiwicm90YXRlIiwicngiLCJyeSIsInNjYWxlIiwic2VjdXJpdHkiLCJzZWVkIiwic2hhcGVyZW5kZXJpbmciLCJzaGFwZS1yZW5kZXJpbmciLCJzbG9wZSIsInNwYWNpbmciLCJzcGVjdWxhcmNvbnN0YW50Iiwic3BlY3VsYXJleHBvbmVudCIsInNwZWVkIiwic3ByZWFkbWV0aG9kIiwic3RhcnRvZmZzZXQiLCJzdGRkZXZpYXRpb24iLCJzdGVtaCIsInN0ZW12Iiwic3RpdGNodGlsZXMiLCJzdG9wY29sb3IiLCJzdG9wLWNvbG9yIiwic3RvcG9wYWNpdHkiLCJzdG9wLW9wYWNpdHkiLCJzdHJpa2V0aHJvdWdocG9zaXRpb24iLCJzdHJpa2V0aHJvdWdoLXBvc2l0aW9uIiwic3RyaWtldGhyb3VnaHRoaWNrbmVzcyIsInN0cmlrZXRocm91Z2gtdGhpY2tuZXNzIiwic3Ryb2tlIiwic3Ryb2tlZGFzaGFycmF5Iiwic3Ryb2tlLWRhc2hhcnJheSIsInN0cm9rZWRhc2hvZmZzZXQiLCJzdHJva2UtZGFzaG9mZnNldCIsInN0cm9rZWxpbmVjYXAiLCJzdHJva2UtbGluZWNhcCIsInN0cm9rZWxpbmVqb2luIiwic3Ryb2tlLWxpbmVqb2luIiwic3Ryb2tlbWl0ZXJsaW1pdCIsInN0cm9rZS1taXRlcmxpbWl0Iiwic3Ryb2tld2lkdGgiLCJzdHJva2Utd2lkdGgiLCJzdHJva2VvcGFjaXR5Iiwic3Ryb2tlLW9wYWNpdHkiLCJzdXBwcmVzc2NvbnRlbnRlZGl0YWJsZXdhcm5pbmciLCJzdXBwcmVzc2h5ZHJhdGlvbndhcm5pbmciLCJzdXJmYWNlc2NhbGUiLCJzeXN0ZW1sYW5ndWFnZSIsInRhYmxldmFsdWVzIiwidGFyZ2V0eCIsInRhcmdldHkiLCJ0ZXh0YW5jaG9yIiwidGV4dC1hbmNob3IiLCJ0ZXh0ZGVjb3JhdGlvbiIsInRleHQtZGVjb3JhdGlvbiIsInRleHRsZW5ndGgiLCJ0ZXh0cmVuZGVyaW5nIiwidGV4dC1yZW5kZXJpbmciLCJ0cmFuc2Zvcm0iLCJ0eXBlb2YiLCJ1MSIsInUyIiwidW5kZXJsaW5lcG9zaXRpb24iLCJ1bmRlcmxpbmUtcG9zaXRpb24iLCJ1bmRlcmxpbmV0aGlja25lc3MiLCJ1bmRlcmxpbmUtdGhpY2tuZXNzIiwidW5pY29kZSIsInVuaWNvZGViaWRpIiwidW5pY29kZS1iaWRpIiwidW5pY29kZXJhbmdlIiwidW5pY29kZS1yYW5nZSIsInVuaXRzcGVyZW0iLCJ1bml0cy1wZXItZW0iLCJ1bnNlbGVjdGFibGUiLCJ2YWxwaGFiZXRpYyIsInYtYWxwaGFiZXRpYyIsInZlY3RvcmVmZmVjdCIsInZlY3Rvci1lZmZlY3QiLCJ2ZXJ0YWR2eSIsInZlcnQtYWR2LXkiLCJ2ZXJ0b3JpZ2lueCIsInZlcnQtb3JpZ2luLXgiLCJ2ZXJ0b3JpZ2lueSIsInZlcnQtb3JpZ2luLXkiLCJ2aGFuZ2luZyIsInYtaGFuZ2luZyIsInZpZGVvZ3JhcGhpYyIsInYtaWRlb2dyYXBoaWMiLCJ2aWV3Ym94Iiwidmlld3RhcmdldCIsInZpc2liaWxpdHkiLCJ2bWF0aGVtYXRpY2FsIiwidi1tYXRoZW1hdGljYWwiLCJ2b2NhYiIsIndpZHRocyIsIndvcmRzcGFjaW5nIiwid29yZC1zcGFjaW5nIiwid3JpdGluZ21vZGUiLCJ3cml0aW5nLW1vZGUiLCJ4MSIsIngyIiwieGNoYW5uZWxzZWxlY3RvciIsInhoZWlnaHQiLCJ4LWhlaWdodCIsInhsaW5rYWN0dWF0ZSIsInhsaW5rOmFjdHVhdGUiLCJ4bGlua2FyY3JvbGUiLCJ4bGluazphcmNyb2xlIiwieGxpbmtocmVmIiwieGxpbms6aHJlZiIsInhsaW5rcm9sZSIsInhsaW5rOnJvbGUiLCJ4bGlua3Nob3ciLCJ4bGluazpzaG93IiwieGxpbmt0aXRsZSIsInhsaW5rOnRpdGxlIiwieGxpbmt0eXBlIiwieGxpbms6dHlwZSIsInhtbGJhc2UiLCJ4bWw6YmFzZSIsInhtbGxhbmciLCJ4bWw6bGFuZyIsInhtbG5zIiwieG1sOnNwYWNlIiwieG1sbnN4bGluayIsInhtbG5zOnhsaW5rIiwieG1sc3BhY2UiLCJ5MSIsInkyIiwieWNoYW5uZWxzZWxlY3RvciIsInoiLCJ6b29tYW5kcGFuIiwiYXJpYVByb3BlcnRpZXMiLCJhcmlhLWN1cnJlbnQiLCJhcmlhLWRldGFpbHMiLCJhcmlhLWRpc2FibGVkIiwiYXJpYS1oaWRkZW4iLCJhcmlhLWludmFsaWQiLCJhcmlhLWtleXNob3J0Y3V0cyIsImFyaWEtbGFiZWwiLCJhcmlhLXJvbGVkZXNjcmlwdGlvbiIsImFyaWEtYXV0b2NvbXBsZXRlIiwiYXJpYS1jaGVja2VkIiwiYXJpYS1leHBhbmRlZCIsImFyaWEtaGFzcG9wdXAiLCJhcmlhLWxldmVsIiwiYXJpYS1tb2RhbCIsImFyaWEtbXVsdGlsaW5lIiwiYXJpYS1tdWx0aXNlbGVjdGFibGUiLCJhcmlhLW9yaWVudGF0aW9uIiwiYXJpYS1wbGFjZWhvbGRlciIsImFyaWEtcHJlc3NlZCIsImFyaWEtcmVhZG9ubHkiLCJhcmlhLXJlcXVpcmVkIiwiYXJpYS1zZWxlY3RlZCIsImFyaWEtc29ydCIsImFyaWEtdmFsdWVtYXgiLCJhcmlhLXZhbHVlbWluIiwiYXJpYS12YWx1ZW5vdyIsImFyaWEtdmFsdWV0ZXh0IiwiYXJpYS1hdG9taWMiLCJhcmlhLWJ1c3kiLCJhcmlhLWxpdmUiLCJhcmlhLXJlbGV2YW50IiwiYXJpYS1kcm9wZWZmZWN0IiwiYXJpYS1ncmFiYmVkIiwiYXJpYS1hY3RpdmVkZXNjZW5kYW50IiwiYXJpYS1jb2xjb3VudCIsImFyaWEtY29saW5kZXgiLCJhcmlhLWNvbHNwYW4iLCJhcmlhLWNvbnRyb2xzIiwiYXJpYS1kZXNjcmliZWRieSIsImFyaWEtZXJyb3JtZXNzYWdlIiwiYXJpYS1mbG93dG8iLCJhcmlhLWxhYmVsbGVkYnkiLCJhcmlhLW93bnMiLCJhcmlhLXBvc2luc2V0IiwiYXJpYS1yb3djb3VudCIsImFyaWEtcm93aW5kZXgiLCJhcmlhLXJvd3NwYW4iLCJhcmlhLXNldHNpemUiLCJ3YXJuZWRQcm9wZXJ0aWVzIiwickFSSUEiLCJyQVJJQUNhbWVsIiwiZ2V0U3RhY2tBZGRlbmR1bSIsInZhbGlkYXRlUHJvcGVydHkiLCJhcmlhTmFtZSIsImNvcnJlY3ROYW1lIiwic3RhbmRhcmROYW1lIiwidmFsaWRhdGVQcm9wZXJ0aWVzIiwiaW52YWxpZFByb3BzIiwidW5rbm93blByb3BTdHJpbmciLCJ3YXJuSW52YWxpZEFSSUFQcm9wcyIsImRpZFdhcm5WYWx1ZU51bGwiLCJnZXRTdGFja0FkZGVuZHVtJDEiLCJnZXRTdGFja0FkZGVuZHVtJDIiLCJ2YWxpZGF0ZVByb3BlcnR5JDEiLCJ3YXJuZWRQcm9wZXJ0aWVzJDEiLCJfaGFzT3duUHJvcGVydHkiLCJFVkVOVF9OQU1FX1JFR0VYIiwiSU5WQUxJRF9FVkVOVF9OQU1FX1JFR0VYIiwickFSSUEkMSIsInJBUklBQ2FtZWwkMSIsImNhblVzZUV2ZW50U3lzdGVtIiwiaXNSZXNlcnZlZCIsIndhcm5Vbmtub3duUHJvcGVydGllcyIsInVua25vd25Qcm9wcyIsIm5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZSIsImdldEN1cnJlbnRGaWJlck93bmVyTmFtZSQyIiwiZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQzIiwiZGlkV2FybkludmFsaWRIeWRyYXRpb24iLCJkaWRXYXJuU2hhZHlET00iLCJEQU5HRVJPVVNMWV9TRVRfSU5ORVJfSFRNTCIsIlNVUFBSRVNTX0NPTlRFTlRfRURJVEFCTEVfV0FSTklORyIsIlNVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HJDEiLCJBVVRPRk9DVVMiLCJDSElMRFJFTiIsIlNUWUxFIiwiSFRNTCIsIkhUTUxfTkFNRVNQQUNFIiwid2FybmVkVW5rbm93blRhZ3MiLCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmciLCJ2YWxpZGF0ZVByb3BlcnRpZXNJbkRldmVsb3BtZW50Iiwid2FybkZvclRleHREaWZmZXJlbmNlIiwid2FybkZvclByb3BEaWZmZXJlbmNlIiwid2FybkZvckV4dHJhQXR0cmlidXRlcyIsIndhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lciIsIm5vcm1hbGl6ZUhUTUwiLCJkaWFsb2ciLCJ2YWxpZGF0ZVByb3BlcnRpZXMkMSIsInZhbGlkYXRlUHJvcGVydGllcyQyIiwiTk9STUFMSVpFX05FV0xJTkVTX1JFR0VYIiwiTk9STUFMSVpFX05VTExfQU5EX1JFUExBQ0VNRU5UX1JFR0VYIiwiZW5zdXJlTGlzdGVuaW5nVG8iLCJyb290Q29udGFpbmVyRWxlbWVudCIsImNvbnRlbnREb2N1bWVudEhhbmRsZSIsImxpc3RlblRvIiwiZ2V0T3duZXJEb2N1bWVudEZyb21Sb290Q29udGFpbmVyIiwidHJhcENsaWNrT25Ob25JbnRlcmFjdGl2ZUVsZW1lbnQiLCJvbmNsaWNrIiwiY3JlYXRlRWxlbWVudCQxIiwiZG9tRWxlbWVudCIsImRpdiIsImNyZWF0ZUVsZW1lbnROUyIsImNyZWF0ZVRleHROb2RlJDEiLCJjcmVhdGVUZXh0Tm9kZSIsInNldEluaXRpYWxQcm9wZXJ0aWVzJDEiLCJyYXdQcm9wcyIsInNoYWR5Um9vdCIsInByb3BLZXkiLCJuZXh0UHJvcCIsIm5leHRIdG1sIiwic2V0SW5pdGlhbERPTVByb3BlcnRpZXMiLCJwb3N0TW91bnRXcmFwcGVyJDEiLCJwb3N0TW91bnRXcmFwcGVyJDIiLCJvbkNsaWNrIiwiZGlmZlByb3BlcnRpZXMkMSIsImxhc3RSYXdQcm9wcyIsIm5leHRSYXdQcm9wcyIsImxhc3RQcm9wcyIsInN0eWxlVXBkYXRlcyIsImxhc3RTdHlsZSIsImxhc3RQcm9wIiwibGFzdEh0bWwiLCJ1cGRhdGVQcm9wZXJ0aWVzJDEiLCJ3YXNDdXN0b21Db21wb25lbnRUYWciLCJ1cGRhdGVET01Qcm9wZXJ0aWVzIiwicG9zdFVwZGF0ZVdyYXBwZXIiLCJkaWZmSHlkcmF0ZWRQcm9wZXJ0aWVzJDEiLCJleHRyYUF0dHJpYnV0ZU5hbWVzIiwiYXR0cmlidXRlcyIsInNlcnZlclZhbHVlIiwicmF3SHRtbCIsInNlcnZlckhUTUwiLCJleHBlY3RlZEhUTUwiLCJleHBlY3RlZFN0eWxlIiwiaXNNaXNtYXRjaER1ZVRvQmFkQ2FzaW5nIiwib3duTmFtZXNwYWNlIiwiZGlmZkh5ZHJhdGVkVGV4dCQxIiwidGV4dE5vZGUiLCJ3YXJuRm9yVW5tYXRjaGVkVGV4dCQxIiwid2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlRWxlbWVudCQxIiwid2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlVGV4dCQxIiwid2FybkZvckluc2VydGVkSHlkcmF0ZWRFbGVtZW50JDEiLCJ3YXJuRm9ySW5zZXJ0ZWRIeWRyYXRlZFRleHQkMSIsIm1hcmt1cCIsInNlcnZlclRleHQiLCJjbGllbnRUZXh0Iiwibm9ybWFsaXplZENsaWVudFRleHQiLCJub3JtYWxpemVkU2VydmVyVGV4dCIsImNsaWVudFZhbHVlIiwibm9ybWFsaXplZENsaWVudFZhbHVlIiwibm9ybWFsaXplZFNlcnZlclZhbHVlIiwiYXR0cmlidXRlTmFtZXMiLCJ0ZXN0RWxlbWVudCIsInZhbGlkYXRlRE9NTmVzdGluZyIsIlJlYWN0RE9NRmliZXJDb21wb25lbnQiLCJzZXRJbml0aWFsUHJvcGVydGllcyIsImRpZmZQcm9wZXJ0aWVzIiwidXBkYXRlUHJvcGVydGllcyIsImRpZmZIeWRyYXRlZFByb3BlcnRpZXMiLCJkaWZmSHlkcmF0ZWRUZXh0Iiwid2FybkZvclVubWF0Y2hlZFRleHQiLCJ3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVFbGVtZW50Iiwid2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlVGV4dCIsIndhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkRWxlbWVudCIsIndhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkVGV4dCIsInJlc3RvcmVDb250cm9sbGVkU3RhdGUkMyIsInJlc3RvcmVDb250cm9sbGVkU3RhdGUkMiIsImdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kNiIsInNwZWNpYWxUYWdzIiwiaW5TY29wZVRhZ3MiLCJidXR0b25TY29wZVRhZ3MiLCJpbXBsaWVkRW5kVGFncyIsImVtcHR5QW5jZXN0b3JJbmZvIiwiZm9ybVRhZyIsImFUYWdJblNjb3BlIiwiYnV0dG9uVGFnSW5TY29wZSIsIm5vYnJUYWdJblNjb3BlIiwicFRhZ0luQnV0dG9uU2NvcGUiLCJsaXN0SXRlbVRhZ0F1dG9jbG9zaW5nIiwiZGxJdGVtVGFnQXV0b2Nsb3NpbmciLCJkaWRXYXJuIiwiY2hpbGRUYWciLCJjaGlsZFRleHQiLCJhbmNlc3RvckluZm8iLCJwYXJlbnRJbmZvIiwicGFyZW50VGFnIiwiaW52YWxpZFBhcmVudCIsImlzVGFnVmFsaWRXaXRoUGFyZW50IiwiaW52YWxpZEFuY2VzdG9yIiwiZmluZEludmFsaWRBbmNlc3RvckZvclRhZyIsImludmFsaWRQYXJlbnRPckFuY2VzdG9yIiwiYW5jZXN0b3JUYWciLCJ3YXJuS2V5IiwidGFnRGlzcGxheU5hbWUiLCJ3aGl0ZXNwYWNlSW5mbyIsInVwZGF0ZWRBbmNlc3RvckluZm8iLCJvbGRJbmZvIiwid2Fybk9uSW52YWxpZENhbGxiYWNrIiwidmFsaWRhdGVET01OZXN0aW5nJDEiLCJ0b3BMZXZlbFVwZGF0ZVdhcm5pbmdzIiwiZGlkV2FybkFib3V0VW5zdGFibGVDcmVhdGVQb3J0YWwiLCJfcmVhY3RSb290Q29udGFpbmVyIiwiaG9zdEluc3RhbmNlIiwiRE9NUmVuZGVyZXIiLCJfaW50ZXJuYWxSb290IiwiaXNSb290UmVuZGVyZWRCeVNvbWVSZWFjdCIsInJvb3RFbCIsImdldFJlYWN0Um9vdEVsZW1lbnRJbkNvbnRhaW5lciIsImhhc05vblJvb3RSZWFjdENoaWxkIiwiZXZlbnRzRW5hYmxlZCIsInNlbGVjdGlvbkluZm9ybWF0aW9uIiwiUmVhY3RCYXRjaCIsIl9kaWRDb21wbGV0ZSIsIl9oYXNDaGlsZHJlbiIsIl9jaGlsZHJlbiIsIlJlYWN0V29yayIsIl9kaWRDb21taXQiLCJfb25Db21taXQiLCJSZWFjdFJvb3QiLCJpc1ZhbGlkQ29udGFpbmVyIiwic2hvdWxkQXV0b0ZvY3VzSG9zdENvbXBvbmVudCIsImF1dG9Gb2N1cyIsImludGVybmFsUm9vdCIsIndvcmsiLCJvbkNvbXBsZXRlIiwiY2FsbGJhY2tzIiwiY29tbWl0IiwicHJldmlvdXMiLCJvbkNvbW1pdCIsIl9jYWxsYmFjazIiLCJ1bm1vdW50IiwibGVnYWN5X3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyIiwiY3JlYXRlQmF0Y2giLCJpbnNlcnRBZnRlciIsIm5hbWVzcGFjZSIsInZhbGlkYXRlZFRhZyIsInBhcmVudEhvc3RDb250ZXh0IiwicGFyZW50SG9zdENvbnRleHREZXYiLCJpbnRlcm5hbEluc3RhbmNlSGFuZGxlIiwiaG9zdENvbnRleHREZXYiLCJvd25BbmNlc3RvckluZm8iLCJfX2h0bWwiLCJiZWZvcmVDaGlsZCIsIndhcm5lZEFib3V0SHlkcmF0ZUFQSSIsImxlZ2FjeUNyZWF0ZVJvb3RGcm9tRE9NQ29udGFpbmVyIiwiZm9yY2VIeWRyYXRlIiwic2hvdWxkSHlkcmF0ZSIsInJvb3RFbGVtZW50Iiwic2hvdWxkSHlkcmF0ZUR1ZVRvTGVnYWN5SGV1cmlzdGljIiwid2FybmVkIiwicm9vdFNpYmxpbmciLCJsZWdhY3lSZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lciIsIl9vcmlnaW5hbENhbGxiYWNrIiwib3JpZ2luYWxDYWxsYmFjayIsImNyZWF0ZVBvcnRhbCIsImNyZWF0ZVBvcnRhbCQxIiwiUmVhY3RET00iLCJmaW5kRE9NTm9kZSIsImNvbXBvbmVudE9yRWxlbWVudCIsIndhcm5lZEFib3V0UmVmc0luUmVuZGVyIiwidW5zdGFibGVfcmVuZGVyU3VidHJlZUludG9Db250YWluZXIiLCJjb250YWluZXJOb2RlIiwidW5tb3VudENvbXBvbmVudEF0Tm9kZSIsInJlbmRlcmVkQnlEaWZmZXJlbnRSZWFjdCIsIl9yb290RWwiLCJpc0NvbnRhaW5lclJlYWN0Um9vdCIsInVuc3RhYmxlX2NyZWF0ZVBvcnRhbCIsInVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzIiwidW5zdGFibGVfZGVmZXJyZWRVcGRhdGVzIiwidW5zdGFibGVfZmx1c2hDb250cm9sbGVkIiwidW5zdGFibGVfY3JlYXRlUm9vdCIsImJ1bmRsZVR5cGUiLCJyZW5kZXJlclBhY2thZ2VOYW1lIiwicHJvdG9jb2wiLCJSZWFjdERPTSQyIiwiUmVhY3RET00kMyIsInJlYWN0RG9tIiwid2Fybk5vb3AiLCJwdWJsaWNJbnN0YW5jZSIsIl9jb25zdHJ1Y3RvciIsIlJlYWN0Tm9vcFVwZGF0ZVF1ZXVlIiwiY29tcGxldGVTdGF0ZSIsImZvcmNlVXBkYXRlIiwiZGVwcmVjYXRlZEFQSXMiLCJyZXBsYWNlU3RhdGUiLCJkZWZpbmVEZXByZWNhdGlvbldhcm5pbmciLCJtZXRob2ROYW1lIiwiQ29tcG9uZW50RHVtbXkiLCJQdXJlQ29tcG9uZW50IiwicHVyZUNvbXBvbmVudFByb3RvdHlwZSIsIlJFU0VSVkVEX1BST1BTIiwiX19zZWxmIiwiX19zb3VyY2UiLCJzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biIsInNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duIiwiaGFzVmFsaWRSZWYiLCJpc1JlYWN0V2FybmluZyIsImhhc1ZhbGlkS2V5IiwiUmVhY3RFbGVtZW50IiwiY2hpbGRyZW5MZW5ndGgiLCJjaGlsZEFycmF5Iiwid2FybkFib3V0QWNjZXNzaW5nS2V5IiwiZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIiLCJ3YXJuQWJvdXRBY2Nlc3NpbmdSZWYiLCJkZWZpbmVSZWZQcm9wV2FybmluZ0dldHRlciIsImlzVmFsaWRFbGVtZW50IiwiaW1wbCIsIlNFUEFSQVRPUiIsIlNVQlNFUEFSQVRPUiIsInVzZXJQcm92aWRlZEtleUVzY2FwZVJlZ2V4IiwiZXNjYXBlVXNlclByb3ZpZGVkS2V5IiwiUE9PTF9TSVpFIiwidHJhdmVyc2VDb250ZXh0UG9vbCIsImdldFBvb2xlZFRyYXZlcnNlQ29udGV4dCIsIm1hcFJlc3VsdCIsImtleVByZWZpeCIsIm1hcEZ1bmN0aW9uIiwibWFwQ29udGV4dCIsInRyYXZlcnNlQ29udGV4dCIsInJlbGVhc2VUcmF2ZXJzZUNvbnRleHQiLCJ0cmF2ZXJzZUFsbENoaWxkcmVuIiwidHJhdmVyc2VBbGxDaGlsZHJlbkltcGwiLCJuYW1lU29GYXIiLCJpbnZva2VDYWxsYmFjayIsImdldENvbXBvbmVudEtleSIsInN1YnRyZWVDb3VudCIsIm5leHROYW1lUHJlZml4IiwiY2hpbGRyZW5TdHJpbmciLCJlc2NhcGVyTG9va3VwIiwiOiIsImZvckVhY2hTaW5nbGVDaGlsZCIsIm1hcFNpbmdsZUNoaWxkSW50b0NvbnRleHQiLCJjaGlsZEtleSIsIm9sZEVsZW1lbnQiLCJuZXdLZXkiLCJtYXBwZWRDaGlsZCIsIm1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWwiLCJfc2VsZiIsImVzY2FwZWRQcmVmaXgiLCJnZXREaXNwbGF5TmFtZSIsImN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50IiwicHJvcFR5cGVzTWlzc3BlbGxXYXJuaW5nU2hvd24iLCJ2YWxpZGF0ZUV4cGxpY2l0S2V5IiwicGFyZW50TmFtZSIsImdldEN1cnJlbnRDb21wb25lbnRFcnJvckluZm8iLCJjaGlsZE93bmVyIiwidmFsaWRhdGVDaGlsZEtleXMiLCJ2YWxpZGF0ZVByb3BUeXBlcyIsImNvbXBvbmVudENsYXNzIiwiUHJvcFR5cGVzIiwiY3JlYXRlRWxlbWVudFdpdGhWYWxpZGF0aW9uIiwidmFsaWRUeXBlIiwiaXNWYWxpZEVsZW1lbnRUeXBlIiwic291cmNlSW5mbyIsImVsZW1lbnRQcm9wcyIsImdldFNvdXJjZUluZm9FcnJvckFkZGVuZHVtIiwidHlwZVN0cmluZyIsInZhbGlkYXRlRnJhZ21lbnRQcm9wcyIsImZvckVhY2hGdW5jIiwiZm9yRWFjaENvbnRleHQiLCJ0b0FycmF5Iiwib25seSIsImNyZWF0ZVJlZiIsInJlZk9iamVjdCIsInNlYWwiLCJjcmVhdGVDb250ZXh0IiwiY2FsY3VsYXRlQ2hhbmdlZEJpdHMiLCJfZGVmYXVsdFZhbHVlIiwiUHJvdmlkZXIiLCJDb25zdW1lciIsImZvcndhcmRSZWYiLCJ1bnN0YWJsZV9Bc3luY01vZGUiLCJjbG9uZUVsZW1lbnQiLCJuZXdFbGVtZW50IiwiY3JlYXRlRmFjdG9yeSIsInZhbGlkYXRlZEZhY3RvcnkiLCJSZWFjdENvbXBvbmVudFRyZWVIb29rIiwiUmVhY3QkMiIsIlJlYWN0JDMiLCJyZWFjdCIsInJhdGluZ1RhYmxlIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FDQUssY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLElBQUFOLEtBTUFaLEVBQUFtQixFQUFBLFNBQUFqQixHQUNBWSxPQUFBQyxlQUFBYixFQUFBLGNBQWlEa0IsT0FBQSxLQUlqRHBCLEVBQUFxQixFQUFBLFNBQUFsQixHQUNBLElBQUFTLEVBQUFULEtBQUFtQixXQUNBLFdBQTJCLE9BQUFuQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFILEVBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxTQUFBVSxFQUFBQyxHQUFzRCxPQUFBVixPQUFBVyxVQUFBQyxlQUFBbkIsS0FBQWdCLEVBQUFDLElBR3REeEIsRUFBQTJCLEVBQUEsR0FJQTNCLElBQUE0QixFQUFBLHVCQ25FQSxTQUFBQyxHQUFBZixPQUFBQyxlQUFBYixFQUFBLGNBQThDa0IsT0FBQSxJQUM5QyxJQUFBVSxFQUFBOUIsRUFBQSxHQUNBRSxFQUFB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QTQzQixLQUdBdWxGLEdBQUFELElBQUF0bEYsSUFBQXNsRixHQUlBRSxHQUFBRCxHQUFBLFFBQUFBLEdBQUEsUUFBQUEsR0FFQTd6SCxFQUFBRCxRQUFBK3pILElBaDNDQSwwR0NEZ0IzckYsVUFBVCxTQUFvQjNzQixFQUFRNHNCLEdBQ2pDLE9BQU8yckYsRUFBWXJnSCxNQUFNLFVBQVcsV0FDakNHLFFBQVEsU0FBVSxJQUFLMkgsR0FBUyxPQUFRLFlBQWEsSUFBSzRzQixLQUFhcnZCLFFBZjVFLElBQUEyQyxFQUFBN2IsRUFBQSxHQUVhcW9DLGlCQUFlLFNBRXRCNnJGLEdBQWMsRUFBQXI0RyxFQUFBUixNQUFLZ3RCLEdBQWNqMUIsUUFFcENwSSxJQUFLLFNBQVVqRSxLQUFNLFNBQVU0TCxPQUFRLFNBQ3ZDM0gsSUFBSyxZQUFhakUsS0FBTSxTQUFVNEwsT0FBUSxTQUMxQzNILElBQUssU0FBVWpFLEtBQU0sV0FDckIrSyxRQUFRa0IsS0FBZ0IsU0FFM0JraEgsRUFBWTFoSCxvQkFPRzBoSCIsImZpbGUiOiJ2aXN1YWxUZXN0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTgpO1xuIiwiT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgbGllX3RzXzEgPSByZXF1aXJlKFwibGllLXRzXCIpO1xyXG5leHBvcnRzLlByb21pc2UgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93W1wiUHJvbWlzZVwiXSA/IHdpbmRvd1tcIlByb21pc2VcIl0gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbFtcIlByb21pc2VcIl0gPyBnbG9iYWxbXCJQcm9taXNlXCJdIDogbGllX3RzXzEuUHJvbWlzZTtcclxufSkoKTtcclxuLyoqXHJcbiAqIE9iamVjdC5hc3NpZ24sIGJ1dCBiZXR0ZXIuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gb2JqXHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG5leHBvcnRzLl9hc3NpZ24gPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICByZXR1cm4gb2JqID8gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmopKSA6IG51bGw7XHJcbn07XHJcbi8qKlxyXG4gKiBRdWlja2x5IGFuZCBlZmZpY2llbnRseSBmaXJlIGFzeW5jcm91bm91cyBvcGVyYXRpb25zIGluIHNlcXVlbmNlLCByZXR1cm5zIG9uY2UgYWxsIG9wZXJhdGlvbnMgY29tcGxldGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7YW55W119IGl0ZW1zXHJcbiAqIEBwYXJhbSB7KGl0ZW06IGFueSwgaTogbnVtYmVyLCBuZXh0OiAocmVzdWx0PzogYW55KSA9PiB2b2lkKSA9PiB2b2lkfSBjYWxsYmFja1xyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxhbnlbXT59XHJcbiAqL1xyXG5leHBvcnRzLmZhc3RDSEFJTiA9IGZ1bmN0aW9uIChpdGVtcywgY2FsbGJhY2spIHtcclxuICAgIHJldHVybiBuZXcgZXhwb3J0cy5Qcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikge1xyXG4gICAgICAgIGlmICghaXRlbXMgfHwgIWl0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXMoW10pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByZXN1bHRzID0gW107XHJcbiAgICAgICAgdmFyIHN0ZXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA8IGl0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soaXRlbXNbcmVzdWx0cy5sZW5ndGhdLCByZXN1bHRzLmxlbmd0aCwgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpZV90c18xLnNldEZhc3Qoc3RlcCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlcyhyZXN1bHRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc3RlcCgpO1xyXG4gICAgfSk7XHJcbn07XHJcbi8qKlxyXG4gKiBRdWlja2x5IGFuZCBlZmZpY2llbnRseSBmaXJlIGFzeW5jcm91bm91cyBvcGVyYXRpb25zIGluIHBhcmFsbGVsLCByZXR1cm5zIG9uY2UgYW55IG9wZXJhdGlvbiBjb21wbGV0ZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7YW55W119IGl0ZW1zXHJcbiAqIEBwYXJhbSB7KGl0ZW06IGFueSwgaTogbnVtYmVyLCBuZXh0OiAocmVzdWx0PzogYW55KSA9PiB2b2lkKSA9PiB2b2lkfSBjYWxsYmFja1xyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxhbnlbXT59XHJcbiAqL1xyXG5leHBvcnRzLmZhc3RSQUNFID0gZnVuY3Rpb24gKGl0ZW1zLCBjYWxsYmFjaykge1xyXG4gICAgcmV0dXJuIG5ldyBleHBvcnRzLlByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XHJcbiAgICAgICAgaWYgKCFpdGVtcyB8fCAhaXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJlcyhbXSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJlc29sdmVkID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGNvdW50ZXIgPSAwO1xyXG4gICAgICAgIHZhciBzdGVwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoY291bnRlciA8IGl0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soaXRlbXNbY291bnRlcl0sIGNvdW50ZXIsIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc29sdmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzKFtyZXN1bHRdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNvdW50ZXIrKztcclxuICAgICAgICAgICAgICAgIHN0ZXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc3RlcCgpO1xyXG4gICAgfSk7XHJcbn07XHJcbi8qKlxyXG4gKiBRdWlja2x5IGFuZCBlZmZpY2llbnRseSBmaXJlIGFzeW5jcm91bm91cyBvcGVyYXRpb25zIGluIHBhcmFsbGVsLCByZXR1cm5zIG9uY2UgYWxsIG9wZXJhdGlvbnMgYXJlIGNvbXBsZXRlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge2FueVtdfSBpdGVtc1xyXG4gKiBAcGFyYW0geyhpdGVtOiBhbnksIGk6IG51bWJlciwgZG9uZTogKHJlc3VsdD86IGFueSkgPT4gdm9pZCkgPT4gdm9pZH0gY2FsbGJhY2tcclxuICogQHJldHVybnMge1Byb21pc2U8YW55W10+fVxyXG4gKi9cclxuZXhwb3J0cy5mYXN0QUxMID0gZnVuY3Rpb24gKGl0ZW1zLCBjYWxsYmFjaykge1xyXG4gICAgcmV0dXJuIGV4cG9ydHMuUHJvbWlzZS5hbGwoKGl0ZW1zIHx8IFtdKS5tYXAoZnVuY3Rpb24gKGl0ZW0sIGkpIHtcclxuICAgICAgICByZXR1cm4gbmV3IGV4cG9ydHMuUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcclxuICAgICAgICAgICAgY2FsbGJhY2soaXRlbSwgaSwgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgcmVzKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSkpO1xyXG59O1xyXG52YXIgdWEgPSB0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiID8gXCJcIiA6IChuYXZpZ2F0b3IudXNlckFnZW50IHx8IFwiXCIpO1xyXG4vLyBEZXRlY3RzIGlPUyBkZXZpY2UgT1IgU2FmYXJpIHJ1bm5pbmcgb24gZGVza3RvcFxyXG5leHBvcnRzLmlzU2FmYXJpID0gdWEubGVuZ3RoID09PSAwID8gZmFsc2UgOiAoL14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdCh1YSkpIHx8ICgvaVBhZHxpUGhvbmV8aVBvZC8udGVzdCh1YSkgJiYgIXdpbmRvd1tcIk1TU3RyZWFtXCJdKTtcclxuLy8gRGV0ZWN0IEVkZ2Ugb3IgSW50ZXJuZXQgRXhwbG9yZXJcclxuZXhwb3J0cy5pc01TQnJvd3NlciA9IHVhLmxlbmd0aCA9PT0gMCA/IGZhbHNlIDogdWEuaW5kZXhPZihcIk1TSUUgXCIpID4gMCB8fCB1YS5pbmRleE9mKFwiVHJpZGVudC9cIikgPiAwIHx8IHVhLmluZGV4T2YoXCJFZGdlL1wiKSA+IDA7XHJcbi8vIERldGVjdCBBbmRyb2lkIERldmljZVxyXG5leHBvcnRzLmlzQW5kcm9pZCA9IC9BbmRyb2lkLy50ZXN0KHVhKTtcclxuLyoqXHJcbiAqIEdlbmVyYXRlIGEgcmFuZG9tIDE2IGJpdCBudW1iZXIgdXNpbmcgc3Ryb25nZXN0IGNyeXB0byBhdmFpbGFibGUuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAqL1xyXG5leHBvcnRzLnJhbmRvbTE2Qml0cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICh0eXBlb2YgY3J5cHRvID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIE1hdGgucG93KDIsIDE2KSk7IC8vIExlc3MgcmFuZG9tIGZhbGxiYWNrLlxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHsgLy8gQnJvd3NlciBjcnlwdG9cclxuICAgICAgICAgICAgdmFyIGJ1ZiA9IG5ldyBVaW50MTZBcnJheSgxKTtcclxuICAgICAgICAgICAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhidWYpO1xyXG4gICAgICAgICAgICByZXR1cm4gYnVmWzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbC5fY3J5cHRvLnJhbmRvbUJ5dGVzKSB7IC8vIE5vZGVKUyBjcnlwdG9cclxuICAgICAgICAgICAgcmV0dXJuIGdsb2JhbC5fY3J5cHRvLnJhbmRvbUJ5dGVzKDIpLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VyKSB7IHJldHVybiBjdXIgKiBwcmV2OyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiBNYXRoLnBvdygyLCAxNikpOyAvLyBMZXNzIHJhbmRvbSBmYWxsYmFjay5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSBhIFRpbWVJRCBmb3IgdXNlIGluIHRoZSBkYXRhYmFzZS5cclxuICpcclxuICogQHBhcmFtIHtib29sZWFufSBbbXNdXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAqL1xyXG5leHBvcnRzLnRpbWVpZCA9IGZ1bmN0aW9uIChtcykge1xyXG4gICAgdmFyIHRpbWUgPSBNYXRoLnJvdW5kKChuZXcgRGF0ZSgpLmdldFRpbWUoKSkgLyAobXMgPyAxIDogMTAwMCkpLnRvU3RyaW5nKCk7XHJcbiAgICB3aGlsZSAodGltZS5sZW5ndGggPCAobXMgPyAxMyA6IDEwKSkge1xyXG4gICAgICAgIHRpbWUgPSBcIjBcIiArIHRpbWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGltZSArIFwiLVwiICsgKGV4cG9ydHMucmFuZG9tMTZCaXRzKCkgKyBleHBvcnRzLnJhbmRvbTE2Qml0cygpKS50b1N0cmluZygxNik7XHJcbn07XHJcbi8qKlxyXG4gKiBTZWUgaWYgdHdvIGFycmF5cyBpbnRlcnNlY3QuXHJcbiAqXHJcbiAqIEBwYXJhbSB7YW55W119IGFycjFcclxuICogQHBhcmFtIHthbnlbXX0gYXJyMlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbmV4cG9ydHMuaW50ZXJzZWN0ID0gZnVuY3Rpb24gKGFycjEsIGFycjIpIHtcclxuICAgIGlmICghYXJyMSB8fCAhYXJyMilcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICBpZiAoIWFycjEubGVuZ3RoIHx8ICFhcnIyLmxlbmd0aClcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICByZXR1cm4gKGFycjEgfHwgW10pLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gKGFycjIgfHwgW10pLmluZGV4T2YoaXRlbSkgIT09IC0xOyB9KS5sZW5ndGggPiAwO1xyXG59O1xyXG4vKipcclxuICogR2VuZXJhdGVzIGEgdmFsaWQgVjQgVVVJRCB1c2luZyB0aGUgc3Ryb25nZXN0IGNyeXB0byBhdmFpbGFibGUuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAqL1xyXG5leHBvcnRzLnV1aWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgciwgcywgYiA9IFwiXCI7XHJcbiAgICByZXR1cm4gW2IsIGIsIGIsIGIsIGIsIGIsIGIsIGJdLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VyLCBpKSB7XHJcbiAgICAgICAgciA9IGV4cG9ydHMucmFuZG9tMTZCaXRzKCk7XHJcbiAgICAgICAgcyA9IChpID09PSAzID8gNCA6IChpID09PSA0ID8gKHIgJSAxNiAmIDB4MyB8IDB4OCkudG9TdHJpbmcoMTYpIDogYikpO1xyXG4gICAgICAgIHIgPSByLnRvU3RyaW5nKDE2KTtcclxuICAgICAgICB3aGlsZSAoci5sZW5ndGggPCA0KVxyXG4gICAgICAgICAgICByID0gXCIwXCIgKyByO1xyXG4gICAgICAgIHJldHVybiBwcmV2ICsgKFsyLCAzLCA0LCA1XS5pbmRleE9mKGkpID4gLTEgPyBcIi1cIiA6IGIpICsgKHMgKyByKS5zbGljZSgwLCA0KTtcclxuICAgIH0sIGIpO1xyXG59O1xyXG52YXIgaWRUeXBlcyA9IHtcclxuICAgIFwiaW50XCI6IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH0sXHJcbiAgICBcInV1aWRcIjogZXhwb3J0cy51dWlkLFxyXG4gICAgXCJ0aW1lSWRcIjogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhwb3J0cy50aW1laWQoKTsgfSxcclxuICAgIFwidGltZUlkbXNcIjogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhwb3J0cy50aW1laWQodHJ1ZSk7IH1cclxufTtcclxuLyoqXHJcbiAqIEEgcXVpY2sgYW5kIGRpcnR5IGhhc2hpbmcgZnVuY3Rpb24sIHR1cm5zIGEgc3RyaW5nIGludG8gYSBtZDUgc3R5bGUgaGFzaC5cclxuICogc3RvbGVuIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2Rhcmtza3lhcHAvc3RyaW5nLWhhc2hcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gKi9cclxuZXhwb3J0cy5oYXNoID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgdmFyIGhhc2ggPSA1MzgxLCBpID0gc3RyLmxlbmd0aDtcclxuICAgIHdoaWxlIChpKSB7XHJcbiAgICAgICAgaGFzaCA9IChoYXNoICogMzMpIF4gc3RyLmNoYXJDb2RlQXQoLS1pKTtcclxuICAgIH1cclxuICAgIHJldHVybiAoaGFzaCA+Pj4gMCkudG9TdHJpbmcoMTYpO1xyXG59O1xyXG4vKipcclxuICogR2VuZXJhdGUgYSByb3cgSUQgZ2l2ZW4gdGhlIHByaW1hcnkga2V5IHR5cGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcmltYXJ5S2V5VHlwZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gW2luY3JpbWVudFZhbHVlXVxyXG4gKiBAcmV0dXJucyB7Kn1cclxuICovXHJcbmV4cG9ydHMuZ2VuZXJhdGVJRCA9IGZ1bmN0aW9uIChwcmltYXJ5S2V5VHlwZSwgaW5jcmltZW50VmFsdWUpIHtcclxuICAgIHJldHVybiBpZFR5cGVzW3ByaW1hcnlLZXlUeXBlXSA/IGlkVHlwZXNbcHJpbWFyeUtleVR5cGVdKGluY3JpbWVudFZhbHVlIHx8IDEpIDogXCJcIjtcclxufTtcclxuLyoqXHJcbiAqIENsZWFuIHRoZSBhcmd1bWVudHMgZnJvbSBhbiBvYmplY3QgZ2l2ZW4gYW4gYXJyYXkgb2YgYXJndW1lbnRzIGFuZCB0aGVpciB0eXBlcy5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmdbXX0gYXJnRGVjbGFyYXRpb25zXHJcbiAqIEBwYXJhbSB7U3RkT2JqZWN0PGFueT59IGFyZ3NcclxuICogQHJldHVybnMge1N0ZE9iamVjdDxhbnk+fVxyXG4gKi9cclxuZXhwb3J0cy5jbGVhbkFyZ3MgPSBmdW5jdGlvbiAoYXJnRGVjbGFyYXRpb25zLCBhcmdzKSB7XHJcbiAgICB2YXIgYSA9IHt9O1xyXG4gICAgdmFyIGkgPSBhcmdEZWNsYXJhdGlvbnMubGVuZ3RoO1xyXG4gICAgd2hpbGUgKGktLSkge1xyXG4gICAgICAgIHZhciBrMiA9IGFyZ0RlY2xhcmF0aW9uc1tpXS5zcGxpdChcIjpcIik7XHJcbiAgICAgICAgaWYgKGsyLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgYVtrMlswXV0gPSBleHBvcnRzLmNhc3QoazJbMV0sIGFyZ3NbazJbMF1dIHx8IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBhW2syWzBdXSA9IGFyZ3NbazJbMF1dIHx8IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYTtcclxufTtcclxuLyoqXHJcbiAqIERldGVybWluZSBpZiBhIGdpdmVuIHZhbHVlIGlzIGEgamF2YXNjcmlwdCBvYmplY3Qgb3Igbm90LiBFeGx1ZGVzIEFycmF5cywgRnVuY3Rpb25zLCBOdWxsLCBVbmRlZmluZWQsIGV0Yy5cclxuICpcclxuICogQHBhcmFtIHsqfSB2YWxcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5leHBvcnRzLmlzT2JqZWN0ID0gZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWwpID09PSBcIltvYmplY3QgT2JqZWN0XVwiO1xyXG59O1xyXG4vKipcclxuICogQ2FzdCBhIGphdmFzY3JpcHQgdmFyaWFibGUgdG8gYSBnaXZlbiB0eXBlLiBTdXBwb3J0cyB0eXBlc2NyaXB0IHByaW1pdGl2ZXMgYW5kIG1vcmUgc3BlY2lmaWMgdHlwZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXHJcbiAqIEBwYXJhbSB7Kn0gW3ZhbF1cclxuICogQHJldHVybnMgeyp9XHJcbiAqL1xyXG5leHBvcnRzLmNhc3QgPSBmdW5jdGlvbiAodHlwZSwgdmFsKSB7XHJcbiAgICBpZiAodHlwZSA9PT0gXCJhbnlcIiB8fCB0eXBlID09PSBcImJsb2JcIilcclxuICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgdmFyIHQgPSB0eXBlb2YgdmFsO1xyXG4gICAgaWYgKHQgPT09IFwidW5kZWZpbmVkXCIgfHwgdmFsID09PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgIH1cclxuICAgIHZhciBlbnRpdHlNYXAgPSB7XHJcbiAgICAgICAgXCImXCI6IFwiJmFtcDtcIixcclxuICAgICAgICBcIjxcIjogXCImbHQ7XCIsXHJcbiAgICAgICAgXCI+XCI6IFwiJmd0O1wiLFxyXG4gICAgICAgIFwiXFxcIlwiOiBcIiZxdW90O1wiLFxyXG4gICAgICAgIFwiJ1wiOiBcIiYjMzk7XCIsXHJcbiAgICAgICAgXCIvXCI6IFwiJiN4MkY7XCIsXHJcbiAgICAgICAgXCJgXCI6IFwiJiN4NjA7XCIsXHJcbiAgICAgICAgXCI9XCI6IFwiJiN4M0Q7XCJcclxuICAgIH07XHJcbiAgICB2YXIgdHlwZXMgPSBmdW5jdGlvbiAodHlwZSwgdmFsKSB7XHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJzYWZlc3RyXCI6IHJldHVybiB0eXBlcyhcInN0cmluZ1wiLCB2YWwpLnJlcGxhY2UoL1smPD5cIidgPVxcL10vZ21pLCBmdW5jdGlvbiAocykgeyByZXR1cm4gZW50aXR5TWFwW3NdOyB9KTtcclxuICAgICAgICAgICAgY2FzZSBcImludFwiOiByZXR1cm4gKHQgIT09IFwibnVtYmVyXCIgfHwgdmFsICUgMSAhPT0gMCkgPyBwYXJzZUludCh2YWwgfHwgMCkgOiB2YWw7XHJcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcclxuICAgICAgICAgICAgY2FzZSBcImZsb2F0XCI6IHJldHVybiB0ICE9PSBcIm51bWJlclwiID8gcGFyc2VGbG9hdCh2YWwgfHwgMCkgOiB2YWw7XHJcbiAgICAgICAgICAgIGNhc2UgXCJhbnlbXVwiOlxyXG4gICAgICAgICAgICBjYXNlIFwiYXJyYXlcIjogcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsKSA/IHZhbCA6IFtdO1xyXG4gICAgICAgICAgICBjYXNlIFwidXVpZFwiOlxyXG4gICAgICAgICAgICBjYXNlIFwidGltZUlkXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCJ0aW1lSWRtc1wiOlxyXG4gICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6IHJldHVybiB0ICE9PSBcInN0cmluZ1wiID8gU3RyaW5nKHZhbCkgOiB2YWw7XHJcbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjpcclxuICAgICAgICAgICAgY2FzZSBcIm9ialwiOlxyXG4gICAgICAgICAgICBjYXNlIFwibWFwXCI6IHJldHVybiBleHBvcnRzLmlzT2JqZWN0KHZhbCkgPyB2YWwgOiB7fTtcclxuICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcclxuICAgICAgICAgICAgY2FzZSBcImJvb2xcIjogcmV0dXJuIHZhbCA9PT0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgIH07XHJcbiAgICB2YXIgbmV3VmFsID0gdHlwZXMoU3RyaW5nKHR5cGUgfHwgXCJcIikudG9Mb3dlckNhc2UoKSwgdmFsKTtcclxuICAgIGlmICh0eXBlLmluZGV4T2YoXCJbXVwiKSAhPT0gLTEpIHtcclxuICAgICAgICB2YXIgYXJyYXlPZl8xID0gdHlwZS5zbGljZSgwLCB0eXBlLmxhc3RJbmRleE9mKFwiW11cIikpO1xyXG4gICAgICAgIHJldHVybiAodmFsIHx8IFtdKS5tYXAoZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuY2FzdChhcnJheU9mXzEsIHYpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAobmV3VmFsICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBpZiAoW1wiaW50XCIsIFwiZmxvYXRcIiwgXCJudW1iZXJcIl0uaW5kZXhPZih0eXBlKSA+IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpc05hTihuZXdWYWwpID8gMCA6IG5ld1ZhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXdWYWw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxufTtcclxuLyoqXHJcbiAqIEluc2VydCBhIHZhbHVlIGludG8gYSBzb3J0ZWQgYXJyYXksIGVmZmljaWVudGx5IGdhdXJhbnRlZXMgcmVjb3JkcyBhcmUgc29ydGVkIG9uIGluc2VydC5cclxuICpcclxuICogQHBhcmFtIHthbnlbXX0gYXJyXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWVcclxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydFZhbF1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtlbmRWYWxdXHJcbiAqIEByZXR1cm5zIHthbnlbXX1cclxuICovXHJcbmV4cG9ydHMuc29ydGVkSW5zZXJ0ID0gZnVuY3Rpb24gKGFyciwgdmFsdWUsIHN0YXJ0VmFsLCBlbmRWYWwpIHtcclxuICAgIGlmIChhcnIubGVuZ3RoKSB7XHJcbiAgICAgICAgYXJyLnNwbGljZShleHBvcnRzLmJpbmFyeVNlYXJjaChhcnIsIHZhbHVlKSwgMCwgdmFsdWUpO1xyXG4gICAgICAgIHJldHVybiBhcnI7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBhcnIucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIGFycjtcclxuICAgIH1cclxufTtcclxuLyoqXHJcbiAqIEdpdmVuIGEgc29ydGVkIGFycmF5IGFuZCBhIHZhbHVlLCBmaW5kIHdoZXJlIHRoYXQgdmFsdWUgZml0cyBpbnRvIHRoZSBhcnJheS5cclxuICpcclxuICogQHBhcmFtIHthbnlbXX0gYXJyXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWVcclxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydFZhbF1cclxuICogQHBhcmFtIHtudW1iZXJ9IFtlbmRWYWxdXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAqL1xyXG5leHBvcnRzLmJpbmFyeVNlYXJjaCA9IGZ1bmN0aW9uIChhcnIsIHZhbHVlLCBzdGFydFZhbCwgZW5kVmFsKSB7XHJcbiAgICB2YXIgbGVuZ3RoID0gYXJyLmxlbmd0aDtcclxuICAgIHZhciBzdGFydCA9IHN0YXJ0VmFsIHx8IDA7XHJcbiAgICB2YXIgZW5kID0gZW5kVmFsICE9PSB1bmRlZmluZWQgPyBlbmRWYWwgOiBsZW5ndGggLSAxO1xyXG4gICAgaWYgKGxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlID4gYXJyW2VuZF0pIHtcclxuICAgICAgICByZXR1cm4gZW5kICsgMTtcclxuICAgIH1cclxuICAgIGlmICh2YWx1ZSA8IGFycltzdGFydF0pIHtcclxuICAgICAgICByZXR1cm4gc3RhcnQ7XHJcbiAgICB9XHJcbiAgICBpZiAoc3RhcnQgPj0gZW5kKSB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICB2YXIgbSA9IHN0YXJ0ICsgTWF0aC5mbG9vcigoZW5kIC0gc3RhcnQpIC8gMik7XHJcbiAgICBpZiAodmFsdWUgPCBhcnJbbV0pIHtcclxuICAgICAgICByZXR1cm4gZXhwb3J0cy5iaW5hcnlTZWFyY2goYXJyLCB2YWx1ZSwgc3RhcnQsIG0gLSAxKTtcclxuICAgIH1cclxuICAgIGlmICh2YWx1ZSA+IGFyclttXSkge1xyXG4gICAgICAgIHJldHVybiBleHBvcnRzLmJpbmFyeVNlYXJjaChhcnIsIHZhbHVlLCBtICsgMSwgZW5kKTtcclxuICAgIH1cclxuICAgIHJldHVybiAwO1xyXG59O1xyXG4vKipcclxuICogUXVpY2tseSByZW1vdmVzIGR1cGxpY2F0ZXMgZnJvbSBhIHNvcnRlZCBhcnJheS5cclxuICpcclxuICogQHBhcmFtIHthbnlbXX0gYXJyXHJcbiAqIEByZXR1cm5zIHthbnlbXX1cclxuICovXHJcbmV4cG9ydHMucmVtb3ZlRHVwbGljYXRlcyA9IGZ1bmN0aW9uIChhcnIpIHtcclxuICAgIGlmICghYXJyLmxlbmd0aClcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB2YXIgbmV3YXJyID0gW2FyclswXV07XHJcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChhcnJbaV0gIT09IGFycltpIC0gMV0pXHJcbiAgICAgICAgICAgIG5ld2Fyci5wdXNoKGFycltpXSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3YXJyO1xyXG59O1xyXG4vKipcclxuICogUmVjdXJzaXZlbHkgZnJlZXplIGEgamF2YXNjcmlwdCBvYmplY3QgdG8gcHJldmVudCBpdCBmcm9tIGJlaW5nIG1vZGlmaWVkLlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IG9ialxyXG4gKiBAcmV0dXJuc1xyXG4gKi9cclxuZXhwb3J0cy5kZWVwRnJlZXplID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqIHx8IHt9KS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgdmFyIHByb3AgPSBvYmpbbmFtZV07XHJcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9wID09PSBcIm9iamVjdFwiICYmIHByb3AgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgb2JqW25hbWVdID0gZXhwb3J0cy5kZWVwRnJlZXplKHByb3ApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgLy8gRnJlZXplIHNlbGYgKG5vLW9wIGlmIGFscmVhZHkgZnJvemVuKVxyXG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUob2JqKTtcclxufTtcclxudmFyIG9iamVjdFBhdGhDYWNoZSA9IHt9O1xyXG4vKipcclxuICogVGFrZSBhbiBvYmplY3QgYW5kIGEgc3RyaW5nIGRlc2NyaWJpbmcgYSBwYXRoIGxpa2UgXCJ2YWx1ZS5sZW5ndGhcIiBvciBcInZhbFtsZW5ndGhdXCIgYW5kIHNhZmVseSBnZXQgdGhhdCB2YWx1ZSBpbiB0aGUgb2JqZWN0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aFF1ZXJ5XHJcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0XHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lnbm9yZUZpcnN0UGF0aF1cclxuICogQHJldHVybnMgeyp9XHJcbiAqL1xyXG5leHBvcnRzLm9ialF1ZXJ5ID0gZnVuY3Rpb24gKHBhdGhRdWVyeSwgb2JqZWN0LCBpZ25vcmVGaXJzdFBhdGgpIHtcclxuICAgIHZhciB2YWw7XHJcbiAgICB2YXIgc2FmZUdldCA9IGZ1bmN0aW9uIChnZXRQYXRoLCBwYXRoSWR4LCBvYmplY3QpIHtcclxuICAgICAgICBpZiAoIWdldFBhdGhbcGF0aElkeF0gfHwgIW9iamVjdClcclxuICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcclxuICAgICAgICByZXR1cm4gc2FmZUdldChnZXRQYXRoLCBwYXRoSWR4ICsgMSwgb2JqZWN0W2dldFBhdGhbcGF0aElkeF1dKTtcclxuICAgIH07XHJcbiAgICB2YXIgY2FjaGVLZXkgPSBwYXRoUXVlcnkgKyAoaWdub3JlRmlyc3RQYXRoID8gXCIxXCIgOiBcIjBcIik7XHJcbiAgICAvLyBjYWNoZWQgcGF0aCBhcnJheXMsIHNraXBzIHN1YnNlcXVlbnQgaWRlbnRpY2FsIHBhdGggcmVxdWVzdHMuXHJcbiAgICBpZiAob2JqZWN0UGF0aENhY2hlW2NhY2hlS2V5XSkge1xyXG4gICAgICAgIHJldHVybiBzYWZlR2V0KG9iamVjdFBhdGhDYWNoZVtjYWNoZUtleV0sIDAsIG9iamVjdCk7XHJcbiAgICB9XHJcbiAgICB2YXIgcGF0aCA9IFtdO1xyXG4gICAgLy8gbmVlZCB0byB0dXJuIHBhdGggaW50byBhcnJheSBvZiBzdHJpbmdzLCBpZSB2YWx1ZVtoZXldW3RoZXJlXS5sZW5ndGggPT4gW3ZhbHVlLCBoZXksIHRoZXJlLCBsZW5ndGhdO1xyXG4gICAgcGF0aCA9IHBhdGhRdWVyeS5pbmRleE9mKFwiW1wiKSA+IC0xID9cclxuICAgICAgICAvLyBoYW5kbGUgY29tcGxleCBtaXggb2YgZG90cyBhbmQgYnJhY2tldHMgbGlrZSBcInVzZXJzLnZhbHVlW21ldGFdW3ZhbHVlXS5sZW5ndGhcIlxyXG4gICAgICAgIFtdLmNvbmNhdC5hcHBseShbXSwgcGF0aFF1ZXJ5LnNwbGl0KFwiLlwiKS5tYXAoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHYubWF0Y2goLyhbXlxcW10rKXxcXFsoW15cXF1dKylcXF1cXFsvZ21pKSB8fCB2OyB9KSkubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiB2LnJlcGxhY2UoL1xcW3xcXF0vZ21pLCBcIlwiKTsgfSkgOlxyXG4gICAgICAgIC8vIGhhbmRsZSBzaW1wbGUgZG90IHBhdGhzIGxpa2UgXCJ1c2Vycy5tZXRhLnZhbHVlLmxlbmd0aFwiXHJcbiAgICAgICAgcGF0aFF1ZXJ5LnNwbGl0KFwiLlwiKTtcclxuICAgIC8vIGhhbmRsZSBqb2lucyB3aGVyZSBlYWNoIHJvdyBpcyBkZWZpbmVkIGFzIHRhYmxlLmNvbHVtblxyXG4gICAgaWYgKGlnbm9yZUZpcnN0UGF0aCkge1xyXG4gICAgICAgIHZhciBmaXJzdFBhdGggPSBwYXRoLnNoaWZ0KCkgKyBcIi5cIiArIHBhdGguc2hpZnQoKTtcclxuICAgICAgICBwYXRoLnVuc2hpZnQoZmlyc3RQYXRoKTtcclxuICAgIH1cclxuICAgIG9iamVjdFBhdGhDYWNoZVtjYWNoZUtleV0gPSBwYXRoO1xyXG4gICAgcmV0dXJuIHNhZmVHZXQob2JqZWN0UGF0aENhY2hlW2NhY2hlS2V5XSwgMCwgb2JqZWN0KTtcclxufTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLy8gc3RvbGVuIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL09jdGFuZS9zZXRJbW1lZGlhdGVcclxuLy8gY29udmVydGQgdG8gTm9kZUpTIGZyaWVuZGx5IHN5bnRheFxyXG52YXIgdWlkID0gMDtcclxudmFyIHN0b3JhZ2UgPSB7fTtcclxudmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xyXG52YXIgbWVzc2FnZSA9ICdzZXRNc2cnO1xyXG4vLyBkZWNsYXJlIGNvbnN0IFByb21pc2U6IGFueTtcclxudmFyIGNhblNldEltbWVkaWF0ZSA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvd1tcInNldEltbWVkaWF0ZVwiXSA/IHdpbmRvd1tcInNldEltbWVkaWF0ZVwiXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsW1wic2V0SW1tZWRpYXRlXCJdID8gZ2xvYmFsW1wic2V0SW1tZWRpYXRlXCJdIDogZmFsc2U7XHJcbnZhciBjYW5Qb3N0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnBvc3RNZXNzYWdlICYmIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyO1xyXG52YXIgY2FuUHJvbWlzZSA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvd1tcIlByb21pc2VcIl0gPyB3aW5kb3dbXCJQcm9taXNlXCJdIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWxbXCJQcm9taXNlXCJdID8gZ2xvYmFsW1wiUHJvbWlzZVwiXSA6IGZhbHNlO1xyXG52YXIgZmFzdEFwcGx5ID0gZnVuY3Rpb24gKGFyZ3MpIHtcclxuICAgIHJldHVybiBhcmdzWzBdLmFwcGx5KG51bGwsIHNsaWNlLmNhbGwoYXJncywgMSkpO1xyXG59O1xyXG52YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIHZhciBrZXkgPSBldmVudC5kYXRhO1xyXG4gICAgdmFyIGRhdGE7XHJcbiAgICBpZiAodHlwZW9mIGtleSA9PSAnc3RyaW5nJyAmJiBrZXkuaW5kZXhPZihtZXNzYWdlKSA9PT0gMCkge1xyXG4gICAgICAgIGRhdGEgPSBzdG9yYWdlW2tleV07XHJcbiAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHN0b3JhZ2Vba2V5XTtcclxuICAgICAgICAgICAgZmFzdEFwcGx5KGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuaWYgKGNhblBvc3QpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgY2FsbGJhY2spO1xyXG59XHJcbnZhciBzZXRJbW1lZGlhdGVQb2x5ZmlsbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBhcmdzID0gW107XHJcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgIH1cclxuICAgIHZhciBpZCA9IHVpZCsrO1xyXG4gICAgdmFyIGtleSA9IG1lc3NhZ2UgKyBpZDtcclxuICAgIHN0b3JhZ2Vba2V5XSA9IGFyZ3M7XHJcbiAgICB3aW5kb3cucG9zdE1lc3NhZ2Uoa2V5LCAnKicpO1xyXG4gICAgcmV0dXJuIGlkO1xyXG59O1xyXG5leHBvcnRzLnNldEZhc3QgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIGNhblNldEltbWVkaWF0ZSA/IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FuU2V0SW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZmFzdEFwcGx5KGFyZ3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSA6IGNhblByb21pc2UgPyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhblByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmYXN0QXBwbHkoYXJncyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9IDogY2FuUG9zdCA/IHNldEltbWVkaWF0ZVBvbHlmaWxsIDogLy8gYnVpbHQgaW4gd2luZG93IG1lc3NhZ2luZyAocHJldHR5IGZhc3QsIG5vdCBiYWQpXHJcbiAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZmFzdEFwcGx5KGFyZ3MpO1xyXG4gICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICB9O1xyXG59KSgpO1xyXG52YXIgX0lOVEVSTkFMID0gZnVuY3Rpb24gKCkgeyB9O1xyXG52YXIgX1JFSkVDVEVEID0gWydSJ107XHJcbnZhciBfRlVMRklMTEVEID0gWydGJ107XHJcbnZhciBfUEVORElORyA9IFsnUCddO1xyXG52YXIgUHJvbWlzZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFByb21pc2UocmVzb2x2ZXIpIHtcclxuICAgICAgICB0aGlzLl9zdGF0ZSA9IF9QRU5ESU5HO1xyXG4gICAgICAgIHRoaXMuX3F1ZXVlID0gW107XHJcbiAgICAgICAgdGhpcy5fb3V0Y29tZSA9IHZvaWQgMDtcclxuICAgICAgICBpZiAocmVzb2x2ZXIgIT09IF9JTlRFUk5BTCkge1xyXG4gICAgICAgICAgICBfc2FmZWx5UmVzb2x2ZVRoZW5hYmxlKHRoaXMsIHJlc29sdmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBQcm9taXNlLmRvUG9seUZpbGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgaWYgKCFnbG9iYWxbXCJQcm9taXNlXCJdKSB7XHJcbiAgICAgICAgICAgICAgICBnbG9iYWxbXCJQcm9taXNlXCJdID0gdGhpcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICBpZiAoIXdpbmRvd1tcIlByb21pc2VcIl0pIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvd1tcIlByb21pc2VcIl0gPSB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFByb21pc2UucHJvdG90eXBlLmNhdGNoID0gZnVuY3Rpb24gKG9uUmVqZWN0ZWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uICgpIHsgfSwgb25SZWplY3RlZCk7XHJcbiAgICB9O1xyXG4gICAgUHJvbWlzZS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uIChvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygb25GdWxmaWxsZWQgIT09ICdmdW5jdGlvbicgJiYgdGhpcy5fc3RhdGUgPT09IF9GVUxGSUxMRUQgfHxcclxuICAgICAgICAgICAgdHlwZW9mIG9uUmVqZWN0ZWQgIT09ICdmdW5jdGlvbicgJiYgdGhpcy5fc3RhdGUgPT09IF9SRUpFQ1RFRCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShfSU5URVJOQUwpO1xyXG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSAhPT0gX1BFTkRJTkcpIHtcclxuICAgICAgICAgICAgdmFyIHJlc29sdmVyID0gdGhpcy5fc3RhdGUgPT09IF9GVUxGSUxMRUQgPyBvbkZ1bGZpbGxlZCA6IG9uUmVqZWN0ZWQ7XHJcbiAgICAgICAgICAgIF91bndyYXAocHJvbWlzZSwgcmVzb2x2ZXIsIHRoaXMuX291dGNvbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fcXVldWUucHVzaChuZXcgX1F1ZXVlSXRlbShwcm9taXNlLCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAc3RhdGljXHJcbiAgICAgKiBAcGFyYW0ge2FueX0gdmFsdWVcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIFByb21pc2VcclxuICAgICAqL1xyXG4gICAgUHJvbWlzZS5yZXNvbHZlID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgdGhpcylcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIHJldHVybiBfaGFuZGxlcnMuX3Jlc29sdmUobmV3IFByb21pc2UoX0lOVEVSTkFMKSwgdmFsdWUpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBzdGF0aWNcclxuICAgICAqIEBwYXJhbSB7YW55fSByZWFzb25cclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIFByb21pc2VcclxuICAgICAqL1xyXG4gICAgUHJvbWlzZS5yZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XHJcbiAgICAgICAgcmV0dXJuIF9oYW5kbGVycy5fcmVqZWN0KG5ldyBQcm9taXNlKF9JTlRFUk5BTCksIHJlYXNvbik7XHJcbiAgICB9O1xyXG4gICAgUHJvbWlzZS5hbGwgPSBmdW5jdGlvbiAoaXRlcmFibGUpIHtcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcclxuICAgICAgICAgICAgaWYgKCFpdGVyYWJsZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoW10pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBtYXliZVJldHVybiA9IGZ1bmN0aW9uIChpbmRleCwgc3VjY2VzcywgZmFpbHVyZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZhaWx1cmUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChmYWlsdXJlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChzdWNjZXNzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA9PSBpdGVyYWJsZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVyYWJsZVtpXS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG1heWJlUmV0dXJuKGksIHJlcywgdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF5YmVSZXR1cm4oaSwgdW5kZWZpbmVkLCBlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZXJhYmxlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBfbG9vcF8xKGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgUHJvbWlzZS5yYWNlID0gZnVuY3Rpb24gKGl0ZXJhYmxlKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHZhciBsZW4gPSBpdGVyYWJsZS5sZW5ndGg7XHJcbiAgICAgICAgdmFyIGNhbGxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBpID0gLTE7XHJcbiAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShfSU5URVJOQUwpO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZXJhYmxlKSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVqZWN0KG5ldyBUeXBlRXJyb3IoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmVyKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHNlbGYucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmICghY2FsbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBfaGFuZGxlcnMuX3Jlc29sdmUocHJvbWlzZSwgcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGlmICghY2FsbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBfaGFuZGxlcnMuX3JlamVjdChwcm9taXNlLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWxlbikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXNvbHZlKFtdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2hpbGUgKCsraSA8IGxlbikge1xyXG4gICAgICAgICAgICByZXNvbHZlcihpdGVyYWJsZVtpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQcm9taXNlO1xyXG59KCkpO1xyXG5leHBvcnRzLlByb21pc2UgPSBQcm9taXNlO1xyXG4vKipcclxuICogQGludGVybmFsXHJcbiAqXHJcbiAqIEBleHBvcnRcclxuICogQGNsYXNzIF9RdWV1ZUl0ZW1cclxuICovXHJcbnZhciBfUXVldWVJdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gX1F1ZXVlSXRlbShwcm9taXNlLCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xyXG4gICAgICAgIHRoaXMuX3Byb21pc2UgPSBwcm9taXNlO1xyXG4gICAgICAgIGlmICh0eXBlb2Ygb25GdWxmaWxsZWQgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgdGhpcy5fb25GdWxmaWxsZWQgPSBvbkZ1bGZpbGxlZDtcclxuICAgICAgICAgICAgdGhpcy5fY2FsbEZ1bGZpbGxlZCA9IHRoaXMuX290aGVyQ2FsbEZ1bGZpbGxlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvblJlamVjdGVkID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX29uUmVqZWN0ZWQgPSBvblJlamVjdGVkO1xyXG4gICAgICAgICAgICB0aGlzLl9jYWxsUmVqZWN0ZWQgPSB0aGlzLl9vdGhlckNhbGxSZWplY3RlZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfUXVldWVJdGVtLnByb3RvdHlwZS5fY2FsbEZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIF9oYW5kbGVycy5fcmVzb2x2ZSh0aGlzLl9wcm9taXNlLCB2YWx1ZSk7XHJcbiAgICB9O1xyXG4gICAgO1xyXG4gICAgX1F1ZXVlSXRlbS5wcm90b3R5cGUuX290aGVyQ2FsbEZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIF91bndyYXAodGhpcy5fcHJvbWlzZSwgdGhpcy5fb25GdWxmaWxsZWQsIHZhbHVlKTtcclxuICAgIH07XHJcbiAgICA7XHJcbiAgICBfUXVldWVJdGVtLnByb3RvdHlwZS5fY2FsbFJlamVjdGVkID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgX2hhbmRsZXJzLl9yZWplY3QodGhpcy5fcHJvbWlzZSwgdmFsdWUpO1xyXG4gICAgfTtcclxuICAgIDtcclxuICAgIF9RdWV1ZUl0ZW0ucHJvdG90eXBlLl9vdGhlckNhbGxSZWplY3RlZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIF91bndyYXAodGhpcy5fcHJvbWlzZSwgdGhpcy5fb25SZWplY3RlZCwgdmFsdWUpO1xyXG4gICAgfTtcclxuICAgIDtcclxuICAgIHJldHVybiBfUXVldWVJdGVtO1xyXG59KCkpO1xyXG5leHBvcnRzLl9RdWV1ZUl0ZW0gPSBfUXVldWVJdGVtO1xyXG4vKipcclxuICpcclxuICogQGludGVybmFsXHJcbiAqIEBwYXJhbSB7YW55fSBwcm9taXNlXHJcbiAqIEBwYXJhbSB7YW55fSBmdW5jXHJcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxyXG4gKi9cclxuZnVuY3Rpb24gX3Vud3JhcChwcm9taXNlLCBmdW5jLCB2YWx1ZSkge1xyXG4gICAgZXhwb3J0cy5zZXRGYXN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcmV0dXJuVmFsdWU7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBmdW5jLmFwcGx5KG51bGwsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9oYW5kbGVycy5fcmVqZWN0KHByb21pc2UsIGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmV0dXJuVmFsdWUgPT09IHByb21pc2UpIHtcclxuICAgICAgICAgICAgX2hhbmRsZXJzLl9yZWplY3QocHJvbWlzZSwgbmV3IFR5cGVFcnJvcigpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIF9oYW5kbGVycy5fcmVzb2x2ZShwcm9taXNlLCByZXR1cm5WYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKiBAY2xhc3MgX2hhbmRsZXJzXHJcbiAqL1xyXG52YXIgX2hhbmRsZXJzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gX2hhbmRsZXJzKCkge1xyXG4gICAgfVxyXG4gICAgX2hhbmRsZXJzLl9yZXNvbHZlID0gZnVuY3Rpb24gKHNlbGYsIHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IF90cnlDYXRjaChfZ2V0VGhlbiwgdmFsdWUpO1xyXG4gICAgICAgIHZhciB0aGVuYWJsZSA9IHJlc3VsdC5fdmFsdWU7XHJcbiAgICAgICAgdmFyIGkgPSAtMTtcclxuICAgICAgICB2YXIgbGVuID0gc2VsZi5fcXVldWUubGVuZ3RoO1xyXG4gICAgICAgIGlmIChyZXN1bHQuX3N0YXR1cyA9PT0gJ2Vycm9yJykge1xyXG4gICAgICAgICAgICByZXR1cm4gX2hhbmRsZXJzLl9yZWplY3Qoc2VsZiwgcmVzdWx0Ll92YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGVuYWJsZSkge1xyXG4gICAgICAgICAgICBfc2FmZWx5UmVzb2x2ZVRoZW5hYmxlKHNlbGYsIHRoZW5hYmxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYuX3N0YXRlID0gX0ZVTEZJTExFRDtcclxuICAgICAgICAgICAgc2VsZi5fb3V0Y29tZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB3aGlsZSAoKytpIDwgbGVuKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLl9xdWV1ZVtpXS5fY2FsbEZ1bGZpbGxlZCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9O1xyXG4gICAgO1xyXG4gICAgX2hhbmRsZXJzLl9yZWplY3QgPSBmdW5jdGlvbiAoc2VsZiwgZXJyb3IpIHtcclxuICAgICAgICBzZWxmLl9zdGF0ZSA9IF9SRUpFQ1RFRDtcclxuICAgICAgICBzZWxmLl9vdXRjb21lID0gZXJyb3I7XHJcbiAgICAgICAgdmFyIGkgPSAtMTtcclxuICAgICAgICB2YXIgbGVuID0gc2VsZi5fcXVldWUubGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlICgrK2kgPCBsZW4pIHtcclxuICAgICAgICAgICAgc2VsZi5fcXVldWVbaV0uX2NhbGxSZWplY3RlZChlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfTtcclxuICAgIDtcclxuICAgIHJldHVybiBfaGFuZGxlcnM7XHJcbn0oKSk7XHJcbi8qKlxyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICogQHBhcmFtIHthbnl9IG9ialxyXG4gKiBAcmV0dXJuc1xyXG4gKi9cclxuZnVuY3Rpb24gX2dldFRoZW4ob2JqKSB7XHJcbiAgICAvLyBNYWtlIHN1cmUgd2Ugb25seSBhY2Nlc3MgdGhlIGFjY2Vzc29yIG9uY2UgYXMgcmVxdWlyZWQgYnkgdGhlIHNwZWNcclxuICAgIHZhciB0aGVuID0gb2JqICYmIG9iai50aGVuO1xyXG4gICAgaWYgKG9iaiAmJiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykgJiYgdHlwZW9mIHRoZW4gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gYXBweVRoZW4oKSB7XHJcbiAgICAgICAgICAgIHRoZW4uYXBwbHkob2JqLCBhcmd1bWVudHMpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICpcclxuICogQGludGVybmFsXHJcbiAqIEBwYXJhbSB7UHJvbWlzZTxhbnk+fSBzZWxmXHJcbiAqIEBwYXJhbSB7KG9uU3VjY2VzczooLi4uVCkgPT4gdm9pZCwgb25GYWlsOiguLi5UKSA9PiB2b2lkKSA9PiB2b2lkfSB0aGVuYWJsZVxyXG4gKi9cclxuZnVuY3Rpb24gX3NhZmVseVJlc29sdmVUaGVuYWJsZShzZWxmLCB0aGVuYWJsZSkge1xyXG4gICAgLy8gRWl0aGVyIGZ1bGZpbGwsIHJlamVjdCBvciByZWplY3Qgd2l0aCBlcnJvclxyXG4gICAgdmFyIGNhbGxlZCA9IGZhbHNlO1xyXG4gICAgZnVuY3Rpb24gb25FcnJvcigpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YWx1ZVtfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2FsbGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FsbGVkID0gdHJ1ZTtcclxuICAgICAgICBfaGFuZGxlcnMuX3JlamVjdChzZWxmLCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBvblN1Y2Nlc3MoKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFsdWVbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNhbGxlZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhbGxlZCA9IHRydWU7XHJcbiAgICAgICAgX2hhbmRsZXJzLl9yZXNvbHZlKHNlbGYsIHZhbHVlKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHRyeVRvVW53cmFwKCkge1xyXG4gICAgICAgIHRoZW5hYmxlKG9uU3VjY2Vzcywgb25FcnJvcik7XHJcbiAgICB9XHJcbiAgICB2YXIgcmVzdWx0ID0gX3RyeUNhdGNoKHRyeVRvVW53cmFwKTtcclxuICAgIGlmIChyZXN1bHQuX3N0YXR1cyA9PT0gJ2Vycm9yJykge1xyXG4gICAgICAgIG9uRXJyb3IocmVzdWx0Ll92YWx1ZSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKiBAcGFyYW0ge2FueX0gZnVuY1xyXG4gKiBAcGFyYW0geyp9IFt2YWx1ZXNdXHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG5mdW5jdGlvbiBfdHJ5Q2F0Y2goZnVuYywgdmFsdWVzKSB7XHJcbiAgICB2YXIgb3V0ID0geyBfc3RhdHVzOiBudWxsLCBfdmFsdWU6IG51bGwgfTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgb3V0Ll92YWx1ZSA9IGZ1bmModmFsdWVzKTtcclxuICAgICAgICBvdXQuX3N0YXR1cyA9ICdzdWNjZXNzJztcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgb3V0Ll9zdGF0dXMgPSAnZXJyb3InO1xyXG4gICAgICAgIG91dC5fdmFsdWUgPSBlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dDtcclxufVxyXG4iLCJPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciB1dGlsaXRpZXNfMSA9IHJlcXVpcmUoXCIuLi91dGlsaXRpZXNcIik7XHJcbi8qKlxyXG4gKiBPcHRpbWl6ZWQgaW4gbWVtb3J5IGluZGV4IHVzZWQgZm9yIGVhY2ggdGFibGUuXHJcbiAqIEV2ZW4gaWYgeW91J3JlIG5vdCB1c2luZyBhdXRvIGluY3JpbWVudCwgdGhlIGluZGV4IHdpbGwgZ2F1cmFudGVlIHRvIG1haW50YWluIGEgc29ydGVkIG9yZGVyIG9mIGtleXMuXHJcbiAqIEV4Y2hhbmdlcyBhIHJlZHVjZWQgd3JpdGUgcGVyZm9ybWFuY2UgZm9yIGluY3JlYXNlZCByZWFkIHBlcmZvcm1hbmNlLlxyXG4gKlxyXG4gKiBAZXhwb3J0XHJcbiAqIEBjbGFzcyBEYXRhYmFzZUluZGV4XHJcbiAqL1xyXG52YXIgRGF0YWJhc2VJbmRleCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIERhdGFiYXNlSW5kZXgoKSB7XHJcbiAgICAgICAgdGhpcy5fc29ydGVkID0gW107XHJcbiAgICAgICAgdGhpcy5faW5kZXhPZiA9IHt9O1xyXG4gICAgICAgIHRoaXMuYWkgPSAxO1xyXG4gICAgICAgIHRoaXMuZG9BSSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgRGF0YWJhc2VJbmRleC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLl9zb3J0ZWQgPSBpbmRleCB8fCBbXTtcclxuICAgICAgICB0aGlzLl9pbmRleE9mID0ge307XHJcbiAgICAgICAgdGhpcy5fc29ydGVkLmZvckVhY2goZnVuY3Rpb24gKHMsIGkpIHtcclxuICAgICAgICAgICAgX3RoaXMuX2luZGV4T2ZbU3RyaW5nKHMpXSA9IGk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHRoaXMuZG9BSSAmJiB0aGlzLl9zb3J0ZWQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciBsID0gdGhpcy5fc29ydGVkLmxlbmd0aDtcclxuICAgICAgICAgICAgdGhpcy5haSA9IHRoaXMuX3NvcnRlZFtsIC0gMV0gKyAxO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBEYXRhYmFzZUluZGV4LnByb3RvdHlwZS5nZXRMb2NhdGlvbiA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICB2YXIgaWR4ID0gdGhpcy5pbmRleE9mKGtleSk7XHJcbiAgICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlkeDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHV0aWxpdGllc18xLmJpbmFyeVNlYXJjaCh0aGlzLl9zb3J0ZWQsIGtleSk7XHJcbiAgICB9O1xyXG4gICAgRGF0YWJhc2VJbmRleC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIGlmICghdGhpcy5kb0FJKSB7XHJcbiAgICAgICAgICAgIHZhciBpZHggPSB1dGlsaXRpZXNfMS5iaW5hcnlTZWFyY2godGhpcy5fc29ydGVkLCBrZXkpO1xyXG4gICAgICAgICAgICB0aGlzLl9zb3J0ZWQuc3BsaWNlKGlkeCwgMCwga2V5KTtcclxuICAgICAgICAgICAgdGhpcy5faW5kZXhPZltTdHJpbmcoa2V5KV0gPSBpZHg7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBpZHggKyAxOyBpIDwgdGhpcy5fc29ydGVkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9pbmRleE9mW1N0cmluZyh0aGlzLl9zb3J0ZWRbaV0pXSsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAocGFyc2VJbnQoa2V5KSA+PSB0aGlzLmFpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFpKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5faW5kZXhPZltTdHJpbmcoa2V5KV0gPSB0aGlzLl9zb3J0ZWQubGVuZ3RoO1xyXG4gICAgICAgICAgICB0aGlzLl9zb3J0ZWQucHVzaChrZXkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBEYXRhYmFzZUluZGV4LnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zb3J0ZWQ7XHJcbiAgICB9O1xyXG4gICAgRGF0YWJhc2VJbmRleC5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5kZXhPZltTdHJpbmcoa2V5KV0gIT09IHVuZGVmaW5lZCA/IHRoaXMuX2luZGV4T2ZbU3RyaW5nKGtleSldIDogLTE7XHJcbiAgICB9O1xyXG4gICAgRGF0YWJhc2VJbmRleC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHZhciBpZHggPSB0aGlzLl9pbmRleE9mW1N0cmluZyhrZXkpXTtcclxuICAgICAgICBpZiAoaWR4ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2luZGV4T2ZbU3RyaW5nKGtleSldO1xyXG4gICAgICAgICAgICB0aGlzLl9zb3J0ZWQuc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBpZHg7IGkgPCB0aGlzLl9zb3J0ZWQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4T2ZbU3RyaW5nKHRoaXMuX3NvcnRlZFtpXSldLS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIERhdGFiYXNlSW5kZXg7XHJcbn0oKSk7XHJcbmV4cG9ydHMuRGF0YWJhc2VJbmRleCA9IERhdGFiYXNlSW5kZXg7XHJcbiIsInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xyXG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXHJcbiAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGxpZV90c18xID0gcmVxdWlyZShcImxpZS10c1wiKTtcclxudmFyIHN0ZF9xdWVyeV8xID0gcmVxdWlyZShcIi4vcXVlcnkvc3RkLXF1ZXJ5XCIpO1xyXG52YXIgdHJhbnNhY3Rpb25fMSA9IHJlcXVpcmUoXCIuL3F1ZXJ5L3RyYW5zYWN0aW9uXCIpO1xyXG52YXIgcmVhbGx5X3NtYWxsX2V2ZW50c18xID0gcmVxdWlyZShcInJlYWxseS1zbWFsbC1ldmVudHNcIik7XHJcbnZhciB1dGlsaXRpZXNfMSA9IHJlcXVpcmUoXCIuL3V0aWxpdGllc1wiKTtcclxudmFyIGluZGV4XzEgPSByZXF1aXJlKFwiLi9kYXRhYmFzZS9pbmRleFwiKTtcclxudmFyIGhpc3RvcnlfcGx1Z2luXzEgPSByZXF1aXJlKFwiLi9oaXN0b3J5LXBsdWdpblwiKTtcclxudmFyIFZFUlNJT04gPSAxLjQxO1xyXG4vLyB1Z2xpZnlKUyBmaXhcclxudmFyIHN0ciA9IFtcIl91dGlsXCJdO1xyXG4vKipcclxuICogVGhlIHByaW1hcnkgYWJzdHJhY3Rpb24gY2xhc3MsIHRoZXJlIGlzIG5vIGRhdGFiYXNlIGltcGxpbWludGF0aW9uIGNvZGUgaGVyZS5cclxuICogSnVzdCBldmVudHMsIHF1cmllcyBhbmQgZmlsdGVycy5cclxuICpcclxuICogQGV4cG9ydFxyXG4gKiBAY2xhc3MgTmFub1NRTEluc3RhbmNlXHJcbiAqL1xyXG52YXIgTmFub1NRTEluc3RhbmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gTmFub1NRTEluc3RhbmNlKCkge1xyXG4gICAgICAgIHRoaXMudmVyc2lvbiA9IFZFUlNJT047XHJcbiAgICAgICAgdGhpcy5fb25Db25uZWN0ZWRDYWxsQmFja3MgPSBbXTtcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgdC5fYWN0aW9ucyA9IHt9O1xyXG4gICAgICAgIHQuX3ZpZXdzID0ge307XHJcbiAgICAgICAgdC5kYXRhTW9kZWxzID0ge307XHJcbiAgICAgICAgdC5fZXZlbnRzID0gW1wiKlwiLCBcImNoYW5nZVwiLCBcImRlbGV0ZVwiLCBcInVwc2VydFwiLCBcImRyb3BcIiwgXCJzZWxlY3RcIiwgXCJlcnJvclwiXTtcclxuICAgICAgICB0Ll9oYXNFdmVudHMgPSB7fTtcclxuICAgICAgICB0LnRhYmxlTmFtZXMgPSBbXTtcclxuICAgICAgICB0LnBsdWdpbnMgPSBbXTtcclxuICAgICAgICB0Lmhhc1BLID0ge307XHJcbiAgICAgICAgdC5za2lwUHVyZ2UgPSB7fTtcclxuICAgICAgICB0LnRvUm93Rm5zID0ge307XHJcbiAgICAgICAgdC50YWJsZVBLcyA9IHt9O1xyXG4gICAgICAgIHQudG9Db2xGbnMgPSB7fTtcclxuICAgICAgICB0LnRvQ29sUnVsZXMgPSB7fTtcclxuICAgICAgICB0Ll9yYW5kb21zID0gW107XHJcbiAgICAgICAgLy8gdC5fcXVlcnlQb29sID0gW107XHJcbiAgICAgICAgLy8gdC5fcXVlcnlQdHIgPSAwO1xyXG4gICAgICAgIHQuX3JhbmRvbVB0ciA9IDA7XHJcbiAgICAgICAgdC5oYXNBbnlFdmVudHMgPSBmYWxzZTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDIwMDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHQuX3JhbmRvbXMucHVzaCh1dGlsaXRpZXNfMS5yYW5kb20xNkJpdHMoKS50b1N0cmluZygxNikpO1xyXG4gICAgICAgICAgICAvLyB0Ll9xdWVyeVBvb2wucHVzaChuZXcgX05hbm9TUUxRdWVyeSh0KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHQuX2NhbGxiYWNrcyA9IHt9O1xyXG4gICAgICAgIHQuX2NhbGxiYWNrc1tcIipcIl0gPSBuZXcgcmVhbGx5X3NtYWxsX2V2ZW50c18xLlJlYWxseVNtYWxsRXZlbnRzKCk7XHJcbiAgICAgICAgdC5pQiA9IG5ldyBpbmRleF8xLk5hbm9TUUxEZWZhdWx0QmFja2VuZCgpO1xyXG4gICAgICAgIHZhciBpbnN0YW5jZUNvbm5lY3RBcmdzID0ge1xyXG4gICAgICAgICAgICBtb2RlbHM6IHt9LFxyXG4gICAgICAgICAgICBhY3Rpb25zOiB7fSxcclxuICAgICAgICAgICAgdmlld3M6IHt9LFxyXG4gICAgICAgICAgICBjb25maWc6IHt9LFxyXG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXNcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICh0LmlCLndpbGxDb25uZWN0KSB7XHJcbiAgICAgICAgICAgIHQuaUIud2lsbENvbm5lY3QoaW5zdGFuY2VDb25uZWN0QXJncywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHQuaUIuZGlkQ29ubmVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHQuaUIuZGlkQ29ubmVjdChpbnN0YW5jZUNvbm5lY3RBcmdzLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUudG9Db2x1bW4gPSBmdW5jdGlvbiAoY29sdW1uRm5zKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnRvQ29sRm5zW3RoaXMuc1RhYmxlXSkge1xyXG4gICAgICAgICAgICB0aGlzLnRvQ29sRm5zW3RoaXMuc1RhYmxlXSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRvQ29sRm5zW3RoaXMuc1RhYmxlXSA9IGNvbHVtbkZucztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLnRvUm93ID0gZnVuY3Rpb24gKGNvbHVtbkZucykge1xyXG4gICAgICAgIGlmICghdGhpcy50b1Jvd0Zuc1t0aGlzLnNUYWJsZV0pIHtcclxuICAgICAgICAgICAgdGhpcy50b1Jvd0Zuc1t0aGlzLnNUYWJsZV0gPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50b1Jvd0Zuc1t0aGlzLnNUYWJsZV0gPSBjb2x1bW5GbnM7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBuYW5vU1FMIGdlbmVyYXRlcyA1MCByYW5kb20gMTYgYml0IHN0cmluZ3Mgb24gZXZlcnkgbGF1bmNoLlxyXG4gICAgICogSWYgeW91IGRvbid0IG5lZWQgdHJ1ZSByYW5kb21uZXNzIHlvdSBjYW4gdXNlIHRoaXMgZnVuY3Rpb24gdG8gZ2V0IGEgcHN1ZG9yYW5kb20gMTYgYml0IHN0cmluZy5cclxuICAgICAqIFBlcmZvcm1hbmNlIGlzIG9yZGVycyBvZiBhIG1hZ25pdHVkZSBmYXN0ZXIgc2luY2Ugbm8gcmFuZG9tIG51bWJlciBnZW5lcmF0b3IgaXMgbmVlZGVkLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKiBAbWVtYmVyb2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUuZmFzdFJhbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5fcmFuZG9tUHRyKys7XHJcbiAgICAgICAgaWYgKHRoaXMuX3JhbmRvbVB0ciA+PSB0aGlzLl9yYW5kb21zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLl9yYW5kb21QdHIgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fcmFuZG9tc1t0aGlzLl9yYW5kb21QdHJdO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hhbmdlcyB0aGUgdGFibGUgcG9pbnRlciB0byBhIG5ldyB0YWJsZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3RhYmxlXVxyXG4gICAgICogQHJldHVybnMge05hbm9TUUxJbnN0YW5jZX1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUudGFibGUgPSBmdW5jdGlvbiAodGFibGUpIHtcclxuICAgICAgICBpZiAodGFibGUpXHJcbiAgICAgICAgICAgIHRoaXMuc1RhYmxlID0gdGFibGU7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0cyB0aGUgYmFja2VuZCBkYXRhYmFzZSBmb3IgdXNlLlxyXG4gICAgICpcclxuICAgICAqIE9wdGlvbmFsbHkgaW5jbHVkZSBhIGN1c3RvbSBkYXRhYmFzZSBkcml2ZXIsIG90aGVyd2lzZSB0aGUgYnVpbHQgaW4gbWVtb3J5IGRyaXZlciB3aWxsIGJlIHVzZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtOYW5vU1FMQmFja2VuZH0gW2JhY2tlbmRdXHJcbiAgICAgKiBAcmV0dXJucyB7KFByb21pc2U8T2JqZWN0IHwgc3RyaW5nPil9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyB1dGlsaXRpZXNfMS5Qcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikge1xyXG4gICAgICAgICAgICB2YXIgY29ubmVjdEFyZ3MgPSB7XHJcbiAgICAgICAgICAgICAgICBtb2RlbHM6IHQuZGF0YU1vZGVscyxcclxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IHQuX2FjdGlvbnMsXHJcbiAgICAgICAgICAgICAgICB2aWV3czogdC5fdmlld3MsXHJcbiAgICAgICAgICAgICAgICBjb25maWc6IHQuX2NvbmZpZyxcclxuICAgICAgICAgICAgICAgIHBhcmVudDogX3RoaXMsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbm5lY3RBcmdzLm1vZGVsc1tzdHJbMF1dID0gW1xyXG4gICAgICAgICAgICAgICAgeyBrZXk6IFwia2V5XCIsIHR5cGU6IFwic3RyaW5nXCIsIHByb3BzOiBbXCJwaygpXCIsIFwiYWkoKVwiXSB9LFxyXG4gICAgICAgICAgICAgICAgeyBrZXk6IFwidmFsdWVcIiwgdHlwZTogXCJhbnlcIiB9XHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIC8vIGlmIGhpc3RvcnkgaXMgZW5hYmxlZCwgdHVybiBvbiB0aGUgYnVpbHQgaW4gaGlzdG9yeSBwbHVnaW5cclxuICAgICAgICAgICAgaWYgKHQuX2NvbmZpZyAmJiB0Ll9jb25maWcuaGlzdG9yeSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudXNlKG5ldyBoaXN0b3J5X3BsdWdpbl8xLl9OYW5vU1FMSGlzdG9yeVBsdWdpbih0Ll9jb25maWcuaGlzdG9yeU1vZGUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBJZiB0aGUgZGIgbW9kZSBpcyBub3Qgc2V0IHRvIGRpc2FibGUsIGFkZCBkZWZhdWx0IHN0b3JlIHRvIHRoZSBlbmQgb2YgdGhlIHBsdWdpbiBjaGFpblxyXG4gICAgICAgICAgICBpZiAoIXQuX2NvbmZpZyB8fCB0Ll9jb25maWcubW9kZSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnVzZShuZXcgaW5kZXhfMS5OYW5vU1FMRGVmYXVsdEJhY2tlbmQoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdENIQUlOKF90aGlzLnBsdWdpbnMsIGZ1bmN0aW9uIChwLCBpLCBuZXh0UCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHAud2lsbENvbm5lY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBwLndpbGxDb25uZWN0KGNvbm5lY3RBcmdzLCBmdW5jdGlvbiAobmV3QXJncykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0QXJncyA9IG5ld0FyZ3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRQKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0UCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmRhdGFNb2RlbHMgPSBjb25uZWN0QXJncy5tb2RlbHM7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fYWN0aW9ucyA9IGNvbm5lY3RBcmdzLmFjdGlvbnM7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fdmlld3MgPSBjb25uZWN0QXJncy52aWV3cztcclxuICAgICAgICAgICAgICAgIF90aGlzLl9jb25maWcgPSBjb25uZWN0QXJncy5jb25maWc7XHJcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhfdGhpcy5kYXRhTW9kZWxzKS5mb3JFYWNoKGZ1bmN0aW9uICh0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBoYXNXaWxkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGF0YU1vZGVsc1t0YWJsZV0gPSBfdGhpcy5kYXRhTW9kZWxzW3RhYmxlXS5maWx0ZXIoZnVuY3Rpb24gKG1vZGVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2RlbC5rZXkgPT09IFwiKlwiICYmIG1vZGVsLnR5cGUgPT09IFwiKlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNXaWxkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5za2lwUHVyZ2VbdGFibGVdID0gaGFzV2lsZDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGx1Z2luLmRpZEV4ZWMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucGx1Z2luSGFzRGlkRXhlYyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0LnRhYmxlTmFtZXMgPSBPYmplY3Qua2V5cyhfdGhpcy5kYXRhTW9kZWxzKTtcclxuICAgICAgICAgICAgICAgIHZhciBjb21wbGV0ZUNvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChfdGhpcy5wbHVnaW5zLCBmdW5jdGlvbiAocCwgaSwgbmV4dFApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHAuZGlkQ29ubmVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcC5kaWRDb25uZWN0KGNvbm5lY3RBcmdzLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5pc0Nvbm5lY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fb25Db25uZWN0ZWRDYWxsQmFja3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fb25Db25uZWN0ZWRDYWxsQmFja3MuZm9yRWFjaChmdW5jdGlvbiAoY2IpIHsgcmV0dXJuIGNiKCk7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyh0LnRhYmxlTmFtZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHZhciB1cGRhdGVWZXJzaW9uID0gZnVuY3Rpb24gKHJlYnVpbGRJRFgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5xdWVyeShcInVwc2VydFwiLCB7IGtleTogXCJ2ZXJzaW9uXCIsIHZhbHVlOiBfdGhpcy52ZXJzaW9uIH0pLm1hbnVhbEV4ZWMoeyB0YWJsZTogXCJfdXRpbFwiIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVidWlsZElEWCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZXh0ZW5kKFwicmVidWlsZF9pZHhcIikudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVDb25uZWN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlQ29ubmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucXVlcnkoXCJzZWxlY3RcIikud2hlcmUoW1wia2V5XCIsIFwiPVwiLCBcInZlcnNpb25cIl0pLm1hbnVhbEV4ZWMoeyB0YWJsZTogXCJfdXRpbFwiIH0pLnRoZW4oZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5ldyBkYXRhYmFzZSBvciBhbiBvbGQgb25lIHRoYXQgbmVlZHMgaW5kZXhlcyByZWJ1aWx0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVZlcnNpb24odHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93c1swXS52YWx1ZSA8PSAxLjIxKSB7IC8vIHNlY29uZGFyeSBpbmRleGVzIG5lZWQgdG8gYmUgcmVidWlsdCBhZnRlciAxLjIxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVWZXJzaW9uKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJvd3NbMF0udmFsdWUgPCBWRVJTSU9OKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVWZXJzaW9uKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlQ29ubmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2V0IGFsbCBhY3Rpb25zIGZvciBhIGdpdmVuIHRhYmxlXHJcbiAgICAgKiA9XHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFibGVcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKiBAbWVtYmVyb2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUuZ2V0QWN0aW9ucyA9IGZ1bmN0aW9uICh0YWJsZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hY3Rpb25zW3RhYmxlXS5tYXAoZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IGEubmFtZSxcclxuICAgICAgICAgICAgICAgIGFyZ3M6IGEuYXJnc1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2V0IGFsbCB2aWV3cyBmb3IgYSBnaXZlbiB0YWJsZVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZVxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqIEBtZW1iZXJvZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5nZXRWaWV3cyA9IGZ1bmN0aW9uICh0YWJsZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92aWV3c1t0YWJsZV0ubWFwKGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBhLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBhcmdzOiBhLmFyZ3NcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdyYWIgYSBjb3B5IG9mIHRoZSBkYXRhYmFzZSBjb25maWcgb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKiBAbWVtYmVyb2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUuZ2V0Q29uZmlnID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWc7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIGFjdGlvbi92aWV3IGZpbHRlciBmdW5jdGlvbi4gIENhbGxlZCAqYmVmb3JlKiB0aGUgYWN0aW9uL3ZpZXcgaXMgc2VudCB0byB0aGUgZGF0YXN0b3JlXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtJQWN0aW9uVmlld01vZH0gZmlsdGVyRnVuY1xyXG4gICAgICogQHJldHVybnNcclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUuYXZGaWx0ZXIgPSBmdW5jdGlvbiAoZmlsdGVyRnVuYykge1xyXG4gICAgICAgIHRoaXMuX0FWTW9kID0gZmlsdGVyRnVuYztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uIChwbHVnaW4pIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wbHVnaW5zLnB1c2gocGx1Z2luKSwgdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgYW4gZXZlbnQgbGlzdGVuZXIgdG8gdGhlIHNlbGVjdGVkIGRhdGFiYXNlIHRhYmxlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7KFwiY2hhbmdlXCJ8XCJkZWxldGVcInxcInVwc2VydFwifFwiZHJvcFwifFwic2VsZWN0XCJ8XCJlcnJvclwiKX0gYWN0aW9uc1xyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbEJhY2tcclxuICAgICAqIEByZXR1cm5zIHtOYW5vU1FMSW5zdGFuY2V9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKGFjdGlvbnMsIGNhbGxCYWNrKSB7XHJcbiAgICAgICAgdmFyIHQgPSB0aGlzO1xyXG4gICAgICAgIHZhciBsID0gdC5zVGFibGU7XHJcbiAgICAgICAgdmFyIGkgPSB0Ll9ldmVudHMubGVuZ3RoO1xyXG4gICAgICAgIHZhciBhID0gYWN0aW9ucy5zcGxpdChcIiBcIik7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobCkpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIGlmICghdC5fY2FsbGJhY2tzW2xdKSB7IC8vIEhhbmRsZSB0aGUgZXZlbnQgaGFuZGxlciBiZWluZyBjYWxsZWQgYmVmb3JlIHRoZSBkYXRhYmFzZSBoYXMgY29ubmVjdGVkXHJcbiAgICAgICAgICAgIHQuX2NhbGxiYWNrc1tsXSA9IG5ldyByZWFsbHlfc21hbGxfZXZlbnRzXzEuUmVhbGx5U21hbGxFdmVudHMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaSA9IGEubGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgaWYgKHQuX2V2ZW50cy5pbmRleE9mKGFbaV0pICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgdC5fY2FsbGJhY2tzW2xdLm9uKGFbaV0sIGNhbGxCYWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdC5fcmVmcmVzaEV2ZW50Q2hlY2tlcigpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGEgc3BlY2lmaWMgZXZlbnQgaGFuZGxlciBmcm9tIGJlaW5nIHRyaWdnZXJlZCBhbnltb3JlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxCYWNrXHJcbiAgICAgKiBAcmV0dXJucyB7TmFub1NRTEluc3RhbmNlfVxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJPZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiAoYWN0aW9ucywgY2FsbEJhY2spIHtcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGEgPSBhY3Rpb25zLnNwbGl0KFwiIFwiKTtcclxuICAgICAgICB2YXIgaSA9IGEubGVuZ3RoO1xyXG4gICAgICAgIHZhciBsID0gdC5zVGFibGU7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobCkpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgaWYgKHQuX2V2ZW50cy5pbmRleE9mKGFbaV0pICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgdC5fY2FsbGJhY2tzW2xdLm9mZihhW2ldLCBjYWxsQmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQuX3JlZnJlc2hFdmVudENoZWNrZXIoKTtcclxuICAgIH07XHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLl9yZWZyZXNoRXZlbnRDaGVja2VyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5faGFzRXZlbnRzID0ge307XHJcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy5fY2FsbGJhY2tzKS5jb25jYXQoW1wiKlwiXSkuZm9yRWFjaChmdW5jdGlvbiAodGFibGUpIHtcclxuICAgICAgICAgICAgX3RoaXMuX2hhc0V2ZW50c1t0YWJsZV0gPSBfdGhpcy5fZXZlbnRzLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldiArIChfdGhpcy5fY2FsbGJhY2tzW3RhYmxlXSAmJiBfdGhpcy5fY2FsbGJhY2tzW3RhYmxlXS5ldmVudExpc3RlbmVyc1tjdXJdID8gX3RoaXMuX2NhbGxiYWNrc1t0YWJsZV0uZXZlbnRMaXN0ZW5lcnNbY3VyXS5sZW5ndGggOiAwKTtcclxuICAgICAgICAgICAgfSwgMCkgPiAwO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuaGFzQW55RXZlbnRzID0gZmFsc2U7XHJcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy5faGFzRXZlbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgX3RoaXMuaGFzQW55RXZlbnRzID0gX3RoaXMuaGFzQW55RXZlbnRzIHx8IF90aGlzLl9oYXNFdmVudHNba2V5XTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIERlY2xhcmUgdGhlIGRhdGEgbW9kZWwgZm9yIHRoZSBjdXJyZW50IHNlbGVjdGVkIHRhYmxlLlxyXG4gICAgICpcclxuICAgICAqIFBsZWFzZSByZWZlcmVuY2UgdGhlIERhdGFNb2RlbCBpbnRlcmZhY2UgZm9yIGhvdyB0byBpbXBsaW1lbnQgdGhpcywgYSBxdWljayBleGFtcGxlOlxyXG4gICAgICpcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAubW9kZWwoW1xyXG4gICAgICogIHtrZXk6XCJpZFwiLHR5cGU6XCJpbnRcIixwcm9wczpbXCJhaVwiLFwicGtcIl19IC8vYXV0byBpbmNyaW1lbnQgYW5kIHByaW1hcnkga2V5XHJcbiAgICAgKiAge2tleTpcIm5hbWVcIix0eXBlOlwic3RyaW5nXCJ9XHJcbiAgICAgKiBdKVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtBcnJheTxEYXRhTW9kZWw+fSBkYXRhTW9kZWxcclxuICAgICAqIEByZXR1cm5zIHtOYW5vU1FMSW5zdGFuY2V9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLm1vZGVsID0gZnVuY3Rpb24gKGRhdGFNb2RlbCwgcHJvcHMsIGlnbm9yZVNhbml0eUNoZWNrKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGwgPSB0LnNUYWJsZTtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsKSlcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgaWYgKCF0Ll9jYWxsYmFja3NbbF0pIHtcclxuICAgICAgICAgICAgdC5fY2FsbGJhY2tzW2xdID0gbmV3IHJlYWxseV9zbWFsbF9ldmVudHNfMS5SZWFsbHlTbWFsbEV2ZW50cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaGFzUEsgPSBmYWxzZTtcclxuICAgICAgICBpZiAoIWlnbm9yZVNhbml0eUNoZWNrKSB7XHJcbiAgICAgICAgICAgIC8vIHZhbGlkYXRlIHRhYmxlIG5hbWUgYW5kIGRhdGEgbW9kZWxcclxuICAgICAgICAgICAgdmFyIHR5cGVzID0gW1wic3RyaW5nXCIsIFwic2FmZXN0clwiLCBcInRpbWVJZFwiLCBcInRpbWVJZG1zXCIsIFwidXVpZFwiLCBcImludFwiLCBcImZsb2F0XCIsIFwibnVtYmVyXCIsIFwiYXJyYXlcIiwgXCJtYXBcIiwgXCJib29sXCIsIFwiYmxvYlwiLCBcImFueVwiXTtcclxuICAgICAgICAgICAgaWYgKHR5cGVzLmluZGV4T2YobC5yZXBsYWNlKC9cXFcvZ21pLCBcIlwiKSkgIT09IC0xIHx8IGwuaW5kZXhPZihcIl9cIikgPT09IDAgfHwgbC5tYXRjaCgvW1xcKFxcKVxcXVxcW1xcLl0vZykgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBUYWJsZSBOYW1lISBodHRwczovL2RvY3MubmFub3NxbC5pby9zZXR1cC9kYXRhLW1vZGVsc1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAoZGF0YU1vZGVsIHx8IFtdKS5mb3JFYWNoKGZ1bmN0aW9uIChtb2RlbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1vZGVsLmtleS5tYXRjaCgvW1xcKFxcKVxcXVxcW1xcLl0vZykgIT09IG51bGwgfHwgbW9kZWwua2V5LmluZGV4T2YoXCJfXCIpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIERhdGEgTW9kZWwhIGh0dHBzOi8vZG9jcy5uYW5vc3FsLmlvL3NldHVwL2RhdGEtbW9kZWxzXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdC50b0NvbFJ1bGVzW2xdID0ge307XHJcbiAgICAgICAgKGRhdGFNb2RlbCB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbiAobW9kZWwpIHtcclxuICAgICAgICAgICAgaWYgKG1vZGVsLnByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICBtb2RlbC5wcm9wcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gb2xkIGZvcm1hdDogZnJvbT0+Zm4oYXJnMSwgYXJnMik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AuaW5kZXhPZihcImZyb209PlwiKSAhPT0gLTEgJiYgcHJvcC5pbmRleE9mKFwiKFwiKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZuTmFtZSA9IHByb3AucmVwbGFjZShcImZyb209PlwiLCBcIlwiKS5zcGxpdChcIihcIikuc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZuQXJncyA9IHByb3AucmVwbGFjZShcImZyb209PlwiLCBcIlwiKS5zcGxpdChcIihcIikucG9wKCkucmVwbGFjZShcIilcIiwgXCJcIikuc3BsaXQoXCIsXCIpLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gYy50cmltKCk7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0LnRvQ29sUnVsZXNbbF1bbW9kZWwua2V5XSA9IFtmbk5hbWVdLmNvbmNhdChmbkFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBuZXcgZm9ybWF0OiB0b0NvbHVtbi5mbihhcmcxLCBhcmcyKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcC5pbmRleE9mKFwidG9Db2x1bW4uXCIpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmbk5hbWUgPSBwcm9wLnJlcGxhY2UoL3RvQ29sdW1uXFwuKC4qKVxcKC4qXFwpL2dtaSwgXCIkMVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZuQXJncyA9IHByb3AucmVwbGFjZSgvdG9Db2x1bW5cXC4uKlxcKCguKilcXCkvZ21pLCBcIiQxXCIpLnNwbGl0KFwiLFwiKS5tYXAoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMudHJpbSgpOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdC50b0NvbFJ1bGVzW2xdW21vZGVsLmtleV0gPSBbZm5OYW1lXS5jb25jYXQoZm5BcmdzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobW9kZWwucHJvcHMgJiYgdXRpbGl0aWVzXzEuaW50ZXJzZWN0KFtcInBrXCIsIFwicGsoKVwiXSwgbW9kZWwucHJvcHMpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50YWJsZVBLc1tsXSA9IG1vZGVsLmtleTtcclxuICAgICAgICAgICAgICAgIGhhc1BLID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuaGFzUEtbbF0gPSBoYXNQSztcclxuICAgICAgICBpZiAoIWhhc1BLKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGFibGVQS3NbbF0gPSBcIl9pZF9cIjtcclxuICAgICAgICAgICAgZGF0YU1vZGVsLnVuc2hpZnQoeyBrZXk6IFwiX2lkX1wiLCB0eXBlOiBcInV1aWRcIiwgcHJvcHM6IFtcInBrKClcIl0gfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHQuZGF0YU1vZGVsc1tsXSA9IGRhdGFNb2RlbDtcclxuICAgICAgICB0Ll92aWV3c1tsXSA9IFtdO1xyXG4gICAgICAgIHQuX2FjdGlvbnNbbF0gPSBbXTtcclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIERlY2xhcmUgdGhlIHZpZXdzIGZvciB0aGUgY3VycmVudCBzZWxlY3RlZCB0YWJsZS4gIE11c3QgYmUgY2FsbGVkIGJlZm9yZSBjb25uZWN0KClcclxuICAgICAqXHJcbiAgICAgKiBWaWV3cyBhcmUgY3JlYXRlZCBsaWtlIHRoaXM6XHJcbiAgICAgKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqIC52aWV3cyhbXHJcbiAgICAgKiAge1xyXG4gICAgICogICAgICBuYW1lOlwidmlldy1uYW1lXCIsXHJcbiAgICAgKiAgICAgIGFyZ3M6IFtcImFycmF5XCIsXCJvZlwiLFwiYXJndW1lbnRzXCJdLFxyXG4gICAgICogICAgICBjYWxsOiBmdW5jdGlvbihhcmdzKSB7XHJcbiAgICAgKiAgICAgICAgICAvLyBCZWNhdXNlIG9mIG91ciBcImFyZ3NcIiBhcnJheSB0aGUgYXJncyBpbnB1dCBvZiB0aGlzIGZ1bmN0aW9uIHdpbGwgbG9vayBsaWtlIHRoaXM6XHJcbiAgICAgKiAgICAgICAgICAvLyBOYW5vU1FMIHdpbGwgbm90IGxldCBhbnkgb3RoZXIgYXJndW1lbnRzIGludG8gdGhpcyBmdW5jdGlvbi5cclxuICAgICAqICAgICAgICAgIGFyZ3M6e1xyXG4gICAgICogICAgICAgICAgICAgIGFycmF5OicnLFxyXG4gICAgICogICAgICAgICAgICAgIG9mOicnLFxyXG4gICAgICogICAgICAgICAgICAgIGFyZ3VtZW50czonJ1xyXG4gICAgICogICAgICAgICAgfVxyXG4gICAgICogICAgICAgICAgLy9XZSBjYW4gdXNlIHRoZW0gaW4gb3VyIHF1ZXJ5XHJcbiAgICAgKiAgICAgICAgICByZXR1cm4gdGhpcy5xdWVyeSgnc2VsZWN0Jykud2hlcmUoWyduYW1lJywnSU4nLGFyZ3MuYXJyYXldKS5leGVjKCk7XHJcbiAgICAgKiAgICAgIH1cclxuICAgICAqICB9XHJcbiAgICAgKiBdKVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogVGhlbiBsYXRlciBpbiB5b3VyIGFwcC4uXHJcbiAgICAgKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqIE5hbm9TUUwoXCJ1c2Vyc1wiKS5nZXRWaWV3KFwidmlldy1uYW1lXCIse2FycmF5OicnLG9mOlwiXCIsYXJndW1lbnRzOlwiXCJ9KS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xyXG4gICAgICogIGNvbnNvbGUubG9nKHJlc3VsdCkgPD09PSByZXN1bHQgb2YgeW91ciB2aWV3IHdpbGwgYmUgdGhlcmUuXHJcbiAgICAgKiB9KVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogT3B0aW9uYWxseSB5b3UgY2FuIHR5cGUgY2FzdCB0aGUgYXJndW1lbnRzIGF0IHJ1biB0aW1lIHR5cGVzY3JpcHQgc3R5bGUsIGp1c3QgYWRkIHRoZSB0eXBlcyBhZnRlciB0aGUgYXJndW1lbnRzIGluIHRoZSBhcnJheS4gIExpa2UgdGhpczpcclxuICAgICAqXHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogLnZpZXdzW3tcclxuICAgICAqICAgICAgbmFtZTouLi5cclxuICAgICAqICAgICAgYXJnczpbXCJuYW1lOnN0cmluZ1wiLFwiYmFsYW5jZTpmbG9hdFwiLFwiYWN0aXZlOmJvb2xcIl1cclxuICAgICAqICAgICAgY2FsbDouLi5cclxuICAgICAqIH1dXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBOYW5vU1FMIHdpbGwgZm9yY2UgdGhlIGFyZ3VtZW50cyBwYXNzZWQgaW50byB0aGUgZnVuY3Rpb24gdG8gdGhvc2UgdHlwZXMuXHJcbiAgICAgKlxyXG4gICAgICogUG9zc2libGUgdHlwZXMgYXJlIHN0cmluZywgYm9vbCwgZmxvYXQsIGludCwgbWFwLCBhcnJheSBhbmQgYm9vbC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5PEFjdGlvbk9yVmlldz59IHZpZXdBcnJheVxyXG4gICAgICogQHJldHVybnMge05hbm9TUUxJbnN0YW5jZX1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUudmlld3MgPSBmdW5jdGlvbiAodmlld0FycmF5KSB7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5zVGFibGUpKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICByZXR1cm4gdGhpcy5fdmlld3NbdGhpcy5zVGFibGVdID0gdmlld0FycmF5LCB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRXhlY3V0ZSBhIHNwZWNpZmljIHZpZXcuICBSZWZlcm5lY2UgdGhlIFwidmlld3NcIiBmdW5jdGlvbiBmb3IgbW9yZSBkZXNjcmlwdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBFeGFtcGxlOlxyXG4gICAgICogYGBgdHNcclxuICAgICAqIE5hbm9TUUwoXCJ1c2Vyc1wiKS5nZXRWaWV3KCd2aWV3LW5hbWUnLHtmb286XCJiYXJcIn0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XHJcbiAgICAgKiAgY29uc29sZS5sb2cocmVzdWx0KSA8PT0gdmlldyByZXN1bHQuXHJcbiAgICAgKiB9KVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZpZXdOYW1lXHJcbiAgICAgKiBAcGFyYW0ge2FueX0gdmlld0FyZ3NcclxuICAgICAqIEByZXR1cm5zIHsoUHJvbWlzZTxBcnJheTxPYmplY3Q+Pil9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLmdldFZpZXcgPSBmdW5jdGlvbiAodmlld05hbWUsIHZpZXdBcmdzKSB7XHJcbiAgICAgICAgaWYgKHZpZXdBcmdzID09PSB2b2lkIDApIHsgdmlld0FyZ3MgPSB7fTsgfVxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuc1RhYmxlKSlcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyB1dGlsaXRpZXNfMS5Qcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikgeyByZXR1cm4gcmVqKCk7IH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kb0FWKFwiVmlld1wiLCB0aGlzLl92aWV3c1t0aGlzLnNUYWJsZV0sIHZpZXdOYW1lLCB2aWV3QXJncyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBEZWNsYXJlIHRoZSBhY3Rpb25zIGZvciB0aGUgY3VycmVudCBzZWxlY3RlZCB0YWJsZS4gIE11c3QgYmUgY2FsbGVkIGJlZm9yZSBjb25uZWN0KClcclxuICAgICAqXHJcbiAgICAgKiBBY3Rpb25zIGFyZSBjcmVhdGVkIGxpa2UgdGhpczpcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAuYWN0aW9ucyhbXHJcbiAgICAgKiAge1xyXG4gICAgICogICAgICBuYW1lOlwiYWN0aW9uLW5hbWVcIixcclxuICAgICAqICAgICAgYXJnczogW1wiYXJyYXlcIixcIm9mXCIsXCJhcmd1bWVudHNcIl0sXHJcbiAgICAgKiAgICAgIGNhbGw6IGZ1bmN0aW9uKGFyZ3MpIHtcclxuICAgICAqICAgICAgICAgIC8vIEJlY2F1c2Ugb2Ygb3VyIFwiYXJnc1wiIGFycmF5IHRoZSBhcmdzIGlucHV0IG9mIHRoaXMgZnVuY3Rpb24gd2lsbCBsb29rIGxpa2UgdGhpczpcclxuICAgICAqICAgICAgICAgIC8vIE5hbm9TUUwgd2lsbCBub3QgbGV0IGFueSBvdGhlciBhcmd1bWVudHMgaW50byB0aGlzIGZ1bmN0aW9uLlxyXG4gICAgICogICAgICAgICAgYXJnczp7XHJcbiAgICAgKiAgICAgICAgICAgICAgYXJyYXk6JycsXHJcbiAgICAgKiAgICAgICAgICAgICAgb2Y6JycsXHJcbiAgICAgKiAgICAgICAgICAgICAgYXJndW1lbnRzOicnXHJcbiAgICAgKiAgICAgICAgICB9XHJcbiAgICAgKiAgICAgICAgICAvL1dlIGNhbiB1c2UgdGhlbSBpbiBvdXIgcXVlcnlcclxuICAgICAqICAgICAgICAgIHJldHVybiB0aGlzLnF1ZXJ5KFwidXBzZXJ0XCIse2JhbGFuY2U6MH0pLndoZXJlKFsnbmFtZScsJ0lOJyxhcmdzLmFycmF5XSkuZXhlYygpO1xyXG4gICAgICogICAgICB9XHJcbiAgICAgKiAgfVxyXG4gICAgICogXSlcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIFRoZW4gbGF0ZXIgaW4geW91ciBhcHAuLlxyXG4gICAgICpcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiBOYW5vU1FMKFwidXNlcnNcIikuZG9BY3Rpb24oXCJhY3Rpb24tbmFtZVwiLHthcnJheTonJyxvZjpcIlwiLGFyZ3VtZW50czpcIlwifSkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcclxuICAgICAqICBjb25zb2xlLmxvZyhyZXN1bHQpIDw9PT0gcmVzdWx0IG9mIHlvdXIgdmlldyB3aWxsIGJlIHRoZXJlLlxyXG4gICAgICogfSlcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIE9wdGlvbmFsbHkgeW91IGNhbiB0eXBlIGNhc3QgdGhlIGFyZ3VtZW50cyBhdCBydW4gdGltZSB0eXBlc2NyaXB0IHN0eWxlLCBqdXN0IGFkZCB0aGUgdHlwZXMgYWZ0ZXIgdGhlIGFyZ3VtZW50cyBpbiB0aGUgYXJyYXkuICBMaWtlIHRoaXM6XHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogLmFjdGlvbnNbe1xyXG4gICAgICogICAgICBuYW1lOi4uLlxyXG4gICAgICogICAgICBhcmdzOltcIm5hbWU6c3RyaW5nXCIsXCJiYWxhbmNlOmZsb2F0XCIsXCJhY3RpdmU6Ym9vbFwiXVxyXG4gICAgICogICAgICBjYWxsOi4uLlxyXG4gICAgICogfV1cclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIE5hbm9TUUwgd2lsbCBmb3JjZSB0aGUgYXJndW1lbnRzIHBhc3NlZCBpbnRvIHRoZSBmdW5jdGlvbiB0byB0aG9zZSB0eXBlcy5cclxuICAgICAqXHJcbiAgICAgKiBQb3NzaWJsZSB0eXBlcyBhcmUgc3RyaW5nLCBib29sLCBmbG9hdCwgaW50LCBtYXAsIGFycmF5IGFuZCBib29sLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7QXJyYXk8QWN0aW9uT3JWaWV3Pn0gYWN0aW9uQXJyYXlcclxuICAgICAqIEByZXR1cm5zIHtOYW5vU1FMSW5zdGFuY2V9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLmFjdGlvbnMgPSBmdW5jdGlvbiAoYWN0aW9uQXJyYXkpIHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnNUYWJsZSkpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hY3Rpb25zW3RoaXMuc1RhYmxlXSA9IGFjdGlvbkFycmF5LCB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSW5pdCBhbiBhY3Rpb24gZm9yIHRoZSBjdXJyZW50IHNlbGVjdGVkIHRhYmxlLiBSZWZlcmVuY2UgdGhlIFwiYWN0aW9uc1wiIG1ldGhvZCBmb3IgbW9yZSBpbmZvLlxyXG4gICAgICpcclxuICAgICAqIEV4YW1wbGU6XHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogTmFub1NRTChcInVzZXJzXCIpLmRvQWN0aW9uKCdhY3Rpb24tbmFtZScse2ZvbzpcImJhclwifSkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcclxuICAgICAqICAgICAgY29uc29sZS5sb2cocmVzdWx0KSA8PT0gcmVzdWx0IG9mIHlvdXIgYWN0aW9uXHJcbiAgICAgKiB9KTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb25OYW1lXHJcbiAgICAgKiBAcGFyYW0ge2FueX0gYWN0aW9uQXJnc1xyXG4gICAgICogQHJldHVybnMgeyhQcm9taXNlPEFycmF5PE9iamVjdD4+KX1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUuZG9BY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uTmFtZSwgYWN0aW9uQXJncykge1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuc1RhYmxlKSlcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyB1dGlsaXRpZXNfMS5Qcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikgeyByZXR1cm4gcmVqKCk7IH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kb0FWKFwiQWN0aW9uXCIsIHRoaXMuX2FjdGlvbnNbdGhpcy5zVGFibGVdLCBhY3Rpb25OYW1lLCBhY3Rpb25BcmdzKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgYSBxdWVyeSBmaWx0ZXIgdG8gZXZlcnkgcmVxdWVzdC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geyhhcmdzOiBEQkV4ZWMsIGNvbXBsZXRlOihhcmdzOiBEQkV4ZWMpID0+IHZvaWQpID0+IHZvaWR9IGNhbGxCYWNrXHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLnF1ZXJ5RmlsdGVyID0gZnVuY3Rpb24gKGNhbGxCYWNrKSB7XHJcbiAgICAgICAgdGhpcy5xdWVyeU1vZCA9IGNhbGxCYWNrO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSW50ZXJuYWwgZnVuY3Rpb24gdG8gZmlyZSBhY3Rpb24vdmlld3MuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBwYXJhbSB7KFwiQWN0aW9uXCJ8XCJWaWV3XCIpfSBBVlR5cGVcclxuICAgICAqIEBwYXJhbSB7QWN0aW9uT3JWaWV3W119IEFWTGlzdFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IEFWTmFtZVxyXG4gICAgICogQHBhcmFtIHsqfSBBVmFyZ3NcclxuICAgICAqIEByZXR1cm5zIHsoUHJvbWlzZTxBcnJheTxEQlJvdz58TmFub1NRTEluc3RhbmNlPil9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLl9kb0FWID0gZnVuY3Rpb24gKEFWVHlwZSwgQVZMaXN0LCBBVk5hbWUsIEFWYXJncykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHQgPSB0aGlzO1xyXG4gICAgICAgIHZhciBzZWxBViA9IEFWTGlzdC5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGN1cikge1xyXG4gICAgICAgICAgICBpZiAoY3VyLm5hbWUgPT09IEFWTmFtZSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdXI7XHJcbiAgICAgICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICAgIH0sIG51bGwpO1xyXG4gICAgICAgIGlmICghc2VsQVYpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyB1dGlsaXRpZXNfMS5Qcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikgeyByZXR1cm4gcmVqKFwiQWN0aW9uL1ZpZXcgTm90IEZvdW5kIVwiKTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHQuX2FjdGl2ZUFWID0gQVZOYW1lO1xyXG4gICAgICAgIGlmICh0Ll9BVk1vZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IHV0aWxpdGllc18xLlByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XHJcbiAgICAgICAgICAgICAgICB0Ll9BVk1vZChfdGhpcy5zVGFibGUsIEFWVHlwZSwgdC5fYWN0aXZlQVYgfHwgXCJcIiwgQVZhcmdzLCBmdW5jdGlvbiAoYXJncykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbEFWLmNhbGwoc2VsQVYuYXJncyA/IHV0aWxpdGllc18xLmNsZWFuQXJncyhzZWxBVi5hcmdzLCBhcmdzKSA6IHt9LCB0KS50aGVuKHJlcykuY2F0Y2gocmVqKTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZWooZXJyKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzZWxBVi5jYWxsKHNlbEFWLmFyZ3MgPyB1dGlsaXRpZXNfMS5jbGVhbkFyZ3Moc2VsQVYuYXJncywgQVZhcmdzKSA6IHt9LCB0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTdGFydCBhIHF1ZXJ5IGludG8gdGhlIGN1cnJlbnQgc2VsZWN0ZWQgdGFibGUuXHJcbiAgICAgKiBQb3NzaWJsIHF1ZXJ5cyBhcmUgXCJzZWxlY3RcIiwgXCJ1cHNlcnRcIiwgXCJkZWxldGVcIiwgYW5kIFwiZHJvcFwiO1xyXG4gICAgICpcclxuICAgICAqICMjIyBTZWxlY3RcclxuICAgICAqXHJcbiAgICAgKiBTZWxlY3QgaXMgdXNlZCB0byBwdWxsIGEgc2V0IG9mIHJvd3Mgb3Igb3RoZXIgZGF0YSBmcm9tIHRoZSB0YWJsZS5cclxuICAgICAqIFdoZW4geW91IHVzZSBzZWxlY3QgdGhlIG9wdGlvbmFsIHNlY29uZCBhcmd1bWVudCBvZiB0aGUgcXVlcnkgaXMgYW4gYXJyYXkgb2Ygc3RyaW5ncyB0aGF0IGFsbG93IHlvdSB0byBzaG93IG9ubHkgc3BlY2lmaWMgY29sdW1ucy5cclxuICAgICAqXHJcbiAgICAgKiBFeGFtcGxlczpcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAucXVlcnkoXCJzZWxlY3RcIikgLy8gTm8gYXJndW1lbnRzLCBzZWxlY3QgYWxsIGNvbHVtbnNcclxuICAgICAqIC5xdWVyeShcInNlbGVjdFwiLFsndXNlcm5hbWUnXSkgLy8gb25seSBnZXQgdGhlIHVzZXJuYW1lIGNvbHVtblxyXG4gICAgICogLnF1ZXJ5KFwic2VsZWN0XCIsW1widXNlcm5hbWVcIixcImJhbGFuY2VcIl0pIC8vR2V0IHR3byBjb2x1bW5zLCB1c2VybmFtZSBhbmQgYmFsYW5jZS5cclxuICAgICAqIC5xdWVyeShcInNlbGVjdFwiLFtcImNvdW50KCopXCJdKSAvL0dldCB0aGUgbGVuZ3RoIG9mIHJlY29yZHMgaW4gdGhlIGRhdGFiYXNlXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiAjIyMgVXBzZXJ0XHJcbiAgICAgKlxyXG4gICAgICogVXBzZXJ0IGlzIHVzZWQgdG8gYWRkIG9yIG1vZGlmeSBkYXRhIGluIHRoZSBkYXRhYmFzZS5cclxuICAgICAqIElmIHRoZSBwcmltYXJ5IGtleSByb3dzIGFyZSBudWxsIG9yIHVuZGVmaW5lZCwgdGhlIGRhdGEgd2lsbCBhbHdheXMgYmUgYWRkZWQgaW4gYSBuZXcgcm93LiBPdGhlcndpc2UsIHlvdSBtaWdodCBiZSB1cGRhdGluZyBleGlzdGluZyByb3dzLlxyXG4gICAgICogVGhlIHNlY29uZCBhcmd1bWVudCBvZiB0aGUgcXVlcnkgd2l0aCB1cHNlcnRzIGlzIGFsd2F5cyBhbiBPYmplY3Qgb2YgdGhlIGRhdGEgdG8gdXBzZXJ0LlxyXG4gICAgICpcclxuICAgICAqIEV4YW1wbGVzOlxyXG4gICAgICogYGBgdHNcclxuICAgICAqIC5xdWVyeShcInVwc2VydFwiLHtpZDoxLCB1c2VybmFtZTpcIlNjb3R0XCJ9KSAvL0lmIHJvdyBJRCAxIGV4aXN0cywgc2V0IHRoZSB1c2VybmFtZSB0byBzY290dCwgb3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyByb3cgd2l0aCB0aGlzIGRhdGEuXHJcbiAgICAgKiAucXVlcnkoXCJ1cHNlcnRcIix7dXNlcm5hbWU6XCJTY290dFwifSkgLy9BZGQgYSBuZXcgcm93IHRvIHRoZSBkYiB3aXRoIHRoaXMgdXNlcm5hbWUgaW4gdGhlIHJvdy5cclxuICAgICAqIC5xdWVyeShcInVwc2VydFwiLHtiYWxhbmNlOi0zNX0pLndoZXJlKFtcImJhbGFuY2VcIixcIjxcIiwwXSkgLy8gSWYgeW91IHVzZSBhIFdIRVJFIHN0YXRlbWVudCB0aGlzIGRhdGEgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSByb3dzIGZvdW5kIHdpdGggdGhlIHdoZXJlIHN0YXRlbWVudC5cclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqICMjIyBEZWxldGVcclxuICAgICAqXHJcbiAgICAgKiBEZWxldGUgaXMgdXNlZCB0byByZW1vdmUgZGF0YSBmcm9tIHRoZSBkYXRhYmFzZS5cclxuICAgICAqIEl0IHdvcmtzIGV4YWN0bHkgbGlrZSBzZWxlY3QsIGV4Y2VwdCBpdCByZW1vdmVzIGRhdGEgaW5zdGVhZCBvZiBzZWxlY3RpbmcgaXQuICBUaGUgc2Vjb25kIGFyZ3VtZW50IGlzIGFuIGFycmF5IG9mIGNvbHVtbnMgdG8gY2xlYXIuICBJZiBubyBzZWNvbmQgYXJndW1lbnQgaXMgcGFzc2VkLCB0aGUgZW50aXJlIHJvdyBpcyBkZWxldGVkLlxyXG4gICAgICogSWYgbm8gd2hlcmUgYXJndW1lbnQgaXMgcGFzc2VkLCB0aGUgZW50aXJlIHRhYmxlIGlzIGRyb3BwZWRcclxuICAgICAqXHJcbiAgICAgKiBFeGFtcGxlczpcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAucXVlcnkoXCJkZWxldGVcIixbJ2JhbGFuY2UnXSkgLy9DbGVhciB0aGUgY29udGVudHMgb2YgdGhlIGJhbGFuY2UgY29sdW1uIG9uIEFMTCByb3dzLlxyXG4gICAgICogLnF1ZXJ5KFwiZGVsZXRlXCIsWydjb21tZW50cyddKS53aGVyZShbXCJhY2NvdW50VHlwZVwiLFwiPVwiLFwic3BhbW1lclwiXSkgLy8gSWYgYSB3aGVyZSBzdGF0bWVudCBpcyBwYXNzZWQgeW91J2xsIG9ubHkgY2xlYXIgdGhlIGNvbHVtbnMgb2YgdGhlIHJvd3Mgc2VsZWN0ZWQgYnkgdGhlIHdoZXJlIHN0YXRlbWVudC5cclxuICAgICAqIC5xdWVyeShcImRlbGV0ZVwiKS53aGVyZShbXCJiYWxhbmNlXCIsXCI8XCIsMF0pIC8vIHJlbW92ZSBhbGwgcm93cyB3aXRoIGEgYmFsYW5jZSBsZXNzIHRoYW4gemVyb1xyXG4gICAgICogLnF1ZXJ5KFwiZGVsZXRlXCIpIC8vIFNhbWUgYXMgZHJvcCBzdGF0ZW1lbnRcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqICMjIyBEcm9wXHJcbiAgICAgKlxyXG4gICAgICogRHJvcCBpcyB1c2VkIHRvIGNvbXBsZXRlbHkgY2xlYXIgdGhlIGNvbnRlbnRzIG9mIGEgZGF0YWJhc2UuICBUaGVyZSBhcmUgbm8gYXJndW1lbnRzLlxyXG4gICAgICpcclxuICAgICAqIERyb3AgRXhhbXBsZXM6XHJcbiAgICAgKiBgYGB0c1xyXG4gICAgICogLnF1ZXJ5KFwiZHJvcFwiKVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsoXCJzZWxlY3RcInxcInVwc2VydFwifFwiZGVsZXRlXCJ8XCJkcm9wXCIpfSBhY3Rpb25cclxuICAgICAqIEBwYXJhbSB7YW55fSBbYXJnc11cclxuICAgICAqIEByZXR1cm5zIHtOYW5vU1FMSW5zdGFuY2V9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLnF1ZXJ5ID0gZnVuY3Rpb24gKGFjdGlvbiwgYXJncykge1xyXG4gICAgICAgIC8qbGV0IHQgPSB0aGlzO1xyXG4gICAgICAgIHQuX3F1ZXJ5UHRyKys7XHJcbiAgICAgICAgaWYgKHQuX3F1ZXJ5UHRyID4gdC5fcXVlcnlQb29sLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgdC5fcXVlcnlQdHIgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhdiA9IHQuX2FjdGl2ZUFWO1xyXG4gICAgICAgIHQuX2FjdGl2ZUFWID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHJldHVybiB0Ll9xdWVyeVBvb2xbdC5fcXVlcnlQdHJdLnNldCh0LnNUYWJsZSwgYWN0aW9uLnRvTG93ZXJDYXNlKCksIGFyZ3MsIGF2KTsqL1xyXG4gICAgICAgIHZhciB0ID0gdGhpcztcclxuICAgICAgICB2YXIgYXYgPSB0Ll9hY3RpdmVBVjtcclxuICAgICAgICB0Ll9hY3RpdmVBViA9IHVuZGVmaW5lZDtcclxuICAgICAgICByZXR1cm4gbmV3IHN0ZF9xdWVyeV8xLl9OYW5vU1FMUXVlcnkodGhpcywgdGhpcy5zVGFibGUsIGFjdGlvbiwgYXJncywgYXYpO1xyXG4gICAgfTtcclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUub25Db25uZWN0ZWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAodGhpcy5pc0Nvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fb25Db25uZWN0ZWRDYWxsQmFja3MucHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVHJpZ2dlciBhIGRhdGFiYXNlIGV2ZW50XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtEYXRhYmFzZUV2ZW50fSBldmVudERhdGFcclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUudHJpZ2dlckV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50RGF0YSkge1xyXG4gICAgICAgIHZhciB0ID0gdGhpcztcclxuICAgICAgICBpZiAodC5faGFzRXZlbnRzW1wiKlwiXSB8fCB0Ll9oYXNFdmVudHNbZXZlbnREYXRhLnRhYmxlXSkge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnREYXRhLnRhYmxlID09PSBcIipcIilcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICBsaWVfdHNfMS5zZXRGYXN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjO1xyXG4gICAgICAgICAgICAgICAgZXZlbnREYXRhLnR5cGVzLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0cmlnZ2VyIHdpbGRjYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgdC5fY2FsbGJhY2tzW1wiKlwiXS50cmlnZ2VyKHR5cGUsIGV2ZW50RGF0YSwgdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdC5fY2FsbGJhY2tzW1wiKlwiXS50cmlnZ2VyKFwiKlwiLCBldmVudERhdGEsIHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRyaWdnZXIgc3BlY2lmaWMgdGFibGVcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnREYXRhLnRhYmxlICYmIHQuX2NhbGxiYWNrc1tldmVudERhdGEudGFibGVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHQuX2NhbGxiYWNrc1tldmVudERhdGEudGFibGVdLnRyaWdnZXIodHlwZSwgZXZlbnREYXRhLCB0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIGRlZmF1bHQgb2JqZWN0IGZvciB0aGUgY3VycmVudCB0YWJsZSdzIGRhdGEgbW9kZWwsIHVzZWZ1bCBmb3IgZm9ybXMuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIG9wdGlvbmFsIGFyZ3VtZW50IGxldHMgeW91IHBhc3MgaW4gYW4gb2JqZWN0IHRvIG92ZXIgd3JpdGUgdGhlIGRhdGEgbW9kZWwncyBkZWZhdWx0cyBhcyBkZXNpcmVkLlxyXG4gICAgICpcclxuICAgICAqIEV4YW1wbGVzOlxyXG4gICAgICpcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiBjb25zb2xlLmxvZyhOYW5vU1FMKFwidXNlcnNcIikuZGVmYXVsdCgpKSA8PSB7dXNlcm5hbWU6XCJub25lXCIsIGlkOnVuZGVmaW5lZCwgYWdlOiAwfVxyXG4gICAgICogY29uc29sZS5sb2coTmFub1NRTChcInVzZXJzXCIpLmRlZmF1bHQoe3VzZXJuYW1lOlwiZGVmYWx0XCJ9KSkgPD0ge3VzZXJuYW1lOlwiZGVmYXVsdFwiLCBpZDp1bmRlZmluZWQsIGFnZTogMH1cclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIERPIE5PVCB1c2UgdGhpcyBpbnNpZGUgdXBzZXJ0IGNvbW1hbmRzIGxpa2UgYC5xdWVyeShcInVwc2VydFwiLE5hbm9TUUwoXCJ1c2Vyc1wiKS5kZWZhbHQoe3VzZXJPYmp9KSkuLmAuXHJcbiAgICAgKiBUaGUgZGF0YWJhc2UgZGVmYXVsdHMgYXJlIGFscmVhZHkgYXBwbGllZCB0aHJvdWdoIHRoZSB1cHNlcnQgcGF0aCwgeW91J2xsIGJlIGRvaW5nIGRvdWJsZSB3b3JrLlxyXG4gICAgICpcclxuICAgICAqIE9ubHkgdXNlIHRoaXMgdG8gcHVsbCBkZWZhdWx0IHZhbHVlcyBpbnRvIGEgZm9ybSBpbiB5b3VyIFVJIG9yIHNpbWlsYXIgc2l0dWF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7Kn0gW3JlcGxhY2VPYmpdXHJcbiAgICAgKiBAcmV0dXJucyB7e1trZXk6IHN0cmluZ106IGFueX19XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLmRlZmF1bHQgPSBmdW5jdGlvbiAocmVwbGFjZU9iaikge1xyXG4gICAgICAgIHZhciBuZXdPYmogPSB7fTtcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodC5zVGFibGUpKVxyXG4gICAgICAgICAgICByZXR1cm4ge307XHJcbiAgICAgICAgdC5kYXRhTW9kZWxzW3Quc1RhYmxlXS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7XHJcbiAgICAgICAgICAgIC8vIHNldCBrZXkgdG8gb2JqZWN0IGFyZ3VtZW50IG9yIHRoZSBkZWZhdWx0IHZhbHVlIGluIHRoZSBkYXRhIG1vZGVsXHJcbiAgICAgICAgICAgIG5ld09ialttLmtleV0gPSAocmVwbGFjZU9iaiAmJiByZXBsYWNlT2JqW20ua2V5XSkgPyByZXBsYWNlT2JqW20ua2V5XSA6IG0uZGVmYXVsdDtcclxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgZGVmYXVsdCB2YWx1ZSBmcm9tIHR5cGUsIGVnIGludCA9IDAsIHN0cmluZyA9IFwiXCJcclxuICAgICAgICAgICAgaWYgKG5ld09ialttLmtleV0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgbmV3T2JqW20ua2V5XSA9IHV0aWxpdGllc18xLmNhc3QobS50eXBlLCBudWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBuZXdPYmo7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIHJhdyBjb250ZW50cyBvZiB0aGUgZGF0YWJhc2UsIHByb3ZpZGVzIGFsbCB0YWJsZXMuXHJcbiAgICAgKlxyXG4gICAgICogT3B0aW9uYWxseSBwYXNzIGluIHRoZSB0YWJsZXMgdG8gZXhwb3J0LiAgSWYgbm8gdGFibGVzIGFyZSBwcm92aWRlZCB0aGVuIGFsbCB0YWJsZXMgd2lsbCBiZSBkdW1wZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqIEBtZW1iZXJvZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5yYXdEdW1wID0gZnVuY3Rpb24gKHRhYmxlcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyB1dGlsaXRpZXNfMS5Qcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RDSEFJTihfdGhpcy5wbHVnaW5zLCBmdW5jdGlvbiAocGx1Z2luLCBpLCBuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luLmR1bXBUYWJsZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBwbHVnaW4uZHVtcFRhYmxlcyh0YWJsZXMpLnRoZW4oZnVuY3Rpb24gKHRhYmxlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBfX2Fzc2lnbih7fSwgcmVzdWx0LCB0YWJsZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmVzKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSW1wb3J0IHRhYmxlIGRhdGEgZGlyZWN0bHkgaW50byB0aGUgZGF0YXRhYmFzZS5cclxuICAgICAqIFNpZ25pZmluY2F0bHkgZmFzdGVyIHRoYW4gLmxvYWRKUyBidXQgZG9lc24ndCBkbyB0eXBlIGNoZWNraW5nLCBpbmRleGluZyBvciBhbnl0aGluZyBlbHNlIGZhbmN5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7e1t0YWJsZTogc3RyaW5nXTogREJSb3dbXX19IHRhYmxlc1xyXG4gICAgICogQHJldHVybnNcclxuICAgICAqIEBtZW1iZXJvZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5yYXdJbXBvcnQgPSBmdW5jdGlvbiAodGFibGVzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gbmV3IHV0aWxpdGllc18xLlByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XHJcbiAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RDSEFJTihfdGhpcy5wbHVnaW5zLCBmdW5jdGlvbiAocGx1Z2luLCBpLCBuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luLmltcG9ydFRhYmxlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5pbXBvcnRUYWJsZXModGFibGVzKS50aGVuKG5leHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJlcygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlcXVlc3QgZGlzY29ubmVjdCBmcm9tIGFsbCBkYXRhYmFzZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqIEBtZW1iZXJvZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgTmFub1NRTEluc3RhbmNlLnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB1dGlsaXRpZXNfMS5mYXN0Q0hBSU4odGhpcy5wbHVnaW5zLCBmdW5jdGlvbiAocGx1Z2luLCBpLCBuZXh0KSB7XHJcbiAgICAgICAgICAgIGlmIChwbHVnaW4ud2lsbERpc2Nvbm5lY3QpIHtcclxuICAgICAgICAgICAgICAgIHBsdWdpbi53aWxsRGlzY29ubmVjdChuZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRXhlY3V0ZXMgYSB0cmFuc2FjdGlvbiBhZ2FpbnN0IHRoZSBkYXRhYmFzZSwgYmF0Y2hpbmcgYWxsIHRoZSBxdWVyaWVzIHRvZ2V0aGVyLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7KChcclxuICAgICAqICAgICAgICAgZGI6ICh0YWJsZT86IHN0cmluZykgPT4ge1xyXG4gICAgICogICAgICAgICAgICAgcXVlcnk6IChhY3Rpb246IFwic2VsZWN0XCJ8XCJ1cHNlcnRcInxcImRlbGV0ZVwifFwiZHJvcFwifFwic2hvdyB0YWJsZXNcInxcImRlc2NyaWJlXCIsIGFyZ3M/OiBhbnkpID0+IF9OYW5vU1FMVHJhbnNhY3Rpb25RdWVyeTtcclxuICAgICAqICAgICAgICAgICAgIHVwZGF0ZU9STTogKGFjdGlvbjogXCJhZGRcInxcImRlbGV0ZVwifFwiZHJvcFwifFwic2V0XCIsIGNvbHVtbj86IHN0cmluZywgcmVsYXRpb25JRHM/OiBhbnlbXSkgPT4gX05hbm9TUUxUcmFuc2FjdGlvbk9STVF1ZXJ5fHVuZGVmaW5lZDtcclxuICAgICAqICAgICAgICAgfSwgY29tcGxldGU6ICgpID0+IHZvaWQpID0+IHZvaWQpfSBpbml0VHJhbnNhY3Rpb25cclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlcm9mIE5hbm9TUUxJbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBOYW5vU1FMSW5zdGFuY2UucHJvdG90eXBlLmRvVHJhbnNhY3Rpb24gPSBmdW5jdGlvbiAoaW5pdFRyYW5zYWN0aW9uKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHF1ZXJpZXMgPSBbXTtcclxuICAgICAgICB2YXIgdHJhbnNhY3Rpb25JRCA9IHV0aWxpdGllc18xLnJhbmRvbTE2Qml0cygpLnRvU3RyaW5nKDE2KTtcclxuICAgICAgICByZXR1cm4gbmV3IHV0aWxpdGllc18xLlByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICBpZiAoIXQucGx1Z2lucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJlamVjdChcIk5vdGhpbmcgdG8gZG8sIG5vIHBsdWdpbnMhXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RDSEFJTih0LnBsdWdpbnMsIGZ1bmN0aW9uIChwLCBpLCBuZXh0UCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHAudHJhbnNhY3Rpb25CZWdpbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHAudHJhbnNhY3Rpb25CZWdpbih0cmFuc2FjdGlvbklELCBuZXh0UCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0UCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHQuc1RhYmxlKSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBpbml0VHJhbnNhY3Rpb24oZnVuY3Rpb24gKHRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhID0gdGFibGUgfHwgdC5zVGFibGU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IGZ1bmN0aW9uIChhY3Rpb24sIGFyZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgdHJhbnNhY3Rpb25fMS5fTmFub1NRTFRyYW5zYWN0aW9uUXVlcnkoYWN0aW9uLCBhcmdzLCB0YSwgcXVlcmllcywgdHJhbnNhY3Rpb25JRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0Q0hBSU4ocXVlcmllcywgZnVuY3Rpb24gKHF1ZXIsIGksIG5leHRRdWVyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZXMucHVzaChxdWVyLnRhYmxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdC5xdWVyeShxdWVyLmFjdGlvbiwgcXVlci5hY3Rpb25BcmdzKS5tYW51YWxFeGVjKF9fYXNzaWduKHt9LCBxdWVyLCB7IHRhYmxlOiBxdWVyLnRhYmxlLCB0cmFuc2FjdGlvbjogdHJ1ZSwgcXVlcnlJRDogdHJhbnNhY3Rpb25JRCB9KSkudGhlbihuZXh0UXVlcnkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdENIQUlOKF90aGlzLnBsdWdpbnMsIGZ1bmN0aW9uIChwLCBpLCBuZXh0UCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHAudHJhbnNhY3Rpb25FbmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwLnRyYW5zYWN0aW9uRW5kKHRyYW5zYWN0aW9uSUQsIG5leHRQKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRQKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVzLmZpbHRlcihmdW5jdGlvbiAodmFsLCBpZHgsIHNlbGYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5pbmRleE9mKHZhbCkgPT09IGlkeDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhYmxlLmluZGV4T2YoXCJfXCIpICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQudHJpZ2dlckV2ZW50KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyaWVzWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGU6IHRhYmxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IHJlc3VsdHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlczogW1widHJhbnNhY3Rpb25cIl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25PclZpZXc6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RlczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbklEOiB0cmFuc2FjdGlvbklELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZmZWN0ZWRSb3dQS1M6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZmZWN0ZWRSb3dzOiBbXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ29uZmlndXJlIHRoZSBkYXRhYmFzZSBkcml2ZXIsIG11c3QgYmUgY2FsbGVkIGJlZm9yZSB0aGUgY29ubmVjdCgpIG1ldGhvZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge2FueX0gYXJnc1xyXG4gICAgICogQHJldHVybnMge05hbm9TUUxJbnN0YW5jZX1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUuY29uZmlnID0gZnVuY3Rpb24gKGFyZ3MpIHtcclxuICAgICAgICB0aGlzLl9jb25maWcgPSBhcmdzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUGVyZm9ybSBhIGN1c3RvbSBhY3Rpb24gc3VwcG9ydGVkIGJ5IHRoZSBkYXRhYmFzZSBkcml2ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsuLi5BcnJheTxhbnk+fSBhcmdzXHJcbiAgICAgKiBAcmV0dXJucyB7Kn1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyB1dGlsaXRpZXNfMS5Qcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikge1xyXG4gICAgICAgICAgICBpZiAodC5wbHVnaW5zLmxlbmd0aCkgeyAvLyBRdWVyeSBNb2RlXHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3QXJnc18xID0gYXJncztcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHRfMSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdENIQUlOKHQucGx1Z2lucywgZnVuY3Rpb24gKHAsIGksIG5leHRQKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHAuZXh0ZW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHAuZXh0ZW5kKGZ1bmN0aW9uIChuQXJncywgbmV3UmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdBcmdzXzEgPSBuQXJncztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdF8xID0gbmV3UmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgbmV3QXJnc18xLCByZXN1bHRfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0UCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcyhyZXN1bHRfMSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlaihcIk5vIHBsdWdpbnMhXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkIEpTT04gZGlyZWN0bHkgaW50byB0aGUgREIuXHJcbiAgICAgKiBKU09OIG11c3QgYmUgYW4gYXJyYXkgb2YgbWFwcywgbGlrZSB0aGlzOlxyXG4gICAgICogYGBgdHNcclxuICAgICAqIFtcclxuICAgICAqICB7XCJuYW1lXCI6XCJiaWxseVwiLFwiYWdlXCI6MjB9LFxyXG4gICAgICogIHtcIm5hbWVcIjpcImpvaG5ueVwiOlwiYWdlXCI6MzB9XHJcbiAgICAgKiBdXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBSb3dzIG11c3QgYWxpZ24gd2l0aCB0aGUgZGF0YSBtb2RlbC4gIFJvdyBkYXRhIHRoYXQgaXNuJ3QgaW4gdGhlIGRhdGEgbW9kZWwgd2lsbCBiZSBpZ25vcmVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtBcnJheTxPYmplY3Q+fSByb3dzXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBcnJheTxPYmplY3Q+Pn1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUubG9hZEpTID0gZnVuY3Rpb24gKHRhYmxlLCByb3dzLCB1c2VUcmFuc2FjdGlvbiwgb25Qcm9ncmVzcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHQgPSB0aGlzO1xyXG4gICAgICAgIGlmICh1c2VUcmFuc2FjdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gdC5kb1RyYW5zYWN0aW9uKGZ1bmN0aW9uIChkYiwgY29tcGxldGUpIHtcclxuICAgICAgICAgICAgICAgIHJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGIodGFibGUpLnF1ZXJ5KFwidXBzZXJ0XCIsIHJvdykuZXhlYygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgdXRpbGl0aWVzXzEuUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcclxuICAgICAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RDSEFJTihyb3dzLCBmdW5jdGlvbiAocm93LCBpLCBuZXh0Um93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9uUHJvZ3Jlc3MpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUHJvZ3Jlc3MoTWF0aC5yb3VuZCgoKGkgKyAxKSAvIHJvd3MubGVuZ3RoKSAqIDEwMDAwKSAvIDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucXVlcnkoXCJ1cHNlcnRcIiwgcm93KS5tYW51YWxFeGVjKHsgdGFibGU6IHRhYmxlIH0pLnRoZW4obmV4dFJvdyk7XHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzKHJvd3MubWFwKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLnNoaWZ0KCk7IH0pKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkIGEgQ1NWIGZpbGUgaW50byB0aGUgREIuICBIZWFkZXJzIG11c3QgZXhpc3QgYW5kIHdpbGwgYmUgdXNlZCB0byBpZGVudGlmeSB3aGF0IGNvbHVtbnMgdG8gYXR0YWNoIHRoZSBkYXRhIHRvLlxyXG4gICAgICpcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gcGVyZm9ybXMgYSBidW5jaCBvZiB1cHNlcnRzLCBzbyBleHBlY3QgYXBwcm9wcmlhdGUgYmVoYXZpb3IgYmFzZWQgb24gdGhlIHByaW1hcnkga2V5LlxyXG4gICAgICpcclxuICAgICAqIFJvd3MgbXVzdCBhbGlnbiB3aXRoIHRoZSBkYXRhIG1vZGVsLiAgUm93IGRhdGEgdGhhdCBpc24ndCBpbiB0aGUgZGF0YSBtb2RlbCB3aWxsIGJlIGlnbm9yZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNzdlxyXG4gICAgICogQHJldHVybnMgeyhQcm9taXNlPEFycmF5PE9iamVjdD4+KX1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIE5hbm9TUUxJbnN0YW5jZS5wcm90b3R5cGUubG9hZENTViA9IGZ1bmN0aW9uICh0YWJsZSwgY3N2LCB1c2VUcmFuc2FjdGlvbiwgcm93RmlsdGVyLCBvblByb2dyZXNzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGZpZWxkcyA9IFtdO1xyXG4gICAgICAgIHZhciByb3dEYXRhID0gY3N2LnNwbGl0KFwiXFxuXCIpLm1hcChmdW5jdGlvbiAodiwgaykge1xyXG4gICAgICAgICAgICBpZiAoayA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgZmllbGRzID0gdi5zcGxpdChcIixcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlY29yZCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgdmFyIHJvd18xID0gdi5tYXRjaCgvKCwpfChbXCJ8XFxbfFxce10uKj9bXCJ8XFxdfFxcfV18W15cIixcXHNdKykoPz1cXHMqLHxcXHMqJCkvZykgfHwgW107XHJcbiAgICAgICAgICAgICAgICB2YXIgZml0cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJvd18xWzBdID09PSBcIixcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd18xLnVuc2hpZnQoXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZG9CcmVhayA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd18xLmZvckVhY2goZnVuY3Rpb24gKHZhbCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9CcmVhaylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA9PT0gXCIsXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygcm93XzFbaSArIDFdID09PSBcInVuZGVmaW5lZFwiIHx8IHJvd18xW2kgKyAxXSA9PT0gXCIsXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb0JyZWFrID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dfMS5zcGxpY2UoaSArIDEsIDAsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkb0JyZWFrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpdHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYnJlYWtcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKCFmaXRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlXzEgPSBfbG9vcF8xKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlXzEgPT09IFwiYnJlYWtcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByb3dfMSA9IHJvd18xLmZpbHRlcihmdW5jdGlvbiAodiwgaSkgeyByZXR1cm4gaSAlIDIgPT09IDA7IH0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIGkgPSBmaWVsZHMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyb3dfMVtpXS5pbmRleE9mKFwie1wiKSA9PT0gMSB8fCByb3dfMVtpXS5pbmRleE9mKFwiW1wiKSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93XzFbaV0gPSBKU09OLnBhcnNlKHJvd18xW2ldLnNsaWNlKDEsIHJvd18xW2ldLmxlbmd0aCAtIDEpLnJlcGxhY2UoLycvZ20sICdcXFwiJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocm93XzFbaV0uaW5kZXhPZignXCInKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dfMVtpXSA9IHJvd18xW2ldLnNsaWNlKDEsIHJvd18xW2ldLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZWNvcmRbZmllbGRzW2ldXSA9IHJvd18xW2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHJvd0ZpbHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByb3dGaWx0ZXIocmVjb3JkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZWNvcmQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHI7IH0pO1xyXG4gICAgICAgIGlmICh1c2VUcmFuc2FjdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gdC5kb1RyYW5zYWN0aW9uKGZ1bmN0aW9uIChkYiwgY29tcGxldGUpIHtcclxuICAgICAgICAgICAgICAgIHJvd0RhdGEuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGIodGFibGUpLnF1ZXJ5KFwidXBzZXJ0XCIsIHJvdykuZXhlYygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgdXRpbGl0aWVzXzEuUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcclxuICAgICAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RDSEFJTihyb3dEYXRhLCBmdW5jdGlvbiAocm93LCBpLCBuZXh0Um93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9uUHJvZ3Jlc3MpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUHJvZ3Jlc3MoTWF0aC5yb3VuZCgoKGkgKyAxKSAvIHJvd0RhdGEubGVuZ3RoKSAqIDEwMDAwKSAvIDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucXVlcnkoXCJ1cHNlcnRcIiwgcm93KS5tYW51YWxFeGVjKHsgdGFibGU6IHRhYmxlIH0pLnRoZW4obmV4dFJvdyk7XHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzKHJvd3MubWFwKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLnNoaWZ0KCk7IH0pKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE5hbm9TUUxJbnN0YW5jZTtcclxufSgpKTtcclxuZXhwb3J0cy5OYW5vU1FMSW5zdGFuY2UgPSBOYW5vU1FMSW5zdGFuY2U7XHJcbk5hbm9TUUxJbnN0YW5jZS5mdW5jdGlvbnMgPSB7XHJcbiAgICBDT1VOVDoge1xyXG4gICAgICAgIHR5cGU6IFwiQVwiLFxyXG4gICAgICAgIGNhbGw6IGZ1bmN0aW9uIChyb3dzLCBjb21wbGV0ZSwgY29sdW1uKSB7XHJcbiAgICAgICAgICAgIGlmIChjb2x1bW4gJiYgY29sdW1uICE9PSBcIipcIikge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUocm93cy5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHV0aWxpdGllc18xLm9ialF1ZXJ5KGNvbHVtbiwgcik7IH0pLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShyb3dzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgTUFYOiB7XHJcbiAgICAgICAgdHlwZTogXCJBXCIsXHJcbiAgICAgICAgY2FsbDogZnVuY3Rpb24gKHJvd3MsIGNvbXBsZXRlLCBjb2x1bW4pIHtcclxuICAgICAgICAgICAgaWYgKHJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWF4XzEgPSB1dGlsaXRpZXNfMS5vYmpRdWVyeShjb2x1bW4sIHJvd3NbMF0pIHx8IDA7XHJcbiAgICAgICAgICAgICAgICByb3dzLmZvckVhY2goZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdiA9IHV0aWxpdGllc18xLm9ialF1ZXJ5KGNvbHVtbiwgcik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHV0aWxpdGllc18xLm9ialF1ZXJ5KGNvbHVtbiwgcikgPiBtYXhfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhfMSA9IHV0aWxpdGllc18xLm9ialF1ZXJ5KGNvbHVtbiwgcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShtYXhfMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZSgwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBNSU46IHtcclxuICAgICAgICB0eXBlOiBcIkFcIixcclxuICAgICAgICBjYWxsOiBmdW5jdGlvbiAocm93cywgY29tcGxldGUsIGNvbHVtbikge1xyXG4gICAgICAgICAgICBpZiAocm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtaW5fMSA9IHV0aWxpdGllc18xLm9ialF1ZXJ5KGNvbHVtbiwgcm93c1swXSkgfHwgMDtcclxuICAgICAgICAgICAgICAgIHJvd3MuZm9yRWFjaChmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2ID0gdXRpbGl0aWVzXzEub2JqUXVlcnkoY29sdW1uLCByKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodiA8IG1pbl8xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbl8xID0gdjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKG1pbl8xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIEFWRzoge1xyXG4gICAgICAgIHR5cGU6IFwiQVwiLFxyXG4gICAgICAgIGNhbGw6IGZ1bmN0aW9uIChyb3dzLCBjb21wbGV0ZSwgY29sdW1uKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKHJvd3MucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXIpIHsgcmV0dXJuIHByZXYgKyAodXRpbGl0aWVzXzEub2JqUXVlcnkoY29sdW1uLCBjdXIpIHx8IDApOyB9LCAwKSAvIHJvd3MubGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgU1VNOiB7XHJcbiAgICAgICAgdHlwZTogXCJBXCIsXHJcbiAgICAgICAgY2FsbDogZnVuY3Rpb24gKHJvd3MsIGNvbXBsZXRlLCBjb2x1bW4pIHtcclxuICAgICAgICAgICAgY29tcGxldGUocm93cy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGN1cikgeyByZXR1cm4gcHJldiArICh1dGlsaXRpZXNfMS5vYmpRdWVyeShjb2x1bW4sIGN1cikgfHwgMCk7IH0sIDApKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgTE9XRVI6IHtcclxuICAgICAgICB0eXBlOiBcIlNcIixcclxuICAgICAgICBjYWxsOiBmdW5jdGlvbiAocm93cywgY29tcGxldGUsIGNvbHVtbikge1xyXG4gICAgICAgICAgICBjb21wbGV0ZShyb3dzLm1hcChmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyh1dGlsaXRpZXNfMS5vYmpRdWVyeShjb2x1bW4sIHIpKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIFVQUEVSOiB7XHJcbiAgICAgICAgdHlwZTogXCJTXCIsXHJcbiAgICAgICAgY2FsbDogZnVuY3Rpb24gKHJvd3MsIGNvbXBsZXRlLCBjb2x1bW4pIHtcclxuICAgICAgICAgICAgY29tcGxldGUocm93cy5tYXAoZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcodXRpbGl0aWVzXzEub2JqUXVlcnkoY29sdW1uLCByKSkudG9VcHBlckNhc2UoKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBDQVNUOiB7XHJcbiAgICAgICAgdHlwZTogXCJTXCIsXHJcbiAgICAgICAgY2FsbDogZnVuY3Rpb24gKHJvd3MsIGNvbXBsZXRlLCBjb2x1bW4sIHR5cGUpIHtcclxuICAgICAgICAgICAgY29tcGxldGUocm93cy5tYXAoZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1dGlsaXRpZXNfMS5jYXN0KHR5cGUsIHV0aWxpdGllc18xLm9ialF1ZXJ5KGNvbHVtbiwgcikpO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIEFCUzoge1xyXG4gICAgICAgIHR5cGU6IFwiU1wiLFxyXG4gICAgICAgIGNhbGw6IGZ1bmN0aW9uIChyb3dzLCBjb21wbGV0ZSwgY29sdW1uKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKHJvd3MubWFwKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModXRpbGl0aWVzXzEub2JqUXVlcnkoY29sdW1uLCByKSk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgQ0VJTDoge1xyXG4gICAgICAgIHR5cGU6IFwiU1wiLFxyXG4gICAgICAgIGNhbGw6IGZ1bmN0aW9uIChyb3dzLCBjb21wbGV0ZSwgY29sdW1uKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKHJvd3MubWFwKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5jZWlsKHV0aWxpdGllc18xLm9ialF1ZXJ5KGNvbHVtbiwgcikpO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIFBPVzoge1xyXG4gICAgICAgIHR5cGU6IFwiU1wiLFxyXG4gICAgICAgIGNhbGw6IGZ1bmN0aW9uIChyb3dzLCBjb21wbGV0ZSwgY29sdW1uLCBwb3dlcikge1xyXG4gICAgICAgICAgICBjb21wbGV0ZShyb3dzLm1hcChmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgucG93KHV0aWxpdGllc18xLm9ialF1ZXJ5KGNvbHVtbiwgciksIHBhcnNlSW50KHBvd2VyKSk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgUk9VTkQ6IHtcclxuICAgICAgICB0eXBlOiBcIlNcIixcclxuICAgICAgICBjYWxsOiBmdW5jdGlvbiAocm93cywgY29tcGxldGUsIGNvbHVtbikge1xyXG4gICAgICAgICAgICBjb21wbGV0ZShyb3dzLm1hcChmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodXRpbGl0aWVzXzEub2JqUXVlcnkoY29sdW1uLCByKSk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgU1FSVDoge1xyXG4gICAgICAgIHR5cGU6IFwiU1wiLFxyXG4gICAgICAgIGNhbGw6IGZ1bmN0aW9uIChyb3dzLCBjb21wbGV0ZSwgY29sdW1uKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKHJvd3MubWFwKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHV0aWxpdGllc18xLm9ialF1ZXJ5KGNvbHVtbiwgcikpO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogQGludGVybmFsXHJcbiAqL1xyXG52YXIgX05hbm9TUUxTdGF0aWMgPSBuZXcgTmFub1NRTEluc3RhbmNlKCk7XHJcbmV4cG9ydHMublNRTCA9IGZ1bmN0aW9uIChzZXRUYWJsZVBvaW50ZXIpIHtcclxuICAgIHJldHVybiBfTmFub1NRTFN0YXRpYy50YWJsZShzZXRUYWJsZVBvaW50ZXIpO1xyXG59O1xyXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgd2luZG93W1wibmFuby1zcWxcIl0gPSB7XHJcbiAgICAgICAgblNRTDogZXhwb3J0cy5uU1FMLFxyXG4gICAgICAgIE5hbm9TUUxJbnN0YW5jZTogTmFub1NRTEluc3RhbmNlXHJcbiAgICB9O1xyXG59XHJcbiIsInZhciBnO1xyXG5cclxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcclxuZyA9IChmdW5jdGlvbigpIHtcclxuXHRyZXR1cm4gdGhpcztcclxufSkoKTtcclxuXHJcbnRyeSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXHJcblx0ZyA9IGcgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpIHx8ICgxLCBldmFsKShcInRoaXNcIik7XHJcbn0gY2F0Y2ggKGUpIHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxyXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xyXG59XHJcblxyXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXHJcbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXHJcbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZztcclxuIiwiaW1wb3J0IHtuU1FMfSBmcm9tICduYW5vLXNxbC9saWIvaW5kZXgnXG5cbmV4cG9ydCBjb25zdCBVU0VSX1RBQkxFID0gJ1VzZXInXG5cbmNvbnN0IHVzZXJUYWJsZSA9IG5TUUwoVVNFUl9UQUJMRSkubW9kZWwoW1xuICAvLyB7a2V5OiAnaWQnLCB0eXBlOiAnaW50JywgcHJvcHM6IFsncGsnLCAnYWknXX0sXG4gIHtrZXk6ICd1c2VySWQnLCB0eXBlOiAnc3RyaW5nJywgcHJvcHM6IFsncGsnXX0sXG4gIHtrZXk6ICdiYWxhbmNlJywgdHlwZTogJ2ludCd9XG5dKS5jb25maWcoe21vZGU6IERCX01PREUgPyBEQl9NT0RFIDogJ1BFUk0nfSkgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG51c2VyVGFibGUuY29ubmVjdCgpXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRCYWxhbmNlQnlJZCAodXNlcklkKSB7XG4gIHJldHVybiB1c2VyVGFibGUucXVlcnkoJ3NlbGVjdCcsIFsnYmFsYW5jZSddKS53aGVyZShbJ3VzZXJJZCcsICc9JywgdXNlcklkXSkuZXhlYygpXG59XG5cbmV4cG9ydCBkZWZhdWx0IHVzZXJUYWJsZVxuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XHJcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcclxuICAgICAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgdXRpbGl0aWVzXzEgPSByZXF1aXJlKFwiLi91dGlsaXRpZXNcIik7XHJcbi8vIHVnbGlmeUpTIHdvcmthcm91bmRcclxudmFyIHN0cnMgPSBbXCJfaGlzdFwiLCBcIl9oaXN0X3B0clwiLCBcIl9pZFwiXTtcclxuLyoqXHJcbiAqIE5ldyBIaXN0b3J5IFBsdWdpblxyXG4gKiBQcm92aWRlcyBtdWx0aXBsZSBoaXN0b3J5IG1vZGVzLCBpbmNsdWRpbmcgYSBwZXIgcm93IG1vZGUgKGZvciByb3cgcmV2aXNpb25zKSwgYSBkYXRhYmFzZSB3aWRlIG1vZGUgYW5kIGEgdGFibGUgd2lkZSBtb2RlLlxyXG4gKiBZb3UgY2FuIGVpdGhlciBzZXQgYSBzaW5nbGUgYXJndW1lbnQgdG8gdGVsbCB0aGUgc3lzdGVtIHRvIHVzZSByb3csIHRhYmxlLCBvciBkYXRhYmFzZSBtb2RlIE9SIHlvdSBjYW4gcGFzcyBpbiBhbiBvYmplY3QuXHJcbiAqIFRoZSBvYmplY3Qgc2hvdWxkIGNvbnRhaW4gYSBrZXkgd2l0aCBhbGwgdGFibGVzIHdpdGggaGlzdG9yeSwgZWFjaCB2YWx1ZSBzaG91bGQgYmUgXCJyb3dcIiBvciBcInRhYmxlXCIsIGRpY3RhdGluZyB0aGUgdHlwZSBvZiBoaXN0b3J5XHJcbiAqIGZvciB0aGF0IHRhYmxlLlxyXG4gKlxyXG4gKiBAZXhwb3J0XHJcbiAqIEBjbGFzcyBfTmFub1NRTEhpc3RvcnlQbHVnaW5cclxuICogQGltcGxlbWVudHMge05hbm9TUUxQbHVnaW59XHJcbiAqL1xyXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcclxudmFyIF9OYW5vU1FMSGlzdG9yeVBsdWdpbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIF9OYW5vU1FMSGlzdG9yeVBsdWdpbihoaXN0b3J5TW9kZUFyZ3MpIHtcclxuICAgICAgICB0aGlzLmhpc3RvcnlNb2RlQXJncyA9IGhpc3RvcnlNb2RlQXJncztcclxuICAgICAgICB0aGlzLl90YWJsZVBrS2V5cyA9IHt9O1xyXG4gICAgICAgIHRoaXMuX3RhYmxlUGtUeXBlcyA9IHt9O1xyXG4gICAgICAgIHRoaXMuX3RhYmxlS2V5cyA9IHt9O1xyXG4gICAgfVxyXG4gICAgX05hbm9TUUxIaXN0b3J5UGx1Z2luLnByb3RvdHlwZS53aWxsQ29ubmVjdCA9IGZ1bmN0aW9uIChjb25uZWN0QXJncywgbmV4dCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBjb25uZWN0QXJncy5wYXJlbnQ7XHJcbiAgICAgICAgdmFyIGhpc3RvcnlUYWJsZXMgPSB7fTtcclxuICAgICAgICAvLyBoYW5kbGUgdGFibGVzIHRvIHN0b3JlIHJvdyBkYXRhIGhpc3RvcnlcclxuICAgICAgICBPYmplY3Qua2V5cyhjb25uZWN0QXJncy5tb2RlbHMpLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlKSB7XHJcbiAgICAgICAgICAgIC8vIG9ubHkgYWRkIGhpc3RvcnkgZm9yIHB1YmxpYyB0YWJsZXNcclxuICAgICAgICAgICAgaWYgKHRhYmxlLmluZGV4T2YoXCJfXCIpICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGlzdE1vZGVsID0gdXRpbGl0aWVzXzEuX2Fzc2lnbihjb25uZWN0QXJncy5tb2RlbHNbdGFibGVdKS5tYXAoZnVuY3Rpb24gKG1vZGVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVsLnByb3BzICYmIHV0aWxpdGllc18xLmludGVyc2VjdChbXCJwa1wiLCBcInBrKClcIl0sIG1vZGVsLnByb3BzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdGFibGVQa0tleXNbdGFibGVdID0gbW9kZWwua2V5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdGFibGVQa1R5cGVzW3RhYmxlXSA9IG1vZGVsLnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl90YWJsZUtleXNbdGFibGVdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBtb2RlbC5wcm9wczsgLy8gcmVtb3ZlIHNlY29uZGFyeSBpbmRleGVzIGFuZCBldmVyeXRoaW5nIGVsc2UgZmFuY3lcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgbW9kZWwuZGVmYXVsdDsgLy8gcmVtb3ZlIGRlZmF1bHQgY29sdW1uIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vZGVsO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyBhZGQgbmV3IHByaW1hcnkga2V5IHVzZWQgYnkgdGhlIGhpc3Rvcnkgc3lzdGVtXHJcbiAgICAgICAgICAgICAgICBoaXN0TW9kZWwudW5zaGlmdCh7IGtleTogXCJfaWRcIiwgdHlwZTogXCJ0aW1lSWRtc1wiLCBwcm9wczogW1wicGsoKVwiXSB9KTtcclxuICAgICAgICAgICAgICAgIC8vIEhvbGRzIG9sZCBvciBuZXcgcm93IGRhdGFcclxuICAgICAgICAgICAgICAgIGhpc3RvcnlUYWJsZXNbXCJfXCIgKyB0YWJsZSArIFwiX19oaXN0X3Jvd3NcIl0gPSBoaXN0TW9kZWw7XHJcbiAgICAgICAgICAgICAgICAvLyBob2xkcyB3aGVyZSBpbiB0aGUgcm93IGhpc3Rvcnkgd2UgYXJlXHJcbiAgICAgICAgICAgICAgICBoaXN0b3J5VGFibGVzW1wiX1wiICsgdGFibGUgKyBcIl9faGlzdF9pZHhcIl0gPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6IFwiaWRcIiwgdHlwZTogX3RoaXMuX3RhYmxlUGtUeXBlc1t0YWJsZV0sIHByb3BzOiBbXCJwaygpXCJdIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6IFwiaGlzdFJvd3NcIiwgdHlwZTogXCJ0aW1lSWRtc1tdXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IGtleTogXCJoaXN0UHRyXCIsIHR5cGU6IFwibnVtYmVyXCIgfSAvLyB3aGVyZSBpbiB0aGUgYWJvdmUgYXJyYXkgd2UgYXJlLlxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBpc05vdFN0cmluZyA9IHR5cGVvZiB0aGlzLmhpc3RvcnlNb2RlQXJncyAhPT0gXCJzdHJpbmdcIjtcclxuICAgICAgICB2YXIgaGlzdG9yeVRhYmxlID0gW1xyXG4gICAgICAgICAgICB7IGtleTogXCJpZFwiLCB0eXBlOiBcInRpbWVJZG1zXCIsIHByb3BzOiBbXCJwaygpXCJdIH0sXHJcbiAgICAgICAgICAgIHsga2V5OiBcInRhYmxlXCIsIHR5cGU6IFwic3RyaW5nXCIgfSxcclxuICAgICAgICAgICAgeyBrZXk6IFwia2V5c1wiLCB0eXBlOiBcImFueVtdXCIgfVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgdmFyIGhpc3RvcnlUYWJsZVBvaW50ZXIgPSBbXHJcbiAgICAgICAgICAgIHsga2V5OiBcImlkXCIsIHR5cGU6IFwidGltZUlkbXNcIiwgcHJvcHM6IFtcInBrKClcIl0gfSxcclxuICAgICAgICAgICAgeyBrZXk6IFwicHRyXCIsIHR5cGU6IFwiaW50XCIgfVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgLy8gZGF0YWJhc2UvbGluZWFyIG1vZGUuIGFsbCB1bmRvL3JlZG8gaXMgdHJhY2tlZCBhY3Jvc3MgdGhlIGVudGlyZSBkYXRhYmFzZS4gIERlZmF1bHQgYmVoYXZpb3JcclxuICAgICAgICBpZiAodGhpcy5oaXN0b3J5TW9kZUFyZ3MgPT09IFwiZGF0YWJhc2VcIiB8fCAhdGhpcy5oaXN0b3J5TW9kZUFyZ3MpIHtcclxuICAgICAgICAgICAgaGlzdG9yeVRhYmxlc1tzdHJzWzBdXSA9IGhpc3RvcnlUYWJsZTtcclxuICAgICAgICAgICAgaGlzdG9yeVRhYmxlc1tzdHJzWzFdXSA9IGhpc3RvcnlUYWJsZVBvaW50ZXI7XHJcbiAgICAgICAgICAgIC8vIHRhYmxlL3JvdyBtb2RlLCB1bmRvL3JlZG8gaXMgdHJhY2tlZCBlaXRoZXIgcGVyIHJvdyBPUiBwZXIgdGFibGVcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5oaXN0b3J5TW9kZUFyZ3MgIT09IFwiZGF0YWJhc2VcIiB8fCBpc05vdFN0cmluZykge1xyXG4gICAgICAgICAgICB0aGlzLmhpc3RvcnlNb2RlcyA9IHt9O1xyXG4gICAgICAgICAgICBpZiAoIWlzTm90U3RyaW5nKSB7IC8vIGFwcGx5IHRoZSBnbG9iYWwgYXJnIChcInJvd1wiIG9yIFwidGFibGVcIikgdG8gZXZlcnkgdGFibGVcclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuX3RhYmxlUGtLZXlzKS5mb3JFYWNoKGZ1bmN0aW9uICh0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmhpc3RvcnlNb2Rlc1t0YWJsZV0gPSBfdGhpcy5oaXN0b3J5TW9kZUFyZ3M7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHsgLy8gb2JqZWN0IG9mIHRhYmxlcyB3YXMgcGFzc2VkIGluLCB0aGUgdXNlciBzcGVjaWZpZWQgYSBiZWhhdmlvciBmb3IgZWFjaCB0YWJsZS4gIEp1c3QgY29weSB0aGVpciBjb25maWcgb2JqZWN0LlxyXG4gICAgICAgICAgICAgICAgdGhpcy5oaXN0b3J5TW9kZXMgPSB1dGlsaXRpZXNfMS5fYXNzaWduKHRoaXMuaGlzdG9yeU1vZGVBcmdzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjcmVhdGUgdHJhY2tpbmcgcm93cyBuZWVkZWQgZm9yIHRhYmxlIHdpZGUgaGlzdG9yeVxyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmhpc3RvcnlNb2RlcykuZm9yRWFjaChmdW5jdGlvbiAodGFibGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5oaXN0b3J5TW9kZXNbdGFibGVdID09PSBcInRhYmxlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBoaXN0b3J5VGFibGVzW1wiX1wiICsgdGFibGUgKyBcIl9faGlzdFwiXSA9IGhpc3RvcnlUYWJsZTtcclxuICAgICAgICAgICAgICAgICAgICBoaXN0b3J5VGFibGVzW1wiX1wiICsgdGFibGUgKyBcIl9faGlzdF9wdHJcIl0gPSBoaXN0b3J5VGFibGVQb2ludGVyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29ubmVjdEFyZ3MubW9kZWxzID0gX19hc3NpZ24oe30sIGNvbm5lY3RBcmdzLm1vZGVscywgaGlzdG9yeVRhYmxlcyk7XHJcbiAgICAgICAgbmV4dChjb25uZWN0QXJncyk7XHJcbiAgICB9O1xyXG4gICAgX05hbm9TUUxIaXN0b3J5UGx1Z2luLnByb3RvdHlwZS5faGlzdFRhYmxlID0gZnVuY3Rpb24gKHRhYmxlKSB7XHJcbiAgICAgICAgaWYgKCF0YWJsZSlcclxuICAgICAgICAgICAgcmV0dXJuIFwiX19udWxsXCI7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGlzdG9yeU1vZGVzID8gdGhpcy5oaXN0b3J5TW9kZXNbdGFibGVdID09PSBcInRhYmxlXCIgPyBcIl9cIiArIHRhYmxlICsgXCJfX2hpc3RcIiA6IG51bGwgOiBcIl9oaXN0XCI7XHJcbiAgICB9O1xyXG4gICAgX05hbm9TUUxIaXN0b3J5UGx1Z2luLnByb3RvdHlwZS5fZ2VuZXJhdGVIaXN0b3J5UG9pbnRlcnMgPSBmdW5jdGlvbiAodGFibGUsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgaGlzdFRhYmxlID0gdGhpcy5faGlzdFRhYmxlKHRhYmxlKTtcclxuICAgICAgICBpZiAoIWhpc3RUYWJsZSkgeyAvLyByb3cgbW9kZVxyXG4gICAgICAgICAgICBjb21wbGV0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnQucXVlcnkoXCJzZWxlY3RcIikubWFudWFsRXhlYyh7XHJcbiAgICAgICAgICAgICAgICB0YWJsZTogaGlzdFRhYmxlICsgXCJfcHRyXCJcclxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJvd3MubGVuZ3RoKSB7IC8vIGFscmVhZHkgaGFzIGEgcG9pbnRlclxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHsgLy8gbmVlZHMgb25lXHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucGFyZW50LnF1ZXJ5KFwidXBzZXJ0XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHV0aWxpdGllc18xLnRpbWVpZCh0cnVlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGU6IHRhYmxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwdHI6IDAgLy8gZW1wdHkgdGFibGVcclxuICAgICAgICAgICAgICAgICAgICB9KS5tYW51YWxFeGVjKHsgdGFibGU6IGhpc3RUYWJsZSArIFwiX3B0clwiIH0pLnRoZW4oY29tcGxldGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgX05hbm9TUUxIaXN0b3J5UGx1Z2luLnByb3RvdHlwZS5kaWRDb25uZWN0ID0gZnVuY3Rpb24gKGNvbm5lY3RBcmdzLCBuZXh0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgZmluaXNoU2V0dXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8ga25vdyB3aGF0IGV4aXN0aW5nIHByaW1hcnkga2V5cyBhcmUgaW4gZWFjaCB0YWJsZSBhbmQgbWFrZSBzdXJlIHBvaW50ZXJzIGFyZSBzZXR1cCB3aGVyZSBuZWVkZWQuXHJcbiAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwoT2JqZWN0LmtleXMoX3RoaXMuX3RhYmxlS2V5cyksIGZ1bmN0aW9uICh0YWJsZSwgaywgdGFibGVEb25lKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQuZXh0ZW5kKFwiaWR4XCIsIFwiX1wiICsgdGFibGUgKyBcIl9faGlzdF9pZHhcIikudGhlbihmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl90YWJsZUtleXNbdGFibGVdW2l0ZW1dID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaGlzdG9yeU1vZGVzKSB7IC8vIHRhYmxlIC8gcm93IG1vZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2dlbmVyYXRlSGlzdG9yeVBvaW50ZXJzKHRhYmxlLCB0YWJsZURvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gZ2xvYmFsIG1vZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVEb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4obmV4dCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoIXRoaXMuaGlzdG9yeU1vZGVzKSB7IC8vIGdsb2JhbCBtb2RlXHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50LnF1ZXJ5KFwic2VsZWN0XCIpLm1hbnVhbEV4ZWMoe1xyXG4gICAgICAgICAgICAgICAgdGFibGU6IFwiX2hpc3RfcHRyXCJcclxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoU2V0dXAoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnBhcmVudC5xdWVyeShcInVwc2VydFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB1dGlsaXRpZXNfMS50aW1laWQodHJ1ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwdHI6IDBcclxuICAgICAgICAgICAgICAgICAgICB9KS5tYW51YWxFeGVjKHsgdGFibGU6IFwiX2hpc3RfcHRyXCIgfSkudGhlbihmaW5pc2hTZXR1cCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZmluaXNoU2V0dXAoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBJZiBhbnkgb2YgdGhlIGdpdmVuIHJvdyBwb2ludGVycyBhcmUgYWJvdmUgemVybywgcmVtb3ZlIHRoZSByb3dzIGluIFwiZm9yd2FyZFwiIGhpc3RvcnkuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHthbnlbXX0gcm93UEtzXHJcbiAgICAgKiBAcGFyYW0geygpID0+IHZvaWR9IGNvbXBsZXRlXHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxIaXN0b3J5UGx1Z2luXHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMSGlzdG9yeVBsdWdpbi5wcm90b3R5cGUuX3B1cmdlUm93SGlzdG9yeSA9IGZ1bmN0aW9uICh0YWJsZSwgcm93UEtzLCBjb21wbGV0ZSwgY2xlYXJBbGwpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciByb3dIaXN0VGFibGUgPSBcIl9cIiArIHRhYmxlICsgXCJfX2hpc3Rfcm93c1wiO1xyXG4gICAgICAgIHZhciByb3dJRFhUYWJsZSA9IFwiX1wiICsgdGFibGUgKyBcIl9faGlzdF9pZHhcIjtcclxuICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHJvd1BLcywgZnVuY3Rpb24gKHBrLCBsLCByb3dEb25lKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudC5xdWVyeShcInNlbGVjdFwiKS53aGVyZShbXCJpZFwiLCBcIj1cIiwgcGtdKS5tYW51YWxFeGVjKHsgdGFibGU6IHJvd0lEWFRhYmxlIH0pLnRoZW4oZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgIGlmICghcm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICByb3dEb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGhpc3RSb3dJRFggPSBPYmplY3QuaXNGcm96ZW4ocm93c1swXSkgPyB1dGlsaXRpZXNfMS5fYXNzaWduKHJvd3NbMF0pIDogcm93c1swXTtcclxuICAgICAgICAgICAgICAgIHZhciBkZWxJRHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGlmIChjbGVhckFsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbElEcyA9IGRlbElEcy5jb25jYXQoaGlzdFJvd0lEWC5oaXN0Um93cy5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIgIT09IC0xOyB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGlzdFJvd0lEWC5oaXN0UHRyID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBoaXN0Um93SURYLmhpc3RSb3dzID0gW107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaGlzdFJvd0lEWC5oaXN0UHRyLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsSURzLnB1c2goaGlzdFJvd0lEWC5oaXN0Um93cy5zaGlmdCgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaGlzdFJvd0lEWC5oaXN0UHRyID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghZGVsSURzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd0RvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQucXVlcnkoXCJ1cHNlcnRcIiwgaGlzdFJvd0lEWCkuY29tbWVudChcIkhpc3RvcnkgUHVyZ2VcIikud2hlcmUoW1wiaWRcIiwgXCI9XCIsIHBrXSkubWFudWFsRXhlYyh7IHRhYmxlOiByb3dJRFhUYWJsZSB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQucXVlcnkoXCJkZWxldGVcIikuY29tbWVudChcIkhpc3RvcnkgUHVyZ2VcIikud2hlcmUoW1wiX2lkXCIsIFwiSU5cIiwgZGVsSURzXSkubWFudWFsRXhlYyh7IHRhYmxlOiByb3dIaXN0VGFibGUgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGVhckFsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucGFyZW50LnF1ZXJ5KFwic2VsZWN0XCIpLndoZXJlKFtfdGhpcy5fdGFibGVQa0tleXNbdGFibGVdLCBcIj1cIiwgcGtdKS5tYW51YWxFeGVjKHsgdGFibGU6IHRhYmxlIH0pLnRoZW4oZnVuY3Rpb24gKGV4aXN0aW5nUm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3Vuc2hpZnRTaW5nbGVSb3codGFibGUsIFtcImNoYW5nZVwiXSwgcGssIGV4aXN0aW5nUm93WzBdLCBmYWxzZSwgcm93RG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd0RvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pLnRoZW4oY29tcGxldGUpO1xyXG4gICAgfTtcclxuICAgIF9OYW5vU1FMSGlzdG9yeVBsdWdpbi5wcm90b3R5cGUuX3B1cmdlVGFibGVIaXN0b3J5ID0gZnVuY3Rpb24gKHRhYmxlLCBjb21wbGV0ZSwgY2xlYXJBbGwpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMucGFyZW50LnF1ZXJ5KFwic2VsZWN0XCIpLm1hbnVhbEV4ZWMoeyB0YWJsZTogdGFibGUgKyBcIl9wdHJcIiB9KS50aGVuKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgIHZhciByb3cgPSBPYmplY3QuaXNGcm96ZW4ocm93c1swXSkgPyB1dGlsaXRpZXNfMS5fYXNzaWduKHJvd3NbMF0pIDogcm93c1swXTtcclxuICAgICAgICAgICAgaWYgKGNsZWFyQWxsIHx8IHJvdy5wdHIgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGlzdFEgPSBfdGhpcy5wYXJlbnQucXVlcnkoXCJzZWxlY3RcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNsZWFyQWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGlzdFEucmFuZ2Uocm93LnB0ciAqIC0xLCAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGhpc3RRLm1hbnVhbEV4ZWMoeyB0YWJsZTogdGFibGUgfSkudGhlbihmdW5jdGlvbiAoaGlzdFRhYmxlUm93cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaGlzdFRhYmxlUm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHVyZ2VSb3dzID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgaGlzdFRhYmxlUm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwdXJnZVJvd3Nbcm93LnRhYmxlXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1cmdlUm93c1tyb3cudGFibGVdID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1cmdlUm93c1tyb3cudGFibGVdID0gcHVyZ2VSb3dzW3Jvdy50YWJsZV0uY29uY2F0KHJvdy5rZXlzKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKE9iamVjdC5rZXlzKHB1cmdlUm93cyksIGZ1bmN0aW9uICh0YSwgaiwgdGFibGVEb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9wdXJnZVJvd0hpc3RvcnkodGEsIHB1cmdlUm93c1t0YV0sIHRhYmxlRG9uZSwgY2xlYXJBbGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQucXVlcnkoXCJkZWxldGVcIikuY29tbWVudChcIkhpc3RvcnkgUHVyZ2VcIikud2hlcmUoW1wiaWRcIiwgXCJJTlwiLCBoaXN0VGFibGVSb3dzLm1hcChmdW5jdGlvbiAocikgeyByZXR1cm4gci5pZDsgfSldKS5tYW51YWxFeGVjKHsgdGFibGU6IHRhYmxlIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93LnB0ciA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQucXVlcnkoXCJ1cHNlcnRcIiwgcm93KS5jb21tZW50KFwiSGlzdG9yeSBQdXJnZVwiKS53aGVyZShbXCJpZFwiLCBcIj1cIiwgcm93LmlkXSkubWFudWFsRXhlYyh7IHRhYmxlOiB0YWJsZSArIFwiX3B0clwiIH0pLnRoZW4oY29tcGxldGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSWYgYW55IHJvdyBwb2ludGVycyBhcmUgYWJvdmUgemVybywgd2UgbXVzdCBmaXJzdCByZW1vdmUgdGhlIHJldmlzaW9ucyBhaGVhZCBvZiB0aGUgZXhpc3Rpbmcgb25lIGJlZm9yZSBhZGRpbmcgYSBuZXcgcmV2aXNpb24uXHJcbiAgICAgKiBUaGlzIHByZXZlbnRzIHRoZSBoaXN0b3J5IGZyb20gYmVjb21taW5nIGJyb2tlblxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFibGVcclxuICAgICAqIEBwYXJhbSB7YW55W119IHJvd1BLc1xyXG4gICAgICogQHBhcmFtIHsoKSA9PiB2b2lkfSBjb21wbGV0ZVxyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMSGlzdG9yeVBsdWdpblxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTEhpc3RvcnlQbHVnaW4ucHJvdG90eXBlLl9wdXJnZVBhcmVudEhpc3RvcnkgPSBmdW5jdGlvbiAodGFibGUsIHJvd1BLcywgY29tcGxldGUpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaGlzdG9yeU1vZGVzKSB7IC8vIGdsb2JhbCBtb2RlXHJcbiAgICAgICAgICAgIHRoaXMuX3B1cmdlVGFibGVIaXN0b3J5KFwiX2hpc3RcIiwgY29tcGxldGUpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBoaXN0VGFibGUgPSB0aGlzLl9oaXN0VGFibGUodGFibGUpO1xyXG4gICAgICAgIGlmICghaGlzdFRhYmxlKSB7IC8vIHJvdyBtb2RlXHJcbiAgICAgICAgICAgIHRoaXMuX3B1cmdlUm93SGlzdG9yeSh0YWJsZSwgcm93UEtzLCBjb21wbGV0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgeyAvLyB0YWJsZSBtb2RlXHJcbiAgICAgICAgICAgIHRoaXMuX3B1cmdlVGFibGVIaXN0b3J5KGhpc3RUYWJsZSwgY29tcGxldGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBfTmFub1NRTEhpc3RvcnlQbHVnaW4ucHJvdG90eXBlLl9wdXJnZUFsbEhpc3RvcnkgPSBmdW5jdGlvbiAodGFibGUsIHJvd1BLLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5oaXN0b3J5TW9kZXMpIHsgLy8gZ2xvYmFsIG1vZGVcclxuICAgICAgICAgICAgdGhpcy5fcHVyZ2VUYWJsZUhpc3RvcnkoXCJfaGlzdFwiLCBjb21wbGV0ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGhpc3RUYWJsZSA9IHRoaXMuX2hpc3RUYWJsZSh0YWJsZSk7XHJcbiAgICAgICAgaWYgKCFoaXN0VGFibGUpIHsgLy8gcm93IG1vZGVcclxuICAgICAgICAgICAgdGhpcy5fcHVyZ2VSb3dIaXN0b3J5KHRhYmxlLCBbcm93UEtdLCBjb21wbGV0ZSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgeyAvLyB0YWJsZSBtb2RlXHJcbiAgICAgICAgICAgIHRoaXMuX3B1cmdlVGFibGVIaXN0b3J5KGhpc3RUYWJsZSwgY29tcGxldGUsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBfTmFub1NRTEhpc3RvcnlQbHVnaW4ucHJvdG90eXBlLmRpZEV4ZWMgPSBmdW5jdGlvbiAoZXZlbnQsIG5leHQpIHtcclxuICAgICAgICAvLyBvbmx5IGRvIGhpc3Rvcnkgb24gcHVibGljIHRhYmxlcyAob25lcyB0aGF0IGRvbnQgYmVnaW4gd2l0aCBfKVxyXG4gICAgICAgIC8vIGFsc28gb25seSBkbyBoaXN0b3J5IGlmIHRoZXJlIHdhcyBhIGNoYW5nZSBpbiB0aGUgZGF0YWJhc2VcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmIChldmVudC50YWJsZSAmJiBldmVudC50YWJsZS5pbmRleE9mKFwiX1wiKSAhPT0gMCAmJiBldmVudC50eXBlcy5pbmRleE9mKFwiY2hhbmdlXCIpID4gLTEgJiYgZXZlbnQucXVlcnkuY29tbWVudHMuaW5kZXhPZihcIkhpc3RvcnkgV3JpdGVcIikgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3B1cmdlUGFyZW50SGlzdG9yeShldmVudC50YWJsZSwgZXZlbnQuYWZmZWN0ZWRSb3dQS1MsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwoZXZlbnQuYWZmZWN0ZWRSb3dzLCBmdW5jdGlvbiAocm93LCBrLCByb3dEb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBrID0gcm93W190aGlzLl90YWJsZVBrS2V5c1tldmVudC50YWJsZV1dO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fdGFibGVLZXlzW2V2ZW50LnRhYmxlXVtwa10pIHsgLy8gZXhpc3Rpbmcgcm93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl91bnNoaWZ0U2luZ2xlUm93KGV2ZW50LnRhYmxlLCBldmVudC50eXBlcywgcGssIHJvdywgZmFsc2UsIGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93RG9uZShwayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gbmV3IHJvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdGFibGVLZXlzW2V2ZW50LnRhYmxlXVtwa10gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdW5zaGlmdFNpbmdsZVJvdyhldmVudC50YWJsZSwgZXZlbnQudHlwZXMsIHBrLCByb3csIHRydWUsIGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucGFyZW50LnF1ZXJ5KFwidXBzZXJ0XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogcGssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdFJvd3M6IFtpZCwgLTFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RQdHI6IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLm1hbnVhbEV4ZWMoeyB0YWJsZTogXCJfXCIgKyBldmVudC50YWJsZSArIFwiX19oaXN0X2lkeFwiIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd0RvbmUocGspO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJvd0lEcykge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl91bnNoaWZ0UGFyZW50KGV2ZW50LCByb3dJRHMsIG5leHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbmV4dChldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIF9OYW5vU1FMSGlzdG9yeVBsdWdpbi5wcm90b3R5cGUuX3Vuc2hpZnRQYXJlbnQgPSBmdW5jdGlvbiAoZXZlbnQsIGhpc3RSb3dJRHMsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgLy8gbnVsbCBpZiBpbiByb3cgbW9kZSwgb3RoZXJ3aXNlIHByb3ZpZGVzIHRoZSBoaXN0b3J5IHRhYmxlXHJcbiAgICAgICAgdmFyIGhpc3RUYWJsZSA9IHRoaXMuX2hpc3RUYWJsZShldmVudC50YWJsZSk7XHJcbiAgICAgICAgaWYgKCFoaXN0VGFibGUpIHtcclxuICAgICAgICAgICAgY29tcGxldGUoZXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnQucXVlcnkoXCJ1cHNlcnRcIiwge1xyXG4gICAgICAgICAgICAgICAgaWQ6IHV0aWxpdGllc18xLnRpbWVpZCh0cnVlKSxcclxuICAgICAgICAgICAgICAgIHRhYmxlOiBldmVudC50YWJsZSxcclxuICAgICAgICAgICAgICAgIGtleXM6IGhpc3RSb3dJRHNcclxuICAgICAgICAgICAgfSkubWFudWFsRXhlYyh7IHRhYmxlOiBoaXN0VGFibGUgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShldmVudCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBfTmFub1NRTEhpc3RvcnlQbHVnaW4ucHJvdG90eXBlLl91bnNoaWZ0U2luZ2xlUm93ID0gZnVuY3Rpb24gKHRhYmxlLCBldmVudFR5cGVzLCByb3dQSywgcm93LCBza2lwSURYLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHJvd0hpc3RUYWJsZSA9IFwiX1wiICsgdGFibGUgKyBcIl9faGlzdF9pZHhcIjtcclxuICAgICAgICB2YXIgaWQgPSB1dGlsaXRpZXNfMS50aW1laWQodHJ1ZSk7XHJcbiAgICAgICAgdmFyIGFkanVzdEhpc3RvcnlJRFggPSBmdW5jdGlvbiAoYXBwZW5kSUQpIHtcclxuICAgICAgICAgICAgLy8gYWRqdXN0IHRoZSBoaXN0b3J5IHBvaW50ZXIgdGFibGUgd2l0aCB0aGUgbmV3IHJvdyBpZFxyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnQucXVlcnkoXCJzZWxlY3RcIikud2hlcmUoW1wiaWRcIiwgXCI9XCIsIHJvd1BLXSkubWFudWFsRXhlYyh7IHRhYmxlOiByb3dIaXN0VGFibGUgfSkudGhlbihmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGhpc3RSb3dJRFggPSBPYmplY3QuaXNGcm96ZW4ocm93c1swXSkgPyB1dGlsaXRpZXNfMS5fYXNzaWduKHJvd3NbMF0pIDogcm93c1swXTtcclxuICAgICAgICAgICAgICAgIGhpc3RSb3dJRFguaGlzdFJvd3MudW5zaGlmdChhcHBlbmRJRCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQucXVlcnkoXCJ1cHNlcnRcIiwgaGlzdFJvd0lEWCkud2hlcmUoW1wiaWRcIiwgXCI9XCIsIHJvd1BLXSkubWFudWFsRXhlYyh7IHRhYmxlOiByb3dIaXN0VGFibGUgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoYXBwZW5kSUQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKGV2ZW50VHlwZXMuaW5kZXhPZihcImRlbGV0ZVwiKSA+IC0xIHx8IGV2ZW50VHlwZXMuaW5kZXhPZihcImRyb3BcIikgPiAtMSkge1xyXG4gICAgICAgICAgICAvLyBhZGQgZGVsZXRlZCByZWNvcmQgdG8gaGlzdG9yeSB0YWJsZVxyXG4gICAgICAgICAgICBhZGp1c3RIaXN0b3J5SURYKC0xKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGFkZCByb3cgdG8gaGlzdG9yeSB0YWJsZVxyXG4gICAgICAgICAgICB0aGlzLnBhcmVudC5xdWVyeShcInVwc2VydFwiLCBfX2Fzc2lnbih7IF9pZDogaWQgfSwgcm93KSkubWFudWFsRXhlYyh7IHRhYmxlOiBcIl9cIiArIHRhYmxlICsgXCJfX2hpc3Rfcm93c1wiIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNraXBJRFgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZShpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYWRqdXN0SGlzdG9yeUlEWChpZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBfTmFub1NRTEhpc3RvcnlQbHVnaW4ucHJvdG90eXBlLmV4dGVuZCA9IGZ1bmN0aW9uIChuZXh0LCBhcmdzLCByZXN1bHQpIHtcclxuICAgICAgICBpZiAoYXJnc1swXSA9PT0gXCJoaXN0XCIpIHtcclxuICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gYXJnc1sxXTtcclxuICAgICAgICAgICAgdmFyIHRhYmxlID0gYXJnc1syXTtcclxuICAgICAgICAgICAgdmFyIHJvd1BLID0gYXJnc1szXTtcclxuICAgICAgICAgICAgc3dpdGNoIChxdWVyeSkge1xyXG4gICAgICAgICAgICAgICAgLy8gbW92ZSBkYXRhYmFzZS90YWJsZS9yb3cgZm9yd2FyZCBvciBiYWNrd2FyZCBpbiBoaXN0b3J5XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiPFwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIj5cIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaGlmdEhpc3RvcnkocXVlcnksIHRhYmxlLCByb3dQSywgZnVuY3Rpb24gKGRpZEFueXRoaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoYXJncywgW2RpZEFueXRoaW5nXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAvLyBxdWVyeSBoaXN0b3J5IHN0YXRlIG9mIGRhdGFiYXNlL3RhYmxlL3Jvd1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIj9cIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9xdWVyeUhpc3RvcnkodGFibGUsIHJvd1BLLCBmdW5jdGlvbiAocVJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KGFyZ3MsIHFSZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgLy8gZ2V0IGFsbCByZXZpc2lvbnMgb2YgYSBnaXZlbiByb3dcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJyZXZcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZXRSZXZpc2lvbkhpc3RvcnkodGFibGUsIHJvd1BLLCBmdW5jdGlvbiAocVJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KGFyZ3MsIHFSZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgLy8gY2xlYXIgaGlzdG9yeSBvZiB0aGUgZGF0YWJhc2UvdGFibGUvcm93XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2xlYXJcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wdXJnZUFsbEhpc3RvcnkodGFibGUsIHJvd1BLLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoYXJncywgcmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbmV4dChhcmdzLCByZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvLyBvbmx5IHdvcmtzIHdoZW4gZ2l2ZW4gYSBzcGVjaWZpYyByb3dcclxuICAgIF9OYW5vU1FMSGlzdG9yeVBsdWdpbi5wcm90b3R5cGUuX2dldFJldmlzaW9uSGlzdG9yeSA9IGZ1bmN0aW9uICh0YWJsZSwgcm93UEssIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgcm93SGlzdFRhYmxlID0gXCJfXCIgKyB0YWJsZSArIFwiX19oaXN0X2lkeFwiO1xyXG4gICAgICAgIHRoaXMucGFyZW50LnF1ZXJ5KFwic2VsZWN0XCIpLndoZXJlKFtcImlkXCIsIFwiPVwiLCByb3dQS10pLm1hbnVhbEV4ZWMoeyB0YWJsZTogcm93SGlzdFRhYmxlIH0pLnRoZW4oZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgdmFyIGdldFJvd3MgPSByb3dzWzBdLmhpc3RSb3dzLmZpbHRlcihmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIGlkICE9PSAtMTsgfSk7XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudC5xdWVyeShcInNlbGVjdFwiKS53aGVyZShbXCJfaWRcIiwgXCJJTlwiLCBnZXRSb3dzXSkubWFudWFsRXhlYyh7IHRhYmxlOiBcIl9cIiArIHRhYmxlICsgXCJfX2hpc3Rfcm93c1wiIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdFJvd3MpIHtcclxuICAgICAgICAgICAgICAgIHZhciByT2JqID0ge307XHJcbiAgICAgICAgICAgICAgICByZXN1bHRSb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJPYmpbcm93W3N0cnNbMl1dXSA9IE9iamVjdC5pc0Zyb3plbihyb3cpID8gdXRpbGl0aWVzXzEuX2Fzc2lnbihyb3cpIDogcm93O1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSByT2JqW3Jvd1tzdHJzWzJdXV1bc3Ryc1syXV07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ZXI6IHJvd3NbMF0uaGlzdFJvd3MubGVuZ3RoIC0gcm93c1swXS5oaXN0UHRyIC0gMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV2aXNpb25zOiByb3dzWzBdLmhpc3RSb3dzLnJldmVyc2UoKS5tYXAoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIgPT09IC0xID8gbnVsbCA6IHJPYmpbcl07IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBfTmFub1NRTEhpc3RvcnlQbHVnaW4ucHJvdG90eXBlLl9nZXRUYWJsZUhpc3RvcnkgPSBmdW5jdGlvbiAodGFibGUsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLnBhcmVudC5leHRlbmQoXCJpZHgubGVuZ3RoXCIsIHRhYmxlKS50aGVuKGZ1bmN0aW9uIChsZW4pIHtcclxuICAgICAgICAgICAgX3RoaXMucGFyZW50LnF1ZXJ5KFwic2VsZWN0XCIpLm1hbnVhbEV4ZWMoeyB0YWJsZTogdGFibGUgKyBcIl9wdHJcIiB9KS50aGVuKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoWzAsIDBdKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShbbGVuLCBsZW4gLSByb3dzWzBdLnB0cl0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBfTmFub1NRTEhpc3RvcnlQbHVnaW4ucHJvdG90eXBlLl9xdWVyeUhpc3RvcnkgPSBmdW5jdGlvbiAodGFibGUsIHJvd1BLLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5oaXN0b3J5TW9kZXMpIHsgLy8gZ2xvYmFsIG1vZGVcclxuICAgICAgICAgICAgdGhpcy5fZ2V0VGFibGVIaXN0b3J5KFwiX2hpc3RcIiwgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUocmVzdWx0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGhpc3RUYWJsZSA9IHRoaXMuX2hpc3RUYWJsZSh0YWJsZSk7XHJcbiAgICAgICAgaWYgKCFoaXN0VGFibGUpIHsgLy8gZ2V0IHNpbmdsZSByb3cgaGlzdG9yeVxyXG4gICAgICAgICAgICBpZiAoIXJvd1BLKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIk5lZWQgYSByb3cgcHJpbWFyeSBrZXkgdG8gcXVlcnkgdGhpcyBoaXN0b3J5IVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcm93SGlzdFRhYmxlID0gXCJfXCIgKyB0YWJsZSArIFwiX19oaXN0X2lkeFwiO1xyXG4gICAgICAgICAgICB0aGlzLnBhcmVudC5xdWVyeShcInNlbGVjdFwiKS53aGVyZShbXCJpZFwiLCBcIj1cIiwgcm93UEtdKS5tYW51YWxFeGVjKHsgdGFibGU6IHJvd0hpc3RUYWJsZSB9KS50aGVuKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGlzdFJvd0lEWCA9IHJvd3NbMF07XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShbaGlzdFJvd0lEWC5oaXN0Um93cy5sZW5ndGgsIGhpc3RSb3dJRFguaGlzdFJvd3MubGVuZ3RoIC0gaGlzdFJvd0lEWC5oaXN0UHRyIC0gMV0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7IC8vIGdldCBzaW5nbGUgdGFibGUgaGlzdG9yeVxyXG4gICAgICAgICAgICBpZiAoIXRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIk5lZWQgYSB0YWJsZSB0byBxdWVyeSB0aGlzIGhpc3RvcnkhXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2dldFRhYmxlSGlzdG9yeShoaXN0VGFibGUsIGNvbXBsZXRlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgX05hbm9TUUxIaXN0b3J5UGx1Z2luLnByb3RvdHlwZS5fc2hpZnRUYWJsZUhpc3RvcnkgPSBmdW5jdGlvbiAoZGlyZWN0aW9uLCB0YWJsZSwgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMucGFyZW50LnF1ZXJ5KFwic2VsZWN0XCIpLm1hbnVhbEV4ZWMoeyB0YWJsZTogdGFibGUgKyBcIl9wdHJcIiB9KS50aGVuKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgIHZhciByb3dQdHIgPSB1dGlsaXRpZXNfMS5fYXNzaWduKHJvd3NbMF0pO1xyXG4gICAgICAgICAgICByb3dQdHIucHRyICs9IGRpcmVjdGlvbiA9PT0gXCI8XCIgPyAxIDogLTE7XHJcbiAgICAgICAgICAgIGlmIChyb3dQdHIucHRyIDwgMClcclxuICAgICAgICAgICAgICAgIHJvd1B0ci5wdHIgPSAwO1xyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnQuZXh0ZW5kKFwiaWR4Lmxlbmd0aFwiLCB0YWJsZSkudGhlbihmdW5jdGlvbiAobGVuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocm93UHRyLnB0ciA+IGxlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd1B0ci5wdHIgPSBsZW47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocm93c1swXS5wdHIgPT09IHJvd1B0ci5wdHIpIHsgLy8gbm8gY2hhbmdlIGluIGhpc3RvcnksIG5vdGhpbmcgdG8gZG8uXHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF90aGlzLnBhcmVudC5xdWVyeShcInNlbGVjdFwiKS5yYW5nZSgtMSwgZGlyZWN0aW9uID09PSBcIjxcIiA/IHJvd3NbMF0ucHRyIDogcm93UHRyLnB0cikubWFudWFsRXhlYyh7IHRhYmxlOiB0YWJsZSB9KS50aGVuKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucGFyZW50LnF1ZXJ5KFwidXBzZXJ0XCIsIHJvd1B0cikubWFudWFsRXhlYyh7IHRhYmxlOiB0YWJsZSArIFwiX3B0clwiIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHJvd3NbMF0ua2V5cywgZnVuY3Rpb24gKHBrLCBpLCBuZXh0Um93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc2hpZnRSb3dIaXN0b3J5KGRpcmVjdGlvbiwgcm93c1swXS50YWJsZSwgcGssIG5leHRSb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkaWRBbnl0aGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoZGlkQW55dGhpbmcuaW5kZXhPZih0cnVlKSA+IC0xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX05hbm9TUUxIaXN0b3J5UGx1Z2luLnByb3RvdHlwZS5fc2hpZnRSb3dIaXN0b3J5ID0gZnVuY3Rpb24gKGRpcmVjdGlvbiwgdGFibGUsIFBLLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHVwZGF0ZUlEWCA9IGZ1bmN0aW9uIChtZXRhKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudC5xdWVyeShcInVwc2VydFwiLCBtZXRhKS53aGVyZShbX3RoaXMuX3RhYmxlUGtLZXlzW3RhYmxlXSwgXCI9XCIsIFBLXSkubWFudWFsRXhlYyh7IHRhYmxlOiBcIl9cIiArIHRhYmxlICsgXCJfX2hpc3RfaWR4XCIgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZSh0cnVlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnBhcmVudC5xdWVyeShcInNlbGVjdFwiKS53aGVyZShbdGhpcy5fdGFibGVQa0tleXNbdGFibGVdLCBcIj1cIiwgUEtdKS5tYW51YWxFeGVjKHsgdGFibGU6IFwiX1wiICsgdGFibGUgKyBcIl9faGlzdF9pZHhcIiB9KS50aGVuKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgIHZhciByb3dJRFggPSB1dGlsaXRpZXNfMS5fYXNzaWduKHJvd3NbMF0pO1xyXG4gICAgICAgICAgICByb3dJRFguaGlzdFB0ciArPSBkaXJlY3Rpb24gPT09IFwiPFwiID8gMSA6IC0xO1xyXG4gICAgICAgICAgICBpZiAocm93SURYLmhpc3RQdHIgPCAwKVxyXG4gICAgICAgICAgICAgICAgcm93SURYLmhpc3RQdHIgPSAwO1xyXG4gICAgICAgICAgICBpZiAocm93SURYLmhpc3RQdHIgPiByb3dJRFguaGlzdFJvd3MubGVuZ3RoIC0gMSlcclxuICAgICAgICAgICAgICAgIHJvd0lEWC5oaXN0UHRyID0gcm93SURYLmhpc3RSb3dzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgIGlmIChyb3dJRFguaGlzdFB0ciA9PT0gcm93c1swXS5oaXN0UHRyKSB7IC8vIG91dHNpZGUgb2YgaGlzdG9yeSByYW5nZSwgbm90aGluZyB0byBkb1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBoaXN0b3J5UEsgPSByb3dJRFguaGlzdFJvd3Nbcm93SURYLmhpc3RQdHJdO1xyXG4gICAgICAgICAgICBpZiAoaGlzdG9yeVBLID09PSAtMSkgeyAvLyByb3cgaGFzIGJlZW4gZGVsZXRlZFxyXG4gICAgICAgICAgICAgICAgX3RoaXMucGFyZW50LnF1ZXJ5KFwiZGVsZXRlXCIpLmNvbW1lbnQoXCJIaXN0b3J5IFdyaXRlXCIpLndoZXJlKFtfdGhpcy5fdGFibGVQa0tleXNbdGFibGVdLCBcIj1cIiwgUEtdKS5tYW51YWxFeGVjKHsgdGFibGU6IHRhYmxlIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUlEWChyb3dJRFgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7IC8vIHJvdyBoYXMgYmVlbiBhZGRlZCBvciBtb2RpZmllZFxyXG4gICAgICAgICAgICAgICAgLy8gcHVsbCB0aGUgaGlzdG9yeSdzIGNvcHkgb2YgdGhlIHJvd1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucGFyZW50LnF1ZXJ5KFwic2VsZWN0XCIpLndoZXJlKFtcIl9pZFwiLCBcIj1cIiwgaGlzdG9yeVBLXSkubWFudWFsRXhlYyh7IHRhYmxlOiBcIl9cIiArIHRhYmxlICsgXCJfX2hpc3Rfcm93c1wiIH0pLnRoZW4oZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBvdmVyd3JpdGUgdGhlIHJvdyBpbiB0aGUgZGF0YWJhc2VcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQucXVlcnkoXCJ1cHNlcnRcIiwgcm93c1swXSkuY29tbWVudChcIkhpc3RvcnkgV3JpdGVcIikubWFudWFsRXhlYyh7IHRhYmxlOiB0YWJsZSB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlSURYKHJvd0lEWCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIF9OYW5vU1FMSGlzdG9yeVBsdWdpbi5wcm90b3R5cGUuX3NoaWZ0SGlzdG9yeSA9IGZ1bmN0aW9uIChkaXJlY3Rpb24sIHRhYmxlLCByb3dQSywgY29tcGxldGUpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaGlzdG9yeU1vZGVzKSB7IC8vIGdsb2JhbCBtb2RlXHJcbiAgICAgICAgICAgIHRoaXMuX3NoaWZ0VGFibGVIaXN0b3J5KGRpcmVjdGlvbiwgXCJfaGlzdFwiLCBjb21wbGV0ZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGhpc3RUYWJsZSA9IHRoaXMuX2hpc3RUYWJsZSh0YWJsZSk7XHJcbiAgICAgICAgaWYgKCFoaXN0VGFibGUpIHsgLy8gYWRqdXN0IHNpbmdsZSByb3cgaGlzdG9yeVxyXG4gICAgICAgICAgICBpZiAoIXJvd1BLKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIk5lZWQgYSByb3cgcHJpbWFyeSBrZXkgdG8gY2hhbmdlIHRoaXMgaGlzdG9yeSFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fc2hpZnRSb3dIaXN0b3J5KGRpcmVjdGlvbiwgdGFibGUsIHJvd1BLLCBjb21wbGV0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgeyAvLyBhZGp1c3Qgc2luZ2xlIHRhYmxlIGhpc3RvcnlcclxuICAgICAgICAgICAgaWYgKCF0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJOZWVkIGEgdGFibGUgdG8gY2hhbmdlIHRoaXMgaGlzdG9yeSFcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fc2hpZnRUYWJsZUhpc3RvcnkoZGlyZWN0aW9uLCBoaXN0VGFibGUsIGNvbXBsZXRlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9OYW5vU1FMSGlzdG9yeVBsdWdpbjtcclxufSgpKTtcclxuZXhwb3J0cy5fTmFub1NRTEhpc3RvcnlQbHVnaW4gPSBfTmFub1NRTEhpc3RvcnlQbHVnaW47XHJcbiIsInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xyXG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXHJcbiAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGxpZV90c18xID0gcmVxdWlyZShcImxpZS10c1wiKTtcclxudmFyIHV0aWxpdGllc18xID0gcmVxdWlyZShcIi4uL3V0aWxpdGllc1wiKTtcclxudmFyIGRiX2lkeF8xID0gcmVxdWlyZShcIi4vZGItaWR4XCIpO1xyXG52YXIgZGVsZXRlRm9sZGVyUmVjdXJzaXZlID0gZnVuY3Rpb24gKHBhdGgpIHtcclxuICAgIGlmIChnbG9iYWwuX2ZzLmV4aXN0c1N5bmMocGF0aCkpIHtcclxuICAgICAgICBnbG9iYWwuX2ZzLnJlYWRkaXJTeW5jKHBhdGgpLmZvckVhY2goZnVuY3Rpb24gKGZpbGUpIHtcclxuICAgICAgICAgICAgdmFyIGN1clBhdGggPSBwYXRoICsgXCIvXCIgKyBmaWxlO1xyXG4gICAgICAgICAgICBpZiAoZ2xvYmFsLl9mcy5zdGF0U3luYyhjdXJQYXRoKS5pc0RpcmVjdG9yeSgpKSB7IC8vIHJlY3Vyc2VcclxuICAgICAgICAgICAgICAgIGRlbGV0ZUZvbGRlclJlY3Vyc2l2ZShjdXJQYXRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHsgLy8gZGVsZXRlIGZpbGVcclxuICAgICAgICAgICAgICAgIGdsb2JhbC5fZnMudW5saW5rU3luYyhjdXJQYXRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGdsb2JhbC5fZnMucm1kaXJTeW5jKHBhdGgpO1xyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogSGFuZGxlcyBMZXZlbCBEQiBzdG9yYWdlLlxyXG4gKlxyXG4gKiBAZXhwb3J0XHJcbiAqIEBjbGFzcyBfTGV2ZWxTdG9yZVxyXG4gKiBAaW1wbGVtZW50cyB7TmFub1NRTFN0b3JhZ2VBZGFwdGVyfVxyXG4gKi9cclxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXHJcbnZhciBfTGV2ZWxTdG9yZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIF9MZXZlbFN0b3JlKHBhdGgsIHdyaXRlQ2FjaGUsIHJlYWRDYWNoZSkge1xyXG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XHJcbiAgICAgICAgdGhpcy53cml0ZUNhY2hlID0gd3JpdGVDYWNoZTtcclxuICAgICAgICB0aGlzLnJlYWRDYWNoZSA9IHJlYWRDYWNoZTtcclxuICAgICAgICB0aGlzLl9wa0tleSA9IHt9O1xyXG4gICAgICAgIHRoaXMuX3BrVHlwZSA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2RiSW5kZXggPSB7fTtcclxuICAgICAgICB0aGlzLl9sZXZlbERCcyA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2lzUEtudW0gPSB7fTtcclxuICAgIH1cclxuICAgIF9MZXZlbFN0b3JlLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKE9iamVjdC5rZXlzKHRoaXMuX2RiSW5kZXgpLCBmdW5jdGlvbiAodGFibGUsIGksIGRvbmUpIHtcclxuICAgICAgICAgICAgdmFyIHBrcyA9IFtdO1xyXG4gICAgICAgICAgICBfdGhpcy5fbGV2ZWxEQnNbdGFibGVdLmNyZWF0ZUtleVN0cmVhbSgpXHJcbiAgICAgICAgICAgICAgICAub24oXCJkYXRhXCIsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBwa3MucHVzaChfdGhpcy5faXNQS251bVt0YWJsZV0gPyBuZXcgZ2xvYmFsLl9JbnQ2NEJFKGRhdGEpLnRvTnVtYmVyKCkgOiBkYXRhKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5vbihcImVuZFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGtzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9kYkluZGV4W3RhYmxlXS5zZXQocGtzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSkudGhlbihjb21wbGV0ZSk7XHJcbiAgICB9O1xyXG4gICAgX0xldmVsU3RvcmUucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwoT2JqZWN0LmtleXModGhpcy5fZGJJbmRleCksIGZ1bmN0aW9uICh0YWJsZSwgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICBfdGhpcy5fbGV2ZWxEQnNbdGFibGVdLmNsb3NlKGRvbmUpO1xyXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb21wbGV0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIF9MZXZlbFN0b3JlLnByb3RvdHlwZS5zZXRJRCA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIHRoaXMuX2lkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5fcGF0aCA9ICh0aGlzLnBhdGggfHwgXCIuXCIpICsgXCIvZGJfXCIgKyB0aGlzLl9pZDtcclxuICAgICAgICBpZiAoIWdsb2JhbC5fZnMuZXhpc3RzU3luYyh0aGlzLl9wYXRoKSkge1xyXG4gICAgICAgICAgICBnbG9iYWwuX2ZzLm1rZGlyU3luYyh0aGlzLl9wYXRoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgX0xldmVsU3RvcmUucHJvdG90eXBlLm1ha2VUYWJsZSA9IGZ1bmN0aW9uICh0YWJsZU5hbWUsIGRhdGFNb2RlbHMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuX2RiSW5kZXhbdGFibGVOYW1lXSA9IG5ldyBkYl9pZHhfMS5EYXRhYmFzZUluZGV4KCk7XHJcbiAgICAgICAgdGhpcy5fbGV2ZWxEQnNbdGFibGVOYW1lXSA9IGdsb2JhbC5fbGV2ZWx1cChnbG9iYWwuX2xldmVsZG93bihnbG9iYWwuX3BhdGguam9pbih0aGlzLl9wYXRoLCB0YWJsZU5hbWUpKSwge1xyXG4gICAgICAgICAgICBjYWNoZVNpemU6ICh0aGlzLnJlYWRDYWNoZSB8fCAzMikgKiAxMDI0ICogMTAyNCxcclxuICAgICAgICAgICAgd3JpdGVCdWZmZXJTaXplOiAodGhpcy53cml0ZUNhY2hlIHx8IDMyKSAqIDEwMjQgKiAxMDI0XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZGF0YU1vZGVscy5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChkLnByb3BzICYmIHV0aWxpdGllc18xLmludGVyc2VjdChbXCJwa1wiLCBcInBrKClcIl0sIGQucHJvcHMpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fcGtUeXBlW3RhYmxlTmFtZV0gPSBkLnR5cGU7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fcGtLZXlbdGFibGVOYW1lXSA9IGQua2V5O1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX2lzUEtudW1bdGFibGVOYW1lXSA9IFtcImludFwiLCBcIm51bWJlclwiLCBcImZsb2F0XCJdLmluZGV4T2YoZC50eXBlKSAhPT0gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGQucHJvcHMgJiYgdXRpbGl0aWVzXzEuaW50ZXJzZWN0KFtcImFpXCIsIFwiYWkoKVwiXSwgZC5wcm9wcykgJiYgdXRpbGl0aWVzXzEuaW50ZXJzZWN0KFtcInBrXCIsIFwicGsoKVwiXSwgZC5wcm9wcykgJiYgZC50eXBlID09PSBcImludFwiKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fZGJJbmRleFt0YWJsZU5hbWVdLmRvQUkgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX0xldmVsU3RvcmUucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKHRhYmxlLCBwaywgZGF0YSwgY29tcGxldGUpIHtcclxuICAgICAgICBwayA9IHBrIHx8IHV0aWxpdGllc18xLmdlbmVyYXRlSUQodGhpcy5fcGtUeXBlW3RhYmxlXSwgdGhpcy5fZGJJbmRleFt0YWJsZV0uYWkpO1xyXG4gICAgICAgIGlmICghcGspIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJDYW4ndCBhZGQgYSByb3cgd2l0aG91dCBhIHByaW1hcnkga2V5IVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX2RiSW5kZXhbdGFibGVdLmluZGV4T2YocGspID09PSAtMSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kYkluZGV4W3RhYmxlXS5hZGQocGspO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgciA9IF9fYXNzaWduKHt9LCBkYXRhLCAoX2EgPSB7fSwgX2FbdGhpcy5fcGtLZXlbdGFibGVdXSA9IHBrLCBfYSkpO1xyXG4gICAgICAgIHRoaXMuX2xldmVsREJzW3RhYmxlXS5wdXQodGhpcy5faXNQS251bVt0YWJsZV0gPyBuZXcgZ2xvYmFsLl9JbnQ2NEJFKHBrKS50b0J1ZmZlcigpIDogcGssIEpTT04uc3RyaW5naWZ5KHIpLCBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGVycik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgIH07XHJcbiAgICBfTGV2ZWxTdG9yZS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKHRhYmxlLCBwaywgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgaWR4ID0gdGhpcy5fZGJJbmRleFt0YWJsZV0uaW5kZXhPZihwayk7XHJcbiAgICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGJJbmRleFt0YWJsZV0ucmVtb3ZlKHBrKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fbGV2ZWxEQnNbdGFibGVdLmRlbCh0aGlzLl9pc1BLbnVtW3RhYmxlXSA/IG5ldyBnbG9iYWwuX0ludDY0QkUocGspLnRvQnVmZmVyKCkgOiBwaywgZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihlcnIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIF9MZXZlbFN0b3JlLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKHRhYmxlLCBwaywgY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAodGhpcy5fZGJJbmRleFt0YWJsZV0uaW5kZXhPZihwaykgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2xldmVsREJzW3RhYmxlXS5nZXQodGhpcy5faXNQS251bVt0YWJsZV0gPyBuZXcgZ2xvYmFsLl9JbnQ2NEJFKHBrKS50b0J1ZmZlcigpIDogcGssIGZ1bmN0aW9uIChlcnIsIHJvdykge1xyXG4gICAgICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihlcnIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soSlNPTi5wYXJzZShyb3cpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIF9MZXZlbFN0b3JlLnByb3RvdHlwZS5yYW5nZVJlYWQgPSBmdW5jdGlvbiAodGFibGUsIHJvd0NhbGxiYWNrLCBjb21wbGV0ZSwgZnJvbSwgdG8sIHVzZVBLKSB7XHJcbiAgICAgICAgdmFyIGtleXMgPSB0aGlzLl9kYkluZGV4W3RhYmxlXS5rZXlzKCk7XHJcbiAgICAgICAgdmFyIHVzZWZ1bFZhbHVlcyA9IFt0eXBlb2YgZnJvbSwgdHlwZW9mIHRvXS5pbmRleE9mKFwidW5kZWZpbmVkXCIpID09PSAtMTtcclxuICAgICAgICB2YXIgcmFuZ2VzID0gdXNlZnVsVmFsdWVzID8gW2Zyb20sIHRvXSA6IFswLCBrZXlzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIHZhciByb3dzID0gW107XHJcbiAgICAgICAgdmFyIGxvd2VyID0gdXNlUEsgJiYgdXNlZnVsVmFsdWVzID8gZnJvbSA6IGtleXNbcmFuZ2VzWzBdXTtcclxuICAgICAgICB2YXIgaGlnaGVyID0gdXNlUEsgJiYgdXNlZnVsVmFsdWVzID8gdG8gOiBrZXlzW3Jhbmdlc1sxXV07XHJcbiAgICAgICAgdGhpcy5fbGV2ZWxEQnNbdGFibGVdXHJcbiAgICAgICAgICAgIC5jcmVhdGVWYWx1ZVN0cmVhbSh7XHJcbiAgICAgICAgICAgIGd0ZTogdGhpcy5faXNQS251bVt0YWJsZV0gPyBuZXcgZ2xvYmFsLl9JbnQ2NEJFKGxvd2VyKS50b0J1ZmZlcigpIDogbG93ZXIsXHJcbiAgICAgICAgICAgIGx0ZTogdGhpcy5faXNQS251bVt0YWJsZV0gPyBuZXcgZ2xvYmFsLl9JbnQ2NEJFKGhpZ2hlcikudG9CdWZmZXIoKSA6IGhpZ2hlclxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbihcImRhdGFcIiwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgcm93cy5wdXNoKEpTT04ucGFyc2UoZGF0YSkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbihcImVuZFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBpZHggPSByYW5nZXNbMF0gfHwgMDtcclxuICAgICAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgICAgICB2YXIgZ2V0Um93ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPCByb3dzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd0NhbGxiYWNrKHJvd3NbaV0sIGlkeCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZHgrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpICUgNTAwID09PSAwID8gbGllX3RzXzEuc2V0RmFzdChnZXRSb3cpIDogZ2V0Um93KCk7IC8vIGhhbmRsZSBtYXhpbXVtIGNhbGwgc3RhY2sgZXJyb3JcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGdldFJvdygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIF9MZXZlbFN0b3JlLnByb3RvdHlwZS5kcm9wID0gZnVuY3Rpb24gKHRhYmxlLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTCh0aGlzLl9kYkluZGV4W3RhYmxlXS5rZXlzKCksIGZ1bmN0aW9uIChwaywgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICBfdGhpcy5fbGV2ZWxEQnNbdGFibGVdLmRlbChwaywgZG9uZSk7XHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBpZHggPSBuZXcgZGJfaWR4XzEuRGF0YWJhc2VJbmRleCgpO1xyXG4gICAgICAgICAgICBpZHguZG9BSSA9IF90aGlzLl9kYkluZGV4W3RhYmxlXS5kb0FJO1xyXG4gICAgICAgICAgICBfdGhpcy5fZGJJbmRleFt0YWJsZV0gPSBpZHg7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX0xldmVsU3RvcmUucHJvdG90eXBlLmdldEluZGV4ID0gZnVuY3Rpb24gKHRhYmxlLCBnZXRMZW5ndGgsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgY29tcGxldGUoZ2V0TGVuZ3RoID8gdGhpcy5fZGJJbmRleFt0YWJsZV0ua2V5cygpLmxlbmd0aCA6IHRoaXMuX2RiSW5kZXhbdGFibGVdLmtleXMoKSk7XHJcbiAgICB9O1xyXG4gICAgX0xldmVsU3RvcmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwoT2JqZWN0LmtleXModGhpcy5fZGJJbmRleCksIGZ1bmN0aW9uICh0YWJsZSwgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICBfdGhpcy5kcm9wKHRhYmxlLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fbGV2ZWxEQnNbdGFibGVdLmNsb3NlKGRvbmUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZGVsZXRlRm9sZGVyUmVjdXJzaXZlKF90aGlzLl9wYXRoKTtcclxuICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX0xldmVsU3RvcmU7XHJcbn0oKSk7XHJcbmV4cG9ydHMuX0xldmVsU3RvcmUgPSBfTGV2ZWxTdG9yZTtcclxuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XHJcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcclxuICAgICAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgbGllX3RzXzEgPSByZXF1aXJlKFwibGllLXRzXCIpO1xyXG52YXIgdXRpbGl0aWVzXzEgPSByZXF1aXJlKFwiLi4vdXRpbGl0aWVzXCIpO1xyXG52YXIgZGJfaWR4XzEgPSByZXF1aXJlKFwiLi9kYi1pZHhcIik7XHJcbi8qKlxyXG4gKiBIYW5kbGVzIFdlYlNRTCBwZXJzaXN0ZW50IHN0b3JhZ2VcclxuICpcclxuICogQGV4cG9ydFxyXG4gKiBAY2xhc3MgX1N5bmNTdG9yZVxyXG4gKiBAaW1wbGVtZW50cyB7TmFub1NRTFN0b3JhZ2VBZGFwdGVyfVxyXG4gKi9cclxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXHJcbnZhciBfV2ViU1FMU3RvcmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBfV2ViU1FMU3RvcmUoc2l6ZSkge1xyXG4gICAgICAgIHRoaXMuX3BrS2V5ID0ge307XHJcbiAgICAgICAgdGhpcy5fcGtUeXBlID0ge307XHJcbiAgICAgICAgdGhpcy5fZGJJbmRleCA9IHt9O1xyXG4gICAgICAgIHRoaXMuX3NpemUgPSAoc2l6ZSB8fCAwKSAqIDEwMDAgKiAxMDAwO1xyXG4gICAgfVxyXG4gICAgX1dlYlNRTFN0b3JlLnByb3RvdHlwZS5zZXRJRCA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIHRoaXMuX2lkID0gaWQ7XHJcbiAgICB9O1xyXG4gICAgX1dlYlNRTFN0b3JlLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLl9kYiA9IHdpbmRvdy5vcGVuRGF0YWJhc2UodGhpcy5faWQsIFwiMS4wXCIsIHRoaXMuX2lkLCB0aGlzLl9zaXplIHx8IHV0aWxpdGllc18xLmlzQW5kcm9pZCA/IDUwMDAwMDAgOiAxKTtcclxuICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKE9iamVjdC5rZXlzKHRoaXMuX3BrS2V5KSwgZnVuY3Rpb24gKHRhYmxlLCBpLCBuZXh0S2V5KSB7XHJcbiAgICAgICAgICAgIF90aGlzLl9zcWwodHJ1ZSwgXCJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBcIiArIHRhYmxlICsgXCIgKGlkIEJMT0IgUFJJTUFSWSBLRVkgVU5JUVVFLCBkYXRhIFRFWFQpXCIsIFtdLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fc3FsKGZhbHNlLCBcIlNFTEVDVCBpZCBGUk9NIFwiICsgdGFibGUsIFtdLCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkeCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGlfMSA9IDA7IGlfMSA8IHJlc3VsdC5yb3dzLmxlbmd0aDsgaV8xKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWR4LnB1c2gocmVzdWx0LnJvd3MuaXRlbShpXzEpLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU1FMaXRlIGRvZXNuJ3Qgc29ydCBwcmltYXJ5IGtleXMsIGJ1dCB0aGUgc3lzdGVtIGRlcGVuZHMgb24gc29ydGVkIHByaW1hcnkga2V5c1xyXG4gICAgICAgICAgICAgICAgICAgIGlkeCA9IGlkeC5zb3J0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2RiSW5kZXhbdGFibGVdLnNldChpZHgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRLZXkoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KS50aGVuKGNvbXBsZXRlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRhYmxlIG5hbWVzIGNhbid0IGJlIGVzY2FwZWQgZWFzaWx5IGluIHRoZSBxdWVyaWVzLlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiBnYXVyYW50ZWVzIGFueSBwcm92aWRlZCB0YWJsZSBpcyBhIHZhbGlkIHRhYmxlIG5hbWUgYmVpbmcgdXNlZCBieSB0aGUgc3lzdGVtLlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFibGVcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKiBAbWVtYmVyb2YgX1dlYlNRTFN0b3JlXHJcbiAgICAgKi9cclxuICAgIF9XZWJTUUxTdG9yZS5wcm90b3R5cGUuX2Noa1RhYmxlID0gZnVuY3Rpb24gKHRhYmxlKSB7XHJcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuX3BrVHlwZSkuaW5kZXhPZih0YWJsZSkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiTm8gdGFibGUgXCIgKyB0YWJsZSArIFwiIGZvdW5kIVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0YWJsZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgX1dlYlNRTFN0b3JlLnByb3RvdHlwZS5tYWtlVGFibGUgPSBmdW5jdGlvbiAodGFibGVOYW1lLCBkYXRhTW9kZWxzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLl9kYkluZGV4W3RhYmxlTmFtZV0gPSBuZXcgZGJfaWR4XzEuRGF0YWJhc2VJbmRleCgpO1xyXG4gICAgICAgIGRhdGFNb2RlbHMuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAoZC5wcm9wcyAmJiBkLnByb3BzLmluZGV4T2YoXCJwa1wiKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fcGtUeXBlW3RhYmxlTmFtZV0gPSBkLnR5cGU7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fcGtLZXlbdGFibGVOYW1lXSA9IGQua2V5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkLnByb3BzICYmIGQucHJvcHMuaW5kZXhPZihcImFpXCIpID4gLTEgJiYgZC5wcm9wcy5pbmRleE9mKFwicGtcIikgPiAtMSAmJiBkLnR5cGUgPT09IFwiaW50XCIpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9kYkluZGV4W3RhYmxlTmFtZV0uZG9BSSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBfV2ViU1FMU3RvcmUucHJvdG90eXBlLl9zcWwgPSBmdW5jdGlvbiAoYWxsb3dXcml0ZSwgc3FsLCBhcmdzLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBkb1RyYW5zYWN0aW9uID0gZnVuY3Rpb24gKHR4KSB7XHJcbiAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoc3FsLCBhcmdzLCBmdW5jdGlvbiAodHgyLCByZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh0eCwgZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHNxbCwgYXJncywgZXJyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoYWxsb3dXcml0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kYi50cmFuc2FjdGlvbihkb1RyYW5zYWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RiLnJlYWRUcmFuc2FjdGlvbihkb1RyYW5zYWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgX1dlYlNRTFN0b3JlLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uICh0YWJsZSwgcGssIGRhdGEsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgcGsgPSBwayB8fCB1dGlsaXRpZXNfMS5nZW5lcmF0ZUlEKHRoaXMuX3BrVHlwZVt0YWJsZV0sIHRoaXMuX2RiSW5kZXhbdGFibGVdLmFpKTtcclxuICAgICAgICBpZiAoIXBrKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGFkZCBhIHJvdyB3aXRob3V0IGEgcHJpbWFyeSBrZXkhXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbmV3Um93ID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMuX2RiSW5kZXhbdGFibGVdLmluZGV4T2YocGspID09PSAtMSkge1xyXG4gICAgICAgICAgICBuZXdSb3cgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLl9kYkluZGV4W3RhYmxlXS5hZGQocGspO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobmV3Um93KSB7XHJcbiAgICAgICAgICAgIHZhciByXzEgPSBfX2Fzc2lnbih7fSwgZGF0YSwgKF9hID0ge30sIF9hW3RoaXMuX3BrS2V5W3RhYmxlXV0gPSBwaywgX2EpKTtcclxuICAgICAgICAgICAgdGhpcy5fc3FsKHRydWUsIFwiSU5TRVJUIGludG8gXCIgKyB0aGlzLl9jaGtUYWJsZSh0YWJsZSkgKyBcIiAoaWQsIGRhdGEpIFZBTFVFUyAoPywgPylcIiwgW3BrLCBKU09OLnN0cmluZ2lmeShyXzEpXSwgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUocl8xKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgcl8yID0gX19hc3NpZ24oe30sIGRhdGEsIChfYiA9IHt9LCBfYlt0aGlzLl9wa0tleVt0YWJsZV1dID0gcGssIF9iKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NxbCh0cnVlLCBcIlVQREFURSBcIiArIHRoaXMuX2Noa1RhYmxlKHRhYmxlKSArIFwiIFNFVCBkYXRhID0gPyBXSEVSRSBpZCA9ID9cIiwgW0pTT04uc3RyaW5naWZ5KHJfMiksIHBrXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUocl8yKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBfYSwgX2I7XHJcbiAgICB9O1xyXG4gICAgX1dlYlNRTFN0b3JlLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAodGFibGUsIHBrLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBwb3MgPSB0aGlzLl9kYkluZGV4W3RhYmxlXS5pbmRleE9mKHBrKTtcclxuICAgICAgICBpZiAocG9zICE9PSAtMSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kYkluZGV4W3RhYmxlXS5yZW1vdmUocGspO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9zcWwodHJ1ZSwgXCJERUxFVEUgRlJPTSBcIiArIHRoaXMuX2Noa1RhYmxlKHRhYmxlKSArIFwiIFdIRVJFIGlkID0gP1wiLCBbcGtdLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX1dlYlNRTFN0b3JlLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKHRhYmxlLCBwaywgY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLl9zcWwoZmFsc2UsIFwiU0VMRUNUIGRhdGEgRlJPTSBcIiArIHRoaXMuX2Noa1RhYmxlKHRhYmxlKSArIFwiIFdIRVJFIGlkID0gP1wiLCBbcGtdLCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQucm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKEpTT04ucGFyc2UocmVzdWx0LnJvd3MuaXRlbSgwKS5kYXRhKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX1dlYlNRTFN0b3JlLnByb3RvdHlwZS5iYXRjaFJlYWQgPSBmdW5jdGlvbiAodGFibGUsIHBrcywgY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLl9zcWwoZmFsc2UsIFwiU0VMRUNUIGRhdGEgZnJvbSBcIiArIHRoaXMuX2Noa1RhYmxlKHRhYmxlKSArIFwiIFdIRVJFIGlkIElOIChcIiArIHBrcy5tYXAoZnVuY3Rpb24gKHApIHsgcmV0dXJuIFwiP1wiOyB9KS5qb2luKFwiLCBcIikgKyBcIikgT1JERVIgQlkgaWRcIiwgcGtzLCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gcmVzdWx0LnJvd3MubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgcm93cyA9IFtdO1xyXG4gICAgICAgICAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgICAgICAgICByb3dzLnVuc2hpZnQoSlNPTi5wYXJzZShyZXN1bHQucm93cy5pdGVtKGkpLmRhdGEpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYWxsYmFjayhyb3dzKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBfV2ViU1FMU3RvcmUucHJvdG90eXBlLnJhbmdlUmVhZCA9IGZ1bmN0aW9uICh0YWJsZSwgcm93Q2FsbGJhY2ssIGNvbXBsZXRlLCBmcm9tLCB0bywgdXNlUEspIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBrZXlzID0gdGhpcy5fZGJJbmRleFt0YWJsZV0ua2V5cygpO1xyXG4gICAgICAgIHZhciB1c2VmdWxWYWx1ZXMgPSBbdHlwZW9mIGZyb20sIHR5cGVvZiB0b10uaW5kZXhPZihcInVuZGVmaW5lZFwiKSA9PT0gLTE7XHJcbiAgICAgICAgdmFyIHJhbmdlcyA9IHVzZWZ1bFZhbHVlcyA/IFtmcm9tLCB0b10gOiBbXTtcclxuICAgICAgICBpZiAoIWtleXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHVzZVBLICYmIHVzZWZ1bFZhbHVlcykge1xyXG4gICAgICAgICAgICByYW5nZXMgPSByYW5nZXMubWFwKGZ1bmN0aW9uIChyKSB7IHJldHVybiBfdGhpcy5fZGJJbmRleFt0YWJsZV0uZ2V0TG9jYXRpb24ocik7IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaWR4ID0gcmFuZ2VzWzBdIHx8IDA7XHJcbiAgICAgICAgdmFyIGdldEtleXMgPSBbXTtcclxuICAgICAgICB2YXIgc3RhcnRJRFggPSByYW5nZXNbMF07XHJcbiAgICAgICAgdmFyIHN0bW50ID0gXCJTRUxFQ1QgZGF0YSBmcm9tIFwiICsgdGhpcy5fY2hrVGFibGUodGFibGUpO1xyXG4gICAgICAgIC8vIFNRTGl0ZSBkb2Vzbid0IGhhbmRsZSBCRVRXRUVOIHN0YXRlbWVudHMgZ3JhY2VmdWxseSB3aXRoIHByaW1hcnkga2V5cywgYWx3YXlzIGRvaW5nIGEgZnVsbCB0YWJsZSBzY2FuLlxyXG4gICAgICAgIC8vIFNvIHdlIHRha2UgdGhlIGluZGV4IG9mIHRoZSB0YWJsZSAod2hpY2ggaXMgaW4ganMgbWVtb3J5KSBhbmQgY29udmVydCBpdCBpbnRvIGFuIElOIHN0YXRlbWVudCBtZWFuaW5nIFNRTGl0ZVxyXG4gICAgICAgIC8vIGNhbiBnbyBkaXJlY3RseSB0byB0aGUgcm93cyB3ZSBuZWVkIHdpdGhvdXQgYSBmdWxsIHRhYmxlIHNjYW4uXHJcbiAgICAgICAgaWYgKHJhbmdlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIHQgPSB0eXBlb2Yga2V5c1tzdGFydElEWF0gPT09IFwibnVtYmVyXCI7XHJcbiAgICAgICAgICAgIHdoaWxlIChzdGFydElEWCA8PSByYW5nZXNbMV0pIHtcclxuICAgICAgICAgICAgICAgIGdldEtleXMucHVzaChrZXlzW3N0YXJ0SURYXSk7XHJcbiAgICAgICAgICAgICAgICBzdGFydElEWCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0bW50ICs9IFwiIFdIRVJFIGlkIElOIChcIiArIGdldEtleXMubWFwKGZ1bmN0aW9uIChrKSB7IHJldHVybiBcIj9cIjsgfSkuam9pbihcIiwgXCIpICsgXCIpXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN0bW50ICs9IFwiIE9SREVSIEJZIGlkXCI7XHJcbiAgICAgICAgdGhpcy5fc3FsKGZhbHNlLCBzdG1udCwgZ2V0S2V5cywgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgICAgIHZhciBnZXRSb3cgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnJvd3MubGVuZ3RoID4gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd0NhbGxiYWNrKEpTT04ucGFyc2UocmVzdWx0LnJvd3MuaXRlbShpKS5kYXRhKSwgaWR4LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkeCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgJSA1MDAgPT09IDAgPyBsaWVfdHNfMS5zZXRGYXN0KGdldFJvdykgOiBnZXRSb3coKTsgLy8gaGFuZGxlIG1heGltdW0gY2FsbCBzdGFjayBlcnJvclxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZ2V0Um93KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX1dlYlNRTFN0b3JlLnByb3RvdHlwZS5kcm9wID0gZnVuY3Rpb24gKHRhYmxlLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBpZHggPSBuZXcgZGJfaWR4XzEuRGF0YWJhc2VJbmRleCgpO1xyXG4gICAgICAgIGlkeC5kb0FJID0gdGhpcy5fZGJJbmRleFt0YWJsZV0uZG9BSTtcclxuICAgICAgICB0aGlzLl9kYkluZGV4W3RhYmxlXSA9IGlkeDtcclxuICAgICAgICB0aGlzLl9zcWwodHJ1ZSwgXCJERUxFVEUgRlJPTSBcIiArIHRoaXMuX2Noa1RhYmxlKHRhYmxlKSwgW10sIGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX1dlYlNRTFN0b3JlLnByb3RvdHlwZS5nZXRJbmRleCA9IGZ1bmN0aW9uICh0YWJsZSwgZ2V0TGVuZ3RoLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIGNvbXBsZXRlKGdldExlbmd0aCA/IHRoaXMuX2RiSW5kZXhbdGFibGVdLmtleXMoKS5sZW5ndGggOiB0aGlzLl9kYkluZGV4W3RhYmxlXS5rZXlzKCkpO1xyXG4gICAgfTtcclxuICAgIF9XZWJTUUxTdG9yZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChPYmplY3Qua2V5cyh0aGlzLl9kYkluZGV4KSwgZnVuY3Rpb24gKHRhYmxlLCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmRyb3AodGFibGUsIGRvbmUpO1xyXG4gICAgICAgIH0pLnRoZW4oY29tcGxldGUpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfV2ViU1FMU3RvcmU7XHJcbn0oKSk7XHJcbmV4cG9ydHMuX1dlYlNRTFN0b3JlID0gX1dlYlNRTFN0b3JlO1xyXG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgfVxuICAgIHJldHVybiB0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBsaWVfdHNfMSA9IHJlcXVpcmUoXCJsaWUtdHNcIik7XG52YXIgdXRpbGl0aWVzXzEgPSByZXF1aXJlKFwiLi4vdXRpbGl0aWVzXCIpO1xudmFyIGRiX2lkeF8xID0gcmVxdWlyZShcIi4vZGItaWR4XCIpO1xudmFyIF9ldmFsQ29udGV4dCA9IGZ1bmN0aW9uIChzb3VyY2UsIGNvbnRleHQpIHtcbiAgICB2YXIgY29tcGlsZWQgPSBldmFsKFwiKGZ1bmN0aW9uKFwiICsgT2JqZWN0LmtleXMoY29udGV4dCkuam9pbihcIiwgXCIpICsgXCIpIHtcIiArIHNvdXJjZSArIFwifSlcIik7XG4gICAgcmV0dXJuIGNvbXBpbGVkLmFwcGx5KGNvbnRleHQsIE9iamVjdC5rZXlzKGNvbnRleHQpLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gY29udGV4dFtjXTsgfSkpO1xufTtcbi8qKlxuICogSGFuZGxlcyBJbmRleGVkREIgd2l0aCBhbmQgd2l0aG91dCB3ZWIgd29ya2Vycy5cbiAqIFVzZXMgYmxvYiB3b3JrZXIgT1IgZXZhbCgpcyB0aGUgd29ya2VyIGFuZCB1c2VzIGl0IGlubGluZS5cbiAqXG4gKiBAZXhwb3J0XG4gKiBAY2xhc3MgX0luZGV4ZWREQlN0b3JlXG4gKiBAaW1wbGVtZW50cyB7TmFub1NRTFN0b3JhZ2VBZGFwdGVyfVxuICovXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbnZhciBfSW5kZXhlZERCU3RvcmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gX0luZGV4ZWREQlN0b3JlKHVzZVdvcmtlcikge1xuICAgICAgICB0aGlzLl93b3JrZXIgPSAnZnVuY3Rpb24gbyhyKXt0aGlzLmdvPWZ1bmN0aW9uKHQpe3ZhciBvPTA7ciYmci5sZW5ndGh8fHQoW10pLHIuZm9yRWFjaChmdW5jdGlvbihlLG4pe2UoZnVuY3Rpb24oKXsrK289PT1yLmxlbmd0aCYmdChbXSl9KX0pfX12YXIgcz17ZGI6bnVsbCxzdG9yZTpmdW5jdGlvbihlLG4sdCl7dmFyIG89cy5kYi50cmFuc2FjdGlvbihlLG4pO3QobyxvLm9iamVjdFN0b3JlKGUpLGZ1bmN0aW9uKGUsbil7cmV0dXJuIGZ1bmN0aW9uKCl7cG9zdE1lc3NhZ2Uoe2RvOmUsYXJnczpufSl9fSl9LGluaXQ6ZnVuY3Rpb24oKXthZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGZ1bmN0aW9uKGUpe3ZhciBuPWUuZGF0YTtzW24uZG9dJiZzW24uZG9dKG4uYXJncyl9LCExKX0sc2V0dXA6ZnVuY3Rpb24obil7dmFyIGU9aW5kZXhlZERCLm9wZW4obi5pZCwxKSx0PSExLGE9e307ZS5vbnVwZ3JhZGVuZWVkZWQ9ZnVuY3Rpb24oZSl7dD0hMCxzLmRiPWUudGFyZ2V0LnJlc3VsdCxPYmplY3Qua2V5cyhuLnBrS2V5cykuZm9yRWFjaChmdW5jdGlvbihlKXtzLmRiLmNyZWF0ZU9iamVjdFN0b3JlKGUse2tleVBhdGg6bi5wa0tleXNbZV19KSxhW2VdPVtdfSl9LGUub25zdWNjZXNzPWZ1bmN0aW9uKGUpe2lmKHMuZGI9ZS50YXJnZXQucmVzdWx0LHQpcG9zdE1lc3NhZ2Uoe2RvOlwicmR5XCIsYXJnczphfSk7ZWxzZXtuZXcgbyhPYmplY3Qua2V5cyhuLnBrS2V5cykubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgZSxvLHI7ZT10LG89ZnVuY3Rpb24oZSl7YVt0XT1lLG4oKX0scj1bXSxzLnN0b3JlKGUsXCJyZWFkb25seVwiLGZ1bmN0aW9uKGUsbix0KXtuLm9wZW5DdXJzb3IoKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7dmFyIG49ZS50YXJnZXQucmVzdWx0O24mJihyLnB1c2gobi5rZXkpLG4uY29udGludWUoKSl9LGUub25jb21wbGV0ZT1mdW5jdGlvbigpe28ocil9fSl9fSkpLmdvKGZ1bmN0aW9uKCl7cG9zdE1lc3NhZ2Uoe2RvOlwicmR5XCIsYXJnczphfSl9KX19fSx3cml0ZTpmdW5jdGlvbihvKXtzLnN0b3JlKG8udGFibGUsXCJyZWFkd3JpdGVcIixmdW5jdGlvbihlLG4sdCl7bi5wdXQoby5yb3cpLGUub25jb21wbGV0ZT10KFwid3JpdGVfXCIrby5pZCxudWxsKX0pfSxyZWFkOmZ1bmN0aW9uKHIpe3Muc3RvcmUoci50YWJsZSxcInJlYWRvbmx5XCIsZnVuY3Rpb24oZSxuLHQpe3ZhciBvPW4uZ2V0KHIucGspO28ub25zdWNjZXNzPWZ1bmN0aW9uKCl7cG9zdE1lc3NhZ2Uoe2RvOlwicmVhZF9cIityLmlkLGFyZ3M6by5yZXN1bHR9KX19KX0scmVhZFJhbmdlOmZ1bmN0aW9uKGEpe3Muc3RvcmUoYS50YWJsZSxcInJlYWRvbmx5XCIsZnVuY3Rpb24oZSxuLHQpe3ZhciBvPVtdLHI9LTE9PT1hLnJhbmdlLmluZGV4T2Yodm9pZCAwKT9uLm9wZW5DdXJzb3IoSURCS2V5UmFuZ2UuYm91bmQoYS5yYW5nZVswXSxhLnJhbmdlWzFdKSk6bi5vcGVuQ3Vyc29yKCk7ZS5vbmNvbXBsZXRlPXQoXCJyZWFkUmFuZ2VfXCIrYS5pZCtcIl9kb25lXCIsbyksci5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7dmFyIG49ZS50YXJnZXQucmVzdWx0O24mJihvLnB1c2gobi52YWx1ZSksbi5jb250aW51ZSgpKX19KX0sZGVsZXRlOmZ1bmN0aW9uKG8pe3Muc3RvcmUoby50YWJsZSxcInJlYWR3cml0ZVwiLGZ1bmN0aW9uKGUsbix0KXtlLm9uY29tcGxldGU9dChcImRlbGV0ZV9cIitvLmlkLCEwKSxlLm9uZXJyb3I9dChcImRlbGV0ZV9cIitvLmlkLCExKSxcIl9jbGVhcl9cIj09PW8ucGs/bi5jbGVhcigpOm4uZGVsZXRlKG8ucGspfSl9fTtzLmluaXQoKTsnO1xuICAgICAgICB0aGlzLl9wa0tleSA9IHt9O1xuICAgICAgICB0aGlzLl9wa1R5cGUgPSB7fTtcbiAgICAgICAgdGhpcy5fZGJJbmRleCA9IHt9O1xuICAgICAgICB0aGlzLl93YWl0aW5nQ0JzID0ge307XG4gICAgICAgIHRoaXMuX3VzZVdvcmtlciA9IHVzZVdvcmtlcjtcbiAgICB9XG4gICAgX0luZGV4ZWREQlN0b3JlLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl91c2VXb3JrZXIpIHtcbiAgICAgICAgICAgIC8vIGJsb2Igd2Vid29ya2VyLCBkb2Vzbid0IHVzZSBhbiBleHRlcm5hbCBmaWxlIVxuICAgICAgICAgICAgLy8gbm90IHN1cHBvcnRlZCBieSBJRSBhbmQgRWRnZSB3aXRoIEluZGV4ZWREQiwgbGlrZSBhdCBhbGwuXG4gICAgICAgICAgICB0aGlzLl93ID0gbmV3IFdvcmtlcih3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbdGhpcy5fd29ya2VyXSkpKTtcbiAgICAgICAgICAgIHRoaXMuX3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5faGFuZGxlV1dNZXNzYWdlKGUuZGF0YS5kbywgZS5kYXRhLmFyZ3MpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBldmFsIHRoZSB3b3JrZXIsIHRoZSBlbmQgcmVzdWx0IGJlaW5nIGEgdWkgdGhyZWFkIGluZGV4ZWQgZGIgaW5zdGFuY2UuXG4gICAgICAgICAgICAvLyB0aGlzIGlzIG1vc3RseSB0byBnZXQgSW5kZXhlZERCIHN1cHBvcnQgaW4gSUUgYW5kIEVkZ2Ugd2l0aG91dCBkdXBsaWNhdGluZyB0aGUgaW5kZXhlZCBkYiBjb2RlXG4gICAgICAgICAgICB2YXIgbGlzdGVuZXJzXzEgPSBbXTtcbiAgICAgICAgICAgIC8vIGVtdWxhdGUgd29ya2VyIGJlaGF2aW9yXG4gICAgICAgICAgICBfZXZhbENvbnRleHQodGhpcy5fd29ya2VyLCB7XG4gICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2U6IGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2hhbmRsZVdXTWVzc2FnZShtc2cuZG8sIG1zZy5hcmdzKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnNfMS5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIGVtdWxhdGUgd29ya2VyIG9iamVjdFxuICAgICAgICAgICAgdGhpcy5fdyA9IHtcbiAgICAgICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyOiBudWxsLFxuICAgICAgICAgICAgICAgIHBvc3RNZXNzYWdlOiBmdW5jdGlvbiAobWVzc2FnZSwgdHJhbnNmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzXzEuZm9yRWFjaChmdW5jdGlvbiAobCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbCh7IGRhdGE6IG1lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV0dXJucyBpbmRleGVzIGZvciBlYWNoIHRhYmxlXG4gICAgICAgIHRoaXMuX3dhaXRpbmdDQnNbXCJyZHlcIl0gPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoYXJncykuZm9yRWFjaChmdW5jdGlvbiAodGFibGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fZGJJbmRleFt0YWJsZV0uc2V0KGFyZ3NbdGFibGVdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29tcGxldGUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fdy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBkbzogXCJzZXR1cFwiLCBhcmdzOiB7XG4gICAgICAgICAgICAgICAgcGtLZXlzOiB0aGlzLl9wa0tleSxcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5faWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBfSW5kZXhlZERCU3RvcmUucHJvdG90eXBlLnNldElEID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHRoaXMuX2lkID0gaWQ7XG4gICAgfTtcbiAgICBfSW5kZXhlZERCU3RvcmUucHJvdG90eXBlLl9oYW5kbGVXV01lc3NhZ2UgPSBmdW5jdGlvbiAoYWN0aW9uLCBhcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLl93YWl0aW5nQ0JzW2FjdGlvbl0pIHtcbiAgICAgICAgICAgIHRoaXMuX3dhaXRpbmdDQnNbYWN0aW9uXShhcmdzKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl93YWl0aW5nQ0JzW2FjdGlvbl07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIF9JbmRleGVkREJTdG9yZS5wcm90b3R5cGUubWFrZVRhYmxlID0gZnVuY3Rpb24gKHRhYmxlTmFtZSwgZGF0YU1vZGVscykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9kYkluZGV4W3RhYmxlTmFtZV0gPSBuZXcgZGJfaWR4XzEuRGF0YWJhc2VJbmRleCgpO1xuICAgICAgICBkYXRhTW9kZWxzLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIGlmIChkLnByb3BzICYmIHV0aWxpdGllc18xLmludGVyc2VjdChbXCJwa1wiLCBcInBrKClcIl0sIGQucHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3BrVHlwZVt0YWJsZU5hbWVdID0gZC50eXBlO1xuICAgICAgICAgICAgICAgIF90aGlzLl9wa0tleVt0YWJsZU5hbWVdID0gZC5rZXk7XG4gICAgICAgICAgICAgICAgaWYgKGQucHJvcHMgJiYgdXRpbGl0aWVzXzEuaW50ZXJzZWN0KFtcImFpXCIsIFwiYWkoKVwiXSwgZC5wcm9wcykgJiYgKGQudHlwZSA9PT0gXCJpbnRcIiB8fCBkLnR5cGUgPT09IFwibnVtYmVyXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9kYkluZGV4W3RhYmxlTmFtZV0uZG9BSSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIF9JbmRleGVkREJTdG9yZS5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAodGFibGUsIHBrLCBkYXRhLCBjb21wbGV0ZSkge1xuICAgICAgICBwayA9IHBrIHx8IHV0aWxpdGllc18xLmdlbmVyYXRlSUQodGhpcy5fcGtUeXBlW3RhYmxlXSwgdGhpcy5fZGJJbmRleFt0YWJsZV0uYWkpO1xuICAgICAgICBpZiAoIXBrKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBhZGQgYSByb3cgd2l0aG91dCBhIHByaW1hcnkga2V5IVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZGJJbmRleFt0YWJsZV0uaW5kZXhPZihwaykgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9kYkluZGV4W3RhYmxlXS5hZGQocGspO1xuICAgICAgICB9XG4gICAgICAgIHZhciBxdWVyeUlEID0gdXRpbGl0aWVzXzEudXVpZCgpO1xuICAgICAgICB2YXIgciA9IF9fYXNzaWduKHt9LCBkYXRhLCAoX2EgPSB7fSwgX2FbdGhpcy5fcGtLZXlbdGFibGVdXSA9IHBrLCBfYSkpO1xuICAgICAgICB0aGlzLl93YWl0aW5nQ0JzW1wid3JpdGVfXCIgKyBxdWVyeUlEXSA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICBjb21wbGV0ZShyKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fdy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBkbzogXCJ3cml0ZVwiLFxuICAgICAgICAgICAgYXJnczoge1xuICAgICAgICAgICAgICAgIHRhYmxlOiB0YWJsZSxcbiAgICAgICAgICAgICAgICBpZDogcXVlcnlJRCxcbiAgICAgICAgICAgICAgICByb3c6IHJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBfYTtcbiAgICB9O1xuICAgIF9JbmRleGVkREJTdG9yZS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKHRhYmxlLCBwaywgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIGlkeCA9IHRoaXMuX2RiSW5kZXhbdGFibGVdLmluZGV4T2YocGspO1xuICAgICAgICBpZiAoaWR4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5fZGJJbmRleFt0YWJsZV0ucmVtb3ZlKHBrKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcXVlcnlJRCA9IHV0aWxpdGllc18xLnV1aWQoKTtcbiAgICAgICAgdGhpcy5fd2FpdGluZ0NCc1tcImRlbGV0ZV9cIiArIHF1ZXJ5SURdID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3cucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgZG86IFwiZGVsZXRlXCIsIGFyZ3M6IHtcbiAgICAgICAgICAgICAgICB0YWJsZTogdGFibGUsXG4gICAgICAgICAgICAgICAgaWQ6IHF1ZXJ5SUQsXG4gICAgICAgICAgICAgICAgcGs6IHBrXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgX0luZGV4ZWREQlN0b3JlLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKHRhYmxlLCBwaywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHF1ZXJ5SUQgPSB1dGlsaXRpZXNfMS51dWlkKCk7XG4gICAgICAgIGlmICh0aGlzLl9kYkluZGV4W3RhYmxlXS5pbmRleE9mKHBrKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3dhaXRpbmdDQnNbXCJyZWFkX1wiICsgcXVlcnlJRF0gPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgY2FsbGJhY2soYXJncyk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3cucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgZG86IFwicmVhZFwiLCBhcmdzOiB7XG4gICAgICAgICAgICAgICAgdGFibGU6IHRhYmxlLFxuICAgICAgICAgICAgICAgIGlkOiBxdWVyeUlELFxuICAgICAgICAgICAgICAgIHBrOiBwa1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIF9JbmRleGVkREJTdG9yZS5wcm90b3R5cGUucmFuZ2VSZWFkID0gZnVuY3Rpb24gKHRhYmxlLCByb3dDYWxsYmFjaywgY29tcGxldGUsIGZyb20sIHRvLCB1c2VQSykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIga2V5cyA9IHRoaXMuX2RiSW5kZXhbdGFibGVdLmtleXMoKTtcbiAgICAgICAgdmFyIHVzZWZ1bFZhbHVlcyA9IFt0eXBlb2YgZnJvbSwgdHlwZW9mIHRvXS5pbmRleE9mKFwidW5kZWZpbmVkXCIpID09PSAtMTtcbiAgICAgICAgdmFyIHJhbmdlcyA9IHVzZWZ1bFZhbHVlcyA/IFtmcm9tLCB0b10gOiBbMCwga2V5cy5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKCFrZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29tcGxldGUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcXVlcnlJRCA9IHV0aWxpdGllc18xLnV1aWQoKTtcbiAgICAgICAgdmFyIHJvd3MgPSBbXTtcbiAgICAgICAgdmFyIGlkeCA9IHJhbmdlc1swXTtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB0aGlzLl93YWl0aW5nQ0JzW1wicmVhZFJhbmdlX1wiICsgcXVlcnlJRCArIFwiX2RvbmVcIl0gPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgZGVsZXRlIF90aGlzLl93YWl0aW5nQ0JzW1wicmVhZFJhbmdlX1wiICsgcXVlcnlJRF07XG4gICAgICAgICAgICByb3dzID0gYXJncztcbiAgICAgICAgICAgIHZhciBnZXRSb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlkeCA8PSByYW5nZXNbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcm93Q2FsbGJhY2socm93c1tpXSwgaWR4LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZHgrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgJSA1MDAgPT09IDAgPyBsaWVfdHNfMS5zZXRGYXN0KGdldFJvdykgOiBnZXRSb3coKTsgLy8gaGFuZGxlIG1heGltdW0gY2FsbCBzdGFjayBlcnJvclxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGdldFJvdygpO1xuICAgICAgICB9O1xuICAgICAgICAvKmNvbnN0IGdldE5leHRSb3dzID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fd2FpdGluZ0NCc1tcInJlYWRSYW5nZV9cIiArIHF1ZXJ5SURdID0gKGFyZ3M6IERCUm93W10pID0+IHtcbiAgICAgICAgICAgICAgICByb3dzID0gcm93cy5jb25jYXQoYXJncyk7XG4gICAgICAgICAgICAgICAgZ2V0TmV4dFJvd3MoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIGdldE5leHRSb3dzKCk7Ki9cbiAgICAgICAgdGhpcy5fdy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBkbzogXCJyZWFkUmFuZ2VcIixcbiAgICAgICAgICAgIGFyZ3M6IHtcbiAgICAgICAgICAgICAgICB0YWJsZTogdGFibGUsXG4gICAgICAgICAgICAgICAgaWQ6IHF1ZXJ5SUQsXG4gICAgICAgICAgICAgICAgcmFuZ2U6IHVzZVBLICYmIHVzZWZ1bFZhbHVlcyA/IHJhbmdlcyA6IHJhbmdlcy5tYXAoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIGtleXNbcl07IH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgX0luZGV4ZWREQlN0b3JlLnByb3RvdHlwZS5kcm9wID0gZnVuY3Rpb24gKHRhYmxlLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgaWR4ID0gbmV3IGRiX2lkeF8xLkRhdGFiYXNlSW5kZXgoKTtcbiAgICAgICAgaWR4LmRvQUkgPSB0aGlzLl9kYkluZGV4W3RhYmxlXS5kb0FJO1xuICAgICAgICB0aGlzLl9kYkluZGV4W3RhYmxlXSA9IGlkeDtcbiAgICAgICAgdmFyIHF1ZXJ5SUQgPSB1dGlsaXRpZXNfMS51dWlkKCk7XG4gICAgICAgIHRoaXMuX3dhaXRpbmdDQnNbXCJkZWxldGVfXCIgKyBxdWVyeUlEXSA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl93LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIGRvOiBcImRlbGV0ZVwiLCBhcmdzOiB7XG4gICAgICAgICAgICAgICAgdGFibGU6IHRhYmxlLFxuICAgICAgICAgICAgICAgIGlkOiBxdWVyeUlELFxuICAgICAgICAgICAgICAgIHBrOiBcIl9jbGVhcl9cIlxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIF9JbmRleGVkREJTdG9yZS5wcm90b3R5cGUuZ2V0SW5kZXggPSBmdW5jdGlvbiAodGFibGUsIGdldExlbmd0aCwgY29tcGxldGUpIHtcbiAgICAgICAgY29tcGxldGUoZ2V0TGVuZ3RoID8gdGhpcy5fZGJJbmRleFt0YWJsZV0ua2V5cygpLmxlbmd0aCA6IHRoaXMuX2RiSW5kZXhbdGFibGVdLmtleXMoKSk7XG4gICAgfTtcbiAgICBfSW5kZXhlZERCU3RvcmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoY29tcGxldGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChPYmplY3Qua2V5cyh0aGlzLl9kYkluZGV4KSwgZnVuY3Rpb24gKHRhYmxlLCBpLCBkb25lKSB7XG4gICAgICAgICAgICBfdGhpcy5kcm9wKHRhYmxlLCBkb25lKTtcbiAgICAgICAgfSkudGhlbihjb21wbGV0ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gX0luZGV4ZWREQlN0b3JlO1xufSgpKTtcbmV4cG9ydHMuX0luZGV4ZWREQlN0b3JlID0gX0luZGV4ZWREQlN0b3JlO1xuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XHJcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcclxuICAgICAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgbGllX3RzXzEgPSByZXF1aXJlKFwibGllLXRzXCIpO1xyXG52YXIgdXRpbGl0aWVzXzEgPSByZXF1aXJlKFwiLi4vdXRpbGl0aWVzXCIpO1xyXG52YXIgZGJfaWR4XzEgPSByZXF1aXJlKFwiLi9kYi1pZHhcIik7XHJcbi8qKlxyXG4gKiBIYW5kbGVzIGFsbCBhdmFpbGFibGUgc3luY3Jvbm91cyB2ZXJzaW9ucyBvZiBzdG9yYWdlIChtZW1vcnkgYW5kIGxvY2Fsc3RvcmFnZSlcclxuICpcclxuICogQGV4cG9ydFxyXG4gKiBAY2xhc3MgX1N5bmNTdG9yZVxyXG4gKiBAaW1wbGVtZW50cyB7TmFub1NRTFN0b3JhZ2VBZGFwdGVyfVxyXG4gKi9cclxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXHJcbnZhciBfU3luY1N0b3JlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gX1N5bmNTdG9yZSh1c2VMb2NhbFN0b3JhZ2UpIHtcclxuICAgICAgICB0aGlzLl9wa0tleSA9IHt9O1xyXG4gICAgICAgIHRoaXMuX3BrVHlwZSA9IHt9O1xyXG4gICAgICAgIHRoaXMuX3Jvd3MgPSB7fTtcclxuICAgICAgICB0aGlzLl9kYkluZGV4ID0ge307XHJcbiAgICAgICAgdGhpcy5fbHMgPSB1c2VMb2NhbFN0b3JhZ2UgfHwgZmFsc2U7XHJcbiAgICB9XHJcbiAgICBfU3luY1N0b3JlLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKGNvbXBsZXRlKSB7XHJcbiAgICAgICAgY29tcGxldGUoKTtcclxuICAgIH07XHJcbiAgICBfU3luY1N0b3JlLnByb3RvdHlwZS5zZXRJRCA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIHRoaXMuX2lkID0gaWQ7XHJcbiAgICB9O1xyXG4gICAgX1N5bmNTdG9yZS5wcm90b3R5cGUubWFrZVRhYmxlID0gZnVuY3Rpb24gKHRhYmxlTmFtZSwgZGF0YU1vZGVscykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5fcm93c1t0YWJsZU5hbWVdID0ge307XHJcbiAgICAgICAgdGhpcy5fZGJJbmRleFt0YWJsZU5hbWVdID0gbmV3IGRiX2lkeF8xLkRhdGFiYXNlSW5kZXgoKTtcclxuICAgICAgICBkYXRhTW9kZWxzLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgaWYgKGQucHJvcHMgJiYgdXRpbGl0aWVzXzEuaW50ZXJzZWN0KFtcInBrXCIsIFwicGsoKVwiXSwgZC5wcm9wcykpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9wa1R5cGVbdGFibGVOYW1lXSA9IGQudHlwZTtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9wa0tleVt0YWJsZU5hbWVdID0gZC5rZXk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGQucHJvcHMgJiYgdXRpbGl0aWVzXzEuaW50ZXJzZWN0KFtcInBrXCIsIFwicGsoKVwiXSwgZC5wcm9wcykgJiYgdXRpbGl0aWVzXzEuaW50ZXJzZWN0KFtcImFpXCIsIFwiYWkoKVwiXSwgZC5wcm9wcykgJiYgZC50eXBlID09PSBcImludFwiKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fZGJJbmRleFt0YWJsZU5hbWVdLmRvQUkgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5fbHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKF90aGlzLl9pZCArIFwiKlwiICsgdGFibGVOYW1lICsgXCJfaWR4XCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2RiSW5kZXhbdGFibGVOYW1lXS5zZXQoSlNPTi5wYXJzZShpbmRleCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX1N5bmNTdG9yZS5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAodGFibGUsIHBrLCBkYXRhLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHBrID0gcGsgfHwgdXRpbGl0aWVzXzEuZ2VuZXJhdGVJRCh0aGlzLl9wa1R5cGVbdGFibGVdLCB0aGlzLl9kYkluZGV4W3RhYmxlXS5haSk7XHJcbiAgICAgICAgaWYgKCFwaykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBhZGQgYSByb3cgd2l0aG91dCBhIHByaW1hcnkga2V5IVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX2RiSW5kZXhbdGFibGVdLmluZGV4T2YocGspID09PSAtMSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kYkluZGV4W3RhYmxlXS5hZGQocGspO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fbHMpIHtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuX2lkICsgXCIqXCIgKyB0YWJsZSArIFwiX2lkeFwiLCBKU09OLnN0cmluZ2lmeSh0aGlzLl9kYkluZGV4W3RhYmxlXS5rZXlzKCkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fbHMpIHtcclxuICAgICAgICAgICAgdmFyIHIgPSBfX2Fzc2lnbih7fSwgZGF0YSwgKF9hID0ge30sIF9hW3RoaXMuX3BrS2V5W3RhYmxlXV0gPSBwaywgX2EpKTtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5faWQgKyBcIipcIiArIHRhYmxlICsgXCJfX1wiICsgcGssIEpTT04uc3RyaW5naWZ5KHIpKTtcclxuICAgICAgICAgICAgY29tcGxldGUocik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgciA9IF9fYXNzaWduKHt9LCBkYXRhLCAoX2IgPSB7fSwgX2JbdGhpcy5fcGtLZXlbdGFibGVdXSA9IHBrLCBfYikpO1xyXG4gICAgICAgICAgICB0aGlzLl9yb3dzW3RhYmxlXVtwa10gPSB1dGlsaXRpZXNfMS5kZWVwRnJlZXplKHIpO1xyXG4gICAgICAgICAgICBjb21wbGV0ZShyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIF9hLCBfYjtcclxuICAgIH07XHJcbiAgICBfU3luY1N0b3JlLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAodGFibGUsIHBrLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBpZHggPSB0aGlzLl9kYkluZGV4W3RhYmxlXS5pbmRleE9mKHBrKTtcclxuICAgICAgICBpZiAoaWR4ICE9PSAtMSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kYkluZGV4W3RhYmxlXS5yZW1vdmUocGspO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fbHMpIHtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuX2lkICsgXCIqXCIgKyB0YWJsZSArIFwiX2lkeFwiLCBKU09OLnN0cmluZ2lmeSh0aGlzLl9kYkluZGV4W3RhYmxlXS5rZXlzKCkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fbHMpIHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5faWQgKyBcIipcIiArIHRhYmxlICsgXCJfX1wiICsgcGspO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3Jvd3NbdGFibGVdW3BrXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29tcGxldGUoKTtcclxuICAgIH07XHJcbiAgICBfU3luY1N0b3JlLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKHRhYmxlLCBwaywgY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAodGhpcy5fbHMpIHtcclxuICAgICAgICAgICAgdmFyIHIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLl9pZCArIFwiKlwiICsgdGFibGUgKyBcIl9fXCIgKyBwayk7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKHIgPyBKU09OLnBhcnNlKHIpIDogdW5kZWZpbmVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKHRoaXMuX3Jvd3NbdGFibGVdW3BrXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIF9TeW5jU3RvcmUucHJvdG90eXBlLnJhbmdlUmVhZCA9IGZ1bmN0aW9uICh0YWJsZSwgcm93Q2FsbGJhY2ssIGNvbXBsZXRlLCBmcm9tLCB0bywgdXNlUEspIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBrZXlzID0gdGhpcy5fZGJJbmRleFt0YWJsZV0ua2V5cygpO1xyXG4gICAgICAgIHZhciB1c2VmdWxWYWx1ZXMgPSBbdHlwZW9mIGZyb20sIHR5cGVvZiB0b10uaW5kZXhPZihcInVuZGVmaW5lZFwiKSA9PT0gLTE7XHJcbiAgICAgICAgdmFyIHJhbmdlcyA9IHVzZWZ1bFZhbHVlcyA/IFtmcm9tLCB0b10gOiBbMCwga2V5cy5sZW5ndGggLSAxXTtcclxuICAgICAgICBpZiAoIWtleXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHVzZVBLICYmIHVzZWZ1bFZhbHVlcykge1xyXG4gICAgICAgICAgICByYW5nZXMgPSByYW5nZXMubWFwKGZ1bmN0aW9uIChyKSB7IHJldHVybiBfdGhpcy5fZGJJbmRleFt0YWJsZV0uZ2V0TG9jYXRpb24ocik7IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaWR4ID0gcmFuZ2VzWzBdO1xyXG4gICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICB2YXIgcm93RG9uZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWR4Kys7XHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgaSAlIDUwMCA9PT0gMCA/IGxpZV90c18xLnNldEZhc3QoZ2V0Um93KSA6IGdldFJvdygpOyAvLyBoYW5kbGUgbWF4aW11bSBjYWxsIHN0YWNrIGVycm9yXHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgZ2V0Um93ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoaWR4IDw9IHJhbmdlc1sxXSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLl9scykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oX3RoaXMuX2lkICsgXCIqXCIgKyB0YWJsZSArIFwiX19cIiArIGtleXNbaWR4XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93Q2FsbGJhY2sociA/IEpTT04ucGFyc2UocikgOiB1bmRlZmluZWQsIGlkeCwgcm93RG9uZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByb3dDYWxsYmFjayhfdGhpcy5fcm93c1t0YWJsZV1ba2V5c1tpZHhdXSwgaWR4LCByb3dEb25lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGdldFJvdygpO1xyXG4gICAgfTtcclxuICAgIF9TeW5jU3RvcmUucHJvdG90eXBlLmRyb3AgPSBmdW5jdGlvbiAodGFibGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAodGhpcy5fbHMpIHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5faWQgKyBcIipcIiArIHRhYmxlICsgXCJfaWR4XCIsIEpTT04uc3RyaW5naWZ5KFtdKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2RiSW5kZXhbdGFibGVdLmtleXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKF90aGlzLl9pZCArIFwiKlwiICsgdGFibGUgKyBcIl9fXCIgKyBrZXkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jvd3NbdGFibGVdID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpZHggPSBuZXcgZGJfaWR4XzEuRGF0YWJhc2VJbmRleCgpO1xyXG4gICAgICAgIGlkeC5kb0FJID0gdGhpcy5fZGJJbmRleFt0YWJsZV0uZG9BSTtcclxuICAgICAgICB0aGlzLl9kYkluZGV4W3RhYmxlXSA9IGlkeDtcclxuICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgfTtcclxuICAgIF9TeW5jU3RvcmUucHJvdG90eXBlLmdldEluZGV4ID0gZnVuY3Rpb24gKHRhYmxlLCBnZXRMZW5ndGgsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgY29tcGxldGUoZ2V0TGVuZ3RoID8gdGhpcy5fZGJJbmRleFt0YWJsZV0ua2V5cygpLmxlbmd0aCA6IHRoaXMuX2RiSW5kZXhbdGFibGVdLmtleXMoKSk7XHJcbiAgICB9O1xyXG4gICAgX1N5bmNTdG9yZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChPYmplY3Qua2V5cyh0aGlzLl9kYkluZGV4KSwgZnVuY3Rpb24gKHRhYmxlLCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmRyb3AodGFibGUsIGRvbmUpO1xyXG4gICAgICAgIH0pLnRoZW4oY29tcGxldGUpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfU3luY1N0b3JlO1xyXG59KCkpO1xyXG5leHBvcnRzLl9TeW5jU3RvcmUgPSBfU3luY1N0b3JlO1xyXG4iLCJPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb25maWcgPSB7XHJcbiAgICBFTkRfV09SRDogXCIkXCIsXHJcbiAgICBQRVJNU19NSU5fTEVOOiAyLFxyXG59O1xyXG52YXIgVHJpZSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBUcmllKGlucHV0KSB7XHJcbiAgICAgICAgdGhpcy5fdHJpZSA9IFRyaWUuX2NyZWF0ZShpbnB1dCk7XHJcbiAgICB9XHJcbiAgICBUcmllLnByb3RvdHlwZS5nZXRJbmRleCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdHJpZTtcclxuICAgIH07XHJcbiAgICBUcmllLnByb3RvdHlwZS5zZXRJbmRleCA9IGZ1bmN0aW9uICh0cmllKSB7XHJcbiAgICAgICAgdGhpcy5fdHJpZSA9IHRyaWU7XHJcbiAgICB9O1xyXG4gICAgVHJpZS5wcm90b3R5cGUuYWRkV29yZCA9IGZ1bmN0aW9uICh3b3JkKSB7XHJcbiAgICAgICAgdmFyIHJlZHVjZXIgPSBmdW5jdGlvbiAocHJldmlvdXNWYWx1ZSwgY3VycmVudFZhbHVlLCBjdXJyZW50SW5kZXgsIGFycmF5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBUcmllLl9hcHBlbmQocHJldmlvdXNWYWx1ZSwgY3VycmVudFZhbHVlLCBjdXJyZW50SW5kZXgsIGFycmF5KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBpbnB1dCA9IHdvcmQudG9Mb3dlckNhc2UoKS5zcGxpdChcIlwiKTtcclxuICAgICAgICBpbnB1dC5yZWR1Y2UocmVkdWNlciwgdGhpcy5fdHJpZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgVHJpZS5wcm90b3R5cGUucmVtb3ZlV29yZCA9IGZ1bmN0aW9uICh3b3JkKSB7XHJcbiAgICAgICAgdmFyIF9hID0gVHJpZS5fY2hlY2tQcmVmaXgodGhpcy5fdHJpZSwgd29yZCksIHByZWZpeEZvdW5kID0gX2EucHJlZml4Rm91bmQsIHByZWZpeE5vZGUgPSBfYS5wcmVmaXhOb2RlO1xyXG4gICAgICAgIGlmIChwcmVmaXhGb3VuZCkge1xyXG4gICAgICAgICAgICBkZWxldGUgcHJlZml4Tm9kZVtjb25maWcuRU5EX1dPUkRdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBUcmllLnByb3RvdHlwZS5nZXRXb3JkcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gVHJpZS5fcmVjdXJzZVByZWZpeCh0aGlzLl90cmllLCAnJyk7XHJcbiAgICB9O1xyXG4gICAgVHJpZS5wcm90b3R5cGUuZ2V0UHJlZml4ID0gZnVuY3Rpb24gKHN0clByZWZpeCkge1xyXG4gICAgICAgIHN0clByZWZpeCA9IHN0clByZWZpeC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGlmICghdGhpcy5faXNQcmVmaXgoc3RyUHJlZml4KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBwcmVmaXhOb2RlID0gVHJpZS5fY2hlY2tQcmVmaXgodGhpcy5fdHJpZSwgc3RyUHJlZml4KS5wcmVmaXhOb2RlO1xyXG4gICAgICAgIHJldHVybiBUcmllLl9yZWN1cnNlUHJlZml4KHByZWZpeE5vZGUsIHN0clByZWZpeCk7XHJcbiAgICB9O1xyXG4gICAgVHJpZS5wcm90b3R5cGUuX2lzUHJlZml4ID0gZnVuY3Rpb24gKHByZWZpeCkge1xyXG4gICAgICAgIHZhciBwcmVmaXhGb3VuZCA9IFRyaWUuX2NoZWNrUHJlZml4KHRoaXMuX3RyaWUsIHByZWZpeCkucHJlZml4Rm91bmQ7XHJcbiAgICAgICAgcmV0dXJuIHByZWZpeEZvdW5kO1xyXG4gICAgfTtcclxuICAgIFRyaWUuX2FwcGVuZCA9IGZ1bmN0aW9uICh0cmllLCBsZXR0ZXIsIGluZGV4LCBhcnJheSkge1xyXG4gICAgICAgIHRyaWVbbGV0dGVyXSA9IHRyaWVbbGV0dGVyXSB8fCB7fTtcclxuICAgICAgICB0cmllID0gdHJpZVtsZXR0ZXJdO1xyXG4gICAgICAgIGlmIChpbmRleCA9PT0gYXJyYXkubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICB0cmllW2NvbmZpZy5FTkRfV09SRF0gPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJpZTtcclxuICAgIH07XHJcbiAgICBUcmllLl9jaGVja1ByZWZpeCA9IGZ1bmN0aW9uIChwcmVmaXhOb2RlLCBwcmVmaXgpIHtcclxuICAgICAgICB2YXIgaW5wdXQgPSBwcmVmaXgudG9Mb3dlckNhc2UoKS5zcGxpdChcIlwiKTtcclxuICAgICAgICB2YXIgcHJlZml4Rm91bmQgPSBpbnB1dC5ldmVyeShmdW5jdGlvbiAobGV0dGVyLCBpbmRleCkge1xyXG4gICAgICAgICAgICBpZiAoIXByZWZpeE5vZGVbbGV0dGVyXSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBwcmVmaXhOb2RlID0gcHJlZml4Tm9kZVtsZXR0ZXJdO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHByZWZpeEZvdW5kOiBwcmVmaXhGb3VuZCxcclxuICAgICAgICAgICAgcHJlZml4Tm9kZTogcHJlZml4Tm9kZSxcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIFRyaWUuX2NyZWF0ZSA9IGZ1bmN0aW9uIChpbnB1dCkge1xyXG4gICAgICAgIHZhciB0cmllID0gKGlucHV0IHx8IFtdKS5yZWR1Y2UoZnVuY3Rpb24gKGFjY3VtdWxhdG9yLCBpdGVtKSB7XHJcbiAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgICAgICAgICAuc3BsaXQoXCJcIilcclxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoVHJpZS5fYXBwZW5kLCBhY2N1bXVsYXRvcik7XHJcbiAgICAgICAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcclxuICAgICAgICB9LCB7fSk7XHJcbiAgICAgICAgcmV0dXJuIHRyaWU7XHJcbiAgICB9O1xyXG4gICAgVHJpZS5fcmVjdXJzZVByZWZpeCA9IGZ1bmN0aW9uIChub2RlLCBwcmVmaXgsIHByZWZpeGVzKSB7XHJcbiAgICAgICAgaWYgKHByZWZpeGVzID09PSB2b2lkIDApIHsgcHJlZml4ZXMgPSBbXTsgfVxyXG4gICAgICAgIHZhciB3b3JkID0gcHJlZml4O1xyXG4gICAgICAgIGZvciAodmFyIGJyYW5jaCBpbiBub2RlKSB7XHJcbiAgICAgICAgICAgIGlmIChicmFuY2ggPT09IGNvbmZpZy5FTkRfV09SRCkge1xyXG4gICAgICAgICAgICAgICAgcHJlZml4ZXMucHVzaCh3b3JkKTtcclxuICAgICAgICAgICAgICAgIHdvcmQgPSBcIlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFRyaWUuX3JlY3Vyc2VQcmVmaXgobm9kZVticmFuY2hdLCBwcmVmaXggKyBicmFuY2gsIHByZWZpeGVzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHByZWZpeGVzLnNvcnQoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVHJpZTtcclxufSgpKTtcclxuZXhwb3J0cy5UcmllID0gVHJpZTtcclxuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XHJcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcclxuICAgICAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgcHJlZml4X3RyaWVfdHNfMSA9IHJlcXVpcmUoXCJwcmVmaXgtdHJpZS10c1wiKTtcclxudmFyIHV0aWxpdGllc18xID0gcmVxdWlyZShcIi4uL3V0aWxpdGllc1wiKTtcclxudmFyIGFkYXB0ZXJfc3luY18xID0gcmVxdWlyZShcIi4vYWRhcHRlci1zeW5jXCIpO1xyXG52YXIgYWRhcHRlcl9pbmRleGVkREJfMSA9IHJlcXVpcmUoXCIuL2FkYXB0ZXItaW5kZXhlZERCXCIpO1xyXG52YXIgYWRhcHRlcl93ZWJzcWxfMSA9IHJlcXVpcmUoXCIuL2FkYXB0ZXItd2Vic3FsXCIpO1xyXG4vKiBOT0RFLVNUQVJUICovXHJcbnZhciBhZGFwdGVyX2xldmVsREJfMSA9IHJlcXVpcmUoXCIuL2FkYXB0ZXItbGV2ZWxEQlwiKTtcclxuLyoqXHJcbiAqIEhvbGRzIHRoZSBnZW5lcmFsIGFic3RyYWN0aW9ucyB0byBjb25uZWN0IHRoZSBxdWVyeSBtb2R1bGUgdG8gdGhlIHN0b3JhZ2UgYWRhcHRlcnMuXHJcbiAqIFRha2VzIGNhcmUgb2YgaW5kZXhpbmcsIHRyaWVzLCBzZWNvbmRhcnkgaW5kZXhlcyBhbmQgYWRhcHRlciBtYW5hZ2VtZW50LlxyXG4gKlxyXG4gKiBAZXhwb3J0XHJcbiAqIEBjbGFzcyBfTmFub1NRTFN0b3JhZ2VcclxuICovXHJcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxyXG52YXIgX05hbm9TUUxTdG9yYWdlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gX05hbm9TUUxTdG9yYWdlKHBhcmVudCwgYXJncykge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFycmF5IG9mIHRhYmxlIG5hbWVzXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAaW50ZXJuYWxcclxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nW119XHJcbiAgICAgICAgICogQG1lbWJlcm9mIF9OYW5vU1FMU3RvcmFnZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3RhYmxlTmFtZXMgPSBbXTtcclxuICAgICAgICB0aGlzLl9uc3FsID0gcGFyZW50O1xyXG4gICAgICAgIHRoaXMuX21vZGUgPSBhcmdzLnBlcnNpc3RlbnQgPyBcIlBFUk1cIiA6IGFyZ3MubW9kZSB8fCBcIlRFTVBcIjtcclxuICAgICAgICB0aGlzLl9pZCA9IGFyZ3MuaWQ7XHJcbiAgICAgICAgdGhpcy5fc2l6ZSA9IGFyZ3Muc2l6ZSB8fCA1O1xyXG4gICAgICAgIHRoaXMuYWRhcHRlcnMgPSBbXTtcclxuICAgICAgICB0aGlzLm1vZGVscyA9IHt9O1xyXG4gICAgICAgIHRoaXMudGFibGVJbmZvID0ge307XHJcbiAgICAgICAgdGhpcy5fdHJpZUluZGV4ZXMgPSB7fTtcclxuICAgICAgICB0aGlzLl90YWJsZU5hbWVzID0gW107XHJcbiAgICAgICAgdGhpcy5fZG9DYWNoZSA9IGFyZ3MuY2FjaGUgfHwgdHJ1ZTtcclxuICAgICAgICB0aGlzLl9jYWNoZSA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2NhY2hlS2V5cyA9IHt9O1xyXG4gICAgICAgIHRoaXMuYWRhcHRlcnNbMF0gPSB7XHJcbiAgICAgICAgICAgIGFkYXB0ZXI6IG51bGwsXHJcbiAgICAgICAgICAgIHdhaXRGb3JXcml0ZXM6IHRydWVcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5fbW9kZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fbW9kZSA9PT0gXCJQRVJNXCIpIHtcclxuICAgICAgICAgICAgICAgIC8qY29uc3QgbW9kZXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgSURCOiBcIkluZGV4ZWQgREJcIixcclxuICAgICAgICAgICAgICAgICAgICBJREJfV1c6IFwiSW5kZXhlZCBEQiAoV2ViIFdvcmtlcilcIixcclxuICAgICAgICAgICAgICAgICAgICBXU1FMOiBcIldlYlNRTFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIExTOiBcIkxvY2FsIFN0b3JhZ2VcIixcclxuICAgICAgICAgICAgICAgICAgICBURU1QOiBcIm1lbW9yeVwiXHJcbiAgICAgICAgICAgICAgICB9OyovXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tb2RlID0gdGhpcy5fZGV0ZWN0U3RvcmFnZU1ldGhvZCgpIHx8IHRoaXMuX21vZGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLl9tb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiSURCXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGFwdGVyc1swXS5hZGFwdGVyID0gbmV3IGFkYXB0ZXJfaW5kZXhlZERCXzEuX0luZGV4ZWREQlN0b3JlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJJREJfV1dcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkYXB0ZXJzWzBdLmFkYXB0ZXIgPSBuZXcgYWRhcHRlcl9pbmRleGVkREJfMS5fSW5kZXhlZERCU3RvcmUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiV1NRTFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlcnNbMF0uYWRhcHRlciA9IG5ldyBhZGFwdGVyX3dlYnNxbF8xLl9XZWJTUUxTdG9yZSh0aGlzLl9zaXplKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJMU1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlcnNbMF0uYWRhcHRlciA9IG5ldyBhZGFwdGVyX3N5bmNfMS5fU3luY1N0b3JlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgLyogTk9ERS1TVEFSVCAqL1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkxWTFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlcnNbMF0uYWRhcHRlciA9IG5ldyBhZGFwdGVyX2xldmVsREJfMS5fTGV2ZWxTdG9yZShhcmdzLmRiUGF0aCwgYXJncy53cml0ZUNhY2hlLCBhcmdzLnJlYWRDYWNoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAvKiBOT0RFLUVORCAqL1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlRFTVBcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkYXB0ZXJzWzBdLmFkYXB0ZXIgPSBuZXcgYWRhcHRlcl9zeW5jXzEuX1N5bmNTdG9yZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlcnNbMF0uYWRhcHRlciA9IHRoaXMuX21vZGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9mYXN0UmVhZEFkYXB0ZXIgPSB0aGlzLmFkYXB0ZXJzWzBdLmFkYXB0ZXI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zbG93UmVhZEFkYXB0ZXIgPSB0aGlzLmFkYXB0ZXJzWzBdLmFkYXB0ZXI7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3Muc2Vjb25kYXJ5QWRhcHRlcnMgJiYgYXJncy5zZWNvbmRhcnlBZGFwdGVycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkYXB0ZXJzID0gdGhpcy5hZGFwdGVycy5jb25jYXQoYXJncy5zZWNvbmRhcnlBZGFwdGVycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGFwdGVycy5mb3JFYWNoKChhLCBpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGEuZG9GYXN0UmVhZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Zhc3RSZWFkQWRhcHRlciA9IGEuYWRhcHRlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYS5kb1Nsb3dSZWFkcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2xvd1JlYWRBZGFwdGVyID0gYS5hZGFwdGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0qL1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWxpemUgdGhlIHN0b3JhZ2UgYWRhcHRlciBhbmQgZ2V0IHJlYWR5IHRvIHJ1bWJsZSFcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge1N0ZE9iamVjdDxEYXRhTW9kZWxbXT59IGRhdGFNb2RlbHNcclxuICAgICAqIEBwYXJhbSB7KG5ld01vZGVsczogU3RkT2JqZWN0PERhdGFNb2RlbFtdPikgPT4gdm9pZH0gY29tcGxldGVcclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFN0b3JhZ2VcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxTdG9yYWdlLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKGRhdGFNb2RlbHMsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoIXRoaXMuX2lkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lkID0gdXRpbGl0aWVzXzEuaGFzaChKU09OLnN0cmluZ2lmeShkYXRhTW9kZWxzKSkudG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tb2RlbHMgPSB0aGlzLl9jcmVhdGVTZWNvbmRhcnlJbmRleFRhYmxlcyhkYXRhTW9kZWxzKTtcclxuICAgICAgICB0aGlzLl90YWJsZU5hbWVzID0gT2JqZWN0LmtleXModGhpcy5tb2RlbHMpO1xyXG4gICAgICAgIHRoaXMuYWRhcHRlcnMuZm9yRWFjaChmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICBhLmFkYXB0ZXIuc2V0SUQoX3RoaXMuX2lkKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl90YWJsZU5hbWVzLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlKSB7XHJcbiAgICAgICAgICAgIF90aGlzLl9uZXdUYWJsZSh0YWJsZSwgZGF0YU1vZGVsc1t0YWJsZV0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX3JlbEZyb21UYWJsZSA9IHt9O1xyXG4gICAgICAgIHRoaXMuX3JlbFRvVGFibGUgPSB7fTtcclxuICAgICAgICB0aGlzLl9yZWxhdGlvbkNvbHVtbnMgPSB7fTtcclxuICAgICAgICB0aGlzLl9jb2x1bW5zQXJlVGFibGVzID0ge307XHJcbiAgICAgICAgdGhpcy5fdGFibGVOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uICh0YWJsZSkge1xyXG4gICAgICAgICAgICAvLyBmaW5pc2ggdmlld3MgZGF0YVxyXG4gICAgICAgICAgICAvLyBnZXRzIGEgbGlzdCBvZiB0YWJsZXMgdGhhdCBuZWVkIHRvIGJlIGNoZWNrZWQgb24gZWFjaCByb3cgdXBkYXRlIG9mIHRoaXMgdGFibGVcclxuICAgICAgICAgICAgX3RoaXMudGFibGVJbmZvW3RhYmxlXS5fdmlld1RhYmxlcyA9IE9iamVjdC5rZXlzKF90aGlzLnRhYmxlSW5mbykucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjdXIgPT09IHRhYmxlKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICAgICAgICAgICAgdmFyIHZUYWJsZXMgPSBPYmplY3Qua2V5cyhfdGhpcy50YWJsZUluZm9bY3VyXS5fdmlld3MpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZUYWJsZXMuaW5kZXhPZih0YWJsZSkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldi5wdXNoKHsgdGFibGU6IGN1ciwgY29sdW1uOiBfdGhpcy50YWJsZUluZm9bY3VyXS5fdmlld3NbdGFibGVdLnBrQ29sdW1uIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgICAgIH0sIFtdKTtcclxuICAgICAgICAgICAgLy8gZmluaXNoIE9STSBhbmQgb3RoZXIgc3R1ZmZcclxuICAgICAgICAgICAgdmFyIGkgPSBfdGhpcy5tb2RlbHNbdGFibGVdLmxlbmd0aDtcclxuICAgICAgICAgICAgX3RoaXMuX3JlbEZyb21UYWJsZVt0YWJsZV0gPSB7fTtcclxuICAgICAgICAgICAgX3RoaXMuX3JlbGF0aW9uQ29sdW1uc1t0YWJsZV0gPSBbXTtcclxuICAgICAgICAgICAgX3RoaXMuX3JlbFRvVGFibGVbdGFibGVdID0gW107XHJcbiAgICAgICAgICAgIF90aGlzLl9jb2x1bW5zQXJlVGFibGVzW3RhYmxlXSA9IHt9O1xyXG4gICAgICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwID0gX3RoaXMubW9kZWxzW3RhYmxlXVtpXTtcclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciByZWxhdGlvbnNcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fdGFibGVOYW1lcy5pbmRleE9mKHAudHlwZS5yZXBsYWNlKFwiW11cIiwgXCJcIikpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXBUb18xID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fY29sdW1uc0FyZVRhYmxlc1t0YWJsZV1bcC5rZXldID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdG9UYWJsZTogcC50eXBlLnJlcGxhY2UoXCJbXVwiLCBcIlwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXNUeXBlOiBwLnR5cGUuaW5kZXhPZihcIltdXCIpID09PSAtMSA/IFwic2luZ2xlXCIgOiBcImFycmF5XCJcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwLnByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHAucHJvcHMuZm9yRWFjaChmdW5jdGlvbiAocCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb2xkIGZvcm1hdCByZWY9PmNvbHVtbiBvciByZWY9PmNvbHVtbltdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocC5pbmRleE9mKFwicmVmPT5cIikgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwVG9fMSA9IHAucmVwbGFjZShcInJlZj0+XCIsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmV3IGZvcm1hdCBvcm0oY29sdW1uKSBvciBvcm0oY29sdW1uW10pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocC5pbmRleE9mKFwib3JtKFwiKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcFRvXzEgPSBwLnJlcGxhY2UoL29ybVxcKCguKilcXCkvZ21pLCBcIiQxXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcFRvXzEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9oYXNPUk0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3JlbGF0aW9uQ29sdW1uc1t0YWJsZV0ucHVzaChwLmtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcmVsRnJvbVRhYmxlW3RhYmxlXVtwLmtleV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RvVGFibGU6IHAudHlwZS5yZXBsYWNlKFwiW11cIiwgXCJcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RvQ29sdW1uOiBtYXBUb18xLnJlcGxhY2UoXCJbXVwiLCBcIlwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdG9UeXBlOiBtYXBUb18xLmluZGV4T2YoXCJbXVwiKSA9PT0gLTEgPyBcInNpbmdsZVwiIDogXCJhcnJheVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzVHlwZTogcC50eXBlLmluZGV4T2YoXCJbXVwiKSA9PT0gLTEgPyBcInNpbmdsZVwiIDogXCJhcnJheVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgICAgICAgICBfbG9vcF8xKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9yZWxGcm9tVGFibGUpLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlKSB7XHJcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKF90aGlzLl9yZWxGcm9tVGFibGVbdGFibGVdKS5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgIHZhciByZWwgPSBfdGhpcy5fcmVsRnJvbVRhYmxlW3RhYmxlXVtjb2x1bW5dO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3JlbFRvVGFibGVbcmVsLl90b1RhYmxlXS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpc0NvbHVtbjogcmVsLl90b0NvbHVtbixcclxuICAgICAgICAgICAgICAgICAgICBfdGhpc1R5cGU6IHJlbC5fdG9UeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIF9mcm9tVGFibGU6IHRhYmxlLFxyXG4gICAgICAgICAgICAgICAgICAgIF9mcm9tQ29sdW1uOiBjb2x1bW4sXHJcbiAgICAgICAgICAgICAgICAgICAgX2Zyb21UeXBlOiByZWwuX3RoaXNUeXBlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTCh0aGlzLmFkYXB0ZXJzLCBmdW5jdGlvbiAoYSwgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICBhLmFkYXB0ZXIuY29ubmVjdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYS5hZGFwdGVyLnNldE5TUUwpIHtcclxuICAgICAgICAgICAgICAgICAgICBhLmFkYXB0ZXIuc2V0TlNRTChfdGhpcy5fbnNxbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBwb3B1bGF0ZSB0cmllIGRhdGFcclxuICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChPYmplY3Qua2V5cyhfdGhpcy5fdHJpZUluZGV4ZXMpLCBmdW5jdGlvbiAodGFibGUsIGksIHRhYmxlRG9uZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRyaWVDb2x1bW5zID0gX3RoaXMuX3RyaWVJbmRleGVzW3RhYmxlXTtcclxuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh0cmllQ29sdW1ucykubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChPYmplY3Qua2V5cyh0cmllQ29sdW1ucyksIGZ1bmN0aW9uIChjb2x1bW4sIGlpLCBuZXh0Q29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHhUYWJsZSA9IFwiX1wiICsgdGFibGUgKyBcIl9pZHhfXCIgKyBjb2x1bW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJzWzBdLmFkYXB0ZXIuZ2V0SW5kZXgoaWR4VGFibGUsIGZhbHNlLCBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4LmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3RyaWVJbmRleGVzW3RhYmxlXVtjb2x1bW5dLmFkZFdvcmQoU3RyaW5nKHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRDb2x1bW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkudGhlbih0YWJsZURvbmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFibGVEb25lKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoX3RoaXMubW9kZWxzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX05hbm9TUUxTdG9yYWdlLnByb3RvdHlwZS5faW52YWxpZGF0ZUNhY2hlID0gZnVuY3Rpb24gKHRhYmxlLCBwa3MpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICghdGhpcy5fZG9DYWNoZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuX2NhY2hlS2V5c1t0YWJsZV0pLmZvckVhY2goZnVuY3Rpb24gKGhhc2gpIHtcclxuICAgICAgICAgICAgdmFyIGkgPSBwa3MubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB3aGlsZSAoaS0tICYmIHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX2NhY2hlS2V5c1t0YWJsZV1baGFzaF1bcGtzW2ldXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpcy5fY2FjaGVbdGFibGVdW2hhc2hdO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpcy5fY2FjaGVLZXlzW3RhYmxlXVtoYXNoXTtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZWJ1aWxkIHNlY29uZGFyeSBpbmRleGVzIG9mIGEgZ2l2ZW4gdGFibGUuXHJcbiAgICAgKiBQYXNzIFwiX0FMTF9cIiBhcyB0YWJsZSB0byByZWJ1aWxkIGFsbCBpbmRleGVzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7KHRpbWU6IG51bWJlcikgPT4gdm9pZH0gY29tcGxldGVcclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFN0b3JhZ2VcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxTdG9yYWdlLnByb3RvdHlwZS5yZWJ1aWxkSW5kZXhlcyA9IGZ1bmN0aW9uICh0YWJsZSwgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBzdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwoT2JqZWN0LmtleXModGhpcy50YWJsZUluZm8pLCBmdW5jdGlvbiAodGEsIGssIHRhYmxlRG9uZSkge1xyXG4gICAgICAgICAgICBpZiAoKHRhYmxlICE9PSBcIl9BTExfXCIgJiYgdGFibGUgIT09IHRhKSB8fCB0YS5pbmRleE9mKFwiX1wiKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGFibGVEb25lKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHNlY29uZEluZGV4ZXMgPSBfdGhpcy50YWJsZUluZm9bdGFdLl9zZWNvbmRhcnlJbmRleGVzO1xyXG4gICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHNlY29uZEluZGV4ZXMsIGZ1bmN0aW9uIChjb2x1bW4sIGosIGlkeERvbmUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpZHhUYWJsZSA9IFwiX1wiICsgdGEgKyBcIl9pZHhfXCIgKyBjb2x1bW47XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fZHJvcChpZHhUYWJsZSwgaWR4RG9uZSk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBrID0gX3RoaXMudGFibGVJbmZvW3RhXS5fcGs7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXhHcm91cHMgPSB7fTtcclxuICAgICAgICAgICAgICAgIHNlY29uZEluZGV4ZXMuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhHcm91cHNbY29sdW1uXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVhZCh0YSwgZnVuY3Rpb24gKHJvdywgaWR4LCBkb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyb3dbcGtdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHNlY29uZEluZGV4ZXMuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcm93W2NvbHVtbl0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWluZGV4R3JvdXBzW2NvbHVtbl1bcm93W2NvbHVtbl1dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleEdyb3Vwc1tjb2x1bW5dW3Jvd1tjb2x1bW5dXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4R3JvdXBzW2NvbHVtbl1bcm93W2NvbHVtbl1dLnB1c2gocm93W3BrXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9uZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLyp0aGlzLl9zZXRTZWNvbmRhcnlJbmRleGVzKHRhLCByb3dbcGtdLCByb3csIFtdLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOyovXHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChzZWNvbmRJbmRleGVzLCBmdW5jdGlvbiAoaXRlbSwgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWR4VGFibGUgPSBcIl9cIiArIHRhICsgXCJfaWR4X1wiICsgaXRlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChPYmplY3Qua2V5cyhpbmRleEdyb3Vwc1tpdGVtXSksIGZ1bmN0aW9uIChyb3dLZXksIGksIG5leHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJXcml0ZShpZHhUYWJsZSwgcm93S2V5LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHJvd0tleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzOiBpbmRleEdyb3Vwc1tpdGVtXVtyb3dLZXldLnNvcnQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgbmV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlRG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb21wbGV0ZShuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHN0YXJ0KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFR1cm4gYW55IGpzIHZhcmlhYmxlIGludG8gYSAzMiBjaGFyYWN0ZXIgbG9uZyBwcmltYXJ5IGtleSBmb3Igc2Vjb25kYXJ5IGluZGV4IHRhYmxlcy5cclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcclxuICAgICAqIEByZXR1cm5zIHsoc3RyaW5nfG51bWJlcil9XHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxTdG9yYWdlXHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZS5wcm90b3R5cGUuX3NlY29uZGFyeUluZGV4S2V5ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHV0aWxpdGllc18xLmlzT2JqZWN0KHZhbHVlKSB8fCBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpLnN1YnN0cigwLCAxMik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gU3RyaW5nKHZhbHVlKS5zdWJzdHIoMCwgMzIpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVXNlIHZhcmlvdXNlIG1ldGhvZHMgdG8gZGV0ZWN0IHRoZSBiZXN0IHBlcnNpc3RlbnQgc3RvcmFnZSBtZXRob2QgZm9yIHRoZSBlbnZpcm9ubWVudCBOYW5vU1FMIGlzIGluLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxTdG9yYWdlXHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZS5wcm90b3R5cGUuX2RldGVjdFN0b3JhZ2VNZXRob2QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gTm9kZUpTXHJcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiTFZMXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEJyb3dzZXJcclxuICAgICAgICAvLyBTYWZhcmkgLyBpT1MgYWx3YXlzIGdldHMgV2ViU1FMIChtb2JpbGUgYW5kIGRlc2t0b3ApXHJcbiAgICAgICAgaWYgKHV0aWxpdGllc18xLmlzU2FmYXJpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIldTUUxcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSUUgYW5kIEVkZ2UgZG9uJ3Qgc3VwcG9ydCBJbmRleGVkIERCIHdlYiB3b3JrZXJzLCBhbmQgbWF5IG5vdCBzdXBwb3J0IGluZGV4ZWQgZGIgYXQgYWxsLlxyXG4gICAgICAgIGlmICh1dGlsaXRpZXNfMS5pc01TQnJvd3Nlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGluZGV4ZWREQiAhPT0gXCJ1bmRlZmluZWRcIiA/IFwiSURCXCIgOiBcIkxTXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGV2ZXJ5b25lIGVsc2UgKEZGICsgQ2hyb21lKVxyXG4gICAgICAgIC8vIGNoZWNrIGZvciBzdXBwb3J0IGZvciBpbmRleGVkIGRiLCB3ZWIgd29ya2VycyBhbmQgYmxvYlxyXG4gICAgICAgIGlmIChbdHlwZW9mIFdvcmtlciwgdHlwZW9mIEJsb2IsIHR5cGVvZiBpbmRleGVkREJdLmluZGV4T2YoXCJ1bmRlZmluZWRcIikgPT09IC0xICYmIHdpbmRvdy5VUkwgJiYgd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHZhciB3ID0gbmV3IFdvcmtlcih3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbXCJ2YXIgdCA9ICd0JztcIl0pKSk7XHJcbiAgICAgICAgICAgICAgICB3LnBvc3RNZXNzYWdlKFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgdy50ZXJtaW5hdGUoKTtcclxuICAgICAgICAgICAgICAgIHZhciBpZGJJRCA9IFwiMTIzNFwiO1xyXG4gICAgICAgICAgICAgICAgaW5kZXhlZERCLm9wZW4oaWRiSUQsIDEpO1xyXG4gICAgICAgICAgICAgICAgaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKGlkYklEKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIklEQl9XV1wiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7IC8vIHdvcmtlciwgYmxvYiwgb3IgaW5kZXhlZCBEQiBmYWlsZWRcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaW5kZXhlZERCICE9PSBcInVuZGVmaW5lZFwiKSB7IC8vIGZhbGwgYmFjayB0byBpbmRleGVkIGRiIGlmIHdlIGNhblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIklEQlwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIG5vdGhpbmcgZWxzZSB3b3Jrcywgd2UgZ290dGEgZG8gbG9jYWwgc3RvcmFnZS4gOihcclxuICAgICAgICByZXR1cm4gXCJMU1wiO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2V0IHJvd3MgZnJvbSBhIHRhYmxlIGdpdmVuIHRoZSBjb2x1bW4gYW5kIHNlY29uZGFyeSBpbmRleCBwcmltYXJ5IGtleSB0byByZWFkIGZyb20uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29sdW1uXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VhcmNoXHJcbiAgICAgKiBAcGFyYW0geyhyb3dzOiBEQlJvd1tdKSA9PiB2b2lkfSBjYWxsYmFja1xyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMU3RvcmFnZVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFN0b3JhZ2UucHJvdG90eXBlLl9zZWNvbmRhcnlJbmRleFJlYWQgPSBmdW5jdGlvbiAodGFibGUsIGNvbHVtbiwgc2VhcmNoLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5hZGFwdGVyc1swXS5hZGFwdGVyLnJlYWQoXCJfXCIgKyB0YWJsZSArIFwiX2lkeF9cIiArIGNvbHVtbiwgdGhpcy5fc2Vjb25kYXJ5SW5kZXhLZXkoc2VhcmNoKSwgZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICBpZiAocm93ICE9PSB1bmRlZmluZWQgJiYgcm93ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVhZCh0YWJsZSwgKHJvd1tcInJvd3NcIl0gfHwgW10pLCBjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhbXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldCBhIHJhbmdlIG9mIHJvd3MgZnJvbSBhIGdpdmVuIHRhYmxlLlxyXG4gICAgICogSWYgdXNlUEtzIGlzIGZhbHNlIHRoZSByYW5nZSBpcyBpbiBsaW1pdC9vZmZzZXQgZm9ybSB3aGVyZSB0aGUgZnJvbSBhbmQgdG8gdmFsdWVzIGFyZSBudW1iZXJzIGluZGljYXRpbmcgYSByYW5nZSBvZiByb3dzIHRvIGdldC5cclxuICAgICAqIE90aGVyd2lzZSB0aGUgZnJvbSBhbmQgdG8gdmFsdWVzIHNob3VsZCBiZSBwcmltYXJ5IGtleSB2YWx1ZXMgdG8gZ2V0IGV2ZXJ5dGhpbmcgaW4gYmV0d2Vlbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFibGVcclxuICAgICAqIEBwYXJhbSB7REJLZXl9IGZyb21cclxuICAgICAqIEBwYXJhbSB7REJLZXl9IHRvXHJcbiAgICAgKiBAcGFyYW0geyhyb3dzOiBEQlJvd1tdKSA9PiB2b2lkfSBjb21wbGV0ZVxyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMU3RvcmFnZVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFN0b3JhZ2UucHJvdG90eXBlLl9yYW5nZVJlYWQgPSBmdW5jdGlvbiAodGFibGUsIGZyb20sIHRvLCB1c2VQS3MsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIHJvd3MgPSBbXTtcclxuICAgICAgICB0aGlzLmFkYXB0ZXJzWzBdLmFkYXB0ZXIucmFuZ2VSZWFkKHRhYmxlLCBmdW5jdGlvbiAocm93LCBpZHgsIG5leHQpIHtcclxuICAgICAgICAgICAgcm93cy5wdXNoKHJvdyk7XHJcbiAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKHJvd3MpO1xyXG4gICAgICAgIH0sIGZyb20sIHRvLCB1c2VQS3MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRnVsbCB0YWJsZSBzY2FuIGlmIGEgZnVuY3Rpb24gaXMgcGFzc2VkIGluIE9SIHJlYWQgYW4gYXJyYXkgb2YgcHJpbWFyeSBrZXlzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHsocm93OiBEQlJvdywgaWR4OiBudW1iZXIsIHRvS2VlcDogKHJlc3VsdDogYm9vbGVhbikgPT4gdm9pZCkgPT4gdm9pZH0gcXVlcnlcclxuICAgICAqIEBwYXJhbSB7KHJvd3M6IERCUm93W10pID0+IHZvaWR9IGNhbGxiYWNrXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMU3RvcmFnZVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFN0b3JhZ2UucHJvdG90eXBlLl9yZWFkID0gZnVuY3Rpb24gKHRhYmxlLCBxdWVyeSwgY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHF1ZXJ5KSkgeyAvLyBzZWxlY3QgYnkgYXJyYXkgb2YgcHJpbWFyeSBrZXlzXHJcbiAgICAgICAgICAgIHZhciBiYXRjaFJlYWQgPSB0aGlzLmFkYXB0ZXJzWzBdLmFkYXB0ZXIuYmF0Y2hSZWFkO1xyXG4gICAgICAgICAgICBpZiAoYmF0Y2hSZWFkKSB7XHJcbiAgICAgICAgICAgICAgICBiYXRjaFJlYWQuYXBwbHkodGhpcy5hZGFwdGVyc1swXS5hZGFwdGVyLCBbdGFibGUsIHF1ZXJ5LCBjYWxsYmFja10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gcG9zc2libHkgKGJ1dCBub3QgYWx3YXlzKSBzbG93ZXIgZmFsbGJhY2tcclxuICAgICAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwocXVlcnksIGZ1bmN0aW9uIChxLCBpLCByZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGFwdGVyc1swXS5hZGFwdGVyLnJlYWQodGFibGUsIHEsIHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socm93cy5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHI7IH0pKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJvd3MgPSBbXTtcclxuICAgICAgICAvLyBmdWxsIHRhYmxlIHNjYW5cclxuICAgICAgICBpZiAodHlwZW9mIHF1ZXJ5ID09PSBcImZ1bmN0aW9uXCIpIHsgLy8gaXRlcmF0ZSB0aHJvdWdoIGVudGlyZSBkYiwgcmV0dXJuaW5nIHJvd3MgdGhhdCByZXR1cm4gdHJ1ZSBvbiB0aGUgZnVuY3Rpb25cclxuICAgICAgICAgICAgdGhpcy5hZGFwdGVyc1swXS5hZGFwdGVyLnJhbmdlUmVhZCh0YWJsZSwgZnVuY3Rpb24gKHJvdywgaWR4LCBuZXh0Um93KSB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeShyb3csIGlkeCwgZnVuY3Rpb24gKGtlZXApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoa2VlcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dzLnB1c2gocm93KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dFJvdygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJvd3MpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldCBhbGwgdmFsdWVzIGluIGEgdGFibGUgd2hlcmUgdGhlIGNvbHVtbiB2YWx1ZSBtYXRjaGVzIGFnYWluc3QgdGhlIGdpdmVuIHRyaWUgc2VhcmNoIHZhbHVlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbHVtblxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNlYXJjaFxyXG4gICAgICogQHBhcmFtIHsocm93czogREJSb3dbXSApID0+IHZvaWR9IGNhbGxiYWNrXHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxTdG9yYWdlXHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZS5wcm90b3R5cGUuX3RyaWVSZWFkID0gZnVuY3Rpb24gKHRhYmxlLCBjb2x1bW4sIHNlYXJjaCwgY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciB3b3JkcyA9IHRoaXMuX3RyaWVJbmRleGVzW3RhYmxlXVtjb2x1bW5dLmdldFByZWZpeChzZWFyY2gpO1xyXG4gICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwod29yZHMsIGZ1bmN0aW9uICh3LCBpLCByZXN1bHQpIHtcclxuICAgICAgICAgICAgX3RoaXMuX3NlY29uZGFyeUluZGV4UmVhZCh0YWJsZSwgY29sdW1uLCB3LCByZXN1bHQpO1xyXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGFycmF5T2ZSb3dzKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKFtdLmNvbmNhdC5hcHBseShbXSwgYXJyYXlPZlJvd3MpKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBzZWNvbmRhcnkgaW5kZXggdmFsdWVzIG9mIGEgc3BlY2lmaWMgcm93LlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge0RCS2V5fSBwa1xyXG4gICAgICogQHBhcmFtIHtEQlJvd30gcm93RGF0YVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gc2tpcENvbHVtbnNcclxuICAgICAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gY29tcGxldGVcclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFN0b3JhZ2VcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxTdG9yYWdlLnByb3RvdHlwZS5fY2xlYXJTZWNvbmRhcnlJbmRleGVzID0gZnVuY3Rpb24gKHRhYmxlLCBwaywgcm93RGF0YSwgc2tpcENvbHVtbnMsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHRoaXMudGFibGVJbmZvW3RhYmxlXS5fc2Vjb25kYXJ5SW5kZXhlcy5maWx0ZXIoZnVuY3Rpb24gKGlkeCkgeyByZXR1cm4gc2tpcENvbHVtbnMuaW5kZXhPZihpZHgpID09PSAtMTsgfSksIGZ1bmN0aW9uIChpZHgsIGssIGRvbmUpIHtcclxuICAgICAgICAgICAgdmFyIGNvbHVtbiA9IF90aGlzLl9zZWNvbmRhcnlJbmRleEtleShyb3dEYXRhW2lkeF0pO1xyXG4gICAgICAgICAgICB2YXIgaWR4VGFibGUgPSBcIl9cIiArIHRhYmxlICsgXCJfaWR4X1wiICsgaWR4O1xyXG4gICAgICAgICAgICBfdGhpcy5hZGFwdGVyc1swXS5hZGFwdGVyLnJlYWQoaWR4VGFibGUsIGNvbHVtbiwgZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGkgPSByb3cucm93cy5pbmRleE9mKHBrKTtcclxuICAgICAgICAgICAgICAgIGlmIChpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3Um93ID0gcm93ID8gT2JqZWN0LmlzRnJvemVuKHJvdykgPyB1dGlsaXRpZXNfMS5fYXNzaWduKHJvdykgOiByb3cgOiB7IGlkOiBudWxsLCByb3dzOiBbXSB9O1xyXG4gICAgICAgICAgICAgICAgbmV3Um93LnJvd3Muc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgbmV3Um93LnJvd3Muc29ydCgpO1xyXG4gICAgICAgICAgICAgICAgbmV3Um93LnJvd3MgPSB1dGlsaXRpZXNfMS5yZW1vdmVEdXBsaWNhdGVzKG5ld1Jvdy5yb3dzKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJXcml0ZShpZHhUYWJsZSwgbmV3Um93LmlkLCBuZXdSb3csIGRvbmUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KS50aGVuKGNvbXBsZXRlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEFkZCBzZWNvbmRhcnkgaW5kZXggdmFsdWVzIGZvciBhIHNwZWNpZmljIHJvdy5cclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtEQktleX0gcGtcclxuICAgICAqIEBwYXJhbSB7REJSb3d9IHJvd0RhdGFcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHNraXBDb2x1bW5zXHJcbiAgICAgKiBAcGFyYW0geygpID0+IHZvaWR9IGNvbXBsZXRlXHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxTdG9yYWdlXHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZS5wcm90b3R5cGUuX3NldFNlY29uZGFyeUluZGV4ZXMgPSBmdW5jdGlvbiAodGFibGUsIHBrLCByb3dEYXRhLCBza2lwQ29sdW1ucywgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwodGhpcy50YWJsZUluZm9bdGFibGVdLl9zZWNvbmRhcnlJbmRleGVzLmZpbHRlcihmdW5jdGlvbiAoaWR4KSB7IHJldHVybiBza2lwQ29sdW1ucy5pbmRleE9mKGlkeCkgPT09IC0xOyB9KSwgZnVuY3Rpb24gKGlkeCwgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICB2YXIgY29sdW1uID0gX3RoaXMuX3NlY29uZGFyeUluZGV4S2V5KHJvd0RhdGFbaWR4XSk7XHJcbiAgICAgICAgICAgIGlmICghY29sdW1uKSB7XHJcbiAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKF90aGlzLl90cmllSW5kZXhlc1t0YWJsZV1baWR4XSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3RyaWVJbmRleGVzW3RhYmxlXVtpZHhdLmFkZFdvcmQoU3RyaW5nKHJvd0RhdGFbaWR4XSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBpZHhUYWJsZSA9IFwiX1wiICsgdGFibGUgKyBcIl9pZHhfXCIgKyBpZHg7XHJcbiAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJzWzBdLmFkYXB0ZXIucmVhZChpZHhUYWJsZSwgY29sdW1uLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXhSb3cgPSByb3cgPyAoT2JqZWN0LmlzRnJvemVuKHJvdykgPyB1dGlsaXRpZXNfMS5fYXNzaWduKHJvdykgOiByb3cpIDogeyBpZDogY29sdW1uLCByb3dzOiBbXSB9O1xyXG4gICAgICAgICAgICAgICAgaW5kZXhSb3cucm93cy5wdXNoKHBrKTtcclxuICAgICAgICAgICAgICAgIGluZGV4Um93LnJvd3Muc29ydCgpO1xyXG4gICAgICAgICAgICAgICAgaW5kZXhSb3cucm93cyA9IHV0aWxpdGllc18xLnJlbW92ZUR1cGxpY2F0ZXMoaW5kZXhSb3cucm93cyk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGFwdGVyV3JpdGUoaWR4VGFibGUsIGNvbHVtbiwgaW5kZXhSb3csIGRvbmUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KS50aGVuKGNvbXBsZXRlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFdyaXRlIGEgcm93IHRvIHRoZSBkYXRhYmFzZVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHtEQktleX0gcGtcclxuICAgICAqIEBwYXJhbSB7Kn0gb2xkUm93XHJcbiAgICAgKiBAcGFyYW0ge0RCUm93fSBuZXdSb3dcclxuICAgICAqIEBwYXJhbSB7KHJvdzogREJSb3cpID0+IHZvaWR9IGNvbXBsZXRlXHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxTdG9yYWdlXHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gKHRhYmxlLCBwaywgb2xkUm93LCBuZXdSb3csIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoIW9sZFJvdykgeyAvLyBuZXcgcm93XHJcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlcldyaXRlKHRhYmxlLCBwaywgbmV3Um93LCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMudGFibGVJbmZvW3RhYmxlXS5fc2Vjb25kYXJ5SW5kZXhlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc2V0U2Vjb25kYXJ5SW5kZXhlcyh0YWJsZSwgcm93W190aGlzLnRhYmxlSW5mb1t0YWJsZV0uX3BrXSwgbmV3Um93LCBbXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZShyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUocm93KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgeyAvLyBleGlzdGluZyByb3dcclxuICAgICAgICAgICAgdmFyIHNldFJvd18xID0gX19hc3NpZ24oe30sIG9sZFJvdywgbmV3Um93LCAoX2EgPSB7fSwgX2FbdGhpcy50YWJsZUluZm9bdGFibGVdLl9wa10gPSBwaywgX2EpKTtcclxuICAgICAgICAgICAgdmFyIHNhbWVLZXlzXzEgPSBPYmplY3Qua2V5cyhzZXRSb3dfMSkuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZXRSb3dfMVtrZXldID09PSBvbGRSb3dba2V5XTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRhYmxlSW5mb1t0YWJsZV0uX3NlY29uZGFyeUluZGV4ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jbGVhclNlY29uZGFyeUluZGV4ZXModGFibGUsIHBrLCBvbGRSb3csIHNhbWVLZXlzXzEsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc2V0U2Vjb25kYXJ5SW5kZXhlcyh0YWJsZSwgcGssIHNldFJvd18xLCBzYW1lS2V5c18xLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJXcml0ZSh0YWJsZSwgcGssIHNldFJvd18xLCBjb21wbGV0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlcldyaXRlKHRhYmxlLCBwaywgc2V0Um93XzEsIGNvbXBsZXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgX2E7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBEZWxldGUgYSBzcGVjaWZpYyByb3cgZnJvbSB0aGUgZGF0YWJhc2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhYmxlXHJcbiAgICAgKiBAcGFyYW0ge0RCS2V5fSBwa1xyXG4gICAgICogQHBhcmFtIHsocm93OiBEQlJvdykgPT4gdm9pZH0gY29tcGxldGVcclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFN0b3JhZ2VcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxTdG9yYWdlLnByb3RvdHlwZS5fZGVsZXRlID0gZnVuY3Rpb24gKHRhYmxlLCBwaywgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICghcGspIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgZGVsZXRlIHdpdGhvdXQgYSBwcmltYXJ5IGtleSFcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyB1cGRhdGUgc2Vjb25kYXJ5IGluZGV4ZXNcclxuICAgICAgICAgICAgdGhpcy5hZGFwdGVyc1swXS5hZGFwdGVyLnJlYWQodGFibGUsIHBrLCBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fY2xlYXJTZWNvbmRhcnlJbmRleGVzKHRhYmxlLCBwaywgcm93LCBbXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRvIHRoZSBkZWxldGVcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGFwdGVyRGVsZXRlKHRhYmxlLCBwaywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZShyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIERyb3AgZW50aXJlIHRhYmxlIGZyb20gdGhlIGRhdGFiYXNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZVxyXG4gICAgICogQHBhcmFtIHsoKSA9PiB2b2lkfSBjb21wbGV0ZVxyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMU3RvcmFnZVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFN0b3JhZ2UucHJvdG90eXBlLl9kcm9wID0gZnVuY3Rpb24gKHRhYmxlLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTCh0aGlzLnRhYmxlSW5mb1t0YWJsZV0uX3NlY29uZGFyeUluZGV4ZXMsIGZ1bmN0aW9uIChpZHgsIGksIGRvbmUpIHtcclxuICAgICAgICAgICAgX3RoaXMuYWRhcHRlckRyb3AoXCJfXCIgKyB0YWJsZSArIFwiX2lkeF9cIiArIGlkeCwgZG9uZSk7XHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLl90cmllSW5kZXhlc1t0YWJsZV0gPSB7fTtcclxuICAgICAgICAgICAgX3RoaXMudGFibGVJbmZvW3RhYmxlXS5fdHJpZUNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY28pIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl90cmllSW5kZXhlc1t0YWJsZV1bY29dID0gbmV3IHByZWZpeF90cmllX3RzXzEuVHJpZShbXSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBfdGhpcy5hZGFwdGVyRHJvcCh0YWJsZSwgY29tcGxldGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRmluZCBzZWNvbmRhcnkgaW5kZXhlcyBhbmQgYXV0b21hdGljYWxseSBnZW5lcmF0ZSBhbiBpbmRleCB0YWJsZSBmb3IgZWFjaC5cclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7U3RkT2JqZWN0PERhdGFNb2RlbFtdPn0gZGF0YU1vZGVsc1xyXG4gICAgICogQHJldHVybnNcclxuICAgICAqIEBtZW1iZXJvZiBOYW5vU1FMU3RvcmFnZVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFN0b3JhZ2UucHJvdG90eXBlLl9jcmVhdGVTZWNvbmRhcnlJbmRleFRhYmxlcyA9IGZ1bmN0aW9uIChkYXRhTW9kZWxzKSB7XHJcbiAgICAgICAgT2JqZWN0LmtleXMoZGF0YU1vZGVscykuZm9yRWFjaChmdW5jdGlvbiAodGFibGUpIHtcclxuICAgICAgICAgICAgdmFyIGhhc1BLID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBoYXNJRFggPSBmYWxzZTtcclxuICAgICAgICAgICAgZGF0YU1vZGVsc1t0YWJsZV0uZm9yRWFjaChmdW5jdGlvbiAobW9kZWwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChtb2RlbC5wcm9wcyAmJiB1dGlsaXRpZXNfMS5pbnRlcnNlY3QoW1wicGtcIiwgXCJwaygpXCJdLCBtb2RlbC5wcm9wcykpIHtcclxuICAgICAgICAgICAgICAgICAgICBoYXNQSyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobW9kZWwucHJvcHMgJiYgdXRpbGl0aWVzXzEuaW50ZXJzZWN0KFtcInRyaWVcIiwgXCJpZHhcIiwgXCJpZHgoKVwiLCBcInRyaWUoKVwiXSwgbW9kZWwucHJvcHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzSURYID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhTW9kZWxzW1wiX1wiICsgdGFibGUgKyBcIl9pZHhfXCIgKyBtb2RlbC5rZXldID0gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogXCJpZFwiLCB0eXBlOiBbXCJudW1iZXJcIiwgXCJmbG9hdFwiLCBcImludFwiXS5pbmRleE9mKG1vZGVsLnR5cGUpICE9PSAtMSA/IG1vZGVsLnR5cGUgOiBcInN0cmluZ1wiLCBwcm9wczogW1wicGtcIl0gfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6IFwicm93c1wiLCB0eXBlOiBcImFueVtdXCIgfVxyXG4gICAgICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoaGFzSURYICYmICFoYXNQSykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGFibGVzIHdpdGggc2Vjb25kYXJ5IGluZGV4ZXMgbXVzdCBoYXZlIGEgcHJpbWFyeSBrZXkhXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGRhdGFNb2RlbHM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSB0aGUgZGF0YSBuZWVkZWQgdG8gbWFuYWdlIGVhY2ggdGFibGUgaW4gdGhlIGRhdGFiYXNlXHJcbiAgICAgKlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFibGVOYW1lXHJcbiAgICAgKiBAcGFyYW0ge0RhdGFNb2RlbFtdfSBkYXRhTW9kZWxzXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICogQG1lbWJlcm9mIE5hbm9TUUxTdG9yYWdlXHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZS5wcm90b3R5cGUuX25ld1RhYmxlID0gZnVuY3Rpb24gKHRhYmxlTmFtZSwgZGF0YU1vZGVscykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy50YWJsZUluZm9bdGFibGVOYW1lXSA9IHtcclxuICAgICAgICAgICAgX3BrOiBcIlwiLFxyXG4gICAgICAgICAgICBfcGtUeXBlOiBcIlwiLFxyXG4gICAgICAgICAgICBfa2V5czogW10sXHJcbiAgICAgICAgICAgIF9kZWZhdWx0czogW10sXHJcbiAgICAgICAgICAgIF9zZWNvbmRhcnlJbmRleGVzOiBbXSxcclxuICAgICAgICAgICAgX3RyaWVDb2x1bW5zOiBbXSxcclxuICAgICAgICAgICAgX25hbWU6IHRhYmxlTmFtZSxcclxuICAgICAgICAgICAgX3ZpZXdzOiB7fSxcclxuICAgICAgICAgICAgX3ZpZXdUYWJsZXM6IFtdXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLl9jYWNoZVt0YWJsZU5hbWVdID0ge307XHJcbiAgICAgICAgdGhpcy5fY2FjaGVLZXlzW3RhYmxlTmFtZV0gPSB7fTtcclxuICAgICAgICB0aGlzLl90cmllSW5kZXhlc1t0YWJsZU5hbWVdID0ge307XHJcbiAgICAgICAgdGhpcy5hZGFwdGVycy5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgIGEuYWRhcHRlci5tYWtlVGFibGUodGFibGVOYW1lLCBkYXRhTW9kZWxzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBEaXNjb3ZlciBwcmltYXJ5IGtleXMgZm9yIGVhY2ggdGFibGVcclxuICAgICAgICB2YXIgaSA9IHRoaXMubW9kZWxzW3RhYmxlTmFtZV0ubGVuZ3RoO1xyXG4gICAgICAgIHZhciBfbG9vcF8yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcCA9IHRoaXNfMS5tb2RlbHNbdGFibGVOYW1lXVtpXTtcclxuICAgICAgICAgICAgdGhpc18xLnRhYmxlSW5mb1t0YWJsZU5hbWVdLl9rZXlzLnVuc2hpZnQocC5rZXkpO1xyXG4gICAgICAgICAgICB0aGlzXzEudGFibGVJbmZvW3RhYmxlTmFtZV0uX2RlZmF1bHRzW2ldID0gcC5kZWZhdWx0O1xyXG4gICAgICAgICAgICBpZiAocC5wcm9wcyAmJiBwLnByb3BzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzMm5kSW5kZXhfMSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcC5wcm9wcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AuaW5kZXhPZihcImZyb209PlwiKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2hhc1ZpZXdzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gcC50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCAhPT0gXCJmcm9tPT5HSE9TVFwiICYmIHByb3AgIT09IFwiZnJvbT0+TElWRVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm9wIGlzIFwiZnJvbT0+dGFibGUuY29sdW1uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlID0gcHJvcC5yZXBsYWNlKFwiZnJvbT0+XCIsIFwiXCIpLnNwbGl0KFwiLlwiKS5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMudGFibGVJbmZvW3RhYmxlTmFtZV0uX3ZpZXdzW3RhYmxlXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudGFibGVJbmZvW3RhYmxlTmFtZV0uX3ZpZXdzW3RhYmxlXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwa0NvbHVtbjogXCJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbnM6IFtdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wID09PSBcImZyb209PkdIT1NUXCIgfHwgcHJvcCA9PT0gXCJmcm9tPT5MSVZFXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzMm5kSW5kZXhfMSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy50YWJsZUluZm9bdGFibGVOYW1lXS5fdmlld3NbdGFibGVdLnBrQ29sdW1uID0gcC5rZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy50YWJsZUluZm9bdGFibGVOYW1lXS5fdmlld3NbdGFibGVdLm1vZGUgPSBwcm9wLnJlcGxhY2UoXCJmcm9tPT5cIiwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy50YWJsZUluZm9bdGFibGVOYW1lXS5fdmlld3NbdGFibGVdLmNvbHVtbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc0NvbHVtbjogcC5rZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJDb2x1bW46IHByb3AucmVwbGFjZShcImZyb209PlwiLCBcIlwiKS5zcGxpdChcIi5cIikucG9wKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgcHJpbWFyeSBrZXlcclxuICAgICAgICAgICAgICAgIGlmICh1dGlsaXRpZXNfMS5pbnRlcnNlY3QoW1wicGtcIiwgXCJwaygpXCJdLCBwLnByb3BzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNfMS50YWJsZUluZm9bdGFibGVOYW1lXS5fcGsgPSBwLmtleTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzXzEudGFibGVJbmZvW3RhYmxlTmFtZV0uX3BrVHlwZSA9IHAudHlwZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBzZWNvbmRhcnkgaW5kZXhlc1xyXG4gICAgICAgICAgICAgICAgaWYgKHV0aWxpdGllc18xLmludGVyc2VjdChbXCJ0cmllXCIsIFwiaWR4XCIsIFwiaWR4KClcIiwgXCJ0cmllKClcIl0sIHAucHJvcHMpIHx8IGlzMm5kSW5kZXhfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNfMS50YWJsZUluZm9bdGFibGVOYW1lXS5fc2Vjb25kYXJ5SW5kZXhlcy5wdXNoKHAua2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciB0cmllIGluZGV4ZXNcclxuICAgICAgICAgICAgICAgIGlmICh1dGlsaXRpZXNfMS5pbnRlcnNlY3QoW1widHJpZVwiLCBcInRyaWUoKVwiXSwgcC5wcm9wcykpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzXzEudGFibGVJbmZvW3RhYmxlTmFtZV0uX3RyaWVDb2x1bW5zLnB1c2gocC5rZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNfMS5fdHJpZUluZGV4ZXNbdGFibGVOYW1lXVtwLmtleV0gPSBuZXcgcHJlZml4X3RyaWVfdHNfMS5UcmllKFtdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHRoaXNfMSA9IHRoaXM7XHJcbiAgICAgICAgd2hpbGUgKGktLSkge1xyXG4gICAgICAgICAgICBfbG9vcF8yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0YWJsZU5hbWU7XHJcbiAgICB9O1xyXG4gICAgX05hbm9TUUxTdG9yYWdlLnByb3RvdHlwZS5hZGFwdGVyV3JpdGUgPSBmdW5jdGlvbiAodGFibGUsIHBrLCBkYXRhLCBjb21wbGV0ZSwgZXJyb3IpIHtcclxuICAgICAgICB2YXIgcmVzdWx0O1xyXG4gICAgICAgIHV0aWxpdGllc18xLmZhc3RBTEwodGhpcy5hZGFwdGVycywgZnVuY3Rpb24gKGEsIGksIGRvbmUpIHtcclxuICAgICAgICAgICAgaWYgKGEud2FpdEZvcldyaXRlcykge1xyXG4gICAgICAgICAgICAgICAgYS5hZGFwdGVyLndyaXRlKHRhYmxlLCBwaywgZGF0YSwgZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJvdztcclxuICAgICAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgICAgIGEuYWRhcHRlci53cml0ZSh0YWJsZSwgcGssIGRhdGEsIGZ1bmN0aW9uIChyb3cpIHsgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29tcGxldGUocmVzdWx0KTtcclxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcilcclxuICAgICAgICAgICAgICAgIGVycm9yKGVycik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX05hbm9TUUxTdG9yYWdlLnByb3RvdHlwZS5hZGFwdGVyRGVsZXRlID0gZnVuY3Rpb24gKHRhYmxlLCBwaywgY29tcGxldGUsIGVycm9yKSB7XHJcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTCh0aGlzLmFkYXB0ZXJzLCBmdW5jdGlvbiAoYSwgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICBpZiAoYS53YWl0Rm9yV3JpdGVzKSB7XHJcbiAgICAgICAgICAgICAgICBhLmFkYXB0ZXIuZGVsZXRlKHRhYmxlLCBwaywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgYS5hZGFwdGVyLmRlbGV0ZSh0YWJsZSwgcGssIGZ1bmN0aW9uICgpIHsgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcilcclxuICAgICAgICAgICAgICAgIGVycm9yKGVycik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX05hbm9TUUxTdG9yYWdlLnByb3RvdHlwZS5hZGFwdGVyRHJvcCA9IGZ1bmN0aW9uICh0YWJsZSwgY29tcGxldGUsIGVycm9yKSB7XHJcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTCh0aGlzLmFkYXB0ZXJzLCBmdW5jdGlvbiAoYSwgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICBpZiAoYS53YWl0Rm9yV3JpdGVzKSB7XHJcbiAgICAgICAgICAgICAgICBhLmFkYXB0ZXIuZHJvcCh0YWJsZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgYS5hZGFwdGVyLmRyb3AodGFibGUsIGZ1bmN0aW9uICgpIHsgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcilcclxuICAgICAgICAgICAgICAgIGVycm9yKGVycik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9OYW5vU1FMU3RvcmFnZTtcclxufSgpKTtcclxuZXhwb3J0cy5fTmFub1NRTFN0b3JhZ2UgPSBfTmFub1NRTFN0b3JhZ2U7XHJcbiIsInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xyXG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXHJcbiAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZGV4XzEgPSByZXF1aXJlKFwiLi4vaW5kZXhcIik7XHJcbnZhciB1dGlsaXRpZXNfMSA9IHJlcXVpcmUoXCIuLi91dGlsaXRpZXNcIik7XHJcbnZhciBxdWVyeU9iaiA9IHtcclxuICAgIHNlbGVjdDogZnVuY3Rpb24gKHNlbGYsIG5leHQpIHtcclxuICAgICAgICBzZWxmLl9zZWxlY3QobmV4dCk7XHJcbiAgICB9LFxyXG4gICAgdXBzZXJ0OiBmdW5jdGlvbiAoc2VsZiwgbmV4dCkge1xyXG4gICAgICAgIHNlbGYuX3Vwc2VydChuZXh0KTtcclxuICAgIH0sXHJcbiAgICBkZWxldGU6IGZ1bmN0aW9uIChzZWxmLCBuZXh0KSB7XHJcbiAgICAgICAgc2VsZi5fZGVsZXRlKG5leHQpO1xyXG4gICAgfSxcclxuICAgIGRyb3A6IGZ1bmN0aW9uIChzZWxmLCBuZXh0KSB7XHJcbiAgICAgICAgc2VsZi5fZHJvcChuZXh0KTtcclxuICAgIH0sXHJcbiAgICBcInNob3cgdGFibGVzXCI6IGZ1bmN0aW9uIChzZWxmLCBuZXh0KSB7XHJcbiAgICAgICAgc2VsZi5fcXVlcnkucmVzdWx0ID0gT2JqZWN0LmtleXMoc2VsZi5fc3RvcmUudGFibGVJbmZvKTtcclxuICAgICAgICBuZXh0KHNlbGYuX3F1ZXJ5KTtcclxuICAgIH0sXHJcbiAgICBkZXNjcmliZTogZnVuY3Rpb24gKHNlbGYsIG5leHQpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHNlbGYuX3F1ZXJ5LnRhYmxlICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIG5leHQoc2VsZi5fcXVlcnkpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGYuX3F1ZXJ5LnJlc3VsdCA9IHV0aWxpdGllc18xLl9hc3NpZ24oc2VsZi5fc3RvcmUubW9kZWxzW3NlbGYuX3F1ZXJ5LnRhYmxlXSk7XHJcbiAgICAgICAgbmV4dChzZWxmLl9xdWVyeSk7XHJcbiAgICB9LFxyXG59O1xyXG4vKipcclxuICogQSBuZXcgU3RvcmFnZSBRdWVyeSBjbGFzcyBpcyBpbmlsaXRpemVkIGZvciBldmVyeSBxdWVyeSwgcGVyZm9ybWluZyB0aGUgYWN0aW9uc1xyXG4gKiBhZ2FpbnN0IHRoZSBzdG9yYWdlIGNsYXNzIGl0c2VsZiB0byBnZXQgdGhlIGRlc2lyZWQgb3V0Y29tZS5cclxuICpcclxuICogQGV4cG9ydFxyXG4gKiBAY2xhc3MgX05hbm9TUUxTdG9yYWdlUXVlcnlcclxuICovXHJcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxyXG52YXIgX05hbm9TUUxTdG9yYWdlUXVlcnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBfTmFub1NRTFN0b3JhZ2VRdWVyeShfc3RvcmUpIHtcclxuICAgICAgICB0aGlzLl9zdG9yZSA9IF9zdG9yZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRXhlY3V0ZSB0aGUgcXVlcnkgYWdhaW5zdCB0aGlzIGNsYXNzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7SWRiUXVlcnl9IHF1ZXJ5XHJcbiAgICAgKiBAcGFyYW0geyhxOiBJZGJRdWVyeSkgPT4gdm9pZH0gbmV4dFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFN0b3JhZ2VRdWVyeVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFN0b3JhZ2VRdWVyeS5wcm90b3R5cGUuZG9RdWVyeSA9IGZ1bmN0aW9uIChxdWVyeSwgbmV4dCkge1xyXG4gICAgICAgIHRoaXMuX3F1ZXJ5ID0gcXVlcnk7XHJcbiAgICAgICAgdGhpcy5faXNJbnN0YW5jZVRhYmxlID0gQXJyYXkuaXNBcnJheShxdWVyeS50YWJsZSk7XHJcbiAgICAgICAgcXVlcnlPYmpbcXVlcnkuYWN0aW9uXSh0aGlzLCBuZXh0KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHJlaXZlIHRoZSBzZWxlY3RlZCByb3dzIGZvciB0aGlzIHF1ZXJ5LCB3b3JrcyBmb3IgaW5zdGFuY2UgdGFibGVzIGFuZCBzdGFuZGFyZCBvbmVzLlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHsocm93czogREJSb3dbXSkgPT4gdm9pZH0gY29tcGxldGVcclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFN0b3JhZ2VRdWVyeVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFN0b3JhZ2VRdWVyeS5wcm90b3R5cGUuX2dldFJvd3MgPSBmdW5jdGlvbiAoY29tcGxldGUpIHtcclxuICAgICAgICBpZiAodGhpcy5faXNJbnN0YW5jZVRhYmxlKSB7XHJcbiAgICAgICAgICAgIG5ldyBJbnN0YW5jZVNlbGVjdGlvbih0aGlzLl9xdWVyeSkuZ2V0Um93cyhjb21wbGV0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBuZXcgX1Jvd1NlbGVjdGlvbih0aGlzLl9xdWVyeSwgdGhpcy5fc3RvcmUsIGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShyb3dzLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gcjsgfSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgX05hbm9TUUxTdG9yYWdlUXVlcnkucHJvdG90eXBlLl9zZXRDYWNoZSA9IGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLl9zdG9yZS5fY2FjaGVbdGhpcy5fcXVlcnkudGFibGVdW3RoaXMuX2hhc2hdID0gcm93cztcclxuICAgICAgICAvLyBzdG9yZSBwcmltYXJ5IGtleXMgZm9yIHRoaXMgY2FjaGUsIHVzZWQgZm9yIGNhY2hlIGludmFsaWRhdGlvblxyXG4gICAgICAgIHRoaXMuX3N0b3JlLl9jYWNoZUtleXNbdGhpcy5fcXVlcnkudGFibGVdW3RoaXMuX2hhc2hdID0ge307XHJcbiAgICAgICAgcm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgIF90aGlzLl9zdG9yZS5fY2FjaGVLZXlzW190aGlzLl9xdWVyeS50YWJsZV1bX3RoaXMuX2hhc2hdW3JbX3RoaXMuX3N0b3JlLnRhYmxlSW5mb1tfdGhpcy5fcXVlcnkudGFibGVdLl9wa11dID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEluaXRpbHplIGEgU0VMRUNUIHF1ZXJ5LlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHsocTogSWRiUXVlcnkpID0+IHZvaWR9IG5leHRcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxTdG9yYWdlUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxTdG9yYWdlUXVlcnkucHJvdG90eXBlLl9zZWxlY3QgPSBmdW5jdGlvbiAobmV4dCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5faGFzaCA9IHV0aWxpdGllc18xLmhhc2goSlNPTi5zdHJpbmdpZnkoX19hc3NpZ24oe30sIHRoaXMuX3F1ZXJ5LCB7IHF1ZXJ5SUQ6IG51bGwgfSkpKTtcclxuICAgICAgICB2YXIgY2FuQ2FjaGUgPSAhdGhpcy5fcXVlcnkuam9pbiAmJiAhdGhpcy5fcXVlcnkub3JtICYmIHRoaXMuX3N0b3JlLl9kb0NhY2hlICYmICFBcnJheS5pc0FycmF5KHRoaXMuX3F1ZXJ5LnRhYmxlKTtcclxuICAgICAgICAvLyBRdWVyeSBjYWNoZSBmb3IgdGhlIHdpbiFcclxuICAgICAgICAvKmlmIChjYW5DYWNoZSAmJiB0aGlzLl9zdG9yZS5fY2FjaGVbdGhpcy5fcXVlcnkudGFibGUgYXMgYW55XVt0aGlzLl9oYXNoXSkge1xyXG4gICAgICAgICAgICB0aGlzLl9xdWVyeS5yZXN1bHQgPSB0aGlzLl9zdG9yZS5fY2FjaGVbdGhpcy5fcXVlcnkudGFibGUgYXMgYW55XVt0aGlzLl9oYXNoXTtcclxuICAgICAgICAgICAgbmV4dCh0aGlzLl9xdWVyeSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9Ki9cclxuICAgICAgICB0aGlzLl9nZXRSb3dzKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgIC8vIE5vIHF1ZXJ5IGFyZ3VtZW50cywgd2UgY2FuIHNraXAgdGhlIHdob2xlIG11dGF0aW9uIHNlbGVjdGlvbiBjbGFzc1xyXG4gICAgICAgICAgICBpZiAoIVtcImhhdmluZ1wiLCBcIm9yZGVyQnlcIiwgXCJvZmZzZXRcIiwgXCJsaW1pdFwiLCBcImFjdGlvbkFyZ3NcIiwgXCJncm91cEJ5XCIsIFwib3JtXCIsIFwiam9pblwiXS5maWx0ZXIoZnVuY3Rpb24gKGspIHsgcmV0dXJuIF90aGlzLl9xdWVyeVtrXTsgfSkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FuQ2FjaGUpXHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3NldENhY2hlKHJvd3MpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3F1ZXJ5LnJlc3VsdCA9IHJvd3M7XHJcbiAgICAgICAgICAgICAgICBuZXh0KF90aGlzLl9xdWVyeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBuZXcgX011dGF0ZVNlbGVjdGlvbihfdGhpcy5fcXVlcnksIF90aGlzLl9zdG9yZSkuX2V4ZWN1dGVRdWVyeUFyZ3VtZW50cyhyb3dzLCBmdW5jdGlvbiAocmVzdWx0Um93cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5DYWNoZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3NldENhY2hlKHJvd3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9xdWVyeS5yZXN1bHQgPSByZXN1bHRSb3dzO1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQoX3RoaXMuX3F1ZXJ5KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgX05hbm9TUUxTdG9yYWdlUXVlcnkucHJvdG90eXBlLl91cGRhdGVPUk1Sb3dzID0gZnVuY3Rpb24gKHJlbGF0aW9uLCBmcm9tUEtzLCBhZGQsIHByaW1hcnlLZXksIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgZnJvbVBrID0gdGhpcy5fc3RvcmUudGFibGVJbmZvW3JlbGF0aW9uLl9mcm9tVGFibGVdLl9waztcclxuICAgICAgICB0aGlzLl9zdG9yZS5fcmVhZChyZWxhdGlvbi5fZnJvbVRhYmxlLCBmcm9tUEtzLCBmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHJvd3MsIGZ1bmN0aW9uIChyb3csIGksIHJvd0RvbmUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBuZXdSb3cgPSBPYmplY3QuaXNGcm96ZW4ocm93KSA/IHV0aWxpdGllc18xLl9hc3NpZ24ocm93KSA6IHJvdztcclxuICAgICAgICAgICAgICAgIGlmIChyZWxhdGlvbi5fZnJvbVR5cGUgPT09IFwiYXJyYXlcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1Jvd1tyZWxhdGlvbi5fZnJvbUNvbHVtbl0gPSBuZXdSb3dbcmVsYXRpb24uX2Zyb21Db2x1bW5dIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpZHhPZiA9IG5ld1Jvd1tyZWxhdGlvbi5fZnJvbUNvbHVtbl0uaW5kZXhPZihwcmltYXJ5S2V5KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYWRkKSB7IC8vIGFkZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4T2YgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdSb3dbcmVsYXRpb24uX2Zyb21Db2x1bW5dLnB1c2gocHJpbWFyeUtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dEb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7IC8vIHJlbW92ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4T2YgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdSb3dbcmVsYXRpb24uX2Zyb21Db2x1bW5dLnNwbGljZShpZHhPZiwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dEb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Um93W3JlbGF0aW9uLl9mcm9tQ29sdW1uXS5zb3J0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYWRkKSB7IC8vIGFkZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdSb3dbcmVsYXRpb24uX2Zyb21Db2x1bW5dID0gcHJpbWFyeUtleTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7IC8vIHJlbW92ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdSb3dbcmVsYXRpb24uX2Zyb21Db2x1bW5dID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fc3RvcmUuX25zcWwucXVlcnkoXCJ1cHNlcnRcIiwgbmV3Um93KS5jb21tZW50KFwiX29ybV9za2lwXCIpLm1hbnVhbEV4ZWMoeyB0YWJsZTogcmVsYXRpb24uX2Zyb21UYWJsZSB9KS50aGVuKHJvd0RvbmUpO1xyXG4gICAgICAgICAgICB9KS50aGVuKGNvbXBsZXRlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBfTmFub1NRTFN0b3JhZ2VRdWVyeS5wcm90b3R5cGUuX3N5bmNPUk0gPSBmdW5jdGlvbiAodHlwZSwgb2xkUm93cywgbmV3Um93cywgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICghdGhpcy5fc3RvcmUuX2hhc09STSkge1xyXG4gICAgICAgICAgICBjb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB1c2VSZWxhdGlvbnMgPSB0aGlzLl9zdG9yZS5fcmVsVG9UYWJsZVt0aGlzLl9xdWVyeS50YWJsZV07XHJcbiAgICAgICAgaWYgKHRoaXMuX3F1ZXJ5LmNvbW1lbnRzLmluZGV4T2YoXCJfb3JtX3NraXBcIikgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF1c2VSZWxhdGlvbnMgfHwgIXVzZVJlbGF0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29tcGxldGUoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBnbyBvdmVyIGV2ZXJ5IHJlbGF0aW9uIGFuZCBldmVyeSBjaGFuZ2VkIHJvdyB0byBtYWtlIHRoZSBuZWVkZWQgdXBkYXRlcy5cclxuICAgICAgICB2YXIgY250ID0gTWF0aC5tYXgob2xkUm93cy5sZW5ndGgsIG5ld1Jvd3MubGVuZ3RoKTtcclxuICAgICAgICB2YXIgYXJyYSA9IFtdO1xyXG4gICAgICAgIHdoaWxlIChjbnQtLSlcclxuICAgICAgICAgICAgYXJyYS5wdXNoKFwiIFwiKTtcclxuICAgICAgICB1dGlsaXRpZXNfMS5mYXN0Q0hBSU4oYXJyYSwgZnVuY3Rpb24gKHYsIGlkeCwgcm93RG9uZSkge1xyXG4gICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHVzZVJlbGF0aW9ucywgZnVuY3Rpb24gKHJlbGF0aW9uLCBrLCByZWxhdGlvbkRvbmUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlcXVhbHMgPSBmdW5jdGlvbiAodmFsMSwgdmFsMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbDEpICYmIEFycmF5LmlzQXJyYXkodmFsMikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbDEubGVuZ3RoICE9PSB2YWwyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWwxLmZpbHRlcihmdW5jdGlvbiAodiwgaSkgeyByZXR1cm4gdiAhPT0gdmFsMltpXTsgfSkubGVuZ3RoID4gMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWwxID09PSB2YWwyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGVsXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWxQcmltYXJ5a2V5ID0gb2xkUm93c1tpZHhdW190aGlzLl9zdG9yZS50YWJsZUluZm9bX3RoaXMuX3F1ZXJ5LnRhYmxlXS5fcGtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlSURzID0gcmVsYXRpb24uX3RoaXNUeXBlID09PSBcImFycmF5XCIgPyAob2xkUm93c1tpZHhdW3JlbGF0aW9uLl90aGlzQ29sdW1uXSB8fCBbXSkgOiAoW29sZFJvd3NbaWR4XVtyZWxhdGlvbi5fdGhpc0NvbHVtbl1dLmZpbHRlcihmdW5jdGlvbiAodikgeyByZXR1cm4gdjsgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdXBkYXRlT1JNUm93cyhyZWxhdGlvbiwgdXBkYXRlSURzLCBmYWxzZSwgZGVsUHJpbWFyeWtleSwgcmVsYXRpb25Eb25lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFkZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJpbWFyeUtleV8xID0gbmV3Um93c1tpZHhdW190aGlzLl9zdG9yZS50YWJsZUluZm9bX3RoaXMuX3F1ZXJ5LnRhYmxlXS5fcGtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwb3NzaWJseSB1cGRhdGUgZXhpc3RpbmcgcmVsYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgYWRkaW5nIG9sZFJvd3NbaWR4XSBpcyBwb3NzaWJseSB1bmRlZmluZWQgKGlmIHRoZXJlcyBubyBwcmV2aW91c2Ugcm93IHJlY29yZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFJvd3NbaWR4XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJldmlvdXNlIHJlY29yZCBleGlzdHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcXVhbHMob2xkUm93c1tpZHhdW3JlbGF0aW9uLl90aGlzQ29sdW1uXSwgbmV3Um93c1tpZHhdW3JlbGF0aW9uLl90aGlzQ29sdW1uXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBubyB1cGRhdGUgbmVlZGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25Eb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVsYXRpb24uX3RoaXNUeXBlID09PSBcImFycmF5XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkZElkcyA9IChuZXdSb3dzW2lkeF1bcmVsYXRpb24uX3RoaXNDb2x1bW5dIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChvbGRSb3dzW2lkeF1bcmVsYXRpb24uX3RoaXNDb2x1bW5dIHx8IFtdKS5pbmRleE9mKHYpID09PSAtMTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZW1vdmVJZHMgPSAob2xkUm93c1tpZHhdW3JlbGF0aW9uLl90aGlzQ29sdW1uXSB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uICh2KSB7IHJldHVybiAobmV3Um93c1tpZHhdW3JlbGF0aW9uLl90aGlzQ29sdW1uXSB8fCBbXSkuaW5kZXhPZih2KSA9PT0gLTE7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKFthZGRJZHMsIHJlbW92ZUlkc10sIGZ1bmN0aW9uIChsaXN0LCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdXBkYXRlT1JNUm93cyhyZWxhdGlvbiwgbGlzdCwgaSA9PT0gMCwgcHJpbWFyeUtleV8xLCBkb25lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihyZWxhdGlvbkRvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkZFJlbGF0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIG5ldyByZWxhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Jvd3NbaWR4XVtyZWxhdGlvbi5fdGhpc0NvbHVtbl0gIT09IG51bGwgJiYgbmV3Um93c1tpZHhdW3JlbGF0aW9uLl90aGlzQ29sdW1uXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3VwZGF0ZU9STVJvd3MocmVsYXRpb24sIFtuZXdSb3dzW2lkeF1bcmVsYXRpb24uX3RoaXNDb2x1bW5dXSwgdHJ1ZSwgcHJpbWFyeUtleV8xLCByZWxhdGlvbkRvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm8gbmV3IHJlbGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25Eb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBvbGQgY29ubmVjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkUm93c1tpZHhdW3JlbGF0aW9uLl90aGlzQ29sdW1uXSAhPT0gbnVsbCAmJiBvbGRSb3dzW2lkeF1bcmVsYXRpb24uX3RoaXNDb2x1bW5dICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl91cGRhdGVPUk1Sb3dzKHJlbGF0aW9uLCBbb2xkUm93c1tpZHhdW3JlbGF0aW9uLl90aGlzQ29sdW1uXV0sIGZhbHNlLCBwcmltYXJ5S2V5XzEsIGFkZFJlbGF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vIG9sZCBjb25uZWN0aW9uLCBqdXN0IGFkZCB0aGUgbmV3IG9uZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUmVsYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gbmV3IHJlbGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVzVG9BZGQgPSByZWxhdGlvbi5fdGhpc1R5cGUgPT09IFwiYXJyYXlcIiA/IChuZXdSb3dzW2lkeF1bcmVsYXRpb24uX3RoaXNDb2x1bW5dIHx8IFtdKSA6IChbbmV3Um93c1tpZHhdW3JlbGF0aW9uLl90aGlzQ29sdW1uXV0uZmlsdGVyKGZ1bmN0aW9uICh2KSB7IHJldHVybiB2OyB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVzVG9BZGQgJiYgdmFsdWVzVG9BZGQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3VwZGF0ZU9STVJvd3MocmVsYXRpb24sIHZhbHVlc1RvQWRkLCB0cnVlLCBwcmltYXJ5S2V5XzEsIHJlbGF0aW9uRG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxhdGlvbkRvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkudGhlbihyb3dEb25lKTtcclxuICAgICAgICB9KS50aGVuKGNvbXBsZXRlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEZvciBlYWNoIHVwZGF0ZWQgcm93LCB1cGRhdGUgdmlldyBjb2x1bW5zIGZyb20gcmVtb3RlIHJlY29yZHMgdGhhdCBhcmUgcmVsYXRlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQHBhcmFtIHthbnlbXX0gcm93c1xyXG4gICAgICogQHBhcmFtIHsoKSA9PiB2b2lkfSBjb21wbGV0ZVxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFN0b3JhZ2VRdWVyeVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFN0b3JhZ2VRdWVyeS5wcm90b3R5cGUuX3VwZGF0ZVJvd1ZpZXdzID0gZnVuY3Rpb24gKG5ld1Jvd0RhdGEsIGV4aXN0aW5nUm93LCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9zdG9yZS5faGFzVmlld3MpIHtcclxuICAgICAgICAgICAgY29tcGxldGUobmV3Um93RGF0YSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gbm90aGluZyB0byB1cGRhdGVcclxuICAgICAgICBpZiAobmV3Um93RGF0YSA9PT0gbnVsbCB8fCBuZXdSb3dEYXRhID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29tcGxldGUobmV3Um93RGF0YSB8fCB7fSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChPYmplY3Qua2V5cyh0aGlzLl9zdG9yZS50YWJsZUluZm9bdGhpcy5fcXVlcnkudGFibGVdLl92aWV3cyksIGZ1bmN0aW9uICh0YWJsZSwgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICB2YXIgcGsgPSBfdGhpcy5fc3RvcmUudGFibGVJbmZvW190aGlzLl9xdWVyeS50YWJsZV0uX3ZpZXdzW3RhYmxlXS5wa0NvbHVtbjtcclxuICAgICAgICAgICAgLy8gcmVmZXJlbmNlL3BrIGNvbHVtbiBpc24ndCBiZWluZyB1cGRhdGVkLlxyXG4gICAgICAgICAgICBpZiAobmV3Um93RGF0YVtwa10gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIG5vIGNoYW5nZXMgaW4gcmVmZXJlbmNlLCBza2lwIHF1ZXJ5IGFuZCB1cGF0ZVxyXG4gICAgICAgICAgICBpZiAobmV3Um93RGF0YVtwa10gPT09IGV4aXN0aW5nUm93W3BrXSkge1xyXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSByZWZlcmVuY2VcclxuICAgICAgICAgICAgaWYgKG5ld1Jvd0RhdGFbcGtdID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fc3RvcmUudGFibGVJbmZvW190aGlzLl9xdWVyeS50YWJsZV0uX3ZpZXdzW3RhYmxlXS5jb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1Jvd0RhdGFbY29sLnRoaXNDb2x1bW5dID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGdldCByZWZlcmVuY2UgcmVjb3JkIGFuZCBjb3B5IGV2ZXJ5dGhpbmcgb3ZlclxyXG4gICAgICAgICAgICBfdGhpcy5fc3RvcmUuX3JlYWQodGFibGUsIFtuZXdSb3dEYXRhW3BrXV0sIGZ1bmN0aW9uIChyZWZSb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyByZWNvcmQgZG9lc24ndCBleGlzdFxyXG4gICAgICAgICAgICAgICAgaWYgKCFyZWZSb3dzLmxlbmd0aCAmJiBfdGhpcy5fc3RvcmUudGFibGVJbmZvW190aGlzLl9xdWVyeS50YWJsZV0uX3ZpZXdzW3RhYmxlXS5tb2RlID09PSBcIkxJVkVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9zdG9yZS50YWJsZUluZm9bX3RoaXMuX3F1ZXJ5LnRhYmxlXS5fdmlld3NbdGFibGVdLmNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Jvd0RhdGFbY29sLnRoaXNDb2x1bW5dID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gcmVjb3JkIGV4aXN0cywgY29weSBvdmVyIGRhdGFcclxuICAgICAgICAgICAgICAgIF90aGlzLl9zdG9yZS50YWJsZUluZm9bX3RoaXMuX3F1ZXJ5LnRhYmxlXS5fdmlld3NbdGFibGVdLmNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Um93RGF0YVtjb2wudGhpc0NvbHVtbl0gPSByZWZSb3dzWzBdW2NvbC5vdGhlckNvbHVtbl07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbXBsZXRlKG5ld1Jvd0RhdGEpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR28gdG8gdGFibGVzIHRoYXQgaGF2ZSB2aWV3cyBwb2ludGluZyB0byB0aGlzIG9uZSwgYW5kIHVwZGF0ZSB0aGVpciByZWNvcmRzLlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcGFyYW0ge2FueVtdfSB1cGRhdGVkUm93c1xyXG4gICAgICogQHBhcmFtIHsoKSA9PiB2b2lkfSBjb21wbGV0ZVxyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMU3RvcmFnZVF1ZXJ5XHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZVF1ZXJ5LnByb3RvdHlwZS5fdXBkYXRlUmVtb3RlVmlld3MgPSBmdW5jdGlvbiAodXBkYXRlZFJvd3MsIGRvRGVsLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHBrID0gdGhpcy5fc3RvcmUudGFibGVJbmZvW3RoaXMuX3F1ZXJ5LnRhYmxlXS5fcGs7XHJcbiAgICAgICAgLy8gZm9yIGV2ZXJ5IHVwZGF0ZWQgcm93XHJcbiAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTCh1cGRhdGVkUm93cywgZnVuY3Rpb24gKHJvdywgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICAvLyBzY2FuIGFsbCByZWxhdGVkIHRhYmxlcyBmb3IgcmVjb3JkcyBhdHRhY2hlZFxyXG4gICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKF90aGlzLl9zdG9yZS50YWJsZUluZm9bX3RoaXMuX3F1ZXJ5LnRhYmxlXS5fdmlld1RhYmxlcywgZnVuY3Rpb24gKHZpZXcsIGksIHJvd0RvbmUpIHtcclxuICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSB3aXRoIGVjaG8gbW9kZSwgc2tpcCByZW1vdmluZyByZWNvcmRzXHJcbiAgICAgICAgICAgICAgICBpZiAoZG9EZWwgJiYgX3RoaXMuX3N0b3JlLnRhYmxlSW5mb1t2aWV3LnRhYmxlXS5fdmlld3NbX3RoaXMuX3F1ZXJ5LnRhYmxlXS5tb2RlID09PSBcIkdIT1NUXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICByb3dEb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3N0b3JlLl9zZWNvbmRhcnlJbmRleFJlYWQodmlldy50YWJsZSwgdmlldy5jb2x1bW4sIHJvd1twa10sIGZ1bmN0aW9uIChyZWxhdGVkUm93cykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdGhpbmcgdG8gdXBkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWxhdGVkUm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93RG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2x1bW5zID0gX3RoaXMuX3N0b3JlLnRhYmxlSW5mb1t2aWV3LnRhYmxlXS5fdmlld3NbX3RoaXMuX3F1ZXJ5LnRhYmxlXS5jb2x1bW5zO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZWxQSyA9IF90aGlzLl9zdG9yZS50YWJsZUluZm9bdmlldy50YWJsZV0uX3ZpZXdzW190aGlzLl9xdWVyeS50YWJsZV0ucGtDb2x1bW47XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSByZWNvcmRzXHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChyZWxhdGVkUm93cywgZnVuY3Rpb24gKHJSb3csIGosIHJEb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gY29sdW1ucy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb1VwZGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9EZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fc3RvcmUudGFibGVJbmZvW3ZpZXcudGFibGVdLl92aWV3c1tfdGhpcy5fcXVlcnkudGFibGVdLm1vZGUgPT09IFwiTElWRVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9VcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJSb3dbcmVsUEtdID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJSb3dbY29sdW1uc1tpXS5vdGhlckNvbHVtbl0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoclJvd1tjb2x1bW5zW2ldLm90aGVyQ29sdW1uXSAhPT0gcm93W2NvbHVtbnNbaV0udGhpc0NvbHVtbl0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgclJvd1tjb2x1bW5zW2ldLm90aGVyQ29sdW1uXSA9IHJvd1tjb2x1bW5zW2ldLnRoaXNDb2x1bW5dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZG9VcGRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJEb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJQayA9IF90aGlzLl9zdG9yZS50YWJsZUluZm9bdmlldy50YWJsZV0uX3BrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc3RvcmUuYWRhcHRlcldyaXRlKHZpZXcudGFibGUsIHJSb3dbclBrXSwgclJvdywgckRvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4ocm93RG9uZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSkudGhlbihkb25lKTtcclxuICAgICAgICB9KS50aGVuKGNvbXBsZXRlKTtcclxuICAgIH07XHJcbiAgICBfTmFub1NRTFN0b3JhZ2VRdWVyeS5wcm90b3R5cGUuX2RvQWZ0ZXJRdWVyeSA9IGZ1bmN0aW9uIChuZXdSb3dzLCBkb0RlbCwgbmV4dCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgLy8gbm8gdmlld3MgYXQgYWxsIE9SIHRoaXMgdGFibGUgZG9lc24ndCBoYXZlIGFueSB2aWV3cyBwb2ludGluZyB0byBpdC5cclxuICAgICAgICBpZiAoIXRoaXMuX3N0b3JlLl9oYXNWaWV3cyB8fCAhdGhpcy5fc3RvcmUudGFibGVJbmZvW3RoaXMuX3F1ZXJ5LnRhYmxlXS5fdmlld1RhYmxlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbmV4dCh0aGlzLl9xdWVyeSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlUmVtb3RlVmlld3MobmV3Um93cywgZG9EZWwsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbmV4dChfdGhpcy5fcXVlcnkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlsaXplIGFuIFVQU0VSVCBxdWVyeS5cclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7KHE6IElkYlF1ZXJ5KSA9PiB2b2lkfSBuZXh0XHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMU3RvcmFnZVF1ZXJ5XHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZVF1ZXJ5LnByb3RvdHlwZS5fdXBzZXJ0ID0gZnVuY3Rpb24gKG5leHQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBwayA9IHRoaXMuX3N0b3JlLnRhYmxlSW5mb1t0aGlzLl9xdWVyeS50YWJsZV0uX3BrO1xyXG4gICAgICAgIGlmICh0aGlzLl9pc0luc3RhbmNlVGFibGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fZ2V0Um93cyhmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3F1ZXJ5LnJlc3VsdCA9IF90aGlzLl9xdWVyeS50YWJsZS5tYXAoZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocm93cy5pbmRleE9mKHIpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBfdGhpcy5fcXVlcnkuYWN0aW9uQXJncywgcik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIG5leHQoX3RoaXMuX3F1ZXJ5KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX3F1ZXJ5LndoZXJlKSB7IC8vIGhhcyB3aGVyZSBzdGF0ZW1lbnQsIHNlbGVjdCByb3dzIHRoZW4gbW9kaWZ5IHRoZW1cclxuICAgICAgICAgICAgdGhpcy5fZ2V0Um93cyhmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdENIQUlOKHJvd3MsIGZ1bmN0aW9uIChyLCBpLCByb3dEb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl91cGRhdGVSb3dWaWV3cyhfdGhpcy5fcXVlcnkuYWN0aW9uQXJncyB8fCB7fSwgciwgZnVuY3Rpb24gKHVwZGF0ZWRDb2x1bW5zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc3RvcmUuX3dyaXRlKF90aGlzLl9xdWVyeS50YWJsZSwgcltwa10sIHIsIHVwZGF0ZWRDb2x1bW5zLCByb3dEb25lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAobmV3Um93cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbnkgY2hhbmdlcyB0byB0aGlzIHRhYmxlIGludmFsaWRhdGVzIHRoZSBjYWNoZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGtzID0gbmV3Um93cy5tYXAoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHJbcGtdOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3N0b3JlLl9pbnZhbGlkYXRlQ2FjaGUoX3RoaXMuX3F1ZXJ5LnRhYmxlLCBwa3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcXVlcnkucmVzdWx0ID0gW3sgbXNnOiBuZXdSb3dzLmxlbmd0aCArIFwiIHJvdyhzKSBtb2RmaWVkLlwiLCBhZmZlY3RlZFJvd1BLUzogcGtzLCBhZmZlY3RlZFJvd3M6IG5ld1Jvd3MgfV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zeW5jT1JNKFwiYWRkXCIsIHJvd3MsIG5ld1Jvd3MsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9kb0FmdGVyUXVlcnkobmV3Um93cywgZmFsc2UsIG5leHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9xdWVyeS5yZXN1bHQgPSBbeyBtc2c6IFwiMCByb3cocykgbW9kZmllZC5cIiwgYWZmZWN0ZWRSb3dQS1M6IFtdLCBhZmZlY3RlZFJvd3M6IFtdIH1dO1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQoX3RoaXMuX3F1ZXJ5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgeyAvLyBubyB3aGVyZSBzdGF0ZW1lbnQsIHBlcmZvcm0gZGlyZWN0IHVwc2VydFxyXG4gICAgICAgICAgICB2YXIgcm93XzEgPSB0aGlzLl9xdWVyeS5hY3Rpb25BcmdzIHx8IHt9O1xyXG4gICAgICAgICAgICB0aGlzLl9zdG9yZS5fY2FjaGVbdGhpcy5fcXVlcnkudGFibGVdID0ge307XHJcbiAgICAgICAgICAgIHZhciB3cml0ZV8xID0gZnVuY3Rpb24gKG9sZFJvdykge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3VwZGF0ZVJvd1ZpZXdzKHJvd18xLCBvbGRSb3csIGZ1bmN0aW9uICh1cGRhdGVkQ29sdW1ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9zdG9yZS5fd3JpdGUoX3RoaXMuX3F1ZXJ5LnRhYmxlLCByb3dfMVtwa10sIG9sZFJvdywgdXBkYXRlZENvbHVtbnMsIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3F1ZXJ5LnJlc3VsdCA9IFt7IG1zZzogXCIxIHJvdyBpbnNlcnRlZC5cIiwgYWZmZWN0ZWRSb3dQS1M6IFtyZXN1bHRbcGtdXSwgYWZmZWN0ZWRSb3dzOiBbcmVzdWx0XSB9XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl9zdG9yZS5faGFzT1JNKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc3luY09STShcImFkZFwiLCBbb2xkUm93XS5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHI7IH0pLCBbcmVzdWx0XSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9kb0FmdGVyUXVlcnkoW3Jlc3VsdF0sIGZhbHNlLCBuZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2RvQWZ0ZXJRdWVyeShbcmVzdWx0XSwgZmFsc2UsIG5leHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKHJvd18xW3BrXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zdG9yZS5fcmVhZCh0aGlzLl9xdWVyeS50YWJsZSwgW3Jvd18xW3BrXV0sIGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvd3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlXzEocm93c1swXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZV8xKG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgd3JpdGVfMShudWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEluaXRpbGl6ZSBhIERFTEVURSBxdWVyeS5cclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7KHE6IElkYlF1ZXJ5KSA9PiB2b2lkfSBuZXh0XHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMU3RvcmFnZVF1ZXJ5XHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMU3RvcmFnZVF1ZXJ5LnByb3RvdHlwZS5fZGVsZXRlID0gZnVuY3Rpb24gKG5leHQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLl9pc0luc3RhbmNlVGFibGUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3F1ZXJ5LndoZXJlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9nZXRSb3dzKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3F1ZXJ5LnJlc3VsdCA9IF90aGlzLl9xdWVyeS50YWJsZS5maWx0ZXIoZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm93cy5pbmRleE9mKHJvdykgPT09IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQoX3RoaXMuX3F1ZXJ5KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcXVlcnkucmVzdWx0ID0gW107XHJcbiAgICAgICAgICAgICAgICBuZXh0KHRoaXMuX3F1ZXJ5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9xdWVyeS53aGVyZSkgeyAvLyBoYXMgd2hlcmUgc3RhdGVtZW50LCBzZWxlY3Qgcm93cyB0aGVuIGRlbGV0ZSB0aGVtXHJcbiAgICAgICAgICAgIHRoaXMuX2dldFJvd3MoZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgIHJvd3MgPSByb3dzLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gcjsgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocm93cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHJvd3MsIGZ1bmN0aW9uIChyLCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zdG9yZS5fZGVsZXRlKF90aGlzLl9xdWVyeS50YWJsZSwgcltfdGhpcy5fc3RvcmUudGFibGVJbmZvW190aGlzLl9xdWVyeS50YWJsZV0uX3BrXSwgZG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoYWZmZWN0ZWRSb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFueSBjaGFuZ2VzIHRvIHRoaXMgdGFibGUgaW52YWxpZGF0ZSB0aGUgY2FjaGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3N0b3JlLl9jYWNoZVtfdGhpcy5fcXVlcnkudGFibGVdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwa3MgPSByb3dzLm1hcChmdW5jdGlvbiAocikgeyByZXR1cm4gcltfdGhpcy5fc3RvcmUudGFibGVJbmZvW190aGlzLl9xdWVyeS50YWJsZV0uX3BrXTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zdG9yZS5faW52YWxpZGF0ZUNhY2hlKF90aGlzLl9xdWVyeS50YWJsZSwgcGtzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3F1ZXJ5LnJlc3VsdCA9IFt7IG1zZzogcm93cy5sZW5ndGggKyBcIiByb3cocykgZGVsZXRlZC5cIiwgYWZmZWN0ZWRSb3dQS1M6IHBrcywgYWZmZWN0ZWRSb3dzOiByb3dzIH1dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc3luY09STShcImRlbFwiLCByb3dzLCBbXSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2RvQWZ0ZXJRdWVyeShyb3dzLCB0cnVlLCBuZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcXVlcnkucmVzdWx0ID0gW3sgbXNnOiBcIjAgcm93KHMpIGRlbGV0ZWQuXCIsIGFmZmVjdGVkUm93UEtTOiBbXSwgYWZmZWN0ZWRSb3dzOiBbXSB9XTtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0KF90aGlzLl9xdWVyeSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHsgLy8gbm8gd2hlcmUgc3RhdGVtZW50LCBwZXJmb3JtIGRyb3BcclxuICAgICAgICAgICAgdGhpcy5fZHJvcChuZXh0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWxpemUgYSBEUk9QIHF1ZXJ5LlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHsocTogSWRiUXVlcnkpID0+IHZvaWR9IG5leHRcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxTdG9yYWdlUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxTdG9yYWdlUXVlcnkucHJvdG90eXBlLl9kcm9wID0gZnVuY3Rpb24gKG5leHQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLl9pc0luc3RhbmNlVGFibGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fcXVlcnkucmVzdWx0ID0gW107XHJcbiAgICAgICAgICAgIG5leHQodGhpcy5fcXVlcnkpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3N0b3JlLl9yYW5nZVJlYWQodGhpcy5fcXVlcnkudGFibGUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmYWxzZSwgZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgX3RoaXMuX3N0b3JlLl9jYWNoZVtfdGhpcy5fcXVlcnkudGFibGVdID0ge307XHJcbiAgICAgICAgICAgIF90aGlzLl9zdG9yZS5fY2FjaGVLZXlzW190aGlzLl9xdWVyeS50YWJsZV0gPSB7fTtcclxuICAgICAgICAgICAgX3RoaXMuX3N0b3JlLl9kcm9wKF90aGlzLl9xdWVyeS50YWJsZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3F1ZXJ5LnJlc3VsdCA9IFt7IG1zZzogXCInXCIgKyBfdGhpcy5fcXVlcnkudGFibGUgKyBcIicgdGFibGUgZHJvcHBlZC5cIiwgYWZmZWN0ZWRSb3dQS1M6IHJvd3MubWFwKGZ1bmN0aW9uIChyKSB7IHJldHVybiByW190aGlzLl9zdG9yZS50YWJsZUluZm9bX3RoaXMuX3F1ZXJ5LnRhYmxlXS5fcGtdOyB9KSwgYWZmZWN0ZWRSb3dzOiByb3dzIH1dO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3N5bmNPUk0oXCJkZWxcIiwgcm93cywgW10sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZG9BZnRlclF1ZXJ5KHJvd3MsIHRydWUsIG5leHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfTmFub1NRTFN0b3JhZ2VRdWVyeTtcclxufSgpKTtcclxuZXhwb3J0cy5fTmFub1NRTFN0b3JhZ2VRdWVyeSA9IF9OYW5vU1FMU3RvcmFnZVF1ZXJ5O1xyXG4vKipcclxuICogVGFrZXMgYSBzZWxlY3Rpb24gb2Ygcm93cyBhbmQgYXBwbHlzIG1vZGlmaWVycyBsaWtlIG9yZGVyQnksIGpvaW4gYW5kIG90aGVycyB0byB0aGUgcm93cy5cclxuICogUmV0dXJucyB0aGUgYWZmZWN0ZWQgcm93cyB1cGRhdGVkIGluIHRoZSB3YXkgdGhlIHF1ZXJ5IHNwZWNpZmllZC5cclxuICpcclxuICogQGV4cG9ydFxyXG4gKiBAY2xhc3MgTXV0YXRlU2VsZWN0aW9uXHJcbiAqL1xyXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcclxudmFyIF9NdXRhdGVTZWxlY3Rpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBfTXV0YXRlU2VsZWN0aW9uKHEsIHMpIHtcclxuICAgICAgICB0aGlzLnEgPSBxO1xyXG4gICAgICAgIHRoaXMucyA9IHM7XHJcbiAgICAgICAgdGhpcy5fZ3JvdXBCeUNvbHVtbnMgPSBbXTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUGVmb3JtIGEgam9pbiBjb21tYW5kLlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHtEQlJvd1tdfSByb3dzXHJcbiAgICAgKiBAcGFyYW0geyhyb3dzOiBEQlJvd1tdKSA9PiB2b2lkfSBjb21wbGV0ZVxyXG4gICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgKiBAbWVtYmVyb2YgX011dGF0ZVNlbGVjdGlvblxyXG4gICAgICovXHJcbiAgICBfTXV0YXRlU2VsZWN0aW9uLnByb3RvdHlwZS5fam9pbiA9IGZ1bmN0aW9uIChyb3dzLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKCF0aGlzLnEuam9pbikge1xyXG4gICAgICAgICAgICBjb21wbGV0ZShyb3dzKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgam9pbkNvbmRpdGlvbnMgPSB7fTtcclxuICAgICAgICBpZiAodGhpcy5xLmpvaW4udHlwZSAhPT0gXCJjcm9zc1wiICYmIHRoaXMucS5qb2luLndoZXJlKSB7XHJcbiAgICAgICAgICAgIGpvaW5Db25kaXRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgX2xlZnQ6IHRoaXMucS5qb2luLndoZXJlWzBdLFxyXG4gICAgICAgICAgICAgICAgX2NoZWNrOiB0aGlzLnEuam9pbi53aGVyZVsxXSxcclxuICAgICAgICAgICAgICAgIF9yaWdodDogdGhpcy5xLmpvaW4ud2hlcmVbMl1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGxlZnRUYWJsZSA9IHRoaXMucS50YWJsZTtcclxuICAgICAgICB2YXIgcmlnaHRUYWJsZSA9IHRoaXMucS5qb2luLnRhYmxlO1xyXG4gICAgICAgIHRoaXMuX2RvSm9pbih0aGlzLnEuam9pbi50eXBlLCBsZWZ0VGFibGUsIHJpZ2h0VGFibGUsIGpvaW5Db25kaXRpb25zLCBmdW5jdGlvbiAoam9pbmVkUm93cykge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMucS53aGVyZSkgeyAvLyBhcHBseSB3aGVyZSBzdGF0ZW1lbnQgdG8gam9pblxyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoam9pbmVkUm93cy5maWx0ZXIoZnVuY3Rpb24gKHJvdywgaWR4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoX3RoaXMucS53aGVyZSkgPyBfd2hlcmUocm93LCBfdGhpcy5xLndoZXJlIHx8IFtdLCBpZHgsIHRydWUpIDogX3RoaXMucS53aGVyZShyb3csIGlkeCk7XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoX3RoaXMucS5yYW5nZSkgeyAvLyBhcHBseSByYW5nZSBzdGF0ZW1lbnQgdG8gam9pblxyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoam9pbmVkUm93cy5maWx0ZXIoZnVuY3Rpb24gKHJvdywgaWR4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnEucmFuZ2UgJiYgX3RoaXMucS5yYW5nZVswXSA+PSBpZHggJiYgX3RoaXMucS5yYW5nZVsxXSA8PSBpZHg7XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7IC8vIHNlbmQgdGhlIHdob2xlIHJlc3VsdFxyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoam9pbmVkUm93cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlIGEgdW5pcXVlIGdyb3VwIGJ5IGtleSBnaXZlbiBhIGdyb3VwIGJ5IG9iamVjdCBhbmQgYSByb3cuXHJcbiAgICAgKlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBjb2x1bW5zXHJcbiAgICAgKiBAcGFyYW0geyp9IHJvd1xyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqIEBtZW1iZXJvZiBfTXV0YXRlU2VsZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIF9NdXRhdGVTZWxlY3Rpb24ucHJvdG90eXBlLl9ncm91cEJ5S2V5ID0gZnVuY3Rpb24gKGNvbHVtbnMsIHJvdykge1xyXG4gICAgICAgIHJldHVybiBjb2x1bW5zLnJlZHVjZShmdW5jdGlvbiAocCwgYykge1xyXG4gICAgICAgICAgICAvLyBoYW5kbGUgXCIubGVuZ3RoXCJcclxuICAgICAgICAgICAgaWYgKGMuaW5kZXhPZihcIi5sZW5ndGhcIikgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcCArIFwiLlwiICsgU3RyaW5nKChyb3dbYy5yZXBsYWNlKFwiLmxlbmd0aFwiLCBcIlwiKV0gfHwgW10pLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcCArIFwiLlwiICsgU3RyaW5nKHJvd1tjXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBcIlwiKS5zbGljZSgxKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFBlcmZvcm0gdGhlIEdyb3VwIEJ5IG11dGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHtEQlJvd1tdfSByb3dzXHJcbiAgICAgKiBAcmV0dXJucyB7YW55W119XHJcbiAgICAgKiBAbWVtYmVyb2YgX011dGF0ZVNlbGVjdGlvblxyXG4gICAgICovXHJcbiAgICBfTXV0YXRlU2VsZWN0aW9uLnByb3RvdHlwZS5fZ3JvdXBCeSA9IGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgY29sdW1ucyA9IHRoaXMucS5ncm91cEJ5IHx8IHt9O1xyXG4gICAgICAgIHZhciBzb3J0ZWRSb3dzID0gcm93cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5fc29ydE9iaihhLCBiLCBjb2x1bW5zLCB0cnVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzb3J0ZWRSb3dzLmZvckVhY2goZnVuY3Rpb24gKHZhbCwgaWR4KSB7XHJcbiAgICAgICAgICAgIHZhciBncm91cEJ5S2V5ID0gT2JqZWN0LmtleXMoY29sdW1ucykubWFwKGZ1bmN0aW9uIChrKSB7IHJldHVybiBTdHJpbmcodmFsW2tdKSB8fCBcIlwiOyB9KS5qb2luKFwiLlwiKTtcclxuICAgICAgICAgICAgaWYgKCFfdGhpcy5fc29ydEdyb3Vwcykge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3NvcnRHcm91cHMgPSB7fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIV90aGlzLl9zb3J0R3JvdXBzW2dyb3VwQnlLZXldKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fc29ydEdyb3Vwc1tncm91cEJ5S2V5XSA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLl9zb3J0R3JvdXBzW2dyb3VwQnlLZXldLnB1c2goaWR4KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gc29ydGVkUm93cztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFBlcmZvcm0gSEFWSU5HIG11dGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHtEQlJvd1tdfSByb3dzXHJcbiAgICAgKiBAcmV0dXJucyB7YW55W119XHJcbiAgICAgKiBAbWVtYmVyb2YgX011dGF0ZVNlbGVjdGlvblxyXG4gICAgICovXHJcbiAgICBfTXV0YXRlU2VsZWN0aW9uLnByb3RvdHlwZS5faGF2aW5nID0gZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiByb3dzLmZpbHRlcihmdW5jdGlvbiAocm93LCBpZHgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoX3RoaXMucS5oYXZpbmcpID8gX3doZXJlKHJvdywgX3RoaXMucS5oYXZpbmcgfHwgW10sIGlkeCwgdHJ1ZSkgOiBfdGhpcy5xLmhhdmluZyhyb3csIGlkeCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJmb3JtIHRoZSBvcmRlckJ5IG11dGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHtEQlJvd1tdfSByb3dzXHJcbiAgICAgKiBAcmV0dXJucyB7YW55W119XHJcbiAgICAgKiBAbWVtYmVyb2YgX011dGF0ZVNlbGVjdGlvblxyXG4gICAgICovXHJcbiAgICBfTXV0YXRlU2VsZWN0aW9uLnByb3RvdHlwZS5fb3JkZXJCeSA9IGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gcm93cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5fc29ydE9iaihhLCBiLCBfdGhpcy5xLm9yZGVyQnkgfHwge30sIGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFBlcmZvcm0gdGhlIE9mZnNldCBtdXRhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7REJSb3dbXX0gcm93c1xyXG4gICAgICogQHJldHVybnMge2FueVtdfVxyXG4gICAgICogQG1lbWJlcm9mIF9NdXRhdGVTZWxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgX011dGF0ZVNlbGVjdGlvbi5wcm90b3R5cGUuX29mZnNldCA9IGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gcm93cy5maWx0ZXIoZnVuY3Rpb24gKHJvdywgaW5kZXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnEub2Zmc2V0ID8gaW5kZXggPj0gX3RoaXMucS5vZmZzZXQgOiB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUGVyZm9ybSB0aGUgbGltaXQgbXV0YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKiBAcGFyYW0ge0RCUm93W119IHJvd3NcclxuICAgICAqIEByZXR1cm5zIHthbnlbXX1cclxuICAgICAqIEBtZW1iZXJvZiBfTXV0YXRlU2VsZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIF9NdXRhdGVTZWxlY3Rpb24ucHJvdG90eXBlLl9saW1pdCA9IGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gcm93cy5maWx0ZXIoZnVuY3Rpb24gKHJvdywgaW5kZXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnEubGltaXQgPyBpbmRleCA8IF90aGlzLnEubGltaXQgOiB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQWRkIE9STSB2YWx1ZXMgdG8gcm93cyBiYXNlZCBvbiBxdWVyeS5cclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7REJSb3dbXX0gcm93c1xyXG4gICAgICogQHBhcmFtIHsocm93czogREJSb3dbXSkgPT4gdm9pZH0gY29tcGxldGVcclxuICAgICAqIEBtZW1iZXJvZiBfTXV0YXRlU2VsZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIF9NdXRhdGVTZWxlY3Rpb24ucHJvdG90eXBlLl9vcm0gPSBmdW5jdGlvbiAocm93cywgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBvcm1RdWVyaWVzID0gdGhpcy5xLm9ybSA/IHRoaXMucS5vcm0ubWFwKGZ1bmN0aW9uIChvKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6IG8sXHJcbiAgICAgICAgICAgICAgICAgICAgbGltaXQ6IDVcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG87XHJcbiAgICAgICAgfSkgOiBbXTtcclxuICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHJvd3MsIGZ1bmN0aW9uIChyb3csIGksIHJvd1Jlc3VsdCkge1xyXG4gICAgICAgICAgICByb3cgPSBPYmplY3QuaXNGcm96ZW4ocm93KSA/IHV0aWxpdGllc18xLl9hc3NpZ24ocm93KSA6IHJvdztcclxuICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChvcm1RdWVyaWVzLCBmdW5jdGlvbiAob3JtLCBrLCBvcm1SZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmICghcm93W29ybS5rZXldIHx8ICFyb3dbb3JtLmtleV0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3JtUmVzdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHJlbGF0ZURhdGEgPSBfdGhpcy5zLl9jb2x1bW5zQXJlVGFibGVzW190aGlzLnEudGFibGVdW29ybS5rZXldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlbGF0ZURhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zLl9uc3FsLnF1ZXJ5KFwic2VsZWN0XCIpLndoZXJlKFtfdGhpcy5zLnRhYmxlSW5mb1tyZWxhdGVEYXRhLl90b1RhYmxlXS5fcGssIHJlbGF0ZURhdGEuX3RoaXNUeXBlID09PSBcImFycmF5XCIgPyBcIklOXCIgOiBcIj1cIiwgcm93W29ybS5rZXldXSkubWFudWFsRXhlYyh7IHRhYmxlOiByZWxhdGVEYXRhLl90b1RhYmxlIH0pLnRoZW4oZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHEgPSBpbmRleF8xLm5TUUwoKS5xdWVyeShcInNlbGVjdFwiLCBvcm0uc2VsZWN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9ybS53aGVyZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcS53aGVyZShvcm0ud2hlcmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcm0ubGltaXQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcS5saW1pdChvcm0ubGltaXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcm0ub2Zmc2V0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHEub2Zmc2V0KG9ybS5vZmZzZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcm0ub3JkZXJCeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcS5vcmRlckJ5KG9ybS5vcmRlckJ5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JtLmdyb3VwQnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHEuZ3JvdXBCeShvcm0uZ3JvdXBCeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcS5tYW51YWxFeGVjKHsgdGFibGU6IHJvd3MgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJvd3MuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByOyB9KS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dbb3JtLmtleV0gPSByZWxhdGVEYXRhLl90aGlzVHlwZSA9PT0gXCJhcnJheVwiID8gW10gOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dbb3JtLmtleV0gPSByZWxhdGVEYXRhLl90aGlzVHlwZSA9PT0gXCJhcnJheVwiID8gcmVzdWx0IDogcmVzdWx0WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JtUmVzdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3JtUmVzdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcm93UmVzdWx0KHJvdyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pLnRoZW4oY29tcGxldGUpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUGVyZm9ybXMgdGhlIGFjdHVhbCBKT0lOIG11dGF0aW9uLCBpbmNsdWRpbmcgdGhlIE9eMiBzZWxlY3QgcXVlcnkgdG8gY2hlY2sgYWxsIHJvd3MgYWdhaW5zdCBldmVyeSBvdGhlciByb3cuXHJcbiAgICAgKlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKiBAcGFyYW0geyhcImxlZnRcIiB8IFwiaW5uZXJcIiB8IFwicmlnaHRcIiB8IFwiY3Jvc3NcIiB8IFwib3V0ZXJcIil9IHR5cGVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsZWZ0VGFibGVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByaWdodFRhYmxlXHJcbiAgICAgKiBAcGFyYW0geyhudWxsIHwgeyBfbGVmdDogc3RyaW5nLCBfY2hlY2s6IHN0cmluZywgX3JpZ2h0OiBzdHJpbmcgfSl9IGpvaW5Db25kaXRpb25zXHJcbiAgICAgKiBAcGFyYW0geyhyb3dzOiBEQlJvd1tdKSA9PiB2b2lkfSBjb21wbGV0ZVxyXG4gICAgICogQG1lbWJlcm9mIF9NdXRhdGVTZWxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgX011dGF0ZVNlbGVjdGlvbi5wcm90b3R5cGUuX2RvSm9pbiA9IGZ1bmN0aW9uICh0eXBlLCBsZWZ0VGFibGUsIHJpZ2h0VGFibGUsIGpvaW5Db25kaXRpb25zLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBMID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgdmFyIFIgPSBcInJpZ2h0XCI7XHJcbiAgICAgICAgdmFyIE8gPSBcIm91dGVyXCI7XHJcbiAgICAgICAgdmFyIEMgPSBcImNyb3NzXCI7XHJcbiAgICAgICAgdmFyIHQgPSB0aGlzO1xyXG4gICAgICAgIHZhciBmaXJzdFRhYmxlRGF0YSA9IHQucy50YWJsZUluZm9bdHlwZSA9PT0gUiA/IHJpZ2h0VGFibGUgOiBsZWZ0VGFibGVdO1xyXG4gICAgICAgIHZhciBzZWNvblRhYmxlRGF0YSA9IHQucy50YWJsZUluZm9bdHlwZSA9PT0gUiA/IGxlZnRUYWJsZSA6IHJpZ2h0VGFibGVdO1xyXG4gICAgICAgIHZhciBkb0pvaW5Sb3dzID0gZnVuY3Rpb24gKGxlZnRSb3csIHJpZ2h0Um93KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbZmlyc3RUYWJsZURhdGEsIHNlY29uVGFibGVEYXRhXS5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGN1ciwgaSkge1xyXG4gICAgICAgICAgICAgICAgY3VyLl9rZXlzLmZvckVhY2goZnVuY3Rpb24gKGspIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2W2N1ci5fbmFtZSArIFwiLlwiICsga10gPSAoKGkgPT09IDAgPyBsZWZ0Um93IDogcmlnaHRSb3cpIHx8IHt9KVtrXTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgICAgIH0sIHt9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBqb2luVGFibGUgPSBbXTtcclxuICAgICAgICB2YXIgcmlnaHRLZXkgPSBqb2luQ29uZGl0aW9ucyAmJiBqb2luQ29uZGl0aW9ucy5fcmlnaHQgPyBqb2luQ29uZGl0aW9ucy5fcmlnaHQuc3BsaXQoXCIuXCIpLnBvcCgpIHx8IFwiXCIgOiBcIlwiO1xyXG4gICAgICAgIHZhciB1c2VkU2Vjb25kVGFibGVSb3dzID0ge307XHJcbiAgICAgICAgdmFyIHNlY29uZFJvd0NhY2hlID0gW107XHJcbiAgICAgICAgLy8gT14yLCBZQVkhXHJcbiAgICAgICAgdC5zLl9yZWFkKGZpcnN0VGFibGVEYXRhLl9uYW1lLCBmdW5jdGlvbiAoZmlyc3RSb3csIGlkeCwga2VlcCkge1xyXG4gICAgICAgICAgICB2YXIgaGFzT25lUmVsYXRpb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgdC5zLl9yZWFkKHNlY29uVGFibGVEYXRhLl9uYW1lLCBmdW5jdGlvbiAoc2Vjb25kUm93LCBpZHgyLCBrZWVwMikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFqb2luQ29uZGl0aW9ucyB8fCB0eXBlID09PSBDKSB7IC8vIG5vIGNvbmRpdGlvbmFsIHRvIGNoZWNrIE9SIGNyb3NzIGpvaW4sIGFsd2F5cyBhZGRcclxuICAgICAgICAgICAgICAgICAgICBqb2luVGFibGUucHVzaChkb0pvaW5Sb3dzKGZpcnN0Um93LCBzZWNvbmRSb3cpKTtcclxuICAgICAgICAgICAgICAgICAgICBoYXNPbmVSZWxhdGlvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHsgLy8gY2hlY2sgY29uZGl0aW9uYWwgc3RhdGVtZW50IHRvIHBvc3NpYmx5IGpvaW5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgd2lsbEpvaW5Sb3dzID0gX3doZXJlKChfYSA9IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYVtmaXJzdFRhYmxlRGF0YS5fbmFtZV0gPSBmaXJzdFJvdyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Fbc2Vjb25UYWJsZURhdGEuX25hbWVdID0gc2Vjb25kUm93LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYSksIFtqb2luQ29uZGl0aW9ucy5fbGVmdCwgam9pbkNvbmRpdGlvbnMuX2NoZWNrLCB0eXBlID09PSBSID8gZmlyc3RSb3dbcmlnaHRLZXldIDogc2Vjb25kUm93W3JpZ2h0S2V5XV0sIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3aWxsSm9pblJvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IE8pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VkU2Vjb25kVGFibGVSb3dzW2lkeDJdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgam9pblRhYmxlLnB1c2goZG9Kb2luUm93cyhmaXJzdFJvdywgc2Vjb25kUm93KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc09uZVJlbGF0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBPKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kUm93Q2FjaGVbaWR4Ml0gPSBzZWNvbmRSb3c7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAga2VlcDIoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBsZWZ0LCByaWdodCBvciBvdXRlciBqb2luIHdpbGwgY2F1c2Ugcm93cyB3aXRob3V0IGEgcmVsYXRpb24gdG8gYmUgYWRkZWQgYW55d2F5IHdpdGggbnVsbCByZWxhdGlvblxyXG4gICAgICAgICAgICAgICAgaWYgKCFoYXNPbmVSZWxhdGlvbiAmJiBbTCwgUiwgT10uaW5kZXhPZih0eXBlKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgam9pblRhYmxlLnB1c2goZG9Kb2luUm93cyhmaXJzdFJvdywgbnVsbCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAga2VlcChmYWxzZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gZnVsbCBvdXRlciBqb2luLCBhZGQgdGhlIHNlY29uZGFyeSByb3dzIHRoYXQgaGF2ZW4ndCBiZWVuIGFkZGVkIHlldFxyXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gTykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFkZFJvd3MgPSBzZWNvbmRSb3dDYWNoZS5maWx0ZXIoZnVuY3Rpb24gKHZhbCwgaSkgeyByZXR1cm4gIXVzZWRTZWNvbmRUYWJsZVJvd3NbaV07IH0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGkgPCBhZGRSb3dzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGpvaW5UYWJsZS5wdXNoKGRvSm9pblJvd3MobnVsbCwgYWRkUm93c1tpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKGpvaW5UYWJsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShqb2luVGFibGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIHNvcnQgZGlyZWN0aW9uIGZvciB0d28gb2JqZWN0cyBnaXZlbiB0aGUgb2JqZWN0cywgY29sdW1ucyBhbmQgcmVzb2x2ZSBwYXRocy5cclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7Kn0gb2JqQVxyXG4gICAgICogQHBhcmFtIHsqfSBvYmpCXHJcbiAgICAgKiBAcGFyYW0ge3sgW2tleTogc3RyaW5nXTogc3RyaW5nIH19IGNvbHVtbnNcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVzb2x2ZVBhdGhzXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gICAgICogQG1lbWJlcm9mIF9NdXRhdGVTZWxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgX011dGF0ZVNlbGVjdGlvbi5wcm90b3R5cGUuX3NvcnRPYmogPSBmdW5jdGlvbiAob2JqQSwgb2JqQiwgY29sdW1ucywgcmVzb2x2ZVBhdGhzKSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGNvbHVtbnMpLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VyKSB7XHJcbiAgICAgICAgICAgIHZhciBBID0gcmVzb2x2ZVBhdGhzID8gdXRpbGl0aWVzXzEub2JqUXVlcnkoY3VyLCBvYmpBKSA6IG9iakFbY3VyXTtcclxuICAgICAgICAgICAgdmFyIEIgPSByZXNvbHZlUGF0aHMgPyB1dGlsaXRpZXNfMS5vYmpRdWVyeShjdXIsIG9iakIpIDogb2JqQltjdXJdO1xyXG4gICAgICAgICAgICBpZiAoIXByZXYpIHtcclxuICAgICAgICAgICAgICAgIGlmIChBID09PSBCKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChBID4gQiA/IDEgOiAtMSkgKiAoY29sdW1uc1tjdXJdID09PSBcImRlc2NcIiA/IC0xIDogMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIDApO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQXBwbHkgQVMsIGZ1bmN0aW9ucyBhbmQgR3JvdXAgQnlcclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7REJSb3dbXX0gcm93c1xyXG4gICAgICogQHBhcmFtIHsocm93czogREJSb3dbXSkgPT4gdm9pZH0gY29tcGxldGVcclxuICAgICAqIEBtZW1iZXJvZiBfTXV0YXRlU2VsZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIF9NdXRhdGVTZWxlY3Rpb24ucHJvdG90eXBlLl9tdXRhdGVSb3dzID0gZnVuY3Rpb24gKHJvd3MsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgY29sdW1uU2VsZWN0aW9uID0gdGhpcy5xLmFjdGlvbkFyZ3M7XHJcbiAgICAgICAgdmFyIGZ1bmN0aW9uUmVzdWx0cyA9IHt9O1xyXG4gICAgICAgIHZhciBmbkdyb3VwQnlSZXN1bHRzID0ge307XHJcbiAgICAgICAgaWYgKGNvbHVtblNlbGVjdGlvbiAmJiBjb2x1bW5TZWxlY3Rpb24ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIC8vIHBvc3NpYmx5IGhhcyBmdW5jdGlvbnMsIEFTIHN0YXRlbWVudHNcclxuICAgICAgICAgICAgdmFyIGhhc0FnZ3JlZ2F0ZUZ1bl8xID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBjb2x1bW5EYXRhXzEgPSB7fTtcclxuICAgICAgICAgICAgY29sdW1uU2VsZWN0aW9uLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5pbmRleE9mKFwiKFwiKSA9PT0gLTEpIHsgLy8gbm8gZnVuY3Rpb25zXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGZuTmFtZSA9IChjb2x1bW4ubWF0Y2goL14uKlxcKC9nKSB8fCBbXCJcIl0pWzBdLnJlcGxhY2UoL1xcKHxcXCkvZywgXCJcIikudG9VcHBlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgIHZhciBmbiA9IGluZGV4XzEuTmFub1NRTEluc3RhbmNlLmZ1bmN0aW9uc1tmbk5hbWVdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGNvbHVtbi5zcGxpdChcIiBBUyBcIikubGVuZ3RoID09PSAxID8gZm5OYW1lIDogKGNvbHVtbi5zcGxpdChcIiBBUyBcIikucG9wKCkgfHwgXCJcIikudHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFmbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIidcIiArIGZuTmFtZSArIFwiJyBpcyBub3QgYSB2YWxpZCBmdW5jdGlvbiFcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZm4udHlwZSA9PT0gXCJBXCIpIHsgLy8gYWdyZWdhdGUgZnVuY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICBoYXNBZ2dyZWdhdGVGdW5fMSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb2x1bW5EYXRhXzFbY29sdW1uXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBmbjogZm4sXHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiBrZXlcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKGNvbHVtblNlbGVjdGlvbiwgZnVuY3Rpb24gKGNvbHVtbiwgaiwgY29sdW1uRG9uZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5pbmRleE9mKFwiKFwiKSA+IC0xKSB7IC8vIGZ1bmN0aW9uIGV4aXN0c1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmbkFyZ3NfMSA9IChjb2x1bW4ubWF0Y2goL1xcKC4qXFwpL2cpIHx8IFtcIlwiXSlbMF0ucmVwbGFjZSgvXFwofFxcKS9nLCBcIlwiKS5zcGxpdChcIixcIikubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiB2LnRyaW0oKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl9zb3J0R3JvdXBzICYmIGhhc0FnZ3JlZ2F0ZUZ1bl8xKSB7IC8vIGdyb3VwIGJ5IGV4aXN0cyB3aXRoIGFnZ3JlZ2F0ZSBmdW5jdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKE9iamVjdC5rZXlzKF90aGlzLl9zb3J0R3JvdXBzKSwgZnVuY3Rpb24gKGssIGwsIGZuRG9uZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmbkdyb3VwQnlSZXN1bHRzW2tdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm5Hcm91cEJ5UmVzdWx0c1trXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gY29sdW1uRGF0YV8xW2NvbHVtbl0uZm4pLmNhbGwuYXBwbHkoX2EsIFtyb3dzLmZpbHRlcihmdW5jdGlvbiAociwgaSkgeyByZXR1cm4gX3RoaXMuX3NvcnRHcm91cHNba10uaW5kZXhPZihpKSA+IC0xOyB9KSwgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbkdyb3VwQnlSZXN1bHRzW2tdW2NvbHVtbkRhdGFfMVtjb2x1bW5dLmtleV0gPSByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZuRG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLmNvbmNhdChmbkFyZ3NfMSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGNvbHVtbkRvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gbm8gZ3JvdXAgYnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gY29sdW1uRGF0YV8xW2NvbHVtbl0uZm4pLmNhbGwuYXBwbHkoX2EsIFtyb3dzLCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25SZXN1bHRzW2NvbHVtbkRhdGFfMVtjb2x1bW5dLmtleV0gPSByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uRG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0uY29uY2F0KGZuQXJnc18xKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uRG9uZSgpOyAvLyBubyBmdW5jdGlvblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vIHRpbWUgdG8gcmVidWlsZCByb3cgcmVzdWx0c1xyXG4gICAgICAgICAgICAgICAgdmFyIGRvTXVhdGVSb3dzID0gZnVuY3Rpb24gKHJvdywgaWR4LCBmblJlc3VsdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3Um93ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHVuc2VsZWN0ZWQgY29sdW1ucywgYXBwbHkgQVMgYW5kIGludGVncmF0ZSBmdW5jdGlvbiByZXN1bHRzXHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uU2VsZWN0aW9uLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGFzRnVuYyA9IGNvbHVtbi5pbmRleE9mKFwiKFwiKSA+IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IGhhc0Z1bmMgPyBjb2x1bW5EYXRhXzFbY29sdW1uXS5mbi50eXBlIDogXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5pbmRleE9mKFwiIEFTIFwiKSA+IC0xKSB7IC8vIGFsaWFzIGNvbHVtbiBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWxpYXMgPSBjb2x1bW4uc3BsaXQoXCIgQVMgXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGhhc0Z1bmMgPyBjb2x1bW5EYXRhXzFbY29sdW1uXS5rZXkgOiBhbGlhc1swXS50cmltKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdSb3dbYWxpYXNbMV1dID0gaGFzRnVuYyA/ICh0eXBlID09PSBcIkFcIiA/IGZuUmVzdWx0c1trZXldIDogZm5SZXN1bHRzW2tleV1baWR4XSkgOiB1dGlsaXRpZXNfMS5vYmpRdWVyeShrZXksIHJvdywgX3RoaXMucS5qb2luICE9PSB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGhhc0Z1bmMgPyBjb2x1bW5EYXRhXzFbY29sdW1uXS5rZXkgOiBjb2x1bW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdSb3dbY29sdW1uXSA9IGhhc0Z1bmMgPyAodHlwZSA9PT0gXCJBXCIgPyBmblJlc3VsdHNba2V5XSA6IGZuUmVzdWx0c1trZXldW2lkeF0pIDogdXRpbGl0aWVzXzEub2JqUXVlcnkoa2V5LCByb3csIF90aGlzLnEuam9pbiAhPT0gdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdSb3c7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyb3dzLmxlbmd0aCAmJiBoYXNBZ2dyZWdhdGVGdW5fMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvbmVSb3dfMSA9IFt7fV07XHJcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoY29sdW1uRGF0YV8xKS5mb3JFYWNoKGZ1bmN0aW9uIChmbk5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jdGlvblJlc3VsdHNbY29sdW1uRGF0YV8xW2ZuTmFtZV0ua2V5XSAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lUm93XzFbMF1bZm5OYW1lXSA9IGZ1bmN0aW9uUmVzdWx0c1tjb2x1bW5EYXRhXzFbZm5OYW1lXS5rZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUob25lUm93XzEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fc29ydEdyb3VwcyAmJiBoYXNBZ2dyZWdhdGVGdW5fMSkgeyAvLyBncm91cCBieSB3aXRoIGFnZ3JlZ2F0ZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdSb3dzXzEgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhfdGhpcy5fc29ydEdyb3VwcykuZm9yRWFjaChmdW5jdGlvbiAoaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1JvdyA9IHJvd3MuZmlsdGVyKGZ1bmN0aW9uIChyLCBpKSB7IHJldHVybiBfdGhpcy5fc29ydEdyb3Vwc1trXS5pbmRleE9mKGkpID4gLTE7IH0pLmZpbHRlcihmdW5jdGlvbiAodiwgaSkgeyByZXR1cm4gaSA8IDE7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1JvdyAmJiB0aGlzUm93Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Um93c18xLnB1c2goZG9NdWF0ZVJvd3ModGhpc1Jvd1swXSwgMCwgZm5Hcm91cEJ5UmVzdWx0c1trXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUobmV3Um93c18xKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhhc0FnZ3JlZ2F0ZUZ1bl8xKSB7IC8vIGp1c3QgYWdncmVnYXRlIChyZXR1cm5zIDEgcm93KVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKHJvd3MuZmlsdGVyKGZ1bmN0aW9uICh2LCBpKSB7IHJldHVybiBpIDwgMTsgfSkubWFwKGZ1bmN0aW9uICh2LCBpKSB7IHJldHVybiBkb011YXRlUm93cyh2LCBpLCBmdW5jdGlvblJlc3VsdHMpOyB9KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHsgLy8gbm8gYWdncmVnYXRlIGFuZCBubyBncm91cCBieSwgZWFzeSBwZWFzeVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKHJvd3MubWFwKGZ1bmN0aW9uICh2LCBpKSB7IHJldHVybiBkb011YXRlUm93cyh2LCBpLCBmdW5jdGlvblJlc3VsdHMpOyB9KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8ganVzdCBwYXNzIHRocm91Z2hcclxuICAgICAgICAgICAgY29tcGxldGUocm93cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVHJpZ2dlcnMgdGhlIG11dGF0aW9ucyBpbiB0aGUgb3JkZXIgb2Ygb3BlcmF0aW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0RCUm93W119IGlucHV0Um93c1xyXG4gICAgICogQHBhcmFtIHsocm93czogREJSb3dbXSkgPT4gdm9pZH0gY2FsbGJhY2tcclxuICAgICAqIEBtZW1iZXJvZiBfTXV0YXRlU2VsZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIF9NdXRhdGVTZWxlY3Rpb24ucHJvdG90eXBlLl9leGVjdXRlUXVlcnlBcmd1bWVudHMgPSBmdW5jdGlvbiAoaW5wdXRSb3dzLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGFmdGVyTXV0YXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMucS5oYXZpbmcpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0Um93cyA9IF90aGlzLl9oYXZpbmcoaW5wdXRSb3dzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoX3RoaXMucS5vcmRlckJ5KSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dFJvd3MgPSBfdGhpcy5fb3JkZXJCeShpbnB1dFJvd3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5xLm9mZnNldCkge1xyXG4gICAgICAgICAgICAgICAgaW5wdXRSb3dzID0gX3RoaXMuX29mZnNldChpbnB1dFJvd3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5xLmxpbWl0KSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dFJvd3MgPSBfdGhpcy5fbGltaXQoaW5wdXRSb3dzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYWxsYmFjayhpbnB1dFJvd3MpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGFmdGVyT1JNID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMucS5hY3Rpb25BcmdzICYmIF90aGlzLnEuYWN0aW9uQXJncy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9tdXRhdGVSb3dzKGlucHV0Um93cywgZnVuY3Rpb24gKG5ld1Jvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dFJvd3MgPSBuZXdSb3dzO1xyXG4gICAgICAgICAgICAgICAgICAgIGFmdGVyTXV0YXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFmdGVyTXV0YXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBhZnRlckpvaW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5xLmdyb3VwQnkpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0Um93cyA9IF90aGlzLl9ncm91cEJ5KGlucHV0Um93cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKF90aGlzLnEub3JtKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fb3JtKGlucHV0Um93cywgZnVuY3Rpb24gKG5ld1Jvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dFJvd3MgPSBuZXdSb3dzO1xyXG4gICAgICAgICAgICAgICAgICAgIGFmdGVyT1JNKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFmdGVyT1JNKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICh0aGlzLnEuam9pbikge1xyXG4gICAgICAgICAgICB0aGlzLl9qb2luKGlucHV0Um93cywgZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0Um93cyA9IHJvd3M7XHJcbiAgICAgICAgICAgICAgICBhZnRlckpvaW4oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBhZnRlckpvaW4oKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9NdXRhdGVTZWxlY3Rpb247XHJcbn0oKSk7XHJcbmV4cG9ydHMuX011dGF0ZVNlbGVjdGlvbiA9IF9NdXRhdGVTZWxlY3Rpb247XHJcbi8qKlxyXG4gKiBTZWxlY3RzIHRoZSBuZWVkZWQgcm93cyBmcm9tIHRoZSBzdG9yYWdlIHN5c3RlbS5cclxuICogVXNlcyB0aGUgZmFzdGVzIHBvc3NpYmxlIG1ldGhvZCB0byBnZXQgdGhlIHJvd3MuXHJcbiAqXHJcbiAqIEBleHBvcnRcclxuICogQGNsYXNzIF9Sb3dTZWxlY3Rpb25cclxuICovXHJcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxyXG52YXIgX1Jvd1NlbGVjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIF9Sb3dTZWxlY3Rpb24ocSwgcywgY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMucSA9IHE7XHJcbiAgICAgICAgdGhpcy5zID0gcztcclxuICAgICAgICBpZiAodGhpcy5xLmpvaW4gJiYgdGhpcy5xLm9ybSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZG8gYSBKT0lOIGFuZCBPUk0gY29tbWFuZCBhdCB0aGUgc2FtZSB0aW1lIVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKFt0aGlzLnEud2hlcmUsIHRoaXMucS5yYW5nZSwgdGhpcy5xLnRyaWVdLmZpbHRlcihmdW5jdGlvbiAoaSkgeyByZXR1cm4gaTsgfSkubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4gb25seSBoYXZlIE9ORSBvZiBUcmllLCBSYW5nZSBvciBXaGVyZSFcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGpvaW4gY29tbWFuZCByZXF1aXJlcyBuXjIgc2NhbiB0aGF0IGdldHMgdGFrZW4gY2FyZSBvZiBpbiBqb2luIGxvZ2ljLlxyXG4gICAgICAgIGlmICh0aGlzLnEuam9pbikge1xyXG4gICAgICAgICAgICBjYWxsYmFjayhbXSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdHJpZSBzZWFyY2gsIG5pY2UgYW5kIGZhc3QuXHJcbiAgICAgICAgaWYgKHRoaXMucS50cmllICYmIHRoaXMucS50cmllLmNvbHVtbiAmJiB0aGlzLnEudHJpZS5zZWFyY2gpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2VsZWN0QnlUcmllKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyByYW5nZSBzZWxlY3QsIHZlcnkgZmFzdFxyXG4gICAgICAgIGlmICh0aGlzLnEucmFuZ2UgJiYgdGhpcy5xLnJhbmdlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RCeVJhbmdlKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBubyB3aGVyZSBzdGF0ZW1lbnQsIHJlYWQgd2hvbGUgZGIgOihcclxuICAgICAgICAvLyBPUlxyXG4gICAgICAgIC8vIHdoZXJlIHN0YXRlbWVudCBpcyBmdW5jdGlvbiwgc3RpbGwgZ290dGEgcmVhZCB0aGUgd2hvbGUgZGIuXHJcbiAgICAgICAgaWYgKCghdGhpcy5xLndoZXJlIHx8ICF0aGlzLnEud2hlcmUubGVuZ3RoKSB8fCAhQXJyYXkuaXNBcnJheSh0aGlzLnEud2hlcmUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Z1bGxUYWJsZVNjYW4oY2FsbGJhY2spO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHdoZXJlIHN0YXRlbWVudCBwb3NzaWJseSBjb250YWlucyBvbmx5IHByaW1hcnkga2V5IGFuZCBzZWNvbmRhcnkga2V5IHF1ZXJpZXMsIGRvIGZhc3RlciBxdWVyeSBpZiBwb3NzaWJsZS5cclxuICAgICAgICB2YXIgZG9GYXN0UmVhZCA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5xLndoZXJlWzBdID09PSBcInN0cmluZ1wiKSB7IC8vIFNpbmdsZSBXSEVSRVxyXG4gICAgICAgICAgICBkb0Zhc3RSZWFkID0gdGhpcy5faXNPcHRpbWl6ZWRXaGVyZSh0aGlzLnEud2hlcmUpID09PSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHsgLy8gY29tYmluZWQgd2hlcmUgc3RhdGVtZW50c1xyXG4gICAgICAgICAgICBkb0Zhc3RSZWFkID0gKHRoaXMucS53aGVyZSB8fCBbXSkucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXIsIGkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpICUgMiA9PT0gMSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2ICsgX3RoaXMuX2lzT3B0aW1pemVkV2hlcmUoY3VyKTtcclxuICAgICAgICAgICAgfSwgMCkgPT09IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkb0Zhc3RSZWFkKSB7IC8vIGNhbiBnbyBzdHJhaWdodCB0byBwcmltYXJ5IG9yIHNlY29uZGFyeSBrZXlzLCB3ZWUhXHJcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdEJ5S2V5cyh0aGlzLnEud2hlcmUsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZiBjb21wb3VuZCB3aGVyZSBzdGF0ZW1lbnQgaW5jbHVkZXMgcHJpbWFyeSBrZXkvc2Vjb25kYXJ5IGluZGV4IHF1ZXJpZXMgZm9sbG93ZWQgYnkgQU5EIHdpdGggb3RoZXIgY29uZGl0aW9ucy5cclxuICAgICAgICAvLyBncmFicyB0aGUgc2VjdGlvbiBvZiBkYXRhIHJlbGF0ZWQgdG8gdGhlIG9wdGltaXplZCByZWFkLCB0aGVuIGZ1bGwgdGFibGUgc2NhbnMgdGhlIHJlc3VsdC5cclxuICAgICAgICB2YXIgd2hlcmVTbGljZSA9IHRoaXMuX2lzU3ViT3B0aW1pemVkV2hlcmUodGhpcy5xLndoZXJlKTtcclxuICAgICAgICBpZiAod2hlcmVTbGljZSA+IDApIHtcclxuICAgICAgICAgICAgdmFyIGZhc3RXaGVyZSA9IHRoaXMucS53aGVyZS5zbGljZSgwLCB3aGVyZVNsaWNlKTtcclxuICAgICAgICAgICAgdmFyIHNsb3dXaGVyZV8xID0gdGhpcy5xLndoZXJlLnNsaWNlKHdoZXJlU2xpY2UgKyAxKTtcclxuICAgICAgICAgICAgdGhpcy5fc2VsZWN0QnlLZXlzKGZhc3RXaGVyZSwgZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJvd3MuZmlsdGVyKGZ1bmN0aW9uIChyLCBpKSB7IHJldHVybiBfd2hlcmUociwgc2xvd1doZXJlXzEsIGkpOyB9KSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEZ1bGwgdGFibGUgc2NhbiA6KFxyXG4gICAgICAgIHRoaXMuX2Z1bGxUYWJsZVNjYW4oY2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEb2VzIHN1cGVyIGZhc3QgcHJpbWFyeSBrZXkgb3Igc2Vjb25kYXJ5IGluZGV4IHNlbGVjdC5cclxuICAgICAqIEhhbmRsZXMgY29tcG91bmQgV0hFUkUgc3RhdGVtZW50cywgY29tYmluaW5nIHRoZWlyIHJlc3VsdHMuXHJcbiAgICAgKiBXb3JrcyBhcyBsb25nIGFzIGV2ZXJ5IFdIRVJFIHN0YXRlbWVudCBpcyBzZWxlY3RpbmcgYWdhaW5zdCBhIHByaW1hcnkga2V5IG9yIHNlY29uZGFyeSBpbmRleC5cclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7KHJvd3M6IERCUm93W10pID0+IHZvaWR9IGNhbGxiYWNrXHJcbiAgICAgKiBAbWVtYmVyb2YgX1Jvd1NlbGVjdGlvblxyXG4gICAgICovXHJcbiAgICBfUm93U2VsZWN0aW9uLnByb3RvdHlwZS5fc2VsZWN0QnlLZXlzID0gZnVuY3Rpb24gKHdoZXJlLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHdoZXJlICYmIHR5cGVvZiB3aGVyZVswXSA9PT0gXCJzdHJpbmdcIikgeyAvLyBzaW5nbGUgd2hlcmVcclxuICAgICAgICAgICAgdGhpcy5fc2VsZWN0Um93c0J5SW5kZXgod2hlcmUsIGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAod2hlcmUpIHsgLy8gY29tcG91bmQgd2hlcmVcclxuICAgICAgICAgICAgdmFyIHJlc3VsdFJvd3NfMSA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgbGFzdENvbW1hbmRfMSA9IFwiXCI7XHJcbiAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RDSEFJTih3aGVyZSwgZnVuY3Rpb24gKHdBcmcsIGksIG5leHRXQXJnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHdBcmcgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0Q29tbWFuZF8xID0gd0FyZztcclxuICAgICAgICAgICAgICAgICAgICBuZXh0V0FyZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF90aGlzLl9zZWxlY3RSb3dzQnlJbmRleCh3QXJnLCBmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXN0Q29tbWFuZF8xID09PSBcIkFORFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHhfMSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaV8xID0gcm93cy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpXzEtLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4XzFbcm93c1tpXzFdW190aGlzLnMudGFibGVJbmZvW190aGlzLnEudGFibGVdLl9wa11dID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRSb3dzXzEgPSByZXN1bHRSb3dzXzEuZmlsdGVyKGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpZHhfMVtyb3dbX3RoaXMucy50YWJsZUluZm9bX3RoaXMucS50YWJsZV0uX3BrXV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Um93c18xID0gcmVzdWx0Um93c18xLmNvbmNhdChyb3dzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dFdBcmcoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJlc3VsdFJvd3NfMSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIE11Y2ggZmFzdGVyIFNFTEVDVCBieSBwcmltYXJ5IGtleSBvciBzZWNvbmRhcnkgaW5kZXguXHJcbiAgICAgKiBBY2NlcHRzIGEgc2luZ2xlIFdIRVJFIHN0YXRlbWVudCwgbm8gY29tcG91bmQgc3RhdGVtZW50cyBhbGxvd2VkLlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHthbnlbXX0gd2hlcmVcclxuICAgICAqIEBwYXJhbSB7KHJvd3M6IERCUm93W10pID0+IHZvaWR9IGNhbGxiYWNrXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICogQG1lbWJlcm9mIF9Sb3dTZWxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgX1Jvd1NlbGVjdGlvbi5wcm90b3R5cGUuX3NlbGVjdFJvd3NCeUluZGV4ID0gZnVuY3Rpb24gKHdoZXJlLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHdoZXJlWzFdID09PSBcIkJFVFdFRU5cIikge1xyXG4gICAgICAgICAgICB2YXIgc2Vjb25kYXJ5SW5kZXhLZXkgPSB3aGVyZVswXSA9PT0gdGhpcy5zLnRhYmxlSW5mb1t0aGlzLnEudGFibGVdLl9wayA/IFwiXCIgOiB3aGVyZVswXTtcclxuICAgICAgICAgICAgaWYgKHNlY29uZGFyeUluZGV4S2V5KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaWR4VGFibGUgPSBcIl9cIiArIHRoaXMucS50YWJsZSArIFwiX2lkeF9cIiArIHNlY29uZGFyeUluZGV4S2V5O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zLl9yYW5nZVJlYWQoaWR4VGFibGUsIHdoZXJlWzJdWzBdLCB3aGVyZVsyXVsxXSwgdHJ1ZSwgZnVuY3Rpb24gKHJvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpID0gcm93cy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlzID0ga2V5cy5jb25jYXQocm93c1tpXS5yb3dzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucy5fcmVhZChfdGhpcy5xLnRhYmxlLCBrZXlzLCBjYWxsYmFjayk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucy5fcmFuZ2VSZWFkKHRoaXMucS50YWJsZSwgd2hlcmVbMl1bMF0sIHdoZXJlWzJdWzFdLCB0cnVlLCBmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJvd3MpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIga2V5cyA9IFtdO1xyXG4gICAgICAgIHN3aXRjaCAod2hlcmVbMV0pIHtcclxuICAgICAgICAgICAgY2FzZSBcIklOXCI6XHJcbiAgICAgICAgICAgICAgICBrZXlzID0gd2hlcmVbMl07XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIj1cIjpcclxuICAgICAgICAgICAgICAgIGtleXMgPSBbd2hlcmVbMl1dO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh3aGVyZVswXSA9PT0gdGhpcy5zLnRhYmxlSW5mb1t0aGlzLnEudGFibGVdLl9waykgeyAvLyBwcmltYXJ5IGtleSBzZWxlY3RcclxuICAgICAgICAgICAgdGhpcy5zLl9yZWFkKHRoaXMucS50YWJsZSwga2V5cywgY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHsgLy8gc2Vjb25kYXJ5IGluZGV4IHNlbGVjdFxyXG4gICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKGtleXMsIGZ1bmN0aW9uIChpZHgsIGksIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zLl9zZWNvbmRhcnlJbmRleFJlYWQoX3RoaXMucS50YWJsZSwgd2hlcmVbMF0sIGlkeCwgY29tcGxldGUpO1xyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhbXS5jb25jYXQuYXBwbHkoW10sIHJvd3MpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2VsZWN0IHJvd3Mgd2l0aGluIGEgbnVtZXJpY2FsIHJhbmdlIHVzaW5nIGxpbWl0IGFuZCBvZmZzZXQgdmFsdWVzLlxyXG4gICAgICogTmVnYXRpdmUgbGltaXQgdmFsdWVzIHdpbGwgc3RhcnQgdGhlIHJhbmdlIGZyb20gdGhlIGJvdHRvbSBvZiB0aGUgdGFibGUuXHJcbiAgICAgKlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKiBAcGFyYW0geyhyb3dzOiBEQlJvd1tdKSA9PiB2b2lkfSBjYWxsYmFja1xyXG4gICAgICogQG1lbWJlcm9mIF9Sb3dTZWxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgLy8gW2xpbWl0LCBvZmZzZXRdXHJcbiAgICBfUm93U2VsZWN0aW9uLnByb3RvdHlwZS5fc2VsZWN0QnlSYW5nZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMucS5yYW5nZSkge1xyXG4gICAgICAgICAgICB2YXIgcl8xID0gdGhpcy5xLnJhbmdlO1xyXG4gICAgICAgICAgICBpZiAocl8xWzBdID4gMCkgeyAvLyBwb3NpdGl2ZSBsaW1pdCB2YWx1ZSwgd2UgY2FuIHNlbmQgdGhpcyBzdHJhaWdodCB0byB0aGUgYWRhcHRlclxyXG4gICAgICAgICAgICAgICAgdGhpcy5zLl9yYW5nZVJlYWQodGhpcy5xLnRhYmxlLCByXzFbMV0sIHJfMVsxXSArIHJfMVswXSwgZmFsc2UsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHsgLy8gdXNpbmcgbmVnYXRpdmUgbGltaXQgdmFsdWUgdG8gZ2V0IHJvd3MgYXQgdGhlIGVuZCBvZiB0aGUgZGF0YWJhc2UuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnMuYWRhcHRlcnNbMF0uYWRhcHRlci5nZXRJbmRleCh0aGlzLnEudGFibGUsIHRydWUsIGZ1bmN0aW9uIChjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmcm9tSWR4ID0gcl8xWzBdID4gMCA/IHJfMVsxXSA6IGNvdW50ICsgcl8xWzBdIC0gcl8xWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b0lkeCA9IGZyb21JZHg7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ZXIgPSBNYXRoLmFicyhyXzFbMF0pIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY291bnRlci0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvSWR4Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnMuX3JhbmdlUmVhZChfdGhpcy5xLnRhYmxlLCBmcm9tSWR4LCB0b0lkeCwgZmFsc2UsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjYWxsYmFjayhbXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2VsZWN0IHJvd3MgYmFzZWQgb24gYSBUcmllIFF1ZXJ5LlxyXG4gICAgICpcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICogQHBhcmFtIHsocm93czogREJSb3dbXSkgPT4gdm9pZH0gY2FsbGJhY2tcclxuICAgICAqIEBtZW1iZXJvZiBfUm93U2VsZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIF9Sb3dTZWxlY3Rpb24ucHJvdG90eXBlLl9zZWxlY3RCeVRyaWUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAodGhpcy5xLnRyaWUpIHtcclxuICAgICAgICAgICAgdGhpcy5zLl90cmllUmVhZCh0aGlzLnEudGFibGUsIHRoaXMucS50cmllLmNvbHVtbiwgdGhpcy5xLnRyaWUuc2VhcmNoLCBjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjYWxsYmFjayhbXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRG8gYSBmdWxsIHRhYmxlIHNjYW4sIGNoZWNraW5nIGV2ZXJ5IHJvdyBhZ2FpbnN0IHRoZSBXSEVSRSBzdGF0ZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKiBAcGFyYW0geyhyb3dzOiBEQlJvd1tdKSA9PiB2b2lkfSBjYWxsYmFja1xyXG4gICAgICogQG1lbWJlcm9mIF9Sb3dTZWxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgX1Jvd1NlbGVjdGlvbi5wcm90b3R5cGUuX2Z1bGxUYWJsZVNjYW4gPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBoYXNXaGVyZSA9IHRoaXMucS53aGVyZSAhPT0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHZhciBhcnJXaGVyZSA9IGhhc1doZXJlICYmIEFycmF5LmlzQXJyYXkodGhpcy5xLndoZXJlKTtcclxuICAgICAgICB0aGlzLnMuX3JlYWQodGhpcy5xLnRhYmxlLCBmdW5jdGlvbiAocm93LCBpLCBrZWVwKSB7XHJcbiAgICAgICAgICAgIGlmICghaGFzV2hlcmUpIHsgLy8gbm8gd2hlcmUgc3RhdGVtZW50XHJcbiAgICAgICAgICAgICAgICBrZWVwKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhcnJXaGVyZSkgeyAvLyB3aGVyZSBpcyBhcnJheVxyXG4gICAgICAgICAgICAgICAga2VlcChfd2hlcmUocm93LCBfdGhpcy5xLndoZXJlLCBpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7IC8vIHdoZXJlIGlzIGZ1bmN0aW9uXHJcbiAgICAgICAgICAgICAgICBrZWVwKF90aGlzLnEud2hlcmUocm93LCBpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBjYWxsYmFjayk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHaXZlbiBhIGNvbXBvdW5kIHdoZXJlIHN0YXRlbWVudCBsaWtlIFtbdmFsdWUsID0sIGtleV0sIEFORCwgW3NvbWV0aGluZywgPSwgc29tZXRoaW5nXV1cclxuICAgICAqIENoZWNrIGlmIGZpcnN0IHdoZXJlIGNvbmRpdGlvbnMgYXJlIHByaW1hcnkga2V5LyBzZWNvbmRhcnkgaW5kZXggZm9sbG93ZWQgYnkgdW5vcHRpbWl6ZWQvdW5pbmRleGVkIGNvbmRpdGlvbnNcclxuICAgICAqXHJcbiAgICAgKiBJbiB0aGlzIGNhc2Ugd2UgY2FuIGdyYWIgdGhlIHByaW1hcnkga2V5L3NlY29uZGFyeSBpbmRleCBxdWVyeSBmcm9tIHRoZSBkYXRhYmFzZSBhbmQgZG8gYSBmYXN0ZXIgcXVlcnkgb24gdGhlIHNtYWxsZXIgcmVzdWx0IHNldC5cclxuICAgICAqXHJcbiAgICAgKiBSZXR1cm5zIDAgaWYgdGhpcyBpc24ndCBhIHN1Ym9wdGltaXplZCB3aGVyZSBjb25kaXRpb24uXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgd2hlcmUgYXJyYXkgd2hlcmUgdGhlIEFORCBzcGxpdHMgYmV0d2VlbiBvcHRpbWl6ZWQgYW5kIHVub3B0aW1pemVkIGNvbmRpdGlvbnMgb3RoZXJ3aXNlLlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcGFyYW0ge2FueVtdfSB3QXJnc1xyXG4gICAgICogQHJldHVybnMge251bWJlcn1cclxuICAgICAqIEBtZW1iZXJvZiBfUm93U2VsZWN0aW9uXHJcbiAgICAgKi9cclxuICAgIF9Sb3dTZWxlY3Rpb24ucHJvdG90eXBlLl9pc1N1Yk9wdGltaXplZFdoZXJlID0gZnVuY3Rpb24gKHdBcmdzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAodHlwZW9mIHdBcmdzWzBdID09PSBcInN0cmluZ1wiKSB7IC8vIG5vdCBjb21wb3VuZCB3aGVyZVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzT3B0aW1pemVkV2hlcmUod0FyZ3NbMF0pID09PSAwKSB7IC8vIGF0IGxlYXN0IGZpcnN0IHZhbHVlIGlzIG9wdGltaXplZFxyXG4gICAgICAgICAgICAvLyBsYXN0IHByaW1hcnkga2V5L3NlY29uZGFyeSBpbmRleCBjb25kaXRpb24gTVVTVCBiZSBmb2xsb3dlZCBieSBBTkRcclxuICAgICAgICAgICAgdmFyIGxhc3RDaGVja18xID0gMDtcclxuICAgICAgICAgICAgd0FyZ3MuZm9yRWFjaChmdW5jdGlvbiAod0FyZywgaSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgJSAyID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl9pc09wdGltaXplZFdoZXJlKHdBcmcpID09PSAwICYmIHdBcmdzW2kgKyAxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0Q2hlY2tfMSA9IGkgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIEFORCBtdXN0IGZvbGxvdyB0aGUgbGFzdCBzZWNvbmRhcnkgaW5kZXgvcHJpbWFyeSBrZXkgY29uZGl0aW9uXHJcbiAgICAgICAgICAgIGlmICh3QXJnc1tsYXN0Q2hlY2tfMV0gIT09IFwiQU5EXCIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgcmV0dXJuIGxhc3RDaGVja18xO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiBhIHNpbmdsZSBXSEVSRSBzdGF0ZW1lbnQgW1wicm93XCIsIFwiPVwiLCB2YWx1ZV0gdXNlcyBhIHByaW1hcnkga2V5IG9yIHNlY29uZGFyeSBpbmRleCBhcyBpdCdzIHJvdy5cclxuICAgICAqIElmIHNvLCB3ZSBjYW4gdXNlIGEgbXVjaCBmYXN0ZXIgU0VMRUNUIG1ldGhvZC5cclxuICAgICAqXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqIEBwYXJhbSB7YW55W119IHdBcmdzXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gICAgICogQG1lbWJlcm9mIF9Sb3dTZWxlY3Rpb25cclxuICAgICAqL1xyXG4gICAgX1Jvd1NlbGVjdGlvbi5wcm90b3R5cGUuX2lzT3B0aW1pemVkV2hlcmUgPSBmdW5jdGlvbiAod0FyZ3MpIHtcclxuICAgICAgICB2YXIgdGFibGVEYXRhID0gdGhpcy5zLnRhYmxlSW5mb1t0aGlzLnEudGFibGVdO1xyXG4gICAgICAgIGlmIChbXCI9XCIsIFwiSU5cIiwgXCJCRVRXRUVOXCJdLmluZGV4T2Yod0FyZ3NbMV0pID4gLTEpIHtcclxuICAgICAgICAgICAgLy8gaWYgKHdBcmdzWzBdID09PSB0YWJsZURhdGEuX3BrKSB7XHJcbiAgICAgICAgICAgIGlmICh3QXJnc1swXSA9PT0gdGFibGVEYXRhLl9wayB8fCB0YWJsZURhdGEuX3NlY29uZGFyeUluZGV4ZXMuaW5kZXhPZih3QXJnc1swXSkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9Sb3dTZWxlY3Rpb247XHJcbn0oKSk7XHJcbmV4cG9ydHMuX1Jvd1NlbGVjdGlvbiA9IF9Sb3dTZWxlY3Rpb247XHJcbi8qKlxyXG4gKiBTZWxlY3Qgcm93cyBmcm9tIGFuIGluc3RhbmNlIHRhYmxlLiBTdXBwb3J0cyBSQU5HRSBhbmQgV0hFUkUgc3RhdGVtZW50cy5cclxuICpcclxuICogQGV4cG9ydFxyXG4gKiBAY2xhc3MgSW5zdGFuY2VTZWxlY3Rpb25cclxuICovXHJcbnZhciBJbnN0YW5jZVNlbGVjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEluc3RhbmNlU2VsZWN0aW9uKHEpIHtcclxuICAgICAgICB0aGlzLnEgPSBxO1xyXG4gICAgfVxyXG4gICAgSW5zdGFuY2VTZWxlY3Rpb24ucHJvdG90eXBlLmdldFJvd3MgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLnEuam9pbiB8fCB0aGlzLnEub3JtIHx8IHRoaXMucS50cmllKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBkbyBhIEpPSU4sIE9STSBvciBUUklFIGNvbW1hbmQgd2l0aCBpbnN0YW5jZSB0YWJsZSFcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnEucmFuZ2UgJiYgdGhpcy5xLnJhbmdlLmxlbmd0aCkgeyAvLyByYW5nZSBzZWxlY3QgW2xpbWl0LCBvZmZzZXRdXHJcbiAgICAgICAgICAgIHZhciByYW5nZSA9IHRoaXMucS5yYW5nZSwgZnJvbV8xLCB0b18xO1xyXG4gICAgICAgICAgICBpZiAocmFuZ2VbMF0gPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBmcm9tXzEgPSAodGhpcy5xLnRhYmxlLmxlbmd0aCkgKyByYW5nZVswXSAtIHJhbmdlWzFdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZnJvbV8xID0gcmFuZ2VbMV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGNudCA9IE1hdGguYWJzKHJhbmdlWzBdKSAtIDE7XHJcbiAgICAgICAgICAgIHRvXzEgPSBmcm9tXzE7XHJcbiAgICAgICAgICAgIHdoaWxlIChjbnQtLSkge1xyXG4gICAgICAgICAgICAgICAgdG9fMSsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKHRoaXMucS50YWJsZS5maWx0ZXIoZnVuY3Rpb24gKHZhbCwgaWR4KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaWR4ID49IGZyb21fMSAmJiBpZHggPD0gdG9fMTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhbGxiYWNrKHRoaXMucS50YWJsZS5maWx0ZXIoZnVuY3Rpb24gKHJvdywgaSkge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMucS53aGVyZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoX3RoaXMucS53aGVyZSkgPyBfd2hlcmUocm93LCBfdGhpcy5xLndoZXJlIHx8IFtdLCBpKSA6IF90aGlzLnEud2hlcmUocm93LCBpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9KSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEluc3RhbmNlU2VsZWN0aW9uO1xyXG59KCkpO1xyXG5leHBvcnRzLkluc3RhbmNlU2VsZWN0aW9uID0gSW5zdGFuY2VTZWxlY3Rpb247XHJcbi8qKlxyXG4gKiBIYW5kbGVzIFdIRVJFIHN0YXRlbWVudHMsIGNvbWJpbmluZyBtdWx0aXBsZSBjb21wYXJlZCBzdGF0ZW1lbnRzIGFnaW5zdCBBTkQvT1IgYXMgbmVlZGVkIHRvIHJldHVybiBhIGZpbmFsIGJvb2xlYW4gdmFsdWUuXHJcbiAqIFRoZSBmaW5hbCBib29sZWFuIHZhbHVlIGlzIHdldGhlciB0aGUgcm93IG1hdGNoZXMgYWxsIFdIRVJFIGNvbmRpdGlvbnMgb3Igbm90LlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHNpbmdsZVJvd1xyXG4gKiBAcGFyYW0ge2FueVtdfSB3aGVyZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gcm93SURYXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lnbm9yZUZpcnN0UGF0aF1cclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG52YXIgX3doZXJlID0gZnVuY3Rpb24gKHNpbmdsZVJvdywgd2hlcmUsIHJvd0lEWCwgaWdub3JlRmlyc3RQYXRoKSB7XHJcbiAgICB2YXIgY29tbWFuZHMgPSBbXCJBTkRcIiwgXCJPUlwiXTtcclxuICAgIGlmICh0eXBlb2Ygd2hlcmVbMF0gIT09IFwic3RyaW5nXCIpIHsgLy8gY29tcG91bmQgd2hlcmUgc3RhdGVtZW50c1xyXG4gICAgICAgIHZhciBoYXNBbmRfMSA9IGZhbHNlO1xyXG4gICAgICAgIC8vIHR1cm4gd2hlcmUgc3RhdGVtZW50IGludG8gYXJyYXkgb2YgYm9vbGVhbnMgYW5kIGNvbmRpdGlvbnNcclxuICAgICAgICAvLyBbW2lkLCBcIj1cIiwgMV0sIFwiT1JcIiwgW1widGhpc1wiLCBcIj1cIiwgXCJ0aGF0XCJdXSA9PiBbdHJ1ZSwgXCJPUlwiLCBmYWxzZV07XHJcbiAgICAgICAgdmFyIGNoZWNrV2hlcmVfMSA9IHdoZXJlLm1hcChmdW5jdGlvbiAod0FyZywgaWR4KSB7XHJcbiAgICAgICAgICAgIGlmIChjb21tYW5kcy5pbmRleE9mKHdBcmcpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHdBcmcgPT09IFwiQU5EXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgaGFzQW5kXzEgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdBcmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbXBhcmUod0FyZ1syXSwgd0FyZ1sxXSwgdXRpbGl0aWVzXzEub2JqUXVlcnkod0FyZ1swXSwgc2luZ2xlUm93LCBpZ25vcmVGaXJzdFBhdGgpKSA9PT0gMCA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGNvbWJpbmUgYWxsIE9SIHN0YXRlbWVudHMgaW50byBhIHNpbmdsZSBib29sZWFuIG9mIHRoZSBzdXJyb3VuZGluZyBib29sZWFuc1xyXG4gICAgICAgIC8vIFt0cnVlLCBcIk9SXCIsIGZhbHNlLCBcIkFORFwiLCB0cnVlXSA9PiBbdW5kZWZpbmVkLCB0cnVlLCB1bmRlZmluZWQsIFwiQU5EXCIsIHRydWVdXHJcbiAgICAgICAgLy8gW2ZhbHNlLCBcIk9SXCIsIGZhbHNlLCBcIkFORFwiLCB0cnVlXSA9PiBbdW5kZWZpbmVkLCBmYWxzZSwgdW5kZWZpbmVkLCBcIkFORFwiLCB0cnVlXTtcclxuICAgICAgICBjaGVja1doZXJlXzEuZm9yRWFjaChmdW5jdGlvbiAod0FyZywgaWR4KSB7XHJcbiAgICAgICAgICAgIGlmICh3QXJnID09PSBcIk9SXCIpIHtcclxuICAgICAgICAgICAgICAgIGNoZWNrV2hlcmVfMVtpZHhdID0gY2hlY2tXaGVyZV8xW2lkeCAtIDFdIHx8IGNoZWNrV2hlcmVfMVtpZHggKyAxXTtcclxuICAgICAgICAgICAgICAgIGNoZWNrV2hlcmVfMVtpZHggLSAxXSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGNoZWNrV2hlcmVfMVtpZHggKyAxXSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIHJlbW92ZSB0aGUgdW5kZWZpbmVkIGVsZW1lbnRzIGZyb20gdGhlIGFib3ZlIGFjdGlvblxyXG4gICAgICAgIC8vIFt1bmRlZmluZWQsIGZhbHNlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZmFsc2UsIHVuZGVmaW5lZCwgXCJBTkRcIiwgdHJ1ZV0gPT4gW2ZhbHNlLCBmYWxzZSwgdHJ1ZV1cclxuICAgICAgICAvLyBjaGVja1doZXJlID0gY2hlY2tXaGVyZS5maWx0ZXIodmFsID0+IHZhbCAhPT0gdW5kZWZpbmVkICYmIHZhbCAhPT0gXCJBTkRcIik7XHJcbiAgICAgICAgLy8gaWYgdGhlcmUgYXJlIGFueSBmYWxzZSBib29scyBpbiB0aGUgYXJyYXkgdGhlIHJvdyBkb2Vzbid0IG1hdGNoLlxyXG4gICAgICAgIHJldHVybiBjaGVja1doZXJlXzEuaW5kZXhPZihmYWxzZSkgPT09IC0xO1xyXG4gICAgICAgIC8qXHJcblxyXG4gICAgICAgIGlmICghaGFzQW5kKSB7IC8vIEFsbCBPUiBzdGF0ZW1lbnRzLCBpZiB0aGVyZSBhcmUgemVybyB0cnVlIHZhbHVlcyB0aGVuIHRoZSByb3cgZG9lc24ndCBwYXNzLlxyXG4gICAgICAgICAgICByZXR1cm4gY2hlY2tXaGVyZS5pbmRleE9mKHRydWUpICE9PSAtMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgcmVkdWNpbmc6IG51bWJlcjtcclxuICAgICAgICAgICAgbGV0IHByZXZBbmQgPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuIGNoZWNrV2hlcmUucmVkdWNlKChwcmV2LCBjdXIsIGlkeCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlkeCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXYucHVzaChjdXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZHVjaW5nID0gcHJldi5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGN1ciA9PT0gXCJBTkRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZBbmQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHByZXYucHVzaChjdXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHByZXZBbmQpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2LnB1c2goY3VyKTtcclxuICAgICAgICAgICAgICAgICAgICByZWR1Y2luZyA9IHByZXYubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2QW5kID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocmVkdWNpbmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZbcmVkdWNpbmddID0gY3VyIHx8IHByZXZbcmVkdWNpbmddO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgICAgIH0sIFtdKS5pbmRleE9mKGZhbHNlKSA9PT0gLTE7XHJcbiAgICAgICAgfSovXHJcbiAgICB9XHJcbiAgICBlbHNlIHsgLy8gc2luZ2xlIHdoZXJlIHN0YXRlbWVudFxyXG4gICAgICAgIHJldHVybiBfY29tcGFyZSh3aGVyZVsyXSwgd2hlcmVbMV0sIHV0aWxpdGllc18xLm9ialF1ZXJ5KHdoZXJlWzBdLCBzaW5nbGVSb3csIGlnbm9yZUZpcnN0UGF0aCkpID09PSAwID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogQ29tcGFyZSBmdW5jdGlvbiB1c2VkIGJ5IFdIRVJFIHRvIGRldGVybWluZSBpZiBhIGdpdmVuIHZhbHVlIG1hdGNoZXMgYSBnaXZlbiBjb25kaXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gdmFsMVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gY29tcGFyZVxyXG4gKiBAcGFyYW0geyp9IHZhbDJcclxuICogQHJldHVybnMge251bWJlcn1cclxuICovXHJcbnZhciBfY29tcGFyZSA9IGZ1bmN0aW9uICh2YWwxLCBjb21wYXJlLCB2YWwyKSB7XHJcbiAgICB2YXIgc2V0VmFsdWUgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcIkxJS0VcIiwgXCJOT1QgTElLRVwiXS5pbmRleE9mKGNvbXBhcmUpID4gLTEgPyBTdHJpbmcodmFsIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCkgOiB2YWw7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNvbHVtblZhbHVlID0gc2V0VmFsdWUodmFsMik7XHJcbiAgICB2YXIgZ2l2ZW5WYWx1ZSA9IHNldFZhbHVlKHZhbDEpO1xyXG4gICAgaWYgKHZhbDEgPT09IFwiTlVMTFwiIHx8IHZhbDEgPT09IFwiTk9UIE5VTExcIikge1xyXG4gICAgICAgIHZhciBwb3MgPSBjb21wYXJlID09PSBcIj1cIiB8fCBjb21wYXJlID09PSBcIkxJS0VcIjtcclxuICAgICAgICByZXR1cm4gKHZhbDEgPT09IFwiTlVMTFwiID9cclxuICAgICAgICAgICAgKHZhbDIgPT09IG51bGwgfHwgdmFsMiA9PT0gdW5kZWZpbmVkKSA6XHJcbiAgICAgICAgICAgICh2YWwyICE9PSBudWxsICYmIHZhbDIgIT09IHVuZGVmaW5lZCkpID9cclxuICAgICAgICAgICAgKHBvcyA/IDAgOiAxKSA6IChwb3MgPyAxIDogMCk7XHJcbiAgICB9XHJcbiAgICBzd2l0Y2ggKGNvbXBhcmUpIHtcclxuICAgICAgICAvLyBpZiBjb2x1bW4gZXF1YWwgdG8gZ2l2ZW4gdmFsdWVcclxuICAgICAgICBjYXNlIFwiPVwiOiByZXR1cm4gY29sdW1uVmFsdWUgPT09IGdpdmVuVmFsdWUgPyAwIDogMTtcclxuICAgICAgICAvLyBpZiBjb2x1bW4gbm90IGVxdWFsIHRvIGdpdmVuIHZhbHVlXHJcbiAgICAgICAgY2FzZSBcIiE9XCI6IHJldHVybiBjb2x1bW5WYWx1ZSAhPT0gZ2l2ZW5WYWx1ZSA/IDAgOiAxO1xyXG4gICAgICAgIC8vIGlmIGNvbHVtbiBncmVhdGhlciB0aGFuIGdpdmVuIHZhbHVlXHJcbiAgICAgICAgY2FzZSBcIj5cIjogcmV0dXJuIGNvbHVtblZhbHVlID4gZ2l2ZW5WYWx1ZSA/IDAgOiAxO1xyXG4gICAgICAgIC8vIGlmIGNvbHVtbiBsZXNzIHRoYW4gZ2l2ZW4gdmFsdWVcclxuICAgICAgICBjYXNlIFwiPFwiOiByZXR1cm4gY29sdW1uVmFsdWUgPCBnaXZlblZhbHVlID8gMCA6IDE7XHJcbiAgICAgICAgLy8gaWYgY29sdW1uIGxlc3MgdGhhbiBvciBlcXVhbCB0byBnaXZlbiB2YWx1ZVxyXG4gICAgICAgIGNhc2UgXCI8PVwiOiByZXR1cm4gY29sdW1uVmFsdWUgPD0gZ2l2ZW5WYWx1ZSA/IDAgOiAxO1xyXG4gICAgICAgIC8vIGlmIGNvbHVtbiBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gZ2l2ZW4gdmFsdWVcclxuICAgICAgICBjYXNlIFwiPj1cIjogcmV0dXJuIGNvbHVtblZhbHVlID49IGdpdmVuVmFsdWUgPyAwIDogMTtcclxuICAgICAgICAvLyBpZiBjb2x1bW4gdmFsdWUgZXhpc3RzIGluIGdpdmVuIGFycmF5XHJcbiAgICAgICAgY2FzZSBcIklOXCI6IHJldHVybiAoZ2l2ZW5WYWx1ZSB8fCBbXSkuaW5kZXhPZihjb2x1bW5WYWx1ZSkgPCAwID8gMSA6IDA7XHJcbiAgICAgICAgLy8gaWYgY29sdW1uIGRvZXMgbm90IGV4aXN0IGluIGdpdmVuIGFycmF5XHJcbiAgICAgICAgY2FzZSBcIk5PVCBJTlwiOiByZXR1cm4gKGdpdmVuVmFsdWUgfHwgW10pLmluZGV4T2YoY29sdW1uVmFsdWUpIDwgMCA/IDAgOiAxO1xyXG4gICAgICAgIC8vIHJlZ2V4cCBzZWFyY2ggdGhlIGNvbHVtblxyXG4gICAgICAgIGNhc2UgXCJSRUdFWFwiOiByZXR1cm4gY29sdW1uVmFsdWUubWF0Y2goZ2l2ZW5WYWx1ZSkubGVuZ3RoID8gMCA6IDE7XHJcbiAgICAgICAgLy8gaWYgZ2l2ZW4gdmFsdWUgZXhpc3RzIGluIGNvbHVtbiB2YWx1ZVxyXG4gICAgICAgIGNhc2UgXCJMSUtFXCI6IHJldHVybiBjb2x1bW5WYWx1ZS5pbmRleE9mKGdpdmVuVmFsdWUpIDwgMCA/IDEgOiAwO1xyXG4gICAgICAgIC8vIGlmIGdpdmVuIHZhbHVlIGRvZXMgbm90IGV4aXN0IGluIGNvbHVtbiB2YWx1ZVxyXG4gICAgICAgIGNhc2UgXCJOT1QgTElLRVwiOiByZXR1cm4gY29sdW1uVmFsdWUuaW5kZXhPZihnaXZlblZhbHVlKSA+PSAwID8gMSA6IDA7XHJcbiAgICAgICAgLy8gaWYgdGhlIGNvbHVtbiB2YWx1ZSBpcyBiZXR3ZWVuIHR3byBnaXZlbiBudW1iZXJzXHJcbiAgICAgICAgY2FzZSBcIkJFVFdFRU5cIjogcmV0dXJuIGdpdmVuVmFsdWVbMF0gPD0gY29sdW1uVmFsdWUgJiYgZ2l2ZW5WYWx1ZVsxXSA+PSBjb2x1bW5WYWx1ZSA/IDAgOiAxO1xyXG4gICAgICAgIC8vIGlmIHNpbmdsZSB2YWx1ZSBleGlzdHMgaW4gYXJyYXkgY29sdW1uXHJcbiAgICAgICAgY2FzZSBcIkhBVkVcIjogcmV0dXJuIChjb2x1bW5WYWx1ZSB8fCBbXSkuaW5kZXhPZihnaXZlblZhbHVlKSA8IDAgPyAxIDogMDtcclxuICAgICAgICAvLyBpZiBzaW5nbGUgdmFsdWUgZG9lcyBub3QgZXhpc3QgaW4gYXJyYXkgY29sdW1uXHJcbiAgICAgICAgY2FzZSBcIk5PVCBIQVZFXCI6IHJldHVybiAoY29sdW1uVmFsdWUgfHwgW10pLmluZGV4T2YoZ2l2ZW5WYWx1ZSkgPCAwID8gMCA6IDE7XHJcbiAgICAgICAgLy8gaWYgYXJyYXkgb2YgdmFsdWVzIGludGVyc2VjdHMgd2l0aCBhcnJheSBjb2x1bW5cclxuICAgICAgICBjYXNlIFwiSU5URVJTRUNUXCI6IHJldHVybiAoY29sdW1uVmFsdWUgfHwgW10pLmZpbHRlcihmdW5jdGlvbiAobCkgeyByZXR1cm4gKGdpdmVuVmFsdWUgfHwgW10pLmluZGV4T2YobCkgPiAtMTsgfSkubGVuZ3RoID4gMCA/IDAgOiAxO1xyXG4gICAgICAgIC8vIGlmIGFycmF5IG9mIHZhbHVlcyBkb2VzIG5vdCBpbnRlcnNlY3Qgd2l0aCBhcnJheSBjb2x1bW5cclxuICAgICAgICBjYXNlIFwiTk9UIElOVEVSU0VDVFwiOiByZXR1cm4gKGNvbHVtblZhbHVlIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKGwpIHsgcmV0dXJuIChnaXZlblZhbHVlIHx8IFtdKS5pbmRleE9mKGwpID4gLTE7IH0pLmxlbmd0aCA9PT0gMCA/IDAgOiAxO1xyXG4gICAgICAgIGRlZmF1bHQ6IHJldHVybiAxO1xyXG4gICAgfVxyXG59O1xyXG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcclxuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxyXG4gICAgICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmRleF8xID0gcmVxdWlyZShcIi4uL2luZGV4XCIpO1xyXG52YXIgcXVlcnlfMSA9IHJlcXVpcmUoXCIuL3F1ZXJ5XCIpO1xyXG52YXIgdXRpbGl0aWVzXzEgPSByZXF1aXJlKFwiLi4vdXRpbGl0aWVzXCIpO1xyXG52YXIgc3RvcmFnZV8xID0gcmVxdWlyZShcIi4vc3RvcmFnZVwiKTtcclxudmFyIE5hbm9TUUxEZWZhdWx0QmFja2VuZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE5hbm9TUUxEZWZhdWx0QmFja2VuZCgpIHtcclxuICAgICAgICB0aGlzLl9xdWVyeVBvb2wgPSBbXTtcclxuICAgICAgICB0aGlzLl9xdWVyeVB0ciA9IDA7XHJcbiAgICB9XHJcbiAgICBOYW5vU1FMRGVmYXVsdEJhY2tlbmQucHJvdG90eXBlLndpbGxDb25uZWN0ID0gZnVuY3Rpb24gKGNvbm5lY3RBcmdzLCBuZXh0KSB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBjb25uZWN0QXJncy5wYXJlbnQ7XHJcbiAgICAgICAgdGhpcy5fc3RvcmUgPSBuZXcgc3RvcmFnZV8xLl9OYW5vU1FMU3RvcmFnZShjb25uZWN0QXJncy5wYXJlbnQsIF9fYXNzaWduKHt9LCBjb25uZWN0QXJncy5jb25maWcpKTtcclxuICAgICAgICAvKmZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5fcXVlcnlQb29sLnB1c2gobmV3IF9OYW5vU1FMU3RvcmFnZVF1ZXJ5KHRoaXMuX3N0b3JlKSk7XHJcbiAgICAgICAgfSovXHJcbiAgICAgICAgdGhpcy5fc3RvcmUuaW5pdChjb25uZWN0QXJncy5tb2RlbHMsIGZ1bmN0aW9uIChuZXdNb2RlbHMpIHtcclxuICAgICAgICAgICAgY29ubmVjdEFyZ3MubW9kZWxzID0gX19hc3NpZ24oe30sIGNvbm5lY3RBcmdzLm1vZGVscywgbmV3TW9kZWxzKTtcclxuICAgICAgICAgICAgbmV4dChjb25uZWN0QXJncyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgTmFub1NRTERlZmF1bHRCYWNrZW5kLnByb3RvdHlwZS5kb0V4ZWMgPSBmdW5jdGlvbiAoZXhlY0FyZ3MsIG5leHQpIHtcclxuICAgICAgICBleGVjQXJncy5zdGF0ZSA9IFwiY29tcGxldGVcIjtcclxuICAgICAgICAvKnRoaXMuX3F1ZXJ5UHRyKys7XHJcbiAgICAgICAgaWYgKHRoaXMuX3F1ZXJ5UHRyID4gdGhpcy5fcXVlcnlQb29sLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgdGhpcy5fcXVlcnlQdHIgPSAwO1xyXG4gICAgICAgIH0qL1xyXG4gICAgICAgIG5ldyBxdWVyeV8xLl9OYW5vU1FMU3RvcmFnZVF1ZXJ5KHRoaXMuX3N0b3JlKS5kb1F1ZXJ5KGV4ZWNBcmdzLCBuZXh0KTtcclxuICAgIH07XHJcbiAgICAvKnB1YmxpYyB0cmFuc2FjdGlvbkJlZ2luKGlkOiBzdHJpbmcsIG5leHQ6ICgpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICBuZXh0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRyYW5zYWN0aW9uRW5kKGlkOiBzdHJpbmcsIG5leHQ6ICgpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICBuZXh0KCk7XHJcbiAgICB9XHJcbiAgICAqL1xyXG4gICAgTmFub1NRTERlZmF1bHRCYWNrZW5kLnByb3RvdHlwZS5kdW1wVGFibGVzID0gZnVuY3Rpb24gKHRhYmxlcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyB1dGlsaXRpZXNfMS5Qcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikge1xyXG4gICAgICAgICAgICB2YXIgZHVtcCA9IHt9O1xyXG4gICAgICAgICAgICB2YXIgZXhwb3J0VGFibGVzID0gdGFibGVzICYmIHRhYmxlcy5sZW5ndGggPyB0YWJsZXMgOiBPYmplY3Qua2V5cyhfdGhpcy5fc3RvcmUudGFibGVJbmZvKTtcclxuICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChleHBvcnRUYWJsZXMsIGZ1bmN0aW9uICh0YWJsZSwgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICAgICAgZHVtcFt0YWJsZV0gPSBbXTtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9zdG9yZS5hZGFwdGVyc1swXS5hZGFwdGVyLnJhbmdlUmVhZCh0YWJsZSwgZnVuY3Rpb24gKHIsIGlkeCwgcm93RG9uZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGR1bXBbdGFibGVdLnB1c2gocik7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93RG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgfSwgZG9uZSk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmVzKGR1bXApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBOYW5vU1FMRGVmYXVsdEJhY2tlbmQucHJvdG90eXBlLmltcG9ydFRhYmxlcyA9IGZ1bmN0aW9uICh0YWJsZXMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBuZXcgdXRpbGl0aWVzXzEuUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcclxuICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChPYmplY3Qua2V5cyh0YWJsZXMpLCBmdW5jdGlvbiAodGFibGVOYW1lLCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGtLZXkgPSBfdGhpcy5fc3RvcmUudGFibGVJbmZvW3RhYmxlTmFtZV0uX3BrO1xyXG4gICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTCh0YWJsZXNbdGFibGVOYW1lXSwgZnVuY3Rpb24gKHJvdywgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyb3dbcGtLZXldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zdG9yZS5hZGFwdGVyc1swXS5hZGFwdGVyLndyaXRlKHRhYmxlTmFtZSwgcm93W3BrS2V5XSwgcm93LCBkb25lKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGRvbmUpO1xyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJlcygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBOYW5vU1FMRGVmYXVsdEJhY2tlbmQucHJvdG90eXBlLndpbGxEaXNjb25uZWN0ID0gZnVuY3Rpb24gKG5leHQpIHtcclxuICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKHRoaXMuX3N0b3JlLmFkYXB0ZXJzIHx8IFtdLCBmdW5jdGlvbiAoYWRhcHRlciwgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICBpZiAoYWRhcHRlci5kaXNjb25uZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBhZGFwdGVyLmRpc2Nvbm5lY3QoZG9uZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS50aGVuKG5leHQpO1xyXG4gICAgfTtcclxuICAgIE5hbm9TUUxEZWZhdWx0QmFja2VuZC5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24gKG5leHQsIGFyZ3MsIHJlc3VsdCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgc3dpdGNoIChhcmdzWzBdKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJjbG9uZVwiOlxyXG4gICAgICAgICAgICAgICAgdmFyIG5TUUxpXzEgPSBuZXcgaW5kZXhfMS5OYW5vU1FMSW5zdGFuY2UoKTtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMucGFyZW50LmRhdGFNb2RlbHMpLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgblNRTGlfMS50YWJsZSh0YWJsZSkubW9kZWwoX3RoaXMucGFyZW50LmRhdGFNb2RlbHNbdGFibGVdLCBbXSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIG5TUUxpXzFcclxuICAgICAgICAgICAgICAgICAgICAuY29uZmlnKHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogdGhpcy5fc3RvcmUuX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IGFyZ3NbMV1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmNvbm5lY3QoKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdENIQUlOKE9iamVjdC5rZXlzKF90aGlzLnBhcmVudC5kYXRhTW9kZWxzKSwgZnVuY3Rpb24gKHRhYmxlLCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSW1wb3J0aW5nIFwiICsgdGFibGUgKyBcIi4uLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucGFyZW50LnJhd0R1bXAoW3RhYmxlXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gblNRTGlfMS5yYXdJbXBvcnQoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihkb25lKTtcclxuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dChhcmdzLCBbXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiZmx1c2hcIjpcclxuICAgICAgICAgICAgICAgIHZhciB0YWJsZXNfMSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFhcmdzWzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFibGVzXzEgPSB0aGlzLnBhcmVudC50YWJsZU5hbWVzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFibGVzXzEgPSBbYXJnc1sxXV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0Q0hBSU4odGFibGVzXzEsIGZ1bmN0aW9uICh0YWJsZSwgaSwgbmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9zdG9yZS5fZHJvcCh0YWJsZSwgbmV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0KGFyZ3MsIHRhYmxlc18xKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJnZXRfYWRhcHRlclwiOlxyXG4gICAgICAgICAgICAgICAgaWYgKCFhcmdzWzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dChhcmdzLCBbdGhpcy5fc3RvcmUuYWRhcHRlcnNbMF0uYWRhcHRlcl0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dChhcmdzLCBbdGhpcy5fc3RvcmUuYWRhcHRlcnNbYXJnc1sxXV0uYWRhcHRlcl0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJpZHgubGVuZ3RoXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCJpZHhcIjpcclxuICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IGFyZ3NbMV07XHJcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5fc3RvcmUudGFibGVJbmZvKS5pbmRleE9mKHRhYmxlKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RvcmUuYWRhcHRlcnNbMF0uYWRhcHRlci5nZXRJbmRleCh0YWJsZSwgYXJnc1swXSAhPT0gXCJpZHhcIiwgZnVuY3Rpb24gKGlkeCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KGFyZ3MsIGlkeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0KGFyZ3MsIFtdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwicmVidWlsZF9pZHhcIjpcclxuICAgICAgICAgICAgICAgIGlmIChhcmdzWzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RvcmUucmVidWlsZEluZGV4ZXMoYXJnc1sxXSwgZnVuY3Rpb24gKHRpbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dChhcmdzLCBbdGltZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChPYmplY3Qua2V5cyh0aGlzLl9zdG9yZS50YWJsZUluZm8pLCBmdW5jdGlvbiAodGFibGUsIGksIGRvbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3N0b3JlLnJlYnVpbGRJbmRleGVzKHRhYmxlLCBkb25lKTtcclxuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICh0aW1lcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KGFyZ3MsIHRpbWVzKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiY2xlYXJfY2FjaGVcIjpcclxuICAgICAgICAgICAgICAgIGlmIChhcmdzWzFdICYmIGFyZ3NbMl0pIHsgLy8gaW52YWxpZGF0ZSByb3dzIG9uIGEgdGFibGVcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdG9yZS5faW52YWxpZGF0ZUNhY2hlKGFyZ3NbMV0sIGFyZ3NbMl0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYXJnc1sxXSkgeyAvLyBpbnZhbGlkYXRlIHdob2xlIHRhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RvcmUuX2NhY2hlW2FyZ3NbMV1dID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RvcmUuX2NhY2hlS2V5c1thcmdzWzFdXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7IC8vIGludmFsaWRhdGUgYWxsIHRhYmxlc1xyXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuX3N0b3JlLnRhYmxlSW5mbykuZm9yRWFjaChmdW5jdGlvbiAodGFibGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3N0b3JlLl9jYWNoZVt0YWJsZV0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3N0b3JlLl9jYWNoZUtleXNbdGFibGVdID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuZXh0KGFyZ3MsIGFyZ3NbMV0gfHwgT2JqZWN0LmtleXModGhpcy5fc3RvcmUudGFibGVJbmZvKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIG5leHQoYXJncywgcmVzdWx0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE5hbm9TUUxEZWZhdWx0QmFja2VuZDtcclxufSgpKTtcclxuZXhwb3J0cy5OYW5vU1FMRGVmYXVsdEJhY2tlbmQgPSBOYW5vU1FMRGVmYXVsdEJhY2tlbmQ7XHJcbiIsIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIFJlYWxseVNtYWxsRXZlbnRzID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFJlYWxseVNtYWxsRXZlbnRzKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMgPSB7fTtcclxuICAgIH1cclxuICAgIFJlYWxseVNtYWxsRXZlbnRzLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldmVudCwgY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAoIXRoaXMuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdLnB1c2goY2FsbGJhY2spO1xyXG4gICAgfTtcclxuICAgIFJlYWxseVNtYWxsRXZlbnRzLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiAoZXZlbnQsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAodGhpcy5ldmVudExpc3RlbmVyc1tldmVudF0gJiYgdGhpcy5ldmVudExpc3RlbmVyc1tldmVudF0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdLmZvckVhY2goZnVuY3Rpb24gKGNiLCBpZHgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjYiA9PT0gY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5ldmVudExpc3RlbmVyc1tldmVudF0uc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBSZWFsbHlTbWFsbEV2ZW50cy5wcm90b3R5cGUudHJpZ2dlciA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdLmZvckVhY2goZnVuY3Rpb24gKGNiKSB7IHJldHVybiBjYi5hcHBseSh2b2lkIDAsIGFyZ3MpOyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFJlYWxseVNtYWxsRXZlbnRzO1xyXG59KCkpO1xyXG5leHBvcnRzLlJlYWxseVNtYWxsRXZlbnRzID0gUmVhbGx5U21hbGxFdmVudHM7XHJcbmV4cG9ydHMuUlNFID0gbmV3IFJlYWxseVNtYWxsRXZlbnRzKCk7XHJcbiIsIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXHJcbnZhciBfTmFub1NRTFRyYW5zYWN0aW9uUXVlcnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBfTmFub1NRTFRyYW5zYWN0aW9uUXVlcnkoYWN0aW9uLCBhcmdzLCB0YWJsZSwgcXVlcmllcywgdHJhbnNhY3Rpb25JRCkge1xyXG4gICAgICAgIHRoaXMudGhpc1EgPSB7XHJcbiAgICAgICAgICAgIHN0YXRlOiBcInBlbmRpbmdcIixcclxuICAgICAgICAgICAgdGFibGU6IHRhYmxlLFxyXG4gICAgICAgICAgICBhY3Rpb246IGFjdGlvbixcclxuICAgICAgICAgICAgYWN0aW9uQXJnczogYXJncyxcclxuICAgICAgICAgICAgcXVlcnlJRDogdHJhbnNhY3Rpb25JRCxcclxuICAgICAgICAgICAgdHJhbnNhY3Rpb246IHRydWUsXHJcbiAgICAgICAgICAgIHJlc3VsdDogW10sXHJcbiAgICAgICAgICAgIGNvbW1lbnRzOiBbXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5fcXVlcmllcyA9IHF1ZXJpZXM7XHJcbiAgICB9XHJcbiAgICBfTmFub1NRTFRyYW5zYWN0aW9uUXVlcnkucHJvdG90eXBlLndoZXJlID0gZnVuY3Rpb24gKGFyZ3MpIHtcclxuICAgICAgICB0aGlzLnRoaXNRLndoZXJlID0gYXJncztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBfTmFub1NRTFRyYW5zYWN0aW9uUXVlcnkucHJvdG90eXBlLmV4ZWMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5fcXVlcmllcy5wdXNoKHRoaXMudGhpc1EpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfTmFub1NRTFRyYW5zYWN0aW9uUXVlcnk7XHJcbn0oKSk7XHJcbmV4cG9ydHMuX05hbm9TUUxUcmFuc2FjdGlvblF1ZXJ5ID0gX05hbm9TUUxUcmFuc2FjdGlvblF1ZXJ5O1xyXG4iLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcclxuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxyXG4gICAgICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciB1dGlsaXRpZXNfMSA9IHJlcXVpcmUoXCIuLi91dGlsaXRpZXNcIik7XHJcbnZhciBibGFua1JvdyA9IHsgYWZmZWN0ZWRSb3dQS1M6IFtdLCBhZmZlY3RlZFJvd3M6IFtdIH07XHJcbnZhciBydW5RdWVyeSA9IGZ1bmN0aW9uIChzZWxmLCBjb21wbGV0ZSkge1xyXG4gICAgaWYgKHNlbGYuX2RiLnBsdWdpbnMubGVuZ3RoID09PSAxICYmICFzZWxmLl9kYi5oYXNBbnlFdmVudHMpIHtcclxuICAgICAgICAvLyBmYXN0IHF1ZXJ5IHBhdGgsIG9ubHkgdXNlZCBpZiB0aGVyZSdzIGEgc2luZ2xlIHBsdWdpbiBhbmQgbm8gZXZlbnQgbGlzdGVuZXJzXHJcbiAgICAgICAgc2VsZi5fZGIucGx1Z2luc1swXS5kb0V4ZWMoc2VsZi5fcXVlcnksIGZ1bmN0aW9uIChuZXdRKSB7XHJcbiAgICAgICAgICAgIHNlbGYuX3F1ZXJ5ID0gbmV3UTtcclxuICAgICAgICAgICAgaWYgKHNlbGYuX2RiLmhhc1BLW3NlbGYuX3F1ZXJ5LnRhYmxlXSkge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoc2VsZi5fcXVlcnkucmVzdWx0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKHNlbGYuX3F1ZXJ5LnJlc3VsdC5tYXAoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIChfX2Fzc2lnbih7fSwgciwgeyBfaWRfOiB1bmRlZmluZWQgfSkpOyB9KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHV0aWxpdGllc18xLmZhc3RDSEFJTihzZWxmLl9kYi5wbHVnaW5zLCBmdW5jdGlvbiAocCwgaSwgbmV4dFApIHtcclxuICAgICAgICAgICAgaWYgKHAuZG9FeGVjKSB7XHJcbiAgICAgICAgICAgICAgICBwLmRvRXhlYyhzZWxmLl9xdWVyeSwgZnVuY3Rpb24gKG5ld1EpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLl9xdWVyeSA9IG5ld1EgfHwgc2VsZi5fcXVlcnk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dFAoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbmV4dFAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5fZGIuaGFzUEtbc2VsZi5fcXVlcnkudGFibGVdKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShzZWxmLl9xdWVyeS5yZXN1bHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUoc2VsZi5fcXVlcnkucmVzdWx0Lm1hcChmdW5jdGlvbiAocikgeyByZXR1cm4gKF9fYXNzaWduKHt9LCByLCB7IF9pZF86IHVuZGVmaW5lZCB9KSk7IH0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2VsZi5fZGIuaGFzQW55RXZlbnRzIHx8IHNlbGYuX2RiLnBsdWdpbkhhc0RpZEV4ZWMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBldmVudFR5cGVzID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHNlbGYuX3F1ZXJ5LmFjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic2VsZWN0XCI6IHJldHVybiBbc2VsZi5fcXVlcnkuYWN0aW9uXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRlbGV0ZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwidXBzZXJ0XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJkcm9wXCI6IHJldHVybiBbc2VsZi5fcXVlcnkuYWN0aW9uLCBcImNoYW5nZVwiXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGFzTGVuZ3RoID0gc2VsZi5fcXVlcnkucmVzdWx0ICYmIHNlbGYuX3F1ZXJ5LnJlc3VsdC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnRfMSA9IHtcclxuICAgICAgICAgICAgICAgICAgICB0YWJsZTogc2VsZi5fcXVlcnkudGFibGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHNlbGYuX3F1ZXJ5LFxyXG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IERhdGUubm93KCksXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBzZWxmLl9xdWVyeS5yZXN1bHQsXHJcbiAgICAgICAgICAgICAgICAgICAgbm90ZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGVzOiBldmVudFR5cGVzLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbk9yVmlldzogc2VsZi5fQVYsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25JRDogc2VsZi5fcXVlcnkudHJhbnNhY3Rpb24gPyBzZWxmLl9xdWVyeS5xdWVyeUlEIDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIGFmZmVjdGVkUm93UEtTOiBoYXNMZW5ndGggPyAoc2VsZi5fcXVlcnkucmVzdWx0WzBdIHx8IGJsYW5rUm93KS5hZmZlY3RlZFJvd1BLUyA6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGFmZmVjdGVkUm93czogaGFzTGVuZ3RoID8gKHNlbGYuX3F1ZXJ5LnJlc3VsdFswXSB8fCBibGFua1JvdykuYWZmZWN0ZWRSb3dzIDogW10sXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdENIQUlOKHNlbGYuX2RiLnBsdWdpbnMsIGZ1bmN0aW9uIChwLCBpLCBuZXh0UCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwLmRpZEV4ZWMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcC5kaWRFeGVjKGV2ZW50XzEsIGZ1bmN0aW9uIChuZXdFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudF8xID0gbmV3RTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRQKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFAoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLl9kYi50cmlnZ2VyRXZlbnQoZXZlbnRfMSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59O1xyXG52YXIgZGVib3VuY2VUaW1lcnMgPSB7fTtcclxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXHJcbnZhciBfTmFub1NRTFF1ZXJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gX05hbm9TUUxRdWVyeShkYiwgdGFibGUsIHF1ZXJ5QWN0aW9uLCBxdWVyeUFyZ3MsIGFjdGlvbk9yVmlldykge1xyXG4gICAgICAgIHRoaXMuX2RiID0gZGI7XHJcbiAgICAgICAgdGhpcy5fQVYgPSBhY3Rpb25PclZpZXcgfHwgXCJcIjtcclxuICAgICAgICB0aGlzLl9xdWVyeSA9IHtcclxuICAgICAgICAgICAgdGFibGU6IHRhYmxlLFxyXG4gICAgICAgICAgICBjb21tZW50czogW10sXHJcbiAgICAgICAgICAgIHN0YXRlOiBcInBlbmRpbmdcIixcclxuICAgICAgICAgICAgcXVlcnlJRDogRGF0ZS5ub3coKSArIFwiLlwiICsgdGhpcy5fZGIuZmFzdFJhbmQoKSxcclxuICAgICAgICAgICAgYWN0aW9uOiBxdWVyeUFjdGlvbixcclxuICAgICAgICAgICAgYWN0aW9uQXJnczogcXVlcnlBcmdzLFxyXG4gICAgICAgICAgICByZXN1bHQ6IFtdXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVXNlZCB0byBzZWxlY3Qgc3BlY2lmaWMgcm93cyBiYXNlZCBvbiBhIHNldCBvZiBjb25kaXRpb25zLlxyXG4gICAgICogWW91IGNhbiBwYXNzIGluIGEgc2luZ2xlIGFycmF5IHdpdGggYSBjb25kaXRpb25hbCBzdGF0ZW1lbnQgb3IgYW4gYXJyYXkgb2YgYXJyYXlzIHNlcGVyYXRlZCBieSBcImFuZFwiLCBcIm9yXCIgZm9yIGNvbXBvdW5kIHNlbGVjdHMuXHJcbiAgICAgKiBBIHNpbmdsZSB3aGVyZSBzdGF0ZW1lbnQgaGFzIHRoZSBjb2x1bW4gbmFtZSBvbiB0aGUgbGVmdCwgYW4gb3BlcmF0b3IgaW4gdGhlIG1pZGRsZSwgdGhlbiBhIGNvbXBhcmlzb24gb24gdGhlIHJpZ2h0LlxyXG4gICAgICpcclxuICAgICAqIFdoZXJlIEV4YW1wbGVzOlxyXG4gICAgICpcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAud2hlcmUoWyd1c2VybmFtZScsJz0nLCdiaWxseSddKVxyXG4gICAgICogLndoZXJlKFsnYmFsYW5jZScsJz4nLDIwXSlcclxuICAgICAqIC53aGVyZShbJ2NhdGdvcnknLCdJTicsWydqZWFucycsJ3NoaXJ0cyddXSlcclxuICAgICAqIC53aGVyZShbWyduYW1lJywnPScsJ3Njb3R0J10sJ2FuZCcsWydiYWxhbmNlJywnPicsMjAwXV0pXHJcbiAgICAgKiAud2hlcmUoW1snaWQnLCc+Jyw1MF0sJ29yJyxbJ3Bvc3RJRHMnLCdJTicsWzEyLDIwLDMwXV0sJ2FuZCcsWyduYW1lJywnTElLRScsJ0JpbGx5J11dKVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsoQXJyYXk8YW55fEFycmF5PGFueT4+KX0gYXJnc1xyXG4gICAgICogQHJldHVybnMge19OYW5vU1FMUXVlcnl9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIF9OYW5vU1FMUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxRdWVyeS5wcm90b3R5cGUud2hlcmUgPSBmdW5jdGlvbiAoYXJncykge1xyXG4gICAgICAgIHRoaXMuX3F1ZXJ5LndoZXJlID0gYXJncztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFF1ZXJ5IHRvIGdldCBhIHNwZWNpZmljIHJhbmdlIG9mIHJvd3MgdmVyeSBlZmZpY2llbnRseS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGltaXRcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIF9OYW5vU1FMUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxRdWVyeS5wcm90b3R5cGUucmFuZ2UgPSBmdW5jdGlvbiAobGltaXQsIG9mZnNldCkge1xyXG4gICAgICAgIHRoaXMuX3F1ZXJ5LnJhbmdlID0gW2xpbWl0LCBvZmZzZXRdO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogV2hlbiB1c2luZyBcImZyb21cIiBmZWF0dXJlcyBzcGVjaWZpYyB3aGF0IHByaW1hcnkga2V5cyB0byB1cGRhdGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHthbnlbXX0gcHJpbWFyeUtleXNcclxuICAgICAqIEByZXR1cm5zIHtfTmFub1NRTFF1ZXJ5fVxyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxRdWVyeS5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAocHJpbWFyeUtleXMpIHtcclxuICAgICAgICB0aGlzLl9xdWVyeS5vbiA9IHByaW1hcnlLZXlzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGVib3VuY2UgYWdncmVnYXRlIGZ1bmN0aW9uIGNhbGxzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW10XHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxRdWVyeVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFF1ZXJ5LnByb3RvdHlwZS5kZWJvdW5jZSA9IGZ1bmN0aW9uIChtcykge1xyXG4gICAgICAgIHRoaXMuX3F1ZXJ5LmRlYm91bmNlID0gbXMgfHwgMjUwO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVHJpZ2dlIE9STSBxdWVyaWVzIGZvciBhbGwgcmVzdWx0IHJvd3MuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsoKHN0cmluZ3xPUk1BcmdzKVtdKX0gW29ybUFyZ3NdXHJcbiAgICAgKiBAcmV0dXJucyB7X05hbm9TUUxRdWVyeX1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyb2YgX05hbm9TUUxRdWVyeVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFF1ZXJ5LnByb3RvdHlwZS5vcm0gPSBmdW5jdGlvbiAob3JtQXJncykge1xyXG4gICAgICAgIHRoaXMuX3F1ZXJ5Lm9ybSA9IG9ybUFyZ3M7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBPcmRlciB0aGUgcmVzdWx0cyBieSBhIGdpdmVuIGNvbHVtbiBvciBjb2x1bW5zLlxyXG4gICAgICpcclxuICAgICAqIEV4YW1wbGVzOlxyXG4gICAgICpcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAub3JkZXJCeSh7dXNlcm5hbWU6XCJhc2NcIn0pIC8vIG9yZGVyIGJ5IHVzZXJuYW1lIGNvbHVtbiwgYXNjZW5kaW5nXHJcbiAgICAgKiAub3JkZXJCeSh7YmFsYW5jZTpcImRlc2NcIixsYXN0TmFtZTpcImFzY1wifSkgLy8gb3JkZXIgYnkgYmFsYW5jZSBkZXNjZW5kaW5nLCB0aGVuIGxhc3ROYW1lIGFzY2VuZGluZy5cclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhcmdzXHJcbiAgICAgKiBAcmV0dXJucyB7X05hbm9TUUxRdWVyeX1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgX05hbm9TUUxRdWVyeVxyXG4gICAgICovXHJcbiAgICBfTmFub1NRTFF1ZXJ5LnByb3RvdHlwZS5vcmRlckJ5ID0gZnVuY3Rpb24gKGFyZ3MpIHtcclxuICAgICAgICB0aGlzLl9xdWVyeS5vcmRlckJ5ID0gYXJncztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdyb3VwIEJ5IGNvbW1hbmQsIHR5cGljYWxseSB1c2VkIHdpdGggYW4gYWdncmVnYXRlIGZ1bmN0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEV4YW1wbGU6XHJcbiAgICAgKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqIG5TUUwoXCJ1c2Vyc1wiKS5xdWVyeShcInNlbGVjdFwiLFtcImZhdm9yaXRlQ29sb3JcIixcImNvdW50KCopXCJdKS5ncm91cEJ5KHtcImZhdm9yaXRlQ29sb3JcIjpcImFzY1wifSkuZXhlYygpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyB3aWxsIHByb3ZpZGUgYSBsaXN0IG9mIGFsbCBmYXZvcml0ZSBjb2xvcnMgYW5kIGhvdyBtYW55IGVhY2ggb2YgdGhlbSBhcmUgaW4gdGhlIGRiLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7KHtba2V5OiBzdHJpbmddOlwiYXNjXCJ8XCJkZXNjXCJ9KX0gY29sdW1uc1xyXG4gICAgICogQHJldHVybnMge19OYW5vU1FMUXVlcnl9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIF9OYW5vU1FMUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxRdWVyeS5wcm90b3R5cGUuZ3JvdXBCeSA9IGZ1bmN0aW9uIChjb2x1bW5zKSB7XHJcbiAgICAgICAgdGhpcy5fcXVlcnkuZ3JvdXBCeSA9IGNvbHVtbnM7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBIYXZpbmcgc3RhdGVtZW50LCB1c2VkIHRvIGZpbHRlciBHcm91cCBCWSBzdGF0ZW1lbnRzLiBTeW50YXggaXMgaWRlbnRpY2FsIHRvIHdoZXJlIHN0YXRlbWVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge19OYW5vU1FMUXVlcnl9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIF9OYW5vU1FMUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxRdWVyeS5wcm90b3R5cGUuaGF2aW5nID0gZnVuY3Rpb24gKGFyZ3MpIHtcclxuICAgICAgICBpZiAoIWFyZ3MubGVuZ3RoIHx8ICFBcnJheS5pc0FycmF5KGFyZ3MpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gXCJIYXZpbmcgY29uZGl0aW9uIHJlcXVpcmVzIGFuIGFycmF5IVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9xdWVyeS5oYXZpbmcgPSBhcmdzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSm9pbiBjb21tYW5kLlxyXG4gICAgICpcclxuICAgICAqIEV4YW1wbGU6XHJcbiAgICAgKlxyXG4gICAgICogYGBgdHNcclxuICAgICAqICBuU1FMKFwib3JkZXJzXCIpXHJcbiAgICAgKiAgLnF1ZXJ5KFwic2VsZWN0XCIsIFtcIm9yZGVycy5pZFwiLFwib3JkZXJzLnRpdGxlXCIsXCJ1c2Vycy5uYW1lXCJdKVxyXG4gICAgICogIC53aGVyZShbXCJvcmRlcnMuc3RhdHVzXCIsXCI9XCIsXCJjb21wbGV0ZVwiXSlcclxuICAgICAqICAub3JkZXJCeSh7XCJvcmRlcnMuZGF0ZVwiOlwiYXNjXCJ9KVxyXG4gICAgICogIC5qb2luKHtcclxuICAgICAqICAgICAgdHlwZTpcImlubmVyXCIsXHJcbiAgICAgKiAgICAgIHRhYmxlOlwidXNlcnNcIixcclxuICAgICAqICAgICAgd2hlcmU6W1wib3JkZXJzLmN1c3RvbWVySURcIixcIj1cIixcInVzZXIuaWRcIl1cclxuICAgICAqICB9KS5leGVjKCk7XHJcbiAgICAgKmBgYFxyXG4gICAgICogQSBmZXcgbm90ZXMgb24gdGhlIGpvaW4gY29tbWFuZDpcclxuICAgICAqIDEuIFlvdSBtdXNlIHVzZSBkb3Qgbm90YXRpb24gd2l0aCB0aGUgdGFibGUgbmFtZXMgaW4gYWxsIFwid2hlcmVcIiwgXCJzZWxlY3RcIiwgXCJvcmRlcmJ5XCIsIGFuZCBcImdyb3VwYnlcIiBhcmd1bWVudHMuXHJcbiAgICAgKiAyLiBQb3NzaWJsZSBqb2luIHR5cGVzIGFyZSBgaW5uZXJgLCBgbGVmdGAsIGByaWdodGAsIGFuZCBgb3V0ZXJgLlxyXG4gICAgICogMy4gVGhlIFwidGFibGVcIiBhcmd1bWVudCBsZXRzIHlvdSBkZXRlcm1pbmUgdGhlIGRhdGEgb24gdGhlIHJpZ2h0IHNpZGUgb2YgdGhlIGpvaW4uXHJcbiAgICAgKiA0LiBUaGUgXCJ3aGVyZVwiIGFyZ3VtZW50IGxldHMgeW91IHNldCB3aGF0IGNvbmRpdGlvbnMgdGhlIHRhYmxlcyBhcmUgam9pbmVkIG9uLlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtKb2luQXJnc30gYXJnc1xyXG4gICAgICogQHJldHVybnMge19OYW5vU1FMUXVlcnl9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIF9OYW5vU1FMUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxRdWVyeS5wcm90b3R5cGUuam9pbiA9IGZ1bmN0aW9uIChhcmdzKSB7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5fcXVlcnkudGFibGUpKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiQ2FuJ3QgSk9JTiB3aXRoIGluc3RhbmNlIHRhYmxlIVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFhcmdzLnRhYmxlIHx8ICFhcmdzLnR5cGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fZXJyb3IgPSBcIkpvaW4gY29tbWFuZCByZXF1aXJlcyB0YWJsZSBhbmQgdHlwZSBhcmd1bWVudHMhXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3F1ZXJ5LmpvaW4gPSBhcmdzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogTGltaXRzIHRoZSByZXN1bHQgdG8gYSBzcGVjaWZpYyBhbW91bnQuICBFeGFtcGxlOlxyXG4gICAgICpcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAubGltaXQoMjApIC8vIExpbWl0IHRvIHRoZSBmaXJzdCAyMCByZXN1bHRzXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXJnc1xyXG4gICAgICogQHJldHVybnMge19OYW5vU1FMUXVlcnl9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIF9OYW5vU1FMUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxRdWVyeS5wcm90b3R5cGUubGltaXQgPSBmdW5jdGlvbiAoYXJncykge1xyXG4gICAgICAgIHRoaXMuX3F1ZXJ5LmxpbWl0ID0gYXJncztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFBlcmZvcm0gYSB0cmllIHNlYXJjaCBvbiBhIHRyaWUgY29sdW1uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdUb1NlYXJjaFxyXG4gICAgICogQHJldHVybnMge19OYW5vU1FMUXVlcnl9XHJcbiAgICAgKlxyXG4gICAgICogQG1lbWJlck9mIF9OYW5vU1FMUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxRdWVyeS5wcm90b3R5cGUudHJpZVNlYXJjaCA9IGZ1bmN0aW9uIChjb2x1bW4sIHN0cmluZ1RvU2VhcmNoKSB7XHJcbiAgICAgICAgdGhpcy5fcXVlcnkudHJpZSA9IHsgY29sdW1uOiBjb2x1bW4sIHNlYXJjaDogc3RyaW5nVG9TZWFyY2ggfTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFBhc3MgY29tbWVudHMgYWxvbmcgd2l0aCB0aGUgcXVlcnkuXHJcbiAgICAgKiBUaGVzZSBjb21tZW50cyB3aWxsIGJlIGVtaXR0ZWQgYWxvbmcgd2l0aCB0aGUgb3RoZXIgcXVlcnkgZGF0YXkgYnkgdGhlIGV2ZW50IHN5c3RlbSwgdXNlZnVsIGZvciB0cmFja2luZyBxdWVyaWVzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb21tZW50XHJcbiAgICAgKiBAcmV0dXJucyB7X05hbm9TUUxRdWVyeX1cclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFF1ZXJ5XHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMUXVlcnkucHJvdG90eXBlLmNvbW1lbnQgPSBmdW5jdGlvbiAoY29tbWVudCkge1xyXG4gICAgICAgIHRoaXMuX3F1ZXJ5LmNvbW1lbnRzLnB1c2goY29tbWVudCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJmb3JtIGN1c3RvbSBhY3Rpb25zIHN1cHBvcnRlZCBieSBwbHVnaW5zLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7Li4uYW55W119IGFyZ3NcclxuICAgICAqIEByZXR1cm5zIHtfTmFub1NRTFF1ZXJ5fVxyXG4gICAgICogQG1lbWJlcm9mIF9OYW5vU1FMUXVlcnlcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxRdWVyeS5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9xdWVyeS5leHRlbmQgPSBhcmdzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogT2Zmc2V0cyB0aGUgcmVzdWx0cyBieSBhIHNwZWNpZmljIGFtb3VudCBmcm9tIHRoZSBiZWdpbm5pbmcuICBFeGFtcGxlOlxyXG4gICAgICpcclxuICAgICAqIGBgYHRzXHJcbiAgICAgKiAub2Zmc2V0KDEwKSAvLyBTa2lwIHRoZSBmaXJzdCAxMCByZXN1bHRzLlxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFyZ3NcclxuICAgICAqIEByZXR1cm5zIHtfTmFub1NRTFF1ZXJ5fVxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJPZiBfTmFub1NRTFF1ZXJ5XHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMUXVlcnkucHJvdG90eXBlLm9mZnNldCA9IGZ1bmN0aW9uIChhcmdzKSB7XHJcbiAgICAgICAgdGhpcy5fcXVlcnkub2Zmc2V0ID0gYXJncztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEV4cG9ydCB0aGUgY3VycmVudCBxdWVyeSB0byBhIENTViBmaWxlLCB1c2UgaW4gcGxhY2Ugb2YgXCJleGVjKClcIjtcclxuICAgICAqXHJcbiAgICAgKiBFeGFtcGxlOlxyXG4gICAgICogblNRTChcInVzZXJzXCIpLnF1ZXJ5KFwic2VsZWN0XCIpLnRvQ1NWKHRydWUpLnRoZW4oZnVuY3Rpb24oY3N2LCBkYikge1xyXG4gICAgICogICBjb25zb2xlLmxvZyhjc3YpO1xyXG4gICAgICogICAvLyBSZXR1cm5zIHNvbWV0aGluZyBsaWtlOlxyXG4gICAgICogICBpZCxuYW1lLHBhc3MscG9zdElEc1xyXG4gICAgICogICAxLFwic2NvdHRcIixcIjEyMzRcIixcIlsxLDIsMyw0XVwiXHJcbiAgICAgKiAgIDIsXCJqZWJcIixcIjU2NzhcIixcIls1LDYsNyw4XVwiXHJcbiAgICAgKiB9KTtcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoZWFkZXJzXVxyXG4gICAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cclxuICAgICAqXHJcbiAgICAgKiBAbWVtYmVyT2YgTmFub1NRTEluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMUXVlcnkucHJvdG90eXBlLnRvQ1NWID0gZnVuY3Rpb24gKGhlYWRlcnMpIHtcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyB1dGlsaXRpZXNfMS5Qcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikge1xyXG4gICAgICAgICAgICB0LmV4ZWMoKS50aGVuKGZ1bmN0aW9uIChqc29uKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3N2ID0gW107XHJcbiAgICAgICAgICAgICAgICBpZiAoIWpzb24ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzKFwiXCIsIHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGhlYWRlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjc3YucHVzaChPYmplY3Qua2V5cyhqc29uWzBdKS5qb2luKFwiLFwiKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBqc29uLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNzdi5wdXNoKE9iamVjdC5rZXlzKHJvdykubWFwKGZ1bmN0aW9uIChrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyb3dba10gPT09IG51bGwgfHwgcm93W2tdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHJvd1trXSA9PT0gXCJvYmplY3RcIiA/ICdcIicgKyBKU09OLnN0cmluZ2lmeShyb3dba10pLnJlcGxhY2UoL1xcXCIvZywgJ1xcJycpICsgJ1wiJyA6IHJvd1trXTtcclxuICAgICAgICAgICAgICAgICAgICB9KS5qb2luKFwiLFwiKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJlcyhjc3Yuam9pbihcIlxcblwiKSwgdCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUGFzcyBpbiBhIHF1ZXJ5IG9iamVjdCB0byBtYW51YWxseSBleGVjdXRlIGEgcXVlcnkgYWdhaW5zdCB0aGUgc3lzdGVtLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7SWRiUXVlcnl9IHF1ZXJ5XHJcbiAgICAgKiBAcGFyYW0geyhlcnI6IGFueSwgcmVzdWx0OiBhbnlbXSkgPT4gdm9pZH0gW2NvbXBsZXRlXVxyXG4gICAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFF1ZXJ5XHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMUXVlcnkucHJvdG90eXBlLm1hbnVhbEV4ZWMgPSBmdW5jdGlvbiAocXVlcnkpIHtcclxuICAgICAgICB0aGlzLl9xdWVyeSA9IF9fYXNzaWduKHt9LCB0aGlzLl9xdWVyeSwgcXVlcnkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmV4ZWMoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZSBkZW5vcm1hbGl6YXRpb24gcmVxdWVzdHMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvblxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqIEBtZW1iZXJvZiBfTmFub1NRTFF1ZXJ5XHJcbiAgICAgKi9cclxuICAgIF9OYW5vU1FMUXVlcnkucHJvdG90eXBlLmRlbm9ybWFsaXphdGlvblF1ZXJ5ID0gZnVuY3Rpb24gKGFjdGlvbikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIG5ldyB1dGlsaXRpZXNfMS5Qcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGFjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInRvY29sdW1uXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZuc1RvUnVuXzEgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX3F1ZXJ5LmFjdGlvbkFyZ3MgJiYgX3RoaXMuX3F1ZXJ5LmFjdGlvbkFyZ3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKF90aGlzLl9kYi50b0NvbFJ1bGVzW190aGlzLl9xdWVyeS50YWJsZV0pLmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gX3RoaXMuX3F1ZXJ5LmFjdGlvbkFyZ3MuaW5kZXhPZihjKSAhPT0gLTE7IH0pLmZvckVhY2goZnVuY3Rpb24gKGNvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm5zVG9SdW5fMVtjb2xdID0gX3RoaXMuX2RiLnRvQ29sUnVsZXNbX3RoaXMuX3F1ZXJ5LnRhYmxlXVtjb2xdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZuc1RvUnVuXzEgPSBfdGhpcy5fZGIudG9Db2xSdWxlc1tfdGhpcy5fcXVlcnkudGFibGVdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcXVlcnkuYWN0aW9uID0gXCJzZWxlY3RcIjtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcXVlcnkuYWN0aW9uQXJncyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29sdW1uc18xID0gT2JqZWN0LmtleXMoZm5zVG9SdW5fMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcnVuUXVlcnkoX3RoaXMsIGZ1bmN0aW9uIChyb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxpdGllc18xLmZhc3RDSEFJTihyb3dzLCBmdW5jdGlvbiAocm93LCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmlzRnJvemVuKHJvdykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3cgPSB1dGlsaXRpZXNfMS5fYXNzaWduKHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsaXRpZXNfMS5mYXN0QUxMKGNvbHVtbnNfMSwgZnVuY3Rpb24gKGNvbCwgaSwgbmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmbiA9IF90aGlzLl9kYi50b0NvbEZuc1tfdGhpcy5fcXVlcnkudGFibGVdW2Zuc1RvUnVuXzFbY29sXVswXV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm4uYXBwbHkobnVsbCwgW3Jvd1tjb2xdLCBmdW5jdGlvbiAobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd1tjb2xdID0gbmV3VmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLmNvbmNhdChmbnNUb1J1bl8xW2NvbF0uZmlsdGVyKGZ1bmN0aW9uICh2LCBpKSB7IHJldHVybiBpID4gMDsgfSkubWFwKGZ1bmN0aW9uIChjKSB7IHJldHVybiByb3dbY107IH0pKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZGIucXVlcnkoXCJ1cHNlcnRcIiwgcm93KS5tYW51YWxFeGVjKHsgdGFibGU6IF90aGlzLl9xdWVyeS50YWJsZSB9KS50aGVuKGRvbmUpLmNhdGNoKGRvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzKHsgbXNnOiByb3dzLmxlbmd0aCArIFwiIHJvd3MgbW9kaWZpZWRcIiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwidG9yb3dcIjpcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZm5LZXkgPSAoX3RoaXMuX3F1ZXJ5LmFjdGlvbkFyZ3MgfHwgXCJcIikucmVwbGFjZShcIigpXCIsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fZGIudG9Sb3dGbnNbX3RoaXMuX3F1ZXJ5LnRhYmxlXSAmJiBfdGhpcy5fZGIudG9Sb3dGbnNbX3RoaXMuX3F1ZXJ5LnRhYmxlXVtmbktleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZuXzEgPSBfdGhpcy5fZGIudG9Sb3dGbnNbX3RoaXMuX3F1ZXJ5LnRhYmxlXVtmbktleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBQS18xID0gX3RoaXMuX2RiLnRhYmxlUEtzW190aGlzLl9xdWVyeS50YWJsZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fcXVlcnkub24gJiYgX3RoaXMuX3F1ZXJ5Lm9uLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChfdGhpcy5fcXVlcnkub24sIGZ1bmN0aW9uIChwaywgaSwgZG9uZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZuXzEocGssIHt9LCBmdW5jdGlvbiAobmV3Um93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Jvd1tQS18xXSA9IHBrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZGIucXVlcnkoXCJ1cHNlcnRcIiwgbmV3Um93KS5tYW51YWxFeGVjKHsgdGFibGU6IF90aGlzLl9xdWVyeS50YWJsZSB9KS50aGVuKGRvbmUpLmNhdGNoKGRvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzKFt7IG1zZzogKF90aGlzLl9xdWVyeS5vbiB8fCBbXSkubGVuZ3RoICsgXCIgcm93cyBtb2RpZmllZCBvciBhZGRlZC5cIiB9XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcXVlcnkuYWN0aW9uID0gXCJzZWxlY3RcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3F1ZXJ5LmFjdGlvbkFyZ3MgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1blF1ZXJ5KF90aGlzLCBmdW5jdGlvbiAocm93cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbGl0aWVzXzEuZmFzdEFMTChyb3dzLCBmdW5jdGlvbiAocm93LCBpLCBkb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5pc0Zyb3plbihyb3cpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdyA9IHV0aWxpdGllc18xLl9hc3NpZ24ocm93KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm5fMShyb3dbUEtfMV0sIHJvdywgZnVuY3Rpb24gKG5ld1Jvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdSb3dbUEtfMV0gPSByb3dbUEtfMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9kYi5xdWVyeShcInVwc2VydFwiLCBuZXdSb3cpLm1hbnVhbEV4ZWMoeyB0YWJsZTogX3RoaXMuX3F1ZXJ5LnRhYmxlIH0pLnRoZW4oZG9uZSkuY2F0Y2goZG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMoeyBtc2c6IHJvd3MubGVuZ3RoICsgXCIgcm93cyBtb2RpZmllZFwiIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqKFwiTm8gZnVuY3Rpb24gXCIgKyBfdGhpcy5fcXVlcnkuYWN0aW9uQXJncyArIFwiIGZvdW5kIHRvIHBlcmZvcm0gdXBkYXRlcyFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEV4ZWN1dGVzIHRoZSBjdXJyZW50IHBlbmRpbmcgcXVlcnkgdG8gdGhlIGRiIGVuZ2luZSwgcmV0dXJucyBhIHByb21pc2Ugd2l0aCB0aGUgcm93cyBhcyBvYmplY3RzIGluIGFuIGFycmF5LlxyXG4gICAgICpcclxuICAgICAqIEV4YW1wbGU6XHJcbiAgICAgKiBuU1FMKFwidXNlcnNcIikucXVlcnkoXCJzZWxlY3RcIikuZXhlYygpLnRoZW4oZnVuY3Rpb24ocm93cykge1xyXG4gICAgICogICAgIGNvbnNvbGUubG9nKHJvd3MpIC8vIDw9IFt7aWQ6MSx1c2VybmFtZTpcIlNjb3R0XCIscGFzc3dvcmQ6XCIxMjM0XCJ9LHtpZDoyLHVzZXJuYW1lOlwiSmViXCIscGFzc3dvcmQ6XCIxMjM0XCJ9XVxyXG4gICAgICogICAgIHJldHVybiBuU1FMKCkucXVlcnkoXCJ1cHNlcnRcIix7cGFzc3dvcmQ6XCJzb21ldGhpbmcgbW9yZSBzZWN1cmVcIn0pLndoZXJlKFtcImlkXCIsXCI9XCIsMV0pLmV4ZWMoKTtcclxuICAgICAqIH0pLnRoZW4oZnVuY3Rpb24ocm93cykge1xyXG4gICAgICogIC4uLlxyXG4gICAgICogfSkuLi5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7KFByb21pc2U8QXJyYXk8T2JqZWN0Pj4pfVxyXG4gICAgICpcclxuICAgICAqIEBtZW1iZXJPZiBOYW5vU1FMSW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgX05hbm9TUUxRdWVyeS5wcm90b3R5cGUuZXhlYyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLl9xdWVyeS50YWJsZSA9PT0gXCIqXCIpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB2YXIgdCA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGEgPSB0aGlzLl9xdWVyeS5hY3Rpb24udG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBpZiAoW1widG9jb2x1bW5cIiwgXCJ0b3Jvd1wiXS5pbmRleE9mKGEpID4gLTEpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3F1ZXJ5LmRlYm91bmNlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVub3JtYWxpemF0aW9uS2V5XzEgPSB1dGlsaXRpZXNfMS5oYXNoKEpTT04uc3RyaW5naWZ5KFt0aGlzLl9xdWVyeS50YWJsZSwgYSwgdGhpcy5fcXVlcnkuYWN0aW9uQXJncywgdGhpcy5fcXVlcnkub24sIHRoaXMuX3F1ZXJ5LndoZXJlXS5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHI7IH0pKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHV0aWxpdGllc18xLlByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlYm91bmNlVGltZXJzW2Rlbm9ybWFsaXphdGlvbktleV8xXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoZGVib3VuY2VUaW1lcnNbZGVub3JtYWxpemF0aW9uS2V5XzFdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGVib3VuY2VUaW1lcnNbZGVub3JtYWxpemF0aW9uS2V5XzFdID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlbm9ybWFsaXphdGlvblF1ZXJ5KGEpLnRoZW4ocmVzKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBfdGhpcy5fcXVlcnkuZGVib3VuY2UpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVub3JtYWxpemF0aW9uUXVlcnkoYSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChbXCJzZWxlY3RcIiwgXCJ1cHNlcnRcIiwgXCJkZWxldGVcIiwgXCJkcm9wXCIsIFwic2hvdyB0YWJsZXNcIiwgXCJkZXNjcmliZVwiXS5pbmRleE9mKGEpID4gLTEpIHtcclxuICAgICAgICAgICAgdmFyIG5ld0FyZ3NfMSA9IHRoaXMuX3F1ZXJ5LmFjdGlvbkFyZ3MgfHwgKGEgPT09IFwic2VsZWN0XCIgfHwgYSA9PT0gXCJkZWxldGVcIiA/IFtdIDoge30pO1xyXG4gICAgICAgICAgICBpZiAoYSA9PT0gXCJ1cHNlcnRcIikge1xyXG4gICAgICAgICAgICAgICAgLy8gQ2FzdCByb3cgdHlwZXMgYW5kIHJlbW92ZSBjb2x1bW5zIHRoYXQgZG9uJ3QgZXhpc3QgaW4gdGhlIGRhdGEgbW9kZWxcclxuICAgICAgICAgICAgICAgIHZhciBpbnB1dEFyZ3NfMSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vZGVscyA9IHRoaXMuX2RiLmRhdGFNb2RlbHNbdGhpcy5fcXVlcnkudGFibGVdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGsgPSAwO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGsgPCBtb2RlbHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0FyZ3NfMVttb2RlbHNba10ua2V5XSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0QXJnc18xW21vZGVsc1trXS5rZXldID0gdXRpbGl0aWVzXzEuY2FzdChtb2RlbHNba10udHlwZSwgbmV3QXJnc18xW21vZGVsc1trXS5rZXldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaysrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gaW5zZXJ0IHdpbGRjYXJkIGNvbHVtbnNcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9kYi5za2lwUHVyZ2VbdGhpcy5fcXVlcnkudGFibGVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGVsQ29sdW1uc18xID0gbW9kZWxzLm1hcChmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5rZXk7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2x1bW5zID0gT2JqZWN0LmtleXMobmV3QXJnc18xKS5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIG1vZGVsQ29sdW1uc18xLmluZGV4T2YoYykgPT09IC0xOyB9KTsgLy8gd2lsZGNhcmQgY29sdW1uc1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0QXJnc18xW2NvbF0gPSBuZXdBcmdzXzFbY29sXTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG5ld0FyZ3NfMSA9IGlucHV0QXJnc18xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3F1ZXJ5LmFjdGlvbiA9IGE7XHJcbiAgICAgICAgICAgIHRoaXMuX3F1ZXJ5LmFjdGlvbkFyZ3MgPSB0aGlzLl9xdWVyeS5hY3Rpb25BcmdzID8gbmV3QXJnc18xIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJObyB2YWxpZCBkYXRhYmFzZSBhY3Rpb24hXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IHV0aWxpdGllc18xLlByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XHJcbiAgICAgICAgICAgIC8vIGhhbmRsZSBpbnN0YW5jZSBxdWVyaWVzXHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KF90aGlzLl9xdWVyeS50YWJsZSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fZGIuaUIuZG9FeGVjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2RiLmlCLmRvRXhlYyhfdGhpcy5fcXVlcnksIGZ1bmN0aW9uIChxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyhxLnJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCF0Ll9kYi5wbHVnaW5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdC5fZXJyb3IgPSBcIk5vIHBsdWdpbnMsIG5vdGhpbmcgdG8gZG8hXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHQuX2Vycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZWoodC5fZXJyb3IsIF90aGlzLl9kYik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKF90aGlzLl9kYi5xdWVyeU1vZCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX2RiLnF1ZXJ5TW9kKF90aGlzLl9xdWVyeSwgZnVuY3Rpb24gKG5ld1EpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcXVlcnkgPSBuZXdRO1xyXG4gICAgICAgICAgICAgICAgICAgIHJ1blF1ZXJ5KF90aGlzLCByZXMpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBydW5RdWVyeShfdGhpcywgcmVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfTmFub1NRTFF1ZXJ5O1xyXG59KCkpO1xyXG5leHBvcnRzLl9OYW5vU1FMUXVlcnkgPSBfTmFub1NRTFF1ZXJ5O1xyXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJ1xuaW1wb3J0IHtBY2NvdW50U3RhdHVzLCBSYXRpbmd9IGZyb20gJy4uL3NyYy9pbmRleCdcbmltcG9ydCB7blNRTH0gZnJvbSAnbmFuby1zcWwnXG5pbXBvcnQgQmFsYW5jZVRhYmxlIGZyb20gJy4uL3NyYy9kYi9Vc2VyVGFibGUnXG5cbkJhbGFuY2VUYWJsZS5vbkNvbm5lY3RlZCgocmVzKSA9PiB7XG4gIHJldHVybiBuU1FMKCkucXVlcnkoJ3Vwc2VydCcsIHtcbiAgICB1c2VySWQ6ICdhbnRvbicsIGJhbGFuY2U6IDIwXG4gIH0pLmV4ZWMoKVxufSlcblxuZnVuY3Rpb24gQ29tcG9uZW50RGlzcGxheSAoKSB7XG4gIHJldHVybiA8ZGl2PlxuICAgIDxkaXY+PEFjY291bnRTdGF0dXMgLz48L2Rpdj5cbiAgICA8ZGl2PjxSYXRpbmcvPjwvZGl2PlxuICA8L2Rpdj5cbn1cblxuUmVhY3RET00ucmVuZGVyKFxuICA8Q29tcG9uZW50RGlzcGxheS8+LFxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdCcpXG4pXG4iLCJ2YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0geyB2ZXJzaW9uOiAnMi41LjUnIH07XG5pZiAodHlwZW9mIF9fZSA9PSAnbnVtYmVyJykgX19lID0gY29yZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuIiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg2I2lzc3VlY29tbWVudC0xMTU3NTkwMjhcbnZhciBnbG9iYWwgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lk1hdGggPT0gTWF0aFxuICA/IHdpbmRvdyA6IHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnICYmIHNlbGYuTWF0aCA9PSBNYXRoID8gc2VsZlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcbiAgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuaWYgKHR5cGVvZiBfX2cgPT0gJ251bWJlcicpIF9fZyA9IGdsb2JhbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuIiwiLy8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxubW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH0gfSkuYSAhPSA3O1xufSk7XG4iLCJ2YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJyk7XG52YXIgdG9QcmltaXRpdmUgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKTtcbnZhciBkUCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gZFAoTywgUCwgQXR0cmlidXRlcyk7XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuICBpZiAoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKSB0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuICBpZiAoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKSBPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcbiAgcmV0dXJuIE87XG59O1xuIiwidmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwga2V5KSB7XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGl0LCBrZXkpO1xufTtcbiIsInZhciBzdG9yZSA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCd3a3MnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuL191aWQnKTtcbnZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5TeW1ib2w7XG52YXIgVVNFX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT0gJ2Z1bmN0aW9uJztcblxudmFyICRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID1cbiAgICBVU0VfU1lNQk9MICYmIFN5bWJvbFtuYW1lXSB8fCAoVVNFX1NZTUJPTCA/IFN5bWJvbCA6IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xufTtcblxuJGV4cG9ydHMuc3RvcmUgPSBzdG9yZTtcbiIsIi8vIHRvIGluZGV4ZWQgb2JqZWN0LCB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xudmFyIElPYmplY3QgPSByZXF1aXJlKCcuL19pb2JqZWN0Jyk7XG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBJT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xufTtcbiIsInZhciBkUCA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xudmFyIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIHJldHVybiBkUC5mKG9iamVjdCwga2V5LCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG59IDogZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICByZXR1cm4gb2JqZWN0O1xufTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIGN0eCA9IHJlcXVpcmUoJy4vX2N0eCcpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG5cbnZhciAkZXhwb3J0ID0gZnVuY3Rpb24gKHR5cGUsIG5hbWUsIHNvdXJjZSkge1xuICB2YXIgSVNfRk9SQ0VEID0gdHlwZSAmICRleHBvcnQuRjtcbiAgdmFyIElTX0dMT0JBTCA9IHR5cGUgJiAkZXhwb3J0Lkc7XG4gIHZhciBJU19TVEFUSUMgPSB0eXBlICYgJGV4cG9ydC5TO1xuICB2YXIgSVNfUFJPVE8gPSB0eXBlICYgJGV4cG9ydC5QO1xuICB2YXIgSVNfQklORCA9IHR5cGUgJiAkZXhwb3J0LkI7XG4gIHZhciBJU19XUkFQID0gdHlwZSAmICRleHBvcnQuVztcbiAgdmFyIGV4cG9ydHMgPSBJU19HTE9CQUwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KTtcbiAgdmFyIGV4cFByb3RvID0gZXhwb3J0c1tQUk9UT1RZUEVdO1xuICB2YXIgdGFyZ2V0ID0gSVNfR0xPQkFMID8gZ2xvYmFsIDogSVNfU1RBVElDID8gZ2xvYmFsW25hbWVdIDogKGdsb2JhbFtuYW1lXSB8fCB7fSlbUFJPVE9UWVBFXTtcbiAgdmFyIGtleSwgb3duLCBvdXQ7XG4gIGlmIChJU19HTE9CQUwpIHNvdXJjZSA9IG5hbWU7XG4gIGZvciAoa2V5IGluIHNvdXJjZSkge1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgaWYgKG93biAmJiBoYXMoZXhwb3J0cywga2V5KSkgY29udGludWU7XG4gICAgLy8gZXhwb3J0IG5hdGl2ZSBvciBwYXNzZWRcbiAgICBvdXQgPSBvd24gPyB0YXJnZXRba2V5XSA6IHNvdXJjZVtrZXldO1xuICAgIC8vIHByZXZlbnQgZ2xvYmFsIHBvbGx1dGlvbiBmb3IgbmFtZXNwYWNlc1xuICAgIGV4cG9ydHNba2V5XSA9IElTX0dMT0JBTCAmJiB0eXBlb2YgdGFyZ2V0W2tleV0gIT0gJ2Z1bmN0aW9uJyA/IHNvdXJjZVtrZXldXG4gICAgLy8gYmluZCB0aW1lcnMgdG8gZ2xvYmFsIGZvciBjYWxsIGZyb20gZXhwb3J0IGNvbnRleHRcbiAgICA6IElTX0JJTkQgJiYgb3duID8gY3R4KG91dCwgZ2xvYmFsKVxuICAgIC8vIHdyYXAgZ2xvYmFsIGNvbnN0cnVjdG9ycyBmb3IgcHJldmVudCBjaGFuZ2UgdGhlbSBpbiBsaWJyYXJ5XG4gICAgOiBJU19XUkFQICYmIHRhcmdldFtrZXldID09IG91dCA/IChmdW5jdGlvbiAoQykge1xuICAgICAgdmFyIEYgPSBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIEMpIHtcbiAgICAgICAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIG5ldyBDKCk7XG4gICAgICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgQyhhKTtcbiAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDKGEsIGIpO1xuICAgICAgICAgIH0gcmV0dXJuIG5ldyBDKGEsIGIsIGMpO1xuICAgICAgICB9IHJldHVybiBDLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgICAgRltQUk9UT1RZUEVdID0gQ1tQUk9UT1RZUEVdO1xuICAgICAgcmV0dXJuIEY7XG4gICAgLy8gbWFrZSBzdGF0aWMgdmVyc2lvbnMgZm9yIHByb3RvdHlwZSBtZXRob2RzXG4gICAgfSkob3V0KSA6IElTX1BST1RPICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IGN0eChGdW5jdGlvbi5jYWxsLCBvdXQpIDogb3V0O1xuICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5tZXRob2RzLiVOQU1FJVxuICAgIGlmIChJU19QUk9UTykge1xuICAgICAgKGV4cG9ydHMudmlydHVhbCB8fCAoZXhwb3J0cy52aXJ0dWFsID0ge30pKVtrZXldID0gb3V0O1xuICAgICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLnByb3RvdHlwZS4lTkFNRSVcbiAgICAgIGlmICh0eXBlICYgJGV4cG9ydC5SICYmIGV4cFByb3RvICYmICFleHBQcm90b1trZXldKSBoaWRlKGV4cFByb3RvLCBrZXksIG91dCk7XG4gICAgfVxuICB9XG59O1xuLy8gdHlwZSBiaXRtYXBcbiRleHBvcnQuRiA9IDE7ICAgLy8gZm9yY2VkXG4kZXhwb3J0LkcgPSAyOyAgIC8vIGdsb2JhbFxuJGV4cG9ydC5TID0gNDsgICAvLyBzdGF0aWNcbiRleHBvcnQuUCA9IDg7ICAgLy8gcHJvdG9cbiRleHBvcnQuQiA9IDE2OyAgLy8gYmluZFxuJGV4cG9ydC5XID0gMzI7ICAvLyB3cmFwXG4kZXhwb3J0LlUgPSA2NDsgIC8vIHNhZmVcbiRleHBvcnQuUiA9IDEyODsgLy8gcmVhbCBwcm90byBtZXRob2QgZm9yIGBsaWJyYXJ5YFxubW9kdWxlLmV4cG9ydHMgPSAkZXhwb3J0O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LnByb2R1Y3Rpb24ubWluLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LmRldmVsb3BtZW50LmpzJyk7XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChleGVjKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZXhlYygpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG4iLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmICghaXNPYmplY3QoaXQpKSB0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG4gIHJldHVybiBpdDtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChiaXRtYXAsIHZhbHVlKSB7XG4gIHJldHVybiB7XG4gICAgZW51bWVyYWJsZTogIShiaXRtYXAgJiAxKSxcbiAgICBjb25maWd1cmFibGU6ICEoYml0bWFwICYgMiksXG4gICAgd3JpdGFibGU6ICEoYml0bWFwICYgNCksXG4gICAgdmFsdWU6IHZhbHVlXG4gIH07XG59O1xuIiwidmFyIGlkID0gMDtcbnZhciBweCA9IE1hdGgucmFuZG9tKCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTtcbn07XG4iLCJleHBvcnRzLmYgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIExJQlJBUlkgPSByZXF1aXJlKCcuL19saWJyYXJ5Jyk7XG52YXIgd2tzRXh0ID0gcmVxdWlyZSgnLi9fd2tzLWV4dCcpO1xudmFyIGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgdmFyICRTeW1ib2wgPSBjb3JlLlN5bWJvbCB8fCAoY29yZS5TeW1ib2wgPSBMSUJSQVJZID8ge30gOiBnbG9iYWwuU3ltYm9sIHx8IHt9KTtcbiAgaWYgKG5hbWUuY2hhckF0KDApICE9ICdfJyAmJiAhKG5hbWUgaW4gJFN5bWJvbCkpIGRlZmluZVByb3BlcnR5KCRTeW1ib2wsIG5hbWUsIHsgdmFsdWU6IHdrc0V4dC5mKG5hbWUpIH0pO1xufTtcbiIsImV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX3drcycpO1xuIiwidmFyIGRlZiA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmY7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCB0YWcsIHN0YXQpIHtcbiAgaWYgKGl0ICYmICFoYXMoaXQgPSBzdGF0ID8gaXQgOiBpdC5wcm90b3R5cGUsIFRBRykpIGRlZihpdCwgVEFHLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHRhZyB9KTtcbn07XG4iLCIvLyBJRSA4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgJ2NvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZidcbikuc3BsaXQoJywnKTtcbiIsIi8vIDE5LjEuMi4xNCAvIDE1LjIuMy4xNCBPYmplY3Qua2V5cyhPKVxudmFyICRrZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiBrZXlzKE8pIHtcbiAgcmV0dXJuICRrZXlzKE8sIGVudW1CdWdLZXlzKTtcbn07XG4iLCIvLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGRQcyA9IHJlcXVpcmUoJy4vX29iamVjdC1kcHMnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKTtcbnZhciBJRV9QUk9UTyA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKTtcbnZhciBFbXB0eSA9IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfTtcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblxuLy8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIGlmcmFtZSBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxudmFyIGNyZWF0ZURpY3QgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIFRocmFzaCwgd2FzdGUgYW5kIHNvZG9teTogSUUgR0MgYnVnXG4gIHZhciBpZnJhbWUgPSByZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2lmcmFtZScpO1xuICB2YXIgaSA9IGVudW1CdWdLZXlzLmxlbmd0aDtcbiAgdmFyIGx0ID0gJzwnO1xuICB2YXIgZ3QgPSAnPic7XG4gIHZhciBpZnJhbWVEb2N1bWVudDtcbiAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIHJlcXVpcmUoJy4vX2h0bWwnKS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICBpZnJhbWUuc3JjID0gJ2phdmFzY3JpcHQ6JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zY3JpcHQtdXJsXG4gIC8vIGNyZWF0ZURpY3QgPSBpZnJhbWUuY29udGVudFdpbmRvdy5PYmplY3Q7XG4gIC8vIGh0bWwucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuICBpZnJhbWVEb2N1bWVudC53cml0ZShsdCArICdzY3JpcHQnICsgZ3QgKyAnZG9jdW1lbnQuRj1PYmplY3QnICsgbHQgKyAnL3NjcmlwdCcgKyBndCk7XG4gIGlmcmFtZURvY3VtZW50LmNsb3NlKCk7XG4gIGNyZWF0ZURpY3QgPSBpZnJhbWVEb2N1bWVudC5GO1xuICB3aGlsZSAoaS0tKSBkZWxldGUgY3JlYXRlRGljdFtQUk9UT1RZUEVdW2VudW1CdWdLZXlzW2ldXTtcbiAgcmV0dXJuIGNyZWF0ZURpY3QoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbiBjcmVhdGUoTywgUHJvcGVydGllcykge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoTyAhPT0gbnVsbCkge1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBhbk9iamVjdChPKTtcbiAgICByZXN1bHQgPSBuZXcgRW1wdHkoKTtcbiAgICBFbXB0eVtQUk9UT1RZUEVdID0gbnVsbDtcbiAgICAvLyBhZGQgXCJfX3Byb3RvX19cIiBmb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mIHBvbHlmaWxsXG4gICAgcmVzdWx0W0lFX1BST1RPXSA9IE87XG4gIH0gZWxzZSByZXN1bHQgPSBjcmVhdGVEaWN0KCk7XG4gIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkUHMocmVzdWx0LCBQcm9wZXJ0aWVzKTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHt9O1xuIiwibW9kdWxlLmV4cG9ydHMgPSB0cnVlO1xuIiwiLy8gNy4xLjQgVG9JbnRlZ2VyXG52YXIgY2VpbCA9IE1hdGguY2VpbDtcbnZhciBmbG9vciA9IE1hdGguZmxvb3I7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcbn07XG4iLCIvLyA3LjEuMSBUb1ByaW1pdGl2ZShpbnB1dCBbLCBQcmVmZXJyZWRUeXBlXSlcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xuLy8gaW5zdGVhZCBvZiB0aGUgRVM2IHNwZWMgdmVyc2lvbiwgd2UgZGlkbid0IGltcGxlbWVudCBAQHRvUHJpbWl0aXZlIGNhc2Vcbi8vIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IC0gZmxhZyAtIHByZWZlcnJlZCB0eXBlIGlzIGEgc3RyaW5nXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgUykge1xuICBpZiAoIWlzT2JqZWN0KGl0KSkgcmV0dXJuIGl0O1xuICB2YXIgZm4sIHZhbDtcbiAgaWYgKFMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIGlmICh0eXBlb2YgKGZuID0gaXQudmFsdWVPZikgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsO1xuICBpZiAoIVMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbn07XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXyc7XG52YXIgc3RvcmUgPSBnbG9iYWxbU0hBUkVEXSB8fCAoZ2xvYmFsW1NIQVJFRF0gPSB7fSk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB7fSk7XG59O1xuIiwidmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCdrZXlzJyk7XG52YXIgdWlkID0gcmVxdWlyZSgnLi9fdWlkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIHNoYXJlZFtrZXldIHx8IChzaGFyZWRba2V5XSA9IHVpZChrZXkpKTtcbn07XG4iLCIvLyA3LjIuMSBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ID09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogXG4gKi9cblxuZnVuY3Rpb24gbWFrZUVtcHR5RnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGFyZztcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGFjY2VwdHMgYW5kIGRpc2NhcmRzIGlucHV0czsgaXQgaGFzIG5vIHNpZGUgZWZmZWN0cy4gVGhpcyBpc1xuICogcHJpbWFyaWx5IHVzZWZ1bCBpZGlvbWF0aWNhbGx5IGZvciBvdmVycmlkYWJsZSBmdW5jdGlvbiBlbmRwb2ludHMgd2hpY2hcbiAqIGFsd2F5cyBuZWVkIHRvIGJlIGNhbGxhYmxlLCBzaW5jZSBKUyBsYWNrcyBhIG51bGwtY2FsbCBpZGlvbSBhbGEgQ29jb2EuXG4gKi9cbnZhciBlbXB0eUZ1bmN0aW9uID0gZnVuY3Rpb24gZW1wdHlGdW5jdGlvbigpIHt9O1xuXG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zID0gbWFrZUVtcHR5RnVuY3Rpb247XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2UgPSBtYWtlRW1wdHlGdW5jdGlvbihmYWxzZSk7XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKHRydWUpO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGwgPSBtYWtlRW1wdHlGdW5jdGlvbihudWxsKTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUaGlzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zQXJndW1lbnQgPSBmdW5jdGlvbiAoYXJnKSB7XG4gIHJldHVybiBhcmc7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVtcHR5RnVuY3Rpb247IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgZW1wdHlGdW5jdGlvbiA9IHJlcXVpcmUoJy4vZW1wdHlGdW5jdGlvbicpO1xuXG4vKipcbiAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcbiAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXG4gKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cbiAqL1xuXG52YXIgd2FybmluZyA9IGVtcHR5RnVuY3Rpb247XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbiBwcmludFdhcm5pbmcoZm9ybWF0KSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgfSk7XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIC8vIC0tLSBXZWxjb21lIHRvIGRlYnVnZ2luZyBSZWFjdCAtLS1cbiAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoeCkge31cbiAgfTtcblxuICB3YXJuaW5nID0gZnVuY3Rpb24gd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCkge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdgd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICsgJ21lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG5cbiAgICBpZiAoZm9ybWF0LmluZGV4T2YoJ0ZhaWxlZCBDb21wb3NpdGUgcHJvcFR5cGU6ICcpID09PSAwKSB7XG4gICAgICByZXR1cm47IC8vIElnbm9yZSBDb21wb3NpdGVDb21wb25lbnQgcHJvcHR5cGUgY2hlY2suXG4gICAgfVxuXG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yID4gMiA/IF9sZW4yIC0gMiA6IDApLCBfa2V5MiA9IDI7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5MiAtIDJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgcHJpbnRXYXJuaW5nLmFwcGx5KHVuZGVmaW5lZCwgW2Zvcm1hdF0uY29uY2F0KGFyZ3MpKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gd2FybmluZzsiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciB2YWxpZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0KGZvcm1hdCkge307XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhbGlkYXRlRm9ybWF0ID0gZnVuY3Rpb24gdmFsaWRhdGVGb3JtYXQoZm9ybWF0KSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgdmFsaWRhdGVGb3JtYXQoZm9ybWF0KTtcblxuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHZhciBlcnJvcjtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKCdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICsgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgfSkpO1xuICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB9XG5cbiAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfc2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZlwiKTtcblxudmFyIF9zZXRQcm90b3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXRQcm90b3R5cGVPZik7XG5cbnZhciBfY3JlYXRlID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2NyZWF0ZVwiKTtcblxudmFyIF9jcmVhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlKTtcblxudmFyIF90eXBlb2YyID0gcmVxdWlyZShcIi4uL2hlbHBlcnMvdHlwZW9mXCIpO1xuXG52YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArICh0eXBlb2Ygc3VwZXJDbGFzcyA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiAoMCwgX3R5cGVvZjMuZGVmYXVsdCkoc3VwZXJDbGFzcykpKTtcbiAgfVxuXG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9ICgwLCBfY3JlYXRlMi5kZWZhdWx0KShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mMi5kZWZhdWx0ID8gKDAsIF9zZXRQcm90b3R5cGVPZjIuZGVmYXVsdCkoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbn07IiwidmFyIHBJRSA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKTtcbnZhciBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIElFOF9ET01fREVGSU5FID0gcmVxdWlyZSgnLi9faWU4LWRvbS1kZWZpbmUnKTtcbnZhciBnT1BEID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGdPUEQgOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCkge1xuICBPID0gdG9JT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gZ09QRChPLCBQKTtcbiAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG4gIGlmIChoYXMoTywgUCkpIHJldHVybiBjcmVhdGVEZXNjKCFwSUUuZi5jYWxsKE8sIFApLCBPW1BdKTtcbn07XG4iLCIvLyAxOS4xLjIuNyAvIDE1LjIuMy40IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG52YXIgJGtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cy1pbnRlcm5hbCcpO1xudmFyIGhpZGRlbktleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJykuY29uY2F0KCdsZW5ndGgnLCAncHJvdG90eXBlJyk7XG5cbmV4cG9ydHMuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHx8IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoTykge1xuICByZXR1cm4gJGtleXMoTywgaGlkZGVuS2V5cyk7XG59O1xuIiwiZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbiIsInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChpdCkuc2xpY2UoOCwgLTEpO1xufTtcbiIsInZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG52YXIgYXJyYXlJbmRleE9mID0gcmVxdWlyZSgnLi9fYXJyYXktaW5jbHVkZXMnKShmYWxzZSk7XG52YXIgSUVfUFJPVE8gPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZXMpIHtcbiAgdmFyIE8gPSB0b0lPYmplY3Qob2JqZWN0KTtcbiAgdmFyIGkgPSAwO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBrZXk7XG4gIGZvciAoa2V5IGluIE8pIGlmIChrZXkgIT0gSUVfUFJPVE8pIGhhcyhPLCBrZXkpICYmIHJlc3VsdC5wdXNoKGtleSk7XG4gIC8vIERvbid0IGVudW0gYnVnICYgaGlkZGVuIGtleXNcbiAgd2hpbGUgKG5hbWVzLmxlbmd0aCA+IGkpIGlmIChoYXMoTywga2V5ID0gbmFtZXNbaSsrXSkpIHtcbiAgICB+YXJyYXlJbmRleE9mKHJlc3VsdCwga2V5KSB8fCByZXN1bHQucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19oaWRlJyk7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKTtcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuL19yZWRlZmluZScpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgJGl0ZXJDcmVhdGUgPSByZXF1aXJlKCcuL19pdGVyLWNyZWF0ZScpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciBnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4vX29iamVjdC1ncG8nKTtcbnZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIEJVR0dZID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpOyAvLyBTYWZhcmkgaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG52YXIgRkZfSVRFUkFUT1IgPSAnQEBpdGVyYXRvcic7XG52YXIgS0VZUyA9ICdrZXlzJztcbnZhciBWQUxVRVMgPSAndmFsdWVzJztcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpIHtcbiAgJGl0ZXJDcmVhdGUoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuICB2YXIgZ2V0TWV0aG9kID0gZnVuY3Rpb24gKGtpbmQpIHtcbiAgICBpZiAoIUJVR0dZICYmIGtpbmQgaW4gcHJvdG8pIHJldHVybiBwcm90b1traW5kXTtcbiAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKSB7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgICBjYXNlIFZBTFVFUzogcmV0dXJuIGZ1bmN0aW9uIHZhbHVlcygpIHsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCkgeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICB9O1xuICB2YXIgVEFHID0gTkFNRSArICcgSXRlcmF0b3InO1xuICB2YXIgREVGX1ZBTFVFUyA9IERFRkFVTFQgPT0gVkFMVUVTO1xuICB2YXIgVkFMVUVTX0JVRyA9IGZhbHNlO1xuICB2YXIgcHJvdG8gPSBCYXNlLnByb3RvdHlwZTtcbiAgdmFyICRuYXRpdmUgPSBwcm90b1tJVEVSQVRPUl0gfHwgcHJvdG9bRkZfSVRFUkFUT1JdIHx8IERFRkFVTFQgJiYgcHJvdG9bREVGQVVMVF07XG4gIHZhciAkZGVmYXVsdCA9ICRuYXRpdmUgfHwgZ2V0TWV0aG9kKERFRkFVTFQpO1xuICB2YXIgJGVudHJpZXMgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkO1xuICB2YXIgJGFueU5hdGl2ZSA9IE5BTUUgPT0gJ0FycmF5JyA/IHByb3RvLmVudHJpZXMgfHwgJG5hdGl2ZSA6ICRuYXRpdmU7XG4gIHZhciBtZXRob2RzLCBrZXksIEl0ZXJhdG9yUHJvdG90eXBlO1xuICAvLyBGaXggbmF0aXZlXG4gIGlmICgkYW55TmF0aXZlKSB7XG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZigkYW55TmF0aXZlLmNhbGwobmV3IEJhc2UoKSkpO1xuICAgIGlmIChJdGVyYXRvclByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBJdGVyYXRvclByb3RvdHlwZS5uZXh0KSB7XG4gICAgICAvLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzXG4gICAgICBzZXRUb1N0cmluZ1RhZyhJdGVyYXRvclByb3RvdHlwZSwgVEFHLCB0cnVlKTtcbiAgICAgIC8vIGZpeCBmb3Igc29tZSBvbGQgZW5naW5lc1xuICAgICAgaWYgKCFMSUJSQVJZICYmIHR5cGVvZiBJdGVyYXRvclByb3RvdHlwZVtJVEVSQVRPUl0gIT0gJ2Z1bmN0aW9uJykgaGlkZShJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuICAgIH1cbiAgfVxuICAvLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGXG4gIGlmIChERUZfVkFMVUVTICYmICRuYXRpdmUgJiYgJG5hdGl2ZS5uYW1lICE9PSBWQUxVRVMpIHtcbiAgICBWQUxVRVNfQlVHID0gdHJ1ZTtcbiAgICAkZGVmYXVsdCA9IGZ1bmN0aW9uIHZhbHVlcygpIHsgcmV0dXJuICRuYXRpdmUuY2FsbCh0aGlzKTsgfTtcbiAgfVxuICAvLyBEZWZpbmUgaXRlcmF0b3JcbiAgaWYgKCghTElCUkFSWSB8fCBGT1JDRUQpICYmIChCVUdHWSB8fCBWQUxVRVNfQlVHIHx8ICFwcm90b1tJVEVSQVRPUl0pKSB7XG4gICAgaGlkZShwcm90bywgSVRFUkFUT1IsICRkZWZhdWx0KTtcbiAgfVxuICAvLyBQbHVnIGZvciBsaWJyYXJ5XG4gIEl0ZXJhdG9yc1tOQU1FXSA9ICRkZWZhdWx0O1xuICBJdGVyYXRvcnNbVEFHXSA9IHJldHVyblRoaXM7XG4gIGlmIChERUZBVUxUKSB7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKFZBTFVFUyksXG4gICAgICBrZXlzOiBJU19TRVQgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChLRVlTKSxcbiAgICAgIGVudHJpZXM6ICRlbnRyaWVzXG4gICAgfTtcbiAgICBpZiAoRk9SQ0VEKSBmb3IgKGtleSBpbiBtZXRob2RzKSB7XG4gICAgICBpZiAoIShrZXkgaW4gcHJvdG8pKSByZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuICAgIH0gZWxzZSAkZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIChCVUdHWSB8fCBWQUxVRVNfQlVHKSwgTkFNRSwgbWV0aG9kcyk7XG4gIH1cbiAgcmV0dXJuIG1ldGhvZHM7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfaXRlcmF0b3IgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9zeW1ib2wvaXRlcmF0b3JcIik7XG5cbnZhciBfaXRlcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlcmF0b3IpO1xuXG52YXIgX3N5bWJvbCA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL3N5bWJvbFwiKTtcblxudmFyIF9zeW1ib2wyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ltYm9sKTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBfaXRlcmF0b3IyLmRlZmF1bHQgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ICYmIG9iaiAhPT0gX3N5bWJvbDIuZGVmYXVsdC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBfdHlwZW9mKF9pdGVyYXRvcjIuZGVmYXVsdCkgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqKTtcbn0gOiBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogJiYgdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IF9zeW1ib2wyLmRlZmF1bHQgJiYgb2JqICE9PSBfc3ltYm9sMi5kZWZhdWx0LnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdHlwZW9mMiA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL3R5cGVvZlwiKTtcblxudmFyIF90eXBlb2YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZW9mMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzZWxmLCBjYWxsKSB7XG4gIGlmICghc2VsZikge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuXG4gIHJldHVybiBjYWxsICYmICgodHlwZW9mIGNhbGwgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogKDAsIF90eXBlb2YzLmRlZmF1bHQpKGNhbGwpKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0oKTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn07IiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgZG9jdW1lbnQgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudDtcbi8vIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50IGlzICdvYmplY3QnIGluIG9sZCBJRVxudmFyIGlzID0gaXNPYmplY3QoZG9jdW1lbnQpICYmIGlzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGlzID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpICYmICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2RpdicpLCAnYScsIHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA3OyB9IH0pLmEgIT0gNztcbn0pO1xuIiwiLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG52YXIgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9fYS1mdW5jdGlvbicpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZm4sIHRoYXQsIGxlbmd0aCkge1xuICBhRnVuY3Rpb24oZm4pO1xuICBpZiAodGhhdCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZm47XG4gIHN3aXRjaCAobGVuZ3RoKSB7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgIH07XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIpO1xuICAgIH07XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIsIGMpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uICgvKiAuLi5hcmdzICovKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59O1xuIiwiLy8gMTkuMS4yLjkgLyAxNS4yLjMuMiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTylcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpO1xudmFyIElFX1BST1RPID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xudmFyIE9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gKE8pIHtcbiAgTyA9IHRvT2JqZWN0KE8pO1xuICBpZiAoaGFzKE8sIElFX1BST1RPKSkgcmV0dXJuIE9bSUVfUFJPVE9dO1xuICBpZiAodHlwZW9mIE8uY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBPIGluc3RhbmNlb2YgTy5jb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBPLmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgfSByZXR1cm4gTyBpbnN0YW5jZW9mIE9iamVjdCA/IE9iamVjdFByb3RvIDogbnVsbDtcbn07XG4iLCIvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZlwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG4gIHZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuICB2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSByZXF1aXJlKCcuL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldCcpO1xuICB2YXIgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XG59XG5cbi8qKlxuICogQXNzZXJ0IHRoYXQgdGhlIHZhbHVlcyBtYXRjaCB3aXRoIHRoZSB0eXBlIHNwZWNzLlxuICogRXJyb3IgbWVzc2FnZXMgYXJlIG1lbW9yaXplZCBhbmQgd2lsbCBvbmx5IGJlIHNob3duIG9uY2UuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHR5cGVTcGVjcyBNYXAgb2YgbmFtZSB0byBhIFJlYWN0UHJvcFR5cGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB2YWx1ZXMgUnVudGltZSB2YWx1ZXMgdGhhdCBuZWVkIHRvIGJlIHR5cGUtY2hlY2tlZFxuICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uIGUuZy4gXCJwcm9wXCIsIFwiY29udGV4dFwiLCBcImNoaWxkIGNvbnRleHRcIlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudE5hbWUgTmFtZSBvZiB0aGUgY29tcG9uZW50IGZvciBlcnJvciBtZXNzYWdlcy5cbiAqIEBwYXJhbSB7P0Z1bmN0aW9ufSBnZXRTdGFjayBSZXR1cm5zIHRoZSBjb21wb25lbnQgc3RhY2suXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjaGVja1Byb3BUeXBlcyh0eXBlU3BlY3MsIHZhbHVlcywgbG9jYXRpb24sIGNvbXBvbmVudE5hbWUsIGdldFN0YWNrKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgZm9yICh2YXIgdHlwZVNwZWNOYW1lIGluIHR5cGVTcGVjcykge1xuICAgICAgaWYgKHR5cGVTcGVjcy5oYXNPd25Qcm9wZXJ0eSh0eXBlU3BlY05hbWUpKSB7XG4gICAgICAgIHZhciBlcnJvcjtcbiAgICAgICAgLy8gUHJvcCB0eXBlIHZhbGlkYXRpb24gbWF5IHRocm93LiBJbiBjYXNlIHRoZXkgZG8sIHdlIGRvbid0IHdhbnQgdG9cbiAgICAgICAgLy8gZmFpbCB0aGUgcmVuZGVyIHBoYXNlIHdoZXJlIGl0IGRpZG4ndCBmYWlsIGJlZm9yZS4gU28gd2UgbG9nIGl0LlxuICAgICAgICAvLyBBZnRlciB0aGVzZSBoYXZlIGJlZW4gY2xlYW5lZCB1cCwgd2UnbGwgbGV0IHRoZW0gdGhyb3cuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbGx5IGFuIGludmFyaWFudCB0aGF0IGdldHMgY2F1Z2h0LiBJdCdzIHRoZSBzYW1lXG4gICAgICAgICAgLy8gYmVoYXZpb3IgYXMgd2l0aG91dCB0aGlzIHN0YXRlbWVudCBleGNlcHQgd2l0aCBhIGJldHRlciBtZXNzYWdlLlxuICAgICAgICAgIGludmFyaWFudCh0eXBlb2YgdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0gPT09ICdmdW5jdGlvbicsICclczogJXMgdHlwZSBgJXNgIGlzIGludmFsaWQ7IGl0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tICcgKyAndGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLCBidXQgcmVjZWl2ZWQgYCVzYC4nLCBjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycsIGxvY2F0aW9uLCB0eXBlU3BlY05hbWUsIHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSk7XG4gICAgICAgICAgZXJyb3IgPSB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSh2YWx1ZXMsIHR5cGVTcGVjTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIG51bGwsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICBlcnJvciA9IGV4O1xuICAgICAgICB9XG4gICAgICAgIHdhcm5pbmcoIWVycm9yIHx8IGVycm9yIGluc3RhbmNlb2YgRXJyb3IsICclczogdHlwZSBzcGVjaWZpY2F0aW9uIG9mICVzIGAlc2AgaXMgaW52YWxpZDsgdGhlIHR5cGUgY2hlY2tlciAnICsgJ2Z1bmN0aW9uIG11c3QgcmV0dXJuIGBudWxsYCBvciBhbiBgRXJyb3JgIGJ1dCByZXR1cm5lZCBhICVzLiAnICsgJ1lvdSBtYXkgaGF2ZSBmb3Jnb3R0ZW4gdG8gcGFzcyBhbiBhcmd1bWVudCB0byB0aGUgdHlwZSBjaGVja2VyICcgKyAnY3JlYXRvciAoYXJyYXlPZiwgaW5zdGFuY2VPZiwgb2JqZWN0T2YsIG9uZU9mLCBvbmVPZlR5cGUsIGFuZCAnICsgJ3NoYXBlIGFsbCByZXF1aXJlIGFuIGFyZ3VtZW50KS4nLCBjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycsIGxvY2F0aW9uLCB0eXBlU3BlY05hbWUsIHR5cGVvZiBlcnJvcik7XG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICEoZXJyb3IubWVzc2FnZSBpbiBsb2dnZWRUeXBlRmFpbHVyZXMpKSB7XG4gICAgICAgICAgLy8gT25seSBtb25pdG9yIHRoaXMgZmFpbHVyZSBvbmNlIGJlY2F1c2UgdGhlcmUgdGVuZHMgdG8gYmUgYSBsb3Qgb2YgdGhlXG4gICAgICAgICAgLy8gc2FtZSBlcnJvci5cbiAgICAgICAgICBsb2dnZWRUeXBlRmFpbHVyZXNbZXJyb3IubWVzc2FnZV0gPSB0cnVlO1xuXG4gICAgICAgICAgdmFyIHN0YWNrID0gZ2V0U3RhY2sgPyBnZXRTdGFjaygpIDogJyc7XG5cbiAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnRmFpbGVkICVzIHR5cGU6ICVzJXMnLCBsb2NhdGlvbiwgZXJyb3IubWVzc2FnZSwgc3RhY2sgIT0gbnVsbCA/IHN0YWNrIDogJycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY2hlY2tQcm9wVHlwZXM7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBlbXB0eU9iamVjdCA9IHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBPYmplY3QuZnJlZXplKGVtcHR5T2JqZWN0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlbXB0eU9iamVjdDsiLCIvKlxub2JqZWN0LWFzc2lnblxuKGMpIFNpbmRyZSBTb3JodXNcbkBsaWNlbnNlIE1JVFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBwcm9wSXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuZnVuY3Rpb24gdG9PYmplY3QodmFsKSB7XG5cdGlmICh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZCcpO1xuXHR9XG5cblx0cmV0dXJuIE9iamVjdCh2YWwpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRVc2VOYXRpdmUoKSB7XG5cdHRyeSB7XG5cdFx0aWYgKCFPYmplY3QuYXNzaWduKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZWN0IGJ1Z2d5IHByb3BlcnR5IGVudW1lcmF0aW9uIG9yZGVyIGluIG9sZGVyIFY4IHZlcnNpb25zLlxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9NDExOFxuXHRcdHZhciB0ZXN0MSA9IG5ldyBTdHJpbmcoJ2FiYycpOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXctd3JhcHBlcnNcblx0XHR0ZXN0MVs1XSA9ICdkZSc7XG5cdFx0aWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QxKVswXSA9PT0gJzUnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MiA9IHt9O1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuXHRcdFx0dGVzdDJbJ18nICsgU3RyaW5nLmZyb21DaGFyQ29kZShpKV0gPSBpO1xuXHRcdH1cblx0XHR2YXIgb3JkZXIyID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDIpLm1hcChmdW5jdGlvbiAobikge1xuXHRcdFx0cmV0dXJuIHRlc3QyW25dO1xuXHRcdH0pO1xuXHRcdGlmIChvcmRlcjIuam9pbignJykgIT09ICcwMTIzNDU2Nzg5Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDMgPSB7fTtcblx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChsZXR0ZXIpIHtcblx0XHRcdHRlc3QzW2xldHRlcl0gPSBsZXR0ZXI7XG5cdFx0fSk7XG5cdFx0aWYgKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIHRlc3QzKSkuam9pbignJykgIT09XG5cdFx0XHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Ly8gV2UgZG9uJ3QgZXhwZWN0IGFueSBvZiB0aGUgYWJvdmUgdG8gdGhyb3csIGJ1dCBiZXR0ZXIgdG8gYmUgc2FmZS5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaG91bGRVc2VOYXRpdmUoKSA/IE9iamVjdC5hc3NpZ24gOiBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UpIHtcblx0dmFyIGZyb207XG5cdHZhciB0byA9IHRvT2JqZWN0KHRhcmdldCk7XG5cdHZhciBzeW1ib2xzO1xuXG5cdGZvciAodmFyIHMgPSAxOyBzIDwgYXJndW1lbnRzLmxlbmd0aDsgcysrKSB7XG5cdFx0ZnJvbSA9IE9iamVjdChhcmd1bWVudHNbc10pO1xuXG5cdFx0Zm9yICh2YXIga2V5IGluIGZyb20pIHtcblx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZyb20sIGtleSkpIHtcblx0XHRcdFx0dG9ba2V5XSA9IGZyb21ba2V5XTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG5cdFx0XHRzeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGZyb20pO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChwcm9wSXNFbnVtZXJhYmxlLmNhbGwoZnJvbSwgc3ltYm9sc1tpXSkpIHtcblx0XHRcdFx0XHR0b1tzeW1ib2xzW2ldXSA9IGZyb21bc3ltYm9sc1tpXV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdG87XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7UHVyZUNvbXBvbmVudH0gZnJvbSAncmVhY3QnXG5pbXBvcnQge2dldFJhdGluZywgUkFUSU5HX1RBQkxFfSBmcm9tICcuLi8uLi9kYi9SYXRpbmdUYWJsZSc7XG5cbmNsYXNzIFJhdGluZyBleHRlbmRzIFB1cmVDb21wb25lbnQge1xuICBzdGF0aWMgdGFibGVzICgpIHtcbiAgICByZXR1cm4gW1JBVElOR19UQUJMRV0gLy8gbGlzdGVuIGZvciBjaGFuZ2VzIG9uIHRoaXMgdGFibGVcbiAgfVxuXG4gIHN0YXRpYyBvbkNoYW5nZSAoZXZlbnQsIGNvbXBsZXRlKSB7XG4gICAgY29uc29sZS5sb2coJ21lc3NhZ2UgcmF0aW5nIGNoYW5nZSBldmVudCcsIGV2ZW50KVxuXG4gICAgZ2V0UmF0aW5nKHRoaXMucHJvcHMudXNlcklkLCB0aGlzLnByb3BzLm1lc3NhZ2VJZCkudGhlbihyb3dzID0+IHtcbiAgICAgIGlmIChyb3dzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29tcGxldGUocm93c1swXS5yYXRpbmcpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wbGV0ZSgwKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIHJldHVybiA8ZGl2PlxuICAgICAgUmF0aW5nIHt0aGlzLnByb3BzLm5TUUxkYXRhfVxuICAgIDwvZGl2PlxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJhdGluZ1xuIiwidmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbi8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuJGV4cG9ydCgkZXhwb3J0LlMsICdPYmplY3QnLCB7IGNyZWF0ZTogcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpIH0pO1xuIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGUoUCwgRCkge1xuICByZXR1cm4gJE9iamVjdC5jcmVhdGUoUCwgRCk7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGVcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCIvLyBXb3JrcyB3aXRoIF9fcHJvdG9fXyBvbmx5LiBPbGQgdjggY2FuJ3Qgd29yayB3aXRoIG51bGwgcHJvdG8gb2JqZWN0cy5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGNoZWNrID0gZnVuY3Rpb24gKE8sIHByb3RvKSB7XG4gIGFuT2JqZWN0KE8pO1xuICBpZiAoIWlzT2JqZWN0KHByb3RvKSAmJiBwcm90byAhPT0gbnVsbCkgdGhyb3cgVHlwZUVycm9yKHByb3RvICsgXCI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhXCIpO1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgZnVuY3Rpb24gKHRlc3QsIGJ1Z2d5LCBzZXQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldCA9IHJlcXVpcmUoJy4vX2N0eCcpKEZ1bmN0aW9uLmNhbGwsIHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJykuZihPYmplY3QucHJvdG90eXBlLCAnX19wcm90b19fJykuc2V0LCAyKTtcbiAgICAgICAgc2V0KHRlc3QsIFtdKTtcbiAgICAgICAgYnVnZ3kgPSAhKHRlc3QgaW5zdGFuY2VvZiBBcnJheSk7XG4gICAgICB9IGNhdGNoIChlKSB7IGJ1Z2d5ID0gdHJ1ZTsgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKE8sIHByb3RvKSB7XG4gICAgICAgIGNoZWNrKE8sIHByb3RvKTtcbiAgICAgICAgaWYgKGJ1Z2d5KSBPLl9fcHJvdG9fXyA9IHByb3RvO1xuICAgICAgICBlbHNlIHNldChPLCBwcm90byk7XG4gICAgICAgIHJldHVybiBPO1xuICAgICAgfTtcbiAgICB9KHt9LCBmYWxzZSkgOiB1bmRlZmluZWQpLFxuICBjaGVjazogY2hlY2tcbn07XG4iLCIvLyAxOS4xLjMuMTkgT2JqZWN0LnNldFByb3RvdHlwZU9mKE8sIHByb3RvKVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbiRleHBvcnQoJGV4cG9ydC5TLCAnT2JqZWN0JywgeyBzZXRQcm90b3R5cGVPZjogcmVxdWlyZSgnLi9fc2V0LXByb3RvJykuc2V0IH0pO1xuIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdC5zZXRQcm90b3R5cGVPZjtcbiIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZlwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsInJlcXVpcmUoJy4vX3drcy1kZWZpbmUnKSgnb2JzZXJ2YWJsZScpO1xuIiwicmVxdWlyZSgnLi9fd2tzLWRlZmluZScpKCdhc3luY0l0ZXJhdG9yJyk7XG4iLCIvLyBmYWxsYmFjayBmb3IgSUUxMSBidWdneSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aXRoIGlmcmFtZSBhbmQgd2luZG93XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIGdPUE4gPSByZXF1aXJlKCcuL19vYmplY3QtZ29wbicpLmY7XG52YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxudmFyIHdpbmRvd05hbWVzID0gdHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiB3aW5kb3cgJiYgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcbiAgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpIDogW107XG5cbnZhciBnZXRXaW5kb3dOYW1lcyA9IGZ1bmN0aW9uIChpdCkge1xuICB0cnkge1xuICAgIHJldHVybiBnT1BOKGl0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB3aW5kb3dOYW1lcy5zbGljZSgpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCkge1xuICByZXR1cm4gd2luZG93TmFtZXMgJiYgdG9TdHJpbmcuY2FsbChpdCkgPT0gJ1tvYmplY3QgV2luZG93XScgPyBnZXRXaW5kb3dOYW1lcyhpdCkgOiBnT1BOKHRvSU9iamVjdChpdCkpO1xufTtcbiIsIi8vIDcuMi4yIElzQXJyYXkoYXJndW1lbnQpXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gaXNBcnJheShhcmcpIHtcbiAgcmV0dXJuIGNvZihhcmcpID09ICdBcnJheSc7XG59O1xuIiwiLy8gYWxsIGVudW1lcmFibGUgb2JqZWN0IGtleXMsIGluY2x1ZGVzIHN5bWJvbHNcbnZhciBnZXRLZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcbnZhciBnT1BTID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcHMnKTtcbnZhciBwSUUgPSByZXF1aXJlKCcuL19vYmplY3QtcGllJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgcmVzdWx0ID0gZ2V0S2V5cyhpdCk7XG4gIHZhciBnZXRTeW1ib2xzID0gZ09QUy5mO1xuICBpZiAoZ2V0U3ltYm9scykge1xuICAgIHZhciBzeW1ib2xzID0gZ2V0U3ltYm9scyhpdCk7XG4gICAgdmFyIGlzRW51bSA9IHBJRS5mO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIga2V5O1xuICAgIHdoaWxlIChzeW1ib2xzLmxlbmd0aCA+IGkpIGlmIChpc0VudW0uY2FsbChpdCwga2V5ID0gc3ltYm9sc1tpKytdKSkgcmVzdWx0LnB1c2goa2V5KTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcbiIsInZhciBNRVRBID0gcmVxdWlyZSgnLi9fdWlkJykoJ21ldGEnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIHNldERlc2MgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xudmFyIGlkID0gMDtcbnZhciBpc0V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlIHx8IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRydWU7XG59O1xudmFyIEZSRUVaRSA9ICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGlzRXh0ZW5zaWJsZShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKTtcbn0pO1xudmFyIHNldE1ldGEgPSBmdW5jdGlvbiAoaXQpIHtcbiAgc2V0RGVzYyhpdCwgTUVUQSwgeyB2YWx1ZToge1xuICAgIGk6ICdPJyArICsraWQsIC8vIG9iamVjdCBJRFxuICAgIHc6IHt9ICAgICAgICAgIC8vIHdlYWsgY29sbGVjdGlvbnMgSURzXG4gIH0gfSk7XG59O1xudmFyIGZhc3RLZXkgPSBmdW5jdGlvbiAoaXQsIGNyZWF0ZSkge1xuICAvLyByZXR1cm4gcHJpbWl0aXZlIHdpdGggcHJlZml4XG4gIGlmICghaXNPYmplY3QoaXQpKSByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnID8gaXQgOiAodHlwZW9mIGl0ID09ICdzdHJpbmcnID8gJ1MnIDogJ1AnKSArIGl0O1xuICBpZiAoIWhhcyhpdCwgTUVUQSkpIHtcbiAgICAvLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdFxuICAgIGlmICghaXNFeHRlbnNpYmxlKGl0KSkgcmV0dXJuICdGJztcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmICghY3JlYXRlKSByZXR1cm4gJ0UnO1xuICAgIC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG4gICAgc2V0TWV0YShpdCk7XG4gIC8vIHJldHVybiBvYmplY3QgSURcbiAgfSByZXR1cm4gaXRbTUVUQV0uaTtcbn07XG52YXIgZ2V0V2VhayA9IGZ1bmN0aW9uIChpdCwgY3JlYXRlKSB7XG4gIGlmICghaGFzKGl0LCBNRVRBKSkge1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYgKCFpc0V4dGVuc2libGUoaXQpKSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmICghY3JlYXRlKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhKGl0KTtcbiAgLy8gcmV0dXJuIGhhc2ggd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfSByZXR1cm4gaXRbTUVUQV0udztcbn07XG4vLyBhZGQgbWV0YWRhdGEgb24gZnJlZXplLWZhbWlseSBtZXRob2RzIGNhbGxpbmdcbnZhciBvbkZyZWV6ZSA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoRlJFRVpFICYmIG1ldGEuTkVFRCAmJiBpc0V4dGVuc2libGUoaXQpICYmICFoYXMoaXQsIE1FVEEpKSBzZXRNZXRhKGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcbnZhciBtZXRhID0gbW9kdWxlLmV4cG9ydHMgPSB7XG4gIEtFWTogTUVUQSxcbiAgTkVFRDogZmFsc2UsXG4gIGZhc3RLZXk6IGZhc3RLZXksXG4gIGdldFdlYWs6IGdldFdlYWssXG4gIG9uRnJlZXplOiBvbkZyZWV6ZVxufTtcbiIsIid1c2Ugc3RyaWN0Jztcbi8vIEVDTUFTY3JpcHQgNiBzeW1ib2xzIHNoaW1cbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyk7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIHJlZGVmaW5lID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKTtcbnZhciBNRVRBID0gcmVxdWlyZSgnLi9fbWV0YScpLktFWTtcbnZhciAkZmFpbHMgPSByZXF1aXJlKCcuL19mYWlscycpO1xudmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuL191aWQnKTtcbnZhciB3a3MgPSByZXF1aXJlKCcuL193a3MnKTtcbnZhciB3a3NFeHQgPSByZXF1aXJlKCcuL193a3MtZXh0Jyk7XG52YXIgd2tzRGVmaW5lID0gcmVxdWlyZSgnLi9fd2tzLWRlZmluZScpO1xudmFyIGVudW1LZXlzID0gcmVxdWlyZSgnLi9fZW51bS1rZXlzJyk7XG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJy4vX2lzLWFycmF5Jyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpO1xudmFyIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG52YXIgX2NyZWF0ZSA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKTtcbnZhciBnT1BORXh0ID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4tZXh0Jyk7XG52YXIgJEdPUEQgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpO1xudmFyICREUCA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xudmFyICRrZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcbnZhciBnT1BEID0gJEdPUEQuZjtcbnZhciBkUCA9ICREUC5mO1xudmFyIGdPUE4gPSBnT1BORXh0LmY7XG52YXIgJFN5bWJvbCA9IGdsb2JhbC5TeW1ib2w7XG52YXIgJEpTT04gPSBnbG9iYWwuSlNPTjtcbnZhciBfc3RyaW5naWZ5ID0gJEpTT04gJiYgJEpTT04uc3RyaW5naWZ5O1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xudmFyIEhJRERFTiA9IHdrcygnX2hpZGRlbicpO1xudmFyIFRPX1BSSU1JVElWRSA9IHdrcygndG9QcmltaXRpdmUnKTtcbnZhciBpc0VudW0gPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBTeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXJlZ2lzdHJ5Jyk7XG52YXIgQWxsU3ltYm9scyA9IHNoYXJlZCgnc3ltYm9scycpO1xudmFyIE9QU3ltYm9scyA9IHNoYXJlZCgnb3Atc3ltYm9scycpO1xudmFyIE9iamVjdFByb3RvID0gT2JqZWN0W1BST1RPVFlQRV07XG52YXIgVVNFX05BVElWRSA9IHR5cGVvZiAkU3ltYm9sID09ICdmdW5jdGlvbic7XG52YXIgUU9iamVjdCA9IGdsb2JhbC5RT2JqZWN0O1xuLy8gRG9uJ3QgdXNlIHNldHRlcnMgaW4gUXQgU2NyaXB0LCBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMTczXG52YXIgc2V0dGVyID0gIVFPYmplY3QgfHwgIVFPYmplY3RbUFJPVE9UWVBFXSB8fCAhUU9iamVjdFtQUk9UT1RZUEVdLmZpbmRDaGlsZDtcblxuLy8gZmFsbGJhY2sgZm9yIG9sZCBBbmRyb2lkLCBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9Njg3XG52YXIgc2V0U3ltYm9sRGVzYyA9IERFU0NSSVBUT1JTICYmICRmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBfY3JlYXRlKGRQKHt9LCAnYScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRQKHRoaXMsICdhJywgeyB2YWx1ZTogNyB9KS5hOyB9XG4gIH0pKS5hICE9IDc7XG59KSA/IGZ1bmN0aW9uIChpdCwga2V5LCBEKSB7XG4gIHZhciBwcm90b0Rlc2MgPSBnT1BEKE9iamVjdFByb3RvLCBrZXkpO1xuICBpZiAocHJvdG9EZXNjKSBkZWxldGUgT2JqZWN0UHJvdG9ba2V5XTtcbiAgZFAoaXQsIGtleSwgRCk7XG4gIGlmIChwcm90b0Rlc2MgJiYgaXQgIT09IE9iamVjdFByb3RvKSBkUChPYmplY3RQcm90bywga2V5LCBwcm90b0Rlc2MpO1xufSA6IGRQO1xuXG52YXIgd3JhcCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgdmFyIHN5bSA9IEFsbFN5bWJvbHNbdGFnXSA9IF9jcmVhdGUoJFN5bWJvbFtQUk9UT1RZUEVdKTtcbiAgc3ltLl9rID0gdGFnO1xuICByZXR1cm4gc3ltO1xufTtcblxudmFyIGlzU3ltYm9sID0gVVNFX05BVElWRSAmJiB0eXBlb2YgJFN5bWJvbC5pdGVyYXRvciA9PSAnc3ltYm9sJyA/IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnO1xufSA6IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXQgaW5zdGFuY2VvZiAkU3ltYm9sO1xufTtcblxudmFyICRkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIEQpIHtcbiAgaWYgKGl0ID09PSBPYmplY3RQcm90bykgJGRlZmluZVByb3BlcnR5KE9QU3ltYm9scywga2V5LCBEKTtcbiAgYW5PYmplY3QoaXQpO1xuICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuICBhbk9iamVjdChEKTtcbiAgaWYgKGhhcyhBbGxTeW1ib2xzLCBrZXkpKSB7XG4gICAgaWYgKCFELmVudW1lcmFibGUpIHtcbiAgICAgIGlmICghaGFzKGl0LCBISURERU4pKSBkUChpdCwgSElEREVOLCBjcmVhdGVEZXNjKDEsIHt9KSk7XG4gICAgICBpdFtISURERU5dW2tleV0gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSkgaXRbSElEREVOXVtrZXldID0gZmFsc2U7XG4gICAgICBEID0gX2NyZWF0ZShELCB7IGVudW1lcmFibGU6IGNyZWF0ZURlc2MoMCwgZmFsc2UpIH0pO1xuICAgIH0gcmV0dXJuIHNldFN5bWJvbERlc2MoaXQsIGtleSwgRCk7XG4gIH0gcmV0dXJuIGRQKGl0LCBrZXksIEQpO1xufTtcbnZhciAkZGVmaW5lUHJvcGVydGllcyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoaXQsIFApIHtcbiAgYW5PYmplY3QoaXQpO1xuICB2YXIga2V5cyA9IGVudW1LZXlzKFAgPSB0b0lPYmplY3QoUCkpO1xuICB2YXIgaSA9IDA7XG4gIHZhciBsID0ga2V5cy5sZW5ndGg7XG4gIHZhciBrZXk7XG4gIHdoaWxlIChsID4gaSkgJGRlZmluZVByb3BlcnR5KGl0LCBrZXkgPSBrZXlzW2krK10sIFBba2V5XSk7XG4gIHJldHVybiBpdDtcbn07XG52YXIgJGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpdCwgUCkge1xuICByZXR1cm4gUCA9PT0gdW5kZWZpbmVkID8gX2NyZWF0ZShpdCkgOiAkZGVmaW5lUHJvcGVydGllcyhfY3JlYXRlKGl0KSwgUCk7XG59O1xudmFyICRwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IGZ1bmN0aW9uIHByb3BlcnR5SXNFbnVtZXJhYmxlKGtleSkge1xuICB2YXIgRSA9IGlzRW51bS5jYWxsKHRoaXMsIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSkpO1xuICBpZiAodGhpcyA9PT0gT2JqZWN0UHJvdG8gJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhPUFN5bWJvbHMsIGtleSkpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIEUgfHwgIWhhcyh0aGlzLCBrZXkpIHx8ICFoYXMoQWxsU3ltYm9scywga2V5KSB8fCBoYXModGhpcywgSElEREVOKSAmJiB0aGlzW0hJRERFTl1ba2V5XSA/IEUgOiB0cnVlO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpIHtcbiAgaXQgPSB0b0lPYmplY3QoaXQpO1xuICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuICBpZiAoaXQgPT09IE9iamVjdFByb3RvICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXMoT1BTeW1ib2xzLCBrZXkpKSByZXR1cm47XG4gIHZhciBEID0gZ09QRChpdCwga2V5KTtcbiAgaWYgKEQgJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIShoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKSkgRC5lbnVtZXJhYmxlID0gdHJ1ZTtcbiAgcmV0dXJuIEQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCkge1xuICB2YXIgbmFtZXMgPSBnT1BOKHRvSU9iamVjdChpdCkpO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBpID0gMDtcbiAgdmFyIGtleTtcbiAgd2hpbGUgKG5hbWVzLmxlbmd0aCA+IGkpIHtcbiAgICBpZiAoIWhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSAmJiBrZXkgIT0gSElEREVOICYmIGtleSAhPSBNRVRBKSByZXN1bHQucHVzaChrZXkpO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpIHtcbiAgdmFyIElTX09QID0gaXQgPT09IE9iamVjdFByb3RvO1xuICB2YXIgbmFtZXMgPSBnT1BOKElTX09QID8gT1BTeW1ib2xzIDogdG9JT2JqZWN0KGl0KSk7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgdmFyIGkgPSAwO1xuICB2YXIga2V5O1xuICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkge1xuICAgIGlmIChoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYgKElTX09QID8gaGFzKE9iamVjdFByb3RvLCBrZXkpIDogdHJ1ZSkpIHJlc3VsdC5wdXNoKEFsbFN5bWJvbHNba2V5XSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIDE5LjQuMS4xIFN5bWJvbChbZGVzY3JpcHRpb25dKVxuaWYgKCFVU0VfTkFUSVZFKSB7XG4gICRTeW1ib2wgPSBmdW5jdGlvbiBTeW1ib2woKSB7XG4gICAgaWYgKHRoaXMgaW5zdGFuY2VvZiAkU3ltYm9sKSB0aHJvdyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciEnKTtcbiAgICB2YXIgdGFnID0gdWlkKGFyZ3VtZW50cy5sZW5ndGggPiAwID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkKTtcbiAgICB2YXIgJHNldCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKHRoaXMgPT09IE9iamVjdFByb3RvKSAkc2V0LmNhbGwoT1BTeW1ib2xzLCB2YWx1ZSk7XG4gICAgICBpZiAoaGFzKHRoaXMsIEhJRERFTikgJiYgaGFzKHRoaXNbSElEREVOXSwgdGFnKSkgdGhpc1tISURERU5dW3RhZ10gPSBmYWxzZTtcbiAgICAgIHNldFN5bWJvbERlc2ModGhpcywgdGFnLCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG4gICAgfTtcbiAgICBpZiAoREVTQ1JJUFRPUlMgJiYgc2V0dGVyKSBzZXRTeW1ib2xEZXNjKE9iamVjdFByb3RvLCB0YWcsIHsgY29uZmlndXJhYmxlOiB0cnVlLCBzZXQ6ICRzZXQgfSk7XG4gICAgcmV0dXJuIHdyYXAodGFnKTtcbiAgfTtcbiAgcmVkZWZpbmUoJFN5bWJvbFtQUk9UT1RZUEVdLCAndG9TdHJpbmcnLCBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5faztcbiAgfSk7XG5cbiAgJEdPUEQuZiA9ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG4gICREUC5mID0gJGRlZmluZVByb3BlcnR5O1xuICByZXF1aXJlKCcuL19vYmplY3QtZ29wbicpLmYgPSBnT1BORXh0LmYgPSAkZ2V0T3duUHJvcGVydHlOYW1lcztcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpLmYgPSAkcHJvcGVydHlJc0VudW1lcmFibGU7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJykuZiA9ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cbiAgaWYgKERFU0NSSVBUT1JTICYmICFyZXF1aXJlKCcuL19saWJyYXJ5JykpIHtcbiAgICByZWRlZmluZShPYmplY3RQcm90bywgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJHByb3BlcnR5SXNFbnVtZXJhYmxlLCB0cnVlKTtcbiAgfVxuXG4gIHdrc0V4dC5mID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gd3JhcCh3a3MobmFtZSkpO1xuICB9O1xufVxuXG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCB7IFN5bWJvbDogJFN5bWJvbCB9KTtcblxuZm9yICh2YXIgZXM2U3ltYm9scyA9IChcbiAgLy8gMTkuNC4yLjIsIDE5LjQuMi4zLCAxOS40LjIuNCwgMTkuNC4yLjYsIDE5LjQuMi44LCAxOS40LjIuOSwgMTkuNC4yLjEwLCAxOS40LjIuMTEsIDE5LjQuMi4xMiwgMTkuNC4yLjEzLCAxOS40LjIuMTRcbiAgJ2hhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzJ1xuKS5zcGxpdCgnLCcpLCBqID0gMDsgZXM2U3ltYm9scy5sZW5ndGggPiBqOyl3a3MoZXM2U3ltYm9sc1tqKytdKTtcblxuZm9yICh2YXIgd2VsbEtub3duU3ltYm9scyA9ICRrZXlzKHdrcy5zdG9yZSksIGsgPSAwOyB3ZWxsS25vd25TeW1ib2xzLmxlbmd0aCA+IGs7KSB3a3NEZWZpbmUod2VsbEtub3duU3ltYm9sc1trKytdKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ1N5bWJvbCcsIHtcbiAgLy8gMTkuNC4yLjEgU3ltYm9sLmZvcihrZXkpXG4gICdmb3InOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIGhhcyhTeW1ib2xSZWdpc3RyeSwga2V5ICs9ICcnKVxuICAgICAgPyBTeW1ib2xSZWdpc3RyeVtrZXldXG4gICAgICA6IFN5bWJvbFJlZ2lzdHJ5W2tleV0gPSAkU3ltYm9sKGtleSk7XG4gIH0sXG4gIC8vIDE5LjQuMi41IFN5bWJvbC5rZXlGb3Ioc3ltKVxuICBrZXlGb3I6IGZ1bmN0aW9uIGtleUZvcihzeW0pIHtcbiAgICBpZiAoIWlzU3ltYm9sKHN5bSkpIHRocm93IFR5cGVFcnJvcihzeW0gKyAnIGlzIG5vdCBhIHN5bWJvbCEnKTtcbiAgICBmb3IgKHZhciBrZXkgaW4gU3ltYm9sUmVnaXN0cnkpIGlmIChTeW1ib2xSZWdpc3RyeVtrZXldID09PSBzeW0pIHJldHVybiBrZXk7XG4gIH0sXG4gIHVzZVNldHRlcjogZnVuY3Rpb24gKCkgeyBzZXR0ZXIgPSB0cnVlOyB9LFxuICB1c2VTaW1wbGU6IGZ1bmN0aW9uICgpIHsgc2V0dGVyID0gZmFsc2U7IH1cbn0pO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCAnT2JqZWN0Jywge1xuICAvLyAxOS4xLjIuMiBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG4gIGNyZWF0ZTogJGNyZWF0ZSxcbiAgLy8gMTkuMS4yLjQgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG4gIGRlZmluZVByb3BlcnR5OiAkZGVmaW5lUHJvcGVydHksXG4gIC8vIDE5LjEuMi4zIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpXG4gIGRlZmluZVByb3BlcnRpZXM6ICRkZWZpbmVQcm9wZXJ0aWVzLFxuICAvLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogJGdldE93blByb3BlcnR5RGVzY3JpcHRvcixcbiAgLy8gMTkuMS4yLjcgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbiAgZ2V0T3duUHJvcGVydHlOYW1lczogJGdldE93blByb3BlcnR5TmFtZXMsXG4gIC8vIDE5LjEuMi44IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoTylcbiAgZ2V0T3duUHJvcGVydHlTeW1ib2xzOiAkZ2V0T3duUHJvcGVydHlTeW1ib2xzXG59KTtcblxuLy8gMjQuMy4yIEpTT04uc3RyaW5naWZ5KHZhbHVlIFssIHJlcGxhY2VyIFssIHNwYWNlXV0pXG4kSlNPTiAmJiAkZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICghVVNFX05BVElWRSB8fCAkZmFpbHMoZnVuY3Rpb24gKCkge1xuICB2YXIgUyA9ICRTeW1ib2woKTtcbiAgLy8gTVMgRWRnZSBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMge31cbiAgLy8gV2ViS2l0IGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyBudWxsXG4gIC8vIFY4IHRocm93cyBvbiBib3hlZCBzeW1ib2xzXG4gIHJldHVybiBfc3RyaW5naWZ5KFtTXSkgIT0gJ1tudWxsXScgfHwgX3N0cmluZ2lmeSh7IGE6IFMgfSkgIT0gJ3t9JyB8fCBfc3RyaW5naWZ5KE9iamVjdChTKSkgIT0gJ3t9Jztcbn0pKSwgJ0pTT04nLCB7XG4gIHN0cmluZ2lmeTogZnVuY3Rpb24gc3RyaW5naWZ5KGl0KSB7XG4gICAgdmFyIGFyZ3MgPSBbaXRdO1xuICAgIHZhciBpID0gMTtcbiAgICB2YXIgcmVwbGFjZXIsICRyZXBsYWNlcjtcbiAgICB3aGlsZSAoYXJndW1lbnRzLmxlbmd0aCA+IGkpIGFyZ3MucHVzaChhcmd1bWVudHNbaSsrXSk7XG4gICAgJHJlcGxhY2VyID0gcmVwbGFjZXIgPSBhcmdzWzFdO1xuICAgIGlmICghaXNPYmplY3QocmVwbGFjZXIpICYmIGl0ID09PSB1bmRlZmluZWQgfHwgaXNTeW1ib2woaXQpKSByZXR1cm47IC8vIElFOCByZXR1cm5zIHN0cmluZyBvbiB1bmRlZmluZWRcbiAgICBpZiAoIWlzQXJyYXkocmVwbGFjZXIpKSByZXBsYWNlciA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mICRyZXBsYWNlciA9PSAnZnVuY3Rpb24nKSB2YWx1ZSA9ICRyZXBsYWNlci5jYWxsKHRoaXMsIGtleSwgdmFsdWUpO1xuICAgICAgaWYgKCFpc1N5bWJvbCh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIGFyZ3NbMV0gPSByZXBsYWNlcjtcbiAgICByZXR1cm4gX3N0cmluZ2lmeS5hcHBseSgkSlNPTiwgYXJncyk7XG4gIH1cbn0pO1xuXG4vLyAxOS40LjMuNCBTeW1ib2wucHJvdG90eXBlW0BAdG9QcmltaXRpdmVdKGhpbnQpXG4kU3ltYm9sW1BST1RPVFlQRV1bVE9fUFJJTUlUSVZFXSB8fCByZXF1aXJlKCcuL19oaWRlJykoJFN5bWJvbFtQUk9UT1RZUEVdLCBUT19QUklNSVRJVkUsICRTeW1ib2xbUFJPVE9UWVBFXS52YWx1ZU9mKTtcbi8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKCRTeW1ib2wsICdTeW1ib2wnKTtcbi8vIDIwLjIuMS45IE1hdGhbQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKE1hdGgsICdNYXRoJywgdHJ1ZSk7XG4vLyAyNC4zLjMgSlNPTltAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoZ2xvYmFsLkpTT04sICdKU09OJywgdHJ1ZSk7XG4iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLlN5bWJvbDtcbiIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2xcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkb25lLCB2YWx1ZSkge1xuICByZXR1cm4geyB2YWx1ZTogdmFsdWUsIGRvbmU6ICEhZG9uZSB9O1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSByZXF1aXJlKCcuL19hZGQtdG8tdW5zY29wYWJsZXMnKTtcbnZhciBzdGVwID0gcmVxdWlyZSgnLi9faXRlci1zdGVwJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xuXG4vLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcygpXG4vLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMoKVxuLy8gMjIuMS4zLjI5IEFycmF5LnByb3RvdHlwZS52YWx1ZXMoKVxuLy8gMjIuMS4zLjMwIEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uIChpdGVyYXRlZCwga2luZCkge1xuICB0aGlzLl90ID0gdG9JT2JqZWN0KGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4gIHRoaXMuX2sgPSBraW5kOyAgICAgICAgICAgICAgICAvLyBraW5kXG4vLyAyMi4xLjUuMi4xICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uICgpIHtcbiAgdmFyIE8gPSB0aGlzLl90O1xuICB2YXIga2luZCA9IHRoaXMuX2s7XG4gIHZhciBpbmRleCA9IHRoaXMuX2krKztcbiAgaWYgKCFPIHx8IGluZGV4ID49IE8ubGVuZ3RoKSB7XG4gICAgdGhpcy5fdCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc3RlcCgxKTtcbiAgfVxuICBpZiAoa2luZCA9PSAna2V5cycpIHJldHVybiBzdGVwKDAsIGluZGV4KTtcbiAgaWYgKGtpbmQgPT0gJ3ZhbHVlcycpIHJldHVybiBzdGVwKDAsIE9baW5kZXhdKTtcbiAgcmV0dXJuIHN0ZXAoMCwgW2luZGV4LCBPW2luZGV4XV0pO1xufSwgJ3ZhbHVlcycpO1xuXG4vLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyUgKDkuNC40LjYsIDkuNC40LjcpXG5JdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuXG5hZGRUb1Vuc2NvcGFibGVzKCdrZXlzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ2VudHJpZXMnKTtcbiIsInJlcXVpcmUoJy4vZXM2LmFycmF5Lml0ZXJhdG9yJyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbnZhciBUT19TVFJJTkdfVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG5cbnZhciBET01JdGVyYWJsZXMgPSAoJ0NTU1J1bGVMaXN0LENTU1N0eWxlRGVjbGFyYXRpb24sQ1NTVmFsdWVMaXN0LENsaWVudFJlY3RMaXN0LERPTVJlY3RMaXN0LERPTVN0cmluZ0xpc3QsJyArXG4gICdET01Ub2tlbkxpc3QsRGF0YVRyYW5zZmVySXRlbUxpc3QsRmlsZUxpc3QsSFRNTEFsbENvbGxlY3Rpb24sSFRNTENvbGxlY3Rpb24sSFRNTEZvcm1FbGVtZW50LEhUTUxTZWxlY3RFbGVtZW50LCcgK1xuICAnTWVkaWFMaXN0LE1pbWVUeXBlQXJyYXksTmFtZWROb2RlTWFwLE5vZGVMaXN0LFBhaW50UmVxdWVzdExpc3QsUGx1Z2luLFBsdWdpbkFycmF5LFNWR0xlbmd0aExpc3QsU1ZHTnVtYmVyTGlzdCwnICtcbiAgJ1NWR1BhdGhTZWdMaXN0LFNWR1BvaW50TGlzdCxTVkdTdHJpbmdMaXN0LFNWR1RyYW5zZm9ybUxpc3QsU291cmNlQnVmZmVyTGlzdCxTdHlsZVNoZWV0TGlzdCxUZXh0VHJhY2tDdWVMaXN0LCcgK1xuICAnVGV4dFRyYWNrTGlzdCxUb3VjaExpc3QnKS5zcGxpdCgnLCcpO1xuXG5mb3IgKHZhciBpID0gMDsgaSA8IERPTUl0ZXJhYmxlcy5sZW5ndGg7IGkrKykge1xuICB2YXIgTkFNRSA9IERPTUl0ZXJhYmxlc1tpXTtcbiAgdmFyIENvbGxlY3Rpb24gPSBnbG9iYWxbTkFNRV07XG4gIHZhciBwcm90byA9IENvbGxlY3Rpb24gJiYgQ29sbGVjdGlvbi5wcm90b3R5cGU7XG4gIGlmIChwcm90byAmJiAhcHJvdG9bVE9fU1RSSU5HX1RBR10pIGhpZGUocHJvdG8sIFRPX1NUUklOR19UQUcsIE5BTUUpO1xuICBJdGVyYXRvcnNbTkFNRV0gPSBJdGVyYXRvcnMuQXJyYXk7XG59XG4iLCJ2YXIgZG9jdW1lbnQgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudDtcbm1vZHVsZS5leHBvcnRzID0gZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuIiwidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKTtcbnZhciBtYXggPSBNYXRoLm1heDtcbnZhciBtaW4gPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGluZGV4LCBsZW5ndGgpIHtcbiAgaW5kZXggPSB0b0ludGVnZXIoaW5kZXgpO1xuICByZXR1cm4gaW5kZXggPCAwID8gbWF4KGluZGV4ICsgbGVuZ3RoLCAwKSA6IG1pbihpbmRleCwgbGVuZ3RoKTtcbn07XG4iLCIvLyA3LjEuMTUgVG9MZW5ndGhcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJyk7XG52YXIgbWluID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxufTtcbiIsIi8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2Zcbi8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzXG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG52YXIgdG9BYnNvbHV0ZUluZGV4ID0gcmVxdWlyZSgnLi9fdG8tYWJzb2x1dGUtaW5kZXgnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKElTX0lOQ0xVREVTKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIGVsLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgTyA9IHRvSU9iamVjdCgkdGhpcyk7XG4gICAgdmFyIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKTtcbiAgICB2YXIgaW5kZXggPSB0b0Fic29sdXRlSW5kZXgoZnJvbUluZGV4LCBsZW5ndGgpO1xuICAgIHZhciB2YWx1ZTtcbiAgICAvLyBBcnJheSNpbmNsdWRlcyB1c2VzIFNhbWVWYWx1ZVplcm8gZXF1YWxpdHkgYWxnb3JpdGhtXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgIGlmIChJU19JTkNMVURFUyAmJiBlbCAhPSBlbCkgd2hpbGUgKGxlbmd0aCA+IGluZGV4KSB7XG4gICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICAgICBpZiAodmFsdWUgIT0gdmFsdWUpIHJldHVybiB0cnVlO1xuICAgIC8vIEFycmF5I2luZGV4T2YgaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICB9IGVsc2UgZm9yICg7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIGlmIChJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKSB7XG4gICAgICBpZiAoT1tpbmRleF0gPT09IGVsKSByZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcbiAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG4gIH07XG59O1xuIiwiLy8gZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBhbmQgbm9uLWVudW1lcmFibGUgb2xkIFY4IHN0cmluZ3NcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0KCd6JykucHJvcGVydHlJc0VudW1lcmFibGUoMCkgPyBPYmplY3QgOiBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGNvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpO1xufTtcbiIsInZhciBkUCA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgZ2V0S2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKSB7XG4gIGFuT2JqZWN0KE8pO1xuICB2YXIga2V5cyA9IGdldEtleXMoUHJvcGVydGllcyk7XG4gIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgdmFyIGkgPSAwO1xuICB2YXIgUDtcbiAgd2hpbGUgKGxlbmd0aCA+IGkpIGRQLmYoTywgUCA9IGtleXNbaSsrXSwgUHJvcGVydGllc1tQXSk7XG4gIHJldHVybiBPO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBjcmVhdGUgPSByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJyk7XG52YXIgZGVzY3JpcHRvciA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbnZhciBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJyk7XG52YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcblxuLy8gMjUuMS4yLjEuMSAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vX2hpZGUnKShJdGVyYXRvclByb3RvdHlwZSwgcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyksIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCkge1xuICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBjcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHsgbmV4dDogZGVzY3JpcHRvcigxLCBuZXh0KSB9KTtcbiAgc2V0VG9TdHJpbmdUYWcoQ29uc3RydWN0b3IsIE5BTUUgKyAnIEl0ZXJhdG9yJyk7XG59O1xuIiwidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKTtcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xuLy8gdHJ1ZSAgLT4gU3RyaW5nI2F0XG4vLyBmYWxzZSAtPiBTdHJpbmcjY29kZVBvaW50QXRcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFRPX1NUUklORykge1xuICByZXR1cm4gZnVuY3Rpb24gKHRoYXQsIHBvcykge1xuICAgIHZhciBzID0gU3RyaW5nKGRlZmluZWQodGhhdCkpO1xuICAgIHZhciBpID0gdG9JbnRlZ2VyKHBvcyk7XG4gICAgdmFyIGwgPSBzLmxlbmd0aDtcbiAgICB2YXIgYSwgYjtcbiAgICBpZiAoaSA8IDAgfHwgaSA+PSBsKSByZXR1cm4gVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG4gICAgYSA9IHMuY2hhckNvZGVBdChpKTtcbiAgICByZXR1cm4gYSA8IDB4ZDgwMCB8fCBhID4gMHhkYmZmIHx8IGkgKyAxID09PSBsIHx8IChiID0gcy5jaGFyQ29kZUF0KGkgKyAxKSkgPCAweGRjMDAgfHwgYiA+IDB4ZGZmZlxuICAgICAgPyBUT19TVFJJTkcgPyBzLmNoYXJBdChpKSA6IGFcbiAgICAgIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuICB9O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkYXQgPSByZXF1aXJlKCcuL19zdHJpbmctYXQnKSh0cnVlKTtcblxuLy8gMjEuMS4zLjI3IFN0cmluZy5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faXRlci1kZWZpbmUnKShTdHJpbmcsICdTdHJpbmcnLCBmdW5jdGlvbiAoaXRlcmF0ZWQpIHtcbiAgdGhpcy5fdCA9IFN0cmluZyhpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuLy8gMjEuMS41LjIuMSAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24gKCkge1xuICB2YXIgTyA9IHRoaXMuX3Q7XG4gIHZhciBpbmRleCA9IHRoaXMuX2k7XG4gIHZhciBwb2ludDtcbiAgaWYgKGluZGV4ID49IE8ubGVuZ3RoKSByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gIHBvaW50ID0gJGF0KE8sIGluZGV4KTtcbiAgdGhpcy5faSArPSBwb2ludC5sZW5ndGg7XG4gIHJldHVybiB7IHZhbHVlOiBwb2ludCwgZG9uZTogZmFsc2UgfTtcbn0pO1xuIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJyk7XG5yZXF1aXJlKCcuLi8uLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fd2tzLWV4dCcpLmYoJ2l0ZXJhdG9yJyk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07IiwidmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbi8vIDE5LjEuMi40IC8gMTUuMi4zLjYgT2JqZWN0LmRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFyZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpLCAnT2JqZWN0JywgeyBkZWZpbmVQcm9wZXJ0eTogcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZiB9KTtcbiIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHknKTtcbnZhciAkT2JqZWN0ID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdDtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYykge1xuICByZXR1cm4gJE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmICh0eXBlb2YgaXQgIT0gJ2Z1bmN0aW9uJykgdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcbiAgcmV0dXJuIGl0O1xufTtcbiIsIi8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlc1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi9fZmFpbHMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEtFWSwgZXhlYykge1xuICB2YXIgZm4gPSAoY29yZS5PYmplY3QgfHwge30pW0tFWV0gfHwgT2JqZWN0W0tFWV07XG4gIHZhciBleHAgPSB7fTtcbiAgZXhwW0tFWV0gPSBleGVjKGZuKTtcbiAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiBmYWlscyhmdW5jdGlvbiAoKSB7IGZuKDEpOyB9KSwgJ09iamVjdCcsIGV4cCk7XG59O1xuIiwiLy8gMTkuMS4yLjkgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuL190by1vYmplY3QnKTtcbnZhciAkZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuL19vYmplY3QtZ3BvJyk7XG5cbnJlcXVpcmUoJy4vX29iamVjdC1zYXAnKSgnZ2V0UHJvdG90eXBlT2YnLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmdW5jdGlvbiBnZXRQcm90b3R5cGVPZihpdCkge1xuICAgIHJldHVybiAkZ2V0UHJvdG90eXBlT2YodG9PYmplY3QoaXQpKTtcbiAgfTtcbn0pO1xuIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1wcm90b3R5cGUtb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLk9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiIsImltcG9ydCBSZWFjdCwge1B1cmVDb21wb25lbnR9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHtnZXRCYWxhbmNlQnlJZCwgVVNFUl9UQUJMRX0gZnJvbSAnLi4vLi4vZGIvVXNlclRhYmxlJ1xuXG5jbGFzcyBBY2NvdW50U3RhdHVzIGV4dGVuZHMgUHVyZUNvbXBvbmVudCB7XG4gIHN0YXRpYyB0YWJsZXMgKCkge1xuICAgIHJldHVybiBbVVNFUl9UQUJMRV0gLy8gbGlzdGVuIGZvciBjaGFuZ2VzIG9uIHRoaXMgdGFibGVcbiAgfVxuXG4gIHN0YXRpYyBvbkNoYW5nZSAoZXZlbnQsIGNvbXBsZXRlKSB7XG4gICAgY29uc29sZS5sb2coJ2FjY291bnQgc3RhdHVzIGNoYW5nZWQgZXZlbnQnLCBldmVudClcblxuICAgIGxldCBxID0gZ2V0QmFsYW5jZUJ5SWQodGhpcy5wcm9wcy51c2VySWQpXG4gICAgY29uc29sZS5sb2coJ2FjY291bnQgc3RhdHVzIHF1ZXJ5IHJlc3VsdCcsIHEpXG5cbiAgICBxLnRoZW4oKHJvd3MpID0+IHtcbiAgICAgIGNvbXBsZXRlKHJvd3MubGVuZ3RoID4gMCA/IHJvd3NbMF0uYmFsYW5jZSA6IG51bGwpXG4gICAgfSlcblxuICAgIC8vIGZpeG1lIG9wdGltaXplIGF0IHNvbWUgcG9pbnRcbiAgICAvLyBpZiAoIWV2ZW50Lm5vdGVzLmluY2x1ZGVzKCdtb3VudCcpKSB7XG4gICAgLy8gICBjb21wbGV0ZShldmVudC5hZmZlY3RlZFJvd3NbMF0uYmFsYW5jZSlcbiAgICAvLyB9IGVsc2Uge1xuICAgIC8vIH1cbiAgfVxuXG4gIHN0YXRpYyBVbmF2YWlsYWJsZSAoKSB7XG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwidW5hdmFpbGFibGVcIj5VbmF2YWlsYWJsZTwvZGl2PlxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBjb25zb2xlLmxvZyhcInJlbmRlclwiLCB0aGlzLnByb3BzLm5TUUxkYXRhLCBBY2NvdW50U3RhdHVzLlVuYXZhaWxhYmxlKVxuICAgIHJldHVybiA8ZGl2PlxuICAgICAgICAgICAgQWNjb3VudCBiYWxhbmNlIHtcbiAgICAgICAgdGhpcy5wcm9wcy5uU1FMZGF0YSA/IHRoaXMucHJvcHMublNRTGRhdGEgOiA8QWNjb3VudFN0YXR1cy5VbmF2YWlsYWJsZS8+XG4gICAgICB9XG4gICAgPC9kaXY+XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQWNjb3VudFN0YXR1c1xuIiwiZXhwb3J0IHZhciBjdXJyZW50VXNlciA9ICdhbnRvbidcbiIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XHJcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcclxuICAgICAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgUmVhY3QgPSByZXF1aXJlKFwiUmVhY3RcIik7XHJcbnZhciBuYW5vX3NxbF8xID0gcmVxdWlyZShcIm5hbm8tc3FsXCIpO1xyXG5mdW5jdGlvbiBiaW5kTlNRTChDb21wLCBwcm9wcykge1xyXG4gICAgcmV0dXJuIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKGNsYXNzXzEsIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gY2xhc3NfMShwKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHApIHx8IHRoaXM7XHJcbiAgICAgICAgICAgIF90aGlzLnN0YXRlID0geyBkYXRhOiB1bmRlZmluZWQsIGlzTG9hZGluZzogdHJ1ZSB9O1xyXG4gICAgICAgICAgICBfdGhpcy51cGRhdGVTdGF0ZSA9IF90aGlzLnVwZGF0ZVN0YXRlLmJpbmQoX3RoaXMpO1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLmNvbXBvbmVudFdpbGxNb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHByb3BzICYmIHByb3BzLnRhYmxlcyAmJiBwcm9wcy50YWJsZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlcyA9IHByb3BzLnRhYmxlcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChDb21wLnRhYmxlcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YWJsZXMgPSBDb21wLnRhYmxlcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJOZWVkIHRhYmxlcyBmb3IgbmFub1NRTCBIT0MhXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwcm9wcyAmJiBwcm9wcy5vbkNoYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKENvbXAub25DaGFuZ2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25DaGFuZ2UgPSBDb21wLm9uQ2hhbmdlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJOZWVkIHRhYmxlcyBmb3IgbmFub1NRTCBIT0MhXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwcm9wcyAmJiBwcm9wcy5zdG9yZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZSA9IHByb3BzLnN0b3JlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZSA9IG5hbm9fc3FsXzEublNRTCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBwcmV2VGFibGUgPSB0aGlzLnN0b3JlLnNUYWJsZTtcclxuICAgICAgICAgICAgdmFyIGsgPSB0aGlzLnRhYmxlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIHdoaWxlIChrLS0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUudGFibGUodGhpcy50YWJsZXNba10pLm9uKFwiY2hhbmdlXCIsIHRoaXMudXBkYXRlU3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFibGU6IHRoaXMudGFibGVzW2tdLFxyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlOiB0aGlzLnRhYmxlc1trXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25BcmdzOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogXCJjb21wbGV0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50czogW11cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IERhdGUubm93KCksXHJcbiAgICAgICAgICAgICAgICAgICAgbm90ZXM6IFtcIm1vdW50XCJdLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZXM6IFtcImNoYW5nZVwiXSxcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25PclZpZXc6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYWZmZWN0ZWRSb3dzOiBbXVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zdG9yZS50YWJsZShwcmV2VGFibGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBwcmV2VGFibGUgPSB0aGlzLnN0b3JlLnNUYWJsZTtcclxuICAgICAgICAgICAgdmFyIGsgPSB0aGlzLnRhYmxlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIHdoaWxlIChrLS0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUudGFibGUodGhpcy50YWJsZXNba10pLm9mZihcImNoYW5nZVwiLCB0aGlzLnVwZGF0ZVN0YXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnN0b3JlLnRhYmxlKHByZXZUYWJsZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS51cGRhdGVTdGF0ZSA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IHRydWUgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMub25DaGFuZ2UoZSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogZmFsc2UsIGRhdGE6IGRhdGEgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbXAsIF9fYXNzaWduKHsgblNRTGxvYWRpbmc6IHRoaXMuc3RhdGUuaXNMb2FkaW5nLCBuU1FMZGF0YTogdGhpcy5zdGF0ZS5kYXRhIH0sIHRoaXMucHJvcHMpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBjbGFzc18xO1xyXG4gICAgfShSZWFjdC5Db21wb25lbnQpKTtcclxufVxyXG5leHBvcnRzLmJpbmROU1FMID0gYmluZE5TUUw7XHJcbiIsImltcG9ydCB7IGJpbmROU1FMIH0gZnJvbSAnbmFuby1zcWwtcmVhY3QnXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQge2N1cnJlbnRVc2VyfSBmcm9tICcuL3N0YXRlL0dsb2JhbFN0YXRlJ1xuaW1wb3J0IEFjY291bnRTdGF0dXMgZnJvbSAnLi9jb21wb25lbnRzL0FjY291bnRTdGF0dXMvQWNjb3VudFN0YXR1cydcbmltcG9ydCBSYXRpbmcgZnJvbSAnLi9jb21wb25lbnRzL1JhdGluZy9SYXRpbmcnXG5cbmNvbnN0IEFTbnNxbCA9IGJpbmROU1FMKEFjY291bnRTdGF0dXMpXG5mdW5jdGlvbiBBU0ZpbGxlZCAoKSB7XG4gIHJldHVybiA8QVNuc3FsIHVzZXJJZD17Y3VycmVudFVzZXJ9Lz5cbn1cblxuY29uc3QgUmF0aW5nRmlsbGVkID0gYmluZE5TUUwoUmF0aW5nKVxuXG5leHBvcnQge0FTRmlsbGVkIGFzIEFjY291bnRTdGF0dXMsIFJhdGluZ0ZpbGxlZCBhcyBSYXRpbmd9XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbnZhciBfaHlwaGVuUGF0dGVybiA9IC8tKC4pL2c7XG5cbi8qKlxuICogQ2FtZWxjYXNlcyBhIGh5cGhlbmF0ZWQgc3RyaW5nLCBmb3IgZXhhbXBsZTpcbiAqXG4gKiAgID4gY2FtZWxpemUoJ2JhY2tncm91bmQtY29sb3InKVxuICogICA8IFwiYmFja2dyb3VuZENvbG9yXCJcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGNhbWVsaXplKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoX2h5cGhlblBhdHRlcm4sIGZ1bmN0aW9uIChfLCBjaGFyYWN0ZXIpIHtcbiAgICByZXR1cm4gY2hhcmFjdGVyLnRvVXBwZXJDYXNlKCk7XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNhbWVsaXplOyIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQHR5cGVjaGVja3NcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBjYW1lbGl6ZSA9IHJlcXVpcmUoJy4vY2FtZWxpemUnKTtcblxudmFyIG1zUGF0dGVybiA9IC9eLW1zLS87XG5cbi8qKlxuICogQ2FtZWxjYXNlcyBhIGh5cGhlbmF0ZWQgQ1NTIHByb3BlcnR5IG5hbWUsIGZvciBleGFtcGxlOlxuICpcbiAqICAgPiBjYW1lbGl6ZVN0eWxlTmFtZSgnYmFja2dyb3VuZC1jb2xvcicpXG4gKiAgIDwgXCJiYWNrZ3JvdW5kQ29sb3JcIlxuICogICA+IGNhbWVsaXplU3R5bGVOYW1lKCctbW96LXRyYW5zaXRpb24nKVxuICogICA8IFwiTW96VHJhbnNpdGlvblwiXG4gKiAgID4gY2FtZWxpemVTdHlsZU5hbWUoJy1tcy10cmFuc2l0aW9uJylcbiAqICAgPCBcIm1zVHJhbnNpdGlvblwiXG4gKlxuICogQXMgQW5kaSBTbWl0aCBzdWdnZXN0c1xuICogKGh0dHA6Ly93d3cuYW5kaXNtaXRoLmNvbS9ibG9nLzIwMTIvMDIvbW9kZXJuaXpyLXByZWZpeGVkLyksIGFuIGAtbXNgIHByZWZpeFxuICogaXMgY29udmVydGVkIHRvIGxvd2VyY2FzZSBgbXNgLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gY2FtZWxpemVTdHlsZU5hbWUoc3RyaW5nKSB7XG4gIHJldHVybiBjYW1lbGl6ZShzdHJpbmcucmVwbGFjZShtc1BhdHRlcm4sICdtcy0nKSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY2FtZWxpemVTdHlsZU5hbWU7IiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxudmFyIF91cHBlcmNhc2VQYXR0ZXJuID0gLyhbQS1aXSkvZztcblxuLyoqXG4gKiBIeXBoZW5hdGVzIGEgY2FtZWxjYXNlZCBzdHJpbmcsIGZvciBleGFtcGxlOlxuICpcbiAqICAgPiBoeXBoZW5hdGUoJ2JhY2tncm91bmRDb2xvcicpXG4gKiAgIDwgXCJiYWNrZ3JvdW5kLWNvbG9yXCJcbiAqXG4gKiBGb3IgQ1NTIHN0eWxlIG5hbWVzLCB1c2UgYGh5cGhlbmF0ZVN0eWxlTmFtZWAgaW5zdGVhZCB3aGljaCB3b3JrcyBwcm9wZXJseVxuICogd2l0aCBhbGwgdmVuZG9yIHByZWZpeGVzLCBpbmNsdWRpbmcgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGh5cGhlbmF0ZShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKF91cHBlcmNhc2VQYXR0ZXJuLCAnLSQxJykudG9Mb3dlckNhc2UoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBoeXBoZW5hdGU7IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGh5cGhlbmF0ZSA9IHJlcXVpcmUoJy4vaHlwaGVuYXRlJyk7XG5cbnZhciBtc1BhdHRlcm4gPSAvXm1zLS87XG5cbi8qKlxuICogSHlwaGVuYXRlcyBhIGNhbWVsY2FzZWQgQ1NTIHByb3BlcnR5IG5hbWUsIGZvciBleGFtcGxlOlxuICpcbiAqICAgPiBoeXBoZW5hdGVTdHlsZU5hbWUoJ2JhY2tncm91bmRDb2xvcicpXG4gKiAgIDwgXCJiYWNrZ3JvdW5kLWNvbG9yXCJcbiAqICAgPiBoeXBoZW5hdGVTdHlsZU5hbWUoJ01velRyYW5zaXRpb24nKVxuICogICA8IFwiLW1vei10cmFuc2l0aW9uXCJcbiAqICAgPiBoeXBoZW5hdGVTdHlsZU5hbWUoJ21zVHJhbnNpdGlvbicpXG4gKiAgIDwgXCItbXMtdHJhbnNpdGlvblwiXG4gKlxuICogQXMgTW9kZXJuaXpyIHN1Z2dlc3RzIChodHRwOi8vbW9kZXJuaXpyLmNvbS9kb2NzLyNwcmVmaXhlZCksIGFuIGBtc2AgcHJlZml4XG4gKiBpcyBjb252ZXJ0ZWQgdG8gYC1tcy1gLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gaHlwaGVuYXRlU3R5bGVOYW1lKHN0cmluZykge1xuICByZXR1cm4gaHlwaGVuYXRlKHN0cmluZykucmVwbGFjZShtc1BhdHRlcm4sICctbXMtJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaHlwaGVuYXRlU3R5bGVOYW1lOyIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbi8qKlxuICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIG9iamVjdCB0byBjaGVjay5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBvYmplY3QgaXMgYSBET00gbm9kZS5cbiAqL1xuZnVuY3Rpb24gaXNOb2RlKG9iamVjdCkge1xuICB2YXIgZG9jID0gb2JqZWN0ID8gb2JqZWN0Lm93bmVyRG9jdW1lbnQgfHwgb2JqZWN0IDogZG9jdW1lbnQ7XG4gIHZhciBkZWZhdWx0VmlldyA9IGRvYy5kZWZhdWx0VmlldyB8fCB3aW5kb3c7XG4gIHJldHVybiAhIShvYmplY3QgJiYgKHR5cGVvZiBkZWZhdWx0Vmlldy5Ob2RlID09PSAnZnVuY3Rpb24nID8gb2JqZWN0IGluc3RhbmNlb2YgZGVmYXVsdFZpZXcuTm9kZSA6IHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIHR5cGVvZiBvYmplY3Qubm9kZVR5cGUgPT09ICdudW1iZXInICYmIHR5cGVvZiBvYmplY3Qubm9kZU5hbWUgPT09ICdzdHJpbmcnKSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNOb2RlOyIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbnZhciBpc05vZGUgPSByZXF1aXJlKCcuL2lzTm9kZScpO1xuXG4vKipcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2hlY2suXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgb2JqZWN0IGlzIGEgRE9NIHRleHQgbm9kZS5cbiAqL1xuZnVuY3Rpb24gaXNUZXh0Tm9kZShvYmplY3QpIHtcbiAgcmV0dXJuIGlzTm9kZShvYmplY3QpICYmIG9iamVjdC5ub2RlVHlwZSA9PSAzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzVGV4dE5vZGU7IiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIFxuICovXG5cbnZhciBpc1RleHROb2RlID0gcmVxdWlyZSgnLi9pc1RleHROb2RlJyk7XG5cbi8qZXNsaW50LWRpc2FibGUgbm8tYml0d2lzZSAqL1xuXG4vKipcbiAqIENoZWNrcyBpZiBhIGdpdmVuIERPTSBub2RlIGNvbnRhaW5zIG9yIGlzIGFub3RoZXIgRE9NIG5vZGUuXG4gKi9cbmZ1bmN0aW9uIGNvbnRhaW5zTm9kZShvdXRlck5vZGUsIGlubmVyTm9kZSkge1xuICBpZiAoIW91dGVyTm9kZSB8fCAhaW5uZXJOb2RlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2UgaWYgKG91dGVyTm9kZSA9PT0gaW5uZXJOb2RlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoaXNUZXh0Tm9kZShvdXRlck5vZGUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2UgaWYgKGlzVGV4dE5vZGUoaW5uZXJOb2RlKSkge1xuICAgIHJldHVybiBjb250YWluc05vZGUob3V0ZXJOb2RlLCBpbm5lck5vZGUucGFyZW50Tm9kZSk7XG4gIH0gZWxzZSBpZiAoJ2NvbnRhaW5zJyBpbiBvdXRlck5vZGUpIHtcbiAgICByZXR1cm4gb3V0ZXJOb2RlLmNvbnRhaW5zKGlubmVyTm9kZSk7XG4gIH0gZWxzZSBpZiAob3V0ZXJOb2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSB7XG4gICAgcmV0dXJuICEhKG91dGVyTm9kZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihpbm5lck5vZGUpICYgMTYpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRhaW5zTm9kZTsiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEB0eXBlY2hlY2tzXG4gKiBcbiAqL1xuXG4vKmVzbGludC1kaXNhYmxlIG5vLXNlbGYtY29tcGFyZSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogaW5saW5lZCBPYmplY3QuaXMgcG9seWZpbGwgdG8gYXZvaWQgcmVxdWlyaW5nIGNvbnN1bWVycyBzaGlwIHRoZWlyIG93blxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2lzXG4gKi9cbmZ1bmN0aW9uIGlzKHgsIHkpIHtcbiAgLy8gU2FtZVZhbHVlIGFsZ29yaXRobVxuICBpZiAoeCA9PT0geSkge1xuICAgIC8vIFN0ZXBzIDEtNSwgNy0xMFxuICAgIC8vIFN0ZXBzIDYuYi02LmU6ICswICE9IC0wXG4gICAgLy8gQWRkZWQgdGhlIG5vbnplcm8geSBjaGVjayB0byBtYWtlIEZsb3cgaGFwcHksIGJ1dCBpdCBpcyByZWR1bmRhbnRcbiAgICByZXR1cm4geCAhPT0gMCB8fCB5ICE9PSAwIHx8IDEgLyB4ID09PSAxIC8geTtcbiAgfSBlbHNlIHtcbiAgICAvLyBTdGVwIDYuYTogTmFOID09IE5hTlxuICAgIHJldHVybiB4ICE9PSB4ICYmIHkgIT09IHk7XG4gIH1cbn1cblxuLyoqXG4gKiBQZXJmb3JtcyBlcXVhbGl0eSBieSBpdGVyYXRpbmcgdGhyb3VnaCBrZXlzIG9uIGFuIG9iamVjdCBhbmQgcmV0dXJuaW5nIGZhbHNlXG4gKiB3aGVuIGFueSBrZXkgaGFzIHZhbHVlcyB3aGljaCBhcmUgbm90IHN0cmljdGx5IGVxdWFsIGJldHdlZW4gdGhlIGFyZ3VtZW50cy5cbiAqIFJldHVybnMgdHJ1ZSB3aGVuIHRoZSB2YWx1ZXMgb2YgYWxsIGtleXMgYXJlIHN0cmljdGx5IGVxdWFsLlxuICovXG5mdW5jdGlvbiBzaGFsbG93RXF1YWwob2JqQSwgb2JqQikge1xuICBpZiAoaXMob2JqQSwgb2JqQikpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqQSAhPT0gJ29iamVjdCcgfHwgb2JqQSA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqQiAhPT0gJ29iamVjdCcgfHwgb2JqQiA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBrZXlzQSA9IE9iamVjdC5rZXlzKG9iakEpO1xuICB2YXIga2V5c0IgPSBPYmplY3Qua2V5cyhvYmpCKTtcblxuICBpZiAoa2V5c0EubGVuZ3RoICE9PSBrZXlzQi5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBUZXN0IGZvciBBJ3Mga2V5cyBkaWZmZXJlbnQgZnJvbSBCLlxuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXNBLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iakIsIGtleXNBW2ldKSB8fCAhaXMob2JqQVtrZXlzQVtpXV0sIG9iakJba2V5c0FbaV1dKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNoYWxsb3dFcXVhbDsiLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQHR5cGVjaGVja3NcbiAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBmYi13d3cvdHlwZW9mLXVuZGVmaW5lZCAqL1xuXG4vKipcbiAqIFNhbWUgYXMgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBidXQgd3JhcHMgaW4gYSB0cnktY2F0Y2ggYmxvY2suIEluIElFIGl0IGlzXG4gKiBub3Qgc2FmZSB0byBjYWxsIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgaWYgdGhlcmUgaXMgbm90aGluZyBmb2N1c2VkLlxuICpcbiAqIFRoZSBhY3RpdmVFbGVtZW50IHdpbGwgYmUgbnVsbCBvbmx5IGlmIHRoZSBkb2N1bWVudCBvciBkb2N1bWVudCBib2R5IGlzIG5vdFxuICogeWV0IGRlZmluZWQuXG4gKlxuICogQHBhcmFtIHs/RE9NRG9jdW1lbnR9IGRvYyBEZWZhdWx0cyB0byBjdXJyZW50IGRvY3VtZW50LlxuICogQHJldHVybiB7P0RPTUVsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIGdldEFjdGl2ZUVsZW1lbnQoZG9jKSAvKj9ET01FbGVtZW50Ki97XG4gIGRvYyA9IGRvYyB8fCAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyA/IGRvY3VtZW50IDogdW5kZWZpbmVkKTtcbiAgaWYgKHR5cGVvZiBkb2MgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdHJ5IHtcbiAgICByZXR1cm4gZG9jLmFjdGl2ZUVsZW1lbnQgfHwgZG9jLmJvZHk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZG9jLmJvZHk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRBY3RpdmVFbGVtZW50OyIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGNhblVzZURPTSA9ICEhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5cbi8qKlxuICogU2ltcGxlLCBsaWdodHdlaWdodCBtb2R1bGUgYXNzaXN0aW5nIHdpdGggdGhlIGRldGVjdGlvbiBhbmQgY29udGV4dCBvZlxuICogV29ya2VyLiBIZWxwcyBhdm9pZCBjaXJjdWxhciBkZXBlbmRlbmNpZXMgYW5kIGFsbG93cyBjb2RlIHRvIHJlYXNvbiBhYm91dFxuICogd2hldGhlciBvciBub3QgdGhleSBhcmUgaW4gYSBXb3JrZXIsIGV2ZW4gaWYgdGhleSBuZXZlciBpbmNsdWRlIHRoZSBtYWluXG4gKiBgUmVhY3RXb3JrZXJgIGRlcGVuZGVuY3kuXG4gKi9cbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHtcblxuICBjYW5Vc2VET006IGNhblVzZURPTSxcblxuICBjYW5Vc2VXb3JrZXJzOiB0eXBlb2YgV29ya2VyICE9PSAndW5kZWZpbmVkJyxcblxuICBjYW5Vc2VFdmVudExpc3RlbmVyczogY2FuVXNlRE9NICYmICEhKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyIHx8IHdpbmRvdy5hdHRhY2hFdmVudCksXG5cbiAgY2FuVXNlVmlld3BvcnQ6IGNhblVzZURPTSAmJiAhIXdpbmRvdy5zY3JlZW4sXG5cbiAgaXNJbldvcmtlcjogIWNhblVzZURPTSAvLyBGb3Igbm93LCB0aGlzIGlzIHRydWUgLSBtaWdodCBjaGFuZ2UgaW4gdGhlIGZ1dHVyZS5cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBFeGVjdXRpb25FbnZpcm9ubWVudDsiLCIvKiogQGxpY2Vuc2UgUmVhY3QgdjE2LjMuMVxuICogcmVhY3QtZG9tLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAoZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG52YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJ2ZianMvbGliL0V4ZWN1dGlvbkVudmlyb25tZW50Jyk7XG52YXIgX2Fzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcbnZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlGdW5jdGlvbicpO1xudmFyIGNoZWNrUHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcy9jaGVja1Byb3BUeXBlcycpO1xudmFyIGdldEFjdGl2ZUVsZW1lbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9nZXRBY3RpdmVFbGVtZW50Jyk7XG52YXIgc2hhbGxvd0VxdWFsID0gcmVxdWlyZSgnZmJqcy9saWIvc2hhbGxvd0VxdWFsJyk7XG52YXIgY29udGFpbnNOb2RlID0gcmVxdWlyZSgnZmJqcy9saWIvY29udGFpbnNOb2RlJyk7XG52YXIgZW1wdHlPYmplY3QgPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eU9iamVjdCcpO1xudmFyIGh5cGhlbmF0ZVN0eWxlTmFtZSA9IHJlcXVpcmUoJ2ZianMvbGliL2h5cGhlbmF0ZVN0eWxlTmFtZScpO1xudmFyIGNhbWVsaXplU3R5bGVOYW1lID0gcmVxdWlyZSgnZmJqcy9saWIvY2FtZWxpemVTdHlsZU5hbWUnKTtcblxuLyoqXG4gKiBXQVJOSU5HOiBETyBOT1QgbWFudWFsbHkgcmVxdWlyZSB0aGlzIG1vZHVsZS5cbiAqIFRoaXMgaXMgYSByZXBsYWNlbWVudCBmb3IgYGludmFyaWFudCguLi4pYCB1c2VkIGJ5IHRoZSBlcnJvciBjb2RlIHN5c3RlbVxuICogYW5kIHdpbGwgX29ubHlfIGJlIHJlcXVpcmVkIGJ5IHRoZSBjb3JyZXNwb25kaW5nIGJhYmVsIHBhc3MuXG4gKiBJdCBhbHdheXMgdGhyb3dzLlxuICovXG5cbiFSZWFjdCA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0RE9NIHdhcyBsb2FkZWQgYmVmb3JlIFJlYWN0LiBNYWtlIHN1cmUgeW91IGxvYWQgdGhlIFJlYWN0IHBhY2thZ2UgYmVmb3JlIGxvYWRpbmcgUmVhY3RET00uJykgOiB2b2lkIDA7XG5cbnZhciBpbnZva2VHdWFyZGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiAobmFtZSwgZnVuYywgY29udGV4dCwgYSwgYiwgYywgZCwgZSwgZikge1xuICB0aGlzLl9oYXNDYXVnaHRFcnJvciA9IGZhbHNlO1xuICB0aGlzLl9jYXVnaHRFcnJvciA9IG51bGw7XG4gIHZhciBmdW5jQXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMyk7XG4gIHRyeSB7XG4gICAgZnVuYy5hcHBseShjb250ZXh0LCBmdW5jQXJncyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhpcy5fY2F1Z2h0RXJyb3IgPSBlcnJvcjtcbiAgICB0aGlzLl9oYXNDYXVnaHRFcnJvciA9IHRydWU7XG4gIH1cbn07XG5cbntcbiAgLy8gSW4gREVWIG1vZGUsIHdlIHN3YXAgb3V0IGludm9rZUd1YXJkZWRDYWxsYmFjayBmb3IgYSBzcGVjaWFsIHZlcnNpb25cbiAgLy8gdGhhdCBwbGF5cyBtb3JlIG5pY2VseSB3aXRoIHRoZSBicm93c2VyJ3MgRGV2VG9vbHMuIFRoZSBpZGVhIGlzIHRvIHByZXNlcnZlXG4gIC8vIFwiUGF1c2Ugb24gZXhjZXB0aW9uc1wiIGJlaGF2aW9yLiBCZWNhdXNlIFJlYWN0IHdyYXBzIGFsbCB1c2VyLXByb3ZpZGVkXG4gIC8vIGZ1bmN0aW9ucyBpbiBpbnZva2VHdWFyZGVkQ2FsbGJhY2ssIGFuZCB0aGUgcHJvZHVjdGlvbiB2ZXJzaW9uIG9mXG4gIC8vIGludm9rZUd1YXJkZWRDYWxsYmFjayB1c2VzIGEgdHJ5LWNhdGNoLCBhbGwgdXNlciBleGNlcHRpb25zIGFyZSB0cmVhdGVkXG4gIC8vIGxpa2UgY2F1Z2h0IGV4Y2VwdGlvbnMsIGFuZCB0aGUgRGV2VG9vbHMgd29uJ3QgcGF1c2UgdW5sZXNzIHRoZSBkZXZlbG9wZXJcbiAgLy8gdGFrZXMgdGhlIGV4dHJhIHN0ZXAgb2YgZW5hYmxpbmcgcGF1c2Ugb24gY2F1Z2h0IGV4Y2VwdGlvbnMuIFRoaXMgaXNcbiAgLy8gdW50aW50dWl0aXZlLCB0aG91Z2gsIGJlY2F1c2UgZXZlbiB0aG91Z2ggUmVhY3QgaGFzIGNhdWdodCB0aGUgZXJyb3IsIGZyb21cbiAgLy8gdGhlIGRldmVsb3BlcidzIHBlcnNwZWN0aXZlLCB0aGUgZXJyb3IgaXMgdW5jYXVnaHQuXG4gIC8vXG4gIC8vIFRvIHByZXNlcnZlIHRoZSBleHBlY3RlZCBcIlBhdXNlIG9uIGV4Y2VwdGlvbnNcIiBiZWhhdmlvciwgd2UgZG9uJ3QgdXNlIGFcbiAgLy8gdHJ5LWNhdGNoIGluIERFVi4gSW5zdGVhZCwgd2Ugc3luY2hyb25vdXNseSBkaXNwYXRjaCBhIGZha2UgZXZlbnQgdG8gYSBmYWtlXG4gIC8vIERPTSBub2RlLCBhbmQgY2FsbCB0aGUgdXNlci1wcm92aWRlZCBjYWxsYmFjayBmcm9tIGluc2lkZSBhbiBldmVudCBoYW5kbGVyXG4gIC8vIGZvciB0aGF0IGZha2UgZXZlbnQuIElmIHRoZSBjYWxsYmFjayB0aHJvd3MsIHRoZSBlcnJvciBpcyBcImNhcHR1cmVkXCIgdXNpbmdcbiAgLy8gYSBnbG9iYWwgZXZlbnQgaGFuZGxlci4gQnV0IGJlY2F1c2UgdGhlIGVycm9yIGhhcHBlbnMgaW4gYSBkaWZmZXJlbnRcbiAgLy8gZXZlbnQgbG9vcCBjb250ZXh0LCBpdCBkb2VzIG5vdCBpbnRlcnJ1cHQgdGhlIG5vcm1hbCBwcm9ncmFtIGZsb3cuXG4gIC8vIEVmZmVjdGl2ZWx5LCB0aGlzIGdpdmVzIHVzIHRyeS1jYXRjaCBiZWhhdmlvciB3aXRob3V0IGFjdHVhbGx5IHVzaW5nXG4gIC8vIHRyeS1jYXRjaC4gTmVhdCFcblxuICAvLyBDaGVjayB0aGF0IHRoZSBicm93c2VyIHN1cHBvcnRzIHRoZSBBUElzIHdlIG5lZWQgdG8gaW1wbGVtZW50IG91ciBzcGVjaWFsXG4gIC8vIERFViB2ZXJzaW9uIG9mIGludm9rZUd1YXJkZWRDYWxsYmFja1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kaXNwYXRjaEV2ZW50ID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUV2ZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIGZha2VOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncmVhY3QnKTtcblxuICAgIHZhciBpbnZva2VHdWFyZGVkQ2FsbGJhY2tEZXYgPSBmdW5jdGlvbiAobmFtZSwgZnVuYywgY29udGV4dCwgYSwgYiwgYywgZCwgZSwgZikge1xuICAgICAgLy8gSWYgZG9jdW1lbnQgZG9lc24ndCBleGlzdCB3ZSBrbm93IGZvciBzdXJlIHdlIHdpbGwgY3Jhc2ggaW4gdGhpcyBtZXRob2RcbiAgICAgIC8vIHdoZW4gd2UgY2FsbCBkb2N1bWVudC5jcmVhdGVFdmVudCgpLiBIb3dldmVyIHRoaXMgY2FuIGNhdXNlIGNvbmZ1c2luZ1xuICAgICAgLy8gZXJyb3JzOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2tpbmN1YmF0b3IvY3JlYXRlLXJlYWN0LWFwcC9pc3N1ZXMvMzQ4MlxuICAgICAgLy8gU28gd2UgcHJlZW1wdGl2ZWx5IHRocm93IHdpdGggYSBiZXR0ZXIgbWVzc2FnZSBpbnN0ZWFkLlxuICAgICAgISh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSA/IGludmFyaWFudChmYWxzZSwgJ1RoZSBgZG9jdW1lbnRgIGdsb2JhbCB3YXMgZGVmaW5lZCB3aGVuIFJlYWN0IHdhcyBpbml0aWFsaXplZCwgYnV0IGlzIG5vdCBkZWZpbmVkIGFueW1vcmUuIFRoaXMgY2FuIGhhcHBlbiBpbiBhIHRlc3QgZW52aXJvbm1lbnQgaWYgYSBjb21wb25lbnQgc2NoZWR1bGVzIGFuIHVwZGF0ZSBmcm9tIGFuIGFzeW5jaHJvbm91cyBjYWxsYmFjaywgYnV0IHRoZSB0ZXN0IGhhcyBhbHJlYWR5IGZpbmlzaGVkIHJ1bm5pbmcuIFRvIHNvbHZlIHRoaXMsIHlvdSBjYW4gZWl0aGVyIHVubW91bnQgdGhlIGNvbXBvbmVudCBhdCB0aGUgZW5kIG9mIHlvdXIgdGVzdCAoYW5kIGVuc3VyZSB0aGF0IGFueSBhc3luY2hyb25vdXMgb3BlcmF0aW9ucyBnZXQgY2FuY2VsZWQgaW4gYGNvbXBvbmVudFdpbGxVbm1vdW50YCksIG9yIHlvdSBjYW4gY2hhbmdlIHRoZSB0ZXN0IGl0c2VsZiB0byBiZSBhc3luY2hyb25vdXMuJykgOiB2b2lkIDA7XG4gICAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG5cbiAgICAgIC8vIEtlZXBzIHRyYWNrIG9mIHdoZXRoZXIgdGhlIHVzZXItcHJvdmlkZWQgY2FsbGJhY2sgdGhyZXcgYW4gZXJyb3IuIFdlXG4gICAgICAvLyBzZXQgdGhpcyB0byB0cnVlIGF0IHRoZSBiZWdpbm5pbmcsIHRoZW4gc2V0IGl0IHRvIGZhbHNlIHJpZ2h0IGFmdGVyXG4gICAgICAvLyBjYWxsaW5nIHRoZSBmdW5jdGlvbi4gSWYgdGhlIGZ1bmN0aW9uIGVycm9ycywgYGRpZEVycm9yYCB3aWxsIG5ldmVyIGJlXG4gICAgICAvLyBzZXQgdG8gZmFsc2UuIFRoaXMgc3RyYXRlZ3kgd29ya3MgZXZlbiBpZiB0aGUgYnJvd3NlciBpcyBmbGFreSBhbmRcbiAgICAgIC8vIGZhaWxzIHRvIGNhbGwgb3VyIGdsb2JhbCBlcnJvciBoYW5kbGVyLCBiZWNhdXNlIGl0IGRvZXNuJ3QgcmVseSBvblxuICAgICAgLy8gdGhlIGVycm9yIGV2ZW50IGF0IGFsbC5cbiAgICAgIHZhciBkaWRFcnJvciA9IHRydWU7XG5cbiAgICAgIC8vIENyZWF0ZSBhbiBldmVudCBoYW5kbGVyIGZvciBvdXIgZmFrZSBldmVudC4gV2Ugd2lsbCBzeW5jaHJvbm91c2x5XG4gICAgICAvLyBkaXNwYXRjaCBvdXIgZmFrZSBldmVudCB1c2luZyBgZGlzcGF0Y2hFdmVudGAuIEluc2lkZSB0aGUgaGFuZGxlciwgd2VcbiAgICAgIC8vIGNhbGwgdGhlIHVzZXItcHJvdmlkZWQgY2FsbGJhY2suXG4gICAgICB2YXIgZnVuY0FyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDMpO1xuICAgICAgZnVuY3Rpb24gY2FsbENhbGxiYWNrKCkge1xuICAgICAgICAvLyBXZSBpbW1lZGlhdGVseSByZW1vdmUgdGhlIGNhbGxiYWNrIGZyb20gZXZlbnQgbGlzdGVuZXJzIHNvIHRoYXRcbiAgICAgICAgLy8gbmVzdGVkIGBpbnZva2VHdWFyZGVkQ2FsbGJhY2tgIGNhbGxzIGRvIG5vdCBjbGFzaC4gT3RoZXJ3aXNlLCBhXG4gICAgICAgIC8vIG5lc3RlZCBjYWxsIHdvdWxkIHRyaWdnZXIgdGhlIGZha2UgZXZlbnQgaGFuZGxlcnMgb2YgYW55IGNhbGwgaGlnaGVyXG4gICAgICAgIC8vIGluIHRoZSBzdGFjay5cbiAgICAgICAgZmFrZU5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldnRUeXBlLCBjYWxsQ2FsbGJhY2ssIGZhbHNlKTtcbiAgICAgICAgZnVuYy5hcHBseShjb250ZXh0LCBmdW5jQXJncyk7XG4gICAgICAgIGRpZEVycm9yID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIENyZWF0ZSBhIGdsb2JhbCBlcnJvciBldmVudCBoYW5kbGVyLiBXZSB1c2UgdGhpcyB0byBjYXB0dXJlIHRoZSB2YWx1ZVxuICAgICAgLy8gdGhhdCB3YXMgdGhyb3duLiBJdCdzIHBvc3NpYmxlIHRoYXQgdGhpcyBlcnJvciBoYW5kbGVyIHdpbGwgZmlyZSBtb3JlXG4gICAgICAvLyB0aGFuIG9uY2U7IGZvciBleGFtcGxlLCBpZiBub24tUmVhY3QgY29kZSBhbHNvIGNhbGxzIGBkaXNwYXRjaEV2ZW50YFxuICAgICAgLy8gYW5kIGEgaGFuZGxlciBmb3IgdGhhdCBldmVudCB0aHJvd3MuIFdlIHNob3VsZCBiZSByZXNpbGllbnQgdG8gbW9zdCBvZlxuICAgICAgLy8gdGhvc2UgY2FzZXMuIEV2ZW4gaWYgb3VyIGVycm9yIGV2ZW50IGhhbmRsZXIgZmlyZXMgbW9yZSB0aGFuIG9uY2UsIHRoZVxuICAgICAgLy8gbGFzdCBlcnJvciBldmVudCBpcyBhbHdheXMgdXNlZC4gSWYgdGhlIGNhbGxiYWNrIGFjdHVhbGx5IGRvZXMgZXJyb3IsXG4gICAgICAvLyB3ZSBrbm93IHRoYXQgdGhlIGxhc3QgZXJyb3IgZXZlbnQgaXMgdGhlIGNvcnJlY3Qgb25lLCBiZWNhdXNlIGl0J3Mgbm90XG4gICAgICAvLyBwb3NzaWJsZSBmb3IgYW55dGhpbmcgZWxzZSB0byBoYXZlIGhhcHBlbmVkIGluIGJldHdlZW4gb3VyIGNhbGxiYWNrXG4gICAgICAvLyBlcnJvcmluZyBhbmQgdGhlIGNvZGUgdGhhdCBmb2xsb3dzIHRoZSBgZGlzcGF0Y2hFdmVudGAgY2FsbCBiZWxvdy4gSWZcbiAgICAgIC8vIHRoZSBjYWxsYmFjayBkb2Vzbid0IGVycm9yLCBidXQgdGhlIGVycm9yIGV2ZW50IHdhcyBmaXJlZCwgd2Uga25vdyB0b1xuICAgICAgLy8gaWdub3JlIGl0IGJlY2F1c2UgYGRpZEVycm9yYCB3aWxsIGJlIGZhbHNlLCBhcyBkZXNjcmliZWQgYWJvdmUuXG4gICAgICB2YXIgZXJyb3IgPSB2b2lkIDA7XG4gICAgICAvLyBVc2UgdGhpcyB0byB0cmFjayB3aGV0aGVyIHRoZSBlcnJvciBldmVudCBpcyBldmVyIGNhbGxlZC5cbiAgICAgIHZhciBkaWRTZXRFcnJvciA9IGZhbHNlO1xuICAgICAgdmFyIGlzQ3Jvc3NPcmlnaW5FcnJvciA9IGZhbHNlO1xuXG4gICAgICBmdW5jdGlvbiBvbkVycm9yKGV2ZW50KSB7XG4gICAgICAgIGVycm9yID0gZXZlbnQuZXJyb3I7XG4gICAgICAgIGRpZFNldEVycm9yID0gdHJ1ZTtcbiAgICAgICAgaWYgKGVycm9yID09PSBudWxsICYmIGV2ZW50LmNvbG5vID09PSAwICYmIGV2ZW50LmxpbmVubyA9PT0gMCkge1xuICAgICAgICAgIGlzQ3Jvc3NPcmlnaW5FcnJvciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlIGEgZmFrZSBldmVudCB0eXBlLlxuICAgICAgdmFyIGV2dFR5cGUgPSAncmVhY3QtJyArIChuYW1lID8gbmFtZSA6ICdpbnZva2VndWFyZGVkY2FsbGJhY2snKTtcblxuICAgICAgLy8gQXR0YWNoIG91ciBldmVudCBoYW5kbGVyc1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgb25FcnJvcik7XG4gICAgICBmYWtlTm9kZS5hZGRFdmVudExpc3RlbmVyKGV2dFR5cGUsIGNhbGxDYWxsYmFjaywgZmFsc2UpO1xuXG4gICAgICAvLyBTeW5jaHJvbm91c2x5IGRpc3BhdGNoIG91ciBmYWtlIGV2ZW50LiBJZiB0aGUgdXNlci1wcm92aWRlZCBmdW5jdGlvblxuICAgICAgLy8gZXJyb3JzLCBpdCB3aWxsIHRyaWdnZXIgb3VyIGdsb2JhbCBlcnJvciBoYW5kbGVyLlxuICAgICAgZXZ0LmluaXRFdmVudChldnRUeXBlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgZmFrZU5vZGUuZGlzcGF0Y2hFdmVudChldnQpO1xuXG4gICAgICBpZiAoZGlkRXJyb3IpIHtcbiAgICAgICAgaWYgKCFkaWRTZXRFcnJvcikge1xuICAgICAgICAgIC8vIFRoZSBjYWxsYmFjayBlcnJvcmVkLCBidXQgdGhlIGVycm9yIGV2ZW50IG5ldmVyIGZpcmVkLlxuICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKCdBbiBlcnJvciB3YXMgdGhyb3duIGluc2lkZSBvbmUgb2YgeW91ciBjb21wb25lbnRzLCBidXQgUmVhY3QgJyArIFwiZG9lc24ndCBrbm93IHdoYXQgaXQgd2FzLiBUaGlzIGlzIGxpa2VseSBkdWUgdG8gYnJvd3NlciBcIiArICdmbGFraW5lc3MuIFJlYWN0IGRvZXMgaXRzIGJlc3QgdG8gcHJlc2VydmUgdGhlIFwiUGF1c2Ugb24gJyArICdleGNlcHRpb25zXCIgYmVoYXZpb3Igb2YgdGhlIERldlRvb2xzLCB3aGljaCByZXF1aXJlcyBzb21lICcgKyBcIkRFVi1tb2RlIG9ubHkgdHJpY2tzLiBJdCdzIHBvc3NpYmxlIHRoYXQgdGhlc2UgZG9uJ3Qgd29yayBpbiBcIiArICd5b3VyIGJyb3dzZXIuIFRyeSB0cmlnZ2VyaW5nIHRoZSBlcnJvciBpbiBwcm9kdWN0aW9uIG1vZGUsICcgKyAnb3Igc3dpdGNoaW5nIHRvIGEgbW9kZXJuIGJyb3dzZXIuIElmIHlvdSBzdXNwZWN0IHRoYXQgdGhpcyBpcyAnICsgJ2FjdHVhbGx5IGFuIGlzc3VlIHdpdGggUmVhY3QsIHBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQ3Jvc3NPcmlnaW5FcnJvcikge1xuICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKFwiQSBjcm9zcy1vcmlnaW4gZXJyb3Igd2FzIHRocm93bi4gUmVhY3QgZG9lc24ndCBoYXZlIGFjY2VzcyB0byBcIiArICd0aGUgYWN0dWFsIGVycm9yIG9iamVjdCBpbiBkZXZlbG9wbWVudC4gJyArICdTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC1jcm9zc29yaWdpbi1lcnJvciBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9oYXNDYXVnaHRFcnJvciA9IHRydWU7XG4gICAgICAgIHRoaXMuX2NhdWdodEVycm9yID0gZXJyb3I7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9oYXNDYXVnaHRFcnJvciA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jYXVnaHRFcnJvciA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSBvdXIgZXZlbnQgbGlzdGVuZXJzXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBvbkVycm9yKTtcbiAgICB9O1xuXG4gICAgaW52b2tlR3VhcmRlZENhbGxiYWNrID0gaW52b2tlR3VhcmRlZENhbGxiYWNrRGV2O1xuICB9XG59XG5cbnZhciBpbnZva2VHdWFyZGVkQ2FsbGJhY2skMSA9IGludm9rZUd1YXJkZWRDYWxsYmFjaztcblxudmFyIFJlYWN0RXJyb3JVdGlscyA9IHtcbiAgLy8gVXNlZCBieSBGaWJlciB0byBzaW11bGF0ZSBhIHRyeS1jYXRjaC5cbiAgX2NhdWdodEVycm9yOiBudWxsLFxuICBfaGFzQ2F1Z2h0RXJyb3I6IGZhbHNlLFxuXG4gIC8vIFVzZWQgYnkgZXZlbnQgc3lzdGVtIHRvIGNhcHR1cmUvcmV0aHJvdyB0aGUgZmlyc3QgZXJyb3IuXG4gIF9yZXRocm93RXJyb3I6IG51bGwsXG4gIF9oYXNSZXRocm93RXJyb3I6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBDYWxsIGEgZnVuY3Rpb24gd2hpbGUgZ3VhcmRpbmcgYWdhaW5zdCBlcnJvcnMgdGhhdCBoYXBwZW5zIHdpdGhpbiBpdC5cbiAgICogUmV0dXJucyBhbiBlcnJvciBpZiBpdCB0aHJvd3MsIG90aGVyd2lzZSBudWxsLlxuICAgKlxuICAgKiBJbiBwcm9kdWN0aW9uLCB0aGlzIGlzIGltcGxlbWVudGVkIHVzaW5nIGEgdHJ5LWNhdGNoLiBUaGUgcmVhc29uIHdlIGRvbid0XG4gICAqIHVzZSBhIHRyeS1jYXRjaCBkaXJlY3RseSBpcyBzbyB0aGF0IHdlIGNhbiBzd2FwIG91dCBhIGRpZmZlcmVudFxuICAgKiBpbXBsZW1lbnRhdGlvbiBpbiBERVYgbW9kZS5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgb2YgdGhlIGd1YXJkIHRvIHVzZSBmb3IgbG9nZ2luZyBvciBkZWJ1Z2dpbmdcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlXG4gICAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byB1c2Ugd2hlbiBjYWxsaW5nIHRoZSBmdW5jdGlvblxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3MgQXJndW1lbnRzIGZvciBmdW5jdGlvblxuICAgKi9cbiAgaW52b2tlR3VhcmRlZENhbGxiYWNrOiBmdW5jdGlvbiAobmFtZSwgZnVuYywgY29udGV4dCwgYSwgYiwgYywgZCwgZSwgZikge1xuICAgIGludm9rZUd1YXJkZWRDYWxsYmFjayQxLmFwcGx5KFJlYWN0RXJyb3JVdGlscywgYXJndW1lbnRzKTtcbiAgfSxcblxuICAvKipcbiAgICogU2FtZSBhcyBpbnZva2VHdWFyZGVkQ2FsbGJhY2ssIGJ1dCBpbnN0ZWFkIG9mIHJldHVybmluZyBhbiBlcnJvciwgaXQgc3RvcmVzXG4gICAqIGl0IGluIGEgZ2xvYmFsIHNvIGl0IGNhbiBiZSByZXRocm93biBieSBgcmV0aHJvd0NhdWdodEVycm9yYCBsYXRlci5cbiAgICogVE9ETzogU2VlIGlmIF9jYXVnaHRFcnJvciBhbmQgX3JldGhyb3dFcnJvciBjYW4gYmUgdW5pZmllZC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgb2YgdGhlIGd1YXJkIHRvIHVzZSBmb3IgbG9nZ2luZyBvciBkZWJ1Z2dpbmdcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlXG4gICAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byB1c2Ugd2hlbiBjYWxsaW5nIHRoZSBmdW5jdGlvblxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3MgQXJndW1lbnRzIGZvciBmdW5jdGlvblxuICAgKi9cbiAgaW52b2tlR3VhcmRlZENhbGxiYWNrQW5kQ2F0Y2hGaXJzdEVycm9yOiBmdW5jdGlvbiAobmFtZSwgZnVuYywgY29udGV4dCwgYSwgYiwgYywgZCwgZSwgZikge1xuICAgIFJlYWN0RXJyb3JVdGlscy5pbnZva2VHdWFyZGVkQ2FsbGJhY2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAoUmVhY3RFcnJvclV0aWxzLmhhc0NhdWdodEVycm9yKCkpIHtcbiAgICAgIHZhciBlcnJvciA9IFJlYWN0RXJyb3JVdGlscy5jbGVhckNhdWdodEVycm9yKCk7XG4gICAgICBpZiAoIVJlYWN0RXJyb3JVdGlscy5faGFzUmV0aHJvd0Vycm9yKSB7XG4gICAgICAgIFJlYWN0RXJyb3JVdGlscy5faGFzUmV0aHJvd0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgUmVhY3RFcnJvclV0aWxzLl9yZXRocm93RXJyb3IgPSBlcnJvcjtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIER1cmluZyBleGVjdXRpb24gb2YgZ3VhcmRlZCBmdW5jdGlvbnMgd2Ugd2lsbCBjYXB0dXJlIHRoZSBmaXJzdCBlcnJvciB3aGljaFxuICAgKiB3ZSB3aWxsIHJldGhyb3cgdG8gYmUgaGFuZGxlZCBieSB0aGUgdG9wIGxldmVsIGVycm9yIGhhbmRsZXIuXG4gICAqL1xuICByZXRocm93Q2F1Z2h0RXJyb3I6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcmV0aHJvd0NhdWdodEVycm9yLmFwcGx5KFJlYWN0RXJyb3JVdGlscywgYXJndW1lbnRzKTtcbiAgfSxcblxuICBoYXNDYXVnaHRFcnJvcjogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBSZWFjdEVycm9yVXRpbHMuX2hhc0NhdWdodEVycm9yO1xuICB9LFxuXG4gIGNsZWFyQ2F1Z2h0RXJyb3I6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoUmVhY3RFcnJvclV0aWxzLl9oYXNDYXVnaHRFcnJvcikge1xuICAgICAgdmFyIGVycm9yID0gUmVhY3RFcnJvclV0aWxzLl9jYXVnaHRFcnJvcjtcbiAgICAgIFJlYWN0RXJyb3JVdGlscy5fY2F1Z2h0RXJyb3IgPSBudWxsO1xuICAgICAgUmVhY3RFcnJvclV0aWxzLl9oYXNDYXVnaHRFcnJvciA9IGZhbHNlO1xuICAgICAgcmV0dXJuIGVycm9yO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnZhcmlhbnQoZmFsc2UsICdjbGVhckNhdWdodEVycm9yIHdhcyBjYWxsZWQgYnV0IG5vIGVycm9yIHdhcyBjYXB0dXJlZC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgICB9XG4gIH1cbn07XG5cbnZhciByZXRocm93Q2F1Z2h0RXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gIGlmIChSZWFjdEVycm9yVXRpbHMuX2hhc1JldGhyb3dFcnJvcikge1xuICAgIHZhciBlcnJvciA9IFJlYWN0RXJyb3JVdGlscy5fcmV0aHJvd0Vycm9yO1xuICAgIFJlYWN0RXJyb3JVdGlscy5fcmV0aHJvd0Vycm9yID0gbnVsbDtcbiAgICBSZWFjdEVycm9yVXRpbHMuX2hhc1JldGhyb3dFcnJvciA9IGZhbHNlO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG4vKipcbiAqIEluamVjdGFibGUgb3JkZXJpbmcgb2YgZXZlbnQgcGx1Z2lucy5cbiAqL1xudmFyIGV2ZW50UGx1Z2luT3JkZXIgPSBudWxsO1xuXG4vKipcbiAqIEluamVjdGFibGUgbWFwcGluZyBmcm9tIG5hbWVzIHRvIGV2ZW50IHBsdWdpbiBtb2R1bGVzLlxuICovXG52YXIgbmFtZXNUb1BsdWdpbnMgPSB7fTtcblxuLyoqXG4gKiBSZWNvbXB1dGVzIHRoZSBwbHVnaW4gbGlzdCB1c2luZyB0aGUgaW5qZWN0ZWQgcGx1Z2lucyBhbmQgcGx1Z2luIG9yZGVyaW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlY29tcHV0ZVBsdWdpbk9yZGVyaW5nKCkge1xuICBpZiAoIWV2ZW50UGx1Z2luT3JkZXIpIHtcbiAgICAvLyBXYWl0IHVudGlsIGFuIGBldmVudFBsdWdpbk9yZGVyYCBpcyBpbmplY3RlZC5cbiAgICByZXR1cm47XG4gIH1cbiAgZm9yICh2YXIgcGx1Z2luTmFtZSBpbiBuYW1lc1RvUGx1Z2lucykge1xuICAgIHZhciBwbHVnaW5Nb2R1bGUgPSBuYW1lc1RvUGx1Z2luc1twbHVnaW5OYW1lXTtcbiAgICB2YXIgcGx1Z2luSW5kZXggPSBldmVudFBsdWdpbk9yZGVyLmluZGV4T2YocGx1Z2luTmFtZSk7XG4gICAgIShwbHVnaW5JbmRleCA+IC0xKSA/IGludmFyaWFudChmYWxzZSwgJ0V2ZW50UGx1Z2luUmVnaXN0cnk6IENhbm5vdCBpbmplY3QgZXZlbnQgcGx1Z2lucyB0aGF0IGRvIG5vdCBleGlzdCBpbiB0aGUgcGx1Z2luIG9yZGVyaW5nLCBgJXNgLicsIHBsdWdpbk5hbWUpIDogdm9pZCAwO1xuICAgIGlmIChwbHVnaW5zW3BsdWdpbkluZGV4XSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgICFwbHVnaW5Nb2R1bGUuZXh0cmFjdEV2ZW50cyA/IGludmFyaWFudChmYWxzZSwgJ0V2ZW50UGx1Z2luUmVnaXN0cnk6IEV2ZW50IHBsdWdpbnMgbXVzdCBpbXBsZW1lbnQgYW4gYGV4dHJhY3RFdmVudHNgIG1ldGhvZCwgYnV0IGAlc2AgZG9lcyBub3QuJywgcGx1Z2luTmFtZSkgOiB2b2lkIDA7XG4gICAgcGx1Z2luc1twbHVnaW5JbmRleF0gPSBwbHVnaW5Nb2R1bGU7XG4gICAgdmFyIHB1Ymxpc2hlZEV2ZW50cyA9IHBsdWdpbk1vZHVsZS5ldmVudFR5cGVzO1xuICAgIGZvciAodmFyIGV2ZW50TmFtZSBpbiBwdWJsaXNoZWRFdmVudHMpIHtcbiAgICAgICFwdWJsaXNoRXZlbnRGb3JQbHVnaW4ocHVibGlzaGVkRXZlbnRzW2V2ZW50TmFtZV0sIHBsdWdpbk1vZHVsZSwgZXZlbnROYW1lKSA/IGludmFyaWFudChmYWxzZSwgJ0V2ZW50UGx1Z2luUmVnaXN0cnk6IEZhaWxlZCB0byBwdWJsaXNoIGV2ZW50IGAlc2AgZm9yIHBsdWdpbiBgJXNgLicsIGV2ZW50TmFtZSwgcGx1Z2luTmFtZSkgOiB2b2lkIDA7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUHVibGlzaGVzIGFuIGV2ZW50IHNvIHRoYXQgaXQgY2FuIGJlIGRpc3BhdGNoZWQgYnkgdGhlIHN1cHBsaWVkIHBsdWdpbi5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gZGlzcGF0Y2hDb25maWcgRGlzcGF0Y2ggY29uZmlndXJhdGlvbiBmb3IgdGhlIGV2ZW50LlxuICogQHBhcmFtIHtvYmplY3R9IFBsdWdpbk1vZHVsZSBQbHVnaW4gcHVibGlzaGluZyB0aGUgZXZlbnQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBldmVudCB3YXMgc3VjY2Vzc2Z1bGx5IHB1Ymxpc2hlZC5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHB1Ymxpc2hFdmVudEZvclBsdWdpbihkaXNwYXRjaENvbmZpZywgcGx1Z2luTW9kdWxlLCBldmVudE5hbWUpIHtcbiAgISFldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MuaGFzT3duUHJvcGVydHkoZXZlbnROYW1lKSA/IGludmFyaWFudChmYWxzZSwgJ0V2ZW50UGx1Z2luSHViOiBNb3JlIHRoYW4gb25lIHBsdWdpbiBhdHRlbXB0ZWQgdG8gcHVibGlzaCB0aGUgc2FtZSBldmVudCBuYW1lLCBgJXNgLicsIGV2ZW50TmFtZSkgOiB2b2lkIDA7XG4gIGV2ZW50TmFtZURpc3BhdGNoQ29uZmlnc1tldmVudE5hbWVdID0gZGlzcGF0Y2hDb25maWc7XG5cbiAgdmFyIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzID0gZGlzcGF0Y2hDb25maWcucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM7XG4gIGlmIChwaGFzZWRSZWdpc3RyYXRpb25OYW1lcykge1xuICAgIGZvciAodmFyIHBoYXNlTmFtZSBpbiBwaGFzZWRSZWdpc3RyYXRpb25OYW1lcykge1xuICAgICAgaWYgKHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzLmhhc093blByb3BlcnR5KHBoYXNlTmFtZSkpIHtcbiAgICAgICAgdmFyIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWUgPSBwaGFzZWRSZWdpc3RyYXRpb25OYW1lc1twaGFzZU5hbWVdO1xuICAgICAgICBwdWJsaXNoUmVnaXN0cmF0aW9uTmFtZShwaGFzZWRSZWdpc3RyYXRpb25OYW1lLCBwbHVnaW5Nb2R1bGUsIGV2ZW50TmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKGRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICBwdWJsaXNoUmVnaXN0cmF0aW9uTmFtZShkaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lLCBwbHVnaW5Nb2R1bGUsIGV2ZW50TmFtZSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFB1Ymxpc2hlcyBhIHJlZ2lzdHJhdGlvbiBuYW1lIHRoYXQgaXMgdXNlZCB0byBpZGVudGlmeSBkaXNwYXRjaGVkIGV2ZW50cy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVnaXN0cmF0aW9uTmFtZSBSZWdpc3RyYXRpb24gbmFtZSB0byBhZGQuXG4gKiBAcGFyYW0ge29iamVjdH0gUGx1Z2luTW9kdWxlIFBsdWdpbiBwdWJsaXNoaW5nIHRoZSBldmVudC5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHB1Ymxpc2hSZWdpc3RyYXRpb25OYW1lKHJlZ2lzdHJhdGlvbk5hbWUsIHBsdWdpbk1vZHVsZSwgZXZlbnROYW1lKSB7XG4gICEhcmVnaXN0cmF0aW9uTmFtZU1vZHVsZXNbcmVnaXN0cmF0aW9uTmFtZV0gPyBpbnZhcmlhbnQoZmFsc2UsICdFdmVudFBsdWdpbkh1YjogTW9yZSB0aGFuIG9uZSBwbHVnaW4gYXR0ZW1wdGVkIHRvIHB1Ymxpc2ggdGhlIHNhbWUgcmVnaXN0cmF0aW9uIG5hbWUsIGAlc2AuJywgcmVnaXN0cmF0aW9uTmFtZSkgOiB2b2lkIDA7XG4gIHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzW3JlZ2lzdHJhdGlvbk5hbWVdID0gcGx1Z2luTW9kdWxlO1xuICByZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzW3JlZ2lzdHJhdGlvbk5hbWVdID0gcGx1Z2luTW9kdWxlLmV2ZW50VHlwZXNbZXZlbnROYW1lXS5kZXBlbmRlbmNpZXM7XG5cbiAge1xuICAgIHZhciBsb3dlckNhc2VkTmFtZSA9IHJlZ2lzdHJhdGlvbk5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzW2xvd2VyQ2FzZWROYW1lXSA9IHJlZ2lzdHJhdGlvbk5hbWU7XG5cbiAgICBpZiAocmVnaXN0cmF0aW9uTmFtZSA9PT0gJ29uRG91YmxlQ2xpY2snKSB7XG4gICAgICBwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzLm9uZGJsY2xpY2sgPSByZWdpc3RyYXRpb25OYW1lO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBwbHVnaW5zIHNvIHRoYXQgdGhleSBjYW4gZXh0cmFjdCBhbmQgZGlzcGF0Y2ggZXZlbnRzLlxuICpcbiAqIEBzZWUge0V2ZW50UGx1Z2luSHVifVxuICovXG5cbi8qKlxuICogT3JkZXJlZCBsaXN0IG9mIGluamVjdGVkIHBsdWdpbnMuXG4gKi9cbnZhciBwbHVnaW5zID0gW107XG5cbi8qKlxuICogTWFwcGluZyBmcm9tIGV2ZW50IG5hbWUgdG8gZGlzcGF0Y2ggY29uZmlnXG4gKi9cbnZhciBldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MgPSB7fTtcblxuLyoqXG4gKiBNYXBwaW5nIGZyb20gcmVnaXN0cmF0aW9uIG5hbWUgdG8gcGx1Z2luIG1vZHVsZVxuICovXG52YXIgcmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMgPSB7fTtcblxuLyoqXG4gKiBNYXBwaW5nIGZyb20gcmVnaXN0cmF0aW9uIG5hbWUgdG8gZXZlbnQgbmFtZVxuICovXG52YXIgcmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llcyA9IHt9O1xuXG4vKipcbiAqIE1hcHBpbmcgZnJvbSBsb3dlcmNhc2UgcmVnaXN0cmF0aW9uIG5hbWVzIHRvIHRoZSBwcm9wZXJseSBjYXNlZCB2ZXJzaW9uLFxuICogdXNlZCB0byB3YXJuIGluIHRoZSBjYXNlIG9mIG1pc3NpbmcgZXZlbnQgaGFuZGxlcnMuIEF2YWlsYWJsZVxuICogb25seSBpbiB0cnVlLlxuICogQHR5cGUge09iamVjdH1cbiAqL1xudmFyIHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXMgPSB7fTtcbi8vIFRydXN0IHRoZSBkZXZlbG9wZXIgdG8gb25seSB1c2UgcG9zc2libGVSZWdpc3RyYXRpb25OYW1lcyBpbiB0cnVlXG5cbi8qKlxuICogSW5qZWN0cyBhbiBvcmRlcmluZyBvZiBwbHVnaW5zIChieSBwbHVnaW4gbmFtZSkuIFRoaXMgYWxsb3dzIHRoZSBvcmRlcmluZ1xuICogdG8gYmUgZGVjb3VwbGVkIGZyb20gaW5qZWN0aW9uIG9mIHRoZSBhY3R1YWwgcGx1Z2lucyBzbyB0aGF0IG9yZGVyaW5nIGlzXG4gKiBhbHdheXMgZGV0ZXJtaW5pc3RpYyByZWdhcmRsZXNzIG9mIHBhY2thZ2luZywgb24tdGhlLWZseSBpbmplY3Rpb24sIGV0Yy5cbiAqXG4gKiBAcGFyYW0ge2FycmF5fSBJbmplY3RlZEV2ZW50UGx1Z2luT3JkZXJcbiAqIEBpbnRlcm5hbFxuICogQHNlZSB7RXZlbnRQbHVnaW5IdWIuaW5qZWN0aW9uLmluamVjdEV2ZW50UGx1Z2luT3JkZXJ9XG4gKi9cbmZ1bmN0aW9uIGluamVjdEV2ZW50UGx1Z2luT3JkZXIoaW5qZWN0ZWRFdmVudFBsdWdpbk9yZGVyKSB7XG4gICEhZXZlbnRQbHVnaW5PcmRlciA/IGludmFyaWFudChmYWxzZSwgJ0V2ZW50UGx1Z2luUmVnaXN0cnk6IENhbm5vdCBpbmplY3QgZXZlbnQgcGx1Z2luIG9yZGVyaW5nIG1vcmUgdGhhbiBvbmNlLiBZb3UgYXJlIGxpa2VseSB0cnlpbmcgdG8gbG9hZCBtb3JlIHRoYW4gb25lIGNvcHkgb2YgUmVhY3QuJykgOiB2b2lkIDA7XG4gIC8vIENsb25lIHRoZSBvcmRlcmluZyBzbyBpdCBjYW5ub3QgYmUgZHluYW1pY2FsbHkgbXV0YXRlZC5cbiAgZXZlbnRQbHVnaW5PcmRlciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGluamVjdGVkRXZlbnRQbHVnaW5PcmRlcik7XG4gIHJlY29tcHV0ZVBsdWdpbk9yZGVyaW5nKCk7XG59XG5cbi8qKlxuICogSW5qZWN0cyBwbHVnaW5zIHRvIGJlIHVzZWQgYnkgYEV2ZW50UGx1Z2luSHViYC4gVGhlIHBsdWdpbiBuYW1lcyBtdXN0IGJlXG4gKiBpbiB0aGUgb3JkZXJpbmcgaW5qZWN0ZWQgYnkgYGluamVjdEV2ZW50UGx1Z2luT3JkZXJgLlxuICpcbiAqIFBsdWdpbnMgY2FuIGJlIGluamVjdGVkIGFzIHBhcnQgb2YgcGFnZSBpbml0aWFsaXphdGlvbiBvciBvbi10aGUtZmx5LlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBpbmplY3RlZE5hbWVzVG9QbHVnaW5zIE1hcCBmcm9tIG5hbWVzIHRvIHBsdWdpbiBtb2R1bGVzLlxuICogQGludGVybmFsXG4gKiBAc2VlIHtFdmVudFBsdWdpbkh1Yi5pbmplY3Rpb24uaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lfVxuICovXG5mdW5jdGlvbiBpbmplY3RFdmVudFBsdWdpbnNCeU5hbWUoaW5qZWN0ZWROYW1lc1RvUGx1Z2lucykge1xuICB2YXIgaXNPcmRlcmluZ0RpcnR5ID0gZmFsc2U7XG4gIGZvciAodmFyIHBsdWdpbk5hbWUgaW4gaW5qZWN0ZWROYW1lc1RvUGx1Z2lucykge1xuICAgIGlmICghaW5qZWN0ZWROYW1lc1RvUGx1Z2lucy5oYXNPd25Qcm9wZXJ0eShwbHVnaW5OYW1lKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHZhciBwbHVnaW5Nb2R1bGUgPSBpbmplY3RlZE5hbWVzVG9QbHVnaW5zW3BsdWdpbk5hbWVdO1xuICAgIGlmICghbmFtZXNUb1BsdWdpbnMuaGFzT3duUHJvcGVydHkocGx1Z2luTmFtZSkgfHwgbmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV0gIT09IHBsdWdpbk1vZHVsZSkge1xuICAgICAgISFuYW1lc1RvUGx1Z2luc1twbHVnaW5OYW1lXSA/IGludmFyaWFudChmYWxzZSwgJ0V2ZW50UGx1Z2luUmVnaXN0cnk6IENhbm5vdCBpbmplY3QgdHdvIGRpZmZlcmVudCBldmVudCBwbHVnaW5zIHVzaW5nIHRoZSBzYW1lIG5hbWUsIGAlc2AuJywgcGx1Z2luTmFtZSkgOiB2b2lkIDA7XG4gICAgICBuYW1lc1RvUGx1Z2luc1twbHVnaW5OYW1lXSA9IHBsdWdpbk1vZHVsZTtcbiAgICAgIGlzT3JkZXJpbmdEaXJ0eSA9IHRydWU7XG4gICAgfVxuICB9XG4gIGlmIChpc09yZGVyaW5nRGlydHkpIHtcbiAgICByZWNvbXB1dGVQbHVnaW5PcmRlcmluZygpO1xuICB9XG59XG5cbnZhciBFdmVudFBsdWdpblJlZ2lzdHJ5ID0gT2JqZWN0LmZyZWV6ZSh7XG5cdHBsdWdpbnM6IHBsdWdpbnMsXG5cdGV2ZW50TmFtZURpc3BhdGNoQ29uZmlnczogZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzLFxuXHRyZWdpc3RyYXRpb25OYW1lTW9kdWxlczogcmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMsXG5cdHJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXM6IHJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXMsXG5cdHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXM6IHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXMsXG5cdGluamVjdEV2ZW50UGx1Z2luT3JkZXI6IGluamVjdEV2ZW50UGx1Z2luT3JkZXIsXG5cdGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZTogaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lXG59KTtcblxudmFyIGdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGUgPSBudWxsO1xudmFyIGdldEluc3RhbmNlRnJvbU5vZGUgPSBudWxsO1xudmFyIGdldE5vZGVGcm9tSW5zdGFuY2UgPSBudWxsO1xuXG52YXIgaW5qZWN0aW9uJDEgPSB7XG4gIGluamVjdENvbXBvbmVudFRyZWU6IGZ1bmN0aW9uIChJbmplY3RlZCkge1xuICAgIGdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGUgPSBJbmplY3RlZC5nZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlO1xuICAgIGdldEluc3RhbmNlRnJvbU5vZGUgPSBJbmplY3RlZC5nZXRJbnN0YW5jZUZyb21Ob2RlO1xuICAgIGdldE5vZGVGcm9tSW5zdGFuY2UgPSBJbmplY3RlZC5nZXROb2RlRnJvbUluc3RhbmNlO1xuXG4gICAge1xuICAgICAgd2FybmluZyhnZXROb2RlRnJvbUluc3RhbmNlICYmIGdldEluc3RhbmNlRnJvbU5vZGUsICdFdmVudFBsdWdpblV0aWxzLmluamVjdGlvbi5pbmplY3RDb21wb25lbnRUcmVlKC4uLik6IEluamVjdGVkICcgKyAnbW9kdWxlIGlzIG1pc3NpbmcgZ2V0Tm9kZUZyb21JbnN0YW5jZSBvciBnZXRJbnN0YW5jZUZyb21Ob2RlLicpO1xuICAgIH1cbiAgfVxufTtcblxuXG5cblxuXG5cbnZhciB2YWxpZGF0ZUV2ZW50RGlzcGF0Y2hlcyA9IHZvaWQgMDtcbntcbiAgdmFsaWRhdGVFdmVudERpc3BhdGNoZXMgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgZGlzcGF0Y2hMaXN0ZW5lcnMgPSBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnM7XG4gICAgdmFyIGRpc3BhdGNoSW5zdGFuY2VzID0gZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzO1xuXG4gICAgdmFyIGxpc3RlbmVyc0lzQXJyID0gQXJyYXkuaXNBcnJheShkaXNwYXRjaExpc3RlbmVycyk7XG4gICAgdmFyIGxpc3RlbmVyc0xlbiA9IGxpc3RlbmVyc0lzQXJyID8gZGlzcGF0Y2hMaXN0ZW5lcnMubGVuZ3RoIDogZGlzcGF0Y2hMaXN0ZW5lcnMgPyAxIDogMDtcblxuICAgIHZhciBpbnN0YW5jZXNJc0FyciA9IEFycmF5LmlzQXJyYXkoZGlzcGF0Y2hJbnN0YW5jZXMpO1xuICAgIHZhciBpbnN0YW5jZXNMZW4gPSBpbnN0YW5jZXNJc0FyciA/IGRpc3BhdGNoSW5zdGFuY2VzLmxlbmd0aCA6IGRpc3BhdGNoSW5zdGFuY2VzID8gMSA6IDA7XG5cbiAgICB3YXJuaW5nKGluc3RhbmNlc0lzQXJyID09PSBsaXN0ZW5lcnNJc0FyciAmJiBpbnN0YW5jZXNMZW4gPT09IGxpc3RlbmVyc0xlbiwgJ0V2ZW50UGx1Z2luVXRpbHM6IEludmFsaWQgYGV2ZW50YC4nKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBEaXNwYXRjaCB0aGUgZXZlbnQgdG8gdGhlIGxpc3RlbmVyLlxuICogQHBhcmFtIHtTeW50aGV0aWNFdmVudH0gZXZlbnQgU3ludGhldGljRXZlbnQgdG8gaGFuZGxlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHNpbXVsYXRlZCBJZiB0aGUgZXZlbnQgaXMgc2ltdWxhdGVkIChjaGFuZ2VzIGV4biBiZWhhdmlvcilcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGxpc3RlbmVyIEFwcGxpY2F0aW9uLWxldmVsIGNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IGluc3QgSW50ZXJuYWwgY29tcG9uZW50IGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVEaXNwYXRjaChldmVudCwgc2ltdWxhdGVkLCBsaXN0ZW5lciwgaW5zdCkge1xuICB2YXIgdHlwZSA9IGV2ZW50LnR5cGUgfHwgJ3Vua25vd24tZXZlbnQnO1xuICBldmVudC5jdXJyZW50VGFyZ2V0ID0gZ2V0Tm9kZUZyb21JbnN0YW5jZShpbnN0KTtcbiAgUmVhY3RFcnJvclV0aWxzLmludm9rZUd1YXJkZWRDYWxsYmFja0FuZENhdGNoRmlyc3RFcnJvcih0eXBlLCBsaXN0ZW5lciwgdW5kZWZpbmVkLCBldmVudCk7XG4gIGV2ZW50LmN1cnJlbnRUYXJnZXQgPSBudWxsO1xufVxuXG4vKipcbiAqIFN0YW5kYXJkL3NpbXBsZSBpdGVyYXRpb24gdGhyb3VnaCBhbiBldmVudCdzIGNvbGxlY3RlZCBkaXNwYXRjaGVzLlxuICovXG5mdW5jdGlvbiBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXIoZXZlbnQsIHNpbXVsYXRlZCkge1xuICB2YXIgZGlzcGF0Y2hMaXN0ZW5lcnMgPSBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnM7XG4gIHZhciBkaXNwYXRjaEluc3RhbmNlcyA9IGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcztcbiAge1xuICAgIHZhbGlkYXRlRXZlbnREaXNwYXRjaGVzKGV2ZW50KTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShkaXNwYXRjaExpc3RlbmVycykpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpc3BhdGNoTGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8vIExpc3RlbmVycyBhbmQgSW5zdGFuY2VzIGFyZSB0d28gcGFyYWxsZWwgYXJyYXlzIHRoYXQgYXJlIGFsd2F5cyBpbiBzeW5jLlxuICAgICAgZXhlY3V0ZURpc3BhdGNoKGV2ZW50LCBzaW11bGF0ZWQsIGRpc3BhdGNoTGlzdGVuZXJzW2ldLCBkaXNwYXRjaEluc3RhbmNlc1tpXSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRpc3BhdGNoTGlzdGVuZXJzKSB7XG4gICAgZXhlY3V0ZURpc3BhdGNoKGV2ZW50LCBzaW11bGF0ZWQsIGRpc3BhdGNoTGlzdGVuZXJzLCBkaXNwYXRjaEluc3RhbmNlcyk7XG4gIH1cbiAgZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzID0gbnVsbDtcbiAgZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzID0gbnVsbDtcbn1cblxuLyoqXG4gKiBAc2VlIGV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlclN0b3BBdFRydWVJbXBsXG4gKi9cblxuXG4vKipcbiAqIEV4ZWN1dGlvbiBvZiBhIFwiZGlyZWN0XCIgZGlzcGF0Y2ggLSB0aGVyZSBtdXN0IGJlIGF0IG1vc3Qgb25lIGRpc3BhdGNoXG4gKiBhY2N1bXVsYXRlZCBvbiB0aGUgZXZlbnQgb3IgaXQgaXMgY29uc2lkZXJlZCBhbiBlcnJvci4gSXQgZG9lc24ndCByZWFsbHkgbWFrZVxuICogc2Vuc2UgZm9yIGFuIGV2ZW50IHdpdGggbXVsdGlwbGUgZGlzcGF0Y2hlcyAoYnViYmxlZCkgdG8ga2VlcCB0cmFjayBvZiB0aGVcbiAqIHJldHVybiB2YWx1ZXMgYXQgZWFjaCBkaXNwYXRjaCBleGVjdXRpb24sIGJ1dCBpdCBkb2VzIHRlbmQgdG8gbWFrZSBzZW5zZSB3aGVuXG4gKiBkZWFsaW5nIHdpdGggXCJkaXJlY3RcIiBkaXNwYXRjaGVzLlxuICpcbiAqIEByZXR1cm4geyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgZXhlY3V0aW5nIHRoZSBzaW5nbGUgZGlzcGF0Y2guXG4gKi9cblxuXG4vKipcbiAqIEBwYXJhbSB7U3ludGhldGljRXZlbnR9IGV2ZW50XG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmZiBudW1iZXIgb2YgZGlzcGF0Y2hlcyBhY2N1bXVsYXRlZCBpcyBncmVhdGVyIHRoYW4gMC5cbiAqL1xuXG4vKipcbiAqIEFjY3VtdWxhdGVzIGl0ZW1zIHRoYXQgbXVzdCBub3QgYmUgbnVsbCBvciB1bmRlZmluZWQgaW50byB0aGUgZmlyc3Qgb25lLiBUaGlzXG4gKiBpcyB1c2VkIHRvIGNvbnNlcnZlIG1lbW9yeSBieSBhdm9pZGluZyBhcnJheSBhbGxvY2F0aW9ucywgYW5kIHRodXMgc2FjcmlmaWNlc1xuICogQVBJIGNsZWFubmVzcy4gU2luY2UgYGN1cnJlbnRgIGNhbiBiZSBudWxsIGJlZm9yZSBiZWluZyBwYXNzZWQgaW4gYW5kIG5vdFxuICogbnVsbCBhZnRlciB0aGlzIGZ1bmN0aW9uLCBtYWtlIHN1cmUgdG8gYXNzaWduIGl0IGJhY2sgdG8gYGN1cnJlbnRgOlxuICpcbiAqIGBhID0gYWNjdW11bGF0ZUludG8oYSwgYik7YFxuICpcbiAqIFRoaXMgQVBJIHNob3VsZCBiZSBzcGFyaW5nbHkgdXNlZC4gVHJ5IGBhY2N1bXVsYXRlYCBmb3Igc29tZXRoaW5nIGNsZWFuZXIuXG4gKlxuICogQHJldHVybiB7KnxhcnJheTwqPn0gQW4gYWNjdW11bGF0aW9uIG9mIGl0ZW1zLlxuICovXG5cbmZ1bmN0aW9uIGFjY3VtdWxhdGVJbnRvKGN1cnJlbnQsIG5leHQpIHtcbiAgIShuZXh0ICE9IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnYWNjdW11bGF0ZUludG8oLi4uKTogQWNjdW11bGF0ZWQgaXRlbXMgbXVzdCBub3QgYmUgbnVsbCBvciB1bmRlZmluZWQuJykgOiB2b2lkIDA7XG5cbiAgaWYgKGN1cnJlbnQgPT0gbnVsbCkge1xuICAgIHJldHVybiBuZXh0O1xuICB9XG5cbiAgLy8gQm90aCBhcmUgbm90IGVtcHR5LiBXYXJuaW5nOiBOZXZlciBjYWxsIHguY29uY2F0KHkpIHdoZW4geW91IGFyZSBub3RcbiAgLy8gY2VydGFpbiB0aGF0IHggaXMgYW4gQXJyYXkgKHggY291bGQgYmUgYSBzdHJpbmcgd2l0aCBjb25jYXQgbWV0aG9kKS5cbiAgaWYgKEFycmF5LmlzQXJyYXkoY3VycmVudCkpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShuZXh0KSkge1xuICAgICAgY3VycmVudC5wdXNoLmFwcGx5KGN1cnJlbnQsIG5leHQpO1xuICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfVxuICAgIGN1cnJlbnQucHVzaChuZXh0KTtcbiAgICByZXR1cm4gY3VycmVudDtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KG5leHQpKSB7XG4gICAgLy8gQSBiaXQgdG9vIGRhbmdlcm91cyB0byBtdXRhdGUgYG5leHRgLlxuICAgIHJldHVybiBbY3VycmVudF0uY29uY2F0KG5leHQpO1xuICB9XG5cbiAgcmV0dXJuIFtjdXJyZW50LCBuZXh0XTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2FycmF5fSBhcnIgYW4gXCJhY2N1bXVsYXRpb25cIiBvZiBpdGVtcyB3aGljaCBpcyBlaXRoZXIgYW4gQXJyYXkgb3JcbiAqIGEgc2luZ2xlIGl0ZW0uIFVzZWZ1bCB3aGVuIHBhaXJlZCB3aXRoIHRoZSBgYWNjdW11bGF0ZWAgbW9kdWxlLiBUaGlzIGlzIGFcbiAqIHNpbXBsZSB1dGlsaXR5IHRoYXQgYWxsb3dzIHVzIHRvIHJlYXNvbiBhYm91dCBhIGNvbGxlY3Rpb24gb2YgaXRlbXMsIGJ1dFxuICogaGFuZGxpbmcgdGhlIGNhc2Ugd2hlbiB0aGVyZSBpcyBleGFjdGx5IG9uZSBpdGVtIChhbmQgd2UgZG8gbm90IG5lZWQgdG9cbiAqIGFsbG9jYXRlIGFuIGFycmF5KS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiIENhbGxiYWNrIGludm9rZWQgd2l0aCBlYWNoIGVsZW1lbnQgb3IgYSBjb2xsZWN0aW9uLlxuICogQHBhcmFtIHs/fSBbc2NvcGVdIFNjb3BlIHVzZWQgYXMgYHRoaXNgIGluIGEgY2FsbGJhY2suXG4gKi9cbmZ1bmN0aW9uIGZvckVhY2hBY2N1bXVsYXRlZChhcnIsIGNiLCBzY29wZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgYXJyLmZvckVhY2goY2IsIHNjb3BlKTtcbiAgfSBlbHNlIGlmIChhcnIpIHtcbiAgICBjYi5jYWxsKHNjb3BlLCBhcnIpO1xuICB9XG59XG5cbi8qKlxuICogSW50ZXJuYWwgcXVldWUgb2YgZXZlbnRzIHRoYXQgaGF2ZSBhY2N1bXVsYXRlZCB0aGVpciBkaXNwYXRjaGVzIGFuZCBhcmVcbiAqIHdhaXRpbmcgdG8gaGF2ZSB0aGVpciBkaXNwYXRjaGVzIGV4ZWN1dGVkLlxuICovXG52YXIgZXZlbnRRdWV1ZSA9IG51bGw7XG5cbi8qKlxuICogRGlzcGF0Y2hlcyBhbiBldmVudCBhbmQgcmVsZWFzZXMgaXQgYmFjayBpbnRvIHRoZSBwb29sLCB1bmxlc3MgcGVyc2lzdGVudC5cbiAqXG4gKiBAcGFyYW0gez9vYmplY3R9IGV2ZW50IFN5bnRoZXRpYyBldmVudCB0byBiZSBkaXNwYXRjaGVkLlxuICogQHBhcmFtIHtib29sZWFufSBzaW11bGF0ZWQgSWYgdGhlIGV2ZW50IGlzIHNpbXVsYXRlZCAoY2hhbmdlcyBleG4gYmVoYXZpb3IpXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlID0gZnVuY3Rpb24gKGV2ZW50LCBzaW11bGF0ZWQpIHtcbiAgaWYgKGV2ZW50KSB7XG4gICAgZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyKGV2ZW50LCBzaW11bGF0ZWQpO1xuXG4gICAgaWYgKCFldmVudC5pc1BlcnNpc3RlbnQoKSkge1xuICAgICAgZXZlbnQuY29uc3RydWN0b3IucmVsZWFzZShldmVudCk7XG4gICAgfVxuICB9XG59O1xudmFyIGV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZVNpbXVsYXRlZCA9IGZ1bmN0aW9uIChlKSB7XG4gIHJldHVybiBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2UoZSwgdHJ1ZSk7XG59O1xudmFyIGV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZVRvcExldmVsID0gZnVuY3Rpb24gKGUpIHtcbiAgcmV0dXJuIGV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZShlLCBmYWxzZSk7XG59O1xuXG5mdW5jdGlvbiBpc0ludGVyYWN0aXZlKHRhZykge1xuICByZXR1cm4gdGFnID09PSAnYnV0dG9uJyB8fCB0YWcgPT09ICdpbnB1dCcgfHwgdGFnID09PSAnc2VsZWN0JyB8fCB0YWcgPT09ICd0ZXh0YXJlYSc7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFByZXZlbnRNb3VzZUV2ZW50KG5hbWUsIHR5cGUsIHByb3BzKSB7XG4gIHN3aXRjaCAobmFtZSkge1xuICAgIGNhc2UgJ29uQ2xpY2snOlxuICAgIGNhc2UgJ29uQ2xpY2tDYXB0dXJlJzpcbiAgICBjYXNlICdvbkRvdWJsZUNsaWNrJzpcbiAgICBjYXNlICdvbkRvdWJsZUNsaWNrQ2FwdHVyZSc6XG4gICAgY2FzZSAnb25Nb3VzZURvd24nOlxuICAgIGNhc2UgJ29uTW91c2VEb3duQ2FwdHVyZSc6XG4gICAgY2FzZSAnb25Nb3VzZU1vdmUnOlxuICAgIGNhc2UgJ29uTW91c2VNb3ZlQ2FwdHVyZSc6XG4gICAgY2FzZSAnb25Nb3VzZVVwJzpcbiAgICBjYXNlICdvbk1vdXNlVXBDYXB0dXJlJzpcbiAgICAgIHJldHVybiAhIShwcm9wcy5kaXNhYmxlZCAmJiBpc0ludGVyYWN0aXZlKHR5cGUpKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogVGhpcyBpcyBhIHVuaWZpZWQgaW50ZXJmYWNlIGZvciBldmVudCBwbHVnaW5zIHRvIGJlIGluc3RhbGxlZCBhbmQgY29uZmlndXJlZC5cbiAqXG4gKiBFdmVudCBwbHVnaW5zIGNhbiBpbXBsZW1lbnQgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICpcbiAqICAgYGV4dHJhY3RFdmVudHNgIHtmdW5jdGlvbihzdHJpbmcsIERPTUV2ZW50VGFyZ2V0LCBzdHJpbmcsIG9iamVjdCk6ICp9XG4gKiAgICAgUmVxdWlyZWQuIFdoZW4gYSB0b3AtbGV2ZWwgZXZlbnQgaXMgZmlyZWQsIHRoaXMgbWV0aG9kIGlzIGV4cGVjdGVkIHRvXG4gKiAgICAgZXh0cmFjdCBzeW50aGV0aWMgZXZlbnRzIHRoYXQgd2lsbCBpbiB0dXJuIGJlIHF1ZXVlZCBhbmQgZGlzcGF0Y2hlZC5cbiAqXG4gKiAgIGBldmVudFR5cGVzYCB7b2JqZWN0fVxuICogICAgIE9wdGlvbmFsLCBwbHVnaW5zIHRoYXQgZmlyZSBldmVudHMgbXVzdCBwdWJsaXNoIGEgbWFwcGluZyBvZiByZWdpc3RyYXRpb25cbiAqICAgICBuYW1lcyB0aGF0IGFyZSB1c2VkIHRvIHJlZ2lzdGVyIGxpc3RlbmVycy4gVmFsdWVzIG9mIHRoaXMgbWFwcGluZyBtdXN0XG4gKiAgICAgYmUgb2JqZWN0cyB0aGF0IGNvbnRhaW4gYHJlZ2lzdHJhdGlvbk5hbWVgIG9yIGBwaGFzZWRSZWdpc3RyYXRpb25OYW1lc2AuXG4gKlxuICogICBgZXhlY3V0ZURpc3BhdGNoYCB7ZnVuY3Rpb24ob2JqZWN0LCBmdW5jdGlvbiwgc3RyaW5nKX1cbiAqICAgICBPcHRpb25hbCwgYWxsb3dzIHBsdWdpbnMgdG8gb3ZlcnJpZGUgaG93IGFuIGV2ZW50IGdldHMgZGlzcGF0Y2hlZC4gQnlcbiAqICAgICBkZWZhdWx0LCB0aGUgbGlzdGVuZXIgaXMgc2ltcGx5IGludm9rZWQuXG4gKlxuICogRWFjaCBwbHVnaW4gdGhhdCBpcyBpbmplY3RlZCBpbnRvIGBFdmVudHNQbHVnaW5IdWJgIGlzIGltbWVkaWF0ZWx5IG9wZXJhYmxlLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuXG4vKipcbiAqIE1ldGhvZHMgZm9yIGluamVjdGluZyBkZXBlbmRlbmNpZXMuXG4gKi9cbnZhciBpbmplY3Rpb24gPSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2FycmF5fSBJbmplY3RlZEV2ZW50UGx1Z2luT3JkZXJcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgaW5qZWN0RXZlbnRQbHVnaW5PcmRlcjogaW5qZWN0RXZlbnRQbHVnaW5PcmRlcixcblxuICAvKipcbiAgICogQHBhcmFtIHtvYmplY3R9IGluamVjdGVkTmFtZXNUb1BsdWdpbnMgTWFwIGZyb20gbmFtZXMgdG8gcGx1Z2luIG1vZHVsZXMuXG4gICAqL1xuICBpbmplY3RFdmVudFBsdWdpbnNCeU5hbWU6IGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gaW5zdCBUaGUgaW5zdGFuY2UsIHdoaWNoIGlzIHRoZSBzb3VyY2Ugb2YgZXZlbnRzLlxuICogQHBhcmFtIHtzdHJpbmd9IHJlZ2lzdHJhdGlvbk5hbWUgTmFtZSBvZiBsaXN0ZW5lciAoZS5nLiBgb25DbGlja2ApLlxuICogQHJldHVybiB7P2Z1bmN0aW9ufSBUaGUgc3RvcmVkIGNhbGxiYWNrLlxuICovXG5mdW5jdGlvbiBnZXRMaXN0ZW5lcihpbnN0LCByZWdpc3RyYXRpb25OYW1lKSB7XG4gIHZhciBsaXN0ZW5lciA9IHZvaWQgMDtcblxuICAvLyBUT0RPOiBzaG91bGRQcmV2ZW50TW91c2VFdmVudCBpcyBET00tc3BlY2lmaWMgYW5kIGRlZmluaXRlbHkgc2hvdWxkIG5vdFxuICAvLyBsaXZlIGhlcmU7IG5lZWRzIHRvIGJlIG1vdmVkIHRvIGEgYmV0dGVyIHBsYWNlIHNvb25cbiAgdmFyIHN0YXRlTm9kZSA9IGluc3Quc3RhdGVOb2RlO1xuICBpZiAoIXN0YXRlTm9kZSkge1xuICAgIC8vIFdvcmsgaW4gcHJvZ3Jlc3MgKGV4OiBvbmxvYWQgZXZlbnRzIGluIGluY3JlbWVudGFsIG1vZGUpLlxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBwcm9wcyA9IGdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGUoc3RhdGVOb2RlKTtcbiAgaWYgKCFwcm9wcykge1xuICAgIC8vIFdvcmsgaW4gcHJvZ3Jlc3MuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbGlzdGVuZXIgPSBwcm9wc1tyZWdpc3RyYXRpb25OYW1lXTtcbiAgaWYgKHNob3VsZFByZXZlbnRNb3VzZUV2ZW50KHJlZ2lzdHJhdGlvbk5hbWUsIGluc3QudHlwZSwgcHJvcHMpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgISghbGlzdGVuZXIgfHwgdHlwZW9mIGxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSA/IGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkIGAlc2AgbGlzdGVuZXIgdG8gYmUgYSBmdW5jdGlvbiwgaW5zdGVhZCBnb3QgYSB2YWx1ZSBvZiBgJXNgIHR5cGUuJywgcmVnaXN0cmF0aW9uTmFtZSwgdHlwZW9mIGxpc3RlbmVyKSA6IHZvaWQgMDtcbiAgcmV0dXJuIGxpc3RlbmVyO1xufVxuXG4vKipcbiAqIEFsbG93cyByZWdpc3RlcmVkIHBsdWdpbnMgYW4gb3Bwb3J0dW5pdHkgdG8gZXh0cmFjdCBldmVudHMgZnJvbSB0b3AtbGV2ZWxcbiAqIG5hdGl2ZSBicm93c2VyIGV2ZW50cy5cbiAqXG4gKiBAcmV0dXJuIHsqfSBBbiBhY2N1bXVsYXRpb24gb2Ygc3ludGhldGljIGV2ZW50cy5cbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBleHRyYWN0RXZlbnRzKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gIHZhciBldmVudHMgPSBudWxsO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHBsdWdpbnMubGVuZ3RoOyBpKyspIHtcbiAgICAvLyBOb3QgZXZlcnkgcGx1Z2luIGluIHRoZSBvcmRlcmluZyBtYXkgYmUgbG9hZGVkIGF0IHJ1bnRpbWUuXG4gICAgdmFyIHBvc3NpYmxlUGx1Z2luID0gcGx1Z2luc1tpXTtcbiAgICBpZiAocG9zc2libGVQbHVnaW4pIHtcbiAgICAgIHZhciBleHRyYWN0ZWRFdmVudHMgPSBwb3NzaWJsZVBsdWdpbi5leHRyYWN0RXZlbnRzKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgICAgIGlmIChleHRyYWN0ZWRFdmVudHMpIHtcbiAgICAgICAgZXZlbnRzID0gYWNjdW11bGF0ZUludG8oZXZlbnRzLCBleHRyYWN0ZWRFdmVudHMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZXZlbnRzO1xufVxuXG5mdW5jdGlvbiBydW5FdmVudHNJbkJhdGNoKGV2ZW50cywgc2ltdWxhdGVkKSB7XG4gIGlmIChldmVudHMgIT09IG51bGwpIHtcbiAgICBldmVudFF1ZXVlID0gYWNjdW11bGF0ZUludG8oZXZlbnRRdWV1ZSwgZXZlbnRzKTtcbiAgfVxuXG4gIC8vIFNldCBgZXZlbnRRdWV1ZWAgdG8gbnVsbCBiZWZvcmUgcHJvY2Vzc2luZyBpdCBzbyB0aGF0IHdlIGNhbiB0ZWxsIGlmIG1vcmVcbiAgLy8gZXZlbnRzIGdldCBlbnF1ZXVlZCB3aGlsZSBwcm9jZXNzaW5nLlxuICB2YXIgcHJvY2Vzc2luZ0V2ZW50UXVldWUgPSBldmVudFF1ZXVlO1xuICBldmVudFF1ZXVlID0gbnVsbDtcblxuICBpZiAoIXByb2Nlc3NpbmdFdmVudFF1ZXVlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHNpbXVsYXRlZCkge1xuICAgIGZvckVhY2hBY2N1bXVsYXRlZChwcm9jZXNzaW5nRXZlbnRRdWV1ZSwgZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlU2ltdWxhdGVkKTtcbiAgfSBlbHNlIHtcbiAgICBmb3JFYWNoQWNjdW11bGF0ZWQocHJvY2Vzc2luZ0V2ZW50UXVldWUsIGV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZVRvcExldmVsKTtcbiAgfVxuICAhIWV2ZW50UXVldWUgPyBpbnZhcmlhbnQoZmFsc2UsICdwcm9jZXNzRXZlbnRRdWV1ZSgpOiBBZGRpdGlvbmFsIGV2ZW50cyB3ZXJlIGVucXVldWVkIHdoaWxlIHByb2Nlc3NpbmcgYW4gZXZlbnQgcXVldWUuIFN1cHBvcnQgZm9yIHRoaXMgaGFzIG5vdCB5ZXQgYmVlbiBpbXBsZW1lbnRlZC4nKSA6IHZvaWQgMDtcbiAgLy8gVGhpcyB3b3VsZCBiZSBhIGdvb2QgdGltZSB0byByZXRocm93IGlmIGFueSBvZiB0aGUgZXZlbnQgaGFuZGxlcnMgdGhyZXcuXG4gIFJlYWN0RXJyb3JVdGlscy5yZXRocm93Q2F1Z2h0RXJyb3IoKTtcbn1cblxuZnVuY3Rpb24gcnVuRXh0cmFjdGVkRXZlbnRzSW5CYXRjaCh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICB2YXIgZXZlbnRzID0gZXh0cmFjdEV2ZW50cyh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gIHJ1bkV2ZW50c0luQmF0Y2goZXZlbnRzLCBmYWxzZSk7XG59XG5cbnZhciBFdmVudFBsdWdpbkh1YiA9IE9iamVjdC5mcmVlemUoe1xuXHRpbmplY3Rpb246IGluamVjdGlvbixcblx0Z2V0TGlzdGVuZXI6IGdldExpc3RlbmVyLFxuXHRydW5FdmVudHNJbkJhdGNoOiBydW5FdmVudHNJbkJhdGNoLFxuXHRydW5FeHRyYWN0ZWRFdmVudHNJbkJhdGNoOiBydW5FeHRyYWN0ZWRFdmVudHNJbkJhdGNoXG59KTtcblxudmFyIEluZGV0ZXJtaW5hdGVDb21wb25lbnQgPSAwOyAvLyBCZWZvcmUgd2Uga25vdyB3aGV0aGVyIGl0IGlzIGZ1bmN0aW9uYWwgb3IgY2xhc3NcbnZhciBGdW5jdGlvbmFsQ29tcG9uZW50ID0gMTtcbnZhciBDbGFzc0NvbXBvbmVudCA9IDI7XG52YXIgSG9zdFJvb3QgPSAzOyAvLyBSb290IG9mIGEgaG9zdCB0cmVlLiBDb3VsZCBiZSBuZXN0ZWQgaW5zaWRlIGFub3RoZXIgbm9kZS5cbnZhciBIb3N0UG9ydGFsID0gNDsgLy8gQSBzdWJ0cmVlLiBDb3VsZCBiZSBhbiBlbnRyeSBwb2ludCB0byBhIGRpZmZlcmVudCByZW5kZXJlci5cbnZhciBIb3N0Q29tcG9uZW50ID0gNTtcbnZhciBIb3N0VGV4dCA9IDY7XG52YXIgQ2FsbENvbXBvbmVudCA9IDc7XG52YXIgQ2FsbEhhbmRsZXJQaGFzZSA9IDg7XG52YXIgUmV0dXJuQ29tcG9uZW50ID0gOTtcbnZhciBGcmFnbWVudCA9IDEwO1xudmFyIE1vZGUgPSAxMTtcbnZhciBDb250ZXh0Q29uc3VtZXIgPSAxMjtcbnZhciBDb250ZXh0UHJvdmlkZXIgPSAxMztcbnZhciBGb3J3YXJkUmVmID0gMTQ7XG5cbnZhciByYW5kb21LZXkgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKTtcbnZhciBpbnRlcm5hbEluc3RhbmNlS2V5ID0gJ19fcmVhY3RJbnRlcm5hbEluc3RhbmNlJCcgKyByYW5kb21LZXk7XG52YXIgaW50ZXJuYWxFdmVudEhhbmRsZXJzS2V5ID0gJ19fcmVhY3RFdmVudEhhbmRsZXJzJCcgKyByYW5kb21LZXk7XG5cbmZ1bmN0aW9uIHByZWNhY2hlRmliZXJOb2RlJDEoaG9zdEluc3QsIG5vZGUpIHtcbiAgbm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XSA9IGhvc3RJbnN0O1xufVxuXG4vKipcbiAqIEdpdmVuIGEgRE9NIG5vZGUsIHJldHVybiB0aGUgY2xvc2VzdCBSZWFjdERPTUNvbXBvbmVudCBvclxuICogUmVhY3RET01UZXh0Q29tcG9uZW50IGluc3RhbmNlIGFuY2VzdG9yLlxuICovXG5mdW5jdGlvbiBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShub2RlKSB7XG4gIGlmIChub2RlW2ludGVybmFsSW5zdGFuY2VLZXldKSB7XG4gICAgcmV0dXJuIG5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV07XG4gIH1cblxuICB3aGlsZSAoIW5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV0pIHtcbiAgICBpZiAobm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUb3Agb2YgdGhlIHRyZWUuIFRoaXMgbm9kZSBtdXN0IG5vdCBiZSBwYXJ0IG9mIGEgUmVhY3QgdHJlZSAob3IgaXNcbiAgICAgIC8vIHVubW91bnRlZCwgcG90ZW50aWFsbHkpLlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgdmFyIGluc3QgPSBub2RlW2ludGVybmFsSW5zdGFuY2VLZXldO1xuICBpZiAoaW5zdC50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgaW5zdC50YWcgPT09IEhvc3RUZXh0KSB7XG4gICAgLy8gSW4gRmliZXIsIHRoaXMgd2lsbCBhbHdheXMgYmUgdGhlIGRlZXBlc3Qgcm9vdC5cbiAgICByZXR1cm4gaW5zdDtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIEdpdmVuIGEgRE9NIG5vZGUsIHJldHVybiB0aGUgUmVhY3RET01Db21wb25lbnQgb3IgUmVhY3RET01UZXh0Q29tcG9uZW50XG4gKiBpbnN0YW5jZSwgb3IgbnVsbCBpZiB0aGUgbm9kZSB3YXMgbm90IHJlbmRlcmVkIGJ5IHRoaXMgUmVhY3QuXG4gKi9cbmZ1bmN0aW9uIGdldEluc3RhbmNlRnJvbU5vZGUkMShub2RlKSB7XG4gIHZhciBpbnN0ID0gbm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XTtcbiAgaWYgKGluc3QpIHtcbiAgICBpZiAoaW5zdC50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgaW5zdC50YWcgPT09IEhvc3RUZXh0KSB7XG4gICAgICByZXR1cm4gaW5zdDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIEdpdmVuIGEgUmVhY3RET01Db21wb25lbnQgb3IgUmVhY3RET01UZXh0Q29tcG9uZW50LCByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmdcbiAqIERPTSBub2RlLlxuICovXG5mdW5jdGlvbiBnZXROb2RlRnJvbUluc3RhbmNlJDEoaW5zdCkge1xuICBpZiAoaW5zdC50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgaW5zdC50YWcgPT09IEhvc3RUZXh0KSB7XG4gICAgLy8gSW4gRmliZXIgdGhpcywgaXMganVzdCB0aGUgc3RhdGUgbm9kZSByaWdodCBub3cuIFdlIGFzc3VtZSBpdCB3aWxsIGJlXG4gICAgLy8gYSBob3N0IGNvbXBvbmVudCBvciBob3N0IHRleHQuXG4gICAgcmV0dXJuIGluc3Quc3RhdGVOb2RlO1xuICB9XG5cbiAgLy8gV2l0aG91dCB0aGlzIGZpcnN0IGludmFyaWFudCwgcGFzc2luZyBhIG5vbi1ET00tY29tcG9uZW50IHRyaWdnZXJzIHRoZSBuZXh0XG4gIC8vIGludmFyaWFudCBmb3IgYSBtaXNzaW5nIHBhcmVudCwgd2hpY2ggaXMgc3VwZXIgY29uZnVzaW5nLlxuICBpbnZhcmlhbnQoZmFsc2UsICdnZXROb2RlRnJvbUluc3RhbmNlOiBJbnZhbGlkIGFyZ3VtZW50LicpO1xufVxuXG5mdW5jdGlvbiBnZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlJDEobm9kZSkge1xuICByZXR1cm4gbm9kZVtpbnRlcm5hbEV2ZW50SGFuZGxlcnNLZXldIHx8IG51bGw7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUZpYmVyUHJvcHMkMShub2RlLCBwcm9wcykge1xuICBub2RlW2ludGVybmFsRXZlbnRIYW5kbGVyc0tleV0gPSBwcm9wcztcbn1cblxudmFyIFJlYWN0RE9NQ29tcG9uZW50VHJlZSA9IE9iamVjdC5mcmVlemUoe1xuXHRwcmVjYWNoZUZpYmVyTm9kZTogcHJlY2FjaGVGaWJlck5vZGUkMSxcblx0Z2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGU6IGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlLFxuXHRnZXRJbnN0YW5jZUZyb21Ob2RlOiBnZXRJbnN0YW5jZUZyb21Ob2RlJDEsXG5cdGdldE5vZGVGcm9tSW5zdGFuY2U6IGdldE5vZGVGcm9tSW5zdGFuY2UkMSxcblx0Z2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZTogZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZSQxLFxuXHR1cGRhdGVGaWJlclByb3BzOiB1cGRhdGVGaWJlclByb3BzJDFcbn0pO1xuXG5mdW5jdGlvbiBnZXRQYXJlbnQoaW5zdCkge1xuICBkbyB7XG4gICAgaW5zdCA9IGluc3RbJ3JldHVybiddO1xuICAgIC8vIFRPRE86IElmIHRoaXMgaXMgYSBIb3N0Um9vdCB3ZSBtaWdodCB3YW50IHRvIGJhaWwgb3V0LlxuICAgIC8vIFRoYXQgaXMgZGVwZW5kaW5nIG9uIGlmIHdlIHdhbnQgbmVzdGVkIHN1YnRyZWVzIChsYXllcnMpIHRvIGJ1YmJsZVxuICAgIC8vIGV2ZW50cyB0byB0aGVpciBwYXJlbnQuIFdlIGNvdWxkIGFsc28gZ28gdGhyb3VnaCBwYXJlbnROb2RlIG9uIHRoZVxuICAgIC8vIGhvc3Qgbm9kZSBidXQgdGhhdCB3b3VsZG4ndCB3b3JrIGZvciBSZWFjdCBOYXRpdmUgYW5kIGRvZXNuJ3QgbGV0IHVzXG4gICAgLy8gZG8gdGhlIHBvcnRhbCBmZWF0dXJlLlxuICB9IHdoaWxlIChpbnN0ICYmIGluc3QudGFnICE9PSBIb3N0Q29tcG9uZW50KTtcbiAgaWYgKGluc3QpIHtcbiAgICByZXR1cm4gaW5zdDtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxvd2VzdCBjb21tb24gYW5jZXN0b3Igb2YgQSBhbmQgQiwgb3IgbnVsbCBpZiB0aGV5IGFyZSBpblxuICogZGlmZmVyZW50IHRyZWVzLlxuICovXG5mdW5jdGlvbiBnZXRMb3dlc3RDb21tb25BbmNlc3RvcihpbnN0QSwgaW5zdEIpIHtcbiAgdmFyIGRlcHRoQSA9IDA7XG4gIGZvciAodmFyIHRlbXBBID0gaW5zdEE7IHRlbXBBOyB0ZW1wQSA9IGdldFBhcmVudCh0ZW1wQSkpIHtcbiAgICBkZXB0aEErKztcbiAgfVxuICB2YXIgZGVwdGhCID0gMDtcbiAgZm9yICh2YXIgdGVtcEIgPSBpbnN0QjsgdGVtcEI7IHRlbXBCID0gZ2V0UGFyZW50KHRlbXBCKSkge1xuICAgIGRlcHRoQisrO1xuICB9XG5cbiAgLy8gSWYgQSBpcyBkZWVwZXIsIGNyYXdsIHVwLlxuICB3aGlsZSAoZGVwdGhBIC0gZGVwdGhCID4gMCkge1xuICAgIGluc3RBID0gZ2V0UGFyZW50KGluc3RBKTtcbiAgICBkZXB0aEEtLTtcbiAgfVxuXG4gIC8vIElmIEIgaXMgZGVlcGVyLCBjcmF3bCB1cC5cbiAgd2hpbGUgKGRlcHRoQiAtIGRlcHRoQSA+IDApIHtcbiAgICBpbnN0QiA9IGdldFBhcmVudChpbnN0Qik7XG4gICAgZGVwdGhCLS07XG4gIH1cblxuICAvLyBXYWxrIGluIGxvY2tzdGVwIHVudGlsIHdlIGZpbmQgYSBtYXRjaC5cbiAgdmFyIGRlcHRoID0gZGVwdGhBO1xuICB3aGlsZSAoZGVwdGgtLSkge1xuICAgIGlmIChpbnN0QSA9PT0gaW5zdEIgfHwgaW5zdEEgPT09IGluc3RCLmFsdGVybmF0ZSkge1xuICAgICAgcmV0dXJuIGluc3RBO1xuICAgIH1cbiAgICBpbnN0QSA9IGdldFBhcmVudChpbnN0QSk7XG4gICAgaW5zdEIgPSBnZXRQYXJlbnQoaW5zdEIpO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIFJldHVybiBpZiBBIGlzIGFuIGFuY2VzdG9yIG9mIEIuXG4gKi9cblxuXG4vKipcbiAqIFJldHVybiB0aGUgcGFyZW50IGluc3RhbmNlIG9mIHRoZSBwYXNzZWQtaW4gaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGdldFBhcmVudEluc3RhbmNlKGluc3QpIHtcbiAgcmV0dXJuIGdldFBhcmVudChpbnN0KTtcbn1cblxuLyoqXG4gKiBTaW11bGF0ZXMgdGhlIHRyYXZlcnNhbCBvZiBhIHR3by1waGFzZSwgY2FwdHVyZS9idWJibGUgZXZlbnQgZGlzcGF0Y2guXG4gKi9cbmZ1bmN0aW9uIHRyYXZlcnNlVHdvUGhhc2UoaW5zdCwgZm4sIGFyZykge1xuICB2YXIgcGF0aCA9IFtdO1xuICB3aGlsZSAoaW5zdCkge1xuICAgIHBhdGgucHVzaChpbnN0KTtcbiAgICBpbnN0ID0gZ2V0UGFyZW50KGluc3QpO1xuICB9XG4gIHZhciBpID0gdm9pZCAwO1xuICBmb3IgKGkgPSBwYXRoLmxlbmd0aDsgaS0tID4gMDspIHtcbiAgICBmbihwYXRoW2ldLCAnY2FwdHVyZWQnLCBhcmcpO1xuICB9XG4gIGZvciAoaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgZm4ocGF0aFtpXSwgJ2J1YmJsZWQnLCBhcmcpO1xuICB9XG59XG5cbi8qKlxuICogVHJhdmVyc2VzIHRoZSBJRCBoaWVyYXJjaHkgYW5kIGludm9rZXMgdGhlIHN1cHBsaWVkIGBjYmAgb24gYW55IElEcyB0aGF0XG4gKiBzaG91bGQgd291bGQgcmVjZWl2ZSBhIGBtb3VzZUVudGVyYCBvciBgbW91c2VMZWF2ZWAgZXZlbnQuXG4gKlxuICogRG9lcyBub3QgaW52b2tlIHRoZSBjYWxsYmFjayBvbiB0aGUgbmVhcmVzdCBjb21tb24gYW5jZXN0b3IgYmVjYXVzZSBub3RoaW5nXG4gKiBcImVudGVyZWRcIiBvciBcImxlZnRcIiB0aGF0IGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIHRyYXZlcnNlRW50ZXJMZWF2ZShmcm9tLCB0bywgZm4sIGFyZ0Zyb20sIGFyZ1RvKSB7XG4gIHZhciBjb21tb24gPSBmcm9tICYmIHRvID8gZ2V0TG93ZXN0Q29tbW9uQW5jZXN0b3IoZnJvbSwgdG8pIDogbnVsbDtcbiAgdmFyIHBhdGhGcm9tID0gW107XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgaWYgKCFmcm9tKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKGZyb20gPT09IGNvbW1vbikge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHZhciBhbHRlcm5hdGUgPSBmcm9tLmFsdGVybmF0ZTtcbiAgICBpZiAoYWx0ZXJuYXRlICE9PSBudWxsICYmIGFsdGVybmF0ZSA9PT0gY29tbW9uKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgcGF0aEZyb20ucHVzaChmcm9tKTtcbiAgICBmcm9tID0gZ2V0UGFyZW50KGZyb20pO1xuICB9XG4gIHZhciBwYXRoVG8gPSBbXTtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBpZiAoIXRvKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKHRvID09PSBjb21tb24pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB2YXIgX2FsdGVybmF0ZSA9IHRvLmFsdGVybmF0ZTtcbiAgICBpZiAoX2FsdGVybmF0ZSAhPT0gbnVsbCAmJiBfYWx0ZXJuYXRlID09PSBjb21tb24pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBwYXRoVG8ucHVzaCh0byk7XG4gICAgdG8gPSBnZXRQYXJlbnQodG8pO1xuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aEZyb20ubGVuZ3RoOyBpKyspIHtcbiAgICBmbihwYXRoRnJvbVtpXSwgJ2J1YmJsZWQnLCBhcmdGcm9tKTtcbiAgfVxuICBmb3IgKHZhciBfaSA9IHBhdGhUby5sZW5ndGg7IF9pLS0gPiAwOykge1xuICAgIGZuKHBhdGhUb1tfaV0sICdjYXB0dXJlZCcsIGFyZ1RvKTtcbiAgfVxufVxuXG4vKipcbiAqIFNvbWUgZXZlbnQgdHlwZXMgaGF2ZSBhIG5vdGlvbiBvZiBkaWZmZXJlbnQgcmVnaXN0cmF0aW9uIG5hbWVzIGZvciBkaWZmZXJlbnRcbiAqIFwicGhhc2VzXCIgb2YgcHJvcGFnYXRpb24uIFRoaXMgZmluZHMgbGlzdGVuZXJzIGJ5IGEgZ2l2ZW4gcGhhc2UuXG4gKi9cbmZ1bmN0aW9uIGxpc3RlbmVyQXRQaGFzZShpbnN0LCBldmVudCwgcHJvcGFnYXRpb25QaGFzZSkge1xuICB2YXIgcmVnaXN0cmF0aW9uTmFtZSA9IGV2ZW50LmRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzW3Byb3BhZ2F0aW9uUGhhc2VdO1xuICByZXR1cm4gZ2V0TGlzdGVuZXIoaW5zdCwgcmVnaXN0cmF0aW9uTmFtZSk7XG59XG5cbi8qKlxuICogQSBzbWFsbCBzZXQgb2YgcHJvcGFnYXRpb24gcGF0dGVybnMsIGVhY2ggb2Ygd2hpY2ggd2lsbCBhY2NlcHQgYSBzbWFsbCBhbW91bnRcbiAqIG9mIGluZm9ybWF0aW9uLCBhbmQgZ2VuZXJhdGUgYSBzZXQgb2YgXCJkaXNwYXRjaCByZWFkeSBldmVudCBvYmplY3RzXCIgLSB3aGljaFxuICogYXJlIHNldHMgb2YgZXZlbnRzIHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gYW5ub3RhdGVkIHdpdGggYSBzZXQgb2YgZGlzcGF0Y2hlZFxuICogbGlzdGVuZXIgZnVuY3Rpb25zL2lkcy4gVGhlIEFQSSBpcyBkZXNpZ25lZCB0aGlzIHdheSB0byBkaXNjb3VyYWdlIHRoZXNlXG4gKiBwcm9wYWdhdGlvbiBzdHJhdGVnaWVzIGZyb20gYWN0dWFsbHkgZXhlY3V0aW5nIHRoZSBkaXNwYXRjaGVzLCBzaW5jZSB3ZVxuICogYWx3YXlzIHdhbnQgdG8gY29sbGVjdCB0aGUgZW50aXJlIHNldCBvZiBkaXNwYXRjaGVzIGJlZm9yZSBleGVjdXRpbmcgZXZlbiBhXG4gKiBzaW5nbGUgb25lLlxuICovXG5cbi8qKlxuICogVGFncyBhIGBTeW50aGV0aWNFdmVudGAgd2l0aCBkaXNwYXRjaGVkIGxpc3RlbmVycy4gQ3JlYXRpbmcgdGhpcyBmdW5jdGlvblxuICogaGVyZSwgYWxsb3dzIHVzIHRvIG5vdCBoYXZlIHRvIGJpbmQgb3IgY3JlYXRlIGZ1bmN0aW9ucyBmb3IgZWFjaCBldmVudC5cbiAqIE11dGF0aW5nIHRoZSBldmVudCdzIG1lbWJlcnMgYWxsb3dzIHVzIHRvIG5vdCBoYXZlIHRvIGNyZWF0ZSBhIHdyYXBwaW5nXG4gKiBcImRpc3BhdGNoXCIgb2JqZWN0IHRoYXQgcGFpcnMgdGhlIGV2ZW50IHdpdGggdGhlIGxpc3RlbmVyLlxuICovXG5mdW5jdGlvbiBhY2N1bXVsYXRlRGlyZWN0aW9uYWxEaXNwYXRjaGVzKGluc3QsIHBoYXNlLCBldmVudCkge1xuICB7XG4gICAgd2FybmluZyhpbnN0LCAnRGlzcGF0Y2hpbmcgaW5zdCBtdXN0IG5vdCBiZSBudWxsJyk7XG4gIH1cbiAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJBdFBoYXNlKGluc3QsIGV2ZW50LCBwaGFzZSk7XG4gIGlmIChsaXN0ZW5lcikge1xuICAgIGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycyA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycywgbGlzdGVuZXIpO1xuICAgIGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcyA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcywgaW5zdCk7XG4gIH1cbn1cblxuLyoqXG4gKiBDb2xsZWN0IGRpc3BhdGNoZXMgKG11c3QgYmUgZW50aXJlbHkgY29sbGVjdGVkIGJlZm9yZSBkaXNwYXRjaGluZyAtIHNlZSB1bml0XG4gKiB0ZXN0cykuIExhemlseSBhbGxvY2F0ZSB0aGUgYXJyYXkgdG8gY29uc2VydmUgbWVtb3J5LiAgV2UgbXVzdCBsb29wIHRocm91Z2hcbiAqIGVhY2ggZXZlbnQgYW5kIHBlcmZvcm0gdGhlIHRyYXZlcnNhbCBmb3IgZWFjaCBvbmUuIFdlIGNhbm5vdCBwZXJmb3JtIGFcbiAqIHNpbmdsZSB0cmF2ZXJzYWwgZm9yIHRoZSBlbnRpcmUgY29sbGVjdGlvbiBvZiBldmVudHMgYmVjYXVzZSBlYWNoIGV2ZW50IG1heVxuICogaGF2ZSBhIGRpZmZlcmVudCB0YXJnZXQuXG4gKi9cbmZ1bmN0aW9uIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTaW5nbGUoZXZlbnQpIHtcbiAgaWYgKGV2ZW50ICYmIGV2ZW50LmRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzKSB7XG4gICAgdHJhdmVyc2VUd29QaGFzZShldmVudC5fdGFyZ2V0SW5zdCwgYWNjdW11bGF0ZURpcmVjdGlvbmFsRGlzcGF0Y2hlcywgZXZlbnQpO1xuICB9XG59XG5cbi8qKlxuICogU2FtZSBhcyBgYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NpbmdsZWAsIGJ1dCBza2lwcyBvdmVyIHRoZSB0YXJnZXRJRC5cbiAqL1xuZnVuY3Rpb24gYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NpbmdsZVNraXBUYXJnZXQoZXZlbnQpIHtcbiAgaWYgKGV2ZW50ICYmIGV2ZW50LmRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzKSB7XG4gICAgdmFyIHRhcmdldEluc3QgPSBldmVudC5fdGFyZ2V0SW5zdDtcbiAgICB2YXIgcGFyZW50SW5zdCA9IHRhcmdldEluc3QgPyBnZXRQYXJlbnRJbnN0YW5jZSh0YXJnZXRJbnN0KSA6IG51bGw7XG4gICAgdHJhdmVyc2VUd29QaGFzZShwYXJlbnRJbnN0LCBhY2N1bXVsYXRlRGlyZWN0aW9uYWxEaXNwYXRjaGVzLCBldmVudCk7XG4gIH1cbn1cblxuLyoqXG4gKiBBY2N1bXVsYXRlcyB3aXRob3V0IHJlZ2FyZCB0byBkaXJlY3Rpb24sIGRvZXMgbm90IGxvb2sgZm9yIHBoYXNlZFxuICogcmVnaXN0cmF0aW9uIG5hbWVzLiBTYW1lIGFzIGBhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlc1NpbmdsZWAgYnV0IHdpdGhvdXRcbiAqIHJlcXVpcmluZyB0aGF0IHRoZSBgZGlzcGF0Y2hNYXJrZXJgIGJlIHRoZSBzYW1lIGFzIHRoZSBkaXNwYXRjaGVkIElELlxuICovXG5mdW5jdGlvbiBhY2N1bXVsYXRlRGlzcGF0Y2hlcyhpbnN0LCBpZ25vcmVkRGlyZWN0aW9uLCBldmVudCkge1xuICBpZiAoaW5zdCAmJiBldmVudCAmJiBldmVudC5kaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgdmFyIHJlZ2lzdHJhdGlvbk5hbWUgPSBldmVudC5kaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lO1xuICAgIHZhciBsaXN0ZW5lciA9IGdldExpc3RlbmVyKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUpO1xuICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzID0gYWNjdW11bGF0ZUludG8oZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzLCBsaXN0ZW5lcik7XG4gICAgICBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMgPSBhY2N1bXVsYXRlSW50byhldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMsIGluc3QpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFjY3VtdWxhdGVzIGRpc3BhdGNoZXMgb24gYW4gYFN5bnRoZXRpY0V2ZW50YCwgYnV0IG9ubHkgZm9yIHRoZVxuICogYGRpc3BhdGNoTWFya2VyYC5cbiAqIEBwYXJhbSB7U3ludGhldGljRXZlbnR9IGV2ZW50XG4gKi9cbmZ1bmN0aW9uIGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzU2luZ2xlKGV2ZW50KSB7XG4gIGlmIChldmVudCAmJiBldmVudC5kaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgYWNjdW11bGF0ZURpc3BhdGNoZXMoZXZlbnQuX3RhcmdldEluc3QsIG51bGwsIGV2ZW50KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50cykge1xuICBmb3JFYWNoQWNjdW11bGF0ZWQoZXZlbnRzLCBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlKTtcbn1cblxuZnVuY3Rpb24gYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NraXBUYXJnZXQoZXZlbnRzKSB7XG4gIGZvckVhY2hBY2N1bXVsYXRlZChldmVudHMsIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTaW5nbGVTa2lwVGFyZ2V0KTtcbn1cblxuZnVuY3Rpb24gYWNjdW11bGF0ZUVudGVyTGVhdmVEaXNwYXRjaGVzKGxlYXZlLCBlbnRlciwgZnJvbSwgdG8pIHtcbiAgdHJhdmVyc2VFbnRlckxlYXZlKGZyb20sIHRvLCBhY2N1bXVsYXRlRGlzcGF0Y2hlcywgbGVhdmUsIGVudGVyKTtcbn1cblxuZnVuY3Rpb24gYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXMoZXZlbnRzKSB7XG4gIGZvckVhY2hBY2N1bXVsYXRlZChldmVudHMsIGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzU2luZ2xlKTtcbn1cblxudmFyIEV2ZW50UHJvcGFnYXRvcnMgPSBPYmplY3QuZnJlZXplKHtcblx0YWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlczogYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyxcblx0YWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NraXBUYXJnZXQ6IGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTa2lwVGFyZ2V0LFxuXHRhY2N1bXVsYXRlRW50ZXJMZWF2ZURpc3BhdGNoZXM6IGFjY3VtdWxhdGVFbnRlckxlYXZlRGlzcGF0Y2hlcyxcblx0YWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXM6IGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzXG59KTtcblxudmFyIGNvbnRlbnRLZXkgPSBudWxsO1xuXG4vKipcbiAqIEdldHMgdGhlIGtleSB1c2VkIHRvIGFjY2VzcyB0ZXh0IGNvbnRlbnQgb24gYSBET00gbm9kZS5cbiAqXG4gKiBAcmV0dXJuIHs/c3RyaW5nfSBLZXkgdXNlZCB0byBhY2Nlc3MgdGV4dCBjb250ZW50LlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIGdldFRleHRDb250ZW50QWNjZXNzb3IoKSB7XG4gIGlmICghY29udGVudEtleSAmJiBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgICAvLyBQcmVmZXIgdGV4dENvbnRlbnQgdG8gaW5uZXJUZXh0IGJlY2F1c2UgbWFueSBicm93c2VycyBzdXBwb3J0IGJvdGggYnV0XG4gICAgLy8gU1ZHIDx0ZXh0PiBlbGVtZW50cyBkb24ndCBzdXBwb3J0IGlubmVyVGV4dCBldmVuIHdoZW4gPGRpdj4gZG9lcy5cbiAgICBjb250ZW50S2V5ID0gJ3RleHRDb250ZW50JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgPyAndGV4dENvbnRlbnQnIDogJ2lubmVyVGV4dCc7XG4gIH1cbiAgcmV0dXJuIGNvbnRlbnRLZXk7XG59XG5cbi8qKlxuICogVGhpcyBoZWxwZXIgb2JqZWN0IHN0b3JlcyBpbmZvcm1hdGlvbiBhYm91dCB0ZXh0IGNvbnRlbnQgb2YgYSB0YXJnZXQgbm9kZSxcbiAqIGFsbG93aW5nIGNvbXBhcmlzb24gb2YgY29udGVudCBiZWZvcmUgYW5kIGFmdGVyIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogSWRlbnRpZnkgdGhlIG5vZGUgd2hlcmUgc2VsZWN0aW9uIGN1cnJlbnRseSBiZWdpbnMsIHRoZW4gb2JzZXJ2ZVxuICogYm90aCBpdHMgdGV4dCBjb250ZW50IGFuZCBpdHMgY3VycmVudCBwb3NpdGlvbiBpbiB0aGUgRE9NLiBTaW5jZSB0aGVcbiAqIGJyb3dzZXIgbWF5IG5hdGl2ZWx5IHJlcGxhY2UgdGhlIHRhcmdldCBub2RlIGR1cmluZyBjb21wb3NpdGlvbiwgd2UgY2FuXG4gKiB1c2UgaXRzIHBvc2l0aW9uIHRvIGZpbmQgaXRzIHJlcGxhY2VtZW50LlxuICpcbiAqXG4gKi9cbnZhciBjb21wb3NpdGlvblN0YXRlID0ge1xuICBfcm9vdDogbnVsbCxcbiAgX3N0YXJ0VGV4dDogbnVsbCxcbiAgX2ZhbGxiYWNrVGV4dDogbnVsbFxufTtcblxuZnVuY3Rpb24gaW5pdGlhbGl6ZShuYXRpdmVFdmVudFRhcmdldCkge1xuICBjb21wb3NpdGlvblN0YXRlLl9yb290ID0gbmF0aXZlRXZlbnRUYXJnZXQ7XG4gIGNvbXBvc2l0aW9uU3RhdGUuX3N0YXJ0VGV4dCA9IGdldFRleHQoKTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHJlc2V0KCkge1xuICBjb21wb3NpdGlvblN0YXRlLl9yb290ID0gbnVsbDtcbiAgY29tcG9zaXRpb25TdGF0ZS5fc3RhcnRUZXh0ID0gbnVsbDtcbiAgY29tcG9zaXRpb25TdGF0ZS5fZmFsbGJhY2tUZXh0ID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0RGF0YSgpIHtcbiAgaWYgKGNvbXBvc2l0aW9uU3RhdGUuX2ZhbGxiYWNrVGV4dCkge1xuICAgIHJldHVybiBjb21wb3NpdGlvblN0YXRlLl9mYWxsYmFja1RleHQ7XG4gIH1cblxuICB2YXIgc3RhcnQgPSB2b2lkIDA7XG4gIHZhciBzdGFydFZhbHVlID0gY29tcG9zaXRpb25TdGF0ZS5fc3RhcnRUZXh0O1xuICB2YXIgc3RhcnRMZW5ndGggPSBzdGFydFZhbHVlLmxlbmd0aDtcbiAgdmFyIGVuZCA9IHZvaWQgMDtcbiAgdmFyIGVuZFZhbHVlID0gZ2V0VGV4dCgpO1xuICB2YXIgZW5kTGVuZ3RoID0gZW5kVmFsdWUubGVuZ3RoO1xuXG4gIGZvciAoc3RhcnQgPSAwOyBzdGFydCA8IHN0YXJ0TGVuZ3RoOyBzdGFydCsrKSB7XG4gICAgaWYgKHN0YXJ0VmFsdWVbc3RhcnRdICE9PSBlbmRWYWx1ZVtzdGFydF0pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHZhciBtaW5FbmQgPSBzdGFydExlbmd0aCAtIHN0YXJ0O1xuICBmb3IgKGVuZCA9IDE7IGVuZCA8PSBtaW5FbmQ7IGVuZCsrKSB7XG4gICAgaWYgKHN0YXJ0VmFsdWVbc3RhcnRMZW5ndGggLSBlbmRdICE9PSBlbmRWYWx1ZVtlbmRMZW5ndGggLSBlbmRdKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICB2YXIgc2xpY2VUYWlsID0gZW5kID4gMSA/IDEgLSBlbmQgOiB1bmRlZmluZWQ7XG4gIGNvbXBvc2l0aW9uU3RhdGUuX2ZhbGxiYWNrVGV4dCA9IGVuZFZhbHVlLnNsaWNlKHN0YXJ0LCBzbGljZVRhaWwpO1xuICByZXR1cm4gY29tcG9zaXRpb25TdGF0ZS5fZmFsbGJhY2tUZXh0O1xufVxuXG5mdW5jdGlvbiBnZXRUZXh0KCkge1xuICBpZiAoJ3ZhbHVlJyBpbiBjb21wb3NpdGlvblN0YXRlLl9yb290KSB7XG4gICAgcmV0dXJuIGNvbXBvc2l0aW9uU3RhdGUuX3Jvb3QudmFsdWU7XG4gIH1cbiAgcmV0dXJuIGNvbXBvc2l0aW9uU3RhdGUuX3Jvb3RbZ2V0VGV4dENvbnRlbnRBY2Nlc3NvcigpXTtcbn1cblxuLyogZXNsaW50IHZhbGlkLXR5cGVvZjogMCAqL1xuXG52YXIgZGlkV2FybkZvckFkZGVkTmV3UHJvcGVydHkgPSBmYWxzZTtcbnZhciBFVkVOVF9QT09MX1NJWkUgPSAxMDtcblxudmFyIHNob3VsZEJlUmVsZWFzZWRQcm9wZXJ0aWVzID0gWydkaXNwYXRjaENvbmZpZycsICdfdGFyZ2V0SW5zdCcsICduYXRpdmVFdmVudCcsICdpc0RlZmF1bHRQcmV2ZW50ZWQnLCAnaXNQcm9wYWdhdGlvblN0b3BwZWQnLCAnX2Rpc3BhdGNoTGlzdGVuZXJzJywgJ19kaXNwYXRjaEluc3RhbmNlcyddO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgRXZlbnRcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzL1xuICovXG52YXIgRXZlbnRJbnRlcmZhY2UgPSB7XG4gIHR5cGU6IG51bGwsXG4gIHRhcmdldDogbnVsbCxcbiAgLy8gY3VycmVudFRhcmdldCBpcyBzZXQgd2hlbiBkaXNwYXRjaGluZzsgbm8gdXNlIGluIGNvcHlpbmcgaXQgaGVyZVxuICBjdXJyZW50VGFyZ2V0OiBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbCxcbiAgZXZlbnRQaGFzZTogbnVsbCxcbiAgYnViYmxlczogbnVsbCxcbiAgY2FuY2VsYWJsZTogbnVsbCxcbiAgdGltZVN0YW1wOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gZXZlbnQudGltZVN0YW1wIHx8IERhdGUubm93KCk7XG4gIH0sXG4gIGRlZmF1bHRQcmV2ZW50ZWQ6IG51bGwsXG4gIGlzVHJ1c3RlZDogbnVsbFxufTtcblxuLyoqXG4gKiBTeW50aGV0aWMgZXZlbnRzIGFyZSBkaXNwYXRjaGVkIGJ5IGV2ZW50IHBsdWdpbnMsIHR5cGljYWxseSBpbiByZXNwb25zZSB0byBhXG4gKiB0b3AtbGV2ZWwgZXZlbnQgZGVsZWdhdGlvbiBoYW5kbGVyLlxuICpcbiAqIFRoZXNlIHN5c3RlbXMgc2hvdWxkIGdlbmVyYWxseSB1c2UgcG9vbGluZyB0byByZWR1Y2UgdGhlIGZyZXF1ZW5jeSBvZiBnYXJiYWdlXG4gKiBjb2xsZWN0aW9uLiBUaGUgc3lzdGVtIHNob3VsZCBjaGVjayBgaXNQZXJzaXN0ZW50YCB0byBkZXRlcm1pbmUgd2hldGhlciB0aGVcbiAqIGV2ZW50IHNob3VsZCBiZSByZWxlYXNlZCBpbnRvIHRoZSBwb29sIGFmdGVyIGJlaW5nIGRpc3BhdGNoZWQuIFVzZXJzIHRoYXRcbiAqIG5lZWQgYSBwZXJzaXN0ZWQgZXZlbnQgc2hvdWxkIGludm9rZSBgcGVyc2lzdGAuXG4gKlxuICogU3ludGhldGljIGV2ZW50cyAoYW5kIHN1YmNsYXNzZXMpIGltcGxlbWVudCB0aGUgRE9NIExldmVsIDMgRXZlbnRzIEFQSSBieVxuICogbm9ybWFsaXppbmcgYnJvd3NlciBxdWlya3MuIFN1YmNsYXNzZXMgZG8gbm90IG5lY2Vzc2FyaWx5IGhhdmUgdG8gaW1wbGVtZW50IGFcbiAqIERPTSBpbnRlcmZhY2U7IGN1c3RvbSBhcHBsaWNhdGlvbi1zcGVjaWZpYyBldmVudHMgY2FuIGFsc28gc3ViY2xhc3MgdGhpcy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gZGlzcGF0Y2hDb25maWcgQ29uZmlndXJhdGlvbiB1c2VkIHRvIGRpc3BhdGNoIHRoaXMgZXZlbnQuXG4gKiBAcGFyYW0geyp9IHRhcmdldEluc3QgTWFya2VyIGlkZW50aWZ5aW5nIHRoZSBldmVudCB0YXJnZXQuXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAcGFyYW0ge0RPTUV2ZW50VGFyZ2V0fSBuYXRpdmVFdmVudFRhcmdldCBUYXJnZXQgbm9kZS5cbiAqL1xuZnVuY3Rpb24gU3ludGhldGljRXZlbnQoZGlzcGF0Y2hDb25maWcsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICB7XG4gICAgLy8gdGhlc2UgaGF2ZSBhIGdldHRlci9zZXR0ZXIgZm9yIHdhcm5pbmdzXG4gICAgZGVsZXRlIHRoaXMubmF0aXZlRXZlbnQ7XG4gICAgZGVsZXRlIHRoaXMucHJldmVudERlZmF1bHQ7XG4gICAgZGVsZXRlIHRoaXMuc3RvcFByb3BhZ2F0aW9uO1xuICB9XG5cbiAgdGhpcy5kaXNwYXRjaENvbmZpZyA9IGRpc3BhdGNoQ29uZmlnO1xuICB0aGlzLl90YXJnZXRJbnN0ID0gdGFyZ2V0SW5zdDtcbiAgdGhpcy5uYXRpdmVFdmVudCA9IG5hdGl2ZUV2ZW50O1xuXG4gIHZhciBJbnRlcmZhY2UgPSB0aGlzLmNvbnN0cnVjdG9yLkludGVyZmFjZTtcbiAgZm9yICh2YXIgcHJvcE5hbWUgaW4gSW50ZXJmYWNlKSB7XG4gICAgaWYgKCFJbnRlcmZhY2UuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAge1xuICAgICAgZGVsZXRlIHRoaXNbcHJvcE5hbWVdOyAvLyB0aGlzIGhhcyBhIGdldHRlci9zZXR0ZXIgZm9yIHdhcm5pbmdzXG4gICAgfVxuICAgIHZhciBub3JtYWxpemUgPSBJbnRlcmZhY2VbcHJvcE5hbWVdO1xuICAgIGlmIChub3JtYWxpemUpIHtcbiAgICAgIHRoaXNbcHJvcE5hbWVdID0gbm9ybWFsaXplKG5hdGl2ZUV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHByb3BOYW1lID09PSAndGFyZ2V0Jykge1xuICAgICAgICB0aGlzLnRhcmdldCA9IG5hdGl2ZUV2ZW50VGFyZ2V0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpc1twcm9wTmFtZV0gPSBuYXRpdmVFdmVudFtwcm9wTmFtZV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIGRlZmF1bHRQcmV2ZW50ZWQgPSBuYXRpdmVFdmVudC5kZWZhdWx0UHJldmVudGVkICE9IG51bGwgPyBuYXRpdmVFdmVudC5kZWZhdWx0UHJldmVudGVkIDogbmF0aXZlRXZlbnQucmV0dXJuVmFsdWUgPT09IGZhbHNlO1xuICBpZiAoZGVmYXVsdFByZXZlbnRlZCkge1xuICAgIHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWU7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2U7XG4gIH1cbiAgdGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbl9hc3NpZ24oU3ludGhldGljRXZlbnQucHJvdG90eXBlLCB7XG4gIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgICB2YXIgZXZlbnQgPSB0aGlzLm5hdGl2ZUV2ZW50O1xuICAgIGlmICghZXZlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZXZlbnQucHJldmVudERlZmF1bHQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXZlbnQucmV0dXJuVmFsdWUgIT09ICd1bmtub3duJykge1xuICAgICAgZXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZTtcbiAgfSxcblxuICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXZlbnQgPSB0aGlzLm5hdGl2ZUV2ZW50O1xuICAgIGlmICghZXZlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBldmVudC5jYW5jZWxCdWJibGUgIT09ICd1bmtub3duJykge1xuICAgICAgLy8gVGhlIENoYW5nZUV2ZW50UGx1Z2luIHJlZ2lzdGVycyBhIFwicHJvcGVydHljaGFuZ2VcIiBldmVudCBmb3JcbiAgICAgIC8vIElFLiBUaGlzIGV2ZW50IGRvZXMgbm90IHN1cHBvcnQgYnViYmxpbmcgb3IgY2FuY2VsbGluZywgYW5kXG4gICAgICAvLyBhbnkgcmVmZXJlbmNlcyB0byBjYW5jZWxCdWJibGUgdGhyb3cgXCJNZW1iZXIgbm90IGZvdW5kXCIuICBBXG4gICAgICAvLyB0eXBlb2YgY2hlY2sgb2YgXCJ1bmtub3duXCIgY2lyY3VtdmVudHMgdGhpcyBpc3N1ZSAoYW5kIGlzIGFsc29cbiAgICAgIC8vIElFIHNwZWNpZmljKS5cbiAgICAgIGV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUcnVlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBXZSByZWxlYXNlIGFsbCBkaXNwYXRjaGVkIGBTeW50aGV0aWNFdmVudGBzIGFmdGVyIGVhY2ggZXZlbnQgbG9vcCwgYWRkaW5nXG4gICAqIHRoZW0gYmFjayBpbnRvIHRoZSBwb29sLiBUaGlzIGFsbG93cyBhIHdheSB0byBob2xkIG9udG8gYSByZWZlcmVuY2UgdGhhdFxuICAgKiB3b24ndCBiZSBhZGRlZCBiYWNrIGludG8gdGhlIHBvb2wuXG4gICAqL1xuICBwZXJzaXN0OiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5pc1BlcnNpc3RlbnQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZTtcbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoaXMgZXZlbnQgc2hvdWxkIGJlIHJlbGVhc2VkIGJhY2sgaW50byB0aGUgcG9vbC5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGlzIHNob3VsZCBub3QgYmUgcmVsZWFzZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIGlzUGVyc2lzdGVudDogZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0ZhbHNlLFxuXG4gIC8qKlxuICAgKiBgUG9vbGVkQ2xhc3NgIGxvb2tzIGZvciBgZGVzdHJ1Y3RvcmAgb24gZWFjaCBpbnN0YW5jZSBpdCByZWxlYXNlcy5cbiAgICovXG4gIGRlc3RydWN0b3I6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgSW50ZXJmYWNlID0gdGhpcy5jb25zdHJ1Y3Rvci5JbnRlcmZhY2U7XG4gICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gSW50ZXJmYWNlKSB7XG4gICAgICB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBwcm9wTmFtZSwgZ2V0UG9vbGVkV2FybmluZ1Byb3BlcnR5RGVmaW5pdGlvbihwcm9wTmFtZSwgSW50ZXJmYWNlW3Byb3BOYW1lXSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNob3VsZEJlUmVsZWFzZWRQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzW3Nob3VsZEJlUmVsZWFzZWRQcm9wZXJ0aWVzW2ldXSA9IG51bGw7XG4gICAgfVxuICAgIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbmF0aXZlRXZlbnQnLCBnZXRQb29sZWRXYXJuaW5nUHJvcGVydHlEZWZpbml0aW9uKCduYXRpdmVFdmVudCcsIG51bGwpKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncHJldmVudERlZmF1bHQnLCBnZXRQb29sZWRXYXJuaW5nUHJvcGVydHlEZWZpbml0aW9uKCdwcmV2ZW50RGVmYXVsdCcsIGVtcHR5RnVuY3Rpb24pKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnc3RvcFByb3BhZ2F0aW9uJywgZ2V0UG9vbGVkV2FybmluZ1Byb3BlcnR5RGVmaW5pdGlvbignc3RvcFByb3BhZ2F0aW9uJywgZW1wdHlGdW5jdGlvbikpO1xuICAgIH1cbiAgfVxufSk7XG5cblN5bnRoZXRpY0V2ZW50LkludGVyZmFjZSA9IEV2ZW50SW50ZXJmYWNlO1xuXG4vKipcbiAqIEhlbHBlciB0byByZWR1Y2UgYm9pbGVycGxhdGUgd2hlbiBjcmVhdGluZyBzdWJjbGFzc2VzLlxuICovXG5TeW50aGV0aWNFdmVudC5leHRlbmQgPSBmdW5jdGlvbiAoSW50ZXJmYWNlKSB7XG4gIHZhciBTdXBlciA9IHRoaXM7XG5cbiAgdmFyIEUgPSBmdW5jdGlvbiAoKSB7fTtcbiAgRS5wcm90b3R5cGUgPSBTdXBlci5wcm90b3R5cGU7XG4gIHZhciBwcm90b3R5cGUgPSBuZXcgRSgpO1xuXG4gIGZ1bmN0aW9uIENsYXNzKCkge1xuICAgIHJldHVybiBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG4gIF9hc3NpZ24ocHJvdG90eXBlLCBDbGFzcy5wcm90b3R5cGUpO1xuICBDbGFzcy5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gIENsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENsYXNzO1xuXG4gIENsYXNzLkludGVyZmFjZSA9IF9hc3NpZ24oe30sIFN1cGVyLkludGVyZmFjZSwgSW50ZXJmYWNlKTtcbiAgQ2xhc3MuZXh0ZW5kID0gU3VwZXIuZXh0ZW5kO1xuICBhZGRFdmVudFBvb2xpbmdUbyhDbGFzcyk7XG5cbiAgcmV0dXJuIENsYXNzO1xufTtcblxuLyoqIFByb3h5aW5nIGFmdGVyIGV2ZXJ5dGhpbmcgc2V0IG9uIFN5bnRoZXRpY0V2ZW50XG4gKiB0byByZXNvbHZlIFByb3h5IGlzc3VlIG9uIHNvbWUgV2ViS2l0IGJyb3dzZXJzXG4gKiBpbiB3aGljaCBzb21lIEV2ZW50IHByb3BlcnRpZXMgYXJlIHNldCB0byB1bmRlZmluZWQgKEdIIzEwMDEwKVxuICovXG57XG4gIHZhciBpc1Byb3h5U3VwcG9ydGVkID0gdHlwZW9mIFByb3h5ID09PSAnZnVuY3Rpb24nICYmXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTIwMTFcbiAgIU9iamVjdC5pc1NlYWxlZChuZXcgUHJveHkoe30sIHt9KSk7XG5cbiAgaWYgKGlzUHJveHlTdXBwb3J0ZWQpIHtcbiAgICAvKmVzbGludC1kaXNhYmxlIG5vLWZ1bmMtYXNzaWduICovXG4gICAgU3ludGhldGljRXZlbnQgPSBuZXcgUHJveHkoU3ludGhldGljRXZlbnQsIHtcbiAgICAgIGNvbnN0cnVjdDogZnVuY3Rpb24gKHRhcmdldCwgYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBseSh0YXJnZXQsIE9iamVjdC5jcmVhdGUodGFyZ2V0LnByb3RvdHlwZSksIGFyZ3MpO1xuICAgICAgfSxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbiAoY29uc3RydWN0b3IsIHRoYXQsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eShjb25zdHJ1Y3Rvci5hcHBseSh0aGF0LCBhcmdzKSwge1xuICAgICAgICAgIHNldDogZnVuY3Rpb24gKHRhcmdldCwgcHJvcCwgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChwcm9wICE9PSAnaXNQZXJzaXN0ZW50JyAmJiAhdGFyZ2V0LmNvbnN0cnVjdG9yLkludGVyZmFjZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSAmJiBzaG91bGRCZVJlbGVhc2VkUHJvcGVydGllcy5pbmRleE9mKHByb3ApID09PSAtMSkge1xuICAgICAgICAgICAgICB3YXJuaW5nKGRpZFdhcm5Gb3JBZGRlZE5ld1Byb3BlcnR5IHx8IHRhcmdldC5pc1BlcnNpc3RlbnQoKSwgXCJUaGlzIHN5bnRoZXRpYyBldmVudCBpcyByZXVzZWQgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuIElmIHlvdSdyZSBcIiArIFwic2VlaW5nIHRoaXMsIHlvdSdyZSBhZGRpbmcgYSBuZXcgcHJvcGVydHkgaW4gdGhlIHN5bnRoZXRpYyBldmVudCBvYmplY3QuIFwiICsgJ1RoZSBwcm9wZXJ0eSBpcyBuZXZlciByZWxlYXNlZC4gU2VlICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1ldmVudC1wb29saW5nIGZvciBtb3JlIGluZm9ybWF0aW9uLicpO1xuICAgICAgICAgICAgICBkaWRXYXJuRm9yQWRkZWROZXdQcm9wZXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLyplc2xpbnQtZW5hYmxlIG5vLWZ1bmMtYXNzaWduICovXG4gIH1cbn1cblxuYWRkRXZlbnRQb29saW5nVG8oU3ludGhldGljRXZlbnQpO1xuXG4vKipcbiAqIEhlbHBlciB0byBudWxsaWZ5IHN5bnRoZXRpY0V2ZW50IGluc3RhbmNlIHByb3BlcnRpZXMgd2hlbiBkZXN0cnVjdGluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wTmFtZVxuICogQHBhcmFtIHs/b2JqZWN0fSBnZXRWYWxcbiAqIEByZXR1cm4ge29iamVjdH0gZGVmaW5lUHJvcGVydHkgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIGdldFBvb2xlZFdhcm5pbmdQcm9wZXJ0eURlZmluaXRpb24ocHJvcE5hbWUsIGdldFZhbCkge1xuICB2YXIgaXNGdW5jdGlvbiA9IHR5cGVvZiBnZXRWYWwgPT09ICdmdW5jdGlvbic7XG4gIHJldHVybiB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIHNldDogc2V0LFxuICAgIGdldDogZ2V0XG4gIH07XG5cbiAgZnVuY3Rpb24gc2V0KHZhbCkge1xuICAgIHZhciBhY3Rpb24gPSBpc0Z1bmN0aW9uID8gJ3NldHRpbmcgdGhlIG1ldGhvZCcgOiAnc2V0dGluZyB0aGUgcHJvcGVydHknO1xuICAgIHdhcm4oYWN0aW9uLCAnVGhpcyBpcyBlZmZlY3RpdmVseSBhIG5vLW9wJyk7XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldCgpIHtcbiAgICB2YXIgYWN0aW9uID0gaXNGdW5jdGlvbiA/ICdhY2Nlc3NpbmcgdGhlIG1ldGhvZCcgOiAnYWNjZXNzaW5nIHRoZSBwcm9wZXJ0eSc7XG4gICAgdmFyIHJlc3VsdCA9IGlzRnVuY3Rpb24gPyAnVGhpcyBpcyBhIG5vLW9wIGZ1bmN0aW9uJyA6ICdUaGlzIGlzIHNldCB0byBudWxsJztcbiAgICB3YXJuKGFjdGlvbiwgcmVzdWx0KTtcbiAgICByZXR1cm4gZ2V0VmFsO1xuICB9XG5cbiAgZnVuY3Rpb24gd2FybihhY3Rpb24sIHJlc3VsdCkge1xuICAgIHZhciB3YXJuaW5nQ29uZGl0aW9uID0gZmFsc2U7XG4gICAgd2FybmluZyh3YXJuaW5nQ29uZGl0aW9uLCBcIlRoaXMgc3ludGhldGljIGV2ZW50IGlzIHJldXNlZCBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucy4gSWYgeW91J3JlIHNlZWluZyB0aGlzLCBcIiArIFwieW91J3JlICVzIGAlc2Agb24gYSByZWxlYXNlZC9udWxsaWZpZWQgc3ludGhldGljIGV2ZW50LiAlcy4gXCIgKyAnSWYgeW91IG11c3Qga2VlcCB0aGUgb3JpZ2luYWwgc3ludGhldGljIGV2ZW50IGFyb3VuZCwgdXNlIGV2ZW50LnBlcnNpc3QoKS4gJyArICdTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC1ldmVudC1wb29saW5nIGZvciBtb3JlIGluZm9ybWF0aW9uLicsIGFjdGlvbiwgcHJvcE5hbWUsIHJlc3VsdCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UG9vbGVkRXZlbnQoZGlzcGF0Y2hDb25maWcsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVJbnN0KSB7XG4gIHZhciBFdmVudENvbnN0cnVjdG9yID0gdGhpcztcbiAgaWYgKEV2ZW50Q29uc3RydWN0b3IuZXZlbnRQb29sLmxlbmd0aCkge1xuICAgIHZhciBpbnN0YW5jZSA9IEV2ZW50Q29uc3RydWN0b3IuZXZlbnRQb29sLnBvcCgpO1xuICAgIEV2ZW50Q29uc3RydWN0b3IuY2FsbChpbnN0YW5jZSwgZGlzcGF0Y2hDb25maWcsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVJbnN0KTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH1cbiAgcmV0dXJuIG5ldyBFdmVudENvbnN0cnVjdG9yKGRpc3BhdGNoQ29uZmlnLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlSW5zdCk7XG59XG5cbmZ1bmN0aW9uIHJlbGVhc2VQb29sZWRFdmVudChldmVudCkge1xuICB2YXIgRXZlbnRDb25zdHJ1Y3RvciA9IHRoaXM7XG4gICEoZXZlbnQgaW5zdGFuY2VvZiBFdmVudENvbnN0cnVjdG9yKSA/IGludmFyaWFudChmYWxzZSwgJ1RyeWluZyB0byByZWxlYXNlIGFuIGV2ZW50IGluc3RhbmNlICBpbnRvIGEgcG9vbCBvZiBhIGRpZmZlcmVudCB0eXBlLicpIDogdm9pZCAwO1xuICBldmVudC5kZXN0cnVjdG9yKCk7XG4gIGlmIChFdmVudENvbnN0cnVjdG9yLmV2ZW50UG9vbC5sZW5ndGggPCBFVkVOVF9QT09MX1NJWkUpIHtcbiAgICBFdmVudENvbnN0cnVjdG9yLmV2ZW50UG9vbC5wdXNoKGV2ZW50KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhZGRFdmVudFBvb2xpbmdUbyhFdmVudENvbnN0cnVjdG9yKSB7XG4gIEV2ZW50Q29uc3RydWN0b3IuZXZlbnRQb29sID0gW107XG4gIEV2ZW50Q29uc3RydWN0b3IuZ2V0UG9vbGVkID0gZ2V0UG9vbGVkRXZlbnQ7XG4gIEV2ZW50Q29uc3RydWN0b3IucmVsZWFzZSA9IHJlbGVhc2VQb29sZWRFdmVudDtcbn1cblxudmFyIFN5bnRoZXRpY0V2ZW50JDEgPSBTeW50aGV0aWNFdmVudDtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIEV2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy8jZXZlbnRzLWNvbXBvc2l0aW9uZXZlbnRzXG4gKi9cbnZhciBTeW50aGV0aWNDb21wb3NpdGlvbkV2ZW50ID0gU3ludGhldGljRXZlbnQkMS5leHRlbmQoe1xuICBkYXRhOiBudWxsXG59KTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIEV2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTMvV0QtRE9NLUxldmVsLTMtRXZlbnRzLTIwMTMxMTA1XG4gKiAgICAgIC8jZXZlbnRzLWlucHV0ZXZlbnRzXG4gKi9cbnZhciBTeW50aGV0aWNJbnB1dEV2ZW50ID0gU3ludGhldGljRXZlbnQkMS5leHRlbmQoe1xuICBkYXRhOiBudWxsXG59KTtcblxudmFyIEVORF9LRVlDT0RFUyA9IFs5LCAxMywgMjcsIDMyXTsgLy8gVGFiLCBSZXR1cm4sIEVzYywgU3BhY2VcbnZhciBTVEFSVF9LRVlDT0RFID0gMjI5O1xuXG52YXIgY2FuVXNlQ29tcG9zaXRpb25FdmVudCA9IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiAnQ29tcG9zaXRpb25FdmVudCcgaW4gd2luZG93O1xuXG52YXIgZG9jdW1lbnRNb2RlID0gbnVsbDtcbmlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgJ2RvY3VtZW50TW9kZScgaW4gZG9jdW1lbnQpIHtcbiAgZG9jdW1lbnRNb2RlID0gZG9jdW1lbnQuZG9jdW1lbnRNb2RlO1xufVxuXG4vLyBXZWJraXQgb2ZmZXJzIGEgdmVyeSB1c2VmdWwgYHRleHRJbnB1dGAgZXZlbnQgdGhhdCBjYW4gYmUgdXNlZCB0b1xuLy8gZGlyZWN0bHkgcmVwcmVzZW50IGBiZWZvcmVJbnB1dGAuIFRoZSBJRSBgdGV4dGlucHV0YCBldmVudCBpcyBub3QgYXNcbi8vIHVzZWZ1bCwgc28gd2UgZG9uJ3QgdXNlIGl0LlxudmFyIGNhblVzZVRleHRJbnB1dEV2ZW50ID0gRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmICdUZXh0RXZlbnQnIGluIHdpbmRvdyAmJiAhZG9jdW1lbnRNb2RlO1xuXG4vLyBJbiBJRTkrLCB3ZSBoYXZlIGFjY2VzcyB0byBjb21wb3NpdGlvbiBldmVudHMsIGJ1dCB0aGUgZGF0YSBzdXBwbGllZFxuLy8gYnkgdGhlIG5hdGl2ZSBjb21wb3NpdGlvbmVuZCBldmVudCBtYXkgYmUgaW5jb3JyZWN0LiBKYXBhbmVzZSBpZGVvZ3JhcGhpY1xuLy8gc3BhY2VzLCBmb3IgaW5zdGFuY2UgKFxcdTMwMDApIGFyZSBub3QgcmVjb3JkZWQgY29ycmVjdGx5LlxudmFyIHVzZUZhbGxiYWNrQ29tcG9zaXRpb25EYXRhID0gRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmICghY2FuVXNlQ29tcG9zaXRpb25FdmVudCB8fCBkb2N1bWVudE1vZGUgJiYgZG9jdW1lbnRNb2RlID4gOCAmJiBkb2N1bWVudE1vZGUgPD0gMTEpO1xuXG52YXIgU1BBQ0VCQVJfQ09ERSA9IDMyO1xudmFyIFNQQUNFQkFSX0NIQVIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFNQQUNFQkFSX0NPREUpO1xuXG4vLyBFdmVudHMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgbmFtZXMuXG52YXIgZXZlbnRUeXBlcyA9IHtcbiAgYmVmb3JlSW5wdXQ6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDogJ29uQmVmb3JlSW5wdXQnLFxuICAgICAgY2FwdHVyZWQ6ICdvbkJlZm9yZUlucHV0Q2FwdHVyZSdcbiAgICB9LFxuICAgIGRlcGVuZGVuY2llczogWyd0b3BDb21wb3NpdGlvbkVuZCcsICd0b3BLZXlQcmVzcycsICd0b3BUZXh0SW5wdXQnLCAndG9wUGFzdGUnXVxuICB9LFxuICBjb21wb3NpdGlvbkVuZDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiAnb25Db21wb3NpdGlvbkVuZCcsXG4gICAgICBjYXB0dXJlZDogJ29uQ29tcG9zaXRpb25FbmRDYXB0dXJlJ1xuICAgIH0sXG4gICAgZGVwZW5kZW5jaWVzOiBbJ3RvcEJsdXInLCAndG9wQ29tcG9zaXRpb25FbmQnLCAndG9wS2V5RG93bicsICd0b3BLZXlQcmVzcycsICd0b3BLZXlVcCcsICd0b3BNb3VzZURvd24nXVxuICB9LFxuICBjb21wb3NpdGlvblN0YXJ0OiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6ICdvbkNvbXBvc2l0aW9uU3RhcnQnLFxuICAgICAgY2FwdHVyZWQ6ICdvbkNvbXBvc2l0aW9uU3RhcnRDYXB0dXJlJ1xuICAgIH0sXG4gICAgZGVwZW5kZW5jaWVzOiBbJ3RvcEJsdXInLCAndG9wQ29tcG9zaXRpb25TdGFydCcsICd0b3BLZXlEb3duJywgJ3RvcEtleVByZXNzJywgJ3RvcEtleVVwJywgJ3RvcE1vdXNlRG93biddXG4gIH0sXG4gIGNvbXBvc2l0aW9uVXBkYXRlOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6ICdvbkNvbXBvc2l0aW9uVXBkYXRlJyxcbiAgICAgIGNhcHR1cmVkOiAnb25Db21wb3NpdGlvblVwZGF0ZUNhcHR1cmUnXG4gICAgfSxcbiAgICBkZXBlbmRlbmNpZXM6IFsndG9wQmx1cicsICd0b3BDb21wb3NpdGlvblVwZGF0ZScsICd0b3BLZXlEb3duJywgJ3RvcEtleVByZXNzJywgJ3RvcEtleVVwJywgJ3RvcE1vdXNlRG93biddXG4gIH1cbn07XG5cbi8vIFRyYWNrIHdoZXRoZXIgd2UndmUgZXZlciBoYW5kbGVkIGEga2V5cHJlc3Mgb24gdGhlIHNwYWNlIGtleS5cbnZhciBoYXNTcGFjZUtleXByZXNzID0gZmFsc2U7XG5cbi8qKlxuICogUmV0dXJuIHdoZXRoZXIgYSBuYXRpdmUga2V5cHJlc3MgZXZlbnQgaXMgYXNzdW1lZCB0byBiZSBhIGNvbW1hbmQuXG4gKiBUaGlzIGlzIHJlcXVpcmVkIGJlY2F1c2UgRmlyZWZveCBmaXJlcyBga2V5cHJlc3NgIGV2ZW50cyBmb3Iga2V5IGNvbW1hbmRzXG4gKiAoY3V0LCBjb3B5LCBzZWxlY3QtYWxsLCBldGMuKSBldmVuIHRob3VnaCBubyBjaGFyYWN0ZXIgaXMgaW5zZXJ0ZWQuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5cHJlc3NDb21tYW5kKG5hdGl2ZUV2ZW50KSB7XG4gIHJldHVybiAobmF0aXZlRXZlbnQuY3RybEtleSB8fCBuYXRpdmVFdmVudC5hbHRLZXkgfHwgbmF0aXZlRXZlbnQubWV0YUtleSkgJiZcbiAgLy8gY3RybEtleSAmJiBhbHRLZXkgaXMgZXF1aXZhbGVudCB0byBBbHRHciwgYW5kIGlzIG5vdCBhIGNvbW1hbmQuXG4gICEobmF0aXZlRXZlbnQuY3RybEtleSAmJiBuYXRpdmVFdmVudC5hbHRLZXkpO1xufVxuXG4vKipcbiAqIFRyYW5zbGF0ZSBuYXRpdmUgdG9wIGxldmVsIGV2ZW50cyBpbnRvIGV2ZW50IHR5cGVzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFR5cGVcbiAqIEByZXR1cm4ge29iamVjdH1cbiAqL1xuZnVuY3Rpb24gZ2V0Q29tcG9zaXRpb25FdmVudFR5cGUodG9wTGV2ZWxUeXBlKSB7XG4gIHN3aXRjaCAodG9wTGV2ZWxUeXBlKSB7XG4gICAgY2FzZSAndG9wQ29tcG9zaXRpb25TdGFydCc6XG4gICAgICByZXR1cm4gZXZlbnRUeXBlcy5jb21wb3NpdGlvblN0YXJ0O1xuICAgIGNhc2UgJ3RvcENvbXBvc2l0aW9uRW5kJzpcbiAgICAgIHJldHVybiBldmVudFR5cGVzLmNvbXBvc2l0aW9uRW5kO1xuICAgIGNhc2UgJ3RvcENvbXBvc2l0aW9uVXBkYXRlJzpcbiAgICAgIHJldHVybiBldmVudFR5cGVzLmNvbXBvc2l0aW9uVXBkYXRlO1xuICB9XG59XG5cbi8qKlxuICogRG9lcyBvdXIgZmFsbGJhY2sgYmVzdC1ndWVzcyBtb2RlbCB0aGluayB0aGlzIGV2ZW50IHNpZ25pZmllcyB0aGF0XG4gKiBjb21wb3NpdGlvbiBoYXMgYmVndW4/XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRvcExldmVsVHlwZVxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50XG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0ZhbGxiYWNrQ29tcG9zaXRpb25TdGFydCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSB7XG4gIHJldHVybiB0b3BMZXZlbFR5cGUgPT09ICd0b3BLZXlEb3duJyAmJiBuYXRpdmVFdmVudC5rZXlDb2RlID09PSBTVEFSVF9LRVlDT0RFO1xufVxuXG4vKipcbiAqIERvZXMgb3VyIGZhbGxiYWNrIG1vZGUgdGhpbmsgdGhhdCB0aGlzIGV2ZW50IGlzIHRoZSBlbmQgb2YgY29tcG9zaXRpb24/XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRvcExldmVsVHlwZVxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50XG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0ZhbGxiYWNrQ29tcG9zaXRpb25FbmQodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkge1xuICBzd2l0Y2ggKHRvcExldmVsVHlwZSkge1xuICAgIGNhc2UgJ3RvcEtleVVwJzpcbiAgICAgIC8vIENvbW1hbmQga2V5cyBpbnNlcnQgb3IgY2xlYXIgSU1FIGlucHV0LlxuICAgICAgcmV0dXJuIEVORF9LRVlDT0RFUy5pbmRleE9mKG5hdGl2ZUV2ZW50LmtleUNvZGUpICE9PSAtMTtcbiAgICBjYXNlICd0b3BLZXlEb3duJzpcbiAgICAgIC8vIEV4cGVjdCBJTUUga2V5Q29kZSBvbiBlYWNoIGtleWRvd24uIElmIHdlIGdldCBhbnkgb3RoZXJcbiAgICAgIC8vIGNvZGUgd2UgbXVzdCBoYXZlIGV4aXRlZCBlYXJsaWVyLlxuICAgICAgcmV0dXJuIG5hdGl2ZUV2ZW50LmtleUNvZGUgIT09IFNUQVJUX0tFWUNPREU7XG4gICAgY2FzZSAndG9wS2V5UHJlc3MnOlxuICAgIGNhc2UgJ3RvcE1vdXNlRG93bic6XG4gICAgY2FzZSAndG9wQmx1cic6XG4gICAgICAvLyBFdmVudHMgYXJlIG5vdCBwb3NzaWJsZSB3aXRob3V0IGNhbmNlbGxpbmcgSU1FLlxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIEdvb2dsZSBJbnB1dCBUb29scyBwcm92aWRlcyBjb21wb3NpdGlvbiBkYXRhIHZpYSBhIEN1c3RvbUV2ZW50LFxuICogd2l0aCB0aGUgYGRhdGFgIHByb3BlcnR5IHBvcHVsYXRlZCBpbiB0aGUgYGRldGFpbGAgb2JqZWN0LiBJZiB0aGlzXG4gKiBpcyBhdmFpbGFibGUgb24gdGhlIGV2ZW50IG9iamVjdCwgdXNlIGl0LiBJZiBub3QsIHRoaXMgaXMgYSBwbGFpblxuICogY29tcG9zaXRpb24gZXZlbnQgYW5kIHdlIGhhdmUgbm90aGluZyBzcGVjaWFsIHRvIGV4dHJhY3QuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50XG4gKiBAcmV0dXJuIHs/c3RyaW5nfVxuICovXG5mdW5jdGlvbiBnZXREYXRhRnJvbUN1c3RvbUV2ZW50KG5hdGl2ZUV2ZW50KSB7XG4gIHZhciBkZXRhaWwgPSBuYXRpdmVFdmVudC5kZXRhaWw7XG4gIGlmICh0eXBlb2YgZGV0YWlsID09PSAnb2JqZWN0JyAmJiAnZGF0YScgaW4gZGV0YWlsKSB7XG4gICAgcmV0dXJuIGRldGFpbC5kYXRhO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vLyBUcmFjayB0aGUgY3VycmVudCBJTUUgY29tcG9zaXRpb24gc3RhdHVzLCBpZiBhbnkuXG52YXIgaXNDb21wb3NpbmcgPSBmYWxzZTtcblxuLyoqXG4gKiBAcmV0dXJuIHs/b2JqZWN0fSBBIFN5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQuXG4gKi9cbmZ1bmN0aW9uIGV4dHJhY3RDb21wb3NpdGlvbkV2ZW50KHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gIHZhciBldmVudFR5cGUgPSB2b2lkIDA7XG4gIHZhciBmYWxsYmFja0RhdGEgPSB2b2lkIDA7XG5cbiAgaWYgKGNhblVzZUNvbXBvc2l0aW9uRXZlbnQpIHtcbiAgICBldmVudFR5cGUgPSBnZXRDb21wb3NpdGlvbkV2ZW50VHlwZSh0b3BMZXZlbFR5cGUpO1xuICB9IGVsc2UgaWYgKCFpc0NvbXBvc2luZykge1xuICAgIGlmIChpc0ZhbGxiYWNrQ29tcG9zaXRpb25TdGFydCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSkge1xuICAgICAgZXZlbnRUeXBlID0gZXZlbnRUeXBlcy5jb21wb3NpdGlvblN0YXJ0O1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc0ZhbGxiYWNrQ29tcG9zaXRpb25FbmQodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkpIHtcbiAgICBldmVudFR5cGUgPSBldmVudFR5cGVzLmNvbXBvc2l0aW9uRW5kO1xuICB9XG5cbiAgaWYgKCFldmVudFR5cGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmICh1c2VGYWxsYmFja0NvbXBvc2l0aW9uRGF0YSkge1xuICAgIC8vIFRoZSBjdXJyZW50IGNvbXBvc2l0aW9uIGlzIHN0b3JlZCBzdGF0aWNhbGx5IGFuZCBtdXN0IG5vdCBiZVxuICAgIC8vIG92ZXJ3cml0dGVuIHdoaWxlIGNvbXBvc2l0aW9uIGNvbnRpbnVlcy5cbiAgICBpZiAoIWlzQ29tcG9zaW5nICYmIGV2ZW50VHlwZSA9PT0gZXZlbnRUeXBlcy5jb21wb3NpdGlvblN0YXJ0KSB7XG4gICAgICBpc0NvbXBvc2luZyA9IGluaXRpYWxpemUobmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlID09PSBldmVudFR5cGVzLmNvbXBvc2l0aW9uRW5kKSB7XG4gICAgICBpZiAoaXNDb21wb3NpbmcpIHtcbiAgICAgICAgZmFsbGJhY2tEYXRhID0gZ2V0RGF0YSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciBldmVudCA9IFN5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQuZ2V0UG9vbGVkKGV2ZW50VHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcblxuICBpZiAoZmFsbGJhY2tEYXRhKSB7XG4gICAgLy8gSW5qZWN0IGRhdGEgZ2VuZXJhdGVkIGZyb20gZmFsbGJhY2sgcGF0aCBpbnRvIHRoZSBzeW50aGV0aWMgZXZlbnQuXG4gICAgLy8gVGhpcyBtYXRjaGVzIHRoZSBwcm9wZXJ0eSBvZiBuYXRpdmUgQ29tcG9zaXRpb25FdmVudEludGVyZmFjZS5cbiAgICBldmVudC5kYXRhID0gZmFsbGJhY2tEYXRhO1xuICB9IGVsc2Uge1xuICAgIHZhciBjdXN0b21EYXRhID0gZ2V0RGF0YUZyb21DdXN0b21FdmVudChuYXRpdmVFdmVudCk7XG4gICAgaWYgKGN1c3RvbURhdGEgIT09IG51bGwpIHtcbiAgICAgIGV2ZW50LmRhdGEgPSBjdXN0b21EYXRhO1xuICAgIH1cbiAgfVxuXG4gIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoZXZlbnQpO1xuICByZXR1cm4gZXZlbnQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUb3BMZXZlbFR5cGVzfSB0b3BMZXZlbFR5cGUgUmVjb3JkIGZyb20gYEJyb3dzZXJFdmVudENvbnN0YW50c2AuXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHs/c3RyaW5nfSBUaGUgc3RyaW5nIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBgYmVmb3JlSW5wdXRgIGV2ZW50LlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmVCZWZvcmVJbnB1dENoYXJzKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpIHtcbiAgc3dpdGNoICh0b3BMZXZlbFR5cGUpIHtcbiAgICBjYXNlICd0b3BDb21wb3NpdGlvbkVuZCc6XG4gICAgICByZXR1cm4gZ2V0RGF0YUZyb21DdXN0b21FdmVudChuYXRpdmVFdmVudCk7XG4gICAgY2FzZSAndG9wS2V5UHJlc3MnOlxuICAgICAgLyoqXG4gICAgICAgKiBJZiBuYXRpdmUgYHRleHRJbnB1dGAgZXZlbnRzIGFyZSBhdmFpbGFibGUsIG91ciBnb2FsIGlzIHRvIG1ha2VcbiAgICAgICAqIHVzZSBvZiB0aGVtLiBIb3dldmVyLCB0aGVyZSBpcyBhIHNwZWNpYWwgY2FzZTogdGhlIHNwYWNlYmFyIGtleS5cbiAgICAgICAqIEluIFdlYmtpdCwgcHJldmVudGluZyBkZWZhdWx0IG9uIGEgc3BhY2ViYXIgYHRleHRJbnB1dGAgZXZlbnRcbiAgICAgICAqIGNhbmNlbHMgY2hhcmFjdGVyIGluc2VydGlvbiwgYnV0IGl0ICphbHNvKiBjYXVzZXMgdGhlIGJyb3dzZXJcbiAgICAgICAqIHRvIGZhbGwgYmFjayB0byBpdHMgZGVmYXVsdCBzcGFjZWJhciBiZWhhdmlvciBvZiBzY3JvbGxpbmcgdGhlXG4gICAgICAgKiBwYWdlLlxuICAgICAgICpcbiAgICAgICAqIFRyYWNraW5nIGF0OlxuICAgICAgICogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTM1NTEwM1xuICAgICAgICpcbiAgICAgICAqIFRvIGF2b2lkIHRoaXMgaXNzdWUsIHVzZSB0aGUga2V5cHJlc3MgZXZlbnQgYXMgaWYgbm8gYHRleHRJbnB1dGBcbiAgICAgICAqIGV2ZW50IGlzIGF2YWlsYWJsZS5cbiAgICAgICAqL1xuICAgICAgdmFyIHdoaWNoID0gbmF0aXZlRXZlbnQud2hpY2g7XG4gICAgICBpZiAod2hpY2ggIT09IFNQQUNFQkFSX0NPREUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGhhc1NwYWNlS2V5cHJlc3MgPSB0cnVlO1xuICAgICAgcmV0dXJuIFNQQUNFQkFSX0NIQVI7XG5cbiAgICBjYXNlICd0b3BUZXh0SW5wdXQnOlxuICAgICAgLy8gUmVjb3JkIHRoZSBjaGFyYWN0ZXJzIHRvIGJlIGFkZGVkIHRvIHRoZSBET00uXG4gICAgICB2YXIgY2hhcnMgPSBuYXRpdmVFdmVudC5kYXRhO1xuXG4gICAgICAvLyBJZiBpdCdzIGEgc3BhY2ViYXIgY2hhcmFjdGVyLCBhc3N1bWUgdGhhdCB3ZSBoYXZlIGFscmVhZHkgaGFuZGxlZFxuICAgICAgLy8gaXQgYXQgdGhlIGtleXByZXNzIGxldmVsIGFuZCBiYWlsIGltbWVkaWF0ZWx5LiBBbmRyb2lkIENocm9tZVxuICAgICAgLy8gZG9lc24ndCBnaXZlIHVzIGtleWNvZGVzLCBzbyB3ZSBuZWVkIHRvIGJsYWNrbGlzdCBpdC5cbiAgICAgIGlmIChjaGFycyA9PT0gU1BBQ0VCQVJfQ0hBUiAmJiBoYXNTcGFjZUtleXByZXNzKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2hhcnM7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gRm9yIG90aGVyIG5hdGl2ZSBldmVudCB0eXBlcywgZG8gbm90aGluZy5cbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogRm9yIGJyb3dzZXJzIHRoYXQgZG8gbm90IHByb3ZpZGUgdGhlIGB0ZXh0SW5wdXRgIGV2ZW50LCBleHRyYWN0IHRoZVxuICogYXBwcm9wcmlhdGUgc3RyaW5nIHRvIHVzZSBmb3IgU3ludGhldGljSW5wdXRFdmVudC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUeXBlIFJlY29yZCBmcm9tIGBCcm93c2VyRXZlbnRDb25zdGFudHNgLlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7P3N0cmluZ30gVGhlIGZhbGxiYWNrIHN0cmluZyBmb3IgdGhpcyBgYmVmb3JlSW5wdXRgIGV2ZW50LlxuICovXG5mdW5jdGlvbiBnZXRGYWxsYmFja0JlZm9yZUlucHV0Q2hhcnModG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkge1xuICAvLyBJZiB3ZSBhcmUgY3VycmVudGx5IGNvbXBvc2luZyAoSU1FKSBhbmQgdXNpbmcgYSBmYWxsYmFjayB0byBkbyBzbyxcbiAgLy8gdHJ5IHRvIGV4dHJhY3QgdGhlIGNvbXBvc2VkIGNoYXJhY3RlcnMgZnJvbSB0aGUgZmFsbGJhY2sgb2JqZWN0LlxuICAvLyBJZiBjb21wb3NpdGlvbiBldmVudCBpcyBhdmFpbGFibGUsIHdlIGV4dHJhY3QgYSBzdHJpbmcgb25seSBhdFxuICAvLyBjb21wb3NpdGlvbmV2ZW50LCBvdGhlcndpc2UgZXh0cmFjdCBpdCBhdCBmYWxsYmFjayBldmVudHMuXG4gIGlmIChpc0NvbXBvc2luZykge1xuICAgIGlmICh0b3BMZXZlbFR5cGUgPT09ICd0b3BDb21wb3NpdGlvbkVuZCcgfHwgIWNhblVzZUNvbXBvc2l0aW9uRXZlbnQgJiYgaXNGYWxsYmFja0NvbXBvc2l0aW9uRW5kKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpKSB7XG4gICAgICB2YXIgY2hhcnMgPSBnZXREYXRhKCk7XG4gICAgICByZXNldCgpO1xuICAgICAgaXNDb21wb3NpbmcgPSBmYWxzZTtcbiAgICAgIHJldHVybiBjaGFycztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBzd2l0Y2ggKHRvcExldmVsVHlwZSkge1xuICAgIGNhc2UgJ3RvcFBhc3RlJzpcbiAgICAgIC8vIElmIGEgcGFzdGUgZXZlbnQgb2NjdXJzIGFmdGVyIGEga2V5cHJlc3MsIHRocm93IG91dCB0aGUgaW5wdXRcbiAgICAgIC8vIGNoYXJzLiBQYXN0ZSBldmVudHMgc2hvdWxkIG5vdCBsZWFkIHRvIEJlZm9yZUlucHV0IGV2ZW50cy5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNhc2UgJ3RvcEtleVByZXNzJzpcbiAgICAgIC8qKlxuICAgICAgICogQXMgb2YgdjI3LCBGaXJlZm94IG1heSBmaXJlIGtleXByZXNzIGV2ZW50cyBldmVuIHdoZW4gbm8gY2hhcmFjdGVyXG4gICAgICAgKiB3aWxsIGJlIGluc2VydGVkLiBBIGZldyBwb3NzaWJpbGl0aWVzOlxuICAgICAgICpcbiAgICAgICAqIC0gYHdoaWNoYCBpcyBgMGAuIEFycm93IGtleXMsIEVzYyBrZXksIGV0Yy5cbiAgICAgICAqXG4gICAgICAgKiAtIGB3aGljaGAgaXMgdGhlIHByZXNzZWQga2V5IGNvZGUsIGJ1dCBubyBjaGFyIGlzIGF2YWlsYWJsZS5cbiAgICAgICAqICAgRXg6ICdBbHRHciArIGRgIGluIFBvbGlzaC4gVGhlcmUgaXMgbm8gbW9kaWZpZWQgY2hhcmFjdGVyIGZvclxuICAgICAgICogICB0aGlzIGtleSBjb21iaW5hdGlvbiBhbmQgbm8gY2hhcmFjdGVyIGlzIGluc2VydGVkIGludG8gdGhlXG4gICAgICAgKiAgIGRvY3VtZW50LCBidXQgRkYgZmlyZXMgdGhlIGtleXByZXNzIGZvciBjaGFyIGNvZGUgYDEwMGAgYW55d2F5LlxuICAgICAgICogICBObyBgaW5wdXRgIGV2ZW50IHdpbGwgb2NjdXIuXG4gICAgICAgKlxuICAgICAgICogLSBgd2hpY2hgIGlzIHRoZSBwcmVzc2VkIGtleSBjb2RlLCBidXQgYSBjb21tYW5kIGNvbWJpbmF0aW9uIGlzXG4gICAgICAgKiAgIGJlaW5nIHVzZWQuIEV4OiBgQ21kK0NgLiBObyBjaGFyYWN0ZXIgaXMgaW5zZXJ0ZWQsIGFuZCBub1xuICAgICAgICogICBgaW5wdXRgIGV2ZW50IHdpbGwgb2NjdXIuXG4gICAgICAgKi9cbiAgICAgIGlmICghaXNLZXlwcmVzc0NvbW1hbmQobmF0aXZlRXZlbnQpKSB7XG4gICAgICAgIC8vIElFIGZpcmVzIHRoZSBga2V5cHJlc3NgIGV2ZW50IHdoZW4gYSB1c2VyIHR5cGVzIGFuIGVtb2ppIHZpYVxuICAgICAgICAvLyBUb3VjaCBrZXlib2FyZCBvZiBXaW5kb3dzLiAgSW4gc3VjaCBhIGNhc2UsIHRoZSBgY2hhcmAgcHJvcGVydHlcbiAgICAgICAgLy8gaG9sZHMgYW4gZW1vamkgY2hhcmFjdGVyIGxpa2UgYFxcdUQ4M0RcXHVERTBBYC4gIEJlY2F1c2UgaXRzIGxlbmd0aFxuICAgICAgICAvLyBpcyAyLCB0aGUgcHJvcGVydHkgYHdoaWNoYCBkb2VzIG5vdCByZXByZXNlbnQgYW4gZW1vamkgY29ycmVjdGx5LlxuICAgICAgICAvLyBJbiBzdWNoIGEgY2FzZSwgd2UgZGlyZWN0bHkgcmV0dXJuIHRoZSBgY2hhcmAgcHJvcGVydHkgaW5zdGVhZCBvZlxuICAgICAgICAvLyB1c2luZyBgd2hpY2hgLlxuICAgICAgICBpZiAobmF0aXZlRXZlbnQuY2hhciAmJiBuYXRpdmVFdmVudC5jaGFyLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICByZXR1cm4gbmF0aXZlRXZlbnQuY2hhcjtcbiAgICAgICAgfSBlbHNlIGlmIChuYXRpdmVFdmVudC53aGljaCkge1xuICAgICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKG5hdGl2ZUV2ZW50LndoaWNoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSAndG9wQ29tcG9zaXRpb25FbmQnOlxuICAgICAgcmV0dXJuIHVzZUZhbGxiYWNrQ29tcG9zaXRpb25EYXRhID8gbnVsbCA6IG5hdGl2ZUV2ZW50LmRhdGE7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogRXh0cmFjdCBhIFN5bnRoZXRpY0lucHV0RXZlbnQgZm9yIGBiZWZvcmVJbnB1dGAsIGJhc2VkIG9uIGVpdGhlciBuYXRpdmVcbiAqIGB0ZXh0SW5wdXRgIG9yIGZhbGxiYWNrIGJlaGF2aW9yLlxuICpcbiAqIEByZXR1cm4gez9vYmplY3R9IEEgU3ludGhldGljSW5wdXRFdmVudC5cbiAqL1xuZnVuY3Rpb24gZXh0cmFjdEJlZm9yZUlucHV0RXZlbnQodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgdmFyIGNoYXJzID0gdm9pZCAwO1xuXG4gIGlmIChjYW5Vc2VUZXh0SW5wdXRFdmVudCkge1xuICAgIGNoYXJzID0gZ2V0TmF0aXZlQmVmb3JlSW5wdXRDaGFycyh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KTtcbiAgfSBlbHNlIHtcbiAgICBjaGFycyA9IGdldEZhbGxiYWNrQmVmb3JlSW5wdXRDaGFycyh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KTtcbiAgfVxuXG4gIC8vIElmIG5vIGNoYXJhY3RlcnMgYXJlIGJlaW5nIGluc2VydGVkLCBubyBCZWZvcmVJbnB1dCBldmVudCBzaG91bGRcbiAgLy8gYmUgZmlyZWQuXG4gIGlmICghY2hhcnMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBldmVudCA9IFN5bnRoZXRpY0lucHV0RXZlbnQuZ2V0UG9vbGVkKGV2ZW50VHlwZXMuYmVmb3JlSW5wdXQsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG5cbiAgZXZlbnQuZGF0YSA9IGNoYXJzO1xuICBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50KTtcbiAgcmV0dXJuIGV2ZW50O1xufVxuXG4vKipcbiAqIENyZWF0ZSBhbiBgb25CZWZvcmVJbnB1dGAgZXZlbnQgdG8gbWF0Y2hcbiAqIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTMvV0QtRE9NLUxldmVsLTMtRXZlbnRzLTIwMTMxMTA1LyNldmVudHMtaW5wdXRldmVudHMuXG4gKlxuICogVGhpcyBldmVudCBwbHVnaW4gaXMgYmFzZWQgb24gdGhlIG5hdGl2ZSBgdGV4dElucHV0YCBldmVudFxuICogYXZhaWxhYmxlIGluIENocm9tZSwgU2FmYXJpLCBPcGVyYSwgYW5kIElFLiBUaGlzIGV2ZW50IGZpcmVzIGFmdGVyXG4gKiBgb25LZXlQcmVzc2AgYW5kIGBvbkNvbXBvc2l0aW9uRW5kYCwgYnV0IGJlZm9yZSBgb25JbnB1dGAuXG4gKlxuICogYGJlZm9yZUlucHV0YCBpcyBzcGVjJ2QgYnV0IG5vdCBpbXBsZW1lbnRlZCBpbiBhbnkgYnJvd3NlcnMsIGFuZFxuICogdGhlIGBpbnB1dGAgZXZlbnQgZG9lcyBub3QgcHJvdmlkZSBhbnkgdXNlZnVsIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgaGFzXG4gKiBhY3R1YWxseSBiZWVuIGFkZGVkLCBjb250cmFyeSB0byB0aGUgc3BlYy4gVGh1cywgYHRleHRJbnB1dGAgaXMgdGhlIGJlc3RcbiAqIGF2YWlsYWJsZSBldmVudCB0byBpZGVudGlmeSB0aGUgY2hhcmFjdGVycyB0aGF0IGhhdmUgYWN0dWFsbHkgYmVlbiBpbnNlcnRlZFxuICogaW50byB0aGUgdGFyZ2V0IG5vZGUuXG4gKlxuICogVGhpcyBwbHVnaW4gaXMgYWxzbyByZXNwb25zaWJsZSBmb3IgZW1pdHRpbmcgYGNvbXBvc2l0aW9uYCBldmVudHMsIHRodXNcbiAqIGFsbG93aW5nIHVzIHRvIHNoYXJlIGNvbXBvc2l0aW9uIGZhbGxiYWNrIGNvZGUgZm9yIGJvdGggYGJlZm9yZUlucHV0YCBhbmRcbiAqIGBjb21wb3NpdGlvbmAgZXZlbnQgdHlwZXMuXG4gKi9cbnZhciBCZWZvcmVJbnB1dEV2ZW50UGx1Z2luID0ge1xuICBldmVudFR5cGVzOiBldmVudFR5cGVzLFxuXG4gIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uICh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgIHZhciBjb21wb3NpdGlvbiA9IGV4dHJhY3RDb21wb3NpdGlvbkV2ZW50KHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcblxuICAgIHZhciBiZWZvcmVJbnB1dCA9IGV4dHJhY3RCZWZvcmVJbnB1dEV2ZW50KHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcblxuICAgIGlmIChjb21wb3NpdGlvbiA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGJlZm9yZUlucHV0O1xuICAgIH1cblxuICAgIGlmIChiZWZvcmVJbnB1dCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGNvbXBvc2l0aW9uO1xuICAgIH1cblxuICAgIHJldHVybiBbY29tcG9zaXRpb24sIGJlZm9yZUlucHV0XTtcbiAgfVxufTtcblxuLy8gVXNlIHRvIHJlc3RvcmUgY29udHJvbGxlZCBzdGF0ZSBhZnRlciBhIGNoYW5nZSBldmVudCBoYXMgZmlyZWQuXG5cbnZhciBmaWJlckhvc3RDb21wb25lbnQgPSBudWxsO1xuXG52YXIgUmVhY3RDb250cm9sbGVkQ29tcG9uZW50SW5qZWN0aW9uID0ge1xuICBpbmplY3RGaWJlckNvbnRyb2xsZWRIb3N0Q29tcG9uZW50OiBmdW5jdGlvbiAoaG9zdENvbXBvbmVudEltcGwpIHtcbiAgICAvLyBUaGUgZmliZXIgaW1wbGVtZW50YXRpb24gZG9lc24ndCB1c2UgZHluYW1pYyBkaXNwYXRjaCBzbyB3ZSBuZWVkIHRvXG4gICAgLy8gaW5qZWN0IHRoZSBpbXBsZW1lbnRhdGlvbi5cbiAgICBmaWJlckhvc3RDb21wb25lbnQgPSBob3N0Q29tcG9uZW50SW1wbDtcbiAgfVxufTtcblxudmFyIHJlc3RvcmVUYXJnZXQgPSBudWxsO1xudmFyIHJlc3RvcmVRdWV1ZSA9IG51bGw7XG5cbmZ1bmN0aW9uIHJlc3RvcmVTdGF0ZU9mVGFyZ2V0KHRhcmdldCkge1xuICAvLyBXZSBwZXJmb3JtIHRoaXMgdHJhbnNsYXRpb24gYXQgdGhlIGVuZCBvZiB0aGUgZXZlbnQgbG9vcCBzbyB0aGF0IHdlXG4gIC8vIGFsd2F5cyByZWNlaXZlIHRoZSBjb3JyZWN0IGZpYmVyIGhlcmVcbiAgdmFyIGludGVybmFsSW5zdGFuY2UgPSBnZXRJbnN0YW5jZUZyb21Ob2RlKHRhcmdldCk7XG4gIGlmICghaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgIC8vIFVubW91bnRlZFxuICAgIHJldHVybjtcbiAgfVxuICAhKGZpYmVySG9zdENvbXBvbmVudCAmJiB0eXBlb2YgZmliZXJIb3N0Q29tcG9uZW50LnJlc3RvcmVDb250cm9sbGVkU3RhdGUgPT09ICdmdW5jdGlvbicpID8gaW52YXJpYW50KGZhbHNlLCAnRmliZXIgbmVlZHMgdG8gYmUgaW5qZWN0ZWQgdG8gaGFuZGxlIGEgZmliZXIgdGFyZ2V0IGZvciBjb250cm9sbGVkIGV2ZW50cy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgdmFyIHByb3BzID0gZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZShpbnRlcm5hbEluc3RhbmNlLnN0YXRlTm9kZSk7XG4gIGZpYmVySG9zdENvbXBvbmVudC5yZXN0b3JlQ29udHJvbGxlZFN0YXRlKGludGVybmFsSW5zdGFuY2Uuc3RhdGVOb2RlLCBpbnRlcm5hbEluc3RhbmNlLnR5cGUsIHByb3BzKTtcbn1cblxudmFyIGluamVjdGlvbiQyID0gUmVhY3RDb250cm9sbGVkQ29tcG9uZW50SW5qZWN0aW9uO1xuXG5mdW5jdGlvbiBlbnF1ZXVlU3RhdGVSZXN0b3JlKHRhcmdldCkge1xuICBpZiAocmVzdG9yZVRhcmdldCkge1xuICAgIGlmIChyZXN0b3JlUXVldWUpIHtcbiAgICAgIHJlc3RvcmVRdWV1ZS5wdXNoKHRhcmdldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3RvcmVRdWV1ZSA9IFt0YXJnZXRdO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXN0b3JlVGFyZ2V0ID0gdGFyZ2V0O1xuICB9XG59XG5cbmZ1bmN0aW9uIG5lZWRzU3RhdGVSZXN0b3JlKCkge1xuICByZXR1cm4gcmVzdG9yZVRhcmdldCAhPT0gbnVsbCB8fCByZXN0b3JlUXVldWUgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIHJlc3RvcmVTdGF0ZUlmTmVlZGVkKCkge1xuICBpZiAoIXJlc3RvcmVUYXJnZXQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIHRhcmdldCA9IHJlc3RvcmVUYXJnZXQ7XG4gIHZhciBxdWV1ZWRUYXJnZXRzID0gcmVzdG9yZVF1ZXVlO1xuICByZXN0b3JlVGFyZ2V0ID0gbnVsbDtcbiAgcmVzdG9yZVF1ZXVlID0gbnVsbDtcblxuICByZXN0b3JlU3RhdGVPZlRhcmdldCh0YXJnZXQpO1xuICBpZiAocXVldWVkVGFyZ2V0cykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcXVldWVkVGFyZ2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgcmVzdG9yZVN0YXRlT2ZUYXJnZXQocXVldWVkVGFyZ2V0c1tpXSk7XG4gICAgfVxuICB9XG59XG5cbnZhciBSZWFjdENvbnRyb2xsZWRDb21wb25lbnQgPSBPYmplY3QuZnJlZXplKHtcblx0aW5qZWN0aW9uOiBpbmplY3Rpb24kMixcblx0ZW5xdWV1ZVN0YXRlUmVzdG9yZTogZW5xdWV1ZVN0YXRlUmVzdG9yZSxcblx0bmVlZHNTdGF0ZVJlc3RvcmU6IG5lZWRzU3RhdGVSZXN0b3JlLFxuXHRyZXN0b3JlU3RhdGVJZk5lZWRlZDogcmVzdG9yZVN0YXRlSWZOZWVkZWRcbn0pO1xuXG4vLyBVc2VkIGFzIGEgd2F5IHRvIGNhbGwgYmF0Y2hlZFVwZGF0ZXMgd2hlbiB3ZSBkb24ndCBoYXZlIGEgcmVmZXJlbmNlIHRvXG4vLyB0aGUgcmVuZGVyZXIuIFN1Y2ggYXMgd2hlbiB3ZSdyZSBkaXNwYXRjaGluZyBldmVudHMgb3IgaWYgdGhpcmQgcGFydHlcbi8vIGxpYnJhcmllcyBuZWVkIHRvIGNhbGwgYmF0Y2hlZFVwZGF0ZXMuIEV2ZW50dWFsbHksIHRoaXMgQVBJIHdpbGwgZ28gYXdheSB3aGVuXG4vLyBldmVyeXRoaW5nIGlzIGJhdGNoZWQgYnkgZGVmYXVsdC4gV2UnbGwgdGhlbiBoYXZlIGEgc2ltaWxhciBBUEkgdG8gb3B0LW91dCBvZlxuLy8gc2NoZWR1bGVkIHdvcmsgYW5kIGluc3RlYWQgZG8gc3luY2hyb25vdXMgd29yay5cblxuLy8gRGVmYXVsdHNcbnZhciBfYmF0Y2hlZFVwZGF0ZXMgPSBmdW5jdGlvbiAoZm4sIGJvb2trZWVwaW5nKSB7XG4gIHJldHVybiBmbihib29ra2VlcGluZyk7XG59O1xudmFyIF9pbnRlcmFjdGl2ZVVwZGF0ZXMgPSBmdW5jdGlvbiAoZm4sIGEsIGIpIHtcbiAgcmV0dXJuIGZuKGEsIGIpO1xufTtcbnZhciBfZmx1c2hJbnRlcmFjdGl2ZVVwZGF0ZXMgPSBmdW5jdGlvbiAoKSB7fTtcblxudmFyIGlzQmF0Y2hpbmcgPSBmYWxzZTtcbmZ1bmN0aW9uIGJhdGNoZWRVcGRhdGVzKGZuLCBib29ra2VlcGluZykge1xuICBpZiAoaXNCYXRjaGluZykge1xuICAgIC8vIElmIHdlIGFyZSBjdXJyZW50bHkgaW5zaWRlIGFub3RoZXIgYmF0Y2gsIHdlIG5lZWQgdG8gd2FpdCB1bnRpbCBpdFxuICAgIC8vIGZ1bGx5IGNvbXBsZXRlcyBiZWZvcmUgcmVzdG9yaW5nIHN0YXRlLlxuICAgIHJldHVybiBmbihib29ra2VlcGluZyk7XG4gIH1cbiAgaXNCYXRjaGluZyA9IHRydWU7XG4gIHRyeSB7XG4gICAgcmV0dXJuIF9iYXRjaGVkVXBkYXRlcyhmbiwgYm9va2tlZXBpbmcpO1xuICB9IGZpbmFsbHkge1xuICAgIC8vIEhlcmUgd2Ugd2FpdCB1bnRpbCBhbGwgdXBkYXRlcyBoYXZlIHByb3BhZ2F0ZWQsIHdoaWNoIGlzIGltcG9ydGFudFxuICAgIC8vIHdoZW4gdXNpbmcgY29udHJvbGxlZCBjb21wb25lbnRzIHdpdGhpbiBsYXllcnM6XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xNjk4XG4gICAgLy8gVGhlbiB3ZSByZXN0b3JlIHN0YXRlIG9mIGFueSBjb250cm9sbGVkIGNvbXBvbmVudC5cbiAgICBpc0JhdGNoaW5nID0gZmFsc2U7XG4gICAgdmFyIGNvbnRyb2xsZWRDb21wb25lbnRzSGF2ZVBlbmRpbmdVcGRhdGVzID0gbmVlZHNTdGF0ZVJlc3RvcmUoKTtcbiAgICBpZiAoY29udHJvbGxlZENvbXBvbmVudHNIYXZlUGVuZGluZ1VwZGF0ZXMpIHtcbiAgICAgIC8vIElmIGEgY29udHJvbGxlZCBldmVudCB3YXMgZmlyZWQsIHdlIG1heSBuZWVkIHRvIHJlc3RvcmUgdGhlIHN0YXRlIG9mXG4gICAgICAvLyB0aGUgRE9NIG5vZGUgYmFjayB0byB0aGUgY29udHJvbGxlZCB2YWx1ZS4gVGhpcyBpcyBuZWNlc3Nhcnkgd2hlbiBSZWFjdFxuICAgICAgLy8gYmFpbHMgb3V0IG9mIHRoZSB1cGRhdGUgd2l0aG91dCB0b3VjaGluZyB0aGUgRE9NLlxuICAgICAgX2ZsdXNoSW50ZXJhY3RpdmVVcGRhdGVzKCk7XG4gICAgICByZXN0b3JlU3RhdGVJZk5lZWRlZCgpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpbnRlcmFjdGl2ZVVwZGF0ZXMoZm4sIGEsIGIpIHtcbiAgcmV0dXJuIF9pbnRlcmFjdGl2ZVVwZGF0ZXMoZm4sIGEsIGIpO1xufVxuXG5cblxudmFyIGluamVjdGlvbiQzID0ge1xuICBpbmplY3RSZW5kZXJlcjogZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgX2JhdGNoZWRVcGRhdGVzID0gcmVuZGVyZXIuYmF0Y2hlZFVwZGF0ZXM7XG4gICAgX2ludGVyYWN0aXZlVXBkYXRlcyA9IHJlbmRlcmVyLmludGVyYWN0aXZlVXBkYXRlcztcbiAgICBfZmx1c2hJbnRlcmFjdGl2ZVVwZGF0ZXMgPSByZW5kZXJlci5mbHVzaEludGVyYWN0aXZlVXBkYXRlcztcbiAgfVxufTtcblxuLyoqXG4gKiBAc2VlIGh0dHA6Ly93d3cud2hhdHdnLm9yZy9zcGVjcy93ZWItYXBwcy9jdXJyZW50LXdvcmsvbXVsdGlwYWdlL3RoZS1pbnB1dC1lbGVtZW50Lmh0bWwjaW5wdXQtdHlwZS1hdHRyLXN1bW1hcnlcbiAqL1xudmFyIHN1cHBvcnRlZElucHV0VHlwZXMgPSB7XG4gIGNvbG9yOiB0cnVlLFxuICBkYXRlOiB0cnVlLFxuICBkYXRldGltZTogdHJ1ZSxcbiAgJ2RhdGV0aW1lLWxvY2FsJzogdHJ1ZSxcbiAgZW1haWw6IHRydWUsXG4gIG1vbnRoOiB0cnVlLFxuICBudW1iZXI6IHRydWUsXG4gIHBhc3N3b3JkOiB0cnVlLFxuICByYW5nZTogdHJ1ZSxcbiAgc2VhcmNoOiB0cnVlLFxuICB0ZWw6IHRydWUsXG4gIHRleHQ6IHRydWUsXG4gIHRpbWU6IHRydWUsXG4gIHVybDogdHJ1ZSxcbiAgd2VlazogdHJ1ZVxufTtcblxuZnVuY3Rpb24gaXNUZXh0SW5wdXRFbGVtZW50KGVsZW0pIHtcbiAgdmFyIG5vZGVOYW1lID0gZWxlbSAmJiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblxuICBpZiAobm9kZU5hbWUgPT09ICdpbnB1dCcpIHtcbiAgICByZXR1cm4gISFzdXBwb3J0ZWRJbnB1dFR5cGVzW2VsZW0udHlwZV07XG4gIH1cblxuICBpZiAobm9kZU5hbWUgPT09ICd0ZXh0YXJlYScpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBIVE1MIG5vZGVUeXBlIHZhbHVlcyB0aGF0IHJlcHJlc2VudCB0aGUgdHlwZSBvZiB0aGUgbm9kZVxuICovXG5cbnZhciBFTEVNRU5UX05PREUgPSAxO1xudmFyIFRFWFRfTk9ERSA9IDM7XG52YXIgQ09NTUVOVF9OT0RFID0gODtcbnZhciBET0NVTUVOVF9OT0RFID0gOTtcbnZhciBET0NVTUVOVF9GUkFHTUVOVF9OT0RFID0gMTE7XG5cbi8qKlxuICogR2V0cyB0aGUgdGFyZ2V0IG5vZGUgZnJvbSBhIG5hdGl2ZSBicm93c2VyIGV2ZW50IGJ5IGFjY291bnRpbmcgZm9yXG4gKiBpbmNvbnNpc3RlbmNpZXMgaW4gYnJvd3NlciBET00gQVBJcy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtET01FdmVudFRhcmdldH0gVGFyZ2V0IG5vZGUuXG4gKi9cbmZ1bmN0aW9uIGdldEV2ZW50VGFyZ2V0KG5hdGl2ZUV2ZW50KSB7XG4gIHZhciB0YXJnZXQgPSBuYXRpdmVFdmVudC50YXJnZXQgfHwgd2luZG93O1xuXG4gIC8vIE5vcm1hbGl6ZSBTVkcgPHVzZT4gZWxlbWVudCBldmVudHMgIzQ5NjNcbiAgaWYgKHRhcmdldC5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCkge1xuICAgIHRhcmdldCA9IHRhcmdldC5jb3JyZXNwb25kaW5nVXNlRWxlbWVudDtcbiAgfVxuXG4gIC8vIFNhZmFyaSBtYXkgZmlyZSBldmVudHMgb24gdGV4dCBub2RlcyAoTm9kZS5URVhUX05PREUgaXMgMykuXG4gIC8vIEBzZWUgaHR0cDovL3d3dy5xdWlya3Ntb2RlLm9yZy9qcy9ldmVudHNfcHJvcGVydGllcy5odG1sXG4gIHJldHVybiB0YXJnZXQubm9kZVR5cGUgPT09IFRFWFRfTk9ERSA/IHRhcmdldC5wYXJlbnROb2RlIDogdGFyZ2V0O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhbiBldmVudCBpcyBzdXBwb3J0ZWQgaW4gdGhlIGN1cnJlbnQgZXhlY3V0aW9uIGVudmlyb25tZW50LlxuICpcbiAqIE5PVEU6IFRoaXMgd2lsbCBub3Qgd29yayBjb3JyZWN0bHkgZm9yIG5vbi1nZW5lcmljIGV2ZW50cyBzdWNoIGFzIGBjaGFuZ2VgLFxuICogYHJlc2V0YCwgYGxvYWRgLCBgZXJyb3JgLCBhbmQgYHNlbGVjdGAuXG4gKlxuICogQm9ycm93cyBmcm9tIE1vZGVybml6ci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lU3VmZml4IEV2ZW50IG5hbWUsIGUuZy4gXCJjbGlja1wiLlxuICogQHBhcmFtIHs/Ym9vbGVhbn0gY2FwdHVyZSBDaGVjayBpZiB0aGUgY2FwdHVyZSBwaGFzZSBpcyBzdXBwb3J0ZWQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBldmVudCBpcyBzdXBwb3J0ZWQuXG4gKiBAaW50ZXJuYWxcbiAqIEBsaWNlbnNlIE1vZGVybml6ciAzLjAuMHByZSAoQ3VzdG9tIEJ1aWxkKSB8IE1JVFxuICovXG5mdW5jdGlvbiBpc0V2ZW50U3VwcG9ydGVkKGV2ZW50TmFtZVN1ZmZpeCwgY2FwdHVyZSkge1xuICBpZiAoIUV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSB8fCBjYXB0dXJlICYmICEoJ2FkZEV2ZW50TGlzdGVuZXInIGluIGRvY3VtZW50KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBldmVudE5hbWUgPSAnb24nICsgZXZlbnROYW1lU3VmZml4O1xuICB2YXIgaXNTdXBwb3J0ZWQgPSBldmVudE5hbWUgaW4gZG9jdW1lbnQ7XG5cbiAgaWYgKCFpc1N1cHBvcnRlZCkge1xuICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoZXZlbnROYW1lLCAncmV0dXJuOycpO1xuICAgIGlzU3VwcG9ydGVkID0gdHlwZW9mIGVsZW1lbnRbZXZlbnROYW1lXSA9PT0gJ2Z1bmN0aW9uJztcbiAgfVxuXG4gIHJldHVybiBpc1N1cHBvcnRlZDtcbn1cblxuZnVuY3Rpb24gaXNDaGVja2FibGUoZWxlbSkge1xuICB2YXIgdHlwZSA9IGVsZW0udHlwZTtcbiAgdmFyIG5vZGVOYW1lID0gZWxlbS5ub2RlTmFtZTtcbiAgcmV0dXJuIG5vZGVOYW1lICYmIG5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbnB1dCcgJiYgKHR5cGUgPT09ICdjaGVja2JveCcgfHwgdHlwZSA9PT0gJ3JhZGlvJyk7XG59XG5cbmZ1bmN0aW9uIGdldFRyYWNrZXIobm9kZSkge1xuICByZXR1cm4gbm9kZS5fdmFsdWVUcmFja2VyO1xufVxuXG5mdW5jdGlvbiBkZXRhY2hUcmFja2VyKG5vZGUpIHtcbiAgbm9kZS5fdmFsdWVUcmFja2VyID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0VmFsdWVGcm9tTm9kZShub2RlKSB7XG4gIHZhciB2YWx1ZSA9ICcnO1xuICBpZiAoIW5vZGUpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBpZiAoaXNDaGVja2FibGUobm9kZSkpIHtcbiAgICB2YWx1ZSA9IG5vZGUuY2hlY2tlZCA/ICd0cnVlJyA6ICdmYWxzZSc7XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSBub2RlLnZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiB0cmFja1ZhbHVlT25Ob2RlKG5vZGUpIHtcbiAgdmFyIHZhbHVlRmllbGQgPSBpc0NoZWNrYWJsZShub2RlKSA/ICdjaGVja2VkJyA6ICd2YWx1ZSc7XG4gIHZhciBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihub2RlLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwgdmFsdWVGaWVsZCk7XG5cbiAgdmFyIGN1cnJlbnRWYWx1ZSA9ICcnICsgbm9kZVt2YWx1ZUZpZWxkXTtcblxuICAvLyBpZiBzb21lb25lIGhhcyBhbHJlYWR5IGRlZmluZWQgYSB2YWx1ZSBvciBTYWZhcmksIHRoZW4gYmFpbFxuICAvLyBhbmQgZG9uJ3QgdHJhY2sgdmFsdWUgd2lsbCBjYXVzZSBvdmVyIHJlcG9ydGluZyBvZiBjaGFuZ2VzLFxuICAvLyBidXQgaXQncyBiZXR0ZXIgdGhlbiBhIGhhcmQgZmFpbHVyZVxuICAvLyAobmVlZGVkIGZvciBjZXJ0YWluIHRlc3RzIHRoYXQgc3B5T24gaW5wdXQgdmFsdWVzIGFuZCBTYWZhcmkpXG4gIGlmIChub2RlLmhhc093blByb3BlcnR5KHZhbHVlRmllbGQpIHx8IHR5cGVvZiBkZXNjcmlwdG9yLmdldCAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgZGVzY3JpcHRvci5zZXQgIT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkobm9kZSwgdmFsdWVGaWVsZCwge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBkZXNjcmlwdG9yLmdldC5jYWxsKHRoaXMpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGN1cnJlbnRWYWx1ZSA9ICcnICsgdmFsdWU7XG4gICAgICBkZXNjcmlwdG9yLnNldC5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICB9XG4gIH0pO1xuICAvLyBXZSBjb3VsZCd2ZSBwYXNzZWQgdGhpcyB0aGUgZmlyc3QgdGltZVxuICAvLyBidXQgaXQgdHJpZ2dlcnMgYSBidWcgaW4gSUUxMSBhbmQgRWRnZSAxNC8xNS5cbiAgLy8gQ2FsbGluZyBkZWZpbmVQcm9wZXJ0eSgpIGFnYWluIHNob3VsZCBiZSBlcXVpdmFsZW50LlxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzExNzY4XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShub2RlLCB2YWx1ZUZpZWxkLCB7XG4gICAgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlXG4gIH0pO1xuXG4gIHZhciB0cmFja2VyID0ge1xuICAgIGdldFZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gY3VycmVudFZhbHVlO1xuICAgIH0sXG4gICAgc2V0VmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgY3VycmVudFZhbHVlID0gJycgKyB2YWx1ZTtcbiAgICB9LFxuICAgIHN0b3BUcmFja2luZzogZnVuY3Rpb24gKCkge1xuICAgICAgZGV0YWNoVHJhY2tlcihub2RlKTtcbiAgICAgIGRlbGV0ZSBub2RlW3ZhbHVlRmllbGRdO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHRyYWNrZXI7XG59XG5cbmZ1bmN0aW9uIHRyYWNrKG5vZGUpIHtcbiAgaWYgKGdldFRyYWNrZXIobm9kZSkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBUT0RPOiBPbmNlIGl0J3MganVzdCBGaWJlciB3ZSBjYW4gbW92ZSB0aGlzIHRvIG5vZGUuX3dyYXBwZXJTdGF0ZVxuICBub2RlLl92YWx1ZVRyYWNrZXIgPSB0cmFja1ZhbHVlT25Ob2RlKG5vZGUpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVWYWx1ZUlmQ2hhbmdlZChub2RlKSB7XG4gIGlmICghbm9kZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciB0cmFja2VyID0gZ2V0VHJhY2tlcihub2RlKTtcbiAgLy8gaWYgdGhlcmUgaXMgbm8gdHJhY2tlciBhdCB0aGlzIHBvaW50IGl0J3MgdW5saWtlbHlcbiAgLy8gdGhhdCB0cnlpbmcgYWdhaW4gd2lsbCBzdWNjZWVkXG4gIGlmICghdHJhY2tlcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdmFyIGxhc3RWYWx1ZSA9IHRyYWNrZXIuZ2V0VmFsdWUoKTtcbiAgdmFyIG5leHRWYWx1ZSA9IGdldFZhbHVlRnJvbU5vZGUobm9kZSk7XG4gIGlmIChuZXh0VmFsdWUgIT09IGxhc3RWYWx1ZSkge1xuICAgIHRyYWNrZXIuc2V0VmFsdWUobmV4dFZhbHVlKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbnZhciBSZWFjdEludGVybmFscyA9IFJlYWN0Ll9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEO1xuXG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSBSZWFjdEludGVybmFscy5SZWFjdEN1cnJlbnRPd25lcjtcbnZhciBSZWFjdERlYnVnQ3VycmVudEZyYW1lID0gUmVhY3RJbnRlcm5hbHMuUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZTtcblxudmFyIGRlc2NyaWJlQ29tcG9uZW50RnJhbWUgPSBmdW5jdGlvbiAobmFtZSwgc291cmNlLCBvd25lck5hbWUpIHtcbiAgcmV0dXJuICdcXG4gICAgaW4gJyArIChuYW1lIHx8ICdVbmtub3duJykgKyAoc291cmNlID8gJyAoYXQgJyArIHNvdXJjZS5maWxlTmFtZS5yZXBsYWNlKC9eLipbXFxcXFxcL10vLCAnJykgKyAnOicgKyBzb3VyY2UubGluZU51bWJlciArICcpJyA6IG93bmVyTmFtZSA/ICcgKGNyZWF0ZWQgYnkgJyArIG93bmVyTmFtZSArICcpJyA6ICcnKTtcbn07XG5cbi8vIFRoZSBTeW1ib2wgdXNlZCB0byB0YWcgdGhlIFJlYWN0RWxlbWVudC1saWtlIHR5cGVzLiBJZiB0aGVyZSBpcyBubyBuYXRpdmUgU3ltYm9sXG4vLyBub3IgcG9seWZpbGwsIHRoZW4gYSBwbGFpbiBudW1iZXIgaXMgdXNlZCBmb3IgcGVyZm9ybWFuY2UuXG52YXIgaGFzU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2xbJ2ZvciddO1xuXG52YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sWydmb3InXSgncmVhY3QuZWxlbWVudCcpIDogMHhlYWM3O1xudmFyIFJFQUNUX0NBTExfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbFsnZm9yJ10oJ3JlYWN0LmNhbGwnKSA6IDB4ZWFjODtcbnZhciBSRUFDVF9SRVRVUk5fVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbFsnZm9yJ10oJ3JlYWN0LnJldHVybicpIDogMHhlYWM5O1xudmFyIFJFQUNUX1BPUlRBTF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sWydmb3InXSgncmVhY3QucG9ydGFsJykgOiAweGVhY2E7XG52YXIgUkVBQ1RfRlJBR01FTlRfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbFsnZm9yJ10oJ3JlYWN0LmZyYWdtZW50JykgOiAweGVhY2I7XG52YXIgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbFsnZm9yJ10oJ3JlYWN0LnN0cmljdF9tb2RlJykgOiAweGVhY2M7XG52YXIgUkVBQ1RfUFJPVklERVJfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbFsnZm9yJ10oJ3JlYWN0LnByb3ZpZGVyJykgOiAweGVhY2Q7XG52YXIgUkVBQ1RfQ09OVEVYVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sWydmb3InXSgncmVhY3QuY29udGV4dCcpIDogMHhlYWNlO1xudmFyIFJFQUNUX0FTWU5DX01PREVfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbFsnZm9yJ10oJ3JlYWN0LmFzeW5jX21vZGUnKSA6IDB4ZWFjZjtcbnZhciBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sWydmb3InXSgncmVhY3QuZm9yd2FyZF9yZWYnKSA6IDB4ZWFkMDtcblxudmFyIE1BWUJFX0lURVJBVE9SX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLml0ZXJhdG9yO1xudmFyIEZBVVhfSVRFUkFUT1JfU1lNQk9MID0gJ0BAaXRlcmF0b3InO1xuXG5mdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcbiAgaWYgKG1heWJlSXRlcmFibGUgPT09IG51bGwgfHwgdHlwZW9mIG1heWJlSXRlcmFibGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIG1heWJlSXRlcmF0b3IgPSBNQVlCRV9JVEVSQVRPUl9TWU1CT0wgJiYgbWF5YmVJdGVyYWJsZVtNQVlCRV9JVEVSQVRPUl9TWU1CT0xdIHx8IG1heWJlSXRlcmFibGVbRkFVWF9JVEVSQVRPUl9TWU1CT0xdO1xuICBpZiAodHlwZW9mIG1heWJlSXRlcmF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gbWF5YmVJdGVyYXRvcjtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZShmaWJlcikge1xuICB2YXIgdHlwZSA9IGZpYmVyLnR5cGU7XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lO1xuICB9XG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdHlwZTtcbiAgfVxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIFJFQUNUX0ZSQUdNRU5UX1RZUEU6XG4gICAgICByZXR1cm4gJ1JlYWN0RnJhZ21lbnQnO1xuICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICByZXR1cm4gJ1JlYWN0UG9ydGFsJztcbiAgICBjYXNlIFJFQUNUX0NBTExfVFlQRTpcbiAgICAgIHJldHVybiAnUmVhY3RDYWxsJztcbiAgICBjYXNlIFJFQUNUX1JFVFVSTl9UWVBFOlxuICAgICAgcmV0dXJuICdSZWFjdFJldHVybic7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGRlc2NyaWJlRmliZXIoZmliZXIpIHtcbiAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICBjYXNlIEluZGV0ZXJtaW5hdGVDb21wb25lbnQ6XG4gICAgY2FzZSBGdW5jdGlvbmFsQ29tcG9uZW50OlxuICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgdmFyIG93bmVyID0gZmliZXIuX2RlYnVnT3duZXI7XG4gICAgICB2YXIgc291cmNlID0gZmliZXIuX2RlYnVnU291cmNlO1xuICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lKGZpYmVyKTtcbiAgICAgIHZhciBvd25lck5hbWUgPSBudWxsO1xuICAgICAgaWYgKG93bmVyKSB7XG4gICAgICAgIG93bmVyTmFtZSA9IGdldENvbXBvbmVudE5hbWUob3duZXIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlc2NyaWJlQ29tcG9uZW50RnJhbWUobmFtZSwgc291cmNlLCBvd25lck5hbWUpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn1cblxuLy8gVGhpcyBmdW5jdGlvbiBjYW4gb25seSBiZSBjYWxsZWQgd2l0aCBhIHdvcmstaW4tcHJvZ3Jlc3MgZmliZXIgYW5kXG4vLyBvbmx5IGR1cmluZyBiZWdpbiBvciBjb21wbGV0ZSBwaGFzZS4gRG8gbm90IGNhbGwgaXQgdW5kZXIgYW55IG90aGVyXG4vLyBjaXJjdW1zdGFuY2VzLlxuZnVuY3Rpb24gZ2V0U3RhY2tBZGRlbmR1bUJ5V29ya0luUHJvZ3Jlc3NGaWJlcih3b3JrSW5Qcm9ncmVzcykge1xuICB2YXIgaW5mbyA9ICcnO1xuICB2YXIgbm9kZSA9IHdvcmtJblByb2dyZXNzO1xuICBkbyB7XG4gICAgaW5mbyArPSBkZXNjcmliZUZpYmVyKG5vZGUpO1xuICAgIC8vIE90aGVyd2lzZSB0aGlzIHJldHVybiBwb2ludGVyIG1pZ2h0IHBvaW50IHRvIHRoZSB3cm9uZyB0cmVlOlxuICAgIG5vZGUgPSBub2RlWydyZXR1cm4nXTtcbiAgfSB3aGlsZSAobm9kZSk7XG4gIHJldHVybiBpbmZvO1xufVxuXG5mdW5jdGlvbiBnZXRDdXJyZW50RmliZXJPd25lck5hbWUkMSgpIHtcbiAge1xuICAgIHZhciBmaWJlciA9IFJlYWN0RGVidWdDdXJyZW50RmliZXIuY3VycmVudDtcbiAgICBpZiAoZmliZXIgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgb3duZXIgPSBmaWJlci5fZGVidWdPd25lcjtcbiAgICBpZiAob3duZXIgIT09IG51bGwgJiYgdHlwZW9mIG93bmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWUob3duZXIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQxKCkge1xuICB7XG4gICAgdmFyIGZpYmVyID0gUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5jdXJyZW50O1xuICAgIGlmIChmaWJlciA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vIFNhZmUgYmVjYXVzZSBpZiBjdXJyZW50IGZpYmVyIGV4aXN0cywgd2UgYXJlIHJlY29uY2lsaW5nLFxuICAgIC8vIGFuZCBpdCBpcyBndWFyYW50ZWVkIHRvIGJlIHRoZSB3b3JrLWluLXByb2dyZXNzIHZlcnNpb24uXG4gICAgcmV0dXJuIGdldFN0YWNrQWRkZW5kdW1CeVdvcmtJblByb2dyZXNzRmliZXIoZmliZXIpO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiByZXNldEN1cnJlbnRGaWJlcigpIHtcbiAgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRDdXJyZW50U3RhY2sgPSBudWxsO1xuICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmN1cnJlbnQgPSBudWxsO1xuICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnBoYXNlID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gc2V0Q3VycmVudEZpYmVyKGZpYmVyKSB7XG4gIFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0Q3VycmVudFN0YWNrID0gZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQxO1xuICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmN1cnJlbnQgPSBmaWJlcjtcbiAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5waGFzZSA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIHNldEN1cnJlbnRQaGFzZShwaGFzZSkge1xuICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnBoYXNlID0gcGhhc2U7XG59XG5cbnZhciBSZWFjdERlYnVnQ3VycmVudEZpYmVyID0ge1xuICBjdXJyZW50OiBudWxsLFxuICBwaGFzZTogbnVsbCxcbiAgcmVzZXRDdXJyZW50RmliZXI6IHJlc2V0Q3VycmVudEZpYmVyLFxuICBzZXRDdXJyZW50RmliZXI6IHNldEN1cnJlbnRGaWJlcixcbiAgc2V0Q3VycmVudFBoYXNlOiBzZXRDdXJyZW50UGhhc2UsXG4gIGdldEN1cnJlbnRGaWJlck93bmVyTmFtZTogZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lJDEsXG4gIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW06IGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMVxufTtcblxuLy8gQSByZXNlcnZlZCBhdHRyaWJ1dGUuXG4vLyBJdCBpcyBoYW5kbGVkIGJ5IFJlYWN0IHNlcGFyYXRlbHkgYW5kIHNob3VsZG4ndCBiZSB3cml0dGVuIHRvIHRoZSBET00uXG52YXIgUkVTRVJWRUQgPSAwO1xuXG4vLyBBIHNpbXBsZSBzdHJpbmcgYXR0cmlidXRlLlxuLy8gQXR0cmlidXRlcyB0aGF0IGFyZW4ndCBpbiB0aGUgd2hpdGVsaXN0IGFyZSBwcmVzdW1lZCB0byBoYXZlIHRoaXMgdHlwZS5cbnZhciBTVFJJTkcgPSAxO1xuXG4vLyBBIHN0cmluZyBhdHRyaWJ1dGUgdGhhdCBhY2NlcHRzIGJvb2xlYW5zIGluIFJlYWN0LiBJbiBIVE1MLCB0aGVzZSBhcmUgY2FsbGVkXG4vLyBcImVudW1lcmF0ZWRcIiBhdHRyaWJ1dGVzIHdpdGggXCJ0cnVlXCIgYW5kIFwiZmFsc2VcIiBhcyBwb3NzaWJsZSB2YWx1ZXMuXG4vLyBXaGVuIHRydWUsIGl0IHNob3VsZCBiZSBzZXQgdG8gYSBcInRydWVcIiBzdHJpbmcuXG4vLyBXaGVuIGZhbHNlLCBpdCBzaG91bGQgYmUgc2V0IHRvIGEgXCJmYWxzZVwiIHN0cmluZy5cbnZhciBCT09MRUFOSVNIX1NUUklORyA9IDI7XG5cbi8vIEEgcmVhbCBib29sZWFuIGF0dHJpYnV0ZS5cbi8vIFdoZW4gdHJ1ZSwgaXQgc2hvdWxkIGJlIHByZXNlbnQgKHNldCBlaXRoZXIgdG8gYW4gZW1wdHkgc3RyaW5nIG9yIGl0cyBuYW1lKS5cbi8vIFdoZW4gZmFsc2UsIGl0IHNob3VsZCBiZSBvbWl0dGVkLlxudmFyIEJPT0xFQU4gPSAzO1xuXG4vLyBBbiBhdHRyaWJ1dGUgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIGZsYWcgYXMgd2VsbCBhcyB3aXRoIGEgdmFsdWUuXG4vLyBXaGVuIHRydWUsIGl0IHNob3VsZCBiZSBwcmVzZW50IChzZXQgZWl0aGVyIHRvIGFuIGVtcHR5IHN0cmluZyBvciBpdHMgbmFtZSkuXG4vLyBXaGVuIGZhbHNlLCBpdCBzaG91bGQgYmUgb21pdHRlZC5cbi8vIEZvciBhbnkgb3RoZXIgdmFsdWUsIHNob3VsZCBiZSBwcmVzZW50IHdpdGggdGhhdCB2YWx1ZS5cbnZhciBPVkVSTE9BREVEX0JPT0xFQU4gPSA0O1xuXG4vLyBBbiBhdHRyaWJ1dGUgdGhhdCBtdXN0IGJlIG51bWVyaWMgb3IgcGFyc2UgYXMgYSBudW1lcmljLlxuLy8gV2hlbiBmYWxzeSwgaXQgc2hvdWxkIGJlIHJlbW92ZWQuXG52YXIgTlVNRVJJQyA9IDU7XG5cbi8vIEFuIGF0dHJpYnV0ZSB0aGF0IG11c3QgYmUgcG9zaXRpdmUgbnVtZXJpYyBvciBwYXJzZSBhcyBhIHBvc2l0aXZlIG51bWVyaWMuXG4vLyBXaGVuIGZhbHN5LCBpdCBzaG91bGQgYmUgcmVtb3ZlZC5cbnZhciBQT1NJVElWRV9OVU1FUklDID0gNjtcblxuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xudmFyIEFUVFJJQlVURV9OQU1FX1NUQVJUX0NIQVIgPSAnOkEtWl9hLXpcXFxcdTAwQzAtXFxcXHUwMEQ2XFxcXHUwMEQ4LVxcXFx1MDBGNlxcXFx1MDBGOC1cXFxcdTAyRkZcXFxcdTAzNzAtXFxcXHUwMzdEXFxcXHUwMzdGLVxcXFx1MUZGRlxcXFx1MjAwQy1cXFxcdTIwMERcXFxcdTIwNzAtXFxcXHUyMThGXFxcXHUyQzAwLVxcXFx1MkZFRlxcXFx1MzAwMS1cXFxcdUQ3RkZcXFxcdUY5MDAtXFxcXHVGRENGXFxcXHVGREYwLVxcXFx1RkZGRCc7XG4vKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cbnZhciBBVFRSSUJVVEVfTkFNRV9DSEFSID0gQVRUUklCVVRFX05BTUVfU1RBUlRfQ0hBUiArICdcXFxcLS4wLTlcXFxcdTAwQjdcXFxcdTAzMDAtXFxcXHUwMzZGXFxcXHUyMDNGLVxcXFx1MjA0MCc7XG5cblxudmFyIFJPT1RfQVRUUklCVVRFX05BTUUgPSAnZGF0YS1yZWFjdHJvb3QnO1xudmFyIFZBTElEX0FUVFJJQlVURV9OQU1FX1JFR0VYID0gbmV3IFJlZ0V4cCgnXlsnICsgQVRUUklCVVRFX05BTUVfU1RBUlRfQ0hBUiArICddWycgKyBBVFRSSUJVVEVfTkFNRV9DSEFSICsgJ10qJCcpO1xuXG52YXIgaWxsZWdhbEF0dHJpYnV0ZU5hbWVDYWNoZSA9IHt9O1xudmFyIHZhbGlkYXRlZEF0dHJpYnV0ZU5hbWVDYWNoZSA9IHt9O1xuXG5mdW5jdGlvbiBpc0F0dHJpYnV0ZU5hbWVTYWZlKGF0dHJpYnV0ZU5hbWUpIHtcbiAgaWYgKHZhbGlkYXRlZEF0dHJpYnV0ZU5hbWVDYWNoZS5oYXNPd25Qcm9wZXJ0eShhdHRyaWJ1dGVOYW1lKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChpbGxlZ2FsQXR0cmlidXRlTmFtZUNhY2hlLmhhc093blByb3BlcnR5KGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChWQUxJRF9BVFRSSUJVVEVfTkFNRV9SRUdFWC50ZXN0KGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgdmFsaWRhdGVkQXR0cmlidXRlTmFtZUNhY2hlW2F0dHJpYnV0ZU5hbWVdID0gdHJ1ZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpbGxlZ2FsQXR0cmlidXRlTmFtZUNhY2hlW2F0dHJpYnV0ZU5hbWVdID0gdHJ1ZTtcbiAge1xuICAgIHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIGF0dHJpYnV0ZSBuYW1lOiBgJXNgJywgYXR0cmlidXRlTmFtZSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBzaG91bGRJZ25vcmVBdHRyaWJ1dGUobmFtZSwgcHJvcGVydHlJbmZvLCBpc0N1c3RvbUNvbXBvbmVudFRhZykge1xuICBpZiAocHJvcGVydHlJbmZvICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIHByb3BlcnR5SW5mby50eXBlID09PSBSRVNFUlZFRDtcbiAgfVxuICBpZiAoaXNDdXN0b21Db21wb25lbnRUYWcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKG5hbWUubGVuZ3RoID4gMiAmJiAobmFtZVswXSA9PT0gJ28nIHx8IG5hbWVbMF0gPT09ICdPJykgJiYgKG5hbWVbMV0gPT09ICduJyB8fCBuYW1lWzFdID09PSAnTicpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBzaG91bGRSZW1vdmVBdHRyaWJ1dGVXaXRoV2FybmluZyhuYW1lLCB2YWx1ZSwgcHJvcGVydHlJbmZvLCBpc0N1c3RvbUNvbXBvbmVudFRhZykge1xuICBpZiAocHJvcGVydHlJbmZvICE9PSBudWxsICYmIHByb3BlcnR5SW5mby50eXBlID09PSBSRVNFUlZFRCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAvLyAkRmxvd0lzc3VlIHN5bWJvbCBpcyBwZXJmZWN0bHkgdmFsaWQgaGVyZVxuICAgIGNhc2UgJ3N5bWJvbCc6XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHtcbiAgICAgICAgaWYgKGlzQ3VzdG9tQ29tcG9uZW50VGFnKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wZXJ0eUluZm8gIT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gIXByb3BlcnR5SW5mby5hY2NlcHRzQm9vbGVhbnM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHByZWZpeCA9IG5hbWUudG9Mb3dlckNhc2UoKS5zbGljZSgwLCA1KTtcbiAgICAgICAgICByZXR1cm4gcHJlZml4ICE9PSAnZGF0YS0nICYmIHByZWZpeCAhPT0gJ2FyaWEtJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2hvdWxkUmVtb3ZlQXR0cmlidXRlKG5hbWUsIHZhbHVlLCBwcm9wZXJ0eUluZm8sIGlzQ3VzdG9tQ29tcG9uZW50VGFnKSB7XG4gIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHNob3VsZFJlbW92ZUF0dHJpYnV0ZVdpdGhXYXJuaW5nKG5hbWUsIHZhbHVlLCBwcm9wZXJ0eUluZm8sIGlzQ3VzdG9tQ29tcG9uZW50VGFnKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChwcm9wZXJ0eUluZm8gIT09IG51bGwpIHtcbiAgICBzd2l0Y2ggKHByb3BlcnR5SW5mby50eXBlKSB7XG4gICAgICBjYXNlIEJPT0xFQU46XG4gICAgICAgIHJldHVybiAhdmFsdWU7XG4gICAgICBjYXNlIE9WRVJMT0FERURfQk9PTEVBTjpcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSBmYWxzZTtcbiAgICAgIGNhc2UgTlVNRVJJQzpcbiAgICAgICAgcmV0dXJuIGlzTmFOKHZhbHVlKTtcbiAgICAgIGNhc2UgUE9TSVRJVkVfTlVNRVJJQzpcbiAgICAgICAgcmV0dXJuIGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA8IDE7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0UHJvcGVydHlJbmZvKG5hbWUpIHtcbiAgcmV0dXJuIHByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkobmFtZSkgPyBwcm9wZXJ0aWVzW25hbWVdIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gUHJvcGVydHlJbmZvUmVjb3JkKG5hbWUsIHR5cGUsIG11c3RVc2VQcm9wZXJ0eSwgYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlTmFtZXNwYWNlKSB7XG4gIHRoaXMuYWNjZXB0c0Jvb2xlYW5zID0gdHlwZSA9PT0gQk9PTEVBTklTSF9TVFJJTkcgfHwgdHlwZSA9PT0gQk9PTEVBTiB8fCB0eXBlID09PSBPVkVSTE9BREVEX0JPT0xFQU47XG4gIHRoaXMuYXR0cmlidXRlTmFtZSA9IGF0dHJpYnV0ZU5hbWU7XG4gIHRoaXMuYXR0cmlidXRlTmFtZXNwYWNlID0gYXR0cmlidXRlTmFtZXNwYWNlO1xuICB0aGlzLm11c3RVc2VQcm9wZXJ0eSA9IG11c3RVc2VQcm9wZXJ0eTtcbiAgdGhpcy5wcm9wZXJ0eU5hbWUgPSBuYW1lO1xuICB0aGlzLnR5cGUgPSB0eXBlO1xufVxuXG4vLyBXaGVuIGFkZGluZyBhdHRyaWJ1dGVzIHRvIHRoaXMgbGlzdCwgYmUgc3VyZSB0byBhbHNvIGFkZCB0aGVtIHRvXG4vLyB0aGUgYHBvc3NpYmxlU3RhbmRhcmROYW1lc2AgbW9kdWxlIHRvIGVuc3VyZSBjYXNpbmcgYW5kIGluY29ycmVjdFxuLy8gbmFtZSB3YXJuaW5ncy5cbnZhciBwcm9wZXJ0aWVzID0ge307XG5cbi8vIFRoZXNlIHByb3BzIGFyZSByZXNlcnZlZCBieSBSZWFjdC4gVGhleSBzaG91bGRuJ3QgYmUgd3JpdHRlbiB0byB0aGUgRE9NLlxuWydjaGlsZHJlbicsICdkYW5nZXJvdXNseVNldElubmVySFRNTCcsXG4vLyBUT0RPOiBUaGlzIHByZXZlbnRzIHRoZSBhc3NpZ25tZW50IG9mIGRlZmF1bHRWYWx1ZSB0byByZWd1bGFyXG4vLyBlbGVtZW50cyAobm90IGp1c3QgaW5wdXRzKS4gTm93IHRoYXQgUmVhY3RET01JbnB1dCBhc3NpZ25zIHRvIHRoZVxuLy8gZGVmYXVsdFZhbHVlIHByb3BlcnR5IC0tIGRvIHdlIG5lZWQgdGhpcz9cbidkZWZhdWx0VmFsdWUnLCAnZGVmYXVsdENoZWNrZWQnLCAnaW5uZXJIVE1MJywgJ3N1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZycsICdzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcnLCAnc3R5bGUnXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gIHByb3BlcnRpZXNbbmFtZV0gPSBuZXcgUHJvcGVydHlJbmZvUmVjb3JkKG5hbWUsIFJFU0VSVkVELCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIG5hbWUsIC8vIGF0dHJpYnV0ZU5hbWVcbiAgbnVsbCk7XG59KTtcblxuLy8gQSBmZXcgUmVhY3Qgc3RyaW5nIGF0dHJpYnV0ZXMgaGF2ZSBhIGRpZmZlcmVudCBuYW1lLlxuLy8gVGhpcyBpcyBhIG1hcHBpbmcgZnJvbSBSZWFjdCBwcm9wIG5hbWVzIHRvIHRoZSBhdHRyaWJ1dGUgbmFtZXMuXG5bWydhY2NlcHRDaGFyc2V0JywgJ2FjY2VwdC1jaGFyc2V0J10sIFsnY2xhc3NOYW1lJywgJ2NsYXNzJ10sIFsnaHRtbEZvcicsICdmb3InXSwgWydodHRwRXF1aXYnLCAnaHR0cC1lcXVpdiddXS5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBuYW1lID0gX3JlZlswXSxcbiAgICAgIGF0dHJpYnV0ZU5hbWUgPSBfcmVmWzFdO1xuXG4gIHByb3BlcnRpZXNbbmFtZV0gPSBuZXcgUHJvcGVydHlJbmZvUmVjb3JkKG5hbWUsIFNUUklORywgZmFsc2UsIC8vIG11c3RVc2VQcm9wZXJ0eVxuICBhdHRyaWJ1dGVOYW1lLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwpO1xufSk7XG5cbi8vIFRoZXNlIGFyZSBcImVudW1lcmF0ZWRcIiBIVE1MIGF0dHJpYnV0ZXMgdGhhdCBhY2NlcHQgXCJ0cnVlXCIgYW5kIFwiZmFsc2VcIi5cbi8vIEluIFJlYWN0LCB3ZSBsZXQgdXNlcnMgcGFzcyBgdHJ1ZWAgYW5kIGBmYWxzZWAgZXZlbiB0aG91Z2ggdGVjaG5pY2FsbHlcbi8vIHRoZXNlIGFyZW4ndCBib29sZWFuIGF0dHJpYnV0ZXMgKHRoZXkgYXJlIGNvZXJjZWQgdG8gc3RyaW5ncykuXG5bJ2NvbnRlbnRFZGl0YWJsZScsICdkcmFnZ2FibGUnLCAnc3BlbGxDaGVjaycsICd2YWx1ZSddLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgcHJvcGVydGllc1tuYW1lXSA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgQk9PTEVBTklTSF9TVFJJTkcsIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgbmFtZS50b0xvd2VyQ2FzZSgpLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwpO1xufSk7XG5cbi8vIFRoZXNlIGFyZSBcImVudW1lcmF0ZWRcIiBTVkcgYXR0cmlidXRlcyB0aGF0IGFjY2VwdCBcInRydWVcIiBhbmQgXCJmYWxzZVwiLlxuLy8gSW4gUmVhY3QsIHdlIGxldCB1c2VycyBwYXNzIGB0cnVlYCBhbmQgYGZhbHNlYCBldmVuIHRob3VnaCB0ZWNobmljYWxseVxuLy8gdGhlc2UgYXJlbid0IGJvb2xlYW4gYXR0cmlidXRlcyAodGhleSBhcmUgY29lcmNlZCB0byBzdHJpbmdzKS5cbi8vIFNpbmNlIHRoZXNlIGFyZSBTVkcgYXR0cmlidXRlcywgdGhlaXIgYXR0cmlidXRlIG5hbWVzIGFyZSBjYXNlLXNlbnNpdGl2ZS5cblsnYXV0b1JldmVyc2UnLCAnZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZCcsICdwcmVzZXJ2ZUFscGhhJ10uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBCT09MRUFOSVNIX1NUUklORywgZmFsc2UsIC8vIG11c3RVc2VQcm9wZXJ0eVxuICBuYW1lLCAvLyBhdHRyaWJ1dGVOYW1lXG4gIG51bGwpO1xufSk7XG5cbi8vIFRoZXNlIGFyZSBIVE1MIGJvb2xlYW4gYXR0cmlidXRlcy5cblsnYWxsb3dGdWxsU2NyZWVuJywgJ2FzeW5jJyxcbi8vIE5vdGU6IHRoZXJlIGlzIGEgc3BlY2lhbCBjYXNlIHRoYXQgcHJldmVudHMgaXQgZnJvbSBiZWluZyB3cml0dGVuIHRvIHRoZSBET01cbi8vIG9uIHRoZSBjbGllbnQgc2lkZSBiZWNhdXNlIHRoZSBicm93c2VycyBhcmUgaW5jb25zaXN0ZW50LiBJbnN0ZWFkIHdlIGNhbGwgZm9jdXMoKS5cbidhdXRvRm9jdXMnLCAnYXV0b1BsYXknLCAnY29udHJvbHMnLCAnZGVmYXVsdCcsICdkZWZlcicsICdkaXNhYmxlZCcsICdmb3JtTm9WYWxpZGF0ZScsICdoaWRkZW4nLCAnbG9vcCcsICdub01vZHVsZScsICdub1ZhbGlkYXRlJywgJ29wZW4nLCAncGxheXNJbmxpbmUnLCAncmVhZE9ubHknLCAncmVxdWlyZWQnLCAncmV2ZXJzZWQnLCAnc2NvcGVkJywgJ3NlYW1sZXNzJyxcbi8vIE1pY3JvZGF0YVxuJ2l0ZW1TY29wZSddLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgcHJvcGVydGllc1tuYW1lXSA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgQk9PTEVBTiwgZmFsc2UsIC8vIG11c3RVc2VQcm9wZXJ0eVxuICBuYW1lLnRvTG93ZXJDYXNlKCksIC8vIGF0dHJpYnV0ZU5hbWVcbiAgbnVsbCk7XG59KTtcblxuLy8gVGhlc2UgYXJlIHRoZSBmZXcgUmVhY3QgcHJvcHMgdGhhdCB3ZSBzZXQgYXMgRE9NIHByb3BlcnRpZXNcbi8vIHJhdGhlciB0aGFuIGF0dHJpYnV0ZXMuIFRoZXNlIGFyZSBhbGwgYm9vbGVhbnMuXG5bJ2NoZWNrZWQnLFxuLy8gTm90ZTogYG9wdGlvbi5zZWxlY3RlZGAgaXMgbm90IHVwZGF0ZWQgaWYgYHNlbGVjdC5tdWx0aXBsZWAgaXNcbi8vIGRpc2FibGVkIHdpdGggYHJlbW92ZUF0dHJpYnV0ZWAuIFdlIGhhdmUgc3BlY2lhbCBsb2dpYyBmb3IgaGFuZGxpbmcgdGhpcy5cbidtdWx0aXBsZScsICdtdXRlZCcsICdzZWxlY3RlZCddLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgcHJvcGVydGllc1tuYW1lXSA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgQk9PTEVBTiwgdHJ1ZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIG5hbWUudG9Mb3dlckNhc2UoKSwgLy8gYXR0cmlidXRlTmFtZVxuICBudWxsKTtcbn0pO1xuXG4vLyBUaGVzZSBhcmUgSFRNTCBhdHRyaWJ1dGVzIHRoYXQgYXJlIFwib3ZlcmxvYWRlZCBib29sZWFuc1wiOiB0aGV5IGJlaGF2ZSBsaWtlXG4vLyBib29sZWFucywgYnV0IGNhbiBhbHNvIGFjY2VwdCBhIHN0cmluZyB2YWx1ZS5cblsnY2FwdHVyZScsICdkb3dubG9hZCddLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgcHJvcGVydGllc1tuYW1lXSA9IG5ldyBQcm9wZXJ0eUluZm9SZWNvcmQobmFtZSwgT1ZFUkxPQURFRF9CT09MRUFOLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIG5hbWUudG9Mb3dlckNhc2UoKSwgLy8gYXR0cmlidXRlTmFtZVxuICBudWxsKTtcbn0pO1xuXG4vLyBUaGVzZSBhcmUgSFRNTCBhdHRyaWJ1dGVzIHRoYXQgbXVzdCBiZSBwb3NpdGl2ZSBudW1iZXJzLlxuWydjb2xzJywgJ3Jvd3MnLCAnc2l6ZScsICdzcGFuJ10uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBQT1NJVElWRV9OVU1FUklDLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIG5hbWUudG9Mb3dlckNhc2UoKSwgLy8gYXR0cmlidXRlTmFtZVxuICBudWxsKTtcbn0pO1xuXG4vLyBUaGVzZSBhcmUgSFRNTCBhdHRyaWJ1dGVzIHRoYXQgbXVzdCBiZSBudW1iZXJzLlxuWydyb3dTcGFuJywgJ3N0YXJ0J10uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBOVU1FUklDLCBmYWxzZSwgLy8gbXVzdFVzZVByb3BlcnR5XG4gIG5hbWUudG9Mb3dlckNhc2UoKSwgLy8gYXR0cmlidXRlTmFtZVxuICBudWxsKTtcbn0pO1xuXG52YXIgQ0FNRUxJWkUgPSAvW1xcLVxcOl0oW2Etel0pL2c7XG52YXIgY2FwaXRhbGl6ZSA9IGZ1bmN0aW9uICh0b2tlbikge1xuICByZXR1cm4gdG9rZW5bMV0udG9VcHBlckNhc2UoKTtcbn07XG5cbi8vIFRoaXMgaXMgYSBsaXN0IG9mIGFsbCBTVkcgYXR0cmlidXRlcyB0aGF0IG5lZWQgc3BlY2lhbCBjYXNpbmcsIG5hbWVzcGFjaW5nLFxuLy8gb3IgYm9vbGVhbiB2YWx1ZSBhc3NpZ25tZW50LiBSZWd1bGFyIGF0dHJpYnV0ZXMgdGhhdCBqdXN0IGFjY2VwdCBzdHJpbmdzXG4vLyBhbmQgaGF2ZSB0aGUgc2FtZSBuYW1lcyBhcmUgb21pdHRlZCwganVzdCBsaWtlIGluIHRoZSBIVE1MIHdoaXRlbGlzdC5cbi8vIFNvbWUgb2YgdGhlc2UgYXR0cmlidXRlcyBjYW4gYmUgaGFyZCB0byBmaW5kLiBUaGlzIGxpc3Qgd2FzIGNyZWF0ZWQgYnlcbi8vIHNjcmFwcGluZyB0aGUgTUROIGRvY3VtZW50YXRpb24uXG5bJ2FjY2VudC1oZWlnaHQnLCAnYWxpZ25tZW50LWJhc2VsaW5lJywgJ2FyYWJpYy1mb3JtJywgJ2Jhc2VsaW5lLXNoaWZ0JywgJ2NhcC1oZWlnaHQnLCAnY2xpcC1wYXRoJywgJ2NsaXAtcnVsZScsICdjb2xvci1pbnRlcnBvbGF0aW9uJywgJ2NvbG9yLWludGVycG9sYXRpb24tZmlsdGVycycsICdjb2xvci1wcm9maWxlJywgJ2NvbG9yLXJlbmRlcmluZycsICdkb21pbmFudC1iYXNlbGluZScsICdlbmFibGUtYmFja2dyb3VuZCcsICdmaWxsLW9wYWNpdHknLCAnZmlsbC1ydWxlJywgJ2Zsb29kLWNvbG9yJywgJ2Zsb29kLW9wYWNpdHknLCAnZm9udC1mYW1pbHknLCAnZm9udC1zaXplJywgJ2ZvbnQtc2l6ZS1hZGp1c3QnLCAnZm9udC1zdHJldGNoJywgJ2ZvbnQtc3R5bGUnLCAnZm9udC12YXJpYW50JywgJ2ZvbnQtd2VpZ2h0JywgJ2dseXBoLW5hbWUnLCAnZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbCcsICdnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbCcsICdob3Jpei1hZHYteCcsICdob3Jpei1vcmlnaW4teCcsICdpbWFnZS1yZW5kZXJpbmcnLCAnbGV0dGVyLXNwYWNpbmcnLCAnbGlnaHRpbmctY29sb3InLCAnbWFya2VyLWVuZCcsICdtYXJrZXItbWlkJywgJ21hcmtlci1zdGFydCcsICdvdmVybGluZS1wb3NpdGlvbicsICdvdmVybGluZS10aGlja25lc3MnLCAncGFpbnQtb3JkZXInLCAncGFub3NlLTEnLCAncG9pbnRlci1ldmVudHMnLCAncmVuZGVyaW5nLWludGVudCcsICdzaGFwZS1yZW5kZXJpbmcnLCAnc3RvcC1jb2xvcicsICdzdG9wLW9wYWNpdHknLCAnc3RyaWtldGhyb3VnaC1wb3NpdGlvbicsICdzdHJpa2V0aHJvdWdoLXRoaWNrbmVzcycsICdzdHJva2UtZGFzaGFycmF5JywgJ3N0cm9rZS1kYXNob2Zmc2V0JywgJ3N0cm9rZS1saW5lY2FwJywgJ3N0cm9rZS1saW5lam9pbicsICdzdHJva2UtbWl0ZXJsaW1pdCcsICdzdHJva2Utb3BhY2l0eScsICdzdHJva2Utd2lkdGgnLCAndGV4dC1hbmNob3InLCAndGV4dC1kZWNvcmF0aW9uJywgJ3RleHQtcmVuZGVyaW5nJywgJ3VuZGVybGluZS1wb3NpdGlvbicsICd1bmRlcmxpbmUtdGhpY2tuZXNzJywgJ3VuaWNvZGUtYmlkaScsICd1bmljb2RlLXJhbmdlJywgJ3VuaXRzLXBlci1lbScsICd2LWFscGhhYmV0aWMnLCAndi1oYW5naW5nJywgJ3YtaWRlb2dyYXBoaWMnLCAndi1tYXRoZW1hdGljYWwnLCAndmVjdG9yLWVmZmVjdCcsICd2ZXJ0LWFkdi15JywgJ3ZlcnQtb3JpZ2luLXgnLCAndmVydC1vcmlnaW4teScsICd3b3JkLXNwYWNpbmcnLCAnd3JpdGluZy1tb2RlJywgJ3htbG5zOnhsaW5rJywgJ3gtaGVpZ2h0J10uZm9yRWFjaChmdW5jdGlvbiAoYXR0cmlidXRlTmFtZSkge1xuICB2YXIgbmFtZSA9IGF0dHJpYnV0ZU5hbWUucmVwbGFjZShDQU1FTElaRSwgY2FwaXRhbGl6ZSk7XG4gIHByb3BlcnRpZXNbbmFtZV0gPSBuZXcgUHJvcGVydHlJbmZvUmVjb3JkKG5hbWUsIFNUUklORywgZmFsc2UsIC8vIG11c3RVc2VQcm9wZXJ0eVxuICBhdHRyaWJ1dGVOYW1lLCBudWxsKTtcbn0pO1xuXG4vLyBTdHJpbmcgU1ZHIGF0dHJpYnV0ZXMgd2l0aCB0aGUgeGxpbmsgbmFtZXNwYWNlLlxuWyd4bGluazphY3R1YXRlJywgJ3hsaW5rOmFyY3JvbGUnLCAneGxpbms6aHJlZicsICd4bGluazpyb2xlJywgJ3hsaW5rOnNob3cnLCAneGxpbms6dGl0bGUnLCAneGxpbms6dHlwZSddLmZvckVhY2goZnVuY3Rpb24gKGF0dHJpYnV0ZU5hbWUpIHtcbiAgdmFyIG5hbWUgPSBhdHRyaWJ1dGVOYW1lLnJlcGxhY2UoQ0FNRUxJWkUsIGNhcGl0YWxpemUpO1xuICBwcm9wZXJ0aWVzW25hbWVdID0gbmV3IFByb3BlcnR5SW5mb1JlY29yZChuYW1lLCBTVFJJTkcsIGZhbHNlLCAvLyBtdXN0VXNlUHJvcGVydHlcbiAgYXR0cmlidXRlTmFtZSwgJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnKTtcbn0pO1xuXG4vLyBTdHJpbmcgU1ZHIGF0dHJpYnV0ZXMgd2l0aCB0aGUgeG1sIG5hbWVzcGFjZS5cblsneG1sOmJhc2UnLCAneG1sOmxhbmcnLCAneG1sOnNwYWNlJ10uZm9yRWFjaChmdW5jdGlvbiAoYXR0cmlidXRlTmFtZSkge1xuICB2YXIgbmFtZSA9IGF0dHJpYnV0ZU5hbWUucmVwbGFjZShDQU1FTElaRSwgY2FwaXRhbGl6ZSk7XG4gIHByb3BlcnRpZXNbbmFtZV0gPSBuZXcgUHJvcGVydHlJbmZvUmVjb3JkKG5hbWUsIFNUUklORywgZmFsc2UsIC8vIG11c3RVc2VQcm9wZXJ0eVxuICBhdHRyaWJ1dGVOYW1lLCAnaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlJyk7XG59KTtcblxuLy8gU3BlY2lhbCBjYXNlOiB0aGlzIGF0dHJpYnV0ZSBleGlzdHMgYm90aCBpbiBIVE1MIGFuZCBTVkcuXG4vLyBJdHMgXCJ0YWJpbmRleFwiIGF0dHJpYnV0ZSBuYW1lIGlzIGNhc2Utc2Vuc2l0aXZlIGluIFNWRyBzbyB3ZSBjYW4ndCBqdXN0IHVzZVxuLy8gaXRzIFJlYWN0IGB0YWJJbmRleGAgbmFtZSwgbGlrZSB3ZSBkbyBmb3IgYXR0cmlidXRlcyB0aGF0IGV4aXN0IG9ubHkgaW4gSFRNTC5cbnByb3BlcnRpZXMudGFiSW5kZXggPSBuZXcgUHJvcGVydHlJbmZvUmVjb3JkKCd0YWJJbmRleCcsIFNUUklORywgZmFsc2UsIC8vIG11c3RVc2VQcm9wZXJ0eVxuJ3RhYmluZGV4JywgLy8gYXR0cmlidXRlTmFtZVxubnVsbCk7XG5cbi8qKlxuICogR2V0IHRoZSB2YWx1ZSBmb3IgYSBwcm9wZXJ0eSBvbiBhIG5vZGUuIE9ubHkgdXNlZCBpbiBERVYgZm9yIFNTUiB2YWxpZGF0aW9uLlxuICogVGhlIFwiZXhwZWN0ZWRcIiBhcmd1bWVudCBpcyB1c2VkIGFzIGEgaGludCBvZiB3aGF0IHRoZSBleHBlY3RlZCB2YWx1ZSBpcy5cbiAqIFNvbWUgcHJvcGVydGllcyBoYXZlIG11bHRpcGxlIGVxdWl2YWxlbnQgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBnZXRWYWx1ZUZvclByb3BlcnR5KG5vZGUsIG5hbWUsIGV4cGVjdGVkLCBwcm9wZXJ0eUluZm8pIHtcbiAge1xuICAgIGlmIChwcm9wZXJ0eUluZm8ubXVzdFVzZVByb3BlcnR5KSB7XG4gICAgICB2YXIgcHJvcGVydHlOYW1lID0gcHJvcGVydHlJbmZvLnByb3BlcnR5TmFtZTtcblxuICAgICAgcmV0dXJuIG5vZGVbcHJvcGVydHlOYW1lXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGF0dHJpYnV0ZU5hbWUgPSBwcm9wZXJ0eUluZm8uYXR0cmlidXRlTmFtZTtcblxuICAgICAgdmFyIHN0cmluZ1ZhbHVlID0gbnVsbDtcblxuICAgICAgaWYgKHByb3BlcnR5SW5mby50eXBlID09PSBPVkVSTE9BREVEX0JPT0xFQU4pIHtcbiAgICAgICAgaWYgKG5vZGUuaGFzQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gbm9kZS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgICAgaWYgKHZhbHVlID09PSAnJykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzaG91bGRSZW1vdmVBdHRyaWJ1dGUobmFtZSwgZXhwZWN0ZWQsIHByb3BlcnR5SW5mbywgZmFsc2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gJycgKyBleHBlY3RlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGV4cGVjdGVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZS5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSkpIHtcbiAgICAgICAgaWYgKHNob3VsZFJlbW92ZUF0dHJpYnV0ZShuYW1lLCBleHBlY3RlZCwgcHJvcGVydHlJbmZvLCBmYWxzZSkpIHtcbiAgICAgICAgICAvLyBXZSBoYWQgYW4gYXR0cmlidXRlIGJ1dCBzaG91bGRuJ3QgaGF2ZSBoYWQgb25lLCBzbyByZWFkIGl0XG4gICAgICAgICAgLy8gZm9yIHRoZSBlcnJvciBtZXNzYWdlLlxuICAgICAgICAgIHJldHVybiBub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcGVydHlJbmZvLnR5cGUgPT09IEJPT0xFQU4pIHtcbiAgICAgICAgICAvLyBJZiB0aGlzIHdhcyBhIGJvb2xlYW4sIGl0IGRvZXNuJ3QgbWF0dGVyIHdoYXQgdGhlIHZhbHVlIGlzXG4gICAgICAgICAgLy8gdGhlIGZhY3QgdGhhdCB3ZSBoYXZlIGl0IGlzIHRoZSBzYW1lIGFzIHRoZSBleHBlY3RlZC5cbiAgICAgICAgICByZXR1cm4gZXhwZWN0ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRXZlbiBpZiB0aGlzIHByb3BlcnR5IHVzZXMgYSBuYW1lc3BhY2Ugd2UgdXNlIGdldEF0dHJpYnV0ZVxuICAgICAgICAvLyBiZWNhdXNlIHdlIGFzc3VtZSBpdHMgbmFtZXNwYWNlZCBuYW1lIGlzIHRoZSBzYW1lIGFzIG91ciBjb25maWcuXG4gICAgICAgIC8vIFRvIHVzZSBnZXRBdHRyaWJ1dGVOUyB3ZSBuZWVkIHRoZSBsb2NhbCBuYW1lIHdoaWNoIHdlIGRvbid0IGhhdmVcbiAgICAgICAgLy8gaW4gb3VyIGNvbmZpZyBhdG0uXG4gICAgICAgIHN0cmluZ1ZhbHVlID0gbm9kZS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzaG91bGRSZW1vdmVBdHRyaWJ1dGUobmFtZSwgZXhwZWN0ZWQsIHByb3BlcnR5SW5mbywgZmFsc2UpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmdWYWx1ZSA9PT0gbnVsbCA/IGV4cGVjdGVkIDogc3RyaW5nVmFsdWU7XG4gICAgICB9IGVsc2UgaWYgKHN0cmluZ1ZhbHVlID09PSAnJyArIGV4cGVjdGVkKSB7XG4gICAgICAgIHJldHVybiBleHBlY3RlZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzdHJpbmdWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgdGhlIHZhbHVlIGZvciBhIGF0dHJpYnV0ZSBvbiBhIG5vZGUuIE9ubHkgdXNlZCBpbiBERVYgZm9yIFNTUiB2YWxpZGF0aW9uLlxuICogVGhlIHRoaXJkIGFyZ3VtZW50IGlzIHVzZWQgYXMgYSBoaW50IG9mIHdoYXQgdGhlIGV4cGVjdGVkIHZhbHVlIGlzLiBTb21lXG4gKiBhdHRyaWJ1dGVzIGhhdmUgbXVsdGlwbGUgZXF1aXZhbGVudCB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlRm9yQXR0cmlidXRlKG5vZGUsIG5hbWUsIGV4cGVjdGVkKSB7XG4gIHtcbiAgICBpZiAoIWlzQXR0cmlidXRlTmFtZVNhZmUobmFtZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFub2RlLmhhc0F0dHJpYnV0ZShuYW1lKSkge1xuICAgICAgcmV0dXJuIGV4cGVjdGVkID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBudWxsO1xuICAgIH1cbiAgICB2YXIgdmFsdWUgPSBub2RlLmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICBpZiAodmFsdWUgPT09ICcnICsgZXhwZWN0ZWQpIHtcbiAgICAgIHJldHVybiBleHBlY3RlZDtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59XG5cbi8qKlxuICogU2V0cyB0aGUgdmFsdWUgZm9yIGEgcHJvcGVydHkgb24gYSBub2RlLlxuICpcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqL1xuZnVuY3Rpb24gc2V0VmFsdWVGb3JQcm9wZXJ0eShub2RlLCBuYW1lLCB2YWx1ZSwgaXNDdXN0b21Db21wb25lbnRUYWcpIHtcbiAgdmFyIHByb3BlcnR5SW5mbyA9IGdldFByb3BlcnR5SW5mbyhuYW1lKTtcbiAgaWYgKHNob3VsZElnbm9yZUF0dHJpYnV0ZShuYW1lLCBwcm9wZXJ0eUluZm8sIGlzQ3VzdG9tQ29tcG9uZW50VGFnKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoc2hvdWxkUmVtb3ZlQXR0cmlidXRlKG5hbWUsIHZhbHVlLCBwcm9wZXJ0eUluZm8sIGlzQ3VzdG9tQ29tcG9uZW50VGFnKSkge1xuICAgIHZhbHVlID0gbnVsbDtcbiAgfVxuICAvLyBJZiB0aGUgcHJvcCBpc24ndCBpbiB0aGUgc3BlY2lhbCBsaXN0LCB0cmVhdCBpdCBhcyBhIHNpbXBsZSBhdHRyaWJ1dGUuXG4gIGlmIChpc0N1c3RvbUNvbXBvbmVudFRhZyB8fCBwcm9wZXJ0eUluZm8gPT09IG51bGwpIHtcbiAgICBpZiAoaXNBdHRyaWJ1dGVOYW1lU2FmZShuYW1lKSkge1xuICAgICAgdmFyIF9hdHRyaWJ1dGVOYW1lID0gbmFtZTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShfYXR0cmlidXRlTmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShfYXR0cmlidXRlTmFtZSwgJycgKyB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbXVzdFVzZVByb3BlcnR5ID0gcHJvcGVydHlJbmZvLm11c3RVc2VQcm9wZXJ0eTtcblxuICBpZiAobXVzdFVzZVByb3BlcnR5KSB7XG4gICAgdmFyIHByb3BlcnR5TmFtZSA9IHByb3BlcnR5SW5mby5wcm9wZXJ0eU5hbWU7XG5cbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHZhciB0eXBlID0gcHJvcGVydHlJbmZvLnR5cGU7XG5cbiAgICAgIG5vZGVbcHJvcGVydHlOYW1lXSA9IHR5cGUgPT09IEJPT0xFQU4gPyBmYWxzZSA6ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDb250cmFyeSB0byBgc2V0QXR0cmlidXRlYCwgb2JqZWN0IHByb3BlcnRpZXMgYXJlIHByb3Blcmx5XG4gICAgICAvLyBgdG9TdHJpbmdgZWQgYnkgSUU4LzkuXG4gICAgICBub2RlW3Byb3BlcnR5TmFtZV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIFRoZSByZXN0IGFyZSB0cmVhdGVkIGFzIGF0dHJpYnV0ZXMgd2l0aCBzcGVjaWFsIGNhc2VzLlxuICB2YXIgYXR0cmlidXRlTmFtZSA9IHByb3BlcnR5SW5mby5hdHRyaWJ1dGVOYW1lLFxuICAgICAgYXR0cmlidXRlTmFtZXNwYWNlID0gcHJvcGVydHlJbmZvLmF0dHJpYnV0ZU5hbWVzcGFjZTtcblxuICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgX3R5cGUgPSBwcm9wZXJ0eUluZm8udHlwZTtcblxuICAgIHZhciBhdHRyaWJ1dGVWYWx1ZSA9IHZvaWQgMDtcbiAgICBpZiAoX3R5cGUgPT09IEJPT0xFQU4gfHwgX3R5cGUgPT09IE9WRVJMT0FERURfQk9PTEVBTiAmJiB2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgYXR0cmlidXRlVmFsdWUgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gYHNldEF0dHJpYnV0ZWAgd2l0aCBvYmplY3RzIGJlY29tZXMgb25seSBgW29iamVjdF1gIGluIElFOC85LFxuICAgICAgLy8gKCcnICsgdmFsdWUpIG1ha2VzIGl0IG91dHB1dCB0aGUgY29ycmVjdCB0b1N0cmluZygpLXZhbHVlLlxuICAgICAgYXR0cmlidXRlVmFsdWUgPSAnJyArIHZhbHVlO1xuICAgIH1cbiAgICBpZiAoYXR0cmlidXRlTmFtZXNwYWNlKSB7XG4gICAgICBub2RlLnNldEF0dHJpYnV0ZU5TKGF0dHJpYnV0ZU5hbWVzcGFjZSwgYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVWYWx1ZSk7XG4gICAgfVxuICB9XG59XG5cbnZhciBSZWFjdENvbnRyb2xsZWRWYWx1ZVByb3BUeXBlcyA9IHtcbiAgY2hlY2tQcm9wVHlwZXM6IG51bGxcbn07XG5cbntcbiAgdmFyIGhhc1JlYWRPbmx5VmFsdWUgPSB7XG4gICAgYnV0dG9uOiB0cnVlLFxuICAgIGNoZWNrYm94OiB0cnVlLFxuICAgIGltYWdlOiB0cnVlLFxuICAgIGhpZGRlbjogdHJ1ZSxcbiAgICByYWRpbzogdHJ1ZSxcbiAgICByZXNldDogdHJ1ZSxcbiAgICBzdWJtaXQ6IHRydWVcbiAgfTtcblxuICB2YXIgcHJvcFR5cGVzID0ge1xuICAgIHZhbHVlOiBmdW5jdGlvbiAocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgICBpZiAoIXByb3BzW3Byb3BOYW1lXSB8fCBoYXNSZWFkT25seVZhbHVlW3Byb3BzLnR5cGVdIHx8IHByb3BzLm9uQ2hhbmdlIHx8IHByb3BzLnJlYWRPbmx5IHx8IHByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBFcnJvcignWW91IHByb3ZpZGVkIGEgYHZhbHVlYCBwcm9wIHRvIGEgZm9ybSBmaWVsZCB3aXRob3V0IGFuICcgKyAnYG9uQ2hhbmdlYCBoYW5kbGVyLiBUaGlzIHdpbGwgcmVuZGVyIGEgcmVhZC1vbmx5IGZpZWxkLiBJZiAnICsgJ3RoZSBmaWVsZCBzaG91bGQgYmUgbXV0YWJsZSB1c2UgYGRlZmF1bHRWYWx1ZWAuIE90aGVyd2lzZSwgJyArICdzZXQgZWl0aGVyIGBvbkNoYW5nZWAgb3IgYHJlYWRPbmx5YC4nKTtcbiAgICB9LFxuICAgIGNoZWNrZWQ6IGZ1bmN0aW9uIChwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgICAgIGlmICghcHJvcHNbcHJvcE5hbWVdIHx8IHByb3BzLm9uQ2hhbmdlIHx8IHByb3BzLnJlYWRPbmx5IHx8IHByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBFcnJvcignWW91IHByb3ZpZGVkIGEgYGNoZWNrZWRgIHByb3AgdG8gYSBmb3JtIGZpZWxkIHdpdGhvdXQgYW4gJyArICdgb25DaGFuZ2VgIGhhbmRsZXIuIFRoaXMgd2lsbCByZW5kZXIgYSByZWFkLW9ubHkgZmllbGQuIElmICcgKyAndGhlIGZpZWxkIHNob3VsZCBiZSBtdXRhYmxlIHVzZSBgZGVmYXVsdENoZWNrZWRgLiBPdGhlcndpc2UsICcgKyAnc2V0IGVpdGhlciBgb25DaGFuZ2VgIG9yIGByZWFkT25seWAuJyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBQcm92aWRlIGEgbGlua2VkIGB2YWx1ZWAgYXR0cmlidXRlIGZvciBjb250cm9sbGVkIGZvcm1zLiBZb3Ugc2hvdWxkIG5vdCB1c2VcbiAgICogdGhpcyBvdXRzaWRlIG9mIHRoZSBSZWFjdERPTSBjb250cm9sbGVkIGZvcm0gY29tcG9uZW50cy5cbiAgICovXG4gIFJlYWN0Q29udHJvbGxlZFZhbHVlUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzID0gZnVuY3Rpb24gKHRhZ05hbWUsIHByb3BzLCBnZXRTdGFjaykge1xuICAgIGNoZWNrUHJvcFR5cGVzKHByb3BUeXBlcywgcHJvcHMsICdwcm9wJywgdGFnTmFtZSwgZ2V0U3RhY2spO1xuICB9O1xufVxuXG4vLyBUT0RPOiBkaXJlY3QgaW1wb3J0cyBsaWtlIHNvbWUtcGFja2FnZS9zcmMvKiBhcmUgYmFkLiBGaXggbWUuXG52YXIgZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lID0gUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5nZXRDdXJyZW50RmliZXJPd25lck5hbWU7XG52YXIgZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSA9IFJlYWN0RGVidWdDdXJyZW50RmliZXIuZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bTtcblxudmFyIGRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSA9IGZhbHNlO1xudmFyIGRpZFdhcm5DaGVja2VkRGVmYXVsdENoZWNrZWQgPSBmYWxzZTtcbnZhciBkaWRXYXJuQ29udHJvbGxlZFRvVW5jb250cm9sbGVkID0gZmFsc2U7XG52YXIgZGlkV2FyblVuY29udHJvbGxlZFRvQ29udHJvbGxlZCA9IGZhbHNlO1xuXG5mdW5jdGlvbiBpc0NvbnRyb2xsZWQocHJvcHMpIHtcbiAgdmFyIHVzZXNDaGVja2VkID0gcHJvcHMudHlwZSA9PT0gJ2NoZWNrYm94JyB8fCBwcm9wcy50eXBlID09PSAncmFkaW8nO1xuICByZXR1cm4gdXNlc0NoZWNrZWQgPyBwcm9wcy5jaGVja2VkICE9IG51bGwgOiBwcm9wcy52YWx1ZSAhPSBudWxsO1xufVxuXG4vKipcbiAqIEltcGxlbWVudHMgYW4gPGlucHV0PiBob3N0IGNvbXBvbmVudCB0aGF0IGFsbG93cyBzZXR0aW5nIHRoZXNlIG9wdGlvbmFsXG4gKiBwcm9wczogYGNoZWNrZWRgLCBgdmFsdWVgLCBgZGVmYXVsdENoZWNrZWRgLCBhbmQgYGRlZmF1bHRWYWx1ZWAuXG4gKlxuICogSWYgYGNoZWNrZWRgIG9yIGB2YWx1ZWAgYXJlIG5vdCBzdXBwbGllZCAob3IgbnVsbC91bmRlZmluZWQpLCB1c2VyIGFjdGlvbnNcbiAqIHRoYXQgYWZmZWN0IHRoZSBjaGVja2VkIHN0YXRlIG9yIHZhbHVlIHdpbGwgdHJpZ2dlciB1cGRhdGVzIHRvIHRoZSBlbGVtZW50LlxuICpcbiAqIElmIHRoZXkgYXJlIHN1cHBsaWVkIChhbmQgbm90IG51bGwvdW5kZWZpbmVkKSwgdGhlIHJlbmRlcmVkIGVsZW1lbnQgd2lsbCBub3RcbiAqIHRyaWdnZXIgdXBkYXRlcyB0byB0aGUgZWxlbWVudC4gSW5zdGVhZCwgdGhlIHByb3BzIG11c3QgY2hhbmdlIGluIG9yZGVyIGZvclxuICogdGhlIHJlbmRlcmVkIGVsZW1lbnQgdG8gYmUgdXBkYXRlZC5cbiAqXG4gKiBUaGUgcmVuZGVyZWQgZWxlbWVudCB3aWxsIGJlIGluaXRpYWxpemVkIGFzIHVuY2hlY2tlZCAob3IgYGRlZmF1bHRDaGVja2VkYClcbiAqIHdpdGggYW4gZW1wdHkgdmFsdWUgKG9yIGBkZWZhdWx0VmFsdWVgKS5cbiAqXG4gKiBTZWUgaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMi9XRC1odG1sNS0yMDEyMTAyNS90aGUtaW5wdXQtZWxlbWVudC5odG1sXG4gKi9cblxuZnVuY3Rpb24gZ2V0SG9zdFByb3BzKGVsZW1lbnQsIHByb3BzKSB7XG4gIHZhciBub2RlID0gZWxlbWVudDtcbiAgdmFyIGNoZWNrZWQgPSBwcm9wcy5jaGVja2VkO1xuXG4gIHZhciBob3N0UHJvcHMgPSBfYXNzaWduKHt9LCBwcm9wcywge1xuICAgIGRlZmF1bHRDaGVja2VkOiB1bmRlZmluZWQsXG4gICAgZGVmYXVsdFZhbHVlOiB1bmRlZmluZWQsXG4gICAgdmFsdWU6IHVuZGVmaW5lZCxcbiAgICBjaGVja2VkOiBjaGVja2VkICE9IG51bGwgPyBjaGVja2VkIDogbm9kZS5fd3JhcHBlclN0YXRlLmluaXRpYWxDaGVja2VkXG4gIH0pO1xuXG4gIHJldHVybiBob3N0UHJvcHM7XG59XG5cbmZ1bmN0aW9uIGluaXRXcmFwcGVyU3RhdGUoZWxlbWVudCwgcHJvcHMpIHtcbiAge1xuICAgIFJlYWN0Q29udHJvbGxlZFZhbHVlUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCdpbnB1dCcsIHByb3BzLCBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtKTtcblxuICAgIGlmIChwcm9wcy5jaGVja2VkICE9PSB1bmRlZmluZWQgJiYgcHJvcHMuZGVmYXVsdENoZWNrZWQgIT09IHVuZGVmaW5lZCAmJiAhZGlkV2FybkNoZWNrZWREZWZhdWx0Q2hlY2tlZCkge1xuICAgICAgd2FybmluZyhmYWxzZSwgJyVzIGNvbnRhaW5zIGFuIGlucHV0IG9mIHR5cGUgJXMgd2l0aCBib3RoIGNoZWNrZWQgYW5kIGRlZmF1bHRDaGVja2VkIHByb3BzLiAnICsgJ0lucHV0IGVsZW1lbnRzIG11c3QgYmUgZWl0aGVyIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkICcgKyAnKHNwZWNpZnkgZWl0aGVyIHRoZSBjaGVja2VkIHByb3AsIG9yIHRoZSBkZWZhdWx0Q2hlY2tlZCBwcm9wLCBidXQgbm90ICcgKyAnYm90aCkuIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgaW5wdXQgJyArICdlbGVtZW50IGFuZCByZW1vdmUgb25lIG9mIHRoZXNlIHByb3BzLiBNb3JlIGluZm86ICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1jb250cm9sbGVkLWNvbXBvbmVudHMnLCBnZXRDdXJyZW50RmliZXJPd25lck5hbWUoKSB8fCAnQSBjb21wb25lbnQnLCBwcm9wcy50eXBlKTtcbiAgICAgIGRpZFdhcm5DaGVja2VkRGVmYXVsdENoZWNrZWQgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAocHJvcHMudmFsdWUgIT09IHVuZGVmaW5lZCAmJiBwcm9wcy5kZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnJXMgY29udGFpbnMgYW4gaW5wdXQgb2YgdHlwZSAlcyB3aXRoIGJvdGggdmFsdWUgYW5kIGRlZmF1bHRWYWx1ZSBwcm9wcy4gJyArICdJbnB1dCBlbGVtZW50cyBtdXN0IGJlIGVpdGhlciBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCAnICsgJyhzcGVjaWZ5IGVpdGhlciB0aGUgdmFsdWUgcHJvcCwgb3IgdGhlIGRlZmF1bHRWYWx1ZSBwcm9wLCBidXQgbm90ICcgKyAnYm90aCkuIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgaW5wdXQgJyArICdlbGVtZW50IGFuZCByZW1vdmUgb25lIG9mIHRoZXNlIHByb3BzLiBNb3JlIGluZm86ICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1jb250cm9sbGVkLWNvbXBvbmVudHMnLCBnZXRDdXJyZW50RmliZXJPd25lck5hbWUoKSB8fCAnQSBjb21wb25lbnQnLCBwcm9wcy50eXBlKTtcbiAgICAgIGRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuICB2YXIgZGVmYXVsdFZhbHVlID0gcHJvcHMuZGVmYXVsdFZhbHVlID09IG51bGwgPyAnJyA6IHByb3BzLmRlZmF1bHRWYWx1ZTtcblxuICBub2RlLl93cmFwcGVyU3RhdGUgPSB7XG4gICAgaW5pdGlhbENoZWNrZWQ6IHByb3BzLmNoZWNrZWQgIT0gbnVsbCA/IHByb3BzLmNoZWNrZWQgOiBwcm9wcy5kZWZhdWx0Q2hlY2tlZCxcbiAgICBpbml0aWFsVmFsdWU6IGdldFNhZmVWYWx1ZShwcm9wcy52YWx1ZSAhPSBudWxsID8gcHJvcHMudmFsdWUgOiBkZWZhdWx0VmFsdWUpLFxuICAgIGNvbnRyb2xsZWQ6IGlzQ29udHJvbGxlZChwcm9wcylcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlQ2hlY2tlZChlbGVtZW50LCBwcm9wcykge1xuICB2YXIgbm9kZSA9IGVsZW1lbnQ7XG4gIHZhciBjaGVja2VkID0gcHJvcHMuY2hlY2tlZDtcbiAgaWYgKGNoZWNrZWQgIT0gbnVsbCkge1xuICAgIHNldFZhbHVlRm9yUHJvcGVydHkobm9kZSwgJ2NoZWNrZWQnLCBjaGVja2VkLCBmYWxzZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlV3JhcHBlcihlbGVtZW50LCBwcm9wcykge1xuICB2YXIgbm9kZSA9IGVsZW1lbnQ7XG4gIHtcbiAgICB2YXIgX2NvbnRyb2xsZWQgPSBpc0NvbnRyb2xsZWQocHJvcHMpO1xuXG4gICAgaWYgKCFub2RlLl93cmFwcGVyU3RhdGUuY29udHJvbGxlZCAmJiBfY29udHJvbGxlZCAmJiAhZGlkV2FyblVuY29udHJvbGxlZFRvQ29udHJvbGxlZCkge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ0EgY29tcG9uZW50IGlzIGNoYW5naW5nIGFuIHVuY29udHJvbGxlZCBpbnB1dCBvZiB0eXBlICVzIHRvIGJlIGNvbnRyb2xsZWQuICcgKyAnSW5wdXQgZWxlbWVudHMgc2hvdWxkIG5vdCBzd2l0Y2ggZnJvbSB1bmNvbnRyb2xsZWQgdG8gY29udHJvbGxlZCAob3IgdmljZSB2ZXJzYSkuICcgKyAnRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBpbnB1dCAnICsgJ2VsZW1lbnQgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgY29tcG9uZW50LiBNb3JlIGluZm86IGh0dHBzOi8vZmIubWUvcmVhY3QtY29udHJvbGxlZC1jb21wb25lbnRzJXMnLCBwcm9wcy50eXBlLCBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtKCkpO1xuICAgICAgZGlkV2FyblVuY29udHJvbGxlZFRvQ29udHJvbGxlZCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChub2RlLl93cmFwcGVyU3RhdGUuY29udHJvbGxlZCAmJiAhX2NvbnRyb2xsZWQgJiYgIWRpZFdhcm5Db250cm9sbGVkVG9VbmNvbnRyb2xsZWQpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdBIGNvbXBvbmVudCBpcyBjaGFuZ2luZyBhIGNvbnRyb2xsZWQgaW5wdXQgb2YgdHlwZSAlcyB0byBiZSB1bmNvbnRyb2xsZWQuICcgKyAnSW5wdXQgZWxlbWVudHMgc2hvdWxkIG5vdCBzd2l0Y2ggZnJvbSBjb250cm9sbGVkIHRvIHVuY29udHJvbGxlZCAob3IgdmljZSB2ZXJzYSkuICcgKyAnRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBpbnB1dCAnICsgJ2VsZW1lbnQgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgY29tcG9uZW50LiBNb3JlIGluZm86IGh0dHBzOi8vZmIubWUvcmVhY3QtY29udHJvbGxlZC1jb21wb25lbnRzJXMnLCBwcm9wcy50eXBlLCBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtKCkpO1xuICAgICAgZGlkV2FybkNvbnRyb2xsZWRUb1VuY29udHJvbGxlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlQ2hlY2tlZChlbGVtZW50LCBwcm9wcyk7XG5cbiAgdmFyIHZhbHVlID0gZ2V0U2FmZVZhbHVlKHByb3BzLnZhbHVlKTtcblxuICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgIGlmIChwcm9wcy50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgaWYgKHZhbHVlID09PSAwICYmIG5vZGUudmFsdWUgPT09ICcnIHx8XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIG5vZGUudmFsdWUgIT0gdmFsdWUpIHtcbiAgICAgICAgbm9kZS52YWx1ZSA9ICcnICsgdmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChub2RlLnZhbHVlICE9PSAnJyArIHZhbHVlKSB7XG4gICAgICBub2RlLnZhbHVlID0gJycgKyB2YWx1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkoJ3ZhbHVlJykpIHtcbiAgICBzZXREZWZhdWx0VmFsdWUobm9kZSwgcHJvcHMudHlwZSwgdmFsdWUpO1xuICB9IGVsc2UgaWYgKHByb3BzLmhhc093blByb3BlcnR5KCdkZWZhdWx0VmFsdWUnKSkge1xuICAgIHNldERlZmF1bHRWYWx1ZShub2RlLCBwcm9wcy50eXBlLCBnZXRTYWZlVmFsdWUocHJvcHMuZGVmYXVsdFZhbHVlKSk7XG4gIH1cblxuICBpZiAocHJvcHMuY2hlY2tlZCA9PSBudWxsICYmIHByb3BzLmRlZmF1bHRDaGVja2VkICE9IG51bGwpIHtcbiAgICBub2RlLmRlZmF1bHRDaGVja2VkID0gISFwcm9wcy5kZWZhdWx0Q2hlY2tlZDtcbiAgfVxufVxuXG5mdW5jdGlvbiBwb3N0TW91bnRXcmFwcGVyKGVsZW1lbnQsIHByb3BzKSB7XG4gIHZhciBub2RlID0gZWxlbWVudDtcblxuICBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkoJ3ZhbHVlJykgfHwgcHJvcHMuaGFzT3duUHJvcGVydHkoJ2RlZmF1bHRWYWx1ZScpKSB7XG4gICAgLy8gRG8gbm90IGFzc2lnbiB2YWx1ZSBpZiBpdCBpcyBhbHJlYWR5IHNldC4gVGhpcyBwcmV2ZW50cyB1c2VyIHRleHQgaW5wdXRcbiAgICAvLyBmcm9tIGJlaW5nIGxvc3QgZHVyaW5nIFNTUiBoeWRyYXRpb24uXG4gICAgaWYgKG5vZGUudmFsdWUgPT09ICcnKSB7XG4gICAgICBub2RlLnZhbHVlID0gJycgKyBub2RlLl93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlO1xuICAgIH1cblxuICAgIC8vIHZhbHVlIG11c3QgYmUgYXNzaWduZWQgYmVmb3JlIGRlZmF1bHRWYWx1ZS4gVGhpcyBmaXhlcyBhbiBpc3N1ZSB3aGVyZSB0aGVcbiAgICAvLyB2aXN1YWxseSBkaXNwbGF5ZWQgdmFsdWUgb2YgZGF0ZSBpbnB1dHMgZGlzYXBwZWFycyBvbiBtb2JpbGUgU2FmYXJpIGFuZCBDaHJvbWU6XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy83MjMzXG4gICAgbm9kZS5kZWZhdWx0VmFsdWUgPSAnJyArIG5vZGUuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWU7XG4gIH1cblxuICAvLyBOb3JtYWxseSwgd2UnZCBqdXN0IGRvIGBub2RlLmNoZWNrZWQgPSBub2RlLmNoZWNrZWRgIHVwb24gaW5pdGlhbCBtb3VudCwgbGVzcyB0aGlzIGJ1Z1xuICAvLyB0aGlzIGlzIG5lZWRlZCB0byB3b3JrIGFyb3VuZCBhIGNocm9tZSBidWcgd2hlcmUgc2V0dGluZyBkZWZhdWx0Q2hlY2tlZFxuICAvLyB3aWxsIHNvbWV0aW1lcyBpbmZsdWVuY2UgdGhlIHZhbHVlIG9mIGNoZWNrZWQgKGV2ZW4gYWZ0ZXIgZGV0YWNobWVudCkuXG4gIC8vIFJlZmVyZW5jZTogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NjA4NDE2XG4gIC8vIFdlIG5lZWQgdG8gdGVtcG9yYXJpbHkgdW5zZXQgbmFtZSB0byBhdm9pZCBkaXNydXB0aW5nIHJhZGlvIGJ1dHRvbiBncm91cHMuXG4gIHZhciBuYW1lID0gbm9kZS5uYW1lO1xuICBpZiAobmFtZSAhPT0gJycpIHtcbiAgICBub2RlLm5hbWUgPSAnJztcbiAgfVxuICBub2RlLmRlZmF1bHRDaGVja2VkID0gIW5vZGUuZGVmYXVsdENoZWNrZWQ7XG4gIG5vZGUuZGVmYXVsdENoZWNrZWQgPSAhbm9kZS5kZWZhdWx0Q2hlY2tlZDtcbiAgaWYgKG5hbWUgIT09ICcnKSB7XG4gICAgbm9kZS5uYW1lID0gbmFtZTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXN0b3JlQ29udHJvbGxlZFN0YXRlKGVsZW1lbnQsIHByb3BzKSB7XG4gIHZhciBub2RlID0gZWxlbWVudDtcbiAgdXBkYXRlV3JhcHBlcihub2RlLCBwcm9wcyk7XG4gIHVwZGF0ZU5hbWVkQ291c2lucyhub2RlLCBwcm9wcyk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZU5hbWVkQ291c2lucyhyb290Tm9kZSwgcHJvcHMpIHtcbiAgdmFyIG5hbWUgPSBwcm9wcy5uYW1lO1xuICBpZiAocHJvcHMudHlwZSA9PT0gJ3JhZGlvJyAmJiBuYW1lICE9IG51bGwpIHtcbiAgICB2YXIgcXVlcnlSb290ID0gcm9vdE5vZGU7XG5cbiAgICB3aGlsZSAocXVlcnlSb290LnBhcmVudE5vZGUpIHtcbiAgICAgIHF1ZXJ5Um9vdCA9IHF1ZXJ5Um9vdC5wYXJlbnROb2RlO1xuICAgIH1cblxuICAgIC8vIElmIGByb290Tm9kZS5mb3JtYCB3YXMgbm9uLW51bGwsIHRoZW4gd2UgY291bGQgdHJ5IGBmb3JtLmVsZW1lbnRzYCxcbiAgICAvLyBidXQgdGhhdCBzb21ldGltZXMgYmVoYXZlcyBzdHJhbmdlbHkgaW4gSUU4LiBXZSBjb3VsZCBhbHNvIHRyeSB1c2luZ1xuICAgIC8vIGBmb3JtLmdldEVsZW1lbnRzQnlOYW1lYCwgYnV0IHRoYXQgd2lsbCBvbmx5IHJldHVybiBkaXJlY3QgY2hpbGRyZW5cbiAgICAvLyBhbmQgd29uJ3QgaW5jbHVkZSBpbnB1dHMgdGhhdCB1c2UgdGhlIEhUTUw1IGBmb3JtPWAgYXR0cmlidXRlLiBTaW5jZVxuICAgIC8vIHRoZSBpbnB1dCBtaWdodCBub3QgZXZlbiBiZSBpbiBhIGZvcm0uIEl0IG1pZ2h0IG5vdCBldmVuIGJlIGluIHRoZVxuICAgIC8vIGRvY3VtZW50LiBMZXQncyBqdXN0IHVzZSB0aGUgbG9jYWwgYHF1ZXJ5U2VsZWN0b3JBbGxgIHRvIGVuc3VyZSB3ZSBkb24ndFxuICAgIC8vIG1pc3MgYW55dGhpbmcuXG4gICAgdmFyIGdyb3VwID0gcXVlcnlSb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W25hbWU9JyArIEpTT04uc3RyaW5naWZ5KCcnICsgbmFtZSkgKyAnXVt0eXBlPVwicmFkaW9cIl0nKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXAubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBvdGhlck5vZGUgPSBncm91cFtpXTtcbiAgICAgIGlmIChvdGhlck5vZGUgPT09IHJvb3ROb2RlIHx8IG90aGVyTm9kZS5mb3JtICE9PSByb290Tm9kZS5mb3JtKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGlmIHJhZGlvIGJ1dHRvbnMgcmVuZGVyZWQgYnkgZGlmZmVyZW50IGNvcGllcyBvZiBSZWFjdFxuICAgICAgLy8gYW5kIHRoZSBzYW1lIG5hbWUgYXJlIHJlbmRlcmVkIGludG8gdGhlIHNhbWUgZm9ybSAoc2FtZSBhcyAjMTkzOSkuXG4gICAgICAvLyBUaGF0J3MgcHJvYmFibHkgb2theTsgd2UgZG9uJ3Qgc3VwcG9ydCBpdCBqdXN0IGFzIHdlIGRvbid0IHN1cHBvcnRcbiAgICAgIC8vIG1peGluZyBSZWFjdCByYWRpbyBidXR0b25zIHdpdGggbm9uLVJlYWN0IG9uZXMuXG4gICAgICB2YXIgb3RoZXJQcm9wcyA9IGdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGUkMShvdGhlck5vZGUpO1xuICAgICAgIW90aGVyUHJvcHMgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdERPTUlucHV0OiBNaXhpbmcgUmVhY3QgYW5kIG5vbi1SZWFjdCByYWRpbyBpbnB1dHMgd2l0aCB0aGUgc2FtZSBgbmFtZWAgaXMgbm90IHN1cHBvcnRlZC4nKSA6IHZvaWQgMDtcblxuICAgICAgLy8gV2UgbmVlZCB1cGRhdGUgdGhlIHRyYWNrZWQgdmFsdWUgb24gdGhlIG5hbWVkIGNvdXNpbiBzaW5jZSB0aGUgdmFsdWVcbiAgICAgIC8vIHdhcyBjaGFuZ2VkIGJ1dCB0aGUgaW5wdXQgc2F3IG5vIGV2ZW50IG9yIHZhbHVlIHNldFxuICAgICAgdXBkYXRlVmFsdWVJZkNoYW5nZWQob3RoZXJOb2RlKTtcblxuICAgICAgLy8gSWYgdGhpcyBpcyBhIGNvbnRyb2xsZWQgcmFkaW8gYnV0dG9uIGdyb3VwLCBmb3JjaW5nIHRoZSBpbnB1dCB0aGF0XG4gICAgICAvLyB3YXMgcHJldmlvdXNseSBjaGVja2VkIHRvIHVwZGF0ZSB3aWxsIGNhdXNlIGl0IHRvIGJlIGNvbWUgcmUtY2hlY2tlZFxuICAgICAgLy8gYXMgYXBwcm9wcmlhdGUuXG4gICAgICB1cGRhdGVXcmFwcGVyKG90aGVyTm9kZSwgb3RoZXJQcm9wcyk7XG4gICAgfVxuICB9XG59XG5cbi8vIEluIENocm9tZSwgYXNzaWduaW5nIGRlZmF1bHRWYWx1ZSB0byBjZXJ0YWluIGlucHV0IHR5cGVzIHRyaWdnZXJzIGlucHV0IHZhbGlkYXRpb24uXG4vLyBGb3IgbnVtYmVyIGlucHV0cywgdGhlIGRpc3BsYXkgdmFsdWUgbG9zZXMgdHJhaWxpbmcgZGVjaW1hbCBwb2ludHMuIEZvciBlbWFpbCBpbnB1dHMsXG4vLyBDaHJvbWUgcmFpc2VzIFwiVGhlIHNwZWNpZmllZCB2YWx1ZSA8eD4gaXMgbm90IGEgdmFsaWQgZW1haWwgYWRkcmVzc1wiLlxuLy9cbi8vIEhlcmUgd2UgY2hlY2sgdG8gc2VlIGlmIHRoZSBkZWZhdWx0VmFsdWUgaGFzIGFjdHVhbGx5IGNoYW5nZWQsIGF2b2lkaW5nIHRoZXNlIHByb2JsZW1zXG4vLyB3aGVuIHRoZSB1c2VyIGlzIGlucHV0dGluZyB0ZXh0XG4vL1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy83MjUzXG5mdW5jdGlvbiBzZXREZWZhdWx0VmFsdWUobm9kZSwgdHlwZSwgdmFsdWUpIHtcbiAgaWYgKFxuICAvLyBGb2N1c2VkIG51bWJlciBpbnB1dHMgc3luY2hyb25pemUgb24gYmx1ci4gU2VlIENoYW5nZUV2ZW50UGx1Z2luLmpzXG4gIHR5cGUgIT09ICdudW1iZXInIHx8IG5vZGUub3duZXJEb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBub2RlKSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgIG5vZGUuZGVmYXVsdFZhbHVlID0gJycgKyBub2RlLl93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlO1xuICAgIH0gZWxzZSBpZiAobm9kZS5kZWZhdWx0VmFsdWUgIT09ICcnICsgdmFsdWUpIHtcbiAgICAgIG5vZGUuZGVmYXVsdFZhbHVlID0gJycgKyB2YWx1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0U2FmZVZhbHVlKHZhbHVlKSB7XG4gIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICBjYXNlICdvYmplY3QnOlxuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgLy8gZnVuY3Rpb24sIHN5bWJvbCBhcmUgYXNzaWduZWQgYXMgZW1wdHkgc3RyaW5nc1xuICAgICAgcmV0dXJuICcnO1xuICB9XG59XG5cbnZhciBldmVudFR5cGVzJDEgPSB7XG4gIGNoYW5nZToge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiAnb25DaGFuZ2UnLFxuICAgICAgY2FwdHVyZWQ6ICdvbkNoYW5nZUNhcHR1cmUnXG4gICAgfSxcbiAgICBkZXBlbmRlbmNpZXM6IFsndG9wQmx1cicsICd0b3BDaGFuZ2UnLCAndG9wQ2xpY2snLCAndG9wRm9jdXMnLCAndG9wSW5wdXQnLCAndG9wS2V5RG93bicsICd0b3BLZXlVcCcsICd0b3BTZWxlY3Rpb25DaGFuZ2UnXVxuICB9XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVBbmRBY2N1bXVsYXRlQ2hhbmdlRXZlbnQoaW5zdCwgbmF0aXZlRXZlbnQsIHRhcmdldCkge1xuICB2YXIgZXZlbnQgPSBTeW50aGV0aWNFdmVudCQxLmdldFBvb2xlZChldmVudFR5cGVzJDEuY2hhbmdlLCBpbnN0LCBuYXRpdmVFdmVudCwgdGFyZ2V0KTtcbiAgZXZlbnQudHlwZSA9ICdjaGFuZ2UnO1xuICAvLyBGbGFnIHRoaXMgZXZlbnQgbG9vcCBhcyBuZWVkaW5nIHN0YXRlIHJlc3RvcmUuXG4gIGVucXVldWVTdGF0ZVJlc3RvcmUodGFyZ2V0KTtcbiAgYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyhldmVudCk7XG4gIHJldHVybiBldmVudDtcbn1cbi8qKlxuICogRm9yIElFIHNoaW1zXG4gKi9cbnZhciBhY3RpdmVFbGVtZW50ID0gbnVsbDtcbnZhciBhY3RpdmVFbGVtZW50SW5zdCA9IG51bGw7XG5cbi8qKlxuICogU0VDVElPTjogaGFuZGxlIGBjaGFuZ2VgIGV2ZW50XG4gKi9cbmZ1bmN0aW9uIHNob3VsZFVzZUNoYW5nZUV2ZW50KGVsZW0pIHtcbiAgdmFyIG5vZGVOYW1lID0gZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiBub2RlTmFtZSA9PT0gJ3NlbGVjdCcgfHwgbm9kZU5hbWUgPT09ICdpbnB1dCcgJiYgZWxlbS50eXBlID09PSAnZmlsZSc7XG59XG5cbmZ1bmN0aW9uIG1hbnVhbERpc3BhdGNoQ2hhbmdlRXZlbnQobmF0aXZlRXZlbnQpIHtcbiAgdmFyIGV2ZW50ID0gY3JlYXRlQW5kQWNjdW11bGF0ZUNoYW5nZUV2ZW50KGFjdGl2ZUVsZW1lbnRJbnN0LCBuYXRpdmVFdmVudCwgZ2V0RXZlbnRUYXJnZXQobmF0aXZlRXZlbnQpKTtcblxuICAvLyBJZiBjaGFuZ2UgYW5kIHByb3BlcnR5Y2hhbmdlIGJ1YmJsZWQsIHdlJ2QganVzdCBiaW5kIHRvIGl0IGxpa2UgYWxsIHRoZVxuICAvLyBvdGhlciBldmVudHMgYW5kIGhhdmUgaXQgZ28gdGhyb3VnaCBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuIFNpbmNlIGl0XG4gIC8vIGRvZXNuJ3QsIHdlIG1hbnVhbGx5IGxpc3RlbiBmb3IgdGhlIGV2ZW50cyBhbmQgc28gd2UgaGF2ZSB0byBlbnF1ZXVlIGFuZFxuICAvLyBwcm9jZXNzIHRoZSBhYnN0cmFjdCBldmVudCBtYW51YWxseS5cbiAgLy9cbiAgLy8gQmF0Y2hpbmcgaXMgbmVjZXNzYXJ5IGhlcmUgaW4gb3JkZXIgdG8gZW5zdXJlIHRoYXQgYWxsIGV2ZW50IGhhbmRsZXJzIHJ1blxuICAvLyBiZWZvcmUgdGhlIG5leHQgcmVyZW5kZXIgKGluY2x1ZGluZyBldmVudCBoYW5kbGVycyBhdHRhY2hlZCB0byBhbmNlc3RvclxuICAvLyBlbGVtZW50cyBpbnN0ZWFkIG9mIGRpcmVjdGx5IG9uIHRoZSBpbnB1dCkuIFdpdGhvdXQgdGhpcywgY29udHJvbGxlZFxuICAvLyBjb21wb25lbnRzIGRvbid0IHdvcmsgcHJvcGVybHkgaW4gY29uanVuY3Rpb24gd2l0aCBldmVudCBidWJibGluZyBiZWNhdXNlXG4gIC8vIHRoZSBjb21wb25lbnQgaXMgcmVyZW5kZXJlZCBhbmQgdGhlIHZhbHVlIHJldmVydGVkIGJlZm9yZSBhbGwgdGhlIGV2ZW50XG4gIC8vIGhhbmRsZXJzIGNhbiBydW4uIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzcwOC5cbiAgYmF0Y2hlZFVwZGF0ZXMocnVuRXZlbnRJbkJhdGNoLCBldmVudCk7XG59XG5cbmZ1bmN0aW9uIHJ1bkV2ZW50SW5CYXRjaChldmVudCkge1xuICBydW5FdmVudHNJbkJhdGNoKGV2ZW50LCBmYWxzZSk7XG59XG5cbmZ1bmN0aW9uIGdldEluc3RJZlZhbHVlQ2hhbmdlZCh0YXJnZXRJbnN0KSB7XG4gIHZhciB0YXJnZXROb2RlID0gZ2V0Tm9kZUZyb21JbnN0YW5jZSQxKHRhcmdldEluc3QpO1xuICBpZiAodXBkYXRlVmFsdWVJZkNoYW5nZWQodGFyZ2V0Tm9kZSkpIHtcbiAgICByZXR1cm4gdGFyZ2V0SW5zdDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRUYXJnZXRJbnN0Rm9yQ2hhbmdlRXZlbnQodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0KSB7XG4gIGlmICh0b3BMZXZlbFR5cGUgPT09ICd0b3BDaGFuZ2UnKSB7XG4gICAgcmV0dXJuIHRhcmdldEluc3Q7XG4gIH1cbn1cblxuLyoqXG4gKiBTRUNUSU9OOiBoYW5kbGUgYGlucHV0YCBldmVudFxuICovXG52YXIgaXNJbnB1dEV2ZW50U3VwcG9ydGVkID0gZmFsc2U7XG5pZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gIC8vIElFOSBjbGFpbXMgdG8gc3VwcG9ydCB0aGUgaW5wdXQgZXZlbnQgYnV0IGZhaWxzIHRvIHRyaWdnZXIgaXQgd2hlblxuICAvLyBkZWxldGluZyB0ZXh0LCBzbyB3ZSBpZ25vcmUgaXRzIGlucHV0IGV2ZW50cy5cbiAgaXNJbnB1dEV2ZW50U3VwcG9ydGVkID0gaXNFdmVudFN1cHBvcnRlZCgnaW5wdXQnKSAmJiAoIWRvY3VtZW50LmRvY3VtZW50TW9kZSB8fCBkb2N1bWVudC5kb2N1bWVudE1vZGUgPiA5KTtcbn1cblxuLyoqXG4gKiAoRm9yIElFIDw9OSkgU3RhcnRzIHRyYWNraW5nIHByb3BlcnR5Y2hhbmdlIGV2ZW50cyBvbiB0aGUgcGFzc2VkLWluIGVsZW1lbnRcbiAqIGFuZCBvdmVycmlkZSB0aGUgdmFsdWUgcHJvcGVydHkgc28gdGhhdCB3ZSBjYW4gZGlzdGluZ3Vpc2ggdXNlciBldmVudHMgZnJvbVxuICogdmFsdWUgY2hhbmdlcyBpbiBKUy5cbiAqL1xuZnVuY3Rpb24gc3RhcnRXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlKHRhcmdldCwgdGFyZ2V0SW5zdCkge1xuICBhY3RpdmVFbGVtZW50ID0gdGFyZ2V0O1xuICBhY3RpdmVFbGVtZW50SW5zdCA9IHRhcmdldEluc3Q7XG4gIGFjdGl2ZUVsZW1lbnQuYXR0YWNoRXZlbnQoJ29ucHJvcGVydHljaGFuZ2UnLCBoYW5kbGVQcm9wZXJ0eUNoYW5nZSk7XG59XG5cbi8qKlxuICogKEZvciBJRSA8PTkpIFJlbW92ZXMgdGhlIGV2ZW50IGxpc3RlbmVycyBmcm9tIHRoZSBjdXJyZW50bHktdHJhY2tlZCBlbGVtZW50LFxuICogaWYgYW55IGV4aXN0cy5cbiAqL1xuZnVuY3Rpb24gc3RvcFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UoKSB7XG4gIGlmICghYWN0aXZlRWxlbWVudCkge1xuICAgIHJldHVybjtcbiAgfVxuICBhY3RpdmVFbGVtZW50LmRldGFjaEV2ZW50KCdvbnByb3BlcnR5Y2hhbmdlJywgaGFuZGxlUHJvcGVydHlDaGFuZ2UpO1xuICBhY3RpdmVFbGVtZW50ID0gbnVsbDtcbiAgYWN0aXZlRWxlbWVudEluc3QgPSBudWxsO1xufVxuXG4vKipcbiAqIChGb3IgSUUgPD05KSBIYW5kbGVzIGEgcHJvcGVydHljaGFuZ2UgZXZlbnQsIHNlbmRpbmcgYSBgY2hhbmdlYCBldmVudCBpZlxuICogdGhlIHZhbHVlIG9mIHRoZSBhY3RpdmUgZWxlbWVudCBoYXMgY2hhbmdlZC5cbiAqL1xuZnVuY3Rpb24gaGFuZGxlUHJvcGVydHlDaGFuZ2UobmF0aXZlRXZlbnQpIHtcbiAgaWYgKG5hdGl2ZUV2ZW50LnByb3BlcnR5TmFtZSAhPT0gJ3ZhbHVlJykge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoZ2V0SW5zdElmVmFsdWVDaGFuZ2VkKGFjdGl2ZUVsZW1lbnRJbnN0KSkge1xuICAgIG1hbnVhbERpc3BhdGNoQ2hhbmdlRXZlbnQobmF0aXZlRXZlbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUV2ZW50c0ZvcklucHV0RXZlbnRQb2x5ZmlsbCh0b3BMZXZlbFR5cGUsIHRhcmdldCwgdGFyZ2V0SW5zdCkge1xuICBpZiAodG9wTGV2ZWxUeXBlID09PSAndG9wRm9jdXMnKSB7XG4gICAgLy8gSW4gSUU5LCBwcm9wZXJ0eWNoYW5nZSBmaXJlcyBmb3IgbW9zdCBpbnB1dCBldmVudHMgYnV0IGlzIGJ1Z2d5IGFuZFxuICAgIC8vIGRvZXNuJ3QgZmlyZSB3aGVuIHRleHQgaXMgZGVsZXRlZCwgYnV0IGNvbnZlbmllbnRseSwgc2VsZWN0aW9uY2hhbmdlXG4gICAgLy8gYXBwZWFycyB0byBmaXJlIGluIGFsbCBvZiB0aGUgcmVtYWluaW5nIGNhc2VzIHNvIHdlIGNhdGNoIHRob3NlIGFuZFxuICAgIC8vIGZvcndhcmQgdGhlIGV2ZW50IGlmIHRoZSB2YWx1ZSBoYXMgY2hhbmdlZFxuICAgIC8vIEluIGVpdGhlciBjYXNlLCB3ZSBkb24ndCB3YW50IHRvIGNhbGwgdGhlIGV2ZW50IGhhbmRsZXIgaWYgdGhlIHZhbHVlXG4gICAgLy8gaXMgY2hhbmdlZCBmcm9tIEpTIHNvIHdlIHJlZGVmaW5lIGEgc2V0dGVyIGZvciBgLnZhbHVlYCB0aGF0IHVwZGF0ZXNcbiAgICAvLyBvdXIgYWN0aXZlRWxlbWVudFZhbHVlIHZhcmlhYmxlLCBhbGxvd2luZyB1cyB0byBpZ25vcmUgdGhvc2UgY2hhbmdlc1xuICAgIC8vXG4gICAgLy8gc3RvcFdhdGNoaW5nKCkgc2hvdWxkIGJlIGEgbm9vcCBoZXJlIGJ1dCB3ZSBjYWxsIGl0IGp1c3QgaW4gY2FzZSB3ZVxuICAgIC8vIG1pc3NlZCBhIGJsdXIgZXZlbnQgc29tZWhvdy5cbiAgICBzdG9wV2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSgpO1xuICAgIHN0YXJ0V2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSh0YXJnZXQsIHRhcmdldEluc3QpO1xuICB9IGVsc2UgaWYgKHRvcExldmVsVHlwZSA9PT0gJ3RvcEJsdXInKSB7XG4gICAgc3RvcFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UoKTtcbiAgfVxufVxuXG4vLyBGb3IgSUU4IGFuZCBJRTkuXG5mdW5jdGlvbiBnZXRUYXJnZXRJbnN0Rm9ySW5wdXRFdmVudFBvbHlmaWxsKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCkge1xuICBpZiAodG9wTGV2ZWxUeXBlID09PSAndG9wU2VsZWN0aW9uQ2hhbmdlJyB8fCB0b3BMZXZlbFR5cGUgPT09ICd0b3BLZXlVcCcgfHwgdG9wTGV2ZWxUeXBlID09PSAndG9wS2V5RG93bicpIHtcbiAgICAvLyBPbiB0aGUgc2VsZWN0aW9uY2hhbmdlIGV2ZW50LCB0aGUgdGFyZ2V0IGlzIGp1c3QgZG9jdW1lbnQgd2hpY2ggaXNuJ3RcbiAgICAvLyBoZWxwZnVsIGZvciB1cyBzbyBqdXN0IGNoZWNrIGFjdGl2ZUVsZW1lbnQgaW5zdGVhZC5cbiAgICAvL1xuICAgIC8vIDk5JSBvZiB0aGUgdGltZSwga2V5ZG93biBhbmQga2V5dXAgYXJlbid0IG5lY2Vzc2FyeS4gSUU4IGZhaWxzIHRvIGZpcmVcbiAgICAvLyBwcm9wZXJ0eWNoYW5nZSBvbiB0aGUgZmlyc3QgaW5wdXQgZXZlbnQgYWZ0ZXIgc2V0dGluZyBgdmFsdWVgIGZyb20gYVxuICAgIC8vIHNjcmlwdCBhbmQgZmlyZXMgb25seSBrZXlkb3duLCBrZXlwcmVzcywga2V5dXAuIENhdGNoaW5nIGtleXVwIHVzdWFsbHlcbiAgICAvLyBnZXRzIGl0IGFuZCBjYXRjaGluZyBrZXlkb3duIGxldHMgdXMgZmlyZSBhbiBldmVudCBmb3IgdGhlIGZpcnN0XG4gICAgLy8ga2V5c3Ryb2tlIGlmIHVzZXIgZG9lcyBhIGtleSByZXBlYXQgKGl0J2xsIGJlIGEgbGl0dGxlIGRlbGF5ZWQ6IHJpZ2h0XG4gICAgLy8gYmVmb3JlIHRoZSBzZWNvbmQga2V5c3Ryb2tlKS4gT3RoZXIgaW5wdXQgbWV0aG9kcyAoZS5nLiwgcGFzdGUpIHNlZW0gdG9cbiAgICAvLyBmaXJlIHNlbGVjdGlvbmNoYW5nZSBub3JtYWxseS5cbiAgICByZXR1cm4gZ2V0SW5zdElmVmFsdWVDaGFuZ2VkKGFjdGl2ZUVsZW1lbnRJbnN0KTtcbiAgfVxufVxuXG4vKipcbiAqIFNFQ1RJT046IGhhbmRsZSBgY2xpY2tgIGV2ZW50XG4gKi9cbmZ1bmN0aW9uIHNob3VsZFVzZUNsaWNrRXZlbnQoZWxlbSkge1xuICAvLyBVc2UgdGhlIGBjbGlja2AgZXZlbnQgdG8gZGV0ZWN0IGNoYW5nZXMgdG8gY2hlY2tib3ggYW5kIHJhZGlvIGlucHV0cy5cbiAgLy8gVGhpcyBhcHByb2FjaCB3b3JrcyBhY3Jvc3MgYWxsIGJyb3dzZXJzLCB3aGVyZWFzIGBjaGFuZ2VgIGRvZXMgbm90IGZpcmVcbiAgLy8gdW50aWwgYGJsdXJgIGluIElFOC5cbiAgdmFyIG5vZGVOYW1lID0gZWxlbS5ub2RlTmFtZTtcbiAgcmV0dXJuIG5vZGVOYW1lICYmIG5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbnB1dCcgJiYgKGVsZW0udHlwZSA9PT0gJ2NoZWNrYm94JyB8fCBlbGVtLnR5cGUgPT09ICdyYWRpbycpO1xufVxuXG5mdW5jdGlvbiBnZXRUYXJnZXRJbnN0Rm9yQ2xpY2tFdmVudCh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QpIHtcbiAgaWYgKHRvcExldmVsVHlwZSA9PT0gJ3RvcENsaWNrJykge1xuICAgIHJldHVybiBnZXRJbnN0SWZWYWx1ZUNoYW5nZWQodGFyZ2V0SW5zdCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0VGFyZ2V0SW5zdEZvcklucHV0T3JDaGFuZ2VFdmVudCh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QpIHtcbiAgaWYgKHRvcExldmVsVHlwZSA9PT0gJ3RvcElucHV0JyB8fCB0b3BMZXZlbFR5cGUgPT09ICd0b3BDaGFuZ2UnKSB7XG4gICAgcmV0dXJuIGdldEluc3RJZlZhbHVlQ2hhbmdlZCh0YXJnZXRJbnN0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVDb250cm9sbGVkSW5wdXRCbHVyKGluc3QsIG5vZGUpIHtcbiAgLy8gVE9ETzogSW4gSUUsIGluc3QgaXMgb2NjYXNpb25hbGx5IG51bGwuIFdoeT9cbiAgaWYgKGluc3QgPT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEZpYmVyIGFuZCBSZWFjdERPTSBrZWVwIHdyYXBwZXIgc3RhdGUgaW4gc2VwYXJhdGUgcGxhY2VzXG4gIHZhciBzdGF0ZSA9IGluc3QuX3dyYXBwZXJTdGF0ZSB8fCBub2RlLl93cmFwcGVyU3RhdGU7XG5cbiAgaWYgKCFzdGF0ZSB8fCAhc3RhdGUuY29udHJvbGxlZCB8fCBub2RlLnR5cGUgIT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gSWYgY29udHJvbGxlZCwgYXNzaWduIHRoZSB2YWx1ZSBhdHRyaWJ1dGUgdG8gdGhlIGN1cnJlbnQgdmFsdWUgb24gYmx1clxuICBzZXREZWZhdWx0VmFsdWUobm9kZSwgJ251bWJlcicsIG5vZGUudmFsdWUpO1xufVxuXG4vKipcbiAqIFRoaXMgcGx1Z2luIGNyZWF0ZXMgYW4gYG9uQ2hhbmdlYCBldmVudCB0aGF0IG5vcm1hbGl6ZXMgY2hhbmdlIGV2ZW50c1xuICogYWNyb3NzIGZvcm0gZWxlbWVudHMuIFRoaXMgZXZlbnQgZmlyZXMgYXQgYSB0aW1lIHdoZW4gaXQncyBwb3NzaWJsZSB0b1xuICogY2hhbmdlIHRoZSBlbGVtZW50J3MgdmFsdWUgd2l0aG91dCBzZWVpbmcgYSBmbGlja2VyLlxuICpcbiAqIFN1cHBvcnRlZCBlbGVtZW50cyBhcmU6XG4gKiAtIGlucHV0IChzZWUgYGlzVGV4dElucHV0RWxlbWVudGApXG4gKiAtIHRleHRhcmVhXG4gKiAtIHNlbGVjdFxuICovXG52YXIgQ2hhbmdlRXZlbnRQbHVnaW4gPSB7XG4gIGV2ZW50VHlwZXM6IGV2ZW50VHlwZXMkMSxcblxuICBfaXNJbnB1dEV2ZW50U3VwcG9ydGVkOiBpc0lucHV0RXZlbnRTdXBwb3J0ZWQsXG5cbiAgZXh0cmFjdEV2ZW50czogZnVuY3Rpb24gKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgdmFyIHRhcmdldE5vZGUgPSB0YXJnZXRJbnN0ID8gZ2V0Tm9kZUZyb21JbnN0YW5jZSQxKHRhcmdldEluc3QpIDogd2luZG93O1xuXG4gICAgdmFyIGdldFRhcmdldEluc3RGdW5jID0gdm9pZCAwLFxuICAgICAgICBoYW5kbGVFdmVudEZ1bmMgPSB2b2lkIDA7XG4gICAgaWYgKHNob3VsZFVzZUNoYW5nZUV2ZW50KHRhcmdldE5vZGUpKSB7XG4gICAgICBnZXRUYXJnZXRJbnN0RnVuYyA9IGdldFRhcmdldEluc3RGb3JDaGFuZ2VFdmVudDtcbiAgICB9IGVsc2UgaWYgKGlzVGV4dElucHV0RWxlbWVudCh0YXJnZXROb2RlKSkge1xuICAgICAgaWYgKGlzSW5wdXRFdmVudFN1cHBvcnRlZCkge1xuICAgICAgICBnZXRUYXJnZXRJbnN0RnVuYyA9IGdldFRhcmdldEluc3RGb3JJbnB1dE9yQ2hhbmdlRXZlbnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnZXRUYXJnZXRJbnN0RnVuYyA9IGdldFRhcmdldEluc3RGb3JJbnB1dEV2ZW50UG9seWZpbGw7XG4gICAgICAgIGhhbmRsZUV2ZW50RnVuYyA9IGhhbmRsZUV2ZW50c0ZvcklucHV0RXZlbnRQb2x5ZmlsbDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNob3VsZFVzZUNsaWNrRXZlbnQodGFyZ2V0Tm9kZSkpIHtcbiAgICAgIGdldFRhcmdldEluc3RGdW5jID0gZ2V0VGFyZ2V0SW5zdEZvckNsaWNrRXZlbnQ7XG4gICAgfVxuXG4gICAgaWYgKGdldFRhcmdldEluc3RGdW5jKSB7XG4gICAgICB2YXIgaW5zdCA9IGdldFRhcmdldEluc3RGdW5jKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCk7XG4gICAgICBpZiAoaW5zdCkge1xuICAgICAgICB2YXIgZXZlbnQgPSBjcmVhdGVBbmRBY2N1bXVsYXRlQ2hhbmdlRXZlbnQoaW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChoYW5kbGVFdmVudEZ1bmMpIHtcbiAgICAgIGhhbmRsZUV2ZW50RnVuYyh0b3BMZXZlbFR5cGUsIHRhcmdldE5vZGUsIHRhcmdldEluc3QpO1xuICAgIH1cblxuICAgIC8vIFdoZW4gYmx1cnJpbmcsIHNldCB0aGUgdmFsdWUgYXR0cmlidXRlIGZvciBudW1iZXIgaW5wdXRzXG4gICAgaWYgKHRvcExldmVsVHlwZSA9PT0gJ3RvcEJsdXInKSB7XG4gICAgICBoYW5kbGVDb250cm9sbGVkSW5wdXRCbHVyKHRhcmdldEluc3QsIHRhcmdldE5vZGUpO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBNb2R1bGUgdGhhdCBpcyBpbmplY3RhYmxlIGludG8gYEV2ZW50UGx1Z2luSHViYCwgdGhhdCBzcGVjaWZpZXMgYVxuICogZGV0ZXJtaW5pc3RpYyBvcmRlcmluZyBvZiBgRXZlbnRQbHVnaW5gcy4gQSBjb252ZW5pZW50IHdheSB0byByZWFzb24gYWJvdXRcbiAqIHBsdWdpbnMsIHdpdGhvdXQgaGF2aW5nIHRvIHBhY2thZ2UgZXZlcnkgb25lIG9mIHRoZW0uIFRoaXMgaXMgYmV0dGVyIHRoYW5cbiAqIGhhdmluZyBwbHVnaW5zIGJlIG9yZGVyZWQgaW4gdGhlIHNhbWUgb3JkZXIgdGhhdCB0aGV5IGFyZSBpbmplY3RlZCBiZWNhdXNlXG4gKiB0aGF0IG9yZGVyaW5nIHdvdWxkIGJlIGluZmx1ZW5jZWQgYnkgdGhlIHBhY2thZ2luZyBvcmRlci5cbiAqIGBSZXNwb25kZXJFdmVudFBsdWdpbmAgbXVzdCBvY2N1ciBiZWZvcmUgYFNpbXBsZUV2ZW50UGx1Z2luYCBzbyB0aGF0XG4gKiBwcmV2ZW50aW5nIGRlZmF1bHQgb24gZXZlbnRzIGlzIGNvbnZlbmllbnQgaW4gYFNpbXBsZUV2ZW50UGx1Z2luYCBoYW5kbGVycy5cbiAqL1xudmFyIERPTUV2ZW50UGx1Z2luT3JkZXIgPSBbJ1Jlc3BvbmRlckV2ZW50UGx1Z2luJywgJ1NpbXBsZUV2ZW50UGx1Z2luJywgJ1RhcEV2ZW50UGx1Z2luJywgJ0VudGVyTGVhdmVFdmVudFBsdWdpbicsICdDaGFuZ2VFdmVudFBsdWdpbicsICdTZWxlY3RFdmVudFBsdWdpbicsICdCZWZvcmVJbnB1dEV2ZW50UGx1Z2luJ107XG5cbnZhciBTeW50aGV0aWNVSUV2ZW50ID0gU3ludGhldGljRXZlbnQkMS5leHRlbmQoe1xuICB2aWV3OiBudWxsLFxuICBkZXRhaWw6IG51bGxcbn0pO1xuXG4vKipcbiAqIFRyYW5zbGF0aW9uIGZyb20gbW9kaWZpZXIga2V5IHRvIHRoZSBhc3NvY2lhdGVkIHByb3BlcnR5IGluIHRoZSBldmVudC5cbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLyNrZXlzLU1vZGlmaWVyc1xuICovXG5cbnZhciBtb2RpZmllcktleVRvUHJvcCA9IHtcbiAgQWx0OiAnYWx0S2V5JyxcbiAgQ29udHJvbDogJ2N0cmxLZXknLFxuICBNZXRhOiAnbWV0YUtleScsXG4gIFNoaWZ0OiAnc2hpZnRLZXknXG59O1xuXG4vLyBJRTggZG9lcyBub3QgaW1wbGVtZW50IGdldE1vZGlmaWVyU3RhdGUgc28gd2Ugc2ltcGx5IG1hcCBpdCB0byB0aGUgb25seVxuLy8gbW9kaWZpZXIga2V5cyBleHBvc2VkIGJ5IHRoZSBldmVudCBpdHNlbGYsIGRvZXMgbm90IHN1cHBvcnQgTG9jay1rZXlzLlxuLy8gQ3VycmVudGx5LCBhbGwgbWFqb3IgYnJvd3NlcnMgZXhjZXB0IENocm9tZSBzZWVtcyB0byBzdXBwb3J0IExvY2sta2V5cy5cbmZ1bmN0aW9uIG1vZGlmaWVyU3RhdGVHZXR0ZXIoa2V5QXJnKSB7XG4gIHZhciBzeW50aGV0aWNFdmVudCA9IHRoaXM7XG4gIHZhciBuYXRpdmVFdmVudCA9IHN5bnRoZXRpY0V2ZW50Lm5hdGl2ZUV2ZW50O1xuICBpZiAobmF0aXZlRXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZSkge1xuICAgIHJldHVybiBuYXRpdmVFdmVudC5nZXRNb2RpZmllclN0YXRlKGtleUFyZyk7XG4gIH1cbiAgdmFyIGtleVByb3AgPSBtb2RpZmllcktleVRvUHJvcFtrZXlBcmddO1xuICByZXR1cm4ga2V5UHJvcCA/ICEhbmF0aXZlRXZlbnRba2V5UHJvcF0gOiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0RXZlbnRNb2RpZmllclN0YXRlKG5hdGl2ZUV2ZW50KSB7XG4gIHJldHVybiBtb2RpZmllclN0YXRlR2V0dGVyO1xufVxuXG4vKipcbiAqIEBpbnRlcmZhY2UgTW91c2VFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvXG4gKi9cbnZhciBTeW50aGV0aWNNb3VzZUV2ZW50ID0gU3ludGhldGljVUlFdmVudC5leHRlbmQoe1xuICBzY3JlZW5YOiBudWxsLFxuICBzY3JlZW5ZOiBudWxsLFxuICBjbGllbnRYOiBudWxsLFxuICBjbGllbnRZOiBudWxsLFxuICBwYWdlWDogbnVsbCxcbiAgcGFnZVk6IG51bGwsXG4gIGN0cmxLZXk6IG51bGwsXG4gIHNoaWZ0S2V5OiBudWxsLFxuICBhbHRLZXk6IG51bGwsXG4gIG1ldGFLZXk6IG51bGwsXG4gIGdldE1vZGlmaWVyU3RhdGU6IGdldEV2ZW50TW9kaWZpZXJTdGF0ZSxcbiAgYnV0dG9uOiBudWxsLFxuICBidXR0b25zOiBudWxsLFxuICByZWxhdGVkVGFyZ2V0OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gZXZlbnQucmVsYXRlZFRhcmdldCB8fCAoZXZlbnQuZnJvbUVsZW1lbnQgPT09IGV2ZW50LnNyY0VsZW1lbnQgPyBldmVudC50b0VsZW1lbnQgOiBldmVudC5mcm9tRWxlbWVudCk7XG4gIH1cbn0pO1xuXG52YXIgZXZlbnRUeXBlcyQyID0ge1xuICBtb3VzZUVudGVyOiB7XG4gICAgcmVnaXN0cmF0aW9uTmFtZTogJ29uTW91c2VFbnRlcicsXG4gICAgZGVwZW5kZW5jaWVzOiBbJ3RvcE1vdXNlT3V0JywgJ3RvcE1vdXNlT3ZlciddXG4gIH0sXG4gIG1vdXNlTGVhdmU6IHtcbiAgICByZWdpc3RyYXRpb25OYW1lOiAnb25Nb3VzZUxlYXZlJyxcbiAgICBkZXBlbmRlbmNpZXM6IFsndG9wTW91c2VPdXQnLCAndG9wTW91c2VPdmVyJ11cbiAgfVxufTtcblxudmFyIEVudGVyTGVhdmVFdmVudFBsdWdpbiA9IHtcbiAgZXZlbnRUeXBlczogZXZlbnRUeXBlcyQyLFxuXG4gIC8qKlxuICAgKiBGb3IgYWxtb3N0IGV2ZXJ5IGludGVyYWN0aW9uIHdlIGNhcmUgYWJvdXQsIHRoZXJlIHdpbGwgYmUgYm90aCBhIHRvcC1sZXZlbFxuICAgKiBgbW91c2VvdmVyYCBhbmQgYG1vdXNlb3V0YCBldmVudCB0aGF0IG9jY3Vycy4gT25seSB1c2UgYG1vdXNlb3V0YCBzbyB0aGF0XG4gICAqIHdlIGRvIG5vdCBleHRyYWN0IGR1cGxpY2F0ZSBldmVudHMuIEhvd2V2ZXIsIG1vdmluZyB0aGUgbW91c2UgaW50byB0aGVcbiAgICogYnJvd3NlciBmcm9tIG91dHNpZGUgd2lsbCBub3QgZmlyZSBhIGBtb3VzZW91dGAgZXZlbnQuIEluIHRoaXMgY2FzZSwgd2UgdXNlXG4gICAqIHRoZSBgbW91c2VvdmVyYCB0b3AtbGV2ZWwgZXZlbnQuXG4gICAqL1xuICBleHRyYWN0RXZlbnRzOiBmdW5jdGlvbiAodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICBpZiAodG9wTGV2ZWxUeXBlID09PSAndG9wTW91c2VPdmVyJyAmJiAobmF0aXZlRXZlbnQucmVsYXRlZFRhcmdldCB8fCBuYXRpdmVFdmVudC5mcm9tRWxlbWVudCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAodG9wTGV2ZWxUeXBlICE9PSAndG9wTW91c2VPdXQnICYmIHRvcExldmVsVHlwZSAhPT0gJ3RvcE1vdXNlT3ZlcicpIHtcbiAgICAgIC8vIE11c3Qgbm90IGJlIGEgbW91c2UgaW4gb3IgbW91c2Ugb3V0IC0gaWdub3JpbmcuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgd2luID0gdm9pZCAwO1xuICAgIGlmIChuYXRpdmVFdmVudFRhcmdldC53aW5kb3cgPT09IG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgICAvLyBgbmF0aXZlRXZlbnRUYXJnZXRgIGlzIHByb2JhYmx5IGEgd2luZG93IG9iamVjdC5cbiAgICAgIHdpbiA9IG5hdGl2ZUV2ZW50VGFyZ2V0O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUT0RPOiBGaWd1cmUgb3V0IHdoeSBgb3duZXJEb2N1bWVudGAgaXMgc29tZXRpbWVzIHVuZGVmaW5lZCBpbiBJRTguXG4gICAgICB2YXIgZG9jID0gbmF0aXZlRXZlbnRUYXJnZXQub3duZXJEb2N1bWVudDtcbiAgICAgIGlmIChkb2MpIHtcbiAgICAgICAgd2luID0gZG9jLmRlZmF1bHRWaWV3IHx8IGRvYy5wYXJlbnRXaW5kb3c7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW4gPSB3aW5kb3c7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGZyb20gPSB2b2lkIDA7XG4gICAgdmFyIHRvID0gdm9pZCAwO1xuICAgIGlmICh0b3BMZXZlbFR5cGUgPT09ICd0b3BNb3VzZU91dCcpIHtcbiAgICAgIGZyb20gPSB0YXJnZXRJbnN0O1xuICAgICAgdmFyIHJlbGF0ZWQgPSBuYXRpdmVFdmVudC5yZWxhdGVkVGFyZ2V0IHx8IG5hdGl2ZUV2ZW50LnRvRWxlbWVudDtcbiAgICAgIHRvID0gcmVsYXRlZCA/IGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKHJlbGF0ZWQpIDogbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTW92aW5nIHRvIGEgbm9kZSBmcm9tIG91dHNpZGUgdGhlIHdpbmRvdy5cbiAgICAgIGZyb20gPSBudWxsO1xuICAgICAgdG8gPSB0YXJnZXRJbnN0O1xuICAgIH1cblxuICAgIGlmIChmcm9tID09PSB0bykge1xuICAgICAgLy8gTm90aGluZyBwZXJ0YWlucyB0byBvdXIgbWFuYWdlZCBjb21wb25lbnRzLlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGZyb21Ob2RlID0gZnJvbSA9PSBudWxsID8gd2luIDogZ2V0Tm9kZUZyb21JbnN0YW5jZSQxKGZyb20pO1xuICAgIHZhciB0b05vZGUgPSB0byA9PSBudWxsID8gd2luIDogZ2V0Tm9kZUZyb21JbnN0YW5jZSQxKHRvKTtcblxuICAgIHZhciBsZWF2ZSA9IFN5bnRoZXRpY01vdXNlRXZlbnQuZ2V0UG9vbGVkKGV2ZW50VHlwZXMkMi5tb3VzZUxlYXZlLCBmcm9tLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgIGxlYXZlLnR5cGUgPSAnbW91c2VsZWF2ZSc7XG4gICAgbGVhdmUudGFyZ2V0ID0gZnJvbU5vZGU7XG4gICAgbGVhdmUucmVsYXRlZFRhcmdldCA9IHRvTm9kZTtcblxuICAgIHZhciBlbnRlciA9IFN5bnRoZXRpY01vdXNlRXZlbnQuZ2V0UG9vbGVkKGV2ZW50VHlwZXMkMi5tb3VzZUVudGVyLCB0bywgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgICBlbnRlci50eXBlID0gJ21vdXNlZW50ZXInO1xuICAgIGVudGVyLnRhcmdldCA9IHRvTm9kZTtcbiAgICBlbnRlci5yZWxhdGVkVGFyZ2V0ID0gZnJvbU5vZGU7XG5cbiAgICBhY2N1bXVsYXRlRW50ZXJMZWF2ZURpc3BhdGNoZXMobGVhdmUsIGVudGVyLCBmcm9tLCB0byk7XG5cbiAgICByZXR1cm4gW2xlYXZlLCBlbnRlcl07XG4gIH1cbn07XG5cbi8qKlxuICogYFJlYWN0SW5zdGFuY2VNYXBgIG1haW50YWlucyBhIG1hcHBpbmcgZnJvbSBhIHB1YmxpYyBmYWNpbmcgc3RhdGVmdWxcbiAqIGluc3RhbmNlIChrZXkpIGFuZCB0aGUgaW50ZXJuYWwgcmVwcmVzZW50YXRpb24gKHZhbHVlKS4gVGhpcyBhbGxvd3MgcHVibGljXG4gKiBtZXRob2RzIHRvIGFjY2VwdCB0aGUgdXNlciBmYWNpbmcgaW5zdGFuY2UgYXMgYW4gYXJndW1lbnQgYW5kIG1hcCB0aGVtIGJhY2tcbiAqIHRvIGludGVybmFsIG1ldGhvZHMuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgbW9kdWxlIGlzIGN1cnJlbnRseSBzaGFyZWQgYW5kIGFzc3VtZWQgdG8gYmUgc3RhdGVsZXNzLlxuICogSWYgdGhpcyBiZWNvbWVzIGFuIGFjdHVhbCBNYXAsIHRoYXQgd2lsbCBicmVhay5cbiAqL1xuXG4vKipcbiAqIFRoaXMgQVBJIHNob3VsZCBiZSBjYWxsZWQgYGRlbGV0ZWAgYnV0IHdlJ2QgaGF2ZSB0byBtYWtlIHN1cmUgdG8gYWx3YXlzXG4gKiB0cmFuc2Zvcm0gdGhlc2UgdG8gc3RyaW5ncyBmb3IgSUUgc3VwcG9ydC4gV2hlbiB0aGlzIHRyYW5zZm9ybSBpcyBmdWxseVxuICogc3VwcG9ydGVkIHdlIGNhbiByZW5hbWUgaXQuXG4gKi9cblxuXG5mdW5jdGlvbiBnZXQoa2V5KSB7XG4gIHJldHVybiBrZXkuX3JlYWN0SW50ZXJuYWxGaWJlcjtcbn1cblxuZnVuY3Rpb24gaGFzKGtleSkge1xuICByZXR1cm4ga2V5Ll9yZWFjdEludGVybmFsRmliZXIgIT09IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUpIHtcbiAga2V5Ll9yZWFjdEludGVybmFsRmliZXIgPSB2YWx1ZTtcbn1cblxuLy8gRG9uJ3QgY2hhbmdlIHRoZXNlIHR3byB2YWx1ZXMuIFRoZXkncmUgdXNlZCBieSBSZWFjdCBEZXYgVG9vbHMuXG52YXIgTm9FZmZlY3QgPSAvKiAgICAgICAgICAgICAgKi8wO1xudmFyIFBlcmZvcm1lZFdvcmsgPSAvKiAgICAgICAgICovMTtcblxuLy8gWW91IGNhbiBjaGFuZ2UgdGhlIHJlc3QgKGFuZCBhZGQgbW9yZSkuXG52YXIgUGxhY2VtZW50ID0gLyogICAgICAgICAgICAgKi8yO1xudmFyIFVwZGF0ZSA9IC8qICAgICAgICAgICAgICAgICovNDtcbnZhciBQbGFjZW1lbnRBbmRVcGRhdGUgPSAvKiAgICAqLzY7XG52YXIgRGVsZXRpb24gPSAvKiAgICAgICAgICAgICAgKi84O1xudmFyIENvbnRlbnRSZXNldCA9IC8qICAgICAgICAgICovMTY7XG52YXIgQ2FsbGJhY2sgPSAvKiAgICAgICAgICAgICAgKi8zMjtcbnZhciBEaWRDYXB0dXJlID0gLyogICAgICAgICAgICAqLzY0O1xudmFyIFJlZiA9IC8qICAgICAgICAgICAgICAgICAgICovMTI4O1xudmFyIEVyckxvZyA9IC8qICAgICAgICAgICAgICAgICovMjU2O1xudmFyIFNuYXBzaG90ID0gLyogICAgICAgICAgICAgICovMjA0ODtcblxuLy8gVW5pb24gb2YgYWxsIGhvc3QgZWZmZWN0c1xudmFyIEhvc3RFZmZlY3RNYXNrID0gLyogICAgICAgICovMjU1OTtcblxudmFyIEluY29tcGxldGUgPSAvKiAgICAgICAgICAgICovNTEyO1xudmFyIFNob3VsZENhcHR1cmUgPSAvKiAgICAgICAgICovMTAyNDtcblxudmFyIE1PVU5USU5HID0gMTtcbnZhciBNT1VOVEVEID0gMjtcbnZhciBVTk1PVU5URUQgPSAzO1xuXG5mdW5jdGlvbiBpc0ZpYmVyTW91bnRlZEltcGwoZmliZXIpIHtcbiAgdmFyIG5vZGUgPSBmaWJlcjtcbiAgaWYgKCFmaWJlci5hbHRlcm5hdGUpIHtcbiAgICAvLyBJZiB0aGVyZSBpcyBubyBhbHRlcm5hdGUsIHRoaXMgbWlnaHQgYmUgYSBuZXcgdHJlZSB0aGF0IGlzbid0IGluc2VydGVkXG4gICAgLy8geWV0LiBJZiBpdCBpcywgdGhlbiBpdCB3aWxsIGhhdmUgYSBwZW5kaW5nIGluc2VydGlvbiBlZmZlY3Qgb24gaXQuXG4gICAgaWYgKChub2RlLmVmZmVjdFRhZyAmIFBsYWNlbWVudCkgIT09IE5vRWZmZWN0KSB7XG4gICAgICByZXR1cm4gTU9VTlRJTkc7XG4gICAgfVxuICAgIHdoaWxlIChub2RlWydyZXR1cm4nXSkge1xuICAgICAgbm9kZSA9IG5vZGVbJ3JldHVybiddO1xuICAgICAgaWYgKChub2RlLmVmZmVjdFRhZyAmIFBsYWNlbWVudCkgIT09IE5vRWZmZWN0KSB7XG4gICAgICAgIHJldHVybiBNT1VOVElORztcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKG5vZGVbJ3JldHVybiddKSB7XG4gICAgICBub2RlID0gbm9kZVsncmV0dXJuJ107XG4gICAgfVxuICB9XG4gIGlmIChub2RlLnRhZyA9PT0gSG9zdFJvb3QpIHtcbiAgICAvLyBUT0RPOiBDaGVjayBpZiB0aGlzIHdhcyBhIG5lc3RlZCBIb3N0Um9vdCB3aGVuIHVzZWQgd2l0aFxuICAgIC8vIHJlbmRlckNvbnRhaW5lckludG9TdWJ0cmVlLlxuICAgIHJldHVybiBNT1VOVEVEO1xuICB9XG4gIC8vIElmIHdlIGRpZG4ndCBoaXQgdGhlIHJvb3QsIHRoYXQgbWVhbnMgdGhhdCB3ZSdyZSBpbiBhbiBkaXNjb25uZWN0ZWQgdHJlZVxuICAvLyB0aGF0IGhhcyBiZWVuIHVubW91bnRlZC5cbiAgcmV0dXJuIFVOTU9VTlRFRDtcbn1cblxuZnVuY3Rpb24gaXNGaWJlck1vdW50ZWQoZmliZXIpIHtcbiAgcmV0dXJuIGlzRmliZXJNb3VudGVkSW1wbChmaWJlcikgPT09IE1PVU5URUQ7XG59XG5cbmZ1bmN0aW9uIGlzTW91bnRlZChjb21wb25lbnQpIHtcbiAge1xuICAgIHZhciBvd25lciA9IFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQ7XG4gICAgaWYgKG93bmVyICE9PSBudWxsICYmIG93bmVyLnRhZyA9PT0gQ2xhc3NDb21wb25lbnQpIHtcbiAgICAgIHZhciBvd25lckZpYmVyID0gb3duZXI7XG4gICAgICB2YXIgaW5zdGFuY2UgPSBvd25lckZpYmVyLnN0YXRlTm9kZTtcbiAgICAgIHdhcm5pbmcoaW5zdGFuY2UuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyLCAnJXMgaXMgYWNjZXNzaW5nIGlzTW91bnRlZCBpbnNpZGUgaXRzIHJlbmRlcigpIGZ1bmN0aW9uLiAnICsgJ3JlbmRlcigpIHNob3VsZCBiZSBhIHB1cmUgZnVuY3Rpb24gb2YgcHJvcHMgYW5kIHN0YXRlLiBJdCBzaG91bGQgJyArICduZXZlciBhY2Nlc3Mgc29tZXRoaW5nIHRoYXQgcmVxdWlyZXMgc3RhbGUgZGF0YSBmcm9tIHRoZSBwcmV2aW91cyAnICsgJ3JlbmRlciwgc3VjaCBhcyByZWZzLiBNb3ZlIHRoaXMgbG9naWMgdG8gY29tcG9uZW50RGlkTW91bnQgYW5kICcgKyAnY29tcG9uZW50RGlkVXBkYXRlIGluc3RlYWQuJywgZ2V0Q29tcG9uZW50TmFtZShvd25lckZpYmVyKSB8fCAnQSBjb21wb25lbnQnKTtcbiAgICAgIGluc3RhbmNlLl93YXJuZWRBYm91dFJlZnNJblJlbmRlciA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgdmFyIGZpYmVyID0gZ2V0KGNvbXBvbmVudCk7XG4gIGlmICghZmliZXIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGlzRmliZXJNb3VudGVkSW1wbChmaWJlcikgPT09IE1PVU5URUQ7XG59XG5cbmZ1bmN0aW9uIGFzc2VydElzTW91bnRlZChmaWJlcikge1xuICAhKGlzRmliZXJNb3VudGVkSW1wbChmaWJlcikgPT09IE1PVU5URUQpID8gaW52YXJpYW50KGZhbHNlLCAnVW5hYmxlIHRvIGZpbmQgbm9kZSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LicpIDogdm9pZCAwO1xufVxuXG5mdW5jdGlvbiBmaW5kQ3VycmVudEZpYmVyVXNpbmdTbG93UGF0aChmaWJlcikge1xuICB2YXIgYWx0ZXJuYXRlID0gZmliZXIuYWx0ZXJuYXRlO1xuICBpZiAoIWFsdGVybmF0ZSkge1xuICAgIC8vIElmIHRoZXJlIGlzIG5vIGFsdGVybmF0ZSwgdGhlbiB3ZSBvbmx5IG5lZWQgdG8gY2hlY2sgaWYgaXQgaXMgbW91bnRlZC5cbiAgICB2YXIgc3RhdGUgPSBpc0ZpYmVyTW91bnRlZEltcGwoZmliZXIpO1xuICAgICEoc3RhdGUgIT09IFVOTU9VTlRFRCkgPyBpbnZhcmlhbnQoZmFsc2UsICdVbmFibGUgdG8gZmluZCBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuJykgOiB2b2lkIDA7XG4gICAgaWYgKHN0YXRlID09PSBNT1VOVElORykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBmaWJlcjtcbiAgfVxuICAvLyBJZiB3ZSBoYXZlIHR3byBwb3NzaWJsZSBicmFuY2hlcywgd2UnbGwgd2FsayBiYWNrd2FyZHMgdXAgdG8gdGhlIHJvb3RcbiAgLy8gdG8gc2VlIHdoYXQgcGF0aCB0aGUgcm9vdCBwb2ludHMgdG8uIE9uIHRoZSB3YXkgd2UgbWF5IGhpdCBvbmUgb2YgdGhlXG4gIC8vIHNwZWNpYWwgY2FzZXMgYW5kIHdlJ2xsIGRlYWwgd2l0aCB0aGVtLlxuICB2YXIgYSA9IGZpYmVyO1xuICB2YXIgYiA9IGFsdGVybmF0ZTtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICB2YXIgcGFyZW50QSA9IGFbJ3JldHVybiddO1xuICAgIHZhciBwYXJlbnRCID0gcGFyZW50QSA/IHBhcmVudEEuYWx0ZXJuYXRlIDogbnVsbDtcbiAgICBpZiAoIXBhcmVudEEgfHwgIXBhcmVudEIpIHtcbiAgICAgIC8vIFdlJ3JlIGF0IHRoZSByb290LlxuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgLy8gSWYgYm90aCBjb3BpZXMgb2YgdGhlIHBhcmVudCBmaWJlciBwb2ludCB0byB0aGUgc2FtZSBjaGlsZCwgd2UgY2FuXG4gICAgLy8gYXNzdW1lIHRoYXQgdGhlIGNoaWxkIGlzIGN1cnJlbnQuIFRoaXMgaGFwcGVucyB3aGVuIHdlIGJhaWxvdXQgb24gbG93XG4gICAgLy8gcHJpb3JpdHk6IHRoZSBiYWlsZWQgb3V0IGZpYmVyJ3MgY2hpbGQgcmV1c2VzIHRoZSBjdXJyZW50IGNoaWxkLlxuICAgIGlmIChwYXJlbnRBLmNoaWxkID09PSBwYXJlbnRCLmNoaWxkKSB7XG4gICAgICB2YXIgY2hpbGQgPSBwYXJlbnRBLmNoaWxkO1xuICAgICAgd2hpbGUgKGNoaWxkKSB7XG4gICAgICAgIGlmIChjaGlsZCA9PT0gYSkge1xuICAgICAgICAgIC8vIFdlJ3ZlIGRldGVybWluZWQgdGhhdCBBIGlzIHRoZSBjdXJyZW50IGJyYW5jaC5cbiAgICAgICAgICBhc3NlcnRJc01vdW50ZWQocGFyZW50QSk7XG4gICAgICAgICAgcmV0dXJuIGZpYmVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGlsZCA9PT0gYikge1xuICAgICAgICAgIC8vIFdlJ3ZlIGRldGVybWluZWQgdGhhdCBCIGlzIHRoZSBjdXJyZW50IGJyYW5jaC5cbiAgICAgICAgICBhc3NlcnRJc01vdW50ZWQocGFyZW50QSk7XG4gICAgICAgICAgcmV0dXJuIGFsdGVybmF0ZTtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZCA9IGNoaWxkLnNpYmxpbmc7XG4gICAgICB9XG4gICAgICAvLyBXZSBzaG91bGQgbmV2ZXIgaGF2ZSBhbiBhbHRlcm5hdGUgZm9yIGFueSBtb3VudGluZyBub2RlLiBTbyB0aGUgb25seVxuICAgICAgLy8gd2F5IHRoaXMgY291bGQgcG9zc2libHkgaGFwcGVuIGlzIGlmIHRoaXMgd2FzIHVubW91bnRlZCwgaWYgYXQgYWxsLlxuICAgICAgaW52YXJpYW50KGZhbHNlLCAnVW5hYmxlIHRvIGZpbmQgbm9kZSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LicpO1xuICAgIH1cblxuICAgIGlmIChhWydyZXR1cm4nXSAhPT0gYlsncmV0dXJuJ10pIHtcbiAgICAgIC8vIFRoZSByZXR1cm4gcG9pbnRlciBvZiBBIGFuZCB0aGUgcmV0dXJuIHBvaW50ZXIgb2YgQiBwb2ludCB0byBkaWZmZXJlbnRcbiAgICAgIC8vIGZpYmVycy4gV2UgYXNzdW1lIHRoYXQgcmV0dXJuIHBvaW50ZXJzIG5ldmVyIGNyaXNzLWNyb3NzLCBzbyBBIG11c3RcbiAgICAgIC8vIGJlbG9uZyB0byB0aGUgY2hpbGQgc2V0IG9mIEEucmV0dXJuLCBhbmQgQiBtdXN0IGJlbG9uZyB0byB0aGUgY2hpbGRcbiAgICAgIC8vIHNldCBvZiBCLnJldHVybi5cbiAgICAgIGEgPSBwYXJlbnRBO1xuICAgICAgYiA9IHBhcmVudEI7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoZSByZXR1cm4gcG9pbnRlcnMgcG9pbnQgdG8gdGhlIHNhbWUgZmliZXIuIFdlJ2xsIGhhdmUgdG8gdXNlIHRoZVxuICAgICAgLy8gZGVmYXVsdCwgc2xvdyBwYXRoOiBzY2FuIHRoZSBjaGlsZCBzZXRzIG9mIGVhY2ggcGFyZW50IGFsdGVybmF0ZSB0byBzZWVcbiAgICAgIC8vIHdoaWNoIGNoaWxkIGJlbG9uZ3MgdG8gd2hpY2ggc2V0LlxuICAgICAgLy9cbiAgICAgIC8vIFNlYXJjaCBwYXJlbnQgQSdzIGNoaWxkIHNldFxuICAgICAgdmFyIGRpZEZpbmRDaGlsZCA9IGZhbHNlO1xuICAgICAgdmFyIF9jaGlsZCA9IHBhcmVudEEuY2hpbGQ7XG4gICAgICB3aGlsZSAoX2NoaWxkKSB7XG4gICAgICAgIGlmIChfY2hpbGQgPT09IGEpIHtcbiAgICAgICAgICBkaWRGaW5kQ2hpbGQgPSB0cnVlO1xuICAgICAgICAgIGEgPSBwYXJlbnRBO1xuICAgICAgICAgIGIgPSBwYXJlbnRCO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfY2hpbGQgPT09IGIpIHtcbiAgICAgICAgICBkaWRGaW5kQ2hpbGQgPSB0cnVlO1xuICAgICAgICAgIGIgPSBwYXJlbnRBO1xuICAgICAgICAgIGEgPSBwYXJlbnRCO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIF9jaGlsZCA9IF9jaGlsZC5zaWJsaW5nO1xuICAgICAgfVxuICAgICAgaWYgKCFkaWRGaW5kQ2hpbGQpIHtcbiAgICAgICAgLy8gU2VhcmNoIHBhcmVudCBCJ3MgY2hpbGQgc2V0XG4gICAgICAgIF9jaGlsZCA9IHBhcmVudEIuY2hpbGQ7XG4gICAgICAgIHdoaWxlIChfY2hpbGQpIHtcbiAgICAgICAgICBpZiAoX2NoaWxkID09PSBhKSB7XG4gICAgICAgICAgICBkaWRGaW5kQ2hpbGQgPSB0cnVlO1xuICAgICAgICAgICAgYSA9IHBhcmVudEI7XG4gICAgICAgICAgICBiID0gcGFyZW50QTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoX2NoaWxkID09PSBiKSB7XG4gICAgICAgICAgICBkaWRGaW5kQ2hpbGQgPSB0cnVlO1xuICAgICAgICAgICAgYiA9IHBhcmVudEI7XG4gICAgICAgICAgICBhID0gcGFyZW50QTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBfY2hpbGQgPSBfY2hpbGQuc2libGluZztcbiAgICAgICAgfVxuICAgICAgICAhZGlkRmluZENoaWxkID8gaW52YXJpYW50KGZhbHNlLCAnQ2hpbGQgd2FzIG5vdCBmb3VuZCBpbiBlaXRoZXIgcGFyZW50IHNldC4gVGhpcyBpbmRpY2F0ZXMgYSBidWcgaW4gUmVhY3QgcmVsYXRlZCB0byB0aGUgcmV0dXJuIHBvaW50ZXIuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICAgICAgfVxuICAgIH1cblxuICAgICEoYS5hbHRlcm5hdGUgPT09IGIpID8gaW52YXJpYW50KGZhbHNlLCAnUmV0dXJuIGZpYmVycyBzaG91bGQgYWx3YXlzIGJlIGVhY2ggb3RoZXJzXFwnIGFsdGVybmF0ZXMuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gIH1cbiAgLy8gSWYgdGhlIHJvb3QgaXMgbm90IGEgaG9zdCBjb250YWluZXIsIHdlJ3JlIGluIGEgZGlzY29ubmVjdGVkIHRyZWUuIEkuZS5cbiAgLy8gdW5tb3VudGVkLlxuICAhKGEudGFnID09PSBIb3N0Um9vdCkgPyBpbnZhcmlhbnQoZmFsc2UsICdVbmFibGUgdG8gZmluZCBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuJykgOiB2b2lkIDA7XG4gIGlmIChhLnN0YXRlTm9kZS5jdXJyZW50ID09PSBhKSB7XG4gICAgLy8gV2UndmUgZGV0ZXJtaW5lZCB0aGF0IEEgaXMgdGhlIGN1cnJlbnQgYnJhbmNoLlxuICAgIHJldHVybiBmaWJlcjtcbiAgfVxuICAvLyBPdGhlcndpc2UgQiBoYXMgdG8gYmUgY3VycmVudCBicmFuY2guXG4gIHJldHVybiBhbHRlcm5hdGU7XG59XG5cbmZ1bmN0aW9uIGZpbmRDdXJyZW50SG9zdEZpYmVyKHBhcmVudCkge1xuICB2YXIgY3VycmVudFBhcmVudCA9IGZpbmRDdXJyZW50RmliZXJVc2luZ1Nsb3dQYXRoKHBhcmVudCk7XG4gIGlmICghY3VycmVudFBhcmVudCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gTmV4dCB3ZSdsbCBkcmlsbCBkb3duIHRoaXMgY29tcG9uZW50IHRvIGZpbmQgdGhlIGZpcnN0IEhvc3RDb21wb25lbnQvVGV4dC5cbiAgdmFyIG5vZGUgPSBjdXJyZW50UGFyZW50O1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIGlmIChub2RlLnRhZyA9PT0gSG9zdENvbXBvbmVudCB8fCBub2RlLnRhZyA9PT0gSG9zdFRleHQpIHtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH0gZWxzZSBpZiAobm9kZS5jaGlsZCkge1xuICAgICAgbm9kZS5jaGlsZFsncmV0dXJuJ10gPSBub2RlO1xuICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG5vZGUgPT09IGN1cnJlbnRQYXJlbnQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB3aGlsZSAoIW5vZGUuc2libGluZykge1xuICAgICAgaWYgKCFub2RlWydyZXR1cm4nXSB8fCBub2RlWydyZXR1cm4nXSA9PT0gY3VycmVudFBhcmVudCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIG5vZGUgPSBub2RlWydyZXR1cm4nXTtcbiAgICB9XG4gICAgbm9kZS5zaWJsaW5nWydyZXR1cm4nXSA9IG5vZGVbJ3JldHVybiddO1xuICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gIH1cbiAgLy8gRmxvdyBuZWVkcyB0aGUgcmV0dXJuIG51bGwgaGVyZSwgYnV0IEVTTGludCBjb21wbGFpbnMgYWJvdXQgaXQuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnJlYWNoYWJsZVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZmluZEN1cnJlbnRIb3N0RmliZXJXaXRoTm9Qb3J0YWxzKHBhcmVudCkge1xuICB2YXIgY3VycmVudFBhcmVudCA9IGZpbmRDdXJyZW50RmliZXJVc2luZ1Nsb3dQYXRoKHBhcmVudCk7XG4gIGlmICghY3VycmVudFBhcmVudCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gTmV4dCB3ZSdsbCBkcmlsbCBkb3duIHRoaXMgY29tcG9uZW50IHRvIGZpbmQgdGhlIGZpcnN0IEhvc3RDb21wb25lbnQvVGV4dC5cbiAgdmFyIG5vZGUgPSBjdXJyZW50UGFyZW50O1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIGlmIChub2RlLnRhZyA9PT0gSG9zdENvbXBvbmVudCB8fCBub2RlLnRhZyA9PT0gSG9zdFRleHQpIHtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH0gZWxzZSBpZiAobm9kZS5jaGlsZCAmJiBub2RlLnRhZyAhPT0gSG9zdFBvcnRhbCkge1xuICAgICAgbm9kZS5jaGlsZFsncmV0dXJuJ10gPSBub2RlO1xuICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG5vZGUgPT09IGN1cnJlbnRQYXJlbnQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB3aGlsZSAoIW5vZGUuc2libGluZykge1xuICAgICAgaWYgKCFub2RlWydyZXR1cm4nXSB8fCBub2RlWydyZXR1cm4nXSA9PT0gY3VycmVudFBhcmVudCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIG5vZGUgPSBub2RlWydyZXR1cm4nXTtcbiAgICB9XG4gICAgbm9kZS5zaWJsaW5nWydyZXR1cm4nXSA9IG5vZGVbJ3JldHVybiddO1xuICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gIH1cbiAgLy8gRmxvdyBuZWVkcyB0aGUgcmV0dXJuIG51bGwgaGVyZSwgYnV0IEVTTGludCBjb21wbGFpbnMgYWJvdXQgaXQuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnJlYWNoYWJsZVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gYWRkRXZlbnRCdWJibGVMaXN0ZW5lcihlbGVtZW50LCBldmVudFR5cGUsIGxpc3RlbmVyKSB7XG4gIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGxpc3RlbmVyLCBmYWxzZSk7XG59XG5cbmZ1bmN0aW9uIGFkZEV2ZW50Q2FwdHVyZUxpc3RlbmVyKGVsZW1lbnQsIGV2ZW50VHlwZSwgbGlzdGVuZXIpIHtcbiAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgbGlzdGVuZXIsIHRydWUpO1xufVxuXG4vKipcbiAqIEBpbnRlcmZhY2UgRXZlbnRcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1hbmltYXRpb25zLyNBbmltYXRpb25FdmVudC1pbnRlcmZhY2VcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0FuaW1hdGlvbkV2ZW50XG4gKi9cbnZhciBTeW50aGV0aWNBbmltYXRpb25FdmVudCA9IFN5bnRoZXRpY0V2ZW50JDEuZXh0ZW5kKHtcbiAgYW5pbWF0aW9uTmFtZTogbnVsbCxcbiAgZWxhcHNlZFRpbWU6IG51bGwsXG4gIHBzZXVkb0VsZW1lbnQ6IG51bGxcbn0pO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgRXZlbnRcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvY2xpcGJvYXJkLWFwaXMvXG4gKi9cbnZhciBTeW50aGV0aWNDbGlwYm9hcmRFdmVudCA9IFN5bnRoZXRpY0V2ZW50JDEuZXh0ZW5kKHtcbiAgY2xpcGJvYXJkRGF0YTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgcmV0dXJuICdjbGlwYm9hcmREYXRhJyBpbiBldmVudCA/IGV2ZW50LmNsaXBib2FyZERhdGEgOiB3aW5kb3cuY2xpcGJvYXJkRGF0YTtcbiAgfVxufSk7XG5cbi8qKlxuICogQGludGVyZmFjZSBGb2N1c0V2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy9cbiAqL1xudmFyIFN5bnRoZXRpY0ZvY3VzRXZlbnQgPSBTeW50aGV0aWNVSUV2ZW50LmV4dGVuZCh7XG4gIHJlbGF0ZWRUYXJnZXQ6IG51bGxcbn0pO1xuXG4vKipcbiAqIGBjaGFyQ29kZWAgcmVwcmVzZW50cyB0aGUgYWN0dWFsIFwiY2hhcmFjdGVyIGNvZGVcIiBhbmQgaXMgc2FmZSB0byB1c2Ugd2l0aFxuICogYFN0cmluZy5mcm9tQ2hhckNvZGVgLiBBcyBzdWNoLCBvbmx5IGtleXMgdGhhdCBjb3JyZXNwb25kIHRvIHByaW50YWJsZVxuICogY2hhcmFjdGVycyBwcm9kdWNlIGEgdmFsaWQgYGNoYXJDb2RlYCwgdGhlIG9ubHkgZXhjZXB0aW9uIHRvIHRoaXMgaXMgRW50ZXIuXG4gKiBUaGUgVGFiLWtleSBpcyBjb25zaWRlcmVkIG5vbi1wcmludGFibGUgYW5kIGRvZXMgbm90IGhhdmUgYSBgY2hhckNvZGVgLFxuICogcHJlc3VtYWJseSBiZWNhdXNlIGl0IGRvZXMgbm90IHByb2R1Y2UgYSB0YWItY2hhcmFjdGVyIGluIGJyb3dzZXJzLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudCBOYXRpdmUgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge251bWJlcn0gTm9ybWFsaXplZCBgY2hhckNvZGVgIHByb3BlcnR5LlxuICovXG5mdW5jdGlvbiBnZXRFdmVudENoYXJDb2RlKG5hdGl2ZUV2ZW50KSB7XG4gIHZhciBjaGFyQ29kZSA9IHZvaWQgMDtcbiAgdmFyIGtleUNvZGUgPSBuYXRpdmVFdmVudC5rZXlDb2RlO1xuXG4gIGlmICgnY2hhckNvZGUnIGluIG5hdGl2ZUV2ZW50KSB7XG4gICAgY2hhckNvZGUgPSBuYXRpdmVFdmVudC5jaGFyQ29kZTtcblxuICAgIC8vIEZGIGRvZXMgbm90IHNldCBgY2hhckNvZGVgIGZvciB0aGUgRW50ZXIta2V5LCBjaGVjayBhZ2FpbnN0IGBrZXlDb2RlYC5cbiAgICBpZiAoY2hhckNvZGUgPT09IDAgJiYga2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgIGNoYXJDb2RlID0gMTM7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIElFOCBkb2VzIG5vdCBpbXBsZW1lbnQgYGNoYXJDb2RlYCwgYnV0IGBrZXlDb2RlYCBoYXMgdGhlIGNvcnJlY3QgdmFsdWUuXG4gICAgY2hhckNvZGUgPSBrZXlDb2RlO1xuICB9XG5cbiAgLy8gSUUgYW5kIEVkZ2UgKG9uIFdpbmRvd3MpIGFuZCBDaHJvbWUgLyBTYWZhcmkgKG9uIFdpbmRvd3MgYW5kIExpbnV4KVxuICAvLyByZXBvcnQgRW50ZXIgYXMgY2hhckNvZGUgMTAgd2hlbiBjdHJsIGlzIHByZXNzZWQuXG4gIGlmIChjaGFyQ29kZSA9PT0gMTApIHtcbiAgICBjaGFyQ29kZSA9IDEzO1xuICB9XG5cbiAgLy8gU29tZSBub24tcHJpbnRhYmxlIGtleXMgYXJlIHJlcG9ydGVkIGluIGBjaGFyQ29kZWAvYGtleUNvZGVgLCBkaXNjYXJkIHRoZW0uXG4gIC8vIE11c3Qgbm90IGRpc2NhcmQgdGhlIChub24tKXByaW50YWJsZSBFbnRlci1rZXkuXG4gIGlmIChjaGFyQ29kZSA+PSAzMiB8fCBjaGFyQ29kZSA9PT0gMTMpIHtcbiAgICByZXR1cm4gY2hhckNvZGU7XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuLyoqXG4gKiBOb3JtYWxpemF0aW9uIG9mIGRlcHJlY2F0ZWQgSFRNTDUgYGtleWAgdmFsdWVzXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9LZXlib2FyZEV2ZW50I0tleV9uYW1lc1xuICovXG52YXIgbm9ybWFsaXplS2V5ID0ge1xuICBFc2M6ICdFc2NhcGUnLFxuICBTcGFjZWJhcjogJyAnLFxuICBMZWZ0OiAnQXJyb3dMZWZ0JyxcbiAgVXA6ICdBcnJvd1VwJyxcbiAgUmlnaHQ6ICdBcnJvd1JpZ2h0JyxcbiAgRG93bjogJ0Fycm93RG93bicsXG4gIERlbDogJ0RlbGV0ZScsXG4gIFdpbjogJ09TJyxcbiAgTWVudTogJ0NvbnRleHRNZW51JyxcbiAgQXBwczogJ0NvbnRleHRNZW51JyxcbiAgU2Nyb2xsOiAnU2Nyb2xsTG9jaycsXG4gIE1velByaW50YWJsZUtleTogJ1VuaWRlbnRpZmllZCdcbn07XG5cbi8qKlxuICogVHJhbnNsYXRpb24gZnJvbSBsZWdhY3kgYGtleUNvZGVgIHRvIEhUTUw1IGBrZXlgXG4gKiBPbmx5IHNwZWNpYWwga2V5cyBzdXBwb3J0ZWQsIGFsbCBvdGhlcnMgZGVwZW5kIG9uIGtleWJvYXJkIGxheW91dCBvciBicm93c2VyXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9LZXlib2FyZEV2ZW50I0tleV9uYW1lc1xuICovXG52YXIgdHJhbnNsYXRlVG9LZXkgPSB7XG4gICc4JzogJ0JhY2tzcGFjZScsXG4gICc5JzogJ1RhYicsXG4gICcxMic6ICdDbGVhcicsXG4gICcxMyc6ICdFbnRlcicsXG4gICcxNic6ICdTaGlmdCcsXG4gICcxNyc6ICdDb250cm9sJyxcbiAgJzE4JzogJ0FsdCcsXG4gICcxOSc6ICdQYXVzZScsXG4gICcyMCc6ICdDYXBzTG9jaycsXG4gICcyNyc6ICdFc2NhcGUnLFxuICAnMzInOiAnICcsXG4gICczMyc6ICdQYWdlVXAnLFxuICAnMzQnOiAnUGFnZURvd24nLFxuICAnMzUnOiAnRW5kJyxcbiAgJzM2JzogJ0hvbWUnLFxuICAnMzcnOiAnQXJyb3dMZWZ0JyxcbiAgJzM4JzogJ0Fycm93VXAnLFxuICAnMzknOiAnQXJyb3dSaWdodCcsXG4gICc0MCc6ICdBcnJvd0Rvd24nLFxuICAnNDUnOiAnSW5zZXJ0JyxcbiAgJzQ2JzogJ0RlbGV0ZScsXG4gICcxMTInOiAnRjEnLFxuICAnMTEzJzogJ0YyJyxcbiAgJzExNCc6ICdGMycsXG4gICcxMTUnOiAnRjQnLFxuICAnMTE2JzogJ0Y1JyxcbiAgJzExNyc6ICdGNicsXG4gICcxMTgnOiAnRjcnLFxuICAnMTE5JzogJ0Y4JyxcbiAgJzEyMCc6ICdGOScsXG4gICcxMjEnOiAnRjEwJyxcbiAgJzEyMic6ICdGMTEnLFxuICAnMTIzJzogJ0YxMicsXG4gICcxNDQnOiAnTnVtTG9jaycsXG4gICcxNDUnOiAnU2Nyb2xsTG9jaycsXG4gICcyMjQnOiAnTWV0YSdcbn07XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICogQHJldHVybiB7c3RyaW5nfSBOb3JtYWxpemVkIGBrZXlgIHByb3BlcnR5LlxuICovXG5mdW5jdGlvbiBnZXRFdmVudEtleShuYXRpdmVFdmVudCkge1xuICBpZiAobmF0aXZlRXZlbnQua2V5KSB7XG4gICAgLy8gTm9ybWFsaXplIGluY29uc2lzdGVudCB2YWx1ZXMgcmVwb3J0ZWQgYnkgYnJvd3NlcnMgZHVlIHRvXG4gICAgLy8gaW1wbGVtZW50YXRpb25zIG9mIGEgd29ya2luZyBkcmFmdCBzcGVjaWZpY2F0aW9uLlxuXG4gICAgLy8gRmlyZUZveCBpbXBsZW1lbnRzIGBrZXlgIGJ1dCByZXR1cm5zIGBNb3pQcmludGFibGVLZXlgIGZvciBhbGxcbiAgICAvLyBwcmludGFibGUgY2hhcmFjdGVycyAobm9ybWFsaXplZCB0byBgVW5pZGVudGlmaWVkYCksIGlnbm9yZSBpdC5cbiAgICB2YXIga2V5ID0gbm9ybWFsaXplS2V5W25hdGl2ZUV2ZW50LmtleV0gfHwgbmF0aXZlRXZlbnQua2V5O1xuICAgIGlmIChrZXkgIT09ICdVbmlkZW50aWZpZWQnKSB7XG4gICAgICByZXR1cm4ga2V5O1xuICAgIH1cbiAgfVxuXG4gIC8vIEJyb3dzZXIgZG9lcyBub3QgaW1wbGVtZW50IGBrZXlgLCBwb2x5ZmlsbCBhcyBtdWNoIG9mIGl0IGFzIHdlIGNhbi5cbiAgaWYgKG5hdGl2ZUV2ZW50LnR5cGUgPT09ICdrZXlwcmVzcycpIHtcbiAgICB2YXIgY2hhckNvZGUgPSBnZXRFdmVudENoYXJDb2RlKG5hdGl2ZUV2ZW50KTtcblxuICAgIC8vIFRoZSBlbnRlci1rZXkgaXMgdGVjaG5pY2FsbHkgYm90aCBwcmludGFibGUgYW5kIG5vbi1wcmludGFibGUgYW5kIGNhblxuICAgIC8vIHRodXMgYmUgY2FwdHVyZWQgYnkgYGtleXByZXNzYCwgbm8gb3RoZXIgbm9uLXByaW50YWJsZSBrZXkgc2hvdWxkLlxuICAgIHJldHVybiBjaGFyQ29kZSA9PT0gMTMgPyAnRW50ZXInIDogU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyQ29kZSk7XG4gIH1cbiAgaWYgKG5hdGl2ZUV2ZW50LnR5cGUgPT09ICdrZXlkb3duJyB8fCBuYXRpdmVFdmVudC50eXBlID09PSAna2V5dXAnKSB7XG4gICAgLy8gV2hpbGUgdXNlciBrZXlib2FyZCBsYXlvdXQgZGV0ZXJtaW5lcyB0aGUgYWN0dWFsIG1lYW5pbmcgb2YgZWFjaFxuICAgIC8vIGBrZXlDb2RlYCB2YWx1ZSwgYWxtb3N0IGFsbCBmdW5jdGlvbiBrZXlzIGhhdmUgYSB1bml2ZXJzYWwgdmFsdWUuXG4gICAgcmV0dXJuIHRyYW5zbGF0ZVRvS2V5W25hdGl2ZUV2ZW50LmtleUNvZGVdIHx8ICdVbmlkZW50aWZpZWQnO1xuICB9XG4gIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBAaW50ZXJmYWNlIEtleWJvYXJkRXZlbnRcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzL1xuICovXG52YXIgU3ludGhldGljS2V5Ym9hcmRFdmVudCA9IFN5bnRoZXRpY1VJRXZlbnQuZXh0ZW5kKHtcbiAga2V5OiBnZXRFdmVudEtleSxcbiAgbG9jYXRpb246IG51bGwsXG4gIGN0cmxLZXk6IG51bGwsXG4gIHNoaWZ0S2V5OiBudWxsLFxuICBhbHRLZXk6IG51bGwsXG4gIG1ldGFLZXk6IG51bGwsXG4gIHJlcGVhdDogbnVsbCxcbiAgbG9jYWxlOiBudWxsLFxuICBnZXRNb2RpZmllclN0YXRlOiBnZXRFdmVudE1vZGlmaWVyU3RhdGUsXG4gIC8vIExlZ2FjeSBJbnRlcmZhY2VcbiAgY2hhckNvZGU6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIC8vIGBjaGFyQ29kZWAgaXMgdGhlIHJlc3VsdCBvZiBhIEtleVByZXNzIGV2ZW50IGFuZCByZXByZXNlbnRzIHRoZSB2YWx1ZSBvZlxuICAgIC8vIHRoZSBhY3R1YWwgcHJpbnRhYmxlIGNoYXJhY3Rlci5cblxuICAgIC8vIEtleVByZXNzIGlzIGRlcHJlY2F0ZWQsIGJ1dCBpdHMgcmVwbGFjZW1lbnQgaXMgbm90IHlldCBmaW5hbCBhbmQgbm90XG4gICAgLy8gaW1wbGVtZW50ZWQgaW4gYW55IG1ham9yIGJyb3dzZXIuIE9ubHkgS2V5UHJlc3MgaGFzIGNoYXJDb2RlLlxuICAgIGlmIChldmVudC50eXBlID09PSAna2V5cHJlc3MnKSB7XG4gICAgICByZXR1cm4gZ2V0RXZlbnRDaGFyQ29kZShldmVudCk7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9LFxuICBrZXlDb2RlOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAvLyBga2V5Q29kZWAgaXMgdGhlIHJlc3VsdCBvZiBhIEtleURvd24vVXAgZXZlbnQgYW5kIHJlcHJlc2VudHMgdGhlIHZhbHVlIG9mXG4gICAgLy8gcGh5c2ljYWwga2V5Ym9hcmQga2V5LlxuXG4gICAgLy8gVGhlIGFjdHVhbCBtZWFuaW5nIG9mIHRoZSB2YWx1ZSBkZXBlbmRzIG9uIHRoZSB1c2Vycycga2V5Ym9hcmQgbGF5b3V0XG4gICAgLy8gd2hpY2ggY2Fubm90IGJlIGRldGVjdGVkLiBBc3N1bWluZyB0aGF0IGl0IGlzIGEgVVMga2V5Ym9hcmQgbGF5b3V0XG4gICAgLy8gcHJvdmlkZXMgYSBzdXJwcmlzaW5nbHkgYWNjdXJhdGUgbWFwcGluZyBmb3IgVVMgYW5kIEV1cm9wZWFuIHVzZXJzLlxuICAgIC8vIER1ZSB0byB0aGlzLCBpdCBpcyBsZWZ0IHRvIHRoZSB1c2VyIHRvIGltcGxlbWVudCBhdCB0aGlzIHRpbWUuXG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdrZXlkb3duJyB8fCBldmVudC50eXBlID09PSAna2V5dXAnKSB7XG4gICAgICByZXR1cm4gZXZlbnQua2V5Q29kZTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH0sXG4gIHdoaWNoOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAvLyBgd2hpY2hgIGlzIGFuIGFsaWFzIGZvciBlaXRoZXIgYGtleUNvZGVgIG9yIGBjaGFyQ29kZWAgZGVwZW5kaW5nIG9uIHRoZVxuICAgIC8vIHR5cGUgb2YgdGhlIGV2ZW50LlxuICAgIGlmIChldmVudC50eXBlID09PSAna2V5cHJlc3MnKSB7XG4gICAgICByZXR1cm4gZ2V0RXZlbnRDaGFyQ29kZShldmVudCk7XG4gICAgfVxuICAgIGlmIChldmVudC50eXBlID09PSAna2V5ZG93bicgfHwgZXZlbnQudHlwZSA9PT0gJ2tleXVwJykge1xuICAgICAgcmV0dXJuIGV2ZW50LmtleUNvZGU7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG59KTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIERyYWdFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvXG4gKi9cbnZhciBTeW50aGV0aWNEcmFnRXZlbnQgPSBTeW50aGV0aWNNb3VzZUV2ZW50LmV4dGVuZCh7XG4gIGRhdGFUcmFuc2ZlcjogbnVsbFxufSk7XG5cbi8qKlxuICogQGludGVyZmFjZSBUb3VjaEV2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL3RvdWNoLWV2ZW50cy9cbiAqL1xudmFyIFN5bnRoZXRpY1RvdWNoRXZlbnQgPSBTeW50aGV0aWNVSUV2ZW50LmV4dGVuZCh7XG4gIHRvdWNoZXM6IG51bGwsXG4gIHRhcmdldFRvdWNoZXM6IG51bGwsXG4gIGNoYW5nZWRUb3VjaGVzOiBudWxsLFxuICBhbHRLZXk6IG51bGwsXG4gIG1ldGFLZXk6IG51bGwsXG4gIGN0cmxLZXk6IG51bGwsXG4gIHNoaWZ0S2V5OiBudWxsLFxuICBnZXRNb2RpZmllclN0YXRlOiBnZXRFdmVudE1vZGlmaWVyU3RhdGVcbn0pO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgRXZlbnRcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvMjAwOS9XRC1jc3MzLXRyYW5zaXRpb25zLTIwMDkwMzIwLyN0cmFuc2l0aW9uLWV2ZW50cy1cbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RyYW5zaXRpb25FdmVudFxuICovXG52YXIgU3ludGhldGljVHJhbnNpdGlvbkV2ZW50ID0gU3ludGhldGljRXZlbnQkMS5leHRlbmQoe1xuICBwcm9wZXJ0eU5hbWU6IG51bGwsXG4gIGVsYXBzZWRUaW1lOiBudWxsLFxuICBwc2V1ZG9FbGVtZW50OiBudWxsXG59KTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIFdoZWVsRXZlbnRcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzL1xuICovXG52YXIgU3ludGhldGljV2hlZWxFdmVudCA9IFN5bnRoZXRpY01vdXNlRXZlbnQuZXh0ZW5kKHtcbiAgZGVsdGFYOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gJ2RlbHRhWCcgaW4gZXZlbnQgPyBldmVudC5kZWx0YVggOiAvLyBGYWxsYmFjayB0byBgd2hlZWxEZWx0YVhgIGZvciBXZWJraXQgYW5kIG5vcm1hbGl6ZSAocmlnaHQgaXMgcG9zaXRpdmUpLlxuICAgICd3aGVlbERlbHRhWCcgaW4gZXZlbnQgPyAtZXZlbnQud2hlZWxEZWx0YVggOiAwO1xuICB9LFxuICBkZWx0YVk6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHJldHVybiAnZGVsdGFZJyBpbiBldmVudCA/IGV2ZW50LmRlbHRhWSA6IC8vIEZhbGxiYWNrIHRvIGB3aGVlbERlbHRhWWAgZm9yIFdlYmtpdCBhbmQgbm9ybWFsaXplIChkb3duIGlzIHBvc2l0aXZlKS5cbiAgICAnd2hlZWxEZWx0YVknIGluIGV2ZW50ID8gLWV2ZW50LndoZWVsRGVsdGFZIDogLy8gRmFsbGJhY2sgdG8gYHdoZWVsRGVsdGFgIGZvciBJRTw5IGFuZCBub3JtYWxpemUgKGRvd24gaXMgcG9zaXRpdmUpLlxuICAgICd3aGVlbERlbHRhJyBpbiBldmVudCA/IC1ldmVudC53aGVlbERlbHRhIDogMDtcbiAgfSxcblxuICBkZWx0YVo6IG51bGwsXG5cbiAgLy8gQnJvd3NlcnMgd2l0aG91dCBcImRlbHRhTW9kZVwiIGlzIHJlcG9ydGluZyBpbiByYXcgd2hlZWwgZGVsdGEgd2hlcmUgb25lXG4gIC8vIG5vdGNoIG9uIHRoZSBzY3JvbGwgaXMgYWx3YXlzICsvLSAxMjAsIHJvdWdobHkgZXF1aXZhbGVudCB0byBwaXhlbHMuXG4gIC8vIEEgZ29vZCBhcHByb3hpbWF0aW9uIG9mIERPTV9ERUxUQV9MSU5FICgxKSBpcyA1JSBvZiB2aWV3cG9ydCBzaXplIG9yXG4gIC8vIH40MCBwaXhlbHMsIGZvciBET01fREVMVEFfU0NSRUVOICgyKSBpdCBpcyA4Ny41JSBvZiB2aWV3cG9ydCBzaXplLlxuICBkZWx0YU1vZGU6IG51bGxcbn0pO1xuXG4vKipcbiAqIFR1cm5zXG4gKiBbJ2Fib3J0JywgLi4uXVxuICogaW50b1xuICogZXZlbnRUeXBlcyA9IHtcbiAqICAgJ2Fib3J0Jzoge1xuICogICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gKiAgICAgICBidWJibGVkOiAnb25BYm9ydCcsXG4gKiAgICAgICBjYXB0dXJlZDogJ29uQWJvcnRDYXB0dXJlJyxcbiAqICAgICB9LFxuICogICAgIGRlcGVuZGVuY2llczogWyd0b3BBYm9ydCddLFxuICogICB9LFxuICogICAuLi5cbiAqIH07XG4gKiB0b3BMZXZlbEV2ZW50c1RvRGlzcGF0Y2hDb25maWcgPSB7XG4gKiAgICd0b3BBYm9ydCc6IHsgc2FtZUNvbmZpZyB9XG4gKiB9O1xuICovXG52YXIgaW50ZXJhY3RpdmVFdmVudFR5cGVOYW1lcyA9IFsnYmx1cicsICdjYW5jZWwnLCAnY2xpY2snLCAnY2xvc2UnLCAnY29udGV4dE1lbnUnLCAnY29weScsICdjdXQnLCAnZG91YmxlQ2xpY2snLCAnZHJhZ0VuZCcsICdkcmFnU3RhcnQnLCAnZHJvcCcsICdmb2N1cycsICdpbnB1dCcsICdpbnZhbGlkJywgJ2tleURvd24nLCAna2V5UHJlc3MnLCAna2V5VXAnLCAnbW91c2VEb3duJywgJ21vdXNlVXAnLCAncGFzdGUnLCAncGF1c2UnLCAncGxheScsICdyYXRlQ2hhbmdlJywgJ3Jlc2V0JywgJ3NlZWtlZCcsICdzdWJtaXQnLCAndG91Y2hDYW5jZWwnLCAndG91Y2hFbmQnLCAndG91Y2hTdGFydCcsICd2b2x1bWVDaGFuZ2UnXTtcbnZhciBub25JbnRlcmFjdGl2ZUV2ZW50VHlwZU5hbWVzID0gWydhYm9ydCcsICdhbmltYXRpb25FbmQnLCAnYW5pbWF0aW9uSXRlcmF0aW9uJywgJ2FuaW1hdGlvblN0YXJ0JywgJ2NhblBsYXknLCAnY2FuUGxheVRocm91Z2gnLCAnZHJhZycsICdkcmFnRW50ZXInLCAnZHJhZ0V4aXQnLCAnZHJhZ0xlYXZlJywgJ2RyYWdPdmVyJywgJ2R1cmF0aW9uQ2hhbmdlJywgJ2VtcHRpZWQnLCAnZW5jcnlwdGVkJywgJ2VuZGVkJywgJ2Vycm9yJywgJ2xvYWQnLCAnbG9hZGVkRGF0YScsICdsb2FkZWRNZXRhZGF0YScsICdsb2FkU3RhcnQnLCAnbW91c2VNb3ZlJywgJ21vdXNlT3V0JywgJ21vdXNlT3ZlcicsICdwbGF5aW5nJywgJ3Byb2dyZXNzJywgJ3Njcm9sbCcsICdzZWVraW5nJywgJ3N0YWxsZWQnLCAnc3VzcGVuZCcsICd0aW1lVXBkYXRlJywgJ3RvZ2dsZScsICd0b3VjaE1vdmUnLCAndHJhbnNpdGlvbkVuZCcsICd3YWl0aW5nJywgJ3doZWVsJ107XG5cbnZhciBldmVudFR5cGVzJDQgPSB7fTtcbnZhciB0b3BMZXZlbEV2ZW50c1RvRGlzcGF0Y2hDb25maWcgPSB7fTtcblxuZnVuY3Rpb24gYWRkRXZlbnRUeXBlTmFtZVRvQ29uZmlnKGV2ZW50LCBpc0ludGVyYWN0aXZlKSB7XG4gIHZhciBjYXBpdGFsaXplZEV2ZW50ID0gZXZlbnRbMF0udG9VcHBlckNhc2UoKSArIGV2ZW50LnNsaWNlKDEpO1xuICB2YXIgb25FdmVudCA9ICdvbicgKyBjYXBpdGFsaXplZEV2ZW50O1xuICB2YXIgdG9wRXZlbnQgPSAndG9wJyArIGNhcGl0YWxpemVkRXZlbnQ7XG5cbiAgdmFyIHR5cGUgPSB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IG9uRXZlbnQsXG4gICAgICBjYXB0dXJlZDogb25FdmVudCArICdDYXB0dXJlJ1xuICAgIH0sXG4gICAgZGVwZW5kZW5jaWVzOiBbdG9wRXZlbnRdLFxuICAgIGlzSW50ZXJhY3RpdmU6IGlzSW50ZXJhY3RpdmVcbiAgfTtcbiAgZXZlbnRUeXBlcyQ0W2V2ZW50XSA9IHR5cGU7XG4gIHRvcExldmVsRXZlbnRzVG9EaXNwYXRjaENvbmZpZ1t0b3BFdmVudF0gPSB0eXBlO1xufVxuXG5pbnRlcmFjdGl2ZUV2ZW50VHlwZU5hbWVzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50VHlwZU5hbWUpIHtcbiAgYWRkRXZlbnRUeXBlTmFtZVRvQ29uZmlnKGV2ZW50VHlwZU5hbWUsIHRydWUpO1xufSk7XG5ub25JbnRlcmFjdGl2ZUV2ZW50VHlwZU5hbWVzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50VHlwZU5hbWUpIHtcbiAgYWRkRXZlbnRUeXBlTmFtZVRvQ29uZmlnKGV2ZW50VHlwZU5hbWUsIGZhbHNlKTtcbn0pO1xuXG4vLyBPbmx5IHVzZWQgaW4gREVWIGZvciBleGhhdXN0aXZlbmVzcyB2YWxpZGF0aW9uLlxudmFyIGtub3duSFRNTFRvcExldmVsVHlwZXMgPSBbJ3RvcEFib3J0JywgJ3RvcENhbmNlbCcsICd0b3BDYW5QbGF5JywgJ3RvcENhblBsYXlUaHJvdWdoJywgJ3RvcENsb3NlJywgJ3RvcER1cmF0aW9uQ2hhbmdlJywgJ3RvcEVtcHRpZWQnLCAndG9wRW5jcnlwdGVkJywgJ3RvcEVuZGVkJywgJ3RvcEVycm9yJywgJ3RvcElucHV0JywgJ3RvcEludmFsaWQnLCAndG9wTG9hZCcsICd0b3BMb2FkZWREYXRhJywgJ3RvcExvYWRlZE1ldGFkYXRhJywgJ3RvcExvYWRTdGFydCcsICd0b3BQYXVzZScsICd0b3BQbGF5JywgJ3RvcFBsYXlpbmcnLCAndG9wUHJvZ3Jlc3MnLCAndG9wUmF0ZUNoYW5nZScsICd0b3BSZXNldCcsICd0b3BTZWVrZWQnLCAndG9wU2Vla2luZycsICd0b3BTdGFsbGVkJywgJ3RvcFN1Ym1pdCcsICd0b3BTdXNwZW5kJywgJ3RvcFRpbWVVcGRhdGUnLCAndG9wVG9nZ2xlJywgJ3RvcFZvbHVtZUNoYW5nZScsICd0b3BXYWl0aW5nJ107XG5cbnZhciBTaW1wbGVFdmVudFBsdWdpbiA9IHtcbiAgZXZlbnRUeXBlczogZXZlbnRUeXBlcyQ0LFxuXG4gIGlzSW50ZXJhY3RpdmVUb3BMZXZlbEV2ZW50VHlwZTogZnVuY3Rpb24gKHRvcExldmVsVHlwZSkge1xuICAgIHZhciBjb25maWcgPSB0b3BMZXZlbEV2ZW50c1RvRGlzcGF0Y2hDb25maWdbdG9wTGV2ZWxUeXBlXTtcbiAgICByZXR1cm4gY29uZmlnICE9PSB1bmRlZmluZWQgJiYgY29uZmlnLmlzSW50ZXJhY3RpdmUgPT09IHRydWU7XG4gIH0sXG5cblxuICBleHRyYWN0RXZlbnRzOiBmdW5jdGlvbiAodG9wTGV2ZWxUeXBlLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICB2YXIgZGlzcGF0Y2hDb25maWcgPSB0b3BMZXZlbEV2ZW50c1RvRGlzcGF0Y2hDb25maWdbdG9wTGV2ZWxUeXBlXTtcbiAgICBpZiAoIWRpc3BhdGNoQ29uZmlnKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIEV2ZW50Q29uc3RydWN0b3IgPSB2b2lkIDA7XG4gICAgc3dpdGNoICh0b3BMZXZlbFR5cGUpIHtcbiAgICAgIGNhc2UgJ3RvcEtleVByZXNzJzpcbiAgICAgICAgLy8gRmlyZWZveCBjcmVhdGVzIGEga2V5cHJlc3MgZXZlbnQgZm9yIGZ1bmN0aW9uIGtleXMgdG9vLiBUaGlzIHJlbW92ZXNcbiAgICAgICAgLy8gdGhlIHVud2FudGVkIGtleXByZXNzIGV2ZW50cy4gRW50ZXIgaXMgaG93ZXZlciBib3RoIHByaW50YWJsZSBhbmRcbiAgICAgICAgLy8gbm9uLXByaW50YWJsZS4gT25lIHdvdWxkIGV4cGVjdCBUYWIgdG8gYmUgYXMgd2VsbCAoYnV0IGl0IGlzbid0KS5cbiAgICAgICAgaWYgKGdldEV2ZW50Q2hhckNvZGUobmF0aXZlRXZlbnQpID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgJ3RvcEtleURvd24nOlxuICAgICAgY2FzZSAndG9wS2V5VXAnOlxuICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljS2V5Ym9hcmRFdmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0b3BCbHVyJzpcbiAgICAgIGNhc2UgJ3RvcEZvY3VzJzpcbiAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY0ZvY3VzRXZlbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndG9wQ2xpY2snOlxuICAgICAgICAvLyBGaXJlZm94IGNyZWF0ZXMgYSBjbGljayBldmVudCBvbiByaWdodCBtb3VzZSBjbGlja3MuIFRoaXMgcmVtb3ZlcyB0aGVcbiAgICAgICAgLy8gdW53YW50ZWQgY2xpY2sgZXZlbnRzLlxuICAgICAgICBpZiAobmF0aXZlRXZlbnQuYnV0dG9uID09PSAyKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgJ3RvcERvdWJsZUNsaWNrJzpcbiAgICAgIGNhc2UgJ3RvcE1vdXNlRG93bic6XG4gICAgICBjYXNlICd0b3BNb3VzZU1vdmUnOlxuICAgICAgY2FzZSAndG9wTW91c2VVcCc6XG4gICAgICAvLyBUT0RPOiBEaXNhYmxlZCBlbGVtZW50cyBzaG91bGQgbm90IHJlc3BvbmQgdG8gbW91c2UgZXZlbnRzXG4gICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlICd0b3BNb3VzZU91dCc6XG4gICAgICBjYXNlICd0b3BNb3VzZU92ZXInOlxuICAgICAgY2FzZSAndG9wQ29udGV4dE1lbnUnOlxuICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljTW91c2VFdmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0b3BEcmFnJzpcbiAgICAgIGNhc2UgJ3RvcERyYWdFbmQnOlxuICAgICAgY2FzZSAndG9wRHJhZ0VudGVyJzpcbiAgICAgIGNhc2UgJ3RvcERyYWdFeGl0JzpcbiAgICAgIGNhc2UgJ3RvcERyYWdMZWF2ZSc6XG4gICAgICBjYXNlICd0b3BEcmFnT3Zlcic6XG4gICAgICBjYXNlICd0b3BEcmFnU3RhcnQnOlxuICAgICAgY2FzZSAndG9wRHJvcCc6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNEcmFnRXZlbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndG9wVG91Y2hDYW5jZWwnOlxuICAgICAgY2FzZSAndG9wVG91Y2hFbmQnOlxuICAgICAgY2FzZSAndG9wVG91Y2hNb3ZlJzpcbiAgICAgIGNhc2UgJ3RvcFRvdWNoU3RhcnQnOlxuICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljVG91Y2hFdmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0b3BBbmltYXRpb25FbmQnOlxuICAgICAgY2FzZSAndG9wQW5pbWF0aW9uSXRlcmF0aW9uJzpcbiAgICAgIGNhc2UgJ3RvcEFuaW1hdGlvblN0YXJ0JzpcbiAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY0FuaW1hdGlvbkV2ZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RvcFRyYW5zaXRpb25FbmQnOlxuICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljVHJhbnNpdGlvbkV2ZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RvcFNjcm9sbCc6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNVSUV2ZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RvcFdoZWVsJzpcbiAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY1doZWVsRXZlbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndG9wQ29weSc6XG4gICAgICBjYXNlICd0b3BDdXQnOlxuICAgICAgY2FzZSAndG9wUGFzdGUnOlxuICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljQ2xpcGJvYXJkRXZlbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAge1xuICAgICAgICAgIGlmIChrbm93bkhUTUxUb3BMZXZlbFR5cGVzLmluZGV4T2YodG9wTGV2ZWxUeXBlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICdTaW1wbGVFdmVudFBsdWdpbjogVW5oYW5kbGVkIGV2ZW50IHR5cGUsIGAlc2AuIFRoaXMgd2FybmluZyAnICsgJ2lzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicsIHRvcExldmVsVHlwZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEhUTUwgRXZlbnRzXG4gICAgICAgIC8vIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvaHRtbDUvaW5kZXguaHRtbCNldmVudHMtMFxuICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljRXZlbnQkMTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHZhciBldmVudCA9IEV2ZW50Q29uc3RydWN0b3IuZ2V0UG9vbGVkKGRpc3BhdGNoQ29uZmlnLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoZXZlbnQpO1xuICAgIHJldHVybiBldmVudDtcbiAgfVxufTtcblxudmFyIGlzSW50ZXJhY3RpdmVUb3BMZXZlbEV2ZW50VHlwZSA9IFNpbXBsZUV2ZW50UGx1Z2luLmlzSW50ZXJhY3RpdmVUb3BMZXZlbEV2ZW50VHlwZTtcblxuXG52YXIgQ0FMTEJBQ0tfQk9PS0tFRVBJTkdfUE9PTF9TSVpFID0gMTA7XG52YXIgY2FsbGJhY2tCb29ra2VlcGluZ1Bvb2wgPSBbXTtcblxuLyoqXG4gKiBGaW5kIHRoZSBkZWVwZXN0IFJlYWN0IGNvbXBvbmVudCBjb21wbGV0ZWx5IGNvbnRhaW5pbmcgdGhlIHJvb3Qgb2YgdGhlXG4gKiBwYXNzZWQtaW4gaW5zdGFuY2UgKGZvciB1c2Ugd2hlbiBlbnRpcmUgUmVhY3QgdHJlZXMgYXJlIG5lc3RlZCB3aXRoaW4gZWFjaFxuICogb3RoZXIpLiBJZiBSZWFjdCB0cmVlcyBhcmUgbm90IG5lc3RlZCwgcmV0dXJucyBudWxsLlxuICovXG5mdW5jdGlvbiBmaW5kUm9vdENvbnRhaW5lck5vZGUoaW5zdCkge1xuICAvLyBUT0RPOiBJdCBtYXkgYmUgYSBnb29kIGlkZWEgdG8gY2FjaGUgdGhpcyB0byBwcmV2ZW50IHVubmVjZXNzYXJ5IERPTVxuICAvLyB0cmF2ZXJzYWwsIGJ1dCBjYWNoaW5nIGlzIGRpZmZpY3VsdCB0byBkbyBjb3JyZWN0bHkgd2l0aG91dCB1c2luZyBhXG4gIC8vIG11dGF0aW9uIG9ic2VydmVyIHRvIGxpc3RlbiBmb3IgYWxsIERPTSBjaGFuZ2VzLlxuICB3aGlsZSAoaW5zdFsncmV0dXJuJ10pIHtcbiAgICBpbnN0ID0gaW5zdFsncmV0dXJuJ107XG4gIH1cbiAgaWYgKGluc3QudGFnICE9PSBIb3N0Um9vdCkge1xuICAgIC8vIFRoaXMgY2FuIGhhcHBlbiBpZiB3ZSdyZSBpbiBhIGRldGFjaGVkIHRyZWUuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGluc3Quc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG59XG5cbi8vIFVzZWQgdG8gc3RvcmUgYW5jZXN0b3IgaGllcmFyY2h5IGluIHRvcCBsZXZlbCBjYWxsYmFja1xuZnVuY3Rpb24gZ2V0VG9wTGV2ZWxDYWxsYmFja0Jvb2tLZWVwaW5nKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQsIHRhcmdldEluc3QpIHtcbiAgaWYgKGNhbGxiYWNrQm9va2tlZXBpbmdQb29sLmxlbmd0aCkge1xuICAgIHZhciBpbnN0YW5jZSA9IGNhbGxiYWNrQm9va2tlZXBpbmdQb29sLnBvcCgpO1xuICAgIGluc3RhbmNlLnRvcExldmVsVHlwZSA9IHRvcExldmVsVHlwZTtcbiAgICBpbnN0YW5jZS5uYXRpdmVFdmVudCA9IG5hdGl2ZUV2ZW50O1xuICAgIGluc3RhbmNlLnRhcmdldEluc3QgPSB0YXJnZXRJbnN0O1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHRvcExldmVsVHlwZTogdG9wTGV2ZWxUeXBlLFxuICAgIG5hdGl2ZUV2ZW50OiBuYXRpdmVFdmVudCxcbiAgICB0YXJnZXRJbnN0OiB0YXJnZXRJbnN0LFxuICAgIGFuY2VzdG9yczogW11cbiAgfTtcbn1cblxuZnVuY3Rpb24gcmVsZWFzZVRvcExldmVsQ2FsbGJhY2tCb29rS2VlcGluZyhpbnN0YW5jZSkge1xuICBpbnN0YW5jZS50b3BMZXZlbFR5cGUgPSBudWxsO1xuICBpbnN0YW5jZS5uYXRpdmVFdmVudCA9IG51bGw7XG4gIGluc3RhbmNlLnRhcmdldEluc3QgPSBudWxsO1xuICBpbnN0YW5jZS5hbmNlc3RvcnMubGVuZ3RoID0gMDtcbiAgaWYgKGNhbGxiYWNrQm9va2tlZXBpbmdQb29sLmxlbmd0aCA8IENBTExCQUNLX0JPT0tLRUVQSU5HX1BPT0xfU0laRSkge1xuICAgIGNhbGxiYWNrQm9va2tlZXBpbmdQb29sLnB1c2goaW5zdGFuY2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVRvcExldmVsKGJvb2tLZWVwaW5nKSB7XG4gIHZhciB0YXJnZXRJbnN0ID0gYm9va0tlZXBpbmcudGFyZ2V0SW5zdDtcblxuICAvLyBMb29wIHRocm91Z2ggdGhlIGhpZXJhcmNoeSwgaW4gY2FzZSB0aGVyZSdzIGFueSBuZXN0ZWQgY29tcG9uZW50cy5cbiAgLy8gSXQncyBpbXBvcnRhbnQgdGhhdCB3ZSBidWlsZCB0aGUgYXJyYXkgb2YgYW5jZXN0b3JzIGJlZm9yZSBjYWxsaW5nIGFueVxuICAvLyBldmVudCBoYW5kbGVycywgYmVjYXVzZSBldmVudCBoYW5kbGVycyBjYW4gbW9kaWZ5IHRoZSBET00sIGxlYWRpbmcgdG9cbiAgLy8gaW5jb25zaXN0ZW5jaWVzIHdpdGggUmVhY3RNb3VudCdzIG5vZGUgY2FjaGUuIFNlZSAjMTEwNS5cbiAgdmFyIGFuY2VzdG9yID0gdGFyZ2V0SW5zdDtcbiAgZG8ge1xuICAgIGlmICghYW5jZXN0b3IpIHtcbiAgICAgIGJvb2tLZWVwaW5nLmFuY2VzdG9ycy5wdXNoKGFuY2VzdG9yKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB2YXIgcm9vdCA9IGZpbmRSb290Q29udGFpbmVyTm9kZShhbmNlc3Rvcik7XG4gICAgaWYgKCFyb290KSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgYm9va0tlZXBpbmcuYW5jZXN0b3JzLnB1c2goYW5jZXN0b3IpO1xuICAgIGFuY2VzdG9yID0gZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUocm9vdCk7XG4gIH0gd2hpbGUgKGFuY2VzdG9yKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGJvb2tLZWVwaW5nLmFuY2VzdG9ycy5sZW5ndGg7IGkrKykge1xuICAgIHRhcmdldEluc3QgPSBib29rS2VlcGluZy5hbmNlc3RvcnNbaV07XG4gICAgcnVuRXh0cmFjdGVkRXZlbnRzSW5CYXRjaChib29rS2VlcGluZy50b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIGJvb2tLZWVwaW5nLm5hdGl2ZUV2ZW50LCBnZXRFdmVudFRhcmdldChib29rS2VlcGluZy5uYXRpdmVFdmVudCkpO1xuICB9XG59XG5cbi8vIFRPRE86IGNhbiB3ZSBzdG9wIGV4cG9ydGluZyB0aGVzZT9cbnZhciBfZW5hYmxlZCA9IHRydWU7XG5cbmZ1bmN0aW9uIHNldEVuYWJsZWQoZW5hYmxlZCkge1xuICBfZW5hYmxlZCA9ICEhZW5hYmxlZDtcbn1cblxuZnVuY3Rpb24gaXNFbmFibGVkKCkge1xuICByZXR1cm4gX2VuYWJsZWQ7XG59XG5cbi8qKlxuICogVHJhcHMgdG9wLWxldmVsIGV2ZW50cyBieSB1c2luZyBldmVudCBidWJibGluZy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUeXBlIFJlY29yZCBmcm9tIGBCcm93c2VyRXZlbnRDb25zdGFudHNgLlxuICogQHBhcmFtIHtzdHJpbmd9IGhhbmRsZXJCYXNlTmFtZSBFdmVudCBuYW1lIChlLmcuIFwiY2xpY2tcIikuXG4gKiBAcGFyYW0ge29iamVjdH0gZWxlbWVudCBFbGVtZW50IG9uIHdoaWNoIHRvIGF0dGFjaCBsaXN0ZW5lci5cbiAqIEByZXR1cm4gez9vYmplY3R9IEFuIG9iamVjdCB3aXRoIGEgcmVtb3ZlIGZ1bmN0aW9uIHdoaWNoIHdpbGwgZm9yY2VmdWxseVxuICogICAgICAgICAgICAgICAgICByZW1vdmUgdGhlIGxpc3RlbmVyLlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIHRyYXBCdWJibGVkRXZlbnQodG9wTGV2ZWxUeXBlLCBoYW5kbGVyQmFzZU5hbWUsIGVsZW1lbnQpIHtcbiAgaWYgKCFlbGVtZW50KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIGRpc3BhdGNoID0gaXNJbnRlcmFjdGl2ZVRvcExldmVsRXZlbnRUeXBlKHRvcExldmVsVHlwZSkgPyBkaXNwYXRjaEludGVyYWN0aXZlRXZlbnQgOiBkaXNwYXRjaEV2ZW50O1xuXG4gIGFkZEV2ZW50QnViYmxlTGlzdGVuZXIoZWxlbWVudCwgaGFuZGxlckJhc2VOYW1lLFxuICAvLyBDaGVjayBpZiBpbnRlcmFjdGl2ZSBhbmQgd3JhcCBpbiBpbnRlcmFjdGl2ZVVwZGF0ZXNcbiAgZGlzcGF0Y2guYmluZChudWxsLCB0b3BMZXZlbFR5cGUpKTtcbn1cblxuLyoqXG4gKiBUcmFwcyBhIHRvcC1sZXZlbCBldmVudCBieSB1c2luZyBldmVudCBjYXB0dXJpbmcuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRvcExldmVsVHlwZSBSZWNvcmQgZnJvbSBgQnJvd3NlckV2ZW50Q29uc3RhbnRzYC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBoYW5kbGVyQmFzZU5hbWUgRXZlbnQgbmFtZSAoZS5nLiBcImNsaWNrXCIpLlxuICogQHBhcmFtIHtvYmplY3R9IGVsZW1lbnQgRWxlbWVudCBvbiB3aGljaCB0byBhdHRhY2ggbGlzdGVuZXIuXG4gKiBAcmV0dXJuIHs/b2JqZWN0fSBBbiBvYmplY3Qgd2l0aCBhIHJlbW92ZSBmdW5jdGlvbiB3aGljaCB3aWxsIGZvcmNlZnVsbHlcbiAqICAgICAgICAgICAgICAgICAgcmVtb3ZlIHRoZSBsaXN0ZW5lci5cbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiB0cmFwQ2FwdHVyZWRFdmVudCh0b3BMZXZlbFR5cGUsIGhhbmRsZXJCYXNlTmFtZSwgZWxlbWVudCkge1xuICBpZiAoIWVsZW1lbnQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgZGlzcGF0Y2ggPSBpc0ludGVyYWN0aXZlVG9wTGV2ZWxFdmVudFR5cGUodG9wTGV2ZWxUeXBlKSA/IGRpc3BhdGNoSW50ZXJhY3RpdmVFdmVudCA6IGRpc3BhdGNoRXZlbnQ7XG5cbiAgYWRkRXZlbnRDYXB0dXJlTGlzdGVuZXIoZWxlbWVudCwgaGFuZGxlckJhc2VOYW1lLFxuICAvLyBDaGVjayBpZiBpbnRlcmFjdGl2ZSBhbmQgd3JhcCBpbiBpbnRlcmFjdGl2ZVVwZGF0ZXNcbiAgZGlzcGF0Y2guYmluZChudWxsLCB0b3BMZXZlbFR5cGUpKTtcbn1cblxuZnVuY3Rpb24gZGlzcGF0Y2hJbnRlcmFjdGl2ZUV2ZW50KHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpIHtcbiAgaW50ZXJhY3RpdmVVcGRhdGVzKGRpc3BhdGNoRXZlbnQsIHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpO1xufVxuXG5mdW5jdGlvbiBkaXNwYXRjaEV2ZW50KHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpIHtcbiAgaWYgKCFfZW5hYmxlZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBuYXRpdmVFdmVudFRhcmdldCA9IGdldEV2ZW50VGFyZ2V0KG5hdGl2ZUV2ZW50KTtcbiAgdmFyIHRhcmdldEluc3QgPSBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShuYXRpdmVFdmVudFRhcmdldCk7XG4gIGlmICh0YXJnZXRJbnN0ICE9PSBudWxsICYmIHR5cGVvZiB0YXJnZXRJbnN0LnRhZyA9PT0gJ251bWJlcicgJiYgIWlzRmliZXJNb3VudGVkKHRhcmdldEluc3QpKSB7XG4gICAgLy8gSWYgd2UgZ2V0IGFuIGV2ZW50IChleDogaW1nIG9ubG9hZCkgYmVmb3JlIGNvbW1pdHRpbmcgdGhhdFxuICAgIC8vIGNvbXBvbmVudCdzIG1vdW50LCBpZ25vcmUgaXQgZm9yIG5vdyAodGhhdCBpcywgdHJlYXQgaXQgYXMgaWYgaXQgd2FzIGFuXG4gICAgLy8gZXZlbnQgb24gYSBub24tUmVhY3QgdHJlZSkuIFdlIG1pZ2h0IGFsc28gY29uc2lkZXIgcXVldWVpbmcgZXZlbnRzIGFuZFxuICAgIC8vIGRpc3BhdGNoaW5nIHRoZW0gYWZ0ZXIgdGhlIG1vdW50LlxuICAgIHRhcmdldEluc3QgPSBudWxsO1xuICB9XG5cbiAgdmFyIGJvb2tLZWVwaW5nID0gZ2V0VG9wTGV2ZWxDYWxsYmFja0Jvb2tLZWVwaW5nKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQsIHRhcmdldEluc3QpO1xuXG4gIHRyeSB7XG4gICAgLy8gRXZlbnQgcXVldWUgYmVpbmcgcHJvY2Vzc2VkIGluIHRoZSBzYW1lIGN5Y2xlIGFsbG93c1xuICAgIC8vIGBwcmV2ZW50RGVmYXVsdGAuXG4gICAgYmF0Y2hlZFVwZGF0ZXMoaGFuZGxlVG9wTGV2ZWwsIGJvb2tLZWVwaW5nKTtcbiAgfSBmaW5hbGx5IHtcbiAgICByZWxlYXNlVG9wTGV2ZWxDYWxsYmFja0Jvb2tLZWVwaW5nKGJvb2tLZWVwaW5nKTtcbiAgfVxufVxuXG52YXIgUmVhY3RET01FdmVudExpc3RlbmVyID0gT2JqZWN0LmZyZWV6ZSh7XG5cdGdldCBfZW5hYmxlZCAoKSB7IHJldHVybiBfZW5hYmxlZDsgfSxcblx0c2V0RW5hYmxlZDogc2V0RW5hYmxlZCxcblx0aXNFbmFibGVkOiBpc0VuYWJsZWQsXG5cdHRyYXBCdWJibGVkRXZlbnQ6IHRyYXBCdWJibGVkRXZlbnQsXG5cdHRyYXBDYXB0dXJlZEV2ZW50OiB0cmFwQ2FwdHVyZWRFdmVudCxcblx0ZGlzcGF0Y2hFdmVudDogZGlzcGF0Y2hFdmVudFxufSk7XG5cbi8qKlxuICogR2VuZXJhdGUgYSBtYXBwaW5nIG9mIHN0YW5kYXJkIHZlbmRvciBwcmVmaXhlcyB1c2luZyB0aGUgZGVmaW5lZCBzdHlsZSBwcm9wZXJ0eSBhbmQgZXZlbnQgbmFtZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3R5bGVQcm9wXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lXG4gKiBAcmV0dXJucyB7b2JqZWN0fVxuICovXG5mdW5jdGlvbiBtYWtlUHJlZml4TWFwKHN0eWxlUHJvcCwgZXZlbnROYW1lKSB7XG4gIHZhciBwcmVmaXhlcyA9IHt9O1xuXG4gIHByZWZpeGVzW3N0eWxlUHJvcC50b0xvd2VyQ2FzZSgpXSA9IGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpO1xuICBwcmVmaXhlc1snV2Via2l0JyArIHN0eWxlUHJvcF0gPSAnd2Via2l0JyArIGV2ZW50TmFtZTtcbiAgcHJlZml4ZXNbJ01veicgKyBzdHlsZVByb3BdID0gJ21veicgKyBldmVudE5hbWU7XG4gIHByZWZpeGVzWydtcycgKyBzdHlsZVByb3BdID0gJ01TJyArIGV2ZW50TmFtZTtcbiAgcHJlZml4ZXNbJ08nICsgc3R5bGVQcm9wXSA9ICdvJyArIGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpO1xuXG4gIHJldHVybiBwcmVmaXhlcztcbn1cblxuLyoqXG4gKiBBIGxpc3Qgb2YgZXZlbnQgbmFtZXMgdG8gYSBjb25maWd1cmFibGUgbGlzdCBvZiB2ZW5kb3IgcHJlZml4ZXMuXG4gKi9cbnZhciB2ZW5kb3JQcmVmaXhlcyA9IHtcbiAgYW5pbWF0aW9uZW5kOiBtYWtlUHJlZml4TWFwKCdBbmltYXRpb24nLCAnQW5pbWF0aW9uRW5kJyksXG4gIGFuaW1hdGlvbml0ZXJhdGlvbjogbWFrZVByZWZpeE1hcCgnQW5pbWF0aW9uJywgJ0FuaW1hdGlvbkl0ZXJhdGlvbicpLFxuICBhbmltYXRpb25zdGFydDogbWFrZVByZWZpeE1hcCgnQW5pbWF0aW9uJywgJ0FuaW1hdGlvblN0YXJ0JyksXG4gIHRyYW5zaXRpb25lbmQ6IG1ha2VQcmVmaXhNYXAoJ1RyYW5zaXRpb24nLCAnVHJhbnNpdGlvbkVuZCcpXG59O1xuXG4vKipcbiAqIEV2ZW50IG5hbWVzIHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gZGV0ZWN0ZWQgYW5kIHByZWZpeGVkIChpZiBhcHBsaWNhYmxlKS5cbiAqL1xudmFyIHByZWZpeGVkRXZlbnROYW1lcyA9IHt9O1xuXG4vKipcbiAqIEVsZW1lbnQgdG8gY2hlY2sgZm9yIHByZWZpeGVzIG9uLlxuICovXG52YXIgc3R5bGUgPSB7fTtcblxuLyoqXG4gKiBCb290c3RyYXAgaWYgYSBET00gZXhpc3RzLlxuICovXG5pZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jykuc3R5bGU7XG5cbiAgLy8gT24gc29tZSBwbGF0Zm9ybXMsIGluIHBhcnRpY3VsYXIgc29tZSByZWxlYXNlcyBvZiBBbmRyb2lkIDQueCxcbiAgLy8gdGhlIHVuLXByZWZpeGVkIFwiYW5pbWF0aW9uXCIgYW5kIFwidHJhbnNpdGlvblwiIHByb3BlcnRpZXMgYXJlIGRlZmluZWQgb24gdGhlXG4gIC8vIHN0eWxlIG9iamVjdCBidXQgdGhlIGV2ZW50cyB0aGF0IGZpcmUgd2lsbCBzdGlsbCBiZSBwcmVmaXhlZCwgc28gd2UgbmVlZFxuICAvLyB0byBjaGVjayBpZiB0aGUgdW4tcHJlZml4ZWQgZXZlbnRzIGFyZSB1c2FibGUsIGFuZCBpZiBub3QgcmVtb3ZlIHRoZW0gZnJvbSB0aGUgbWFwLlxuICBpZiAoISgnQW5pbWF0aW9uRXZlbnQnIGluIHdpbmRvdykpIHtcbiAgICBkZWxldGUgdmVuZG9yUHJlZml4ZXMuYW5pbWF0aW9uZW5kLmFuaW1hdGlvbjtcbiAgICBkZWxldGUgdmVuZG9yUHJlZml4ZXMuYW5pbWF0aW9uaXRlcmF0aW9uLmFuaW1hdGlvbjtcbiAgICBkZWxldGUgdmVuZG9yUHJlZml4ZXMuYW5pbWF0aW9uc3RhcnQuYW5pbWF0aW9uO1xuICB9XG5cbiAgLy8gU2FtZSBhcyBhYm92ZVxuICBpZiAoISgnVHJhbnNpdGlvbkV2ZW50JyBpbiB3aW5kb3cpKSB7XG4gICAgZGVsZXRlIHZlbmRvclByZWZpeGVzLnRyYW5zaXRpb25lbmQudHJhbnNpdGlvbjtcbiAgfVxufVxuXG4vKipcbiAqIEF0dGVtcHRzIHRvIGRldGVybWluZSB0aGUgY29ycmVjdCB2ZW5kb3IgcHJlZml4ZWQgZXZlbnQgbmFtZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZShldmVudE5hbWUpIHtcbiAgaWYgKHByZWZpeGVkRXZlbnROYW1lc1tldmVudE5hbWVdKSB7XG4gICAgcmV0dXJuIHByZWZpeGVkRXZlbnROYW1lc1tldmVudE5hbWVdO1xuICB9IGVsc2UgaWYgKCF2ZW5kb3JQcmVmaXhlc1tldmVudE5hbWVdKSB7XG4gICAgcmV0dXJuIGV2ZW50TmFtZTtcbiAgfVxuXG4gIHZhciBwcmVmaXhNYXAgPSB2ZW5kb3JQcmVmaXhlc1tldmVudE5hbWVdO1xuXG4gIGZvciAodmFyIHN0eWxlUHJvcCBpbiBwcmVmaXhNYXApIHtcbiAgICBpZiAocHJlZml4TWFwLmhhc093blByb3BlcnR5KHN0eWxlUHJvcCkgJiYgc3R5bGVQcm9wIGluIHN0eWxlKSB7XG4gICAgICByZXR1cm4gcHJlZml4ZWRFdmVudE5hbWVzW2V2ZW50TmFtZV0gPSBwcmVmaXhNYXBbc3R5bGVQcm9wXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZXZlbnROYW1lO1xufVxuXG4vKipcbiAqIFR5cGVzIG9mIHJhdyBzaWduYWxzIGZyb20gdGhlIGJyb3dzZXIgY2F1Z2h0IGF0IHRoZSB0b3AgbGV2ZWwuXG4gKlxuICogRm9yIGV2ZW50cyBsaWtlICdzdWJtaXQnIG9yIGF1ZGlvL3ZpZGVvIGV2ZW50cyB3aGljaCBkb24ndCBjb25zaXN0ZW50bHlcbiAqIGJ1YmJsZSAod2hpY2ggd2UgdHJhcCBhdCBhIGxvd2VyIG5vZGUgdGhhbiBgZG9jdW1lbnRgKSwgYmluZGluZ1xuICogYXQgYGRvY3VtZW50YCB3b3VsZCBjYXVzZSBkdXBsaWNhdGUgZXZlbnRzIHNvIHdlIGRvbid0IGluY2x1ZGUgdGhlbSBoZXJlLlxuICovXG52YXIgdG9wTGV2ZWxUeXBlcyA9IHtcbiAgdG9wQW5pbWF0aW9uRW5kOiBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZSgnYW5pbWF0aW9uZW5kJyksXG4gIHRvcEFuaW1hdGlvbkl0ZXJhdGlvbjogZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoJ2FuaW1hdGlvbml0ZXJhdGlvbicpLFxuICB0b3BBbmltYXRpb25TdGFydDogZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoJ2FuaW1hdGlvbnN0YXJ0JyksXG4gIHRvcEJsdXI6ICdibHVyJyxcbiAgdG9wQ2FuY2VsOiAnY2FuY2VsJyxcbiAgdG9wQ2hhbmdlOiAnY2hhbmdlJyxcbiAgdG9wQ2xpY2s6ICdjbGljaycsXG4gIHRvcENsb3NlOiAnY2xvc2UnLFxuICB0b3BDb21wb3NpdGlvbkVuZDogJ2NvbXBvc2l0aW9uZW5kJyxcbiAgdG9wQ29tcG9zaXRpb25TdGFydDogJ2NvbXBvc2l0aW9uc3RhcnQnLFxuICB0b3BDb21wb3NpdGlvblVwZGF0ZTogJ2NvbXBvc2l0aW9udXBkYXRlJyxcbiAgdG9wQ29udGV4dE1lbnU6ICdjb250ZXh0bWVudScsXG4gIHRvcENvcHk6ICdjb3B5JyxcbiAgdG9wQ3V0OiAnY3V0JyxcbiAgdG9wRG91YmxlQ2xpY2s6ICdkYmxjbGljaycsXG4gIHRvcERyYWc6ICdkcmFnJyxcbiAgdG9wRHJhZ0VuZDogJ2RyYWdlbmQnLFxuICB0b3BEcmFnRW50ZXI6ICdkcmFnZW50ZXInLFxuICB0b3BEcmFnRXhpdDogJ2RyYWdleGl0JyxcbiAgdG9wRHJhZ0xlYXZlOiAnZHJhZ2xlYXZlJyxcbiAgdG9wRHJhZ092ZXI6ICdkcmFnb3ZlcicsXG4gIHRvcERyYWdTdGFydDogJ2RyYWdzdGFydCcsXG4gIHRvcERyb3A6ICdkcm9wJyxcbiAgdG9wRm9jdXM6ICdmb2N1cycsXG4gIHRvcElucHV0OiAnaW5wdXQnLFxuICB0b3BLZXlEb3duOiAna2V5ZG93bicsXG4gIHRvcEtleVByZXNzOiAna2V5cHJlc3MnLFxuICB0b3BLZXlVcDogJ2tleXVwJyxcbiAgdG9wTG9hZDogJ2xvYWQnLFxuICB0b3BMb2FkU3RhcnQ6ICdsb2Fkc3RhcnQnLFxuICB0b3BNb3VzZURvd246ICdtb3VzZWRvd24nLFxuICB0b3BNb3VzZU1vdmU6ICdtb3VzZW1vdmUnLFxuICB0b3BNb3VzZU91dDogJ21vdXNlb3V0JyxcbiAgdG9wTW91c2VPdmVyOiAnbW91c2VvdmVyJyxcbiAgdG9wTW91c2VVcDogJ21vdXNldXAnLFxuICB0b3BQYXN0ZTogJ3Bhc3RlJyxcbiAgdG9wU2Nyb2xsOiAnc2Nyb2xsJyxcbiAgdG9wU2VsZWN0aW9uQ2hhbmdlOiAnc2VsZWN0aW9uY2hhbmdlJyxcbiAgdG9wVGV4dElucHV0OiAndGV4dElucHV0JyxcbiAgdG9wVG9nZ2xlOiAndG9nZ2xlJyxcbiAgdG9wVG91Y2hDYW5jZWw6ICd0b3VjaGNhbmNlbCcsXG4gIHRvcFRvdWNoRW5kOiAndG91Y2hlbmQnLFxuICB0b3BUb3VjaE1vdmU6ICd0b3VjaG1vdmUnLFxuICB0b3BUb3VjaFN0YXJ0OiAndG91Y2hzdGFydCcsXG4gIHRvcFRyYW5zaXRpb25FbmQ6IGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKCd0cmFuc2l0aW9uZW5kJyksXG4gIHRvcFdoZWVsOiAnd2hlZWwnXG59O1xuXG4vLyBUaGVyZSBhcmUgc28gbWFueSBtZWRpYSBldmVudHMsIGl0IG1ha2VzIHNlbnNlIHRvIGp1c3Rcbi8vIG1haW50YWluIGEgbGlzdCBvZiB0aGVtLiBOb3RlIHRoZXNlIGFyZW4ndCB0ZWNobmljYWxseVxuLy8gXCJ0b3AtbGV2ZWxcIiBzaW5jZSB0aGV5IGRvbid0IGJ1YmJsZS4gV2Ugc2hvdWxkIGNvbWUgdXBcbi8vIHdpdGggYSBiZXR0ZXIgbmFtaW5nIGNvbnZlbnRpb24gaWYgd2UgY29tZSB0byByZWZhY3RvcmluZ1xuLy8gdGhlIGV2ZW50IHN5c3RlbS5cbnZhciBtZWRpYUV2ZW50VHlwZXMgPSB7XG4gIHRvcEFib3J0OiAnYWJvcnQnLFxuICB0b3BDYW5QbGF5OiAnY2FucGxheScsXG4gIHRvcENhblBsYXlUaHJvdWdoOiAnY2FucGxheXRocm91Z2gnLFxuICB0b3BEdXJhdGlvbkNoYW5nZTogJ2R1cmF0aW9uY2hhbmdlJyxcbiAgdG9wRW1wdGllZDogJ2VtcHRpZWQnLFxuICB0b3BFbmNyeXB0ZWQ6ICdlbmNyeXB0ZWQnLFxuICB0b3BFbmRlZDogJ2VuZGVkJyxcbiAgdG9wRXJyb3I6ICdlcnJvcicsXG4gIHRvcExvYWRlZERhdGE6ICdsb2FkZWRkYXRhJyxcbiAgdG9wTG9hZGVkTWV0YWRhdGE6ICdsb2FkZWRtZXRhZGF0YScsXG4gIHRvcExvYWRTdGFydDogJ2xvYWRzdGFydCcsXG4gIHRvcFBhdXNlOiAncGF1c2UnLFxuICB0b3BQbGF5OiAncGxheScsXG4gIHRvcFBsYXlpbmc6ICdwbGF5aW5nJyxcbiAgdG9wUHJvZ3Jlc3M6ICdwcm9ncmVzcycsXG4gIHRvcFJhdGVDaGFuZ2U6ICdyYXRlY2hhbmdlJyxcbiAgdG9wU2Vla2VkOiAnc2Vla2VkJyxcbiAgdG9wU2Vla2luZzogJ3NlZWtpbmcnLFxuICB0b3BTdGFsbGVkOiAnc3RhbGxlZCcsXG4gIHRvcFN1c3BlbmQ6ICdzdXNwZW5kJyxcbiAgdG9wVGltZVVwZGF0ZTogJ3RpbWV1cGRhdGUnLFxuICB0b3BWb2x1bWVDaGFuZ2U6ICd2b2x1bWVjaGFuZ2UnLFxuICB0b3BXYWl0aW5nOiAnd2FpdGluZydcbn07XG5cbi8qKlxuICogU3VtbWFyeSBvZiBgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyYCBldmVudCBoYW5kbGluZzpcbiAqXG4gKiAgLSBUb3AtbGV2ZWwgZGVsZWdhdGlvbiBpcyB1c2VkIHRvIHRyYXAgbW9zdCBuYXRpdmUgYnJvd3NlciBldmVudHMuIFRoaXNcbiAqICAgIG1heSBvbmx5IG9jY3VyIGluIHRoZSBtYWluIHRocmVhZCBhbmQgaXMgdGhlIHJlc3BvbnNpYmlsaXR5IG9mXG4gKiAgICBSZWFjdERPTUV2ZW50TGlzdGVuZXIsIHdoaWNoIGlzIGluamVjdGVkIGFuZCBjYW4gdGhlcmVmb3JlIHN1cHBvcnRcbiAqICAgIHBsdWdnYWJsZSBldmVudCBzb3VyY2VzLiBUaGlzIGlzIHRoZSBvbmx5IHdvcmsgdGhhdCBvY2N1cnMgaW4gdGhlIG1haW5cbiAqICAgIHRocmVhZC5cbiAqXG4gKiAgLSBXZSBub3JtYWxpemUgYW5kIGRlLWR1cGxpY2F0ZSBldmVudHMgdG8gYWNjb3VudCBmb3IgYnJvd3NlciBxdWlya3MuIFRoaXNcbiAqICAgIG1heSBiZSBkb25lIGluIHRoZSB3b3JrZXIgdGhyZWFkLlxuICpcbiAqICAtIEZvcndhcmQgdGhlc2UgbmF0aXZlIGV2ZW50cyAod2l0aCB0aGUgYXNzb2NpYXRlZCB0b3AtbGV2ZWwgdHlwZSB1c2VkIHRvXG4gKiAgICB0cmFwIGl0KSB0byBgRXZlbnRQbHVnaW5IdWJgLCB3aGljaCBpbiB0dXJuIHdpbGwgYXNrIHBsdWdpbnMgaWYgdGhleSB3YW50XG4gKiAgICB0byBleHRyYWN0IGFueSBzeW50aGV0aWMgZXZlbnRzLlxuICpcbiAqICAtIFRoZSBgRXZlbnRQbHVnaW5IdWJgIHdpbGwgdGhlbiBwcm9jZXNzIGVhY2ggZXZlbnQgYnkgYW5ub3RhdGluZyB0aGVtIHdpdGhcbiAqICAgIFwiZGlzcGF0Y2hlc1wiLCBhIHNlcXVlbmNlIG9mIGxpc3RlbmVycyBhbmQgSURzIHRoYXQgY2FyZSBhYm91dCB0aGF0IGV2ZW50LlxuICpcbiAqICAtIFRoZSBgRXZlbnRQbHVnaW5IdWJgIHRoZW4gZGlzcGF0Y2hlcyB0aGUgZXZlbnRzLlxuICpcbiAqIE92ZXJ2aWV3IG9mIFJlYWN0IGFuZCB0aGUgZXZlbnQgc3lzdGVtOlxuICpcbiAqICstLS0tLS0tLS0tLS0rICAgIC5cbiAqIHwgICAgRE9NICAgICB8ICAgIC5cbiAqICstLS0tLS0tLS0tLS0rICAgIC5cbiAqICAgICAgIHwgICAgICAgICAgIC5cbiAqICAgICAgIHYgICAgICAgICAgIC5cbiAqICstLS0tLS0tLS0tLS0rICAgIC5cbiAqIHwgUmVhY3RFdmVudCB8ICAgIC5cbiAqIHwgIExpc3RlbmVyICB8ICAgIC5cbiAqICstLS0tLS0tLS0tLS0rICAgIC4gICAgICAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0tLS0tK1xuICogICAgICAgfCAgICAgICAgICAgLiAgICAgICAgICAgICAgICstLS0tLS0tLSt8U2ltcGxlRXZlbnR8XG4gKiAgICAgICB8ICAgICAgICAgICAuICAgICAgICAgICAgICAgfCAgICAgICAgIHxQbHVnaW4gICAgIHxcbiAqICstLS0tLXwtLS0tLS0rICAgIC4gICAgICAgICAgICAgICB2ICAgICAgICAgKy0tLS0tLS0tLS0tK1xuICogfCAgICAgfCAgICAgIHwgICAgLiAgICArLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0tK1xuICogfCAgICAgKy0tLS0tLS0tLS0tLi0tLT58RXZlbnRQbHVnaW5IdWJ8ICAgICAgICAgICAgICAgICAgICB8ICAgIEV2ZW50ICAgfFxuICogfCAgICAgICAgICAgIHwgICAgLiAgICB8ICAgICAgICAgICAgICB8ICAgICArLS0tLS0tLS0tLS0rICB8IFByb3BhZ2F0b3JzfFxuICogfCBSZWFjdEV2ZW50IHwgICAgLiAgICB8ICAgICAgICAgICAgICB8ICAgICB8VGFwRXZlbnQgICB8ICB8LS0tLS0tLS0tLS0tfFxuICogfCAgRW1pdHRlciAgIHwgICAgLiAgICB8ICAgICAgICAgICAgICB8PC0tLSt8UGx1Z2luICAgICB8ICB8b3RoZXIgcGx1Z2lufFxuICogfCAgICAgICAgICAgIHwgICAgLiAgICB8ICAgICAgICAgICAgICB8ICAgICArLS0tLS0tLS0tLS0rICB8ICB1dGlsaXRpZXMgfFxuICogfCAgICAgKy0tLS0tLS0tLS0tLi0tLT58ICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0tK1xuICogfCAgICAgfCAgICAgIHwgICAgLiAgICArLS0tLS0tLS0tLS0tLS0rXG4gKiArLS0tLS18LS0tLS0tKyAgICAuICAgICAgICAgICAgICAgIF4gICAgICAgICstLS0tLS0tLS0tLStcbiAqICAgICAgIHwgICAgICAgICAgIC4gICAgICAgICAgICAgICAgfCAgICAgICAgfEVudGVyL0xlYXZlfFxuICogICAgICAgKyAgICAgICAgICAgLiAgICAgICAgICAgICAgICArLS0tLS0tLSt8UGx1Z2luICAgICB8XG4gKiArLS0tLS0tLS0tLS0tLSsgICAuICAgICAgICAgICAgICAgICAgICAgICAgICstLS0tLS0tLS0tLStcbiAqIHwgYXBwbGljYXRpb24gfCAgIC5cbiAqIHwtLS0tLS0tLS0tLS0tfCAgIC5cbiAqIHwgICAgICAgICAgICAgfCAgIC5cbiAqIHwgICAgICAgICAgICAgfCAgIC5cbiAqICstLS0tLS0tLS0tLS0tKyAgIC5cbiAqICAgICAgICAgICAgICAgICAgIC5cbiAqICAgIFJlYWN0IENvcmUgICAgIC4gIEdlbmVyYWwgUHVycG9zZSBFdmVudCBQbHVnaW4gU3lzdGVtXG4gKi9cblxudmFyIGFscmVhZHlMaXN0ZW5pbmdUbyA9IHt9O1xudmFyIHJlYWN0VG9wTGlzdGVuZXJzQ291bnRlciA9IDA7XG5cbi8qKlxuICogVG8gZW5zdXJlIG5vIGNvbmZsaWN0cyB3aXRoIG90aGVyIHBvdGVudGlhbCBSZWFjdCBpbnN0YW5jZXMgb24gdGhlIHBhZ2VcbiAqL1xudmFyIHRvcExpc3RlbmVyc0lES2V5ID0gJ19yZWFjdExpc3RlbmVyc0lEJyArICgnJyArIE1hdGgucmFuZG9tKCkpLnNsaWNlKDIpO1xuXG5mdW5jdGlvbiBnZXRMaXN0ZW5pbmdGb3JEb2N1bWVudChtb3VudEF0KSB7XG4gIC8vIEluIElFOCwgYG1vdW50QXRgIGlzIGEgaG9zdCBvYmplY3QgYW5kIGRvZXNuJ3QgaGF2ZSBgaGFzT3duUHJvcGVydHlgXG4gIC8vIGRpcmVjdGx5LlxuICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3VudEF0LCB0b3BMaXN0ZW5lcnNJREtleSkpIHtcbiAgICBtb3VudEF0W3RvcExpc3RlbmVyc0lES2V5XSA9IHJlYWN0VG9wTGlzdGVuZXJzQ291bnRlcisrO1xuICAgIGFscmVhZHlMaXN0ZW5pbmdUb1ttb3VudEF0W3RvcExpc3RlbmVyc0lES2V5XV0gPSB7fTtcbiAgfVxuICByZXR1cm4gYWxyZWFkeUxpc3RlbmluZ1RvW21vdW50QXRbdG9wTGlzdGVuZXJzSURLZXldXTtcbn1cblxuLyoqXG4gKiBXZSBsaXN0ZW4gZm9yIGJ1YmJsZWQgdG91Y2ggZXZlbnRzIG9uIHRoZSBkb2N1bWVudCBvYmplY3QuXG4gKlxuICogRmlyZWZveCB2OC4wMSAoYW5kIHBvc3NpYmx5IG90aGVycykgZXhoaWJpdGVkIHN0cmFuZ2UgYmVoYXZpb3Igd2hlblxuICogbW91bnRpbmcgYG9ubW91c2Vtb3ZlYCBldmVudHMgYXQgc29tZSBub2RlIHRoYXQgd2FzIG5vdCB0aGUgZG9jdW1lbnRcbiAqIGVsZW1lbnQuIFRoZSBzeW1wdG9tcyB3ZXJlIHRoYXQgaWYgeW91ciBtb3VzZSBpcyBub3QgbW92aW5nIG92ZXIgc29tZXRoaW5nXG4gKiBjb250YWluZWQgd2l0aGluIHRoYXQgbW91bnQgcG9pbnQgKGZvciBleGFtcGxlIG9uIHRoZSBiYWNrZ3JvdW5kKSB0aGVcbiAqIHRvcC1sZXZlbCBsaXN0ZW5lcnMgZm9yIGBvbm1vdXNlbW92ZWAgd29uJ3QgYmUgY2FsbGVkLiBIb3dldmVyLCBpZiB5b3VcbiAqIHJlZ2lzdGVyIHRoZSBgbW91c2Vtb3ZlYCBvbiB0aGUgZG9jdW1lbnQgb2JqZWN0LCB0aGVuIGl0IHdpbGwgb2YgY291cnNlXG4gKiBjYXRjaCBhbGwgYG1vdXNlbW92ZWBzLiBUaGlzIGFsb25nIHdpdGggaU9TIHF1aXJrcywganVzdGlmaWVzIHJlc3RyaWN0aW5nXG4gKiB0b3AtbGV2ZWwgbGlzdGVuZXJzIHRvIHRoZSBkb2N1bWVudCBvYmplY3Qgb25seSwgYXQgbGVhc3QgZm9yIHRoZXNlXG4gKiBtb3ZlbWVudCB0eXBlcyBvZiBldmVudHMgYW5kIHBvc3NpYmx5IGFsbCBldmVudHMuXG4gKlxuICogQHNlZSBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2Jsb2cvYXJjaGl2ZXMvMjAxMC8wOS9jbGlja19ldmVudF9kZWwuaHRtbFxuICpcbiAqIEFsc28sIGBrZXl1cGAvYGtleXByZXNzYC9ga2V5ZG93bmAgZG8gbm90IGJ1YmJsZSB0byB0aGUgd2luZG93IG9uIElFLCBidXRcbiAqIHRoZXkgYnViYmxlIHRvIGRvY3VtZW50LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWdpc3RyYXRpb25OYW1lIE5hbWUgb2YgbGlzdGVuZXIgKGUuZy4gYG9uQ2xpY2tgKS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZW50RG9jdW1lbnRIYW5kbGUgRG9jdW1lbnQgd2hpY2ggb3ducyB0aGUgY29udGFpbmVyXG4gKi9cbmZ1bmN0aW9uIGxpc3RlblRvKHJlZ2lzdHJhdGlvbk5hbWUsIGNvbnRlbnREb2N1bWVudEhhbmRsZSkge1xuICB2YXIgbW91bnRBdCA9IGNvbnRlbnREb2N1bWVudEhhbmRsZTtcbiAgdmFyIGlzTGlzdGVuaW5nID0gZ2V0TGlzdGVuaW5nRm9yRG9jdW1lbnQobW91bnRBdCk7XG4gIHZhciBkZXBlbmRlbmNpZXMgPSByZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzW3JlZ2lzdHJhdGlvbk5hbWVdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlcGVuZGVuY3kgPSBkZXBlbmRlbmNpZXNbaV07XG4gICAgaWYgKCEoaXNMaXN0ZW5pbmcuaGFzT3duUHJvcGVydHkoZGVwZW5kZW5jeSkgJiYgaXNMaXN0ZW5pbmdbZGVwZW5kZW5jeV0pKSB7XG4gICAgICBpZiAoZGVwZW5kZW5jeSA9PT0gJ3RvcFNjcm9sbCcpIHtcbiAgICAgICAgdHJhcENhcHR1cmVkRXZlbnQoJ3RvcFNjcm9sbCcsICdzY3JvbGwnLCBtb3VudEF0KTtcbiAgICAgIH0gZWxzZSBpZiAoZGVwZW5kZW5jeSA9PT0gJ3RvcEZvY3VzJyB8fCBkZXBlbmRlbmN5ID09PSAndG9wQmx1cicpIHtcbiAgICAgICAgdHJhcENhcHR1cmVkRXZlbnQoJ3RvcEZvY3VzJywgJ2ZvY3VzJywgbW91bnRBdCk7XG4gICAgICAgIHRyYXBDYXB0dXJlZEV2ZW50KCd0b3BCbHVyJywgJ2JsdXInLCBtb3VudEF0KTtcblxuICAgICAgICAvLyB0byBtYWtlIHN1cmUgYmx1ciBhbmQgZm9jdXMgZXZlbnQgbGlzdGVuZXJzIGFyZSBvbmx5IGF0dGFjaGVkIG9uY2VcbiAgICAgICAgaXNMaXN0ZW5pbmcudG9wQmx1ciA9IHRydWU7XG4gICAgICAgIGlzTGlzdGVuaW5nLnRvcEZvY3VzID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoZGVwZW5kZW5jeSA9PT0gJ3RvcENhbmNlbCcpIHtcbiAgICAgICAgaWYgKGlzRXZlbnRTdXBwb3J0ZWQoJ2NhbmNlbCcsIHRydWUpKSB7XG4gICAgICAgICAgdHJhcENhcHR1cmVkRXZlbnQoJ3RvcENhbmNlbCcsICdjYW5jZWwnLCBtb3VudEF0KTtcbiAgICAgICAgfVxuICAgICAgICBpc0xpc3RlbmluZy50b3BDYW5jZWwgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChkZXBlbmRlbmN5ID09PSAndG9wQ2xvc2UnKSB7XG4gICAgICAgIGlmIChpc0V2ZW50U3VwcG9ydGVkKCdjbG9zZScsIHRydWUpKSB7XG4gICAgICAgICAgdHJhcENhcHR1cmVkRXZlbnQoJ3RvcENsb3NlJywgJ2Nsb3NlJywgbW91bnRBdCk7XG4gICAgICAgIH1cbiAgICAgICAgaXNMaXN0ZW5pbmcudG9wQ2xvc2UgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmICh0b3BMZXZlbFR5cGVzLmhhc093blByb3BlcnR5KGRlcGVuZGVuY3kpKSB7XG4gICAgICAgIHRyYXBCdWJibGVkRXZlbnQoZGVwZW5kZW5jeSwgdG9wTGV2ZWxUeXBlc1tkZXBlbmRlbmN5XSwgbW91bnRBdCk7XG4gICAgICB9XG5cbiAgICAgIGlzTGlzdGVuaW5nW2RlcGVuZGVuY3ldID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNMaXN0ZW5pbmdUb0FsbERlcGVuZGVuY2llcyhyZWdpc3RyYXRpb25OYW1lLCBtb3VudEF0KSB7XG4gIHZhciBpc0xpc3RlbmluZyA9IGdldExpc3RlbmluZ0ZvckRvY3VtZW50KG1vdW50QXQpO1xuICB2YXIgZGVwZW5kZW5jaWVzID0gcmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llc1tyZWdpc3RyYXRpb25OYW1lXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVwZW5kZW5jeSA9IGRlcGVuZGVuY2llc1tpXTtcbiAgICBpZiAoIShpc0xpc3RlbmluZy5oYXNPd25Qcm9wZXJ0eShkZXBlbmRlbmN5KSAmJiBpc0xpc3RlbmluZ1tkZXBlbmRlbmN5XSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogR2l2ZW4gYW55IG5vZGUgcmV0dXJuIHRoZSBmaXJzdCBsZWFmIG5vZGUgd2l0aG91dCBjaGlsZHJlbi5cbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9IG5vZGVcbiAqIEByZXR1cm4ge0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9XG4gKi9cbmZ1bmN0aW9uIGdldExlYWZOb2RlKG5vZGUpIHtcbiAgd2hpbGUgKG5vZGUgJiYgbm9kZS5maXJzdENoaWxkKSB7XG4gICAgbm9kZSA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgfVxuICByZXR1cm4gbm9kZTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIG5leHQgc2libGluZyB3aXRoaW4gYSBjb250YWluZXIuIFRoaXMgd2lsbCB3YWxrIHVwIHRoZVxuICogRE9NIGlmIGEgbm9kZSdzIHNpYmxpbmdzIGhhdmUgYmVlbiBleGhhdXN0ZWQuXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fERPTVRleHROb2RlfSBub2RlXG4gKiBAcmV0dXJuIHs/RE9NRWxlbWVudHxET01UZXh0Tm9kZX1cbiAqL1xuZnVuY3Rpb24gZ2V0U2libGluZ05vZGUobm9kZSkge1xuICB3aGlsZSAobm9kZSkge1xuICAgIGlmIChub2RlLm5leHRTaWJsaW5nKSB7XG4gICAgICByZXR1cm4gbm9kZS5uZXh0U2libGluZztcbiAgICB9XG4gICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgfVxufVxuXG4vKipcbiAqIEdldCBvYmplY3QgZGVzY3JpYmluZyB0aGUgbm9kZXMgd2hpY2ggY29udGFpbiBjaGFyYWN0ZXJzIGF0IG9mZnNldC5cbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9IHJvb3RcbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXRcbiAqIEByZXR1cm4gez9vYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQocm9vdCwgb2Zmc2V0KSB7XG4gIHZhciBub2RlID0gZ2V0TGVhZk5vZGUocm9vdCk7XG4gIHZhciBub2RlU3RhcnQgPSAwO1xuICB2YXIgbm9kZUVuZCA9IDA7XG5cbiAgd2hpbGUgKG5vZGUpIHtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gVEVYVF9OT0RFKSB7XG4gICAgICBub2RlRW5kID0gbm9kZVN0YXJ0ICsgbm9kZS50ZXh0Q29udGVudC5sZW5ndGg7XG5cbiAgICAgIGlmIChub2RlU3RhcnQgPD0gb2Zmc2V0ICYmIG5vZGVFbmQgPj0gb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbm9kZTogbm9kZSxcbiAgICAgICAgICBvZmZzZXQ6IG9mZnNldCAtIG5vZGVTdGFydFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBub2RlU3RhcnQgPSBub2RlRW5kO1xuICAgIH1cblxuICAgIG5vZGUgPSBnZXRMZWFmTm9kZShnZXRTaWJsaW5nTm9kZShub2RlKSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IG91dGVyTm9kZVxuICogQHJldHVybiB7P29iamVjdH1cbiAqL1xuZnVuY3Rpb24gZ2V0T2Zmc2V0cyhvdXRlck5vZGUpIHtcbiAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24gJiYgd2luZG93LmdldFNlbGVjdGlvbigpO1xuXG4gIGlmICghc2VsZWN0aW9uIHx8IHNlbGVjdGlvbi5yYW5nZUNvdW50ID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgYW5jaG9yTm9kZSA9IHNlbGVjdGlvbi5hbmNob3JOb2RlLFxuICAgICAgYW5jaG9yT2Zmc2V0ID0gc2VsZWN0aW9uLmFuY2hvck9mZnNldCxcbiAgICAgIGZvY3VzTm9kZSA9IHNlbGVjdGlvbi5mb2N1c05vZGUsXG4gICAgICBmb2N1c09mZnNldCA9IHNlbGVjdGlvbi5mb2N1c09mZnNldDtcblxuICAvLyBJbiBGaXJlZm94LCBhbmNob3JOb2RlIGFuZCBmb2N1c05vZGUgY2FuIGJlIFwiYW5vbnltb3VzIGRpdnNcIiwgZS5nLiB0aGVcbiAgLy8gdXAvZG93biBidXR0b25zIG9uIGFuIDxpbnB1dCB0eXBlPVwibnVtYmVyXCI+LiBBbm9ueW1vdXMgZGl2cyBkbyBub3Qgc2VlbSB0b1xuICAvLyBleHBvc2UgcHJvcGVydGllcywgdHJpZ2dlcmluZyBhIFwiUGVybWlzc2lvbiBkZW5pZWQgZXJyb3JcIiBpZiBhbnkgb2YgaXRzXG4gIC8vIHByb3BlcnRpZXMgYXJlIGFjY2Vzc2VkLiBUaGUgb25seSBzZWVtaW5nbHkgcG9zc2libGUgd2F5IHRvIGF2b2lkIGVycm9yaW5nXG4gIC8vIGlzIHRvIGFjY2VzcyBhIHByb3BlcnR5IHRoYXQgdHlwaWNhbGx5IHdvcmtzIGZvciBub24tYW5vbnltb3VzIGRpdnMgYW5kXG4gIC8vIGNhdGNoIGFueSBlcnJvciB0aGF0IG1heSBvdGhlcndpc2UgYXJpc2UuIFNlZVxuICAvLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0yMDg0MjdcblxuICB0cnkge1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC1leHByZXNzaW9ucyAqL1xuICAgIGFuY2hvck5vZGUubm9kZVR5cGU7XG4gICAgZm9jdXNOb2RlLm5vZGVUeXBlO1xuICAgIC8qIGVzbGludC1lbmFibGUgbm8tdW51c2VkLWV4cHJlc3Npb25zICovXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBnZXRNb2Rlcm5PZmZzZXRzRnJvbVBvaW50cyhvdXRlck5vZGUsIGFuY2hvck5vZGUsIGFuY2hvck9mZnNldCwgZm9jdXNOb2RlLCBmb2N1c09mZnNldCk7XG59XG5cbi8qKlxuICogUmV0dXJucyB7c3RhcnQsIGVuZH0gd2hlcmUgYHN0YXJ0YCBpcyB0aGUgY2hhcmFjdGVyL2NvZGVwb2ludCBpbmRleCBvZlxuICogKGFuY2hvck5vZGUsIGFuY2hvck9mZnNldCkgd2l0aGluIHRoZSB0ZXh0Q29udGVudCBvZiBgb3V0ZXJOb2RlYCwgYW5kXG4gKiBgZW5kYCBpcyB0aGUgaW5kZXggb2YgKGZvY3VzTm9kZSwgZm9jdXNPZmZzZXQpLlxuICpcbiAqIFJldHVybnMgbnVsbCBpZiB5b3UgcGFzcyBpbiBnYXJiYWdlIGlucHV0IGJ1dCB3ZSBzaG91bGQgcHJvYmFibHkganVzdCBjcmFzaC5cbiAqXG4gKiBFeHBvcnRlZCBvbmx5IGZvciB0ZXN0aW5nLlxuICovXG5mdW5jdGlvbiBnZXRNb2Rlcm5PZmZzZXRzRnJvbVBvaW50cyhvdXRlck5vZGUsIGFuY2hvck5vZGUsIGFuY2hvck9mZnNldCwgZm9jdXNOb2RlLCBmb2N1c09mZnNldCkge1xuICB2YXIgbGVuZ3RoID0gMDtcbiAgdmFyIHN0YXJ0ID0gLTE7XG4gIHZhciBlbmQgPSAtMTtcbiAgdmFyIGluZGV4V2l0aGluQW5jaG9yID0gMDtcbiAgdmFyIGluZGV4V2l0aGluRm9jdXMgPSAwO1xuICB2YXIgbm9kZSA9IG91dGVyTm9kZTtcbiAgdmFyIHBhcmVudE5vZGUgPSBudWxsO1xuXG4gIG91dGVyOiB3aGlsZSAodHJ1ZSkge1xuICAgIHZhciBuZXh0ID0gbnVsbDtcblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAobm9kZSA9PT0gYW5jaG9yTm9kZSAmJiAoYW5jaG9yT2Zmc2V0ID09PSAwIHx8IG5vZGUubm9kZVR5cGUgPT09IFRFWFRfTk9ERSkpIHtcbiAgICAgICAgc3RhcnQgPSBsZW5ndGggKyBhbmNob3JPZmZzZXQ7XG4gICAgICB9XG4gICAgICBpZiAobm9kZSA9PT0gZm9jdXNOb2RlICYmIChmb2N1c09mZnNldCA9PT0gMCB8fCBub2RlLm5vZGVUeXBlID09PSBURVhUX05PREUpKSB7XG4gICAgICAgIGVuZCA9IGxlbmd0aCArIGZvY3VzT2Zmc2V0O1xuICAgICAgfVxuXG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gVEVYVF9OT0RFKSB7XG4gICAgICAgIGxlbmd0aCArPSBub2RlLm5vZGVWYWx1ZS5sZW5ndGg7XG4gICAgICB9XG5cbiAgICAgIGlmICgobmV4dCA9IG5vZGUuZmlyc3RDaGlsZCkgPT09IG51bGwpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICAvLyBNb3ZpbmcgZnJvbSBgbm9kZWAgdG8gaXRzIGZpcnN0IGNoaWxkIGBuZXh0YC5cbiAgICAgIHBhcmVudE5vZGUgPSBub2RlO1xuICAgICAgbm9kZSA9IG5leHQ7XG4gICAgfVxuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmIChub2RlID09PSBvdXRlck5vZGUpIHtcbiAgICAgICAgLy8gSWYgYG91dGVyTm9kZWAgaGFzIGNoaWxkcmVuLCB0aGlzIGlzIGFsd2F5cyB0aGUgc2Vjb25kIHRpbWUgdmlzaXRpbmdcbiAgICAgICAgLy8gaXQuIElmIGl0IGhhcyBubyBjaGlsZHJlbiwgdGhpcyBpcyBzdGlsbCB0aGUgZmlyc3QgbG9vcCwgYW5kIHRoZSBvbmx5XG4gICAgICAgIC8vIHZhbGlkIHNlbGVjdGlvbiBpcyBhbmNob3JOb2RlIGFuZCBmb2N1c05vZGUgYm90aCBlcXVhbCB0byB0aGlzIG5vZGVcbiAgICAgICAgLy8gYW5kIGJvdGggb2Zmc2V0cyAwLCBpbiB3aGljaCBjYXNlIHdlIHdpbGwgaGF2ZSBoYW5kbGVkIGFib3ZlLlxuICAgICAgICBicmVhayBvdXRlcjtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJlbnROb2RlID09PSBhbmNob3JOb2RlICYmICsraW5kZXhXaXRoaW5BbmNob3IgPT09IGFuY2hvck9mZnNldCkge1xuICAgICAgICBzdGFydCA9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJlbnROb2RlID09PSBmb2N1c05vZGUgJiYgKytpbmRleFdpdGhpbkZvY3VzID09PSBmb2N1c09mZnNldCkge1xuICAgICAgICBlbmQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBpZiAoKG5leHQgPSBub2RlLm5leHRTaWJsaW5nKSAhPT0gbnVsbCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIG5vZGUgPSBwYXJlbnROb2RlO1xuICAgICAgcGFyZW50Tm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9XG5cbiAgICAvLyBNb3ZpbmcgZnJvbSBgbm9kZWAgdG8gaXRzIG5leHQgc2libGluZyBgbmV4dGAuXG4gICAgbm9kZSA9IG5leHQ7XG4gIH1cblxuICBpZiAoc3RhcnQgPT09IC0xIHx8IGVuZCA9PT0gLTEpIHtcbiAgICAvLyBUaGlzIHNob3VsZCBuZXZlciBoYXBwZW4uIChXb3VsZCBoYXBwZW4gaWYgdGhlIGFuY2hvci9mb2N1cyBub2RlcyBhcmVuJ3RcbiAgICAvLyBhY3R1YWxseSBpbnNpZGUgdGhlIHBhc3NlZC1pbiBub2RlLilcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3RhcnQ6IHN0YXJ0LFxuICAgIGVuZDogZW5kXG4gIH07XG59XG5cbi8qKlxuICogSW4gbW9kZXJuIG5vbi1JRSBicm93c2Vycywgd2UgY2FuIHN1cHBvcnQgYm90aCBmb3J3YXJkIGFuZCBiYWNrd2FyZFxuICogc2VsZWN0aW9ucy5cbiAqXG4gKiBOb3RlOiBJRTEwKyBzdXBwb3J0cyB0aGUgU2VsZWN0aW9uIG9iamVjdCwgYnV0IGl0IGRvZXMgbm90IHN1cHBvcnRcbiAqIHRoZSBgZXh0ZW5kYCBtZXRob2QsIHdoaWNoIG1lYW5zIHRoYXQgZXZlbiBpbiBtb2Rlcm4gSUUsIGl0J3Mgbm90IHBvc3NpYmxlXG4gKiB0byBwcm9ncmFtbWF0aWNhbGx5IGNyZWF0ZSBhIGJhY2t3YXJkIHNlbGVjdGlvbi4gVGh1cywgZm9yIGFsbCBJRVxuICogdmVyc2lvbnMsIHdlIHVzZSB0aGUgb2xkIElFIEFQSSB0byBjcmVhdGUgb3VyIHNlbGVjdGlvbnMuXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fERPTVRleHROb2RlfSBub2RlXG4gKiBAcGFyYW0ge29iamVjdH0gb2Zmc2V0c1xuICovXG5mdW5jdGlvbiBzZXRPZmZzZXRzKG5vZGUsIG9mZnNldHMpIHtcbiAgaWYgKCF3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgdmFyIGxlbmd0aCA9IG5vZGVbZ2V0VGV4dENvbnRlbnRBY2Nlc3NvcigpXS5sZW5ndGg7XG4gIHZhciBzdGFydCA9IE1hdGgubWluKG9mZnNldHMuc3RhcnQsIGxlbmd0aCk7XG4gIHZhciBlbmQgPSBvZmZzZXRzLmVuZCA9PT0gdW5kZWZpbmVkID8gc3RhcnQgOiBNYXRoLm1pbihvZmZzZXRzLmVuZCwgbGVuZ3RoKTtcblxuICAvLyBJRSAxMSB1c2VzIG1vZGVybiBzZWxlY3Rpb24sIGJ1dCBkb2Vzbid0IHN1cHBvcnQgdGhlIGV4dGVuZCBtZXRob2QuXG4gIC8vIEZsaXAgYmFja3dhcmQgc2VsZWN0aW9ucywgc28gd2UgY2FuIHNldCB3aXRoIGEgc2luZ2xlIHJhbmdlLlxuICBpZiAoIXNlbGVjdGlvbi5leHRlbmQgJiYgc3RhcnQgPiBlbmQpIHtcbiAgICB2YXIgdGVtcCA9IGVuZDtcbiAgICBlbmQgPSBzdGFydDtcbiAgICBzdGFydCA9IHRlbXA7XG4gIH1cblxuICB2YXIgc3RhcnRNYXJrZXIgPSBnZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0KG5vZGUsIHN0YXJ0KTtcbiAgdmFyIGVuZE1hcmtlciA9IGdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQobm9kZSwgZW5kKTtcblxuICBpZiAoc3RhcnRNYXJrZXIgJiYgZW5kTWFya2VyKSB7XG4gICAgaWYgKHNlbGVjdGlvbi5yYW5nZUNvdW50ID09PSAxICYmIHNlbGVjdGlvbi5hbmNob3JOb2RlID09PSBzdGFydE1hcmtlci5ub2RlICYmIHNlbGVjdGlvbi5hbmNob3JPZmZzZXQgPT09IHN0YXJ0TWFya2VyLm9mZnNldCAmJiBzZWxlY3Rpb24uZm9jdXNOb2RlID09PSBlbmRNYXJrZXIubm9kZSAmJiBzZWxlY3Rpb24uZm9jdXNPZmZzZXQgPT09IGVuZE1hcmtlci5vZmZzZXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICByYW5nZS5zZXRTdGFydChzdGFydE1hcmtlci5ub2RlLCBzdGFydE1hcmtlci5vZmZzZXQpO1xuICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcblxuICAgIGlmIChzdGFydCA+IGVuZCkge1xuICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcbiAgICAgIHNlbGVjdGlvbi5leHRlbmQoZW5kTWFya2VyLm5vZGUsIGVuZE1hcmtlci5vZmZzZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByYW5nZS5zZXRFbmQoZW5kTWFya2VyLm5vZGUsIGVuZE1hcmtlci5vZmZzZXQpO1xuICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNJbkRvY3VtZW50KG5vZGUpIHtcbiAgcmV0dXJuIGNvbnRhaW5zTm9kZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIG5vZGUpO1xufVxuXG4vKipcbiAqIEBSZWFjdElucHV0U2VsZWN0aW9uOiBSZWFjdCBpbnB1dCBzZWxlY3Rpb24gbW9kdWxlLiBCYXNlZCBvbiBTZWxlY3Rpb24uanMsXG4gKiBidXQgbW9kaWZpZWQgdG8gYmUgc3VpdGFibGUgZm9yIHJlYWN0IGFuZCBoYXMgYSBjb3VwbGUgb2YgYnVnIGZpeGVzIChkb2Vzbid0XG4gKiBhc3N1bWUgYnV0dG9ucyBoYXZlIHJhbmdlIHNlbGVjdGlvbnMgYWxsb3dlZCkuXG4gKiBJbnB1dCBzZWxlY3Rpb24gbW9kdWxlIGZvciBSZWFjdC5cbiAqL1xuXG5mdW5jdGlvbiBoYXNTZWxlY3Rpb25DYXBhYmlsaXRpZXMoZWxlbSkge1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtICYmIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gbm9kZU5hbWUgJiYgKG5vZGVOYW1lID09PSAnaW5wdXQnICYmIGVsZW0udHlwZSA9PT0gJ3RleHQnIHx8IG5vZGVOYW1lID09PSAndGV4dGFyZWEnIHx8IGVsZW0uY29udGVudEVkaXRhYmxlID09PSAndHJ1ZScpO1xufVxuXG5mdW5jdGlvbiBnZXRTZWxlY3Rpb25JbmZvcm1hdGlvbigpIHtcbiAgdmFyIGZvY3VzZWRFbGVtID0gZ2V0QWN0aXZlRWxlbWVudCgpO1xuICByZXR1cm4ge1xuICAgIGZvY3VzZWRFbGVtOiBmb2N1c2VkRWxlbSxcbiAgICBzZWxlY3Rpb25SYW5nZTogaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzKGZvY3VzZWRFbGVtKSA/IGdldFNlbGVjdGlvbiQxKGZvY3VzZWRFbGVtKSA6IG51bGxcbiAgfTtcbn1cblxuLyoqXG4gKiBAcmVzdG9yZVNlbGVjdGlvbjogSWYgYW55IHNlbGVjdGlvbiBpbmZvcm1hdGlvbiB3YXMgcG90ZW50aWFsbHkgbG9zdCxcbiAqIHJlc3RvcmUgaXQuIFRoaXMgaXMgdXNlZnVsIHdoZW4gcGVyZm9ybWluZyBvcGVyYXRpb25zIHRoYXQgY291bGQgcmVtb3ZlIGRvbVxuICogbm9kZXMgYW5kIHBsYWNlIHRoZW0gYmFjayBpbiwgcmVzdWx0aW5nIGluIGZvY3VzIGJlaW5nIGxvc3QuXG4gKi9cbmZ1bmN0aW9uIHJlc3RvcmVTZWxlY3Rpb24ocHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbikge1xuICB2YXIgY3VyRm9jdXNlZEVsZW0gPSBnZXRBY3RpdmVFbGVtZW50KCk7XG4gIHZhciBwcmlvckZvY3VzZWRFbGVtID0gcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbi5mb2N1c2VkRWxlbTtcbiAgdmFyIHByaW9yU2VsZWN0aW9uUmFuZ2UgPSBwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uLnNlbGVjdGlvblJhbmdlO1xuICBpZiAoY3VyRm9jdXNlZEVsZW0gIT09IHByaW9yRm9jdXNlZEVsZW0gJiYgaXNJbkRvY3VtZW50KHByaW9yRm9jdXNlZEVsZW0pKSB7XG4gICAgaWYgKGhhc1NlbGVjdGlvbkNhcGFiaWxpdGllcyhwcmlvckZvY3VzZWRFbGVtKSkge1xuICAgICAgc2V0U2VsZWN0aW9uKHByaW9yRm9jdXNlZEVsZW0sIHByaW9yU2VsZWN0aW9uUmFuZ2UpO1xuICAgIH1cblxuICAgIC8vIEZvY3VzaW5nIGEgbm9kZSBjYW4gY2hhbmdlIHRoZSBzY3JvbGwgcG9zaXRpb24sIHdoaWNoIGlzIHVuZGVzaXJhYmxlXG4gICAgdmFyIGFuY2VzdG9ycyA9IFtdO1xuICAgIHZhciBhbmNlc3RvciA9IHByaW9yRm9jdXNlZEVsZW07XG4gICAgd2hpbGUgKGFuY2VzdG9yID0gYW5jZXN0b3IucGFyZW50Tm9kZSkge1xuICAgICAgaWYgKGFuY2VzdG9yLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICAgICAgYW5jZXN0b3JzLnB1c2goe1xuICAgICAgICAgIGVsZW1lbnQ6IGFuY2VzdG9yLFxuICAgICAgICAgIGxlZnQ6IGFuY2VzdG9yLnNjcm9sbExlZnQsXG4gICAgICAgICAgdG9wOiBhbmNlc3Rvci5zY3JvbGxUb3BcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcHJpb3JGb2N1c2VkRWxlbS5mb2N1cygpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmNlc3RvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpbmZvID0gYW5jZXN0b3JzW2ldO1xuICAgICAgaW5mby5lbGVtZW50LnNjcm9sbExlZnQgPSBpbmZvLmxlZnQ7XG4gICAgICBpbmZvLmVsZW1lbnQuc2Nyb2xsVG9wID0gaW5mby50b3A7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQGdldFNlbGVjdGlvbjogR2V0cyB0aGUgc2VsZWN0aW9uIGJvdW5kcyBvZiBhIGZvY3VzZWQgdGV4dGFyZWEsIGlucHV0IG9yXG4gKiBjb250ZW50RWRpdGFibGUgbm9kZS5cbiAqIC1AaW5wdXQ6IExvb2sgdXAgc2VsZWN0aW9uIGJvdW5kcyBvZiB0aGlzIGlucHV0XG4gKiAtQHJldHVybiB7c3RhcnQ6IHNlbGVjdGlvblN0YXJ0LCBlbmQ6IHNlbGVjdGlvbkVuZH1cbiAqL1xuZnVuY3Rpb24gZ2V0U2VsZWN0aW9uJDEoaW5wdXQpIHtcbiAgdmFyIHNlbGVjdGlvbiA9IHZvaWQgMDtcblxuICBpZiAoJ3NlbGVjdGlvblN0YXJ0JyBpbiBpbnB1dCkge1xuICAgIC8vIE1vZGVybiBicm93c2VyIHdpdGggaW5wdXQgb3IgdGV4dGFyZWEuXG4gICAgc2VsZWN0aW9uID0ge1xuICAgICAgc3RhcnQ6IGlucHV0LnNlbGVjdGlvblN0YXJ0LFxuICAgICAgZW5kOiBpbnB1dC5zZWxlY3Rpb25FbmRcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIC8vIENvbnRlbnQgZWRpdGFibGUgb3Igb2xkIElFIHRleHRhcmVhLlxuICAgIHNlbGVjdGlvbiA9IGdldE9mZnNldHMoaW5wdXQpO1xuICB9XG5cbiAgcmV0dXJuIHNlbGVjdGlvbiB8fCB7IHN0YXJ0OiAwLCBlbmQ6IDAgfTtcbn1cblxuLyoqXG4gKiBAc2V0U2VsZWN0aW9uOiBTZXRzIHRoZSBzZWxlY3Rpb24gYm91bmRzIG9mIGEgdGV4dGFyZWEgb3IgaW5wdXQgYW5kIGZvY3VzZXNcbiAqIHRoZSBpbnB1dC5cbiAqIC1AaW5wdXQgICAgIFNldCBzZWxlY3Rpb24gYm91bmRzIG9mIHRoaXMgaW5wdXQgb3IgdGV4dGFyZWFcbiAqIC1Ab2Zmc2V0cyAgIE9iamVjdCBvZiBzYW1lIGZvcm0gdGhhdCBpcyByZXR1cm5lZCBmcm9tIGdldCpcbiAqL1xuZnVuY3Rpb24gc2V0U2VsZWN0aW9uKGlucHV0LCBvZmZzZXRzKSB7XG4gIHZhciBzdGFydCA9IG9mZnNldHMuc3RhcnQsXG4gICAgICBlbmQgPSBvZmZzZXRzLmVuZDtcblxuICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmQgPSBzdGFydDtcbiAgfVxuXG4gIGlmICgnc2VsZWN0aW9uU3RhcnQnIGluIGlucHV0KSB7XG4gICAgaW5wdXQuc2VsZWN0aW9uU3RhcnQgPSBzdGFydDtcbiAgICBpbnB1dC5zZWxlY3Rpb25FbmQgPSBNYXRoLm1pbihlbmQsIGlucHV0LnZhbHVlLmxlbmd0aCk7XG4gIH0gZWxzZSB7XG4gICAgc2V0T2Zmc2V0cyhpbnB1dCwgb2Zmc2V0cyk7XG4gIH1cbn1cblxudmFyIHNraXBTZWxlY3Rpb25DaGFuZ2VFdmVudCA9IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiAnZG9jdW1lbnRNb2RlJyBpbiBkb2N1bWVudCAmJiBkb2N1bWVudC5kb2N1bWVudE1vZGUgPD0gMTE7XG5cbnZhciBldmVudFR5cGVzJDMgPSB7XG4gIHNlbGVjdDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiAnb25TZWxlY3QnLFxuICAgICAgY2FwdHVyZWQ6ICdvblNlbGVjdENhcHR1cmUnXG4gICAgfSxcbiAgICBkZXBlbmRlbmNpZXM6IFsndG9wQmx1cicsICd0b3BDb250ZXh0TWVudScsICd0b3BGb2N1cycsICd0b3BLZXlEb3duJywgJ3RvcEtleVVwJywgJ3RvcE1vdXNlRG93bicsICd0b3BNb3VzZVVwJywgJ3RvcFNlbGVjdGlvbkNoYW5nZSddXG4gIH1cbn07XG5cbnZhciBhY3RpdmVFbGVtZW50JDEgPSBudWxsO1xudmFyIGFjdGl2ZUVsZW1lbnRJbnN0JDEgPSBudWxsO1xudmFyIGxhc3RTZWxlY3Rpb24gPSBudWxsO1xudmFyIG1vdXNlRG93biA9IGZhbHNlO1xuXG4vKipcbiAqIEdldCBhbiBvYmplY3Qgd2hpY2ggaXMgYSB1bmlxdWUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuICpcbiAqIFRoZSByZXR1cm4gdmFsdWUgd2lsbCBub3QgYmUgY29uc2lzdGVudCBhY3Jvc3Mgbm9kZXMgb3IgYnJvd3NlcnMsIGJ1dFxuICogdHdvIGlkZW50aWNhbCBzZWxlY3Rpb25zIG9uIHRoZSBzYW1lIG5vZGUgd2lsbCByZXR1cm4gaWRlbnRpY2FsIG9iamVjdHMuXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGdldFNlbGVjdGlvbihub2RlKSB7XG4gIGlmICgnc2VsZWN0aW9uU3RhcnQnIGluIG5vZGUgJiYgaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzKG5vZGUpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXJ0OiBub2RlLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgZW5kOiBub2RlLnNlbGVjdGlvbkVuZFxuICAgIH07XG4gIH0gZWxzZSBpZiAod2luZG93LmdldFNlbGVjdGlvbikge1xuICAgIHZhciBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFuY2hvck5vZGU6IHNlbGVjdGlvbi5hbmNob3JOb2RlLFxuICAgICAgYW5jaG9yT2Zmc2V0OiBzZWxlY3Rpb24uYW5jaG9yT2Zmc2V0LFxuICAgICAgZm9jdXNOb2RlOiBzZWxlY3Rpb24uZm9jdXNOb2RlLFxuICAgICAgZm9jdXNPZmZzZXQ6IHNlbGVjdGlvbi5mb2N1c09mZnNldFxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBQb2xsIHNlbGVjdGlvbiB0byBzZWUgd2hldGhlciBpdCdzIGNoYW5nZWQuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50XG4gKiBAcmV0dXJuIHs/U3ludGhldGljRXZlbnR9XG4gKi9cbmZ1bmN0aW9uIGNvbnN0cnVjdFNlbGVjdEV2ZW50KG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAvLyBFbnN1cmUgd2UgaGF2ZSB0aGUgcmlnaHQgZWxlbWVudCwgYW5kIHRoYXQgdGhlIHVzZXIgaXMgbm90IGRyYWdnaW5nIGFcbiAgLy8gc2VsZWN0aW9uICh0aGlzIG1hdGNoZXMgbmF0aXZlIGBzZWxlY3RgIGV2ZW50IGJlaGF2aW9yKS4gSW4gSFRNTDUsIHNlbGVjdFxuICAvLyBmaXJlcyBvbmx5IG9uIGlucHV0IGFuZCB0ZXh0YXJlYSB0aHVzIGlmIHRoZXJlJ3Mgbm8gZm9jdXNlZCBlbGVtZW50IHdlXG4gIC8vIHdvbid0IGRpc3BhdGNoLlxuICBpZiAobW91c2VEb3duIHx8IGFjdGl2ZUVsZW1lbnQkMSA9PSBudWxsIHx8IGFjdGl2ZUVsZW1lbnQkMSAhPT0gZ2V0QWN0aXZlRWxlbWVudCgpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBPbmx5IGZpcmUgd2hlbiBzZWxlY3Rpb24gaGFzIGFjdHVhbGx5IGNoYW5nZWQuXG4gIHZhciBjdXJyZW50U2VsZWN0aW9uID0gZ2V0U2VsZWN0aW9uKGFjdGl2ZUVsZW1lbnQkMSk7XG4gIGlmICghbGFzdFNlbGVjdGlvbiB8fCAhc2hhbGxvd0VxdWFsKGxhc3RTZWxlY3Rpb24sIGN1cnJlbnRTZWxlY3Rpb24pKSB7XG4gICAgbGFzdFNlbGVjdGlvbiA9IGN1cnJlbnRTZWxlY3Rpb247XG5cbiAgICB2YXIgc3ludGhldGljRXZlbnQgPSBTeW50aGV0aWNFdmVudCQxLmdldFBvb2xlZChldmVudFR5cGVzJDMuc2VsZWN0LCBhY3RpdmVFbGVtZW50SW5zdCQxLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuXG4gICAgc3ludGhldGljRXZlbnQudHlwZSA9ICdzZWxlY3QnO1xuICAgIHN5bnRoZXRpY0V2ZW50LnRhcmdldCA9IGFjdGl2ZUVsZW1lbnQkMTtcblxuICAgIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoc3ludGhldGljRXZlbnQpO1xuXG4gICAgcmV0dXJuIHN5bnRoZXRpY0V2ZW50O1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogVGhpcyBwbHVnaW4gY3JlYXRlcyBhbiBgb25TZWxlY3RgIGV2ZW50IHRoYXQgbm9ybWFsaXplcyBzZWxlY3QgZXZlbnRzXG4gKiBhY3Jvc3MgZm9ybSBlbGVtZW50cy5cbiAqXG4gKiBTdXBwb3J0ZWQgZWxlbWVudHMgYXJlOlxuICogLSBpbnB1dCAoc2VlIGBpc1RleHRJbnB1dEVsZW1lbnRgKVxuICogLSB0ZXh0YXJlYVxuICogLSBjb250ZW50RWRpdGFibGVcbiAqXG4gKiBUaGlzIGRpZmZlcnMgZnJvbSBuYXRpdmUgYnJvd3NlciBpbXBsZW1lbnRhdGlvbnMgaW4gdGhlIGZvbGxvd2luZyB3YXlzOlxuICogLSBGaXJlcyBvbiBjb250ZW50RWRpdGFibGUgZmllbGRzIGFzIHdlbGwgYXMgaW5wdXRzLlxuICogLSBGaXJlcyBmb3IgY29sbGFwc2VkIHNlbGVjdGlvbi5cbiAqIC0gRmlyZXMgYWZ0ZXIgdXNlciBpbnB1dC5cbiAqL1xudmFyIFNlbGVjdEV2ZW50UGx1Z2luID0ge1xuICBldmVudFR5cGVzOiBldmVudFR5cGVzJDMsXG5cbiAgZXh0cmFjdEV2ZW50czogZnVuY3Rpb24gKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgdmFyIGRvYyA9IG5hdGl2ZUV2ZW50VGFyZ2V0LndpbmRvdyA9PT0gbmF0aXZlRXZlbnRUYXJnZXQgPyBuYXRpdmVFdmVudFRhcmdldC5kb2N1bWVudCA6IG5hdGl2ZUV2ZW50VGFyZ2V0Lm5vZGVUeXBlID09PSBET0NVTUVOVF9OT0RFID8gbmF0aXZlRXZlbnRUYXJnZXQgOiBuYXRpdmVFdmVudFRhcmdldC5vd25lckRvY3VtZW50O1xuICAgIC8vIFRyYWNrIHdoZXRoZXIgYWxsIGxpc3RlbmVycyBleGlzdHMgZm9yIHRoaXMgcGx1Z2luLiBJZiBub25lIGV4aXN0LCB3ZSBkb1xuICAgIC8vIG5vdCBleHRyYWN0IGV2ZW50cy4gU2VlICMzNjM5LlxuICAgIGlmICghZG9jIHx8ICFpc0xpc3RlbmluZ1RvQWxsRGVwZW5kZW5jaWVzKCdvblNlbGVjdCcsIGRvYykpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciB0YXJnZXROb2RlID0gdGFyZ2V0SW5zdCA/IGdldE5vZGVGcm9tSW5zdGFuY2UkMSh0YXJnZXRJbnN0KSA6IHdpbmRvdztcblxuICAgIHN3aXRjaCAodG9wTGV2ZWxUeXBlKSB7XG4gICAgICAvLyBUcmFjayB0aGUgaW5wdXQgbm9kZSB0aGF0IGhhcyBmb2N1cy5cbiAgICAgIGNhc2UgJ3RvcEZvY3VzJzpcbiAgICAgICAgaWYgKGlzVGV4dElucHV0RWxlbWVudCh0YXJnZXROb2RlKSB8fCB0YXJnZXROb2RlLmNvbnRlbnRFZGl0YWJsZSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgYWN0aXZlRWxlbWVudCQxID0gdGFyZ2V0Tm9kZTtcbiAgICAgICAgICBhY3RpdmVFbGVtZW50SW5zdCQxID0gdGFyZ2V0SW5zdDtcbiAgICAgICAgICBsYXN0U2VsZWN0aW9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RvcEJsdXInOlxuICAgICAgICBhY3RpdmVFbGVtZW50JDEgPSBudWxsO1xuICAgICAgICBhY3RpdmVFbGVtZW50SW5zdCQxID0gbnVsbDtcbiAgICAgICAgbGFzdFNlbGVjdGlvbiA9IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gRG9uJ3QgZmlyZSB0aGUgZXZlbnQgd2hpbGUgdGhlIHVzZXIgaXMgZHJhZ2dpbmcuIFRoaXMgbWF0Y2hlcyB0aGVcbiAgICAgIC8vIHNlbWFudGljcyBvZiB0aGUgbmF0aXZlIHNlbGVjdCBldmVudC5cbiAgICAgIGNhc2UgJ3RvcE1vdXNlRG93bic6XG4gICAgICAgIG1vdXNlRG93biA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndG9wQ29udGV4dE1lbnUnOlxuICAgICAgY2FzZSAndG9wTW91c2VVcCc6XG4gICAgICAgIG1vdXNlRG93biA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gY29uc3RydWN0U2VsZWN0RXZlbnQobmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgICAgIC8vIENocm9tZSBhbmQgSUUgZmlyZSBub24tc3RhbmRhcmQgZXZlbnQgd2hlbiBzZWxlY3Rpb24gaXMgY2hhbmdlZCAoYW5kXG4gICAgICAvLyBzb21ldGltZXMgd2hlbiBpdCBoYXNuJ3QpLiBJRSdzIGV2ZW50IGZpcmVzIG91dCBvZiBvcmRlciB3aXRoIHJlc3BlY3RcbiAgICAgIC8vIHRvIGtleSBhbmQgaW5wdXQgZXZlbnRzIG9uIGRlbGV0aW9uLCBzbyB3ZSBkaXNjYXJkIGl0LlxuICAgICAgLy9cbiAgICAgIC8vIEZpcmVmb3ggZG9lc24ndCBzdXBwb3J0IHNlbGVjdGlvbmNoYW5nZSwgc28gY2hlY2sgc2VsZWN0aW9uIHN0YXR1c1xuICAgICAgLy8gYWZ0ZXIgZWFjaCBrZXkgZW50cnkuIFRoZSBzZWxlY3Rpb24gY2hhbmdlcyBhZnRlciBrZXlkb3duIGFuZCBiZWZvcmVcbiAgICAgIC8vIGtleXVwLCBidXQgd2UgY2hlY2sgb24ga2V5ZG93biBhcyB3ZWxsIGluIHRoZSBjYXNlIG9mIGhvbGRpbmcgZG93biBhXG4gICAgICAvLyBrZXksIHdoZW4gbXVsdGlwbGUga2V5ZG93biBldmVudHMgYXJlIGZpcmVkIGJ1dCBvbmx5IG9uZSBrZXl1cCBpcy5cbiAgICAgIC8vIFRoaXMgaXMgYWxzbyBvdXIgYXBwcm9hY2ggZm9yIElFIGhhbmRsaW5nLCBmb3IgdGhlIHJlYXNvbiBhYm92ZS5cbiAgICAgIGNhc2UgJ3RvcFNlbGVjdGlvbkNoYW5nZSc6XG4gICAgICAgIGlmIChza2lwU2VsZWN0aW9uQ2hhbmdlRXZlbnQpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgLy8gZmFsbHMgdGhyb3VnaFxuICAgICAgY2FzZSAndG9wS2V5RG93bic6XG4gICAgICBjYXNlICd0b3BLZXlVcCc6XG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3RTZWxlY3RFdmVudChuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG4vKipcbiAqIEluamVjdCBtb2R1bGVzIGZvciByZXNvbHZpbmcgRE9NIGhpZXJhcmNoeSBhbmQgcGx1Z2luIG9yZGVyaW5nLlxuICovXG5pbmplY3Rpb24uaW5qZWN0RXZlbnRQbHVnaW5PcmRlcihET01FdmVudFBsdWdpbk9yZGVyKTtcbmluamVjdGlvbiQxLmluamVjdENvbXBvbmVudFRyZWUoUmVhY3RET01Db21wb25lbnRUcmVlKTtcblxuLyoqXG4gKiBTb21lIGltcG9ydGFudCBldmVudCBwbHVnaW5zIGluY2x1ZGVkIGJ5IGRlZmF1bHQgKHdpdGhvdXQgaGF2aW5nIHRvIHJlcXVpcmVcbiAqIHRoZW0pLlxuICovXG5pbmplY3Rpb24uaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lKHtcbiAgU2ltcGxlRXZlbnRQbHVnaW46IFNpbXBsZUV2ZW50UGx1Z2luLFxuICBFbnRlckxlYXZlRXZlbnRQbHVnaW46IEVudGVyTGVhdmVFdmVudFBsdWdpbixcbiAgQ2hhbmdlRXZlbnRQbHVnaW46IENoYW5nZUV2ZW50UGx1Z2luLFxuICBTZWxlY3RFdmVudFBsdWdpbjogU2VsZWN0RXZlbnRQbHVnaW4sXG4gIEJlZm9yZUlucHV0RXZlbnRQbHVnaW46IEJlZm9yZUlucHV0RXZlbnRQbHVnaW5cbn0pO1xuXG4vLyBNYXggMzEgYml0IGludGVnZXIuIFRoZSBtYXggaW50ZWdlciBzaXplIGluIFY4IGZvciAzMi1iaXQgc3lzdGVtcy5cbi8vIE1hdGgucG93KDIsIDMwKSAtIDFcbi8vIDBiMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExXG52YXIgTUFYX1NJR05FRF8zMV9CSVRfSU5UID0gMTA3Mzc0MTgyMztcblxuLy8gVE9ETzogVXNlIGFuIG9wYXF1ZSB0eXBlIG9uY2UgRVNMaW50IGV0IGFsIHN1cHBvcnQgdGhlIHN5bnRheFxuXG5cbnZhciBOb1dvcmsgPSAwO1xudmFyIFN5bmMgPSAxO1xudmFyIE5ldmVyID0gTUFYX1NJR05FRF8zMV9CSVRfSU5UO1xuXG52YXIgVU5JVF9TSVpFID0gMTA7XG52YXIgTUFHSUNfTlVNQkVSX09GRlNFVCA9IDI7XG5cbi8vIDEgdW5pdCBvZiBleHBpcmF0aW9uIHRpbWUgcmVwcmVzZW50cyAxMG1zLlxuZnVuY3Rpb24gbXNUb0V4cGlyYXRpb25UaW1lKG1zKSB7XG4gIC8vIEFsd2F5cyBhZGQgYW4gb2Zmc2V0IHNvIHRoYXQgd2UgZG9uJ3QgY2xhc2ggd2l0aCB0aGUgbWFnaWMgbnVtYmVyIGZvciBOb1dvcmsuXG4gIHJldHVybiAobXMgLyBVTklUX1NJWkUgfCAwKSArIE1BR0lDX05VTUJFUl9PRkZTRVQ7XG59XG5cbmZ1bmN0aW9uIGV4cGlyYXRpb25UaW1lVG9NcyhleHBpcmF0aW9uVGltZSkge1xuICByZXR1cm4gKGV4cGlyYXRpb25UaW1lIC0gTUFHSUNfTlVNQkVSX09GRlNFVCkgKiBVTklUX1NJWkU7XG59XG5cbmZ1bmN0aW9uIGNlaWxpbmcobnVtLCBwcmVjaXNpb24pIHtcbiAgcmV0dXJuICgobnVtIC8gcHJlY2lzaW9uIHwgMCkgKyAxKSAqIHByZWNpc2lvbjtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZUV4cGlyYXRpb25CdWNrZXQoY3VycmVudFRpbWUsIGV4cGlyYXRpb25Jbk1zLCBidWNrZXRTaXplTXMpIHtcbiAgcmV0dXJuIGNlaWxpbmcoY3VycmVudFRpbWUgKyBleHBpcmF0aW9uSW5NcyAvIFVOSVRfU0laRSwgYnVja2V0U2l6ZU1zIC8gVU5JVF9TSVpFKTtcbn1cblxudmFyIE5vQ29udGV4dCA9IDA7XG52YXIgQXN5bmNNb2RlID0gMTtcbnZhciBTdHJpY3RNb2RlID0gMjtcblxudmFyIGhhc0JhZE1hcFBvbHlmaWxsID0gdm9pZCAwO1xuXG57XG4gIGhhc0JhZE1hcFBvbHlmaWxsID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgdmFyIG5vbkV4dGVuc2libGVPYmplY3QgPSBPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pO1xuICAgIHZhciB0ZXN0TWFwID0gbmV3IE1hcChbW25vbkV4dGVuc2libGVPYmplY3QsIG51bGxdXSk7XG4gICAgdmFyIHRlc3RTZXQgPSBuZXcgU2V0KFtub25FeHRlbnNpYmxlT2JqZWN0XSk7XG4gICAgLy8gVGhpcyBpcyBuZWNlc3NhcnkgZm9yIFJvbGx1cCB0byBub3QgY29uc2lkZXIgdGhlc2UgdW51c2VkLlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9yb2xsdXAvcm9sbHVwL2lzc3Vlcy8xNzcxXG4gICAgLy8gVE9ETzogd2UgY2FuIHJlbW92ZSB0aGVzZSBpZiBSb2xsdXAgZml4ZXMgdGhlIGJ1Zy5cbiAgICB0ZXN0TWFwLnNldCgwLCAwKTtcbiAgICB0ZXN0U2V0LmFkZCgwKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIFRPRE86IENvbnNpZGVyIHdhcm5pbmcgYWJvdXQgYmFkIHBvbHlmaWxsc1xuICAgIGhhc0JhZE1hcFBvbHlmaWxsID0gdHJ1ZTtcbiAgfVxufVxuXG4vLyBBIEZpYmVyIGlzIHdvcmsgb24gYSBDb21wb25lbnQgdGhhdCBuZWVkcyB0byBiZSBkb25lIG9yIHdhcyBkb25lLiBUaGVyZSBjYW5cbi8vIGJlIG1vcmUgdGhhbiBvbmUgcGVyIGNvbXBvbmVudC5cblxuXG52YXIgZGVidWdDb3VudGVyID0gdm9pZCAwO1xuXG57XG4gIGRlYnVnQ291bnRlciA9IDE7XG59XG5cbmZ1bmN0aW9uIEZpYmVyTm9kZSh0YWcsIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlKSB7XG4gIC8vIEluc3RhbmNlXG4gIHRoaXMudGFnID0gdGFnO1xuICB0aGlzLmtleSA9IGtleTtcbiAgdGhpcy50eXBlID0gbnVsbDtcbiAgdGhpcy5zdGF0ZU5vZGUgPSBudWxsO1xuXG4gIC8vIEZpYmVyXG4gIHRoaXNbJ3JldHVybiddID0gbnVsbDtcbiAgdGhpcy5jaGlsZCA9IG51bGw7XG4gIHRoaXMuc2libGluZyA9IG51bGw7XG4gIHRoaXMuaW5kZXggPSAwO1xuXG4gIHRoaXMucmVmID0gbnVsbDtcblxuICB0aGlzLnBlbmRpbmdQcm9wcyA9IHBlbmRpbmdQcm9wcztcbiAgdGhpcy5tZW1vaXplZFByb3BzID0gbnVsbDtcbiAgdGhpcy51cGRhdGVRdWV1ZSA9IG51bGw7XG4gIHRoaXMubWVtb2l6ZWRTdGF0ZSA9IG51bGw7XG5cbiAgdGhpcy5tb2RlID0gbW9kZTtcblxuICAvLyBFZmZlY3RzXG4gIHRoaXMuZWZmZWN0VGFnID0gTm9FZmZlY3Q7XG4gIHRoaXMubmV4dEVmZmVjdCA9IG51bGw7XG5cbiAgdGhpcy5maXJzdEVmZmVjdCA9IG51bGw7XG4gIHRoaXMubGFzdEVmZmVjdCA9IG51bGw7XG5cbiAgdGhpcy5leHBpcmF0aW9uVGltZSA9IE5vV29yaztcblxuICB0aGlzLmFsdGVybmF0ZSA9IG51bGw7XG5cbiAge1xuICAgIHRoaXMuX2RlYnVnSUQgPSBkZWJ1Z0NvdW50ZXIrKztcbiAgICB0aGlzLl9kZWJ1Z1NvdXJjZSA9IG51bGw7XG4gICAgdGhpcy5fZGVidWdPd25lciA9IG51bGw7XG4gICAgdGhpcy5fZGVidWdJc0N1cnJlbnRseVRpbWluZyA9IGZhbHNlO1xuICAgIGlmICghaGFzQmFkTWFwUG9seWZpbGwgJiYgdHlwZW9mIE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHRoaXMpO1xuICAgIH1cbiAgfVxufVxuXG4vLyBUaGlzIGlzIGEgY29uc3RydWN0b3IgZnVuY3Rpb24sIHJhdGhlciB0aGFuIGEgUE9KTyBjb25zdHJ1Y3Rvciwgc3RpbGxcbi8vIHBsZWFzZSBlbnN1cmUgd2UgZG8gdGhlIGZvbGxvd2luZzpcbi8vIDEpIE5vYm9keSBzaG91bGQgYWRkIGFueSBpbnN0YW5jZSBtZXRob2RzIG9uIHRoaXMuIEluc3RhbmNlIG1ldGhvZHMgY2FuIGJlXG4vLyAgICBtb3JlIGRpZmZpY3VsdCB0byBwcmVkaWN0IHdoZW4gdGhleSBnZXQgb3B0aW1pemVkIGFuZCB0aGV5IGFyZSBhbG1vc3Rcbi8vICAgIG5ldmVyIGlubGluZWQgcHJvcGVybHkgaW4gc3RhdGljIGNvbXBpbGVycy5cbi8vIDIpIE5vYm9keSBzaG91bGQgcmVseSBvbiBgaW5zdGFuY2VvZiBGaWJlcmAgZm9yIHR5cGUgdGVzdGluZy4gV2Ugc2hvdWxkXG4vLyAgICBhbHdheXMga25vdyB3aGVuIGl0IGlzIGEgZmliZXIuXG4vLyAzKSBXZSBtaWdodCB3YW50IHRvIGV4cGVyaW1lbnQgd2l0aCB1c2luZyBudW1lcmljIGtleXMgc2luY2UgdGhleSBhcmUgZWFzaWVyXG4vLyAgICB0byBvcHRpbWl6ZSBpbiBhIG5vbi1KSVQgZW52aXJvbm1lbnQuXG4vLyA0KSBXZSBjYW4gZWFzaWx5IGdvIGZyb20gYSBjb25zdHJ1Y3RvciB0byBhIGNyZWF0ZUZpYmVyIG9iamVjdCBsaXRlcmFsIGlmIHRoYXRcbi8vICAgIGlzIGZhc3Rlci5cbi8vIDUpIEl0IHNob3VsZCBiZSBlYXN5IHRvIHBvcnQgdGhpcyB0byBhIEMgc3RydWN0IGFuZCBrZWVwIGEgQyBpbXBsZW1lbnRhdGlvblxuLy8gICAgY29tcGF0aWJsZS5cbnZhciBjcmVhdGVGaWJlciA9IGZ1bmN0aW9uICh0YWcsIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlKSB7XG4gIC8vICRGbG93Rml4TWU6IHRoZSBzaGFwZXMgYXJlIGV4YWN0IGhlcmUgYnV0IEZsb3cgZG9lc24ndCBsaWtlIGNvbnN0cnVjdG9yc1xuICByZXR1cm4gbmV3IEZpYmVyTm9kZSh0YWcsIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlKTtcbn07XG5cbmZ1bmN0aW9uIHNob3VsZENvbnN0cnVjdChDb21wb25lbnQpIHtcbiAgcmV0dXJuICEhKENvbXBvbmVudC5wcm90b3R5cGUgJiYgQ29tcG9uZW50LnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50KTtcbn1cblxuLy8gVGhpcyBpcyB1c2VkIHRvIGNyZWF0ZSBhbiBhbHRlcm5hdGUgZmliZXIgdG8gZG8gd29yayBvbi5cbmZ1bmN0aW9uIGNyZWF0ZVdvcmtJblByb2dyZXNzKGN1cnJlbnQsIHBlbmRpbmdQcm9wcywgZXhwaXJhdGlvblRpbWUpIHtcbiAgdmFyIHdvcmtJblByb2dyZXNzID0gY3VycmVudC5hbHRlcm5hdGU7XG4gIGlmICh3b3JrSW5Qcm9ncmVzcyA9PT0gbnVsbCkge1xuICAgIC8vIFdlIHVzZSBhIGRvdWJsZSBidWZmZXJpbmcgcG9vbGluZyB0ZWNobmlxdWUgYmVjYXVzZSB3ZSBrbm93IHRoYXQgd2UnbGxcbiAgICAvLyBvbmx5IGV2ZXIgbmVlZCBhdCBtb3N0IHR3byB2ZXJzaW9ucyBvZiBhIHRyZWUuIFdlIHBvb2wgdGhlIFwib3RoZXJcIiB1bnVzZWRcbiAgICAvLyBub2RlIHRoYXQgd2UncmUgZnJlZSB0byByZXVzZS4gVGhpcyBpcyBsYXppbHkgY3JlYXRlZCB0byBhdm9pZCBhbGxvY2F0aW5nXG4gICAgLy8gZXh0cmEgb2JqZWN0cyBmb3IgdGhpbmdzIHRoYXQgYXJlIG5ldmVyIHVwZGF0ZWQuIEl0IGFsc28gYWxsb3cgdXMgdG9cbiAgICAvLyByZWNsYWltIHRoZSBleHRyYSBtZW1vcnkgaWYgbmVlZGVkLlxuICAgIHdvcmtJblByb2dyZXNzID0gY3JlYXRlRmliZXIoY3VycmVudC50YWcsIHBlbmRpbmdQcm9wcywgY3VycmVudC5rZXksIGN1cnJlbnQubW9kZSk7XG4gICAgd29ya0luUHJvZ3Jlc3MudHlwZSA9IGN1cnJlbnQudHlwZTtcbiAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBjdXJyZW50LnN0YXRlTm9kZTtcblxuICAgIHtcbiAgICAgIC8vIERFVi1vbmx5IGZpZWxkc1xuICAgICAgd29ya0luUHJvZ3Jlc3MuX2RlYnVnSUQgPSBjdXJyZW50Ll9kZWJ1Z0lEO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuX2RlYnVnU291cmNlID0gY3VycmVudC5fZGVidWdTb3VyY2U7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5fZGVidWdPd25lciA9IGN1cnJlbnQuX2RlYnVnT3duZXI7XG4gICAgfVxuXG4gICAgd29ya0luUHJvZ3Jlc3MuYWx0ZXJuYXRlID0gY3VycmVudDtcbiAgICBjdXJyZW50LmFsdGVybmF0ZSA9IHdvcmtJblByb2dyZXNzO1xuICB9IGVsc2Uge1xuICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyA9IHBlbmRpbmdQcm9wcztcblxuICAgIC8vIFdlIGFscmVhZHkgaGF2ZSBhbiBhbHRlcm5hdGUuXG4gICAgLy8gUmVzZXQgdGhlIGVmZmVjdCB0YWcuXG4gICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnID0gTm9FZmZlY3Q7XG5cbiAgICAvLyBUaGUgZWZmZWN0IGxpc3QgaXMgbm8gbG9uZ2VyIHZhbGlkLlxuICAgIHdvcmtJblByb2dyZXNzLm5leHRFZmZlY3QgPSBudWxsO1xuICAgIHdvcmtJblByb2dyZXNzLmZpcnN0RWZmZWN0ID0gbnVsbDtcbiAgICB3b3JrSW5Qcm9ncmVzcy5sYXN0RWZmZWN0ID0gbnVsbDtcbiAgfVxuXG4gIHdvcmtJblByb2dyZXNzLmV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG5cbiAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBjdXJyZW50LmNoaWxkO1xuICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID0gY3VycmVudC5tZW1vaXplZFByb3BzO1xuICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gY3VycmVudC5tZW1vaXplZFN0YXRlO1xuICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IGN1cnJlbnQudXBkYXRlUXVldWU7XG5cbiAgLy8gVGhlc2Ugd2lsbCBiZSBvdmVycmlkZGVuIGR1cmluZyB0aGUgcGFyZW50J3MgcmVjb25jaWxpYXRpb25cbiAgd29ya0luUHJvZ3Jlc3Muc2libGluZyA9IGN1cnJlbnQuc2libGluZztcbiAgd29ya0luUHJvZ3Jlc3MuaW5kZXggPSBjdXJyZW50LmluZGV4O1xuICB3b3JrSW5Qcm9ncmVzcy5yZWYgPSBjdXJyZW50LnJlZjtcblxuICByZXR1cm4gd29ya0luUHJvZ3Jlc3M7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUhvc3RSb290RmliZXIoaXNBc3luYykge1xuICB2YXIgbW9kZSA9IGlzQXN5bmMgPyBBc3luY01vZGUgfCBTdHJpY3RNb2RlIDogTm9Db250ZXh0O1xuICByZXR1cm4gY3JlYXRlRmliZXIoSG9zdFJvb3QsIG51bGwsIG51bGwsIG1vZGUpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGaWJlckZyb21FbGVtZW50KGVsZW1lbnQsIG1vZGUsIGV4cGlyYXRpb25UaW1lKSB7XG4gIHZhciBvd25lciA9IG51bGw7XG4gIHtcbiAgICBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuICB9XG5cbiAgdmFyIGZpYmVyID0gdm9pZCAwO1xuICB2YXIgdHlwZSA9IGVsZW1lbnQudHlwZTtcbiAgdmFyIGtleSA9IGVsZW1lbnQua2V5O1xuICB2YXIgcGVuZGluZ1Byb3BzID0gZWxlbWVudC5wcm9wcztcblxuICB2YXIgZmliZXJUYWcgPSB2b2lkIDA7XG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGZpYmVyVGFnID0gc2hvdWxkQ29uc3RydWN0KHR5cGUpID8gQ2xhc3NDb21wb25lbnQgOiBJbmRldGVybWluYXRlQ29tcG9uZW50O1xuICB9IGVsc2UgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgIGZpYmVyVGFnID0gSG9zdENvbXBvbmVudDtcbiAgfSBlbHNlIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgUkVBQ1RfRlJBR01FTlRfVFlQRTpcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KHBlbmRpbmdQcm9wcy5jaGlsZHJlbiwgbW9kZSwgZXhwaXJhdGlvblRpbWUsIGtleSk7XG4gICAgICBjYXNlIFJFQUNUX0FTWU5DX01PREVfVFlQRTpcbiAgICAgICAgZmliZXJUYWcgPSBNb2RlO1xuICAgICAgICBtb2RlIHw9IEFzeW5jTW9kZSB8IFN0cmljdE1vZGU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFOlxuICAgICAgICBmaWJlclRhZyA9IE1vZGU7XG4gICAgICAgIG1vZGUgfD0gU3RyaWN0TW9kZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFJFQUNUX0NBTExfVFlQRTpcbiAgICAgICAgZmliZXJUYWcgPSBDYWxsQ29tcG9uZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUkVBQ1RfUkVUVVJOX1RZUEU6XG4gICAgICAgIGZpYmVyVGFnID0gUmV0dXJuQ29tcG9uZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmIHR5cGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgICAgICAgICBjYXNlIFJFQUNUX1BST1ZJREVSX1RZUEU6XG4gICAgICAgICAgICAgICAgZmliZXJUYWcgPSBDb250ZXh0UHJvdmlkZXI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OVEVYVF9UWVBFOlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBjb25zdW1lclxuICAgICAgICAgICAgICAgIGZpYmVyVGFnID0gQ29udGV4dENvbnN1bWVyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICAgICAgZmliZXJUYWcgPSBGb3J3YXJkUmVmO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdHlwZS50YWcgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAvLyBDdXJyZW50bHkgYXNzdW1lZCB0byBiZSBhIGNvbnRpbnVhdGlvbiBhbmQgdGhlcmVmb3JlIGlzIGFcbiAgICAgICAgICAgICAgICAgIC8vIGZpYmVyIGFscmVhZHkuXG4gICAgICAgICAgICAgICAgICAvLyBUT0RPOiBUaGUgeWllbGQgc3lzdGVtIGlzIGN1cnJlbnRseSBicm9rZW4gZm9yIHVwZGF0ZXMgaW5cbiAgICAgICAgICAgICAgICAgIC8vIHNvbWUgY2FzZXMuIFRoZSByZWlmaWVkIHlpZWxkIHN0b3JlcyBhIGZpYmVyLCBidXQgd2UgZG9uJ3RcbiAgICAgICAgICAgICAgICAgIC8vIGtub3cgd2hpY2ggZmliZXIgdGhhdCBpczsgdGhlIGN1cnJlbnQgb3IgYSB3b3JrSW5Qcm9ncmVzcz9cbiAgICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIGNvbnRpbnVhdGlvbiBnZXRzIHJlbmRlcmVkIGhlcmUgd2UgZG9uJ3Qga25vdyBpZiB3ZVxuICAgICAgICAgICAgICAgICAgLy8gY2FuIHJldXNlIHRoYXQgZmliZXIgb3IgaWYgd2UgbmVlZCB0byBjbG9uZSBpdC4gVGhlcmUgaXNcbiAgICAgICAgICAgICAgICAgIC8vIHByb2JhYmx5IGEgY2xldmVyIHdheSB0byByZXN0cnVjdHVyZSB0aGlzLlxuICAgICAgICAgICAgICAgICAgZmliZXIgPSB0eXBlO1xuICAgICAgICAgICAgICAgICAgZmliZXIucGVuZGluZ1Byb3BzID0gcGVuZGluZ1Byb3BzO1xuICAgICAgICAgICAgICAgICAgZmliZXIuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmaWJlcjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdGhyb3dPbkludmFsaWRFbGVtZW50VHlwZSh0eXBlLCBvd25lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvd09uSW52YWxpZEVsZW1lbnRUeXBlKHR5cGUsIG93bmVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmaWJlciA9IGNyZWF0ZUZpYmVyKGZpYmVyVGFnLCBwZW5kaW5nUHJvcHMsIGtleSwgbW9kZSk7XG4gIGZpYmVyLnR5cGUgPSB0eXBlO1xuICBmaWJlci5leHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuXG4gIHtcbiAgICBmaWJlci5fZGVidWdTb3VyY2UgPSBlbGVtZW50Ll9zb3VyY2U7XG4gICAgZmliZXIuX2RlYnVnT3duZXIgPSBlbGVtZW50Ll9vd25lcjtcbiAgfVxuXG4gIHJldHVybiBmaWJlcjtcbn1cblxuZnVuY3Rpb24gdGhyb3dPbkludmFsaWRFbGVtZW50VHlwZSh0eXBlLCBvd25lcikge1xuICB2YXIgaW5mbyA9ICcnO1xuICB7XG4gICAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCAmJiBPYmplY3Qua2V5cyh0eXBlKS5sZW5ndGggPT09IDApIHtcbiAgICAgIGluZm8gKz0gJyBZb3UgbGlrZWx5IGZvcmdvdCB0byBleHBvcnQgeW91ciBjb21wb25lbnQgZnJvbSB0aGUgZmlsZSAnICsgXCJpdCdzIGRlZmluZWQgaW4sIG9yIHlvdSBtaWdodCBoYXZlIG1peGVkIHVwIGRlZmF1bHQgYW5kIFwiICsgJ25hbWVkIGltcG9ydHMuJztcbiAgICB9XG4gICAgdmFyIG93bmVyTmFtZSA9IG93bmVyID8gZ2V0Q29tcG9uZW50TmFtZShvd25lcikgOiBudWxsO1xuICAgIGlmIChvd25lck5hbWUpIHtcbiAgICAgIGluZm8gKz0gJ1xcblxcbkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGAnICsgb3duZXJOYW1lICsgJ2AuJztcbiAgICB9XG4gIH1cbiAgaW52YXJpYW50KGZhbHNlLCAnRWxlbWVudCB0eXBlIGlzIGludmFsaWQ6IGV4cGVjdGVkIGEgc3RyaW5nIChmb3IgYnVpbHQtaW4gY29tcG9uZW50cykgb3IgYSBjbGFzcy9mdW5jdGlvbiAoZm9yIGNvbXBvc2l0ZSBjb21wb25lbnRzKSBidXQgZ290OiAlcy4lcycsIHR5cGUgPT0gbnVsbCA/IHR5cGUgOiB0eXBlb2YgdHlwZSwgaW5mbyk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KGVsZW1lbnRzLCBtb2RlLCBleHBpcmF0aW9uVGltZSwga2V5KSB7XG4gIHZhciBmaWJlciA9IGNyZWF0ZUZpYmVyKEZyYWdtZW50LCBlbGVtZW50cywga2V5LCBtb2RlKTtcbiAgZmliZXIuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgcmV0dXJuIGZpYmVyO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGaWJlckZyb21UZXh0KGNvbnRlbnQsIG1vZGUsIGV4cGlyYXRpb25UaW1lKSB7XG4gIHZhciBmaWJlciA9IGNyZWF0ZUZpYmVyKEhvc3RUZXh0LCBjb250ZW50LCBudWxsLCBtb2RlKTtcbiAgZmliZXIuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgcmV0dXJuIGZpYmVyO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGaWJlckZyb21Ib3N0SW5zdGFuY2VGb3JEZWxldGlvbigpIHtcbiAgdmFyIGZpYmVyID0gY3JlYXRlRmliZXIoSG9zdENvbXBvbmVudCwgbnVsbCwgbnVsbCwgTm9Db250ZXh0KTtcbiAgZmliZXIudHlwZSA9ICdERUxFVEVEJztcbiAgcmV0dXJuIGZpYmVyO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGaWJlckZyb21Qb3J0YWwocG9ydGFsLCBtb2RlLCBleHBpcmF0aW9uVGltZSkge1xuICB2YXIgcGVuZGluZ1Byb3BzID0gcG9ydGFsLmNoaWxkcmVuICE9PSBudWxsID8gcG9ydGFsLmNoaWxkcmVuIDogW107XG4gIHZhciBmaWJlciA9IGNyZWF0ZUZpYmVyKEhvc3RQb3J0YWwsIHBlbmRpbmdQcm9wcywgcG9ydGFsLmtleSwgbW9kZSk7XG4gIGZpYmVyLmV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gIGZpYmVyLnN0YXRlTm9kZSA9IHtcbiAgICBjb250YWluZXJJbmZvOiBwb3J0YWwuY29udGFpbmVySW5mbyxcbiAgICBwZW5kaW5nQ2hpbGRyZW46IG51bGwsIC8vIFVzZWQgYnkgcGVyc2lzdGVudCB1cGRhdGVzXG4gICAgaW1wbGVtZW50YXRpb246IHBvcnRhbC5pbXBsZW1lbnRhdGlvblxuICB9O1xuICByZXR1cm4gZmliZXI7XG59XG5cbi8vIFVzZWQgZm9yIHN0YXNoaW5nIFdJUCBwcm9wZXJ0aWVzIHRvIHJlcGxheSBmYWlsZWQgd29yayBpbiBERVYuXG5mdW5jdGlvbiBhc3NpZ25GaWJlclByb3BlcnRpZXNJbkRFVih0YXJnZXQsIHNvdXJjZSkge1xuICBpZiAodGFyZ2V0ID09PSBudWxsKSB7XG4gICAgLy8gVGhpcyBGaWJlcidzIGluaXRpYWwgcHJvcGVydGllcyB3aWxsIGFsd2F5cyBiZSBvdmVyd3JpdHRlbi5cbiAgICAvLyBXZSBvbmx5IHVzZSBhIEZpYmVyIHRvIGVuc3VyZSB0aGUgc2FtZSBoaWRkZW4gY2xhc3Mgc28gREVWIGlzbid0IHNsb3cuXG4gICAgdGFyZ2V0ID0gY3JlYXRlRmliZXIoSW5kZXRlcm1pbmF0ZUNvbXBvbmVudCwgbnVsbCwgbnVsbCwgTm9Db250ZXh0KTtcbiAgfVxuXG4gIC8vIFRoaXMgaXMgaW50ZW50aW9uYWxseSB3cml0dGVuIGFzIGEgbGlzdCBvZiBhbGwgcHJvcGVydGllcy5cbiAgLy8gV2UgdHJpZWQgdG8gdXNlIE9iamVjdC5hc3NpZ24oKSBpbnN0ZWFkIGJ1dCB0aGlzIGlzIGNhbGxlZCBpblxuICAvLyB0aGUgaG90dGVzdCBwYXRoLCBhbmQgT2JqZWN0LmFzc2lnbigpIHdhcyB0b28gc2xvdzpcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xMjUwMlxuICAvLyBUaGlzIGNvZGUgaXMgREVWLW9ubHkgc28gc2l6ZSBpcyBub3QgYSBjb25jZXJuLlxuXG4gIHRhcmdldC50YWcgPSBzb3VyY2UudGFnO1xuICB0YXJnZXQua2V5ID0gc291cmNlLmtleTtcbiAgdGFyZ2V0LnR5cGUgPSBzb3VyY2UudHlwZTtcbiAgdGFyZ2V0LnN0YXRlTm9kZSA9IHNvdXJjZS5zdGF0ZU5vZGU7XG4gIHRhcmdldFsncmV0dXJuJ10gPSBzb3VyY2VbJ3JldHVybiddO1xuICB0YXJnZXQuY2hpbGQgPSBzb3VyY2UuY2hpbGQ7XG4gIHRhcmdldC5zaWJsaW5nID0gc291cmNlLnNpYmxpbmc7XG4gIHRhcmdldC5pbmRleCA9IHNvdXJjZS5pbmRleDtcbiAgdGFyZ2V0LnJlZiA9IHNvdXJjZS5yZWY7XG4gIHRhcmdldC5wZW5kaW5nUHJvcHMgPSBzb3VyY2UucGVuZGluZ1Byb3BzO1xuICB0YXJnZXQubWVtb2l6ZWRQcm9wcyA9IHNvdXJjZS5tZW1vaXplZFByb3BzO1xuICB0YXJnZXQudXBkYXRlUXVldWUgPSBzb3VyY2UudXBkYXRlUXVldWU7XG4gIHRhcmdldC5tZW1vaXplZFN0YXRlID0gc291cmNlLm1lbW9pemVkU3RhdGU7XG4gIHRhcmdldC5tb2RlID0gc291cmNlLm1vZGU7XG4gIHRhcmdldC5lZmZlY3RUYWcgPSBzb3VyY2UuZWZmZWN0VGFnO1xuICB0YXJnZXQubmV4dEVmZmVjdCA9IHNvdXJjZS5uZXh0RWZmZWN0O1xuICB0YXJnZXQuZmlyc3RFZmZlY3QgPSBzb3VyY2UuZmlyc3RFZmZlY3Q7XG4gIHRhcmdldC5sYXN0RWZmZWN0ID0gc291cmNlLmxhc3RFZmZlY3Q7XG4gIHRhcmdldC5leHBpcmF0aW9uVGltZSA9IHNvdXJjZS5leHBpcmF0aW9uVGltZTtcbiAgdGFyZ2V0LmFsdGVybmF0ZSA9IHNvdXJjZS5hbHRlcm5hdGU7XG4gIHRhcmdldC5fZGVidWdJRCA9IHNvdXJjZS5fZGVidWdJRDtcbiAgdGFyZ2V0Ll9kZWJ1Z1NvdXJjZSA9IHNvdXJjZS5fZGVidWdTb3VyY2U7XG4gIHRhcmdldC5fZGVidWdPd25lciA9IHNvdXJjZS5fZGVidWdPd25lcjtcbiAgdGFyZ2V0Ll9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nID0gc291cmNlLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nO1xuICByZXR1cm4gdGFyZ2V0O1xufVxuXG4vLyBUT0RPOiBUaGlzIHNob3VsZCBiZSBsaWZ0ZWQgaW50byB0aGUgcmVuZGVyZXIuXG5cblxuZnVuY3Rpb24gY3JlYXRlRmliZXJSb290KGNvbnRhaW5lckluZm8sIGlzQXN5bmMsIGh5ZHJhdGUpIHtcbiAgLy8gQ3ljbGljIGNvbnN0cnVjdGlvbi4gVGhpcyBjaGVhdHMgdGhlIHR5cGUgc3lzdGVtIHJpZ2h0IG5vdyBiZWNhdXNlXG4gIC8vIHN0YXRlTm9kZSBpcyBhbnkuXG4gIHZhciB1bmluaXRpYWxpemVkRmliZXIgPSBjcmVhdGVIb3N0Um9vdEZpYmVyKGlzQXN5bmMpO1xuICB2YXIgcm9vdCA9IHtcbiAgICBjdXJyZW50OiB1bmluaXRpYWxpemVkRmliZXIsXG4gICAgY29udGFpbmVySW5mbzogY29udGFpbmVySW5mbyxcbiAgICBwZW5kaW5nQ2hpbGRyZW46IG51bGwsXG4gICAgcGVuZGluZ0NvbW1pdEV4cGlyYXRpb25UaW1lOiBOb1dvcmssXG4gICAgZmluaXNoZWRXb3JrOiBudWxsLFxuICAgIGNvbnRleHQ6IG51bGwsXG4gICAgcGVuZGluZ0NvbnRleHQ6IG51bGwsXG4gICAgaHlkcmF0ZTogaHlkcmF0ZSxcbiAgICByZW1haW5pbmdFeHBpcmF0aW9uVGltZTogTm9Xb3JrLFxuICAgIGZpcnN0QmF0Y2g6IG51bGwsXG4gICAgbmV4dFNjaGVkdWxlZFJvb3Q6IG51bGxcbiAgfTtcbiAgdW5pbml0aWFsaXplZEZpYmVyLnN0YXRlTm9kZSA9IHJvb3Q7XG4gIHJldHVybiByb290O1xufVxuXG52YXIgb25Db21taXRGaWJlclJvb3QgPSBudWxsO1xudmFyIG9uQ29tbWl0RmliZXJVbm1vdW50ID0gbnVsbDtcbnZhciBoYXNMb2dnZWRFcnJvciA9IGZhbHNlO1xuXG5mdW5jdGlvbiBjYXRjaEVycm9ycyhmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZm4oYXJnKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGlmICh0cnVlICYmICFoYXNMb2dnZWRFcnJvcikge1xuICAgICAgICBoYXNMb2dnZWRFcnJvciA9IHRydWU7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICdSZWFjdCBEZXZUb29scyBlbmNvdW50ZXJlZCBhbiBlcnJvcjogJXMnLCBlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gaW5qZWN0SW50ZXJuYWxzKGludGVybmFscykge1xuICBpZiAodHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBObyBEZXZUb29sc1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgaG9vayA9IF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXztcbiAgaWYgKGhvb2suaXNEaXNhYmxlZCkge1xuICAgIC8vIFRoaXMgaXNuJ3QgYSByZWFsIHByb3BlcnR5IG9uIHRoZSBob29rLCBidXQgaXQgY2FuIGJlIHNldCB0byBvcHQgb3V0XG4gICAgLy8gb2YgRGV2VG9vbHMgaW50ZWdyYXRpb24gYW5kIGFzc29jaWF0ZWQgd2FybmluZ3MgYW5kIGxvZ3MuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8zODc3XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKCFob29rLnN1cHBvcnRzRmliZXIpIHtcbiAgICB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnVGhlIGluc3RhbGxlZCB2ZXJzaW9uIG9mIFJlYWN0IERldlRvb2xzIGlzIHRvbyBvbGQgYW5kIHdpbGwgbm90IHdvcmsgJyArICd3aXRoIHRoZSBjdXJyZW50IHZlcnNpb24gb2YgUmVhY3QuIFBsZWFzZSB1cGRhdGUgUmVhY3QgRGV2VG9vbHMuICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1kZXZ0b29scycpO1xuICAgIH1cbiAgICAvLyBEZXZUb29scyBleGlzdHMsIGV2ZW4gdGhvdWdoIGl0IGRvZXNuJ3Qgc3VwcG9ydCBGaWJlci5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB0cnkge1xuICAgIHZhciByZW5kZXJlcklEID0gaG9vay5pbmplY3QoaW50ZXJuYWxzKTtcbiAgICAvLyBXZSBoYXZlIHN1Y2Nlc3NmdWxseSBpbmplY3RlZCwgc28gbm93IGl0IGlzIHNhZmUgdG8gc2V0IHVwIGhvb2tzLlxuICAgIG9uQ29tbWl0RmliZXJSb290ID0gY2F0Y2hFcnJvcnMoZnVuY3Rpb24gKHJvb3QpIHtcbiAgICAgIHJldHVybiBob29rLm9uQ29tbWl0RmliZXJSb290KHJlbmRlcmVySUQsIHJvb3QpO1xuICAgIH0pO1xuICAgIG9uQ29tbWl0RmliZXJVbm1vdW50ID0gY2F0Y2hFcnJvcnMoZnVuY3Rpb24gKGZpYmVyKSB7XG4gICAgICByZXR1cm4gaG9vay5vbkNvbW1pdEZpYmVyVW5tb3VudChyZW5kZXJlcklELCBmaWJlcik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIENhdGNoIGFsbCBlcnJvcnMgYmVjYXVzZSBpdCBpcyB1bnNhZmUgdG8gdGhyb3cgZHVyaW5nIGluaXRpYWxpemF0aW9uLlxuICAgIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdSZWFjdCBEZXZUb29scyBlbmNvdW50ZXJlZCBhbiBlcnJvcjogJXMuJywgZXJyKTtcbiAgICB9XG4gIH1cbiAgLy8gRGV2VG9vbHMgZXhpc3RzXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBvbkNvbW1pdFJvb3Qocm9vdCkge1xuICBpZiAodHlwZW9mIG9uQ29tbWl0RmliZXJSb290ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb25Db21taXRGaWJlclJvb3Qocm9vdCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gb25Db21taXRVbm1vdW50KGZpYmVyKSB7XG4gIGlmICh0eXBlb2Ygb25Db21taXRGaWJlclVubW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvbkNvbW1pdEZpYmVyVW5tb3VudChmaWJlcik7XG4gIH1cbn1cblxuLyoqXG4gKiBGb3JrZWQgZnJvbSBmYmpzL3dhcm5pbmc6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svZmJqcy9ibG9iL2U2NmJhMjBhZDViZTQzM2ViNTQ0MjNmMmIwOTdkODI5MzI0ZDlkZTYvcGFja2FnZXMvZmJqcy9zcmMvX19mb3Jrc19fL3dhcm5pbmcuanNcbiAqXG4gKiBPbmx5IGNoYW5nZSBpcyB3ZSB1c2UgY29uc29sZS53YXJuIGluc3RlYWQgb2YgY29uc29sZS5lcnJvcixcbiAqIGFuZCBkbyBub3RoaW5nIHdoZW4gJ2NvbnNvbGUnIGlzIG5vdCBzdXBwb3J0ZWQuXG4gKiBUaGlzIHJlYWxseSBzaW1wbGlmaWVzIHRoZSBjb2RlLlxuICogLS0tXG4gKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG4gKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG4gKi9cblxudmFyIGxvd1ByaW9yaXR5V2FybmluZyA9IGZ1bmN0aW9uICgpIHt9O1xuXG57XG4gIHZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgfSk7XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgLy8gLS0tIFdlbGNvbWUgdG8gZGVidWdnaW5nIFJlYWN0IC0tLVxuICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG4gICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9IGNhdGNoICh4KSB7fVxuICB9O1xuXG4gIGxvd1ByaW9yaXR5V2FybmluZyA9IGZ1bmN0aW9uIChjb25kaXRpb24sIGZvcm1hdCkge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdgd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICsgJ21lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yID4gMiA/IF9sZW4yIC0gMiA6IDApLCBfa2V5MiA9IDI7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5MiAtIDJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgcHJpbnRXYXJuaW5nLmFwcGx5KHVuZGVmaW5lZCwgW2Zvcm1hdF0uY29uY2F0KGFyZ3MpKTtcbiAgICB9XG4gIH07XG59XG5cbnZhciBsb3dQcmlvcml0eVdhcm5pbmckMSA9IGxvd1ByaW9yaXR5V2FybmluZztcblxudmFyIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzID0ge1xuICBkaXNjYXJkUGVuZGluZ1dhcm5pbmdzOiBmdW5jdGlvbiAoKSB7fSxcbiAgZmx1c2hQZW5kaW5nRGVwcmVjYXRpb25XYXJuaW5nczogZnVuY3Rpb24gKCkge30sXG4gIGZsdXNoUGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzOiBmdW5jdGlvbiAoKSB7fSxcbiAgcmVjb3JkRGVwcmVjYXRpb25XYXJuaW5nczogZnVuY3Rpb24gKGZpYmVyLCBpbnN0YW5jZSkge30sXG4gIHJlY29yZFVuc2FmZUxpZmVjeWNsZVdhcm5pbmdzOiBmdW5jdGlvbiAoZmliZXIsIGluc3RhbmNlKSB7fVxufTtcblxue1xuICB2YXIgTElGRUNZQ0xFX1NVR0dFU1RJT05TID0ge1xuICAgIFVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQ6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6ICdzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzJyxcbiAgICBVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZTogJ2NvbXBvbmVudERpZFVwZGF0ZSdcbiAgfTtcblxuICB2YXIgcGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzID0gW107XG4gIHZhciBwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzID0gW107XG4gIHZhciBwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzID0gW107XG4gIHZhciBwZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MgPSBuZXcgTWFwKCk7XG5cbiAgLy8gVHJhY2tzIGNvbXBvbmVudHMgd2UgaGF2ZSBhbHJlYWR5IHdhcm5lZCBhYm91dC5cbiAgdmFyIGRpZFdhcm5BYm91dERlcHJlY2F0ZWRMaWZlY3ljbGVzID0gbmV3IFNldCgpO1xuICB2YXIgZGlkV2FybkFib3V0VW5zYWZlTGlmZWN5Y2xlcyA9IG5ldyBTZXQoKTtcblxuICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5kaXNjYXJkUGVuZGluZ1dhcm5pbmdzID0gZnVuY3Rpb24gKCkge1xuICAgIHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncyA9IFtdO1xuICAgIHBlbmRpbmdDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MgPSBbXTtcbiAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzID0gW107XG4gICAgcGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzID0gbmV3IE1hcCgpO1xuICB9O1xuXG4gIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmZsdXNoUGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzID0gZnVuY3Rpb24gKCkge1xuICAgIHBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChsaWZlY3ljbGVXYXJuaW5nc01hcCwgc3RyaWN0Um9vdCkge1xuICAgICAgdmFyIGxpZmVjeWNsZXNXYXJuaW5nTWVzYWdlcyA9IFtdO1xuXG4gICAgICBPYmplY3Qua2V5cyhsaWZlY3ljbGVXYXJuaW5nc01hcCkuZm9yRWFjaChmdW5jdGlvbiAobGlmZWN5Y2xlKSB7XG4gICAgICAgIHZhciBsaWZlY3ljbGVXYXJuaW5ncyA9IGxpZmVjeWNsZVdhcm5pbmdzTWFwW2xpZmVjeWNsZV07XG4gICAgICAgIGlmIChsaWZlY3ljbGVXYXJuaW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdmFyIGNvbXBvbmVudE5hbWVzID0gbmV3IFNldCgpO1xuICAgICAgICAgIGxpZmVjeWNsZVdhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24gKGZpYmVyKSB7XG4gICAgICAgICAgICBjb21wb25lbnROYW1lcy5hZGQoZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgJ0NvbXBvbmVudCcpO1xuICAgICAgICAgICAgZGlkV2FybkFib3V0VW5zYWZlTGlmZWN5Y2xlcy5hZGQoZmliZXIudHlwZSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB2YXIgZm9ybWF0dGVkID0gbGlmZWN5Y2xlLnJlcGxhY2UoJ1VOU0FGRV8nLCAnJyk7XG4gICAgICAgICAgdmFyIHN1Z2dlc3Rpb24gPSBMSUZFQ1lDTEVfU1VHR0VTVElPTlNbbGlmZWN5Y2xlXTtcbiAgICAgICAgICB2YXIgc29ydGVkQ29tcG9uZW50TmFtZXMgPSBBcnJheS5mcm9tKGNvbXBvbmVudE5hbWVzKS5zb3J0KCkuam9pbignLCAnKTtcblxuICAgICAgICAgIGxpZmVjeWNsZXNXYXJuaW5nTWVzYWdlcy5wdXNoKGZvcm1hdHRlZCArICc6IFBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzIHRvIHVzZSAnICsgKHN1Z2dlc3Rpb24gKyAnIGluc3RlYWQ6ICcgKyBzb3J0ZWRDb21wb25lbnROYW1lcykpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKGxpZmVjeWNsZXNXYXJuaW5nTWVzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBzdHJpY3RSb290Q29tcG9uZW50U3RhY2sgPSBnZXRTdGFja0FkZGVuZHVtQnlXb3JrSW5Qcm9ncmVzc0ZpYmVyKHN0cmljdFJvb3QpO1xuXG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICdVbnNhZmUgbGlmZWN5Y2xlIG1ldGhvZHMgd2VyZSBmb3VuZCB3aXRoaW4gYSBzdHJpY3QtbW9kZSB0cmVlOiVzJyArICdcXG5cXG4lcycgKyAnXFxuXFxuTGVhcm4gbW9yZSBhYm91dCB0aGlzIHdhcm5pbmcgaGVyZTonICsgJ1xcbmh0dHBzOi8vZmIubWUvcmVhY3Qtc3RyaWN0LW1vZGUtd2FybmluZ3MnLCBzdHJpY3RSb290Q29tcG9uZW50U3RhY2ssIGxpZmVjeWNsZXNXYXJuaW5nTWVzYWdlcy5qb2luKCdcXG5cXG4nKSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBwZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MgPSBuZXcgTWFwKCk7XG4gIH07XG5cbiAgdmFyIGdldFN0cmljdFJvb3QgPSBmdW5jdGlvbiAoZmliZXIpIHtcbiAgICB2YXIgbWF5YmVTdHJpY3RSb290ID0gbnVsbDtcblxuICAgIHdoaWxlIChmaWJlciAhPT0gbnVsbCkge1xuICAgICAgaWYgKGZpYmVyLm1vZGUgJiBTdHJpY3RNb2RlKSB7XG4gICAgICAgIG1heWJlU3RyaWN0Um9vdCA9IGZpYmVyO1xuICAgICAgfVxuXG4gICAgICBmaWJlciA9IGZpYmVyWydyZXR1cm4nXTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWF5YmVTdHJpY3RSb290O1xuICB9O1xuXG4gIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmZsdXNoUGVuZGluZ0RlcHJlY2F0aW9uV2FybmluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgdW5pcXVlTmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MuZm9yRWFjaChmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgICAgdW5pcXVlTmFtZXMuYWRkKGdldENvbXBvbmVudE5hbWUoZmliZXIpIHx8ICdDb21wb25lbnQnKTtcbiAgICAgICAgZGlkV2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMuYWRkKGZpYmVyLnR5cGUpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBzb3J0ZWROYW1lcyA9IEFycmF5LmZyb20odW5pcXVlTmFtZXMpLnNvcnQoKS5qb2luKCcsICcpO1xuXG4gICAgICBsb3dQcmlvcml0eVdhcm5pbmckMShmYWxzZSwgJ2NvbXBvbmVudFdpbGxNb3VudCBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbi4gJyArICdVc2UgY29tcG9uZW50RGlkTW91bnQgaW5zdGVhZC4gQXMgYSB0ZW1wb3Jhcnkgd29ya2Fyb3VuZCwgJyArICd5b3UgY2FuIHJlbmFtZSB0byBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50LicgKyAnXFxuXFxuUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHM6ICVzJyArICdcXG5cXG5MZWFybiBtb3JlIGFib3V0IHRoaXMgd2FybmluZyBoZXJlOicgKyAnXFxuaHR0cHM6Ly9mYi5tZS9yZWFjdC1hc3luYy1jb21wb25lbnQtbGlmZWN5Y2xlLWhvb2tzJywgc29ydGVkTmFtZXMpO1xuXG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MgPSBbXTtcbiAgICB9XG5cbiAgICBpZiAocGVuZGluZ0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgX3VuaXF1ZU5hbWVzID0gbmV3IFNldCgpO1xuICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICBfdW5pcXVlTmFtZXMuYWRkKGdldENvbXBvbmVudE5hbWUoZmliZXIpIHx8ICdDb21wb25lbnQnKTtcbiAgICAgICAgZGlkV2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMuYWRkKGZpYmVyLnR5cGUpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBfc29ydGVkTmFtZXMgPSBBcnJheS5mcm9tKF91bmlxdWVOYW1lcykuc29ydCgpLmpvaW4oJywgJyk7XG5cbiAgICAgIGxvd1ByaW9yaXR5V2FybmluZyQxKGZhbHNlLCAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbi4gJyArICdVc2Ugc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyBpbnN0ZWFkLicgKyAnXFxuXFxuUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHM6ICVzJyArICdcXG5cXG5MZWFybiBtb3JlIGFib3V0IHRoaXMgd2FybmluZyBoZXJlOicgKyAnXFxuaHR0cHM6Ly9mYi5tZS9yZWFjdC1hc3luYy1jb21wb25lbnQtbGlmZWN5Y2xlLWhvb2tzJywgX3NvcnRlZE5hbWVzKTtcblxuICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncyA9IFtdO1xuICAgIH1cblxuICAgIGlmIChwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzLmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciBfdW5pcXVlTmFtZXMyID0gbmV3IFNldCgpO1xuICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICBfdW5pcXVlTmFtZXMyLmFkZChnZXRDb21wb25lbnROYW1lKGZpYmVyKSB8fCAnQ29tcG9uZW50Jyk7XG4gICAgICAgIGRpZFdhcm5BYm91dERlcHJlY2F0ZWRMaWZlY3ljbGVzLmFkZChmaWJlci50eXBlKTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgX3NvcnRlZE5hbWVzMiA9IEFycmF5LmZyb20oX3VuaXF1ZU5hbWVzMikuc29ydCgpLmpvaW4oJywgJyk7XG5cbiAgICAgIGxvd1ByaW9yaXR5V2FybmluZyQxKGZhbHNlLCAnY29tcG9uZW50V2lsbFVwZGF0ZSBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbi4gJyArICdVc2UgY29tcG9uZW50RGlkVXBkYXRlIGluc3RlYWQuIEFzIGEgdGVtcG9yYXJ5IHdvcmthcm91bmQsICcgKyAneW91IGNhbiByZW5hbWUgdG8gVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUuJyArICdcXG5cXG5QbGVhc2UgdXBkYXRlIHRoZSBmb2xsb3dpbmcgY29tcG9uZW50czogJXMnICsgJ1xcblxcbkxlYXJuIG1vcmUgYWJvdXQgdGhpcyB3YXJuaW5nIGhlcmU6JyArICdcXG5odHRwczovL2ZiLm1lL3JlYWN0LWFzeW5jLWNvbXBvbmVudC1saWZlY3ljbGUtaG9va3MnLCBfc29ydGVkTmFtZXMyKTtcblxuICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncyA9IFtdO1xuICAgIH1cbiAgfTtcblxuICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5yZWNvcmREZXByZWNhdGlvbldhcm5pbmdzID0gZnVuY3Rpb24gKGZpYmVyLCBpbnN0YW5jZSkge1xuICAgIC8vIERlZHVwIHN0cmF0ZWd5OiBXYXJuIG9uY2UgcGVyIGNvbXBvbmVudC5cbiAgICBpZiAoZGlkV2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMuaGFzKGZpYmVyLnR5cGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRG9uJ3Qgd2FybiBhYm91dCByZWFjdC1saWZlY3ljbGVzLWNvbXBhdCBwb2x5ZmlsbGVkIGNvbXBvbmVudHMuXG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicgJiYgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50Ll9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgIT09IHRydWUpIHtcbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncy5wdXNoKGZpYmVyKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSAnZnVuY3Rpb24nICYmIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyAhPT0gdHJ1ZSkge1xuICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncy5wdXNoKGZpYmVyKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlID09PSAnZnVuY3Rpb24nICYmIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyAhPT0gdHJ1ZSkge1xuICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncy5wdXNoKGZpYmVyKTtcbiAgICB9XG4gIH07XG5cbiAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MucmVjb3JkVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MgPSBmdW5jdGlvbiAoZmliZXIsIGluc3RhbmNlKSB7XG4gICAgdmFyIHN0cmljdFJvb3QgPSBnZXRTdHJpY3RSb290KGZpYmVyKTtcblxuICAgIC8vIERlZHVwIHN0cmF0ZWd5OiBXYXJuIG9uY2UgcGVyIGNvbXBvbmVudC5cbiAgICAvLyBUaGlzIGlzIGRpZmZpY3VsdCB0byB0cmFjayBhbnkgb3RoZXIgd2F5IHNpbmNlIGNvbXBvbmVudCBuYW1lc1xuICAgIC8vIGFyZSBvZnRlbiB2YWd1ZSBhbmQgYXJlIGxpa2VseSB0byBjb2xsaWRlIGJldHdlZW4gM3JkIHBhcnR5IGxpYnJhcmllcy5cbiAgICAvLyBBbiBleHBhbmQgcHJvcGVydHkgaXMgcHJvYmFibHkgb2theSB0byB1c2UgaGVyZSBzaW5jZSBpdCdzIERFVi1vbmx5LFxuICAgIC8vIGFuZCB3aWxsIG9ubHkgYmUgc2V0IGluIHRoZSBldmVudCBvZiBzZXJpb3VzIHdhcm5pbmdzLlxuICAgIGlmIChkaWRXYXJuQWJvdXRVbnNhZmVMaWZlY3ljbGVzLmhhcyhmaWJlci50eXBlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIERvbid0IHdhcm4gYWJvdXQgcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQgcG9seWZpbGxlZCBjb21wb25lbnRzLlxuICAgIC8vIE5vdGUgdGhhdCBpdCBpcyBzdWZmaWNpZW50IHRvIGNoZWNrIGZvciB0aGUgcHJlc2VuY2Ugb2YgYVxuICAgIC8vIHNpbmdsZSBsaWZlY3ljbGUsIGNvbXBvbmVudFdpbGxNb3VudCwgd2l0aCB0aGUgcG9seWZpbGwgZmxhZy5cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJyAmJiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB3YXJuaW5nc0ZvclJvb3QgPSB2b2lkIDA7XG4gICAgaWYgKCFwZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MuaGFzKHN0cmljdFJvb3QpKSB7XG4gICAgICB3YXJuaW5nc0ZvclJvb3QgPSB7XG4gICAgICAgIFVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQ6IFtdLFxuICAgICAgICBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogW10sXG4gICAgICAgIFVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlOiBbXVxuICAgICAgfTtcblxuICAgICAgcGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzLnNldChzdHJpY3RSb290LCB3YXJuaW5nc0ZvclJvb3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuaW5nc0ZvclJvb3QgPSBwZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MuZ2V0KHN0cmljdFJvb3QpO1xuICAgIH1cblxuICAgIHZhciB1bnNhZmVMaWZlY3ljbGVzID0gW107XG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHVuc2FmZUxpZmVjeWNsZXMucHVzaCgnVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCcpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB1bnNhZmVMaWZlY3ljbGVzLnB1c2goJ1VOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHVuc2FmZUxpZmVjeWNsZXMucHVzaCgnVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUnKTtcbiAgICB9XG5cbiAgICBpZiAodW5zYWZlTGlmZWN5Y2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICB1bnNhZmVMaWZlY3ljbGVzLmZvckVhY2goZnVuY3Rpb24gKGxpZmVjeWNsZSkge1xuICAgICAgICB3YXJuaW5nc0ZvclJvb3RbbGlmZWN5Y2xlXS5wdXNoKGZpYmVyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gRXhwb3J0cyBSZWFjdERPTS5jcmVhdGVSb290XG52YXIgZW5hYmxlVXNlclRpbWluZ0FQSSA9IHRydWU7XG5cbi8vIE11dGF0aW5nIG1vZGUgKFJlYWN0IERPTSwgUmVhY3QgQVJULCBSZWFjdCBOYXRpdmUpOlxudmFyIGVuYWJsZU11dGF0aW5nUmVjb25jaWxlciA9IHRydWU7XG4vLyBFeHBlcmltZW50YWwgbm9vcCBtb2RlIChjdXJyZW50bHkgdW51c2VkKTpcbnZhciBlbmFibGVOb29wUmVjb25jaWxlciA9IGZhbHNlO1xuLy8gRXhwZXJpbWVudGFsIHBlcnNpc3RlbnQgbW9kZSAoRmFicmljKTpcbnZhciBlbmFibGVQZXJzaXN0ZW50UmVjb25jaWxlciA9IGZhbHNlO1xuLy8gRXhwZXJpbWVudGFsIGVycm9yLWJvdW5kYXJ5IEFQSSB0aGF0IGNhbiByZWNvdmVyIGZyb20gZXJyb3JzIHdpdGhpbiBhIHNpbmdsZVxuLy8gcmVuZGVyIHBoYXNlXG52YXIgZW5hYmxlR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoID0gZmFsc2U7XG4vLyBIZWxwcyBpZGVudGlmeSBzaWRlIGVmZmVjdHMgaW4gYmVnaW4tcGhhc2UgbGlmZWN5Y2xlIGhvb2tzIGFuZCBzZXRTdGF0ZSByZWR1Y2VyczpcbnZhciBkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHMgPSBmYWxzZTtcblxuLy8gSW4gc29tZSBjYXNlcywgU3RyaWN0TW9kZSBzaG91bGQgYWxzbyBkb3VibGUtcmVuZGVyIGxpZmVjeWNsZXMuXG4vLyBUaGlzIGNhbiBiZSBjb25mdXNpbmcgZm9yIHRlc3RzIHRob3VnaCxcbi8vIEFuZCBpdCBjYW4gYmUgYmFkIGZvciBwZXJmb3JtYW5jZSBpbiBwcm9kdWN0aW9uLlxuLy8gVGhpcyBmZWF0dXJlIGZsYWcgY2FuIGJlIHVzZWQgdG8gY29udHJvbCB0aGUgYmVoYXZpb3I6XG52YXIgZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzRm9yU3RyaWN0TW9kZSA9IHRydWU7XG5cbi8vIFRvIHByZXNlcnZlIHRoZSBcIlBhdXNlIG9uIGNhdWdodCBleGNlcHRpb25zXCIgYmVoYXZpb3Igb2YgdGhlIGRlYnVnZ2VyLCB3ZVxuLy8gcmVwbGF5IHRoZSBiZWdpbiBwaGFzZSBvZiBhIGZhaWxlZCBjb21wb25lbnQgaW5zaWRlIGludm9rZUd1YXJkZWRDYWxsYmFjay5cbnZhciByZXBsYXlGYWlsZWRVbml0T2ZXb3JrV2l0aEludm9rZUd1YXJkZWRDYWxsYmFjayA9IHRydWU7XG5cbi8vIFdhcm4gYWJvdXQgZGVwcmVjYXRlZCwgYXN5bmMtdW5zYWZlIGxpZmVjeWNsZXM7IHJlbGF0ZXMgdG8gUkZDICM2OlxudmFyIHdhcm5BYm91dERlcHJlY2F0ZWRMaWZlY3ljbGVzID0gZmFsc2U7XG5cbnZhciBhbHdheXNVc2VSZXF1ZXN0SWRsZUNhbGxiYWNrUG9seWZpbGwgPSBmYWxzZTtcblxuLy8gT25seSB1c2VkIGluIHd3dyBidWlsZHMuXG5cbi8vIFByZWZpeCBtZWFzdXJlbWVudHMgc28gdGhhdCBpdCdzIHBvc3NpYmxlIHRvIGZpbHRlciB0aGVtLlxuLy8gTG9uZ2VyIHByZWZpeGVzIGFyZSBoYXJkIHRvIHJlYWQgaW4gRGV2VG9vbHMuXG52YXIgcmVhY3RFbW9qaSA9ICdcXHUyNjlCJztcbnZhciB3YXJuaW5nRW1vamkgPSAnXFx1MjZENCc7XG52YXIgc3VwcG9ydHNVc2VyVGltaW5nID0gdHlwZW9mIHBlcmZvcm1hbmNlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgcGVyZm9ybWFuY2UubWFyayA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgcGVyZm9ybWFuY2UuY2xlYXJNYXJrcyA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgcGVyZm9ybWFuY2UubWVhc3VyZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgcGVyZm9ybWFuY2UuY2xlYXJNZWFzdXJlcyA9PT0gJ2Z1bmN0aW9uJztcblxuLy8gS2VlcCB0cmFjayBvZiBjdXJyZW50IGZpYmVyIHNvIHRoYXQgd2Uga25vdyB0aGUgcGF0aCB0byB1bndpbmQgb24gcGF1c2UuXG4vLyBUT0RPOiB0aGlzIGxvb2tzIHRoZSBzYW1lIGFzIG5leHRVbml0T2ZXb3JrIGluIHNjaGVkdWxlci4gQ2FuIHdlIHVuaWZ5IHRoZW0/XG52YXIgY3VycmVudEZpYmVyID0gbnVsbDtcbi8vIElmIHdlJ3JlIGluIHRoZSBtaWRkbGUgb2YgdXNlciBjb2RlLCB3aGljaCBmaWJlciBhbmQgbWV0aG9kIGlzIGl0P1xuLy8gUmV1c2luZyBgY3VycmVudEZpYmVyYCB3b3VsZCBiZSBjb25mdXNpbmcgZm9yIHRoaXMgYmVjYXVzZSB1c2VyIGNvZGUgZmliZXJcbi8vIGNhbiBjaGFuZ2UgZHVyaW5nIGNvbW1pdCBwaGFzZSB0b28sIGJ1dCB3ZSBkb24ndCBuZWVkIHRvIHVud2luZCBpdCAoc2luY2Vcbi8vIGxpZmVjeWNsZXMgaW4gdGhlIGNvbW1pdCBwaGFzZSBkb24ndCByZXNlbWJsZSBhIHRyZWUpLlxudmFyIGN1cnJlbnRQaGFzZSA9IG51bGw7XG52YXIgY3VycmVudFBoYXNlRmliZXIgPSBudWxsO1xuLy8gRGlkIGxpZmVjeWNsZSBob29rIHNjaGVkdWxlIGFuIHVwZGF0ZT8gVGhpcyBpcyBvZnRlbiBhIHBlcmZvcm1hbmNlIHByb2JsZW0sXG4vLyBzbyB3ZSB3aWxsIGtlZXAgdHJhY2sgb2YgaXQsIGFuZCBpbmNsdWRlIGl0IGluIHRoZSByZXBvcnQuXG4vLyBUcmFjayBjb21taXRzIGNhdXNlZCBieSBjYXNjYWRpbmcgdXBkYXRlcy5cbnZhciBpc0NvbW1pdHRpbmcgPSBmYWxzZTtcbnZhciBoYXNTY2hlZHVsZWRVcGRhdGVJbkN1cnJlbnRDb21taXQgPSBmYWxzZTtcbnZhciBoYXNTY2hlZHVsZWRVcGRhdGVJbkN1cnJlbnRQaGFzZSA9IGZhbHNlO1xudmFyIGNvbW1pdENvdW50SW5DdXJyZW50V29ya0xvb3AgPSAwO1xudmFyIGVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0ID0gMDtcbnZhciBpc1dhaXRpbmdGb3JDYWxsYmFjayA9IGZhbHNlO1xuLy8gRHVyaW5nIGNvbW1pdHMsIHdlIG9ubHkgc2hvdyBhIG1lYXN1cmVtZW50IG9uY2UgcGVyIG1ldGhvZCBuYW1lXG4vLyB0byBhdm9pZCBzdHJldGNoIHRoZSBjb21taXQgcGhhc2Ugd2l0aCBtZWFzdXJlbWVudCBvdmVyaGVhZC5cbnZhciBsYWJlbHNJbkN1cnJlbnRDb21taXQgPSBuZXcgU2V0KCk7XG5cbnZhciBmb3JtYXRNYXJrTmFtZSA9IGZ1bmN0aW9uIChtYXJrTmFtZSkge1xuICByZXR1cm4gcmVhY3RFbW9qaSArICcgJyArIG1hcmtOYW1lO1xufTtcblxudmFyIGZvcm1hdExhYmVsID0gZnVuY3Rpb24gKGxhYmVsLCB3YXJuaW5nJCQxKSB7XG4gIHZhciBwcmVmaXggPSB3YXJuaW5nJCQxID8gd2FybmluZ0Vtb2ppICsgJyAnIDogcmVhY3RFbW9qaSArICcgJztcbiAgdmFyIHN1ZmZpeCA9IHdhcm5pbmckJDEgPyAnIFdhcm5pbmc6ICcgKyB3YXJuaW5nJCQxIDogJyc7XG4gIHJldHVybiAnJyArIHByZWZpeCArIGxhYmVsICsgc3VmZml4O1xufTtcblxudmFyIGJlZ2luTWFyayA9IGZ1bmN0aW9uIChtYXJrTmFtZSkge1xuICBwZXJmb3JtYW5jZS5tYXJrKGZvcm1hdE1hcmtOYW1lKG1hcmtOYW1lKSk7XG59O1xuXG52YXIgY2xlYXJNYXJrID0gZnVuY3Rpb24gKG1hcmtOYW1lKSB7XG4gIHBlcmZvcm1hbmNlLmNsZWFyTWFya3MoZm9ybWF0TWFya05hbWUobWFya05hbWUpKTtcbn07XG5cbnZhciBlbmRNYXJrID0gZnVuY3Rpb24gKGxhYmVsLCBtYXJrTmFtZSwgd2FybmluZyQkMSkge1xuICB2YXIgZm9ybWF0dGVkTWFya05hbWUgPSBmb3JtYXRNYXJrTmFtZShtYXJrTmFtZSk7XG4gIHZhciBmb3JtYXR0ZWRMYWJlbCA9IGZvcm1hdExhYmVsKGxhYmVsLCB3YXJuaW5nJCQxKTtcbiAgdHJ5IHtcbiAgICBwZXJmb3JtYW5jZS5tZWFzdXJlKGZvcm1hdHRlZExhYmVsLCBmb3JtYXR0ZWRNYXJrTmFtZSk7XG4gIH0gY2F0Y2ggKGVycikge31cbiAgLy8gSWYgcHJldmlvdXMgbWFyayB3YXMgbWlzc2luZyBmb3Igc29tZSByZWFzb24sIHRoaXMgd2lsbCB0aHJvdy5cbiAgLy8gVGhpcyBjb3VsZCBvbmx5IGhhcHBlbiBpZiBSZWFjdCBjcmFzaGVkIGluIGFuIHVuZXhwZWN0ZWQgcGxhY2UgZWFybGllci5cbiAgLy8gRG9uJ3QgcGlsZSBvbiB3aXRoIG1vcmUgZXJyb3JzLlxuXG4gIC8vIENsZWFyIG1hcmtzIGltbWVkaWF0ZWx5IHRvIGF2b2lkIGdyb3dpbmcgYnVmZmVyLlxuICBwZXJmb3JtYW5jZS5jbGVhck1hcmtzKGZvcm1hdHRlZE1hcmtOYW1lKTtcbiAgcGVyZm9ybWFuY2UuY2xlYXJNZWFzdXJlcyhmb3JtYXR0ZWRMYWJlbCk7XG59O1xuXG52YXIgZ2V0RmliZXJNYXJrTmFtZSA9IGZ1bmN0aW9uIChsYWJlbCwgZGVidWdJRCkge1xuICByZXR1cm4gbGFiZWwgKyAnICgjJyArIGRlYnVnSUQgKyAnKSc7XG59O1xuXG52YXIgZ2V0RmliZXJMYWJlbCA9IGZ1bmN0aW9uIChjb21wb25lbnROYW1lLCBpc01vdW50ZWQsIHBoYXNlKSB7XG4gIGlmIChwaGFzZSA9PT0gbnVsbCkge1xuICAgIC8vIFRoZXNlIGFyZSBjb21wb3NpdGUgY29tcG9uZW50IHRvdGFsIHRpbWUgbWVhc3VyZW1lbnRzLlxuICAgIHJldHVybiBjb21wb25lbnROYW1lICsgJyBbJyArIChpc01vdW50ZWQgPyAndXBkYXRlJyA6ICdtb3VudCcpICsgJ10nO1xuICB9IGVsc2Uge1xuICAgIC8vIENvbXBvc2l0ZSBjb21wb25lbnQgbWV0aG9kcy5cbiAgICByZXR1cm4gY29tcG9uZW50TmFtZSArICcuJyArIHBoYXNlO1xuICB9XG59O1xuXG52YXIgYmVnaW5GaWJlck1hcmsgPSBmdW5jdGlvbiAoZmliZXIsIHBoYXNlKSB7XG4gIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgJ1Vua25vd24nO1xuICB2YXIgZGVidWdJRCA9IGZpYmVyLl9kZWJ1Z0lEO1xuICB2YXIgaXNNb3VudGVkID0gZmliZXIuYWx0ZXJuYXRlICE9PSBudWxsO1xuICB2YXIgbGFiZWwgPSBnZXRGaWJlckxhYmVsKGNvbXBvbmVudE5hbWUsIGlzTW91bnRlZCwgcGhhc2UpO1xuXG4gIGlmIChpc0NvbW1pdHRpbmcgJiYgbGFiZWxzSW5DdXJyZW50Q29tbWl0LmhhcyhsYWJlbCkpIHtcbiAgICAvLyBEdXJpbmcgdGhlIGNvbW1pdCBwaGFzZSwgd2UgZG9uJ3Qgc2hvdyBkdXBsaWNhdGUgbGFiZWxzIGJlY2F1c2VcbiAgICAvLyB0aGVyZSBpcyBhIGZpeGVkIG92ZXJoZWFkIGZvciBldmVyeSBtZWFzdXJlbWVudCwgYW5kIHdlIGRvbid0XG4gICAgLy8gd2FudCB0byBzdHJldGNoIHRoZSBjb21taXQgcGhhc2UgYmV5b25kIG5lY2Vzc2FyeS5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbGFiZWxzSW5DdXJyZW50Q29tbWl0LmFkZChsYWJlbCk7XG5cbiAgdmFyIG1hcmtOYW1lID0gZ2V0RmliZXJNYXJrTmFtZShsYWJlbCwgZGVidWdJRCk7XG4gIGJlZ2luTWFyayhtYXJrTmFtZSk7XG4gIHJldHVybiB0cnVlO1xufTtcblxudmFyIGNsZWFyRmliZXJNYXJrID0gZnVuY3Rpb24gKGZpYmVyLCBwaGFzZSkge1xuICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUoZmliZXIpIHx8ICdVbmtub3duJztcbiAgdmFyIGRlYnVnSUQgPSBmaWJlci5fZGVidWdJRDtcbiAgdmFyIGlzTW91bnRlZCA9IGZpYmVyLmFsdGVybmF0ZSAhPT0gbnVsbDtcbiAgdmFyIGxhYmVsID0gZ2V0RmliZXJMYWJlbChjb21wb25lbnROYW1lLCBpc01vdW50ZWQsIHBoYXNlKTtcbiAgdmFyIG1hcmtOYW1lID0gZ2V0RmliZXJNYXJrTmFtZShsYWJlbCwgZGVidWdJRCk7XG4gIGNsZWFyTWFyayhtYXJrTmFtZSk7XG59O1xuXG52YXIgZW5kRmliZXJNYXJrID0gZnVuY3Rpb24gKGZpYmVyLCBwaGFzZSwgd2FybmluZyQkMSkge1xuICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUoZmliZXIpIHx8ICdVbmtub3duJztcbiAgdmFyIGRlYnVnSUQgPSBmaWJlci5fZGVidWdJRDtcbiAgdmFyIGlzTW91bnRlZCA9IGZpYmVyLmFsdGVybmF0ZSAhPT0gbnVsbDtcbiAgdmFyIGxhYmVsID0gZ2V0RmliZXJMYWJlbChjb21wb25lbnROYW1lLCBpc01vdW50ZWQsIHBoYXNlKTtcbiAgdmFyIG1hcmtOYW1lID0gZ2V0RmliZXJNYXJrTmFtZShsYWJlbCwgZGVidWdJRCk7XG4gIGVuZE1hcmsobGFiZWwsIG1hcmtOYW1lLCB3YXJuaW5nJCQxKTtcbn07XG5cbnZhciBzaG91bGRJZ25vcmVGaWJlciA9IGZ1bmN0aW9uIChmaWJlcikge1xuICAvLyBIb3N0IGNvbXBvbmVudHMgc2hvdWxkIGJlIHNraXBwZWQgaW4gdGhlIHRpbWVsaW5lLlxuICAvLyBXZSBjb3VsZCBjaGVjayB0eXBlb2YgZmliZXIudHlwZSwgYnV0IGRvZXMgdGhpcyB3b3JrIHdpdGggUk4/XG4gIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgY2FzZSBIb3N0Um9vdDpcbiAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgY2FzZSBIb3N0VGV4dDpcbiAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgY2FzZSBDYWxsQ29tcG9uZW50OlxuICAgIGNhc2UgUmV0dXJuQ29tcG9uZW50OlxuICAgIGNhc2UgRnJhZ21lbnQ6XG4gICAgY2FzZSBDb250ZXh0UHJvdmlkZXI6XG4gICAgY2FzZSBDb250ZXh0Q29uc3VtZXI6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG52YXIgY2xlYXJQZW5kaW5nUGhhc2VNZWFzdXJlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKGN1cnJlbnRQaGFzZSAhPT0gbnVsbCAmJiBjdXJyZW50UGhhc2VGaWJlciAhPT0gbnVsbCkge1xuICAgIGNsZWFyRmliZXJNYXJrKGN1cnJlbnRQaGFzZUZpYmVyLCBjdXJyZW50UGhhc2UpO1xuICB9XG4gIGN1cnJlbnRQaGFzZUZpYmVyID0gbnVsbDtcbiAgY3VycmVudFBoYXNlID0gbnVsbDtcbiAgaGFzU2NoZWR1bGVkVXBkYXRlSW5DdXJyZW50UGhhc2UgPSBmYWxzZTtcbn07XG5cbnZhciBwYXVzZVRpbWVycyA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gU3RvcHMgYWxsIGN1cnJlbnRseSBhY3RpdmUgbWVhc3VyZW1lbnRzIHNvIHRoYXQgdGhleSBjYW4gYmUgcmVzdW1lZFxuICAvLyBpZiB3ZSBjb250aW51ZSBpbiBhIGxhdGVyIGRlZmVycmVkIGxvb3AgZnJvbSB0aGUgc2FtZSB1bml0IG9mIHdvcmsuXG4gIHZhciBmaWJlciA9IGN1cnJlbnRGaWJlcjtcbiAgd2hpbGUgKGZpYmVyKSB7XG4gICAgaWYgKGZpYmVyLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nKSB7XG4gICAgICBlbmRGaWJlck1hcmsoZmliZXIsIG51bGwsIG51bGwpO1xuICAgIH1cbiAgICBmaWJlciA9IGZpYmVyWydyZXR1cm4nXTtcbiAgfVxufTtcblxudmFyIHJlc3VtZVRpbWVyc1JlY3Vyc2l2ZWx5ID0gZnVuY3Rpb24gKGZpYmVyKSB7XG4gIGlmIChmaWJlclsncmV0dXJuJ10gIT09IG51bGwpIHtcbiAgICByZXN1bWVUaW1lcnNSZWN1cnNpdmVseShmaWJlclsncmV0dXJuJ10pO1xuICB9XG4gIGlmIChmaWJlci5fZGVidWdJc0N1cnJlbnRseVRpbWluZykge1xuICAgIGJlZ2luRmliZXJNYXJrKGZpYmVyLCBudWxsKTtcbiAgfVxufTtcblxudmFyIHJlc3VtZVRpbWVycyA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gUmVzdW1lcyBhbGwgbWVhc3VyZW1lbnRzIHRoYXQgd2VyZSBhY3RpdmUgZHVyaW5nIHRoZSBsYXN0IGRlZmVycmVkIGxvb3AuXG4gIGlmIChjdXJyZW50RmliZXIgIT09IG51bGwpIHtcbiAgICByZXN1bWVUaW1lcnNSZWN1cnNpdmVseShjdXJyZW50RmliZXIpO1xuICB9XG59O1xuXG5mdW5jdGlvbiByZWNvcmRFZmZlY3QoKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQrKztcbiAgfVxufVxuXG5mdW5jdGlvbiByZWNvcmRTY2hlZHVsZVVwZGF0ZSgpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoaXNDb21taXR0aW5nKSB7XG4gICAgICBoYXNTY2hlZHVsZWRVcGRhdGVJbkN1cnJlbnRDb21taXQgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFBoYXNlICE9PSBudWxsICYmIGN1cnJlbnRQaGFzZSAhPT0gJ2NvbXBvbmVudFdpbGxNb3VudCcgJiYgY3VycmVudFBoYXNlICE9PSAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycpIHtcbiAgICAgIGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudFBoYXNlID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRSZXF1ZXN0Q2FsbGJhY2tUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoc3VwcG9ydHNVc2VyVGltaW5nICYmICFpc1dhaXRpbmdGb3JDYWxsYmFjaykge1xuICAgICAgaXNXYWl0aW5nRm9yQ2FsbGJhY2sgPSB0cnVlO1xuICAgICAgYmVnaW5NYXJrKCcoV2FpdGluZyBmb3IgYXN5bmMgY2FsbGJhY2suLi4pJyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3BSZXF1ZXN0Q2FsbGJhY2tUaW1lcihkaWRFeHBpcmUsIGV4cGlyYXRpb25UaW1lKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKHN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgaXNXYWl0aW5nRm9yQ2FsbGJhY2sgPSBmYWxzZTtcbiAgICAgIHZhciB3YXJuaW5nJCQxID0gZGlkRXhwaXJlID8gJ1JlYWN0IHdhcyBibG9ja2VkIGJ5IG1haW4gdGhyZWFkJyA6IG51bGw7XG4gICAgICBlbmRNYXJrKCcoV2FpdGluZyBmb3IgYXN5bmMgY2FsbGJhY2suLi4gd2lsbCBmb3JjZSBmbHVzaCBpbiAnICsgZXhwaXJhdGlvblRpbWUgKyAnIG1zKScsICcoV2FpdGluZyBmb3IgYXN5bmMgY2FsbGJhY2suLi4pJywgd2FybmluZyQkMSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHN0YXJ0V29ya1RpbWVyKGZpYmVyKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcgfHwgc2hvdWxkSWdub3JlRmliZXIoZmliZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIElmIHdlIHBhdXNlLCB0aGlzIGlzIHRoZSBmaWJlciB0byB1bndpbmQgZnJvbS5cbiAgICBjdXJyZW50RmliZXIgPSBmaWJlcjtcbiAgICBpZiAoIWJlZ2luRmliZXJNYXJrKGZpYmVyLCBudWxsKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmaWJlci5fZGVidWdJc0N1cnJlbnRseVRpbWluZyA9IHRydWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2FuY2VsV29ya1RpbWVyKGZpYmVyKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcgfHwgc2hvdWxkSWdub3JlRmliZXIoZmliZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFJlbWVtYmVyIHdlIHNob3VsZG4ndCBjb21wbGV0ZSBtZWFzdXJlbWVudCBmb3IgdGhpcyBmaWJlci5cbiAgICAvLyBPdGhlcndpc2UgZmxhbWVjaGFydCB3aWxsIGJlIGRlZXAgZXZlbiBmb3Igc21hbGwgdXBkYXRlcy5cbiAgICBmaWJlci5fZGVidWdJc0N1cnJlbnRseVRpbWluZyA9IGZhbHNlO1xuICAgIGNsZWFyRmliZXJNYXJrKGZpYmVyLCBudWxsKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdG9wV29ya1RpbWVyKGZpYmVyKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcgfHwgc2hvdWxkSWdub3JlRmliZXIoZmliZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIElmIHdlIHBhdXNlLCBpdHMgcGFyZW50IGlzIHRoZSBmaWJlciB0byB1bndpbmQgZnJvbS5cbiAgICBjdXJyZW50RmliZXIgPSBmaWJlclsncmV0dXJuJ107XG4gICAgaWYgKCFmaWJlci5fZGVidWdJc0N1cnJlbnRseVRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmaWJlci5fZGVidWdJc0N1cnJlbnRseVRpbWluZyA9IGZhbHNlO1xuICAgIGVuZEZpYmVyTWFyayhmaWJlciwgbnVsbCwgbnVsbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RvcEZhaWxlZFdvcmtUaW1lcihmaWJlcikge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nIHx8IHNob3VsZElnbm9yZUZpYmVyKGZpYmVyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBJZiB3ZSBwYXVzZSwgaXRzIHBhcmVudCBpcyB0aGUgZmliZXIgdG8gdW53aW5kIGZyb20uXG4gICAgY3VycmVudEZpYmVyID0gZmliZXJbJ3JldHVybiddO1xuICAgIGlmICghZmliZXIuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZmliZXIuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmcgPSBmYWxzZTtcbiAgICB2YXIgd2FybmluZyQkMSA9ICdBbiBlcnJvciB3YXMgdGhyb3duIGluc2lkZSB0aGlzIGVycm9yIGJvdW5kYXJ5JztcbiAgICBlbmRGaWJlck1hcmsoZmliZXIsIG51bGwsIHdhcm5pbmckJDEpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0YXJ0UGhhc2VUaW1lcihmaWJlciwgcGhhc2UpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjbGVhclBlbmRpbmdQaGFzZU1lYXN1cmVtZW50KCk7XG4gICAgaWYgKCFiZWdpbkZpYmVyTWFyayhmaWJlciwgcGhhc2UpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRQaGFzZUZpYmVyID0gZmliZXI7XG4gICAgY3VycmVudFBoYXNlID0gcGhhc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RvcFBoYXNlVGltZXIoKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRQaGFzZSAhPT0gbnVsbCAmJiBjdXJyZW50UGhhc2VGaWJlciAhPT0gbnVsbCkge1xuICAgICAgdmFyIHdhcm5pbmckJDEgPSBoYXNTY2hlZHVsZWRVcGRhdGVJbkN1cnJlbnRQaGFzZSA/ICdTY2hlZHVsZWQgYSBjYXNjYWRpbmcgdXBkYXRlJyA6IG51bGw7XG4gICAgICBlbmRGaWJlck1hcmsoY3VycmVudFBoYXNlRmliZXIsIGN1cnJlbnRQaGFzZSwgd2FybmluZyQkMSk7XG4gICAgfVxuICAgIGN1cnJlbnRQaGFzZSA9IG51bGw7XG4gICAgY3VycmVudFBoYXNlRmliZXIgPSBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0YXJ0V29ya0xvb3BUaW1lcihuZXh0VW5pdE9mV29yaykge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGN1cnJlbnRGaWJlciA9IG5leHRVbml0T2ZXb3JrO1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbW1pdENvdW50SW5DdXJyZW50V29ya0xvb3AgPSAwO1xuICAgIC8vIFRoaXMgaXMgdG9wIGxldmVsIGNhbGwuXG4gICAgLy8gQW55IG90aGVyIG1lYXN1cmVtZW50cyBhcmUgcGVyZm9ybWVkIHdpdGhpbi5cbiAgICBiZWdpbk1hcmsoJyhSZWFjdCBUcmVlIFJlY29uY2lsaWF0aW9uKScpO1xuICAgIC8vIFJlc3VtZSBhbnkgbWVhc3VyZW1lbnRzIHRoYXQgd2VyZSBpbiBwcm9ncmVzcyBkdXJpbmcgdGhlIGxhc3QgbG9vcC5cbiAgICByZXN1bWVUaW1lcnMoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdG9wV29ya0xvb3BUaW1lcihpbnRlcnJ1cHRlZEJ5LCBkaWRDb21wbGV0ZVJvb3QpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgd2FybmluZyQkMSA9IG51bGw7XG4gICAgaWYgKGludGVycnVwdGVkQnkgIT09IG51bGwpIHtcbiAgICAgIGlmIChpbnRlcnJ1cHRlZEJ5LnRhZyA9PT0gSG9zdFJvb3QpIHtcbiAgICAgICAgd2FybmluZyQkMSA9ICdBIHRvcC1sZXZlbCB1cGRhdGUgaW50ZXJydXB0ZWQgdGhlIHByZXZpb3VzIHJlbmRlcic7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUoaW50ZXJydXB0ZWRCeSkgfHwgJ1Vua25vd24nO1xuICAgICAgICB3YXJuaW5nJCQxID0gJ0FuIHVwZGF0ZSB0byAnICsgY29tcG9uZW50TmFtZSArICcgaW50ZXJydXB0ZWQgdGhlIHByZXZpb3VzIHJlbmRlcic7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjb21taXRDb3VudEluQ3VycmVudFdvcmtMb29wID4gMSkge1xuICAgICAgd2FybmluZyQkMSA9ICdUaGVyZSB3ZXJlIGNhc2NhZGluZyB1cGRhdGVzJztcbiAgICB9XG4gICAgY29tbWl0Q291bnRJbkN1cnJlbnRXb3JrTG9vcCA9IDA7XG4gICAgdmFyIGxhYmVsID0gZGlkQ29tcGxldGVSb290ID8gJyhSZWFjdCBUcmVlIFJlY29uY2lsaWF0aW9uOiBDb21wbGV0ZWQgUm9vdCknIDogJyhSZWFjdCBUcmVlIFJlY29uY2lsaWF0aW9uOiBZaWVsZGVkKSc7XG4gICAgLy8gUGF1c2UgYW55IG1lYXN1cmVtZW50cyB1bnRpbCB0aGUgbmV4dCBsb29wLlxuICAgIHBhdXNlVGltZXJzKCk7XG4gICAgZW5kTWFyayhsYWJlbCwgJyhSZWFjdCBUcmVlIFJlY29uY2lsaWF0aW9uKScsIHdhcm5pbmckJDEpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0YXJ0Q29tbWl0VGltZXIoKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaXNDb21taXR0aW5nID0gdHJ1ZTtcbiAgICBoYXNTY2hlZHVsZWRVcGRhdGVJbkN1cnJlbnRDb21taXQgPSBmYWxzZTtcbiAgICBsYWJlbHNJbkN1cnJlbnRDb21taXQuY2xlYXIoKTtcbiAgICBiZWdpbk1hcmsoJyhDb21taXR0aW5nIENoYW5nZXMpJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RvcENvbW1pdFRpbWVyKCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHdhcm5pbmckJDEgPSBudWxsO1xuICAgIGlmIChoYXNTY2hlZHVsZWRVcGRhdGVJbkN1cnJlbnRDb21taXQpIHtcbiAgICAgIHdhcm5pbmckJDEgPSAnTGlmZWN5Y2xlIGhvb2sgc2NoZWR1bGVkIGEgY2FzY2FkaW5nIHVwZGF0ZSc7XG4gICAgfSBlbHNlIGlmIChjb21taXRDb3VudEluQ3VycmVudFdvcmtMb29wID4gMCkge1xuICAgICAgd2FybmluZyQkMSA9ICdDYXVzZWQgYnkgYSBjYXNjYWRpbmcgdXBkYXRlIGluIGVhcmxpZXIgY29tbWl0JztcbiAgICB9XG4gICAgaGFzU2NoZWR1bGVkVXBkYXRlSW5DdXJyZW50Q29tbWl0ID0gZmFsc2U7XG4gICAgY29tbWl0Q291bnRJbkN1cnJlbnRXb3JrTG9vcCsrO1xuICAgIGlzQ29tbWl0dGluZyA9IGZhbHNlO1xuICAgIGxhYmVsc0luQ3VycmVudENvbW1pdC5jbGVhcigpO1xuXG4gICAgZW5kTWFyaygnKENvbW1pdHRpbmcgQ2hhbmdlcyknLCAnKENvbW1pdHRpbmcgQ2hhbmdlcyknLCB3YXJuaW5nJCQxKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydENvbW1pdFNuYXBzaG90RWZmZWN0c1RpbWVyKCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0ID0gMDtcbiAgICBiZWdpbk1hcmsoJyhDb21taXR0aW5nIFNuYXBzaG90IEVmZmVjdHMpJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RvcENvbW1pdFNuYXBzaG90RWZmZWN0c1RpbWVyKCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBjb3VudCA9IGVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0O1xuICAgIGVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0ID0gMDtcbiAgICBlbmRNYXJrKCcoQ29tbWl0dGluZyBTbmFwc2hvdCBFZmZlY3RzOiAnICsgY291bnQgKyAnIFRvdGFsKScsICcoQ29tbWl0dGluZyBTbmFwc2hvdCBFZmZlY3RzKScsIG51bGwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0YXJ0Q29tbWl0SG9zdEVmZmVjdHNUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlZmZlY3RDb3VudEluQ3VycmVudENvbW1pdCA9IDA7XG4gICAgYmVnaW5NYXJrKCcoQ29tbWl0dGluZyBIb3N0IEVmZmVjdHMpJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RvcENvbW1pdEhvc3RFZmZlY3RzVGltZXIoKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGNvdW50ID0gZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQ7XG4gICAgZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQgPSAwO1xuICAgIGVuZE1hcmsoJyhDb21taXR0aW5nIEhvc3QgRWZmZWN0czogJyArIGNvdW50ICsgJyBUb3RhbCknLCAnKENvbW1pdHRpbmcgSG9zdCBFZmZlY3RzKScsIG51bGwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0YXJ0Q29tbWl0TGlmZUN5Y2xlc1RpbWVyKCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0ID0gMDtcbiAgICBiZWdpbk1hcmsoJyhDYWxsaW5nIExpZmVjeWNsZSBNZXRob2RzKScpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3BDb21taXRMaWZlQ3ljbGVzVGltZXIoKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGNvdW50ID0gZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQ7XG4gICAgZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQgPSAwO1xuICAgIGVuZE1hcmsoJyhDYWxsaW5nIExpZmVjeWNsZSBNZXRob2RzOiAnICsgY291bnQgKyAnIFRvdGFsKScsICcoQ2FsbGluZyBMaWZlY3ljbGUgTWV0aG9kcyknLCBudWxsKTtcbiAgfVxufVxuXG52YXIgZGlkV2FyblVwZGF0ZUluc2lkZVVwZGF0ZSA9IHZvaWQgMDtcblxue1xuICBkaWRXYXJuVXBkYXRlSW5zaWRlVXBkYXRlID0gZmFsc2U7XG59XG5cbi8vIENhbGxiYWNrcyBhcmUgbm90IHZhbGlkYXRlZCB1bnRpbCBpbnZvY2F0aW9uXG5cblxuLy8gU2luZ2x5IGxpbmtlZC1saXN0IG9mIHVwZGF0ZXMuIFdoZW4gYW4gdXBkYXRlIGlzIHNjaGVkdWxlZCwgaXQgaXMgYWRkZWQgdG9cbi8vIHRoZSBxdWV1ZSBvZiB0aGUgY3VycmVudCBmaWJlciBhbmQgdGhlIHdvcmstaW4tcHJvZ3Jlc3MgZmliZXIuIFRoZSB0d28gcXVldWVzXG4vLyBhcmUgc2VwYXJhdGUgYnV0IHRoZXkgc2hhcmUgYSBwZXJzaXN0ZW50IHN0cnVjdHVyZS5cbi8vXG4vLyBEdXJpbmcgcmVjb25jaWxpYXRpb24sIHVwZGF0ZXMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgd29yay1pbi1wcm9ncmVzcyBmaWJlcixcbi8vIGJ1dCB0aGV5IHJlbWFpbiBvbiB0aGUgY3VycmVudCBmaWJlci4gVGhhdCBlbnN1cmVzIHRoYXQgaWYgYSB3b3JrLWluLXByb2dyZXNzXG4vLyBpcyBhYm9ydGVkLCB0aGUgYWJvcnRlZCB1cGRhdGVzIGFyZSByZWNvdmVyZWQgYnkgY2xvbmluZyBmcm9tIGN1cnJlbnQuXG4vL1xuLy8gVGhlIHdvcmstaW4tcHJvZ3Jlc3MgcXVldWUgaXMgYWx3YXlzIGEgc3Vic2V0IG9mIHRoZSBjdXJyZW50IHF1ZXVlLlxuLy9cbi8vIFdoZW4gdGhlIHRyZWUgaXMgY29tbWl0dGVkLCB0aGUgd29yay1pbi1wcm9ncmVzcyBiZWNvbWVzIHRoZSBjdXJyZW50LlxuXG5cbmZ1bmN0aW9uIGNyZWF0ZVVwZGF0ZVF1ZXVlKGJhc2VTdGF0ZSkge1xuICB2YXIgcXVldWUgPSB7XG4gICAgYmFzZVN0YXRlOiBiYXNlU3RhdGUsXG4gICAgZXhwaXJhdGlvblRpbWU6IE5vV29yayxcbiAgICBmaXJzdDogbnVsbCxcbiAgICBsYXN0OiBudWxsLFxuICAgIGNhbGxiYWNrTGlzdDogbnVsbCxcbiAgICBoYXNGb3JjZVVwZGF0ZTogZmFsc2UsXG4gICAgaXNJbml0aWFsaXplZDogZmFsc2UsXG4gICAgY2FwdHVyZWRWYWx1ZXM6IG51bGxcbiAgfTtcbiAge1xuICAgIHF1ZXVlLmlzUHJvY2Vzc2luZyA9IGZhbHNlO1xuICB9XG4gIHJldHVybiBxdWV1ZTtcbn1cblxuZnVuY3Rpb24gaW5zZXJ0VXBkYXRlSW50b1F1ZXVlKHF1ZXVlLCB1cGRhdGUpIHtcbiAgLy8gQXBwZW5kIHRoZSB1cGRhdGUgdG8gdGhlIGVuZCBvZiB0aGUgbGlzdC5cbiAgaWYgKHF1ZXVlLmxhc3QgPT09IG51bGwpIHtcbiAgICAvLyBRdWV1ZSBpcyBlbXB0eVxuICAgIHF1ZXVlLmZpcnN0ID0gcXVldWUubGFzdCA9IHVwZGF0ZTtcbiAgfSBlbHNlIHtcbiAgICBxdWV1ZS5sYXN0Lm5leHQgPSB1cGRhdGU7XG4gICAgcXVldWUubGFzdCA9IHVwZGF0ZTtcbiAgfVxuICBpZiAocXVldWUuZXhwaXJhdGlvblRpbWUgPT09IE5vV29yayB8fCBxdWV1ZS5leHBpcmF0aW9uVGltZSA+IHVwZGF0ZS5leHBpcmF0aW9uVGltZSkge1xuICAgIHF1ZXVlLmV4cGlyYXRpb25UaW1lID0gdXBkYXRlLmV4cGlyYXRpb25UaW1lO1xuICB9XG59XG5cbnZhciBxMSA9IHZvaWQgMDtcbnZhciBxMiA9IHZvaWQgMDtcbmZ1bmN0aW9uIGVuc3VyZVVwZGF0ZVF1ZXVlcyhmaWJlcikge1xuICBxMSA9IHEyID0gbnVsbDtcbiAgLy8gV2UnbGwgaGF2ZSBhdCBsZWFzdCBvbmUgYW5kIGF0IG1vc3QgdHdvIGRpc3RpbmN0IHVwZGF0ZSBxdWV1ZXMuXG4gIHZhciBhbHRlcm5hdGVGaWJlciA9IGZpYmVyLmFsdGVybmF0ZTtcbiAgdmFyIHF1ZXVlMSA9IGZpYmVyLnVwZGF0ZVF1ZXVlO1xuICBpZiAocXVldWUxID09PSBudWxsKSB7XG4gICAgLy8gVE9ETzogV2UgZG9uJ3Qga25vdyB3aGF0IHRoZSBiYXNlIHN0YXRlIHdpbGwgYmUgdW50aWwgd2UgYmVnaW4gd29yay5cbiAgICAvLyBJdCBkZXBlbmRzIG9uIHdoaWNoIGZpYmVyIGlzIHRoZSBuZXh0IGN1cnJlbnQuIEluaXRpYWxpemUgd2l0aCBhbiBlbXB0eVxuICAgIC8vIGJhc2Ugc3RhdGUsIHRoZW4gc2V0IHRvIHRoZSBtZW1vaXplZFN0YXRlIHdoZW4gcmVuZGVyaW5nLiBOb3Qgc3VwZXJcbiAgICAvLyBoYXBweSB3aXRoIHRoaXMgYXBwcm9hY2guXG4gICAgcXVldWUxID0gZmliZXIudXBkYXRlUXVldWUgPSBjcmVhdGVVcGRhdGVRdWV1ZShudWxsKTtcbiAgfVxuXG4gIHZhciBxdWV1ZTIgPSB2b2lkIDA7XG4gIGlmIChhbHRlcm5hdGVGaWJlciAhPT0gbnVsbCkge1xuICAgIHF1ZXVlMiA9IGFsdGVybmF0ZUZpYmVyLnVwZGF0ZVF1ZXVlO1xuICAgIGlmIChxdWV1ZTIgPT09IG51bGwpIHtcbiAgICAgIHF1ZXVlMiA9IGFsdGVybmF0ZUZpYmVyLnVwZGF0ZVF1ZXVlID0gY3JlYXRlVXBkYXRlUXVldWUobnVsbCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHF1ZXVlMiA9IG51bGw7XG4gIH1cbiAgcXVldWUyID0gcXVldWUyICE9PSBxdWV1ZTEgPyBxdWV1ZTIgOiBudWxsO1xuXG4gIC8vIFVzZSBtb2R1bGUgdmFyaWFibGVzIGluc3RlYWQgb2YgcmV0dXJuaW5nIGEgdHVwbGVcbiAgcTEgPSBxdWV1ZTE7XG4gIHEyID0gcXVldWUyO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRVcGRhdGVJbnRvRmliZXIoZmliZXIsIHVwZGF0ZSkge1xuICBlbnN1cmVVcGRhdGVRdWV1ZXMoZmliZXIpO1xuICB2YXIgcXVldWUxID0gcTE7XG4gIHZhciBxdWV1ZTIgPSBxMjtcblxuICAvLyBXYXJuIGlmIGFuIHVwZGF0ZSBpcyBzY2hlZHVsZWQgZnJvbSBpbnNpZGUgYW4gdXBkYXRlciBmdW5jdGlvbi5cbiAge1xuICAgIGlmICgocXVldWUxLmlzUHJvY2Vzc2luZyB8fCBxdWV1ZTIgIT09IG51bGwgJiYgcXVldWUyLmlzUHJvY2Vzc2luZykgJiYgIWRpZFdhcm5VcGRhdGVJbnNpZGVVcGRhdGUpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdBbiB1cGRhdGUgKHNldFN0YXRlLCByZXBsYWNlU3RhdGUsIG9yIGZvcmNlVXBkYXRlKSB3YXMgc2NoZWR1bGVkICcgKyAnZnJvbSBpbnNpZGUgYW4gdXBkYXRlIGZ1bmN0aW9uLiBVcGRhdGUgZnVuY3Rpb25zIHNob3VsZCBiZSBwdXJlLCAnICsgJ3dpdGggemVybyBzaWRlLWVmZmVjdHMuIENvbnNpZGVyIHVzaW5nIGNvbXBvbmVudERpZFVwZGF0ZSBvciBhICcgKyAnY2FsbGJhY2suJyk7XG4gICAgICBkaWRXYXJuVXBkYXRlSW5zaWRlVXBkYXRlID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvLyBJZiB0aGVyZSdzIG9ubHkgb25lIHF1ZXVlLCBhZGQgdGhlIHVwZGF0ZSB0byB0aGF0IHF1ZXVlIGFuZCBleGl0LlxuICBpZiAocXVldWUyID09PSBudWxsKSB7XG4gICAgaW5zZXJ0VXBkYXRlSW50b1F1ZXVlKHF1ZXVlMSwgdXBkYXRlKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBJZiBlaXRoZXIgcXVldWUgaXMgZW1wdHksIHdlIG5lZWQgdG8gYWRkIHRvIGJvdGggcXVldWVzLlxuICBpZiAocXVldWUxLmxhc3QgPT09IG51bGwgfHwgcXVldWUyLmxhc3QgPT09IG51bGwpIHtcbiAgICBpbnNlcnRVcGRhdGVJbnRvUXVldWUocXVldWUxLCB1cGRhdGUpO1xuICAgIGluc2VydFVwZGF0ZUludG9RdWV1ZShxdWV1ZTIsIHVwZGF0ZSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gSWYgYm90aCBsaXN0cyBhcmUgbm90IGVtcHR5LCB0aGUgbGFzdCB1cGRhdGUgaXMgdGhlIHNhbWUgZm9yIGJvdGggbGlzdHNcbiAgLy8gYmVjYXVzZSBvZiBzdHJ1Y3R1cmFsIHNoYXJpbmcuIFNvLCB3ZSBzaG91bGQgb25seSBhcHBlbmQgdG8gb25lIG9mXG4gIC8vIHRoZSBsaXN0cy5cbiAgaW5zZXJ0VXBkYXRlSW50b1F1ZXVlKHF1ZXVlMSwgdXBkYXRlKTtcbiAgLy8gQnV0IHdlIHN0aWxsIG5lZWQgdG8gdXBkYXRlIHRoZSBgbGFzdGAgcG9pbnRlciBvZiBxdWV1ZTIuXG4gIHF1ZXVlMi5sYXN0ID0gdXBkYXRlO1xufVxuXG5mdW5jdGlvbiBnZXRVcGRhdGVFeHBpcmF0aW9uVGltZShmaWJlcikge1xuICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgIHZhciB1cGRhdGVRdWV1ZSA9IGZpYmVyLnVwZGF0ZVF1ZXVlO1xuICAgICAgaWYgKHVwZGF0ZVF1ZXVlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBOb1dvcms7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXBkYXRlUXVldWUuZXhwaXJhdGlvblRpbWU7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBOb1dvcms7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0U3RhdGVGcm9tVXBkYXRlKHVwZGF0ZSwgaW5zdGFuY2UsIHByZXZTdGF0ZSwgcHJvcHMpIHtcbiAgdmFyIHBhcnRpYWxTdGF0ZSA9IHVwZGF0ZS5wYXJ0aWFsU3RhdGU7XG4gIGlmICh0eXBlb2YgcGFydGlhbFN0YXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHBhcnRpYWxTdGF0ZS5jYWxsKGluc3RhbmNlLCBwcmV2U3RhdGUsIHByb3BzKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcGFydGlhbFN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NVcGRhdGVRdWV1ZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcXVldWUsIGluc3RhbmNlLCBwcm9wcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgaWYgKGN1cnJlbnQgIT09IG51bGwgJiYgY3VycmVudC51cGRhdGVRdWV1ZSA9PT0gcXVldWUpIHtcbiAgICAvLyBXZSBuZWVkIHRvIGNyZWF0ZSBhIHdvcmstaW4tcHJvZ3Jlc3MgcXVldWUsIGJ5IGNsb25pbmcgdGhlIGN1cnJlbnQgcXVldWUuXG4gICAgdmFyIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgIHF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPSB7XG4gICAgICBiYXNlU3RhdGU6IGN1cnJlbnRRdWV1ZS5iYXNlU3RhdGUsXG4gICAgICBleHBpcmF0aW9uVGltZTogY3VycmVudFF1ZXVlLmV4cGlyYXRpb25UaW1lLFxuICAgICAgZmlyc3Q6IGN1cnJlbnRRdWV1ZS5maXJzdCxcbiAgICAgIGxhc3Q6IGN1cnJlbnRRdWV1ZS5sYXN0LFxuICAgICAgaXNJbml0aWFsaXplZDogY3VycmVudFF1ZXVlLmlzSW5pdGlhbGl6ZWQsXG4gICAgICBjYXB0dXJlZFZhbHVlczogY3VycmVudFF1ZXVlLmNhcHR1cmVkVmFsdWVzLFxuICAgICAgLy8gVGhlc2UgZmllbGRzIGFyZSBubyBsb25nZXIgdmFsaWQgYmVjYXVzZSB0aGV5IHdlcmUgYWxyZWFkeSBjb21taXR0ZWQuXG4gICAgICAvLyBSZXNldCB0aGVtLlxuICAgICAgY2FsbGJhY2tMaXN0OiBudWxsLFxuICAgICAgaGFzRm9yY2VVcGRhdGU6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIHtcbiAgICAvLyBTZXQgdGhpcyBmbGFnIHNvIHdlIGNhbiB3YXJuIGlmIHNldFN0YXRlIGlzIGNhbGxlZCBpbnNpZGUgdGhlIHVwZGF0ZVxuICAgIC8vIGZ1bmN0aW9uIG9mIGFub3RoZXIgc2V0U3RhdGUuXG4gICAgcXVldWUuaXNQcm9jZXNzaW5nID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIFJlc2V0IHRoZSByZW1haW5pbmcgZXhwaXJhdGlvbiB0aW1lLiBJZiB3ZSBza2lwIG92ZXIgYW55IHVwZGF0ZXMsIHdlJ2xsXG4gIC8vIGluY3JlYXNlIHRoaXMgYWNjb3JkaW5nbHkuXG4gIHF1ZXVlLmV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuXG4gIC8vIFRPRE86IFdlIGRvbid0IGtub3cgd2hhdCB0aGUgYmFzZSBzdGF0ZSB3aWxsIGJlIHVudGlsIHdlIGJlZ2luIHdvcmsuXG4gIC8vIEl0IGRlcGVuZHMgb24gd2hpY2ggZmliZXIgaXMgdGhlIG5leHQgY3VycmVudC4gSW5pdGlhbGl6ZSB3aXRoIGFuIGVtcHR5XG4gIC8vIGJhc2Ugc3RhdGUsIHRoZW4gc2V0IHRvIHRoZSBtZW1vaXplZFN0YXRlIHdoZW4gcmVuZGVyaW5nLiBOb3Qgc3VwZXJcbiAgLy8gaGFwcHkgd2l0aCB0aGlzIGFwcHJvYWNoLlxuICB2YXIgc3RhdGUgPSB2b2lkIDA7XG4gIGlmIChxdWV1ZS5pc0luaXRpYWxpemVkKSB7XG4gICAgc3RhdGUgPSBxdWV1ZS5iYXNlU3RhdGU7XG4gIH0gZWxzZSB7XG4gICAgc3RhdGUgPSBxdWV1ZS5iYXNlU3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgIHF1ZXVlLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICB9XG4gIHZhciBkb250TXV0YXRlUHJldlN0YXRlID0gdHJ1ZTtcbiAgdmFyIHVwZGF0ZSA9IHF1ZXVlLmZpcnN0O1xuICB2YXIgZGlkU2tpcCA9IGZhbHNlO1xuICB3aGlsZSAodXBkYXRlICE9PSBudWxsKSB7XG4gICAgdmFyIHVwZGF0ZUV4cGlyYXRpb25UaW1lID0gdXBkYXRlLmV4cGlyYXRpb25UaW1lO1xuICAgIGlmICh1cGRhdGVFeHBpcmF0aW9uVGltZSA+IHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAvLyBUaGlzIHVwZGF0ZSBkb2VzIG5vdCBoYXZlIHN1ZmZpY2llbnQgcHJpb3JpdHkuIFNraXAgaXQuXG4gICAgICB2YXIgcmVtYWluaW5nRXhwaXJhdGlvblRpbWUgPSBxdWV1ZS5leHBpcmF0aW9uVGltZTtcbiAgICAgIGlmIChyZW1haW5pbmdFeHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8IHJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID4gdXBkYXRlRXhwaXJhdGlvblRpbWUpIHtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSByZW1haW5pbmcgZXhwaXJhdGlvbiB0aW1lLlxuICAgICAgICBxdWV1ZS5leHBpcmF0aW9uVGltZSA9IHVwZGF0ZUV4cGlyYXRpb25UaW1lO1xuICAgICAgfVxuICAgICAgaWYgKCFkaWRTa2lwKSB7XG4gICAgICAgIGRpZFNraXAgPSB0cnVlO1xuICAgICAgICBxdWV1ZS5iYXNlU3RhdGUgPSBzdGF0ZTtcbiAgICAgIH1cbiAgICAgIC8vIENvbnRpbnVlIHRvIHRoZSBuZXh0IHVwZGF0ZS5cbiAgICAgIHVwZGF0ZSA9IHVwZGF0ZS5uZXh0O1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gVGhpcyB1cGRhdGUgZG9lcyBoYXZlIHN1ZmZpY2llbnQgcHJpb3JpdHkuXG5cbiAgICAvLyBJZiBubyBwcmV2aW91cyB1cGRhdGVzIHdlcmUgc2tpcHBlZCwgZHJvcCB0aGlzIHVwZGF0ZSBmcm9tIHRoZSBxdWV1ZSBieVxuICAgIC8vIGFkdmFuY2luZyB0aGUgaGVhZCBvZiB0aGUgbGlzdC5cbiAgICBpZiAoIWRpZFNraXApIHtcbiAgICAgIHF1ZXVlLmZpcnN0ID0gdXBkYXRlLm5leHQ7XG4gICAgICBpZiAocXVldWUuZmlyc3QgPT09IG51bGwpIHtcbiAgICAgICAgcXVldWUubGFzdCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSW52b2tlIHNldFN0YXRlIGNhbGxiYWNrIGFuIGV4dHJhIHRpbWUgdG8gaGVscCBkZXRlY3Qgc2lkZS1lZmZlY3RzLlxuICAgIC8vIElnbm9yZSB0aGUgcmV0dXJuIHZhbHVlIGluIHRoaXMgY2FzZS5cbiAgICBpZiAoZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzIHx8IGRlYnVnUmVuZGVyUGhhc2VTaWRlRWZmZWN0c0ZvclN0cmljdE1vZGUgJiYgd29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdE1vZGUpIHtcbiAgICAgIGdldFN0YXRlRnJvbVVwZGF0ZSh1cGRhdGUsIGluc3RhbmNlLCBzdGF0ZSwgcHJvcHMpO1xuICAgIH1cblxuICAgIC8vIFByb2Nlc3MgdGhlIHVwZGF0ZVxuICAgIHZhciBfcGFydGlhbFN0YXRlID0gdm9pZCAwO1xuICAgIGlmICh1cGRhdGUuaXNSZXBsYWNlKSB7XG4gICAgICBzdGF0ZSA9IGdldFN0YXRlRnJvbVVwZGF0ZSh1cGRhdGUsIGluc3RhbmNlLCBzdGF0ZSwgcHJvcHMpO1xuICAgICAgZG9udE11dGF0ZVByZXZTdGF0ZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9wYXJ0aWFsU3RhdGUgPSBnZXRTdGF0ZUZyb21VcGRhdGUodXBkYXRlLCBpbnN0YW5jZSwgc3RhdGUsIHByb3BzKTtcbiAgICAgIGlmIChfcGFydGlhbFN0YXRlKSB7XG4gICAgICAgIGlmIChkb250TXV0YXRlUHJldlN0YXRlKSB7XG4gICAgICAgICAgLy8gJEZsb3dGaXhNZTogSWRrIGhvdyB0byB0eXBlIHRoaXMgcHJvcGVybHkuXG4gICAgICAgICAgc3RhdGUgPSBfYXNzaWduKHt9LCBzdGF0ZSwgX3BhcnRpYWxTdGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RhdGUgPSBfYXNzaWduKHN0YXRlLCBfcGFydGlhbFN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBkb250TXV0YXRlUHJldlN0YXRlID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh1cGRhdGUuaXNGb3JjZWQpIHtcbiAgICAgIHF1ZXVlLmhhc0ZvcmNlVXBkYXRlID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHVwZGF0ZS5jYWxsYmFjayAhPT0gbnVsbCkge1xuICAgICAgLy8gQXBwZW5kIHRvIGxpc3Qgb2YgY2FsbGJhY2tzLlxuICAgICAgdmFyIF9jYWxsYmFja0xpc3QgPSBxdWV1ZS5jYWxsYmFja0xpc3Q7XG4gICAgICBpZiAoX2NhbGxiYWNrTGlzdCA9PT0gbnVsbCkge1xuICAgICAgICBfY2FsbGJhY2tMaXN0ID0gcXVldWUuY2FsbGJhY2tMaXN0ID0gW107XG4gICAgICB9XG4gICAgICBfY2FsbGJhY2tMaXN0LnB1c2godXBkYXRlKTtcbiAgICB9XG4gICAgaWYgKHVwZGF0ZS5jYXB0dXJlZFZhbHVlICE9PSBudWxsKSB7XG4gICAgICB2YXIgX2NhcHR1cmVkVmFsdWVzID0gcXVldWUuY2FwdHVyZWRWYWx1ZXM7XG4gICAgICBpZiAoX2NhcHR1cmVkVmFsdWVzID09PSBudWxsKSB7XG4gICAgICAgIHF1ZXVlLmNhcHR1cmVkVmFsdWVzID0gW3VwZGF0ZS5jYXB0dXJlZFZhbHVlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9jYXB0dXJlZFZhbHVlcy5wdXNoKHVwZGF0ZS5jYXB0dXJlZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlID0gdXBkYXRlLm5leHQ7XG4gIH1cblxuICBpZiAocXVldWUuY2FsbGJhY2tMaXN0ICE9PSBudWxsKSB7XG4gICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IENhbGxiYWNrO1xuICB9IGVsc2UgaWYgKHF1ZXVlLmZpcnN0ID09PSBudWxsICYmICFxdWV1ZS5oYXNGb3JjZVVwZGF0ZSAmJiBxdWV1ZS5jYXB0dXJlZFZhbHVlcyA9PT0gbnVsbCkge1xuICAgIC8vIFRoZSBxdWV1ZSBpcyBlbXB0eS4gV2UgY2FuIHJlc2V0IGl0LlxuICAgIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gbnVsbDtcbiAgfVxuXG4gIGlmICghZGlkU2tpcCkge1xuICAgIGRpZFNraXAgPSB0cnVlO1xuICAgIHF1ZXVlLmJhc2VTdGF0ZSA9IHN0YXRlO1xuICB9XG5cbiAge1xuICAgIC8vIE5vIGxvbmdlciBwcm9jZXNzaW5nLlxuICAgIHF1ZXVlLmlzUHJvY2Vzc2luZyA9IGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5mdW5jdGlvbiBjb21taXRDYWxsYmFja3MocXVldWUsIGNvbnRleHQpIHtcbiAgdmFyIGNhbGxiYWNrTGlzdCA9IHF1ZXVlLmNhbGxiYWNrTGlzdDtcbiAgaWYgKGNhbGxiYWNrTGlzdCA9PT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBTZXQgdGhlIGxpc3QgdG8gbnVsbCB0byBtYWtlIHN1cmUgdGhleSBkb24ndCBnZXQgY2FsbGVkIG1vcmUgdGhhbiBvbmNlLlxuICBxdWV1ZS5jYWxsYmFja0xpc3QgPSBudWxsO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrTGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciB1cGRhdGUgPSBjYWxsYmFja0xpc3RbaV07XG4gICAgdmFyIF9jYWxsYmFjayA9IHVwZGF0ZS5jYWxsYmFjaztcbiAgICAvLyBUaGlzIHVwZGF0ZSBtaWdodCBiZSBwcm9jZXNzZWQgYWdhaW4uIENsZWFyIHRoZSBjYWxsYmFjayBzbyBpdCdzIG9ubHlcbiAgICAvLyBjYWxsZWQgb25jZS5cbiAgICB1cGRhdGUuY2FsbGJhY2sgPSBudWxsO1xuICAgICEodHlwZW9mIF9jYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgPyBpbnZhcmlhbnQoZmFsc2UsICdJbnZhbGlkIGFyZ3VtZW50IHBhc3NlZCBhcyBjYWxsYmFjay4gRXhwZWN0ZWQgYSBmdW5jdGlvbi4gSW5zdGVhZCByZWNlaXZlZDogJXMnLCBfY2FsbGJhY2spIDogdm9pZCAwO1xuICAgIF9jYWxsYmFjay5jYWxsKGNvbnRleHQpO1xuICB9XG59XG5cbnZhciBmYWtlSW50ZXJuYWxJbnN0YW5jZSA9IHt9O1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG52YXIgZGlkV2FybkFib3V0U3RhdGVBc3NpZ25tZW50Rm9yQ29tcG9uZW50ID0gdm9pZCAwO1xudmFyIGRpZFdhcm5BYm91dFVuZGVmaW5lZERlcml2ZWRTdGF0ZSA9IHZvaWQgMDtcbnZhciBkaWRXYXJuQWJvdXRVbmluaXRpYWxpemVkU3RhdGUgPSB2b2lkIDA7XG52YXIgZGlkV2FybkFib3V0R2V0U25hcHNob3RCZWZvcmVVcGRhdGVXaXRob3V0RGlkVXBkYXRlID0gdm9pZCAwO1xudmFyIGRpZFdhcm5BYm91dExlZ2FjeUxpZmVjeWNsZXNBbmREZXJpdmVkU3RhdGUgPSB2b2lkIDA7XG52YXIgd2Fybk9uSW52YWxpZENhbGxiYWNrJDEgPSB2b2lkIDA7XG5cbntcbiAgZGlkV2FybkFib3V0U3RhdGVBc3NpZ25tZW50Rm9yQ29tcG9uZW50ID0gbmV3IFNldCgpO1xuICBkaWRXYXJuQWJvdXRVbmRlZmluZWREZXJpdmVkU3RhdGUgPSBuZXcgU2V0KCk7XG4gIGRpZFdhcm5BYm91dFVuaW5pdGlhbGl6ZWRTdGF0ZSA9IG5ldyBTZXQoKTtcbiAgZGlkV2FybkFib3V0R2V0U25hcHNob3RCZWZvcmVVcGRhdGVXaXRob3V0RGlkVXBkYXRlID0gbmV3IFNldCgpO1xuICBkaWRXYXJuQWJvdXRMZWdhY3lMaWZlY3ljbGVzQW5kRGVyaXZlZFN0YXRlID0gbmV3IFNldCgpO1xuXG4gIHZhciBkaWRXYXJuT25JbnZhbGlkQ2FsbGJhY2sgPSBuZXcgU2V0KCk7XG5cbiAgd2Fybk9uSW52YWxpZENhbGxiYWNrJDEgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGNhbGxlck5hbWUpIHtcbiAgICBpZiAoY2FsbGJhY2sgPT09IG51bGwgfHwgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBrZXkgPSBjYWxsZXJOYW1lICsgJ18nICsgY2FsbGJhY2s7XG4gICAgaWYgKCFkaWRXYXJuT25JbnZhbGlkQ2FsbGJhY2suaGFzKGtleSkpIHtcbiAgICAgIGRpZFdhcm5PbkludmFsaWRDYWxsYmFjay5hZGQoa2V5KTtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICclcyguLi4pOiBFeHBlY3RlZCB0aGUgbGFzdCBvcHRpb25hbCBgY2FsbGJhY2tgIGFyZ3VtZW50IHRvIGJlIGEgJyArICdmdW5jdGlvbi4gSW5zdGVhZCByZWNlaXZlZDogJXMuJywgY2FsbGVyTmFtZSwgY2FsbGJhY2spO1xuICAgIH1cbiAgfTtcblxuICAvLyBUaGlzIGlzIHNvIGdyb3NzIGJ1dCBpdCdzIGF0IGxlYXN0IG5vbi1jcml0aWNhbCBhbmQgY2FuIGJlIHJlbW92ZWQgaWZcbiAgLy8gaXQgY2F1c2VzIHByb2JsZW1zLiBUaGlzIGlzIG1lYW50IHRvIGdpdmUgYSBuaWNlciBlcnJvciBtZXNzYWdlIGZvclxuICAvLyBSZWFjdERPTTE1LnVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyKHJlYWN0RE9NMTZDb21wb25lbnQsXG4gIC8vIC4uLikpIHdoaWNoIG90aGVyd2lzZSB0aHJvd3MgYSBcIl9wcm9jZXNzQ2hpbGRDb250ZXh0IGlzIG5vdCBhIGZ1bmN0aW9uXCJcbiAgLy8gZXhjZXB0aW9uLlxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZmFrZUludGVybmFsSW5zdGFuY2UsICdfcHJvY2Vzc0NoaWxkQ29udGV4dCcsIHtcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgaW52YXJpYW50KGZhbHNlLCAnX3Byb2Nlc3NDaGlsZENvbnRleHQgaXMgbm90IGF2YWlsYWJsZSBpbiBSZWFjdCAxNisuIFRoaXMgbGlrZWx5IG1lYW5zIHlvdSBoYXZlIG11bHRpcGxlIGNvcGllcyBvZiBSZWFjdCBhbmQgYXJlIGF0dGVtcHRpbmcgdG8gbmVzdCBhIFJlYWN0IDE1IHRyZWUgaW5zaWRlIGEgUmVhY3QgMTYgdHJlZSB1c2luZyB1bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lciwgd2hpY2ggaXNuXFwndCBzdXBwb3J0ZWQuIFRyeSB0byBtYWtlIHN1cmUgeW91IGhhdmUgb25seSBvbmUgY29weSBvZiBSZWFjdCAoYW5kIGlkZWFsbHksIHN3aXRjaCB0byBSZWFjdERPTS5jcmVhdGVQb3J0YWwpLicpO1xuICAgIH1cbiAgfSk7XG4gIE9iamVjdC5mcmVlemUoZmFrZUludGVybmFsSW5zdGFuY2UpO1xufVxuZnVuY3Rpb24gY2FsbEdldERlcml2ZWRTdGF0ZUZyb21DYXRjaChjdG9yLCBjYXB0dXJlZFZhbHVlcykge1xuICB2YXIgcmVzdWx0U3RhdGUgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYXB0dXJlZFZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBjYXB0dXJlZFZhbHVlID0gY2FwdHVyZWRWYWx1ZXNbaV07XG4gICAgdmFyIGVycm9yID0gY2FwdHVyZWRWYWx1ZS52YWx1ZTtcbiAgICB2YXIgcGFydGlhbFN0YXRlID0gY3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2guY2FsbChudWxsLCBlcnJvcik7XG4gICAgaWYgKHBhcnRpYWxTdGF0ZSAhPT0gbnVsbCAmJiBwYXJ0aWFsU3RhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgX2Fzc2lnbihyZXN1bHRTdGF0ZSwgcGFydGlhbFN0YXRlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdFN0YXRlO1xufVxuXG52YXIgUmVhY3RGaWJlckNsYXNzQ29tcG9uZW50ID0gZnVuY3Rpb24gKGxlZ2FjeUNvbnRleHQsIHNjaGVkdWxlV29yaywgY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlciwgbWVtb2l6ZVByb3BzLCBtZW1vaXplU3RhdGUpIHtcbiAgdmFyIGNhY2hlQ29udGV4dCA9IGxlZ2FjeUNvbnRleHQuY2FjaGVDb250ZXh0LFxuICAgICAgZ2V0TWFza2VkQ29udGV4dCA9IGxlZ2FjeUNvbnRleHQuZ2V0TWFza2VkQ29udGV4dCxcbiAgICAgIGdldFVubWFza2VkQ29udGV4dCA9IGxlZ2FjeUNvbnRleHQuZ2V0VW5tYXNrZWRDb250ZXh0LFxuICAgICAgaXNDb250ZXh0Q29uc3VtZXIgPSBsZWdhY3lDb250ZXh0LmlzQ29udGV4dENvbnN1bWVyLFxuICAgICAgaGFzQ29udGV4dENoYW5nZWQgPSBsZWdhY3lDb250ZXh0Lmhhc0NvbnRleHRDaGFuZ2VkO1xuXG4gIC8vIENsYXNzIGNvbXBvbmVudCBzdGF0ZSB1cGRhdGVyXG5cbiAgdmFyIHVwZGF0ZXIgPSB7XG4gICAgaXNNb3VudGVkOiBpc01vdW50ZWQsXG4gICAgZW5xdWV1ZVNldFN0YXRlOiBmdW5jdGlvbiAoaW5zdGFuY2UsIHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBmaWJlciA9IGdldChpbnN0YW5jZSk7XG4gICAgICBjYWxsYmFjayA9IGNhbGxiYWNrID09PSB1bmRlZmluZWQgPyBudWxsIDogY2FsbGJhY2s7XG4gICAgICB7XG4gICAgICAgIHdhcm5PbkludmFsaWRDYWxsYmFjayQxKGNhbGxiYWNrLCAnc2V0U3RhdGUnKTtcbiAgICAgIH1cbiAgICAgIHZhciBleHBpcmF0aW9uVGltZSA9IGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXIoZmliZXIpO1xuICAgICAgdmFyIHVwZGF0ZSA9IHtcbiAgICAgICAgZXhwaXJhdGlvblRpbWU6IGV4cGlyYXRpb25UaW1lLFxuICAgICAgICBwYXJ0aWFsU3RhdGU6IHBhcnRpYWxTdGF0ZSxcbiAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICBpc1JlcGxhY2U6IGZhbHNlLFxuICAgICAgICBpc0ZvcmNlZDogZmFsc2UsXG4gICAgICAgIGNhcHR1cmVkVmFsdWU6IG51bGwsXG4gICAgICAgIG5leHQ6IG51bGxcbiAgICAgIH07XG4gICAgICBpbnNlcnRVcGRhdGVJbnRvRmliZXIoZmliZXIsIHVwZGF0ZSk7XG4gICAgICBzY2hlZHVsZVdvcmsoZmliZXIsIGV4cGlyYXRpb25UaW1lKTtcbiAgICB9LFxuICAgIGVucXVldWVSZXBsYWNlU3RhdGU6IGZ1bmN0aW9uIChpbnN0YW5jZSwgc3RhdGUsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgZmliZXIgPSBnZXQoaW5zdGFuY2UpO1xuICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGNhbGxiYWNrO1xuICAgICAge1xuICAgICAgICB3YXJuT25JbnZhbGlkQ2FsbGJhY2skMShjYWxsYmFjaywgJ3JlcGxhY2VTdGF0ZScpO1xuICAgICAgfVxuICAgICAgdmFyIGV4cGlyYXRpb25UaW1lID0gY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlcihmaWJlcik7XG4gICAgICB2YXIgdXBkYXRlID0ge1xuICAgICAgICBleHBpcmF0aW9uVGltZTogZXhwaXJhdGlvblRpbWUsXG4gICAgICAgIHBhcnRpYWxTdGF0ZTogc3RhdGUsXG4gICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgICAgaXNSZXBsYWNlOiB0cnVlLFxuICAgICAgICBpc0ZvcmNlZDogZmFsc2UsXG4gICAgICAgIGNhcHR1cmVkVmFsdWU6IG51bGwsXG4gICAgICAgIG5leHQ6IG51bGxcbiAgICAgIH07XG4gICAgICBpbnNlcnRVcGRhdGVJbnRvRmliZXIoZmliZXIsIHVwZGF0ZSk7XG4gICAgICBzY2hlZHVsZVdvcmsoZmliZXIsIGV4cGlyYXRpb25UaW1lKTtcbiAgICB9LFxuICAgIGVucXVldWVGb3JjZVVwZGF0ZTogZnVuY3Rpb24gKGluc3RhbmNlLCBjYWxsYmFjaykge1xuICAgICAgdmFyIGZpYmVyID0gZ2V0KGluc3RhbmNlKTtcbiAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjYWxsYmFjaztcbiAgICAgIHtcbiAgICAgICAgd2Fybk9uSW52YWxpZENhbGxiYWNrJDEoY2FsbGJhY2ssICdmb3JjZVVwZGF0ZScpO1xuICAgICAgfVxuICAgICAgdmFyIGV4cGlyYXRpb25UaW1lID0gY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlcihmaWJlcik7XG4gICAgICB2YXIgdXBkYXRlID0ge1xuICAgICAgICBleHBpcmF0aW9uVGltZTogZXhwaXJhdGlvblRpbWUsXG4gICAgICAgIHBhcnRpYWxTdGF0ZTogbnVsbCxcbiAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICBpc1JlcGxhY2U6IGZhbHNlLFxuICAgICAgICBpc0ZvcmNlZDogdHJ1ZSxcbiAgICAgICAgY2FwdHVyZWRWYWx1ZTogbnVsbCxcbiAgICAgICAgbmV4dDogbnVsbFxuICAgICAgfTtcbiAgICAgIGluc2VydFVwZGF0ZUludG9GaWJlcihmaWJlciwgdXBkYXRlKTtcbiAgICAgIHNjaGVkdWxlV29yayhmaWJlciwgZXhwaXJhdGlvblRpbWUpO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBjaGVja1Nob3VsZENvbXBvbmVudFVwZGF0ZSh3b3JrSW5Qcm9ncmVzcywgb2xkUHJvcHMsIG5ld1Byb3BzLCBvbGRTdGF0ZSwgbmV3U3RhdGUsIG5ld0NvbnRleHQpIHtcbiAgICBpZiAob2xkUHJvcHMgPT09IG51bGwgfHwgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgIT09IG51bGwgJiYgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUuaGFzRm9yY2VVcGRhdGUpIHtcbiAgICAgIC8vIElmIHRoZSB3b3JrSW5Qcm9ncmVzcyBhbHJlYWR5IGhhcyBhbiBVcGRhdGUgZWZmZWN0LCByZXR1cm4gdHJ1ZVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgIHZhciBjdG9yID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgc3RhcnRQaGFzZVRpbWVyKHdvcmtJblByb2dyZXNzLCAnc2hvdWxkQ29tcG9uZW50VXBkYXRlJyk7XG4gICAgICB2YXIgc2hvdWxkVXBkYXRlID0gaW5zdGFuY2Uuc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5ld1Byb3BzLCBuZXdTdGF0ZSwgbmV3Q29udGV4dCk7XG4gICAgICBzdG9wUGhhc2VUaW1lcigpO1xuXG4gICAgICB7XG4gICAgICAgIHdhcm5pbmcoc2hvdWxkVXBkYXRlICE9PSB1bmRlZmluZWQsICclcy5zaG91bGRDb21wb25lbnRVcGRhdGUoKTogUmV0dXJuZWQgdW5kZWZpbmVkIGluc3RlYWQgb2YgYSAnICsgJ2Jvb2xlYW4gdmFsdWUuIE1ha2Ugc3VyZSB0byByZXR1cm4gdHJ1ZSBvciBmYWxzZS4nLCBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKSB8fCAnQ29tcG9uZW50Jyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzaG91bGRVcGRhdGU7XG4gICAgfVxuXG4gICAgaWYgKGN0b3IucHJvdG90eXBlICYmIGN0b3IucHJvdG90eXBlLmlzUHVyZVJlYWN0Q29tcG9uZW50KSB7XG4gICAgICByZXR1cm4gIXNoYWxsb3dFcXVhbChvbGRQcm9wcywgbmV3UHJvcHMpIHx8ICFzaGFsbG93RXF1YWwob2xkU3RhdGUsIG5ld1N0YXRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrQ2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcykge1xuICAgIHZhciBpbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICB2YXIgdHlwZSA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAge1xuICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKSB8fCAnQ29tcG9uZW50JztcbiAgICAgIHZhciByZW5kZXJQcmVzZW50ID0gaW5zdGFuY2UucmVuZGVyO1xuXG4gICAgICBpZiAoIXJlbmRlclByZXNlbnQpIHtcbiAgICAgICAgaWYgKHR5cGUucHJvdG90eXBlICYmIHR5cGVvZiB0eXBlLnByb3RvdHlwZS5yZW5kZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnJXMoLi4uKTogTm8gYHJlbmRlcmAgbWV0aG9kIGZvdW5kIG9uIHRoZSByZXR1cm5lZCBjb21wb25lbnQgJyArICdpbnN0YW5jZTogZGlkIHlvdSBhY2NpZGVudGFsbHkgcmV0dXJuIGFuIG9iamVjdCBmcm9tIHRoZSBjb25zdHJ1Y3Rvcj8nLCBuYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnJXMoLi4uKTogTm8gYHJlbmRlcmAgbWV0aG9kIGZvdW5kIG9uIHRoZSByZXR1cm5lZCBjb21wb25lbnQgJyArICdpbnN0YW5jZTogeW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBkZWZpbmUgYHJlbmRlcmAuJywgbmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIG5vR2V0SW5pdGlhbFN0YXRlT25FUzYgPSAhaW5zdGFuY2UuZ2V0SW5pdGlhbFN0YXRlIHx8IGluc3RhbmNlLmdldEluaXRpYWxTdGF0ZS5pc1JlYWN0Q2xhc3NBcHByb3ZlZCB8fCBpbnN0YW5jZS5zdGF0ZTtcbiAgICAgIHdhcm5pbmcobm9HZXRJbml0aWFsU3RhdGVPbkVTNiwgJ2dldEluaXRpYWxTdGF0ZSB3YXMgZGVmaW5lZCBvbiAlcywgYSBwbGFpbiBKYXZhU2NyaXB0IGNsYXNzLiAnICsgJ1RoaXMgaXMgb25seSBzdXBwb3J0ZWQgZm9yIGNsYXNzZXMgY3JlYXRlZCB1c2luZyBSZWFjdC5jcmVhdGVDbGFzcy4gJyArICdEaWQgeW91IG1lYW4gdG8gZGVmaW5lIGEgc3RhdGUgcHJvcGVydHkgaW5zdGVhZD8nLCBuYW1lKTtcbiAgICAgIHZhciBub0dldERlZmF1bHRQcm9wc09uRVM2ID0gIWluc3RhbmNlLmdldERlZmF1bHRQcm9wcyB8fCBpbnN0YW5jZS5nZXREZWZhdWx0UHJvcHMuaXNSZWFjdENsYXNzQXBwcm92ZWQ7XG4gICAgICB3YXJuaW5nKG5vR2V0RGVmYXVsdFByb3BzT25FUzYsICdnZXREZWZhdWx0UHJvcHMgd2FzIGRlZmluZWQgb24gJXMsIGEgcGxhaW4gSmF2YVNjcmlwdCBjbGFzcy4gJyArICdUaGlzIGlzIG9ubHkgc3VwcG9ydGVkIGZvciBjbGFzc2VzIGNyZWF0ZWQgdXNpbmcgUmVhY3QuY3JlYXRlQ2xhc3MuICcgKyAnVXNlIGEgc3RhdGljIHByb3BlcnR5IHRvIGRlZmluZSBkZWZhdWx0UHJvcHMgaW5zdGVhZC4nLCBuYW1lKTtcbiAgICAgIHZhciBub0luc3RhbmNlUHJvcFR5cGVzID0gIWluc3RhbmNlLnByb3BUeXBlcztcbiAgICAgIHdhcm5pbmcobm9JbnN0YW5jZVByb3BUeXBlcywgJ3Byb3BUeXBlcyB3YXMgZGVmaW5lZCBhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBvbiAlcy4gVXNlIGEgc3RhdGljICcgKyAncHJvcGVydHkgdG8gZGVmaW5lIHByb3BUeXBlcyBpbnN0ZWFkLicsIG5hbWUpO1xuICAgICAgdmFyIG5vSW5zdGFuY2VDb250ZXh0VHlwZXMgPSAhaW5zdGFuY2UuY29udGV4dFR5cGVzO1xuICAgICAgd2FybmluZyhub0luc3RhbmNlQ29udGV4dFR5cGVzLCAnY29udGV4dFR5cGVzIHdhcyBkZWZpbmVkIGFzIGFuIGluc3RhbmNlIHByb3BlcnR5IG9uICVzLiBVc2UgYSBzdGF0aWMgJyArICdwcm9wZXJ0eSB0byBkZWZpbmUgY29udGV4dFR5cGVzIGluc3RlYWQuJywgbmFtZSk7XG4gICAgICB2YXIgbm9Db21wb25lbnRTaG91bGRVcGRhdGUgPSB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50U2hvdWxkVXBkYXRlICE9PSAnZnVuY3Rpb24nO1xuICAgICAgd2FybmluZyhub0NvbXBvbmVudFNob3VsZFVwZGF0ZSwgJyVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgJyArICdjb21wb25lbnRTaG91bGRVcGRhdGUoKS4gRGlkIHlvdSBtZWFuIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpPyAnICsgJ1RoZSBuYW1lIGlzIHBocmFzZWQgYXMgYSBxdWVzdGlvbiBiZWNhdXNlIHRoZSBmdW5jdGlvbiBpcyAnICsgJ2V4cGVjdGVkIHRvIHJldHVybiBhIHZhbHVlLicsIG5hbWUpO1xuICAgICAgaWYgKHR5cGUucHJvdG90eXBlICYmIHR5cGUucHJvdG90eXBlLmlzUHVyZVJlYWN0Q29tcG9uZW50ICYmIHR5cGVvZiBpbnN0YW5jZS5zaG91bGRDb21wb25lbnRVcGRhdGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpLiAnICsgJ3Nob3VsZENvbXBvbmVudFVwZGF0ZSBzaG91bGQgbm90IGJlIHVzZWQgd2hlbiBleHRlbmRpbmcgUmVhY3QuUHVyZUNvbXBvbmVudC4gJyArICdQbGVhc2UgZXh0ZW5kIFJlYWN0LkNvbXBvbmVudCBpZiBzaG91bGRDb21wb25lbnRVcGRhdGUgaXMgdXNlZC4nLCBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKSB8fCAnQSBwdXJlIGNvbXBvbmVudCcpO1xuICAgICAgfVxuICAgICAgdmFyIG5vQ29tcG9uZW50RGlkVW5tb3VudCA9IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRVbm1vdW50ICE9PSAnZnVuY3Rpb24nO1xuICAgICAgd2FybmluZyhub0NvbXBvbmVudERpZFVubW91bnQsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgKyAnY29tcG9uZW50RGlkVW5tb3VudCgpLiBCdXQgdGhlcmUgaXMgbm8gc3VjaCBsaWZlY3ljbGUgbWV0aG9kLiAnICsgJ0RpZCB5b3UgbWVhbiBjb21wb25lbnRXaWxsVW5tb3VudCgpPycsIG5hbWUpO1xuICAgICAgdmFyIG5vQ29tcG9uZW50RGlkUmVjZWl2ZVByb3BzID0gdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZFJlY2VpdmVQcm9wcyAhPT0gJ2Z1bmN0aW9uJztcbiAgICAgIHdhcm5pbmcobm9Db21wb25lbnREaWRSZWNlaXZlUHJvcHMsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgKyAnY29tcG9uZW50RGlkUmVjZWl2ZVByb3BzKCkuIEJ1dCB0aGVyZSBpcyBubyBzdWNoIGxpZmVjeWNsZSBtZXRob2QuICcgKyAnSWYgeW91IG1lYW50IHRvIHVwZGF0ZSB0aGUgc3RhdGUgaW4gcmVzcG9uc2UgdG8gY2hhbmdpbmcgcHJvcHMsICcgKyAndXNlIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoKS4gSWYgeW91IG1lYW50IHRvIGZldGNoIGRhdGEgb3IgJyArICdydW4gc2lkZS1lZmZlY3RzIG9yIG11dGF0aW9ucyBhZnRlciBSZWFjdCBoYXMgdXBkYXRlZCB0aGUgVUksIHVzZSBjb21wb25lbnREaWRVcGRhdGUoKS4nLCBuYW1lKTtcbiAgICAgIHZhciBub0NvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMgPSB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyAhPT0gJ2Z1bmN0aW9uJztcbiAgICAgIHdhcm5pbmcobm9Db21wb25lbnRXaWxsUmVjaWV2ZVByb3BzLCAnJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCAnICsgJ2NvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMoKS4gRGlkIHlvdSBtZWFuIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoKT8nLCBuYW1lKTtcbiAgICAgIHZhciBub1Vuc2FmZUNvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMgPSB0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMgIT09ICdmdW5jdGlvbic7XG4gICAgICB3YXJuaW5nKG5vVW5zYWZlQ29tcG9uZW50V2lsbFJlY2lldmVQcm9wcywgJyVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgJyArICdVTlNBRkVfY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcygpLiBEaWQgeW91IG1lYW4gVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoKT8nLCBuYW1lKTtcbiAgICAgIHZhciBoYXNNdXRhdGVkUHJvcHMgPSBpbnN0YW5jZS5wcm9wcyAhPT0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgICAgd2FybmluZyhpbnN0YW5jZS5wcm9wcyA9PT0gdW5kZWZpbmVkIHx8ICFoYXNNdXRhdGVkUHJvcHMsICclcyguLi4pOiBXaGVuIGNhbGxpbmcgc3VwZXIoKSBpbiBgJXNgLCBtYWtlIHN1cmUgdG8gcGFzcyAnICsgXCJ1cCB0aGUgc2FtZSBwcm9wcyB0aGF0IHlvdXIgY29tcG9uZW50J3MgY29uc3RydWN0b3Igd2FzIHBhc3NlZC5cIiwgbmFtZSwgbmFtZSk7XG4gICAgICB2YXIgbm9JbnN0YW5jZURlZmF1bHRQcm9wcyA9ICFpbnN0YW5jZS5kZWZhdWx0UHJvcHM7XG4gICAgICB3YXJuaW5nKG5vSW5zdGFuY2VEZWZhdWx0UHJvcHMsICdTZXR0aW5nIGRlZmF1bHRQcm9wcyBhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBvbiAlcyBpcyBub3Qgc3VwcG9ydGVkIGFuZCB3aWxsIGJlIGlnbm9yZWQuJyArICcgSW5zdGVhZCwgZGVmaW5lIGRlZmF1bHRQcm9wcyBhcyBhIHN0YXRpYyBwcm9wZXJ0eSBvbiAlcy4nLCBuYW1lLCBuYW1lKTtcblxuICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlICE9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUgIT09ICdmdW5jdGlvbicgJiYgIWRpZFdhcm5BYm91dEdldFNuYXBzaG90QmVmb3JlVXBkYXRlV2l0aG91dERpZFVwZGF0ZS5oYXModHlwZSkpIHtcbiAgICAgICAgZGlkV2FybkFib3V0R2V0U25hcHNob3RCZWZvcmVVcGRhdGVXaXRob3V0RGlkVXBkYXRlLmFkZCh0eXBlKTtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJyVzOiBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpIHNob3VsZCBiZSB1c2VkIHdpdGggY29tcG9uZW50RGlkVXBkYXRlKCkuICcgKyAnVGhpcyBjb21wb25lbnQgZGVmaW5lcyBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpIG9ubHkuJywgZ2V0Q29tcG9uZW50TmFtZSh3b3JrSW5Qcm9ncmVzcykpO1xuICAgICAgfVxuXG4gICAgICB2YXIgbm9JbnN0YW5jZUdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IHR5cGVvZiBpbnN0YW5jZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgIT09ICdmdW5jdGlvbic7XG4gICAgICB3YXJuaW5nKG5vSW5zdGFuY2VHZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMsICclczogZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKCkgaXMgZGVmaW5lZCBhcyBhbiBpbnN0YW5jZSBtZXRob2QgJyArICdhbmQgd2lsbCBiZSBpZ25vcmVkLiBJbnN0ZWFkLCBkZWNsYXJlIGl0IGFzIGEgc3RhdGljIG1ldGhvZC4nLCBuYW1lKTtcbiAgICAgIHZhciBub0luc3RhbmNlR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoID0gdHlwZW9mIGluc3RhbmNlLmdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCAhPT0gJ2Z1bmN0aW9uJztcbiAgICAgIHdhcm5pbmcobm9JbnN0YW5jZUdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCwgJyVzOiBnZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2goKSBpcyBkZWZpbmVkIGFzIGFuIGluc3RhbmNlIG1ldGhvZCAnICsgJ2FuZCB3aWxsIGJlIGlnbm9yZWQuIEluc3RlYWQsIGRlY2xhcmUgaXQgYXMgYSBzdGF0aWMgbWV0aG9kLicsIG5hbWUpO1xuICAgICAgdmFyIG5vU3RhdGljR2V0U25hcHNob3RCZWZvcmVVcGRhdGUgPSB0eXBlb2YgdHlwZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSAhPT0gJ2Z1bmN0aW9uJztcbiAgICAgIHdhcm5pbmcobm9TdGF0aWNHZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSwgJyVzOiBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpIGlzIGRlZmluZWQgYXMgYSBzdGF0aWMgbWV0aG9kICcgKyAnYW5kIHdpbGwgYmUgaWdub3JlZC4gSW5zdGVhZCwgZGVjbGFyZSBpdCBhcyBhbiBpbnN0YW5jZSBtZXRob2QuJywgbmFtZSk7XG4gICAgICB2YXIgX3N0YXRlID0gaW5zdGFuY2Uuc3RhdGU7XG4gICAgICBpZiAoX3N0YXRlICYmICh0eXBlb2YgX3N0YXRlICE9PSAnb2JqZWN0JyB8fCBpc0FycmF5KF9zdGF0ZSkpKSB7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICclcy5zdGF0ZTogbXVzdCBiZSBzZXQgdG8gYW4gb2JqZWN0IG9yIG51bGwnLCBuYW1lKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuZ2V0Q2hpbGRDb250ZXh0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHdhcm5pbmcodHlwZW9mIHR5cGUuY2hpbGRDb250ZXh0VHlwZXMgPT09ICdvYmplY3QnLCAnJXMuZ2V0Q2hpbGRDb250ZXh0KCk6IGNoaWxkQ29udGV4dFR5cGVzIG11c3QgYmUgZGVmaW5lZCBpbiBvcmRlciB0byAnICsgJ3VzZSBnZXRDaGlsZENvbnRleHQoKS4nLCBuYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXNldElucHV0UG9pbnRlcnMod29ya0luUHJvZ3Jlc3MsIGluc3RhbmNlKSB7XG4gICAgaW5zdGFuY2UucHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzO1xuICAgIGluc3RhbmNlLnN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkb3B0Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UpIHtcbiAgICBpbnN0YW5jZS51cGRhdGVyID0gdXBkYXRlcjtcbiAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBpbnN0YW5jZTtcbiAgICAvLyBUaGUgaW5zdGFuY2UgbmVlZHMgYWNjZXNzIHRvIHRoZSBmaWJlciBzbyB0aGF0IGl0IGNhbiBzY2hlZHVsZSB1cGRhdGVzXG4gICAgc2V0KGluc3RhbmNlLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAge1xuICAgICAgaW5zdGFuY2UuX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSA9IGZha2VJbnRlcm5hbEluc3RhbmNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnN0cnVjdENsYXNzSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIHByb3BzKSB7XG4gICAgdmFyIGN0b3IgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgIHZhciB1bm1hc2tlZENvbnRleHQgPSBnZXRVbm1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgIHZhciBuZWVkc0NvbnRleHQgPSBpc0NvbnRleHRDb25zdW1lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgdmFyIGNvbnRleHQgPSBuZWVkc0NvbnRleHQgPyBnZXRNYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzLCB1bm1hc2tlZENvbnRleHQpIDogZW1wdHlPYmplY3Q7XG5cbiAgICAvLyBJbnN0YW50aWF0ZSB0d2ljZSB0byBoZWxwIGRldGVjdCBzaWRlLWVmZmVjdHMuXG4gICAgaWYgKGRlYnVnUmVuZGVyUGhhc2VTaWRlRWZmZWN0cyB8fCBkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHNGb3JTdHJpY3RNb2RlICYmIHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RNb2RlKSB7XG4gICAgICBuZXcgY3Rvcihwcm9wcywgY29udGV4dCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG4gICAgfVxuXG4gICAgdmFyIGluc3RhbmNlID0gbmV3IGN0b3IocHJvcHMsIGNvbnRleHQpO1xuICAgIHZhciBzdGF0ZSA9IGluc3RhbmNlLnN0YXRlICE9PSBudWxsICYmIGluc3RhbmNlLnN0YXRlICE9PSB1bmRlZmluZWQgPyBpbnN0YW5jZS5zdGF0ZSA6IG51bGw7XG4gICAgYWRvcHRDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSk7XG5cbiAgICB7XG4gICAgICBpZiAodHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nICYmIHN0YXRlID09PSBudWxsKSB7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh3b3JrSW5Qcm9ncmVzcykgfHwgJ0NvbXBvbmVudCc7XG4gICAgICAgIGlmICghZGlkV2FybkFib3V0VW5pbml0aWFsaXplZFN0YXRlLmhhcyhjb21wb25lbnROYW1lKSkge1xuICAgICAgICAgIGRpZFdhcm5BYm91dFVuaW5pdGlhbGl6ZWRTdGF0ZS5hZGQoY29tcG9uZW50TmFtZSk7XG4gICAgICAgICAgd2FybmluZyhmYWxzZSwgJyVzOiBEaWQgbm90IHByb3Blcmx5IGluaXRpYWxpemUgc3RhdGUgZHVyaW5nIGNvbnN0cnVjdGlvbi4gJyArICdFeHBlY3RlZCBzdGF0ZSB0byBiZSBhbiBvYmplY3QsIGJ1dCBpdCB3YXMgJXMuJywgY29tcG9uZW50TmFtZSwgaW5zdGFuY2Uuc3RhdGUgPT09IG51bGwgPyAnbnVsbCcgOiAndW5kZWZpbmVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSWYgbmV3IGNvbXBvbmVudCBBUElzIGFyZSBkZWZpbmVkLCBcInVuc2FmZVwiIGxpZmVjeWNsZXMgd29uJ3QgYmUgY2FsbGVkLlxuICAgICAgLy8gV2FybiBhYm91dCB0aGVzZSBsaWZlY3ljbGVzIGlmIHRoZXkgYXJlIHByZXNlbnQuXG4gICAgICAvLyBEb24ndCB3YXJuIGFib3V0IHJlYWN0LWxpZmVjeWNsZXMtY29tcGF0IHBvbHlmaWxsZWQgbWV0aG9kcyB0aG91Z2guXG4gICAgICBpZiAodHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBpbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YXIgZm91bmRXaWxsTW91bnROYW1lID0gbnVsbDtcbiAgICAgICAgdmFyIGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgPSBudWxsO1xuICAgICAgICB2YXIgZm91bmRXaWxsVXBkYXRlTmFtZSA9IG51bGw7XG4gICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50ID09PSAnZnVuY3Rpb24nICYmIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudC5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nICE9PSB0cnVlKSB7XG4gICAgICAgICAgZm91bmRXaWxsTW91bnROYW1lID0gJ2NvbXBvbmVudFdpbGxNb3VudCc7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBmb3VuZFdpbGxNb3VudE5hbWUgPSAnVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSAnZnVuY3Rpb24nICYmIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyAhPT0gdHJ1ZSkge1xuICAgICAgICAgIGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgPSAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyc7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZSA9ICdVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlID09PSAnZnVuY3Rpb24nICYmIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyAhPT0gdHJ1ZSkge1xuICAgICAgICAgIGZvdW5kV2lsbFVwZGF0ZU5hbWUgPSAnY29tcG9uZW50V2lsbFVwZGF0ZSc7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgZm91bmRXaWxsVXBkYXRlTmFtZSA9ICdVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvdW5kV2lsbE1vdW50TmFtZSAhPT0gbnVsbCB8fCBmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lICE9PSBudWxsIHx8IGZvdW5kV2lsbFVwZGF0ZU5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICB2YXIgX2NvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKSB8fCAnQ29tcG9uZW50JztcbiAgICAgICAgICB2YXIgbmV3QXBpTmFtZSA9IHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PT0gJ2Z1bmN0aW9uJyA/ICdnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoKScgOiAnZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKSc7XG4gICAgICAgICAgaWYgKCFkaWRXYXJuQWJvdXRMZWdhY3lMaWZlY3ljbGVzQW5kRGVyaXZlZFN0YXRlLmhhcyhfY29tcG9uZW50TmFtZSkpIHtcbiAgICAgICAgICAgIGRpZFdhcm5BYm91dExlZ2FjeUxpZmVjeWNsZXNBbmREZXJpdmVkU3RhdGUuYWRkKF9jb21wb25lbnROYW1lKTtcbiAgICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICdVbnNhZmUgbGVnYWN5IGxpZmVjeWNsZXMgd2lsbCBub3QgYmUgY2FsbGVkIGZvciBjb21wb25lbnRzIHVzaW5nIG5ldyBjb21wb25lbnQgQVBJcy5cXG5cXG4nICsgJyVzIHVzZXMgJXMgYnV0IGFsc28gY29udGFpbnMgdGhlIGZvbGxvd2luZyBsZWdhY3kgbGlmZWN5Y2xlczolcyVzJXNcXG5cXG4nICsgJ1RoZSBhYm92ZSBsaWZlY3ljbGVzIHNob3VsZCBiZSByZW1vdmVkLiBMZWFybiBtb3JlIGFib3V0IHRoaXMgd2FybmluZyBoZXJlOlxcbicgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1hc3luYy1jb21wb25lbnQtbGlmZWN5Y2xlLWhvb2tzJywgX2NvbXBvbmVudE5hbWUsIG5ld0FwaU5hbWUsIGZvdW5kV2lsbE1vdW50TmFtZSAhPT0gbnVsbCA/ICdcXG4gICcgKyBmb3VuZFdpbGxNb3VudE5hbWUgOiAnJywgZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZSAhPT0gbnVsbCA/ICdcXG4gICcgKyBmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lIDogJycsIGZvdW5kV2lsbFVwZGF0ZU5hbWUgIT09IG51bGwgPyAnXFxuICAnICsgZm91bmRXaWxsVXBkYXRlTmFtZSA6ICcnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gc3RhdGU7XG5cbiAgICB2YXIgcGFydGlhbFN0YXRlID0gY2FsbEdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UsIHByb3BzLCBzdGF0ZSk7XG5cbiAgICBpZiAocGFydGlhbFN0YXRlICE9PSBudWxsICYmIHBhcnRpYWxTdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBSZW5kZXItcGhhc2UgdXBkYXRlcyAobGlrZSB0aGlzKSBzaG91bGQgbm90IGJlIGFkZGVkIHRvIHRoZSB1cGRhdGUgcXVldWUsXG4gICAgICAvLyBTbyB0aGF0IG11bHRpcGxlIHJlbmRlciBwYXNzZXMgZG8gbm90IGVucXVldWUgbXVsdGlwbGUgdXBkYXRlcy5cbiAgICAgIC8vIEluc3RlYWQsIGp1c3Qgc3luY2hyb25vdXNseSBtZXJnZSB0aGUgcmV0dXJuZWQgc3RhdGUgaW50byB0aGUgaW5zdGFuY2UuXG4gICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gX2Fzc2lnbih7fSwgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSwgcGFydGlhbFN0YXRlKTtcbiAgICB9XG5cbiAgICAvLyBDYWNoZSB1bm1hc2tlZCBjb250ZXh0IHNvIHdlIGNhbiBhdm9pZCByZWNyZWF0aW5nIG1hc2tlZCBjb250ZXh0IHVubGVzcyBuZWNlc3NhcnkuXG4gICAgLy8gUmVhY3RGaWJlckNvbnRleHQgdXN1YWxseSB1cGRhdGVzIHRoaXMgY2FjaGUgYnV0IGNhbid0IGZvciBuZXdseS1jcmVhdGVkIGluc3RhbmNlcy5cbiAgICBpZiAobmVlZHNDb250ZXh0KSB7XG4gICAgICBjYWNoZUNvbnRleHQod29ya0luUHJvZ3Jlc3MsIHVubWFza2VkQ29udGV4dCwgY29udGV4dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FsbENvbXBvbmVudFdpbGxNb3VudCh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UpIHtcbiAgICBzdGFydFBoYXNlVGltZXIod29ya0luUHJvZ3Jlc3MsICdjb21wb25lbnRXaWxsTW91bnQnKTtcbiAgICB2YXIgb2xkU3RhdGUgPSBpbnN0YW5jZS5zdGF0ZTtcblxuICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50KCk7XG4gICAgfVxuXG4gICAgc3RvcFBoYXNlVGltZXIoKTtcblxuICAgIGlmIChvbGRTdGF0ZSAhPT0gaW5zdGFuY2Uuc3RhdGUpIHtcbiAgICAgIHtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJyVzLmNvbXBvbmVudFdpbGxNb3VudCgpOiBBc3NpZ25pbmcgZGlyZWN0bHkgdG8gdGhpcy5zdGF0ZSBpcyAnICsgXCJkZXByZWNhdGVkIChleGNlcHQgaW5zaWRlIGEgY29tcG9uZW50J3MgXCIgKyAnY29uc3RydWN0b3IpLiBVc2Ugc2V0U3RhdGUgaW5zdGVhZC4nLCBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKSB8fCAnQ29tcG9uZW50Jyk7XG4gICAgICB9XG4gICAgICB1cGRhdGVyLmVucXVldWVSZXBsYWNlU3RhdGUoaW5zdGFuY2UsIGluc3RhbmNlLnN0YXRlLCBudWxsKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjYWxsQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UsIG5ld1Byb3BzLCBuZXdDb250ZXh0KSB7XG4gICAgdmFyIG9sZFN0YXRlID0gaW5zdGFuY2Uuc3RhdGU7XG4gICAgc3RhcnRQaGFzZVRpbWVyKHdvcmtJblByb2dyZXNzLCAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycpO1xuICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXdQcm9wcywgbmV3Q29udGV4dCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5ld1Byb3BzLCBuZXdDb250ZXh0KTtcbiAgICB9XG4gICAgc3RvcFBoYXNlVGltZXIoKTtcblxuICAgIGlmIChpbnN0YW5jZS5zdGF0ZSAhPT0gb2xkU3RhdGUpIHtcbiAgICAgIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKSB8fCAnQ29tcG9uZW50JztcbiAgICAgICAgaWYgKCFkaWRXYXJuQWJvdXRTdGF0ZUFzc2lnbm1lbnRGb3JDb21wb25lbnQuaGFzKGNvbXBvbmVudE5hbWUpKSB7XG4gICAgICAgICAgZGlkV2FybkFib3V0U3RhdGVBc3NpZ25tZW50Rm9yQ29tcG9uZW50LmFkZChjb21wb25lbnROYW1lKTtcbiAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnJXMuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpOiBBc3NpZ25pbmcgZGlyZWN0bHkgdG8gJyArIFwidGhpcy5zdGF0ZSBpcyBkZXByZWNhdGVkIChleGNlcHQgaW5zaWRlIGEgY29tcG9uZW50J3MgXCIgKyAnY29uc3RydWN0b3IpLiBVc2Ugc2V0U3RhdGUgaW5zdGVhZC4nLCBjb21wb25lbnROYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdXBkYXRlci5lbnF1ZXVlUmVwbGFjZVN0YXRlKGluc3RhbmNlLCBpbnN0YW5jZS5zdGF0ZSwgbnVsbCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2FsbEdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UsIG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgdmFyIHR5cGUgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuXG5cbiAgICBpZiAodHlwZW9mIHR5cGUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAoZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzIHx8IGRlYnVnUmVuZGVyUGhhc2VTaWRlRWZmZWN0c0ZvclN0cmljdE1vZGUgJiYgd29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdE1vZGUpIHtcbiAgICAgICAgLy8gSW52b2tlIG1ldGhvZCBhbiBleHRyYSB0aW1lIHRvIGhlbHAgZGV0ZWN0IHNpZGUtZWZmZWN0cy5cbiAgICAgICAgdHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuY2FsbChudWxsLCBuZXh0UHJvcHMsIHByZXZTdGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwYXJ0aWFsU3RhdGUgPSB0eXBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcy5jYWxsKG51bGwsIG5leHRQcm9wcywgcHJldlN0YXRlKTtcblxuICAgICAge1xuICAgICAgICBpZiAocGFydGlhbFN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpIHx8ICdDb21wb25lbnQnO1xuICAgICAgICAgIGlmICghZGlkV2FybkFib3V0VW5kZWZpbmVkRGVyaXZlZFN0YXRlLmhhcyhjb21wb25lbnROYW1lKSkge1xuICAgICAgICAgICAgZGlkV2FybkFib3V0VW5kZWZpbmVkRGVyaXZlZFN0YXRlLmFkZChjb21wb25lbnROYW1lKTtcbiAgICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICclcy5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoKTogQSB2YWxpZCBzdGF0ZSBvYmplY3QgKG9yIG51bGwpIG11c3QgYmUgcmV0dXJuZWQuICcgKyAnWW91IGhhdmUgcmV0dXJuZWQgdW5kZWZpbmVkLicsIGNvbXBvbmVudE5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFydGlhbFN0YXRlO1xuICAgIH1cbiAgfVxuXG4gIC8vIEludm9rZXMgdGhlIG1vdW50IGxpZmUtY3ljbGVzIG9uIGEgcHJldmlvdXNseSBuZXZlciByZW5kZXJlZCBpbnN0YW5jZS5cbiAgZnVuY3Rpb24gbW91bnRDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgIHZhciBjdG9yID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICB2YXIgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZTtcblxuICAgIHtcbiAgICAgIGNoZWNrQ2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgIHZhciBwcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICB2YXIgdW5tYXNrZWRDb250ZXh0ID0gZ2V0VW5tYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcblxuICAgIGluc3RhbmNlLnByb3BzID0gcHJvcHM7XG4gICAgaW5zdGFuY2Uuc3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgIGluc3RhbmNlLnJlZnMgPSBlbXB0eU9iamVjdDtcbiAgICBpbnN0YW5jZS5jb250ZXh0ID0gZ2V0TWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgdW5tYXNrZWRDb250ZXh0KTtcblxuICAgIHtcbiAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TW9kZSkge1xuICAgICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5yZWNvcmRVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAod2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMpIHtcbiAgICAgICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MucmVjb3JkRGVwcmVjYXRpb25XYXJuaW5ncyh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEluIG9yZGVyIHRvIHN1cHBvcnQgcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQgcG9seWZpbGxlZCBjb21wb25lbnRzLFxuICAgIC8vIFVuc2FmZSBsaWZlY3ljbGVzIHNob3VsZCBub3QgYmUgaW52b2tlZCBmb3IgY29tcG9uZW50cyB1c2luZyB0aGUgbmV3IEFQSXMuXG4gICAgaWYgKHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgIT09ICdmdW5jdGlvbicgJiYgKHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICBjYWxsQ29tcG9uZW50V2lsbE1vdW50KHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSk7XG4gICAgICAvLyBJZiB3ZSBoYWQgYWRkaXRpb25hbCBzdGF0ZSB1cGRhdGVzIGR1cmluZyB0aGlzIGxpZmUtY3ljbGUsIGxldCdzXG4gICAgICAvLyBwcm9jZXNzIHRoZW0gbm93LlxuICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgICBpZiAodXBkYXRlUXVldWUgIT09IG51bGwpIHtcbiAgICAgICAgaW5zdGFuY2Uuc3RhdGUgPSBwcm9jZXNzVXBkYXRlUXVldWUoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHVwZGF0ZVF1ZXVlLCBpbnN0YW5jZSwgcHJvcHMsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRNb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXN1bWVNb3VudENsYXNzSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgdmFyIGN0b3IgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgIHZhciBpbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICByZXNldElucHV0UG9pbnRlcnMod29ya0luUHJvZ3Jlc3MsIGluc3RhbmNlKTtcblxuICAgIHZhciBvbGRQcm9wcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHM7XG4gICAgdmFyIG5ld1Byb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgIHZhciBvbGRDb250ZXh0ID0gaW5zdGFuY2UuY29udGV4dDtcbiAgICB2YXIgbmV3VW5tYXNrZWRDb250ZXh0ID0gZ2V0VW5tYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICB2YXIgbmV3Q29udGV4dCA9IGdldE1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MsIG5ld1VubWFza2VkQ29udGV4dCk7XG5cbiAgICB2YXIgaGFzTmV3TGlmZWN5Y2xlcyA9IHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgPT09ICdmdW5jdGlvbic7XG5cbiAgICAvLyBOb3RlOiBEdXJpbmcgdGhlc2UgbGlmZS1jeWNsZXMsIGluc3RhbmNlLnByb3BzL2luc3RhbmNlLnN0YXRlIGFyZSB3aGF0XG4gICAgLy8gZXZlciB0aGUgcHJldmlvdXNseSBhdHRlbXB0ZWQgdG8gcmVuZGVyIC0gbm90IHRoZSBcImN1cnJlbnRcIi4gSG93ZXZlcixcbiAgICAvLyBkdXJpbmcgY29tcG9uZW50RGlkVXBkYXRlIHdlIHBhc3MgdGhlIFwiY3VycmVudFwiIHByb3BzLlxuXG4gICAgLy8gSW4gb3JkZXIgdG8gc3VwcG9ydCByZWFjdC1saWZlY3ljbGVzLWNvbXBhdCBwb2x5ZmlsbGVkIGNvbXBvbmVudHMsXG4gICAgLy8gVW5zYWZlIGxpZmVjeWNsZXMgc2hvdWxkIG5vdCBiZSBpbnZva2VkIGZvciBjb21wb25lbnRzIHVzaW5nIHRoZSBuZXcgQVBJcy5cbiAgICBpZiAoIWhhc05ld0xpZmVjeWNsZXMgJiYgKHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgIGlmIChvbGRQcm9wcyAhPT0gbmV3UHJvcHMgfHwgb2xkQ29udGV4dCAhPT0gbmV3Q29udGV4dCkge1xuICAgICAgICBjYWxsQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UsIG5ld1Byb3BzLCBuZXdDb250ZXh0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDb21wdXRlIHRoZSBuZXh0IHN0YXRlIHVzaW5nIHRoZSBtZW1vaXplZCBzdGF0ZSBhbmQgdGhlIHVwZGF0ZSBxdWV1ZS5cbiAgICB2YXIgb2xkU3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgIC8vIFRPRE86IFByZXZpb3VzIHN0YXRlIGNhbiBiZSBudWxsLlxuICAgIHZhciBuZXdTdGF0ZSA9IHZvaWQgMDtcbiAgICB2YXIgZGVyaXZlZFN0YXRlRnJvbUNhdGNoID0gdm9pZCAwO1xuICAgIGlmICh3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSAhPT0gbnVsbCkge1xuICAgICAgbmV3U3RhdGUgPSBwcm9jZXNzVXBkYXRlUXVldWUobnVsbCwgd29ya0luUHJvZ3Jlc3MsIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlLCBpbnN0YW5jZSwgbmV3UHJvcHMsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcblxuICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgICBpZiAodXBkYXRlUXVldWUgIT09IG51bGwgJiYgdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgIT09IG51bGwgJiYgZW5hYmxlR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoICYmIHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YXIgY2FwdHVyZWRWYWx1ZXMgPSB1cGRhdGVRdWV1ZS5jYXB0dXJlZFZhbHVlcztcbiAgICAgICAgLy8gRG9uJ3QgcmVtb3ZlIHRoZXNlIGZyb20gdGhlIHVwZGF0ZSBxdWV1ZSB5ZXQuIFdlIG5lZWQgdGhlbSBpblxuICAgICAgICAvLyBmaW5pc2hDbGFzc0NvbXBvbmVudC4gRG8gdGhlIHJlc2V0IHRoZXJlLlxuICAgICAgICAvLyBUT0RPOiBUaGlzIGlzIGF3a3dhcmQuIFJlZmFjdG9yIGNsYXNzIGNvbXBvbmVudHMuXG4gICAgICAgIC8vIHVwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzID0gbnVsbDtcbiAgICAgICAgZGVyaXZlZFN0YXRlRnJvbUNhdGNoID0gY2FsbEdldERlcml2ZWRTdGF0ZUZyb21DYXRjaChjdG9yLCBjYXB0dXJlZFZhbHVlcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1N0YXRlID0gb2xkU3RhdGU7XG4gICAgfVxuXG4gICAgdmFyIGRlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IHZvaWQgMDtcbiAgICBpZiAob2xkUHJvcHMgIT09IG5ld1Byb3BzKSB7XG4gICAgICAvLyBUaGUgcHJldlN0YXRlIHBhcmFtZXRlciBzaG91bGQgYmUgdGhlIHBhcnRpYWxseSB1cGRhdGVkIHN0YXRlLlxuICAgICAgLy8gT3RoZXJ3aXNlLCBzcHJlYWRpbmcgc3RhdGUgaW4gcmV0dXJuIHZhbHVlcyBjb3VsZCBvdmVycmlkZSB1cGRhdGVzLlxuICAgICAgZGVyaXZlZFN0YXRlRnJvbVByb3BzID0gY2FsbEdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UsIG5ld1Byb3BzLCBuZXdTdGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKGRlcml2ZWRTdGF0ZUZyb21Qcm9wcyAhPT0gbnVsbCAmJiBkZXJpdmVkU3RhdGVGcm9tUHJvcHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gUmVuZGVyLXBoYXNlIHVwZGF0ZXMgKGxpa2UgdGhpcykgc2hvdWxkIG5vdCBiZSBhZGRlZCB0byB0aGUgdXBkYXRlIHF1ZXVlLFxuICAgICAgLy8gU28gdGhhdCBtdWx0aXBsZSByZW5kZXIgcGFzc2VzIGRvIG5vdCBlbnF1ZXVlIG11bHRpcGxlIHVwZGF0ZXMuXG4gICAgICAvLyBJbnN0ZWFkLCBqdXN0IHN5bmNocm9ub3VzbHkgbWVyZ2UgdGhlIHJldHVybmVkIHN0YXRlIGludG8gdGhlIGluc3RhbmNlLlxuICAgICAgbmV3U3RhdGUgPSBuZXdTdGF0ZSA9PT0gbnVsbCB8fCBuZXdTdGF0ZSA9PT0gdW5kZWZpbmVkID8gZGVyaXZlZFN0YXRlRnJvbVByb3BzIDogX2Fzc2lnbih7fSwgbmV3U3RhdGUsIGRlcml2ZWRTdGF0ZUZyb21Qcm9wcyk7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgYmFzZSBzdGF0ZSBvZiB0aGUgdXBkYXRlIHF1ZXVlLlxuICAgICAgLy8gRklYTUU6IFRoaXMgaXMgZ2V0dGluZyByaWRpY3Vsb3VzLiBSZWZhY3RvciBwbHohXG4gICAgICB2YXIgX3VwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgICBpZiAoX3VwZGF0ZVF1ZXVlICE9PSBudWxsKSB7XG4gICAgICAgIF91cGRhdGVRdWV1ZS5iYXNlU3RhdGUgPSBfYXNzaWduKHt9LCBfdXBkYXRlUXVldWUuYmFzZVN0YXRlLCBkZXJpdmVkU3RhdGVGcm9tUHJvcHMpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZGVyaXZlZFN0YXRlRnJvbUNhdGNoICE9PSBudWxsICYmIGRlcml2ZWRTdGF0ZUZyb21DYXRjaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBSZW5kZXItcGhhc2UgdXBkYXRlcyAobGlrZSB0aGlzKSBzaG91bGQgbm90IGJlIGFkZGVkIHRvIHRoZSB1cGRhdGUgcXVldWUsXG4gICAgICAvLyBTbyB0aGF0IG11bHRpcGxlIHJlbmRlciBwYXNzZXMgZG8gbm90IGVucXVldWUgbXVsdGlwbGUgdXBkYXRlcy5cbiAgICAgIC8vIEluc3RlYWQsIGp1c3Qgc3luY2hyb25vdXNseSBtZXJnZSB0aGUgcmV0dXJuZWQgc3RhdGUgaW50byB0aGUgaW5zdGFuY2UuXG4gICAgICBuZXdTdGF0ZSA9IG5ld1N0YXRlID09PSBudWxsIHx8IG5ld1N0YXRlID09PSB1bmRlZmluZWQgPyBkZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggOiBfYXNzaWduKHt9LCBuZXdTdGF0ZSwgZGVyaXZlZFN0YXRlRnJvbUNhdGNoKTtcblxuICAgICAgLy8gVXBkYXRlIHRoZSBiYXNlIHN0YXRlIG9mIHRoZSB1cGRhdGUgcXVldWUuXG4gICAgICAvLyBGSVhNRTogVGhpcyBpcyBnZXR0aW5nIHJpZGljdWxvdXMuIFJlZmFjdG9yIHBseiFcbiAgICAgIHZhciBfdXBkYXRlUXVldWUyID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgICBpZiAoX3VwZGF0ZVF1ZXVlMiAhPT0gbnVsbCkge1xuICAgICAgICBfdXBkYXRlUXVldWUyLmJhc2VTdGF0ZSA9IF9hc3NpZ24oe30sIF91cGRhdGVRdWV1ZTIuYmFzZVN0YXRlLCBkZXJpdmVkU3RhdGVGcm9tQ2F0Y2gpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvbGRQcm9wcyA9PT0gbmV3UHJvcHMgJiYgb2xkU3RhdGUgPT09IG5ld1N0YXRlICYmICFoYXNDb250ZXh0Q2hhbmdlZCgpICYmICEod29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgIT09IG51bGwgJiYgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUuaGFzRm9yY2VVcGRhdGUpKSB7XG4gICAgICAvLyBJZiBhbiB1cGRhdGUgd2FzIGFscmVhZHkgaW4gcHJvZ3Jlc3MsIHdlIHNob3VsZCBzY2hlZHVsZSBhbiBVcGRhdGVcbiAgICAgIC8vIGVmZmVjdCBldmVuIHRob3VnaCB3ZSdyZSBiYWlsaW5nIG91dCwgc28gdGhhdCBjV1UvY0RVIGFyZSBjYWxsZWQuXG4gICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBVcGRhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHNob3VsZFVwZGF0ZSA9IGNoZWNrU2hvdWxkQ29tcG9uZW50VXBkYXRlKHdvcmtJblByb2dyZXNzLCBvbGRQcm9wcywgbmV3UHJvcHMsIG9sZFN0YXRlLCBuZXdTdGF0ZSwgbmV3Q29udGV4dCk7XG5cbiAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICAvLyBJbiBvcmRlciB0byBzdXBwb3J0IHJlYWN0LWxpZmVjeWNsZXMtY29tcGF0IHBvbHlmaWxsZWQgY29tcG9uZW50cyxcbiAgICAgIC8vIFVuc2FmZSBsaWZlY3ljbGVzIHNob3VsZCBub3QgYmUgaW52b2tlZCBmb3IgY29tcG9uZW50cyB1c2luZyB0aGUgbmV3IEFQSXMuXG4gICAgICBpZiAoIWhhc05ld0xpZmVjeWNsZXMgJiYgKHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgIHN0YXJ0UGhhc2VUaW1lcih3b3JrSW5Qcm9ncmVzcywgJ2NvbXBvbmVudFdpbGxNb3VudCcpO1xuICAgICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKTtcbiAgICAgICAgfVxuICAgICAgICBzdG9wUGhhc2VUaW1lcigpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRNb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gVXBkYXRlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiBhbiB1cGRhdGUgd2FzIGFscmVhZHkgaW4gcHJvZ3Jlc3MsIHdlIHNob3VsZCBzY2hlZHVsZSBhbiBVcGRhdGVcbiAgICAgIC8vIGVmZmVjdCBldmVuIHRob3VnaCB3ZSdyZSBiYWlsaW5nIG91dCwgc28gdGhhdCBjV1UvY0RVIGFyZSBjYWxsZWQuXG4gICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBVcGRhdGU7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHNob3VsZENvbXBvbmVudFVwZGF0ZSByZXR1cm5lZCBmYWxzZSwgd2Ugc2hvdWxkIHN0aWxsIHVwZGF0ZSB0aGVcbiAgICAgIC8vIG1lbW9pemVkIHByb3BzL3N0YXRlIHRvIGluZGljYXRlIHRoYXQgdGhpcyB3b3JrIGNhbiBiZSByZXVzZWQuXG4gICAgICBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIG5ld1Byb3BzKTtcbiAgICAgIG1lbW9pemVTdGF0ZSh3b3JrSW5Qcm9ncmVzcywgbmV3U3RhdGUpO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgZXhpc3RpbmcgaW5zdGFuY2UncyBzdGF0ZSwgcHJvcHMsIGFuZCBjb250ZXh0IHBvaW50ZXJzIGV2ZW5cbiAgICAvLyBpZiBzaG91bGRDb21wb25lbnRVcGRhdGUgcmV0dXJucyBmYWxzZS5cbiAgICBpbnN0YW5jZS5wcm9wcyA9IG5ld1Byb3BzO1xuICAgIGluc3RhbmNlLnN0YXRlID0gbmV3U3RhdGU7XG4gICAgaW5zdGFuY2UuY29udGV4dCA9IG5ld0NvbnRleHQ7XG5cbiAgICByZXR1cm4gc2hvdWxkVXBkYXRlO1xuICB9XG5cbiAgLy8gSW52b2tlcyB0aGUgdXBkYXRlIGxpZmUtY3ljbGVzIGFuZCByZXR1cm5zIGZhbHNlIGlmIGl0IHNob3VsZG4ndCByZXJlbmRlci5cbiAgZnVuY3Rpb24gdXBkYXRlQ2xhc3NJbnN0YW5jZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICB2YXIgY3RvciA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgIHJlc2V0SW5wdXRQb2ludGVycyh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UpO1xuXG4gICAgdmFyIG9sZFByb3BzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcztcbiAgICB2YXIgbmV3UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgdmFyIG9sZENvbnRleHQgPSBpbnN0YW5jZS5jb250ZXh0O1xuICAgIHZhciBuZXdVbm1hc2tlZENvbnRleHQgPSBnZXRVbm1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgIHZhciBuZXdDb250ZXh0ID0gZ2V0TWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgbmV3VW5tYXNrZWRDb250ZXh0KTtcblxuICAgIHZhciBoYXNOZXdMaWZlY3ljbGVzID0gdHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBpbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJztcblxuICAgIC8vIE5vdGU6IER1cmluZyB0aGVzZSBsaWZlLWN5Y2xlcywgaW5zdGFuY2UucHJvcHMvaW5zdGFuY2Uuc3RhdGUgYXJlIHdoYXRcbiAgICAvLyBldmVyIHRoZSBwcmV2aW91c2x5IGF0dGVtcHRlZCB0byByZW5kZXIgLSBub3QgdGhlIFwiY3VycmVudFwiLiBIb3dldmVyLFxuICAgIC8vIGR1cmluZyBjb21wb25lbnREaWRVcGRhdGUgd2UgcGFzcyB0aGUgXCJjdXJyZW50XCIgcHJvcHMuXG5cbiAgICAvLyBJbiBvcmRlciB0byBzdXBwb3J0IHJlYWN0LWxpZmVjeWNsZXMtY29tcGF0IHBvbHlmaWxsZWQgY29tcG9uZW50cyxcbiAgICAvLyBVbnNhZmUgbGlmZWN5Y2xlcyBzaG91bGQgbm90IGJlIGludm9rZWQgZm9yIGNvbXBvbmVudHMgdXNpbmcgdGhlIG5ldyBBUElzLlxuICAgIGlmICghaGFzTmV3TGlmZWN5Y2xlcyAmJiAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgaWYgKG9sZFByb3BzICE9PSBuZXdQcm9wcyB8fCBvbGRDb250ZXh0ICE9PSBuZXdDb250ZXh0KSB7XG4gICAgICAgIGNhbGxDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSwgbmV3UHJvcHMsIG5ld0NvbnRleHQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENvbXB1dGUgdGhlIG5leHQgc3RhdGUgdXNpbmcgdGhlIG1lbW9pemVkIHN0YXRlIGFuZCB0aGUgdXBkYXRlIHF1ZXVlLlxuICAgIHZhciBvbGRTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgLy8gVE9ETzogUHJldmlvdXMgc3RhdGUgY2FuIGJlIG51bGwuXG4gICAgdmFyIG5ld1N0YXRlID0gdm9pZCAwO1xuICAgIHZhciBkZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggPSB2b2lkIDA7XG5cbiAgICBpZiAod29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgIT09IG51bGwpIHtcbiAgICAgIG5ld1N0YXRlID0gcHJvY2Vzc1VwZGF0ZVF1ZXVlKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSwgaW5zdGFuY2UsIG5ld1Byb3BzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG5cbiAgICAgIHZhciB1cGRhdGVRdWV1ZSA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlO1xuICAgICAgaWYgKHVwZGF0ZVF1ZXVlICE9PSBudWxsICYmIHVwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzICE9PSBudWxsICYmIGVuYWJsZUdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCAmJiB0eXBlb2YgY3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIGNhcHR1cmVkVmFsdWVzID0gdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXM7XG4gICAgICAgIC8vIERvbid0IHJlbW92ZSB0aGVzZSBmcm9tIHRoZSB1cGRhdGUgcXVldWUgeWV0LiBXZSBuZWVkIHRoZW0gaW5cbiAgICAgICAgLy8gZmluaXNoQ2xhc3NDb21wb25lbnQuIERvIHRoZSByZXNldCB0aGVyZS5cbiAgICAgICAgLy8gVE9ETzogVGhpcyBpcyBhd2t3YXJkLiBSZWZhY3RvciBjbGFzcyBjb21wb25lbnRzLlxuICAgICAgICAvLyB1cGRhdGVRdWV1ZS5jYXB0dXJlZFZhbHVlcyA9IG51bGw7XG4gICAgICAgIGRlcml2ZWRTdGF0ZUZyb21DYXRjaCA9IGNhbGxHZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2goY3RvciwgY2FwdHVyZWRWYWx1ZXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXdTdGF0ZSA9IG9sZFN0YXRlO1xuICAgIH1cblxuICAgIHZhciBkZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSB2b2lkIDA7XG4gICAgaWYgKG9sZFByb3BzICE9PSBuZXdQcm9wcykge1xuICAgICAgLy8gVGhlIHByZXZTdGF0ZSBwYXJhbWV0ZXIgc2hvdWxkIGJlIHRoZSBwYXJ0aWFsbHkgdXBkYXRlZCBzdGF0ZS5cbiAgICAgIC8vIE90aGVyd2lzZSwgc3ByZWFkaW5nIHN0YXRlIGluIHJldHVybiB2YWx1ZXMgY291bGQgb3ZlcnJpZGUgdXBkYXRlcy5cbiAgICAgIGRlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGNhbGxHZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMod29ya0luUHJvZ3Jlc3MsIGluc3RhbmNlLCBuZXdQcm9wcywgbmV3U3RhdGUpO1xuICAgIH1cblxuICAgIGlmIChkZXJpdmVkU3RhdGVGcm9tUHJvcHMgIT09IG51bGwgJiYgZGVyaXZlZFN0YXRlRnJvbVByb3BzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFJlbmRlci1waGFzZSB1cGRhdGVzIChsaWtlIHRoaXMpIHNob3VsZCBub3QgYmUgYWRkZWQgdG8gdGhlIHVwZGF0ZSBxdWV1ZSxcbiAgICAgIC8vIFNvIHRoYXQgbXVsdGlwbGUgcmVuZGVyIHBhc3NlcyBkbyBub3QgZW5xdWV1ZSBtdWx0aXBsZSB1cGRhdGVzLlxuICAgICAgLy8gSW5zdGVhZCwganVzdCBzeW5jaHJvbm91c2x5IG1lcmdlIHRoZSByZXR1cm5lZCBzdGF0ZSBpbnRvIHRoZSBpbnN0YW5jZS5cbiAgICAgIG5ld1N0YXRlID0gbmV3U3RhdGUgPT09IG51bGwgfHwgbmV3U3RhdGUgPT09IHVuZGVmaW5lZCA/IGRlcml2ZWRTdGF0ZUZyb21Qcm9wcyA6IF9hc3NpZ24oe30sIG5ld1N0YXRlLCBkZXJpdmVkU3RhdGVGcm9tUHJvcHMpO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIGJhc2Ugc3RhdGUgb2YgdGhlIHVwZGF0ZSBxdWV1ZS5cbiAgICAgIC8vIEZJWE1FOiBUaGlzIGlzIGdldHRpbmcgcmlkaWN1bG91cy4gUmVmYWN0b3IgcGx6IVxuICAgICAgdmFyIF91cGRhdGVRdWV1ZTMgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICAgIGlmIChfdXBkYXRlUXVldWUzICE9PSBudWxsKSB7XG4gICAgICAgIF91cGRhdGVRdWV1ZTMuYmFzZVN0YXRlID0gX2Fzc2lnbih7fSwgX3VwZGF0ZVF1ZXVlMy5iYXNlU3RhdGUsIGRlcml2ZWRTdGF0ZUZyb21Qcm9wcyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChkZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggIT09IG51bGwgJiYgZGVyaXZlZFN0YXRlRnJvbUNhdGNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFJlbmRlci1waGFzZSB1cGRhdGVzIChsaWtlIHRoaXMpIHNob3VsZCBub3QgYmUgYWRkZWQgdG8gdGhlIHVwZGF0ZSBxdWV1ZSxcbiAgICAgIC8vIFNvIHRoYXQgbXVsdGlwbGUgcmVuZGVyIHBhc3NlcyBkbyBub3QgZW5xdWV1ZSBtdWx0aXBsZSB1cGRhdGVzLlxuICAgICAgLy8gSW5zdGVhZCwganVzdCBzeW5jaHJvbm91c2x5IG1lcmdlIHRoZSByZXR1cm5lZCBzdGF0ZSBpbnRvIHRoZSBpbnN0YW5jZS5cbiAgICAgIG5ld1N0YXRlID0gbmV3U3RhdGUgPT09IG51bGwgfHwgbmV3U3RhdGUgPT09IHVuZGVmaW5lZCA/IGRlcml2ZWRTdGF0ZUZyb21DYXRjaCA6IF9hc3NpZ24oe30sIG5ld1N0YXRlLCBkZXJpdmVkU3RhdGVGcm9tQ2F0Y2gpO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIGJhc2Ugc3RhdGUgb2YgdGhlIHVwZGF0ZSBxdWV1ZS5cbiAgICAgIC8vIEZJWE1FOiBUaGlzIGlzIGdldHRpbmcgcmlkaWN1bG91cy4gUmVmYWN0b3IgcGx6IVxuICAgICAgdmFyIF91cGRhdGVRdWV1ZTQgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICAgIGlmIChfdXBkYXRlUXVldWU0ICE9PSBudWxsKSB7XG4gICAgICAgIF91cGRhdGVRdWV1ZTQuYmFzZVN0YXRlID0gX2Fzc2lnbih7fSwgX3VwZGF0ZVF1ZXVlNC5iYXNlU3RhdGUsIGRlcml2ZWRTdGF0ZUZyb21DYXRjaCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9sZFByb3BzID09PSBuZXdQcm9wcyAmJiBvbGRTdGF0ZSA9PT0gbmV3U3RhdGUgJiYgIWhhc0NvbnRleHRDaGFuZ2VkKCkgJiYgISh3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSAhPT0gbnVsbCAmJiB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZS5oYXNGb3JjZVVwZGF0ZSkpIHtcbiAgICAgIC8vIElmIGFuIHVwZGF0ZSB3YXMgYWxyZWFkeSBpbiBwcm9ncmVzcywgd2Ugc2hvdWxkIHNjaGVkdWxlIGFuIFVwZGF0ZVxuICAgICAgLy8gZWZmZWN0IGV2ZW4gdGhvdWdoIHdlJ3JlIGJhaWxpbmcgb3V0LCBzbyB0aGF0IGNXVS9jRFUgYXJlIGNhbGxlZC5cbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGlmIChvbGRQcm9wcyAhPT0gY3VycmVudC5tZW1vaXplZFByb3BzIHx8IG9sZFN0YXRlICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUpIHtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gVXBkYXRlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGlmIChvbGRQcm9wcyAhPT0gY3VycmVudC5tZW1vaXplZFByb3BzIHx8IG9sZFN0YXRlICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUpIHtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gU25hcHNob3Q7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgc2hvdWxkVXBkYXRlID0gY2hlY2tTaG91bGRDb21wb25lbnRVcGRhdGUod29ya0luUHJvZ3Jlc3MsIG9sZFByb3BzLCBuZXdQcm9wcywgb2xkU3RhdGUsIG5ld1N0YXRlLCBuZXdDb250ZXh0KTtcblxuICAgIGlmIChzaG91bGRVcGRhdGUpIHtcbiAgICAgIC8vIEluIG9yZGVyIHRvIHN1cHBvcnQgcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQgcG9seWZpbGxlZCBjb21wb25lbnRzLFxuICAgICAgLy8gVW5zYWZlIGxpZmVjeWNsZXMgc2hvdWxkIG5vdCBiZSBpbnZva2VkIGZvciBjb21wb25lbnRzIHVzaW5nIHRoZSBuZXcgQVBJcy5cbiAgICAgIGlmICghaGFzTmV3TGlmZWN5Y2xlcyAmJiAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICBzdGFydFBoYXNlVGltZXIod29ya0luUHJvZ3Jlc3MsICdjb21wb25lbnRXaWxsVXBkYXRlJyk7XG4gICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUobmV3UHJvcHMsIG5ld1N0YXRlLCBuZXdDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUobmV3UHJvcHMsIG5ld1N0YXRlLCBuZXdDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBzdG9wUGhhc2VUaW1lcigpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFNuYXBzaG90O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiBhbiB1cGRhdGUgd2FzIGFscmVhZHkgaW4gcHJvZ3Jlc3MsIHdlIHNob3VsZCBzY2hlZHVsZSBhbiBVcGRhdGVcbiAgICAgIC8vIGVmZmVjdCBldmVuIHRob3VnaCB3ZSdyZSBiYWlsaW5nIG91dCwgc28gdGhhdCBjV1UvY0RVIGFyZSBjYWxsZWQuXG4gICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZFVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpZiAob2xkUHJvcHMgIT09IGN1cnJlbnQubWVtb2l6ZWRQcm9wcyB8fCBvbGRTdGF0ZSAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlKSB7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpZiAob2xkUHJvcHMgIT09IGN1cnJlbnQubWVtb2l6ZWRQcm9wcyB8fCBvbGRTdGF0ZSAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlKSB7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFNuYXBzaG90O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHNob3VsZENvbXBvbmVudFVwZGF0ZSByZXR1cm5lZCBmYWxzZSwgd2Ugc2hvdWxkIHN0aWxsIHVwZGF0ZSB0aGVcbiAgICAgIC8vIG1lbW9pemVkIHByb3BzL3N0YXRlIHRvIGluZGljYXRlIHRoYXQgdGhpcyB3b3JrIGNhbiBiZSByZXVzZWQuXG4gICAgICBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIG5ld1Byb3BzKTtcbiAgICAgIG1lbW9pemVTdGF0ZSh3b3JrSW5Qcm9ncmVzcywgbmV3U3RhdGUpO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgZXhpc3RpbmcgaW5zdGFuY2UncyBzdGF0ZSwgcHJvcHMsIGFuZCBjb250ZXh0IHBvaW50ZXJzIGV2ZW5cbiAgICAvLyBpZiBzaG91bGRDb21wb25lbnRVcGRhdGUgcmV0dXJucyBmYWxzZS5cbiAgICBpbnN0YW5jZS5wcm9wcyA9IG5ld1Byb3BzO1xuICAgIGluc3RhbmNlLnN0YXRlID0gbmV3U3RhdGU7XG4gICAgaW5zdGFuY2UuY29udGV4dCA9IG5ld0NvbnRleHQ7XG5cbiAgICByZXR1cm4gc2hvdWxkVXBkYXRlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBhZG9wdENsYXNzSW5zdGFuY2U6IGFkb3B0Q2xhc3NJbnN0YW5jZSxcbiAgICBjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzOiBjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLFxuICAgIGNvbnN0cnVjdENsYXNzSW5zdGFuY2U6IGNvbnN0cnVjdENsYXNzSW5zdGFuY2UsXG4gICAgbW91bnRDbGFzc0luc3RhbmNlOiBtb3VudENsYXNzSW5zdGFuY2UsXG4gICAgcmVzdW1lTW91bnRDbGFzc0luc3RhbmNlOiByZXN1bWVNb3VudENsYXNzSW5zdGFuY2UsXG4gICAgdXBkYXRlQ2xhc3NJbnN0YW5jZTogdXBkYXRlQ2xhc3NJbnN0YW5jZVxuICB9O1xufTtcblxudmFyIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMiA9IFJlYWN0RGVidWdDdXJyZW50RmliZXIuZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bTtcblxuXG52YXIgZGlkV2FybkFib3V0TWFwcyA9IHZvaWQgMDtcbnZhciBkaWRXYXJuQWJvdXRTdHJpbmdSZWZJblN0cmljdE1vZGUgPSB2b2lkIDA7XG52YXIgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0gdm9pZCAwO1xudmFyIG93bmVySGFzRnVuY3Rpb25UeXBlV2FybmluZyA9IHZvaWQgMDtcbnZhciB3YXJuRm9yTWlzc2luZ0tleSA9IGZ1bmN0aW9uIChjaGlsZCkge307XG5cbntcbiAgZGlkV2FybkFib3V0TWFwcyA9IGZhbHNlO1xuICBkaWRXYXJuQWJvdXRTdHJpbmdSZWZJblN0cmljdE1vZGUgPSB7fTtcblxuICAvKipcbiAgICogV2FybiBpZiB0aGVyZSdzIG5vIGtleSBleHBsaWNpdGx5IHNldCBvbiBkeW5hbWljIGFycmF5cyBvZiBjaGlsZHJlbiBvclxuICAgKiBvYmplY3Qga2V5cyBhcmUgbm90IHZhbGlkLiBUaGlzIGFsbG93cyB1cyB0byBrZWVwIHRyYWNrIG9mIGNoaWxkcmVuIGJldHdlZW5cbiAgICogdXBkYXRlcy5cbiAgICovXG4gIG93bmVySGFzS2V5VXNlV2FybmluZyA9IHt9O1xuICBvd25lckhhc0Z1bmN0aW9uVHlwZVdhcm5pbmcgPSB7fTtcblxuICB3YXJuRm9yTWlzc2luZ0tleSA9IGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIGlmIChjaGlsZCA9PT0gbnVsbCB8fCB0eXBlb2YgY2hpbGQgIT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghY2hpbGQuX3N0b3JlIHx8IGNoaWxkLl9zdG9yZS52YWxpZGF0ZWQgfHwgY2hpbGQua2V5ICE9IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgISh0eXBlb2YgY2hpbGQuX3N0b3JlID09PSAnb2JqZWN0JykgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdCBDb21wb25lbnQgaW4gd2FybkZvck1pc3NpbmdLZXkgc2hvdWxkIGhhdmUgYSBfc3RvcmUuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gICAgY2hpbGQuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG5cbiAgICB2YXIgY3VycmVudENvbXBvbmVudEVycm9ySW5mbyA9ICdFYWNoIGNoaWxkIGluIGFuIGFycmF5IG9yIGl0ZXJhdG9yIHNob3VsZCBoYXZlIGEgdW5pcXVlICcgKyAnXCJrZXlcIiBwcm9wLiBTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC13YXJuaW5nLWtleXMgZm9yICcgKyAnbW9yZSBpbmZvcm1hdGlvbi4nICsgKGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMigpIHx8ICcnKTtcbiAgICBpZiAob3duZXJIYXNLZXlVc2VXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG93bmVySGFzS2V5VXNlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSA9IHRydWU7XG5cbiAgICB3YXJuaW5nKGZhbHNlLCAnRWFjaCBjaGlsZCBpbiBhbiBhcnJheSBvciBpdGVyYXRvciBzaG91bGQgaGF2ZSBhIHVuaXF1ZSAnICsgJ1wia2V5XCIgcHJvcC4gU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1rZXlzIGZvciAnICsgJ21vcmUgaW5mb3JtYXRpb24uJXMnLCBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDIoKSk7XG4gIH07XG59XG5cbnZhciBpc0FycmF5JDEgPSBBcnJheS5pc0FycmF5O1xuXG5mdW5jdGlvbiBjb2VyY2VSZWYocmV0dXJuRmliZXIsIGN1cnJlbnQsIGVsZW1lbnQpIHtcbiAgdmFyIG1peGVkUmVmID0gZWxlbWVudC5yZWY7XG4gIGlmIChtaXhlZFJlZiAhPT0gbnVsbCAmJiB0eXBlb2YgbWl4ZWRSZWYgIT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG1peGVkUmVmICE9PSAnb2JqZWN0Jykge1xuICAgIHtcbiAgICAgIGlmIChyZXR1cm5GaWJlci5tb2RlICYgU3RyaWN0TW9kZSkge1xuICAgICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUocmV0dXJuRmliZXIpIHx8ICdDb21wb25lbnQnO1xuICAgICAgICBpZiAoIWRpZFdhcm5BYm91dFN0cmluZ1JlZkluU3RyaWN0TW9kZVtjb21wb25lbnROYW1lXSkge1xuICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICdBIHN0cmluZyByZWYsIFwiJXNcIizCoGhhcyBiZWVuIGZvdW5kIHdpdGhpbiBhIHN0cmljdCBtb2RlIHRyZWUuICcgKyAnU3RyaW5nIHJlZnMgYXJlIGEgc291cmNlIG9mIHBvdGVudGlhbCBidWdzIGFuZCBzaG91bGQgYmUgYXZvaWRlZC4gJyArICdXZSByZWNvbW1lbmQgdXNpbmcgY3JlYXRlUmVmKCkgaW5zdGVhZC4nICsgJ1xcbiVzJyArICdcXG5cXG5MZWFybiBtb3JlIGFib3V0IHVzaW5nIHJlZnMgc2FmZWx5IGhlcmU6JyArICdcXG5odHRwczovL2ZiLm1lL3JlYWN0LXN0cmljdC1tb2RlLXN0cmluZy1yZWYnLCBtaXhlZFJlZiwgZ2V0U3RhY2tBZGRlbmR1bUJ5V29ya0luUHJvZ3Jlc3NGaWJlcihyZXR1cm5GaWJlcikpO1xuICAgICAgICAgIGRpZFdhcm5BYm91dFN0cmluZ1JlZkluU3RyaWN0TW9kZVtjb21wb25lbnROYW1lXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudC5fb3duZXIpIHtcbiAgICAgIHZhciBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgdmFyIGluc3QgPSB2b2lkIDA7XG4gICAgICBpZiAob3duZXIpIHtcbiAgICAgICAgdmFyIG93bmVyRmliZXIgPSBvd25lcjtcbiAgICAgICAgIShvd25lckZpYmVyLnRhZyA9PT0gQ2xhc3NDb21wb25lbnQpID8gaW52YXJpYW50KGZhbHNlLCAnU3RhdGVsZXNzIGZ1bmN0aW9uIGNvbXBvbmVudHMgY2Fubm90IGhhdmUgcmVmcy4nKSA6IHZvaWQgMDtcbiAgICAgICAgaW5zdCA9IG93bmVyRmliZXIuc3RhdGVOb2RlO1xuICAgICAgfVxuICAgICAgIWluc3QgPyBpbnZhcmlhbnQoZmFsc2UsICdNaXNzaW5nIG93bmVyIGZvciBzdHJpbmcgcmVmICVzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicsIG1peGVkUmVmKSA6IHZvaWQgMDtcbiAgICAgIHZhciBzdHJpbmdSZWYgPSAnJyArIG1peGVkUmVmO1xuICAgICAgLy8gQ2hlY2sgaWYgcHJldmlvdXMgc3RyaW5nIHJlZiBtYXRjaGVzIG5ldyBzdHJpbmcgcmVmXG4gICAgICBpZiAoY3VycmVudCAhPT0gbnVsbCAmJiBjdXJyZW50LnJlZiAhPT0gbnVsbCAmJiBjdXJyZW50LnJlZi5fc3RyaW5nUmVmID09PSBzdHJpbmdSZWYpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQucmVmO1xuICAgICAgfVxuICAgICAgdmFyIHJlZiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgcmVmcyA9IGluc3QucmVmcyA9PT0gZW1wdHlPYmplY3QgPyBpbnN0LnJlZnMgPSB7fSA6IGluc3QucmVmcztcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgZGVsZXRlIHJlZnNbc3RyaW5nUmVmXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWZzW3N0cmluZ1JlZl0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHJlZi5fc3RyaW5nUmVmID0gc3RyaW5nUmVmO1xuICAgICAgcmV0dXJuIHJlZjtcbiAgICB9IGVsc2Uge1xuICAgICAgISh0eXBlb2YgbWl4ZWRSZWYgPT09ICdzdHJpbmcnKSA/IGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkIHJlZiB0byBiZSBhIGZ1bmN0aW9uIG9yIGEgc3RyaW5nLicpIDogdm9pZCAwO1xuICAgICAgIWVsZW1lbnQuX293bmVyID8gaW52YXJpYW50KGZhbHNlLCAnRWxlbWVudCByZWYgd2FzIHNwZWNpZmllZCBhcyBhIHN0cmluZyAoJXMpIGJ1dCBubyBvd25lciB3YXMgc2V0LiBUaGlzIGNvdWxkIGhhcHBlbiBmb3Igb25lIG9mIHRoZSBmb2xsb3dpbmcgcmVhc29uczpcXG4xLiBZb3UgbWF5IGJlIGFkZGluZyBhIHJlZiB0byBhIGZ1bmN0aW9uYWwgY29tcG9uZW50XFxuMi4gWW91IG1heSBiZSBhZGRpbmcgYSByZWYgdG8gYSBjb21wb25lbnQgdGhhdCB3YXMgbm90IGNyZWF0ZWQgaW5zaWRlIGEgY29tcG9uZW50XFwncyByZW5kZXIgbWV0aG9kXFxuMy4gWW91IGhhdmUgbXVsdGlwbGUgY29waWVzIG9mIFJlYWN0IGxvYWRlZFxcblNlZSBodHRwczovL2ZiLm1lL3JlYWN0LXJlZnMtbXVzdC1oYXZlLW93bmVyIGZvciBtb3JlIGluZm9ybWF0aW9uLicsIG1peGVkUmVmKSA6IHZvaWQgMDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1peGVkUmVmO1xufVxuXG5mdW5jdGlvbiB0aHJvd09uSW52YWxpZE9iamVjdFR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKSB7XG4gIGlmIChyZXR1cm5GaWJlci50eXBlICE9PSAndGV4dGFyZWEnKSB7XG4gICAgdmFyIGFkZGVuZHVtID0gJyc7XG4gICAge1xuICAgICAgYWRkZW5kdW0gPSAnIElmIHlvdSBtZWFudCB0byByZW5kZXIgYSBjb2xsZWN0aW9uIG9mIGNoaWxkcmVuLCB1c2UgYW4gYXJyYXkgJyArICdpbnN0ZWFkLicgKyAoZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQyKCkgfHwgJycpO1xuICAgIH1cbiAgICBpbnZhcmlhbnQoZmFsc2UsICdPYmplY3RzIGFyZSBub3QgdmFsaWQgYXMgYSBSZWFjdCBjaGlsZCAoZm91bmQ6ICVzKS4lcycsIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdDaGlsZCkgPT09ICdbb2JqZWN0IE9iamVjdF0nID8gJ29iamVjdCB3aXRoIGtleXMgeycgKyBPYmplY3Qua2V5cyhuZXdDaGlsZCkuam9pbignLCAnKSArICd9JyA6IG5ld0NoaWxkLCBhZGRlbmR1bSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gd2Fybk9uRnVuY3Rpb25UeXBlKCkge1xuICB2YXIgY3VycmVudENvbXBvbmVudEVycm9ySW5mbyA9ICdGdW5jdGlvbnMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkLiBUaGlzIG1heSBoYXBwZW4gaWYgJyArICd5b3UgcmV0dXJuIGEgQ29tcG9uZW50IGluc3RlYWQgb2YgPENvbXBvbmVudCAvPiBmcm9tIHJlbmRlci4gJyArICdPciBtYXliZSB5b3UgbWVhbnQgdG8gY2FsbCB0aGlzIGZ1bmN0aW9uIHJhdGhlciB0aGFuIHJldHVybiBpdC4nICsgKGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMigpIHx8ICcnKTtcblxuICBpZiAob3duZXJIYXNGdW5jdGlvblR5cGVXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIG93bmVySGFzRnVuY3Rpb25UeXBlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSA9IHRydWU7XG5cbiAgd2FybmluZyhmYWxzZSwgJ0Z1bmN0aW9ucyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQuIFRoaXMgbWF5IGhhcHBlbiBpZiAnICsgJ3lvdSByZXR1cm4gYSBDb21wb25lbnQgaW5zdGVhZCBvZiA8Q29tcG9uZW50IC8+IGZyb20gcmVuZGVyLiAnICsgJ09yIG1heWJlIHlvdSBtZWFudCB0byBjYWxsIHRoaXMgZnVuY3Rpb24gcmF0aGVyIHRoYW4gcmV0dXJuIGl0LiVzJywgZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQyKCkgfHwgJycpO1xufVxuXG4vLyBUaGlzIHdyYXBwZXIgZnVuY3Rpb24gZXhpc3RzIGJlY2F1c2UgSSBleHBlY3QgdG8gY2xvbmUgdGhlIGNvZGUgaW4gZWFjaCBwYXRoXG4vLyB0byBiZSBhYmxlIHRvIG9wdGltaXplIGVhY2ggcGF0aCBpbmRpdmlkdWFsbHkgYnkgYnJhbmNoaW5nIGVhcmx5LiBUaGlzIG5lZWRzXG4vLyBhIGNvbXBpbGVyIG9yIHdlIGNhbiBkbyBpdCBtYW51YWxseS4gSGVscGVycyB0aGF0IGRvbid0IG5lZWQgdGhpcyBicmFuY2hpbmdcbi8vIGxpdmUgb3V0c2lkZSBvZiB0aGlzIGZ1bmN0aW9uLlxuZnVuY3Rpb24gQ2hpbGRSZWNvbmNpbGVyKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgZnVuY3Rpb24gZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGNoaWxkVG9EZWxldGUpIHtcbiAgICBpZiAoIXNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgIC8vIE5vb3AuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIERlbGV0aW9ucyBhcmUgYWRkZWQgaW4gcmV2ZXJzZWQgb3JkZXIgc28gd2UgYWRkIGl0IHRvIHRoZSBmcm9udC5cbiAgICAvLyBBdCB0aGlzIHBvaW50LCB0aGUgcmV0dXJuIGZpYmVyJ3MgZWZmZWN0IGxpc3QgaXMgZW1wdHkgZXhjZXB0IGZvclxuICAgIC8vIGRlbGV0aW9ucywgc28gd2UgY2FuIGp1c3QgYXBwZW5kIHRoZSBkZWxldGlvbiB0byB0aGUgbGlzdC4gVGhlIHJlbWFpbmluZ1xuICAgIC8vIGVmZmVjdHMgYXJlbid0IGFkZGVkIHVudGlsIHRoZSBjb21wbGV0ZSBwaGFzZS4gT25jZSB3ZSBpbXBsZW1lbnRcbiAgICAvLyByZXN1bWluZywgdGhpcyBtYXkgbm90IGJlIHRydWUuXG4gICAgdmFyIGxhc3QgPSByZXR1cm5GaWJlci5sYXN0RWZmZWN0O1xuICAgIGlmIChsYXN0ICE9PSBudWxsKSB7XG4gICAgICBsYXN0Lm5leHRFZmZlY3QgPSBjaGlsZFRvRGVsZXRlO1xuICAgICAgcmV0dXJuRmliZXIubGFzdEVmZmVjdCA9IGNoaWxkVG9EZWxldGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybkZpYmVyLmZpcnN0RWZmZWN0ID0gcmV0dXJuRmliZXIubGFzdEVmZmVjdCA9IGNoaWxkVG9EZWxldGU7XG4gICAgfVxuICAgIGNoaWxkVG9EZWxldGUubmV4dEVmZmVjdCA9IG51bGw7XG4gICAgY2hpbGRUb0RlbGV0ZS5lZmZlY3RUYWcgPSBEZWxldGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCkge1xuICAgIGlmICghc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykge1xuICAgICAgLy8gTm9vcC5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIFRPRE86IEZvciB0aGUgc2hvdWxkQ2xvbmUgY2FzZSwgdGhpcyBjb3VsZCBiZSBtaWNyby1vcHRpbWl6ZWQgYSBiaXQgYnlcbiAgICAvLyBhc3N1bWluZyB0aGF0IGFmdGVyIHRoZSBmaXJzdCBjaGlsZCB3ZSd2ZSBhbHJlYWR5IGFkZGVkIGV2ZXJ5dGhpbmcuXG4gICAgdmFyIGNoaWxkVG9EZWxldGUgPSBjdXJyZW50Rmlyc3RDaGlsZDtcbiAgICB3aGlsZSAoY2hpbGRUb0RlbGV0ZSAhPT0gbnVsbCkge1xuICAgICAgZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGNoaWxkVG9EZWxldGUpO1xuICAgICAgY2hpbGRUb0RlbGV0ZSA9IGNoaWxkVG9EZWxldGUuc2libGluZztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBtYXBSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQpIHtcbiAgICAvLyBBZGQgdGhlIHJlbWFpbmluZyBjaGlsZHJlbiB0byBhIHRlbXBvcmFyeSBtYXAgc28gdGhhdCB3ZSBjYW4gZmluZCB0aGVtIGJ5XG4gICAgLy8ga2V5cyBxdWlja2x5LiBJbXBsaWNpdCAobnVsbCkga2V5cyBnZXQgYWRkZWQgdG8gdGhpcyBzZXQgd2l0aCB0aGVpciBpbmRleFxuICAgIHZhciBleGlzdGluZ0NoaWxkcmVuID0gbmV3IE1hcCgpO1xuXG4gICAgdmFyIGV4aXN0aW5nQ2hpbGQgPSBjdXJyZW50Rmlyc3RDaGlsZDtcbiAgICB3aGlsZSAoZXhpc3RpbmdDaGlsZCAhPT0gbnVsbCkge1xuICAgICAgaWYgKGV4aXN0aW5nQ2hpbGQua2V5ICE9PSBudWxsKSB7XG4gICAgICAgIGV4aXN0aW5nQ2hpbGRyZW4uc2V0KGV4aXN0aW5nQ2hpbGQua2V5LCBleGlzdGluZ0NoaWxkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV4aXN0aW5nQ2hpbGRyZW4uc2V0KGV4aXN0aW5nQ2hpbGQuaW5kZXgsIGV4aXN0aW5nQ2hpbGQpO1xuICAgICAgfVxuICAgICAgZXhpc3RpbmdDaGlsZCA9IGV4aXN0aW5nQ2hpbGQuc2libGluZztcbiAgICB9XG4gICAgcmV0dXJuIGV4aXN0aW5nQ2hpbGRyZW47XG4gIH1cblxuICBmdW5jdGlvbiB1c2VGaWJlcihmaWJlciwgcGVuZGluZ1Byb3BzLCBleHBpcmF0aW9uVGltZSkge1xuICAgIC8vIFdlIGN1cnJlbnRseSBzZXQgc2libGluZyB0byBudWxsIGFuZCBpbmRleCB0byAwIGhlcmUgYmVjYXVzZSBpdCBpcyBlYXN5XG4gICAgLy8gdG8gZm9yZ2V0IHRvIGRvIGJlZm9yZSByZXR1cm5pbmcgaXQuIEUuZy4gZm9yIHRoZSBzaW5nbGUgY2hpbGQgY2FzZS5cbiAgICB2YXIgY2xvbmUgPSBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhmaWJlciwgcGVuZGluZ1Byb3BzLCBleHBpcmF0aW9uVGltZSk7XG4gICAgY2xvbmUuaW5kZXggPSAwO1xuICAgIGNsb25lLnNpYmxpbmcgPSBudWxsO1xuICAgIHJldHVybiBjbG9uZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYWNlQ2hpbGQobmV3RmliZXIsIGxhc3RQbGFjZWRJbmRleCwgbmV3SW5kZXgpIHtcbiAgICBuZXdGaWJlci5pbmRleCA9IG5ld0luZGV4O1xuICAgIGlmICghc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykge1xuICAgICAgLy8gTm9vcC5cbiAgICAgIHJldHVybiBsYXN0UGxhY2VkSW5kZXg7XG4gICAgfVxuICAgIHZhciBjdXJyZW50ID0gbmV3RmliZXIuYWx0ZXJuYXRlO1xuICAgIGlmIChjdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICB2YXIgb2xkSW5kZXggPSBjdXJyZW50LmluZGV4O1xuICAgICAgaWYgKG9sZEluZGV4IDwgbGFzdFBsYWNlZEluZGV4KSB7XG4gICAgICAgIC8vIFRoaXMgaXMgYSBtb3ZlLlxuICAgICAgICBuZXdGaWJlci5lZmZlY3RUYWcgPSBQbGFjZW1lbnQ7XG4gICAgICAgIHJldHVybiBsYXN0UGxhY2VkSW5kZXg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUaGlzIGl0ZW0gY2FuIHN0YXkgaW4gcGxhY2UuXG4gICAgICAgIHJldHVybiBvbGRJbmRleDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhpcyBpcyBhbiBpbnNlcnRpb24uXG4gICAgICBuZXdGaWJlci5lZmZlY3RUYWcgPSBQbGFjZW1lbnQ7XG4gICAgICByZXR1cm4gbGFzdFBsYWNlZEluZGV4O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYWNlU2luZ2xlQ2hpbGQobmV3RmliZXIpIHtcbiAgICAvLyBUaGlzIGlzIHNpbXBsZXIgZm9yIHRoZSBzaW5nbGUgY2hpbGQgY2FzZS4gV2Ugb25seSBuZWVkIHRvIGRvIGFcbiAgICAvLyBwbGFjZW1lbnQgZm9yIGluc2VydGluZyBuZXcgY2hpbGRyZW4uXG4gICAgaWYgKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMgJiYgbmV3RmliZXIuYWx0ZXJuYXRlID09PSBudWxsKSB7XG4gICAgICBuZXdGaWJlci5lZmZlY3RUYWcgPSBQbGFjZW1lbnQ7XG4gICAgfVxuICAgIHJldHVybiBuZXdGaWJlcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVRleHROb2RlKHJldHVybkZpYmVyLCBjdXJyZW50LCB0ZXh0Q29udGVudCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICBpZiAoY3VycmVudCA9PT0gbnVsbCB8fCBjdXJyZW50LnRhZyAhPT0gSG9zdFRleHQpIHtcbiAgICAgIC8vIEluc2VydFxuICAgICAgdmFyIGNyZWF0ZWQgPSBjcmVhdGVGaWJlckZyb21UZXh0KHRleHRDb250ZW50LCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBjcmVhdGVkWydyZXR1cm4nXSA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIGNyZWF0ZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFVwZGF0ZVxuICAgICAgdmFyIGV4aXN0aW5nID0gdXNlRmliZXIoY3VycmVudCwgdGV4dENvbnRlbnQsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGV4aXN0aW5nWydyZXR1cm4nXSA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIGV4aXN0aW5nO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUVsZW1lbnQocmV0dXJuRmliZXIsIGN1cnJlbnQsIGVsZW1lbnQsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgaWYgKGN1cnJlbnQgIT09IG51bGwgJiYgY3VycmVudC50eXBlID09PSBlbGVtZW50LnR5cGUpIHtcbiAgICAgIC8vIE1vdmUgYmFzZWQgb24gaW5kZXhcbiAgICAgIHZhciBleGlzdGluZyA9IHVzZUZpYmVyKGN1cnJlbnQsIGVsZW1lbnQucHJvcHMsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGV4aXN0aW5nLnJlZiA9IGNvZXJjZVJlZihyZXR1cm5GaWJlciwgY3VycmVudCwgZWxlbWVudCk7XG4gICAgICBleGlzdGluZ1sncmV0dXJuJ10gPSByZXR1cm5GaWJlcjtcbiAgICAgIHtcbiAgICAgICAgZXhpc3RpbmcuX2RlYnVnU291cmNlID0gZWxlbWVudC5fc291cmNlO1xuICAgICAgICBleGlzdGluZy5fZGVidWdPd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGV4aXN0aW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJbnNlcnRcbiAgICAgIHZhciBjcmVhdGVkID0gY3JlYXRlRmliZXJGcm9tRWxlbWVudChlbGVtZW50LCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBjcmVhdGVkLnJlZiA9IGNvZXJjZVJlZihyZXR1cm5GaWJlciwgY3VycmVudCwgZWxlbWVudCk7XG4gICAgICBjcmVhdGVkWydyZXR1cm4nXSA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIGNyZWF0ZWQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlUG9ydGFsKHJldHVybkZpYmVyLCBjdXJyZW50LCBwb3J0YWwsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgaWYgKGN1cnJlbnQgPT09IG51bGwgfHwgY3VycmVudC50YWcgIT09IEhvc3RQb3J0YWwgfHwgY3VycmVudC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyAhPT0gcG9ydGFsLmNvbnRhaW5lckluZm8gfHwgY3VycmVudC5zdGF0ZU5vZGUuaW1wbGVtZW50YXRpb24gIT09IHBvcnRhbC5pbXBsZW1lbnRhdGlvbikge1xuICAgICAgLy8gSW5zZXJ0XG4gICAgICB2YXIgY3JlYXRlZCA9IGNyZWF0ZUZpYmVyRnJvbVBvcnRhbChwb3J0YWwsIHJldHVybkZpYmVyLm1vZGUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGNyZWF0ZWRbJ3JldHVybiddID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gY3JlYXRlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVXBkYXRlXG4gICAgICB2YXIgZXhpc3RpbmcgPSB1c2VGaWJlcihjdXJyZW50LCBwb3J0YWwuY2hpbGRyZW4gfHwgW10sIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGV4aXN0aW5nWydyZXR1cm4nXSA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIGV4aXN0aW5nO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUZyYWdtZW50KHJldHVybkZpYmVyLCBjdXJyZW50LCBmcmFnbWVudCwgZXhwaXJhdGlvblRpbWUsIGtleSkge1xuICAgIGlmIChjdXJyZW50ID09PSBudWxsIHx8IGN1cnJlbnQudGFnICE9PSBGcmFnbWVudCkge1xuICAgICAgLy8gSW5zZXJ0XG4gICAgICB2YXIgY3JlYXRlZCA9IGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KGZyYWdtZW50LCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSwga2V5KTtcbiAgICAgIGNyZWF0ZWRbJ3JldHVybiddID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gY3JlYXRlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVXBkYXRlXG4gICAgICB2YXIgZXhpc3RpbmcgPSB1c2VGaWJlcihjdXJyZW50LCBmcmFnbWVudCwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgZXhpc3RpbmdbJ3JldHVybiddID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ2hpbGQocmV0dXJuRmliZXIsIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSkge1xuICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBuZXdDaGlsZCA9PT0gJ251bWJlcicpIHtcbiAgICAgIC8vIFRleHQgbm9kZXMgZG9uJ3QgaGF2ZSBrZXlzLiBJZiB0aGUgcHJldmlvdXMgbm9kZSBpcyBpbXBsaWNpdGx5IGtleWVkXG4gICAgICAvLyB3ZSBjYW4gY29udGludWUgdG8gcmVwbGFjZSBpdCB3aXRob3V0IGFib3J0aW5nIGV2ZW4gaWYgaXQgaXMgbm90IGEgdGV4dFxuICAgICAgLy8gbm9kZS5cbiAgICAgIHZhciBjcmVhdGVkID0gY3JlYXRlRmliZXJGcm9tVGV4dCgnJyArIG5ld0NoaWxkLCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBjcmVhdGVkWydyZXR1cm4nXSA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIGNyZWF0ZWQ7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ29iamVjdCcgJiYgbmV3Q2hpbGQgIT09IG51bGwpIHtcbiAgICAgIHN3aXRjaCAobmV3Q2hpbGQuJCR0eXBlb2YpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIF9jcmVhdGVkID0gY3JlYXRlRmliZXJGcm9tRWxlbWVudChuZXdDaGlsZCwgcmV0dXJuRmliZXIubW9kZSwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgICAgX2NyZWF0ZWQucmVmID0gY29lcmNlUmVmKHJldHVybkZpYmVyLCBudWxsLCBuZXdDaGlsZCk7XG4gICAgICAgICAgICBfY3JlYXRlZFsncmV0dXJuJ10gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICAgIHJldHVybiBfY3JlYXRlZDtcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIF9jcmVhdGVkMiA9IGNyZWF0ZUZpYmVyRnJvbVBvcnRhbChuZXdDaGlsZCwgcmV0dXJuRmliZXIubW9kZSwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgICAgX2NyZWF0ZWQyWydyZXR1cm4nXSA9IHJldHVybkZpYmVyO1xuICAgICAgICAgICAgcmV0dXJuIF9jcmVhdGVkMjtcbiAgICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0FycmF5JDEobmV3Q2hpbGQpIHx8IGdldEl0ZXJhdG9yRm4obmV3Q2hpbGQpKSB7XG4gICAgICAgIHZhciBfY3JlYXRlZDMgPSBjcmVhdGVGaWJlckZyb21GcmFnbWVudChuZXdDaGlsZCwgcmV0dXJuRmliZXIubW9kZSwgZXhwaXJhdGlvblRpbWUsIG51bGwpO1xuICAgICAgICBfY3JlYXRlZDNbJ3JldHVybiddID0gcmV0dXJuRmliZXI7XG4gICAgICAgIHJldHVybiBfY3JlYXRlZDM7XG4gICAgICB9XG5cbiAgICAgIHRocm93T25JbnZhbGlkT2JqZWN0VHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgIH1cblxuICAgIHtcbiAgICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgd2Fybk9uRnVuY3Rpb25UeXBlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVTbG90KHJldHVybkZpYmVyLCBvbGRGaWJlciwgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgLy8gVXBkYXRlIHRoZSBmaWJlciBpZiB0aGUga2V5cyBtYXRjaCwgb3RoZXJ3aXNlIHJldHVybiBudWxsLlxuXG4gICAgdmFyIGtleSA9IG9sZEZpYmVyICE9PSBudWxsID8gb2xkRmliZXIua2V5IDogbnVsbDtcblxuICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBuZXdDaGlsZCA9PT0gJ251bWJlcicpIHtcbiAgICAgIC8vIFRleHQgbm9kZXMgZG9uJ3QgaGF2ZSBrZXlzLiBJZiB0aGUgcHJldmlvdXMgbm9kZSBpcyBpbXBsaWNpdGx5IGtleWVkXG4gICAgICAvLyB3ZSBjYW4gY29udGludWUgdG8gcmVwbGFjZSBpdCB3aXRob3V0IGFib3J0aW5nIGV2ZW4gaWYgaXQgaXMgbm90IGEgdGV4dFxuICAgICAgLy8gbm9kZS5cbiAgICAgIGlmIChrZXkgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXBkYXRlVGV4dE5vZGUocmV0dXJuRmliZXIsIG9sZEZpYmVyLCAnJyArIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ29iamVjdCcgJiYgbmV3Q2hpbGQgIT09IG51bGwpIHtcbiAgICAgIHN3aXRjaCAobmV3Q2hpbGQuJCR0eXBlb2YpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgICAge1xuICAgICAgICAgICAgaWYgKG5ld0NoaWxkLmtleSA9PT0ga2V5KSB7XG4gICAgICAgICAgICAgIGlmIChuZXdDaGlsZC50eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZUZyYWdtZW50KHJldHVybkZpYmVyLCBvbGRGaWJlciwgbmV3Q2hpbGQucHJvcHMuY2hpbGRyZW4sIGV4cGlyYXRpb25UaW1lLCBrZXkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiB1cGRhdGVFbGVtZW50KHJldHVybkZpYmVyLCBvbGRGaWJlciwgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAobmV3Q2hpbGQua2V5ID09PSBrZXkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZVBvcnRhbChyZXR1cm5GaWJlciwgb2xkRmliZXIsIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0FycmF5JDEobmV3Q2hpbGQpIHx8IGdldEl0ZXJhdG9yRm4obmV3Q2hpbGQpKSB7XG4gICAgICAgIGlmIChrZXkgIT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1cGRhdGVGcmFnbWVudChyZXR1cm5GaWJlciwgb2xkRmliZXIsIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSwgbnVsbCk7XG4gICAgICB9XG5cbiAgICAgIHRocm93T25JbnZhbGlkT2JqZWN0VHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgIH1cblxuICAgIHtcbiAgICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgd2Fybk9uRnVuY3Rpb25UeXBlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVGcm9tTWFwKGV4aXN0aW5nQ2hpbGRyZW4sIHJldHVybkZpYmVyLCBuZXdJZHgsIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSkge1xuICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBuZXdDaGlsZCA9PT0gJ251bWJlcicpIHtcbiAgICAgIC8vIFRleHQgbm9kZXMgZG9uJ3QgaGF2ZSBrZXlzLCBzbyB3ZSBuZWl0aGVyIGhhdmUgdG8gY2hlY2sgdGhlIG9sZCBub3JcbiAgICAgIC8vIG5ldyBub2RlIGZvciB0aGUga2V5LiBJZiBib3RoIGFyZSB0ZXh0IG5vZGVzLCB0aGV5IG1hdGNoLlxuICAgICAgdmFyIG1hdGNoZWRGaWJlciA9IGV4aXN0aW5nQ2hpbGRyZW4uZ2V0KG5ld0lkeCkgfHwgbnVsbDtcbiAgICAgIHJldHVybiB1cGRhdGVUZXh0Tm9kZShyZXR1cm5GaWJlciwgbWF0Y2hlZEZpYmVyLCAnJyArIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ29iamVjdCcgJiYgbmV3Q2hpbGQgIT09IG51bGwpIHtcbiAgICAgIHN3aXRjaCAobmV3Q2hpbGQuJCR0eXBlb2YpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIF9tYXRjaGVkRmliZXIgPSBleGlzdGluZ0NoaWxkcmVuLmdldChuZXdDaGlsZC5rZXkgPT09IG51bGwgPyBuZXdJZHggOiBuZXdDaGlsZC5rZXkpIHx8IG51bGw7XG4gICAgICAgICAgICBpZiAobmV3Q2hpbGQudHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSkge1xuICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlRnJhZ21lbnQocmV0dXJuRmliZXIsIF9tYXRjaGVkRmliZXIsIG5ld0NoaWxkLnByb3BzLmNoaWxkcmVuLCBleHBpcmF0aW9uVGltZSwgbmV3Q2hpbGQua2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1cGRhdGVFbGVtZW50KHJldHVybkZpYmVyLCBfbWF0Y2hlZEZpYmVyLCBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YXIgX21hdGNoZWRGaWJlcjIgPSBleGlzdGluZ0NoaWxkcmVuLmdldChuZXdDaGlsZC5rZXkgPT09IG51bGwgPyBuZXdJZHggOiBuZXdDaGlsZC5rZXkpIHx8IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlUG9ydGFsKHJldHVybkZpYmVyLCBfbWF0Y2hlZEZpYmVyMiwgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0FycmF5JDEobmV3Q2hpbGQpIHx8IGdldEl0ZXJhdG9yRm4obmV3Q2hpbGQpKSB7XG4gICAgICAgIHZhciBfbWF0Y2hlZEZpYmVyMyA9IGV4aXN0aW5nQ2hpbGRyZW4uZ2V0KG5ld0lkeCkgfHwgbnVsbDtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUZyYWdtZW50KHJldHVybkZpYmVyLCBfbWF0Y2hlZEZpYmVyMywgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lLCBudWxsKTtcbiAgICAgIH1cblxuICAgICAgdGhyb3dPbkludmFsaWRPYmplY3RUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgfVxuXG4gICAge1xuICAgICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB3YXJuT25GdW5jdGlvblR5cGUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBXYXJucyBpZiB0aGVyZSBpcyBhIGR1cGxpY2F0ZSBvciBtaXNzaW5nIGtleVxuICAgKi9cbiAgZnVuY3Rpb24gd2Fybk9uSW52YWxpZEtleShjaGlsZCwga25vd25LZXlzKSB7XG4gICAge1xuICAgICAgaWYgKHR5cGVvZiBjaGlsZCAhPT0gJ29iamVjdCcgfHwgY2hpbGQgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGtub3duS2V5cztcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoY2hpbGQuJCR0eXBlb2YpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgd2FybkZvck1pc3NpbmdLZXkoY2hpbGQpO1xuICAgICAgICAgIHZhciBrZXkgPSBjaGlsZC5rZXk7XG4gICAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGtub3duS2V5cyA9PT0gbnVsbCkge1xuICAgICAgICAgICAga25vd25LZXlzID0gbmV3IFNldCgpO1xuICAgICAgICAgICAga25vd25LZXlzLmFkZChrZXkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgha25vd25LZXlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICBrbm93bktleXMuYWRkKGtleSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgd2FybmluZyhmYWxzZSwgJ0VuY291bnRlcmVkIHR3byBjaGlsZHJlbiB3aXRoIHRoZSBzYW1lIGtleSwgYCVzYC4gJyArICdLZXlzIHNob3VsZCBiZSB1bmlxdWUgc28gdGhhdCBjb21wb25lbnRzIG1haW50YWluIHRoZWlyIGlkZW50aXR5ICcgKyAnYWNyb3NzIHVwZGF0ZXMuIE5vbi11bmlxdWUga2V5cyBtYXkgY2F1c2UgY2hpbGRyZW4gdG8gYmUgJyArICdkdXBsaWNhdGVkIGFuZC9vciBvbWl0dGVkIOKAlCB0aGUgYmVoYXZpb3IgaXMgdW5zdXBwb3J0ZWQgYW5kICcgKyAnY291bGQgY2hhbmdlIGluIGEgZnV0dXJlIHZlcnNpb24uJXMnLCBrZXksIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGtub3duS2V5cztcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY29uY2lsZUNoaWxkcmVuQXJyYXkocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBuZXdDaGlsZHJlbiwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICAvLyBUaGlzIGFsZ29yaXRobSBjYW4ndCBvcHRpbWl6ZSBieSBzZWFyY2hpbmcgZnJvbSBib3RocyBlbmRzIHNpbmNlIHdlXG4gICAgLy8gZG9uJ3QgaGF2ZSBiYWNrcG9pbnRlcnMgb24gZmliZXJzLiBJJ20gdHJ5aW5nIHRvIHNlZSBob3cgZmFyIHdlIGNhbiBnZXRcbiAgICAvLyB3aXRoIHRoYXQgbW9kZWwuIElmIGl0IGVuZHMgdXAgbm90IGJlaW5nIHdvcnRoIHRoZSB0cmFkZW9mZnMsIHdlIGNhblxuICAgIC8vIGFkZCBpdCBsYXRlci5cblxuICAgIC8vIEV2ZW4gd2l0aCBhIHR3byBlbmRlZCBvcHRpbWl6YXRpb24sIHdlJ2Qgd2FudCB0byBvcHRpbWl6ZSBmb3IgdGhlIGNhc2VcbiAgICAvLyB3aGVyZSB0aGVyZSBhcmUgZmV3IGNoYW5nZXMgYW5kIGJydXRlIGZvcmNlIHRoZSBjb21wYXJpc29uIGluc3RlYWQgb2ZcbiAgICAvLyBnb2luZyBmb3IgdGhlIE1hcC4gSXQnZCBsaWtlIHRvIGV4cGxvcmUgaGl0dGluZyB0aGF0IHBhdGggZmlyc3QgaW5cbiAgICAvLyBmb3J3YXJkLW9ubHkgbW9kZSBhbmQgb25seSBnbyBmb3IgdGhlIE1hcCBvbmNlIHdlIG5vdGljZSB0aGF0IHdlIG5lZWRcbiAgICAvLyBsb3RzIG9mIGxvb2sgYWhlYWQuIFRoaXMgZG9lc24ndCBoYW5kbGUgcmV2ZXJzYWwgYXMgd2VsbCBhcyB0d28gZW5kZWRcbiAgICAvLyBzZWFyY2ggYnV0IHRoYXQncyB1bnVzdWFsLiBCZXNpZGVzLCBmb3IgdGhlIHR3byBlbmRlZCBvcHRpbWl6YXRpb24gdG9cbiAgICAvLyB3b3JrIG9uIEl0ZXJhYmxlcywgd2UnZCBuZWVkIHRvIGNvcHkgdGhlIHdob2xlIHNldC5cblxuICAgIC8vIEluIHRoaXMgZmlyc3QgaXRlcmF0aW9uLCB3ZSdsbCBqdXN0IGxpdmUgd2l0aCBoaXR0aW5nIHRoZSBiYWQgY2FzZVxuICAgIC8vIChhZGRpbmcgZXZlcnl0aGluZyB0byBhIE1hcCkgaW4gZm9yIGV2ZXJ5IGluc2VydC9tb3ZlLlxuXG4gICAgLy8gSWYgeW91IGNoYW5nZSB0aGlzIGNvZGUsIGFsc28gdXBkYXRlIHJlY29uY2lsZUNoaWxkcmVuSXRlcmF0b3IoKSB3aGljaFxuICAgIC8vIHVzZXMgdGhlIHNhbWUgYWxnb3JpdGhtLlxuXG4gICAge1xuICAgICAgLy8gRmlyc3QsIHZhbGlkYXRlIGtleXMuXG4gICAgICB2YXIga25vd25LZXlzID0gbnVsbDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGNoaWxkID0gbmV3Q2hpbGRyZW5baV07XG4gICAgICAgIGtub3duS2V5cyA9IHdhcm5PbkludmFsaWRLZXkoY2hpbGQsIGtub3duS2V5cyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBudWxsO1xuICAgIHZhciBwcmV2aW91c05ld0ZpYmVyID0gbnVsbDtcblxuICAgIHZhciBvbGRGaWJlciA9IGN1cnJlbnRGaXJzdENoaWxkO1xuICAgIHZhciBsYXN0UGxhY2VkSW5kZXggPSAwO1xuICAgIHZhciBuZXdJZHggPSAwO1xuICAgIHZhciBuZXh0T2xkRmliZXIgPSBudWxsO1xuICAgIGZvciAoOyBvbGRGaWJlciAhPT0gbnVsbCAmJiBuZXdJZHggPCBuZXdDaGlsZHJlbi5sZW5ndGg7IG5ld0lkeCsrKSB7XG4gICAgICBpZiAob2xkRmliZXIuaW5kZXggPiBuZXdJZHgpIHtcbiAgICAgICAgbmV4dE9sZEZpYmVyID0gb2xkRmliZXI7XG4gICAgICAgIG9sZEZpYmVyID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRPbGRGaWJlciA9IG9sZEZpYmVyLnNpYmxpbmc7XG4gICAgICB9XG4gICAgICB2YXIgbmV3RmliZXIgPSB1cGRhdGVTbG90KHJldHVybkZpYmVyLCBvbGRGaWJlciwgbmV3Q2hpbGRyZW5bbmV3SWR4XSwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgaWYgKG5ld0ZpYmVyID09PSBudWxsKSB7XG4gICAgICAgIC8vIFRPRE86IFRoaXMgYnJlYWtzIG9uIGVtcHR5IHNsb3RzIGxpa2UgbnVsbCBjaGlsZHJlbi4gVGhhdCdzXG4gICAgICAgIC8vIHVuZm9ydHVuYXRlIGJlY2F1c2UgaXQgdHJpZ2dlcnMgdGhlIHNsb3cgcGF0aCBhbGwgdGhlIHRpbWUuIFdlIG5lZWRcbiAgICAgICAgLy8gYSBiZXR0ZXIgd2F5IHRvIGNvbW11bmljYXRlIHdoZXRoZXIgdGhpcyB3YXMgYSBtaXNzIG9yIG51bGwsXG4gICAgICAgIC8vIGJvb2xlYW4sIHVuZGVmaW5lZCwgZXRjLlxuICAgICAgICBpZiAob2xkRmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgICBvbGRGaWJlciA9IG5leHRPbGRGaWJlcjtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChzaG91bGRUcmFja1NpZGVFZmZlY3RzKSB7XG4gICAgICAgIGlmIChvbGRGaWJlciAmJiBuZXdGaWJlci5hbHRlcm5hdGUgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBXZSBtYXRjaGVkIHRoZSBzbG90LCBidXQgd2UgZGlkbid0IHJldXNlIHRoZSBleGlzdGluZyBmaWJlciwgc28gd2VcbiAgICAgICAgICAvLyBuZWVkIHRvIGRlbGV0ZSB0aGUgZXhpc3RpbmcgY2hpbGQuXG4gICAgICAgICAgZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIG9sZEZpYmVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGFzdFBsYWNlZEluZGV4ID0gcGxhY2VDaGlsZChuZXdGaWJlciwgbGFzdFBsYWNlZEluZGV4LCBuZXdJZHgpO1xuICAgICAgaWYgKHByZXZpb3VzTmV3RmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgLy8gVE9ETzogTW92ZSBvdXQgb2YgdGhlIGxvb3AuIFRoaXMgb25seSBoYXBwZW5zIGZvciB0aGUgZmlyc3QgcnVuLlxuICAgICAgICByZXN1bHRpbmdGaXJzdENoaWxkID0gbmV3RmliZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUT0RPOiBEZWZlciBzaWJsaW5ncyBpZiB3ZSdyZSBub3QgYXQgdGhlIHJpZ2h0IGluZGV4IGZvciB0aGlzIHNsb3QuXG4gICAgICAgIC8vIEkuZS4gaWYgd2UgaGFkIG51bGwgdmFsdWVzIGJlZm9yZSwgdGhlbiB3ZSB3YW50IHRvIGRlZmVyIHRoaXNcbiAgICAgICAgLy8gZm9yIGVhY2ggbnVsbCB2YWx1ZS4gSG93ZXZlciwgd2UgYWxzbyBkb24ndCB3YW50IHRvIGNhbGwgdXBkYXRlU2xvdFxuICAgICAgICAvLyB3aXRoIHRoZSBwcmV2aW91cyBvbmUuXG4gICAgICAgIHByZXZpb3VzTmV3RmliZXIuc2libGluZyA9IG5ld0ZpYmVyO1xuICAgICAgfVxuICAgICAgcHJldmlvdXNOZXdGaWJlciA9IG5ld0ZpYmVyO1xuICAgICAgb2xkRmliZXIgPSBuZXh0T2xkRmliZXI7XG4gICAgfVxuXG4gICAgaWYgKG5ld0lkeCA9PT0gbmV3Q2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAvLyBXZSd2ZSByZWFjaGVkIHRoZSBlbmQgb2YgdGhlIG5ldyBjaGlsZHJlbi4gV2UgY2FuIGRlbGV0ZSB0aGUgcmVzdC5cbiAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBvbGRGaWJlcik7XG4gICAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICBpZiAob2xkRmliZXIgPT09IG51bGwpIHtcbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW55IG1vcmUgZXhpc3RpbmcgY2hpbGRyZW4gd2UgY2FuIGNob29zZSBhIGZhc3QgcGF0aFxuICAgICAgLy8gc2luY2UgdGhlIHJlc3Qgd2lsbCBhbGwgYmUgaW5zZXJ0aW9ucy5cbiAgICAgIGZvciAoOyBuZXdJZHggPCBuZXdDaGlsZHJlbi5sZW5ndGg7IG5ld0lkeCsrKSB7XG4gICAgICAgIHZhciBfbmV3RmliZXIgPSBjcmVhdGVDaGlsZChyZXR1cm5GaWJlciwgbmV3Q2hpbGRyZW5bbmV3SWR4XSwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICBpZiAoIV9uZXdGaWJlcikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RQbGFjZWRJbmRleCA9IHBsYWNlQ2hpbGQoX25ld0ZpYmVyLCBsYXN0UGxhY2VkSW5kZXgsIG5ld0lkeCk7XG4gICAgICAgIGlmIChwcmV2aW91c05ld0ZpYmVyID09PSBudWxsKSB7XG4gICAgICAgICAgLy8gVE9ETzogTW92ZSBvdXQgb2YgdGhlIGxvb3AuIFRoaXMgb25seSBoYXBwZW5zIGZvciB0aGUgZmlyc3QgcnVuLlxuICAgICAgICAgIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBfbmV3RmliZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gX25ld0ZpYmVyO1xuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzTmV3RmliZXIgPSBfbmV3RmliZXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICAvLyBBZGQgYWxsIGNoaWxkcmVuIHRvIGEga2V5IG1hcCBmb3IgcXVpY2sgbG9va3Vwcy5cbiAgICB2YXIgZXhpc3RpbmdDaGlsZHJlbiA9IG1hcFJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBvbGRGaWJlcik7XG5cbiAgICAvLyBLZWVwIHNjYW5uaW5nIGFuZCB1c2UgdGhlIG1hcCB0byByZXN0b3JlIGRlbGV0ZWQgaXRlbXMgYXMgbW92ZXMuXG4gICAgZm9yICg7IG5ld0lkeCA8IG5ld0NoaWxkcmVuLmxlbmd0aDsgbmV3SWR4KyspIHtcbiAgICAgIHZhciBfbmV3RmliZXIyID0gdXBkYXRlRnJvbU1hcChleGlzdGluZ0NoaWxkcmVuLCByZXR1cm5GaWJlciwgbmV3SWR4LCBuZXdDaGlsZHJlbltuZXdJZHhdLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBpZiAoX25ld0ZpYmVyMikge1xuICAgICAgICBpZiAoc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykge1xuICAgICAgICAgIGlmIChfbmV3RmliZXIyLmFsdGVybmF0ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gVGhlIG5ldyBmaWJlciBpcyBhIHdvcmsgaW4gcHJvZ3Jlc3MsIGJ1dCBpZiB0aGVyZSBleGlzdHMgYVxuICAgICAgICAgICAgLy8gY3VycmVudCwgdGhhdCBtZWFucyB0aGF0IHdlIHJldXNlZCB0aGUgZmliZXIuIFdlIG5lZWQgdG8gZGVsZXRlXG4gICAgICAgICAgICAvLyBpdCBmcm9tIHRoZSBjaGlsZCBsaXN0IHNvIHRoYXQgd2UgZG9uJ3QgYWRkIGl0IHRvIHRoZSBkZWxldGlvblxuICAgICAgICAgICAgLy8gbGlzdC5cbiAgICAgICAgICAgIGV4aXN0aW5nQ2hpbGRyZW5bJ2RlbGV0ZSddKF9uZXdGaWJlcjIua2V5ID09PSBudWxsID8gbmV3SWR4IDogX25ld0ZpYmVyMi5rZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsYXN0UGxhY2VkSW5kZXggPSBwbGFjZUNoaWxkKF9uZXdGaWJlcjIsIGxhc3RQbGFjZWRJbmRleCwgbmV3SWR4KTtcbiAgICAgICAgaWYgKHByZXZpb3VzTmV3RmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgICByZXN1bHRpbmdGaXJzdENoaWxkID0gX25ld0ZpYmVyMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcmV2aW91c05ld0ZpYmVyLnNpYmxpbmcgPSBfbmV3RmliZXIyO1xuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzTmV3RmliZXIgPSBfbmV3RmliZXIyO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzaG91bGRUcmFja1NpZGVFZmZlY3RzKSB7XG4gICAgICAvLyBBbnkgZXhpc3RpbmcgY2hpbGRyZW4gdGhhdCB3ZXJlbid0IGNvbnN1bWVkIGFib3ZlIHdlcmUgZGVsZXRlZC4gV2UgbmVlZFxuICAgICAgLy8gdG8gYWRkIHRoZW0gdG8gdGhlIGRlbGV0aW9uIGxpc3QuXG4gICAgICBleGlzdGluZ0NoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIHJldHVybiBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgY2hpbGQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdGluZ0ZpcnN0Q2hpbGQ7XG4gIH1cblxuICBmdW5jdGlvbiByZWNvbmNpbGVDaGlsZHJlbkl0ZXJhdG9yKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCwgbmV3Q2hpbGRyZW5JdGVyYWJsZSwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICAvLyBUaGlzIGlzIHRoZSBzYW1lIGltcGxlbWVudGF0aW9uIGFzIHJlY29uY2lsZUNoaWxkcmVuQXJyYXkoKSxcbiAgICAvLyBidXQgdXNpbmcgdGhlIGl0ZXJhdG9yIGluc3RlYWQuXG5cbiAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obmV3Q2hpbGRyZW5JdGVyYWJsZSk7XG4gICAgISh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykgPyBpbnZhcmlhbnQoZmFsc2UsICdBbiBvYmplY3QgaXMgbm90IGFuIGl0ZXJhYmxlLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuXG4gICAge1xuICAgICAgLy8gV2FybiBhYm91dCB1c2luZyBNYXBzIGFzIGNoaWxkcmVuXG4gICAgICBpZiAodHlwZW9mIG5ld0NoaWxkcmVuSXRlcmFibGUuZW50cmllcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YXIgcG9zc2libGVNYXAgPSBuZXdDaGlsZHJlbkl0ZXJhYmxlO1xuICAgICAgICBpZiAocG9zc2libGVNYXAuZW50cmllcyA9PT0gaXRlcmF0b3JGbikge1xuICAgICAgICAgIHdhcm5pbmcoZGlkV2FybkFib3V0TWFwcywgJ1VzaW5nIE1hcHMgYXMgY2hpbGRyZW4gaXMgdW5zdXBwb3J0ZWQgYW5kIHdpbGwgbGlrZWx5IHlpZWxkICcgKyAndW5leHBlY3RlZCByZXN1bHRzLiBDb252ZXJ0IGl0IHRvIGEgc2VxdWVuY2UvaXRlcmFibGUgb2Yga2V5ZWQgJyArICdSZWFjdEVsZW1lbnRzIGluc3RlYWQuJXMnLCBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDIoKSk7XG4gICAgICAgICAgZGlkV2FybkFib3V0TWFwcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gRmlyc3QsIHZhbGlkYXRlIGtleXMuXG4gICAgICAvLyBXZSdsbCBnZXQgYSBkaWZmZXJlbnQgaXRlcmF0b3IgbGF0ZXIgZm9yIHRoZSBtYWluIHBhc3MuXG4gICAgICB2YXIgX25ld0NoaWxkcmVuID0gaXRlcmF0b3JGbi5jYWxsKG5ld0NoaWxkcmVuSXRlcmFibGUpO1xuICAgICAgaWYgKF9uZXdDaGlsZHJlbikge1xuICAgICAgICB2YXIga25vd25LZXlzID0gbnVsbDtcbiAgICAgICAgdmFyIF9zdGVwID0gX25ld0NoaWxkcmVuLm5leHQoKTtcbiAgICAgICAgZm9yICg7ICFfc3RlcC5kb25lOyBfc3RlcCA9IF9uZXdDaGlsZHJlbi5uZXh0KCkpIHtcbiAgICAgICAgICB2YXIgY2hpbGQgPSBfc3RlcC52YWx1ZTtcbiAgICAgICAgICBrbm93bktleXMgPSB3YXJuT25JbnZhbGlkS2V5KGNoaWxkLCBrbm93bktleXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG5ld0NoaWxkcmVuID0gaXRlcmF0b3JGbi5jYWxsKG5ld0NoaWxkcmVuSXRlcmFibGUpO1xuICAgICEobmV3Q2hpbGRyZW4gIT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdBbiBpdGVyYWJsZSBvYmplY3QgcHJvdmlkZWQgbm8gaXRlcmF0b3IuJykgOiB2b2lkIDA7XG5cbiAgICB2YXIgcmVzdWx0aW5nRmlyc3RDaGlsZCA9IG51bGw7XG4gICAgdmFyIHByZXZpb3VzTmV3RmliZXIgPSBudWxsO1xuXG4gICAgdmFyIG9sZEZpYmVyID0gY3VycmVudEZpcnN0Q2hpbGQ7XG4gICAgdmFyIGxhc3RQbGFjZWRJbmRleCA9IDA7XG4gICAgdmFyIG5ld0lkeCA9IDA7XG4gICAgdmFyIG5leHRPbGRGaWJlciA9IG51bGw7XG5cbiAgICB2YXIgc3RlcCA9IG5ld0NoaWxkcmVuLm5leHQoKTtcbiAgICBmb3IgKDsgb2xkRmliZXIgIT09IG51bGwgJiYgIXN0ZXAuZG9uZTsgbmV3SWR4KyssIHN0ZXAgPSBuZXdDaGlsZHJlbi5uZXh0KCkpIHtcbiAgICAgIGlmIChvbGRGaWJlci5pbmRleCA+IG5ld0lkeCkge1xuICAgICAgICBuZXh0T2xkRmliZXIgPSBvbGRGaWJlcjtcbiAgICAgICAgb2xkRmliZXIgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dE9sZEZpYmVyID0gb2xkRmliZXIuc2libGluZztcbiAgICAgIH1cbiAgICAgIHZhciBuZXdGaWJlciA9IHVwZGF0ZVNsb3QocmV0dXJuRmliZXIsIG9sZEZpYmVyLCBzdGVwLnZhbHVlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBpZiAobmV3RmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgLy8gVE9ETzogVGhpcyBicmVha3Mgb24gZW1wdHkgc2xvdHMgbGlrZSBudWxsIGNoaWxkcmVuLiBUaGF0J3NcbiAgICAgICAgLy8gdW5mb3J0dW5hdGUgYmVjYXVzZSBpdCB0cmlnZ2VycyB0aGUgc2xvdyBwYXRoIGFsbCB0aGUgdGltZS4gV2UgbmVlZFxuICAgICAgICAvLyBhIGJldHRlciB3YXkgdG8gY29tbXVuaWNhdGUgd2hldGhlciB0aGlzIHdhcyBhIG1pc3Mgb3IgbnVsbCxcbiAgICAgICAgLy8gYm9vbGVhbiwgdW5kZWZpbmVkLCBldGMuXG4gICAgICAgIGlmICghb2xkRmliZXIpIHtcbiAgICAgICAgICBvbGRGaWJlciA9IG5leHRPbGRGaWJlcjtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChzaG91bGRUcmFja1NpZGVFZmZlY3RzKSB7XG4gICAgICAgIGlmIChvbGRGaWJlciAmJiBuZXdGaWJlci5hbHRlcm5hdGUgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBXZSBtYXRjaGVkIHRoZSBzbG90LCBidXQgd2UgZGlkbid0IHJldXNlIHRoZSBleGlzdGluZyBmaWJlciwgc28gd2VcbiAgICAgICAgICAvLyBuZWVkIHRvIGRlbGV0ZSB0aGUgZXhpc3RpbmcgY2hpbGQuXG4gICAgICAgICAgZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIG9sZEZpYmVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGFzdFBsYWNlZEluZGV4ID0gcGxhY2VDaGlsZChuZXdGaWJlciwgbGFzdFBsYWNlZEluZGV4LCBuZXdJZHgpO1xuICAgICAgaWYgKHByZXZpb3VzTmV3RmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgLy8gVE9ETzogTW92ZSBvdXQgb2YgdGhlIGxvb3AuIFRoaXMgb25seSBoYXBwZW5zIGZvciB0aGUgZmlyc3QgcnVuLlxuICAgICAgICByZXN1bHRpbmdGaXJzdENoaWxkID0gbmV3RmliZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUT0RPOiBEZWZlciBzaWJsaW5ncyBpZiB3ZSdyZSBub3QgYXQgdGhlIHJpZ2h0IGluZGV4IGZvciB0aGlzIHNsb3QuXG4gICAgICAgIC8vIEkuZS4gaWYgd2UgaGFkIG51bGwgdmFsdWVzIGJlZm9yZSwgdGhlbiB3ZSB3YW50IHRvIGRlZmVyIHRoaXNcbiAgICAgICAgLy8gZm9yIGVhY2ggbnVsbCB2YWx1ZS4gSG93ZXZlciwgd2UgYWxzbyBkb24ndCB3YW50IHRvIGNhbGwgdXBkYXRlU2xvdFxuICAgICAgICAvLyB3aXRoIHRoZSBwcmV2aW91cyBvbmUuXG4gICAgICAgIHByZXZpb3VzTmV3RmliZXIuc2libGluZyA9IG5ld0ZpYmVyO1xuICAgICAgfVxuICAgICAgcHJldmlvdXNOZXdGaWJlciA9IG5ld0ZpYmVyO1xuICAgICAgb2xkRmliZXIgPSBuZXh0T2xkRmliZXI7XG4gICAgfVxuXG4gICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgLy8gV2UndmUgcmVhY2hlZCB0aGUgZW5kIG9mIHRoZSBuZXcgY2hpbGRyZW4uIFdlIGNhbiBkZWxldGUgdGhlIHJlc3QuXG4gICAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgb2xkRmliZXIpO1xuICAgICAgcmV0dXJuIHJlc3VsdGluZ0ZpcnN0Q2hpbGQ7XG4gICAgfVxuXG4gICAgaWYgKG9sZEZpYmVyID09PSBudWxsKSB7XG4gICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFueSBtb3JlIGV4aXN0aW5nIGNoaWxkcmVuIHdlIGNhbiBjaG9vc2UgYSBmYXN0IHBhdGhcbiAgICAgIC8vIHNpbmNlIHRoZSByZXN0IHdpbGwgYWxsIGJlIGluc2VydGlvbnMuXG4gICAgICBmb3IgKDsgIXN0ZXAuZG9uZTsgbmV3SWR4KyssIHN0ZXAgPSBuZXdDaGlsZHJlbi5uZXh0KCkpIHtcbiAgICAgICAgdmFyIF9uZXdGaWJlcjMgPSBjcmVhdGVDaGlsZChyZXR1cm5GaWJlciwgc3RlcC52YWx1ZSwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICBpZiAoX25ld0ZpYmVyMyA9PT0gbnVsbCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RQbGFjZWRJbmRleCA9IHBsYWNlQ2hpbGQoX25ld0ZpYmVyMywgbGFzdFBsYWNlZEluZGV4LCBuZXdJZHgpO1xuICAgICAgICBpZiAocHJldmlvdXNOZXdGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIFRPRE86IE1vdmUgb3V0IG9mIHRoZSBsb29wLiBUaGlzIG9ubHkgaGFwcGVucyBmb3IgdGhlIGZpcnN0IHJ1bi5cbiAgICAgICAgICByZXN1bHRpbmdGaXJzdENoaWxkID0gX25ld0ZpYmVyMztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcmV2aW91c05ld0ZpYmVyLnNpYmxpbmcgPSBfbmV3RmliZXIzO1xuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzTmV3RmliZXIgPSBfbmV3RmliZXIzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdGluZ0ZpcnN0Q2hpbGQ7XG4gICAgfVxuXG4gICAgLy8gQWRkIGFsbCBjaGlsZHJlbiB0byBhIGtleSBtYXAgZm9yIHF1aWNrIGxvb2t1cHMuXG4gICAgdmFyIGV4aXN0aW5nQ2hpbGRyZW4gPSBtYXBSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgb2xkRmliZXIpO1xuXG4gICAgLy8gS2VlcCBzY2FubmluZyBhbmQgdXNlIHRoZSBtYXAgdG8gcmVzdG9yZSBkZWxldGVkIGl0ZW1zIGFzIG1vdmVzLlxuICAgIGZvciAoOyAhc3RlcC5kb25lOyBuZXdJZHgrKywgc3RlcCA9IG5ld0NoaWxkcmVuLm5leHQoKSkge1xuICAgICAgdmFyIF9uZXdGaWJlcjQgPSB1cGRhdGVGcm9tTWFwKGV4aXN0aW5nQ2hpbGRyZW4sIHJldHVybkZpYmVyLCBuZXdJZHgsIHN0ZXAudmFsdWUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGlmIChfbmV3RmliZXI0ICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChzaG91bGRUcmFja1NpZGVFZmZlY3RzKSB7XG4gICAgICAgICAgaWYgKF9uZXdGaWJlcjQuYWx0ZXJuYXRlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBUaGUgbmV3IGZpYmVyIGlzIGEgd29yayBpbiBwcm9ncmVzcywgYnV0IGlmIHRoZXJlIGV4aXN0cyBhXG4gICAgICAgICAgICAvLyBjdXJyZW50LCB0aGF0IG1lYW5zIHRoYXQgd2UgcmV1c2VkIHRoZSBmaWJlci4gV2UgbmVlZCB0byBkZWxldGVcbiAgICAgICAgICAgIC8vIGl0IGZyb20gdGhlIGNoaWxkIGxpc3Qgc28gdGhhdCB3ZSBkb24ndCBhZGQgaXQgdG8gdGhlIGRlbGV0aW9uXG4gICAgICAgICAgICAvLyBsaXN0LlxuICAgICAgICAgICAgZXhpc3RpbmdDaGlsZHJlblsnZGVsZXRlJ10oX25ld0ZpYmVyNC5rZXkgPT09IG51bGwgPyBuZXdJZHggOiBfbmV3RmliZXI0LmtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxhc3RQbGFjZWRJbmRleCA9IHBsYWNlQ2hpbGQoX25ld0ZpYmVyNCwgbGFzdFBsYWNlZEluZGV4LCBuZXdJZHgpO1xuICAgICAgICBpZiAocHJldmlvdXNOZXdGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAgIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBfbmV3RmliZXI0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByZXZpb3VzTmV3RmliZXIuc2libGluZyA9IF9uZXdGaWJlcjQ7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXNOZXdGaWJlciA9IF9uZXdGaWJlcjQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgIC8vIEFueSBleGlzdGluZyBjaGlsZHJlbiB0aGF0IHdlcmVuJ3QgY29uc3VtZWQgYWJvdmUgd2VyZSBkZWxldGVkLiBXZSBuZWVkXG4gICAgICAvLyB0byBhZGQgdGhlbSB0byB0aGUgZGVsZXRpb24gbGlzdC5cbiAgICAgIGV4aXN0aW5nQ2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBjaGlsZCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY29uY2lsZVNpbmdsZVRleHROb2RlKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCwgdGV4dENvbnRlbnQsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgLy8gVGhlcmUncyBubyBuZWVkIHRvIGNoZWNrIGZvciBrZXlzIG9uIHRleHQgbm9kZXMgc2luY2Ugd2UgZG9uJ3QgaGF2ZSBhXG4gICAgLy8gd2F5IHRvIGRlZmluZSB0aGVtLlxuICAgIGlmIChjdXJyZW50Rmlyc3RDaGlsZCAhPT0gbnVsbCAmJiBjdXJyZW50Rmlyc3RDaGlsZC50YWcgPT09IEhvc3RUZXh0KSB7XG4gICAgICAvLyBXZSBhbHJlYWR5IGhhdmUgYW4gZXhpc3Rpbmcgbm9kZSBzbyBsZXQncyBqdXN0IHVwZGF0ZSBpdCBhbmQgZGVsZXRlXG4gICAgICAvLyB0aGUgcmVzdC5cbiAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZC5zaWJsaW5nKTtcbiAgICAgIHZhciBleGlzdGluZyA9IHVzZUZpYmVyKGN1cnJlbnRGaXJzdENoaWxkLCB0ZXh0Q29udGVudCwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgZXhpc3RpbmdbJ3JldHVybiddID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgfVxuICAgIC8vIFRoZSBleGlzdGluZyBmaXJzdCBjaGlsZCBpcyBub3QgYSB0ZXh0IG5vZGUgc28gd2UgbmVlZCB0byBjcmVhdGUgb25lXG4gICAgLy8gYW5kIGRlbGV0ZSB0aGUgZXhpc3Rpbmcgb25lcy5cbiAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQpO1xuICAgIHZhciBjcmVhdGVkID0gY3JlYXRlRmliZXJGcm9tVGV4dCh0ZXh0Q29udGVudCwgcmV0dXJuRmliZXIubW9kZSwgZXhwaXJhdGlvblRpbWUpO1xuICAgIGNyZWF0ZWRbJ3JldHVybiddID0gcmV0dXJuRmliZXI7XG4gICAgcmV0dXJuIGNyZWF0ZWQ7XG4gIH1cblxuICBmdW5jdGlvbiByZWNvbmNpbGVTaW5nbGVFbGVtZW50KHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCwgZWxlbWVudCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICB2YXIga2V5ID0gZWxlbWVudC5rZXk7XG4gICAgdmFyIGNoaWxkID0gY3VycmVudEZpcnN0Q2hpbGQ7XG4gICAgd2hpbGUgKGNoaWxkICE9PSBudWxsKSB7XG4gICAgICAvLyBUT0RPOiBJZiBrZXkgPT09IG51bGwgYW5kIGNoaWxkLmtleSA9PT0gbnVsbCwgdGhlbiB0aGlzIG9ubHkgYXBwbGllcyB0b1xuICAgICAgLy8gdGhlIGZpcnN0IGl0ZW0gaW4gdGhlIGxpc3QuXG4gICAgICBpZiAoY2hpbGQua2V5ID09PSBrZXkpIHtcbiAgICAgICAgaWYgKGNoaWxkLnRhZyA9PT0gRnJhZ21lbnQgPyBlbGVtZW50LnR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUgOiBjaGlsZC50eXBlID09PSBlbGVtZW50LnR5cGUpIHtcbiAgICAgICAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY2hpbGQuc2libGluZyk7XG4gICAgICAgICAgdmFyIGV4aXN0aW5nID0gdXNlRmliZXIoY2hpbGQsIGVsZW1lbnQudHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSA/IGVsZW1lbnQucHJvcHMuY2hpbGRyZW4gOiBlbGVtZW50LnByb3BzLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgICAgZXhpc3RpbmcucmVmID0gY29lcmNlUmVmKHJldHVybkZpYmVyLCBjaGlsZCwgZWxlbWVudCk7XG4gICAgICAgICAgZXhpc3RpbmdbJ3JldHVybiddID0gcmV0dXJuRmliZXI7XG4gICAgICAgICAge1xuICAgICAgICAgICAgZXhpc3RpbmcuX2RlYnVnU291cmNlID0gZWxlbWVudC5fc291cmNlO1xuICAgICAgICAgICAgZXhpc3RpbmcuX2RlYnVnT3duZXIgPSBlbGVtZW50Ll9vd25lcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGV4aXN0aW5nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjaGlsZCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBjaGlsZCk7XG4gICAgICB9XG4gICAgICBjaGlsZCA9IGNoaWxkLnNpYmxpbmc7XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnQudHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSkge1xuICAgICAgdmFyIGNyZWF0ZWQgPSBjcmVhdGVGaWJlckZyb21GcmFnbWVudChlbGVtZW50LnByb3BzLmNoaWxkcmVuLCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSwgZWxlbWVudC5rZXkpO1xuICAgICAgY3JlYXRlZFsncmV0dXJuJ10gPSByZXR1cm5GaWJlcjtcbiAgICAgIHJldHVybiBjcmVhdGVkO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgX2NyZWF0ZWQ0ID0gY3JlYXRlRmliZXJGcm9tRWxlbWVudChlbGVtZW50LCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBfY3JlYXRlZDQucmVmID0gY29lcmNlUmVmKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCwgZWxlbWVudCk7XG4gICAgICBfY3JlYXRlZDRbJ3JldHVybiddID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gX2NyZWF0ZWQ0O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY29uY2lsZVNpbmdsZVBvcnRhbChyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQsIHBvcnRhbCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICB2YXIga2V5ID0gcG9ydGFsLmtleTtcbiAgICB2YXIgY2hpbGQgPSBjdXJyZW50Rmlyc3RDaGlsZDtcbiAgICB3aGlsZSAoY2hpbGQgIT09IG51bGwpIHtcbiAgICAgIC8vIFRPRE86IElmIGtleSA9PT0gbnVsbCBhbmQgY2hpbGQua2V5ID09PSBudWxsLCB0aGVuIHRoaXMgb25seSBhcHBsaWVzIHRvXG4gICAgICAvLyB0aGUgZmlyc3QgaXRlbSBpbiB0aGUgbGlzdC5cbiAgICAgIGlmIChjaGlsZC5rZXkgPT09IGtleSkge1xuICAgICAgICBpZiAoY2hpbGQudGFnID09PSBIb3N0UG9ydGFsICYmIGNoaWxkLnN0YXRlTm9kZS5jb250YWluZXJJbmZvID09PSBwb3J0YWwuY29udGFpbmVySW5mbyAmJiBjaGlsZC5zdGF0ZU5vZGUuaW1wbGVtZW50YXRpb24gPT09IHBvcnRhbC5pbXBsZW1lbnRhdGlvbikge1xuICAgICAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjaGlsZC5zaWJsaW5nKTtcbiAgICAgICAgICB2YXIgZXhpc3RpbmcgPSB1c2VGaWJlcihjaGlsZCwgcG9ydGFsLmNoaWxkcmVuIHx8IFtdLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgICAgZXhpc3RpbmdbJ3JldHVybiddID0gcmV0dXJuRmliZXI7XG4gICAgICAgICAgcmV0dXJuIGV4aXN0aW5nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjaGlsZCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBjaGlsZCk7XG4gICAgICB9XG4gICAgICBjaGlsZCA9IGNoaWxkLnNpYmxpbmc7XG4gICAgfVxuXG4gICAgdmFyIGNyZWF0ZWQgPSBjcmVhdGVGaWJlckZyb21Qb3J0YWwocG9ydGFsLCByZXR1cm5GaWJlci5tb2RlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgY3JlYXRlZFsncmV0dXJuJ10gPSByZXR1cm5GaWJlcjtcbiAgICByZXR1cm4gY3JlYXRlZDtcbiAgfVxuXG4gIC8vIFRoaXMgQVBJIHdpbGwgdGFnIHRoZSBjaGlsZHJlbiB3aXRoIHRoZSBzaWRlLWVmZmVjdCBvZiB0aGUgcmVjb25jaWxpYXRpb25cbiAgLy8gaXRzZWxmLiBUaGV5IHdpbGwgYmUgYWRkZWQgdG8gdGhlIHNpZGUtZWZmZWN0IGxpc3QgYXMgd2UgcGFzcyB0aHJvdWdoIHRoZVxuICAvLyBjaGlsZHJlbiBhbmQgdGhlIHBhcmVudC5cbiAgZnVuY3Rpb24gcmVjb25jaWxlQ2hpbGRGaWJlcnMocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGlzIG5vdCByZWN1cnNpdmUuXG4gICAgLy8gSWYgdGhlIHRvcCBsZXZlbCBpdGVtIGlzIGFuIGFycmF5LCB3ZSB0cmVhdCBpdCBhcyBhIHNldCBvZiBjaGlsZHJlbixcbiAgICAvLyBub3QgYXMgYSBmcmFnbWVudC4gTmVzdGVkIGFycmF5cyBvbiB0aGUgb3RoZXIgaGFuZCB3aWxsIGJlIHRyZWF0ZWQgYXNcbiAgICAvLyBmcmFnbWVudCBub2Rlcy4gUmVjdXJzaW9uIGhhcHBlbnMgYXQgdGhlIG5vcm1hbCBmbG93LlxuXG4gICAgLy8gSGFuZGxlIHRvcCBsZXZlbCB1bmtleWVkIGZyYWdtZW50cyBhcyBpZiB0aGV5IHdlcmUgYXJyYXlzLlxuICAgIC8vIFRoaXMgbGVhZHMgdG8gYW4gYW1iaWd1aXR5IGJldHdlZW4gPD57Wy4uLl19PC8+IGFuZCA8Pi4uLjwvPi5cbiAgICAvLyBXZSB0cmVhdCB0aGUgYW1iaWd1b3VzIGNhc2VzIGFib3ZlIHRoZSBzYW1lLlxuICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICdvYmplY3QnICYmIG5ld0NoaWxkICE9PSBudWxsICYmIG5ld0NoaWxkLnR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUgJiYgbmV3Q2hpbGQua2V5ID09PSBudWxsKSB7XG4gICAgICBuZXdDaGlsZCA9IG5ld0NoaWxkLnByb3BzLmNoaWxkcmVuO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBvYmplY3QgdHlwZXNcbiAgICB2YXIgaXNPYmplY3QgPSB0eXBlb2YgbmV3Q2hpbGQgPT09ICdvYmplY3QnICYmIG5ld0NoaWxkICE9PSBudWxsO1xuXG4gICAgaWYgKGlzT2JqZWN0KSB7XG4gICAgICBzd2l0Y2ggKG5ld0NoaWxkLiQkdHlwZW9mKSB7XG4gICAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBwbGFjZVNpbmdsZUNoaWxkKHJlY29uY2lsZVNpbmdsZUVsZW1lbnQocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpKTtcbiAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICByZXR1cm4gcGxhY2VTaW5nbGVDaGlsZChyZWNvbmNpbGVTaW5nbGVQb3J0YWwocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5ld0NoaWxkID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgbmV3Q2hpbGQgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gcGxhY2VTaW5nbGVDaGlsZChyZWNvbmNpbGVTaW5nbGVUZXh0Tm9kZShyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQsICcnICsgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKSk7XG4gICAgfVxuXG4gICAgaWYgKGlzQXJyYXkkMShuZXdDaGlsZCkpIHtcbiAgICAgIHJldHVybiByZWNvbmNpbGVDaGlsZHJlbkFycmF5KHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCwgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG5cbiAgICBpZiAoZ2V0SXRlcmF0b3JGbihuZXdDaGlsZCkpIHtcbiAgICAgIHJldHVybiByZWNvbmNpbGVDaGlsZHJlbkl0ZXJhdG9yKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCwgbmV3Q2hpbGQsIGV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG5cbiAgICBpZiAoaXNPYmplY3QpIHtcbiAgICAgIHRocm93T25JbnZhbGlkT2JqZWN0VHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgIH1cblxuICAgIHtcbiAgICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgd2Fybk9uRnVuY3Rpb25UeXBlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBJZiB0aGUgbmV3IGNoaWxkIGlzIHVuZGVmaW5lZCwgYW5kIHRoZSByZXR1cm4gZmliZXIgaXMgYSBjb21wb3NpdGVcbiAgICAgIC8vIGNvbXBvbmVudCwgdGhyb3cgYW4gZXJyb3IuIElmIEZpYmVyIHJldHVybiB0eXBlcyBhcmUgZGlzYWJsZWQsXG4gICAgICAvLyB3ZSBhbHJlYWR5IHRocmV3IGFib3ZlLlxuICAgICAgc3dpdGNoIChyZXR1cm5GaWJlci50YWcpIHtcbiAgICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAgICB7XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHJldHVybkZpYmVyLnN0YXRlTm9kZTtcbiAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLnJlbmRlci5faXNNb2NrRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBhbGxvdyBhdXRvLW1vY2tzIHRvIHByb2NlZWQgYXMgaWYgdGhleSdyZSByZXR1cm5pbmcgbnVsbC5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgLy8gSW50ZW50aW9uYWxseSBmYWxsIHRocm91Z2ggdG8gdGhlIG5leHQgY2FzZSwgd2hpY2ggaGFuZGxlcyBib3RoXG4gICAgICAgIC8vIGZ1bmN0aW9ucyBhbmQgY2xhc3Nlc1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVkIG5vLWZhbGx0aHJvdWdoXG4gICAgICAgIGNhc2UgRnVuY3Rpb25hbENvbXBvbmVudDpcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YXIgQ29tcG9uZW50ID0gcmV0dXJuRmliZXIudHlwZTtcbiAgICAgICAgICAgIGludmFyaWFudChmYWxzZSwgJyVzKC4uLik6IE5vdGhpbmcgd2FzIHJldHVybmVkIGZyb20gcmVuZGVyLiBUaGlzIHVzdWFsbHkgbWVhbnMgYSByZXR1cm4gc3RhdGVtZW50IGlzIG1pc3NpbmcuIE9yLCB0byByZW5kZXIgbm90aGluZywgcmV0dXJuIG51bGwuJywgQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVtYWluaW5nIGNhc2VzIGFyZSBhbGwgdHJlYXRlZCBhcyBlbXB0eS5cbiAgICByZXR1cm4gZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkKTtcbiAgfVxuXG4gIHJldHVybiByZWNvbmNpbGVDaGlsZEZpYmVycztcbn1cblxudmFyIHJlY29uY2lsZUNoaWxkRmliZXJzID0gQ2hpbGRSZWNvbmNpbGVyKHRydWUpO1xudmFyIG1vdW50Q2hpbGRGaWJlcnMgPSBDaGlsZFJlY29uY2lsZXIoZmFsc2UpO1xuXG5mdW5jdGlvbiBjbG9uZUNoaWxkRmliZXJzKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICEoY3VycmVudCA9PT0gbnVsbCB8fCB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9PT0gY3VycmVudC5jaGlsZCkgPyBpbnZhcmlhbnQoZmFsc2UsICdSZXN1bWluZyB3b3JrIG5vdCB5ZXQgaW1wbGVtZW50ZWQuJykgOiB2b2lkIDA7XG5cbiAgaWYgKHdvcmtJblByb2dyZXNzLmNoaWxkID09PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGN1cnJlbnRDaGlsZCA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICB2YXIgbmV3Q2hpbGQgPSBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhjdXJyZW50Q2hpbGQsIGN1cnJlbnRDaGlsZC5wZW5kaW5nUHJvcHMsIGN1cnJlbnRDaGlsZC5leHBpcmF0aW9uVGltZSk7XG4gIHdvcmtJblByb2dyZXNzLmNoaWxkID0gbmV3Q2hpbGQ7XG5cbiAgbmV3Q2hpbGRbJ3JldHVybiddID0gd29ya0luUHJvZ3Jlc3M7XG4gIHdoaWxlIChjdXJyZW50Q2hpbGQuc2libGluZyAhPT0gbnVsbCkge1xuICAgIGN1cnJlbnRDaGlsZCA9IGN1cnJlbnRDaGlsZC5zaWJsaW5nO1xuICAgIG5ld0NoaWxkID0gbmV3Q2hpbGQuc2libGluZyA9IGNyZWF0ZVdvcmtJblByb2dyZXNzKGN1cnJlbnRDaGlsZCwgY3VycmVudENoaWxkLnBlbmRpbmdQcm9wcywgY3VycmVudENoaWxkLmV4cGlyYXRpb25UaW1lKTtcbiAgICBuZXdDaGlsZFsncmV0dXJuJ10gPSB3b3JrSW5Qcm9ncmVzcztcbiAgfVxuICBuZXdDaGlsZC5zaWJsaW5nID0gbnVsbDtcbn1cblxudmFyIGRpZFdhcm5BYm91dEJhZENsYXNzID0gdm9pZCAwO1xudmFyIGRpZFdhcm5BYm91dEdldERlcml2ZWRTdGF0ZU9uRnVuY3Rpb25hbENvbXBvbmVudCA9IHZvaWQgMDtcbnZhciBkaWRXYXJuQWJvdXRTdGF0ZWxlc3NSZWZzID0gdm9pZCAwO1xuXG57XG4gIGRpZFdhcm5BYm91dEJhZENsYXNzID0ge307XG4gIGRpZFdhcm5BYm91dEdldERlcml2ZWRTdGF0ZU9uRnVuY3Rpb25hbENvbXBvbmVudCA9IHt9O1xuICBkaWRXYXJuQWJvdXRTdGF0ZWxlc3NSZWZzID0ge307XG59XG5cbnZhciBSZWFjdEZpYmVyQmVnaW5Xb3JrID0gZnVuY3Rpb24gKGNvbmZpZywgaG9zdENvbnRleHQsIGxlZ2FjeUNvbnRleHQsIG5ld0NvbnRleHQsIGh5ZHJhdGlvbkNvbnRleHQsIHNjaGVkdWxlV29yaywgY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlcikge1xuICB2YXIgc2hvdWxkU2V0VGV4dENvbnRlbnQgPSBjb25maWcuc2hvdWxkU2V0VGV4dENvbnRlbnQsXG4gICAgICBzaG91bGREZXByaW9yaXRpemVTdWJ0cmVlID0gY29uZmlnLnNob3VsZERlcHJpb3JpdGl6ZVN1YnRyZWU7XG4gIHZhciBwdXNoSG9zdENvbnRleHQgPSBob3N0Q29udGV4dC5wdXNoSG9zdENvbnRleHQsXG4gICAgICBwdXNoSG9zdENvbnRhaW5lciA9IGhvc3RDb250ZXh0LnB1c2hIb3N0Q29udGFpbmVyO1xuICB2YXIgcHVzaFByb3ZpZGVyID0gbmV3Q29udGV4dC5wdXNoUHJvdmlkZXI7XG4gIHZhciBnZXRNYXNrZWRDb250ZXh0ID0gbGVnYWN5Q29udGV4dC5nZXRNYXNrZWRDb250ZXh0LFxuICAgICAgZ2V0VW5tYXNrZWRDb250ZXh0ID0gbGVnYWN5Q29udGV4dC5nZXRVbm1hc2tlZENvbnRleHQsXG4gICAgICBoYXNMZWdhY3lDb250ZXh0Q2hhbmdlZCA9IGxlZ2FjeUNvbnRleHQuaGFzQ29udGV4dENoYW5nZWQsXG4gICAgICBwdXNoTGVnYWN5Q29udGV4dFByb3ZpZGVyID0gbGVnYWN5Q29udGV4dC5wdXNoQ29udGV4dFByb3ZpZGVyLFxuICAgICAgcHVzaFRvcExldmVsQ29udGV4dE9iamVjdCA9IGxlZ2FjeUNvbnRleHQucHVzaFRvcExldmVsQ29udGV4dE9iamVjdCxcbiAgICAgIGludmFsaWRhdGVDb250ZXh0UHJvdmlkZXIgPSBsZWdhY3lDb250ZXh0LmludmFsaWRhdGVDb250ZXh0UHJvdmlkZXI7XG4gIHZhciBlbnRlckh5ZHJhdGlvblN0YXRlID0gaHlkcmF0aW9uQ29udGV4dC5lbnRlckh5ZHJhdGlvblN0YXRlLFxuICAgICAgcmVzZXRIeWRyYXRpb25TdGF0ZSA9IGh5ZHJhdGlvbkNvbnRleHQucmVzZXRIeWRyYXRpb25TdGF0ZSxcbiAgICAgIHRyeVRvQ2xhaW1OZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gaHlkcmF0aW9uQ29udGV4dC50cnlUb0NsYWltTmV4dEh5ZHJhdGFibGVJbnN0YW5jZTtcblxuICB2YXIgX1JlYWN0RmliZXJDbGFzc0NvbXBvID0gUmVhY3RGaWJlckNsYXNzQ29tcG9uZW50KGxlZ2FjeUNvbnRleHQsIHNjaGVkdWxlV29yaywgY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlciwgbWVtb2l6ZVByb3BzLCBtZW1vaXplU3RhdGUpLFxuICAgICAgYWRvcHRDbGFzc0luc3RhbmNlID0gX1JlYWN0RmliZXJDbGFzc0NvbXBvLmFkb3B0Q2xhc3NJbnN0YW5jZSxcbiAgICAgIGNhbGxHZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBfUmVhY3RGaWJlckNsYXNzQ29tcG8uY2FsbEdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyxcbiAgICAgIGNvbnN0cnVjdENsYXNzSW5zdGFuY2UgPSBfUmVhY3RGaWJlckNsYXNzQ29tcG8uY29uc3RydWN0Q2xhc3NJbnN0YW5jZSxcbiAgICAgIG1vdW50Q2xhc3NJbnN0YW5jZSA9IF9SZWFjdEZpYmVyQ2xhc3NDb21wby5tb3VudENsYXNzSW5zdGFuY2UsXG4gICAgICByZXN1bWVNb3VudENsYXNzSW5zdGFuY2UgPSBfUmVhY3RGaWJlckNsYXNzQ29tcG8ucmVzdW1lTW91bnRDbGFzc0luc3RhbmNlLFxuICAgICAgdXBkYXRlQ2xhc3NJbnN0YW5jZSA9IF9SZWFjdEZpYmVyQ2xhc3NDb21wby51cGRhdGVDbGFzc0luc3RhbmNlO1xuXG4gIC8vIFRPRE86IFJlbW92ZSB0aGlzIGFuZCB1c2UgcmVjb25jaWxlQ2hpbGRyZW5BdEV4cGlyYXRpb25UaW1lIGRpcmVjdGx5LlxuXG5cbiAgZnVuY3Rpb24gcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbikge1xuICAgIHJlY29uY2lsZUNoaWxkcmVuQXRFeHBpcmF0aW9uVGltZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuLCB3b3JrSW5Qcm9ncmVzcy5leHBpcmF0aW9uVGltZSk7XG4gIH1cblxuICBmdW5jdGlvbiByZWNvbmNpbGVDaGlsZHJlbkF0RXhwaXJhdGlvblRpbWUoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbiwgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICBpZiAoY3VycmVudCA9PT0gbnVsbCkge1xuICAgICAgLy8gSWYgdGhpcyBpcyBhIGZyZXNoIG5ldyBjb21wb25lbnQgdGhhdCBoYXNuJ3QgYmVlbiByZW5kZXJlZCB5ZXQsIHdlXG4gICAgICAvLyB3b24ndCB1cGRhdGUgaXRzIGNoaWxkIHNldCBieSBhcHBseWluZyBtaW5pbWFsIHNpZGUtZWZmZWN0cy4gSW5zdGVhZCxcbiAgICAgIC8vIHdlIHdpbGwgYWRkIHRoZW0gYWxsIHRvIHRoZSBjaGlsZCBiZWZvcmUgaXQgZ2V0cyByZW5kZXJlZC4gVGhhdCBtZWFuc1xuICAgICAgLy8gd2UgY2FuIG9wdGltaXplIHRoaXMgcmVjb25jaWxpYXRpb24gcGFzcyBieSBub3QgdHJhY2tpbmcgc2lkZS1lZmZlY3RzLlxuICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBtb3VudENoaWxkRmliZXJzKHdvcmtJblByb2dyZXNzLCBudWxsLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgdGhlIGN1cnJlbnQgY2hpbGQgaXMgdGhlIHNhbWUgYXMgdGhlIHdvcmsgaW4gcHJvZ3Jlc3MsIGl0IG1lYW5zIHRoYXRcbiAgICAgIC8vIHdlIGhhdmVuJ3QgeWV0IHN0YXJ0ZWQgYW55IHdvcmsgb24gdGhlc2UgY2hpbGRyZW4uIFRoZXJlZm9yZSwgd2UgdXNlXG4gICAgICAvLyB0aGUgY2xvbmUgYWxnb3JpdGhtIHRvIGNyZWF0ZSBhIGNvcHkgb2YgYWxsIHRoZSBjdXJyZW50IGNoaWxkcmVuLlxuXG4gICAgICAvLyBJZiB3ZSBoYWQgYW55IHByb2dyZXNzZWQgd29yayBhbHJlYWR5LCB0aGF0IGlzIGludmFsaWQgYXQgdGhpcyBwb2ludCBzb1xuICAgICAgLy8gbGV0J3MgdGhyb3cgaXQgb3V0LlxuICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSByZWNvbmNpbGVDaGlsZEZpYmVycyh3b3JrSW5Qcm9ncmVzcywgY3VycmVudC5jaGlsZCwgbmV4dENoaWxkcmVuLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlRm9yd2FyZFJlZihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICAgIHZhciByZW5kZXIgPSB3b3JrSW5Qcm9ncmVzcy50eXBlLnJlbmRlcjtcbiAgICB2YXIgbmV4dENoaWxkcmVuID0gcmVuZGVyKHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcywgd29ya0luUHJvZ3Jlc3MucmVmKTtcbiAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKTtcbiAgICBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbik7XG4gICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlRnJhZ21lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpIHtcbiAgICB2YXIgbmV4dENoaWxkcmVuID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgIGlmIChoYXNMZWdhY3lDb250ZXh0Q2hhbmdlZCgpKSB7XG4gICAgICAvLyBOb3JtYWxseSB3ZSBjYW4gYmFpbCBvdXQgb24gcHJvcHMgZXF1YWxpdHkgYnV0IGlmIGNvbnRleHQgaGFzIGNoYW5nZWRcbiAgICAgIC8vIHdlIGRvbid0IGRvIHRoZSBiYWlsb3V0IGFuZCB3ZSBoYXZlIHRvIHJldXNlIGV4aXN0aW5nIHByb3BzIGluc3RlYWQuXG4gICAgfSBlbHNlIGlmICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID09PSBuZXh0Q2hpbGRyZW4pIHtcbiAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG4gICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbik7XG4gICAgbWVtb2l6ZVByb3BzKHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4pO1xuICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZU1vZGUoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpIHtcbiAgICB2YXIgbmV4dENoaWxkcmVuID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLmNoaWxkcmVuO1xuICAgIGlmIChoYXNMZWdhY3lDb250ZXh0Q2hhbmdlZCgpKSB7XG4gICAgICAvLyBOb3JtYWxseSB3ZSBjYW4gYmFpbCBvdXQgb24gcHJvcHMgZXF1YWxpdHkgYnV0IGlmIGNvbnRleHQgaGFzIGNoYW5nZWRcbiAgICAgIC8vIHdlIGRvbid0IGRvIHRoZSBiYWlsb3V0IGFuZCB3ZSBoYXZlIHRvIHJldXNlIGV4aXN0aW5nIHByb3BzIGluc3RlYWQuXG4gICAgfSBlbHNlIGlmIChuZXh0Q2hpbGRyZW4gPT09IG51bGwgfHwgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9PT0gbmV4dENoaWxkcmVuKSB7XG4gICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4pO1xuICAgIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKTtcbiAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gIH1cblxuICBmdW5jdGlvbiBtYXJrUmVmKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgdmFyIHJlZiA9IHdvcmtJblByb2dyZXNzLnJlZjtcbiAgICBpZiAoY3VycmVudCA9PT0gbnVsbCAmJiByZWYgIT09IG51bGwgfHwgY3VycmVudCAhPT0gbnVsbCAmJiBjdXJyZW50LnJlZiAhPT0gcmVmKSB7XG4gICAgICAvLyBTY2hlZHVsZSBhIFJlZiBlZmZlY3RcbiAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBSZWY7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlRnVuY3Rpb25hbENvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICAgIHZhciBmbiA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgdmFyIG5leHRQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcblxuICAgIGlmIChoYXNMZWdhY3lDb250ZXh0Q2hhbmdlZCgpKSB7XG4gICAgICAvLyBOb3JtYWxseSB3ZSBjYW4gYmFpbCBvdXQgb24gcHJvcHMgZXF1YWxpdHkgYnV0IGlmIGNvbnRleHQgaGFzIGNoYW5nZWRcbiAgICAgIC8vIHdlIGRvbid0IGRvIHRoZSBiYWlsb3V0IGFuZCB3ZSBoYXZlIHRvIHJldXNlIGV4aXN0aW5nIHByb3BzIGluc3RlYWQuXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID09PSBuZXh0UHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgfVxuICAgICAgLy8gVE9ETzogY29uc2lkZXIgYnJpbmdpbmcgZm4uc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkgYmFjay5cbiAgICAgIC8vIEl0IHVzZWQgdG8gYmUgaGVyZS5cbiAgICB9XG5cbiAgICB2YXIgdW5tYXNrZWRDb250ZXh0ID0gZ2V0VW5tYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICB2YXIgY29udGV4dCA9IGdldE1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MsIHVubWFza2VkQ29udGV4dCk7XG5cbiAgICB2YXIgbmV4dENoaWxkcmVuID0gdm9pZCAwO1xuXG4gICAge1xuICAgICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5zZXRDdXJyZW50UGhhc2UoJ3JlbmRlcicpO1xuICAgICAgbmV4dENoaWxkcmVuID0gZm4obmV4dFByb3BzLCBjb250ZXh0KTtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIuc2V0Q3VycmVudFBoYXNlKG51bGwpO1xuICAgIH1cbiAgICAvLyBSZWFjdCBEZXZUb29scyByZWFkcyB0aGlzIGZsYWcuXG4gICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFBlcmZvcm1lZFdvcms7XG4gICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbik7XG4gICAgbWVtb2l6ZVByb3BzKHdvcmtJblByb2dyZXNzLCBuZXh0UHJvcHMpO1xuICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUNsYXNzQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgIC8vIFB1c2ggY29udGV4dCBwcm92aWRlcnMgZWFybHkgdG8gcHJldmVudCBjb250ZXh0IHN0YWNrIG1pc21hdGNoZXMuXG4gICAgLy8gRHVyaW5nIG1vdW50aW5nIHdlIGRvbid0IGtub3cgdGhlIGNoaWxkIGNvbnRleHQgeWV0IGFzIHRoZSBpbnN0YW5jZSBkb2Vzbid0IGV4aXN0LlxuICAgIC8vIFdlIHdpbGwgaW52YWxpZGF0ZSB0aGUgY2hpbGQgY29udGV4dCBpbiBmaW5pc2hDbGFzc0NvbXBvbmVudCgpIHJpZ2h0IGFmdGVyIHJlbmRlcmluZy5cbiAgICB2YXIgaGFzQ29udGV4dCA9IHB1c2hMZWdhY3lDb250ZXh0UHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgIHZhciBzaG91bGRVcGRhdGUgPSB2b2lkIDA7XG4gICAgaWYgKGN1cnJlbnQgPT09IG51bGwpIHtcbiAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgLy8gSW4gdGhlIGluaXRpYWwgcGFzcyB3ZSBtaWdodCBuZWVkIHRvIGNvbnN0cnVjdCB0aGUgaW5zdGFuY2UuXG4gICAgICAgIGNvbnN0cnVjdENsYXNzSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyk7XG4gICAgICAgIG1vdW50Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuXG4gICAgICAgIHNob3VsZFVwZGF0ZSA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJbiBhIHJlc3VtZSwgd2UnbGwgYWxyZWFkeSBoYXZlIGFuIGluc3RhbmNlIHdlIGNhbiByZXVzZS5cbiAgICAgICAgc2hvdWxkVXBkYXRlID0gcmVzdW1lTW91bnRDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNob3VsZFVwZGF0ZSA9IHVwZGF0ZUNsYXNzSW5zdGFuY2UoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG5cbiAgICAvLyBXZSBwcm9jZXNzZWQgdGhlIHVwZGF0ZSBxdWV1ZSBpbnNpZGUgdXBkYXRlQ2xhc3NJbnN0YW5jZS4gSXQgbWF5IGhhdmVcbiAgICAvLyBpbmNsdWRlZCBzb21lIGVycm9ycyB0aGF0IHdlcmUgZGlzcGF0Y2hlZCBkdXJpbmcgdGhlIGNvbW1pdCBwaGFzZS5cbiAgICAvLyBUT0RPOiBSZWZhY3RvciBjbGFzcyBjb21wb25lbnRzIHNvIHRoaXMgaXMgbGVzcyBhd2t3YXJkLlxuICAgIHZhciBkaWRDYXB0dXJlRXJyb3IgPSBmYWxzZTtcbiAgICB2YXIgdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICBpZiAodXBkYXRlUXVldWUgIT09IG51bGwgJiYgdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgIT09IG51bGwpIHtcbiAgICAgIHNob3VsZFVwZGF0ZSA9IHRydWU7XG4gICAgICBkaWRDYXB0dXJlRXJyb3IgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmluaXNoQ2xhc3NDb21wb25lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHNob3VsZFVwZGF0ZSwgaGFzQ29udGV4dCwgZGlkQ2FwdHVyZUVycm9yLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gIH1cblxuICBmdW5jdGlvbiBmaW5pc2hDbGFzc0NvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgc2hvdWxkVXBkYXRlLCBoYXNDb250ZXh0LCBkaWRDYXB0dXJlRXJyb3IsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgLy8gUmVmcyBzaG91bGQgdXBkYXRlIGV2ZW4gaWYgc2hvdWxkQ29tcG9uZW50VXBkYXRlIHJldHVybnMgZmFsc2VcbiAgICBtYXJrUmVmKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcblxuICAgIGlmICghc2hvdWxkVXBkYXRlICYmICFkaWRDYXB0dXJlRXJyb3IpIHtcbiAgICAgIC8vIENvbnRleHQgcHJvdmlkZXJzIHNob3VsZCBkZWZlciB0byBzQ1UgZm9yIHJlbmRlcmluZ1xuICAgICAgaWYgKGhhc0NvbnRleHQpIHtcbiAgICAgICAgaW52YWxpZGF0ZUNvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgdmFyIGN0b3IgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgIHZhciBpbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcblxuICAgIC8vIFJlcmVuZGVyXG4gICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IHdvcmtJblByb2dyZXNzO1xuICAgIHZhciBuZXh0Q2hpbGRyZW4gPSB2b2lkIDA7XG4gICAgaWYgKGRpZENhcHR1cmVFcnJvciAmJiAoIWVuYWJsZUdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCB8fCB0eXBlb2YgY3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggIT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAvLyBJZiB3ZSBjYXB0dXJlZCBhbiBlcnJvciwgYnV0IGdldERlcml2ZWRTdGF0ZUZyb20gY2F0Y2ggaXMgbm90IGRlZmluZWQsXG4gICAgICAvLyB1bm1vdW50IGFsbCB0aGUgY2hpbGRyZW4uIGNvbXBvbmVudERpZENhdGNoIHdpbGwgc2NoZWR1bGUgYW4gdXBkYXRlIHRvXG4gICAgICAvLyByZS1yZW5kZXIgYSBmYWxsYmFjay4gVGhpcyBpcyB0ZW1wb3JhcnkgdW50aWwgd2UgbWlncmF0ZSBldmVyeW9uZSB0b1xuICAgICAgLy8gdGhlIG5ldyBBUEkuXG4gICAgICAvLyBUT0RPOiBXYXJuIGluIGEgZnV0dXJlIHJlbGVhc2UuXG4gICAgICBuZXh0Q2hpbGRyZW4gPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICB7XG4gICAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIuc2V0Q3VycmVudFBoYXNlKCdyZW5kZXInKTtcbiAgICAgICAgbmV4dENoaWxkcmVuID0gaW5zdGFuY2UucmVuZGVyKCk7XG4gICAgICAgIGlmIChkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHMgfHwgZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzRm9yU3RyaWN0TW9kZSAmJiB3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TW9kZSkge1xuICAgICAgICAgIGluc3RhbmNlLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIuc2V0Q3VycmVudFBoYXNlKG51bGwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlYWN0IERldlRvb2xzIHJlYWRzIHRoaXMgZmxhZy5cbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gUGVyZm9ybWVkV29yaztcbiAgICBpZiAoZGlkQ2FwdHVyZUVycm9yKSB7XG4gICAgICAvLyBJZiB3ZSdyZSByZWNvdmVyaW5nIGZyb20gYW4gZXJyb3IsIHJlY29uY2lsZSB0d2ljZTogZmlyc3QgdG8gZGVsZXRlXG4gICAgICAvLyBhbGwgdGhlIGV4aXN0aW5nIGNoaWxkcmVuLlxuICAgICAgcmVjb25jaWxlQ2hpbGRyZW5BdEV4cGlyYXRpb25UaW1lKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBudWxsLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IG51bGw7XG4gICAgICAvLyBOb3cgd2UgY2FuIGNvbnRpbnVlIHJlY29uY2lsaW5nIGxpa2Ugbm9ybWFsLiBUaGlzIGhhcyB0aGUgZWZmZWN0IG9mXG4gICAgICAvLyByZW1vdW50aW5nIGFsbCBjaGlsZHJlbiByZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhlaXIgdGhlaXJcbiAgICAgIC8vIGlkZW50aXR5IG1hdGNoZXMuXG4gICAgfVxuICAgIHJlY29uY2lsZUNoaWxkcmVuQXRFeHBpcmF0aW9uVGltZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgLy8gTWVtb2l6ZSBwcm9wcyBhbmQgc3RhdGUgdXNpbmcgdGhlIHZhbHVlcyB3ZSBqdXN0IHVzZWQgdG8gcmVuZGVyLlxuICAgIC8vIFRPRE86IFJlc3RydWN0dXJlIHNvIHdlIG5ldmVyIHJlYWQgdmFsdWVzIGZyb20gdGhlIGluc3RhbmNlLlxuICAgIG1lbW9pemVTdGF0ZSh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2Uuc3RhdGUpO1xuICAgIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgaW5zdGFuY2UucHJvcHMpO1xuXG4gICAgLy8gVGhlIGNvbnRleHQgbWlnaHQgaGF2ZSBjaGFuZ2VkIHNvIHdlIG5lZWQgdG8gcmVjYWxjdWxhdGUgaXQuXG4gICAgaWYgKGhhc0NvbnRleHQpIHtcbiAgICAgIGludmFsaWRhdGVDb250ZXh0UHJvdmlkZXIod29ya0luUHJvZ3Jlc3MsIHRydWUpO1xuICAgIH1cblxuICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHB1c2hIb3N0Um9vdENvbnRleHQod29ya0luUHJvZ3Jlc3MpIHtcbiAgICB2YXIgcm9vdCA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICBpZiAocm9vdC5wZW5kaW5nQ29udGV4dCkge1xuICAgICAgcHVzaFRvcExldmVsQ29udGV4dE9iamVjdCh3b3JrSW5Qcm9ncmVzcywgcm9vdC5wZW5kaW5nQ29udGV4dCwgcm9vdC5wZW5kaW5nQ29udGV4dCAhPT0gcm9vdC5jb250ZXh0KTtcbiAgICB9IGVsc2UgaWYgKHJvb3QuY29udGV4dCkge1xuICAgICAgLy8gU2hvdWxkIGFsd2F5cyBiZSBzZXRcbiAgICAgIHB1c2hUb3BMZXZlbENvbnRleHRPYmplY3Qod29ya0luUHJvZ3Jlc3MsIHJvb3QuY29udGV4dCwgZmFsc2UpO1xuICAgIH1cbiAgICBwdXNoSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcywgcm9vdC5jb250YWluZXJJbmZvKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUhvc3RSb290KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgIHB1c2hIb3N0Um9vdENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgIHZhciB1cGRhdGVRdWV1ZSA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlO1xuICAgIGlmICh1cGRhdGVRdWV1ZSAhPT0gbnVsbCkge1xuICAgICAgdmFyIHByZXZTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICB2YXIgc3RhdGUgPSBwcm9jZXNzVXBkYXRlUXVldWUoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHVwZGF0ZVF1ZXVlLCBudWxsLCBudWxsLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICBtZW1vaXplU3RhdGUod29ya0luUHJvZ3Jlc3MsIHN0YXRlKTtcbiAgICAgIHVwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG5cbiAgICAgIHZhciBlbGVtZW50ID0gdm9pZCAwO1xuICAgICAgaWYgKHVwZGF0ZVF1ZXVlICE9PSBudWxsICYmIHVwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzICE9PSBudWxsKSB7XG4gICAgICAgIC8vIFRoZXJlJ3MgYW4gdW5jYXVnaHQgZXJyb3IuIFVubW91bnQgdGhlIHdob2xlIHJvb3QuXG4gICAgICAgIGVsZW1lbnQgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmIChwcmV2U3RhdGUgPT09IHN0YXRlKSB7XG4gICAgICAgIC8vIElmIHRoZSBzdGF0ZSBpcyB0aGUgc2FtZSBhcyBiZWZvcmUsIHRoYXQncyBhIGJhaWxvdXQgYmVjYXVzZSB3ZSBoYWRcbiAgICAgICAgLy8gbm8gd29yayB0aGF0IGV4cGlyZXMgYXQgdGhpcyB0aW1lLlxuICAgICAgICByZXNldEh5ZHJhdGlvblN0YXRlKCk7XG4gICAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQgPSBzdGF0ZS5lbGVtZW50O1xuICAgICAgfVxuICAgICAgdmFyIHJvb3QgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICBpZiAoKGN1cnJlbnQgPT09IG51bGwgfHwgY3VycmVudC5jaGlsZCA9PT0gbnVsbCkgJiYgcm9vdC5oeWRyYXRlICYmIGVudGVySHlkcmF0aW9uU3RhdGUod29ya0luUHJvZ3Jlc3MpKSB7XG4gICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW55IGN1cnJlbnQgY2hpbGRyZW4gdGhpcyBtaWdodCBiZSB0aGUgZmlyc3QgcGFzcy5cbiAgICAgICAgLy8gV2UgYWx3YXlzIHRyeSB0byBoeWRyYXRlLiBJZiB0aGlzIGlzbid0IGEgaHlkcmF0aW9uIHBhc3MgdGhlcmUgd29uJ3RcbiAgICAgICAgLy8gYmUgYW55IGNoaWxkcmVuIHRvIGh5ZHJhdGUgd2hpY2ggaXMgZWZmZWN0aXZlbHkgdGhlIHNhbWUgdGhpbmcgYXNcbiAgICAgICAgLy8gbm90IGh5ZHJhdGluZy5cblxuICAgICAgICAvLyBUaGlzIGlzIGEgYml0IG9mIGEgaGFjay4gV2UgdHJhY2sgdGhlIGhvc3Qgcm9vdCBhcyBhIHBsYWNlbWVudCB0b1xuICAgICAgICAvLyBrbm93IHRoYXQgd2UncmUgY3VycmVudGx5IGluIGEgbW91bnRpbmcgc3RhdGUuIFRoYXQgd2F5IGlzTW91bnRlZFxuICAgICAgICAvLyB3b3JrcyBhcyBleHBlY3RlZC4gV2UgbXVzdCByZXNldCB0aGlzIGJlZm9yZSBjb21taXR0aW5nLlxuICAgICAgICAvLyBUT0RPOiBEZWxldGUgdGhpcyB3aGVuIHdlIGRlbGV0ZSBpc01vdW50ZWQgYW5kIGZpbmRET01Ob2RlLlxuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gUGxhY2VtZW50O1xuXG4gICAgICAgIC8vIEVuc3VyZSB0aGF0IGNoaWxkcmVuIG1vdW50IGludG8gdGhpcyByb290IHdpdGhvdXQgdHJhY2tpbmdcbiAgICAgICAgLy8gc2lkZS1lZmZlY3RzLiBUaGlzIGVuc3VyZXMgdGhhdCB3ZSBkb24ndCBzdG9yZSBQbGFjZW1lbnQgZWZmZWN0cyBvblxuICAgICAgICAvLyBub2RlcyB0aGF0IHdpbGwgYmUgaHlkcmF0ZWQuXG4gICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID0gbW91bnRDaGlsZEZpYmVycyh3b3JrSW5Qcm9ncmVzcywgbnVsbCwgZWxlbWVudCwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gT3RoZXJ3aXNlIHJlc2V0IGh5ZHJhdGlvbiBzdGF0ZSBpbiBjYXNlIHdlIGFib3J0ZWQgYW5kIHJlc3VtZWQgYW5vdGhlclxuICAgICAgICAvLyByb290LlxuICAgICAgICByZXNldEh5ZHJhdGlvblN0YXRlKCk7XG4gICAgICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBlbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIG1lbW9pemVTdGF0ZSh3b3JrSW5Qcm9ncmVzcywgc3RhdGUpO1xuICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgIH1cbiAgICByZXNldEh5ZHJhdGlvblN0YXRlKCk7XG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gdXBkYXRlIHF1ZXVlLCB0aGF0J3MgYSBiYWlsb3V0IGJlY2F1c2UgdGhlIHJvb3QgaGFzIG5vIHByb3BzLlxuICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUhvc3RDb21wb25lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgcHVzaEhvc3RDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcblxuICAgIGlmIChjdXJyZW50ID09PSBudWxsKSB7XG4gICAgICB0cnlUb0NsYWltTmV4dEh5ZHJhdGFibGVJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgdmFyIHR5cGUgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgIHZhciBtZW1vaXplZFByb3BzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcztcbiAgICB2YXIgbmV4dFByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgIHZhciBwcmV2UHJvcHMgPSBjdXJyZW50ICE9PSBudWxsID8gY3VycmVudC5tZW1vaXplZFByb3BzIDogbnVsbDtcblxuICAgIGlmIChoYXNMZWdhY3lDb250ZXh0Q2hhbmdlZCgpKSB7XG4gICAgICAvLyBOb3JtYWxseSB3ZSBjYW4gYmFpbCBvdXQgb24gcHJvcHMgZXF1YWxpdHkgYnV0IGlmIGNvbnRleHQgaGFzIGNoYW5nZWRcbiAgICAgIC8vIHdlIGRvbid0IGRvIHRoZSBiYWlsb3V0IGFuZCB3ZSBoYXZlIHRvIHJldXNlIGV4aXN0aW5nIHByb3BzIGluc3RlYWQuXG4gICAgfSBlbHNlIGlmIChtZW1vaXplZFByb3BzID09PSBuZXh0UHJvcHMpIHtcbiAgICAgIHZhciBpc0hpZGRlbiA9IHdvcmtJblByb2dyZXNzLm1vZGUgJiBBc3luY01vZGUgJiYgc2hvdWxkRGVwcmlvcml0aXplU3VidHJlZSh0eXBlLCBuZXh0UHJvcHMpO1xuICAgICAgaWYgKGlzSGlkZGVuKSB7XG4gICAgICAgIC8vIEJlZm9yZSBiYWlsaW5nIG91dCwgbWFrZSBzdXJlIHdlJ3ZlIGRlcHJpb3JpdGl6ZWQgYSBoaWRkZW4gY29tcG9uZW50LlxuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5leHBpcmF0aW9uVGltZSA9IE5ldmVyO1xuICAgICAgfVxuICAgICAgaWYgKCFpc0hpZGRlbiB8fCByZW5kZXJFeHBpcmF0aW9uVGltZSAhPT0gTmV2ZXIpIHtcbiAgICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgfVxuICAgICAgLy8gSWYgd2UncmUgcmVuZGVyaW5nIGEgaGlkZGVuIG5vZGUgYXQgaGlkZGVuIHByaW9yaXR5LCBkb24ndCBiYWlsb3V0LiBUaGVcbiAgICAgIC8vIHBhcmVudCBpcyBjb21wbGV0ZSwgYnV0IHRoZSBjaGlsZHJlbiBtYXkgbm90IGJlLlxuICAgIH1cblxuICAgIHZhciBuZXh0Q2hpbGRyZW4gPSBuZXh0UHJvcHMuY2hpbGRyZW47XG4gICAgdmFyIGlzRGlyZWN0VGV4dENoaWxkID0gc2hvdWxkU2V0VGV4dENvbnRlbnQodHlwZSwgbmV4dFByb3BzKTtcblxuICAgIGlmIChpc0RpcmVjdFRleHRDaGlsZCkge1xuICAgICAgLy8gV2Ugc3BlY2lhbCBjYXNlIGEgZGlyZWN0IHRleHQgY2hpbGQgb2YgYSBob3N0IG5vZGUuIFRoaXMgaXMgYSBjb21tb25cbiAgICAgIC8vIGNhc2UuIFdlIHdvbid0IGhhbmRsZSBpdCBhcyBhIHJlaWZpZWQgY2hpbGQuIFdlIHdpbGwgaW5zdGVhZCBoYW5kbGVcbiAgICAgIC8vIHRoaXMgaW4gdGhlIGhvc3QgZW52aXJvbm1lbnQgdGhhdCBhbHNvIGhhdmUgYWNjZXNzIHRvIHRoaXMgcHJvcC4gVGhhdFxuICAgICAgLy8gYXZvaWRzIGFsbG9jYXRpbmcgYW5vdGhlciBIb3N0VGV4dCBmaWJlciBhbmQgdHJhdmVyc2luZyBpdC5cbiAgICAgIG5leHRDaGlsZHJlbiA9IG51bGw7XG4gICAgfSBlbHNlIGlmIChwcmV2UHJvcHMgJiYgc2hvdWxkU2V0VGV4dENvbnRlbnQodHlwZSwgcHJldlByb3BzKSkge1xuICAgICAgLy8gSWYgd2UncmUgc3dpdGNoaW5nIGZyb20gYSBkaXJlY3QgdGV4dCBjaGlsZCB0byBhIG5vcm1hbCBjaGlsZCwgb3IgdG9cbiAgICAgIC8vIGVtcHR5LCB3ZSBuZWVkIHRvIHNjaGVkdWxlIHRoZSB0ZXh0IGNvbnRlbnQgdG8gYmUgcmVzZXQuXG4gICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gQ29udGVudFJlc2V0O1xuICAgIH1cblxuICAgIG1hcmtSZWYoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgLy8gQ2hlY2sgdGhlIGhvc3QgY29uZmlnIHRvIHNlZSBpZiB0aGUgY2hpbGRyZW4gYXJlIG9mZnNjcmVlbi9oaWRkZW4uXG4gICAgaWYgKHJlbmRlckV4cGlyYXRpb25UaW1lICE9PSBOZXZlciAmJiB3b3JrSW5Qcm9ncmVzcy5tb2RlICYgQXN5bmNNb2RlICYmIHNob3VsZERlcHJpb3JpdGl6ZVN1YnRyZWUodHlwZSwgbmV4dFByb3BzKSkge1xuICAgICAgLy8gRG93bi1wcmlvcml0aXplIHRoZSBjaGlsZHJlbi5cbiAgICAgIHdvcmtJblByb2dyZXNzLmV4cGlyYXRpb25UaW1lID0gTmV2ZXI7XG4gICAgICAvLyBCYWlsb3V0IGFuZCBjb21lIGJhY2sgdG8gdGhpcyBmaWJlciBsYXRlci5cbiAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPSBuZXh0UHJvcHM7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKTtcbiAgICBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIG5leHRQcm9wcyk7XG4gICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlSG9zdFRleHQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpIHtcbiAgICBpZiAoY3VycmVudCA9PT0gbnVsbCkge1xuICAgICAgdHJ5VG9DbGFpbU5leHRIeWRyYXRhYmxlSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cbiAgICB2YXIgbmV4dFByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV4dFByb3BzKTtcbiAgICAvLyBOb3RoaW5nIHRvIGRvIGhlcmUuIFRoaXMgaXMgdGVybWluYWwuIFdlJ2xsIGRvIHRoZSBjb21wbGV0aW9uIHN0ZXBcbiAgICAvLyBpbW1lZGlhdGVseSBhZnRlci5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1vdW50SW5kZXRlcm1pbmF0ZUNvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICAhKGN1cnJlbnQgPT09IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnQW4gaW5kZXRlcm1pbmF0ZSBjb21wb25lbnQgc2hvdWxkIG5ldmVyIGhhdmUgbW91bnRlZC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgICB2YXIgZm4gPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgIHZhciBwcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICB2YXIgdW5tYXNrZWRDb250ZXh0ID0gZ2V0VW5tYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICB2YXIgY29udGV4dCA9IGdldE1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MsIHVubWFza2VkQ29udGV4dCk7XG5cbiAgICB2YXIgdmFsdWUgPSB2b2lkIDA7XG5cbiAgICB7XG4gICAgICBpZiAoZm4ucHJvdG90eXBlICYmIHR5cGVvZiBmbi5wcm90b3R5cGUucmVuZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh3b3JrSW5Qcm9ncmVzcykgfHwgJ1Vua25vd24nO1xuXG4gICAgICAgIGlmICghZGlkV2FybkFib3V0QmFkQ2xhc3NbY29tcG9uZW50TmFtZV0pIHtcbiAgICAgICAgICB3YXJuaW5nKGZhbHNlLCBcIlRoZSA8JXMgLz4gY29tcG9uZW50IGFwcGVhcnMgdG8gaGF2ZSBhIHJlbmRlciBtZXRob2QsIGJ1dCBkb2Vzbid0IGV4dGVuZCBSZWFjdC5Db21wb25lbnQuIFwiICsgJ1RoaXMgaXMgbGlrZWx5IHRvIGNhdXNlIGVycm9ycy4gQ2hhbmdlICVzIHRvIGV4dGVuZCBSZWFjdC5Db21wb25lbnQgaW5zdGVhZC4nLCBjb21wb25lbnROYW1lLCBjb21wb25lbnROYW1lKTtcbiAgICAgICAgICBkaWRXYXJuQWJvdXRCYWRDbGFzc1tjb21wb25lbnROYW1lXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgIHZhbHVlID0gZm4ocHJvcHMsIGNvbnRleHQpO1xuICAgIH1cbiAgICAvLyBSZWFjdCBEZXZUb29scyByZWFkcyB0aGlzIGZsYWcuXG4gICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFBlcmZvcm1lZFdvcms7XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUucmVuZGVyID09PSAnZnVuY3Rpb24nICYmIHZhbHVlLiQkdHlwZW9mID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBDb21wb25lbnQgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuXG4gICAgICAvLyBQcm9jZWVkIHVuZGVyIHRoZSBhc3N1bXB0aW9uIHRoYXQgdGhpcyBpcyBhIGNsYXNzIGluc3RhbmNlXG4gICAgICB3b3JrSW5Qcm9ncmVzcy50YWcgPSBDbGFzc0NvbXBvbmVudDtcblxuICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IHZhbHVlLnN0YXRlICE9PSBudWxsICYmIHZhbHVlLnN0YXRlICE9PSB1bmRlZmluZWQgPyB2YWx1ZS5zdGF0ZSA6IG51bGw7XG5cbiAgICAgIGlmICh0eXBlb2YgQ29tcG9uZW50LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YXIgcGFydGlhbFN0YXRlID0gY2FsbEdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyh3b3JrSW5Qcm9ncmVzcywgdmFsdWUsIHByb3BzLCB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlKTtcblxuICAgICAgICBpZiAocGFydGlhbFN0YXRlICE9PSBudWxsICYmIHBhcnRpYWxTdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IF9hc3NpZ24oe30sIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUsIHBhcnRpYWxTdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUHVzaCBjb250ZXh0IHByb3ZpZGVycyBlYXJseSB0byBwcmV2ZW50IGNvbnRleHQgc3RhY2sgbWlzbWF0Y2hlcy5cbiAgICAgIC8vIER1cmluZyBtb3VudGluZyB3ZSBkb24ndCBrbm93IHRoZSBjaGlsZCBjb250ZXh0IHlldCBhcyB0aGUgaW5zdGFuY2UgZG9lc24ndCBleGlzdC5cbiAgICAgIC8vIFdlIHdpbGwgaW52YWxpZGF0ZSB0aGUgY2hpbGQgY29udGV4dCBpbiBmaW5pc2hDbGFzc0NvbXBvbmVudCgpIHJpZ2h0IGFmdGVyIHJlbmRlcmluZy5cbiAgICAgIHZhciBoYXNDb250ZXh0ID0gcHVzaExlZ2FjeUNvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBhZG9wdENsYXNzSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIHZhbHVlKTtcbiAgICAgIG1vdW50Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgcmV0dXJuIGZpbmlzaENsYXNzQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCB0cnVlLCBoYXNDb250ZXh0LCBmYWxzZSwgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBQcm9jZWVkIHVuZGVyIHRoZSBhc3N1bXB0aW9uIHRoYXQgdGhpcyBpcyBhIGZ1bmN0aW9uYWwgY29tcG9uZW50XG4gICAgICB3b3JrSW5Qcm9ncmVzcy50YWcgPSBGdW5jdGlvbmFsQ29tcG9uZW50O1xuICAgICAge1xuICAgICAgICB2YXIgX0NvbXBvbmVudCA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG5cbiAgICAgICAgaWYgKF9Db21wb25lbnQpIHtcbiAgICAgICAgICB3YXJuaW5nKCFfQ29tcG9uZW50LmNoaWxkQ29udGV4dFR5cGVzLCAnJXMoLi4uKTogY2hpbGRDb250ZXh0VHlwZXMgY2Fubm90IGJlIGRlZmluZWQgb24gYSBmdW5jdGlvbmFsIGNvbXBvbmVudC4nLCBfQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IF9Db21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdvcmtJblByb2dyZXNzLnJlZiAhPT0gbnVsbCkge1xuICAgICAgICAgIHZhciBpbmZvID0gJyc7XG4gICAgICAgICAgdmFyIG93bmVyTmFtZSA9IFJlYWN0RGVidWdDdXJyZW50RmliZXIuZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lKCk7XG4gICAgICAgICAgaWYgKG93bmVyTmFtZSkge1xuICAgICAgICAgICAgaW5mbyArPSAnXFxuXFxuQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBvd25lck5hbWUgKyAnYC4nO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciB3YXJuaW5nS2V5ID0gb3duZXJOYW1lIHx8IHdvcmtJblByb2dyZXNzLl9kZWJ1Z0lEIHx8ICcnO1xuICAgICAgICAgIHZhciBkZWJ1Z1NvdXJjZSA9IHdvcmtJblByb2dyZXNzLl9kZWJ1Z1NvdXJjZTtcbiAgICAgICAgICBpZiAoZGVidWdTb3VyY2UpIHtcbiAgICAgICAgICAgIHdhcm5pbmdLZXkgPSBkZWJ1Z1NvdXJjZS5maWxlTmFtZSArICc6JyArIGRlYnVnU291cmNlLmxpbmVOdW1iZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZGlkV2FybkFib3V0U3RhdGVsZXNzUmVmc1t3YXJuaW5nS2V5XSkge1xuICAgICAgICAgICAgZGlkV2FybkFib3V0U3RhdGVsZXNzUmVmc1t3YXJuaW5nS2V5XSA9IHRydWU7XG4gICAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnU3RhdGVsZXNzIGZ1bmN0aW9uIGNvbXBvbmVudHMgY2Fubm90IGJlIGdpdmVuIHJlZnMuICcgKyAnQXR0ZW1wdHMgdG8gYWNjZXNzIHRoaXMgcmVmIHdpbGwgZmFpbC4lcyVzJywgaW5mbywgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5nZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgZm4uZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdmFyIF9jb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh3b3JrSW5Qcm9ncmVzcykgfHwgJ1Vua25vd24nO1xuXG4gICAgICAgICAgaWYgKCFkaWRXYXJuQWJvdXRHZXREZXJpdmVkU3RhdGVPbkZ1bmN0aW9uYWxDb21wb25lbnRbX2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnJXM6IFN0YXRlbGVzcyBmdW5jdGlvbmFsIGNvbXBvbmVudHMgZG8gbm90IHN1cHBvcnQgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLicsIF9jb21wb25lbnROYW1lKTtcbiAgICAgICAgICAgIGRpZFdhcm5BYm91dEdldERlcml2ZWRTdGF0ZU9uRnVuY3Rpb25hbENvbXBvbmVudFtfY29tcG9uZW50TmFtZV0gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHZhbHVlKTtcbiAgICAgIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgcHJvcHMpO1xuICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUNhbGxDb21wb25lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgdmFyIG5leHRQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICBpZiAoaGFzTGVnYWN5Q29udGV4dENoYW5nZWQoKSkge1xuICAgICAgLy8gTm9ybWFsbHkgd2UgY2FuIGJhaWwgb3V0IG9uIHByb3BzIGVxdWFsaXR5IGJ1dCBpZiBjb250ZXh0IGhhcyBjaGFuZ2VkXG4gICAgICAvLyB3ZSBkb24ndCBkbyB0aGUgYmFpbG91dCBhbmQgd2UgaGF2ZSB0byByZXVzZSBleGlzdGluZyBwcm9wcyBpbnN0ZWFkLlxuICAgIH0gZWxzZSBpZiAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9PT0gbmV4dFByb3BzKSB7XG4gICAgICBuZXh0UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzO1xuICAgICAgLy8gVE9ETzogV2hlbiBiYWlsaW5nIG91dCwgd2UgbWlnaHQgbmVlZCB0byByZXR1cm4gdGhlIHN0YXRlTm9kZSBpbnN0ZWFkXG4gICAgICAvLyBvZiB0aGUgY2hpbGQuIFRvIGNoZWNrIGl0IGZvciB3b3JrLlxuICAgICAgLy8gcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIHZhciBuZXh0Q2hpbGRyZW4gPSBuZXh0UHJvcHMuY2hpbGRyZW47XG5cbiAgICAvLyBUaGUgZm9sbG93aW5nIGlzIGEgZm9yayBvZiByZWNvbmNpbGVDaGlsZHJlbkF0RXhwaXJhdGlvblRpbWUgYnV0IHVzaW5nXG4gICAgLy8gc3RhdGVOb2RlIHRvIHN0b3JlIHRoZSBjaGlsZC5cbiAgICBpZiAoY3VycmVudCA9PT0gbnVsbCkge1xuICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gbW91bnRDaGlsZEZpYmVycyh3b3JrSW5Qcm9ncmVzcywgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gcmVjb25jaWxlQ2hpbGRGaWJlcnMod29ya0luUHJvZ3Jlc3MsIGN1cnJlbnQuc3RhdGVOb2RlLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG5cbiAgICBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIG5leHRQcm9wcyk7XG4gICAgLy8gVGhpcyBkb2Vzbid0IHRha2UgYXJiaXRyYXJ5IHRpbWUgc28gd2UgY291bGQgc3luY2hyb25vdXNseSBqdXN0IGJlZ2luXG4gICAgLy8gZWFnZXJseSBkbyB0aGUgd29yayBvZiB3b3JrSW5Qcm9ncmVzcy5jaGlsZCBhcyBhbiBvcHRpbWl6YXRpb24uXG4gICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVBvcnRhbENvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICBwdXNoSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcywgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlLmNvbnRhaW5lckluZm8pO1xuICAgIHZhciBuZXh0Q2hpbGRyZW4gPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgaWYgKGhhc0xlZ2FjeUNvbnRleHRDaGFuZ2VkKCkpIHtcbiAgICAgIC8vIE5vcm1hbGx5IHdlIGNhbiBiYWlsIG91dCBvbiBwcm9wcyBlcXVhbGl0eSBidXQgaWYgY29udGV4dCBoYXMgY2hhbmdlZFxuICAgICAgLy8gd2UgZG9uJ3QgZG8gdGhlIGJhaWxvdXQgYW5kIHdlIGhhdmUgdG8gcmV1c2UgZXhpc3RpbmcgcHJvcHMgaW5zdGVhZC5cbiAgICB9IGVsc2UgaWYgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPT09IG5leHRDaGlsZHJlbikge1xuICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIGlmIChjdXJyZW50ID09PSBudWxsKSB7XG4gICAgICAvLyBQb3J0YWxzIGFyZSBzcGVjaWFsIGJlY2F1c2Ugd2UgZG9uJ3QgYXBwZW5kIHRoZSBjaGlsZHJlbiBkdXJpbmcgbW91bnRcbiAgICAgIC8vIGJ1dCBhdCBjb21taXQuIFRoZXJlZm9yZSB3ZSBuZWVkIHRvIHRyYWNrIGluc2VydGlvbnMgd2hpY2ggdGhlIG5vcm1hbFxuICAgICAgLy8gZmxvdyBkb2Vzbid0IGRvIGR1cmluZyBtb3VudC4gVGhpcyBkb2Vzbid0IGhhcHBlbiBhdCB0aGUgcm9vdCBiZWNhdXNlXG4gICAgICAvLyB0aGUgcm9vdCBhbHdheXMgc3RhcnRzIHdpdGggYSBcImN1cnJlbnRcIiB3aXRoIGEgbnVsbCBjaGlsZC5cbiAgICAgIC8vIFRPRE86IENvbnNpZGVyIHVuaWZ5aW5nIHRoaXMgd2l0aCBob3cgdGhlIHJvb3Qgd29ya3MuXG4gICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJlY29uY2lsZUNoaWxkRmliZXJzKHdvcmtJblByb2dyZXNzLCBudWxsLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbik7XG4gICAgICBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbik7XG4gICAgfVxuICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByb3BhZ2F0ZUNvbnRleHRDaGFuZ2Uod29ya0luUHJvZ3Jlc3MsIGNvbnRleHQsIGNoYW5nZWRCaXRzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgIHZhciBmaWJlciA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgIGlmIChmaWJlciAhPT0gbnVsbCkge1xuICAgICAgLy8gU2V0IHRoZSByZXR1cm4gcG9pbnRlciBvZiB0aGUgY2hpbGQgdG8gdGhlIHdvcmstaW4tcHJvZ3Jlc3MgZmliZXIuXG4gICAgICBmaWJlclsncmV0dXJuJ10gPSB3b3JrSW5Qcm9ncmVzcztcbiAgICB9XG4gICAgd2hpbGUgKGZpYmVyICE9PSBudWxsKSB7XG4gICAgICB2YXIgbmV4dEZpYmVyID0gdm9pZCAwO1xuICAgICAgLy8gVmlzaXQgdGhpcyBmaWJlci5cbiAgICAgIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgICAgIGNhc2UgQ29udGV4dENvbnN1bWVyOlxuICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBjb250ZXh0IG1hdGNoZXMuXG4gICAgICAgICAgdmFyIG9ic2VydmVkQml0cyA9IGZpYmVyLnN0YXRlTm9kZSB8IDA7XG4gICAgICAgICAgaWYgKGZpYmVyLnR5cGUgPT09IGNvbnRleHQgJiYgKG9ic2VydmVkQml0cyAmIGNoYW5nZWRCaXRzKSAhPT0gMCkge1xuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBleHBpcmF0aW9uIHRpbWUgb2YgYWxsIHRoZSBhbmNlc3RvcnMsIGluY2x1ZGluZ1xuICAgICAgICAgICAgLy8gdGhlIGFsdGVybmF0ZXMuXG4gICAgICAgICAgICB2YXIgbm9kZSA9IGZpYmVyO1xuICAgICAgICAgICAgd2hpbGUgKG5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgdmFyIGFsdGVybmF0ZSA9IG5vZGUuYWx0ZXJuYXRlO1xuICAgICAgICAgICAgICBpZiAobm9kZS5leHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8IG5vZGUuZXhwaXJhdGlvblRpbWUgPiByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgICAgICAgICAgICAgIG5vZGUuZXhwaXJhdGlvblRpbWUgPSByZW5kZXJFeHBpcmF0aW9uVGltZTtcbiAgICAgICAgICAgICAgICBpZiAoYWx0ZXJuYXRlICE9PSBudWxsICYmIChhbHRlcm5hdGUuZXhwaXJhdGlvblRpbWUgPT09IE5vV29yayB8fCBhbHRlcm5hdGUuZXhwaXJhdGlvblRpbWUgPiByZW5kZXJFeHBpcmF0aW9uVGltZSkpIHtcbiAgICAgICAgICAgICAgICAgIGFsdGVybmF0ZS5leHBpcmF0aW9uVGltZSA9IHJlbmRlckV4cGlyYXRpb25UaW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhbHRlcm5hdGUgIT09IG51bGwgJiYgKGFsdGVybmF0ZS5leHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8IGFsdGVybmF0ZS5leHBpcmF0aW9uVGltZSA+IHJlbmRlckV4cGlyYXRpb25UaW1lKSkge1xuICAgICAgICAgICAgICAgIGFsdGVybmF0ZS5leHBpcmF0aW9uVGltZSA9IHJlbmRlckV4cGlyYXRpb25UaW1lO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE5laXRoZXIgYWx0ZXJuYXRlIHdhcyB1cGRhdGVkLCB3aGljaCBtZWFucyB0aGUgcmVzdCBvZiB0aGVcbiAgICAgICAgICAgICAgICAvLyBhbmNlc3RvciBwYXRoIGFscmVhZHkgaGFzIHN1ZmZpY2llbnQgcHJpb3JpdHkuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbm9kZSA9IG5vZGVbJ3JldHVybiddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRG9uJ3Qgc2NhbiBkZWVwZXIgdGhhbiBhIG1hdGNoaW5nIGNvbnN1bWVyLiBXaGVuIHdlIHJlbmRlciB0aGVcbiAgICAgICAgICAgIC8vIGNvbnN1bWVyLCB3ZSdsbCBjb250aW51ZSBzY2FubmluZyBmcm9tIHRoYXQgcG9pbnQuIFRoaXMgd2F5IHRoZVxuICAgICAgICAgICAgLy8gc2Nhbm5pbmcgd29yayBpcyB0aW1lLXNsaWNlZC5cbiAgICAgICAgICAgIG5leHRGaWJlciA9IG51bGw7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRyYXZlcnNlIGRvd24uXG4gICAgICAgICAgICBuZXh0RmliZXIgPSBmaWJlci5jaGlsZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ29udGV4dFByb3ZpZGVyOlxuICAgICAgICAgIC8vIERvbid0IHNjYW4gZGVlcGVyIGlmIHRoaXMgaXMgYSBtYXRjaGluZyBwcm92aWRlclxuICAgICAgICAgIG5leHRGaWJlciA9IGZpYmVyLnR5cGUgPT09IHdvcmtJblByb2dyZXNzLnR5cGUgPyBudWxsIDogZmliZXIuY2hpbGQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gVHJhdmVyc2UgZG93bi5cbiAgICAgICAgICBuZXh0RmliZXIgPSBmaWJlci5jaGlsZDtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChuZXh0RmliZXIgIT09IG51bGwpIHtcbiAgICAgICAgLy8gU2V0IHRoZSByZXR1cm4gcG9pbnRlciBvZiB0aGUgY2hpbGQgdG8gdGhlIHdvcmstaW4tcHJvZ3Jlc3MgZmliZXIuXG4gICAgICAgIG5leHRGaWJlclsncmV0dXJuJ10gPSBmaWJlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5vIGNoaWxkLiBUcmF2ZXJzZSB0byBuZXh0IHNpYmxpbmcuXG4gICAgICAgIG5leHRGaWJlciA9IGZpYmVyO1xuICAgICAgICB3aGlsZSAobmV4dEZpYmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgaWYgKG5leHRGaWJlciA9PT0gd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIC8vIFdlJ3JlIGJhY2sgdG8gdGhlIHJvb3Qgb2YgdGhpcyBzdWJ0cmVlLiBFeGl0LlxuICAgICAgICAgICAgbmV4dEZpYmVyID0gbnVsbDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgc2libGluZyA9IG5leHRGaWJlci5zaWJsaW5nO1xuICAgICAgICAgIGlmIChzaWJsaW5nICE9PSBudWxsKSB7XG4gICAgICAgICAgICBuZXh0RmliZXIgPSBzaWJsaW5nO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIE5vIG1vcmUgc2libGluZ3MuIFRyYXZlcnNlIHVwLlxuICAgICAgICAgIG5leHRGaWJlciA9IG5leHRGaWJlclsncmV0dXJuJ107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZpYmVyID0gbmV4dEZpYmVyO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUNvbnRleHRQcm92aWRlcihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICB2YXIgcHJvdmlkZXJUeXBlID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICB2YXIgY29udGV4dCA9IHByb3ZpZGVyVHlwZS5fY29udGV4dDtcblxuICAgIHZhciBuZXdQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICB2YXIgb2xkUHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzO1xuXG4gICAgaWYgKGhhc0xlZ2FjeUNvbnRleHRDaGFuZ2VkKCkpIHtcbiAgICAgIC8vIE5vcm1hbGx5IHdlIGNhbiBiYWlsIG91dCBvbiBwcm9wcyBlcXVhbGl0eSBidXQgaWYgY29udGV4dCBoYXMgY2hhbmdlZFxuICAgICAgLy8gd2UgZG9uJ3QgZG8gdGhlIGJhaWxvdXQgYW5kIHdlIGhhdmUgdG8gcmV1c2UgZXhpc3RpbmcgcHJvcHMgaW5zdGVhZC5cbiAgICB9IGVsc2UgaWYgKG9sZFByb3BzID09PSBuZXdQcm9wcykge1xuICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gMDtcbiAgICAgIHB1c2hQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgdmFyIG5ld1ZhbHVlID0gbmV3UHJvcHMudmFsdWU7XG4gICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9IG5ld1Byb3BzO1xuXG4gICAgdmFyIGNoYW5nZWRCaXRzID0gdm9pZCAwO1xuICAgIGlmIChvbGRQcm9wcyA9PT0gbnVsbCkge1xuICAgICAgLy8gSW5pdGlhbCByZW5kZXJcbiAgICAgIGNoYW5nZWRCaXRzID0gTUFYX1NJR05FRF8zMV9CSVRfSU5UO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAob2xkUHJvcHMudmFsdWUgPT09IG5ld1Byb3BzLnZhbHVlKSB7XG4gICAgICAgIC8vIE5vIGNoYW5nZS4gQmFpbG91dCBlYXJseSBpZiBjaGlsZHJlbiBhcmUgdGhlIHNhbWUuXG4gICAgICAgIGlmIChvbGRQcm9wcy5jaGlsZHJlbiA9PT0gbmV3UHJvcHMuY2hpbGRyZW4pIHtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSAwO1xuICAgICAgICAgIHB1c2hQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICB9XG4gICAgICAgIGNoYW5nZWRCaXRzID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBvbGRWYWx1ZSA9IG9sZFByb3BzLnZhbHVlO1xuICAgICAgICAvLyBVc2UgT2JqZWN0LmlzIHRvIGNvbXBhcmUgdGhlIG5ldyBjb250ZXh0IHZhbHVlIHRvIHRoZSBvbGQgdmFsdWUuXG4gICAgICAgIC8vIElubGluZWQgT2JqZWN0LmlzIHBvbHlmaWxsLlxuICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXNcbiAgICAgICAgaWYgKG9sZFZhbHVlID09PSBuZXdWYWx1ZSAmJiAob2xkVmFsdWUgIT09IDAgfHwgMSAvIG9sZFZhbHVlID09PSAxIC8gbmV3VmFsdWUpIHx8IG9sZFZhbHVlICE9PSBvbGRWYWx1ZSAmJiBuZXdWYWx1ZSAhPT0gbmV3VmFsdWUgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICAgICAgKSB7XG4gICAgICAgICAgICAvLyBObyBjaGFuZ2UuIEJhaWxvdXQgZWFybHkgaWYgY2hpbGRyZW4gYXJlIHRoZSBzYW1lLlxuICAgICAgICAgICAgaWYgKG9sZFByb3BzLmNoaWxkcmVuID09PSBuZXdQcm9wcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSAwO1xuICAgICAgICAgICAgICBwdXNoUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGFuZ2VkQml0cyA9IDA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGFuZ2VkQml0cyA9IHR5cGVvZiBjb250ZXh0Ll9jYWxjdWxhdGVDaGFuZ2VkQml0cyA9PT0gJ2Z1bmN0aW9uJyA/IGNvbnRleHQuX2NhbGN1bGF0ZUNoYW5nZWRCaXRzKG9sZFZhbHVlLCBuZXdWYWx1ZSkgOiBNQVhfU0lHTkVEXzMxX0JJVF9JTlQ7XG4gICAgICAgICAge1xuICAgICAgICAgICAgd2FybmluZygoY2hhbmdlZEJpdHMgJiBNQVhfU0lHTkVEXzMxX0JJVF9JTlQpID09PSBjaGFuZ2VkQml0cywgJ2NhbGN1bGF0ZUNoYW5nZWRCaXRzOiBFeHBlY3RlZCB0aGUgcmV0dXJuIHZhbHVlIHRvIGJlIGEgJyArICczMS1iaXQgaW50ZWdlci4gSW5zdGVhZCByZWNlaXZlZDogJXMnLCBjaGFuZ2VkQml0cyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNoYW5nZWRCaXRzIHw9IDA7XG5cbiAgICAgICAgICBpZiAoY2hhbmdlZEJpdHMgPT09IDApIHtcbiAgICAgICAgICAgIC8vIE5vIGNoYW5nZS4gQmFpbG91dCBlYXJseSBpZiBjaGlsZHJlbiBhcmUgdGhlIHNhbWUuXG4gICAgICAgICAgICBpZiAob2xkUHJvcHMuY2hpbGRyZW4gPT09IG5ld1Byb3BzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IDA7XG4gICAgICAgICAgICAgIHB1c2hQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvcGFnYXRlQ29udGV4dENoYW5nZSh3b3JrSW5Qcm9ncmVzcywgY29udGV4dCwgY2hhbmdlZEJpdHMsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBjaGFuZ2VkQml0cztcbiAgICBwdXNoUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgdmFyIG5ld0NoaWxkcmVuID0gbmV3UHJvcHMuY2hpbGRyZW47XG4gICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5ld0NoaWxkcmVuKTtcbiAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVDb250ZXh0Q29uc3VtZXIoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgdmFyIGNvbnRleHQgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgIHZhciBuZXdQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICB2YXIgb2xkUHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzO1xuXG4gICAgdmFyIG5ld1ZhbHVlID0gY29udGV4dC5fY3VycmVudFZhbHVlO1xuICAgIHZhciBjaGFuZ2VkQml0cyA9IGNvbnRleHQuX2NoYW5nZWRCaXRzO1xuXG4gICAgaWYgKGhhc0xlZ2FjeUNvbnRleHRDaGFuZ2VkKCkpIHtcbiAgICAgIC8vIE5vcm1hbGx5IHdlIGNhbiBiYWlsIG91dCBvbiBwcm9wcyBlcXVhbGl0eSBidXQgaWYgY29udGV4dCBoYXMgY2hhbmdlZFxuICAgICAgLy8gd2UgZG9uJ3QgZG8gdGhlIGJhaWxvdXQgYW5kIHdlIGhhdmUgdG8gcmV1c2UgZXhpc3RpbmcgcHJvcHMgaW5zdGVhZC5cbiAgICB9IGVsc2UgaWYgKGNoYW5nZWRCaXRzID09PSAwICYmIG9sZFByb3BzID09PSBuZXdQcm9wcykge1xuICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cbiAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID0gbmV3UHJvcHM7XG5cbiAgICB2YXIgb2JzZXJ2ZWRCaXRzID0gbmV3UHJvcHMudW5zdGFibGVfb2JzZXJ2ZWRCaXRzO1xuICAgIGlmIChvYnNlcnZlZEJpdHMgPT09IHVuZGVmaW5lZCB8fCBvYnNlcnZlZEJpdHMgPT09IG51bGwpIHtcbiAgICAgIC8vIFN1YnNjcmliZSB0byBhbGwgY2hhbmdlcyBieSBkZWZhdWx0XG4gICAgICBvYnNlcnZlZEJpdHMgPSBNQVhfU0lHTkVEXzMxX0JJVF9JTlQ7XG4gICAgfVxuICAgIC8vIFN0b3JlIHRoZSBvYnNlcnZlZEJpdHMgb24gdGhlIGZpYmVyJ3Mgc3RhdGVOb2RlIGZvciBxdWljayBhY2Nlc3MuXG4gICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gb2JzZXJ2ZWRCaXRzO1xuXG4gICAgaWYgKChjaGFuZ2VkQml0cyAmIG9ic2VydmVkQml0cykgIT09IDApIHtcbiAgICAgIC8vIENvbnRleHQgY2hhbmdlIHByb3BhZ2F0aW9uIHN0b3BzIGF0IG1hdGNoaW5nIGNvbnN1bWVycywgZm9yIHRpbWUtXG4gICAgICAvLyBzbGljaW5nLiBDb250aW51ZSB0aGUgcHJvcGFnYXRpb24gaGVyZS5cbiAgICAgIHByb3BhZ2F0ZUNvbnRleHRDaGFuZ2Uod29ya0luUHJvZ3Jlc3MsIGNvbnRleHQsIGNoYW5nZWRCaXRzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgfVxuICAgIC8vIFRoZXJlIGlzIG5vIGJhaWxvdXQgb24gYGNoaWxkcmVuYCBlcXVhbGl0eSBiZWNhdXNlIHdlIGV4cGVjdCBwZW9wbGVcbiAgICAvLyB0byBvZnRlbiBwYXNzIGEgYm91bmQgbWV0aG9kIGFzIGEgY2hpbGQsIGJ1dCBpdCBtYXkgcmVmZXJlbmNlXG4gICAgLy8gYHRoaXMuc3RhdGVgIG9yIGB0aGlzLnByb3BzYCAoYW5kIHRodXMgbmVlZHMgdG8gcmUtcmVuZGVyIG9uIGBzZXRTdGF0ZWApLlxuXG4gICAgdmFyIHJlbmRlciA9IG5ld1Byb3BzLmNoaWxkcmVuO1xuXG4gICAge1xuICAgICAgd2FybmluZyh0eXBlb2YgcmVuZGVyID09PSAnZnVuY3Rpb24nLCAnQSBjb250ZXh0IGNvbnN1bWVyIHdhcyByZW5kZXJlZCB3aXRoIG11bHRpcGxlIGNoaWxkcmVuLCBvciBhIGNoaWxkICcgKyBcInRoYXQgaXNuJ3QgYSBmdW5jdGlvbi4gQSBjb250ZXh0IGNvbnN1bWVyIGV4cGVjdHMgYSBzaW5nbGUgY2hpbGQgXCIgKyAndGhhdCBpcyBhIGZ1bmN0aW9uLiBJZiB5b3UgZGlkIHBhc3MgYSBmdW5jdGlvbiwgbWFrZSBzdXJlIHRoZXJlICcgKyAnaXMgbm8gdHJhaWxpbmcgb3IgbGVhZGluZyB3aGl0ZXNwYWNlIGFyb3VuZCBpdC4nKTtcbiAgICB9XG5cbiAgICB2YXIgbmV3Q2hpbGRyZW4gPSByZW5kZXIobmV3VmFsdWUpO1xuICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXdDaGlsZHJlbik7XG4gICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICB9XG5cbiAgLypcbiAgZnVuY3Rpb24gcmV1c2VDaGlsZHJlbkVmZmVjdHMocmV0dXJuRmliZXIgOiBGaWJlciwgZmlyc3RDaGlsZCA6IEZpYmVyKSB7XG4gICAgbGV0IGNoaWxkID0gZmlyc3RDaGlsZDtcbiAgICBkbyB7XG4gICAgICAvLyBFbnN1cmUgdGhhdCB0aGUgZmlyc3QgYW5kIGxhc3QgZWZmZWN0IG9mIHRoZSBwYXJlbnQgY29ycmVzcG9uZHNcbiAgICAgIC8vIHRvIHRoZSBjaGlsZHJlbidzIGZpcnN0IGFuZCBsYXN0IGVmZmVjdC5cbiAgICAgIGlmICghcmV0dXJuRmliZXIuZmlyc3RFZmZlY3QpIHtcbiAgICAgICAgcmV0dXJuRmliZXIuZmlyc3RFZmZlY3QgPSBjaGlsZC5maXJzdEVmZmVjdDtcbiAgICAgIH1cbiAgICAgIGlmIChjaGlsZC5sYXN0RWZmZWN0KSB7XG4gICAgICAgIGlmIChyZXR1cm5GaWJlci5sYXN0RWZmZWN0KSB7XG4gICAgICAgICAgcmV0dXJuRmliZXIubGFzdEVmZmVjdC5uZXh0RWZmZWN0ID0gY2hpbGQuZmlyc3RFZmZlY3Q7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuRmliZXIubGFzdEVmZmVjdCA9IGNoaWxkLmxhc3RFZmZlY3Q7XG4gICAgICB9XG4gICAgfSB3aGlsZSAoY2hpbGQgPSBjaGlsZC5zaWJsaW5nKTtcbiAgfVxuICAqL1xuXG4gIGZ1bmN0aW9uIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpIHtcbiAgICBjYW5jZWxXb3JrVGltZXIod29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgLy8gVE9ETzogV2Ugc2hvdWxkIGlkZWFsbHkgYmUgYWJsZSB0byBiYWlsIG91dCBlYXJseSBpZiB0aGUgY2hpbGRyZW4gaGF2ZSBub1xuICAgIC8vIG1vcmUgd29yayB0byBkby4gSG93ZXZlciwgc2luY2Ugd2UgZG9uJ3QgaGF2ZSBhIHNlcGFyYXRpb24gb2YgdGhpc1xuICAgIC8vIEZpYmVyJ3MgcHJpb3JpdHkgYW5kIGl0cyBjaGlsZHJlbiB5ZXQgLSB3ZSBkb24ndCBrbm93IHdpdGhvdXQgZG9pbmcgbG90c1xuICAgIC8vIG9mIHRoZSBzYW1lIHdvcmsgd2UgZG8gYW55d2F5LiBPbmNlIHdlIGhhdmUgdGhhdCBzZXBhcmF0aW9uIHdlIGNhbiBqdXN0XG4gICAgLy8gYmFpbCBvdXQgaGVyZSBpZiB0aGUgY2hpbGRyZW4gaGFzIG5vIG1vcmUgd29yayBhdCB0aGlzIHByaW9yaXR5IGxldmVsLlxuICAgIC8vIGlmICh3b3JrSW5Qcm9ncmVzcy5wcmlvcml0eU9mQ2hpbGRyZW4gPD0gcHJpb3JpdHlMZXZlbCkge1xuICAgIC8vICAgLy8gSWYgdGhlcmUgYXJlIHNpZGUtZWZmZWN0cyBpbiB0aGVzZSBjaGlsZHJlbiB0aGF0IGhhdmUgbm90IHlldCBiZWVuXG4gICAgLy8gICAvLyBjb21taXR0ZWQgd2UgbmVlZCB0byBlbnN1cmUgdGhhdCB0aGV5IGdldCBwcm9wZXJseSB0cmFuc2ZlcnJlZCB1cC5cbiAgICAvLyAgIGlmIChjdXJyZW50ICYmIGN1cnJlbnQuY2hpbGQgIT09IHdvcmtJblByb2dyZXNzLmNoaWxkKSB7XG4gICAgLy8gICAgIHJldXNlQ2hpbGRyZW5FZmZlY3RzKHdvcmtJblByb2dyZXNzLCBjaGlsZCk7XG4gICAgLy8gICB9XG4gICAgLy8gICByZXR1cm4gbnVsbDtcbiAgICAvLyB9XG5cbiAgICBjbG9uZUNoaWxkRmliZXJzKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gIH1cblxuICBmdW5jdGlvbiBiYWlsb3V0T25Mb3dQcmlvcml0eShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICAgIGNhbmNlbFdvcmtUaW1lcih3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgICAvLyBUT0RPOiBIYW5kbGUgSG9zdENvbXBvbmVudCB0YWdzIGhlcmUgYXMgd2VsbCBhbmQgY2FsbCBwdXNoSG9zdENvbnRleHQoKT9cbiAgICAvLyBTZWUgUFIgODU5MCBkaXNjdXNzaW9uIGZvciBjb250ZXh0XG4gICAgc3dpdGNoICh3b3JrSW5Qcm9ncmVzcy50YWcpIHtcbiAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgIHB1c2hIb3N0Um9vdENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgIHB1c2hMZWdhY3lDb250ZXh0UHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgICAgcHVzaEhvc3RDb250YWluZXIod29ya0luUHJvZ3Jlc3MsIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZS5jb250YWluZXJJbmZvKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbnRleHRQcm92aWRlcjpcbiAgICAgICAgcHVzaFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC8vIFRPRE86IFdoYXQgaWYgdGhpcyBpcyBjdXJyZW50bHkgaW4gcHJvZ3Jlc3M/XG4gICAgLy8gSG93IGNhbiB0aGF0IGhhcHBlbj8gSG93IGlzIHRoaXMgbm90IGJlaW5nIGNsb25lZD9cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIFRPRE86IERlbGV0ZSBtZW1vaXplUHJvcHMvU3RhdGUgYW5kIG1vdmUgdG8gcmVjb25jaWxlL2JhaWxvdXQgaW5zdGVhZFxuICBmdW5jdGlvbiBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIG5leHRQcm9wcykge1xuICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPSBuZXh0UHJvcHM7XG4gIH1cblxuICBmdW5jdGlvbiBtZW1vaXplU3RhdGUod29ya0luUHJvZ3Jlc3MsIG5leHRTdGF0ZSkge1xuICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgLy8gRG9uJ3QgcmVzZXQgdGhlIHVwZGF0ZVF1ZXVlLCBpbiBjYXNlIHRoZXJlIGFyZSBwZW5kaW5nIHVwZGF0ZXMuIFJlc2V0dGluZ1xuICAgIC8vIGlzIGhhbmRsZWQgYnkgcHJvY2Vzc1VwZGF0ZVF1ZXVlLlxuICB9XG5cbiAgZnVuY3Rpb24gYmVnaW5Xb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5leHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8IHdvcmtJblByb2dyZXNzLmV4cGlyYXRpb25UaW1lID4gcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICAgIHJldHVybiBiYWlsb3V0T25Mb3dQcmlvcml0eShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgc3dpdGNoICh3b3JrSW5Qcm9ncmVzcy50YWcpIHtcbiAgICAgIGNhc2UgSW5kZXRlcm1pbmF0ZUNvbXBvbmVudDpcbiAgICAgICAgcmV0dXJuIG1vdW50SW5kZXRlcm1pbmF0ZUNvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgY2FzZSBGdW5jdGlvbmFsQ29tcG9uZW50OlxuICAgICAgICByZXR1cm4gdXBkYXRlRnVuY3Rpb25hbENvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAgICByZXR1cm4gdXBkYXRlQ2xhc3NDb21wb25lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgIHJldHVybiB1cGRhdGVIb3N0Um9vdChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICByZXR1cm4gdXBkYXRlSG9zdENvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgY2FzZSBIb3N0VGV4dDpcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUhvc3RUZXh0KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIGNhc2UgQ2FsbEhhbmRsZXJQaGFzZTpcbiAgICAgICAgLy8gVGhpcyBpcyBhIHJlc3RhcnQuIFJlc2V0IHRoZSB0YWcgdG8gdGhlIGluaXRpYWwgcGhhc2UuXG4gICAgICAgIHdvcmtJblByb2dyZXNzLnRhZyA9IENhbGxDb21wb25lbnQ7XG4gICAgICAvLyBJbnRlbnRpb25hbGx5IGZhbGwgdGhyb3VnaCBzaW5jZSB0aGlzIGlzIG5vdyB0aGUgc2FtZS5cbiAgICAgIGNhc2UgQ2FsbENvbXBvbmVudDpcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUNhbGxDb21wb25lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGNhc2UgUmV0dXJuQ29tcG9uZW50OlxuICAgICAgICAvLyBBIHJldHVybiBjb21wb25lbnQgaXMganVzdCBhIHBsYWNlaG9sZGVyLCB3ZSBjYW4ganVzdCBydW4gdGhyb3VnaCB0aGVcbiAgICAgICAgLy8gbmV4dCBvbmUgaW1tZWRpYXRlbHkuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAgICByZXR1cm4gdXBkYXRlUG9ydGFsQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICBjYXNlIEZvcndhcmRSZWY6XG4gICAgICAgIHJldHVybiB1cGRhdGVGb3J3YXJkUmVmKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIGNhc2UgRnJhZ21lbnQ6XG4gICAgICAgIHJldHVybiB1cGRhdGVGcmFnbWVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBjYXNlIE1vZGU6XG4gICAgICAgIHJldHVybiB1cGRhdGVNb2RlKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIGNhc2UgQ29udGV4dFByb3ZpZGVyOlxuICAgICAgICByZXR1cm4gdXBkYXRlQ29udGV4dFByb3ZpZGVyKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICBjYXNlIENvbnRleHRDb25zdW1lcjpcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUNvbnRleHRDb25zdW1lcihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaW52YXJpYW50KGZhbHNlLCAnVW5rbm93biB1bml0IG9mIHdvcmsgdGFnLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYmVnaW5Xb3JrOiBiZWdpbldvcmtcbiAgfTtcbn07XG5cbnZhciBSZWFjdEZpYmVyQ29tcGxldGVXb3JrID0gZnVuY3Rpb24gKGNvbmZpZywgaG9zdENvbnRleHQsIGxlZ2FjeUNvbnRleHQsIG5ld0NvbnRleHQsIGh5ZHJhdGlvbkNvbnRleHQpIHtcbiAgdmFyIGNyZWF0ZUluc3RhbmNlID0gY29uZmlnLmNyZWF0ZUluc3RhbmNlLFxuICAgICAgY3JlYXRlVGV4dEluc3RhbmNlID0gY29uZmlnLmNyZWF0ZVRleHRJbnN0YW5jZSxcbiAgICAgIGFwcGVuZEluaXRpYWxDaGlsZCA9IGNvbmZpZy5hcHBlbmRJbml0aWFsQ2hpbGQsXG4gICAgICBmaW5hbGl6ZUluaXRpYWxDaGlsZHJlbiA9IGNvbmZpZy5maW5hbGl6ZUluaXRpYWxDaGlsZHJlbixcbiAgICAgIHByZXBhcmVVcGRhdGUgPSBjb25maWcucHJlcGFyZVVwZGF0ZSxcbiAgICAgIG11dGF0aW9uID0gY29uZmlnLm11dGF0aW9uLFxuICAgICAgcGVyc2lzdGVuY2UgPSBjb25maWcucGVyc2lzdGVuY2U7XG4gIHZhciBnZXRSb290SG9zdENvbnRhaW5lciA9IGhvc3RDb250ZXh0LmdldFJvb3RIb3N0Q29udGFpbmVyLFxuICAgICAgcG9wSG9zdENvbnRleHQgPSBob3N0Q29udGV4dC5wb3BIb3N0Q29udGV4dCxcbiAgICAgIGdldEhvc3RDb250ZXh0ID0gaG9zdENvbnRleHQuZ2V0SG9zdENvbnRleHQsXG4gICAgICBwb3BIb3N0Q29udGFpbmVyID0gaG9zdENvbnRleHQucG9wSG9zdENvbnRhaW5lcjtcbiAgdmFyIHBvcExlZ2FjeUNvbnRleHRQcm92aWRlciA9IGxlZ2FjeUNvbnRleHQucG9wQ29udGV4dFByb3ZpZGVyLFxuICAgICAgcG9wVG9wTGV2ZWxMZWdhY3lDb250ZXh0T2JqZWN0ID0gbGVnYWN5Q29udGV4dC5wb3BUb3BMZXZlbENvbnRleHRPYmplY3Q7XG4gIHZhciBwb3BQcm92aWRlciA9IG5ld0NvbnRleHQucG9wUHJvdmlkZXI7XG4gIHZhciBwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlID0gaHlkcmF0aW9uQ29udGV4dC5wcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlLFxuICAgICAgcHJlcGFyZVRvSHlkcmF0ZUhvc3RUZXh0SW5zdGFuY2UgPSBoeWRyYXRpb25Db250ZXh0LnByZXBhcmVUb0h5ZHJhdGVIb3N0VGV4dEluc3RhbmNlLFxuICAgICAgcG9wSHlkcmF0aW9uU3RhdGUgPSBoeWRyYXRpb25Db250ZXh0LnBvcEh5ZHJhdGlvblN0YXRlO1xuXG5cbiAgZnVuY3Rpb24gbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcykge1xuICAgIC8vIFRhZyB0aGUgZmliZXIgd2l0aCBhbiB1cGRhdGUgZWZmZWN0LiBUaGlzIHR1cm5zIGEgUGxhY2VtZW50IGludG9cbiAgICAvLyBhbiBVcGRhdGVBbmRQbGFjZW1lbnQuXG4gICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1hcmtSZWYod29ya0luUHJvZ3Jlc3MpIHtcbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gUmVmO1xuICB9XG5cbiAgZnVuY3Rpb24gYXBwZW5kQWxsUmV0dXJucyhyZXR1cm5zLCB3b3JrSW5Qcm9ncmVzcykge1xuICAgIHZhciBub2RlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgIGlmIChub2RlKSB7XG4gICAgICBub2RlWydyZXR1cm4nXSA9IHdvcmtJblByb2dyZXNzO1xuICAgIH1cbiAgICB3aGlsZSAobm9kZSAhPT0gbnVsbCkge1xuICAgICAgaWYgKG5vZGUudGFnID09PSBIb3N0Q29tcG9uZW50IHx8IG5vZGUudGFnID09PSBIb3N0VGV4dCB8fCBub2RlLnRhZyA9PT0gSG9zdFBvcnRhbCkge1xuICAgICAgICBpbnZhcmlhbnQoZmFsc2UsICdBIGNhbGwgY2Fubm90IGhhdmUgaG9zdCBjb21wb25lbnQgY2hpbGRyZW4uJyk7XG4gICAgICB9IGVsc2UgaWYgKG5vZGUudGFnID09PSBSZXR1cm5Db21wb25lbnQpIHtcbiAgICAgICAgcmV0dXJucy5wdXNoKG5vZGUucGVuZGluZ1Byb3BzLnZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZS5jaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICBub2RlLmNoaWxkWydyZXR1cm4nXSA9IG5vZGU7XG4gICAgICAgIG5vZGUgPSBub2RlLmNoaWxkO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChub2RlLnNpYmxpbmcgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKG5vZGVbJ3JldHVybiddID09PSBudWxsIHx8IG5vZGVbJ3JldHVybiddID09PSB3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZVsncmV0dXJuJ107XG4gICAgICB9XG4gICAgICBub2RlLnNpYmxpbmdbJ3JldHVybiddID0gbm9kZVsncmV0dXJuJ107XG4gICAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG1vdmVDYWxsVG9IYW5kbGVyUGhhc2UoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgdmFyIHByb3BzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcztcbiAgICAhcHJvcHMgPyBpbnZhcmlhbnQoZmFsc2UsICdTaG91bGQgYmUgcmVzb2x2ZWQgYnkgbm93LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuXG4gICAgLy8gRmlyc3Qgc3RlcCBvZiB0aGUgY2FsbCBoYXMgY29tcGxldGVkLiBOb3cgd2UgbmVlZCB0byBkbyB0aGUgc2Vjb25kLlxuICAgIC8vIFRPRE86IEl0IHdvdWxkIGJlIG5pY2UgdG8gaGF2ZSBhIG11bHRpIHN0YWdlIGNhbGwgcmVwcmVzZW50ZWQgYnkgYVxuICAgIC8vIHNpbmdsZSBjb21wb25lbnQsIG9yIGF0IGxlYXN0IHRhaWwgY2FsbCBvcHRpbWl6ZSBuZXN0ZWQgb25lcy4gQ3VycmVudGx5XG4gICAgLy8gdGhhdCByZXF1aXJlcyBhZGRpdGlvbmFsIGZpZWxkcyB0aGF0IHdlIGRvbid0IHdhbnQgdG8gYWRkIHRvIHRoZSBmaWJlci5cbiAgICAvLyBTbyB0aGlzIHJlcXVpcmVzIG5lc3RlZCBoYW5kbGVycy5cbiAgICAvLyBOb3RlOiBUaGlzIGRvZXNuJ3QgbXV0YXRlIHRoZSBhbHRlcm5hdGUgbm9kZS4gSSBkb24ndCB0aGluayBpdCBuZWVkcyB0b1xuICAgIC8vIHNpbmNlIHRoaXMgc3RhZ2UgaXMgcmVzZXQgZm9yIGV2ZXJ5IHBhc3MuXG4gICAgd29ya0luUHJvZ3Jlc3MudGFnID0gQ2FsbEhhbmRsZXJQaGFzZTtcblxuICAgIC8vIEJ1aWxkIHVwIHRoZSByZXR1cm5zLlxuICAgIC8vIFRPRE86IENvbXBhcmUgdGhpcyB0byBhIGdlbmVyYXRvciBvciBvcGFxdWUgaGVscGVycyBsaWtlIENoaWxkcmVuLlxuICAgIHZhciByZXR1cm5zID0gW107XG4gICAgYXBwZW5kQWxsUmV0dXJucyhyZXR1cm5zLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgdmFyIGZuID0gcHJvcHMuaGFuZGxlcjtcbiAgICB2YXIgY2hpbGRQcm9wcyA9IHByb3BzLnByb3BzO1xuICAgIHZhciBuZXh0Q2hpbGRyZW4gPSBmbihjaGlsZFByb3BzLCByZXR1cm5zKTtcblxuICAgIHZhciBjdXJyZW50Rmlyc3RDaGlsZCA9IGN1cnJlbnQgIT09IG51bGwgPyBjdXJyZW50LmNoaWxkIDogbnVsbDtcbiAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJlY29uY2lsZUNoaWxkRmliZXJzKHdvcmtJblByb2dyZXNzLCBjdXJyZW50Rmlyc3RDaGlsZCwgbmV4dENoaWxkcmVuLCByZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICB9XG5cbiAgZnVuY3Rpb24gYXBwZW5kQWxsQ2hpbGRyZW4ocGFyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICAgIC8vIFdlIG9ubHkgaGF2ZSB0aGUgdG9wIEZpYmVyIHRoYXQgd2FzIGNyZWF0ZWQgYnV0IHdlIG5lZWQgcmVjdXJzZSBkb3duIGl0c1xuICAgIC8vIGNoaWxkcmVuIHRvIGZpbmQgYWxsIHRoZSB0ZXJtaW5hbCBub2Rlcy5cbiAgICB2YXIgbm9kZSA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgICBpZiAobm9kZS50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgbm9kZS50YWcgPT09IEhvc3RUZXh0KSB7XG4gICAgICAgIGFwcGVuZEluaXRpYWxDaGlsZChwYXJlbnQsIG5vZGUuc3RhdGVOb2RlKTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZS50YWcgPT09IEhvc3RQb3J0YWwpIHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHBvcnRhbCBjaGlsZCwgdGhlbiB3ZSBkb24ndCB3YW50IHRvIHRyYXZlcnNlXG4gICAgICAgIC8vIGRvd24gaXRzIGNoaWxkcmVuLiBJbnN0ZWFkLCB3ZSdsbCBnZXQgaW5zZXJ0aW9ucyBmcm9tIGVhY2ggY2hpbGQgaW5cbiAgICAgICAgLy8gdGhlIHBvcnRhbCBkaXJlY3RseS5cbiAgICAgIH0gZWxzZSBpZiAobm9kZS5jaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICBub2RlLmNoaWxkWydyZXR1cm4nXSA9IG5vZGU7XG4gICAgICAgIG5vZGUgPSBub2RlLmNoaWxkO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlID09PSB3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB3aGlsZSAobm9kZS5zaWJsaW5nID09PSBudWxsKSB7XG4gICAgICAgIGlmIChub2RlWydyZXR1cm4nXSA9PT0gbnVsbCB8fCBub2RlWydyZXR1cm4nXSA9PT0gd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGVbJ3JldHVybiddO1xuICAgICAgfVxuICAgICAgbm9kZS5zaWJsaW5nWydyZXR1cm4nXSA9IG5vZGVbJ3JldHVybiddO1xuICAgICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgICB9XG4gIH1cblxuICB2YXIgdXBkYXRlSG9zdENvbnRhaW5lciA9IHZvaWQgMDtcbiAgdmFyIHVwZGF0ZUhvc3RDb21wb25lbnQgPSB2b2lkIDA7XG4gIHZhciB1cGRhdGVIb3N0VGV4dCA9IHZvaWQgMDtcbiAgaWYgKG11dGF0aW9uKSB7XG4gICAgaWYgKGVuYWJsZU11dGF0aW5nUmVjb25jaWxlcikge1xuICAgICAgLy8gTXV0YXRpb24gbW9kZVxuICAgICAgdXBkYXRlSG9zdENvbnRhaW5lciA9IGZ1bmN0aW9uICh3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgICAvLyBOb29wXG4gICAgICB9O1xuICAgICAgdXBkYXRlSG9zdENvbXBvbmVudCA9IGZ1bmN0aW9uIChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgdXBkYXRlUGF5bG9hZCwgdHlwZSwgb2xkUHJvcHMsIG5ld1Byb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UsIGN1cnJlbnRIb3N0Q29udGV4dCkge1xuICAgICAgICAvLyBUT0RPOiBUeXBlIHRoaXMgc3BlY2lmaWMgdG8gdGhpcyB0eXBlIG9mIGNvbXBvbmVudC5cbiAgICAgICAgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPSB1cGRhdGVQYXlsb2FkO1xuICAgICAgICAvLyBJZiB0aGUgdXBkYXRlIHBheWxvYWQgaW5kaWNhdGVzIHRoYXQgdGhlcmUgaXMgYSBjaGFuZ2Ugb3IgaWYgdGhlcmVcbiAgICAgICAgLy8gaXMgYSBuZXcgcmVmIHdlIG1hcmsgdGhpcyBhcyBhbiB1cGRhdGUuIEFsbCB0aGUgd29yayBpcyBkb25lIGluIGNvbW1pdFdvcmsuXG4gICAgICAgIGlmICh1cGRhdGVQYXlsb2FkKSB7XG4gICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB1cGRhdGVIb3N0VGV4dCA9IGZ1bmN0aW9uIChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgb2xkVGV4dCwgbmV3VGV4dCkge1xuICAgICAgICAvLyBJZiB0aGUgdGV4dCBkaWZmZXJzLCBtYXJrIGl0IGFzIGFuIHVwZGF0ZS4gQWxsIHRoZSB3b3JrIGluIGRvbmUgaW4gY29tbWl0V29yay5cbiAgICAgICAgaWYgKG9sZFRleHQgIT09IG5ld1RleHQpIHtcbiAgICAgICAgICBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW52YXJpYW50KGZhbHNlLCAnTXV0YXRpbmcgcmVjb25jaWxlciBpcyBkaXNhYmxlZC4nKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAocGVyc2lzdGVuY2UpIHtcbiAgICBpZiAoZW5hYmxlUGVyc2lzdGVudFJlY29uY2lsZXIpIHtcbiAgICAgIC8vIFBlcnNpc3RlbnQgaG9zdCB0cmVlIG1vZGVcbiAgICAgIHZhciBjbG9uZUluc3RhbmNlID0gcGVyc2lzdGVuY2UuY2xvbmVJbnN0YW5jZSxcbiAgICAgICAgICBjcmVhdGVDb250YWluZXJDaGlsZFNldCA9IHBlcnNpc3RlbmNlLmNyZWF0ZUNvbnRhaW5lckNoaWxkU2V0LFxuICAgICAgICAgIGFwcGVuZENoaWxkVG9Db250YWluZXJDaGlsZFNldCA9IHBlcnNpc3RlbmNlLmFwcGVuZENoaWxkVG9Db250YWluZXJDaGlsZFNldCxcbiAgICAgICAgICBmaW5hbGl6ZUNvbnRhaW5lckNoaWxkcmVuID0gcGVyc2lzdGVuY2UuZmluYWxpemVDb250YWluZXJDaGlsZHJlbjtcblxuICAgICAgLy8gQW4gdW5mb3J0dW5hdGUgZm9yayBvZiBhcHBlbmRBbGxDaGlsZHJlbiBiZWNhdXNlIHdlIGhhdmUgdHdvIGRpZmZlcmVudCBwYXJlbnQgdHlwZXMuXG5cbiAgICAgIHZhciBhcHBlbmRBbGxDaGlsZHJlblRvQ29udGFpbmVyID0gZnVuY3Rpb24gKGNvbnRhaW5lckNoaWxkU2V0LCB3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgICAvLyBXZSBvbmx5IGhhdmUgdGhlIHRvcCBGaWJlciB0aGF0IHdhcyBjcmVhdGVkIGJ1dCB3ZSBuZWVkIHJlY3Vyc2UgZG93biBpdHNcbiAgICAgICAgLy8gY2hpbGRyZW4gdG8gZmluZCBhbGwgdGhlIHRlcm1pbmFsIG5vZGVzLlxuICAgICAgICB2YXIgbm9kZSA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgICAgICB3aGlsZSAobm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgIGlmIChub2RlLnRhZyA9PT0gSG9zdENvbXBvbmVudCB8fCBub2RlLnRhZyA9PT0gSG9zdFRleHQpIHtcbiAgICAgICAgICAgIGFwcGVuZENoaWxkVG9Db250YWluZXJDaGlsZFNldChjb250YWluZXJDaGlsZFNldCwgbm9kZS5zdGF0ZU5vZGUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAobm9kZS50YWcgPT09IEhvc3RQb3J0YWwpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgYSBwb3J0YWwgY2hpbGQsIHRoZW4gd2UgZG9uJ3Qgd2FudCB0byB0cmF2ZXJzZVxuICAgICAgICAgICAgLy8gZG93biBpdHMgY2hpbGRyZW4uIEluc3RlYWQsIHdlJ2xsIGdldCBpbnNlcnRpb25zIGZyb20gZWFjaCBjaGlsZCBpblxuICAgICAgICAgICAgLy8gdGhlIHBvcnRhbCBkaXJlY3RseS5cbiAgICAgICAgICB9IGVsc2UgaWYgKG5vZGUuY2hpbGQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIG5vZGUuY2hpbGRbJ3JldHVybiddID0gbm9kZTtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLmNoaWxkO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChub2RlID09PSB3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB3aGlsZSAobm9kZS5zaWJsaW5nID09PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAobm9kZVsncmV0dXJuJ10gPT09IG51bGwgfHwgbm9kZVsncmV0dXJuJ10gPT09IHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGUgPSBub2RlWydyZXR1cm4nXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbm9kZS5zaWJsaW5nWydyZXR1cm4nXSA9IG5vZGVbJ3JldHVybiddO1xuICAgICAgICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB1cGRhdGVIb3N0Q29udGFpbmVyID0gZnVuY3Rpb24gKHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgIHZhciBwb3J0YWxPclJvb3QgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICAgIHZhciBjaGlsZHJlblVuY2hhbmdlZCA9IHdvcmtJblByb2dyZXNzLmZpcnN0RWZmZWN0ID09PSBudWxsO1xuICAgICAgICBpZiAoY2hpbGRyZW5VbmNoYW5nZWQpIHtcbiAgICAgICAgICAvLyBObyBjaGFuZ2VzLCBqdXN0IHJldXNlIHRoZSBleGlzdGluZyBpbnN0YW5jZS5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgY29udGFpbmVyID0gcG9ydGFsT3JSb290LmNvbnRhaW5lckluZm87XG4gICAgICAgICAgdmFyIG5ld0NoaWxkU2V0ID0gY3JlYXRlQ29udGFpbmVyQ2hpbGRTZXQoY29udGFpbmVyKTtcbiAgICAgICAgICAvLyBJZiBjaGlsZHJlbiBtaWdodCBoYXZlIGNoYW5nZWQsIHdlIGhhdmUgdG8gYWRkIHRoZW0gYWxsIHRvIHRoZSBzZXQuXG4gICAgICAgICAgYXBwZW5kQWxsQ2hpbGRyZW5Ub0NvbnRhaW5lcihuZXdDaGlsZFNldCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHBvcnRhbE9yUm9vdC5wZW5kaW5nQ2hpbGRyZW4gPSBuZXdDaGlsZFNldDtcbiAgICAgICAgICAvLyBTY2hlZHVsZSBhbiB1cGRhdGUgb24gdGhlIGNvbnRhaW5lciB0byBzd2FwIG91dCB0aGUgY29udGFpbmVyLlxuICAgICAgICAgIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIGZpbmFsaXplQ29udGFpbmVyQ2hpbGRyZW4oY29udGFpbmVyLCBuZXdDaGlsZFNldCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB1cGRhdGVIb3N0Q29tcG9uZW50ID0gZnVuY3Rpb24gKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCB1cGRhdGVQYXlsb2FkLCB0eXBlLCBvbGRQcm9wcywgbmV3UHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgY3VycmVudEhvc3RDb250ZXh0KSB7XG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBubyBlZmZlY3RzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG5vZGUsIHRoZW4gbm9uZSBvZiBvdXIgY2hpbGRyZW4gaGFkIGFueSB1cGRhdGVzLlxuICAgICAgICAvLyBUaGlzIGd1YXJhbnRlZXMgdGhhdCB3ZSBjYW4gcmV1c2UgYWxsIG9mIHRoZW0uXG4gICAgICAgIHZhciBjaGlsZHJlblVuY2hhbmdlZCA9IHdvcmtJblByb2dyZXNzLmZpcnN0RWZmZWN0ID09PSBudWxsO1xuICAgICAgICB2YXIgY3VycmVudEluc3RhbmNlID0gY3VycmVudC5zdGF0ZU5vZGU7XG4gICAgICAgIGlmIChjaGlsZHJlblVuY2hhbmdlZCAmJiB1cGRhdGVQYXlsb2FkID09PSBudWxsKSB7XG4gICAgICAgICAgLy8gTm8gY2hhbmdlcywganVzdCByZXVzZSB0aGUgZXhpc3RpbmcgaW5zdGFuY2UuXG4gICAgICAgICAgLy8gTm90ZSB0aGF0IHRoaXMgbWlnaHQgcmVsZWFzZSBhIHByZXZpb3VzIGNsb25lLlxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGN1cnJlbnRJbnN0YW5jZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcmVjeWNsYWJsZUluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICAgICAgIHZhciBuZXdJbnN0YW5jZSA9IGNsb25lSW5zdGFuY2UoY3VycmVudEluc3RhbmNlLCB1cGRhdGVQYXlsb2FkLCB0eXBlLCBvbGRQcm9wcywgbmV3UHJvcHMsIHdvcmtJblByb2dyZXNzLCBjaGlsZHJlblVuY2hhbmdlZCwgcmVjeWNsYWJsZUluc3RhbmNlKTtcbiAgICAgICAgICBpZiAoZmluYWxpemVJbml0aWFsQ2hpbGRyZW4obmV3SW5zdGFuY2UsIHR5cGUsIG5ld1Byb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UsIGN1cnJlbnRIb3N0Q29udGV4dCkpIHtcbiAgICAgICAgICAgIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBuZXdJbnN0YW5jZTtcbiAgICAgICAgICBpZiAoY2hpbGRyZW5VbmNoYW5nZWQpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBubyBvdGhlciBlZmZlY3RzIGluIHRoaXMgdHJlZSwgd2UgbmVlZCB0byBmbGFnIHRoaXMgbm9kZSBhcyBoYXZpbmcgb25lLlxuICAgICAgICAgICAgLy8gRXZlbiB0aG91Z2ggd2UncmUgbm90IGdvaW5nIHRvIHVzZSBpdCBmb3IgYW55dGhpbmcuXG4gICAgICAgICAgICAvLyBPdGhlcndpc2UgcGFyZW50cyB3b24ndCBrbm93IHRoYXQgdGhlcmUgYXJlIG5ldyBjaGlsZHJlbiB0byBwcm9wYWdhdGUgdXB3YXJkcy5cbiAgICAgICAgICAgIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiBjaGlsZHJlbiBtaWdodCBoYXZlIGNoYW5nZWQsIHdlIGhhdmUgdG8gYWRkIHRoZW0gYWxsIHRvIHRoZSBzZXQuXG4gICAgICAgICAgICBhcHBlbmRBbGxDaGlsZHJlbihuZXdJbnN0YW5jZSwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHVwZGF0ZUhvc3RUZXh0ID0gZnVuY3Rpb24gKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBvbGRUZXh0LCBuZXdUZXh0KSB7XG4gICAgICAgIGlmIChvbGRUZXh0ICE9PSBuZXdUZXh0KSB7XG4gICAgICAgICAgLy8gSWYgdGhlIHRleHQgY29udGVudCBkaWZmZXJzLCB3ZSdsbCBjcmVhdGUgYSBuZXcgdGV4dCBpbnN0YW5jZSBmb3IgaXQuXG4gICAgICAgICAgdmFyIHJvb3RDb250YWluZXJJbnN0YW5jZSA9IGdldFJvb3RIb3N0Q29udGFpbmVyKCk7XG4gICAgICAgICAgdmFyIGN1cnJlbnRIb3N0Q29udGV4dCA9IGdldEhvc3RDb250ZXh0KCk7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gY3JlYXRlVGV4dEluc3RhbmNlKG5ld1RleHQsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgY3VycmVudEhvc3RDb250ZXh0LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgLy8gV2UnbGwgaGF2ZSB0byBtYXJrIGl0IGFzIGhhdmluZyBhbiBlZmZlY3QsIGV2ZW4gdGhvdWdoIHdlIHdvbid0IHVzZSB0aGUgZWZmZWN0IGZvciBhbnl0aGluZy5cbiAgICAgICAgICAvLyBUaGlzIGxldHMgdGhlIHBhcmVudHMga25vdyB0aGF0IGF0IGxlYXN0IG9uZSBvZiB0aGVpciBjaGlsZHJlbiBoYXMgY2hhbmdlZC5cbiAgICAgICAgICBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW52YXJpYW50KGZhbHNlLCAnUGVyc2lzdGVudCByZWNvbmNpbGVyIGlzIGRpc2FibGVkLicpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZW5hYmxlTm9vcFJlY29uY2lsZXIpIHtcbiAgICAgIC8vIE5vIGhvc3Qgb3BlcmF0aW9uc1xuICAgICAgdXBkYXRlSG9zdENvbnRhaW5lciA9IGZ1bmN0aW9uICh3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgICAvLyBOb29wXG4gICAgICB9O1xuICAgICAgdXBkYXRlSG9zdENvbXBvbmVudCA9IGZ1bmN0aW9uIChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgdXBkYXRlUGF5bG9hZCwgdHlwZSwgb2xkUHJvcHMsIG5ld1Byb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UsIGN1cnJlbnRIb3N0Q29udGV4dCkge1xuICAgICAgICAvLyBOb29wXG4gICAgICB9O1xuICAgICAgdXBkYXRlSG9zdFRleHQgPSBmdW5jdGlvbiAoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG9sZFRleHQsIG5ld1RleHQpIHtcbiAgICAgICAgLy8gTm9vcFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW52YXJpYW50KGZhbHNlLCAnTm9vcCByZWNvbmNpbGVyIGlzIGRpc2FibGVkLicpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXBsZXRlV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICB2YXIgbmV3UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgc3dpdGNoICh3b3JrSW5Qcm9ncmVzcy50YWcpIHtcbiAgICAgIGNhc2UgRnVuY3Rpb25hbENvbXBvbmVudDpcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAgICB7XG4gICAgICAgICAgLy8gV2UgYXJlIGxlYXZpbmcgdGhpcyBzdWJ0cmVlLCBzbyBwb3AgY29udGV4dCBpZiBhbnkuXG4gICAgICAgICAgcG9wTGVnYWN5Q29udGV4dFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcblxuICAgICAgICAgIC8vIElmIHRoaXMgY29tcG9uZW50IGNhdWdodCBhbiBlcnJvciwgc2NoZWR1bGUgYW4gZXJyb3IgbG9nIGVmZmVjdC5cbiAgICAgICAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgICAgICAgaWYgKHVwZGF0ZVF1ZXVlICE9PSBudWxsICYmIHVwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgJj0gfkRpZENhcHR1cmU7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZENhdGNoID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBFcnJMb2c7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBOb3JtYWxseSB3ZSBjbGVhciB0aGlzIGluIHRoZSBjb21taXQgcGhhc2UsIGJ1dCBzaW5jZSB3ZSBkaWQgbm90XG4gICAgICAgICAgICAgIC8vIHNjaGVkdWxlIGFuIGVmZmVjdCwgd2UgbmVlZCB0byByZXNldCBpdCBoZXJlLlxuICAgICAgICAgICAgICB1cGRhdGVRdWV1ZS5jYXB0dXJlZFZhbHVlcyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICBjYXNlIEhvc3RSb290OlxuICAgICAgICB7XG4gICAgICAgICAgcG9wSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgcG9wVG9wTGV2ZWxMZWdhY3lDb250ZXh0T2JqZWN0KHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICB2YXIgZmliZXJSb290ID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICAgICAgIGlmIChmaWJlclJvb3QucGVuZGluZ0NvbnRleHQpIHtcbiAgICAgICAgICAgIGZpYmVyUm9vdC5jb250ZXh0ID0gZmliZXJSb290LnBlbmRpbmdDb250ZXh0O1xuICAgICAgICAgICAgZmliZXJSb290LnBlbmRpbmdDb250ZXh0ID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGN1cnJlbnQgPT09IG51bGwgfHwgY3VycmVudC5jaGlsZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gSWYgd2UgaHlkcmF0ZWQsIHBvcCBzbyB0aGF0IHdlIGNhbiBkZWxldGUgYW55IHJlbWFpbmluZyBjaGlsZHJlblxuICAgICAgICAgICAgLy8gdGhhdCB3ZXJlbid0IGh5ZHJhdGVkLlxuICAgICAgICAgICAgcG9wSHlkcmF0aW9uU3RhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgLy8gVGhpcyByZXNldHMgdGhlIGhhY2t5IHN0YXRlIHRvIGZpeCBpc01vdW50ZWQgYmVmb3JlIGNvbW1pdHRpbmcuXG4gICAgICAgICAgICAvLyBUT0RPOiBEZWxldGUgdGhpcyB3aGVuIHdlIGRlbGV0ZSBpc01vdW50ZWQgYW5kIGZpbmRET01Ob2RlLlxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnICY9IH5QbGFjZW1lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVwZGF0ZUhvc3RDb250YWluZXIod29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgICAgICAgdmFyIF91cGRhdGVRdWV1ZSA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlO1xuICAgICAgICAgIGlmIChfdXBkYXRlUXVldWUgIT09IG51bGwgJiYgX3VwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gRXJyTG9nO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICB7XG4gICAgICAgICAgcG9wSG9zdENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHZhciByb290Q29udGFpbmVySW5zdGFuY2UgPSBnZXRSb290SG9zdENvbnRhaW5lcigpO1xuICAgICAgICAgIHZhciB0eXBlID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICAgICAgICBpZiAoY3VycmVudCAhPT0gbnVsbCAmJiB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhbiBhbHRlcm5hdGUsIHRoYXQgbWVhbnMgdGhpcyBpcyBhbiB1cGRhdGUgYW5kIHdlIG5lZWQgdG9cbiAgICAgICAgICAgIC8vIHNjaGVkdWxlIGEgc2lkZS1lZmZlY3QgdG8gZG8gdGhlIHVwZGF0ZXMuXG4gICAgICAgICAgICB2YXIgb2xkUHJvcHMgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICAvLyBJZiB3ZSBnZXQgdXBkYXRlZCBiZWNhdXNlIG9uZSBvZiBvdXIgY2hpbGRyZW4gdXBkYXRlZCwgd2UgZG9uJ3RcbiAgICAgICAgICAgIC8vIGhhdmUgbmV3UHJvcHMgc28gd2UnbGwgaGF2ZSB0byByZXVzZSB0aGVtLlxuICAgICAgICAgICAgLy8gVE9ETzogU3BsaXQgdGhlIHVwZGF0ZSBBUEkgYXMgc2VwYXJhdGUgZm9yIHRoZSBwcm9wcyB2cy4gY2hpbGRyZW4uXG4gICAgICAgICAgICAvLyBFdmVuIGJldHRlciB3b3VsZCBiZSBpZiBjaGlsZHJlbiB3ZXJlbid0IHNwZWNpYWwgY2FzZWQgYXQgYWxsIHRoby5cbiAgICAgICAgICAgIHZhciBfaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICAgICAgICB2YXIgY3VycmVudEhvc3RDb250ZXh0ID0gZ2V0SG9zdENvbnRleHQoKTtcbiAgICAgICAgICAgIC8vIFRPRE86IEV4cGVyaWVuY2luZyBhbiBlcnJvciB3aGVyZSBvbGRQcm9wcyBpcyBudWxsLiBTdWdnZXN0cyBhIGhvc3RcbiAgICAgICAgICAgIC8vIGNvbXBvbmVudCBpcyBoaXR0aW5nIHRoZSByZXN1bWUgcGF0aC4gRmlndXJlIG91dCB3aHkuIFBvc3NpYmx5XG4gICAgICAgICAgICAvLyByZWxhdGVkIHRvIGBoaWRkZW5gLlxuICAgICAgICAgICAgdmFyIHVwZGF0ZVBheWxvYWQgPSBwcmVwYXJlVXBkYXRlKF9pbnN0YW5jZSwgdHlwZSwgb2xkUHJvcHMsIG5ld1Byb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UsIGN1cnJlbnRIb3N0Q29udGV4dCk7XG5cbiAgICAgICAgICAgIHVwZGF0ZUhvc3RDb21wb25lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHVwZGF0ZVBheWxvYWQsIHR5cGUsIG9sZFByb3BzLCBuZXdQcm9wcywgcm9vdENvbnRhaW5lckluc3RhbmNlLCBjdXJyZW50SG9zdENvbnRleHQpO1xuXG4gICAgICAgICAgICBpZiAoY3VycmVudC5yZWYgIT09IHdvcmtJblByb2dyZXNzLnJlZikge1xuICAgICAgICAgICAgICBtYXJrUmVmKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFuZXdQcm9wcykge1xuICAgICAgICAgICAgICAhKHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSAhPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdXZSBtdXN0IGhhdmUgbmV3IHByb3BzIGZvciBuZXcgbW91bnRzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICAgICAgICAgICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gd2hlbiB3ZSBhYm9ydCB3b3JrLlxuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIF9jdXJyZW50SG9zdENvbnRleHQgPSBnZXRIb3N0Q29udGV4dCgpO1xuICAgICAgICAgICAgLy8gVE9ETzogTW92ZSBjcmVhdGVJbnN0YW5jZSB0byBiZWdpbldvcmsgYW5kIGtlZXAgaXQgb24gYSBjb250ZXh0XG4gICAgICAgICAgICAvLyBcInN0YWNrXCIgYXMgdGhlIHBhcmVudC4gVGhlbiBhcHBlbmQgY2hpbGRyZW4gYXMgd2UgZ28gaW4gYmVnaW5Xb3JrXG4gICAgICAgICAgICAvLyBvciBjb21wbGV0ZVdvcmsgZGVwZW5kaW5nIG9uIHdlIHdhbnQgdG8gYWRkIHRoZW4gdG9wLT5kb3duIG9yXG4gICAgICAgICAgICAvLyBib3R0b20tPnVwLiBUb3AtPmRvd24gaXMgZmFzdGVyIGluIElFMTEuXG4gICAgICAgICAgICB2YXIgd2FzSHlkcmF0ZWQgPSBwb3BIeWRyYXRpb25TdGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICBpZiAod2FzSHlkcmF0ZWQpIHtcbiAgICAgICAgICAgICAgLy8gVE9ETzogTW92ZSB0aGlzIGFuZCBjcmVhdGVJbnN0YW5jZSBzdGVwIGludG8gdGhlIGJlZ2luUGhhc2VcbiAgICAgICAgICAgICAgLy8gdG8gY29uc29saWRhdGUuXG4gICAgICAgICAgICAgIGlmIChwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlKHdvcmtJblByb2dyZXNzLCByb290Q29udGFpbmVySW5zdGFuY2UsIF9jdXJyZW50SG9zdENvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgY2hhbmdlcyB0byB0aGUgaHlkcmF0ZWQgbm9kZSBuZWVkcyB0byBiZSBhcHBsaWVkIGF0IHRoZVxuICAgICAgICAgICAgICAgIC8vIGNvbW1pdC1waGFzZSB3ZSBtYXJrIHRoaXMgYXMgc3VjaC5cbiAgICAgICAgICAgICAgICBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFyIF9pbnN0YW5jZTIgPSBjcmVhdGVJbnN0YW5jZSh0eXBlLCBuZXdQcm9wcywgcm9vdENvbnRhaW5lckluc3RhbmNlLCBfY3VycmVudEhvc3RDb250ZXh0LCB3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgICAgICAgICAgICAgYXBwZW5kQWxsQ2hpbGRyZW4oX2luc3RhbmNlMiwgd29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgICAgICAgICAgIC8vIENlcnRhaW4gcmVuZGVyZXJzIHJlcXVpcmUgY29tbWl0LXRpbWUgZWZmZWN0cyBmb3IgaW5pdGlhbCBtb3VudC5cbiAgICAgICAgICAgICAgLy8gKGVnIERPTSByZW5kZXJlciBzdXBwb3J0cyBhdXRvLWZvY3VzIGZvciBjZXJ0YWluIGVsZW1lbnRzKS5cbiAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHN1Y2ggcmVuZGVyZXJzIGdldCBzY2hlZHVsZWQgZm9yIGxhdGVyIHdvcmsuXG4gICAgICAgICAgICAgIGlmIChmaW5hbGl6ZUluaXRpYWxDaGlsZHJlbihfaW5zdGFuY2UyLCB0eXBlLCBuZXdQcm9wcywgcm9vdENvbnRhaW5lckluc3RhbmNlLCBfY3VycmVudEhvc3RDb250ZXh0KSkge1xuICAgICAgICAgICAgICAgIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IF9pbnN0YW5jZTI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5yZWYgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSByZWYgb24gYSBob3N0IG5vZGUgd2UgbmVlZCB0byBzY2hlZHVsZSBhIGNhbGxiYWNrXG4gICAgICAgICAgICAgIG1hcmtSZWYod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgY2FzZSBIb3N0VGV4dDpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBuZXdUZXh0ID0gbmV3UHJvcHM7XG4gICAgICAgICAgaWYgKGN1cnJlbnQgJiYgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBvbGRUZXh0ID0gY3VycmVudC5tZW1vaXplZFByb3BzO1xuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhbiBhbHRlcm5hdGUsIHRoYXQgbWVhbnMgdGhpcyBpcyBhbiB1cGRhdGUgYW5kIHdlIG5lZWRcbiAgICAgICAgICAgIC8vIHRvIHNjaGVkdWxlIGEgc2lkZS1lZmZlY3QgdG8gZG8gdGhlIHVwZGF0ZXMuXG4gICAgICAgICAgICB1cGRhdGVIb3N0VGV4dChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgb2xkVGV4dCwgbmV3VGV4dCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbmV3VGV4dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgISh3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgIT09IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnV2UgbXVzdCBoYXZlIG5ldyBwcm9wcyBmb3IgbmV3IG1vdW50cy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgLy8gVGhpcyBjYW4gaGFwcGVuIHdoZW4gd2UgYWJvcnQgd29yay5cbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgX3Jvb3RDb250YWluZXJJbnN0YW5jZSA9IGdldFJvb3RIb3N0Q29udGFpbmVyKCk7XG4gICAgICAgICAgICB2YXIgX2N1cnJlbnRIb3N0Q29udGV4dDIgPSBnZXRIb3N0Q29udGV4dCgpO1xuICAgICAgICAgICAgdmFyIF93YXNIeWRyYXRlZCA9IHBvcEh5ZHJhdGlvblN0YXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgIGlmIChfd2FzSHlkcmF0ZWQpIHtcbiAgICAgICAgICAgICAgaWYgKHByZXBhcmVUb0h5ZHJhdGVIb3N0VGV4dEluc3RhbmNlKHdvcmtJblByb2dyZXNzKSkge1xuICAgICAgICAgICAgICAgIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBjcmVhdGVUZXh0SW5zdGFuY2UobmV3VGV4dCwgX3Jvb3RDb250YWluZXJJbnN0YW5jZSwgX2N1cnJlbnRIb3N0Q29udGV4dDIsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgQ2FsbENvbXBvbmVudDpcbiAgICAgICAgcmV0dXJuIG1vdmVDYWxsVG9IYW5kbGVyUGhhc2UoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGNhc2UgQ2FsbEhhbmRsZXJQaGFzZTpcbiAgICAgICAgLy8gUmVzZXQgdGhlIHRhZyB0byBub3cgYmUgYSBmaXJzdCBwaGFzZSBjYWxsLlxuICAgICAgICB3b3JrSW5Qcm9ncmVzcy50YWcgPSBDYWxsQ29tcG9uZW50O1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGNhc2UgUmV0dXJuQ29tcG9uZW50OlxuICAgICAgICAvLyBEb2VzIG5vdGhpbmcuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSBGb3J3YXJkUmVmOlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGNhc2UgRnJhZ21lbnQ6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSBNb2RlOlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgICAgcG9wSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHVwZGF0ZUhvc3RDb250YWluZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGNhc2UgQ29udGV4dFByb3ZpZGVyOlxuICAgICAgICAvLyBQb3AgcHJvdmlkZXIgZmliZXJcbiAgICAgICAgcG9wUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGNhc2UgQ29udGV4dENvbnN1bWVyOlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIC8vIEVycm9yIGNhc2VzXG4gICAgICBjYXNlIEluZGV0ZXJtaW5hdGVDb21wb25lbnQ6XG4gICAgICAgIGludmFyaWFudChmYWxzZSwgJ0FuIGluZGV0ZXJtaW5hdGUgY29tcG9uZW50IHNob3VsZCBoYXZlIGJlY29tZSBkZXRlcm1pbmF0ZSBiZWZvcmUgY29tcGxldGluZy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1mYWxsdGhyb3VnaFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaW52YXJpYW50KGZhbHNlLCAnVW5rbm93biB1bml0IG9mIHdvcmsgdGFnLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgY29tcGxldGVXb3JrOiBjb21wbGV0ZVdvcmtcbiAgfTtcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcHR1cmVkVmFsdWUodmFsdWUsIHNvdXJjZSkge1xuICAvLyBJZiB0aGUgdmFsdWUgaXMgYW4gZXJyb3IsIGNhbGwgdGhpcyBmdW5jdGlvbiBpbW1lZGlhdGVseSBhZnRlciBpdCBpcyB0aHJvd25cbiAgLy8gc28gdGhlIHN0YWNrIGlzIGFjY3VyYXRlLlxuICByZXR1cm4ge1xuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICBzdGFjazogZ2V0U3RhY2tBZGRlbmR1bUJ5V29ya0luUHJvZ3Jlc3NGaWJlcihzb3VyY2UpXG4gIH07XG59XG5cbnZhciBSZWFjdEZpYmVyVW53aW5kV29yayA9IGZ1bmN0aW9uIChob3N0Q29udGV4dCwgbGVnYWN5Q29udGV4dCwgbmV3Q29udGV4dCwgc2NoZWR1bGVXb3JrLCBpc0FscmVhZHlGYWlsZWRMZWdhY3lFcnJvckJvdW5kYXJ5KSB7XG4gIHZhciBwb3BIb3N0Q29udGFpbmVyID0gaG9zdENvbnRleHQucG9wSG9zdENvbnRhaW5lcixcbiAgICAgIHBvcEhvc3RDb250ZXh0ID0gaG9zdENvbnRleHQucG9wSG9zdENvbnRleHQ7XG4gIHZhciBwb3BMZWdhY3lDb250ZXh0UHJvdmlkZXIgPSBsZWdhY3lDb250ZXh0LnBvcENvbnRleHRQcm92aWRlcixcbiAgICAgIHBvcFRvcExldmVsTGVnYWN5Q29udGV4dE9iamVjdCA9IGxlZ2FjeUNvbnRleHQucG9wVG9wTGV2ZWxDb250ZXh0T2JqZWN0O1xuICB2YXIgcG9wUHJvdmlkZXIgPSBuZXdDb250ZXh0LnBvcFByb3ZpZGVyO1xuXG5cbiAgZnVuY3Rpb24gdGhyb3dFeGNlcHRpb24ocmV0dXJuRmliZXIsIHNvdXJjZUZpYmVyLCByYXdWYWx1ZSkge1xuICAgIC8vIFRoZSBzb3VyY2UgZmliZXIgZGlkIG5vdCBjb21wbGV0ZS5cbiAgICBzb3VyY2VGaWJlci5lZmZlY3RUYWcgfD0gSW5jb21wbGV0ZTtcbiAgICAvLyBJdHMgZWZmZWN0IGxpc3QgaXMgbm8gbG9uZ2VyIHZhbGlkLlxuICAgIHNvdXJjZUZpYmVyLmZpcnN0RWZmZWN0ID0gc291cmNlRmliZXIubGFzdEVmZmVjdCA9IG51bGw7XG5cbiAgICB2YXIgdmFsdWUgPSBjcmVhdGVDYXB0dXJlZFZhbHVlKHJhd1ZhbHVlLCBzb3VyY2VGaWJlcik7XG5cbiAgICB2YXIgd29ya0luUHJvZ3Jlc3MgPSByZXR1cm5GaWJlcjtcbiAgICBkbyB7XG4gICAgICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgICAgICBjYXNlIEhvc3RSb290OlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIC8vIFVuY2F1Z2h0IGVycm9yXG4gICAgICAgICAgICB2YXIgZXJyb3JJbmZvID0gdmFsdWU7XG4gICAgICAgICAgICBlbnN1cmVVcGRhdGVRdWV1ZXMod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgICAgICAgICB1cGRhdGVRdWV1ZS5jYXB0dXJlZFZhbHVlcyA9IFtlcnJvckluZm9dO1xuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFNob3VsZENhcHR1cmU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAgICAgIC8vIENhcHR1cmUgYW5kIHJldHJ5XG4gICAgICAgICAgdmFyIGN0b3IgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgICAgICAgIHZhciBfaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICAgICAgaWYgKCh3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgJiBEaWRDYXB0dXJlKSA9PT0gTm9FZmZlY3QgJiYgKHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCA9PT0gJ2Z1bmN0aW9uJyAmJiBlbmFibGVHZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggfHwgX2luc3RhbmNlICE9PSBudWxsICYmIHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50RGlkQ2F0Y2ggPT09ICdmdW5jdGlvbicgJiYgIWlzQWxyZWFkeUZhaWxlZExlZ2FjeUVycm9yQm91bmRhcnkoX2luc3RhbmNlKSkpIHtcbiAgICAgICAgICAgIGVuc3VyZVVwZGF0ZVF1ZXVlcyh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICB2YXIgX3VwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgICAgICAgICB2YXIgY2FwdHVyZWRWYWx1ZXMgPSBfdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXM7XG4gICAgICAgICAgICBpZiAoY2FwdHVyZWRWYWx1ZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgX3VwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzID0gW3ZhbHVlXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNhcHR1cmVkVmFsdWVzLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFNob3VsZENhcHR1cmU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgd29ya0luUHJvZ3Jlc3MgPSB3b3JrSW5Qcm9ncmVzc1sncmV0dXJuJ107XG4gICAgfSB3aGlsZSAod29ya0luUHJvZ3Jlc3MgIT09IG51bGwpO1xuICB9XG5cbiAgZnVuY3Rpb24gdW53aW5kV29yayh3b3JrSW5Qcm9ncmVzcykge1xuICAgIHN3aXRjaCAod29ya0luUHJvZ3Jlc3MudGFnKSB7XG4gICAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAgICB7XG4gICAgICAgICAgcG9wTGVnYWN5Q29udGV4dFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICB2YXIgZWZmZWN0VGFnID0gd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnO1xuICAgICAgICAgIGlmIChlZmZlY3RUYWcgJiBTaG91bGRDYXB0dXJlKSB7XG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgPSBlZmZlY3RUYWcgJiB+U2hvdWxkQ2FwdHVyZSB8IERpZENhcHR1cmU7XG4gICAgICAgICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICBjYXNlIEhvc3RSb290OlxuICAgICAgICB7XG4gICAgICAgICAgcG9wSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgcG9wVG9wTGV2ZWxMZWdhY3lDb250ZXh0T2JqZWN0KHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICB2YXIgX2VmZmVjdFRhZyA9IHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZztcbiAgICAgICAgICBpZiAoX2VmZmVjdFRhZyAmIFNob3VsZENhcHR1cmUpIHtcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyA9IF9lZmZlY3RUYWcgJiB+U2hvdWxkQ2FwdHVyZSB8IERpZENhcHR1cmU7XG4gICAgICAgICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICBwb3BIb3N0Q29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgICAgcG9wSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSBDb250ZXh0UHJvdmlkZXI6XG4gICAgICAgIHBvcFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1bndpbmRJbnRlcnJ1cHRlZFdvcmsoaW50ZXJydXB0ZWRXb3JrKSB7XG4gICAgc3dpdGNoIChpbnRlcnJ1cHRlZFdvcmsudGFnKSB7XG4gICAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAgICB7XG4gICAgICAgICAgcG9wTGVnYWN5Q29udGV4dFByb3ZpZGVyKGludGVycnVwdGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgIHtcbiAgICAgICAgICBwb3BIb3N0Q29udGFpbmVyKGludGVycnVwdGVkV29yayk7XG4gICAgICAgICAgcG9wVG9wTGV2ZWxMZWdhY3lDb250ZXh0T2JqZWN0KGludGVycnVwdGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAge1xuICAgICAgICAgIHBvcEhvc3RDb250ZXh0KGludGVycnVwdGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgICAgcG9wSG9zdENvbnRhaW5lcihpbnRlcnJ1cHRlZFdvcmspO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ29udGV4dFByb3ZpZGVyOlxuICAgICAgICBwb3BQcm92aWRlcihpbnRlcnJ1cHRlZFdvcmspO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdGhyb3dFeGNlcHRpb246IHRocm93RXhjZXB0aW9uLFxuICAgIHVud2luZFdvcms6IHVud2luZFdvcmssXG4gICAgdW53aW5kSW50ZXJydXB0ZWRXb3JrOiB1bndpbmRJbnRlcnJ1cHRlZFdvcmtcbiAgfTtcbn07XG5cbi8vIFRoaXMgbW9kdWxlIGlzIGZvcmtlZCBpbiBkaWZmZXJlbnQgZW52aXJvbm1lbnRzLlxuLy8gQnkgZGVmYXVsdCwgcmV0dXJuIGB0cnVlYCB0byBsb2cgZXJyb3JzIHRvIHRoZSBjb25zb2xlLlxuLy8gRm9ya3MgY2FuIHJldHVybiBgZmFsc2VgIGlmIHRoaXMgaXNuJ3QgZGVzaXJhYmxlLlxuZnVuY3Rpb24gc2hvd0Vycm9yRGlhbG9nKGNhcHR1cmVkRXJyb3IpIHtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGxvZ0NhcHR1cmVkRXJyb3IoY2FwdHVyZWRFcnJvcikge1xuICB2YXIgbG9nRXJyb3IgPSBzaG93RXJyb3JEaWFsb2coY2FwdHVyZWRFcnJvcik7XG5cbiAgLy8gQWxsb3cgaW5qZWN0ZWQgc2hvd0Vycm9yRGlhbG9nKCkgdG8gcHJldmVudCBkZWZhdWx0IGNvbnNvbGUuZXJyb3IgbG9nZ2luZy5cbiAgLy8gVGhpcyBlbmFibGVzIHJlbmRlcmVycyBsaWtlIFJlYWN0TmF0aXZlIHRvIGJldHRlciBtYW5hZ2UgcmVkYm94IGJlaGF2aW9yLlxuICBpZiAobG9nRXJyb3IgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGVycm9yID0gY2FwdHVyZWRFcnJvci5lcnJvcjtcbiAgdmFyIHN1cHByZXNzTG9nZ2luZyA9IGVycm9yICYmIGVycm9yLnN1cHByZXNzUmVhY3RFcnJvckxvZ2dpbmc7XG4gIGlmIChzdXBwcmVzc0xvZ2dpbmcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB7XG4gICAgdmFyIGNvbXBvbmVudE5hbWUgPSBjYXB0dXJlZEVycm9yLmNvbXBvbmVudE5hbWUsXG4gICAgICAgIGNvbXBvbmVudFN0YWNrID0gY2FwdHVyZWRFcnJvci5jb21wb25lbnRTdGFjayxcbiAgICAgICAgZXJyb3JCb3VuZGFyeU5hbWUgPSBjYXB0dXJlZEVycm9yLmVycm9yQm91bmRhcnlOYW1lLFxuICAgICAgICBlcnJvckJvdW5kYXJ5Rm91bmQgPSBjYXB0dXJlZEVycm9yLmVycm9yQm91bmRhcnlGb3VuZCxcbiAgICAgICAgd2lsbFJldHJ5ID0gY2FwdHVyZWRFcnJvci53aWxsUmV0cnk7XG5cblxuICAgIHZhciBjb21wb25lbnROYW1lTWVzc2FnZSA9IGNvbXBvbmVudE5hbWUgPyAnVGhlIGFib3ZlIGVycm9yIG9jY3VycmVkIGluIHRoZSA8JyArIGNvbXBvbmVudE5hbWUgKyAnPiBjb21wb25lbnQ6JyA6ICdUaGUgYWJvdmUgZXJyb3Igb2NjdXJyZWQgaW4gb25lIG9mIHlvdXIgUmVhY3QgY29tcG9uZW50czonO1xuXG4gICAgdmFyIGVycm9yQm91bmRhcnlNZXNzYWdlID0gdm9pZCAwO1xuICAgIC8vIGVycm9yQm91bmRhcnlGb3VuZCBjaGVjayBpcyBzdWZmaWNpZW50OyBlcnJvckJvdW5kYXJ5TmFtZSBjaGVjayBpcyB0byBzYXRpc2Z5IEZsb3cuXG4gICAgaWYgKGVycm9yQm91bmRhcnlGb3VuZCAmJiBlcnJvckJvdW5kYXJ5TmFtZSkge1xuICAgICAgaWYgKHdpbGxSZXRyeSkge1xuICAgICAgICBlcnJvckJvdW5kYXJ5TWVzc2FnZSA9ICdSZWFjdCB3aWxsIHRyeSB0byByZWNyZWF0ZSB0aGlzIGNvbXBvbmVudCB0cmVlIGZyb20gc2NyYXRjaCAnICsgKCd1c2luZyB0aGUgZXJyb3IgYm91bmRhcnkgeW91IHByb3ZpZGVkLCAnICsgZXJyb3JCb3VuZGFyeU5hbWUgKyAnLicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXJyb3JCb3VuZGFyeU1lc3NhZ2UgPSAnVGhpcyBlcnJvciB3YXMgaW5pdGlhbGx5IGhhbmRsZWQgYnkgdGhlIGVycm9yIGJvdW5kYXJ5ICcgKyBlcnJvckJvdW5kYXJ5TmFtZSArICcuXFxuJyArICdSZWNyZWF0aW5nIHRoZSB0cmVlIGZyb20gc2NyYXRjaCBmYWlsZWQgc28gUmVhY3Qgd2lsbCB1bm1vdW50IHRoZSB0cmVlLic7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGVycm9yQm91bmRhcnlNZXNzYWdlID0gJ0NvbnNpZGVyIGFkZGluZyBhbiBlcnJvciBib3VuZGFyeSB0byB5b3VyIHRyZWUgdG8gY3VzdG9taXplIGVycm9yIGhhbmRsaW5nIGJlaGF2aW9yLlxcbicgKyAnVmlzaXQgaHR0cHM6Ly9mYi5tZS9yZWFjdC1lcnJvci1ib3VuZGFyaWVzIHRvIGxlYXJuIG1vcmUgYWJvdXQgZXJyb3IgYm91bmRhcmllcy4nO1xuICAgIH1cbiAgICB2YXIgY29tYmluZWRNZXNzYWdlID0gJycgKyBjb21wb25lbnROYW1lTWVzc2FnZSArIGNvbXBvbmVudFN0YWNrICsgJ1xcblxcbicgKyAoJycgKyBlcnJvckJvdW5kYXJ5TWVzc2FnZSk7XG5cbiAgICAvLyBJbiBkZXZlbG9wbWVudCwgd2UgcHJvdmlkZSBvdXIgb3duIG1lc3NhZ2Ugd2l0aCBqdXN0IHRoZSBjb21wb25lbnQgc3RhY2suXG4gICAgLy8gV2UgZG9uJ3QgaW5jbHVkZSB0aGUgb3JpZ2luYWwgZXJyb3IgbWVzc2FnZSBhbmQgSlMgc3RhY2sgYmVjYXVzZSB0aGUgYnJvd3NlclxuICAgIC8vIGhhcyBhbHJlYWR5IHByaW50ZWQgaXQuIEV2ZW4gaWYgdGhlIGFwcGxpY2F0aW9uIHN3YWxsb3dzIHRoZSBlcnJvciwgaXQgaXMgc3RpbGxcbiAgICAvLyBkaXNwbGF5ZWQgYnkgdGhlIGJyb3dzZXIgdGhhbmtzIHRvIHRoZSBERVYtb25seSBmYWtlIGV2ZW50IHRyaWNrIGluIFJlYWN0RXJyb3JVdGlscy5cbiAgICBjb25zb2xlLmVycm9yKGNvbWJpbmVkTWVzc2FnZSk7XG4gIH1cbn1cblxudmFyIGludm9rZUd1YXJkZWRDYWxsYmFjayQzID0gUmVhY3RFcnJvclV0aWxzLmludm9rZUd1YXJkZWRDYWxsYmFjaztcbnZhciBoYXNDYXVnaHRFcnJvciQxID0gUmVhY3RFcnJvclV0aWxzLmhhc0NhdWdodEVycm9yO1xudmFyIGNsZWFyQ2F1Z2h0RXJyb3IkMSA9IFJlYWN0RXJyb3JVdGlscy5jbGVhckNhdWdodEVycm9yO1xuXG5cbnZhciBkaWRXYXJuQWJvdXRVbmRlZmluZWRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9IG51bGw7XG57XG4gIGRpZFdhcm5BYm91dFVuZGVmaW5lZFNuYXBzaG90QmVmb3JlVXBkYXRlID0gbmV3IFNldCgpO1xufVxuXG5mdW5jdGlvbiBsb2dFcnJvcihib3VuZGFyeSwgZXJyb3JJbmZvKSB7XG4gIHZhciBzb3VyY2UgPSBlcnJvckluZm8uc291cmNlO1xuICB2YXIgc3RhY2sgPSBlcnJvckluZm8uc3RhY2s7XG4gIGlmIChzdGFjayA9PT0gbnVsbCkge1xuICAgIHN0YWNrID0gZ2V0U3RhY2tBZGRlbmR1bUJ5V29ya0luUHJvZ3Jlc3NGaWJlcihzb3VyY2UpO1xuICB9XG5cbiAgdmFyIGNhcHR1cmVkRXJyb3IgPSB7XG4gICAgY29tcG9uZW50TmFtZTogc291cmNlICE9PSBudWxsID8gZ2V0Q29tcG9uZW50TmFtZShzb3VyY2UpIDogbnVsbCxcbiAgICBjb21wb25lbnRTdGFjazogc3RhY2sgIT09IG51bGwgPyBzdGFjayA6ICcnLFxuICAgIGVycm9yOiBlcnJvckluZm8udmFsdWUsXG4gICAgZXJyb3JCb3VuZGFyeTogbnVsbCxcbiAgICBlcnJvckJvdW5kYXJ5TmFtZTogbnVsbCxcbiAgICBlcnJvckJvdW5kYXJ5Rm91bmQ6IGZhbHNlLFxuICAgIHdpbGxSZXRyeTogZmFsc2VcbiAgfTtcblxuICBpZiAoYm91bmRhcnkgIT09IG51bGwgJiYgYm91bmRhcnkudGFnID09PSBDbGFzc0NvbXBvbmVudCkge1xuICAgIGNhcHR1cmVkRXJyb3IuZXJyb3JCb3VuZGFyeSA9IGJvdW5kYXJ5LnN0YXRlTm9kZTtcbiAgICBjYXB0dXJlZEVycm9yLmVycm9yQm91bmRhcnlOYW1lID0gZ2V0Q29tcG9uZW50TmFtZShib3VuZGFyeSk7XG4gICAgY2FwdHVyZWRFcnJvci5lcnJvckJvdW5kYXJ5Rm91bmQgPSB0cnVlO1xuICAgIGNhcHR1cmVkRXJyb3Iud2lsbFJldHJ5ID0gdHJ1ZTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgbG9nQ2FwdHVyZWRFcnJvcihjYXB0dXJlZEVycm9yKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIFByZXZlbnQgY3ljbGUgaWYgbG9nQ2FwdHVyZWRFcnJvcigpIHRocm93cy5cbiAgICAvLyBBIGN5Y2xlIG1heSBzdGlsbCBvY2N1ciBpZiBsb2dDYXB0dXJlZEVycm9yIHJlbmRlcnMgYSBjb21wb25lbnQgdGhhdCB0aHJvd3MuXG4gICAgdmFyIHN1cHByZXNzTG9nZ2luZyA9IGUgJiYgZS5zdXBwcmVzc1JlYWN0RXJyb3JMb2dnaW5nO1xuICAgIGlmICghc3VwcHJlc3NMb2dnaW5nKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH1cbiAgfVxufVxuXG52YXIgUmVhY3RGaWJlckNvbW1pdFdvcmsgPSBmdW5jdGlvbiAoY29uZmlnLCBjYXB0dXJlRXJyb3IsIHNjaGVkdWxlV29yaywgY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlciwgbWFya0xlZ2FjeUVycm9yQm91bmRhcnlBc0ZhaWxlZCwgcmVjYWxjdWxhdGVDdXJyZW50VGltZSkge1xuICB2YXIgZ2V0UHVibGljSW5zdGFuY2UgPSBjb25maWcuZ2V0UHVibGljSW5zdGFuY2UsXG4gICAgICBtdXRhdGlvbiA9IGNvbmZpZy5tdXRhdGlvbixcbiAgICAgIHBlcnNpc3RlbmNlID0gY29uZmlnLnBlcnNpc3RlbmNlO1xuXG5cbiAgdmFyIGNhbGxDb21wb25lbnRXaWxsVW5tb3VudFdpdGhUaW1lciA9IGZ1bmN0aW9uIChjdXJyZW50LCBpbnN0YW5jZSkge1xuICAgIHN0YXJ0UGhhc2VUaW1lcihjdXJyZW50LCAnY29tcG9uZW50V2lsbFVubW91bnQnKTtcbiAgICBpbnN0YW5jZS5wcm9wcyA9IGN1cnJlbnQubWVtb2l6ZWRQcm9wcztcbiAgICBpbnN0YW5jZS5zdGF0ZSA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZTtcbiAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsVW5tb3VudCgpO1xuICAgIHN0b3BQaGFzZVRpbWVyKCk7XG4gIH07XG5cbiAgLy8gQ2FwdHVyZSBlcnJvcnMgc28gdGhleSBkb24ndCBpbnRlcnJ1cHQgdW5tb3VudGluZy5cbiAgZnVuY3Rpb24gc2FmZWx5Q2FsbENvbXBvbmVudFdpbGxVbm1vdW50KGN1cnJlbnQsIGluc3RhbmNlKSB7XG4gICAge1xuICAgICAgaW52b2tlR3VhcmRlZENhbGxiYWNrJDMobnVsbCwgY2FsbENvbXBvbmVudFdpbGxVbm1vdW50V2l0aFRpbWVyLCBudWxsLCBjdXJyZW50LCBpbnN0YW5jZSk7XG4gICAgICBpZiAoaGFzQ2F1Z2h0RXJyb3IkMSgpKSB7XG4gICAgICAgIHZhciB1bm1vdW50RXJyb3IgPSBjbGVhckNhdWdodEVycm9yJDEoKTtcbiAgICAgICAgY2FwdHVyZUVycm9yKGN1cnJlbnQsIHVubW91bnRFcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2FmZWx5RGV0YWNoUmVmKGN1cnJlbnQpIHtcbiAgICB2YXIgcmVmID0gY3VycmVudC5yZWY7XG4gICAgaWYgKHJlZiAhPT0gbnVsbCkge1xuICAgICAgaWYgKHR5cGVvZiByZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAge1xuICAgICAgICAgIGludm9rZUd1YXJkZWRDYWxsYmFjayQzKG51bGwsIHJlZiwgbnVsbCwgbnVsbCk7XG4gICAgICAgICAgaWYgKGhhc0NhdWdodEVycm9yJDEoKSkge1xuICAgICAgICAgICAgdmFyIHJlZkVycm9yID0gY2xlYXJDYXVnaHRFcnJvciQxKCk7XG4gICAgICAgICAgICBjYXB0dXJlRXJyb3IoY3VycmVudCwgcmVmRXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbW1pdEJlZm9yZU11dGF0aW9uTGlmZUN5Y2xlcyhjdXJyZW50LCBmaW5pc2hlZFdvcmspIHtcbiAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAoZmluaXNoZWRXb3JrLmVmZmVjdFRhZyAmIFNuYXBzaG90KSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICB2YXIgcHJldlByb3BzID0gY3VycmVudC5tZW1vaXplZFByb3BzO1xuICAgICAgICAgICAgICB2YXIgcHJldlN0YXRlID0gY3VycmVudC5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgICAgICBzdGFydFBoYXNlVGltZXIoZmluaXNoZWRXb3JrLCAnZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUnKTtcbiAgICAgICAgICAgICAgdmFyIF9pbnN0YW5jZSA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgICAgIF9pbnN0YW5jZS5wcm9wcyA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzO1xuICAgICAgICAgICAgICBfaW5zdGFuY2Uuc3RhdGUgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICAgICAgdmFyIHNuYXBzaG90ID0gX2luc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKTtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBkaWRXYXJuU2V0ID0gZGlkV2FybkFib3V0VW5kZWZpbmVkU25hcHNob3RCZWZvcmVVcGRhdGU7XG4gICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90ID09PSB1bmRlZmluZWQgJiYgIWRpZFdhcm5TZXQuaGFzKGZpbmlzaGVkV29yay50eXBlKSkge1xuICAgICAgICAgICAgICAgICAgZGlkV2FyblNldC5hZGQoZmluaXNoZWRXb3JrLnR5cGUpO1xuICAgICAgICAgICAgICAgICAgd2FybmluZyhmYWxzZSwgJyVzLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKCk6IEEgc25hcHNob3QgdmFsdWUgKG9yIG51bGwpICcgKyAnbXVzdCBiZSByZXR1cm5lZC4gWW91IGhhdmUgcmV0dXJuZWQgdW5kZWZpbmVkLicsIGdldENvbXBvbmVudE5hbWUoZmluaXNoZWRXb3JrKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF9pbnN0YW5jZS5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9IHNuYXBzaG90O1xuICAgICAgICAgICAgICBzdG9wUGhhc2VUaW1lcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICBjYXNlIEhvc3RUZXh0OlxuICAgICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAgICAvLyBOb3RoaW5nIHRvIGRvIGZvciB0aGVzZSBjb21wb25lbnQgdHlwZXNcbiAgICAgICAgcmV0dXJuO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAge1xuICAgICAgICAgIGludmFyaWFudChmYWxzZSwgJ1RoaXMgdW5pdCBvZiB3b3JrIHRhZyBzaG91bGQgbm90IGhhdmUgc2lkZS1lZmZlY3RzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0TGlmZUN5Y2xlcyhmaW5pc2hlZFJvb3QsIGN1cnJlbnQsIGZpbmlzaGVkV29yaywgY3VycmVudFRpbWUsIGNvbW1pdHRlZEV4cGlyYXRpb25UaW1lKSB7XG4gICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIF9pbnN0YW5jZTIgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgIGlmIChmaW5pc2hlZFdvcmsuZWZmZWN0VGFnICYgVXBkYXRlKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICBzdGFydFBoYXNlVGltZXIoZmluaXNoZWRXb3JrLCAnY29tcG9uZW50RGlkTW91bnQnKTtcbiAgICAgICAgICAgICAgX2luc3RhbmNlMi5wcm9wcyA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzO1xuICAgICAgICAgICAgICBfaW5zdGFuY2UyLnN0YXRlID0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgICAgIF9pbnN0YW5jZTIuY29tcG9uZW50RGlkTW91bnQoKTtcbiAgICAgICAgICAgICAgc3RvcFBoYXNlVGltZXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhciBwcmV2UHJvcHMgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICAgIHZhciBwcmV2U3RhdGUgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgICAgIHN0YXJ0UGhhc2VUaW1lcihmaW5pc2hlZFdvcmssICdjb21wb25lbnREaWRVcGRhdGUnKTtcbiAgICAgICAgICAgICAgX2luc3RhbmNlMi5wcm9wcyA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzO1xuICAgICAgICAgICAgICBfaW5zdGFuY2UyLnN0YXRlID0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgICAgIF9pbnN0YW5jZTIuY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlLCBfaW5zdGFuY2UyLl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90QmVmb3JlVXBkYXRlKTtcbiAgICAgICAgICAgICAgc3RvcFBoYXNlVGltZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlO1xuICAgICAgICAgIGlmICh1cGRhdGVRdWV1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29tbWl0Q2FsbGJhY2tzKHVwZGF0ZVF1ZXVlLCBfaW5zdGFuY2UyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBjYXNlIEhvc3RSb290OlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIF91cGRhdGVRdWV1ZSA9IGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZTtcbiAgICAgICAgICBpZiAoX3VwZGF0ZVF1ZXVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgX2luc3RhbmNlMyA9IG51bGw7XG4gICAgICAgICAgICBpZiAoZmluaXNoZWRXb3JrLmNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLmNoaWxkLnRhZykge1xuICAgICAgICAgICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICAgICAgICAgIF9pbnN0YW5jZTMgPSBnZXRQdWJsaWNJbnN0YW5jZShmaW5pc2hlZFdvcmsuY2hpbGQuc3RhdGVOb2RlKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgICAgICAgICAgICBfaW5zdGFuY2UzID0gZmluaXNoZWRXb3JrLmNoaWxkLnN0YXRlTm9kZTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21taXRDYWxsYmFja3MoX3VwZGF0ZVF1ZXVlLCBfaW5zdGFuY2UzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgX2luc3RhbmNlNCA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG5cbiAgICAgICAgICAvLyBSZW5kZXJlcnMgbWF5IHNjaGVkdWxlIHdvcmsgdG8gYmUgZG9uZSBhZnRlciBob3N0IGNvbXBvbmVudHMgYXJlIG1vdW50ZWRcbiAgICAgICAgICAvLyAoZWcgRE9NIHJlbmRlcmVyIG1heSBzY2hlZHVsZSBhdXRvLWZvY3VzIGZvciBpbnB1dHMgYW5kIGZvcm0gY29udHJvbHMpLlxuICAgICAgICAgIC8vIFRoZXNlIGVmZmVjdHMgc2hvdWxkIG9ubHkgYmUgY29tbWl0dGVkIHdoZW4gY29tcG9uZW50cyBhcmUgZmlyc3QgbW91bnRlZCxcbiAgICAgICAgICAvLyBha2Egd2hlbiB0aGVyZSBpcyBubyBjdXJyZW50L2FsdGVybmF0ZS5cbiAgICAgICAgICBpZiAoY3VycmVudCA9PT0gbnVsbCAmJiBmaW5pc2hlZFdvcmsuZWZmZWN0VGFnICYgVXBkYXRlKSB7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IGZpbmlzaGVkV29yay50eXBlO1xuICAgICAgICAgICAgdmFyIHByb3BzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICBjb21taXRNb3VudChfaW5zdGFuY2U0LCB0eXBlLCBwcm9wcywgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIGNhc2UgSG9zdFRleHQ6XG4gICAgICAgIHtcbiAgICAgICAgICAvLyBXZSBoYXZlIG5vIGxpZmUtY3ljbGVzIGFzc29jaWF0ZWQgd2l0aCB0ZXh0LlxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAgICB7XG4gICAgICAgICAgLy8gV2UgaGF2ZSBubyBsaWZlLWN5Y2xlcyBhc3NvY2lhdGVkIHdpdGggcG9ydGFscy5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHtcbiAgICAgICAgICBpbnZhcmlhbnQoZmFsc2UsICdUaGlzIHVuaXQgb2Ygd29yayB0YWcgc2hvdWxkIG5vdCBoYXZlIHNpZGUtZWZmZWN0cy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbW1pdEVycm9yTG9nZ2luZyhmaW5pc2hlZFdvcmssIG9uVW5jYXVnaHRFcnJvcikge1xuICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBjdG9yID0gZmluaXNoZWRXb3JrLnR5cGU7XG4gICAgICAgICAgdmFyIF9pbnN0YW5jZTUgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgIHZhciB1cGRhdGVRdWV1ZSA9IGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZTtcbiAgICAgICAgICAhKHVwZGF0ZVF1ZXVlICE9PSBudWxsICYmIHVwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzICE9PSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ0FuIGVycm9yIGxvZ2dpbmcgZWZmZWN0IHNob3VsZCBub3QgaGF2ZSBiZWVuIHNjaGVkdWxlZCBpZiBubyBlcnJvcnMgd2VyZSBjYXB0dXJlZC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgICAgICAgICB2YXIgY2FwdHVyZWRFcnJvcnMgPSB1cGRhdGVRdWV1ZS5jYXB0dXJlZFZhbHVlcztcbiAgICAgICAgICB1cGRhdGVRdWV1ZS5jYXB0dXJlZFZhbHVlcyA9IG51bGw7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAvLyBUbyBwcmVzZXJ2ZSB0aGUgcHJlZXhpc3RpbmcgcmV0cnkgYmVoYXZpb3Igb2YgZXJyb3IgYm91bmRhcmllcyxcbiAgICAgICAgICAgIC8vIHdlIGtlZXAgdHJhY2sgb2Ygd2hpY2ggb25lcyBhbHJlYWR5IGZhaWxlZCBkdXJpbmcgdGhpcyBiYXRjaC5cbiAgICAgICAgICAgIC8vIFRoaXMgZ2V0cyByZXNldCBiZWZvcmUgd2UgeWllbGQgYmFjayB0byB0aGUgYnJvd3Nlci5cbiAgICAgICAgICAgIC8vIFRPRE86IFdhcm4gaW4gc3RyaWN0IG1vZGUgaWYgZ2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoIGlzXG4gICAgICAgICAgICAvLyBub3QgZGVmaW5lZC5cbiAgICAgICAgICAgIG1hcmtMZWdhY3lFcnJvckJvdW5kYXJ5QXNGYWlsZWQoX2luc3RhbmNlNSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2luc3RhbmNlNS5wcm9wcyA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzO1xuICAgICAgICAgIF9pbnN0YW5jZTUuc3RhdGUgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhcHR1cmVkRXJyb3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3JJbmZvID0gY2FwdHVyZWRFcnJvcnNbaV07XG4gICAgICAgICAgICB2YXIgX2Vycm9yID0gZXJyb3JJbmZvLnZhbHVlO1xuICAgICAgICAgICAgdmFyIHN0YWNrID0gZXJyb3JJbmZvLnN0YWNrO1xuICAgICAgICAgICAgbG9nRXJyb3IoZmluaXNoZWRXb3JrLCBlcnJvckluZm8pO1xuICAgICAgICAgICAgX2luc3RhbmNlNS5jb21wb25lbnREaWRDYXRjaChfZXJyb3IsIHtcbiAgICAgICAgICAgICAgY29tcG9uZW50U3RhY2s6IHN0YWNrICE9PSBudWxsID8gc3RhY2sgOiAnJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBfdXBkYXRlUXVldWUyID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlO1xuICAgICAgICAgICEoX3VwZGF0ZVF1ZXVlMiAhPT0gbnVsbCAmJiBfdXBkYXRlUXVldWUyLmNhcHR1cmVkVmFsdWVzICE9PSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ0FuIGVycm9yIGxvZ2dpbmcgZWZmZWN0IHNob3VsZCBub3QgaGF2ZSBiZWVuIHNjaGVkdWxlZCBpZiBubyBlcnJvcnMgd2VyZSBjYXB0dXJlZC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgICAgICAgICB2YXIgX2NhcHR1cmVkRXJyb3JzID0gX3VwZGF0ZVF1ZXVlMi5jYXB0dXJlZFZhbHVlcztcbiAgICAgICAgICBfdXBkYXRlUXVldWUyLmNhcHR1cmVkVmFsdWVzID0gbnVsbDtcbiAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgX2NhcHR1cmVkRXJyb3JzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIF9lcnJvckluZm8gPSBfY2FwdHVyZWRFcnJvcnNbX2ldO1xuICAgICAgICAgICAgbG9nRXJyb3IoZmluaXNoZWRXb3JrLCBfZXJyb3JJbmZvKTtcbiAgICAgICAgICAgIG9uVW5jYXVnaHRFcnJvcihfZXJyb3JJbmZvLnZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGludmFyaWFudChmYWxzZSwgJ1RoaXMgdW5pdCBvZiB3b3JrIHRhZyBjYW5ub3QgY2FwdHVyZSBlcnJvcnMuICBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbW1pdEF0dGFjaFJlZihmaW5pc2hlZFdvcmspIHtcbiAgICB2YXIgcmVmID0gZmluaXNoZWRXb3JrLnJlZjtcbiAgICBpZiAocmVmICE9PSBudWxsKSB7XG4gICAgICB2YXIgX2luc3RhbmNlNiA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICB2YXIgaW5zdGFuY2VUb1VzZSA9IHZvaWQgMDtcbiAgICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgICAgaW5zdGFuY2VUb1VzZSA9IGdldFB1YmxpY0luc3RhbmNlKF9pbnN0YW5jZTYpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGluc3RhbmNlVG9Vc2UgPSBfaW5zdGFuY2U2O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiByZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmVmKGluc3RhbmNlVG9Vc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAge1xuICAgICAgICAgIGlmICghcmVmLmhhc093blByb3BlcnR5KCdjdXJyZW50JykpIHtcbiAgICAgICAgICAgIHdhcm5pbmcoZmFsc2UsICdVbmV4cGVjdGVkIHJlZiBvYmplY3QgcHJvdmlkZWQgZm9yICVzLiAnICsgJ1VzZSBlaXRoZXIgYSByZWYtc2V0dGVyIGZ1bmN0aW9uIG9yIFJlYWN0LmNyZWF0ZVJlZigpLiVzJywgZ2V0Q29tcG9uZW50TmFtZShmaW5pc2hlZFdvcmspLCBnZXRTdGFja0FkZGVuZHVtQnlXb3JrSW5Qcm9ncmVzc0ZpYmVyKGZpbmlzaGVkV29yaykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJlZi5jdXJyZW50ID0gaW5zdGFuY2VUb1VzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb21taXREZXRhY2hSZWYoY3VycmVudCkge1xuICAgIHZhciBjdXJyZW50UmVmID0gY3VycmVudC5yZWY7XG4gICAgaWYgKGN1cnJlbnRSZWYgIT09IG51bGwpIHtcbiAgICAgIGlmICh0eXBlb2YgY3VycmVudFJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjdXJyZW50UmVmKG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBVc2VyLW9yaWdpbmF0aW5nIGVycm9ycyAobGlmZWN5Y2xlcyBhbmQgcmVmcykgc2hvdWxkIG5vdCBpbnRlcnJ1cHRcbiAgLy8gZGVsZXRpb24sIHNvIGRvbid0IGxldCB0aGVtIHRocm93LiBIb3N0LW9yaWdpbmF0aW5nIGVycm9ycyBzaG91bGRcbiAgLy8gaW50ZXJydXB0IGRlbGV0aW9uLCBzbyBpdCdzIG9rYXlcbiAgZnVuY3Rpb24gY29tbWl0VW5tb3VudChjdXJyZW50KSB7XG4gICAgaWYgKHR5cGVvZiBvbkNvbW1pdFVubW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIG9uQ29tbWl0VW5tb3VudChjdXJyZW50KTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGN1cnJlbnQudGFnKSB7XG4gICAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAgICB7XG4gICAgICAgICAgc2FmZWx5RGV0YWNoUmVmKGN1cnJlbnQpO1xuICAgICAgICAgIHZhciBfaW5zdGFuY2U3ID0gY3VycmVudC5zdGF0ZU5vZGU7XG4gICAgICAgICAgaWYgKHR5cGVvZiBfaW5zdGFuY2U3LmNvbXBvbmVudFdpbGxVbm1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBzYWZlbHlDYWxsQ29tcG9uZW50V2lsbFVubW91bnQoY3VycmVudCwgX2luc3RhbmNlNyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICB7XG4gICAgICAgICAgc2FmZWx5RGV0YWNoUmVmKGN1cnJlbnQpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgY2FzZSBDYWxsQ29tcG9uZW50OlxuICAgICAgICB7XG4gICAgICAgICAgY29tbWl0TmVzdGVkVW5tb3VudHMoY3VycmVudC5zdGF0ZU5vZGUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAgICB7XG4gICAgICAgICAgLy8gVE9ETzogdGhpcyBpcyByZWN1cnNpdmUuXG4gICAgICAgICAgLy8gV2UgYXJlIGFsc28gbm90IHVzaW5nIHRoaXMgcGFyZW50IGJlY2F1c2VcbiAgICAgICAgICAvLyB0aGUgcG9ydGFsIHdpbGwgZ2V0IHB1c2hlZCBpbW1lZGlhdGVseS5cbiAgICAgICAgICBpZiAoZW5hYmxlTXV0YXRpbmdSZWNvbmNpbGVyICYmIG11dGF0aW9uKSB7XG4gICAgICAgICAgICB1bm1vdW50SG9zdENvbXBvbmVudHMoY3VycmVudCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChlbmFibGVQZXJzaXN0ZW50UmVjb25jaWxlciAmJiBwZXJzaXN0ZW5jZSkge1xuICAgICAgICAgICAgZW1wdHlQb3J0YWxDb250YWluZXIoY3VycmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbW1pdE5lc3RlZFVubW91bnRzKHJvb3QpIHtcbiAgICAvLyBXaGlsZSB3ZSdyZSBpbnNpZGUgYSByZW1vdmVkIGhvc3Qgbm9kZSB3ZSBkb24ndCB3YW50IHRvIGNhbGxcbiAgICAvLyByZW1vdmVDaGlsZCBvbiB0aGUgaW5uZXIgbm9kZXMgYmVjYXVzZSB0aGV5J3JlIHJlbW92ZWQgYnkgdGhlIHRvcFxuICAgIC8vIGNhbGwgYW55d2F5LiBXZSBhbHNvIHdhbnQgdG8gY2FsbCBjb21wb25lbnRXaWxsVW5tb3VudCBvbiBhbGxcbiAgICAvLyBjb21wb3NpdGVzIGJlZm9yZSB0aGlzIGhvc3Qgbm9kZSBpcyByZW1vdmVkIGZyb20gdGhlIHRyZWUuIFRoZXJlZm9yZVxuICAgIHZhciBub2RlID0gcm9vdDtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgY29tbWl0VW5tb3VudChub2RlKTtcbiAgICAgIC8vIFZpc2l0IGNoaWxkcmVuIGJlY2F1c2UgdGhleSBtYXkgY29udGFpbiBtb3JlIGNvbXBvc2l0ZSBvciBob3N0IG5vZGVzLlxuICAgICAgLy8gU2tpcCBwb3J0YWxzIGJlY2F1c2UgY29tbWl0VW5tb3VudCgpIGN1cnJlbnRseSB2aXNpdHMgdGhlbSByZWN1cnNpdmVseS5cbiAgICAgIGlmIChub2RlLmNoaWxkICE9PSBudWxsICYmIChcbiAgICAgIC8vIElmIHdlIHVzZSBtdXRhdGlvbiB3ZSBkcmlsbCBkb3duIGludG8gcG9ydGFscyB1c2luZyBjb21taXRVbm1vdW50IGFib3ZlLlxuICAgICAgLy8gSWYgd2UgZG9uJ3QgdXNlIG11dGF0aW9uIHdlIGRyaWxsIGRvd24gaW50byBwb3J0YWxzIGhlcmUgaW5zdGVhZC5cbiAgICAgICFtdXRhdGlvbiB8fCBub2RlLnRhZyAhPT0gSG9zdFBvcnRhbCkpIHtcbiAgICAgICAgbm9kZS5jaGlsZFsncmV0dXJuJ10gPSBub2RlO1xuICAgICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAobm9kZSA9PT0gcm9vdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB3aGlsZSAobm9kZS5zaWJsaW5nID09PSBudWxsKSB7XG4gICAgICAgIGlmIChub2RlWydyZXR1cm4nXSA9PT0gbnVsbCB8fCBub2RlWydyZXR1cm4nXSA9PT0gcm9vdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZVsncmV0dXJuJ107XG4gICAgICB9XG4gICAgICBub2RlLnNpYmxpbmdbJ3JldHVybiddID0gbm9kZVsncmV0dXJuJ107XG4gICAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRldGFjaEZpYmVyKGN1cnJlbnQpIHtcbiAgICAvLyBDdXQgb2ZmIHRoZSByZXR1cm4gcG9pbnRlcnMgdG8gZGlzY29ubmVjdCBpdCBmcm9tIHRoZSB0cmVlLiBJZGVhbGx5LCB3ZVxuICAgIC8vIHNob3VsZCBjbGVhciB0aGUgY2hpbGQgcG9pbnRlciBvZiB0aGUgcGFyZW50IGFsdGVybmF0ZSB0byBsZXQgdGhpc1xuICAgIC8vIGdldCBHQzplZCBidXQgd2UgZG9uJ3Qga25vdyB3aGljaCBmb3Igc3VyZSB3aGljaCBwYXJlbnQgaXMgdGhlIGN1cnJlbnRcbiAgICAvLyBvbmUgc28gd2UnbGwgc2V0dGxlIGZvciBHQzppbmcgdGhlIHN1YnRyZWUgb2YgdGhpcyBjaGlsZC4gVGhpcyBjaGlsZFxuICAgIC8vIGl0c2VsZiB3aWxsIGJlIEdDOmVkIHdoZW4gdGhlIHBhcmVudCB1cGRhdGVzIHRoZSBuZXh0IHRpbWUuXG4gICAgY3VycmVudFsncmV0dXJuJ10gPSBudWxsO1xuICAgIGN1cnJlbnQuY2hpbGQgPSBudWxsO1xuICAgIGlmIChjdXJyZW50LmFsdGVybmF0ZSkge1xuICAgICAgY3VycmVudC5hbHRlcm5hdGUuY2hpbGQgPSBudWxsO1xuICAgICAgY3VycmVudC5hbHRlcm5hdGVbJ3JldHVybiddID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICB2YXIgZW1wdHlQb3J0YWxDb250YWluZXIgPSB2b2lkIDA7XG5cbiAgaWYgKCFtdXRhdGlvbikge1xuICAgIHZhciBjb21taXRDb250YWluZXIgPSB2b2lkIDA7XG4gICAgaWYgKHBlcnNpc3RlbmNlKSB7XG4gICAgICB2YXIgcmVwbGFjZUNvbnRhaW5lckNoaWxkcmVuID0gcGVyc2lzdGVuY2UucmVwbGFjZUNvbnRhaW5lckNoaWxkcmVuLFxuICAgICAgICAgIGNyZWF0ZUNvbnRhaW5lckNoaWxkU2V0ID0gcGVyc2lzdGVuY2UuY3JlYXRlQ29udGFpbmVyQ2hpbGRTZXQ7XG5cbiAgICAgIGVtcHR5UG9ydGFsQ29udGFpbmVyID0gZnVuY3Rpb24gKGN1cnJlbnQpIHtcbiAgICAgICAgdmFyIHBvcnRhbCA9IGN1cnJlbnQuc3RhdGVOb2RlO1xuICAgICAgICB2YXIgY29udGFpbmVySW5mbyA9IHBvcnRhbC5jb250YWluZXJJbmZvO1xuXG4gICAgICAgIHZhciBlbXB0eUNoaWxkU2V0ID0gY3JlYXRlQ29udGFpbmVyQ2hpbGRTZXQoY29udGFpbmVySW5mbyk7XG4gICAgICAgIHJlcGxhY2VDb250YWluZXJDaGlsZHJlbihjb250YWluZXJJbmZvLCBlbXB0eUNoaWxkU2V0KTtcbiAgICAgIH07XG4gICAgICBjb21taXRDb250YWluZXIgPSBmdW5jdGlvbiAoZmluaXNoZWRXb3JrKSB7XG4gICAgICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEhvc3RUZXh0OlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgICAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHZhciBwb3J0YWxPclJvb3QgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgICAgICB2YXIgY29udGFpbmVySW5mbyA9IHBvcnRhbE9yUm9vdC5jb250YWluZXJJbmZvLFxuICAgICAgICAgICAgICAgICAgX3BlbmRpbmdDaGlsZHJlbiA9IHBvcnRhbE9yUm9vdC5wZW5kaW5nQ2hpbGRyZW47XG5cbiAgICAgICAgICAgICAgcmVwbGFjZUNvbnRhaW5lckNoaWxkcmVuKGNvbnRhaW5lckluZm8sIF9wZW5kaW5nQ2hpbGRyZW4pO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaW52YXJpYW50KGZhbHNlLCAnVGhpcyB1bml0IG9mIHdvcmsgdGFnIHNob3VsZCBub3QgaGF2ZSBzaWRlLWVmZmVjdHMuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbW1pdENvbnRhaW5lciA9IGZ1bmN0aW9uIChmaW5pc2hlZFdvcmspIHtcbiAgICAgICAgLy8gTm9vcFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGVuYWJsZVBlcnNpc3RlbnRSZWNvbmNpbGVyIHx8IGVuYWJsZU5vb3BSZWNvbmNpbGVyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb21taXRSZXNldFRleHRDb250ZW50OiBmdW5jdGlvbiAoZmluaXNoZWRXb3JrKSB7fSxcbiAgICAgICAgY29tbWl0UGxhY2VtZW50OiBmdW5jdGlvbiAoZmluaXNoZWRXb3JrKSB7fSxcbiAgICAgICAgY29tbWl0RGVsZXRpb246IGZ1bmN0aW9uIChjdXJyZW50KSB7XG4gICAgICAgICAgLy8gRGV0YWNoIHJlZnMgYW5kIGNhbGwgY29tcG9uZW50V2lsbFVubW91bnQoKSBvbiB0aGUgd2hvbGUgc3VidHJlZS5cbiAgICAgICAgICBjb21taXROZXN0ZWRVbm1vdW50cyhjdXJyZW50KTtcbiAgICAgICAgICBkZXRhY2hGaWJlcihjdXJyZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgY29tbWl0V29yazogZnVuY3Rpb24gKGN1cnJlbnQsIGZpbmlzaGVkV29yaykge1xuICAgICAgICAgIGNvbW1pdENvbnRhaW5lcihmaW5pc2hlZFdvcmspO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNvbW1pdExpZmVDeWNsZXM6IGNvbW1pdExpZmVDeWNsZXMsXG4gICAgICAgIGNvbW1pdEJlZm9yZU11dGF0aW9uTGlmZUN5Y2xlczogY29tbWl0QmVmb3JlTXV0YXRpb25MaWZlQ3ljbGVzLFxuICAgICAgICBjb21taXRFcnJvckxvZ2dpbmc6IGNvbW1pdEVycm9yTG9nZ2luZyxcbiAgICAgICAgY29tbWl0QXR0YWNoUmVmOiBjb21taXRBdHRhY2hSZWYsXG4gICAgICAgIGNvbW1pdERldGFjaFJlZjogY29tbWl0RGV0YWNoUmVmXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAocGVyc2lzdGVuY2UpIHtcbiAgICAgIGludmFyaWFudChmYWxzZSwgJ1BlcnNpc3RlbnQgcmVjb25jaWxlciBpcyBkaXNhYmxlZC4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW52YXJpYW50KGZhbHNlLCAnTm9vcCByZWNvbmNpbGVyIGlzIGRpc2FibGVkLicpO1xuICAgIH1cbiAgfVxuICB2YXIgY29tbWl0TW91bnQgPSBtdXRhdGlvbi5jb21taXRNb3VudCxcbiAgICAgIGNvbW1pdFVwZGF0ZSA9IG11dGF0aW9uLmNvbW1pdFVwZGF0ZSxcbiAgICAgIHJlc2V0VGV4dENvbnRlbnQgPSBtdXRhdGlvbi5yZXNldFRleHRDb250ZW50LFxuICAgICAgY29tbWl0VGV4dFVwZGF0ZSA9IG11dGF0aW9uLmNvbW1pdFRleHRVcGRhdGUsXG4gICAgICBhcHBlbmRDaGlsZCA9IG11dGF0aW9uLmFwcGVuZENoaWxkLFxuICAgICAgYXBwZW5kQ2hpbGRUb0NvbnRhaW5lciA9IG11dGF0aW9uLmFwcGVuZENoaWxkVG9Db250YWluZXIsXG4gICAgICBpbnNlcnRCZWZvcmUgPSBtdXRhdGlvbi5pbnNlcnRCZWZvcmUsXG4gICAgICBpbnNlcnRJbkNvbnRhaW5lckJlZm9yZSA9IG11dGF0aW9uLmluc2VydEluQ29udGFpbmVyQmVmb3JlLFxuICAgICAgcmVtb3ZlQ2hpbGQgPSBtdXRhdGlvbi5yZW1vdmVDaGlsZCxcbiAgICAgIHJlbW92ZUNoaWxkRnJvbUNvbnRhaW5lciA9IG11dGF0aW9uLnJlbW92ZUNoaWxkRnJvbUNvbnRhaW5lcjtcblxuXG4gIGZ1bmN0aW9uIGdldEhvc3RQYXJlbnRGaWJlcihmaWJlcikge1xuICAgIHZhciBwYXJlbnQgPSBmaWJlclsncmV0dXJuJ107XG4gICAgd2hpbGUgKHBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgaWYgKGlzSG9zdFBhcmVudChwYXJlbnQpKSB7XG4gICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgICB9XG4gICAgICBwYXJlbnQgPSBwYXJlbnRbJ3JldHVybiddO1xuICAgIH1cbiAgICBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCB0byBmaW5kIGEgaG9zdCBwYXJlbnQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gIH1cblxuICBmdW5jdGlvbiBpc0hvc3RQYXJlbnQoZmliZXIpIHtcbiAgICByZXR1cm4gZmliZXIudGFnID09PSBIb3N0Q29tcG9uZW50IHx8IGZpYmVyLnRhZyA9PT0gSG9zdFJvb3QgfHwgZmliZXIudGFnID09PSBIb3N0UG9ydGFsO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SG9zdFNpYmxpbmcoZmliZXIpIHtcbiAgICAvLyBXZSdyZSBnb2luZyB0byBzZWFyY2ggZm9yd2FyZCBpbnRvIHRoZSB0cmVlIHVudGlsIHdlIGZpbmQgYSBzaWJsaW5nIGhvc3RcbiAgICAvLyBub2RlLiBVbmZvcnR1bmF0ZWx5LCBpZiBtdWx0aXBsZSBpbnNlcnRpb25zIGFyZSBkb25lIGluIGEgcm93IHdlIGhhdmUgdG9cbiAgICAvLyBzZWFyY2ggcGFzdCB0aGVtLiBUaGlzIGxlYWRzIHRvIGV4cG9uZW50aWFsIHNlYXJjaCBmb3IgdGhlIG5leHQgc2libGluZy5cbiAgICB2YXIgbm9kZSA9IGZpYmVyO1xuICAgIHNpYmxpbmdzOiB3aGlsZSAodHJ1ZSkge1xuICAgICAgLy8gSWYgd2UgZGlkbid0IGZpbmQgYW55dGhpbmcsIGxldCdzIHRyeSB0aGUgbmV4dCBzaWJsaW5nLlxuICAgICAgd2hpbGUgKG5vZGUuc2libGluZyA9PT0gbnVsbCkge1xuICAgICAgICBpZiAobm9kZVsncmV0dXJuJ10gPT09IG51bGwgfHwgaXNIb3N0UGFyZW50KG5vZGVbJ3JldHVybiddKSkge1xuICAgICAgICAgIC8vIElmIHdlIHBvcCBvdXQgb2YgdGhlIHJvb3Qgb3IgaGl0IHRoZSBwYXJlbnQgdGhlIGZpYmVyIHdlIGFyZSB0aGVcbiAgICAgICAgICAvLyBsYXN0IHNpYmxpbmcuXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGVbJ3JldHVybiddO1xuICAgICAgfVxuICAgICAgbm9kZS5zaWJsaW5nWydyZXR1cm4nXSA9IG5vZGVbJ3JldHVybiddO1xuICAgICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgICAgIHdoaWxlIChub2RlLnRhZyAhPT0gSG9zdENvbXBvbmVudCAmJiBub2RlLnRhZyAhPT0gSG9zdFRleHQpIHtcbiAgICAgICAgLy8gSWYgaXQgaXMgbm90IGhvc3Qgbm9kZSBhbmQsIHdlIG1pZ2h0IGhhdmUgYSBob3N0IG5vZGUgaW5zaWRlIGl0LlxuICAgICAgICAvLyBUcnkgdG8gc2VhcmNoIGRvd24gdW50aWwgd2UgZmluZCBvbmUuXG4gICAgICAgIGlmIChub2RlLmVmZmVjdFRhZyAmIFBsYWNlbWVudCkge1xuICAgICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBjaGlsZCwgdHJ5IHRoZSBzaWJsaW5ncyBpbnN0ZWFkLlxuICAgICAgICAgIGNvbnRpbnVlIHNpYmxpbmdzO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBjaGlsZCwgdHJ5IHRoZSBzaWJsaW5ncyBpbnN0ZWFkLlxuICAgICAgICAvLyBXZSBhbHNvIHNraXAgcG9ydGFscyBiZWNhdXNlIHRoZXkgYXJlIG5vdCBwYXJ0IG9mIHRoaXMgaG9zdCB0cmVlLlxuICAgICAgICBpZiAobm9kZS5jaGlsZCA9PT0gbnVsbCB8fCBub2RlLnRhZyA9PT0gSG9zdFBvcnRhbCkge1xuICAgICAgICAgIGNvbnRpbnVlIHNpYmxpbmdzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vZGUuY2hpbGRbJ3JldHVybiddID0gbm9kZTtcbiAgICAgICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBob3N0IG5vZGUgaXMgc3RhYmxlIG9yIGFib3V0IHRvIGJlIHBsYWNlZC5cbiAgICAgIGlmICghKG5vZGUuZWZmZWN0VGFnICYgUGxhY2VtZW50KSkge1xuICAgICAgICAvLyBGb3VuZCBpdCFcbiAgICAgICAgcmV0dXJuIG5vZGUuc3RhdGVOb2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbW1pdFBsYWNlbWVudChmaW5pc2hlZFdvcmspIHtcbiAgICAvLyBSZWN1cnNpdmVseSBpbnNlcnQgYWxsIGhvc3Qgbm9kZXMgaW50byB0aGUgcGFyZW50LlxuICAgIHZhciBwYXJlbnRGaWJlciA9IGdldEhvc3RQYXJlbnRGaWJlcihmaW5pc2hlZFdvcmspO1xuICAgIHZhciBwYXJlbnQgPSB2b2lkIDA7XG4gICAgdmFyIGlzQ29udGFpbmVyID0gdm9pZCAwO1xuICAgIHN3aXRjaCAocGFyZW50RmliZXIudGFnKSB7XG4gICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgIHBhcmVudCA9IHBhcmVudEZpYmVyLnN0YXRlTm9kZTtcbiAgICAgICAgaXNDb250YWluZXIgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEhvc3RSb290OlxuICAgICAgICBwYXJlbnQgPSBwYXJlbnRGaWJlci5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgaXNDb250YWluZXIgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgICAgcGFyZW50ID0gcGFyZW50RmliZXIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgICAgIGlzQ29udGFpbmVyID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpbnZhcmlhbnQoZmFsc2UsICdJbnZhbGlkIGhvc3QgcGFyZW50IGZpYmVyLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgIH1cbiAgICBpZiAocGFyZW50RmliZXIuZWZmZWN0VGFnICYgQ29udGVudFJlc2V0KSB7XG4gICAgICAvLyBSZXNldCB0aGUgdGV4dCBjb250ZW50IG9mIHRoZSBwYXJlbnQgYmVmb3JlIGRvaW5nIGFueSBpbnNlcnRpb25zXG4gICAgICByZXNldFRleHRDb250ZW50KHBhcmVudCk7XG4gICAgICAvLyBDbGVhciBDb250ZW50UmVzZXQgZnJvbSB0aGUgZWZmZWN0IHRhZ1xuICAgICAgcGFyZW50RmliZXIuZWZmZWN0VGFnICY9IH5Db250ZW50UmVzZXQ7XG4gICAgfVxuXG4gICAgdmFyIGJlZm9yZSA9IGdldEhvc3RTaWJsaW5nKGZpbmlzaGVkV29yayk7XG4gICAgLy8gV2Ugb25seSBoYXZlIHRoZSB0b3AgRmliZXIgdGhhdCB3YXMgaW5zZXJ0ZWQgYnV0IHdlIG5lZWQgcmVjdXJzZSBkb3duIGl0c1xuICAgIC8vIGNoaWxkcmVuIHRvIGZpbmQgYWxsIHRoZSB0ZXJtaW5hbCBub2Rlcy5cbiAgICB2YXIgbm9kZSA9IGZpbmlzaGVkV29yaztcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKG5vZGUudGFnID09PSBIb3N0Q29tcG9uZW50IHx8IG5vZGUudGFnID09PSBIb3N0VGV4dCkge1xuICAgICAgICBpZiAoYmVmb3JlKSB7XG4gICAgICAgICAgaWYgKGlzQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBpbnNlcnRJbkNvbnRhaW5lckJlZm9yZShwYXJlbnQsIG5vZGUuc3RhdGVOb2RlLCBiZWZvcmUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnNlcnRCZWZvcmUocGFyZW50LCBub2RlLnN0YXRlTm9kZSwgYmVmb3JlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGlzQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBhcHBlbmRDaGlsZFRvQ29udGFpbmVyKHBhcmVudCwgbm9kZS5zdGF0ZU5vZGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcHBlbmRDaGlsZChwYXJlbnQsIG5vZGUuc3RhdGVOb2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZS50YWcgPT09IEhvc3RQb3J0YWwpIHtcbiAgICAgICAgLy8gSWYgdGhlIGluc2VydGlvbiBpdHNlbGYgaXMgYSBwb3J0YWwsIHRoZW4gd2UgZG9uJ3Qgd2FudCB0byB0cmF2ZXJzZVxuICAgICAgICAvLyBkb3duIGl0cyBjaGlsZHJlbi4gSW5zdGVhZCwgd2UnbGwgZ2V0IGluc2VydGlvbnMgZnJvbSBlYWNoIGNoaWxkIGluXG4gICAgICAgIC8vIHRoZSBwb3J0YWwgZGlyZWN0bHkuXG4gICAgICB9IGVsc2UgaWYgKG5vZGUuY2hpbGQgIT09IG51bGwpIHtcbiAgICAgICAgbm9kZS5jaGlsZFsncmV0dXJuJ10gPSBub2RlO1xuICAgICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAobm9kZSA9PT0gZmluaXNoZWRXb3JrKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChub2RlLnNpYmxpbmcgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKG5vZGVbJ3JldHVybiddID09PSBudWxsIHx8IG5vZGVbJ3JldHVybiddID09PSBmaW5pc2hlZFdvcmspIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGVbJ3JldHVybiddO1xuICAgICAgfVxuICAgICAgbm9kZS5zaWJsaW5nWydyZXR1cm4nXSA9IG5vZGVbJ3JldHVybiddO1xuICAgICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1bm1vdW50SG9zdENvbXBvbmVudHMoY3VycmVudCkge1xuICAgIC8vIFdlIG9ubHkgaGF2ZSB0aGUgdG9wIEZpYmVyIHRoYXQgd2FzIGluc2VydGVkIGJ1dCB3ZSBuZWVkIHJlY3Vyc2UgZG93biBpdHNcbiAgICB2YXIgbm9kZSA9IGN1cnJlbnQ7XG5cbiAgICAvLyBFYWNoIGl0ZXJhdGlvbiwgY3VycmVudFBhcmVudCBpcyBwb3B1bGF0ZWQgd2l0aCBub2RlJ3MgaG9zdCBwYXJlbnQgaWYgbm90XG4gICAgLy8gY3VycmVudFBhcmVudElzVmFsaWQuXG4gICAgdmFyIGN1cnJlbnRQYXJlbnRJc1ZhbGlkID0gZmFsc2U7XG4gICAgdmFyIGN1cnJlbnRQYXJlbnQgPSB2b2lkIDA7XG4gICAgdmFyIGN1cnJlbnRQYXJlbnRJc0NvbnRhaW5lciA9IHZvaWQgMDtcblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYXJlbnRJc1ZhbGlkKSB7XG4gICAgICAgIHZhciBwYXJlbnQgPSBub2RlWydyZXR1cm4nXTtcbiAgICAgICAgZmluZFBhcmVudDogd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAhKHBhcmVudCAhPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCB0byBmaW5kIGEgaG9zdCBwYXJlbnQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gICAgICAgICAgc3dpdGNoIChwYXJlbnQudGFnKSB7XG4gICAgICAgICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBwYXJlbnQuc3RhdGVOb2RlO1xuICAgICAgICAgICAgICBjdXJyZW50UGFyZW50SXNDb250YWluZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgYnJlYWsgZmluZFBhcmVudDtcbiAgICAgICAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBwYXJlbnQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgICAgICAgICAgIGN1cnJlbnRQYXJlbnRJc0NvbnRhaW5lciA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrIGZpbmRQYXJlbnQ7XG4gICAgICAgICAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBwYXJlbnQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgICAgICAgICAgIGN1cnJlbnRQYXJlbnRJc0NvbnRhaW5lciA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrIGZpbmRQYXJlbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhcmVudCA9IHBhcmVudFsncmV0dXJuJ107XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudFBhcmVudElzVmFsaWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobm9kZS50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgbm9kZS50YWcgPT09IEhvc3RUZXh0KSB7XG4gICAgICAgIGNvbW1pdE5lc3RlZFVubW91bnRzKG5vZGUpO1xuICAgICAgICAvLyBBZnRlciBhbGwgdGhlIGNoaWxkcmVuIGhhdmUgdW5tb3VudGVkLCBpdCBpcyBub3cgc2FmZSB0byByZW1vdmUgdGhlXG4gICAgICAgIC8vIG5vZGUgZnJvbSB0aGUgdHJlZS5cbiAgICAgICAgaWYgKGN1cnJlbnRQYXJlbnRJc0NvbnRhaW5lcikge1xuICAgICAgICAgIHJlbW92ZUNoaWxkRnJvbUNvbnRhaW5lcihjdXJyZW50UGFyZW50LCBub2RlLnN0YXRlTm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVtb3ZlQ2hpbGQoY3VycmVudFBhcmVudCwgbm9kZS5zdGF0ZU5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIERvbid0IHZpc2l0IGNoaWxkcmVuIGJlY2F1c2Ugd2UgYWxyZWFkeSB2aXNpdGVkIHRoZW0uXG4gICAgICB9IGVsc2UgaWYgKG5vZGUudGFnID09PSBIb3N0UG9ydGFsKSB7XG4gICAgICAgIC8vIFdoZW4gd2UgZ28gaW50byBhIHBvcnRhbCwgaXQgYmVjb21lcyB0aGUgcGFyZW50IHRvIHJlbW92ZSBmcm9tLlxuICAgICAgICAvLyBXZSB3aWxsIHJlYXNzaWduIGl0IGJhY2sgd2hlbiB3ZSBwb3AgdGhlIHBvcnRhbCBvbiB0aGUgd2F5IHVwLlxuICAgICAgICBjdXJyZW50UGFyZW50ID0gbm9kZS5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgLy8gVmlzaXQgY2hpbGRyZW4gYmVjYXVzZSBwb3J0YWxzIG1pZ2h0IGNvbnRhaW4gaG9zdCBjb21wb25lbnRzLlxuICAgICAgICBpZiAobm9kZS5jaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICAgIG5vZGUuY2hpbGRbJ3JldHVybiddID0gbm9kZTtcbiAgICAgICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29tbWl0VW5tb3VudChub2RlKTtcbiAgICAgICAgLy8gVmlzaXQgY2hpbGRyZW4gYmVjYXVzZSB3ZSBtYXkgZmluZCBtb3JlIGhvc3QgY29tcG9uZW50cyBiZWxvdy5cbiAgICAgICAgaWYgKG5vZGUuY2hpbGQgIT09IG51bGwpIHtcbiAgICAgICAgICBub2RlLmNoaWxkWydyZXR1cm4nXSA9IG5vZGU7XG4gICAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChub2RlID09PSBjdXJyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChub2RlLnNpYmxpbmcgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKG5vZGVbJ3JldHVybiddID09PSBudWxsIHx8IG5vZGVbJ3JldHVybiddID09PSBjdXJyZW50KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBub2RlWydyZXR1cm4nXTtcbiAgICAgICAgaWYgKG5vZGUudGFnID09PSBIb3N0UG9ydGFsKSB7XG4gICAgICAgICAgLy8gV2hlbiB3ZSBnbyBvdXQgb2YgdGhlIHBvcnRhbCwgd2UgbmVlZCB0byByZXN0b3JlIHRoZSBwYXJlbnQuXG4gICAgICAgICAgLy8gU2luY2Ugd2UgZG9uJ3Qga2VlcCBhIHN0YWNrIG9mIHRoZW0sIHdlIHdpbGwgc2VhcmNoIGZvciBpdC5cbiAgICAgICAgICBjdXJyZW50UGFyZW50SXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBub2RlLnNpYmxpbmdbJ3JldHVybiddID0gbm9kZVsncmV0dXJuJ107XG4gICAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbW1pdERlbGV0aW9uKGN1cnJlbnQpIHtcbiAgICAvLyBSZWN1cnNpdmVseSBkZWxldGUgYWxsIGhvc3Qgbm9kZXMgZnJvbSB0aGUgcGFyZW50LlxuICAgIC8vIERldGFjaCByZWZzIGFuZCBjYWxsIGNvbXBvbmVudFdpbGxVbm1vdW50KCkgb24gdGhlIHdob2xlIHN1YnRyZWUuXG4gICAgdW5tb3VudEhvc3RDb21wb25lbnRzKGN1cnJlbnQpO1xuICAgIGRldGFjaEZpYmVyKGN1cnJlbnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0V29yayhjdXJyZW50LCBmaW5pc2hlZFdvcmspIHtcbiAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBfaW5zdGFuY2U4ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICBpZiAoX2luc3RhbmNlOCAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBDb21taXQgdGhlIHdvcmsgcHJlcGFyZWQgZWFybGllci5cbiAgICAgICAgICAgIHZhciBuZXdQcm9wcyA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzO1xuICAgICAgICAgICAgLy8gRm9yIGh5ZHJhdGlvbiB3ZSByZXVzZSB0aGUgdXBkYXRlIHBhdGggYnV0IHdlIHRyZWF0IHRoZSBvbGRQcm9wc1xuICAgICAgICAgICAgLy8gYXMgdGhlIG5ld1Byb3BzLiBUaGUgdXBkYXRlUGF5bG9hZCB3aWxsIGNvbnRhaW4gdGhlIHJlYWwgY2hhbmdlIGluXG4gICAgICAgICAgICAvLyB0aGlzIGNhc2UuXG4gICAgICAgICAgICB2YXIgb2xkUHJvcHMgPSBjdXJyZW50ICE9PSBudWxsID8gY3VycmVudC5tZW1vaXplZFByb3BzIDogbmV3UHJvcHM7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IGZpbmlzaGVkV29yay50eXBlO1xuICAgICAgICAgICAgLy8gVE9ETzogVHlwZSB0aGUgdXBkYXRlUXVldWUgdG8gYmUgc3BlY2lmaWMgdG8gaG9zdCBjb21wb25lbnRzLlxuICAgICAgICAgICAgdmFyIHVwZGF0ZVBheWxvYWQgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWU7XG4gICAgICAgICAgICBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWUgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHVwZGF0ZVBheWxvYWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgY29tbWl0VXBkYXRlKF9pbnN0YW5jZTgsIHVwZGF0ZVBheWxvYWQsIHR5cGUsIG9sZFByb3BzLCBuZXdQcm9wcywgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBjYXNlIEhvc3RUZXh0OlxuICAgICAgICB7XG4gICAgICAgICAgIShmaW5pc2hlZFdvcmsuc3RhdGVOb2RlICE9PSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ1RoaXMgc2hvdWxkIGhhdmUgYSB0ZXh0IG5vZGUgaW5pdGlhbGl6ZWQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gICAgICAgICAgdmFyIHRleHRJbnN0YW5jZSA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgdmFyIG5ld1RleHQgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICAvLyBGb3IgaHlkcmF0aW9uIHdlIHJldXNlIHRoZSB1cGRhdGUgcGF0aCBidXQgd2UgdHJlYXQgdGhlIG9sZFByb3BzXG4gICAgICAgICAgLy8gYXMgdGhlIG5ld1Byb3BzLiBUaGUgdXBkYXRlUGF5bG9hZCB3aWxsIGNvbnRhaW4gdGhlIHJlYWwgY2hhbmdlIGluXG4gICAgICAgICAgLy8gdGhpcyBjYXNlLlxuICAgICAgICAgIHZhciBvbGRUZXh0ID0gY3VycmVudCAhPT0gbnVsbCA/IGN1cnJlbnQubWVtb2l6ZWRQcm9wcyA6IG5ld1RleHQ7XG4gICAgICAgICAgY29tbWl0VGV4dFVwZGF0ZSh0ZXh0SW5zdGFuY2UsIG9sZFRleHQsIG5ld1RleHQpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgICAge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAge1xuICAgICAgICAgIGludmFyaWFudChmYWxzZSwgJ1RoaXMgdW5pdCBvZiB3b3JrIHRhZyBzaG91bGQgbm90IGhhdmUgc2lkZS1lZmZlY3RzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0UmVzZXRUZXh0Q29udGVudChjdXJyZW50KSB7XG4gICAgcmVzZXRUZXh0Q29udGVudChjdXJyZW50LnN0YXRlTm9kZSk7XG4gIH1cblxuICBpZiAoZW5hYmxlTXV0YXRpbmdSZWNvbmNpbGVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbW1pdEJlZm9yZU11dGF0aW9uTGlmZUN5Y2xlczogY29tbWl0QmVmb3JlTXV0YXRpb25MaWZlQ3ljbGVzLFxuICAgICAgY29tbWl0UmVzZXRUZXh0Q29udGVudDogY29tbWl0UmVzZXRUZXh0Q29udGVudCxcbiAgICAgIGNvbW1pdFBsYWNlbWVudDogY29tbWl0UGxhY2VtZW50LFxuICAgICAgY29tbWl0RGVsZXRpb246IGNvbW1pdERlbGV0aW9uLFxuICAgICAgY29tbWl0V29yazogY29tbWl0V29yayxcbiAgICAgIGNvbW1pdExpZmVDeWNsZXM6IGNvbW1pdExpZmVDeWNsZXMsXG4gICAgICBjb21taXRFcnJvckxvZ2dpbmc6IGNvbW1pdEVycm9yTG9nZ2luZyxcbiAgICAgIGNvbW1pdEF0dGFjaFJlZjogY29tbWl0QXR0YWNoUmVmLFxuICAgICAgY29tbWl0RGV0YWNoUmVmOiBjb21taXREZXRhY2hSZWZcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGludmFyaWFudChmYWxzZSwgJ011dGF0aW5nIHJlY29uY2lsZXIgaXMgZGlzYWJsZWQuJyk7XG4gIH1cbn07XG5cbnZhciBOT19DT05URVhUID0ge307XG5cbnZhciBSZWFjdEZpYmVySG9zdENvbnRleHQgPSBmdW5jdGlvbiAoY29uZmlnLCBzdGFjaykge1xuICB2YXIgZ2V0Q2hpbGRIb3N0Q29udGV4dCA9IGNvbmZpZy5nZXRDaGlsZEhvc3RDb250ZXh0LFxuICAgICAgZ2V0Um9vdEhvc3RDb250ZXh0ID0gY29uZmlnLmdldFJvb3RIb3N0Q29udGV4dDtcbiAgdmFyIGNyZWF0ZUN1cnNvciA9IHN0YWNrLmNyZWF0ZUN1cnNvcixcbiAgICAgIHB1c2ggPSBzdGFjay5wdXNoLFxuICAgICAgcG9wID0gc3RhY2sucG9wO1xuXG5cbiAgdmFyIGNvbnRleHRTdGFja0N1cnNvciA9IGNyZWF0ZUN1cnNvcihOT19DT05URVhUKTtcbiAgdmFyIGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKE5PX0NPTlRFWFQpO1xuICB2YXIgcm9vdEluc3RhbmNlU3RhY2tDdXJzb3IgPSBjcmVhdGVDdXJzb3IoTk9fQ09OVEVYVCk7XG5cbiAgZnVuY3Rpb24gcmVxdWlyZWRDb250ZXh0KGMpIHtcbiAgICAhKGMgIT09IE5PX0NPTlRFWFQpID8gaW52YXJpYW50KGZhbHNlLCAnRXhwZWN0ZWQgaG9zdCBjb250ZXh0IHRvIGV4aXN0LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICAgIHJldHVybiBjO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Um9vdEhvc3RDb250YWluZXIoKSB7XG4gICAgdmFyIHJvb3RJbnN0YW5jZSA9IHJlcXVpcmVkQ29udGV4dChyb290SW5zdGFuY2VTdGFja0N1cnNvci5jdXJyZW50KTtcbiAgICByZXR1cm4gcm9vdEluc3RhbmNlO1xuICB9XG5cbiAgZnVuY3Rpb24gcHVzaEhvc3RDb250YWluZXIoZmliZXIsIG5leHRSb290SW5zdGFuY2UpIHtcbiAgICAvLyBQdXNoIGN1cnJlbnQgcm9vdCBpbnN0YW5jZSBvbnRvIHRoZSBzdGFjaztcbiAgICAvLyBUaGlzIGFsbG93cyB1cyB0byByZXNldCByb290IHdoZW4gcG9ydGFscyBhcmUgcG9wcGVkLlxuICAgIHB1c2gocm9vdEluc3RhbmNlU3RhY2tDdXJzb3IsIG5leHRSb290SW5zdGFuY2UsIGZpYmVyKTtcbiAgICAvLyBUcmFjayB0aGUgY29udGV4dCBhbmQgdGhlIEZpYmVyIHRoYXQgcHJvdmlkZWQgaXQuXG4gICAgLy8gVGhpcyBlbmFibGVzIHVzIHRvIHBvcCBvbmx5IEZpYmVycyB0aGF0IHByb3ZpZGUgdW5pcXVlIGNvbnRleHRzLlxuICAgIHB1c2goY29udGV4dEZpYmVyU3RhY2tDdXJzb3IsIGZpYmVyLCBmaWJlcik7XG5cbiAgICAvLyBGaW5hbGx5LCB3ZSBuZWVkIHRvIHB1c2ggdGhlIGhvc3QgY29udGV4dCB0byB0aGUgc3RhY2suXG4gICAgLy8gSG93ZXZlciwgd2UgY2FuJ3QganVzdCBjYWxsIGdldFJvb3RIb3N0Q29udGV4dCgpIGFuZCBwdXNoIGl0IGJlY2F1c2VcbiAgICAvLyB3ZSdkIGhhdmUgYSBkaWZmZXJlbnQgbnVtYmVyIG9mIGVudHJpZXMgb24gdGhlIHN0YWNrIGRlcGVuZGluZyBvblxuICAgIC8vIHdoZXRoZXIgZ2V0Um9vdEhvc3RDb250ZXh0KCkgdGhyb3dzIHNvbWV3aGVyZSBpbiByZW5kZXJlciBjb2RlIG9yIG5vdC5cbiAgICAvLyBTbyB3ZSBwdXNoIGFuIGVtcHR5IHZhbHVlIGZpcnN0LiBUaGlzIGxldHMgdXMgc2FmZWx5IHVud2luZCBvbiBlcnJvcnMuXG4gICAgcHVzaChjb250ZXh0U3RhY2tDdXJzb3IsIE5PX0NPTlRFWFQsIGZpYmVyKTtcbiAgICB2YXIgbmV4dFJvb3RDb250ZXh0ID0gZ2V0Um9vdEhvc3RDb250ZXh0KG5leHRSb290SW5zdGFuY2UpO1xuICAgIC8vIE5vdyB0aGF0IHdlIGtub3cgdGhpcyBmdW5jdGlvbiBkb2Vzbid0IHRocm93LCByZXBsYWNlIGl0LlxuICAgIHBvcChjb250ZXh0U3RhY2tDdXJzb3IsIGZpYmVyKTtcbiAgICBwdXNoKGNvbnRleHRTdGFja0N1cnNvciwgbmV4dFJvb3RDb250ZXh0LCBmaWJlcik7XG4gIH1cblxuICBmdW5jdGlvbiBwb3BIb3N0Q29udGFpbmVyKGZpYmVyKSB7XG4gICAgcG9wKGNvbnRleHRTdGFja0N1cnNvciwgZmliZXIpO1xuICAgIHBvcChjb250ZXh0RmliZXJTdGFja0N1cnNvciwgZmliZXIpO1xuICAgIHBvcChyb290SW5zdGFuY2VTdGFja0N1cnNvciwgZmliZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SG9zdENvbnRleHQoKSB7XG4gICAgdmFyIGNvbnRleHQgPSByZXF1aXJlZENvbnRleHQoY29udGV4dFN0YWNrQ3Vyc29yLmN1cnJlbnQpO1xuICAgIHJldHVybiBjb250ZXh0O1xuICB9XG5cbiAgZnVuY3Rpb24gcHVzaEhvc3RDb250ZXh0KGZpYmVyKSB7XG4gICAgdmFyIHJvb3RJbnN0YW5jZSA9IHJlcXVpcmVkQ29udGV4dChyb290SW5zdGFuY2VTdGFja0N1cnNvci5jdXJyZW50KTtcbiAgICB2YXIgY29udGV4dCA9IHJlcXVpcmVkQ29udGV4dChjb250ZXh0U3RhY2tDdXJzb3IuY3VycmVudCk7XG4gICAgdmFyIG5leHRDb250ZXh0ID0gZ2V0Q2hpbGRIb3N0Q29udGV4dChjb250ZXh0LCBmaWJlci50eXBlLCByb290SW5zdGFuY2UpO1xuXG4gICAgLy8gRG9uJ3QgcHVzaCB0aGlzIEZpYmVyJ3MgY29udGV4dCB1bmxlc3MgaXQncyB1bmlxdWUuXG4gICAgaWYgKGNvbnRleHQgPT09IG5leHRDb250ZXh0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVHJhY2sgdGhlIGNvbnRleHQgYW5kIHRoZSBGaWJlciB0aGF0IHByb3ZpZGVkIGl0LlxuICAgIC8vIFRoaXMgZW5hYmxlcyB1cyB0byBwb3Agb25seSBGaWJlcnMgdGhhdCBwcm92aWRlIHVuaXF1ZSBjb250ZXh0cy5cbiAgICBwdXNoKGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yLCBmaWJlciwgZmliZXIpO1xuICAgIHB1c2goY29udGV4dFN0YWNrQ3Vyc29yLCBuZXh0Q29udGV4dCwgZmliZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gcG9wSG9zdENvbnRleHQoZmliZXIpIHtcbiAgICAvLyBEbyBub3QgcG9wIHVubGVzcyB0aGlzIEZpYmVyIHByb3ZpZGVkIHRoZSBjdXJyZW50IGNvbnRleHQuXG4gICAgLy8gcHVzaEhvc3RDb250ZXh0KCkgb25seSBwdXNoZXMgRmliZXJzIHRoYXQgcHJvdmlkZSB1bmlxdWUgY29udGV4dHMuXG4gICAgaWYgKGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yLmN1cnJlbnQgIT09IGZpYmVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcG9wKGNvbnRleHRTdGFja0N1cnNvciwgZmliZXIpO1xuICAgIHBvcChjb250ZXh0RmliZXJTdGFja0N1cnNvciwgZmliZXIpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRIb3N0Q29udGV4dDogZ2V0SG9zdENvbnRleHQsXG4gICAgZ2V0Um9vdEhvc3RDb250YWluZXI6IGdldFJvb3RIb3N0Q29udGFpbmVyLFxuICAgIHBvcEhvc3RDb250YWluZXI6IHBvcEhvc3RDb250YWluZXIsXG4gICAgcG9wSG9zdENvbnRleHQ6IHBvcEhvc3RDb250ZXh0LFxuICAgIHB1c2hIb3N0Q29udGFpbmVyOiBwdXNoSG9zdENvbnRhaW5lcixcbiAgICBwdXNoSG9zdENvbnRleHQ6IHB1c2hIb3N0Q29udGV4dFxuICB9O1xufTtcblxudmFyIFJlYWN0RmliZXJIeWRyYXRpb25Db250ZXh0ID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICB2YXIgc2hvdWxkU2V0VGV4dENvbnRlbnQgPSBjb25maWcuc2hvdWxkU2V0VGV4dENvbnRlbnQsXG4gICAgICBoeWRyYXRpb24gPSBjb25maWcuaHlkcmF0aW9uO1xuXG4gIC8vIElmIHRoaXMgZG9lc24ndCBoYXZlIGh5ZHJhdGlvbiBtb2RlLlxuXG4gIGlmICghaHlkcmF0aW9uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVudGVySHlkcmF0aW9uU3RhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSxcbiAgICAgIHJlc2V0SHlkcmF0aW9uU3RhdGU6IGZ1bmN0aW9uICgpIHt9LFxuICAgICAgdHJ5VG9DbGFpbU5leHRIeWRyYXRhYmxlSW5zdGFuY2U6IGZ1bmN0aW9uICgpIHt9LFxuICAgICAgcHJlcGFyZVRvSHlkcmF0ZUhvc3RJbnN0YW5jZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCBwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlKCkgdG8gbmV2ZXIgYmUgY2FsbGVkLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgICAgfSxcbiAgICAgIHByZXBhcmVUb0h5ZHJhdGVIb3N0VGV4dEluc3RhbmNlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkIHByZXBhcmVUb0h5ZHJhdGVIb3N0VGV4dEluc3RhbmNlKCkgdG8gbmV2ZXIgYmUgY2FsbGVkLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgICAgfSxcbiAgICAgIHBvcEh5ZHJhdGlvblN0YXRlOiBmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICB2YXIgY2FuSHlkcmF0ZUluc3RhbmNlID0gaHlkcmF0aW9uLmNhbkh5ZHJhdGVJbnN0YW5jZSxcbiAgICAgIGNhbkh5ZHJhdGVUZXh0SW5zdGFuY2UgPSBoeWRyYXRpb24uY2FuSHlkcmF0ZVRleHRJbnN0YW5jZSxcbiAgICAgIGdldE5leHRIeWRyYXRhYmxlU2libGluZyA9IGh5ZHJhdGlvbi5nZXROZXh0SHlkcmF0YWJsZVNpYmxpbmcsXG4gICAgICBnZXRGaXJzdEh5ZHJhdGFibGVDaGlsZCA9IGh5ZHJhdGlvbi5nZXRGaXJzdEh5ZHJhdGFibGVDaGlsZCxcbiAgICAgIGh5ZHJhdGVJbnN0YW5jZSA9IGh5ZHJhdGlvbi5oeWRyYXRlSW5zdGFuY2UsXG4gICAgICBoeWRyYXRlVGV4dEluc3RhbmNlID0gaHlkcmF0aW9uLmh5ZHJhdGVUZXh0SW5zdGFuY2UsXG4gICAgICBkaWROb3RNYXRjaEh5ZHJhdGVkQ29udGFpbmVyVGV4dEluc3RhbmNlID0gaHlkcmF0aW9uLmRpZE5vdE1hdGNoSHlkcmF0ZWRDb250YWluZXJUZXh0SW5zdGFuY2UsXG4gICAgICBkaWROb3RNYXRjaEh5ZHJhdGVkVGV4dEluc3RhbmNlID0gaHlkcmF0aW9uLmRpZE5vdE1hdGNoSHlkcmF0ZWRUZXh0SW5zdGFuY2UsXG4gICAgICBkaWROb3RIeWRyYXRlQ29udGFpbmVySW5zdGFuY2UgPSBoeWRyYXRpb24uZGlkTm90SHlkcmF0ZUNvbnRhaW5lckluc3RhbmNlLFxuICAgICAgZGlkTm90SHlkcmF0ZUluc3RhbmNlID0gaHlkcmF0aW9uLmRpZE5vdEh5ZHJhdGVJbnN0YW5jZSxcbiAgICAgIGRpZE5vdEZpbmRIeWRyYXRhYmxlQ29udGFpbmVySW5zdGFuY2UgPSBoeWRyYXRpb24uZGlkTm90RmluZEh5ZHJhdGFibGVDb250YWluZXJJbnN0YW5jZSxcbiAgICAgIGRpZE5vdEZpbmRIeWRyYXRhYmxlQ29udGFpbmVyVGV4dEluc3RhbmNlID0gaHlkcmF0aW9uLmRpZE5vdEZpbmRIeWRyYXRhYmxlQ29udGFpbmVyVGV4dEluc3RhbmNlLFxuICAgICAgZGlkTm90RmluZEh5ZHJhdGFibGVJbnN0YW5jZSA9IGh5ZHJhdGlvbi5kaWROb3RGaW5kSHlkcmF0YWJsZUluc3RhbmNlLFxuICAgICAgZGlkTm90RmluZEh5ZHJhdGFibGVUZXh0SW5zdGFuY2UgPSBoeWRyYXRpb24uZGlkTm90RmluZEh5ZHJhdGFibGVUZXh0SW5zdGFuY2U7XG5cbiAgLy8gVGhlIGRlZXBlc3QgRmliZXIgb24gdGhlIHN0YWNrIGludm9sdmVkIGluIGEgaHlkcmF0aW9uIGNvbnRleHQuXG4gIC8vIFRoaXMgbWF5IGhhdmUgYmVlbiBhbiBpbnNlcnRpb24gb3IgYSBoeWRyYXRpb24uXG5cbiAgdmFyIGh5ZHJhdGlvblBhcmVudEZpYmVyID0gbnVsbDtcbiAgdmFyIG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBudWxsO1xuICB2YXIgaXNIeWRyYXRpbmcgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBlbnRlckh5ZHJhdGlvblN0YXRlKGZpYmVyKSB7XG4gICAgdmFyIHBhcmVudEluc3RhbmNlID0gZmliZXIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IGdldEZpcnN0SHlkcmF0YWJsZUNoaWxkKHBhcmVudEluc3RhbmNlKTtcbiAgICBoeWRyYXRpb25QYXJlbnRGaWJlciA9IGZpYmVyO1xuICAgIGlzSHlkcmF0aW5nID0gdHJ1ZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlbGV0ZUh5ZHJhdGFibGVJbnN0YW5jZShyZXR1cm5GaWJlciwgaW5zdGFuY2UpIHtcbiAgICB7XG4gICAgICBzd2l0Y2ggKHJldHVybkZpYmVyLnRhZykge1xuICAgICAgICBjYXNlIEhvc3RSb290OlxuICAgICAgICAgIGRpZE5vdEh5ZHJhdGVDb250YWluZXJJbnN0YW5jZShyZXR1cm5GaWJlci5zdGF0ZU5vZGUuY29udGFpbmVySW5mbywgaW5zdGFuY2UpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgICAgZGlkTm90SHlkcmF0ZUluc3RhbmNlKHJldHVybkZpYmVyLnR5cGUsIHJldHVybkZpYmVyLm1lbW9pemVkUHJvcHMsIHJldHVybkZpYmVyLnN0YXRlTm9kZSwgaW5zdGFuY2UpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBjaGlsZFRvRGVsZXRlID0gY3JlYXRlRmliZXJGcm9tSG9zdEluc3RhbmNlRm9yRGVsZXRpb24oKTtcbiAgICBjaGlsZFRvRGVsZXRlLnN0YXRlTm9kZSA9IGluc3RhbmNlO1xuICAgIGNoaWxkVG9EZWxldGVbJ3JldHVybiddID0gcmV0dXJuRmliZXI7XG4gICAgY2hpbGRUb0RlbGV0ZS5lZmZlY3RUYWcgPSBEZWxldGlvbjtcblxuICAgIC8vIFRoaXMgbWlnaHQgc2VlbSBsaWtlIGl0IGJlbG9uZ3Mgb24gcHJvZ3Jlc3NlZEZpcnN0RGVsZXRpb24uIEhvd2V2ZXIsXG4gICAgLy8gdGhlc2UgY2hpbGRyZW4gYXJlIG5vdCBwYXJ0IG9mIHRoZSByZWNvbmNpbGlhdGlvbiBsaXN0IG9mIGNoaWxkcmVuLlxuICAgIC8vIEV2ZW4gaWYgd2UgYWJvcnQgYW5kIHJlcmVjb25jaWxlIHRoZSBjaGlsZHJlbiwgdGhhdCB3aWxsIHRyeSB0byBoeWRyYXRlXG4gICAgLy8gYWdhaW4gYW5kIHRoZSBub2RlcyBhcmUgc3RpbGwgaW4gdGhlIGhvc3QgdHJlZSBzbyB0aGVzZSB3aWxsIGJlXG4gICAgLy8gcmVjcmVhdGVkLlxuICAgIGlmIChyZXR1cm5GaWJlci5sYXN0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0Lm5leHRFZmZlY3QgPSBjaGlsZFRvRGVsZXRlO1xuICAgICAgcmV0dXJuRmliZXIubGFzdEVmZmVjdCA9IGNoaWxkVG9EZWxldGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybkZpYmVyLmZpcnN0RWZmZWN0ID0gcmV0dXJuRmliZXIubGFzdEVmZmVjdCA9IGNoaWxkVG9EZWxldGU7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW5zZXJ0Tm9uSHlkcmF0ZWRJbnN0YW5jZShyZXR1cm5GaWJlciwgZmliZXIpIHtcbiAgICBmaWJlci5lZmZlY3RUYWcgfD0gUGxhY2VtZW50O1xuICAgIHtcbiAgICAgIHN3aXRjaCAocmV0dXJuRmliZXIudGFnKSB7XG4gICAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIHBhcmVudENvbnRhaW5lciA9IHJldHVybkZpYmVyLnN0YXRlTm9kZS5jb250YWluZXJJbmZvO1xuICAgICAgICAgICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgICAgICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gZmliZXIudHlwZTtcbiAgICAgICAgICAgICAgICB2YXIgcHJvcHMgPSBmaWJlci5wZW5kaW5nUHJvcHM7XG4gICAgICAgICAgICAgICAgZGlkTm90RmluZEh5ZHJhdGFibGVDb250YWluZXJJbnN0YW5jZShwYXJlbnRDb250YWluZXIsIHR5cGUsIHByb3BzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBIb3N0VGV4dDpcbiAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IGZpYmVyLnBlbmRpbmdQcm9wcztcbiAgICAgICAgICAgICAgICBkaWROb3RGaW5kSHlkcmF0YWJsZUNvbnRhaW5lclRleHRJbnN0YW5jZShwYXJlbnRDb250YWluZXIsIHRleHQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIHBhcmVudFR5cGUgPSByZXR1cm5GaWJlci50eXBlO1xuICAgICAgICAgICAgdmFyIHBhcmVudFByb3BzID0gcmV0dXJuRmliZXIubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICAgIHZhciBwYXJlbnRJbnN0YW5jZSA9IHJldHVybkZpYmVyLnN0YXRlTm9kZTtcbiAgICAgICAgICAgIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgICAgICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICAgICAgICB2YXIgX3R5cGUgPSBmaWJlci50eXBlO1xuICAgICAgICAgICAgICAgIHZhciBfcHJvcHMgPSBmaWJlci5wZW5kaW5nUHJvcHM7XG4gICAgICAgICAgICAgICAgZGlkTm90RmluZEh5ZHJhdGFibGVJbnN0YW5jZShwYXJlbnRUeXBlLCBwYXJlbnRQcm9wcywgcGFyZW50SW5zdGFuY2UsIF90eXBlLCBfcHJvcHMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIEhvc3RUZXh0OlxuICAgICAgICAgICAgICAgIHZhciBfdGV4dCA9IGZpYmVyLnBlbmRpbmdQcm9wcztcbiAgICAgICAgICAgICAgICBkaWROb3RGaW5kSHlkcmF0YWJsZVRleHRJbnN0YW5jZShwYXJlbnRUeXBlLCBwYXJlbnRQcm9wcywgcGFyZW50SW5zdGFuY2UsIF90ZXh0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdHJ5SHlkcmF0ZShmaWJlciwgbmV4dEluc3RhbmNlKSB7XG4gICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAge1xuICAgICAgICAgIHZhciB0eXBlID0gZmliZXIudHlwZTtcbiAgICAgICAgICB2YXIgcHJvcHMgPSBmaWJlci5wZW5kaW5nUHJvcHM7XG4gICAgICAgICAgdmFyIGluc3RhbmNlID0gY2FuSHlkcmF0ZUluc3RhbmNlKG5leHRJbnN0YW5jZSwgdHlwZSwgcHJvcHMpO1xuICAgICAgICAgIGlmIChpbnN0YW5jZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZmliZXIuc3RhdGVOb2RlID0gaW5zdGFuY2U7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICBjYXNlIEhvc3RUZXh0OlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIHRleHQgPSBmaWJlci5wZW5kaW5nUHJvcHM7XG4gICAgICAgICAgdmFyIHRleHRJbnN0YW5jZSA9IGNhbkh5ZHJhdGVUZXh0SW5zdGFuY2UobmV4dEluc3RhbmNlLCB0ZXh0KTtcbiAgICAgICAgICBpZiAodGV4dEluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmaWJlci5zdGF0ZU5vZGUgPSB0ZXh0SW5zdGFuY2U7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdHJ5VG9DbGFpbU5leHRIeWRyYXRhYmxlSW5zdGFuY2UoZmliZXIpIHtcbiAgICBpZiAoIWlzSHlkcmF0aW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBuZXh0SW5zdGFuY2UgPSBuZXh0SHlkcmF0YWJsZUluc3RhbmNlO1xuICAgIGlmICghbmV4dEluc3RhbmNlKSB7XG4gICAgICAvLyBOb3RoaW5nIHRvIGh5ZHJhdGUuIE1ha2UgaXQgYW4gaW5zZXJ0aW9uLlxuICAgICAgaW5zZXJ0Tm9uSHlkcmF0ZWRJbnN0YW5jZShoeWRyYXRpb25QYXJlbnRGaWJlciwgZmliZXIpO1xuICAgICAgaXNIeWRyYXRpbmcgPSBmYWxzZTtcbiAgICAgIGh5ZHJhdGlvblBhcmVudEZpYmVyID0gZmliZXI7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghdHJ5SHlkcmF0ZShmaWJlciwgbmV4dEluc3RhbmNlKSkge1xuICAgICAgLy8gSWYgd2UgY2FuJ3QgaHlkcmF0ZSB0aGlzIGluc3RhbmNlIGxldCdzIHRyeSB0aGUgbmV4dCBvbmUuXG4gICAgICAvLyBXZSB1c2UgdGhpcyBhcyBhIGhldXJpc3RpYy4gSXQncyBiYXNlZCBvbiBpbnR1aXRpb24gYW5kIG5vdCBkYXRhIHNvIGl0XG4gICAgICAvLyBtaWdodCBiZSBmbGF3ZWQgb3IgdW5uZWNlc3NhcnkuXG4gICAgICBuZXh0SW5zdGFuY2UgPSBnZXROZXh0SHlkcmF0YWJsZVNpYmxpbmcobmV4dEluc3RhbmNlKTtcbiAgICAgIGlmICghbmV4dEluc3RhbmNlIHx8ICF0cnlIeWRyYXRlKGZpYmVyLCBuZXh0SW5zdGFuY2UpKSB7XG4gICAgICAgIC8vIE5vdGhpbmcgdG8gaHlkcmF0ZS4gTWFrZSBpdCBhbiBpbnNlcnRpb24uXG4gICAgICAgIGluc2VydE5vbkh5ZHJhdGVkSW5zdGFuY2UoaHlkcmF0aW9uUGFyZW50RmliZXIsIGZpYmVyKTtcbiAgICAgICAgaXNIeWRyYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgaHlkcmF0aW9uUGFyZW50RmliZXIgPSBmaWJlcjtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gV2UgbWF0Y2hlZCB0aGUgbmV4dCBvbmUsIHdlJ2xsIG5vdyBhc3N1bWUgdGhhdCB0aGUgZmlyc3Qgb25lIHdhc1xuICAgICAgLy8gc3VwZXJmbHVvdXMgYW5kIHdlJ2xsIGRlbGV0ZSBpdC4gU2luY2Ugd2UgY2FuJ3QgZWFnZXJseSBkZWxldGUgaXRcbiAgICAgIC8vIHdlJ2xsIGhhdmUgdG8gc2NoZWR1bGUgYSBkZWxldGlvbi4gVG8gZG8gdGhhdCwgdGhpcyBub2RlIG5lZWRzIGEgZHVtbXlcbiAgICAgIC8vIGZpYmVyIGFzc29jaWF0ZWQgd2l0aCBpdC5cbiAgICAgIGRlbGV0ZUh5ZHJhdGFibGVJbnN0YW5jZShoeWRyYXRpb25QYXJlbnRGaWJlciwgbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSk7XG4gICAgfVxuICAgIGh5ZHJhdGlvblBhcmVudEZpYmVyID0gZmliZXI7XG4gICAgbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IGdldEZpcnN0SHlkcmF0YWJsZUNoaWxkKG5leHRJbnN0YW5jZSk7XG4gIH1cblxuICBmdW5jdGlvbiBwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlKGZpYmVyLCByb290Q29udGFpbmVySW5zdGFuY2UsIGhvc3RDb250ZXh0KSB7XG4gICAgdmFyIGluc3RhbmNlID0gZmliZXIuc3RhdGVOb2RlO1xuICAgIHZhciB1cGRhdGVQYXlsb2FkID0gaHlkcmF0ZUluc3RhbmNlKGluc3RhbmNlLCBmaWJlci50eXBlLCBmaWJlci5tZW1vaXplZFByb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UsIGhvc3RDb250ZXh0LCBmaWJlcik7XG4gICAgLy8gVE9ETzogVHlwZSB0aGlzIHNwZWNpZmljIHRvIHRoaXMgdHlwZSBvZiBjb21wb25lbnQuXG4gICAgZmliZXIudXBkYXRlUXVldWUgPSB1cGRhdGVQYXlsb2FkO1xuICAgIC8vIElmIHRoZSB1cGRhdGUgcGF5bG9hZCBpbmRpY2F0ZXMgdGhhdCB0aGVyZSBpcyBhIGNoYW5nZSBvciBpZiB0aGVyZVxuICAgIC8vIGlzIGEgbmV3IHJlZiB3ZSBtYXJrIHRoaXMgYXMgYW4gdXBkYXRlLlxuICAgIGlmICh1cGRhdGVQYXlsb2FkICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJlcGFyZVRvSHlkcmF0ZUhvc3RUZXh0SW5zdGFuY2UoZmliZXIpIHtcbiAgICB2YXIgdGV4dEluc3RhbmNlID0gZmliZXIuc3RhdGVOb2RlO1xuICAgIHZhciB0ZXh0Q29udGVudCA9IGZpYmVyLm1lbW9pemVkUHJvcHM7XG4gICAgdmFyIHNob3VsZFVwZGF0ZSA9IGh5ZHJhdGVUZXh0SW5zdGFuY2UodGV4dEluc3RhbmNlLCB0ZXh0Q29udGVudCwgZmliZXIpO1xuICAgIHtcbiAgICAgIGlmIChzaG91bGRVcGRhdGUpIHtcbiAgICAgICAgLy8gV2UgYXNzdW1lIHRoYXQgcHJlcGFyZVRvSHlkcmF0ZUhvc3RUZXh0SW5zdGFuY2UgaXMgY2FsbGVkIGluIGEgY29udGV4dCB3aGVyZSB0aGVcbiAgICAgICAgLy8gaHlkcmF0aW9uIHBhcmVudCBpcyB0aGUgcGFyZW50IGhvc3QgY29tcG9uZW50IG9mIHRoaXMgaG9zdCB0ZXh0LlxuICAgICAgICB2YXIgcmV0dXJuRmliZXIgPSBoeWRyYXRpb25QYXJlbnRGaWJlcjtcbiAgICAgICAgaWYgKHJldHVybkZpYmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgc3dpdGNoIChyZXR1cm5GaWJlci50YWcpIHtcbiAgICAgICAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50Q29udGFpbmVyID0gcmV0dXJuRmliZXIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgICAgICAgICAgICAgZGlkTm90TWF0Y2hIeWRyYXRlZENvbnRhaW5lclRleHRJbnN0YW5jZShwYXJlbnRDb250YWluZXIsIHRleHRJbnN0YW5jZSwgdGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50VHlwZSA9IHJldHVybkZpYmVyLnR5cGU7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudFByb3BzID0gcmV0dXJuRmliZXIubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50SW5zdGFuY2UgPSByZXR1cm5GaWJlci5zdGF0ZU5vZGU7XG4gICAgICAgICAgICAgICAgZGlkTm90TWF0Y2hIeWRyYXRlZFRleHRJbnN0YW5jZShwYXJlbnRUeXBlLCBwYXJlbnRQcm9wcywgcGFyZW50SW5zdGFuY2UsIHRleHRJbnN0YW5jZSwgdGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzaG91bGRVcGRhdGU7XG4gIH1cblxuICBmdW5jdGlvbiBwb3BUb05leHRIb3N0UGFyZW50KGZpYmVyKSB7XG4gICAgdmFyIHBhcmVudCA9IGZpYmVyWydyZXR1cm4nXTtcbiAgICB3aGlsZSAocGFyZW50ICE9PSBudWxsICYmIHBhcmVudC50YWcgIT09IEhvc3RDb21wb25lbnQgJiYgcGFyZW50LnRhZyAhPT0gSG9zdFJvb3QpIHtcbiAgICAgIHBhcmVudCA9IHBhcmVudFsncmV0dXJuJ107XG4gICAgfVxuICAgIGh5ZHJhdGlvblBhcmVudEZpYmVyID0gcGFyZW50O1xuICB9XG5cbiAgZnVuY3Rpb24gcG9wSHlkcmF0aW9uU3RhdGUoZmliZXIpIHtcbiAgICBpZiAoZmliZXIgIT09IGh5ZHJhdGlvblBhcmVudEZpYmVyKSB7XG4gICAgICAvLyBXZSdyZSBkZWVwZXIgdGhhbiB0aGUgY3VycmVudCBoeWRyYXRpb24gY29udGV4dCwgaW5zaWRlIGFuIGluc2VydGVkXG4gICAgICAvLyB0cmVlLlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIWlzSHlkcmF0aW5nKSB7XG4gICAgICAvLyBJZiB3ZSdyZSBub3QgY3VycmVudGx5IGh5ZHJhdGluZyBidXQgd2UncmUgaW4gYSBoeWRyYXRpb24gY29udGV4dCwgdGhlblxuICAgICAgLy8gd2Ugd2VyZSBhbiBpbnNlcnRpb24gYW5kIG5vdyBuZWVkIHRvIHBvcCB1cCByZWVudGVyIGh5ZHJhdGlvbiBvZiBvdXJcbiAgICAgIC8vIHNpYmxpbmdzLlxuICAgICAgcG9wVG9OZXh0SG9zdFBhcmVudChmaWJlcik7XG4gICAgICBpc0h5ZHJhdGluZyA9IHRydWU7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHR5cGUgPSBmaWJlci50eXBlO1xuXG4gICAgLy8gSWYgd2UgaGF2ZSBhbnkgcmVtYWluaW5nIGh5ZHJhdGFibGUgbm9kZXMsIHdlIG5lZWQgdG8gZGVsZXRlIHRoZW0gbm93LlxuICAgIC8vIFdlIG9ubHkgZG8gdGhpcyBkZWVwZXIgdGhhbiBoZWFkIGFuZCBib2R5IHNpbmNlIHRoZXkgdGVuZCB0byBoYXZlIHJhbmRvbVxuICAgIC8vIG90aGVyIG5vZGVzIGluIHRoZW0uIFdlIGFsc28gaWdub3JlIGNvbXBvbmVudHMgd2l0aCBwdXJlIHRleHQgY29udGVudCBpblxuICAgIC8vIHNpZGUgb2YgdGhlbS5cbiAgICAvLyBUT0RPOiBCZXR0ZXIgaGV1cmlzdGljLlxuICAgIGlmIChmaWJlci50YWcgIT09IEhvc3RDb21wb25lbnQgfHwgdHlwZSAhPT0gJ2hlYWQnICYmIHR5cGUgIT09ICdib2R5JyAmJiAhc2hvdWxkU2V0VGV4dENvbnRlbnQodHlwZSwgZmliZXIubWVtb2l6ZWRQcm9wcykpIHtcbiAgICAgIHZhciBuZXh0SW5zdGFuY2UgPSBuZXh0SHlkcmF0YWJsZUluc3RhbmNlO1xuICAgICAgd2hpbGUgKG5leHRJbnN0YW5jZSkge1xuICAgICAgICBkZWxldGVIeWRyYXRhYmxlSW5zdGFuY2UoZmliZXIsIG5leHRJbnN0YW5jZSk7XG4gICAgICAgIG5leHRJbnN0YW5jZSA9IGdldE5leHRIeWRyYXRhYmxlU2libGluZyhuZXh0SW5zdGFuY2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHBvcFRvTmV4dEhvc3RQYXJlbnQoZmliZXIpO1xuICAgIG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBoeWRyYXRpb25QYXJlbnRGaWJlciA/IGdldE5leHRIeWRyYXRhYmxlU2libGluZyhmaWJlci5zdGF0ZU5vZGUpIDogbnVsbDtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0SHlkcmF0aW9uU3RhdGUoKSB7XG4gICAgaHlkcmF0aW9uUGFyZW50RmliZXIgPSBudWxsO1xuICAgIG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBudWxsO1xuICAgIGlzSHlkcmF0aW5nID0gZmFsc2U7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGVudGVySHlkcmF0aW9uU3RhdGU6IGVudGVySHlkcmF0aW9uU3RhdGUsXG4gICAgcmVzZXRIeWRyYXRpb25TdGF0ZTogcmVzZXRIeWRyYXRpb25TdGF0ZSxcbiAgICB0cnlUb0NsYWltTmV4dEh5ZHJhdGFibGVJbnN0YW5jZTogdHJ5VG9DbGFpbU5leHRIeWRyYXRhYmxlSW5zdGFuY2UsXG4gICAgcHJlcGFyZVRvSHlkcmF0ZUhvc3RJbnN0YW5jZTogcHJlcGFyZVRvSHlkcmF0ZUhvc3RJbnN0YW5jZSxcbiAgICBwcmVwYXJlVG9IeWRyYXRlSG9zdFRleHRJbnN0YW5jZTogcHJlcGFyZVRvSHlkcmF0ZUhvc3RUZXh0SW5zdGFuY2UsXG4gICAgcG9wSHlkcmF0aW9uU3RhdGU6IHBvcEh5ZHJhdGlvblN0YXRlXG4gIH07XG59O1xuXG4vLyBUaGlzIGxldHMgdXMgaG9vayBpbnRvIEZpYmVyIHRvIGRlYnVnIHdoYXQgaXQncyBkb2luZy5cbi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC84MDMzLlxuLy8gVGhpcyBpcyBub3QgcGFydCBvZiB0aGUgcHVibGljIEFQSSwgbm90IGV2ZW4gZm9yIFJlYWN0IERldlRvb2xzLlxuLy8gWW91IG1heSBvbmx5IGluamVjdCBhIGRlYnVnVG9vbCBpZiB5b3Ugd29yayBvbiBSZWFjdCBGaWJlciBpdHNlbGYuXG52YXIgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbiA9IHtcbiAgZGVidWdUb29sOiBudWxsXG59O1xuXG52YXIgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xID0gUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbjtcblxudmFyIHdhcm5lZEFib3V0TWlzc2luZ0dldENoaWxkQ29udGV4dCA9IHZvaWQgMDtcblxue1xuICB3YXJuZWRBYm91dE1pc3NpbmdHZXRDaGlsZENvbnRleHQgPSB7fTtcbn1cblxudmFyIFJlYWN0RmliZXJMZWdhY3lDb250ZXh0ID0gZnVuY3Rpb24gKHN0YWNrKSB7XG4gIHZhciBjcmVhdGVDdXJzb3IgPSBzdGFjay5jcmVhdGVDdXJzb3IsXG4gICAgICBwdXNoID0gc3RhY2sucHVzaCxcbiAgICAgIHBvcCA9IHN0YWNrLnBvcDtcblxuICAvLyBBIGN1cnNvciB0byB0aGUgY3VycmVudCBtZXJnZWQgY29udGV4dCBvYmplY3Qgb24gdGhlIHN0YWNrLlxuXG4gIHZhciBjb250ZXh0U3RhY2tDdXJzb3IgPSBjcmVhdGVDdXJzb3IoZW1wdHlPYmplY3QpO1xuICAvLyBBIGN1cnNvciB0byBhIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBjb250ZXh0IGhhcyBjaGFuZ2VkLlxuICB2YXIgZGlkUGVyZm9ybVdvcmtTdGFja0N1cnNvciA9IGNyZWF0ZUN1cnNvcihmYWxzZSk7XG4gIC8vIEtlZXAgdHJhY2sgb2YgdGhlIHByZXZpb3VzIGNvbnRleHQgb2JqZWN0IHRoYXQgd2FzIG9uIHRoZSBzdGFjay5cbiAgLy8gV2UgdXNlIHRoaXMgdG8gZ2V0IGFjY2VzcyB0byB0aGUgcGFyZW50IGNvbnRleHQgYWZ0ZXIgd2UgaGF2ZSBhbHJlYWR5XG4gIC8vIHB1c2hlZCB0aGUgbmV4dCBjb250ZXh0IHByb3ZpZGVyLCBhbmQgbm93IG5lZWQgdG8gbWVyZ2UgdGhlaXIgY29udGV4dHMuXG4gIHZhciBwcmV2aW91c0NvbnRleHQgPSBlbXB0eU9iamVjdDtcblxuICBmdW5jdGlvbiBnZXRVbm1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MpIHtcbiAgICB2YXIgaGFzT3duQ29udGV4dCA9IGlzQ29udGV4dFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICBpZiAoaGFzT3duQ29udGV4dCkge1xuICAgICAgLy8gSWYgdGhlIGZpYmVyIGlzIGEgY29udGV4dCBwcm92aWRlciBpdHNlbGYsIHdoZW4gd2UgcmVhZCBpdHMgY29udGV4dFxuICAgICAgLy8gd2UgaGF2ZSBhbHJlYWR5IHB1c2hlZCBpdHMgb3duIGNoaWxkIGNvbnRleHQgb24gdGhlIHN0YWNrLiBBIGNvbnRleHRcbiAgICAgIC8vIHByb3ZpZGVyIHNob3VsZCBub3QgXCJzZWVcIiBpdHMgb3duIGNoaWxkIGNvbnRleHQuIFRoZXJlZm9yZSB3ZSByZWFkIHRoZVxuICAgICAgLy8gcHJldmlvdXMgKHBhcmVudCkgY29udGV4dCBpbnN0ZWFkIGZvciBhIGNvbnRleHQgcHJvdmlkZXIuXG4gICAgICByZXR1cm4gcHJldmlvdXNDb250ZXh0O1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dFN0YWNrQ3Vyc29yLmN1cnJlbnQ7XG4gIH1cblxuICBmdW5jdGlvbiBjYWNoZUNvbnRleHQod29ya0luUHJvZ3Jlc3MsIHVubWFza2VkQ29udGV4dCwgbWFza2VkQ29udGV4dCkge1xuICAgIHZhciBpbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICBpbnN0YW5jZS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZFVubWFza2VkQ2hpbGRDb250ZXh0ID0gdW5tYXNrZWRDb250ZXh0O1xuICAgIGluc3RhbmNlLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWFza2VkQ2hpbGRDb250ZXh0ID0gbWFza2VkQ29udGV4dDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MsIHVubWFza2VkQ29udGV4dCkge1xuICAgIHZhciB0eXBlID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICB2YXIgY29udGV4dFR5cGVzID0gdHlwZS5jb250ZXh0VHlwZXM7XG4gICAgaWYgKCFjb250ZXh0VHlwZXMpIHtcbiAgICAgIHJldHVybiBlbXB0eU9iamVjdDtcbiAgICB9XG5cbiAgICAvLyBBdm9pZCByZWNyZWF0aW5nIG1hc2tlZCBjb250ZXh0IHVubGVzcyB1bm1hc2tlZCBjb250ZXh0IGhhcyBjaGFuZ2VkLlxuICAgIC8vIEZhaWxpbmcgdG8gZG8gdGhpcyB3aWxsIHJlc3VsdCBpbiB1bm5lY2Vzc2FyeSBjYWxscyB0byBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzLlxuICAgIC8vIFRoaXMgbWF5IHRyaWdnZXIgaW5maW5pdGUgbG9vcHMgaWYgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyBjYWxscyBzZXRTdGF0ZS5cbiAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkVW5tYXNrZWRDaGlsZENvbnRleHQgPT09IHVubWFza2VkQ29udGV4dCkge1xuICAgICAgcmV0dXJuIGluc3RhbmNlLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWFza2VkQ2hpbGRDb250ZXh0O1xuICAgIH1cblxuICAgIHZhciBjb250ZXh0ID0ge307XG4gICAgZm9yICh2YXIga2V5IGluIGNvbnRleHRUeXBlcykge1xuICAgICAgY29udGV4dFtrZXldID0gdW5tYXNrZWRDb250ZXh0W2tleV07XG4gICAgfVxuXG4gICAge1xuICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKSB8fCAnVW5rbm93bic7XG4gICAgICBjaGVja1Byb3BUeXBlcyhjb250ZXh0VHlwZXMsIGNvbnRleHQsICdjb250ZXh0JywgbmFtZSwgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5nZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtKTtcbiAgICB9XG5cbiAgICAvLyBDYWNoZSB1bm1hc2tlZCBjb250ZXh0IHNvIHdlIGNhbiBhdm9pZCByZWNyZWF0aW5nIG1hc2tlZCBjb250ZXh0IHVubGVzcyBuZWNlc3NhcnkuXG4gICAgLy8gQ29udGV4dCBpcyBjcmVhdGVkIGJlZm9yZSB0aGUgY2xhc3MgY29tcG9uZW50IGlzIGluc3RhbnRpYXRlZCBzbyBjaGVjayBmb3IgaW5zdGFuY2UuXG4gICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICBjYWNoZUNvbnRleHQod29ya0luUHJvZ3Jlc3MsIHVubWFza2VkQ29udGV4dCwgY29udGV4dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbnRleHQ7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNDb250ZXh0Q2hhbmdlZCgpIHtcbiAgICByZXR1cm4gZGlkUGVyZm9ybVdvcmtTdGFja0N1cnNvci5jdXJyZW50O1xuICB9XG5cbiAgZnVuY3Rpb24gaXNDb250ZXh0Q29uc3VtZXIoZmliZXIpIHtcbiAgICByZXR1cm4gZmliZXIudGFnID09PSBDbGFzc0NvbXBvbmVudCAmJiBmaWJlci50eXBlLmNvbnRleHRUeXBlcyAhPSBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNDb250ZXh0UHJvdmlkZXIoZmliZXIpIHtcbiAgICByZXR1cm4gZmliZXIudGFnID09PSBDbGFzc0NvbXBvbmVudCAmJiBmaWJlci50eXBlLmNoaWxkQ29udGV4dFR5cGVzICE9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBwb3BDb250ZXh0UHJvdmlkZXIoZmliZXIpIHtcbiAgICBpZiAoIWlzQ29udGV4dFByb3ZpZGVyKGZpYmVyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHBvcChkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yLCBmaWJlcik7XG4gICAgcG9wKGNvbnRleHRTdGFja0N1cnNvciwgZmliZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gcG9wVG9wTGV2ZWxDb250ZXh0T2JqZWN0KGZpYmVyKSB7XG4gICAgcG9wKGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IsIGZpYmVyKTtcbiAgICBwb3AoY29udGV4dFN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoVG9wTGV2ZWxDb250ZXh0T2JqZWN0KGZpYmVyLCBjb250ZXh0LCBkaWRDaGFuZ2UpIHtcbiAgICAhKGNvbnRleHRTdGFja0N1cnNvci5jdXJzb3IgPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdVbmV4cGVjdGVkIGNvbnRleHQgZm91bmQgb24gc3RhY2suIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG5cbiAgICBwdXNoKGNvbnRleHRTdGFja0N1cnNvciwgY29udGV4dCwgZmliZXIpO1xuICAgIHB1c2goZGlkUGVyZm9ybVdvcmtTdGFja0N1cnNvciwgZGlkQ2hhbmdlLCBmaWJlcik7XG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzQ2hpbGRDb250ZXh0KGZpYmVyLCBwYXJlbnRDb250ZXh0KSB7XG4gICAgdmFyIGluc3RhbmNlID0gZmliZXIuc3RhdGVOb2RlO1xuICAgIHZhciBjaGlsZENvbnRleHRUeXBlcyA9IGZpYmVyLnR5cGUuY2hpbGRDb250ZXh0VHlwZXM7XG5cbiAgICAvLyBUT0RPIChidmF1Z2huKSBSZXBsYWNlIHRoaXMgYmVoYXZpb3Igd2l0aCBhbiBpbnZhcmlhbnQoKSBpbiB0aGUgZnV0dXJlLlxuICAgIC8vIEl0IGhhcyBvbmx5IGJlZW4gYWRkZWQgaW4gRmliZXIgdG8gbWF0Y2ggdGhlICh1bmludGVudGlvbmFsKSBiZWhhdmlvciBpbiBTdGFjay5cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmdldENoaWxkQ29udGV4dCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAge1xuICAgICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUoZmliZXIpIHx8ICdVbmtub3duJztcblxuICAgICAgICBpZiAoIXdhcm5lZEFib3V0TWlzc2luZ0dldENoaWxkQ29udGV4dFtjb21wb25lbnROYW1lXSkge1xuICAgICAgICAgIHdhcm5lZEFib3V0TWlzc2luZ0dldENoaWxkQ29udGV4dFtjb21wb25lbnROYW1lXSA9IHRydWU7XG4gICAgICAgICAgd2FybmluZyhmYWxzZSwgJyVzLmNoaWxkQ29udGV4dFR5cGVzIGlzIHNwZWNpZmllZCBidXQgdGhlcmUgaXMgbm8gZ2V0Q2hpbGRDb250ZXh0KCkgbWV0aG9kICcgKyAnb24gdGhlIGluc3RhbmNlLiBZb3UgY2FuIGVpdGhlciBkZWZpbmUgZ2V0Q2hpbGRDb250ZXh0KCkgb24gJXMgb3IgcmVtb3ZlICcgKyAnY2hpbGRDb250ZXh0VHlwZXMgZnJvbSBpdC4nLCBjb21wb25lbnROYW1lLCBjb21wb25lbnROYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHBhcmVudENvbnRleHQ7XG4gICAgfVxuXG4gICAgdmFyIGNoaWxkQ29udGV4dCA9IHZvaWQgMDtcbiAgICB7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnNldEN1cnJlbnRQaGFzZSgnZ2V0Q2hpbGRDb250ZXh0Jyk7XG4gICAgfVxuICAgIHN0YXJ0UGhhc2VUaW1lcihmaWJlciwgJ2dldENoaWxkQ29udGV4dCcpO1xuICAgIGNoaWxkQ29udGV4dCA9IGluc3RhbmNlLmdldENoaWxkQ29udGV4dCgpO1xuICAgIHN0b3BQaGFzZVRpbWVyKCk7XG4gICAge1xuICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5zZXRDdXJyZW50UGhhc2UobnVsbCk7XG4gICAgfVxuICAgIGZvciAodmFyIGNvbnRleHRLZXkgaW4gY2hpbGRDb250ZXh0KSB7XG4gICAgICAhKGNvbnRleHRLZXkgaW4gY2hpbGRDb250ZXh0VHlwZXMpID8gaW52YXJpYW50KGZhbHNlLCAnJXMuZ2V0Q2hpbGRDb250ZXh0KCk6IGtleSBcIiVzXCIgaXMgbm90IGRlZmluZWQgaW4gY2hpbGRDb250ZXh0VHlwZXMuJywgZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgJ1Vua25vd24nLCBjb250ZXh0S2V5KSA6IHZvaWQgMDtcbiAgICB9XG4gICAge1xuICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lKGZpYmVyKSB8fCAnVW5rbm93bic7XG4gICAgICBjaGVja1Byb3BUeXBlcyhjaGlsZENvbnRleHRUeXBlcywgY2hpbGRDb250ZXh0LCAnY2hpbGQgY29udGV4dCcsIG5hbWUsXG4gICAgICAvLyBJbiBwcmFjdGljZSwgdGhlcmUgaXMgb25lIGNhc2UgaW4gd2hpY2ggd2Ugd29uJ3QgZ2V0IGEgc3RhY2suIEl0J3Mgd2hlblxuICAgICAgLy8gc29tZWJvZHkgY2FsbHMgdW5zdGFibGVfcmVuZGVyU3VidHJlZUludG9Db250YWluZXIoKSBhbmQgd2UgcHJvY2Vzc1xuICAgICAgLy8gY29udGV4dCBmcm9tIHRoZSBwYXJlbnQgY29tcG9uZW50IGluc3RhbmNlLiBUaGUgc3RhY2sgd2lsbCBiZSBtaXNzaW5nXG4gICAgICAvLyBiZWNhdXNlIGl0J3Mgb3V0c2lkZSBvZiB0aGUgcmVjb25jaWxpYXRpb24sIGFuZCBzbyB0aGUgcG9pbnRlciBoYXMgbm90XG4gICAgICAvLyBiZWVuIHNldC4gVGhpcyBpcyByYXJlIGFuZCBkb2Vzbid0IG1hdHRlci4gV2UnbGwgYWxzbyByZW1vdmUgdGhhdCBBUEkuXG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0pO1xuICAgIH1cblxuICAgIHJldHVybiBfYXNzaWduKHt9LCBwYXJlbnRDb250ZXh0LCBjaGlsZENvbnRleHQpO1xuICB9XG5cbiAgZnVuY3Rpb24gcHVzaENvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcykge1xuICAgIGlmICghaXNDb250ZXh0UHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgIC8vIFdlIHB1c2ggdGhlIGNvbnRleHQgYXMgZWFybHkgYXMgcG9zc2libGUgdG8gZW5zdXJlIHN0YWNrIGludGVncml0eS5cbiAgICAvLyBJZiB0aGUgaW5zdGFuY2UgZG9lcyBub3QgZXhpc3QgeWV0LCB3ZSB3aWxsIHB1c2ggbnVsbCBhdCBmaXJzdCxcbiAgICAvLyBhbmQgcmVwbGFjZSBpdCBvbiB0aGUgc3RhY2sgbGF0ZXIgd2hlbiBpbnZhbGlkYXRpbmcgdGhlIGNvbnRleHQuXG4gICAgdmFyIG1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0ID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQgfHwgZW1wdHlPYmplY3Q7XG5cbiAgICAvLyBSZW1lbWJlciB0aGUgcGFyZW50IGNvbnRleHQgc28gd2UgY2FuIG1lcmdlIHdpdGggaXQgbGF0ZXIuXG4gICAgLy8gSW5oZXJpdCB0aGUgcGFyZW50J3MgZGlkLXBlcmZvcm0td29yayB2YWx1ZSB0byBhdm9pZCBpbmFkdmVydGVudGx5IGJsb2NraW5nIHVwZGF0ZXMuXG4gICAgcHJldmlvdXNDb250ZXh0ID0gY29udGV4dFN0YWNrQ3Vyc29yLmN1cnJlbnQ7XG4gICAgcHVzaChjb250ZXh0U3RhY2tDdXJzb3IsIG1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgcHVzaChkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yLCBkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yLmN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gaW52YWxpZGF0ZUNvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcywgZGlkQ2hhbmdlKSB7XG4gICAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICFpbnN0YW5jZSA/IGludmFyaWFudChmYWxzZSwgJ0V4cGVjdGVkIHRvIGhhdmUgYW4gaW5zdGFuY2UgYnkgdGhpcyBwb2ludC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcblxuICAgIGlmIChkaWRDaGFuZ2UpIHtcbiAgICAgIC8vIE1lcmdlIHBhcmVudCBhbmQgb3duIGNvbnRleHQuXG4gICAgICAvLyBTa2lwIHRoaXMgaWYgd2UncmUgbm90IHVwZGF0aW5nIGR1ZSB0byBzQ1UuXG4gICAgICAvLyBUaGlzIGF2b2lkcyB1bm5lY2Vzc2FyaWx5IHJlY29tcHV0aW5nIG1lbW9pemVkIHZhbHVlcy5cbiAgICAgIHZhciBtZXJnZWRDb250ZXh0ID0gcHJvY2Vzc0NoaWxkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgcHJldmlvdXNDb250ZXh0KTtcbiAgICAgIGluc3RhbmNlLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0ID0gbWVyZ2VkQ29udGV4dDtcblxuICAgICAgLy8gUmVwbGFjZSB0aGUgb2xkIChvciBlbXB0eSkgY29udGV4dCB3aXRoIHRoZSBuZXcgb25lLlxuICAgICAgLy8gSXQgaXMgaW1wb3J0YW50IHRvIHVud2luZCB0aGUgY29udGV4dCBpbiB0aGUgcmV2ZXJzZSBvcmRlci5cbiAgICAgIHBvcChkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBwb3AoY29udGV4dFN0YWNrQ3Vyc29yLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAvLyBOb3cgcHVzaCB0aGUgbmV3IGNvbnRleHQgYW5kIG1hcmsgdGhhdCBpdCBoYXMgY2hhbmdlZC5cbiAgICAgIHB1c2goY29udGV4dFN0YWNrQ3Vyc29yLCBtZXJnZWRDb250ZXh0LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBwdXNoKGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IsIGRpZENoYW5nZSwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwb3AoZGlkUGVyZm9ybVdvcmtTdGFja0N1cnNvciwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgcHVzaChkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yLCBkaWRDaGFuZ2UsIHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmaW5kQ3VycmVudFVubWFza2VkQ29udGV4dChmaWJlcikge1xuICAgIC8vIEN1cnJlbnRseSB0aGlzIGlzIG9ubHkgdXNlZCB3aXRoIHJlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyOyBub3Qgc3VyZSBpZiBpdFxuICAgIC8vIG1ha2VzIHNlbnNlIGVsc2V3aGVyZVxuICAgICEoaXNGaWJlck1vdW50ZWQoZmliZXIpICYmIGZpYmVyLnRhZyA9PT0gQ2xhc3NDb21wb25lbnQpID8gaW52YXJpYW50KGZhbHNlLCAnRXhwZWN0ZWQgc3VidHJlZSBwYXJlbnQgdG8gYmUgYSBtb3VudGVkIGNsYXNzIGNvbXBvbmVudC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcblxuICAgIHZhciBub2RlID0gZmliZXI7XG4gICAgd2hpbGUgKG5vZGUudGFnICE9PSBIb3N0Um9vdCkge1xuICAgICAgaWYgKGlzQ29udGV4dFByb3ZpZGVyKG5vZGUpKSB7XG4gICAgICAgIHJldHVybiBub2RlLnN0YXRlTm9kZS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1lcmdlZENoaWxkQ29udGV4dDtcbiAgICAgIH1cbiAgICAgIHZhciBwYXJlbnQgPSBub2RlWydyZXR1cm4nXTtcbiAgICAgICFwYXJlbnQgPyBpbnZhcmlhbnQoZmFsc2UsICdGb3VuZCB1bmV4cGVjdGVkIGRldGFjaGVkIHN1YnRyZWUgcGFyZW50LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICAgICAgbm9kZSA9IHBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGUuc3RhdGVOb2RlLmNvbnRleHQ7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGdldFVubWFza2VkQ29udGV4dDogZ2V0VW5tYXNrZWRDb250ZXh0LFxuICAgIGNhY2hlQ29udGV4dDogY2FjaGVDb250ZXh0LFxuICAgIGdldE1hc2tlZENvbnRleHQ6IGdldE1hc2tlZENvbnRleHQsXG4gICAgaGFzQ29udGV4dENoYW5nZWQ6IGhhc0NvbnRleHRDaGFuZ2VkLFxuICAgIGlzQ29udGV4dENvbnN1bWVyOiBpc0NvbnRleHRDb25zdW1lcixcbiAgICBpc0NvbnRleHRQcm92aWRlcjogaXNDb250ZXh0UHJvdmlkZXIsXG4gICAgcG9wQ29udGV4dFByb3ZpZGVyOiBwb3BDb250ZXh0UHJvdmlkZXIsXG4gICAgcG9wVG9wTGV2ZWxDb250ZXh0T2JqZWN0OiBwb3BUb3BMZXZlbENvbnRleHRPYmplY3QsXG4gICAgcHVzaFRvcExldmVsQ29udGV4dE9iamVjdDogcHVzaFRvcExldmVsQ29udGV4dE9iamVjdCxcbiAgICBwcm9jZXNzQ2hpbGRDb250ZXh0OiBwcm9jZXNzQ2hpbGRDb250ZXh0LFxuICAgIHB1c2hDb250ZXh0UHJvdmlkZXI6IHB1c2hDb250ZXh0UHJvdmlkZXIsXG4gICAgaW52YWxpZGF0ZUNvbnRleHRQcm92aWRlcjogaW52YWxpZGF0ZUNvbnRleHRQcm92aWRlcixcbiAgICBmaW5kQ3VycmVudFVubWFza2VkQ29udGV4dDogZmluZEN1cnJlbnRVbm1hc2tlZENvbnRleHRcbiAgfTtcbn07XG5cbnZhciBSZWFjdEZpYmVyTmV3Q29udGV4dCA9IGZ1bmN0aW9uIChzdGFjaykge1xuICB2YXIgY3JlYXRlQ3Vyc29yID0gc3RhY2suY3JlYXRlQ3Vyc29yLFxuICAgICAgcHVzaCA9IHN0YWNrLnB1c2gsXG4gICAgICBwb3AgPSBzdGFjay5wb3A7XG5cblxuICB2YXIgcHJvdmlkZXJDdXJzb3IgPSBjcmVhdGVDdXJzb3IobnVsbCk7XG4gIHZhciB2YWx1ZUN1cnNvciA9IGNyZWF0ZUN1cnNvcihudWxsKTtcbiAgdmFyIGNoYW5nZWRCaXRzQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKDApO1xuXG4gIHZhciByZW5kZXJlclNpZ2lsID0gdm9pZCAwO1xuICB7XG4gICAgLy8gVXNlIHRoaXMgdG8gZGV0ZWN0IG11bHRpcGxlIHJlbmRlcmVycyB1c2luZyB0aGUgc2FtZSBjb250ZXh0XG4gICAgcmVuZGVyZXJTaWdpbCA9IHt9O1xuICB9XG5cbiAgZnVuY3Rpb24gcHVzaFByb3ZpZGVyKHByb3ZpZGVyRmliZXIpIHtcbiAgICB2YXIgY29udGV4dCA9IHByb3ZpZGVyRmliZXIudHlwZS5fY29udGV4dDtcblxuICAgIHB1c2goY2hhbmdlZEJpdHNDdXJzb3IsIGNvbnRleHQuX2NoYW5nZWRCaXRzLCBwcm92aWRlckZpYmVyKTtcbiAgICBwdXNoKHZhbHVlQ3Vyc29yLCBjb250ZXh0Ll9jdXJyZW50VmFsdWUsIHByb3ZpZGVyRmliZXIpO1xuICAgIHB1c2gocHJvdmlkZXJDdXJzb3IsIHByb3ZpZGVyRmliZXIsIHByb3ZpZGVyRmliZXIpO1xuXG4gICAgY29udGV4dC5fY3VycmVudFZhbHVlID0gcHJvdmlkZXJGaWJlci5wZW5kaW5nUHJvcHMudmFsdWU7XG4gICAgY29udGV4dC5fY2hhbmdlZEJpdHMgPSBwcm92aWRlckZpYmVyLnN0YXRlTm9kZTtcblxuICAgIHtcbiAgICAgIHdhcm5pbmcoY29udGV4dC5fY3VycmVudFJlbmRlcmVyID09PSBudWxsIHx8IGNvbnRleHQuX2N1cnJlbnRSZW5kZXJlciA9PT0gcmVuZGVyZXJTaWdpbCwgJ0RldGVjdGVkIG11bHRpcGxlIHJlbmRlcmVycyBjb25jdXJyZW50bHkgcmVuZGVyaW5nIHRoZSAnICsgJ3NhbWUgY29udGV4dCBwcm92aWRlci4gVGhpcyBpcyBjdXJyZW50bHkgdW5zdXBwb3J0ZWQuJyk7XG4gICAgICBjb250ZXh0Ll9jdXJyZW50UmVuZGVyZXIgPSByZW5kZXJlclNpZ2lsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBvcFByb3ZpZGVyKHByb3ZpZGVyRmliZXIpIHtcbiAgICB2YXIgY2hhbmdlZEJpdHMgPSBjaGFuZ2VkQml0c0N1cnNvci5jdXJyZW50O1xuICAgIHZhciBjdXJyZW50VmFsdWUgPSB2YWx1ZUN1cnNvci5jdXJyZW50O1xuXG4gICAgcG9wKHByb3ZpZGVyQ3Vyc29yLCBwcm92aWRlckZpYmVyKTtcbiAgICBwb3AodmFsdWVDdXJzb3IsIHByb3ZpZGVyRmliZXIpO1xuICAgIHBvcChjaGFuZ2VkQml0c0N1cnNvciwgcHJvdmlkZXJGaWJlcik7XG5cbiAgICB2YXIgY29udGV4dCA9IHByb3ZpZGVyRmliZXIudHlwZS5fY29udGV4dDtcbiAgICBjb250ZXh0Ll9jdXJyZW50VmFsdWUgPSBjdXJyZW50VmFsdWU7XG4gICAgY29udGV4dC5fY2hhbmdlZEJpdHMgPSBjaGFuZ2VkQml0cztcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcHVzaFByb3ZpZGVyOiBwdXNoUHJvdmlkZXIsXG4gICAgcG9wUHJvdmlkZXI6IHBvcFByb3ZpZGVyXG4gIH07XG59O1xuXG52YXIgUmVhY3RGaWJlclN0YWNrID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdmFsdWVTdGFjayA9IFtdO1xuXG4gIHZhciBmaWJlclN0YWNrID0gdm9pZCAwO1xuXG4gIHtcbiAgICBmaWJlclN0YWNrID0gW107XG4gIH1cblxuICB2YXIgaW5kZXggPSAtMTtcblxuICBmdW5jdGlvbiBjcmVhdGVDdXJzb3IoZGVmYXVsdFZhbHVlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGN1cnJlbnQ6IGRlZmF1bHRWYWx1ZVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBpc0VtcHR5KCkge1xuICAgIHJldHVybiBpbmRleCA9PT0gLTE7XG4gIH1cblxuICBmdW5jdGlvbiBwb3AoY3Vyc29yLCBmaWJlcikge1xuICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgIHtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJ1VuZXhwZWN0ZWQgcG9wLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHtcbiAgICAgIGlmIChmaWJlciAhPT0gZmliZXJTdGFja1tpbmRleF0pIHtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJ1VuZXhwZWN0ZWQgRmliZXIgcG9wcGVkLicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGN1cnNvci5jdXJyZW50ID0gdmFsdWVTdGFja1tpbmRleF07XG5cbiAgICB2YWx1ZVN0YWNrW2luZGV4XSA9IG51bGw7XG5cbiAgICB7XG4gICAgICBmaWJlclN0YWNrW2luZGV4XSA9IG51bGw7XG4gICAgfVxuXG4gICAgaW5kZXgtLTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHB1c2goY3Vyc29yLCB2YWx1ZSwgZmliZXIpIHtcbiAgICBpbmRleCsrO1xuXG4gICAgdmFsdWVTdGFja1tpbmRleF0gPSBjdXJzb3IuY3VycmVudDtcblxuICAgIHtcbiAgICAgIGZpYmVyU3RhY2tbaW5kZXhdID0gZmliZXI7XG4gICAgfVxuXG4gICAgY3Vyc29yLmN1cnJlbnQgPSB2YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrVGhhdFN0YWNrSXNFbXB0eSgpIHtcbiAgICB7XG4gICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICdFeHBlY3RlZCBhbiBlbXB0eSBzdGFjay4gU29tZXRoaW5nIHdhcyBub3QgcmVzZXQgcHJvcGVybHkuJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRTdGFja0FmdGVyRmF0YWxFcnJvckluRGV2KCkge1xuICAgIHtcbiAgICAgIGluZGV4ID0gLTE7XG4gICAgICB2YWx1ZVN0YWNrLmxlbmd0aCA9IDA7XG4gICAgICBmaWJlclN0YWNrLmxlbmd0aCA9IDA7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBjcmVhdGVDdXJzb3I6IGNyZWF0ZUN1cnNvcixcbiAgICBpc0VtcHR5OiBpc0VtcHR5LFxuICAgIHBvcDogcG9wLFxuICAgIHB1c2g6IHB1c2gsXG4gICAgY2hlY2tUaGF0U3RhY2tJc0VtcHR5OiBjaGVja1RoYXRTdGFja0lzRW1wdHksXG4gICAgcmVzZXRTdGFja0FmdGVyRmF0YWxFcnJvckluRGV2OiByZXNldFN0YWNrQWZ0ZXJGYXRhbEVycm9ySW5EZXZcbiAgfTtcbn07XG5cbnZhciBpbnZva2VHdWFyZGVkQ2FsbGJhY2skMiA9IFJlYWN0RXJyb3JVdGlscy5pbnZva2VHdWFyZGVkQ2FsbGJhY2s7XG52YXIgaGFzQ2F1Z2h0RXJyb3IgPSBSZWFjdEVycm9yVXRpbHMuaGFzQ2F1Z2h0RXJyb3I7XG52YXIgY2xlYXJDYXVnaHRFcnJvciA9IFJlYWN0RXJyb3JVdGlscy5jbGVhckNhdWdodEVycm9yO1xuXG5cbnZhciBkaWRXYXJuQWJvdXRTdGF0ZVRyYW5zaXRpb24gPSB2b2lkIDA7XG52YXIgZGlkV2FyblNldFN0YXRlQ2hpbGRDb250ZXh0ID0gdm9pZCAwO1xudmFyIHdhcm5BYm91dFVwZGF0ZU9uVW5tb3VudGVkID0gdm9pZCAwO1xudmFyIHdhcm5BYm91dEludmFsaWRVcGRhdGVzID0gdm9pZCAwO1xuXG57XG4gIGRpZFdhcm5BYm91dFN0YXRlVHJhbnNpdGlvbiA9IGZhbHNlO1xuICBkaWRXYXJuU2V0U3RhdGVDaGlsZENvbnRleHQgPSBmYWxzZTtcbiAgdmFyIGRpZFdhcm5TdGF0ZVVwZGF0ZUZvclVubW91bnRlZENvbXBvbmVudCA9IHt9O1xuXG4gIHdhcm5BYm91dFVwZGF0ZU9uVW5tb3VudGVkID0gZnVuY3Rpb24gKGZpYmVyKSB7XG4gICAgLy8gV2Ugc2hvdyB0aGUgd2hvbGUgc3RhY2sgYnV0IGRlZHVwZSBvbiB0aGUgdG9wIGNvbXBvbmVudCdzIG5hbWUgYmVjYXVzZVxuICAgIC8vIHRoZSBwcm9ibGVtYXRpYyBjb2RlIGFsbW9zdCBhbHdheXMgbGllcyBpbnNpZGUgdGhhdCBjb21wb25lbnQuXG4gICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKGZpYmVyKSB8fCAnUmVhY3RDbGFzcyc7XG4gICAgaWYgKGRpZFdhcm5TdGF0ZVVwZGF0ZUZvclVubW91bnRlZENvbXBvbmVudFtjb21wb25lbnROYW1lXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3YXJuaW5nKGZhbHNlLCBcIkNhbid0IGNhbGwgc2V0U3RhdGUgKG9yIGZvcmNlVXBkYXRlKSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LiBUaGlzIFwiICsgJ2lzIGEgbm8tb3AsIGJ1dCBpdCBpbmRpY2F0ZXMgYSBtZW1vcnkgbGVhayBpbiB5b3VyIGFwcGxpY2F0aW9uLiBUbyAnICsgJ2ZpeCwgY2FuY2VsIGFsbCBzdWJzY3JpcHRpb25zIGFuZCBhc3luY2hyb25vdXMgdGFza3MgaW4gdGhlICcgKyAnY29tcG9uZW50V2lsbFVubW91bnQgbWV0aG9kLiVzJywgZ2V0U3RhY2tBZGRlbmR1bUJ5V29ya0luUHJvZ3Jlc3NGaWJlcihmaWJlcikpO1xuICAgIGRpZFdhcm5TdGF0ZVVwZGF0ZUZvclVubW91bnRlZENvbXBvbmVudFtjb21wb25lbnROYW1lXSA9IHRydWU7XG4gIH07XG5cbiAgd2FybkFib3V0SW52YWxpZFVwZGF0ZXMgPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICBzd2l0Y2ggKFJlYWN0RGVidWdDdXJyZW50RmliZXIucGhhc2UpIHtcbiAgICAgIGNhc2UgJ2dldENoaWxkQ29udGV4dCc6XG4gICAgICAgIGlmIChkaWRXYXJuU2V0U3RhdGVDaGlsZENvbnRleHQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2FybmluZyhmYWxzZSwgJ3NldFN0YXRlKC4uLik6IENhbm5vdCBjYWxsIHNldFN0YXRlKCkgaW5zaWRlIGdldENoaWxkQ29udGV4dCgpJyk7XG4gICAgICAgIGRpZFdhcm5TZXRTdGF0ZUNoaWxkQ29udGV4dCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVuZGVyJzpcbiAgICAgICAgaWYgKGRpZFdhcm5BYm91dFN0YXRlVHJhbnNpdGlvbikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnQ2Fubm90IHVwZGF0ZSBkdXJpbmcgYW4gZXhpc3Rpbmcgc3RhdGUgdHJhbnNpdGlvbiAoc3VjaCBhcyB3aXRoaW4gJyArIFwiYHJlbmRlcmAgb3IgYW5vdGhlciBjb21wb25lbnQncyBjb25zdHJ1Y3RvcikuIFJlbmRlciBtZXRob2RzIHNob3VsZCBcIiArICdiZSBhIHB1cmUgZnVuY3Rpb24gb2YgcHJvcHMgYW5kIHN0YXRlOyBjb25zdHJ1Y3RvciBzaWRlLWVmZmVjdHMgYXJlICcgKyAnYW4gYW50aS1wYXR0ZXJuLCBidXQgY2FuIGJlIG1vdmVkIHRvIGBjb21wb25lbnRXaWxsTW91bnRgLicpO1xuICAgICAgICBkaWRXYXJuQWJvdXRTdGF0ZVRyYW5zaXRpb24gPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH07XG59XG5cbnZhciBSZWFjdEZpYmVyU2NoZWR1bGVyID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICB2YXIgc3RhY2sgPSBSZWFjdEZpYmVyU3RhY2soKTtcbiAgdmFyIGhvc3RDb250ZXh0ID0gUmVhY3RGaWJlckhvc3RDb250ZXh0KGNvbmZpZywgc3RhY2spO1xuICB2YXIgbGVnYWN5Q29udGV4dCA9IFJlYWN0RmliZXJMZWdhY3lDb250ZXh0KHN0YWNrKTtcbiAgdmFyIG5ld0NvbnRleHQgPSBSZWFjdEZpYmVyTmV3Q29udGV4dChzdGFjayk7XG4gIHZhciBwb3BIb3N0Q29udGV4dCA9IGhvc3RDb250ZXh0LnBvcEhvc3RDb250ZXh0LFxuICAgICAgcG9wSG9zdENvbnRhaW5lciA9IGhvc3RDb250ZXh0LnBvcEhvc3RDb250YWluZXI7XG4gIHZhciBwb3BUb3BMZXZlbExlZ2FjeUNvbnRleHRPYmplY3QgPSBsZWdhY3lDb250ZXh0LnBvcFRvcExldmVsQ29udGV4dE9iamVjdCxcbiAgICAgIHBvcExlZ2FjeUNvbnRleHRQcm92aWRlciA9IGxlZ2FjeUNvbnRleHQucG9wQ29udGV4dFByb3ZpZGVyO1xuICB2YXIgcG9wUHJvdmlkZXIgPSBuZXdDb250ZXh0LnBvcFByb3ZpZGVyO1xuXG4gIHZhciBoeWRyYXRpb25Db250ZXh0ID0gUmVhY3RGaWJlckh5ZHJhdGlvbkNvbnRleHQoY29uZmlnKTtcblxuICB2YXIgX1JlYWN0RmliZXJCZWdpbldvcmsgPSBSZWFjdEZpYmVyQmVnaW5Xb3JrKGNvbmZpZywgaG9zdENvbnRleHQsIGxlZ2FjeUNvbnRleHQsIG5ld0NvbnRleHQsIGh5ZHJhdGlvbkNvbnRleHQsIHNjaGVkdWxlV29yaywgY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlciksXG4gICAgICBiZWdpbldvcmsgPSBfUmVhY3RGaWJlckJlZ2luV29yay5iZWdpbldvcms7XG5cbiAgdmFyIF9SZWFjdEZpYmVyQ29tcGxldGVXbyA9IFJlYWN0RmliZXJDb21wbGV0ZVdvcmsoY29uZmlnLCBob3N0Q29udGV4dCwgbGVnYWN5Q29udGV4dCwgbmV3Q29udGV4dCwgaHlkcmF0aW9uQ29udGV4dCksXG4gICAgICBjb21wbGV0ZVdvcmsgPSBfUmVhY3RGaWJlckNvbXBsZXRlV28uY29tcGxldGVXb3JrO1xuXG4gIHZhciBfUmVhY3RGaWJlclVud2luZFdvcmsgPSBSZWFjdEZpYmVyVW53aW5kV29yayhob3N0Q29udGV4dCwgbGVnYWN5Q29udGV4dCwgbmV3Q29udGV4dCwgc2NoZWR1bGVXb3JrLCBpc0FscmVhZHlGYWlsZWRMZWdhY3lFcnJvckJvdW5kYXJ5KSxcbiAgICAgIHRocm93RXhjZXB0aW9uID0gX1JlYWN0RmliZXJVbndpbmRXb3JrLnRocm93RXhjZXB0aW9uLFxuICAgICAgdW53aW5kV29yayA9IF9SZWFjdEZpYmVyVW53aW5kV29yay51bndpbmRXb3JrLFxuICAgICAgdW53aW5kSW50ZXJydXB0ZWRXb3JrID0gX1JlYWN0RmliZXJVbndpbmRXb3JrLnVud2luZEludGVycnVwdGVkV29yaztcblxuICB2YXIgX1JlYWN0RmliZXJDb21taXRXb3JrID0gUmVhY3RGaWJlckNvbW1pdFdvcmsoY29uZmlnLCBvbkNvbW1pdFBoYXNlRXJyb3IsIHNjaGVkdWxlV29yaywgY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlciwgbWFya0xlZ2FjeUVycm9yQm91bmRhcnlBc0ZhaWxlZCwgcmVjYWxjdWxhdGVDdXJyZW50VGltZSksXG4gICAgICBjb21taXRCZWZvcmVNdXRhdGlvbkxpZmVDeWNsZXMgPSBfUmVhY3RGaWJlckNvbW1pdFdvcmsuY29tbWl0QmVmb3JlTXV0YXRpb25MaWZlQ3ljbGVzLFxuICAgICAgY29tbWl0UmVzZXRUZXh0Q29udGVudCA9IF9SZWFjdEZpYmVyQ29tbWl0V29yay5jb21taXRSZXNldFRleHRDb250ZW50LFxuICAgICAgY29tbWl0UGxhY2VtZW50ID0gX1JlYWN0RmliZXJDb21taXRXb3JrLmNvbW1pdFBsYWNlbWVudCxcbiAgICAgIGNvbW1pdERlbGV0aW9uID0gX1JlYWN0RmliZXJDb21taXRXb3JrLmNvbW1pdERlbGV0aW9uLFxuICAgICAgY29tbWl0V29yayA9IF9SZWFjdEZpYmVyQ29tbWl0V29yay5jb21taXRXb3JrLFxuICAgICAgY29tbWl0TGlmZUN5Y2xlcyA9IF9SZWFjdEZpYmVyQ29tbWl0V29yay5jb21taXRMaWZlQ3ljbGVzLFxuICAgICAgY29tbWl0RXJyb3JMb2dnaW5nID0gX1JlYWN0RmliZXJDb21taXRXb3JrLmNvbW1pdEVycm9yTG9nZ2luZyxcbiAgICAgIGNvbW1pdEF0dGFjaFJlZiA9IF9SZWFjdEZpYmVyQ29tbWl0V29yay5jb21taXRBdHRhY2hSZWYsXG4gICAgICBjb21taXREZXRhY2hSZWYgPSBfUmVhY3RGaWJlckNvbW1pdFdvcmsuY29tbWl0RGV0YWNoUmVmO1xuXG4gIHZhciBub3cgPSBjb25maWcubm93LFxuICAgICAgc2NoZWR1bGVEZWZlcnJlZENhbGxiYWNrID0gY29uZmlnLnNjaGVkdWxlRGVmZXJyZWRDYWxsYmFjayxcbiAgICAgIGNhbmNlbERlZmVycmVkQ2FsbGJhY2sgPSBjb25maWcuY2FuY2VsRGVmZXJyZWRDYWxsYmFjayxcbiAgICAgIHByZXBhcmVGb3JDb21taXQgPSBjb25maWcucHJlcGFyZUZvckNvbW1pdCxcbiAgICAgIHJlc2V0QWZ0ZXJDb21taXQgPSBjb25maWcucmVzZXRBZnRlckNvbW1pdDtcblxuICAvLyBSZXByZXNlbnRzIHRoZSBjdXJyZW50IHRpbWUgaW4gbXMuXG5cbiAgdmFyIG9yaWdpbmFsU3RhcnRUaW1lTXMgPSBub3coKTtcbiAgdmFyIG1vc3RSZWNlbnRDdXJyZW50VGltZSA9IG1zVG9FeHBpcmF0aW9uVGltZSgwKTtcbiAgdmFyIG1vc3RSZWNlbnRDdXJyZW50VGltZU1zID0gb3JpZ2luYWxTdGFydFRpbWVNcztcblxuICAvLyBVc2VkIHRvIGVuc3VyZSBjb21wdXRlVW5pcXVlQXN5bmNFeHBpcmF0aW9uIGlzIG1vbm90b25pY2FsbHkgaW5jcmVhc2VzLlxuICB2YXIgbGFzdFVuaXF1ZUFzeW5jRXhwaXJhdGlvbiA9IDA7XG5cbiAgLy8gUmVwcmVzZW50cyB0aGUgZXhwaXJhdGlvbiB0aW1lIHRoYXQgaW5jb21pbmcgdXBkYXRlcyBzaG91bGQgdXNlLiAoSWYgdGhpc1xuICAvLyBpcyBOb1dvcmssIHVzZSB0aGUgZGVmYXVsdCBzdHJhdGVneTogYXN5bmMgdXBkYXRlcyBpbiBhc3luYyBtb2RlLCBzeW5jXG4gIC8vIHVwZGF0ZXMgaW4gc3luYyBtb2RlLilcbiAgdmFyIGV4cGlyYXRpb25Db250ZXh0ID0gTm9Xb3JrO1xuXG4gIHZhciBpc1dvcmtpbmcgPSBmYWxzZTtcblxuICAvLyBUaGUgbmV4dCB3b3JrIGluIHByb2dyZXNzIGZpYmVyIHRoYXQgd2UncmUgY3VycmVudGx5IHdvcmtpbmcgb24uXG4gIHZhciBuZXh0VW5pdE9mV29yayA9IG51bGw7XG4gIHZhciBuZXh0Um9vdCA9IG51bGw7XG4gIC8vIFRoZSB0aW1lIGF0IHdoaWNoIHdlJ3JlIGN1cnJlbnRseSByZW5kZXJpbmcgd29yay5cbiAgdmFyIG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSA9IE5vV29yaztcblxuICAvLyBUaGUgbmV4dCBmaWJlciB3aXRoIGFuIGVmZmVjdCB0aGF0IHdlJ3JlIGN1cnJlbnRseSBjb21taXR0aW5nLlxuICB2YXIgbmV4dEVmZmVjdCA9IG51bGw7XG5cbiAgdmFyIGlzQ29tbWl0dGluZyA9IGZhbHNlO1xuXG4gIHZhciBpc1Jvb3RSZWFkeUZvckNvbW1pdCA9IGZhbHNlO1xuXG4gIHZhciBsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZCA9IG51bGw7XG5cbiAgLy8gVXNlZCBmb3IgcGVyZm9ybWFuY2UgdHJhY2tpbmcuXG4gIHZhciBpbnRlcnJ1cHRlZEJ5ID0gbnVsbDtcblxuICB2YXIgc3Rhc2hlZFdvcmtJblByb2dyZXNzUHJvcGVydGllcyA9IHZvaWQgMDtcbiAgdmFyIHJlcGxheVVuaXRPZldvcmsgPSB2b2lkIDA7XG4gIHZhciBpc1JlcGxheWluZ0ZhaWxlZFVuaXRPZldvcmsgPSB2b2lkIDA7XG4gIHZhciBvcmlnaW5hbFJlcGxheUVycm9yID0gdm9pZCAwO1xuICB2YXIgcmV0aHJvd09yaWdpbmFsRXJyb3IgPSB2b2lkIDA7XG4gIGlmICh0cnVlICYmIHJlcGxheUZhaWxlZFVuaXRPZldvcmtXaXRoSW52b2tlR3VhcmRlZENhbGxiYWNrKSB7XG4gICAgc3Rhc2hlZFdvcmtJblByb2dyZXNzUHJvcGVydGllcyA9IG51bGw7XG4gICAgaXNSZXBsYXlpbmdGYWlsZWRVbml0T2ZXb3JrID0gZmFsc2U7XG4gICAgb3JpZ2luYWxSZXBsYXlFcnJvciA9IG51bGw7XG4gICAgcmVwbGF5VW5pdE9mV29yayA9IGZ1bmN0aW9uIChmYWlsZWRVbml0T2ZXb3JrLCBlcnJvciwgaXNBc3luYykge1xuICAgICAgLy8gUmVzdG9yZSB0aGUgb3JpZ2luYWwgc3RhdGUgb2YgdGhlIHdvcmstaW4tcHJvZ3Jlc3NcbiAgICAgIGFzc2lnbkZpYmVyUHJvcGVydGllc0luREVWKGZhaWxlZFVuaXRPZldvcmssIHN0YXNoZWRXb3JrSW5Qcm9ncmVzc1Byb3BlcnRpZXMpO1xuICAgICAgc3dpdGNoIChmYWlsZWRVbml0T2ZXb3JrLnRhZykge1xuICAgICAgICBjYXNlIEhvc3RSb290OlxuICAgICAgICAgIHBvcEhvc3RDb250YWluZXIoZmFpbGVkVW5pdE9mV29yayk7XG4gICAgICAgICAgcG9wVG9wTGV2ZWxMZWdhY3lDb250ZXh0T2JqZWN0KGZhaWxlZFVuaXRPZldvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgICAgcG9wSG9zdENvbnRleHQoZmFpbGVkVW5pdE9mV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgICAgcG9wTGVnYWN5Q29udGV4dFByb3ZpZGVyKGZhaWxlZFVuaXRPZldvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgICAgICAgcG9wSG9zdENvbnRhaW5lcihmYWlsZWRVbml0T2ZXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDb250ZXh0UHJvdmlkZXI6XG4gICAgICAgICAgcG9wUHJvdmlkZXIoZmFpbGVkVW5pdE9mV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICAvLyBSZXBsYXkgdGhlIGJlZ2luIHBoYXNlLlxuICAgICAgaXNSZXBsYXlpbmdGYWlsZWRVbml0T2ZXb3JrID0gdHJ1ZTtcbiAgICAgIG9yaWdpbmFsUmVwbGF5RXJyb3IgPSBlcnJvcjtcbiAgICAgIGludm9rZUd1YXJkZWRDYWxsYmFjayQyKG51bGwsIHdvcmtMb29wLCBudWxsLCBpc0FzeW5jKTtcbiAgICAgIGlzUmVwbGF5aW5nRmFpbGVkVW5pdE9mV29yayA9IGZhbHNlO1xuICAgICAgb3JpZ2luYWxSZXBsYXlFcnJvciA9IG51bGw7XG4gICAgICBpZiAoaGFzQ2F1Z2h0RXJyb3IoKSkge1xuICAgICAgICBjbGVhckNhdWdodEVycm9yKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJZiB0aGUgYmVnaW4gcGhhc2UgZGlkIG5vdCBmYWlsIHRoZSBzZWNvbmQgdGltZSwgc2V0IHRoaXMgcG9pbnRlclxuICAgICAgICAvLyBiYWNrIHRvIHRoZSBvcmlnaW5hbCB2YWx1ZS5cbiAgICAgICAgbmV4dFVuaXRPZldvcmsgPSBmYWlsZWRVbml0T2ZXb3JrO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0aHJvd09yaWdpbmFsRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBvcmlnaW5hbFJlcGxheUVycm9yO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFN0YWNrKCkge1xuICAgIGlmIChuZXh0VW5pdE9mV29yayAhPT0gbnVsbCkge1xuICAgICAgdmFyIGludGVycnVwdGVkV29yayA9IG5leHRVbml0T2ZXb3JrWydyZXR1cm4nXTtcbiAgICAgIHdoaWxlIChpbnRlcnJ1cHRlZFdvcmsgIT09IG51bGwpIHtcbiAgICAgICAgdW53aW5kSW50ZXJydXB0ZWRXb3JrKGludGVycnVwdGVkV29yayk7XG4gICAgICAgIGludGVycnVwdGVkV29yayA9IGludGVycnVwdGVkV29ya1sncmV0dXJuJ107XG4gICAgICB9XG4gICAgfVxuXG4gICAge1xuICAgICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZGlzY2FyZFBlbmRpbmdXYXJuaW5ncygpO1xuICAgICAgc3RhY2suY2hlY2tUaGF0U3RhY2tJc0VtcHR5KCk7XG4gICAgfVxuXG4gICAgbmV4dFJvb3QgPSBudWxsO1xuICAgIG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSA9IE5vV29yaztcbiAgICBuZXh0VW5pdE9mV29yayA9IG51bGw7XG5cbiAgICBpc1Jvb3RSZWFkeUZvckNvbW1pdCA9IGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0QWxsSG9zdEVmZmVjdHMoKSB7XG4gICAgd2hpbGUgKG5leHRFZmZlY3QgIT09IG51bGwpIHtcbiAgICAgIHtcbiAgICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5zZXRDdXJyZW50RmliZXIobmV4dEVmZmVjdCk7XG4gICAgICB9XG4gICAgICByZWNvcmRFZmZlY3QoKTtcblxuICAgICAgdmFyIGVmZmVjdFRhZyA9IG5leHRFZmZlY3QuZWZmZWN0VGFnO1xuXG4gICAgICBpZiAoZWZmZWN0VGFnICYgQ29udGVudFJlc2V0KSB7XG4gICAgICAgIGNvbW1pdFJlc2V0VGV4dENvbnRlbnQobmV4dEVmZmVjdCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChlZmZlY3RUYWcgJiBSZWYpIHtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBuZXh0RWZmZWN0LmFsdGVybmF0ZTtcbiAgICAgICAgaWYgKGN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICBjb21taXREZXRhY2hSZWYoY3VycmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGZvbGxvd2luZyBzd2l0Y2ggc3RhdGVtZW50IGlzIG9ubHkgY29uY2VybmVkIGFib3V0IHBsYWNlbWVudCxcbiAgICAgIC8vIHVwZGF0ZXMsIGFuZCBkZWxldGlvbnMuIFRvIGF2b2lkIG5lZWRpbmcgdG8gYWRkIGEgY2FzZSBmb3IgZXZlcnlcbiAgICAgIC8vIHBvc3NpYmxlIGJpdG1hcCB2YWx1ZSwgd2UgcmVtb3ZlIHRoZSBzZWNvbmRhcnkgZWZmZWN0cyBmcm9tIHRoZVxuICAgICAgLy8gZWZmZWN0IHRhZyBhbmQgc3dpdGNoIG9uIHRoYXQgdmFsdWUuXG4gICAgICB2YXIgcHJpbWFyeUVmZmVjdFRhZyA9IGVmZmVjdFRhZyAmIChQbGFjZW1lbnQgfCBVcGRhdGUgfCBEZWxldGlvbik7XG4gICAgICBzd2l0Y2ggKHByaW1hcnlFZmZlY3RUYWcpIHtcbiAgICAgICAgY2FzZSBQbGFjZW1lbnQ6XG4gICAgICAgICAge1xuICAgICAgICAgICAgY29tbWl0UGxhY2VtZW50KG5leHRFZmZlY3QpO1xuICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIFwicGxhY2VtZW50XCIgZnJvbSBlZmZlY3QgdGFnIHNvIHRoYXQgd2Uga25vdyB0aGF0IHRoaXMgaXMgaW5zZXJ0ZWQsIGJlZm9yZVxuICAgICAgICAgICAgLy8gYW55IGxpZmUtY3ljbGVzIGxpa2UgY29tcG9uZW50RGlkTW91bnQgZ2V0cyBjYWxsZWQuXG4gICAgICAgICAgICAvLyBUT0RPOiBmaW5kRE9NTm9kZSBkb2Vzbid0IHJlbHkgb24gdGhpcyBhbnkgbW9yZSBidXQgaXNNb3VudGVkXG4gICAgICAgICAgICAvLyBkb2VzIGFuZCBpc01vdW50ZWQgaXMgZGVwcmVjYXRlZCBhbnl3YXkgc28gd2Ugc2hvdWxkIGJlIGFibGVcbiAgICAgICAgICAgIC8vIHRvIGtpbGwgdGhpcy5cbiAgICAgICAgICAgIG5leHRFZmZlY3QuZWZmZWN0VGFnICY9IH5QbGFjZW1lbnQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgUGxhY2VtZW50QW5kVXBkYXRlOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIC8vIFBsYWNlbWVudFxuICAgICAgICAgICAgY29tbWl0UGxhY2VtZW50KG5leHRFZmZlY3QpO1xuICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIFwicGxhY2VtZW50XCIgZnJvbSBlZmZlY3QgdGFnIHNvIHRoYXQgd2Uga25vdyB0aGF0IHRoaXMgaXMgaW5zZXJ0ZWQsIGJlZm9yZVxuICAgICAgICAgICAgLy8gYW55IGxpZmUtY3ljbGVzIGxpa2UgY29tcG9uZW50RGlkTW91bnQgZ2V0cyBjYWxsZWQuXG4gICAgICAgICAgICBuZXh0RWZmZWN0LmVmZmVjdFRhZyAmPSB+UGxhY2VtZW50O1xuXG4gICAgICAgICAgICAvLyBVcGRhdGVcbiAgICAgICAgICAgIHZhciBfY3VycmVudCA9IG5leHRFZmZlY3QuYWx0ZXJuYXRlO1xuICAgICAgICAgICAgY29tbWl0V29yayhfY3VycmVudCwgbmV4dEVmZmVjdCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgVXBkYXRlOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHZhciBfY3VycmVudDIgPSBuZXh0RWZmZWN0LmFsdGVybmF0ZTtcbiAgICAgICAgICAgIGNvbW1pdFdvcmsoX2N1cnJlbnQyLCBuZXh0RWZmZWN0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBEZWxldGlvbjpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb21taXREZWxldGlvbihuZXh0RWZmZWN0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5leHRFZmZlY3QgPSBuZXh0RWZmZWN0Lm5leHRFZmZlY3Q7XG4gICAgfVxuXG4gICAge1xuICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5yZXNldEN1cnJlbnRGaWJlcigpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbW1pdEJlZm9yZU11dGF0aW9uTGlmZWN5Y2xlcygpIHtcbiAgICB3aGlsZSAobmV4dEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgdmFyIGVmZmVjdFRhZyA9IG5leHRFZmZlY3QuZWZmZWN0VGFnO1xuXG4gICAgICBpZiAoZWZmZWN0VGFnICYgU25hcHNob3QpIHtcbiAgICAgICAgcmVjb3JkRWZmZWN0KCk7XG4gICAgICAgIHZhciBjdXJyZW50ID0gbmV4dEVmZmVjdC5hbHRlcm5hdGU7XG4gICAgICAgIGNvbW1pdEJlZm9yZU11dGF0aW9uTGlmZUN5Y2xlcyhjdXJyZW50LCBuZXh0RWZmZWN0KTtcbiAgICAgIH1cblxuICAgICAgLy8gRG9uJ3QgY2xlYW51cCBlZmZlY3RzIHlldDtcbiAgICAgIC8vIFRoaXMgd2lsbCBiZSBkb25lIGJ5IGNvbW1pdEFsbExpZmVDeWNsZXMoKVxuICAgICAgbmV4dEVmZmVjdCA9IG5leHRFZmZlY3QubmV4dEVmZmVjdDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb21taXRBbGxMaWZlQ3ljbGVzKGZpbmlzaGVkUm9vdCwgY3VycmVudFRpbWUsIGNvbW1pdHRlZEV4cGlyYXRpb25UaW1lKSB7XG4gICAge1xuICAgICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZmx1c2hQZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MoKTtcblxuICAgICAgaWYgKHdhcm5BYm91dERlcHJlY2F0ZWRMaWZlY3ljbGVzKSB7XG4gICAgICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmZsdXNoUGVuZGluZ0RlcHJlY2F0aW9uV2FybmluZ3MoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgd2hpbGUgKG5leHRFZmZlY3QgIT09IG51bGwpIHtcbiAgICAgIHZhciBlZmZlY3RUYWcgPSBuZXh0RWZmZWN0LmVmZmVjdFRhZztcblxuICAgICAgaWYgKGVmZmVjdFRhZyAmIChVcGRhdGUgfCBDYWxsYmFjaykpIHtcbiAgICAgICAgcmVjb3JkRWZmZWN0KCk7XG4gICAgICAgIHZhciBjdXJyZW50ID0gbmV4dEVmZmVjdC5hbHRlcm5hdGU7XG4gICAgICAgIGNvbW1pdExpZmVDeWNsZXMoZmluaXNoZWRSb290LCBjdXJyZW50LCBuZXh0RWZmZWN0LCBjdXJyZW50VGltZSwgY29tbWl0dGVkRXhwaXJhdGlvblRpbWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZWZmZWN0VGFnICYgRXJyTG9nKSB7XG4gICAgICAgIGNvbW1pdEVycm9yTG9nZ2luZyhuZXh0RWZmZWN0LCBvblVuY2F1Z2h0RXJyb3IpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZWZmZWN0VGFnICYgUmVmKSB7XG4gICAgICAgIHJlY29yZEVmZmVjdCgpO1xuICAgICAgICBjb21taXRBdHRhY2hSZWYobmV4dEVmZmVjdCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXh0ID0gbmV4dEVmZmVjdC5uZXh0RWZmZWN0O1xuICAgICAgLy8gRW5zdXJlIHRoYXQgd2UgY2xlYW4gdGhlc2UgdXAgc28gdGhhdCB3ZSBkb24ndCBhY2NpZGVudGFsbHkga2VlcCB0aGVtLlxuICAgICAgLy8gSSdtIG5vdCBhY3R1YWxseSBzdXJlIHRoaXMgbWF0dGVycyBiZWNhdXNlIHdlIGNhbid0IHJlc2V0IGZpcnN0RWZmZWN0XG4gICAgICAvLyBhbmQgbGFzdEVmZmVjdCBzaW5jZSB0aGV5J3JlIG9uIGV2ZXJ5IG5vZGUsIG5vdCBqdXN0IHRoZSBlZmZlY3RmdWxcbiAgICAgIC8vIG9uZXMuIFNvIHdlIGhhdmUgdG8gY2xlYW4gZXZlcnl0aGluZyBhcyB3ZSByZXVzZSBub2RlcyBhbnl3YXkuXG4gICAgICBuZXh0RWZmZWN0Lm5leHRFZmZlY3QgPSBudWxsO1xuICAgICAgLy8gRW5zdXJlIHRoYXQgd2UgcmVzZXQgdGhlIGVmZmVjdFRhZyBoZXJlIHNvIHRoYXQgd2UgY2FuIHJlbHkgb24gZWZmZWN0XG4gICAgICAvLyB0YWdzIHRvIHJlYXNvbiBhYm91dCB0aGUgY3VycmVudCBsaWZlLWN5Y2xlLlxuICAgICAgbmV4dEVmZmVjdCA9IG5leHQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXNBbHJlYWR5RmFpbGVkTGVnYWN5RXJyb3JCb3VuZGFyeShpbnN0YW5jZSkge1xuICAgIHJldHVybiBsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZCAhPT0gbnVsbCAmJiBsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZC5oYXMoaW5zdGFuY2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gbWFya0xlZ2FjeUVycm9yQm91bmRhcnlBc0ZhaWxlZChpbnN0YW5jZSkge1xuICAgIGlmIChsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZCA9PT0gbnVsbCkge1xuICAgICAgbGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQgPSBuZXcgU2V0KFtpbnN0YW5jZV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZC5hZGQoaW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbW1pdFJvb3QoZmluaXNoZWRXb3JrKSB7XG4gICAgaXNXb3JraW5nID0gdHJ1ZTtcbiAgICBpc0NvbW1pdHRpbmcgPSB0cnVlO1xuICAgIHN0YXJ0Q29tbWl0VGltZXIoKTtcblxuICAgIHZhciByb290ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAhKHJvb3QuY3VycmVudCAhPT0gZmluaXNoZWRXb3JrKSA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBjb21taXQgdGhlIHNhbWUgdHJlZSBhcyBiZWZvcmUuIFRoaXMgaXMgcHJvYmFibHkgYSBidWcgcmVsYXRlZCB0byB0aGUgcmV0dXJuIGZpZWxkLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICAgIHZhciBjb21taXR0ZWRFeHBpcmF0aW9uVGltZSA9IHJvb3QucGVuZGluZ0NvbW1pdEV4cGlyYXRpb25UaW1lO1xuICAgICEoY29tbWl0dGVkRXhwaXJhdGlvblRpbWUgIT09IE5vV29yaykgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3QgY29tbWl0IGFuIGluY29tcGxldGUgcm9vdC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgICByb290LnBlbmRpbmdDb21taXRFeHBpcmF0aW9uVGltZSA9IE5vV29yaztcblxuICAgIHZhciBjdXJyZW50VGltZSA9IHJlY2FsY3VsYXRlQ3VycmVudFRpbWUoKTtcblxuICAgIC8vIFJlc2V0IHRoaXMgdG8gbnVsbCBiZWZvcmUgY2FsbGluZyBsaWZlY3ljbGVzXG4gICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IG51bGw7XG5cbiAgICB2YXIgZmlyc3RFZmZlY3QgPSB2b2lkIDA7XG4gICAgaWYgKGZpbmlzaGVkV29yay5lZmZlY3RUYWcgPiBQZXJmb3JtZWRXb3JrKSB7XG4gICAgICAvLyBBIGZpYmVyJ3MgZWZmZWN0IGxpc3QgY29uc2lzdHMgb25seSBvZiBpdHMgY2hpbGRyZW4sIG5vdCBpdHNlbGYuIFNvIGlmXG4gICAgICAvLyB0aGUgcm9vdCBoYXMgYW4gZWZmZWN0LCB3ZSBuZWVkIHRvIGFkZCBpdCB0byB0aGUgZW5kIG9mIHRoZSBsaXN0LiBUaGVcbiAgICAgIC8vIHJlc3VsdGluZyBsaXN0IGlzIHRoZSBzZXQgdGhhdCB3b3VsZCBiZWxvbmcgdG8gdGhlIHJvb3QncyBwYXJlbnQsIGlmXG4gICAgICAvLyBpdCBoYWQgb25lOyB0aGF0IGlzLCBhbGwgdGhlIGVmZmVjdHMgaW4gdGhlIHRyZWUgaW5jbHVkaW5nIHRoZSByb290LlxuICAgICAgaWYgKGZpbmlzaGVkV29yay5sYXN0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgICAgIGZpbmlzaGVkV29yay5sYXN0RWZmZWN0Lm5leHRFZmZlY3QgPSBmaW5pc2hlZFdvcms7XG4gICAgICAgIGZpcnN0RWZmZWN0ID0gZmluaXNoZWRXb3JrLmZpcnN0RWZmZWN0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmlyc3RFZmZlY3QgPSBmaW5pc2hlZFdvcms7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoZXJlIGlzIG5vIGVmZmVjdCBvbiB0aGUgcm9vdC5cbiAgICAgIGZpcnN0RWZmZWN0ID0gZmluaXNoZWRXb3JrLmZpcnN0RWZmZWN0O1xuICAgIH1cblxuICAgIHByZXBhcmVGb3JDb21taXQocm9vdC5jb250YWluZXJJbmZvKTtcblxuICAgIC8vIEludm9rZSBpbnN0YW5jZXMgb2YgZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgYmVmb3JlIG11dGF0aW9uLlxuICAgIG5leHRFZmZlY3QgPSBmaXJzdEVmZmVjdDtcbiAgICBzdGFydENvbW1pdFNuYXBzaG90RWZmZWN0c1RpbWVyKCk7XG4gICAgd2hpbGUgKG5leHRFZmZlY3QgIT09IG51bGwpIHtcbiAgICAgIHZhciBkaWRFcnJvciA9IGZhbHNlO1xuICAgICAgdmFyIGVycm9yID0gdm9pZCAwO1xuICAgICAge1xuICAgICAgICBpbnZva2VHdWFyZGVkQ2FsbGJhY2skMihudWxsLCBjb21taXRCZWZvcmVNdXRhdGlvbkxpZmVjeWNsZXMsIG51bGwpO1xuICAgICAgICBpZiAoaGFzQ2F1Z2h0RXJyb3IoKSkge1xuICAgICAgICAgIGRpZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICBlcnJvciA9IGNsZWFyQ2F1Z2h0RXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGRpZEVycm9yKSB7XG4gICAgICAgICEobmV4dEVmZmVjdCAhPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdTaG91bGQgaGF2ZSBuZXh0IGVmZmVjdC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgICAgICAgb25Db21taXRQaGFzZUVycm9yKG5leHRFZmZlY3QsIGVycm9yKTtcbiAgICAgICAgLy8gQ2xlYW4tdXBcbiAgICAgICAgaWYgKG5leHRFZmZlY3QgIT09IG51bGwpIHtcbiAgICAgICAgICBuZXh0RWZmZWN0ID0gbmV4dEVmZmVjdC5uZXh0RWZmZWN0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHN0b3BDb21taXRTbmFwc2hvdEVmZmVjdHNUaW1lcigpO1xuXG4gICAgLy8gQ29tbWl0IGFsbCB0aGUgc2lkZS1lZmZlY3RzIHdpdGhpbiBhIHRyZWUuIFdlJ2xsIGRvIHRoaXMgaW4gdHdvIHBhc3Nlcy5cbiAgICAvLyBUaGUgZmlyc3QgcGFzcyBwZXJmb3JtcyBhbGwgdGhlIGhvc3QgaW5zZXJ0aW9ucywgdXBkYXRlcywgZGVsZXRpb25zIGFuZFxuICAgIC8vIHJlZiB1bm1vdW50cy5cbiAgICBuZXh0RWZmZWN0ID0gZmlyc3RFZmZlY3Q7XG4gICAgc3RhcnRDb21taXRIb3N0RWZmZWN0c1RpbWVyKCk7XG4gICAgd2hpbGUgKG5leHRFZmZlY3QgIT09IG51bGwpIHtcbiAgICAgIHZhciBfZGlkRXJyb3IgPSBmYWxzZTtcbiAgICAgIHZhciBfZXJyb3IgPSB2b2lkIDA7XG4gICAgICB7XG4gICAgICAgIGludm9rZUd1YXJkZWRDYWxsYmFjayQyKG51bGwsIGNvbW1pdEFsbEhvc3RFZmZlY3RzLCBudWxsKTtcbiAgICAgICAgaWYgKGhhc0NhdWdodEVycm9yKCkpIHtcbiAgICAgICAgICBfZGlkRXJyb3IgPSB0cnVlO1xuICAgICAgICAgIF9lcnJvciA9IGNsZWFyQ2F1Z2h0RXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKF9kaWRFcnJvcikge1xuICAgICAgICAhKG5leHRFZmZlY3QgIT09IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnU2hvdWxkIGhhdmUgbmV4dCBlZmZlY3QuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gICAgICAgIG9uQ29tbWl0UGhhc2VFcnJvcihuZXh0RWZmZWN0LCBfZXJyb3IpO1xuICAgICAgICAvLyBDbGVhbi11cFxuICAgICAgICBpZiAobmV4dEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgIG5leHRFZmZlY3QgPSBuZXh0RWZmZWN0Lm5leHRFZmZlY3Q7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgc3RvcENvbW1pdEhvc3RFZmZlY3RzVGltZXIoKTtcblxuICAgIHJlc2V0QWZ0ZXJDb21taXQocm9vdC5jb250YWluZXJJbmZvKTtcblxuICAgIC8vIFRoZSB3b3JrLWluLXByb2dyZXNzIHRyZWUgaXMgbm93IHRoZSBjdXJyZW50IHRyZWUuIFRoaXMgbXVzdCBjb21lIGFmdGVyXG4gICAgLy8gdGhlIGZpcnN0IHBhc3Mgb2YgdGhlIGNvbW1pdCBwaGFzZSwgc28gdGhhdCB0aGUgcHJldmlvdXMgdHJlZSBpcyBzdGlsbFxuICAgIC8vIGN1cnJlbnQgZHVyaW5nIGNvbXBvbmVudFdpbGxVbm1vdW50LCBidXQgYmVmb3JlIHRoZSBzZWNvbmQgcGFzcywgc28gdGhhdFxuICAgIC8vIHRoZSBmaW5pc2hlZCB3b3JrIGlzIGN1cnJlbnQgZHVyaW5nIGNvbXBvbmVudERpZE1vdW50L1VwZGF0ZS5cbiAgICByb290LmN1cnJlbnQgPSBmaW5pc2hlZFdvcms7XG5cbiAgICAvLyBJbiB0aGUgc2Vjb25kIHBhc3Mgd2UnbGwgcGVyZm9ybSBhbGwgbGlmZS1jeWNsZXMgYW5kIHJlZiBjYWxsYmFja3MuXG4gICAgLy8gTGlmZS1jeWNsZXMgaGFwcGVuIGFzIGEgc2VwYXJhdGUgcGFzcyBzbyB0aGF0IGFsbCBwbGFjZW1lbnRzLCB1cGRhdGVzLFxuICAgIC8vIGFuZCBkZWxldGlvbnMgaW4gdGhlIGVudGlyZSB0cmVlIGhhdmUgYWxyZWFkeSBiZWVuIGludm9rZWQuXG4gICAgLy8gVGhpcyBwYXNzIGFsc28gdHJpZ2dlcnMgYW55IHJlbmRlcmVyLXNwZWNpZmljIGluaXRpYWwgZWZmZWN0cy5cbiAgICBuZXh0RWZmZWN0ID0gZmlyc3RFZmZlY3Q7XG4gICAgc3RhcnRDb21taXRMaWZlQ3ljbGVzVGltZXIoKTtcbiAgICB3aGlsZSAobmV4dEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgdmFyIF9kaWRFcnJvcjIgPSBmYWxzZTtcbiAgICAgIHZhciBfZXJyb3IyID0gdm9pZCAwO1xuICAgICAge1xuICAgICAgICBpbnZva2VHdWFyZGVkQ2FsbGJhY2skMihudWxsLCBjb21taXRBbGxMaWZlQ3ljbGVzLCBudWxsLCByb290LCBjdXJyZW50VGltZSwgY29tbWl0dGVkRXhwaXJhdGlvblRpbWUpO1xuICAgICAgICBpZiAoaGFzQ2F1Z2h0RXJyb3IoKSkge1xuICAgICAgICAgIF9kaWRFcnJvcjIgPSB0cnVlO1xuICAgICAgICAgIF9lcnJvcjIgPSBjbGVhckNhdWdodEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChfZGlkRXJyb3IyKSB7XG4gICAgICAgICEobmV4dEVmZmVjdCAhPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdTaG91bGQgaGF2ZSBuZXh0IGVmZmVjdC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKSA6IHZvaWQgMDtcbiAgICAgICAgb25Db21taXRQaGFzZUVycm9yKG5leHRFZmZlY3QsIF9lcnJvcjIpO1xuICAgICAgICBpZiAobmV4dEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgIG5leHRFZmZlY3QgPSBuZXh0RWZmZWN0Lm5leHRFZmZlY3Q7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpc0NvbW1pdHRpbmcgPSBmYWxzZTtcbiAgICBpc1dvcmtpbmcgPSBmYWxzZTtcbiAgICBzdG9wQ29tbWl0TGlmZUN5Y2xlc1RpbWVyKCk7XG4gICAgc3RvcENvbW1pdFRpbWVyKCk7XG4gICAgaWYgKHR5cGVvZiBvbkNvbW1pdFJvb3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIG9uQ29tbWl0Um9vdChmaW5pc2hlZFdvcmsuc3RhdGVOb2RlKTtcbiAgICB9XG4gICAgaWYgKHRydWUgJiYgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbCkge1xuICAgICAgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbC5vbkNvbW1pdFdvcmsoZmluaXNoZWRXb3JrKTtcbiAgICB9XG5cbiAgICB2YXIgcmVtYWluaW5nVGltZSA9IHJvb3QuY3VycmVudC5leHBpcmF0aW9uVGltZTtcbiAgICBpZiAocmVtYWluaW5nVGltZSA9PT0gTm9Xb3JrKSB7XG4gICAgICAvLyBJZiB0aGVyZSdzIG5vIHJlbWFpbmluZyB3b3JrLCB3ZSBjYW4gY2xlYXIgdGhlIHNldCBvZiBhbHJlYWR5IGZhaWxlZFxuICAgICAgLy8gZXJyb3IgYm91bmRhcmllcy5cbiAgICAgIGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHJlbWFpbmluZ1RpbWU7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldEV4cGlyYXRpb25UaW1lKHdvcmtJblByb2dyZXNzLCByZW5kZXJUaW1lKSB7XG4gICAgaWYgKHJlbmRlclRpbWUgIT09IE5ldmVyICYmIHdvcmtJblByb2dyZXNzLmV4cGlyYXRpb25UaW1lID09PSBOZXZlcikge1xuICAgICAgLy8gVGhlIGNoaWxkcmVuIG9mIHRoaXMgY29tcG9uZW50IGFyZSBoaWRkZW4uIERvbid0IGJ1YmJsZSB0aGVpclxuICAgICAgLy8gZXhwaXJhdGlvbiB0aW1lcy5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgcGVuZGluZyB1cGRhdGVzLlxuICAgIHZhciBuZXdFeHBpcmF0aW9uVGltZSA9IGdldFVwZGF0ZUV4cGlyYXRpb25UaW1lKHdvcmtJblByb2dyZXNzKTtcblxuICAgIC8vIFRPRE86IENhbGxzIG5lZWQgdG8gdmlzaXQgc3RhdGVOb2RlXG5cbiAgICAvLyBCdWJibGUgdXAgdGhlIGVhcmxpZXN0IGV4cGlyYXRpb24gdGltZS5cbiAgICB2YXIgY2hpbGQgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICB3aGlsZSAoY2hpbGQgIT09IG51bGwpIHtcbiAgICAgIGlmIChjaGlsZC5leHBpcmF0aW9uVGltZSAhPT0gTm9Xb3JrICYmIChuZXdFeHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8IG5ld0V4cGlyYXRpb25UaW1lID4gY2hpbGQuZXhwaXJhdGlvblRpbWUpKSB7XG4gICAgICAgIG5ld0V4cGlyYXRpb25UaW1lID0gY2hpbGQuZXhwaXJhdGlvblRpbWU7XG4gICAgICB9XG4gICAgICBjaGlsZCA9IGNoaWxkLnNpYmxpbmc7XG4gICAgfVxuICAgIHdvcmtJblByb2dyZXNzLmV4cGlyYXRpb25UaW1lID0gbmV3RXhwaXJhdGlvblRpbWU7XG4gIH1cblxuICBmdW5jdGlvbiBjb21wbGV0ZVVuaXRPZldvcmsod29ya0luUHJvZ3Jlc3MpIHtcbiAgICAvLyBBdHRlbXB0IHRvIGNvbXBsZXRlIHRoZSBjdXJyZW50IHVuaXQgb2Ygd29yaywgdGhlbiBtb3ZlIHRvIHRoZVxuICAgIC8vIG5leHQgc2libGluZy4gSWYgdGhlcmUgYXJlIG5vIG1vcmUgc2libGluZ3MsIHJldHVybiB0byB0aGVcbiAgICAvLyBwYXJlbnQgZmliZXIuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIC8vIFRoZSBjdXJyZW50LCBmbHVzaGVkLCBzdGF0ZSBvZiB0aGlzIGZpYmVyIGlzIHRoZSBhbHRlcm5hdGUuXG4gICAgICAvLyBJZGVhbGx5IG5vdGhpbmcgc2hvdWxkIHJlbHkgb24gdGhpcywgYnV0IHJlbHlpbmcgb24gaXQgaGVyZVxuICAgICAgLy8gbWVhbnMgdGhhdCB3ZSBkb24ndCBuZWVkIGFuIGFkZGl0aW9uYWwgZmllbGQgb24gdGhlIHdvcmsgaW5cbiAgICAgIC8vIHByb2dyZXNzLlxuICAgICAgdmFyIGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy5hbHRlcm5hdGU7XG4gICAgICB7XG4gICAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIuc2V0Q3VycmVudEZpYmVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJldHVybkZpYmVyID0gd29ya0luUHJvZ3Jlc3NbJ3JldHVybiddO1xuICAgICAgdmFyIHNpYmxpbmdGaWJlciA9IHdvcmtJblByb2dyZXNzLnNpYmxpbmc7XG5cbiAgICAgIGlmICgod29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnICYgSW5jb21wbGV0ZSkgPT09IE5vRWZmZWN0KSB7XG4gICAgICAgIC8vIFRoaXMgZmliZXIgY29tcGxldGVkLlxuICAgICAgICB2YXIgbmV4dCA9IGNvbXBsZXRlV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dFJlbmRlckV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgc3RvcFdvcmtUaW1lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHJlc2V0RXhwaXJhdGlvblRpbWUod29ya0luUHJvZ3Jlc3MsIG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICAgIHtcbiAgICAgICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnJlc2V0Q3VycmVudEZpYmVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmV4dCAhPT0gbnVsbCkge1xuICAgICAgICAgIHN0b3BXb3JrVGltZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIGlmICh0cnVlICYmIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wpIHtcbiAgICAgICAgICAgIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wub25Db21wbGV0ZVdvcmsod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBJZiBjb21wbGV0aW5nIHRoaXMgd29yayBzcGF3bmVkIG5ldyB3b3JrLCBkbyB0aGF0IG5leHQuIFdlJ2xsIGNvbWVcbiAgICAgICAgICAvLyBiYWNrIGhlcmUgYWdhaW4uXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmV0dXJuRmliZXIgIT09IG51bGwgJiZcbiAgICAgICAgLy8gRG8gbm90IGFwcGVuZCBlZmZlY3RzIHRvIHBhcmVudHMgaWYgYSBzaWJsaW5nIGZhaWxlZCB0byBjb21wbGV0ZVxuICAgICAgICAocmV0dXJuRmliZXIuZWZmZWN0VGFnICYgSW5jb21wbGV0ZSkgPT09IE5vRWZmZWN0KSB7XG4gICAgICAgICAgLy8gQXBwZW5kIGFsbCB0aGUgZWZmZWN0cyBvZiB0aGUgc3VidHJlZSBhbmQgdGhpcyBmaWJlciBvbnRvIHRoZSBlZmZlY3RcbiAgICAgICAgICAvLyBsaXN0IG9mIHRoZSBwYXJlbnQuIFRoZSBjb21wbGV0aW9uIG9yZGVyIG9mIHRoZSBjaGlsZHJlbiBhZmZlY3RzIHRoZVxuICAgICAgICAgIC8vIHNpZGUtZWZmZWN0IG9yZGVyLlxuICAgICAgICAgIGlmIChyZXR1cm5GaWJlci5maXJzdEVmZmVjdCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuRmliZXIuZmlyc3RFZmZlY3QgPSB3b3JrSW5Qcm9ncmVzcy5maXJzdEVmZmVjdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHdvcmtJblByb2dyZXNzLmxhc3RFZmZlY3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChyZXR1cm5GaWJlci5sYXN0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLmxhc3RFZmZlY3QubmV4dEVmZmVjdCA9IHdvcmtJblByb2dyZXNzLmZpcnN0RWZmZWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuRmliZXIubGFzdEVmZmVjdCA9IHdvcmtJblByb2dyZXNzLmxhc3RFZmZlY3Q7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gSWYgdGhpcyBmaWJlciBoYWQgc2lkZS1lZmZlY3RzLCB3ZSBhcHBlbmQgaXQgQUZURVIgdGhlIGNoaWxkcmVuJ3NcbiAgICAgICAgICAvLyBzaWRlLWVmZmVjdHMuIFdlIGNhbiBwZXJmb3JtIGNlcnRhaW4gc2lkZS1lZmZlY3RzIGVhcmxpZXIgaWZcbiAgICAgICAgICAvLyBuZWVkZWQsIGJ5IGRvaW5nIG11bHRpcGxlIHBhc3NlcyBvdmVyIHRoZSBlZmZlY3QgbGlzdC4gV2UgZG9uJ3Qgd2FudFxuICAgICAgICAgIC8vIHRvIHNjaGVkdWxlIG91ciBvd24gc2lkZS1lZmZlY3Qgb24gb3VyIG93biBsaXN0IGJlY2F1c2UgaWYgZW5kIHVwXG4gICAgICAgICAgLy8gcmV1c2luZyBjaGlsZHJlbiB3ZSdsbCBzY2hlZHVsZSB0aGlzIGVmZmVjdCBvbnRvIGl0c2VsZiBzaW5jZSB3ZSdyZVxuICAgICAgICAgIC8vIGF0IHRoZSBlbmQuXG4gICAgICAgICAgdmFyIGVmZmVjdFRhZyA9IHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZztcbiAgICAgICAgICAvLyBTa2lwIGJvdGggTm9Xb3JrIGFuZCBQZXJmb3JtZWRXb3JrIHRhZ3Mgd2hlbiBjcmVhdGluZyB0aGUgZWZmZWN0IGxpc3QuXG4gICAgICAgICAgLy8gUGVyZm9ybWVkV29yayBlZmZlY3QgaXMgcmVhZCBieSBSZWFjdCBEZXZUb29scyBidXQgc2hvdWxkbid0IGJlIGNvbW1pdHRlZC5cbiAgICAgICAgICBpZiAoZWZmZWN0VGFnID4gUGVyZm9ybWVkV29yaykge1xuICAgICAgICAgICAgaWYgKHJldHVybkZpYmVyLmxhc3RFZmZlY3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIubGFzdEVmZmVjdC5uZXh0RWZmZWN0ID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm5GaWJlci5maXJzdEVmZmVjdCA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuRmliZXIubGFzdEVmZmVjdCA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cnVlICYmIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wpIHtcbiAgICAgICAgICBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sLm9uQ29tcGxldGVXb3JrKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaWJsaW5nRmliZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBtb3JlIHdvcmsgdG8gZG8gaW4gdGhpcyByZXR1cm5GaWJlciwgZG8gdGhhdCBuZXh0LlxuICAgICAgICAgIHJldHVybiBzaWJsaW5nRmliZXI7XG4gICAgICAgIH0gZWxzZSBpZiAocmV0dXJuRmliZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIG1vcmUgd29yayBpbiB0aGlzIHJldHVybkZpYmVyLiBDb21wbGV0ZSB0aGUgcmV0dXJuRmliZXIuXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBXZSd2ZSByZWFjaGVkIHRoZSByb290LlxuICAgICAgICAgIGlzUm9vdFJlYWR5Rm9yQ29tbWl0ID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhpcyBmaWJlciBkaWQgbm90IGNvbXBsZXRlIGJlY2F1c2Ugc29tZXRoaW5nIHRocmV3LiBQb3AgdmFsdWVzIG9mZlxuICAgICAgICAvLyB0aGUgc3RhY2sgd2l0aG91dCBlbnRlcmluZyB0aGUgY29tcGxldGUgcGhhc2UuIElmIHRoaXMgaXMgYSBib3VuZGFyeSxcbiAgICAgICAgLy8gY2FwdHVyZSB2YWx1ZXMgaWYgcG9zc2libGUuXG4gICAgICAgIHZhciBfbmV4dCA9IHVud2luZFdvcmsod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAvLyBCZWNhdXNlIHRoaXMgZmliZXIgZGlkIG5vdCBjb21wbGV0ZSwgZG9uJ3QgcmVzZXQgaXRzIGV4cGlyYXRpb24gdGltZS5cbiAgICAgICAgaWYgKHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyAmIERpZENhcHR1cmUpIHtcbiAgICAgICAgICAvLyBSZXN0YXJ0aW5nIGFuIGVycm9yIGJvdW5kYXJ5XG4gICAgICAgICAgc3RvcEZhaWxlZFdvcmtUaW1lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RvcFdvcmtUaW1lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIH1cblxuICAgICAgICB7XG4gICAgICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5yZXNldEN1cnJlbnRGaWJlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF9uZXh0ICE9PSBudWxsKSB7XG4gICAgICAgICAgc3RvcFdvcmtUaW1lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgaWYgKHRydWUgJiYgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbCkge1xuICAgICAgICAgICAgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbC5vbkNvbXBsZXRlV29yayh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIElmIGNvbXBsZXRpbmcgdGhpcyB3b3JrIHNwYXduZWQgbmV3IHdvcmssIGRvIHRoYXQgbmV4dC4gV2UnbGwgY29tZVxuICAgICAgICAgIC8vIGJhY2sgaGVyZSBhZ2Fpbi5cbiAgICAgICAgICAvLyBTaW5jZSB3ZSdyZSByZXN0YXJ0aW5nLCByZW1vdmUgYW55dGhpbmcgdGhhdCBpcyBub3QgYSBob3N0IGVmZmVjdFxuICAgICAgICAgIC8vIGZyb20gdGhlIGVmZmVjdCB0YWcuXG4gICAgICAgICAgX25leHQuZWZmZWN0VGFnICY9IEhvc3RFZmZlY3RNYXNrO1xuICAgICAgICAgIHJldHVybiBfbmV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXR1cm5GaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIE1hcmsgdGhlIHBhcmVudCBmaWJlciBhcyBpbmNvbXBsZXRlIGFuZCBjbGVhciBpdHMgZWZmZWN0IGxpc3QuXG4gICAgICAgICAgcmV0dXJuRmliZXIuZmlyc3RFZmZlY3QgPSByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gbnVsbDtcbiAgICAgICAgICByZXR1cm5GaWJlci5lZmZlY3RUYWcgfD0gSW5jb21wbGV0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cnVlICYmIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wpIHtcbiAgICAgICAgICBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sLm9uQ29tcGxldGVXb3JrKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaWJsaW5nRmliZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBtb3JlIHdvcmsgdG8gZG8gaW4gdGhpcyByZXR1cm5GaWJlciwgZG8gdGhhdCBuZXh0LlxuICAgICAgICAgIHJldHVybiBzaWJsaW5nRmliZXI7XG4gICAgICAgIH0gZWxzZSBpZiAocmV0dXJuRmliZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIG1vcmUgd29yayBpbiB0aGlzIHJldHVybkZpYmVyLiBDb21wbGV0ZSB0aGUgcmV0dXJuRmliZXIuXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdpdGhvdXQgdGhpcyBleHBsaWNpdCBudWxsIHJldHVybiBGbG93IGNvbXBsYWlucyBvZiBpbnZhbGlkIHJldHVybiB0eXBlXG4gICAgLy8gVE9ETyBSZW1vdmUgdGhlIGFib3ZlIHdoaWxlKHRydWUpIGxvb3BcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5yZWFjaGFibGVcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlcmZvcm1Vbml0T2ZXb3JrKHdvcmtJblByb2dyZXNzKSB7XG4gICAgLy8gVGhlIGN1cnJlbnQsIGZsdXNoZWQsIHN0YXRlIG9mIHRoaXMgZmliZXIgaXMgdGhlIGFsdGVybmF0ZS5cbiAgICAvLyBJZGVhbGx5IG5vdGhpbmcgc2hvdWxkIHJlbHkgb24gdGhpcywgYnV0IHJlbHlpbmcgb24gaXQgaGVyZVxuICAgIC8vIG1lYW5zIHRoYXQgd2UgZG9uJ3QgbmVlZCBhbiBhZGRpdGlvbmFsIGZpZWxkIG9uIHRoZSB3b3JrIGluXG4gICAgLy8gcHJvZ3Jlc3MuXG4gICAgdmFyIGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy5hbHRlcm5hdGU7XG5cbiAgICAvLyBTZWUgaWYgYmVnaW5uaW5nIHRoaXMgd29yayBzcGF3bnMgbW9yZSB3b3JrLlxuICAgIHN0YXJ0V29ya1RpbWVyKHdvcmtJblByb2dyZXNzKTtcbiAgICB7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnNldEN1cnJlbnRGaWJlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgaWYgKHRydWUgJiYgcmVwbGF5RmFpbGVkVW5pdE9mV29ya1dpdGhJbnZva2VHdWFyZGVkQ2FsbGJhY2spIHtcbiAgICAgIHN0YXNoZWRXb3JrSW5Qcm9ncmVzc1Byb3BlcnRpZXMgPSBhc3NpZ25GaWJlclByb3BlcnRpZXNJbkRFVihzdGFzaGVkV29ya0luUHJvZ3Jlc3NQcm9wZXJ0aWVzLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuICAgIHZhciBuZXh0ID0gYmVnaW5Xb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0UmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgIHtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIucmVzZXRDdXJyZW50RmliZXIoKTtcbiAgICAgIGlmIChpc1JlcGxheWluZ0ZhaWxlZFVuaXRPZldvcmspIHtcbiAgICAgICAgLy8gQ3VycmVudGx5IHJlcGxheWluZyBhIGZhaWxlZCB1bml0IG9mIHdvcmsuIFRoaXMgc2hvdWxkIGJlIHVucmVhY2hhYmxlLFxuICAgICAgICAvLyBiZWNhdXNlIHRoZSByZW5kZXIgcGhhc2UgaXMgbWVhbnQgdG8gYmUgaWRlbXBvdGVudCwgYW5kIGl0IHNob3VsZFxuICAgICAgICAvLyBoYXZlIHRocm93biBhZ2Fpbi4gU2luY2UgaXQgZGlkbid0LCByZXRocm93IHRoZSBvcmlnaW5hbCBlcnJvciwgc29cbiAgICAgICAgLy8gUmVhY3QncyBpbnRlcm5hbCBzdGFjayBpcyBub3QgbWlzYWxpZ25lZC5cbiAgICAgICAgcmV0aHJvd09yaWdpbmFsRXJyb3IoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRydWUgJiYgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbCkge1xuICAgICAgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbC5vbkJlZ2luV29yayh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgaWYgKG5leHQgPT09IG51bGwpIHtcbiAgICAgIC8vIElmIHRoaXMgZG9lc24ndCBzcGF3biBuZXcgd29yaywgY29tcGxldGUgdGhlIGN1cnJlbnQgd29yay5cbiAgICAgIG5leHQgPSBjb21wbGV0ZVVuaXRPZldvcmsod29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPSBudWxsO1xuXG4gICAgcmV0dXJuIG5leHQ7XG4gIH1cblxuICBmdW5jdGlvbiB3b3JrTG9vcChpc0FzeW5jKSB7XG4gICAgaWYgKCFpc0FzeW5jKSB7XG4gICAgICAvLyBGbHVzaCBhbGwgZXhwaXJlZCB3b3JrLlxuICAgICAgd2hpbGUgKG5leHRVbml0T2ZXb3JrICE9PSBudWxsKSB7XG4gICAgICAgIG5leHRVbml0T2ZXb3JrID0gcGVyZm9ybVVuaXRPZldvcmsobmV4dFVuaXRPZldvcmspO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGbHVzaCBhc3luY2hyb25vdXMgd29yayB1bnRpbCB0aGUgZGVhZGxpbmUgcnVucyBvdXQgb2YgdGltZS5cbiAgICAgIHdoaWxlIChuZXh0VW5pdE9mV29yayAhPT0gbnVsbCAmJiAhc2hvdWxkWWllbGQoKSkge1xuICAgICAgICBuZXh0VW5pdE9mV29yayA9IHBlcmZvcm1Vbml0T2ZXb3JrKG5leHRVbml0T2ZXb3JrKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW5kZXJSb290KHJvb3QsIGV4cGlyYXRpb25UaW1lLCBpc0FzeW5jKSB7XG4gICAgISFpc1dvcmtpbmcgPyBpbnZhcmlhbnQoZmFsc2UsICdyZW5kZXJSb290IHdhcyBjYWxsZWQgcmVjdXJzaXZlbHkuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gICAgaXNXb3JraW5nID0gdHJ1ZTtcblxuICAgIC8vIENoZWNrIGlmIHdlJ3JlIHN0YXJ0aW5nIGZyb20gYSBmcmVzaCBzdGFjaywgb3IgaWYgd2UncmUgcmVzdW1pbmcgZnJvbVxuICAgIC8vIHByZXZpb3VzbHkgeWllbGRlZCB3b3JrLlxuICAgIGlmIChleHBpcmF0aW9uVGltZSAhPT0gbmV4dFJlbmRlckV4cGlyYXRpb25UaW1lIHx8IHJvb3QgIT09IG5leHRSb290IHx8IG5leHRVbml0T2ZXb3JrID09PSBudWxsKSB7XG4gICAgICAvLyBSZXNldCB0aGUgc3RhY2sgYW5kIHN0YXJ0IHdvcmtpbmcgZnJvbSB0aGUgcm9vdC5cbiAgICAgIHJlc2V0U3RhY2soKTtcbiAgICAgIG5leHRSb290ID0gcm9vdDtcbiAgICAgIG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICAgICAgbmV4dFVuaXRPZldvcmsgPSBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhuZXh0Um9vdC5jdXJyZW50LCBudWxsLCBuZXh0UmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgcm9vdC5wZW5kaW5nQ29tbWl0RXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG4gICAgfVxuXG4gICAgdmFyIGRpZEZhdGFsID0gZmFsc2U7XG5cbiAgICBzdGFydFdvcmtMb29wVGltZXIobmV4dFVuaXRPZldvcmspO1xuXG4gICAgZG8ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgd29ya0xvb3AoaXNBc3luYyk7XG4gICAgICB9IGNhdGNoICh0aHJvd25WYWx1ZSkge1xuICAgICAgICBpZiAobmV4dFVuaXRPZldvcmsgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBUaGlzIGlzIGEgZmF0YWwgZXJyb3IuXG4gICAgICAgICAgZGlkRmF0YWwgPSB0cnVlO1xuICAgICAgICAgIG9uVW5jYXVnaHRFcnJvcih0aHJvd25WYWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJ1ZSAmJiByZXBsYXlGYWlsZWRVbml0T2ZXb3JrV2l0aEludm9rZUd1YXJkZWRDYWxsYmFjaykge1xuICAgICAgICAgIHZhciBmYWlsZWRVbml0T2ZXb3JrID0gbmV4dFVuaXRPZldvcms7XG4gICAgICAgICAgcmVwbGF5VW5pdE9mV29yayhmYWlsZWRVbml0T2ZXb3JrLCB0aHJvd25WYWx1ZSwgaXNBc3luYyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc291cmNlRmliZXIgPSBuZXh0VW5pdE9mV29yaztcbiAgICAgICAgdmFyIHJldHVybkZpYmVyID0gc291cmNlRmliZXJbJ3JldHVybiddO1xuICAgICAgICBpZiAocmV0dXJuRmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBUaGlzIGlzIHRoZSByb290LiBUaGUgcm9vdCBjb3VsZCBjYXB0dXJlIGl0cyBvd24gZXJyb3JzLiBIb3dldmVyLFxuICAgICAgICAgIC8vIHdlIGRvbid0IGtub3cgaWYgaXQgZXJyb3JzIGJlZm9yZSBvciBhZnRlciB3ZSBwdXNoZWQgdGhlIGhvc3RcbiAgICAgICAgICAvLyBjb250ZXh0LiBUaGlzIGluZm9ybWF0aW9uIGlzIG5lZWRlZCB0byBhdm9pZCBhIHN0YWNrIG1pc21hdGNoLlxuICAgICAgICAgIC8vIEJlY2F1c2Ugd2UncmUgbm90IHN1cmUsIHRyZWF0IHRoaXMgYXMgYSBmYXRhbCBlcnJvci4gV2UgY291bGQgdHJhY2tcbiAgICAgICAgICAvLyB3aGljaCBwaGFzZSBpdCBmYWlscyBpbiwgYnV0IGRvZXNuJ3Qgc2VlbSB3b3J0aCBpdC4gQXQgbGVhc3RcbiAgICAgICAgICAvLyBmb3Igbm93LlxuICAgICAgICAgIGRpZEZhdGFsID0gdHJ1ZTtcbiAgICAgICAgICBvblVuY2F1Z2h0RXJyb3IodGhyb3duVmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHRocm93RXhjZXB0aW9uKHJldHVybkZpYmVyLCBzb3VyY2VGaWJlciwgdGhyb3duVmFsdWUpO1xuICAgICAgICBuZXh0VW5pdE9mV29yayA9IGNvbXBsZXRlVW5pdE9mV29yayhzb3VyY2VGaWJlcik7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9IHdoaWxlICh0cnVlKTtcblxuICAgIC8vIFdlJ3JlIGRvbmUgcGVyZm9ybWluZyB3b3JrLiBUaW1lIHRvIGNsZWFuIHVwLlxuICAgIHZhciBkaWRDb21wbGV0ZVJvb3QgPSBmYWxzZTtcbiAgICBpc1dvcmtpbmcgPSBmYWxzZTtcblxuICAgIC8vIFlpZWxkIGJhY2sgdG8gbWFpbiB0aHJlYWQuXG4gICAgaWYgKGRpZEZhdGFsKSB7XG4gICAgICBzdG9wV29ya0xvb3BUaW1lcihpbnRlcnJ1cHRlZEJ5LCBkaWRDb21wbGV0ZVJvb3QpO1xuICAgICAgaW50ZXJydXB0ZWRCeSA9IG51bGw7XG4gICAgICAvLyBUaGVyZSB3YXMgYSBmYXRhbCBlcnJvci5cbiAgICAgIHtcbiAgICAgICAgc3RhY2sucmVzZXRTdGFja0FmdGVyRmF0YWxFcnJvckluRGV2KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2UgaWYgKG5leHRVbml0T2ZXb3JrID09PSBudWxsKSB7XG4gICAgICAvLyBXZSByZWFjaGVkIHRoZSByb290LlxuICAgICAgaWYgKGlzUm9vdFJlYWR5Rm9yQ29tbWl0KSB7XG4gICAgICAgIGRpZENvbXBsZXRlUm9vdCA9IHRydWU7XG4gICAgICAgIHN0b3BXb3JrTG9vcFRpbWVyKGludGVycnVwdGVkQnksIGRpZENvbXBsZXRlUm9vdCk7XG4gICAgICAgIGludGVycnVwdGVkQnkgPSBudWxsO1xuICAgICAgICAvLyBUaGUgcm9vdCBzdWNjZXNzZnVsbHkgY29tcGxldGVkLiBJdCdzIHJlYWR5IGZvciBjb21taXQuXG4gICAgICAgIHJvb3QucGVuZGluZ0NvbW1pdEV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gICAgICAgIHZhciBmaW5pc2hlZFdvcmsgPSByb290LmN1cnJlbnQuYWx0ZXJuYXRlO1xuICAgICAgICByZXR1cm4gZmluaXNoZWRXb3JrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhlIHJvb3QgZGlkIG5vdCBjb21wbGV0ZS5cbiAgICAgICAgc3RvcFdvcmtMb29wVGltZXIoaW50ZXJydXB0ZWRCeSwgZGlkQ29tcGxldGVSb290KTtcbiAgICAgICAgaW50ZXJydXB0ZWRCeSA9IG51bGw7XG4gICAgICAgIGludmFyaWFudChmYWxzZSwgJ0V4cGlyZWQgd29yayBzaG91bGQgaGF2ZSBjb21wbGV0ZWQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3BXb3JrTG9vcFRpbWVyKGludGVycnVwdGVkQnksIGRpZENvbXBsZXRlUm9vdCk7XG4gICAgICBpbnRlcnJ1cHRlZEJ5ID0gbnVsbDtcbiAgICAgIC8vIFRoZXJlJ3MgbW9yZSB3b3JrIHRvIGRvLCBidXQgd2UgcmFuIG91dCBvZiB0aW1lLiBZaWVsZCBiYWNrIHRvXG4gICAgICAvLyB0aGUgcmVuZGVyZXIuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzY2hlZHVsZUNhcHR1cmUoc291cmNlRmliZXIsIGJvdW5kYXJ5RmliZXIsIHZhbHVlLCBleHBpcmF0aW9uVGltZSkge1xuICAgIC8vIFRPRE86IFdlIG9ubHkgc3VwcG9ydCBkaXNwYXRjaGluZyBlcnJvcnMuXG4gICAgdmFyIGNhcHR1cmVkVmFsdWUgPSBjcmVhdGVDYXB0dXJlZFZhbHVlKHZhbHVlLCBzb3VyY2VGaWJlcik7XG4gICAgdmFyIHVwZGF0ZSA9IHtcbiAgICAgIGV4cGlyYXRpb25UaW1lOiBleHBpcmF0aW9uVGltZSxcbiAgICAgIHBhcnRpYWxTdGF0ZTogbnVsbCxcbiAgICAgIGNhbGxiYWNrOiBudWxsLFxuICAgICAgaXNSZXBsYWNlOiBmYWxzZSxcbiAgICAgIGlzRm9yY2VkOiBmYWxzZSxcbiAgICAgIGNhcHR1cmVkVmFsdWU6IGNhcHR1cmVkVmFsdWUsXG4gICAgICBuZXh0OiBudWxsXG4gICAgfTtcbiAgICBpbnNlcnRVcGRhdGVJbnRvRmliZXIoYm91bmRhcnlGaWJlciwgdXBkYXRlKTtcbiAgICBzY2hlZHVsZVdvcmsoYm91bmRhcnlGaWJlciwgZXhwaXJhdGlvblRpbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGlzcGF0Y2goc291cmNlRmliZXIsIHZhbHVlLCBleHBpcmF0aW9uVGltZSkge1xuICAgICEoIWlzV29ya2luZyB8fCBpc0NvbW1pdHRpbmcpID8gaW52YXJpYW50KGZhbHNlLCAnZGlzcGF0Y2g6IENhbm5vdCBkaXNwYXRjaCBkdXJpbmcgdGhlIHJlbmRlciBwaGFzZS4nKSA6IHZvaWQgMDtcblxuICAgIC8vIFRPRE86IEhhbmRsZSBhcnJheXNcblxuICAgIHZhciBmaWJlciA9IHNvdXJjZUZpYmVyWydyZXR1cm4nXTtcbiAgICB3aGlsZSAoZmliZXIgIT09IG51bGwpIHtcbiAgICAgIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgICAgdmFyIGN0b3IgPSBmaWJlci50eXBlO1xuICAgICAgICAgIHZhciBpbnN0YW5jZSA9IGZpYmVyLnN0YXRlTm9kZTtcbiAgICAgICAgICBpZiAodHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRDYXRjaCA9PT0gJ2Z1bmN0aW9uJyAmJiAhaXNBbHJlYWR5RmFpbGVkTGVnYWN5RXJyb3JCb3VuZGFyeShpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgIHNjaGVkdWxlQ2FwdHVyZShzb3VyY2VGaWJlciwgZmliZXIsIHZhbHVlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyBUT0RPOiBIYW5kbGUgYXN5bmMgYm91bmRhcmllc1xuICAgICAgICBjYXNlIEhvc3RSb290OlxuICAgICAgICAgIHNjaGVkdWxlQ2FwdHVyZShzb3VyY2VGaWJlciwgZmliZXIsIHZhbHVlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZmliZXIgPSBmaWJlclsncmV0dXJuJ107XG4gICAgfVxuXG4gICAgaWYgKHNvdXJjZUZpYmVyLnRhZyA9PT0gSG9zdFJvb3QpIHtcbiAgICAgIC8vIEVycm9yIHdhcyB0aHJvd24gYXQgdGhlIHJvb3QuIFRoZXJlIGlzIG5vIHBhcmVudCwgc28gdGhlIHJvb3RcbiAgICAgIC8vIGl0c2VsZiBzaG91bGQgY2FwdHVyZSBpdC5cbiAgICAgIHNjaGVkdWxlQ2FwdHVyZShzb3VyY2VGaWJlciwgc291cmNlRmliZXIsIHZhbHVlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25Db21taXRQaGFzZUVycm9yKGZpYmVyLCBlcnJvcikge1xuICAgIHJldHVybiBkaXNwYXRjaChmaWJlciwgZXJyb3IsIFN5bmMpO1xuICB9XG5cbiAgZnVuY3Rpb24gY29tcHV0ZUFzeW5jRXhwaXJhdGlvbihjdXJyZW50VGltZSkge1xuICAgIC8vIEdpdmVuIHRoZSBjdXJyZW50IGNsb2NrIHRpbWUsIHJldHVybnMgYW4gZXhwaXJhdGlvbiB0aW1lLiBXZSB1c2Ugcm91bmRpbmdcbiAgICAvLyB0byBiYXRjaCBsaWtlIHVwZGF0ZXMgdG9nZXRoZXIuXG4gICAgLy8gU2hvdWxkIGNvbXBsZXRlIHdpdGhpbiB+MTAwMG1zLiAxMjAwbXMgbWF4LlxuICAgIHZhciBleHBpcmF0aW9uTXMgPSA1MDAwO1xuICAgIHZhciBidWNrZXRTaXplTXMgPSAyNTA7XG4gICAgcmV0dXJuIGNvbXB1dGVFeHBpcmF0aW9uQnVja2V0KGN1cnJlbnRUaW1lLCBleHBpcmF0aW9uTXMsIGJ1Y2tldFNpemVNcyk7XG4gIH1cblxuICBmdW5jdGlvbiBjb21wdXRlSW50ZXJhY3RpdmVFeHBpcmF0aW9uKGN1cnJlbnRUaW1lKSB7XG4gICAgLy8gU2hvdWxkIGNvbXBsZXRlIHdpdGhpbiB+NTAwbXMuIDYwMG1zIG1heC5cbiAgICB2YXIgZXhwaXJhdGlvbk1zID0gNTAwO1xuICAgIHZhciBidWNrZXRTaXplTXMgPSAxMDA7XG4gICAgcmV0dXJuIGNvbXB1dGVFeHBpcmF0aW9uQnVja2V0KGN1cnJlbnRUaW1lLCBleHBpcmF0aW9uTXMsIGJ1Y2tldFNpemVNcyk7XG4gIH1cblxuICAvLyBDcmVhdGVzIGEgdW5pcXVlIGFzeW5jIGV4cGlyYXRpb24gdGltZS5cbiAgZnVuY3Rpb24gY29tcHV0ZVVuaXF1ZUFzeW5jRXhwaXJhdGlvbigpIHtcbiAgICB2YXIgY3VycmVudFRpbWUgPSByZWNhbGN1bGF0ZUN1cnJlbnRUaW1lKCk7XG4gICAgdmFyIHJlc3VsdCA9IGNvbXB1dGVBc3luY0V4cGlyYXRpb24oY3VycmVudFRpbWUpO1xuICAgIGlmIChyZXN1bHQgPD0gbGFzdFVuaXF1ZUFzeW5jRXhwaXJhdGlvbikge1xuICAgICAgLy8gU2luY2Ugd2UgYXNzdW1lIHRoZSBjdXJyZW50IHRpbWUgbW9ub3RvbmljYWxseSBpbmNyZWFzZXMsIHdlIG9ubHkgaGl0XG4gICAgICAvLyB0aGlzIGJyYW5jaCB3aGVuIGNvbXB1dGVVbmlxdWVBc3luY0V4cGlyYXRpb24gaXMgZmlyZWQgbXVsdGlwbGUgdGltZXNcbiAgICAgIC8vIHdpdGhpbiBhIDIwMG1zIHdpbmRvdyAob3Igd2hhdGV2ZXIgdGhlIGFzeW5jIGJ1Y2tldCBzaXplIGlzKS5cbiAgICAgIHJlc3VsdCA9IGxhc3RVbmlxdWVBc3luY0V4cGlyYXRpb24gKyAxO1xuICAgIH1cbiAgICBsYXN0VW5pcXVlQXN5bmNFeHBpcmF0aW9uID0gcmVzdWx0O1xuICAgIHJldHVybiBsYXN0VW5pcXVlQXN5bmNFeHBpcmF0aW9uO1xuICB9XG5cbiAgZnVuY3Rpb24gY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlcihmaWJlcikge1xuICAgIHZhciBleHBpcmF0aW9uVGltZSA9IHZvaWQgMDtcbiAgICBpZiAoZXhwaXJhdGlvbkNvbnRleHQgIT09IE5vV29yaykge1xuICAgICAgLy8gQW4gZXhwbGljaXQgZXhwaXJhdGlvbiBjb250ZXh0IHdhcyBzZXQ7XG4gICAgICBleHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25Db250ZXh0O1xuICAgIH0gZWxzZSBpZiAoaXNXb3JraW5nKSB7XG4gICAgICBpZiAoaXNDb21taXR0aW5nKSB7XG4gICAgICAgIC8vIFVwZGF0ZXMgdGhhdCBvY2N1ciBkdXJpbmcgdGhlIGNvbW1pdCBwaGFzZSBzaG91bGQgaGF2ZSBzeW5jIHByaW9yaXR5XG4gICAgICAgIC8vIGJ5IGRlZmF1bHQuXG4gICAgICAgIGV4cGlyYXRpb25UaW1lID0gU3luYztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFVwZGF0ZXMgZHVyaW5nIHRoZSByZW5kZXIgcGhhc2Ugc2hvdWxkIGV4cGlyZSBhdCB0aGUgc2FtZSB0aW1lIGFzXG4gICAgICAgIC8vIHRoZSB3b3JrIHRoYXQgaXMgYmVpbmcgcmVuZGVyZWQuXG4gICAgICAgIGV4cGlyYXRpb25UaW1lID0gbmV4dFJlbmRlckV4cGlyYXRpb25UaW1lO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBObyBleHBsaWNpdCBleHBpcmF0aW9uIGNvbnRleHQgd2FzIHNldCwgYW5kIHdlJ3JlIG5vdCBjdXJyZW50bHlcbiAgICAgIC8vIHBlcmZvcm1pbmcgd29yay4gQ2FsY3VsYXRlIGEgbmV3IGV4cGlyYXRpb24gdGltZS5cbiAgICAgIGlmIChmaWJlci5tb2RlICYgQXN5bmNNb2RlKSB7XG4gICAgICAgIGlmIChpc0JhdGNoaW5nSW50ZXJhY3RpdmVVcGRhdGVzKSB7XG4gICAgICAgICAgLy8gVGhpcyBpcyBhbiBpbnRlcmFjdGl2ZSB1cGRhdGVcbiAgICAgICAgICB2YXIgY3VycmVudFRpbWUgPSByZWNhbGN1bGF0ZUN1cnJlbnRUaW1lKCk7XG4gICAgICAgICAgZXhwaXJhdGlvblRpbWUgPSBjb21wdXRlSW50ZXJhY3RpdmVFeHBpcmF0aW9uKGN1cnJlbnRUaW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBUaGlzIGlzIGFuIGFzeW5jIHVwZGF0ZVxuICAgICAgICAgIHZhciBfY3VycmVudFRpbWUgPSByZWNhbGN1bGF0ZUN1cnJlbnRUaW1lKCk7XG4gICAgICAgICAgZXhwaXJhdGlvblRpbWUgPSBjb21wdXRlQXN5bmNFeHBpcmF0aW9uKF9jdXJyZW50VGltZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRoaXMgaXMgYSBzeW5jIHVwZGF0ZVxuICAgICAgICBleHBpcmF0aW9uVGltZSA9IFN5bmM7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc0JhdGNoaW5nSW50ZXJhY3RpdmVVcGRhdGVzKSB7XG4gICAgICAvLyBUaGlzIGlzIGFuIGludGVyYWN0aXZlIHVwZGF0ZS4gS2VlcCB0cmFjayBvZiB0aGUgbG93ZXN0IHBlbmRpbmdcbiAgICAgIC8vIGludGVyYWN0aXZlIGV4cGlyYXRpb24gdGltZS4gVGhpcyBhbGxvd3MgdXMgdG8gc3luY2hyb25vdXNseSBmbHVzaFxuICAgICAgLy8gYWxsIGludGVyYWN0aXZlIHVwZGF0ZXMgd2hlbiBuZWVkZWQuXG4gICAgICBpZiAobG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWUgPT09IE5vV29yayB8fCBleHBpcmF0aW9uVGltZSA+IGxvd2VzdFBlbmRpbmdJbnRlcmFjdGl2ZUV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgIGxvd2VzdFBlbmRpbmdJbnRlcmFjdGl2ZUV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBleHBpcmF0aW9uVGltZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNjaGVkdWxlV29yayhmaWJlciwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICByZXR1cm4gc2NoZWR1bGVXb3JrSW1wbChmaWJlciwgZXhwaXJhdGlvblRpbWUsIGZhbHNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNjaGVkdWxlV29ya0ltcGwoZmliZXIsIGV4cGlyYXRpb25UaW1lLCBpc0Vycm9yUmVjb3ZlcnkpIHtcbiAgICByZWNvcmRTY2hlZHVsZVVwZGF0ZSgpO1xuXG4gICAge1xuICAgICAgaWYgKCFpc0Vycm9yUmVjb3ZlcnkgJiYgZmliZXIudGFnID09PSBDbGFzc0NvbXBvbmVudCkge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBmaWJlci5zdGF0ZU5vZGU7XG4gICAgICAgIHdhcm5BYm91dEludmFsaWRVcGRhdGVzKGluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbm9kZSA9IGZpYmVyO1xuICAgIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgICAvLyBXYWxrIHRoZSBwYXJlbnQgcGF0aCB0byB0aGUgcm9vdCBhbmQgdXBkYXRlIGVhY2ggbm9kZSdzXG4gICAgICAvLyBleHBpcmF0aW9uIHRpbWUuXG4gICAgICBpZiAobm9kZS5leHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8IG5vZGUuZXhwaXJhdGlvblRpbWUgPiBleHBpcmF0aW9uVGltZSkge1xuICAgICAgICBub2RlLmV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5hbHRlcm5hdGUgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKG5vZGUuYWx0ZXJuYXRlLmV4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHwgbm9kZS5hbHRlcm5hdGUuZXhwaXJhdGlvblRpbWUgPiBleHBpcmF0aW9uVGltZSkge1xuICAgICAgICAgIG5vZGUuYWx0ZXJuYXRlLmV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChub2RlWydyZXR1cm4nXSA9PT0gbnVsbCkge1xuICAgICAgICBpZiAobm9kZS50YWcgPT09IEhvc3RSb290KSB7XG4gICAgICAgICAgdmFyIHJvb3QgPSBub2RlLnN0YXRlTm9kZTtcbiAgICAgICAgICBpZiAoIWlzV29ya2luZyAmJiBuZXh0UmVuZGVyRXhwaXJhdGlvblRpbWUgIT09IE5vV29yayAmJiBleHBpcmF0aW9uVGltZSA8IG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBhbiBpbnRlcnJ1cHRpb24uIChVc2VkIGZvciBwZXJmb3JtYW5jZSB0cmFja2luZy4pXG4gICAgICAgICAgICBpbnRlcnJ1cHRlZEJ5ID0gZmliZXI7XG4gICAgICAgICAgICByZXNldFN0YWNrKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAvLyBJZiB3ZSdyZSBpbiB0aGUgcmVuZGVyIHBoYXNlLCB3ZSBkb24ndCBuZWVkIHRvIHNjaGVkdWxlIHRoaXMgcm9vdFxuICAgICAgICAgIC8vIGZvciBhbiB1cGRhdGUsIGJlY2F1c2Ugd2UnbGwgZG8gaXQgYmVmb3JlIHdlIGV4aXQuLi5cbiAgICAgICAgICAhaXNXb3JraW5nIHx8IGlzQ29tbWl0dGluZyB8fFxuICAgICAgICAgIC8vIC4uLnVubGVzcyB0aGlzIGlzIGEgZGlmZmVyZW50IHJvb3QgdGhhbiB0aGUgb25lIHdlJ3JlIHJlbmRlcmluZy5cbiAgICAgICAgICBuZXh0Um9vdCAhPT0gcm9vdCkge1xuICAgICAgICAgICAgLy8gQWRkIHRoaXMgcm9vdCB0byB0aGUgcm9vdCBzY2hlZHVsZS5cbiAgICAgICAgICAgIHJlcXVlc3RXb3JrKHJvb3QsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5lc3RlZFVwZGF0ZUNvdW50ID4gTkVTVEVEX1VQREFURV9MSU1JVCkge1xuICAgICAgICAgICAgaW52YXJpYW50KGZhbHNlLCAnTWF4aW11bSB1cGRhdGUgZGVwdGggZXhjZWVkZWQuIFRoaXMgY2FuIGhhcHBlbiB3aGVuIGEgY29tcG9uZW50IHJlcGVhdGVkbHkgY2FsbHMgc2V0U3RhdGUgaW5zaWRlIGNvbXBvbmVudFdpbGxVcGRhdGUgb3IgY29tcG9uZW50RGlkVXBkYXRlLiBSZWFjdCBsaW1pdHMgdGhlIG51bWJlciBvZiBuZXN0ZWQgdXBkYXRlcyB0byBwcmV2ZW50IGluZmluaXRlIGxvb3BzLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWlzRXJyb3JSZWNvdmVyeSAmJiBmaWJlci50YWcgPT09IENsYXNzQ29tcG9uZW50KSB7XG4gICAgICAgICAgICAgIHdhcm5BYm91dFVwZGF0ZU9uVW5tb3VudGVkKGZpYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBub2RlID0gbm9kZVsncmV0dXJuJ107XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVjYWxjdWxhdGVDdXJyZW50VGltZSgpIHtcbiAgICAvLyBTdWJ0cmFjdCBpbml0aWFsIHRpbWUgc28gaXQgZml0cyBpbnNpZGUgMzJiaXRzXG4gICAgbW9zdFJlY2VudEN1cnJlbnRUaW1lTXMgPSBub3coKSAtIG9yaWdpbmFsU3RhcnRUaW1lTXM7XG4gICAgbW9zdFJlY2VudEN1cnJlbnRUaW1lID0gbXNUb0V4cGlyYXRpb25UaW1lKG1vc3RSZWNlbnRDdXJyZW50VGltZU1zKTtcbiAgICByZXR1cm4gbW9zdFJlY2VudEN1cnJlbnRUaW1lO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVmZXJyZWRVcGRhdGVzKGZuKSB7XG4gICAgdmFyIHByZXZpb3VzRXhwaXJhdGlvbkNvbnRleHQgPSBleHBpcmF0aW9uQ29udGV4dDtcbiAgICB2YXIgY3VycmVudFRpbWUgPSByZWNhbGN1bGF0ZUN1cnJlbnRUaW1lKCk7XG4gICAgZXhwaXJhdGlvbkNvbnRleHQgPSBjb21wdXRlQXN5bmNFeHBpcmF0aW9uKGN1cnJlbnRUaW1lKTtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZuKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGV4cGlyYXRpb25Db250ZXh0ID0gcHJldmlvdXNFeHBpcmF0aW9uQ29udGV4dDtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gc3luY1VwZGF0ZXMoZm4sIGEsIGIsIGMsIGQpIHtcbiAgICB2YXIgcHJldmlvdXNFeHBpcmF0aW9uQ29udGV4dCA9IGV4cGlyYXRpb25Db250ZXh0O1xuICAgIGV4cGlyYXRpb25Db250ZXh0ID0gU3luYztcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZuKGEsIGIsIGMsIGQpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBleHBpcmF0aW9uQ29udGV4dCA9IHByZXZpb3VzRXhwaXJhdGlvbkNvbnRleHQ7XG4gICAgfVxuICB9XG5cbiAgLy8gVE9ETzogRXZlcnl0aGluZyBiZWxvdyB0aGlzIGlzIHdyaXR0ZW4gYXMgaWYgaXQgaGFzIGJlZW4gbGlmdGVkIHRvIHRoZVxuICAvLyByZW5kZXJlcnMuIEknbGwgZG8gdGhpcyBpbiBhIGZvbGxvdy11cC5cblxuICAvLyBMaW5rZWQtbGlzdCBvZiByb290c1xuICB2YXIgZmlyc3RTY2hlZHVsZWRSb290ID0gbnVsbDtcbiAgdmFyIGxhc3RTY2hlZHVsZWRSb290ID0gbnVsbDtcblxuICB2YXIgY2FsbGJhY2tFeHBpcmF0aW9uVGltZSA9IE5vV29yaztcbiAgdmFyIGNhbGxiYWNrSUQgPSAtMTtcbiAgdmFyIGlzUmVuZGVyaW5nID0gZmFsc2U7XG4gIHZhciBuZXh0Rmx1c2hlZFJvb3QgPSBudWxsO1xuICB2YXIgbmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSA9IE5vV29yaztcbiAgdmFyIGxvd2VzdFBlbmRpbmdJbnRlcmFjdGl2ZUV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICB2YXIgZGVhZGxpbmVEaWRFeHBpcmUgPSBmYWxzZTtcbiAgdmFyIGhhc1VuaGFuZGxlZEVycm9yID0gZmFsc2U7XG4gIHZhciB1bmhhbmRsZWRFcnJvciA9IG51bGw7XG4gIHZhciBkZWFkbGluZSA9IG51bGw7XG5cbiAgdmFyIGlzQmF0Y2hpbmdVcGRhdGVzID0gZmFsc2U7XG4gIHZhciBpc1VuYmF0Y2hpbmdVcGRhdGVzID0gZmFsc2U7XG4gIHZhciBpc0JhdGNoaW5nSW50ZXJhY3RpdmVVcGRhdGVzID0gZmFsc2U7XG5cbiAgdmFyIGNvbXBsZXRlZEJhdGNoZXMgPSBudWxsO1xuXG4gIC8vIFVzZSB0aGVzZSB0byBwcmV2ZW50IGFuIGluZmluaXRlIGxvb3Agb2YgbmVzdGVkIHVwZGF0ZXNcbiAgdmFyIE5FU1RFRF9VUERBVEVfTElNSVQgPSAxMDAwO1xuICB2YXIgbmVzdGVkVXBkYXRlQ291bnQgPSAwO1xuXG4gIHZhciB0aW1lSGV1cmlzdGljRm9yVW5pdE9mV29yayA9IDE7XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGVDYWxsYmFja1dpdGhFeHBpcmF0aW9uKGV4cGlyYXRpb25UaW1lKSB7XG4gICAgaWYgKGNhbGxiYWNrRXhwaXJhdGlvblRpbWUgIT09IE5vV29yaykge1xuICAgICAgLy8gQSBjYWxsYmFjayBpcyBhbHJlYWR5IHNjaGVkdWxlZC4gQ2hlY2sgaXRzIGV4cGlyYXRpb24gdGltZSAodGltZW91dCkuXG4gICAgICBpZiAoZXhwaXJhdGlvblRpbWUgPiBjYWxsYmFja0V4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgIC8vIEV4aXN0aW5nIGNhbGxiYWNrIGhhcyBzdWZmaWNpZW50IHRpbWVvdXQuIEV4aXQuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEV4aXN0aW5nIGNhbGxiYWNrIGhhcyBpbnN1ZmZpY2llbnQgdGltZW91dC4gQ2FuY2VsIGFuZCBzY2hlZHVsZSBhXG4gICAgICAgIC8vIG5ldyBvbmUuXG4gICAgICAgIGNhbmNlbERlZmVycmVkQ2FsbGJhY2soY2FsbGJhY2tJRCk7XG4gICAgICB9XG4gICAgICAvLyBUaGUgcmVxdWVzdCBjYWxsYmFjayB0aW1lciBpcyBhbHJlYWR5IHJ1bm5pbmcuIERvbid0IHN0YXJ0IGEgbmV3IG9uZS5cbiAgICB9IGVsc2Uge1xuICAgICAgc3RhcnRSZXF1ZXN0Q2FsbGJhY2tUaW1lcigpO1xuICAgIH1cblxuICAgIC8vIENvbXB1dGUgYSB0aW1lb3V0IGZvciB0aGUgZ2l2ZW4gZXhwaXJhdGlvbiB0aW1lLlxuICAgIHZhciBjdXJyZW50TXMgPSBub3coKSAtIG9yaWdpbmFsU3RhcnRUaW1lTXM7XG4gICAgdmFyIGV4cGlyYXRpb25NcyA9IGV4cGlyYXRpb25UaW1lVG9NcyhleHBpcmF0aW9uVGltZSk7XG4gICAgdmFyIHRpbWVvdXQgPSBleHBpcmF0aW9uTXMgLSBjdXJyZW50TXM7XG5cbiAgICBjYWxsYmFja0V4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gICAgY2FsbGJhY2tJRCA9IHNjaGVkdWxlRGVmZXJyZWRDYWxsYmFjayhwZXJmb3JtQXN5bmNXb3JrLCB7IHRpbWVvdXQ6IHRpbWVvdXQgfSk7XG4gIH1cblxuICAvLyByZXF1ZXN0V29yayBpcyBjYWxsZWQgYnkgdGhlIHNjaGVkdWxlciB3aGVuZXZlciBhIHJvb3QgcmVjZWl2ZXMgYW4gdXBkYXRlLlxuICAvLyBJdCdzIHVwIHRvIHRoZSByZW5kZXJlciB0byBjYWxsIHJlbmRlclJvb3QgYXQgc29tZSBwb2ludCBpbiB0aGUgZnV0dXJlLlxuICBmdW5jdGlvbiByZXF1ZXN0V29yayhyb290LCBleHBpcmF0aW9uVGltZSkge1xuICAgIGFkZFJvb3RUb1NjaGVkdWxlKHJvb3QsIGV4cGlyYXRpb25UaW1lKTtcblxuICAgIGlmIChpc1JlbmRlcmluZykge1xuICAgICAgLy8gUHJldmVudCByZWVudHJhbmN5LiBSZW1haW5pbmcgd29yayB3aWxsIGJlIHNjaGVkdWxlZCBhdCB0aGUgZW5kIG9mXG4gICAgICAvLyB0aGUgY3VycmVudGx5IHJlbmRlcmluZyBiYXRjaC5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNCYXRjaGluZ1VwZGF0ZXMpIHtcbiAgICAgIC8vIEZsdXNoIHdvcmsgYXQgdGhlIGVuZCBvZiB0aGUgYmF0Y2guXG4gICAgICBpZiAoaXNVbmJhdGNoaW5nVXBkYXRlcykge1xuICAgICAgICAvLyAuLi51bmxlc3Mgd2UncmUgaW5zaWRlIHVuYmF0Y2hlZFVwZGF0ZXMsIGluIHdoaWNoIGNhc2Ugd2Ugc2hvdWxkXG4gICAgICAgIC8vIGZsdXNoIGl0IG5vdy5cbiAgICAgICAgbmV4dEZsdXNoZWRSb290ID0gcm9vdDtcbiAgICAgICAgbmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSA9IFN5bmM7XG4gICAgICAgIHBlcmZvcm1Xb3JrT25Sb290KHJvb3QsIFN5bmMsIGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBHZXQgcmlkIG9mIFN5bmMgYW5kIHVzZSBjdXJyZW50IHRpbWU/XG4gICAgaWYgKGV4cGlyYXRpb25UaW1lID09PSBTeW5jKSB7XG4gICAgICBwZXJmb3JtU3luY1dvcmsoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2NoZWR1bGVDYWxsYmFja1dpdGhFeHBpcmF0aW9uKGV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhZGRSb290VG9TY2hlZHVsZShyb290LCBleHBpcmF0aW9uVGltZSkge1xuICAgIC8vIEFkZCB0aGUgcm9vdCB0byB0aGUgc2NoZWR1bGUuXG4gICAgLy8gQ2hlY2sgaWYgdGhpcyByb290IGlzIGFscmVhZHkgcGFydCBvZiB0aGUgc2NoZWR1bGUuXG4gICAgaWYgKHJvb3QubmV4dFNjaGVkdWxlZFJvb3QgPT09IG51bGwpIHtcbiAgICAgIC8vIFRoaXMgcm9vdCBpcyBub3QgYWxyZWFkeSBzY2hlZHVsZWQuIEFkZCBpdC5cbiAgICAgIHJvb3QucmVtYWluaW5nRXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgICAgIGlmIChsYXN0U2NoZWR1bGVkUm9vdCA9PT0gbnVsbCkge1xuICAgICAgICBmaXJzdFNjaGVkdWxlZFJvb3QgPSBsYXN0U2NoZWR1bGVkUm9vdCA9IHJvb3Q7XG4gICAgICAgIHJvb3QubmV4dFNjaGVkdWxlZFJvb3QgPSByb290O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGFzdFNjaGVkdWxlZFJvb3QubmV4dFNjaGVkdWxlZFJvb3QgPSByb290O1xuICAgICAgICBsYXN0U2NoZWR1bGVkUm9vdCA9IHJvb3Q7XG4gICAgICAgIGxhc3RTY2hlZHVsZWRSb290Lm5leHRTY2hlZHVsZWRSb290ID0gZmlyc3RTY2hlZHVsZWRSb290O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGlzIHJvb3QgaXMgYWxyZWFkeSBzY2hlZHVsZWQsIGJ1dCBpdHMgcHJpb3JpdHkgbWF5IGhhdmUgaW5jcmVhc2VkLlxuICAgICAgdmFyIHJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID0gcm9vdC5yZW1haW5pbmdFeHBpcmF0aW9uVGltZTtcbiAgICAgIGlmIChyZW1haW5pbmdFeHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8IGV4cGlyYXRpb25UaW1lIDwgcmVtYWluaW5nRXhwaXJhdGlvblRpbWUpIHtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBwcmlvcml0eS5cbiAgICAgICAgcm9vdC5yZW1haW5pbmdFeHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmRIaWdoZXN0UHJpb3JpdHlSb290KCkge1xuICAgIHZhciBoaWdoZXN0UHJpb3JpdHlXb3JrID0gTm9Xb3JrO1xuICAgIHZhciBoaWdoZXN0UHJpb3JpdHlSb290ID0gbnVsbDtcbiAgICBpZiAobGFzdFNjaGVkdWxlZFJvb3QgIT09IG51bGwpIHtcbiAgICAgIHZhciBwcmV2aW91c1NjaGVkdWxlZFJvb3QgPSBsYXN0U2NoZWR1bGVkUm9vdDtcbiAgICAgIHZhciByb290ID0gZmlyc3RTY2hlZHVsZWRSb290O1xuICAgICAgd2hpbGUgKHJvb3QgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIHJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID0gcm9vdC5yZW1haW5pbmdFeHBpcmF0aW9uVGltZTtcbiAgICAgICAgaWYgKHJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID09PSBOb1dvcmspIHtcbiAgICAgICAgICAvLyBUaGlzIHJvb3Qgbm8gbG9uZ2VyIGhhcyB3b3JrLiBSZW1vdmUgaXQgZnJvbSB0aGUgc2NoZWR1bGVyLlxuXG4gICAgICAgICAgLy8gVE9ETzogVGhpcyBjaGVjayBpcyByZWR1ZGFudCwgYnV0IEZsb3cgaXMgY29uZnVzZWQgYnkgdGhlIGJyYW5jaFxuICAgICAgICAgIC8vIGJlbG93IHdoZXJlIHdlIHNldCBsYXN0U2NoZWR1bGVkUm9vdCB0byBudWxsLCBldmVuIHRob3VnaCB3ZSBicmVha1xuICAgICAgICAgIC8vIGZyb20gdGhlIGxvb3AgcmlnaHQgYWZ0ZXIuXG4gICAgICAgICAgIShwcmV2aW91c1NjaGVkdWxlZFJvb3QgIT09IG51bGwgJiYgbGFzdFNjaGVkdWxlZFJvb3QgIT09IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnU2hvdWxkIGhhdmUgYSBwcmV2aW91cyBhbmQgbGFzdCByb290LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuICAgICAgICAgIGlmIChyb290ID09PSByb290Lm5leHRTY2hlZHVsZWRSb290KSB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBvbmx5IHJvb3QgaW4gdGhlIGxpc3QuXG4gICAgICAgICAgICByb290Lm5leHRTY2hlZHVsZWRSb290ID0gbnVsbDtcbiAgICAgICAgICAgIGZpcnN0U2NoZWR1bGVkUm9vdCA9IGxhc3RTY2hlZHVsZWRSb290ID0gbnVsbDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH0gZWxzZSBpZiAocm9vdCA9PT0gZmlyc3RTY2hlZHVsZWRSb290KSB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBmaXJzdCByb290IGluIHRoZSBsaXN0LlxuICAgICAgICAgICAgdmFyIG5leHQgPSByb290Lm5leHRTY2hlZHVsZWRSb290O1xuICAgICAgICAgICAgZmlyc3RTY2hlZHVsZWRSb290ID0gbmV4dDtcbiAgICAgICAgICAgIGxhc3RTY2hlZHVsZWRSb290Lm5leHRTY2hlZHVsZWRSb290ID0gbmV4dDtcbiAgICAgICAgICAgIHJvb3QubmV4dFNjaGVkdWxlZFJvb3QgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSBpZiAocm9vdCA9PT0gbGFzdFNjaGVkdWxlZFJvb3QpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGxhc3Qgcm9vdCBpbiB0aGUgbGlzdC5cbiAgICAgICAgICAgIGxhc3RTY2hlZHVsZWRSb290ID0gcHJldmlvdXNTY2hlZHVsZWRSb290O1xuICAgICAgICAgICAgbGFzdFNjaGVkdWxlZFJvb3QubmV4dFNjaGVkdWxlZFJvb3QgPSBmaXJzdFNjaGVkdWxlZFJvb3Q7XG4gICAgICAgICAgICByb290Lm5leHRTY2hlZHVsZWRSb290ID0gbnVsbDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcmV2aW91c1NjaGVkdWxlZFJvb3QubmV4dFNjaGVkdWxlZFJvb3QgPSByb290Lm5leHRTY2hlZHVsZWRSb290O1xuICAgICAgICAgICAgcm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJvb3QgPSBwcmV2aW91c1NjaGVkdWxlZFJvb3QubmV4dFNjaGVkdWxlZFJvb3Q7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGhpZ2hlc3RQcmlvcml0eVdvcmsgPT09IE5vV29yayB8fCByZW1haW5pbmdFeHBpcmF0aW9uVGltZSA8IGhpZ2hlc3RQcmlvcml0eVdvcmspIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgcHJpb3JpdHksIGlmIGl0J3MgaGlnaGVyXG4gICAgICAgICAgICBoaWdoZXN0UHJpb3JpdHlXb3JrID0gcmVtYWluaW5nRXhwaXJhdGlvblRpbWU7XG4gICAgICAgICAgICBoaWdoZXN0UHJpb3JpdHlSb290ID0gcm9vdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJvb3QgPT09IGxhc3RTY2hlZHVsZWRSb290KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJldmlvdXNTY2hlZHVsZWRSb290ID0gcm9vdDtcbiAgICAgICAgICByb290ID0gcm9vdC5uZXh0U2NoZWR1bGVkUm9vdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHRoZSBuZXh0IHJvb3QgaXMgdGhlIHNhbWUgYXMgdGhlIHByZXZpb3VzIHJvb3QsIHRoaXMgaXMgYSBuZXN0ZWRcbiAgICAvLyB1cGRhdGUuIFRvIHByZXZlbnQgYW4gaW5maW5pdGUgbG9vcCwgaW5jcmVtZW50IHRoZSBuZXN0ZWQgdXBkYXRlIGNvdW50LlxuICAgIHZhciBwcmV2aW91c0ZsdXNoZWRSb290ID0gbmV4dEZsdXNoZWRSb290O1xuICAgIGlmIChwcmV2aW91c0ZsdXNoZWRSb290ICE9PSBudWxsICYmIHByZXZpb3VzRmx1c2hlZFJvb3QgPT09IGhpZ2hlc3RQcmlvcml0eVJvb3QgJiYgaGlnaGVzdFByaW9yaXR5V29yayA9PT0gU3luYykge1xuICAgICAgbmVzdGVkVXBkYXRlQ291bnQrKztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmVzZXQgd2hlbmV2ZXIgd2Ugc3dpdGNoIHJvb3RzLlxuICAgICAgbmVzdGVkVXBkYXRlQ291bnQgPSAwO1xuICAgIH1cbiAgICBuZXh0Rmx1c2hlZFJvb3QgPSBoaWdoZXN0UHJpb3JpdHlSb290O1xuICAgIG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUgPSBoaWdoZXN0UHJpb3JpdHlXb3JrO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVyZm9ybUFzeW5jV29yayhkbCkge1xuICAgIHBlcmZvcm1Xb3JrKE5vV29yaywgdHJ1ZSwgZGwpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVyZm9ybVN5bmNXb3JrKCkge1xuICAgIHBlcmZvcm1Xb3JrKFN5bmMsIGZhbHNlLCBudWxsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlcmZvcm1Xb3JrKG1pbkV4cGlyYXRpb25UaW1lLCBpc0FzeW5jLCBkbCkge1xuICAgIGRlYWRsaW5lID0gZGw7XG5cbiAgICAvLyBLZWVwIHdvcmtpbmcgb24gcm9vdHMgdW50aWwgdGhlcmUncyBubyBtb3JlIHdvcmssIG9yIHVudGlsIHRoZSB3ZSByZWFjaFxuICAgIC8vIHRoZSBkZWFkbGluZS5cbiAgICBmaW5kSGlnaGVzdFByaW9yaXR5Um9vdCgpO1xuXG4gICAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkgJiYgZGVhZGxpbmUgIT09IG51bGwpIHtcbiAgICAgIHZhciBkaWRFeHBpcmUgPSBuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lIDwgcmVjYWxjdWxhdGVDdXJyZW50VGltZSgpO1xuICAgICAgdmFyIHRpbWVvdXQgPSBleHBpcmF0aW9uVGltZVRvTXMobmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSk7XG4gICAgICBzdG9wUmVxdWVzdENhbGxiYWNrVGltZXIoZGlkRXhwaXJlLCB0aW1lb3V0KTtcbiAgICB9XG5cbiAgICBpZiAoaXNBc3luYykge1xuICAgICAgd2hpbGUgKG5leHRGbHVzaGVkUm9vdCAhPT0gbnVsbCAmJiBuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lICE9PSBOb1dvcmsgJiYgKG1pbkV4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHwgbWluRXhwaXJhdGlvblRpbWUgPj0gbmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSkgJiYgKCFkZWFkbGluZURpZEV4cGlyZSB8fCByZWNhbGN1bGF0ZUN1cnJlbnRUaW1lKCkgPj0gbmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSkpIHtcbiAgICAgICAgcGVyZm9ybVdvcmtPblJvb3QobmV4dEZsdXNoZWRSb290LCBuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lLCAhZGVhZGxpbmVEaWRFeHBpcmUpO1xuICAgICAgICBmaW5kSGlnaGVzdFByaW9yaXR5Um9vdCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB3aGlsZSAobmV4dEZsdXNoZWRSb290ICE9PSBudWxsICYmIG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUgIT09IE5vV29yayAmJiAobWluRXhwaXJhdGlvblRpbWUgPT09IE5vV29yayB8fCBtaW5FeHBpcmF0aW9uVGltZSA+PSBuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lKSkge1xuICAgICAgICBwZXJmb3JtV29ya09uUm9vdChuZXh0Rmx1c2hlZFJvb3QsIG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUsIGZhbHNlKTtcbiAgICAgICAgZmluZEhpZ2hlc3RQcmlvcml0eVJvb3QoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBXZSdyZSBkb25lIGZsdXNoaW5nIHdvcmsuIEVpdGhlciB3ZSByYW4gb3V0IG9mIHRpbWUgaW4gdGhpcyBjYWxsYmFjayxcbiAgICAvLyBvciB0aGVyZSdzIG5vIG1vcmUgd29yayBsZWZ0IHdpdGggc3VmZmljaWVudCBwcmlvcml0eS5cblxuICAgIC8vIElmIHdlJ3JlIGluc2lkZSBhIGNhbGxiYWNrLCBzZXQgdGhpcyB0byBmYWxzZSBzaW5jZSB3ZSBqdXN0IGNvbXBsZXRlZCBpdC5cbiAgICBpZiAoZGVhZGxpbmUgIT09IG51bGwpIHtcbiAgICAgIGNhbGxiYWNrRXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG4gICAgICBjYWxsYmFja0lEID0gLTE7XG4gICAgfVxuICAgIC8vIElmIHRoZXJlJ3Mgd29yayBsZWZ0IG92ZXIsIHNjaGVkdWxlIGEgbmV3IGNhbGxiYWNrLlxuICAgIGlmIChuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lICE9PSBOb1dvcmspIHtcbiAgICAgIHNjaGVkdWxlQ2FsbGJhY2tXaXRoRXhwaXJhdGlvbihuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG5cbiAgICAvLyBDbGVhbi11cC5cbiAgICBkZWFkbGluZSA9IG51bGw7XG4gICAgZGVhZGxpbmVEaWRFeHBpcmUgPSBmYWxzZTtcblxuICAgIGZpbmlzaFJlbmRlcmluZygpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmx1c2hSb290KHJvb3QsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgISFpc1JlbmRlcmluZyA/IGludmFyaWFudChmYWxzZSwgJ3dvcmsuY29tbWl0KCk6IENhbm5vdCBjb21taXQgd2hpbGUgYWxyZWFkeSByZW5kZXJpbmcuIFRoaXMgbGlrZWx5IG1lYW5zIHlvdSBhdHRlbXB0ZWQgdG8gY29tbWl0IGZyb20gaW5zaWRlIGEgbGlmZWN5Y2xlIG1ldGhvZC4nKSA6IHZvaWQgMDtcbiAgICAvLyBQZXJmb3JtIHdvcmsgb24gcm9vdCBhcyBpZiB0aGUgZ2l2ZW4gZXhwaXJhdGlvbiB0aW1lIGlzIHRoZSBjdXJyZW50IHRpbWUuXG4gICAgLy8gVGhpcyBoYXMgdGhlIGVmZmVjdCBvZiBzeW5jaHJvbm91c2x5IGZsdXNoaW5nIGFsbCB3b3JrIHVwIHRvIGFuZFxuICAgIC8vIGluY2x1ZGluZyB0aGUgZ2l2ZW4gdGltZS5cbiAgICBuZXh0Rmx1c2hlZFJvb3QgPSByb290O1xuICAgIG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgICBwZXJmb3JtV29ya09uUm9vdChyb290LCBleHBpcmF0aW9uVGltZSwgZmFsc2UpO1xuICAgIC8vIEZsdXNoIGFueSBzeW5jIHdvcmsgdGhhdCB3YXMgc2NoZWR1bGVkIGJ5IGxpZmVjeWNsZXNcbiAgICBwZXJmb3JtU3luY1dvcmsoKTtcbiAgICBmaW5pc2hSZW5kZXJpbmcoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaFJlbmRlcmluZygpIHtcbiAgICBuZXN0ZWRVcGRhdGVDb3VudCA9IDA7XG5cbiAgICBpZiAoY29tcGxldGVkQmF0Y2hlcyAhPT0gbnVsbCkge1xuICAgICAgdmFyIGJhdGNoZXMgPSBjb21wbGV0ZWRCYXRjaGVzO1xuICAgICAgY29tcGxldGVkQmF0Y2hlcyA9IG51bGw7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJhdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGJhdGNoID0gYmF0Y2hlc1tpXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBiYXRjaC5fb25Db21wbGV0ZSgpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGlmICghaGFzVW5oYW5kbGVkRXJyb3IpIHtcbiAgICAgICAgICAgIGhhc1VuaGFuZGxlZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIHVuaGFuZGxlZEVycm9yID0gZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGhhc1VuaGFuZGxlZEVycm9yKSB7XG4gICAgICB2YXIgZXJyb3IgPSB1bmhhbmRsZWRFcnJvcjtcbiAgICAgIHVuaGFuZGxlZEVycm9yID0gbnVsbDtcbiAgICAgIGhhc1VuaGFuZGxlZEVycm9yID0gZmFsc2U7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwZXJmb3JtV29ya09uUm9vdChyb290LCBleHBpcmF0aW9uVGltZSwgaXNBc3luYykge1xuICAgICEhaXNSZW5kZXJpbmcgPyBpbnZhcmlhbnQoZmFsc2UsICdwZXJmb3JtV29ya09uUm9vdCB3YXMgY2FsbGVkIHJlY3Vyc2l2ZWx5LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpIDogdm9pZCAwO1xuXG4gICAgaXNSZW5kZXJpbmcgPSB0cnVlO1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBhc3luYyB3b3JrIG9yIHN5bmMvZXhwaXJlZCB3b3JrLlxuICAgIGlmICghaXNBc3luYykge1xuICAgICAgLy8gRmx1c2ggc3luYyB3b3JrLlxuICAgICAgdmFyIGZpbmlzaGVkV29yayA9IHJvb3QuZmluaXNoZWRXb3JrO1xuICAgICAgaWYgKGZpbmlzaGVkV29yayAhPT0gbnVsbCkge1xuICAgICAgICAvLyBUaGlzIHJvb3QgaXMgYWxyZWFkeSBjb21wbGV0ZS4gV2UgY2FuIGNvbW1pdCBpdC5cbiAgICAgICAgY29tcGxldGVSb290KHJvb3QsIGZpbmlzaGVkV29yaywgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm9vdC5maW5pc2hlZFdvcmsgPSBudWxsO1xuICAgICAgICBmaW5pc2hlZFdvcmsgPSByZW5kZXJSb290KHJvb3QsIGV4cGlyYXRpb25UaW1lLCBmYWxzZSk7XG4gICAgICAgIGlmIChmaW5pc2hlZFdvcmsgIT09IG51bGwpIHtcbiAgICAgICAgICAvLyBXZSd2ZSBjb21wbGV0ZWQgdGhlIHJvb3QuIENvbW1pdCBpdC5cbiAgICAgICAgICBjb21wbGV0ZVJvb3Qocm9vdCwgZmluaXNoZWRXb3JrLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRmx1c2ggYXN5bmMgd29yay5cbiAgICAgIHZhciBfZmluaXNoZWRXb3JrID0gcm9vdC5maW5pc2hlZFdvcms7XG4gICAgICBpZiAoX2ZpbmlzaGVkV29yayAhPT0gbnVsbCkge1xuICAgICAgICAvLyBUaGlzIHJvb3QgaXMgYWxyZWFkeSBjb21wbGV0ZS4gV2UgY2FuIGNvbW1pdCBpdC5cbiAgICAgICAgY29tcGxldGVSb290KHJvb3QsIF9maW5pc2hlZFdvcmssIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJvb3QuZmluaXNoZWRXb3JrID0gbnVsbDtcbiAgICAgICAgX2ZpbmlzaGVkV29yayA9IHJlbmRlclJvb3Qocm9vdCwgZXhwaXJhdGlvblRpbWUsIHRydWUpO1xuICAgICAgICBpZiAoX2ZpbmlzaGVkV29yayAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIFdlJ3ZlIGNvbXBsZXRlZCB0aGUgcm9vdC4gQ2hlY2sgdGhlIGRlYWRsaW5lIG9uZSBtb3JlIHRpbWVcbiAgICAgICAgICAvLyBiZWZvcmUgY29tbWl0dGluZy5cbiAgICAgICAgICBpZiAoIXNob3VsZFlpZWxkKCkpIHtcbiAgICAgICAgICAgIC8vIFN0aWxsIHRpbWUgbGVmdC4gQ29tbWl0IHRoZSByb290LlxuICAgICAgICAgICAgY29tcGxldGVSb290KHJvb3QsIF9maW5pc2hlZFdvcmssIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVGhlcmUncyBubyB0aW1lIGxlZnQuIE1hcmsgdGhpcyByb290IGFzIGNvbXBsZXRlLiBXZSdsbCBjb21lXG4gICAgICAgICAgICAvLyBiYWNrIGFuZCBjb21taXQgaXQgbGF0ZXIuXG4gICAgICAgICAgICByb290LmZpbmlzaGVkV29yayA9IF9maW5pc2hlZFdvcms7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaXNSZW5kZXJpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXBsZXRlUm9vdChyb290LCBmaW5pc2hlZFdvcmssIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgLy8gQ2hlY2sgaWYgdGhlcmUncyBhIGJhdGNoIHRoYXQgbWF0Y2hlcyB0aGlzIGV4cGlyYXRpb24gdGltZS5cbiAgICB2YXIgZmlyc3RCYXRjaCA9IHJvb3QuZmlyc3RCYXRjaDtcbiAgICBpZiAoZmlyc3RCYXRjaCAhPT0gbnVsbCAmJiBmaXJzdEJhdGNoLl9leHBpcmF0aW9uVGltZSA8PSBleHBpcmF0aW9uVGltZSkge1xuICAgICAgaWYgKGNvbXBsZXRlZEJhdGNoZXMgPT09IG51bGwpIHtcbiAgICAgICAgY29tcGxldGVkQmF0Y2hlcyA9IFtmaXJzdEJhdGNoXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbXBsZXRlZEJhdGNoZXMucHVzaChmaXJzdEJhdGNoKTtcbiAgICAgIH1cbiAgICAgIGlmIChmaXJzdEJhdGNoLl9kZWZlcikge1xuICAgICAgICAvLyBUaGlzIHJvb3QgaXMgYmxvY2tlZCBmcm9tIGNvbW1pdHRpbmcgYnkgYSBiYXRjaC4gVW5zY2hlZHVsZSBpdCB1bnRpbFxuICAgICAgICAvLyB3ZSByZWNlaXZlIGFub3RoZXIgdXBkYXRlLlxuICAgICAgICByb290LmZpbmlzaGVkV29yayA9IGZpbmlzaGVkV29yaztcbiAgICAgICAgcm9vdC5yZW1haW5pbmdFeHBpcmF0aW9uVGltZSA9IE5vV29yaztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENvbW1pdCB0aGUgcm9vdC5cbiAgICByb290LmZpbmlzaGVkV29yayA9IG51bGw7XG4gICAgcm9vdC5yZW1haW5pbmdFeHBpcmF0aW9uVGltZSA9IGNvbW1pdFJvb3QoZmluaXNoZWRXb3JrKTtcbiAgfVxuXG4gIC8vIFdoZW4gd29ya2luZyBvbiBhc3luYyB3b3JrLCB0aGUgcmVjb25jaWxlciBhc2tzIHRoZSByZW5kZXJlciBpZiBpdCBzaG91bGRcbiAgLy8geWllbGQgZXhlY3V0aW9uLiBGb3IgRE9NLCB3ZSBpbXBsZW1lbnQgdGhpcyB3aXRoIHJlcXVlc3RJZGxlQ2FsbGJhY2suXG4gIGZ1bmN0aW9uIHNob3VsZFlpZWxkKCkge1xuICAgIGlmIChkZWFkbGluZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZGVhZGxpbmUudGltZVJlbWFpbmluZygpID4gdGltZUhldXJpc3RpY0ZvclVuaXRPZldvcmspIHtcbiAgICAgIC8vIERpc3JlZ2FyZCBkZWFkbGluZS5kaWRUaW1lb3V0LiBPbmx5IGV4cGlyZWQgd29yayBzaG91bGQgYmUgZmx1c2hlZFxuICAgICAgLy8gZHVyaW5nIGEgdGltZW91dC4gVGhpcyBwYXRoIGlzIG9ubHkgaGl0IGZvciBub24tZXhwaXJlZCB3b3JrLlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBkZWFkbGluZURpZEV4cGlyZSA9IHRydWU7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBvblVuY2F1Z2h0RXJyb3IoZXJyb3IpIHtcbiAgICAhKG5leHRGbHVzaGVkUm9vdCAhPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdTaG91bGQgYmUgd29ya2luZyBvbiBhIHJvb3QuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJykgOiB2b2lkIDA7XG4gICAgLy8gVW5zY2hlZHVsZSB0aGlzIHJvb3Qgc28gd2UgZG9uJ3Qgd29yayBvbiBpdCBhZ2FpbiB1bnRpbCB0aGVyZSdzXG4gICAgLy8gYW5vdGhlciB1cGRhdGUuXG4gICAgbmV4dEZsdXNoZWRSb290LnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICAgIGlmICghaGFzVW5oYW5kbGVkRXJyb3IpIHtcbiAgICAgIGhhc1VuaGFuZGxlZEVycm9yID0gdHJ1ZTtcbiAgICAgIHVuaGFuZGxlZEVycm9yID0gZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8gVE9ETzogQmF0Y2hpbmcgc2hvdWxkIGJlIGltcGxlbWVudGVkIGF0IHRoZSByZW5kZXJlciBsZXZlbCwgbm90IGluc2lkZVxuICAvLyB0aGUgcmVjb25jaWxlci5cbiAgZnVuY3Rpb24gYmF0Y2hlZFVwZGF0ZXMoZm4sIGEpIHtcbiAgICB2YXIgcHJldmlvdXNJc0JhdGNoaW5nVXBkYXRlcyA9IGlzQmF0Y2hpbmdVcGRhdGVzO1xuICAgIGlzQmF0Y2hpbmdVcGRhdGVzID0gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZuKGEpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc0JhdGNoaW5nVXBkYXRlcyA9IHByZXZpb3VzSXNCYXRjaGluZ1VwZGF0ZXM7XG4gICAgICBpZiAoIWlzQmF0Y2hpbmdVcGRhdGVzICYmICFpc1JlbmRlcmluZykge1xuICAgICAgICBwZXJmb3JtU3luY1dvcmsoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBUT0RPOiBCYXRjaGluZyBzaG91bGQgYmUgaW1wbGVtZW50ZWQgYXQgdGhlIHJlbmRlcmVyIGxldmVsLCBub3QgaW5zaWRlXG4gIC8vIHRoZSByZWNvbmNpbGVyLlxuICBmdW5jdGlvbiB1bmJhdGNoZWRVcGRhdGVzKGZuLCBhKSB7XG4gICAgaWYgKGlzQmF0Y2hpbmdVcGRhdGVzICYmICFpc1VuYmF0Y2hpbmdVcGRhdGVzKSB7XG4gICAgICBpc1VuYmF0Y2hpbmdVcGRhdGVzID0gdHJ1ZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBmbihhKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlzVW5iYXRjaGluZ1VwZGF0ZXMgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZuKGEpO1xuICB9XG5cbiAgLy8gVE9ETzogQmF0Y2hpbmcgc2hvdWxkIGJlIGltcGxlbWVudGVkIGF0IHRoZSByZW5kZXJlciBsZXZlbCwgbm90IHdpdGhpblxuICAvLyB0aGUgcmVjb25jaWxlci5cbiAgZnVuY3Rpb24gZmx1c2hTeW5jKGZuLCBhKSB7XG4gICAgISFpc1JlbmRlcmluZyA/IGludmFyaWFudChmYWxzZSwgJ2ZsdXNoU3luYyB3YXMgY2FsbGVkIGZyb20gaW5zaWRlIGEgbGlmZWN5Y2xlIG1ldGhvZC4gSXQgY2Fubm90IGJlIGNhbGxlZCB3aGVuIFJlYWN0IGlzIGFscmVhZHkgcmVuZGVyaW5nLicpIDogdm9pZCAwO1xuICAgIHZhciBwcmV2aW91c0lzQmF0Y2hpbmdVcGRhdGVzID0gaXNCYXRjaGluZ1VwZGF0ZXM7XG4gICAgaXNCYXRjaGluZ1VwZGF0ZXMgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gc3luY1VwZGF0ZXMoZm4sIGEpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc0JhdGNoaW5nVXBkYXRlcyA9IHByZXZpb3VzSXNCYXRjaGluZ1VwZGF0ZXM7XG4gICAgICBwZXJmb3JtU3luY1dvcmsoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbnRlcmFjdGl2ZVVwZGF0ZXMoZm4sIGEsIGIpIHtcbiAgICBpZiAoaXNCYXRjaGluZ0ludGVyYWN0aXZlVXBkYXRlcykge1xuICAgICAgcmV0dXJuIGZuKGEsIGIpO1xuICAgIH1cbiAgICAvLyBJZiB0aGVyZSBhcmUgYW55IHBlbmRpbmcgaW50ZXJhY3RpdmUgdXBkYXRlcywgc3luY2hyb25vdXNseSBmbHVzaCB0aGVtLlxuICAgIC8vIFRoaXMgbmVlZHMgdG8gaGFwcGVuIGJlZm9yZSB3ZSByZWFkIGFueSBoYW5kbGVycywgYmVjYXVzZSB0aGUgZWZmZWN0IG9mXG4gICAgLy8gdGhlIHByZXZpb3VzIGV2ZW50IG1heSBpbmZsdWVuY2Ugd2hpY2ggaGFuZGxlcnMgYXJlIGNhbGxlZCBkdXJpbmdcbiAgICAvLyB0aGlzIGV2ZW50LlxuICAgIGlmICghaXNCYXRjaGluZ1VwZGF0ZXMgJiYgIWlzUmVuZGVyaW5nICYmIGxvd2VzdFBlbmRpbmdJbnRlcmFjdGl2ZUV4cGlyYXRpb25UaW1lICE9PSBOb1dvcmspIHtcbiAgICAgIC8vIFN5bmNocm9ub3VzbHkgZmx1c2ggcGVuZGluZyBpbnRlcmFjdGl2ZSB1cGRhdGVzLlxuICAgICAgcGVyZm9ybVdvcmsobG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWUsIGZhbHNlLCBudWxsKTtcbiAgICAgIGxvd2VzdFBlbmRpbmdJbnRlcmFjdGl2ZUV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICAgIH1cbiAgICB2YXIgcHJldmlvdXNJc0JhdGNoaW5nSW50ZXJhY3RpdmVVcGRhdGVzID0gaXNCYXRjaGluZ0ludGVyYWN0aXZlVXBkYXRlcztcbiAgICB2YXIgcHJldmlvdXNJc0JhdGNoaW5nVXBkYXRlcyA9IGlzQmF0Y2hpbmdVcGRhdGVzO1xuICAgIGlzQmF0Y2hpbmdJbnRlcmFjdGl2ZVVwZGF0ZXMgPSB0cnVlO1xuICAgIGlzQmF0Y2hpbmdVcGRhdGVzID0gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZuKGEsIGIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc0JhdGNoaW5nSW50ZXJhY3RpdmVVcGRhdGVzID0gcHJldmlvdXNJc0JhdGNoaW5nSW50ZXJhY3RpdmVVcGRhdGVzO1xuICAgICAgaXNCYXRjaGluZ1VwZGF0ZXMgPSBwcmV2aW91c0lzQmF0Y2hpbmdVcGRhdGVzO1xuICAgICAgaWYgKCFpc0JhdGNoaW5nVXBkYXRlcyAmJiAhaXNSZW5kZXJpbmcpIHtcbiAgICAgICAgcGVyZm9ybVN5bmNXb3JrKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmx1c2hJbnRlcmFjdGl2ZVVwZGF0ZXMoKSB7XG4gICAgaWYgKCFpc1JlbmRlcmluZyAmJiBsb3dlc3RQZW5kaW5nSW50ZXJhY3RpdmVFeHBpcmF0aW9uVGltZSAhPT0gTm9Xb3JrKSB7XG4gICAgICAvLyBTeW5jaHJvbm91c2x5IGZsdXNoIHBlbmRpbmcgaW50ZXJhY3RpdmUgdXBkYXRlcy5cbiAgICAgIHBlcmZvcm1Xb3JrKGxvd2VzdFBlbmRpbmdJbnRlcmFjdGl2ZUV4cGlyYXRpb25UaW1lLCBmYWxzZSwgbnVsbCk7XG4gICAgICBsb3dlc3RQZW5kaW5nSW50ZXJhY3RpdmVFeHBpcmF0aW9uVGltZSA9IE5vV29yaztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmbHVzaENvbnRyb2xsZWQoZm4pIHtcbiAgICB2YXIgcHJldmlvdXNJc0JhdGNoaW5nVXBkYXRlcyA9IGlzQmF0Y2hpbmdVcGRhdGVzO1xuICAgIGlzQmF0Y2hpbmdVcGRhdGVzID0gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgc3luY1VwZGF0ZXMoZm4pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc0JhdGNoaW5nVXBkYXRlcyA9IHByZXZpb3VzSXNCYXRjaGluZ1VwZGF0ZXM7XG4gICAgICBpZiAoIWlzQmF0Y2hpbmdVcGRhdGVzICYmICFpc1JlbmRlcmluZykge1xuICAgICAgICBwZXJmb3JtV29yayhTeW5jLCBmYWxzZSwgbnVsbCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByZWNhbGN1bGF0ZUN1cnJlbnRUaW1lOiByZWNhbGN1bGF0ZUN1cnJlbnRUaW1lLFxuICAgIGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXI6IGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXIsXG4gICAgc2NoZWR1bGVXb3JrOiBzY2hlZHVsZVdvcmssXG4gICAgcmVxdWVzdFdvcms6IHJlcXVlc3RXb3JrLFxuICAgIGZsdXNoUm9vdDogZmx1c2hSb290LFxuICAgIGJhdGNoZWRVcGRhdGVzOiBiYXRjaGVkVXBkYXRlcyxcbiAgICB1bmJhdGNoZWRVcGRhdGVzOiB1bmJhdGNoZWRVcGRhdGVzLFxuICAgIGZsdXNoU3luYzogZmx1c2hTeW5jLFxuICAgIGZsdXNoQ29udHJvbGxlZDogZmx1c2hDb250cm9sbGVkLFxuICAgIGRlZmVycmVkVXBkYXRlczogZGVmZXJyZWRVcGRhdGVzLFxuICAgIHN5bmNVcGRhdGVzOiBzeW5jVXBkYXRlcyxcbiAgICBpbnRlcmFjdGl2ZVVwZGF0ZXM6IGludGVyYWN0aXZlVXBkYXRlcyxcbiAgICBmbHVzaEludGVyYWN0aXZlVXBkYXRlczogZmx1c2hJbnRlcmFjdGl2ZVVwZGF0ZXMsXG4gICAgY29tcHV0ZVVuaXF1ZUFzeW5jRXhwaXJhdGlvbjogY29tcHV0ZVVuaXF1ZUFzeW5jRXhwaXJhdGlvbixcbiAgICBsZWdhY3lDb250ZXh0OiBsZWdhY3lDb250ZXh0XG4gIH07XG59O1xuXG52YXIgZGlkV2FybkFib3V0TmVzdGVkVXBkYXRlcyA9IHZvaWQgMDtcblxue1xuICBkaWRXYXJuQWJvdXROZXN0ZWRVcGRhdGVzID0gZmFsc2U7XG59XG5cbi8vIDAgaXMgUFJPRCwgMSBpcyBERVYuXG4vLyBNaWdodCBhZGQgUFJPRklMRSBsYXRlci5cblxuXG52YXIgUmVhY3RGaWJlclJlY29uY2lsZXIkMSA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgdmFyIGdldFB1YmxpY0luc3RhbmNlID0gY29uZmlnLmdldFB1YmxpY0luc3RhbmNlO1xuXG4gIHZhciBfUmVhY3RGaWJlclNjaGVkdWxlciA9IFJlYWN0RmliZXJTY2hlZHVsZXIoY29uZmlnKSxcbiAgICAgIGNvbXB1dGVVbmlxdWVBc3luY0V4cGlyYXRpb24gPSBfUmVhY3RGaWJlclNjaGVkdWxlci5jb21wdXRlVW5pcXVlQXN5bmNFeHBpcmF0aW9uLFxuICAgICAgcmVjYWxjdWxhdGVDdXJyZW50VGltZSA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLnJlY2FsY3VsYXRlQ3VycmVudFRpbWUsXG4gICAgICBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyID0gX1JlYWN0RmliZXJTY2hlZHVsZXIuY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlcixcbiAgICAgIHNjaGVkdWxlV29yayA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLnNjaGVkdWxlV29yayxcbiAgICAgIHJlcXVlc3RXb3JrID0gX1JlYWN0RmliZXJTY2hlZHVsZXIucmVxdWVzdFdvcmssXG4gICAgICBmbHVzaFJvb3QgPSBfUmVhY3RGaWJlclNjaGVkdWxlci5mbHVzaFJvb3QsXG4gICAgICBiYXRjaGVkVXBkYXRlcyA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLmJhdGNoZWRVcGRhdGVzLFxuICAgICAgdW5iYXRjaGVkVXBkYXRlcyA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLnVuYmF0Y2hlZFVwZGF0ZXMsXG4gICAgICBmbHVzaFN5bmMgPSBfUmVhY3RGaWJlclNjaGVkdWxlci5mbHVzaFN5bmMsXG4gICAgICBmbHVzaENvbnRyb2xsZWQgPSBfUmVhY3RGaWJlclNjaGVkdWxlci5mbHVzaENvbnRyb2xsZWQsXG4gICAgICBkZWZlcnJlZFVwZGF0ZXMgPSBfUmVhY3RGaWJlclNjaGVkdWxlci5kZWZlcnJlZFVwZGF0ZXMsXG4gICAgICBzeW5jVXBkYXRlcyA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLnN5bmNVcGRhdGVzLFxuICAgICAgaW50ZXJhY3RpdmVVcGRhdGVzID0gX1JlYWN0RmliZXJTY2hlZHVsZXIuaW50ZXJhY3RpdmVVcGRhdGVzLFxuICAgICAgZmx1c2hJbnRlcmFjdGl2ZVVwZGF0ZXMgPSBfUmVhY3RGaWJlclNjaGVkdWxlci5mbHVzaEludGVyYWN0aXZlVXBkYXRlcyxcbiAgICAgIGxlZ2FjeUNvbnRleHQgPSBfUmVhY3RGaWJlclNjaGVkdWxlci5sZWdhY3lDb250ZXh0O1xuXG4gIHZhciBmaW5kQ3VycmVudFVubWFza2VkQ29udGV4dCA9IGxlZ2FjeUNvbnRleHQuZmluZEN1cnJlbnRVbm1hc2tlZENvbnRleHQsXG4gICAgICBpc0NvbnRleHRQcm92aWRlciA9IGxlZ2FjeUNvbnRleHQuaXNDb250ZXh0UHJvdmlkZXIsXG4gICAgICBwcm9jZXNzQ2hpbGRDb250ZXh0ID0gbGVnYWN5Q29udGV4dC5wcm9jZXNzQ2hpbGRDb250ZXh0O1xuXG5cbiAgZnVuY3Rpb24gZ2V0Q29udGV4dEZvclN1YnRyZWUocGFyZW50Q29tcG9uZW50KSB7XG4gICAgaWYgKCFwYXJlbnRDb21wb25lbnQpIHtcbiAgICAgIHJldHVybiBlbXB0eU9iamVjdDtcbiAgICB9XG5cbiAgICB2YXIgZmliZXIgPSBnZXQocGFyZW50Q29tcG9uZW50KTtcbiAgICB2YXIgcGFyZW50Q29udGV4dCA9IGZpbmRDdXJyZW50VW5tYXNrZWRDb250ZXh0KGZpYmVyKTtcbiAgICByZXR1cm4gaXNDb250ZXh0UHJvdmlkZXIoZmliZXIpID8gcHJvY2Vzc0NoaWxkQ29udGV4dChmaWJlciwgcGFyZW50Q29udGV4dCkgOiBwYXJlbnRDb250ZXh0O1xuICB9XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGVSb290VXBkYXRlKGN1cnJlbnQsIGVsZW1lbnQsIGN1cnJlbnRUaW1lLCBleHBpcmF0aW9uVGltZSwgY2FsbGJhY2spIHtcbiAgICB7XG4gICAgICBpZiAoUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5waGFzZSA9PT0gJ3JlbmRlcicgJiYgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5jdXJyZW50ICE9PSBudWxsICYmICFkaWRXYXJuQWJvdXROZXN0ZWRVcGRhdGVzKSB7XG4gICAgICAgIGRpZFdhcm5BYm91dE5lc3RlZFVwZGF0ZXMgPSB0cnVlO1xuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnUmVuZGVyIG1ldGhvZHMgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGU7ICcgKyAndHJpZ2dlcmluZyBuZXN0ZWQgY29tcG9uZW50IHVwZGF0ZXMgZnJvbSByZW5kZXIgaXMgbm90IGFsbG93ZWQuICcgKyAnSWYgbmVjZXNzYXJ5LCB0cmlnZ2VyIG5lc3RlZCB1cGRhdGVzIGluIGNvbXBvbmVudERpZFVwZGF0ZS5cXG5cXG4nICsgJ0NoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mICVzLicsIGdldENvbXBvbmVudE5hbWUoUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5jdXJyZW50KSB8fCAnVW5rbm93bicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjYWxsYmFjaztcbiAgICB7XG4gICAgICB3YXJuaW5nKGNhbGxiYWNrID09PSBudWxsIHx8IHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJywgJ3JlbmRlciguLi4pOiBFeHBlY3RlZCB0aGUgbGFzdCBvcHRpb25hbCBgY2FsbGJhY2tgIGFyZ3VtZW50IHRvIGJlIGEgJyArICdmdW5jdGlvbi4gSW5zdGVhZCByZWNlaXZlZDogJXMuJywgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIHZhciB1cGRhdGUgPSB7XG4gICAgICBleHBpcmF0aW9uVGltZTogZXhwaXJhdGlvblRpbWUsXG4gICAgICBwYXJ0aWFsU3RhdGU6IHsgZWxlbWVudDogZWxlbWVudCB9LFxuICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgaXNSZXBsYWNlOiBmYWxzZSxcbiAgICAgIGlzRm9yY2VkOiBmYWxzZSxcbiAgICAgIGNhcHR1cmVkVmFsdWU6IG51bGwsXG4gICAgICBuZXh0OiBudWxsXG4gICAgfTtcbiAgICBpbnNlcnRVcGRhdGVJbnRvRmliZXIoY3VycmVudCwgdXBkYXRlKTtcbiAgICBzY2hlZHVsZVdvcmsoY3VycmVudCwgZXhwaXJhdGlvblRpbWUpO1xuXG4gICAgcmV0dXJuIGV4cGlyYXRpb25UaW1lO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlQ29udGFpbmVyQXRFeHBpcmF0aW9uVGltZShlbGVtZW50LCBjb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgY3VycmVudFRpbWUsIGV4cGlyYXRpb25UaW1lLCBjYWxsYmFjaykge1xuICAgIC8vIFRPRE86IElmIHRoaXMgaXMgYSBuZXN0ZWQgY29udGFpbmVyLCB0aGlzIHdvbid0IGJlIHRoZSByb290LlxuICAgIHZhciBjdXJyZW50ID0gY29udGFpbmVyLmN1cnJlbnQ7XG5cbiAgICB7XG4gICAgICBpZiAoUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbCkge1xuICAgICAgICBpZiAoY3VycmVudC5hbHRlcm5hdGUgPT09IG51bGwpIHtcbiAgICAgICAgICBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sLm9uTW91bnRDb250YWluZXIoY29udGFpbmVyKTtcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbC5vblVubW91bnRDb250YWluZXIoY29udGFpbmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sLm9uVXBkYXRlQ29udGFpbmVyKGNvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgY29udGV4dCA9IGdldENvbnRleHRGb3JTdWJ0cmVlKHBhcmVudENvbXBvbmVudCk7XG4gICAgaWYgKGNvbnRhaW5lci5jb250ZXh0ID09PSBudWxsKSB7XG4gICAgICBjb250YWluZXIuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRhaW5lci5wZW5kaW5nQ29udGV4dCA9IGNvbnRleHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNjaGVkdWxlUm9vdFVwZGF0ZShjdXJyZW50LCBlbGVtZW50LCBjdXJyZW50VGltZSwgZXhwaXJhdGlvblRpbWUsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmRIb3N0SW5zdGFuY2UoZmliZXIpIHtcbiAgICB2YXIgaG9zdEZpYmVyID0gZmluZEN1cnJlbnRIb3N0RmliZXIoZmliZXIpO1xuICAgIGlmIChob3N0RmliZXIgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gaG9zdEZpYmVyLnN0YXRlTm9kZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgY3JlYXRlQ29udGFpbmVyOiBmdW5jdGlvbiAoY29udGFpbmVySW5mbywgaXNBc3luYywgaHlkcmF0ZSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUZpYmVyUm9vdChjb250YWluZXJJbmZvLCBpc0FzeW5jLCBoeWRyYXRlKTtcbiAgICB9LFxuICAgIHVwZGF0ZUNvbnRhaW5lcjogZnVuY3Rpb24gKGVsZW1lbnQsIGNvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBjYWxsYmFjaykge1xuICAgICAgdmFyIGN1cnJlbnQgPSBjb250YWluZXIuY3VycmVudDtcbiAgICAgIHZhciBjdXJyZW50VGltZSA9IHJlY2FsY3VsYXRlQ3VycmVudFRpbWUoKTtcbiAgICAgIHZhciBleHBpcmF0aW9uVGltZSA9IGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXIoY3VycmVudCk7XG4gICAgICByZXR1cm4gdXBkYXRlQ29udGFpbmVyQXRFeHBpcmF0aW9uVGltZShlbGVtZW50LCBjb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgY3VycmVudFRpbWUsIGV4cGlyYXRpb25UaW1lLCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICB1cGRhdGVDb250YWluZXJBdEV4cGlyYXRpb25UaW1lOiBmdW5jdGlvbiAoZWxlbWVudCwgY29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIGV4cGlyYXRpb25UaW1lLCBjYWxsYmFjaykge1xuICAgICAgdmFyIGN1cnJlbnRUaW1lID0gcmVjYWxjdWxhdGVDdXJyZW50VGltZSgpO1xuICAgICAgcmV0dXJuIHVwZGF0ZUNvbnRhaW5lckF0RXhwaXJhdGlvblRpbWUoZWxlbWVudCwgY29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIGN1cnJlbnRUaW1lLCBleHBpcmF0aW9uVGltZSwgY2FsbGJhY2spO1xuICAgIH0sXG5cblxuICAgIGZsdXNoUm9vdDogZmx1c2hSb290LFxuXG4gICAgcmVxdWVzdFdvcms6IHJlcXVlc3RXb3JrLFxuXG4gICAgY29tcHV0ZVVuaXF1ZUFzeW5jRXhwaXJhdGlvbjogY29tcHV0ZVVuaXF1ZUFzeW5jRXhwaXJhdGlvbixcblxuICAgIGJhdGNoZWRVcGRhdGVzOiBiYXRjaGVkVXBkYXRlcyxcblxuICAgIHVuYmF0Y2hlZFVwZGF0ZXM6IHVuYmF0Y2hlZFVwZGF0ZXMsXG5cbiAgICBkZWZlcnJlZFVwZGF0ZXM6IGRlZmVycmVkVXBkYXRlcyxcblxuICAgIHN5bmNVcGRhdGVzOiBzeW5jVXBkYXRlcyxcblxuICAgIGludGVyYWN0aXZlVXBkYXRlczogaW50ZXJhY3RpdmVVcGRhdGVzLFxuXG4gICAgZmx1c2hJbnRlcmFjdGl2ZVVwZGF0ZXM6IGZsdXNoSW50ZXJhY3RpdmVVcGRhdGVzLFxuXG4gICAgZmx1c2hDb250cm9sbGVkOiBmbHVzaENvbnRyb2xsZWQsXG5cbiAgICBmbHVzaFN5bmM6IGZsdXNoU3luYyxcblxuICAgIGdldFB1YmxpY1Jvb3RJbnN0YW5jZTogZnVuY3Rpb24gKGNvbnRhaW5lcikge1xuICAgICAgdmFyIGNvbnRhaW5lckZpYmVyID0gY29udGFpbmVyLmN1cnJlbnQ7XG4gICAgICBpZiAoIWNvbnRhaW5lckZpYmVyLmNoaWxkKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChjb250YWluZXJGaWJlci5jaGlsZC50YWcpIHtcbiAgICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICAgIHJldHVybiBnZXRQdWJsaWNJbnN0YW5jZShjb250YWluZXJGaWJlci5jaGlsZC5zdGF0ZU5vZGUpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBjb250YWluZXJGaWJlci5jaGlsZC5zdGF0ZU5vZGU7XG4gICAgICB9XG4gICAgfSxcblxuXG4gICAgZmluZEhvc3RJbnN0YW5jZTogZmluZEhvc3RJbnN0YW5jZSxcblxuICAgIGZpbmRIb3N0SW5zdGFuY2VXaXRoTm9Qb3J0YWxzOiBmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgIHZhciBob3N0RmliZXIgPSBmaW5kQ3VycmVudEhvc3RGaWJlcldpdGhOb1BvcnRhbHMoZmliZXIpO1xuICAgICAgaWYgKGhvc3RGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBob3N0RmliZXIuc3RhdGVOb2RlO1xuICAgIH0sXG4gICAgaW5qZWN0SW50b0RldlRvb2xzOiBmdW5jdGlvbiAoZGV2VG9vbHNDb25maWcpIHtcbiAgICAgIHZhciBmaW5kRmliZXJCeUhvc3RJbnN0YW5jZSA9IGRldlRvb2xzQ29uZmlnLmZpbmRGaWJlckJ5SG9zdEluc3RhbmNlO1xuXG4gICAgICByZXR1cm4gaW5qZWN0SW50ZXJuYWxzKF9hc3NpZ24oe30sIGRldlRvb2xzQ29uZmlnLCB7XG4gICAgICAgIGZpbmRIb3N0SW5zdGFuY2VCeUZpYmVyOiBmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgICAgICByZXR1cm4gZmluZEhvc3RJbnN0YW5jZShmaWJlcik7XG4gICAgICAgIH0sXG4gICAgICAgIGZpbmRGaWJlckJ5SG9zdEluc3RhbmNlOiBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICAgICAgICBpZiAoIWZpbmRGaWJlckJ5SG9zdEluc3RhbmNlKSB7XG4gICAgICAgICAgICAvLyBNaWdodCBub3QgYmUgaW1wbGVtZW50ZWQgYnkgdGhlIHJlbmRlcmVyLlxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmaW5kRmliZXJCeUhvc3RJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9XG4gIH07XG59O1xuXG52YXIgUmVhY3RGaWJlclJlY29uY2lsZXIkMiA9IE9iamVjdC5mcmVlemUoe1xuXHRkZWZhdWx0OiBSZWFjdEZpYmVyUmVjb25jaWxlciQxXG59KTtcblxudmFyIFJlYWN0RmliZXJSZWNvbmNpbGVyJDMgPSAoIFJlYWN0RmliZXJSZWNvbmNpbGVyJDIgJiYgUmVhY3RGaWJlclJlY29uY2lsZXIkMSApIHx8IFJlYWN0RmliZXJSZWNvbmNpbGVyJDI7XG5cbi8vIFRPRE86IGJ1bmRsZSBGbG93IHR5cGVzIHdpdGggdGhlIHBhY2thZ2UuXG5cblxuXG4vLyBUT0RPOiBkZWNpZGUgb24gdGhlIHRvcC1sZXZlbCBleHBvcnQgZm9ybS5cbi8vIFRoaXMgaXMgaGFja3kgYnV0IG1ha2VzIGl0IHdvcmsgd2l0aCBib3RoIFJvbGx1cCBhbmQgSmVzdC5cbnZhciByZWFjdFJlY29uY2lsZXIgPSBSZWFjdEZpYmVyUmVjb25jaWxlciQzWydkZWZhdWx0J10gPyBSZWFjdEZpYmVyUmVjb25jaWxlciQzWydkZWZhdWx0J10gOiBSZWFjdEZpYmVyUmVjb25jaWxlciQzO1xuXG5mdW5jdGlvbiBjcmVhdGVQb3J0YWwkMShjaGlsZHJlbiwgY29udGFpbmVySW5mbyxcbi8vIFRPRE86IGZpZ3VyZSBvdXQgdGhlIEFQSSBmb3IgY3Jvc3MtcmVuZGVyZXIgaW1wbGVtZW50YXRpb24uXG5pbXBsZW1lbnRhdGlvbikge1xuICB2YXIga2V5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBudWxsO1xuXG4gIHJldHVybiB7XG4gICAgLy8gVGhpcyB0YWcgYWxsb3cgdXMgdG8gdW5pcXVlbHkgaWRlbnRpZnkgdGhpcyBhcyBhIFJlYWN0IFBvcnRhbFxuICAgICQkdHlwZW9mOiBSRUFDVF9QT1JUQUxfVFlQRSxcbiAgICBrZXk6IGtleSA9PSBudWxsID8gbnVsbCA6ICcnICsga2V5LFxuICAgIGNoaWxkcmVuOiBjaGlsZHJlbixcbiAgICBjb250YWluZXJJbmZvOiBjb250YWluZXJJbmZvLFxuICAgIGltcGxlbWVudGF0aW9uOiBpbXBsZW1lbnRhdGlvblxuICB9O1xufVxuXG4vLyBUT0RPOiB0aGlzIGlzIHNwZWNpYWwgYmVjYXVzZSBpdCBnZXRzIGltcG9ydGVkIGR1cmluZyBidWlsZC5cblxudmFyIFJlYWN0VmVyc2lvbiA9ICcxNi4zLjEnO1xuXG4vLyBhIHJlcXVlc3RBbmltYXRpb25GcmFtZSwgc3RvcmluZyB0aGUgdGltZSBmb3IgdGhlIHN0YXJ0IG9mIHRoZSBmcmFtZSwgdGhlblxuLy8gc2NoZWR1bGluZyBhIHBvc3RNZXNzYWdlIHdoaWNoIGdldHMgc2NoZWR1bGVkIGFmdGVyIHBhaW50LiBXaXRoaW4gdGhlXG4vLyBwb3N0TWVzc2FnZSBoYW5kbGVyIGRvIGFzIG11Y2ggd29yayBhcyBwb3NzaWJsZSB1bnRpbCB0aW1lICsgZnJhbWUgcmF0ZS5cbi8vIEJ5IHNlcGFyYXRpbmcgdGhlIGlkbGUgY2FsbCBpbnRvIGEgc2VwYXJhdGUgZXZlbnQgdGljayB3ZSBlbnN1cmUgdGhhdFxuLy8gbGF5b3V0LCBwYWludCBhbmQgb3RoZXIgYnJvd3NlciB3b3JrIGlzIGNvdW50ZWQgYWdhaW5zdCB0aGUgYXZhaWxhYmxlIHRpbWUuXG4vLyBUaGUgZnJhbWUgcmF0ZSBpcyBkeW5hbWljYWxseSBhZGp1c3RlZC5cblxue1xuICBpZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmIHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgIT09ICdmdW5jdGlvbicpIHtcbiAgICB3YXJuaW5nKGZhbHNlLCAnUmVhY3QgZGVwZW5kcyBvbiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUuIE1ha2Ugc3VyZSB0aGF0IHlvdSBsb2FkIGEgJyArICdwb2x5ZmlsbCBpbiBvbGRlciBicm93c2Vycy4gaHR0cHM6Ly9mYi5tZS9yZWFjdC1wb2x5ZmlsbHMnKTtcbiAgfVxufVxuXG52YXIgaGFzTmF0aXZlUGVyZm9ybWFuY2VOb3cgPSB0eXBlb2YgcGVyZm9ybWFuY2UgPT09ICdvYmplY3QnICYmIHR5cGVvZiBwZXJmb3JtYW5jZS5ub3cgPT09ICdmdW5jdGlvbic7XG5cbnZhciBub3cgPSB2b2lkIDA7XG5pZiAoaGFzTmF0aXZlUGVyZm9ybWFuY2VOb3cpIHtcbiAgbm93ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwZXJmb3JtYW5jZS5ub3coKTtcbiAgfTtcbn0gZWxzZSB7XG4gIG5vdyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgfTtcbn1cblxuLy8gVE9ETzogVGhlcmUncyBubyB3YXkgdG8gY2FuY2VsLCBiZWNhdXNlIEZpYmVyIGRvZXNuJ3QgYXRtLlxudmFyIHJJQyA9IHZvaWQgMDtcbnZhciBjSUMgPSB2b2lkIDA7XG5cbmlmICghRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gIHJJQyA9IGZ1bmN0aW9uIChmcmFtZUNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgZnJhbWVDYWxsYmFjayh7XG4gICAgICAgIHRpbWVSZW1haW5pbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gSW5maW5pdHk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZGlkVGltZW91dDogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuICBjSUMgPSBmdW5jdGlvbiAodGltZW91dElEKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJRCk7XG4gIH07XG59IGVsc2UgaWYgKGFsd2F5c1VzZVJlcXVlc3RJZGxlQ2FsbGJhY2tQb2x5ZmlsbCB8fCB0eXBlb2YgcmVxdWVzdElkbGVDYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgY2FuY2VsSWRsZUNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gIC8vIFBvbHlmaWxsIHJlcXVlc3RJZGxlQ2FsbGJhY2sgYW5kIGNhbmNlbElkbGVDYWxsYmFja1xuXG4gIHZhciBzY2hlZHVsZWRSSUNDYWxsYmFjayA9IG51bGw7XG4gIHZhciBpc0lkbGVTY2hlZHVsZWQgPSBmYWxzZTtcbiAgdmFyIHRpbWVvdXRUaW1lID0gLTE7XG5cbiAgdmFyIGlzQW5pbWF0aW9uRnJhbWVTY2hlZHVsZWQgPSBmYWxzZTtcblxuICB2YXIgZnJhbWVEZWFkbGluZSA9IDA7XG4gIC8vIFdlIHN0YXJ0IG91dCBhc3N1bWluZyB0aGF0IHdlIHJ1biBhdCAzMGZwcyBidXQgdGhlbiB0aGUgaGV1cmlzdGljIHRyYWNraW5nXG4gIC8vIHdpbGwgYWRqdXN0IHRoaXMgdmFsdWUgdG8gYSBmYXN0ZXIgZnBzIGlmIHdlIGdldCBtb3JlIGZyZXF1ZW50IGFuaW1hdGlvblxuICAvLyBmcmFtZXMuXG4gIHZhciBwcmV2aW91c0ZyYW1lVGltZSA9IDMzO1xuICB2YXIgYWN0aXZlRnJhbWVUaW1lID0gMzM7XG5cbiAgdmFyIGZyYW1lRGVhZGxpbmVPYmplY3QgPSB2b2lkIDA7XG4gIGlmIChoYXNOYXRpdmVQZXJmb3JtYW5jZU5vdykge1xuICAgIGZyYW1lRGVhZGxpbmVPYmplY3QgPSB7XG4gICAgICBkaWRUaW1lb3V0OiBmYWxzZSxcbiAgICAgIHRpbWVSZW1haW5pbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gV2UgYXNzdW1lIHRoYXQgaWYgd2UgaGF2ZSBhIHBlcmZvcm1hbmNlIHRpbWVyIHRoYXQgdGhlIHJBRiBjYWxsYmFja1xuICAgICAgICAvLyBnZXRzIGEgcGVyZm9ybWFuY2UgdGltZXIgdmFsdWUuIE5vdCBzdXJlIGlmIHRoaXMgaXMgYWx3YXlzIHRydWUuXG4gICAgICAgIHZhciByZW1haW5pbmcgPSBmcmFtZURlYWRsaW5lIC0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIHJldHVybiByZW1haW5pbmcgPiAwID8gcmVtYWluaW5nIDogMDtcbiAgICAgIH1cbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGZyYW1lRGVhZGxpbmVPYmplY3QgPSB7XG4gICAgICBkaWRUaW1lb3V0OiBmYWxzZSxcbiAgICAgIHRpbWVSZW1haW5pbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gRmFsbGJhY2sgdG8gRGF0ZS5ub3coKVxuICAgICAgICB2YXIgcmVtYWluaW5nID0gZnJhbWVEZWFkbGluZSAtIERhdGUubm93KCk7XG4gICAgICAgIHJldHVybiByZW1haW5pbmcgPiAwID8gcmVtYWluaW5nIDogMDtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gV2UgdXNlIHRoZSBwb3N0TWVzc2FnZSB0cmljayB0byBkZWZlciBpZGxlIHdvcmsgdW50aWwgYWZ0ZXIgdGhlIHJlcGFpbnQuXG4gIHZhciBtZXNzYWdlS2V5ID0gJ19fcmVhY3RJZGxlQ2FsbGJhY2skJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpO1xuICB2YXIgaWRsZVRpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cgfHwgZXZlbnQuZGF0YSAhPT0gbWVzc2FnZUtleSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlzSWRsZVNjaGVkdWxlZCA9IGZhbHNlO1xuXG4gICAgdmFyIGN1cnJlbnRUaW1lID0gbm93KCk7XG4gICAgaWYgKGZyYW1lRGVhZGxpbmUgLSBjdXJyZW50VGltZSA8PSAwKSB7XG4gICAgICAvLyBUaGVyZSdzIG5vIHRpbWUgbGVmdCBpbiB0aGlzIGlkbGUgcGVyaW9kLiBDaGVjayBpZiB0aGUgY2FsbGJhY2sgaGFzXG4gICAgICAvLyBhIHRpbWVvdXQgYW5kIHdoZXRoZXIgaXQncyBiZWVuIGV4Y2VlZGVkLlxuICAgICAgaWYgKHRpbWVvdXRUaW1lICE9PSAtMSAmJiB0aW1lb3V0VGltZSA8PSBjdXJyZW50VGltZSkge1xuICAgICAgICAvLyBFeGNlZWRlZCB0aGUgdGltZW91dC4gSW52b2tlIHRoZSBjYWxsYmFjayBldmVuIHRob3VnaCB0aGVyZSdzIG5vXG4gICAgICAgIC8vIHRpbWUgbGVmdC5cbiAgICAgICAgZnJhbWVEZWFkbGluZU9iamVjdC5kaWRUaW1lb3V0ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5vIHRpbWVvdXQuXG4gICAgICAgIGlmICghaXNBbmltYXRpb25GcmFtZVNjaGVkdWxlZCkge1xuICAgICAgICAgIC8vIFNjaGVkdWxlIGFub3RoZXIgYW5pbWF0aW9uIGNhbGxiYWNrIHNvIHdlIHJldHJ5IGxhdGVyLlxuICAgICAgICAgIGlzQW5pbWF0aW9uRnJhbWVTY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRpb25UaWNrKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBFeGl0IHdpdGhvdXQgaW52b2tpbmcgdGhlIGNhbGxiYWNrLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoZXJlJ3Mgc3RpbGwgdGltZSBsZWZ0IGluIHRoaXMgaWRsZSBwZXJpb2QuXG4gICAgICBmcmFtZURlYWRsaW5lT2JqZWN0LmRpZFRpbWVvdXQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB0aW1lb3V0VGltZSA9IC0xO1xuICAgIHZhciBjYWxsYmFjayA9IHNjaGVkdWxlZFJJQ0NhbGxiYWNrO1xuICAgIHNjaGVkdWxlZFJJQ0NhbGxiYWNrID0gbnVsbDtcbiAgICBpZiAoY2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICAgIGNhbGxiYWNrKGZyYW1lRGVhZGxpbmVPYmplY3QpO1xuICAgIH1cbiAgfTtcbiAgLy8gQXNzdW1lcyB0aGF0IHdlIGhhdmUgYWRkRXZlbnRMaXN0ZW5lciBpbiB0aGlzIGVudmlyb25tZW50LiBNaWdodCBuZWVkXG4gIC8vIHNvbWV0aGluZyBiZXR0ZXIgZm9yIG9sZCBJRS5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBpZGxlVGljaywgZmFsc2UpO1xuXG4gIHZhciBhbmltYXRpb25UaWNrID0gZnVuY3Rpb24gKHJhZlRpbWUpIHtcbiAgICBpc0FuaW1hdGlvbkZyYW1lU2NoZWR1bGVkID0gZmFsc2U7XG4gICAgdmFyIG5leHRGcmFtZVRpbWUgPSByYWZUaW1lIC0gZnJhbWVEZWFkbGluZSArIGFjdGl2ZUZyYW1lVGltZTtcbiAgICBpZiAobmV4dEZyYW1lVGltZSA8IGFjdGl2ZUZyYW1lVGltZSAmJiBwcmV2aW91c0ZyYW1lVGltZSA8IGFjdGl2ZUZyYW1lVGltZSkge1xuICAgICAgaWYgKG5leHRGcmFtZVRpbWUgPCA4KSB7XG4gICAgICAgIC8vIERlZmVuc2l2ZSBjb2RpbmcuIFdlIGRvbid0IHN1cHBvcnQgaGlnaGVyIGZyYW1lIHJhdGVzIHRoYW4gMTIwaHouXG4gICAgICAgIC8vIElmIHdlIGdldCBsb3dlciB0aGFuIHRoYXQsIGl0IGlzIHByb2JhYmx5IGEgYnVnLlxuICAgICAgICBuZXh0RnJhbWVUaW1lID0gODtcbiAgICAgIH1cbiAgICAgIC8vIElmIG9uZSBmcmFtZSBnb2VzIGxvbmcsIHRoZW4gdGhlIG5leHQgb25lIGNhbiBiZSBzaG9ydCB0byBjYXRjaCB1cC5cbiAgICAgIC8vIElmIHR3byBmcmFtZXMgYXJlIHNob3J0IGluIGEgcm93LCB0aGVuIHRoYXQncyBhbiBpbmRpY2F0aW9uIHRoYXQgd2VcbiAgICAgIC8vIGFjdHVhbGx5IGhhdmUgYSBoaWdoZXIgZnJhbWUgcmF0ZSB0aGFuIHdoYXQgd2UncmUgY3VycmVudGx5IG9wdGltaXppbmcuXG4gICAgICAvLyBXZSBhZGp1c3Qgb3VyIGhldXJpc3RpYyBkeW5hbWljYWxseSBhY2NvcmRpbmdseS4gRm9yIGV4YW1wbGUsIGlmIHdlJ3JlXG4gICAgICAvLyBydW5uaW5nIG9uIDEyMGh6IGRpc3BsYXkgb3IgOTBoeiBWUiBkaXNwbGF5LlxuICAgICAgLy8gVGFrZSB0aGUgbWF4IG9mIHRoZSB0d28gaW4gY2FzZSBvbmUgb2YgdGhlbSB3YXMgYW4gYW5vbWFseSBkdWUgdG9cbiAgICAgIC8vIG1pc3NlZCBmcmFtZSBkZWFkbGluZXMuXG4gICAgICBhY3RpdmVGcmFtZVRpbWUgPSBuZXh0RnJhbWVUaW1lIDwgcHJldmlvdXNGcmFtZVRpbWUgPyBwcmV2aW91c0ZyYW1lVGltZSA6IG5leHRGcmFtZVRpbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByZXZpb3VzRnJhbWVUaW1lID0gbmV4dEZyYW1lVGltZTtcbiAgICB9XG4gICAgZnJhbWVEZWFkbGluZSA9IHJhZlRpbWUgKyBhY3RpdmVGcmFtZVRpbWU7XG4gICAgaWYgKCFpc0lkbGVTY2hlZHVsZWQpIHtcbiAgICAgIGlzSWRsZVNjaGVkdWxlZCA9IHRydWU7XG4gICAgICB3aW5kb3cucG9zdE1lc3NhZ2UobWVzc2FnZUtleSwgJyonKTtcbiAgICB9XG4gIH07XG5cbiAgcklDID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgLy8gVGhpcyBhc3N1bWVzIHRoYXQgd2Ugb25seSBzY2hlZHVsZSBvbmUgY2FsbGJhY2sgYXQgYSB0aW1lIGJlY2F1c2UgdGhhdCdzXG4gICAgLy8gaG93IEZpYmVyIHVzZXMgaXQuXG4gICAgc2NoZWR1bGVkUklDQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICBpZiAob3B0aW9ucyAhPSBudWxsICYmIHR5cGVvZiBvcHRpb25zLnRpbWVvdXQgPT09ICdudW1iZXInKSB7XG4gICAgICB0aW1lb3V0VGltZSA9IG5vdygpICsgb3B0aW9ucy50aW1lb3V0O1xuICAgIH1cbiAgICBpZiAoIWlzQW5pbWF0aW9uRnJhbWVTY2hlZHVsZWQpIHtcbiAgICAgIC8vIElmIHJBRiBkaWRuJ3QgYWxyZWFkeSBzY2hlZHVsZSBvbmUsIHdlIG5lZWQgdG8gc2NoZWR1bGUgYSBmcmFtZS5cbiAgICAgIC8vIFRPRE86IElmIHRoaXMgckFGIGRvZXNuJ3QgbWF0ZXJpYWxpemUgYmVjYXVzZSB0aGUgYnJvd3NlciB0aHJvdHRsZXMsIHdlXG4gICAgICAvLyBtaWdodCB3YW50IHRvIHN0aWxsIGhhdmUgc2V0VGltZW91dCB0cmlnZ2VyIHJJQyBhcyBhIGJhY2t1cCB0byBlbnN1cmVcbiAgICAgIC8vIHRoYXQgd2Uga2VlcCBwZXJmb3JtaW5nIHdvcmsuXG4gICAgICBpc0FuaW1hdGlvbkZyYW1lU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRpb25UaWNrKTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH07XG5cbiAgY0lDID0gZnVuY3Rpb24gKCkge1xuICAgIHNjaGVkdWxlZFJJQ0NhbGxiYWNrID0gbnVsbDtcbiAgICBpc0lkbGVTY2hlZHVsZWQgPSBmYWxzZTtcbiAgICB0aW1lb3V0VGltZSA9IC0xO1xuICB9O1xufSBlbHNlIHtcbiAgcklDID0gd2luZG93LnJlcXVlc3RJZGxlQ2FsbGJhY2s7XG4gIGNJQyA9IHdpbmRvdy5jYW5jZWxJZGxlQ2FsbGJhY2s7XG59XG5cbnZhciBkaWRXYXJuU2VsZWN0ZWRTZXRPbk9wdGlvbiA9IGZhbHNlO1xuXG5mdW5jdGlvbiBmbGF0dGVuQ2hpbGRyZW4oY2hpbGRyZW4pIHtcbiAgdmFyIGNvbnRlbnQgPSAnJztcblxuICAvLyBGbGF0dGVuIGNoaWxkcmVuIGFuZCB3YXJuIGlmIHRoZXkgYXJlbid0IHN0cmluZ3Mgb3IgbnVtYmVycztcbiAgLy8gaW52YWxpZCB0eXBlcyBhcmUgaWdub3JlZC5cbiAgLy8gV2UgY2FuIHNpbGVudGx5IHNraXAgdGhlbSBiZWNhdXNlIGludmFsaWQgRE9NIG5lc3Rpbmcgd2FybmluZ1xuICAvLyBjYXRjaGVzIHRoZXNlIGNhc2VzIGluIEZpYmVyLlxuICBSZWFjdC5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICBpZiAoY2hpbGQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNoaWxkID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgY2hpbGQgPT09ICdudW1iZXInKSB7XG4gICAgICBjb250ZW50ICs9IGNoaWxkO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbi8qKlxuICogSW1wbGVtZW50cyBhbiA8b3B0aW9uPiBob3N0IGNvbXBvbmVudCB0aGF0IHdhcm5zIHdoZW4gYHNlbGVjdGVkYCBpcyBzZXQuXG4gKi9cblxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wcyhlbGVtZW50LCBwcm9wcykge1xuICAvLyBUT0RPICh5dW5nc3RlcnMpOiBSZW1vdmUgc3VwcG9ydCBmb3IgYHNlbGVjdGVkYCBpbiA8b3B0aW9uPi5cbiAge1xuICAgIGlmIChwcm9wcy5zZWxlY3RlZCAhPSBudWxsICYmICFkaWRXYXJuU2VsZWN0ZWRTZXRPbk9wdGlvbikge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ1VzZSB0aGUgYGRlZmF1bHRWYWx1ZWAgb3IgYHZhbHVlYCBwcm9wcyBvbiA8c2VsZWN0PiBpbnN0ZWFkIG9mICcgKyAnc2V0dGluZyBgc2VsZWN0ZWRgIG9uIDxvcHRpb24+LicpO1xuICAgICAgZGlkV2FyblNlbGVjdGVkU2V0T25PcHRpb24gPSB0cnVlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBwb3N0TW91bnRXcmFwcGVyJDEoZWxlbWVudCwgcHJvcHMpIHtcbiAgLy8gdmFsdWU9XCJcIiBzaG91bGQgbWFrZSBhIHZhbHVlIGF0dHJpYnV0ZSAoIzYyMTkpXG4gIGlmIChwcm9wcy52YWx1ZSAhPSBudWxsKSB7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgcHJvcHMudmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldEhvc3RQcm9wcyQxKGVsZW1lbnQsIHByb3BzKSB7XG4gIHZhciBob3N0UHJvcHMgPSBfYXNzaWduKHsgY2hpbGRyZW46IHVuZGVmaW5lZCB9LCBwcm9wcyk7XG4gIHZhciBjb250ZW50ID0gZmxhdHRlbkNoaWxkcmVuKHByb3BzLmNoaWxkcmVuKTtcblxuICBpZiAoY29udGVudCkge1xuICAgIGhvc3RQcm9wcy5jaGlsZHJlbiA9IGNvbnRlbnQ7XG4gIH1cblxuICByZXR1cm4gaG9zdFByb3BzO1xufVxuXG4vLyBUT0RPOiBkaXJlY3QgaW1wb3J0cyBsaWtlIHNvbWUtcGFja2FnZS9zcmMvKiBhcmUgYmFkLiBGaXggbWUuXG52YXIgZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lJDMgPSBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmdldEN1cnJlbnRGaWJlck93bmVyTmFtZTtcbnZhciBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDQgPSBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW07XG5cblxudmFyIGRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSQxID0gdm9pZCAwO1xuXG57XG4gIGRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSQxID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpIHtcbiAgdmFyIG93bmVyTmFtZSA9IGdldEN1cnJlbnRGaWJlck93bmVyTmFtZSQzKCk7XG4gIGlmIChvd25lck5hbWUpIHtcbiAgICByZXR1cm4gJ1xcblxcbkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGAnICsgb3duZXJOYW1lICsgJ2AuJztcbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbnZhciB2YWx1ZVByb3BOYW1lcyA9IFsndmFsdWUnLCAnZGVmYXVsdFZhbHVlJ107XG5cbi8qKlxuICogVmFsaWRhdGlvbiBmdW5jdGlvbiBmb3IgYHZhbHVlYCBhbmQgYGRlZmF1bHRWYWx1ZWAuXG4gKi9cbmZ1bmN0aW9uIGNoZWNrU2VsZWN0UHJvcFR5cGVzKHByb3BzKSB7XG4gIFJlYWN0Q29udHJvbGxlZFZhbHVlUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCdzZWxlY3QnLCBwcm9wcywgZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQ0KTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlUHJvcE5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHByb3BOYW1lID0gdmFsdWVQcm9wTmFtZXNbaV07XG4gICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5KHByb3BzW3Byb3BOYW1lXSk7XG4gICAgaWYgKHByb3BzLm11bHRpcGxlICYmICFpc0FycmF5KSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnVGhlIGAlc2AgcHJvcCBzdXBwbGllZCB0byA8c2VsZWN0PiBtdXN0IGJlIGFuIGFycmF5IGlmICcgKyAnYG11bHRpcGxlYCBpcyB0cnVlLiVzJywgcHJvcE5hbWUsIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpKTtcbiAgICB9IGVsc2UgaWYgKCFwcm9wcy5tdWx0aXBsZSAmJiBpc0FycmF5KSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnVGhlIGAlc2AgcHJvcCBzdXBwbGllZCB0byA8c2VsZWN0PiBtdXN0IGJlIGEgc2NhbGFyICcgKyAndmFsdWUgaWYgYG11bHRpcGxlYCBpcyBmYWxzZS4lcycsIHByb3BOYW1lLCBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZU9wdGlvbnMobm9kZSwgbXVsdGlwbGUsIHByb3BWYWx1ZSwgc2V0RGVmYXVsdFNlbGVjdGVkKSB7XG4gIHZhciBvcHRpb25zID0gbm9kZS5vcHRpb25zO1xuXG4gIGlmIChtdWx0aXBsZSkge1xuICAgIHZhciBzZWxlY3RlZFZhbHVlcyA9IHByb3BWYWx1ZTtcbiAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0ZWRWYWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIFByZWZpeCB0byBhdm9pZCBjaGFvcyB3aXRoIHNwZWNpYWwga2V5cy5cbiAgICAgIHNlbGVjdGVkVmFsdWVbJyQnICsgc2VsZWN0ZWRWYWx1ZXNbaV1dID0gdHJ1ZTtcbiAgICB9XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG9wdGlvbnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgc2VsZWN0ZWQgPSBzZWxlY3RlZFZhbHVlLmhhc093blByb3BlcnR5KCckJyArIG9wdGlvbnNbX2ldLnZhbHVlKTtcbiAgICAgIGlmIChvcHRpb25zW19pXS5zZWxlY3RlZCAhPT0gc2VsZWN0ZWQpIHtcbiAgICAgICAgb3B0aW9uc1tfaV0uc2VsZWN0ZWQgPSBzZWxlY3RlZDtcbiAgICAgIH1cbiAgICAgIGlmIChzZWxlY3RlZCAmJiBzZXREZWZhdWx0U2VsZWN0ZWQpIHtcbiAgICAgICAgb3B0aW9uc1tfaV0uZGVmYXVsdFNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gRG8gbm90IHNldCBgc2VsZWN0LnZhbHVlYCBhcyBleGFjdCBiZWhhdmlvciBpc24ndCBjb25zaXN0ZW50IGFjcm9zcyBhbGxcbiAgICAvLyBicm93c2VycyBmb3IgYWxsIGNhc2VzLlxuICAgIHZhciBfc2VsZWN0ZWRWYWx1ZSA9ICcnICsgcHJvcFZhbHVlO1xuICAgIHZhciBkZWZhdWx0U2VsZWN0ZWQgPSBudWxsO1xuICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IG9wdGlvbnMubGVuZ3RoOyBfaTIrKykge1xuICAgICAgaWYgKG9wdGlvbnNbX2kyXS52YWx1ZSA9PT0gX3NlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgb3B0aW9uc1tfaTJdLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHNldERlZmF1bHRTZWxlY3RlZCkge1xuICAgICAgICAgIG9wdGlvbnNbX2kyXS5kZWZhdWx0U2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChkZWZhdWx0U2VsZWN0ZWQgPT09IG51bGwgJiYgIW9wdGlvbnNbX2kyXS5kaXNhYmxlZCkge1xuICAgICAgICBkZWZhdWx0U2VsZWN0ZWQgPSBvcHRpb25zW19pMl07XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChkZWZhdWx0U2VsZWN0ZWQgIT09IG51bGwpIHtcbiAgICAgIGRlZmF1bHRTZWxlY3RlZC5zZWxlY3RlZCA9IHRydWU7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogSW1wbGVtZW50cyBhIDxzZWxlY3Q+IGhvc3QgY29tcG9uZW50IHRoYXQgYWxsb3dzIG9wdGlvbmFsbHkgc2V0dGluZyB0aGVcbiAqIHByb3BzIGB2YWx1ZWAgYW5kIGBkZWZhdWx0VmFsdWVgLiBJZiBgbXVsdGlwbGVgIGlzIGZhbHNlLCB0aGUgcHJvcCBtdXN0IGJlIGFcbiAqIHN0cmluZ2FibGUuIElmIGBtdWx0aXBsZWAgaXMgdHJ1ZSwgdGhlIHByb3AgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdhYmxlcy5cbiAqXG4gKiBJZiBgdmFsdWVgIGlzIG5vdCBzdXBwbGllZCAob3IgbnVsbC91bmRlZmluZWQpLCB1c2VyIGFjdGlvbnMgdGhhdCBjaGFuZ2UgdGhlXG4gKiBzZWxlY3RlZCBvcHRpb24gd2lsbCB0cmlnZ2VyIHVwZGF0ZXMgdG8gdGhlIHJlbmRlcmVkIG9wdGlvbnMuXG4gKlxuICogSWYgaXQgaXMgc3VwcGxpZWQgKGFuZCBub3QgbnVsbC91bmRlZmluZWQpLCB0aGUgcmVuZGVyZWQgb3B0aW9ucyB3aWxsIG5vdFxuICogdXBkYXRlIGluIHJlc3BvbnNlIHRvIHVzZXIgYWN0aW9ucy4gSW5zdGVhZCwgdGhlIGB2YWx1ZWAgcHJvcCBtdXN0IGNoYW5nZSBpblxuICogb3JkZXIgZm9yIHRoZSByZW5kZXJlZCBvcHRpb25zIHRvIHVwZGF0ZS5cbiAqXG4gKiBJZiBgZGVmYXVsdFZhbHVlYCBpcyBwcm92aWRlZCwgYW55IG9wdGlvbnMgd2l0aCB0aGUgc3VwcGxpZWQgdmFsdWVzIHdpbGwgYmVcbiAqIHNlbGVjdGVkLlxuICovXG5cbmZ1bmN0aW9uIGdldEhvc3RQcm9wcyQyKGVsZW1lbnQsIHByb3BzKSB7XG4gIHJldHVybiBfYXNzaWduKHt9LCBwcm9wcywge1xuICAgIHZhbHVlOiB1bmRlZmluZWRcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGluaXRXcmFwcGVyU3RhdGUkMShlbGVtZW50LCBwcm9wcykge1xuICB2YXIgbm9kZSA9IGVsZW1lbnQ7XG4gIHtcbiAgICBjaGVja1NlbGVjdFByb3BUeXBlcyhwcm9wcyk7XG4gIH1cblxuICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZTtcbiAgbm9kZS5fd3JhcHBlclN0YXRlID0ge1xuICAgIGluaXRpYWxWYWx1ZTogdmFsdWUgIT0gbnVsbCA/IHZhbHVlIDogcHJvcHMuZGVmYXVsdFZhbHVlLFxuICAgIHdhc011bHRpcGxlOiAhIXByb3BzLm11bHRpcGxlXG4gIH07XG5cbiAge1xuICAgIGlmIChwcm9wcy52YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHByb3BzLmRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkICYmICFkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUkMSkge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ1NlbGVjdCBlbGVtZW50cyBtdXN0IGJlIGVpdGhlciBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCAnICsgJyhzcGVjaWZ5IGVpdGhlciB0aGUgdmFsdWUgcHJvcCwgb3IgdGhlIGRlZmF1bHRWYWx1ZSBwcm9wLCBidXQgbm90ICcgKyAnYm90aCkuIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgc2VsZWN0ICcgKyAnZWxlbWVudCBhbmQgcmVtb3ZlIG9uZSBvZiB0aGVzZSBwcm9wcy4gTW9yZSBpbmZvOiAnICsgJ2h0dHBzOi8vZmIubWUvcmVhY3QtY29udHJvbGxlZC1jb21wb25lbnRzJyk7XG4gICAgICBkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUkMSA9IHRydWU7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHBvc3RNb3VudFdyYXBwZXIkMihlbGVtZW50LCBwcm9wcykge1xuICB2YXIgbm9kZSA9IGVsZW1lbnQ7XG4gIG5vZGUubXVsdGlwbGUgPSAhIXByb3BzLm11bHRpcGxlO1xuICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZTtcbiAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICB1cGRhdGVPcHRpb25zKG5vZGUsICEhcHJvcHMubXVsdGlwbGUsIHZhbHVlLCBmYWxzZSk7XG4gIH0gZWxzZSBpZiAocHJvcHMuZGVmYXVsdFZhbHVlICE9IG51bGwpIHtcbiAgICB1cGRhdGVPcHRpb25zKG5vZGUsICEhcHJvcHMubXVsdGlwbGUsIHByb3BzLmRlZmF1bHRWYWx1ZSwgdHJ1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcG9zdFVwZGF0ZVdyYXBwZXIoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuICAvLyBBZnRlciB0aGUgaW5pdGlhbCBtb3VudCwgd2UgY29udHJvbCBzZWxlY3RlZC1uZXNzIG1hbnVhbGx5IHNvIGRvbid0IHBhc3NcbiAgLy8gdGhpcyB2YWx1ZSBkb3duXG4gIG5vZGUuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWUgPSB1bmRlZmluZWQ7XG5cbiAgdmFyIHdhc011bHRpcGxlID0gbm9kZS5fd3JhcHBlclN0YXRlLndhc011bHRpcGxlO1xuICBub2RlLl93cmFwcGVyU3RhdGUud2FzTXVsdGlwbGUgPSAhIXByb3BzLm11bHRpcGxlO1xuXG4gIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlO1xuICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgIHVwZGF0ZU9wdGlvbnMobm9kZSwgISFwcm9wcy5tdWx0aXBsZSwgdmFsdWUsIGZhbHNlKTtcbiAgfSBlbHNlIGlmICh3YXNNdWx0aXBsZSAhPT0gISFwcm9wcy5tdWx0aXBsZSkge1xuICAgIC8vIEZvciBzaW1wbGljaXR5LCByZWFwcGx5IGBkZWZhdWx0VmFsdWVgIGlmIGBtdWx0aXBsZWAgaXMgdG9nZ2xlZC5cbiAgICBpZiAocHJvcHMuZGVmYXVsdFZhbHVlICE9IG51bGwpIHtcbiAgICAgIHVwZGF0ZU9wdGlvbnMobm9kZSwgISFwcm9wcy5tdWx0aXBsZSwgcHJvcHMuZGVmYXVsdFZhbHVlLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmV2ZXJ0IHRoZSBzZWxlY3QgYmFjayB0byBpdHMgZGVmYXVsdCB1bnNlbGVjdGVkIHN0YXRlLlxuICAgICAgdXBkYXRlT3B0aW9ucyhub2RlLCAhIXByb3BzLm11bHRpcGxlLCBwcm9wcy5tdWx0aXBsZSA/IFtdIDogJycsIGZhbHNlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzdG9yZUNvbnRyb2xsZWRTdGF0ZSQyKGVsZW1lbnQsIHByb3BzKSB7XG4gIHZhciBub2RlID0gZWxlbWVudDtcbiAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWU7XG5cbiAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICB1cGRhdGVPcHRpb25zKG5vZGUsICEhcHJvcHMubXVsdGlwbGUsIHZhbHVlLCBmYWxzZSk7XG4gIH1cbn1cblxuLy8gVE9ETzogZGlyZWN0IGltcG9ydHMgbGlrZSBzb21lLXBhY2thZ2Uvc3JjLyogYXJlIGJhZC4gRml4IG1lLlxudmFyIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kNSA9IFJlYWN0RGVidWdDdXJyZW50RmliZXIuZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bTtcblxudmFyIGRpZFdhcm5WYWxEZWZhdWx0VmFsID0gZmFsc2U7XG5cbi8qKlxuICogSW1wbGVtZW50cyBhIDx0ZXh0YXJlYT4gaG9zdCBjb21wb25lbnQgdGhhdCBhbGxvd3Mgc2V0dGluZyBgdmFsdWVgLCBhbmRcbiAqIGBkZWZhdWx0VmFsdWVgLiBUaGlzIGRpZmZlcnMgZnJvbSB0aGUgdHJhZGl0aW9uYWwgRE9NIEFQSSBiZWNhdXNlIHZhbHVlIGlzXG4gKiB1c3VhbGx5IHNldCBhcyBQQ0RBVEEgY2hpbGRyZW4uXG4gKlxuICogSWYgYHZhbHVlYCBpcyBub3Qgc3VwcGxpZWQgKG9yIG51bGwvdW5kZWZpbmVkKSwgdXNlciBhY3Rpb25zIHRoYXQgYWZmZWN0IHRoZVxuICogdmFsdWUgd2lsbCB0cmlnZ2VyIHVwZGF0ZXMgdG8gdGhlIGVsZW1lbnQuXG4gKlxuICogSWYgYHZhbHVlYCBpcyBzdXBwbGllZCAoYW5kIG5vdCBudWxsL3VuZGVmaW5lZCksIHRoZSByZW5kZXJlZCBlbGVtZW50IHdpbGxcbiAqIG5vdCB0cmlnZ2VyIHVwZGF0ZXMgdG8gdGhlIGVsZW1lbnQuIEluc3RlYWQsIHRoZSBgdmFsdWVgIHByb3AgbXVzdCBjaGFuZ2UgaW5cbiAqIG9yZGVyIGZvciB0aGUgcmVuZGVyZWQgZWxlbWVudCB0byBiZSB1cGRhdGVkLlxuICpcbiAqIFRoZSByZW5kZXJlZCBlbGVtZW50IHdpbGwgYmUgaW5pdGlhbGl6ZWQgd2l0aCBhbiBlbXB0eSB2YWx1ZSwgdGhlIHByb3BcbiAqIGBkZWZhdWx0VmFsdWVgIGlmIHNwZWNpZmllZCwgb3IgdGhlIGNoaWxkcmVuIGNvbnRlbnQgKGRlcHJlY2F0ZWQpLlxuICovXG5cbmZ1bmN0aW9uIGdldEhvc3RQcm9wcyQzKGVsZW1lbnQsIHByb3BzKSB7XG4gIHZhciBub2RlID0gZWxlbWVudDtcbiAgIShwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCA9PSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ2BkYW5nZXJvdXNseVNldElubmVySFRNTGAgZG9lcyBub3QgbWFrZSBzZW5zZSBvbiA8dGV4dGFyZWE+LicpIDogdm9pZCAwO1xuXG4gIC8vIEFsd2F5cyBzZXQgY2hpbGRyZW4gdG8gdGhlIHNhbWUgdGhpbmcuIEluIElFOSwgdGhlIHNlbGVjdGlvbiByYW5nZSB3aWxsXG4gIC8vIGdldCByZXNldCBpZiBgdGV4dENvbnRlbnRgIGlzIG11dGF0ZWQuICBXZSBjb3VsZCBhZGQgYSBjaGVjayBpbiBzZXRUZXh0Q29udGVudFxuICAvLyB0byBvbmx5IHNldCB0aGUgdmFsdWUgaWYvd2hlbiB0aGUgdmFsdWUgZGlmZmVycyBmcm9tIHRoZSBub2RlIHZhbHVlICh3aGljaCB3b3VsZFxuICAvLyBjb21wbGV0ZWx5IHNvbHZlIHRoaXMgSUU5IGJ1ZyksIGJ1dCBTZWJhc3RpYW4rU29waGllIHNlZW1lZCB0byBsaWtlIHRoaXNcbiAgLy8gc29sdXRpb24uIFRoZSB2YWx1ZSBjYW4gYmUgYSBib29sZWFuIG9yIG9iamVjdCBzbyB0aGF0J3Mgd2h5IGl0J3MgZm9yY2VkXG4gIC8vIHRvIGJlIGEgc3RyaW5nLlxuICB2YXIgaG9zdFByb3BzID0gX2Fzc2lnbih7fSwgcHJvcHMsIHtcbiAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkLFxuICAgIGNoaWxkcmVuOiAnJyArIG5vZGUuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWVcbiAgfSk7XG5cbiAgcmV0dXJuIGhvc3RQcm9wcztcbn1cblxuZnVuY3Rpb24gaW5pdFdyYXBwZXJTdGF0ZSQyKGVsZW1lbnQsIHByb3BzKSB7XG4gIHZhciBub2RlID0gZWxlbWVudDtcbiAge1xuICAgIFJlYWN0Q29udHJvbGxlZFZhbHVlUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCd0ZXh0YXJlYScsIHByb3BzLCBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDUpO1xuICAgIGlmIChwcm9wcy52YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHByb3BzLmRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkICYmICFkaWRXYXJuVmFsRGVmYXVsdFZhbCkge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ1RleHRhcmVhIGVsZW1lbnRzIG11c3QgYmUgZWl0aGVyIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkICcgKyAnKHNwZWNpZnkgZWl0aGVyIHRoZSB2YWx1ZSBwcm9wLCBvciB0aGUgZGVmYXVsdFZhbHVlIHByb3AsIGJ1dCBub3QgJyArICdib3RoKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCB0ZXh0YXJlYSAnICsgJ2FuZCByZW1vdmUgb25lIG9mIHRoZXNlIHByb3BzLiBNb3JlIGluZm86ICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1jb250cm9sbGVkLWNvbXBvbmVudHMnKTtcbiAgICAgIGRpZFdhcm5WYWxEZWZhdWx0VmFsID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICB2YXIgaW5pdGlhbFZhbHVlID0gcHJvcHMudmFsdWU7XG5cbiAgLy8gT25seSBib3RoZXIgZmV0Y2hpbmcgZGVmYXVsdCB2YWx1ZSBpZiB3ZSdyZSBnb2luZyB0byB1c2UgaXRcbiAgaWYgKGluaXRpYWxWYWx1ZSA9PSBudWxsKSB7XG4gICAgdmFyIGRlZmF1bHRWYWx1ZSA9IHByb3BzLmRlZmF1bHRWYWx1ZTtcbiAgICAvLyBUT0RPICh5dW5nc3RlcnMpOiBSZW1vdmUgc3VwcG9ydCBmb3IgY2hpbGRyZW4gY29udGVudCBpbiA8dGV4dGFyZWE+LlxuICAgIHZhciBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xuICAgIGlmIChjaGlsZHJlbiAhPSBudWxsKSB7XG4gICAgICB7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICdVc2UgdGhlIGBkZWZhdWx0VmFsdWVgIG9yIGB2YWx1ZWAgcHJvcHMgaW5zdGVhZCBvZiBzZXR0aW5nICcgKyAnY2hpbGRyZW4gb24gPHRleHRhcmVhPi4nKTtcbiAgICAgIH1cbiAgICAgICEoZGVmYXVsdFZhbHVlID09IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnSWYgeW91IHN1cHBseSBgZGVmYXVsdFZhbHVlYCBvbiBhIDx0ZXh0YXJlYT4sIGRvIG5vdCBwYXNzIGNoaWxkcmVuLicpIDogdm9pZCAwO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgICAgICEoY2hpbGRyZW4ubGVuZ3RoIDw9IDEpID8gaW52YXJpYW50KGZhbHNlLCAnPHRleHRhcmVhPiBjYW4gb25seSBoYXZlIGF0IG1vc3Qgb25lIGNoaWxkLicpIDogdm9pZCAwO1xuICAgICAgICBjaGlsZHJlbiA9IGNoaWxkcmVuWzBdO1xuICAgICAgfVxuXG4gICAgICBkZWZhdWx0VmFsdWUgPSAnJyArIGNoaWxkcmVuO1xuICAgIH1cbiAgICBpZiAoZGVmYXVsdFZhbHVlID09IG51bGwpIHtcbiAgICAgIGRlZmF1bHRWYWx1ZSA9ICcnO1xuICAgIH1cbiAgICBpbml0aWFsVmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gIH1cblxuICBub2RlLl93cmFwcGVyU3RhdGUgPSB7XG4gICAgaW5pdGlhbFZhbHVlOiAnJyArIGluaXRpYWxWYWx1ZVxuICB9O1xufVxuXG5mdW5jdGlvbiB1cGRhdGVXcmFwcGVyJDEoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZTtcbiAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAvLyBDYXN0IGB2YWx1ZWAgdG8gYSBzdHJpbmcgdG8gZW5zdXJlIHRoZSB2YWx1ZSBpcyBzZXQgY29ycmVjdGx5LiBXaGlsZVxuICAgIC8vIGJyb3dzZXJzIHR5cGljYWxseSBkbyB0aGlzIGFzIG5lY2Vzc2FyeSwganNkb20gZG9lc24ndC5cbiAgICB2YXIgbmV3VmFsdWUgPSAnJyArIHZhbHVlO1xuXG4gICAgLy8gVG8gYXZvaWQgc2lkZSBlZmZlY3RzIChzdWNoIGFzIGxvc2luZyB0ZXh0IHNlbGVjdGlvbiksIG9ubHkgc2V0IHZhbHVlIGlmIGNoYW5nZWRcbiAgICBpZiAobmV3VmFsdWUgIT09IG5vZGUudmFsdWUpIHtcbiAgICAgIG5vZGUudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICB9XG4gICAgaWYgKHByb3BzLmRlZmF1bHRWYWx1ZSA9PSBudWxsKSB7XG4gICAgICBub2RlLmRlZmF1bHRWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgIH1cbiAgfVxuICBpZiAocHJvcHMuZGVmYXVsdFZhbHVlICE9IG51bGwpIHtcbiAgICBub2RlLmRlZmF1bHRWYWx1ZSA9IHByb3BzLmRlZmF1bHRWYWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwb3N0TW91bnRXcmFwcGVyJDMoZWxlbWVudCwgcHJvcHMpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50O1xuICAvLyBUaGlzIGlzIGluIHBvc3RNb3VudCBiZWNhdXNlIHdlIG5lZWQgYWNjZXNzIHRvIHRoZSBET00gbm9kZSwgd2hpY2ggaXMgbm90XG4gIC8vIGF2YWlsYWJsZSB1bnRpbCBhZnRlciB0aGUgY29tcG9uZW50IGhhcyBtb3VudGVkLlxuICB2YXIgdGV4dENvbnRlbnQgPSBub2RlLnRleHRDb250ZW50O1xuXG4gIC8vIE9ubHkgc2V0IG5vZGUudmFsdWUgaWYgdGV4dENvbnRlbnQgaXMgZXF1YWwgdG8gdGhlIGV4cGVjdGVkXG4gIC8vIGluaXRpYWwgdmFsdWUuIEluIElFMTAvSUUxMSB0aGVyZSBpcyBhIGJ1ZyB3aGVyZSB0aGUgcGxhY2Vob2xkZXIgYXR0cmlidXRlXG4gIC8vIHdpbGwgcG9wdWxhdGUgdGV4dENvbnRlbnQgYXMgd2VsbC5cbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubWljcm9zb2Z0LmNvbS9taWNyb3NvZnQtZWRnZS9wbGF0Zm9ybS9pc3N1ZXMvMTAxNTI1L1xuICBpZiAodGV4dENvbnRlbnQgPT09IG5vZGUuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWUpIHtcbiAgICBub2RlLnZhbHVlID0gdGV4dENvbnRlbnQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzdG9yZUNvbnRyb2xsZWRTdGF0ZSQzKGVsZW1lbnQsIHByb3BzKSB7XG4gIC8vIERPTSBjb21wb25lbnQgaXMgc3RpbGwgbW91bnRlZDsgdXBkYXRlXG4gIHVwZGF0ZVdyYXBwZXIkMShlbGVtZW50LCBwcm9wcyk7XG59XG5cbnZhciBIVE1MX05BTUVTUEFDRSQxID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwnO1xudmFyIE1BVEhfTkFNRVNQQUNFID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUwnO1xudmFyIFNWR19OQU1FU1BBQ0UgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuXG52YXIgTmFtZXNwYWNlcyA9IHtcbiAgaHRtbDogSFRNTF9OQU1FU1BBQ0UkMSxcbiAgbWF0aG1sOiBNQVRIX05BTUVTUEFDRSxcbiAgc3ZnOiBTVkdfTkFNRVNQQUNFXG59O1xuXG4vLyBBc3N1bWVzIHRoZXJlIGlzIG5vIHBhcmVudCBuYW1lc3BhY2UuXG5mdW5jdGlvbiBnZXRJbnRyaW5zaWNOYW1lc3BhY2UodHlwZSkge1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdzdmcnOlxuICAgICAgcmV0dXJuIFNWR19OQU1FU1BBQ0U7XG4gICAgY2FzZSAnbWF0aCc6XG4gICAgICByZXR1cm4gTUFUSF9OQU1FU1BBQ0U7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBIVE1MX05BTUVTUEFDRSQxO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldENoaWxkTmFtZXNwYWNlKHBhcmVudE5hbWVzcGFjZSwgdHlwZSkge1xuICBpZiAocGFyZW50TmFtZXNwYWNlID09IG51bGwgfHwgcGFyZW50TmFtZXNwYWNlID09PSBIVE1MX05BTUVTUEFDRSQxKSB7XG4gICAgLy8gTm8gKG9yIGRlZmF1bHQpIHBhcmVudCBuYW1lc3BhY2U6IHBvdGVudGlhbCBlbnRyeSBwb2ludC5cbiAgICByZXR1cm4gZ2V0SW50cmluc2ljTmFtZXNwYWNlKHR5cGUpO1xuICB9XG4gIGlmIChwYXJlbnROYW1lc3BhY2UgPT09IFNWR19OQU1FU1BBQ0UgJiYgdHlwZSA9PT0gJ2ZvcmVpZ25PYmplY3QnKSB7XG4gICAgLy8gV2UncmUgbGVhdmluZyBTVkcuXG4gICAgcmV0dXJuIEhUTUxfTkFNRVNQQUNFJDE7XG4gIH1cbiAgLy8gQnkgZGVmYXVsdCwgcGFzcyBuYW1lc3BhY2UgYmVsb3cuXG4gIHJldHVybiBwYXJlbnROYW1lc3BhY2U7XG59XG5cbi8qIGdsb2JhbHMgTVNBcHAgKi9cblxuLyoqXG4gKiBDcmVhdGUgYSBmdW5jdGlvbiB3aGljaCBoYXMgJ3Vuc2FmZScgcHJpdmlsZWdlcyAocmVxdWlyZWQgYnkgd2luZG93czggYXBwcylcbiAqL1xudmFyIGNyZWF0ZU1pY3Jvc29mdFVuc2FmZUxvY2FsRnVuY3Rpb24gPSBmdW5jdGlvbiAoZnVuYykge1xuICBpZiAodHlwZW9mIE1TQXBwICE9PSAndW5kZWZpbmVkJyAmJiBNU0FwcC5leGVjVW5zYWZlTG9jYWxGdW5jdGlvbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYXJnMCwgYXJnMSwgYXJnMiwgYXJnMykge1xuICAgICAgTVNBcHAuZXhlY1Vuc2FmZUxvY2FsRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZnVuYyhhcmcwLCBhcmcxLCBhcmcyLCBhcmczKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZ1bmM7XG4gIH1cbn07XG5cbi8vIFNWRyB0ZW1wIGNvbnRhaW5lciBmb3IgSUUgbGFja2luZyBpbm5lckhUTUxcbnZhciByZXVzYWJsZVNWR0NvbnRhaW5lciA9IHZvaWQgMDtcblxuLyoqXG4gKiBTZXQgdGhlIGlubmVySFRNTCBwcm9wZXJ0eSBvZiBhIG5vZGVcbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG4gKiBAaW50ZXJuYWxcbiAqL1xudmFyIHNldElubmVySFRNTCA9IGNyZWF0ZU1pY3Jvc29mdFVuc2FmZUxvY2FsRnVuY3Rpb24oZnVuY3Rpb24gKG5vZGUsIGh0bWwpIHtcbiAgLy8gSUUgZG9lcyBub3QgaGF2ZSBpbm5lckhUTUwgZm9yIFNWRyBub2Rlcywgc28gaW5zdGVhZCB3ZSBpbmplY3QgdGhlXG4gIC8vIG5ldyBtYXJrdXAgaW4gYSB0ZW1wIG5vZGUgYW5kIHRoZW4gbW92ZSB0aGUgY2hpbGQgbm9kZXMgYWNyb3NzIGludG9cbiAgLy8gdGhlIHRhcmdldCBub2RlXG5cbiAgaWYgKG5vZGUubmFtZXNwYWNlVVJJID09PSBOYW1lc3BhY2VzLnN2ZyAmJiAhKCdpbm5lckhUTUwnIGluIG5vZGUpKSB7XG4gICAgcmV1c2FibGVTVkdDb250YWluZXIgPSByZXVzYWJsZVNWR0NvbnRhaW5lciB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByZXVzYWJsZVNWR0NvbnRhaW5lci5pbm5lckhUTUwgPSAnPHN2Zz4nICsgaHRtbCArICc8L3N2Zz4nO1xuICAgIHZhciBzdmdOb2RlID0gcmV1c2FibGVTVkdDb250YWluZXIuZmlyc3RDaGlsZDtcbiAgICB3aGlsZSAobm9kZS5maXJzdENoaWxkKSB7XG4gICAgICBub2RlLnJlbW92ZUNoaWxkKG5vZGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIHdoaWxlIChzdmdOb2RlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoc3ZnTm9kZS5maXJzdENoaWxkKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbm9kZS5pbm5lckhUTUwgPSBodG1sO1xuICB9XG59KTtcblxuLyoqXG4gKiBTZXQgdGhlIHRleHRDb250ZW50IHByb3BlcnR5IG9mIGEgbm9kZS4gRm9yIHRleHQgdXBkYXRlcywgaXQncyBmYXN0ZXJcbiAqIHRvIHNldCB0aGUgYG5vZGVWYWx1ZWAgb2YgdGhlIFRleHQgbm9kZSBkaXJlY3RseSBpbnN0ZWFkIG9mIHVzaW5nXG4gKiBgLnRleHRDb250ZW50YCB3aGljaCB3aWxsIHJlbW92ZSB0aGUgZXhpc3Rpbmcgbm9kZSBhbmQgY3JlYXRlIGEgbmV3IG9uZS5cbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gKiBAaW50ZXJuYWxcbiAqL1xudmFyIHNldFRleHRDb250ZW50ID0gZnVuY3Rpb24gKG5vZGUsIHRleHQpIHtcbiAgaWYgKHRleHQpIHtcbiAgICB2YXIgZmlyc3RDaGlsZCA9IG5vZGUuZmlyc3RDaGlsZDtcblxuICAgIGlmIChmaXJzdENoaWxkICYmIGZpcnN0Q2hpbGQgPT09IG5vZGUubGFzdENoaWxkICYmIGZpcnN0Q2hpbGQubm9kZVR5cGUgPT09IFRFWFRfTk9ERSkge1xuICAgICAgZmlyc3RDaGlsZC5ub2RlVmFsdWUgPSB0ZXh0O1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBub2RlLnRleHRDb250ZW50ID0gdGV4dDtcbn07XG5cbi8qKlxuICogQ1NTIHByb3BlcnRpZXMgd2hpY2ggYWNjZXB0IG51bWJlcnMgYnV0IGFyZSBub3QgaW4gdW5pdHMgb2YgXCJweFwiLlxuICovXG52YXIgaXNVbml0bGVzc051bWJlciA9IHtcbiAgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6IHRydWUsXG4gIGJvcmRlckltYWdlT3V0c2V0OiB0cnVlLFxuICBib3JkZXJJbWFnZVNsaWNlOiB0cnVlLFxuICBib3JkZXJJbWFnZVdpZHRoOiB0cnVlLFxuICBib3hGbGV4OiB0cnVlLFxuICBib3hGbGV4R3JvdXA6IHRydWUsXG4gIGJveE9yZGluYWxHcm91cDogdHJ1ZSxcbiAgY29sdW1uQ291bnQ6IHRydWUsXG4gIGNvbHVtbnM6IHRydWUsXG4gIGZsZXg6IHRydWUsXG4gIGZsZXhHcm93OiB0cnVlLFxuICBmbGV4UG9zaXRpdmU6IHRydWUsXG4gIGZsZXhTaHJpbms6IHRydWUsXG4gIGZsZXhOZWdhdGl2ZTogdHJ1ZSxcbiAgZmxleE9yZGVyOiB0cnVlLFxuICBncmlkUm93OiB0cnVlLFxuICBncmlkUm93RW5kOiB0cnVlLFxuICBncmlkUm93U3BhbjogdHJ1ZSxcbiAgZ3JpZFJvd1N0YXJ0OiB0cnVlLFxuICBncmlkQ29sdW1uOiB0cnVlLFxuICBncmlkQ29sdW1uRW5kOiB0cnVlLFxuICBncmlkQ29sdW1uU3BhbjogdHJ1ZSxcbiAgZ3JpZENvbHVtblN0YXJ0OiB0cnVlLFxuICBmb250V2VpZ2h0OiB0cnVlLFxuICBsaW5lQ2xhbXA6IHRydWUsXG4gIGxpbmVIZWlnaHQ6IHRydWUsXG4gIG9wYWNpdHk6IHRydWUsXG4gIG9yZGVyOiB0cnVlLFxuICBvcnBoYW5zOiB0cnVlLFxuICB0YWJTaXplOiB0cnVlLFxuICB3aWRvd3M6IHRydWUsXG4gIHpJbmRleDogdHJ1ZSxcbiAgem9vbTogdHJ1ZSxcblxuICAvLyBTVkctcmVsYXRlZCBwcm9wZXJ0aWVzXG4gIGZpbGxPcGFjaXR5OiB0cnVlLFxuICBmbG9vZE9wYWNpdHk6IHRydWUsXG4gIHN0b3BPcGFjaXR5OiB0cnVlLFxuICBzdHJva2VEYXNoYXJyYXk6IHRydWUsXG4gIHN0cm9rZURhc2hvZmZzZXQ6IHRydWUsXG4gIHN0cm9rZU1pdGVybGltaXQ6IHRydWUsXG4gIHN0cm9rZU9wYWNpdHk6IHRydWUsXG4gIHN0cm9rZVdpZHRoOiB0cnVlXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcmVmaXggdmVuZG9yLXNwZWNpZmljIHByZWZpeCwgZWc6IFdlYmtpdFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBzdHlsZSBuYW1lLCBlZzogdHJhbnNpdGlvbkR1cmF0aW9uXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHN0eWxlIG5hbWUgcHJlZml4ZWQgd2l0aCBgcHJlZml4YCwgcHJvcGVybHkgY2FtZWxDYXNlZCwgZWc6XG4gKiBXZWJraXRUcmFuc2l0aW9uRHVyYXRpb25cbiAqL1xuZnVuY3Rpb24gcHJlZml4S2V5KHByZWZpeCwga2V5KSB7XG4gIHJldHVybiBwcmVmaXggKyBrZXkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBrZXkuc3Vic3RyaW5nKDEpO1xufVxuXG4vKipcbiAqIFN1cHBvcnQgc3R5bGUgbmFtZXMgdGhhdCBtYXkgY29tZSBwYXNzZWQgaW4gcHJlZml4ZWQgYnkgYWRkaW5nIHBlcm11dGF0aW9uc1xuICogb2YgdmVuZG9yIHByZWZpeGVzLlxuICovXG52YXIgcHJlZml4ZXMgPSBbJ1dlYmtpdCcsICdtcycsICdNb3onLCAnTyddO1xuXG4vLyBVc2luZyBPYmplY3Qua2V5cyBoZXJlLCBvciBlbHNlIHRoZSB2YW5pbGxhIGZvci1pbiBsb29wIG1ha2VzIElFOCBnbyBpbnRvIGFuXG4vLyBpbmZpbml0ZSBsb29wLCBiZWNhdXNlIGl0IGl0ZXJhdGVzIG92ZXIgdGhlIG5ld2x5IGFkZGVkIHByb3BzIHRvby5cbk9iamVjdC5rZXlzKGlzVW5pdGxlc3NOdW1iZXIpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgcHJlZml4ZXMuZm9yRWFjaChmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgaXNVbml0bGVzc051bWJlcltwcmVmaXhLZXkocHJlZml4LCBwcm9wKV0gPSBpc1VuaXRsZXNzTnVtYmVyW3Byb3BdO1xuICB9KTtcbn0pO1xuXG4vKipcbiAqIENvbnZlcnQgYSB2YWx1ZSBpbnRvIHRoZSBwcm9wZXIgY3NzIHdyaXRhYmxlIHZhbHVlLiBUaGUgc3R5bGUgbmFtZSBgbmFtZWBcbiAqIHNob3VsZCBiZSBsb2dpY2FsIChubyBoeXBoZW5zKSwgYXMgc3BlY2lmaWVkXG4gKiBpbiBgQ1NTUHJvcGVydHkuaXNVbml0bGVzc051bWJlcmAuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgQ1NTIHByb3BlcnR5IG5hbWUgc3VjaCBhcyBgdG9wTWFyZ2luYC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgQ1NTIHByb3BlcnR5IHZhbHVlIHN1Y2ggYXMgYDEwcHhgLlxuICogQHJldHVybiB7c3RyaW5nfSBOb3JtYWxpemVkIHN0eWxlIHZhbHVlIHdpdGggZGltZW5zaW9ucyBhcHBsaWVkLlxuICovXG5mdW5jdGlvbiBkYW5nZXJvdXNTdHlsZVZhbHVlKG5hbWUsIHZhbHVlLCBpc0N1c3RvbVByb3BlcnR5KSB7XG4gIC8vIE5vdGUgdGhhdCB3ZSd2ZSByZW1vdmVkIGVzY2FwZVRleHRGb3JCcm93c2VyKCkgY2FsbHMgaGVyZSBzaW5jZSB0aGVcbiAgLy8gd2hvbGUgc3RyaW5nIHdpbGwgYmUgZXNjYXBlZCB3aGVuIHRoZSBhdHRyaWJ1dGUgaXMgaW5qZWN0ZWQgaW50b1xuICAvLyB0aGUgbWFya3VwLiBJZiB5b3UgcHJvdmlkZSB1bnNhZmUgdXNlciBkYXRhIGhlcmUgdGhleSBjYW4gaW5qZWN0XG4gIC8vIGFyYml0cmFyeSBDU1Mgd2hpY2ggbWF5IGJlIHByb2JsZW1hdGljIChJIGNvdWxkbid0IHJlcHJvIHRoaXMpOlxuICAvLyBodHRwczovL3d3dy5vd2FzcC5vcmcvaW5kZXgucGhwL1hTU19GaWx0ZXJfRXZhc2lvbl9DaGVhdF9TaGVldFxuICAvLyBodHRwOi8vd3d3LnRoZXNwYW5uZXIuY28udWsvMjAwNy8xMS8yNi91bHRpbWF0ZS14c3MtY3NzLWluamVjdGlvbi9cbiAgLy8gVGhpcyBpcyBub3QgYW4gWFNTIGhvbGUgYnV0IGluc3RlYWQgYSBwb3RlbnRpYWwgQ1NTIGluamVjdGlvbiBpc3N1ZVxuICAvLyB3aGljaCBoYXMgbGVhZCB0byBhIGdyZWF0ZXIgZGlzY3Vzc2lvbiBhYm91dCBob3cgd2UncmUgZ29pbmcgdG9cbiAgLy8gdHJ1c3QgVVJMcyBtb3ZpbmcgZm9yd2FyZC4gU2VlICMyMTE1OTAxXG5cbiAgdmFyIGlzRW1wdHkgPSB2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nIHx8IHZhbHVlID09PSAnJztcbiAgaWYgKGlzRW1wdHkpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBpZiAoIWlzQ3VzdG9tUHJvcGVydHkgJiYgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiB2YWx1ZSAhPT0gMCAmJiAhKGlzVW5pdGxlc3NOdW1iZXIuaGFzT3duUHJvcGVydHkobmFtZSkgJiYgaXNVbml0bGVzc051bWJlcltuYW1lXSkpIHtcbiAgICByZXR1cm4gdmFsdWUgKyAncHgnOyAvLyBQcmVzdW1lcyBpbXBsaWNpdCAncHgnIHN1ZmZpeCBmb3IgdW5pdGxlc3MgbnVtYmVyc1xuICB9XG5cbiAgcmV0dXJuICgnJyArIHZhbHVlKS50cmltKCk7XG59XG5cbnZhciB3YXJuVmFsaWRTdHlsZSA9IGVtcHR5RnVuY3Rpb247XG5cbntcbiAgLy8gJ21zVHJhbnNmb3JtJyBpcyBjb3JyZWN0LCBidXQgdGhlIG90aGVyIHByZWZpeGVzIHNob3VsZCBiZSBjYXBpdGFsaXplZFxuICB2YXIgYmFkVmVuZG9yZWRTdHlsZU5hbWVQYXR0ZXJuID0gL14oPzp3ZWJraXR8bW96fG8pW0EtWl0vO1xuXG4gIC8vIHN0eWxlIHZhbHVlcyBzaG91bGRuJ3QgY29udGFpbiBhIHNlbWljb2xvblxuICB2YXIgYmFkU3R5bGVWYWx1ZVdpdGhTZW1pY29sb25QYXR0ZXJuID0gLztcXHMqJC87XG5cbiAgdmFyIHdhcm5lZFN0eWxlTmFtZXMgPSB7fTtcbiAgdmFyIHdhcm5lZFN0eWxlVmFsdWVzID0ge307XG4gIHZhciB3YXJuZWRGb3JOYU5WYWx1ZSA9IGZhbHNlO1xuICB2YXIgd2FybmVkRm9ySW5maW5pdHlWYWx1ZSA9IGZhbHNlO1xuXG4gIHZhciB3YXJuSHlwaGVuYXRlZFN0eWxlTmFtZSA9IGZ1bmN0aW9uIChuYW1lLCBnZXRTdGFjaykge1xuICAgIGlmICh3YXJuZWRTdHlsZU5hbWVzLmhhc093blByb3BlcnR5KG5hbWUpICYmIHdhcm5lZFN0eWxlTmFtZXNbbmFtZV0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3YXJuZWRTdHlsZU5hbWVzW25hbWVdID0gdHJ1ZTtcbiAgICB3YXJuaW5nKGZhbHNlLCAnVW5zdXBwb3J0ZWQgc3R5bGUgcHJvcGVydHkgJXMuIERpZCB5b3UgbWVhbiAlcz8lcycsIG5hbWUsIGNhbWVsaXplU3R5bGVOYW1lKG5hbWUpLCBnZXRTdGFjaygpKTtcbiAgfTtcblxuICB2YXIgd2FybkJhZFZlbmRvcmVkU3R5bGVOYW1lID0gZnVuY3Rpb24gKG5hbWUsIGdldFN0YWNrKSB7XG4gICAgaWYgKHdhcm5lZFN0eWxlTmFtZXMuaGFzT3duUHJvcGVydHkobmFtZSkgJiYgd2FybmVkU3R5bGVOYW1lc1tuYW1lXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdhcm5lZFN0eWxlTmFtZXNbbmFtZV0gPSB0cnVlO1xuICAgIHdhcm5pbmcoZmFsc2UsICdVbnN1cHBvcnRlZCB2ZW5kb3ItcHJlZml4ZWQgc3R5bGUgcHJvcGVydHkgJXMuIERpZCB5b3UgbWVhbiAlcz8lcycsIG5hbWUsIG5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKDEpLCBnZXRTdGFjaygpKTtcbiAgfTtcblxuICB2YXIgd2FyblN0eWxlVmFsdWVXaXRoU2VtaWNvbG9uID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlLCBnZXRTdGFjaykge1xuICAgIGlmICh3YXJuZWRTdHlsZVZhbHVlcy5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkgJiYgd2FybmVkU3R5bGVWYWx1ZXNbdmFsdWVdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd2FybmVkU3R5bGVWYWx1ZXNbdmFsdWVdID0gdHJ1ZTtcbiAgICB3YXJuaW5nKGZhbHNlLCBcIlN0eWxlIHByb3BlcnR5IHZhbHVlcyBzaG91bGRuJ3QgY29udGFpbiBhIHNlbWljb2xvbi4gXCIgKyAnVHJ5IFwiJXM6ICVzXCIgaW5zdGVhZC4lcycsIG5hbWUsIHZhbHVlLnJlcGxhY2UoYmFkU3R5bGVWYWx1ZVdpdGhTZW1pY29sb25QYXR0ZXJuLCAnJyksIGdldFN0YWNrKCkpO1xuICB9O1xuXG4gIHZhciB3YXJuU3R5bGVWYWx1ZUlzTmFOID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlLCBnZXRTdGFjaykge1xuICAgIGlmICh3YXJuZWRGb3JOYU5WYWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdhcm5lZEZvck5hTlZhbHVlID0gdHJ1ZTtcbiAgICB3YXJuaW5nKGZhbHNlLCAnYE5hTmAgaXMgYW4gaW52YWxpZCB2YWx1ZSBmb3IgdGhlIGAlc2AgY3NzIHN0eWxlIHByb3BlcnR5LiVzJywgbmFtZSwgZ2V0U3RhY2soKSk7XG4gIH07XG5cbiAgdmFyIHdhcm5TdHlsZVZhbHVlSXNJbmZpbml0eSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSwgZ2V0U3RhY2spIHtcbiAgICBpZiAod2FybmVkRm9ySW5maW5pdHlWYWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdhcm5lZEZvckluZmluaXR5VmFsdWUgPSB0cnVlO1xuICAgIHdhcm5pbmcoZmFsc2UsICdgSW5maW5pdHlgIGlzIGFuIGludmFsaWQgdmFsdWUgZm9yIHRoZSBgJXNgIGNzcyBzdHlsZSBwcm9wZXJ0eS4lcycsIG5hbWUsIGdldFN0YWNrKCkpO1xuICB9O1xuXG4gIHdhcm5WYWxpZFN0eWxlID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlLCBnZXRTdGFjaykge1xuICAgIGlmIChuYW1lLmluZGV4T2YoJy0nKSA+IC0xKSB7XG4gICAgICB3YXJuSHlwaGVuYXRlZFN0eWxlTmFtZShuYW1lLCBnZXRTdGFjayk7XG4gICAgfSBlbHNlIGlmIChiYWRWZW5kb3JlZFN0eWxlTmFtZVBhdHRlcm4udGVzdChuYW1lKSkge1xuICAgICAgd2FybkJhZFZlbmRvcmVkU3R5bGVOYW1lKG5hbWUsIGdldFN0YWNrKTtcbiAgICB9IGVsc2UgaWYgKGJhZFN0eWxlVmFsdWVXaXRoU2VtaWNvbG9uUGF0dGVybi50ZXN0KHZhbHVlKSkge1xuICAgICAgd2FyblN0eWxlVmFsdWVXaXRoU2VtaWNvbG9uKG5hbWUsIHZhbHVlLCBnZXRTdGFjayk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIGlmIChpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgd2FyblN0eWxlVmFsdWVJc05hTihuYW1lLCB2YWx1ZSwgZ2V0U3RhY2spO1xuICAgICAgfSBlbHNlIGlmICghaXNGaW5pdGUodmFsdWUpKSB7XG4gICAgICAgIHdhcm5TdHlsZVZhbHVlSXNJbmZpbml0eShuYW1lLCB2YWx1ZSwgZ2V0U3RhY2spO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxudmFyIHdhcm5WYWxpZFN0eWxlJDEgPSB3YXJuVmFsaWRTdHlsZTtcblxuLyoqXG4gKiBPcGVyYXRpb25zIGZvciBkZWFsaW5nIHdpdGggQ1NTIHByb3BlcnRpZXMuXG4gKi9cblxuLyoqXG4gKiBUaGlzIGNyZWF0ZXMgYSBzdHJpbmcgdGhhdCBpcyBleHBlY3RlZCB0byBiZSBlcXVpdmFsZW50IHRvIHRoZSBzdHlsZVxuICogYXR0cmlidXRlIGdlbmVyYXRlZCBieSBzZXJ2ZXItc2lkZSByZW5kZXJpbmcuIEl0IGJ5LXBhc3NlcyB3YXJuaW5ncyBhbmRcbiAqIHNlY3VyaXR5IGNoZWNrcyBzbyBpdCdzIG5vdCBzYWZlIHRvIHVzZSB0aGlzIHZhbHVlIGZvciBhbnl0aGluZyBvdGhlciB0aGFuXG4gKiBjb21wYXJpc29uLiBJdCBpcyBvbmx5IHVzZWQgaW4gREVWIGZvciBTU1IgdmFsaWRhdGlvbi5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlRGFuZ2Vyb3VzU3RyaW5nRm9yU3R5bGVzKHN0eWxlcykge1xuICB7XG4gICAgdmFyIHNlcmlhbGl6ZWQgPSAnJztcbiAgICB2YXIgZGVsaW1pdGVyID0gJyc7XG4gICAgZm9yICh2YXIgc3R5bGVOYW1lIGluIHN0eWxlcykge1xuICAgICAgaWYgKCFzdHlsZXMuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciBzdHlsZVZhbHVlID0gc3R5bGVzW3N0eWxlTmFtZV07XG4gICAgICBpZiAoc3R5bGVWYWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIHZhciBpc0N1c3RvbVByb3BlcnR5ID0gc3R5bGVOYW1lLmluZGV4T2YoJy0tJykgPT09IDA7XG4gICAgICAgIHNlcmlhbGl6ZWQgKz0gZGVsaW1pdGVyICsgaHlwaGVuYXRlU3R5bGVOYW1lKHN0eWxlTmFtZSkgKyAnOic7XG4gICAgICAgIHNlcmlhbGl6ZWQgKz0gZGFuZ2Vyb3VzU3R5bGVWYWx1ZShzdHlsZU5hbWUsIHN0eWxlVmFsdWUsIGlzQ3VzdG9tUHJvcGVydHkpO1xuXG4gICAgICAgIGRlbGltaXRlciA9ICc7JztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNlcmlhbGl6ZWQgfHwgbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIFNldHMgdGhlIHZhbHVlIGZvciBtdWx0aXBsZSBzdHlsZXMgb24gYSBub2RlLiAgSWYgYSB2YWx1ZSBpcyBzcGVjaWZpZWQgYXNcbiAqICcnIChlbXB0eSBzdHJpbmcpLCB0aGUgY29ycmVzcG9uZGluZyBzdHlsZSBwcm9wZXJ0eSB3aWxsIGJlIHVuc2V0LlxuICpcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtvYmplY3R9IHN0eWxlc1xuICovXG5mdW5jdGlvbiBzZXRWYWx1ZUZvclN0eWxlcyhub2RlLCBzdHlsZXMsIGdldFN0YWNrKSB7XG4gIHZhciBzdHlsZSA9IG5vZGUuc3R5bGU7XG4gIGZvciAodmFyIHN0eWxlTmFtZSBpbiBzdHlsZXMpIHtcbiAgICBpZiAoIXN0eWxlcy5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdmFyIGlzQ3VzdG9tUHJvcGVydHkgPSBzdHlsZU5hbWUuaW5kZXhPZignLS0nKSA9PT0gMDtcbiAgICB7XG4gICAgICBpZiAoIWlzQ3VzdG9tUHJvcGVydHkpIHtcbiAgICAgICAgd2FyblZhbGlkU3R5bGUkMShzdHlsZU5hbWUsIHN0eWxlc1tzdHlsZU5hbWVdLCBnZXRTdGFjayk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBzdHlsZVZhbHVlID0gZGFuZ2Vyb3VzU3R5bGVWYWx1ZShzdHlsZU5hbWUsIHN0eWxlc1tzdHlsZU5hbWVdLCBpc0N1c3RvbVByb3BlcnR5KTtcbiAgICBpZiAoc3R5bGVOYW1lID09PSAnZmxvYXQnKSB7XG4gICAgICBzdHlsZU5hbWUgPSAnY3NzRmxvYXQnO1xuICAgIH1cbiAgICBpZiAoaXNDdXN0b21Qcm9wZXJ0eSkge1xuICAgICAgc3R5bGUuc2V0UHJvcGVydHkoc3R5bGVOYW1lLCBzdHlsZVZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVbc3R5bGVOYW1lXSA9IHN0eWxlVmFsdWU7XG4gICAgfVxuICB9XG59XG5cbi8vIEZvciBIVE1MLCBjZXJ0YWluIHRhZ3Mgc2hvdWxkIG9taXQgdGhlaXIgY2xvc2UgdGFnLiBXZSBrZWVwIGEgd2hpdGVsaXN0IGZvclxuLy8gdGhvc2Ugc3BlY2lhbC1jYXNlIHRhZ3MuXG5cbnZhciBvbWl0dGVkQ2xvc2VUYWdzID0ge1xuICBhcmVhOiB0cnVlLFxuICBiYXNlOiB0cnVlLFxuICBicjogdHJ1ZSxcbiAgY29sOiB0cnVlLFxuICBlbWJlZDogdHJ1ZSxcbiAgaHI6IHRydWUsXG4gIGltZzogdHJ1ZSxcbiAgaW5wdXQ6IHRydWUsXG4gIGtleWdlbjogdHJ1ZSxcbiAgbGluazogdHJ1ZSxcbiAgbWV0YTogdHJ1ZSxcbiAgcGFyYW06IHRydWUsXG4gIHNvdXJjZTogdHJ1ZSxcbiAgdHJhY2s6IHRydWUsXG4gIHdicjogdHJ1ZVxufTtcblxuLy8gRm9yIEhUTUwsIGNlcnRhaW4gdGFncyBjYW5ub3QgaGF2ZSBjaGlsZHJlbi4gVGhpcyBoYXMgdGhlIHNhbWUgcHVycG9zZSBhc1xuLy8gYG9taXR0ZWRDbG9zZVRhZ3NgIGV4Y2VwdCB0aGF0IGBtZW51aXRlbWAgc2hvdWxkIHN0aWxsIGhhdmUgaXRzIGNsb3NpbmcgdGFnLlxuXG52YXIgdm9pZEVsZW1lbnRUYWdzID0gX2Fzc2lnbih7XG4gIG1lbnVpdGVtOiB0cnVlXG59LCBvbWl0dGVkQ2xvc2VUYWdzKTtcblxudmFyIEhUTUwkMSA9ICdfX2h0bWwnO1xuXG5mdW5jdGlvbiBhc3NlcnRWYWxpZFByb3BzKHRhZywgcHJvcHMsIGdldFN0YWNrKSB7XG4gIGlmICghcHJvcHMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gTm90ZSB0aGUgdXNlIG9mIGA9PWAgd2hpY2ggY2hlY2tzIGZvciBudWxsIG9yIHVuZGVmaW5lZC5cbiAgaWYgKHZvaWRFbGVtZW50VGFnc1t0YWddKSB7XG4gICAgIShwcm9wcy5jaGlsZHJlbiA9PSBudWxsICYmIHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MID09IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnJXMgaXMgYSB2b2lkIGVsZW1lbnQgdGFnIGFuZCBtdXN0IG5laXRoZXIgaGF2ZSBgY2hpbGRyZW5gIG5vciB1c2UgYGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYC4lcycsIHRhZywgZ2V0U3RhY2soKSkgOiB2b2lkIDA7XG4gIH1cbiAgaWYgKHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MICE9IG51bGwpIHtcbiAgICAhKHByb3BzLmNoaWxkcmVuID09IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnQ2FuIG9ubHkgc2V0IG9uZSBvZiBgY2hpbGRyZW5gIG9yIGBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTGAuJykgOiB2b2lkIDA7XG4gICAgISh0eXBlb2YgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgPT09ICdvYmplY3QnICYmIEhUTUwkMSBpbiBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCkgPyBpbnZhcmlhbnQoZmFsc2UsICdgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgIG11c3QgYmUgaW4gdGhlIGZvcm0gYHtfX2h0bWw6IC4uLn1gLiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9mYi5tZS9yZWFjdC1pbnZhcmlhbnQtZGFuZ2Vyb3VzbHktc2V0LWlubmVyLWh0bWwgZm9yIG1vcmUgaW5mb3JtYXRpb24uJykgOiB2b2lkIDA7XG4gIH1cbiAge1xuICAgIHdhcm5pbmcocHJvcHMuc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nIHx8ICFwcm9wcy5jb250ZW50RWRpdGFibGUgfHwgcHJvcHMuY2hpbGRyZW4gPT0gbnVsbCwgJ0EgY29tcG9uZW50IGlzIGBjb250ZW50RWRpdGFibGVgIGFuZCBjb250YWlucyBgY2hpbGRyZW5gIG1hbmFnZWQgYnkgJyArICdSZWFjdC4gSXQgaXMgbm93IHlvdXIgcmVzcG9uc2liaWxpdHkgdG8gZ3VhcmFudGVlIHRoYXQgbm9uZSBvZiAnICsgJ3Rob3NlIG5vZGVzIGFyZSB1bmV4cGVjdGVkbHkgbW9kaWZpZWQgb3IgZHVwbGljYXRlZC4gVGhpcyBpcyAnICsgJ3Byb2JhYmx5IG5vdCBpbnRlbnRpb25hbC4lcycsIGdldFN0YWNrKCkpO1xuICB9XG4gICEocHJvcHMuc3R5bGUgPT0gbnVsbCB8fCB0eXBlb2YgcHJvcHMuc3R5bGUgPT09ICdvYmplY3QnKSA/IGludmFyaWFudChmYWxzZSwgJ1RoZSBgc3R5bGVgIHByb3AgZXhwZWN0cyBhIG1hcHBpbmcgZnJvbSBzdHlsZSBwcm9wZXJ0aWVzIHRvIHZhbHVlcywgbm90IGEgc3RyaW5nLiBGb3IgZXhhbXBsZSwgc3R5bGU9e3ttYXJnaW5SaWdodDogc3BhY2luZyArIFxcJ2VtXFwnfX0gd2hlbiB1c2luZyBKU1guJXMnLCBnZXRTdGFjaygpKSA6IHZvaWQgMDtcbn1cblxuZnVuY3Rpb24gaXNDdXN0b21Db21wb25lbnQodGFnTmFtZSwgcHJvcHMpIHtcbiAgaWYgKHRhZ05hbWUuaW5kZXhPZignLScpID09PSAtMSkge1xuICAgIHJldHVybiB0eXBlb2YgcHJvcHMuaXMgPT09ICdzdHJpbmcnO1xuICB9XG4gIHN3aXRjaCAodGFnTmFtZSkge1xuICAgIC8vIFRoZXNlIGFyZSByZXNlcnZlZCBTVkcgYW5kIE1hdGhNTCBlbGVtZW50cy5cbiAgICAvLyBXZSBkb24ndCBtaW5kIHRoaXMgd2hpdGVsaXN0IHRvbyBtdWNoIGJlY2F1c2Ugd2UgZXhwZWN0IGl0IHRvIG5ldmVyIGdyb3cuXG4gICAgLy8gVGhlIGFsdGVybmF0aXZlIGlzIHRvIHRyYWNrIHRoZSBuYW1lc3BhY2UgaW4gYSBmZXcgcGxhY2VzIHdoaWNoIGlzIGNvbnZvbHV0ZWQuXG4gICAgLy8gaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3dlYmNvbXBvbmVudHMvc3BlYy9jdXN0b20vI2N1c3RvbS1lbGVtZW50cy1jb3JlLWNvbmNlcHRzXG4gICAgY2FzZSAnYW5ub3RhdGlvbi14bWwnOlxuICAgIGNhc2UgJ2NvbG9yLXByb2ZpbGUnOlxuICAgIGNhc2UgJ2ZvbnQtZmFjZSc6XG4gICAgY2FzZSAnZm9udC1mYWNlLXNyYyc6XG4gICAgY2FzZSAnZm9udC1mYWNlLXVyaSc6XG4gICAgY2FzZSAnZm9udC1mYWNlLWZvcm1hdCc6XG4gICAgY2FzZSAnZm9udC1mYWNlLW5hbWUnOlxuICAgIGNhc2UgJ21pc3NpbmctZ2x5cGgnOlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG4vLyBXaGVuIGFkZGluZyBhdHRyaWJ1dGVzIHRvIHRoZSBIVE1MIG9yIFNWRyB3aGl0ZWxpc3QsIGJlIHN1cmUgdG9cbi8vIGFsc28gYWRkIHRoZW0gdG8gdGhpcyBtb2R1bGUgdG8gZW5zdXJlIGNhc2luZyBhbmQgaW5jb3JyZWN0IG5hbWVcbi8vIHdhcm5pbmdzLlxudmFyIHBvc3NpYmxlU3RhbmRhcmROYW1lcyA9IHtcbiAgLy8gSFRNTFxuICBhY2NlcHQ6ICdhY2NlcHQnLFxuICBhY2NlcHRjaGFyc2V0OiAnYWNjZXB0Q2hhcnNldCcsXG4gICdhY2NlcHQtY2hhcnNldCc6ICdhY2NlcHRDaGFyc2V0JyxcbiAgYWNjZXNza2V5OiAnYWNjZXNzS2V5JyxcbiAgYWN0aW9uOiAnYWN0aW9uJyxcbiAgYWxsb3dmdWxsc2NyZWVuOiAnYWxsb3dGdWxsU2NyZWVuJyxcbiAgYWx0OiAnYWx0JyxcbiAgYXM6ICdhcycsXG4gIGFzeW5jOiAnYXN5bmMnLFxuICBhdXRvY2FwaXRhbGl6ZTogJ2F1dG9DYXBpdGFsaXplJyxcbiAgYXV0b2NvbXBsZXRlOiAnYXV0b0NvbXBsZXRlJyxcbiAgYXV0b2NvcnJlY3Q6ICdhdXRvQ29ycmVjdCcsXG4gIGF1dG9mb2N1czogJ2F1dG9Gb2N1cycsXG4gIGF1dG9wbGF5OiAnYXV0b1BsYXknLFxuICBhdXRvc2F2ZTogJ2F1dG9TYXZlJyxcbiAgY2FwdHVyZTogJ2NhcHR1cmUnLFxuICBjZWxscGFkZGluZzogJ2NlbGxQYWRkaW5nJyxcbiAgY2VsbHNwYWNpbmc6ICdjZWxsU3BhY2luZycsXG4gIGNoYWxsZW5nZTogJ2NoYWxsZW5nZScsXG4gIGNoYXJzZXQ6ICdjaGFyU2V0JyxcbiAgY2hlY2tlZDogJ2NoZWNrZWQnLFxuICBjaGlsZHJlbjogJ2NoaWxkcmVuJyxcbiAgY2l0ZTogJ2NpdGUnLFxuICAnY2xhc3MnOiAnY2xhc3NOYW1lJyxcbiAgY2xhc3NpZDogJ2NsYXNzSUQnLFxuICBjbGFzc25hbWU6ICdjbGFzc05hbWUnLFxuICBjb2xzOiAnY29scycsXG4gIGNvbHNwYW46ICdjb2xTcGFuJyxcbiAgY29udGVudDogJ2NvbnRlbnQnLFxuICBjb250ZW50ZWRpdGFibGU6ICdjb250ZW50RWRpdGFibGUnLFxuICBjb250ZXh0bWVudTogJ2NvbnRleHRNZW51JyxcbiAgY29udHJvbHM6ICdjb250cm9scycsXG4gIGNvbnRyb2xzbGlzdDogJ2NvbnRyb2xzTGlzdCcsXG4gIGNvb3JkczogJ2Nvb3JkcycsXG4gIGNyb3Nzb3JpZ2luOiAnY3Jvc3NPcmlnaW4nLFxuICBkYW5nZXJvdXNseXNldGlubmVyaHRtbDogJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJyxcbiAgZGF0YTogJ2RhdGEnLFxuICBkYXRldGltZTogJ2RhdGVUaW1lJyxcbiAgJ2RlZmF1bHQnOiAnZGVmYXVsdCcsXG4gIGRlZmF1bHRjaGVja2VkOiAnZGVmYXVsdENoZWNrZWQnLFxuICBkZWZhdWx0dmFsdWU6ICdkZWZhdWx0VmFsdWUnLFxuICBkZWZlcjogJ2RlZmVyJyxcbiAgZGlyOiAnZGlyJyxcbiAgZGlzYWJsZWQ6ICdkaXNhYmxlZCcsXG4gIGRvd25sb2FkOiAnZG93bmxvYWQnLFxuICBkcmFnZ2FibGU6ICdkcmFnZ2FibGUnLFxuICBlbmN0eXBlOiAnZW5jVHlwZScsXG4gICdmb3InOiAnaHRtbEZvcicsXG4gIGZvcm06ICdmb3JtJyxcbiAgZm9ybW1ldGhvZDogJ2Zvcm1NZXRob2QnLFxuICBmb3JtYWN0aW9uOiAnZm9ybUFjdGlvbicsXG4gIGZvcm1lbmN0eXBlOiAnZm9ybUVuY1R5cGUnLFxuICBmb3Jtbm92YWxpZGF0ZTogJ2Zvcm1Ob1ZhbGlkYXRlJyxcbiAgZm9ybXRhcmdldDogJ2Zvcm1UYXJnZXQnLFxuICBmcmFtZWJvcmRlcjogJ2ZyYW1lQm9yZGVyJyxcbiAgaGVhZGVyczogJ2hlYWRlcnMnLFxuICBoZWlnaHQ6ICdoZWlnaHQnLFxuICBoaWRkZW46ICdoaWRkZW4nLFxuICBoaWdoOiAnaGlnaCcsXG4gIGhyZWY6ICdocmVmJyxcbiAgaHJlZmxhbmc6ICdocmVmTGFuZycsXG4gIGh0bWxmb3I6ICdodG1sRm9yJyxcbiAgaHR0cGVxdWl2OiAnaHR0cEVxdWl2JyxcbiAgJ2h0dHAtZXF1aXYnOiAnaHR0cEVxdWl2JyxcbiAgaWNvbjogJ2ljb24nLFxuICBpZDogJ2lkJyxcbiAgaW5uZXJodG1sOiAnaW5uZXJIVE1MJyxcbiAgaW5wdXRtb2RlOiAnaW5wdXRNb2RlJyxcbiAgaW50ZWdyaXR5OiAnaW50ZWdyaXR5JyxcbiAgaXM6ICdpcycsXG4gIGl0ZW1pZDogJ2l0ZW1JRCcsXG4gIGl0ZW1wcm9wOiAnaXRlbVByb3AnLFxuICBpdGVtcmVmOiAnaXRlbVJlZicsXG4gIGl0ZW1zY29wZTogJ2l0ZW1TY29wZScsXG4gIGl0ZW10eXBlOiAnaXRlbVR5cGUnLFxuICBrZXlwYXJhbXM6ICdrZXlQYXJhbXMnLFxuICBrZXl0eXBlOiAna2V5VHlwZScsXG4gIGtpbmQ6ICdraW5kJyxcbiAgbGFiZWw6ICdsYWJlbCcsXG4gIGxhbmc6ICdsYW5nJyxcbiAgbGlzdDogJ2xpc3QnLFxuICBsb29wOiAnbG9vcCcsXG4gIGxvdzogJ2xvdycsXG4gIG1hbmlmZXN0OiAnbWFuaWZlc3QnLFxuICBtYXJnaW53aWR0aDogJ21hcmdpbldpZHRoJyxcbiAgbWFyZ2luaGVpZ2h0OiAnbWFyZ2luSGVpZ2h0JyxcbiAgbWF4OiAnbWF4JyxcbiAgbWF4bGVuZ3RoOiAnbWF4TGVuZ3RoJyxcbiAgbWVkaWE6ICdtZWRpYScsXG4gIG1lZGlhZ3JvdXA6ICdtZWRpYUdyb3VwJyxcbiAgbWV0aG9kOiAnbWV0aG9kJyxcbiAgbWluOiAnbWluJyxcbiAgbWlubGVuZ3RoOiAnbWluTGVuZ3RoJyxcbiAgbXVsdGlwbGU6ICdtdWx0aXBsZScsXG4gIG11dGVkOiAnbXV0ZWQnLFxuICBuYW1lOiAnbmFtZScsXG4gIG5vbW9kdWxlOiAnbm9Nb2R1bGUnLFxuICBub25jZTogJ25vbmNlJyxcbiAgbm92YWxpZGF0ZTogJ25vVmFsaWRhdGUnLFxuICBvcGVuOiAnb3BlbicsXG4gIG9wdGltdW06ICdvcHRpbXVtJyxcbiAgcGF0dGVybjogJ3BhdHRlcm4nLFxuICBwbGFjZWhvbGRlcjogJ3BsYWNlaG9sZGVyJyxcbiAgcGxheXNpbmxpbmU6ICdwbGF5c0lubGluZScsXG4gIHBvc3RlcjogJ3Bvc3RlcicsXG4gIHByZWxvYWQ6ICdwcmVsb2FkJyxcbiAgcHJvZmlsZTogJ3Byb2ZpbGUnLFxuICByYWRpb2dyb3VwOiAncmFkaW9Hcm91cCcsXG4gIHJlYWRvbmx5OiAncmVhZE9ubHknLFxuICByZWZlcnJlcnBvbGljeTogJ3JlZmVycmVyUG9saWN5JyxcbiAgcmVsOiAncmVsJyxcbiAgcmVxdWlyZWQ6ICdyZXF1aXJlZCcsXG4gIHJldmVyc2VkOiAncmV2ZXJzZWQnLFxuICByb2xlOiAncm9sZScsXG4gIHJvd3M6ICdyb3dzJyxcbiAgcm93c3BhbjogJ3Jvd1NwYW4nLFxuICBzYW5kYm94OiAnc2FuZGJveCcsXG4gIHNjb3BlOiAnc2NvcGUnLFxuICBzY29wZWQ6ICdzY29wZWQnLFxuICBzY3JvbGxpbmc6ICdzY3JvbGxpbmcnLFxuICBzZWFtbGVzczogJ3NlYW1sZXNzJyxcbiAgc2VsZWN0ZWQ6ICdzZWxlY3RlZCcsXG4gIHNoYXBlOiAnc2hhcGUnLFxuICBzaXplOiAnc2l6ZScsXG4gIHNpemVzOiAnc2l6ZXMnLFxuICBzcGFuOiAnc3BhbicsXG4gIHNwZWxsY2hlY2s6ICdzcGVsbENoZWNrJyxcbiAgc3JjOiAnc3JjJyxcbiAgc3JjZG9jOiAnc3JjRG9jJyxcbiAgc3JjbGFuZzogJ3NyY0xhbmcnLFxuICBzcmNzZXQ6ICdzcmNTZXQnLFxuICBzdGFydDogJ3N0YXJ0JyxcbiAgc3RlcDogJ3N0ZXAnLFxuICBzdHlsZTogJ3N0eWxlJyxcbiAgc3VtbWFyeTogJ3N1bW1hcnknLFxuICB0YWJpbmRleDogJ3RhYkluZGV4JyxcbiAgdGFyZ2V0OiAndGFyZ2V0JyxcbiAgdGl0bGU6ICd0aXRsZScsXG4gIHR5cGU6ICd0eXBlJyxcbiAgdXNlbWFwOiAndXNlTWFwJyxcbiAgdmFsdWU6ICd2YWx1ZScsXG4gIHdpZHRoOiAnd2lkdGgnLFxuICB3bW9kZTogJ3dtb2RlJyxcbiAgd3JhcDogJ3dyYXAnLFxuXG4gIC8vIFNWR1xuICBhYm91dDogJ2Fib3V0JyxcbiAgYWNjZW50aGVpZ2h0OiAnYWNjZW50SGVpZ2h0JyxcbiAgJ2FjY2VudC1oZWlnaHQnOiAnYWNjZW50SGVpZ2h0JyxcbiAgYWNjdW11bGF0ZTogJ2FjY3VtdWxhdGUnLFxuICBhZGRpdGl2ZTogJ2FkZGl0aXZlJyxcbiAgYWxpZ25tZW50YmFzZWxpbmU6ICdhbGlnbm1lbnRCYXNlbGluZScsXG4gICdhbGlnbm1lbnQtYmFzZWxpbmUnOiAnYWxpZ25tZW50QmFzZWxpbmUnLFxuICBhbGxvd3Jlb3JkZXI6ICdhbGxvd1Jlb3JkZXInLFxuICBhbHBoYWJldGljOiAnYWxwaGFiZXRpYycsXG4gIGFtcGxpdHVkZTogJ2FtcGxpdHVkZScsXG4gIGFyYWJpY2Zvcm06ICdhcmFiaWNGb3JtJyxcbiAgJ2FyYWJpYy1mb3JtJzogJ2FyYWJpY0Zvcm0nLFxuICBhc2NlbnQ6ICdhc2NlbnQnLFxuICBhdHRyaWJ1dGVuYW1lOiAnYXR0cmlidXRlTmFtZScsXG4gIGF0dHJpYnV0ZXR5cGU6ICdhdHRyaWJ1dGVUeXBlJyxcbiAgYXV0b3JldmVyc2U6ICdhdXRvUmV2ZXJzZScsXG4gIGF6aW11dGg6ICdhemltdXRoJyxcbiAgYmFzZWZyZXF1ZW5jeTogJ2Jhc2VGcmVxdWVuY3knLFxuICBiYXNlbGluZXNoaWZ0OiAnYmFzZWxpbmVTaGlmdCcsXG4gICdiYXNlbGluZS1zaGlmdCc6ICdiYXNlbGluZVNoaWZ0JyxcbiAgYmFzZXByb2ZpbGU6ICdiYXNlUHJvZmlsZScsXG4gIGJib3g6ICdiYm94JyxcbiAgYmVnaW46ICdiZWdpbicsXG4gIGJpYXM6ICdiaWFzJyxcbiAgYnk6ICdieScsXG4gIGNhbGNtb2RlOiAnY2FsY01vZGUnLFxuICBjYXBoZWlnaHQ6ICdjYXBIZWlnaHQnLFxuICAnY2FwLWhlaWdodCc6ICdjYXBIZWlnaHQnLFxuICBjbGlwOiAnY2xpcCcsXG4gIGNsaXBwYXRoOiAnY2xpcFBhdGgnLFxuICAnY2xpcC1wYXRoJzogJ2NsaXBQYXRoJyxcbiAgY2xpcHBhdGh1bml0czogJ2NsaXBQYXRoVW5pdHMnLFxuICBjbGlwcnVsZTogJ2NsaXBSdWxlJyxcbiAgJ2NsaXAtcnVsZSc6ICdjbGlwUnVsZScsXG4gIGNvbG9yOiAnY29sb3InLFxuICBjb2xvcmludGVycG9sYXRpb246ICdjb2xvckludGVycG9sYXRpb24nLFxuICAnY29sb3ItaW50ZXJwb2xhdGlvbic6ICdjb2xvckludGVycG9sYXRpb24nLFxuICBjb2xvcmludGVycG9sYXRpb25maWx0ZXJzOiAnY29sb3JJbnRlcnBvbGF0aW9uRmlsdGVycycsXG4gICdjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnMnOiAnY29sb3JJbnRlcnBvbGF0aW9uRmlsdGVycycsXG4gIGNvbG9ycHJvZmlsZTogJ2NvbG9yUHJvZmlsZScsXG4gICdjb2xvci1wcm9maWxlJzogJ2NvbG9yUHJvZmlsZScsXG4gIGNvbG9ycmVuZGVyaW5nOiAnY29sb3JSZW5kZXJpbmcnLFxuICAnY29sb3ItcmVuZGVyaW5nJzogJ2NvbG9yUmVuZGVyaW5nJyxcbiAgY29udGVudHNjcmlwdHR5cGU6ICdjb250ZW50U2NyaXB0VHlwZScsXG4gIGNvbnRlbnRzdHlsZXR5cGU6ICdjb250ZW50U3R5bGVUeXBlJyxcbiAgY3Vyc29yOiAnY3Vyc29yJyxcbiAgY3g6ICdjeCcsXG4gIGN5OiAnY3knLFxuICBkOiAnZCcsXG4gIGRhdGF0eXBlOiAnZGF0YXR5cGUnLFxuICBkZWNlbGVyYXRlOiAnZGVjZWxlcmF0ZScsXG4gIGRlc2NlbnQ6ICdkZXNjZW50JyxcbiAgZGlmZnVzZWNvbnN0YW50OiAnZGlmZnVzZUNvbnN0YW50JyxcbiAgZGlyZWN0aW9uOiAnZGlyZWN0aW9uJyxcbiAgZGlzcGxheTogJ2Rpc3BsYXknLFxuICBkaXZpc29yOiAnZGl2aXNvcicsXG4gIGRvbWluYW50YmFzZWxpbmU6ICdkb21pbmFudEJhc2VsaW5lJyxcbiAgJ2RvbWluYW50LWJhc2VsaW5lJzogJ2RvbWluYW50QmFzZWxpbmUnLFxuICBkdXI6ICdkdXInLFxuICBkeDogJ2R4JyxcbiAgZHk6ICdkeScsXG4gIGVkZ2Vtb2RlOiAnZWRnZU1vZGUnLFxuICBlbGV2YXRpb246ICdlbGV2YXRpb24nLFxuICBlbmFibGViYWNrZ3JvdW5kOiAnZW5hYmxlQmFja2dyb3VuZCcsXG4gICdlbmFibGUtYmFja2dyb3VuZCc6ICdlbmFibGVCYWNrZ3JvdW5kJyxcbiAgZW5kOiAnZW5kJyxcbiAgZXhwb25lbnQ6ICdleHBvbmVudCcsXG4gIGV4dGVybmFscmVzb3VyY2VzcmVxdWlyZWQ6ICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJyxcbiAgZmlsbDogJ2ZpbGwnLFxuICBmaWxsb3BhY2l0eTogJ2ZpbGxPcGFjaXR5JyxcbiAgJ2ZpbGwtb3BhY2l0eSc6ICdmaWxsT3BhY2l0eScsXG4gIGZpbGxydWxlOiAnZmlsbFJ1bGUnLFxuICAnZmlsbC1ydWxlJzogJ2ZpbGxSdWxlJyxcbiAgZmlsdGVyOiAnZmlsdGVyJyxcbiAgZmlsdGVycmVzOiAnZmlsdGVyUmVzJyxcbiAgZmlsdGVydW5pdHM6ICdmaWx0ZXJVbml0cycsXG4gIGZsb29kb3BhY2l0eTogJ2Zsb29kT3BhY2l0eScsXG4gICdmbG9vZC1vcGFjaXR5JzogJ2Zsb29kT3BhY2l0eScsXG4gIGZsb29kY29sb3I6ICdmbG9vZENvbG9yJyxcbiAgJ2Zsb29kLWNvbG9yJzogJ2Zsb29kQ29sb3InLFxuICBmb2N1c2FibGU6ICdmb2N1c2FibGUnLFxuICBmb250ZmFtaWx5OiAnZm9udEZhbWlseScsXG4gICdmb250LWZhbWlseSc6ICdmb250RmFtaWx5JyxcbiAgZm9udHNpemU6ICdmb250U2l6ZScsXG4gICdmb250LXNpemUnOiAnZm9udFNpemUnLFxuICBmb250c2l6ZWFkanVzdDogJ2ZvbnRTaXplQWRqdXN0JyxcbiAgJ2ZvbnQtc2l6ZS1hZGp1c3QnOiAnZm9udFNpemVBZGp1c3QnLFxuICBmb250c3RyZXRjaDogJ2ZvbnRTdHJldGNoJyxcbiAgJ2ZvbnQtc3RyZXRjaCc6ICdmb250U3RyZXRjaCcsXG4gIGZvbnRzdHlsZTogJ2ZvbnRTdHlsZScsXG4gICdmb250LXN0eWxlJzogJ2ZvbnRTdHlsZScsXG4gIGZvbnR2YXJpYW50OiAnZm9udFZhcmlhbnQnLFxuICAnZm9udC12YXJpYW50JzogJ2ZvbnRWYXJpYW50JyxcbiAgZm9udHdlaWdodDogJ2ZvbnRXZWlnaHQnLFxuICAnZm9udC13ZWlnaHQnOiAnZm9udFdlaWdodCcsXG4gIGZvcm1hdDogJ2Zvcm1hdCcsXG4gIGZyb206ICdmcm9tJyxcbiAgZng6ICdmeCcsXG4gIGZ5OiAnZnknLFxuICBnMTogJ2cxJyxcbiAgZzI6ICdnMicsXG4gIGdseXBobmFtZTogJ2dseXBoTmFtZScsXG4gICdnbHlwaC1uYW1lJzogJ2dseXBoTmFtZScsXG4gIGdseXBob3JpZW50YXRpb25ob3Jpem9udGFsOiAnZ2x5cGhPcmllbnRhdGlvbkhvcml6b250YWwnLFxuICAnZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbCc6ICdnbHlwaE9yaWVudGF0aW9uSG9yaXpvbnRhbCcsXG4gIGdseXBob3JpZW50YXRpb252ZXJ0aWNhbDogJ2dseXBoT3JpZW50YXRpb25WZXJ0aWNhbCcsXG4gICdnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbCc6ICdnbHlwaE9yaWVudGF0aW9uVmVydGljYWwnLFxuICBnbHlwaHJlZjogJ2dseXBoUmVmJyxcbiAgZ3JhZGllbnR0cmFuc2Zvcm06ICdncmFkaWVudFRyYW5zZm9ybScsXG4gIGdyYWRpZW50dW5pdHM6ICdncmFkaWVudFVuaXRzJyxcbiAgaGFuZ2luZzogJ2hhbmdpbmcnLFxuICBob3JpemFkdng6ICdob3JpekFkdlgnLFxuICAnaG9yaXotYWR2LXgnOiAnaG9yaXpBZHZYJyxcbiAgaG9yaXpvcmlnaW54OiAnaG9yaXpPcmlnaW5YJyxcbiAgJ2hvcml6LW9yaWdpbi14JzogJ2hvcml6T3JpZ2luWCcsXG4gIGlkZW9ncmFwaGljOiAnaWRlb2dyYXBoaWMnLFxuICBpbWFnZXJlbmRlcmluZzogJ2ltYWdlUmVuZGVyaW5nJyxcbiAgJ2ltYWdlLXJlbmRlcmluZyc6ICdpbWFnZVJlbmRlcmluZycsXG4gIGluMjogJ2luMicsXG4gICdpbic6ICdpbicsXG4gIGlubGlzdDogJ2lubGlzdCcsXG4gIGludGVyY2VwdDogJ2ludGVyY2VwdCcsXG4gIGsxOiAnazEnLFxuICBrMjogJ2syJyxcbiAgazM6ICdrMycsXG4gIGs0OiAnazQnLFxuICBrOiAnaycsXG4gIGtlcm5lbG1hdHJpeDogJ2tlcm5lbE1hdHJpeCcsXG4gIGtlcm5lbHVuaXRsZW5ndGg6ICdrZXJuZWxVbml0TGVuZ3RoJyxcbiAga2VybmluZzogJ2tlcm5pbmcnLFxuICBrZXlwb2ludHM6ICdrZXlQb2ludHMnLFxuICBrZXlzcGxpbmVzOiAna2V5U3BsaW5lcycsXG4gIGtleXRpbWVzOiAna2V5VGltZXMnLFxuICBsZW5ndGhhZGp1c3Q6ICdsZW5ndGhBZGp1c3QnLFxuICBsZXR0ZXJzcGFjaW5nOiAnbGV0dGVyU3BhY2luZycsXG4gICdsZXR0ZXItc3BhY2luZyc6ICdsZXR0ZXJTcGFjaW5nJyxcbiAgbGlnaHRpbmdjb2xvcjogJ2xpZ2h0aW5nQ29sb3InLFxuICAnbGlnaHRpbmctY29sb3InOiAnbGlnaHRpbmdDb2xvcicsXG4gIGxpbWl0aW5nY29uZWFuZ2xlOiAnbGltaXRpbmdDb25lQW5nbGUnLFxuICBsb2NhbDogJ2xvY2FsJyxcbiAgbWFya2VyZW5kOiAnbWFya2VyRW5kJyxcbiAgJ21hcmtlci1lbmQnOiAnbWFya2VyRW5kJyxcbiAgbWFya2VyaGVpZ2h0OiAnbWFya2VySGVpZ2h0JyxcbiAgbWFya2VybWlkOiAnbWFya2VyTWlkJyxcbiAgJ21hcmtlci1taWQnOiAnbWFya2VyTWlkJyxcbiAgbWFya2Vyc3RhcnQ6ICdtYXJrZXJTdGFydCcsXG4gICdtYXJrZXItc3RhcnQnOiAnbWFya2VyU3RhcnQnLFxuICBtYXJrZXJ1bml0czogJ21hcmtlclVuaXRzJyxcbiAgbWFya2Vyd2lkdGg6ICdtYXJrZXJXaWR0aCcsXG4gIG1hc2s6ICdtYXNrJyxcbiAgbWFza2NvbnRlbnR1bml0czogJ21hc2tDb250ZW50VW5pdHMnLFxuICBtYXNrdW5pdHM6ICdtYXNrVW5pdHMnLFxuICBtYXRoZW1hdGljYWw6ICdtYXRoZW1hdGljYWwnLFxuICBtb2RlOiAnbW9kZScsXG4gIG51bW9jdGF2ZXM6ICdudW1PY3RhdmVzJyxcbiAgb2Zmc2V0OiAnb2Zmc2V0JyxcbiAgb3BhY2l0eTogJ29wYWNpdHknLFxuICBvcGVyYXRvcjogJ29wZXJhdG9yJyxcbiAgb3JkZXI6ICdvcmRlcicsXG4gIG9yaWVudDogJ29yaWVudCcsXG4gIG9yaWVudGF0aW9uOiAnb3JpZW50YXRpb24nLFxuICBvcmlnaW46ICdvcmlnaW4nLFxuICBvdmVyZmxvdzogJ292ZXJmbG93JyxcbiAgb3ZlcmxpbmVwb3NpdGlvbjogJ292ZXJsaW5lUG9zaXRpb24nLFxuICAnb3ZlcmxpbmUtcG9zaXRpb24nOiAnb3ZlcmxpbmVQb3NpdGlvbicsXG4gIG92ZXJsaW5ldGhpY2tuZXNzOiAnb3ZlcmxpbmVUaGlja25lc3MnLFxuICAnb3ZlcmxpbmUtdGhpY2tuZXNzJzogJ292ZXJsaW5lVGhpY2tuZXNzJyxcbiAgcGFpbnRvcmRlcjogJ3BhaW50T3JkZXInLFxuICAncGFpbnQtb3JkZXInOiAncGFpbnRPcmRlcicsXG4gIHBhbm9zZTE6ICdwYW5vc2UxJyxcbiAgJ3Bhbm9zZS0xJzogJ3Bhbm9zZTEnLFxuICBwYXRobGVuZ3RoOiAncGF0aExlbmd0aCcsXG4gIHBhdHRlcm5jb250ZW50dW5pdHM6ICdwYXR0ZXJuQ29udGVudFVuaXRzJyxcbiAgcGF0dGVybnRyYW5zZm9ybTogJ3BhdHRlcm5UcmFuc2Zvcm0nLFxuICBwYXR0ZXJudW5pdHM6ICdwYXR0ZXJuVW5pdHMnLFxuICBwb2ludGVyZXZlbnRzOiAncG9pbnRlckV2ZW50cycsXG4gICdwb2ludGVyLWV2ZW50cyc6ICdwb2ludGVyRXZlbnRzJyxcbiAgcG9pbnRzOiAncG9pbnRzJyxcbiAgcG9pbnRzYXR4OiAncG9pbnRzQXRYJyxcbiAgcG9pbnRzYXR5OiAncG9pbnRzQXRZJyxcbiAgcG9pbnRzYXR6OiAncG9pbnRzQXRaJyxcbiAgcHJlZml4OiAncHJlZml4JyxcbiAgcHJlc2VydmVhbHBoYTogJ3ByZXNlcnZlQWxwaGEnLFxuICBwcmVzZXJ2ZWFzcGVjdHJhdGlvOiAncHJlc2VydmVBc3BlY3RSYXRpbycsXG4gIHByaW1pdGl2ZXVuaXRzOiAncHJpbWl0aXZlVW5pdHMnLFxuICBwcm9wZXJ0eTogJ3Byb3BlcnR5JyxcbiAgcjogJ3InLFxuICByYWRpdXM6ICdyYWRpdXMnLFxuICByZWZ4OiAncmVmWCcsXG4gIHJlZnk6ICdyZWZZJyxcbiAgcmVuZGVyaW5naW50ZW50OiAncmVuZGVyaW5nSW50ZW50JyxcbiAgJ3JlbmRlcmluZy1pbnRlbnQnOiAncmVuZGVyaW5nSW50ZW50JyxcbiAgcmVwZWF0Y291bnQ6ICdyZXBlYXRDb3VudCcsXG4gIHJlcGVhdGR1cjogJ3JlcGVhdER1cicsXG4gIHJlcXVpcmVkZXh0ZW5zaW9uczogJ3JlcXVpcmVkRXh0ZW5zaW9ucycsXG4gIHJlcXVpcmVkZmVhdHVyZXM6ICdyZXF1aXJlZEZlYXR1cmVzJyxcbiAgcmVzb3VyY2U6ICdyZXNvdXJjZScsXG4gIHJlc3RhcnQ6ICdyZXN0YXJ0JyxcbiAgcmVzdWx0OiAncmVzdWx0JyxcbiAgcmVzdWx0czogJ3Jlc3VsdHMnLFxuICByb3RhdGU6ICdyb3RhdGUnLFxuICByeDogJ3J4JyxcbiAgcnk6ICdyeScsXG4gIHNjYWxlOiAnc2NhbGUnLFxuICBzZWN1cml0eTogJ3NlY3VyaXR5JyxcbiAgc2VlZDogJ3NlZWQnLFxuICBzaGFwZXJlbmRlcmluZzogJ3NoYXBlUmVuZGVyaW5nJyxcbiAgJ3NoYXBlLXJlbmRlcmluZyc6ICdzaGFwZVJlbmRlcmluZycsXG4gIHNsb3BlOiAnc2xvcGUnLFxuICBzcGFjaW5nOiAnc3BhY2luZycsXG4gIHNwZWN1bGFyY29uc3RhbnQ6ICdzcGVjdWxhckNvbnN0YW50JyxcbiAgc3BlY3VsYXJleHBvbmVudDogJ3NwZWN1bGFyRXhwb25lbnQnLFxuICBzcGVlZDogJ3NwZWVkJyxcbiAgc3ByZWFkbWV0aG9kOiAnc3ByZWFkTWV0aG9kJyxcbiAgc3RhcnRvZmZzZXQ6ICdzdGFydE9mZnNldCcsXG4gIHN0ZGRldmlhdGlvbjogJ3N0ZERldmlhdGlvbicsXG4gIHN0ZW1oOiAnc3RlbWgnLFxuICBzdGVtdjogJ3N0ZW12JyxcbiAgc3RpdGNodGlsZXM6ICdzdGl0Y2hUaWxlcycsXG4gIHN0b3Bjb2xvcjogJ3N0b3BDb2xvcicsXG4gICdzdG9wLWNvbG9yJzogJ3N0b3BDb2xvcicsXG4gIHN0b3BvcGFjaXR5OiAnc3RvcE9wYWNpdHknLFxuICAnc3RvcC1vcGFjaXR5JzogJ3N0b3BPcGFjaXR5JyxcbiAgc3RyaWtldGhyb3VnaHBvc2l0aW9uOiAnc3RyaWtldGhyb3VnaFBvc2l0aW9uJyxcbiAgJ3N0cmlrZXRocm91Z2gtcG9zaXRpb24nOiAnc3RyaWtldGhyb3VnaFBvc2l0aW9uJyxcbiAgc3RyaWtldGhyb3VnaHRoaWNrbmVzczogJ3N0cmlrZXRocm91Z2hUaGlja25lc3MnLFxuICAnc3RyaWtldGhyb3VnaC10aGlja25lc3MnOiAnc3RyaWtldGhyb3VnaFRoaWNrbmVzcycsXG4gIHN0cmluZzogJ3N0cmluZycsXG4gIHN0cm9rZTogJ3N0cm9rZScsXG4gIHN0cm9rZWRhc2hhcnJheTogJ3N0cm9rZURhc2hhcnJheScsXG4gICdzdHJva2UtZGFzaGFycmF5JzogJ3N0cm9rZURhc2hhcnJheScsXG4gIHN0cm9rZWRhc2hvZmZzZXQ6ICdzdHJva2VEYXNob2Zmc2V0JyxcbiAgJ3N0cm9rZS1kYXNob2Zmc2V0JzogJ3N0cm9rZURhc2hvZmZzZXQnLFxuICBzdHJva2VsaW5lY2FwOiAnc3Ryb2tlTGluZWNhcCcsXG4gICdzdHJva2UtbGluZWNhcCc6ICdzdHJva2VMaW5lY2FwJyxcbiAgc3Ryb2tlbGluZWpvaW46ICdzdHJva2VMaW5lam9pbicsXG4gICdzdHJva2UtbGluZWpvaW4nOiAnc3Ryb2tlTGluZWpvaW4nLFxuICBzdHJva2VtaXRlcmxpbWl0OiAnc3Ryb2tlTWl0ZXJsaW1pdCcsXG4gICdzdHJva2UtbWl0ZXJsaW1pdCc6ICdzdHJva2VNaXRlcmxpbWl0JyxcbiAgc3Ryb2tld2lkdGg6ICdzdHJva2VXaWR0aCcsXG4gICdzdHJva2Utd2lkdGgnOiAnc3Ryb2tlV2lkdGgnLFxuICBzdHJva2VvcGFjaXR5OiAnc3Ryb2tlT3BhY2l0eScsXG4gICdzdHJva2Utb3BhY2l0eSc6ICdzdHJva2VPcGFjaXR5JyxcbiAgc3VwcHJlc3Njb250ZW50ZWRpdGFibGV3YXJuaW5nOiAnc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nJyxcbiAgc3VwcHJlc3NoeWRyYXRpb253YXJuaW5nOiAnc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nJyxcbiAgc3VyZmFjZXNjYWxlOiAnc3VyZmFjZVNjYWxlJyxcbiAgc3lzdGVtbGFuZ3VhZ2U6ICdzeXN0ZW1MYW5ndWFnZScsXG4gIHRhYmxldmFsdWVzOiAndGFibGVWYWx1ZXMnLFxuICB0YXJnZXR4OiAndGFyZ2V0WCcsXG4gIHRhcmdldHk6ICd0YXJnZXRZJyxcbiAgdGV4dGFuY2hvcjogJ3RleHRBbmNob3InLFxuICAndGV4dC1hbmNob3InOiAndGV4dEFuY2hvcicsXG4gIHRleHRkZWNvcmF0aW9uOiAndGV4dERlY29yYXRpb24nLFxuICAndGV4dC1kZWNvcmF0aW9uJzogJ3RleHREZWNvcmF0aW9uJyxcbiAgdGV4dGxlbmd0aDogJ3RleHRMZW5ndGgnLFxuICB0ZXh0cmVuZGVyaW5nOiAndGV4dFJlbmRlcmluZycsXG4gICd0ZXh0LXJlbmRlcmluZyc6ICd0ZXh0UmVuZGVyaW5nJyxcbiAgdG86ICd0bycsXG4gIHRyYW5zZm9ybTogJ3RyYW5zZm9ybScsXG4gICd0eXBlb2YnOiAndHlwZW9mJyxcbiAgdTE6ICd1MScsXG4gIHUyOiAndTInLFxuICB1bmRlcmxpbmVwb3NpdGlvbjogJ3VuZGVybGluZVBvc2l0aW9uJyxcbiAgJ3VuZGVybGluZS1wb3NpdGlvbic6ICd1bmRlcmxpbmVQb3NpdGlvbicsXG4gIHVuZGVybGluZXRoaWNrbmVzczogJ3VuZGVybGluZVRoaWNrbmVzcycsXG4gICd1bmRlcmxpbmUtdGhpY2tuZXNzJzogJ3VuZGVybGluZVRoaWNrbmVzcycsXG4gIHVuaWNvZGU6ICd1bmljb2RlJyxcbiAgdW5pY29kZWJpZGk6ICd1bmljb2RlQmlkaScsXG4gICd1bmljb2RlLWJpZGknOiAndW5pY29kZUJpZGknLFxuICB1bmljb2RlcmFuZ2U6ICd1bmljb2RlUmFuZ2UnLFxuICAndW5pY29kZS1yYW5nZSc6ICd1bmljb2RlUmFuZ2UnLFxuICB1bml0c3BlcmVtOiAndW5pdHNQZXJFbScsXG4gICd1bml0cy1wZXItZW0nOiAndW5pdHNQZXJFbScsXG4gIHVuc2VsZWN0YWJsZTogJ3Vuc2VsZWN0YWJsZScsXG4gIHZhbHBoYWJldGljOiAndkFscGhhYmV0aWMnLFxuICAndi1hbHBoYWJldGljJzogJ3ZBbHBoYWJldGljJyxcbiAgdmFsdWVzOiAndmFsdWVzJyxcbiAgdmVjdG9yZWZmZWN0OiAndmVjdG9yRWZmZWN0JyxcbiAgJ3ZlY3Rvci1lZmZlY3QnOiAndmVjdG9yRWZmZWN0JyxcbiAgdmVyc2lvbjogJ3ZlcnNpb24nLFxuICB2ZXJ0YWR2eTogJ3ZlcnRBZHZZJyxcbiAgJ3ZlcnQtYWR2LXknOiAndmVydEFkdlknLFxuICB2ZXJ0b3JpZ2lueDogJ3ZlcnRPcmlnaW5YJyxcbiAgJ3ZlcnQtb3JpZ2luLXgnOiAndmVydE9yaWdpblgnLFxuICB2ZXJ0b3JpZ2lueTogJ3ZlcnRPcmlnaW5ZJyxcbiAgJ3ZlcnQtb3JpZ2luLXknOiAndmVydE9yaWdpblknLFxuICB2aGFuZ2luZzogJ3ZIYW5naW5nJyxcbiAgJ3YtaGFuZ2luZyc6ICd2SGFuZ2luZycsXG4gIHZpZGVvZ3JhcGhpYzogJ3ZJZGVvZ3JhcGhpYycsXG4gICd2LWlkZW9ncmFwaGljJzogJ3ZJZGVvZ3JhcGhpYycsXG4gIHZpZXdib3g6ICd2aWV3Qm94JyxcbiAgdmlld3RhcmdldDogJ3ZpZXdUYXJnZXQnLFxuICB2aXNpYmlsaXR5OiAndmlzaWJpbGl0eScsXG4gIHZtYXRoZW1hdGljYWw6ICd2TWF0aGVtYXRpY2FsJyxcbiAgJ3YtbWF0aGVtYXRpY2FsJzogJ3ZNYXRoZW1hdGljYWwnLFxuICB2b2NhYjogJ3ZvY2FiJyxcbiAgd2lkdGhzOiAnd2lkdGhzJyxcbiAgd29yZHNwYWNpbmc6ICd3b3JkU3BhY2luZycsXG4gICd3b3JkLXNwYWNpbmcnOiAnd29yZFNwYWNpbmcnLFxuICB3cml0aW5nbW9kZTogJ3dyaXRpbmdNb2RlJyxcbiAgJ3dyaXRpbmctbW9kZSc6ICd3cml0aW5nTW9kZScsXG4gIHgxOiAneDEnLFxuICB4MjogJ3gyJyxcbiAgeDogJ3gnLFxuICB4Y2hhbm5lbHNlbGVjdG9yOiAneENoYW5uZWxTZWxlY3RvcicsXG4gIHhoZWlnaHQ6ICd4SGVpZ2h0JyxcbiAgJ3gtaGVpZ2h0JzogJ3hIZWlnaHQnLFxuICB4bGlua2FjdHVhdGU6ICd4bGlua0FjdHVhdGUnLFxuICAneGxpbms6YWN0dWF0ZSc6ICd4bGlua0FjdHVhdGUnLFxuICB4bGlua2FyY3JvbGU6ICd4bGlua0FyY3JvbGUnLFxuICAneGxpbms6YXJjcm9sZSc6ICd4bGlua0FyY3JvbGUnLFxuICB4bGlua2hyZWY6ICd4bGlua0hyZWYnLFxuICAneGxpbms6aHJlZic6ICd4bGlua0hyZWYnLFxuICB4bGlua3JvbGU6ICd4bGlua1JvbGUnLFxuICAneGxpbms6cm9sZSc6ICd4bGlua1JvbGUnLFxuICB4bGlua3Nob3c6ICd4bGlua1Nob3cnLFxuICAneGxpbms6c2hvdyc6ICd4bGlua1Nob3cnLFxuICB4bGlua3RpdGxlOiAneGxpbmtUaXRsZScsXG4gICd4bGluazp0aXRsZSc6ICd4bGlua1RpdGxlJyxcbiAgeGxpbmt0eXBlOiAneGxpbmtUeXBlJyxcbiAgJ3hsaW5rOnR5cGUnOiAneGxpbmtUeXBlJyxcbiAgeG1sYmFzZTogJ3htbEJhc2UnLFxuICAneG1sOmJhc2UnOiAneG1sQmFzZScsXG4gIHhtbGxhbmc6ICd4bWxMYW5nJyxcbiAgJ3htbDpsYW5nJzogJ3htbExhbmcnLFxuICB4bWxuczogJ3htbG5zJyxcbiAgJ3htbDpzcGFjZSc6ICd4bWxTcGFjZScsXG4gIHhtbG5zeGxpbms6ICd4bWxuc1hsaW5rJyxcbiAgJ3htbG5zOnhsaW5rJzogJ3htbG5zWGxpbmsnLFxuICB4bWxzcGFjZTogJ3htbFNwYWNlJyxcbiAgeTE6ICd5MScsXG4gIHkyOiAneTInLFxuICB5OiAneScsXG4gIHljaGFubmVsc2VsZWN0b3I6ICd5Q2hhbm5lbFNlbGVjdG9yJyxcbiAgejogJ3onLFxuICB6b29tYW5kcGFuOiAnem9vbUFuZFBhbidcbn07XG5cbnZhciBhcmlhUHJvcGVydGllcyA9IHtcbiAgJ2FyaWEtY3VycmVudCc6IDAsIC8vIHN0YXRlXG4gICdhcmlhLWRldGFpbHMnOiAwLFxuICAnYXJpYS1kaXNhYmxlZCc6IDAsIC8vIHN0YXRlXG4gICdhcmlhLWhpZGRlbic6IDAsIC8vIHN0YXRlXG4gICdhcmlhLWludmFsaWQnOiAwLCAvLyBzdGF0ZVxuICAnYXJpYS1rZXlzaG9ydGN1dHMnOiAwLFxuICAnYXJpYS1sYWJlbCc6IDAsXG4gICdhcmlhLXJvbGVkZXNjcmlwdGlvbic6IDAsXG4gIC8vIFdpZGdldCBBdHRyaWJ1dGVzXG4gICdhcmlhLWF1dG9jb21wbGV0ZSc6IDAsXG4gICdhcmlhLWNoZWNrZWQnOiAwLFxuICAnYXJpYS1leHBhbmRlZCc6IDAsXG4gICdhcmlhLWhhc3BvcHVwJzogMCxcbiAgJ2FyaWEtbGV2ZWwnOiAwLFxuICAnYXJpYS1tb2RhbCc6IDAsXG4gICdhcmlhLW11bHRpbGluZSc6IDAsXG4gICdhcmlhLW11bHRpc2VsZWN0YWJsZSc6IDAsXG4gICdhcmlhLW9yaWVudGF0aW9uJzogMCxcbiAgJ2FyaWEtcGxhY2Vob2xkZXInOiAwLFxuICAnYXJpYS1wcmVzc2VkJzogMCxcbiAgJ2FyaWEtcmVhZG9ubHknOiAwLFxuICAnYXJpYS1yZXF1aXJlZCc6IDAsXG4gICdhcmlhLXNlbGVjdGVkJzogMCxcbiAgJ2FyaWEtc29ydCc6IDAsXG4gICdhcmlhLXZhbHVlbWF4JzogMCxcbiAgJ2FyaWEtdmFsdWVtaW4nOiAwLFxuICAnYXJpYS12YWx1ZW5vdyc6IDAsXG4gICdhcmlhLXZhbHVldGV4dCc6IDAsXG4gIC8vIExpdmUgUmVnaW9uIEF0dHJpYnV0ZXNcbiAgJ2FyaWEtYXRvbWljJzogMCxcbiAgJ2FyaWEtYnVzeSc6IDAsXG4gICdhcmlhLWxpdmUnOiAwLFxuICAnYXJpYS1yZWxldmFudCc6IDAsXG4gIC8vIERyYWctYW5kLURyb3AgQXR0cmlidXRlc1xuICAnYXJpYS1kcm9wZWZmZWN0JzogMCxcbiAgJ2FyaWEtZ3JhYmJlZCc6IDAsXG4gIC8vIFJlbGF0aW9uc2hpcCBBdHRyaWJ1dGVzXG4gICdhcmlhLWFjdGl2ZWRlc2NlbmRhbnQnOiAwLFxuICAnYXJpYS1jb2xjb3VudCc6IDAsXG4gICdhcmlhLWNvbGluZGV4JzogMCxcbiAgJ2FyaWEtY29sc3Bhbic6IDAsXG4gICdhcmlhLWNvbnRyb2xzJzogMCxcbiAgJ2FyaWEtZGVzY3JpYmVkYnknOiAwLFxuICAnYXJpYS1lcnJvcm1lc3NhZ2UnOiAwLFxuICAnYXJpYS1mbG93dG8nOiAwLFxuICAnYXJpYS1sYWJlbGxlZGJ5JzogMCxcbiAgJ2FyaWEtb3ducyc6IDAsXG4gICdhcmlhLXBvc2luc2V0JzogMCxcbiAgJ2FyaWEtcm93Y291bnQnOiAwLFxuICAnYXJpYS1yb3dpbmRleCc6IDAsXG4gICdhcmlhLXJvd3NwYW4nOiAwLFxuICAnYXJpYS1zZXRzaXplJzogMFxufTtcblxudmFyIHdhcm5lZFByb3BlcnRpZXMgPSB7fTtcbnZhciByQVJJQSA9IG5ldyBSZWdFeHAoJ14oYXJpYSktWycgKyBBVFRSSUJVVEVfTkFNRV9DSEFSICsgJ10qJCcpO1xudmFyIHJBUklBQ2FtZWwgPSBuZXcgUmVnRXhwKCdeKGFyaWEpW0EtWl1bJyArIEFUVFJJQlVURV9OQU1FX0NIQVIgKyAnXSokJyk7XG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbmZ1bmN0aW9uIGdldFN0YWNrQWRkZW5kdW0oKSB7XG4gIHZhciBzdGFjayA9IFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0U3RhY2tBZGRlbmR1bSgpO1xuICByZXR1cm4gc3RhY2sgIT0gbnVsbCA/IHN0YWNrIDogJyc7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcGVydHkodGFnTmFtZSwgbmFtZSkge1xuICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh3YXJuZWRQcm9wZXJ0aWVzLCBuYW1lKSAmJiB3YXJuZWRQcm9wZXJ0aWVzW25hbWVdKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAockFSSUFDYW1lbC50ZXN0KG5hbWUpKSB7XG4gICAgdmFyIGFyaWFOYW1lID0gJ2FyaWEtJyArIG5hbWUuc2xpY2UoNCkudG9Mb3dlckNhc2UoKTtcbiAgICB2YXIgY29ycmVjdE5hbWUgPSBhcmlhUHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShhcmlhTmFtZSkgPyBhcmlhTmFtZSA6IG51bGw7XG5cbiAgICAvLyBJZiB0aGlzIGlzIGFuIGFyaWEtKiBhdHRyaWJ1dGUsIGJ1dCBpcyBub3QgbGlzdGVkIGluIHRoZSBrbm93biBET01cbiAgICAvLyBET00gcHJvcGVydGllcywgdGhlbiBpdCBpcyBhbiBpbnZhbGlkIGFyaWEtKiBhdHRyaWJ1dGUuXG4gICAgaWYgKGNvcnJlY3ROYW1lID09IG51bGwpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIEFSSUEgYXR0cmlidXRlIGAlc2AuIEFSSUEgYXR0cmlidXRlcyBmb2xsb3cgdGhlIHBhdHRlcm4gYXJpYS0qIGFuZCBtdXN0IGJlIGxvd2VyY2FzZS4lcycsIG5hbWUsIGdldFN0YWNrQWRkZW5kdW0oKSk7XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBhcmlhLSogYXR0cmlidXRlcyBzaG91bGQgYmUgbG93ZXJjYXNlOyBzdWdnZXN0IHRoZSBsb3dlcmNhc2UgdmVyc2lvbi5cbiAgICBpZiAobmFtZSAhPT0gY29ycmVjdE5hbWUpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIEFSSUEgYXR0cmlidXRlIGAlc2AuIERpZCB5b3UgbWVhbiBgJXNgPyVzJywgbmFtZSwgY29ycmVjdE5hbWUsIGdldFN0YWNrQWRkZW5kdW0oKSk7XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmIChyQVJJQS50ZXN0KG5hbWUpKSB7XG4gICAgdmFyIGxvd2VyQ2FzZWROYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhciBzdGFuZGFyZE5hbWUgPSBhcmlhUHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShsb3dlckNhc2VkTmFtZSkgPyBsb3dlckNhc2VkTmFtZSA6IG51bGw7XG5cbiAgICAvLyBJZiB0aGlzIGlzIGFuIGFyaWEtKiBhdHRyaWJ1dGUsIGJ1dCBpcyBub3QgbGlzdGVkIGluIHRoZSBrbm93biBET01cbiAgICAvLyBET00gcHJvcGVydGllcywgdGhlbiBpdCBpcyBhbiBpbnZhbGlkIGFyaWEtKiBhdHRyaWJ1dGUuXG4gICAgaWYgKHN0YW5kYXJkTmFtZSA9PSBudWxsKSB7XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gYXJpYS0qIGF0dHJpYnV0ZXMgc2hvdWxkIGJlIGxvd2VyY2FzZTsgc3VnZ2VzdCB0aGUgbG93ZXJjYXNlIHZlcnNpb24uXG4gICAgaWYgKG5hbWUgIT09IHN0YW5kYXJkTmFtZSkge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ1Vua25vd24gQVJJQSBhdHRyaWJ1dGUgYCVzYC4gRGlkIHlvdSBtZWFuIGAlc2A/JXMnLCBuYW1lLCBzdGFuZGFyZE5hbWUsIGdldFN0YWNrQWRkZW5kdW0oKSk7XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiB3YXJuSW52YWxpZEFSSUFQcm9wcyh0eXBlLCBwcm9wcykge1xuICB2YXIgaW52YWxpZFByb3BzID0gW107XG5cbiAgZm9yICh2YXIga2V5IGluIHByb3BzKSB7XG4gICAgdmFyIGlzVmFsaWQgPSB2YWxpZGF0ZVByb3BlcnR5KHR5cGUsIGtleSk7XG4gICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICBpbnZhbGlkUHJvcHMucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuXG4gIHZhciB1bmtub3duUHJvcFN0cmluZyA9IGludmFsaWRQcm9wcy5tYXAoZnVuY3Rpb24gKHByb3ApIHtcbiAgICByZXR1cm4gJ2AnICsgcHJvcCArICdgJztcbiAgfSkuam9pbignLCAnKTtcblxuICBpZiAoaW52YWxpZFByb3BzLmxlbmd0aCA9PT0gMSkge1xuICAgIHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIGFyaWEgcHJvcCAlcyBvbiA8JXM+IHRhZy4gJyArICdGb3IgZGV0YWlscywgc2VlIGh0dHBzOi8vZmIubWUvaW52YWxpZC1hcmlhLXByb3AlcycsIHVua25vd25Qcm9wU3RyaW5nLCB0eXBlLCBnZXRTdGFja0FkZGVuZHVtKCkpO1xuICB9IGVsc2UgaWYgKGludmFsaWRQcm9wcy5sZW5ndGggPiAxKSB7XG4gICAgd2FybmluZyhmYWxzZSwgJ0ludmFsaWQgYXJpYSBwcm9wcyAlcyBvbiA8JXM+IHRhZy4gJyArICdGb3IgZGV0YWlscywgc2VlIGh0dHBzOi8vZmIubWUvaW52YWxpZC1hcmlhLXByb3AlcycsIHVua25vd25Qcm9wU3RyaW5nLCB0eXBlLCBnZXRTdGFja0FkZGVuZHVtKCkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcGVydGllcyh0eXBlLCBwcm9wcykge1xuICBpZiAoaXNDdXN0b21Db21wb25lbnQodHlwZSwgcHJvcHMpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHdhcm5JbnZhbGlkQVJJQVByb3BzKHR5cGUsIHByb3BzKTtcbn1cblxudmFyIGRpZFdhcm5WYWx1ZU51bGwgPSBmYWxzZTtcblxuZnVuY3Rpb24gZ2V0U3RhY2tBZGRlbmR1bSQxKCkge1xuICB2YXIgc3RhY2sgPSBSZWFjdERlYnVnQ3VycmVudEZyYW1lLmdldFN0YWNrQWRkZW5kdW0oKTtcbiAgcmV0dXJuIHN0YWNrICE9IG51bGwgPyBzdGFjayA6ICcnO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BlcnRpZXMkMSh0eXBlLCBwcm9wcykge1xuICBpZiAodHlwZSAhPT0gJ2lucHV0JyAmJiB0eXBlICE9PSAndGV4dGFyZWEnICYmIHR5cGUgIT09ICdzZWxlY3QnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHByb3BzICE9IG51bGwgJiYgcHJvcHMudmFsdWUgPT09IG51bGwgJiYgIWRpZFdhcm5WYWx1ZU51bGwpIHtcbiAgICBkaWRXYXJuVmFsdWVOdWxsID0gdHJ1ZTtcbiAgICBpZiAodHlwZSA9PT0gJ3NlbGVjdCcgJiYgcHJvcHMubXVsdGlwbGUpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdgdmFsdWVgIHByb3Agb24gYCVzYCBzaG91bGQgbm90IGJlIG51bGwuICcgKyAnQ29uc2lkZXIgdXNpbmcgYW4gZW1wdHkgYXJyYXkgd2hlbiBgbXVsdGlwbGVgIGlzIHNldCB0byBgdHJ1ZWAgJyArICd0byBjbGVhciB0aGUgY29tcG9uZW50IG9yIGB1bmRlZmluZWRgIGZvciB1bmNvbnRyb2xsZWQgY29tcG9uZW50cy4lcycsIHR5cGUsIGdldFN0YWNrQWRkZW5kdW0kMSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2FybmluZyhmYWxzZSwgJ2B2YWx1ZWAgcHJvcCBvbiBgJXNgIHNob3VsZCBub3QgYmUgbnVsbC4gJyArICdDb25zaWRlciB1c2luZyBhbiBlbXB0eSBzdHJpbmcgdG8gY2xlYXIgdGhlIGNvbXBvbmVudCBvciBgdW5kZWZpbmVkYCAnICsgJ2ZvciB1bmNvbnRyb2xsZWQgY29tcG9uZW50cy4lcycsIHR5cGUsIGdldFN0YWNrQWRkZW5kdW0kMSgpKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0U3RhY2tBZGRlbmR1bSQyKCkge1xuICB2YXIgc3RhY2sgPSBSZWFjdERlYnVnQ3VycmVudEZyYW1lLmdldFN0YWNrQWRkZW5kdW0oKTtcbiAgcmV0dXJuIHN0YWNrICE9IG51bGwgPyBzdGFjayA6ICcnO1xufVxuXG52YXIgdmFsaWRhdGVQcm9wZXJ0eSQxID0gZnVuY3Rpb24gKCkge307XG5cbntcbiAgdmFyIHdhcm5lZFByb3BlcnRpZXMkMSA9IHt9O1xuICB2YXIgX2hhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIEVWRU5UX05BTUVfUkVHRVggPSAvXm9uLi87XG4gIHZhciBJTlZBTElEX0VWRU5UX05BTUVfUkVHRVggPSAvXm9uW15BLVpdLztcbiAgdmFyIHJBUklBJDEgPSBuZXcgUmVnRXhwKCdeKGFyaWEpLVsnICsgQVRUUklCVVRFX05BTUVfQ0hBUiArICddKiQnKTtcbiAgdmFyIHJBUklBQ2FtZWwkMSA9IG5ldyBSZWdFeHAoJ14oYXJpYSlbQS1aXVsnICsgQVRUUklCVVRFX05BTUVfQ0hBUiArICddKiQnKTtcblxuICB2YWxpZGF0ZVByb3BlcnR5JDEgPSBmdW5jdGlvbiAodGFnTmFtZSwgbmFtZSwgdmFsdWUsIGNhblVzZUV2ZW50U3lzdGVtKSB7XG4gICAgaWYgKF9oYXNPd25Qcm9wZXJ0eS5jYWxsKHdhcm5lZFByb3BlcnRpZXMkMSwgbmFtZSkgJiYgd2FybmVkUHJvcGVydGllcyQxW25hbWVdKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgbG93ZXJDYXNlZE5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGxvd2VyQ2FzZWROYW1lID09PSAnb25mb2N1c2luJyB8fCBsb3dlckNhc2VkTmFtZSA9PT0gJ29uZm9jdXNvdXQnKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnUmVhY3QgdXNlcyBvbkZvY3VzIGFuZCBvbkJsdXIgaW5zdGVhZCBvZiBvbkZvY3VzSW4gYW5kIG9uRm9jdXNPdXQuICcgKyAnQWxsIFJlYWN0IGV2ZW50cyBhcmUgbm9ybWFsaXplZCB0byBidWJibGUsIHNvIG9uRm9jdXNJbiBhbmQgb25Gb2N1c091dCAnICsgJ2FyZSBub3QgbmVlZGVkL3N1cHBvcnRlZCBieSBSZWFjdC4nKTtcbiAgICAgIHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXSA9IHRydWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBXZSBjYW4ndCByZWx5IG9uIHRoZSBldmVudCBzeXN0ZW0gYmVpbmcgaW5qZWN0ZWQgb24gdGhlIHNlcnZlci5cbiAgICBpZiAoY2FuVXNlRXZlbnRTeXN0ZW0pIHtcbiAgICAgIGlmIChyZWdpc3RyYXRpb25OYW1lTW9kdWxlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciByZWdpc3RyYXRpb25OYW1lID0gcG9zc2libGVSZWdpc3RyYXRpb25OYW1lcy5oYXNPd25Qcm9wZXJ0eShsb3dlckNhc2VkTmFtZSkgPyBwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzW2xvd2VyQ2FzZWROYW1lXSA6IG51bGw7XG4gICAgICBpZiAocmVnaXN0cmF0aW9uTmFtZSAhPSBudWxsKSB7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIGV2ZW50IGhhbmRsZXIgcHJvcGVydHkgYCVzYC4gRGlkIHlvdSBtZWFuIGAlc2A/JXMnLCBuYW1lLCByZWdpc3RyYXRpb25OYW1lLCBnZXRTdGFja0FkZGVuZHVtJDIoKSk7XG4gICAgICAgIHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXSA9IHRydWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKEVWRU5UX05BTUVfUkVHRVgudGVzdChuYW1lKSkge1xuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnVW5rbm93biBldmVudCBoYW5kbGVyIHByb3BlcnR5IGAlc2AuIEl0IHdpbGwgYmUgaWdub3JlZC4lcycsIG5hbWUsIGdldFN0YWNrQWRkZW5kdW0kMigpKTtcbiAgICAgICAgd2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChFVkVOVF9OQU1FX1JFR0VYLnRlc3QobmFtZSkpIHtcbiAgICAgIC8vIElmIG5vIGV2ZW50IHBsdWdpbnMgaGF2ZSBiZWVuIGluamVjdGVkLCB3ZSBhcmUgaW4gYSBzZXJ2ZXIgZW52aXJvbm1lbnQuXG4gICAgICAvLyBTbyB3ZSBjYW4ndCB0ZWxsIGlmIHRoZSBldmVudCBuYW1lIGlzIGNvcnJlY3QgZm9yIHN1cmUsIGJ1dCB3ZSBjYW4gZmlsdGVyXG4gICAgICAvLyBvdXQga25vd24gYmFkIG9uZXMgbGlrZSBgb25jbGlja2AuIFdlIGNhbid0IHN1Z2dlc3QgYSBzcGVjaWZpYyByZXBsYWNlbWVudCB0aG91Z2guXG4gICAgICBpZiAoSU5WQUxJRF9FVkVOVF9OQU1FX1JFR0VYLnRlc3QobmFtZSkpIHtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJ0ludmFsaWQgZXZlbnQgaGFuZGxlciBwcm9wZXJ0eSBgJXNgLiAnICsgJ1JlYWN0IGV2ZW50cyB1c2UgdGhlIGNhbWVsQ2FzZSBuYW1pbmcgY29udmVudGlvbiwgZm9yIGV4YW1wbGUgYG9uQ2xpY2tgLiVzJywgbmFtZSwgZ2V0U3RhY2tBZGRlbmR1bSQyKCkpO1xuICAgICAgfVxuICAgICAgd2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIExldCB0aGUgQVJJQSBhdHRyaWJ1dGUgaG9vayB2YWxpZGF0ZSBBUklBIGF0dHJpYnV0ZXNcbiAgICBpZiAockFSSUEkMS50ZXN0KG5hbWUpIHx8IHJBUklBQ2FtZWwkMS50ZXN0KG5hbWUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAobG93ZXJDYXNlZE5hbWUgPT09ICdpbm5lcmh0bWwnKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnRGlyZWN0bHkgc2V0dGluZyBwcm9wZXJ0eSBgaW5uZXJIVE1MYCBpcyBub3QgcGVybWl0dGVkLiAnICsgJ0ZvciBtb3JlIGluZm9ybWF0aW9uLCBsb29rdXAgZG9jdW1lbnRhdGlvbiBvbiBgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLicpO1xuICAgICAgd2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChsb3dlckNhc2VkTmFtZSA9PT0gJ2FyaWEnKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnVGhlIGBhcmlhYCBhdHRyaWJ1dGUgaXMgcmVzZXJ2ZWQgZm9yIGZ1dHVyZSB1c2UgaW4gUmVhY3QuICcgKyAnUGFzcyBpbmRpdmlkdWFsIGBhcmlhLWAgYXR0cmlidXRlcyBpbnN0ZWFkLicpO1xuICAgICAgd2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChsb3dlckNhc2VkTmFtZSA9PT0gJ2lzJyAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdSZWNlaXZlZCBhIGAlc2AgZm9yIGEgc3RyaW5nIGF0dHJpYnV0ZSBgaXNgLiBJZiB0aGlzIGlzIGV4cGVjdGVkLCBjYXN0ICcgKyAndGhlIHZhbHVlIHRvIGEgc3RyaW5nLiVzJywgdHlwZW9mIHZhbHVlLCBnZXRTdGFja0FkZGVuZHVtJDIoKSk7XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgaXNOYU4odmFsdWUpKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnUmVjZWl2ZWQgTmFOIGZvciB0aGUgYCVzYCBhdHRyaWJ1dGUuIElmIHRoaXMgaXMgZXhwZWN0ZWQsIGNhc3QgJyArICd0aGUgdmFsdWUgdG8gYSBzdHJpbmcuJXMnLCBuYW1lLCBnZXRTdGFja0FkZGVuZHVtJDIoKSk7XG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdmFyIHByb3BlcnR5SW5mbyA9IGdldFByb3BlcnR5SW5mbyhuYW1lKTtcbiAgICB2YXIgaXNSZXNlcnZlZCA9IHByb3BlcnR5SW5mbyAhPT0gbnVsbCAmJiBwcm9wZXJ0eUluZm8udHlwZSA9PT0gUkVTRVJWRUQ7XG5cbiAgICAvLyBLbm93biBhdHRyaWJ1dGVzIHNob3VsZCBtYXRjaCB0aGUgY2FzaW5nIHNwZWNpZmllZCBpbiB0aGUgcHJvcGVydHkgY29uZmlnLlxuICAgIGlmIChwb3NzaWJsZVN0YW5kYXJkTmFtZXMuaGFzT3duUHJvcGVydHkobG93ZXJDYXNlZE5hbWUpKSB7XG4gICAgICB2YXIgc3RhbmRhcmROYW1lID0gcG9zc2libGVTdGFuZGFyZE5hbWVzW2xvd2VyQ2FzZWROYW1lXTtcbiAgICAgIGlmIChzdGFuZGFyZE5hbWUgIT09IG5hbWUpIHtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgJ0ludmFsaWQgRE9NIHByb3BlcnR5IGAlc2AuIERpZCB5b3UgbWVhbiBgJXNgPyVzJywgbmFtZSwgc3RhbmRhcmROYW1lLCBnZXRTdGFja0FkZGVuZHVtJDIoKSk7XG4gICAgICAgIHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXSA9IHRydWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWlzUmVzZXJ2ZWQgJiYgbmFtZSAhPT0gbG93ZXJDYXNlZE5hbWUpIHtcbiAgICAgIC8vIFVua25vd24gYXR0cmlidXRlcyBzaG91bGQgaGF2ZSBsb3dlcmNhc2UgY2FzaW5nIHNpbmNlIHRoYXQncyBob3cgdGhleVxuICAgICAgLy8gd2lsbCBiZSBjYXNlZCBhbnl3YXkgd2l0aCBzZXJ2ZXIgcmVuZGVyaW5nLlxuICAgICAgd2FybmluZyhmYWxzZSwgJ1JlYWN0IGRvZXMgbm90IHJlY29nbml6ZSB0aGUgYCVzYCBwcm9wIG9uIGEgRE9NIGVsZW1lbnQuIElmIHlvdSAnICsgJ2ludGVudGlvbmFsbHkgd2FudCBpdCB0byBhcHBlYXIgaW4gdGhlIERPTSBhcyBhIGN1c3RvbSAnICsgJ2F0dHJpYnV0ZSwgc3BlbGwgaXQgYXMgbG93ZXJjYXNlIGAlc2AgaW5zdGVhZC4gJyArICdJZiB5b3UgYWNjaWRlbnRhbGx5IHBhc3NlZCBpdCBmcm9tIGEgcGFyZW50IGNvbXBvbmVudCwgcmVtb3ZlICcgKyAnaXQgZnJvbSB0aGUgRE9NIGVsZW1lbnQuJXMnLCBuYW1lLCBsb3dlckNhc2VkTmFtZSwgZ2V0U3RhY2tBZGRlbmR1bSQyKCkpO1xuICAgICAgd2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJyAmJiBzaG91bGRSZW1vdmVBdHRyaWJ1dGVXaXRoV2FybmluZyhuYW1lLCB2YWx1ZSwgcHJvcGVydHlJbmZvLCBmYWxzZSkpIHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnUmVjZWl2ZWQgYCVzYCBmb3IgYSBub24tYm9vbGVhbiBhdHRyaWJ1dGUgYCVzYC5cXG5cXG4nICsgJ0lmIHlvdSB3YW50IHRvIHdyaXRlIGl0IHRvIHRoZSBET00sIHBhc3MgYSBzdHJpbmcgaW5zdGVhZDogJyArICclcz1cIiVzXCIgb3IgJXM9e3ZhbHVlLnRvU3RyaW5nKCl9LiVzJywgdmFsdWUsIG5hbWUsIG5hbWUsIHZhbHVlLCBuYW1lLCBnZXRTdGFja0FkZGVuZHVtJDIoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnUmVjZWl2ZWQgYCVzYCBmb3IgYSBub24tYm9vbGVhbiBhdHRyaWJ1dGUgYCVzYC5cXG5cXG4nICsgJ0lmIHlvdSB3YW50IHRvIHdyaXRlIGl0IHRvIHRoZSBET00sIHBhc3MgYSBzdHJpbmcgaW5zdGVhZDogJyArICclcz1cIiVzXCIgb3IgJXM9e3ZhbHVlLnRvU3RyaW5nKCl9LlxcblxcbicgKyAnSWYgeW91IHVzZWQgdG8gY29uZGl0aW9uYWxseSBvbWl0IGl0IHdpdGggJXM9e2NvbmRpdGlvbiAmJiB2YWx1ZX0sICcgKyAncGFzcyAlcz17Y29uZGl0aW9uID8gdmFsdWUgOiB1bmRlZmluZWR9IGluc3RlYWQuJXMnLCB2YWx1ZSwgbmFtZSwgbmFtZSwgdmFsdWUsIG5hbWUsIG5hbWUsIG5hbWUsIGdldFN0YWNrQWRkZW5kdW0kMigpKTtcbiAgICAgIH1cbiAgICAgIHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXSA9IHRydWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBOb3cgdGhhdCB3ZSd2ZSB2YWxpZGF0ZWQgY2FzaW5nLCBkbyBub3QgdmFsaWRhdGVcbiAgICAvLyBkYXRhIHR5cGVzIGZvciByZXNlcnZlZCBwcm9wc1xuICAgIGlmIChpc1Jlc2VydmVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBXYXJuIHdoZW4gYSBrbm93biBhdHRyaWJ1dGUgaXMgYSBiYWQgdHlwZVxuICAgIGlmIChzaG91bGRSZW1vdmVBdHRyaWJ1dGVXaXRoV2FybmluZyhuYW1lLCB2YWx1ZSwgcHJvcGVydHlJbmZvLCBmYWxzZSkpIHtcbiAgICAgIHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXSA9IHRydWU7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG59XG5cbnZhciB3YXJuVW5rbm93blByb3BlcnRpZXMgPSBmdW5jdGlvbiAodHlwZSwgcHJvcHMsIGNhblVzZUV2ZW50U3lzdGVtKSB7XG4gIHZhciB1bmtub3duUHJvcHMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIHByb3BzKSB7XG4gICAgdmFyIGlzVmFsaWQgPSB2YWxpZGF0ZVByb3BlcnR5JDEodHlwZSwga2V5LCBwcm9wc1trZXldLCBjYW5Vc2VFdmVudFN5c3RlbSk7XG4gICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICB1bmtub3duUHJvcHMucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuXG4gIHZhciB1bmtub3duUHJvcFN0cmluZyA9IHVua25vd25Qcm9wcy5tYXAoZnVuY3Rpb24gKHByb3ApIHtcbiAgICByZXR1cm4gJ2AnICsgcHJvcCArICdgJztcbiAgfSkuam9pbignLCAnKTtcbiAgaWYgKHVua25vd25Qcm9wcy5sZW5ndGggPT09IDEpIHtcbiAgICB3YXJuaW5nKGZhbHNlLCAnSW52YWxpZCB2YWx1ZSBmb3IgcHJvcCAlcyBvbiA8JXM+IHRhZy4gRWl0aGVyIHJlbW92ZSBpdCBmcm9tIHRoZSBlbGVtZW50LCAnICsgJ29yIHBhc3MgYSBzdHJpbmcgb3IgbnVtYmVyIHZhbHVlIHRvIGtlZXAgaXQgaW4gdGhlIERPTS4gJyArICdGb3IgZGV0YWlscywgc2VlIGh0dHBzOi8vZmIubWUvcmVhY3QtYXR0cmlidXRlLWJlaGF2aW9yJXMnLCB1bmtub3duUHJvcFN0cmluZywgdHlwZSwgZ2V0U3RhY2tBZGRlbmR1bSQyKCkpO1xuICB9IGVsc2UgaWYgKHVua25vd25Qcm9wcy5sZW5ndGggPiAxKSB7XG4gICAgd2FybmluZyhmYWxzZSwgJ0ludmFsaWQgdmFsdWVzIGZvciBwcm9wcyAlcyBvbiA8JXM+IHRhZy4gRWl0aGVyIHJlbW92ZSB0aGVtIGZyb20gdGhlIGVsZW1lbnQsICcgKyAnb3IgcGFzcyBhIHN0cmluZyBvciBudW1iZXIgdmFsdWUgdG8ga2VlcCB0aGVtIGluIHRoZSBET00uICcgKyAnRm9yIGRldGFpbHMsIHNlZSBodHRwczovL2ZiLm1lL3JlYWN0LWF0dHJpYnV0ZS1iZWhhdmlvciVzJywgdW5rbm93blByb3BTdHJpbmcsIHR5cGUsIGdldFN0YWNrQWRkZW5kdW0kMigpKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0aWVzJDIodHlwZSwgcHJvcHMsIGNhblVzZUV2ZW50U3lzdGVtKSB7XG4gIGlmIChpc0N1c3RvbUNvbXBvbmVudCh0eXBlLCBwcm9wcykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgd2FyblVua25vd25Qcm9wZXJ0aWVzKHR5cGUsIHByb3BzLCBjYW5Vc2VFdmVudFN5c3RlbSk7XG59XG5cbi8vIFRPRE86IGRpcmVjdCBpbXBvcnRzIGxpa2Ugc29tZS1wYWNrYWdlL3NyYy8qIGFyZSBiYWQuIEZpeCBtZS5cbnZhciBnZXRDdXJyZW50RmliZXJPd25lck5hbWUkMiA9IFJlYWN0RGVidWdDdXJyZW50RmliZXIuZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lO1xudmFyIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMyA9IFJlYWN0RGVidWdDdXJyZW50RmliZXIuZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bTtcblxudmFyIGRpZFdhcm5JbnZhbGlkSHlkcmF0aW9uID0gZmFsc2U7XG52YXIgZGlkV2FyblNoYWR5RE9NID0gZmFsc2U7XG5cbnZhciBEQU5HRVJPVVNMWV9TRVRfSU5ORVJfSFRNTCA9ICdkYW5nZXJvdXNseVNldElubmVySFRNTCc7XG52YXIgU1VQUFJFU1NfQ09OVEVOVF9FRElUQUJMRV9XQVJOSU5HID0gJ3N1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZyc7XG52YXIgU1VQUFJFU1NfSFlEUkFUSU9OX1dBUk5JTkckMSA9ICdzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcnO1xudmFyIEFVVE9GT0NVUyA9ICdhdXRvRm9jdXMnO1xudmFyIENISUxEUkVOID0gJ2NoaWxkcmVuJztcbnZhciBTVFlMRSA9ICdzdHlsZSc7XG52YXIgSFRNTCA9ICdfX2h0bWwnO1xuXG52YXIgSFRNTF9OQU1FU1BBQ0UgPSBOYW1lc3BhY2VzLmh0bWw7XG5cblxudmFyIGdldFN0YWNrID0gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJucygnJyk7XG5cbnZhciB3YXJuZWRVbmtub3duVGFncyA9IHZvaWQgMDtcbnZhciBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcgPSB2b2lkIDA7XG5cbnZhciB2YWxpZGF0ZVByb3BlcnRpZXNJbkRldmVsb3BtZW50ID0gdm9pZCAwO1xudmFyIHdhcm5Gb3JUZXh0RGlmZmVyZW5jZSA9IHZvaWQgMDtcbnZhciB3YXJuRm9yUHJvcERpZmZlcmVuY2UgPSB2b2lkIDA7XG52YXIgd2FybkZvckV4dHJhQXR0cmlidXRlcyA9IHZvaWQgMDtcbnZhciB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIgPSB2b2lkIDA7XG5cbnZhciBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUgPSB2b2lkIDA7XG52YXIgbm9ybWFsaXplSFRNTCA9IHZvaWQgMDtcblxue1xuICBnZXRTdGFjayA9IGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMztcblxuICB3YXJuZWRVbmtub3duVGFncyA9IHtcbiAgICAvLyBDaHJvbWUgaXMgdGhlIG9ubHkgbWFqb3IgYnJvd3NlciBub3Qgc2hpcHBpbmcgPHRpbWU+LiBCdXQgYXMgb2YgSnVseVxuICAgIC8vIDIwMTcgaXQgaW50ZW5kcyB0byBzaGlwIGl0IGR1ZSB0byB3aWRlc3ByZWFkIHVzYWdlLiBXZSBpbnRlbnRpb25hbGx5XG4gICAgLy8gKmRvbid0KiB3YXJuIGZvciA8dGltZT4gZXZlbiBpZiBpdCdzIHVucmVjb2duaXplZCBieSBDaHJvbWUgYmVjYXVzZVxuICAgIC8vIGl0IHNvb24gd2lsbCBiZSwgYW5kIG1hbnkgYXBwcyBoYXZlIGJlZW4gdXNpbmcgaXQgYW55d2F5LlxuICAgIHRpbWU6IHRydWUsXG4gICAgLy8gVGhlcmUgYXJlIHdvcmtpbmcgcG9seWZpbGxzIGZvciA8ZGlhbG9nPi4gTGV0IHBlb3BsZSB1c2UgaXQuXG4gICAgZGlhbG9nOiB0cnVlXG4gIH07XG5cbiAgdmFsaWRhdGVQcm9wZXJ0aWVzSW5EZXZlbG9wbWVudCA9IGZ1bmN0aW9uICh0eXBlLCBwcm9wcykge1xuICAgIHZhbGlkYXRlUHJvcGVydGllcyh0eXBlLCBwcm9wcyk7XG4gICAgdmFsaWRhdGVQcm9wZXJ0aWVzJDEodHlwZSwgcHJvcHMpO1xuICAgIHZhbGlkYXRlUHJvcGVydGllcyQyKHR5cGUsIHByb3BzLCAvKiBjYW5Vc2VFdmVudFN5c3RlbSAqL3RydWUpO1xuICB9O1xuXG4gIC8vIEhUTUwgcGFyc2luZyBub3JtYWxpemVzIENSIGFuZCBDUkxGIHRvIExGLlxuICAvLyBJdCBhbHNvIGNhbiB0dXJuIFxcdTAwMDAgaW50byBcXHVGRkZEIGluc2lkZSBhdHRyaWJ1dGVzLlxuICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvc2luZ2xlLXBhZ2UuaHRtbCNwcmVwcm9jZXNzaW5nLXRoZS1pbnB1dC1zdHJlYW1cbiAgLy8gSWYgd2UgaGF2ZSBhIG1pc21hdGNoLCBpdCBtaWdodCBiZSBjYXVzZWQgYnkgdGhhdC5cbiAgLy8gV2Ugd2lsbCBzdGlsbCBwYXRjaCB1cCBpbiB0aGlzIGNhc2UgYnV0IG5vdCBmaXJlIHRoZSB3YXJuaW5nLlxuICB2YXIgTk9STUFMSVpFX05FV0xJTkVTX1JFR0VYID0gL1xcclxcbj8vZztcbiAgdmFyIE5PUk1BTElaRV9OVUxMX0FORF9SRVBMQUNFTUVOVF9SRUdFWCA9IC9cXHUwMDAwfFxcdUZGRkQvZztcblxuICBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUgPSBmdW5jdGlvbiAobWFya3VwKSB7XG4gICAgdmFyIG1hcmt1cFN0cmluZyA9IHR5cGVvZiBtYXJrdXAgPT09ICdzdHJpbmcnID8gbWFya3VwIDogJycgKyBtYXJrdXA7XG4gICAgcmV0dXJuIG1hcmt1cFN0cmluZy5yZXBsYWNlKE5PUk1BTElaRV9ORVdMSU5FU19SRUdFWCwgJ1xcbicpLnJlcGxhY2UoTk9STUFMSVpFX05VTExfQU5EX1JFUExBQ0VNRU5UX1JFR0VYLCAnJyk7XG4gIH07XG5cbiAgd2FybkZvclRleHREaWZmZXJlbmNlID0gZnVuY3Rpb24gKHNlcnZlclRleHQsIGNsaWVudFRleHQpIHtcbiAgICBpZiAoZGlkV2FybkludmFsaWRIeWRyYXRpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG5vcm1hbGl6ZWRDbGllbnRUZXh0ID0gbm9ybWFsaXplTWFya3VwRm9yVGV4dE9yQXR0cmlidXRlKGNsaWVudFRleHQpO1xuICAgIHZhciBub3JtYWxpemVkU2VydmVyVGV4dCA9IG5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZShzZXJ2ZXJUZXh0KTtcbiAgICBpZiAobm9ybWFsaXplZFNlcnZlclRleHQgPT09IG5vcm1hbGl6ZWRDbGllbnRUZXh0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRpZFdhcm5JbnZhbGlkSHlkcmF0aW9uID0gdHJ1ZTtcbiAgICB3YXJuaW5nKGZhbHNlLCAnVGV4dCBjb250ZW50IGRpZCBub3QgbWF0Y2guIFNlcnZlcjogXCIlc1wiIENsaWVudDogXCIlc1wiJywgbm9ybWFsaXplZFNlcnZlclRleHQsIG5vcm1hbGl6ZWRDbGllbnRUZXh0KTtcbiAgfTtcblxuICB3YXJuRm9yUHJvcERpZmZlcmVuY2UgPSBmdW5jdGlvbiAocHJvcE5hbWUsIHNlcnZlclZhbHVlLCBjbGllbnRWYWx1ZSkge1xuICAgIGlmIChkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgbm9ybWFsaXplZENsaWVudFZhbHVlID0gbm9ybWFsaXplTWFya3VwRm9yVGV4dE9yQXR0cmlidXRlKGNsaWVudFZhbHVlKTtcbiAgICB2YXIgbm9ybWFsaXplZFNlcnZlclZhbHVlID0gbm9ybWFsaXplTWFya3VwRm9yVGV4dE9yQXR0cmlidXRlKHNlcnZlclZhbHVlKTtcbiAgICBpZiAobm9ybWFsaXplZFNlcnZlclZhbHVlID09PSBub3JtYWxpemVkQ2xpZW50VmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGlkV2FybkludmFsaWRIeWRyYXRpb24gPSB0cnVlO1xuICAgIHdhcm5pbmcoZmFsc2UsICdQcm9wIGAlc2AgZGlkIG5vdCBtYXRjaC4gU2VydmVyOiAlcyBDbGllbnQ6ICVzJywgcHJvcE5hbWUsIEpTT04uc3RyaW5naWZ5KG5vcm1hbGl6ZWRTZXJ2ZXJWYWx1ZSksIEpTT04uc3RyaW5naWZ5KG5vcm1hbGl6ZWRDbGllbnRWYWx1ZSkpO1xuICB9O1xuXG4gIHdhcm5Gb3JFeHRyYUF0dHJpYnV0ZXMgPSBmdW5jdGlvbiAoYXR0cmlidXRlTmFtZXMpIHtcbiAgICBpZiAoZGlkV2FybkludmFsaWRIeWRyYXRpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGlkV2FybkludmFsaWRIeWRyYXRpb24gPSB0cnVlO1xuICAgIHZhciBuYW1lcyA9IFtdO1xuICAgIGF0dHJpYnV0ZU5hbWVzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIG5hbWVzLnB1c2gobmFtZSk7XG4gICAgfSk7XG4gICAgd2FybmluZyhmYWxzZSwgJ0V4dHJhIGF0dHJpYnV0ZXMgZnJvbSB0aGUgc2VydmVyOiAlcycsIG5hbWVzKTtcbiAgfTtcblxuICB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAocmVnaXN0cmF0aW9uTmFtZSwgbGlzdGVuZXIpIHtcbiAgICBpZiAobGlzdGVuZXIgPT09IGZhbHNlKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnRXhwZWN0ZWQgYCVzYCBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLCBpbnN0ZWFkIGdvdCBgZmFsc2VgLlxcblxcbicgKyAnSWYgeW91IHVzZWQgdG8gY29uZGl0aW9uYWxseSBvbWl0IGl0IHdpdGggJXM9e2NvbmRpdGlvbiAmJiB2YWx1ZX0sICcgKyAncGFzcyAlcz17Y29uZGl0aW9uID8gdmFsdWUgOiB1bmRlZmluZWR9IGluc3RlYWQuJXMnLCByZWdpc3RyYXRpb25OYW1lLCByZWdpc3RyYXRpb25OYW1lLCByZWdpc3RyYXRpb25OYW1lLCBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDMoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdFeHBlY3RlZCBgJXNgIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24sIGluc3RlYWQgZ290IGEgdmFsdWUgb2YgYCVzYCB0eXBlLiVzJywgcmVnaXN0cmF0aW9uTmFtZSwgdHlwZW9mIGxpc3RlbmVyLCBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDMoKSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFBhcnNlIHRoZSBIVE1MIGFuZCByZWFkIGl0IGJhY2sgdG8gbm9ybWFsaXplIHRoZSBIVE1MIHN0cmluZyBzbyB0aGF0IGl0XG4gIC8vIGNhbiBiZSB1c2VkIGZvciBjb21wYXJpc29uLlxuICBub3JtYWxpemVIVE1MID0gZnVuY3Rpb24gKHBhcmVudCwgaHRtbCkge1xuICAgIC8vIFdlIGNvdWxkIGhhdmUgY3JlYXRlZCBhIHNlcGFyYXRlIGRvY3VtZW50IGhlcmUgdG8gYXZvaWRcbiAgICAvLyByZS1pbml0aWFsaXppbmcgY3VzdG9tIGVsZW1lbnRzIGlmIHRoZXkgZXhpc3QuIEJ1dCB0aGlzIGJyZWFrc1xuICAgIC8vIGhvdyA8bm9zY3JpcHQ+IGlzIGJlaW5nIGhhbmRsZWQuIFNvIHdlIHVzZSB0aGUgc2FtZSBkb2N1bWVudC5cbiAgICAvLyBTZWUgdGhlIGRpc2N1c3Npb24gaW4gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L3B1bGwvMTExNTcuXG4gICAgdmFyIHRlc3RFbGVtZW50ID0gcGFyZW50Lm5hbWVzcGFjZVVSSSA9PT0gSFRNTF9OQU1FU1BBQ0UgPyBwYXJlbnQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KHBhcmVudC50YWdOYW1lKSA6IHBhcmVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhwYXJlbnQubmFtZXNwYWNlVVJJLCBwYXJlbnQudGFnTmFtZSk7XG4gICAgdGVzdEVsZW1lbnQuaW5uZXJIVE1MID0gaHRtbDtcbiAgICByZXR1cm4gdGVzdEVsZW1lbnQuaW5uZXJIVE1MO1xuICB9O1xufVxuXG5mdW5jdGlvbiBlbnN1cmVMaXN0ZW5pbmdUbyhyb290Q29udGFpbmVyRWxlbWVudCwgcmVnaXN0cmF0aW9uTmFtZSkge1xuICB2YXIgaXNEb2N1bWVudE9yRnJhZ21lbnQgPSByb290Q29udGFpbmVyRWxlbWVudC5ub2RlVHlwZSA9PT0gRE9DVU1FTlRfTk9ERSB8fCByb290Q29udGFpbmVyRWxlbWVudC5ub2RlVHlwZSA9PT0gRE9DVU1FTlRfRlJBR01FTlRfTk9ERTtcbiAgdmFyIGRvYyA9IGlzRG9jdW1lbnRPckZyYWdtZW50ID8gcm9vdENvbnRhaW5lckVsZW1lbnQgOiByb290Q29udGFpbmVyRWxlbWVudC5vd25lckRvY3VtZW50O1xuICBsaXN0ZW5UbyhyZWdpc3RyYXRpb25OYW1lLCBkb2MpO1xufVxuXG5mdW5jdGlvbiBnZXRPd25lckRvY3VtZW50RnJvbVJvb3RDb250YWluZXIocm9vdENvbnRhaW5lckVsZW1lbnQpIHtcbiAgcmV0dXJuIHJvb3RDb250YWluZXJFbGVtZW50Lm5vZGVUeXBlID09PSBET0NVTUVOVF9OT0RFID8gcm9vdENvbnRhaW5lckVsZW1lbnQgOiByb290Q29udGFpbmVyRWxlbWVudC5vd25lckRvY3VtZW50O1xufVxuXG5mdW5jdGlvbiB0cmFwQ2xpY2tPbk5vbkludGVyYWN0aXZlRWxlbWVudChub2RlKSB7XG4gIC8vIE1vYmlsZSBTYWZhcmkgZG9lcyBub3QgZmlyZSBwcm9wZXJseSBidWJibGUgY2xpY2sgZXZlbnRzIG9uXG4gIC8vIG5vbi1pbnRlcmFjdGl2ZSBlbGVtZW50cywgd2hpY2ggbWVhbnMgZGVsZWdhdGVkIGNsaWNrIGxpc3RlbmVycyBkbyBub3RcbiAgLy8gZmlyZS4gVGhlIHdvcmthcm91bmQgZm9yIHRoaXMgYnVnIGludm9sdmVzIGF0dGFjaGluZyBhbiBlbXB0eSBjbGlja1xuICAvLyBsaXN0ZW5lciBvbiB0aGUgdGFyZ2V0IG5vZGUuXG4gIC8vIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvYmxvZy9hcmNoaXZlcy8yMDEwLzA5L2NsaWNrX2V2ZW50X2RlbC5odG1sXG4gIC8vIEp1c3Qgc2V0IGl0IHVzaW5nIHRoZSBvbmNsaWNrIHByb3BlcnR5IHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZSB0byBtYW5hZ2UgYW55XG4gIC8vIGJvb2trZWVwaW5nIGZvciBpdC4gTm90IHN1cmUgaWYgd2UgbmVlZCB0byBjbGVhciBpdCB3aGVuIHRoZSBsaXN0ZW5lciBpc1xuICAvLyByZW1vdmVkLlxuICAvLyBUT0RPOiBPbmx5IGRvIHRoaXMgZm9yIHRoZSByZWxldmFudCBTYWZhcmlzIG1heWJlP1xuICBub2RlLm9uY2xpY2sgPSBlbXB0eUZ1bmN0aW9uO1xufVxuXG5mdW5jdGlvbiBzZXRJbml0aWFsRE9NUHJvcGVydGllcyh0YWcsIGRvbUVsZW1lbnQsIHJvb3RDb250YWluZXJFbGVtZW50LCBuZXh0UHJvcHMsIGlzQ3VzdG9tQ29tcG9uZW50VGFnKSB7XG4gIGZvciAodmFyIHByb3BLZXkgaW4gbmV4dFByb3BzKSB7XG4gICAgaWYgKCFuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YXIgbmV4dFByb3AgPSBuZXh0UHJvcHNbcHJvcEtleV07XG4gICAgaWYgKHByb3BLZXkgPT09IFNUWUxFKSB7XG4gICAgICB7XG4gICAgICAgIGlmIChuZXh0UHJvcCkge1xuICAgICAgICAgIC8vIEZyZWV6ZSB0aGUgbmV4dCBzdHlsZSBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gYXNzdW1lIGl0IHdvbid0IGJlXG4gICAgICAgICAgLy8gbXV0YXRlZC4gV2UgaGF2ZSBhbHJlYWR5IHdhcm5lZCBmb3IgdGhpcyBpbiB0aGUgcGFzdC5cbiAgICAgICAgICBPYmplY3QuZnJlZXplKG5leHRQcm9wKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gUmVsaWVzIG9uIGB1cGRhdGVTdHlsZXNCeUlEYCBub3QgbXV0YXRpbmcgYHN0eWxlVXBkYXRlc2AuXG4gICAgICBzZXRWYWx1ZUZvclN0eWxlcyhkb21FbGVtZW50LCBuZXh0UHJvcCwgZ2V0U3RhY2spO1xuICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gREFOR0VST1VTTFlfU0VUX0lOTkVSX0hUTUwpIHtcbiAgICAgIHZhciBuZXh0SHRtbCA9IG5leHRQcm9wID8gbmV4dFByb3BbSFRNTF0gOiB1bmRlZmluZWQ7XG4gICAgICBpZiAobmV4dEh0bWwgIT0gbnVsbCkge1xuICAgICAgICBzZXRJbm5lckhUTUwoZG9tRWxlbWVudCwgbmV4dEh0bWwpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gQ0hJTERSRU4pIHtcbiAgICAgIGlmICh0eXBlb2YgbmV4dFByb3AgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIEF2b2lkIHNldHRpbmcgaW5pdGlhbCB0ZXh0Q29udGVudCB3aGVuIHRoZSB0ZXh0IGlzIGVtcHR5LiBJbiBJRTExIHNldHRpbmdcbiAgICAgICAgLy8gdGV4dENvbnRlbnQgb24gYSA8dGV4dGFyZWE+IHdpbGwgY2F1c2UgdGhlIHBsYWNlaG9sZGVyIHRvIG5vdFxuICAgICAgICAvLyBzaG93IHdpdGhpbiB0aGUgPHRleHRhcmVhPiB1bnRpbCBpdCBoYXMgYmVlbiBmb2N1c2VkIGFuZCBibHVycmVkIGFnYWluLlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzY3MzEjaXNzdWVjb21tZW50LTI1NDg3NDU1M1xuICAgICAgICB2YXIgY2FuU2V0VGV4dENvbnRlbnQgPSB0YWcgIT09ICd0ZXh0YXJlYScgfHwgbmV4dFByb3AgIT09ICcnO1xuICAgICAgICBpZiAoY2FuU2V0VGV4dENvbnRlbnQpIHtcbiAgICAgICAgICBzZXRUZXh0Q29udGVudChkb21FbGVtZW50LCBuZXh0UHJvcCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG5leHRQcm9wID09PSAnbnVtYmVyJykge1xuICAgICAgICBzZXRUZXh0Q29udGVudChkb21FbGVtZW50LCAnJyArIG5leHRQcm9wKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHByb3BLZXkgPT09IFNVUFBSRVNTX0NPTlRFTlRfRURJVEFCTEVfV0FSTklORyB8fCBwcm9wS2V5ID09PSBTVVBQUkVTU19IWURSQVRJT05fV0FSTklORyQxKSB7XG4gICAgICAvLyBOb29wXG4gICAgfSBlbHNlIGlmIChwcm9wS2V5ID09PSBBVVRPRk9DVVMpIHtcbiAgICAgIC8vIFdlIHBvbHlmaWxsIGl0IHNlcGFyYXRlbHkgb24gdGhlIGNsaWVudCBkdXJpbmcgY29tbWl0LlxuICAgICAgLy8gV2UgYmxhY2tsaXN0IGl0IGhlcmUgcmF0aGVyIHRoYW4gaW4gdGhlIHByb3BlcnR5IGxpc3QgYmVjYXVzZSB3ZSBlbWl0IGl0IGluIFNTUi5cbiAgICB9IGVsc2UgaWYgKHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICBpZiAobmV4dFByb3AgIT0gbnVsbCkge1xuICAgICAgICBpZiAodHJ1ZSAmJiB0eXBlb2YgbmV4dFByb3AgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIocHJvcEtleSwgbmV4dFByb3ApO1xuICAgICAgICB9XG4gICAgICAgIGVuc3VyZUxpc3RlbmluZ1RvKHJvb3RDb250YWluZXJFbGVtZW50LCBwcm9wS2V5KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG5leHRQcm9wICE9IG51bGwpIHtcbiAgICAgIHNldFZhbHVlRm9yUHJvcGVydHkoZG9tRWxlbWVudCwgcHJvcEtleSwgbmV4dFByb3AsIGlzQ3VzdG9tQ29tcG9uZW50VGFnKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlRE9NUHJvcGVydGllcyhkb21FbGVtZW50LCB1cGRhdGVQYXlsb2FkLCB3YXNDdXN0b21Db21wb25lbnRUYWcsIGlzQ3VzdG9tQ29tcG9uZW50VGFnKSB7XG4gIC8vIFRPRE86IEhhbmRsZSB3YXNDdXN0b21Db21wb25lbnRUYWdcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB1cGRhdGVQYXlsb2FkLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgdmFyIHByb3BLZXkgPSB1cGRhdGVQYXlsb2FkW2ldO1xuICAgIHZhciBwcm9wVmFsdWUgPSB1cGRhdGVQYXlsb2FkW2kgKyAxXTtcbiAgICBpZiAocHJvcEtleSA9PT0gU1RZTEUpIHtcbiAgICAgIHNldFZhbHVlRm9yU3R5bGVzKGRvbUVsZW1lbnQsIHByb3BWYWx1ZSwgZ2V0U3RhY2spO1xuICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gREFOR0VST1VTTFlfU0VUX0lOTkVSX0hUTUwpIHtcbiAgICAgIHNldElubmVySFRNTChkb21FbGVtZW50LCBwcm9wVmFsdWUpO1xuICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gQ0hJTERSRU4pIHtcbiAgICAgIHNldFRleHRDb250ZW50KGRvbUVsZW1lbnQsIHByb3BWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFZhbHVlRm9yUHJvcGVydHkoZG9tRWxlbWVudCwgcHJvcEtleSwgcHJvcFZhbHVlLCBpc0N1c3RvbUNvbXBvbmVudFRhZyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQkMSh0eXBlLCBwcm9wcywgcm9vdENvbnRhaW5lckVsZW1lbnQsIHBhcmVudE5hbWVzcGFjZSkge1xuICB2YXIgaXNDdXN0b21Db21wb25lbnRUYWcgPSB2b2lkIDA7XG5cbiAgLy8gV2UgY3JlYXRlIHRhZ3MgaW4gdGhlIG5hbWVzcGFjZSBvZiB0aGVpciBwYXJlbnQgY29udGFpbmVyLCBleGNlcHQgSFRNTFxuICAvLyB0YWdzIGdldCBubyBuYW1lc3BhY2UuXG4gIHZhciBvd25lckRvY3VtZW50ID0gZ2V0T3duZXJEb2N1bWVudEZyb21Sb290Q29udGFpbmVyKHJvb3RDb250YWluZXJFbGVtZW50KTtcbiAgdmFyIGRvbUVsZW1lbnQgPSB2b2lkIDA7XG4gIHZhciBuYW1lc3BhY2VVUkkgPSBwYXJlbnROYW1lc3BhY2U7XG4gIGlmIChuYW1lc3BhY2VVUkkgPT09IEhUTUxfTkFNRVNQQUNFKSB7XG4gICAgbmFtZXNwYWNlVVJJID0gZ2V0SW50cmluc2ljTmFtZXNwYWNlKHR5cGUpO1xuICB9XG4gIGlmIChuYW1lc3BhY2VVUkkgPT09IEhUTUxfTkFNRVNQQUNFKSB7XG4gICAge1xuICAgICAgaXNDdXN0b21Db21wb25lbnRUYWcgPSBpc0N1c3RvbUNvbXBvbmVudCh0eXBlLCBwcm9wcyk7XG4gICAgICAvLyBTaG91bGQgdGhpcyBjaGVjayBiZSBnYXRlZCBieSBwYXJlbnQgbmFtZXNwYWNlPyBOb3Qgc3VyZSB3ZSB3YW50IHRvXG4gICAgICAvLyBhbGxvdyA8U1ZHPiBvciA8bUFUSD4uXG4gICAgICB3YXJuaW5nKGlzQ3VzdG9tQ29tcG9uZW50VGFnIHx8IHR5cGUgPT09IHR5cGUudG9Mb3dlckNhc2UoKSwgJzwlcyAvPiBpcyB1c2luZyB1cHBlcmNhc2UgSFRNTC4gQWx3YXlzIHVzZSBsb3dlcmNhc2UgSFRNTCB0YWdzICcgKyAnaW4gUmVhY3QuJywgdHlwZSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGUgPT09ICdzY3JpcHQnKSB7XG4gICAgICAvLyBDcmVhdGUgdGhlIHNjcmlwdCB2aWEgLmlubmVySFRNTCBzbyBpdHMgXCJwYXJzZXItaW5zZXJ0ZWRcIiBmbGFnIGlzXG4gICAgICAvLyBzZXQgdG8gdHJ1ZSBhbmQgaXQgZG9lcyBub3QgZXhlY3V0ZVxuICAgICAgdmFyIGRpdiA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBkaXYuaW5uZXJIVE1MID0gJzxzY3JpcHQ+PCcgKyAnL3NjcmlwdD4nOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAvLyBUaGlzIGlzIGd1YXJhbnRlZWQgdG8geWllbGQgYSBzY3JpcHQgZWxlbWVudC5cbiAgICAgIHZhciBmaXJzdENoaWxkID0gZGl2LmZpcnN0Q2hpbGQ7XG4gICAgICBkb21FbGVtZW50ID0gZGl2LnJlbW92ZUNoaWxkKGZpcnN0Q2hpbGQpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHByb3BzLmlzID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gJEZsb3dJc3N1ZSBgY3JlYXRlRWxlbWVudGAgc2hvdWxkIGJlIHVwZGF0ZWQgZm9yIFdlYiBDb21wb25lbnRzXG4gICAgICBkb21FbGVtZW50ID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUsIHsgaXM6IHByb3BzLmlzIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTZXBhcmF0ZSBlbHNlIGJyYW5jaCBpbnN0ZWFkIG9mIHVzaW5nIGBwcm9wcy5pcyB8fCB1bmRlZmluZWRgIGFib3ZlIGJlY2F1c2Ugb2YgYSBGaXJlZm94IGJ1Zy5cbiAgICAgIC8vIFNlZSBkaXNjdXNzaW9uIGluIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9wdWxsLzY4OTZcbiAgICAgIC8vIGFuZCBkaXNjdXNzaW9uIGluIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTEyNzYyNDBcbiAgICAgIGRvbUVsZW1lbnQgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGRvbUVsZW1lbnQgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuYW1lc3BhY2VVUkksIHR5cGUpO1xuICB9XG5cbiAge1xuICAgIGlmIChuYW1lc3BhY2VVUkkgPT09IEhUTUxfTkFNRVNQQUNFKSB7XG4gICAgICBpZiAoIWlzQ3VzdG9tQ29tcG9uZW50VGFnICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkb21FbGVtZW50KSA9PT0gJ1tvYmplY3QgSFRNTFVua25vd25FbGVtZW50XScgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh3YXJuZWRVbmtub3duVGFncywgdHlwZSkpIHtcbiAgICAgICAgd2FybmVkVW5rbm93blRhZ3NbdHlwZV0gPSB0cnVlO1xuICAgICAgICB3YXJuaW5nKGZhbHNlLCAnVGhlIHRhZyA8JXM+IGlzIHVucmVjb2duaXplZCBpbiB0aGlzIGJyb3dzZXIuICcgKyAnSWYgeW91IG1lYW50IHRvIHJlbmRlciBhIFJlYWN0IGNvbXBvbmVudCwgc3RhcnQgaXRzIG5hbWUgd2l0aCAnICsgJ2FuIHVwcGVyY2FzZSBsZXR0ZXIuJywgdHlwZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRvbUVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRleHROb2RlJDEodGV4dCwgcm9vdENvbnRhaW5lckVsZW1lbnQpIHtcbiAgcmV0dXJuIGdldE93bmVyRG9jdW1lbnRGcm9tUm9vdENvbnRhaW5lcihyb290Q29udGFpbmVyRWxlbWVudCkuY3JlYXRlVGV4dE5vZGUodGV4dCk7XG59XG5cbmZ1bmN0aW9uIHNldEluaXRpYWxQcm9wZXJ0aWVzJDEoZG9tRWxlbWVudCwgdGFnLCByYXdQcm9wcywgcm9vdENvbnRhaW5lckVsZW1lbnQpIHtcbiAgdmFyIGlzQ3VzdG9tQ29tcG9uZW50VGFnID0gaXNDdXN0b21Db21wb25lbnQodGFnLCByYXdQcm9wcyk7XG4gIHtcbiAgICB2YWxpZGF0ZVByb3BlcnRpZXNJbkRldmVsb3BtZW50KHRhZywgcmF3UHJvcHMpO1xuICAgIGlmIChpc0N1c3RvbUNvbXBvbmVudFRhZyAmJiAhZGlkV2FyblNoYWR5RE9NICYmIGRvbUVsZW1lbnQuc2hhZHlSb290KSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnJXMgaXMgdXNpbmcgc2hhZHkgRE9NLiBVc2luZyBzaGFkeSBET00gd2l0aCBSZWFjdCBjYW4gJyArICdjYXVzZSB0aGluZ3MgdG8gYnJlYWsgc3VidGx5LicsIGdldEN1cnJlbnRGaWJlck93bmVyTmFtZSQyKCkgfHwgJ0EgY29tcG9uZW50Jyk7XG4gICAgICBkaWRXYXJuU2hhZHlET00gPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRPRE86IE1ha2Ugc3VyZSB0aGF0IHdlIGNoZWNrIGlzTW91bnRlZCBiZWZvcmUgZmlyaW5nIGFueSBvZiB0aGVzZSBldmVudHMuXG4gIHZhciBwcm9wcyA9IHZvaWQgMDtcbiAgc3dpdGNoICh0YWcpIHtcbiAgICBjYXNlICdpZnJhbWUnOlxuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KCd0b3BMb2FkJywgJ2xvYWQnLCBkb21FbGVtZW50KTtcbiAgICAgIHByb3BzID0gcmF3UHJvcHM7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd2aWRlbyc6XG4gICAgY2FzZSAnYXVkaW8nOlxuICAgICAgLy8gQ3JlYXRlIGxpc3RlbmVyIGZvciBlYWNoIG1lZGlhIGV2ZW50XG4gICAgICBmb3IgKHZhciBldmVudCBpbiBtZWRpYUV2ZW50VHlwZXMpIHtcbiAgICAgICAgaWYgKG1lZGlhRXZlbnRUeXBlcy5oYXNPd25Qcm9wZXJ0eShldmVudCkpIHtcbiAgICAgICAgICB0cmFwQnViYmxlZEV2ZW50KGV2ZW50LCBtZWRpYUV2ZW50VHlwZXNbZXZlbnRdLCBkb21FbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcHJvcHMgPSByYXdQcm9wcztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NvdXJjZSc6XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KCd0b3BFcnJvcicsICdlcnJvcicsIGRvbUVsZW1lbnQpO1xuICAgICAgcHJvcHMgPSByYXdQcm9wcztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2ltZyc6XG4gICAgY2FzZSAnaW1hZ2UnOlxuICAgIGNhc2UgJ2xpbmsnOlxuICAgICAgdHJhcEJ1YmJsZWRFdmVudCgndG9wRXJyb3InLCAnZXJyb3InLCBkb21FbGVtZW50KTtcbiAgICAgIHRyYXBCdWJibGVkRXZlbnQoJ3RvcExvYWQnLCAnbG9hZCcsIGRvbUVsZW1lbnQpO1xuICAgICAgcHJvcHMgPSByYXdQcm9wcztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Zvcm0nOlxuICAgICAgdHJhcEJ1YmJsZWRFdmVudCgndG9wUmVzZXQnLCAncmVzZXQnLCBkb21FbGVtZW50KTtcbiAgICAgIHRyYXBCdWJibGVkRXZlbnQoJ3RvcFN1Ym1pdCcsICdzdWJtaXQnLCBkb21FbGVtZW50KTtcbiAgICAgIHByb3BzID0gcmF3UHJvcHM7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdkZXRhaWxzJzpcbiAgICAgIHRyYXBCdWJibGVkRXZlbnQoJ3RvcFRvZ2dsZScsICd0b2dnbGUnLCBkb21FbGVtZW50KTtcbiAgICAgIHByb3BzID0gcmF3UHJvcHM7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdpbnB1dCc6XG4gICAgICBpbml0V3JhcHBlclN0YXRlKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIHByb3BzID0gZ2V0SG9zdFByb3BzKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIHRyYXBCdWJibGVkRXZlbnQoJ3RvcEludmFsaWQnLCAnaW52YWxpZCcsIGRvbUVsZW1lbnQpO1xuICAgICAgLy8gRm9yIGNvbnRyb2xsZWQgY29tcG9uZW50cyB3ZSBhbHdheXMgbmVlZCB0byBlbnN1cmUgd2UncmUgbGlzdGVuaW5nXG4gICAgICAvLyB0byBvbkNoYW5nZS4gRXZlbiBpZiB0aGVyZSBpcyBubyBsaXN0ZW5lci5cbiAgICAgIGVuc3VyZUxpc3RlbmluZ1RvKHJvb3RDb250YWluZXJFbGVtZW50LCAnb25DaGFuZ2UnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ29wdGlvbic6XG4gICAgICB2YWxpZGF0ZVByb3BzKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIHByb3BzID0gZ2V0SG9zdFByb3BzJDEoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgIGluaXRXcmFwcGVyU3RhdGUkMShkb21FbGVtZW50LCByYXdQcm9wcyk7XG4gICAgICBwcm9wcyA9IGdldEhvc3RQcm9wcyQyKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIHRyYXBCdWJibGVkRXZlbnQoJ3RvcEludmFsaWQnLCAnaW52YWxpZCcsIGRvbUVsZW1lbnQpO1xuICAgICAgLy8gRm9yIGNvbnRyb2xsZWQgY29tcG9uZW50cyB3ZSBhbHdheXMgbmVlZCB0byBlbnN1cmUgd2UncmUgbGlzdGVuaW5nXG4gICAgICAvLyB0byBvbkNoYW5nZS4gRXZlbiBpZiB0aGVyZSBpcyBubyBsaXN0ZW5lci5cbiAgICAgIGVuc3VyZUxpc3RlbmluZ1RvKHJvb3RDb250YWluZXJFbGVtZW50LCAnb25DaGFuZ2UnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgIGluaXRXcmFwcGVyU3RhdGUkMihkb21FbGVtZW50LCByYXdQcm9wcyk7XG4gICAgICBwcm9wcyA9IGdldEhvc3RQcm9wcyQzKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIHRyYXBCdWJibGVkRXZlbnQoJ3RvcEludmFsaWQnLCAnaW52YWxpZCcsIGRvbUVsZW1lbnQpO1xuICAgICAgLy8gRm9yIGNvbnRyb2xsZWQgY29tcG9uZW50cyB3ZSBhbHdheXMgbmVlZCB0byBlbnN1cmUgd2UncmUgbGlzdGVuaW5nXG4gICAgICAvLyB0byBvbkNoYW5nZS4gRXZlbiBpZiB0aGVyZSBpcyBubyBsaXN0ZW5lci5cbiAgICAgIGVuc3VyZUxpc3RlbmluZ1RvKHJvb3RDb250YWluZXJFbGVtZW50LCAnb25DaGFuZ2UnKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBwcm9wcyA9IHJhd1Byb3BzO1xuICB9XG5cbiAgYXNzZXJ0VmFsaWRQcm9wcyh0YWcsIHByb3BzLCBnZXRTdGFjayk7XG5cbiAgc2V0SW5pdGlhbERPTVByb3BlcnRpZXModGFnLCBkb21FbGVtZW50LCByb290Q29udGFpbmVyRWxlbWVudCwgcHJvcHMsIGlzQ3VzdG9tQ29tcG9uZW50VGFnKTtcblxuICBzd2l0Y2ggKHRhZykge1xuICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgIC8vIFRPRE86IE1ha2Ugc3VyZSB3ZSBjaGVjayBpZiB0aGlzIGlzIHN0aWxsIHVubW91bnRlZCBvciBkbyBhbnkgY2xlYW5cbiAgICAgIC8vIHVwIG5lY2Vzc2FyeSBzaW5jZSB3ZSBuZXZlciBzdG9wIHRyYWNraW5nIGFueW1vcmUuXG4gICAgICB0cmFjayhkb21FbGVtZW50KTtcbiAgICAgIHBvc3RNb3VudFdyYXBwZXIoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgLy8gVE9ETzogTWFrZSBzdXJlIHdlIGNoZWNrIGlmIHRoaXMgaXMgc3RpbGwgdW5tb3VudGVkIG9yIGRvIGFueSBjbGVhblxuICAgICAgLy8gdXAgbmVjZXNzYXJ5IHNpbmNlIHdlIG5ldmVyIHN0b3AgdHJhY2tpbmcgYW55bW9yZS5cbiAgICAgIHRyYWNrKGRvbUVsZW1lbnQpO1xuICAgICAgcG9zdE1vdW50V3JhcHBlciQzKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ29wdGlvbic6XG4gICAgICBwb3N0TW91bnRXcmFwcGVyJDEoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgIHBvc3RNb3VudFdyYXBwZXIkMihkb21FbGVtZW50LCByYXdQcm9wcyk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgaWYgKHR5cGVvZiBwcm9wcy5vbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIFRPRE86IFRoaXMgY2FzdCBtYXkgbm90IGJlIHNvdW5kIGZvciBTVkcsIE1hdGhNTCBvciBjdXN0b20gZWxlbWVudHMuXG4gICAgICAgIHRyYXBDbGlja09uTm9uSW50ZXJhY3RpdmVFbGVtZW50KGRvbUVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gIH1cbn1cblxuLy8gQ2FsY3VsYXRlIHRoZSBkaWZmIGJldHdlZW4gdGhlIHR3byBvYmplY3RzLlxuZnVuY3Rpb24gZGlmZlByb3BlcnRpZXMkMShkb21FbGVtZW50LCB0YWcsIGxhc3RSYXdQcm9wcywgbmV4dFJhd1Byb3BzLCByb290Q29udGFpbmVyRWxlbWVudCkge1xuICB7XG4gICAgdmFsaWRhdGVQcm9wZXJ0aWVzSW5EZXZlbG9wbWVudCh0YWcsIG5leHRSYXdQcm9wcyk7XG4gIH1cblxuICB2YXIgdXBkYXRlUGF5bG9hZCA9IG51bGw7XG5cbiAgdmFyIGxhc3RQcm9wcyA9IHZvaWQgMDtcbiAgdmFyIG5leHRQcm9wcyA9IHZvaWQgMDtcbiAgc3dpdGNoICh0YWcpIHtcbiAgICBjYXNlICdpbnB1dCc6XG4gICAgICBsYXN0UHJvcHMgPSBnZXRIb3N0UHJvcHMoZG9tRWxlbWVudCwgbGFzdFJhd1Byb3BzKTtcbiAgICAgIG5leHRQcm9wcyA9IGdldEhvc3RQcm9wcyhkb21FbGVtZW50LCBuZXh0UmF3UHJvcHMpO1xuICAgICAgdXBkYXRlUGF5bG9hZCA9IFtdO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnb3B0aW9uJzpcbiAgICAgIGxhc3RQcm9wcyA9IGdldEhvc3RQcm9wcyQxKGRvbUVsZW1lbnQsIGxhc3RSYXdQcm9wcyk7XG4gICAgICBuZXh0UHJvcHMgPSBnZXRIb3N0UHJvcHMkMShkb21FbGVtZW50LCBuZXh0UmF3UHJvcHMpO1xuICAgICAgdXBkYXRlUGF5bG9hZCA9IFtdO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgIGxhc3RQcm9wcyA9IGdldEhvc3RQcm9wcyQyKGRvbUVsZW1lbnQsIGxhc3RSYXdQcm9wcyk7XG4gICAgICBuZXh0UHJvcHMgPSBnZXRIb3N0UHJvcHMkMihkb21FbGVtZW50LCBuZXh0UmF3UHJvcHMpO1xuICAgICAgdXBkYXRlUGF5bG9hZCA9IFtdO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgbGFzdFByb3BzID0gZ2V0SG9zdFByb3BzJDMoZG9tRWxlbWVudCwgbGFzdFJhd1Byb3BzKTtcbiAgICAgIG5leHRQcm9wcyA9IGdldEhvc3RQcm9wcyQzKGRvbUVsZW1lbnQsIG5leHRSYXdQcm9wcyk7XG4gICAgICB1cGRhdGVQYXlsb2FkID0gW107XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgbGFzdFByb3BzID0gbGFzdFJhd1Byb3BzO1xuICAgICAgbmV4dFByb3BzID0gbmV4dFJhd1Byb3BzO1xuICAgICAgaWYgKHR5cGVvZiBsYXN0UHJvcHMub25DbGljayAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgbmV4dFByb3BzLm9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gVE9ETzogVGhpcyBjYXN0IG1heSBub3QgYmUgc291bmQgZm9yIFNWRywgTWF0aE1MIG9yIGN1c3RvbSBlbGVtZW50cy5cbiAgICAgICAgdHJhcENsaWNrT25Ob25JbnRlcmFjdGl2ZUVsZW1lbnQoZG9tRWxlbWVudCk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgfVxuXG4gIGFzc2VydFZhbGlkUHJvcHModGFnLCBuZXh0UHJvcHMsIGdldFN0YWNrKTtcblxuICB2YXIgcHJvcEtleSA9IHZvaWQgMDtcbiAgdmFyIHN0eWxlTmFtZSA9IHZvaWQgMDtcbiAgdmFyIHN0eWxlVXBkYXRlcyA9IG51bGw7XG4gIGZvciAocHJvcEtleSBpbiBsYXN0UHJvcHMpIHtcbiAgICBpZiAobmV4dFByb3BzLmhhc093blByb3BlcnR5KHByb3BLZXkpIHx8ICFsYXN0UHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkgfHwgbGFzdFByb3BzW3Byb3BLZXldID09IG51bGwpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAocHJvcEtleSA9PT0gU1RZTEUpIHtcbiAgICAgIHZhciBsYXN0U3R5bGUgPSBsYXN0UHJvcHNbcHJvcEtleV07XG4gICAgICBmb3IgKHN0eWxlTmFtZSBpbiBsYXN0U3R5bGUpIHtcbiAgICAgICAgaWYgKGxhc3RTdHlsZS5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpKSB7XG4gICAgICAgICAgaWYgKCFzdHlsZVVwZGF0ZXMpIHtcbiAgICAgICAgICAgIHN0eWxlVXBkYXRlcyA9IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdHlsZVVwZGF0ZXNbc3R5bGVOYW1lXSA9ICcnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwcm9wS2V5ID09PSBEQU5HRVJPVVNMWV9TRVRfSU5ORVJfSFRNTCB8fCBwcm9wS2V5ID09PSBDSElMRFJFTikge1xuICAgICAgLy8gTm9vcC4gVGhpcyBpcyBoYW5kbGVkIGJ5IHRoZSBjbGVhciB0ZXh0IG1lY2hhbmlzbS5cbiAgICB9IGVsc2UgaWYgKHByb3BLZXkgPT09IFNVUFBSRVNTX0NPTlRFTlRfRURJVEFCTEVfV0FSTklORyB8fCBwcm9wS2V5ID09PSBTVVBQUkVTU19IWURSQVRJT05fV0FSTklORyQxKSB7XG4gICAgICAvLyBOb29wXG4gICAgfSBlbHNlIGlmIChwcm9wS2V5ID09PSBBVVRPRk9DVVMpIHtcbiAgICAgIC8vIE5vb3AuIEl0IGRvZXNuJ3Qgd29yayBvbiB1cGRhdGVzIGFueXdheS5cbiAgICB9IGVsc2UgaWYgKHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICAvLyBUaGlzIGlzIGEgc3BlY2lhbCBjYXNlLiBJZiBhbnkgbGlzdGVuZXIgdXBkYXRlcyB3ZSBuZWVkIHRvIGVuc3VyZVxuICAgICAgLy8gdGhhdCB0aGUgXCJjdXJyZW50XCIgZmliZXIgcG9pbnRlciBnZXRzIHVwZGF0ZWQgc28gd2UgbmVlZCBhIGNvbW1pdFxuICAgICAgLy8gdG8gdXBkYXRlIHRoaXMgZWxlbWVudC5cbiAgICAgIGlmICghdXBkYXRlUGF5bG9hZCkge1xuICAgICAgICB1cGRhdGVQYXlsb2FkID0gW107XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZvciBhbGwgb3RoZXIgZGVsZXRlZCBwcm9wZXJ0aWVzIHdlIGFkZCBpdCB0byB0aGUgcXVldWUuIFdlIHVzZVxuICAgICAgLy8gdGhlIHdoaXRlbGlzdCBpbiB0aGUgY29tbWl0IHBoYXNlIGluc3RlYWQuXG4gICAgICAodXBkYXRlUGF5bG9hZCA9IHVwZGF0ZVBheWxvYWQgfHwgW10pLnB1c2gocHJvcEtleSwgbnVsbCk7XG4gICAgfVxuICB9XG4gIGZvciAocHJvcEtleSBpbiBuZXh0UHJvcHMpIHtcbiAgICB2YXIgbmV4dFByb3AgPSBuZXh0UHJvcHNbcHJvcEtleV07XG4gICAgdmFyIGxhc3RQcm9wID0gbGFzdFByb3BzICE9IG51bGwgPyBsYXN0UHJvcHNbcHJvcEtleV0gOiB1bmRlZmluZWQ7XG4gICAgaWYgKCFuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkgfHwgbmV4dFByb3AgPT09IGxhc3RQcm9wIHx8IG5leHRQcm9wID09IG51bGwgJiYgbGFzdFByb3AgPT0gbnVsbCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChwcm9wS2V5ID09PSBTVFlMRSkge1xuICAgICAge1xuICAgICAgICBpZiAobmV4dFByb3ApIHtcbiAgICAgICAgICAvLyBGcmVlemUgdGhlIG5leHQgc3R5bGUgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIGFzc3VtZSBpdCB3b24ndCBiZVxuICAgICAgICAgIC8vIG11dGF0ZWQuIFdlIGhhdmUgYWxyZWFkeSB3YXJuZWQgZm9yIHRoaXMgaW4gdGhlIHBhc3QuXG4gICAgICAgICAgT2JqZWN0LmZyZWV6ZShuZXh0UHJvcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChsYXN0UHJvcCkge1xuICAgICAgICAvLyBVbnNldCBzdHlsZXMgb24gYGxhc3RQcm9wYCBidXQgbm90IG9uIGBuZXh0UHJvcGAuXG4gICAgICAgIGZvciAoc3R5bGVOYW1lIGluIGxhc3RQcm9wKSB7XG4gICAgICAgICAgaWYgKGxhc3RQcm9wLmhhc093blByb3BlcnR5KHN0eWxlTmFtZSkgJiYgKCFuZXh0UHJvcCB8fCAhbmV4dFByb3AuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSkpIHtcbiAgICAgICAgICAgIGlmICghc3R5bGVVcGRhdGVzKSB7XG4gICAgICAgICAgICAgIHN0eWxlVXBkYXRlcyA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3R5bGVVcGRhdGVzW3N0eWxlTmFtZV0gPSAnJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlIHN0eWxlcyB0aGF0IGNoYW5nZWQgc2luY2UgYGxhc3RQcm9wYC5cbiAgICAgICAgZm9yIChzdHlsZU5hbWUgaW4gbmV4dFByb3ApIHtcbiAgICAgICAgICBpZiAobmV4dFByb3AuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSAmJiBsYXN0UHJvcFtzdHlsZU5hbWVdICE9PSBuZXh0UHJvcFtzdHlsZU5hbWVdKSB7XG4gICAgICAgICAgICBpZiAoIXN0eWxlVXBkYXRlcykge1xuICAgICAgICAgICAgICBzdHlsZVVwZGF0ZXMgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0eWxlVXBkYXRlc1tzdHlsZU5hbWVdID0gbmV4dFByb3Bbc3R5bGVOYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJlbGllcyBvbiBgdXBkYXRlU3R5bGVzQnlJRGAgbm90IG11dGF0aW5nIGBzdHlsZVVwZGF0ZXNgLlxuICAgICAgICBpZiAoIXN0eWxlVXBkYXRlcykge1xuICAgICAgICAgIGlmICghdXBkYXRlUGF5bG9hZCkge1xuICAgICAgICAgICAgdXBkYXRlUGF5bG9hZCA9IFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1cGRhdGVQYXlsb2FkLnB1c2gocHJvcEtleSwgc3R5bGVVcGRhdGVzKTtcbiAgICAgICAgfVxuICAgICAgICBzdHlsZVVwZGF0ZXMgPSBuZXh0UHJvcDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHByb3BLZXkgPT09IERBTkdFUk9VU0xZX1NFVF9JTk5FUl9IVE1MKSB7XG4gICAgICB2YXIgbmV4dEh0bWwgPSBuZXh0UHJvcCA/IG5leHRQcm9wW0hUTUxdIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIGxhc3RIdG1sID0gbGFzdFByb3AgPyBsYXN0UHJvcFtIVE1MXSA6IHVuZGVmaW5lZDtcbiAgICAgIGlmIChuZXh0SHRtbCAhPSBudWxsKSB7XG4gICAgICAgIGlmIChsYXN0SHRtbCAhPT0gbmV4dEh0bWwpIHtcbiAgICAgICAgICAodXBkYXRlUGF5bG9hZCA9IHVwZGF0ZVBheWxvYWQgfHwgW10pLnB1c2gocHJvcEtleSwgJycgKyBuZXh0SHRtbCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRPRE86IEl0IG1pZ2h0IGJlIHRvbyBsYXRlIHRvIGNsZWFyIHRoaXMgaWYgd2UgaGF2ZSBjaGlsZHJlblxuICAgICAgICAvLyBpbnNlcnRlZCBhbHJlYWR5LlxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gQ0hJTERSRU4pIHtcbiAgICAgIGlmIChsYXN0UHJvcCAhPT0gbmV4dFByb3AgJiYgKHR5cGVvZiBuZXh0UHJvcCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG5leHRQcm9wID09PSAnbnVtYmVyJykpIHtcbiAgICAgICAgKHVwZGF0ZVBheWxvYWQgPSB1cGRhdGVQYXlsb2FkIHx8IFtdKS5wdXNoKHByb3BLZXksICcnICsgbmV4dFByb3ApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gU1VQUFJFU1NfQ09OVEVOVF9FRElUQUJMRV9XQVJOSU5HIHx8IHByb3BLZXkgPT09IFNVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HJDEpIHtcbiAgICAgIC8vIE5vb3BcbiAgICB9IGVsc2UgaWYgKHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICBpZiAobmV4dFByb3AgIT0gbnVsbCkge1xuICAgICAgICAvLyBXZSBlYWdlcmx5IGxpc3RlbiB0byB0aGlzIGV2ZW4gdGhvdWdoIHdlIGhhdmVuJ3QgY29tbWl0dGVkIHlldC5cbiAgICAgICAgaWYgKHRydWUgJiYgdHlwZW9mIG5leHRQcm9wICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgd2FybkZvckludmFsaWRFdmVudExpc3RlbmVyKHByb3BLZXksIG5leHRQcm9wKTtcbiAgICAgICAgfVxuICAgICAgICBlbnN1cmVMaXN0ZW5pbmdUbyhyb290Q29udGFpbmVyRWxlbWVudCwgcHJvcEtleSk7XG4gICAgICB9XG4gICAgICBpZiAoIXVwZGF0ZVBheWxvYWQgJiYgbGFzdFByb3AgIT09IG5leHRQcm9wKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgYSBzcGVjaWFsIGNhc2UuIElmIGFueSBsaXN0ZW5lciB1cGRhdGVzIHdlIG5lZWQgdG8gZW5zdXJlXG4gICAgICAgIC8vIHRoYXQgdGhlIFwiY3VycmVudFwiIHByb3BzIHBvaW50ZXIgZ2V0cyB1cGRhdGVkIHNvIHdlIG5lZWQgYSBjb21taXRcbiAgICAgICAgLy8gdG8gdXBkYXRlIHRoaXMgZWxlbWVudC5cbiAgICAgICAgdXBkYXRlUGF5bG9hZCA9IFtdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGb3IgYW55IG90aGVyIHByb3BlcnR5IHdlIGFsd2F5cyBhZGQgaXQgdG8gdGhlIHF1ZXVlIGFuZCB0aGVuIHdlXG4gICAgICAvLyBmaWx0ZXIgaXQgb3V0IHVzaW5nIHRoZSB3aGl0ZWxpc3QgZHVyaW5nIHRoZSBjb21taXQuXG4gICAgICAodXBkYXRlUGF5bG9hZCA9IHVwZGF0ZVBheWxvYWQgfHwgW10pLnB1c2gocHJvcEtleSwgbmV4dFByb3ApO1xuICAgIH1cbiAgfVxuICBpZiAoc3R5bGVVcGRhdGVzKSB7XG4gICAgKHVwZGF0ZVBheWxvYWQgPSB1cGRhdGVQYXlsb2FkIHx8IFtdKS5wdXNoKFNUWUxFLCBzdHlsZVVwZGF0ZXMpO1xuICB9XG4gIHJldHVybiB1cGRhdGVQYXlsb2FkO1xufVxuXG4vLyBBcHBseSB0aGUgZGlmZi5cbmZ1bmN0aW9uIHVwZGF0ZVByb3BlcnRpZXMkMShkb21FbGVtZW50LCB1cGRhdGVQYXlsb2FkLCB0YWcsIGxhc3RSYXdQcm9wcywgbmV4dFJhd1Byb3BzKSB7XG4gIC8vIFVwZGF0ZSBjaGVja2VkICpiZWZvcmUqIG5hbWUuXG4gIC8vIEluIHRoZSBtaWRkbGUgb2YgYW4gdXBkYXRlLCBpdCBpcyBwb3NzaWJsZSB0byBoYXZlIG11bHRpcGxlIGNoZWNrZWQuXG4gIC8vIFdoZW4gYSBjaGVja2VkIHJhZGlvIHRyaWVzIHRvIGNoYW5nZSBuYW1lLCBicm93c2VyIG1ha2VzIGFub3RoZXIgcmFkaW8ncyBjaGVja2VkIGZhbHNlLlxuICBpZiAodGFnID09PSAnaW5wdXQnICYmIG5leHRSYXdQcm9wcy50eXBlID09PSAncmFkaW8nICYmIG5leHRSYXdQcm9wcy5uYW1lICE9IG51bGwpIHtcbiAgICB1cGRhdGVDaGVja2VkKGRvbUVsZW1lbnQsIG5leHRSYXdQcm9wcyk7XG4gIH1cblxuICB2YXIgd2FzQ3VzdG9tQ29tcG9uZW50VGFnID0gaXNDdXN0b21Db21wb25lbnQodGFnLCBsYXN0UmF3UHJvcHMpO1xuICB2YXIgaXNDdXN0b21Db21wb25lbnRUYWcgPSBpc0N1c3RvbUNvbXBvbmVudCh0YWcsIG5leHRSYXdQcm9wcyk7XG4gIC8vIEFwcGx5IHRoZSBkaWZmLlxuICB1cGRhdGVET01Qcm9wZXJ0aWVzKGRvbUVsZW1lbnQsIHVwZGF0ZVBheWxvYWQsIHdhc0N1c3RvbUNvbXBvbmVudFRhZywgaXNDdXN0b21Db21wb25lbnRUYWcpO1xuXG4gIC8vIFRPRE86IEVuc3VyZSB0aGF0IGFuIHVwZGF0ZSBnZXRzIHNjaGVkdWxlZCBpZiBhbnkgb2YgdGhlIHNwZWNpYWwgcHJvcHNcbiAgLy8gY2hhbmdlZC5cbiAgc3dpdGNoICh0YWcpIHtcbiAgICBjYXNlICdpbnB1dCc6XG4gICAgICAvLyBVcGRhdGUgdGhlIHdyYXBwZXIgYXJvdW5kIGlucHV0cyAqYWZ0ZXIqIHVwZGF0aW5nIHByb3BzLiBUaGlzIGhhcyB0b1xuICAgICAgLy8gaGFwcGVuIGFmdGVyIGB1cGRhdGVET01Qcm9wZXJ0aWVzYC4gT3RoZXJ3aXNlIEhUTUw1IGlucHV0IHZhbGlkYXRpb25zXG4gICAgICAvLyByYWlzZSB3YXJuaW5ncyBhbmQgcHJldmVudCB0aGUgbmV3IHZhbHVlIGZyb20gYmVpbmcgYXNzaWduZWQuXG4gICAgICB1cGRhdGVXcmFwcGVyKGRvbUVsZW1lbnQsIG5leHRSYXdQcm9wcyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgICB1cGRhdGVXcmFwcGVyJDEoZG9tRWxlbWVudCwgbmV4dFJhd1Byb3BzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAvLyA8c2VsZWN0PiB2YWx1ZSB1cGRhdGUgbmVlZHMgdG8gb2NjdXIgYWZ0ZXIgPG9wdGlvbj4gY2hpbGRyZW5cbiAgICAgIC8vIHJlY29uY2lsaWF0aW9uXG4gICAgICBwb3N0VXBkYXRlV3JhcHBlcihkb21FbGVtZW50LCBuZXh0UmF3UHJvcHMpO1xuICAgICAgYnJlYWs7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UG9zc2libGVTdGFuZGFyZE5hbWUocHJvcE5hbWUpIHtcbiAge1xuICAgIHZhciBsb3dlckNhc2VkTmFtZSA9IHByb3BOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKCFwb3NzaWJsZVN0YW5kYXJkTmFtZXMuaGFzT3duUHJvcGVydHkobG93ZXJDYXNlZE5hbWUpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHBvc3NpYmxlU3RhbmRhcmROYW1lc1tsb3dlckNhc2VkTmFtZV0gfHwgbnVsbDtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZGlmZkh5ZHJhdGVkUHJvcGVydGllcyQxKGRvbUVsZW1lbnQsIHRhZywgcmF3UHJvcHMsIHBhcmVudE5hbWVzcGFjZSwgcm9vdENvbnRhaW5lckVsZW1lbnQpIHtcbiAgdmFyIGlzQ3VzdG9tQ29tcG9uZW50VGFnID0gdm9pZCAwO1xuICB2YXIgZXh0cmFBdHRyaWJ1dGVOYW1lcyA9IHZvaWQgMDtcblxuICB7XG4gICAgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nID0gcmF3UHJvcHNbU1VQUFJFU1NfSFlEUkFUSU9OX1dBUk5JTkckMV0gPT09IHRydWU7XG4gICAgaXNDdXN0b21Db21wb25lbnRUYWcgPSBpc0N1c3RvbUNvbXBvbmVudCh0YWcsIHJhd1Byb3BzKTtcbiAgICB2YWxpZGF0ZVByb3BlcnRpZXNJbkRldmVsb3BtZW50KHRhZywgcmF3UHJvcHMpO1xuICAgIGlmIChpc0N1c3RvbUNvbXBvbmVudFRhZyAmJiAhZGlkV2FyblNoYWR5RE9NICYmIGRvbUVsZW1lbnQuc2hhZHlSb290KSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnJXMgaXMgdXNpbmcgc2hhZHkgRE9NLiBVc2luZyBzaGFkeSBET00gd2l0aCBSZWFjdCBjYW4gJyArICdjYXVzZSB0aGluZ3MgdG8gYnJlYWsgc3VidGx5LicsIGdldEN1cnJlbnRGaWJlck93bmVyTmFtZSQyKCkgfHwgJ0EgY29tcG9uZW50Jyk7XG4gICAgICBkaWRXYXJuU2hhZHlET00gPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRPRE86IE1ha2Ugc3VyZSB0aGF0IHdlIGNoZWNrIGlzTW91bnRlZCBiZWZvcmUgZmlyaW5nIGFueSBvZiB0aGVzZSBldmVudHMuXG4gIHN3aXRjaCAodGFnKSB7XG4gICAgY2FzZSAnaWZyYW1lJzpcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgdHJhcEJ1YmJsZWRFdmVudCgndG9wTG9hZCcsICdsb2FkJywgZG9tRWxlbWVudCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd2aWRlbyc6XG4gICAgY2FzZSAnYXVkaW8nOlxuICAgICAgLy8gQ3JlYXRlIGxpc3RlbmVyIGZvciBlYWNoIG1lZGlhIGV2ZW50XG4gICAgICBmb3IgKHZhciBldmVudCBpbiBtZWRpYUV2ZW50VHlwZXMpIHtcbiAgICAgICAgaWYgKG1lZGlhRXZlbnRUeXBlcy5oYXNPd25Qcm9wZXJ0eShldmVudCkpIHtcbiAgICAgICAgICB0cmFwQnViYmxlZEV2ZW50KGV2ZW50LCBtZWRpYUV2ZW50VHlwZXNbZXZlbnRdLCBkb21FbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc291cmNlJzpcbiAgICAgIHRyYXBCdWJibGVkRXZlbnQoJ3RvcEVycm9yJywgJ2Vycm9yJywgZG9tRWxlbWVudCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdpbWcnOlxuICAgIGNhc2UgJ2ltYWdlJzpcbiAgICBjYXNlICdsaW5rJzpcbiAgICAgIHRyYXBCdWJibGVkRXZlbnQoJ3RvcEVycm9yJywgJ2Vycm9yJywgZG9tRWxlbWVudCk7XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KCd0b3BMb2FkJywgJ2xvYWQnLCBkb21FbGVtZW50KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Zvcm0nOlxuICAgICAgdHJhcEJ1YmJsZWRFdmVudCgndG9wUmVzZXQnLCAncmVzZXQnLCBkb21FbGVtZW50KTtcbiAgICAgIHRyYXBCdWJibGVkRXZlbnQoJ3RvcFN1Ym1pdCcsICdzdWJtaXQnLCBkb21FbGVtZW50KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2RldGFpbHMnOlxuICAgICAgdHJhcEJ1YmJsZWRFdmVudCgndG9wVG9nZ2xlJywgJ3RvZ2dsZScsIGRvbUVsZW1lbnQpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaW5wdXQnOlxuICAgICAgaW5pdFdyYXBwZXJTdGF0ZShkb21FbGVtZW50LCByYXdQcm9wcyk7XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KCd0b3BJbnZhbGlkJywgJ2ludmFsaWQnLCBkb21FbGVtZW50KTtcbiAgICAgIC8vIEZvciBjb250cm9sbGVkIGNvbXBvbmVudHMgd2UgYWx3YXlzIG5lZWQgdG8gZW5zdXJlIHdlJ3JlIGxpc3RlbmluZ1xuICAgICAgLy8gdG8gb25DaGFuZ2UuIEV2ZW4gaWYgdGhlcmUgaXMgbm8gbGlzdGVuZXIuXG4gICAgICBlbnN1cmVMaXN0ZW5pbmdUbyhyb290Q29udGFpbmVyRWxlbWVudCwgJ29uQ2hhbmdlJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdvcHRpb24nOlxuICAgICAgdmFsaWRhdGVQcm9wcyhkb21FbGVtZW50LCByYXdQcm9wcyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgaW5pdFdyYXBwZXJTdGF0ZSQxKGRvbUVsZW1lbnQsIHJhd1Byb3BzKTtcbiAgICAgIHRyYXBCdWJibGVkRXZlbnQoJ3RvcEludmFsaWQnLCAnaW52YWxpZCcsIGRvbUVsZW1lbnQpO1xuICAgICAgLy8gRm9yIGNvbnRyb2xsZWQgY29tcG9uZW50cyB3ZSBhbHdheXMgbmVlZCB0byBlbnN1cmUgd2UncmUgbGlzdGVuaW5nXG4gICAgICAvLyB0byBvbkNoYW5nZS4gRXZlbiBpZiB0aGVyZSBpcyBubyBsaXN0ZW5lci5cbiAgICAgIGVuc3VyZUxpc3RlbmluZ1RvKHJvb3RDb250YWluZXJFbGVtZW50LCAnb25DaGFuZ2UnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgIGluaXRXcmFwcGVyU3RhdGUkMihkb21FbGVtZW50LCByYXdQcm9wcyk7XG4gICAgICB0cmFwQnViYmxlZEV2ZW50KCd0b3BJbnZhbGlkJywgJ2ludmFsaWQnLCBkb21FbGVtZW50KTtcbiAgICAgIC8vIEZvciBjb250cm9sbGVkIGNvbXBvbmVudHMgd2UgYWx3YXlzIG5lZWQgdG8gZW5zdXJlIHdlJ3JlIGxpc3RlbmluZ1xuICAgICAgLy8gdG8gb25DaGFuZ2UuIEV2ZW4gaWYgdGhlcmUgaXMgbm8gbGlzdGVuZXIuXG4gICAgICBlbnN1cmVMaXN0ZW5pbmdUbyhyb290Q29udGFpbmVyRWxlbWVudCwgJ29uQ2hhbmdlJyk7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIGFzc2VydFZhbGlkUHJvcHModGFnLCByYXdQcm9wcywgZ2V0U3RhY2spO1xuXG4gIHtcbiAgICBleHRyYUF0dHJpYnV0ZU5hbWVzID0gbmV3IFNldCgpO1xuICAgIHZhciBhdHRyaWJ1dGVzID0gZG9tRWxlbWVudC5hdHRyaWJ1dGVzO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG5hbWUgPSBhdHRyaWJ1dGVzW2ldLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgICAvLyBCdWlsdC1pbiBTU1IgYXR0cmlidXRlIGlzIHdoaXRlbGlzdGVkXG4gICAgICAgIGNhc2UgJ2RhdGEtcmVhY3Ryb290JzpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gQ29udHJvbGxlZCBhdHRyaWJ1dGVzIGFyZSBub3QgdmFsaWRhdGVkXG4gICAgICAgIC8vIFRPRE86IE9ubHkgaWdub3JlIHRoZW0gb24gY29udHJvbGxlZCB0YWdzLlxuICAgICAgICBjYXNlICd2YWx1ZSc6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2NoZWNrZWQnOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdzZWxlY3RlZCc6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gSW50ZW50aW9uYWxseSB1c2UgdGhlIG9yaWdpbmFsIG5hbWUuXG4gICAgICAgICAgLy8gU2VlIGRpc2N1c3Npb24gaW4gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L3B1bGwvMTA2NzYuXG4gICAgICAgICAgZXh0cmFBdHRyaWJ1dGVOYW1lcy5hZGQoYXR0cmlidXRlc1tpXS5uYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgdXBkYXRlUGF5bG9hZCA9IG51bGw7XG4gIGZvciAodmFyIHByb3BLZXkgaW4gcmF3UHJvcHMpIHtcbiAgICBpZiAoIXJhd1Byb3BzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdmFyIG5leHRQcm9wID0gcmF3UHJvcHNbcHJvcEtleV07XG4gICAgaWYgKHByb3BLZXkgPT09IENISUxEUkVOKSB7XG4gICAgICAvLyBGb3IgdGV4dCBjb250ZW50IGNoaWxkcmVuIHdlIGNvbXBhcmUgYWdhaW5zdCB0ZXh0Q29udGVudC4gVGhpc1xuICAgICAgLy8gbWlnaHQgbWF0Y2ggYWRkaXRpb25hbCBIVE1MIHRoYXQgaXMgaGlkZGVuIHdoZW4gd2UgcmVhZCBpdCB1c2luZ1xuICAgICAgLy8gdGV4dENvbnRlbnQuIEUuZy4gXCJmb29cIiB3aWxsIG1hdGNoIFwiZjxzcGFuPm9vPC9zcGFuPlwiIGJ1dCB0aGF0IHN0aWxsXG4gICAgICAvLyBzYXRpc2ZpZXMgb3VyIHJlcXVpcmVtZW50LiBPdXIgcmVxdWlyZW1lbnQgaXMgbm90IHRvIHByb2R1Y2UgcGVyZmVjdFxuICAgICAgLy8gSFRNTCBhbmQgYXR0cmlidXRlcy4gSWRlYWxseSB3ZSBzaG91bGQgcHJlc2VydmUgc3RydWN0dXJlIGJ1dCBpdCdzXG4gICAgICAvLyBvayBub3QgdG8gaWYgdGhlIHZpc2libGUgY29udGVudCBpcyBzdGlsbCBlbm91Z2ggdG8gaW5kaWNhdGUgd2hhdFxuICAgICAgLy8gZXZlbiBsaXN0ZW5lcnMgdGhlc2Ugbm9kZXMgbWlnaHQgYmUgd2lyZWQgdXAgdG8uXG4gICAgICAvLyBUT0RPOiBXYXJuIGlmIHRoZXJlIGlzIG1vcmUgdGhhbiBhIHNpbmdsZSB0ZXh0Tm9kZSBhcyBhIGNoaWxkLlxuICAgICAgLy8gVE9ETzogU2hvdWxkIHdlIHVzZSBkb21FbGVtZW50LmZpcnN0Q2hpbGQubm9kZVZhbHVlIHRvIGNvbXBhcmU/XG4gICAgICBpZiAodHlwZW9mIG5leHRQcm9wID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoZG9tRWxlbWVudC50ZXh0Q29udGVudCAhPT0gbmV4dFByb3ApIHtcbiAgICAgICAgICBpZiAodHJ1ZSAmJiAhc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nKSB7XG4gICAgICAgICAgICB3YXJuRm9yVGV4dERpZmZlcmVuY2UoZG9tRWxlbWVudC50ZXh0Q29udGVudCwgbmV4dFByb3ApO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1cGRhdGVQYXlsb2FkID0gW0NISUxEUkVOLCBuZXh0UHJvcF07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG5leHRQcm9wID09PSAnbnVtYmVyJykge1xuICAgICAgICBpZiAoZG9tRWxlbWVudC50ZXh0Q29udGVudCAhPT0gJycgKyBuZXh0UHJvcCkge1xuICAgICAgICAgIGlmICh0cnVlICYmICFzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcpIHtcbiAgICAgICAgICAgIHdhcm5Gb3JUZXh0RGlmZmVyZW5jZShkb21FbGVtZW50LnRleHRDb250ZW50LCBuZXh0UHJvcCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVwZGF0ZVBheWxvYWQgPSBbQ0hJTERSRU4sICcnICsgbmV4dFByb3BdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyZWdpc3RyYXRpb25OYW1lTW9kdWxlcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSkge1xuICAgICAgaWYgKG5leHRQcm9wICE9IG51bGwpIHtcbiAgICAgICAgaWYgKHRydWUgJiYgdHlwZW9mIG5leHRQcm9wICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgd2FybkZvckludmFsaWRFdmVudExpc3RlbmVyKHByb3BLZXksIG5leHRQcm9wKTtcbiAgICAgICAgfVxuICAgICAgICBlbnN1cmVMaXN0ZW5pbmdUbyhyb290Q29udGFpbmVyRWxlbWVudCwgcHJvcEtleSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0cnVlICYmXG4gICAgLy8gQ29udmluY2UgRmxvdyB3ZSd2ZSBjYWxjdWxhdGVkIGl0IChpdCdzIERFVi1vbmx5IGluIHRoaXMgbWV0aG9kLilcbiAgICB0eXBlb2YgaXNDdXN0b21Db21wb25lbnRUYWcgPT09ICdib29sZWFuJykge1xuICAgICAgLy8gVmFsaWRhdGUgdGhhdCB0aGUgcHJvcGVydGllcyBjb3JyZXNwb25kIHRvIHRoZWlyIGV4cGVjdGVkIHZhbHVlcy5cbiAgICAgIHZhciBzZXJ2ZXJWYWx1ZSA9IHZvaWQgMDtcbiAgICAgIHZhciBwcm9wZXJ0eUluZm8gPSBnZXRQcm9wZXJ0eUluZm8ocHJvcEtleSk7XG4gICAgICBpZiAoc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nKSB7XG4gICAgICAgIC8vIERvbid0IGJvdGhlciBjb21wYXJpbmcuIFdlJ3JlIGlnbm9yaW5nIGFsbCB0aGVzZSB3YXJuaW5ncy5cbiAgICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gU1VQUFJFU1NfQ09OVEVOVF9FRElUQUJMRV9XQVJOSU5HIHx8IHByb3BLZXkgPT09IFNVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HJDEgfHxcbiAgICAgIC8vIENvbnRyb2xsZWQgYXR0cmlidXRlcyBhcmUgbm90IHZhbGlkYXRlZFxuICAgICAgLy8gVE9ETzogT25seSBpZ25vcmUgdGhlbSBvbiBjb250cm9sbGVkIHRhZ3MuXG4gICAgICBwcm9wS2V5ID09PSAndmFsdWUnIHx8IHByb3BLZXkgPT09ICdjaGVja2VkJyB8fCBwcm9wS2V5ID09PSAnc2VsZWN0ZWQnKSB7XG4gICAgICAgIC8vIE5vb3BcbiAgICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gREFOR0VST1VTTFlfU0VUX0lOTkVSX0hUTUwpIHtcbiAgICAgICAgdmFyIHJhd0h0bWwgPSBuZXh0UHJvcCA/IG5leHRQcm9wW0hUTUxdIHx8ICcnIDogJyc7XG4gICAgICAgIHZhciBzZXJ2ZXJIVE1MID0gZG9tRWxlbWVudC5pbm5lckhUTUw7XG4gICAgICAgIHZhciBleHBlY3RlZEhUTUwgPSBub3JtYWxpemVIVE1MKGRvbUVsZW1lbnQsIHJhd0h0bWwpO1xuICAgICAgICBpZiAoZXhwZWN0ZWRIVE1MICE9PSBzZXJ2ZXJIVE1MKSB7XG4gICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKHByb3BLZXksIHNlcnZlckhUTUwsIGV4cGVjdGVkSFRNTCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocHJvcEtleSA9PT0gU1RZTEUpIHtcbiAgICAgICAgLy8gJEZsb3dGaXhNZSAtIFNob3VsZCBiZSBpbmZlcnJlZCBhcyBub3QgdW5kZWZpbmVkLlxuICAgICAgICBleHRyYUF0dHJpYnV0ZU5hbWVzWydkZWxldGUnXShwcm9wS2V5KTtcbiAgICAgICAgdmFyIGV4cGVjdGVkU3R5bGUgPSBjcmVhdGVEYW5nZXJvdXNTdHJpbmdGb3JTdHlsZXMobmV4dFByb3ApO1xuICAgICAgICBzZXJ2ZXJWYWx1ZSA9IGRvbUVsZW1lbnQuZ2V0QXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICBpZiAoZXhwZWN0ZWRTdHlsZSAhPT0gc2VydmVyVmFsdWUpIHtcbiAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UocHJvcEtleSwgc2VydmVyVmFsdWUsIGV4cGVjdGVkU3R5bGUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzQ3VzdG9tQ29tcG9uZW50VGFnKSB7XG4gICAgICAgIC8vICRGbG93Rml4TWUgLSBTaG91bGQgYmUgaW5mZXJyZWQgYXMgbm90IHVuZGVmaW5lZC5cbiAgICAgICAgZXh0cmFBdHRyaWJ1dGVOYW1lc1snZGVsZXRlJ10ocHJvcEtleS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgc2VydmVyVmFsdWUgPSBnZXRWYWx1ZUZvckF0dHJpYnV0ZShkb21FbGVtZW50LCBwcm9wS2V5LCBuZXh0UHJvcCk7XG5cbiAgICAgICAgaWYgKG5leHRQcm9wICE9PSBzZXJ2ZXJWYWx1ZSkge1xuICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShwcm9wS2V5LCBzZXJ2ZXJWYWx1ZSwgbmV4dFByb3ApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFzaG91bGRJZ25vcmVBdHRyaWJ1dGUocHJvcEtleSwgcHJvcGVydHlJbmZvLCBpc0N1c3RvbUNvbXBvbmVudFRhZykgJiYgIXNob3VsZFJlbW92ZUF0dHJpYnV0ZShwcm9wS2V5LCBuZXh0UHJvcCwgcHJvcGVydHlJbmZvLCBpc0N1c3RvbUNvbXBvbmVudFRhZykpIHtcbiAgICAgICAgdmFyIGlzTWlzbWF0Y2hEdWVUb0JhZENhc2luZyA9IGZhbHNlO1xuICAgICAgICBpZiAocHJvcGVydHlJbmZvICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gJEZsb3dGaXhNZSAtIFNob3VsZCBiZSBpbmZlcnJlZCBhcyBub3QgdW5kZWZpbmVkLlxuICAgICAgICAgIGV4dHJhQXR0cmlidXRlTmFtZXNbJ2RlbGV0ZSddKHByb3BlcnR5SW5mby5hdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICBzZXJ2ZXJWYWx1ZSA9IGdldFZhbHVlRm9yUHJvcGVydHkoZG9tRWxlbWVudCwgcHJvcEtleSwgbmV4dFByb3AsIHByb3BlcnR5SW5mbyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIG93bk5hbWVzcGFjZSA9IHBhcmVudE5hbWVzcGFjZTtcbiAgICAgICAgICBpZiAob3duTmFtZXNwYWNlID09PSBIVE1MX05BTUVTUEFDRSkge1xuICAgICAgICAgICAgb3duTmFtZXNwYWNlID0gZ2V0SW50cmluc2ljTmFtZXNwYWNlKHRhZyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChvd25OYW1lc3BhY2UgPT09IEhUTUxfTkFNRVNQQUNFKSB7XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lIC0gU2hvdWxkIGJlIGluZmVycmVkIGFzIG5vdCB1bmRlZmluZWQuXG4gICAgICAgICAgICBleHRyYUF0dHJpYnV0ZU5hbWVzWydkZWxldGUnXShwcm9wS2V5LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgc3RhbmRhcmROYW1lID0gZ2V0UG9zc2libGVTdGFuZGFyZE5hbWUocHJvcEtleSk7XG4gICAgICAgICAgICBpZiAoc3RhbmRhcmROYW1lICE9PSBudWxsICYmIHN0YW5kYXJkTmFtZSAhPT0gcHJvcEtleSkge1xuICAgICAgICAgICAgICAvLyBJZiBhbiBTVkcgcHJvcCBpcyBzdXBwbGllZCB3aXRoIGJhZCBjYXNpbmcsIGl0IHdpbGxcbiAgICAgICAgICAgICAgLy8gYmUgc3VjY2Vzc2Z1bGx5IHBhcnNlZCBmcm9tIEhUTUwsIGJ1dCB3aWxsIHByb2R1Y2UgYSBtaXNtYXRjaFxuICAgICAgICAgICAgICAvLyAoYW5kIHdvdWxkIGJlIGluY29ycmVjdGx5IHJlbmRlcmVkIG9uIHRoZSBjbGllbnQpLlxuICAgICAgICAgICAgICAvLyBIb3dldmVyLCB3ZSBhbHJlYWR5IHdhcm4gYWJvdXQgYmFkIGNhc2luZyBlbHNld2hlcmUuXG4gICAgICAgICAgICAgIC8vIFNvIHdlJ2xsIHNraXAgdGhlIG1pc2xlYWRpbmcgZXh0cmEgbWlzbWF0Y2ggd2FybmluZyBpbiB0aGlzIGNhc2UuXG4gICAgICAgICAgICAgIGlzTWlzbWF0Y2hEdWVUb0JhZENhc2luZyA9IHRydWU7XG4gICAgICAgICAgICAgIC8vICRGbG93Rml4TWUgLSBTaG91bGQgYmUgaW5mZXJyZWQgYXMgbm90IHVuZGVmaW5lZC5cbiAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVOYW1lc1snZGVsZXRlJ10oc3RhbmRhcmROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vICRGbG93Rml4TWUgLSBTaG91bGQgYmUgaW5mZXJyZWQgYXMgbm90IHVuZGVmaW5lZC5cbiAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlTmFtZXNbJ2RlbGV0ZSddKHByb3BLZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXJ2ZXJWYWx1ZSA9IGdldFZhbHVlRm9yQXR0cmlidXRlKGRvbUVsZW1lbnQsIHByb3BLZXksIG5leHRQcm9wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXh0UHJvcCAhPT0gc2VydmVyVmFsdWUgJiYgIWlzTWlzbWF0Y2hEdWVUb0JhZENhc2luZykge1xuICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShwcm9wS2V5LCBzZXJ2ZXJWYWx1ZSwgbmV4dFByb3ApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAge1xuICAgIC8vICRGbG93Rml4TWUgLSBTaG91bGQgYmUgaW5mZXJyZWQgYXMgbm90IHVuZGVmaW5lZC5cbiAgICBpZiAoZXh0cmFBdHRyaWJ1dGVOYW1lcy5zaXplID4gMCAmJiAhc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nKSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lIC0gU2hvdWxkIGJlIGluZmVycmVkIGFzIG5vdCB1bmRlZmluZWQuXG4gICAgICB3YXJuRm9yRXh0cmFBdHRyaWJ1dGVzKGV4dHJhQXR0cmlidXRlTmFtZXMpO1xuICAgIH1cbiAgfVxuXG4gIHN3aXRjaCAodGFnKSB7XG4gICAgY2FzZSAnaW5wdXQnOlxuICAgICAgLy8gVE9ETzogTWFrZSBzdXJlIHdlIGNoZWNrIGlmIHRoaXMgaXMgc3RpbGwgdW5tb3VudGVkIG9yIGRvIGFueSBjbGVhblxuICAgICAgLy8gdXAgbmVjZXNzYXJ5IHNpbmNlIHdlIG5ldmVyIHN0b3AgdHJhY2tpbmcgYW55bW9yZS5cbiAgICAgIHRyYWNrKGRvbUVsZW1lbnQpO1xuICAgICAgcG9zdE1vdW50V3JhcHBlcihkb21FbGVtZW50LCByYXdQcm9wcyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgICAvLyBUT0RPOiBNYWtlIHN1cmUgd2UgY2hlY2sgaWYgdGhpcyBpcyBzdGlsbCB1bm1vdW50ZWQgb3IgZG8gYW55IGNsZWFuXG4gICAgICAvLyB1cCBuZWNlc3Nhcnkgc2luY2Ugd2UgbmV2ZXIgc3RvcCB0cmFja2luZyBhbnltb3JlLlxuICAgICAgdHJhY2soZG9tRWxlbWVudCk7XG4gICAgICBwb3N0TW91bnRXcmFwcGVyJDMoZG9tRWxlbWVudCwgcmF3UHJvcHMpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsZWN0JzpcbiAgICBjYXNlICdvcHRpb24nOlxuICAgICAgLy8gRm9yIGlucHV0IGFuZCB0ZXh0YXJlYSB3ZSBjdXJyZW50IGFsd2F5cyBzZXQgdGhlIHZhbHVlIHByb3BlcnR5IGF0XG4gICAgICAvLyBwb3N0IG1vdW50IHRvIGZvcmNlIGl0IHRvIGRpdmVyZ2UgZnJvbSBhdHRyaWJ1dGVzLiBIb3dldmVyLCBmb3JcbiAgICAgIC8vIG9wdGlvbiBhbmQgc2VsZWN0IHdlIGRvbid0IHF1aXRlIGRvIHRoZSBzYW1lIHRoaW5nIGFuZCBzZWxlY3RcbiAgICAgIC8vIGlzIG5vdCByZXNpbGllbnQgdG8gdGhlIERPTSBzdGF0ZSBjaGFuZ2luZyBzbyB3ZSBkb24ndCBkbyB0aGF0IGhlcmUuXG4gICAgICAvLyBUT0RPOiBDb25zaWRlciBub3QgZG9pbmcgdGhpcyBmb3IgaW5wdXQgYW5kIHRleHRhcmVhLlxuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGlmICh0eXBlb2YgcmF3UHJvcHMub25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBUT0RPOiBUaGlzIGNhc3QgbWF5IG5vdCBiZSBzb3VuZCBmb3IgU1ZHLCBNYXRoTUwgb3IgY3VzdG9tIGVsZW1lbnRzLlxuICAgICAgICB0cmFwQ2xpY2tPbk5vbkludGVyYWN0aXZlRWxlbWVudChkb21FbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIHVwZGF0ZVBheWxvYWQ7XG59XG5cbmZ1bmN0aW9uIGRpZmZIeWRyYXRlZFRleHQkMSh0ZXh0Tm9kZSwgdGV4dCkge1xuICB2YXIgaXNEaWZmZXJlbnQgPSB0ZXh0Tm9kZS5ub2RlVmFsdWUgIT09IHRleHQ7XG4gIHJldHVybiBpc0RpZmZlcmVudDtcbn1cblxuZnVuY3Rpb24gd2FybkZvclVubWF0Y2hlZFRleHQkMSh0ZXh0Tm9kZSwgdGV4dCkge1xuICB7XG4gICAgd2FybkZvclRleHREaWZmZXJlbmNlKHRleHROb2RlLm5vZGVWYWx1ZSwgdGV4dCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gd2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlRWxlbWVudCQxKHBhcmVudE5vZGUsIGNoaWxkKSB7XG4gIHtcbiAgICBpZiAoZGlkV2FybkludmFsaWRIeWRyYXRpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGlkV2FybkludmFsaWRIeWRyYXRpb24gPSB0cnVlO1xuICAgIHdhcm5pbmcoZmFsc2UsICdEaWQgbm90IGV4cGVjdCBzZXJ2ZXIgSFRNTCB0byBjb250YWluIGEgPCVzPiBpbiA8JXM+LicsIGNoaWxkLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksIHBhcmVudE5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gd2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlVGV4dCQxKHBhcmVudE5vZGUsIGNoaWxkKSB7XG4gIHtcbiAgICBpZiAoZGlkV2FybkludmFsaWRIeWRyYXRpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGlkV2FybkludmFsaWRIeWRyYXRpb24gPSB0cnVlO1xuICAgIHdhcm5pbmcoZmFsc2UsICdEaWQgbm90IGV4cGVjdCBzZXJ2ZXIgSFRNTCB0byBjb250YWluIHRoZSB0ZXh0IG5vZGUgXCIlc1wiIGluIDwlcz4uJywgY2hpbGQubm9kZVZhbHVlLCBwYXJlbnROb2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHdhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkRWxlbWVudCQxKHBhcmVudE5vZGUsIHRhZywgcHJvcHMpIHtcbiAge1xuICAgIGlmIChkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbiA9IHRydWU7XG4gICAgd2FybmluZyhmYWxzZSwgJ0V4cGVjdGVkIHNlcnZlciBIVE1MIHRvIGNvbnRhaW4gYSBtYXRjaGluZyA8JXM+IGluIDwlcz4uJywgdGFnLCBwYXJlbnROb2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHdhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkVGV4dCQxKHBhcmVudE5vZGUsIHRleHQpIHtcbiAge1xuICAgIGlmICh0ZXh0ID09PSAnJykge1xuICAgICAgLy8gV2UgZXhwZWN0IHRvIGluc2VydCBlbXB0eSB0ZXh0IG5vZGVzIHNpbmNlIHRoZXkncmUgbm90IHJlcHJlc2VudGVkIGluXG4gICAgICAvLyB0aGUgSFRNTC5cbiAgICAgIC8vIFRPRE86IFJlbW92ZSB0aGlzIHNwZWNpYWwgY2FzZSBpZiB3ZSBjYW4ganVzdCBhdm9pZCBpbnNlcnRpbmcgZW1wdHlcbiAgICAgIC8vIHRleHQgbm9kZXMuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkaWRXYXJuSW52YWxpZEh5ZHJhdGlvbiA9IHRydWU7XG4gICAgd2FybmluZyhmYWxzZSwgJ0V4cGVjdGVkIHNlcnZlciBIVE1MIHRvIGNvbnRhaW4gYSBtYXRjaGluZyB0ZXh0IG5vZGUgZm9yIFwiJXNcIiBpbiA8JXM+LicsIHRleHQsIHBhcmVudE5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzdG9yZUNvbnRyb2xsZWRTdGF0ZSQxKGRvbUVsZW1lbnQsIHRhZywgcHJvcHMpIHtcbiAgc3dpdGNoICh0YWcpIHtcbiAgICBjYXNlICdpbnB1dCc6XG4gICAgICByZXN0b3JlQ29udHJvbGxlZFN0YXRlKGRvbUVsZW1lbnQsIHByb3BzKTtcbiAgICAgIHJldHVybjtcbiAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgICByZXN0b3JlQ29udHJvbGxlZFN0YXRlJDMoZG9tRWxlbWVudCwgcHJvcHMpO1xuICAgICAgcmV0dXJuO1xuICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICByZXN0b3JlQ29udHJvbGxlZFN0YXRlJDIoZG9tRWxlbWVudCwgcHJvcHMpO1xuICAgICAgcmV0dXJuO1xuICB9XG59XG5cbnZhciBSZWFjdERPTUZpYmVyQ29tcG9uZW50ID0gT2JqZWN0LmZyZWV6ZSh7XG5cdGNyZWF0ZUVsZW1lbnQ6IGNyZWF0ZUVsZW1lbnQkMSxcblx0Y3JlYXRlVGV4dE5vZGU6IGNyZWF0ZVRleHROb2RlJDEsXG5cdHNldEluaXRpYWxQcm9wZXJ0aWVzOiBzZXRJbml0aWFsUHJvcGVydGllcyQxLFxuXHRkaWZmUHJvcGVydGllczogZGlmZlByb3BlcnRpZXMkMSxcblx0dXBkYXRlUHJvcGVydGllczogdXBkYXRlUHJvcGVydGllcyQxLFxuXHRkaWZmSHlkcmF0ZWRQcm9wZXJ0aWVzOiBkaWZmSHlkcmF0ZWRQcm9wZXJ0aWVzJDEsXG5cdGRpZmZIeWRyYXRlZFRleHQ6IGRpZmZIeWRyYXRlZFRleHQkMSxcblx0d2FybkZvclVubWF0Y2hlZFRleHQ6IHdhcm5Gb3JVbm1hdGNoZWRUZXh0JDEsXG5cdHdhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZUVsZW1lbnQ6IHdhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZUVsZW1lbnQkMSxcblx0d2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlVGV4dDogd2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlVGV4dCQxLFxuXHR3YXJuRm9ySW5zZXJ0ZWRIeWRyYXRlZEVsZW1lbnQ6IHdhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkRWxlbWVudCQxLFxuXHR3YXJuRm9ySW5zZXJ0ZWRIeWRyYXRlZFRleHQ6IHdhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkVGV4dCQxLFxuXHRyZXN0b3JlQ29udHJvbGxlZFN0YXRlOiByZXN0b3JlQ29udHJvbGxlZFN0YXRlJDFcbn0pO1xuXG4vLyBUT0RPOiBkaXJlY3QgaW1wb3J0cyBsaWtlIHNvbWUtcGFja2FnZS9zcmMvKiBhcmUgYmFkLiBGaXggbWUuXG52YXIgZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQ2ID0gUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5nZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtO1xuXG52YXIgdmFsaWRhdGVET01OZXN0aW5nID0gZW1wdHlGdW5jdGlvbjtcblxue1xuICAvLyBUaGlzIHZhbGlkYXRpb24gY29kZSB3YXMgd3JpdHRlbiBiYXNlZCBvbiB0aGUgSFRNTDUgcGFyc2luZyBzcGVjOlxuICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNoYXMtYW4tZWxlbWVudC1pbi1zY29wZVxuICAvL1xuICAvLyBOb3RlOiB0aGlzIGRvZXMgbm90IGNhdGNoIGFsbCBpbnZhbGlkIG5lc3RpbmcsIG5vciBkb2VzIGl0IHRyeSB0byAoYXMgaXQnc1xuICAvLyBub3QgY2xlYXIgd2hhdCBwcmFjdGljYWwgYmVuZWZpdCBkb2luZyBzbyBwcm92aWRlcyk7IGluc3RlYWQsIHdlIHdhcm4gb25seVxuICAvLyBmb3IgY2FzZXMgd2hlcmUgdGhlIHBhcnNlciB3aWxsIGdpdmUgYSBwYXJzZSB0cmVlIGRpZmZlcmluZyBmcm9tIHdoYXQgUmVhY3RcbiAgLy8gaW50ZW5kZWQuIEZvciBleGFtcGxlLCA8Yj48ZGl2PjwvZGl2PjwvYj4gaXMgaW52YWxpZCBidXQgd2UgZG9uJ3Qgd2FyblxuICAvLyBiZWNhdXNlIGl0IHN0aWxsIHBhcnNlcyBjb3JyZWN0bHk7IHdlIGRvIHdhcm4gZm9yIG90aGVyIGNhc2VzIGxpa2UgbmVzdGVkXG4gIC8vIDxwPiB0YWdzIHdoZXJlIHRoZSBiZWdpbm5pbmcgb2YgdGhlIHNlY29uZCBlbGVtZW50IGltcGxpY2l0bHkgY2xvc2VzIHRoZVxuICAvLyBmaXJzdCwgY2F1c2luZyBhIGNvbmZ1c2luZyBtZXNzLlxuXG4gIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3NwZWNpYWxcbiAgdmFyIHNwZWNpYWxUYWdzID0gWydhZGRyZXNzJywgJ2FwcGxldCcsICdhcmVhJywgJ2FydGljbGUnLCAnYXNpZGUnLCAnYmFzZScsICdiYXNlZm9udCcsICdiZ3NvdW5kJywgJ2Jsb2NrcXVvdGUnLCAnYm9keScsICdicicsICdidXR0b24nLCAnY2FwdGlvbicsICdjZW50ZXInLCAnY29sJywgJ2NvbGdyb3VwJywgJ2RkJywgJ2RldGFpbHMnLCAnZGlyJywgJ2RpdicsICdkbCcsICdkdCcsICdlbWJlZCcsICdmaWVsZHNldCcsICdmaWdjYXB0aW9uJywgJ2ZpZ3VyZScsICdmb290ZXInLCAnZm9ybScsICdmcmFtZScsICdmcmFtZXNldCcsICdoMScsICdoMicsICdoMycsICdoNCcsICdoNScsICdoNicsICdoZWFkJywgJ2hlYWRlcicsICdoZ3JvdXAnLCAnaHInLCAnaHRtbCcsICdpZnJhbWUnLCAnaW1nJywgJ2lucHV0JywgJ2lzaW5kZXgnLCAnbGknLCAnbGluaycsICdsaXN0aW5nJywgJ21haW4nLCAnbWFycXVlZScsICdtZW51JywgJ21lbnVpdGVtJywgJ21ldGEnLCAnbmF2JywgJ25vZW1iZWQnLCAnbm9mcmFtZXMnLCAnbm9zY3JpcHQnLCAnb2JqZWN0JywgJ29sJywgJ3AnLCAncGFyYW0nLCAncGxhaW50ZXh0JywgJ3ByZScsICdzY3JpcHQnLCAnc2VjdGlvbicsICdzZWxlY3QnLCAnc291cmNlJywgJ3N0eWxlJywgJ3N1bW1hcnknLCAndGFibGUnLCAndGJvZHknLCAndGQnLCAndGVtcGxhdGUnLCAndGV4dGFyZWEnLCAndGZvb3QnLCAndGgnLCAndGhlYWQnLCAndGl0bGUnLCAndHInLCAndHJhY2snLCAndWwnLCAnd2JyJywgJ3htcCddO1xuXG4gIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI2hhcy1hbi1lbGVtZW50LWluLXNjb3BlXG4gIHZhciBpblNjb3BlVGFncyA9IFsnYXBwbGV0JywgJ2NhcHRpb24nLCAnaHRtbCcsICd0YWJsZScsICd0ZCcsICd0aCcsICdtYXJxdWVlJywgJ29iamVjdCcsICd0ZW1wbGF0ZScsXG5cbiAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjaHRtbC1pbnRlZ3JhdGlvbi1wb2ludFxuICAvLyBUT0RPOiBEaXN0aW5ndWlzaCBieSBuYW1lc3BhY2UgaGVyZSAtLSBmb3IgPHRpdGxlPiwgaW5jbHVkaW5nIGl0IGhlcmVcbiAgLy8gZXJycyBvbiB0aGUgc2lkZSBvZiBmZXdlciB3YXJuaW5nc1xuICAnZm9yZWlnbk9iamVjdCcsICdkZXNjJywgJ3RpdGxlJ107XG5cbiAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjaGFzLWFuLWVsZW1lbnQtaW4tYnV0dG9uLXNjb3BlXG4gIHZhciBidXR0b25TY29wZVRhZ3MgPSBpblNjb3BlVGFncy5jb25jYXQoWydidXR0b24nXSk7XG5cbiAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjZ2VuZXJhdGUtaW1wbGllZC1lbmQtdGFnc1xuICB2YXIgaW1wbGllZEVuZFRhZ3MgPSBbJ2RkJywgJ2R0JywgJ2xpJywgJ29wdGlvbicsICdvcHRncm91cCcsICdwJywgJ3JwJywgJ3J0J107XG5cbiAgdmFyIGVtcHR5QW5jZXN0b3JJbmZvID0ge1xuICAgIGN1cnJlbnQ6IG51bGwsXG5cbiAgICBmb3JtVGFnOiBudWxsLFxuICAgIGFUYWdJblNjb3BlOiBudWxsLFxuICAgIGJ1dHRvblRhZ0luU2NvcGU6IG51bGwsXG4gICAgbm9iclRhZ0luU2NvcGU6IG51bGwsXG4gICAgcFRhZ0luQnV0dG9uU2NvcGU6IG51bGwsXG5cbiAgICBsaXN0SXRlbVRhZ0F1dG9jbG9zaW5nOiBudWxsLFxuICAgIGRsSXRlbVRhZ0F1dG9jbG9zaW5nOiBudWxsXG4gIH07XG5cbiAgdmFyIHVwZGF0ZWRBbmNlc3RvckluZm8kMSA9IGZ1bmN0aW9uIChvbGRJbmZvLCB0YWcsIGluc3RhbmNlKSB7XG4gICAgdmFyIGFuY2VzdG9ySW5mbyA9IF9hc3NpZ24oe30sIG9sZEluZm8gfHwgZW1wdHlBbmNlc3RvckluZm8pO1xuICAgIHZhciBpbmZvID0geyB0YWc6IHRhZywgaW5zdGFuY2U6IGluc3RhbmNlIH07XG5cbiAgICBpZiAoaW5TY29wZVRhZ3MuaW5kZXhPZih0YWcpICE9PSAtMSkge1xuICAgICAgYW5jZXN0b3JJbmZvLmFUYWdJblNjb3BlID0gbnVsbDtcbiAgICAgIGFuY2VzdG9ySW5mby5idXR0b25UYWdJblNjb3BlID0gbnVsbDtcbiAgICAgIGFuY2VzdG9ySW5mby5ub2JyVGFnSW5TY29wZSA9IG51bGw7XG4gICAgfVxuICAgIGlmIChidXR0b25TY29wZVRhZ3MuaW5kZXhPZih0YWcpICE9PSAtMSkge1xuICAgICAgYW5jZXN0b3JJbmZvLnBUYWdJbkJ1dHRvblNjb3BlID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBTZWUgcnVsZXMgZm9yICdsaScsICdkZCcsICdkdCcgc3RhcnQgdGFncyBpblxuICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3BhcnNpbmctbWFpbi1pbmJvZHlcbiAgICBpZiAoc3BlY2lhbFRhZ3MuaW5kZXhPZih0YWcpICE9PSAtMSAmJiB0YWcgIT09ICdhZGRyZXNzJyAmJiB0YWcgIT09ICdkaXYnICYmIHRhZyAhPT0gJ3AnKSB7XG4gICAgICBhbmNlc3RvckluZm8ubGlzdEl0ZW1UYWdBdXRvY2xvc2luZyA9IG51bGw7XG4gICAgICBhbmNlc3RvckluZm8uZGxJdGVtVGFnQXV0b2Nsb3NpbmcgPSBudWxsO1xuICAgIH1cblxuICAgIGFuY2VzdG9ySW5mby5jdXJyZW50ID0gaW5mbztcblxuICAgIGlmICh0YWcgPT09ICdmb3JtJykge1xuICAgICAgYW5jZXN0b3JJbmZvLmZvcm1UYWcgPSBpbmZvO1xuICAgIH1cbiAgICBpZiAodGFnID09PSAnYScpIHtcbiAgICAgIGFuY2VzdG9ySW5mby5hVGFnSW5TY29wZSA9IGluZm87XG4gICAgfVxuICAgIGlmICh0YWcgPT09ICdidXR0b24nKSB7XG4gICAgICBhbmNlc3RvckluZm8uYnV0dG9uVGFnSW5TY29wZSA9IGluZm87XG4gICAgfVxuICAgIGlmICh0YWcgPT09ICdub2JyJykge1xuICAgICAgYW5jZXN0b3JJbmZvLm5vYnJUYWdJblNjb3BlID0gaW5mbztcbiAgICB9XG4gICAgaWYgKHRhZyA9PT0gJ3AnKSB7XG4gICAgICBhbmNlc3RvckluZm8ucFRhZ0luQnV0dG9uU2NvcGUgPSBpbmZvO1xuICAgIH1cbiAgICBpZiAodGFnID09PSAnbGknKSB7XG4gICAgICBhbmNlc3RvckluZm8ubGlzdEl0ZW1UYWdBdXRvY2xvc2luZyA9IGluZm87XG4gICAgfVxuICAgIGlmICh0YWcgPT09ICdkZCcgfHwgdGFnID09PSAnZHQnKSB7XG4gICAgICBhbmNlc3RvckluZm8uZGxJdGVtVGFnQXV0b2Nsb3NpbmcgPSBpbmZvO1xuICAgIH1cblxuICAgIHJldHVybiBhbmNlc3RvckluZm87XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlclxuICAgKi9cbiAgdmFyIGlzVGFnVmFsaWRXaXRoUGFyZW50ID0gZnVuY3Rpb24gKHRhZywgcGFyZW50VGFnKSB7XG4gICAgLy8gRmlyc3QsIGxldCdzIGNoZWNrIGlmIHdlJ3JlIGluIGFuIHVudXN1YWwgcGFyc2luZyBtb2RlLi4uXG4gICAgc3dpdGNoIChwYXJlbnRUYWcpIHtcbiAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3BhcnNpbmctbWFpbi1pbnNlbGVjdFxuICAgICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ29wdGlvbicgfHwgdGFnID09PSAnb3B0Z3JvdXAnIHx8IHRhZyA9PT0gJyN0ZXh0JztcbiAgICAgIGNhc2UgJ29wdGdyb3VwJzpcbiAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ29wdGlvbicgfHwgdGFnID09PSAnI3RleHQnO1xuICAgICAgLy8gU3RyaWN0bHkgc3BlYWtpbmcsIHNlZWluZyBhbiA8b3B0aW9uPiBkb2Vzbid0IG1lYW4gd2UncmUgaW4gYSA8c2VsZWN0PlxuICAgICAgLy8gYnV0XG4gICAgICBjYXNlICdvcHRpb24nOlxuICAgICAgICByZXR1cm4gdGFnID09PSAnI3RleHQnO1xuICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjcGFyc2luZy1tYWluLWludGRcbiAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3BhcnNpbmctbWFpbi1pbmNhcHRpb25cbiAgICAgIC8vIE5vIHNwZWNpYWwgYmVoYXZpb3Igc2luY2UgdGhlc2UgcnVsZXMgZmFsbCBiYWNrIHRvIFwiaW4gYm9keVwiIG1vZGUgZm9yXG4gICAgICAvLyBhbGwgZXhjZXB0IHNwZWNpYWwgdGFibGUgbm9kZXMgd2hpY2ggY2F1c2UgYmFkIHBhcnNpbmcgYmVoYXZpb3IgYW55d2F5LlxuXG4gICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNwYXJzaW5nLW1haW4taW50clxuICAgICAgY2FzZSAndHInOlxuICAgICAgICByZXR1cm4gdGFnID09PSAndGgnIHx8IHRhZyA9PT0gJ3RkJyB8fCB0YWcgPT09ICdzdHlsZScgfHwgdGFnID09PSAnc2NyaXB0JyB8fCB0YWcgPT09ICd0ZW1wbGF0ZSc7XG4gICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNwYXJzaW5nLW1haW4taW50Ym9keVxuICAgICAgY2FzZSAndGJvZHknOlxuICAgICAgY2FzZSAndGhlYWQnOlxuICAgICAgY2FzZSAndGZvb3QnOlxuICAgICAgICByZXR1cm4gdGFnID09PSAndHInIHx8IHRhZyA9PT0gJ3N0eWxlJyB8fCB0YWcgPT09ICdzY3JpcHQnIHx8IHRhZyA9PT0gJ3RlbXBsYXRlJztcbiAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3BhcnNpbmctbWFpbi1pbmNvbGdyb3VwXG4gICAgICBjYXNlICdjb2xncm91cCc6XG4gICAgICAgIHJldHVybiB0YWcgPT09ICdjb2wnIHx8IHRhZyA9PT0gJ3RlbXBsYXRlJztcbiAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3BhcnNpbmctbWFpbi1pbnRhYmxlXG4gICAgICBjYXNlICd0YWJsZSc6XG4gICAgICAgIHJldHVybiB0YWcgPT09ICdjYXB0aW9uJyB8fCB0YWcgPT09ICdjb2xncm91cCcgfHwgdGFnID09PSAndGJvZHknIHx8IHRhZyA9PT0gJ3Rmb290JyB8fCB0YWcgPT09ICd0aGVhZCcgfHwgdGFnID09PSAnc3R5bGUnIHx8IHRhZyA9PT0gJ3NjcmlwdCcgfHwgdGFnID09PSAndGVtcGxhdGUnO1xuICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjcGFyc2luZy1tYWluLWluaGVhZFxuICAgICAgY2FzZSAnaGVhZCc6XG4gICAgICAgIHJldHVybiB0YWcgPT09ICdiYXNlJyB8fCB0YWcgPT09ICdiYXNlZm9udCcgfHwgdGFnID09PSAnYmdzb3VuZCcgfHwgdGFnID09PSAnbGluaycgfHwgdGFnID09PSAnbWV0YScgfHwgdGFnID09PSAndGl0bGUnIHx8IHRhZyA9PT0gJ25vc2NyaXB0JyB8fCB0YWcgPT09ICdub2ZyYW1lcycgfHwgdGFnID09PSAnc3R5bGUnIHx8IHRhZyA9PT0gJ3NjcmlwdCcgfHwgdGFnID09PSAndGVtcGxhdGUnO1xuICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc2VtYW50aWNzLmh0bWwjdGhlLWh0bWwtZWxlbWVudFxuICAgICAgY2FzZSAnaHRtbCc6XG4gICAgICAgIHJldHVybiB0YWcgPT09ICdoZWFkJyB8fCB0YWcgPT09ICdib2R5JztcbiAgICAgIGNhc2UgJyNkb2N1bWVudCc6XG4gICAgICAgIHJldHVybiB0YWcgPT09ICdodG1sJztcbiAgICB9XG5cbiAgICAvLyBQcm9iYWJseSBpbiB0aGUgXCJpbiBib2R5XCIgcGFyc2luZyBtb2RlLCBzbyB3ZSBvdXRsYXcgb25seSB0YWcgY29tYm9zXG4gICAgLy8gd2hlcmUgdGhlIHBhcnNpbmcgcnVsZXMgY2F1c2UgaW1wbGljaXQgb3BlbnMgb3IgY2xvc2VzIHRvIGJlIGFkZGVkLlxuICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3BhcnNpbmctbWFpbi1pbmJvZHlcbiAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgY2FzZSAnaDEnOlxuICAgICAgY2FzZSAnaDInOlxuICAgICAgY2FzZSAnaDMnOlxuICAgICAgY2FzZSAnaDQnOlxuICAgICAgY2FzZSAnaDUnOlxuICAgICAgY2FzZSAnaDYnOlxuICAgICAgICByZXR1cm4gcGFyZW50VGFnICE9PSAnaDEnICYmIHBhcmVudFRhZyAhPT0gJ2gyJyAmJiBwYXJlbnRUYWcgIT09ICdoMycgJiYgcGFyZW50VGFnICE9PSAnaDQnICYmIHBhcmVudFRhZyAhPT0gJ2g1JyAmJiBwYXJlbnRUYWcgIT09ICdoNic7XG5cbiAgICAgIGNhc2UgJ3JwJzpcbiAgICAgIGNhc2UgJ3J0JzpcbiAgICAgICAgcmV0dXJuIGltcGxpZWRFbmRUYWdzLmluZGV4T2YocGFyZW50VGFnKSA9PT0gLTE7XG5cbiAgICAgIGNhc2UgJ2JvZHknOlxuICAgICAgY2FzZSAnY2FwdGlvbic6XG4gICAgICBjYXNlICdjb2wnOlxuICAgICAgY2FzZSAnY29sZ3JvdXAnOlxuICAgICAgY2FzZSAnZnJhbWUnOlxuICAgICAgY2FzZSAnaGVhZCc6XG4gICAgICBjYXNlICdodG1sJzpcbiAgICAgIGNhc2UgJ3Rib2R5JzpcbiAgICAgIGNhc2UgJ3RkJzpcbiAgICAgIGNhc2UgJ3Rmb290JzpcbiAgICAgIGNhc2UgJ3RoJzpcbiAgICAgIGNhc2UgJ3RoZWFkJzpcbiAgICAgIGNhc2UgJ3RyJzpcbiAgICAgICAgLy8gVGhlc2UgdGFncyBhcmUgb25seSB2YWxpZCB3aXRoIGEgZmV3IHBhcmVudHMgdGhhdCBoYXZlIHNwZWNpYWwgY2hpbGRcbiAgICAgICAgLy8gcGFyc2luZyBydWxlcyAtLSBpZiB3ZSdyZSBkb3duIGhlcmUsIHRoZW4gbm9uZSBvZiB0aG9zZSBtYXRjaGVkIGFuZFxuICAgICAgICAvLyBzbyB3ZSBhbGxvdyBpdCBvbmx5IGlmIHdlIGRvbid0IGtub3cgd2hhdCB0aGUgcGFyZW50IGlzLCBhcyBhbGwgb3RoZXJcbiAgICAgICAgLy8gY2FzZXMgYXJlIGludmFsaWQuXG4gICAgICAgIHJldHVybiBwYXJlbnRUYWcgPT0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyXG4gICAqL1xuICB2YXIgZmluZEludmFsaWRBbmNlc3RvckZvclRhZyA9IGZ1bmN0aW9uICh0YWcsIGFuY2VzdG9ySW5mbykge1xuICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICBjYXNlICdhZGRyZXNzJzpcbiAgICAgIGNhc2UgJ2FydGljbGUnOlxuICAgICAgY2FzZSAnYXNpZGUnOlxuICAgICAgY2FzZSAnYmxvY2txdW90ZSc6XG4gICAgICBjYXNlICdjZW50ZXInOlxuICAgICAgY2FzZSAnZGV0YWlscyc6XG4gICAgICBjYXNlICdkaWFsb2cnOlxuICAgICAgY2FzZSAnZGlyJzpcbiAgICAgIGNhc2UgJ2Rpdic6XG4gICAgICBjYXNlICdkbCc6XG4gICAgICBjYXNlICdmaWVsZHNldCc6XG4gICAgICBjYXNlICdmaWdjYXB0aW9uJzpcbiAgICAgIGNhc2UgJ2ZpZ3VyZSc6XG4gICAgICBjYXNlICdmb290ZXInOlxuICAgICAgY2FzZSAnaGVhZGVyJzpcbiAgICAgIGNhc2UgJ2hncm91cCc6XG4gICAgICBjYXNlICdtYWluJzpcbiAgICAgIGNhc2UgJ21lbnUnOlxuICAgICAgY2FzZSAnbmF2JzpcbiAgICAgIGNhc2UgJ29sJzpcbiAgICAgIGNhc2UgJ3AnOlxuICAgICAgY2FzZSAnc2VjdGlvbic6XG4gICAgICBjYXNlICdzdW1tYXJ5JzpcbiAgICAgIGNhc2UgJ3VsJzpcbiAgICAgIGNhc2UgJ3ByZSc6XG4gICAgICBjYXNlICdsaXN0aW5nJzpcbiAgICAgIGNhc2UgJ3RhYmxlJzpcbiAgICAgIGNhc2UgJ2hyJzpcbiAgICAgIGNhc2UgJ3htcCc6XG4gICAgICBjYXNlICdoMSc6XG4gICAgICBjYXNlICdoMic6XG4gICAgICBjYXNlICdoMyc6XG4gICAgICBjYXNlICdoNCc6XG4gICAgICBjYXNlICdoNSc6XG4gICAgICBjYXNlICdoNic6XG4gICAgICAgIHJldHVybiBhbmNlc3RvckluZm8ucFRhZ0luQnV0dG9uU2NvcGU7XG5cbiAgICAgIGNhc2UgJ2Zvcm0nOlxuICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmZvcm1UYWcgfHwgYW5jZXN0b3JJbmZvLnBUYWdJbkJ1dHRvblNjb3BlO1xuXG4gICAgICBjYXNlICdsaSc6XG4gICAgICAgIHJldHVybiBhbmNlc3RvckluZm8ubGlzdEl0ZW1UYWdBdXRvY2xvc2luZztcblxuICAgICAgY2FzZSAnZGQnOlxuICAgICAgY2FzZSAnZHQnOlxuICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmRsSXRlbVRhZ0F1dG9jbG9zaW5nO1xuXG4gICAgICBjYXNlICdidXR0b24nOlxuICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmJ1dHRvblRhZ0luU2NvcGU7XG5cbiAgICAgIGNhc2UgJ2EnOlxuICAgICAgICAvLyBTcGVjIHNheXMgc29tZXRoaW5nIGFib3V0IHN0b3JpbmcgYSBsaXN0IG9mIG1hcmtlcnMsIGJ1dCBpdCBzb3VuZHNcbiAgICAgICAgLy8gZXF1aXZhbGVudCB0byB0aGlzIGNoZWNrLlxuICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmFUYWdJblNjb3BlO1xuXG4gICAgICBjYXNlICdub2JyJzpcbiAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5ub2JyVGFnSW5TY29wZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB2YXIgZGlkV2FybiA9IHt9O1xuXG4gIHZhbGlkYXRlRE9NTmVzdGluZyA9IGZ1bmN0aW9uIChjaGlsZFRhZywgY2hpbGRUZXh0LCBhbmNlc3RvckluZm8pIHtcbiAgICBhbmNlc3RvckluZm8gPSBhbmNlc3RvckluZm8gfHwgZW1wdHlBbmNlc3RvckluZm87XG4gICAgdmFyIHBhcmVudEluZm8gPSBhbmNlc3RvckluZm8uY3VycmVudDtcbiAgICB2YXIgcGFyZW50VGFnID0gcGFyZW50SW5mbyAmJiBwYXJlbnRJbmZvLnRhZztcblxuICAgIGlmIChjaGlsZFRleHQgIT0gbnVsbCkge1xuICAgICAgd2FybmluZyhjaGlsZFRhZyA9PSBudWxsLCAndmFsaWRhdGVET01OZXN0aW5nOiB3aGVuIGNoaWxkVGV4dCBpcyBwYXNzZWQsIGNoaWxkVGFnIHNob3VsZCBiZSBudWxsJyk7XG4gICAgICBjaGlsZFRhZyA9ICcjdGV4dCc7XG4gICAgfVxuXG4gICAgdmFyIGludmFsaWRQYXJlbnQgPSBpc1RhZ1ZhbGlkV2l0aFBhcmVudChjaGlsZFRhZywgcGFyZW50VGFnKSA/IG51bGwgOiBwYXJlbnRJbmZvO1xuICAgIHZhciBpbnZhbGlkQW5jZXN0b3IgPSBpbnZhbGlkUGFyZW50ID8gbnVsbCA6IGZpbmRJbnZhbGlkQW5jZXN0b3JGb3JUYWcoY2hpbGRUYWcsIGFuY2VzdG9ySW5mbyk7XG4gICAgdmFyIGludmFsaWRQYXJlbnRPckFuY2VzdG9yID0gaW52YWxpZFBhcmVudCB8fCBpbnZhbGlkQW5jZXN0b3I7XG4gICAgaWYgKCFpbnZhbGlkUGFyZW50T3JBbmNlc3Rvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBhbmNlc3RvclRhZyA9IGludmFsaWRQYXJlbnRPckFuY2VzdG9yLnRhZztcbiAgICB2YXIgYWRkZW5kdW0gPSBnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDYoKTtcblxuICAgIHZhciB3YXJuS2V5ID0gISFpbnZhbGlkUGFyZW50ICsgJ3wnICsgY2hpbGRUYWcgKyAnfCcgKyBhbmNlc3RvclRhZyArICd8JyArIGFkZGVuZHVtO1xuICAgIGlmIChkaWRXYXJuW3dhcm5LZXldKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRpZFdhcm5bd2FybktleV0gPSB0cnVlO1xuXG4gICAgdmFyIHRhZ0Rpc3BsYXlOYW1lID0gY2hpbGRUYWc7XG4gICAgdmFyIHdoaXRlc3BhY2VJbmZvID0gJyc7XG4gICAgaWYgKGNoaWxkVGFnID09PSAnI3RleHQnKSB7XG4gICAgICBpZiAoL1xcUy8udGVzdChjaGlsZFRleHQpKSB7XG4gICAgICAgIHRhZ0Rpc3BsYXlOYW1lID0gJ1RleHQgbm9kZXMnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFnRGlzcGxheU5hbWUgPSAnV2hpdGVzcGFjZSB0ZXh0IG5vZGVzJztcbiAgICAgICAgd2hpdGVzcGFjZUluZm8gPSBcIiBNYWtlIHN1cmUgeW91IGRvbid0IGhhdmUgYW55IGV4dHJhIHdoaXRlc3BhY2UgYmV0d2VlbiB0YWdzIG9uIFwiICsgJ2VhY2ggbGluZSBvZiB5b3VyIHNvdXJjZSBjb2RlLic7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhZ0Rpc3BsYXlOYW1lID0gJzwnICsgY2hpbGRUYWcgKyAnPic7XG4gICAgfVxuXG4gICAgaWYgKGludmFsaWRQYXJlbnQpIHtcbiAgICAgIHZhciBpbmZvID0gJyc7XG4gICAgICBpZiAoYW5jZXN0b3JUYWcgPT09ICd0YWJsZScgJiYgY2hpbGRUYWcgPT09ICd0cicpIHtcbiAgICAgICAgaW5mbyArPSAnIEFkZCBhIDx0Ym9keT4gdG8geW91ciBjb2RlIHRvIG1hdGNoIHRoZSBET00gdHJlZSBnZW5lcmF0ZWQgYnkgJyArICd0aGUgYnJvd3Nlci4nO1xuICAgICAgfVxuICAgICAgd2FybmluZyhmYWxzZSwgJ3ZhbGlkYXRlRE9NTmVzdGluZyguLi4pOiAlcyBjYW5ub3QgYXBwZWFyIGFzIGEgY2hpbGQgb2YgPCVzPi4lcyVzJXMnLCB0YWdEaXNwbGF5TmFtZSwgYW5jZXN0b3JUYWcsIHdoaXRlc3BhY2VJbmZvLCBpbmZvLCBhZGRlbmR1bSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICd2YWxpZGF0ZURPTU5lc3RpbmcoLi4uKTogJXMgY2Fubm90IGFwcGVhciBhcyBhIGRlc2NlbmRhbnQgb2YgJyArICc8JXM+LiVzJywgdGFnRGlzcGxheU5hbWUsIGFuY2VzdG9yVGFnLCBhZGRlbmR1bSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFRPRE86IHR1cm4gdGhpcyBpbnRvIGEgbmFtZWQgZXhwb3J0XG4gIHZhbGlkYXRlRE9NTmVzdGluZy51cGRhdGVkQW5jZXN0b3JJbmZvID0gdXBkYXRlZEFuY2VzdG9ySW5mbyQxO1xufVxuXG52YXIgdmFsaWRhdGVET01OZXN0aW5nJDEgPSB2YWxpZGF0ZURPTU5lc3Rpbmc7XG5cbi8vIFRPRE86IFRoaXMgdHlwZSBpcyBzaGFyZWQgYmV0d2VlbiB0aGUgcmVjb25jaWxlciBhbmQgUmVhY3RET00sIGJ1dCB3aWxsXG4vLyBldmVudHVhbGx5IGJlIGxpZnRlZCBvdXQgdG8gdGhlIHJlbmRlcmVyLlxuXG4vLyBUT0RPOiBkaXJlY3QgaW1wb3J0cyBsaWtlIHNvbWUtcGFja2FnZS9zcmMvKiBhcmUgYmFkLiBGaXggbWUuXG52YXIgY3JlYXRlRWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQkMTtcbnZhciBjcmVhdGVUZXh0Tm9kZSA9IGNyZWF0ZVRleHROb2RlJDE7XG52YXIgc2V0SW5pdGlhbFByb3BlcnRpZXMgPSBzZXRJbml0aWFsUHJvcGVydGllcyQxO1xudmFyIGRpZmZQcm9wZXJ0aWVzID0gZGlmZlByb3BlcnRpZXMkMTtcbnZhciB1cGRhdGVQcm9wZXJ0aWVzID0gdXBkYXRlUHJvcGVydGllcyQxO1xudmFyIGRpZmZIeWRyYXRlZFByb3BlcnRpZXMgPSBkaWZmSHlkcmF0ZWRQcm9wZXJ0aWVzJDE7XG52YXIgZGlmZkh5ZHJhdGVkVGV4dCA9IGRpZmZIeWRyYXRlZFRleHQkMTtcbnZhciB3YXJuRm9yVW5tYXRjaGVkVGV4dCA9IHdhcm5Gb3JVbm1hdGNoZWRUZXh0JDE7XG52YXIgd2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlRWxlbWVudCA9IHdhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZUVsZW1lbnQkMTtcbnZhciB3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVUZXh0ID0gd2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlVGV4dCQxO1xudmFyIHdhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkRWxlbWVudCA9IHdhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkRWxlbWVudCQxO1xudmFyIHdhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkVGV4dCA9IHdhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkVGV4dCQxO1xudmFyIHVwZGF0ZWRBbmNlc3RvckluZm8gPSB2YWxpZGF0ZURPTU5lc3RpbmckMS51cGRhdGVkQW5jZXN0b3JJbmZvO1xudmFyIHByZWNhY2hlRmliZXJOb2RlID0gcHJlY2FjaGVGaWJlck5vZGUkMTtcbnZhciB1cGRhdGVGaWJlclByb3BzID0gdXBkYXRlRmliZXJQcm9wcyQxO1xuXG5cbnZhciBTVVBQUkVTU19IWURSQVRJT05fV0FSTklORyA9IHZvaWQgMDtcbnZhciB0b3BMZXZlbFVwZGF0ZVdhcm5pbmdzID0gdm9pZCAwO1xudmFyIHdhcm5PbkludmFsaWRDYWxsYmFjayA9IHZvaWQgMDtcbnZhciBkaWRXYXJuQWJvdXRVbnN0YWJsZUNyZWF0ZVBvcnRhbCA9IGZhbHNlO1xuXG57XG4gIFNVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HID0gJ3N1cHByZXNzSHlkcmF0aW9uV2FybmluZyc7XG4gIGlmICh0eXBlb2YgTWFwICE9PSAnZnVuY3Rpb24nIHx8IE1hcC5wcm90b3R5cGUgPT0gbnVsbCB8fCB0eXBlb2YgTWFwLnByb3RvdHlwZS5mb3JFYWNoICE9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBTZXQgIT09ICdmdW5jdGlvbicgfHwgU2V0LnByb3RvdHlwZSA9PSBudWxsIHx8IHR5cGVvZiBTZXQucHJvdG90eXBlLmNsZWFyICE9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBTZXQucHJvdG90eXBlLmZvckVhY2ggIT09ICdmdW5jdGlvbicpIHtcbiAgICB3YXJuaW5nKGZhbHNlLCAnUmVhY3QgZGVwZW5kcyBvbiBNYXAgYW5kIFNldCBidWlsdC1pbiB0eXBlcy4gTWFrZSBzdXJlIHRoYXQgeW91IGxvYWQgYSAnICsgJ3BvbHlmaWxsIGluIG9sZGVyIGJyb3dzZXJzLiBodHRwczovL2ZiLm1lL3JlYWN0LXBvbHlmaWxscycpO1xuICB9XG5cbiAgdG9wTGV2ZWxVcGRhdGVXYXJuaW5ncyA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcbiAgICBpZiAoY29udGFpbmVyLl9yZWFjdFJvb3RDb250YWluZXIgJiYgY29udGFpbmVyLm5vZGVUeXBlICE9PSBDT01NRU5UX05PREUpIHtcbiAgICAgIHZhciBob3N0SW5zdGFuY2UgPSBET01SZW5kZXJlci5maW5kSG9zdEluc3RhbmNlV2l0aE5vUG9ydGFscyhjb250YWluZXIuX3JlYWN0Um9vdENvbnRhaW5lci5faW50ZXJuYWxSb290LmN1cnJlbnQpO1xuICAgICAgaWYgKGhvc3RJbnN0YW5jZSkge1xuICAgICAgICB3YXJuaW5nKGhvc3RJbnN0YW5jZS5wYXJlbnROb2RlID09PSBjb250YWluZXIsICdyZW5kZXIoLi4uKTogSXQgbG9va3MgbGlrZSB0aGUgUmVhY3QtcmVuZGVyZWQgY29udGVudCBvZiB0aGlzICcgKyAnY29udGFpbmVyIHdhcyByZW1vdmVkIHdpdGhvdXQgdXNpbmcgUmVhY3QuIFRoaXMgaXMgbm90ICcgKyAnc3VwcG9ydGVkIGFuZCB3aWxsIGNhdXNlIGVycm9ycy4gSW5zdGVhZCwgY2FsbCAnICsgJ1JlYWN0RE9NLnVubW91bnRDb21wb25lbnRBdE5vZGUgdG8gZW1wdHkgYSBjb250YWluZXIuJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGlzUm9vdFJlbmRlcmVkQnlTb21lUmVhY3QgPSAhIWNvbnRhaW5lci5fcmVhY3RSb290Q29udGFpbmVyO1xuICAgIHZhciByb290RWwgPSBnZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXIoY29udGFpbmVyKTtcbiAgICB2YXIgaGFzTm9uUm9vdFJlYWN0Q2hpbGQgPSAhIShyb290RWwgJiYgZ2V0SW5zdGFuY2VGcm9tTm9kZSQxKHJvb3RFbCkpO1xuXG4gICAgd2FybmluZyghaGFzTm9uUm9vdFJlYWN0Q2hpbGQgfHwgaXNSb290UmVuZGVyZWRCeVNvbWVSZWFjdCwgJ3JlbmRlciguLi4pOiBSZXBsYWNpbmcgUmVhY3QtcmVuZGVyZWQgY2hpbGRyZW4gd2l0aCBhIG5ldyByb290ICcgKyAnY29tcG9uZW50LiBJZiB5b3UgaW50ZW5kZWQgdG8gdXBkYXRlIHRoZSBjaGlsZHJlbiBvZiB0aGlzIG5vZGUsICcgKyAneW91IHNob3VsZCBpbnN0ZWFkIGhhdmUgdGhlIGV4aXN0aW5nIGNoaWxkcmVuIHVwZGF0ZSB0aGVpciBzdGF0ZSAnICsgJ2FuZCByZW5kZXIgdGhlIG5ldyBjb21wb25lbnRzIGluc3RlYWQgb2YgY2FsbGluZyBSZWFjdERPTS5yZW5kZXIuJyk7XG5cbiAgICB3YXJuaW5nKGNvbnRhaW5lci5ub2RlVHlwZSAhPT0gRUxFTUVOVF9OT0RFIHx8ICFjb250YWluZXIudGFnTmFtZSB8fCBjb250YWluZXIudGFnTmFtZS50b1VwcGVyQ2FzZSgpICE9PSAnQk9EWScsICdyZW5kZXIoKTogUmVuZGVyaW5nIGNvbXBvbmVudHMgZGlyZWN0bHkgaW50byBkb2N1bWVudC5ib2R5IGlzICcgKyAnZGlzY291cmFnZWQsIHNpbmNlIGl0cyBjaGlsZHJlbiBhcmUgb2Z0ZW4gbWFuaXB1bGF0ZWQgYnkgdGhpcmQtcGFydHkgJyArICdzY3JpcHRzIGFuZCBicm93c2VyIGV4dGVuc2lvbnMuIFRoaXMgbWF5IGxlYWQgdG8gc3VidGxlICcgKyAncmVjb25jaWxpYXRpb24gaXNzdWVzLiBUcnkgcmVuZGVyaW5nIGludG8gYSBjb250YWluZXIgZWxlbWVudCBjcmVhdGVkICcgKyAnZm9yIHlvdXIgYXBwLicpO1xuICB9O1xuXG4gIHdhcm5PbkludmFsaWRDYWxsYmFjayA9IGZ1bmN0aW9uIChjYWxsYmFjaywgY2FsbGVyTmFtZSkge1xuICAgIHdhcm5pbmcoY2FsbGJhY2sgPT09IG51bGwgfHwgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nLCAnJXMoLi4uKTogRXhwZWN0ZWQgdGhlIGxhc3Qgb3B0aW9uYWwgYGNhbGxiYWNrYCBhcmd1bWVudCB0byBiZSBhICcgKyAnZnVuY3Rpb24uIEluc3RlYWQgcmVjZWl2ZWQ6ICVzLicsIGNhbGxlck5hbWUsIGNhbGxiYWNrKTtcbiAgfTtcbn1cblxuaW5qZWN0aW9uJDIuaW5qZWN0RmliZXJDb250cm9sbGVkSG9zdENvbXBvbmVudChSZWFjdERPTUZpYmVyQ29tcG9uZW50KTtcblxudmFyIGV2ZW50c0VuYWJsZWQgPSBudWxsO1xudmFyIHNlbGVjdGlvbkluZm9ybWF0aW9uID0gbnVsbDtcblxuZnVuY3Rpb24gUmVhY3RCYXRjaChyb290KSB7XG4gIHZhciBleHBpcmF0aW9uVGltZSA9IERPTVJlbmRlcmVyLmNvbXB1dGVVbmlxdWVBc3luY0V4cGlyYXRpb24oKTtcbiAgdGhpcy5fZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgdGhpcy5fcm9vdCA9IHJvb3Q7XG4gIHRoaXMuX25leHQgPSBudWxsO1xuICB0aGlzLl9jYWxsYmFja3MgPSBudWxsO1xuICB0aGlzLl9kaWRDb21wbGV0ZSA9IGZhbHNlO1xuICB0aGlzLl9oYXNDaGlsZHJlbiA9IGZhbHNlO1xuICB0aGlzLl9jaGlsZHJlbiA9IG51bGw7XG4gIHRoaXMuX2RlZmVyID0gdHJ1ZTtcbn1cblJlYWN0QmF0Y2gucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChjaGlsZHJlbikge1xuICAhdGhpcy5fZGVmZXIgPyBpbnZhcmlhbnQoZmFsc2UsICdiYXRjaC5yZW5kZXI6IENhbm5vdCByZW5kZXIgYSBiYXRjaCB0aGF0IGFscmVhZHkgY29tbWl0dGVkLicpIDogdm9pZCAwO1xuICB0aGlzLl9oYXNDaGlsZHJlbiA9IHRydWU7XG4gIHRoaXMuX2NoaWxkcmVuID0gY2hpbGRyZW47XG4gIHZhciBpbnRlcm5hbFJvb3QgPSB0aGlzLl9yb290Ll9pbnRlcm5hbFJvb3Q7XG4gIHZhciBleHBpcmF0aW9uVGltZSA9IHRoaXMuX2V4cGlyYXRpb25UaW1lO1xuICB2YXIgd29yayA9IG5ldyBSZWFjdFdvcmsoKTtcbiAgRE9NUmVuZGVyZXIudXBkYXRlQ29udGFpbmVyQXRFeHBpcmF0aW9uVGltZShjaGlsZHJlbiwgaW50ZXJuYWxSb290LCBudWxsLCBleHBpcmF0aW9uVGltZSwgd29yay5fb25Db21taXQpO1xuICByZXR1cm4gd29yaztcbn07XG5SZWFjdEJhdGNoLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24gKG9uQ29tcGxldGUpIHtcbiAgaWYgKHRoaXMuX2RpZENvbXBsZXRlKSB7XG4gICAgb25Db21wbGV0ZSgpO1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzO1xuICBpZiAoY2FsbGJhY2tzID09PSBudWxsKSB7XG4gICAgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzID0gW107XG4gIH1cbiAgY2FsbGJhY2tzLnB1c2gob25Db21wbGV0ZSk7XG59O1xuUmVhY3RCYXRjaC5wcm90b3R5cGUuY29tbWl0ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaW50ZXJuYWxSb290ID0gdGhpcy5fcm9vdC5faW50ZXJuYWxSb290O1xuICB2YXIgZmlyc3RCYXRjaCA9IGludGVybmFsUm9vdC5maXJzdEJhdGNoO1xuICAhKHRoaXMuX2RlZmVyICYmIGZpcnN0QmF0Y2ggIT09IG51bGwpID8gaW52YXJpYW50KGZhbHNlLCAnYmF0Y2guY29tbWl0OiBDYW5ub3QgY29tbWl0IGEgYmF0Y2ggbXVsdGlwbGUgdGltZXMuJykgOiB2b2lkIDA7XG5cbiAgaWYgKCF0aGlzLl9oYXNDaGlsZHJlbikge1xuICAgIC8vIFRoaXMgYmF0Y2ggaXMgZW1wdHkuIFJldHVybi5cbiAgICB0aGlzLl9uZXh0ID0gbnVsbDtcbiAgICB0aGlzLl9kZWZlciA9IGZhbHNlO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBleHBpcmF0aW9uVGltZSA9IHRoaXMuX2V4cGlyYXRpb25UaW1lO1xuXG4gIC8vIEVuc3VyZSB0aGlzIGlzIHRoZSBmaXJzdCBiYXRjaCBpbiB0aGUgbGlzdC5cbiAgaWYgKGZpcnN0QmF0Y2ggIT09IHRoaXMpIHtcbiAgICAvLyBUaGlzIGJhdGNoIGlzIG5vdCB0aGUgZWFybGllc3QgYmF0Y2guIFdlIG5lZWQgdG8gbW92ZSBpdCB0byB0aGUgZnJvbnQuXG4gICAgLy8gVXBkYXRlIGl0cyBleHBpcmF0aW9uIHRpbWUgdG8gYmUgdGhlIGV4cGlyYXRpb24gdGltZSBvZiB0aGUgZWFybGllc3RcbiAgICAvLyBiYXRjaCwgc28gdGhhdCB3ZSBjYW4gZmx1c2ggaXQgd2l0aG91dCBmbHVzaGluZyB0aGUgb3RoZXIgYmF0Y2hlcy5cbiAgICBpZiAodGhpcy5faGFzQ2hpbGRyZW4pIHtcbiAgICAgIGV4cGlyYXRpb25UaW1lID0gdGhpcy5fZXhwaXJhdGlvblRpbWUgPSBmaXJzdEJhdGNoLl9leHBpcmF0aW9uVGltZTtcbiAgICAgIC8vIFJlbmRlcmluZyB0aGlzIGJhdGNoIGFnYWluIGVuc3VyZXMgaXRzIGNoaWxkcmVuIHdpbGwgYmUgdGhlIGZpbmFsIHN0YXRlXG4gICAgICAvLyB3aGVuIHdlIGZsdXNoICh1cGRhdGVzIGFyZSBwcm9jZXNzZWQgaW4gaW5zZXJ0aW9uIG9yZGVyOiBsYXN0XG4gICAgICAvLyB1cGRhdGUgd2lucykuXG4gICAgICAvLyBUT0RPOiBUaGlzIGZvcmNlcyBhIHJlc3RhcnQuIFNob3VsZCB3ZSBwcmludCBhIHdhcm5pbmc/XG4gICAgICB0aGlzLnJlbmRlcih0aGlzLl9jaGlsZHJlbik7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIHRoZSBiYXRjaCBmcm9tIHRoZSBsaXN0LlxuICAgIHZhciBwcmV2aW91cyA9IG51bGw7XG4gICAgdmFyIGJhdGNoID0gZmlyc3RCYXRjaDtcbiAgICB3aGlsZSAoYmF0Y2ggIT09IHRoaXMpIHtcbiAgICAgIHByZXZpb3VzID0gYmF0Y2g7XG4gICAgICBiYXRjaCA9IGJhdGNoLl9uZXh0O1xuICAgIH1cbiAgICAhKHByZXZpb3VzICE9PSBudWxsKSA/IGludmFyaWFudChmYWxzZSwgJ2JhdGNoLmNvbW1pdDogQ2Fubm90IGNvbW1pdCBhIGJhdGNoIG11bHRpcGxlIHRpbWVzLicpIDogdm9pZCAwO1xuICAgIHByZXZpb3VzLl9uZXh0ID0gYmF0Y2guX25leHQ7XG5cbiAgICAvLyBBZGQgaXQgdG8gdGhlIGZyb250LlxuICAgIHRoaXMuX25leHQgPSBmaXJzdEJhdGNoO1xuICAgIGZpcnN0QmF0Y2ggPSBpbnRlcm5hbFJvb3QuZmlyc3RCYXRjaCA9IHRoaXM7XG4gIH1cblxuICAvLyBTeW5jaHJvbm91c2x5IGZsdXNoIGFsbCB0aGUgd29yayB1cCB0byB0aGlzIGJhdGNoJ3MgZXhwaXJhdGlvbiB0aW1lLlxuICB0aGlzLl9kZWZlciA9IGZhbHNlO1xuICBET01SZW5kZXJlci5mbHVzaFJvb3QoaW50ZXJuYWxSb290LCBleHBpcmF0aW9uVGltZSk7XG5cbiAgLy8gUG9wIHRoZSBiYXRjaCBmcm9tIHRoZSBsaXN0LlxuICB2YXIgbmV4dCA9IHRoaXMuX25leHQ7XG4gIHRoaXMuX25leHQgPSBudWxsO1xuICBmaXJzdEJhdGNoID0gaW50ZXJuYWxSb290LmZpcnN0QmF0Y2ggPSBuZXh0O1xuXG4gIC8vIEFwcGVuZCB0aGUgbmV4dCBlYXJsaWVzdCBiYXRjaCdzIGNoaWxkcmVuIHRvIHRoZSB1cGRhdGUgcXVldWUuXG4gIGlmIChmaXJzdEJhdGNoICE9PSBudWxsICYmIGZpcnN0QmF0Y2guX2hhc0NoaWxkcmVuKSB7XG4gICAgZmlyc3RCYXRjaC5yZW5kZXIoZmlyc3RCYXRjaC5fY2hpbGRyZW4pO1xuICB9XG59O1xuUmVhY3RCYXRjaC5wcm90b3R5cGUuX29uQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLl9kaWRDb21wbGV0ZSkge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLl9kaWRDb21wbGV0ZSA9IHRydWU7XG4gIHZhciBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3M7XG4gIGlmIChjYWxsYmFja3MgPT09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gVE9ETzogRXJyb3IgaGFuZGxpbmcuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIF9jYWxsYmFjayA9IGNhbGxiYWNrc1tpXTtcbiAgICBfY2FsbGJhY2soKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gUmVhY3RXb3JrKCkge1xuICB0aGlzLl9jYWxsYmFja3MgPSBudWxsO1xuICB0aGlzLl9kaWRDb21taXQgPSBmYWxzZTtcbiAgLy8gVE9ETzogQXZvaWQgbmVlZCB0byBiaW5kIGJ5IHJlcGxhY2luZyBjYWxsYmFja3MgaW4gdGhlIHVwZGF0ZSBxdWV1ZSB3aXRoXG4gIC8vIGxpc3Qgb2YgV29yayBvYmplY3RzLlxuICB0aGlzLl9vbkNvbW1pdCA9IHRoaXMuX29uQ29tbWl0LmJpbmQodGhpcyk7XG59XG5SZWFjdFdvcmsucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbiAob25Db21taXQpIHtcbiAgaWYgKHRoaXMuX2RpZENvbW1pdCkge1xuICAgIG9uQ29tbWl0KCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3M7XG4gIGlmIChjYWxsYmFja3MgPT09IG51bGwpIHtcbiAgICBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgPSBbXTtcbiAgfVxuICBjYWxsYmFja3MucHVzaChvbkNvbW1pdCk7XG59O1xuUmVhY3RXb3JrLnByb3RvdHlwZS5fb25Db21taXQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLl9kaWRDb21taXQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5fZGlkQ29tbWl0ID0gdHJ1ZTtcbiAgdmFyIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcztcbiAgaWYgKGNhbGxiYWNrcyA9PT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBUT0RPOiBFcnJvciBoYW5kbGluZy5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgX2NhbGxiYWNrMiA9IGNhbGxiYWNrc1tpXTtcbiAgICAhKHR5cGVvZiBfY2FsbGJhY2syID09PSAnZnVuY3Rpb24nKSA/IGludmFyaWFudChmYWxzZSwgJ0ludmFsaWQgYXJndW1lbnQgcGFzc2VkIGFzIGNhbGxiYWNrLiBFeHBlY3RlZCBhIGZ1bmN0aW9uLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcycsIF9jYWxsYmFjazIpIDogdm9pZCAwO1xuICAgIF9jYWxsYmFjazIoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gUmVhY3RSb290KGNvbnRhaW5lciwgaXNBc3luYywgaHlkcmF0ZSkge1xuICB2YXIgcm9vdCA9IERPTVJlbmRlcmVyLmNyZWF0ZUNvbnRhaW5lcihjb250YWluZXIsIGlzQXN5bmMsIGh5ZHJhdGUpO1xuICB0aGlzLl9pbnRlcm5hbFJvb3QgPSByb290O1xufVxuUmVhY3RSb290LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoY2hpbGRyZW4sIGNhbGxiYWNrKSB7XG4gIHZhciByb290ID0gdGhpcy5faW50ZXJuYWxSb290O1xuICB2YXIgd29yayA9IG5ldyBSZWFjdFdvcmsoKTtcbiAgY2FsbGJhY2sgPSBjYWxsYmFjayA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGNhbGxiYWNrO1xuICB7XG4gICAgd2Fybk9uSW52YWxpZENhbGxiYWNrKGNhbGxiYWNrLCAncmVuZGVyJyk7XG4gIH1cbiAgaWYgKGNhbGxiYWNrICE9PSBudWxsKSB7XG4gICAgd29yay50aGVuKGNhbGxiYWNrKTtcbiAgfVxuICBET01SZW5kZXJlci51cGRhdGVDb250YWluZXIoY2hpbGRyZW4sIHJvb3QsIG51bGwsIHdvcmsuX29uQ29tbWl0KTtcbiAgcmV0dXJuIHdvcms7XG59O1xuUmVhY3RSb290LnByb3RvdHlwZS51bm1vdW50ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIHZhciByb290ID0gdGhpcy5faW50ZXJuYWxSb290O1xuICB2YXIgd29yayA9IG5ldyBSZWFjdFdvcmsoKTtcbiAgY2FsbGJhY2sgPSBjYWxsYmFjayA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGNhbGxiYWNrO1xuICB7XG4gICAgd2Fybk9uSW52YWxpZENhbGxiYWNrKGNhbGxiYWNrLCAncmVuZGVyJyk7XG4gIH1cbiAgaWYgKGNhbGxiYWNrICE9PSBudWxsKSB7XG4gICAgd29yay50aGVuKGNhbGxiYWNrKTtcbiAgfVxuICBET01SZW5kZXJlci51cGRhdGVDb250YWluZXIobnVsbCwgcm9vdCwgbnVsbCwgd29yay5fb25Db21taXQpO1xuICByZXR1cm4gd29yaztcbn07XG5SZWFjdFJvb3QucHJvdG90eXBlLmxlZ2FjeV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lciA9IGZ1bmN0aW9uIChwYXJlbnRDb21wb25lbnQsIGNoaWxkcmVuLCBjYWxsYmFjaykge1xuICB2YXIgcm9vdCA9IHRoaXMuX2ludGVybmFsUm9vdDtcbiAgdmFyIHdvcmsgPSBuZXcgUmVhY3RXb3JrKCk7XG4gIGNhbGxiYWNrID0gY2FsbGJhY2sgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjYWxsYmFjaztcbiAge1xuICAgIHdhcm5PbkludmFsaWRDYWxsYmFjayhjYWxsYmFjaywgJ3JlbmRlcicpO1xuICB9XG4gIGlmIChjYWxsYmFjayAhPT0gbnVsbCkge1xuICAgIHdvcmsudGhlbihjYWxsYmFjayk7XG4gIH1cbiAgRE9NUmVuZGVyZXIudXBkYXRlQ29udGFpbmVyKGNoaWxkcmVuLCByb290LCBwYXJlbnRDb21wb25lbnQsIHdvcmsuX29uQ29tbWl0KTtcbiAgcmV0dXJuIHdvcms7XG59O1xuUmVhY3RSb290LnByb3RvdHlwZS5jcmVhdGVCYXRjaCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGJhdGNoID0gbmV3IFJlYWN0QmF0Y2godGhpcyk7XG4gIHZhciBleHBpcmF0aW9uVGltZSA9IGJhdGNoLl9leHBpcmF0aW9uVGltZTtcblxuICB2YXIgaW50ZXJuYWxSb290ID0gdGhpcy5faW50ZXJuYWxSb290O1xuICB2YXIgZmlyc3RCYXRjaCA9IGludGVybmFsUm9vdC5maXJzdEJhdGNoO1xuICBpZiAoZmlyc3RCYXRjaCA9PT0gbnVsbCkge1xuICAgIGludGVybmFsUm9vdC5maXJzdEJhdGNoID0gYmF0Y2g7XG4gICAgYmF0Y2guX25leHQgPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIC8vIEluc2VydCBzb3J0ZWQgYnkgZXhwaXJhdGlvbiB0aW1lIHRoZW4gaW5zZXJ0aW9uIG9yZGVyXG4gICAgdmFyIGluc2VydEFmdGVyID0gbnVsbDtcbiAgICB2YXIgaW5zZXJ0QmVmb3JlID0gZmlyc3RCYXRjaDtcbiAgICB3aGlsZSAoaW5zZXJ0QmVmb3JlICE9PSBudWxsICYmIGluc2VydEJlZm9yZS5fZXhwaXJhdGlvblRpbWUgPD0gZXhwaXJhdGlvblRpbWUpIHtcbiAgICAgIGluc2VydEFmdGVyID0gaW5zZXJ0QmVmb3JlO1xuICAgICAgaW5zZXJ0QmVmb3JlID0gaW5zZXJ0QmVmb3JlLl9uZXh0O1xuICAgIH1cbiAgICBiYXRjaC5fbmV4dCA9IGluc2VydEJlZm9yZTtcbiAgICBpZiAoaW5zZXJ0QWZ0ZXIgIT09IG51bGwpIHtcbiAgICAgIGluc2VydEFmdGVyLl9uZXh0ID0gYmF0Y2g7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJhdGNoO1xufTtcblxuLyoqXG4gKiBUcnVlIGlmIHRoZSBzdXBwbGllZCBET00gbm9kZSBpcyBhIHZhbGlkIG5vZGUgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0gez9ET01FbGVtZW50fSBub2RlIFRoZSBjYW5kaWRhdGUgRE9NIG5vZGUuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBET00gaXMgYSB2YWxpZCBET00gbm9kZS5cbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBpc1ZhbGlkQ29udGFpbmVyKG5vZGUpIHtcbiAgcmV0dXJuICEhKG5vZGUgJiYgKG5vZGUubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSB8fCBub2RlLm5vZGVUeXBlID09PSBET0NVTUVOVF9OT0RFIHx8IG5vZGUubm9kZVR5cGUgPT09IERPQ1VNRU5UX0ZSQUdNRU5UX05PREUgfHwgbm9kZS5ub2RlVHlwZSA9PT0gQ09NTUVOVF9OT0RFICYmIG5vZGUubm9kZVZhbHVlID09PSAnIHJlYWN0LW1vdW50LXBvaW50LXVuc3RhYmxlICcpKTtcbn1cblxuZnVuY3Rpb24gZ2V0UmVhY3RSb290RWxlbWVudEluQ29udGFpbmVyKGNvbnRhaW5lcikge1xuICBpZiAoIWNvbnRhaW5lcikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gRE9DVU1FTlRfTk9ERSkge1xuICAgIHJldHVybiBjb250YWluZXIuZG9jdW1lbnRFbGVtZW50O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjb250YWluZXIuZmlyc3RDaGlsZDtcbiAgfVxufVxuXG5mdW5jdGlvbiBzaG91bGRIeWRyYXRlRHVlVG9MZWdhY3lIZXVyaXN0aWMoY29udGFpbmVyKSB7XG4gIHZhciByb290RWxlbWVudCA9IGdldFJlYWN0Um9vdEVsZW1lbnRJbkNvbnRhaW5lcihjb250YWluZXIpO1xuICByZXR1cm4gISEocm9vdEVsZW1lbnQgJiYgcm9vdEVsZW1lbnQubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSAmJiByb290RWxlbWVudC5oYXNBdHRyaWJ1dGUoUk9PVF9BVFRSSUJVVEVfTkFNRSkpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRBdXRvRm9jdXNIb3N0Q29tcG9uZW50KHR5cGUsIHByb3BzKSB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ2J1dHRvbic6XG4gICAgY2FzZSAnaW5wdXQnOlxuICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgcmV0dXJuICEhcHJvcHMuYXV0b0ZvY3VzO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxudmFyIERPTVJlbmRlcmVyID0gcmVhY3RSZWNvbmNpbGVyKHtcbiAgZ2V0Um9vdEhvc3RDb250ZXh0OiBmdW5jdGlvbiAocm9vdENvbnRhaW5lckluc3RhbmNlKSB7XG4gICAgdmFyIHR5cGUgPSB2b2lkIDA7XG4gICAgdmFyIG5hbWVzcGFjZSA9IHZvaWQgMDtcbiAgICB2YXIgbm9kZVR5cGUgPSByb290Q29udGFpbmVySW5zdGFuY2Uubm9kZVR5cGU7XG4gICAgc3dpdGNoIChub2RlVHlwZSkge1xuICAgICAgY2FzZSBET0NVTUVOVF9OT0RFOlxuICAgICAgY2FzZSBET0NVTUVOVF9GUkFHTUVOVF9OT0RFOlxuICAgICAgICB7XG4gICAgICAgICAgdHlwZSA9IG5vZGVUeXBlID09PSBET0NVTUVOVF9OT0RFID8gJyNkb2N1bWVudCcgOiAnI2ZyYWdtZW50JztcbiAgICAgICAgICB2YXIgcm9vdCA9IHJvb3RDb250YWluZXJJbnN0YW5jZS5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgICAgbmFtZXNwYWNlID0gcm9vdCA/IHJvb3QubmFtZXNwYWNlVVJJIDogZ2V0Q2hpbGROYW1lc3BhY2UobnVsbCwgJycpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIGNvbnRhaW5lciA9IG5vZGVUeXBlID09PSBDT01NRU5UX05PREUgPyByb290Q29udGFpbmVySW5zdGFuY2UucGFyZW50Tm9kZSA6IHJvb3RDb250YWluZXJJbnN0YW5jZTtcbiAgICAgICAgICB2YXIgb3duTmFtZXNwYWNlID0gY29udGFpbmVyLm5hbWVzcGFjZVVSSSB8fCBudWxsO1xuICAgICAgICAgIHR5cGUgPSBjb250YWluZXIudGFnTmFtZTtcbiAgICAgICAgICBuYW1lc3BhY2UgPSBnZXRDaGlsZE5hbWVzcGFjZShvd25OYW1lc3BhY2UsIHR5cGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHtcbiAgICAgIHZhciB2YWxpZGF0ZWRUYWcgPSB0eXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgICB2YXIgX2FuY2VzdG9ySW5mbyA9IHVwZGF0ZWRBbmNlc3RvckluZm8obnVsbCwgdmFsaWRhdGVkVGFnLCBudWxsKTtcbiAgICAgIHJldHVybiB7IG5hbWVzcGFjZTogbmFtZXNwYWNlLCBhbmNlc3RvckluZm86IF9hbmNlc3RvckluZm8gfTtcbiAgICB9XG4gICAgcmV0dXJuIG5hbWVzcGFjZTtcbiAgfSxcbiAgZ2V0Q2hpbGRIb3N0Q29udGV4dDogZnVuY3Rpb24gKHBhcmVudEhvc3RDb250ZXh0LCB0eXBlKSB7XG4gICAge1xuICAgICAgdmFyIHBhcmVudEhvc3RDb250ZXh0RGV2ID0gcGFyZW50SG9zdENvbnRleHQ7XG4gICAgICB2YXIgX25hbWVzcGFjZSA9IGdldENoaWxkTmFtZXNwYWNlKHBhcmVudEhvc3RDb250ZXh0RGV2Lm5hbWVzcGFjZSwgdHlwZSk7XG4gICAgICB2YXIgX2FuY2VzdG9ySW5mbzIgPSB1cGRhdGVkQW5jZXN0b3JJbmZvKHBhcmVudEhvc3RDb250ZXh0RGV2LmFuY2VzdG9ySW5mbywgdHlwZSwgbnVsbCk7XG4gICAgICByZXR1cm4geyBuYW1lc3BhY2U6IF9uYW1lc3BhY2UsIGFuY2VzdG9ySW5mbzogX2FuY2VzdG9ySW5mbzIgfTtcbiAgICB9XG4gICAgdmFyIHBhcmVudE5hbWVzcGFjZSA9IHBhcmVudEhvc3RDb250ZXh0O1xuICAgIHJldHVybiBnZXRDaGlsZE5hbWVzcGFjZShwYXJlbnROYW1lc3BhY2UsIHR5cGUpO1xuICB9LFxuICBnZXRQdWJsaWNJbnN0YW5jZTogZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9LFxuICBwcmVwYXJlRm9yQ29tbWl0OiBmdW5jdGlvbiAoKSB7XG4gICAgZXZlbnRzRW5hYmxlZCA9IGlzRW5hYmxlZCgpO1xuICAgIHNlbGVjdGlvbkluZm9ybWF0aW9uID0gZ2V0U2VsZWN0aW9uSW5mb3JtYXRpb24oKTtcbiAgICBzZXRFbmFibGVkKGZhbHNlKTtcbiAgfSxcbiAgcmVzZXRBZnRlckNvbW1pdDogZnVuY3Rpb24gKCkge1xuICAgIHJlc3RvcmVTZWxlY3Rpb24oc2VsZWN0aW9uSW5mb3JtYXRpb24pO1xuICAgIHNlbGVjdGlvbkluZm9ybWF0aW9uID0gbnVsbDtcbiAgICBzZXRFbmFibGVkKGV2ZW50c0VuYWJsZWQpO1xuICAgIGV2ZW50c0VuYWJsZWQgPSBudWxsO1xuICB9LFxuICBjcmVhdGVJbnN0YW5jZTogZnVuY3Rpb24gKHR5cGUsIHByb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UsIGhvc3RDb250ZXh0LCBpbnRlcm5hbEluc3RhbmNlSGFuZGxlKSB7XG4gICAgdmFyIHBhcmVudE5hbWVzcGFjZSA9IHZvaWQgMDtcbiAgICB7XG4gICAgICAvLyBUT0RPOiB0YWtlIG5hbWVzcGFjZSBpbnRvIGFjY291bnQgd2hlbiB2YWxpZGF0aW5nLlxuICAgICAgdmFyIGhvc3RDb250ZXh0RGV2ID0gaG9zdENvbnRleHQ7XG4gICAgICB2YWxpZGF0ZURPTU5lc3RpbmckMSh0eXBlLCBudWxsLCBob3N0Q29udGV4dERldi5hbmNlc3RvckluZm8pO1xuICAgICAgaWYgKHR5cGVvZiBwcm9wcy5jaGlsZHJlbiA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHByb3BzLmNoaWxkcmVuID09PSAnbnVtYmVyJykge1xuICAgICAgICB2YXIgc3RyaW5nID0gJycgKyBwcm9wcy5jaGlsZHJlbjtcbiAgICAgICAgdmFyIG93bkFuY2VzdG9ySW5mbyA9IHVwZGF0ZWRBbmNlc3RvckluZm8oaG9zdENvbnRleHREZXYuYW5jZXN0b3JJbmZvLCB0eXBlLCBudWxsKTtcbiAgICAgICAgdmFsaWRhdGVET01OZXN0aW5nJDEobnVsbCwgc3RyaW5nLCBvd25BbmNlc3RvckluZm8pO1xuICAgICAgfVxuICAgICAgcGFyZW50TmFtZXNwYWNlID0gaG9zdENvbnRleHREZXYubmFtZXNwYWNlO1xuICAgIH1cbiAgICB2YXIgZG9tRWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQodHlwZSwgcHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgcGFyZW50TmFtZXNwYWNlKTtcbiAgICBwcmVjYWNoZUZpYmVyTm9kZShpbnRlcm5hbEluc3RhbmNlSGFuZGxlLCBkb21FbGVtZW50KTtcbiAgICB1cGRhdGVGaWJlclByb3BzKGRvbUVsZW1lbnQsIHByb3BzKTtcbiAgICByZXR1cm4gZG9tRWxlbWVudDtcbiAgfSxcbiAgYXBwZW5kSW5pdGlhbENoaWxkOiBmdW5jdGlvbiAocGFyZW50SW5zdGFuY2UsIGNoaWxkKSB7XG4gICAgcGFyZW50SW5zdGFuY2UuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICB9LFxuICBmaW5hbGl6ZUluaXRpYWxDaGlsZHJlbjogZnVuY3Rpb24gKGRvbUVsZW1lbnQsIHR5cGUsIHByb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UpIHtcbiAgICBzZXRJbml0aWFsUHJvcGVydGllcyhkb21FbGVtZW50LCB0eXBlLCBwcm9wcywgcm9vdENvbnRhaW5lckluc3RhbmNlKTtcbiAgICByZXR1cm4gc2hvdWxkQXV0b0ZvY3VzSG9zdENvbXBvbmVudCh0eXBlLCBwcm9wcyk7XG4gIH0sXG4gIHByZXBhcmVVcGRhdGU6IGZ1bmN0aW9uIChkb21FbGVtZW50LCB0eXBlLCBvbGRQcm9wcywgbmV3UHJvcHMsIHJvb3RDb250YWluZXJJbnN0YW5jZSwgaG9zdENvbnRleHQpIHtcbiAgICB7XG4gICAgICB2YXIgaG9zdENvbnRleHREZXYgPSBob3N0Q29udGV4dDtcbiAgICAgIGlmICh0eXBlb2YgbmV3UHJvcHMuY2hpbGRyZW4gIT09IHR5cGVvZiBvbGRQcm9wcy5jaGlsZHJlbiAmJiAodHlwZW9mIG5ld1Byb3BzLmNoaWxkcmVuID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgbmV3UHJvcHMuY2hpbGRyZW4gPT09ICdudW1iZXInKSkge1xuICAgICAgICB2YXIgc3RyaW5nID0gJycgKyBuZXdQcm9wcy5jaGlsZHJlbjtcbiAgICAgICAgdmFyIG93bkFuY2VzdG9ySW5mbyA9IHVwZGF0ZWRBbmNlc3RvckluZm8oaG9zdENvbnRleHREZXYuYW5jZXN0b3JJbmZvLCB0eXBlLCBudWxsKTtcbiAgICAgICAgdmFsaWRhdGVET01OZXN0aW5nJDEobnVsbCwgc3RyaW5nLCBvd25BbmNlc3RvckluZm8pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGlmZlByb3BlcnRpZXMoZG9tRWxlbWVudCwgdHlwZSwgb2xkUHJvcHMsIG5ld1Byb3BzLCByb290Q29udGFpbmVySW5zdGFuY2UpO1xuICB9LFxuICBzaG91bGRTZXRUZXh0Q29udGVudDogZnVuY3Rpb24gKHR5cGUsIHByb3BzKSB7XG4gICAgcmV0dXJuIHR5cGUgPT09ICd0ZXh0YXJlYScgfHwgdHlwZW9mIHByb3BzLmNoaWxkcmVuID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgcHJvcHMuY2hpbGRyZW4gPT09ICdudW1iZXInIHx8IHR5cGVvZiBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCA9PT0gJ29iamVjdCcgJiYgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgIT09IG51bGwgJiYgdHlwZW9mIHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLl9faHRtbCA9PT0gJ3N0cmluZyc7XG4gIH0sXG4gIHNob3VsZERlcHJpb3JpdGl6ZVN1YnRyZWU6IGZ1bmN0aW9uICh0eXBlLCBwcm9wcykge1xuICAgIHJldHVybiAhIXByb3BzLmhpZGRlbjtcbiAgfSxcbiAgY3JlYXRlVGV4dEluc3RhbmNlOiBmdW5jdGlvbiAodGV4dCwgcm9vdENvbnRhaW5lckluc3RhbmNlLCBob3N0Q29udGV4dCwgaW50ZXJuYWxJbnN0YW5jZUhhbmRsZSkge1xuICAgIHtcbiAgICAgIHZhciBob3N0Q29udGV4dERldiA9IGhvc3RDb250ZXh0O1xuICAgICAgdmFsaWRhdGVET01OZXN0aW5nJDEobnVsbCwgdGV4dCwgaG9zdENvbnRleHREZXYuYW5jZXN0b3JJbmZvKTtcbiAgICB9XG4gICAgdmFyIHRleHROb2RlID0gY3JlYXRlVGV4dE5vZGUodGV4dCwgcm9vdENvbnRhaW5lckluc3RhbmNlKTtcbiAgICBwcmVjYWNoZUZpYmVyTm9kZShpbnRlcm5hbEluc3RhbmNlSGFuZGxlLCB0ZXh0Tm9kZSk7XG4gICAgcmV0dXJuIHRleHROb2RlO1xuICB9LFxuXG5cbiAgbm93OiBub3csXG5cbiAgbXV0YXRpb246IHtcbiAgICBjb21taXRNb3VudDogZnVuY3Rpb24gKGRvbUVsZW1lbnQsIHR5cGUsIG5ld1Byb3BzLCBpbnRlcm5hbEluc3RhbmNlSGFuZGxlKSB7XG4gICAgICAvLyBEZXNwaXRlIHRoZSBuYW1pbmcgdGhhdCBtaWdodCBpbXBseSBvdGhlcndpc2UsIHRoaXMgbWV0aG9kIG9ubHlcbiAgICAgIC8vIGZpcmVzIGlmIHRoZXJlIGlzIGFuIGBVcGRhdGVgIGVmZmVjdCBzY2hlZHVsZWQgZHVyaW5nIG1vdW50aW5nLlxuICAgICAgLy8gVGhpcyBoYXBwZW5zIGlmIGBmaW5hbGl6ZUluaXRpYWxDaGlsZHJlbmAgcmV0dXJucyBgdHJ1ZWAgKHdoaWNoIGl0XG4gICAgICAvLyBkb2VzIHRvIGltcGxlbWVudCB0aGUgYGF1dG9Gb2N1c2AgYXR0cmlidXRlIG9uIHRoZSBjbGllbnQpLiBCdXRcbiAgICAgIC8vIHRoZXJlIGFyZSBhbHNvIG90aGVyIGNhc2VzIHdoZW4gdGhpcyBtaWdodCBoYXBwZW4gKHN1Y2ggYXMgcGF0Y2hpbmdcbiAgICAgIC8vIHVwIHRleHQgY29udGVudCBkdXJpbmcgaHlkcmF0aW9uIG1pc21hdGNoKS4gU28gd2UnbGwgY2hlY2sgdGhpcyBhZ2Fpbi5cbiAgICAgIGlmIChzaG91bGRBdXRvRm9jdXNIb3N0Q29tcG9uZW50KHR5cGUsIG5ld1Byb3BzKSkge1xuICAgICAgICBkb21FbGVtZW50LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBjb21taXRVcGRhdGU6IGZ1bmN0aW9uIChkb21FbGVtZW50LCB1cGRhdGVQYXlsb2FkLCB0eXBlLCBvbGRQcm9wcywgbmV3UHJvcHMsIGludGVybmFsSW5zdGFuY2VIYW5kbGUpIHtcbiAgICAgIC8vIFVwZGF0ZSB0aGUgcHJvcHMgaGFuZGxlIHNvIHRoYXQgd2Uga25vdyB3aGljaCBwcm9wcyBhcmUgdGhlIG9uZXMgd2l0aFxuICAgICAgLy8gd2l0aCBjdXJyZW50IGV2ZW50IGhhbmRsZXJzLlxuICAgICAgdXBkYXRlRmliZXJQcm9wcyhkb21FbGVtZW50LCBuZXdQcm9wcyk7XG4gICAgICAvLyBBcHBseSB0aGUgZGlmZiB0byB0aGUgRE9NIG5vZGUuXG4gICAgICB1cGRhdGVQcm9wZXJ0aWVzKGRvbUVsZW1lbnQsIHVwZGF0ZVBheWxvYWQsIHR5cGUsIG9sZFByb3BzLCBuZXdQcm9wcyk7XG4gICAgfSxcbiAgICByZXNldFRleHRDb250ZW50OiBmdW5jdGlvbiAoZG9tRWxlbWVudCkge1xuICAgICAgc2V0VGV4dENvbnRlbnQoZG9tRWxlbWVudCwgJycpO1xuICAgIH0sXG4gICAgY29tbWl0VGV4dFVwZGF0ZTogZnVuY3Rpb24gKHRleHRJbnN0YW5jZSwgb2xkVGV4dCwgbmV3VGV4dCkge1xuICAgICAgdGV4dEluc3RhbmNlLm5vZGVWYWx1ZSA9IG5ld1RleHQ7XG4gICAgfSxcbiAgICBhcHBlbmRDaGlsZDogZnVuY3Rpb24gKHBhcmVudEluc3RhbmNlLCBjaGlsZCkge1xuICAgICAgcGFyZW50SW5zdGFuY2UuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgIH0sXG4gICAgYXBwZW5kQ2hpbGRUb0NvbnRhaW5lcjogZnVuY3Rpb24gKGNvbnRhaW5lciwgY2hpbGQpIHtcbiAgICAgIGlmIChjb250YWluZXIubm9kZVR5cGUgPT09IENPTU1FTlRfTk9ERSkge1xuICAgICAgICBjb250YWluZXIucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoY2hpbGQsIGNvbnRhaW5lcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgICAgfVxuICAgIH0sXG4gICAgaW5zZXJ0QmVmb3JlOiBmdW5jdGlvbiAocGFyZW50SW5zdGFuY2UsIGNoaWxkLCBiZWZvcmVDaGlsZCkge1xuICAgICAgcGFyZW50SW5zdGFuY2UuaW5zZXJ0QmVmb3JlKGNoaWxkLCBiZWZvcmVDaGlsZCk7XG4gICAgfSxcbiAgICBpbnNlcnRJbkNvbnRhaW5lckJlZm9yZTogZnVuY3Rpb24gKGNvbnRhaW5lciwgY2hpbGQsIGJlZm9yZUNoaWxkKSB7XG4gICAgICBpZiAoY29udGFpbmVyLm5vZGVUeXBlID09PSBDT01NRU5UX05PREUpIHtcbiAgICAgICAgY29udGFpbmVyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGNoaWxkLCBiZWZvcmVDaGlsZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKGNoaWxkLCBiZWZvcmVDaGlsZCk7XG4gICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVDaGlsZDogZnVuY3Rpb24gKHBhcmVudEluc3RhbmNlLCBjaGlsZCkge1xuICAgICAgcGFyZW50SW5zdGFuY2UucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgIH0sXG4gICAgcmVtb3ZlQ2hpbGRGcm9tQ29udGFpbmVyOiBmdW5jdGlvbiAoY29udGFpbmVyLCBjaGlsZCkge1xuICAgICAgaWYgKGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gQ09NTUVOVF9OT0RFKSB7XG4gICAgICAgIGNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIGh5ZHJhdGlvbjoge1xuICAgIGNhbkh5ZHJhdGVJbnN0YW5jZTogZnVuY3Rpb24gKGluc3RhbmNlLCB0eXBlLCBwcm9wcykge1xuICAgICAgaWYgKGluc3RhbmNlLm5vZGVUeXBlICE9PSBFTEVNRU5UX05PREUgfHwgdHlwZS50b0xvd2VyQ2FzZSgpICE9PSBpbnN0YW5jZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgLy8gVGhpcyBoYXMgbm93IGJlZW4gcmVmaW5lZCB0byBhbiBlbGVtZW50IG5vZGUuXG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfSxcbiAgICBjYW5IeWRyYXRlVGV4dEluc3RhbmNlOiBmdW5jdGlvbiAoaW5zdGFuY2UsIHRleHQpIHtcbiAgICAgIGlmICh0ZXh0ID09PSAnJyB8fCBpbnN0YW5jZS5ub2RlVHlwZSAhPT0gVEVYVF9OT0RFKSB7XG4gICAgICAgIC8vIEVtcHR5IHN0cmluZ3MgYXJlIG5vdCBwYXJzZWQgYnkgSFRNTCBzbyB0aGVyZSB3b24ndCBiZSBhIGNvcnJlY3QgbWF0Y2ggaGVyZS5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICAvLyBUaGlzIGhhcyBub3cgYmVlbiByZWZpbmVkIHRvIGEgdGV4dCBub2RlLlxuICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH0sXG4gICAgZ2V0TmV4dEh5ZHJhdGFibGVTaWJsaW5nOiBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICAgIHZhciBub2RlID0gaW5zdGFuY2UubmV4dFNpYmxpbmc7XG4gICAgICAvLyBTa2lwIG5vbi1oeWRyYXRhYmxlIG5vZGVzLlxuICAgICAgd2hpbGUgKG5vZGUgJiYgbm9kZS5ub2RlVHlwZSAhPT0gRUxFTUVOVF9OT0RFICYmIG5vZGUubm9kZVR5cGUgIT09IFRFWFRfTk9ERSkge1xuICAgICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBub2RlO1xuICAgIH0sXG4gICAgZ2V0Rmlyc3RIeWRyYXRhYmxlQ2hpbGQ6IGZ1bmN0aW9uIChwYXJlbnRJbnN0YW5jZSkge1xuICAgICAgdmFyIG5leHQgPSBwYXJlbnRJbnN0YW5jZS5maXJzdENoaWxkO1xuICAgICAgLy8gU2tpcCBub24taHlkcmF0YWJsZSBub2Rlcy5cbiAgICAgIHdoaWxlIChuZXh0ICYmIG5leHQubm9kZVR5cGUgIT09IEVMRU1FTlRfTk9ERSAmJiBuZXh0Lm5vZGVUeXBlICE9PSBURVhUX05PREUpIHtcbiAgICAgICAgbmV4dCA9IG5leHQubmV4dFNpYmxpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9LFxuICAgIGh5ZHJhdGVJbnN0YW5jZTogZnVuY3Rpb24gKGluc3RhbmNlLCB0eXBlLCBwcm9wcywgcm9vdENvbnRhaW5lckluc3RhbmNlLCBob3N0Q29udGV4dCwgaW50ZXJuYWxJbnN0YW5jZUhhbmRsZSkge1xuICAgICAgcHJlY2FjaGVGaWJlck5vZGUoaW50ZXJuYWxJbnN0YW5jZUhhbmRsZSwgaW5zdGFuY2UpO1xuICAgICAgLy8gVE9ETzogUG9zc2libHkgZGVmZXIgdGhpcyB1bnRpbCB0aGUgY29tbWl0IHBoYXNlIHdoZXJlIGFsbCB0aGUgZXZlbnRzXG4gICAgICAvLyBnZXQgYXR0YWNoZWQuXG4gICAgICB1cGRhdGVGaWJlclByb3BzKGluc3RhbmNlLCBwcm9wcyk7XG4gICAgICB2YXIgcGFyZW50TmFtZXNwYWNlID0gdm9pZCAwO1xuICAgICAge1xuICAgICAgICB2YXIgaG9zdENvbnRleHREZXYgPSBob3N0Q29udGV4dDtcbiAgICAgICAgcGFyZW50TmFtZXNwYWNlID0gaG9zdENvbnRleHREZXYubmFtZXNwYWNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRpZmZIeWRyYXRlZFByb3BlcnRpZXMoaW5zdGFuY2UsIHR5cGUsIHByb3BzLCBwYXJlbnROYW1lc3BhY2UsIHJvb3RDb250YWluZXJJbnN0YW5jZSk7XG4gICAgfSxcbiAgICBoeWRyYXRlVGV4dEluc3RhbmNlOiBmdW5jdGlvbiAodGV4dEluc3RhbmNlLCB0ZXh0LCBpbnRlcm5hbEluc3RhbmNlSGFuZGxlKSB7XG4gICAgICBwcmVjYWNoZUZpYmVyTm9kZShpbnRlcm5hbEluc3RhbmNlSGFuZGxlLCB0ZXh0SW5zdGFuY2UpO1xuICAgICAgcmV0dXJuIGRpZmZIeWRyYXRlZFRleHQodGV4dEluc3RhbmNlLCB0ZXh0KTtcbiAgICB9LFxuICAgIGRpZE5vdE1hdGNoSHlkcmF0ZWRDb250YWluZXJUZXh0SW5zdGFuY2U6IGZ1bmN0aW9uIChwYXJlbnRDb250YWluZXIsIHRleHRJbnN0YW5jZSwgdGV4dCkge1xuICAgICAge1xuICAgICAgICB3YXJuRm9yVW5tYXRjaGVkVGV4dCh0ZXh0SW5zdGFuY2UsIHRleHQpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZGlkTm90TWF0Y2hIeWRyYXRlZFRleHRJbnN0YW5jZTogZnVuY3Rpb24gKHBhcmVudFR5cGUsIHBhcmVudFByb3BzLCBwYXJlbnRJbnN0YW5jZSwgdGV4dEluc3RhbmNlLCB0ZXh0KSB7XG4gICAgICBpZiAodHJ1ZSAmJiBwYXJlbnRQcm9wc1tTVVBQUkVTU19IWURSQVRJT05fV0FSTklOR10gIT09IHRydWUpIHtcbiAgICAgICAgd2FybkZvclVubWF0Y2hlZFRleHQodGV4dEluc3RhbmNlLCB0ZXh0KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGRpZE5vdEh5ZHJhdGVDb250YWluZXJJbnN0YW5jZTogZnVuY3Rpb24gKHBhcmVudENvbnRhaW5lciwgaW5zdGFuY2UpIHtcbiAgICAgIHtcbiAgICAgICAgaWYgKGluc3RhbmNlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgd2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlRWxlbWVudChwYXJlbnRDb250YWluZXIsIGluc3RhbmNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3YXJuRm9yRGVsZXRlZEh5ZHJhdGFibGVUZXh0KHBhcmVudENvbnRhaW5lciwgaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBkaWROb3RIeWRyYXRlSW5zdGFuY2U6IGZ1bmN0aW9uIChwYXJlbnRUeXBlLCBwYXJlbnRQcm9wcywgcGFyZW50SW5zdGFuY2UsIGluc3RhbmNlKSB7XG4gICAgICBpZiAodHJ1ZSAmJiBwYXJlbnRQcm9wc1tTVVBQUkVTU19IWURSQVRJT05fV0FSTklOR10gIT09IHRydWUpIHtcbiAgICAgICAgaWYgKGluc3RhbmNlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgd2FybkZvckRlbGV0ZWRIeWRyYXRhYmxlRWxlbWVudChwYXJlbnRJbnN0YW5jZSwgaW5zdGFuY2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdhcm5Gb3JEZWxldGVkSHlkcmF0YWJsZVRleHQocGFyZW50SW5zdGFuY2UsIGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZGlkTm90RmluZEh5ZHJhdGFibGVDb250YWluZXJJbnN0YW5jZTogZnVuY3Rpb24gKHBhcmVudENvbnRhaW5lciwgdHlwZSwgcHJvcHMpIHtcbiAgICAgIHtcbiAgICAgICAgd2FybkZvckluc2VydGVkSHlkcmF0ZWRFbGVtZW50KHBhcmVudENvbnRhaW5lciwgdHlwZSwgcHJvcHMpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZGlkTm90RmluZEh5ZHJhdGFibGVDb250YWluZXJUZXh0SW5zdGFuY2U6IGZ1bmN0aW9uIChwYXJlbnRDb250YWluZXIsIHRleHQpIHtcbiAgICAgIHtcbiAgICAgICAgd2FybkZvckluc2VydGVkSHlkcmF0ZWRUZXh0KHBhcmVudENvbnRhaW5lciwgdGV4dCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkaWROb3RGaW5kSHlkcmF0YWJsZUluc3RhbmNlOiBmdW5jdGlvbiAocGFyZW50VHlwZSwgcGFyZW50UHJvcHMsIHBhcmVudEluc3RhbmNlLCB0eXBlLCBwcm9wcykge1xuICAgICAgaWYgKHRydWUgJiYgcGFyZW50UHJvcHNbU1VQUFJFU1NfSFlEUkFUSU9OX1dBUk5JTkddICE9PSB0cnVlKSB7XG4gICAgICAgIHdhcm5Gb3JJbnNlcnRlZEh5ZHJhdGVkRWxlbWVudChwYXJlbnRJbnN0YW5jZSwgdHlwZSwgcHJvcHMpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZGlkTm90RmluZEh5ZHJhdGFibGVUZXh0SW5zdGFuY2U6IGZ1bmN0aW9uIChwYXJlbnRUeXBlLCBwYXJlbnRQcm9wcywgcGFyZW50SW5zdGFuY2UsIHRleHQpIHtcbiAgICAgIGlmICh0cnVlICYmIHBhcmVudFByb3BzW1NVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HXSAhPT0gdHJ1ZSkge1xuICAgICAgICB3YXJuRm9ySW5zZXJ0ZWRIeWRyYXRlZFRleHQocGFyZW50SW5zdGFuY2UsIHRleHQpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBzY2hlZHVsZURlZmVycmVkQ2FsbGJhY2s6IHJJQyxcbiAgY2FuY2VsRGVmZXJyZWRDYWxsYmFjazogY0lDXG59KTtcblxuaW5qZWN0aW9uJDMuaW5qZWN0UmVuZGVyZXIoRE9NUmVuZGVyZXIpO1xuXG52YXIgd2FybmVkQWJvdXRIeWRyYXRlQVBJID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGxlZ2FjeUNyZWF0ZVJvb3RGcm9tRE9NQ29udGFpbmVyKGNvbnRhaW5lciwgZm9yY2VIeWRyYXRlKSB7XG4gIHZhciBzaG91bGRIeWRyYXRlID0gZm9yY2VIeWRyYXRlIHx8IHNob3VsZEh5ZHJhdGVEdWVUb0xlZ2FjeUhldXJpc3RpYyhjb250YWluZXIpO1xuICAvLyBGaXJzdCBjbGVhciBhbnkgZXhpc3RpbmcgY29udGVudC5cbiAgaWYgKCFzaG91bGRIeWRyYXRlKSB7XG4gICAgdmFyIHdhcm5lZCA9IGZhbHNlO1xuICAgIHZhciByb290U2libGluZyA9IHZvaWQgMDtcbiAgICB3aGlsZSAocm9vdFNpYmxpbmcgPSBjb250YWluZXIubGFzdENoaWxkKSB7XG4gICAgICB7XG4gICAgICAgIGlmICghd2FybmVkICYmIHJvb3RTaWJsaW5nLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREUgJiYgcm9vdFNpYmxpbmcuaGFzQXR0cmlidXRlKFJPT1RfQVRUUklCVVRFX05BTUUpKSB7XG4gICAgICAgICAgd2FybmVkID0gdHJ1ZTtcbiAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAncmVuZGVyKCk6IFRhcmdldCBub2RlIGhhcyBtYXJrdXAgcmVuZGVyZWQgYnkgUmVhY3QsIGJ1dCB0aGVyZSAnICsgJ2FyZSB1bnJlbGF0ZWQgbm9kZXMgYXMgd2VsbC4gVGhpcyBpcyBtb3N0IGNvbW1vbmx5IGNhdXNlZCBieSAnICsgJ3doaXRlLXNwYWNlIGluc2VydGVkIGFyb3VuZCBzZXJ2ZXItcmVuZGVyZWQgbWFya3VwLicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQocm9vdFNpYmxpbmcpO1xuICAgIH1cbiAgfVxuICB7XG4gICAgaWYgKHNob3VsZEh5ZHJhdGUgJiYgIWZvcmNlSHlkcmF0ZSAmJiAhd2FybmVkQWJvdXRIeWRyYXRlQVBJKSB7XG4gICAgICB3YXJuZWRBYm91dEh5ZHJhdGVBUEkgPSB0cnVlO1xuICAgICAgbG93UHJpb3JpdHlXYXJuaW5nJDEoZmFsc2UsICdyZW5kZXIoKTogQ2FsbGluZyBSZWFjdERPTS5yZW5kZXIoKSB0byBoeWRyYXRlIHNlcnZlci1yZW5kZXJlZCBtYXJrdXAgJyArICd3aWxsIHN0b3Agd29ya2luZyBpbiBSZWFjdCB2MTcuIFJlcGxhY2UgdGhlIFJlYWN0RE9NLnJlbmRlcigpIGNhbGwgJyArICd3aXRoIFJlYWN0RE9NLmh5ZHJhdGUoKSBpZiB5b3Ugd2FudCBSZWFjdCB0byBhdHRhY2ggdG8gdGhlIHNlcnZlciBIVE1MLicpO1xuICAgIH1cbiAgfVxuICAvLyBMZWdhY3kgcm9vdHMgYXJlIG5vdCBhc3luYyBieSBkZWZhdWx0LlxuICB2YXIgaXNBc3luYyA9IGZhbHNlO1xuICByZXR1cm4gbmV3IFJlYWN0Um9vdChjb250YWluZXIsIGlzQXN5bmMsIHNob3VsZEh5ZHJhdGUpO1xufVxuXG5mdW5jdGlvbiBsZWdhY3lSZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcihwYXJlbnRDb21wb25lbnQsIGNoaWxkcmVuLCBjb250YWluZXIsIGZvcmNlSHlkcmF0ZSwgY2FsbGJhY2spIHtcbiAgLy8gVE9ETzogRW5zdXJlIGFsbCBlbnRyeSBwb2ludHMgY29udGFpbiB0aGlzIGNoZWNrXG4gICFpc1ZhbGlkQ29udGFpbmVyKGNvbnRhaW5lcikgPyBpbnZhcmlhbnQoZmFsc2UsICdUYXJnZXQgY29udGFpbmVyIGlzIG5vdCBhIERPTSBlbGVtZW50LicpIDogdm9pZCAwO1xuXG4gIHtcbiAgICB0b3BMZXZlbFVwZGF0ZVdhcm5pbmdzKGNvbnRhaW5lcik7XG4gIH1cblxuICAvLyBUT0RPOiBXaXRob3V0IGBhbnlgIHR5cGUsIEZsb3cgc2F5cyBcIlByb3BlcnR5IGNhbm5vdCBiZSBhY2Nlc3NlZCBvbiBhbnlcbiAgLy8gbWVtYmVyIG9mIGludGVyc2VjdGlvbiB0eXBlLlwiIFdoeXl5eXl5LlxuICB2YXIgcm9vdCA9IGNvbnRhaW5lci5fcmVhY3RSb290Q29udGFpbmVyO1xuICBpZiAoIXJvb3QpIHtcbiAgICAvLyBJbml0aWFsIG1vdW50XG4gICAgcm9vdCA9IGNvbnRhaW5lci5fcmVhY3RSb290Q29udGFpbmVyID0gbGVnYWN5Q3JlYXRlUm9vdEZyb21ET01Db250YWluZXIoY29udGFpbmVyLCBmb3JjZUh5ZHJhdGUpO1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZhciBvcmlnaW5hbENhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gRE9NUmVuZGVyZXIuZ2V0UHVibGljUm9vdEluc3RhbmNlKHJvb3QuX2ludGVybmFsUm9vdCk7XG4gICAgICAgIG9yaWdpbmFsQ2FsbGJhY2suY2FsbChpbnN0YW5jZSk7XG4gICAgICB9O1xuICAgIH1cbiAgICAvLyBJbml0aWFsIG1vdW50IHNob3VsZCBub3QgYmUgYmF0Y2hlZC5cbiAgICBET01SZW5kZXJlci51bmJhdGNoZWRVcGRhdGVzKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChwYXJlbnRDb21wb25lbnQgIT0gbnVsbCkge1xuICAgICAgICByb290LmxlZ2FjeV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcihwYXJlbnRDb21wb25lbnQsIGNoaWxkcmVuLCBjYWxsYmFjayk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb290LnJlbmRlcihjaGlsZHJlbiwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZhciBfb3JpZ2luYWxDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IERPTVJlbmRlcmVyLmdldFB1YmxpY1Jvb3RJbnN0YW5jZShyb290Ll9pbnRlcm5hbFJvb3QpO1xuICAgICAgICBfb3JpZ2luYWxDYWxsYmFjay5jYWxsKGluc3RhbmNlKTtcbiAgICAgIH07XG4gICAgfVxuICAgIC8vIFVwZGF0ZVxuICAgIGlmIChwYXJlbnRDb21wb25lbnQgIT0gbnVsbCkge1xuICAgICAgcm9vdC5sZWdhY3lfcmVuZGVyU3VidHJlZUludG9Db250YWluZXIocGFyZW50Q29tcG9uZW50LCBjaGlsZHJlbiwgY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICByb290LnJlbmRlcihjaGlsZHJlbiwgY2FsbGJhY2spO1xuICAgIH1cbiAgfVxuICByZXR1cm4gRE9NUmVuZGVyZXIuZ2V0UHVibGljUm9vdEluc3RhbmNlKHJvb3QuX2ludGVybmFsUm9vdCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBvcnRhbChjaGlsZHJlbiwgY29udGFpbmVyKSB7XG4gIHZhciBrZXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7XG5cbiAgIWlzVmFsaWRDb250YWluZXIoY29udGFpbmVyKSA/IGludmFyaWFudChmYWxzZSwgJ1RhcmdldCBjb250YWluZXIgaXMgbm90IGEgRE9NIGVsZW1lbnQuJykgOiB2b2lkIDA7XG4gIC8vIFRPRE86IHBhc3MgUmVhY3RET00gcG9ydGFsIGltcGxlbWVudGF0aW9uIGFzIHRoaXJkIGFyZ3VtZW50XG4gIHJldHVybiBjcmVhdGVQb3J0YWwkMShjaGlsZHJlbiwgY29udGFpbmVyLCBudWxsLCBrZXkpO1xufVxuXG52YXIgUmVhY3RET00gPSB7XG4gIGNyZWF0ZVBvcnRhbDogY3JlYXRlUG9ydGFsLFxuXG4gIGZpbmRET01Ob2RlOiBmdW5jdGlvbiAoY29tcG9uZW50T3JFbGVtZW50KSB7XG4gICAge1xuICAgICAgdmFyIG93bmVyID0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudDtcbiAgICAgIGlmIChvd25lciAhPT0gbnVsbCAmJiBvd25lci5zdGF0ZU5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIHdhcm5lZEFib3V0UmVmc0luUmVuZGVyID0gb3duZXIuc3RhdGVOb2RlLl93YXJuZWRBYm91dFJlZnNJblJlbmRlcjtcbiAgICAgICAgd2FybmluZyh3YXJuZWRBYm91dFJlZnNJblJlbmRlciwgJyVzIGlzIGFjY2Vzc2luZyBmaW5kRE9NTm9kZSBpbnNpZGUgaXRzIHJlbmRlcigpLiAnICsgJ3JlbmRlcigpIHNob3VsZCBiZSBhIHB1cmUgZnVuY3Rpb24gb2YgcHJvcHMgYW5kIHN0YXRlLiBJdCBzaG91bGQgJyArICduZXZlciBhY2Nlc3Mgc29tZXRoaW5nIHRoYXQgcmVxdWlyZXMgc3RhbGUgZGF0YSBmcm9tIHRoZSBwcmV2aW91cyAnICsgJ3JlbmRlciwgc3VjaCBhcyByZWZzLiBNb3ZlIHRoaXMgbG9naWMgdG8gY29tcG9uZW50RGlkTW91bnQgYW5kICcgKyAnY29tcG9uZW50RGlkVXBkYXRlIGluc3RlYWQuJywgZ2V0Q29tcG9uZW50TmFtZShvd25lcikgfHwgJ0EgY29tcG9uZW50Jyk7XG4gICAgICAgIG93bmVyLnN0YXRlTm9kZS5fd2FybmVkQWJvdXRSZWZzSW5SZW5kZXIgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29tcG9uZW50T3JFbGVtZW50ID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoY29tcG9uZW50T3JFbGVtZW50Lm5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICAgIHJldHVybiBjb21wb25lbnRPckVsZW1lbnQ7XG4gICAgfVxuXG4gICAgdmFyIGluc3QgPSBnZXQoY29tcG9uZW50T3JFbGVtZW50KTtcbiAgICBpZiAoaW5zdCkge1xuICAgICAgcmV0dXJuIERPTVJlbmRlcmVyLmZpbmRIb3N0SW5zdGFuY2UoaW5zdCk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBjb21wb25lbnRPckVsZW1lbnQucmVuZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpbnZhcmlhbnQoZmFsc2UsICdVbmFibGUgdG8gZmluZCBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGludmFyaWFudChmYWxzZSwgJ0VsZW1lbnQgYXBwZWFycyB0byBiZSBuZWl0aGVyIFJlYWN0Q29tcG9uZW50IG5vciBET01Ob2RlLiBLZXlzOiAlcycsIE9iamVjdC5rZXlzKGNvbXBvbmVudE9yRWxlbWVudCkpO1xuICAgIH1cbiAgfSxcbiAgaHlkcmF0ZTogZnVuY3Rpb24gKGVsZW1lbnQsIGNvbnRhaW5lciwgY2FsbGJhY2spIHtcbiAgICAvLyBUT0RPOiB0aHJvdyBvciB3YXJuIGlmIHdlIGNvdWxkbid0IGh5ZHJhdGU/XG4gICAgcmV0dXJuIGxlZ2FjeVJlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyKG51bGwsIGVsZW1lbnQsIGNvbnRhaW5lciwgdHJ1ZSwgY2FsbGJhY2spO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIChlbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGxlZ2FjeVJlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyKG51bGwsIGVsZW1lbnQsIGNvbnRhaW5lciwgZmFsc2UsIGNhbGxiYWNrKTtcbiAgfSxcbiAgdW5zdGFibGVfcmVuZGVyU3VidHJlZUludG9Db250YWluZXI6IGZ1bmN0aW9uIChwYXJlbnRDb21wb25lbnQsIGVsZW1lbnQsIGNvbnRhaW5lck5vZGUsIGNhbGxiYWNrKSB7XG4gICAgIShwYXJlbnRDb21wb25lbnQgIT0gbnVsbCAmJiBoYXMocGFyZW50Q29tcG9uZW50KSkgPyBpbnZhcmlhbnQoZmFsc2UsICdwYXJlbnRDb21wb25lbnQgbXVzdCBiZSBhIHZhbGlkIFJlYWN0IENvbXBvbmVudCcpIDogdm9pZCAwO1xuICAgIHJldHVybiBsZWdhY3lSZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcihwYXJlbnRDb21wb25lbnQsIGVsZW1lbnQsIGNvbnRhaW5lck5vZGUsIGZhbHNlLCBjYWxsYmFjayk7XG4gIH0sXG4gIHVubW91bnRDb21wb25lbnRBdE5vZGU6IGZ1bmN0aW9uIChjb250YWluZXIpIHtcbiAgICAhaXNWYWxpZENvbnRhaW5lcihjb250YWluZXIpID8gaW52YXJpYW50KGZhbHNlLCAndW5tb3VudENvbXBvbmVudEF0Tm9kZSguLi4pOiBUYXJnZXQgY29udGFpbmVyIGlzIG5vdCBhIERPTSBlbGVtZW50LicpIDogdm9pZCAwO1xuXG4gICAgaWYgKGNvbnRhaW5lci5fcmVhY3RSb290Q29udGFpbmVyKSB7XG4gICAgICB7XG4gICAgICAgIHZhciByb290RWwgPSBnZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXIoY29udGFpbmVyKTtcbiAgICAgICAgdmFyIHJlbmRlcmVkQnlEaWZmZXJlbnRSZWFjdCA9IHJvb3RFbCAmJiAhZ2V0SW5zdGFuY2VGcm9tTm9kZSQxKHJvb3RFbCk7XG4gICAgICAgIHdhcm5pbmcoIXJlbmRlcmVkQnlEaWZmZXJlbnRSZWFjdCwgXCJ1bm1vdW50Q29tcG9uZW50QXROb2RlKCk6IFRoZSBub2RlIHlvdSdyZSBhdHRlbXB0aW5nIHRvIHVubW91bnQgXCIgKyAnd2FzIHJlbmRlcmVkIGJ5IGFub3RoZXIgY29weSBvZiBSZWFjdC4nKTtcbiAgICAgIH1cblxuICAgICAgLy8gVW5tb3VudCBzaG91bGQgbm90IGJlIGJhdGNoZWQuXG4gICAgICBET01SZW5kZXJlci51bmJhdGNoZWRVcGRhdGVzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGVnYWN5UmVuZGVyU3VidHJlZUludG9Db250YWluZXIobnVsbCwgbnVsbCwgY29udGFpbmVyLCBmYWxzZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNvbnRhaW5lci5fcmVhY3RSb290Q29udGFpbmVyID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIC8vIElmIHlvdSBjYWxsIHVubW91bnRDb21wb25lbnRBdE5vZGUgdHdpY2UgaW4gcXVpY2sgc3VjY2Vzc2lvbiwgeW91J2xsXG4gICAgICAvLyBnZXQgYHRydWVgIHR3aWNlLiBUaGF0J3MgcHJvYmFibHkgZmluZT9cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB7XG4gICAgICAgIHZhciBfcm9vdEVsID0gZ2V0UmVhY3RSb290RWxlbWVudEluQ29udGFpbmVyKGNvbnRhaW5lcik7XG4gICAgICAgIHZhciBoYXNOb25Sb290UmVhY3RDaGlsZCA9ICEhKF9yb290RWwgJiYgZ2V0SW5zdGFuY2VGcm9tTm9kZSQxKF9yb290RWwpKTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgY29udGFpbmVyIGl0c2VsZiBpcyBhIFJlYWN0IHJvb3Qgbm9kZS5cbiAgICAgICAgdmFyIGlzQ29udGFpbmVyUmVhY3RSb290ID0gY29udGFpbmVyLm5vZGVUeXBlID09PSAxICYmIGlzVmFsaWRDb250YWluZXIoY29udGFpbmVyLnBhcmVudE5vZGUpICYmICEhY29udGFpbmVyLnBhcmVudE5vZGUuX3JlYWN0Um9vdENvbnRhaW5lcjtcblxuICAgICAgICB3YXJuaW5nKCFoYXNOb25Sb290UmVhY3RDaGlsZCwgXCJ1bm1vdW50Q29tcG9uZW50QXROb2RlKCk6IFRoZSBub2RlIHlvdSdyZSBhdHRlbXB0aW5nIHRvIHVubW91bnQgXCIgKyAnd2FzIHJlbmRlcmVkIGJ5IFJlYWN0IGFuZCBpcyBub3QgYSB0b3AtbGV2ZWwgY29udGFpbmVyLiAlcycsIGlzQ29udGFpbmVyUmVhY3RSb290ID8gJ1lvdSBtYXkgaGF2ZSBhY2NpZGVudGFsbHkgcGFzc2VkIGluIGEgUmVhY3Qgcm9vdCBub2RlIGluc3RlYWQgJyArICdvZiBpdHMgY29udGFpbmVyLicgOiAnSW5zdGVhZCwgaGF2ZSB0aGUgcGFyZW50IGNvbXBvbmVudCB1cGRhdGUgaXRzIHN0YXRlIGFuZCAnICsgJ3JlcmVuZGVyIGluIG9yZGVyIHRvIHJlbW92ZSB0aGlzIGNvbXBvbmVudC4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcblxuXG4gIC8vIFRlbXBvcmFyeSBhbGlhcyBzaW5jZSB3ZSBhbHJlYWR5IHNoaXBwZWQgUmVhY3QgMTYgUkMgd2l0aCBpdC5cbiAgLy8gVE9ETzogcmVtb3ZlIGluIFJlYWN0IDE3LlxuICB1bnN0YWJsZV9jcmVhdGVQb3J0YWw6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWRpZFdhcm5BYm91dFVuc3RhYmxlQ3JlYXRlUG9ydGFsKSB7XG4gICAgICBkaWRXYXJuQWJvdXRVbnN0YWJsZUNyZWF0ZVBvcnRhbCA9IHRydWU7XG4gICAgICBsb3dQcmlvcml0eVdhcm5pbmckMShmYWxzZSwgJ1RoZSBSZWFjdERPTS51bnN0YWJsZV9jcmVhdGVQb3J0YWwoKSBhbGlhcyBoYXMgYmVlbiBkZXByZWNhdGVkLCAnICsgJ2FuZCB3aWxsIGJlIHJlbW92ZWQgaW4gUmVhY3QgMTcrLiBVcGRhdGUgeW91ciBjb2RlIHRvIHVzZSAnICsgJ1JlYWN0RE9NLmNyZWF0ZVBvcnRhbCgpIGluc3RlYWQuIEl0IGhhcyB0aGUgZXhhY3Qgc2FtZSBBUEksICcgKyAnYnV0IHdpdGhvdXQgdGhlIFwidW5zdGFibGVfXCIgcHJlZml4LicpO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlUG9ydGFsLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgfSxcblxuXG4gIHVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzOiBET01SZW5kZXJlci5iYXRjaGVkVXBkYXRlcyxcblxuICB1bnN0YWJsZV9kZWZlcnJlZFVwZGF0ZXM6IERPTVJlbmRlcmVyLmRlZmVycmVkVXBkYXRlcyxcblxuICBmbHVzaFN5bmM6IERPTVJlbmRlcmVyLmZsdXNoU3luYyxcblxuICB1bnN0YWJsZV9mbHVzaENvbnRyb2xsZWQ6IERPTVJlbmRlcmVyLmZsdXNoQ29udHJvbGxlZCxcblxuICBfX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDoge1xuICAgIC8vIEZvciBUYXBFdmVudFBsdWdpbiB3aGljaCBpcyBwb3B1bGFyIGluIG9wZW4gc291cmNlXG4gICAgRXZlbnRQbHVnaW5IdWI6IEV2ZW50UGx1Z2luSHViLFxuICAgIC8vIFVzZWQgYnkgdGVzdC11dGlsc1xuICAgIEV2ZW50UGx1Z2luUmVnaXN0cnk6IEV2ZW50UGx1Z2luUmVnaXN0cnksXG4gICAgRXZlbnRQcm9wYWdhdG9yczogRXZlbnRQcm9wYWdhdG9ycyxcbiAgICBSZWFjdENvbnRyb2xsZWRDb21wb25lbnQ6IFJlYWN0Q29udHJvbGxlZENvbXBvbmVudCxcbiAgICBSZWFjdERPTUNvbXBvbmVudFRyZWU6IFJlYWN0RE9NQ29tcG9uZW50VHJlZSxcbiAgICBSZWFjdERPTUV2ZW50TGlzdGVuZXI6IFJlYWN0RE9NRXZlbnRMaXN0ZW5lclxuICB9XG59O1xuXG5SZWFjdERPTS51bnN0YWJsZV9jcmVhdGVSb290ID0gZnVuY3Rpb24gY3JlYXRlUm9vdChjb250YWluZXIsIG9wdGlvbnMpIHtcbiAgdmFyIGh5ZHJhdGUgPSBvcHRpb25zICE9IG51bGwgJiYgb3B0aW9ucy5oeWRyYXRlID09PSB0cnVlO1xuICByZXR1cm4gbmV3IFJlYWN0Um9vdChjb250YWluZXIsIHRydWUsIGh5ZHJhdGUpO1xufTtcblxudmFyIGZvdW5kRGV2VG9vbHMgPSBET01SZW5kZXJlci5pbmplY3RJbnRvRGV2VG9vbHMoe1xuICBmaW5kRmliZXJCeUhvc3RJbnN0YW5jZTogZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUsXG4gIGJ1bmRsZVR5cGU6IDEsXG4gIHZlcnNpb246IFJlYWN0VmVyc2lvbixcbiAgcmVuZGVyZXJQYWNrYWdlTmFtZTogJ3JlYWN0LWRvbSdcbn0pO1xuXG57XG4gIGlmICghZm91bmREZXZUb29scyAmJiBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgd2luZG93LnRvcCA9PT0gd2luZG93LnNlbGYpIHtcbiAgICAvLyBJZiB3ZSdyZSBpbiBDaHJvbWUgb3IgRmlyZWZveCwgcHJvdmlkZSBhIGRvd25sb2FkIGxpbmsgaWYgbm90IGluc3RhbGxlZC5cbiAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdDaHJvbWUnKSA+IC0xICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRWRnZScpID09PSAtMSB8fCBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSA+IC0xKSB7XG4gICAgICB2YXIgcHJvdG9jb2wgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2w7XG4gICAgICAvLyBEb24ndCB3YXJuIGluIGV4b3RpYyBjYXNlcyBsaWtlIGNocm9tZS1leHRlbnNpb246Ly8uXG4gICAgICBpZiAoL14oaHR0cHM/fGZpbGUpOiQvLnRlc3QocHJvdG9jb2wpKSB7XG4gICAgICAgIGNvbnNvbGUuaW5mbygnJWNEb3dubG9hZCB0aGUgUmVhY3QgRGV2VG9vbHMgJyArICdmb3IgYSBiZXR0ZXIgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZTogJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWRldnRvb2xzJyArIChwcm90b2NvbCA9PT0gJ2ZpbGU6JyA/ICdcXG5Zb3UgbWlnaHQgbmVlZCB0byB1c2UgYSBsb2NhbCBIVFRQIHNlcnZlciAoaW5zdGVhZCBvZiBmaWxlOi8vKTogJyArICdodHRwczovL2ZiLm1lL3JlYWN0LWRldnRvb2xzLWZhcScgOiAnJyksICdmb250LXdlaWdodDpib2xkJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cblxuXG52YXIgUmVhY3RET00kMiA9IE9iamVjdC5mcmVlemUoe1xuXHRkZWZhdWx0OiBSZWFjdERPTVxufSk7XG5cbnZhciBSZWFjdERPTSQzID0gKCBSZWFjdERPTSQyICYmIFJlYWN0RE9NICkgfHwgUmVhY3RET00kMjtcblxuLy8gVE9ETzogZGVjaWRlIG9uIHRoZSB0b3AtbGV2ZWwgZXhwb3J0IGZvcm0uXG4vLyBUaGlzIGlzIGhhY2t5IGJ1dCBtYWtlcyBpdCB3b3JrIHdpdGggYm90aCBSb2xsdXAgYW5kIEplc3QuXG52YXIgcmVhY3REb20gPSBSZWFjdERPTSQzWydkZWZhdWx0J10gPyBSZWFjdERPTSQzWydkZWZhdWx0J10gOiBSZWFjdERPTSQzO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlYWN0RG9tO1xuICB9KSgpO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBjaGVja0RDRSgpIHtcbiAgLyogZ2xvYmFsIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAqL1xuICBpZiAoXG4gICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLmNoZWNrRENFICE9PSAnZnVuY3Rpb24nXG4gICkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIC8vIFRoaXMgYnJhbmNoIGlzIHVucmVhY2hhYmxlIGJlY2F1c2UgdGhpcyBmdW5jdGlvbiBpcyBvbmx5IGNhbGxlZFxuICAgIC8vIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgY29uZGl0aW9uIGlzIHRydWUgb25seSBpbiBkZXZlbG9wbWVudC5cbiAgICAvLyBUaGVyZWZvcmUgaWYgdGhlIGJyYW5jaCBpcyBzdGlsbCBoZXJlLCBkZWFkIGNvZGUgZWxpbWluYXRpb24gd2Fzbid0XG4gICAgLy8gcHJvcGVybHkgYXBwbGllZC5cbiAgICAvLyBEb24ndCBjaGFuZ2UgdGhlIG1lc3NhZ2UuIFJlYWN0IERldlRvb2xzIHJlbGllcyBvbiBpdC4gQWxzbyBtYWtlIHN1cmVcbiAgICAvLyB0aGlzIG1lc3NhZ2UgZG9lc24ndCBvY2N1ciBlbHNld2hlcmUgaW4gdGhpcyBmdW5jdGlvbiwgb3IgaXQgd2lsbCBjYXVzZVxuICAgIC8vIGEgZmFsc2UgcG9zaXRpdmUuXG4gICAgdGhyb3cgbmV3IEVycm9yKCdeX14nKTtcbiAgfVxuICB0cnkge1xuICAgIC8vIFZlcmlmeSB0aGF0IHRoZSBjb2RlIGFib3ZlIGhhcyBiZWVuIGRlYWQgY29kZSBlbGltaW5hdGVkIChEQ0UnZCkuXG4gICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLmNoZWNrRENFKGNoZWNrRENFKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gRGV2VG9vbHMgc2hvdWxkbid0IGNyYXNoIFJlYWN0LCBubyBtYXR0ZXIgd2hhdC5cbiAgICAvLyBXZSBzaG91bGQgc3RpbGwgcmVwb3J0IGluIGNhc2Ugd2UgYnJlYWsgdGhpcyBjb2RlLlxuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgfVxufVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBEQ0UgY2hlY2sgc2hvdWxkIGhhcHBlbiBiZWZvcmUgUmVhY3RET00gYnVuZGxlIGV4ZWN1dGVzIHNvIHRoYXRcbiAgLy8gRGV2VG9vbHMgY2FuIHJlcG9ydCBiYWQgbWluaWZpY2F0aW9uIGR1cmluZyBpbmplY3Rpb24uXG4gIGNoZWNrRENFKCk7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtZG9tLnByb2R1Y3Rpb24ubWluLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWRvbS5kZXZlbG9wbWVudC5qcycpO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9ICdTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RQcm9wVHlwZXNTZWNyZXQ7XG4iLCIvKiogQGxpY2Vuc2UgUmVhY3QgdjE2LjMuMVxuICogcmVhY3QuZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cblxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIChmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxudmFyIF9hc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG52YXIgZW1wdHlPYmplY3QgPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eU9iamVjdCcpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xudmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG52YXIgZW1wdHlGdW5jdGlvbiA9IHJlcXVpcmUoJ2ZianMvbGliL2VtcHR5RnVuY3Rpb24nKTtcbnZhciBjaGVja1Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMvY2hlY2tQcm9wVHlwZXMnKTtcblxuLy8gVE9ETzogdGhpcyBpcyBzcGVjaWFsIGJlY2F1c2UgaXQgZ2V0cyBpbXBvcnRlZCBkdXJpbmcgYnVpbGQuXG5cbnZhciBSZWFjdFZlcnNpb24gPSAnMTYuMy4xJztcblxuLy8gVGhlIFN5bWJvbCB1c2VkIHRvIHRhZyB0aGUgUmVhY3RFbGVtZW50LWxpa2UgdHlwZXMuIElmIHRoZXJlIGlzIG5vIG5hdGl2ZSBTeW1ib2xcbi8vIG5vciBwb2x5ZmlsbCwgdGhlbiBhIHBsYWluIG51bWJlciBpcyB1c2VkIGZvciBwZXJmb3JtYW5jZS5cbnZhciBoYXNTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbFsnZm9yJ107XG5cbnZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbJ2ZvciddKCdyZWFjdC5lbGVtZW50JykgOiAweGVhYzc7XG52YXIgUkVBQ1RfQ0FMTF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sWydmb3InXSgncmVhY3QuY2FsbCcpIDogMHhlYWM4O1xudmFyIFJFQUNUX1JFVFVSTl9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sWydmb3InXSgncmVhY3QucmV0dXJuJykgOiAweGVhYzk7XG52YXIgUkVBQ1RfUE9SVEFMX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbJ2ZvciddKCdyZWFjdC5wb3J0YWwnKSA6IDB4ZWFjYTtcbnZhciBSRUFDVF9GUkFHTUVOVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sWydmb3InXSgncmVhY3QuZnJhZ21lbnQnKSA6IDB4ZWFjYjtcbnZhciBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sWydmb3InXSgncmVhY3Quc3RyaWN0X21vZGUnKSA6IDB4ZWFjYztcbnZhciBSRUFDVF9QUk9WSURFUl9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sWydmb3InXSgncmVhY3QucHJvdmlkZXInKSA6IDB4ZWFjZDtcbnZhciBSRUFDVF9DT05URVhUX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbJ2ZvciddKCdyZWFjdC5jb250ZXh0JykgOiAweGVhY2U7XG52YXIgUkVBQ1RfQVNZTkNfTU9ERV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sWydmb3InXSgncmVhY3QuYXN5bmNfbW9kZScpIDogMHhlYWNmO1xudmFyIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbJ2ZvciddKCdyZWFjdC5mb3J3YXJkX3JlZicpIDogMHhlYWQwO1xuXG52YXIgTUFZQkVfSVRFUkFUT1JfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuaXRlcmF0b3I7XG52YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7XG5cbmZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuICBpZiAobWF5YmVJdGVyYWJsZSA9PT0gbnVsbCB8fCB0eXBlb2YgbWF5YmVJdGVyYWJsZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgbWF5YmVJdGVyYXRvciA9IE1BWUJFX0lURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW01BWUJFX0lURVJBVE9SX1NZTUJPTF0gfHwgbWF5YmVJdGVyYWJsZVtGQVVYX0lURVJBVE9SX1NZTUJPTF07XG4gIGlmICh0eXBlb2YgbWF5YmVJdGVyYXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBtYXliZUl0ZXJhdG9yO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIFdBUk5JTkc6IERPIE5PVCBtYW51YWxseSByZXF1aXJlIHRoaXMgbW9kdWxlLlxuICogVGhpcyBpcyBhIHJlcGxhY2VtZW50IGZvciBgaW52YXJpYW50KC4uLilgIHVzZWQgYnkgdGhlIGVycm9yIGNvZGUgc3lzdGVtXG4gKiBhbmQgd2lsbCBfb25seV8gYmUgcmVxdWlyZWQgYnkgdGhlIGNvcnJlc3BvbmRpbmcgYmFiZWwgcGFzcy5cbiAqIEl0IGFsd2F5cyB0aHJvd3MuXG4gKi9cblxuLyoqXG4gKiBGb3JrZWQgZnJvbSBmYmpzL3dhcm5pbmc6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svZmJqcy9ibG9iL2U2NmJhMjBhZDViZTQzM2ViNTQ0MjNmMmIwOTdkODI5MzI0ZDlkZTYvcGFja2FnZXMvZmJqcy9zcmMvX19mb3Jrc19fL3dhcm5pbmcuanNcbiAqXG4gKiBPbmx5IGNoYW5nZSBpcyB3ZSB1c2UgY29uc29sZS53YXJuIGluc3RlYWQgb2YgY29uc29sZS5lcnJvcixcbiAqIGFuZCBkbyBub3RoaW5nIHdoZW4gJ2NvbnNvbGUnIGlzIG5vdCBzdXBwb3J0ZWQuXG4gKiBUaGlzIHJlYWxseSBzaW1wbGlmaWVzIHRoZSBjb2RlLlxuICogLS0tXG4gKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG4gKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG4gKi9cblxudmFyIGxvd1ByaW9yaXR5V2FybmluZyA9IGZ1bmN0aW9uICgpIHt9O1xuXG57XG4gIHZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgfSk7XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgLy8gLS0tIFdlbGNvbWUgdG8gZGVidWdnaW5nIFJlYWN0IC0tLVxuICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG4gICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9IGNhdGNoICh4KSB7fVxuICB9O1xuXG4gIGxvd1ByaW9yaXR5V2FybmluZyA9IGZ1bmN0aW9uIChjb25kaXRpb24sIGZvcm1hdCkge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdgd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICsgJ21lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yID4gMiA/IF9sZW4yIC0gMiA6IDApLCBfa2V5MiA9IDI7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5MiAtIDJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgcHJpbnRXYXJuaW5nLmFwcGx5KHVuZGVmaW5lZCwgW2Zvcm1hdF0uY29uY2F0KGFyZ3MpKTtcbiAgICB9XG4gIH07XG59XG5cbnZhciBsb3dQcmlvcml0eVdhcm5pbmckMSA9IGxvd1ByaW9yaXR5V2FybmluZztcblxudmFyIGRpZFdhcm5TdGF0ZVVwZGF0ZUZvclVubW91bnRlZENvbXBvbmVudCA9IHt9O1xuXG5mdW5jdGlvbiB3YXJuTm9vcChwdWJsaWNJbnN0YW5jZSwgY2FsbGVyTmFtZSkge1xuICB7XG4gICAgdmFyIF9jb25zdHJ1Y3RvciA9IHB1YmxpY0luc3RhbmNlLmNvbnN0cnVjdG9yO1xuICAgIHZhciBjb21wb25lbnROYW1lID0gX2NvbnN0cnVjdG9yICYmIChfY29uc3RydWN0b3IuZGlzcGxheU5hbWUgfHwgX2NvbnN0cnVjdG9yLm5hbWUpIHx8ICdSZWFjdENsYXNzJztcbiAgICB2YXIgd2FybmluZ0tleSA9IGNvbXBvbmVudE5hbWUgKyAnLicgKyBjYWxsZXJOYW1lO1xuICAgIGlmIChkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnRbd2FybmluZ0tleV0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd2FybmluZyhmYWxzZSwgXCJDYW4ndCBjYWxsICVzIG9uIGEgY29tcG9uZW50IHRoYXQgaXMgbm90IHlldCBtb3VudGVkLiBcIiArICdUaGlzIGlzIGEgbm8tb3AsIGJ1dCBpdCBtaWdodCBpbmRpY2F0ZSBhIGJ1ZyBpbiB5b3VyIGFwcGxpY2F0aW9uLiAnICsgJ0luc3RlYWQsIGFzc2lnbiB0byBgdGhpcy5zdGF0ZWAgZGlyZWN0bHkgb3IgZGVmaW5lIGEgYHN0YXRlID0ge307YCAnICsgJ2NsYXNzIHByb3BlcnR5IHdpdGggdGhlIGRlc2lyZWQgc3RhdGUgaW4gdGhlICVzIGNvbXBvbmVudC4nLCBjYWxsZXJOYW1lLCBjb21wb25lbnROYW1lKTtcbiAgICBkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnRbd2FybmluZ0tleV0gPSB0cnVlO1xuICB9XG59XG5cbi8qKlxuICogVGhpcyBpcyB0aGUgYWJzdHJhY3QgQVBJIGZvciBhbiB1cGRhdGUgcXVldWUuXG4gKi9cbnZhciBSZWFjdE5vb3BVcGRhdGVRdWV1ZSA9IHtcbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIG9yIG5vdCB0aGlzIGNvbXBvc2l0ZSBjb21wb25lbnQgaXMgbW91bnRlZC5cbiAgICogQHBhcmFtIHtSZWFjdENsYXNzfSBwdWJsaWNJbnN0YW5jZSBUaGUgaW5zdGFuY2Ugd2Ugd2FudCB0byB0ZXN0LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIG1vdW50ZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICogQHByb3RlY3RlZFxuICAgKiBAZmluYWxcbiAgICovXG4gIGlzTW91bnRlZDogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBGb3JjZXMgYW4gdXBkYXRlLiBUaGlzIHNob3VsZCBvbmx5IGJlIGludm9rZWQgd2hlbiBpdCBpcyBrbm93biB3aXRoXG4gICAqIGNlcnRhaW50eSB0aGF0IHdlIGFyZSAqKm5vdCoqIGluIGEgRE9NIHRyYW5zYWN0aW9uLlxuICAgKlxuICAgKiBZb3UgbWF5IHdhbnQgdG8gY2FsbCB0aGlzIHdoZW4geW91IGtub3cgdGhhdCBzb21lIGRlZXBlciBhc3BlY3Qgb2YgdGhlXG4gICAqIGNvbXBvbmVudCdzIHN0YXRlIGhhcyBjaGFuZ2VkIGJ1dCBgc2V0U3RhdGVgIHdhcyBub3QgY2FsbGVkLlxuICAgKlxuICAgKiBUaGlzIHdpbGwgbm90IGludm9rZSBgc2hvdWxkQ29tcG9uZW50VXBkYXRlYCwgYnV0IGl0IHdpbGwgaW52b2tlXG4gICAqIGBjb21wb25lbnRXaWxsVXBkYXRlYCBhbmQgYGNvbXBvbmVudERpZFVwZGF0ZWAuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RDbGFzc30gcHVibGljSW5zdGFuY2UgVGhlIGluc3RhbmNlIHRoYXQgc2hvdWxkIHJlcmVuZGVyLlxuICAgKiBAcGFyYW0gez9mdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIGFmdGVyIGNvbXBvbmVudCBpcyB1cGRhdGVkLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IGNhbGxlck5hbWUgbmFtZSBvZiB0aGUgY2FsbGluZyBmdW5jdGlvbiBpbiB0aGUgcHVibGljIEFQSS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBlbnF1ZXVlRm9yY2VVcGRhdGU6IGZ1bmN0aW9uIChwdWJsaWNJbnN0YW5jZSwgY2FsbGJhY2ssIGNhbGxlck5hbWUpIHtcbiAgICB3YXJuTm9vcChwdWJsaWNJbnN0YW5jZSwgJ2ZvcmNlVXBkYXRlJyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlcGxhY2VzIGFsbCBvZiB0aGUgc3RhdGUuIEFsd2F5cyB1c2UgdGhpcyBvciBgc2V0U3RhdGVgIHRvIG11dGF0ZSBzdGF0ZS5cbiAgICogWW91IHNob3VsZCB0cmVhdCBgdGhpcy5zdGF0ZWAgYXMgaW1tdXRhYmxlLlxuICAgKlxuICAgKiBUaGVyZSBpcyBubyBndWFyYW50ZWUgdGhhdCBgdGhpcy5zdGF0ZWAgd2lsbCBiZSBpbW1lZGlhdGVseSB1cGRhdGVkLCBzb1xuICAgKiBhY2Nlc3NpbmcgYHRoaXMuc3RhdGVgIGFmdGVyIGNhbGxpbmcgdGhpcyBtZXRob2QgbWF5IHJldHVybiB0aGUgb2xkIHZhbHVlLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlYWN0Q2xhc3N9IHB1YmxpY0luc3RhbmNlIFRoZSBpbnN0YW5jZSB0aGF0IHNob3VsZCByZXJlbmRlci5cbiAgICogQHBhcmFtIHtvYmplY3R9IGNvbXBsZXRlU3RhdGUgTmV4dCBzdGF0ZS5cbiAgICogQHBhcmFtIHs/ZnVuY3Rpb259IGNhbGxiYWNrIENhbGxlZCBhZnRlciBjb21wb25lbnQgaXMgdXBkYXRlZC5cbiAgICogQHBhcmFtIHs/c3RyaW5nfSBjYWxsZXJOYW1lIG5hbWUgb2YgdGhlIGNhbGxpbmcgZnVuY3Rpb24gaW4gdGhlIHB1YmxpYyBBUEkuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZW5xdWV1ZVJlcGxhY2VTdGF0ZTogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlLCBjb21wbGV0ZVN0YXRlLCBjYWxsYmFjaywgY2FsbGVyTmFtZSkge1xuICAgIHdhcm5Ob29wKHB1YmxpY0luc3RhbmNlLCAncmVwbGFjZVN0YXRlJyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldHMgYSBzdWJzZXQgb2YgdGhlIHN0YXRlLiBUaGlzIG9ubHkgZXhpc3RzIGJlY2F1c2UgX3BlbmRpbmdTdGF0ZSBpc1xuICAgKiBpbnRlcm5hbC4gVGhpcyBwcm92aWRlcyBhIG1lcmdpbmcgc3RyYXRlZ3kgdGhhdCBpcyBub3QgYXZhaWxhYmxlIHRvIGRlZXBcbiAgICogcHJvcGVydGllcyB3aGljaCBpcyBjb25mdXNpbmcuIFRPRE86IEV4cG9zZSBwZW5kaW5nU3RhdGUgb3IgZG9uJ3QgdXNlIGl0XG4gICAqIGR1cmluZyB0aGUgbWVyZ2UuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RDbGFzc30gcHVibGljSW5zdGFuY2UgVGhlIGluc3RhbmNlIHRoYXQgc2hvdWxkIHJlcmVuZGVyLlxuICAgKiBAcGFyYW0ge29iamVjdH0gcGFydGlhbFN0YXRlIE5leHQgcGFydGlhbCBzdGF0ZSB0byBiZSBtZXJnZWQgd2l0aCBzdGF0ZS5cbiAgICogQHBhcmFtIHs/ZnVuY3Rpb259IGNhbGxiYWNrIENhbGxlZCBhZnRlciBjb21wb25lbnQgaXMgdXBkYXRlZC5cbiAgICogQHBhcmFtIHs/c3RyaW5nfSBOYW1lIG9mIHRoZSBjYWxsaW5nIGZ1bmN0aW9uIGluIHRoZSBwdWJsaWMgQVBJLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGVucXVldWVTZXRTdGF0ZTogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlLCBwYXJ0aWFsU3RhdGUsIGNhbGxiYWNrLCBjYWxsZXJOYW1lKSB7XG4gICAgd2Fybk5vb3AocHVibGljSW5zdGFuY2UsICdzZXRTdGF0ZScpO1xuICB9XG59O1xuXG4vKipcbiAqIEJhc2UgY2xhc3MgaGVscGVycyBmb3IgdGhlIHVwZGF0aW5nIHN0YXRlIG9mIGEgY29tcG9uZW50LlxuICovXG5mdW5jdGlvbiBDb21wb25lbnQocHJvcHMsIGNvbnRleHQsIHVwZGF0ZXIpIHtcbiAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB0aGlzLnJlZnMgPSBlbXB0eU9iamVjdDtcbiAgLy8gV2UgaW5pdGlhbGl6ZSB0aGUgZGVmYXVsdCB1cGRhdGVyIGJ1dCB0aGUgcmVhbCBvbmUgZ2V0cyBpbmplY3RlZCBieSB0aGVcbiAgLy8gcmVuZGVyZXIuXG4gIHRoaXMudXBkYXRlciA9IHVwZGF0ZXIgfHwgUmVhY3ROb29wVXBkYXRlUXVldWU7XG59XG5cbkNvbXBvbmVudC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCA9IHt9O1xuXG4vKipcbiAqIFNldHMgYSBzdWJzZXQgb2YgdGhlIHN0YXRlLiBBbHdheXMgdXNlIHRoaXMgdG8gbXV0YXRlXG4gKiBzdGF0ZS4gWW91IHNob3VsZCB0cmVhdCBgdGhpcy5zdGF0ZWAgYXMgaW1tdXRhYmxlLlxuICpcbiAqIFRoZXJlIGlzIG5vIGd1YXJhbnRlZSB0aGF0IGB0aGlzLnN0YXRlYCB3aWxsIGJlIGltbWVkaWF0ZWx5IHVwZGF0ZWQsIHNvXG4gKiBhY2Nlc3NpbmcgYHRoaXMuc3RhdGVgIGFmdGVyIGNhbGxpbmcgdGhpcyBtZXRob2QgbWF5IHJldHVybiB0aGUgb2xkIHZhbHVlLlxuICpcbiAqIFRoZXJlIGlzIG5vIGd1YXJhbnRlZSB0aGF0IGNhbGxzIHRvIGBzZXRTdGF0ZWAgd2lsbCBydW4gc3luY2hyb25vdXNseSxcbiAqIGFzIHRoZXkgbWF5IGV2ZW50dWFsbHkgYmUgYmF0Y2hlZCB0b2dldGhlci4gIFlvdSBjYW4gcHJvdmlkZSBhbiBvcHRpb25hbFxuICogY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIGNhbGwgdG8gc2V0U3RhdGUgaXMgYWN0dWFsbHlcbiAqIGNvbXBsZXRlZC5cbiAqXG4gKiBXaGVuIGEgZnVuY3Rpb24gaXMgcHJvdmlkZWQgdG8gc2V0U3RhdGUsIGl0IHdpbGwgYmUgY2FsbGVkIGF0IHNvbWUgcG9pbnQgaW5cbiAqIHRoZSBmdXR1cmUgKG5vdCBzeW5jaHJvbm91c2x5KS4gSXQgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgdXAgdG8gZGF0ZVxuICogY29tcG9uZW50IGFyZ3VtZW50cyAoc3RhdGUsIHByb3BzLCBjb250ZXh0KS4gVGhlc2UgdmFsdWVzIGNhbiBiZSBkaWZmZXJlbnRcbiAqIGZyb20gdGhpcy4qIGJlY2F1c2UgeW91ciBmdW5jdGlvbiBtYXkgYmUgY2FsbGVkIGFmdGVyIHJlY2VpdmVQcm9wcyBidXQgYmVmb3JlXG4gKiBzaG91bGRDb21wb25lbnRVcGRhdGUsIGFuZCB0aGlzIG5ldyBzdGF0ZSwgcHJvcHMsIGFuZCBjb250ZXh0IHdpbGwgbm90IHlldCBiZVxuICogYXNzaWduZWQgdG8gdGhpcy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdHxmdW5jdGlvbn0gcGFydGlhbFN0YXRlIE5leHQgcGFydGlhbCBzdGF0ZSBvciBmdW5jdGlvbiB0b1xuICogICAgICAgIHByb2R1Y2UgbmV4dCBwYXJ0aWFsIHN0YXRlIHRvIGJlIG1lcmdlZCB3aXRoIGN1cnJlbnQgc3RhdGUuXG4gKiBAcGFyYW0gez9mdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIGFmdGVyIHN0YXRlIGlzIHVwZGF0ZWQuXG4gKiBAZmluYWxcbiAqIEBwcm90ZWN0ZWRcbiAqL1xuQ29tcG9uZW50LnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChwYXJ0aWFsU3RhdGUsIGNhbGxiYWNrKSB7XG4gICEodHlwZW9mIHBhcnRpYWxTdGF0ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHBhcnRpYWxTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyB8fCBwYXJ0aWFsU3RhdGUgPT0gbnVsbCkgPyBpbnZhcmlhbnQoZmFsc2UsICdzZXRTdGF0ZSguLi4pOiB0YWtlcyBhbiBvYmplY3Qgb2Ygc3RhdGUgdmFyaWFibGVzIHRvIHVwZGF0ZSBvciBhIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYW4gb2JqZWN0IG9mIHN0YXRlIHZhcmlhYmxlcy4nKSA6IHZvaWQgMDtcbiAgdGhpcy51cGRhdGVyLmVucXVldWVTZXRTdGF0ZSh0aGlzLCBwYXJ0aWFsU3RhdGUsIGNhbGxiYWNrLCAnc2V0U3RhdGUnKTtcbn07XG5cbi8qKlxuICogRm9yY2VzIGFuIHVwZGF0ZS4gVGhpcyBzaG91bGQgb25seSBiZSBpbnZva2VkIHdoZW4gaXQgaXMga25vd24gd2l0aFxuICogY2VydGFpbnR5IHRoYXQgd2UgYXJlICoqbm90KiogaW4gYSBET00gdHJhbnNhY3Rpb24uXG4gKlxuICogWW91IG1heSB3YW50IHRvIGNhbGwgdGhpcyB3aGVuIHlvdSBrbm93IHRoYXQgc29tZSBkZWVwZXIgYXNwZWN0IG9mIHRoZVxuICogY29tcG9uZW50J3Mgc3RhdGUgaGFzIGNoYW5nZWQgYnV0IGBzZXRTdGF0ZWAgd2FzIG5vdCBjYWxsZWQuXG4gKlxuICogVGhpcyB3aWxsIG5vdCBpbnZva2UgYHNob3VsZENvbXBvbmVudFVwZGF0ZWAsIGJ1dCBpdCB3aWxsIGludm9rZVxuICogYGNvbXBvbmVudFdpbGxVcGRhdGVgIGFuZCBgY29tcG9uZW50RGlkVXBkYXRlYC5cbiAqXG4gKiBAcGFyYW0gez9mdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIGFmdGVyIHVwZGF0ZSBpcyBjb21wbGV0ZS5cbiAqIEBmaW5hbFxuICogQHByb3RlY3RlZFxuICovXG5Db21wb25lbnQucHJvdG90eXBlLmZvcmNlVXBkYXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIHRoaXMudXBkYXRlci5lbnF1ZXVlRm9yY2VVcGRhdGUodGhpcywgY2FsbGJhY2ssICdmb3JjZVVwZGF0ZScpO1xufTtcblxuLyoqXG4gKiBEZXByZWNhdGVkIEFQSXMuIFRoZXNlIEFQSXMgdXNlZCB0byBleGlzdCBvbiBjbGFzc2ljIFJlYWN0IGNsYXNzZXMgYnV0IHNpbmNlXG4gKiB3ZSB3b3VsZCBsaWtlIHRvIGRlcHJlY2F0ZSB0aGVtLCB3ZSdyZSBub3QgZ29pbmcgdG8gbW92ZSB0aGVtIG92ZXIgdG8gdGhpc1xuICogbW9kZXJuIGJhc2UgY2xhc3MuIEluc3RlYWQsIHdlIGRlZmluZSBhIGdldHRlciB0aGF0IHdhcm5zIGlmIGl0J3MgYWNjZXNzZWQuXG4gKi9cbntcbiAgdmFyIGRlcHJlY2F0ZWRBUElzID0ge1xuICAgIGlzTW91bnRlZDogWydpc01vdW50ZWQnLCAnSW5zdGVhZCwgbWFrZSBzdXJlIHRvIGNsZWFuIHVwIHN1YnNjcmlwdGlvbnMgYW5kIHBlbmRpbmcgcmVxdWVzdHMgaW4gJyArICdjb21wb25lbnRXaWxsVW5tb3VudCB0byBwcmV2ZW50IG1lbW9yeSBsZWFrcy4nXSxcbiAgICByZXBsYWNlU3RhdGU6IFsncmVwbGFjZVN0YXRlJywgJ1JlZmFjdG9yIHlvdXIgY29kZSB0byB1c2Ugc2V0U3RhdGUgaW5zdGVhZCAoc2VlICcgKyAnaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8zMjM2KS4nXVxuICB9O1xuICB2YXIgZGVmaW5lRGVwcmVjYXRpb25XYXJuaW5nID0gZnVuY3Rpb24gKG1ldGhvZE5hbWUsIGluZm8pIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50LnByb3RvdHlwZSwgbWV0aG9kTmFtZSwge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvd1ByaW9yaXR5V2FybmluZyQxKGZhbHNlLCAnJXMoLi4uKSBpcyBkZXByZWNhdGVkIGluIHBsYWluIEphdmFTY3JpcHQgUmVhY3QgY2xhc3Nlcy4gJXMnLCBpbmZvWzBdLCBpbmZvWzFdKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgZm9yICh2YXIgZm5OYW1lIGluIGRlcHJlY2F0ZWRBUElzKSB7XG4gICAgaWYgKGRlcHJlY2F0ZWRBUElzLmhhc093blByb3BlcnR5KGZuTmFtZSkpIHtcbiAgICAgIGRlZmluZURlcHJlY2F0aW9uV2FybmluZyhmbk5hbWUsIGRlcHJlY2F0ZWRBUElzW2ZuTmFtZV0pO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBDb21wb25lbnREdW1teSgpIHt9XG5Db21wb25lbnREdW1teS5wcm90b3R5cGUgPSBDb21wb25lbnQucHJvdG90eXBlO1xuXG4vKipcbiAqIENvbnZlbmllbmNlIGNvbXBvbmVudCB3aXRoIGRlZmF1bHQgc2hhbGxvdyBlcXVhbGl0eSBjaGVjayBmb3Igc0NVLlxuICovXG5mdW5jdGlvbiBQdXJlQ29tcG9uZW50KHByb3BzLCBjb250ZXh0LCB1cGRhdGVyKSB7XG4gIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5yZWZzID0gZW1wdHlPYmplY3Q7XG4gIHRoaXMudXBkYXRlciA9IHVwZGF0ZXIgfHwgUmVhY3ROb29wVXBkYXRlUXVldWU7XG59XG5cbnZhciBwdXJlQ29tcG9uZW50UHJvdG90eXBlID0gUHVyZUNvbXBvbmVudC5wcm90b3R5cGUgPSBuZXcgQ29tcG9uZW50RHVtbXkoKTtcbnB1cmVDb21wb25lbnRQcm90b3R5cGUuY29uc3RydWN0b3IgPSBQdXJlQ29tcG9uZW50O1xuLy8gQXZvaWQgYW4gZXh0cmEgcHJvdG90eXBlIGp1bXAgZm9yIHRoZXNlIG1ldGhvZHMuXG5fYXNzaWduKHB1cmVDb21wb25lbnRQcm90b3R5cGUsIENvbXBvbmVudC5wcm90b3R5cGUpO1xucHVyZUNvbXBvbmVudFByb3RvdHlwZS5pc1B1cmVSZWFjdENvbXBvbmVudCA9IHRydWU7XG5cbi8vIGFuIGltbXV0YWJsZSBvYmplY3Qgd2l0aCBhIHNpbmdsZSBtdXRhYmxlIHZhbHVlXG5mdW5jdGlvbiBjcmVhdGVSZWYoKSB7XG4gIHZhciByZWZPYmplY3QgPSB7XG4gICAgY3VycmVudDogbnVsbFxuICB9O1xuICB7XG4gICAgT2JqZWN0LnNlYWwocmVmT2JqZWN0KTtcbiAgfVxuICByZXR1cm4gcmVmT2JqZWN0O1xufVxuXG4vKipcbiAqIEtlZXBzIHRyYWNrIG9mIHRoZSBjdXJyZW50IG93bmVyLlxuICpcbiAqIFRoZSBjdXJyZW50IG93bmVyIGlzIHRoZSBjb21wb25lbnQgd2hvIHNob3VsZCBvd24gYW55IGNvbXBvbmVudHMgdGhhdCBhcmVcbiAqIGN1cnJlbnRseSBiZWluZyBjb25zdHJ1Y3RlZC5cbiAqL1xudmFyIFJlYWN0Q3VycmVudE93bmVyID0ge1xuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIEB0eXBlIHtSZWFjdENvbXBvbmVudH1cbiAgICovXG4gIGN1cnJlbnQ6IG51bGxcbn07XG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbnZhciBSRVNFUlZFRF9QUk9QUyA9IHtcbiAga2V5OiB0cnVlLFxuICByZWY6IHRydWUsXG4gIF9fc2VsZjogdHJ1ZSxcbiAgX19zb3VyY2U6IHRydWVcbn07XG5cbnZhciBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9IHZvaWQgMDtcbnZhciBzcGVjaWFsUHJvcFJlZldhcm5pbmdTaG93biA9IHZvaWQgMDtcblxuZnVuY3Rpb24gaGFzVmFsaWRSZWYoY29uZmlnKSB7XG4gIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsICdyZWYnKSkge1xuICAgICAgdmFyIGdldHRlciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY29uZmlnLCAncmVmJykuZ2V0O1xuICAgICAgaWYgKGdldHRlciAmJiBnZXR0ZXIuaXNSZWFjdFdhcm5pbmcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gY29uZmlnLnJlZiAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBoYXNWYWxpZEtleShjb25maWcpIHtcbiAge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgJ2tleScpKSB7XG4gICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdrZXknKS5nZXQ7XG4gICAgICBpZiAoZ2V0dGVyICYmIGdldHRlci5pc1JlYWN0V2FybmluZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBjb25maWcua2V5ICE9PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSkge1xuICB2YXIgd2FybkFib3V0QWNjZXNzaW5nS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24pIHtcbiAgICAgIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duID0gdHJ1ZTtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICclczogYGtleWAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCAnICsgJ2luIGB1bmRlZmluZWRgIGJlaW5nIHJldHVybmVkLiBJZiB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHNhbWUgJyArICd2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50ICcgKyAncHJvcC4gKGh0dHBzOi8vZmIubWUvcmVhY3Qtc3BlY2lhbC1wcm9wcyknLCBkaXNwbGF5TmFtZSk7XG4gICAgfVxuICB9O1xuICB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsICdrZXknLCB7XG4gICAgZ2V0OiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXksXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBkZWZpbmVSZWZQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpIHtcbiAgdmFyIHdhcm5BYm91dEFjY2Vzc2luZ1JlZiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duKSB7XG4gICAgICBzcGVjaWFsUHJvcFJlZldhcm5pbmdTaG93biA9IHRydWU7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnJXM6IGByZWZgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgJyArICdpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lICcgKyAndmFsdWUgd2l0aGluIHRoZSBjaGlsZCBjb21wb25lbnQsIHlvdSBzaG91bGQgcGFzcyBpdCBhcyBhIGRpZmZlcmVudCAnICsgJ3Byb3AuIChodHRwczovL2ZiLm1lL3JlYWN0LXNwZWNpYWwtcHJvcHMpJywgZGlzcGxheU5hbWUpO1xuICAgIH1cbiAgfTtcbiAgd2FybkFib3V0QWNjZXNzaW5nUmVmLmlzUmVhY3RXYXJuaW5nID0gdHJ1ZTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAncmVmJywge1xuICAgIGdldDogd2FybkFib3V0QWNjZXNzaW5nUmVmLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbn1cblxuLyoqXG4gKiBGYWN0b3J5IG1ldGhvZCB0byBjcmVhdGUgYSBuZXcgUmVhY3QgZWxlbWVudC4gVGhpcyBubyBsb25nZXIgYWRoZXJlcyB0b1xuICogdGhlIGNsYXNzIHBhdHRlcm4sIHNvIGRvIG5vdCB1c2UgbmV3IHRvIGNhbGwgaXQuIEFsc28sIG5vIGluc3RhbmNlb2YgY2hlY2tcbiAqIHdpbGwgd29yay4gSW5zdGVhZCB0ZXN0ICQkdHlwZW9mIGZpZWxkIGFnYWluc3QgU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpIHRvIGNoZWNrXG4gKiBpZiBzb21ldGhpbmcgaXMgYSBSZWFjdCBFbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7Kn0gdHlwZVxuICogQHBhcmFtIHsqfSBrZXlcbiAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gcmVmXG4gKiBAcGFyYW0geyp9IHNlbGYgQSAqdGVtcG9yYXJ5KiBoZWxwZXIgdG8gZGV0ZWN0IHBsYWNlcyB3aGVyZSBgdGhpc2AgaXNcbiAqIGRpZmZlcmVudCBmcm9tIHRoZSBgb3duZXJgIHdoZW4gUmVhY3QuY3JlYXRlRWxlbWVudCBpcyBjYWxsZWQsIHNvIHRoYXQgd2VcbiAqIGNhbiB3YXJuLiBXZSB3YW50IHRvIGdldCByaWQgb2Ygb3duZXIgYW5kIHJlcGxhY2Ugc3RyaW5nIGByZWZgcyB3aXRoIGFycm93XG4gKiBmdW5jdGlvbnMsIGFuZCBhcyBsb25nIGFzIGB0aGlzYCBhbmQgb3duZXIgYXJlIHRoZSBzYW1lLCB0aGVyZSB3aWxsIGJlIG5vXG4gKiBjaGFuZ2UgaW4gYmVoYXZpb3IuXG4gKiBAcGFyYW0geyp9IHNvdXJjZSBBbiBhbm5vdGF0aW9uIG9iamVjdCAoYWRkZWQgYnkgYSB0cmFuc3BpbGVyIG9yIG90aGVyd2lzZSlcbiAqIGluZGljYXRpbmcgZmlsZW5hbWUsIGxpbmUgbnVtYmVyLCBhbmQvb3Igb3RoZXIgaW5mb3JtYXRpb24uXG4gKiBAcGFyYW0geyp9IG93bmVyXG4gKiBAcGFyYW0geyp9IHByb3BzXG4gKiBAaW50ZXJuYWxcbiAqL1xudmFyIFJlYWN0RWxlbWVudCA9IGZ1bmN0aW9uICh0eXBlLCBrZXksIHJlZiwgc2VsZiwgc291cmNlLCBvd25lciwgcHJvcHMpIHtcbiAgdmFyIGVsZW1lbnQgPSB7XG4gICAgLy8gVGhpcyB0YWcgYWxsb3dzIHVzIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgYXMgYSBSZWFjdCBFbGVtZW50XG4gICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcblxuICAgIC8vIEJ1aWx0LWluIHByb3BlcnRpZXMgdGhhdCBiZWxvbmcgb24gdGhlIGVsZW1lbnRcbiAgICB0eXBlOiB0eXBlLFxuICAgIGtleToga2V5LFxuICAgIHJlZjogcmVmLFxuICAgIHByb3BzOiBwcm9wcyxcblxuICAgIC8vIFJlY29yZCB0aGUgY29tcG9uZW50IHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyB0aGlzIGVsZW1lbnQuXG4gICAgX293bmVyOiBvd25lclxuICB9O1xuXG4gIHtcbiAgICAvLyBUaGUgdmFsaWRhdGlvbiBmbGFnIGlzIGN1cnJlbnRseSBtdXRhdGl2ZS4gV2UgcHV0IGl0IG9uXG4gICAgLy8gYW4gZXh0ZXJuYWwgYmFja2luZyBzdG9yZSBzbyB0aGF0IHdlIGNhbiBmcmVlemUgdGhlIHdob2xlIG9iamVjdC5cbiAgICAvLyBUaGlzIGNhbiBiZSByZXBsYWNlZCB3aXRoIGEgV2Vha01hcCBvbmNlIHRoZXkgYXJlIGltcGxlbWVudGVkIGluXG4gICAgLy8gY29tbW9ubHkgdXNlZCBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMuXG4gICAgZWxlbWVudC5fc3RvcmUgPSB7fTtcblxuICAgIC8vIFRvIG1ha2UgY29tcGFyaW5nIFJlYWN0RWxlbWVudHMgZWFzaWVyIGZvciB0ZXN0aW5nIHB1cnBvc2VzLCB3ZSBtYWtlXG4gICAgLy8gdGhlIHZhbGlkYXRpb24gZmxhZyBub24tZW51bWVyYWJsZSAod2hlcmUgcG9zc2libGUsIHdoaWNoIHNob3VsZFxuICAgIC8vIGluY2x1ZGUgZXZlcnkgZW52aXJvbm1lbnQgd2UgcnVuIHRlc3RzIGluKSwgc28gdGhlIHRlc3QgZnJhbWV3b3JrXG4gICAgLy8gaWdub3JlcyBpdC5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudC5fc3RvcmUsICd2YWxpZGF0ZWQnLCB7XG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBmYWxzZVxuICAgIH0pO1xuICAgIC8vIHNlbGYgYW5kIHNvdXJjZSBhcmUgREVWIG9ubHkgcHJvcGVydGllcy5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudCwgJ19zZWxmJywge1xuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgdmFsdWU6IHNlbGZcbiAgICB9KTtcbiAgICAvLyBUd28gZWxlbWVudHMgY3JlYXRlZCBpbiB0d28gZGlmZmVyZW50IHBsYWNlcyBzaG91bGQgYmUgY29uc2lkZXJlZFxuICAgIC8vIGVxdWFsIGZvciB0ZXN0aW5nIHB1cnBvc2VzIGFuZCB0aGVyZWZvcmUgd2UgaGlkZSBpdCBmcm9tIGVudW1lcmF0aW9uLlxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX3NvdXJjZScsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgIHZhbHVlOiBzb3VyY2VcbiAgICB9KTtcbiAgICBpZiAoT2JqZWN0LmZyZWV6ZSkge1xuICAgICAgT2JqZWN0LmZyZWV6ZShlbGVtZW50LnByb3BzKTtcbiAgICAgIE9iamVjdC5mcmVlemUoZWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhbmQgcmV0dXJuIGEgbmV3IFJlYWN0RWxlbWVudCBvZiB0aGUgZ2l2ZW4gdHlwZS5cbiAqIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwjY3JlYXRlZWxlbWVudFxuICovXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50KHR5cGUsIGNvbmZpZywgY2hpbGRyZW4pIHtcbiAgdmFyIHByb3BOYW1lID0gdm9pZCAwO1xuXG4gIC8vIFJlc2VydmVkIG5hbWVzIGFyZSBleHRyYWN0ZWRcbiAgdmFyIHByb3BzID0ge307XG5cbiAgdmFyIGtleSA9IG51bGw7XG4gIHZhciByZWYgPSBudWxsO1xuICB2YXIgc2VsZiA9IG51bGw7XG4gIHZhciBzb3VyY2UgPSBudWxsO1xuXG4gIGlmIChjb25maWcgIT0gbnVsbCkge1xuICAgIGlmIChoYXNWYWxpZFJlZihjb25maWcpKSB7XG4gICAgICByZWYgPSBjb25maWcucmVmO1xuICAgIH1cbiAgICBpZiAoaGFzVmFsaWRLZXkoY29uZmlnKSkge1xuICAgICAga2V5ID0gJycgKyBjb25maWcua2V5O1xuICAgIH1cblxuICAgIHNlbGYgPSBjb25maWcuX19zZWxmID09PSB1bmRlZmluZWQgPyBudWxsIDogY29uZmlnLl9fc2VsZjtcbiAgICBzb3VyY2UgPSBjb25maWcuX19zb3VyY2UgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjb25maWcuX19zb3VyY2U7XG4gICAgLy8gUmVtYWluaW5nIHByb3BlcnRpZXMgYXJlIGFkZGVkIHRvIGEgbmV3IHByb3BzIG9iamVjdFxuICAgIGZvciAocHJvcE5hbWUgaW4gY29uZmlnKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIHByb3BOYW1lKSAmJiAhUkVTRVJWRURfUFJPUFMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQ2hpbGRyZW4gY2FuIGJlIG1vcmUgdGhhbiBvbmUgYXJndW1lbnQsIGFuZCB0aG9zZSBhcmUgdHJhbnNmZXJyZWQgb250b1xuICAvLyB0aGUgbmV3bHkgYWxsb2NhdGVkIHByb3BzIG9iamVjdC5cbiAgdmFyIGNoaWxkcmVuTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7XG4gIGlmIChjaGlsZHJlbkxlbmd0aCA9PT0gMSkge1xuICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gIH0gZWxzZSBpZiAoY2hpbGRyZW5MZW5ndGggPiAxKSB7XG4gICAgdmFyIGNoaWxkQXJyYXkgPSBBcnJheShjaGlsZHJlbkxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG4gICAgICBjaGlsZEFycmF5W2ldID0gYXJndW1lbnRzW2kgKyAyXTtcbiAgICB9XG4gICAge1xuICAgICAgaWYgKE9iamVjdC5mcmVlemUpIHtcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShjaGlsZEFycmF5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZEFycmF5O1xuICB9XG5cbiAgLy8gUmVzb2x2ZSBkZWZhdWx0IHByb3BzXG4gIGlmICh0eXBlICYmIHR5cGUuZGVmYXVsdFByb3BzKSB7XG4gICAgdmFyIGRlZmF1bHRQcm9wcyA9IHR5cGUuZGVmYXVsdFByb3BzO1xuICAgIGZvciAocHJvcE5hbWUgaW4gZGVmYXVsdFByb3BzKSB7XG4gICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gZGVmYXVsdFByb3BzW3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAge1xuICAgIGlmIChrZXkgfHwgcmVmKSB7XG4gICAgICBpZiAodHlwZW9mIHByb3BzLiQkdHlwZW9mID09PSAndW5kZWZpbmVkJyB8fCBwcm9wcy4kJHR5cGVvZiAhPT0gUkVBQ1RfRUxFTUVOVF9UWVBFKSB7XG4gICAgICAgIHZhciBkaXNwbGF5TmFtZSA9IHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nID8gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgJ1Vua25vd24nIDogdHlwZTtcbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZikge1xuICAgICAgICAgIGRlZmluZVJlZlByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIFJlYWN0RWxlbWVudCh0eXBlLCBrZXksIHJlZiwgc2VsZiwgc291cmNlLCBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LCBwcm9wcyk7XG59XG5cbi8qKlxuICogUmV0dXJuIGEgZnVuY3Rpb24gdGhhdCBwcm9kdWNlcyBSZWFjdEVsZW1lbnRzIG9mIGEgZ2l2ZW4gdHlwZS5cbiAqIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwjY3JlYXRlZmFjdG9yeVxuICovXG5cblxuZnVuY3Rpb24gY2xvbmVBbmRSZXBsYWNlS2V5KG9sZEVsZW1lbnQsIG5ld0tleSkge1xuICB2YXIgbmV3RWxlbWVudCA9IFJlYWN0RWxlbWVudChvbGRFbGVtZW50LnR5cGUsIG5ld0tleSwgb2xkRWxlbWVudC5yZWYsIG9sZEVsZW1lbnQuX3NlbGYsIG9sZEVsZW1lbnQuX3NvdXJjZSwgb2xkRWxlbWVudC5fb3duZXIsIG9sZEVsZW1lbnQucHJvcHMpO1xuXG4gIHJldHVybiBuZXdFbGVtZW50O1xufVxuXG4vKipcbiAqIENsb25lIGFuZCByZXR1cm4gYSBuZXcgUmVhY3RFbGVtZW50IHVzaW5nIGVsZW1lbnQgYXMgdGhlIHN0YXJ0aW5nIHBvaW50LlxuICogU2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9yZWFjdC1hcGkuaHRtbCNjbG9uZWVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gY2xvbmVFbGVtZW50KGVsZW1lbnQsIGNvbmZpZywgY2hpbGRyZW4pIHtcbiAgdmFyIHByb3BOYW1lID0gdm9pZCAwO1xuXG4gIC8vIE9yaWdpbmFsIHByb3BzIGFyZSBjb3BpZWRcbiAgdmFyIHByb3BzID0gX2Fzc2lnbih7fSwgZWxlbWVudC5wcm9wcyk7XG5cbiAgLy8gUmVzZXJ2ZWQgbmFtZXMgYXJlIGV4dHJhY3RlZFxuICB2YXIga2V5ID0gZWxlbWVudC5rZXk7XG4gIHZhciByZWYgPSBlbGVtZW50LnJlZjtcbiAgLy8gU2VsZiBpcyBwcmVzZXJ2ZWQgc2luY2UgdGhlIG93bmVyIGlzIHByZXNlcnZlZC5cbiAgdmFyIHNlbGYgPSBlbGVtZW50Ll9zZWxmO1xuICAvLyBTb3VyY2UgaXMgcHJlc2VydmVkIHNpbmNlIGNsb25lRWxlbWVudCBpcyB1bmxpa2VseSB0byBiZSB0YXJnZXRlZCBieSBhXG4gIC8vIHRyYW5zcGlsZXIsIGFuZCB0aGUgb3JpZ2luYWwgc291cmNlIGlzIHByb2JhYmx5IGEgYmV0dGVyIGluZGljYXRvciBvZiB0aGVcbiAgLy8gdHJ1ZSBvd25lci5cbiAgdmFyIHNvdXJjZSA9IGVsZW1lbnQuX3NvdXJjZTtcblxuICAvLyBPd25lciB3aWxsIGJlIHByZXNlcnZlZCwgdW5sZXNzIHJlZiBpcyBvdmVycmlkZGVuXG4gIHZhciBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuXG4gIGlmIChjb25maWcgIT0gbnVsbCkge1xuICAgIGlmIChoYXNWYWxpZFJlZihjb25maWcpKSB7XG4gICAgICAvLyBTaWxlbnRseSBzdGVhbCB0aGUgcmVmIGZyb20gdGhlIHBhcmVudC5cbiAgICAgIHJlZiA9IGNvbmZpZy5yZWY7XG4gICAgICBvd25lciA9IFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQ7XG4gICAgfVxuICAgIGlmIChoYXNWYWxpZEtleShjb25maWcpKSB7XG4gICAgICBrZXkgPSAnJyArIGNvbmZpZy5rZXk7XG4gICAgfVxuXG4gICAgLy8gUmVtYWluaW5nIHByb3BlcnRpZXMgb3ZlcnJpZGUgZXhpc3RpbmcgcHJvcHNcbiAgICB2YXIgZGVmYXVsdFByb3BzID0gdm9pZCAwO1xuICAgIGlmIChlbGVtZW50LnR5cGUgJiYgZWxlbWVudC50eXBlLmRlZmF1bHRQcm9wcykge1xuICAgICAgZGVmYXVsdFByb3BzID0gZWxlbWVudC50eXBlLmRlZmF1bHRQcm9wcztcbiAgICB9XG4gICAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpICYmICFSRVNFUlZFRF9QUk9QUy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgaWYgKGNvbmZpZ1twcm9wTmFtZV0gPT09IHVuZGVmaW5lZCAmJiBkZWZhdWx0UHJvcHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIC8vIFJlc29sdmUgZGVmYXVsdCBwcm9wc1xuICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGRlZmF1bHRQcm9wc1twcm9wTmFtZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIENoaWxkcmVuIGNhbiBiZSBtb3JlIHRoYW4gb25lIGFyZ3VtZW50LCBhbmQgdGhvc2UgYXJlIHRyYW5zZmVycmVkIG9udG9cbiAgLy8gdGhlIG5ld2x5IGFsbG9jYXRlZCBwcm9wcyBvYmplY3QuXG4gIHZhciBjaGlsZHJlbkxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGggLSAyO1xuICBpZiAoY2hpbGRyZW5MZW5ndGggPT09IDEpIHtcbiAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICB9IGVsc2UgaWYgKGNoaWxkcmVuTGVuZ3RoID4gMSkge1xuICAgIHZhciBjaGlsZEFycmF5ID0gQXJyYXkoY2hpbGRyZW5MZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgY2hpbGRBcnJheVtpXSA9IGFyZ3VtZW50c1tpICsgMl07XG4gICAgfVxuICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRBcnJheTtcbiAgfVxuXG4gIHJldHVybiBSZWFjdEVsZW1lbnQoZWxlbWVudC50eXBlLCBrZXksIHJlZiwgc2VsZiwgc291cmNlLCBvd25lciwgcHJvcHMpO1xufVxuXG4vKipcbiAqIFZlcmlmaWVzIHRoZSBvYmplY3QgaXMgYSBSZWFjdEVsZW1lbnQuXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI2lzdmFsaWRlbGVtZW50XG4gKiBAcGFyYW0gez9vYmplY3R9IG9iamVjdFxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBgb2JqZWN0YCBpcyBhIHZhbGlkIGNvbXBvbmVudC5cbiAqIEBmaW5hbFxuICovXG5mdW5jdGlvbiBpc1ZhbGlkRWxlbWVudChvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdCAhPT0gbnVsbCAmJiBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcbn1cblxudmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUgPSB7fTtcblxue1xuICAvLyBDb21wb25lbnQgdGhhdCBpcyBiZWluZyB3b3JrZWQgb25cbiAgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRDdXJyZW50U3RhY2sgPSBudWxsO1xuXG4gIFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0U3RhY2tBZGRlbmR1bSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaW1wbCA9IFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0Q3VycmVudFN0YWNrO1xuICAgIGlmIChpbXBsKSB7XG4gICAgICByZXR1cm4gaW1wbCgpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbn1cblxudmFyIFNFUEFSQVRPUiA9ICcuJztcbnZhciBTVUJTRVBBUkFUT1IgPSAnOic7XG5cbi8qKlxuICogRXNjYXBlIGFuZCB3cmFwIGtleSBzbyBpdCBpcyBzYWZlIHRvIHVzZSBhcyBhIHJlYWN0aWRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRvIGJlIGVzY2FwZWQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBlc2NhcGVkIGtleS5cbiAqL1xuZnVuY3Rpb24gZXNjYXBlKGtleSkge1xuICB2YXIgZXNjYXBlUmVnZXggPSAvWz06XS9nO1xuICB2YXIgZXNjYXBlckxvb2t1cCA9IHtcbiAgICAnPSc6ICc9MCcsXG4gICAgJzonOiAnPTInXG4gIH07XG4gIHZhciBlc2NhcGVkU3RyaW5nID0gKCcnICsga2V5KS5yZXBsYWNlKGVzY2FwZVJlZ2V4LCBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICByZXR1cm4gZXNjYXBlckxvb2t1cFttYXRjaF07XG4gIH0pO1xuXG4gIHJldHVybiAnJCcgKyBlc2NhcGVkU3RyaW5nO1xufVxuXG4vKipcbiAqIFRPRE86IFRlc3QgdGhhdCBhIHNpbmdsZSBjaGlsZCBhbmQgYW4gYXJyYXkgd2l0aCBvbmUgaXRlbSBoYXZlIHRoZSBzYW1lIGtleVxuICogcGF0dGVybi5cbiAqL1xuXG52YXIgZGlkV2FybkFib3V0TWFwcyA9IGZhbHNlO1xuXG52YXIgdXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXggPSAvXFwvKy9nO1xuZnVuY3Rpb24gZXNjYXBlVXNlclByb3ZpZGVkS2V5KHRleHQpIHtcbiAgcmV0dXJuICgnJyArIHRleHQpLnJlcGxhY2UodXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXgsICckJi8nKTtcbn1cblxudmFyIFBPT0xfU0laRSA9IDEwO1xudmFyIHRyYXZlcnNlQ29udGV4dFBvb2wgPSBbXTtcbmZ1bmN0aW9uIGdldFBvb2xlZFRyYXZlcnNlQ29udGV4dChtYXBSZXN1bHQsIGtleVByZWZpeCwgbWFwRnVuY3Rpb24sIG1hcENvbnRleHQpIHtcbiAgaWYgKHRyYXZlcnNlQ29udGV4dFBvb2wubGVuZ3RoKSB7XG4gICAgdmFyIHRyYXZlcnNlQ29udGV4dCA9IHRyYXZlcnNlQ29udGV4dFBvb2wucG9wKCk7XG4gICAgdHJhdmVyc2VDb250ZXh0LnJlc3VsdCA9IG1hcFJlc3VsdDtcbiAgICB0cmF2ZXJzZUNvbnRleHQua2V5UHJlZml4ID0ga2V5UHJlZml4O1xuICAgIHRyYXZlcnNlQ29udGV4dC5mdW5jID0gbWFwRnVuY3Rpb247XG4gICAgdHJhdmVyc2VDb250ZXh0LmNvbnRleHQgPSBtYXBDb250ZXh0O1xuICAgIHRyYXZlcnNlQ29udGV4dC5jb3VudCA9IDA7XG4gICAgcmV0dXJuIHRyYXZlcnNlQ29udGV4dDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdWx0OiBtYXBSZXN1bHQsXG4gICAgICBrZXlQcmVmaXg6IGtleVByZWZpeCxcbiAgICAgIGZ1bmM6IG1hcEZ1bmN0aW9uLFxuICAgICAgY29udGV4dDogbWFwQ29udGV4dCxcbiAgICAgIGNvdW50OiAwXG4gICAgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWxlYXNlVHJhdmVyc2VDb250ZXh0KHRyYXZlcnNlQ29udGV4dCkge1xuICB0cmF2ZXJzZUNvbnRleHQucmVzdWx0ID0gbnVsbDtcbiAgdHJhdmVyc2VDb250ZXh0LmtleVByZWZpeCA9IG51bGw7XG4gIHRyYXZlcnNlQ29udGV4dC5mdW5jID0gbnVsbDtcbiAgdHJhdmVyc2VDb250ZXh0LmNvbnRleHQgPSBudWxsO1xuICB0cmF2ZXJzZUNvbnRleHQuY291bnQgPSAwO1xuICBpZiAodHJhdmVyc2VDb250ZXh0UG9vbC5sZW5ndGggPCBQT09MX1NJWkUpIHtcbiAgICB0cmF2ZXJzZUNvbnRleHRQb29sLnB1c2godHJhdmVyc2VDb250ZXh0KTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Pyp9IGNoaWxkcmVuIENoaWxkcmVuIHRyZWUgY29udGFpbmVyLlxuICogQHBhcmFtIHshc3RyaW5nfSBuYW1lU29GYXIgTmFtZSBvZiB0aGUga2V5IHBhdGggc28gZmFyLlxuICogQHBhcmFtIHshZnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIHRvIGludm9rZSB3aXRoIGVhY2ggY2hpbGQgZm91bmQuXG4gKiBAcGFyYW0gez8qfSB0cmF2ZXJzZUNvbnRleHQgVXNlZCB0byBwYXNzIGluZm9ybWF0aW9uIHRocm91Z2hvdXQgdGhlIHRyYXZlcnNhbFxuICogcHJvY2Vzcy5cbiAqIEByZXR1cm4geyFudW1iZXJ9IFRoZSBudW1iZXIgb2YgY2hpbGRyZW4gaW4gdGhpcyBzdWJ0cmVlLlxuICovXG5mdW5jdGlvbiB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZHJlbiwgbmFtZVNvRmFyLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIGNoaWxkcmVuO1xuXG4gIGlmICh0eXBlID09PSAndW5kZWZpbmVkJyB8fCB0eXBlID09PSAnYm9vbGVhbicpIHtcbiAgICAvLyBBbGwgb2YgdGhlIGFib3ZlIGFyZSBwZXJjZWl2ZWQgYXMgbnVsbC5cbiAgICBjaGlsZHJlbiA9IG51bGw7XG4gIH1cblxuICB2YXIgaW52b2tlQ2FsbGJhY2sgPSBmYWxzZTtcblxuICBpZiAoY2hpbGRyZW4gPT09IG51bGwpIHtcbiAgICBpbnZva2VDYWxsYmFjayA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgaW52b2tlQ2FsbGJhY2sgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIHN3aXRjaCAoY2hpbGRyZW4uJCR0eXBlb2YpIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgaW52b2tlQ2FsbGJhY2sgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGludm9rZUNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sodHJhdmVyc2VDb250ZXh0LCBjaGlsZHJlbixcbiAgICAvLyBJZiBpdCdzIHRoZSBvbmx5IGNoaWxkLCB0cmVhdCB0aGUgbmFtZSBhcyBpZiBpdCB3YXMgd3JhcHBlZCBpbiBhbiBhcnJheVxuICAgIC8vIHNvIHRoYXQgaXQncyBjb25zaXN0ZW50IGlmIHRoZSBudW1iZXIgb2YgY2hpbGRyZW4gZ3Jvd3MuXG4gICAgbmFtZVNvRmFyID09PSAnJyA/IFNFUEFSQVRPUiArIGdldENvbXBvbmVudEtleShjaGlsZHJlbiwgMCkgOiBuYW1lU29GYXIpO1xuICAgIHJldHVybiAxO1xuICB9XG5cbiAgdmFyIGNoaWxkID0gdm9pZCAwO1xuICB2YXIgbmV4dE5hbWUgPSB2b2lkIDA7XG4gIHZhciBzdWJ0cmVlQ291bnQgPSAwOyAvLyBDb3VudCBvZiBjaGlsZHJlbiBmb3VuZCBpbiB0aGUgY3VycmVudCBzdWJ0cmVlLlxuICB2YXIgbmV4dE5hbWVQcmVmaXggPSBuYW1lU29GYXIgPT09ICcnID8gU0VQQVJBVE9SIDogbmFtZVNvRmFyICsgU1VCU0VQQVJBVE9SO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICBuZXh0TmFtZSA9IG5leHROYW1lUHJlZml4ICsgZ2V0Q29tcG9uZW50S2V5KGNoaWxkLCBpKTtcbiAgICAgIHN1YnRyZWVDb3VudCArPSB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZCwgbmV4dE5hbWUsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4oY2hpbGRyZW4pO1xuICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAge1xuICAgICAgICAvLyBXYXJuIGFib3V0IHVzaW5nIE1hcHMgYXMgY2hpbGRyZW5cbiAgICAgICAgaWYgKGl0ZXJhdG9yRm4gPT09IGNoaWxkcmVuLmVudHJpZXMpIHtcbiAgICAgICAgICB3YXJuaW5nKGRpZFdhcm5BYm91dE1hcHMsICdVc2luZyBNYXBzIGFzIGNoaWxkcmVuIGlzIHVuc3VwcG9ydGVkIGFuZCB3aWxsIGxpa2VseSB5aWVsZCAnICsgJ3VuZXhwZWN0ZWQgcmVzdWx0cy4gQ29udmVydCBpdCB0byBhIHNlcXVlbmNlL2l0ZXJhYmxlIG9mIGtleWVkICcgKyAnUmVhY3RFbGVtZW50cyBpbnN0ZWFkLiVzJywgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRTdGFja0FkZGVuZHVtKCkpO1xuICAgICAgICAgIGRpZFdhcm5BYm91dE1hcHMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChjaGlsZHJlbik7XG4gICAgICB2YXIgc3RlcCA9IHZvaWQgMDtcbiAgICAgIHZhciBpaSA9IDA7XG4gICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgIGNoaWxkID0gc3RlcC52YWx1ZTtcbiAgICAgICAgbmV4dE5hbWUgPSBuZXh0TmFtZVByZWZpeCArIGdldENvbXBvbmVudEtleShjaGlsZCwgaWkrKyk7XG4gICAgICAgIHN1YnRyZWVDb3VudCArPSB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZCwgbmV4dE5hbWUsIGNhbGxiYWNrLCB0cmF2ZXJzZUNvbnRleHQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHZhciBhZGRlbmR1bSA9ICcnO1xuICAgICAge1xuICAgICAgICBhZGRlbmR1bSA9ICcgSWYgeW91IG1lYW50IHRvIHJlbmRlciBhIGNvbGxlY3Rpb24gb2YgY2hpbGRyZW4sIHVzZSBhbiBhcnJheSAnICsgJ2luc3RlYWQuJyArIFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0U3RhY2tBZGRlbmR1bSgpO1xuICAgICAgfVxuICAgICAgdmFyIGNoaWxkcmVuU3RyaW5nID0gJycgKyBjaGlsZHJlbjtcbiAgICAgIGludmFyaWFudChmYWxzZSwgJ09iamVjdHMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkIChmb3VuZDogJXMpLiVzJywgY2hpbGRyZW5TdHJpbmcgPT09ICdbb2JqZWN0IE9iamVjdF0nID8gJ29iamVjdCB3aXRoIGtleXMgeycgKyBPYmplY3Qua2V5cyhjaGlsZHJlbikuam9pbignLCAnKSArICd9JyA6IGNoaWxkcmVuU3RyaW5nLCBhZGRlbmR1bSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN1YnRyZWVDb3VudDtcbn1cblxuLyoqXG4gKiBUcmF2ZXJzZXMgY2hpbGRyZW4gdGhhdCBhcmUgdHlwaWNhbGx5IHNwZWNpZmllZCBhcyBgcHJvcHMuY2hpbGRyZW5gLCBidXRcbiAqIG1pZ2h0IGFsc28gYmUgc3BlY2lmaWVkIHRocm91Z2ggYXR0cmlidXRlczpcbiAqXG4gKiAtIGB0cmF2ZXJzZUFsbENoaWxkcmVuKHRoaXMucHJvcHMuY2hpbGRyZW4sIC4uLilgXG4gKiAtIGB0cmF2ZXJzZUFsbENoaWxkcmVuKHRoaXMucHJvcHMubGVmdFBhbmVsQ2hpbGRyZW4sIC4uLilgXG4gKlxuICogVGhlIGB0cmF2ZXJzZUNvbnRleHRgIGlzIGFuIG9wdGlvbmFsIGFyZ3VtZW50IHRoYXQgaXMgcGFzc2VkIHRocm91Z2ggdGhlXG4gKiBlbnRpcmUgdHJhdmVyc2FsLiBJdCBjYW4gYmUgdXNlZCB0byBzdG9yZSBhY2N1bXVsYXRpb25zIG9yIGFueXRoaW5nIGVsc2UgdGhhdFxuICogdGhlIGNhbGxiYWNrIG1pZ2h0IGZpbmQgcmVsZXZhbnQuXG4gKlxuICogQHBhcmFtIHs/Kn0gY2hpbGRyZW4gQ2hpbGRyZW4gdHJlZSBvYmplY3QuXG4gKiBAcGFyYW0geyFmdW5jdGlvbn0gY2FsbGJhY2sgVG8gaW52b2tlIHVwb24gdHJhdmVyc2luZyBlYWNoIGNoaWxkLlxuICogQHBhcmFtIHs/Kn0gdHJhdmVyc2VDb250ZXh0IENvbnRleHQgZm9yIHRyYXZlcnNhbC5cbiAqIEByZXR1cm4geyFudW1iZXJ9IFRoZSBudW1iZXIgb2YgY2hpbGRyZW4gaW4gdGhpcyBzdWJ0cmVlLlxuICovXG5mdW5jdGlvbiB0cmF2ZXJzZUFsbENoaWxkcmVuKGNoaWxkcmVuLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KSB7XG4gIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICByZXR1cm4gdHJhdmVyc2VBbGxDaGlsZHJlbkltcGwoY2hpbGRyZW4sICcnLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBhIGtleSBzdHJpbmcgdGhhdCBpZGVudGlmaWVzIGEgY29tcG9uZW50IHdpdGhpbiBhIHNldC5cbiAqXG4gKiBAcGFyYW0geyp9IGNvbXBvbmVudCBBIGNvbXBvbmVudCB0aGF0IGNvdWxkIGNvbnRhaW4gYSBtYW51YWwga2V5LlxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IEluZGV4IHRoYXQgaXMgdXNlZCBpZiBhIG1hbnVhbCBrZXkgaXMgbm90IHByb3ZpZGVkLlxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBnZXRDb21wb25lbnRLZXkoY29tcG9uZW50LCBpbmRleCkge1xuICAvLyBEbyBzb21lIHR5cGVjaGVja2luZyBoZXJlIHNpbmNlIHdlIGNhbGwgdGhpcyBibGluZGx5LiBXZSB3YW50IHRvIGVuc3VyZVxuICAvLyB0aGF0IHdlIGRvbid0IGJsb2NrIHBvdGVudGlhbCBmdXR1cmUgRVMgQVBJcy5cbiAgaWYgKHR5cGVvZiBjb21wb25lbnQgPT09ICdvYmplY3QnICYmIGNvbXBvbmVudCAhPT0gbnVsbCAmJiBjb21wb25lbnQua2V5ICE9IG51bGwpIHtcbiAgICAvLyBFeHBsaWNpdCBrZXlcbiAgICByZXR1cm4gZXNjYXBlKGNvbXBvbmVudC5rZXkpO1xuICB9XG4gIC8vIEltcGxpY2l0IGtleSBkZXRlcm1pbmVkIGJ5IHRoZSBpbmRleCBpbiB0aGUgc2V0XG4gIHJldHVybiBpbmRleC50b1N0cmluZygzNik7XG59XG5cbmZ1bmN0aW9uIGZvckVhY2hTaW5nbGVDaGlsZChib29rS2VlcGluZywgY2hpbGQsIG5hbWUpIHtcbiAgdmFyIGZ1bmMgPSBib29rS2VlcGluZy5mdW5jLFxuICAgICAgY29udGV4dCA9IGJvb2tLZWVwaW5nLmNvbnRleHQ7XG5cbiAgZnVuYy5jYWxsKGNvbnRleHQsIGNoaWxkLCBib29rS2VlcGluZy5jb3VudCsrKTtcbn1cblxuLyoqXG4gKiBJdGVyYXRlcyB0aHJvdWdoIGNoaWxkcmVuIHRoYXQgYXJlIHR5cGljYWxseSBzcGVjaWZpZWQgYXMgYHByb3BzLmNoaWxkcmVuYC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI3JlYWN0LmNoaWxkcmVuLmZvcmVhY2hcbiAqXG4gKiBUaGUgcHJvdmlkZWQgZm9yRWFjaEZ1bmMoY2hpbGQsIGluZGV4KSB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaFxuICogbGVhZiBjaGlsZC5cbiAqXG4gKiBAcGFyYW0gez8qfSBjaGlsZHJlbiBDaGlsZHJlbiB0cmVlIGNvbnRhaW5lci5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKiwgaW50KX0gZm9yRWFjaEZ1bmNcbiAqIEBwYXJhbSB7Kn0gZm9yRWFjaENvbnRleHQgQ29udGV4dCBmb3IgZm9yRWFjaENvbnRleHQuXG4gKi9cbmZ1bmN0aW9uIGZvckVhY2hDaGlsZHJlbihjaGlsZHJlbiwgZm9yRWFjaEZ1bmMsIGZvckVhY2hDb250ZXh0KSB7XG4gIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9XG4gIHZhciB0cmF2ZXJzZUNvbnRleHQgPSBnZXRQb29sZWRUcmF2ZXJzZUNvbnRleHQobnVsbCwgbnVsbCwgZm9yRWFjaEZ1bmMsIGZvckVhY2hDb250ZXh0KTtcbiAgdHJhdmVyc2VBbGxDaGlsZHJlbihjaGlsZHJlbiwgZm9yRWFjaFNpbmdsZUNoaWxkLCB0cmF2ZXJzZUNvbnRleHQpO1xuICByZWxlYXNlVHJhdmVyc2VDb250ZXh0KHRyYXZlcnNlQ29udGV4dCk7XG59XG5cbmZ1bmN0aW9uIG1hcFNpbmdsZUNoaWxkSW50b0NvbnRleHQoYm9va0tlZXBpbmcsIGNoaWxkLCBjaGlsZEtleSkge1xuICB2YXIgcmVzdWx0ID0gYm9va0tlZXBpbmcucmVzdWx0LFxuICAgICAga2V5UHJlZml4ID0gYm9va0tlZXBpbmcua2V5UHJlZml4LFxuICAgICAgZnVuYyA9IGJvb2tLZWVwaW5nLmZ1bmMsXG4gICAgICBjb250ZXh0ID0gYm9va0tlZXBpbmcuY29udGV4dDtcblxuXG4gIHZhciBtYXBwZWRDaGlsZCA9IGZ1bmMuY2FsbChjb250ZXh0LCBjaGlsZCwgYm9va0tlZXBpbmcuY291bnQrKyk7XG4gIGlmIChBcnJheS5pc0FycmF5KG1hcHBlZENoaWxkKSkge1xuICAgIG1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWwobWFwcGVkQ2hpbGQsIHJlc3VsdCwgY2hpbGRLZXksIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCk7XG4gIH0gZWxzZSBpZiAobWFwcGVkQ2hpbGQgIT0gbnVsbCkge1xuICAgIGlmIChpc1ZhbGlkRWxlbWVudChtYXBwZWRDaGlsZCkpIHtcbiAgICAgIG1hcHBlZENoaWxkID0gY2xvbmVBbmRSZXBsYWNlS2V5KG1hcHBlZENoaWxkLFxuICAgICAgLy8gS2VlcCBib3RoIHRoZSAobWFwcGVkKSBhbmQgb2xkIGtleXMgaWYgdGhleSBkaWZmZXIsIGp1c3QgYXNcbiAgICAgIC8vIHRyYXZlcnNlQWxsQ2hpbGRyZW4gdXNlZCB0byBkbyBmb3Igb2JqZWN0cyBhcyBjaGlsZHJlblxuICAgICAga2V5UHJlZml4ICsgKG1hcHBlZENoaWxkLmtleSAmJiAoIWNoaWxkIHx8IGNoaWxkLmtleSAhPT0gbWFwcGVkQ2hpbGQua2V5KSA/IGVzY2FwZVVzZXJQcm92aWRlZEtleShtYXBwZWRDaGlsZC5rZXkpICsgJy8nIDogJycpICsgY2hpbGRLZXkpO1xuICAgIH1cbiAgICByZXN1bHQucHVzaChtYXBwZWRDaGlsZCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbChjaGlsZHJlbiwgYXJyYXksIHByZWZpeCwgZnVuYywgY29udGV4dCkge1xuICB2YXIgZXNjYXBlZFByZWZpeCA9ICcnO1xuICBpZiAocHJlZml4ICE9IG51bGwpIHtcbiAgICBlc2NhcGVkUHJlZml4ID0gZXNjYXBlVXNlclByb3ZpZGVkS2V5KHByZWZpeCkgKyAnLyc7XG4gIH1cbiAgdmFyIHRyYXZlcnNlQ29udGV4dCA9IGdldFBvb2xlZFRyYXZlcnNlQ29udGV4dChhcnJheSwgZXNjYXBlZFByZWZpeCwgZnVuYywgY29udGV4dCk7XG4gIHRyYXZlcnNlQWxsQ2hpbGRyZW4oY2hpbGRyZW4sIG1hcFNpbmdsZUNoaWxkSW50b0NvbnRleHQsIHRyYXZlcnNlQ29udGV4dCk7XG4gIHJlbGVhc2VUcmF2ZXJzZUNvbnRleHQodHJhdmVyc2VDb250ZXh0KTtcbn1cblxuLyoqXG4gKiBNYXBzIGNoaWxkcmVuIHRoYXQgYXJlIHR5cGljYWxseSBzcGVjaWZpZWQgYXMgYHByb3BzLmNoaWxkcmVuYC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI3JlYWN0LmNoaWxkcmVuLm1hcFxuICpcbiAqIFRoZSBwcm92aWRlZCBtYXBGdW5jdGlvbihjaGlsZCwga2V5LCBpbmRleCkgd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2hcbiAqIGxlYWYgY2hpbGQuXG4gKlxuICogQHBhcmFtIHs/Kn0gY2hpbGRyZW4gQ2hpbGRyZW4gdHJlZSBjb250YWluZXIuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCosIGludCl9IGZ1bmMgVGhlIG1hcCBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBDb250ZXh0IGZvciBtYXBGdW5jdGlvbi5cbiAqIEByZXR1cm4ge29iamVjdH0gT2JqZWN0IGNvbnRhaW5pbmcgdGhlIG9yZGVyZWQgbWFwIG9mIHJlc3VsdHMuXG4gKi9cbmZ1bmN0aW9uIG1hcENoaWxkcmVuKGNoaWxkcmVuLCBmdW5jLCBjb250ZXh0KSB7XG4gIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgbWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbChjaGlsZHJlbiwgcmVzdWx0LCBudWxsLCBmdW5jLCBjb250ZXh0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDb3VudCB0aGUgbnVtYmVyIG9mIGNoaWxkcmVuIHRoYXQgYXJlIHR5cGljYWxseSBzcGVjaWZpZWQgYXNcbiAqIGBwcm9wcy5jaGlsZHJlbmAuXG4gKlxuICogU2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9yZWFjdC1hcGkuaHRtbCNyZWFjdC5jaGlsZHJlbi5jb3VudFxuICpcbiAqIEBwYXJhbSB7Pyp9IGNoaWxkcmVuIENoaWxkcmVuIHRyZWUgY29udGFpbmVyLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbnVtYmVyIG9mIGNoaWxkcmVuLlxuICovXG5mdW5jdGlvbiBjb3VudENoaWxkcmVuKGNoaWxkcmVuLCBjb250ZXh0KSB7XG4gIHJldHVybiB0cmF2ZXJzZUFsbENoaWxkcmVuKGNoaWxkcmVuLCBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbCwgbnVsbCk7XG59XG5cbi8qKlxuICogRmxhdHRlbiBhIGNoaWxkcmVuIG9iamVjdCAodHlwaWNhbGx5IHNwZWNpZmllZCBhcyBgcHJvcHMuY2hpbGRyZW5gKSBhbmRcbiAqIHJldHVybiBhbiBhcnJheSB3aXRoIGFwcHJvcHJpYXRlbHkgcmUta2V5ZWQgY2hpbGRyZW4uXG4gKlxuICogU2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9yZWFjdC1hcGkuaHRtbCNyZWFjdC5jaGlsZHJlbi50b2FycmF5XG4gKi9cbmZ1bmN0aW9uIHRvQXJyYXkoY2hpbGRyZW4pIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsKGNoaWxkcmVuLCByZXN1bHQsIG51bGwsIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZmlyc3QgY2hpbGQgaW4gYSBjb2xsZWN0aW9uIG9mIGNoaWxkcmVuIGFuZCB2ZXJpZmllcyB0aGF0IHRoZXJlXG4gKiBpcyBvbmx5IG9uZSBjaGlsZCBpbiB0aGUgY29sbGVjdGlvbi5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI3JlYWN0LmNoaWxkcmVuLm9ubHlcbiAqXG4gKiBUaGUgY3VycmVudCBpbXBsZW1lbnRhdGlvbiBvZiB0aGlzIGZ1bmN0aW9uIGFzc3VtZXMgdGhhdCBhIHNpbmdsZSBjaGlsZCBnZXRzXG4gKiBwYXNzZWQgd2l0aG91dCBhIHdyYXBwZXIsIGJ1dCB0aGUgcHVycG9zZSBvZiB0aGlzIGhlbHBlciBmdW5jdGlvbiBpcyB0b1xuICogYWJzdHJhY3QgYXdheSB0aGUgcGFydGljdWxhciBzdHJ1Y3R1cmUgb2YgY2hpbGRyZW4uXG4gKlxuICogQHBhcmFtIHs/b2JqZWN0fSBjaGlsZHJlbiBDaGlsZCBjb2xsZWN0aW9uIHN0cnVjdHVyZS5cbiAqIEByZXR1cm4ge1JlYWN0RWxlbWVudH0gVGhlIGZpcnN0IGFuZCBvbmx5IGBSZWFjdEVsZW1lbnRgIGNvbnRhaW5lZCBpbiB0aGVcbiAqIHN0cnVjdHVyZS5cbiAqL1xuZnVuY3Rpb24gb25seUNoaWxkKGNoaWxkcmVuKSB7XG4gICFpc1ZhbGlkRWxlbWVudChjaGlsZHJlbikgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdC5DaGlsZHJlbi5vbmx5IGV4cGVjdGVkIHRvIHJlY2VpdmUgYSBzaW5nbGUgUmVhY3QgZWxlbWVudCBjaGlsZC4nKSA6IHZvaWQgMDtcbiAgcmV0dXJuIGNoaWxkcmVuO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVDb250ZXh0KGRlZmF1bHRWYWx1ZSwgY2FsY3VsYXRlQ2hhbmdlZEJpdHMpIHtcbiAgaWYgKGNhbGN1bGF0ZUNoYW5nZWRCaXRzID09PSB1bmRlZmluZWQpIHtcbiAgICBjYWxjdWxhdGVDaGFuZ2VkQml0cyA9IG51bGw7XG4gIH0gZWxzZSB7XG4gICAge1xuICAgICAgd2FybmluZyhjYWxjdWxhdGVDaGFuZ2VkQml0cyA9PT0gbnVsbCB8fCB0eXBlb2YgY2FsY3VsYXRlQ2hhbmdlZEJpdHMgPT09ICdmdW5jdGlvbicsICdjcmVhdGVDb250ZXh0OiBFeHBlY3RlZCB0aGUgb3B0aW9uYWwgc2Vjb25kIGFyZ3VtZW50IHRvIGJlIGEgJyArICdmdW5jdGlvbi4gSW5zdGVhZCByZWNlaXZlZDogJXMnLCBjYWxjdWxhdGVDaGFuZ2VkQml0cyk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGNvbnRleHQgPSB7XG4gICAgJCR0eXBlb2Y6IFJFQUNUX0NPTlRFWFRfVFlQRSxcbiAgICBfY2FsY3VsYXRlQ2hhbmdlZEJpdHM6IGNhbGN1bGF0ZUNoYW5nZWRCaXRzLFxuICAgIF9kZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZSxcbiAgICBfY3VycmVudFZhbHVlOiBkZWZhdWx0VmFsdWUsXG4gICAgX2NoYW5nZWRCaXRzOiAwLFxuICAgIC8vIFRoZXNlIGFyZSBjaXJjdWxhclxuICAgIFByb3ZpZGVyOiBudWxsLFxuICAgIENvbnN1bWVyOiBudWxsXG4gIH07XG5cbiAgY29udGV4dC5Qcm92aWRlciA9IHtcbiAgICAkJHR5cGVvZjogUkVBQ1RfUFJPVklERVJfVFlQRSxcbiAgICBfY29udGV4dDogY29udGV4dFxuICB9O1xuICBjb250ZXh0LkNvbnN1bWVyID0gY29udGV4dDtcblxuICB7XG4gICAgY29udGV4dC5fY3VycmVudFJlbmRlcmVyID0gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBjb250ZXh0O1xufVxuXG5mdW5jdGlvbiBmb3J3YXJkUmVmKHJlbmRlcikge1xuICB7XG4gICAgd2FybmluZyh0eXBlb2YgcmVuZGVyID09PSAnZnVuY3Rpb24nLCAnZm9yd2FyZFJlZiByZXF1aXJlcyBhIHJlbmRlciBmdW5jdGlvbiBidXQgd2FzIGdpdmVuICVzLicsIHJlbmRlciA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiByZW5kZXIpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICAkJHR5cGVvZjogUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSxcbiAgICByZW5kZXI6IHJlbmRlclxuICB9O1xufVxuXG52YXIgZGVzY3JpYmVDb21wb25lbnRGcmFtZSA9IGZ1bmN0aW9uIChuYW1lLCBzb3VyY2UsIG93bmVyTmFtZSkge1xuICByZXR1cm4gJ1xcbiAgICBpbiAnICsgKG5hbWUgfHwgJ1Vua25vd24nKSArIChzb3VyY2UgPyAnIChhdCAnICsgc291cmNlLmZpbGVOYW1lLnJlcGxhY2UoL14uKltcXFxcXFwvXS8sICcnKSArICc6JyArIHNvdXJjZS5saW5lTnVtYmVyICsgJyknIDogb3duZXJOYW1lID8gJyAoY3JlYXRlZCBieSAnICsgb3duZXJOYW1lICsgJyknIDogJycpO1xufTtcblxuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpIHtcbiAgcmV0dXJuIHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fFxuICAvLyBOb3RlOiBpdHMgdHlwZW9mIG1pZ2h0IGJlIG90aGVyIHRoYW4gJ3N5bWJvbCcgb3IgJ251bWJlcicgaWYgaXQncyBhIHBvbHlmaWxsLlxuICB0eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX0FTWU5DX01PREVfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFIHx8IHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsICYmICh0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9QUk9WSURFUl9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFKTtcbn1cblxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZShmaWJlcikge1xuICB2YXIgdHlwZSA9IGZpYmVyLnR5cGU7XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lO1xuICB9XG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdHlwZTtcbiAgfVxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIFJFQUNUX0ZSQUdNRU5UX1RZUEU6XG4gICAgICByZXR1cm4gJ1JlYWN0RnJhZ21lbnQnO1xuICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICByZXR1cm4gJ1JlYWN0UG9ydGFsJztcbiAgICBjYXNlIFJFQUNUX0NBTExfVFlQRTpcbiAgICAgIHJldHVybiAnUmVhY3RDYWxsJztcbiAgICBjYXNlIFJFQUNUX1JFVFVSTl9UWVBFOlxuICAgICAgcmV0dXJuICdSZWFjdFJldHVybic7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogUmVhY3RFbGVtZW50VmFsaWRhdG9yIHByb3ZpZGVzIGEgd3JhcHBlciBhcm91bmQgYSBlbGVtZW50IGZhY3RvcnlcbiAqIHdoaWNoIHZhbGlkYXRlcyB0aGUgcHJvcHMgcGFzc2VkIHRvIHRoZSBlbGVtZW50LiBUaGlzIGlzIGludGVuZGVkIHRvIGJlXG4gKiB1c2VkIG9ubHkgaW4gREVWIGFuZCBjb3VsZCBiZSByZXBsYWNlZCBieSBhIHN0YXRpYyB0eXBlIGNoZWNrZXIgZm9yIGxhbmd1YWdlc1xuICogdGhhdCBzdXBwb3J0IGl0LlxuICovXG5cbnZhciBjdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCA9IHZvaWQgMDtcbnZhciBwcm9wVHlwZXNNaXNzcGVsbFdhcm5pbmdTaG93biA9IHZvaWQgMDtcblxudmFyIGdldERpc3BsYXlOYW1lID0gZnVuY3Rpb24gKCkge307XG52YXIgZ2V0U3RhY2tBZGRlbmR1bSA9IGZ1bmN0aW9uICgpIHt9O1xuXG57XG4gIGN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50ID0gbnVsbDtcblxuICBwcm9wVHlwZXNNaXNzcGVsbFdhcm5pbmdTaG93biA9IGZhbHNlO1xuXG4gIGdldERpc3BsYXlOYW1lID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gJyNlbXB0eSc7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZWxlbWVudCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGVsZW1lbnQgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gJyN0ZXh0JztcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbGVtZW50LnR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gZWxlbWVudC50eXBlO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudC50eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFKSB7XG4gICAgICByZXR1cm4gJ1JlYWN0LkZyYWdtZW50JztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVsZW1lbnQudHlwZS5kaXNwbGF5TmFtZSB8fCBlbGVtZW50LnR5cGUubmFtZSB8fCAnVW5rbm93bic7XG4gICAgfVxuICB9O1xuXG4gIGdldFN0YWNrQWRkZW5kdW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN0YWNrID0gJyc7XG4gICAgaWYgKGN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KSB7XG4gICAgICB2YXIgbmFtZSA9IGdldERpc3BsYXlOYW1lKGN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KTtcbiAgICAgIHZhciBvd25lciA9IGN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50Ll9vd25lcjtcbiAgICAgIHN0YWNrICs9IGRlc2NyaWJlQ29tcG9uZW50RnJhbWUobmFtZSwgY3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQuX3NvdXJjZSwgb3duZXIgJiYgZ2V0Q29tcG9uZW50TmFtZShvd25lcikpO1xuICAgIH1cbiAgICBzdGFjayArPSBSZWFjdERlYnVnQ3VycmVudEZyYW1lLmdldFN0YWNrQWRkZW5kdW0oKSB8fCAnJztcbiAgICByZXR1cm4gc3RhY2s7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpIHtcbiAgaWYgKFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQpIHtcbiAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCk7XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIHJldHVybiAnXFxuXFxuQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICB9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG5mdW5jdGlvbiBnZXRTb3VyY2VJbmZvRXJyb3JBZGRlbmR1bShlbGVtZW50UHJvcHMpIHtcbiAgaWYgKGVsZW1lbnRQcm9wcyAhPT0gbnVsbCAmJiBlbGVtZW50UHJvcHMgIT09IHVuZGVmaW5lZCAmJiBlbGVtZW50UHJvcHMuX19zb3VyY2UgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBzb3VyY2UgPSBlbGVtZW50UHJvcHMuX19zb3VyY2U7XG4gICAgdmFyIGZpbGVOYW1lID0gc291cmNlLmZpbGVOYW1lLnJlcGxhY2UoL14uKltcXFxcXFwvXS8sICcnKTtcbiAgICB2YXIgbGluZU51bWJlciA9IHNvdXJjZS5saW5lTnVtYmVyO1xuICAgIHJldHVybiAnXFxuXFxuQ2hlY2sgeW91ciBjb2RlIGF0ICcgKyBmaWxlTmFtZSArICc6JyArIGxpbmVOdW1iZXIgKyAnLic7XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIFdhcm4gaWYgdGhlcmUncyBubyBrZXkgZXhwbGljaXRseSBzZXQgb24gZHluYW1pYyBhcnJheXMgb2YgY2hpbGRyZW4gb3JcbiAqIG9iamVjdCBrZXlzIGFyZSBub3QgdmFsaWQuIFRoaXMgYWxsb3dzIHVzIHRvIGtlZXAgdHJhY2sgb2YgY2hpbGRyZW4gYmV0d2VlblxuICogdXBkYXRlcy5cbiAqL1xudmFyIG93bmVySGFzS2V5VXNlV2FybmluZyA9IHt9O1xuXG5mdW5jdGlvbiBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpIHtcbiAgdmFyIGluZm8gPSBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKTtcblxuICBpZiAoIWluZm8pIHtcbiAgICB2YXIgcGFyZW50TmFtZSA9IHR5cGVvZiBwYXJlbnRUeXBlID09PSAnc3RyaW5nJyA/IHBhcmVudFR5cGUgOiBwYXJlbnRUeXBlLmRpc3BsYXlOYW1lIHx8IHBhcmVudFR5cGUubmFtZTtcbiAgICBpZiAocGFyZW50TmFtZSkge1xuICAgICAgaW5mbyA9ICdcXG5cXG5DaGVjayB0aGUgdG9wLWxldmVsIHJlbmRlciBjYWxsIHVzaW5nIDwnICsgcGFyZW50TmFtZSArICc+Lic7XG4gICAgfVxuICB9XG4gIHJldHVybiBpbmZvO1xufVxuXG4vKipcbiAqIFdhcm4gaWYgdGhlIGVsZW1lbnQgZG9lc24ndCBoYXZlIGFuIGV4cGxpY2l0IGtleSBhc3NpZ25lZCB0byBpdC5cbiAqIFRoaXMgZWxlbWVudCBpcyBpbiBhbiBhcnJheS4gVGhlIGFycmF5IGNvdWxkIGdyb3cgYW5kIHNocmluayBvciBiZVxuICogcmVvcmRlcmVkLiBBbGwgY2hpbGRyZW4gdGhhdCBoYXZlbid0IGFscmVhZHkgYmVlbiB2YWxpZGF0ZWQgYXJlIHJlcXVpcmVkIHRvXG4gKiBoYXZlIGEgXCJrZXlcIiBwcm9wZXJ0eSBhc3NpZ25lZCB0byBpdC4gRXJyb3Igc3RhdHVzZXMgYXJlIGNhY2hlZCBzbyBhIHdhcm5pbmdcbiAqIHdpbGwgb25seSBiZSBzaG93biBvbmNlLlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0aGF0IHJlcXVpcmVzIGEga2V5LlxuICogQHBhcmFtIHsqfSBwYXJlbnRUeXBlIGVsZW1lbnQncyBwYXJlbnQncyB0eXBlLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZUV4cGxpY2l0S2V5KGVsZW1lbnQsIHBhcmVudFR5cGUpIHtcbiAgaWYgKCFlbGVtZW50Ll9zdG9yZSB8fCBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgfHwgZWxlbWVudC5rZXkgIT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuICBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgPSB0cnVlO1xuXG4gIHZhciBjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvID0gZ2V0Q3VycmVudENvbXBvbmVudEVycm9ySW5mbyhwYXJlbnRUeXBlKTtcbiAgaWYgKG93bmVySGFzS2V5VXNlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSkge1xuICAgIHJldHVybjtcbiAgfVxuICBvd25lckhhc0tleVVzZVdhcm5pbmdbY3VycmVudENvbXBvbmVudEVycm9ySW5mb10gPSB0cnVlO1xuXG4gIC8vIFVzdWFsbHkgdGhlIGN1cnJlbnQgb3duZXIgaXMgdGhlIG9mZmVuZGVyLCBidXQgaWYgaXQgYWNjZXB0cyBjaGlsZHJlbiBhcyBhXG4gIC8vIHByb3BlcnR5LCBpdCBtYXkgYmUgdGhlIGNyZWF0b3Igb2YgdGhlIGNoaWxkIHRoYXQncyByZXNwb25zaWJsZSBmb3JcbiAgLy8gYXNzaWduaW5nIGl0IGEga2V5LlxuICB2YXIgY2hpbGRPd25lciA9ICcnO1xuICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Ll9vd25lciAmJiBlbGVtZW50Ll9vd25lciAhPT0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgIC8vIEdpdmUgdGhlIGNvbXBvbmVudCB0aGF0IG9yaWdpbmFsbHkgY3JlYXRlZCB0aGlzIGNoaWxkLlxuICAgIGNoaWxkT3duZXIgPSAnIEl0IHdhcyBwYXNzZWQgYSBjaGlsZCBmcm9tICcgKyBnZXRDb21wb25lbnROYW1lKGVsZW1lbnQuX293bmVyKSArICcuJztcbiAgfVxuXG4gIGN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50ID0gZWxlbWVudDtcbiAge1xuICAgIHdhcm5pbmcoZmFsc2UsICdFYWNoIGNoaWxkIGluIGFuIGFycmF5IG9yIGl0ZXJhdG9yIHNob3VsZCBoYXZlIGEgdW5pcXVlIFwia2V5XCIgcHJvcC4nICsgJyVzJXMgU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLiVzJywgY3VycmVudENvbXBvbmVudEVycm9ySW5mbywgY2hpbGRPd25lciwgZ2V0U3RhY2tBZGRlbmR1bSgpKTtcbiAgfVxuICBjdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCA9IG51bGw7XG59XG5cbi8qKlxuICogRW5zdXJlIHRoYXQgZXZlcnkgZWxlbWVudCBlaXRoZXIgaXMgcGFzc2VkIGluIGEgc3RhdGljIGxvY2F0aW9uLCBpbiBhblxuICogYXJyYXkgd2l0aCBhbiBleHBsaWNpdCBrZXlzIHByb3BlcnR5IGRlZmluZWQsIG9yIGluIGFuIG9iamVjdCBsaXRlcmFsXG4gKiB3aXRoIHZhbGlkIGtleSBwcm9wZXJ0eS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqIEBwYXJhbSB7UmVhY3ROb2RlfSBub2RlIFN0YXRpY2FsbHkgcGFzc2VkIGNoaWxkIG9mIGFueSB0eXBlLlxuICogQHBhcmFtIHsqfSBwYXJlbnRUeXBlIG5vZGUncyBwYXJlbnQncyB0eXBlLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZUNoaWxkS2V5cyhub2RlLCBwYXJlbnRUeXBlKSB7XG4gIGlmICh0eXBlb2Ygbm9kZSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkobm9kZSkpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjaGlsZCA9IG5vZGVbaV07XG4gICAgICBpZiAoaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSB7XG4gICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoY2hpbGQsIHBhcmVudFR5cGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChpc1ZhbGlkRWxlbWVudChub2RlKSkge1xuICAgIC8vIFRoaXMgZWxlbWVudCB3YXMgcGFzc2VkIGluIGEgdmFsaWQgbG9jYXRpb24uXG4gICAgaWYgKG5vZGUuX3N0b3JlKSB7XG4gICAgICBub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfSBlbHNlIGlmIChub2RlKSB7XG4gICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKG5vZGUpO1xuICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gRW50cnkgaXRlcmF0b3JzIHVzZWQgdG8gcHJvdmlkZSBpbXBsaWNpdCBrZXlzLFxuICAgICAgLy8gYnV0IG5vdyB3ZSBwcmludCBhIHNlcGFyYXRlIHdhcm5pbmcgZm9yIHRoZW0gbGF0ZXIuXG4gICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gbm9kZS5lbnRyaWVzKSB7XG4gICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChub2RlKTtcbiAgICAgICAgdmFyIHN0ZXAgPSB2b2lkIDA7XG4gICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICBpZiAoaXNWYWxpZEVsZW1lbnQoc3RlcC52YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoc3RlcC52YWx1ZSwgcGFyZW50VHlwZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogR2l2ZW4gYW4gZWxlbWVudCwgdmFsaWRhdGUgdGhhdCBpdHMgcHJvcHMgZm9sbG93IHRoZSBwcm9wVHlwZXMgZGVmaW5pdGlvbixcbiAqIHByb3ZpZGVkIGJ5IHRoZSB0eXBlLlxuICpcbiAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcFR5cGVzKGVsZW1lbnQpIHtcbiAgdmFyIGNvbXBvbmVudENsYXNzID0gZWxlbWVudC50eXBlO1xuICBpZiAodHlwZW9mIGNvbXBvbmVudENsYXNzICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBuYW1lID0gY29tcG9uZW50Q2xhc3MuZGlzcGxheU5hbWUgfHwgY29tcG9uZW50Q2xhc3MubmFtZTtcbiAgdmFyIHByb3BUeXBlcyA9IGNvbXBvbmVudENsYXNzLnByb3BUeXBlcztcbiAgaWYgKHByb3BUeXBlcykge1xuICAgIGN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50ID0gZWxlbWVudDtcbiAgICBjaGVja1Byb3BUeXBlcyhwcm9wVHlwZXMsIGVsZW1lbnQucHJvcHMsICdwcm9wJywgbmFtZSwgZ2V0U3RhY2tBZGRlbmR1bSk7XG4gICAgY3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQgPSBudWxsO1xuICB9IGVsc2UgaWYgKGNvbXBvbmVudENsYXNzLlByb3BUeXBlcyAhPT0gdW5kZWZpbmVkICYmICFwcm9wVHlwZXNNaXNzcGVsbFdhcm5pbmdTaG93bikge1xuICAgIHByb3BUeXBlc01pc3NwZWxsV2FybmluZ1Nob3duID0gdHJ1ZTtcbiAgICB3YXJuaW5nKGZhbHNlLCAnQ29tcG9uZW50ICVzIGRlY2xhcmVkIGBQcm9wVHlwZXNgIGluc3RlYWQgb2YgYHByb3BUeXBlc2AuIERpZCB5b3UgbWlzc3BlbGwgdGhlIHByb3BlcnR5IGFzc2lnbm1lbnQ/JywgbmFtZSB8fCAnVW5rbm93bicpO1xuICB9XG4gIGlmICh0eXBlb2YgY29tcG9uZW50Q2xhc3MuZ2V0RGVmYXVsdFByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgd2FybmluZyhjb21wb25lbnRDbGFzcy5nZXREZWZhdWx0UHJvcHMuaXNSZWFjdENsYXNzQXBwcm92ZWQsICdnZXREZWZhdWx0UHJvcHMgaXMgb25seSB1c2VkIG9uIGNsYXNzaWMgUmVhY3QuY3JlYXRlQ2xhc3MgJyArICdkZWZpbml0aW9ucy4gVXNlIGEgc3RhdGljIHByb3BlcnR5IG5hbWVkIGBkZWZhdWx0UHJvcHNgIGluc3RlYWQuJyk7XG4gIH1cbn1cblxuLyoqXG4gKiBHaXZlbiBhIGZyYWdtZW50LCB2YWxpZGF0ZSB0aGF0IGl0IGNhbiBvbmx5IGJlIHByb3ZpZGVkIHdpdGggZnJhZ21lbnQgcHJvcHNcbiAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBmcmFnbWVudFxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZUZyYWdtZW50UHJvcHMoZnJhZ21lbnQpIHtcbiAgY3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQgPSBmcmFnbWVudDtcblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGZyYWdtZW50LnByb3BzKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgaWYgKGtleSAhPT0gJ2NoaWxkcmVuJyAmJiBrZXkgIT09ICdrZXknKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnSW52YWxpZCBwcm9wIGAlc2Agc3VwcGxpZWQgdG8gYFJlYWN0LkZyYWdtZW50YC4gJyArICdSZWFjdC5GcmFnbWVudCBjYW4gb25seSBoYXZlIGBrZXlgIGFuZCBgY2hpbGRyZW5gIHByb3BzLiVzJywga2V5LCBnZXRTdGFja0FkZGVuZHVtKCkpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKGZyYWdtZW50LnJlZiAhPT0gbnVsbCkge1xuICAgIHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIGF0dHJpYnV0ZSBgcmVmYCBzdXBwbGllZCB0byBgUmVhY3QuRnJhZ21lbnRgLiVzJywgZ2V0U3RhY2tBZGRlbmR1bSgpKTtcbiAgfVxuXG4gIGN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50ID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudFdpdGhWYWxpZGF0aW9uKHR5cGUsIHByb3BzLCBjaGlsZHJlbikge1xuICB2YXIgdmFsaWRUeXBlID0gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpO1xuXG4gIC8vIFdlIHdhcm4gaW4gdGhpcyBjYXNlIGJ1dCBkb24ndCB0aHJvdy4gV2UgZXhwZWN0IHRoZSBlbGVtZW50IGNyZWF0aW9uIHRvXG4gIC8vIHN1Y2NlZWQgYW5kIHRoZXJlIHdpbGwgbGlrZWx5IGJlIGVycm9ycyBpbiByZW5kZXIuXG4gIGlmICghdmFsaWRUeXBlKSB7XG4gICAgdmFyIGluZm8gPSAnJztcbiAgICBpZiAodHlwZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsICYmIE9iamVjdC5rZXlzKHR5cGUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaW5mbyArPSAnIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlICcgKyBcIml0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgbmFtZWQgaW1wb3J0cy5cIjtcbiAgICB9XG5cbiAgICB2YXIgc291cmNlSW5mbyA9IGdldFNvdXJjZUluZm9FcnJvckFkZGVuZHVtKHByb3BzKTtcbiAgICBpZiAoc291cmNlSW5mbykge1xuICAgICAgaW5mbyArPSBzb3VyY2VJbmZvO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbmZvICs9IGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpO1xuICAgIH1cblxuICAgIGluZm8gKz0gZ2V0U3RhY2tBZGRlbmR1bSgpIHx8ICcnO1xuXG4gICAgdmFyIHR5cGVTdHJpbmcgPSB2b2lkIDA7XG4gICAgaWYgKHR5cGUgPT09IG51bGwpIHtcbiAgICAgIHR5cGVTdHJpbmcgPSAnbnVsbCc7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHR5cGUpKSB7XG4gICAgICB0eXBlU3RyaW5nID0gJ2FycmF5JztcbiAgICB9IGVsc2Uge1xuICAgICAgdHlwZVN0cmluZyA9IHR5cGVvZiB0eXBlO1xuICAgIH1cblxuICAgIHdhcm5pbmcoZmFsc2UsICdSZWFjdC5jcmVhdGVFbGVtZW50OiB0eXBlIGlzIGludmFsaWQgLS0gZXhwZWN0ZWQgYSBzdHJpbmcgKGZvciAnICsgJ2J1aWx0LWluIGNvbXBvbmVudHMpIG9yIGEgY2xhc3MvZnVuY3Rpb24gKGZvciBjb21wb3NpdGUgJyArICdjb21wb25lbnRzKSBidXQgZ290OiAlcy4lcycsIHR5cGVTdHJpbmcsIGluZm8pO1xuICB9XG5cbiAgdmFyIGVsZW1lbnQgPSBjcmVhdGVFbGVtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgLy8gVGhlIHJlc3VsdCBjYW4gYmUgbnVsbGlzaCBpZiBhIG1vY2sgb3IgYSBjdXN0b20gZnVuY3Rpb24gaXMgdXNlZC5cbiAgLy8gVE9ETzogRHJvcCB0aGlzIHdoZW4gdGhlc2UgYXJlIG5vIGxvbmdlciBhbGxvd2VkIGFzIHRoZSB0eXBlIGFyZ3VtZW50LlxuICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICAvLyBTa2lwIGtleSB3YXJuaW5nIGlmIHRoZSB0eXBlIGlzbid0IHZhbGlkIHNpbmNlIG91ciBrZXkgdmFsaWRhdGlvbiBsb2dpY1xuICAvLyBkb2Vzbid0IGV4cGVjdCBhIG5vbi1zdHJpbmcvZnVuY3Rpb24gdHlwZSBhbmQgY2FuIHRocm93IGNvbmZ1c2luZyBlcnJvcnMuXG4gIC8vIFdlIGRvbid0IHdhbnQgZXhjZXB0aW9uIGJlaGF2aW9yIHRvIGRpZmZlciBiZXR3ZWVuIGRldiBhbmQgcHJvZC5cbiAgLy8gKFJlbmRlcmluZyB3aWxsIHRocm93IHdpdGggYSBoZWxwZnVsIG1lc3NhZ2UgYW5kIGFzIHNvb24gYXMgdGhlIHR5cGUgaXNcbiAgLy8gZml4ZWQsIHRoZSBrZXkgd2FybmluZ3Mgd2lsbCBhcHBlYXIuKVxuICBpZiAodmFsaWRUeXBlKSB7XG4gICAgZm9yICh2YXIgaSA9IDI7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGFyZ3VtZW50c1tpXSwgdHlwZSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHtcbiAgICB2YWxpZGF0ZUZyYWdtZW50UHJvcHMoZWxlbWVudCk7XG4gIH0gZWxzZSB7XG4gICAgdmFsaWRhdGVQcm9wVHlwZXMoZWxlbWVudCk7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRmFjdG9yeVdpdGhWYWxpZGF0aW9uKHR5cGUpIHtcbiAgdmFyIHZhbGlkYXRlZEZhY3RvcnkgPSBjcmVhdGVFbGVtZW50V2l0aFZhbGlkYXRpb24uYmluZChudWxsLCB0eXBlKTtcbiAgdmFsaWRhdGVkRmFjdG9yeS50eXBlID0gdHlwZTtcbiAgLy8gTGVnYWN5IGhvb2s6IHJlbW92ZSBpdFxuICB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZhbGlkYXRlZEZhY3RvcnksICd0eXBlJywge1xuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG93UHJpb3JpdHlXYXJuaW5nJDEoZmFsc2UsICdGYWN0b3J5LnR5cGUgaXMgZGVwcmVjYXRlZC4gQWNjZXNzIHRoZSBjbGFzcyBkaXJlY3RseSAnICsgJ2JlZm9yZSBwYXNzaW5nIGl0IHRvIGNyZWF0ZUZhY3RvcnkuJyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAndHlwZScsIHtcbiAgICAgICAgICB2YWx1ZTogdHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gdmFsaWRhdGVkRmFjdG9yeTtcbn1cblxuZnVuY3Rpb24gY2xvbmVFbGVtZW50V2l0aFZhbGlkYXRpb24oZWxlbWVudCwgcHJvcHMsIGNoaWxkcmVuKSB7XG4gIHZhciBuZXdFbGVtZW50ID0gY2xvbmVFbGVtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIGZvciAodmFyIGkgPSAyOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFsaWRhdGVDaGlsZEtleXMoYXJndW1lbnRzW2ldLCBuZXdFbGVtZW50LnR5cGUpO1xuICB9XG4gIHZhbGlkYXRlUHJvcFR5cGVzKG5ld0VsZW1lbnQpO1xuICByZXR1cm4gbmV3RWxlbWVudDtcbn1cblxudmFyIFJlYWN0ID0ge1xuICBDaGlsZHJlbjoge1xuICAgIG1hcDogbWFwQ2hpbGRyZW4sXG4gICAgZm9yRWFjaDogZm9yRWFjaENoaWxkcmVuLFxuICAgIGNvdW50OiBjb3VudENoaWxkcmVuLFxuICAgIHRvQXJyYXk6IHRvQXJyYXksXG4gICAgb25seTogb25seUNoaWxkXG4gIH0sXG5cbiAgY3JlYXRlUmVmOiBjcmVhdGVSZWYsXG4gIENvbXBvbmVudDogQ29tcG9uZW50LFxuICBQdXJlQ29tcG9uZW50OiBQdXJlQ29tcG9uZW50LFxuXG4gIGNyZWF0ZUNvbnRleHQ6IGNyZWF0ZUNvbnRleHQsXG4gIGZvcndhcmRSZWY6IGZvcndhcmRSZWYsXG5cbiAgRnJhZ21lbnQ6IFJFQUNUX0ZSQUdNRU5UX1RZUEUsXG4gIFN0cmljdE1vZGU6IFJFQUNUX1NUUklDVF9NT0RFX1RZUEUsXG4gIHVuc3RhYmxlX0FzeW5jTW9kZTogUkVBQ1RfQVNZTkNfTU9ERV9UWVBFLFxuXG4gIGNyZWF0ZUVsZW1lbnQ6IGNyZWF0ZUVsZW1lbnRXaXRoVmFsaWRhdGlvbixcbiAgY2xvbmVFbGVtZW50OiBjbG9uZUVsZW1lbnRXaXRoVmFsaWRhdGlvbixcbiAgY3JlYXRlRmFjdG9yeTogY3JlYXRlRmFjdG9yeVdpdGhWYWxpZGF0aW9uLFxuICBpc1ZhbGlkRWxlbWVudDogaXNWYWxpZEVsZW1lbnQsXG5cbiAgdmVyc2lvbjogUmVhY3RWZXJzaW9uLFxuXG4gIF9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEOiB7XG4gICAgUmVhY3RDdXJyZW50T3duZXI6IFJlYWN0Q3VycmVudE93bmVyLFxuICAgIC8vIFVzZWQgYnkgcmVuZGVyZXJzIHRvIGF2b2lkIGJ1bmRsaW5nIG9iamVjdC1hc3NpZ24gdHdpY2UgaW4gVU1EIGJ1bmRsZXM6XG4gICAgYXNzaWduOiBfYXNzaWduXG4gIH1cbn07XG5cbntcbiAgX2Fzc2lnbihSZWFjdC5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRCwge1xuICAgIC8vIFRoZXNlIHNob3VsZCBub3QgYmUgaW5jbHVkZWQgaW4gcHJvZHVjdGlvbi5cbiAgICBSZWFjdERlYnVnQ3VycmVudEZyYW1lOiBSZWFjdERlYnVnQ3VycmVudEZyYW1lLFxuICAgIC8vIFNoaW0gZm9yIFJlYWN0IERPTSAxNi4wLjAgd2hpY2ggc3RpbGwgZGVzdHJ1Y3R1cmVkIChidXQgbm90IHVzZWQpIHRoaXMuXG4gICAgLy8gVE9ETzogcmVtb3ZlIGluIFJlYWN0IDE3LjAuXG4gICAgUmVhY3RDb21wb25lbnRUcmVlSG9vazoge31cbiAgfSk7XG59XG5cblxuXG52YXIgUmVhY3QkMiA9IE9iamVjdC5mcmVlemUoe1xuXHRkZWZhdWx0OiBSZWFjdFxufSk7XG5cbnZhciBSZWFjdCQzID0gKCBSZWFjdCQyICYmIFJlYWN0ICkgfHwgUmVhY3QkMjtcblxuLy8gVE9ETzogZGVjaWRlIG9uIHRoZSB0b3AtbGV2ZWwgZXhwb3J0IGZvcm0uXG4vLyBUaGlzIGlzIGhhY2t5IGJ1dCBtYWtlcyBpdCB3b3JrIHdpdGggYm90aCBSb2xsdXAgYW5kIEplc3QuXG52YXIgcmVhY3QgPSBSZWFjdCQzWydkZWZhdWx0J10gPyBSZWFjdCQzWydkZWZhdWx0J10gOiBSZWFjdCQzO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlYWN0O1xuICB9KSgpO1xufVxuIiwiaW1wb3J0IHtuU1FMfSBmcm9tICduYW5vLXNxbC9saWIvaW5kZXgnXG5cbmV4cG9ydCBjb25zdCBSQVRJTkdfVEFCTEUgPSAnUmF0aW5nJ1xuXG5jb25zdCByYXRpbmdUYWJsZSA9IG5TUUwoUkFUSU5HX1RBQkxFKS5tb2RlbChbXG4gIC8vIHtrZXk6ICdpZCcsIHR5cGU6ICdpbnQnLCBwcm9wczogWydwaycsICdhaSddfSxcbiAge2tleTogJ3VzZXJJZCcsIHR5cGU6ICdzdHJpbmcnLCBwcm9wczogWydpZHgnXX0sXG4gIHtrZXk6ICdtZXNzYWdlSWQnLCB0eXBlOiAnc3RyaW5nJywgcHJvcHM6IFsnaWR4J119LFxuICB7a2V5OiAncmF0aW5nJywgdHlwZTogJ2Zsb2F0J31cbl0pLmNvbmZpZyh7bW9kZTogREJfTU9ERSA/IERCX01PREUgOiAnUEVSTSd9KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbnJhdGluZ1RhYmxlLmNvbm5lY3QoKVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmF0aW5nICh1c2VySWQsIG1lc3NhZ2VJZCkge1xuICByZXR1cm4gcmF0aW5nVGFibGUucXVlcnkoJ3NlbGVjdCcsIFsncmF0aW5nJ10pXG4gICAgLndoZXJlKFtbJ3VzZXJJZCcsICc9JywgdXNlcklkXSwgJ0FORCcsIFsnbWVzc2FnZUlkJywgJz0nLCBtZXNzYWdlSWRdXSkuZXhlYygpXG59XG5cbmV4cG9ydCBkZWZhdWx0IHJhdGluZ1RhYmxlXG4iXSwic291cmNlUm9vdCI6IiJ9